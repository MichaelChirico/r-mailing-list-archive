From paradis@isem.univ-montp2.fr  Wed Nov 27 10:09:04 2002
From: paradis@isem.univ-montp2.fr (Emmanuel Paradis)
Date: mer., 25 oct. 2000 12:38:55 +0200
Subject: [Rd] par(ask=T) in termplot()
Message-ID: <3.0.32.19700101010000.00916520@162.38.183.200>

Hi,

I think it would be nice to have par(ask=T) set by default in termplot(),
like it is in plot.lm().

Best,

Emmanuel Paradis
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From nklepeis@uclink.berkeley.edu  Fri Nov  1 08:06:11 2002
From: nklepeis@uclink.berkeley.edu (nklepeis@uclink.berkeley.edu)
Date: Fri, 1 Nov 2002 09:06:11 +0100 (MET)
Subject: Inconsistent results with %in% (PR#2244)
Message-ID: <200211010806.JAA03783@pubhealth.ku.dk>

Full_Name: Neil Klepeis
Version: 1.6.0
OS: Redhat Linux 7.3
Submission from: (NULL) (165.247.212.88)


%in% does not work properly for some numeric values as shown here:
> 1.253 %in% seq(1.1,1.3,by=0.001)
[1] FALSE
> 1.252 %in% seq(1.1,1.3,by=0.001)
[1] TRUE
> 1.254 %in% seq(1.1,1.3,by=0.001)
[1] TRUE 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From nklepeis@uclink4.berkeley.edu  Fri Nov  1 19:22:09 2002
From: nklepeis@uclink4.berkeley.edu (nklepeis@uclink4.berkeley.edu)
Date: Fri, 1 Nov 2002 20:22:09 +0100 (MET)
Subject: (PR#2244)
Message-ID: <200211011922.UAA10666@pubhealth.ku.dk>

Not a bug.  Please ignore this bug report.  It was a premature entry 
after a frustrating night :).

-- 
______________________________________________________
Neil E. Klepeis, UC Berkeley, School of Public Health,
and Lawrence Berkeley National Laboratory,


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rpeng@stat.ucla.edu  Fri Nov  1 23:06:52 2002
From: rpeng@stat.ucla.edu (Roger Peng)
Date: Fri, 1 Nov 2002 15:06:52 -0800 (PST)
Subject: seemingly random "nesting of readline input" warnings
Message-ID: <Pine.GSO.4.10.10211011457530.255-100000@fisher.stat.ucla.edu>

Recently, while using R-patched and now R-1.6.1 (on RedHat Linux 7.1) I've
been getting the following warning in the course of everyday activity:

[... some R activity ...]

In addition: Warning message: 
An unusual circumstance has arisen in the nesting of readline input.
Please report using bug.report() 
>

The warning is difficult to reproduce because it seems to appear at random
times, usually after I enter about 100 or so commands into the console.

I noticed that the function which produces this warning, `pushReadline' in
src/unix/sys-std.c, was modified on October 16, 2002 in regards to bug
report PR#2165.  I can't tell if this change is the source of the warning
bit I don't ever recall seeing this warning on earlier versions.

I build R from source using the readline-devel-4.1-9 package which came
with my system.

> version
         _                
platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    6.1              
year     2002             
month    11               
day      01               
language R                


-roger
_______________________________
UCLA Department of Statistics
rpeng@stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sat Nov  2 00:35:02 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 Nov 2002 01:35:02 +0100
Subject: seemingly random "nesting of readline input" warnings
In-Reply-To: <Pine.GSO.4.10.10211011457530.255-100000@fisher.stat.ucla.edu>
References: <Pine.GSO.4.10.10211011457530.255-100000@fisher.stat.ucla.edu>
Message-ID: <x28z0coll5.fsf@biostat.ku.dk>

Roger Peng <rpeng@stat.ucla.edu> writes:

> Recently, while using R-patched and now R-1.6.1 (on RedHat Linux 7.1) I've
> been getting the following warning in the course of everyday activity:
> 
> [... some R activity ...]
> 
> In addition: Warning message: 
> An unusual circumstance has arisen in the nesting of readline input.
> Please report using bug.report() 
> >
> 
> The warning is difficult to reproduce because it seems to appear at random
> times, usually after I enter about 100 or so commands into the console.
> 
> I noticed that the function which produces this warning, `pushReadline' in
> src/unix/sys-std.c, was modified on October 16, 2002 in regards to bug
> report PR#2165.  I can't tell if this change is the source of the warning
> bit I don't ever recall seeing this warning on earlier versions.
> 
> I build R from source using the readline-devel-4.1-9 package which came
> with my system.

Hmm. We haven't heard that one before... The way this stuff is done,
there's always a risk that you end up with more pushes than pops. As
far as I remember the change, it was a pretty simple index off-by-one
thing, and clearly needed fixing on 64-bit systems, but you never know. 

If you get a bit closer to what exactly you need to do to trigger this
please let us know. It might be something involving non-local returns,
i.e. error conditions or hittin ctr-C. One thing you could do fairly
easily would be to run R with the debugger: "R -d gdb", set a
breakpoint at the warning, and tell us whether it's
ReadlineStack.current that is getting too large or perhaps
ReadlineStack.max getting zeroed by something.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rpeng@stat.ucla.edu  Sat Nov  2 02:02:55 2002
From: rpeng@stat.ucla.edu (Roger Peng)
Date: Fri, 1 Nov 2002 18:02:55 -0800 (PST)
Subject: seemingly random "nesting of readline input" warnings
In-Reply-To: <x28z0coll5.fsf@biostat.ku.dk>
Message-ID: <Pine.GSO.4.10.10211011751430.255-100000@fisher.stat.ucla.edu>

Okay, I think I can reproduce this warning:  I startup R --vanilla,
then type Ctrl-C 11 times.  On my machine (RedHat Linux 7.1, Athlon 1.2Ghz
chip) the 11th Ctrl-C produces the warning.  Again, this is R 1.6.1.

When I ran R in gdb I set a break point at line 393 of src/unix/sys-std.c.
It got triggered after the 10th Ctrl-C and when I printed ReadlineStack, I
got

Breakpoint 1, pushReadline (prompt=0x8255dd8 "> ", 
    f=0x813ed70 <readline_handler>) at sys-std.c:393
393          warning("An unusual circumstance has arisen in the nesting of
readline input. Please report using bug.report()");

(gdb) print ReadlineStack
$4 = {current = 9, max = 9, fun = {0x813ed70 <readline_handler>, 
    0x813ed70 <readline_handler>, 0x813ed70 <readline_handler>, 
    0x813ed70 <readline_handler>, 0x813ed70 <readline_handler>, 
    0x813ed70 <readline_handler>, 0x813ed70 <readline_handler>, 
    0x813ed70 <readline_handler>, 0x813ed70 <readline_handler>, 
    0x813ed70 <readline_handler>}}

I hope this helps.

-roger
_______________________________
UCLA Department of Statistics
rpeng@stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On 2 Nov 2002, Peter Dalgaard BSA wrote:

> Roger Peng <rpeng@stat.ucla.edu> writes:
> 
> > Recently, while using R-patched and now R-1.6.1 (on RedHat Linux 7.1) I've
> > been getting the following warning in the course of everyday activity:
> > 
> > [... some R activity ...]
> > 
> > In addition: Warning message: 
> > An unusual circumstance has arisen in the nesting of readline input.
> > Please report using bug.report() 
> > >
> > 
> > The warning is difficult to reproduce because it seems to appear at random
> > times, usually after I enter about 100 or so commands into the console.
> > 
> > I noticed that the function which produces this warning, `pushReadline' in
> > src/unix/sys-std.c, was modified on October 16, 2002 in regards to bug
> > report PR#2165.  I can't tell if this change is the source of the warning
> > bit I don't ever recall seeing this warning on earlier versions.
> > 
> > I build R from source using the readline-devel-4.1-9 package which came
> > with my system.
> 
> Hmm. We haven't heard that one before... The way this stuff is done,
> there's always a risk that you end up with more pushes than pops. As
> far as I remember the change, it was a pretty simple index off-by-one
> thing, and clearly needed fixing on 64-bit systems, but you never know. 
> 
> If you get a bit closer to what exactly you need to do to trigger this
> please let us know. It might be something involving non-local returns,
> i.e. error conditions or hittin ctr-C. One thing you could do fairly
> easily would be to run R with the debugger: "R -d gdb", set a
> breakpoint at the warning, and tell us whether it's
> ReadlineStack.current that is getting too large or perhaps
> ReadlineStack.max getting zeroed by something.
> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sat Nov  2 09:23:23 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 Nov 2002 10:23:23 +0100
Subject: seemingly random "nesting of readline input" warnings
In-Reply-To: <Pine.GSO.4.10.10211011751430.255-100000@fisher.stat.ucla.edu>
References: <Pine.GSO.4.10.10211011751430.255-100000@fisher.stat.ucla.edu>
Message-ID: <x24rb0nx4k.fsf@biostat.ku.dk>

Roger Peng <rpeng@stat.ucla.edu> writes:

> Okay, I think I can reproduce this warning:  I startup R --vanilla,
> then type Ctrl-C 11 times.  On my machine (RedHat Linux 7.1, Athlon 1.2Ghz
> chip) the 11th Ctrl-C produces the warning.  Again, this is R 1.6.1.
> 
> When I ran R in gdb I set a break point at line 393 of src/unix/sys-std.c.
> It got triggered after the 10th Ctrl-C and when I printed ReadlineStack, I
> got
> 
> Breakpoint 1, pushReadline (prompt=0x8255dd8 "> ", 
>     f=0x813ed70 <readline_handler>) at sys-std.c:393
> 393          warning("An unusual circumstance has arisen in the nesting of
> readline input. Please report using bug.report()");
> 
> (gdb) print ReadlineStack
> $4 = {current = 9, max = 9, fun = {0x813ed70 <readline_handler>, 
>     0x813ed70 <readline_handler>, 0x813ed70 <readline_handler>, 
>     0x813ed70 <readline_handler>, 0x813ed70 <readline_handler>, 
>     0x813ed70 <readline_handler>, 0x813ed70 <readline_handler>, 
>     0x813ed70 <readline_handler>, 0x813ed70 <readline_handler>, 
>     0x813ed70 <readline_handler>}}
> 
> I hope this helps.

Argh. Yes, the ReadlineStack.current needs to be reset to zero by
something when you break out. A pragmatic temporary fix is to increase
the maximum to be large enough that you don't bump into it this
easily.

Duuuuncan! Come and fix this!

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kyari_bundi@lycos.com  Sat Nov  2 12:59:20 2002
From: kyari_bundi@lycos.com (BUNDI KYARI)
Date: Sat, 02 Nov 2002 12:59:20
Subject: Urgent Assistance
Message-ID: <200211021159.gA2BxLxA026901@hypatia.math.ethz.ch>

FROM:BUNDI KYARI.

TEL:

E-mail: kyaribundi@netscape.net

AMSTERDAM THE NETHERLANDS.

Dear sir,                            

compliment of the day, I am BUNDI KYARI, The son of late General Kubwa Kyari of the Democratic Republic of Congo.

My father was a General in the Congolese Army. In his position (My father) with the office of the presidentcy during the regime of Laurent Kabila, he was assigned on a secret mission to source and acquire arms internationally in order to strengthen the Government forces against the rebels, which already had the support of Rwandan and Uganda Army.

Meanwhile, he was still negotiating for the purchase of the arms, he received on the 16th January 2001 news of the assassination of Laurent Kabila which force him to call off the assignment and deposited the sum of US$12.5M, Packed in a diplomatic case in a private security company in the Amsterdam, the Netherlands, though he registered the content as precious stones while the real content is (US12.5M) meant for the purchase of arms for the Congolese Army.

My father went home for the funeral of the late president, but on his arrival he was arrested, detained and tortured, unfortunately my father suffer cardiac arrest and died on the 17th of March 2001. However, on one of our numerous visits, my mother and I paid him while in prison, my father was able to reveal this secret to me and advice that i should proceed to the Netherlands to claim the money, he handed me all the relevant documents that will enable me claim the box from the security company. Already, I have made my first visit to the security company and the availability of this box have been confirmed.

On our arrival in the Netherlands few months ago, we sought for political asylum; which was granted. My mother and I are making frantic effort on the best way to handle this money. We sought advice from an attorney who advised that we must seek for a trustworthy foreign business partner whom this money could be transferred into his/her (company"s)  account  This we view as the best option because our refugee status dose not permit us to operate a bank account, hence we seek your assistance and hope you could be trusted.

I got your contact from the commercial section of the congolese embassy in Belgium.Meanwhile, I sincerely ask for your assistance to get this money through your account, Your share for assisting us will be 25% of the total sum, 5% will be use for upsetting all the expenses incurred in the course of concluding this venture and the remaining 70% that will be for me and my family. Also you stand to gain from any investment you might introduce us into after the conclusion of the transfer.

Please keep this confidential until we finalize and get this money into your account for security reasons.

This is my e-mail address you can reach me: kyaribundi@netscape.net

Thanks and GOD bless

MR, BUNDI KYARI. 




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@stat.uiowa.edu  Sat Nov  2 16:11:37 2002
From: luke@stat.uiowa.edu (Luke Tierney)
Date: Sat, 2 Nov 2002 10:11:37 -0600 (CST)
Subject: seemingly random "nesting of readline input" warnings
In-Reply-To: <x24rb0nx4k.fsf@biostat.ku.dk>
Message-ID: <Pine.LNX.4.44.0211021007340.20950-100000@nokomis2.stat.umn.edu>

On 2 Nov 2002, Peter Dalgaard BSA wrote:

> Argh. Yes, the ReadlineStack.current needs to be reset to zero by
> something when you break out. A pragmatic temporary fix is to increase
> the maximum to be large enough that you don't bump into it this
> easily.
> 
> Duuuuncan! Come and fix this!
> 

Looks like another case where our expedient but unfortunately too
crude approach of handling Control-C on UNIX-likes with longjmp is
biting us.  We really do need to bite the bullet and fix this properly.
Maybe Duncan and I can coordinate getting a handle on this.

luke

-- 
Luke Tierney
University of Iowa                  Phone:             319-335-3386
Department of Statistics and        Fax:               319-335-3017
   Actuarial Science
241 Schaeffer Hall                  email:      luke@stat.uiowa.edu
Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Nov  3 19:52:58 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 3 Nov 2002 19:52:58 +0000 (GMT)
Subject: (PR#2003) bug in SJava
In-Reply-To: <200210311542.QAA00373@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0211031923060.15468-100000@gannet.stats>

There is no function `getHome' in the R sources.

There is a function getRHOME(), but that is not part of the documented
interface (front-ends/readme).  If SJava is calling getRHOME, it needs to
be modified to just use the documented interface.

getRHOME has not been modified since 1999, BTW.

On Thu, 31 Oct 2002 grimm.heinz@rcc.ch wrote:

> This is a multi-part message in MIME format.
> --------------0E780EA27B8B71828A93900D
> Content-Type: text/plain; charset=us-ascii
> Content-Transfer-Encoding: 7bit
>
> Ok, I try to explain the problem better:
>
> getHome() uses now "GetModuleFileName()" to determine
> the R home-directory. "GetModuleFileName()" doesn't check
> the R_HOME environment setting, instead it returns the
> path of the .EXE, that started R, which is usually located in
> $R_HOME/bin. If R is invoked via Java, "GetModuleFileName()"
> returns $JDK_HOME/jre/bin instead of $R_HOME/bin and
> the function "getRHome()" returns $JDK_HOME/jre...
>
> My suggestion is just to rely on $R_HOME, instead of
> using "GetModuleFileName()", because all "xxx calls R"
> packages will have similar problems. I added in my sample
> fix the check for $RHOME, since SJava does the same,
> may be this is historical, just ignore it...
>
> Heinz Grimm

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From wex00002@uconn.edu  Sun Nov  3 22:38:21 2002
From: wex00002@uconn.edu (wex00002@uconn.edu)
Date: Sun, 3 Nov 2002 23:38:21 +0100 (MET)
Subject: Ansari-Bradley test (PR#2252)
Message-ID: <200211032238.XAA16125@pubhealth.ku.dk>

Full_Name: Wei Xu
Version: 1.5.1
OS: WindowsME
Submission from: (NULL) (63.215.238.92)


The P-value for a two.sided test is not consistent with the confidence
interval.
For example, P-value=0.1372, but the 95% CI doesn't include the H0 value(1).

> x
 [1] 0.80 0.83 1.89 1.04 1.45 1.38 1.91 1.64 0.73 1.46
> y
[1] 1.15 0.88 0.90 0.74 1.21
> ansari.test(x,y,alternative="two.sided",conf.int=TRUE,conf.level=0.95)

        Ansari-Bradley test

data:  x and y 
AB = 36, p-value = 0.1372
alternative hypothesis: true ratio of scales is not equal to 1 
95 percent confidence interval:
 1.081081 2.581081 
sample estimates:
ratio of scales 
       1.972973 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From wolfram@fischer-zim.ch  Mon Nov  4 09:19:45 2002
From: wolfram@fischer-zim.ch (wolfram@fischer-zim.ch)
Date: Mon, 4 Nov 2002 10:19:45 +0100 (MET)
Subject: [R] CTRL-C suspends echo of shell (R versions 1.6.0 and 1.6.1) (PR#2253)
Message-ID: <200211040919.KAA18590@pubhealth.ku.dk>

Problem:
- Shell does not echo anymore 
  after using CTRL-C (to interrupt calculations)
  once during a R session.

Procedure:
- [start session]  R
- [input]          CTRL-C
- [end session]    q()


Some details:
- `stty` before: speed 38400 baud; line = 0; lnext = <undef>;

- `stty` after: speed 38400 baud; line = 0; lnext = <undef>; min = 1; time = 0;
    -icrnl
    -icanon -echo

I have seen the problem in versions 1.6.0 and 1.6.1, but not in 1.5.1
which I am running on SuSE Linux 7.3. The shell used is bash-2.05.0(1).


Wolfram Fischer

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Nov  4 09:58:53 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Nov 2002 10:58:53 +0100
Subject: [R] CTRL-C suspends echo of shell (R versions 1.6.0 and 1.6.1) (PR#2253)
In-Reply-To: <200211040919.KAA18590@pubhealth.ku.dk>
References: <200211040919.KAA18590@pubhealth.ku.dk>
Message-ID: <x2y989bqqq.fsf@biostat.ku.dk>

wolfram@fischer-zim.ch writes:

> Problem:
> - Shell does not echo anymore 
>   after using CTRL-C (to interrupt calculations)
>   once during a R session.
> 
> Procedure:
> - [start session]  R
> - [input]          CTRL-C
> - [end session]    q()
> 
> 
> Some details:
> - `stty` before: speed 38400 baud; line = 0; lnext = <undef>;
> 
> - `stty` after: speed 38400 baud; line = 0; lnext = <undef>; min = 1; time = 0;
>     -icrnl
>     -icanon -echo
> 
> I have seen the problem in versions 1.6.0 and 1.6.1, but not in 1.5.1
> which I am running on SuSE Linux 7.3. The shell used is bash-2.05.0(1).

Seen here too, but I actually thought it took more to provoke it.
Blind-enter "stty sane" to revert.

(Might this be related to the readline stack issue?)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From B.Rowlingson@lancaster.ac.uk  Mon Nov  4 13:03:32 2002
From: B.Rowlingson@lancaster.ac.uk (Barry Rowlingson)
Date: Mon, 04 Nov 2002 13:03:32 +0000
Subject: longjmp - was: seemingly random "nesting of readline input" warnings
References: <Pine.LNX.4.44.0211021007340.20950-100000@nokomis2.stat.umn.edu>
Message-ID: <3DC67024.1020203@lancaster.ac.uk>

Luke Tierney wrote:

> Looks like another case where our expedient but unfortunately too
> crude approach of handling Control-C on UNIX-likes with longjmp is
> biting us.  We really do need to bite the bullet and fix this properly.
> Maybe Duncan and I can coordinate getting a handle on this.

  please do! It still affects Mosix systems, since the signal handling 
in longjmp causes a system call on the home machine. Mosix tries to 
migrate processes to less-loaded machines, but R's constant setjmp'ing 
means the processes get stuck on the machines where they are started from.

  When I install a new version of R on our mosix cluster, I also compile 
a binary with setjmp/longjmp defined as the versions that do not 
preserve signal state. This produces a binary that migrates better under 
Mosix but has broken Ctrl-C handling. I then alter the R script so that 
my modified binary runs if and only if you do "R BATCH". Seems a fair 
solution at the moment.

  Barry Rowlingson
  Maths and Stats
  Lancaster University

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gregory_r_warnes@groton.pfizer.com  Mon Nov  4 13:41:03 2002
From: gregory_r_warnes@groton.pfizer.com (Warnes, Gregory R)
Date: Mon, 4 Nov 2002 08:41:03 -0500
Subject: longjmp - was: seemingly random "nesting of readline input" w
 arnings
Message-ID: <D7A3CFD7825BD6119B880002A58F06C20149D189@groexmb02.pfizer.com>

Barry,

Would you mind providing the necessary patch for this behavior?

Thanks,

Greg

> -----Original Message-----
> From: Barry Rowlingson [mailto:B.Rowlingson@lancaster.ac.uk]
> Sent: Monday, November 04, 2002 8:04 AM
> To: r-devel@stat.math.ethz.ch
> Subject: Re: longjmp - was: seemingly random "nesting of 
> readline input"
> warnings
> 
> 
> Luke Tierney wrote:
> 
> > Looks like another case where our expedient but unfortunately too
> > crude approach of handling Control-C on UNIX-likes with longjmp is
> > biting us.  We really do need to bite the bullet and fix 
> this properly.
> > Maybe Duncan and I can coordinate getting a handle on this.
> 
>   please do! It still affects Mosix systems, since the signal 
> handling 
> in longjmp causes a system call on the home machine. Mosix tries to 
> migrate processes to less-loaded machines, but R's constant 
> setjmp'ing 
> means the processes get stuck on the machines where they are 
> started from.
> 
>   When I install a new version of R on our mosix cluster, I 
> also compile 
> a binary with setjmp/longjmp defined as the versions that do not 
> preserve signal state. This produces a binary that migrates 
> better under 
> Mosix but has broken Ctrl-C handling. I then alter the R 
> script so that 
> my modified binary runs if and only if you do "R BATCH". Seems a fair 
> solution at the moment.
> 
>   Barry Rowlingson
>   Maths and Stats
>   Lancaster University
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From B.Rowlingson@lancaster.ac.uk  Mon Nov  4 13:47:58 2002
From: B.Rowlingson@lancaster.ac.uk (Barry Rowlingson)
Date: Mon, 04 Nov 2002 13:47:58 +0000
Subject: longjmp
References: <D7A3CFD7825BD6119B880002A58F06C20149D189@groexmb02.pfizer.com>
Message-ID: <3DC67A8E.5080700@lancaster.ac.uk>

Warnes, Gregory R wrote:

> Would you mind providing the necessary patch for this behavior?

  Here's the patch, in 'how-to-do-it' format:

1. Get, compile, check, install R as usual.

2. Edit $RSRC/src/include/Defn.h to make sure that the following are 
defined:

# define JMP_BUF jmp_buf
# define SETJMP(x) setjmp(x)
# define LONGJMP(x,i) longjmp(x,i)

  and make sure that the 'sig-' versions are undefined. There's probably 
a way of doing it via configure, but its easy enough to tweak this way.

3. Compile, check. Copy generated binary to $RHOME/bin/R-jmp.bin

4. Edit one line in $RHOME/bin/BATCH so it calls R-jmp.bin instead of 
R.bin.

  Voila, one Mosix-enhanced binary that will only react to the first 
Ctrl-C you throw at it, ignoring subsequent ones. However this isnt 
generally a problem when running with R BATCH since its a batch job and 
there's nobody around to throw Ctrl-Cs at it. However, other signal 
handling may be broken, so dont try to control your R BATCH job by 
sending signals to it.

  Only use this if you know what you are doing, and dont expect any help 
from me or any of the R developers if this breaks stuff - check any 
putative bugs with a standard-compiled version first.

Barry Rowlingson
Maths and Stats
Lancaster University, UK


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From B.Rowlingson@lancaster.ac.uk  Mon Nov  4 15:46:27 2002
From: B.Rowlingson@lancaster.ac.uk (Barry Rowlingson)
Date: Mon, 04 Nov 2002 15:46:27 +0000
Subject: R shell integration.
References: <D7A3CFD7825BD6119B880002A58F06C20149D189@groexmb02.pfizer.com> <3DC67A8E.5080700@lancaster.ac.uk>
Message-ID: <3DC69653.8020209@lancaster.ac.uk>


Wouldn't it be nice to be able to do this:

  ./analyse.R -gamma=2 <data.in >data.out

where analyse.R looks like this:

#!/usr/bin/R

gamma <- getopt("gamma")
mydata <- scan(...)

etc?  In other words, be able to write executable R scripts?

  Current problems with this are:

* linux will only execute binaries from #! scripts, so a C-code wrapper 
is needed

* R can only take commands from standard input, so I cant see how to get 
it to read commands _and_ data from standard input. Could a new option 
be added to read commands from a file given on the command line?

* nobody has written a 'getopt' function to format the results of the 
commandArgs() function :)

  - I've already written a (four-line) C wrapper to do the first part, 
and it is an interesting feeling to run R with "./runme.R", but the 
second problem is slightly trickier.

  Is this worth putting any effort into, or did this weekend's fireworks 
burn my brain too much?

Barry


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From mckay@suna.gmr.com  Mon Nov  4 17:57:10 2002
From: mckay@suna.gmr.com (Neil McKay MD)
Date: Mon, 4 Nov 2 12:57:10 EST
Subject: R shell integration.
In-Reply-To: <3DC69653.8020209@lancaster.ac.uk>; from "Barry Rowlingson" at Nov 4, 102 11:37 am
Message-ID: <200211041757.gA4HvAV25802@math.ma.gmr.com>

Barry Rowlinson writes:

> 
> 
> Wouldn't it be nice to be able to do this:
> 
>   ./analyse.R -gamma=2 <data.in >data.out
> 
> where analyse.R looks like this:
> 
> #!/usr/bin/R
> 
> gamma <- getopt("gamma")
> mydata <- scan(...)
> 
> etc?  In other words, be able to write executable R scripts?
> 

I have a patch for R that does exactly this. (Latest version's
for R 1.5.0; haven't upgraded to 1.6 yet.) It turns out that it
only requires a few minor changes to R, plus an additional 100-some
lines of code. It allows me to write things like:

	#!/usr/local/lib/R/bin/R.bin --script

	cat("Hello world!\n")


If anyone's interested in the patches, I'll upgrade them to R 1.6
(which I should do anyway) and give them to you. It would be nice
to have these patches pre-applied to the R sources so I don't have
to maintain them myself. (Hint, hint.)

-- 
Neil D. McKay, Mail Code 480-106-359    Phone: (586)986-1470 (GM:8-226-1470)
Manufacturing Systems Research Lab      FAX:   (586)986-0574 (GM:8-226-0574)
GM Research & Development Center        Internet e-mail: mckay@gmr.com
30500 Mound Road
Warren, Mich. 48090

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From duncan@research.bell-labs.com  Mon Nov  4 18:54:47 2002
From: duncan@research.bell-labs.com (Duncan Temple Lang)
Date: Mon, 4 Nov 2002 13:54:47 -0500
Subject: R shell integration.
In-Reply-To: <200211041757.gA4HvAV25802@math.ma.gmr.com>; from jz0vs8@math.ma.gmr.com on Mon, Nov 04, 2002 at 12:57:10PM -0500
References: <3DC69653.8020209@lancaster.ac.uk> <200211041757.gA4HvAV25802@math.ma.gmr.com>
Message-ID: <20021104135447.F25720@jessie.research.bell-labs.com>

Hi Neil.

I was just thinking about this in the last few days. It might well be
nice to have this and encourage people to think of R as a regular
scripting language as well as an interactive session language. (We
also would want to try to streamline the startup time which is
gradually becoming possible.)

If you send me what you currently have for 1.5.0, I'd be happy to see
if we might include them in R or find a way to provide them as an
optional add-on.  Or if you want to update them for 1.6.1, that would
be great too and save me the trouble.

 D.

Neil McKay MD wrote:
> Barry Rowlinson writes:
> 
> > 
> > 
> > Wouldn't it be nice to be able to do this:
> > 
> >   ./analyse.R -gamma=2 <data.in >data.out
> > 
> > where analyse.R looks like this:
> > 
> > #!/usr/bin/R
> > 
> > gamma <- getopt("gamma")
> > mydata <- scan(...)
> > 
> > etc?  In other words, be able to write executable R scripts?
> > 
> 
> I have a patch for R that does exactly this. (Latest version's
> for R 1.5.0; haven't upgraded to 1.6 yet.) It turns out that it
> only requires a few minor changes to R, plus an additional 100-some
> lines of code. It allows me to write things like:
> 
> 	#!/usr/local/lib/R/bin/R.bin --script
> 
> 	cat("Hello world!\n")
> 
> 
> If anyone's interested in the patches, I'll upgrade them to R 1.6
> (which I should do anyway) and give them to you. It would be nice
> to have these patches pre-applied to the R sources so I don't have
> to maintain them myself. (Hint, hint.)
> 
> -- 
> Neil D. McKay, Mail Code 480-106-359    Phone: (586)986-1470 (GM:8-226-1470)
> Manufacturing Systems Research Lab      FAX:   (586)986-0574 (GM:8-226-0574)
> GM Research & Development Center        Internet e-mail: mckay@gmr.com
> 30500 Mound Road
> Warren, Mich. 48090
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
_______________________________________________________________

Duncan Temple Lang                duncan@research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From duncan@research.bell-labs.com  Mon Nov  4 20:45:13 2002
From: duncan@research.bell-labs.com (Duncan Temple Lang)
Date: Mon, 4 Nov 2002 15:45:13 -0500
Subject: seemingly random "nesting of readline input" warnings
In-Reply-To: <Pine.LNX.4.44.0211021007340.20950-100000@nokomis2.stat.umn.edu>; from luke@stat.uiowa.edu on Sat, Nov 02, 2002 at 10:11:37AM -0600
References: <x24rb0nx4k.fsf@biostat.ku.dk> <Pine.LNX.4.44.0211021007340.20950-100000@nokomis2.stat.umn.edu>
Message-ID: <20021104154512.G25720@jessie.research.bell-labs.com>

Luke Tierney wrote:
> On 2 Nov 2002, Peter Dalgaard BSA wrote:
> 
> > Argh. Yes, the ReadlineStack.current needs to be reset to zero by
> > something when you break out. A pragmatic temporary fix is to increase
> > the maximum to be large enough that you don't bump into it this
> > easily.
> > 
> > Duuuuncan! Come and fix this!
> > 

Done using a local signal handler that pops the readline stack and
then calls the regular handler. This should work for pretty much all
the cases of interest. There are issues with the very unusual cases.

Fix committed to R-devel. (Do we want it also on R-patches?)

> 
> Looks like another case where our expedient but unfortunately too
> crude approach of handling Control-C on UNIX-likes with longjmp is
> biting us.  We really do need to bite the bullet and fix this properly.
> Maybe Duncan and I can coordinate getting a handle on this.

Yes, indeed.

> 
> luke
> 
> -- 
> Luke Tierney
> University of Iowa                  Phone:             319-335-3386
> Department of Statistics and        Fax:               319-335-3017
>    Actuarial Science
> 241 Schaeffer Hall                  email:      luke@stat.uiowa.edu
> Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
_______________________________________________________________

Duncan Temple Lang                duncan@research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Nov  4 21:45:10 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Nov 2002 22:45:10 +0100
Subject: seemingly random "nesting of readline input" warnings
In-Reply-To: <20021104154512.G25720@jessie.research.bell-labs.com>
References: <x24rb0nx4k.fsf@biostat.ku.dk>
 <Pine.LNX.4.44.0211021007340.20950-100000@nokomis2.stat.umn.edu>
 <20021104154512.G25720@jessie.research.bell-labs.com>
Message-ID: <x2r8e157rt.fsf@biostat.ku.dk>

Duncan Temple Lang <duncan@research.bell-labs.com> writes:

> Luke Tierney wrote:
> > On 2 Nov 2002, Peter Dalgaard BSA wrote:
> > 
> > > Argh. Yes, the ReadlineStack.current needs to be reset to zero by
> > > something when you break out. A pragmatic temporary fix is to increase
> > > the maximum to be large enough that you don't bump into it this
> > > easily.
> > > 
> > > Duuuuncan! Come and fix this!
> > > 
> 
> Done using a local signal handler that pops the readline stack and
> then calls the regular handler. This should work for pretty much all
> the cases of interest. There are issues with the very unusual cases.
> 
> Fix committed to R-devel. (Do we want it also on R-patches?)

Eventually, provided it works. Let it ferment in R-devel for a
while till we're sure. Call me paranoid...

Btw, did this fix the noecho-tty-after-exit problem as well?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pchoquet@mat.ulaval.ca  Mon Nov  4 19:03:42 2002
From: pchoquet@mat.ulaval.ca (pchoquet@mat.ulaval.ca)
Date: Mon, 4 Nov 2002 20:03:42 +0100 (MET)
Subject: arima.sim (PR#2256)
Message-ID: <200211041903.UAA26040@pubhealth.ku.dk>

This is a multi-part message in MIME format.

------=_NextPart_000_0016_01C2840A.D3C68F60
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit

Hi,

when just simulating MA(1) series with

arima.sim(100, model=list( ma=0.8 ))

(in the ts package), I get sample ACF and  PACF like I had theta_1 < 0


for example, with acf(series[,i], 20, "correlation") or "partial",
I get : (see acf_R.emf)

and those should look like : (see ma1.JPG)

but they look more like : (see ma1wr.JPG)

This is not an exception and S-PLUS did not appear to do that.
And when I enter a theta_1 < 0, it gives results like I entered a theta_1 >
0.

I have R v1.5.1 ,S-PLUS v6.1


Philippe Choquette

------=_NextPart_000_0016_01C2840A.D3C68F60
Content-Type: application/x-zip-compressed;
	name="graph.zip"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
	filename="graph.zip"

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

------=_NextPart_000_0016_01C2840A.D3C68F60--


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Nov  5 13:21:39 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 5 Nov 2002 13:21:39 +0000 (GMT)
Subject: arima.sim (PR#2256)
In-Reply-To: <200211041903.UAA26040@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0211051319170.9168-100000@gannet.stats>

S-PLUS has an unusual parametrization.

See ?arima for that used by R.

Working as documented is not a bug in R!

On Mon, 4 Nov 2002 pchoquet@mat.ulaval.ca wrote:

> Hi,
>
> when just simulating MA(1) series with
>
> arima.sim(100, model=list( ma=0.8 ))
>
> (in the ts package), I get sample ACF and  PACF like I had theta_1 < 0
>
>
> for example, with acf(series[,i], 20, "correlation") or "partial",
> I get : (see acf_R.emf)
>
> and those should look like : (see ma1.JPG)
>
> but they look more like : (see ma1wr.JPG)
>
> This is not an exception and S-PLUS did not appear to do that.
> And when I enter a theta_1 < 0, it gives results like I entered a theta_1 >
> 0.
>
> I have R v1.5.1 ,S-PLUS v6.1

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From stvjc@channing.harvard.edu  Tue Nov  5 13:31:20 2002
From: stvjc@channing.harvard.edu (Vincent J. Carey, Jr.)
Date: Tue, 5 Nov 2002 08:31:20 -0500 (EST)
Subject: active pdf/annotated visualization RFC
Message-ID: <200211051331.IAA08040@falmouth.bwh.harvard.edu>


How can R users take advantage of the "active PDF" paradigm
for annotation of statistical graphics?  The basic objective
is to take a small number of locations on a graph and
hyperlink them -- add persistent information to the pdf
rendering of the graph so that when the user clicks
on the location, a browser is (started if necessary and) pointed
to a URL specified by the persistent information.

One possibility is to generate pdf graphical documents with the
existing PDF driver in R and use external software to introduce
active links.  We don't know at present what external software
would be useful for this.

Another possibility is to establish a "text" like function for
use with the pdf driver that allows the user to give vectors
of x and y coordinates and a vector of metadata to be bound to the
coordinates as active link targets.

--

This is a request for advice/comments/plans related to
annotated visualizations created with R but exportable to
non-R users.  Other graphical formats and
languages not mentioned here may be relevant and comments
to this effect are welcome.

-- 
---
Vince Carey, PhD
Ass't Prof Med (Biostatistics)
Harvard Medical School
Channing Laboratory - ph 6175252265 fa 6177311541 cell 8572126768
181 Longwood Ave Boston MA 02115 USA

stvjc@channing.harvard.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From B.Rowlingson@lancaster.ac.uk  Tue Nov  5 13:47:50 2002
From: B.Rowlingson@lancaster.ac.uk (Barry Rowlingson)
Date: Tue, 05 Nov 2002 13:47:50 +0000
Subject: active pdf/annotated visualization RFC
References: <200211051331.IAA08040@falmouth.bwh.harvard.edu>
Message-ID: <3DC7CC06.3010105@lancaster.ac.uk>

Vincent J. Carey, Jr. wrote:
> The basic objective
> is to take a small number of locations on a graph and
> hyperlink them -- add persistent information to the pdf
> rendering of the graph so that when the user clicks
> on the location, a browser is (started if necessary and) pointed
> to a URL specified by the persistent information.
>

  I'd save the graphic as a PNG and then use Gimp's Imagemap function to 
  define hyperlink areas on the image. Then Gimp writes out a chunk of 
HTML that you include in a web page.

  Imagemaps are the standard way of making parts of an image clickable, 
and are supported by all graphical browsers, and do not require 
proprietary PDF format documents.

  Here's a sample that displays plot.png and defines a circle that when 
clicked on takes you to 'data.html':

<IMG SRC="plot.png" WIDTH=505 HEIGHT=664 BORDER=0 USEMAP="#map">
<MAP NAME="map">
<AREA SHAPE="CIRCLE" COORDS="67,358,8" HREF="data.html">
</MAP>

  How can we integrate this with R? I guess that HREF's could be added 
to plot commands:

link[1] <- "data1.html" ; link[2] <- "data2.html" ; etc etc

plot(1:10,1:10,href=links)
text(5,5,"Click here for info",href="click.html")

  and then there would be a function that saves a graphic image (PNG 
file) and an HTML MAP specification.

  Blue sky thinking today.

Baz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From wolfram@fischer-zim.ch  Tue Nov  5 14:37:31 2002
From: wolfram@fischer-zim.ch (wolfram@fischer-zim.ch)
Date: Tue, 5 Nov 2002 15:37:31 +0100 (MET)
Subject: [R] grid(): defaults of nx and ny do not correspond with axis() (PR#2259)
Message-ID: <200211051437.PAA05167@pubhealth.ku.dk>

Problem:
    When tick marks are set by axis(), the default grid() does not always
    correspond with the tick marks, although the manual of grid() says:
    nx,ny: ... When `NULL', as per default, the grid aligns with the
           tick marks on the corresponding axis, when `NA', no grid
           lines are drawn in the corresponding direction.


Example:
    m <- 200; n <- 10; i <- 40
    plot( 1:n, sample( 1:m, n, T ), type='b', yaxt='n' )
    axis( side=2, at = seq( 0, m, i ), col='blue' )
    grid( col='red', lty=2 )


Wolfram Fischer

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.murrell@auckland.ac.nz  Wed Nov  6 02:01:59 2002
From: p.murrell@auckland.ac.nz (Paul Murrell)
Date: Wed, 06 Nov 2002 15:01:59 +1300
Subject: active pdf/annotated visualization RFC
References: <200211051331.IAA08040@falmouth.bwh.harvard.edu>
Message-ID: <3DC87817.21B6C5AA@stat.auckland.ac.nz>

Hi

In terms of related plans:  over the (southern) summer I plan to have a
student take a look at producing SVG output from R.  There are many
possibilities for embedding metadata within such output.  

You may want to talk to Naras (Balasubramanian Narasimhan
naras@stat.stanford.edu) who has worked on the SVG stuff a bit already
and has thought a bit about how to include the metadata.

Paul


"Vincent J. Carey, Jr." wrote:
> 
> How can R users take advantage of the "active PDF" paradigm
> for annotation of statistical graphics?  The basic objective
> is to take a small number of locations on a graph and
> hyperlink them -- add persistent information to the pdf
> rendering of the graph so that when the user clicks
> on the location, a browser is (started if necessary and) pointed
> to a URL specified by the persistent information.
> 
> One possibility is to generate pdf graphical documents with the
> existing PDF driver in R and use external software to introduce
> active links.  We don't know at present what external software
> would be useful for this.
> 
> Another possibility is to establish a "text" like function for
> use with the pdf driver that allows the user to give vectors
> of x and y coordinates and a vector of metadata to be bound to the
> coordinates as active link targets.
> 
> --
> 
> This is a request for advice/comments/plans related to
> annotated visualizations created with R but exportable to
> non-R users.  Other graphical formats and
> languages not mentioned here may be relevant and comments
> to this effect are welcome.
> 
> --
> ---
> Vince Carey, PhD
> Ass't Prof Med (Biostatistics)
> Harvard Medical School
> Channing Laboratory - ph 6175252265 fa 6177311541 cell 8572126768
> 181 Longwood Ave Boston MA 02115 USA
> 
> stvjc@channing.harvard.edu
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Dr Paul Murrell
Department of Statistics
The University of Auckland
Private Bag 92019
Auckland
New Zealand
64 9 3737599 x5392
paul@stat.auckland.ac.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Torsten.Hothorn@rzmail.uni-erlangen.de  Wed Nov  6 07:55:16 2002
From: Torsten.Hothorn@rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Wed, 6 Nov 2002 08:55:16 +0100 (MET)
Subject: Ansari-Bradley test (PR#2252)
In-Reply-To: <200211032238.XAA16125@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.21.0211060854300.28834-100000@artemis>



> Full_Name: Wei Xu
> Version: 1.5.1
> OS: WindowsME
> Submission from: (NULL) (63.215.238.92)
> 
> 
> The P-value for a two.sided test is not consistent with the confidence
> interval.
> For example, P-value=0.1372, but the 95% CI doesn't include the H0 value(1).
> 
> > x
>  [1] 0.80 0.83 1.89 1.04 1.45 1.38 1.91 1.64 0.73 1.46
> > y
> [1] 1.15 0.88 0.90 0.74 1.21
> > ansari.test(x,y,alternative="two.sided",conf.int=TRUE,conf.level=0.95)
> 
>         Ansari-Bradley test
> 
> data:  x and y 
> AB = 36, p-value = 0.1372
> alternative hypothesis: true ratio of scales is not equal to 1 
> 95 percent confidence interval:
>  1.081081 2.581081 
> sample estimates:
> ratio of scales 
>        1.972973 
> 

First: sorry for the delay but I was not able to solve this until now. 

Second: well, it is both a bug and a statistical problem, 
`ansari.test' should know about (a version that does is
attached). 

The truth is that x and y are assumed to be "appropriately centered" as
Bauer (1972) states (see the man page for the reference). The model is Y ~
G and X ~ F with

G(x) = F(x / s) (or the other way round ...)

without modelling the "shift". And your example reads

R> x <- c(0.80, 0.83, 1.89, 1.04, 1.45, 1.38, 1.91, 1.64, 0.73, 1.46)
R> y <- c(1.15, 0.88, 0.90, 0.74, 1.21)
R> summary(x)
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
 0.7300  0.8825  1.4150  1.3130  1.5950  1.9100 
R> summary(y)
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
  0.740   0.880   0.900   0.976   1.150   1.210 

so x seems to be larger on average. I think this corresponds to the
Behrens-Fisher problem in some way but I'm not aware of any literature...
The confidence set cannot be computed by inverting the test for your
(raw) data but currently `ansari.test' forces the computation be using 
the extreme values of the possible ratios (which should at least give a
warning).

Now (with ansari.test as attached)

R> print(ansari.test(x-mean(x),y-mean(y), conf.int=TRUE))

        Ansari-Bradley test

data:  x - mean(x) and y - mean(y) 
AB = 37, p-value = 0.2171
alternative hypothesis: true ratio of scales is not equal to 1 
95 percent confidence interval:
 0.6282051 6.0729167 
sample estimates:
ratio of scales 
       2.468075 

is consistent (using the median can cause problems with ties). Using the
mean seems to be ok (I just simulated some situations, I can give you
details if you like).

best,

Torsten

*************************************************************************

ansari.test <- function(x, ...) UseMethod("ansari.test")

# altered with respect to bug report 2252
# and some additional improvements

ansari.test.default <-
function(x, y, alternative = c("two.sided", "less", "greater"),
         exact = NULL, conf.int = FALSE, conf.level = 0.95, ...) 
{
    alternative <- match.arg(alternative)
    if(conf.int) {
        if(!((length(conf.level) == 1)
             && is.finite(conf.level)
             && (conf.level > 0)
             && (conf.level < 1)))
            stop("conf.level must be a single number between 0 and 1")
    }
    DNAME <- paste(deparse(substitute(x)), "and", deparse(substitute(y)))

    x <- x[complete.cases(x)]
    y <- y[complete.cases(y)]
    m <- length(x)
    if(m < 1)
        stop("not enough x observations")
    n <- length(y)
    if(n < 1)
        stop("not enough y observations")
    N <- m + n

    r <- rank(c(x, y))
    STATISTIC <- sum(pmin(r, N - r + 1)[seq(along = x)])
    TIES <- (length(r) != length(unique(r)))

    if(is.null(exact))
        exact <- ((m < 50) && (n < 50))

    if(exact && !TIES) {
        pansari <- function(q, m, n) {
            .C("pansari",
               as.integer(length(q)),
               p = as.double(q),
               as.integer(m),
               as.integer(n),
               PACKAGE = "ctest")$p
        }
        PVAL <-
            switch(alternative,
                   two.sided = {
                       if (STATISTIC > ((m + 1)^2 %/% 4
                                        + ((m * n) %/% 2) / 2))
                           p <- 1 - pansari(STATISTIC - 1, m, n)
                       else
                           p <- pansari(STATISTIC, m, n)
                       min(2 * p, 1)
                   },
                   less = 1 - pansari(STATISTIC - 1, m, n),
                   greater = pansari(STATISTIC, m, n))
        if (conf.int) {
            qansari <- function(p, m, n) {
                .C("qansari",
                   as.integer(length(p)),
                   q = as.double(p), 
                   as.integer(m),
                   as.integer(n),
                   PACKAGE = "ctest")$q
            }
            alpha <- 1 - conf.level
            x <- sort(x)
            y <- sort(y)
            ab <- function(sig) {
                rab <- rank(c(x/sig, y))
                sum(pmin(rab, N - rab + 1)[seq(along = x)])
            }
            ratio <- outer(x,y,"/")
            aratio <- ratio[ratio >= 0]
            sigma <- sort(aratio)

            cci <- function(alpha) {
              u <- absigma - qansari(alpha/2,  m, n) 
              l <- absigma - qansari(1 - alpha/2, m, n) 
              # check if the statistic exceeds both quantiles first
              uci <- NULL
              lci <- NULL                    
              if(length(u[u >= 0]) == 0) {
                  uci <- sigma[1]
                  warning("samples differ in location: confidence set maybe wrong")
              } 
              if (length(l[l > 0]) == 0) {
                  lci <- sigma[length(sigma)]
                  warning("samples differ in location: confidence set maybe wrong")
              }
              if (is.null(uci)) {
                  u[u < 0] <- NA
                  uci <- min(sigma[which(u == min(u, na.rm=TRUE))])
              }
              if (is.null(lci)) {
                  l[l <= 0] <- NA
                  lci <- max(sigma[which(l == min(l, na.rm=TRUE))])
              }
              # the process of the statistics does not need to be monotone
              # in sigma: check this and interchange quantiles.
              if (uci > lci) {
                  l <- absigma - qansari(alpha/2,  m, n)
                  u <- absigma - qansari(1 - alpha/2, m, n)
                  u[u < 0] <- NA
                  uci <- min(sigma[which(u == min(u, na.rm=TRUE))])
                  l[l <= 0] <- NA
                  lci <- max(sigma[which(l == min(l, na.rm=TRUE))])
               }
               c(uci, lci)
            }

            cint <- if(length(sigma) < 1) {
                warning("Cannot compute confidence interval")
                c(NA, NA)
            }
            else {
                # compute statistics directly: computing the steps is not
                # faster
                absigma <- sapply(sigma + c(diff(sigma)/2, sigma[length(sigma)]*1.01), ab)
                switch(alternative, two.sided = {
                    cci(alpha)
                }, greater= {
                    c(cci(alpha*2)[1], Inf)
                }, less= {
                    c(0, cci(alpha*2)[2])
                })
            }
            attr(cint, "conf.level") <- conf.level
            u <- absigma - qansari(0.5, m, n)
            sgr <- sigma[u <= 0]
            if (length(sgr) == 0) sgr <- NA
            else sgr <- max(sgr)
            sle <- sigma[u > 0]
            if (length(sle) == 0) sle <- NA
            else sle <- min(sle)
            ESTIMATE <- mean(c(sle, sgr))
        }
    }
    else {
        EVEN <- ((N %% 2) == 0)
        normalize <- function(s, r, TIES, m=length(x), n=length(y)) {
            z <- if(EVEN)
                s - m * (N + 2)/4
            else
                s - m * (N + 1)^2/(4 * N)
            if (!TIES) {
                SIGMA <- if(EVEN) 
                    sqrt((m * n * (N + 2) * (N - 2))/(48 * (N - 1)))
                else
                    sqrt((m * n * (N + 1) * (3 + N^2))/(48 * N^2))
            }
            else {
                r <- rle(sort(pmin(r, N - r + 1)))
                SIGMA <- if(EVEN) 
                    sqrt(m * n
                         * (16 * sum(r$l * r$v^2) - N * (N + 2)^2)
                         / (16 * N * (N - 1)))
                else
                    sqrt(m * n
                         * (16 * N * sum(r$l * r$v^2) - (N + 1)^4)
                         / (16 * N^2 * (N - 1)))
            }
            z / SIGMA
        }
        p <- pnorm(normalize(STATISTIC, r, TIES))
        PVAL <- switch(alternative,
                       two.sided = 2 * min(p, 1 - p),
                       less = 1 - p,
                       greater = p)
    
        if(conf.int && !exact) {
            alpha <- 1 - conf.level
            ab <- function(sig, zq) {
                r <- rank(c(x / sig, y))
                s <- sum(pmin(r, N -r + 1)[seq(along = x)])
                TIES <- (length(r) != length(unique(r)))
                normalize(s, r, TIES, length(x), length(y)) - zq
            }
            ## use uniroot here
            ## compute the range of sigma first 
            srangepos <- NULL
            srangeneg <- NULL
            if (any(x[x > 0]) && any(y[y > 0]))
                srangepos <- c(min(x[x>0], na.rm=TRUE)/max(y[y>0], na.rm=TRUE), 
                            max(x[x>0], na.rm=TRUE)/min(y[y>0], na.rm=TRUE))
            if (any(x[x <= 0]) && any(y[y < 0]))
                srangeneg <- c(min(x[x<=0], na.rm=TRUE)/max(y[y<0], na.rm=TRUE), 
                            max(x[x<=0], na.rm=TRUE)/min(y[y<0], na.rm=TRUE))
            if (any(is.infinite(c(srangepos, srangeneg)))) {
                warning("cannot compute asymptotic confidence intervals or estimator")
                conf.int <- FALSE
            } else {
                ccia <- function(alpha) {
                    # check if the statistic exceeds both quantiles first
                    statu <- ab(srange[1], zq=qnorm(alpha/2))
                    statl <- ab(srange[2], zq=qnorm(alpha/2, lower=FALSE))
                    if (statu > 0) {
                        u <- srange[1]
                        warning("samples differ in location: confidence set maybe wrong")
                    } else
                        u <- uniroot(ab, srange, tol=1e-4, zq=qnorm(alpha/2))$root
                    if (statl < 0) {
                        l <- srange[2]
                        warning("samples differ in location: confidence set maybe wrong")
                    } else 
                        l <- uniroot(ab, srange, tol=1e-4, zq=qnorm(alpha/2, lower=FALSE))$root
                    # the process of the statistics does not need to be
                    # monotone: sort is ok here
                    sort(c(u, l))
                }
                srange <- range(c(srangepos, srangeneg), na.rm=FALSE)
                cint <- switch(alternative, two.sided = {
                    ccia(alpha)
                }, greater= {
                    c(ccia(alpha*2)[1], Inf)
                }, less= {
                    c(0, ccia(alpha*2)[2])
                })
                attr(cint, "conf.level") <- conf.level
                # check if the statistic exceeds both quantiles first
                statu <- ab(srange[1], zq=0)
                statl <- ab(srange[2], zq=0)
                if (statu > 0 || statl < 0) {
                    ESTIMATE <- NA
                    warning("cannot compute estimate")
                } else
                    ESTIMATE <- uniroot(ab, srange, tol=1e-4, zq=0)$root
            }
        }
        if(exact && TIES) {
            warning("Cannot compute exact p-value with ties")
            if(conf.int)
                warning(paste("Cannot compute exact confidence",
                              "intervals with ties"))
        }
    }
    
    names(STATISTIC) <- "AB"
    RVAL <- list(statistic = STATISTIC,
                 p.value = PVAL,
                 null.value = c("ratio of scales" = 1),
                 alternative = alternative,
                 method = "Ansari-Bradley test",
                 data.name = DNAME)
    if(conf.int)
        RVAL <- c(RVAL,
                  list(conf.int = cint,
                       estimate = c("ratio of scales" = ESTIMATE)))
    class(RVAL) <- "htest"
    return(RVAL)
}

ansari.test.formula <-
function(formula, data, subset, na.action, ...)
{
    if(missing(formula)
       || (length(formula) != 3)
       || (length(attr(terms(formula[-2]), "term.labels")) != 1)
       || (length(attr(terms(formula[-3]), "term.labels")) != 1))
        stop("formula missing or incorrect")
    if(missing(na.action))
        na.action <- getOption("na.action")
    m <- match.call(expand.dots = FALSE)
    if(is.matrix(eval(m$data, parent.frame())))
        m$data <- as.data.frame(data)
    m[[1]] <- as.name("model.frame")
    m$... <- NULL
    mf <- eval(m, parent.frame())
    DNAME <- paste(names(mf), collapse = " by ")
    names(mf) <- NULL
    response <- attr(attr(mf, "terms"), "response")
    g <- factor(mf[[-response]])
    if(nlevels(g) != 2)
        stop("grouping factor must have exactly 2 levels")
    DATA <- split(mf[[response]], g)
    names(DATA) <- c("x", "y")
    y <- do.call("ansari.test", c(DATA, list(...)))
    y$data.name <- DNAME
    y
}

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From louisept@pweh.com  Thu Nov  7 00:47:52 2002
From: louisept@pweh.com (louisept@pweh.com)
Date: Thu, 7 Nov 2002 01:47:52 +0100 (MET)
Subject: rbind (PR#2266)
Message-ID: <200211070047.BAA18798@pubhealth.ku.dk>

Full_Name: Paul Louisell
Version: 1.6.0
OS: Windows NT
Submission from: (NULL) (192.249.47.9)


'rbind' does not work properly when one object is a data frame and the other is
a matrix. See the code below; this is copied directly from an R session. It
appears the objects need to be in the same class for rbind to work correctly.

> test=matrix(1:25, 5, 5)
> test=as.data.frame(test)
> test
  V1 V2 V3 V4 V5
1  1  6 11 16 21
2  2  7 12 17 22
3  3  8 13 18 23
4  4  9 14 19 24
5  5 10 15 20 25
> test1=matrix(-(1:10), 2, 5)
> test1
     [,1] [,2] [,3] [,4] [,5]
[1,]   -1   -3   -5   -7   -9
[2,]   -2   -4   -6   -8  -10
> rbind(test, test1)
  V1 V2 V3 V4 V5
1  1  6 11 16 21
2  2  7 12 17 22
3  3  8 13 18 23
4  4  9 14 19 24
5  5 10 15 20 25
6 -1 -2 -3 -4 -5
> rbind(as.matrix(test), test1)
  V1 V2 V3 V4  V5
1  1  6 11 16  21
2  2  7 12 17  22
3  3  8 13 18  23
4  4  9 14 19  24
5  5 10 15 20  25
  -1 -3 -5 -7  -9
  -2 -4 -6 -8 -10
> rbind(test, as.data.frame(test1))
   V1 V2 V3 V4  V5
1   1  6 11 16  21
2   2  7 12 17  22
3   3  8 13 18  23
4   4  9 14 19  24
5   5 10 15 20  25
11 -1 -3 -5 -7  -9
22 -2 -4 -6 -8 -10


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Nov  7 21:14:24 2002
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 07 Nov 2002 16:14:24 -0500
Subject: checking package version
Message-ID: <3DCAD7B0.9BDB6F68@bank-banque-canada.ca>

I would like to check the version of a package from a running R session. Is
there a recommended/preferred, system independent way to do this?

Paul Gilbert
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dj@research.bell-labs.com  Thu Nov  7 21:44:58 2002
From: dj@research.bell-labs.com (David James)
Date: Thu, 7 Nov 2002 16:44:58 -0500
Subject: checking package version
In-Reply-To: <3DCAD7B0.9BDB6F68@bank-banque-canada.ca>; from pgilbert@bank-banque-canada.ca on Thu, Nov 07, 2002 at 04:14:24PM -0500
References: <3DCAD7B0.9BDB6F68@bank-banque-canada.ca>
Message-ID: <20021107164458.A19968@jessie.research.bell-labs.com>

Paul Gilbert wrote:
> I would like to check the version of a package from a running R session. Is
> there a recommended/preferred, system independent way to do this?

I use 

> package.description("eda", fields="Version")
[1] "1.5.1"

but you may still need to parse the string to get major/minor details.

> 
> Paul Gilbert
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
David A. James
Statistics Research, Room 2C-253            Phone:  (908) 582-3082       
Bell Labs, Lucent Technologies              Fax:    (908) 582-3340
Murray Hill, NJ 09794-0636
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bolker@zoo.ufl.edu  Fri Nov  8 14:05:42 2002
From: bolker@zoo.ufl.edu (Ben Bolker)
Date: Fri, 8 Nov 2002 09:05:42 -0500 (EST)
Subject: behavior of =
Message-ID: <Pine.LNX.4.44.0211080855020.23711-100000@bolker.zoo.ufl.edu>


  I probably didn't follow the discussion of allowing "=" as an assignment 
operator closely enough, but I was a little bit horrified to discover 
today (using 1.6.0; I haven't upgraded to 1.6.1 yet) that

x <- runif(20)
y <- 1:20
y[x=min(x)]

gives numeric(0) (because min(x) is non-integer).

x <- sample(1:20,20,TRUE)
y[x=min(x)]

is even worse -- it gives the "wrong" answer. I know exactly what's going
on here (the = in the subsetting statement above was a typo for ==), and I
should have known better, but I felt like I was programming in C again!

I know that the designers tried to build in safeguards (from the man 
page):

   the `=' is only allowed at the top level (that is, in the complete
   expression typed by the user) or as one of the subexpressions in a 
   braced list of expressions. 

These safeguards don't prevent the mishap shown above.  Is there any way 
to detect this case syntactically (check for assignments inside subsetting 
operations??), or will I just have to train my students to watch out for 
this possibility?

----
318 Carr Hall                                bolker@zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jmc@research.bell-labs.com  Fri Nov  8 14:15:21 2002
From: jmc@research.bell-labs.com (John Chambers)
Date: Fri, 08 Nov 2002 09:15:21 -0500
Subject: behavior of =
References: <Pine.LNX.4.44.0211080855020.23711-100000@bolker.zoo.ufl.edu>
Message-ID: <3DCBC6F9.B83C534C@research.bell-labs.com>

It's a real confusion, but don't blame it on the use of "=" as an
assignment operator.

It's all the fault of having named arguments, which goes way back to the
dawn of time.

What you said (as opposed to what, of course, you meant) was that the
argument called "x" to "[" had the value of min(x).

The clue is that after evaluating the expression, x is unchanged
(distinctly NOT the case for the infamous C equivalent).

R> x <- runif(20)
R> y <- 1:20
R> y[x = min(x)]
numeric(0)
R> x
 [1] 0.1452749 0.4936352 0.7872399 0.4377552 0.4072236 0.4416220
0.4748017
 [8] 0.8523369 0.8870081 0.7401091 0.1480467 0.3367802 0.3825770
0.3596608
[15] 0.1040230 0.6873980 0.2974596 0.9955219 0.3217589 0.2199942

Unfortunately, the implementation of "[" doesn't check argument names
(plausibly a bug).  To see the situation more clearly, use the sort
function, whose first argument is "x".

R> sort(x=min(x))
[1] 0.1040230
which is puzzling, but:

R> sort(y=5)
Error in sort(y = 5) : unused argument(s) (y ...)

All the same, it's a useful example for a "what went wrong" FAQ.


Ben Bolker wrote:
> 
>   I probably didn't follow the discussion of allowing "=" as an assignment
> operator closely enough, but I was a little bit horrified to discover
> today (using 1.6.0; I haven't upgraded to 1.6.1 yet) that
> 
> x <- runif(20)
> y <- 1:20
> y[x=min(x)]
> 
> gives numeric(0) (because min(x) is non-integer).
> 
> x <- sample(1:20,20,TRUE)
> y[x=min(x)]
> 
> is even worse -- it gives the "wrong" answer. I know exactly what's going
> on here (the = in the subsetting statement above was a typo for ==), and I
> should have known better, but I felt like I was programming in C again!
> 
> I know that the designers tried to build in safeguards (from the man
> page):
> 
>    the `=' is only allowed at the top level (that is, in the complete
>    expression typed by the user) or as one of the subexpressions in a
>    braced list of expressions.
> 
> These safeguards don't prevent the mishap shown above.  Is there any way
> to detect this case syntactically (check for assignments inside subsetting
> operations??), or will I just have to train my students to watch out for
> this possibility?
> 
> ----
> 318 Carr Hall                                bolker@zoo.ufl.edu
> Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
> Box 118525                                   (ph)  352-392-5697
> Gainesville, FL 32611-8525                   (fax) 352-392-3704
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
John M. Chambers                  jmc@bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From mschwartz@medanalytics.com  Fri Nov  8 14:53:13 2002
From: mschwartz@medanalytics.com (Marc Schwartz)
Date: Fri, 8 Nov 2002 08:53:13 -0600
Subject: behavior of =
In-Reply-To: <3DCBC6F9.B83C534C@research.bell-labs.com>
Message-ID: <004b01c28736$90df4410$0201a8c0@MARC>

> -----Original Message-----
> From: owner-r-devel@stat.math.ethz.ch 
> [mailto:owner-r-devel@stat.math.ethz.ch] On Behalf Of John Chambers
> Sent: Friday, November 08, 2002 8:15 AM
> To: bolker@zoo.ufl.edu
> Cc: R development mailing list
> Subject: Re: behavior of =
> 
> 
> It's a real confusion, but don't blame it on the use of "=" 
> as an assignment operator.
> 
> It's all the fault of having named arguments, which goes way 
> back to the dawn of time.
> 
> What you said (as opposed to what, of course, you meant) was 
> that the argument called "x" to "[" had the value of min(x).
> 
> The clue is that after evaluating the expression, x is 
> unchanged (distinctly NOT the case for the infamous C equivalent).
> 
> R> x <- runif(20)
> R> y <- 1:20
> R> y[x = min(x)]
> numeric(0)
> R> x
>  [1] 0.1452749 0.4936352 0.7872399 0.4377552 0.4072236 
> 0.4416220 0.4748017  [8] 0.8523369 0.8870081 0.7401091 
> 0.1480467 0.3367802 0.3825770 0.3596608 [15] 0.1040230 
> 0.6873980 0.2974596 0.9955219 0.3217589 0.2199942
> 
> Unfortunately, the implementation of "[" doesn't check 
> argument names (plausibly a bug).  To see the situation more 
> clearly, use the sort function, whose first argument is "x".
> 
> R> sort(x=min(x))
> [1] 0.1040230
> which is puzzling, but:
> 
> R> sort(y=5)
> Error in sort(y = 5) : unused argument(s) (y ...)
> 
> All the same, it's a useful example for a "what went wrong" FAQ.
> 
> 
> Ben Bolker wrote:
> > 
> >   I probably didn't follow the discussion of allowing "=" as an 
> > assignment operator closely enough, but I was a little bit 
> horrified 
> > to discover today (using 1.6.0; I haven't upgraded to 1.6.1 
> yet) that
> > 
> > x <- runif(20)
> > y <- 1:20
> > y[x=min(x)]
> > 
> > gives numeric(0) (because min(x) is non-integer).
> > 
> > x <- sample(1:20,20,TRUE)
> > y[x=min(x)]
> > 
> > is even worse -- it gives the "wrong" answer. I know exactly what's 
> > going on here (the = in the subsetting statement above was 
> a typo for 
> > ==), and I should have known better, but I felt like I was 
> programming 
> > in C again!
> > 
> > I know that the designers tried to build in safeguards (from the man
> > page):
> > 
> >    the `=' is only allowed at the top level (that is, in 
> the complete
> >    expression typed by the user) or as one of the 
> subexpressions in a
> >    braced list of expressions.
> > 
> > These safeguards don't prevent the mishap shown above.  Is 
> there any 
> > way to detect this case syntactically (check for assignments inside 
> > subsetting operations??), or will I just have to train my 
> students to 
> > watch out for this possibility?

FWIW, presuming that you and your students may be using an external
editor that supports syntax highlighting for coding, you can set up the
highlighting such that the assigment operators are specifically colored
to make them more readily visible. I recall a discussion here akin to
this earlier this year when the "_" assignment operator subject came up.

I am presently using Multi-Edit 9 under WinXP Pro, but am in the process
of switching to Linux and am still wrestling with (X)ESS vs.gVim vs
running Multi-Edit using Wine, but that's another issue.

In either case, I have set up the syntax highlighting in Multi-Edit such
that the assignment operators are bolded and colored red to stand out
against surrounding code. This has helped me greatly in avoiding exactly
the type of error that you are discussing and has saved me much time in
debugging code.

Marc


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Fri Nov  8 15:02:13 2002
From: edd@debian.org (edd@debian.org)
Date: Fri, 8 Nov 2002 16:02:13 +0100 (MET)
Subject: Bug#168259: r-base-core: help.start() assumes netscape is installed (PR#2275)
Message-ID: <200211081502.QAA09163@pubhealth.ku.dk>



> Package: r-base-core
> Version: 1.5.1-0woody1
> Severity: minor
> 
> I don't have Netscape on my system. Trying to follow the sample

To best of my knowledge, this R feature dates from a time when 
Netscape was essentially the only browser out there. It also had 
a most useful feature: you could attach new request (resulting in
a new "frame" in X11 / window manager parlance) to a running Netscape 
making startup for this request /much/ faster than starting a new 
Netscape executable.

This feature lacks in other browsers which is why no one was able
to write a wrapper script around netscape, mozilla, galeon, konqueror,...
and pick whichever is found.

> session in the R Intro fails with a less than helpful error message:

Then this should be fixed in the R Intro -- maybe a line could be added
suggesting that the   browser="foo"   options may be needed to switch
away from netscape?

> Type `demo()' for some demos, `help()' for on-line help, or
> `help.start()' for a HTML browser interface to help.
> Type `q()' to quit R.
> 
> > help.start()
> Making links in ~/.R ...
> If netscape is already running, it is *not* restarted, and you must
>     switch to its window.
> Otherwise, be patient ...
> > sh: netscape: command not found
> 
> 
> Could some heuristic be put in place to use whatever is installed
> rather than blindly hope Netscape will be there? I thought I even saw

This has been discussed on the R lists, but as I recall, no consensus
was reached for the reasons outlined above.

> something about an /etc/alternatives mechanism for selecting a web
> browser but this does not seem to exist (yet?)

Now you're switching from a generic R problem to a Debian specific
solution -- but yes I may be able to do that. However, what we would
really need is a wrapper like, say, sensible-browser akin to the 
existing sensible-paper and sensible-editor.  Now, as I said above,
this will likely be difficult or impossible to do well, so nobody
did it.

Also, /etc/alternatives is designed to switch between variants of the
same program: emacs as a choice between emacs20 and emacs21, netscape
as one between static motif and other linkage variants, ... whereas
sensible-$FOO is a wrapper around different programs doing $FOO.

> Failing that, perhaps the program could check for the existence of
> Netscape before attempting to launch it, and display a suitable error
> message if it is not installed (hopefully with instructions for how to
> override).

Yes, but that is tough to do portably on Unix, Max, Win, ... where R
runs.

> I was lucky enough to fairly quickly find an example of how to work
> around this in Google; for the record, help.start(browser='mozilla')
> worked for me, and apparently R will now remember to use Mozilla in
> the future on my account.

Only for the running session. Set 
  options(browser="mozilla")
in ~/.Rprofile to make it truly permanent.

> Sorry if this is already fixed in testing/unstable.

No, I'd call it one of the "unfixable" ones.

Regards,  Dirk



>
> /* era */
> 
> -- 
> Join the civilized world -- ban spam like we did! <http://www.euro.cauce.org/>
>    tee -a $HOME/.signature <$HOME/.plan >http://www.iki.fi/era/index.html
> 
> 
> 
> 

-- 
According to the latest figures, 43% of all signatures are totally worthless.   

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From phgrosje@ulb.ac.be  Fri Nov  8 15:24:15 2002
From: phgrosje@ulb.ac.be (Philippe Grosjean)
Date: Fri, 8 Nov 2002 16:24:15 +0100
Subject: behavior of =
In-Reply-To: <3DCBC6F9.B83C534C@research.bell-labs.com>
Message-ID: <MABBLJDICACNFOLGIHJOOEKIDAAA.phgrosje@ulb.ac.be>

Deprecating '_' for assignment in the perspective of reusing it in variables
names is nice (not just a personal impression bacause it is also common in
other languages). I am fighting too often with unreadable codes like
var_value, even without spaces before and after '_'!!!
Addition of '=' for assignment is nice too (also commonly used in other
languages), except for this problem with named arguments...! I know this is
a major change that would require patching all R code, but perhaps a
solution would be to replace '=' in named arguments with something else,...
('_'  for instance.. no, I am kidding!). But perhaps, ':=' would be a nice
candidate. So:

foo(a=b)  # Assignment of b to a, and a is passed as first argument to
function foo()
foo(a:=b) # b is passed to the named argument 'a' of function foo()

Best,

Philippe Grosjean

...........]<(({?<...............<?}))><...............................
( ( ( ( (
 ) ) ) ) )      Philippe Grosjean
( ( ( ( (
 ) ) ) ) )      IFREMER Nantes - DEL/AO
( ( ( ( (       rue de l'Ile d'Yeu, BP 21105, 44311 Nantes Cedex 3
 ) ) ) ) )      tel: (33) 02.40.37.42.29, fax: (33) 02.40.37.42.41
( ( ( ( (	    e-mail: philippe.grosjean@ifremer.fr
 ) ) ) ) )
( ( ( ( (       "I'm 100% confident that p is between 0 and 1"
 ) ) ) ) )                                L. Gonick & W. Smith (1993)
.......................................................................


-----Message d'origine-----
De : owner-r-devel@stat.math.ethz.ch
[mailto:owner-r-devel@stat.math.ethz.ch]De la part de John Chambers
Envoye : vendredi 8 novembre 2002 15:15
A : bolker@zoo.ufl.edu
Cc : R development mailing list
Objet : Re: behavior of =


It's a real confusion, but don't blame it on the use of "=" as an
assignment operator.

It's all the fault of having named arguments, which goes way back to the
dawn of time.

What you said (as opposed to what, of course, you meant) was that the
argument called "x" to "[" had the value of min(x).

The clue is that after evaluating the expression, x is unchanged
(distinctly NOT the case for the infamous C equivalent).

R> x <- runif(20)
R> y <- 1:20
R> y[x = min(x)]
numeric(0)
R> x
 [1] 0.1452749 0.4936352 0.7872399 0.4377552 0.4072236 0.4416220
0.4748017
 [8] 0.8523369 0.8870081 0.7401091 0.1480467 0.3367802 0.3825770
0.3596608
[15] 0.1040230 0.6873980 0.2974596 0.9955219 0.3217589 0.2199942

Unfortunately, the implementation of "[" doesn't check argument names
(plausibly a bug).  To see the situation more clearly, use the sort
function, whose first argument is "x".

R> sort(x=min(x))
[1] 0.1040230
which is puzzling, but:

R> sort(y=5)
Error in sort(y = 5) : unused argument(s) (y ...)

All the same, it's a useful example for a "what went wrong" FAQ.


Ben Bolker wrote:
>
>   I probably didn't follow the discussion of allowing "=" as an assignment
> operator closely enough, but I was a little bit horrified to discover
> today (using 1.6.0; I haven't upgraded to 1.6.1 yet) that
>
> x <- runif(20)
> y <- 1:20
> y[x=min(x)]
>
> gives numeric(0) (because min(x) is non-integer).
>
> x <- sample(1:20,20,TRUE)
> y[x=min(x)]
>
> is even worse -- it gives the "wrong" answer. I know exactly what's going
> on here (the = in the subsetting statement above was a typo for ==), and I
> should have known better, but I felt like I was programming in C again!
>
> I know that the designers tried to build in safeguards (from the man
> page):
>
>    the `=' is only allowed at the top level (that is, in the complete
>    expression typed by the user) or as one of the subexpressions in a
>    braced list of expressions.
>
> These safeguards don't prevent the mishap shown above.  Is there any way
> to detect this case syntactically (check for assignments inside subsetting
> operations??), or will I just have to train my students to watch out for
> this possibility?
>
> ----
> 318 Carr Hall                                bolker@zoo.ufl.edu
> Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
> Box 118525                                   (ph)  352-392-5697
> Gainesville, FL 32611-8525                   (fax) 352-392-3704
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-devel mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

--
John M. Chambers                  jmc@bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From h95mr@mun.ca  Fri Nov  8 15:28:51 2002
From: h95mr@mun.ca (h95mr@mun.ca)
Date: Fri, 8 Nov 2002 16:28:51 +0100 (MET)
Subject: Mac specific - quartz leads to crash (PR#2276)
Message-ID: <200211081528.QAA09427@pubhealth.ku.dk>

Full_Name: Martin Renner
Version: 1.6.0
OS: MacOS X 10.2.1
Submission from: (NULL) (134.153.109.176)


Opening a new graphics device with quartz () produces a quartz window but it
cannot be resized, there's no red close-button and R usually crashes within the
next 20 seconds (unexpectedly quit). Also, I can't copy this window (copy does
not do anything, old clipboard is not replaced). 

Thank you,

Martin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Nov  8 15:51:10 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 8 Nov 2002 15:51:10 +0000 (GMT)
Subject: (PR#2275) Re: Bug#168259: r-base-core: help.start() assumes netscape
 is installed
In-Reply-To: <200211081502.QAA09163@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0211081545310.10657-100000@gannet.stats>

Note that this only a problem for pre-compiled versions of R used on
machines other than the one on which it was compiled. For those compiling
from source, the configure script selects a browser.  So almost all the
analysis is based on incorrect assumptions.

What you seem to want is run-time rather than compile-time automated
selection.

On Fri, 8 Nov 2002 edd@debian.org wrote:

>
>
> > Package: r-base-core
> > Version: 1.5.1-0woody1
> > Severity: minor
> >
> > I don't have Netscape on my system. Trying to follow the sample
>
> To best of my knowledge, this R feature dates from a time when
> Netscape was essentially the only browser out there. It also had
> a most useful feature: you could attach new request (resulting in
> a new "frame" in X11 / window manager parlance) to a running Netscape
> making startup for this request /much/ faster than starting a new
> Netscape executable.

and netscape no longer allows multiple executables to run.

> This feature lacks in other browsers which is why no one was able
> to write a wrapper script around netscape, mozilla, galeon, konqueror,...
> and pick whichever is found.
>
> > session in the R Intro fails with a less than helpful error message:
>
> Then this should be fixed in the R Intro -- maybe a line could be added
> suggesting that the   browser="foo"   options may be needed to switch
> away from netscape?

Nope, what's in R-intro works everywhere R was compiled from source.
It's a Debian (etc) problem.

> > Type `demo()' for some demos, `help()' for on-line help, or
> > `help.start()' for a HTML browser interface to help.
> > Type `q()' to quit R.
> >
> > > help.start()
> > Making links in ~/.R ...
> > If netscape is already running, it is *not* restarted, and you must
> >     switch to its window.
> > Otherwise, be patient ...
> > > sh: netscape: command not found
> >
> >
> > Could some heuristic be put in place to use whatever is installed
> > rather than blindly hope Netscape will be there? I thought I even saw

Again, that's not what happens.

> This has been discussed on the R lists, but as I recall, no consensus
> was reached for the reasons outlined above.
>
> > something about an /etc/alternatives mechanism for selecting a web
> > browser but this does not seem to exist (yet?)
>
> Now you're switching from a generic R problem to a Debian specific
> solution -- but yes I may be able to do that. However, what we would
> really need is a wrapper like, say, sensible-browser akin to the
> existing sensible-paper and sensible-editor.  Now, as I said above,
> this will likely be difficult or impossible to do well, so nobody
> did it.
>
> Also, /etc/alternatives is designed to switch between variants of the
> same program: emacs as a choice between emacs20 and emacs21, netscape
> as one between static motif and other linkage variants, ... whereas
> sensible-$FOO is a wrapper around different programs doing $FOO.
>
> > Failing that, perhaps the program could check for the existence of
> > Netscape before attempting to launch it, and display a suitable error
> > message if it is not installed (hopefully with instructions for how to
> > override).
>
> Yes, but that is tough to do portably on Unix, Max, Win, ... where R
> runs.
>
> > I was lucky enough to fairly quickly find an example of how to work
> > around this in Google; for the record, help.start(browser='mozilla')
> > worked for me, and apparently R will now remember to use Mozilla in
> > the future on my account.
>
> Only for the running session. Set
>   options(browser="mozilla")
> in ~/.Rprofile to make it truly permanent.
>
> > Sorry if this is already fixed in testing/unstable.
>
> No, I'd call it one of the "unfixable" ones.
>
> Regards,  Dirk
>
>
>
> >
> > /* era */
> >
> > --
> > Join the civilized world -- ban spam like we did! <http://www.euro.cauce.org/>
> >    tee -a $HOME/.signature <$HOME/.plan >http://www.iki.fi/era/index.html
> >
> >
> >
> >
>
> --
> According to the latest figures, 43% of all signatures are totally worthless.
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Fri Nov  8 15:57:23 2002
From: edd@debian.org (Dirk Eddelbuettel)
Date: Fri, 08 Nov 2002 09:57:23 -0600
Subject: (PR#2275) Re: Bug#168259: r-base-core: help.start() assumes netscape is installed
Message-ID: <E18ABVb-0001Ko-00@sonny.eddelbuettel.com>



> Note that this only a problem for pre-compiled versions of R used on
> machines other than the one on which it was compiled. For those compiling
> from source, the configure script selects a browser.  So almost all the
> analysis is based on incorrect assumptions.
> 
> What you seem to want is run-time rather than compile-time automated
> selection.

Thanks for setting me straight.  This will help in fixing it, then!

> On Fri, 8 Nov 2002 edd@debian.org wrote:
> 
> >
> >
> > > Package: r-base-core
> > > Version: 1.5.1-0woody1
> > > Severity: minor
> > >
> > > I don't have Netscape on my system. Trying to follow the sample
> >
> > To best of my knowledge, this R feature dates from a time when
> > Netscape was essentially the only browser out there. It also had
> > a most useful feature: you could attach new request (resulting in
> > a new "frame" in X11 / window manager parlance) to a running Netscape
> > making startup for this request /much/ faster than starting a new
> > Netscape executable.
> 
> and netscape no longer allows multiple executables to run.

Right.

> > This feature lacks in other browsers which is why no one was able
> > to write a wrapper script around netscape, mozilla, galeon, konqueror,...
> > and pick whichever is found.
> >
> > > session in the R Intro fails with a less than helpful error message:
> >
> > Then this should be fixed in the R Intro -- maybe a line could be added
> > suggesting that the   browser="foo"   options may be needed to switch
> > away from netscape?
> 
> Nope, what's in R-intro works everywhere R was compiled from source.
> It's a Debian (etc) problem.

Ok, so please close the R bug report in that case. I will take care of the
Debian issue -- if it turns out that I can do something useful for the 
RedHat, SuSE, Mandrake, ... guys I will surely let them know.

Dirk

> > > Type `demo()' for some demos, `help()' for on-line help, or
> > > `help.start()' for a HTML browser interface to help.
> > > Type `q()' to quit R.
> > >
> > > > help.start()
> > > Making links in ~/.R ...
> > > If netscape is already running, it is *not* restarted, and you must
> > >     switch to its window.
> > > Otherwise, be patient ...
> > > > sh: netscape: command not found
> > >
> > >
> > > Could some heuristic be put in place to use whatever is installed
> > > rather than blindly hope Netscape will be there? I thought I even saw
> 
> Again, that's not what happens.
> 
> > This has been discussed on the R lists, but as I recall, no consensus
> > was reached for the reasons outlined above.
> >
> > > something about an /etc/alternatives mechanism for selecting a web
> > > browser but this does not seem to exist (yet?)
> >
> > Now you're switching from a generic R problem to a Debian specific
> > solution -- but yes I may be able to do that. However, what we would
> > really need is a wrapper like, say, sensible-browser akin to the
> > existing sensible-paper and sensible-editor.  Now, as I said above,
> > this will likely be difficult or impossible to do well, so nobody
> > did it.
> >
> > Also, /etc/alternatives is designed to switch between variants of the
> > same program: emacs as a choice between emacs20 and emacs21, netscape
> > as one between static motif and other linkage variants, ... whereas
> > sensible-$FOO is a wrapper around different programs doing $FOO.
> >
> > > Failing that, perhaps the program could check for the existence of
> > > Netscape before attempting to launch it, and display a suitable error
> > > message if it is not installed (hopefully with instructions for how to
> > > override).
> >
> > Yes, but that is tough to do portably on Unix, Max, Win, ... where R
> > runs.
> >
> > > I was lucky enough to fairly quickly find an example of how to work
> > > around this in Google; for the record, help.start(browser='mozilla')
> > > worked for me, and apparently R will now remember to use Mozilla in
> > > the future on my account.
> >
> > Only for the running session. Set
> >   options(browser="mozilla")
> > in ~/.Rprofile to make it truly permanent.
> >
> > > Sorry if this is already fixed in testing/unstable.
> >
> > No, I'd call it one of the "unfixable" ones.
> >
> > Regards,  Dirk
> >
> >
> >
> > >
> > > /* era */
> > >
> > > --
> > > Join the civilized world -- ban spam like we did! <http://www.euro.cauce.org/>
> > >    tee -a $HOME/.signature <$HOME/.plan >http://www.iki.fi/era/index.html
> > >
> > >
> > >
> > >
> >
> > --
> > According to the latest figures, 43% of all signatures are totally worthless.
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 
> 
> 

-- 
According to the latest figures, 43% of all signatures are totally worthless.   
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Fri Nov  8 16:17:12 2002
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Fri, 8 Nov 2002 08:17:12 -0800 (PST)
Subject: behavior of =
In-Reply-To: <MABBLJDICACNFOLGIHJOOEKIDAAA.phgrosje@ulb.ac.be>
Message-ID: <Pine.A41.4.44.0211080813030.108822-100000@homer40.u.washington.edu>

On Fri, 8 Nov 2002, Philippe Grosjean wrote:

> Deprecating '_' for assignment in the perspective of reusing it in variables
> names is nice (not just a personal impression bacause it is also common in
> other languages). I am fighting too often with unreadable codes like
> var_value, even without spaces before and after '_'!!!
> Addition of '=' for assignment is nice too (also commonly used in other
> languages), except for this problem with named arguments...! I know this is
> a major change that would require patching all R code, but perhaps a
> solution would be to replace '=' in named arguments with something else,...
> ('_'  for instance.. no, I am kidding!). But perhaps, ':=' would be a nice
> candidate. So:
>
> foo(a=b)  # Assignment of b to a, and a is passed as first argument to
> function foo()
> foo(a:=b) # b is passed to the named argument 'a' of function foo()
>

Not only would this require rewriting essentially every piece of R code
ever written, but even worse, := is used in other languages (and in the
prehistory of R) as an assignment operator so it would be even less clear
than the current situation.

For this transition, unlike disposing of '_', there would be no way to
write code (including simple data analyses) that worked before and after
the change.

You can't get there from here (and I'm not convinced you want to).

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossini@u.washington.edu  Fri Nov  8 16:41:57 2002
From: rossini@u.washington.edu (A.J. Rossini)
Date: 08 Nov 2002 08:41:57 -0800
Subject: behavior of =
In-Reply-To: <MABBLJDICACNFOLGIHJOOEKIDAAA.phgrosje@ulb.ac.be>
References: <MABBLJDICACNFOLGIHJOOEKIDAAA.phgrosje@ulb.ac.be>
Message-ID: <87lm44814a.fsf@jeeves.blindglobe.net>

>>>>> "philippe" == Philippe Grosjean <phgrosje@ulb.ac.be> writes:

    philippe> Deprecating '_' for assignment in the perspective of reusing it in variables
    philippe> names is nice (not just a personal impression bacause it is also common in
    philippe> other languages). I am fighting too often with unreadable codes like
    philippe> var_value, even without spaces before and after '_'!!!
    philippe> Addition of '=' for assignment is nice too (also commonly used in other
    philippe> languages), except for this problem with named arguments...! I know this is
    philippe> a major change that would require patching all R code, but perhaps a
    philippe> solution would be to replace '=' in named arguments with something else,...
    philippe> ('_'  for instance.. no, I am kidding!). But perhaps, ':=' would be a nice
    philippe> candidate. So:

    philippe> foo(a=b)  # Assignment of b to a, and a is passed as first argument to
    philippe> function foo()
    philippe> foo(a:=b) # b is passed to the named argument 'a' of function foo()

No, no, no.

While I can see depreciating "_" as assignment, I would seriously
worry about reusing it in variable names, breaking old code and all of
that.  Currently, we've got "."  for separation if you need it.
Sure, other languages use it for methods, and in a sense, so does S3
classes, but it's what you are given.

The "<-" assignment operator is beautiful.  It's taken me over a
decade, but I have come to appreciate it.  It isn't common, and there
are fewer and fewer ex-APL'ers, but I think it's a great choice.

The use of "=" for named arguments in a function call signature makes
sense, and the use of "==" for equality makes sense.

But syntactical sugar should only be messed with if broken (and yes,
this may be one of the few points that I'd disagree with John; I wish
he'd never introduced "=" as a possible assignment).

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini@u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini@scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From phgrosje@ulb.ac.be  Fri Nov  8 16:56:14 2002
From: phgrosje@ulb.ac.be (Philippe Grosjean)
Date: Fri, 8 Nov 2002 17:56:14 +0100
Subject: behavior of =
In-Reply-To: <Pine.A41.4.44.0211080813030.108822-100000@homer40.u.washington.edu>
Message-ID: <MABBLJDICACNFOLGIHJOIEKMDAAA.phgrosje@ulb.ac.be>

>Not only would this require rewriting essentially every piece of R code
>ever written, but even worse, := is used in other languages (and in the
>prehistory of R) as an assignment operator so it would be even less clear
>than the current situation.

>For this transition, unlike disposing of '_', there would be no way to
>write code (including simple data analyses) that worked before and after
>the change.

>You can't get there from here (and I'm not convinced you want to).

>	-thomas

Right. But then, may be another (group of) characters could replace '=' for
named argument, eliminating the ambiguity with the assignment. What about
'::' foo(arg::value). In a first stage, '::' could become an alternative to
'=' for named arguments (and during this transition, the problem with
assigment still remains, of course). Then, in the next major release, '=' is
deprecated for named arguments. Finally, another major release later, when
all the code is (hopefully) rewritten with '::' for named arguments, '=' is
defunct for named argument, and '=' gets exactly the same meaning as '<-'
ANYWHERE, eliminating the problem discussed here. As far as I know, '::' is
not used yet in the S language. Some people would say it is replacing a
single character by two (obviously the most lazy ones that objected against
the disparition of '_' for assignation)! Not a major inconvenience, anyway.
Others would say that '::' has a different signification in some other
languages, but then, there is no solution because we have to deal with a
limited character set and a keyboard with only 88-103 keys!

In any case, this is major change, since, whatever the solution, it implies
incompatibles changes in code. I agree! One should note that, if a change
similar to this ('=' replaced by '::' for named arguments) was planned
*before* the introduction of '=' as a (quasi)synonym of '<-' for assignment,
it would have been easier to actualize code in the transitions phases (just
need to protect '==', '<=', '>=', '!=' and occurence of '=' in strings
before replacing any other occurence of '=' by '::'). Now, it would be much,
much more difficult. Compromizes, always compromizes,...



>On Fri, 8 Nov 2002, Philippe Grosjean wrote:

>> Deprecating '_' for assignment in the perspective of reusing it in
variables
>> names is nice (not just a personal impression bacause it is also common
in
>> other languages). I am fighting too often with unreadable codes like
>> var_value, even without spaces before and after '_'!!!
>> Addition of '=' for assignment is nice too (also commonly used in other
>> languages), except for this problem with named arguments...! I know this
is
>> a major change that would require patching all R code, but perhaps a
>> solution would be to replace '=' in named arguments with something
else,...
>> ('_'  for instance.. no, I am kidding!). But perhaps, ':=' would be a
nice
>> candidate. So:
>>
>> foo(a=b)  # Assignment of b to a, and a is passed as first argument to
>> function foo()
>> foo(a:=b) # b is passed to the named argument 'a' of function foo()
>>



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gregory_r_warnes@groton.pfizer.com  Fri Nov  8 17:01:30 2002
From: gregory_r_warnes@groton.pfizer.com (Warnes, Gregory R)
Date: Fri, 8 Nov 2002 12:01:30 -0500
Subject: behavior of =
Message-ID: <D7A3CFD7825BD6119B880002A58F06C202F2C266@groexmb02.pfizer.com>

> [Tony Rossini wrote:]
>
> The "<-" assignment operator is beautiful.  [...]
> [T]his may be one of the few points that I'd disagree with John; I wish
> he'd never introduced "=" as a possible assignment.

I agree.   

-Greg



LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tplate@blackmesacapital.com  Fri Nov  8 17:05:56 2002
From: tplate@blackmesacapital.com (Tony Plate)
Date: Fri, 08 Nov 2002 10:05:56 -0700
Subject: behavior of =
In-Reply-To: <87lm44814a.fsf@jeeves.blindglobe.net>
References: <MABBLJDICACNFOLGIHJOOEKIDAAA.phgrosje@ulb.ac.be>
 <MABBLJDICACNFOLGIHJOOEKIDAAA.phgrosje@ulb.ac.be>
Message-ID: <5.1.0.14.2.20021108095455.04aabdb0@mailhost.blackmesacapital.com>

At 08:41 AM 11/8/2002 -0800, A.J. Rossini wrote:
>[...]
>The "<-" assignment operator is beautiful.  It's taken me over a
>decade, but I have come to appreciate it.  It isn't common, and there
>are fewer and fewer ex-APL'ers, but I think it's a great choice.
>
>The use of "=" for named arguments in a function call signature makes
>sense, and the use of "==" for equality makes sense.
>
>But syntactical sugar should only be messed with if broken (and yes,
>this may be one of the few points that I'd disagree with John; I wish
>he'd never introduced "=" as a possible assignment).
>
>best,
>-tony

Yup, the S-language does have 3 separate symbols available for 3 separate 
functions ("=" for named arguments, "<-" for assignment, and "==" for 
equality).  Like Tony Rossini, I'd rather that these did not 
overlap.  Would it be possible to give parse() (and source()) an argument, 
or allow a pragma in a file, that would disallow the use of "=" for 
assignment?  (Since "=" was introduced as an assignment operator in S 
implementations, I've been bitten by the bug of a "="/"==" typo a couple of 
times, and have never seen any benefit from the change.)

-- Tony Plate

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From B.Rowlingson@lancaster.ac.uk  Fri Nov  8 17:10:02 2002
From: B.Rowlingson@lancaster.ac.uk (Barry Rowlingson)
Date: Fri, 08 Nov 2002 17:10:02 +0000
Subject: behavior of =
References: <MABBLJDICACNFOLGIHJOOEKIDAAA.phgrosje@ulb.ac.be> <87lm44814a.fsf@jeeves.blindglobe.net>
Message-ID: <3DCBEFEA.5070200@lancaster.ac.uk>


> The "<-" assignment operator is beautiful.  It's taken me over a
> decade, but I have come to appreciate it.  It isn't common, and there
> are fewer and fewer ex-APL'ers, but I think it's a great choice.

  Surely there's a single-character on this keyboard that accurately 
invokes the directional nature of assignment to variables, without 
having ambiguous meanings or alternate syntactic options? Yes! There, on 
the top right, an arrow pointing to the left!

  Oh no, thats the backspace key...

Baz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Fri Nov  8 17:21:34 2002
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Fri, 08 Nov 2002 12:21:34 -0500
Subject: behavior of =
In-Reply-To: <Pine.A41.4.44.0211080813030.108822-100000@homer40.u.washington.edu>
References: <MABBLJDICACNFOLGIHJOOEKIDAAA.phgrosje@ulb.ac.be> <Pine.A41.4.44.0211080813030.108822-100000@homer40.u.washington.edu>
Message-ID: <mirnsugtr7aefod5qfnuuurga6chh1hqtp@4ax.com>

On Fri, 8 Nov 2002 08:17:12 -0800 (PST), you wrote:

>On Fri, 8 Nov 2002, Philippe Grosjean wrote:

>> foo(a=b)  # Assignment of b to a, and a is passed as first argument to
>> function foo()
>> foo(a:=b) # b is passed to the named argument 'a' of function foo()
>>
>
>Not only would this require rewriting essentially every piece of R code
>ever written, but even worse, := is used in other languages (and in the
>prehistory of R) as an assignment operator so it would be even less clear
>than the current situation.

I would say a better change (but not good enough to be worth doing,
because it would break so much) would be to drop "=" as an assignment
operator, and use ":=" for that purpose.

A smaller change that might actually be doable would be to have a way
to give anonymous arguments which can be passed only positionally. For
example, put the symbol ANON into the language, and allow functions to
be declared as 

 f <- function(ANON) { .... }

Within the body of f, ANON would act like a named argument, but
name-matching would never work on it, i.e.

 x <- f(ANON=3)

would be a syntax error.  A nicer looking way to do this might be to
allow attributes to be attached to arguments, e.g.

  f <- function(anonymous x) { ... }

but there's nothing like that anywhere else in the language.  This
would have the advantage that you could define min as 

 function (anonymous ..., na.rm = FALSE) 
 .Internal(min(..., na.rm = na.rm))

Doing it with new keywords would probably mean the addition of ANON1,
ANON2, up to some arbitrary number, and ANON... for this case.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossini@u.washington.edu  Fri Nov  8 17:55:34 2002
From: rossini@u.washington.edu (A.J. Rossini)
Date: 08 Nov 2002 09:55:34 -0800
Subject: behavior of =
In-Reply-To: <mirnsugtr7aefod5qfnuuurga6chh1hqtp@4ax.com>
References: <MABBLJDICACNFOLGIHJOOEKIDAAA.phgrosje@ulb.ac.be>
 <Pine.A41.4.44.0211080813030.108822-100000@homer40.u.washington.edu>
 <mirnsugtr7aefod5qfnuuurga6chh1hqtp@4ax.com>
Message-ID: <87hees7xpl.fsf@jeeves.blindglobe.net>

>>>>> "duncan" == Duncan Murdoch <dmurdoch@pair.com> writes:

    duncan> On Fri, 8 Nov 2002 08:17:12 -0800 (PST), you wrote:
    >> On Fri, 8 Nov 2002, Philippe Grosjean wrote:

    >>> foo(a=b)  # Assignment of b to a, and a is passed as first argument to
    >>> function foo()
    >>> foo(a:=b) # b is passed to the named argument 'a' of function foo()
    >>> 
    >> 
    >> Not only would this require rewriting essentially every piece of R code
    >> ever written, but even worse, := is used in other languages (and in the
    >> prehistory of R) as an assignment operator so it would be even less clear
    >> than the current situation.

    duncan> I would say a better change (but not good enough to be worth doing,
    duncan> because it would break so much) would be to drop "=" as an assignment
    duncan> operator, and use ":=" for that purpose.

Why not "<-"  instead of ":="?  I still don't understand why this is
in anyway better (except for pascal and modula programmers, see
Thomas' point from a while back: "If you want those constructs, use
those languages", is application.

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini@u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini@scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossini@u.washington.edu  Fri Nov  8 17:57:11 2002
From: rossini@u.washington.edu (A.J. Rossini)
Date: 08 Nov 2002 09:57:11 -0800
Subject: behavior of =
In-Reply-To: <3DCBEFEA.5070200@lancaster.ac.uk>
References: <MABBLJDICACNFOLGIHJOOEKIDAAA.phgrosje@ulb.ac.be>
 <87lm44814a.fsf@jeeves.blindglobe.net>
 <3DCBEFEA.5070200@lancaster.ac.uk>
Message-ID: <87d6pg7xmw.fsf@jeeves.blindglobe.net>

>>>>> "barry" == Barry Rowlingson <B.Rowlingson@lancaster.ac.uk> writes:

    >> The "<-" assignment operator is beautiful.  It's taken me over a
    >> decade, but I have come to appreciate it.  It isn't common, and there
    >> are fewer and fewer ex-APL'ers, but I think it's a great choice.

    barry>   Surely there's a single-character on this keyboard that accurately
    barry>   invokes the directional nature of assignment to variables, without
    barry>   having ambiguous meanings or alternate syntactic options? Yes! 
    barry>   There, on the top right, an arrow pointing to the left!

on my computers (all of them), when editing R code, "_" always maps to
"<-".  So yes, there is such a character on the keyboard, for R code.

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini@u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini@scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Fri Nov  8 18:05:30 2002
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Fri, 08 Nov 2002 13:05:30 -0500
Subject: behavior of =
In-Reply-To: <87hees7xpl.fsf@jeeves.blindglobe.net>
References: <MABBLJDICACNFOLGIHJOOEKIDAAA.phgrosje@ulb.ac.be> <Pine.A41.4.44.0211080813030.108822-100000@homer40.u.washington.edu> <mirnsugtr7aefod5qfnuuurga6chh1hqtp@4ax.com> <87hees7xpl.fsf@jeeves.blindglobe.net>
Message-ID: <d3vnsu0k9ht4lh7u2qr2huilim7ah6e0gq@4ax.com>

On 08 Nov 2002 09:55:34 -0800, you wrote:

>>>>>> "duncan" == Duncan Murdoch <dmurdoch@pair.com> writes:

>    duncan> I would say a better change (but not good enough to be worth doing,
>    duncan> because it would break so much) would be to drop "=" as an assignment
>    duncan> operator, and use ":=" for that purpose.
>
>Why not "<-"  instead of ":="?  I still don't understand why this is
>in anyway better (except for pascal and modula programmers, see
>Thomas' point from a while back: "If you want those constructs, use
>those languages", is application.

Because "=" is different from "<-".  I'm suggesting that if we want
that distinction, then we should use the pair ":=" and "<-", rather
than overloading the meaning of "=".

But perhaps we don't need the distinction at all.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@stat.uiowa.edu  Fri Nov  8 18:15:58 2002
From: luke@stat.uiowa.edu (Luke Tierney)
Date: Fri, 8 Nov 2002 12:15:58 -0600 (CST)
Subject: behavior of =
In-Reply-To: <5.1.0.14.2.20021108095455.04aabdb0@mailhost.blackmesacapital.com>
Message-ID: <Pine.LNX.4.44.0211081215280.26767-100000@itasca.stat.uiowa.edu>

On Fri, 8 Nov 2002, Tony Plate wrote:

> At 08:41 AM 11/8/2002 -0800, A.J. Rossini wrote:
> >[...]
> >The "<-" assignment operator is beautiful.  It's taken me over a
> >decade, but I have come to appreciate it.  It isn't common, and there
> >are fewer and fewer ex-APL'ers, but I think it's a great choice.
> >
> >The use of "=" for named arguments in a function call signature makes
> >sense, and the use of "==" for equality makes sense.
> >
> >But syntactical sugar should only be messed with if broken (and yes,
> >this may be one of the few points that I'd disagree with John; I wish
> >he'd never introduced "=" as a possible assignment).
> >
> >best,
> >-tony
> 
> Yup, the S-language does have 3 separate symbols available for 3 separate 
> functions ("=" for named arguments, "<-" for assignment, and "==" for 
> equality).  Like Tony Rossini, I'd rather that these did not 
> overlap.  Would it be possible to give parse() (and source()) an argument, 
> or allow a pragma in a file, that would disallow the use of "=" for 
> assignment?  (Since "=" was introduced as an assignment operator in S 
> implementations, I've been bitten by the bug of a "="/"==" typo a couple of 
> times, and have never seen any benefit from the change.)

You can at least make sure you get a run time error by redefining "="
something like

"="<-function(...) stop("'=' used for assignment--I don't like that")

Doing that now has the potential of messing up some packages you might
want to use.  R 1.7 should include a name space mechanism that will
let you do this privately within your packages so "=" is disabled for
you but not for other mackages.

luke

-- 
Luke Tierney
University of Iowa                  Phone:             319-335-3386
Department of Statistics and        Fax:               319-335-3017
   Actuarial Science
241 Schaeffer Hall                  email:      luke@stat.uiowa.edu
Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From brahm@alum.mit.edu  Fri Nov  8 21:11:23 2002
From: brahm@alum.mit.edu (David Brahm)
Date: Fri, 8 Nov 2002 16:11:23 -0500
Subject: strwidth(font=NULL)
Message-ID: <15820.10363.591848.18577@gargle.gargle.HOWL>

Hello,

   Would it be possible to give strwidth() and strheight() an argument "font",
that worked like the "cex" argument (i.e. defaults to current par("font"), but
can be overridden)?  Then I could replace this:

  R> oldpar <- par(font=2)
  R> x <- strwidth("hello")
  R> par(oldpar)

with this:

  R> x <- strwidth("hello", font=2)

Thanks!
-- 
                              -- David Brahm (brahm@alum.mit.edu)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Nov  8 22:25:35 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 8 Nov 2002 22:25:35 +0000 (GMT)
Subject: strwidth(font=NULL)
In-Reply-To: <15820.10363.591848.18577@gargle.gargle.HOWL>
Message-ID: <Pine.LNX.4.31.0211082220400.12649-100000@gannet.stats>

If you look in the code you will see this is mentioned as a if/when
possibility in several places.

See also bug report PR#776, from December 2000, so this is probably in the
Real Soon Now category.  Paul Murrell might have a better estimate!

On Fri, 8 Nov 2002, David Brahm wrote:

>    Would it be possible to give strwidth() and strheight() an argument "font",
> that worked like the "cex" argument (i.e. defaults to current par("font"), but
> can be overridden)?  Then I could replace this:
>
>   R> oldpar <- par(font=2)
>   R> x <- strwidth("hello")
>   R> par(oldpar)
>
> with this:
>
>   R> x <- strwidth("hello", font=2)
>
> Thanks!

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tkeitt@mail.utexas.edu  Sat Nov  9 04:34:36 2002
From: tkeitt@mail.utexas.edu (Timothy H. Keitt)
Date: 08 Nov 2002 20:34:36 -0800
Subject: Calling function with proto in Rinternals.h
Message-ID: <1036816477.4523.8.camel@ip68-6-78-9.sb.sd.cox.net>

(Tried this query on r-help with no luck, maybe someone here can help?)

I would like to call the 'RFinalizerEx' function that appears in
Rinternals.h using ".Call". It worked for me in the past, but now I get
an error message something like: 'call function name not in call table'.
I'm using the 1.6.1 rpm from CRAN. Anyone know what's going on? Thanks.

Tim 

-- 
Timothy H. Keitt
The University of Texas at Austin
Section of Integrative Biology
1 University Station C0930
Austin, Texas 78712-0253 USA

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jago@mclink.it  Sat Nov  9 08:46:24 2002
From: jago@mclink.it (Stefano Iacus)
Date: Sat, 9 Nov 2002 09:46:24 +0100
Subject: Mac specific - quartz leads to crash (PR#2276)
In-Reply-To: <200211081528.QAA09427@pubhealth.ku.dk>
Message-ID: <BA8F18E2-F3BF-11D6-B6A4-003065CC4CB8@mclink.it>

Martin,

which version of R are you currently using? Carbon R or Darwin R?

It is true that you can't resize the window (this is not a bug and I'll  
change thi behaviour).
You can close the window using the dev.off() command.

You can't copy from this window (yet) and this lead to a crash: this a  
bug and I'll fix it.

But, either using Carbon R or Darwin R I never experienced a crash just  
waiting for 20 secs. Please, give me the exact step you do to arrive to  
a crash otherwise I cannot debug this.

stefano

On Friday, November 8, 2002, at 04:28 PM, h95mr@mun.ca wrote:

> Full_Name: Martin Renner
> Version: 1.6.0
> OS: MacOS X 10.2.1
> Submission from: (NULL) (134.153.109.176)
>
>
> Opening a new graphics device with quartz () produces a quartz window  
> but it
> cannot be resized, there's no red close-button and R usually crashes  
> within the
> next 20 seconds (unexpectedly quit). Also, I can't copy this window  
> (copy does
> not do anything, old clipboard is not replaced).
>
> Thank you,
>
> Martin
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
> .-.-.-.-.-
> r-devel mailing list -- Read  
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To:  
> r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
> ._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sat Nov  9 12:05:58 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Nov 2002 13:05:58 +0100
Subject: Calling function with proto in Rinternals.h
In-Reply-To: <1036816477.4523.8.camel@ip68-6-78-9.sb.sd.cox.net>
References: <1036816477.4523.8.camel@ip68-6-78-9.sb.sd.cox.net>
Message-ID: <x21y5vlzh5.fsf@biostat.ku.dk>

"Timothy H. Keitt" <tkeitt@mail.utexas.edu> writes:

> (Tried this query on r-help with no luck, maybe someone here can help?)
> 
> I would like to call the 'RFinalizerEx' function that appears in
> Rinternals.h using ".Call". It worked for me in the past, but now I get
> an error message something like: 'call function name not in call table'.
> I'm using the 1.6.1 rpm from CRAN. Anyone know what's going on? Thanks.

I don't see a function of that name in there?

$ find BUILD/include -name *.[ch] | xargs grep FinalizerEx
BUILD/include/Rinternals.h:void R_RegisterFinalizerEx(SEXP s,
 SEXP fun, Rboolean onexit);
BUILD/include/Rinternals.h:void R_RegisterCFinalizerEx(SEXP s,
 R_CFinalizer_t fun, Rboolean onexit);

However, you can't find those with is.loaded either. I'm getting rusty
on the linker issues, but I don't think you can expect to call just
any function in the C level interface using .Call. (Perhaps we need
another section in "Writing R Extensions"? -- I couldn't find a clear
indication of what, if any, functions are getting exported to .C and
friends from the main binary and by which mechanism.)

Notice the existence of reg.finalizer(), which may be the
functionality you were looking for in the first place.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sat Nov  9 15:06:24 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 9 Nov 2002 15:06:24 +0000 (GMT)
Subject: Calling function with proto in Rinternals.h
In-Reply-To: <x21y5vlzh5.fsf@biostat.ku.dk>
Message-ID: <Pine.LNX.4.31.0211091501580.13633-100000@gannet.stats>

On 9 Nov 2002, Peter Dalgaard BSA wrote:

> "Timothy H. Keitt" <tkeitt@mail.utexas.edu> writes:
>
> > (Tried this query on r-help with no luck, maybe someone here can help?)
> >
> > I would like to call the 'RFinalizerEx' function that appears in
> > Rinternals.h using ".Call". It worked for me in the past, but now I get
> > an error message something like: 'call function name not in call table'.
> > I'm using the 1.6.1 rpm from CRAN. Anyone know what's going on? Thanks.
>
> I don't see a function of that name in there?
>
> $ find BUILD/include -name *.[ch] | xargs grep FinalizerEx
> BUILD/include/Rinternals.h:void R_RegisterFinalizerEx(SEXP s,
>  SEXP fun, Rboolean onexit);
> BUILD/include/Rinternals.h:void R_RegisterCFinalizerEx(SEXP s,
>  R_CFinalizer_t fun, Rboolean onexit);
>
> However, you can't find those with is.loaded either. I'm getting rusty
> on the linker issues, but I don't think you can expect to call just
> any function in the C level interface using .Call. (Perhaps we need
> another section in "Writing R Extensions"? -- I couldn't find a clear
> indication of what, if any, functions are getting exported to .C and
> friends from the main binary and by which mechanism.)

It's file src/appl/ROUTINES which is used to generate the appropriate
headers: see src/appl/README.  Under Unix this is done in src/unix.

I don't think it should be in R-exts.texi, as only R-core can extend R
this way (and those who do so know how to do so ...).


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sat Nov  9 15:31:20 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Nov 2002 16:31:20 +0100
Subject: Calling function with proto in Rinternals.h
In-Reply-To: <Pine.LNX.4.31.0211091501580.13633-100000@gannet.stats>
References: <Pine.LNX.4.31.0211091501580.13633-100000@gannet.stats>
Message-ID: <x2wunmlpyv.fsf@biostat.ku.dk>

ripley@stats.ox.ac.uk writes:

> > However, you can't find those with is.loaded either. I'm getting rusty
> > on the linker issues, but I don't think you can expect to call just
> > any function in the C level interface using .Call. (Perhaps we need
> > another section in "Writing R Extensions"? -- I couldn't find a clear
> > indication of what, if any, functions are getting exported to .C and
> > friends from the main binary and by which mechanism.)
> 
> It's file src/appl/ROUTINES which is used to generate the appropriate
> headers: see src/appl/README.  Under Unix this is done in src/unix.
> 
> I don't think it should be in R-exts.texi, as only R-core can extend R
> this way (and those who do so know how to do so ...).

(...but tend to forget over time.)

Not as an extension mechanism, agreed, but it could be there in the
form of a reference for the entry points that are available to R code.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From duncan@research.bell-labs.com  Sat Nov  9 15:45:35 2002
From: duncan@research.bell-labs.com (Duncan Temple Lang)
Date: Sat, 9 Nov 2002 10:45:35 -0500
Subject: Calling function with proto in Rinternals.h
In-Reply-To: <x2wunmlpyv.fsf@biostat.ku.dk>; from p.dalgaard@biostat.ku.dk on Sat, Nov 09, 2002 at 04:31:20PM +0100
References: <Pine.LNX.4.31.0211091501580.13633-100000@gannet.stats> <x2wunmlpyv.fsf@biostat.ku.dk>
Message-ID: <20021109104535.B3699@jessie.research.bell-labs.com>

Peter Dalgaard BSA wrote:
> ripley@stats.ox.ac.uk writes:
> 
> > > However, you can't find those with is.loaded either. I'm getting rusty
> > > on the linker issues, but I don't think you can expect to call just
> > > any function in the C level interface using .Call. (Perhaps we need
> > > another section in "Writing R Extensions"? -- I couldn't find a clear
> > > indication of what, if any, functions are getting exported to .C and
> > > friends from the main binary and by which mechanism.)
> > 
> > It's file src/appl/ROUTINES which is used to generate the appropriate
> > headers: see src/appl/README.  Under Unix this is done in src/unix.
> > 
> > I don't think it should be in R-exts.texi, as only R-core can extend R
> > this way (and those who do so know how to do so ...).
> 
> (...but tend to forget over time.)
> 
> Not as an extension mechanism, agreed, but it could be there in the
> form of a reference for the entry points that are available to R code.

I mentioned in Boston that we will probably move these to the explicit
registration mechanism for C/Fortran routines so that there is a
single mechanism for both core and package code.  One of the
side-effects of this is that we will get run-time reflectance; so from
within R one will be able to ask for the available exported routines
and any information supplied for them such as the number of arguments,
etc.

I'll hopefully get to this sometime soon and when I can determine that
it doesn't break anything on the different platforms.

> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
_______________________________________________________________

Duncan Temple Lang                duncan@research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tkeitt@mail.utexas.edu  Sat Nov  9 15:51:45 2002
From: tkeitt@mail.utexas.edu (Timothy H. Keitt)
Date: 09 Nov 2002 07:51:45 -0800
Subject: Calling function with proto in Rinternals.h
In-Reply-To: <x21y5vlzh5.fsf@biostat.ku.dk>
References: <1036816477.4523.8.camel@ip68-6-78-9.sb.sd.cox.net>
 <x21y5vlzh5.fsf@biostat.ku.dk>
Message-ID: <1036857106.8203.5.camel@ip68-6-78-9.sb.sd.cox.net>

Ah, perfect (reg.finalizer). Thanks.

T.

On Sat, 2002-11-09 at 04:05, Peter Dalgaard BSA wrote:
> "Timothy H. Keitt" <tkeitt@mail.utexas.edu> writes:
> 
> > (Tried this query on r-help with no luck, maybe someone here can help?)
> > 
> > I would like to call the 'RFinalizerEx' function that appears in
> > Rinternals.h using ".Call". It worked for me in the past, but now I get
> > an error message something like: 'call function name not in call table'.
> > I'm using the 1.6.1 rpm from CRAN. Anyone know what's going on? Thanks.
> 
> I don't see a function of that name in there?
> 
> $ find BUILD/include -name *.[ch] | xargs grep FinalizerEx
> BUILD/include/Rinternals.h:void R_RegisterFinalizerEx(SEXP s,
>  SEXP fun, Rboolean onexit);
> BUILD/include/Rinternals.h:void R_RegisterCFinalizerEx(SEXP s,
>  R_CFinalizer_t fun, Rboolean onexit);
> 
> However, you can't find those with is.loaded either. I'm getting rusty
> on the linker issues, but I don't think you can expect to call just
> any function in the C level interface using .Call. (Perhaps we need
> another section in "Writing R Extensions"? -- I couldn't find a clear
> indication of what, if any, functions are getting exported to .C and
> friends from the main binary and by which mechanism.)
> 
> Notice the existence of reg.finalizer(), which may be the
> functionality you were looking for in the first place.
> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-- 
Timothy H. Keitt
The University of Texas at Austin
Section of Integrative Biology
1 University Station C0930
Austin, Texas 78712-0253 USA

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tkeitt@mail.utexas.edu  Sat Nov  9 16:11:11 2002
From: tkeitt@mail.utexas.edu (Timothy H. Keitt)
Date: 09 Nov 2002 08:11:11 -0800
Subject: Calling function with proto in Rinternals.h
In-Reply-To: <1036857106.8203.5.camel@ip68-6-78-9.sb.sd.cox.net>
References: <1036816477.4523.8.camel@ip68-6-78-9.sb.sd.cox.net>
 <x21y5vlzh5.fsf@biostat.ku.dk>
 <1036857106.8203.5.camel@ip68-6-78-9.sb.sd.cox.net>
Message-ID: <1036858272.8268.14.camel@ip68-6-78-9.sb.sd.cox.net>

Quick follow up question -- does reg.finalizer() use the "on exit"
option. (If not, perhaps it could be added as a flag?)

T.

On Sat, 2002-11-09 at 07:51, Timothy H. Keitt wrote:
> Ah, perfect (reg.finalizer). Thanks.
> 
> T.
> 

-- 
Timothy H. Keitt
The University of Texas at Austin
Section of Integrative Biology
1 University Station C0930
Austin, Texas 78712-0253 USA

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Sat Nov  9 17:55:18 2002
From: edd@debian.org (Dirk Eddelbuettel)
Date: Sat, 9 Nov 2002 11:55:18 -0600
Subject: (PR#2275) Re: Bug#168259: r-base-core: help.start() assumes netscape is installed
In-Reply-To: <Pine.LNX.4.31.0211081545310.10657-100000@gannet.stats>
References: <200211081502.QAA09163@pubhealth.ku.dk> <Pine.LNX.4.31.0211081545310.10657-100000@gannet.stats>
Message-ID: <20021109175518.GA2518@sonny.eddelbuettel.com>

On Fri, Nov 08, 2002 at 03:51:10PM +0000, ripley@stats.ox.ac.uk wrote:
> > To best of my knowledge, this R feature dates from a time when
> > Netscape was essentially the only browser out there. It also had
> > a most useful feature: you could attach new request (resulting in
> > a new "frame" in X11 / window manager parlance) to a running Netscape
> > making startup for this request /much/ faster than starting a new
> > Netscape executable.
> 
> and netscape no longer allows multiple executables to run.

I just confirmed that mozilla does. E.g.
  mozilla http://bbc.com & sleep 3; mozilla -remote "openurl(http://cnn.com)"
happily switches the running session from the BBC to CNN.

Neither galeon [ a mozilla derivative ] nor konqueror [ different codebase ]
appear to support it.

Would there be interest in a solution based on mozilla?  Mozilla is
cross-platform [ I use it under NT and *love* the tabbing ] but not that
common.

Dirk

-- 
The only function of economic forecasting is to make astrology 
look respectable.                    -- John Kenneth Galbraith
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossini@u.washington.edu  Sat Nov  9 18:56:55 2002
From: rossini@u.washington.edu (A.J. Rossini)
Date: 09 Nov 2002 10:56:55 -0800
Subject: (PR#2275) Re: Bug#168259: r-base-core: help.start() assumes netscape is installed
In-Reply-To: <20021109175518.GA2518@sonny.eddelbuettel.com>
References: <200211081502.QAA09163@pubhealth.ku.dk>
 <Pine.LNX.4.31.0211081545310.10657-100000@gannet.stats>
 <20021109175518.GA2518@sonny.eddelbuettel.com>
Message-ID: <87adkiy3k8.fsf@jeeves.blindglobe.net>

>>>>> "dirk" == Dirk Eddelbuettel <edd@debian.org> writes:

    dirk> On Fri, Nov 08, 2002 at 03:51:10PM +0000, ripley@stats.ox.ac.uk wrote:
    >> > To best of my knowledge, this R feature dates from a time when
    >> > Netscape was essentially the only browser out there. It also had
    >> > a most useful feature: you could attach new request (resulting in
    >> > a new "frame" in X11 / window manager parlance) to a running Netscape
    >> > making startup for this request /much/ faster than starting a new
    >> > Netscape executable.
    >> 
    >> and netscape no longer allows multiple executables to run.

    dirk> I just confirmed that mozilla does. E.g.  mozilla
    dirk> http://bbc.com & sleep 3; mozilla -remote
    dirk> "openurl(http://cnn.com)" happily switches the running
    dirk> session from the BBC to CNN.

    dirk> Neither galeon [ a mozilla derivative ] nor konqueror [
    dirk> different codebase ] appear to support it.

Weird.  Galeon can support both "adding a tab" as well as "separate
executable", apparently -- a few days ago, I was getting both from
different tools with "fetch a URL" features (mostly of the dockapps
variety).

Same with recent konquerors...

(however, Mozilla seems to be the most stable cross platform -- I'm
having weird errors on LinuxPPC).

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini@u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini@scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossini@u.washington.edu  Sat Nov  9 18:57:09 2002
From: rossini@u.washington.edu (A.J. Rossini)
Date: 09 Nov 2002 10:57:09 -0800
Subject: (PR#2275) Re: Bug#168259: r-base-core: help.start() assumes netscape is installed
In-Reply-To: <20021109175518.GA2518@sonny.eddelbuettel.com>
References: <200211081502.QAA09163@pubhealth.ku.dk>
 <Pine.LNX.4.31.0211081545310.10657-100000@gannet.stats>
 <20021109175518.GA2518@sonny.eddelbuettel.com>
Message-ID: <877kfmy3ju.fsf@jeeves.blindglobe.net>

>>>>> "dirk" == Dirk Eddelbuettel <edd@debian.org> writes:

    dirk> On Fri, Nov 08, 2002 at 03:51:10PM +0000, ripley@stats.ox.ac.uk wrote:
    >> > To best of my knowledge, this R feature dates from a time when
    >> > Netscape was essentially the only browser out there. It also had
    >> > a most useful feature: you could attach new request (resulting in
    >> > a new "frame" in X11 / window manager parlance) to a running Netscape
    >> > making startup for this request /much/ faster than starting a new
    >> > Netscape executable.
    >> 
    >> and netscape no longer allows multiple executables to run.

    dirk> I just confirmed that mozilla does. E.g.  mozilla
    dirk> http://bbc.com & sleep 3; mozilla -remote
    dirk> "openurl(http://cnn.com)" happily switches the running
    dirk> session from the BBC to CNN.

    dirk> Neither galeon [ a mozilla derivative ] nor konqueror [
    dirk> different codebase ] appear to support it.

Weird.  Galeon can support both "adding a tab" as well as "separate
executable", apparently -- a few days ago, I was getting both from
different tools with "fetch a URL" features (mostly of the dockapps
variety).

Same with recent konquerors...

(however, Mozilla seems to be the most stable cross platform -- I'm
having weird errors on LinuxPPC with galeon/konq).

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini@u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini@scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sat Nov  9 19:57:02 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Nov 2002 20:57:02 +0100
Subject: Calling function with proto in Rinternals.h
In-Reply-To: <1036858272.8268.14.camel@ip68-6-78-9.sb.sd.cox.net>
References: <1036816477.4523.8.camel@ip68-6-78-9.sb.sd.cox.net>
 <x21y5vlzh5.fsf@biostat.ku.dk>
 <1036857106.8203.5.camel@ip68-6-78-9.sb.sd.cox.net>
 <1036858272.8268.14.camel@ip68-6-78-9.sb.sd.cox.net>
Message-ID: <x2isz6ldo1.fsf@biostat.ku.dk>

"Timothy H. Keitt" <tkeitt@mail.utexas.edu> writes:

> Quick follow up question -- does reg.finalizer() use the "on exit"
> option. (If not, perhaps it could be added as a flag?)

It doesn't, but it might be added. Patches will be considered. (But how
did you manage to use .Call on

void R_RegisterFinalizerEx(SEXP s, SEXP fun, Rboolean onexit)

?? I thought all the arguments had to be SEXP in that interface.)

BTW, it seems that the internal C symbols become visible if you
compile R as a shared library, so that's probably what happened to
you: Your new build didn't do that. (It's obviously still not a good
idea to call such build-dependent entry points...).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Sat Nov  9 20:50:13 2002
From: edd@debian.org (Dirk Eddelbuettel)
Date: Sat, 9 Nov 2002 14:50:13 -0600
Subject: (PR#2275) Re: Bug#168259: r-base-core: help.start() assumes netscape is installed
In-Reply-To: <877kfmy3ju.fsf@jeeves.blindglobe.net>
References: <200211081502.QAA09163@pubhealth.ku.dk> <Pine.LNX.4.31.0211081545310.10657-100000@gannet.stats> <20021109175518.GA2518@sonny.eddelbuettel.com> <877kfmy3ju.fsf@jeeves.blindglobe.net>
Message-ID: <20021109205013.GA6563@sonny.eddelbuettel.com>

On Sat, Nov 09, 2002 at 10:57:09AM -0800, A.J. Rossini wrote:
> >>>>> "dirk" == Dirk Eddelbuettel <edd@debian.org> writes:
> 
>     dirk> On Fri, Nov 08, 2002 at 03:51:10PM +0000, ripley@stats.ox.ac.uk wrote:
>     >> > To best of my knowledge, this R feature dates from a time when
>     >> > Netscape was essentially the only browser out there. It also had
>     >> > a most useful feature: you could attach new request (resulting in
>     >> > a new "frame" in X11 / window manager parlance) to a running Netscape
>     >> > making startup for this request /much/ faster than starting a new
>     >> > Netscape executable.
>     >> 
>     >> and netscape no longer allows multiple executables to run.
> 
>     dirk> I just confirmed that mozilla does. E.g.  mozilla
>     dirk> http://bbc.com & sleep 3; mozilla -remote
>     dirk> "openurl(http://cnn.com)" happily switches the running
>     dirk> session from the BBC to CNN.
> 
>     dirk> Neither galeon [ a mozilla derivative ] nor konqueror [
>     dirk> different codebase ] appear to support it.
> 
> Weird.  Galeon can support both "adding a tab" as well as "separate
> executable", apparently -- a few days ago, I was getting both from
> different tools with "fetch a URL" features (mostly of the dockapps
> variety).
> 
> Same with recent konquerors...

Ah. I may be behind then as far as versions are concerned. Debian testing,
galeon 1.2.5, konqueror 2.2.2.

Dirk

-- 
The only function of economic forecasting is to make astrology 
look respectable.                    -- John Kenneth Galbraith
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Sat Nov  9 20:51:13 2002
From: edd@debian.org (edd@debian.org)
Date: Sat, 9 Nov 2002 21:51:13 +0100 (MET)
Subject: (PR#2275) Re: Bug#168259: r-base-core: help.start() assumes netscape is installed
Message-ID: <200211092051.VAA14973@pubhealth.ku.dk>

On Sat, Nov 09, 2002 at 10:57:09AM -0800, A.J. Rossini wrote:
> >>>>> "dirk" == Dirk Eddelbuettel <edd@debian.org> writes:
> 
>     dirk> On Fri, Nov 08, 2002 at 03:51:10PM +0000, ripley@stats.ox.ac.uk wrote:
>     >> > To best of my knowledge, this R feature dates from a time when
>     >> > Netscape was essentially the only browser out there. It also had
>     >> > a most useful feature: you could attach new request (resulting in
>     >> > a new "frame" in X11 / window manager parlance) to a running Netscape
>     >> > making startup for this request /much/ faster than starting a new
>     >> > Netscape executable.
>     >> 
>     >> and netscape no longer allows multiple executables to run.
> 
>     dirk> I just confirmed that mozilla does. E.g.  mozilla
>     dirk> http://bbc.com & sleep 3; mozilla -remote
>     dirk> "openurl(http://cnn.com)" happily switches the running
>     dirk> session from the BBC to CNN.
> 
>     dirk> Neither galeon [ a mozilla derivative ] nor konqueror [
>     dirk> different codebase ] appear to support it.
> 
> Weird.  Galeon can support both "adding a tab" as well as "separate
> executable", apparently -- a few days ago, I was getting both from
> different tools with "fetch a URL" features (mostly of the dockapps
> variety).
> 
> Same with recent konquerors...

Ah. I may be behind then as far as versions are concerned. Debian testing,
galeon 1.2.5, konqueror 2.2.2.

Dirk

-- 
The only function of economic forecasting is to make astrology 
look respectable.                    -- John Kenneth Galbraith

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sat Nov  9 21:17:47 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 9 Nov 2002 21:17:47 +0000 (GMT)
Subject: (PR#2275) Re: Bug#168259: r-base-core: help.start() assumes
 netscape is installed
In-Reply-To: <20021109175518.GA2518@sonny.eddelbuettel.com>
Message-ID: <Pine.LNX.4.31.0211092107370.13879-100000@gannet.stats>

On Sat, 9 Nov 2002, Dirk Eddelbuettel wrote:

> On Fri, Nov 08, 2002 at 03:51:10PM +0000, ripley@stats.ox.ac.uk wrote:
> > > To best of my knowledge, this R feature dates from a time when
> > > Netscape was essentially the only browser out there. It also had
> > > a most useful feature: you could attach new request (resulting in
> > > a new "frame" in X11 / window manager parlance) to a running Netscape
> > > making startup for this request /much/ faster than starting a new
> > > Netscape executable.
> >
> > and netscape no longer allows multiple executables to run.
>
> I just confirmed that mozilla does. E.g.
>   mozilla http://bbc.com & sleep 3; mozilla -remote "openurl(http://cnn.com)"
> happily switches the running session from the BBC to CNN.

That's not running multiple executables: that is remote-controlling an
existing one.  Not only that, the second command takes over any existing
mozilla on the display, even one running on a completely different machine
(e.g. a session on a remote Solaris box).  It's the last part that is
fatal to the earlier help.start/help scheme.

For me, on Linux, both Mozilla 1.1 and Netscape 7.0 refuse to allow me to
run a new copy if one is already running.  This is an issue as the
help.start/help interface tries to run a new copy if running R remotely.

They do allow multiple invocations under Windows and seem only to run one
copy.

Try mozilla http://bbc.com & sleep 20; mozilla http://cnn.com.
I get a dialog box telling me a copy is already running under my profile
and refusing to allow me to run another one.

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Sat Nov  9 21:43:33 2002
From: edd@debian.org (Dirk Eddelbuettel)
Date: Sat, 9 Nov 2002 15:43:33 -0600
Subject: (PR#2275) Re: Bug#168259: r-base-core: help.start() assumes netscape is installed
In-Reply-To: <Pine.LNX.4.31.0211092107370.13879-100000@gannet.stats>
References: <20021109175518.GA2518@sonny.eddelbuettel.com> <Pine.LNX.4.31.0211092107370.13879-100000@gannet.stats>
Message-ID: <20021109214333.GA7627@sonny.eddelbuettel.com>

On Sat, Nov 09, 2002 at 09:17:47PM +0000, ripley@stats.ox.ac.uk wrote:
> > > and netscape no longer allows multiple executables to run.
> >
> > I just confirmed that mozilla does. E.g.
> >   mozilla http://bbc.com & sleep 3; mozilla -remote "openurl(http://cnn.com)"
> > happily switches the running session from the BBC to CNN.
> 
> That's not running multiple executables: that is remote-controlling an
> existing one.  Not only that, the second command takes over any existing
> mozilla on the display, even one running on a completely different machine
> (e.g. a session on a remote Solaris box).  It's the last part that is
> fatal to the earlier help.start/help scheme.
> 
> For me, on Linux, both Mozilla 1.1 and Netscape 7.0 refuse to allow me to
> run a new copy if one is already running.  This is an issue as the
> help.start/help interface tries to run a new copy if running R remotely.
> 
> They do allow multiple invocations under Windows and seem only to run one
> copy.
> 
> Try mozilla http://bbc.com & sleep 20; mozilla http://cnn.com.
> I get a dialog box telling me a copy is already running under my profile
> and refusing to allow me to run another one.

This works for me! I get two distinct ;frames'. And "pstree -p" shows only
one main process with one child which has four other child processes.  So it
looks as if they are sharing.

[ some more snooping ]

Indeed. Once I start the 2nd one, ps show mozilla-remote as a parallel
process. This then seems to migrate into the earlier mozilla even when that
one was started in a different shell.  File->Quit also brings both frames to
an end.  mozilla-1.0.0 as in Debian testing.

Dirk


-- 
The only function of economic forecasting is to make astrology 
look respectable.                    -- John Kenneth Galbraith
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sat Nov  9 22:01:52 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 9 Nov 2002 22:01:52 +0000 (GMT)
Subject: (PR#2275) Re: Bug#168259: r-base-core: help.start() assumes
 netscape is installed
In-Reply-To: <20021109214333.GA7627@sonny.eddelbuettel.com>
Message-ID: <Pine.LNX.4.31.0211092147250.14000-100000@gannet.stats>

On Sat, 9 Nov 2002, Dirk Eddelbuettel wrote:

> On Sat, Nov 09, 2002 at 09:17:47PM +0000, ripley@stats.ox.ac.uk wrote:
> > > > and netscape no longer allows multiple executables to run.
> > >
> > > I just confirmed that mozilla does. E.g.
> > >   mozilla http://bbc.com & sleep 3; mozilla -remote "openurl(http://cnn.com)"
> > > happily switches the running session from the BBC to CNN.
> >
> > That's not running multiple executables: that is remote-controlling an
> > existing one.  Not only that, the second command takes over any existing
> > mozilla on the display, even one running on a completely different machine
> > (e.g. a session on a remote Solaris box).  It's the last part that is
> > fatal to the earlier help.start/help scheme.
> >
> > For me, on Linux, both Mozilla 1.1 and Netscape 7.0 refuse to allow me to
> > run a new copy if one is already running.  This is an issue as the
> > help.start/help interface tries to run a new copy if running R remotely.
> >
> > They do allow multiple invocations under Windows and seem only to run one
> > copy.
> >
> > Try mozilla http://bbc.com & sleep 20; mozilla http://cnn.com.
> > I get a dialog box telling me a copy is already running under my profile
> > and refusing to allow me to run another one.
>
> This works for me! I get two distinct ;frames'. And "pstree -p" shows only
> one main process with one child which has four other child processes.  So it
> looks as if they are sharing.
>
> [ some more snooping ]
>
> Indeed. Once I start the 2nd one, ps show mozilla-remote as a parallel
> process. This then seems to migrate into the earlier mozilla even when that
> one was started in a different shell.  File->Quit also brings both frames to
> an end.  mozilla-1.0.0 as in Debian testing.

That's what happened a year or so ago, and in Netscape 6.2.  But that is
not the current mozilla release, if Debian use Mozilla's numbering scheme.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Sat Nov  9 22:16:06 2002
From: edd@debian.org (Dirk Eddelbuettel)
Date: Sat, 9 Nov 2002 16:16:06 -0600
Subject: (PR#2275) Re: Bug#168259: r-base-core: help.start() assumes netscape is installed
In-Reply-To: <Pine.LNX.4.31.0211092147250.14000-100000@gannet.stats>
References: <20021109214333.GA7627@sonny.eddelbuettel.com> <Pine.LNX.4.31.0211092147250.14000-100000@gannet.stats>
Message-ID: <20021109221606.GA8552@sonny.eddelbuettel.com>

On Sat, Nov 09, 2002 at 10:01:52PM +0000, ripley@stats.ox.ac.uk wrote:
> On Sat, 9 Nov 2002, Dirk Eddelbuettel wrote:
> 
> > On Sat, Nov 09, 2002 at 09:17:47PM +0000, ripley@stats.ox.ac.uk wrote:
> > > > > and netscape no longer allows multiple executables to run.
> > > >
> > > > I just confirmed that mozilla does. E.g.
> > > >   mozilla http://bbc.com & sleep 3; mozilla -remote "openurl(http://cnn.com)"
> > > > happily switches the running session from the BBC to CNN.
> > >
> > > That's not running multiple executables: that is remote-controlling an
> > > existing one.  Not only that, the second command takes over any existing
> > > mozilla on the display, even one running on a completely different machine
> > > (e.g. a session on a remote Solaris box).  It's the last part that is
> > > fatal to the earlier help.start/help scheme.
> > >
> > > For me, on Linux, both Mozilla 1.1 and Netscape 7.0 refuse to allow me to
> > > run a new copy if one is already running.  This is an issue as the
> > > help.start/help interface tries to run a new copy if running R remotely.
> > >
> > > They do allow multiple invocations under Windows and seem only to run one
> > > copy.
> > >
> > > Try mozilla http://bbc.com & sleep 20; mozilla http://cnn.com.
> > > I get a dialog box telling me a copy is already running under my profile
> > > and refusing to allow me to run another one.
> >
> > This works for me! I get two distinct ;frames'. And "pstree -p" shows only
> > one main process with one child which has four other child processes.  So it
> > looks as if they are sharing.
> >
> > [ some more snooping ]
> >
> > Indeed. Once I start the 2nd one, ps show mozilla-remote as a parallel
> > process. This then seems to migrate into the earlier mozilla even when that
> > one was started in a different shell.  File->Quit also brings both frames to
> > an end.  mozilla-1.0.0 as in Debian testing.
> 
> That's what happened a year or so ago, and in Netscape 6.2.  But that is
> not the current mozilla release, if Debian use Mozilla's numbering scheme.

mozilla-1.1 is in Debian unstable. I run Debian testing into which packages
from unstable migrate after two weeks -- unless there are unmet
dependencies or bugs or ...   With something like gnome or mozilla the
migration is often delayed.

But if the feature is missing in 1.1, I am not sure I can do something
useful here. Too bad.

-- 
The only function of economic forecasting is to make astrology 
look respectable.                    -- John Kenneth Galbraith
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tkeitt@mail.utexas.edu  Sun Nov 10 07:42:24 2002
From: tkeitt@mail.utexas.edu (Timothy H. Keitt)
Date: 09 Nov 2002 23:42:24 -0800
Subject: Calling function with proto in Rinternals.h
In-Reply-To: <x2isz6ldo1.fsf@biostat.ku.dk>
References: <1036816477.4523.8.camel@ip68-6-78-9.sb.sd.cox.net>
 <x21y5vlzh5.fsf@biostat.ku.dk>
 <1036857106.8203.5.camel@ip68-6-78-9.sb.sd.cox.net>
 <1036858272.8268.14.camel@ip68-6-78-9.sb.sd.cox.net>
 <x2isz6ldo1.fsf@biostat.ku.dk>
Message-ID: <1036914144.21672.10.camel@ip68-6-78-9.sb.sd.cox.net>

On Sat, 2002-11-09 at 11:57, Peter Dalgaard BSA wrote:
> "Timothy H. Keitt" <tkeitt@mail.utexas.edu> writes:
> 
> > Quick follow up question -- does reg.finalizer() use the "on exit"
> > option. (If not, perhaps it could be added as a flag?)
> 
> It doesn't, but it might be added. Patches will be considered. (But how
> did you manage to use .Call on
> 
> void R_RegisterFinalizerEx(SEXP s, SEXP fun, Rboolean onexit)
> 
> ?? I thought all the arguments had to be SEXP in that interface.)
> 
> BTW, it seems that the internal C symbols become visible if you
> compile R as a shared library, so that's probably what happened to
> you: Your new build didn't do that. (It's obviously still not a good
> idea to call such build-dependent entry points...).

Dunno why that worked; probably I was passing garbage in the last
parameter, but non-zero garbage is still true. I was using Debian and I
suppose it was dynamically linked, which is why using .Call worked at
all.

T.

> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-- 
Timothy H. Keitt
The University of Texas at Austin
Section of Integrative Biology
1 University Station C0930
Austin, Texas 78712-0253 USA

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Sun Nov 10 21:36:58 2002
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Sun, 10 Nov 2002 13:36:58 -0800 (PST)
Subject: Calling function with proto in Rinternals.h
In-Reply-To: <1036914144.21672.10.camel@ip68-6-78-9.sb.sd.cox.net>
Message-ID: <Pine.A41.4.44.0211101330360.132942-100000@homer07.u.washington.edu>

On 9 Nov 2002, Timothy H. Keitt wrote:

> On Sat, 2002-11-09 at 11:57, Peter Dalgaard BSA wrote:
> > "Timothy H. Keitt" <tkeitt@mail.utexas.edu> writes:
> >
> > > Quick follow up question -- does reg.finalizer() use the "on exit"
> > > option. (If not, perhaps it could be added as a flag?)
> >
> > It doesn't, but it might be added. Patches will be considered. (But how
> > did you manage to use .Call on
> >
> > void R_RegisterFinalizerEx(SEXP s, SEXP fun, Rboolean onexit)
> >
> > ?? I thought all the arguments had to be SEXP in that interface.)

Horrible things will happen on a 64-bit machine, where Rboolean and SEXP
are different lengths, but on a 32bit machine the argument passing is
likely to work (for suitably restricted definitions of `work').  I'm more
impressed by the fact you could .Call a void function when .Call expects a
SEXP return.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jmc@research.bell-labs.com  Mon Nov 11 16:26:52 2002
From: jmc@research.bell-labs.com (John Chambers)
Date: Mon, 11 Nov 2002 11:26:52 -0500
Subject: C macros NEW and MAKE_CLASS
Message-ID: <3DCFDA4C.E63962C3@research.bell-labs.com>

Definitions of these have been added to the r-devel version, following
page 441 in Programming with Data.

Typical use is in the style:

  char *class = "foo";  SEXP cldef, object;
  clDef = MAKE_CLASS(class);
  object = NEW(clDef);

Let me know of any problems.

John

-- 
John M. Chambers                  jmc@bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jenny@stat.ubc.ca  Mon Nov 11 19:49:58 2002
From: jenny@stat.ubc.ca (jenny@stat.ubc.ca)
Date: Mon, 11 Nov 2002 20:49:58 +0100 (MET)
Subject: PDF graphics -- color weirdness (PR#2281)
Message-ID: <200211111949.UAA00397@pubhealth.ku.dk>

Full_Name: Jenny Bryan
Version: 1.4.1
OS: Linux + Windows 2000
Submission from: (NULL) (24.80.7.215)


I'm using R 1.4.1 to make PDF graphics in a Linux environment.  I then include
them in a LaTeX document that I'm actually typesetting in Windows.  I don't
think the OSes have anything to do with this.

I use the foils documentclass, pdflatex to typeset, ppower4 to postprocess the
pdf file to get some nice features.  Once again, I don't think any of this is
the root of the problem.

It seems that the way R specifies colors for PDF figure elements and text has
quite a bit of diversity in it, but you'd never notice it until you putthese
PDFs onto a dark blue background in a document where "yellow" is the default
document foreground color.

What I've found is that, when the default page color is not white -- such as
when it's dark blue, as is typical for laptop presentations -- the colors in an
included pdf file generate by R can have some unexpected behavior.

I've created a pdf "talk" that is the best way to demonstrate this.  I'd be
pleased to send it to whomever might look into this.

But here's the short version:
Some objects appear to take their color not in an absolute way (as in "black"),
but relative to the current document context (as in some notion of the 'default
color' at this moment.  Which objects do this is pretty unpredictable.  Behavior
also seems to depend on current value of "par("bg").

As far as I can tell, objects in the figure break into three categories:

1) Appear as the color of "fg" (i.e. black) NO MATTER WHAT.  In my small
examples, only seems to happen for the tick mark labels produced by "axis()".

2) Appear as the current notion of the document's default color.  Happens for
figure box, plot points, and axis tick marks produced by "plot()".

3) Affected by the color of "bg".  If "bg = transparent", then these appear in
"fg" color.  If "bg = <somecolor>", then these appear in the current notion of
document default color.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.murrell@auckland.ac.nz  Mon Nov 11 23:58:32 2002
From: p.murrell@auckland.ac.nz (Paul Murrell)
Date: Tue, 12 Nov 2002 12:58:32 +1300
Subject: strwidth(font=NULL)
References: <Pine.LNX.4.31.0211082220400.12649-100000@gannet.stats>
Message-ID: <3DD04428.904A7C3@stat.auckland.ac.nz>

Hi


ripley@stats.ox.ac.uk wrote:
> 
> If you look in the code you will see this is mentioned as a if/when
> possibility in several places.
> 
> See also bug report PR#776, from December 2000, so this is probably in the
> Real Soon Now category.  Paul Murrell might have a better estimate!


I am half way through a change to R's font specification 
(see http://www.stat.auckland.ac.nz/~paul/R/fonts.html
and http://www.stat.auckland.ac.nz/~paul/R/paul-todo.html)
which will eventually filter down to R-code, including this change.

(unfortunately, I cannot give an estimate any more accurate than Brian's
at this stage)

Paul


> On Fri, 8 Nov 2002, David Brahm wrote:
> 
> >    Would it be possible to give strwidth() and strheight() an argument "font",
> > that worked like the "cex" argument (i.e. defaults to current par("font"), but
> > can be overridden)?  Then I could replace this:
> >
> >   R> oldpar <- par(font=2)
> >   R> x <- strwidth("hello")
> >   R> par(oldpar)
> >
> > with this:
> >
> >   R> x <- strwidth("hello", font=2)
> >
> > Thanks!
> 
> --
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Dr Paul Murrell
Department of Statistics
The University of Auckland
Private Bag 92019
Auckland
New Zealand
64 9 3737599 x5392
paul@stat.auckland.ac.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ligges@statistik.uni-dortmund.de  Tue Nov 12 08:44:39 2002
From: ligges@statistik.uni-dortmund.de (ligges@statistik.uni-dortmund.de)
Date: Tue, 12 Nov 2002 09:44:39 +0100 (MET)
Subject: [R] grid(): defaults of nx and ny do not correspond with axis() (PR#2282)
Message-ID: <200211120844.JAA03800@pubhealth.ku.dk>

wolfram@fischer-zim.ch wrote:
> 
> Problem:
>     When tick marks are set by axis(), the default grid() does not always
>     correspond with the tick marks, although the manual of grid() says:
>     nx,ny: ... When `NULL', as per default, the grid aligns with the
>            tick marks on the corresponding axis, when `NA', no grid
>            lines are drawn in the corresponding direction.
> 
> Example:
>     m <- 200; n <- 10; i <- 40
>     plot( 1:n, sample( 1:m, n, T ), type='b', yaxt='n' )
>     axis( side=2, at = seq( 0, m, i ), col='blue' )
>     grid( col='red', lty=2 )


I think the "bug" is a small inconsistency in the help page. With the
current design of axis() and par() it's not (at least not easily)
possible to make grid() that intelligent. For these cases the help page
tells us: "If more fine tuning is required, use abline(h = ., v = .)
directly."

To fix the "bug", I suggest a clarification in ?grid by inserting a few
words in the sentence you are citing, e.g.:
"When `NULL', as per default, the grid aligns with the tick marks on the
corresponding \emph{default} axis (i.e. tickmarks as computed by
axTicks()), [...]".

Uwe Ligges

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jarioksa@sun3.oulu.fi  Tue Nov 12 11:51:41 2002
From: jarioksa@sun3.oulu.fi (jarioksa@sun3.oulu.fi)
Date: Tue, 12 Nov 2002 12:51:41 +0100 (MET)
Subject: Wandering usr values in par(no.readonly=TRUW) (PR#2283)
Message-ID: <200211121151.MAA07319@pubhealth.ku.dk>

--==_Exmh_1801894504P
Content-Type: text/plain; charset=us-ascii

Dear R folks,

Initially I had a plotting routine using logarithmic y-axes that failed after
repeated calls if I tried to restore the graphical parameters (which I wanted to
do because I used `layout' within the routine. I tried to isolate the problem
and found out that the following code with logarithmic axis is sufficient for
reproducing the failure:

> plot2.log
function (x=1:2,y=1:2) 
{
   op <- par(no.readonly=TRUE)
   on.exit(par(op))
   cat(op$usr, "\n")
   plot(x, y, log="y")
   #par(op)
   invisible(op)
}

Here is a session with the typical error message (Infinite axis extents):

> op <- par(no.readonly=TRUE)
> op$usr
[1] 0 1 0 1
> plot2.log()$usr
0 1 0 1 
[1] 0 1 0 1
> plot2.log()$usr
0 1 1 10 
[1]  0  1  1 10
> plot2.log()$usr
0 1 10 1e+10 
Error in par(op) : Infinite axis extents [GPretty(1e+10,inf,5)]

So this happens only with a repeated call to logarithmic axes.

I found out this feature sometimes back in R-1.5*, but I regarded that as my 
own bug. It started to disturb me yesterday when I had a live R session in my 
lectures, and got to edit away the par-restoring code to continue.

Best wishes, Jari Oksanen


--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = 
 major = 1
 minor = 6.1
 year = 2002
 month = 11
 day = 01
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base

-- 
Jari Oksanen -- Dept Biology, Univ Oulu, 90014 Oulu, Finland
Ph. +358 8 5531526, cell +358 40 5136529, fax +358 8 5531061
email jari.oksanen@oulu.fi, homepage http://cc.oulu.fi/~jarioksa/



--==_Exmh_1801894504P
Content-Type: application/pgp-signature

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.6 (GNU/Linux)
Comment: Exmh version 2.1.1 10/15/1999

iD8DBQE90OsUWnxFzE9NjaURAcwSAJwJdXXP/qgUyCFahR4GsWbBxVl0YACeKBPe
AFIwTfrg/l7H0fr0HJONcaI=
=mkza
-----END PGP SIGNATURE-----

--==_Exmh_1801894504P--

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From mschwartz@medanalytics.com  Tue Nov 12 21:51:17 2002
From: mschwartz@medanalytics.com (Marc Schwartz)
Date: Tue, 12 Nov 2002 15:51:17 -0600
Subject: Wandering usr values in par(no.readonly=TRUW) (PR#2283)
In-Reply-To: <200211121151.MAA07319@pubhealth.ku.dk>
Message-ID: <003801c28a95$a246bbe0$0201a8c0@MARC>

> -----Original Message-----
> jarioksa@sun3.oulu.fi
> 
> Dear R folks,
> 
> Initially I had a plotting routine using logarithmic y-axes
> that failed after repeated calls if I tried to restore the 
> graphical parameters (which I wanted to do because I used 
> `layout' within the routine. I tried to isolate the problem 
> and found out that the following code with logarithmic axis 
> is sufficient for reproducing the failure:
> 
> > plot2.log
> function (x=1:2,y=1:2)
> {
>    op <- par(no.readonly=TRUE)
>    on.exit(par(op))
>    cat(op$usr, "\n")
>    plot(x, y, log="y")
>    #par(op)
>    invisible(op)
> }
> 
> Here is a session with the typical error message (Infinite
> axis extents):
> 
> > op <- par(no.readonly=TRUE)
> > op$usr
> [1] 0 1 0 1
> > plot2.log()$usr
> 0 1 0 1
> [1] 0 1 0 1
> > plot2.log()$usr
> 0 1 1 10
> [1]  0  1  1 10
> > plot2.log()$usr
> 0 1 10 1e+10
> Error in par(op) : Infinite axis extents [GPretty(1e+10,inf,5)]
> 
> So this happens only with a repeated call to logarithmic axes.
> 
> I found out this feature sometimes back in R-1.5*, but I
> regarded that as my 
> own bug. It started to disturb me yesterday when I had a live 
> R session in my 
> lectures, and got to edit away the par-restoring code to continue.
> 
> Best wishes, Jari Oksanen

This works outside of the function as well by repeating the following 6
lines, 3 times:

op <- par(no.readonly=TRUE)
plot(1:2, 1:2, log = "y")
par(op)
# take note of the following values as they change with each iteration
op$usr
par("usr")

However, if you close the plot window before each subsequent iteration,
it does not occur and you can repeat ad nauseaum, presumably because a
fresh plotting device with the default pars is being created each time.

It would appear at first glance that the values being returned to
par("usr") from op$usr after the plot() with a log axis are the "log
axis transformed" par("usr") values.

That is par("usr") starts as 0, 1, 0, 1 before plotting. 

After the first log plot, the restored par("usr") is now 0, 1, 1, 10. 

At that point, par("usr")[3:4] which are the y-axis related values, are
10 ^ 0 and 10 ^ 1 respectively, which is consistent with the way that
the par("usr") values are transformed when using log scaling.

This continues on the second iteration as the starting values for
par("usr")[3:4] of 1 and 10 after being restored are now transformed
into 10 ^ 1 and 10 ^ 10 respectively.

It would seem that upon the restoration of the initial stored par
values, the values are being restored as if they are exponents.

BTW, this occurs with log = "x" and log = "xy" as well, thus affecting
the first two and all four par("usr") values, respectively, in a similar
fashion.

I am guessing that this may be the result of par("ylog") and par("xlog")
being read only and perhaps impacting the restoration of the par("usr")
values when the plotting device is still open, but that may be
incorrect.

HTH a little,

Marc Schwartz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Wed Nov 13 13:31:56 2002
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Wed, 13 Nov 2002 14:31:56 +0100 (MET)
Subject: Welch versus Satterthwaith (PR#2111)
Message-ID: <200211131331.OAA20882@pubhealth.ku.dk>

>>>>> "TL" == Thomas Lumley <tlumley@u.washington.edu>
>>>>>     on Sun, 6 Oct 2002 09:19:27 -0700 (PDT) writes:

    TL> On Sat, 5 Oct 2002 roxburg@kih.net wrote:
    >> This is not a bug report but didn't see another way to
    >> ask a question.

    TL> Well, you could try the r-help or r-devel mailing lists

    >> For the approximate t-test assuming unequal variances,
    >> the R docs cite Welch's method for the df of the
    >> approximating distribution.  I have several methods
    >> books, and they all uses Satterthwaite's method.  Why
    >> does R use Welch's method where can I learn about Welch's
    >> method?
    >> 

    TL> It's the same method.

    TL> The t-statistic is the difference in means divided by a
    TL> more-or-less unbiased estimate of its standard
    TL> deviation. There's only one natural way to do this and
    TL> in sufficiently large samples that's all you need.

    TL> The more difficult part is the sampling distribution,
    TL> which is approximated by a t-distribution with degrees
    TL> of freedom from some complicated formula involving the
    TL> two sample sizes and variances.  It was indepedently
    TL> derived by Welch and Satterthwaite.


I've added "Satterthwaite" to the help page now.
Martin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From mschwartz@medanalytics.com  Wed Nov 13 17:01:49 2002
From: mschwartz@medanalytics.com (Marc Schwartz)
Date: Wed, 13 Nov 2002 11:01:49 -0600
Subject: Wandering usr values in par(no.readonly=TRUW) (PR#2283)
Message-ID: <008f01c28b36$5ccf75b0$0201a8c0@MARC>

Marc Schwartz wrote:
>
> SNIP
>
> I am guessing that this may be the result of par("ylog") and
> par("xlog") being read only and perhaps impacting the restoration of 
> the par("usr") values when the plotting device is still open, but
> that may be incorrect.   

In follow up to my own note from last evening on this and now that I
have had a couple of cups of coffee this morning, I need to partially
correct my above statement and point to a presumed typo in the ?par help
file.  For confirmation, this is R 1.6.1 under WinXP Pro.

par("xlog") and par("ylog") are not Read Only parameters as listed in
the help file and can be set by the user.  Indeed this is confirmed in
the comments in par.r:

#.Pars.readonly <- c("cin","cra","csi","cxy","din")

I noted this today as I was comparing the output of par() with
par(no.readonly = TRUE) and noted that the latter returns '$xlog' and
$ylog' as being settable. The other 5 par values listed in ?par as
"R.O." (cin, cra, csi, cxy and din) return errors when one attempts to
set them with par(args), however xlog and ylog do not.

Jari and I had an offline exchange earlier this morning in which I
offered the following example code as a short term fix for the problem
he identified. This replaces the on.exit(par(op)) with code to reset the
par("usr") values explicity at the end of the function, since the
"looping" use of the function is stopped anyway if the function exits
prematurely.

plot2.log <- function (x=1:2,y=1:2)
{
  op <- par(no.readonly=TRUE)

  cat(op$usr, "\n")
  plot(x, y, log="y")

  # restore par
  par(op)

  # show post restoration par("usr")
  cat(par("usr"), "\n")

  # set up usr for log transform
  usr <- par("usr")
  usr[3:4] <- log10(usr[3:4])
  par(usr = usr)

  # show post transform par("usr")
  cat(par("usr"), "\n")
}



However, upon now noting the presumed typos in ?par, I have played
around with the following code to see the impact of setting par("ylog")
on the restoration of the par("usr") values after the log scale plot is
created.  Indeed, if I reset par("ylog") explicitly to "FALSE" prior to
the par(op), par("usr") is properly restored. Thus it would appear that
I was partially correct in presuming that the value of par("ylog")
impacts the value of par("usr") when restoring the initial values.


plot2.log <- function (x=1:2,y=1:2)
{
  op <- par(no.readonly=TRUE)

  # show current op$usr
  cat(op$usr, "\n")

  plot(x, y, log="y")

  # restore par, first setting 'ylog' to FALSE
  par(ylog = FALSE)
  par(op)

  # show post restoration par("usr")
  cat(par("usr"), "\n")
}



As a test of this theory, I also tried the following, which uses the
same underlying code, except that it now plots a normal linear y axis
and I explicitly set par("ylog") to TRUE prior to par(op).  Note the
value of par("usr") post restoration.

plot2.log <- function (x=1:2,y=1:2)
{
  op <- par(no.readonly=TRUE)

  # show current op$usr
  cat(op$usr, "\n")

  plot(x, y)

  # restore par, first setting 'ylog' to FALSE
  par(ylog = TRUE)
  par(op)

  # show post restoration par("usr")
  cat(par("usr"), "\n")
}


So it would seem that the values of 'xlog' and 'ylog' do impact the
proper restoration of the par("usr") values.

I have now reviewed par.c and have found the following code in
Specify():

            ...

	if (Rf_gpptr(dd)->ylog) {
	    R_DEV_2(logusr[2]) = REAL(value)[2];
	    R_DEV_2(logusr[3]) = REAL(value)[3];
	    R_DEV_2(usr[2]) = pow(10., REAL(value)[2]);
	    R_DEV_2(usr[3]) = pow(10., REAL(value)[3]);

            ...

There is similar code for 'xlog'.

Thus, this would confirm that the values of 'xlog' and 'ylog' do indeed
affect the restoration values of par("usr").

Lastly, there is a note in ?par that read as follows:

Note:

     The effect of restoring all the (settable) graphics parameters as
     in the examples is hard to predict if the device has been resized.
     Several of them are attempting to set the same things in different
     ways, and those last in the alphabet will win.  In particular, the
     settings of `mai', `mar', `pin', `plt' and `pty' interact, as do
     the outer margin settings, the figure layout and figure region
     size.

In this case, the device is not being resized and it is not clear from
the note that par("usr") is affected. However, given that both 'xlog'
and 'ylog' are alphabetically after it, once could infer that this
behavior is sort of documented, since 'usr' would be set prior to 'xlog'
and 'ylog' being set back to FALSE in this scenario.

I may need yet more coffee, but at the moment I cannot envision possible
impacts of first checking to see if 'xlog' and/or 'ylog' are being set
back to FALSE as part of the above code in par.c, before setting
par("usr"). This could be feasibly be accomplished by moving the code
for setting 'xlog' and 'ylog' in par.c to before the code for 'usr'.

If there are in fact other issues that such a fix would create, I would
suggest a note be added to ?par that would identify that par("usr") is
not restored properly from saved values if a log scaled axis is used and
that a solution would be to explicitly set the values of 'xlog' and
'ylog' to FALSE prior to restoration.

Hope this helps,

Marc Schwartz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Wed Nov 13 17:48:27 2002
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Wed, 13 Nov 2002 18:48:27 +0100 (MET)
Subject: Wandering usr values in par(no.readonly=TRUE) (PR#2283)
Message-ID: <200211131748.SAA23636@pubhealth.ku.dk>

>>>>> "Marc" == Marc Schwartz <mschwartz@medanalytics.com>
>>>>>     on Wed, 13 Nov 2002 11:01:49 -0600 writes:

    Marc> Marc Schwartz wrote:
    >>  SNIP
    >> 
    >> I am guessing that this may be the result of par("ylog")
    >> and par("xlog") being read only and perhaps impacting the
    >> restoration of the par("usr") values when the plotting
    >> device is still open, but that may be incorrect.

    Marc> In follow up to my own note from last evening on this
    Marc> and now that I have had a couple of cups of coffee
    Marc> this morning, I need to partially correct my above
    Marc> statement and point to a presumed typo in the ?par
    Marc> help file.  For confirmation, this is R 1.6.1 under
    Marc> WinXP Pro.

    Marc> par("xlog") and par("ylog") are not Read Only
    Marc> parameters as listed in the help file and can be set
    Marc> by the user.  Indeed this is confirmed in the comments
    Marc> in par.r:

    Marc> #.Pars.readonly <- c("cin","cra","csi","cxy","din")

    Marc> I noted this today as I was comparing the output of
    Marc> par() with par(no.readonly = TRUE) and noted that the
    Marc> latter returns '$xlog' and $ylog' as being
    Marc> settable. The other 5 par values listed in ?par as
    Marc> "R.O." (cin, cra, csi, cxy and din) return errors when
    Marc> one attempts to set them with par(args), however xlog
    Marc> and ylog do not.

Yes, indeed, and I -- as an R-core member -- am astonished:.
I didn't know it really worked, but it does, e.g., 

  > plot(1:10); par("usr")
  [1]  0.64 10.36  0.64 10.36
  > par(xlog = TRUE); par(c("xlog","usr"))
  $xlog
  [1] TRUE

  $usr
  [1] -0.1938200  1.0153598  0.6400000 10.3600000

  > points(10^(1:9), 1 + 1:9, col = "red") # draws red points above 


I'm now re-directing this back to R-bugs to make sure that 
the only (right?) remaining bug, documentation in par.Rd, 
will be fixed -- and hope to close this as a bug report.

    Marc>   ..........
    Marc>   <more good analysis>

Thank you Marc!

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From mschwartz@medanalytics.com  Wed Nov 13 19:08:42 2002
From: mschwartz@medanalytics.com (Marc Schwartz)
Date: Wed, 13 Nov 2002 13:08:42 -0600
Subject: Wandering usr values in par(no.readonly=TRUE) (PR#2283)
In-Reply-To: <200211131748.SAA23636@pubhealth.ku.dk>
Message-ID: <000201c28b48$15c93810$0201a8c0@MARC>

Martin wrote:
> SNIP
> 
> Thank you Marc!

Glad to be of help Martin.  

For the sake of completeness, I ran the same examples on my Linux (RH 8)
install of R 1.6.1 and observed the same behavior.

Best regards,

Marc Schwartz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tim@timcohn.com  Wed Nov 13 22:05:22 2002
From: tim@timcohn.com (tim@timcohn.com)
Date: Wed, 13 Nov 2002 23:05:22 +0100 (MET)
Subject: survreg (survival) reports erroneous results for left-censored data (PR#2287)
Message-ID: <200211132205.XAA24465@pubhealth.ku.dk>

Full_Name: Tim Cohn
Version: 1.6.1
OS: Macintosh OS X
Submission from: (NULL) (130.11.34.250)


The Mac version of survreg does not handle left-censored data correctly (at
least the results are not what I get doing it other ways, and they are not the
same as I get running R 1.6.1 in Windows 98se;  the Windows 98 results are
correct).  On the windows version of R 1.6.1. 

> survreg(Surv(c(0,1,-1),c(T,T,F),type='left')~1,dist='gaussian')
Call:
survreg(formula = Surv(c(0, 1, -1), c(T, T, F), type = "left") ~ 
    1, dist = "gaussian")

Coefficients:
(Intercept) 
 -0.2321569 

Scale= 1.161135 

Loglik(model)= -4.1   Loglik(intercept only)= -4.1
n= 3 


=================

The Macintosh OS X result for the same command is:

> survreg(Surv(c(0,1,-1),c(T,T,F),type='left')~1,dist='gaussian')
Call:
survreg(formula = Surv(c(0, 1, -1), c(T, T, F), type = "left") ~ 
    1, dist = "gaussian")

Coefficients:
(Intercept) 
 -0.7373613 

Scale= 1.366282 

Loglik(model)= -5.6   Loglik(intercept only)= -5.6
n= 3 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From mschwartz@medanalytics.com  Wed Nov 13 23:06:00 2002
From: mschwartz@medanalytics.com (Marc Schwartz)
Date: Wed, 13 Nov 2002 17:06:00 -0600
Subject: Wandering usr values in par(no.readonly=TRUE) (PR#2283)
In-Reply-To: <200211131748.SAA23636@pubhealth.ku.dk>
Message-ID: <001901c28b69$3cbef650$0201a8c0@MARC>

Martin wrote:
> I'm now re-directing this back to R-bugs to make sure that
> the only (right?) remaining bug, documentation in par.Rd,
> will be fixed -- and hope to close this as a bug report.

Martin,

My apologies, as I may have missed this in my first reading of your
reply, but I wanted to be sure that it was clear that there are two
separate bugs here. The first, which I found this morning in the process
of tracking down Jari's issue and the second which Jari observed in his
initial post, which started this thread yesterday.

Bug 1. The documentation in par.Rd needs to be corrected in that
par("xlog") and par("ylog") are not R.O. I presume that this is what you
are referring to above.


Bug 2. The improper restoration of par("usr") from saved values after
using log scaled axes. This is a result of the sequence of the code in
the par.c Specify() function (ie. par("usr") being set before
par("xlog") and par("ylog") are being set back to FALSE).

Possible solutions:

A. The code in par.c needs to be changed (possibly as I suggested
earlier) to enable the proper restoration of par("usr") after log scaled
axes are used

OR

B. If this is not possible due to causing other problems, par.Rd needs
to have a warning note added to inform users that par("usr") will not be
properly restored after log scales are used and that a possible solution
would be to explicitly set par(xlog = FALSE) and par(ylog = FALSE)
before restoring 'par' from saved values.  This solution of course falls
short if a function using this approach exits prematurely. One could
include code in the on.exit() function to reset 'xlog' and 'ylog' before
restoring 'par'. For example, using Jari's initial function plot2.log():

plot2.log <- function(x=1:2,y=1:2) 
{
  op <- par(no.readonly = TRUE)

  exit.restore <- function()
  {
    par(xlog =FALSE)
    par(ylog = FALSE)
    par(op)
  }

  on.exit(exit.restore())

  plot(x, y, log = "y")
}


Again, my apologies if I am mis-reading the section from your reply
above.

Regards,

Marc Schwartz



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From deleeuw@stat.ucla.edu  Thu Nov 14 01:47:29 2002
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Wed, 13 Nov 2002 17:47:29 -0800
Subject: survreg (survival) reports erroneous results for left-censored data (PR#2287)
In-Reply-To: <200211132205.XAA24465@pubhealth.ku.dk>
Message-ID: <088EF7B3-F773-11D6-BFC6-000393860F3C@stat.ucla.edu>

Using R-1.6.1 on OS X (Darwin)

Call:
survreg(formula = Surv(c(0, 1, -1), c(T, T, F), type = "left") ~
     1, dist = "gaussian")

Coefficients:
(Intercept)
  -0.2321569

Scale= 1.161135

Loglik(model)= -4.1   Loglik(intercept only)= -4.1
n= 3

No problemo. And, in fact, I get the same results in
the R-1.6.0 Carbon version.

--- Jan

On Wednesday, November 13, 2002, at 02:05 PM, tim@timcohn.com wrote:

> Full_Name: Tim Cohn
> Version: 1.6.1
> OS: Macintosh OS X
> Submission from: (NULL) (130.11.34.250)
>
>
> The Mac version of survreg does not handle left-censored data  
> correctly (at
> least the results are not what I get doing it other ways, and they are  
> not the
> same as I get running R 1.6.1 in Windows 98se;  the Windows 98 results  
> are
> correct).  On the windows version of R 1.6.1.
>
>> survreg(Surv(c(0,1,-1),c(T,T,F),type='left')~1,dist='gaussian')
> Call:
> survreg(formula = Surv(c(0, 1, -1), c(T, T, F), type = "left") ~
>     1, dist = "gaussian")
>
> Coefficients:
> (Intercept)
>  -0.2321569
>
> Scale= 1.161135
>
> Loglik(model)= -4.1   Loglik(intercept only)= -4.1
> n= 3
>
>
> =================
>
> The Macintosh OS X result for the same command is:
>
>> survreg(Surv(c(0,1,-1),c(T,T,F),type='left')~1,dist='gaussian')
> Call:
> survreg(formula = Surv(c(0, 1, -1), c(T, T, F), type = "left") ~
>     1, dist = "gaussian")
>
> Coefficients:
> (Intercept)
>  -0.7373613
>
> Scale= 1.366282
>
> Loglik(model)= -5.6   Loglik(intercept only)= -5.6
> n= 3
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
> .-.-.-.-.-
> r-devel mailing list -- Read  
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To:  
> r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
> ._._._._
>
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://gifi.stat.ucla.edu
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au
   
------------------------------------------------------------------------ 
-------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Nov 14 10:04:58 2002
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 14 Nov 2002 11:04:58 +0100
Subject: R mailing lists: move from majordomo to [procmail+mailman]
Message-ID: <15827.30026.260485.901432@gargle.gargle.HOWL>


We have locally collected good experience the last few weeks
using procmail-spam filtering, inclduing spamassassin to the
procmail filters.

The last two spams that went past the majordomo filters (the
"traditional ones I've been using) through to R-devel both were not
delivered to me, be but caught by the filters.

I have now collected a bit more of a week experience using the
new scheme also for R-core (and ESS-core) and few other larger
lists but with *much* lower volume successfully.
Also, all the R-SIG-* and the bioconductor lists are handled by
the new scheme. 
This also entails that their web interface (including archives)
can now be advertized as much as you want, since I hope the new
spam protection will suffice (and be tweaked to become better, too).

Have a look at the Web interface at
http://www.stat.math.ethz.ch/mailman/listinfo/

As indicated a few days ago, I want to convert all the remaining
R lists ASAP -- but carefully. 
I plan to do R-devel quite a bit before R-help (and R-announce),
partly because the list is quite a bit smaller (and has no
"gateway" as the R-announce -> R-help one).

I'll send another e-mail here, before the (visible) action
really start.

Feedback welcome!
---
Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Thu Nov 14 16:05:29 2002
From: tlumley@u.washington.edu (tlumley@u.washington.edu)
Date: Thu, 14 Nov 2002 17:05:29 +0100 (MET)
Subject: survreg (survival) reports erroneous results for left-censored (PR#2291)
Message-ID: <200211141605.RAA04121@pubhealth.ku.dk>

On Wed, 13 Nov 2002, Jan de Leeuw wrote:

>
> No problemo. And, in fact, I get the same results in
> the R-1.6.0 Carbon version.

I don't. Could there be a G3/G4 issue?

	-thomas


> --- Jan
>
> On Wednesday, November 13, 2002, at 02:05 PM, tim@timcohn.com wrote:
>
> > Full_Name: Tim Cohn
> > Version: 1.6.1
> > OS: Macintosh OS X
> > Submission from: (NULL) (130.11.34.250)
> >
> >
> > The Mac version of survreg does not handle left-censored data
> > correctly (at
> > least the results are not what I get doing it other ways, and they are
> > not the
> > same as I get running R 1.6.1 in Windows 98se;  the Windows 98 results
> > are
> > correct).  On the windows version of R 1.6.1.
> >
> >> survreg(Surv(c(0,1,-1),c(T,T,F),type='left')~1,dist='gaussian')
> > Call:
> > survreg(formula = Surv(c(0, 1, -1), c(T, T, F), type = "left") ~
> >     1, dist = "gaussian")
> >
> > Coefficients:
> > (Intercept)
> >  -0.2321569
> >
> > Scale= 1.161135
> >
> > Loglik(model)= -4.1   Loglik(intercept only)= -4.1
> > n= 3
> >
> >
> > =================
> >
> > The Macintosh OS X result for the same command is:
> >
> >> survreg(Surv(c(0,1,-1),c(T,T,F),type='left')~1,dist='gaussian')
> > Call:
> > survreg(formula = Surv(c(0, 1, -1), c(T, T, F), type = "left") ~
> >     1, dist = "gaussian")
> >
> > Coefficients:
> > (Intercept)
> >  -0.7373613
> >
> > Scale= 1.366282
> >
> > Loglik(model)= -5.6   Loglik(intercept only)= -5.6
> > n= 3
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > .-.-.-.-.-
> > r-devel mailing list -- Read
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To:
> > r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> > ._._._._
> >
> >
> ===
> Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
> Editor: Journal of Multivariate Analysis, Journal of Statistical
> Software
> US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
> phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
> homepage: http://gifi.stat.ucla.edu
>
> ------------------------------------------------------------------------
> -------------------------
>            No matter where you go, there you are. --- Buckaroo Banzai
>                     http://gifi.stat.ucla.edu/sounds/nomatter.au
>
> ------------------------------------------------------------------------
> -------------------------
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

Thomas Lumley			Asst. Professor, Biostatistics
tlumley@u.washington.edu	University of Washington, Seattle
^^^^^^^^^^^^^^^^^^^^^^^^
- NOTE NEW EMAIL ADDRESS


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Thu Nov 14 16:04:37 2002
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Thu, 14 Nov 2002 08:04:37 -0800 (PST)
Subject: survreg (survival) reports erroneous results for left-censored
 data (PR#2287)
In-Reply-To: <088EF7B3-F773-11D6-BFC6-000393860F3C@stat.ucla.edu>
Message-ID: <Pine.A41.4.44.0211140803460.79438-100000@homer07.u.washington.edu>

On Wed, 13 Nov 2002, Jan de Leeuw wrote:

>
> No problemo. And, in fact, I get the same results in
> the R-1.6.0 Carbon version.

I don't. Could there be a G3/G4 issue?

	-thomas


> --- Jan
>
> On Wednesday, November 13, 2002, at 02:05 PM, tim@timcohn.com wrote:
>
> > Full_Name: Tim Cohn
> > Version: 1.6.1
> > OS: Macintosh OS X
> > Submission from: (NULL) (130.11.34.250)
> >
> >
> > The Mac version of survreg does not handle left-censored data
> > correctly (at
> > least the results are not what I get doing it other ways, and they are
> > not the
> > same as I get running R 1.6.1 in Windows 98se;  the Windows 98 results
> > are
> > correct).  On the windows version of R 1.6.1.
> >
> >> survreg(Surv(c(0,1,-1),c(T,T,F),type='left')~1,dist='gaussian')
> > Call:
> > survreg(formula = Surv(c(0, 1, -1), c(T, T, F), type = "left") ~
> >     1, dist = "gaussian")
> >
> > Coefficients:
> > (Intercept)
> >  -0.2321569
> >
> > Scale= 1.161135
> >
> > Loglik(model)= -4.1   Loglik(intercept only)= -4.1
> > n= 3
> >
> >
> > =================
> >
> > The Macintosh OS X result for the same command is:
> >
> >> survreg(Surv(c(0,1,-1),c(T,T,F),type='left')~1,dist='gaussian')
> > Call:
> > survreg(formula = Surv(c(0, 1, -1), c(T, T, F), type = "left") ~
> >     1, dist = "gaussian")
> >
> > Coefficients:
> > (Intercept)
> >  -0.7373613
> >
> > Scale= 1.366282
> >
> > Loglik(model)= -5.6   Loglik(intercept only)= -5.6
> > n= 3
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > .-.-.-.-.-
> > r-devel mailing list -- Read
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To:
> > r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> > ._._._._
> >
> >
> ===
> Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
> Editor: Journal of Multivariate Analysis, Journal of Statistical
> Software
> US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
> phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
> homepage: http://gifi.stat.ucla.edu
>
> ------------------------------------------------------------------------
> -------------------------
>            No matter where you go, there you are. --- Buckaroo Banzai
>                     http://gifi.stat.ucla.edu/sounds/nomatter.au
>
> ------------------------------------------------------------------------
> -------------------------
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

Thomas Lumley			Asst. Professor, Biostatistics
tlumley@u.washington.edu	University of Washington, Seattle
^^^^^^^^^^^^^^^^^^^^^^^^
- NOTE NEW EMAIL ADDRESS

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From deleeuw@stat.ucla.edu  Thu Nov 14 16:09:27 2002
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Thu, 14 Nov 2002 08:09:27 -0800
Subject: survreg (survival) reports erroneous results for left-censored data (PR#2287)
In-Reply-To: <Pine.A41.4.44.0211140803460.79438-100000@homer07.u.washington.edu>
Message-ID: <733B8BF8-F7EB-11D6-91DB-000393860F3C@stat.ucla.edu>

I take that back. I now get the "correct" result on Darwin R-1.6.1, the  
"wrong" result
with Carbon R-1.6.0. On a dual G4 with 10.2.2.

On Thursday, November 14, 2002, at 08:04 AM, Thomas Lumley wrote:

> On Wed, 13 Nov 2002, Jan de Leeuw wrote:
>
>>
>> No problemo. And, in fact, I get the same results in
>> the R-1.6.0 Carbon version.
>
> I don't. Could there be a G3/G4 issue?
>
> 	-thomas
>
>
>> --- Jan
>>
>> On Wednesday, November 13, 2002, at 02:05 PM, tim@timcohn.com wrote:
>>
>>> Full_Name: Tim Cohn
>>> Version: 1.6.1
>>> OS: Macintosh OS X
>>> Submission from: (NULL) (130.11.34.250)
>>>
>>>
>>> The Mac version of survreg does not handle left-censored data
>>> correctly (at
>>> least the results are not what I get doing it other ways, and they  
>>> are
>>> not the
>>> same as I get running R 1.6.1 in Windows 98se;  the Windows 98  
>>> results
>>> are
>>> correct).  On the windows version of R 1.6.1.
>>>
>>>> survreg(Surv(c(0,1,-1),c(T,T,F),type='left')~1,dist='gaussian')
>>> Call:
>>> survreg(formula = Surv(c(0, 1, -1), c(T, T, F), type = "left") ~
>>>     1, dist = "gaussian")
>>>
>>> Coefficients:
>>> (Intercept)
>>>  -0.2321569
>>>
>>> Scale= 1.161135
>>>
>>> Loglik(model)= -4.1   Loglik(intercept only)= -4.1
>>> n= 3
>>>
>>>
>>> =================
>>>
>>> The Macintosh OS X result for the same command is:
>>>
>>>> survreg(Surv(c(0,1,-1),c(T,T,F),type='left')~1,dist='gaussian')
>>> Call:
>>> survreg(formula = Surv(c(0, 1, -1), c(T, T, F), type = "left") ~
>>>     1, dist = "gaussian")
>>>
>>> Coefficients:
>>> (Intercept)
>>>  -0.7373613
>>>
>>> Scale= 1.366282
>>>
>>> Loglik(model)= -5.6   Loglik(intercept only)= -5.6
>>> n= 3
>>>
>>>
>>> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>>> .-.-.-.-.-
>>> r-devel mailing list -- Read
>>> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>>> Send "info", "help", or "[un]subscribe"
>>> (in the "body", not the subject !)  To:
>>> r-devel-request@stat.math.ethz.ch
>>> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
>>> ._
>>> ._._._._
>>>
>>>
>> ===
>> Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
>> Editor: Journal of Multivariate Analysis, Journal of Statistical
>> Software
>> US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
>> phone (310)-825-9550;  fax (310)-206-5658;  email:  
>> deleeuw@stat.ucla.edu
>> homepage: http://gifi.stat.ucla.edu
>>
>> ---------------------------------------------------------------------- 
>> --
>> -------------------------
>>            No matter where you go, there you are. --- Buckaroo Banzai
>>                     http://gifi.stat.ucla.edu/sounds/nomatter.au
>>
>> ---------------------------------------------------------------------- 
>> --
>> -------------------------
>>
>> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
>> .-.-.-.-.-
>> r-devel mailing list -- Read  
>> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>> Send "info", "help", or "[un]subscribe"
>> (in the "body", not the subject !)  To:  
>> r-devel-request@stat.math.ethz.ch
>> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._. 
>> _._._._._
>>
>
> Thomas Lumley			Asst. Professor, Biostatistics
> tlumley@u.washington.edu	University of Washington, Seattle
> ^^^^^^^^^^^^^^^^^^^^^^^^
>- NOTE NEW EMAIL ADDRESS
>
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://gifi.stat.ucla.edu
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au
   
------------------------------------------------------------------------ 
-------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gwright@packetstorm.com  Thu Nov 14 16:14:38 2002
From: gwright@packetstorm.com (Gregory Wright)
Date: Thu, 14 Nov 2002 11:14:38 -0500
Subject: R-1.6.1, Mac OS X 10.2.2 build failure
Message-ID: <2CAEB6C9-F7EC-11D6-BD14-00039398F084@packetstorm.com>


I tried building R-1.6.1 under Mac OS X 10.2.2 and experienced the 
following build failure:

<...stuff omitted...>
cc1: warning: changing search order for system directory 
"/usr/local/include"
cc1: warning:   as it has already been specified as a non-system 
directory
gcc -bundle -flat_namespace -undefined suppress -L/usr/local/lib -o 
ctest.so ansari.o chisqsim.o d2x2xk.o fexact.o kendall.o ks.o prho.o 
swilk.o init.o  -L/usr/local/lib 
-L/opt/local/lib/gcc-lib/powerpc-apple-darwin6.2/3.1 
-L/opt/local/lib/gcc-lib/powerpc-apple-darwin6.2/3.1/../../.. 
-lreadline -ldl -lncurses -lm -lfrtbegin -lg2c -lSystem
../../../../library/ctest/libs/ctest.so is unchanged
building package 'eda'
../../../library/eda/R/eda is unchanged
../../../library/eda/man/eda.Rd is unchanged
make[5]: `Makedeps' is up to date.
../../../../library/eda/libs/eda.so is unchanged
building package 'lqs'
../../../library/lqs/R/lqs is unchanged
../../../library/lqs/man/lqs.Rd is unchanged
make[5]: `Makedeps' is up to date.
../../../../library/lqs/libs/lqs.so is unchanged
building package 'methods'
all.R is unchanged
../../../library/methods/man/methods.Rd is unchanged
make[5]: `Makedeps' is up to date.
../../../../library/methods/libs/methods.so is unchanged
dumping R code in package 'methods'
Error in .Call("R_initialize_methods_metadata", table, PACKAGE = 
"methods") :
         .Call function name not in load table
Execution halted
make[4]: *** [../../../library/methods/R/all.rda] Error 1
make[3]: *** [all] Error 2
make[2]: *** [R] Error 1
make[1]: *** [R] Error 1
make: *** [R] Error 1


The configuration was:

bash-2.05a$ export TCLTK_LIBS="-framework Tcl -framework Tk"
bash-2.05a$ export 
TCLTK_CPPFLAGS="-I/Library/Frameworks/Tcl.framework/Headers 
-I/Library/Frameworks/Tk/frameworks/Headers"
bash-2.05a$ ./configure 
--with-tcl-config=/Library/Frameworks/Tcl.framework/tclConfig.sh 
--with-tk-config=/Library/Frameworks/Tk.framework/tkConfig.sh

The compiler was gcc-3.1 (Mac OS X developer tools, with August and 
November 2002 updates) g77 (from DarwinPorts, not fink). libreadline 
was manually installed (not fink or DarwinPorts); a convenience for 
some other work. Tcl/Tk is 8.4.1 from sourceforge.

The hardware platform is a TiBook G4, 800 MHz.

Let me know what I can do to help track down this problem.

Best Wishes,

Greg Wright

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From deleeuw@stat.ucla.edu  Thu Nov 14 17:35:26 2002
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Thu, 14 Nov 2002 09:35:26 -0800
Subject: R-1.6.1, Mac OS X 10.2.2 build failure
In-Reply-To: <2CAEB6C9-F7EC-11D6-BD14-00039398F084@packetstorm.com>
Message-ID: <75DF168B-F7F7-11D6-B1DB-000393860F3C@stat.ucla.edu>

I know what I would do. It does not rebuild "methods". I would do a
make distclean in your build directory and configure from scratch.


On Thursday, November 14, 2002, at 08:14 AM, Gregory Wright wrote:

>
> I tried building R-1.6.1 under Mac OS X 10.2.2 and experienced the  
> following build failure:
>
> <...stuff omitted...>
> cc1: warning: changing search order for system directory  
> "/usr/local/include"
> cc1: warning:   as it has already been specified as a non-system  
> directory
> gcc -bundle -flat_namespace -undefined suppress -L/usr/local/lib -o  
> ctest.so ansari.o chisqsim.o d2x2xk.o fexact.o kendall.o ks.o prho.o  
> swilk.o init.o  -L/usr/local/lib  
> -L/opt/local/lib/gcc-lib/powerpc-apple-darwin6.2/3.1  
> -L/opt/local/lib/gcc-lib/powerpc-apple-darwin6.2/3.1/../../..  
> -lreadline -ldl -lncurses -lm -lfrtbegin -lg2c -lSystem
> ../../../../library/ctest/libs/ctest.so is unchanged
> building package 'eda'
> ../../../library/eda/R/eda is unchanged
> ../../../library/eda/man/eda.Rd is unchanged
> make[5]: `Makedeps' is up to date.
> ../../../../library/eda/libs/eda.so is unchanged
> building package 'lqs'
> ../../../library/lqs/R/lqs is unchanged
> ../../../library/lqs/man/lqs.Rd is unchanged
> make[5]: `Makedeps' is up to date.
> ../../../../library/lqs/libs/lqs.so is unchanged
> building package 'methods'
> all.R is unchanged
> ../../../library/methods/man/methods.Rd is unchanged
> make[5]: `Makedeps' is up to date.
> ../../../../library/methods/libs/methods.so is unchanged
> dumping R code in package 'methods'
> Error in .Call("R_initialize_methods_metadata", table, PACKAGE =  
> "methods") :
>         .Call function name not in load table
> Execution halted
> make[4]: *** [../../../library/methods/R/all.rda] Error 1
> make[3]: *** [all] Error 2
> make[2]: *** [R] Error 1
> make[1]: *** [R] Error 1
> make: *** [R] Error 1
>
>
> The configuration was:
>
> bash-2.05a$ export TCLTK_LIBS="-framework Tcl -framework Tk"
> bash-2.05a$ export  
> TCLTK_CPPFLAGS="-I/Library/Frameworks/Tcl.framework/Headers  
> -I/Library/Frameworks/Tk/frameworks/Headers"
> bash-2.05a$ ./configure  
> --with-tcl-config=/Library/Frameworks/Tcl.framework/tclConfig.sh  
> --with-tk-config=/Library/Frameworks/Tk.framework/tkConfig.sh
>
> The compiler was gcc-3.1 (Mac OS X developer tools, with August and  
> November 2002 updates) g77 (from DarwinPorts, not fink). libreadline  
> was manually installed (not fink or DarwinPorts); a convenience for  
> some other work. Tcl/Tk is 8.4.1 from sourceforge.
>
> The hardware platform is a TiBook G4, 800 MHz.
>
> Let me know what I can do to help track down this problem.
>
> Best Wishes,
>
> Greg Wright
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
> .-.-.-.-.-
> r-devel mailing list -- Read  
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To:  
> r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
> ._._._._
>
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://gifi.stat.ucla.edu
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au
   
------------------------------------------------------------------------ 
-------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gwright@packetstorm.com  Thu Nov 14 20:43:27 2002
From: gwright@packetstorm.com (Gregory Wright)
Date: Thu, 14 Nov 2002 15:43:27 -0500
Subject: R-1.6.1, Mac OS X 10.2.2 build failure
In-Reply-To: <75DF168B-F7F7-11D6-B1DB-000393860F3C@stat.ucla.edu>
Message-ID: <BA12AEFB-F811-11D6-952D-00039398F084@packetstorm.com>


On Thursday, November 14, 2002, at 12:35 PM, Jan de Leeuw wrote:

> I know what I would do. It does not rebuild "methods". I would do a
> make distclean in your build directory and configure from scratch.
>
>
>

Hi,

I unpacked a fresh 1.6.1 tarball, reconfigured and rebuilt from 
scratch. The results were similar:

<...stuff omitted..>
cc1: warning: changing search order for system directory 
"/usr/local/include"
cc1: warning:   as it has already been specified as a non-system 
directory
gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include   
-fno-common  -g -O2 -c methods_list_dispatch.c -o 
methods_list_dispatch.o
cc1: warning: changing search order for system directory 
"/usr/local/include"
cc1: warning:   as it has already been specified as a non-system 
directory
gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include   
-fno-common  -g -O2 -c method_meta_data.c -o method_meta_data.o
cc1: warning: changing search order for system directory 
"/usr/local/include"
cc1: warning:   as it has already been specified as a non-system 
directory
gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include   
-fno-common  -g -O2 -c slot.c -o slot.o
cc1: warning: changing search order for system directory 
"/usr/local/include"
cc1: warning:   as it has already been specified as a non-system 
directory
gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include   
-fno-common  -g -O2 -c class_support.c -o class_support.o
cc1: warning: changing search order for system directory 
"/usr/local/include"
cc1: warning:   as it has already been specified as a non-system 
directory
gcc -bundle -flat_namespace -undefined suppress -L/usr/local/lib -o 
methods.so do_substitute_direct.o methods_list_dispatch.o 
method_meta_data.o slot.o class_support.o
mkdir -p -- ../../../../library/methods/libs
dumping R code in package 'methods'
Error in .Call("R_initialize_methods_metadata", table, PACKAGE = 
"methods") :
         .Call function name not in load table
Execution halted
make[4]: *** [../../../library/methods/R/all.rda] Error 1
make[3]: *** [all] Error 2
make[2]: *** [R] Error 1
make[1]: *** [R] Error 1
make: *** [R] Error 1

The configuration was

bash-2.05a$ export TCLTK_LIBS="-framework Tcl -framework Tk"
bash-2.05a$ export 
TCLTK_CPPFLAGS="-I/Library/Frameworks/Tcl.framework/Headers 
-I/Library/Frameworks/Tk.framework/Headers"
./configure 
--with-tcl-config=/Library/Frameworks/Tcl.framework/tclConfig.sh 
--with-tk-config=/Library/Frameworks/Tk.framework/tkConfig.sh


and configure's summary was

R is now configured for powerpc-apple-darwin6.2

   Source directory:          .
   Installation directory:    /usr/local

   C compiler:                gcc  -g -O2
   C++ compiler:              g++  -g -O2
   Fortran compiler:          g77  -g -O2

   X11 support:               yes
   Gnome support:             no
   Tcl/Tk support:            yes
   Readline support:          yes

   R profiling support:       yes
   R as a shared library:     no

   Recommended packages:      yes


Is there something obvious that I should be examining to find the root 
of the this?

Best Wishes,
Greg Wright

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@stat.uiowa.edu  Thu Nov 14 22:34:08 2002
From: luke@stat.uiowa.edu (Luke Tierney)
Date: Thu, 14 Nov 2002 16:34:08 -0600 (CST)
Subject: R-1.6.1, Mac OS X 10.2.2 build failure
In-Reply-To: <BA12AEFB-F811-11D6-952D-00039398F084@packetstorm.com>
Message-ID: <Pine.LNX.4.44.0211141631250.20208-100000@itasca.stat.uiowa.edu>

You might want to double check the dlcompat you have.  THere was some
discussiion about this a week or two ago in conneciton with plain
darwin I think.  Mac compilers prepend underscores to C names; most
other systems don't.  R's config assumes that R has to prepend an
underscore.  But as I recall you can configure dlcompat to do that for
you, and if that is what you have then you are getting two underscores
instead of one.  Don't know if that is the problem, but it's something
to check.

luke

On Thu, 14 Nov 2002, Gregory Wright wrote:

> 
> On Thursday, November 14, 2002, at 12:35 PM, Jan de Leeuw wrote:
> 
> > I know what I would do. It does not rebuild "methods". I would do a
> > make distclean in your build directory and configure from scratch.
> >
> >
> >
> 
> Hi,
> 
> I unpacked a fresh 1.6.1 tarball, reconfigured and rebuilt from 
> scratch. The results were similar:
> 
> <...stuff omitted..>
> cc1: warning: changing search order for system directory 
> "/usr/local/include"
> cc1: warning:   as it has already been specified as a non-system 
> directory
> gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include   
> -fno-common  -g -O2 -c methods_list_dispatch.c -o 
> methods_list_dispatch.o
> cc1: warning: changing search order for system directory 
> "/usr/local/include"
> cc1: warning:   as it has already been specified as a non-system 
> directory
> gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include   
> -fno-common  -g -O2 -c method_meta_data.c -o method_meta_data.o
> cc1: warning: changing search order for system directory 
> "/usr/local/include"
> cc1: warning:   as it has already been specified as a non-system 
> directory
> gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include   
> -fno-common  -g -O2 -c slot.c -o slot.o
> cc1: warning: changing search order for system directory 
> "/usr/local/include"
> cc1: warning:   as it has already been specified as a non-system 
> directory
> gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include   
> -fno-common  -g -O2 -c class_support.c -o class_support.o
> cc1: warning: changing search order for system directory 
> "/usr/local/include"
> cc1: warning:   as it has already been specified as a non-system 
> directory
> gcc -bundle -flat_namespace -undefined suppress -L/usr/local/lib -o 
> methods.so do_substitute_direct.o methods_list_dispatch.o 
> method_meta_data.o slot.o class_support.o
> mkdir -p -- ../../../../library/methods/libs
> dumping R code in package 'methods'
> Error in .Call("R_initialize_methods_metadata", table, PACKAGE = 
> "methods") :
>          .Call function name not in load table
> Execution halted
> make[4]: *** [../../../library/methods/R/all.rda] Error 1
> make[3]: *** [all] Error 2
> make[2]: *** [R] Error 1
> make[1]: *** [R] Error 1
> make: *** [R] Error 1
> 
> The configuration was
> 
> bash-2.05a$ export TCLTK_LIBS="-framework Tcl -framework Tk"
> bash-2.05a$ export 
> TCLTK_CPPFLAGS="-I/Library/Frameworks/Tcl.framework/Headers 
> -I/Library/Frameworks/Tk.framework/Headers"
> ../configure 
> --with-tcl-config=/Library/Frameworks/Tcl.framework/tclConfig.sh 
> --with-tk-config=/Library/Frameworks/Tk.framework/tkConfig.sh
> 
> 
> and configure's summary was
> 
> R is now configured for powerpc-apple-darwin6.2
> 
>    Source directory:          .
>    Installation directory:    /usr/local
> 
>    C compiler:                gcc  -g -O2
>    C++ compiler:              g++  -g -O2
>    Fortran compiler:          g77  -g -O2
> 
>    X11 support:               yes
>    Gnome support:             no
>    Tcl/Tk support:            yes
>    Readline support:          yes
> 
>    R profiling support:       yes
>    R as a shared library:     no
> 
>    Recommended packages:      yes
> 
> 
> Is there something obvious that I should be examining to find the root 
> of the this?
> 
> Best Wishes,
> Greg Wright
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
Luke Tierney
University of Iowa                  Phone:             319-335-3386
Department of Statistics and        Fax:               319-335-3017
   Actuarial Science
241 Schaeffer Hall                  email:      luke@stat.uiowa.edu
Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From deleeuw@stat.ucla.edu  Thu Nov 14 22:40:43 2002
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Thu, 14 Nov 2002 14:40:43 -0800
Subject: R-1.6.1, Mac OS X 10.2.2 build failure
In-Reply-To: <Pine.LNX.4.44.0211141631250.20208-100000@itasca.stat.uiowa.edu>
Message-ID: <1BF1D0FA-F822-11D6-8915-000393860F3C@stat.ucla.edu>

The dlcompat and g77 in darwinports (that Greg seems to be using)
are different from the ones in fink.

On Thursday, November 14, 2002, at 02:34 PM, Luke Tierney wrote:

> You might want to double check the dlcompat you have.  THere was some
> discussiion about this a week or two ago in conneciton with plain
> darwin I think.  Mac compilers prepend underscores to C names; most
> other systems don't.  R's config assumes that R has to prepend an
> underscore.  But as I recall you can configure dlcompat to do that for
> you, and if that is what you have then you are getting two underscores
> instead of one.  Don't know if that is the problem, but it's something
> to check.
>
> luke
>
> On Thu, 14 Nov 2002, Gregory Wright wrote:
>
>>
>> On Thursday, November 14, 2002, at 12:35 PM, Jan de Leeuw wrote:
>>
>>> I know what I would do. It does not rebuild "methods". I would do a
>>> make distclean in your build directory and configure from scratch.
>>>
>>>
>>>
>>
>> Hi,
>>
>> I unpacked a fresh 1.6.1 tarball, reconfigured and rebuilt from
>> scratch. The results were similar:
>>
>> <...stuff omitted..>
>> cc1: warning: changing search order for system directory
>> "/usr/local/include"
>> cc1: warning:   as it has already been specified as a non-system
>> directory
>> gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include
>> -fno-common  -g -O2 -c methods_list_dispatch.c -o
>> methods_list_dispatch.o
>> cc1: warning: changing search order for system directory
>> "/usr/local/include"
>> cc1: warning:   as it has already been specified as a non-system
>> directory
>> gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include
>> -fno-common  -g -O2 -c method_meta_data.c -o method_meta_data.o
>> cc1: warning: changing search order for system directory
>> "/usr/local/include"
>> cc1: warning:   as it has already been specified as a non-system
>> directory
>> gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include
>> -fno-common  -g -O2 -c slot.c -o slot.o
>> cc1: warning: changing search order for system directory
>> "/usr/local/include"
>> cc1: warning:   as it has already been specified as a non-system
>> directory
>> gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include
>> -fno-common  -g -O2 -c class_support.c -o class_support.o
>> cc1: warning: changing search order for system directory
>> "/usr/local/include"
>> cc1: warning:   as it has already been specified as a non-system
>> directory
>> gcc -bundle -flat_namespace -undefined suppress -L/usr/local/lib -o
>> methods.so do_substitute_direct.o methods_list_dispatch.o
>> method_meta_data.o slot.o class_support.o
>> mkdir -p -- ../../../../library/methods/libs
>> dumping R code in package 'methods'
>> Error in .Call("R_initialize_methods_metadata", table, PACKAGE =
>> "methods") :
>>          .Call function name not in load table
>> Execution halted
>> make[4]: *** [../../../library/methods/R/all.rda] Error 1
>> make[3]: *** [all] Error 2
>> make[2]: *** [R] Error 1
>> make[1]: *** [R] Error 1
>> make: *** [R] Error 1
>>
>> The configuration was
>>
>> bash-2.05a$ export TCLTK_LIBS="-framework Tcl -framework Tk"
>> bash-2.05a$ export
>> TCLTK_CPPFLAGS="-I/Library/Frameworks/Tcl.framework/Headers
>> -I/Library/Frameworks/Tk.framework/Headers"
>> ../configure
>> --with-tcl-config=/Library/Frameworks/Tcl.framework/tclConfig.sh
>> --with-tk-config=/Library/Frameworks/Tk.framework/tkConfig.sh
>>
>>
>> and configure's summary was
>>
>> R is now configured for powerpc-apple-darwin6.2
>>
>>    Source directory:          .
>>    Installation directory:    /usr/local
>>
>>    C compiler:                gcc  -g -O2
>>    C++ compiler:              g++  -g -O2
>>    Fortran compiler:          g77  -g -O2
>>
>>    X11 support:               yes
>>    Gnome support:             no
>>    Tcl/Tk support:            yes
>>    Readline support:          yes
>>
>>    R profiling support:       yes
>>    R as a shared library:     no
>>
>>    Recommended packages:      yes
>>
>>
>> Is there something obvious that I should be examining to find the root
>> of the this?
>>
>> Best Wishes,
>> Greg Wright
>>
>> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
>> .-.-.-.-.-
>> r-devel mailing list -- Read  
>> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>> Send "info", "help", or "[un]subscribe"
>> (in the "body", not the subject !)  To:  
>> r-devel-request@stat.math.ethz.ch
>> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._. 
>> _._._._._
>>
>
> -- 
> Luke Tierney
> University of Iowa                  Phone:             319-335-3386
> Department of Statistics and        Fax:               319-335-3017
>    Actuarial Science
> 241 Schaeffer Hall                  email:      luke@stat.uiowa.edu
> Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu
>
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://gifi.stat.ucla.edu
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au
   
------------------------------------------------------------------------ 
-------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gwright@packetstorm.com  Thu Nov 14 23:22:04 2002
From: gwright@packetstorm.com (Gregory Wright)
Date: Thu, 14 Nov 2002 18:22:04 -0500
Subject: R-1.6.1, Mac OS X 10.2.2 build failure
In-Reply-To: <1BF1D0FA-F822-11D6-8915-000393860F3C@stat.ucla.edu>
Message-ID: <E2C52962-F827-11D6-952D-00039398F084@packetstorm.com>


dlcompat seems to be the same (the darwinports script downloads it from  
the fink project at sourceforge). I'm concentrating on g77--I've found  
at least on packaging error, but repairing it did not fix the R-1.6.1  
build. I will give it a go with a hand built g77.

(If the error is in darwinports I would at least like to give  
constructive feedback on how it might be fixed.)

More anon.

Best Wishes,
Greg

On Thursday, November 14, 2002, at 05:40 PM, Jan de Leeuw wrote:

> The dlcompat and g77 in darwinports (that Greg seems to be using)
> are different from the ones in fink.
>
> On Thursday, November 14, 2002, at 02:34 PM, Luke Tierney wrote:
>
>> You might want to double check the dlcompat you have.  THere was some
>> discussiion about this a week or two ago in conneciton with plain
>> darwin I think.  Mac compilers prepend underscores to C names; most
>> other systems don't.  R's config assumes that R has to prepend an
>> underscore.  But as I recall you can configure dlcompat to do that for
>> you, and if that is what you have then you are getting two underscores
>> instead of one.  Don't know if that is the problem, but it's something
>> to check.
>>
>> luke
>>
>> On Thu, 14 Nov 2002, Gregory Wright wrote:
>>
>>>
>>> On Thursday, November 14, 2002, at 12:35 PM, Jan de Leeuw wrote:
>>>
>>>> I know what I would do. It does not rebuild "methods". I would do a
>>>> make distclean in your build directory and configure from scratch.
>>>>
>>>>
>>>>
>>>
>>> Hi,
>>>
>>> I unpacked a fresh 1.6.1 tarball, reconfigured and rebuilt from
>>> scratch. The results were similar:
>>>
>>> <...stuff omitted..>
>>> cc1: warning: changing search order for system directory
>>> "/usr/local/include"
>>> cc1: warning:   as it has already been specified as a non-system
>>> directory
>>> gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include
>>> -fno-common  -g -O2 -c methods_list_dispatch.c -o
>>> methods_list_dispatch.o
>>> cc1: warning: changing search order for system directory
>>> "/usr/local/include"
>>> cc1: warning:   as it has already been specified as a non-system
>>> directory
>>> gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include
>>> -fno-common  -g -O2 -c method_meta_data.c -o method_meta_data.o
>>> cc1: warning: changing search order for system directory
>>> "/usr/local/include"
>>> cc1: warning:   as it has already been specified as a non-system
>>> directory
>>> gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include
>>> -fno-common  -g -O2 -c slot.c -o slot.o
>>> cc1: warning: changing search order for system directory
>>> "/usr/local/include"
>>> cc1: warning:   as it has already been specified as a non-system
>>> directory
>>> gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include
>>> -fno-common  -g -O2 -c class_support.c -o class_support.o
>>> cc1: warning: changing search order for system directory
>>> "/usr/local/include"
>>> cc1: warning:   as it has already been specified as a non-system
>>> directory
>>> gcc -bundle -flat_namespace -undefined suppress -L/usr/local/lib -o
>>> methods.so do_substitute_direct.o methods_list_dispatch.o
>>> method_meta_data.o slot.o class_support.o
>>> mkdir -p -- ../../../../library/methods/libs
>>> dumping R code in package 'methods'
>>> Error in .Call("R_initialize_methods_metadata", table, PACKAGE =
>>> "methods") :
>>>          .Call function name not in load table
>>> Execution halted
>>> make[4]: *** [../../../library/methods/R/all.rda] Error 1
>>> make[3]: *** [all] Error 2
>>> make[2]: *** [R] Error 1
>>> make[1]: *** [R] Error 1
>>> make: *** [R] Error 1
>>>
>>> The configuration was
>>>
>>> bash-2.05a$ export TCLTK_LIBS="-framework Tcl -framework Tk"
>>> bash-2.05a$ export
>>> TCLTK_CPPFLAGS="-I/Library/Frameworks/Tcl.framework/Headers
>>> -I/Library/Frameworks/Tk.framework/Headers"
>>> ../configure
>>> --with-tcl-config=/Library/Frameworks/Tcl.framework/tclConfig.sh
>>> --with-tk-config=/Library/Frameworks/Tk.framework/tkConfig.sh
>>>
>>>
>>> and configure's summary was
>>>
>>> R is now configured for powerpc-apple-darwin6.2
>>>
>>>    Source directory:          .
>>>    Installation directory:    /usr/local
>>>
>>>    C compiler:                gcc  -g -O2
>>>    C++ compiler:              g++  -g -O2
>>>    Fortran compiler:          g77  -g -O2
>>>
>>>    X11 support:               yes
>>>    Gnome support:             no
>>>    Tcl/Tk support:            yes
>>>    Readline support:          yes
>>>
>>>    R profiling support:       yes
>>>    R as a shared library:     no
>>>
>>>    Recommended packages:      yes
>>>
>>>
>>> Is there something obvious that I should be examining to find the  
>>> root
>>> of the this?
>>>
>>> Best Wishes,
>>> Greg Wright
>>>
>>> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
>>> .-.-.-.-.-.-
>>> r-devel mailing list -- Read  
>>> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>>> Send "info", "help", or "[un]subscribe"
>>> (in the "body", not the subject !)  To:  
>>> r-devel-request@stat.math.ethz.ch
>>> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
>>> ._._._._._
>>>
>>
>> -- 
>> Luke Tierney
>> University of Iowa                  Phone:             319-335-3386
>> Department of Statistics and        Fax:               319-335-3017
>>    Actuarial Science
>> 241 Schaeffer Hall                  email:      luke@stat.uiowa.edu
>> Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu
>>
>>
> ===
> Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
> Editor: Journal of Multivariate Analysis, Journal of Statistical  
> Software
> US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
> phone (310)-825-9550;  fax (310)-206-5658;  email:  
> deleeuw@stat.ucla.edu
> homepage: http://gifi.stat.ucla.edu
>   
> ----------------------------------------------------------------------- 
> --------------------------
>           No matter where you go, there you are. --- Buckaroo Banzai
>                    http://gifi.stat.ucla.edu/sounds/nomatter.au
>   
> ----------------------------------------------------------------------- 
> --------------------------
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tim@timcohn.com  Fri Nov 15 00:47:46 2002
From: tim@timcohn.com (Tim Cohn)
Date: Thu, 14 Nov 2002 19:47:46 -0500
Subject: survreg (survival) reports erroneous results for left-censored
 data (PR#2287)
In-Reply-To: <733B8BF8-F7EB-11D6-91DB-000393860F3C@stat.ucla.edu>
Message-ID: <DB8072B2-F833-11D6-83DE-000393479732@timcohn.com>

Thank you for looking into this so quickly.  As you correctly surmise,  
I was using the Carbon version of R-1.6.1 on Mac OS 10.2.2 (Jaguar)  
when I got the "wrong" answers.

One other observation:  The right censoring seems to work fine.

Thanks again,

Tim

On Thursday, November 14, 2002, at 11:09 AM, Jan de Leeuw wrote:

> I take that back. I now get the "correct" result on Darwin R-1.6.1,  
> the "wrong" result
> with Carbon R-1.6.0. On a dual G4 with 10.2.2.
>
> On Thursday, November 14, 2002, at 08:04 AM, Thomas Lumley wrote:
>
>> On Wed, 13 Nov 2002, Jan de Leeuw wrote:
>>
>>>
>>> No problemo. And, in fact, I get the same results in
>>> the R-1.6.0 Carbon version.
>>
>> I don't. Could there be a G3/G4 issue?
>>
>> 	-thomas
>>
>>
>>> --- Jan
>>>
>>> On Wednesday, November 13, 2002, at 02:05 PM, tim@timcohn.com wrote:
>>>
>>>> Full_Name: Tim Cohn
>>>> Version: 1.6.1
>>>> OS: Macintosh OS X
>>>> Submission from: (NULL) (130.11.34.250)
>>>>
>>>>
>>>> The Mac version of survreg does not handle left-censored data
>>>> correctly (at
>>>> least the results are not what I get doing it other ways, and they  
>>>> are
>>>> not the
>>>> same as I get running R 1.6.1 in Windows 98se;  the Windows 98  
>>>> results
>>>> are
>>>> correct).  On the windows version of R 1.6.1.
>>>>
>>>>> survreg(Surv(c(0,1,-1),c(T,T,F),type='left')~1,dist='gaussian')
>>>> Call:
>>>> survreg(formula = Surv(c(0, 1, -1), c(T, T, F), type = "left") ~
>>>>     1, dist = "gaussian")
>>>>
>>>> Coefficients:
>>>> (Intercept)
>>>>  -0.2321569
>>>>
>>>> Scale= 1.161135
>>>>
>>>> Loglik(model)= -4.1   Loglik(intercept only)= -4.1
>>>> n= 3
>>>>
>>>>
>>>> =================
>>>>
>>>> The Macintosh OS X result for the same command is:
>>>>
>>>>> survreg(Surv(c(0,1,-1),c(T,T,F),type='left')~1,dist='gaussian')
>>>> Call:
>>>> survreg(formula = Surv(c(0, 1, -1), c(T, T, F), type = "left") ~
>>>>     1, dist = "gaussian")
>>>>
>>>> Coefficients:
>>>> (Intercept)
>>>>  -0.7373613
>>>>
>>>> Scale= 1.366282
>>>>
>>>> Loglik(model)= -5.6   Loglik(intercept only)= -5.6
>>>> n= 3
>>>>
>>>>
>>>> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
>>>> .-
>>>> .-.-.-.-.-
>>>> r-devel mailing list -- Read
>>>> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>>>> Send "info", "help", or "[un]subscribe"
>>>> (in the "body", not the subject !)  To:
>>>> r-devel-request@stat.math.ethz.ch
>>>> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._. 
>>>> _._
>>>> ._._._._
>>>>
>>>>
>>> ===
>>> Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
>>> Editor: Journal of Multivariate Analysis, Journal of Statistical
>>> Software
>>> US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
>>> phone (310)-825-9550;  fax (310)-206-5658;  email:  
>>> deleeuw@stat.ucla.edu
>>> homepage: http://gifi.stat.ucla.edu
>>>
>>> --------------------------------------------------------------------- 
>>> ---
>>> -------------------------
>>>            No matter where you go, there you are. --- Buckaroo Banzai
>>>                     http://gifi.stat.ucla.edu/sounds/nomatter.au
>>>
>>> --------------------------------------------------------------------- 
>>> ---
>>> -------------------------
>>>
>>> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
>>> .-.-.-.-.-.-
>>> r-devel mailing list -- Read  
>>> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>>> Send "info", "help", or "[un]subscribe"
>>> (in the "body", not the subject !)  To:  
>>> r-devel-request@stat.math.ethz.ch
>>> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
>>> ._._._._._
>>>
>>
>> Thomas Lumley			Asst. Professor, Biostatistics
>> tlumley@u.washington.edu	University of Washington, Seattle
>> ^^^^^^^^^^^^^^^^^^^^^^^^
>>- NOTE NEW EMAIL ADDRESS
>>
>>
> ===
> Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
> Editor: Journal of Multivariate Analysis, Journal of Statistical  
> Software
> US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
> phone (310)-825-9550;  fax (310)-206-5658;  email:  
> deleeuw@stat.ucla.edu
> homepage: http://gifi.stat.ucla.edu
>   
> ----------------------------------------------------------------------- 
> --------------------------
>           No matter where you go, there you are. --- Buckaroo Banzai
>                    http://gifi.stat.ucla.edu/sounds/nomatter.au
>   
> ----------------------------------------------------------------------- 
> --------------------------
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tim@timcohn.com  Fri Nov 15 00:49:01 2002
From: tim@timcohn.com (tim@timcohn.com)
Date: Fri, 15 Nov 2002 01:49:01 +0100 (MET)
Subject: survreg (survival) reports erroneous results for left-censored (PR#2293)
Message-ID: <200211150049.BAA06066@pubhealth.ku.dk>

Thank you for looking into this so quickly.  As you correctly surmise,  
I was using the Carbon version of R-1.6.1 on Mac OS 10.2.2 (Jaguar)  
when I got the "wrong" answers.

One other observation:  The right censoring seems to work fine.

Thanks again,

Tim

On Thursday, November 14, 2002, at 11:09 AM, Jan de Leeuw wrote:

> I take that back. I now get the "correct" result on Darwin R-1.6.1,  
> the "wrong" result
> with Carbon R-1.6.0. On a dual G4 with 10.2.2.
>
> On Thursday, November 14, 2002, at 08:04 AM, Thomas Lumley wrote:
>
>> On Wed, 13 Nov 2002, Jan de Leeuw wrote:
>>
>>>
>>> No problemo. And, in fact, I get the same results in
>>> the R-1.6.0 Carbon version.
>>
>> I don't. Could there be a G3/G4 issue?
>>
>> 	-thomas
>>
>>
>>> --- Jan
>>>
>>> On Wednesday, November 13, 2002, at 02:05 PM, tim@timcohn.com wrote:
>>>
>>>> Full_Name: Tim Cohn
>>>> Version: 1.6.1
>>>> OS: Macintosh OS X
>>>> Submission from: (NULL) (130.11.34.250)
>>>>
>>>>
>>>> The Mac version of survreg does not handle left-censored data
>>>> correctly (at
>>>> least the results are not what I get doing it other ways, and they  
>>>> are
>>>> not the
>>>> same as I get running R 1.6.1 in Windows 98se;  the Windows 98  
>>>> results
>>>> are
>>>> correct).  On the windows version of R 1.6.1.
>>>>
>>>>> survreg(Surv(c(0,1,-1),c(T,T,F),type='left')~1,dist='gaussian')
>>>> Call:
>>>> survreg(formula = Surv(c(0, 1, -1), c(T, T, F), type = "left") ~
>>>>     1, dist = "gaussian")
>>>>
>>>> Coefficients:
>>>> (Intercept)
>>>>  -0.2321569
>>>>
>>>> Scale= 1.161135
>>>>
>>>> Loglik(model)= -4.1   Loglik(intercept only)= -4.1
>>>> n= 3
>>>>
>>>>
>>>> =================
>>>>
>>>> The Macintosh OS X result for the same command is:
>>>>
>>>>> survreg(Surv(c(0,1,-1),c(T,T,F),type='left')~1,dist='gaussian')
>>>> Call:
>>>> survreg(formula = Surv(c(0, 1, -1), c(T, T, F), type = "left") ~
>>>>     1, dist = "gaussian")
>>>>
>>>> Coefficients:
>>>> (Intercept)
>>>>  -0.7373613
>>>>
>>>> Scale= 1.366282
>>>>
>>>> Loglik(model)= -5.6   Loglik(intercept only)= -5.6
>>>> n= 3
>>>>
>>>>
>>>> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
>>>> .-
>>>> .-.-.-.-.-
>>>> r-devel mailing list -- Read
>>>> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>>>> Send "info", "help", or "[un]subscribe"
>>>> (in the "body", not the subject !)  To:
>>>> r-devel-request@stat.math.ethz.ch
>>>> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._. 
>>>> _._
>>>> ._._._._
>>>>
>>>>
>>> ===
>>> Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
>>> Editor: Journal of Multivariate Analysis, Journal of Statistical
>>> Software
>>> US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
>>> phone (310)-825-9550;  fax (310)-206-5658;  email:  
>>> deleeuw@stat.ucla.edu
>>> homepage: http://gifi.stat.ucla.edu
>>>
>>> --------------------------------------------------------------------- 
>>> ---
>>> -------------------------
>>>            No matter where you go, there you are. --- Buckaroo Banzai
>>>                     http://gifi.stat.ucla.edu/sounds/nomatter.au
>>>
>>> --------------------------------------------------------------------- 
>>> ---
>>> -------------------------
>>>
>>> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
>>> .-.-.-.-.-.-
>>> r-devel mailing list -- Read  
>>> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>>> Send "info", "help", or "[un]subscribe"
>>> (in the "body", not the subject !)  To:  
>>> r-devel-request@stat.math.ethz.ch
>>> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
>>> ._._._._._
>>>
>>
>> Thomas Lumley			Asst. Professor, Biostatistics
>> tlumley@u.washington.edu	University of Washington, Seattle
>> ^^^^^^^^^^^^^^^^^^^^^^^^
>>- NOTE NEW EMAIL ADDRESS
>>
>>
> ===
> Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
> Editor: Journal of Multivariate Analysis, Journal of Statistical  
> Software
> US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
> phone (310)-825-9550;  fax (310)-206-5658;  email:  
> deleeuw@stat.ucla.edu
> homepage: http://gifi.stat.ucla.edu
>   
> ----------------------------------------------------------------------- 
> --------------------------
>           No matter where you go, there you are. --- Buckaroo Banzai
>                    http://gifi.stat.ucla.edu/sounds/nomatter.au
>   
> ----------------------------------------------------------------------- 
> --------------------------
>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From robert.king@newcastle.edu.au  Fri Nov 15 04:41:59 2002
From: robert.king@newcastle.edu.au (robert.king@newcastle.edu.au)
Date: Fri, 15 Nov 2002 05:41:59 +0100 (MET)
Subject: anova.glm gets test="Chisq" wrong (PR#2294)
Message-ID: <200211150441.FAA06624@pubhealth.ku.dk>

Full_Name: Robert King
Version: 1.5.0
OS: windows
Submission from: (NULL) (134.148.4.19)


Also occurs in 1.6.0 on linux

anova.glm(fitted.object,test="Chisq") is giving strange answers in this
situation

> resptime
   sex task time
1    m    s  210
2    m    s  300
3    m    s  420
4    f    s  250
5    f    s  310
6    f    s  390
7    m    c  310
8    m    c  400
9    m    c  600
10   m    c  720
11   f    c  300
12   f    c  350
13   f    c  405
14   f    c  520

> resp.fit1 <- glm(time~sex+task,data=resptime,family=Gamma)

> anova(resp.fit1,test="Chisq")
Analysis of Deviance Table

Model: Gamma, link: inverse

Response: time

Terms added sequentially (first to last)


     Df Deviance Resid. Df Resid. Dev P(>|Chi|)
NULL                    13    1.50207          
sex   1  0.08833        12    1.41374   0.31191
task  1  0.44008        11    0.97366   0.02400

#BUT!
> 1-pchisq(0.44008,1)
[1] 0.5070838


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Nov 15 07:58:50 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 15 Nov 2002 07:58:50 +0000 (GMT)
Subject: anova.glm gets test="Chisq" wrong (PR#2294)
In-Reply-To: <200211150441.FAA06624@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0211150754430.15529-100000@gannet.stats>

No, it gets it right.  You need to use a *scaled* deviance in that test,
or specify dispersion = 1.

I don't think that the test is really appropriate, in any case: an F test
would be better (as the help page says).

The usage of `deviance' is rather confused in the GLM literature,
especially in McCullagh & Nelder.

On Fri, 15 Nov 2002 robert.king@newcastle.edu.au wrote:

> Full_Name: Robert King
> Version: 1.5.0
> OS: windows
> Submission from: (NULL) (134.148.4.19)
>
>
> Also occurs in 1.6.0 on linux
>
> anova.glm(fitted.object,test="Chisq") is giving strange answers in this
> situation
>
> > resptime
>    sex task time
> 1    m    s  210
> 2    m    s  300
> 3    m    s  420
> 4    f    s  250
> 5    f    s  310
> 6    f    s  390
> 7    m    c  310
> 8    m    c  400
> 9    m    c  600
> 10   m    c  720
> 11   f    c  300
> 12   f    c  350
> 13   f    c  405
> 14   f    c  520
>
> > resp.fit1 <- glm(time~sex+task,data=resptime,family=Gamma)
>
> > anova(resp.fit1,test="Chisq")
> Analysis of Deviance Table
>
> Model: Gamma, link: inverse
>
> Response: time
>
> Terms added sequentially (first to last)
>
>
>      Df Deviance Resid. Df Resid. Dev P(>|Chi|)
> NULL                    13    1.50207
> sex   1  0.08833        12    1.41374   0.31191
> task  1  0.44008        11    0.97366   0.02400
>
> #BUT!
> > 1-pchisq(0.44008,1)
> [1] 0.5070838

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Fri Nov 15 11:08:34 2002
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Fri, 15 Nov 2002 12:08:34 +0100
Subject: R mailing lists: move from majordomo to [procmail+mailman]
In-Reply-To: <3DD3BDE5.96E732D5@nottingham.ac.uk>
References: <3DD3BDE5.96E732D5@nottingham.ac.uk>,
 <15827.30026.260485.901432@gargle.gargle.HOWL>
Message-ID: <15828.54706.883492.490209@gargle.gargle.HOWL>

This was the only feedback I got.

>>>>> "Michael" == Michael Dewey <michael.dewey@nottingham.ac.uk>
>>>>>     on Thu, 14 Nov 2002 15:14:45 +0000 writes:

    Michael> I looked at the page you mentioned in the body of
    Michael> your post, but I got a series of messages about
    Michael> your security certificate first, before I got
    Michael> through. Is that (a) a problem with me (b) a
    Michael> problem at your end (c) just one of those things?

It's (b) and (c)

b) We use https (secure layer stuff) but cannot give out
   completely painless certificates.  
   This may or may not be improved ;-)

c) If you accept the certificate, you won't be asked
   ___in that browser session__ (only).

    Michael> -- Michael Dewey Trent Institute for Health
    Michael> Services Research

I now plan to do the *big change* (R-devel only) coming
Monday.

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From lutz@stat.math.ethz.ch  Fri Nov 15 12:12:09 2002
From: lutz@stat.math.ethz.ch (lutz@stat.math.ethz.ch)
Date: Fri, 15 Nov 2002 13:12:09 +0100 (MET)
Subject: bug in logLik.nls (PR#2295)
Message-ID: <200211151212.NAA11698@pubhealth.ku.dk>

logLik.nls does not count the df's correct. I get df=1 although I
fit a probit-model with 3 parameters.

Example:
x <- c(-2.3, -2.0, -1.3, -1.0, -0.7, -0.3, 0.0, 0.3)
y <- c(80, 80, 54, 43, 24, 18, 12, 12)

fit.nls <- nls(y ~ diff * pnorm(beta * (x - alpha)),
                   start=c(alpha=-1, beta=-1, diff=100))

logLik.nls(fit.nls)
# `log Lik.' -21.43369 (df=1)


Sincerely yours
Roman Lutz

--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = 
 major = 1
 minor = 6.1
 year = 2002
 month = 11
 day = 01
 language = R

Search Path:
 .GlobalEnv, package:mva, package:lattice, package:grid, package:nlme, package:nls, package:ctest, package:SfS, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Fri Nov 15 18:18:18 2002
From: bates@stat.wisc.edu (bates@stat.wisc.edu)
Date: Fri, 15 Nov 2002 19:18:18 +0100 (MET)
Subject: bug in logLik.nls (PR#2295)
Message-ID: <200211151818.TAA15264@pubhealth.ku.dk>

lutz@stat.math.ethz.ch writes:

> logLik.nls does not count the df's correct. I get df=1 although I
> fit a probit-model with 3 parameters.
> 
> Example:
> x <- c(-2.3, -2.0, -1.3, -1.0, -0.7, -0.3, 0.0, 0.3)
> y <- c(80, 80, 54, 43, 24, 18, 12, 12)
> 
> fit.nls <- nls(y ~ diff * pnorm(beta * (x - alpha)),
>                    start=c(alpha=-1, beta=-1, diff=100))
> 
> logLik.nls(fit.nls)
> # `log Lik.' -21.43369 (df=1)

You are correct.  Thanks for the report.  Fix now committed.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Fri Nov 15 18:17:21 2002
From: bates@stat.wisc.edu (Douglas Bates)
Date: 15 Nov 2002 12:17:21 -0600
Subject: bug in logLik.nls (PR#2295)
In-Reply-To: <200211151212.NAA11698@pubhealth.ku.dk>
References: <200211151212.NAA11698@pubhealth.ku.dk>
Message-ID: <6rlm3ur93i.fsf@bates5.stat.wisc.edu>

lutz@stat.math.ethz.ch writes:

> logLik.nls does not count the df's correct. I get df=1 although I
> fit a probit-model with 3 parameters.
> 
> Example:
> x <- c(-2.3, -2.0, -1.3, -1.0, -0.7, -0.3, 0.0, 0.3)
> y <- c(80, 80, 54, 43, 24, 18, 12, 12)
> 
> fit.nls <- nls(y ~ diff * pnorm(beta * (x - alpha)),
>                    start=c(alpha=-1, beta=-1, diff=100))
> 
> logLik.nls(fit.nls)
> # `log Lik.' -21.43369 (df=1)

You are correct.  Thanks for the report.  Fix now committed.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From heinlein@cse.ogi.edu  Fri Nov 15 19:21:41 2002
From: heinlein@cse.ogi.edu (heinlein@cse.ogi.edu)
Date: Fri, 15 Nov 2002 20:21:41 +0100 (MET)
Subject: make check fails with -march=i686 on gcc 2.96 (PR#2296)
Message-ID: <200211151921.UAA15447@pubhealth.ku.dk>

The top-level 'make check' fails on Red Hat Linux 7.3 (fully patched 
as of Nov. 15, 2002) when CFLAGS includes "-march=i686". In 
particular, the following targets fail:

* test-Reg
* test-Examples
* test-Ts

The workaround is not to use "-march=i686". Specific stuff below, and
I'd be happy to provide any files or fragments thereof that'd help.

The failure does not occur

a) when the configure script is allowed to generate the optimization
   flags all on its own:

b) using Red Hat 8.0 with gcc 3.2 and glibc 2.2.93 (even with 
   -march=i686 specified)

+-----------------------------------------+----------------------+
| Paul Heinlein                           | heinlein@cse.ogi.edu |
| Research Systems Engineer               |      +1 503 748-1472 |
| Dept. of Computer Science & Engineering | 20000 NW Walker Road |
| OGI School of Science & Engineering     |  Beaverton, OR 97006 |
| Oregon Health & Science University      |                  USA |
+-----------------------------------------+----------------------+


System info:

* gcc 2.96 (rpm: gcc-2.96-113)
* libc 2.2.5 (rpm: glibc-2.2.5-42)
* kernel 2.4.18 (rpm: kernel-smp-2.4.18-17.7.x)
* 2 x Pentium III (Coppermine)


[heinlein@pecos R-1.6.1]$ CFLAGS='-O2 -march=i686' ./configure \
>> --prefix=/usr --with-gnome
...
R is now configured for i686-pc-linux-gnu

  Source directory:          .  
  Installation directory:    /usr

  C compiler:                gcc  -D__NO_MATH_INLINES -mieee-fp -O2 -march=i686
  C++ compiler:              g++  -mieee-fp -g -O2
  Fortran compiler:          g77  -mieee-fp -g -O2

  X11 support:               yes
  Gnome support:             yes
  Tcl/Tk support:            yes
  Readline support:          yes

  R profiling support:       yes
  R as a shared library:     no

  Recommended packages:      yes

[heinlein@pecos R-1.6.1]$ make
... everything ok ...
[heinlein@pecos R-1.6.1]$ make check
...
make[4]: Entering directory `/var/tmp/R-1.6.1/tests/Examples'
collecting examples for package 'base' ...
make[5]: Entering directory `/var/tmp/R-1.6.1/src/library'
 >>> Building/Updating help pages for package 'base'
     Formats: text example 
make[5]: Leaving directory `/var/tmp/R-1.6.1/src/library'
running code in 'base-Ex.R' ...make[4]: *** [base-Ex.Rout] Error 1
[heinlein@pecos R-1.6.1]$ cd tests
[heinlein@pecos tests]$ make test-Reg
running regression tests
make[1]: Entering directory `/var/tmp/R-1.6.1/tests'
running code in 'reg-tests-1.R' ...make[1]: *** [reg-tests-1.Rout] Error 1
make[1]: Leaving directory `/var/tmp/R-1.6.1/tests'
make: *** [test-Reg] Error 2


Other test targets succeed: test-Packages (one warning about
undocumented code object 'plot' in methods), test-Internet,
test-Lapack, test-Nafns, test-Postscript, test-Random, test-DocArgs,
test-DocStyle (with some warnings), test-FF, test-Methods.





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gwright@packetstorm.com  Fri Nov 15 21:02:28 2002
From: gwright@packetstorm.com (Gregory Wright)
Date: Fri, 15 Nov 2002 16:02:28 -0500
Subject: R-1.6.1, Mac OS X 10.2.2 build failure
In-Reply-To: <Pine.LNX.4.44.0211141631250.20208-100000@itasca.stat.uiowa.edu>
Message-ID: <8CDEC0D6-F8DD-11D6-931E-00039398F084@packetstorm.com>


dlcompat was the problem.

When it was rebuilt in the fink style (by hand, using 'make -f fink.mk  
install'), R built to completion.

Thanks to Luke and Jan for their help on this.

I've asked the darwinports list for a advice on what is the best way  
forward to putting together a port of R-1.6.1.

Thanks again.

Best Wishes,
Greg



On Thursday, November 14, 2002, at 05:34 PM, Luke Tierney wrote:

> You might want to double check the dlcompat you have.  THere was some
> discussiion about this a week or two ago in conneciton with plain
> darwin I think.  Mac compilers prepend underscores to C names; most
> other systems don't.  R's config assumes that R has to prepend an
> underscore.  But as I recall you can configure dlcompat to do that for
> you, and if that is what you have then you are getting two underscores
> instead of one.  Don't know if that is the problem, but it's something
> to check.
>
> luke
>
> On Thu, 14 Nov 2002, Gregory Wright wrote:
>
>>
>> On Thursday, November 14, 2002, at 12:35 PM, Jan de Leeuw wrote:
>>
>>> I know what I would do. It does not rebuild "methods". I would do a
>>> make distclean in your build directory and configure from scratch.
>>>
>>>
>>>
>>
>> Hi,
>>
>> I unpacked a fresh 1.6.1 tarball, reconfigured and rebuilt from
>> scratch. The results were similar:
>>
>> <...stuff omitted..>
>> cc1: warning: changing search order for system directory
>> "/usr/local/include"
>> cc1: warning:   as it has already been specified as a non-system
>> directory
>> gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include
>> -fno-common  -g -O2 -c methods_list_dispatch.c -o
>> methods_list_dispatch.o
>> cc1: warning: changing search order for system directory
>> "/usr/local/include"
>> cc1: warning:   as it has already been specified as a non-system
>> directory
>> gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include
>> -fno-common  -g -O2 -c method_meta_data.c -o method_meta_data.o
>> cc1: warning: changing search order for system directory
>> "/usr/local/include"
>> cc1: warning:   as it has already been specified as a non-system
>> directory
>> gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include
>> -fno-common  -g -O2 -c slot.c -o slot.o
>> cc1: warning: changing search order for system directory
>> "/usr/local/include"
>> cc1: warning:   as it has already been specified as a non-system
>> directory
>> gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include
>> -fno-common  -g -O2 -c class_support.c -o class_support.o
>> cc1: warning: changing search order for system directory
>> "/usr/local/include"
>> cc1: warning:   as it has already been specified as a non-system
>> directory
>> gcc -bundle -flat_namespace -undefined suppress -L/usr/local/lib -o
>> methods.so do_substitute_direct.o methods_list_dispatch.o
>> method_meta_data.o slot.o class_support.o
>> mkdir -p -- ../../../../library/methods/libs
>> dumping R code in package 'methods'
>> Error in .Call("R_initialize_methods_metadata", table, PACKAGE =
>> "methods") :
>>          .Call function name not in load table
>> Execution halted
>> make[4]: *** [../../../library/methods/R/all.rda] Error 1
>> make[3]: *** [all] Error 2
>> make[2]: *** [R] Error 1
>> make[1]: *** [R] Error 1
>> make: *** [R] Error 1
>>
>> The configuration was
>>
>> bash-2.05a$ export TCLTK_LIBS="-framework Tcl -framework Tk"
>> bash-2.05a$ export
>> TCLTK_CPPFLAGS="-I/Library/Frameworks/Tcl.framework/Headers
>> -I/Library/Frameworks/Tk.framework/Headers"
>> ../configure
>> --with-tcl-config=/Library/Frameworks/Tcl.framework/tclConfig.sh
>> --with-tk-config=/Library/Frameworks/Tk.framework/tkConfig.sh
>>
>>
>> and configure's summary was
>>
>> R is now configured for powerpc-apple-darwin6.2
>>
>>    Source directory:          .
>>    Installation directory:    /usr/local
>>
>>    C compiler:                gcc  -g -O2
>>    C++ compiler:              g++  -g -O2
>>    Fortran compiler:          g77  -g -O2
>>
>>    X11 support:               yes
>>    Gnome support:             no
>>    Tcl/Tk support:            yes
>>    Readline support:          yes
>>
>>    R profiling support:       yes
>>    R as a shared library:     no
>>
>>    Recommended packages:      yes
>>
>>
>> Is there something obvious that I should be examining to find the root
>> of the this?
>>
>> Best Wishes,
>> Greg Wright
>>
>> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
>> .-.-.-.-.-
>> r-devel mailing list -- Read  
>> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>> Send "info", "help", or "[un]subscribe"
>> (in the "body", not the subject !)  To:  
>> r-devel-request@stat.math.ethz.ch
>> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._. 
>> _._._._._
>>
>
> -- 
> Luke Tierney
> University of Iowa                  Phone:             319-335-3386
> Department of Statistics and        Fax:               319-335-3017
>    Actuarial Science
> 241 Schaeffer Hall                  email:      luke@stat.uiowa.edu
> Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Fri Nov 15 23:07:53 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Nov 2002 00:07:53 +0100
Subject: make check fails with -march=i686 on gcc 2.96 (PR#2296)
In-Reply-To: <200211151921.UAA15447@pubhealth.ku.dk>
References: <200211151921.UAA15447@pubhealth.ku.dk>
Message-ID: <x27kfev3cm.fsf@biostat.ku.dk>

heinlein@cse.ogi.edu writes:

> The top-level 'make check' fails on Red Hat Linux 7.3 (fully patched 
> as of Nov. 15, 2002) when CFLAGS includes "-march=i686". In 
> particular, the following targets fail:
> 
> * test-Reg
> * test-Examples
> * test-Ts
> 
> The workaround is not to use "-march=i686". Specific stuff below, and
> I'd be happy to provide any files or fragments thereof that'd help.
> 
> The failure does not occur
> 
> a) when the configure script is allowed to generate the optimization
>    flags all on its own:
> 
> b) using Red Hat 8.0 with gcc 3.2 and glibc 2.2.93 (even with 
>    -march=i686 specified)

Sounds more like a compiler bug than an R bug. (I have yet to see the
-march setting have any noticeable effect on a program, so I wouldn't
consider it high priority...)
 
The dual PIII that I have access to is still on RH7.2 and gcc-2.96-98
but I can reproduce the crash in base-Ex.R

#0  0x4012ace9 in __printf_fp () at printf_fp.c:910
#1  0x4012657b in _IO_vfprintf (s=0xbfffb020, 
    format=0xbfffb130 "%#2.2147483647e", ap=0xbfffb110) at _itoa.h:49
#2  0x40141605 in _IO_vsprintf (string=0x8b928b0 " 192.64", 
    format=0xbfffb130 "%#2.2147483647e", args=0xbfffb108) at #iovsprintf.c:46
#3  0x4012ec69 in sprintf (s=0x8b928b0 " 192.64", 
    format=0xbfffb130 "%#2.2147483647e") at sprintf.c:38
#4  0x08101613 in Rf_EncodeReal (x=nan(0x80000000007a2), w=2, #d=2147483647, 
    e=1) at ../../../R/src/main/printutils.c:171
#5  0x08101afb in Rf_EncodeElement (x=0x8bb2940, indx=0, quote=0)
    at ../../../R/src/main/printutils.c:366
...

BTW, another gotcha: r-devel tried to pass --args to gdb, but the
RH7.2 one (5.0-rh15) does not understand that.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From schutz@wehi.edu.au  Sat Nov 16 04:44:02 2002
From: schutz@wehi.edu.au (schutz@wehi.edu.au)
Date: Sat, 16 Nov 2002 05:44:02 +0100 (MET)
Subject: Wishlist: allow NA values in medpolish (package 'eda') (PR#2298)
Message-ID: <200211160444.FAA16556@pubhealth.ku.dk>

Full_Name: Frederic Schutz
Version: 1.6.1
OS: Linux
Submission from: (NULL) (128.250.252.193)


The subject says everything... This has already been proposed in
June 2001 (cf http://maths.newcastle.edu.au/~rking/R/help/01a/2333.html),
but no reply followed.

I attach the patch that I used on my system to add this feature
(including an updated help page), if it can help. Sorry, the
two "diff..." lines will certainly been wrapped due to the HTML form.

Frederic

diff -ur R-1.6.1.old/src/library/eda/R/medpolish.R
R-1.6.1/src/library/eda/R/medpolish.R
--- R-1.6.1.old/src/library/eda/R/medpolish.R   Mon Jan 31 21:01:52 2000
+++ R-1.6.1/src/library/eda/R/medpolish.R       Sat Nov 16 15:18:07 2002
@@ -1,4 +1,5 @@
-medpolish <- function (x, eps=0.01, maxiter=10, trace.iter = TRUE)
+medpolish <- function (x, eps=0.01, maxiter=10, trace.iter = TRUE,
+                       na.rm = FALSE)
 {
     z <- as.matrix(x)
     nr <- nrow(z)
@@ -8,19 +9,19 @@
     c <- numeric(nc)
     oldsum <- 0
     for(iter in 1:maxiter) {
-       rdelta <- apply(z, 1, median)
+       rdelta <- apply(z, 1, median, na.rm = na.rm)
        z <- z - matrix(rdelta, nr=nr, nc=nc)
        r <- r + rdelta
-       delta <- median(c)
+       delta <- median(c, na.rm = na.rm)
        c <- c - delta
        t <- t + delta
-       cdelta <- apply(z, 2, median)
+       cdelta <- apply(z, 2, median, na.rm = na.rm)
        z <- z - matrix(cdelta, nr=nr, nc=nc, byrow=TRUE)
        c <- c + cdelta
-       delta <- median(r)
+       delta <- median(r, na.rm = na.rm)
        r <- r - delta
        t <- t + delta
-       newsum <- sum(abs(z))
+       newsum <- sum(abs(z), na.rm = na.rm)
        converged <- newsum==0 || abs(1-oldsum/newsum) < eps
         if(converged) break
        oldsum <- newsum
diff -ur R-1.6.1.old/src/library/eda/man/medpolish.Rd
R-1.6.1/src/library/eda/man/medpolish.Rd
--- R-1.6.1.old/src/library/eda/man/medpolish.Rd        Tue Aug 14 07:41:51
2001
+++ R-1.6.1/src/library/eda/man/medpolish.Rd    Sat Nov 16 14:47:24 2002
@@ -7,7 +7,8 @@
   Fits an additive model using Tukey's \emph{median polish} procedure.
 }
 \usage{
-medpolish(x, eps = 0.01, maxiter = 10, trace.iter = TRUE)
+medpolish(x, eps = 0.01, maxiter = 10, trace.iter = TRUE,
+          na.rm = FALSE)
 }
 \arguments{
   \item{x}{a numeric matrix.}
@@ -15,6 +16,7 @@
     see \bold{Details}.}
   \item{maxiter}{the maximum number of iterations}
   \item{trace.iter}{logical. Should progress in convergence be reported?}
+  \item{na.rm}{logical. Should missing values be removed?}
 }
 \details{
   The model fitted is additive (constant + rows + columns). The
@@ -24,6 +26,8 @@
   or until there have been \code{maxiter} iterations.
   The sum of absolute residuals is printed at
   each iteration of the fitting process, if \code{trace.iter} is \code{TRUE}.
+  If \code{na.rm} is \code{FALSE} the presence of any \code{NA} value in
+  \code{x} will cause an error, otherwise \code{NA} values are ignored.
 
   \code{medpolish} returns an object of class \code{medpolish} (see below).
   There are printing and plotting methods for this


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From schutz@wehi.edu.au  Sat Nov 16 05:33:05 2002
From: schutz@wehi.edu.au (schutz@wehi.edu.au)
Date: Sat, 16 Nov 2002 06:33:05 +0100 (MET)
Subject: formatC with format="fg" displays number in exponential notation (PR#2299)
Message-ID: <200211160533.GAA16636@pubhealth.ku.dk>

Full_Name: Frederic Schutz
Version: 1.6.1
OS: Linux
Submission from: (NULL) (128.250.252.193)


The result of the following commands:

> formatC(9.9, 1, format="fg")
[1] "1e+01"
> formatC(99.9, 1, format="fg")
[1] "1e+02"

does not seem to be coherent with what the help page says:

>  format: equal to `"d"'  (for integers), `"f"', `"e"', `"E"', `"g"',
>          `"G"', `"fg"' (for reals), or `"s"' (for strings). Default is
>          `"d"' for integers, `"g"' for reals.
>
>          `"f"' gives numbers in the usual `xxx.xxx' format;  `"e"' and
>          `"E"' give `n.ddde+nn' or `n.dddE+nn' (scientific format);
>          `"g"' and `"G"' put `x[i]' into scientific format only if it
>          saves space to do so.
>
>          `"fg"' uses fixed format as `"f"', but `digits' as number of
>          significant digits.  Note that this can lead to quite long
>          result strings, see examples below.

I would expect "fg" to produce only fixed format numbers, which does not
seem to be the case here.

Frederic

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jago@mclink.it  Sat Nov 16 08:48:52 2002
From: jago@mclink.it (Stefano Iacus)
Date: Sat, 16 Nov 2002 09:48:52 +0100
Subject: survreg (survival) reports erroneous results for left-censored data (PR#2287)
In-Reply-To: <Pine.A41.4.44.0211151532160.137762-100000@homer36.u.washington.edu>
Message-ID: <3BB46CA9-F940-11D6-9DF4-003065CC4CB8@mclink.it>

Thomas,
you were right. It works now. This is what I get with Carbon R and the 
patched survival package.
I will upload a patched version of survivalLib. Can you please fix 
SurvS.h sources?
Stefano


 > survreg(Surv(c(0,1,-1),c(T,T,F),type='left')~1,dist='gaussian')
Call:
survreg(formula = Surv(c(0, 1, -1), c(T, T, F), type = "left") ~
     1, dist = "gaussian")

Coefficients:
(Intercept)
  -0.2321569

Scale= 1.161135

Loglik(model)= -4.1   Loglik(intercept only)= -4.1
n= 3

On Saturday, November 16, 2002, at 12:59 AM, Thomas Lumley wrote:

>
>  I think it's a problem with the erfc macro in survS.h, which is 
> defined
> as
> #ifndef erfc
> #define erfc(x) 2*pnorm5(-x*M_SQRT2,0,1,1,0)
> #endif
>
> The problem is that in survreg2.c we call erf(-z/ROOT_2), which 
> expands to
> 2*pnorm5(--z/ROOT_2*SQRT2,0,1,1,0), and the -- becomes a predecrement
> operator.   I hate macros.
>
> If so, the fix would be
> #ifndef erfc
> #define erfc(x) 2*pnorm5(-(x)*M_SQRT2,0,1,1,0)
> #endif
>
> 	-thomas
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From xiao.gang.fan1@libertysurf.fr  Sun Nov 17 14:31:04 2002
From: xiao.gang.fan1@libertysurf.fr (xiao.gang.fan1@libertysurf.fr)
Date: Sun, 17 Nov 2002 15:31:04 +0100 (MET)
Subject: Package tseries: crash for Windows version (PR#2302)
Message-ID: <200211171431.PAA19882@pubhealth.ku.dk>

Platform: Windows 98
R version: Version 1.6.1  (2002-11-01)
Package 'tseries' version: 0.9-4 Built: R 1.6.0; Win32; Mon Oct 7 14:02:38 2002)
(dependanted packages 'quadprog': Built: R 1.5.1;  Win32;  2002-07-03 12:20:50) 

I've just upgraded to R 1.6.1. By typing

library(tseries)
example(garch)

=> I've got a crash with the following message:
"RGUI a caus une dfaillance de page dans le module TSERIES.DLL  0167:117c999f"

Thanks in advance
--
Fan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From krcabrer@epm.net.co  Sun Nov 17 15:40:37 2002
From: krcabrer@epm.net.co (Kenneth Cabrera)
Date: Sun, 17 Nov 2002 10:40:37 -0500
Subject: Package tseries: crash for Windows version (PR#2302)
References: <200211171431.PAA19882@pubhealth.ku.dk>
Message-ID: <3DD7B875.9040407@epm.net.co>

similar happens on W2K platform

xiao.gang.fan1@libertysurf.fr wrote:

>Platform: Windows 98
>R version: Version 1.6.1  (2002-11-01)
>Package 'tseries' version: 0.9-4 Built: R 1.6.0; Win32; Mon Oct 7 14:02:38 2002)
>(dependanted packages 'quadprog': Built: R 1.5.1;  Win32;  2002-07-03 12:20:50) 
>
>I've just upgraded to R 1.6.1. By typing
>
>library(tseries)
>example(garch)
>
>=> I've got a crash with the following message:
>"RGUI a caus? une d?faillance de page dans le module TSERIES.DLL ? 0167:117c999f"
>
>Thanks in advance
>--
>Fan
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>
>
>  
>

-- 
Kenneth Roy Cabrera Torres
Celular +57 (315) 405 9339



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Nov 17 15:59:26 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 17 Nov 2002 15:59:26 +0000 (GMT)
Subject: Package tseries: crash for Windows version (PR#2302)
In-Reply-To: <3DD7B875.9040407@epm.net.co>
Message-ID: <Pine.LNX.4.31.0211171548360.3550-100000@gannet.stats>

This is not the appropriate place to report such an error, unless you
built the packages yourself under the current version of R, which you
clearly did not.

And this is *definitely* not the place to say `me too'.  Neither of you
provided any debugging information.

Please do not clog up R-bugs with reports on out-of-date builds, and
please do remember that having compiled versions for R is a *privilege*
which such reports abuse.

Note that the tseries pre-compiled package did run the checks under the
version of R on its date stamp and this may well be a problem with the
R 1.6.1 build rather than the package.

Your long-suffering Windows package compiler.


On Sun, 17 Nov 2002, Kenneth Cabrera wrote:

> similar happens on W2K platform
>
> xiao.gang.fan1@libertysurf.fr wrote:
>
> >Platform: Windows 98
> >R version: Version 1.6.1  (2002-11-01)
> >Package 'tseries' version: 0.9-4 Built: R 1.6.0; Win32; Mon Oct 7 14:02:38 2002)
> >(dependanted packages 'quadprog': Built: R 1.5.1;  Win32;  2002-07-03 12:20:50)
> >
> >I've just upgraded to R 1.6.1. By typing
> >
> >library(tseries)
> >example(garch)
> >
> >=> I've got a crash with the following message:
> >"RGUI a caus? une d?faillance de page dans le module TSERIES.DLL ? 0167:117c999f"
> >
> >Thanks in advance
> >--
> >Fan
> >
> >-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> >r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> >Send "info", "help", or "[un]subscribe"
> >(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> >_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> >
> >
> >
>
> --
> Kenneth Roy Cabrera Torres
> Celular +57 (315) 405 9339
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From xiao.gang.fan1@libertysurf.fr  Sun Nov 17 16:07:15 2002
From: xiao.gang.fan1@libertysurf.fr (Fan)
Date: Sun, 17 Nov 2002 17:07:15 +0100
Subject: Package tseries: crash for Windows version (PR#2302)
References: <Pine.LNX.4.31.0211171548360.3550-100000@gannet.stats>
Message-ID: <3DD7BEB3.AE3FF5DF@libertysurf.fr>

Sorry for the precision:
I've tested on the precompiled version (downloaded from CRAN)
AND on my compiled version from source: always KO.
Which debugging information the maintainer want to get ?
The better perhaps would be waiting his answer, no ?
--
Fan

ripley@stats.ox.ac.uk a crit :
> 
> This is not the appropriate place to report such an error, unless you
> built the packages yourself under the current version of R, which you
> clearly did not.
> 
> And this is *definitely* not the place to say `me too'.  Neither of you
> provided any debugging information.
> 
> Please do not clog up R-bugs with reports on out-of-date builds, and
> please do remember that having compiled versions for R is a *privilege*
> which such reports abuse.
> 
> Note that the tseries pre-compiled package did run the checks under the
> version of R on its date stamp and this may well be a problem with the
> R 1.6.1 build rather than the package.
> 
> Your long-suffering Windows package compiler.
> 
> On Sun, 17 Nov 2002, Kenneth Cabrera wrote:
> 
> > similar happens on W2K platform
> >
> > xiao.gang.fan1@libertysurf.fr wrote:
> >
> > >Platform: Windows 98
> > >R version: Version 1.6.1  (2002-11-01)
> > >Package 'tseries' version: 0.9-4 Built: R 1.6.0; Win32; Mon Oct 7 14:02:38 2002)
> > >(dependanted packages 'quadprog': Built: R 1.5.1;  Win32;  2002-07-03 12:20:50)
> > >
> > >I've just upgraded to R 1.6.1. By typing
> > >
> > >library(tseries)
> > >example(garch)
> > >
> > >=> I've got a crash with the following message:
> > >"RGUI a caus? une d?faillance de page dans le module TSERIES.DLL ? 0167:117c999f"
> > >
> > >Thanks in advance
> > >--
> > >Fan
> > >
> > >-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > >r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > >Send "info", "help", or "[un]subscribe"
> > >(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> > >_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> > >
> > >
> > >
> > >
> >
> > --
> > Kenneth Roy Cabrera Torres
> > Celular +57 (315) 405 9339
> >
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> --
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jyan@stat.wisc.edu  Sun Nov 17 17:20:47 2002
From: jyan@stat.wisc.edu (jyan@stat.wisc.edu)
Date: Sun, 17 Nov 2002 18:20:47 +0100 (MET)
Subject: gnuwin32/Makefile (PR#2304)
Message-ID: <200211171720.SAA20281@pubhealth.ku.dk>

I was trying cross-compiling R-1.6.1 and found that at line 519 of
R-1.6.1/src/gnuwin32/Makefile, 

../library/%/DESCRIPTION: ../library/RECOMMENDED/%.tgz

needs to be changed to

../library/%/DESCRIPTION: ../library/Recommended/%.tgz


Jun


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Nov 17 17:31:21 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 17 Nov 2002 17:31:21 +0000 (GMT)
Subject: gnuwin32/Makefile (PR#2304)
In-Reply-To: <200211171720.SAA20281@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0211171730350.4234-100000@gannet.stats>

Yes, already found and fixed.  It's only needed when cross-compiling
as Windows is case-insensitive.

On Sun, 17 Nov 2002 jyan@stat.wisc.edu wrote:

> I was trying cross-compiling R-1.6.1 and found that at line 519 of
> R-1.6.1/src/gnuwin32/Makefile,
>
> ../library/%/DESCRIPTION: ../library/RECOMMENDED/%.tgz
>
> needs to be changed to
>
> ../library/%/DESCRIPTION: ../library/Recommended/%.tgz
>
>
> Jun
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From xiao.gang.fan1@libertysurf.fr  Sun Nov 17 19:58:01 2002
From: xiao.gang.fan1@libertysurf.fr (Fan)
Date: Sun, 17 Nov 2002 20:58:01 +0100
Subject: Package tseries: crash for Windows version (PR#2302)
References: <3DD7B875.9040407@epm.net.co> <Pine.LNX.4.31.0211171548360.3550-100000@gannet.stats> <45hftuosbgf6fjjbq6mba6ba0rsjf4ub7a@4ax.com>
Message-ID: <3DD7F4C9.DED4D1D@libertysurf.fr>

I've got into another pb with R 1.6.1 (always under Windows 98):

help(sum, chmhelp=T)

this will open the file base.chm, if we close this help window =>
crash in R, with the following message:
"RGUI has caused a page failure in the library ITIRCL.dll at 0167:5d506e2a"

With another package, ex. help(garch, package=tseries, chmhelp=T), no problem.

Thanks in advance
--
Fan

Duncan Murdoch :
> 
> On Sun, 17 Nov 2002 15:59:26 +0000 (GMT), you wrote:
> 
> >This is not the appropriate place to report such an error, unless you
> >built the packages yourself under the current version of R, which you
> >clearly did not.
> 
> I rebuilt in 1.6.1 and got the same error, in the .C call to
> pred_garch.  I didn't trace into the C code to localize it any
> further.
> 
> Kurt, if this is a Windows-only issue, let me know and I'll try to
> track down what the problem is.
> 
> Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

	for <r-devel@stat.math.ethz.ch>; Mon, 18 Nov 2002 10:39:46 +0100 (MET)
Date: Mon, 18 Nov 2002 10:39:46 +0100 (MET)
From: maechler@stat.math.ethz.ch
Message-Id: <200211180939.KAA24048@pubhealth.ku.dk>
To: r-devel@stat.math.ethz.ch
CC: R-bugs@biostat.ku.dk
X-Loop: R-bugs@biostat.ku.dk
Subject: [Rd] Re: Wishlist: allow NA values in medpolish (package 'eda') (PR#2298)
Sender: r-devel-admin@stat.math.ethz.ch
Errors-To: r-devel-admin@stat.math.ethz.ch
X-BeenThere: r-devel@stat.math.ethz.ch
X-Mailman-Version: 2.0.13
Precedence: bulk
List-Help: <mailto:r-devel-request@stat.math.ethz.ch?subject=help>
List-Post: <mailto:r-devel@stat.math.ethz.ch>
List-Subscribe: <http://www.stat.math.ethz.ch/mailman/listinfo/r-devel>,
	<mailto:r-devel-request@stat.math.ethz.ch?subject=subscribe>
List-Id: R developers,
	designers and active programmers <r-devel.stat.math.ethz.ch>
List-Unsubscribe: <http://www.stat.math.ethz.ch/mailman/listinfo/r-devel>,
	<mailto:r-devel-request@stat.math.ethz.ch?subject=unsubscribe>
List-Archive: <http://www.stat.math.ethz.ch/pipermail/r-devel/>

>>>>> "Frederic" == Frederic Schutz <schutz@wehi.edu.au>
>>>>>     on Sat, 16 Nov 2002 05:44:02 +0100 (MET) writes:


    Frederic> The subject says everything... This has already
    Frederic> been proposed in June 2001 (cf
    Frederic> http://maths.newcastle.edu.au/~rking/R/help/01a/2333.html),
    Frederic> but no reply followed.

sorry for that.
Yes, this too obvious  to not implement it. ;-)
Probably, most of us are not really making heavy use of medpolish(..)..
But thanks for the patch which I've even implemented 
for "R-patched" (even though it's not a bug fix, but a wish, as
you properly indicated).

    Frederic> I attach the patch that I used on my system to add
    Frederic> this feature (including an updated help page), if
    Frederic> it can help.
it did, thanks.

    Frederic>  Sorry, the two "diff..." lines will certainly
    Frederic> been wrapped due to the HTML form. 

fortunately, the R-devel forwarding had no wrap arounds.

BTW: The main reason for this reply is to test the new R-devel
     mailing list setup .. see my Friday posting (to R-devel) on
     this subject.

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><



From Martin Maechler <maechler@stat.math.ethz.ch>  Mon Nov 18 11:07:01 2002
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Mon, 18 Nov 2002 12:07:01 +0100
Subject: [Rd] R-devel: now moved from majordomo to [procmail+mailman]
In-Reply-To: <15827.30026.260485.901432@gargle.gargle.HOWL>
References: <15827.30026.260485.901432@gargle.gargle.HOWL>
Message-ID: <15832.51669.214864.929805@gargle.gargle.HOWL>

I have done the announced move now (~ 2 hours ago).

The biggest changes is probably for the former subscribers of 
"R-devel-digest" : You are now subscribed to R-devel with the
"digest" option activated.  

Also note that the digests are now *daily* (instead of 3 times a week).
This could be changed with some effort, but does not correspond
to general Mailman setup/philosophy/documentation.

Further, currently the digests are sent at noon (localtime aka
MET or {i.e. UTC+1 or UTC+2 in "summer time"}.  This also
corresponds to mailman defaults, but could be changed easily.

Feedback welcome, to me privately, or to the list if
appropriate. I'm particularly interested in the observed delays
(visible via the message headers, e.g.), since mailman has a
different way of sending things out.

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

From p.dalgaard@biostat.ku.dk  Mon Nov 18 11:23:43 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 Nov 2002 12:23:43 +0100
Subject: [Rd] R-devel: now moved from majordomo to [procmail+mailman]
In-Reply-To: <15832.51669.214864.929805@gargle.gargle.HOWL>
References: <15827.30026.260485.901432@gargle.gargle.HOWL>
 <15832.51669.214864.929805@gargle.gargle.HOWL>
Message-ID: <x2isyvi0jk.fsf@biostat.ku.dk>

Martin Maechler <maechler@stat.math.ethz.ch> writes:

> Feedback welcome, to me privately, or to the list if
> appropriate. I'm particularly interested in the observed delays
> (visible via the message headers, e.g.), since mailman has a
> different way of sending things out.

Notice that the Sender: field has changed from owner-r-devel to
r-devel-admin. Those who use mail-filtering rules may wish to adapt.

        -p

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

From krcabrer@perseus.unalmed.edu.co  Mon Nov 18 01:35:39 2002
From: krcabrer@perseus.unalmed.edu.co (Kenneth Roy Cabrera Torres)
Date: Mon, 18 Nov 2002 06:35:39 +0500 (GMT)
Subject: [Rd] Re: Package tseries: crash for Windows version (PR#2302)
In-Reply-To: <3DD7F4C9.DED4D1D@libertysurf.fr>
Message-ID: <Pine.GSO.4.44.0211180630190.8913-100000@perseus.unalmed.edu.co>

> I've got into another pb with R 1.6.1 (always under Windows 98):
>
> help(sum, chmhelp=T)
>

I have a W2K platform and works fine with self compiled version,
but not with the precompiled. (I modify the makerules for make the
chm files)

> this will open the file base.chm, if we close this help window =>
> crash in R, with the following message:
> "RGUI has caused a page failure in the library ITIRCL.dll at 0167:5d506e2a"
>

It works fine also in the self compiled version, not in the precompiled.

> With another package, ex. help(garch, package=tseries, chmhelp=T), no problem.
>
> Thanks in advance
> --
> Fan
>


From ripley@stats.ox.ac.uk  Mon Nov 18 11:46:47 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 18 Nov 2002 11:46:47 +0000 (GMT)
Subject: [Rd] Re: chm help (was Package tseries: crash for Windows version (PR#2302))
In-Reply-To: <Pine.GSO.4.44.0211180630190.8913-100000@perseus.unalmed.edu.co>
Message-ID: <Pine.LNX.4.31.0211181144390.14421-100000@gannet.stats>

Do you have the *current* precompiled version of rw1061.exe?
That one works on my systems, as does a version I compiled myself.

Please use a sensible subject!

On Mon, 18 Nov 2002, Kenneth Roy Cabrera Torres wrote:

>
> > I've got into another pb with R 1.6.1 (always under Windows 98):
> >
> > help(sum, chmhelp=T)
> >
>
> I have a W2K platform and works fine with self compiled version,
> but not with the precompiled. (I modify the makerules for make the
> chm files)
>
> > this will open the file base.chm, if we close this help window =>
> > crash in R, with the following message:
> > "RGUI has caused a page failure in the library ITIRCL.dll at 0167:5d506e2a"
> >
>
> It works fine also in the self compiled version, not in the precompiled.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From mcrae_allan@hotmial.com  Mon Nov 18 14:12:24 2002
From: mcrae_allan@hotmial.com (mcrae_allan@hotmial.com)
Date: Mon, 18 Nov 2002 15:12:24 +0100 (MET)
Subject: [Rd] Prediction from arima() object (library ts) (PR#2305)
Message-ID: <200211181412.PAA28853@pubhealth.ku.dk>

Full_Name: Allan McRae
Version: 1.6.0
OS: Win 2000 P
Submission from: (NULL) (129.215.190.229)


When using predict.Arima in library ts(), it appears differencing is only
accounted for in the first step of prediction and so any trend is not apparent
in the predictions.  The example shows the difference between the predictions of
an arima(1,1,1) model and the backtransformed predictions of an arima(1,0,1)
model fitted on the differenced data.

Example:

total <- c(750, 775, 971, 1099, 1344, 610, 910, 1056, 1589, 1006, 1469, 1598,
876, 1104, 1197, 1062, 1783, 1554, 1400, 1340, 1013, 1031, 1030, 860, 943, 1542,
1400, 1301, 1443, 1057, 1296, 710, 1038, 1447, 694, 889, 1459, 957, 1284, 1520,
1172, 1826, 1751, 1968, 933, 1409, 1889)

revtotal <- numeric(length(total))
for(i in 1:length(total))
	revtotal[i] <- total[length(total)-i+1]

# first model
m1 <- arima(revtotal, c(1,1,1))
pm1 <- predict(m1, n.ahead=15)
plot(1:47, y=revtotal, type="l", xlim=c(0,65))
lines(48:62, y=pm1$pred, col="red")

# second model - differencing done manually
drevtotal <- diff(revtotal)
m <- arima(drevtotal, c(1,0,1))
pm <- predict(m, n.ahead=15)
p <- numeric(15)
p[1] <- pm$pred[1] + revtotal[length(revtotal)]
for(i in 2:15)
	p[i] <- p[i-1] + pm$pred[i]
plot(1:47, y=revtotal, type="l", xlim=c(0,65))
lines(48:62, y=p, col="red")


From Martin Maechler <maechler@stat.math.ethz.ch>  Mon Nov 18 17:35:12 2002
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Mon, 18 Nov 2002 18:35:12 +0100
Subject: [Rd] Apology for not enough protection of new R-devel
Message-ID: <15833.9424.422713.403728@gargle.gargle.HOWL>

Dear R-devel subscribers,

I'm feeling quite sheepish at the moment:
When I had activated the change from majordomo to mailman this
morning, I accidentally didn't activate the spam(+some virus)
detection part.  I've only activated it half an hour ago.

Indeed there were twos message of the following kind sent from
R-devel -- I did never seem them personally, because we *do*
filtering of these.
It seems they are Javascript-based viruses (see some info below).
In any case, I apologize and very much hope that this won't
happen (as easily) again. 

Yours,
Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

>>  Our virus detector has just been triggered by a message you sent:-
>>    To: .......
>>    Subject: [Rd] z p@i}G
>>    Date: Mon Nov 18 13:34:30 2002
>>  Any infected parts of the message have not been delivered.
>> 
>>  This message is simply to warn you that your computer system may have a
>>  virus present and should be checked.
>> 
>>  The virus detector said this about the message:
>>  Report: gAIHYOH30591/msg-29196-147.html  Infection: JS/Seeker.R


From B.Rowlingson@lancaster.ac.uk  Mon Nov 18 17:57:47 2002
From: B.Rowlingson@lancaster.ac.uk (Barry Rowlingson)
Date: Mon, 18 Nov 2002 17:57:47 +0000
Subject: [Rd] i386 floating point tweaking
Message-ID: <3DD92A1B.1020707@lancaster.ac.uk>

Just been trying to get the polygon triangulation code from this 
package: http://www-2.cs.cmu.edu/~quake/triangle.html to dyn.load into 
R. Uh oh. Floating point exceptions.

Track it down to some FPU diddling that the author deems is necessary. 
Here's my minimal code that breaks:

flipme.c:

#include <fpu_control.h>
void flipme(){
   int cword;
   cword=4210;
   _FPU_SETCW(cword);
   printf("%f\n",sqrt(2.0));
}

  Compile with "R SHLIB flipme.c", then dyn.load and run:

 > dyn.load("flipme.so")
 > .C("flipme")

Process R floating point exception at Mon Nov 18 17:41:50 2002

  The debugger tells me its the printf line that kills it.

  Anyone have an idea what's going on here? I've tried a few things:

* using _FPU_GETCW I've determined that R hasn't changed the control 
word from the system default.

* I wrote a short main program that used dlopen() to call flipme - and 
it worked fine, so the problem isn't intrinsic to dynamically loaded code.

* the author of the triangle package has put this in the code that 
manipulates the FPU control word:

/*  Don't change this routine unless you fully understand it. 
      */

  - I dont understand it, I changed it, the code broke.

  Anyone with deeper understanding of floating point, iee754, and 
assorted other Recipes For Chaos (RFCs) care to comment before we go 
back to using a file or a pipe to communicate between R and the code?

Baz


From murdoch@stats.uwo.ca  Mon Nov 18 18:33:23 2002
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Mon, 18 Nov 2002 13:33:23 -0500
Subject: [Rd] i386 floating point tweaking
In-Reply-To: <3DD92A1B.1020707@lancaster.ac.uk>
References: <3DD92A1B.1020707@lancaster.ac.uk>
Message-ID: <2sbitu0pvt0dn8dgc0gb18vdvtrbnsk6h5@4ax.com>

On Mon, 18 Nov 2002 17:57:47 +0000, you wrote in message
<3DD92A1B.1020707@lancaster.ac.uk>:

>Just been trying to get the polygon triangulation code from this 
>package: http://www-2.cs.cmu.edu/~quake/triangle.html to dyn.load into 
>R. Uh oh. Floating point exceptions.
>
>Track it down to some FPU diddling that the author deems is necessary. 
>Here's my minimal code that breaks:
>
>flipme.c:
>
>#include <fpu_control.h>
>void flipme(){
>   int cword;
>   cword=4210;
>   _FPU_SETCW(cword);
>   printf("%f\n",sqrt(2.0));
>}
>
>  Compile with "R SHLIB flipme.c", then dyn.load and run:
>
> > dyn.load("flipme.so")
> > .C("flipme")
>
>Process R floating point exception at Mon Nov 18 17:41:50 2002

Dynamic code that changes the floating point word should change it
back when it returns.  R depends on it being correct.

The value you're using is hex 1072, which means among other things
that calculations should be done to 24 bit precision, and various
exceptions should not be masked.  This won't work for R, which assumes
full precision and masking of various things. The safe thing to do
would be to save the CW on entry to each of these routines, set it to
1072 for the duration, then on exit clear any pending exceptions, and
restore the R setting.

I don't know how to do that in C.  In assembler it would be

    fstcw   saved_cw

    do some stuff

    fclex
    fldcw   saved_cw

Duncan Murdoch


From j.c.rougier@durham.ac.uk  Tue Nov 19 14:25:34 2002
From: j.c.rougier@durham.ac.uk (j.c.rougier@durham.ac.uk)
Date: Tue, 19 Nov 2002 15:25:34 +0100 (MET)
Subject: [Rd] Nesting of readline input (PR#2310)
Message-ID: <200211191425.PAA10334@pubhealth.ku.dk>

Hi everyone,

I am following instructions here as I have generated the following warning:

> # stuff looping through some plots with ask=TRUE
Hit <Return> to see next plot: 
Hit <Return> to see next plot: 
Hit <Return> to see next plot: 
Hit <Return> to see next plot: 
Hit <Return> to see next plot: 
In addition: Warning message: 
An unusual circumstance has arisen in the nesting of readline input. Please report using bug.report() 

I exited the loop early using CTL-C, which is when I got the message.
More details available on request!

Cheers, Jonathan.

--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = 
 major = 1
 minor = 6.1
 year = 2002
 month = 11
 day = 01
 language = R

Search Path:
 .GlobalEnv, package:stochastulator, package:mva, package:uuobj, package:PythonClass, Autoloads, package:base


From rpeng@stat.ucla.edu  Tue Nov 19 17:34:30 2002
From: rpeng@stat.ucla.edu (Roger Peng)
Date: Tue, 19 Nov 2002 09:34:30 -0800 (PST)
Subject: [Rd] Nesting of readline input (PR#2310)
In-Reply-To: <200211191425.PAA10334@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.10.10211190932480.10024-100000@fisher.stat.ucla.edu>

I believe this problem was fixed by D. T. Lang a couple of weeks ago.
There was some problem with the readline stack specifically after hitting
Ctrl-C a number of times.  Try the latest R-devel sources.  The problem
shouldn't happen there.

-roger
_______________________________
UCLA Department of Statistics
rpeng@stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Tue, 19 Nov 2002, j.c.rougier@durham.ac.uk wrote:

> Hi everyone,
> 
> I am following instructions here as I have generated the following warning:
> 
> > # stuff looping through some plots with ask=TRUE
> Hit <Return> to see next plot: 
> Hit <Return> to see next plot: 
> Hit <Return> to see next plot: 
> Hit <Return> to see next plot: 
> Hit <Return> to see next plot: 
> In addition: Warning message: 
> An unusual circumstance has arisen in the nesting of readline input. Please report using bug.report() 
> 
> I exited the loop early using CTL-C, which is when I got the message.
> More details available on request!
> 
> Cheers, Jonathan.
> 
> --please do not edit the information below--
> 
> Version:
>  platform = i686-pc-linux-gnu
>  arch = i686
>  os = linux-gnu
>  system = i686, linux-gnu
>  status = 
>  major = 1
>  minor = 6.1
>  year = 2002
>  month = 11
>  day = 01
>  language = R
> 
> Search Path:
>  .GlobalEnv, package:stochastulator, package:mva, package:uuobj, package:PythonClass, Autoloads, package:base
> 
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> http://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>


From jgentry@jimmy.harvard.edu  Wed Nov 20 02:30:13 2002
From: jgentry@jimmy.harvard.edu (Jeff Gentry)
Date: Tue, 19 Nov 2002 21:30:13 -0500 (EST)
Subject: [Rd] Bioconductor 1.1 Released
Message-ID: <Pine.SOL.4.20.0211192129380.27979-100000@santiam.dfci.harvard.edu>

The Bioconductor development team announces release 1.1 of the
Bioconductor packages for the analysis of genomic data. Bioconductor
is an open source bioinformatics software project based on R.

Version 1.1 features:
=====================

 * All packages from the 1.0 release are included. All current bug
   fixes have been applied, and most have upgraded and provide
   enhanced functionality. 
 * New packages and major upgrades for release 1.1: affy:
   read.MIAME, a widget for entering phenoData. expresso, a
   flexible function for computing expression measures as well as
   providing widgets to choose among options in the various steps
   of preprocessing. rma, a fast and efficient function to compute
   the multi-array average expression measure.
 * Biobase: vignette and openVignette, functions to give users
   greater interaction with package vignettes from the R command
   line.
 * graph: A new package that provides classes & tools to handle
   graph objects in R.
 * hexbin: A new package which includes binning functions, in
   particular hexagonal bins for graphing
 * marrayTools: A new package with miscellaneous functions use in
   the functional genomics core facility in UCB
 * reposTools: A new package that provides tools for dealing with
   file repositories, which allow users to easily install, update
   and distribute packages, vignettes and other files.
 * tkWidgets: vExplorer, a powerful tool designed to allow users to
   interact with vignette documentation in a hands on manner.
 * vsn: A new package providing calibration and variance
   stabilizing transformations for DNA array data.

Software, documentation, and further details are available on the
Bioconductor WWW site:

      http://www.bioconductor.org/

HELP AND RESOURCES:
===================

Information on subscribing to the mailing list and viewing its archives
can be found at:

      http://www.stat.math.ethz.ch/mailman/listinfo/bioconductor

Please use that list to discuss Bioconductor specific issues, bugs,
and problems.  Note that every package has a vignette (a literate
program which provides an annotated example of the package's use) as
well as possibly some "HOWTO"s.  These document the tool's usage, and
are provided in the "doc" subdirectory of each package library.

WHO:
====

For the Bioconductor development team:

  Douglas Bates, University of Wisconsin, USA.
  Vince Carey, Harvard Medical School, USA.
  Marcel Dettling, Federal Inst. Technology, Switzerland.
  Sandrine Dudoit, Division of Biostatistics, University of
      California, Berkeley, USA.
  Byron Ellis, Harvard Department of Statistics, USA.
  Laurent Gautier, Technial University of Denmark, Denmark.
  Robert Gentleman, Harvard Medical School, USA.
  Jeff Gentry, Dana-Farber Cancer Institute, USA.
  Kurt Hornik, Technische Universitat Wien, Austria.
  Torsten Hothorn, Institut fuer Medizininformatik, Biometrie und
      Epidemiologie, Germany. 
  Wolfgang Huber, DKFZ Heidelberg, Molecular Genome Analysis,
      Germany. 
  Stefano Iacus, Italy
  Rafael Irizarry, Department of Biostatistics (JHU), USA.
  Friedrich Leisch, Technische Universitat Wien, Austria.
  Cheng Li, Harvard Medical School, USA.
  Martin Maechler, Federal Inst. Technology, Switzerland.
  Anthony Rossini, University of Washington and the Fred Hutchinson
      Cancer Research Center, USA. 
  Gunther Sawitzki, Institute fur Angewandte Mathematik, Germany.
  Luke Tierney, University of Iowa, USA.
  Jean Yee Hwa Yang, University of California, San Francisco, USA. 
  Jianhua (John) Zhang, Dana-Farber Cancer Institute, USA


From Mark.Bravington@csiro.au  Wed Nov 20 02:50:47 2002
From: Mark.Bravington@csiro.au (Mark.Bravington@csiro.au)
Date: Wed, 20 Nov 2002 13:50:47 +1100
Subject: [Rd] restart
Message-ID: <A8877251964B294BAB5BA1FC58B43FED025B4398@molly.tas.csiro.au>

Dear group

I use "restart" in part of my code, in a way that's not easily changed to
"try". As I convert code from R1.5.0 to R1.6.1, I'm getting ugly messages;
the help system says to contact r-devel, so here I am. This one's a bit
complicated-- sorry!

The context is inside a debugger (I have an R and S debugger that offers
stand-alone code windows, line numbered conditional breakpoints,
statement-skipping, and graceful error trapping). I use the following
function to trap errors, both in code undergoing debugging, and in the
user's interactions with the debugger:

eval.catching.errors <- function(i, envir) do.in.envir( envir=find.debug.HQ(
FALSE), {
  if(.evaluated.OK.) {
    .evaluated.OK. <<- FALSE
    restart(TRUE)
    j <- eval( i, envir=envir)
    .evaluated.OK. <<- TRUE
return(j) }
  else
return(NULL)
})

The function is a bit opaque because I have fiddled with the lexical
scoping, but the rationale is fairly simple. There is a 'global flag' called
".evaluated.OK." which is normally set to TRUE. When "eval.catching.errors"
is called, the flag is reset to FALSE and there's an attempt to evaluate the
expression given in "i". If there are no errors in evaluation, then the
global flag is reset to TRUE before "eval.catching.errors" exits. Otherwise,
"eval.catching.errors" is reinvoked (thanks to "restart" catching the error)
and exits with the global flag set to FALSE. Subsequent debugger code
inspects the status of the global flag to decide what happens next.

The problem with changing 

  restart( TRUE)
  j <- eval( i, envir=envir)

into

  j <- try( eval( i, envir=envir))
  if( inherits( j, 'try-error')) <<...>>

is that the statement being debugged may itself be a call to "try" which
happens to fail. In that case, the debugger would stop and report an error,
whereas the code-being-debugged has actually been designed to run smoothly
in the event of error. Under R1.5.0, errors that occur within a "try"
statement in the code-being-debugged are (correctly) not flagged as problems
by my debugger.

I can hack my way round this with a call to .Internal( restart( on)), but
it's not pretty and I worry about what will happen if error-trapping
mechanisms are changed in future.

Thanks for any advice

Mark


*******************************

Mark Bravington
CSIRO (CMIS)
PO Box 1538
Castray Esplanade
Hobart
TAS 7001

phone (61) 3 6232 5118
fax (61) 3 6232 5012
Mark.Bravington@csiro.au


From luke@stat.uiowa.edu  Wed Nov 20 03:39:32 2002
From: luke@stat.uiowa.edu (Luke Tierney)
Date: Tue, 19 Nov 2002 21:39:32 -0600 (CST)
Subject: [Rd] restart
In-Reply-To: <A8877251964B294BAB5BA1FC58B43FED025B4398@molly.tas.csiro.au>
Message-ID: <Pine.LNX.4.44.0211192127340.2480-100000@nokomis2.stat.umn.edu>

On Wed, 20 Nov 2002 Mark.Bravington@csiro.au wrote:

> Dear group
> 
> I use "restart" in part of my code, in a way that's not easily changed to
> "try". As I convert code from R1.5.0 to R1.6.1, I'm getting ugly messages;
> the help system says to contact r-devel, so here I am. This one's a bit
> complicated-- sorry!
> 
> The context is inside a debugger (I have an R and S debugger that offers
> stand-alone code windows, line numbered conditional breakpoints,
> statement-skipping, and graceful error trapping). I use the following
> function to trap errors, both in code undergoing debugging, and in the
> user's interactions with the debugger:
> 
> eval.catching.errors <- function(i, envir) do.in.envir( envir=find.debug.HQ(
> FALSE), {
>   if(.evaluated.OK.) {
>     .evaluated.OK. <<- FALSE
>     restart(TRUE)
>     j <- eval( i, envir=envir)
>     .evaluated.OK. <<- TRUE
> return(j) }
>   else
> return(NULL)
> })
> 
> The function is a bit opaque because I have fiddled with the lexical
> scoping, but the rationale is fairly simple. There is a 'global flag' called
> ".evaluated.OK." which is normally set to TRUE. When "eval.catching.errors"
> is called, the flag is reset to FALSE and there's an attempt to evaluate the
> expression given in "i". If there are no errors in evaluation, then the
> global flag is reset to TRUE before "eval.catching.errors" exits. Otherwise,
> "eval.catching.errors" is reinvoked (thanks to "restart" catching the error)
> and exits with the global flag set to FALSE. Subsequent debugger code
> inspects the status of the global flag to decide what happens next.
> 
> The problem with changing 
> 
>   restart( TRUE)
>   j <- eval( i, envir=envir)
> 
> into
> 
>   j <- try( eval( i, envir=envir))
>   if( inherits( j, 'try-error')) <<...>>
> 
> is that the statement being debugged may itself be a call to "try" which
> happens to fail. In that case, the debugger would stop and report an error,
> whereas the code-being-debugged has actually been designed to run smoothly
> in the event of error. Under R1.5.0, errors that occur within a "try"
> statement in the code-being-debugged are (correctly) not flagged as problems
> by my debugger.
> 

One way to handle this is to wrap the result, something like

   j <- try( list(value = eval( i, envir=envir)))
   if( inherits( j, 'try-error')) <<...>>
   ...
   return(j$value)

luke

-- 
Luke Tierney
University of Iowa                  Phone:             319-335-3386
Department of Statistics and        Fax:               319-335-3017
   Actuarial Science
241 Schaeffer Hall                  email:      luke@stat.uiowa.edu
Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu


From mohamed@engr.uconn.edu  Wed Nov 20 03:46:05 2002
From: mohamed@engr.uconn.edu (Mohamed A. Kerasha)
Date: Tue, 19 Nov 2002 22:46:05 -0500
Subject: [Rd] Calling R from Java
References: <Pine.SOL.4.20.0211192129380.27979-100000@santiam.dfci.harvard.edu>
Message-ID: <3DDB057D.8040901@engr.uconn.edu>

Dear All,

I'm looking for any documentation or examples on how to call R from JAVA.

I really appreciate your help,

-Mohamed.


From Mark.Bravington@csiro.au  Wed Nov 20 03:53:11 2002
From: Mark.Bravington@csiro.au (Mark.Bravington@csiro.au)
Date: Wed, 20 Nov 2002 14:53:11 +1100
Subject: [Rd] restart
Message-ID: <A8877251964B294BAB5BA1FC58B43FED025B439B@molly.tas.csiro.au>

Thanks Luke!-- a succinct and unimproveable solution.

cheers
Mark

Mark Bravington
CSIRO (CMIS)
PO Box 1538
Castray Esplanade
Hobart
TAS 7001

phone (61) 3 6232 5118
fax (61) 3 6232 5012
Mark.Bravington@csiro.au 

#-----Original Message-----
#From: Luke Tierney [mailto:luke@stat.uiowa.edu]
#Sent: Wednesday, 20 November 2002 2:40 PM
#To: Mark.Bravington@csiro.au
#Cc: r-devel@stat.math.ethz.ch
#Subject: Re: [Rd] restart
#
#
#On Wed, 20 Nov 2002 Mark.Bravington@csiro.au wrote:
#
#> Dear group
#> 
#> I use "restart" in part of my code, in a way that's not 
#easily changed to
#> "try". 

<< snipped >>

#> 
#> The problem with changing 
#> 
#>   restart( TRUE)
#>   j <- eval( i, envir=envir)
#> 
#> into
#> 
#>   j <- try( eval( i, envir=envir))
#>   if( inherits( j, 'try-error')) <<...>>
#> 
#> is that the statement being debugged may itself be a call to 
#"try" which
#> happens to fail. 

<< snipped >>

#> 
#
#One way to handle this is to wrap the result, something like
#
#   j <- try( list(value = eval( i, envir=envir)))
#   if( inherits( j, 'try-error')) <<...>>
#   ...
#   return(j$value)
#
#luke
#
#-- 
#Luke Tierney
#University of Iowa                  Phone:             319-335-3386
#Department of Statistics and        Fax:               319-335-3017
#   Actuarial Science
#241 Schaeffer Hall                  email:      luke@stat.uiowa.edu
#Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu
#


From mohamed@engr.uconn.edu  Wed Nov 20 03:53:13 2002
From: mohamed@engr.uconn.edu (Mohamed A. Kerasha)
Date: Tue, 19 Nov 2002 22:53:13 -0500
Subject: [Rd] Running Parallel Jobs in R
References: <Pine.SOL.4.20.0211192129380.27979-100000@santiam.dfci.harvard.edu>
Message-ID: <3DDB0729.9030201@engr.uconn.edu>

Dear All,

I am completely  new to R, and I was wondering if there is any way you can run concurrent jobs in R.

Thanks,

-Mohamed.


From luke@stat.uiowa.edu  Wed Nov 20 15:25:24 2002
From: luke@stat.uiowa.edu (Luke Tierney)
Date: Wed, 20 Nov 2002 09:25:24 -0600 (CST)
Subject: [Rd] Re: [R] Running Parallel Jobs in R
In-Reply-To: <3DDB0729.9030201@engr.uconn.edu>
Message-ID: <Pine.LNX.4.44.0211200915580.10251-100000@itasca.stat.uiowa.edu>

On Tue, 19 Nov 2002, Mohamed A. Kerasha wrote:

> Dear All,
> 
> I am completely  new to R, and I was wondering if there is any way you can run concurrent jobs in R.
> 

Depends on what you mean.  Your subject line says "parallel", here you
say "concurrent".  Those are different.  Processes on a time sharing
single processor run concurrently; on a multiprocessor machine some of
them may run in parallel.

There are tools available for using R for parallel programming on a
cluster of workstations.  The rpvm and Rmpi packages available from
CRAN provide powerful low level facilities for this.  The package snow
available at www.stat.uiowa.edu/~luke/R/cluster/ provides a simpler,
higher level interface that is useful for many "embarassingly
parallel" applications.  snow runs on top of sockets, or rpvm, or
Rmpi.  snow is still udergoing changes in its basic design but should
stabilize and get submitted to CRAN within a month or so.

R does not currently allow multiple threads within a single R process.
It may eventually allow concurrent threads; it is unlikely that it
will ever allow parallel threads (for lots of reasons it will probably
always be necessary to make sure that at most one R thread is running
in the R internals at any given time).

luke


-- 
Luke Tierney
University of Iowa                  Phone:             319-335-3386
Department of Statistics and        Fax:               319-335-3017
   Actuarial Science
241 Schaeffer Hall                  email:      luke@stat.uiowa.edu
Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu


From maechler@stat.math.ethz.ch  Wed Nov 20 16:16:36 2002
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Wed, 20 Nov 2002 17:16:36 +0100 (MET)
Subject: [Rd] log( <ts object> ) is not <ts object> (PR#2315)
Message-ID: <200211201616.RAA21848@pubhealth.ku.dk>

As I have found, taking functions like  log(.) on a "ts" object
returns something that still has the "ts" class attribute but is
not a properly classed R object anymore.

E.g.
	(lt <- log(as.ts(1:7)))

clearly calls  print.default instead of print.ts
and the analogue for  plot(lt)
or also
        diff(lt) 

returns a "ts" object but with invalid start/end.

(this is also a test of the R-bugs@R-project.org address)

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><


From ripley@stats.ox.ac.uk  Wed Nov 20 17:16:08 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 20 Nov 2002 17:16:08 +0000 (GMT)
Subject: [Rd] log( <ts object> ) is not <ts object> (PR#2315)
In-Reply-To: <200211201616.RAA21848@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0211201715120.9764-100000@gannet.stats>

For the record, only if coercion is involved (as here, since 1:7 is
integer).  It applies to lots of arithmetic functions, not just log.

Fixed in both R-patched and R-devel.

On Wed, 20 Nov 2002 maechler@stat.math.ethz.ch wrote:

> As I have found, taking functions like  log(.) on a "ts" object
> returns something that still has the "ts" class attribute but is
> not a properly classed R object anymore.
>
> E.g.
> 	(lt <- log(as.ts(1:7)))
>
> clearly calls  print.default instead of print.ts
> and the analogue for  plot(lt)
> or also
>         diff(lt)
>
> returns a "ts" object but with invalid start/end.
>
> (this is also a test of the R-bugs@R-project.org address)
>
> Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
> Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
> ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
> phone: x-41-1-632-3408		fax: ...-1228			<><
>
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> http://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From stephen@cogsci.ed.ac.uk  Wed Nov 20 22:13:47 2002
From: stephen@cogsci.ed.ac.uk (stephen@cogsci.ed.ac.uk)
Date: Wed, 20 Nov 2002 23:13:47 +0100 (MET)
Subject: [Rd] Platform() used in tkfilefind.X although now deprecated (PR#2316)
Message-ID: <200211202213.XAA23264@pubhealth.ku.dk>

> library(tcltk)
> demo(tkfilefind)
[then select a file]
[1] "./NEWS"
Warning message: 
`Platform' is deprecated.
Use `.Platform' instead.
See ?Deprecated. 

See R/library/tcltk/demo/tkfilefind.R, line 32.  (Also present in
latest r-devel).

> version
         _                
platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    6.1              
year     2002             
month    11               
day      01               
language R          

Stephen


From p.dalgaard@biostat.ku.dk  Wed Nov 20 22:25:41 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Nov 2002 23:25:41 +0100
Subject: [Rd] Platform() used in tkfilefind.X although now deprecated (PR#2316)
In-Reply-To: <200211202213.XAA23264@pubhealth.ku.dk>
References: <200211202213.XAA23264@pubhealth.ku.dk>
Message-ID: <x27kf7naje.fsf@biostat.ku.dk>

stephen@cogsci.ed.ac.uk writes:

> > library(tcltk)
> > demo(tkfilefind)
> [then select a file]
> [1] "./NEWS"
> Warning message: 
> `Platform' is deprecated.
> Use `.Platform' instead.
> See ?Deprecated. 
> 
> See R/library/tcltk/demo/tkfilefind.R, line 32.  (Also present in
> latest r-devel).

Thanks. We should probably kill that demo altogether anyway...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907


From pd@pubhealth.ku.dk  Thu Nov 21 06:15:06 2002
From: pd@pubhealth.ku.dk (Peter Dalgaard BSA)
Date: Thu, 21 Nov 2002 07:15:06 +0100
Subject: [Rd] Bug list summary (automatic post)
Message-ID: <200211210615.gAL6F6721960@blueberry.kubism.ku.dk>

=================================================
This is an automated summary of the status of the R-bugs
repository.

Note that this may be neither complete nor perfectly
correct at any given instance: Not all bugs are reported,
and some reported bugs may have been fixed, but the
repository not yet updated.

Some bug fixes are difficult to verify because they pertain
to specific hardware or operating system versions. If you
have information to contribute, please do so.

If you happen to know how to fix a problem please send
patches to the bug repository, too.

New bugs are reported either through the web
interface at r-bugs.r-project.org or via email to
r-bugs@r-project.org. The bug.report() function can be
used to automate parts of the procedure on many systems.
Followups on older bugs can be done by including the string
"(PR#999)" in the Subject of an email (change 999 to the
actual reference number, of course!).
=================================================

Directory:  Accuracy

* PR# 1228 *
Subject: bug with var(rep(1e30, 3))
From: Emmanuel Paradis <paradis@isem.univ-montp2.fr>
Date: Wed, 26 Dec 2001 13:03:31 +0100
* PR# 1664 *
Subject: Bug in rnorm.
From: Rolf Turner <rolf@math.unb.ca>
Date: Thu, 13 Jun 2002 16:35:59 -0300 (ADT)
..Strange interaction between "Marsaglia-Multicarry" generator and
.."Kinderman-Ramage" 
..method for normal variates. Apparently, switching either of them will help.
* PR# 2214 *
Subject: qgamma precision
From: terra@diku.dk
Date: Fri, 25 Oct 2002 16:50:17 +0200 (MET DST)

Directory:  Add-ons

* PR# 974 *
Subject: Lattice: panel.superpose with ordered factor groups
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sat, 9 Jun 2001 11:08:51 +1000 (EST)
..The warning is standard S and R behaviour.
..Probably xyplot needs to avoid it (by unclassing?)
..Still there in lattice 0.3-0.
* PR# 1044 *
Subject: Polymarsall.c
From: pleu@hotmail.com
Date: Tue, 7 Aug 2001 22:42:07 +0200 (MET DST)
* PR# 1178 *
Subject: segfault using svm from e1071
From: Jan Rychter <jan@rychter.com>
Date: Tue, 20 Nov 2001 23:38:17 +0100
* PR# 1199 *
Subject: pixmap: infinite recursion with nonascii pnm-files
From: thomas.baumann@ch.tum.de
Date: Fri, 7 Dec 2001 11:07:52 +0100 (CET)
* PR# 1361 *
Subject: Matrix identification bug
From: hyu@stats.uwo.ca
Date: Tue, 5 Mar 2002 21:19:46 +0100 (MET)
..seems to be about Matrix package, not solve
* PR# 1662 *
Subject: fisher.test FEXACT memory bug "should not occur"
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Thu, 13 Jun 2002 08:21:50 +0200
..The supplementary (table of sum one) is fixed for 1.5.1.
..Detection code for the first problem has been added to 1.5.1 which will stop
..the crash, but the underlying cause is still open.
* PR# 1716 *
Subject: rdiscrete in e1071 fails when n==1
From: "John Aitchison" <jaitchis@hwy.com.au>
Date: Fri, 28 Jun 2002 10:28:17 +1000
* PR# 1729 *
Subject: problem with qq( )
From: Jarno.Tuimala@Helsinki.Fi
Date: Tue, 2 Jul 2002 10:37:10 +0200 (MET DST)
..A report on lattice
* PR# 1741 *
Subject: groupedData constructor from a function
From: dieter.menne@menne-biomed.de
Date: Thu, 4 Jul 2002 15:59:59 +0200 (MET DST)
* PR# 1745 *
Subject: nlme: failed augPred with NA in an unused column
From: dieter.menne@menne-biomed.de
Date: Fri, 5 Jul 2002 08:32:32 +0200 (MET DST)
..nlme needs an update as suggested in the followup
* PR# 1901 *
Subject: svm seg faults
From: stefan.boehringer+science@uni-bochum.de
Date: Tue, 13 Aug 2002 14:12:17 +0200 (MET DST)
..Seem to be due to gcc `2.96' from RH7.3
* PR# 1974 *
Subject: Rwave installation problem
From: ld-temp-qt3i@pobox.com
Date: Mon, 2 Sep 2002 09:27:36 +0200 (MET DST)
..Instead, this should use ISO C headers, namely <stdlib.h>
* PR# 2173 *
Subject: xlim in plot.survfit() [with a discussion on "..."]
From: jerome@hivnet.ubc.ca
Date: Wed, 16 Oct 2002 18:46:11 +0200 (MET DST)
* PR# 2252 *
Subject: Ansari-Bradley test
From: wex00002@uconn.edu
Date: Sun, 3 Nov 2002 23:38:20 +0100 (MET)
* PR# 2302 *
Subject: Package tseries: crash for Windows version
From: Fan <xiao.gang.fan1@libertysurf.fr>
Date: Sun, 17 Nov 2002 15:28:14 +0100
..Actually, there is a mismatch between the R call and the 
..C code in pred_garch, so this is not Windows-specific.

Directory:  Analyses

none

Directory:  Documentation

* PR# 988 *
Subject: input for R-intro
From: "Paul E. Johnson" <pauljohn@ku.edu>
Date: Mon, 18 Jun 2001 13:57:10 -0500
* PR# 1011 *
Subject: R-intro suggestions part II
From: "Paul E. Johnson" <pauljohn@ukans.edu>
Date: Tue, 03 Jul 2001 15:50:06 -0500
* PR# 1136 *
Subject: cex/col/etc. in title(): documentation?
From: Ben Bolker <ben@zoo.ufl.edu>
Date: Mon, 22 Oct 2001 11:55:14 -0400 (EDT)
..MM:actually the documentation still could elaborate a bit..
* PR# 1772 *
Subject: bug(?) in R FAQ - Should I run R from within Emacs?
From: Tim.Harrold@csiro.au
Date: Thu, 11 Jul 2002 18:21:42 +1000
* PR# 2170 *
Subject: documentation: Missing paranthesis in reshape.Rd
From: lina@u.washington.edu
Date: Wed, 16 Oct 2002 08:36:07 +0200 (MET DST)
* PR# 2229 *
Subject: Building and installing packages with functions with names starting with 
From: Jens Henrik Badsberg <JensHenrik.Badsberg@agrsci.dk>
Date: Wed, 30 Oct 2002 15:48:58 +0100
..Issue is package.skeleton creates names for .R files starting with dot.
..R CMD INSTALL is documented not to install them!

Directory:  Graphics

* PR# 202 *
Subject: persp box occlusion bug
From: wsi@gcal.ac.uk
Date: Wed, 2 Jun 1999 15:02:03 +0200 (MET DST)
..The persp algorithm does not apply the occlusion rules to the frame, 
..which is always plotted first. 
..A bug, but not very simple to fix.
* PR# 660 *
Subject: identify.default ignores any setting of cex.
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
Date: Fri, 15 Sep 2000 10:23:39 +0100 (BST)
* PR# 776 *
Subject: strwidth does not take font into account
From: Martyn Plummer <plummer@iarc.fr>
Date: Tue, 19 Dec 2000 14:56:01 +0100 (CET)
..This needs a substantial redesign.
* PR# 791 *
Subject:  par(lab= *) / axis(*) bug 
From: maechler@stat.math.ethz.ch
Date: Fri, 22 Dec 2000 10:59:26 +0100
* PR# 816 *
Subject: dotplot: character size of labels
From: RINNER Heinrich <H.RINNER@TIROL.GV.AT>
Date: Thu, 18 Jan 2001 14:54:32 +0100
..Suggested fix is incorporated in 1.2.2.
..
..There is a deeper problem:  mtext() ignores par(cex=.5) in general.  
..To see the problem try:  par(cex=.5); mtext("hi")
..Paul thinks the right fix is to change the argument list for mtext so that
..cex=par(cex) by default rather than cex=NA by default (plus corresponding
..internal changes to  do_mtext in plot.c).
..This needs to be done very carefully because (i) the change suggested above 
..mayhave side-effects in many other pieces of interpreted code 
..(ii) do_mtext ignores dd->gp.cexbase unlike, for example, do_plot_xy 
..and anything to do with cexbase needs extreme care.
* PR# 820 *
Subject: interaction.plot
From: "Mark M. Span" <span@psy.uva.nl>
Date: Mon, 22 Jan 2001 10:47:39 +0100
..mtext is unscaled by default.  It is not clear if this should
..use the par("cex") setting or an inline cex setting such as cex.axis.
..It might make more sense to use axis rather than mtext, as boxplot does.
* PR# 831 *
Subject: screen can't go back to (split) screen with log="y" plot
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 30 Jan 2001 00:39:41 -0500
..Still there. Suggested fix included in followups, but we didn't get around to
..try it in time for 1.2.3.
..
..Fix doesn't work. One problem is that the opar<-par();par(opar) idiom updates
..xaxp before xlog, and the new value of xaxp may only be valid under the new
..value of xlog.
* PR# 837 *
Subject: screen doesn't handle redrawing properly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 01 Feb 2001 14:20:52 -0500
* PR# 887 *
Subject: axis(adj=anything) has no effect
From: jhallman@frb.gov
Date: Wed, 28 Mar 2001 20:51:05 +0200 (MET DST)
* PR# 943 *
Subject: legend() with xpd=T; omission of initial plot character
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sun, 20 May 2001 10:35:16 +1000
* PR# 997 *
Subject:  las=1 with log axis 
From: Peter Dalgaard BSA <pd@pubhealth.ku.dk>
Date: Wed, 27 Jun 2001 11:54:06 +0200
* PR# 1045 *
Subject: Palette changes on redraw
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 08 Aug 2001 19:08:01 +0200
* PR# 1147 *
Subject: postscript problem
From: kjetil halvorsen <kjetilh@umsanet.edu.bo>
Date: Fri, 26 Oct 2001 15:23:45 -0400
..This seems to be a problem with screen/layout rather than postscript.
* PR# 1161 *
Subject: x-axis label in persp()
From: Rolf Turner <rolf@maths.uwa.edu.au>
Date: Wed, 7 Nov 2001 18:07:22 +0800 (WST)
* PR# 1207 *
Subject: boxplot labels incorrect when horizontal = TRUE
From: Rashid Nassar <rnassar@duke.edu>
Date: Sun, 9 Dec 2001 21:46:32 -0500 (EST)
* PR# 1235 *
Subject: Axes labelling with logarithmic scales
From: tobias.hoevekamp@ilw.agrl.ethz.ch
Date: Thu, 3 Jan 2002 15:29:02 +0100 (MET)
* PR# 1300 *
Subject: FW: layout and piechart diameter problem
From: "Warnes, Gregory R" <gregory_r_warnes@groton.pfizer.com>
Date: Thu, 7 Feb 2002 11:05:15 -0500 
* PR# 1305 *
Subject: interaction.plot (with misplaced legend)
From: Uwe Ligges <ligges@statistik.uni-dortmund.de>
Date: Fri, 08 Feb 2002 14:27:01 +0100
* PR# 1395 *
Subject: mgp parameter in par()
From: mh.smith@niwa.cri.nz
Date: Tue, 19 Mar 2002 06:11:49 +0100 (MET)
* PR# 1470 *
Subject: color of axis lines
From: gray@jimmy.harvard.edu
Date: Sat, 20 Apr 2002 22:21:44 +0200 (MET DST)
* PR# 1476 *
Subject: Bug: persp and colors
From: oliver.niggemann@acterna.com
Date: Tue, 23 Apr 2002 09:41:37 +0200 (MET DST)
* PR# 1505 *
Subject: pictex 
From: luchini@ehess.cnrs-mrs.fr
Date: Thu, 2 May 2002 12:23:21 +0200 (MET DST)
* PR# 1653 *
Subject: coplot behaviour
From: "RenE J.V. Bertin" <rjvbertin@hotmail.com>
Date: Mon, 10 Jun 2002 20:11:02 +0200
* PR# 1654 *
Subject: R 1.5.0: axis() does not honor the xaxp argument
From: "Robert D. Merithew" <merithew@ccmr.cornell.edu>
Date: Tue, 11 Jun 2002 09:29:39 -0400 (EDT)
* PR# 1659 *
Subject:  mtext() alignment of perpendicular text 
From: p.murrell@auckland.ac.nz
Date: Wed, 12 Jun 2002 13:29:45 +1200 (NZST)
* PR# 1878 *
Subject: close.screen
From: Martin.Schlather@uni-bayreuth.de
Date: Mon, 5 Aug 2002 22:35:02 +0200 (MET DST)
* PR# 1899 *
Subject: interaction.plot() legend too narrow when mfcol > 2
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Tue, 13 Aug 2002 09:36:15 +0200
* PR# 1933 *
Subject: dev2eps() prints ticks with wrong length!
From: Timur Elzhov <Timur.Elzhov@jinr.ru>
Date: Fri, 23 Aug 2002 17:22:15 +0400
..dev.copy problem
* PR# 1972 *
Subject: lattice install
From: robert.king@newcastle.edu.au
Date: Mon, 2 Sep 2002 04:55:41 +0200 (MET DST)
..Perhaps lattice should require(grid) and print a clearer message?
* PR# 2069 *
Subject: split.screen problem
From: cbodily@att.net
Date: Thu, 26 Sep 2002 19:37:40 +0200 (MET DST)
* PR# 2283 *
Subject: Wandering usr values in par(no.readonly=TRUW)
From: Jari Oksanen <jarioksa@sun3.oulu.fi>
Date: Tue, 12 Nov 2002 13:50:44 +0200

Directory:  In-Out

* PR# 1688 *
Subject: Maybe a problem in binary read/write
From: accot@free.fr
Date: Tue, 18 Jun 2002 22:51:17 +0200 (MET DST)
..I don't think file() is said to work with devices!

Directory:  Installation

* PR# 1222 *
Subject: configure: sed: Function s%@PDFLATEX@%/usr/local/bin/pdflatex%g
From: Peter Kleiweg <kleiweg@let.rug.nl>
Date: Thu, 20 Dec 2001 14:09:42 +0100 (CET)
..problem is on hppa2.0-hp-hpux10.20: may be HP-UX specific
* PR# 1268 *
Subject: Solaris 2.6 Compile
From: gm81640@development.nssmb.com
Date: Thu, 17 Jan 2002 06:28:26 +0100 (MET)
..Most likely a compiler installation problem
* PR# 1291 *
Subject: Installation problem : SunOS
From: brendan_mcmahon@prusec.com
Date: Thu, 31 Jan 2002 18:00:55 +0100 (MET)
..looks like gcc compiled under different OS version.
* PR# 1415 *
Subject: int 32 bit error on SPARC 64bit
From: kss28@mail.cba.nau.edu
Date: Mon, 25 Mar 2002 21:18:58 +0100 (MET)
..Was gcc 2.95.2 in private followup.
..Probably unappropriate flags
* PR# 1428 *
Subject: R compile on Solaris 8 fails
From: brower@bst.rochester.edu
Date: Mon, 1 Apr 2002 22:19:07 +0200 (MET DST)
..problems with g++ not finding -lstdc++
..Not a problem with R per se
* PR# 1500 *
Subject: configure script fails on comment in tkConfig.sh
From: Peter Kleiweg <kleiweg@let.rug.nl>
Date: Tue, 30 Apr 2002 16:41:51 +0200 (CEST)
..Looks like a conspiracy between a shell problem and an oddity in Tk 8.0 rather
..than an R problem. Good to know for the workaround though. The comment in
..TK_XINCLUDES has since disappeared, at least in Tk 8.3.3.
* PR# 1501 *
Subject: configure error: Maybe change CFLAGS or FFLAGS?
From: ale@ini.phys.ethz.ch
Date: Wed, 1 May 2002 15:23:14 +0200 (MET DST)
..Tried to use fort77 on RedHat, should likely try g77 instead.
* PR# 1658 *
Subject: make install fails - index.html not found
From: dhouston@bio.ri.ccf.org
Date: Tue, 11 Jun 2002 22:14:07 +0200 (MET DST)
..Missing perl??
* PR# 1676 *
Subject: R configure.in makes bad alpha assumptions
From: mcmahill@mtl.mit.edu
Date: Sat, 15 Jun 2002 19:21:09 -0400 (EDT)
..Probably fixed in 1.5.1
* PR# 1825 *
Subject: bug in R-1.5.1 for Mac OS X installer
From: Kow Kuroda <kkuroda@crl.ucsd.edu>
Date: Mon, 22 Jul 2002 16:40:26 -0700
..Darwin port
* PR# 1829 *
Subject: R config failure on solaris
From: "Siva Ginjupalli" <gsivrao@hotmail.com>
Date: Wed, 24 Jul 2002 20:08:49 +0000
..Missing info on R version and compilers.
* PR# 1937 *
Subject:  Inconsistent use of Perl? 
From: Berwin Turlach <berwin@maths.uwa.edu.au>
Date: Sat, 24 Aug 2002 18:41:09 +0800
..Some packages require Perl v 5.005
* PR# 1995 *
Subject:  2002-09-08 1.6.0 build fails in Recommended 
From: <stvjc@channing.harvard.edu>
Date: Sun, 8 Sep 2002 23:57:39 -0400 (EDT)
..I think this got cleared up...
* PR# 1996 *
Subject:  config checks for --with-gnome need update 
From: <stvjc@channing.harvard.edu>
Date: Mon, 9 Sep 2002 00:08:59 -0400 (EDT)

Directory:  Language

* PR# 408 *
Subject: convolution bug
From: wsimpson@gcal.ac.uk
Date: Fri, 28 Jan 2000 11:17:36 +0100 (MET)
* PR# 412 *
Subject: anomalies with call objects
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 06 Feb 2000 01:18:50 +0100
* PR# 669 *
Subject: Bug(s) w/ rbind.data.frame(); fix also read.table(*, as.is = TRUE) ?
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Mon, 25 Sep 2000 10:17:15 +0200
..status of AsIs columns
* PR# 1073 *
Subject: Wierd problem comparing numeric values and list using ==
From: "Warnes, Gregory R" <gregory_r_warnes@groton.pfizer.com>
Date: Fri, 24 Aug 2001 22:07:41 -0400
..see also PR#1075
* PR# 1076 *
Subject: Re: [Rd] Wierd problem comparing numeric values and list using == 
From: John Chambers <jmc@research.bell-labs.com>
Date: Mon, 27 Aug 2001 08:44:22 -0400
..part of PR#1073
* PR# 1186 *
Subject: a patch to tapply
From: Vadim Ogranovich <vograno@arbitrade.com>
Date: Thu, 29 Nov 2001 14:48:35 -0600
* PR# 1214 *
Subject: syntax questtion, maybe a bug
From: Rich Heiberger <rmh@surfer.sbm.temple.edu>
Date: Thu, 13 Dec 2001 13:46:54 -0500 (EST)
..Is .2logl meant to be a valid name in R? It is S
* PR# 1241 *
Subject:  Problem with "missing" in "local" 
From: J.C.Rougier@durham.ac.uk
Date: Fri, 4 Jan 2002 13:34:34 GMT
* PR# 1891 *
Subject: summary.data.frame with compound elements problem
From: b.rowlingson@lancaster.ac.uk
Date: Fri, 9 Aug 2002 10:35:43 +0200 (MET DST)

Directory:  Low-level

* PR# 989 *
Subject: "[.data.frame" allows un-named 3rd subscript
From: "Charles C. Berry" <cberry@tajo.ucsd.edu>
Date: Mon, 18 Jun 2001 13:13:46 -0700 (PDT)
* PR# 1068 *
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
From: Luke Tierney <luke@nokomis.stat.umn.edu>
Date: Wed, 22 Aug 2001 19:32:51 -0500
..see also followup in PR#1069
* PR# 1069 *
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
From: "John W. Eaton" <jwe@bevo.che.wisc.edu>
Date: Wed, 22 Aug 2001 21:56:33 -0500
..part of PR#1068
* PR# 1880 *
Subject:  You requested this report 
From: Berwin Turlach <berwin@maths.uwa.edu.au>
Date: Tue, 6 Aug 2002 16:57:54 +0800
..The bug is that we get as far as mkCLOSXP before an error is reported
* PR# 2253 *
Subject: [R] CTRL-C suspends echo of shell (R versions 1.6.0 and 1.6.1)
From: Wolfram Fischer - Z/I/M <wolfram@fischer-zim.ch>
Date: Mon, 4 Nov 2002 10:18:48 +0100

Directory:  Macintosh

* PR# 1819 *
Subject: Date arithmetic fails
From: RML27@cornell.edu
Date: Sun, 21 Jul 2002 20:26:12 +0200 (MET DST)
..In fact, as.POSIXct is off by 66 years. See
..   http://developer.apple.com/qa/ops/ops23.html
..This is semifixed, but timezones still don't work
* PR# 1991 *
Subject: Mac Save As... bug
From: Tim Cole <tjc1@cam.ac.uk>
Date: Sun, 8 Sep 2002 13:47:00 +0100
* PR# 2276 *
Subject: Mac specific - quartz leads to crash
From: h95mr@mun.ca
Date: Fri, 8 Nov 2002 16:28:50 +0100 (MET)

Directory:  Misc

* PR# 1126 *
Subject: R-bug report www page whishlist
From: jens.lund@nordea.com
Date: Wed, 10 Oct 2001 18:24:29 +0200 (MET DST)
* PR# 1158 *
Subject: bug.report()sends empty message
From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
Date: Mon, 05 Nov 2001 10:05:27 -0500
* PR# 1503 *
Subject: R-GNOME
From: Patrick Gonin <gonin@genethon.fr>
Date: Thu, 2 May 2002 09:29:07 +0200
..1) is not a bug, as jpeg etc work.  capabilities() has been changed for 1.5.1
..2) system() needs a new version for GNOME.

Directory:  Models

* PR# 1861 *
Subject: update() can not find objects
From: yzhou@arcturusag.com
Date: Thu, 1 Aug 2002 19:01:59 +0200 (MET DST)
..The problem is actually deeper than this.
..
..Sometime update() wants to evaluate arguments in the environment where the model
..was defined, as here. 
..
..Sometimes it wants to use the current environment, eg this snippet from MASS 
..ph.fun <- function(data, i) {
..  d <- data
..  d$calls <- d$fitted + d$res[i]
..  coef(update(fit, data=d))
..}
* PR# 2206 *
Subject: model.matrix (via predict)
From: Glenn.Stone@csiro.au
Date: Thu, 24 Oct 2002 06:33:02 +0200 (MET DST)
..strange model used!

Directory:  Startup

none

Directory:  System-specific

* PR# 848 *
Subject: X11 device doesn't handle destroy events correcly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 13 Feb 2001 17:40:46 -0500
* PR# 1020 *
Subject: .Call and Mandrake 8.0
From: lcottret@yahoo.fr
Date: Wed, 11 Jul 2001 15:34:23 +0200 (MET DST)
..problem with symbol names only on Mandrake 8.0, not 7.2
..needs reply to follow-up
* PR# 1097 *
Subject: R 1.3.1 fails 'make check' on arm in the Bessel example
From: Dirk Eddelbuettel <edd@debian.org>
Date: Thu, 20 Sep 2001 23:54:19 -0500
..This platform turned out to have badly broken FPU behaviour. Given up, at 
..least for now .
* PR# 1140 *
Subject: Possible bug, Rprof() and scan(pipe())
From: Don MacQueen <macq@llnl.gov>
Date: Tue, 23 Oct 2001 13:50:26 -0700
..MacOS X: Doesn't happen on Solaris or Linux
* PR# 1145 *
Subject: Problem testing R version 1.3.1 on SGI Irix
From: Gordon Lack <gml4410@ggr.co.uk>
Date: Fri, 26 Oct 2001 19:04:04 +0100
..error from using SGI libblas (not reported on other systems?)
..use --without-blas
* PR# 1261 *
Subject: R_140 AND RHL_72 AND Packages
From: Patrick Gonin <gonin@genethon.fr>
Date: Wed, 15 Jan 2003 13:25:17 +0100
..Seems to relate to RH7.2 rpms
* PR# 1272 *
Subject: eigen segfault with GCC 3 on Solaris
From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
Date: Thu, 17 Jan 2002 15:14:33 -0500
..Seems to be a problem with g77 in gcc 3.0.2 on Solaris only.
..Probably a compiler bug
* PR# 1275 *
Subject: compile problem with bessel_i.c on IRIX64 flexor 6.5 10100655 IP35 (uname -a)
From: Walter Tautz <wtautz@math.uwaterloo.ca>
Date: Tue, 22 Jan 2002 10:05:20 -0500 (EST)
* PR# 1289 *
Subject: R 1.4.0 build fails on AIX
From: lio@hpss1.ccs.ornl.gov
Date: Wed, 30 Jan 2002 14:10:30 +0100 (MET)
* PR# 1316 *
Subject: shared libraries on AIX
From: lio@hpss1.ccs.ornl.gov
Date: Mon, 18 Feb 2002 18:53:41 +0100 (MET)
* PR# 1461 *
Subject: make check fails d-p-q-r-tests.R - OpenBSD 3.0
From: Jason Turner <jasont@indigoindustrial.co.nz>
Date: Mon, 15 Apr 2002 10:13:36 +0000
* PR# 1606 *
Subject: hitting ^C breaks readline history
From: Cyril Humbert <humbertc@univ-mlv.fr>
Date: Tue, 28 May 2002 12:07:07 +0200 (MET DST)
* PR# 2091 *
Subject: Scripts not executable
From: Peter Kleiweg <kleiweg@let.rug.nl>
Date: Wed, 2 Oct 2002 00:54:15 +0200 (CEST)
* PR# 2144 *
Subject: Save() with ascii=TRUE may corrupt numeric values
From: "Efthymiou, Nick" <Nick.Efthymiou@schwab.com>
Date: Thu, 10 Oct 2002 14:09:21 -0700
..Only on systems without vsnprintf

Directory:  TooMuchAtOnce

none

Directory:  Windows

* PR# 1711 *
Subject: GUI bug
From: socrates@mail.ru
Date: Thu, 27 Jun 2002 10:30:51 +0200 (MET DST)
..A crash that is *very* hard to trigger (after several
..minutes of continuous resizing)

Directory:  incoming

* PR# 1556 *
Subject: lib.fixup, .GlobalEnv, and R1.5.0
From: mark.bravington@csiro.au
Date: Wed, 15 May 2002 08:30:50 +0200 (MET DST)
* PR# 2094 *
Subject: Mean and var inconsistency
From: Kevin.Wright@pioneer.com
Date: Wed, 2 Oct 2002 16:19:27 +0200 (MET DST)
* PR# 2159 *
Subject: The class attribute on an environment seems buggy
From: hb@maths.lth.se
Date: Mon, 14 Oct 2002 01:34:45 +0200 (MET DST)
..Not a bug, but perhaps a useful feature: should the attributes of environments
..be copied on assignment?
* PR# 2298 *
Subject: Wishlist: allow NA values in medpolish (package 'eda')
From: schutz@wehi.edu.au
Date: Sat, 16 Nov 2002 05:43:59 +0100 (MET)
..added for 1.7.0
* PR# 2299 *
Subject: formatC with format="fg" displays number in exponential notation
From: schutz@wehi.edu.au
Date: Sat, 16 Nov 2002 06:33:04 +0100 (MET)
* PR# 2305 *
Subject: Prediction from arima() object (library ts)
From: mcrae_allan@hotmial.com
Date: Mon, 18 Nov 2002 15:12:22 +0100 (MET)
* PR# 2307 *
Subject: Japanese lass' sexy pictures
From: Kinderteachkim <Kinderteachkim@aol.com>
Date: 18 Nov 2002 12:27:00 -1000
* PR# 2308 *
Subject: HELLO
From: "THOMAS OLEMBE" <thomolembee@earthling.net>
Date: Tue, 19 Nov 2002 00:17:35 -0800
* PR# 2309 *
Subject: Make a Great Living in the Music Industry!
From: webmaster6766o62@earthlink.net
Date: Mon, 18 Nov 0102 16:18:59 +0700
* PR# 2310 *
Subject:  Nesting of readline input 
From: j.c.rougier@durham.ac.uk
Date: Tue, 19 Nov 2002 14:24:41 GMT
* PR# 2311 *
Subject: Of statements.
From: kunihiro <kunihiro@kawachi.zaq.ne.jp>
Date: Wed, 20 Nov 2002 02:01:55 +0900 (JST)
* PR# 2312 *
Subject: Easily design, send and track your graphical newsletters 
From: "GraphicMail.com" <news@graphicmail.com>
Date: Tue, 19 Nov 2002 22:13:23 +0200
* PR# 2313 *
Subject: Undeliverable mail--"edit(xold)"
Subject: edit(xold)<br>
From: postmaster <postmaster@r-project.org>
From: r-bugs@r-project.org<br>
Date: Wed, 20 Nov 2002 06:57:19 +0900 (JST)
* PR# 2314 *
Subject: I NEED YOU TO ASSIST ME.
From: "MADAM MARIAM MOBUTU SESE-SEKO" <sem@loadmail.com>
Date: Tue, 19 Nov 2002 23:16:18
* PR# 2316 *
Subject: Platform() used in tkfilefind.X although now deprecated
From: "Stephen Eglen	(CNS)" <stephen@cogsci.ed.ac.uk>
Date: Wed, 20 Nov 2002 22:12:58 +0000


From george@lecompte.org  Fri Nov 22 05:33:41 2002
From: george@lecompte.org (george@lecompte.org)
Date: Fri, 22 Nov 2002 06:33:41 +0100 (MET)
Subject: [Rd] simplex problem (PR#2317)
Message-ID: <200211220533.GAA05030@pubhealth.ku.dk>

Full_Name: George F. LeCompte
Version: 1.6.1
OS: Windows 98
Submission from: (NULL) (208.8.162.161)


This may be a newbie problem.  I am attempting tor unt the simplex routine from
the boot package.  The example code doesn't find simplex.  What's wrong here?

> help(simplex,package=boot)
> # from the resulting article
> 
>      #  This example is taken from Exercise 7.5 of Gill, Murray, 
>      #  and Wright (1991).
>      enj <- c(200, 6000, 3000, -200)
>      fat <- c(800, 6000, 1000, 400)
>      vitx <- c(50, 3, 150, 100)
>      vity <- c(10, 10, 75, 100)
>      vitz <- c(150, 35, 75, 5)
>      simplex(a=enj, A1=fat, b1=13800, A2=rbind(vitx, vity, vitz), 
+              b2=c(600, 300, 550), maxi=TRUE)
Error: couldn't find function "simplex"
>


From ripley@stats.ox.ac.uk  Fri Nov 22 11:03:26 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 22 Nov 2002 11:03:26 +0000 (GMT)
Subject: [Rd] simplex problem (PR#2317)
In-Reply-To: <200211220533.GAA05030@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0211221101340.6181-100000@gannet.stats>

You have to use library(boot) to use functions in boot.

*Please* send things like this to R-help, when you cna be advised how to
use R packages.

library(boot)
example(simplex)

works.

On Fri, 22 Nov 2002 george@lecompte.org wrote:

> Full_Name: George F. LeCompte
> Version: 1.6.1
> OS: Windows 98
> Submission from: (NULL) (208.8.162.161)
>
>
> This may be a newbie problem.  I am attempting tor unt the simplex routine from
> the boot package.  The example code doesn't find simplex.  What's wrong here?
>
> > help(simplex,package=boot)
> > # from the resulting article
> >
> >      #  This example is taken from Exercise 7.5 of Gill, Murray,
> >      #  and Wright (1991).
> >      enj <- c(200, 6000, 3000, -200)
> >      fat <- c(800, 6000, 1000, 400)
> >      vitx <- c(50, 3, 150, 100)
> >      vity <- c(10, 10, 75, 100)
> >      vitz <- c(150, 35, 75, 5)
> >      simplex(a=enj, A1=fat, b1=13800, A2=rbind(vitx, vity, vitz),
> +              b2=c(600, 300, 550), maxi=TRUE)
> Error: couldn't find function "simplex"
> >

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From J.C.Rougier@durham.ac.uk  Fri Nov 22 12:31:07 2002
From: J.C.Rougier@durham.ac.uk (Jonathan Rougier)
Date: Fri, 22 Nov 2002 12:31:07 +0000
Subject: [Rd] Small change to plot.xy
Message-ID: <3DDE238B.FDC95BDB@durham.ac.uk>

Hi everyone,

Is there any reason why we should not automatically coerce a factor
supplied as an argument to col in a plotting function?  The following
modification (to R-1.6.1) seems pretty harmless

> plot.xy
function (xy, type, pch = 1, lty = "solid", col = par("fg"), 
    bg = NA, cex = 1, ...) 
{
    if (is.factor(col)) 
        col <- codes(col)
    .Internal(plot.xy(xy, type, pch, lty, col, bg, cex, ...))
}
<environment: namespace:base>

and I think it is natural and not really wrong to want to type, say,

> data(iris)
> pairs(iris[, 1:4], col = iris[, 5])

and get the colours.

Cheers, Jonathan.

-- 
Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html


From p.dalgaard@biostat.ku.dk  Fri Nov 22 13:01:10 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Nov 2002 14:01:10 +0100
Subject: [Rd] Small change to plot.xy
In-Reply-To: <3DDE238B.FDC95BDB@durham.ac.uk>
References: <3DDE238B.FDC95BDB@durham.ac.uk>
Message-ID: <x2lm3lvjvt.fsf@biostat.ku.dk>

Jonathan Rougier <J.C.Rougier@durham.ac.uk> writes:

> Hi everyone,
> 
> Is there any reason why we should not automatically coerce a factor
> supplied as an argument to col in a plotting function?  The following
> modification (to R-1.6.1) seems pretty harmless
> 
> > plot.xy
> function (xy, type, pch = 1, lty = "solid", col = par("fg"), 
>     bg = NA, cex = 1, ...) 
> {
>     if (is.factor(col)) 
>         col <- codes(col)
>     .Internal(plot.xy(xy, type, pch, lty, col, bg, cex, ...))
> }
> <environment: namespace:base>
> 
> and I think it is natural and not really wrong to want to type, say,
> 
> > data(iris)
> > pairs(iris[, 1:4], col = iris[, 5])
> 
> and get the colours.

It's not clear to me that you want codes() there. Consider

f <-factor(c("red","blue","green")) 
plot(1:3,col=codes(f))

which get coloured green, black, and red. Arguably better than to drop
codes() and get black, black, and black, but not by much. Alternatives
could be as.numeric() or as.character(), but it all gets a bit
arbitrary. I think I prefer the explicit style in any case

clr <- sort(c("red","blue","green"))
plot(1:3,col=clr[f])

(beware the ordering of levels in f)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907


From ripley@stats.ox.ac.uk  Fri Nov 22 13:02:32 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 22 Nov 2002 13:02:32 +0000 (GMT)
Subject: [Rd] Small change to plot.xy
In-Reply-To: <3DDE238B.FDC95BDB@durham.ac.uk>
Message-ID: <Pine.LNX.4.31.0211221300300.1224-100000@gannet.stats>

*Not* codes! Unclass perhaps.

However, why should  col=factor(c("red", "blue", "green"))
not as naturally coerce to character.

I think we do need to get the user to specify what is meant, as now.
There are lots of examples of this sort of thing in MASS, BTW.


On Fri, 22 Nov 2002, Jonathan Rougier wrote:

> Hi everyone,
>
> Is there any reason why we should not automatically coerce a factor
> supplied as an argument to col in a plotting function?  The following
> modification (to R-1.6.1) seems pretty harmless
>
> > plot.xy
> function (xy, type, pch = 1, lty = "solid", col = par("fg"),
>     bg = NA, cex = 1, ...)
> {
>     if (is.factor(col))
>         col <- codes(col)
>     .Internal(plot.xy(xy, type, pch, lty, col, bg, cex, ...))
> }
> <environment: namespace:base>
>
> and I think it is natural and not really wrong to want to type, say,
>
> > data(iris)
> > pairs(iris[, 1:4], col = iris[, 5])
>
> and get the colours.
>
> Cheers, Jonathan.
>
> --
> Jonathan Rougier                       Science Laboratories
> Department of Mathematical Sciences    South Road
> University of Durham                   Durham DH1 3LE
> tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
> http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html
>
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> http://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From murdoch@stats.uwo.ca  Fri Nov 22 14:55:14 2002
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Fri, 22 Nov 2002 09:55:14 -0500
Subject: [Rd] Small change to plot.xy
In-Reply-To: <x2lm3lvjvt.fsf@biostat.ku.dk>
References: <3DDE238B.FDC95BDB@durham.ac.uk> <x2lm3lvjvt.fsf@biostat.ku.dk>
Message-ID: <48gstucf4oc2rslncjm663j94fomi9a239@4ax.com>

On 22 Nov 2002 14:01:10 +0100, Peter Dalgaard BSA
<p.dalgaard@biostat.ku.dk> wrote in message
<x2lm3lvjvt.fsf@biostat.ku.dk>:


>It's not clear to me that you want codes() there. Consider
>
>f <-factor(c("red","blue","green")) 
>plot(1:3,col=codes(f))
>
>which get coloured green, black, and red. Arguably better than to drop
>codes() and get black, black, and black, but not by much. Alternatives
>could be as.numeric() or as.character(), but it all gets a bit
>arbitrary.

I think you want it to act as though it is coercing everything to
character.  If something prints as "1", then it should act as though
it is colour 1.  If it prints as "red", it should be red.

I don't think you actually want to coerce everything to character;
that's too inefficient in the case of numeric colours, but it should
act as if you did.

I think this version gives that behaviour, but I might have the wrong
test...

plot.xy <- function (xy, type, pch = 1, lty = "solid", col =
par("fg"), 
    bg = NA, cex = 1, ...) 
{
    if (!is.numeric(col)) 
        col <- as.character(col)
    .Internal(plot.xy(xy, type, pch, lty, col, bg, cex, ...))
}

This doesn't help with Jonathan's iris example; in that case, I think
the fix should be to abort with the declaration that "setosa" etc.
aren't colours.  Alternatively, they could be coerced to numeric
colours (preferably not all black), but at the very least a warning
should be given when that is done.

Duncan Murdoch


From jerome@hivnet.ubc.ca  Fri Nov 22 23:51:51 2002
From: jerome@hivnet.ubc.ca (jerome@hivnet.ubc.ca)
Date: Sat, 23 Nov 2002 00:51:51 +0100 (MET)
Subject: [Rd] Segmentation fault using "survival" package (PR#2320)
Message-ID: <200211222351.AAA14020@pubhealth.ku.dk>

Full_Name: Jerome Asselin
Version: 1.6.1
OS: RedHat Linux 7.2
Submission from: (NULL) (142.103.173.179)



Hello,

I get a segmentation fault when I run the following code. I wouldn't expect
meaningful results because my response variable contains only missing values.
However, I would expect something like a regular error (not a segmentation
fault).


library(survival)

data <- structure(list(surv = structure(c(NA, NA, NA, 0,
0, 0), .Dim = c(3, 2), .Dimnames = list(NULL, c("time", "status"
)), class = "Surv", type = "right"), x = c(-1, -1, -0.5)),
.Names = c("surv", "x"),row.names = c("1", "2", "3"),
class = "data.frame")

coxph(surv ~ x,data=data)


Below is what I get when I run these commands from a freshly started R session.
This is always reproducible for me.

Sincerely,
Jerome Asselin

> library(survival)
>
> data <- structure(list(surv = structure(c(NA, NA, NA, 0,
+ 0, 0), .Dim = c(3, 2), .Dimnames = list(NULL, c("time", "status"
+ )), class = "Surv", type = "right"), x = c(-1, -1, -0.5)),
+ .Names = c("surv", "x"),row.names = c("1", "2", "3"),
+ class = "data.frame")
>
> coxph(surv ~ x,data=data)
Segmentation fault


From J.C.Rougier@durham.ac.uk  Sat Nov 23 09:07:52 2002
From: J.C.Rougier@durham.ac.uk (Jonathan Rougier)
Date: Sat, 23 Nov 2002 09:07:52 +0000
Subject: [Rd] Small change to plot.xy
References: <3DDE238B.FDC95BDB@durham.ac.uk>
Message-ID: <3DDF4568.63CB31D1@durham.ac.uk>

OK -- so there are two objections to the proposal:

1) The factor might be a colour specifier

2) Using codes is not a good idea because there are only 8 colours
available for an integer argument to col.

I can see that both of these have merit, but I think they are both easy
to work around, if necessary.  No-one has disagreed that it's natural to
want to pass a factor to col, and I believe that the vast majority of
times when this occurs the factor is not designed explicitly to paint
the points.

I think I would let the first objection pass.  Using codes to coerce the
factor we still get different colours for different factors, just not
the specified colours.  This is not right, but it's rarely a disaster
either and should be easy to spot for anyone who is expecting to see
"slateblue" and gets "red".

As for the second objection, I think this is valid and should be
addressed, but at the same time it is a different problem.  I often
wondered why col = 1 was black (not really a colour at all, and not very
good for boxplots) and, more pertinently, why col = 2 is red and col = 3
is green: isn't the most common form of colour-blindness red/green?  At
the very least, let's not have them next to each other in the list!  We
have 657 named colours to choose from: why not have a explicit "int2col"
function that provides a bigger and better table?

More-or-less the same arguments also apply to pch.

Jonathan.

Jonathan Rougier wrote:
> 
> Hi everyone,
> 
> Is there any reason why we should not automatically coerce a factor
> supplied as an argument to col in a plotting function?  The following
> modification (to R-1.6.1) seems pretty harmless
> 
> > plot.xy
> function (xy, type, pch = 1, lty = "solid", col = par("fg"),
>     bg = NA, cex = 1, ...)
> {
>     if (is.factor(col))
>         col <- codes(col)
>     .Internal(plot.xy(xy, type, pch, lty, col, bg, cex, ...))
> }
> <environment: namespace:base>
> 
> and I think it is natural and not really wrong to want to type, say,
> 
> > data(iris)
> > pairs(iris[, 1:4], col = iris[, 5])
> 
> and get the colours.
> 
> Cheers, Jonathan.
> 
> --
> Jonathan Rougier                       Science Laboratories
> Department of Mathematical Sciences    South Road
> University of Durham                   Durham DH1 3LE
> tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
> http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html
> 
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> http://www.stat.math.ethz.ch/mailman/listinfo/r-devel

-- 
Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html


From ripley@stats.ox.ac.uk  Sat Nov 23 09:52:07 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 23 Nov 2002 09:52:07 +0000 (GMT)
Subject: [Rd] Small change to plot.xy
In-Reply-To: <3DDF4568.63CB31D1@durham.ac.uk>
Message-ID: <Pine.LNX.4.31.0211230946500.4803-100000@gannet.stats>

On Sat, 23 Nov 2002, Jonathan Rougier wrote:

> OK -- so there are two objections to the proposal:
>
> 1) The factor might be a colour specifier
>
> 2) Using codes is not a good idea because there are only 8 colours
> available for an integer argument to col.

You seem not to appreciate

0) You used codes when you should have used unclass!

which was made twice.  Please do make sure you understand the difference.

> I can see that both of these have merit, but I think they are both easy
> to work around, if necessary.  No-one has disagreed that it's natural to
> want to pass a factor to col, and I believe that the vast majority of
> times when this occurs the factor is not designed explicitly to paint
> the points.

I did disagree.  I don't see why users should not explicitly map the
factor levels to colours, which takes only a few extra characters.
People have been doing this for a decade in S without objecting.
Why is it worth complicating R for?

> I think I would let the first objection pass.  Using codes to coerce the
> factor we still get different colours for different factors, just not
> the specified colours.  This is not right, but it's rarely a disaster
> either and should be easy to spot for anyone who is expecting to see
> "slateblue" and gets "red".
>
> As for the second objection, I think this is valid and should be
> addressed, but at the same time it is a different problem.  I often
> wondered why col = 1 was black (not really a colour at all, and not very
> good for boxplots) and, more pertinently, why col = 2 is red and col = 3
> is green: isn't the most common form of colour-blindness red/green?  At
> the very least, let's not have them next to each other in the list!  We
> have 657 named colours to choose from: why not have a explicit "int2col"
> function that provides a bigger and better table?

Not all devices (by any means) can display those colours, or only a
limited number of colours in total.

> More-or-less the same arguments also apply to pch.
>
> Jonathan.
>
> Jonathan Rougier wrote:
> >
> > Hi everyone,
> >
> > Is there any reason why we should not automatically coerce a factor
> > supplied as an argument to col in a plotting function?  The following
> > modification (to R-1.6.1) seems pretty harmless
> >
> > > plot.xy
> > function (xy, type, pch = 1, lty = "solid", col = par("fg"),
> >     bg = NA, cex = 1, ...)
> > {
> >     if (is.factor(col))
> >         col <- codes(col)
> >     .Internal(plot.xy(xy, type, pch, lty, col, bg, cex, ...))
> > }
> > <environment: namespace:base>
> >
> > and I think it is natural and not really wrong to want to type, say,
> >
> > > data(iris)
> > > pairs(iris[, 1:4], col = iris[, 5])
> >
> > and get the colours.
> >
> > Cheers, Jonathan.
> >
> > --
> > Jonathan Rougier                       Science Laboratories
> > Department of Mathematical Sciences    South Road
> > University of Durham                   Durham DH1 3LE
> > tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
> > http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html
> >
> > ______________________________________________
> > R-devel@stat.math.ethz.ch mailing list
> > http://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>
> --
> Jonathan Rougier                       Science Laboratories
> Department of Mathematical Sciences    South Road
> University of Durham                   Durham DH1 3LE
> tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
> http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html
>
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> http://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From J.C.Rougier@durham.ac.uk  Sat Nov 23 10:05:36 2002
From: J.C.Rougier@durham.ac.uk (Jonathan Rougier)
Date: Sat, 23 Nov 2002 10:05:36 +0000
Subject: [Rd] Small change to plot.xy
References: <Pine.LNX.4.31.0211230946500.4803-100000@gannet.stats>
Message-ID: <3DDF52F0.701BB788@durham.ac.uk>

ripley@stats.ox.ac.uk wrote:
> 
> On Sat, 23 Nov 2002, Jonathan Rougier wrote:
> 
> > OK -- so there are two objections to the proposal:
> >
> > 1) The factor might be a colour specifier
> >
> > 2) Using codes is not a good idea because there are only 8 colours
> > available for an integer argument to col.
> 
> You seem not to appreciate
> 
> 0) You used codes when you should have used unclass!
> 
> which was made twice.  Please do make sure you understand the difference.

You are right -- I can see from the help page of codes that I should
have used unclass.

> > I can see that both of these have merit, but I think they are both easy
> > to work around, if necessary.  No-one has disagreed that it's natural to
> > want to pass a factor to col, and I believe that the vast majority of
> > times when this occurs the factor is not designed explicitly to paint
> > the points.
> 
> I did disagree.  I don't see why users should not explicitly map the
> factor levels to colours, which takes only a few extra characters.
> People have been doing this for a decade in S without objecting.
> Why is it worth complicating R for?

That's the difference between us: you think they should have to type a
few extra characters to achieve a natural result, and I don't.  It's two
extra lines in the source and an extra line in the help file -- I don't
call this a complication and I think that the next generation of
statisticians will be that much more taken with R (as opposed to, say,
SPSS) if we take the trouble to make the default behaviour as intuitive
as possible.

> 
> > I think I would let the first objection pass.  Using codes to coerce the
> > factor we still get different colours for different factors, just not
> > the specified colours.  This is not right, but it's rarely a disaster
> > either and should be easy to spot for anyone who is expecting to see
> > "slateblue" and gets "red".
> >
> > As for the second objection, I think this is valid and should be
> > addressed, but at the same time it is a different problem.  I often
> > wondered why col = 1 was black (not really a colour at all, and not very
> > good for boxplots) and, more pertinently, why col = 2 is red and col = 3
> > is green: isn't the most common form of colour-blindness red/green?  At
> > the very least, let's not have them next to each other in the list!  We
> > have 657 named colours to choose from: why not have a explicit "int2col"
> > function that provides a bigger and better table?
> 
> Not all devices (by any means) can display those colours, or only a
> limited number of colours in total.

That doesn't stop us coming up with a longer list in a better order,
does it?

Jonathan.

-- 
Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html


From ripley@stats.ox.ac.uk  Sat Nov 23 10:11:39 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 23 Nov 2002 10:11:39 +0000 (GMT)
Subject: [Rd] Small change to plot.xy
In-Reply-To: <3DDF52F0.701BB788@durham.ac.uk>
Message-ID: <Pine.LNX.4.31.0211231007350.4842-100000@gannet.stats>

On Sat, 23 Nov 2002, Jonathan Rougier wrote:

> ripley@stats.ox.ac.uk wrote:
>
> > > I can see that both of these have merit, but I think they are both easy
> > > to work around, if necessary.  No-one has disagreed that it's natural to
> > > want to pass a factor to col, and I believe that the vast majority of
> > > times when this occurs the factor is not designed explicitly to paint
> > > the points.
> >
> > I did disagree.  I don't see why users should not explicitly map the
> > factor levels to colours, which takes only a few extra characters.
> > People have been doing this for a decade in S without objecting.
> > Why is it worth complicating R for?
>
> That's the difference between us: you think they should have to type a
> few extra characters to achieve a natural result, and I don't.  It's two
> extra lines in the source and an extra line in the help file -- I don't
> call this a complication and I think that the next generation of
> statisticians will be that much more taken with R (as opposed to, say,
> SPSS) if we take the trouble to make the default behaviour as intuitive
> as possible.

No, the difference is that what you find `intuitive' other people find
perverse.  Giving a factor of colour names and getting a different set of
colours is perverse.  If the intention is not clear, it is more
`intuitive' to give an error than to guess incorrectly.

Does SPSS actually do this, that is arbitrarily assign colours to
categories that might be names of colours?

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From J.C.Rougier@durham.ac.uk  Sat Nov 23 10:53:48 2002
From: J.C.Rougier@durham.ac.uk (Jonathan Rougier)
Date: Sat, 23 Nov 2002 10:53:48 +0000
Subject: [Rd] Small change to plot.xy
References: <Pine.LNX.4.31.0211231007350.4842-100000@gannet.stats>
Message-ID: <3DDF5E3C.8D2B8A11@durham.ac.uk>

ripley@stats.ox.ac.uk wrote:
> 
> On Sat, 23 Nov 2002, Jonathan Rougier wrote:
> 
> > ripley@stats.ox.ac.uk wrote:
> >
> > > > I can see that both of these have merit, but I think they are both easy
> > > > to work around, if necessary.  No-one has disagreed that it's natural to
> > > > want to pass a factor to col, and I believe that the vast majority of
> > > > times when this occurs the factor is not designed explicitly to paint
> > > > the points.
> > >
> > > I did disagree.  I don't see why users should not explicitly map the
> > > factor levels to colours, which takes only a few extra characters.
> > > People have been doing this for a decade in S without objecting.
> > > Why is it worth complicating R for?
> >
> > That's the difference between us: you think they should have to type a
> > few extra characters to achieve a natural result, and I don't.  It's two
> > extra lines in the source and an extra line in the help file -- I don't
> > call this a complication and I think that the next generation of
> > statisticians will be that much more taken with R (as opposed to, say,
> > SPSS) if we take the trouble to make the default behaviour as intuitive
> > as possible.
> 
> No, the difference is that what you find `intuitive' other people find
> perverse.  Giving a factor of colour names and getting a different set of
> colours is perverse.  If the intention is not clear, it is more
> `intuitive' to give an error than to guess incorrectly.
> 
> Does SPSS actually do this, that is arbitrarily assign colours to
> categories that might be names of colours?

I think you know the answer to that!  That wasn't my point.  I give
statistical computing practicals using the same material to two similar
groups of students, some using SPSS and some using R.  Right now, the
SPSS students are getting a lot more experience of data analysis.  My
SPSS students put Species in the "colour points by" box.  You and I may
disagree on what is natural and what is peverse, but my R students want
to do "col = iris$Species" and I am sympathetic.  

If your objection is overwriting colours then let's go with Robert's
suggestion of checking for this explicitly, maybe something along the
lines of

if (is.factor(col)) {
  tmp <- as.character(col)
  if (all(tmp %in% colors()))
    col <- tmp
  else
    col <- unclass(col)
}

which has the desired effect:

> data(iris)
> iris$color <- c("red", "lightgreen", "slateblue")[unclass(iris$Species)]
> pairs(iris[, 1:4], col = iris$Species) # black, red, green
> pairs(iris[, 1:4], col = iris$color)   # as above

Jonathan.

-- 
Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html


From deepayan@stat.wisc.edu  Sat Nov 23 12:11:07 2002
From: deepayan@stat.wisc.edu (Deepayan Sarkar)
Date: Sat, 23 Nov 2002 06:11:07 -0600
Subject: [Rd] Small change to plot.xy
In-Reply-To: <3DDF5E3C.8D2B8A11@durham.ac.uk>
References: <Pine.LNX.4.31.0211231007350.4842-100000@gannet.stats> <3DDF5E3C.8D2B8A11@durham.ac.uk>
Message-ID: <200211230611.07298.deepayan@stat.wisc.edu>

On Saturday 23 November 2002 04:53 am, Jonathan Rougier wrote:

> > Does SPSS actually do this, that is arbitrarily assign colours to
> > categories that might be names of colours?
>
> I think you know the answer to that!  That wasn't my point.  I give
> statistical computing practicals using the same material to two similar
> groups of students, some using SPSS and some using R.  Right now, the
> SPSS students are getting a lot more experience of data analysis.  My
> SPSS students put Species in the "colour points by" box.  You and I may
> disagree on what is natural and what is peverse, but my R students want
> to do "col = iris$Species" and I am sympathetic.

This sort of thing is handled more systematically in Trellis. For example, try

library(lattice)
data(iris)
xyplot(Sepal.Length ~ Sepal.Width, data = iris, groups = Species)
splom(iris[, 1:4], groups = iris$Species)

(This doesn't exactly answer your original question, but I think it does 
address the example you have given here.)

Deepayan


From george@lecompte.org  Sat Nov 23 16:30:38 2002
From: george@lecompte.org (george@lecompte.org)
Date: Sat, 23 Nov 2002 17:30:38 +0100 (MET)
Subject: [Rd] simplex (PR#2322)
Message-ID: <200211231630.RAA16420@pubhealth.ku.dk>

Full_Name: George LeCompte
Version: 1.6.1 (windows)
OS: windows98
Submission from: (NULL) (208.8.162.135)


simplex won't work with only >= constraints examples follow:

this works:
simplex(a=1,A1=1,b1=10,A2=1,b2=1)

but this doesn't
simplex(1,A2=1,b2=1)

Linear Programming Results

Call : simplex(a = 1, A2 = 1, b2 = 1)

Minimization Problem with Objective Function Coefficients
x1 
 1 

No feasible solution could be found


From tlumley@u.washington.edu  Sat Nov 23 18:43:48 2002
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Sat, 23 Nov 2002 10:43:48 -0800 (PST)
Subject: [Rd] Small change to plot.xy
In-Reply-To: <3DDF4568.63CB31D1@durham.ac.uk>
Message-ID: <Pine.A41.4.44.0211231034450.96242-100000@homer01.u.washington.edu>

On Sat, 23 Nov 2002, Jonathan Rougier wrote:

> OK -- so there are two objections to the proposal:
>
> 1) The factor might be a colour specifier
>

The function below might help
It checks:
  - are the levels colour names
  - are they numbers
  - are they color specifiers like #a0f3d2
otherwise it returns the underlying codes with unclass().

On the issue of whether the current default palettes are ideal I can quote
Paul Murrell's talk at the JSM ("The only word for this is
`embarrassing'").  Improved palettes are planned, and one step in that
direction is the RColorBrewer package, which supplies color schemes
useful for images, maps and barplots.

	-thomas


factor2color<-function(color){
   nms<-as.character(color)
   n<-length(nms)
   ## are they color names
   is.color<-nms %in% colors()
   if (all(is.color)) return(nms)
   if (sum(is.color)>2 && mean(is.color)>2/3)
	warning("Not all factor names are colors")
   ## are they numbers
   m<-length(grep("[^:digit:]",nms))
   if (m==0 && all(!is.na(nums<-as.numeric(nms))))
 	return(nums)
   ## are they #a0bfe4
   n<-length(nms)
   m<-length(grep("#[0-9A-Fa-f]{6,6}",nms))
   if(m==n)
      return(nms)
   ## otherwise just return numbers
   return(unclass(color))

}


From campbell.webb@yale.edu  Sat Nov 23 22:57:33 2002
From: campbell.webb@yale.edu (campbell.webb@yale.edu)
Date: Sat, 23 Nov 2002 23:57:33 +0100 (MET)
Subject: [Rd] Intermittant hang in cmdscale (PR#2323)
Message-ID: <200211232257.XAA17412@pubhealth.ku.dk>

Full_Name: Cam Webb
Version: 1.6.0 (fink X11 compile)
OS: Mac OS X (Jaguar)
Submission from: (NULL) (64.168.28.87)


This is an unpredictable, intermittant hang during cmdscale of the mva library. 
Some data  never cause a problem, other data always do, abut I can't track down
the difference in the structure of the data.  Sometimes the function will work
for `difficult' data after it has been run in the same session for `behaved'
data (eurodist always works)!  Here is a typical session:

$ R

> library(mva)
> x <- read.table("test.dat",row.names=1)

> x
  V2 V3
A  1  2
B  2  4
C  5  7
D  1  1
     
> dist(x)
         A        B        C
B 2.236068
C 6.403124 4.242641
D 1.000000 3.162278 7.211103

> cmdscale(dist(x))
^C

   Here it just hangs, CPU whirring.  Have to abort with ^C

> data(eurodist)

> cmdscale(eurodist)
                        [,1]        [,2]
Athens           2290.274680  1798.80293
Barcelona        -825.382790   546.81148
...
Vienna            911.230500   205.93020
   
> cmdscale(dist(x))
        [,1]       [,2]
A  1.9464399  0.1545044
B -0.2638877  0.4928116
C -4.4454618 -0.2244320
D  2.7629095 -0.4228840

  Works now!

Not sure if this is a Mac problem, or a function problem.  The intermittantness
is most puzzling.

Many thx,

Cam


From ripley@stats.ox.ac.uk  Sun Nov 24 18:37:47 2002
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 24 Nov 2002 18:37:47 +0000 (GMT)
Subject: [Rd] gcc 3.2.1
Message-ID: <Pine.GSO.4.44.0211241833040.9490-100000@auk.stats>

gcc 3.2.1 is out and avoids the warnings about -I/usr/local/include
shown by 3.1 and 3.2.

Unfortunately, it seems to generate invalid code on 32-bit Solaris 2.7.
(64-bit code via -m64 is OK.)  On two separate installations
example(Bessel) crashes in graphics.c because dd is not being passed down
from clipText correctly.  I don't think that is all, as compiling
graphics.c under gcc-3.2 leads to other errors elsewhere.  So use gcc-3.2.1
with caution on Solaris.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From deleeuw@stat.ucla.edu  Sun Nov 24 19:07:53 2002
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Sun, 24 Nov 2002 11:07:53 -0800
Subject: [Rd] gcc 3.2.1
In-Reply-To: <Pine.GSO.4.44.0211241833040.9490-100000@auk.stats>
Message-ID: <08603C4A-FFE0-11D6-A7D4-000393860F3C@stat.ucla.edu>

Same is true for gcc-3.3 on Darwin -- it compiles R without
problems. No /usr/local/include warnings, and example(Bessel)
runs fine. Source in the Darwin CVS, it is merged with recent FSF
patches, has support for Objective-C++, and can be
cross-compiled for x86. Darwin persons can get the binaries
from http://gifi.stat.ucla.edu/pub (unpack in root).

On Sunday, November 24, 2002, at 10:37 AM, Prof Brian D Ripley wrote:

> gcc 3.2.1 is out and avoids the warnings about -I/usr/local/include
> shown by 3.1 and 3.2.
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://gifi.stat.ucla.edu
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au
   
------------------------------------------------------------------------ 
-------------------------


From maechler@stat.math.ethz.ch  Mon Nov 25 08:20:49 2002
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Mon, 25 Nov 2002 09:20:49 +0100 (MET)
Subject: [Rd] Segmentation fault using "survival" package (PR#2320)
Message-ID: <200211250820.JAA22288@pubhealth.ku.dk>

>>>>> "Jerome" == Jerome Asselin <jerome@hivnet.ubc.ca>
>>>>>     on Sat, 23 Nov 2002 00:51:51 +0100 (MET) writes:

    Jerome> Full_Name: Jerome Asselin Version: 1.6.1 OS: RedHat
    Jerome> Linux 7.2 Submission from: (NULL) (142.103.173.179)


    Jerome> Hello,

    Jerome> I get a segmentation fault when I run the following
    Jerome> code. I wouldn't expect meaningful results because
    Jerome> my response variable contains only missing values.
    Jerome> However, I would expect something like a regular
    Jerome> error (not a segmentation fault).

I confirm the problem (OS: a version of Redhat Linux, 1.6.1 patched)
running in "R -d gdb"
shows the place :

> coxph(surv ~ x, data=data)

Program received signal SIGSEGV, Segmentation fault.
0x4027dee4 in coxfit2 (maxiter=0x8c9cc60, nusedx=0x8c9cc40, nvarx=0x8c9cc20, 
    time=0x0, status=0x0, covar2=0x0, offset=0x0, weights=0x0, strata=0x0, 
    means=0x8c85738, Rf_beta=0x8c85710, u=0x8c856e8, imat2=0x8c856c0, 
    loglik=0x8cb3dd0, flag=0x8c9cc00, work=0x8b4ef10, eps=0x8c85698, 
    tol_chol=0x8c85670, sctest=0x8c85648) at coxfit2.c:116
116	coxfit2.c: No such file or directory.
	in coxfit2.c

--
Martin


From gb@stat.umu.se  Mon Nov 25 08:57:35 2002
From: gb@stat.umu.se (=?iso-8859-1?Q?G=F6ran_Brostr=F6m?=)
Date: Mon, 25 Nov 2002 09:57:35 +0100 (CET)
Subject: [Rd] Segmentation fault using "survival" package (PR#2320)
In-Reply-To: <200211250820.JAA22288@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.44.0211250946510.20351-100000@tal.stat.umu.se>

On Mon, 25 Nov 2002 maechler@stat.math.ethz.ch wrote:

> >>>>> "Jerome" == Jerome Asselin <jerome@hivnet.ubc.ca>
> >>>>>     on Sat, 23 Nov 2002 00:51:51 +0100 (MET) writes:
>
>     Jerome> Full_Name: Jerome Asselin Version: 1.6.1 OS: RedHat
>     Jerome> Linux 7.2 Submission from: (NULL) (142.103.173.179)
>
>
>     Jerome> Hello,
>
>     Jerome> I get a segmentation fault when I run the following
>     Jerome> code. I wouldn't expect meaningful results because
>     Jerome> my response variable contains only missing values.
>     Jerome> However, I would expect something like a regular
>     Jerome> error (not a segmentation fault).
>
> I confirm the problem (OS: a version of Redhat Linux, 1.6.1 patched)
> running in "R -d gdb"
> shows the place :
>
> > coxph(surv ~ x, data=data)
>
> Program received signal SIGSEGV, Segmentation fault.
> 0x4027dee4 in coxfit2 (maxiter=0x8c9cc60, nusedx=0x8c9cc40, nvarx=0x8c9cc20,
>     time=0x0, status=0x0, covar2=0x0, offset=0x0, weights=0x0, strata=0x0,
>     means=0x8c85738, Rf_beta=0x8c85710, u=0x8c856e8, imat2=0x8c856c0,
>     loglik=0x8cb3dd0, flag=0x8c9cc00, work=0x8b4ef10, eps=0x8c85698,
>     tol_chol=0x8c85670, sctest=0x8c85648) at coxfit2.c:116
> 116	coxfit2.c: No such file or directory.
> 	in coxfit2.c
>
> --
> Martin
>
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> http://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>

The survival package obviously lacks a few basic sanity checks, some of
which I have communicated to its R maintainer Thomas L. For instance, data
sets without events used to crash R in earlier versions.

The best advise for now is to check your data before using survival.

 ---
 Gran Brostrm                    tel: +46 90 786 5223
 Department of Statistics          fax: +46 90 786 6614
 Ume University                   http://www.stat.umu.se/egna/gb/
 SE-90187 Ume, Sweden             e-mail: gb@stat.umu.se


From J.C.Rougier@durham.ac.uk  Mon Nov 25 09:59:20 2002
From: J.C.Rougier@durham.ac.uk (Jonathan Rougier)
Date: Mon, 25 Nov 2002 09:59:20 +0000
Subject: [Rd] Small change to plot.xy
References: <Pine.A41.4.44.0211231034450.96242-100000@homer01.u.washington.edu>
Message-ID: <3DE1F478.3FD2BA5B@durham.ac.uk>

Hi Thomas,

Thomas Lumley wrote:
> 
> On Sat, 23 Nov 2002, Jonathan Rougier wrote:
> 
> > OK -- so there are two objections to the proposal:
> >
> > 1) The factor might be a colour specifier
> >
> 
> The function below might help
> It checks:
>   - are the levels colour names
>   - are they numbers
>   - are they color specifiers like #a0f3d2
> otherwise it returns the underlying codes with unclass().

Is there a case, given that colours *can* be represented in several
different ways, for including the two functions "is.color" and
"as.color" in the base?  I imagine the latter would work like
"as.numeric", putting NA for elements that cannot be coerced to
colours.  The function "as.color" might return a specific colour format,
perhaps #hhhhhh if that is the most general, which would simplify other
parts of the code.

Jonathan.

-- 
Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html


From ripley@stats.ox.ac.uk  Mon Nov 25 11:20:58 2002
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 25 Nov 2002 11:20:58 +0000 (GMT Standard Time)
Subject: [Rd] Small change to plot.xy
In-Reply-To: <3DE1F478.3FD2BA5B@durham.ac.uk>
Message-ID: <Pine.WNT.4.44.0211251118050.2628-100000@gannet.stats.ox.ac.uk>

The problem is that col= is interpreted in C code for many different R
functions, not kust those going through plot.xy.  The only consistent way I
see to handle this is to change the common C code to handle more cases, if
people really think it is worth complicating R for.

I was going to point out that your previous solution was less general than
what was there at present.

On Mon, 25 Nov 2002, Jonathan Rougier wrote:

> Hi Thomas,
>
> Thomas Lumley wrote:
> >
> > On Sat, 23 Nov 2002, Jonathan Rougier wrote:
> >
> > > OK -- so there are two objections to the proposal:
> > >
> > > 1) The factor might be a colour specifier
> > >
> >
> > The function below might help
> > It checks:
> >   - are the levels colour names
> >   - are they numbers
> >   - are they color specifiers like #a0f3d2
> > otherwise it returns the underlying codes with unclass().
>
> Is there a case, given that colours *can* be represented in several
> different ways, for including the two functions "is.color" and
> "as.color" in the base?  I imagine the latter would work like
> "as.numeric", putting NA for elements that cannot be coerced to
> colours.  The function "as.color" might return a specific colour format,
> perhaps #hhhhhh if that is the most general, which would simplify other
> parts of the code.
>
> Jonathan.
>
> --
> Jonathan Rougier                       Science Laboratories
> Department of Mathematical Sciences    South Road
> University of Durham                   Durham DH1 3LE
> tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
> http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html
>
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> http://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From andy_liaw@merck.com  Mon Nov 25 15:44:18 2002
From: andy_liaw@merck.com (Liaw, Andy)
Date: Mon, 25 Nov 2002 10:44:18 -0500
Subject: [Rd] typo in USArrests.Rd
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC909@usrymx10.merck.com>

In line 5 of R-1.6.1/src/library/base/man/USArrests.Rd, it should read

\format{A data frame with 50 observations on 4 variables.

I.e., there are only four variables in the data frame, not five.

Cheers,
Andy


------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message. If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================


From pgilbert@bank-banque-canada.ca  Mon Nov 25 17:50:40 2002
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Mon, 25 Nov 2002 12:50:40 -0500
Subject: [Rd] Re: [R] R CMD build (moved from r-help)
References: <20021124104045.0ec2c5a3.fharrell@virginia.edu> <x2r8dazzd7.fsf@biostat.ku.dk>
Message-ID: <3DE262F0.C3B3BE2C@bank-banque-canada.ca>

> 
> Frank E Harrell Jr <fharrell@virginia.edu> writes:
...
> > I used to get html and latex files recreated only when the source
> > .Rd file changed. Now I am getting html and latex (and text and
> > example) recreated whenever I run R CMD INSTALL when I do not change
> > any .Rd files. Does anyone know how to get the old behavior or have
> > an idea what I'm doing wrong, to save processing time? Thanks -Frank

Peter Dalgaard BSA wrote:
>You're not doing anything wrong, but the old code was. The basic issue
>was that if you built an old package after a newer one was issued, and
>then tried to upgrade, then the old object files were newer than the
>new source files, and hence weren't updated. Someone got bitten by
>this during the 1.6.1 burn-in so we changed it to rebuild
>unconditionally.  If you have a better scheme for avoiding that effect,
> please tell...

I've been re-working the Makefiles I use for maintaining my packages, not
because of the change in R but because my own Makefiles re-built on changes in
Rd files and vignettes, and it became a bit too much to recheck all my code
because of changes in a vignette. My Makefiles are still a bit rough for broad
distribution, but if anyone would like to look at them and comment then that
might help get them in better shape for others to use. Below are a few more
details on the general approach.

I have about twenty packages, some of which are rolled into bundles and put on
CRAN. I have now separated the bundling into a layer above the packages, so I
can treat the packages individually. There are several interdependencies in the
packages. I consider these to be all in the code, not the "documentation," that
is, examples, vignettes, and demos. Thus I have dependencies among packages, but
I want to trigger these only on code changes, not documentation changes. (The
down side of this is that the documentation tests sometimes point out code
errors, which I will now not find until later.)  To do this I have relegated R
CMD build and check to final pass testing and have my Makefile targets go
directly to the QA tools instead. A change in a single package's  R/*.R or
tests/*.R file triggers a remake of the its code, which does checkMethods() and
checkAssignFuns(), runs anything in the tests/ directory, and installs the code
in a test library. This may trigger remaking of code in other packages. It also
triggers remaking of the documentation for the single package. A change in the
documentation of a single package will trigger remaking of that part of the
documentation of the package, but will not trigger any other remakes. For
example, a change to an Rd file will result in running codoc and related tools,
but only for the single package where the Rd file was changed.

Paul Gilbert


From clifford@galton.uchicago.edu  Mon Nov 25 21:23:40 2002
From: clifford@galton.uchicago.edu (clifford@galton.uchicago.edu)
Date: Mon, 25 Nov 2002 22:23:40 +0100 (MET)
Subject: [Rd] Contr.poly for n > 100 (PR#2326)
Message-ID: <200211252123.WAA01346@pubhealth.ku.dk>

Full_Name: David Clifford
Version: Version 1.5.1  (2002-06-17)
OS: Red Hat 7.3
Submission from: (NULL) (128.135.149.55)


For n values above 100 there appears to be a bug in contr.poly(n).  

The contrast matrix should have rank n-1.

Running the code below gives output (ie errors) at n=98, 100 
and every value greater than 102.  

for(n in 2:150)
  {
    K <- contr.poly(n)
    rnk <- qr(K)$rank
    if(rnk != n-1) {
      cat(c(n,rnk))
      cat("\n")
    }
  }

Also the contr.poly code just breaks down at n=163 with the error:

Error in qr(X) : NA/NaN/Inf in foreign function call (arg 1)


From ripley@stats.ox.ac.uk  Mon Nov 25 21:39:15 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 25 Nov 2002 21:39:15 +0000 (GMT)
Subject: [Rd] Contr.poly for n > 100 (PR#2326)
In-Reply-To: <200211252123.WAA01346@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0211252133220.6206-100000@gannet.stats>

It's not possible to represent orthogonal polynomials accurately to this
degree in the computer arithmetic used.  So, perhaps it is a bug, but
the attempt to use them made no sense.

The bug will not be fixed, but the attempt will give an error.

The same thing happens in S, for the same reason.

On Mon, 25 Nov 2002 clifford@galton.uchicago.edu wrote:

> Full_Name: David Clifford
> Version: Version 1.5.1  (2002-06-17)
> OS: Red Hat 7.3
> Submission from: (NULL) (128.135.149.55)
>
>
> For n values above 100 there appears to be a bug in contr.poly(n).
>
> The contrast matrix should have rank n-1.
>
> Running the code below gives output (ie errors) at n=98, 100
> and every value greater than 102.
>
> for(n in 2:150)
>   {
>     K <- contr.poly(n)
>     rnk <- qr(K)$rank
>     if(rnk != n-1) {
>       cat(c(n,rnk))
>       cat("\n")
>     }
>   }
>
> Also the contr.poly code just breaks down at n=163 with the error:
>
> Error in qr(X) : NA/NaN/Inf in foreign function call (arg 1)
>
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> http://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From p.b.pynsent@bham.ac.uk  Tue Nov 26 09:44:40 2002
From: p.b.pynsent@bham.ac.uk (p.b.pynsent@bham.ac.uk)
Date: Tue, 26 Nov 2002 10:44:40 +0100 (MET)
Subject: [Rd] sprintf (PR#2327)
Message-ID: <200211260944.KAA04796@pubhealth.ku.dk>

--Apple-Mail-2--133200961
Content-Transfer-Encoding: 7bit
Content-Type: text/plain;
	charset=US-ASCII;
	format=flowed

# Your mailer is set to "none" (default on Windows),
# hence we cannot send the bug report directly from R.
# Please copy the bug report (after finishing it) to
# your favorite email program and send it to
#
#       r-bugs@r-project.org
#
######################################################

1)
A small point but:
Note message above needs changing for MacOS port


2) Under MacOS 10.2.2. Given the following dataset:

 > summary(missing.data)
    Hosp..No.                   Category      Offset        Side
  r060093:  4   F Post op 0.5 year  :62   Min.   :-5.8333   L: 63
  r023250:  3   E Pre op 0.5 year   :54   1st Qu.:-0.4167   R:141
  r026316:  3   H Post op 1.5 years :44   Median : 7.7083
  r032583:  3   G Post op 1 year    :41   Mean   :14.2623
  r036827:  3   I Post op 2 years   : 3   3rd Qu.:27.0833
  r055869:  3   A Pre op > 2.5 years: 0   Max.   :47.6667
  (Other):185   (Other)             : 0
        V1               V5              V10              V15
  Min.   :0.0000   Min.   :0.0000   Min.   :0.0000   Min.   :0.0000
  1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:0.0000
  Median :0.0000   Median :0.0000   Median :0.0000   Median :0.0000
  Mean   :0.8382   Mean   :0.6863   Mean   :0.7206   Mean   :0.9804
  3rd Qu.:1.0000   3rd Qu.:1.0000   3rd Qu.:1.0000   3rd Qu.:1.0000
  Max.   :5.0000   Max.   :5.0000   Max.   :5.0000   Max.   :5.0000

       V20              V25             V30              V35
  Min.   :0.0000   Min.   :0.000   Min.   :0.0000   Min.   :0.0000
  1st Qu.:0.0000   1st Qu.:0.000   1st Qu.:0.0000   1st Qu.:0.0000
  Median :0.0000   Median :0.000   Median :0.0000   Median :0.0000
  Mean   :0.9559   Mean   :0.603   Mean   :0.5343   Mean   :0.5686
  3rd Qu.:0.2500   3rd Qu.:0.000   3rd Qu.:0.0000   3rd Qu.:0.0000
  Max.   :5.0000   Max.   :5.000   Max.   :5.0000   Max.   :5.0000

       V40              V45              V50              V55
  Min.   :0.0000   Min.   :0.0000   Min.   :0.0000   Min.   :0.0000
  1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:0.0000
  Median :0.0000   Median :0.0000   Median :0.0000   Median :0.0000
  Mean   :0.6912   Mean   :0.5539   Mean   :0.5245   Mean   :0.5588
  3rd Qu.:0.0000   3rd Qu.:0.0000   3rd Qu.:0.0000   3rd Qu.:0.0000
  Max.   :5.0000   Max.   :5.0000   Max.   :5.0000   Max.   :5.0000

The line:

sprintf("%s\t%1.0f", missing.data$Hosp..No., missing.data$V1)

always crashes R.

Many thanks,
Paul


--please do not edit the information below--

Version:
  platform = ppc-apple-macos
  arch = ppc
  os = MacOS
  system = ppc, MacOS
  status =
  major = 1
  minor = 5.1
  year = 2002
  month = 06
  day = 17
  language = R

Search Path:
  .GlobalEnv, package:survival, package:ctest, Autoloads, package:base

Dr. P. B. Pynsent,
Research and Teaching Centre,
Royal orthopaedic Hospital,
Birmingham, B31 2AP, U.K.

--Apple-Mail-2--133200961
Content-Transfer-Encoding: 7bit
Content-Type: text/enriched;
	charset=US-ASCII

# Your mailer is set to "none" (default on Windows),

# hence we cannot send the bug report directly from R.

# Please copy the bug report (after finishing it) to

# your favorite email program and send it to

#

#       r-bugs@r-project.org

#

######################################################


<color><param>FFFE,0000,0000</param>1)

A small point but:

Note message above needs changing for MacOS port

</color>


<color><param>FFFE,0000,0000</param>2) Under MacOS 10.2.2. Given the
following dataset:</color>


> summary(missing.data)

   Hosp..No.                   Category      Offset        Side   

 r060093:  4   F Post op 0.5 year  :62   Min.   :-5.8333   L: 63  

 r023250:  3   E Pre op 0.5 year   :54   1st Qu.:-0.4167   R:141  

 r026316:  3   H Post op 1.5 years :44   Median : 7.7083          

 r032583:  3   G Post op 1 year    :41   Mean   :14.2623          

 r036827:  3   I Post op 2 years   : 3   3rd Qu.:27.0833          

 r055869:  3   A Pre op > 2.5 years: 0   Max.   :47.6667          

 (Other):185   (Other)             : 0                            

       V1               V5              V10              V15        

 Min.   :0.0000   Min.   :0.0000   Min.   :0.0000   Min.   :0.0000  

 1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:0.0000  

 Median :0.0000   Median :0.0000   Median :0.0000   Median :0.0000  

 Mean   :0.8382   Mean   :0.6863   Mean   :0.7206   Mean   :0.9804  

 3rd Qu.:1.0000   3rd Qu.:1.0000   3rd Qu.:1.0000   3rd Qu.:1.0000  

 Max.   :5.0000   Max.   :5.0000   Max.   :5.0000   Max.   :5.0000  

                                                                    

      V20              V25             V30              V35        

 Min.   :0.0000   Min.   :0.000   Min.   :0.0000   Min.   :0.0000  

 1st Qu.:0.0000   1st Qu.:0.000   1st Qu.:0.0000   1st Qu.:0.0000  

 Median :0.0000   Median :0.000   Median :0.0000   Median :0.0000  

 Mean   :0.9559   Mean   :0.603   Mean   :0.5343   Mean   :0.5686  

 3rd Qu.:0.2500   3rd Qu.:0.000   3rd Qu.:0.0000   3rd Qu.:0.0000  

 Max.   :5.0000   Max.   :5.000   Max.   :5.0000   Max.   :5.0000  

                                                                   

      V40              V45              V50              V55        

 Min.   :0.0000   Min.   :0.0000   Min.   :0.0000   Min.   :0.0000  

 1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:0.0000  

 Median :0.0000   Median :0.0000   Median :0.0000   Median :0.0000  

 Mean   :0.6912   Mean   :0.5539   Mean   :0.5245   Mean   :0.5588  

 3rd Qu.:0.0000   3rd Qu.:0.0000   3rd Qu.:0.0000   3rd Qu.:0.0000  

 Max.   :5.0000   Max.   :5.0000   Max.   :5.0000   Max.   :5.0000  

                                                                    

<color><param>FFFE,0000,0000</param>The line:</color>

              

sprintf("%s\t%1.0f", missing.data$Hosp..No., missing.data$V1)


<color><param>FFFE,0000,0000</param>always crashes R.


Many thanks,

Paul</color>



--please do not edit the information below--


Version:

 platform = ppc-apple-macos

 arch = ppc

 os = MacOS

 system = ppc, MacOS

 status = 

 major = 1

 minor = 5.1

 year = 2002

 month = 06

 day = 17

 language = R


Search Path:

 .GlobalEnv, package:survival, package:ctest, Autoloads, package:base


Dr. P. B. Pynsent,

Research and Teaching Centre,

Royal orthopaedic Hospital,

Birmingham, B31 2AP, U.K.


--Apple-Mail-2--133200961--


From murdoch@stats.uwo.ca  Tue Nov 26 14:29:09 2002
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Tue, 26 Nov 2002 09:29:09 -0500
Subject: [Rd] Re: unique()
In-Reply-To: <Pine.GSO.4.42.0211260844200.20783-100000@elios>
References: <Pine.GSO.4.42.0211260844200.20783-100000@elios>
Message-ID: <3i07uus8o4b5sq8qag074s4gd3pvv1kbqb@4ax.com>

On Tue, 26 Nov 2002 08:48:37 +0000 (GMT), Peter Green  wrote in
message <Pine.GSO.4.42.0211260844200.20783-100000@elios>:

>Hi, Duncan,
>
>Just a quick query/grumble.... I've just noticed that
>the operation of unique() on arrays changed somewhere
>between Rw1041 and 1061 - pity, as I had been relying on the old
>action (treat the argument as a vector) in some code.
>I didn't notice it mentioned in any 'changes' documents.

It was mentioned in the 1.6.0 news file:

>   o   duplicated() and unique() have methods for matrices and arrays
>       (based on ideas from Jens Oehlschlgel).

There was a hint this was coming in the 1.4.0 news:

>    o   duplicated() and unique() are now generic functions with
>        methods for data frames (as well as atomic vectors).

You can get the old behaviour for arrays by unique(as.vector(x))
instead of unique(x), as you've probably figured out.

I wonder if there could be a mechanism that would warn about things
like this?  E.g. instead of a flat news file that you have to read all
through, maybe a database of changes, and a tool that could look
through your code and spot things whose usage had changed?
I think maintaining the accuracy of the database would be hard.

Duncan


From tlumley@u.washington.edu  Tue Nov 26 16:46:41 2002
From: tlumley@u.washington.edu (tlumley@u.washington.edu)
Date: Tue, 26 Nov 2002 17:46:41 +0100 (MET)
Subject: [Rd] sprintf crash (PR#2327)
Message-ID: <200211261646.RAA11622@pubhealth.ku.dk>


>2) Under MacOS 10.2.2. Given the following dataset:
>
> > summary(missing.data)
>    Hosp..No.                   Category      Offset        Side
>  r060093:  4   F Post op 0.5 year  :62   Min.   :-5.8333   L: 63
>  r023250:  3   E Pre op 0.5 year   :54   1st Qu.:-0.4167   R:141
>  r026316:  3   H Post op 1.5 years :44   Median : 7.7083
>  r032583:  3   G Post op 1 year    :41   Mean   :14.2623
>  r036827:  3   I Post op 2 years   : 3   3rd Qu.:27.0833
>  r055869:  3   A Pre op > 2.5 years: 0   Max.   :47.6667
>  (Other):185   (Other)             : 0
 <snip>
>The line:
>
>sprintf("%s\t%1.0f", missing.data$Hosp..No., missing.data$V1)
>
>always crashes R.

 Yes, that's because  missing.data$Hosp..No. isn't a string, it's a
factor.  In R 1.6.0 this gives an error rather than a crash.

You probably want

  sprintf("%s\t%1.0f", as.character(missing.data$Hosp..No.),
	missing.data$V1)



	-thomas


From jago@mclink.it  Tue Nov 26 16:56:35 2002
From: jago@mclink.it (Stefano Iacus)
Date: Tue, 26 Nov 2002 17:56:35 +0100
Subject: [Rd] sprintf crash (PR#2327)
In-Reply-To: <200211261646.RAA11622@pubhealth.ku.dk>
Message-ID: <058442A6-0160-11D7-84DB-003065CC4CB8@mclink.it>

On Tuesday, November 26, 2002, at 05:46 PM, tlumley@u.washington.edu 
wrote:

>
>
>> 2) Under MacOS 10.2.2. Given the following dataset:
>>
>>> summary(missing.data)
>>    Hosp..No.                   Category      Offset        Side
>>  r060093:  4   F Post op 0.5 year  :62   Min.   :-5.8333   L: 63
>>  r023250:  3   E Pre op 0.5 year   :54   1st Qu.:-0.4167   R:141
>>  r026316:  3   H Post op 1.5 years :44   Median : 7.7083
>>  r032583:  3   G Post op 1 year    :41   Mean   :14.2623
>>  r036827:  3   I Post op 2 years   : 3   3rd Qu.:27.0833
>>  r055869:  3   A Pre op > 2.5 years: 0   Max.   :47.6667
>>  (Other):185   (Other)             : 0
>  <snip>
>> The line:
>>
>> sprintf("%s\t%1.0f", missing.data$Hosp..No., missing.data$V1)
>>
>> always crashes R.
>
>  Yes, that's because  missing.data$Hosp..No. isn't a string, it's a
> factor.  In R 1.6.0 this gives an error rather than a crash.
>
> You probably want
>
>   sprintf("%s\t%1.0f", as.character(missing.data$Hosp..No.),
> 	missing.data$V1)
>
>
>
> 	-thomas
>

yes, also

sprintf("%s\t%1.0f", levels(missing.data$Hosp..No.), missing.data$V1)

will work


From jfox@mcmaster.ca  Wed Nov 27 03:27:55 2002
From: jfox@mcmaster.ca (John Fox)
Date: Tue, 26 Nov 2002 22:27:55 -0500
Subject: [Rd] Problems with dialog boxes etc. in XEmacs/ESS for Windows
Message-ID: <5.1.0.14.2.20021126220550.01de6998@mcmail.cis.mcmaster.ca>

Dear list members,

I'm experiencing a variety of intermittent problems with GUI-related 
commands (e.g., for dialog boxes and graphics-device windows) in R for 
Windows running under XEmacs/ESS. I'm using version 1.6.1 of R, version 
21.4.9 of XEmacs, version 1.02 of ESS, and various versions of Windows, 
including 2000, 95, and 98SE.

The problems don't occur in every circumstance, but they are reproducible 
to a degree. For example, if upon opening an R-process buffer under ESS on 
a Windows 95 machine, I immediately issue the command

winDialog("ok", "test")

no dialog opens, and the R process hangs. The same command works OK in the 
same situation on several Windows 2000 systems, and also works later in a 
session under Windows 95. Similarly, on Windows 2000, I find that the "File 
-> Save as" menu item in graphics-device windows doesn't work (nothing 
happens when the item is selected), but the "File -> Copy to the clipboard" 
menu item does work.

All of the GUI-related functions appear to work fine when I run rterm.exe 
directly at the command prompt, rather than through ESS.

I wonder whether anyone understands why these things are happening and, if 
so, whether there's a solution. (I can furnish more details if that would 
help.)

Thanks,
  John
-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox@mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------


From ripley@stats.ox.ac.uk  Wed Nov 27 07:43:05 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 27 Nov 2002 07:43:05 +0000 (GMT)
Subject: [Rd] Re: [R] further on ESS/XEmacs for Windows
In-Reply-To: <87vg2jzm6v.fsf@jeeves.blindglobe.net>
Message-ID: <Pine.LNX.4.31.0211270730250.20092-100000@gannet.stats>

[Moved to R-devel, as this is going to get technical and is already a
minority interest.]

On 26 Nov 2002, A.J. Rossini wrote:

> >>>>> "john" == John Fox <jfox@mcmaster.ca> writes:
>
>
>     john> (2) I spent a good part of the day today trying XEmacs and ESS on a
>     john> variety of Windows systems -- with and without my configuration
>     john> files. I noticed a number of intermittent problems with GUI-related
>     john> commands, such as attempts to open dialog boxes causing the R process
>     john> to freeze. I'll try to track down the source of these problems.
>
> I'm not sure what the status of these is -- I do know that some people
> I trust have wondered how the heck R even works under (X)Emacs on
> Windows (issues arising with systems interfacing, blocking calls, and
> similar "stuff").

That's right!  rterm used directly uses a separate thread for input to
avoid it blocking (not processing Windows events) whilst waiting for
input.  rterm used by ESS is effectively used in batch mode: it was never
the intention that the GUI interactions should work.

Guido and I once (in 2000) discussed a way out using a supervisor thread,
and Guido implemented it (although I never saw the code),  He said it
worked under NT but not Win98.  That's the real problem -- supporting
low-end versions of Windows which do not behave as documented, when the
developers (then) were only using NT/2000.  On Unix one uses select() and
since we have since made that work to support url/socket connections it
would be possible to try to use that.  However, it would be a lot of work
to provide something that the main developers would never use, and we
remain desperately short of contributions by users of R on Windows.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From nklepeis@uclink.berkeley.edu  Fri Nov  1 08:06:11 2002
From: nklepeis@uclink.berkeley.edu (nklepeis@uclink.berkeley.edu)
Date: Fri, 1 Nov 2002 09:06:11 +0100 (MET)
Subject: Inconsistent results with %in% (PR#2244)
Message-ID: <200211010806.JAA03783@pubhealth.ku.dk>

Full_Name: Neil Klepeis
Version: 1.6.0
OS: Redhat Linux 7.3
Submission from: (NULL) (165.247.212.88)


%in% does not work properly for some numeric values as shown here:
> 1.253 %in% seq(1.1,1.3,by=0.001)
[1] FALSE
> 1.252 %in% seq(1.1,1.3,by=0.001)
[1] TRUE
> 1.254 %in% seq(1.1,1.3,by=0.001)
[1] TRUE 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From nklepeis@uclink4.berkeley.edu  Fri Nov  1 19:22:09 2002
From: nklepeis@uclink4.berkeley.edu (nklepeis@uclink4.berkeley.edu)
Date: Fri, 1 Nov 2002 20:22:09 +0100 (MET)
Subject: (PR#2244)
Message-ID: <200211011922.UAA10666@pubhealth.ku.dk>

Not a bug.  Please ignore this bug report.  It was a premature entry 
after a frustrating night :).

-- 
______________________________________________________
Neil E. Klepeis, UC Berkeley, School of Public Health,
and Lawrence Berkeley National Laboratory,


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rpeng@stat.ucla.edu  Fri Nov  1 23:06:52 2002
From: rpeng@stat.ucla.edu (Roger Peng)
Date: Fri, 1 Nov 2002 15:06:52 -0800 (PST)
Subject: seemingly random "nesting of readline input" warnings
Message-ID: <Pine.GSO.4.10.10211011457530.255-100000@fisher.stat.ucla.edu>

Recently, while using R-patched and now R-1.6.1 (on RedHat Linux 7.1) I've
been getting the following warning in the course of everyday activity:

[... some R activity ...]

In addition: Warning message: 
An unusual circumstance has arisen in the nesting of readline input.
Please report using bug.report() 
>

The warning is difficult to reproduce because it seems to appear at random
times, usually after I enter about 100 or so commands into the console.

I noticed that the function which produces this warning, `pushReadline' in
src/unix/sys-std.c, was modified on October 16, 2002 in regards to bug
report PR#2165.  I can't tell if this change is the source of the warning
bit I don't ever recall seeing this warning on earlier versions.

I build R from source using the readline-devel-4.1-9 package which came
with my system.

> version
         _                
platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    6.1              
year     2002             
month    11               
day      01               
language R                


-roger
_______________________________
UCLA Department of Statistics
rpeng@stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sat Nov  2 00:35:02 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 Nov 2002 01:35:02 +0100
Subject: seemingly random "nesting of readline input" warnings
In-Reply-To: <Pine.GSO.4.10.10211011457530.255-100000@fisher.stat.ucla.edu>
References: <Pine.GSO.4.10.10211011457530.255-100000@fisher.stat.ucla.edu>
Message-ID: <x28z0coll5.fsf@biostat.ku.dk>

Roger Peng <rpeng@stat.ucla.edu> writes:

> Recently, while using R-patched and now R-1.6.1 (on RedHat Linux 7.1) I've
> been getting the following warning in the course of everyday activity:
> 
> [... some R activity ...]
> 
> In addition: Warning message: 
> An unusual circumstance has arisen in the nesting of readline input.
> Please report using bug.report() 
> >
> 
> The warning is difficult to reproduce because it seems to appear at random
> times, usually after I enter about 100 or so commands into the console.
> 
> I noticed that the function which produces this warning, `pushReadline' in
> src/unix/sys-std.c, was modified on October 16, 2002 in regards to bug
> report PR#2165.  I can't tell if this change is the source of the warning
> bit I don't ever recall seeing this warning on earlier versions.
> 
> I build R from source using the readline-devel-4.1-9 package which came
> with my system.

Hmm. We haven't heard that one before... The way this stuff is done,
there's always a risk that you end up with more pushes than pops. As
far as I remember the change, it was a pretty simple index off-by-one
thing, and clearly needed fixing on 64-bit systems, but you never know. 

If you get a bit closer to what exactly you need to do to trigger this
please let us know. It might be something involving non-local returns,
i.e. error conditions or hittin ctr-C. One thing you could do fairly
easily would be to run R with the debugger: "R -d gdb", set a
breakpoint at the warning, and tell us whether it's
ReadlineStack.current that is getting too large or perhaps
ReadlineStack.max getting zeroed by something.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rpeng@stat.ucla.edu  Sat Nov  2 02:02:55 2002
From: rpeng@stat.ucla.edu (Roger Peng)
Date: Fri, 1 Nov 2002 18:02:55 -0800 (PST)
Subject: seemingly random "nesting of readline input" warnings
In-Reply-To: <x28z0coll5.fsf@biostat.ku.dk>
Message-ID: <Pine.GSO.4.10.10211011751430.255-100000@fisher.stat.ucla.edu>

Okay, I think I can reproduce this warning:  I startup R --vanilla,
then type Ctrl-C 11 times.  On my machine (RedHat Linux 7.1, Athlon 1.2Ghz
chip) the 11th Ctrl-C produces the warning.  Again, this is R 1.6.1.

When I ran R in gdb I set a break point at line 393 of src/unix/sys-std.c.
It got triggered after the 10th Ctrl-C and when I printed ReadlineStack, I
got

Breakpoint 1, pushReadline (prompt=0x8255dd8 "> ", 
    f=0x813ed70 <readline_handler>) at sys-std.c:393
393          warning("An unusual circumstance has arisen in the nesting of
readline input. Please report using bug.report()");

(gdb) print ReadlineStack
$4 = {current = 9, max = 9, fun = {0x813ed70 <readline_handler>, 
    0x813ed70 <readline_handler>, 0x813ed70 <readline_handler>, 
    0x813ed70 <readline_handler>, 0x813ed70 <readline_handler>, 
    0x813ed70 <readline_handler>, 0x813ed70 <readline_handler>, 
    0x813ed70 <readline_handler>, 0x813ed70 <readline_handler>, 
    0x813ed70 <readline_handler>}}

I hope this helps.

-roger
_______________________________
UCLA Department of Statistics
rpeng@stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On 2 Nov 2002, Peter Dalgaard BSA wrote:

> Roger Peng <rpeng@stat.ucla.edu> writes:
> 
> > Recently, while using R-patched and now R-1.6.1 (on RedHat Linux 7.1) I've
> > been getting the following warning in the course of everyday activity:
> > 
> > [... some R activity ...]
> > 
> > In addition: Warning message: 
> > An unusual circumstance has arisen in the nesting of readline input.
> > Please report using bug.report() 
> > >
> > 
> > The warning is difficult to reproduce because it seems to appear at random
> > times, usually after I enter about 100 or so commands into the console.
> > 
> > I noticed that the function which produces this warning, `pushReadline' in
> > src/unix/sys-std.c, was modified on October 16, 2002 in regards to bug
> > report PR#2165.  I can't tell if this change is the source of the warning
> > bit I don't ever recall seeing this warning on earlier versions.
> > 
> > I build R from source using the readline-devel-4.1-9 package which came
> > with my system.
> 
> Hmm. We haven't heard that one before... The way this stuff is done,
> there's always a risk that you end up with more pushes than pops. As
> far as I remember the change, it was a pretty simple index off-by-one
> thing, and clearly needed fixing on 64-bit systems, but you never know. 
> 
> If you get a bit closer to what exactly you need to do to trigger this
> please let us know. It might be something involving non-local returns,
> i.e. error conditions or hittin ctr-C. One thing you could do fairly
> easily would be to run R with the debugger: "R -d gdb", set a
> breakpoint at the warning, and tell us whether it's
> ReadlineStack.current that is getting too large or perhaps
> ReadlineStack.max getting zeroed by something.
> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sat Nov  2 09:23:23 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 Nov 2002 10:23:23 +0100
Subject: seemingly random "nesting of readline input" warnings
In-Reply-To: <Pine.GSO.4.10.10211011751430.255-100000@fisher.stat.ucla.edu>
References: <Pine.GSO.4.10.10211011751430.255-100000@fisher.stat.ucla.edu>
Message-ID: <x24rb0nx4k.fsf@biostat.ku.dk>

Roger Peng <rpeng@stat.ucla.edu> writes:

> Okay, I think I can reproduce this warning:  I startup R --vanilla,
> then type Ctrl-C 11 times.  On my machine (RedHat Linux 7.1, Athlon 1.2Ghz
> chip) the 11th Ctrl-C produces the warning.  Again, this is R 1.6.1.
> 
> When I ran R in gdb I set a break point at line 393 of src/unix/sys-std.c.
> It got triggered after the 10th Ctrl-C and when I printed ReadlineStack, I
> got
> 
> Breakpoint 1, pushReadline (prompt=0x8255dd8 "> ", 
>     f=0x813ed70 <readline_handler>) at sys-std.c:393
> 393          warning("An unusual circumstance has arisen in the nesting of
> readline input. Please report using bug.report()");
> 
> (gdb) print ReadlineStack
> $4 = {current = 9, max = 9, fun = {0x813ed70 <readline_handler>, 
>     0x813ed70 <readline_handler>, 0x813ed70 <readline_handler>, 
>     0x813ed70 <readline_handler>, 0x813ed70 <readline_handler>, 
>     0x813ed70 <readline_handler>, 0x813ed70 <readline_handler>, 
>     0x813ed70 <readline_handler>, 0x813ed70 <readline_handler>, 
>     0x813ed70 <readline_handler>}}
> 
> I hope this helps.

Argh. Yes, the ReadlineStack.current needs to be reset to zero by
something when you break out. A pragmatic temporary fix is to increase
the maximum to be large enough that you don't bump into it this
easily.

Duuuuncan! Come and fix this!

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kyari_bundi@lycos.com  Sat Nov  2 12:59:20 2002
From: kyari_bundi@lycos.com (BUNDI KYARI)
Date: Sat, 02 Nov 2002 12:59:20
Subject: Urgent Assistance
Message-ID: <200211021159.gA2BxLxA026901@hypatia.math.ethz.ch>

FROM:BUNDI KYARI.

TEL:

E-mail: kyaribundi@netscape.net

AMSTERDAM THE NETHERLANDS.

Dear sir,                            

compliment of the day, I am BUNDI KYARI, The son of late General Kubwa Kyari of the Democratic Republic of Congo.

My father was a General in the Congolese Army. In his position (My father) with the office of the presidentcy during the regime of Laurent Kabila, he was assigned on a secret mission to source and acquire arms internationally in order to strengthen the Government forces against the rebels, which already had the support of Rwandan and Uganda Army.

Meanwhile, he was still negotiating for the purchase of the arms, he received on the 16th January 2001 news of the assassination of Laurent Kabila which force him to call off the assignment and deposited the sum of US$12.5M, Packed in a diplomatic case in a private security company in the Amsterdam, the Netherlands, though he registered the content as precious stones while the real content is (US12.5M) meant for the purchase of arms for the Congolese Army.

My father went home for the funeral of the late president, but on his arrival he was arrested, detained and tortured, unfortunately my father suffer cardiac arrest and died on the 17th of March 2001. However, on one of our numerous visits, my mother and I paid him while in prison, my father was able to reveal this secret to me and advice that i should proceed to the Netherlands to claim the money, he handed me all the relevant documents that will enable me claim the box from the security company. Already, I have made my first visit to the security company and the availability of this box have been confirmed.

On our arrival in the Netherlands few months ago, we sought for political asylum; which was granted. My mother and I are making frantic effort on the best way to handle this money. We sought advice from an attorney who advised that we must seek for a trustworthy foreign business partner whom this money could be transferred into his/her (company"s)  account  This we view as the best option because our refugee status dose not permit us to operate a bank account, hence we seek your assistance and hope you could be trusted.

I got your contact from the commercial section of the congolese embassy in Belgium.Meanwhile, I sincerely ask for your assistance to get this money through your account, Your share for assisting us will be 25% of the total sum, 5% will be use for upsetting all the expenses incurred in the course of concluding this venture and the remaining 70% that will be for me and my family. Also you stand to gain from any investment you might introduce us into after the conclusion of the transfer.

Please keep this confidential until we finalize and get this money into your account for security reasons.

This is my e-mail address you can reach me: kyaribundi@netscape.net

Thanks and GOD bless

MR, BUNDI KYARI. 




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@stat.uiowa.edu  Sat Nov  2 16:11:37 2002
From: luke@stat.uiowa.edu (Luke Tierney)
Date: Sat, 2 Nov 2002 10:11:37 -0600 (CST)
Subject: seemingly random "nesting of readline input" warnings
In-Reply-To: <x24rb0nx4k.fsf@biostat.ku.dk>
Message-ID: <Pine.LNX.4.44.0211021007340.20950-100000@nokomis2.stat.umn.edu>

On 2 Nov 2002, Peter Dalgaard BSA wrote:

> Argh. Yes, the ReadlineStack.current needs to be reset to zero by
> something when you break out. A pragmatic temporary fix is to increase
> the maximum to be large enough that you don't bump into it this
> easily.
> 
> Duuuuncan! Come and fix this!
> 

Looks like another case where our expedient but unfortunately too
crude approach of handling Control-C on UNIX-likes with longjmp is
biting us.  We really do need to bite the bullet and fix this properly.
Maybe Duncan and I can coordinate getting a handle on this.

luke

-- 
Luke Tierney
University of Iowa                  Phone:             319-335-3386
Department of Statistics and        Fax:               319-335-3017
   Actuarial Science
241 Schaeffer Hall                  email:      luke@stat.uiowa.edu
Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Nov  3 19:52:58 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 3 Nov 2002 19:52:58 +0000 (GMT)
Subject: (PR#2003) bug in SJava
In-Reply-To: <200210311542.QAA00373@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0211031923060.15468-100000@gannet.stats>

There is no function `getHome' in the R sources.

There is a function getRHOME(), but that is not part of the documented
interface (front-ends/readme).  If SJava is calling getRHOME, it needs to
be modified to just use the documented interface.

getRHOME has not been modified since 1999, BTW.

On Thu, 31 Oct 2002 grimm.heinz@rcc.ch wrote:

> This is a multi-part message in MIME format.
> --------------0E780EA27B8B71828A93900D
> Content-Type: text/plain; charset=us-ascii
> Content-Transfer-Encoding: 7bit
>
> Ok, I try to explain the problem better:
>
> getHome() uses now "GetModuleFileName()" to determine
> the R home-directory. "GetModuleFileName()" doesn't check
> the R_HOME environment setting, instead it returns the
> path of the .EXE, that started R, which is usually located in
> $R_HOME/bin. If R is invoked via Java, "GetModuleFileName()"
> returns $JDK_HOME/jre/bin instead of $R_HOME/bin and
> the function "getRHome()" returns $JDK_HOME/jre...
>
> My suggestion is just to rely on $R_HOME, instead of
> using "GetModuleFileName()", because all "xxx calls R"
> packages will have similar problems. I added in my sample
> fix the check for $RHOME, since SJava does the same,
> may be this is historical, just ignore it...
>
> Heinz Grimm

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From wex00002@uconn.edu  Sun Nov  3 22:38:21 2002
From: wex00002@uconn.edu (wex00002@uconn.edu)
Date: Sun, 3 Nov 2002 23:38:21 +0100 (MET)
Subject: Ansari-Bradley test (PR#2252)
Message-ID: <200211032238.XAA16125@pubhealth.ku.dk>

Full_Name: Wei Xu
Version: 1.5.1
OS: WindowsME
Submission from: (NULL) (63.215.238.92)


The P-value for a two.sided test is not consistent with the confidence
interval.
For example, P-value=0.1372, but the 95% CI doesn't include the H0 value(1).

> x
 [1] 0.80 0.83 1.89 1.04 1.45 1.38 1.91 1.64 0.73 1.46
> y
[1] 1.15 0.88 0.90 0.74 1.21
> ansari.test(x,y,alternative="two.sided",conf.int=TRUE,conf.level=0.95)

        Ansari-Bradley test

data:  x and y 
AB = 36, p-value = 0.1372
alternative hypothesis: true ratio of scales is not equal to 1 
95 percent confidence interval:
 1.081081 2.581081 
sample estimates:
ratio of scales 
       1.972973 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From wolfram@fischer-zim.ch  Mon Nov  4 09:19:45 2002
From: wolfram@fischer-zim.ch (wolfram@fischer-zim.ch)
Date: Mon, 4 Nov 2002 10:19:45 +0100 (MET)
Subject: [R] CTRL-C suspends echo of shell (R versions 1.6.0 and 1.6.1) (PR#2253)
Message-ID: <200211040919.KAA18590@pubhealth.ku.dk>

Problem:
- Shell does not echo anymore 
  after using CTRL-C (to interrupt calculations)
  once during a R session.

Procedure:
- [start session]  R
- [input]          CTRL-C
- [end session]    q()


Some details:
- `stty` before: speed 38400 baud; line = 0; lnext = <undef>;

- `stty` after: speed 38400 baud; line = 0; lnext = <undef>; min = 1; time = 0;
    -icrnl
    -icanon -echo

I have seen the problem in versions 1.6.0 and 1.6.1, but not in 1.5.1
which I am running on SuSE Linux 7.3. The shell used is bash-2.05.0(1).


Wolfram Fischer

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Nov  4 09:58:53 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Nov 2002 10:58:53 +0100
Subject: [R] CTRL-C suspends echo of shell (R versions 1.6.0 and 1.6.1) (PR#2253)
In-Reply-To: <200211040919.KAA18590@pubhealth.ku.dk>
References: <200211040919.KAA18590@pubhealth.ku.dk>
Message-ID: <x2y989bqqq.fsf@biostat.ku.dk>

wolfram@fischer-zim.ch writes:

> Problem:
> - Shell does not echo anymore 
>   after using CTRL-C (to interrupt calculations)
>   once during a R session.
> 
> Procedure:
> - [start session]  R
> - [input]          CTRL-C
> - [end session]    q()
> 
> 
> Some details:
> - `stty` before: speed 38400 baud; line = 0; lnext = <undef>;
> 
> - `stty` after: speed 38400 baud; line = 0; lnext = <undef>; min = 1; time = 0;
>     -icrnl
>     -icanon -echo
> 
> I have seen the problem in versions 1.6.0 and 1.6.1, but not in 1.5.1
> which I am running on SuSE Linux 7.3. The shell used is bash-2.05.0(1).

Seen here too, but I actually thought it took more to provoke it.
Blind-enter "stty sane" to revert.

(Might this be related to the readline stack issue?)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From B.Rowlingson@lancaster.ac.uk  Mon Nov  4 13:03:32 2002
From: B.Rowlingson@lancaster.ac.uk (Barry Rowlingson)
Date: Mon, 04 Nov 2002 13:03:32 +0000
Subject: longjmp - was: seemingly random "nesting of readline input" warnings
References: <Pine.LNX.4.44.0211021007340.20950-100000@nokomis2.stat.umn.edu>
Message-ID: <3DC67024.1020203@lancaster.ac.uk>

Luke Tierney wrote:

> Looks like another case where our expedient but unfortunately too
> crude approach of handling Control-C on UNIX-likes with longjmp is
> biting us.  We really do need to bite the bullet and fix this properly.
> Maybe Duncan and I can coordinate getting a handle on this.

  please do! It still affects Mosix systems, since the signal handling 
in longjmp causes a system call on the home machine. Mosix tries to 
migrate processes to less-loaded machines, but R's constant setjmp'ing 
means the processes get stuck on the machines where they are started from.

  When I install a new version of R on our mosix cluster, I also compile 
a binary with setjmp/longjmp defined as the versions that do not 
preserve signal state. This produces a binary that migrates better under 
Mosix but has broken Ctrl-C handling. I then alter the R script so that 
my modified binary runs if and only if you do "R BATCH". Seems a fair 
solution at the moment.

  Barry Rowlingson
  Maths and Stats
  Lancaster University

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gregory_r_warnes@groton.pfizer.com  Mon Nov  4 13:41:03 2002
From: gregory_r_warnes@groton.pfizer.com (Warnes, Gregory R)
Date: Mon, 4 Nov 2002 08:41:03 -0500
Subject: longjmp - was: seemingly random "nesting of readline input" w
 arnings
Message-ID: <D7A3CFD7825BD6119B880002A58F06C20149D189@groexmb02.pfizer.com>

Barry,

Would you mind providing the necessary patch for this behavior?

Thanks,

Greg

> -----Original Message-----
> From: Barry Rowlingson [mailto:B.Rowlingson@lancaster.ac.uk]
> Sent: Monday, November 04, 2002 8:04 AM
> To: r-devel@stat.math.ethz.ch
> Subject: Re: longjmp - was: seemingly random "nesting of 
> readline input"
> warnings
> 
> 
> Luke Tierney wrote:
> 
> > Looks like another case where our expedient but unfortunately too
> > crude approach of handling Control-C on UNIX-likes with longjmp is
> > biting us.  We really do need to bite the bullet and fix 
> this properly.
> > Maybe Duncan and I can coordinate getting a handle on this.
> 
>   please do! It still affects Mosix systems, since the signal 
> handling 
> in longjmp causes a system call on the home machine. Mosix tries to 
> migrate processes to less-loaded machines, but R's constant 
> setjmp'ing 
> means the processes get stuck on the machines where they are 
> started from.
> 
>   When I install a new version of R on our mosix cluster, I 
> also compile 
> a binary with setjmp/longjmp defined as the versions that do not 
> preserve signal state. This produces a binary that migrates 
> better under 
> Mosix but has broken Ctrl-C handling. I then alter the R 
> script so that 
> my modified binary runs if and only if you do "R BATCH". Seems a fair 
> solution at the moment.
> 
>   Barry Rowlingson
>   Maths and Stats
>   Lancaster University
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From B.Rowlingson@lancaster.ac.uk  Mon Nov  4 13:47:58 2002
From: B.Rowlingson@lancaster.ac.uk (Barry Rowlingson)
Date: Mon, 04 Nov 2002 13:47:58 +0000
Subject: longjmp
References: <D7A3CFD7825BD6119B880002A58F06C20149D189@groexmb02.pfizer.com>
Message-ID: <3DC67A8E.5080700@lancaster.ac.uk>

Warnes, Gregory R wrote:

> Would you mind providing the necessary patch for this behavior?

  Here's the patch, in 'how-to-do-it' format:

1. Get, compile, check, install R as usual.

2. Edit $RSRC/src/include/Defn.h to make sure that the following are 
defined:

# define JMP_BUF jmp_buf
# define SETJMP(x) setjmp(x)
# define LONGJMP(x,i) longjmp(x,i)

  and make sure that the 'sig-' versions are undefined. There's probably 
a way of doing it via configure, but its easy enough to tweak this way.

3. Compile, check. Copy generated binary to $RHOME/bin/R-jmp.bin

4. Edit one line in $RHOME/bin/BATCH so it calls R-jmp.bin instead of 
R.bin.

  Voila, one Mosix-enhanced binary that will only react to the first 
Ctrl-C you throw at it, ignoring subsequent ones. However this isnt 
generally a problem when running with R BATCH since its a batch job and 
there's nobody around to throw Ctrl-Cs at it. However, other signal 
handling may be broken, so dont try to control your R BATCH job by 
sending signals to it.

  Only use this if you know what you are doing, and dont expect any help 
from me or any of the R developers if this breaks stuff - check any 
putative bugs with a standard-compiled version first.

Barry Rowlingson
Maths and Stats
Lancaster University, UK


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From B.Rowlingson@lancaster.ac.uk  Mon Nov  4 15:46:27 2002
From: B.Rowlingson@lancaster.ac.uk (Barry Rowlingson)
Date: Mon, 04 Nov 2002 15:46:27 +0000
Subject: R shell integration.
References: <D7A3CFD7825BD6119B880002A58F06C20149D189@groexmb02.pfizer.com> <3DC67A8E.5080700@lancaster.ac.uk>
Message-ID: <3DC69653.8020209@lancaster.ac.uk>


Wouldn't it be nice to be able to do this:

  ./analyse.R -gamma=2 <data.in >data.out

where analyse.R looks like this:

#!/usr/bin/R

gamma <- getopt("gamma")
mydata <- scan(...)

etc?  In other words, be able to write executable R scripts?

  Current problems with this are:

* linux will only execute binaries from #! scripts, so a C-code wrapper 
is needed

* R can only take commands from standard input, so I cant see how to get 
it to read commands _and_ data from standard input. Could a new option 
be added to read commands from a file given on the command line?

* nobody has written a 'getopt' function to format the results of the 
commandArgs() function :)

  - I've already written a (four-line) C wrapper to do the first part, 
and it is an interesting feeling to run R with "./runme.R", but the 
second problem is slightly trickier.

  Is this worth putting any effort into, or did this weekend's fireworks 
burn my brain too much?

Barry


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From mckay@suna.gmr.com  Mon Nov  4 17:57:10 2002
From: mckay@suna.gmr.com (Neil McKay MD)
Date: Mon, 4 Nov 2 12:57:10 EST
Subject: R shell integration.
In-Reply-To: <3DC69653.8020209@lancaster.ac.uk>; from "Barry Rowlingson" at Nov 4, 102 11:37 am
Message-ID: <200211041757.gA4HvAV25802@math.ma.gmr.com>

Barry Rowlinson writes:

> 
> 
> Wouldn't it be nice to be able to do this:
> 
>   ./analyse.R -gamma=2 <data.in >data.out
> 
> where analyse.R looks like this:
> 
> #!/usr/bin/R
> 
> gamma <- getopt("gamma")
> mydata <- scan(...)
> 
> etc?  In other words, be able to write executable R scripts?
> 

I have a patch for R that does exactly this. (Latest version's
for R 1.5.0; haven't upgraded to 1.6 yet.) It turns out that it
only requires a few minor changes to R, plus an additional 100-some
lines of code. It allows me to write things like:

	#!/usr/local/lib/R/bin/R.bin --script

	cat("Hello world!\n")


If anyone's interested in the patches, I'll upgrade them to R 1.6
(which I should do anyway) and give them to you. It would be nice
to have these patches pre-applied to the R sources so I don't have
to maintain them myself. (Hint, hint.)

-- 
Neil D. McKay, Mail Code 480-106-359    Phone: (586)986-1470 (GM:8-226-1470)
Manufacturing Systems Research Lab      FAX:   (586)986-0574 (GM:8-226-0574)
GM Research & Development Center        Internet e-mail: mckay@gmr.com
30500 Mound Road
Warren, Mich. 48090

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From duncan@research.bell-labs.com  Mon Nov  4 18:54:47 2002
From: duncan@research.bell-labs.com (Duncan Temple Lang)
Date: Mon, 4 Nov 2002 13:54:47 -0500
Subject: R shell integration.
In-Reply-To: <200211041757.gA4HvAV25802@math.ma.gmr.com>; from jz0vs8@math.ma.gmr.com on Mon, Nov 04, 2002 at 12:57:10PM -0500
References: <3DC69653.8020209@lancaster.ac.uk> <200211041757.gA4HvAV25802@math.ma.gmr.com>
Message-ID: <20021104135447.F25720@jessie.research.bell-labs.com>

Hi Neil.

I was just thinking about this in the last few days. It might well be
nice to have this and encourage people to think of R as a regular
scripting language as well as an interactive session language. (We
also would want to try to streamline the startup time which is
gradually becoming possible.)

If you send me what you currently have for 1.5.0, I'd be happy to see
if we might include them in R or find a way to provide them as an
optional add-on.  Or if you want to update them for 1.6.1, that would
be great too and save me the trouble.

 D.

Neil McKay MD wrote:
> Barry Rowlinson writes:
> 
> > 
> > 
> > Wouldn't it be nice to be able to do this:
> > 
> >   ./analyse.R -gamma=2 <data.in >data.out
> > 
> > where analyse.R looks like this:
> > 
> > #!/usr/bin/R
> > 
> > gamma <- getopt("gamma")
> > mydata <- scan(...)
> > 
> > etc?  In other words, be able to write executable R scripts?
> > 
> 
> I have a patch for R that does exactly this. (Latest version's
> for R 1.5.0; haven't upgraded to 1.6 yet.) It turns out that it
> only requires a few minor changes to R, plus an additional 100-some
> lines of code. It allows me to write things like:
> 
> 	#!/usr/local/lib/R/bin/R.bin --script
> 
> 	cat("Hello world!\n")
> 
> 
> If anyone's interested in the patches, I'll upgrade them to R 1.6
> (which I should do anyway) and give them to you. It would be nice
> to have these patches pre-applied to the R sources so I don't have
> to maintain them myself. (Hint, hint.)
> 
> -- 
> Neil D. McKay, Mail Code 480-106-359    Phone: (586)986-1470 (GM:8-226-1470)
> Manufacturing Systems Research Lab      FAX:   (586)986-0574 (GM:8-226-0574)
> GM Research & Development Center        Internet e-mail: mckay@gmr.com
> 30500 Mound Road
> Warren, Mich. 48090
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
_______________________________________________________________

Duncan Temple Lang                duncan@research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From duncan@research.bell-labs.com  Mon Nov  4 20:45:13 2002
From: duncan@research.bell-labs.com (Duncan Temple Lang)
Date: Mon, 4 Nov 2002 15:45:13 -0500
Subject: seemingly random "nesting of readline input" warnings
In-Reply-To: <Pine.LNX.4.44.0211021007340.20950-100000@nokomis2.stat.umn.edu>; from luke@stat.uiowa.edu on Sat, Nov 02, 2002 at 10:11:37AM -0600
References: <x24rb0nx4k.fsf@biostat.ku.dk> <Pine.LNX.4.44.0211021007340.20950-100000@nokomis2.stat.umn.edu>
Message-ID: <20021104154512.G25720@jessie.research.bell-labs.com>

Luke Tierney wrote:
> On 2 Nov 2002, Peter Dalgaard BSA wrote:
> 
> > Argh. Yes, the ReadlineStack.current needs to be reset to zero by
> > something when you break out. A pragmatic temporary fix is to increase
> > the maximum to be large enough that you don't bump into it this
> > easily.
> > 
> > Duuuuncan! Come and fix this!
> > 

Done using a local signal handler that pops the readline stack and
then calls the regular handler. This should work for pretty much all
the cases of interest. There are issues with the very unusual cases.

Fix committed to R-devel. (Do we want it also on R-patches?)

> 
> Looks like another case where our expedient but unfortunately too
> crude approach of handling Control-C on UNIX-likes with longjmp is
> biting us.  We really do need to bite the bullet and fix this properly.
> Maybe Duncan and I can coordinate getting a handle on this.

Yes, indeed.

> 
> luke
> 
> -- 
> Luke Tierney
> University of Iowa                  Phone:             319-335-3386
> Department of Statistics and        Fax:               319-335-3017
>    Actuarial Science
> 241 Schaeffer Hall                  email:      luke@stat.uiowa.edu
> Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
_______________________________________________________________

Duncan Temple Lang                duncan@research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Nov  4 21:45:10 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Nov 2002 22:45:10 +0100
Subject: seemingly random "nesting of readline input" warnings
In-Reply-To: <20021104154512.G25720@jessie.research.bell-labs.com>
References: <x24rb0nx4k.fsf@biostat.ku.dk>
 <Pine.LNX.4.44.0211021007340.20950-100000@nokomis2.stat.umn.edu>
 <20021104154512.G25720@jessie.research.bell-labs.com>
Message-ID: <x2r8e157rt.fsf@biostat.ku.dk>

Duncan Temple Lang <duncan@research.bell-labs.com> writes:

> Luke Tierney wrote:
> > On 2 Nov 2002, Peter Dalgaard BSA wrote:
> > 
> > > Argh. Yes, the ReadlineStack.current needs to be reset to zero by
> > > something when you break out. A pragmatic temporary fix is to increase
> > > the maximum to be large enough that you don't bump into it this
> > > easily.
> > > 
> > > Duuuuncan! Come and fix this!
> > > 
> 
> Done using a local signal handler that pops the readline stack and
> then calls the regular handler. This should work for pretty much all
> the cases of interest. There are issues with the very unusual cases.
> 
> Fix committed to R-devel. (Do we want it also on R-patches?)

Eventually, provided it works. Let it ferment in R-devel for a
while till we're sure. Call me paranoid...

Btw, did this fix the noecho-tty-after-exit problem as well?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pchoquet@mat.ulaval.ca  Mon Nov  4 19:03:42 2002
From: pchoquet@mat.ulaval.ca (pchoquet@mat.ulaval.ca)
Date: Mon, 4 Nov 2002 20:03:42 +0100 (MET)
Subject: arima.sim (PR#2256)
Message-ID: <200211041903.UAA26040@pubhealth.ku.dk>

This is a multi-part message in MIME format.

------=_NextPart_000_0016_01C2840A.D3C68F60
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit

Hi,

when just simulating MA(1) series with

arima.sim(100, model=list( ma=0.8 ))

(in the ts package), I get sample ACF and  PACF like I had theta_1 < 0


for example, with acf(series[,i], 20, "correlation") or "partial",
I get : (see acf_R.emf)

and those should look like : (see ma1.JPG)

but they look more like : (see ma1wr.JPG)

This is not an exception and S-PLUS did not appear to do that.
And when I enter a theta_1 < 0, it gives results like I entered a theta_1 >
0.

I have R v1.5.1 ,S-PLUS v6.1


Philippe Choquette

------=_NextPart_000_0016_01C2840A.D3C68F60
Content-Type: application/x-zip-compressed;
	name="graph.zip"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
	filename="graph.zip"

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

------=_NextPart_000_0016_01C2840A.D3C68F60--


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Nov  5 13:21:39 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 5 Nov 2002 13:21:39 +0000 (GMT)
Subject: arima.sim (PR#2256)
In-Reply-To: <200211041903.UAA26040@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0211051319170.9168-100000@gannet.stats>

S-PLUS has an unusual parametrization.

See ?arima for that used by R.

Working as documented is not a bug in R!

On Mon, 4 Nov 2002 pchoquet@mat.ulaval.ca wrote:

> Hi,
>
> when just simulating MA(1) series with
>
> arima.sim(100, model=list( ma=0.8 ))
>
> (in the ts package), I get sample ACF and  PACF like I had theta_1 < 0
>
>
> for example, with acf(series[,i], 20, "correlation") or "partial",
> I get : (see acf_R.emf)
>
> and those should look like : (see ma1.JPG)
>
> but they look more like : (see ma1wr.JPG)
>
> This is not an exception and S-PLUS did not appear to do that.
> And when I enter a theta_1 < 0, it gives results like I entered a theta_1 >
> 0.
>
> I have R v1.5.1 ,S-PLUS v6.1

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From stvjc@channing.harvard.edu  Tue Nov  5 13:31:20 2002
From: stvjc@channing.harvard.edu (Vincent J. Carey, Jr.)
Date: Tue, 5 Nov 2002 08:31:20 -0500 (EST)
Subject: active pdf/annotated visualization RFC
Message-ID: <200211051331.IAA08040@falmouth.bwh.harvard.edu>


How can R users take advantage of the "active PDF" paradigm
for annotation of statistical graphics?  The basic objective
is to take a small number of locations on a graph and
hyperlink them -- add persistent information to the pdf
rendering of the graph so that when the user clicks
on the location, a browser is (started if necessary and) pointed
to a URL specified by the persistent information.

One possibility is to generate pdf graphical documents with the
existing PDF driver in R and use external software to introduce
active links.  We don't know at present what external software
would be useful for this.

Another possibility is to establish a "text" like function for
use with the pdf driver that allows the user to give vectors
of x and y coordinates and a vector of metadata to be bound to the
coordinates as active link targets.

--

This is a request for advice/comments/plans related to
annotated visualizations created with R but exportable to
non-R users.  Other graphical formats and
languages not mentioned here may be relevant and comments
to this effect are welcome.

-- 
---
Vince Carey, PhD
Ass't Prof Med (Biostatistics)
Harvard Medical School
Channing Laboratory - ph 6175252265 fa 6177311541 cell 8572126768
181 Longwood Ave Boston MA 02115 USA

stvjc@channing.harvard.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From B.Rowlingson@lancaster.ac.uk  Tue Nov  5 13:47:50 2002
From: B.Rowlingson@lancaster.ac.uk (Barry Rowlingson)
Date: Tue, 05 Nov 2002 13:47:50 +0000
Subject: active pdf/annotated visualization RFC
References: <200211051331.IAA08040@falmouth.bwh.harvard.edu>
Message-ID: <3DC7CC06.3010105@lancaster.ac.uk>

Vincent J. Carey, Jr. wrote:
> The basic objective
> is to take a small number of locations on a graph and
> hyperlink them -- add persistent information to the pdf
> rendering of the graph so that when the user clicks
> on the location, a browser is (started if necessary and) pointed
> to a URL specified by the persistent information.
>

  I'd save the graphic as a PNG and then use Gimp's Imagemap function to 
  define hyperlink areas on the image. Then Gimp writes out a chunk of 
HTML that you include in a web page.

  Imagemaps are the standard way of making parts of an image clickable, 
and are supported by all graphical browsers, and do not require 
proprietary PDF format documents.

  Here's a sample that displays plot.png and defines a circle that when 
clicked on takes you to 'data.html':

<IMG SRC="plot.png" WIDTH=505 HEIGHT=664 BORDER=0 USEMAP="#map">
<MAP NAME="map">
<AREA SHAPE="CIRCLE" COORDS="67,358,8" HREF="data.html">
</MAP>

  How can we integrate this with R? I guess that HREF's could be added 
to plot commands:

link[1] <- "data1.html" ; link[2] <- "data2.html" ; etc etc

plot(1:10,1:10,href=links)
text(5,5,"Click here for info",href="click.html")

  and then there would be a function that saves a graphic image (PNG 
file) and an HTML MAP specification.

  Blue sky thinking today.

Baz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From wolfram@fischer-zim.ch  Tue Nov  5 14:37:31 2002
From: wolfram@fischer-zim.ch (wolfram@fischer-zim.ch)
Date: Tue, 5 Nov 2002 15:37:31 +0100 (MET)
Subject: [R] grid(): defaults of nx and ny do not correspond with axis() (PR#2259)
Message-ID: <200211051437.PAA05167@pubhealth.ku.dk>

Problem:
    When tick marks are set by axis(), the default grid() does not always
    correspond with the tick marks, although the manual of grid() says:
    nx,ny: ... When `NULL', as per default, the grid aligns with the
           tick marks on the corresponding axis, when `NA', no grid
           lines are drawn in the corresponding direction.


Example:
    m <- 200; n <- 10; i <- 40
    plot( 1:n, sample( 1:m, n, T ), type='b', yaxt='n' )
    axis( side=2, at = seq( 0, m, i ), col='blue' )
    grid( col='red', lty=2 )


Wolfram Fischer

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.murrell@auckland.ac.nz  Wed Nov  6 02:01:59 2002
From: p.murrell@auckland.ac.nz (Paul Murrell)
Date: Wed, 06 Nov 2002 15:01:59 +1300
Subject: active pdf/annotated visualization RFC
References: <200211051331.IAA08040@falmouth.bwh.harvard.edu>
Message-ID: <3DC87817.21B6C5AA@stat.auckland.ac.nz>

Hi

In terms of related plans:  over the (southern) summer I plan to have a
student take a look at producing SVG output from R.  There are many
possibilities for embedding metadata within such output.  

You may want to talk to Naras (Balasubramanian Narasimhan
naras@stat.stanford.edu) who has worked on the SVG stuff a bit already
and has thought a bit about how to include the metadata.

Paul


"Vincent J. Carey, Jr." wrote:
> 
> How can R users take advantage of the "active PDF" paradigm
> for annotation of statistical graphics?  The basic objective
> is to take a small number of locations on a graph and
> hyperlink them -- add persistent information to the pdf
> rendering of the graph so that when the user clicks
> on the location, a browser is (started if necessary and) pointed
> to a URL specified by the persistent information.
> 
> One possibility is to generate pdf graphical documents with the
> existing PDF driver in R and use external software to introduce
> active links.  We don't know at present what external software
> would be useful for this.
> 
> Another possibility is to establish a "text" like function for
> use with the pdf driver that allows the user to give vectors
> of x and y coordinates and a vector of metadata to be bound to the
> coordinates as active link targets.
> 
> --
> 
> This is a request for advice/comments/plans related to
> annotated visualizations created with R but exportable to
> non-R users.  Other graphical formats and
> languages not mentioned here may be relevant and comments
> to this effect are welcome.
> 
> --
> ---
> Vince Carey, PhD
> Ass't Prof Med (Biostatistics)
> Harvard Medical School
> Channing Laboratory - ph 6175252265 fa 6177311541 cell 8572126768
> 181 Longwood Ave Boston MA 02115 USA
> 
> stvjc@channing.harvard.edu
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Dr Paul Murrell
Department of Statistics
The University of Auckland
Private Bag 92019
Auckland
New Zealand
64 9 3737599 x5392
paul@stat.auckland.ac.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Torsten.Hothorn@rzmail.uni-erlangen.de  Wed Nov  6 07:55:16 2002
From: Torsten.Hothorn@rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Wed, 6 Nov 2002 08:55:16 +0100 (MET)
Subject: Ansari-Bradley test (PR#2252)
In-Reply-To: <200211032238.XAA16125@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.21.0211060854300.28834-100000@artemis>



> Full_Name: Wei Xu
> Version: 1.5.1
> OS: WindowsME
> Submission from: (NULL) (63.215.238.92)
> 
> 
> The P-value for a two.sided test is not consistent with the confidence
> interval.
> For example, P-value=0.1372, but the 95% CI doesn't include the H0 value(1).
> 
> > x
>  [1] 0.80 0.83 1.89 1.04 1.45 1.38 1.91 1.64 0.73 1.46
> > y
> [1] 1.15 0.88 0.90 0.74 1.21
> > ansari.test(x,y,alternative="two.sided",conf.int=TRUE,conf.level=0.95)
> 
>         Ansari-Bradley test
> 
> data:  x and y 
> AB = 36, p-value = 0.1372
> alternative hypothesis: true ratio of scales is not equal to 1 
> 95 percent confidence interval:
>  1.081081 2.581081 
> sample estimates:
> ratio of scales 
>        1.972973 
> 

First: sorry for the delay but I was not able to solve this until now. 

Second: well, it is both a bug and a statistical problem, 
`ansari.test' should know about (a version that does is
attached). 

The truth is that x and y are assumed to be "appropriately centered" as
Bauer (1972) states (see the man page for the reference). The model is Y ~
G and X ~ F with

G(x) = F(x / s) (or the other way round ...)

without modelling the "shift". And your example reads

R> x <- c(0.80, 0.83, 1.89, 1.04, 1.45, 1.38, 1.91, 1.64, 0.73, 1.46)
R> y <- c(1.15, 0.88, 0.90, 0.74, 1.21)
R> summary(x)
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
 0.7300  0.8825  1.4150  1.3130  1.5950  1.9100 
R> summary(y)
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
  0.740   0.880   0.900   0.976   1.150   1.210 

so x seems to be larger on average. I think this corresponds to the
Behrens-Fisher problem in some way but I'm not aware of any literature...
The confidence set cannot be computed by inverting the test for your
(raw) data but currently `ansari.test' forces the computation be using 
the extreme values of the possible ratios (which should at least give a
warning).

Now (with ansari.test as attached)

R> print(ansari.test(x-mean(x),y-mean(y), conf.int=TRUE))

        Ansari-Bradley test

data:  x - mean(x) and y - mean(y) 
AB = 37, p-value = 0.2171
alternative hypothesis: true ratio of scales is not equal to 1 
95 percent confidence interval:
 0.6282051 6.0729167 
sample estimates:
ratio of scales 
       2.468075 

is consistent (using the median can cause problems with ties). Using the
mean seems to be ok (I just simulated some situations, I can give you
details if you like).

best,

Torsten

*************************************************************************

ansari.test <- function(x, ...) UseMethod("ansari.test")

# altered with respect to bug report 2252
# and some additional improvements

ansari.test.default <-
function(x, y, alternative = c("two.sided", "less", "greater"),
         exact = NULL, conf.int = FALSE, conf.level = 0.95, ...) 
{
    alternative <- match.arg(alternative)
    if(conf.int) {
        if(!((length(conf.level) == 1)
             && is.finite(conf.level)
             && (conf.level > 0)
             && (conf.level < 1)))
            stop("conf.level must be a single number between 0 and 1")
    }
    DNAME <- paste(deparse(substitute(x)), "and", deparse(substitute(y)))

    x <- x[complete.cases(x)]
    y <- y[complete.cases(y)]
    m <- length(x)
    if(m < 1)
        stop("not enough x observations")
    n <- length(y)
    if(n < 1)
        stop("not enough y observations")
    N <- m + n

    r <- rank(c(x, y))
    STATISTIC <- sum(pmin(r, N - r + 1)[seq(along = x)])
    TIES <- (length(r) != length(unique(r)))

    if(is.null(exact))
        exact <- ((m < 50) && (n < 50))

    if(exact && !TIES) {
        pansari <- function(q, m, n) {
            .C("pansari",
               as.integer(length(q)),
               p = as.double(q),
               as.integer(m),
               as.integer(n),
               PACKAGE = "ctest")$p
        }
        PVAL <-
            switch(alternative,
                   two.sided = {
                       if (STATISTIC > ((m + 1)^2 %/% 4
                                        + ((m * n) %/% 2) / 2))
                           p <- 1 - pansari(STATISTIC - 1, m, n)
                       else
                           p <- pansari(STATISTIC, m, n)
                       min(2 * p, 1)
                   },
                   less = 1 - pansari(STATISTIC - 1, m, n),
                   greater = pansari(STATISTIC, m, n))
        if (conf.int) {
            qansari <- function(p, m, n) {
                .C("qansari",
                   as.integer(length(p)),
                   q = as.double(p), 
                   as.integer(m),
                   as.integer(n),
                   PACKAGE = "ctest")$q
            }
            alpha <- 1 - conf.level
            x <- sort(x)
            y <- sort(y)
            ab <- function(sig) {
                rab <- rank(c(x/sig, y))
                sum(pmin(rab, N - rab + 1)[seq(along = x)])
            }
            ratio <- outer(x,y,"/")
            aratio <- ratio[ratio >= 0]
            sigma <- sort(aratio)

            cci <- function(alpha) {
              u <- absigma - qansari(alpha/2,  m, n) 
              l <- absigma - qansari(1 - alpha/2, m, n) 
              # check if the statistic exceeds both quantiles first
              uci <- NULL
              lci <- NULL                    
              if(length(u[u >= 0]) == 0) {
                  uci <- sigma[1]
                  warning("samples differ in location: confidence set maybe wrong")
              } 
              if (length(l[l > 0]) == 0) {
                  lci <- sigma[length(sigma)]
                  warning("samples differ in location: confidence set maybe wrong")
              }
              if (is.null(uci)) {
                  u[u < 0] <- NA
                  uci <- min(sigma[which(u == min(u, na.rm=TRUE))])
              }
              if (is.null(lci)) {
                  l[l <= 0] <- NA
                  lci <- max(sigma[which(l == min(l, na.rm=TRUE))])
              }
              # the process of the statistics does not need to be monotone
              # in sigma: check this and interchange quantiles.
              if (uci > lci) {
                  l <- absigma - qansari(alpha/2,  m, n)
                  u <- absigma - qansari(1 - alpha/2, m, n)
                  u[u < 0] <- NA
                  uci <- min(sigma[which(u == min(u, na.rm=TRUE))])
                  l[l <= 0] <- NA
                  lci <- max(sigma[which(l == min(l, na.rm=TRUE))])
               }
               c(uci, lci)
            }

            cint <- if(length(sigma) < 1) {
                warning("Cannot compute confidence interval")
                c(NA, NA)
            }
            else {
                # compute statistics directly: computing the steps is not
                # faster
                absigma <- sapply(sigma + c(diff(sigma)/2, sigma[length(sigma)]*1.01), ab)
                switch(alternative, two.sided = {
                    cci(alpha)
                }, greater= {
                    c(cci(alpha*2)[1], Inf)
                }, less= {
                    c(0, cci(alpha*2)[2])
                })
            }
            attr(cint, "conf.level") <- conf.level
            u <- absigma - qansari(0.5, m, n)
            sgr <- sigma[u <= 0]
            if (length(sgr) == 0) sgr <- NA
            else sgr <- max(sgr)
            sle <- sigma[u > 0]
            if (length(sle) == 0) sle <- NA
            else sle <- min(sle)
            ESTIMATE <- mean(c(sle, sgr))
        }
    }
    else {
        EVEN <- ((N %% 2) == 0)
        normalize <- function(s, r, TIES, m=length(x), n=length(y)) {
            z <- if(EVEN)
                s - m * (N + 2)/4
            else
                s - m * (N + 1)^2/(4 * N)
            if (!TIES) {
                SIGMA <- if(EVEN) 
                    sqrt((m * n * (N + 2) * (N - 2))/(48 * (N - 1)))
                else
                    sqrt((m * n * (N + 1) * (3 + N^2))/(48 * N^2))
            }
            else {
                r <- rle(sort(pmin(r, N - r + 1)))
                SIGMA <- if(EVEN) 
                    sqrt(m * n
                         * (16 * sum(r$l * r$v^2) - N * (N + 2)^2)
                         / (16 * N * (N - 1)))
                else
                    sqrt(m * n
                         * (16 * N * sum(r$l * r$v^2) - (N + 1)^4)
                         / (16 * N^2 * (N - 1)))
            }
            z / SIGMA
        }
        p <- pnorm(normalize(STATISTIC, r, TIES))
        PVAL <- switch(alternative,
                       two.sided = 2 * min(p, 1 - p),
                       less = 1 - p,
                       greater = p)
    
        if(conf.int && !exact) {
            alpha <- 1 - conf.level
            ab <- function(sig, zq) {
                r <- rank(c(x / sig, y))
                s <- sum(pmin(r, N -r + 1)[seq(along = x)])
                TIES <- (length(r) != length(unique(r)))
                normalize(s, r, TIES, length(x), length(y)) - zq
            }
            ## use uniroot here
            ## compute the range of sigma first 
            srangepos <- NULL
            srangeneg <- NULL
            if (any(x[x > 0]) && any(y[y > 0]))
                srangepos <- c(min(x[x>0], na.rm=TRUE)/max(y[y>0], na.rm=TRUE), 
                            max(x[x>0], na.rm=TRUE)/min(y[y>0], na.rm=TRUE))
            if (any(x[x <= 0]) && any(y[y < 0]))
                srangeneg <- c(min(x[x<=0], na.rm=TRUE)/max(y[y<0], na.rm=TRUE), 
                            max(x[x<=0], na.rm=TRUE)/min(y[y<0], na.rm=TRUE))
            if (any(is.infinite(c(srangepos, srangeneg)))) {
                warning("cannot compute asymptotic confidence intervals or estimator")
                conf.int <- FALSE
            } else {
                ccia <- function(alpha) {
                    # check if the statistic exceeds both quantiles first
                    statu <- ab(srange[1], zq=qnorm(alpha/2))
                    statl <- ab(srange[2], zq=qnorm(alpha/2, lower=FALSE))
                    if (statu > 0) {
                        u <- srange[1]
                        warning("samples differ in location: confidence set maybe wrong")
                    } else
                        u <- uniroot(ab, srange, tol=1e-4, zq=qnorm(alpha/2))$root
                    if (statl < 0) {
                        l <- srange[2]
                        warning("samples differ in location: confidence set maybe wrong")
                    } else 
                        l <- uniroot(ab, srange, tol=1e-4, zq=qnorm(alpha/2, lower=FALSE))$root
                    # the process of the statistics does not need to be
                    # monotone: sort is ok here
                    sort(c(u, l))
                }
                srange <- range(c(srangepos, srangeneg), na.rm=FALSE)
                cint <- switch(alternative, two.sided = {
                    ccia(alpha)
                }, greater= {
                    c(ccia(alpha*2)[1], Inf)
                }, less= {
                    c(0, ccia(alpha*2)[2])
                })
                attr(cint, "conf.level") <- conf.level
                # check if the statistic exceeds both quantiles first
                statu <- ab(srange[1], zq=0)
                statl <- ab(srange[2], zq=0)
                if (statu > 0 || statl < 0) {
                    ESTIMATE <- NA
                    warning("cannot compute estimate")
                } else
                    ESTIMATE <- uniroot(ab, srange, tol=1e-4, zq=0)$root
            }
        }
        if(exact && TIES) {
            warning("Cannot compute exact p-value with ties")
            if(conf.int)
                warning(paste("Cannot compute exact confidence",
                              "intervals with ties"))
        }
    }
    
    names(STATISTIC) <- "AB"
    RVAL <- list(statistic = STATISTIC,
                 p.value = PVAL,
                 null.value = c("ratio of scales" = 1),
                 alternative = alternative,
                 method = "Ansari-Bradley test",
                 data.name = DNAME)
    if(conf.int)
        RVAL <- c(RVAL,
                  list(conf.int = cint,
                       estimate = c("ratio of scales" = ESTIMATE)))
    class(RVAL) <- "htest"
    return(RVAL)
}

ansari.test.formula <-
function(formula, data, subset, na.action, ...)
{
    if(missing(formula)
       || (length(formula) != 3)
       || (length(attr(terms(formula[-2]), "term.labels")) != 1)
       || (length(attr(terms(formula[-3]), "term.labels")) != 1))
        stop("formula missing or incorrect")
    if(missing(na.action))
        na.action <- getOption("na.action")
    m <- match.call(expand.dots = FALSE)
    if(is.matrix(eval(m$data, parent.frame())))
        m$data <- as.data.frame(data)
    m[[1]] <- as.name("model.frame")
    m$... <- NULL
    mf <- eval(m, parent.frame())
    DNAME <- paste(names(mf), collapse = " by ")
    names(mf) <- NULL
    response <- attr(attr(mf, "terms"), "response")
    g <- factor(mf[[-response]])
    if(nlevels(g) != 2)
        stop("grouping factor must have exactly 2 levels")
    DATA <- split(mf[[response]], g)
    names(DATA) <- c("x", "y")
    y <- do.call("ansari.test", c(DATA, list(...)))
    y$data.name <- DNAME
    y
}

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From louisept@pweh.com  Thu Nov  7 00:47:52 2002
From: louisept@pweh.com (louisept@pweh.com)
Date: Thu, 7 Nov 2002 01:47:52 +0100 (MET)
Subject: rbind (PR#2266)
Message-ID: <200211070047.BAA18798@pubhealth.ku.dk>

Full_Name: Paul Louisell
Version: 1.6.0
OS: Windows NT
Submission from: (NULL) (192.249.47.9)


'rbind' does not work properly when one object is a data frame and the other is
a matrix. See the code below; this is copied directly from an R session. It
appears the objects need to be in the same class for rbind to work correctly.

> test=matrix(1:25, 5, 5)
> test=as.data.frame(test)
> test
  V1 V2 V3 V4 V5
1  1  6 11 16 21
2  2  7 12 17 22
3  3  8 13 18 23
4  4  9 14 19 24
5  5 10 15 20 25
> test1=matrix(-(1:10), 2, 5)
> test1
     [,1] [,2] [,3] [,4] [,5]
[1,]   -1   -3   -5   -7   -9
[2,]   -2   -4   -6   -8  -10
> rbind(test, test1)
  V1 V2 V3 V4 V5
1  1  6 11 16 21
2  2  7 12 17 22
3  3  8 13 18 23
4  4  9 14 19 24
5  5 10 15 20 25
6 -1 -2 -3 -4 -5
> rbind(as.matrix(test), test1)
  V1 V2 V3 V4  V5
1  1  6 11 16  21
2  2  7 12 17  22
3  3  8 13 18  23
4  4  9 14 19  24
5  5 10 15 20  25
  -1 -3 -5 -7  -9
  -2 -4 -6 -8 -10
> rbind(test, as.data.frame(test1))
   V1 V2 V3 V4  V5
1   1  6 11 16  21
2   2  7 12 17  22
3   3  8 13 18  23
4   4  9 14 19  24
5   5 10 15 20  25
11 -1 -3 -5 -7  -9
22 -2 -4 -6 -8 -10


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Nov  7 21:14:24 2002
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 07 Nov 2002 16:14:24 -0500
Subject: checking package version
Message-ID: <3DCAD7B0.9BDB6F68@bank-banque-canada.ca>

I would like to check the version of a package from a running R session. Is
there a recommended/preferred, system independent way to do this?

Paul Gilbert
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dj@research.bell-labs.com  Thu Nov  7 21:44:58 2002
From: dj@research.bell-labs.com (David James)
Date: Thu, 7 Nov 2002 16:44:58 -0500
Subject: checking package version
In-Reply-To: <3DCAD7B0.9BDB6F68@bank-banque-canada.ca>; from pgilbert@bank-banque-canada.ca on Thu, Nov 07, 2002 at 04:14:24PM -0500
References: <3DCAD7B0.9BDB6F68@bank-banque-canada.ca>
Message-ID: <20021107164458.A19968@jessie.research.bell-labs.com>

Paul Gilbert wrote:
> I would like to check the version of a package from a running R session. Is
> there a recommended/preferred, system independent way to do this?

I use 

> package.description("eda", fields="Version")
[1] "1.5.1"

but you may still need to parse the string to get major/minor details.

> 
> Paul Gilbert
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
David A. James
Statistics Research, Room 2C-253            Phone:  (908) 582-3082       
Bell Labs, Lucent Technologies              Fax:    (908) 582-3340
Murray Hill, NJ 09794-0636
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bolker@zoo.ufl.edu  Fri Nov  8 14:05:42 2002
From: bolker@zoo.ufl.edu (Ben Bolker)
Date: Fri, 8 Nov 2002 09:05:42 -0500 (EST)
Subject: behavior of =
Message-ID: <Pine.LNX.4.44.0211080855020.23711-100000@bolker.zoo.ufl.edu>


  I probably didn't follow the discussion of allowing "=" as an assignment 
operator closely enough, but I was a little bit horrified to discover 
today (using 1.6.0; I haven't upgraded to 1.6.1 yet) that

x <- runif(20)
y <- 1:20
y[x=min(x)]

gives numeric(0) (because min(x) is non-integer).

x <- sample(1:20,20,TRUE)
y[x=min(x)]

is even worse -- it gives the "wrong" answer. I know exactly what's going
on here (the = in the subsetting statement above was a typo for ==), and I
should have known better, but I felt like I was programming in C again!

I know that the designers tried to build in safeguards (from the man 
page):

   the `=' is only allowed at the top level (that is, in the complete
   expression typed by the user) or as one of the subexpressions in a 
   braced list of expressions. 

These safeguards don't prevent the mishap shown above.  Is there any way 
to detect this case syntactically (check for assignments inside subsetting 
operations??), or will I just have to train my students to watch out for 
this possibility?

----
318 Carr Hall                                bolker@zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jmc@research.bell-labs.com  Fri Nov  8 14:15:21 2002
From: jmc@research.bell-labs.com (John Chambers)
Date: Fri, 08 Nov 2002 09:15:21 -0500
Subject: behavior of =
References: <Pine.LNX.4.44.0211080855020.23711-100000@bolker.zoo.ufl.edu>
Message-ID: <3DCBC6F9.B83C534C@research.bell-labs.com>

It's a real confusion, but don't blame it on the use of "=" as an
assignment operator.

It's all the fault of having named arguments, which goes way back to the
dawn of time.

What you said (as opposed to what, of course, you meant) was that the
argument called "x" to "[" had the value of min(x).

The clue is that after evaluating the expression, x is unchanged
(distinctly NOT the case for the infamous C equivalent).

R> x <- runif(20)
R> y <- 1:20
R> y[x = min(x)]
numeric(0)
R> x
 [1] 0.1452749 0.4936352 0.7872399 0.4377552 0.4072236 0.4416220
0.4748017
 [8] 0.8523369 0.8870081 0.7401091 0.1480467 0.3367802 0.3825770
0.3596608
[15] 0.1040230 0.6873980 0.2974596 0.9955219 0.3217589 0.2199942

Unfortunately, the implementation of "[" doesn't check argument names
(plausibly a bug).  To see the situation more clearly, use the sort
function, whose first argument is "x".

R> sort(x=min(x))
[1] 0.1040230
which is puzzling, but:

R> sort(y=5)
Error in sort(y = 5) : unused argument(s) (y ...)

All the same, it's a useful example for a "what went wrong" FAQ.


Ben Bolker wrote:
> 
>   I probably didn't follow the discussion of allowing "=" as an assignment
> operator closely enough, but I was a little bit horrified to discover
> today (using 1.6.0; I haven't upgraded to 1.6.1 yet) that
> 
> x <- runif(20)
> y <- 1:20
> y[x=min(x)]
> 
> gives numeric(0) (because min(x) is non-integer).
> 
> x <- sample(1:20,20,TRUE)
> y[x=min(x)]
> 
> is even worse -- it gives the "wrong" answer. I know exactly what's going
> on here (the = in the subsetting statement above was a typo for ==), and I
> should have known better, but I felt like I was programming in C again!
> 
> I know that the designers tried to build in safeguards (from the man
> page):
> 
>    the `=' is only allowed at the top level (that is, in the complete
>    expression typed by the user) or as one of the subexpressions in a
>    braced list of expressions.
> 
> These safeguards don't prevent the mishap shown above.  Is there any way
> to detect this case syntactically (check for assignments inside subsetting
> operations??), or will I just have to train my students to watch out for
> this possibility?
> 
> ----
> 318 Carr Hall                                bolker@zoo.ufl.edu
> Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
> Box 118525                                   (ph)  352-392-5697
> Gainesville, FL 32611-8525                   (fax) 352-392-3704
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
John M. Chambers                  jmc@bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From mschwartz@medanalytics.com  Fri Nov  8 14:53:13 2002
From: mschwartz@medanalytics.com (Marc Schwartz)
Date: Fri, 8 Nov 2002 08:53:13 -0600
Subject: behavior of =
In-Reply-To: <3DCBC6F9.B83C534C@research.bell-labs.com>
Message-ID: <004b01c28736$90df4410$0201a8c0@MARC>

> -----Original Message-----
> From: owner-r-devel@stat.math.ethz.ch 
> [mailto:owner-r-devel@stat.math.ethz.ch] On Behalf Of John Chambers
> Sent: Friday, November 08, 2002 8:15 AM
> To: bolker@zoo.ufl.edu
> Cc: R development mailing list
> Subject: Re: behavior of =
> 
> 
> It's a real confusion, but don't blame it on the use of "=" 
> as an assignment operator.
> 
> It's all the fault of having named arguments, which goes way 
> back to the dawn of time.
> 
> What you said (as opposed to what, of course, you meant) was 
> that the argument called "x" to "[" had the value of min(x).
> 
> The clue is that after evaluating the expression, x is 
> unchanged (distinctly NOT the case for the infamous C equivalent).
> 
> R> x <- runif(20)
> R> y <- 1:20
> R> y[x = min(x)]
> numeric(0)
> R> x
>  [1] 0.1452749 0.4936352 0.7872399 0.4377552 0.4072236 
> 0.4416220 0.4748017  [8] 0.8523369 0.8870081 0.7401091 
> 0.1480467 0.3367802 0.3825770 0.3596608 [15] 0.1040230 
> 0.6873980 0.2974596 0.9955219 0.3217589 0.2199942
> 
> Unfortunately, the implementation of "[" doesn't check 
> argument names (plausibly a bug).  To see the situation more 
> clearly, use the sort function, whose first argument is "x".
> 
> R> sort(x=min(x))
> [1] 0.1040230
> which is puzzling, but:
> 
> R> sort(y=5)
> Error in sort(y = 5) : unused argument(s) (y ...)
> 
> All the same, it's a useful example for a "what went wrong" FAQ.
> 
> 
> Ben Bolker wrote:
> > 
> >   I probably didn't follow the discussion of allowing "=" as an 
> > assignment operator closely enough, but I was a little bit 
> horrified 
> > to discover today (using 1.6.0; I haven't upgraded to 1.6.1 
> yet) that
> > 
> > x <- runif(20)
> > y <- 1:20
> > y[x=min(x)]
> > 
> > gives numeric(0) (because min(x) is non-integer).
> > 
> > x <- sample(1:20,20,TRUE)
> > y[x=min(x)]
> > 
> > is even worse -- it gives the "wrong" answer. I know exactly what's 
> > going on here (the = in the subsetting statement above was 
> a typo for 
> > ==), and I should have known better, but I felt like I was 
> programming 
> > in C again!
> > 
> > I know that the designers tried to build in safeguards (from the man
> > page):
> > 
> >    the `=' is only allowed at the top level (that is, in 
> the complete
> >    expression typed by the user) or as one of the 
> subexpressions in a
> >    braced list of expressions.
> > 
> > These safeguards don't prevent the mishap shown above.  Is 
> there any 
> > way to detect this case syntactically (check for assignments inside 
> > subsetting operations??), or will I just have to train my 
> students to 
> > watch out for this possibility?

FWIW, presuming that you and your students may be using an external
editor that supports syntax highlighting for coding, you can set up the
highlighting such that the assigment operators are specifically colored
to make them more readily visible. I recall a discussion here akin to
this earlier this year when the "_" assignment operator subject came up.

I am presently using Multi-Edit 9 under WinXP Pro, but am in the process
of switching to Linux and am still wrestling with (X)ESS vs.gVim vs
running Multi-Edit using Wine, but that's another issue.

In either case, I have set up the syntax highlighting in Multi-Edit such
that the assignment operators are bolded and colored red to stand out
against surrounding code. This has helped me greatly in avoiding exactly
the type of error that you are discussing and has saved me much time in
debugging code.

Marc


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Fri Nov  8 15:02:13 2002
From: edd@debian.org (edd@debian.org)
Date: Fri, 8 Nov 2002 16:02:13 +0100 (MET)
Subject: Bug#168259: r-base-core: help.start() assumes netscape is installed (PR#2275)
Message-ID: <200211081502.QAA09163@pubhealth.ku.dk>



> Package: r-base-core
> Version: 1.5.1-0woody1
> Severity: minor
> 
> I don't have Netscape on my system. Trying to follow the sample

To best of my knowledge, this R feature dates from a time when 
Netscape was essentially the only browser out there. It also had 
a most useful feature: you could attach new request (resulting in
a new "frame" in X11 / window manager parlance) to a running Netscape 
making startup for this request /much/ faster than starting a new 
Netscape executable.

This feature lacks in other browsers which is why no one was able
to write a wrapper script around netscape, mozilla, galeon, konqueror,...
and pick whichever is found.

> session in the R Intro fails with a less than helpful error message:

Then this should be fixed in the R Intro -- maybe a line could be added
suggesting that the   browser="foo"   options may be needed to switch
away from netscape?

> Type `demo()' for some demos, `help()' for on-line help, or
> `help.start()' for a HTML browser interface to help.
> Type `q()' to quit R.
> 
> > help.start()
> Making links in ~/.R ...
> If netscape is already running, it is *not* restarted, and you must
>     switch to its window.
> Otherwise, be patient ...
> > sh: netscape: command not found
> 
> 
> Could some heuristic be put in place to use whatever is installed
> rather than blindly hope Netscape will be there? I thought I even saw

This has been discussed on the R lists, but as I recall, no consensus
was reached for the reasons outlined above.

> something about an /etc/alternatives mechanism for selecting a web
> browser but this does not seem to exist (yet?)

Now you're switching from a generic R problem to a Debian specific
solution -- but yes I may be able to do that. However, what we would
really need is a wrapper like, say, sensible-browser akin to the 
existing sensible-paper and sensible-editor.  Now, as I said above,
this will likely be difficult or impossible to do well, so nobody
did it.

Also, /etc/alternatives is designed to switch between variants of the
same program: emacs as a choice between emacs20 and emacs21, netscape
as one between static motif and other linkage variants, ... whereas
sensible-$FOO is a wrapper around different programs doing $FOO.

> Failing that, perhaps the program could check for the existence of
> Netscape before attempting to launch it, and display a suitable error
> message if it is not installed (hopefully with instructions for how to
> override).

Yes, but that is tough to do portably on Unix, Max, Win, ... where R
runs.

> I was lucky enough to fairly quickly find an example of how to work
> around this in Google; for the record, help.start(browser='mozilla')
> worked for me, and apparently R will now remember to use Mozilla in
> the future on my account.

Only for the running session. Set 
  options(browser="mozilla")
in ~/.Rprofile to make it truly permanent.

> Sorry if this is already fixed in testing/unstable.

No, I'd call it one of the "unfixable" ones.

Regards,  Dirk



>
> /* era */
> 
> -- 
> Join the civilized world -- ban spam like we did! <http://www.euro.cauce.org/>
>    tee -a $HOME/.signature <$HOME/.plan >http://www.iki.fi/era/index.html
> 
> 
> 
> 

-- 
According to the latest figures, 43% of all signatures are totally worthless.   

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From phgrosje@ulb.ac.be  Fri Nov  8 15:24:15 2002
From: phgrosje@ulb.ac.be (Philippe Grosjean)
Date: Fri, 8 Nov 2002 16:24:15 +0100
Subject: behavior of =
In-Reply-To: <3DCBC6F9.B83C534C@research.bell-labs.com>
Message-ID: <MABBLJDICACNFOLGIHJOOEKIDAAA.phgrosje@ulb.ac.be>

Deprecating '_' for assignment in the perspective of reusing it in variables
names is nice (not just a personal impression bacause it is also common in
other languages). I am fighting too often with unreadable codes like
var_value, even without spaces before and after '_'!!!
Addition of '=' for assignment is nice too (also commonly used in other
languages), except for this problem with named arguments...! I know this is
a major change that would require patching all R code, but perhaps a
solution would be to replace '=' in named arguments with something else,...
('_'  for instance.. no, I am kidding!). But perhaps, ':=' would be a nice
candidate. So:

foo(a=b)  # Assignment of b to a, and a is passed as first argument to
function foo()
foo(a:=b) # b is passed to the named argument 'a' of function foo()

Best,

Philippe Grosjean

...........]<(({?<...............<?}))><...............................
( ( ( ( (
 ) ) ) ) )      Philippe Grosjean
( ( ( ( (
 ) ) ) ) )      IFREMER Nantes - DEL/AO
( ( ( ( (       rue de l'Ile d'Yeu, BP 21105, 44311 Nantes Cedex 3
 ) ) ) ) )      tel: (33) 02.40.37.42.29, fax: (33) 02.40.37.42.41
( ( ( ( (	    e-mail: philippe.grosjean@ifremer.fr
 ) ) ) ) )
( ( ( ( (       "I'm 100% confident that p is between 0 and 1"
 ) ) ) ) )                                L. Gonick & W. Smith (1993)
.......................................................................


-----Message d'origine-----
De : owner-r-devel@stat.math.ethz.ch
[mailto:owner-r-devel@stat.math.ethz.ch]De la part de John Chambers
Envoye : vendredi 8 novembre 2002 15:15
A : bolker@zoo.ufl.edu
Cc : R development mailing list
Objet : Re: behavior of =


It's a real confusion, but don't blame it on the use of "=" as an
assignment operator.

It's all the fault of having named arguments, which goes way back to the
dawn of time.

What you said (as opposed to what, of course, you meant) was that the
argument called "x" to "[" had the value of min(x).

The clue is that after evaluating the expression, x is unchanged
(distinctly NOT the case for the infamous C equivalent).

R> x <- runif(20)
R> y <- 1:20
R> y[x = min(x)]
numeric(0)
R> x
 [1] 0.1452749 0.4936352 0.7872399 0.4377552 0.4072236 0.4416220
0.4748017
 [8] 0.8523369 0.8870081 0.7401091 0.1480467 0.3367802 0.3825770
0.3596608
[15] 0.1040230 0.6873980 0.2974596 0.9955219 0.3217589 0.2199942

Unfortunately, the implementation of "[" doesn't check argument names
(plausibly a bug).  To see the situation more clearly, use the sort
function, whose first argument is "x".

R> sort(x=min(x))
[1] 0.1040230
which is puzzling, but:

R> sort(y=5)
Error in sort(y = 5) : unused argument(s) (y ...)

All the same, it's a useful example for a "what went wrong" FAQ.


Ben Bolker wrote:
>
>   I probably didn't follow the discussion of allowing "=" as an assignment
> operator closely enough, but I was a little bit horrified to discover
> today (using 1.6.0; I haven't upgraded to 1.6.1 yet) that
>
> x <- runif(20)
> y <- 1:20
> y[x=min(x)]
>
> gives numeric(0) (because min(x) is non-integer).
>
> x <- sample(1:20,20,TRUE)
> y[x=min(x)]
>
> is even worse -- it gives the "wrong" answer. I know exactly what's going
> on here (the = in the subsetting statement above was a typo for ==), and I
> should have known better, but I felt like I was programming in C again!
>
> I know that the designers tried to build in safeguards (from the man
> page):
>
>    the `=' is only allowed at the top level (that is, in the complete
>    expression typed by the user) or as one of the subexpressions in a
>    braced list of expressions.
>
> These safeguards don't prevent the mishap shown above.  Is there any way
> to detect this case syntactically (check for assignments inside subsetting
> operations??), or will I just have to train my students to watch out for
> this possibility?
>
> ----
> 318 Carr Hall                                bolker@zoo.ufl.edu
> Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
> Box 118525                                   (ph)  352-392-5697
> Gainesville, FL 32611-8525                   (fax) 352-392-3704
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-devel mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

--
John M. Chambers                  jmc@bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From h95mr@mun.ca  Fri Nov  8 15:28:51 2002
From: h95mr@mun.ca (h95mr@mun.ca)
Date: Fri, 8 Nov 2002 16:28:51 +0100 (MET)
Subject: Mac specific - quartz leads to crash (PR#2276)
Message-ID: <200211081528.QAA09427@pubhealth.ku.dk>

Full_Name: Martin Renner
Version: 1.6.0
OS: MacOS X 10.2.1
Submission from: (NULL) (134.153.109.176)


Opening a new graphics device with quartz () produces a quartz window but it
cannot be resized, there's no red close-button and R usually crashes within the
next 20 seconds (unexpectedly quit). Also, I can't copy this window (copy does
not do anything, old clipboard is not replaced). 

Thank you,

Martin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Nov  8 15:51:10 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 8 Nov 2002 15:51:10 +0000 (GMT)
Subject: (PR#2275) Re: Bug#168259: r-base-core: help.start() assumes netscape
 is installed
In-Reply-To: <200211081502.QAA09163@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0211081545310.10657-100000@gannet.stats>

Note that this only a problem for pre-compiled versions of R used on
machines other than the one on which it was compiled. For those compiling
from source, the configure script selects a browser.  So almost all the
analysis is based on incorrect assumptions.

What you seem to want is run-time rather than compile-time automated
selection.

On Fri, 8 Nov 2002 edd@debian.org wrote:

>
>
> > Package: r-base-core
> > Version: 1.5.1-0woody1
> > Severity: minor
> >
> > I don't have Netscape on my system. Trying to follow the sample
>
> To best of my knowledge, this R feature dates from a time when
> Netscape was essentially the only browser out there. It also had
> a most useful feature: you could attach new request (resulting in
> a new "frame" in X11 / window manager parlance) to a running Netscape
> making startup for this request /much/ faster than starting a new
> Netscape executable.

and netscape no longer allows multiple executables to run.

> This feature lacks in other browsers which is why no one was able
> to write a wrapper script around netscape, mozilla, galeon, konqueror,...
> and pick whichever is found.
>
> > session in the R Intro fails with a less than helpful error message:
>
> Then this should be fixed in the R Intro -- maybe a line could be added
> suggesting that the   browser="foo"   options may be needed to switch
> away from netscape?

Nope, what's in R-intro works everywhere R was compiled from source.
It's a Debian (etc) problem.

> > Type `demo()' for some demos, `help()' for on-line help, or
> > `help.start()' for a HTML browser interface to help.
> > Type `q()' to quit R.
> >
> > > help.start()
> > Making links in ~/.R ...
> > If netscape is already running, it is *not* restarted, and you must
> >     switch to its window.
> > Otherwise, be patient ...
> > > sh: netscape: command not found
> >
> >
> > Could some heuristic be put in place to use whatever is installed
> > rather than blindly hope Netscape will be there? I thought I even saw

Again, that's not what happens.

> This has been discussed on the R lists, but as I recall, no consensus
> was reached for the reasons outlined above.
>
> > something about an /etc/alternatives mechanism for selecting a web
> > browser but this does not seem to exist (yet?)
>
> Now you're switching from a generic R problem to a Debian specific
> solution -- but yes I may be able to do that. However, what we would
> really need is a wrapper like, say, sensible-browser akin to the
> existing sensible-paper and sensible-editor.  Now, as I said above,
> this will likely be difficult or impossible to do well, so nobody
> did it.
>
> Also, /etc/alternatives is designed to switch between variants of the
> same program: emacs as a choice between emacs20 and emacs21, netscape
> as one between static motif and other linkage variants, ... whereas
> sensible-$FOO is a wrapper around different programs doing $FOO.
>
> > Failing that, perhaps the program could check for the existence of
> > Netscape before attempting to launch it, and display a suitable error
> > message if it is not installed (hopefully with instructions for how to
> > override).
>
> Yes, but that is tough to do portably on Unix, Max, Win, ... where R
> runs.
>
> > I was lucky enough to fairly quickly find an example of how to work
> > around this in Google; for the record, help.start(browser='mozilla')
> > worked for me, and apparently R will now remember to use Mozilla in
> > the future on my account.
>
> Only for the running session. Set
>   options(browser="mozilla")
> in ~/.Rprofile to make it truly permanent.
>
> > Sorry if this is already fixed in testing/unstable.
>
> No, I'd call it one of the "unfixable" ones.
>
> Regards,  Dirk
>
>
>
> >
> > /* era */
> >
> > --
> > Join the civilized world -- ban spam like we did! <http://www.euro.cauce.org/>
> >    tee -a $HOME/.signature <$HOME/.plan >http://www.iki.fi/era/index.html
> >
> >
> >
> >
>
> --
> According to the latest figures, 43% of all signatures are totally worthless.
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Fri Nov  8 15:57:23 2002
From: edd@debian.org (Dirk Eddelbuettel)
Date: Fri, 08 Nov 2002 09:57:23 -0600
Subject: (PR#2275) Re: Bug#168259: r-base-core: help.start() assumes netscape is installed
Message-ID: <E18ABVb-0001Ko-00@sonny.eddelbuettel.com>



> Note that this only a problem for pre-compiled versions of R used on
> machines other than the one on which it was compiled. For those compiling
> from source, the configure script selects a browser.  So almost all the
> analysis is based on incorrect assumptions.
> 
> What you seem to want is run-time rather than compile-time automated
> selection.

Thanks for setting me straight.  This will help in fixing it, then!

> On Fri, 8 Nov 2002 edd@debian.org wrote:
> 
> >
> >
> > > Package: r-base-core
> > > Version: 1.5.1-0woody1
> > > Severity: minor
> > >
> > > I don't have Netscape on my system. Trying to follow the sample
> >
> > To best of my knowledge, this R feature dates from a time when
> > Netscape was essentially the only browser out there. It also had
> > a most useful feature: you could attach new request (resulting in
> > a new "frame" in X11 / window manager parlance) to a running Netscape
> > making startup for this request /much/ faster than starting a new
> > Netscape executable.
> 
> and netscape no longer allows multiple executables to run.

Right.

> > This feature lacks in other browsers which is why no one was able
> > to write a wrapper script around netscape, mozilla, galeon, konqueror,...
> > and pick whichever is found.
> >
> > > session in the R Intro fails with a less than helpful error message:
> >
> > Then this should be fixed in the R Intro -- maybe a line could be added
> > suggesting that the   browser="foo"   options may be needed to switch
> > away from netscape?
> 
> Nope, what's in R-intro works everywhere R was compiled from source.
> It's a Debian (etc) problem.

Ok, so please close the R bug report in that case. I will take care of the
Debian issue -- if it turns out that I can do something useful for the 
RedHat, SuSE, Mandrake, ... guys I will surely let them know.

Dirk

> > > Type `demo()' for some demos, `help()' for on-line help, or
> > > `help.start()' for a HTML browser interface to help.
> > > Type `q()' to quit R.
> > >
> > > > help.start()
> > > Making links in ~/.R ...
> > > If netscape is already running, it is *not* restarted, and you must
> > >     switch to its window.
> > > Otherwise, be patient ...
> > > > sh: netscape: command not found
> > >
> > >
> > > Could some heuristic be put in place to use whatever is installed
> > > rather than blindly hope Netscape will be there? I thought I even saw
> 
> Again, that's not what happens.
> 
> > This has been discussed on the R lists, but as I recall, no consensus
> > was reached for the reasons outlined above.
> >
> > > something about an /etc/alternatives mechanism for selecting a web
> > > browser but this does not seem to exist (yet?)
> >
> > Now you're switching from a generic R problem to a Debian specific
> > solution -- but yes I may be able to do that. However, what we would
> > really need is a wrapper like, say, sensible-browser akin to the
> > existing sensible-paper and sensible-editor.  Now, as I said above,
> > this will likely be difficult or impossible to do well, so nobody
> > did it.
> >
> > Also, /etc/alternatives is designed to switch between variants of the
> > same program: emacs as a choice between emacs20 and emacs21, netscape
> > as one between static motif and other linkage variants, ... whereas
> > sensible-$FOO is a wrapper around different programs doing $FOO.
> >
> > > Failing that, perhaps the program could check for the existence of
> > > Netscape before attempting to launch it, and display a suitable error
> > > message if it is not installed (hopefully with instructions for how to
> > > override).
> >
> > Yes, but that is tough to do portably on Unix, Max, Win, ... where R
> > runs.
> >
> > > I was lucky enough to fairly quickly find an example of how to work
> > > around this in Google; for the record, help.start(browser='mozilla')
> > > worked for me, and apparently R will now remember to use Mozilla in
> > > the future on my account.
> >
> > Only for the running session. Set
> >   options(browser="mozilla")
> > in ~/.Rprofile to make it truly permanent.
> >
> > > Sorry if this is already fixed in testing/unstable.
> >
> > No, I'd call it one of the "unfixable" ones.
> >
> > Regards,  Dirk
> >
> >
> >
> > >
> > > /* era */
> > >
> > > --
> > > Join the civilized world -- ban spam like we did! <http://www.euro.cauce.org/>
> > >    tee -a $HOME/.signature <$HOME/.plan >http://www.iki.fi/era/index.html
> > >
> > >
> > >
> > >
> >
> > --
> > According to the latest figures, 43% of all signatures are totally worthless.
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 
> 
> 

-- 
According to the latest figures, 43% of all signatures are totally worthless.   
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Fri Nov  8 16:17:12 2002
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Fri, 8 Nov 2002 08:17:12 -0800 (PST)
Subject: behavior of =
In-Reply-To: <MABBLJDICACNFOLGIHJOOEKIDAAA.phgrosje@ulb.ac.be>
Message-ID: <Pine.A41.4.44.0211080813030.108822-100000@homer40.u.washington.edu>

On Fri, 8 Nov 2002, Philippe Grosjean wrote:

> Deprecating '_' for assignment in the perspective of reusing it in variables
> names is nice (not just a personal impression bacause it is also common in
> other languages). I am fighting too often with unreadable codes like
> var_value, even without spaces before and after '_'!!!
> Addition of '=' for assignment is nice too (also commonly used in other
> languages), except for this problem with named arguments...! I know this is
> a major change that would require patching all R code, but perhaps a
> solution would be to replace '=' in named arguments with something else,...
> ('_'  for instance.. no, I am kidding!). But perhaps, ':=' would be a nice
> candidate. So:
>
> foo(a=b)  # Assignment of b to a, and a is passed as first argument to
> function foo()
> foo(a:=b) # b is passed to the named argument 'a' of function foo()
>

Not only would this require rewriting essentially every piece of R code
ever written, but even worse, := is used in other languages (and in the
prehistory of R) as an assignment operator so it would be even less clear
than the current situation.

For this transition, unlike disposing of '_', there would be no way to
write code (including simple data analyses) that worked before and after
the change.

You can't get there from here (and I'm not convinced you want to).

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossini@u.washington.edu  Fri Nov  8 16:41:57 2002
From: rossini@u.washington.edu (A.J. Rossini)
Date: 08 Nov 2002 08:41:57 -0800
Subject: behavior of =
In-Reply-To: <MABBLJDICACNFOLGIHJOOEKIDAAA.phgrosje@ulb.ac.be>
References: <MABBLJDICACNFOLGIHJOOEKIDAAA.phgrosje@ulb.ac.be>
Message-ID: <87lm44814a.fsf@jeeves.blindglobe.net>

>>>>> "philippe" == Philippe Grosjean <phgrosje@ulb.ac.be> writes:

    philippe> Deprecating '_' for assignment in the perspective of reusing it in variables
    philippe> names is nice (not just a personal impression bacause it is also common in
    philippe> other languages). I am fighting too often with unreadable codes like
    philippe> var_value, even without spaces before and after '_'!!!
    philippe> Addition of '=' for assignment is nice too (also commonly used in other
    philippe> languages), except for this problem with named arguments...! I know this is
    philippe> a major change that would require patching all R code, but perhaps a
    philippe> solution would be to replace '=' in named arguments with something else,...
    philippe> ('_'  for instance.. no, I am kidding!). But perhaps, ':=' would be a nice
    philippe> candidate. So:

    philippe> foo(a=b)  # Assignment of b to a, and a is passed as first argument to
    philippe> function foo()
    philippe> foo(a:=b) # b is passed to the named argument 'a' of function foo()

No, no, no.

While I can see depreciating "_" as assignment, I would seriously
worry about reusing it in variable names, breaking old code and all of
that.  Currently, we've got "."  for separation if you need it.
Sure, other languages use it for methods, and in a sense, so does S3
classes, but it's what you are given.

The "<-" assignment operator is beautiful.  It's taken me over a
decade, but I have come to appreciate it.  It isn't common, and there
are fewer and fewer ex-APL'ers, but I think it's a great choice.

The use of "=" for named arguments in a function call signature makes
sense, and the use of "==" for equality makes sense.

But syntactical sugar should only be messed with if broken (and yes,
this may be one of the few points that I'd disagree with John; I wish
he'd never introduced "=" as a possible assignment).

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini@u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini@scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From phgrosje@ulb.ac.be  Fri Nov  8 16:56:14 2002
From: phgrosje@ulb.ac.be (Philippe Grosjean)
Date: Fri, 8 Nov 2002 17:56:14 +0100
Subject: behavior of =
In-Reply-To: <Pine.A41.4.44.0211080813030.108822-100000@homer40.u.washington.edu>
Message-ID: <MABBLJDICACNFOLGIHJOIEKMDAAA.phgrosje@ulb.ac.be>

>Not only would this require rewriting essentially every piece of R code
>ever written, but even worse, := is used in other languages (and in the
>prehistory of R) as an assignment operator so it would be even less clear
>than the current situation.

>For this transition, unlike disposing of '_', there would be no way to
>write code (including simple data analyses) that worked before and after
>the change.

>You can't get there from here (and I'm not convinced you want to).

>	-thomas

Right. But then, may be another (group of) characters could replace '=' for
named argument, eliminating the ambiguity with the assignment. What about
'::' foo(arg::value). In a first stage, '::' could become an alternative to
'=' for named arguments (and during this transition, the problem with
assigment still remains, of course). Then, in the next major release, '=' is
deprecated for named arguments. Finally, another major release later, when
all the code is (hopefully) rewritten with '::' for named arguments, '=' is
defunct for named argument, and '=' gets exactly the same meaning as '<-'
ANYWHERE, eliminating the problem discussed here. As far as I know, '::' is
not used yet in the S language. Some people would say it is replacing a
single character by two (obviously the most lazy ones that objected against
the disparition of '_' for assignation)! Not a major inconvenience, anyway.
Others would say that '::' has a different signification in some other
languages, but then, there is no solution because we have to deal with a
limited character set and a keyboard with only 88-103 keys!

In any case, this is major change, since, whatever the solution, it implies
incompatibles changes in code. I agree! One should note that, if a change
similar to this ('=' replaced by '::' for named arguments) was planned
*before* the introduction of '=' as a (quasi)synonym of '<-' for assignment,
it would have been easier to actualize code in the transitions phases (just
need to protect '==', '<=', '>=', '!=' and occurence of '=' in strings
before replacing any other occurence of '=' by '::'). Now, it would be much,
much more difficult. Compromizes, always compromizes,...



>On Fri, 8 Nov 2002, Philippe Grosjean wrote:

>> Deprecating '_' for assignment in the perspective of reusing it in
variables
>> names is nice (not just a personal impression bacause it is also common
in
>> other languages). I am fighting too often with unreadable codes like
>> var_value, even without spaces before and after '_'!!!
>> Addition of '=' for assignment is nice too (also commonly used in other
>> languages), except for this problem with named arguments...! I know this
is
>> a major change that would require patching all R code, but perhaps a
>> solution would be to replace '=' in named arguments with something
else,...
>> ('_'  for instance.. no, I am kidding!). But perhaps, ':=' would be a
nice
>> candidate. So:
>>
>> foo(a=b)  # Assignment of b to a, and a is passed as first argument to
>> function foo()
>> foo(a:=b) # b is passed to the named argument 'a' of function foo()
>>



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gregory_r_warnes@groton.pfizer.com  Fri Nov  8 17:01:30 2002
From: gregory_r_warnes@groton.pfizer.com (Warnes, Gregory R)
Date: Fri, 8 Nov 2002 12:01:30 -0500
Subject: behavior of =
Message-ID: <D7A3CFD7825BD6119B880002A58F06C202F2C266@groexmb02.pfizer.com>

> [Tony Rossini wrote:]
>
> The "<-" assignment operator is beautiful.  [...]
> [T]his may be one of the few points that I'd disagree with John; I wish
> he'd never introduced "=" as a possible assignment.

I agree.   

-Greg



LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tplate@blackmesacapital.com  Fri Nov  8 17:05:56 2002
From: tplate@blackmesacapital.com (Tony Plate)
Date: Fri, 08 Nov 2002 10:05:56 -0700
Subject: behavior of =
In-Reply-To: <87lm44814a.fsf@jeeves.blindglobe.net>
References: <MABBLJDICACNFOLGIHJOOEKIDAAA.phgrosje@ulb.ac.be>
 <MABBLJDICACNFOLGIHJOOEKIDAAA.phgrosje@ulb.ac.be>
Message-ID: <5.1.0.14.2.20021108095455.04aabdb0@mailhost.blackmesacapital.com>

At 08:41 AM 11/8/2002 -0800, A.J. Rossini wrote:
>[...]
>The "<-" assignment operator is beautiful.  It's taken me over a
>decade, but I have come to appreciate it.  It isn't common, and there
>are fewer and fewer ex-APL'ers, but I think it's a great choice.
>
>The use of "=" for named arguments in a function call signature makes
>sense, and the use of "==" for equality makes sense.
>
>But syntactical sugar should only be messed with if broken (and yes,
>this may be one of the few points that I'd disagree with John; I wish
>he'd never introduced "=" as a possible assignment).
>
>best,
>-tony

Yup, the S-language does have 3 separate symbols available for 3 separate 
functions ("=" for named arguments, "<-" for assignment, and "==" for 
equality).  Like Tony Rossini, I'd rather that these did not 
overlap.  Would it be possible to give parse() (and source()) an argument, 
or allow a pragma in a file, that would disallow the use of "=" for 
assignment?  (Since "=" was introduced as an assignment operator in S 
implementations, I've been bitten by the bug of a "="/"==" typo a couple of 
times, and have never seen any benefit from the change.)

-- Tony Plate

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From B.Rowlingson@lancaster.ac.uk  Fri Nov  8 17:10:02 2002
From: B.Rowlingson@lancaster.ac.uk (Barry Rowlingson)
Date: Fri, 08 Nov 2002 17:10:02 +0000
Subject: behavior of =
References: <MABBLJDICACNFOLGIHJOOEKIDAAA.phgrosje@ulb.ac.be> <87lm44814a.fsf@jeeves.blindglobe.net>
Message-ID: <3DCBEFEA.5070200@lancaster.ac.uk>


> The "<-" assignment operator is beautiful.  It's taken me over a
> decade, but I have come to appreciate it.  It isn't common, and there
> are fewer and fewer ex-APL'ers, but I think it's a great choice.

  Surely there's a single-character on this keyboard that accurately 
invokes the directional nature of assignment to variables, without 
having ambiguous meanings or alternate syntactic options? Yes! There, on 
the top right, an arrow pointing to the left!

  Oh no, thats the backspace key...

Baz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Fri Nov  8 17:21:34 2002
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Fri, 08 Nov 2002 12:21:34 -0500
Subject: behavior of =
In-Reply-To: <Pine.A41.4.44.0211080813030.108822-100000@homer40.u.washington.edu>
References: <MABBLJDICACNFOLGIHJOOEKIDAAA.phgrosje@ulb.ac.be> <Pine.A41.4.44.0211080813030.108822-100000@homer40.u.washington.edu>
Message-ID: <mirnsugtr7aefod5qfnuuurga6chh1hqtp@4ax.com>

On Fri, 8 Nov 2002 08:17:12 -0800 (PST), you wrote:

>On Fri, 8 Nov 2002, Philippe Grosjean wrote:

>> foo(a=b)  # Assignment of b to a, and a is passed as first argument to
>> function foo()
>> foo(a:=b) # b is passed to the named argument 'a' of function foo()
>>
>
>Not only would this require rewriting essentially every piece of R code
>ever written, but even worse, := is used in other languages (and in the
>prehistory of R) as an assignment operator so it would be even less clear
>than the current situation.

I would say a better change (but not good enough to be worth doing,
because it would break so much) would be to drop "=" as an assignment
operator, and use ":=" for that purpose.

A smaller change that might actually be doable would be to have a way
to give anonymous arguments which can be passed only positionally. For
example, put the symbol ANON into the language, and allow functions to
be declared as 

 f <- function(ANON) { .... }

Within the body of f, ANON would act like a named argument, but
name-matching would never work on it, i.e.

 x <- f(ANON=3)

would be a syntax error.  A nicer looking way to do this might be to
allow attributes to be attached to arguments, e.g.

  f <- function(anonymous x) { ... }

but there's nothing like that anywhere else in the language.  This
would have the advantage that you could define min as 

 function (anonymous ..., na.rm = FALSE) 
 .Internal(min(..., na.rm = na.rm))

Doing it with new keywords would probably mean the addition of ANON1,
ANON2, up to some arbitrary number, and ANON... for this case.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossini@u.washington.edu  Fri Nov  8 17:55:34 2002
From: rossini@u.washington.edu (A.J. Rossini)
Date: 08 Nov 2002 09:55:34 -0800
Subject: behavior of =
In-Reply-To: <mirnsugtr7aefod5qfnuuurga6chh1hqtp@4ax.com>
References: <MABBLJDICACNFOLGIHJOOEKIDAAA.phgrosje@ulb.ac.be>
 <Pine.A41.4.44.0211080813030.108822-100000@homer40.u.washington.edu>
 <mirnsugtr7aefod5qfnuuurga6chh1hqtp@4ax.com>
Message-ID: <87hees7xpl.fsf@jeeves.blindglobe.net>

>>>>> "duncan" == Duncan Murdoch <dmurdoch@pair.com> writes:

    duncan> On Fri, 8 Nov 2002 08:17:12 -0800 (PST), you wrote:
    >> On Fri, 8 Nov 2002, Philippe Grosjean wrote:

    >>> foo(a=b)  # Assignment of b to a, and a is passed as first argument to
    >>> function foo()
    >>> foo(a:=b) # b is passed to the named argument 'a' of function foo()
    >>> 
    >> 
    >> Not only would this require rewriting essentially every piece of R code
    >> ever written, but even worse, := is used in other languages (and in the
    >> prehistory of R) as an assignment operator so it would be even less clear
    >> than the current situation.

    duncan> I would say a better change (but not good enough to be worth doing,
    duncan> because it would break so much) would be to drop "=" as an assignment
    duncan> operator, and use ":=" for that purpose.

Why not "<-"  instead of ":="?  I still don't understand why this is
in anyway better (except for pascal and modula programmers, see
Thomas' point from a while back: "If you want those constructs, use
those languages", is application.

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini@u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini@scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossini@u.washington.edu  Fri Nov  8 17:57:11 2002
From: rossini@u.washington.edu (A.J. Rossini)
Date: 08 Nov 2002 09:57:11 -0800
Subject: behavior of =
In-Reply-To: <3DCBEFEA.5070200@lancaster.ac.uk>
References: <MABBLJDICACNFOLGIHJOOEKIDAAA.phgrosje@ulb.ac.be>
 <87lm44814a.fsf@jeeves.blindglobe.net>
 <3DCBEFEA.5070200@lancaster.ac.uk>
Message-ID: <87d6pg7xmw.fsf@jeeves.blindglobe.net>

>>>>> "barry" == Barry Rowlingson <B.Rowlingson@lancaster.ac.uk> writes:

    >> The "<-" assignment operator is beautiful.  It's taken me over a
    >> decade, but I have come to appreciate it.  It isn't common, and there
    >> are fewer and fewer ex-APL'ers, but I think it's a great choice.

    barry>   Surely there's a single-character on this keyboard that accurately
    barry>   invokes the directional nature of assignment to variables, without
    barry>   having ambiguous meanings or alternate syntactic options? Yes! 
    barry>   There, on the top right, an arrow pointing to the left!

on my computers (all of them), when editing R code, "_" always maps to
"<-".  So yes, there is such a character on the keyboard, for R code.

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini@u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini@scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Fri Nov  8 18:05:30 2002
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Fri, 08 Nov 2002 13:05:30 -0500
Subject: behavior of =
In-Reply-To: <87hees7xpl.fsf@jeeves.blindglobe.net>
References: <MABBLJDICACNFOLGIHJOOEKIDAAA.phgrosje@ulb.ac.be> <Pine.A41.4.44.0211080813030.108822-100000@homer40.u.washington.edu> <mirnsugtr7aefod5qfnuuurga6chh1hqtp@4ax.com> <87hees7xpl.fsf@jeeves.blindglobe.net>
Message-ID: <d3vnsu0k9ht4lh7u2qr2huilim7ah6e0gq@4ax.com>

On 08 Nov 2002 09:55:34 -0800, you wrote:

>>>>>> "duncan" == Duncan Murdoch <dmurdoch@pair.com> writes:

>    duncan> I would say a better change (but not good enough to be worth doing,
>    duncan> because it would break so much) would be to drop "=" as an assignment
>    duncan> operator, and use ":=" for that purpose.
>
>Why not "<-"  instead of ":="?  I still don't understand why this is
>in anyway better (except for pascal and modula programmers, see
>Thomas' point from a while back: "If you want those constructs, use
>those languages", is application.

Because "=" is different from "<-".  I'm suggesting that if we want
that distinction, then we should use the pair ":=" and "<-", rather
than overloading the meaning of "=".

But perhaps we don't need the distinction at all.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@stat.uiowa.edu  Fri Nov  8 18:15:58 2002
From: luke@stat.uiowa.edu (Luke Tierney)
Date: Fri, 8 Nov 2002 12:15:58 -0600 (CST)
Subject: behavior of =
In-Reply-To: <5.1.0.14.2.20021108095455.04aabdb0@mailhost.blackmesacapital.com>
Message-ID: <Pine.LNX.4.44.0211081215280.26767-100000@itasca.stat.uiowa.edu>

On Fri, 8 Nov 2002, Tony Plate wrote:

> At 08:41 AM 11/8/2002 -0800, A.J. Rossini wrote:
> >[...]
> >The "<-" assignment operator is beautiful.  It's taken me over a
> >decade, but I have come to appreciate it.  It isn't common, and there
> >are fewer and fewer ex-APL'ers, but I think it's a great choice.
> >
> >The use of "=" for named arguments in a function call signature makes
> >sense, and the use of "==" for equality makes sense.
> >
> >But syntactical sugar should only be messed with if broken (and yes,
> >this may be one of the few points that I'd disagree with John; I wish
> >he'd never introduced "=" as a possible assignment).
> >
> >best,
> >-tony
> 
> Yup, the S-language does have 3 separate symbols available for 3 separate 
> functions ("=" for named arguments, "<-" for assignment, and "==" for 
> equality).  Like Tony Rossini, I'd rather that these did not 
> overlap.  Would it be possible to give parse() (and source()) an argument, 
> or allow a pragma in a file, that would disallow the use of "=" for 
> assignment?  (Since "=" was introduced as an assignment operator in S 
> implementations, I've been bitten by the bug of a "="/"==" typo a couple of 
> times, and have never seen any benefit from the change.)

You can at least make sure you get a run time error by redefining "="
something like

"="<-function(...) stop("'=' used for assignment--I don't like that")

Doing that now has the potential of messing up some packages you might
want to use.  R 1.7 should include a name space mechanism that will
let you do this privately within your packages so "=" is disabled for
you but not for other mackages.

luke

-- 
Luke Tierney
University of Iowa                  Phone:             319-335-3386
Department of Statistics and        Fax:               319-335-3017
   Actuarial Science
241 Schaeffer Hall                  email:      luke@stat.uiowa.edu
Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From brahm@alum.mit.edu  Fri Nov  8 21:11:23 2002
From: brahm@alum.mit.edu (David Brahm)
Date: Fri, 8 Nov 2002 16:11:23 -0500
Subject: strwidth(font=NULL)
Message-ID: <15820.10363.591848.18577@gargle.gargle.HOWL>

Hello,

   Would it be possible to give strwidth() and strheight() an argument "font",
that worked like the "cex" argument (i.e. defaults to current par("font"), but
can be overridden)?  Then I could replace this:

  R> oldpar <- par(font=2)
  R> x <- strwidth("hello")
  R> par(oldpar)

with this:

  R> x <- strwidth("hello", font=2)

Thanks!
-- 
                              -- David Brahm (brahm@alum.mit.edu)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Nov  8 22:25:35 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 8 Nov 2002 22:25:35 +0000 (GMT)
Subject: strwidth(font=NULL)
In-Reply-To: <15820.10363.591848.18577@gargle.gargle.HOWL>
Message-ID: <Pine.LNX.4.31.0211082220400.12649-100000@gannet.stats>

If you look in the code you will see this is mentioned as a if/when
possibility in several places.

See also bug report PR#776, from December 2000, so this is probably in the
Real Soon Now category.  Paul Murrell might have a better estimate!

On Fri, 8 Nov 2002, David Brahm wrote:

>    Would it be possible to give strwidth() and strheight() an argument "font",
> that worked like the "cex" argument (i.e. defaults to current par("font"), but
> can be overridden)?  Then I could replace this:
>
>   R> oldpar <- par(font=2)
>   R> x <- strwidth("hello")
>   R> par(oldpar)
>
> with this:
>
>   R> x <- strwidth("hello", font=2)
>
> Thanks!

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tkeitt@mail.utexas.edu  Sat Nov  9 04:34:36 2002
From: tkeitt@mail.utexas.edu (Timothy H. Keitt)
Date: 08 Nov 2002 20:34:36 -0800
Subject: Calling function with proto in Rinternals.h
Message-ID: <1036816477.4523.8.camel@ip68-6-78-9.sb.sd.cox.net>

(Tried this query on r-help with no luck, maybe someone here can help?)

I would like to call the 'RFinalizerEx' function that appears in
Rinternals.h using ".Call". It worked for me in the past, but now I get
an error message something like: 'call function name not in call table'.
I'm using the 1.6.1 rpm from CRAN. Anyone know what's going on? Thanks.

Tim 

-- 
Timothy H. Keitt
The University of Texas at Austin
Section of Integrative Biology
1 University Station C0930
Austin, Texas 78712-0253 USA

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jago@mclink.it  Sat Nov  9 08:46:24 2002
From: jago@mclink.it (Stefano Iacus)
Date: Sat, 9 Nov 2002 09:46:24 +0100
Subject: Mac specific - quartz leads to crash (PR#2276)
In-Reply-To: <200211081528.QAA09427@pubhealth.ku.dk>
Message-ID: <BA8F18E2-F3BF-11D6-B6A4-003065CC4CB8@mclink.it>

Martin,

which version of R are you currently using? Carbon R or Darwin R?

It is true that you can't resize the window (this is not a bug and I'll  
change thi behaviour).
You can close the window using the dev.off() command.

You can't copy from this window (yet) and this lead to a crash: this a  
bug and I'll fix it.

But, either using Carbon R or Darwin R I never experienced a crash just  
waiting for 20 secs. Please, give me the exact step you do to arrive to  
a crash otherwise I cannot debug this.

stefano

On Friday, November 8, 2002, at 04:28 PM, h95mr@mun.ca wrote:

> Full_Name: Martin Renner
> Version: 1.6.0
> OS: MacOS X 10.2.1
> Submission from: (NULL) (134.153.109.176)
>
>
> Opening a new graphics device with quartz () produces a quartz window  
> but it
> cannot be resized, there's no red close-button and R usually crashes  
> within the
> next 20 seconds (unexpectedly quit). Also, I can't copy this window  
> (copy does
> not do anything, old clipboard is not replaced).
>
> Thank you,
>
> Martin
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
> .-.-.-.-.-
> r-devel mailing list -- Read  
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To:  
> r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
> ._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sat Nov  9 12:05:58 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Nov 2002 13:05:58 +0100
Subject: Calling function with proto in Rinternals.h
In-Reply-To: <1036816477.4523.8.camel@ip68-6-78-9.sb.sd.cox.net>
References: <1036816477.4523.8.camel@ip68-6-78-9.sb.sd.cox.net>
Message-ID: <x21y5vlzh5.fsf@biostat.ku.dk>

"Timothy H. Keitt" <tkeitt@mail.utexas.edu> writes:

> (Tried this query on r-help with no luck, maybe someone here can help?)
> 
> I would like to call the 'RFinalizerEx' function that appears in
> Rinternals.h using ".Call". It worked for me in the past, but now I get
> an error message something like: 'call function name not in call table'.
> I'm using the 1.6.1 rpm from CRAN. Anyone know what's going on? Thanks.

I don't see a function of that name in there?

$ find BUILD/include -name *.[ch] | xargs grep FinalizerEx
BUILD/include/Rinternals.h:void R_RegisterFinalizerEx(SEXP s,
 SEXP fun, Rboolean onexit);
BUILD/include/Rinternals.h:void R_RegisterCFinalizerEx(SEXP s,
 R_CFinalizer_t fun, Rboolean onexit);

However, you can't find those with is.loaded either. I'm getting rusty
on the linker issues, but I don't think you can expect to call just
any function in the C level interface using .Call. (Perhaps we need
another section in "Writing R Extensions"? -- I couldn't find a clear
indication of what, if any, functions are getting exported to .C and
friends from the main binary and by which mechanism.)

Notice the existence of reg.finalizer(), which may be the
functionality you were looking for in the first place.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sat Nov  9 15:06:24 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 9 Nov 2002 15:06:24 +0000 (GMT)
Subject: Calling function with proto in Rinternals.h
In-Reply-To: <x21y5vlzh5.fsf@biostat.ku.dk>
Message-ID: <Pine.LNX.4.31.0211091501580.13633-100000@gannet.stats>

On 9 Nov 2002, Peter Dalgaard BSA wrote:

> "Timothy H. Keitt" <tkeitt@mail.utexas.edu> writes:
>
> > (Tried this query on r-help with no luck, maybe someone here can help?)
> >
> > I would like to call the 'RFinalizerEx' function that appears in
> > Rinternals.h using ".Call". It worked for me in the past, but now I get
> > an error message something like: 'call function name not in call table'.
> > I'm using the 1.6.1 rpm from CRAN. Anyone know what's going on? Thanks.
>
> I don't see a function of that name in there?
>
> $ find BUILD/include -name *.[ch] | xargs grep FinalizerEx
> BUILD/include/Rinternals.h:void R_RegisterFinalizerEx(SEXP s,
>  SEXP fun, Rboolean onexit);
> BUILD/include/Rinternals.h:void R_RegisterCFinalizerEx(SEXP s,
>  R_CFinalizer_t fun, Rboolean onexit);
>
> However, you can't find those with is.loaded either. I'm getting rusty
> on the linker issues, but I don't think you can expect to call just
> any function in the C level interface using .Call. (Perhaps we need
> another section in "Writing R Extensions"? -- I couldn't find a clear
> indication of what, if any, functions are getting exported to .C and
> friends from the main binary and by which mechanism.)

It's file src/appl/ROUTINES which is used to generate the appropriate
headers: see src/appl/README.  Under Unix this is done in src/unix.

I don't think it should be in R-exts.texi, as only R-core can extend R
this way (and those who do so know how to do so ...).


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sat Nov  9 15:31:20 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Nov 2002 16:31:20 +0100
Subject: Calling function with proto in Rinternals.h
In-Reply-To: <Pine.LNX.4.31.0211091501580.13633-100000@gannet.stats>
References: <Pine.LNX.4.31.0211091501580.13633-100000@gannet.stats>
Message-ID: <x2wunmlpyv.fsf@biostat.ku.dk>

ripley@stats.ox.ac.uk writes:

> > However, you can't find those with is.loaded either. I'm getting rusty
> > on the linker issues, but I don't think you can expect to call just
> > any function in the C level interface using .Call. (Perhaps we need
> > another section in "Writing R Extensions"? -- I couldn't find a clear
> > indication of what, if any, functions are getting exported to .C and
> > friends from the main binary and by which mechanism.)
> 
> It's file src/appl/ROUTINES which is used to generate the appropriate
> headers: see src/appl/README.  Under Unix this is done in src/unix.
> 
> I don't think it should be in R-exts.texi, as only R-core can extend R
> this way (and those who do so know how to do so ...).

(...but tend to forget over time.)

Not as an extension mechanism, agreed, but it could be there in the
form of a reference for the entry points that are available to R code.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From duncan@research.bell-labs.com  Sat Nov  9 15:45:35 2002
From: duncan@research.bell-labs.com (Duncan Temple Lang)
Date: Sat, 9 Nov 2002 10:45:35 -0500
Subject: Calling function with proto in Rinternals.h
In-Reply-To: <x2wunmlpyv.fsf@biostat.ku.dk>; from p.dalgaard@biostat.ku.dk on Sat, Nov 09, 2002 at 04:31:20PM +0100
References: <Pine.LNX.4.31.0211091501580.13633-100000@gannet.stats> <x2wunmlpyv.fsf@biostat.ku.dk>
Message-ID: <20021109104535.B3699@jessie.research.bell-labs.com>

Peter Dalgaard BSA wrote:
> ripley@stats.ox.ac.uk writes:
> 
> > > However, you can't find those with is.loaded either. I'm getting rusty
> > > on the linker issues, but I don't think you can expect to call just
> > > any function in the C level interface using .Call. (Perhaps we need
> > > another section in "Writing R Extensions"? -- I couldn't find a clear
> > > indication of what, if any, functions are getting exported to .C and
> > > friends from the main binary and by which mechanism.)
> > 
> > It's file src/appl/ROUTINES which is used to generate the appropriate
> > headers: see src/appl/README.  Under Unix this is done in src/unix.
> > 
> > I don't think it should be in R-exts.texi, as only R-core can extend R
> > this way (and those who do so know how to do so ...).
> 
> (...but tend to forget over time.)
> 
> Not as an extension mechanism, agreed, but it could be there in the
> form of a reference for the entry points that are available to R code.

I mentioned in Boston that we will probably move these to the explicit
registration mechanism for C/Fortran routines so that there is a
single mechanism for both core and package code.  One of the
side-effects of this is that we will get run-time reflectance; so from
within R one will be able to ask for the available exported routines
and any information supplied for them such as the number of arguments,
etc.

I'll hopefully get to this sometime soon and when I can determine that
it doesn't break anything on the different platforms.

> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
_______________________________________________________________

Duncan Temple Lang                duncan@research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tkeitt@mail.utexas.edu  Sat Nov  9 15:51:45 2002
From: tkeitt@mail.utexas.edu (Timothy H. Keitt)
Date: 09 Nov 2002 07:51:45 -0800
Subject: Calling function with proto in Rinternals.h
In-Reply-To: <x21y5vlzh5.fsf@biostat.ku.dk>
References: <1036816477.4523.8.camel@ip68-6-78-9.sb.sd.cox.net>
 <x21y5vlzh5.fsf@biostat.ku.dk>
Message-ID: <1036857106.8203.5.camel@ip68-6-78-9.sb.sd.cox.net>

Ah, perfect (reg.finalizer). Thanks.

T.

On Sat, 2002-11-09 at 04:05, Peter Dalgaard BSA wrote:
> "Timothy H. Keitt" <tkeitt@mail.utexas.edu> writes:
> 
> > (Tried this query on r-help with no luck, maybe someone here can help?)
> > 
> > I would like to call the 'RFinalizerEx' function that appears in
> > Rinternals.h using ".Call". It worked for me in the past, but now I get
> > an error message something like: 'call function name not in call table'.
> > I'm using the 1.6.1 rpm from CRAN. Anyone know what's going on? Thanks.
> 
> I don't see a function of that name in there?
> 
> $ find BUILD/include -name *.[ch] | xargs grep FinalizerEx
> BUILD/include/Rinternals.h:void R_RegisterFinalizerEx(SEXP s,
>  SEXP fun, Rboolean onexit);
> BUILD/include/Rinternals.h:void R_RegisterCFinalizerEx(SEXP s,
>  R_CFinalizer_t fun, Rboolean onexit);
> 
> However, you can't find those with is.loaded either. I'm getting rusty
> on the linker issues, but I don't think you can expect to call just
> any function in the C level interface using .Call. (Perhaps we need
> another section in "Writing R Extensions"? -- I couldn't find a clear
> indication of what, if any, functions are getting exported to .C and
> friends from the main binary and by which mechanism.)
> 
> Notice the existence of reg.finalizer(), which may be the
> functionality you were looking for in the first place.
> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-- 
Timothy H. Keitt
The University of Texas at Austin
Section of Integrative Biology
1 University Station C0930
Austin, Texas 78712-0253 USA

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tkeitt@mail.utexas.edu  Sat Nov  9 16:11:11 2002
From: tkeitt@mail.utexas.edu (Timothy H. Keitt)
Date: 09 Nov 2002 08:11:11 -0800
Subject: Calling function with proto in Rinternals.h
In-Reply-To: <1036857106.8203.5.camel@ip68-6-78-9.sb.sd.cox.net>
References: <1036816477.4523.8.camel@ip68-6-78-9.sb.sd.cox.net>
 <x21y5vlzh5.fsf@biostat.ku.dk>
 <1036857106.8203.5.camel@ip68-6-78-9.sb.sd.cox.net>
Message-ID: <1036858272.8268.14.camel@ip68-6-78-9.sb.sd.cox.net>

Quick follow up question -- does reg.finalizer() use the "on exit"
option. (If not, perhaps it could be added as a flag?)

T.

On Sat, 2002-11-09 at 07:51, Timothy H. Keitt wrote:
> Ah, perfect (reg.finalizer). Thanks.
> 
> T.
> 

-- 
Timothy H. Keitt
The University of Texas at Austin
Section of Integrative Biology
1 University Station C0930
Austin, Texas 78712-0253 USA

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Sat Nov  9 17:55:18 2002
From: edd@debian.org (Dirk Eddelbuettel)
Date: Sat, 9 Nov 2002 11:55:18 -0600
Subject: (PR#2275) Re: Bug#168259: r-base-core: help.start() assumes netscape is installed
In-Reply-To: <Pine.LNX.4.31.0211081545310.10657-100000@gannet.stats>
References: <200211081502.QAA09163@pubhealth.ku.dk> <Pine.LNX.4.31.0211081545310.10657-100000@gannet.stats>
Message-ID: <20021109175518.GA2518@sonny.eddelbuettel.com>

On Fri, Nov 08, 2002 at 03:51:10PM +0000, ripley@stats.ox.ac.uk wrote:
> > To best of my knowledge, this R feature dates from a time when
> > Netscape was essentially the only browser out there. It also had
> > a most useful feature: you could attach new request (resulting in
> > a new "frame" in X11 / window manager parlance) to a running Netscape
> > making startup for this request /much/ faster than starting a new
> > Netscape executable.
> 
> and netscape no longer allows multiple executables to run.

I just confirmed that mozilla does. E.g.
  mozilla http://bbc.com & sleep 3; mozilla -remote "openurl(http://cnn.com)"
happily switches the running session from the BBC to CNN.

Neither galeon [ a mozilla derivative ] nor konqueror [ different codebase ]
appear to support it.

Would there be interest in a solution based on mozilla?  Mozilla is
cross-platform [ I use it under NT and *love* the tabbing ] but not that
common.

Dirk

-- 
The only function of economic forecasting is to make astrology 
look respectable.                    -- John Kenneth Galbraith
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossini@u.washington.edu  Sat Nov  9 18:56:55 2002
From: rossini@u.washington.edu (A.J. Rossini)
Date: 09 Nov 2002 10:56:55 -0800
Subject: (PR#2275) Re: Bug#168259: r-base-core: help.start() assumes netscape is installed
In-Reply-To: <20021109175518.GA2518@sonny.eddelbuettel.com>
References: <200211081502.QAA09163@pubhealth.ku.dk>
 <Pine.LNX.4.31.0211081545310.10657-100000@gannet.stats>
 <20021109175518.GA2518@sonny.eddelbuettel.com>
Message-ID: <87adkiy3k8.fsf@jeeves.blindglobe.net>

>>>>> "dirk" == Dirk Eddelbuettel <edd@debian.org> writes:

    dirk> On Fri, Nov 08, 2002 at 03:51:10PM +0000, ripley@stats.ox.ac.uk wrote:
    >> > To best of my knowledge, this R feature dates from a time when
    >> > Netscape was essentially the only browser out there. It also had
    >> > a most useful feature: you could attach new request (resulting in
    >> > a new "frame" in X11 / window manager parlance) to a running Netscape
    >> > making startup for this request /much/ faster than starting a new
    >> > Netscape executable.
    >> 
    >> and netscape no longer allows multiple executables to run.

    dirk> I just confirmed that mozilla does. E.g.  mozilla
    dirk> http://bbc.com & sleep 3; mozilla -remote
    dirk> "openurl(http://cnn.com)" happily switches the running
    dirk> session from the BBC to CNN.

    dirk> Neither galeon [ a mozilla derivative ] nor konqueror [
    dirk> different codebase ] appear to support it.

Weird.  Galeon can support both "adding a tab" as well as "separate
executable", apparently -- a few days ago, I was getting both from
different tools with "fetch a URL" features (mostly of the dockapps
variety).

Same with recent konquerors...

(however, Mozilla seems to be the most stable cross platform -- I'm
having weird errors on LinuxPPC).

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini@u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini@scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossini@u.washington.edu  Sat Nov  9 18:57:09 2002
From: rossini@u.washington.edu (A.J. Rossini)
Date: 09 Nov 2002 10:57:09 -0800
Subject: (PR#2275) Re: Bug#168259: r-base-core: help.start() assumes netscape is installed
In-Reply-To: <20021109175518.GA2518@sonny.eddelbuettel.com>
References: <200211081502.QAA09163@pubhealth.ku.dk>
 <Pine.LNX.4.31.0211081545310.10657-100000@gannet.stats>
 <20021109175518.GA2518@sonny.eddelbuettel.com>
Message-ID: <877kfmy3ju.fsf@jeeves.blindglobe.net>

>>>>> "dirk" == Dirk Eddelbuettel <edd@debian.org> writes:

    dirk> On Fri, Nov 08, 2002 at 03:51:10PM +0000, ripley@stats.ox.ac.uk wrote:
    >> > To best of my knowledge, this R feature dates from a time when
    >> > Netscape was essentially the only browser out there. It also had
    >> > a most useful feature: you could attach new request (resulting in
    >> > a new "frame" in X11 / window manager parlance) to a running Netscape
    >> > making startup for this request /much/ faster than starting a new
    >> > Netscape executable.
    >> 
    >> and netscape no longer allows multiple executables to run.

    dirk> I just confirmed that mozilla does. E.g.  mozilla
    dirk> http://bbc.com & sleep 3; mozilla -remote
    dirk> "openurl(http://cnn.com)" happily switches the running
    dirk> session from the BBC to CNN.

    dirk> Neither galeon [ a mozilla derivative ] nor konqueror [
    dirk> different codebase ] appear to support it.

Weird.  Galeon can support both "adding a tab" as well as "separate
executable", apparently -- a few days ago, I was getting both from
different tools with "fetch a URL" features (mostly of the dockapps
variety).

Same with recent konquerors...

(however, Mozilla seems to be the most stable cross platform -- I'm
having weird errors on LinuxPPC with galeon/konq).

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini@u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini@scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sat Nov  9 19:57:02 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Nov 2002 20:57:02 +0100
Subject: Calling function with proto in Rinternals.h
In-Reply-To: <1036858272.8268.14.camel@ip68-6-78-9.sb.sd.cox.net>
References: <1036816477.4523.8.camel@ip68-6-78-9.sb.sd.cox.net>
 <x21y5vlzh5.fsf@biostat.ku.dk>
 <1036857106.8203.5.camel@ip68-6-78-9.sb.sd.cox.net>
 <1036858272.8268.14.camel@ip68-6-78-9.sb.sd.cox.net>
Message-ID: <x2isz6ldo1.fsf@biostat.ku.dk>

"Timothy H. Keitt" <tkeitt@mail.utexas.edu> writes:

> Quick follow up question -- does reg.finalizer() use the "on exit"
> option. (If not, perhaps it could be added as a flag?)

It doesn't, but it might be added. Patches will be considered. (But how
did you manage to use .Call on

void R_RegisterFinalizerEx(SEXP s, SEXP fun, Rboolean onexit)

?? I thought all the arguments had to be SEXP in that interface.)

BTW, it seems that the internal C symbols become visible if you
compile R as a shared library, so that's probably what happened to
you: Your new build didn't do that. (It's obviously still not a good
idea to call such build-dependent entry points...).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Sat Nov  9 20:50:13 2002
From: edd@debian.org (Dirk Eddelbuettel)
Date: Sat, 9 Nov 2002 14:50:13 -0600
Subject: (PR#2275) Re: Bug#168259: r-base-core: help.start() assumes netscape is installed
In-Reply-To: <877kfmy3ju.fsf@jeeves.blindglobe.net>
References: <200211081502.QAA09163@pubhealth.ku.dk> <Pine.LNX.4.31.0211081545310.10657-100000@gannet.stats> <20021109175518.GA2518@sonny.eddelbuettel.com> <877kfmy3ju.fsf@jeeves.blindglobe.net>
Message-ID: <20021109205013.GA6563@sonny.eddelbuettel.com>

On Sat, Nov 09, 2002 at 10:57:09AM -0800, A.J. Rossini wrote:
> >>>>> "dirk" == Dirk Eddelbuettel <edd@debian.org> writes:
> 
>     dirk> On Fri, Nov 08, 2002 at 03:51:10PM +0000, ripley@stats.ox.ac.uk wrote:
>     >> > To best of my knowledge, this R feature dates from a time when
>     >> > Netscape was essentially the only browser out there. It also had
>     >> > a most useful feature: you could attach new request (resulting in
>     >> > a new "frame" in X11 / window manager parlance) to a running Netscape
>     >> > making startup for this request /much/ faster than starting a new
>     >> > Netscape executable.
>     >> 
>     >> and netscape no longer allows multiple executables to run.
> 
>     dirk> I just confirmed that mozilla does. E.g.  mozilla
>     dirk> http://bbc.com & sleep 3; mozilla -remote
>     dirk> "openurl(http://cnn.com)" happily switches the running
>     dirk> session from the BBC to CNN.
> 
>     dirk> Neither galeon [ a mozilla derivative ] nor konqueror [
>     dirk> different codebase ] appear to support it.
> 
> Weird.  Galeon can support both "adding a tab" as well as "separate
> executable", apparently -- a few days ago, I was getting both from
> different tools with "fetch a URL" features (mostly of the dockapps
> variety).
> 
> Same with recent konquerors...

Ah. I may be behind then as far as versions are concerned. Debian testing,
galeon 1.2.5, konqueror 2.2.2.

Dirk

-- 
The only function of economic forecasting is to make astrology 
look respectable.                    -- John Kenneth Galbraith
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Sat Nov  9 20:51:13 2002
From: edd@debian.org (edd@debian.org)
Date: Sat, 9 Nov 2002 21:51:13 +0100 (MET)
Subject: (PR#2275) Re: Bug#168259: r-base-core: help.start() assumes netscape is installed
Message-ID: <200211092051.VAA14973@pubhealth.ku.dk>

On Sat, Nov 09, 2002 at 10:57:09AM -0800, A.J. Rossini wrote:
> >>>>> "dirk" == Dirk Eddelbuettel <edd@debian.org> writes:
> 
>     dirk> On Fri, Nov 08, 2002 at 03:51:10PM +0000, ripley@stats.ox.ac.uk wrote:
>     >> > To best of my knowledge, this R feature dates from a time when
>     >> > Netscape was essentially the only browser out there. It also had
>     >> > a most useful feature: you could attach new request (resulting in
>     >> > a new "frame" in X11 / window manager parlance) to a running Netscape
>     >> > making startup for this request /much/ faster than starting a new
>     >> > Netscape executable.
>     >> 
>     >> and netscape no longer allows multiple executables to run.
> 
>     dirk> I just confirmed that mozilla does. E.g.  mozilla
>     dirk> http://bbc.com & sleep 3; mozilla -remote
>     dirk> "openurl(http://cnn.com)" happily switches the running
>     dirk> session from the BBC to CNN.
> 
>     dirk> Neither galeon [ a mozilla derivative ] nor konqueror [
>     dirk> different codebase ] appear to support it.
> 
> Weird.  Galeon can support both "adding a tab" as well as "separate
> executable", apparently -- a few days ago, I was getting both from
> different tools with "fetch a URL" features (mostly of the dockapps
> variety).
> 
> Same with recent konquerors...

Ah. I may be behind then as far as versions are concerned. Debian testing,
galeon 1.2.5, konqueror 2.2.2.

Dirk

-- 
The only function of economic forecasting is to make astrology 
look respectable.                    -- John Kenneth Galbraith

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sat Nov  9 21:17:47 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 9 Nov 2002 21:17:47 +0000 (GMT)
Subject: (PR#2275) Re: Bug#168259: r-base-core: help.start() assumes
 netscape is installed
In-Reply-To: <20021109175518.GA2518@sonny.eddelbuettel.com>
Message-ID: <Pine.LNX.4.31.0211092107370.13879-100000@gannet.stats>

On Sat, 9 Nov 2002, Dirk Eddelbuettel wrote:

> On Fri, Nov 08, 2002 at 03:51:10PM +0000, ripley@stats.ox.ac.uk wrote:
> > > To best of my knowledge, this R feature dates from a time when
> > > Netscape was essentially the only browser out there. It also had
> > > a most useful feature: you could attach new request (resulting in
> > > a new "frame" in X11 / window manager parlance) to a running Netscape
> > > making startup for this request /much/ faster than starting a new
> > > Netscape executable.
> >
> > and netscape no longer allows multiple executables to run.
>
> I just confirmed that mozilla does. E.g.
>   mozilla http://bbc.com & sleep 3; mozilla -remote "openurl(http://cnn.com)"
> happily switches the running session from the BBC to CNN.

That's not running multiple executables: that is remote-controlling an
existing one.  Not only that, the second command takes over any existing
mozilla on the display, even one running on a completely different machine
(e.g. a session on a remote Solaris box).  It's the last part that is
fatal to the earlier help.start/help scheme.

For me, on Linux, both Mozilla 1.1 and Netscape 7.0 refuse to allow me to
run a new copy if one is already running.  This is an issue as the
help.start/help interface tries to run a new copy if running R remotely.

They do allow multiple invocations under Windows and seem only to run one
copy.

Try mozilla http://bbc.com & sleep 20; mozilla http://cnn.com.
I get a dialog box telling me a copy is already running under my profile
and refusing to allow me to run another one.

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Sat Nov  9 21:43:33 2002
From: edd@debian.org (Dirk Eddelbuettel)
Date: Sat, 9 Nov 2002 15:43:33 -0600
Subject: (PR#2275) Re: Bug#168259: r-base-core: help.start() assumes netscape is installed
In-Reply-To: <Pine.LNX.4.31.0211092107370.13879-100000@gannet.stats>
References: <20021109175518.GA2518@sonny.eddelbuettel.com> <Pine.LNX.4.31.0211092107370.13879-100000@gannet.stats>
Message-ID: <20021109214333.GA7627@sonny.eddelbuettel.com>

On Sat, Nov 09, 2002 at 09:17:47PM +0000, ripley@stats.ox.ac.uk wrote:
> > > and netscape no longer allows multiple executables to run.
> >
> > I just confirmed that mozilla does. E.g.
> >   mozilla http://bbc.com & sleep 3; mozilla -remote "openurl(http://cnn.com)"
> > happily switches the running session from the BBC to CNN.
> 
> That's not running multiple executables: that is remote-controlling an
> existing one.  Not only that, the second command takes over any existing
> mozilla on the display, even one running on a completely different machine
> (e.g. a session on a remote Solaris box).  It's the last part that is
> fatal to the earlier help.start/help scheme.
> 
> For me, on Linux, both Mozilla 1.1 and Netscape 7.0 refuse to allow me to
> run a new copy if one is already running.  This is an issue as the
> help.start/help interface tries to run a new copy if running R remotely.
> 
> They do allow multiple invocations under Windows and seem only to run one
> copy.
> 
> Try mozilla http://bbc.com & sleep 20; mozilla http://cnn.com.
> I get a dialog box telling me a copy is already running under my profile
> and refusing to allow me to run another one.

This works for me! I get two distinct ;frames'. And "pstree -p" shows only
one main process with one child which has four other child processes.  So it
looks as if they are sharing.

[ some more snooping ]

Indeed. Once I start the 2nd one, ps show mozilla-remote as a parallel
process. This then seems to migrate into the earlier mozilla even when that
one was started in a different shell.  File->Quit also brings both frames to
an end.  mozilla-1.0.0 as in Debian testing.

Dirk


-- 
The only function of economic forecasting is to make astrology 
look respectable.                    -- John Kenneth Galbraith
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sat Nov  9 22:01:52 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 9 Nov 2002 22:01:52 +0000 (GMT)
Subject: (PR#2275) Re: Bug#168259: r-base-core: help.start() assumes
 netscape is installed
In-Reply-To: <20021109214333.GA7627@sonny.eddelbuettel.com>
Message-ID: <Pine.LNX.4.31.0211092147250.14000-100000@gannet.stats>

On Sat, 9 Nov 2002, Dirk Eddelbuettel wrote:

> On Sat, Nov 09, 2002 at 09:17:47PM +0000, ripley@stats.ox.ac.uk wrote:
> > > > and netscape no longer allows multiple executables to run.
> > >
> > > I just confirmed that mozilla does. E.g.
> > >   mozilla http://bbc.com & sleep 3; mozilla -remote "openurl(http://cnn.com)"
> > > happily switches the running session from the BBC to CNN.
> >
> > That's not running multiple executables: that is remote-controlling an
> > existing one.  Not only that, the second command takes over any existing
> > mozilla on the display, even one running on a completely different machine
> > (e.g. a session on a remote Solaris box).  It's the last part that is
> > fatal to the earlier help.start/help scheme.
> >
> > For me, on Linux, both Mozilla 1.1 and Netscape 7.0 refuse to allow me to
> > run a new copy if one is already running.  This is an issue as the
> > help.start/help interface tries to run a new copy if running R remotely.
> >
> > They do allow multiple invocations under Windows and seem only to run one
> > copy.
> >
> > Try mozilla http://bbc.com & sleep 20; mozilla http://cnn.com.
> > I get a dialog box telling me a copy is already running under my profile
> > and refusing to allow me to run another one.
>
> This works for me! I get two distinct ;frames'. And "pstree -p" shows only
> one main process with one child which has four other child processes.  So it
> looks as if they are sharing.
>
> [ some more snooping ]
>
> Indeed. Once I start the 2nd one, ps show mozilla-remote as a parallel
> process. This then seems to migrate into the earlier mozilla even when that
> one was started in a different shell.  File->Quit also brings both frames to
> an end.  mozilla-1.0.0 as in Debian testing.

That's what happened a year or so ago, and in Netscape 6.2.  But that is
not the current mozilla release, if Debian use Mozilla's numbering scheme.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Sat Nov  9 22:16:06 2002
From: edd@debian.org (Dirk Eddelbuettel)
Date: Sat, 9 Nov 2002 16:16:06 -0600
Subject: (PR#2275) Re: Bug#168259: r-base-core: help.start() assumes netscape is installed
In-Reply-To: <Pine.LNX.4.31.0211092147250.14000-100000@gannet.stats>
References: <20021109214333.GA7627@sonny.eddelbuettel.com> <Pine.LNX.4.31.0211092147250.14000-100000@gannet.stats>
Message-ID: <20021109221606.GA8552@sonny.eddelbuettel.com>

On Sat, Nov 09, 2002 at 10:01:52PM +0000, ripley@stats.ox.ac.uk wrote:
> On Sat, 9 Nov 2002, Dirk Eddelbuettel wrote:
> 
> > On Sat, Nov 09, 2002 at 09:17:47PM +0000, ripley@stats.ox.ac.uk wrote:
> > > > > and netscape no longer allows multiple executables to run.
> > > >
> > > > I just confirmed that mozilla does. E.g.
> > > >   mozilla http://bbc.com & sleep 3; mozilla -remote "openurl(http://cnn.com)"
> > > > happily switches the running session from the BBC to CNN.
> > >
> > > That's not running multiple executables: that is remote-controlling an
> > > existing one.  Not only that, the second command takes over any existing
> > > mozilla on the display, even one running on a completely different machine
> > > (e.g. a session on a remote Solaris box).  It's the last part that is
> > > fatal to the earlier help.start/help scheme.
> > >
> > > For me, on Linux, both Mozilla 1.1 and Netscape 7.0 refuse to allow me to
> > > run a new copy if one is already running.  This is an issue as the
> > > help.start/help interface tries to run a new copy if running R remotely.
> > >
> > > They do allow multiple invocations under Windows and seem only to run one
> > > copy.
> > >
> > > Try mozilla http://bbc.com & sleep 20; mozilla http://cnn.com.
> > > I get a dialog box telling me a copy is already running under my profile
> > > and refusing to allow me to run another one.
> >
> > This works for me! I get two distinct ;frames'. And "pstree -p" shows only
> > one main process with one child which has four other child processes.  So it
> > looks as if they are sharing.
> >
> > [ some more snooping ]
> >
> > Indeed. Once I start the 2nd one, ps show mozilla-remote as a parallel
> > process. This then seems to migrate into the earlier mozilla even when that
> > one was started in a different shell.  File->Quit also brings both frames to
> > an end.  mozilla-1.0.0 as in Debian testing.
> 
> That's what happened a year or so ago, and in Netscape 6.2.  But that is
> not the current mozilla release, if Debian use Mozilla's numbering scheme.

mozilla-1.1 is in Debian unstable. I run Debian testing into which packages
from unstable migrate after two weeks -- unless there are unmet
dependencies or bugs or ...   With something like gnome or mozilla the
migration is often delayed.

But if the feature is missing in 1.1, I am not sure I can do something
useful here. Too bad.

-- 
The only function of economic forecasting is to make astrology 
look respectable.                    -- John Kenneth Galbraith
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tkeitt@mail.utexas.edu  Sun Nov 10 07:42:24 2002
From: tkeitt@mail.utexas.edu (Timothy H. Keitt)
Date: 09 Nov 2002 23:42:24 -0800
Subject: Calling function with proto in Rinternals.h
In-Reply-To: <x2isz6ldo1.fsf@biostat.ku.dk>
References: <1036816477.4523.8.camel@ip68-6-78-9.sb.sd.cox.net>
 <x21y5vlzh5.fsf@biostat.ku.dk>
 <1036857106.8203.5.camel@ip68-6-78-9.sb.sd.cox.net>
 <1036858272.8268.14.camel@ip68-6-78-9.sb.sd.cox.net>
 <x2isz6ldo1.fsf@biostat.ku.dk>
Message-ID: <1036914144.21672.10.camel@ip68-6-78-9.sb.sd.cox.net>

On Sat, 2002-11-09 at 11:57, Peter Dalgaard BSA wrote:
> "Timothy H. Keitt" <tkeitt@mail.utexas.edu> writes:
> 
> > Quick follow up question -- does reg.finalizer() use the "on exit"
> > option. (If not, perhaps it could be added as a flag?)
> 
> It doesn't, but it might be added. Patches will be considered. (But how
> did you manage to use .Call on
> 
> void R_RegisterFinalizerEx(SEXP s, SEXP fun, Rboolean onexit)
> 
> ?? I thought all the arguments had to be SEXP in that interface.)
> 
> BTW, it seems that the internal C symbols become visible if you
> compile R as a shared library, so that's probably what happened to
> you: Your new build didn't do that. (It's obviously still not a good
> idea to call such build-dependent entry points...).

Dunno why that worked; probably I was passing garbage in the last
parameter, but non-zero garbage is still true. I was using Debian and I
suppose it was dynamically linked, which is why using .Call worked at
all.

T.

> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-- 
Timothy H. Keitt
The University of Texas at Austin
Section of Integrative Biology
1 University Station C0930
Austin, Texas 78712-0253 USA

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Sun Nov 10 21:36:58 2002
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Sun, 10 Nov 2002 13:36:58 -0800 (PST)
Subject: Calling function with proto in Rinternals.h
In-Reply-To: <1036914144.21672.10.camel@ip68-6-78-9.sb.sd.cox.net>
Message-ID: <Pine.A41.4.44.0211101330360.132942-100000@homer07.u.washington.edu>

On 9 Nov 2002, Timothy H. Keitt wrote:

> On Sat, 2002-11-09 at 11:57, Peter Dalgaard BSA wrote:
> > "Timothy H. Keitt" <tkeitt@mail.utexas.edu> writes:
> >
> > > Quick follow up question -- does reg.finalizer() use the "on exit"
> > > option. (If not, perhaps it could be added as a flag?)
> >
> > It doesn't, but it might be added. Patches will be considered. (But how
> > did you manage to use .Call on
> >
> > void R_RegisterFinalizerEx(SEXP s, SEXP fun, Rboolean onexit)
> >
> > ?? I thought all the arguments had to be SEXP in that interface.)

Horrible things will happen on a 64-bit machine, where Rboolean and SEXP
are different lengths, but on a 32bit machine the argument passing is
likely to work (for suitably restricted definitions of `work').  I'm more
impressed by the fact you could .Call a void function when .Call expects a
SEXP return.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jmc@research.bell-labs.com  Mon Nov 11 16:26:52 2002
From: jmc@research.bell-labs.com (John Chambers)
Date: Mon, 11 Nov 2002 11:26:52 -0500
Subject: C macros NEW and MAKE_CLASS
Message-ID: <3DCFDA4C.E63962C3@research.bell-labs.com>

Definitions of these have been added to the r-devel version, following
page 441 in Programming with Data.

Typical use is in the style:

  char *class = "foo";  SEXP cldef, object;
  clDef = MAKE_CLASS(class);
  object = NEW(clDef);

Let me know of any problems.

John

-- 
John M. Chambers                  jmc@bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jenny@stat.ubc.ca  Mon Nov 11 19:49:58 2002
From: jenny@stat.ubc.ca (jenny@stat.ubc.ca)
Date: Mon, 11 Nov 2002 20:49:58 +0100 (MET)
Subject: PDF graphics -- color weirdness (PR#2281)
Message-ID: <200211111949.UAA00397@pubhealth.ku.dk>

Full_Name: Jenny Bryan
Version: 1.4.1
OS: Linux + Windows 2000
Submission from: (NULL) (24.80.7.215)


I'm using R 1.4.1 to make PDF graphics in a Linux environment.  I then include
them in a LaTeX document that I'm actually typesetting in Windows.  I don't
think the OSes have anything to do with this.

I use the foils documentclass, pdflatex to typeset, ppower4 to postprocess the
pdf file to get some nice features.  Once again, I don't think any of this is
the root of the problem.

It seems that the way R specifies colors for PDF figure elements and text has
quite a bit of diversity in it, but you'd never notice it until you putthese
PDFs onto a dark blue background in a document where "yellow" is the default
document foreground color.

What I've found is that, when the default page color is not white -- such as
when it's dark blue, as is typical for laptop presentations -- the colors in an
included pdf file generate by R can have some unexpected behavior.

I've created a pdf "talk" that is the best way to demonstrate this.  I'd be
pleased to send it to whomever might look into this.

But here's the short version:
Some objects appear to take their color not in an absolute way (as in "black"),
but relative to the current document context (as in some notion of the 'default
color' at this moment.  Which objects do this is pretty unpredictable.  Behavior
also seems to depend on current value of "par("bg").

As far as I can tell, objects in the figure break into three categories:

1) Appear as the color of "fg" (i.e. black) NO MATTER WHAT.  In my small
examples, only seems to happen for the tick mark labels produced by "axis()".

2) Appear as the current notion of the document's default color.  Happens for
figure box, plot points, and axis tick marks produced by "plot()".

3) Affected by the color of "bg".  If "bg = transparent", then these appear in
"fg" color.  If "bg = <somecolor>", then these appear in the current notion of
document default color.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.murrell@auckland.ac.nz  Mon Nov 11 23:58:32 2002
From: p.murrell@auckland.ac.nz (Paul Murrell)
Date: Tue, 12 Nov 2002 12:58:32 +1300
Subject: strwidth(font=NULL)
References: <Pine.LNX.4.31.0211082220400.12649-100000@gannet.stats>
Message-ID: <3DD04428.904A7C3@stat.auckland.ac.nz>

Hi


ripley@stats.ox.ac.uk wrote:
> 
> If you look in the code you will see this is mentioned as a if/when
> possibility in several places.
> 
> See also bug report PR#776, from December 2000, so this is probably in the
> Real Soon Now category.  Paul Murrell might have a better estimate!


I am half way through a change to R's font specification 
(see http://www.stat.auckland.ac.nz/~paul/R/fonts.html
and http://www.stat.auckland.ac.nz/~paul/R/paul-todo.html)
which will eventually filter down to R-code, including this change.

(unfortunately, I cannot give an estimate any more accurate than Brian's
at this stage)

Paul


> On Fri, 8 Nov 2002, David Brahm wrote:
> 
> >    Would it be possible to give strwidth() and strheight() an argument "font",
> > that worked like the "cex" argument (i.e. defaults to current par("font"), but
> > can be overridden)?  Then I could replace this:
> >
> >   R> oldpar <- par(font=2)
> >   R> x <- strwidth("hello")
> >   R> par(oldpar)
> >
> > with this:
> >
> >   R> x <- strwidth("hello", font=2)
> >
> > Thanks!
> 
> --
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Dr Paul Murrell
Department of Statistics
The University of Auckland
Private Bag 92019
Auckland
New Zealand
64 9 3737599 x5392
paul@stat.auckland.ac.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ligges@statistik.uni-dortmund.de  Tue Nov 12 08:44:39 2002
From: ligges@statistik.uni-dortmund.de (ligges@statistik.uni-dortmund.de)
Date: Tue, 12 Nov 2002 09:44:39 +0100 (MET)
Subject: [R] grid(): defaults of nx and ny do not correspond with axis() (PR#2282)
Message-ID: <200211120844.JAA03800@pubhealth.ku.dk>

wolfram@fischer-zim.ch wrote:
> 
> Problem:
>     When tick marks are set by axis(), the default grid() does not always
>     correspond with the tick marks, although the manual of grid() says:
>     nx,ny: ... When `NULL', as per default, the grid aligns with the
>            tick marks on the corresponding axis, when `NA', no grid
>            lines are drawn in the corresponding direction.
> 
> Example:
>     m <- 200; n <- 10; i <- 40
>     plot( 1:n, sample( 1:m, n, T ), type='b', yaxt='n' )
>     axis( side=2, at = seq( 0, m, i ), col='blue' )
>     grid( col='red', lty=2 )


I think the "bug" is a small inconsistency in the help page. With the
current design of axis() and par() it's not (at least not easily)
possible to make grid() that intelligent. For these cases the help page
tells us: "If more fine tuning is required, use abline(h = ., v = .)
directly."

To fix the "bug", I suggest a clarification in ?grid by inserting a few
words in the sentence you are citing, e.g.:
"When `NULL', as per default, the grid aligns with the tick marks on the
corresponding \emph{default} axis (i.e. tickmarks as computed by
axTicks()), [...]".

Uwe Ligges

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jarioksa@sun3.oulu.fi  Tue Nov 12 11:51:41 2002
From: jarioksa@sun3.oulu.fi (jarioksa@sun3.oulu.fi)
Date: Tue, 12 Nov 2002 12:51:41 +0100 (MET)
Subject: Wandering usr values in par(no.readonly=TRUW) (PR#2283)
Message-ID: <200211121151.MAA07319@pubhealth.ku.dk>

--==_Exmh_1801894504P
Content-Type: text/plain; charset=us-ascii

Dear R folks,

Initially I had a plotting routine using logarithmic y-axes that failed after
repeated calls if I tried to restore the graphical parameters (which I wanted to
do because I used `layout' within the routine. I tried to isolate the problem
and found out that the following code with logarithmic axis is sufficient for
reproducing the failure:

> plot2.log
function (x=1:2,y=1:2) 
{
   op <- par(no.readonly=TRUE)
   on.exit(par(op))
   cat(op$usr, "\n")
   plot(x, y, log="y")
   #par(op)
   invisible(op)
}

Here is a session with the typical error message (Infinite axis extents):

> op <- par(no.readonly=TRUE)
> op$usr
[1] 0 1 0 1
> plot2.log()$usr
0 1 0 1 
[1] 0 1 0 1
> plot2.log()$usr
0 1 1 10 
[1]  0  1  1 10
> plot2.log()$usr
0 1 10 1e+10 
Error in par(op) : Infinite axis extents [GPretty(1e+10,inf,5)]

So this happens only with a repeated call to logarithmic axes.

I found out this feature sometimes back in R-1.5*, but I regarded that as my 
own bug. It started to disturb me yesterday when I had a live R session in my 
lectures, and got to edit away the par-restoring code to continue.

Best wishes, Jari Oksanen


--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = 
 major = 1
 minor = 6.1
 year = 2002
 month = 11
 day = 01
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base

-- 
Jari Oksanen -- Dept Biology, Univ Oulu, 90014 Oulu, Finland
Ph. +358 8 5531526, cell +358 40 5136529, fax +358 8 5531061
email jari.oksanen@oulu.fi, homepage http://cc.oulu.fi/~jarioksa/



--==_Exmh_1801894504P
Content-Type: application/pgp-signature

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.6 (GNU/Linux)
Comment: Exmh version 2.1.1 10/15/1999

iD8DBQE90OsUWnxFzE9NjaURAcwSAJwJdXXP/qgUyCFahR4GsWbBxVl0YACeKBPe
AFIwTfrg/l7H0fr0HJONcaI=
=mkza
-----END PGP SIGNATURE-----

--==_Exmh_1801894504P--

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From mschwartz@medanalytics.com  Tue Nov 12 21:51:17 2002
From: mschwartz@medanalytics.com (Marc Schwartz)
Date: Tue, 12 Nov 2002 15:51:17 -0600
Subject: Wandering usr values in par(no.readonly=TRUW) (PR#2283)
In-Reply-To: <200211121151.MAA07319@pubhealth.ku.dk>
Message-ID: <003801c28a95$a246bbe0$0201a8c0@MARC>

> -----Original Message-----
> jarioksa@sun3.oulu.fi
> 
> Dear R folks,
> 
> Initially I had a plotting routine using logarithmic y-axes
> that failed after repeated calls if I tried to restore the 
> graphical parameters (which I wanted to do because I used 
> `layout' within the routine. I tried to isolate the problem 
> and found out that the following code with logarithmic axis 
> is sufficient for reproducing the failure:
> 
> > plot2.log
> function (x=1:2,y=1:2)
> {
>    op <- par(no.readonly=TRUE)
>    on.exit(par(op))
>    cat(op$usr, "\n")
>    plot(x, y, log="y")
>    #par(op)
>    invisible(op)
> }
> 
> Here is a session with the typical error message (Infinite
> axis extents):
> 
> > op <- par(no.readonly=TRUE)
> > op$usr
> [1] 0 1 0 1
> > plot2.log()$usr
> 0 1 0 1
> [1] 0 1 0 1
> > plot2.log()$usr
> 0 1 1 10
> [1]  0  1  1 10
> > plot2.log()$usr
> 0 1 10 1e+10
> Error in par(op) : Infinite axis extents [GPretty(1e+10,inf,5)]
> 
> So this happens only with a repeated call to logarithmic axes.
> 
> I found out this feature sometimes back in R-1.5*, but I
> regarded that as my 
> own bug. It started to disturb me yesterday when I had a live 
> R session in my 
> lectures, and got to edit away the par-restoring code to continue.
> 
> Best wishes, Jari Oksanen

This works outside of the function as well by repeating the following 6
lines, 3 times:

op <- par(no.readonly=TRUE)
plot(1:2, 1:2, log = "y")
par(op)
# take note of the following values as they change with each iteration
op$usr
par("usr")

However, if you close the plot window before each subsequent iteration,
it does not occur and you can repeat ad nauseaum, presumably because a
fresh plotting device with the default pars is being created each time.

It would appear at first glance that the values being returned to
par("usr") from op$usr after the plot() with a log axis are the "log
axis transformed" par("usr") values.

That is par("usr") starts as 0, 1, 0, 1 before plotting. 

After the first log plot, the restored par("usr") is now 0, 1, 1, 10. 

At that point, par("usr")[3:4] which are the y-axis related values, are
10 ^ 0 and 10 ^ 1 respectively, which is consistent with the way that
the par("usr") values are transformed when using log scaling.

This continues on the second iteration as the starting values for
par("usr")[3:4] of 1 and 10 after being restored are now transformed
into 10 ^ 1 and 10 ^ 10 respectively.

It would seem that upon the restoration of the initial stored par
values, the values are being restored as if they are exponents.

BTW, this occurs with log = "x" and log = "xy" as well, thus affecting
the first two and all four par("usr") values, respectively, in a similar
fashion.

I am guessing that this may be the result of par("ylog") and par("xlog")
being read only and perhaps impacting the restoration of the par("usr")
values when the plotting device is still open, but that may be
incorrect.

HTH a little,

Marc Schwartz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Wed Nov 13 13:31:56 2002
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Wed, 13 Nov 2002 14:31:56 +0100 (MET)
Subject: Welch versus Satterthwaith (PR#2111)
Message-ID: <200211131331.OAA20882@pubhealth.ku.dk>

>>>>> "TL" == Thomas Lumley <tlumley@u.washington.edu>
>>>>>     on Sun, 6 Oct 2002 09:19:27 -0700 (PDT) writes:

    TL> On Sat, 5 Oct 2002 roxburg@kih.net wrote:
    >> This is not a bug report but didn't see another way to
    >> ask a question.

    TL> Well, you could try the r-help or r-devel mailing lists

    >> For the approximate t-test assuming unequal variances,
    >> the R docs cite Welch's method for the df of the
    >> approximating distribution.  I have several methods
    >> books, and they all uses Satterthwaite's method.  Why
    >> does R use Welch's method where can I learn about Welch's
    >> method?
    >> 

    TL> It's the same method.

    TL> The t-statistic is the difference in means divided by a
    TL> more-or-less unbiased estimate of its standard
    TL> deviation. There's only one natural way to do this and
    TL> in sufficiently large samples that's all you need.

    TL> The more difficult part is the sampling distribution,
    TL> which is approximated by a t-distribution with degrees
    TL> of freedom from some complicated formula involving the
    TL> two sample sizes and variances.  It was indepedently
    TL> derived by Welch and Satterthwaite.


I've added "Satterthwaite" to the help page now.
Martin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From mschwartz@medanalytics.com  Wed Nov 13 17:01:49 2002
From: mschwartz@medanalytics.com (Marc Schwartz)
Date: Wed, 13 Nov 2002 11:01:49 -0600
Subject: Wandering usr values in par(no.readonly=TRUW) (PR#2283)
Message-ID: <008f01c28b36$5ccf75b0$0201a8c0@MARC>

Marc Schwartz wrote:
>
> SNIP
>
> I am guessing that this may be the result of par("ylog") and
> par("xlog") being read only and perhaps impacting the restoration of 
> the par("usr") values when the plotting device is still open, but
> that may be incorrect.   

In follow up to my own note from last evening on this and now that I
have had a couple of cups of coffee this morning, I need to partially
correct my above statement and point to a presumed typo in the ?par help
file.  For confirmation, this is R 1.6.1 under WinXP Pro.

par("xlog") and par("ylog") are not Read Only parameters as listed in
the help file and can be set by the user.  Indeed this is confirmed in
the comments in par.r:

#.Pars.readonly <- c("cin","cra","csi","cxy","din")

I noted this today as I was comparing the output of par() with
par(no.readonly = TRUE) and noted that the latter returns '$xlog' and
$ylog' as being settable. The other 5 par values listed in ?par as
"R.O." (cin, cra, csi, cxy and din) return errors when one attempts to
set them with par(args), however xlog and ylog do not.

Jari and I had an offline exchange earlier this morning in which I
offered the following example code as a short term fix for the problem
he identified. This replaces the on.exit(par(op)) with code to reset the
par("usr") values explicity at the end of the function, since the
"looping" use of the function is stopped anyway if the function exits
prematurely.

plot2.log <- function (x=1:2,y=1:2)
{
  op <- par(no.readonly=TRUE)

  cat(op$usr, "\n")
  plot(x, y, log="y")

  # restore par
  par(op)

  # show post restoration par("usr")
  cat(par("usr"), "\n")

  # set up usr for log transform
  usr <- par("usr")
  usr[3:4] <- log10(usr[3:4])
  par(usr = usr)

  # show post transform par("usr")
  cat(par("usr"), "\n")
}



However, upon now noting the presumed typos in ?par, I have played
around with the following code to see the impact of setting par("ylog")
on the restoration of the par("usr") values after the log scale plot is
created.  Indeed, if I reset par("ylog") explicitly to "FALSE" prior to
the par(op), par("usr") is properly restored. Thus it would appear that
I was partially correct in presuming that the value of par("ylog")
impacts the value of par("usr") when restoring the initial values.


plot2.log <- function (x=1:2,y=1:2)
{
  op <- par(no.readonly=TRUE)

  # show current op$usr
  cat(op$usr, "\n")

  plot(x, y, log="y")

  # restore par, first setting 'ylog' to FALSE
  par(ylog = FALSE)
  par(op)

  # show post restoration par("usr")
  cat(par("usr"), "\n")
}



As a test of this theory, I also tried the following, which uses the
same underlying code, except that it now plots a normal linear y axis
and I explicitly set par("ylog") to TRUE prior to par(op).  Note the
value of par("usr") post restoration.

plot2.log <- function (x=1:2,y=1:2)
{
  op <- par(no.readonly=TRUE)

  # show current op$usr
  cat(op$usr, "\n")

  plot(x, y)

  # restore par, first setting 'ylog' to FALSE
  par(ylog = TRUE)
  par(op)

  # show post restoration par("usr")
  cat(par("usr"), "\n")
}


So it would seem that the values of 'xlog' and 'ylog' do impact the
proper restoration of the par("usr") values.

I have now reviewed par.c and have found the following code in
Specify():

            ...

	if (Rf_gpptr(dd)->ylog) {
	    R_DEV_2(logusr[2]) = REAL(value)[2];
	    R_DEV_2(logusr[3]) = REAL(value)[3];
	    R_DEV_2(usr[2]) = pow(10., REAL(value)[2]);
	    R_DEV_2(usr[3]) = pow(10., REAL(value)[3]);

            ...

There is similar code for 'xlog'.

Thus, this would confirm that the values of 'xlog' and 'ylog' do indeed
affect the restoration values of par("usr").

Lastly, there is a note in ?par that read as follows:

Note:

     The effect of restoring all the (settable) graphics parameters as
     in the examples is hard to predict if the device has been resized.
     Several of them are attempting to set the same things in different
     ways, and those last in the alphabet will win.  In particular, the
     settings of `mai', `mar', `pin', `plt' and `pty' interact, as do
     the outer margin settings, the figure layout and figure region
     size.

In this case, the device is not being resized and it is not clear from
the note that par("usr") is affected. However, given that both 'xlog'
and 'ylog' are alphabetically after it, once could infer that this
behavior is sort of documented, since 'usr' would be set prior to 'xlog'
and 'ylog' being set back to FALSE in this scenario.

I may need yet more coffee, but at the moment I cannot envision possible
impacts of first checking to see if 'xlog' and/or 'ylog' are being set
back to FALSE as part of the above code in par.c, before setting
par("usr"). This could be feasibly be accomplished by moving the code
for setting 'xlog' and 'ylog' in par.c to before the code for 'usr'.

If there are in fact other issues that such a fix would create, I would
suggest a note be added to ?par that would identify that par("usr") is
not restored properly from saved values if a log scaled axis is used and
that a solution would be to explicitly set the values of 'xlog' and
'ylog' to FALSE prior to restoration.

Hope this helps,

Marc Schwartz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Wed Nov 13 17:48:27 2002
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Wed, 13 Nov 2002 18:48:27 +0100 (MET)
Subject: Wandering usr values in par(no.readonly=TRUE) (PR#2283)
Message-ID: <200211131748.SAA23636@pubhealth.ku.dk>

>>>>> "Marc" == Marc Schwartz <mschwartz@medanalytics.com>
>>>>>     on Wed, 13 Nov 2002 11:01:49 -0600 writes:

    Marc> Marc Schwartz wrote:
    >>  SNIP
    >> 
    >> I am guessing that this may be the result of par("ylog")
    >> and par("xlog") being read only and perhaps impacting the
    >> restoration of the par("usr") values when the plotting
    >> device is still open, but that may be incorrect.

    Marc> In follow up to my own note from last evening on this
    Marc> and now that I have had a couple of cups of coffee
    Marc> this morning, I need to partially correct my above
    Marc> statement and point to a presumed typo in the ?par
    Marc> help file.  For confirmation, this is R 1.6.1 under
    Marc> WinXP Pro.

    Marc> par("xlog") and par("ylog") are not Read Only
    Marc> parameters as listed in the help file and can be set
    Marc> by the user.  Indeed this is confirmed in the comments
    Marc> in par.r:

    Marc> #.Pars.readonly <- c("cin","cra","csi","cxy","din")

    Marc> I noted this today as I was comparing the output of
    Marc> par() with par(no.readonly = TRUE) and noted that the
    Marc> latter returns '$xlog' and $ylog' as being
    Marc> settable. The other 5 par values listed in ?par as
    Marc> "R.O." (cin, cra, csi, cxy and din) return errors when
    Marc> one attempts to set them with par(args), however xlog
    Marc> and ylog do not.

Yes, indeed, and I -- as an R-core member -- am astonished:.
I didn't know it really worked, but it does, e.g., 

  > plot(1:10); par("usr")
  [1]  0.64 10.36  0.64 10.36
  > par(xlog = TRUE); par(c("xlog","usr"))
  $xlog
  [1] TRUE

  $usr
  [1] -0.1938200  1.0153598  0.6400000 10.3600000

  > points(10^(1:9), 1 + 1:9, col = "red") # draws red points above 


I'm now re-directing this back to R-bugs to make sure that 
the only (right?) remaining bug, documentation in par.Rd, 
will be fixed -- and hope to close this as a bug report.

    Marc>   ..........
    Marc>   <more good analysis>

Thank you Marc!

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From mschwartz@medanalytics.com  Wed Nov 13 19:08:42 2002
From: mschwartz@medanalytics.com (Marc Schwartz)
Date: Wed, 13 Nov 2002 13:08:42 -0600
Subject: Wandering usr values in par(no.readonly=TRUE) (PR#2283)
In-Reply-To: <200211131748.SAA23636@pubhealth.ku.dk>
Message-ID: <000201c28b48$15c93810$0201a8c0@MARC>

Martin wrote:
> SNIP
> 
> Thank you Marc!

Glad to be of help Martin.  

For the sake of completeness, I ran the same examples on my Linux (RH 8)
install of R 1.6.1 and observed the same behavior.

Best regards,

Marc Schwartz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tim@timcohn.com  Wed Nov 13 22:05:22 2002
From: tim@timcohn.com (tim@timcohn.com)
Date: Wed, 13 Nov 2002 23:05:22 +0100 (MET)
Subject: survreg (survival) reports erroneous results for left-censored data (PR#2287)
Message-ID: <200211132205.XAA24465@pubhealth.ku.dk>

Full_Name: Tim Cohn
Version: 1.6.1
OS: Macintosh OS X
Submission from: (NULL) (130.11.34.250)


The Mac version of survreg does not handle left-censored data correctly (at
least the results are not what I get doing it other ways, and they are not the
same as I get running R 1.6.1 in Windows 98se;  the Windows 98 results are
correct).  On the windows version of R 1.6.1. 

> survreg(Surv(c(0,1,-1),c(T,T,F),type='left')~1,dist='gaussian')
Call:
survreg(formula = Surv(c(0, 1, -1), c(T, T, F), type = "left") ~ 
    1, dist = "gaussian")

Coefficients:
(Intercept) 
 -0.2321569 

Scale= 1.161135 

Loglik(model)= -4.1   Loglik(intercept only)= -4.1
n= 3 


=================

The Macintosh OS X result for the same command is:

> survreg(Surv(c(0,1,-1),c(T,T,F),type='left')~1,dist='gaussian')
Call:
survreg(formula = Surv(c(0, 1, -1), c(T, T, F), type = "left") ~ 
    1, dist = "gaussian")

Coefficients:
(Intercept) 
 -0.7373613 

Scale= 1.366282 

Loglik(model)= -5.6   Loglik(intercept only)= -5.6
n= 3 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From mschwartz@medanalytics.com  Wed Nov 13 23:06:00 2002
From: mschwartz@medanalytics.com (Marc Schwartz)
Date: Wed, 13 Nov 2002 17:06:00 -0600
Subject: Wandering usr values in par(no.readonly=TRUE) (PR#2283)
In-Reply-To: <200211131748.SAA23636@pubhealth.ku.dk>
Message-ID: <001901c28b69$3cbef650$0201a8c0@MARC>

Martin wrote:
> I'm now re-directing this back to R-bugs to make sure that
> the only (right?) remaining bug, documentation in par.Rd,
> will be fixed -- and hope to close this as a bug report.

Martin,

My apologies, as I may have missed this in my first reading of your
reply, but I wanted to be sure that it was clear that there are two
separate bugs here. The first, which I found this morning in the process
of tracking down Jari's issue and the second which Jari observed in his
initial post, which started this thread yesterday.

Bug 1. The documentation in par.Rd needs to be corrected in that
par("xlog") and par("ylog") are not R.O. I presume that this is what you
are referring to above.


Bug 2. The improper restoration of par("usr") from saved values after
using log scaled axes. This is a result of the sequence of the code in
the par.c Specify() function (ie. par("usr") being set before
par("xlog") and par("ylog") are being set back to FALSE).

Possible solutions:

A. The code in par.c needs to be changed (possibly as I suggested
earlier) to enable the proper restoration of par("usr") after log scaled
axes are used

OR

B. If this is not possible due to causing other problems, par.Rd needs
to have a warning note added to inform users that par("usr") will not be
properly restored after log scales are used and that a possible solution
would be to explicitly set par(xlog = FALSE) and par(ylog = FALSE)
before restoring 'par' from saved values.  This solution of course falls
short if a function using this approach exits prematurely. One could
include code in the on.exit() function to reset 'xlog' and 'ylog' before
restoring 'par'. For example, using Jari's initial function plot2.log():

plot2.log <- function(x=1:2,y=1:2) 
{
  op <- par(no.readonly = TRUE)

  exit.restore <- function()
  {
    par(xlog =FALSE)
    par(ylog = FALSE)
    par(op)
  }

  on.exit(exit.restore())

  plot(x, y, log = "y")
}


Again, my apologies if I am mis-reading the section from your reply
above.

Regards,

Marc Schwartz



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From deleeuw@stat.ucla.edu  Thu Nov 14 01:47:29 2002
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Wed, 13 Nov 2002 17:47:29 -0800
Subject: survreg (survival) reports erroneous results for left-censored data (PR#2287)
In-Reply-To: <200211132205.XAA24465@pubhealth.ku.dk>
Message-ID: <088EF7B3-F773-11D6-BFC6-000393860F3C@stat.ucla.edu>

Using R-1.6.1 on OS X (Darwin)

Call:
survreg(formula = Surv(c(0, 1, -1), c(T, T, F), type = "left") ~
     1, dist = "gaussian")

Coefficients:
(Intercept)
  -0.2321569

Scale= 1.161135

Loglik(model)= -4.1   Loglik(intercept only)= -4.1
n= 3

No problemo. And, in fact, I get the same results in
the R-1.6.0 Carbon version.

--- Jan

On Wednesday, November 13, 2002, at 02:05 PM, tim@timcohn.com wrote:

> Full_Name: Tim Cohn
> Version: 1.6.1
> OS: Macintosh OS X
> Submission from: (NULL) (130.11.34.250)
>
>
> The Mac version of survreg does not handle left-censored data  
> correctly (at
> least the results are not what I get doing it other ways, and they are  
> not the
> same as I get running R 1.6.1 in Windows 98se;  the Windows 98 results  
> are
> correct).  On the windows version of R 1.6.1.
>
>> survreg(Surv(c(0,1,-1),c(T,T,F),type='left')~1,dist='gaussian')
> Call:
> survreg(formula = Surv(c(0, 1, -1), c(T, T, F), type = "left") ~
>     1, dist = "gaussian")
>
> Coefficients:
> (Intercept)
>  -0.2321569
>
> Scale= 1.161135
>
> Loglik(model)= -4.1   Loglik(intercept only)= -4.1
> n= 3
>
>
> =================
>
> The Macintosh OS X result for the same command is:
>
>> survreg(Surv(c(0,1,-1),c(T,T,F),type='left')~1,dist='gaussian')
> Call:
> survreg(formula = Surv(c(0, 1, -1), c(T, T, F), type = "left") ~
>     1, dist = "gaussian")
>
> Coefficients:
> (Intercept)
>  -0.7373613
>
> Scale= 1.366282
>
> Loglik(model)= -5.6   Loglik(intercept only)= -5.6
> n= 3
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
> .-.-.-.-.-
> r-devel mailing list -- Read  
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To:  
> r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
> ._._._._
>
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://gifi.stat.ucla.edu
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au
   
------------------------------------------------------------------------ 
-------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Nov 14 10:04:58 2002
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 14 Nov 2002 11:04:58 +0100
Subject: R mailing lists: move from majordomo to [procmail+mailman]
Message-ID: <15827.30026.260485.901432@gargle.gargle.HOWL>


We have locally collected good experience the last few weeks
using procmail-spam filtering, inclduing spamassassin to the
procmail filters.

The last two spams that went past the majordomo filters (the
"traditional ones I've been using) through to R-devel both were not
delivered to me, be but caught by the filters.

I have now collected a bit more of a week experience using the
new scheme also for R-core (and ESS-core) and few other larger
lists but with *much* lower volume successfully.
Also, all the R-SIG-* and the bioconductor lists are handled by
the new scheme. 
This also entails that their web interface (including archives)
can now be advertized as much as you want, since I hope the new
spam protection will suffice (and be tweaked to become better, too).

Have a look at the Web interface at
http://www.stat.math.ethz.ch/mailman/listinfo/

As indicated a few days ago, I want to convert all the remaining
R lists ASAP -- but carefully. 
I plan to do R-devel quite a bit before R-help (and R-announce),
partly because the list is quite a bit smaller (and has no
"gateway" as the R-announce -> R-help one).

I'll send another e-mail here, before the (visible) action
really start.

Feedback welcome!
---
Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Thu Nov 14 16:05:29 2002
From: tlumley@u.washington.edu (tlumley@u.washington.edu)
Date: Thu, 14 Nov 2002 17:05:29 +0100 (MET)
Subject: survreg (survival) reports erroneous results for left-censored (PR#2291)
Message-ID: <200211141605.RAA04121@pubhealth.ku.dk>

On Wed, 13 Nov 2002, Jan de Leeuw wrote:

>
> No problemo. And, in fact, I get the same results in
> the R-1.6.0 Carbon version.

I don't. Could there be a G3/G4 issue?

	-thomas


> --- Jan
>
> On Wednesday, November 13, 2002, at 02:05 PM, tim@timcohn.com wrote:
>
> > Full_Name: Tim Cohn
> > Version: 1.6.1
> > OS: Macintosh OS X
> > Submission from: (NULL) (130.11.34.250)
> >
> >
> > The Mac version of survreg does not handle left-censored data
> > correctly (at
> > least the results are not what I get doing it other ways, and they are
> > not the
> > same as I get running R 1.6.1 in Windows 98se;  the Windows 98 results
> > are
> > correct).  On the windows version of R 1.6.1.
> >
> >> survreg(Surv(c(0,1,-1),c(T,T,F),type='left')~1,dist='gaussian')
> > Call:
> > survreg(formula = Surv(c(0, 1, -1), c(T, T, F), type = "left") ~
> >     1, dist = "gaussian")
> >
> > Coefficients:
> > (Intercept)
> >  -0.2321569
> >
> > Scale= 1.161135
> >
> > Loglik(model)= -4.1   Loglik(intercept only)= -4.1
> > n= 3
> >
> >
> > =================
> >
> > The Macintosh OS X result for the same command is:
> >
> >> survreg(Surv(c(0,1,-1),c(T,T,F),type='left')~1,dist='gaussian')
> > Call:
> > survreg(formula = Surv(c(0, 1, -1), c(T, T, F), type = "left") ~
> >     1, dist = "gaussian")
> >
> > Coefficients:
> > (Intercept)
> >  -0.7373613
> >
> > Scale= 1.366282
> >
> > Loglik(model)= -5.6   Loglik(intercept only)= -5.6
> > n= 3
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > .-.-.-.-.-
> > r-devel mailing list -- Read
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To:
> > r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> > ._._._._
> >
> >
> ===
> Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
> Editor: Journal of Multivariate Analysis, Journal of Statistical
> Software
> US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
> phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
> homepage: http://gifi.stat.ucla.edu
>
> ------------------------------------------------------------------------
> -------------------------
>            No matter where you go, there you are. --- Buckaroo Banzai
>                     http://gifi.stat.ucla.edu/sounds/nomatter.au
>
> ------------------------------------------------------------------------
> -------------------------
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

Thomas Lumley			Asst. Professor, Biostatistics
tlumley@u.washington.edu	University of Washington, Seattle
^^^^^^^^^^^^^^^^^^^^^^^^
- NOTE NEW EMAIL ADDRESS


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Thu Nov 14 16:04:37 2002
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Thu, 14 Nov 2002 08:04:37 -0800 (PST)
Subject: survreg (survival) reports erroneous results for left-censored
 data (PR#2287)
In-Reply-To: <088EF7B3-F773-11D6-BFC6-000393860F3C@stat.ucla.edu>
Message-ID: <Pine.A41.4.44.0211140803460.79438-100000@homer07.u.washington.edu>

On Wed, 13 Nov 2002, Jan de Leeuw wrote:

>
> No problemo. And, in fact, I get the same results in
> the R-1.6.0 Carbon version.

I don't. Could there be a G3/G4 issue?

	-thomas


> --- Jan
>
> On Wednesday, November 13, 2002, at 02:05 PM, tim@timcohn.com wrote:
>
> > Full_Name: Tim Cohn
> > Version: 1.6.1
> > OS: Macintosh OS X
> > Submission from: (NULL) (130.11.34.250)
> >
> >
> > The Mac version of survreg does not handle left-censored data
> > correctly (at
> > least the results are not what I get doing it other ways, and they are
> > not the
> > same as I get running R 1.6.1 in Windows 98se;  the Windows 98 results
> > are
> > correct).  On the windows version of R 1.6.1.
> >
> >> survreg(Surv(c(0,1,-1),c(T,T,F),type='left')~1,dist='gaussian')
> > Call:
> > survreg(formula = Surv(c(0, 1, -1), c(T, T, F), type = "left") ~
> >     1, dist = "gaussian")
> >
> > Coefficients:
> > (Intercept)
> >  -0.2321569
> >
> > Scale= 1.161135
> >
> > Loglik(model)= -4.1   Loglik(intercept only)= -4.1
> > n= 3
> >
> >
> > =================
> >
> > The Macintosh OS X result for the same command is:
> >
> >> survreg(Surv(c(0,1,-1),c(T,T,F),type='left')~1,dist='gaussian')
> > Call:
> > survreg(formula = Surv(c(0, 1, -1), c(T, T, F), type = "left") ~
> >     1, dist = "gaussian")
> >
> > Coefficients:
> > (Intercept)
> >  -0.7373613
> >
> > Scale= 1.366282
> >
> > Loglik(model)= -5.6   Loglik(intercept only)= -5.6
> > n= 3
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > .-.-.-.-.-
> > r-devel mailing list -- Read
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To:
> > r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> > ._._._._
> >
> >
> ===
> Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
> Editor: Journal of Multivariate Analysis, Journal of Statistical
> Software
> US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
> phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
> homepage: http://gifi.stat.ucla.edu
>
> ------------------------------------------------------------------------
> -------------------------
>            No matter where you go, there you are. --- Buckaroo Banzai
>                     http://gifi.stat.ucla.edu/sounds/nomatter.au
>
> ------------------------------------------------------------------------
> -------------------------
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

Thomas Lumley			Asst. Professor, Biostatistics
tlumley@u.washington.edu	University of Washington, Seattle
^^^^^^^^^^^^^^^^^^^^^^^^
- NOTE NEW EMAIL ADDRESS

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From deleeuw@stat.ucla.edu  Thu Nov 14 16:09:27 2002
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Thu, 14 Nov 2002 08:09:27 -0800
Subject: survreg (survival) reports erroneous results for left-censored data (PR#2287)
In-Reply-To: <Pine.A41.4.44.0211140803460.79438-100000@homer07.u.washington.edu>
Message-ID: <733B8BF8-F7EB-11D6-91DB-000393860F3C@stat.ucla.edu>

I take that back. I now get the "correct" result on Darwin R-1.6.1, the  
"wrong" result
with Carbon R-1.6.0. On a dual G4 with 10.2.2.

On Thursday, November 14, 2002, at 08:04 AM, Thomas Lumley wrote:

> On Wed, 13 Nov 2002, Jan de Leeuw wrote:
>
>>
>> No problemo. And, in fact, I get the same results in
>> the R-1.6.0 Carbon version.
>
> I don't. Could there be a G3/G4 issue?
>
> 	-thomas
>
>
>> --- Jan
>>
>> On Wednesday, November 13, 2002, at 02:05 PM, tim@timcohn.com wrote:
>>
>>> Full_Name: Tim Cohn
>>> Version: 1.6.1
>>> OS: Macintosh OS X
>>> Submission from: (NULL) (130.11.34.250)
>>>
>>>
>>> The Mac version of survreg does not handle left-censored data
>>> correctly (at
>>> least the results are not what I get doing it other ways, and they  
>>> are
>>> not the
>>> same as I get running R 1.6.1 in Windows 98se;  the Windows 98  
>>> results
>>> are
>>> correct).  On the windows version of R 1.6.1.
>>>
>>>> survreg(Surv(c(0,1,-1),c(T,T,F),type='left')~1,dist='gaussian')
>>> Call:
>>> survreg(formula = Surv(c(0, 1, -1), c(T, T, F), type = "left") ~
>>>     1, dist = "gaussian")
>>>
>>> Coefficients:
>>> (Intercept)
>>>  -0.2321569
>>>
>>> Scale= 1.161135
>>>
>>> Loglik(model)= -4.1   Loglik(intercept only)= -4.1
>>> n= 3
>>>
>>>
>>> =================
>>>
>>> The Macintosh OS X result for the same command is:
>>>
>>>> survreg(Surv(c(0,1,-1),c(T,T,F),type='left')~1,dist='gaussian')
>>> Call:
>>> survreg(formula = Surv(c(0, 1, -1), c(T, T, F), type = "left") ~
>>>     1, dist = "gaussian")
>>>
>>> Coefficients:
>>> (Intercept)
>>>  -0.7373613
>>>
>>> Scale= 1.366282
>>>
>>> Loglik(model)= -5.6   Loglik(intercept only)= -5.6
>>> n= 3
>>>
>>>
>>> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>>> .-.-.-.-.-
>>> r-devel mailing list -- Read
>>> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>>> Send "info", "help", or "[un]subscribe"
>>> (in the "body", not the subject !)  To:
>>> r-devel-request@stat.math.ethz.ch
>>> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
>>> ._
>>> ._._._._
>>>
>>>
>> ===
>> Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
>> Editor: Journal of Multivariate Analysis, Journal of Statistical
>> Software
>> US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
>> phone (310)-825-9550;  fax (310)-206-5658;  email:  
>> deleeuw@stat.ucla.edu
>> homepage: http://gifi.stat.ucla.edu
>>
>> ---------------------------------------------------------------------- 
>> --
>> -------------------------
>>            No matter where you go, there you are. --- Buckaroo Banzai
>>                     http://gifi.stat.ucla.edu/sounds/nomatter.au
>>
>> ---------------------------------------------------------------------- 
>> --
>> -------------------------
>>
>> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
>> .-.-.-.-.-
>> r-devel mailing list -- Read  
>> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>> Send "info", "help", or "[un]subscribe"
>> (in the "body", not the subject !)  To:  
>> r-devel-request@stat.math.ethz.ch
>> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._. 
>> _._._._._
>>
>
> Thomas Lumley			Asst. Professor, Biostatistics
> tlumley@u.washington.edu	University of Washington, Seattle
> ^^^^^^^^^^^^^^^^^^^^^^^^
>- NOTE NEW EMAIL ADDRESS
>
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://gifi.stat.ucla.edu
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au
   
------------------------------------------------------------------------ 
-------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gwright@packetstorm.com  Thu Nov 14 16:14:38 2002
From: gwright@packetstorm.com (Gregory Wright)
Date: Thu, 14 Nov 2002 11:14:38 -0500
Subject: R-1.6.1, Mac OS X 10.2.2 build failure
Message-ID: <2CAEB6C9-F7EC-11D6-BD14-00039398F084@packetstorm.com>


I tried building R-1.6.1 under Mac OS X 10.2.2 and experienced the 
following build failure:

<...stuff omitted...>
cc1: warning: changing search order for system directory 
"/usr/local/include"
cc1: warning:   as it has already been specified as a non-system 
directory
gcc -bundle -flat_namespace -undefined suppress -L/usr/local/lib -o 
ctest.so ansari.o chisqsim.o d2x2xk.o fexact.o kendall.o ks.o prho.o 
swilk.o init.o  -L/usr/local/lib 
-L/opt/local/lib/gcc-lib/powerpc-apple-darwin6.2/3.1 
-L/opt/local/lib/gcc-lib/powerpc-apple-darwin6.2/3.1/../../.. 
-lreadline -ldl -lncurses -lm -lfrtbegin -lg2c -lSystem
../../../../library/ctest/libs/ctest.so is unchanged
building package 'eda'
../../../library/eda/R/eda is unchanged
../../../library/eda/man/eda.Rd is unchanged
make[5]: `Makedeps' is up to date.
../../../../library/eda/libs/eda.so is unchanged
building package 'lqs'
../../../library/lqs/R/lqs is unchanged
../../../library/lqs/man/lqs.Rd is unchanged
make[5]: `Makedeps' is up to date.
../../../../library/lqs/libs/lqs.so is unchanged
building package 'methods'
all.R is unchanged
../../../library/methods/man/methods.Rd is unchanged
make[5]: `Makedeps' is up to date.
../../../../library/methods/libs/methods.so is unchanged
dumping R code in package 'methods'
Error in .Call("R_initialize_methods_metadata", table, PACKAGE = 
"methods") :
         .Call function name not in load table
Execution halted
make[4]: *** [../../../library/methods/R/all.rda] Error 1
make[3]: *** [all] Error 2
make[2]: *** [R] Error 1
make[1]: *** [R] Error 1
make: *** [R] Error 1


The configuration was:

bash-2.05a$ export TCLTK_LIBS="-framework Tcl -framework Tk"
bash-2.05a$ export 
TCLTK_CPPFLAGS="-I/Library/Frameworks/Tcl.framework/Headers 
-I/Library/Frameworks/Tk/frameworks/Headers"
bash-2.05a$ ./configure 
--with-tcl-config=/Library/Frameworks/Tcl.framework/tclConfig.sh 
--with-tk-config=/Library/Frameworks/Tk.framework/tkConfig.sh

The compiler was gcc-3.1 (Mac OS X developer tools, with August and 
November 2002 updates) g77 (from DarwinPorts, not fink). libreadline 
was manually installed (not fink or DarwinPorts); a convenience for 
some other work. Tcl/Tk is 8.4.1 from sourceforge.

The hardware platform is a TiBook G4, 800 MHz.

Let me know what I can do to help track down this problem.

Best Wishes,

Greg Wright

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From deleeuw@stat.ucla.edu  Thu Nov 14 17:35:26 2002
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Thu, 14 Nov 2002 09:35:26 -0800
Subject: R-1.6.1, Mac OS X 10.2.2 build failure
In-Reply-To: <2CAEB6C9-F7EC-11D6-BD14-00039398F084@packetstorm.com>
Message-ID: <75DF168B-F7F7-11D6-B1DB-000393860F3C@stat.ucla.edu>

I know what I would do. It does not rebuild "methods". I would do a
make distclean in your build directory and configure from scratch.


On Thursday, November 14, 2002, at 08:14 AM, Gregory Wright wrote:

>
> I tried building R-1.6.1 under Mac OS X 10.2.2 and experienced the  
> following build failure:
>
> <...stuff omitted...>
> cc1: warning: changing search order for system directory  
> "/usr/local/include"
> cc1: warning:   as it has already been specified as a non-system  
> directory
> gcc -bundle -flat_namespace -undefined suppress -L/usr/local/lib -o  
> ctest.so ansari.o chisqsim.o d2x2xk.o fexact.o kendall.o ks.o prho.o  
> swilk.o init.o  -L/usr/local/lib  
> -L/opt/local/lib/gcc-lib/powerpc-apple-darwin6.2/3.1  
> -L/opt/local/lib/gcc-lib/powerpc-apple-darwin6.2/3.1/../../..  
> -lreadline -ldl -lncurses -lm -lfrtbegin -lg2c -lSystem
> ../../../../library/ctest/libs/ctest.so is unchanged
> building package 'eda'
> ../../../library/eda/R/eda is unchanged
> ../../../library/eda/man/eda.Rd is unchanged
> make[5]: `Makedeps' is up to date.
> ../../../../library/eda/libs/eda.so is unchanged
> building package 'lqs'
> ../../../library/lqs/R/lqs is unchanged
> ../../../library/lqs/man/lqs.Rd is unchanged
> make[5]: `Makedeps' is up to date.
> ../../../../library/lqs/libs/lqs.so is unchanged
> building package 'methods'
> all.R is unchanged
> ../../../library/methods/man/methods.Rd is unchanged
> make[5]: `Makedeps' is up to date.
> ../../../../library/methods/libs/methods.so is unchanged
> dumping R code in package 'methods'
> Error in .Call("R_initialize_methods_metadata", table, PACKAGE =  
> "methods") :
>         .Call function name not in load table
> Execution halted
> make[4]: *** [../../../library/methods/R/all.rda] Error 1
> make[3]: *** [all] Error 2
> make[2]: *** [R] Error 1
> make[1]: *** [R] Error 1
> make: *** [R] Error 1
>
>
> The configuration was:
>
> bash-2.05a$ export TCLTK_LIBS="-framework Tcl -framework Tk"
> bash-2.05a$ export  
> TCLTK_CPPFLAGS="-I/Library/Frameworks/Tcl.framework/Headers  
> -I/Library/Frameworks/Tk/frameworks/Headers"
> bash-2.05a$ ./configure  
> --with-tcl-config=/Library/Frameworks/Tcl.framework/tclConfig.sh  
> --with-tk-config=/Library/Frameworks/Tk.framework/tkConfig.sh
>
> The compiler was gcc-3.1 (Mac OS X developer tools, with August and  
> November 2002 updates) g77 (from DarwinPorts, not fink). libreadline  
> was manually installed (not fink or DarwinPorts); a convenience for  
> some other work. Tcl/Tk is 8.4.1 from sourceforge.
>
> The hardware platform is a TiBook G4, 800 MHz.
>
> Let me know what I can do to help track down this problem.
>
> Best Wishes,
>
> Greg Wright
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
> .-.-.-.-.-
> r-devel mailing list -- Read  
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To:  
> r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
> ._._._._
>
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://gifi.stat.ucla.edu
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au
   
------------------------------------------------------------------------ 
-------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gwright@packetstorm.com  Thu Nov 14 20:43:27 2002
From: gwright@packetstorm.com (Gregory Wright)
Date: Thu, 14 Nov 2002 15:43:27 -0500
Subject: R-1.6.1, Mac OS X 10.2.2 build failure
In-Reply-To: <75DF168B-F7F7-11D6-B1DB-000393860F3C@stat.ucla.edu>
Message-ID: <BA12AEFB-F811-11D6-952D-00039398F084@packetstorm.com>


On Thursday, November 14, 2002, at 12:35 PM, Jan de Leeuw wrote:

> I know what I would do. It does not rebuild "methods". I would do a
> make distclean in your build directory and configure from scratch.
>
>
>

Hi,

I unpacked a fresh 1.6.1 tarball, reconfigured and rebuilt from 
scratch. The results were similar:

<...stuff omitted..>
cc1: warning: changing search order for system directory 
"/usr/local/include"
cc1: warning:   as it has already been specified as a non-system 
directory
gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include   
-fno-common  -g -O2 -c methods_list_dispatch.c -o 
methods_list_dispatch.o
cc1: warning: changing search order for system directory 
"/usr/local/include"
cc1: warning:   as it has already been specified as a non-system 
directory
gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include   
-fno-common  -g -O2 -c method_meta_data.c -o method_meta_data.o
cc1: warning: changing search order for system directory 
"/usr/local/include"
cc1: warning:   as it has already been specified as a non-system 
directory
gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include   
-fno-common  -g -O2 -c slot.c -o slot.o
cc1: warning: changing search order for system directory 
"/usr/local/include"
cc1: warning:   as it has already been specified as a non-system 
directory
gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include   
-fno-common  -g -O2 -c class_support.c -o class_support.o
cc1: warning: changing search order for system directory 
"/usr/local/include"
cc1: warning:   as it has already been specified as a non-system 
directory
gcc -bundle -flat_namespace -undefined suppress -L/usr/local/lib -o 
methods.so do_substitute_direct.o methods_list_dispatch.o 
method_meta_data.o slot.o class_support.o
mkdir -p -- ../../../../library/methods/libs
dumping R code in package 'methods'
Error in .Call("R_initialize_methods_metadata", table, PACKAGE = 
"methods") :
         .Call function name not in load table
Execution halted
make[4]: *** [../../../library/methods/R/all.rda] Error 1
make[3]: *** [all] Error 2
make[2]: *** [R] Error 1
make[1]: *** [R] Error 1
make: *** [R] Error 1

The configuration was

bash-2.05a$ export TCLTK_LIBS="-framework Tcl -framework Tk"
bash-2.05a$ export 
TCLTK_CPPFLAGS="-I/Library/Frameworks/Tcl.framework/Headers 
-I/Library/Frameworks/Tk.framework/Headers"
./configure 
--with-tcl-config=/Library/Frameworks/Tcl.framework/tclConfig.sh 
--with-tk-config=/Library/Frameworks/Tk.framework/tkConfig.sh


and configure's summary was

R is now configured for powerpc-apple-darwin6.2

   Source directory:          .
   Installation directory:    /usr/local

   C compiler:                gcc  -g -O2
   C++ compiler:              g++  -g -O2
   Fortran compiler:          g77  -g -O2

   X11 support:               yes
   Gnome support:             no
   Tcl/Tk support:            yes
   Readline support:          yes

   R profiling support:       yes
   R as a shared library:     no

   Recommended packages:      yes


Is there something obvious that I should be examining to find the root 
of the this?

Best Wishes,
Greg Wright

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@stat.uiowa.edu  Thu Nov 14 22:34:08 2002
From: luke@stat.uiowa.edu (Luke Tierney)
Date: Thu, 14 Nov 2002 16:34:08 -0600 (CST)
Subject: R-1.6.1, Mac OS X 10.2.2 build failure
In-Reply-To: <BA12AEFB-F811-11D6-952D-00039398F084@packetstorm.com>
Message-ID: <Pine.LNX.4.44.0211141631250.20208-100000@itasca.stat.uiowa.edu>

You might want to double check the dlcompat you have.  THere was some
discussiion about this a week or two ago in conneciton with plain
darwin I think.  Mac compilers prepend underscores to C names; most
other systems don't.  R's config assumes that R has to prepend an
underscore.  But as I recall you can configure dlcompat to do that for
you, and if that is what you have then you are getting two underscores
instead of one.  Don't know if that is the problem, but it's something
to check.

luke

On Thu, 14 Nov 2002, Gregory Wright wrote:

> 
> On Thursday, November 14, 2002, at 12:35 PM, Jan de Leeuw wrote:
> 
> > I know what I would do. It does not rebuild "methods". I would do a
> > make distclean in your build directory and configure from scratch.
> >
> >
> >
> 
> Hi,
> 
> I unpacked a fresh 1.6.1 tarball, reconfigured and rebuilt from 
> scratch. The results were similar:
> 
> <...stuff omitted..>
> cc1: warning: changing search order for system directory 
> "/usr/local/include"
> cc1: warning:   as it has already been specified as a non-system 
> directory
> gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include   
> -fno-common  -g -O2 -c methods_list_dispatch.c -o 
> methods_list_dispatch.o
> cc1: warning: changing search order for system directory 
> "/usr/local/include"
> cc1: warning:   as it has already been specified as a non-system 
> directory
> gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include   
> -fno-common  -g -O2 -c method_meta_data.c -o method_meta_data.o
> cc1: warning: changing search order for system directory 
> "/usr/local/include"
> cc1: warning:   as it has already been specified as a non-system 
> directory
> gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include   
> -fno-common  -g -O2 -c slot.c -o slot.o
> cc1: warning: changing search order for system directory 
> "/usr/local/include"
> cc1: warning:   as it has already been specified as a non-system 
> directory
> gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include   
> -fno-common  -g -O2 -c class_support.c -o class_support.o
> cc1: warning: changing search order for system directory 
> "/usr/local/include"
> cc1: warning:   as it has already been specified as a non-system 
> directory
> gcc -bundle -flat_namespace -undefined suppress -L/usr/local/lib -o 
> methods.so do_substitute_direct.o methods_list_dispatch.o 
> method_meta_data.o slot.o class_support.o
> mkdir -p -- ../../../../library/methods/libs
> dumping R code in package 'methods'
> Error in .Call("R_initialize_methods_metadata", table, PACKAGE = 
> "methods") :
>          .Call function name not in load table
> Execution halted
> make[4]: *** [../../../library/methods/R/all.rda] Error 1
> make[3]: *** [all] Error 2
> make[2]: *** [R] Error 1
> make[1]: *** [R] Error 1
> make: *** [R] Error 1
> 
> The configuration was
> 
> bash-2.05a$ export TCLTK_LIBS="-framework Tcl -framework Tk"
> bash-2.05a$ export 
> TCLTK_CPPFLAGS="-I/Library/Frameworks/Tcl.framework/Headers 
> -I/Library/Frameworks/Tk.framework/Headers"
> ../configure 
> --with-tcl-config=/Library/Frameworks/Tcl.framework/tclConfig.sh 
> --with-tk-config=/Library/Frameworks/Tk.framework/tkConfig.sh
> 
> 
> and configure's summary was
> 
> R is now configured for powerpc-apple-darwin6.2
> 
>    Source directory:          .
>    Installation directory:    /usr/local
> 
>    C compiler:                gcc  -g -O2
>    C++ compiler:              g++  -g -O2
>    Fortran compiler:          g77  -g -O2
> 
>    X11 support:               yes
>    Gnome support:             no
>    Tcl/Tk support:            yes
>    Readline support:          yes
> 
>    R profiling support:       yes
>    R as a shared library:     no
> 
>    Recommended packages:      yes
> 
> 
> Is there something obvious that I should be examining to find the root 
> of the this?
> 
> Best Wishes,
> Greg Wright
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
Luke Tierney
University of Iowa                  Phone:             319-335-3386
Department of Statistics and        Fax:               319-335-3017
   Actuarial Science
241 Schaeffer Hall                  email:      luke@stat.uiowa.edu
Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From deleeuw@stat.ucla.edu  Thu Nov 14 22:40:43 2002
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Thu, 14 Nov 2002 14:40:43 -0800
Subject: R-1.6.1, Mac OS X 10.2.2 build failure
In-Reply-To: <Pine.LNX.4.44.0211141631250.20208-100000@itasca.stat.uiowa.edu>
Message-ID: <1BF1D0FA-F822-11D6-8915-000393860F3C@stat.ucla.edu>

The dlcompat and g77 in darwinports (that Greg seems to be using)
are different from the ones in fink.

On Thursday, November 14, 2002, at 02:34 PM, Luke Tierney wrote:

> You might want to double check the dlcompat you have.  THere was some
> discussiion about this a week or two ago in conneciton with plain
> darwin I think.  Mac compilers prepend underscores to C names; most
> other systems don't.  R's config assumes that R has to prepend an
> underscore.  But as I recall you can configure dlcompat to do that for
> you, and if that is what you have then you are getting two underscores
> instead of one.  Don't know if that is the problem, but it's something
> to check.
>
> luke
>
> On Thu, 14 Nov 2002, Gregory Wright wrote:
>
>>
>> On Thursday, November 14, 2002, at 12:35 PM, Jan de Leeuw wrote:
>>
>>> I know what I would do. It does not rebuild "methods". I would do a
>>> make distclean in your build directory and configure from scratch.
>>>
>>>
>>>
>>
>> Hi,
>>
>> I unpacked a fresh 1.6.1 tarball, reconfigured and rebuilt from
>> scratch. The results were similar:
>>
>> <...stuff omitted..>
>> cc1: warning: changing search order for system directory
>> "/usr/local/include"
>> cc1: warning:   as it has already been specified as a non-system
>> directory
>> gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include
>> -fno-common  -g -O2 -c methods_list_dispatch.c -o
>> methods_list_dispatch.o
>> cc1: warning: changing search order for system directory
>> "/usr/local/include"
>> cc1: warning:   as it has already been specified as a non-system
>> directory
>> gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include
>> -fno-common  -g -O2 -c method_meta_data.c -o method_meta_data.o
>> cc1: warning: changing search order for system directory
>> "/usr/local/include"
>> cc1: warning:   as it has already been specified as a non-system
>> directory
>> gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include
>> -fno-common  -g -O2 -c slot.c -o slot.o
>> cc1: warning: changing search order for system directory
>> "/usr/local/include"
>> cc1: warning:   as it has already been specified as a non-system
>> directory
>> gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include
>> -fno-common  -g -O2 -c class_support.c -o class_support.o
>> cc1: warning: changing search order for system directory
>> "/usr/local/include"
>> cc1: warning:   as it has already been specified as a non-system
>> directory
>> gcc -bundle -flat_namespace -undefined suppress -L/usr/local/lib -o
>> methods.so do_substitute_direct.o methods_list_dispatch.o
>> method_meta_data.o slot.o class_support.o
>> mkdir -p -- ../../../../library/methods/libs
>> dumping R code in package 'methods'
>> Error in .Call("R_initialize_methods_metadata", table, PACKAGE =
>> "methods") :
>>          .Call function name not in load table
>> Execution halted
>> make[4]: *** [../../../library/methods/R/all.rda] Error 1
>> make[3]: *** [all] Error 2
>> make[2]: *** [R] Error 1
>> make[1]: *** [R] Error 1
>> make: *** [R] Error 1
>>
>> The configuration was
>>
>> bash-2.05a$ export TCLTK_LIBS="-framework Tcl -framework Tk"
>> bash-2.05a$ export
>> TCLTK_CPPFLAGS="-I/Library/Frameworks/Tcl.framework/Headers
>> -I/Library/Frameworks/Tk.framework/Headers"
>> ../configure
>> --with-tcl-config=/Library/Frameworks/Tcl.framework/tclConfig.sh
>> --with-tk-config=/Library/Frameworks/Tk.framework/tkConfig.sh
>>
>>
>> and configure's summary was
>>
>> R is now configured for powerpc-apple-darwin6.2
>>
>>    Source directory:          .
>>    Installation directory:    /usr/local
>>
>>    C compiler:                gcc  -g -O2
>>    C++ compiler:              g++  -g -O2
>>    Fortran compiler:          g77  -g -O2
>>
>>    X11 support:               yes
>>    Gnome support:             no
>>    Tcl/Tk support:            yes
>>    Readline support:          yes
>>
>>    R profiling support:       yes
>>    R as a shared library:     no
>>
>>    Recommended packages:      yes
>>
>>
>> Is there something obvious that I should be examining to find the root
>> of the this?
>>
>> Best Wishes,
>> Greg Wright
>>
>> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
>> .-.-.-.-.-
>> r-devel mailing list -- Read  
>> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>> Send "info", "help", or "[un]subscribe"
>> (in the "body", not the subject !)  To:  
>> r-devel-request@stat.math.ethz.ch
>> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._. 
>> _._._._._
>>
>
> -- 
> Luke Tierney
> University of Iowa                  Phone:             319-335-3386
> Department of Statistics and        Fax:               319-335-3017
>    Actuarial Science
> 241 Schaeffer Hall                  email:      luke@stat.uiowa.edu
> Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu
>
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://gifi.stat.ucla.edu
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au
   
------------------------------------------------------------------------ 
-------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gwright@packetstorm.com  Thu Nov 14 23:22:04 2002
From: gwright@packetstorm.com (Gregory Wright)
Date: Thu, 14 Nov 2002 18:22:04 -0500
Subject: R-1.6.1, Mac OS X 10.2.2 build failure
In-Reply-To: <1BF1D0FA-F822-11D6-8915-000393860F3C@stat.ucla.edu>
Message-ID: <E2C52962-F827-11D6-952D-00039398F084@packetstorm.com>


dlcompat seems to be the same (the darwinports script downloads it from  
the fink project at sourceforge). I'm concentrating on g77--I've found  
at least on packaging error, but repairing it did not fix the R-1.6.1  
build. I will give it a go with a hand built g77.

(If the error is in darwinports I would at least like to give  
constructive feedback on how it might be fixed.)

More anon.

Best Wishes,
Greg

On Thursday, November 14, 2002, at 05:40 PM, Jan de Leeuw wrote:

> The dlcompat and g77 in darwinports (that Greg seems to be using)
> are different from the ones in fink.
>
> On Thursday, November 14, 2002, at 02:34 PM, Luke Tierney wrote:
>
>> You might want to double check the dlcompat you have.  THere was some
>> discussiion about this a week or two ago in conneciton with plain
>> darwin I think.  Mac compilers prepend underscores to C names; most
>> other systems don't.  R's config assumes that R has to prepend an
>> underscore.  But as I recall you can configure dlcompat to do that for
>> you, and if that is what you have then you are getting two underscores
>> instead of one.  Don't know if that is the problem, but it's something
>> to check.
>>
>> luke
>>
>> On Thu, 14 Nov 2002, Gregory Wright wrote:
>>
>>>
>>> On Thursday, November 14, 2002, at 12:35 PM, Jan de Leeuw wrote:
>>>
>>>> I know what I would do. It does not rebuild "methods". I would do a
>>>> make distclean in your build directory and configure from scratch.
>>>>
>>>>
>>>>
>>>
>>> Hi,
>>>
>>> I unpacked a fresh 1.6.1 tarball, reconfigured and rebuilt from
>>> scratch. The results were similar:
>>>
>>> <...stuff omitted..>
>>> cc1: warning: changing search order for system directory
>>> "/usr/local/include"
>>> cc1: warning:   as it has already been specified as a non-system
>>> directory
>>> gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include
>>> -fno-common  -g -O2 -c methods_list_dispatch.c -o
>>> methods_list_dispatch.o
>>> cc1: warning: changing search order for system directory
>>> "/usr/local/include"
>>> cc1: warning:   as it has already been specified as a non-system
>>> directory
>>> gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include
>>> -fno-common  -g -O2 -c method_meta_data.c -o method_meta_data.o
>>> cc1: warning: changing search order for system directory
>>> "/usr/local/include"
>>> cc1: warning:   as it has already been specified as a non-system
>>> directory
>>> gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include
>>> -fno-common  -g -O2 -c slot.c -o slot.o
>>> cc1: warning: changing search order for system directory
>>> "/usr/local/include"
>>> cc1: warning:   as it has already been specified as a non-system
>>> directory
>>> gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include
>>> -fno-common  -g -O2 -c class_support.c -o class_support.o
>>> cc1: warning: changing search order for system directory
>>> "/usr/local/include"
>>> cc1: warning:   as it has already been specified as a non-system
>>> directory
>>> gcc -bundle -flat_namespace -undefined suppress -L/usr/local/lib -o
>>> methods.so do_substitute_direct.o methods_list_dispatch.o
>>> method_meta_data.o slot.o class_support.o
>>> mkdir -p -- ../../../../library/methods/libs
>>> dumping R code in package 'methods'
>>> Error in .Call("R_initialize_methods_metadata", table, PACKAGE =
>>> "methods") :
>>>          .Call function name not in load table
>>> Execution halted
>>> make[4]: *** [../../../library/methods/R/all.rda] Error 1
>>> make[3]: *** [all] Error 2
>>> make[2]: *** [R] Error 1
>>> make[1]: *** [R] Error 1
>>> make: *** [R] Error 1
>>>
>>> The configuration was
>>>
>>> bash-2.05a$ export TCLTK_LIBS="-framework Tcl -framework Tk"
>>> bash-2.05a$ export
>>> TCLTK_CPPFLAGS="-I/Library/Frameworks/Tcl.framework/Headers
>>> -I/Library/Frameworks/Tk.framework/Headers"
>>> ../configure
>>> --with-tcl-config=/Library/Frameworks/Tcl.framework/tclConfig.sh
>>> --with-tk-config=/Library/Frameworks/Tk.framework/tkConfig.sh
>>>
>>>
>>> and configure's summary was
>>>
>>> R is now configured for powerpc-apple-darwin6.2
>>>
>>>    Source directory:          .
>>>    Installation directory:    /usr/local
>>>
>>>    C compiler:                gcc  -g -O2
>>>    C++ compiler:              g++  -g -O2
>>>    Fortran compiler:          g77  -g -O2
>>>
>>>    X11 support:               yes
>>>    Gnome support:             no
>>>    Tcl/Tk support:            yes
>>>    Readline support:          yes
>>>
>>>    R profiling support:       yes
>>>    R as a shared library:     no
>>>
>>>    Recommended packages:      yes
>>>
>>>
>>> Is there something obvious that I should be examining to find the  
>>> root
>>> of the this?
>>>
>>> Best Wishes,
>>> Greg Wright
>>>
>>> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
>>> .-.-.-.-.-.-
>>> r-devel mailing list -- Read  
>>> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>>> Send "info", "help", or "[un]subscribe"
>>> (in the "body", not the subject !)  To:  
>>> r-devel-request@stat.math.ethz.ch
>>> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
>>> ._._._._._
>>>
>>
>> -- 
>> Luke Tierney
>> University of Iowa                  Phone:             319-335-3386
>> Department of Statistics and        Fax:               319-335-3017
>>    Actuarial Science
>> 241 Schaeffer Hall                  email:      luke@stat.uiowa.edu
>> Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu
>>
>>
> ===
> Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
> Editor: Journal of Multivariate Analysis, Journal of Statistical  
> Software
> US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
> phone (310)-825-9550;  fax (310)-206-5658;  email:  
> deleeuw@stat.ucla.edu
> homepage: http://gifi.stat.ucla.edu
>   
> ----------------------------------------------------------------------- 
> --------------------------
>           No matter where you go, there you are. --- Buckaroo Banzai
>                    http://gifi.stat.ucla.edu/sounds/nomatter.au
>   
> ----------------------------------------------------------------------- 
> --------------------------
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tim@timcohn.com  Fri Nov 15 00:47:46 2002
From: tim@timcohn.com (Tim Cohn)
Date: Thu, 14 Nov 2002 19:47:46 -0500
Subject: survreg (survival) reports erroneous results for left-censored
 data (PR#2287)
In-Reply-To: <733B8BF8-F7EB-11D6-91DB-000393860F3C@stat.ucla.edu>
Message-ID: <DB8072B2-F833-11D6-83DE-000393479732@timcohn.com>

Thank you for looking into this so quickly.  As you correctly surmise,  
I was using the Carbon version of R-1.6.1 on Mac OS 10.2.2 (Jaguar)  
when I got the "wrong" answers.

One other observation:  The right censoring seems to work fine.

Thanks again,

Tim

On Thursday, November 14, 2002, at 11:09 AM, Jan de Leeuw wrote:

> I take that back. I now get the "correct" result on Darwin R-1.6.1,  
> the "wrong" result
> with Carbon R-1.6.0. On a dual G4 with 10.2.2.
>
> On Thursday, November 14, 2002, at 08:04 AM, Thomas Lumley wrote:
>
>> On Wed, 13 Nov 2002, Jan de Leeuw wrote:
>>
>>>
>>> No problemo. And, in fact, I get the same results in
>>> the R-1.6.0 Carbon version.
>>
>> I don't. Could there be a G3/G4 issue?
>>
>> 	-thomas
>>
>>
>>> --- Jan
>>>
>>> On Wednesday, November 13, 2002, at 02:05 PM, tim@timcohn.com wrote:
>>>
>>>> Full_Name: Tim Cohn
>>>> Version: 1.6.1
>>>> OS: Macintosh OS X
>>>> Submission from: (NULL) (130.11.34.250)
>>>>
>>>>
>>>> The Mac version of survreg does not handle left-censored data
>>>> correctly (at
>>>> least the results are not what I get doing it other ways, and they  
>>>> are
>>>> not the
>>>> same as I get running R 1.6.1 in Windows 98se;  the Windows 98  
>>>> results
>>>> are
>>>> correct).  On the windows version of R 1.6.1.
>>>>
>>>>> survreg(Surv(c(0,1,-1),c(T,T,F),type='left')~1,dist='gaussian')
>>>> Call:
>>>> survreg(formula = Surv(c(0, 1, -1), c(T, T, F), type = "left") ~
>>>>     1, dist = "gaussian")
>>>>
>>>> Coefficients:
>>>> (Intercept)
>>>>  -0.2321569
>>>>
>>>> Scale= 1.161135
>>>>
>>>> Loglik(model)= -4.1   Loglik(intercept only)= -4.1
>>>> n= 3
>>>>
>>>>
>>>> =================
>>>>
>>>> The Macintosh OS X result for the same command is:
>>>>
>>>>> survreg(Surv(c(0,1,-1),c(T,T,F),type='left')~1,dist='gaussian')
>>>> Call:
>>>> survreg(formula = Surv(c(0, 1, -1), c(T, T, F), type = "left") ~
>>>>     1, dist = "gaussian")
>>>>
>>>> Coefficients:
>>>> (Intercept)
>>>>  -0.7373613
>>>>
>>>> Scale= 1.366282
>>>>
>>>> Loglik(model)= -5.6   Loglik(intercept only)= -5.6
>>>> n= 3
>>>>
>>>>
>>>> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
>>>> .-
>>>> .-.-.-.-.-
>>>> r-devel mailing list -- Read
>>>> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>>>> Send "info", "help", or "[un]subscribe"
>>>> (in the "body", not the subject !)  To:
>>>> r-devel-request@stat.math.ethz.ch
>>>> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._. 
>>>> _._
>>>> ._._._._
>>>>
>>>>
>>> ===
>>> Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
>>> Editor: Journal of Multivariate Analysis, Journal of Statistical
>>> Software
>>> US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
>>> phone (310)-825-9550;  fax (310)-206-5658;  email:  
>>> deleeuw@stat.ucla.edu
>>> homepage: http://gifi.stat.ucla.edu
>>>
>>> --------------------------------------------------------------------- 
>>> ---
>>> -------------------------
>>>            No matter where you go, there you are. --- Buckaroo Banzai
>>>                     http://gifi.stat.ucla.edu/sounds/nomatter.au
>>>
>>> --------------------------------------------------------------------- 
>>> ---
>>> -------------------------
>>>
>>> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
>>> .-.-.-.-.-.-
>>> r-devel mailing list -- Read  
>>> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>>> Send "info", "help", or "[un]subscribe"
>>> (in the "body", not the subject !)  To:  
>>> r-devel-request@stat.math.ethz.ch
>>> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
>>> ._._._._._
>>>
>>
>> Thomas Lumley			Asst. Professor, Biostatistics
>> tlumley@u.washington.edu	University of Washington, Seattle
>> ^^^^^^^^^^^^^^^^^^^^^^^^
>>- NOTE NEW EMAIL ADDRESS
>>
>>
> ===
> Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
> Editor: Journal of Multivariate Analysis, Journal of Statistical  
> Software
> US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
> phone (310)-825-9550;  fax (310)-206-5658;  email:  
> deleeuw@stat.ucla.edu
> homepage: http://gifi.stat.ucla.edu
>   
> ----------------------------------------------------------------------- 
> --------------------------
>           No matter where you go, there you are. --- Buckaroo Banzai
>                    http://gifi.stat.ucla.edu/sounds/nomatter.au
>   
> ----------------------------------------------------------------------- 
> --------------------------
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tim@timcohn.com  Fri Nov 15 00:49:01 2002
From: tim@timcohn.com (tim@timcohn.com)
Date: Fri, 15 Nov 2002 01:49:01 +0100 (MET)
Subject: survreg (survival) reports erroneous results for left-censored (PR#2293)
Message-ID: <200211150049.BAA06066@pubhealth.ku.dk>

Thank you for looking into this so quickly.  As you correctly surmise,  
I was using the Carbon version of R-1.6.1 on Mac OS 10.2.2 (Jaguar)  
when I got the "wrong" answers.

One other observation:  The right censoring seems to work fine.

Thanks again,

Tim

On Thursday, November 14, 2002, at 11:09 AM, Jan de Leeuw wrote:

> I take that back. I now get the "correct" result on Darwin R-1.6.1,  
> the "wrong" result
> with Carbon R-1.6.0. On a dual G4 with 10.2.2.
>
> On Thursday, November 14, 2002, at 08:04 AM, Thomas Lumley wrote:
>
>> On Wed, 13 Nov 2002, Jan de Leeuw wrote:
>>
>>>
>>> No problemo. And, in fact, I get the same results in
>>> the R-1.6.0 Carbon version.
>>
>> I don't. Could there be a G3/G4 issue?
>>
>> 	-thomas
>>
>>
>>> --- Jan
>>>
>>> On Wednesday, November 13, 2002, at 02:05 PM, tim@timcohn.com wrote:
>>>
>>>> Full_Name: Tim Cohn
>>>> Version: 1.6.1
>>>> OS: Macintosh OS X
>>>> Submission from: (NULL) (130.11.34.250)
>>>>
>>>>
>>>> The Mac version of survreg does not handle left-censored data
>>>> correctly (at
>>>> least the results are not what I get doing it other ways, and they  
>>>> are
>>>> not the
>>>> same as I get running R 1.6.1 in Windows 98se;  the Windows 98  
>>>> results
>>>> are
>>>> correct).  On the windows version of R 1.6.1.
>>>>
>>>>> survreg(Surv(c(0,1,-1),c(T,T,F),type='left')~1,dist='gaussian')
>>>> Call:
>>>> survreg(formula = Surv(c(0, 1, -1), c(T, T, F), type = "left") ~
>>>>     1, dist = "gaussian")
>>>>
>>>> Coefficients:
>>>> (Intercept)
>>>>  -0.2321569
>>>>
>>>> Scale= 1.161135
>>>>
>>>> Loglik(model)= -4.1   Loglik(intercept only)= -4.1
>>>> n= 3
>>>>
>>>>
>>>> =================
>>>>
>>>> The Macintosh OS X result for the same command is:
>>>>
>>>>> survreg(Surv(c(0,1,-1),c(T,T,F),type='left')~1,dist='gaussian')
>>>> Call:
>>>> survreg(formula = Surv(c(0, 1, -1), c(T, T, F), type = "left") ~
>>>>     1, dist = "gaussian")
>>>>
>>>> Coefficients:
>>>> (Intercept)
>>>>  -0.7373613
>>>>
>>>> Scale= 1.366282
>>>>
>>>> Loglik(model)= -5.6   Loglik(intercept only)= -5.6
>>>> n= 3
>>>>
>>>>
>>>> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
>>>> .-
>>>> .-.-.-.-.-
>>>> r-devel mailing list -- Read
>>>> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>>>> Send "info", "help", or "[un]subscribe"
>>>> (in the "body", not the subject !)  To:
>>>> r-devel-request@stat.math.ethz.ch
>>>> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._. 
>>>> _._
>>>> ._._._._
>>>>
>>>>
>>> ===
>>> Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
>>> Editor: Journal of Multivariate Analysis, Journal of Statistical
>>> Software
>>> US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
>>> phone (310)-825-9550;  fax (310)-206-5658;  email:  
>>> deleeuw@stat.ucla.edu
>>> homepage: http://gifi.stat.ucla.edu
>>>
>>> --------------------------------------------------------------------- 
>>> ---
>>> -------------------------
>>>            No matter where you go, there you are. --- Buckaroo Banzai
>>>                     http://gifi.stat.ucla.edu/sounds/nomatter.au
>>>
>>> --------------------------------------------------------------------- 
>>> ---
>>> -------------------------
>>>
>>> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
>>> .-.-.-.-.-.-
>>> r-devel mailing list -- Read  
>>> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>>> Send "info", "help", or "[un]subscribe"
>>> (in the "body", not the subject !)  To:  
>>> r-devel-request@stat.math.ethz.ch
>>> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
>>> ._._._._._
>>>
>>
>> Thomas Lumley			Asst. Professor, Biostatistics
>> tlumley@u.washington.edu	University of Washington, Seattle
>> ^^^^^^^^^^^^^^^^^^^^^^^^
>>- NOTE NEW EMAIL ADDRESS
>>
>>
> ===
> Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
> Editor: Journal of Multivariate Analysis, Journal of Statistical  
> Software
> US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
> phone (310)-825-9550;  fax (310)-206-5658;  email:  
> deleeuw@stat.ucla.edu
> homepage: http://gifi.stat.ucla.edu
>   
> ----------------------------------------------------------------------- 
> --------------------------
>           No matter where you go, there you are. --- Buckaroo Banzai
>                    http://gifi.stat.ucla.edu/sounds/nomatter.au
>   
> ----------------------------------------------------------------------- 
> --------------------------
>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From robert.king@newcastle.edu.au  Fri Nov 15 04:41:59 2002
From: robert.king@newcastle.edu.au (robert.king@newcastle.edu.au)
Date: Fri, 15 Nov 2002 05:41:59 +0100 (MET)
Subject: anova.glm gets test="Chisq" wrong (PR#2294)
Message-ID: <200211150441.FAA06624@pubhealth.ku.dk>

Full_Name: Robert King
Version: 1.5.0
OS: windows
Submission from: (NULL) (134.148.4.19)


Also occurs in 1.6.0 on linux

anova.glm(fitted.object,test="Chisq") is giving strange answers in this
situation

> resptime
   sex task time
1    m    s  210
2    m    s  300
3    m    s  420
4    f    s  250
5    f    s  310
6    f    s  390
7    m    c  310
8    m    c  400
9    m    c  600
10   m    c  720
11   f    c  300
12   f    c  350
13   f    c  405
14   f    c  520

> resp.fit1 <- glm(time~sex+task,data=resptime,family=Gamma)

> anova(resp.fit1,test="Chisq")
Analysis of Deviance Table

Model: Gamma, link: inverse

Response: time

Terms added sequentially (first to last)


     Df Deviance Resid. Df Resid. Dev P(>|Chi|)
NULL                    13    1.50207          
sex   1  0.08833        12    1.41374   0.31191
task  1  0.44008        11    0.97366   0.02400

#BUT!
> 1-pchisq(0.44008,1)
[1] 0.5070838


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Nov 15 07:58:50 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 15 Nov 2002 07:58:50 +0000 (GMT)
Subject: anova.glm gets test="Chisq" wrong (PR#2294)
In-Reply-To: <200211150441.FAA06624@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0211150754430.15529-100000@gannet.stats>

No, it gets it right.  You need to use a *scaled* deviance in that test,
or specify dispersion = 1.

I don't think that the test is really appropriate, in any case: an F test
would be better (as the help page says).

The usage of `deviance' is rather confused in the GLM literature,
especially in McCullagh & Nelder.

On Fri, 15 Nov 2002 robert.king@newcastle.edu.au wrote:

> Full_Name: Robert King
> Version: 1.5.0
> OS: windows
> Submission from: (NULL) (134.148.4.19)
>
>
> Also occurs in 1.6.0 on linux
>
> anova.glm(fitted.object,test="Chisq") is giving strange answers in this
> situation
>
> > resptime
>    sex task time
> 1    m    s  210
> 2    m    s  300
> 3    m    s  420
> 4    f    s  250
> 5    f    s  310
> 6    f    s  390
> 7    m    c  310
> 8    m    c  400
> 9    m    c  600
> 10   m    c  720
> 11   f    c  300
> 12   f    c  350
> 13   f    c  405
> 14   f    c  520
>
> > resp.fit1 <- glm(time~sex+task,data=resptime,family=Gamma)
>
> > anova(resp.fit1,test="Chisq")
> Analysis of Deviance Table
>
> Model: Gamma, link: inverse
>
> Response: time
>
> Terms added sequentially (first to last)
>
>
>      Df Deviance Resid. Df Resid. Dev P(>|Chi|)
> NULL                    13    1.50207
> sex   1  0.08833        12    1.41374   0.31191
> task  1  0.44008        11    0.97366   0.02400
>
> #BUT!
> > 1-pchisq(0.44008,1)
> [1] 0.5070838

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Fri Nov 15 11:08:34 2002
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Fri, 15 Nov 2002 12:08:34 +0100
Subject: R mailing lists: move from majordomo to [procmail+mailman]
In-Reply-To: <3DD3BDE5.96E732D5@nottingham.ac.uk>
References: <3DD3BDE5.96E732D5@nottingham.ac.uk>,
 <15827.30026.260485.901432@gargle.gargle.HOWL>
Message-ID: <15828.54706.883492.490209@gargle.gargle.HOWL>

This was the only feedback I got.

>>>>> "Michael" == Michael Dewey <michael.dewey@nottingham.ac.uk>
>>>>>     on Thu, 14 Nov 2002 15:14:45 +0000 writes:

    Michael> I looked at the page you mentioned in the body of
    Michael> your post, but I got a series of messages about
    Michael> your security certificate first, before I got
    Michael> through. Is that (a) a problem with me (b) a
    Michael> problem at your end (c) just one of those things?

It's (b) and (c)

b) We use https (secure layer stuff) but cannot give out
   completely painless certificates.  
   This may or may not be improved ;-)

c) If you accept the certificate, you won't be asked
   ___in that browser session__ (only).

    Michael> -- Michael Dewey Trent Institute for Health
    Michael> Services Research

I now plan to do the *big change* (R-devel only) coming
Monday.

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From lutz@stat.math.ethz.ch  Fri Nov 15 12:12:09 2002
From: lutz@stat.math.ethz.ch (lutz@stat.math.ethz.ch)
Date: Fri, 15 Nov 2002 13:12:09 +0100 (MET)
Subject: bug in logLik.nls (PR#2295)
Message-ID: <200211151212.NAA11698@pubhealth.ku.dk>

logLik.nls does not count the df's correct. I get df=1 although I
fit a probit-model with 3 parameters.

Example:
x <- c(-2.3, -2.0, -1.3, -1.0, -0.7, -0.3, 0.0, 0.3)
y <- c(80, 80, 54, 43, 24, 18, 12, 12)

fit.nls <- nls(y ~ diff * pnorm(beta * (x - alpha)),
                   start=c(alpha=-1, beta=-1, diff=100))

logLik.nls(fit.nls)
# `log Lik.' -21.43369 (df=1)


Sincerely yours
Roman Lutz

--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = 
 major = 1
 minor = 6.1
 year = 2002
 month = 11
 day = 01
 language = R

Search Path:
 .GlobalEnv, package:mva, package:lattice, package:grid, package:nlme, package:nls, package:ctest, package:SfS, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Fri Nov 15 18:18:18 2002
From: bates@stat.wisc.edu (bates@stat.wisc.edu)
Date: Fri, 15 Nov 2002 19:18:18 +0100 (MET)
Subject: bug in logLik.nls (PR#2295)
Message-ID: <200211151818.TAA15264@pubhealth.ku.dk>

lutz@stat.math.ethz.ch writes:

> logLik.nls does not count the df's correct. I get df=1 although I
> fit a probit-model with 3 parameters.
> 
> Example:
> x <- c(-2.3, -2.0, -1.3, -1.0, -0.7, -0.3, 0.0, 0.3)
> y <- c(80, 80, 54, 43, 24, 18, 12, 12)
> 
> fit.nls <- nls(y ~ diff * pnorm(beta * (x - alpha)),
>                    start=c(alpha=-1, beta=-1, diff=100))
> 
> logLik.nls(fit.nls)
> # `log Lik.' -21.43369 (df=1)

You are correct.  Thanks for the report.  Fix now committed.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Fri Nov 15 18:17:21 2002
From: bates@stat.wisc.edu (Douglas Bates)
Date: 15 Nov 2002 12:17:21 -0600
Subject: bug in logLik.nls (PR#2295)
In-Reply-To: <200211151212.NAA11698@pubhealth.ku.dk>
References: <200211151212.NAA11698@pubhealth.ku.dk>
Message-ID: <6rlm3ur93i.fsf@bates5.stat.wisc.edu>

lutz@stat.math.ethz.ch writes:

> logLik.nls does not count the df's correct. I get df=1 although I
> fit a probit-model with 3 parameters.
> 
> Example:
> x <- c(-2.3, -2.0, -1.3, -1.0, -0.7, -0.3, 0.0, 0.3)
> y <- c(80, 80, 54, 43, 24, 18, 12, 12)
> 
> fit.nls <- nls(y ~ diff * pnorm(beta * (x - alpha)),
>                    start=c(alpha=-1, beta=-1, diff=100))
> 
> logLik.nls(fit.nls)
> # `log Lik.' -21.43369 (df=1)

You are correct.  Thanks for the report.  Fix now committed.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From heinlein@cse.ogi.edu  Fri Nov 15 19:21:41 2002
From: heinlein@cse.ogi.edu (heinlein@cse.ogi.edu)
Date: Fri, 15 Nov 2002 20:21:41 +0100 (MET)
Subject: make check fails with -march=i686 on gcc 2.96 (PR#2296)
Message-ID: <200211151921.UAA15447@pubhealth.ku.dk>

The top-level 'make check' fails on Red Hat Linux 7.3 (fully patched 
as of Nov. 15, 2002) when CFLAGS includes "-march=i686". In 
particular, the following targets fail:

* test-Reg
* test-Examples
* test-Ts

The workaround is not to use "-march=i686". Specific stuff below, and
I'd be happy to provide any files or fragments thereof that'd help.

The failure does not occur

a) when the configure script is allowed to generate the optimization
   flags all on its own:

b) using Red Hat 8.0 with gcc 3.2 and glibc 2.2.93 (even with 
   -march=i686 specified)

+-----------------------------------------+----------------------+
| Paul Heinlein                           | heinlein@cse.ogi.edu |
| Research Systems Engineer               |      +1 503 748-1472 |
| Dept. of Computer Science & Engineering | 20000 NW Walker Road |
| OGI School of Science & Engineering     |  Beaverton, OR 97006 |
| Oregon Health & Science University      |                  USA |
+-----------------------------------------+----------------------+


System info:

* gcc 2.96 (rpm: gcc-2.96-113)
* libc 2.2.5 (rpm: glibc-2.2.5-42)
* kernel 2.4.18 (rpm: kernel-smp-2.4.18-17.7.x)
* 2 x Pentium III (Coppermine)


[heinlein@pecos R-1.6.1]$ CFLAGS='-O2 -march=i686' ./configure \
>> --prefix=/usr --with-gnome
...
R is now configured for i686-pc-linux-gnu

  Source directory:          .  
  Installation directory:    /usr

  C compiler:                gcc  -D__NO_MATH_INLINES -mieee-fp -O2 -march=i686
  C++ compiler:              g++  -mieee-fp -g -O2
  Fortran compiler:          g77  -mieee-fp -g -O2

  X11 support:               yes
  Gnome support:             yes
  Tcl/Tk support:            yes
  Readline support:          yes

  R profiling support:       yes
  R as a shared library:     no

  Recommended packages:      yes

[heinlein@pecos R-1.6.1]$ make
... everything ok ...
[heinlein@pecos R-1.6.1]$ make check
...
make[4]: Entering directory `/var/tmp/R-1.6.1/tests/Examples'
collecting examples for package 'base' ...
make[5]: Entering directory `/var/tmp/R-1.6.1/src/library'
 >>> Building/Updating help pages for package 'base'
     Formats: text example 
make[5]: Leaving directory `/var/tmp/R-1.6.1/src/library'
running code in 'base-Ex.R' ...make[4]: *** [base-Ex.Rout] Error 1
[heinlein@pecos R-1.6.1]$ cd tests
[heinlein@pecos tests]$ make test-Reg
running regression tests
make[1]: Entering directory `/var/tmp/R-1.6.1/tests'
running code in 'reg-tests-1.R' ...make[1]: *** [reg-tests-1.Rout] Error 1
make[1]: Leaving directory `/var/tmp/R-1.6.1/tests'
make: *** [test-Reg] Error 2


Other test targets succeed: test-Packages (one warning about
undocumented code object 'plot' in methods), test-Internet,
test-Lapack, test-Nafns, test-Postscript, test-Random, test-DocArgs,
test-DocStyle (with some warnings), test-FF, test-Methods.





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gwright@packetstorm.com  Fri Nov 15 21:02:28 2002
From: gwright@packetstorm.com (Gregory Wright)
Date: Fri, 15 Nov 2002 16:02:28 -0500
Subject: R-1.6.1, Mac OS X 10.2.2 build failure
In-Reply-To: <Pine.LNX.4.44.0211141631250.20208-100000@itasca.stat.uiowa.edu>
Message-ID: <8CDEC0D6-F8DD-11D6-931E-00039398F084@packetstorm.com>


dlcompat was the problem.

When it was rebuilt in the fink style (by hand, using 'make -f fink.mk  
install'), R built to completion.

Thanks to Luke and Jan for their help on this.

I've asked the darwinports list for a advice on what is the best way  
forward to putting together a port of R-1.6.1.

Thanks again.

Best Wishes,
Greg



On Thursday, November 14, 2002, at 05:34 PM, Luke Tierney wrote:

> You might want to double check the dlcompat you have.  THere was some
> discussiion about this a week or two ago in conneciton with plain
> darwin I think.  Mac compilers prepend underscores to C names; most
> other systems don't.  R's config assumes that R has to prepend an
> underscore.  But as I recall you can configure dlcompat to do that for
> you, and if that is what you have then you are getting two underscores
> instead of one.  Don't know if that is the problem, but it's something
> to check.
>
> luke
>
> On Thu, 14 Nov 2002, Gregory Wright wrote:
>
>>
>> On Thursday, November 14, 2002, at 12:35 PM, Jan de Leeuw wrote:
>>
>>> I know what I would do. It does not rebuild "methods". I would do a
>>> make distclean in your build directory and configure from scratch.
>>>
>>>
>>>
>>
>> Hi,
>>
>> I unpacked a fresh 1.6.1 tarball, reconfigured and rebuilt from
>> scratch. The results were similar:
>>
>> <...stuff omitted..>
>> cc1: warning: changing search order for system directory
>> "/usr/local/include"
>> cc1: warning:   as it has already been specified as a non-system
>> directory
>> gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include
>> -fno-common  -g -O2 -c methods_list_dispatch.c -o
>> methods_list_dispatch.o
>> cc1: warning: changing search order for system directory
>> "/usr/local/include"
>> cc1: warning:   as it has already been specified as a non-system
>> directory
>> gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include
>> -fno-common  -g -O2 -c method_meta_data.c -o method_meta_data.o
>> cc1: warning: changing search order for system directory
>> "/usr/local/include"
>> cc1: warning:   as it has already been specified as a non-system
>> directory
>> gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include
>> -fno-common  -g -O2 -c slot.c -o slot.o
>> cc1: warning: changing search order for system directory
>> "/usr/local/include"
>> cc1: warning:   as it has already been specified as a non-system
>> directory
>> gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include
>> -fno-common  -g -O2 -c class_support.c -o class_support.o
>> cc1: warning: changing search order for system directory
>> "/usr/local/include"
>> cc1: warning:   as it has already been specified as a non-system
>> directory
>> gcc -bundle -flat_namespace -undefined suppress -L/usr/local/lib -o
>> methods.so do_substitute_direct.o methods_list_dispatch.o
>> method_meta_data.o slot.o class_support.o
>> mkdir -p -- ../../../../library/methods/libs
>> dumping R code in package 'methods'
>> Error in .Call("R_initialize_methods_metadata", table, PACKAGE =
>> "methods") :
>>          .Call function name not in load table
>> Execution halted
>> make[4]: *** [../../../library/methods/R/all.rda] Error 1
>> make[3]: *** [all] Error 2
>> make[2]: *** [R] Error 1
>> make[1]: *** [R] Error 1
>> make: *** [R] Error 1
>>
>> The configuration was
>>
>> bash-2.05a$ export TCLTK_LIBS="-framework Tcl -framework Tk"
>> bash-2.05a$ export
>> TCLTK_CPPFLAGS="-I/Library/Frameworks/Tcl.framework/Headers
>> -I/Library/Frameworks/Tk.framework/Headers"
>> ../configure
>> --with-tcl-config=/Library/Frameworks/Tcl.framework/tclConfig.sh
>> --with-tk-config=/Library/Frameworks/Tk.framework/tkConfig.sh
>>
>>
>> and configure's summary was
>>
>> R is now configured for powerpc-apple-darwin6.2
>>
>>    Source directory:          .
>>    Installation directory:    /usr/local
>>
>>    C compiler:                gcc  -g -O2
>>    C++ compiler:              g++  -g -O2
>>    Fortran compiler:          g77  -g -O2
>>
>>    X11 support:               yes
>>    Gnome support:             no
>>    Tcl/Tk support:            yes
>>    Readline support:          yes
>>
>>    R profiling support:       yes
>>    R as a shared library:     no
>>
>>    Recommended packages:      yes
>>
>>
>> Is there something obvious that I should be examining to find the root
>> of the this?
>>
>> Best Wishes,
>> Greg Wright
>>
>> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
>> .-.-.-.-.-
>> r-devel mailing list -- Read  
>> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>> Send "info", "help", or "[un]subscribe"
>> (in the "body", not the subject !)  To:  
>> r-devel-request@stat.math.ethz.ch
>> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._. 
>> _._._._._
>>
>
> -- 
> Luke Tierney
> University of Iowa                  Phone:             319-335-3386
> Department of Statistics and        Fax:               319-335-3017
>    Actuarial Science
> 241 Schaeffer Hall                  email:      luke@stat.uiowa.edu
> Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Fri Nov 15 23:07:53 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Nov 2002 00:07:53 +0100
Subject: make check fails with -march=i686 on gcc 2.96 (PR#2296)
In-Reply-To: <200211151921.UAA15447@pubhealth.ku.dk>
References: <200211151921.UAA15447@pubhealth.ku.dk>
Message-ID: <x27kfev3cm.fsf@biostat.ku.dk>

heinlein@cse.ogi.edu writes:

> The top-level 'make check' fails on Red Hat Linux 7.3 (fully patched 
> as of Nov. 15, 2002) when CFLAGS includes "-march=i686". In 
> particular, the following targets fail:
> 
> * test-Reg
> * test-Examples
> * test-Ts
> 
> The workaround is not to use "-march=i686". Specific stuff below, and
> I'd be happy to provide any files or fragments thereof that'd help.
> 
> The failure does not occur
> 
> a) when the configure script is allowed to generate the optimization
>    flags all on its own:
> 
> b) using Red Hat 8.0 with gcc 3.2 and glibc 2.2.93 (even with 
>    -march=i686 specified)

Sounds more like a compiler bug than an R bug. (I have yet to see the
-march setting have any noticeable effect on a program, so I wouldn't
consider it high priority...)
 
The dual PIII that I have access to is still on RH7.2 and gcc-2.96-98
but I can reproduce the crash in base-Ex.R

#0  0x4012ace9 in __printf_fp () at printf_fp.c:910
#1  0x4012657b in _IO_vfprintf (s=0xbfffb020, 
    format=0xbfffb130 "%#2.2147483647e", ap=0xbfffb110) at _itoa.h:49
#2  0x40141605 in _IO_vsprintf (string=0x8b928b0 " 192.64", 
    format=0xbfffb130 "%#2.2147483647e", args=0xbfffb108) at #iovsprintf.c:46
#3  0x4012ec69 in sprintf (s=0x8b928b0 " 192.64", 
    format=0xbfffb130 "%#2.2147483647e") at sprintf.c:38
#4  0x08101613 in Rf_EncodeReal (x=nan(0x80000000007a2), w=2, #d=2147483647, 
    e=1) at ../../../R/src/main/printutils.c:171
#5  0x08101afb in Rf_EncodeElement (x=0x8bb2940, indx=0, quote=0)
    at ../../../R/src/main/printutils.c:366
...

BTW, another gotcha: r-devel tried to pass --args to gdb, but the
RH7.2 one (5.0-rh15) does not understand that.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From schutz@wehi.edu.au  Sat Nov 16 04:44:02 2002
From: schutz@wehi.edu.au (schutz@wehi.edu.au)
Date: Sat, 16 Nov 2002 05:44:02 +0100 (MET)
Subject: Wishlist: allow NA values in medpolish (package 'eda') (PR#2298)
Message-ID: <200211160444.FAA16556@pubhealth.ku.dk>

Full_Name: Frederic Schutz
Version: 1.6.1
OS: Linux
Submission from: (NULL) (128.250.252.193)


The subject says everything... This has already been proposed in
June 2001 (cf http://maths.newcastle.edu.au/~rking/R/help/01a/2333.html),
but no reply followed.

I attach the patch that I used on my system to add this feature
(including an updated help page), if it can help. Sorry, the
two "diff..." lines will certainly been wrapped due to the HTML form.

Frederic

diff -ur R-1.6.1.old/src/library/eda/R/medpolish.R
R-1.6.1/src/library/eda/R/medpolish.R
--- R-1.6.1.old/src/library/eda/R/medpolish.R   Mon Jan 31 21:01:52 2000
+++ R-1.6.1/src/library/eda/R/medpolish.R       Sat Nov 16 15:18:07 2002
@@ -1,4 +1,5 @@
-medpolish <- function (x, eps=0.01, maxiter=10, trace.iter = TRUE)
+medpolish <- function (x, eps=0.01, maxiter=10, trace.iter = TRUE,
+                       na.rm = FALSE)
 {
     z <- as.matrix(x)
     nr <- nrow(z)
@@ -8,19 +9,19 @@
     c <- numeric(nc)
     oldsum <- 0
     for(iter in 1:maxiter) {
-       rdelta <- apply(z, 1, median)
+       rdelta <- apply(z, 1, median, na.rm = na.rm)
        z <- z - matrix(rdelta, nr=nr, nc=nc)
        r <- r + rdelta
-       delta <- median(c)
+       delta <- median(c, na.rm = na.rm)
        c <- c - delta
        t <- t + delta
-       cdelta <- apply(z, 2, median)
+       cdelta <- apply(z, 2, median, na.rm = na.rm)
        z <- z - matrix(cdelta, nr=nr, nc=nc, byrow=TRUE)
        c <- c + cdelta
-       delta <- median(r)
+       delta <- median(r, na.rm = na.rm)
        r <- r - delta
        t <- t + delta
-       newsum <- sum(abs(z))
+       newsum <- sum(abs(z), na.rm = na.rm)
        converged <- newsum==0 || abs(1-oldsum/newsum) < eps
         if(converged) break
        oldsum <- newsum
diff -ur R-1.6.1.old/src/library/eda/man/medpolish.Rd
R-1.6.1/src/library/eda/man/medpolish.Rd
--- R-1.6.1.old/src/library/eda/man/medpolish.Rd        Tue Aug 14 07:41:51
2001
+++ R-1.6.1/src/library/eda/man/medpolish.Rd    Sat Nov 16 14:47:24 2002
@@ -7,7 +7,8 @@
   Fits an additive model using Tukey's \emph{median polish} procedure.
 }
 \usage{
-medpolish(x, eps = 0.01, maxiter = 10, trace.iter = TRUE)
+medpolish(x, eps = 0.01, maxiter = 10, trace.iter = TRUE,
+          na.rm = FALSE)
 }
 \arguments{
   \item{x}{a numeric matrix.}
@@ -15,6 +16,7 @@
     see \bold{Details}.}
   \item{maxiter}{the maximum number of iterations}
   \item{trace.iter}{logical. Should progress in convergence be reported?}
+  \item{na.rm}{logical. Should missing values be removed?}
 }
 \details{
   The model fitted is additive (constant + rows + columns). The
@@ -24,6 +26,8 @@
   or until there have been \code{maxiter} iterations.
   The sum of absolute residuals is printed at
   each iteration of the fitting process, if \code{trace.iter} is \code{TRUE}.
+  If \code{na.rm} is \code{FALSE} the presence of any \code{NA} value in
+  \code{x} will cause an error, otherwise \code{NA} values are ignored.
 
   \code{medpolish} returns an object of class \code{medpolish} (see below).
   There are printing and plotting methods for this


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From schutz@wehi.edu.au  Sat Nov 16 05:33:05 2002
From: schutz@wehi.edu.au (schutz@wehi.edu.au)
Date: Sat, 16 Nov 2002 06:33:05 +0100 (MET)
Subject: formatC with format="fg" displays number in exponential notation (PR#2299)
Message-ID: <200211160533.GAA16636@pubhealth.ku.dk>

Full_Name: Frederic Schutz
Version: 1.6.1
OS: Linux
Submission from: (NULL) (128.250.252.193)


The result of the following commands:

> formatC(9.9, 1, format="fg")
[1] "1e+01"
> formatC(99.9, 1, format="fg")
[1] "1e+02"

does not seem to be coherent with what the help page says:

>  format: equal to `"d"'  (for integers), `"f"', `"e"', `"E"', `"g"',
>          `"G"', `"fg"' (for reals), or `"s"' (for strings). Default is
>          `"d"' for integers, `"g"' for reals.
>
>          `"f"' gives numbers in the usual `xxx.xxx' format;  `"e"' and
>          `"E"' give `n.ddde+nn' or `n.dddE+nn' (scientific format);
>          `"g"' and `"G"' put `x[i]' into scientific format only if it
>          saves space to do so.
>
>          `"fg"' uses fixed format as `"f"', but `digits' as number of
>          significant digits.  Note that this can lead to quite long
>          result strings, see examples below.

I would expect "fg" to produce only fixed format numbers, which does not
seem to be the case here.

Frederic

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jago@mclink.it  Sat Nov 16 08:48:52 2002
From: jago@mclink.it (Stefano Iacus)
Date: Sat, 16 Nov 2002 09:48:52 +0100
Subject: survreg (survival) reports erroneous results for left-censored data (PR#2287)
In-Reply-To: <Pine.A41.4.44.0211151532160.137762-100000@homer36.u.washington.edu>
Message-ID: <3BB46CA9-F940-11D6-9DF4-003065CC4CB8@mclink.it>

Thomas,
you were right. It works now. This is what I get with Carbon R and the 
patched survival package.
I will upload a patched version of survivalLib. Can you please fix 
SurvS.h sources?
Stefano


 > survreg(Surv(c(0,1,-1),c(T,T,F),type='left')~1,dist='gaussian')
Call:
survreg(formula = Surv(c(0, 1, -1), c(T, T, F), type = "left") ~
     1, dist = "gaussian")

Coefficients:
(Intercept)
  -0.2321569

Scale= 1.161135

Loglik(model)= -4.1   Loglik(intercept only)= -4.1
n= 3

On Saturday, November 16, 2002, at 12:59 AM, Thomas Lumley wrote:

>
>  I think it's a problem with the erfc macro in survS.h, which is 
> defined
> as
> #ifndef erfc
> #define erfc(x) 2*pnorm5(-x*M_SQRT2,0,1,1,0)
> #endif
>
> The problem is that in survreg2.c we call erf(-z/ROOT_2), which 
> expands to
> 2*pnorm5(--z/ROOT_2*SQRT2,0,1,1,0), and the -- becomes a predecrement
> operator.   I hate macros.
>
> If so, the fix would be
> #ifndef erfc
> #define erfc(x) 2*pnorm5(-(x)*M_SQRT2,0,1,1,0)
> #endif
>
> 	-thomas
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From xiao.gang.fan1@libertysurf.fr  Sun Nov 17 14:31:04 2002
From: xiao.gang.fan1@libertysurf.fr (xiao.gang.fan1@libertysurf.fr)
Date: Sun, 17 Nov 2002 15:31:04 +0100 (MET)
Subject: Package tseries: crash for Windows version (PR#2302)
Message-ID: <200211171431.PAA19882@pubhealth.ku.dk>

Platform: Windows 98
R version: Version 1.6.1  (2002-11-01)
Package 'tseries' version: 0.9-4 Built: R 1.6.0; Win32; Mon Oct 7 14:02:38 2002)
(dependanted packages 'quadprog': Built: R 1.5.1;  Win32;  2002-07-03 12:20:50) 

I've just upgraded to R 1.6.1. By typing

library(tseries)
example(garch)

=> I've got a crash with the following message:
"RGUI a caus une dfaillance de page dans le module TSERIES.DLL  0167:117c999f"

Thanks in advance
--
Fan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From krcabrer@epm.net.co  Sun Nov 17 15:40:37 2002
From: krcabrer@epm.net.co (Kenneth Cabrera)
Date: Sun, 17 Nov 2002 10:40:37 -0500
Subject: Package tseries: crash for Windows version (PR#2302)
References: <200211171431.PAA19882@pubhealth.ku.dk>
Message-ID: <3DD7B875.9040407@epm.net.co>

similar happens on W2K platform

xiao.gang.fan1@libertysurf.fr wrote:

>Platform: Windows 98
>R version: Version 1.6.1  (2002-11-01)
>Package 'tseries' version: 0.9-4 Built: R 1.6.0; Win32; Mon Oct 7 14:02:38 2002)
>(dependanted packages 'quadprog': Built: R 1.5.1;  Win32;  2002-07-03 12:20:50) 
>
>I've just upgraded to R 1.6.1. By typing
>
>library(tseries)
>example(garch)
>
>=> I've got a crash with the following message:
>"RGUI a caus? une d?faillance de page dans le module TSERIES.DLL ? 0167:117c999f"
>
>Thanks in advance
>--
>Fan
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>
>
>  
>

-- 
Kenneth Roy Cabrera Torres
Celular +57 (315) 405 9339



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Nov 17 15:59:26 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 17 Nov 2002 15:59:26 +0000 (GMT)
Subject: Package tseries: crash for Windows version (PR#2302)
In-Reply-To: <3DD7B875.9040407@epm.net.co>
Message-ID: <Pine.LNX.4.31.0211171548360.3550-100000@gannet.stats>

This is not the appropriate place to report such an error, unless you
built the packages yourself under the current version of R, which you
clearly did not.

And this is *definitely* not the place to say `me too'.  Neither of you
provided any debugging information.

Please do not clog up R-bugs with reports on out-of-date builds, and
please do remember that having compiled versions for R is a *privilege*
which such reports abuse.

Note that the tseries pre-compiled package did run the checks under the
version of R on its date stamp and this may well be a problem with the
R 1.6.1 build rather than the package.

Your long-suffering Windows package compiler.


On Sun, 17 Nov 2002, Kenneth Cabrera wrote:

> similar happens on W2K platform
>
> xiao.gang.fan1@libertysurf.fr wrote:
>
> >Platform: Windows 98
> >R version: Version 1.6.1  (2002-11-01)
> >Package 'tseries' version: 0.9-4 Built: R 1.6.0; Win32; Mon Oct 7 14:02:38 2002)
> >(dependanted packages 'quadprog': Built: R 1.5.1;  Win32;  2002-07-03 12:20:50)
> >
> >I've just upgraded to R 1.6.1. By typing
> >
> >library(tseries)
> >example(garch)
> >
> >=> I've got a crash with the following message:
> >"RGUI a caus? une d?faillance de page dans le module TSERIES.DLL ? 0167:117c999f"
> >
> >Thanks in advance
> >--
> >Fan
> >
> >-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> >r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> >Send "info", "help", or "[un]subscribe"
> >(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> >_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> >
> >
> >
>
> --
> Kenneth Roy Cabrera Torres
> Celular +57 (315) 405 9339
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From xiao.gang.fan1@libertysurf.fr  Sun Nov 17 16:07:15 2002
From: xiao.gang.fan1@libertysurf.fr (Fan)
Date: Sun, 17 Nov 2002 17:07:15 +0100
Subject: Package tseries: crash for Windows version (PR#2302)
References: <Pine.LNX.4.31.0211171548360.3550-100000@gannet.stats>
Message-ID: <3DD7BEB3.AE3FF5DF@libertysurf.fr>

Sorry for the precision:
I've tested on the precompiled version (downloaded from CRAN)
AND on my compiled version from source: always KO.
Which debugging information the maintainer want to get ?
The better perhaps would be waiting his answer, no ?
--
Fan

ripley@stats.ox.ac.uk a crit :
> 
> This is not the appropriate place to report such an error, unless you
> built the packages yourself under the current version of R, which you
> clearly did not.
> 
> And this is *definitely* not the place to say `me too'.  Neither of you
> provided any debugging information.
> 
> Please do not clog up R-bugs with reports on out-of-date builds, and
> please do remember that having compiled versions for R is a *privilege*
> which such reports abuse.
> 
> Note that the tseries pre-compiled package did run the checks under the
> version of R on its date stamp and this may well be a problem with the
> R 1.6.1 build rather than the package.
> 
> Your long-suffering Windows package compiler.
> 
> On Sun, 17 Nov 2002, Kenneth Cabrera wrote:
> 
> > similar happens on W2K platform
> >
> > xiao.gang.fan1@libertysurf.fr wrote:
> >
> > >Platform: Windows 98
> > >R version: Version 1.6.1  (2002-11-01)
> > >Package 'tseries' version: 0.9-4 Built: R 1.6.0; Win32; Mon Oct 7 14:02:38 2002)
> > >(dependanted packages 'quadprog': Built: R 1.5.1;  Win32;  2002-07-03 12:20:50)
> > >
> > >I've just upgraded to R 1.6.1. By typing
> > >
> > >library(tseries)
> > >example(garch)
> > >
> > >=> I've got a crash with the following message:
> > >"RGUI a caus? une d?faillance de page dans le module TSERIES.DLL ? 0167:117c999f"
> > >
> > >Thanks in advance
> > >--
> > >Fan
> > >
> > >-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > >r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > >Send "info", "help", or "[un]subscribe"
> > >(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> > >_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> > >
> > >
> > >
> > >
> >
> > --
> > Kenneth Roy Cabrera Torres
> > Celular +57 (315) 405 9339
> >
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> --
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jyan@stat.wisc.edu  Sun Nov 17 17:20:47 2002
From: jyan@stat.wisc.edu (jyan@stat.wisc.edu)
Date: Sun, 17 Nov 2002 18:20:47 +0100 (MET)
Subject: gnuwin32/Makefile (PR#2304)
Message-ID: <200211171720.SAA20281@pubhealth.ku.dk>

I was trying cross-compiling R-1.6.1 and found that at line 519 of
R-1.6.1/src/gnuwin32/Makefile, 

../library/%/DESCRIPTION: ../library/RECOMMENDED/%.tgz

needs to be changed to

../library/%/DESCRIPTION: ../library/Recommended/%.tgz


Jun


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Nov 17 17:31:21 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 17 Nov 2002 17:31:21 +0000 (GMT)
Subject: gnuwin32/Makefile (PR#2304)
In-Reply-To: <200211171720.SAA20281@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0211171730350.4234-100000@gannet.stats>

Yes, already found and fixed.  It's only needed when cross-compiling
as Windows is case-insensitive.

On Sun, 17 Nov 2002 jyan@stat.wisc.edu wrote:

> I was trying cross-compiling R-1.6.1 and found that at line 519 of
> R-1.6.1/src/gnuwin32/Makefile,
>
> ../library/%/DESCRIPTION: ../library/RECOMMENDED/%.tgz
>
> needs to be changed to
>
> ../library/%/DESCRIPTION: ../library/Recommended/%.tgz
>
>
> Jun
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From xiao.gang.fan1@libertysurf.fr  Sun Nov 17 19:58:01 2002
From: xiao.gang.fan1@libertysurf.fr (Fan)
Date: Sun, 17 Nov 2002 20:58:01 +0100
Subject: Package tseries: crash for Windows version (PR#2302)
References: <3DD7B875.9040407@epm.net.co> <Pine.LNX.4.31.0211171548360.3550-100000@gannet.stats> <45hftuosbgf6fjjbq6mba6ba0rsjf4ub7a@4ax.com>
Message-ID: <3DD7F4C9.DED4D1D@libertysurf.fr>

I've got into another pb with R 1.6.1 (always under Windows 98):

help(sum, chmhelp=T)

this will open the file base.chm, if we close this help window =>
crash in R, with the following message:
"RGUI has caused a page failure in the library ITIRCL.dll at 0167:5d506e2a"

With another package, ex. help(garch, package=tseries, chmhelp=T), no problem.

Thanks in advance
--
Fan

Duncan Murdoch :
> 
> On Sun, 17 Nov 2002 15:59:26 +0000 (GMT), you wrote:
> 
> >This is not the appropriate place to report such an error, unless you
> >built the packages yourself under the current version of R, which you
> >clearly did not.
> 
> I rebuilt in 1.6.1 and got the same error, in the .C call to
> pred_garch.  I didn't trace into the C code to localize it any
> further.
> 
> Kurt, if this is a Windows-only issue, let me know and I'll try to
> track down what the problem is.
> 
> Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

	for <r-devel@stat.math.ethz.ch>; Mon, 18 Nov 2002 10:39:46 +0100 (MET)
Date: Mon, 18 Nov 2002 10:39:46 +0100 (MET)
From: maechler@stat.math.ethz.ch
Message-Id: <200211180939.KAA24048@pubhealth.ku.dk>
To: r-devel@stat.math.ethz.ch
CC: R-bugs@biostat.ku.dk
X-Loop: R-bugs@biostat.ku.dk
Subject: [Rd] Re: Wishlist: allow NA values in medpolish (package 'eda') (PR#2298)
Sender: r-devel-admin@stat.math.ethz.ch
Errors-To: r-devel-admin@stat.math.ethz.ch
X-BeenThere: r-devel@stat.math.ethz.ch
X-Mailman-Version: 2.0.13
Precedence: bulk
List-Help: <mailto:r-devel-request@stat.math.ethz.ch?subject=help>
List-Post: <mailto:r-devel@stat.math.ethz.ch>
List-Subscribe: <http://www.stat.math.ethz.ch/mailman/listinfo/r-devel>,
	<mailto:r-devel-request@stat.math.ethz.ch?subject=subscribe>
List-Id: R developers,
	designers and active programmers <r-devel.stat.math.ethz.ch>
List-Unsubscribe: <http://www.stat.math.ethz.ch/mailman/listinfo/r-devel>,
	<mailto:r-devel-request@stat.math.ethz.ch?subject=unsubscribe>
List-Archive: <http://www.stat.math.ethz.ch/pipermail/r-devel/>

>>>>> "Frederic" == Frederic Schutz <schutz@wehi.edu.au>
>>>>>     on Sat, 16 Nov 2002 05:44:02 +0100 (MET) writes:


    Frederic> The subject says everything... This has already
    Frederic> been proposed in June 2001 (cf
    Frederic> http://maths.newcastle.edu.au/~rking/R/help/01a/2333.html),
    Frederic> but no reply followed.

sorry for that.
Yes, this too obvious  to not implement it. ;-)
Probably, most of us are not really making heavy use of medpolish(..)..
But thanks for the patch which I've even implemented 
for "R-patched" (even though it's not a bug fix, but a wish, as
you properly indicated).

    Frederic> I attach the patch that I used on my system to add
    Frederic> this feature (including an updated help page), if
    Frederic> it can help.
it did, thanks.

    Frederic>  Sorry, the two "diff..." lines will certainly
    Frederic> been wrapped due to the HTML form. 

fortunately, the R-devel forwarding had no wrap arounds.

BTW: The main reason for this reply is to test the new R-devel
     mailing list setup .. see my Friday posting (to R-devel) on
     this subject.

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><



From Martin Maechler <maechler@stat.math.ethz.ch>  Mon Nov 18 11:07:01 2002
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Mon, 18 Nov 2002 12:07:01 +0100
Subject: [Rd] R-devel: now moved from majordomo to [procmail+mailman]
In-Reply-To: <15827.30026.260485.901432@gargle.gargle.HOWL>
References: <15827.30026.260485.901432@gargle.gargle.HOWL>
Message-ID: <15832.51669.214864.929805@gargle.gargle.HOWL>

I have done the announced move now (~ 2 hours ago).

The biggest changes is probably for the former subscribers of 
"R-devel-digest" : You are now subscribed to R-devel with the
"digest" option activated.  

Also note that the digests are now *daily* (instead of 3 times a week).
This could be changed with some effort, but does not correspond
to general Mailman setup/philosophy/documentation.

Further, currently the digests are sent at noon (localtime aka
MET or {i.e. UTC+1 or UTC+2 in "summer time"}.  This also
corresponds to mailman defaults, but could be changed easily.

Feedback welcome, to me privately, or to the list if
appropriate. I'm particularly interested in the observed delays
(visible via the message headers, e.g.), since mailman has a
different way of sending things out.

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

From p.dalgaard@biostat.ku.dk  Mon Nov 18 11:23:43 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 Nov 2002 12:23:43 +0100
Subject: [Rd] R-devel: now moved from majordomo to [procmail+mailman]
In-Reply-To: <15832.51669.214864.929805@gargle.gargle.HOWL>
References: <15827.30026.260485.901432@gargle.gargle.HOWL>
 <15832.51669.214864.929805@gargle.gargle.HOWL>
Message-ID: <x2isyvi0jk.fsf@biostat.ku.dk>

Martin Maechler <maechler@stat.math.ethz.ch> writes:

> Feedback welcome, to me privately, or to the list if
> appropriate. I'm particularly interested in the observed delays
> (visible via the message headers, e.g.), since mailman has a
> different way of sending things out.

Notice that the Sender: field has changed from owner-r-devel to
r-devel-admin. Those who use mail-filtering rules may wish to adapt.

        -p

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

From krcabrer@perseus.unalmed.edu.co  Mon Nov 18 01:35:39 2002
From: krcabrer@perseus.unalmed.edu.co (Kenneth Roy Cabrera Torres)
Date: Mon, 18 Nov 2002 06:35:39 +0500 (GMT)
Subject: [Rd] Re: Package tseries: crash for Windows version (PR#2302)
In-Reply-To: <3DD7F4C9.DED4D1D@libertysurf.fr>
Message-ID: <Pine.GSO.4.44.0211180630190.8913-100000@perseus.unalmed.edu.co>

> I've got into another pb with R 1.6.1 (always under Windows 98):
>
> help(sum, chmhelp=T)
>

I have a W2K platform and works fine with self compiled version,
but not with the precompiled. (I modify the makerules for make the
chm files)

> this will open the file base.chm, if we close this help window =>
> crash in R, with the following message:
> "RGUI has caused a page failure in the library ITIRCL.dll at 0167:5d506e2a"
>

It works fine also in the self compiled version, not in the precompiled.

> With another package, ex. help(garch, package=tseries, chmhelp=T), no problem.
>
> Thanks in advance
> --
> Fan
>


From ripley@stats.ox.ac.uk  Mon Nov 18 11:46:47 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 18 Nov 2002 11:46:47 +0000 (GMT)
Subject: [Rd] Re: chm help (was Package tseries: crash for Windows version (PR#2302))
In-Reply-To: <Pine.GSO.4.44.0211180630190.8913-100000@perseus.unalmed.edu.co>
Message-ID: <Pine.LNX.4.31.0211181144390.14421-100000@gannet.stats>

Do you have the *current* precompiled version of rw1061.exe?
That one works on my systems, as does a version I compiled myself.

Please use a sensible subject!

On Mon, 18 Nov 2002, Kenneth Roy Cabrera Torres wrote:

>
> > I've got into another pb with R 1.6.1 (always under Windows 98):
> >
> > help(sum, chmhelp=T)
> >
>
> I have a W2K platform and works fine with self compiled version,
> but not with the precompiled. (I modify the makerules for make the
> chm files)
>
> > this will open the file base.chm, if we close this help window =>
> > crash in R, with the following message:
> > "RGUI has caused a page failure in the library ITIRCL.dll at 0167:5d506e2a"
> >
>
> It works fine also in the self compiled version, not in the precompiled.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From mcrae_allan@hotmial.com  Mon Nov 18 14:12:24 2002
From: mcrae_allan@hotmial.com (mcrae_allan@hotmial.com)
Date: Mon, 18 Nov 2002 15:12:24 +0100 (MET)
Subject: [Rd] Prediction from arima() object (library ts) (PR#2305)
Message-ID: <200211181412.PAA28853@pubhealth.ku.dk>

Full_Name: Allan McRae
Version: 1.6.0
OS: Win 2000 P
Submission from: (NULL) (129.215.190.229)


When using predict.Arima in library ts(), it appears differencing is only
accounted for in the first step of prediction and so any trend is not apparent
in the predictions.  The example shows the difference between the predictions of
an arima(1,1,1) model and the backtransformed predictions of an arima(1,0,1)
model fitted on the differenced data.

Example:

total <- c(750, 775, 971, 1099, 1344, 610, 910, 1056, 1589, 1006, 1469, 1598,
876, 1104, 1197, 1062, 1783, 1554, 1400, 1340, 1013, 1031, 1030, 860, 943, 1542,
1400, 1301, 1443, 1057, 1296, 710, 1038, 1447, 694, 889, 1459, 957, 1284, 1520,
1172, 1826, 1751, 1968, 933, 1409, 1889)

revtotal <- numeric(length(total))
for(i in 1:length(total))
	revtotal[i] <- total[length(total)-i+1]

# first model
m1 <- arima(revtotal, c(1,1,1))
pm1 <- predict(m1, n.ahead=15)
plot(1:47, y=revtotal, type="l", xlim=c(0,65))
lines(48:62, y=pm1$pred, col="red")

# second model - differencing done manually
drevtotal <- diff(revtotal)
m <- arima(drevtotal, c(1,0,1))
pm <- predict(m, n.ahead=15)
p <- numeric(15)
p[1] <- pm$pred[1] + revtotal[length(revtotal)]
for(i in 2:15)
	p[i] <- p[i-1] + pm$pred[i]
plot(1:47, y=revtotal, type="l", xlim=c(0,65))
lines(48:62, y=p, col="red")


From Martin Maechler <maechler@stat.math.ethz.ch>  Mon Nov 18 17:35:12 2002
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Mon, 18 Nov 2002 18:35:12 +0100
Subject: [Rd] Apology for not enough protection of new R-devel
Message-ID: <15833.9424.422713.403728@gargle.gargle.HOWL>

Dear R-devel subscribers,

I'm feeling quite sheepish at the moment:
When I had activated the change from majordomo to mailman this
morning, I accidentally didn't activate the spam(+some virus)
detection part.  I've only activated it half an hour ago.

Indeed there were twos message of the following kind sent from
R-devel -- I did never seem them personally, because we *do*
filtering of these.
It seems they are Javascript-based viruses (see some info below).
In any case, I apologize and very much hope that this won't
happen (as easily) again. 

Yours,
Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

>>  Our virus detector has just been triggered by a message you sent:-
>>    To: .......
>>    Subject: [Rd] z p@i}G
>>    Date: Mon Nov 18 13:34:30 2002
>>  Any infected parts of the message have not been delivered.
>> 
>>  This message is simply to warn you that your computer system may have a
>>  virus present and should be checked.
>> 
>>  The virus detector said this about the message:
>>  Report: gAIHYOH30591/msg-29196-147.html  Infection: JS/Seeker.R


From B.Rowlingson@lancaster.ac.uk  Mon Nov 18 17:57:47 2002
From: B.Rowlingson@lancaster.ac.uk (Barry Rowlingson)
Date: Mon, 18 Nov 2002 17:57:47 +0000
Subject: [Rd] i386 floating point tweaking
Message-ID: <3DD92A1B.1020707@lancaster.ac.uk>

Just been trying to get the polygon triangulation code from this 
package: http://www-2.cs.cmu.edu/~quake/triangle.html to dyn.load into 
R. Uh oh. Floating point exceptions.

Track it down to some FPU diddling that the author deems is necessary. 
Here's my minimal code that breaks:

flipme.c:

#include <fpu_control.h>
void flipme(){
   int cword;
   cword=4210;
   _FPU_SETCW(cword);
   printf("%f\n",sqrt(2.0));
}

  Compile with "R SHLIB flipme.c", then dyn.load and run:

 > dyn.load("flipme.so")
 > .C("flipme")

Process R floating point exception at Mon Nov 18 17:41:50 2002

  The debugger tells me its the printf line that kills it.

  Anyone have an idea what's going on here? I've tried a few things:

* using _FPU_GETCW I've determined that R hasn't changed the control 
word from the system default.

* I wrote a short main program that used dlopen() to call flipme - and 
it worked fine, so the problem isn't intrinsic to dynamically loaded code.

* the author of the triangle package has put this in the code that 
manipulates the FPU control word:

/*  Don't change this routine unless you fully understand it. 
      */

  - I dont understand it, I changed it, the code broke.

  Anyone with deeper understanding of floating point, iee754, and 
assorted other Recipes For Chaos (RFCs) care to comment before we go 
back to using a file or a pipe to communicate between R and the code?

Baz


From murdoch@stats.uwo.ca  Mon Nov 18 18:33:23 2002
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Mon, 18 Nov 2002 13:33:23 -0500
Subject: [Rd] i386 floating point tweaking
In-Reply-To: <3DD92A1B.1020707@lancaster.ac.uk>
References: <3DD92A1B.1020707@lancaster.ac.uk>
Message-ID: <2sbitu0pvt0dn8dgc0gb18vdvtrbnsk6h5@4ax.com>

On Mon, 18 Nov 2002 17:57:47 +0000, you wrote in message
<3DD92A1B.1020707@lancaster.ac.uk>:

>Just been trying to get the polygon triangulation code from this 
>package: http://www-2.cs.cmu.edu/~quake/triangle.html to dyn.load into 
>R. Uh oh. Floating point exceptions.
>
>Track it down to some FPU diddling that the author deems is necessary. 
>Here's my minimal code that breaks:
>
>flipme.c:
>
>#include <fpu_control.h>
>void flipme(){
>   int cword;
>   cword=4210;
>   _FPU_SETCW(cword);
>   printf("%f\n",sqrt(2.0));
>}
>
>  Compile with "R SHLIB flipme.c", then dyn.load and run:
>
> > dyn.load("flipme.so")
> > .C("flipme")
>
>Process R floating point exception at Mon Nov 18 17:41:50 2002

Dynamic code that changes the floating point word should change it
back when it returns.  R depends on it being correct.

The value you're using is hex 1072, which means among other things
that calculations should be done to 24 bit precision, and various
exceptions should not be masked.  This won't work for R, which assumes
full precision and masking of various things. The safe thing to do
would be to save the CW on entry to each of these routines, set it to
1072 for the duration, then on exit clear any pending exceptions, and
restore the R setting.

I don't know how to do that in C.  In assembler it would be

    fstcw   saved_cw

    do some stuff

    fclex
    fldcw   saved_cw

Duncan Murdoch


From j.c.rougier@durham.ac.uk  Tue Nov 19 14:25:34 2002
From: j.c.rougier@durham.ac.uk (j.c.rougier@durham.ac.uk)
Date: Tue, 19 Nov 2002 15:25:34 +0100 (MET)
Subject: [Rd] Nesting of readline input (PR#2310)
Message-ID: <200211191425.PAA10334@pubhealth.ku.dk>

Hi everyone,

I am following instructions here as I have generated the following warning:

> # stuff looping through some plots with ask=TRUE
Hit <Return> to see next plot: 
Hit <Return> to see next plot: 
Hit <Return> to see next plot: 
Hit <Return> to see next plot: 
Hit <Return> to see next plot: 
In addition: Warning message: 
An unusual circumstance has arisen in the nesting of readline input. Please report using bug.report() 

I exited the loop early using CTL-C, which is when I got the message.
More details available on request!

Cheers, Jonathan.

--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = 
 major = 1
 minor = 6.1
 year = 2002
 month = 11
 day = 01
 language = R

Search Path:
 .GlobalEnv, package:stochastulator, package:mva, package:uuobj, package:PythonClass, Autoloads, package:base


From rpeng@stat.ucla.edu  Tue Nov 19 17:34:30 2002
From: rpeng@stat.ucla.edu (Roger Peng)
Date: Tue, 19 Nov 2002 09:34:30 -0800 (PST)
Subject: [Rd] Nesting of readline input (PR#2310)
In-Reply-To: <200211191425.PAA10334@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.10.10211190932480.10024-100000@fisher.stat.ucla.edu>

I believe this problem was fixed by D. T. Lang a couple of weeks ago.
There was some problem with the readline stack specifically after hitting
Ctrl-C a number of times.  Try the latest R-devel sources.  The problem
shouldn't happen there.

-roger
_______________________________
UCLA Department of Statistics
rpeng@stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Tue, 19 Nov 2002, j.c.rougier@durham.ac.uk wrote:

> Hi everyone,
> 
> I am following instructions here as I have generated the following warning:
> 
> > # stuff looping through some plots with ask=TRUE
> Hit <Return> to see next plot: 
> Hit <Return> to see next plot: 
> Hit <Return> to see next plot: 
> Hit <Return> to see next plot: 
> Hit <Return> to see next plot: 
> In addition: Warning message: 
> An unusual circumstance has arisen in the nesting of readline input. Please report using bug.report() 
> 
> I exited the loop early using CTL-C, which is when I got the message.
> More details available on request!
> 
> Cheers, Jonathan.
> 
> --please do not edit the information below--
> 
> Version:
>  platform = i686-pc-linux-gnu
>  arch = i686
>  os = linux-gnu
>  system = i686, linux-gnu
>  status = 
>  major = 1
>  minor = 6.1
>  year = 2002
>  month = 11
>  day = 01
>  language = R
> 
> Search Path:
>  .GlobalEnv, package:stochastulator, package:mva, package:uuobj, package:PythonClass, Autoloads, package:base
> 
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> http://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>


From jgentry@jimmy.harvard.edu  Wed Nov 20 02:30:13 2002
From: jgentry@jimmy.harvard.edu (Jeff Gentry)
Date: Tue, 19 Nov 2002 21:30:13 -0500 (EST)
Subject: [Rd] Bioconductor 1.1 Released
Message-ID: <Pine.SOL.4.20.0211192129380.27979-100000@santiam.dfci.harvard.edu>

The Bioconductor development team announces release 1.1 of the
Bioconductor packages for the analysis of genomic data. Bioconductor
is an open source bioinformatics software project based on R.

Version 1.1 features:
=====================

 * All packages from the 1.0 release are included. All current bug
   fixes have been applied, and most have upgraded and provide
   enhanced functionality. 
 * New packages and major upgrades for release 1.1: affy:
   read.MIAME, a widget for entering phenoData. expresso, a
   flexible function for computing expression measures as well as
   providing widgets to choose among options in the various steps
   of preprocessing. rma, a fast and efficient function to compute
   the multi-array average expression measure.
 * Biobase: vignette and openVignette, functions to give users
   greater interaction with package vignettes from the R command
   line.
 * graph: A new package that provides classes & tools to handle
   graph objects in R.
 * hexbin: A new package which includes binning functions, in
   particular hexagonal bins for graphing
 * marrayTools: A new package with miscellaneous functions use in
   the functional genomics core facility in UCB
 * reposTools: A new package that provides tools for dealing with
   file repositories, which allow users to easily install, update
   and distribute packages, vignettes and other files.
 * tkWidgets: vExplorer, a powerful tool designed to allow users to
   interact with vignette documentation in a hands on manner.
 * vsn: A new package providing calibration and variance
   stabilizing transformations for DNA array data.

Software, documentation, and further details are available on the
Bioconductor WWW site:

      http://www.bioconductor.org/

HELP AND RESOURCES:
===================

Information on subscribing to the mailing list and viewing its archives
can be found at:

      http://www.stat.math.ethz.ch/mailman/listinfo/bioconductor

Please use that list to discuss Bioconductor specific issues, bugs,
and problems.  Note that every package has a vignette (a literate
program which provides an annotated example of the package's use) as
well as possibly some "HOWTO"s.  These document the tool's usage, and
are provided in the "doc" subdirectory of each package library.

WHO:
====

For the Bioconductor development team:

  Douglas Bates, University of Wisconsin, USA.
  Vince Carey, Harvard Medical School, USA.
  Marcel Dettling, Federal Inst. Technology, Switzerland.
  Sandrine Dudoit, Division of Biostatistics, University of
      California, Berkeley, USA.
  Byron Ellis, Harvard Department of Statistics, USA.
  Laurent Gautier, Technial University of Denmark, Denmark.
  Robert Gentleman, Harvard Medical School, USA.
  Jeff Gentry, Dana-Farber Cancer Institute, USA.
  Kurt Hornik, Technische Universitat Wien, Austria.
  Torsten Hothorn, Institut fuer Medizininformatik, Biometrie und
      Epidemiologie, Germany. 
  Wolfgang Huber, DKFZ Heidelberg, Molecular Genome Analysis,
      Germany. 
  Stefano Iacus, Italy
  Rafael Irizarry, Department of Biostatistics (JHU), USA.
  Friedrich Leisch, Technische Universitat Wien, Austria.
  Cheng Li, Harvard Medical School, USA.
  Martin Maechler, Federal Inst. Technology, Switzerland.
  Anthony Rossini, University of Washington and the Fred Hutchinson
      Cancer Research Center, USA. 
  Gunther Sawitzki, Institute fur Angewandte Mathematik, Germany.
  Luke Tierney, University of Iowa, USA.
  Jean Yee Hwa Yang, University of California, San Francisco, USA. 
  Jianhua (John) Zhang, Dana-Farber Cancer Institute, USA


From Mark.Bravington@csiro.au  Wed Nov 20 02:50:47 2002
From: Mark.Bravington@csiro.au (Mark.Bravington@csiro.au)
Date: Wed, 20 Nov 2002 13:50:47 +1100
Subject: [Rd] restart
Message-ID: <A8877251964B294BAB5BA1FC58B43FED025B4398@molly.tas.csiro.au>

Dear group

I use "restart" in part of my code, in a way that's not easily changed to
"try". As I convert code from R1.5.0 to R1.6.1, I'm getting ugly messages;
the help system says to contact r-devel, so here I am. This one's a bit
complicated-- sorry!

The context is inside a debugger (I have an R and S debugger that offers
stand-alone code windows, line numbered conditional breakpoints,
statement-skipping, and graceful error trapping). I use the following
function to trap errors, both in code undergoing debugging, and in the
user's interactions with the debugger:

eval.catching.errors <- function(i, envir) do.in.envir( envir=find.debug.HQ(
FALSE), {
  if(.evaluated.OK.) {
    .evaluated.OK. <<- FALSE
    restart(TRUE)
    j <- eval( i, envir=envir)
    .evaluated.OK. <<- TRUE
return(j) }
  else
return(NULL)
})

The function is a bit opaque because I have fiddled with the lexical
scoping, but the rationale is fairly simple. There is a 'global flag' called
".evaluated.OK." which is normally set to TRUE. When "eval.catching.errors"
is called, the flag is reset to FALSE and there's an attempt to evaluate the
expression given in "i". If there are no errors in evaluation, then the
global flag is reset to TRUE before "eval.catching.errors" exits. Otherwise,
"eval.catching.errors" is reinvoked (thanks to "restart" catching the error)
and exits with the global flag set to FALSE. Subsequent debugger code
inspects the status of the global flag to decide what happens next.

The problem with changing 

  restart( TRUE)
  j <- eval( i, envir=envir)

into

  j <- try( eval( i, envir=envir))
  if( inherits( j, 'try-error')) <<...>>

is that the statement being debugged may itself be a call to "try" which
happens to fail. In that case, the debugger would stop and report an error,
whereas the code-being-debugged has actually been designed to run smoothly
in the event of error. Under R1.5.0, errors that occur within a "try"
statement in the code-being-debugged are (correctly) not flagged as problems
by my debugger.

I can hack my way round this with a call to .Internal( restart( on)), but
it's not pretty and I worry about what will happen if error-trapping
mechanisms are changed in future.

Thanks for any advice

Mark


*******************************

Mark Bravington
CSIRO (CMIS)
PO Box 1538
Castray Esplanade
Hobart
TAS 7001

phone (61) 3 6232 5118
fax (61) 3 6232 5012
Mark.Bravington@csiro.au


From luke@stat.uiowa.edu  Wed Nov 20 03:39:32 2002
From: luke@stat.uiowa.edu (Luke Tierney)
Date: Tue, 19 Nov 2002 21:39:32 -0600 (CST)
Subject: [Rd] restart
In-Reply-To: <A8877251964B294BAB5BA1FC58B43FED025B4398@molly.tas.csiro.au>
Message-ID: <Pine.LNX.4.44.0211192127340.2480-100000@nokomis2.stat.umn.edu>

On Wed, 20 Nov 2002 Mark.Bravington@csiro.au wrote:

> Dear group
> 
> I use "restart" in part of my code, in a way that's not easily changed to
> "try". As I convert code from R1.5.0 to R1.6.1, I'm getting ugly messages;
> the help system says to contact r-devel, so here I am. This one's a bit
> complicated-- sorry!
> 
> The context is inside a debugger (I have an R and S debugger that offers
> stand-alone code windows, line numbered conditional breakpoints,
> statement-skipping, and graceful error trapping). I use the following
> function to trap errors, both in code undergoing debugging, and in the
> user's interactions with the debugger:
> 
> eval.catching.errors <- function(i, envir) do.in.envir( envir=find.debug.HQ(
> FALSE), {
>   if(.evaluated.OK.) {
>     .evaluated.OK. <<- FALSE
>     restart(TRUE)
>     j <- eval( i, envir=envir)
>     .evaluated.OK. <<- TRUE
> return(j) }
>   else
> return(NULL)
> })
> 
> The function is a bit opaque because I have fiddled with the lexical
> scoping, but the rationale is fairly simple. There is a 'global flag' called
> ".evaluated.OK." which is normally set to TRUE. When "eval.catching.errors"
> is called, the flag is reset to FALSE and there's an attempt to evaluate the
> expression given in "i". If there are no errors in evaluation, then the
> global flag is reset to TRUE before "eval.catching.errors" exits. Otherwise,
> "eval.catching.errors" is reinvoked (thanks to "restart" catching the error)
> and exits with the global flag set to FALSE. Subsequent debugger code
> inspects the status of the global flag to decide what happens next.
> 
> The problem with changing 
> 
>   restart( TRUE)
>   j <- eval( i, envir=envir)
> 
> into
> 
>   j <- try( eval( i, envir=envir))
>   if( inherits( j, 'try-error')) <<...>>
> 
> is that the statement being debugged may itself be a call to "try" which
> happens to fail. In that case, the debugger would stop and report an error,
> whereas the code-being-debugged has actually been designed to run smoothly
> in the event of error. Under R1.5.0, errors that occur within a "try"
> statement in the code-being-debugged are (correctly) not flagged as problems
> by my debugger.
> 

One way to handle this is to wrap the result, something like

   j <- try( list(value = eval( i, envir=envir)))
   if( inherits( j, 'try-error')) <<...>>
   ...
   return(j$value)

luke

-- 
Luke Tierney
University of Iowa                  Phone:             319-335-3386
Department of Statistics and        Fax:               319-335-3017
   Actuarial Science
241 Schaeffer Hall                  email:      luke@stat.uiowa.edu
Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu


From mohamed@engr.uconn.edu  Wed Nov 20 03:46:05 2002
From: mohamed@engr.uconn.edu (Mohamed A. Kerasha)
Date: Tue, 19 Nov 2002 22:46:05 -0500
Subject: [Rd] Calling R from Java
References: <Pine.SOL.4.20.0211192129380.27979-100000@santiam.dfci.harvard.edu>
Message-ID: <3DDB057D.8040901@engr.uconn.edu>

Dear All,

I'm looking for any documentation or examples on how to call R from JAVA.

I really appreciate your help,

-Mohamed.


From Mark.Bravington@csiro.au  Wed Nov 20 03:53:11 2002
From: Mark.Bravington@csiro.au (Mark.Bravington@csiro.au)
Date: Wed, 20 Nov 2002 14:53:11 +1100
Subject: [Rd] restart
Message-ID: <A8877251964B294BAB5BA1FC58B43FED025B439B@molly.tas.csiro.au>

Thanks Luke!-- a succinct and unimproveable solution.

cheers
Mark

Mark Bravington
CSIRO (CMIS)
PO Box 1538
Castray Esplanade
Hobart
TAS 7001

phone (61) 3 6232 5118
fax (61) 3 6232 5012
Mark.Bravington@csiro.au 

#-----Original Message-----
#From: Luke Tierney [mailto:luke@stat.uiowa.edu]
#Sent: Wednesday, 20 November 2002 2:40 PM
#To: Mark.Bravington@csiro.au
#Cc: r-devel@stat.math.ethz.ch
#Subject: Re: [Rd] restart
#
#
#On Wed, 20 Nov 2002 Mark.Bravington@csiro.au wrote:
#
#> Dear group
#> 
#> I use "restart" in part of my code, in a way that's not 
#easily changed to
#> "try". 

<< snipped >>

#> 
#> The problem with changing 
#> 
#>   restart( TRUE)
#>   j <- eval( i, envir=envir)
#> 
#> into
#> 
#>   j <- try( eval( i, envir=envir))
#>   if( inherits( j, 'try-error')) <<...>>
#> 
#> is that the statement being debugged may itself be a call to 
#"try" which
#> happens to fail. 

<< snipped >>

#> 
#
#One way to handle this is to wrap the result, something like
#
#   j <- try( list(value = eval( i, envir=envir)))
#   if( inherits( j, 'try-error')) <<...>>
#   ...
#   return(j$value)
#
#luke
#
#-- 
#Luke Tierney
#University of Iowa                  Phone:             319-335-3386
#Department of Statistics and        Fax:               319-335-3017
#   Actuarial Science
#241 Schaeffer Hall                  email:      luke@stat.uiowa.edu
#Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu
#


From mohamed@engr.uconn.edu  Wed Nov 20 03:53:13 2002
From: mohamed@engr.uconn.edu (Mohamed A. Kerasha)
Date: Tue, 19 Nov 2002 22:53:13 -0500
Subject: [Rd] Running Parallel Jobs in R
References: <Pine.SOL.4.20.0211192129380.27979-100000@santiam.dfci.harvard.edu>
Message-ID: <3DDB0729.9030201@engr.uconn.edu>

Dear All,

I am completely  new to R, and I was wondering if there is any way you can run concurrent jobs in R.

Thanks,

-Mohamed.


From luke@stat.uiowa.edu  Wed Nov 20 15:25:24 2002
From: luke@stat.uiowa.edu (Luke Tierney)
Date: Wed, 20 Nov 2002 09:25:24 -0600 (CST)
Subject: [Rd] Re: [R] Running Parallel Jobs in R
In-Reply-To: <3DDB0729.9030201@engr.uconn.edu>
Message-ID: <Pine.LNX.4.44.0211200915580.10251-100000@itasca.stat.uiowa.edu>

On Tue, 19 Nov 2002, Mohamed A. Kerasha wrote:

> Dear All,
> 
> I am completely  new to R, and I was wondering if there is any way you can run concurrent jobs in R.
> 

Depends on what you mean.  Your subject line says "parallel", here you
say "concurrent".  Those are different.  Processes on a time sharing
single processor run concurrently; on a multiprocessor machine some of
them may run in parallel.

There are tools available for using R for parallel programming on a
cluster of workstations.  The rpvm and Rmpi packages available from
CRAN provide powerful low level facilities for this.  The package snow
available at www.stat.uiowa.edu/~luke/R/cluster/ provides a simpler,
higher level interface that is useful for many "embarassingly
parallel" applications.  snow runs on top of sockets, or rpvm, or
Rmpi.  snow is still udergoing changes in its basic design but should
stabilize and get submitted to CRAN within a month or so.

R does not currently allow multiple threads within a single R process.
It may eventually allow concurrent threads; it is unlikely that it
will ever allow parallel threads (for lots of reasons it will probably
always be necessary to make sure that at most one R thread is running
in the R internals at any given time).

luke


-- 
Luke Tierney
University of Iowa                  Phone:             319-335-3386
Department of Statistics and        Fax:               319-335-3017
   Actuarial Science
241 Schaeffer Hall                  email:      luke@stat.uiowa.edu
Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu


From maechler@stat.math.ethz.ch  Wed Nov 20 16:16:36 2002
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Wed, 20 Nov 2002 17:16:36 +0100 (MET)
Subject: [Rd] log( <ts object> ) is not <ts object> (PR#2315)
Message-ID: <200211201616.RAA21848@pubhealth.ku.dk>

As I have found, taking functions like  log(.) on a "ts" object
returns something that still has the "ts" class attribute but is
not a properly classed R object anymore.

E.g.
	(lt <- log(as.ts(1:7)))

clearly calls  print.default instead of print.ts
and the analogue for  plot(lt)
or also
        diff(lt) 

returns a "ts" object but with invalid start/end.

(this is also a test of the R-bugs@R-project.org address)

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><


From ripley@stats.ox.ac.uk  Wed Nov 20 17:16:08 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 20 Nov 2002 17:16:08 +0000 (GMT)
Subject: [Rd] log( <ts object> ) is not <ts object> (PR#2315)
In-Reply-To: <200211201616.RAA21848@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0211201715120.9764-100000@gannet.stats>

For the record, only if coercion is involved (as here, since 1:7 is
integer).  It applies to lots of arithmetic functions, not just log.

Fixed in both R-patched and R-devel.

On Wed, 20 Nov 2002 maechler@stat.math.ethz.ch wrote:

> As I have found, taking functions like  log(.) on a "ts" object
> returns something that still has the "ts" class attribute but is
> not a properly classed R object anymore.
>
> E.g.
> 	(lt <- log(as.ts(1:7)))
>
> clearly calls  print.default instead of print.ts
> and the analogue for  plot(lt)
> or also
>         diff(lt)
>
> returns a "ts" object but with invalid start/end.
>
> (this is also a test of the R-bugs@R-project.org address)
>
> Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
> Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
> ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
> phone: x-41-1-632-3408		fax: ...-1228			<><
>
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> http://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From stephen@cogsci.ed.ac.uk  Wed Nov 20 22:13:47 2002
From: stephen@cogsci.ed.ac.uk (stephen@cogsci.ed.ac.uk)
Date: Wed, 20 Nov 2002 23:13:47 +0100 (MET)
Subject: [Rd] Platform() used in tkfilefind.X although now deprecated (PR#2316)
Message-ID: <200211202213.XAA23264@pubhealth.ku.dk>

> library(tcltk)
> demo(tkfilefind)
[then select a file]
[1] "./NEWS"
Warning message: 
`Platform' is deprecated.
Use `.Platform' instead.
See ?Deprecated. 

See R/library/tcltk/demo/tkfilefind.R, line 32.  (Also present in
latest r-devel).

> version
         _                
platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    6.1              
year     2002             
month    11               
day      01               
language R          

Stephen


From p.dalgaard@biostat.ku.dk  Wed Nov 20 22:25:41 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Nov 2002 23:25:41 +0100
Subject: [Rd] Platform() used in tkfilefind.X although now deprecated (PR#2316)
In-Reply-To: <200211202213.XAA23264@pubhealth.ku.dk>
References: <200211202213.XAA23264@pubhealth.ku.dk>
Message-ID: <x27kf7naje.fsf@biostat.ku.dk>

stephen@cogsci.ed.ac.uk writes:

> > library(tcltk)
> > demo(tkfilefind)
> [then select a file]
> [1] "./NEWS"
> Warning message: 
> `Platform' is deprecated.
> Use `.Platform' instead.
> See ?Deprecated. 
> 
> See R/library/tcltk/demo/tkfilefind.R, line 32.  (Also present in
> latest r-devel).

Thanks. We should probably kill that demo altogether anyway...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907


From pd@pubhealth.ku.dk  Thu Nov 21 06:15:06 2002
From: pd@pubhealth.ku.dk (Peter Dalgaard BSA)
Date: Thu, 21 Nov 2002 07:15:06 +0100
Subject: [Rd] Bug list summary (automatic post)
Message-ID: <200211210615.gAL6F6721960@blueberry.kubism.ku.dk>

=================================================
This is an automated summary of the status of the R-bugs
repository.

Note that this may be neither complete nor perfectly
correct at any given instance: Not all bugs are reported,
and some reported bugs may have been fixed, but the
repository not yet updated.

Some bug fixes are difficult to verify because they pertain
to specific hardware or operating system versions. If you
have information to contribute, please do so.

If you happen to know how to fix a problem please send
patches to the bug repository, too.

New bugs are reported either through the web
interface at r-bugs.r-project.org or via email to
r-bugs@r-project.org. The bug.report() function can be
used to automate parts of the procedure on many systems.
Followups on older bugs can be done by including the string
"(PR#999)" in the Subject of an email (change 999 to the
actual reference number, of course!).
=================================================

Directory:  Accuracy

* PR# 1228 *
Subject: bug with var(rep(1e30, 3))
From: Emmanuel Paradis <paradis@isem.univ-montp2.fr>
Date: Wed, 26 Dec 2001 13:03:31 +0100
* PR# 1664 *
Subject: Bug in rnorm.
From: Rolf Turner <rolf@math.unb.ca>
Date: Thu, 13 Jun 2002 16:35:59 -0300 (ADT)
..Strange interaction between "Marsaglia-Multicarry" generator and
.."Kinderman-Ramage" 
..method for normal variates. Apparently, switching either of them will help.
* PR# 2214 *
Subject: qgamma precision
From: terra@diku.dk
Date: Fri, 25 Oct 2002 16:50:17 +0200 (MET DST)

Directory:  Add-ons

* PR# 974 *
Subject: Lattice: panel.superpose with ordered factor groups
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sat, 9 Jun 2001 11:08:51 +1000 (EST)
..The warning is standard S and R behaviour.
..Probably xyplot needs to avoid it (by unclassing?)
..Still there in lattice 0.3-0.
* PR# 1044 *
Subject: Polymarsall.c
From: pleu@hotmail.com
Date: Tue, 7 Aug 2001 22:42:07 +0200 (MET DST)
* PR# 1178 *
Subject: segfault using svm from e1071
From: Jan Rychter <jan@rychter.com>
Date: Tue, 20 Nov 2001 23:38:17 +0100
* PR# 1199 *
Subject: pixmap: infinite recursion with nonascii pnm-files
From: thomas.baumann@ch.tum.de
Date: Fri, 7 Dec 2001 11:07:52 +0100 (CET)
* PR# 1361 *
Subject: Matrix identification bug
From: hyu@stats.uwo.ca
Date: Tue, 5 Mar 2002 21:19:46 +0100 (MET)
..seems to be about Matrix package, not solve
* PR# 1662 *
Subject: fisher.test FEXACT memory bug "should not occur"
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Thu, 13 Jun 2002 08:21:50 +0200
..The supplementary (table of sum one) is fixed for 1.5.1.
..Detection code for the first problem has been added to 1.5.1 which will stop
..the crash, but the underlying cause is still open.
* PR# 1716 *
Subject: rdiscrete in e1071 fails when n==1
From: "John Aitchison" <jaitchis@hwy.com.au>
Date: Fri, 28 Jun 2002 10:28:17 +1000
* PR# 1729 *
Subject: problem with qq( )
From: Jarno.Tuimala@Helsinki.Fi
Date: Tue, 2 Jul 2002 10:37:10 +0200 (MET DST)
..A report on lattice
* PR# 1741 *
Subject: groupedData constructor from a function
From: dieter.menne@menne-biomed.de
Date: Thu, 4 Jul 2002 15:59:59 +0200 (MET DST)
* PR# 1745 *
Subject: nlme: failed augPred with NA in an unused column
From: dieter.menne@menne-biomed.de
Date: Fri, 5 Jul 2002 08:32:32 +0200 (MET DST)
..nlme needs an update as suggested in the followup
* PR# 1901 *
Subject: svm seg faults
From: stefan.boehringer+science@uni-bochum.de
Date: Tue, 13 Aug 2002 14:12:17 +0200 (MET DST)
..Seem to be due to gcc `2.96' from RH7.3
* PR# 1974 *
Subject: Rwave installation problem
From: ld-temp-qt3i@pobox.com
Date: Mon, 2 Sep 2002 09:27:36 +0200 (MET DST)
..Instead, this should use ISO C headers, namely <stdlib.h>
* PR# 2173 *
Subject: xlim in plot.survfit() [with a discussion on "..."]
From: jerome@hivnet.ubc.ca
Date: Wed, 16 Oct 2002 18:46:11 +0200 (MET DST)
* PR# 2252 *
Subject: Ansari-Bradley test
From: wex00002@uconn.edu
Date: Sun, 3 Nov 2002 23:38:20 +0100 (MET)
* PR# 2302 *
Subject: Package tseries: crash for Windows version
From: Fan <xiao.gang.fan1@libertysurf.fr>
Date: Sun, 17 Nov 2002 15:28:14 +0100
..Actually, there is a mismatch between the R call and the 
..C code in pred_garch, so this is not Windows-specific.

Directory:  Analyses

none

Directory:  Documentation

* PR# 988 *
Subject: input for R-intro
From: "Paul E. Johnson" <pauljohn@ku.edu>
Date: Mon, 18 Jun 2001 13:57:10 -0500
* PR# 1011 *
Subject: R-intro suggestions part II
From: "Paul E. Johnson" <pauljohn@ukans.edu>
Date: Tue, 03 Jul 2001 15:50:06 -0500
* PR# 1136 *
Subject: cex/col/etc. in title(): documentation?
From: Ben Bolker <ben@zoo.ufl.edu>
Date: Mon, 22 Oct 2001 11:55:14 -0400 (EDT)
..MM:actually the documentation still could elaborate a bit..
* PR# 1772 *
Subject: bug(?) in R FAQ - Should I run R from within Emacs?
From: Tim.Harrold@csiro.au
Date: Thu, 11 Jul 2002 18:21:42 +1000
* PR# 2170 *
Subject: documentation: Missing paranthesis in reshape.Rd
From: lina@u.washington.edu
Date: Wed, 16 Oct 2002 08:36:07 +0200 (MET DST)
* PR# 2229 *
Subject: Building and installing packages with functions with names starting with 
From: Jens Henrik Badsberg <JensHenrik.Badsberg@agrsci.dk>
Date: Wed, 30 Oct 2002 15:48:58 +0100
..Issue is package.skeleton creates names for .R files starting with dot.
..R CMD INSTALL is documented not to install them!

Directory:  Graphics

* PR# 202 *
Subject: persp box occlusion bug
From: wsi@gcal.ac.uk
Date: Wed, 2 Jun 1999 15:02:03 +0200 (MET DST)
..The persp algorithm does not apply the occlusion rules to the frame, 
..which is always plotted first. 
..A bug, but not very simple to fix.
* PR# 660 *
Subject: identify.default ignores any setting of cex.
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
Date: Fri, 15 Sep 2000 10:23:39 +0100 (BST)
* PR# 776 *
Subject: strwidth does not take font into account
From: Martyn Plummer <plummer@iarc.fr>
Date: Tue, 19 Dec 2000 14:56:01 +0100 (CET)
..This needs a substantial redesign.
* PR# 791 *
Subject:  par(lab= *) / axis(*) bug 
From: maechler@stat.math.ethz.ch
Date: Fri, 22 Dec 2000 10:59:26 +0100
* PR# 816 *
Subject: dotplot: character size of labels
From: RINNER Heinrich <H.RINNER@TIROL.GV.AT>
Date: Thu, 18 Jan 2001 14:54:32 +0100
..Suggested fix is incorporated in 1.2.2.
..
..There is a deeper problem:  mtext() ignores par(cex=.5) in general.  
..To see the problem try:  par(cex=.5); mtext("hi")
..Paul thinks the right fix is to change the argument list for mtext so that
..cex=par(cex) by default rather than cex=NA by default (plus corresponding
..internal changes to  do_mtext in plot.c).
..This needs to be done very carefully because (i) the change suggested above 
..mayhave side-effects in many other pieces of interpreted code 
..(ii) do_mtext ignores dd->gp.cexbase unlike, for example, do_plot_xy 
..and anything to do with cexbase needs extreme care.
* PR# 820 *
Subject: interaction.plot
From: "Mark M. Span" <span@psy.uva.nl>
Date: Mon, 22 Jan 2001 10:47:39 +0100
..mtext is unscaled by default.  It is not clear if this should
..use the par("cex") setting or an inline cex setting such as cex.axis.
..It might make more sense to use axis rather than mtext, as boxplot does.
* PR# 831 *
Subject: screen can't go back to (split) screen with log="y" plot
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 30 Jan 2001 00:39:41 -0500
..Still there. Suggested fix included in followups, but we didn't get around to
..try it in time for 1.2.3.
..
..Fix doesn't work. One problem is that the opar<-par();par(opar) idiom updates
..xaxp before xlog, and the new value of xaxp may only be valid under the new
..value of xlog.
* PR# 837 *
Subject: screen doesn't handle redrawing properly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 01 Feb 2001 14:20:52 -0500
* PR# 887 *
Subject: axis(adj=anything) has no effect
From: jhallman@frb.gov
Date: Wed, 28 Mar 2001 20:51:05 +0200 (MET DST)
* PR# 943 *
Subject: legend() with xpd=T; omission of initial plot character
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sun, 20 May 2001 10:35:16 +1000
* PR# 997 *
Subject:  las=1 with log axis 
From: Peter Dalgaard BSA <pd@pubhealth.ku.dk>
Date: Wed, 27 Jun 2001 11:54:06 +0200
* PR# 1045 *
Subject: Palette changes on redraw
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 08 Aug 2001 19:08:01 +0200
* PR# 1147 *
Subject: postscript problem
From: kjetil halvorsen <kjetilh@umsanet.edu.bo>
Date: Fri, 26 Oct 2001 15:23:45 -0400
..This seems to be a problem with screen/layout rather than postscript.
* PR# 1161 *
Subject: x-axis label in persp()
From: Rolf Turner <rolf@maths.uwa.edu.au>
Date: Wed, 7 Nov 2001 18:07:22 +0800 (WST)
* PR# 1207 *
Subject: boxplot labels incorrect when horizontal = TRUE
From: Rashid Nassar <rnassar@duke.edu>
Date: Sun, 9 Dec 2001 21:46:32 -0500 (EST)
* PR# 1235 *
Subject: Axes labelling with logarithmic scales
From: tobias.hoevekamp@ilw.agrl.ethz.ch
Date: Thu, 3 Jan 2002 15:29:02 +0100 (MET)
* PR# 1300 *
Subject: FW: layout and piechart diameter problem
From: "Warnes, Gregory R" <gregory_r_warnes@groton.pfizer.com>
Date: Thu, 7 Feb 2002 11:05:15 -0500 
* PR# 1305 *
Subject: interaction.plot (with misplaced legend)
From: Uwe Ligges <ligges@statistik.uni-dortmund.de>
Date: Fri, 08 Feb 2002 14:27:01 +0100
* PR# 1395 *
Subject: mgp parameter in par()
From: mh.smith@niwa.cri.nz
Date: Tue, 19 Mar 2002 06:11:49 +0100 (MET)
* PR# 1470 *
Subject: color of axis lines
From: gray@jimmy.harvard.edu
Date: Sat, 20 Apr 2002 22:21:44 +0200 (MET DST)
* PR# 1476 *
Subject: Bug: persp and colors
From: oliver.niggemann@acterna.com
Date: Tue, 23 Apr 2002 09:41:37 +0200 (MET DST)
* PR# 1505 *
Subject: pictex 
From: luchini@ehess.cnrs-mrs.fr
Date: Thu, 2 May 2002 12:23:21 +0200 (MET DST)
* PR# 1653 *
Subject: coplot behaviour
From: "RenE J.V. Bertin" <rjvbertin@hotmail.com>
Date: Mon, 10 Jun 2002 20:11:02 +0200
* PR# 1654 *
Subject: R 1.5.0: axis() does not honor the xaxp argument
From: "Robert D. Merithew" <merithew@ccmr.cornell.edu>
Date: Tue, 11 Jun 2002 09:29:39 -0400 (EDT)
* PR# 1659 *
Subject:  mtext() alignment of perpendicular text 
From: p.murrell@auckland.ac.nz
Date: Wed, 12 Jun 2002 13:29:45 +1200 (NZST)
* PR# 1878 *
Subject: close.screen
From: Martin.Schlather@uni-bayreuth.de
Date: Mon, 5 Aug 2002 22:35:02 +0200 (MET DST)
* PR# 1899 *
Subject: interaction.plot() legend too narrow when mfcol > 2
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Tue, 13 Aug 2002 09:36:15 +0200
* PR# 1933 *
Subject: dev2eps() prints ticks with wrong length!
From: Timur Elzhov <Timur.Elzhov@jinr.ru>
Date: Fri, 23 Aug 2002 17:22:15 +0400
..dev.copy problem
* PR# 1972 *
Subject: lattice install
From: robert.king@newcastle.edu.au
Date: Mon, 2 Sep 2002 04:55:41 +0200 (MET DST)
..Perhaps lattice should require(grid) and print a clearer message?
* PR# 2069 *
Subject: split.screen problem
From: cbodily@att.net
Date: Thu, 26 Sep 2002 19:37:40 +0200 (MET DST)
* PR# 2283 *
Subject: Wandering usr values in par(no.readonly=TRUW)
From: Jari Oksanen <jarioksa@sun3.oulu.fi>
Date: Tue, 12 Nov 2002 13:50:44 +0200

Directory:  In-Out

* PR# 1688 *
Subject: Maybe a problem in binary read/write
From: accot@free.fr
Date: Tue, 18 Jun 2002 22:51:17 +0200 (MET DST)
..I don't think file() is said to work with devices!

Directory:  Installation

* PR# 1222 *
Subject: configure: sed: Function s%@PDFLATEX@%/usr/local/bin/pdflatex%g
From: Peter Kleiweg <kleiweg@let.rug.nl>
Date: Thu, 20 Dec 2001 14:09:42 +0100 (CET)
..problem is on hppa2.0-hp-hpux10.20: may be HP-UX specific
* PR# 1268 *
Subject: Solaris 2.6 Compile
From: gm81640@development.nssmb.com
Date: Thu, 17 Jan 2002 06:28:26 +0100 (MET)
..Most likely a compiler installation problem
* PR# 1291 *
Subject: Installation problem : SunOS
From: brendan_mcmahon@prusec.com
Date: Thu, 31 Jan 2002 18:00:55 +0100 (MET)
..looks like gcc compiled under different OS version.
* PR# 1415 *
Subject: int 32 bit error on SPARC 64bit
From: kss28@mail.cba.nau.edu
Date: Mon, 25 Mar 2002 21:18:58 +0100 (MET)
..Was gcc 2.95.2 in private followup.
..Probably unappropriate flags
* PR# 1428 *
Subject: R compile on Solaris 8 fails
From: brower@bst.rochester.edu
Date: Mon, 1 Apr 2002 22:19:07 +0200 (MET DST)
..problems with g++ not finding -lstdc++
..Not a problem with R per se
* PR# 1500 *
Subject: configure script fails on comment in tkConfig.sh
From: Peter Kleiweg <kleiweg@let.rug.nl>
Date: Tue, 30 Apr 2002 16:41:51 +0200 (CEST)
..Looks like a conspiracy between a shell problem and an oddity in Tk 8.0 rather
..than an R problem. Good to know for the workaround though. The comment in
..TK_XINCLUDES has since disappeared, at least in Tk 8.3.3.
* PR# 1501 *
Subject: configure error: Maybe change CFLAGS or FFLAGS?
From: ale@ini.phys.ethz.ch
Date: Wed, 1 May 2002 15:23:14 +0200 (MET DST)
..Tried to use fort77 on RedHat, should likely try g77 instead.
* PR# 1658 *
Subject: make install fails - index.html not found
From: dhouston@bio.ri.ccf.org
Date: Tue, 11 Jun 2002 22:14:07 +0200 (MET DST)
..Missing perl??
* PR# 1676 *
Subject: R configure.in makes bad alpha assumptions
From: mcmahill@mtl.mit.edu
Date: Sat, 15 Jun 2002 19:21:09 -0400 (EDT)
..Probably fixed in 1.5.1
* PR# 1825 *
Subject: bug in R-1.5.1 for Mac OS X installer
From: Kow Kuroda <kkuroda@crl.ucsd.edu>
Date: Mon, 22 Jul 2002 16:40:26 -0700
..Darwin port
* PR# 1829 *
Subject: R config failure on solaris
From: "Siva Ginjupalli" <gsivrao@hotmail.com>
Date: Wed, 24 Jul 2002 20:08:49 +0000
..Missing info on R version and compilers.
* PR# 1937 *
Subject:  Inconsistent use of Perl? 
From: Berwin Turlach <berwin@maths.uwa.edu.au>
Date: Sat, 24 Aug 2002 18:41:09 +0800
..Some packages require Perl v 5.005
* PR# 1995 *
Subject:  2002-09-08 1.6.0 build fails in Recommended 
From: <stvjc@channing.harvard.edu>
Date: Sun, 8 Sep 2002 23:57:39 -0400 (EDT)
..I think this got cleared up...
* PR# 1996 *
Subject:  config checks for --with-gnome need update 
From: <stvjc@channing.harvard.edu>
Date: Mon, 9 Sep 2002 00:08:59 -0400 (EDT)

Directory:  Language

* PR# 408 *
Subject: convolution bug
From: wsimpson@gcal.ac.uk
Date: Fri, 28 Jan 2000 11:17:36 +0100 (MET)
* PR# 412 *
Subject: anomalies with call objects
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 06 Feb 2000 01:18:50 +0100
* PR# 669 *
Subject: Bug(s) w/ rbind.data.frame(); fix also read.table(*, as.is = TRUE) ?
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Mon, 25 Sep 2000 10:17:15 +0200
..status of AsIs columns
* PR# 1073 *
Subject: Wierd problem comparing numeric values and list using ==
From: "Warnes, Gregory R" <gregory_r_warnes@groton.pfizer.com>
Date: Fri, 24 Aug 2001 22:07:41 -0400
..see also PR#1075
* PR# 1076 *
Subject: Re: [Rd] Wierd problem comparing numeric values and list using == 
From: John Chambers <jmc@research.bell-labs.com>
Date: Mon, 27 Aug 2001 08:44:22 -0400
..part of PR#1073
* PR# 1186 *
Subject: a patch to tapply
From: Vadim Ogranovich <vograno@arbitrade.com>
Date: Thu, 29 Nov 2001 14:48:35 -0600
* PR# 1214 *
Subject: syntax questtion, maybe a bug
From: Rich Heiberger <rmh@surfer.sbm.temple.edu>
Date: Thu, 13 Dec 2001 13:46:54 -0500 (EST)
..Is .2logl meant to be a valid name in R? It is S
* PR# 1241 *
Subject:  Problem with "missing" in "local" 
From: J.C.Rougier@durham.ac.uk
Date: Fri, 4 Jan 2002 13:34:34 GMT
* PR# 1891 *
Subject: summary.data.frame with compound elements problem
From: b.rowlingson@lancaster.ac.uk
Date: Fri, 9 Aug 2002 10:35:43 +0200 (MET DST)

Directory:  Low-level

* PR# 989 *
Subject: "[.data.frame" allows un-named 3rd subscript
From: "Charles C. Berry" <cberry@tajo.ucsd.edu>
Date: Mon, 18 Jun 2001 13:13:46 -0700 (PDT)
* PR# 1068 *
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
From: Luke Tierney <luke@nokomis.stat.umn.edu>
Date: Wed, 22 Aug 2001 19:32:51 -0500
..see also followup in PR#1069
* PR# 1069 *
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
From: "John W. Eaton" <jwe@bevo.che.wisc.edu>
Date: Wed, 22 Aug 2001 21:56:33 -0500
..part of PR#1068
* PR# 1880 *
Subject:  You requested this report 
From: Berwin Turlach <berwin@maths.uwa.edu.au>
Date: Tue, 6 Aug 2002 16:57:54 +0800
..The bug is that we get as far as mkCLOSXP before an error is reported
* PR# 2253 *
Subject: [R] CTRL-C suspends echo of shell (R versions 1.6.0 and 1.6.1)
From: Wolfram Fischer - Z/I/M <wolfram@fischer-zim.ch>
Date: Mon, 4 Nov 2002 10:18:48 +0100

Directory:  Macintosh

* PR# 1819 *
Subject: Date arithmetic fails
From: RML27@cornell.edu
Date: Sun, 21 Jul 2002 20:26:12 +0200 (MET DST)
..In fact, as.POSIXct is off by 66 years. See
..   http://developer.apple.com/qa/ops/ops23.html
..This is semifixed, but timezones still don't work
* PR# 1991 *
Subject: Mac Save As... bug
From: Tim Cole <tjc1@cam.ac.uk>
Date: Sun, 8 Sep 2002 13:47:00 +0100
* PR# 2276 *
Subject: Mac specific - quartz leads to crash
From: h95mr@mun.ca
Date: Fri, 8 Nov 2002 16:28:50 +0100 (MET)

Directory:  Misc

* PR# 1126 *
Subject: R-bug report www page whishlist
From: jens.lund@nordea.com
Date: Wed, 10 Oct 2001 18:24:29 +0200 (MET DST)
* PR# 1158 *
Subject: bug.report()sends empty message
From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
Date: Mon, 05 Nov 2001 10:05:27 -0500
* PR# 1503 *
Subject: R-GNOME
From: Patrick Gonin <gonin@genethon.fr>
Date: Thu, 2 May 2002 09:29:07 +0200
..1) is not a bug, as jpeg etc work.  capabilities() has been changed for 1.5.1
..2) system() needs a new version for GNOME.

Directory:  Models

* PR# 1861 *
Subject: update() can not find objects
From: yzhou@arcturusag.com
Date: Thu, 1 Aug 2002 19:01:59 +0200 (MET DST)
..The problem is actually deeper than this.
..
..Sometime update() wants to evaluate arguments in the environment where the model
..was defined, as here. 
..
..Sometimes it wants to use the current environment, eg this snippet from MASS 
..ph.fun <- function(data, i) {
..  d <- data
..  d$calls <- d$fitted + d$res[i]
..  coef(update(fit, data=d))
..}
* PR# 2206 *
Subject: model.matrix (via predict)
From: Glenn.Stone@csiro.au
Date: Thu, 24 Oct 2002 06:33:02 +0200 (MET DST)
..strange model used!

Directory:  Startup

none

Directory:  System-specific

* PR# 848 *
Subject: X11 device doesn't handle destroy events correcly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 13 Feb 2001 17:40:46 -0500
* PR# 1020 *
Subject: .Call and Mandrake 8.0
From: lcottret@yahoo.fr
Date: Wed, 11 Jul 2001 15:34:23 +0200 (MET DST)
..problem with symbol names only on Mandrake 8.0, not 7.2
..needs reply to follow-up
* PR# 1097 *
Subject: R 1.3.1 fails 'make check' on arm in the Bessel example
From: Dirk Eddelbuettel <edd@debian.org>
Date: Thu, 20 Sep 2001 23:54:19 -0500
..This platform turned out to have badly broken FPU behaviour. Given up, at 
..least for now .
* PR# 1140 *
Subject: Possible bug, Rprof() and scan(pipe())
From: Don MacQueen <macq@llnl.gov>
Date: Tue, 23 Oct 2001 13:50:26 -0700
..MacOS X: Doesn't happen on Solaris or Linux
* PR# 1145 *
Subject: Problem testing R version 1.3.1 on SGI Irix
From: Gordon Lack <gml4410@ggr.co.uk>
Date: Fri, 26 Oct 2001 19:04:04 +0100
..error from using SGI libblas (not reported on other systems?)
..use --without-blas
* PR# 1261 *
Subject: R_140 AND RHL_72 AND Packages
From: Patrick Gonin <gonin@genethon.fr>
Date: Wed, 15 Jan 2003 13:25:17 +0100
..Seems to relate to RH7.2 rpms
* PR# 1272 *
Subject: eigen segfault with GCC 3 on Solaris
From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
Date: Thu, 17 Jan 2002 15:14:33 -0500
..Seems to be a problem with g77 in gcc 3.0.2 on Solaris only.
..Probably a compiler bug
* PR# 1275 *
Subject: compile problem with bessel_i.c on IRIX64 flexor 6.5 10100655 IP35 (uname -a)
From: Walter Tautz <wtautz@math.uwaterloo.ca>
Date: Tue, 22 Jan 2002 10:05:20 -0500 (EST)
* PR# 1289 *
Subject: R 1.4.0 build fails on AIX
From: lio@hpss1.ccs.ornl.gov
Date: Wed, 30 Jan 2002 14:10:30 +0100 (MET)
* PR# 1316 *
Subject: shared libraries on AIX
From: lio@hpss1.ccs.ornl.gov
Date: Mon, 18 Feb 2002 18:53:41 +0100 (MET)
* PR# 1461 *
Subject: make check fails d-p-q-r-tests.R - OpenBSD 3.0
From: Jason Turner <jasont@indigoindustrial.co.nz>
Date: Mon, 15 Apr 2002 10:13:36 +0000
* PR# 1606 *
Subject: hitting ^C breaks readline history
From: Cyril Humbert <humbertc@univ-mlv.fr>
Date: Tue, 28 May 2002 12:07:07 +0200 (MET DST)
* PR# 2091 *
Subject: Scripts not executable
From: Peter Kleiweg <kleiweg@let.rug.nl>
Date: Wed, 2 Oct 2002 00:54:15 +0200 (CEST)
* PR# 2144 *
Subject: Save() with ascii=TRUE may corrupt numeric values
From: "Efthymiou, Nick" <Nick.Efthymiou@schwab.com>
Date: Thu, 10 Oct 2002 14:09:21 -0700
..Only on systems without vsnprintf

Directory:  TooMuchAtOnce

none

Directory:  Windows

* PR# 1711 *
Subject: GUI bug
From: socrates@mail.ru
Date: Thu, 27 Jun 2002 10:30:51 +0200 (MET DST)
..A crash that is *very* hard to trigger (after several
..minutes of continuous resizing)

Directory:  incoming

* PR# 1556 *
Subject: lib.fixup, .GlobalEnv, and R1.5.0
From: mark.bravington@csiro.au
Date: Wed, 15 May 2002 08:30:50 +0200 (MET DST)
* PR# 2094 *
Subject: Mean and var inconsistency
From: Kevin.Wright@pioneer.com
Date: Wed, 2 Oct 2002 16:19:27 +0200 (MET DST)
* PR# 2159 *
Subject: The class attribute on an environment seems buggy
From: hb@maths.lth.se
Date: Mon, 14 Oct 2002 01:34:45 +0200 (MET DST)
..Not a bug, but perhaps a useful feature: should the attributes of environments
..be copied on assignment?
* PR# 2298 *
Subject: Wishlist: allow NA values in medpolish (package 'eda')
From: schutz@wehi.edu.au
Date: Sat, 16 Nov 2002 05:43:59 +0100 (MET)
..added for 1.7.0
* PR# 2299 *
Subject: formatC with format="fg" displays number in exponential notation
From: schutz@wehi.edu.au
Date: Sat, 16 Nov 2002 06:33:04 +0100 (MET)
* PR# 2305 *
Subject: Prediction from arima() object (library ts)
From: mcrae_allan@hotmial.com
Date: Mon, 18 Nov 2002 15:12:22 +0100 (MET)
* PR# 2307 *
Subject: Japanese lass' sexy pictures
From: Kinderteachkim <Kinderteachkim@aol.com>
Date: 18 Nov 2002 12:27:00 -1000
* PR# 2308 *
Subject: HELLO
From: "THOMAS OLEMBE" <thomolembee@earthling.net>
Date: Tue, 19 Nov 2002 00:17:35 -0800
* PR# 2309 *
Subject: Make a Great Living in the Music Industry!
From: webmaster6766o62@earthlink.net
Date: Mon, 18 Nov 0102 16:18:59 +0700
* PR# 2310 *
Subject:  Nesting of readline input 
From: j.c.rougier@durham.ac.uk
Date: Tue, 19 Nov 2002 14:24:41 GMT
* PR# 2311 *
Subject: Of statements.
From: kunihiro <kunihiro@kawachi.zaq.ne.jp>
Date: Wed, 20 Nov 2002 02:01:55 +0900 (JST)
* PR# 2312 *
Subject: Easily design, send and track your graphical newsletters 
From: "GraphicMail.com" <news@graphicmail.com>
Date: Tue, 19 Nov 2002 22:13:23 +0200
* PR# 2313 *
Subject: Undeliverable mail--"edit(xold)"
Subject: edit(xold)<br>
From: postmaster <postmaster@r-project.org>
From: r-bugs@r-project.org<br>
Date: Wed, 20 Nov 2002 06:57:19 +0900 (JST)
* PR# 2314 *
Subject: I NEED YOU TO ASSIST ME.
From: "MADAM MARIAM MOBUTU SESE-SEKO" <sem@loadmail.com>
Date: Tue, 19 Nov 2002 23:16:18
* PR# 2316 *
Subject: Platform() used in tkfilefind.X although now deprecated
From: "Stephen Eglen	(CNS)" <stephen@cogsci.ed.ac.uk>
Date: Wed, 20 Nov 2002 22:12:58 +0000


From george@lecompte.org  Fri Nov 22 05:33:41 2002
From: george@lecompte.org (george@lecompte.org)
Date: Fri, 22 Nov 2002 06:33:41 +0100 (MET)
Subject: [Rd] simplex problem (PR#2317)
Message-ID: <200211220533.GAA05030@pubhealth.ku.dk>

Full_Name: George F. LeCompte
Version: 1.6.1
OS: Windows 98
Submission from: (NULL) (208.8.162.161)


This may be a newbie problem.  I am attempting tor unt the simplex routine from
the boot package.  The example code doesn't find simplex.  What's wrong here?

> help(simplex,package=boot)
> # from the resulting article
> 
>      #  This example is taken from Exercise 7.5 of Gill, Murray, 
>      #  and Wright (1991).
>      enj <- c(200, 6000, 3000, -200)
>      fat <- c(800, 6000, 1000, 400)
>      vitx <- c(50, 3, 150, 100)
>      vity <- c(10, 10, 75, 100)
>      vitz <- c(150, 35, 75, 5)
>      simplex(a=enj, A1=fat, b1=13800, A2=rbind(vitx, vity, vitz), 
+              b2=c(600, 300, 550), maxi=TRUE)
Error: couldn't find function "simplex"
>


From ripley@stats.ox.ac.uk  Fri Nov 22 11:03:26 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 22 Nov 2002 11:03:26 +0000 (GMT)
Subject: [Rd] simplex problem (PR#2317)
In-Reply-To: <200211220533.GAA05030@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0211221101340.6181-100000@gannet.stats>

You have to use library(boot) to use functions in boot.

*Please* send things like this to R-help, when you cna be advised how to
use R packages.

library(boot)
example(simplex)

works.

On Fri, 22 Nov 2002 george@lecompte.org wrote:

> Full_Name: George F. LeCompte
> Version: 1.6.1
> OS: Windows 98
> Submission from: (NULL) (208.8.162.161)
>
>
> This may be a newbie problem.  I am attempting tor unt the simplex routine from
> the boot package.  The example code doesn't find simplex.  What's wrong here?
>
> > help(simplex,package=boot)
> > # from the resulting article
> >
> >      #  This example is taken from Exercise 7.5 of Gill, Murray,
> >      #  and Wright (1991).
> >      enj <- c(200, 6000, 3000, -200)
> >      fat <- c(800, 6000, 1000, 400)
> >      vitx <- c(50, 3, 150, 100)
> >      vity <- c(10, 10, 75, 100)
> >      vitz <- c(150, 35, 75, 5)
> >      simplex(a=enj, A1=fat, b1=13800, A2=rbind(vitx, vity, vitz),
> +              b2=c(600, 300, 550), maxi=TRUE)
> Error: couldn't find function "simplex"
> >

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From J.C.Rougier@durham.ac.uk  Fri Nov 22 12:31:07 2002
From: J.C.Rougier@durham.ac.uk (Jonathan Rougier)
Date: Fri, 22 Nov 2002 12:31:07 +0000
Subject: [Rd] Small change to plot.xy
Message-ID: <3DDE238B.FDC95BDB@durham.ac.uk>

Hi everyone,

Is there any reason why we should not automatically coerce a factor
supplied as an argument to col in a plotting function?  The following
modification (to R-1.6.1) seems pretty harmless

> plot.xy
function (xy, type, pch = 1, lty = "solid", col = par("fg"), 
    bg = NA, cex = 1, ...) 
{
    if (is.factor(col)) 
        col <- codes(col)
    .Internal(plot.xy(xy, type, pch, lty, col, bg, cex, ...))
}
<environment: namespace:base>

and I think it is natural and not really wrong to want to type, say,

> data(iris)
> pairs(iris[, 1:4], col = iris[, 5])

and get the colours.

Cheers, Jonathan.

-- 
Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html


From p.dalgaard@biostat.ku.dk  Fri Nov 22 13:01:10 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Nov 2002 14:01:10 +0100
Subject: [Rd] Small change to plot.xy
In-Reply-To: <3DDE238B.FDC95BDB@durham.ac.uk>
References: <3DDE238B.FDC95BDB@durham.ac.uk>
Message-ID: <x2lm3lvjvt.fsf@biostat.ku.dk>

Jonathan Rougier <J.C.Rougier@durham.ac.uk> writes:

> Hi everyone,
> 
> Is there any reason why we should not automatically coerce a factor
> supplied as an argument to col in a plotting function?  The following
> modification (to R-1.6.1) seems pretty harmless
> 
> > plot.xy
> function (xy, type, pch = 1, lty = "solid", col = par("fg"), 
>     bg = NA, cex = 1, ...) 
> {
>     if (is.factor(col)) 
>         col <- codes(col)
>     .Internal(plot.xy(xy, type, pch, lty, col, bg, cex, ...))
> }
> <environment: namespace:base>
> 
> and I think it is natural and not really wrong to want to type, say,
> 
> > data(iris)
> > pairs(iris[, 1:4], col = iris[, 5])
> 
> and get the colours.

It's not clear to me that you want codes() there. Consider

f <-factor(c("red","blue","green")) 
plot(1:3,col=codes(f))

which get coloured green, black, and red. Arguably better than to drop
codes() and get black, black, and black, but not by much. Alternatives
could be as.numeric() or as.character(), but it all gets a bit
arbitrary. I think I prefer the explicit style in any case

clr <- sort(c("red","blue","green"))
plot(1:3,col=clr[f])

(beware the ordering of levels in f)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907


From ripley@stats.ox.ac.uk  Fri Nov 22 13:02:32 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 22 Nov 2002 13:02:32 +0000 (GMT)
Subject: [Rd] Small change to plot.xy
In-Reply-To: <3DDE238B.FDC95BDB@durham.ac.uk>
Message-ID: <Pine.LNX.4.31.0211221300300.1224-100000@gannet.stats>

*Not* codes! Unclass perhaps.

However, why should  col=factor(c("red", "blue", "green"))
not as naturally coerce to character.

I think we do need to get the user to specify what is meant, as now.
There are lots of examples of this sort of thing in MASS, BTW.


On Fri, 22 Nov 2002, Jonathan Rougier wrote:

> Hi everyone,
>
> Is there any reason why we should not automatically coerce a factor
> supplied as an argument to col in a plotting function?  The following
> modification (to R-1.6.1) seems pretty harmless
>
> > plot.xy
> function (xy, type, pch = 1, lty = "solid", col = par("fg"),
>     bg = NA, cex = 1, ...)
> {
>     if (is.factor(col))
>         col <- codes(col)
>     .Internal(plot.xy(xy, type, pch, lty, col, bg, cex, ...))
> }
> <environment: namespace:base>
>
> and I think it is natural and not really wrong to want to type, say,
>
> > data(iris)
> > pairs(iris[, 1:4], col = iris[, 5])
>
> and get the colours.
>
> Cheers, Jonathan.
>
> --
> Jonathan Rougier                       Science Laboratories
> Department of Mathematical Sciences    South Road
> University of Durham                   Durham DH1 3LE
> tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
> http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html
>
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> http://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From murdoch@stats.uwo.ca  Fri Nov 22 14:55:14 2002
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Fri, 22 Nov 2002 09:55:14 -0500
Subject: [Rd] Small change to plot.xy
In-Reply-To: <x2lm3lvjvt.fsf@biostat.ku.dk>
References: <3DDE238B.FDC95BDB@durham.ac.uk> <x2lm3lvjvt.fsf@biostat.ku.dk>
Message-ID: <48gstucf4oc2rslncjm663j94fomi9a239@4ax.com>

On 22 Nov 2002 14:01:10 +0100, Peter Dalgaard BSA
<p.dalgaard@biostat.ku.dk> wrote in message
<x2lm3lvjvt.fsf@biostat.ku.dk>:


>It's not clear to me that you want codes() there. Consider
>
>f <-factor(c("red","blue","green")) 
>plot(1:3,col=codes(f))
>
>which get coloured green, black, and red. Arguably better than to drop
>codes() and get black, black, and black, but not by much. Alternatives
>could be as.numeric() or as.character(), but it all gets a bit
>arbitrary.

I think you want it to act as though it is coercing everything to
character.  If something prints as "1", then it should act as though
it is colour 1.  If it prints as "red", it should be red.

I don't think you actually want to coerce everything to character;
that's too inefficient in the case of numeric colours, but it should
act as if you did.

I think this version gives that behaviour, but I might have the wrong
test...

plot.xy <- function (xy, type, pch = 1, lty = "solid", col =
par("fg"), 
    bg = NA, cex = 1, ...) 
{
    if (!is.numeric(col)) 
        col <- as.character(col)
    .Internal(plot.xy(xy, type, pch, lty, col, bg, cex, ...))
}

This doesn't help with Jonathan's iris example; in that case, I think
the fix should be to abort with the declaration that "setosa" etc.
aren't colours.  Alternatively, they could be coerced to numeric
colours (preferably not all black), but at the very least a warning
should be given when that is done.

Duncan Murdoch


From jerome@hivnet.ubc.ca  Fri Nov 22 23:51:51 2002
From: jerome@hivnet.ubc.ca (jerome@hivnet.ubc.ca)
Date: Sat, 23 Nov 2002 00:51:51 +0100 (MET)
Subject: [Rd] Segmentation fault using "survival" package (PR#2320)
Message-ID: <200211222351.AAA14020@pubhealth.ku.dk>

Full_Name: Jerome Asselin
Version: 1.6.1
OS: RedHat Linux 7.2
Submission from: (NULL) (142.103.173.179)



Hello,

I get a segmentation fault when I run the following code. I wouldn't expect
meaningful results because my response variable contains only missing values.
However, I would expect something like a regular error (not a segmentation
fault).


library(survival)

data <- structure(list(surv = structure(c(NA, NA, NA, 0,
0, 0), .Dim = c(3, 2), .Dimnames = list(NULL, c("time", "status"
)), class = "Surv", type = "right"), x = c(-1, -1, -0.5)),
.Names = c("surv", "x"),row.names = c("1", "2", "3"),
class = "data.frame")

coxph(surv ~ x,data=data)


Below is what I get when I run these commands from a freshly started R session.
This is always reproducible for me.

Sincerely,
Jerome Asselin

> library(survival)
>
> data <- structure(list(surv = structure(c(NA, NA, NA, 0,
+ 0, 0), .Dim = c(3, 2), .Dimnames = list(NULL, c("time", "status"
+ )), class = "Surv", type = "right"), x = c(-1, -1, -0.5)),
+ .Names = c("surv", "x"),row.names = c("1", "2", "3"),
+ class = "data.frame")
>
> coxph(surv ~ x,data=data)
Segmentation fault


From J.C.Rougier@durham.ac.uk  Sat Nov 23 09:07:52 2002
From: J.C.Rougier@durham.ac.uk (Jonathan Rougier)
Date: Sat, 23 Nov 2002 09:07:52 +0000
Subject: [Rd] Small change to plot.xy
References: <3DDE238B.FDC95BDB@durham.ac.uk>
Message-ID: <3DDF4568.63CB31D1@durham.ac.uk>

OK -- so there are two objections to the proposal:

1) The factor might be a colour specifier

2) Using codes is not a good idea because there are only 8 colours
available for an integer argument to col.

I can see that both of these have merit, but I think they are both easy
to work around, if necessary.  No-one has disagreed that it's natural to
want to pass a factor to col, and I believe that the vast majority of
times when this occurs the factor is not designed explicitly to paint
the points.

I think I would let the first objection pass.  Using codes to coerce the
factor we still get different colours for different factors, just not
the specified colours.  This is not right, but it's rarely a disaster
either and should be easy to spot for anyone who is expecting to see
"slateblue" and gets "red".

As for the second objection, I think this is valid and should be
addressed, but at the same time it is a different problem.  I often
wondered why col = 1 was black (not really a colour at all, and not very
good for boxplots) and, more pertinently, why col = 2 is red and col = 3
is green: isn't the most common form of colour-blindness red/green?  At
the very least, let's not have them next to each other in the list!  We
have 657 named colours to choose from: why not have a explicit "int2col"
function that provides a bigger and better table?

More-or-less the same arguments also apply to pch.

Jonathan.

Jonathan Rougier wrote:
> 
> Hi everyone,
> 
> Is there any reason why we should not automatically coerce a factor
> supplied as an argument to col in a plotting function?  The following
> modification (to R-1.6.1) seems pretty harmless
> 
> > plot.xy
> function (xy, type, pch = 1, lty = "solid", col = par("fg"),
>     bg = NA, cex = 1, ...)
> {
>     if (is.factor(col))
>         col <- codes(col)
>     .Internal(plot.xy(xy, type, pch, lty, col, bg, cex, ...))
> }
> <environment: namespace:base>
> 
> and I think it is natural and not really wrong to want to type, say,
> 
> > data(iris)
> > pairs(iris[, 1:4], col = iris[, 5])
> 
> and get the colours.
> 
> Cheers, Jonathan.
> 
> --
> Jonathan Rougier                       Science Laboratories
> Department of Mathematical Sciences    South Road
> University of Durham                   Durham DH1 3LE
> tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
> http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html
> 
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> http://www.stat.math.ethz.ch/mailman/listinfo/r-devel

-- 
Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html


From ripley@stats.ox.ac.uk  Sat Nov 23 09:52:07 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 23 Nov 2002 09:52:07 +0000 (GMT)
Subject: [Rd] Small change to plot.xy
In-Reply-To: <3DDF4568.63CB31D1@durham.ac.uk>
Message-ID: <Pine.LNX.4.31.0211230946500.4803-100000@gannet.stats>

On Sat, 23 Nov 2002, Jonathan Rougier wrote:

> OK -- so there are two objections to the proposal:
>
> 1) The factor might be a colour specifier
>
> 2) Using codes is not a good idea because there are only 8 colours
> available for an integer argument to col.

You seem not to appreciate

0) You used codes when you should have used unclass!

which was made twice.  Please do make sure you understand the difference.

> I can see that both of these have merit, but I think they are both easy
> to work around, if necessary.  No-one has disagreed that it's natural to
> want to pass a factor to col, and I believe that the vast majority of
> times when this occurs the factor is not designed explicitly to paint
> the points.

I did disagree.  I don't see why users should not explicitly map the
factor levels to colours, which takes only a few extra characters.
People have been doing this for a decade in S without objecting.
Why is it worth complicating R for?

> I think I would let the first objection pass.  Using codes to coerce the
> factor we still get different colours for different factors, just not
> the specified colours.  This is not right, but it's rarely a disaster
> either and should be easy to spot for anyone who is expecting to see
> "slateblue" and gets "red".
>
> As for the second objection, I think this is valid and should be
> addressed, but at the same time it is a different problem.  I often
> wondered why col = 1 was black (not really a colour at all, and not very
> good for boxplots) and, more pertinently, why col = 2 is red and col = 3
> is green: isn't the most common form of colour-blindness red/green?  At
> the very least, let's not have them next to each other in the list!  We
> have 657 named colours to choose from: why not have a explicit "int2col"
> function that provides a bigger and better table?

Not all devices (by any means) can display those colours, or only a
limited number of colours in total.

> More-or-less the same arguments also apply to pch.
>
> Jonathan.
>
> Jonathan Rougier wrote:
> >
> > Hi everyone,
> >
> > Is there any reason why we should not automatically coerce a factor
> > supplied as an argument to col in a plotting function?  The following
> > modification (to R-1.6.1) seems pretty harmless
> >
> > > plot.xy
> > function (xy, type, pch = 1, lty = "solid", col = par("fg"),
> >     bg = NA, cex = 1, ...)
> > {
> >     if (is.factor(col))
> >         col <- codes(col)
> >     .Internal(plot.xy(xy, type, pch, lty, col, bg, cex, ...))
> > }
> > <environment: namespace:base>
> >
> > and I think it is natural and not really wrong to want to type, say,
> >
> > > data(iris)
> > > pairs(iris[, 1:4], col = iris[, 5])
> >
> > and get the colours.
> >
> > Cheers, Jonathan.
> >
> > --
> > Jonathan Rougier                       Science Laboratories
> > Department of Mathematical Sciences    South Road
> > University of Durham                   Durham DH1 3LE
> > tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
> > http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html
> >
> > ______________________________________________
> > R-devel@stat.math.ethz.ch mailing list
> > http://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>
> --
> Jonathan Rougier                       Science Laboratories
> Department of Mathematical Sciences    South Road
> University of Durham                   Durham DH1 3LE
> tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
> http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html
>
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> http://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From J.C.Rougier@durham.ac.uk  Sat Nov 23 10:05:36 2002
From: J.C.Rougier@durham.ac.uk (Jonathan Rougier)
Date: Sat, 23 Nov 2002 10:05:36 +0000
Subject: [Rd] Small change to plot.xy
References: <Pine.LNX.4.31.0211230946500.4803-100000@gannet.stats>
Message-ID: <3DDF52F0.701BB788@durham.ac.uk>

ripley@stats.ox.ac.uk wrote:
> 
> On Sat, 23 Nov 2002, Jonathan Rougier wrote:
> 
> > OK -- so there are two objections to the proposal:
> >
> > 1) The factor might be a colour specifier
> >
> > 2) Using codes is not a good idea because there are only 8 colours
> > available for an integer argument to col.
> 
> You seem not to appreciate
> 
> 0) You used codes when you should have used unclass!
> 
> which was made twice.  Please do make sure you understand the difference.

You are right -- I can see from the help page of codes that I should
have used unclass.

> > I can see that both of these have merit, but I think they are both easy
> > to work around, if necessary.  No-one has disagreed that it's natural to
> > want to pass a factor to col, and I believe that the vast majority of
> > times when this occurs the factor is not designed explicitly to paint
> > the points.
> 
> I did disagree.  I don't see why users should not explicitly map the
> factor levels to colours, which takes only a few extra characters.
> People have been doing this for a decade in S without objecting.
> Why is it worth complicating R for?

That's the difference between us: you think they should have to type a
few extra characters to achieve a natural result, and I don't.  It's two
extra lines in the source and an extra line in the help file -- I don't
call this a complication and I think that the next generation of
statisticians will be that much more taken with R (as opposed to, say,
SPSS) if we take the trouble to make the default behaviour as intuitive
as possible.

> 
> > I think I would let the first objection pass.  Using codes to coerce the
> > factor we still get different colours for different factors, just not
> > the specified colours.  This is not right, but it's rarely a disaster
> > either and should be easy to spot for anyone who is expecting to see
> > "slateblue" and gets "red".
> >
> > As for the second objection, I think this is valid and should be
> > addressed, but at the same time it is a different problem.  I often
> > wondered why col = 1 was black (not really a colour at all, and not very
> > good for boxplots) and, more pertinently, why col = 2 is red and col = 3
> > is green: isn't the most common form of colour-blindness red/green?  At
> > the very least, let's not have them next to each other in the list!  We
> > have 657 named colours to choose from: why not have a explicit "int2col"
> > function that provides a bigger and better table?
> 
> Not all devices (by any means) can display those colours, or only a
> limited number of colours in total.

That doesn't stop us coming up with a longer list in a better order,
does it?

Jonathan.

-- 
Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html


From ripley@stats.ox.ac.uk  Sat Nov 23 10:11:39 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 23 Nov 2002 10:11:39 +0000 (GMT)
Subject: [Rd] Small change to plot.xy
In-Reply-To: <3DDF52F0.701BB788@durham.ac.uk>
Message-ID: <Pine.LNX.4.31.0211231007350.4842-100000@gannet.stats>

On Sat, 23 Nov 2002, Jonathan Rougier wrote:

> ripley@stats.ox.ac.uk wrote:
>
> > > I can see that both of these have merit, but I think they are both easy
> > > to work around, if necessary.  No-one has disagreed that it's natural to
> > > want to pass a factor to col, and I believe that the vast majority of
> > > times when this occurs the factor is not designed explicitly to paint
> > > the points.
> >
> > I did disagree.  I don't see why users should not explicitly map the
> > factor levels to colours, which takes only a few extra characters.
> > People have been doing this for a decade in S without objecting.
> > Why is it worth complicating R for?
>
> That's the difference between us: you think they should have to type a
> few extra characters to achieve a natural result, and I don't.  It's two
> extra lines in the source and an extra line in the help file -- I don't
> call this a complication and I think that the next generation of
> statisticians will be that much more taken with R (as opposed to, say,
> SPSS) if we take the trouble to make the default behaviour as intuitive
> as possible.

No, the difference is that what you find `intuitive' other people find
perverse.  Giving a factor of colour names and getting a different set of
colours is perverse.  If the intention is not clear, it is more
`intuitive' to give an error than to guess incorrectly.

Does SPSS actually do this, that is arbitrarily assign colours to
categories that might be names of colours?

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From J.C.Rougier@durham.ac.uk  Sat Nov 23 10:53:48 2002
From: J.C.Rougier@durham.ac.uk (Jonathan Rougier)
Date: Sat, 23 Nov 2002 10:53:48 +0000
Subject: [Rd] Small change to plot.xy
References: <Pine.LNX.4.31.0211231007350.4842-100000@gannet.stats>
Message-ID: <3DDF5E3C.8D2B8A11@durham.ac.uk>

ripley@stats.ox.ac.uk wrote:
> 
> On Sat, 23 Nov 2002, Jonathan Rougier wrote:
> 
> > ripley@stats.ox.ac.uk wrote:
> >
> > > > I can see that both of these have merit, but I think they are both easy
> > > > to work around, if necessary.  No-one has disagreed that it's natural to
> > > > want to pass a factor to col, and I believe that the vast majority of
> > > > times when this occurs the factor is not designed explicitly to paint
> > > > the points.
> > >
> > > I did disagree.  I don't see why users should not explicitly map the
> > > factor levels to colours, which takes only a few extra characters.
> > > People have been doing this for a decade in S without objecting.
> > > Why is it worth complicating R for?
> >
> > That's the difference between us: you think they should have to type a
> > few extra characters to achieve a natural result, and I don't.  It's two
> > extra lines in the source and an extra line in the help file -- I don't
> > call this a complication and I think that the next generation of
> > statisticians will be that much more taken with R (as opposed to, say,
> > SPSS) if we take the trouble to make the default behaviour as intuitive
> > as possible.
> 
> No, the difference is that what you find `intuitive' other people find
> perverse.  Giving a factor of colour names and getting a different set of
> colours is perverse.  If the intention is not clear, it is more
> `intuitive' to give an error than to guess incorrectly.
> 
> Does SPSS actually do this, that is arbitrarily assign colours to
> categories that might be names of colours?

I think you know the answer to that!  That wasn't my point.  I give
statistical computing practicals using the same material to two similar
groups of students, some using SPSS and some using R.  Right now, the
SPSS students are getting a lot more experience of data analysis.  My
SPSS students put Species in the "colour points by" box.  You and I may
disagree on what is natural and what is peverse, but my R students want
to do "col = iris$Species" and I am sympathetic.  

If your objection is overwriting colours then let's go with Robert's
suggestion of checking for this explicitly, maybe something along the
lines of

if (is.factor(col)) {
  tmp <- as.character(col)
  if (all(tmp %in% colors()))
    col <- tmp
  else
    col <- unclass(col)
}

which has the desired effect:

> data(iris)
> iris$color <- c("red", "lightgreen", "slateblue")[unclass(iris$Species)]
> pairs(iris[, 1:4], col = iris$Species) # black, red, green
> pairs(iris[, 1:4], col = iris$color)   # as above

Jonathan.

-- 
Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html


From deepayan@stat.wisc.edu  Sat Nov 23 12:11:07 2002
From: deepayan@stat.wisc.edu (Deepayan Sarkar)
Date: Sat, 23 Nov 2002 06:11:07 -0600
Subject: [Rd] Small change to plot.xy
In-Reply-To: <3DDF5E3C.8D2B8A11@durham.ac.uk>
References: <Pine.LNX.4.31.0211231007350.4842-100000@gannet.stats> <3DDF5E3C.8D2B8A11@durham.ac.uk>
Message-ID: <200211230611.07298.deepayan@stat.wisc.edu>

On Saturday 23 November 2002 04:53 am, Jonathan Rougier wrote:

> > Does SPSS actually do this, that is arbitrarily assign colours to
> > categories that might be names of colours?
>
> I think you know the answer to that!  That wasn't my point.  I give
> statistical computing practicals using the same material to two similar
> groups of students, some using SPSS and some using R.  Right now, the
> SPSS students are getting a lot more experience of data analysis.  My
> SPSS students put Species in the "colour points by" box.  You and I may
> disagree on what is natural and what is peverse, but my R students want
> to do "col = iris$Species" and I am sympathetic.

This sort of thing is handled more systematically in Trellis. For example, try

library(lattice)
data(iris)
xyplot(Sepal.Length ~ Sepal.Width, data = iris, groups = Species)
splom(iris[, 1:4], groups = iris$Species)

(This doesn't exactly answer your original question, but I think it does 
address the example you have given here.)

Deepayan


From george@lecompte.org  Sat Nov 23 16:30:38 2002
From: george@lecompte.org (george@lecompte.org)
Date: Sat, 23 Nov 2002 17:30:38 +0100 (MET)
Subject: [Rd] simplex (PR#2322)
Message-ID: <200211231630.RAA16420@pubhealth.ku.dk>

Full_Name: George LeCompte
Version: 1.6.1 (windows)
OS: windows98
Submission from: (NULL) (208.8.162.135)


simplex won't work with only >= constraints examples follow:

this works:
simplex(a=1,A1=1,b1=10,A2=1,b2=1)

but this doesn't
simplex(1,A2=1,b2=1)

Linear Programming Results

Call : simplex(a = 1, A2 = 1, b2 = 1)

Minimization Problem with Objective Function Coefficients
x1 
 1 

No feasible solution could be found


From tlumley@u.washington.edu  Sat Nov 23 18:43:48 2002
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Sat, 23 Nov 2002 10:43:48 -0800 (PST)
Subject: [Rd] Small change to plot.xy
In-Reply-To: <3DDF4568.63CB31D1@durham.ac.uk>
Message-ID: <Pine.A41.4.44.0211231034450.96242-100000@homer01.u.washington.edu>

On Sat, 23 Nov 2002, Jonathan Rougier wrote:

> OK -- so there are two objections to the proposal:
>
> 1) The factor might be a colour specifier
>

The function below might help
It checks:
  - are the levels colour names
  - are they numbers
  - are they color specifiers like #a0f3d2
otherwise it returns the underlying codes with unclass().

On the issue of whether the current default palettes are ideal I can quote
Paul Murrell's talk at the JSM ("The only word for this is
`embarrassing'").  Improved palettes are planned, and one step in that
direction is the RColorBrewer package, which supplies color schemes
useful for images, maps and barplots.

	-thomas


factor2color<-function(color){
   nms<-as.character(color)
   n<-length(nms)
   ## are they color names
   is.color<-nms %in% colors()
   if (all(is.color)) return(nms)
   if (sum(is.color)>2 && mean(is.color)>2/3)
	warning("Not all factor names are colors")
   ## are they numbers
   m<-length(grep("[^:digit:]",nms))
   if (m==0 && all(!is.na(nums<-as.numeric(nms))))
 	return(nums)
   ## are they #a0bfe4
   n<-length(nms)
   m<-length(grep("#[0-9A-Fa-f]{6,6}",nms))
   if(m==n)
      return(nms)
   ## otherwise just return numbers
   return(unclass(color))

}


From campbell.webb@yale.edu  Sat Nov 23 22:57:33 2002
From: campbell.webb@yale.edu (campbell.webb@yale.edu)
Date: Sat, 23 Nov 2002 23:57:33 +0100 (MET)
Subject: [Rd] Intermittant hang in cmdscale (PR#2323)
Message-ID: <200211232257.XAA17412@pubhealth.ku.dk>

Full_Name: Cam Webb
Version: 1.6.0 (fink X11 compile)
OS: Mac OS X (Jaguar)
Submission from: (NULL) (64.168.28.87)


This is an unpredictable, intermittant hang during cmdscale of the mva library. 
Some data  never cause a problem, other data always do, abut I can't track down
the difference in the structure of the data.  Sometimes the function will work
for `difficult' data after it has been run in the same session for `behaved'
data (eurodist always works)!  Here is a typical session:

$ R

> library(mva)
> x <- read.table("test.dat",row.names=1)

> x
  V2 V3
A  1  2
B  2  4
C  5  7
D  1  1
     
> dist(x)
         A        B        C
B 2.236068
C 6.403124 4.242641
D 1.000000 3.162278 7.211103

> cmdscale(dist(x))
^C

   Here it just hangs, CPU whirring.  Have to abort with ^C

> data(eurodist)

> cmdscale(eurodist)
                        [,1]        [,2]
Athens           2290.274680  1798.80293
Barcelona        -825.382790   546.81148
...
Vienna            911.230500   205.93020
   
> cmdscale(dist(x))
        [,1]       [,2]
A  1.9464399  0.1545044
B -0.2638877  0.4928116
C -4.4454618 -0.2244320
D  2.7629095 -0.4228840

  Works now!

Not sure if this is a Mac problem, or a function problem.  The intermittantness
is most puzzling.

Many thx,

Cam


From ripley@stats.ox.ac.uk  Sun Nov 24 18:37:47 2002
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 24 Nov 2002 18:37:47 +0000 (GMT)
Subject: [Rd] gcc 3.2.1
Message-ID: <Pine.GSO.4.44.0211241833040.9490-100000@auk.stats>

gcc 3.2.1 is out and avoids the warnings about -I/usr/local/include
shown by 3.1 and 3.2.

Unfortunately, it seems to generate invalid code on 32-bit Solaris 2.7.
(64-bit code via -m64 is OK.)  On two separate installations
example(Bessel) crashes in graphics.c because dd is not being passed down
from clipText correctly.  I don't think that is all, as compiling
graphics.c under gcc-3.2 leads to other errors elsewhere.  So use gcc-3.2.1
with caution on Solaris.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From deleeuw@stat.ucla.edu  Sun Nov 24 19:07:53 2002
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Sun, 24 Nov 2002 11:07:53 -0800
Subject: [Rd] gcc 3.2.1
In-Reply-To: <Pine.GSO.4.44.0211241833040.9490-100000@auk.stats>
Message-ID: <08603C4A-FFE0-11D6-A7D4-000393860F3C@stat.ucla.edu>

Same is true for gcc-3.3 on Darwin -- it compiles R without
problems. No /usr/local/include warnings, and example(Bessel)
runs fine. Source in the Darwin CVS, it is merged with recent FSF
patches, has support for Objective-C++, and can be
cross-compiled for x86. Darwin persons can get the binaries
from http://gifi.stat.ucla.edu/pub (unpack in root).

On Sunday, November 24, 2002, at 10:37 AM, Prof Brian D Ripley wrote:

> gcc 3.2.1 is out and avoids the warnings about -I/usr/local/include
> shown by 3.1 and 3.2.
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://gifi.stat.ucla.edu
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au
   
------------------------------------------------------------------------ 
-------------------------


From maechler@stat.math.ethz.ch  Mon Nov 25 08:20:49 2002
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Mon, 25 Nov 2002 09:20:49 +0100 (MET)
Subject: [Rd] Segmentation fault using "survival" package (PR#2320)
Message-ID: <200211250820.JAA22288@pubhealth.ku.dk>

>>>>> "Jerome" == Jerome Asselin <jerome@hivnet.ubc.ca>
>>>>>     on Sat, 23 Nov 2002 00:51:51 +0100 (MET) writes:

    Jerome> Full_Name: Jerome Asselin Version: 1.6.1 OS: RedHat
    Jerome> Linux 7.2 Submission from: (NULL) (142.103.173.179)


    Jerome> Hello,

    Jerome> I get a segmentation fault when I run the following
    Jerome> code. I wouldn't expect meaningful results because
    Jerome> my response variable contains only missing values.
    Jerome> However, I would expect something like a regular
    Jerome> error (not a segmentation fault).

I confirm the problem (OS: a version of Redhat Linux, 1.6.1 patched)
running in "R -d gdb"
shows the place :

> coxph(surv ~ x, data=data)

Program received signal SIGSEGV, Segmentation fault.
0x4027dee4 in coxfit2 (maxiter=0x8c9cc60, nusedx=0x8c9cc40, nvarx=0x8c9cc20, 
    time=0x0, status=0x0, covar2=0x0, offset=0x0, weights=0x0, strata=0x0, 
    means=0x8c85738, Rf_beta=0x8c85710, u=0x8c856e8, imat2=0x8c856c0, 
    loglik=0x8cb3dd0, flag=0x8c9cc00, work=0x8b4ef10, eps=0x8c85698, 
    tol_chol=0x8c85670, sctest=0x8c85648) at coxfit2.c:116
116	coxfit2.c: No such file or directory.
	in coxfit2.c

--
Martin


From gb@stat.umu.se  Mon Nov 25 08:57:35 2002
From: gb@stat.umu.se (=?iso-8859-1?Q?G=F6ran_Brostr=F6m?=)
Date: Mon, 25 Nov 2002 09:57:35 +0100 (CET)
Subject: [Rd] Segmentation fault using "survival" package (PR#2320)
In-Reply-To: <200211250820.JAA22288@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.44.0211250946510.20351-100000@tal.stat.umu.se>

On Mon, 25 Nov 2002 maechler@stat.math.ethz.ch wrote:

> >>>>> "Jerome" == Jerome Asselin <jerome@hivnet.ubc.ca>
> >>>>>     on Sat, 23 Nov 2002 00:51:51 +0100 (MET) writes:
>
>     Jerome> Full_Name: Jerome Asselin Version: 1.6.1 OS: RedHat
>     Jerome> Linux 7.2 Submission from: (NULL) (142.103.173.179)
>
>
>     Jerome> Hello,
>
>     Jerome> I get a segmentation fault when I run the following
>     Jerome> code. I wouldn't expect meaningful results because
>     Jerome> my response variable contains only missing values.
>     Jerome> However, I would expect something like a regular
>     Jerome> error (not a segmentation fault).
>
> I confirm the problem (OS: a version of Redhat Linux, 1.6.1 patched)
> running in "R -d gdb"
> shows the place :
>
> > coxph(surv ~ x, data=data)
>
> Program received signal SIGSEGV, Segmentation fault.
> 0x4027dee4 in coxfit2 (maxiter=0x8c9cc60, nusedx=0x8c9cc40, nvarx=0x8c9cc20,
>     time=0x0, status=0x0, covar2=0x0, offset=0x0, weights=0x0, strata=0x0,
>     means=0x8c85738, Rf_beta=0x8c85710, u=0x8c856e8, imat2=0x8c856c0,
>     loglik=0x8cb3dd0, flag=0x8c9cc00, work=0x8b4ef10, eps=0x8c85698,
>     tol_chol=0x8c85670, sctest=0x8c85648) at coxfit2.c:116
> 116	coxfit2.c: No such file or directory.
> 	in coxfit2.c
>
> --
> Martin
>
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> http://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>

The survival package obviously lacks a few basic sanity checks, some of
which I have communicated to its R maintainer Thomas L. For instance, data
sets without events used to crash R in earlier versions.

The best advise for now is to check your data before using survival.

 ---
 Gran Brostrm                    tel: +46 90 786 5223
 Department of Statistics          fax: +46 90 786 6614
 Ume University                   http://www.stat.umu.se/egna/gb/
 SE-90187 Ume, Sweden             e-mail: gb@stat.umu.se


From J.C.Rougier@durham.ac.uk  Mon Nov 25 09:59:20 2002
From: J.C.Rougier@durham.ac.uk (Jonathan Rougier)
Date: Mon, 25 Nov 2002 09:59:20 +0000
Subject: [Rd] Small change to plot.xy
References: <Pine.A41.4.44.0211231034450.96242-100000@homer01.u.washington.edu>
Message-ID: <3DE1F478.3FD2BA5B@durham.ac.uk>

Hi Thomas,

Thomas Lumley wrote:
> 
> On Sat, 23 Nov 2002, Jonathan Rougier wrote:
> 
> > OK -- so there are two objections to the proposal:
> >
> > 1) The factor might be a colour specifier
> >
> 
> The function below might help
> It checks:
>   - are the levels colour names
>   - are they numbers
>   - are they color specifiers like #a0f3d2
> otherwise it returns the underlying codes with unclass().

Is there a case, given that colours *can* be represented in several
different ways, for including the two functions "is.color" and
"as.color" in the base?  I imagine the latter would work like
"as.numeric", putting NA for elements that cannot be coerced to
colours.  The function "as.color" might return a specific colour format,
perhaps #hhhhhh if that is the most general, which would simplify other
parts of the code.

Jonathan.

-- 
Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html


From ripley@stats.ox.ac.uk  Mon Nov 25 11:20:58 2002
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 25 Nov 2002 11:20:58 +0000 (GMT Standard Time)
Subject: [Rd] Small change to plot.xy
In-Reply-To: <3DE1F478.3FD2BA5B@durham.ac.uk>
Message-ID: <Pine.WNT.4.44.0211251118050.2628-100000@gannet.stats.ox.ac.uk>

The problem is that col= is interpreted in C code for many different R
functions, not kust those going through plot.xy.  The only consistent way I
see to handle this is to change the common C code to handle more cases, if
people really think it is worth complicating R for.

I was going to point out that your previous solution was less general than
what was there at present.

On Mon, 25 Nov 2002, Jonathan Rougier wrote:

> Hi Thomas,
>
> Thomas Lumley wrote:
> >
> > On Sat, 23 Nov 2002, Jonathan Rougier wrote:
> >
> > > OK -- so there are two objections to the proposal:
> > >
> > > 1) The factor might be a colour specifier
> > >
> >
> > The function below might help
> > It checks:
> >   - are the levels colour names
> >   - are they numbers
> >   - are they color specifiers like #a0f3d2
> > otherwise it returns the underlying codes with unclass().
>
> Is there a case, given that colours *can* be represented in several
> different ways, for including the two functions "is.color" and
> "as.color" in the base?  I imagine the latter would work like
> "as.numeric", putting NA for elements that cannot be coerced to
> colours.  The function "as.color" might return a specific colour format,
> perhaps #hhhhhh if that is the most general, which would simplify other
> parts of the code.
>
> Jonathan.
>
> --
> Jonathan Rougier                       Science Laboratories
> Department of Mathematical Sciences    South Road
> University of Durham                   Durham DH1 3LE
> tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
> http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html
>
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> http://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From andy_liaw@merck.com  Mon Nov 25 15:44:18 2002
From: andy_liaw@merck.com (Liaw, Andy)
Date: Mon, 25 Nov 2002 10:44:18 -0500
Subject: [Rd] typo in USArrests.Rd
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC909@usrymx10.merck.com>

In line 5 of R-1.6.1/src/library/base/man/USArrests.Rd, it should read

\format{A data frame with 50 observations on 4 variables.

I.e., there are only four variables in the data frame, not five.

Cheers,
Andy


------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message. If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================


From pgilbert@bank-banque-canada.ca  Mon Nov 25 17:50:40 2002
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Mon, 25 Nov 2002 12:50:40 -0500
Subject: [Rd] Re: [R] R CMD build (moved from r-help)
References: <20021124104045.0ec2c5a3.fharrell@virginia.edu> <x2r8dazzd7.fsf@biostat.ku.dk>
Message-ID: <3DE262F0.C3B3BE2C@bank-banque-canada.ca>

> 
> Frank E Harrell Jr <fharrell@virginia.edu> writes:
...
> > I used to get html and latex files recreated only when the source
> > .Rd file changed. Now I am getting html and latex (and text and
> > example) recreated whenever I run R CMD INSTALL when I do not change
> > any .Rd files. Does anyone know how to get the old behavior or have
> > an idea what I'm doing wrong, to save processing time? Thanks -Frank

Peter Dalgaard BSA wrote:
>You're not doing anything wrong, but the old code was. The basic issue
>was that if you built an old package after a newer one was issued, and
>then tried to upgrade, then the old object files were newer than the
>new source files, and hence weren't updated. Someone got bitten by
>this during the 1.6.1 burn-in so we changed it to rebuild
>unconditionally.  If you have a better scheme for avoiding that effect,
> please tell...

I've been re-working the Makefiles I use for maintaining my packages, not
because of the change in R but because my own Makefiles re-built on changes in
Rd files and vignettes, and it became a bit too much to recheck all my code
because of changes in a vignette. My Makefiles are still a bit rough for broad
distribution, but if anyone would like to look at them and comment then that
might help get them in better shape for others to use. Below are a few more
details on the general approach.

I have about twenty packages, some of which are rolled into bundles and put on
CRAN. I have now separated the bundling into a layer above the packages, so I
can treat the packages individually. There are several interdependencies in the
packages. I consider these to be all in the code, not the "documentation," that
is, examples, vignettes, and demos. Thus I have dependencies among packages, but
I want to trigger these only on code changes, not documentation changes. (The
down side of this is that the documentation tests sometimes point out code
errors, which I will now not find until later.)  To do this I have relegated R
CMD build and check to final pass testing and have my Makefile targets go
directly to the QA tools instead. A change in a single package's  R/*.R or
tests/*.R file triggers a remake of the its code, which does checkMethods() and
checkAssignFuns(), runs anything in the tests/ directory, and installs the code
in a test library. This may trigger remaking of code in other packages. It also
triggers remaking of the documentation for the single package. A change in the
documentation of a single package will trigger remaking of that part of the
documentation of the package, but will not trigger any other remakes. For
example, a change to an Rd file will result in running codoc and related tools,
but only for the single package where the Rd file was changed.

Paul Gilbert


From clifford@galton.uchicago.edu  Mon Nov 25 21:23:40 2002
From: clifford@galton.uchicago.edu (clifford@galton.uchicago.edu)
Date: Mon, 25 Nov 2002 22:23:40 +0100 (MET)
Subject: [Rd] Contr.poly for n > 100 (PR#2326)
Message-ID: <200211252123.WAA01346@pubhealth.ku.dk>

Full_Name: David Clifford
Version: Version 1.5.1  (2002-06-17)
OS: Red Hat 7.3
Submission from: (NULL) (128.135.149.55)


For n values above 100 there appears to be a bug in contr.poly(n).  

The contrast matrix should have rank n-1.

Running the code below gives output (ie errors) at n=98, 100 
and every value greater than 102.  

for(n in 2:150)
  {
    K <- contr.poly(n)
    rnk <- qr(K)$rank
    if(rnk != n-1) {
      cat(c(n,rnk))
      cat("\n")
    }
  }

Also the contr.poly code just breaks down at n=163 with the error:

Error in qr(X) : NA/NaN/Inf in foreign function call (arg 1)


From ripley@stats.ox.ac.uk  Mon Nov 25 21:39:15 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 25 Nov 2002 21:39:15 +0000 (GMT)
Subject: [Rd] Contr.poly for n > 100 (PR#2326)
In-Reply-To: <200211252123.WAA01346@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0211252133220.6206-100000@gannet.stats>

It's not possible to represent orthogonal polynomials accurately to this
degree in the computer arithmetic used.  So, perhaps it is a bug, but
the attempt to use them made no sense.

The bug will not be fixed, but the attempt will give an error.

The same thing happens in S, for the same reason.

On Mon, 25 Nov 2002 clifford@galton.uchicago.edu wrote:

> Full_Name: David Clifford
> Version: Version 1.5.1  (2002-06-17)
> OS: Red Hat 7.3
> Submission from: (NULL) (128.135.149.55)
>
>
> For n values above 100 there appears to be a bug in contr.poly(n).
>
> The contrast matrix should have rank n-1.
>
> Running the code below gives output (ie errors) at n=98, 100
> and every value greater than 102.
>
> for(n in 2:150)
>   {
>     K <- contr.poly(n)
>     rnk <- qr(K)$rank
>     if(rnk != n-1) {
>       cat(c(n,rnk))
>       cat("\n")
>     }
>   }
>
> Also the contr.poly code just breaks down at n=163 with the error:
>
> Error in qr(X) : NA/NaN/Inf in foreign function call (arg 1)
>
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> http://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From p.b.pynsent@bham.ac.uk  Tue Nov 26 09:44:40 2002
From: p.b.pynsent@bham.ac.uk (p.b.pynsent@bham.ac.uk)
Date: Tue, 26 Nov 2002 10:44:40 +0100 (MET)
Subject: [Rd] sprintf (PR#2327)
Message-ID: <200211260944.KAA04796@pubhealth.ku.dk>

--Apple-Mail-2--133200961
Content-Transfer-Encoding: 7bit
Content-Type: text/plain;
	charset=US-ASCII;
	format=flowed

# Your mailer is set to "none" (default on Windows),
# hence we cannot send the bug report directly from R.
# Please copy the bug report (after finishing it) to
# your favorite email program and send it to
#
#       r-bugs@r-project.org
#
######################################################

1)
A small point but:
Note message above needs changing for MacOS port


2) Under MacOS 10.2.2. Given the following dataset:

 > summary(missing.data)
    Hosp..No.                   Category      Offset        Side
  r060093:  4   F Post op 0.5 year  :62   Min.   :-5.8333   L: 63
  r023250:  3   E Pre op 0.5 year   :54   1st Qu.:-0.4167   R:141
  r026316:  3   H Post op 1.5 years :44   Median : 7.7083
  r032583:  3   G Post op 1 year    :41   Mean   :14.2623
  r036827:  3   I Post op 2 years   : 3   3rd Qu.:27.0833
  r055869:  3   A Pre op > 2.5 years: 0   Max.   :47.6667
  (Other):185   (Other)             : 0
        V1               V5              V10              V15
  Min.   :0.0000   Min.   :0.0000   Min.   :0.0000   Min.   :0.0000
  1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:0.0000
  Median :0.0000   Median :0.0000   Median :0.0000   Median :0.0000
  Mean   :0.8382   Mean   :0.6863   Mean   :0.7206   Mean   :0.9804
  3rd Qu.:1.0000   3rd Qu.:1.0000   3rd Qu.:1.0000   3rd Qu.:1.0000
  Max.   :5.0000   Max.   :5.0000   Max.   :5.0000   Max.   :5.0000

       V20              V25             V30              V35
  Min.   :0.0000   Min.   :0.000   Min.   :0.0000   Min.   :0.0000
  1st Qu.:0.0000   1st Qu.:0.000   1st Qu.:0.0000   1st Qu.:0.0000
  Median :0.0000   Median :0.000   Median :0.0000   Median :0.0000
  Mean   :0.9559   Mean   :0.603   Mean   :0.5343   Mean   :0.5686
  3rd Qu.:0.2500   3rd Qu.:0.000   3rd Qu.:0.0000   3rd Qu.:0.0000
  Max.   :5.0000   Max.   :5.000   Max.   :5.0000   Max.   :5.0000

       V40              V45              V50              V55
  Min.   :0.0000   Min.   :0.0000   Min.   :0.0000   Min.   :0.0000
  1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:0.0000
  Median :0.0000   Median :0.0000   Median :0.0000   Median :0.0000
  Mean   :0.6912   Mean   :0.5539   Mean   :0.5245   Mean   :0.5588
  3rd Qu.:0.0000   3rd Qu.:0.0000   3rd Qu.:0.0000   3rd Qu.:0.0000
  Max.   :5.0000   Max.   :5.0000   Max.   :5.0000   Max.   :5.0000

The line:

sprintf("%s\t%1.0f", missing.data$Hosp..No., missing.data$V1)

always crashes R.

Many thanks,
Paul


--please do not edit the information below--

Version:
  platform = ppc-apple-macos
  arch = ppc
  os = MacOS
  system = ppc, MacOS
  status =
  major = 1
  minor = 5.1
  year = 2002
  month = 06
  day = 17
  language = R

Search Path:
  .GlobalEnv, package:survival, package:ctest, Autoloads, package:base

Dr. P. B. Pynsent,
Research and Teaching Centre,
Royal orthopaedic Hospital,
Birmingham, B31 2AP, U.K.

--Apple-Mail-2--133200961
Content-Transfer-Encoding: 7bit
Content-Type: text/enriched;
	charset=US-ASCII

# Your mailer is set to "none" (default on Windows),

# hence we cannot send the bug report directly from R.

# Please copy the bug report (after finishing it) to

# your favorite email program and send it to

#

#       r-bugs@r-project.org

#

######################################################


<color><param>FFFE,0000,0000</param>1)

A small point but:

Note message above needs changing for MacOS port

</color>


<color><param>FFFE,0000,0000</param>2) Under MacOS 10.2.2. Given the
following dataset:</color>


> summary(missing.data)

   Hosp..No.                   Category      Offset        Side   

 r060093:  4   F Post op 0.5 year  :62   Min.   :-5.8333   L: 63  

 r023250:  3   E Pre op 0.5 year   :54   1st Qu.:-0.4167   R:141  

 r026316:  3   H Post op 1.5 years :44   Median : 7.7083          

 r032583:  3   G Post op 1 year    :41   Mean   :14.2623          

 r036827:  3   I Post op 2 years   : 3   3rd Qu.:27.0833          

 r055869:  3   A Pre op > 2.5 years: 0   Max.   :47.6667          

 (Other):185   (Other)             : 0                            

       V1               V5              V10              V15        

 Min.   :0.0000   Min.   :0.0000   Min.   :0.0000   Min.   :0.0000  

 1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:0.0000  

 Median :0.0000   Median :0.0000   Median :0.0000   Median :0.0000  

 Mean   :0.8382   Mean   :0.6863   Mean   :0.7206   Mean   :0.9804  

 3rd Qu.:1.0000   3rd Qu.:1.0000   3rd Qu.:1.0000   3rd Qu.:1.0000  

 Max.   :5.0000   Max.   :5.0000   Max.   :5.0000   Max.   :5.0000  

                                                                    

      V20              V25             V30              V35        

 Min.   :0.0000   Min.   :0.000   Min.   :0.0000   Min.   :0.0000  

 1st Qu.:0.0000   1st Qu.:0.000   1st Qu.:0.0000   1st Qu.:0.0000  

 Median :0.0000   Median :0.000   Median :0.0000   Median :0.0000  

 Mean   :0.9559   Mean   :0.603   Mean   :0.5343   Mean   :0.5686  

 3rd Qu.:0.2500   3rd Qu.:0.000   3rd Qu.:0.0000   3rd Qu.:0.0000  

 Max.   :5.0000   Max.   :5.000   Max.   :5.0000   Max.   :5.0000  

                                                                   

      V40              V45              V50              V55        

 Min.   :0.0000   Min.   :0.0000   Min.   :0.0000   Min.   :0.0000  

 1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:0.0000  

 Median :0.0000   Median :0.0000   Median :0.0000   Median :0.0000  

 Mean   :0.6912   Mean   :0.5539   Mean   :0.5245   Mean   :0.5588  

 3rd Qu.:0.0000   3rd Qu.:0.0000   3rd Qu.:0.0000   3rd Qu.:0.0000  

 Max.   :5.0000   Max.   :5.0000   Max.   :5.0000   Max.   :5.0000  

                                                                    

<color><param>FFFE,0000,0000</param>The line:</color>

              

sprintf("%s\t%1.0f", missing.data$Hosp..No., missing.data$V1)


<color><param>FFFE,0000,0000</param>always crashes R.


Many thanks,

Paul</color>



--please do not edit the information below--


Version:

 platform = ppc-apple-macos

 arch = ppc

 os = MacOS

 system = ppc, MacOS

 status = 

 major = 1

 minor = 5.1

 year = 2002

 month = 06

 day = 17

 language = R


Search Path:

 .GlobalEnv, package:survival, package:ctest, Autoloads, package:base


Dr. P. B. Pynsent,

Research and Teaching Centre,

Royal orthopaedic Hospital,

Birmingham, B31 2AP, U.K.


--Apple-Mail-2--133200961--


From murdoch@stats.uwo.ca  Tue Nov 26 14:29:09 2002
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Tue, 26 Nov 2002 09:29:09 -0500
Subject: [Rd] Re: unique()
In-Reply-To: <Pine.GSO.4.42.0211260844200.20783-100000@elios>
References: <Pine.GSO.4.42.0211260844200.20783-100000@elios>
Message-ID: <3i07uus8o4b5sq8qag074s4gd3pvv1kbqb@4ax.com>

On Tue, 26 Nov 2002 08:48:37 +0000 (GMT), Peter Green  wrote in
message <Pine.GSO.4.42.0211260844200.20783-100000@elios>:

>Hi, Duncan,
>
>Just a quick query/grumble.... I've just noticed that
>the operation of unique() on arrays changed somewhere
>between Rw1041 and 1061 - pity, as I had been relying on the old
>action (treat the argument as a vector) in some code.
>I didn't notice it mentioned in any 'changes' documents.

It was mentioned in the 1.6.0 news file:

>   o   duplicated() and unique() have methods for matrices and arrays
>       (based on ideas from Jens Oehlschlgel).

There was a hint this was coming in the 1.4.0 news:

>    o   duplicated() and unique() are now generic functions with
>        methods for data frames (as well as atomic vectors).

You can get the old behaviour for arrays by unique(as.vector(x))
instead of unique(x), as you've probably figured out.

I wonder if there could be a mechanism that would warn about things
like this?  E.g. instead of a flat news file that you have to read all
through, maybe a database of changes, and a tool that could look
through your code and spot things whose usage had changed?
I think maintaining the accuracy of the database would be hard.

Duncan


From tlumley@u.washington.edu  Tue Nov 26 16:46:41 2002
From: tlumley@u.washington.edu (tlumley@u.washington.edu)
Date: Tue, 26 Nov 2002 17:46:41 +0100 (MET)
Subject: [Rd] sprintf crash (PR#2327)
Message-ID: <200211261646.RAA11622@pubhealth.ku.dk>


>2) Under MacOS 10.2.2. Given the following dataset:
>
> > summary(missing.data)
>    Hosp..No.                   Category      Offset        Side
>  r060093:  4   F Post op 0.5 year  :62   Min.   :-5.8333   L: 63
>  r023250:  3   E Pre op 0.5 year   :54   1st Qu.:-0.4167   R:141
>  r026316:  3   H Post op 1.5 years :44   Median : 7.7083
>  r032583:  3   G Post op 1 year    :41   Mean   :14.2623
>  r036827:  3   I Post op 2 years   : 3   3rd Qu.:27.0833
>  r055869:  3   A Pre op > 2.5 years: 0   Max.   :47.6667
>  (Other):185   (Other)             : 0
 <snip>
>The line:
>
>sprintf("%s\t%1.0f", missing.data$Hosp..No., missing.data$V1)
>
>always crashes R.

 Yes, that's because  missing.data$Hosp..No. isn't a string, it's a
factor.  In R 1.6.0 this gives an error rather than a crash.

You probably want

  sprintf("%s\t%1.0f", as.character(missing.data$Hosp..No.),
	missing.data$V1)



	-thomas


From jago@mclink.it  Tue Nov 26 16:56:35 2002
From: jago@mclink.it (Stefano Iacus)
Date: Tue, 26 Nov 2002 17:56:35 +0100
Subject: [Rd] sprintf crash (PR#2327)
In-Reply-To: <200211261646.RAA11622@pubhealth.ku.dk>
Message-ID: <058442A6-0160-11D7-84DB-003065CC4CB8@mclink.it>

On Tuesday, November 26, 2002, at 05:46 PM, tlumley@u.washington.edu 
wrote:

>
>
>> 2) Under MacOS 10.2.2. Given the following dataset:
>>
>>> summary(missing.data)
>>    Hosp..No.                   Category      Offset        Side
>>  r060093:  4   F Post op 0.5 year  :62   Min.   :-5.8333   L: 63
>>  r023250:  3   E Pre op 0.5 year   :54   1st Qu.:-0.4167   R:141
>>  r026316:  3   H Post op 1.5 years :44   Median : 7.7083
>>  r032583:  3   G Post op 1 year    :41   Mean   :14.2623
>>  r036827:  3   I Post op 2 years   : 3   3rd Qu.:27.0833
>>  r055869:  3   A Pre op > 2.5 years: 0   Max.   :47.6667
>>  (Other):185   (Other)             : 0
>  <snip>
>> The line:
>>
>> sprintf("%s\t%1.0f", missing.data$Hosp..No., missing.data$V1)
>>
>> always crashes R.
>
>  Yes, that's because  missing.data$Hosp..No. isn't a string, it's a
> factor.  In R 1.6.0 this gives an error rather than a crash.
>
> You probably want
>
>   sprintf("%s\t%1.0f", as.character(missing.data$Hosp..No.),
> 	missing.data$V1)
>
>
>
> 	-thomas
>

yes, also

sprintf("%s\t%1.0f", levels(missing.data$Hosp..No.), missing.data$V1)

will work


From jfox@mcmaster.ca  Wed Nov 27 03:27:55 2002
From: jfox@mcmaster.ca (John Fox)
Date: Tue, 26 Nov 2002 22:27:55 -0500
Subject: [Rd] Problems with dialog boxes etc. in XEmacs/ESS for Windows
Message-ID: <5.1.0.14.2.20021126220550.01de6998@mcmail.cis.mcmaster.ca>

Dear list members,

I'm experiencing a variety of intermittent problems with GUI-related 
commands (e.g., for dialog boxes and graphics-device windows) in R for 
Windows running under XEmacs/ESS. I'm using version 1.6.1 of R, version 
21.4.9 of XEmacs, version 1.02 of ESS, and various versions of Windows, 
including 2000, 95, and 98SE.

The problems don't occur in every circumstance, but they are reproducible 
to a degree. For example, if upon opening an R-process buffer under ESS on 
a Windows 95 machine, I immediately issue the command

winDialog("ok", "test")

no dialog opens, and the R process hangs. The same command works OK in the 
same situation on several Windows 2000 systems, and also works later in a 
session under Windows 95. Similarly, on Windows 2000, I find that the "File 
-> Save as" menu item in graphics-device windows doesn't work (nothing 
happens when the item is selected), but the "File -> Copy to the clipboard" 
menu item does work.

All of the GUI-related functions appear to work fine when I run rterm.exe 
directly at the command prompt, rather than through ESS.

I wonder whether anyone understands why these things are happening and, if 
so, whether there's a solution. (I can furnish more details if that would 
help.)

Thanks,
  John
-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox@mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------


From ripley@stats.ox.ac.uk  Wed Nov 27 07:43:05 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 27 Nov 2002 07:43:05 +0000 (GMT)
Subject: [Rd] Re: [R] further on ESS/XEmacs for Windows
In-Reply-To: <87vg2jzm6v.fsf@jeeves.blindglobe.net>
Message-ID: <Pine.LNX.4.31.0211270730250.20092-100000@gannet.stats>

[Moved to R-devel, as this is going to get technical and is already a
minority interest.]

On 26 Nov 2002, A.J. Rossini wrote:

> >>>>> "john" == John Fox <jfox@mcmaster.ca> writes:
>
>
>     john> (2) I spent a good part of the day today trying XEmacs and ESS on a
>     john> variety of Windows systems -- with and without my configuration
>     john> files. I noticed a number of intermittent problems with GUI-related
>     john> commands, such as attempts to open dialog boxes causing the R process
>     john> to freeze. I'll try to track down the source of these problems.
>
> I'm not sure what the status of these is -- I do know that some people
> I trust have wondered how the heck R even works under (X)Emacs on
> Windows (issues arising with systems interfacing, blocking calls, and
> similar "stuff").

That's right!  rterm used directly uses a separate thread for input to
avoid it blocking (not processing Windows events) whilst waiting for
input.  rterm used by ESS is effectively used in batch mode: it was never
the intention that the GUI interactions should work.

Guido and I once (in 2000) discussed a way out using a supervisor thread,
and Guido implemented it (although I never saw the code),  He said it
worked under NT but not Win98.  That's the real problem -- supporting
low-end versions of Windows which do not behave as documented, when the
developers (then) were only using NT/2000.  On Unix one uses select() and
since we have since made that work to support url/socket connections it
would be possible to try to use that.  However, it would be a lot of work
to provide something that the main developers would never use, and we
remain desperately short of contributions by users of R on Windows.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From jfox@mcmaster.ca  Wed Nov 27 14:06:15 2002
From: jfox@mcmaster.ca (John Fox)
Date: Wed Nov 27 14:06:15 2002
Subject: [Rd] Re: [R] further on ESS/XEmacs for Windows
In-Reply-To: <Pine.LNX.4.31.0211270730250.20092-100000@gannet.stats>
References: <87vg2jzm6v.fsf@jeeves.blindglobe.net>
Message-ID: <5.1.0.14.2.20021127075636.01e35528@mcmail.cis.mcmaster.ca>

Dear Brian

At 07:43 AM 11/27/2002 +0000, ripley@stats.ox.ac.uk wrote:
>[Moved to R-devel, as this is going to get technical and is already a
>minority interest.]
>
>On 26 Nov 2002, A.J. Rossini wrote:
>
> > >>>>> "john" == John Fox <jfox@mcmaster.ca> writes:
> >
> >
> >     john> (2) I spent a good part of the day today trying XEmacs and 
> ESS on a
> >     john> variety of Windows systems -- with and without my configuration
> >     john> files. I noticed a number of intermittent problems with 
> GUI-related
> >     john> commands, such as attempts to open dialog boxes causing the R 
> process
> >     john> to freeze. I'll try to track down the source of these problems.
> >
> > I'm not sure what the status of these is -- I do know that some people
> > I trust have wondered how the heck R even works under (X)Emacs on
> > Windows (issues arising with systems interfacing, blocking calls, and
> > similar "stuff").
>
>That's right!  rterm used directly uses a separate thread for input to
>avoid it blocking (not processing Windows events) whilst waiting for
>input.  rterm used by ESS is effectively used in batch mode: it was never
>the intention that the GUI interactions should work.

Thanks for the explanation -- I figured that you'd know what's going on here.

>Guido and I once (in 2000) discussed a way out using a supervisor thread,
>and Guido implemented it (although I never saw the code),  He said it
>worked under NT but not Win98.  That's the real problem -- supporting
>low-end versions of Windows which do not behave as documented, when the
>developers (then) were only using NT/2000.  On Unix one uses select() and
>since we have since made that work to support url/socket connections it
>would be possible to try to use that.  However, it would be a lot of work
>to provide something that the main developers would never use, and we
>remain desperately short of contributions by users of R on Windows.

If I had the knowledge to make this kind of contribution, I'd volunteer to 
do it. I expect that this is generally the source of the problem: that is, 
Windows users probably tend to have a lower level of programming expertise.

If Guido's code still exists, would it be possible to incorporate it, 
providing a solution for Windows NT, 2000, and XP? Applications such as 
mine could adapt their behaviour depending upon the Windows version (and 
eventually Windows 9x systems will disappear).

Thanks again,
  John
-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox@mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------


From mcruffy10@mail.com  Wed Nov 27 18:36:04 2002
From: mcruffy10@mail.com (mcruffy10@mail.com)
Date: Wed Nov 27 18:36:04 2002
Subject: [Rd] Urgent  Response  Needed (PR#2329)
Message-ID: <200211271735.SAA23142@pubhealth.ku.dk>

Attention:Sir/Madam

I presume this email will not be a surprise to you.

Am an engineer with the ministry of mineral resources
and energy in south Africa and also a member of the 
contract awarding committee of this ministry under the south
Africa government.

Many year ago, the south Africa government asked this committee
to awards contracts to foregn firms, in which myself and two 
of my partner are leader of the committee, with our good
position in this committee, we over involved this contract to 
the tune of of us$12,500,000:00, to be benefited by me and two 
other of my partner that are in charge of this contract awarding 
committee in this ministry.

Now, that the contracts value has been paid off to the actual
contractor that executed this job, All we want is a trusted 
foreign partner like you that we shall front to claim this over
involved sum.

Upon our agreement to carry on this business transaction with you,
the said fund will be share as follow, 75% will be for myself and two 
others of my partner, 20% will be for you for using your bank account,
5% will be set aside for any expenses that might be incurred by us and 
you in the process of the document and other formalities that will 
justify you as the rightful owner of this said fund.

You should bear in mind that you will be required to put head together
with us, and give this business transaction moral and financially 
support it required to be successful.

If you are interested and financially capable in handly this business
transaction, Kindly reply us through this email address (timparthy@netscape.net)
for more details and to let you know what is required of this business 
transaction to be successful.

Also we request your private and office phone number to open communication
with you.

Your faithfully,

Timson  Parthy.


From nklepeis@uclink.berkeley.edu  Fri Nov  1 08:06:11 2002
From: nklepeis@uclink.berkeley.edu (nklepeis@uclink.berkeley.edu)
Date: Fri, 1 Nov 2002 09:06:11 +0100 (MET)
Subject: Inconsistent results with %in% (PR#2244)
Message-ID: <200211010806.JAA03783@pubhealth.ku.dk>

Full_Name: Neil Klepeis
Version: 1.6.0
OS: Redhat Linux 7.3
Submission from: (NULL) (165.247.212.88)


%in% does not work properly for some numeric values as shown here:
> 1.253 %in% seq(1.1,1.3,by=0.001)
[1] FALSE
> 1.252 %in% seq(1.1,1.3,by=0.001)
[1] TRUE
> 1.254 %in% seq(1.1,1.3,by=0.001)
[1] TRUE 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From nklepeis@uclink4.berkeley.edu  Fri Nov  1 19:22:09 2002
From: nklepeis@uclink4.berkeley.edu (nklepeis@uclink4.berkeley.edu)
Date: Fri, 1 Nov 2002 20:22:09 +0100 (MET)
Subject: (PR#2244)
Message-ID: <200211011922.UAA10666@pubhealth.ku.dk>

Not a bug.  Please ignore this bug report.  It was a premature entry 
after a frustrating night :).

-- 
______________________________________________________
Neil E. Klepeis, UC Berkeley, School of Public Health,
and Lawrence Berkeley National Laboratory,


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rpeng@stat.ucla.edu  Fri Nov  1 23:06:52 2002
From: rpeng@stat.ucla.edu (Roger Peng)
Date: Fri, 1 Nov 2002 15:06:52 -0800 (PST)
Subject: seemingly random "nesting of readline input" warnings
Message-ID: <Pine.GSO.4.10.10211011457530.255-100000@fisher.stat.ucla.edu>

Recently, while using R-patched and now R-1.6.1 (on RedHat Linux 7.1) I've
been getting the following warning in the course of everyday activity:

[... some R activity ...]

In addition: Warning message: 
An unusual circumstance has arisen in the nesting of readline input.
Please report using bug.report() 
>

The warning is difficult to reproduce because it seems to appear at random
times, usually after I enter about 100 or so commands into the console.

I noticed that the function which produces this warning, `pushReadline' in
src/unix/sys-std.c, was modified on October 16, 2002 in regards to bug
report PR#2165.  I can't tell if this change is the source of the warning
bit I don't ever recall seeing this warning on earlier versions.

I build R from source using the readline-devel-4.1-9 package which came
with my system.

> version
         _                
platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    6.1              
year     2002             
month    11               
day      01               
language R                


-roger
_______________________________
UCLA Department of Statistics
rpeng@stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sat Nov  2 00:35:02 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 Nov 2002 01:35:02 +0100
Subject: seemingly random "nesting of readline input" warnings
In-Reply-To: <Pine.GSO.4.10.10211011457530.255-100000@fisher.stat.ucla.edu>
References: <Pine.GSO.4.10.10211011457530.255-100000@fisher.stat.ucla.edu>
Message-ID: <x28z0coll5.fsf@biostat.ku.dk>

Roger Peng <rpeng@stat.ucla.edu> writes:

> Recently, while using R-patched and now R-1.6.1 (on RedHat Linux 7.1) I've
> been getting the following warning in the course of everyday activity:
> 
> [... some R activity ...]
> 
> In addition: Warning message: 
> An unusual circumstance has arisen in the nesting of readline input.
> Please report using bug.report() 
> >
> 
> The warning is difficult to reproduce because it seems to appear at random
> times, usually after I enter about 100 or so commands into the console.
> 
> I noticed that the function which produces this warning, `pushReadline' in
> src/unix/sys-std.c, was modified on October 16, 2002 in regards to bug
> report PR#2165.  I can't tell if this change is the source of the warning
> bit I don't ever recall seeing this warning on earlier versions.
> 
> I build R from source using the readline-devel-4.1-9 package which came
> with my system.

Hmm. We haven't heard that one before... The way this stuff is done,
there's always a risk that you end up with more pushes than pops. As
far as I remember the change, it was a pretty simple index off-by-one
thing, and clearly needed fixing on 64-bit systems, but you never know. 

If you get a bit closer to what exactly you need to do to trigger this
please let us know. It might be something involving non-local returns,
i.e. error conditions or hittin ctr-C. One thing you could do fairly
easily would be to run R with the debugger: "R -d gdb", set a
breakpoint at the warning, and tell us whether it's
ReadlineStack.current that is getting too large or perhaps
ReadlineStack.max getting zeroed by something.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rpeng@stat.ucla.edu  Sat Nov  2 02:02:55 2002
From: rpeng@stat.ucla.edu (Roger Peng)
Date: Fri, 1 Nov 2002 18:02:55 -0800 (PST)
Subject: seemingly random "nesting of readline input" warnings
In-Reply-To: <x28z0coll5.fsf@biostat.ku.dk>
Message-ID: <Pine.GSO.4.10.10211011751430.255-100000@fisher.stat.ucla.edu>

Okay, I think I can reproduce this warning:  I startup R --vanilla,
then type Ctrl-C 11 times.  On my machine (RedHat Linux 7.1, Athlon 1.2Ghz
chip) the 11th Ctrl-C produces the warning.  Again, this is R 1.6.1.

When I ran R in gdb I set a break point at line 393 of src/unix/sys-std.c.
It got triggered after the 10th Ctrl-C and when I printed ReadlineStack, I
got

Breakpoint 1, pushReadline (prompt=0x8255dd8 "> ", 
    f=0x813ed70 <readline_handler>) at sys-std.c:393
393          warning("An unusual circumstance has arisen in the nesting of
readline input. Please report using bug.report()");

(gdb) print ReadlineStack
$4 = {current = 9, max = 9, fun = {0x813ed70 <readline_handler>, 
    0x813ed70 <readline_handler>, 0x813ed70 <readline_handler>, 
    0x813ed70 <readline_handler>, 0x813ed70 <readline_handler>, 
    0x813ed70 <readline_handler>, 0x813ed70 <readline_handler>, 
    0x813ed70 <readline_handler>, 0x813ed70 <readline_handler>, 
    0x813ed70 <readline_handler>}}

I hope this helps.

-roger
_______________________________
UCLA Department of Statistics
rpeng@stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On 2 Nov 2002, Peter Dalgaard BSA wrote:

> Roger Peng <rpeng@stat.ucla.edu> writes:
> 
> > Recently, while using R-patched and now R-1.6.1 (on RedHat Linux 7.1) I've
> > been getting the following warning in the course of everyday activity:
> > 
> > [... some R activity ...]
> > 
> > In addition: Warning message: 
> > An unusual circumstance has arisen in the nesting of readline input.
> > Please report using bug.report() 
> > >
> > 
> > The warning is difficult to reproduce because it seems to appear at random
> > times, usually after I enter about 100 or so commands into the console.
> > 
> > I noticed that the function which produces this warning, `pushReadline' in
> > src/unix/sys-std.c, was modified on October 16, 2002 in regards to bug
> > report PR#2165.  I can't tell if this change is the source of the warning
> > bit I don't ever recall seeing this warning on earlier versions.
> > 
> > I build R from source using the readline-devel-4.1-9 package which came
> > with my system.
> 
> Hmm. We haven't heard that one before... The way this stuff is done,
> there's always a risk that you end up with more pushes than pops. As
> far as I remember the change, it was a pretty simple index off-by-one
> thing, and clearly needed fixing on 64-bit systems, but you never know. 
> 
> If you get a bit closer to what exactly you need to do to trigger this
> please let us know. It might be something involving non-local returns,
> i.e. error conditions or hittin ctr-C. One thing you could do fairly
> easily would be to run R with the debugger: "R -d gdb", set a
> breakpoint at the warning, and tell us whether it's
> ReadlineStack.current that is getting too large or perhaps
> ReadlineStack.max getting zeroed by something.
> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sat Nov  2 09:23:23 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 Nov 2002 10:23:23 +0100
Subject: seemingly random "nesting of readline input" warnings
In-Reply-To: <Pine.GSO.4.10.10211011751430.255-100000@fisher.stat.ucla.edu>
References: <Pine.GSO.4.10.10211011751430.255-100000@fisher.stat.ucla.edu>
Message-ID: <x24rb0nx4k.fsf@biostat.ku.dk>

Roger Peng <rpeng@stat.ucla.edu> writes:

> Okay, I think I can reproduce this warning:  I startup R --vanilla,
> then type Ctrl-C 11 times.  On my machine (RedHat Linux 7.1, Athlon 1.2Ghz
> chip) the 11th Ctrl-C produces the warning.  Again, this is R 1.6.1.
> 
> When I ran R in gdb I set a break point at line 393 of src/unix/sys-std.c.
> It got triggered after the 10th Ctrl-C and when I printed ReadlineStack, I
> got
> 
> Breakpoint 1, pushReadline (prompt=0x8255dd8 "> ", 
>     f=0x813ed70 <readline_handler>) at sys-std.c:393
> 393          warning("An unusual circumstance has arisen in the nesting of
> readline input. Please report using bug.report()");
> 
> (gdb) print ReadlineStack
> $4 = {current = 9, max = 9, fun = {0x813ed70 <readline_handler>, 
>     0x813ed70 <readline_handler>, 0x813ed70 <readline_handler>, 
>     0x813ed70 <readline_handler>, 0x813ed70 <readline_handler>, 
>     0x813ed70 <readline_handler>, 0x813ed70 <readline_handler>, 
>     0x813ed70 <readline_handler>, 0x813ed70 <readline_handler>, 
>     0x813ed70 <readline_handler>}}
> 
> I hope this helps.

Argh. Yes, the ReadlineStack.current needs to be reset to zero by
something when you break out. A pragmatic temporary fix is to increase
the maximum to be large enough that you don't bump into it this
easily.

Duuuuncan! Come and fix this!

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kyari_bundi@lycos.com  Sat Nov  2 12:59:20 2002
From: kyari_bundi@lycos.com (BUNDI KYARI)
Date: Sat, 02 Nov 2002 12:59:20
Subject: Urgent Assistance
Message-ID: <200211021159.gA2BxLxA026901@hypatia.math.ethz.ch>

FROM:BUNDI KYARI.

TEL:

E-mail: kyaribundi@netscape.net

AMSTERDAM THE NETHERLANDS.

Dear sir,                            

compliment of the day, I am BUNDI KYARI, The son of late General Kubwa Kyari of the Democratic Republic of Congo.

My father was a General in the Congolese Army. In his position (My father) with the office of the presidentcy during the regime of Laurent Kabila, he was assigned on a secret mission to source and acquire arms internationally in order to strengthen the Government forces against the rebels, which already had the support of Rwandan and Uganda Army.

Meanwhile, he was still negotiating for the purchase of the arms, he received on the 16th January 2001 news of the assassination of Laurent Kabila which force him to call off the assignment and deposited the sum of US$12.5M, Packed in a diplomatic case in a private security company in the Amsterdam, the Netherlands, though he registered the content as precious stones while the real content is (US12.5M) meant for the purchase of arms for the Congolese Army.

My father went home for the funeral of the late president, but on his arrival he was arrested, detained and tortured, unfortunately my father suffer cardiac arrest and died on the 17th of March 2001. However, on one of our numerous visits, my mother and I paid him while in prison, my father was able to reveal this secret to me and advice that i should proceed to the Netherlands to claim the money, he handed me all the relevant documents that will enable me claim the box from the security company. Already, I have made my first visit to the security company and the availability of this box have been confirmed.

On our arrival in the Netherlands few months ago, we sought for political asylum; which was granted. My mother and I are making frantic effort on the best way to handle this money. We sought advice from an attorney who advised that we must seek for a trustworthy foreign business partner whom this money could be transferred into his/her (company"s)  account  This we view as the best option because our refugee status dose not permit us to operate a bank account, hence we seek your assistance and hope you could be trusted.

I got your contact from the commercial section of the congolese embassy in Belgium.Meanwhile, I sincerely ask for your assistance to get this money through your account, Your share for assisting us will be 25% of the total sum, 5% will be use for upsetting all the expenses incurred in the course of concluding this venture and the remaining 70% that will be for me and my family. Also you stand to gain from any investment you might introduce us into after the conclusion of the transfer.

Please keep this confidential until we finalize and get this money into your account for security reasons.

This is my e-mail address you can reach me: kyaribundi@netscape.net

Thanks and GOD bless

MR, BUNDI KYARI. 




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@stat.uiowa.edu  Sat Nov  2 16:11:37 2002
From: luke@stat.uiowa.edu (Luke Tierney)
Date: Sat, 2 Nov 2002 10:11:37 -0600 (CST)
Subject: seemingly random "nesting of readline input" warnings
In-Reply-To: <x24rb0nx4k.fsf@biostat.ku.dk>
Message-ID: <Pine.LNX.4.44.0211021007340.20950-100000@nokomis2.stat.umn.edu>

On 2 Nov 2002, Peter Dalgaard BSA wrote:

> Argh. Yes, the ReadlineStack.current needs to be reset to zero by
> something when you break out. A pragmatic temporary fix is to increase
> the maximum to be large enough that you don't bump into it this
> easily.
> 
> Duuuuncan! Come and fix this!
> 

Looks like another case where our expedient but unfortunately too
crude approach of handling Control-C on UNIX-likes with longjmp is
biting us.  We really do need to bite the bullet and fix this properly.
Maybe Duncan and I can coordinate getting a handle on this.

luke

-- 
Luke Tierney
University of Iowa                  Phone:             319-335-3386
Department of Statistics and        Fax:               319-335-3017
   Actuarial Science
241 Schaeffer Hall                  email:      luke@stat.uiowa.edu
Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Nov  3 19:52:58 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 3 Nov 2002 19:52:58 +0000 (GMT)
Subject: (PR#2003) bug in SJava
In-Reply-To: <200210311542.QAA00373@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0211031923060.15468-100000@gannet.stats>

There is no function `getHome' in the R sources.

There is a function getRHOME(), but that is not part of the documented
interface (front-ends/readme).  If SJava is calling getRHOME, it needs to
be modified to just use the documented interface.

getRHOME has not been modified since 1999, BTW.

On Thu, 31 Oct 2002 grimm.heinz@rcc.ch wrote:

> This is a multi-part message in MIME format.
> --------------0E780EA27B8B71828A93900D
> Content-Type: text/plain; charset=us-ascii
> Content-Transfer-Encoding: 7bit
>
> Ok, I try to explain the problem better:
>
> getHome() uses now "GetModuleFileName()" to determine
> the R home-directory. "GetModuleFileName()" doesn't check
> the R_HOME environment setting, instead it returns the
> path of the .EXE, that started R, which is usually located in
> $R_HOME/bin. If R is invoked via Java, "GetModuleFileName()"
> returns $JDK_HOME/jre/bin instead of $R_HOME/bin and
> the function "getRHome()" returns $JDK_HOME/jre...
>
> My suggestion is just to rely on $R_HOME, instead of
> using "GetModuleFileName()", because all "xxx calls R"
> packages will have similar problems. I added in my sample
> fix the check for $RHOME, since SJava does the same,
> may be this is historical, just ignore it...
>
> Heinz Grimm

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From wex00002@uconn.edu  Sun Nov  3 22:38:21 2002
From: wex00002@uconn.edu (wex00002@uconn.edu)
Date: Sun, 3 Nov 2002 23:38:21 +0100 (MET)
Subject: Ansari-Bradley test (PR#2252)
Message-ID: <200211032238.XAA16125@pubhealth.ku.dk>

Full_Name: Wei Xu
Version: 1.5.1
OS: WindowsME
Submission from: (NULL) (63.215.238.92)


The P-value for a two.sided test is not consistent with the confidence
interval.
For example, P-value=0.1372, but the 95% CI doesn't include the H0 value(1).

> x
 [1] 0.80 0.83 1.89 1.04 1.45 1.38 1.91 1.64 0.73 1.46
> y
[1] 1.15 0.88 0.90 0.74 1.21
> ansari.test(x,y,alternative="two.sided",conf.int=TRUE,conf.level=0.95)

        Ansari-Bradley test

data:  x and y 
AB = 36, p-value = 0.1372
alternative hypothesis: true ratio of scales is not equal to 1 
95 percent confidence interval:
 1.081081 2.581081 
sample estimates:
ratio of scales 
       1.972973 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From wolfram@fischer-zim.ch  Mon Nov  4 09:19:45 2002
From: wolfram@fischer-zim.ch (wolfram@fischer-zim.ch)
Date: Mon, 4 Nov 2002 10:19:45 +0100 (MET)
Subject: [R] CTRL-C suspends echo of shell (R versions 1.6.0 and 1.6.1) (PR#2253)
Message-ID: <200211040919.KAA18590@pubhealth.ku.dk>

Problem:
- Shell does not echo anymore 
  after using CTRL-C (to interrupt calculations)
  once during a R session.

Procedure:
- [start session]  R
- [input]          CTRL-C
- [end session]    q()


Some details:
- `stty` before: speed 38400 baud; line = 0; lnext = <undef>;

- `stty` after: speed 38400 baud; line = 0; lnext = <undef>; min = 1; time = 0;
    -icrnl
    -icanon -echo

I have seen the problem in versions 1.6.0 and 1.6.1, but not in 1.5.1
which I am running on SuSE Linux 7.3. The shell used is bash-2.05.0(1).


Wolfram Fischer

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Nov  4 09:58:53 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Nov 2002 10:58:53 +0100
Subject: [R] CTRL-C suspends echo of shell (R versions 1.6.0 and 1.6.1) (PR#2253)
In-Reply-To: <200211040919.KAA18590@pubhealth.ku.dk>
References: <200211040919.KAA18590@pubhealth.ku.dk>
Message-ID: <x2y989bqqq.fsf@biostat.ku.dk>

wolfram@fischer-zim.ch writes:

> Problem:
> - Shell does not echo anymore 
>   after using CTRL-C (to interrupt calculations)
>   once during a R session.
> 
> Procedure:
> - [start session]  R
> - [input]          CTRL-C
> - [end session]    q()
> 
> 
> Some details:
> - `stty` before: speed 38400 baud; line = 0; lnext = <undef>;
> 
> - `stty` after: speed 38400 baud; line = 0; lnext = <undef>; min = 1; time = 0;
>     -icrnl
>     -icanon -echo
> 
> I have seen the problem in versions 1.6.0 and 1.6.1, but not in 1.5.1
> which I am running on SuSE Linux 7.3. The shell used is bash-2.05.0(1).

Seen here too, but I actually thought it took more to provoke it.
Blind-enter "stty sane" to revert.

(Might this be related to the readline stack issue?)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From B.Rowlingson@lancaster.ac.uk  Mon Nov  4 13:03:32 2002
From: B.Rowlingson@lancaster.ac.uk (Barry Rowlingson)
Date: Mon, 04 Nov 2002 13:03:32 +0000
Subject: longjmp - was: seemingly random "nesting of readline input" warnings
References: <Pine.LNX.4.44.0211021007340.20950-100000@nokomis2.stat.umn.edu>
Message-ID: <3DC67024.1020203@lancaster.ac.uk>

Luke Tierney wrote:

> Looks like another case where our expedient but unfortunately too
> crude approach of handling Control-C on UNIX-likes with longjmp is
> biting us.  We really do need to bite the bullet and fix this properly.
> Maybe Duncan and I can coordinate getting a handle on this.

  please do! It still affects Mosix systems, since the signal handling 
in longjmp causes a system call on the home machine. Mosix tries to 
migrate processes to less-loaded machines, but R's constant setjmp'ing 
means the processes get stuck on the machines where they are started from.

  When I install a new version of R on our mosix cluster, I also compile 
a binary with setjmp/longjmp defined as the versions that do not 
preserve signal state. This produces a binary that migrates better under 
Mosix but has broken Ctrl-C handling. I then alter the R script so that 
my modified binary runs if and only if you do "R BATCH". Seems a fair 
solution at the moment.

  Barry Rowlingson
  Maths and Stats
  Lancaster University

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gregory_r_warnes@groton.pfizer.com  Mon Nov  4 13:41:03 2002
From: gregory_r_warnes@groton.pfizer.com (Warnes, Gregory R)
Date: Mon, 4 Nov 2002 08:41:03 -0500
Subject: longjmp - was: seemingly random "nesting of readline input" w
 arnings
Message-ID: <D7A3CFD7825BD6119B880002A58F06C20149D189@groexmb02.pfizer.com>

Barry,

Would you mind providing the necessary patch for this behavior?

Thanks,

Greg

> -----Original Message-----
> From: Barry Rowlingson [mailto:B.Rowlingson@lancaster.ac.uk]
> Sent: Monday, November 04, 2002 8:04 AM
> To: r-devel@stat.math.ethz.ch
> Subject: Re: longjmp - was: seemingly random "nesting of 
> readline input"
> warnings
> 
> 
> Luke Tierney wrote:
> 
> > Looks like another case where our expedient but unfortunately too
> > crude approach of handling Control-C on UNIX-likes with longjmp is
> > biting us.  We really do need to bite the bullet and fix 
> this properly.
> > Maybe Duncan and I can coordinate getting a handle on this.
> 
>   please do! It still affects Mosix systems, since the signal 
> handling 
> in longjmp causes a system call on the home machine. Mosix tries to 
> migrate processes to less-loaded machines, but R's constant 
> setjmp'ing 
> means the processes get stuck on the machines where they are 
> started from.
> 
>   When I install a new version of R on our mosix cluster, I 
> also compile 
> a binary with setjmp/longjmp defined as the versions that do not 
> preserve signal state. This produces a binary that migrates 
> better under 
> Mosix but has broken Ctrl-C handling. I then alter the R 
> script so that 
> my modified binary runs if and only if you do "R BATCH". Seems a fair 
> solution at the moment.
> 
>   Barry Rowlingson
>   Maths and Stats
>   Lancaster University
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From B.Rowlingson@lancaster.ac.uk  Mon Nov  4 13:47:58 2002
From: B.Rowlingson@lancaster.ac.uk (Barry Rowlingson)
Date: Mon, 04 Nov 2002 13:47:58 +0000
Subject: longjmp
References: <D7A3CFD7825BD6119B880002A58F06C20149D189@groexmb02.pfizer.com>
Message-ID: <3DC67A8E.5080700@lancaster.ac.uk>

Warnes, Gregory R wrote:

> Would you mind providing the necessary patch for this behavior?

  Here's the patch, in 'how-to-do-it' format:

1. Get, compile, check, install R as usual.

2. Edit $RSRC/src/include/Defn.h to make sure that the following are 
defined:

# define JMP_BUF jmp_buf
# define SETJMP(x) setjmp(x)
# define LONGJMP(x,i) longjmp(x,i)

  and make sure that the 'sig-' versions are undefined. There's probably 
a way of doing it via configure, but its easy enough to tweak this way.

3. Compile, check. Copy generated binary to $RHOME/bin/R-jmp.bin

4. Edit one line in $RHOME/bin/BATCH so it calls R-jmp.bin instead of 
R.bin.

  Voila, one Mosix-enhanced binary that will only react to the first 
Ctrl-C you throw at it, ignoring subsequent ones. However this isnt 
generally a problem when running with R BATCH since its a batch job and 
there's nobody around to throw Ctrl-Cs at it. However, other signal 
handling may be broken, so dont try to control your R BATCH job by 
sending signals to it.

  Only use this if you know what you are doing, and dont expect any help 
from me or any of the R developers if this breaks stuff - check any 
putative bugs with a standard-compiled version first.

Barry Rowlingson
Maths and Stats
Lancaster University, UK


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From B.Rowlingson@lancaster.ac.uk  Mon Nov  4 15:46:27 2002
From: B.Rowlingson@lancaster.ac.uk (Barry Rowlingson)
Date: Mon, 04 Nov 2002 15:46:27 +0000
Subject: R shell integration.
References: <D7A3CFD7825BD6119B880002A58F06C20149D189@groexmb02.pfizer.com> <3DC67A8E.5080700@lancaster.ac.uk>
Message-ID: <3DC69653.8020209@lancaster.ac.uk>


Wouldn't it be nice to be able to do this:

  ./analyse.R -gamma=2 <data.in >data.out

where analyse.R looks like this:

#!/usr/bin/R

gamma <- getopt("gamma")
mydata <- scan(...)

etc?  In other words, be able to write executable R scripts?

  Current problems with this are:

* linux will only execute binaries from #! scripts, so a C-code wrapper 
is needed

* R can only take commands from standard input, so I cant see how to get 
it to read commands _and_ data from standard input. Could a new option 
be added to read commands from a file given on the command line?

* nobody has written a 'getopt' function to format the results of the 
commandArgs() function :)

  - I've already written a (four-line) C wrapper to do the first part, 
and it is an interesting feeling to run R with "./runme.R", but the 
second problem is slightly trickier.

  Is this worth putting any effort into, or did this weekend's fireworks 
burn my brain too much?

Barry


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From mckay@suna.gmr.com  Mon Nov  4 17:57:10 2002
From: mckay@suna.gmr.com (Neil McKay MD)
Date: Mon, 4 Nov 2 12:57:10 EST
Subject: R shell integration.
In-Reply-To: <3DC69653.8020209@lancaster.ac.uk>; from "Barry Rowlingson" at Nov 4, 102 11:37 am
Message-ID: <200211041757.gA4HvAV25802@math.ma.gmr.com>

Barry Rowlinson writes:

> 
> 
> Wouldn't it be nice to be able to do this:
> 
>   ./analyse.R -gamma=2 <data.in >data.out
> 
> where analyse.R looks like this:
> 
> #!/usr/bin/R
> 
> gamma <- getopt("gamma")
> mydata <- scan(...)
> 
> etc?  In other words, be able to write executable R scripts?
> 

I have a patch for R that does exactly this. (Latest version's
for R 1.5.0; haven't upgraded to 1.6 yet.) It turns out that it
only requires a few minor changes to R, plus an additional 100-some
lines of code. It allows me to write things like:

	#!/usr/local/lib/R/bin/R.bin --script

	cat("Hello world!\n")


If anyone's interested in the patches, I'll upgrade them to R 1.6
(which I should do anyway) and give them to you. It would be nice
to have these patches pre-applied to the R sources so I don't have
to maintain them myself. (Hint, hint.)

-- 
Neil D. McKay, Mail Code 480-106-359    Phone: (586)986-1470 (GM:8-226-1470)
Manufacturing Systems Research Lab      FAX:   (586)986-0574 (GM:8-226-0574)
GM Research & Development Center        Internet e-mail: mckay@gmr.com
30500 Mound Road
Warren, Mich. 48090

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From duncan@research.bell-labs.com  Mon Nov  4 18:54:47 2002
From: duncan@research.bell-labs.com (Duncan Temple Lang)
Date: Mon, 4 Nov 2002 13:54:47 -0500
Subject: R shell integration.
In-Reply-To: <200211041757.gA4HvAV25802@math.ma.gmr.com>; from jz0vs8@math.ma.gmr.com on Mon, Nov 04, 2002 at 12:57:10PM -0500
References: <3DC69653.8020209@lancaster.ac.uk> <200211041757.gA4HvAV25802@math.ma.gmr.com>
Message-ID: <20021104135447.F25720@jessie.research.bell-labs.com>

Hi Neil.

I was just thinking about this in the last few days. It might well be
nice to have this and encourage people to think of R as a regular
scripting language as well as an interactive session language. (We
also would want to try to streamline the startup time which is
gradually becoming possible.)

If you send me what you currently have for 1.5.0, I'd be happy to see
if we might include them in R or find a way to provide them as an
optional add-on.  Or if you want to update them for 1.6.1, that would
be great too and save me the trouble.

 D.

Neil McKay MD wrote:
> Barry Rowlinson writes:
> 
> > 
> > 
> > Wouldn't it be nice to be able to do this:
> > 
> >   ./analyse.R -gamma=2 <data.in >data.out
> > 
> > where analyse.R looks like this:
> > 
> > #!/usr/bin/R
> > 
> > gamma <- getopt("gamma")
> > mydata <- scan(...)
> > 
> > etc?  In other words, be able to write executable R scripts?
> > 
> 
> I have a patch for R that does exactly this. (Latest version's
> for R 1.5.0; haven't upgraded to 1.6 yet.) It turns out that it
> only requires a few minor changes to R, plus an additional 100-some
> lines of code. It allows me to write things like:
> 
> 	#!/usr/local/lib/R/bin/R.bin --script
> 
> 	cat("Hello world!\n")
> 
> 
> If anyone's interested in the patches, I'll upgrade them to R 1.6
> (which I should do anyway) and give them to you. It would be nice
> to have these patches pre-applied to the R sources so I don't have
> to maintain them myself. (Hint, hint.)
> 
> -- 
> Neil D. McKay, Mail Code 480-106-359    Phone: (586)986-1470 (GM:8-226-1470)
> Manufacturing Systems Research Lab      FAX:   (586)986-0574 (GM:8-226-0574)
> GM Research & Development Center        Internet e-mail: mckay@gmr.com
> 30500 Mound Road
> Warren, Mich. 48090
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
_______________________________________________________________

Duncan Temple Lang                duncan@research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From duncan@research.bell-labs.com  Mon Nov  4 20:45:13 2002
From: duncan@research.bell-labs.com (Duncan Temple Lang)
Date: Mon, 4 Nov 2002 15:45:13 -0500
Subject: seemingly random "nesting of readline input" warnings
In-Reply-To: <Pine.LNX.4.44.0211021007340.20950-100000@nokomis2.stat.umn.edu>; from luke@stat.uiowa.edu on Sat, Nov 02, 2002 at 10:11:37AM -0600
References: <x24rb0nx4k.fsf@biostat.ku.dk> <Pine.LNX.4.44.0211021007340.20950-100000@nokomis2.stat.umn.edu>
Message-ID: <20021104154512.G25720@jessie.research.bell-labs.com>

Luke Tierney wrote:
> On 2 Nov 2002, Peter Dalgaard BSA wrote:
> 
> > Argh. Yes, the ReadlineStack.current needs to be reset to zero by
> > something when you break out. A pragmatic temporary fix is to increase
> > the maximum to be large enough that you don't bump into it this
> > easily.
> > 
> > Duuuuncan! Come and fix this!
> > 

Done using a local signal handler that pops the readline stack and
then calls the regular handler. This should work for pretty much all
the cases of interest. There are issues with the very unusual cases.

Fix committed to R-devel. (Do we want it also on R-patches?)

> 
> Looks like another case where our expedient but unfortunately too
> crude approach of handling Control-C on UNIX-likes with longjmp is
> biting us.  We really do need to bite the bullet and fix this properly.
> Maybe Duncan and I can coordinate getting a handle on this.

Yes, indeed.

> 
> luke
> 
> -- 
> Luke Tierney
> University of Iowa                  Phone:             319-335-3386
> Department of Statistics and        Fax:               319-335-3017
>    Actuarial Science
> 241 Schaeffer Hall                  email:      luke@stat.uiowa.edu
> Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
_______________________________________________________________

Duncan Temple Lang                duncan@research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Nov  4 21:45:10 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Nov 2002 22:45:10 +0100
Subject: seemingly random "nesting of readline input" warnings
In-Reply-To: <20021104154512.G25720@jessie.research.bell-labs.com>
References: <x24rb0nx4k.fsf@biostat.ku.dk>
 <Pine.LNX.4.44.0211021007340.20950-100000@nokomis2.stat.umn.edu>
 <20021104154512.G25720@jessie.research.bell-labs.com>
Message-ID: <x2r8e157rt.fsf@biostat.ku.dk>

Duncan Temple Lang <duncan@research.bell-labs.com> writes:

> Luke Tierney wrote:
> > On 2 Nov 2002, Peter Dalgaard BSA wrote:
> > 
> > > Argh. Yes, the ReadlineStack.current needs to be reset to zero by
> > > something when you break out. A pragmatic temporary fix is to increase
> > > the maximum to be large enough that you don't bump into it this
> > > easily.
> > > 
> > > Duuuuncan! Come and fix this!
> > > 
> 
> Done using a local signal handler that pops the readline stack and
> then calls the regular handler. This should work for pretty much all
> the cases of interest. There are issues with the very unusual cases.
> 
> Fix committed to R-devel. (Do we want it also on R-patches?)

Eventually, provided it works. Let it ferment in R-devel for a
while till we're sure. Call me paranoid...

Btw, did this fix the noecho-tty-after-exit problem as well?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pchoquet@mat.ulaval.ca  Mon Nov  4 19:03:42 2002
From: pchoquet@mat.ulaval.ca (pchoquet@mat.ulaval.ca)
Date: Mon, 4 Nov 2002 20:03:42 +0100 (MET)
Subject: arima.sim (PR#2256)
Message-ID: <200211041903.UAA26040@pubhealth.ku.dk>

This is a multi-part message in MIME format.

------=_NextPart_000_0016_01C2840A.D3C68F60
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit

Hi,

when just simulating MA(1) series with

arima.sim(100, model=list( ma=0.8 ))

(in the ts package), I get sample ACF and  PACF like I had theta_1 < 0


for example, with acf(series[,i], 20, "correlation") or "partial",
I get : (see acf_R.emf)

and those should look like : (see ma1.JPG)

but they look more like : (see ma1wr.JPG)

This is not an exception and S-PLUS did not appear to do that.
And when I enter a theta_1 < 0, it gives results like I entered a theta_1 >
0.

I have R v1.5.1 ,S-PLUS v6.1


Philippe Choquette

------=_NextPart_000_0016_01C2840A.D3C68F60
Content-Type: application/x-zip-compressed;
	name="graph.zip"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
	filename="graph.zip"

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

------=_NextPart_000_0016_01C2840A.D3C68F60--


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Nov  5 13:21:39 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 5 Nov 2002 13:21:39 +0000 (GMT)
Subject: arima.sim (PR#2256)
In-Reply-To: <200211041903.UAA26040@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0211051319170.9168-100000@gannet.stats>

S-PLUS has an unusual parametrization.

See ?arima for that used by R.

Working as documented is not a bug in R!

On Mon, 4 Nov 2002 pchoquet@mat.ulaval.ca wrote:

> Hi,
>
> when just simulating MA(1) series with
>
> arima.sim(100, model=list( ma=0.8 ))
>
> (in the ts package), I get sample ACF and  PACF like I had theta_1 < 0
>
>
> for example, with acf(series[,i], 20, "correlation") or "partial",
> I get : (see acf_R.emf)
>
> and those should look like : (see ma1.JPG)
>
> but they look more like : (see ma1wr.JPG)
>
> This is not an exception and S-PLUS did not appear to do that.
> And when I enter a theta_1 < 0, it gives results like I entered a theta_1 >
> 0.
>
> I have R v1.5.1 ,S-PLUS v6.1

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From stvjc@channing.harvard.edu  Tue Nov  5 13:31:20 2002
From: stvjc@channing.harvard.edu (Vincent J. Carey, Jr.)
Date: Tue, 5 Nov 2002 08:31:20 -0500 (EST)
Subject: active pdf/annotated visualization RFC
Message-ID: <200211051331.IAA08040@falmouth.bwh.harvard.edu>


How can R users take advantage of the "active PDF" paradigm
for annotation of statistical graphics?  The basic objective
is to take a small number of locations on a graph and
hyperlink them -- add persistent information to the pdf
rendering of the graph so that when the user clicks
on the location, a browser is (started if necessary and) pointed
to a URL specified by the persistent information.

One possibility is to generate pdf graphical documents with the
existing PDF driver in R and use external software to introduce
active links.  We don't know at present what external software
would be useful for this.

Another possibility is to establish a "text" like function for
use with the pdf driver that allows the user to give vectors
of x and y coordinates and a vector of metadata to be bound to the
coordinates as active link targets.

--

This is a request for advice/comments/plans related to
annotated visualizations created with R but exportable to
non-R users.  Other graphical formats and
languages not mentioned here may be relevant and comments
to this effect are welcome.

-- 
---
Vince Carey, PhD
Ass't Prof Med (Biostatistics)
Harvard Medical School
Channing Laboratory - ph 6175252265 fa 6177311541 cell 8572126768
181 Longwood Ave Boston MA 02115 USA

stvjc@channing.harvard.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From B.Rowlingson@lancaster.ac.uk  Tue Nov  5 13:47:50 2002
From: B.Rowlingson@lancaster.ac.uk (Barry Rowlingson)
Date: Tue, 05 Nov 2002 13:47:50 +0000
Subject: active pdf/annotated visualization RFC
References: <200211051331.IAA08040@falmouth.bwh.harvard.edu>
Message-ID: <3DC7CC06.3010105@lancaster.ac.uk>

Vincent J. Carey, Jr. wrote:
> The basic objective
> is to take a small number of locations on a graph and
> hyperlink them -- add persistent information to the pdf
> rendering of the graph so that when the user clicks
> on the location, a browser is (started if necessary and) pointed
> to a URL specified by the persistent information.
>

  I'd save the graphic as a PNG and then use Gimp's Imagemap function to 
  define hyperlink areas on the image. Then Gimp writes out a chunk of 
HTML that you include in a web page.

  Imagemaps are the standard way of making parts of an image clickable, 
and are supported by all graphical browsers, and do not require 
proprietary PDF format documents.

  Here's a sample that displays plot.png and defines a circle that when 
clicked on takes you to 'data.html':

<IMG SRC="plot.png" WIDTH=505 HEIGHT=664 BORDER=0 USEMAP="#map">
<MAP NAME="map">
<AREA SHAPE="CIRCLE" COORDS="67,358,8" HREF="data.html">
</MAP>

  How can we integrate this with R? I guess that HREF's could be added 
to plot commands:

link[1] <- "data1.html" ; link[2] <- "data2.html" ; etc etc

plot(1:10,1:10,href=links)
text(5,5,"Click here for info",href="click.html")

  and then there would be a function that saves a graphic image (PNG 
file) and an HTML MAP specification.

  Blue sky thinking today.

Baz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From wolfram@fischer-zim.ch  Tue Nov  5 14:37:31 2002
From: wolfram@fischer-zim.ch (wolfram@fischer-zim.ch)
Date: Tue, 5 Nov 2002 15:37:31 +0100 (MET)
Subject: [R] grid(): defaults of nx and ny do not correspond with axis() (PR#2259)
Message-ID: <200211051437.PAA05167@pubhealth.ku.dk>

Problem:
    When tick marks are set by axis(), the default grid() does not always
    correspond with the tick marks, although the manual of grid() says:
    nx,ny: ... When `NULL', as per default, the grid aligns with the
           tick marks on the corresponding axis, when `NA', no grid
           lines are drawn in the corresponding direction.


Example:
    m <- 200; n <- 10; i <- 40
    plot( 1:n, sample( 1:m, n, T ), type='b', yaxt='n' )
    axis( side=2, at = seq( 0, m, i ), col='blue' )
    grid( col='red', lty=2 )


Wolfram Fischer

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.murrell@auckland.ac.nz  Wed Nov  6 02:01:59 2002
From: p.murrell@auckland.ac.nz (Paul Murrell)
Date: Wed, 06 Nov 2002 15:01:59 +1300
Subject: active pdf/annotated visualization RFC
References: <200211051331.IAA08040@falmouth.bwh.harvard.edu>
Message-ID: <3DC87817.21B6C5AA@stat.auckland.ac.nz>

Hi

In terms of related plans:  over the (southern) summer I plan to have a
student take a look at producing SVG output from R.  There are many
possibilities for embedding metadata within such output.  

You may want to talk to Naras (Balasubramanian Narasimhan
naras@stat.stanford.edu) who has worked on the SVG stuff a bit already
and has thought a bit about how to include the metadata.

Paul


"Vincent J. Carey, Jr." wrote:
> 
> How can R users take advantage of the "active PDF" paradigm
> for annotation of statistical graphics?  The basic objective
> is to take a small number of locations on a graph and
> hyperlink them -- add persistent information to the pdf
> rendering of the graph so that when the user clicks
> on the location, a browser is (started if necessary and) pointed
> to a URL specified by the persistent information.
> 
> One possibility is to generate pdf graphical documents with the
> existing PDF driver in R and use external software to introduce
> active links.  We don't know at present what external software
> would be useful for this.
> 
> Another possibility is to establish a "text" like function for
> use with the pdf driver that allows the user to give vectors
> of x and y coordinates and a vector of metadata to be bound to the
> coordinates as active link targets.
> 
> --
> 
> This is a request for advice/comments/plans related to
> annotated visualizations created with R but exportable to
> non-R users.  Other graphical formats and
> languages not mentioned here may be relevant and comments
> to this effect are welcome.
> 
> --
> ---
> Vince Carey, PhD
> Ass't Prof Med (Biostatistics)
> Harvard Medical School
> Channing Laboratory - ph 6175252265 fa 6177311541 cell 8572126768
> 181 Longwood Ave Boston MA 02115 USA
> 
> stvjc@channing.harvard.edu
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Dr Paul Murrell
Department of Statistics
The University of Auckland
Private Bag 92019
Auckland
New Zealand
64 9 3737599 x5392
paul@stat.auckland.ac.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Torsten.Hothorn@rzmail.uni-erlangen.de  Wed Nov  6 07:55:16 2002
From: Torsten.Hothorn@rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Wed, 6 Nov 2002 08:55:16 +0100 (MET)
Subject: Ansari-Bradley test (PR#2252)
In-Reply-To: <200211032238.XAA16125@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.21.0211060854300.28834-100000@artemis>



> Full_Name: Wei Xu
> Version: 1.5.1
> OS: WindowsME
> Submission from: (NULL) (63.215.238.92)
> 
> 
> The P-value for a two.sided test is not consistent with the confidence
> interval.
> For example, P-value=0.1372, but the 95% CI doesn't include the H0 value(1).
> 
> > x
>  [1] 0.80 0.83 1.89 1.04 1.45 1.38 1.91 1.64 0.73 1.46
> > y
> [1] 1.15 0.88 0.90 0.74 1.21
> > ansari.test(x,y,alternative="two.sided",conf.int=TRUE,conf.level=0.95)
> 
>         Ansari-Bradley test
> 
> data:  x and y 
> AB = 36, p-value = 0.1372
> alternative hypothesis: true ratio of scales is not equal to 1 
> 95 percent confidence interval:
>  1.081081 2.581081 
> sample estimates:
> ratio of scales 
>        1.972973 
> 

First: sorry for the delay but I was not able to solve this until now. 

Second: well, it is both a bug and a statistical problem, 
`ansari.test' should know about (a version that does is
attached). 

The truth is that x and y are assumed to be "appropriately centered" as
Bauer (1972) states (see the man page for the reference). The model is Y ~
G and X ~ F with

G(x) = F(x / s) (or the other way round ...)

without modelling the "shift". And your example reads

R> x <- c(0.80, 0.83, 1.89, 1.04, 1.45, 1.38, 1.91, 1.64, 0.73, 1.46)
R> y <- c(1.15, 0.88, 0.90, 0.74, 1.21)
R> summary(x)
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
 0.7300  0.8825  1.4150  1.3130  1.5950  1.9100 
R> summary(y)
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
  0.740   0.880   0.900   0.976   1.150   1.210 

so x seems to be larger on average. I think this corresponds to the
Behrens-Fisher problem in some way but I'm not aware of any literature...
The confidence set cannot be computed by inverting the test for your
(raw) data but currently `ansari.test' forces the computation be using 
the extreme values of the possible ratios (which should at least give a
warning).

Now (with ansari.test as attached)

R> print(ansari.test(x-mean(x),y-mean(y), conf.int=TRUE))

        Ansari-Bradley test

data:  x - mean(x) and y - mean(y) 
AB = 37, p-value = 0.2171
alternative hypothesis: true ratio of scales is not equal to 1 
95 percent confidence interval:
 0.6282051 6.0729167 
sample estimates:
ratio of scales 
       2.468075 

is consistent (using the median can cause problems with ties). Using the
mean seems to be ok (I just simulated some situations, I can give you
details if you like).

best,

Torsten

*************************************************************************

ansari.test <- function(x, ...) UseMethod("ansari.test")

# altered with respect to bug report 2252
# and some additional improvements

ansari.test.default <-
function(x, y, alternative = c("two.sided", "less", "greater"),
         exact = NULL, conf.int = FALSE, conf.level = 0.95, ...) 
{
    alternative <- match.arg(alternative)
    if(conf.int) {
        if(!((length(conf.level) == 1)
             && is.finite(conf.level)
             && (conf.level > 0)
             && (conf.level < 1)))
            stop("conf.level must be a single number between 0 and 1")
    }
    DNAME <- paste(deparse(substitute(x)), "and", deparse(substitute(y)))

    x <- x[complete.cases(x)]
    y <- y[complete.cases(y)]
    m <- length(x)
    if(m < 1)
        stop("not enough x observations")
    n <- length(y)
    if(n < 1)
        stop("not enough y observations")
    N <- m + n

    r <- rank(c(x, y))
    STATISTIC <- sum(pmin(r, N - r + 1)[seq(along = x)])
    TIES <- (length(r) != length(unique(r)))

    if(is.null(exact))
        exact <- ((m < 50) && (n < 50))

    if(exact && !TIES) {
        pansari <- function(q, m, n) {
            .C("pansari",
               as.integer(length(q)),
               p = as.double(q),
               as.integer(m),
               as.integer(n),
               PACKAGE = "ctest")$p
        }
        PVAL <-
            switch(alternative,
                   two.sided = {
                       if (STATISTIC > ((m + 1)^2 %/% 4
                                        + ((m * n) %/% 2) / 2))
                           p <- 1 - pansari(STATISTIC - 1, m, n)
                       else
                           p <- pansari(STATISTIC, m, n)
                       min(2 * p, 1)
                   },
                   less = 1 - pansari(STATISTIC - 1, m, n),
                   greater = pansari(STATISTIC, m, n))
        if (conf.int) {
            qansari <- function(p, m, n) {
                .C("qansari",
                   as.integer(length(p)),
                   q = as.double(p), 
                   as.integer(m),
                   as.integer(n),
                   PACKAGE = "ctest")$q
            }
            alpha <- 1 - conf.level
            x <- sort(x)
            y <- sort(y)
            ab <- function(sig) {
                rab <- rank(c(x/sig, y))
                sum(pmin(rab, N - rab + 1)[seq(along = x)])
            }
            ratio <- outer(x,y,"/")
            aratio <- ratio[ratio >= 0]
            sigma <- sort(aratio)

            cci <- function(alpha) {
              u <- absigma - qansari(alpha/2,  m, n) 
              l <- absigma - qansari(1 - alpha/2, m, n) 
              # check if the statistic exceeds both quantiles first
              uci <- NULL
              lci <- NULL                    
              if(length(u[u >= 0]) == 0) {
                  uci <- sigma[1]
                  warning("samples differ in location: confidence set maybe wrong")
              } 
              if (length(l[l > 0]) == 0) {
                  lci <- sigma[length(sigma)]
                  warning("samples differ in location: confidence set maybe wrong")
              }
              if (is.null(uci)) {
                  u[u < 0] <- NA
                  uci <- min(sigma[which(u == min(u, na.rm=TRUE))])
              }
              if (is.null(lci)) {
                  l[l <= 0] <- NA
                  lci <- max(sigma[which(l == min(l, na.rm=TRUE))])
              }
              # the process of the statistics does not need to be monotone
              # in sigma: check this and interchange quantiles.
              if (uci > lci) {
                  l <- absigma - qansari(alpha/2,  m, n)
                  u <- absigma - qansari(1 - alpha/2, m, n)
                  u[u < 0] <- NA
                  uci <- min(sigma[which(u == min(u, na.rm=TRUE))])
                  l[l <= 0] <- NA
                  lci <- max(sigma[which(l == min(l, na.rm=TRUE))])
               }
               c(uci, lci)
            }

            cint <- if(length(sigma) < 1) {
                warning("Cannot compute confidence interval")
                c(NA, NA)
            }
            else {
                # compute statistics directly: computing the steps is not
                # faster
                absigma <- sapply(sigma + c(diff(sigma)/2, sigma[length(sigma)]*1.01), ab)
                switch(alternative, two.sided = {
                    cci(alpha)
                }, greater= {
                    c(cci(alpha*2)[1], Inf)
                }, less= {
                    c(0, cci(alpha*2)[2])
                })
            }
            attr(cint, "conf.level") <- conf.level
            u <- absigma - qansari(0.5, m, n)
            sgr <- sigma[u <= 0]
            if (length(sgr) == 0) sgr <- NA
            else sgr <- max(sgr)
            sle <- sigma[u > 0]
            if (length(sle) == 0) sle <- NA
            else sle <- min(sle)
            ESTIMATE <- mean(c(sle, sgr))
        }
    }
    else {
        EVEN <- ((N %% 2) == 0)
        normalize <- function(s, r, TIES, m=length(x), n=length(y)) {
            z <- if(EVEN)
                s - m * (N + 2)/4
            else
                s - m * (N + 1)^2/(4 * N)
            if (!TIES) {
                SIGMA <- if(EVEN) 
                    sqrt((m * n * (N + 2) * (N - 2))/(48 * (N - 1)))
                else
                    sqrt((m * n * (N + 1) * (3 + N^2))/(48 * N^2))
            }
            else {
                r <- rle(sort(pmin(r, N - r + 1)))
                SIGMA <- if(EVEN) 
                    sqrt(m * n
                         * (16 * sum(r$l * r$v^2) - N * (N + 2)^2)
                         / (16 * N * (N - 1)))
                else
                    sqrt(m * n
                         * (16 * N * sum(r$l * r$v^2) - (N + 1)^4)
                         / (16 * N^2 * (N - 1)))
            }
            z / SIGMA
        }
        p <- pnorm(normalize(STATISTIC, r, TIES))
        PVAL <- switch(alternative,
                       two.sided = 2 * min(p, 1 - p),
                       less = 1 - p,
                       greater = p)
    
        if(conf.int && !exact) {
            alpha <- 1 - conf.level
            ab <- function(sig, zq) {
                r <- rank(c(x / sig, y))
                s <- sum(pmin(r, N -r + 1)[seq(along = x)])
                TIES <- (length(r) != length(unique(r)))
                normalize(s, r, TIES, length(x), length(y)) - zq
            }
            ## use uniroot here
            ## compute the range of sigma first 
            srangepos <- NULL
            srangeneg <- NULL
            if (any(x[x > 0]) && any(y[y > 0]))
                srangepos <- c(min(x[x>0], na.rm=TRUE)/max(y[y>0], na.rm=TRUE), 
                            max(x[x>0], na.rm=TRUE)/min(y[y>0], na.rm=TRUE))
            if (any(x[x <= 0]) && any(y[y < 0]))
                srangeneg <- c(min(x[x<=0], na.rm=TRUE)/max(y[y<0], na.rm=TRUE), 
                            max(x[x<=0], na.rm=TRUE)/min(y[y<0], na.rm=TRUE))
            if (any(is.infinite(c(srangepos, srangeneg)))) {
                warning("cannot compute asymptotic confidence intervals or estimator")
                conf.int <- FALSE
            } else {
                ccia <- function(alpha) {
                    # check if the statistic exceeds both quantiles first
                    statu <- ab(srange[1], zq=qnorm(alpha/2))
                    statl <- ab(srange[2], zq=qnorm(alpha/2, lower=FALSE))
                    if (statu > 0) {
                        u <- srange[1]
                        warning("samples differ in location: confidence set maybe wrong")
                    } else
                        u <- uniroot(ab, srange, tol=1e-4, zq=qnorm(alpha/2))$root
                    if (statl < 0) {
                        l <- srange[2]
                        warning("samples differ in location: confidence set maybe wrong")
                    } else 
                        l <- uniroot(ab, srange, tol=1e-4, zq=qnorm(alpha/2, lower=FALSE))$root
                    # the process of the statistics does not need to be
                    # monotone: sort is ok here
                    sort(c(u, l))
                }
                srange <- range(c(srangepos, srangeneg), na.rm=FALSE)
                cint <- switch(alternative, two.sided = {
                    ccia(alpha)
                }, greater= {
                    c(ccia(alpha*2)[1], Inf)
                }, less= {
                    c(0, ccia(alpha*2)[2])
                })
                attr(cint, "conf.level") <- conf.level
                # check if the statistic exceeds both quantiles first
                statu <- ab(srange[1], zq=0)
                statl <- ab(srange[2], zq=0)
                if (statu > 0 || statl < 0) {
                    ESTIMATE <- NA
                    warning("cannot compute estimate")
                } else
                    ESTIMATE <- uniroot(ab, srange, tol=1e-4, zq=0)$root
            }
        }
        if(exact && TIES) {
            warning("Cannot compute exact p-value with ties")
            if(conf.int)
                warning(paste("Cannot compute exact confidence",
                              "intervals with ties"))
        }
    }
    
    names(STATISTIC) <- "AB"
    RVAL <- list(statistic = STATISTIC,
                 p.value = PVAL,
                 null.value = c("ratio of scales" = 1),
                 alternative = alternative,
                 method = "Ansari-Bradley test",
                 data.name = DNAME)
    if(conf.int)
        RVAL <- c(RVAL,
                  list(conf.int = cint,
                       estimate = c("ratio of scales" = ESTIMATE)))
    class(RVAL) <- "htest"
    return(RVAL)
}

ansari.test.formula <-
function(formula, data, subset, na.action, ...)
{
    if(missing(formula)
       || (length(formula) != 3)
       || (length(attr(terms(formula[-2]), "term.labels")) != 1)
       || (length(attr(terms(formula[-3]), "term.labels")) != 1))
        stop("formula missing or incorrect")
    if(missing(na.action))
        na.action <- getOption("na.action")
    m <- match.call(expand.dots = FALSE)
    if(is.matrix(eval(m$data, parent.frame())))
        m$data <- as.data.frame(data)
    m[[1]] <- as.name("model.frame")
    m$... <- NULL
    mf <- eval(m, parent.frame())
    DNAME <- paste(names(mf), collapse = " by ")
    names(mf) <- NULL
    response <- attr(attr(mf, "terms"), "response")
    g <- factor(mf[[-response]])
    if(nlevels(g) != 2)
        stop("grouping factor must have exactly 2 levels")
    DATA <- split(mf[[response]], g)
    names(DATA) <- c("x", "y")
    y <- do.call("ansari.test", c(DATA, list(...)))
    y$data.name <- DNAME
    y
}

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From louisept@pweh.com  Thu Nov  7 00:47:52 2002
From: louisept@pweh.com (louisept@pweh.com)
Date: Thu, 7 Nov 2002 01:47:52 +0100 (MET)
Subject: rbind (PR#2266)
Message-ID: <200211070047.BAA18798@pubhealth.ku.dk>

Full_Name: Paul Louisell
Version: 1.6.0
OS: Windows NT
Submission from: (NULL) (192.249.47.9)


'rbind' does not work properly when one object is a data frame and the other is
a matrix. See the code below; this is copied directly from an R session. It
appears the objects need to be in the same class for rbind to work correctly.

> test=matrix(1:25, 5, 5)
> test=as.data.frame(test)
> test
  V1 V2 V3 V4 V5
1  1  6 11 16 21
2  2  7 12 17 22
3  3  8 13 18 23
4  4  9 14 19 24
5  5 10 15 20 25
> test1=matrix(-(1:10), 2, 5)
> test1
     [,1] [,2] [,3] [,4] [,5]
[1,]   -1   -3   -5   -7   -9
[2,]   -2   -4   -6   -8  -10
> rbind(test, test1)
  V1 V2 V3 V4 V5
1  1  6 11 16 21
2  2  7 12 17 22
3  3  8 13 18 23
4  4  9 14 19 24
5  5 10 15 20 25
6 -1 -2 -3 -4 -5
> rbind(as.matrix(test), test1)
  V1 V2 V3 V4  V5
1  1  6 11 16  21
2  2  7 12 17  22
3  3  8 13 18  23
4  4  9 14 19  24
5  5 10 15 20  25
  -1 -3 -5 -7  -9
  -2 -4 -6 -8 -10
> rbind(test, as.data.frame(test1))
   V1 V2 V3 V4  V5
1   1  6 11 16  21
2   2  7 12 17  22
3   3  8 13 18  23
4   4  9 14 19  24
5   5 10 15 20  25
11 -1 -3 -5 -7  -9
22 -2 -4 -6 -8 -10


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Nov  7 21:14:24 2002
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 07 Nov 2002 16:14:24 -0500
Subject: checking package version
Message-ID: <3DCAD7B0.9BDB6F68@bank-banque-canada.ca>

I would like to check the version of a package from a running R session. Is
there a recommended/preferred, system independent way to do this?

Paul Gilbert
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dj@research.bell-labs.com  Thu Nov  7 21:44:58 2002
From: dj@research.bell-labs.com (David James)
Date: Thu, 7 Nov 2002 16:44:58 -0500
Subject: checking package version
In-Reply-To: <3DCAD7B0.9BDB6F68@bank-banque-canada.ca>; from pgilbert@bank-banque-canada.ca on Thu, Nov 07, 2002 at 04:14:24PM -0500
References: <3DCAD7B0.9BDB6F68@bank-banque-canada.ca>
Message-ID: <20021107164458.A19968@jessie.research.bell-labs.com>

Paul Gilbert wrote:
> I would like to check the version of a package from a running R session. Is
> there a recommended/preferred, system independent way to do this?

I use 

> package.description("eda", fields="Version")
[1] "1.5.1"

but you may still need to parse the string to get major/minor details.

> 
> Paul Gilbert
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
David A. James
Statistics Research, Room 2C-253            Phone:  (908) 582-3082       
Bell Labs, Lucent Technologies              Fax:    (908) 582-3340
Murray Hill, NJ 09794-0636
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bolker@zoo.ufl.edu  Fri Nov  8 14:05:42 2002
From: bolker@zoo.ufl.edu (Ben Bolker)
Date: Fri, 8 Nov 2002 09:05:42 -0500 (EST)
Subject: behavior of =
Message-ID: <Pine.LNX.4.44.0211080855020.23711-100000@bolker.zoo.ufl.edu>


  I probably didn't follow the discussion of allowing "=" as an assignment 
operator closely enough, but I was a little bit horrified to discover 
today (using 1.6.0; I haven't upgraded to 1.6.1 yet) that

x <- runif(20)
y <- 1:20
y[x=min(x)]

gives numeric(0) (because min(x) is non-integer).

x <- sample(1:20,20,TRUE)
y[x=min(x)]

is even worse -- it gives the "wrong" answer. I know exactly what's going
on here (the = in the subsetting statement above was a typo for ==), and I
should have known better, but I felt like I was programming in C again!

I know that the designers tried to build in safeguards (from the man 
page):

   the `=' is only allowed at the top level (that is, in the complete
   expression typed by the user) or as one of the subexpressions in a 
   braced list of expressions. 

These safeguards don't prevent the mishap shown above.  Is there any way 
to detect this case syntactically (check for assignments inside subsetting 
operations??), or will I just have to train my students to watch out for 
this possibility?

----
318 Carr Hall                                bolker@zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jmc@research.bell-labs.com  Fri Nov  8 14:15:21 2002
From: jmc@research.bell-labs.com (John Chambers)
Date: Fri, 08 Nov 2002 09:15:21 -0500
Subject: behavior of =
References: <Pine.LNX.4.44.0211080855020.23711-100000@bolker.zoo.ufl.edu>
Message-ID: <3DCBC6F9.B83C534C@research.bell-labs.com>

It's a real confusion, but don't blame it on the use of "=" as an
assignment operator.

It's all the fault of having named arguments, which goes way back to the
dawn of time.

What you said (as opposed to what, of course, you meant) was that the
argument called "x" to "[" had the value of min(x).

The clue is that after evaluating the expression, x is unchanged
(distinctly NOT the case for the infamous C equivalent).

R> x <- runif(20)
R> y <- 1:20
R> y[x = min(x)]
numeric(0)
R> x
 [1] 0.1452749 0.4936352 0.7872399 0.4377552 0.4072236 0.4416220
0.4748017
 [8] 0.8523369 0.8870081 0.7401091 0.1480467 0.3367802 0.3825770
0.3596608
[15] 0.1040230 0.6873980 0.2974596 0.9955219 0.3217589 0.2199942

Unfortunately, the implementation of "[" doesn't check argument names
(plausibly a bug).  To see the situation more clearly, use the sort
function, whose first argument is "x".

R> sort(x=min(x))
[1] 0.1040230
which is puzzling, but:

R> sort(y=5)
Error in sort(y = 5) : unused argument(s) (y ...)

All the same, it's a useful example for a "what went wrong" FAQ.


Ben Bolker wrote:
> 
>   I probably didn't follow the discussion of allowing "=" as an assignment
> operator closely enough, but I was a little bit horrified to discover
> today (using 1.6.0; I haven't upgraded to 1.6.1 yet) that
> 
> x <- runif(20)
> y <- 1:20
> y[x=min(x)]
> 
> gives numeric(0) (because min(x) is non-integer).
> 
> x <- sample(1:20,20,TRUE)
> y[x=min(x)]
> 
> is even worse -- it gives the "wrong" answer. I know exactly what's going
> on here (the = in the subsetting statement above was a typo for ==), and I
> should have known better, but I felt like I was programming in C again!
> 
> I know that the designers tried to build in safeguards (from the man
> page):
> 
>    the `=' is only allowed at the top level (that is, in the complete
>    expression typed by the user) or as one of the subexpressions in a
>    braced list of expressions.
> 
> These safeguards don't prevent the mishap shown above.  Is there any way
> to detect this case syntactically (check for assignments inside subsetting
> operations??), or will I just have to train my students to watch out for
> this possibility?
> 
> ----
> 318 Carr Hall                                bolker@zoo.ufl.edu
> Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
> Box 118525                                   (ph)  352-392-5697
> Gainesville, FL 32611-8525                   (fax) 352-392-3704
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
John M. Chambers                  jmc@bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From mschwartz@medanalytics.com  Fri Nov  8 14:53:13 2002
From: mschwartz@medanalytics.com (Marc Schwartz)
Date: Fri, 8 Nov 2002 08:53:13 -0600
Subject: behavior of =
In-Reply-To: <3DCBC6F9.B83C534C@research.bell-labs.com>
Message-ID: <004b01c28736$90df4410$0201a8c0@MARC>

> -----Original Message-----
> From: owner-r-devel@stat.math.ethz.ch 
> [mailto:owner-r-devel@stat.math.ethz.ch] On Behalf Of John Chambers
> Sent: Friday, November 08, 2002 8:15 AM
> To: bolker@zoo.ufl.edu
> Cc: R development mailing list
> Subject: Re: behavior of =
> 
> 
> It's a real confusion, but don't blame it on the use of "=" 
> as an assignment operator.
> 
> It's all the fault of having named arguments, which goes way 
> back to the dawn of time.
> 
> What you said (as opposed to what, of course, you meant) was 
> that the argument called "x" to "[" had the value of min(x).
> 
> The clue is that after evaluating the expression, x is 
> unchanged (distinctly NOT the case for the infamous C equivalent).
> 
> R> x <- runif(20)
> R> y <- 1:20
> R> y[x = min(x)]
> numeric(0)
> R> x
>  [1] 0.1452749 0.4936352 0.7872399 0.4377552 0.4072236 
> 0.4416220 0.4748017  [8] 0.8523369 0.8870081 0.7401091 
> 0.1480467 0.3367802 0.3825770 0.3596608 [15] 0.1040230 
> 0.6873980 0.2974596 0.9955219 0.3217589 0.2199942
> 
> Unfortunately, the implementation of "[" doesn't check 
> argument names (plausibly a bug).  To see the situation more 
> clearly, use the sort function, whose first argument is "x".
> 
> R> sort(x=min(x))
> [1] 0.1040230
> which is puzzling, but:
> 
> R> sort(y=5)
> Error in sort(y = 5) : unused argument(s) (y ...)
> 
> All the same, it's a useful example for a "what went wrong" FAQ.
> 
> 
> Ben Bolker wrote:
> > 
> >   I probably didn't follow the discussion of allowing "=" as an 
> > assignment operator closely enough, but I was a little bit 
> horrified 
> > to discover today (using 1.6.0; I haven't upgraded to 1.6.1 
> yet) that
> > 
> > x <- runif(20)
> > y <- 1:20
> > y[x=min(x)]
> > 
> > gives numeric(0) (because min(x) is non-integer).
> > 
> > x <- sample(1:20,20,TRUE)
> > y[x=min(x)]
> > 
> > is even worse -- it gives the "wrong" answer. I know exactly what's 
> > going on here (the = in the subsetting statement above was 
> a typo for 
> > ==), and I should have known better, but I felt like I was 
> programming 
> > in C again!
> > 
> > I know that the designers tried to build in safeguards (from the man
> > page):
> > 
> >    the `=' is only allowed at the top level (that is, in 
> the complete
> >    expression typed by the user) or as one of the 
> subexpressions in a
> >    braced list of expressions.
> > 
> > These safeguards don't prevent the mishap shown above.  Is 
> there any 
> > way to detect this case syntactically (check for assignments inside 
> > subsetting operations??), or will I just have to train my 
> students to 
> > watch out for this possibility?

FWIW, presuming that you and your students may be using an external
editor that supports syntax highlighting for coding, you can set up the
highlighting such that the assigment operators are specifically colored
to make them more readily visible. I recall a discussion here akin to
this earlier this year when the "_" assignment operator subject came up.

I am presently using Multi-Edit 9 under WinXP Pro, but am in the process
of switching to Linux and am still wrestling with (X)ESS vs.gVim vs
running Multi-Edit using Wine, but that's another issue.

In either case, I have set up the syntax highlighting in Multi-Edit such
that the assignment operators are bolded and colored red to stand out
against surrounding code. This has helped me greatly in avoiding exactly
the type of error that you are discussing and has saved me much time in
debugging code.

Marc


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Fri Nov  8 15:02:13 2002
From: edd@debian.org (edd@debian.org)
Date: Fri, 8 Nov 2002 16:02:13 +0100 (MET)
Subject: Bug#168259: r-base-core: help.start() assumes netscape is installed (PR#2275)
Message-ID: <200211081502.QAA09163@pubhealth.ku.dk>



> Package: r-base-core
> Version: 1.5.1-0woody1
> Severity: minor
> 
> I don't have Netscape on my system. Trying to follow the sample

To best of my knowledge, this R feature dates from a time when 
Netscape was essentially the only browser out there. It also had 
a most useful feature: you could attach new request (resulting in
a new "frame" in X11 / window manager parlance) to a running Netscape 
making startup for this request /much/ faster than starting a new 
Netscape executable.

This feature lacks in other browsers which is why no one was able
to write a wrapper script around netscape, mozilla, galeon, konqueror,...
and pick whichever is found.

> session in the R Intro fails with a less than helpful error message:

Then this should be fixed in the R Intro -- maybe a line could be added
suggesting that the   browser="foo"   options may be needed to switch
away from netscape?

> Type `demo()' for some demos, `help()' for on-line help, or
> `help.start()' for a HTML browser interface to help.
> Type `q()' to quit R.
> 
> > help.start()
> Making links in ~/.R ...
> If netscape is already running, it is *not* restarted, and you must
>     switch to its window.
> Otherwise, be patient ...
> > sh: netscape: command not found
> 
> 
> Could some heuristic be put in place to use whatever is installed
> rather than blindly hope Netscape will be there? I thought I even saw

This has been discussed on the R lists, but as I recall, no consensus
was reached for the reasons outlined above.

> something about an /etc/alternatives mechanism for selecting a web
> browser but this does not seem to exist (yet?)

Now you're switching from a generic R problem to a Debian specific
solution -- but yes I may be able to do that. However, what we would
really need is a wrapper like, say, sensible-browser akin to the 
existing sensible-paper and sensible-editor.  Now, as I said above,
this will likely be difficult or impossible to do well, so nobody
did it.

Also, /etc/alternatives is designed to switch between variants of the
same program: emacs as a choice between emacs20 and emacs21, netscape
as one between static motif and other linkage variants, ... whereas
sensible-$FOO is a wrapper around different programs doing $FOO.

> Failing that, perhaps the program could check for the existence of
> Netscape before attempting to launch it, and display a suitable error
> message if it is not installed (hopefully with instructions for how to
> override).

Yes, but that is tough to do portably on Unix, Max, Win, ... where R
runs.

> I was lucky enough to fairly quickly find an example of how to work
> around this in Google; for the record, help.start(browser='mozilla')
> worked for me, and apparently R will now remember to use Mozilla in
> the future on my account.

Only for the running session. Set 
  options(browser="mozilla")
in ~/.Rprofile to make it truly permanent.

> Sorry if this is already fixed in testing/unstable.

No, I'd call it one of the "unfixable" ones.

Regards,  Dirk



>
> /* era */
> 
> -- 
> Join the civilized world -- ban spam like we did! <http://www.euro.cauce.org/>
>    tee -a $HOME/.signature <$HOME/.plan >http://www.iki.fi/era/index.html
> 
> 
> 
> 

-- 
According to the latest figures, 43% of all signatures are totally worthless.   

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From phgrosje@ulb.ac.be  Fri Nov  8 15:24:15 2002
From: phgrosje@ulb.ac.be (Philippe Grosjean)
Date: Fri, 8 Nov 2002 16:24:15 +0100
Subject: behavior of =
In-Reply-To: <3DCBC6F9.B83C534C@research.bell-labs.com>
Message-ID: <MABBLJDICACNFOLGIHJOOEKIDAAA.phgrosje@ulb.ac.be>

Deprecating '_' for assignment in the perspective of reusing it in variables
names is nice (not just a personal impression bacause it is also common in
other languages). I am fighting too often with unreadable codes like
var_value, even without spaces before and after '_'!!!
Addition of '=' for assignment is nice too (also commonly used in other
languages), except for this problem with named arguments...! I know this is
a major change that would require patching all R code, but perhaps a
solution would be to replace '=' in named arguments with something else,...
('_'  for instance.. no, I am kidding!). But perhaps, ':=' would be a nice
candidate. So:

foo(a=b)  # Assignment of b to a, and a is passed as first argument to
function foo()
foo(a:=b) # b is passed to the named argument 'a' of function foo()

Best,

Philippe Grosjean

...........]<(({?<...............<?}))><...............................
( ( ( ( (
 ) ) ) ) )      Philippe Grosjean
( ( ( ( (
 ) ) ) ) )      IFREMER Nantes - DEL/AO
( ( ( ( (       rue de l'Ile d'Yeu, BP 21105, 44311 Nantes Cedex 3
 ) ) ) ) )      tel: (33) 02.40.37.42.29, fax: (33) 02.40.37.42.41
( ( ( ( (	    e-mail: philippe.grosjean@ifremer.fr
 ) ) ) ) )
( ( ( ( (       "I'm 100% confident that p is between 0 and 1"
 ) ) ) ) )                                L. Gonick & W. Smith (1993)
.......................................................................


-----Message d'origine-----
De : owner-r-devel@stat.math.ethz.ch
[mailto:owner-r-devel@stat.math.ethz.ch]De la part de John Chambers
Envoye : vendredi 8 novembre 2002 15:15
A : bolker@zoo.ufl.edu
Cc : R development mailing list
Objet : Re: behavior of =


It's a real confusion, but don't blame it on the use of "=" as an
assignment operator.

It's all the fault of having named arguments, which goes way back to the
dawn of time.

What you said (as opposed to what, of course, you meant) was that the
argument called "x" to "[" had the value of min(x).

The clue is that after evaluating the expression, x is unchanged
(distinctly NOT the case for the infamous C equivalent).

R> x <- runif(20)
R> y <- 1:20
R> y[x = min(x)]
numeric(0)
R> x
 [1] 0.1452749 0.4936352 0.7872399 0.4377552 0.4072236 0.4416220
0.4748017
 [8] 0.8523369 0.8870081 0.7401091 0.1480467 0.3367802 0.3825770
0.3596608
[15] 0.1040230 0.6873980 0.2974596 0.9955219 0.3217589 0.2199942

Unfortunately, the implementation of "[" doesn't check argument names
(plausibly a bug).  To see the situation more clearly, use the sort
function, whose first argument is "x".

R> sort(x=min(x))
[1] 0.1040230
which is puzzling, but:

R> sort(y=5)
Error in sort(y = 5) : unused argument(s) (y ...)

All the same, it's a useful example for a "what went wrong" FAQ.


Ben Bolker wrote:
>
>   I probably didn't follow the discussion of allowing "=" as an assignment
> operator closely enough, but I was a little bit horrified to discover
> today (using 1.6.0; I haven't upgraded to 1.6.1 yet) that
>
> x <- runif(20)
> y <- 1:20
> y[x=min(x)]
>
> gives numeric(0) (because min(x) is non-integer).
>
> x <- sample(1:20,20,TRUE)
> y[x=min(x)]
>
> is even worse -- it gives the "wrong" answer. I know exactly what's going
> on here (the = in the subsetting statement above was a typo for ==), and I
> should have known better, but I felt like I was programming in C again!
>
> I know that the designers tried to build in safeguards (from the man
> page):
>
>    the `=' is only allowed at the top level (that is, in the complete
>    expression typed by the user) or as one of the subexpressions in a
>    braced list of expressions.
>
> These safeguards don't prevent the mishap shown above.  Is there any way
> to detect this case syntactically (check for assignments inside subsetting
> operations??), or will I just have to train my students to watch out for
> this possibility?
>
> ----
> 318 Carr Hall                                bolker@zoo.ufl.edu
> Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
> Box 118525                                   (ph)  352-392-5697
> Gainesville, FL 32611-8525                   (fax) 352-392-3704
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-devel mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

--
John M. Chambers                  jmc@bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From h95mr@mun.ca  Fri Nov  8 15:28:51 2002
From: h95mr@mun.ca (h95mr@mun.ca)
Date: Fri, 8 Nov 2002 16:28:51 +0100 (MET)
Subject: Mac specific - quartz leads to crash (PR#2276)
Message-ID: <200211081528.QAA09427@pubhealth.ku.dk>

Full_Name: Martin Renner
Version: 1.6.0
OS: MacOS X 10.2.1
Submission from: (NULL) (134.153.109.176)


Opening a new graphics device with quartz () produces a quartz window but it
cannot be resized, there's no red close-button and R usually crashes within the
next 20 seconds (unexpectedly quit). Also, I can't copy this window (copy does
not do anything, old clipboard is not replaced). 

Thank you,

Martin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Nov  8 15:51:10 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 8 Nov 2002 15:51:10 +0000 (GMT)
Subject: (PR#2275) Re: Bug#168259: r-base-core: help.start() assumes netscape
 is installed
In-Reply-To: <200211081502.QAA09163@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0211081545310.10657-100000@gannet.stats>

Note that this only a problem for pre-compiled versions of R used on
machines other than the one on which it was compiled. For those compiling
from source, the configure script selects a browser.  So almost all the
analysis is based on incorrect assumptions.

What you seem to want is run-time rather than compile-time automated
selection.

On Fri, 8 Nov 2002 edd@debian.org wrote:

>
>
> > Package: r-base-core
> > Version: 1.5.1-0woody1
> > Severity: minor
> >
> > I don't have Netscape on my system. Trying to follow the sample
>
> To best of my knowledge, this R feature dates from a time when
> Netscape was essentially the only browser out there. It also had
> a most useful feature: you could attach new request (resulting in
> a new "frame" in X11 / window manager parlance) to a running Netscape
> making startup for this request /much/ faster than starting a new
> Netscape executable.

and netscape no longer allows multiple executables to run.

> This feature lacks in other browsers which is why no one was able
> to write a wrapper script around netscape, mozilla, galeon, konqueror,...
> and pick whichever is found.
>
> > session in the R Intro fails with a less than helpful error message:
>
> Then this should be fixed in the R Intro -- maybe a line could be added
> suggesting that the   browser="foo"   options may be needed to switch
> away from netscape?

Nope, what's in R-intro works everywhere R was compiled from source.
It's a Debian (etc) problem.

> > Type `demo()' for some demos, `help()' for on-line help, or
> > `help.start()' for a HTML browser interface to help.
> > Type `q()' to quit R.
> >
> > > help.start()
> > Making links in ~/.R ...
> > If netscape is already running, it is *not* restarted, and you must
> >     switch to its window.
> > Otherwise, be patient ...
> > > sh: netscape: command not found
> >
> >
> > Could some heuristic be put in place to use whatever is installed
> > rather than blindly hope Netscape will be there? I thought I even saw

Again, that's not what happens.

> This has been discussed on the R lists, but as I recall, no consensus
> was reached for the reasons outlined above.
>
> > something about an /etc/alternatives mechanism for selecting a web
> > browser but this does not seem to exist (yet?)
>
> Now you're switching from a generic R problem to a Debian specific
> solution -- but yes I may be able to do that. However, what we would
> really need is a wrapper like, say, sensible-browser akin to the
> existing sensible-paper and sensible-editor.  Now, as I said above,
> this will likely be difficult or impossible to do well, so nobody
> did it.
>
> Also, /etc/alternatives is designed to switch between variants of the
> same program: emacs as a choice between emacs20 and emacs21, netscape
> as one between static motif and other linkage variants, ... whereas
> sensible-$FOO is a wrapper around different programs doing $FOO.
>
> > Failing that, perhaps the program could check for the existence of
> > Netscape before attempting to launch it, and display a suitable error
> > message if it is not installed (hopefully with instructions for how to
> > override).
>
> Yes, but that is tough to do portably on Unix, Max, Win, ... where R
> runs.
>
> > I was lucky enough to fairly quickly find an example of how to work
> > around this in Google; for the record, help.start(browser='mozilla')
> > worked for me, and apparently R will now remember to use Mozilla in
> > the future on my account.
>
> Only for the running session. Set
>   options(browser="mozilla")
> in ~/.Rprofile to make it truly permanent.
>
> > Sorry if this is already fixed in testing/unstable.
>
> No, I'd call it one of the "unfixable" ones.
>
> Regards,  Dirk
>
>
>
> >
> > /* era */
> >
> > --
> > Join the civilized world -- ban spam like we did! <http://www.euro.cauce.org/>
> >    tee -a $HOME/.signature <$HOME/.plan >http://www.iki.fi/era/index.html
> >
> >
> >
> >
>
> --
> According to the latest figures, 43% of all signatures are totally worthless.
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Fri Nov  8 15:57:23 2002
From: edd@debian.org (Dirk Eddelbuettel)
Date: Fri, 08 Nov 2002 09:57:23 -0600
Subject: (PR#2275) Re: Bug#168259: r-base-core: help.start() assumes netscape is installed
Message-ID: <E18ABVb-0001Ko-00@sonny.eddelbuettel.com>



> Note that this only a problem for pre-compiled versions of R used on
> machines other than the one on which it was compiled. For those compiling
> from source, the configure script selects a browser.  So almost all the
> analysis is based on incorrect assumptions.
> 
> What you seem to want is run-time rather than compile-time automated
> selection.

Thanks for setting me straight.  This will help in fixing it, then!

> On Fri, 8 Nov 2002 edd@debian.org wrote:
> 
> >
> >
> > > Package: r-base-core
> > > Version: 1.5.1-0woody1
> > > Severity: minor
> > >
> > > I don't have Netscape on my system. Trying to follow the sample
> >
> > To best of my knowledge, this R feature dates from a time when
> > Netscape was essentially the only browser out there. It also had
> > a most useful feature: you could attach new request (resulting in
> > a new "frame" in X11 / window manager parlance) to a running Netscape
> > making startup for this request /much/ faster than starting a new
> > Netscape executable.
> 
> and netscape no longer allows multiple executables to run.

Right.

> > This feature lacks in other browsers which is why no one was able
> > to write a wrapper script around netscape, mozilla, galeon, konqueror,...
> > and pick whichever is found.
> >
> > > session in the R Intro fails with a less than helpful error message:
> >
> > Then this should be fixed in the R Intro -- maybe a line could be added
> > suggesting that the   browser="foo"   options may be needed to switch
> > away from netscape?
> 
> Nope, what's in R-intro works everywhere R was compiled from source.
> It's a Debian (etc) problem.

Ok, so please close the R bug report in that case. I will take care of the
Debian issue -- if it turns out that I can do something useful for the 
RedHat, SuSE, Mandrake, ... guys I will surely let them know.

Dirk

> > > Type `demo()' for some demos, `help()' for on-line help, or
> > > `help.start()' for a HTML browser interface to help.
> > > Type `q()' to quit R.
> > >
> > > > help.start()
> > > Making links in ~/.R ...
> > > If netscape is already running, it is *not* restarted, and you must
> > >     switch to its window.
> > > Otherwise, be patient ...
> > > > sh: netscape: command not found
> > >
> > >
> > > Could some heuristic be put in place to use whatever is installed
> > > rather than blindly hope Netscape will be there? I thought I even saw
> 
> Again, that's not what happens.
> 
> > This has been discussed on the R lists, but as I recall, no consensus
> > was reached for the reasons outlined above.
> >
> > > something about an /etc/alternatives mechanism for selecting a web
> > > browser but this does not seem to exist (yet?)
> >
> > Now you're switching from a generic R problem to a Debian specific
> > solution -- but yes I may be able to do that. However, what we would
> > really need is a wrapper like, say, sensible-browser akin to the
> > existing sensible-paper and sensible-editor.  Now, as I said above,
> > this will likely be difficult or impossible to do well, so nobody
> > did it.
> >
> > Also, /etc/alternatives is designed to switch between variants of the
> > same program: emacs as a choice between emacs20 and emacs21, netscape
> > as one between static motif and other linkage variants, ... whereas
> > sensible-$FOO is a wrapper around different programs doing $FOO.
> >
> > > Failing that, perhaps the program could check for the existence of
> > > Netscape before attempting to launch it, and display a suitable error
> > > message if it is not installed (hopefully with instructions for how to
> > > override).
> >
> > Yes, but that is tough to do portably on Unix, Max, Win, ... where R
> > runs.
> >
> > > I was lucky enough to fairly quickly find an example of how to work
> > > around this in Google; for the record, help.start(browser='mozilla')
> > > worked for me, and apparently R will now remember to use Mozilla in
> > > the future on my account.
> >
> > Only for the running session. Set
> >   options(browser="mozilla")
> > in ~/.Rprofile to make it truly permanent.
> >
> > > Sorry if this is already fixed in testing/unstable.
> >
> > No, I'd call it one of the "unfixable" ones.
> >
> > Regards,  Dirk
> >
> >
> >
> > >
> > > /* era */
> > >
> > > --
> > > Join the civilized world -- ban spam like we did! <http://www.euro.cauce.org/>
> > >    tee -a $HOME/.signature <$HOME/.plan >http://www.iki.fi/era/index.html
> > >
> > >
> > >
> > >
> >
> > --
> > According to the latest figures, 43% of all signatures are totally worthless.
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 
> 
> 

-- 
According to the latest figures, 43% of all signatures are totally worthless.   
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Fri Nov  8 16:17:12 2002
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Fri, 8 Nov 2002 08:17:12 -0800 (PST)
Subject: behavior of =
In-Reply-To: <MABBLJDICACNFOLGIHJOOEKIDAAA.phgrosje@ulb.ac.be>
Message-ID: <Pine.A41.4.44.0211080813030.108822-100000@homer40.u.washington.edu>

On Fri, 8 Nov 2002, Philippe Grosjean wrote:

> Deprecating '_' for assignment in the perspective of reusing it in variables
> names is nice (not just a personal impression bacause it is also common in
> other languages). I am fighting too often with unreadable codes like
> var_value, even without spaces before and after '_'!!!
> Addition of '=' for assignment is nice too (also commonly used in other
> languages), except for this problem with named arguments...! I know this is
> a major change that would require patching all R code, but perhaps a
> solution would be to replace '=' in named arguments with something else,...
> ('_'  for instance.. no, I am kidding!). But perhaps, ':=' would be a nice
> candidate. So:
>
> foo(a=b)  # Assignment of b to a, and a is passed as first argument to
> function foo()
> foo(a:=b) # b is passed to the named argument 'a' of function foo()
>

Not only would this require rewriting essentially every piece of R code
ever written, but even worse, := is used in other languages (and in the
prehistory of R) as an assignment operator so it would be even less clear
than the current situation.

For this transition, unlike disposing of '_', there would be no way to
write code (including simple data analyses) that worked before and after
the change.

You can't get there from here (and I'm not convinced you want to).

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossini@u.washington.edu  Fri Nov  8 16:41:57 2002
From: rossini@u.washington.edu (A.J. Rossini)
Date: 08 Nov 2002 08:41:57 -0800
Subject: behavior of =
In-Reply-To: <MABBLJDICACNFOLGIHJOOEKIDAAA.phgrosje@ulb.ac.be>
References: <MABBLJDICACNFOLGIHJOOEKIDAAA.phgrosje@ulb.ac.be>
Message-ID: <87lm44814a.fsf@jeeves.blindglobe.net>

>>>>> "philippe" == Philippe Grosjean <phgrosje@ulb.ac.be> writes:

    philippe> Deprecating '_' for assignment in the perspective of reusing it in variables
    philippe> names is nice (not just a personal impression bacause it is also common in
    philippe> other languages). I am fighting too often with unreadable codes like
    philippe> var_value, even without spaces before and after '_'!!!
    philippe> Addition of '=' for assignment is nice too (also commonly used in other
    philippe> languages), except for this problem with named arguments...! I know this is
    philippe> a major change that would require patching all R code, but perhaps a
    philippe> solution would be to replace '=' in named arguments with something else,...
    philippe> ('_'  for instance.. no, I am kidding!). But perhaps, ':=' would be a nice
    philippe> candidate. So:

    philippe> foo(a=b)  # Assignment of b to a, and a is passed as first argument to
    philippe> function foo()
    philippe> foo(a:=b) # b is passed to the named argument 'a' of function foo()

No, no, no.

While I can see depreciating "_" as assignment, I would seriously
worry about reusing it in variable names, breaking old code and all of
that.  Currently, we've got "."  for separation if you need it.
Sure, other languages use it for methods, and in a sense, so does S3
classes, but it's what you are given.

The "<-" assignment operator is beautiful.  It's taken me over a
decade, but I have come to appreciate it.  It isn't common, and there
are fewer and fewer ex-APL'ers, but I think it's a great choice.

The use of "=" for named arguments in a function call signature makes
sense, and the use of "==" for equality makes sense.

But syntactical sugar should only be messed with if broken (and yes,
this may be one of the few points that I'd disagree with John; I wish
he'd never introduced "=" as a possible assignment).

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini@u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini@scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From phgrosje@ulb.ac.be  Fri Nov  8 16:56:14 2002
From: phgrosje@ulb.ac.be (Philippe Grosjean)
Date: Fri, 8 Nov 2002 17:56:14 +0100
Subject: behavior of =
In-Reply-To: <Pine.A41.4.44.0211080813030.108822-100000@homer40.u.washington.edu>
Message-ID: <MABBLJDICACNFOLGIHJOIEKMDAAA.phgrosje@ulb.ac.be>

>Not only would this require rewriting essentially every piece of R code
>ever written, but even worse, := is used in other languages (and in the
>prehistory of R) as an assignment operator so it would be even less clear
>than the current situation.

>For this transition, unlike disposing of '_', there would be no way to
>write code (including simple data analyses) that worked before and after
>the change.

>You can't get there from here (and I'm not convinced you want to).

>	-thomas

Right. But then, may be another (group of) characters could replace '=' for
named argument, eliminating the ambiguity with the assignment. What about
'::' foo(arg::value). In a first stage, '::' could become an alternative to
'=' for named arguments (and during this transition, the problem with
assigment still remains, of course). Then, in the next major release, '=' is
deprecated for named arguments. Finally, another major release later, when
all the code is (hopefully) rewritten with '::' for named arguments, '=' is
defunct for named argument, and '=' gets exactly the same meaning as '<-'
ANYWHERE, eliminating the problem discussed here. As far as I know, '::' is
not used yet in the S language. Some people would say it is replacing a
single character by two (obviously the most lazy ones that objected against
the disparition of '_' for assignation)! Not a major inconvenience, anyway.
Others would say that '::' has a different signification in some other
languages, but then, there is no solution because we have to deal with a
limited character set and a keyboard with only 88-103 keys!

In any case, this is major change, since, whatever the solution, it implies
incompatibles changes in code. I agree! One should note that, if a change
similar to this ('=' replaced by '::' for named arguments) was planned
*before* the introduction of '=' as a (quasi)synonym of '<-' for assignment,
it would have been easier to actualize code in the transitions phases (just
need to protect '==', '<=', '>=', '!=' and occurence of '=' in strings
before replacing any other occurence of '=' by '::'). Now, it would be much,
much more difficult. Compromizes, always compromizes,...



>On Fri, 8 Nov 2002, Philippe Grosjean wrote:

>> Deprecating '_' for assignment in the perspective of reusing it in
variables
>> names is nice (not just a personal impression bacause it is also common
in
>> other languages). I am fighting too often with unreadable codes like
>> var_value, even without spaces before and after '_'!!!
>> Addition of '=' for assignment is nice too (also commonly used in other
>> languages), except for this problem with named arguments...! I know this
is
>> a major change that would require patching all R code, but perhaps a
>> solution would be to replace '=' in named arguments with something
else,...
>> ('_'  for instance.. no, I am kidding!). But perhaps, ':=' would be a
nice
>> candidate. So:
>>
>> foo(a=b)  # Assignment of b to a, and a is passed as first argument to
>> function foo()
>> foo(a:=b) # b is passed to the named argument 'a' of function foo()
>>



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gregory_r_warnes@groton.pfizer.com  Fri Nov  8 17:01:30 2002
From: gregory_r_warnes@groton.pfizer.com (Warnes, Gregory R)
Date: Fri, 8 Nov 2002 12:01:30 -0500
Subject: behavior of =
Message-ID: <D7A3CFD7825BD6119B880002A58F06C202F2C266@groexmb02.pfizer.com>

> [Tony Rossini wrote:]
>
> The "<-" assignment operator is beautiful.  [...]
> [T]his may be one of the few points that I'd disagree with John; I wish
> he'd never introduced "=" as a possible assignment.

I agree.   

-Greg



LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tplate@blackmesacapital.com  Fri Nov  8 17:05:56 2002
From: tplate@blackmesacapital.com (Tony Plate)
Date: Fri, 08 Nov 2002 10:05:56 -0700
Subject: behavior of =
In-Reply-To: <87lm44814a.fsf@jeeves.blindglobe.net>
References: <MABBLJDICACNFOLGIHJOOEKIDAAA.phgrosje@ulb.ac.be>
 <MABBLJDICACNFOLGIHJOOEKIDAAA.phgrosje@ulb.ac.be>
Message-ID: <5.1.0.14.2.20021108095455.04aabdb0@mailhost.blackmesacapital.com>

At 08:41 AM 11/8/2002 -0800, A.J. Rossini wrote:
>[...]
>The "<-" assignment operator is beautiful.  It's taken me over a
>decade, but I have come to appreciate it.  It isn't common, and there
>are fewer and fewer ex-APL'ers, but I think it's a great choice.
>
>The use of "=" for named arguments in a function call signature makes
>sense, and the use of "==" for equality makes sense.
>
>But syntactical sugar should only be messed with if broken (and yes,
>this may be one of the few points that I'd disagree with John; I wish
>he'd never introduced "=" as a possible assignment).
>
>best,
>-tony

Yup, the S-language does have 3 separate symbols available for 3 separate 
functions ("=" for named arguments, "<-" for assignment, and "==" for 
equality).  Like Tony Rossini, I'd rather that these did not 
overlap.  Would it be possible to give parse() (and source()) an argument, 
or allow a pragma in a file, that would disallow the use of "=" for 
assignment?  (Since "=" was introduced as an assignment operator in S 
implementations, I've been bitten by the bug of a "="/"==" typo a couple of 
times, and have never seen any benefit from the change.)

-- Tony Plate

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From B.Rowlingson@lancaster.ac.uk  Fri Nov  8 17:10:02 2002
From: B.Rowlingson@lancaster.ac.uk (Barry Rowlingson)
Date: Fri, 08 Nov 2002 17:10:02 +0000
Subject: behavior of =
References: <MABBLJDICACNFOLGIHJOOEKIDAAA.phgrosje@ulb.ac.be> <87lm44814a.fsf@jeeves.blindglobe.net>
Message-ID: <3DCBEFEA.5070200@lancaster.ac.uk>


> The "<-" assignment operator is beautiful.  It's taken me over a
> decade, but I have come to appreciate it.  It isn't common, and there
> are fewer and fewer ex-APL'ers, but I think it's a great choice.

  Surely there's a single-character on this keyboard that accurately 
invokes the directional nature of assignment to variables, without 
having ambiguous meanings or alternate syntactic options? Yes! There, on 
the top right, an arrow pointing to the left!

  Oh no, thats the backspace key...

Baz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Fri Nov  8 17:21:34 2002
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Fri, 08 Nov 2002 12:21:34 -0500
Subject: behavior of =
In-Reply-To: <Pine.A41.4.44.0211080813030.108822-100000@homer40.u.washington.edu>
References: <MABBLJDICACNFOLGIHJOOEKIDAAA.phgrosje@ulb.ac.be> <Pine.A41.4.44.0211080813030.108822-100000@homer40.u.washington.edu>
Message-ID: <mirnsugtr7aefod5qfnuuurga6chh1hqtp@4ax.com>

On Fri, 8 Nov 2002 08:17:12 -0800 (PST), you wrote:

>On Fri, 8 Nov 2002, Philippe Grosjean wrote:

>> foo(a=b)  # Assignment of b to a, and a is passed as first argument to
>> function foo()
>> foo(a:=b) # b is passed to the named argument 'a' of function foo()
>>
>
>Not only would this require rewriting essentially every piece of R code
>ever written, but even worse, := is used in other languages (and in the
>prehistory of R) as an assignment operator so it would be even less clear
>than the current situation.

I would say a better change (but not good enough to be worth doing,
because it would break so much) would be to drop "=" as an assignment
operator, and use ":=" for that purpose.

A smaller change that might actually be doable would be to have a way
to give anonymous arguments which can be passed only positionally. For
example, put the symbol ANON into the language, and allow functions to
be declared as 

 f <- function(ANON) { .... }

Within the body of f, ANON would act like a named argument, but
name-matching would never work on it, i.e.

 x <- f(ANON=3)

would be a syntax error.  A nicer looking way to do this might be to
allow attributes to be attached to arguments, e.g.

  f <- function(anonymous x) { ... }

but there's nothing like that anywhere else in the language.  This
would have the advantage that you could define min as 

 function (anonymous ..., na.rm = FALSE) 
 .Internal(min(..., na.rm = na.rm))

Doing it with new keywords would probably mean the addition of ANON1,
ANON2, up to some arbitrary number, and ANON... for this case.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossini@u.washington.edu  Fri Nov  8 17:55:34 2002
From: rossini@u.washington.edu (A.J. Rossini)
Date: 08 Nov 2002 09:55:34 -0800
Subject: behavior of =
In-Reply-To: <mirnsugtr7aefod5qfnuuurga6chh1hqtp@4ax.com>
References: <MABBLJDICACNFOLGIHJOOEKIDAAA.phgrosje@ulb.ac.be>
 <Pine.A41.4.44.0211080813030.108822-100000@homer40.u.washington.edu>
 <mirnsugtr7aefod5qfnuuurga6chh1hqtp@4ax.com>
Message-ID: <87hees7xpl.fsf@jeeves.blindglobe.net>

>>>>> "duncan" == Duncan Murdoch <dmurdoch@pair.com> writes:

    duncan> On Fri, 8 Nov 2002 08:17:12 -0800 (PST), you wrote:
    >> On Fri, 8 Nov 2002, Philippe Grosjean wrote:

    >>> foo(a=b)  # Assignment of b to a, and a is passed as first argument to
    >>> function foo()
    >>> foo(a:=b) # b is passed to the named argument 'a' of function foo()
    >>> 
    >> 
    >> Not only would this require rewriting essentially every piece of R code
    >> ever written, but even worse, := is used in other languages (and in the
    >> prehistory of R) as an assignment operator so it would be even less clear
    >> than the current situation.

    duncan> I would say a better change (but not good enough to be worth doing,
    duncan> because it would break so much) would be to drop "=" as an assignment
    duncan> operator, and use ":=" for that purpose.

Why not "<-"  instead of ":="?  I still don't understand why this is
in anyway better (except for pascal and modula programmers, see
Thomas' point from a while back: "If you want those constructs, use
those languages", is application.

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini@u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini@scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossini@u.washington.edu  Fri Nov  8 17:57:11 2002
From: rossini@u.washington.edu (A.J. Rossini)
Date: 08 Nov 2002 09:57:11 -0800
Subject: behavior of =
In-Reply-To: <3DCBEFEA.5070200@lancaster.ac.uk>
References: <MABBLJDICACNFOLGIHJOOEKIDAAA.phgrosje@ulb.ac.be>
 <87lm44814a.fsf@jeeves.blindglobe.net>
 <3DCBEFEA.5070200@lancaster.ac.uk>
Message-ID: <87d6pg7xmw.fsf@jeeves.blindglobe.net>

>>>>> "barry" == Barry Rowlingson <B.Rowlingson@lancaster.ac.uk> writes:

    >> The "<-" assignment operator is beautiful.  It's taken me over a
    >> decade, but I have come to appreciate it.  It isn't common, and there
    >> are fewer and fewer ex-APL'ers, but I think it's a great choice.

    barry>   Surely there's a single-character on this keyboard that accurately
    barry>   invokes the directional nature of assignment to variables, without
    barry>   having ambiguous meanings or alternate syntactic options? Yes! 
    barry>   There, on the top right, an arrow pointing to the left!

on my computers (all of them), when editing R code, "_" always maps to
"<-".  So yes, there is such a character on the keyboard, for R code.

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini@u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini@scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Fri Nov  8 18:05:30 2002
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Fri, 08 Nov 2002 13:05:30 -0500
Subject: behavior of =
In-Reply-To: <87hees7xpl.fsf@jeeves.blindglobe.net>
References: <MABBLJDICACNFOLGIHJOOEKIDAAA.phgrosje@ulb.ac.be> <Pine.A41.4.44.0211080813030.108822-100000@homer40.u.washington.edu> <mirnsugtr7aefod5qfnuuurga6chh1hqtp@4ax.com> <87hees7xpl.fsf@jeeves.blindglobe.net>
Message-ID: <d3vnsu0k9ht4lh7u2qr2huilim7ah6e0gq@4ax.com>

On 08 Nov 2002 09:55:34 -0800, you wrote:

>>>>>> "duncan" == Duncan Murdoch <dmurdoch@pair.com> writes:

>    duncan> I would say a better change (but not good enough to be worth doing,
>    duncan> because it would break so much) would be to drop "=" as an assignment
>    duncan> operator, and use ":=" for that purpose.
>
>Why not "<-"  instead of ":="?  I still don't understand why this is
>in anyway better (except for pascal and modula programmers, see
>Thomas' point from a while back: "If you want those constructs, use
>those languages", is application.

Because "=" is different from "<-".  I'm suggesting that if we want
that distinction, then we should use the pair ":=" and "<-", rather
than overloading the meaning of "=".

But perhaps we don't need the distinction at all.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@stat.uiowa.edu  Fri Nov  8 18:15:58 2002
From: luke@stat.uiowa.edu (Luke Tierney)
Date: Fri, 8 Nov 2002 12:15:58 -0600 (CST)
Subject: behavior of =
In-Reply-To: <5.1.0.14.2.20021108095455.04aabdb0@mailhost.blackmesacapital.com>
Message-ID: <Pine.LNX.4.44.0211081215280.26767-100000@itasca.stat.uiowa.edu>

On Fri, 8 Nov 2002, Tony Plate wrote:

> At 08:41 AM 11/8/2002 -0800, A.J. Rossini wrote:
> >[...]
> >The "<-" assignment operator is beautiful.  It's taken me over a
> >decade, but I have come to appreciate it.  It isn't common, and there
> >are fewer and fewer ex-APL'ers, but I think it's a great choice.
> >
> >The use of "=" for named arguments in a function call signature makes
> >sense, and the use of "==" for equality makes sense.
> >
> >But syntactical sugar should only be messed with if broken (and yes,
> >this may be one of the few points that I'd disagree with John; I wish
> >he'd never introduced "=" as a possible assignment).
> >
> >best,
> >-tony
> 
> Yup, the S-language does have 3 separate symbols available for 3 separate 
> functions ("=" for named arguments, "<-" for assignment, and "==" for 
> equality).  Like Tony Rossini, I'd rather that these did not 
> overlap.  Would it be possible to give parse() (and source()) an argument, 
> or allow a pragma in a file, that would disallow the use of "=" for 
> assignment?  (Since "=" was introduced as an assignment operator in S 
> implementations, I've been bitten by the bug of a "="/"==" typo a couple of 
> times, and have never seen any benefit from the change.)

You can at least make sure you get a run time error by redefining "="
something like

"="<-function(...) stop("'=' used for assignment--I don't like that")

Doing that now has the potential of messing up some packages you might
want to use.  R 1.7 should include a name space mechanism that will
let you do this privately within your packages so "=" is disabled for
you but not for other mackages.

luke

-- 
Luke Tierney
University of Iowa                  Phone:             319-335-3386
Department of Statistics and        Fax:               319-335-3017
   Actuarial Science
241 Schaeffer Hall                  email:      luke@stat.uiowa.edu
Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From brahm@alum.mit.edu  Fri Nov  8 21:11:23 2002
From: brahm@alum.mit.edu (David Brahm)
Date: Fri, 8 Nov 2002 16:11:23 -0500
Subject: strwidth(font=NULL)
Message-ID: <15820.10363.591848.18577@gargle.gargle.HOWL>

Hello,

   Would it be possible to give strwidth() and strheight() an argument "font",
that worked like the "cex" argument (i.e. defaults to current par("font"), but
can be overridden)?  Then I could replace this:

  R> oldpar <- par(font=2)
  R> x <- strwidth("hello")
  R> par(oldpar)

with this:

  R> x <- strwidth("hello", font=2)

Thanks!
-- 
                              -- David Brahm (brahm@alum.mit.edu)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Nov  8 22:25:35 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 8 Nov 2002 22:25:35 +0000 (GMT)
Subject: strwidth(font=NULL)
In-Reply-To: <15820.10363.591848.18577@gargle.gargle.HOWL>
Message-ID: <Pine.LNX.4.31.0211082220400.12649-100000@gannet.stats>

If you look in the code you will see this is mentioned as a if/when
possibility in several places.

See also bug report PR#776, from December 2000, so this is probably in the
Real Soon Now category.  Paul Murrell might have a better estimate!

On Fri, 8 Nov 2002, David Brahm wrote:

>    Would it be possible to give strwidth() and strheight() an argument "font",
> that worked like the "cex" argument (i.e. defaults to current par("font"), but
> can be overridden)?  Then I could replace this:
>
>   R> oldpar <- par(font=2)
>   R> x <- strwidth("hello")
>   R> par(oldpar)
>
> with this:
>
>   R> x <- strwidth("hello", font=2)
>
> Thanks!

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tkeitt@mail.utexas.edu  Sat Nov  9 04:34:36 2002
From: tkeitt@mail.utexas.edu (Timothy H. Keitt)
Date: 08 Nov 2002 20:34:36 -0800
Subject: Calling function with proto in Rinternals.h
Message-ID: <1036816477.4523.8.camel@ip68-6-78-9.sb.sd.cox.net>

(Tried this query on r-help with no luck, maybe someone here can help?)

I would like to call the 'RFinalizerEx' function that appears in
Rinternals.h using ".Call". It worked for me in the past, but now I get
an error message something like: 'call function name not in call table'.
I'm using the 1.6.1 rpm from CRAN. Anyone know what's going on? Thanks.

Tim 

-- 
Timothy H. Keitt
The University of Texas at Austin
Section of Integrative Biology
1 University Station C0930
Austin, Texas 78712-0253 USA

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jago@mclink.it  Sat Nov  9 08:46:24 2002
From: jago@mclink.it (Stefano Iacus)
Date: Sat, 9 Nov 2002 09:46:24 +0100
Subject: Mac specific - quartz leads to crash (PR#2276)
In-Reply-To: <200211081528.QAA09427@pubhealth.ku.dk>
Message-ID: <BA8F18E2-F3BF-11D6-B6A4-003065CC4CB8@mclink.it>

Martin,

which version of R are you currently using? Carbon R or Darwin R?

It is true that you can't resize the window (this is not a bug and I'll  
change thi behaviour).
You can close the window using the dev.off() command.

You can't copy from this window (yet) and this lead to a crash: this a  
bug and I'll fix it.

But, either using Carbon R or Darwin R I never experienced a crash just  
waiting for 20 secs. Please, give me the exact step you do to arrive to  
a crash otherwise I cannot debug this.

stefano

On Friday, November 8, 2002, at 04:28 PM, h95mr@mun.ca wrote:

> Full_Name: Martin Renner
> Version: 1.6.0
> OS: MacOS X 10.2.1
> Submission from: (NULL) (134.153.109.176)
>
>
> Opening a new graphics device with quartz () produces a quartz window  
> but it
> cannot be resized, there's no red close-button and R usually crashes  
> within the
> next 20 seconds (unexpectedly quit). Also, I can't copy this window  
> (copy does
> not do anything, old clipboard is not replaced).
>
> Thank you,
>
> Martin
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
> .-.-.-.-.-
> r-devel mailing list -- Read  
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To:  
> r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
> ._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sat Nov  9 12:05:58 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Nov 2002 13:05:58 +0100
Subject: Calling function with proto in Rinternals.h
In-Reply-To: <1036816477.4523.8.camel@ip68-6-78-9.sb.sd.cox.net>
References: <1036816477.4523.8.camel@ip68-6-78-9.sb.sd.cox.net>
Message-ID: <x21y5vlzh5.fsf@biostat.ku.dk>

"Timothy H. Keitt" <tkeitt@mail.utexas.edu> writes:

> (Tried this query on r-help with no luck, maybe someone here can help?)
> 
> I would like to call the 'RFinalizerEx' function that appears in
> Rinternals.h using ".Call". It worked for me in the past, but now I get
> an error message something like: 'call function name not in call table'.
> I'm using the 1.6.1 rpm from CRAN. Anyone know what's going on? Thanks.

I don't see a function of that name in there?

$ find BUILD/include -name *.[ch] | xargs grep FinalizerEx
BUILD/include/Rinternals.h:void R_RegisterFinalizerEx(SEXP s,
 SEXP fun, Rboolean onexit);
BUILD/include/Rinternals.h:void R_RegisterCFinalizerEx(SEXP s,
 R_CFinalizer_t fun, Rboolean onexit);

However, you can't find those with is.loaded either. I'm getting rusty
on the linker issues, but I don't think you can expect to call just
any function in the C level interface using .Call. (Perhaps we need
another section in "Writing R Extensions"? -- I couldn't find a clear
indication of what, if any, functions are getting exported to .C and
friends from the main binary and by which mechanism.)

Notice the existence of reg.finalizer(), which may be the
functionality you were looking for in the first place.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sat Nov  9 15:06:24 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 9 Nov 2002 15:06:24 +0000 (GMT)
Subject: Calling function with proto in Rinternals.h
In-Reply-To: <x21y5vlzh5.fsf@biostat.ku.dk>
Message-ID: <Pine.LNX.4.31.0211091501580.13633-100000@gannet.stats>

On 9 Nov 2002, Peter Dalgaard BSA wrote:

> "Timothy H. Keitt" <tkeitt@mail.utexas.edu> writes:
>
> > (Tried this query on r-help with no luck, maybe someone here can help?)
> >
> > I would like to call the 'RFinalizerEx' function that appears in
> > Rinternals.h using ".Call". It worked for me in the past, but now I get
> > an error message something like: 'call function name not in call table'.
> > I'm using the 1.6.1 rpm from CRAN. Anyone know what's going on? Thanks.
>
> I don't see a function of that name in there?
>
> $ find BUILD/include -name *.[ch] | xargs grep FinalizerEx
> BUILD/include/Rinternals.h:void R_RegisterFinalizerEx(SEXP s,
>  SEXP fun, Rboolean onexit);
> BUILD/include/Rinternals.h:void R_RegisterCFinalizerEx(SEXP s,
>  R_CFinalizer_t fun, Rboolean onexit);
>
> However, you can't find those with is.loaded either. I'm getting rusty
> on the linker issues, but I don't think you can expect to call just
> any function in the C level interface using .Call. (Perhaps we need
> another section in "Writing R Extensions"? -- I couldn't find a clear
> indication of what, if any, functions are getting exported to .C and
> friends from the main binary and by which mechanism.)

It's file src/appl/ROUTINES which is used to generate the appropriate
headers: see src/appl/README.  Under Unix this is done in src/unix.

I don't think it should be in R-exts.texi, as only R-core can extend R
this way (and those who do so know how to do so ...).


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sat Nov  9 15:31:20 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Nov 2002 16:31:20 +0100
Subject: Calling function with proto in Rinternals.h
In-Reply-To: <Pine.LNX.4.31.0211091501580.13633-100000@gannet.stats>
References: <Pine.LNX.4.31.0211091501580.13633-100000@gannet.stats>
Message-ID: <x2wunmlpyv.fsf@biostat.ku.dk>

ripley@stats.ox.ac.uk writes:

> > However, you can't find those with is.loaded either. I'm getting rusty
> > on the linker issues, but I don't think you can expect to call just
> > any function in the C level interface using .Call. (Perhaps we need
> > another section in "Writing R Extensions"? -- I couldn't find a clear
> > indication of what, if any, functions are getting exported to .C and
> > friends from the main binary and by which mechanism.)
> 
> It's file src/appl/ROUTINES which is used to generate the appropriate
> headers: see src/appl/README.  Under Unix this is done in src/unix.
> 
> I don't think it should be in R-exts.texi, as only R-core can extend R
> this way (and those who do so know how to do so ...).

(...but tend to forget over time.)

Not as an extension mechanism, agreed, but it could be there in the
form of a reference for the entry points that are available to R code.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From duncan@research.bell-labs.com  Sat Nov  9 15:45:35 2002
From: duncan@research.bell-labs.com (Duncan Temple Lang)
Date: Sat, 9 Nov 2002 10:45:35 -0500
Subject: Calling function with proto in Rinternals.h
In-Reply-To: <x2wunmlpyv.fsf@biostat.ku.dk>; from p.dalgaard@biostat.ku.dk on Sat, Nov 09, 2002 at 04:31:20PM +0100
References: <Pine.LNX.4.31.0211091501580.13633-100000@gannet.stats> <x2wunmlpyv.fsf@biostat.ku.dk>
Message-ID: <20021109104535.B3699@jessie.research.bell-labs.com>

Peter Dalgaard BSA wrote:
> ripley@stats.ox.ac.uk writes:
> 
> > > However, you can't find those with is.loaded either. I'm getting rusty
> > > on the linker issues, but I don't think you can expect to call just
> > > any function in the C level interface using .Call. (Perhaps we need
> > > another section in "Writing R Extensions"? -- I couldn't find a clear
> > > indication of what, if any, functions are getting exported to .C and
> > > friends from the main binary and by which mechanism.)
> > 
> > It's file src/appl/ROUTINES which is used to generate the appropriate
> > headers: see src/appl/README.  Under Unix this is done in src/unix.
> > 
> > I don't think it should be in R-exts.texi, as only R-core can extend R
> > this way (and those who do so know how to do so ...).
> 
> (...but tend to forget over time.)
> 
> Not as an extension mechanism, agreed, but it could be there in the
> form of a reference for the entry points that are available to R code.

I mentioned in Boston that we will probably move these to the explicit
registration mechanism for C/Fortran routines so that there is a
single mechanism for both core and package code.  One of the
side-effects of this is that we will get run-time reflectance; so from
within R one will be able to ask for the available exported routines
and any information supplied for them such as the number of arguments,
etc.

I'll hopefully get to this sometime soon and when I can determine that
it doesn't break anything on the different platforms.

> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
_______________________________________________________________

Duncan Temple Lang                duncan@research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tkeitt@mail.utexas.edu  Sat Nov  9 15:51:45 2002
From: tkeitt@mail.utexas.edu (Timothy H. Keitt)
Date: 09 Nov 2002 07:51:45 -0800
Subject: Calling function with proto in Rinternals.h
In-Reply-To: <x21y5vlzh5.fsf@biostat.ku.dk>
References: <1036816477.4523.8.camel@ip68-6-78-9.sb.sd.cox.net>
 <x21y5vlzh5.fsf@biostat.ku.dk>
Message-ID: <1036857106.8203.5.camel@ip68-6-78-9.sb.sd.cox.net>

Ah, perfect (reg.finalizer). Thanks.

T.

On Sat, 2002-11-09 at 04:05, Peter Dalgaard BSA wrote:
> "Timothy H. Keitt" <tkeitt@mail.utexas.edu> writes:
> 
> > (Tried this query on r-help with no luck, maybe someone here can help?)
> > 
> > I would like to call the 'RFinalizerEx' function that appears in
> > Rinternals.h using ".Call". It worked for me in the past, but now I get
> > an error message something like: 'call function name not in call table'.
> > I'm using the 1.6.1 rpm from CRAN. Anyone know what's going on? Thanks.
> 
> I don't see a function of that name in there?
> 
> $ find BUILD/include -name *.[ch] | xargs grep FinalizerEx
> BUILD/include/Rinternals.h:void R_RegisterFinalizerEx(SEXP s,
>  SEXP fun, Rboolean onexit);
> BUILD/include/Rinternals.h:void R_RegisterCFinalizerEx(SEXP s,
>  R_CFinalizer_t fun, Rboolean onexit);
> 
> However, you can't find those with is.loaded either. I'm getting rusty
> on the linker issues, but I don't think you can expect to call just
> any function in the C level interface using .Call. (Perhaps we need
> another section in "Writing R Extensions"? -- I couldn't find a clear
> indication of what, if any, functions are getting exported to .C and
> friends from the main binary and by which mechanism.)
> 
> Notice the existence of reg.finalizer(), which may be the
> functionality you were looking for in the first place.
> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-- 
Timothy H. Keitt
The University of Texas at Austin
Section of Integrative Biology
1 University Station C0930
Austin, Texas 78712-0253 USA

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tkeitt@mail.utexas.edu  Sat Nov  9 16:11:11 2002
From: tkeitt@mail.utexas.edu (Timothy H. Keitt)
Date: 09 Nov 2002 08:11:11 -0800
Subject: Calling function with proto in Rinternals.h
In-Reply-To: <1036857106.8203.5.camel@ip68-6-78-9.sb.sd.cox.net>
References: <1036816477.4523.8.camel@ip68-6-78-9.sb.sd.cox.net>
 <x21y5vlzh5.fsf@biostat.ku.dk>
 <1036857106.8203.5.camel@ip68-6-78-9.sb.sd.cox.net>
Message-ID: <1036858272.8268.14.camel@ip68-6-78-9.sb.sd.cox.net>

Quick follow up question -- does reg.finalizer() use the "on exit"
option. (If not, perhaps it could be added as a flag?)

T.

On Sat, 2002-11-09 at 07:51, Timothy H. Keitt wrote:
> Ah, perfect (reg.finalizer). Thanks.
> 
> T.
> 

-- 
Timothy H. Keitt
The University of Texas at Austin
Section of Integrative Biology
1 University Station C0930
Austin, Texas 78712-0253 USA

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Sat Nov  9 17:55:18 2002
From: edd@debian.org (Dirk Eddelbuettel)
Date: Sat, 9 Nov 2002 11:55:18 -0600
Subject: (PR#2275) Re: Bug#168259: r-base-core: help.start() assumes netscape is installed
In-Reply-To: <Pine.LNX.4.31.0211081545310.10657-100000@gannet.stats>
References: <200211081502.QAA09163@pubhealth.ku.dk> <Pine.LNX.4.31.0211081545310.10657-100000@gannet.stats>
Message-ID: <20021109175518.GA2518@sonny.eddelbuettel.com>

On Fri, Nov 08, 2002 at 03:51:10PM +0000, ripley@stats.ox.ac.uk wrote:
> > To best of my knowledge, this R feature dates from a time when
> > Netscape was essentially the only browser out there. It also had
> > a most useful feature: you could attach new request (resulting in
> > a new "frame" in X11 / window manager parlance) to a running Netscape
> > making startup for this request /much/ faster than starting a new
> > Netscape executable.
> 
> and netscape no longer allows multiple executables to run.

I just confirmed that mozilla does. E.g.
  mozilla http://bbc.com & sleep 3; mozilla -remote "openurl(http://cnn.com)"
happily switches the running session from the BBC to CNN.

Neither galeon [ a mozilla derivative ] nor konqueror [ different codebase ]
appear to support it.

Would there be interest in a solution based on mozilla?  Mozilla is
cross-platform [ I use it under NT and *love* the tabbing ] but not that
common.

Dirk

-- 
The only function of economic forecasting is to make astrology 
look respectable.                    -- John Kenneth Galbraith
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossini@u.washington.edu  Sat Nov  9 18:56:55 2002
From: rossini@u.washington.edu (A.J. Rossini)
Date: 09 Nov 2002 10:56:55 -0800
Subject: (PR#2275) Re: Bug#168259: r-base-core: help.start() assumes netscape is installed
In-Reply-To: <20021109175518.GA2518@sonny.eddelbuettel.com>
References: <200211081502.QAA09163@pubhealth.ku.dk>
 <Pine.LNX.4.31.0211081545310.10657-100000@gannet.stats>
 <20021109175518.GA2518@sonny.eddelbuettel.com>
Message-ID: <87adkiy3k8.fsf@jeeves.blindglobe.net>

>>>>> "dirk" == Dirk Eddelbuettel <edd@debian.org> writes:

    dirk> On Fri, Nov 08, 2002 at 03:51:10PM +0000, ripley@stats.ox.ac.uk wrote:
    >> > To best of my knowledge, this R feature dates from a time when
    >> > Netscape was essentially the only browser out there. It also had
    >> > a most useful feature: you could attach new request (resulting in
    >> > a new "frame" in X11 / window manager parlance) to a running Netscape
    >> > making startup for this request /much/ faster than starting a new
    >> > Netscape executable.
    >> 
    >> and netscape no longer allows multiple executables to run.

    dirk> I just confirmed that mozilla does. E.g.  mozilla
    dirk> http://bbc.com & sleep 3; mozilla -remote
    dirk> "openurl(http://cnn.com)" happily switches the running
    dirk> session from the BBC to CNN.

    dirk> Neither galeon [ a mozilla derivative ] nor konqueror [
    dirk> different codebase ] appear to support it.

Weird.  Galeon can support both "adding a tab" as well as "separate
executable", apparently -- a few days ago, I was getting both from
different tools with "fetch a URL" features (mostly of the dockapps
variety).

Same with recent konquerors...

(however, Mozilla seems to be the most stable cross platform -- I'm
having weird errors on LinuxPPC).

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini@u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini@scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossini@u.washington.edu  Sat Nov  9 18:57:09 2002
From: rossini@u.washington.edu (A.J. Rossini)
Date: 09 Nov 2002 10:57:09 -0800
Subject: (PR#2275) Re: Bug#168259: r-base-core: help.start() assumes netscape is installed
In-Reply-To: <20021109175518.GA2518@sonny.eddelbuettel.com>
References: <200211081502.QAA09163@pubhealth.ku.dk>
 <Pine.LNX.4.31.0211081545310.10657-100000@gannet.stats>
 <20021109175518.GA2518@sonny.eddelbuettel.com>
Message-ID: <877kfmy3ju.fsf@jeeves.blindglobe.net>

>>>>> "dirk" == Dirk Eddelbuettel <edd@debian.org> writes:

    dirk> On Fri, Nov 08, 2002 at 03:51:10PM +0000, ripley@stats.ox.ac.uk wrote:
    >> > To best of my knowledge, this R feature dates from a time when
    >> > Netscape was essentially the only browser out there. It also had
    >> > a most useful feature: you could attach new request (resulting in
    >> > a new "frame" in X11 / window manager parlance) to a running Netscape
    >> > making startup for this request /much/ faster than starting a new
    >> > Netscape executable.
    >> 
    >> and netscape no longer allows multiple executables to run.

    dirk> I just confirmed that mozilla does. E.g.  mozilla
    dirk> http://bbc.com & sleep 3; mozilla -remote
    dirk> "openurl(http://cnn.com)" happily switches the running
    dirk> session from the BBC to CNN.

    dirk> Neither galeon [ a mozilla derivative ] nor konqueror [
    dirk> different codebase ] appear to support it.

Weird.  Galeon can support both "adding a tab" as well as "separate
executable", apparently -- a few days ago, I was getting both from
different tools with "fetch a URL" features (mostly of the dockapps
variety).

Same with recent konquerors...

(however, Mozilla seems to be the most stable cross platform -- I'm
having weird errors on LinuxPPC with galeon/konq).

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini@u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini@scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sat Nov  9 19:57:02 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Nov 2002 20:57:02 +0100
Subject: Calling function with proto in Rinternals.h
In-Reply-To: <1036858272.8268.14.camel@ip68-6-78-9.sb.sd.cox.net>
References: <1036816477.4523.8.camel@ip68-6-78-9.sb.sd.cox.net>
 <x21y5vlzh5.fsf@biostat.ku.dk>
 <1036857106.8203.5.camel@ip68-6-78-9.sb.sd.cox.net>
 <1036858272.8268.14.camel@ip68-6-78-9.sb.sd.cox.net>
Message-ID: <x2isz6ldo1.fsf@biostat.ku.dk>

"Timothy H. Keitt" <tkeitt@mail.utexas.edu> writes:

> Quick follow up question -- does reg.finalizer() use the "on exit"
> option. (If not, perhaps it could be added as a flag?)

It doesn't, but it might be added. Patches will be considered. (But how
did you manage to use .Call on

void R_RegisterFinalizerEx(SEXP s, SEXP fun, Rboolean onexit)

?? I thought all the arguments had to be SEXP in that interface.)

BTW, it seems that the internal C symbols become visible if you
compile R as a shared library, so that's probably what happened to
you: Your new build didn't do that. (It's obviously still not a good
idea to call such build-dependent entry points...).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Sat Nov  9 20:50:13 2002
From: edd@debian.org (Dirk Eddelbuettel)
Date: Sat, 9 Nov 2002 14:50:13 -0600
Subject: (PR#2275) Re: Bug#168259: r-base-core: help.start() assumes netscape is installed
In-Reply-To: <877kfmy3ju.fsf@jeeves.blindglobe.net>
References: <200211081502.QAA09163@pubhealth.ku.dk> <Pine.LNX.4.31.0211081545310.10657-100000@gannet.stats> <20021109175518.GA2518@sonny.eddelbuettel.com> <877kfmy3ju.fsf@jeeves.blindglobe.net>
Message-ID: <20021109205013.GA6563@sonny.eddelbuettel.com>

On Sat, Nov 09, 2002 at 10:57:09AM -0800, A.J. Rossini wrote:
> >>>>> "dirk" == Dirk Eddelbuettel <edd@debian.org> writes:
> 
>     dirk> On Fri, Nov 08, 2002 at 03:51:10PM +0000, ripley@stats.ox.ac.uk wrote:
>     >> > To best of my knowledge, this R feature dates from a time when
>     >> > Netscape was essentially the only browser out there. It also had
>     >> > a most useful feature: you could attach new request (resulting in
>     >> > a new "frame" in X11 / window manager parlance) to a running Netscape
>     >> > making startup for this request /much/ faster than starting a new
>     >> > Netscape executable.
>     >> 
>     >> and netscape no longer allows multiple executables to run.
> 
>     dirk> I just confirmed that mozilla does. E.g.  mozilla
>     dirk> http://bbc.com & sleep 3; mozilla -remote
>     dirk> "openurl(http://cnn.com)" happily switches the running
>     dirk> session from the BBC to CNN.
> 
>     dirk> Neither galeon [ a mozilla derivative ] nor konqueror [
>     dirk> different codebase ] appear to support it.
> 
> Weird.  Galeon can support both "adding a tab" as well as "separate
> executable", apparently -- a few days ago, I was getting both from
> different tools with "fetch a URL" features (mostly of the dockapps
> variety).
> 
> Same with recent konquerors...

Ah. I may be behind then as far as versions are concerned. Debian testing,
galeon 1.2.5, konqueror 2.2.2.

Dirk

-- 
The only function of economic forecasting is to make astrology 
look respectable.                    -- John Kenneth Galbraith
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Sat Nov  9 20:51:13 2002
From: edd@debian.org (edd@debian.org)
Date: Sat, 9 Nov 2002 21:51:13 +0100 (MET)
Subject: (PR#2275) Re: Bug#168259: r-base-core: help.start() assumes netscape is installed
Message-ID: <200211092051.VAA14973@pubhealth.ku.dk>

On Sat, Nov 09, 2002 at 10:57:09AM -0800, A.J. Rossini wrote:
> >>>>> "dirk" == Dirk Eddelbuettel <edd@debian.org> writes:
> 
>     dirk> On Fri, Nov 08, 2002 at 03:51:10PM +0000, ripley@stats.ox.ac.uk wrote:
>     >> > To best of my knowledge, this R feature dates from a time when
>     >> > Netscape was essentially the only browser out there. It also had
>     >> > a most useful feature: you could attach new request (resulting in
>     >> > a new "frame" in X11 / window manager parlance) to a running Netscape
>     >> > making startup for this request /much/ faster than starting a new
>     >> > Netscape executable.
>     >> 
>     >> and netscape no longer allows multiple executables to run.
> 
>     dirk> I just confirmed that mozilla does. E.g.  mozilla
>     dirk> http://bbc.com & sleep 3; mozilla -remote
>     dirk> "openurl(http://cnn.com)" happily switches the running
>     dirk> session from the BBC to CNN.
> 
>     dirk> Neither galeon [ a mozilla derivative ] nor konqueror [
>     dirk> different codebase ] appear to support it.
> 
> Weird.  Galeon can support both "adding a tab" as well as "separate
> executable", apparently -- a few days ago, I was getting both from
> different tools with "fetch a URL" features (mostly of the dockapps
> variety).
> 
> Same with recent konquerors...

Ah. I may be behind then as far as versions are concerned. Debian testing,
galeon 1.2.5, konqueror 2.2.2.

Dirk

-- 
The only function of economic forecasting is to make astrology 
look respectable.                    -- John Kenneth Galbraith

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sat Nov  9 21:17:47 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 9 Nov 2002 21:17:47 +0000 (GMT)
Subject: (PR#2275) Re: Bug#168259: r-base-core: help.start() assumes
 netscape is installed
In-Reply-To: <20021109175518.GA2518@sonny.eddelbuettel.com>
Message-ID: <Pine.LNX.4.31.0211092107370.13879-100000@gannet.stats>

On Sat, 9 Nov 2002, Dirk Eddelbuettel wrote:

> On Fri, Nov 08, 2002 at 03:51:10PM +0000, ripley@stats.ox.ac.uk wrote:
> > > To best of my knowledge, this R feature dates from a time when
> > > Netscape was essentially the only browser out there. It also had
> > > a most useful feature: you could attach new request (resulting in
> > > a new "frame" in X11 / window manager parlance) to a running Netscape
> > > making startup for this request /much/ faster than starting a new
> > > Netscape executable.
> >
> > and netscape no longer allows multiple executables to run.
>
> I just confirmed that mozilla does. E.g.
>   mozilla http://bbc.com & sleep 3; mozilla -remote "openurl(http://cnn.com)"
> happily switches the running session from the BBC to CNN.

That's not running multiple executables: that is remote-controlling an
existing one.  Not only that, the second command takes over any existing
mozilla on the display, even one running on a completely different machine
(e.g. a session on a remote Solaris box).  It's the last part that is
fatal to the earlier help.start/help scheme.

For me, on Linux, both Mozilla 1.1 and Netscape 7.0 refuse to allow me to
run a new copy if one is already running.  This is an issue as the
help.start/help interface tries to run a new copy if running R remotely.

They do allow multiple invocations under Windows and seem only to run one
copy.

Try mozilla http://bbc.com & sleep 20; mozilla http://cnn.com.
I get a dialog box telling me a copy is already running under my profile
and refusing to allow me to run another one.

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Sat Nov  9 21:43:33 2002
From: edd@debian.org (Dirk Eddelbuettel)
Date: Sat, 9 Nov 2002 15:43:33 -0600
Subject: (PR#2275) Re: Bug#168259: r-base-core: help.start() assumes netscape is installed
In-Reply-To: <Pine.LNX.4.31.0211092107370.13879-100000@gannet.stats>
References: <20021109175518.GA2518@sonny.eddelbuettel.com> <Pine.LNX.4.31.0211092107370.13879-100000@gannet.stats>
Message-ID: <20021109214333.GA7627@sonny.eddelbuettel.com>

On Sat, Nov 09, 2002 at 09:17:47PM +0000, ripley@stats.ox.ac.uk wrote:
> > > and netscape no longer allows multiple executables to run.
> >
> > I just confirmed that mozilla does. E.g.
> >   mozilla http://bbc.com & sleep 3; mozilla -remote "openurl(http://cnn.com)"
> > happily switches the running session from the BBC to CNN.
> 
> That's not running multiple executables: that is remote-controlling an
> existing one.  Not only that, the second command takes over any existing
> mozilla on the display, even one running on a completely different machine
> (e.g. a session on a remote Solaris box).  It's the last part that is
> fatal to the earlier help.start/help scheme.
> 
> For me, on Linux, both Mozilla 1.1 and Netscape 7.0 refuse to allow me to
> run a new copy if one is already running.  This is an issue as the
> help.start/help interface tries to run a new copy if running R remotely.
> 
> They do allow multiple invocations under Windows and seem only to run one
> copy.
> 
> Try mozilla http://bbc.com & sleep 20; mozilla http://cnn.com.
> I get a dialog box telling me a copy is already running under my profile
> and refusing to allow me to run another one.

This works for me! I get two distinct ;frames'. And "pstree -p" shows only
one main process with one child which has four other child processes.  So it
looks as if they are sharing.

[ some more snooping ]

Indeed. Once I start the 2nd one, ps show mozilla-remote as a parallel
process. This then seems to migrate into the earlier mozilla even when that
one was started in a different shell.  File->Quit also brings both frames to
an end.  mozilla-1.0.0 as in Debian testing.

Dirk


-- 
The only function of economic forecasting is to make astrology 
look respectable.                    -- John Kenneth Galbraith
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sat Nov  9 22:01:52 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 9 Nov 2002 22:01:52 +0000 (GMT)
Subject: (PR#2275) Re: Bug#168259: r-base-core: help.start() assumes
 netscape is installed
In-Reply-To: <20021109214333.GA7627@sonny.eddelbuettel.com>
Message-ID: <Pine.LNX.4.31.0211092147250.14000-100000@gannet.stats>

On Sat, 9 Nov 2002, Dirk Eddelbuettel wrote:

> On Sat, Nov 09, 2002 at 09:17:47PM +0000, ripley@stats.ox.ac.uk wrote:
> > > > and netscape no longer allows multiple executables to run.
> > >
> > > I just confirmed that mozilla does. E.g.
> > >   mozilla http://bbc.com & sleep 3; mozilla -remote "openurl(http://cnn.com)"
> > > happily switches the running session from the BBC to CNN.
> >
> > That's not running multiple executables: that is remote-controlling an
> > existing one.  Not only that, the second command takes over any existing
> > mozilla on the display, even one running on a completely different machine
> > (e.g. a session on a remote Solaris box).  It's the last part that is
> > fatal to the earlier help.start/help scheme.
> >
> > For me, on Linux, both Mozilla 1.1 and Netscape 7.0 refuse to allow me to
> > run a new copy if one is already running.  This is an issue as the
> > help.start/help interface tries to run a new copy if running R remotely.
> >
> > They do allow multiple invocations under Windows and seem only to run one
> > copy.
> >
> > Try mozilla http://bbc.com & sleep 20; mozilla http://cnn.com.
> > I get a dialog box telling me a copy is already running under my profile
> > and refusing to allow me to run another one.
>
> This works for me! I get two distinct ;frames'. And "pstree -p" shows only
> one main process with one child which has four other child processes.  So it
> looks as if they are sharing.
>
> [ some more snooping ]
>
> Indeed. Once I start the 2nd one, ps show mozilla-remote as a parallel
> process. This then seems to migrate into the earlier mozilla even when that
> one was started in a different shell.  File->Quit also brings both frames to
> an end.  mozilla-1.0.0 as in Debian testing.

That's what happened a year or so ago, and in Netscape 6.2.  But that is
not the current mozilla release, if Debian use Mozilla's numbering scheme.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Sat Nov  9 22:16:06 2002
From: edd@debian.org (Dirk Eddelbuettel)
Date: Sat, 9 Nov 2002 16:16:06 -0600
Subject: (PR#2275) Re: Bug#168259: r-base-core: help.start() assumes netscape is installed
In-Reply-To: <Pine.LNX.4.31.0211092147250.14000-100000@gannet.stats>
References: <20021109214333.GA7627@sonny.eddelbuettel.com> <Pine.LNX.4.31.0211092147250.14000-100000@gannet.stats>
Message-ID: <20021109221606.GA8552@sonny.eddelbuettel.com>

On Sat, Nov 09, 2002 at 10:01:52PM +0000, ripley@stats.ox.ac.uk wrote:
> On Sat, 9 Nov 2002, Dirk Eddelbuettel wrote:
> 
> > On Sat, Nov 09, 2002 at 09:17:47PM +0000, ripley@stats.ox.ac.uk wrote:
> > > > > and netscape no longer allows multiple executables to run.
> > > >
> > > > I just confirmed that mozilla does. E.g.
> > > >   mozilla http://bbc.com & sleep 3; mozilla -remote "openurl(http://cnn.com)"
> > > > happily switches the running session from the BBC to CNN.
> > >
> > > That's not running multiple executables: that is remote-controlling an
> > > existing one.  Not only that, the second command takes over any existing
> > > mozilla on the display, even one running on a completely different machine
> > > (e.g. a session on a remote Solaris box).  It's the last part that is
> > > fatal to the earlier help.start/help scheme.
> > >
> > > For me, on Linux, both Mozilla 1.1 and Netscape 7.0 refuse to allow me to
> > > run a new copy if one is already running.  This is an issue as the
> > > help.start/help interface tries to run a new copy if running R remotely.
> > >
> > > They do allow multiple invocations under Windows and seem only to run one
> > > copy.
> > >
> > > Try mozilla http://bbc.com & sleep 20; mozilla http://cnn.com.
> > > I get a dialog box telling me a copy is already running under my profile
> > > and refusing to allow me to run another one.
> >
> > This works for me! I get two distinct ;frames'. And "pstree -p" shows only
> > one main process with one child which has four other child processes.  So it
> > looks as if they are sharing.
> >
> > [ some more snooping ]
> >
> > Indeed. Once I start the 2nd one, ps show mozilla-remote as a parallel
> > process. This then seems to migrate into the earlier mozilla even when that
> > one was started in a different shell.  File->Quit also brings both frames to
> > an end.  mozilla-1.0.0 as in Debian testing.
> 
> That's what happened a year or so ago, and in Netscape 6.2.  But that is
> not the current mozilla release, if Debian use Mozilla's numbering scheme.

mozilla-1.1 is in Debian unstable. I run Debian testing into which packages
from unstable migrate after two weeks -- unless there are unmet
dependencies or bugs or ...   With something like gnome or mozilla the
migration is often delayed.

But if the feature is missing in 1.1, I am not sure I can do something
useful here. Too bad.

-- 
The only function of economic forecasting is to make astrology 
look respectable.                    -- John Kenneth Galbraith
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tkeitt@mail.utexas.edu  Sun Nov 10 07:42:24 2002
From: tkeitt@mail.utexas.edu (Timothy H. Keitt)
Date: 09 Nov 2002 23:42:24 -0800
Subject: Calling function with proto in Rinternals.h
In-Reply-To: <x2isz6ldo1.fsf@biostat.ku.dk>
References: <1036816477.4523.8.camel@ip68-6-78-9.sb.sd.cox.net>
 <x21y5vlzh5.fsf@biostat.ku.dk>
 <1036857106.8203.5.camel@ip68-6-78-9.sb.sd.cox.net>
 <1036858272.8268.14.camel@ip68-6-78-9.sb.sd.cox.net>
 <x2isz6ldo1.fsf@biostat.ku.dk>
Message-ID: <1036914144.21672.10.camel@ip68-6-78-9.sb.sd.cox.net>

On Sat, 2002-11-09 at 11:57, Peter Dalgaard BSA wrote:
> "Timothy H. Keitt" <tkeitt@mail.utexas.edu> writes:
> 
> > Quick follow up question -- does reg.finalizer() use the "on exit"
> > option. (If not, perhaps it could be added as a flag?)
> 
> It doesn't, but it might be added. Patches will be considered. (But how
> did you manage to use .Call on
> 
> void R_RegisterFinalizerEx(SEXP s, SEXP fun, Rboolean onexit)
> 
> ?? I thought all the arguments had to be SEXP in that interface.)
> 
> BTW, it seems that the internal C symbols become visible if you
> compile R as a shared library, so that's probably what happened to
> you: Your new build didn't do that. (It's obviously still not a good
> idea to call such build-dependent entry points...).

Dunno why that worked; probably I was passing garbage in the last
parameter, but non-zero garbage is still true. I was using Debian and I
suppose it was dynamically linked, which is why using .Call worked at
all.

T.

> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-- 
Timothy H. Keitt
The University of Texas at Austin
Section of Integrative Biology
1 University Station C0930
Austin, Texas 78712-0253 USA

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Sun Nov 10 21:36:58 2002
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Sun, 10 Nov 2002 13:36:58 -0800 (PST)
Subject: Calling function with proto in Rinternals.h
In-Reply-To: <1036914144.21672.10.camel@ip68-6-78-9.sb.sd.cox.net>
Message-ID: <Pine.A41.4.44.0211101330360.132942-100000@homer07.u.washington.edu>

On 9 Nov 2002, Timothy H. Keitt wrote:

> On Sat, 2002-11-09 at 11:57, Peter Dalgaard BSA wrote:
> > "Timothy H. Keitt" <tkeitt@mail.utexas.edu> writes:
> >
> > > Quick follow up question -- does reg.finalizer() use the "on exit"
> > > option. (If not, perhaps it could be added as a flag?)
> >
> > It doesn't, but it might be added. Patches will be considered. (But how
> > did you manage to use .Call on
> >
> > void R_RegisterFinalizerEx(SEXP s, SEXP fun, Rboolean onexit)
> >
> > ?? I thought all the arguments had to be SEXP in that interface.)

Horrible things will happen on a 64-bit machine, where Rboolean and SEXP
are different lengths, but on a 32bit machine the argument passing is
likely to work (for suitably restricted definitions of `work').  I'm more
impressed by the fact you could .Call a void function when .Call expects a
SEXP return.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jmc@research.bell-labs.com  Mon Nov 11 16:26:52 2002
From: jmc@research.bell-labs.com (John Chambers)
Date: Mon, 11 Nov 2002 11:26:52 -0500
Subject: C macros NEW and MAKE_CLASS
Message-ID: <3DCFDA4C.E63962C3@research.bell-labs.com>

Definitions of these have been added to the r-devel version, following
page 441 in Programming with Data.

Typical use is in the style:

  char *class = "foo";  SEXP cldef, object;
  clDef = MAKE_CLASS(class);
  object = NEW(clDef);

Let me know of any problems.

John

-- 
John M. Chambers                  jmc@bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jenny@stat.ubc.ca  Mon Nov 11 19:49:58 2002
From: jenny@stat.ubc.ca (jenny@stat.ubc.ca)
Date: Mon, 11 Nov 2002 20:49:58 +0100 (MET)
Subject: PDF graphics -- color weirdness (PR#2281)
Message-ID: <200211111949.UAA00397@pubhealth.ku.dk>

Full_Name: Jenny Bryan
Version: 1.4.1
OS: Linux + Windows 2000
Submission from: (NULL) (24.80.7.215)


I'm using R 1.4.1 to make PDF graphics in a Linux environment.  I then include
them in a LaTeX document that I'm actually typesetting in Windows.  I don't
think the OSes have anything to do with this.

I use the foils documentclass, pdflatex to typeset, ppower4 to postprocess the
pdf file to get some nice features.  Once again, I don't think any of this is
the root of the problem.

It seems that the way R specifies colors for PDF figure elements and text has
quite a bit of diversity in it, but you'd never notice it until you putthese
PDFs onto a dark blue background in a document where "yellow" is the default
document foreground color.

What I've found is that, when the default page color is not white -- such as
when it's dark blue, as is typical for laptop presentations -- the colors in an
included pdf file generate by R can have some unexpected behavior.

I've created a pdf "talk" that is the best way to demonstrate this.  I'd be
pleased to send it to whomever might look into this.

But here's the short version:
Some objects appear to take their color not in an absolute way (as in "black"),
but relative to the current document context (as in some notion of the 'default
color' at this moment.  Which objects do this is pretty unpredictable.  Behavior
also seems to depend on current value of "par("bg").

As far as I can tell, objects in the figure break into three categories:

1) Appear as the color of "fg" (i.e. black) NO MATTER WHAT.  In my small
examples, only seems to happen for the tick mark labels produced by "axis()".

2) Appear as the current notion of the document's default color.  Happens for
figure box, plot points, and axis tick marks produced by "plot()".

3) Affected by the color of "bg".  If "bg = transparent", then these appear in
"fg" color.  If "bg = <somecolor>", then these appear in the current notion of
document default color.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.murrell@auckland.ac.nz  Mon Nov 11 23:58:32 2002
From: p.murrell@auckland.ac.nz (Paul Murrell)
Date: Tue, 12 Nov 2002 12:58:32 +1300
Subject: strwidth(font=NULL)
References: <Pine.LNX.4.31.0211082220400.12649-100000@gannet.stats>
Message-ID: <3DD04428.904A7C3@stat.auckland.ac.nz>

Hi


ripley@stats.ox.ac.uk wrote:
> 
> If you look in the code you will see this is mentioned as a if/when
> possibility in several places.
> 
> See also bug report PR#776, from December 2000, so this is probably in the
> Real Soon Now category.  Paul Murrell might have a better estimate!


I am half way through a change to R's font specification 
(see http://www.stat.auckland.ac.nz/~paul/R/fonts.html
and http://www.stat.auckland.ac.nz/~paul/R/paul-todo.html)
which will eventually filter down to R-code, including this change.

(unfortunately, I cannot give an estimate any more accurate than Brian's
at this stage)

Paul


> On Fri, 8 Nov 2002, David Brahm wrote:
> 
> >    Would it be possible to give strwidth() and strheight() an argument "font",
> > that worked like the "cex" argument (i.e. defaults to current par("font"), but
> > can be overridden)?  Then I could replace this:
> >
> >   R> oldpar <- par(font=2)
> >   R> x <- strwidth("hello")
> >   R> par(oldpar)
> >
> > with this:
> >
> >   R> x <- strwidth("hello", font=2)
> >
> > Thanks!
> 
> --
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Dr Paul Murrell
Department of Statistics
The University of Auckland
Private Bag 92019
Auckland
New Zealand
64 9 3737599 x5392
paul@stat.auckland.ac.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ligges@statistik.uni-dortmund.de  Tue Nov 12 08:44:39 2002
From: ligges@statistik.uni-dortmund.de (ligges@statistik.uni-dortmund.de)
Date: Tue, 12 Nov 2002 09:44:39 +0100 (MET)
Subject: [R] grid(): defaults of nx and ny do not correspond with axis() (PR#2282)
Message-ID: <200211120844.JAA03800@pubhealth.ku.dk>

wolfram@fischer-zim.ch wrote:
> 
> Problem:
>     When tick marks are set by axis(), the default grid() does not always
>     correspond with the tick marks, although the manual of grid() says:
>     nx,ny: ... When `NULL', as per default, the grid aligns with the
>            tick marks on the corresponding axis, when `NA', no grid
>            lines are drawn in the corresponding direction.
> 
> Example:
>     m <- 200; n <- 10; i <- 40
>     plot( 1:n, sample( 1:m, n, T ), type='b', yaxt='n' )
>     axis( side=2, at = seq( 0, m, i ), col='blue' )
>     grid( col='red', lty=2 )


I think the "bug" is a small inconsistency in the help page. With the
current design of axis() and par() it's not (at least not easily)
possible to make grid() that intelligent. For these cases the help page
tells us: "If more fine tuning is required, use abline(h = ., v = .)
directly."

To fix the "bug", I suggest a clarification in ?grid by inserting a few
words in the sentence you are citing, e.g.:
"When `NULL', as per default, the grid aligns with the tick marks on the
corresponding \emph{default} axis (i.e. tickmarks as computed by
axTicks()), [...]".

Uwe Ligges

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jarioksa@sun3.oulu.fi  Tue Nov 12 11:51:41 2002
From: jarioksa@sun3.oulu.fi (jarioksa@sun3.oulu.fi)
Date: Tue, 12 Nov 2002 12:51:41 +0100 (MET)
Subject: Wandering usr values in par(no.readonly=TRUW) (PR#2283)
Message-ID: <200211121151.MAA07319@pubhealth.ku.dk>

--==_Exmh_1801894504P
Content-Type: text/plain; charset=us-ascii

Dear R folks,

Initially I had a plotting routine using logarithmic y-axes that failed after
repeated calls if I tried to restore the graphical parameters (which I wanted to
do because I used `layout' within the routine. I tried to isolate the problem
and found out that the following code with logarithmic axis is sufficient for
reproducing the failure:

> plot2.log
function (x=1:2,y=1:2) 
{
   op <- par(no.readonly=TRUE)
   on.exit(par(op))
   cat(op$usr, "\n")
   plot(x, y, log="y")
   #par(op)
   invisible(op)
}

Here is a session with the typical error message (Infinite axis extents):

> op <- par(no.readonly=TRUE)
> op$usr
[1] 0 1 0 1
> plot2.log()$usr
0 1 0 1 
[1] 0 1 0 1
> plot2.log()$usr
0 1 1 10 
[1]  0  1  1 10
> plot2.log()$usr
0 1 10 1e+10 
Error in par(op) : Infinite axis extents [GPretty(1e+10,inf,5)]

So this happens only with a repeated call to logarithmic axes.

I found out this feature sometimes back in R-1.5*, but I regarded that as my 
own bug. It started to disturb me yesterday when I had a live R session in my 
lectures, and got to edit away the par-restoring code to continue.

Best wishes, Jari Oksanen


--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = 
 major = 1
 minor = 6.1
 year = 2002
 month = 11
 day = 01
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base

-- 
Jari Oksanen -- Dept Biology, Univ Oulu, 90014 Oulu, Finland
Ph. +358 8 5531526, cell +358 40 5136529, fax +358 8 5531061
email jari.oksanen@oulu.fi, homepage http://cc.oulu.fi/~jarioksa/



--==_Exmh_1801894504P
Content-Type: application/pgp-signature

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.6 (GNU/Linux)
Comment: Exmh version 2.1.1 10/15/1999

iD8DBQE90OsUWnxFzE9NjaURAcwSAJwJdXXP/qgUyCFahR4GsWbBxVl0YACeKBPe
AFIwTfrg/l7H0fr0HJONcaI=
=mkza
-----END PGP SIGNATURE-----

--==_Exmh_1801894504P--

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From mschwartz@medanalytics.com  Tue Nov 12 21:51:17 2002
From: mschwartz@medanalytics.com (Marc Schwartz)
Date: Tue, 12 Nov 2002 15:51:17 -0600
Subject: Wandering usr values in par(no.readonly=TRUW) (PR#2283)
In-Reply-To: <200211121151.MAA07319@pubhealth.ku.dk>
Message-ID: <003801c28a95$a246bbe0$0201a8c0@MARC>

> -----Original Message-----
> jarioksa@sun3.oulu.fi
> 
> Dear R folks,
> 
> Initially I had a plotting routine using logarithmic y-axes
> that failed after repeated calls if I tried to restore the 
> graphical parameters (which I wanted to do because I used 
> `layout' within the routine. I tried to isolate the problem 
> and found out that the following code with logarithmic axis 
> is sufficient for reproducing the failure:
> 
> > plot2.log
> function (x=1:2,y=1:2)
> {
>    op <- par(no.readonly=TRUE)
>    on.exit(par(op))
>    cat(op$usr, "\n")
>    plot(x, y, log="y")
>    #par(op)
>    invisible(op)
> }
> 
> Here is a session with the typical error message (Infinite
> axis extents):
> 
> > op <- par(no.readonly=TRUE)
> > op$usr
> [1] 0 1 0 1
> > plot2.log()$usr
> 0 1 0 1
> [1] 0 1 0 1
> > plot2.log()$usr
> 0 1 1 10
> [1]  0  1  1 10
> > plot2.log()$usr
> 0 1 10 1e+10
> Error in par(op) : Infinite axis extents [GPretty(1e+10,inf,5)]
> 
> So this happens only with a repeated call to logarithmic axes.
> 
> I found out this feature sometimes back in R-1.5*, but I
> regarded that as my 
> own bug. It started to disturb me yesterday when I had a live 
> R session in my 
> lectures, and got to edit away the par-restoring code to continue.
> 
> Best wishes, Jari Oksanen

This works outside of the function as well by repeating the following 6
lines, 3 times:

op <- par(no.readonly=TRUE)
plot(1:2, 1:2, log = "y")
par(op)
# take note of the following values as they change with each iteration
op$usr
par("usr")

However, if you close the plot window before each subsequent iteration,
it does not occur and you can repeat ad nauseaum, presumably because a
fresh plotting device with the default pars is being created each time.

It would appear at first glance that the values being returned to
par("usr") from op$usr after the plot() with a log axis are the "log
axis transformed" par("usr") values.

That is par("usr") starts as 0, 1, 0, 1 before plotting. 

After the first log plot, the restored par("usr") is now 0, 1, 1, 10. 

At that point, par("usr")[3:4] which are the y-axis related values, are
10 ^ 0 and 10 ^ 1 respectively, which is consistent with the way that
the par("usr") values are transformed when using log scaling.

This continues on the second iteration as the starting values for
par("usr")[3:4] of 1 and 10 after being restored are now transformed
into 10 ^ 1 and 10 ^ 10 respectively.

It would seem that upon the restoration of the initial stored par
values, the values are being restored as if they are exponents.

BTW, this occurs with log = "x" and log = "xy" as well, thus affecting
the first two and all four par("usr") values, respectively, in a similar
fashion.

I am guessing that this may be the result of par("ylog") and par("xlog")
being read only and perhaps impacting the restoration of the par("usr")
values when the plotting device is still open, but that may be
incorrect.

HTH a little,

Marc Schwartz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Wed Nov 13 13:31:56 2002
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Wed, 13 Nov 2002 14:31:56 +0100 (MET)
Subject: Welch versus Satterthwaith (PR#2111)
Message-ID: <200211131331.OAA20882@pubhealth.ku.dk>

>>>>> "TL" == Thomas Lumley <tlumley@u.washington.edu>
>>>>>     on Sun, 6 Oct 2002 09:19:27 -0700 (PDT) writes:

    TL> On Sat, 5 Oct 2002 roxburg@kih.net wrote:
    >> This is not a bug report but didn't see another way to
    >> ask a question.

    TL> Well, you could try the r-help or r-devel mailing lists

    >> For the approximate t-test assuming unequal variances,
    >> the R docs cite Welch's method for the df of the
    >> approximating distribution.  I have several methods
    >> books, and they all uses Satterthwaite's method.  Why
    >> does R use Welch's method where can I learn about Welch's
    >> method?
    >> 

    TL> It's the same method.

    TL> The t-statistic is the difference in means divided by a
    TL> more-or-less unbiased estimate of its standard
    TL> deviation. There's only one natural way to do this and
    TL> in sufficiently large samples that's all you need.

    TL> The more difficult part is the sampling distribution,
    TL> which is approximated by a t-distribution with degrees
    TL> of freedom from some complicated formula involving the
    TL> two sample sizes and variances.  It was indepedently
    TL> derived by Welch and Satterthwaite.


I've added "Satterthwaite" to the help page now.
Martin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From mschwartz@medanalytics.com  Wed Nov 13 17:01:49 2002
From: mschwartz@medanalytics.com (Marc Schwartz)
Date: Wed, 13 Nov 2002 11:01:49 -0600
Subject: Wandering usr values in par(no.readonly=TRUW) (PR#2283)
Message-ID: <008f01c28b36$5ccf75b0$0201a8c0@MARC>

Marc Schwartz wrote:
>
> SNIP
>
> I am guessing that this may be the result of par("ylog") and
> par("xlog") being read only and perhaps impacting the restoration of 
> the par("usr") values when the plotting device is still open, but
> that may be incorrect.   

In follow up to my own note from last evening on this and now that I
have had a couple of cups of coffee this morning, I need to partially
correct my above statement and point to a presumed typo in the ?par help
file.  For confirmation, this is R 1.6.1 under WinXP Pro.

par("xlog") and par("ylog") are not Read Only parameters as listed in
the help file and can be set by the user.  Indeed this is confirmed in
the comments in par.r:

#.Pars.readonly <- c("cin","cra","csi","cxy","din")

I noted this today as I was comparing the output of par() with
par(no.readonly = TRUE) and noted that the latter returns '$xlog' and
$ylog' as being settable. The other 5 par values listed in ?par as
"R.O." (cin, cra, csi, cxy and din) return errors when one attempts to
set them with par(args), however xlog and ylog do not.

Jari and I had an offline exchange earlier this morning in which I
offered the following example code as a short term fix for the problem
he identified. This replaces the on.exit(par(op)) with code to reset the
par("usr") values explicity at the end of the function, since the
"looping" use of the function is stopped anyway if the function exits
prematurely.

plot2.log <- function (x=1:2,y=1:2)
{
  op <- par(no.readonly=TRUE)

  cat(op$usr, "\n")
  plot(x, y, log="y")

  # restore par
  par(op)

  # show post restoration par("usr")
  cat(par("usr"), "\n")

  # set up usr for log transform
  usr <- par("usr")
  usr[3:4] <- log10(usr[3:4])
  par(usr = usr)

  # show post transform par("usr")
  cat(par("usr"), "\n")
}



However, upon now noting the presumed typos in ?par, I have played
around with the following code to see the impact of setting par("ylog")
on the restoration of the par("usr") values after the log scale plot is
created.  Indeed, if I reset par("ylog") explicitly to "FALSE" prior to
the par(op), par("usr") is properly restored. Thus it would appear that
I was partially correct in presuming that the value of par("ylog")
impacts the value of par("usr") when restoring the initial values.


plot2.log <- function (x=1:2,y=1:2)
{
  op <- par(no.readonly=TRUE)

  # show current op$usr
  cat(op$usr, "\n")

  plot(x, y, log="y")

  # restore par, first setting 'ylog' to FALSE
  par(ylog = FALSE)
  par(op)

  # show post restoration par("usr")
  cat(par("usr"), "\n")
}



As a test of this theory, I also tried the following, which uses the
same underlying code, except that it now plots a normal linear y axis
and I explicitly set par("ylog") to TRUE prior to par(op).  Note the
value of par("usr") post restoration.

plot2.log <- function (x=1:2,y=1:2)
{
  op <- par(no.readonly=TRUE)

  # show current op$usr
  cat(op$usr, "\n")

  plot(x, y)

  # restore par, first setting 'ylog' to FALSE
  par(ylog = TRUE)
  par(op)

  # show post restoration par("usr")
  cat(par("usr"), "\n")
}


So it would seem that the values of 'xlog' and 'ylog' do impact the
proper restoration of the par("usr") values.

I have now reviewed par.c and have found the following code in
Specify():

            ...

	if (Rf_gpptr(dd)->ylog) {
	    R_DEV_2(logusr[2]) = REAL(value)[2];
	    R_DEV_2(logusr[3]) = REAL(value)[3];
	    R_DEV_2(usr[2]) = pow(10., REAL(value)[2]);
	    R_DEV_2(usr[3]) = pow(10., REAL(value)[3]);

            ...

There is similar code for 'xlog'.

Thus, this would confirm that the values of 'xlog' and 'ylog' do indeed
affect the restoration values of par("usr").

Lastly, there is a note in ?par that read as follows:

Note:

     The effect of restoring all the (settable) graphics parameters as
     in the examples is hard to predict if the device has been resized.
     Several of them are attempting to set the same things in different
     ways, and those last in the alphabet will win.  In particular, the
     settings of `mai', `mar', `pin', `plt' and `pty' interact, as do
     the outer margin settings, the figure layout and figure region
     size.

In this case, the device is not being resized and it is not clear from
the note that par("usr") is affected. However, given that both 'xlog'
and 'ylog' are alphabetically after it, once could infer that this
behavior is sort of documented, since 'usr' would be set prior to 'xlog'
and 'ylog' being set back to FALSE in this scenario.

I may need yet more coffee, but at the moment I cannot envision possible
impacts of first checking to see if 'xlog' and/or 'ylog' are being set
back to FALSE as part of the above code in par.c, before setting
par("usr"). This could be feasibly be accomplished by moving the code
for setting 'xlog' and 'ylog' in par.c to before the code for 'usr'.

If there are in fact other issues that such a fix would create, I would
suggest a note be added to ?par that would identify that par("usr") is
not restored properly from saved values if a log scaled axis is used and
that a solution would be to explicitly set the values of 'xlog' and
'ylog' to FALSE prior to restoration.

Hope this helps,

Marc Schwartz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Wed Nov 13 17:48:27 2002
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Wed, 13 Nov 2002 18:48:27 +0100 (MET)
Subject: Wandering usr values in par(no.readonly=TRUE) (PR#2283)
Message-ID: <200211131748.SAA23636@pubhealth.ku.dk>

>>>>> "Marc" == Marc Schwartz <mschwartz@medanalytics.com>
>>>>>     on Wed, 13 Nov 2002 11:01:49 -0600 writes:

    Marc> Marc Schwartz wrote:
    >>  SNIP
    >> 
    >> I am guessing that this may be the result of par("ylog")
    >> and par("xlog") being read only and perhaps impacting the
    >> restoration of the par("usr") values when the plotting
    >> device is still open, but that may be incorrect.

    Marc> In follow up to my own note from last evening on this
    Marc> and now that I have had a couple of cups of coffee
    Marc> this morning, I need to partially correct my above
    Marc> statement and point to a presumed typo in the ?par
    Marc> help file.  For confirmation, this is R 1.6.1 under
    Marc> WinXP Pro.

    Marc> par("xlog") and par("ylog") are not Read Only
    Marc> parameters as listed in the help file and can be set
    Marc> by the user.  Indeed this is confirmed in the comments
    Marc> in par.r:

    Marc> #.Pars.readonly <- c("cin","cra","csi","cxy","din")

    Marc> I noted this today as I was comparing the output of
    Marc> par() with par(no.readonly = TRUE) and noted that the
    Marc> latter returns '$xlog' and $ylog' as being
    Marc> settable. The other 5 par values listed in ?par as
    Marc> "R.O." (cin, cra, csi, cxy and din) return errors when
    Marc> one attempts to set them with par(args), however xlog
    Marc> and ylog do not.

Yes, indeed, and I -- as an R-core member -- am astonished:.
I didn't know it really worked, but it does, e.g., 

  > plot(1:10); par("usr")
  [1]  0.64 10.36  0.64 10.36
  > par(xlog = TRUE); par(c("xlog","usr"))
  $xlog
  [1] TRUE

  $usr
  [1] -0.1938200  1.0153598  0.6400000 10.3600000

  > points(10^(1:9), 1 + 1:9, col = "red") # draws red points above 


I'm now re-directing this back to R-bugs to make sure that 
the only (right?) remaining bug, documentation in par.Rd, 
will be fixed -- and hope to close this as a bug report.

    Marc>   ..........
    Marc>   <more good analysis>

Thank you Marc!

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From mschwartz@medanalytics.com  Wed Nov 13 19:08:42 2002
From: mschwartz@medanalytics.com (Marc Schwartz)
Date: Wed, 13 Nov 2002 13:08:42 -0600
Subject: Wandering usr values in par(no.readonly=TRUE) (PR#2283)
In-Reply-To: <200211131748.SAA23636@pubhealth.ku.dk>
Message-ID: <000201c28b48$15c93810$0201a8c0@MARC>

Martin wrote:
> SNIP
> 
> Thank you Marc!

Glad to be of help Martin.  

For the sake of completeness, I ran the same examples on my Linux (RH 8)
install of R 1.6.1 and observed the same behavior.

Best regards,

Marc Schwartz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tim@timcohn.com  Wed Nov 13 22:05:22 2002
From: tim@timcohn.com (tim@timcohn.com)
Date: Wed, 13 Nov 2002 23:05:22 +0100 (MET)
Subject: survreg (survival) reports erroneous results for left-censored data (PR#2287)
Message-ID: <200211132205.XAA24465@pubhealth.ku.dk>

Full_Name: Tim Cohn
Version: 1.6.1
OS: Macintosh OS X
Submission from: (NULL) (130.11.34.250)


The Mac version of survreg does not handle left-censored data correctly (at
least the results are not what I get doing it other ways, and they are not the
same as I get running R 1.6.1 in Windows 98se;  the Windows 98 results are
correct).  On the windows version of R 1.6.1. 

> survreg(Surv(c(0,1,-1),c(T,T,F),type='left')~1,dist='gaussian')
Call:
survreg(formula = Surv(c(0, 1, -1), c(T, T, F), type = "left") ~ 
    1, dist = "gaussian")

Coefficients:
(Intercept) 
 -0.2321569 

Scale= 1.161135 

Loglik(model)= -4.1   Loglik(intercept only)= -4.1
n= 3 


=================

The Macintosh OS X result for the same command is:

> survreg(Surv(c(0,1,-1),c(T,T,F),type='left')~1,dist='gaussian')
Call:
survreg(formula = Surv(c(0, 1, -1), c(T, T, F), type = "left") ~ 
    1, dist = "gaussian")

Coefficients:
(Intercept) 
 -0.7373613 

Scale= 1.366282 

Loglik(model)= -5.6   Loglik(intercept only)= -5.6
n= 3 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From mschwartz@medanalytics.com  Wed Nov 13 23:06:00 2002
From: mschwartz@medanalytics.com (Marc Schwartz)
Date: Wed, 13 Nov 2002 17:06:00 -0600
Subject: Wandering usr values in par(no.readonly=TRUE) (PR#2283)
In-Reply-To: <200211131748.SAA23636@pubhealth.ku.dk>
Message-ID: <001901c28b69$3cbef650$0201a8c0@MARC>

Martin wrote:
> I'm now re-directing this back to R-bugs to make sure that
> the only (right?) remaining bug, documentation in par.Rd,
> will be fixed -- and hope to close this as a bug report.

Martin,

My apologies, as I may have missed this in my first reading of your
reply, but I wanted to be sure that it was clear that there are two
separate bugs here. The first, which I found this morning in the process
of tracking down Jari's issue and the second which Jari observed in his
initial post, which started this thread yesterday.

Bug 1. The documentation in par.Rd needs to be corrected in that
par("xlog") and par("ylog") are not R.O. I presume that this is what you
are referring to above.


Bug 2. The improper restoration of par("usr") from saved values after
using log scaled axes. This is a result of the sequence of the code in
the par.c Specify() function (ie. par("usr") being set before
par("xlog") and par("ylog") are being set back to FALSE).

Possible solutions:

A. The code in par.c needs to be changed (possibly as I suggested
earlier) to enable the proper restoration of par("usr") after log scaled
axes are used

OR

B. If this is not possible due to causing other problems, par.Rd needs
to have a warning note added to inform users that par("usr") will not be
properly restored after log scales are used and that a possible solution
would be to explicitly set par(xlog = FALSE) and par(ylog = FALSE)
before restoring 'par' from saved values.  This solution of course falls
short if a function using this approach exits prematurely. One could
include code in the on.exit() function to reset 'xlog' and 'ylog' before
restoring 'par'. For example, using Jari's initial function plot2.log():

plot2.log <- function(x=1:2,y=1:2) 
{
  op <- par(no.readonly = TRUE)

  exit.restore <- function()
  {
    par(xlog =FALSE)
    par(ylog = FALSE)
    par(op)
  }

  on.exit(exit.restore())

  plot(x, y, log = "y")
}


Again, my apologies if I am mis-reading the section from your reply
above.

Regards,

Marc Schwartz



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From deleeuw@stat.ucla.edu  Thu Nov 14 01:47:29 2002
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Wed, 13 Nov 2002 17:47:29 -0800
Subject: survreg (survival) reports erroneous results for left-censored data (PR#2287)
In-Reply-To: <200211132205.XAA24465@pubhealth.ku.dk>
Message-ID: <088EF7B3-F773-11D6-BFC6-000393860F3C@stat.ucla.edu>

Using R-1.6.1 on OS X (Darwin)

Call:
survreg(formula = Surv(c(0, 1, -1), c(T, T, F), type = "left") ~
     1, dist = "gaussian")

Coefficients:
(Intercept)
  -0.2321569

Scale= 1.161135

Loglik(model)= -4.1   Loglik(intercept only)= -4.1
n= 3

No problemo. And, in fact, I get the same results in
the R-1.6.0 Carbon version.

--- Jan

On Wednesday, November 13, 2002, at 02:05 PM, tim@timcohn.com wrote:

> Full_Name: Tim Cohn
> Version: 1.6.1
> OS: Macintosh OS X
> Submission from: (NULL) (130.11.34.250)
>
>
> The Mac version of survreg does not handle left-censored data  
> correctly (at
> least the results are not what I get doing it other ways, and they are  
> not the
> same as I get running R 1.6.1 in Windows 98se;  the Windows 98 results  
> are
> correct).  On the windows version of R 1.6.1.
>
>> survreg(Surv(c(0,1,-1),c(T,T,F),type='left')~1,dist='gaussian')
> Call:
> survreg(formula = Surv(c(0, 1, -1), c(T, T, F), type = "left") ~
>     1, dist = "gaussian")
>
> Coefficients:
> (Intercept)
>  -0.2321569
>
> Scale= 1.161135
>
> Loglik(model)= -4.1   Loglik(intercept only)= -4.1
> n= 3
>
>
> =================
>
> The Macintosh OS X result for the same command is:
>
>> survreg(Surv(c(0,1,-1),c(T,T,F),type='left')~1,dist='gaussian')
> Call:
> survreg(formula = Surv(c(0, 1, -1), c(T, T, F), type = "left") ~
>     1, dist = "gaussian")
>
> Coefficients:
> (Intercept)
>  -0.7373613
>
> Scale= 1.366282
>
> Loglik(model)= -5.6   Loglik(intercept only)= -5.6
> n= 3
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
> .-.-.-.-.-
> r-devel mailing list -- Read  
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To:  
> r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
> ._._._._
>
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://gifi.stat.ucla.edu
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au
   
------------------------------------------------------------------------ 
-------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Nov 14 10:04:58 2002
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 14 Nov 2002 11:04:58 +0100
Subject: R mailing lists: move from majordomo to [procmail+mailman]
Message-ID: <15827.30026.260485.901432@gargle.gargle.HOWL>


We have locally collected good experience the last few weeks
using procmail-spam filtering, inclduing spamassassin to the
procmail filters.

The last two spams that went past the majordomo filters (the
"traditional ones I've been using) through to R-devel both were not
delivered to me, be but caught by the filters.

I have now collected a bit more of a week experience using the
new scheme also for R-core (and ESS-core) and few other larger
lists but with *much* lower volume successfully.
Also, all the R-SIG-* and the bioconductor lists are handled by
the new scheme. 
This also entails that their web interface (including archives)
can now be advertized as much as you want, since I hope the new
spam protection will suffice (and be tweaked to become better, too).

Have a look at the Web interface at
http://www.stat.math.ethz.ch/mailman/listinfo/

As indicated a few days ago, I want to convert all the remaining
R lists ASAP -- but carefully. 
I plan to do R-devel quite a bit before R-help (and R-announce),
partly because the list is quite a bit smaller (and has no
"gateway" as the R-announce -> R-help one).

I'll send another e-mail here, before the (visible) action
really start.

Feedback welcome!
---
Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Thu Nov 14 16:05:29 2002
From: tlumley@u.washington.edu (tlumley@u.washington.edu)
Date: Thu, 14 Nov 2002 17:05:29 +0100 (MET)
Subject: survreg (survival) reports erroneous results for left-censored (PR#2291)
Message-ID: <200211141605.RAA04121@pubhealth.ku.dk>

On Wed, 13 Nov 2002, Jan de Leeuw wrote:

>
> No problemo. And, in fact, I get the same results in
> the R-1.6.0 Carbon version.

I don't. Could there be a G3/G4 issue?

	-thomas


> --- Jan
>
> On Wednesday, November 13, 2002, at 02:05 PM, tim@timcohn.com wrote:
>
> > Full_Name: Tim Cohn
> > Version: 1.6.1
> > OS: Macintosh OS X
> > Submission from: (NULL) (130.11.34.250)
> >
> >
> > The Mac version of survreg does not handle left-censored data
> > correctly (at
> > least the results are not what I get doing it other ways, and they are
> > not the
> > same as I get running R 1.6.1 in Windows 98se;  the Windows 98 results
> > are
> > correct).  On the windows version of R 1.6.1.
> >
> >> survreg(Surv(c(0,1,-1),c(T,T,F),type='left')~1,dist='gaussian')
> > Call:
> > survreg(formula = Surv(c(0, 1, -1), c(T, T, F), type = "left") ~
> >     1, dist = "gaussian")
> >
> > Coefficients:
> > (Intercept)
> >  -0.2321569
> >
> > Scale= 1.161135
> >
> > Loglik(model)= -4.1   Loglik(intercept only)= -4.1
> > n= 3
> >
> >
> > =================
> >
> > The Macintosh OS X result for the same command is:
> >
> >> survreg(Surv(c(0,1,-1),c(T,T,F),type='left')~1,dist='gaussian')
> > Call:
> > survreg(formula = Surv(c(0, 1, -1), c(T, T, F), type = "left") ~
> >     1, dist = "gaussian")
> >
> > Coefficients:
> > (Intercept)
> >  -0.7373613
> >
> > Scale= 1.366282
> >
> > Loglik(model)= -5.6   Loglik(intercept only)= -5.6
> > n= 3
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > .-.-.-.-.-
> > r-devel mailing list -- Read
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To:
> > r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> > ._._._._
> >
> >
> ===
> Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
> Editor: Journal of Multivariate Analysis, Journal of Statistical
> Software
> US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
> phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
> homepage: http://gifi.stat.ucla.edu
>
> ------------------------------------------------------------------------
> -------------------------
>            No matter where you go, there you are. --- Buckaroo Banzai
>                     http://gifi.stat.ucla.edu/sounds/nomatter.au
>
> ------------------------------------------------------------------------
> -------------------------
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

Thomas Lumley			Asst. Professor, Biostatistics
tlumley@u.washington.edu	University of Washington, Seattle
^^^^^^^^^^^^^^^^^^^^^^^^
- NOTE NEW EMAIL ADDRESS


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Thu Nov 14 16:04:37 2002
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Thu, 14 Nov 2002 08:04:37 -0800 (PST)
Subject: survreg (survival) reports erroneous results for left-censored
 data (PR#2287)
In-Reply-To: <088EF7B3-F773-11D6-BFC6-000393860F3C@stat.ucla.edu>
Message-ID: <Pine.A41.4.44.0211140803460.79438-100000@homer07.u.washington.edu>

On Wed, 13 Nov 2002, Jan de Leeuw wrote:

>
> No problemo. And, in fact, I get the same results in
> the R-1.6.0 Carbon version.

I don't. Could there be a G3/G4 issue?

	-thomas


> --- Jan
>
> On Wednesday, November 13, 2002, at 02:05 PM, tim@timcohn.com wrote:
>
> > Full_Name: Tim Cohn
> > Version: 1.6.1
> > OS: Macintosh OS X
> > Submission from: (NULL) (130.11.34.250)
> >
> >
> > The Mac version of survreg does not handle left-censored data
> > correctly (at
> > least the results are not what I get doing it other ways, and they are
> > not the
> > same as I get running R 1.6.1 in Windows 98se;  the Windows 98 results
> > are
> > correct).  On the windows version of R 1.6.1.
> >
> >> survreg(Surv(c(0,1,-1),c(T,T,F),type='left')~1,dist='gaussian')
> > Call:
> > survreg(formula = Surv(c(0, 1, -1), c(T, T, F), type = "left") ~
> >     1, dist = "gaussian")
> >
> > Coefficients:
> > (Intercept)
> >  -0.2321569
> >
> > Scale= 1.161135
> >
> > Loglik(model)= -4.1   Loglik(intercept only)= -4.1
> > n= 3
> >
> >
> > =================
> >
> > The Macintosh OS X result for the same command is:
> >
> >> survreg(Surv(c(0,1,-1),c(T,T,F),type='left')~1,dist='gaussian')
> > Call:
> > survreg(formula = Surv(c(0, 1, -1), c(T, T, F), type = "left") ~
> >     1, dist = "gaussian")
> >
> > Coefficients:
> > (Intercept)
> >  -0.7373613
> >
> > Scale= 1.366282
> >
> > Loglik(model)= -5.6   Loglik(intercept only)= -5.6
> > n= 3
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > .-.-.-.-.-
> > r-devel mailing list -- Read
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To:
> > r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> > ._._._._
> >
> >
> ===
> Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
> Editor: Journal of Multivariate Analysis, Journal of Statistical
> Software
> US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
> phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
> homepage: http://gifi.stat.ucla.edu
>
> ------------------------------------------------------------------------
> -------------------------
>            No matter where you go, there you are. --- Buckaroo Banzai
>                     http://gifi.stat.ucla.edu/sounds/nomatter.au
>
> ------------------------------------------------------------------------
> -------------------------
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

Thomas Lumley			Asst. Professor, Biostatistics
tlumley@u.washington.edu	University of Washington, Seattle
^^^^^^^^^^^^^^^^^^^^^^^^
- NOTE NEW EMAIL ADDRESS

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From deleeuw@stat.ucla.edu  Thu Nov 14 16:09:27 2002
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Thu, 14 Nov 2002 08:09:27 -0800
Subject: survreg (survival) reports erroneous results for left-censored data (PR#2287)
In-Reply-To: <Pine.A41.4.44.0211140803460.79438-100000@homer07.u.washington.edu>
Message-ID: <733B8BF8-F7EB-11D6-91DB-000393860F3C@stat.ucla.edu>

I take that back. I now get the "correct" result on Darwin R-1.6.1, the  
"wrong" result
with Carbon R-1.6.0. On a dual G4 with 10.2.2.

On Thursday, November 14, 2002, at 08:04 AM, Thomas Lumley wrote:

> On Wed, 13 Nov 2002, Jan de Leeuw wrote:
>
>>
>> No problemo. And, in fact, I get the same results in
>> the R-1.6.0 Carbon version.
>
> I don't. Could there be a G3/G4 issue?
>
> 	-thomas
>
>
>> --- Jan
>>
>> On Wednesday, November 13, 2002, at 02:05 PM, tim@timcohn.com wrote:
>>
>>> Full_Name: Tim Cohn
>>> Version: 1.6.1
>>> OS: Macintosh OS X
>>> Submission from: (NULL) (130.11.34.250)
>>>
>>>
>>> The Mac version of survreg does not handle left-censored data
>>> correctly (at
>>> least the results are not what I get doing it other ways, and they  
>>> are
>>> not the
>>> same as I get running R 1.6.1 in Windows 98se;  the Windows 98  
>>> results
>>> are
>>> correct).  On the windows version of R 1.6.1.
>>>
>>>> survreg(Surv(c(0,1,-1),c(T,T,F),type='left')~1,dist='gaussian')
>>> Call:
>>> survreg(formula = Surv(c(0, 1, -1), c(T, T, F), type = "left") ~
>>>     1, dist = "gaussian")
>>>
>>> Coefficients:
>>> (Intercept)
>>>  -0.2321569
>>>
>>> Scale= 1.161135
>>>
>>> Loglik(model)= -4.1   Loglik(intercept only)= -4.1
>>> n= 3
>>>
>>>
>>> =================
>>>
>>> The Macintosh OS X result for the same command is:
>>>
>>>> survreg(Surv(c(0,1,-1),c(T,T,F),type='left')~1,dist='gaussian')
>>> Call:
>>> survreg(formula = Surv(c(0, 1, -1), c(T, T, F), type = "left") ~
>>>     1, dist = "gaussian")
>>>
>>> Coefficients:
>>> (Intercept)
>>>  -0.7373613
>>>
>>> Scale= 1.366282
>>>
>>> Loglik(model)= -5.6   Loglik(intercept only)= -5.6
>>> n= 3
>>>
>>>
>>> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>>> .-.-.-.-.-
>>> r-devel mailing list -- Read
>>> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>>> Send "info", "help", or "[un]subscribe"
>>> (in the "body", not the subject !)  To:
>>> r-devel-request@stat.math.ethz.ch
>>> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
>>> ._
>>> ._._._._
>>>
>>>
>> ===
>> Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
>> Editor: Journal of Multivariate Analysis, Journal of Statistical
>> Software
>> US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
>> phone (310)-825-9550;  fax (310)-206-5658;  email:  
>> deleeuw@stat.ucla.edu
>> homepage: http://gifi.stat.ucla.edu
>>
>> ---------------------------------------------------------------------- 
>> --
>> -------------------------
>>            No matter where you go, there you are. --- Buckaroo Banzai
>>                     http://gifi.stat.ucla.edu/sounds/nomatter.au
>>
>> ---------------------------------------------------------------------- 
>> --
>> -------------------------
>>
>> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
>> .-.-.-.-.-
>> r-devel mailing list -- Read  
>> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>> Send "info", "help", or "[un]subscribe"
>> (in the "body", not the subject !)  To:  
>> r-devel-request@stat.math.ethz.ch
>> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._. 
>> _._._._._
>>
>
> Thomas Lumley			Asst. Professor, Biostatistics
> tlumley@u.washington.edu	University of Washington, Seattle
> ^^^^^^^^^^^^^^^^^^^^^^^^
>- NOTE NEW EMAIL ADDRESS
>
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://gifi.stat.ucla.edu
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au
   
------------------------------------------------------------------------ 
-------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gwright@packetstorm.com  Thu Nov 14 16:14:38 2002
From: gwright@packetstorm.com (Gregory Wright)
Date: Thu, 14 Nov 2002 11:14:38 -0500
Subject: R-1.6.1, Mac OS X 10.2.2 build failure
Message-ID: <2CAEB6C9-F7EC-11D6-BD14-00039398F084@packetstorm.com>


I tried building R-1.6.1 under Mac OS X 10.2.2 and experienced the 
following build failure:

<...stuff omitted...>
cc1: warning: changing search order for system directory 
"/usr/local/include"
cc1: warning:   as it has already been specified as a non-system 
directory
gcc -bundle -flat_namespace -undefined suppress -L/usr/local/lib -o 
ctest.so ansari.o chisqsim.o d2x2xk.o fexact.o kendall.o ks.o prho.o 
swilk.o init.o  -L/usr/local/lib 
-L/opt/local/lib/gcc-lib/powerpc-apple-darwin6.2/3.1 
-L/opt/local/lib/gcc-lib/powerpc-apple-darwin6.2/3.1/../../.. 
-lreadline -ldl -lncurses -lm -lfrtbegin -lg2c -lSystem
../../../../library/ctest/libs/ctest.so is unchanged
building package 'eda'
../../../library/eda/R/eda is unchanged
../../../library/eda/man/eda.Rd is unchanged
make[5]: `Makedeps' is up to date.
../../../../library/eda/libs/eda.so is unchanged
building package 'lqs'
../../../library/lqs/R/lqs is unchanged
../../../library/lqs/man/lqs.Rd is unchanged
make[5]: `Makedeps' is up to date.
../../../../library/lqs/libs/lqs.so is unchanged
building package 'methods'
all.R is unchanged
../../../library/methods/man/methods.Rd is unchanged
make[5]: `Makedeps' is up to date.
../../../../library/methods/libs/methods.so is unchanged
dumping R code in package 'methods'
Error in .Call("R_initialize_methods_metadata", table, PACKAGE = 
"methods") :
         .Call function name not in load table
Execution halted
make[4]: *** [../../../library/methods/R/all.rda] Error 1
make[3]: *** [all] Error 2
make[2]: *** [R] Error 1
make[1]: *** [R] Error 1
make: *** [R] Error 1


The configuration was:

bash-2.05a$ export TCLTK_LIBS="-framework Tcl -framework Tk"
bash-2.05a$ export 
TCLTK_CPPFLAGS="-I/Library/Frameworks/Tcl.framework/Headers 
-I/Library/Frameworks/Tk/frameworks/Headers"
bash-2.05a$ ./configure 
--with-tcl-config=/Library/Frameworks/Tcl.framework/tclConfig.sh 
--with-tk-config=/Library/Frameworks/Tk.framework/tkConfig.sh

The compiler was gcc-3.1 (Mac OS X developer tools, with August and 
November 2002 updates) g77 (from DarwinPorts, not fink). libreadline 
was manually installed (not fink or DarwinPorts); a convenience for 
some other work. Tcl/Tk is 8.4.1 from sourceforge.

The hardware platform is a TiBook G4, 800 MHz.

Let me know what I can do to help track down this problem.

Best Wishes,

Greg Wright

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From deleeuw@stat.ucla.edu  Thu Nov 14 17:35:26 2002
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Thu, 14 Nov 2002 09:35:26 -0800
Subject: R-1.6.1, Mac OS X 10.2.2 build failure
In-Reply-To: <2CAEB6C9-F7EC-11D6-BD14-00039398F084@packetstorm.com>
Message-ID: <75DF168B-F7F7-11D6-B1DB-000393860F3C@stat.ucla.edu>

I know what I would do. It does not rebuild "methods". I would do a
make distclean in your build directory and configure from scratch.


On Thursday, November 14, 2002, at 08:14 AM, Gregory Wright wrote:

>
> I tried building R-1.6.1 under Mac OS X 10.2.2 and experienced the  
> following build failure:
>
> <...stuff omitted...>
> cc1: warning: changing search order for system directory  
> "/usr/local/include"
> cc1: warning:   as it has already been specified as a non-system  
> directory
> gcc -bundle -flat_namespace -undefined suppress -L/usr/local/lib -o  
> ctest.so ansari.o chisqsim.o d2x2xk.o fexact.o kendall.o ks.o prho.o  
> swilk.o init.o  -L/usr/local/lib  
> -L/opt/local/lib/gcc-lib/powerpc-apple-darwin6.2/3.1  
> -L/opt/local/lib/gcc-lib/powerpc-apple-darwin6.2/3.1/../../..  
> -lreadline -ldl -lncurses -lm -lfrtbegin -lg2c -lSystem
> ../../../../library/ctest/libs/ctest.so is unchanged
> building package 'eda'
> ../../../library/eda/R/eda is unchanged
> ../../../library/eda/man/eda.Rd is unchanged
> make[5]: `Makedeps' is up to date.
> ../../../../library/eda/libs/eda.so is unchanged
> building package 'lqs'
> ../../../library/lqs/R/lqs is unchanged
> ../../../library/lqs/man/lqs.Rd is unchanged
> make[5]: `Makedeps' is up to date.
> ../../../../library/lqs/libs/lqs.so is unchanged
> building package 'methods'
> all.R is unchanged
> ../../../library/methods/man/methods.Rd is unchanged
> make[5]: `Makedeps' is up to date.
> ../../../../library/methods/libs/methods.so is unchanged
> dumping R code in package 'methods'
> Error in .Call("R_initialize_methods_metadata", table, PACKAGE =  
> "methods") :
>         .Call function name not in load table
> Execution halted
> make[4]: *** [../../../library/methods/R/all.rda] Error 1
> make[3]: *** [all] Error 2
> make[2]: *** [R] Error 1
> make[1]: *** [R] Error 1
> make: *** [R] Error 1
>
>
> The configuration was:
>
> bash-2.05a$ export TCLTK_LIBS="-framework Tcl -framework Tk"
> bash-2.05a$ export  
> TCLTK_CPPFLAGS="-I/Library/Frameworks/Tcl.framework/Headers  
> -I/Library/Frameworks/Tk/frameworks/Headers"
> bash-2.05a$ ./configure  
> --with-tcl-config=/Library/Frameworks/Tcl.framework/tclConfig.sh  
> --with-tk-config=/Library/Frameworks/Tk.framework/tkConfig.sh
>
> The compiler was gcc-3.1 (Mac OS X developer tools, with August and  
> November 2002 updates) g77 (from DarwinPorts, not fink). libreadline  
> was manually installed (not fink or DarwinPorts); a convenience for  
> some other work. Tcl/Tk is 8.4.1 from sourceforge.
>
> The hardware platform is a TiBook G4, 800 MHz.
>
> Let me know what I can do to help track down this problem.
>
> Best Wishes,
>
> Greg Wright
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
> .-.-.-.-.-
> r-devel mailing list -- Read  
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To:  
> r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
> ._._._._
>
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://gifi.stat.ucla.edu
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au
   
------------------------------------------------------------------------ 
-------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gwright@packetstorm.com  Thu Nov 14 20:43:27 2002
From: gwright@packetstorm.com (Gregory Wright)
Date: Thu, 14 Nov 2002 15:43:27 -0500
Subject: R-1.6.1, Mac OS X 10.2.2 build failure
In-Reply-To: <75DF168B-F7F7-11D6-B1DB-000393860F3C@stat.ucla.edu>
Message-ID: <BA12AEFB-F811-11D6-952D-00039398F084@packetstorm.com>


On Thursday, November 14, 2002, at 12:35 PM, Jan de Leeuw wrote:

> I know what I would do. It does not rebuild "methods". I would do a
> make distclean in your build directory and configure from scratch.
>
>
>

Hi,

I unpacked a fresh 1.6.1 tarball, reconfigured and rebuilt from 
scratch. The results were similar:

<...stuff omitted..>
cc1: warning: changing search order for system directory 
"/usr/local/include"
cc1: warning:   as it has already been specified as a non-system 
directory
gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include   
-fno-common  -g -O2 -c methods_list_dispatch.c -o 
methods_list_dispatch.o
cc1: warning: changing search order for system directory 
"/usr/local/include"
cc1: warning:   as it has already been specified as a non-system 
directory
gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include   
-fno-common  -g -O2 -c method_meta_data.c -o method_meta_data.o
cc1: warning: changing search order for system directory 
"/usr/local/include"
cc1: warning:   as it has already been specified as a non-system 
directory
gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include   
-fno-common  -g -O2 -c slot.c -o slot.o
cc1: warning: changing search order for system directory 
"/usr/local/include"
cc1: warning:   as it has already been specified as a non-system 
directory
gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include   
-fno-common  -g -O2 -c class_support.c -o class_support.o
cc1: warning: changing search order for system directory 
"/usr/local/include"
cc1: warning:   as it has already been specified as a non-system 
directory
gcc -bundle -flat_namespace -undefined suppress -L/usr/local/lib -o 
methods.so do_substitute_direct.o methods_list_dispatch.o 
method_meta_data.o slot.o class_support.o
mkdir -p -- ../../../../library/methods/libs
dumping R code in package 'methods'
Error in .Call("R_initialize_methods_metadata", table, PACKAGE = 
"methods") :
         .Call function name not in load table
Execution halted
make[4]: *** [../../../library/methods/R/all.rda] Error 1
make[3]: *** [all] Error 2
make[2]: *** [R] Error 1
make[1]: *** [R] Error 1
make: *** [R] Error 1

The configuration was

bash-2.05a$ export TCLTK_LIBS="-framework Tcl -framework Tk"
bash-2.05a$ export 
TCLTK_CPPFLAGS="-I/Library/Frameworks/Tcl.framework/Headers 
-I/Library/Frameworks/Tk.framework/Headers"
./configure 
--with-tcl-config=/Library/Frameworks/Tcl.framework/tclConfig.sh 
--with-tk-config=/Library/Frameworks/Tk.framework/tkConfig.sh


and configure's summary was

R is now configured for powerpc-apple-darwin6.2

   Source directory:          .
   Installation directory:    /usr/local

   C compiler:                gcc  -g -O2
   C++ compiler:              g++  -g -O2
   Fortran compiler:          g77  -g -O2

   X11 support:               yes
   Gnome support:             no
   Tcl/Tk support:            yes
   Readline support:          yes

   R profiling support:       yes
   R as a shared library:     no

   Recommended packages:      yes


Is there something obvious that I should be examining to find the root 
of the this?

Best Wishes,
Greg Wright

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@stat.uiowa.edu  Thu Nov 14 22:34:08 2002
From: luke@stat.uiowa.edu (Luke Tierney)
Date: Thu, 14 Nov 2002 16:34:08 -0600 (CST)
Subject: R-1.6.1, Mac OS X 10.2.2 build failure
In-Reply-To: <BA12AEFB-F811-11D6-952D-00039398F084@packetstorm.com>
Message-ID: <Pine.LNX.4.44.0211141631250.20208-100000@itasca.stat.uiowa.edu>

You might want to double check the dlcompat you have.  THere was some
discussiion about this a week or two ago in conneciton with plain
darwin I think.  Mac compilers prepend underscores to C names; most
other systems don't.  R's config assumes that R has to prepend an
underscore.  But as I recall you can configure dlcompat to do that for
you, and if that is what you have then you are getting two underscores
instead of one.  Don't know if that is the problem, but it's something
to check.

luke

On Thu, 14 Nov 2002, Gregory Wright wrote:

> 
> On Thursday, November 14, 2002, at 12:35 PM, Jan de Leeuw wrote:
> 
> > I know what I would do. It does not rebuild "methods". I would do a
> > make distclean in your build directory and configure from scratch.
> >
> >
> >
> 
> Hi,
> 
> I unpacked a fresh 1.6.1 tarball, reconfigured and rebuilt from 
> scratch. The results were similar:
> 
> <...stuff omitted..>
> cc1: warning: changing search order for system directory 
> "/usr/local/include"
> cc1: warning:   as it has already been specified as a non-system 
> directory
> gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include   
> -fno-common  -g -O2 -c methods_list_dispatch.c -o 
> methods_list_dispatch.o
> cc1: warning: changing search order for system directory 
> "/usr/local/include"
> cc1: warning:   as it has already been specified as a non-system 
> directory
> gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include   
> -fno-common  -g -O2 -c method_meta_data.c -o method_meta_data.o
> cc1: warning: changing search order for system directory 
> "/usr/local/include"
> cc1: warning:   as it has already been specified as a non-system 
> directory
> gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include   
> -fno-common  -g -O2 -c slot.c -o slot.o
> cc1: warning: changing search order for system directory 
> "/usr/local/include"
> cc1: warning:   as it has already been specified as a non-system 
> directory
> gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include   
> -fno-common  -g -O2 -c class_support.c -o class_support.o
> cc1: warning: changing search order for system directory 
> "/usr/local/include"
> cc1: warning:   as it has already been specified as a non-system 
> directory
> gcc -bundle -flat_namespace -undefined suppress -L/usr/local/lib -o 
> methods.so do_substitute_direct.o methods_list_dispatch.o 
> method_meta_data.o slot.o class_support.o
> mkdir -p -- ../../../../library/methods/libs
> dumping R code in package 'methods'
> Error in .Call("R_initialize_methods_metadata", table, PACKAGE = 
> "methods") :
>          .Call function name not in load table
> Execution halted
> make[4]: *** [../../../library/methods/R/all.rda] Error 1
> make[3]: *** [all] Error 2
> make[2]: *** [R] Error 1
> make[1]: *** [R] Error 1
> make: *** [R] Error 1
> 
> The configuration was
> 
> bash-2.05a$ export TCLTK_LIBS="-framework Tcl -framework Tk"
> bash-2.05a$ export 
> TCLTK_CPPFLAGS="-I/Library/Frameworks/Tcl.framework/Headers 
> -I/Library/Frameworks/Tk.framework/Headers"
> ../configure 
> --with-tcl-config=/Library/Frameworks/Tcl.framework/tclConfig.sh 
> --with-tk-config=/Library/Frameworks/Tk.framework/tkConfig.sh
> 
> 
> and configure's summary was
> 
> R is now configured for powerpc-apple-darwin6.2
> 
>    Source directory:          .
>    Installation directory:    /usr/local
> 
>    C compiler:                gcc  -g -O2
>    C++ compiler:              g++  -g -O2
>    Fortran compiler:          g77  -g -O2
> 
>    X11 support:               yes
>    Gnome support:             no
>    Tcl/Tk support:            yes
>    Readline support:          yes
> 
>    R profiling support:       yes
>    R as a shared library:     no
> 
>    Recommended packages:      yes
> 
> 
> Is there something obvious that I should be examining to find the root 
> of the this?
> 
> Best Wishes,
> Greg Wright
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
Luke Tierney
University of Iowa                  Phone:             319-335-3386
Department of Statistics and        Fax:               319-335-3017
   Actuarial Science
241 Schaeffer Hall                  email:      luke@stat.uiowa.edu
Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From deleeuw@stat.ucla.edu  Thu Nov 14 22:40:43 2002
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Thu, 14 Nov 2002 14:40:43 -0800
Subject: R-1.6.1, Mac OS X 10.2.2 build failure
In-Reply-To: <Pine.LNX.4.44.0211141631250.20208-100000@itasca.stat.uiowa.edu>
Message-ID: <1BF1D0FA-F822-11D6-8915-000393860F3C@stat.ucla.edu>

The dlcompat and g77 in darwinports (that Greg seems to be using)
are different from the ones in fink.

On Thursday, November 14, 2002, at 02:34 PM, Luke Tierney wrote:

> You might want to double check the dlcompat you have.  THere was some
> discussiion about this a week or two ago in conneciton with plain
> darwin I think.  Mac compilers prepend underscores to C names; most
> other systems don't.  R's config assumes that R has to prepend an
> underscore.  But as I recall you can configure dlcompat to do that for
> you, and if that is what you have then you are getting two underscores
> instead of one.  Don't know if that is the problem, but it's something
> to check.
>
> luke
>
> On Thu, 14 Nov 2002, Gregory Wright wrote:
>
>>
>> On Thursday, November 14, 2002, at 12:35 PM, Jan de Leeuw wrote:
>>
>>> I know what I would do. It does not rebuild "methods". I would do a
>>> make distclean in your build directory and configure from scratch.
>>>
>>>
>>>
>>
>> Hi,
>>
>> I unpacked a fresh 1.6.1 tarball, reconfigured and rebuilt from
>> scratch. The results were similar:
>>
>> <...stuff omitted..>
>> cc1: warning: changing search order for system directory
>> "/usr/local/include"
>> cc1: warning:   as it has already been specified as a non-system
>> directory
>> gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include
>> -fno-common  -g -O2 -c methods_list_dispatch.c -o
>> methods_list_dispatch.o
>> cc1: warning: changing search order for system directory
>> "/usr/local/include"
>> cc1: warning:   as it has already been specified as a non-system
>> directory
>> gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include
>> -fno-common  -g -O2 -c method_meta_data.c -o method_meta_data.o
>> cc1: warning: changing search order for system directory
>> "/usr/local/include"
>> cc1: warning:   as it has already been specified as a non-system
>> directory
>> gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include
>> -fno-common  -g -O2 -c slot.c -o slot.o
>> cc1: warning: changing search order for system directory
>> "/usr/local/include"
>> cc1: warning:   as it has already been specified as a non-system
>> directory
>> gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include
>> -fno-common  -g -O2 -c class_support.c -o class_support.o
>> cc1: warning: changing search order for system directory
>> "/usr/local/include"
>> cc1: warning:   as it has already been specified as a non-system
>> directory
>> gcc -bundle -flat_namespace -undefined suppress -L/usr/local/lib -o
>> methods.so do_substitute_direct.o methods_list_dispatch.o
>> method_meta_data.o slot.o class_support.o
>> mkdir -p -- ../../../../library/methods/libs
>> dumping R code in package 'methods'
>> Error in .Call("R_initialize_methods_metadata", table, PACKAGE =
>> "methods") :
>>          .Call function name not in load table
>> Execution halted
>> make[4]: *** [../../../library/methods/R/all.rda] Error 1
>> make[3]: *** [all] Error 2
>> make[2]: *** [R] Error 1
>> make[1]: *** [R] Error 1
>> make: *** [R] Error 1
>>
>> The configuration was
>>
>> bash-2.05a$ export TCLTK_LIBS="-framework Tcl -framework Tk"
>> bash-2.05a$ export
>> TCLTK_CPPFLAGS="-I/Library/Frameworks/Tcl.framework/Headers
>> -I/Library/Frameworks/Tk.framework/Headers"
>> ../configure
>> --with-tcl-config=/Library/Frameworks/Tcl.framework/tclConfig.sh
>> --with-tk-config=/Library/Frameworks/Tk.framework/tkConfig.sh
>>
>>
>> and configure's summary was
>>
>> R is now configured for powerpc-apple-darwin6.2
>>
>>    Source directory:          .
>>    Installation directory:    /usr/local
>>
>>    C compiler:                gcc  -g -O2
>>    C++ compiler:              g++  -g -O2
>>    Fortran compiler:          g77  -g -O2
>>
>>    X11 support:               yes
>>    Gnome support:             no
>>    Tcl/Tk support:            yes
>>    Readline support:          yes
>>
>>    R profiling support:       yes
>>    R as a shared library:     no
>>
>>    Recommended packages:      yes
>>
>>
>> Is there something obvious that I should be examining to find the root
>> of the this?
>>
>> Best Wishes,
>> Greg Wright
>>
>> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
>> .-.-.-.-.-
>> r-devel mailing list -- Read  
>> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>> Send "info", "help", or "[un]subscribe"
>> (in the "body", not the subject !)  To:  
>> r-devel-request@stat.math.ethz.ch
>> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._. 
>> _._._._._
>>
>
> -- 
> Luke Tierney
> University of Iowa                  Phone:             319-335-3386
> Department of Statistics and        Fax:               319-335-3017
>    Actuarial Science
> 241 Schaeffer Hall                  email:      luke@stat.uiowa.edu
> Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu
>
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://gifi.stat.ucla.edu
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au
   
------------------------------------------------------------------------ 
-------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gwright@packetstorm.com  Thu Nov 14 23:22:04 2002
From: gwright@packetstorm.com (Gregory Wright)
Date: Thu, 14 Nov 2002 18:22:04 -0500
Subject: R-1.6.1, Mac OS X 10.2.2 build failure
In-Reply-To: <1BF1D0FA-F822-11D6-8915-000393860F3C@stat.ucla.edu>
Message-ID: <E2C52962-F827-11D6-952D-00039398F084@packetstorm.com>


dlcompat seems to be the same (the darwinports script downloads it from  
the fink project at sourceforge). I'm concentrating on g77--I've found  
at least on packaging error, but repairing it did not fix the R-1.6.1  
build. I will give it a go with a hand built g77.

(If the error is in darwinports I would at least like to give  
constructive feedback on how it might be fixed.)

More anon.

Best Wishes,
Greg

On Thursday, November 14, 2002, at 05:40 PM, Jan de Leeuw wrote:

> The dlcompat and g77 in darwinports (that Greg seems to be using)
> are different from the ones in fink.
>
> On Thursday, November 14, 2002, at 02:34 PM, Luke Tierney wrote:
>
>> You might want to double check the dlcompat you have.  THere was some
>> discussiion about this a week or two ago in conneciton with plain
>> darwin I think.  Mac compilers prepend underscores to C names; most
>> other systems don't.  R's config assumes that R has to prepend an
>> underscore.  But as I recall you can configure dlcompat to do that for
>> you, and if that is what you have then you are getting two underscores
>> instead of one.  Don't know if that is the problem, but it's something
>> to check.
>>
>> luke
>>
>> On Thu, 14 Nov 2002, Gregory Wright wrote:
>>
>>>
>>> On Thursday, November 14, 2002, at 12:35 PM, Jan de Leeuw wrote:
>>>
>>>> I know what I would do. It does not rebuild "methods". I would do a
>>>> make distclean in your build directory and configure from scratch.
>>>>
>>>>
>>>>
>>>
>>> Hi,
>>>
>>> I unpacked a fresh 1.6.1 tarball, reconfigured and rebuilt from
>>> scratch. The results were similar:
>>>
>>> <...stuff omitted..>
>>> cc1: warning: changing search order for system directory
>>> "/usr/local/include"
>>> cc1: warning:   as it has already been specified as a non-system
>>> directory
>>> gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include
>>> -fno-common  -g -O2 -c methods_list_dispatch.c -o
>>> methods_list_dispatch.o
>>> cc1: warning: changing search order for system directory
>>> "/usr/local/include"
>>> cc1: warning:   as it has already been specified as a non-system
>>> directory
>>> gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include
>>> -fno-common  -g -O2 -c method_meta_data.c -o method_meta_data.o
>>> cc1: warning: changing search order for system directory
>>> "/usr/local/include"
>>> cc1: warning:   as it has already been specified as a non-system
>>> directory
>>> gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include
>>> -fno-common  -g -O2 -c slot.c -o slot.o
>>> cc1: warning: changing search order for system directory
>>> "/usr/local/include"
>>> cc1: warning:   as it has already been specified as a non-system
>>> directory
>>> gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include
>>> -fno-common  -g -O2 -c class_support.c -o class_support.o
>>> cc1: warning: changing search order for system directory
>>> "/usr/local/include"
>>> cc1: warning:   as it has already been specified as a non-system
>>> directory
>>> gcc -bundle -flat_namespace -undefined suppress -L/usr/local/lib -o
>>> methods.so do_substitute_direct.o methods_list_dispatch.o
>>> method_meta_data.o slot.o class_support.o
>>> mkdir -p -- ../../../../library/methods/libs
>>> dumping R code in package 'methods'
>>> Error in .Call("R_initialize_methods_metadata", table, PACKAGE =
>>> "methods") :
>>>          .Call function name not in load table
>>> Execution halted
>>> make[4]: *** [../../../library/methods/R/all.rda] Error 1
>>> make[3]: *** [all] Error 2
>>> make[2]: *** [R] Error 1
>>> make[1]: *** [R] Error 1
>>> make: *** [R] Error 1
>>>
>>> The configuration was
>>>
>>> bash-2.05a$ export TCLTK_LIBS="-framework Tcl -framework Tk"
>>> bash-2.05a$ export
>>> TCLTK_CPPFLAGS="-I/Library/Frameworks/Tcl.framework/Headers
>>> -I/Library/Frameworks/Tk.framework/Headers"
>>> ../configure
>>> --with-tcl-config=/Library/Frameworks/Tcl.framework/tclConfig.sh
>>> --with-tk-config=/Library/Frameworks/Tk.framework/tkConfig.sh
>>>
>>>
>>> and configure's summary was
>>>
>>> R is now configured for powerpc-apple-darwin6.2
>>>
>>>    Source directory:          .
>>>    Installation directory:    /usr/local
>>>
>>>    C compiler:                gcc  -g -O2
>>>    C++ compiler:              g++  -g -O2
>>>    Fortran compiler:          g77  -g -O2
>>>
>>>    X11 support:               yes
>>>    Gnome support:             no
>>>    Tcl/Tk support:            yes
>>>    Readline support:          yes
>>>
>>>    R profiling support:       yes
>>>    R as a shared library:     no
>>>
>>>    Recommended packages:      yes
>>>
>>>
>>> Is there something obvious that I should be examining to find the  
>>> root
>>> of the this?
>>>
>>> Best Wishes,
>>> Greg Wright
>>>
>>> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
>>> .-.-.-.-.-.-
>>> r-devel mailing list -- Read  
>>> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>>> Send "info", "help", or "[un]subscribe"
>>> (in the "body", not the subject !)  To:  
>>> r-devel-request@stat.math.ethz.ch
>>> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
>>> ._._._._._
>>>
>>
>> -- 
>> Luke Tierney
>> University of Iowa                  Phone:             319-335-3386
>> Department of Statistics and        Fax:               319-335-3017
>>    Actuarial Science
>> 241 Schaeffer Hall                  email:      luke@stat.uiowa.edu
>> Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu
>>
>>
> ===
> Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
> Editor: Journal of Multivariate Analysis, Journal of Statistical  
> Software
> US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
> phone (310)-825-9550;  fax (310)-206-5658;  email:  
> deleeuw@stat.ucla.edu
> homepage: http://gifi.stat.ucla.edu
>   
> ----------------------------------------------------------------------- 
> --------------------------
>           No matter where you go, there you are. --- Buckaroo Banzai
>                    http://gifi.stat.ucla.edu/sounds/nomatter.au
>   
> ----------------------------------------------------------------------- 
> --------------------------
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tim@timcohn.com  Fri Nov 15 00:47:46 2002
From: tim@timcohn.com (Tim Cohn)
Date: Thu, 14 Nov 2002 19:47:46 -0500
Subject: survreg (survival) reports erroneous results for left-censored
 data (PR#2287)
In-Reply-To: <733B8BF8-F7EB-11D6-91DB-000393860F3C@stat.ucla.edu>
Message-ID: <DB8072B2-F833-11D6-83DE-000393479732@timcohn.com>

Thank you for looking into this so quickly.  As you correctly surmise,  
I was using the Carbon version of R-1.6.1 on Mac OS 10.2.2 (Jaguar)  
when I got the "wrong" answers.

One other observation:  The right censoring seems to work fine.

Thanks again,

Tim

On Thursday, November 14, 2002, at 11:09 AM, Jan de Leeuw wrote:

> I take that back. I now get the "correct" result on Darwin R-1.6.1,  
> the "wrong" result
> with Carbon R-1.6.0. On a dual G4 with 10.2.2.
>
> On Thursday, November 14, 2002, at 08:04 AM, Thomas Lumley wrote:
>
>> On Wed, 13 Nov 2002, Jan de Leeuw wrote:
>>
>>>
>>> No problemo. And, in fact, I get the same results in
>>> the R-1.6.0 Carbon version.
>>
>> I don't. Could there be a G3/G4 issue?
>>
>> 	-thomas
>>
>>
>>> --- Jan
>>>
>>> On Wednesday, November 13, 2002, at 02:05 PM, tim@timcohn.com wrote:
>>>
>>>> Full_Name: Tim Cohn
>>>> Version: 1.6.1
>>>> OS: Macintosh OS X
>>>> Submission from: (NULL) (130.11.34.250)
>>>>
>>>>
>>>> The Mac version of survreg does not handle left-censored data
>>>> correctly (at
>>>> least the results are not what I get doing it other ways, and they  
>>>> are
>>>> not the
>>>> same as I get running R 1.6.1 in Windows 98se;  the Windows 98  
>>>> results
>>>> are
>>>> correct).  On the windows version of R 1.6.1.
>>>>
>>>>> survreg(Surv(c(0,1,-1),c(T,T,F),type='left')~1,dist='gaussian')
>>>> Call:
>>>> survreg(formula = Surv(c(0, 1, -1), c(T, T, F), type = "left") ~
>>>>     1, dist = "gaussian")
>>>>
>>>> Coefficients:
>>>> (Intercept)
>>>>  -0.2321569
>>>>
>>>> Scale= 1.161135
>>>>
>>>> Loglik(model)= -4.1   Loglik(intercept only)= -4.1
>>>> n= 3
>>>>
>>>>
>>>> =================
>>>>
>>>> The Macintosh OS X result for the same command is:
>>>>
>>>>> survreg(Surv(c(0,1,-1),c(T,T,F),type='left')~1,dist='gaussian')
>>>> Call:
>>>> survreg(formula = Surv(c(0, 1, -1), c(T, T, F), type = "left") ~
>>>>     1, dist = "gaussian")
>>>>
>>>> Coefficients:
>>>> (Intercept)
>>>>  -0.7373613
>>>>
>>>> Scale= 1.366282
>>>>
>>>> Loglik(model)= -5.6   Loglik(intercept only)= -5.6
>>>> n= 3
>>>>
>>>>
>>>> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
>>>> .-
>>>> .-.-.-.-.-
>>>> r-devel mailing list -- Read
>>>> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>>>> Send "info", "help", or "[un]subscribe"
>>>> (in the "body", not the subject !)  To:
>>>> r-devel-request@stat.math.ethz.ch
>>>> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._. 
>>>> _._
>>>> ._._._._
>>>>
>>>>
>>> ===
>>> Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
>>> Editor: Journal of Multivariate Analysis, Journal of Statistical
>>> Software
>>> US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
>>> phone (310)-825-9550;  fax (310)-206-5658;  email:  
>>> deleeuw@stat.ucla.edu
>>> homepage: http://gifi.stat.ucla.edu
>>>
>>> --------------------------------------------------------------------- 
>>> ---
>>> -------------------------
>>>            No matter where you go, there you are. --- Buckaroo Banzai
>>>                     http://gifi.stat.ucla.edu/sounds/nomatter.au
>>>
>>> --------------------------------------------------------------------- 
>>> ---
>>> -------------------------
>>>
>>> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
>>> .-.-.-.-.-.-
>>> r-devel mailing list -- Read  
>>> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>>> Send "info", "help", or "[un]subscribe"
>>> (in the "body", not the subject !)  To:  
>>> r-devel-request@stat.math.ethz.ch
>>> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
>>> ._._._._._
>>>
>>
>> Thomas Lumley			Asst. Professor, Biostatistics
>> tlumley@u.washington.edu	University of Washington, Seattle
>> ^^^^^^^^^^^^^^^^^^^^^^^^
>>- NOTE NEW EMAIL ADDRESS
>>
>>
> ===
> Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
> Editor: Journal of Multivariate Analysis, Journal of Statistical  
> Software
> US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
> phone (310)-825-9550;  fax (310)-206-5658;  email:  
> deleeuw@stat.ucla.edu
> homepage: http://gifi.stat.ucla.edu
>   
> ----------------------------------------------------------------------- 
> --------------------------
>           No matter where you go, there you are. --- Buckaroo Banzai
>                    http://gifi.stat.ucla.edu/sounds/nomatter.au
>   
> ----------------------------------------------------------------------- 
> --------------------------
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tim@timcohn.com  Fri Nov 15 00:49:01 2002
From: tim@timcohn.com (tim@timcohn.com)
Date: Fri, 15 Nov 2002 01:49:01 +0100 (MET)
Subject: survreg (survival) reports erroneous results for left-censored (PR#2293)
Message-ID: <200211150049.BAA06066@pubhealth.ku.dk>

Thank you for looking into this so quickly.  As you correctly surmise,  
I was using the Carbon version of R-1.6.1 on Mac OS 10.2.2 (Jaguar)  
when I got the "wrong" answers.

One other observation:  The right censoring seems to work fine.

Thanks again,

Tim

On Thursday, November 14, 2002, at 11:09 AM, Jan de Leeuw wrote:

> I take that back. I now get the "correct" result on Darwin R-1.6.1,  
> the "wrong" result
> with Carbon R-1.6.0. On a dual G4 with 10.2.2.
>
> On Thursday, November 14, 2002, at 08:04 AM, Thomas Lumley wrote:
>
>> On Wed, 13 Nov 2002, Jan de Leeuw wrote:
>>
>>>
>>> No problemo. And, in fact, I get the same results in
>>> the R-1.6.0 Carbon version.
>>
>> I don't. Could there be a G3/G4 issue?
>>
>> 	-thomas
>>
>>
>>> --- Jan
>>>
>>> On Wednesday, November 13, 2002, at 02:05 PM, tim@timcohn.com wrote:
>>>
>>>> Full_Name: Tim Cohn
>>>> Version: 1.6.1
>>>> OS: Macintosh OS X
>>>> Submission from: (NULL) (130.11.34.250)
>>>>
>>>>
>>>> The Mac version of survreg does not handle left-censored data
>>>> correctly (at
>>>> least the results are not what I get doing it other ways, and they  
>>>> are
>>>> not the
>>>> same as I get running R 1.6.1 in Windows 98se;  the Windows 98  
>>>> results
>>>> are
>>>> correct).  On the windows version of R 1.6.1.
>>>>
>>>>> survreg(Surv(c(0,1,-1),c(T,T,F),type='left')~1,dist='gaussian')
>>>> Call:
>>>> survreg(formula = Surv(c(0, 1, -1), c(T, T, F), type = "left") ~
>>>>     1, dist = "gaussian")
>>>>
>>>> Coefficients:
>>>> (Intercept)
>>>>  -0.2321569
>>>>
>>>> Scale= 1.161135
>>>>
>>>> Loglik(model)= -4.1   Loglik(intercept only)= -4.1
>>>> n= 3
>>>>
>>>>
>>>> =================
>>>>
>>>> The Macintosh OS X result for the same command is:
>>>>
>>>>> survreg(Surv(c(0,1,-1),c(T,T,F),type='left')~1,dist='gaussian')
>>>> Call:
>>>> survreg(formula = Surv(c(0, 1, -1), c(T, T, F), type = "left") ~
>>>>     1, dist = "gaussian")
>>>>
>>>> Coefficients:
>>>> (Intercept)
>>>>  -0.7373613
>>>>
>>>> Scale= 1.366282
>>>>
>>>> Loglik(model)= -5.6   Loglik(intercept only)= -5.6
>>>> n= 3
>>>>
>>>>
>>>> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
>>>> .-
>>>> .-.-.-.-.-
>>>> r-devel mailing list -- Read
>>>> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>>>> Send "info", "help", or "[un]subscribe"
>>>> (in the "body", not the subject !)  To:
>>>> r-devel-request@stat.math.ethz.ch
>>>> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._. 
>>>> _._
>>>> ._._._._
>>>>
>>>>
>>> ===
>>> Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
>>> Editor: Journal of Multivariate Analysis, Journal of Statistical
>>> Software
>>> US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
>>> phone (310)-825-9550;  fax (310)-206-5658;  email:  
>>> deleeuw@stat.ucla.edu
>>> homepage: http://gifi.stat.ucla.edu
>>>
>>> --------------------------------------------------------------------- 
>>> ---
>>> -------------------------
>>>            No matter where you go, there you are. --- Buckaroo Banzai
>>>                     http://gifi.stat.ucla.edu/sounds/nomatter.au
>>>
>>> --------------------------------------------------------------------- 
>>> ---
>>> -------------------------
>>>
>>> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
>>> .-.-.-.-.-.-
>>> r-devel mailing list -- Read  
>>> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>>> Send "info", "help", or "[un]subscribe"
>>> (in the "body", not the subject !)  To:  
>>> r-devel-request@stat.math.ethz.ch
>>> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
>>> ._._._._._
>>>
>>
>> Thomas Lumley			Asst. Professor, Biostatistics
>> tlumley@u.washington.edu	University of Washington, Seattle
>> ^^^^^^^^^^^^^^^^^^^^^^^^
>>- NOTE NEW EMAIL ADDRESS
>>
>>
> ===
> Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
> Editor: Journal of Multivariate Analysis, Journal of Statistical  
> Software
> US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
> phone (310)-825-9550;  fax (310)-206-5658;  email:  
> deleeuw@stat.ucla.edu
> homepage: http://gifi.stat.ucla.edu
>   
> ----------------------------------------------------------------------- 
> --------------------------
>           No matter where you go, there you are. --- Buckaroo Banzai
>                    http://gifi.stat.ucla.edu/sounds/nomatter.au
>   
> ----------------------------------------------------------------------- 
> --------------------------
>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From robert.king@newcastle.edu.au  Fri Nov 15 04:41:59 2002
From: robert.king@newcastle.edu.au (robert.king@newcastle.edu.au)
Date: Fri, 15 Nov 2002 05:41:59 +0100 (MET)
Subject: anova.glm gets test="Chisq" wrong (PR#2294)
Message-ID: <200211150441.FAA06624@pubhealth.ku.dk>

Full_Name: Robert King
Version: 1.5.0
OS: windows
Submission from: (NULL) (134.148.4.19)


Also occurs in 1.6.0 on linux

anova.glm(fitted.object,test="Chisq") is giving strange answers in this
situation

> resptime
   sex task time
1    m    s  210
2    m    s  300
3    m    s  420
4    f    s  250
5    f    s  310
6    f    s  390
7    m    c  310
8    m    c  400
9    m    c  600
10   m    c  720
11   f    c  300
12   f    c  350
13   f    c  405
14   f    c  520

> resp.fit1 <- glm(time~sex+task,data=resptime,family=Gamma)

> anova(resp.fit1,test="Chisq")
Analysis of Deviance Table

Model: Gamma, link: inverse

Response: time

Terms added sequentially (first to last)


     Df Deviance Resid. Df Resid. Dev P(>|Chi|)
NULL                    13    1.50207          
sex   1  0.08833        12    1.41374   0.31191
task  1  0.44008        11    0.97366   0.02400

#BUT!
> 1-pchisq(0.44008,1)
[1] 0.5070838


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Nov 15 07:58:50 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 15 Nov 2002 07:58:50 +0000 (GMT)
Subject: anova.glm gets test="Chisq" wrong (PR#2294)
In-Reply-To: <200211150441.FAA06624@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0211150754430.15529-100000@gannet.stats>

No, it gets it right.  You need to use a *scaled* deviance in that test,
or specify dispersion = 1.

I don't think that the test is really appropriate, in any case: an F test
would be better (as the help page says).

The usage of `deviance' is rather confused in the GLM literature,
especially in McCullagh & Nelder.

On Fri, 15 Nov 2002 robert.king@newcastle.edu.au wrote:

> Full_Name: Robert King
> Version: 1.5.0
> OS: windows
> Submission from: (NULL) (134.148.4.19)
>
>
> Also occurs in 1.6.0 on linux
>
> anova.glm(fitted.object,test="Chisq") is giving strange answers in this
> situation
>
> > resptime
>    sex task time
> 1    m    s  210
> 2    m    s  300
> 3    m    s  420
> 4    f    s  250
> 5    f    s  310
> 6    f    s  390
> 7    m    c  310
> 8    m    c  400
> 9    m    c  600
> 10   m    c  720
> 11   f    c  300
> 12   f    c  350
> 13   f    c  405
> 14   f    c  520
>
> > resp.fit1 <- glm(time~sex+task,data=resptime,family=Gamma)
>
> > anova(resp.fit1,test="Chisq")
> Analysis of Deviance Table
>
> Model: Gamma, link: inverse
>
> Response: time
>
> Terms added sequentially (first to last)
>
>
>      Df Deviance Resid. Df Resid. Dev P(>|Chi|)
> NULL                    13    1.50207
> sex   1  0.08833        12    1.41374   0.31191
> task  1  0.44008        11    0.97366   0.02400
>
> #BUT!
> > 1-pchisq(0.44008,1)
> [1] 0.5070838

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Fri Nov 15 11:08:34 2002
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Fri, 15 Nov 2002 12:08:34 +0100
Subject: R mailing lists: move from majordomo to [procmail+mailman]
In-Reply-To: <3DD3BDE5.96E732D5@nottingham.ac.uk>
References: <3DD3BDE5.96E732D5@nottingham.ac.uk>,
 <15827.30026.260485.901432@gargle.gargle.HOWL>
Message-ID: <15828.54706.883492.490209@gargle.gargle.HOWL>

This was the only feedback I got.

>>>>> "Michael" == Michael Dewey <michael.dewey@nottingham.ac.uk>
>>>>>     on Thu, 14 Nov 2002 15:14:45 +0000 writes:

    Michael> I looked at the page you mentioned in the body of
    Michael> your post, but I got a series of messages about
    Michael> your security certificate first, before I got
    Michael> through. Is that (a) a problem with me (b) a
    Michael> problem at your end (c) just one of those things?

It's (b) and (c)

b) We use https (secure layer stuff) but cannot give out
   completely painless certificates.  
   This may or may not be improved ;-)

c) If you accept the certificate, you won't be asked
   ___in that browser session__ (only).

    Michael> -- Michael Dewey Trent Institute for Health
    Michael> Services Research

I now plan to do the *big change* (R-devel only) coming
Monday.

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From lutz@stat.math.ethz.ch  Fri Nov 15 12:12:09 2002
From: lutz@stat.math.ethz.ch (lutz@stat.math.ethz.ch)
Date: Fri, 15 Nov 2002 13:12:09 +0100 (MET)
Subject: bug in logLik.nls (PR#2295)
Message-ID: <200211151212.NAA11698@pubhealth.ku.dk>

logLik.nls does not count the df's correct. I get df=1 although I
fit a probit-model with 3 parameters.

Example:
x <- c(-2.3, -2.0, -1.3, -1.0, -0.7, -0.3, 0.0, 0.3)
y <- c(80, 80, 54, 43, 24, 18, 12, 12)

fit.nls <- nls(y ~ diff * pnorm(beta * (x - alpha)),
                   start=c(alpha=-1, beta=-1, diff=100))

logLik.nls(fit.nls)
# `log Lik.' -21.43369 (df=1)


Sincerely yours
Roman Lutz

--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = 
 major = 1
 minor = 6.1
 year = 2002
 month = 11
 day = 01
 language = R

Search Path:
 .GlobalEnv, package:mva, package:lattice, package:grid, package:nlme, package:nls, package:ctest, package:SfS, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Fri Nov 15 18:18:18 2002
From: bates@stat.wisc.edu (bates@stat.wisc.edu)
Date: Fri, 15 Nov 2002 19:18:18 +0100 (MET)
Subject: bug in logLik.nls (PR#2295)
Message-ID: <200211151818.TAA15264@pubhealth.ku.dk>

lutz@stat.math.ethz.ch writes:

> logLik.nls does not count the df's correct. I get df=1 although I
> fit a probit-model with 3 parameters.
> 
> Example:
> x <- c(-2.3, -2.0, -1.3, -1.0, -0.7, -0.3, 0.0, 0.3)
> y <- c(80, 80, 54, 43, 24, 18, 12, 12)
> 
> fit.nls <- nls(y ~ diff * pnorm(beta * (x - alpha)),
>                    start=c(alpha=-1, beta=-1, diff=100))
> 
> logLik.nls(fit.nls)
> # `log Lik.' -21.43369 (df=1)

You are correct.  Thanks for the report.  Fix now committed.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Fri Nov 15 18:17:21 2002
From: bates@stat.wisc.edu (Douglas Bates)
Date: 15 Nov 2002 12:17:21 -0600
Subject: bug in logLik.nls (PR#2295)
In-Reply-To: <200211151212.NAA11698@pubhealth.ku.dk>
References: <200211151212.NAA11698@pubhealth.ku.dk>
Message-ID: <6rlm3ur93i.fsf@bates5.stat.wisc.edu>

lutz@stat.math.ethz.ch writes:

> logLik.nls does not count the df's correct. I get df=1 although I
> fit a probit-model with 3 parameters.
> 
> Example:
> x <- c(-2.3, -2.0, -1.3, -1.0, -0.7, -0.3, 0.0, 0.3)
> y <- c(80, 80, 54, 43, 24, 18, 12, 12)
> 
> fit.nls <- nls(y ~ diff * pnorm(beta * (x - alpha)),
>                    start=c(alpha=-1, beta=-1, diff=100))
> 
> logLik.nls(fit.nls)
> # `log Lik.' -21.43369 (df=1)

You are correct.  Thanks for the report.  Fix now committed.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From heinlein@cse.ogi.edu  Fri Nov 15 19:21:41 2002
From: heinlein@cse.ogi.edu (heinlein@cse.ogi.edu)
Date: Fri, 15 Nov 2002 20:21:41 +0100 (MET)
Subject: make check fails with -march=i686 on gcc 2.96 (PR#2296)
Message-ID: <200211151921.UAA15447@pubhealth.ku.dk>

The top-level 'make check' fails on Red Hat Linux 7.3 (fully patched 
as of Nov. 15, 2002) when CFLAGS includes "-march=i686". In 
particular, the following targets fail:

* test-Reg
* test-Examples
* test-Ts

The workaround is not to use "-march=i686". Specific stuff below, and
I'd be happy to provide any files or fragments thereof that'd help.

The failure does not occur

a) when the configure script is allowed to generate the optimization
   flags all on its own:

b) using Red Hat 8.0 with gcc 3.2 and glibc 2.2.93 (even with 
   -march=i686 specified)

+-----------------------------------------+----------------------+
| Paul Heinlein                           | heinlein@cse.ogi.edu |
| Research Systems Engineer               |      +1 503 748-1472 |
| Dept. of Computer Science & Engineering | 20000 NW Walker Road |
| OGI School of Science & Engineering     |  Beaverton, OR 97006 |
| Oregon Health & Science University      |                  USA |
+-----------------------------------------+----------------------+


System info:

* gcc 2.96 (rpm: gcc-2.96-113)
* libc 2.2.5 (rpm: glibc-2.2.5-42)
* kernel 2.4.18 (rpm: kernel-smp-2.4.18-17.7.x)
* 2 x Pentium III (Coppermine)


[heinlein@pecos R-1.6.1]$ CFLAGS='-O2 -march=i686' ./configure \
>> --prefix=/usr --with-gnome
...
R is now configured for i686-pc-linux-gnu

  Source directory:          .  
  Installation directory:    /usr

  C compiler:                gcc  -D__NO_MATH_INLINES -mieee-fp -O2 -march=i686
  C++ compiler:              g++  -mieee-fp -g -O2
  Fortran compiler:          g77  -mieee-fp -g -O2

  X11 support:               yes
  Gnome support:             yes
  Tcl/Tk support:            yes
  Readline support:          yes

  R profiling support:       yes
  R as a shared library:     no

  Recommended packages:      yes

[heinlein@pecos R-1.6.1]$ make
... everything ok ...
[heinlein@pecos R-1.6.1]$ make check
...
make[4]: Entering directory `/var/tmp/R-1.6.1/tests/Examples'
collecting examples for package 'base' ...
make[5]: Entering directory `/var/tmp/R-1.6.1/src/library'
 >>> Building/Updating help pages for package 'base'
     Formats: text example 
make[5]: Leaving directory `/var/tmp/R-1.6.1/src/library'
running code in 'base-Ex.R' ...make[4]: *** [base-Ex.Rout] Error 1
[heinlein@pecos R-1.6.1]$ cd tests
[heinlein@pecos tests]$ make test-Reg
running regression tests
make[1]: Entering directory `/var/tmp/R-1.6.1/tests'
running code in 'reg-tests-1.R' ...make[1]: *** [reg-tests-1.Rout] Error 1
make[1]: Leaving directory `/var/tmp/R-1.6.1/tests'
make: *** [test-Reg] Error 2


Other test targets succeed: test-Packages (one warning about
undocumented code object 'plot' in methods), test-Internet,
test-Lapack, test-Nafns, test-Postscript, test-Random, test-DocArgs,
test-DocStyle (with some warnings), test-FF, test-Methods.





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gwright@packetstorm.com  Fri Nov 15 21:02:28 2002
From: gwright@packetstorm.com (Gregory Wright)
Date: Fri, 15 Nov 2002 16:02:28 -0500
Subject: R-1.6.1, Mac OS X 10.2.2 build failure
In-Reply-To: <Pine.LNX.4.44.0211141631250.20208-100000@itasca.stat.uiowa.edu>
Message-ID: <8CDEC0D6-F8DD-11D6-931E-00039398F084@packetstorm.com>


dlcompat was the problem.

When it was rebuilt in the fink style (by hand, using 'make -f fink.mk  
install'), R built to completion.

Thanks to Luke and Jan for their help on this.

I've asked the darwinports list for a advice on what is the best way  
forward to putting together a port of R-1.6.1.

Thanks again.

Best Wishes,
Greg



On Thursday, November 14, 2002, at 05:34 PM, Luke Tierney wrote:

> You might want to double check the dlcompat you have.  THere was some
> discussiion about this a week or two ago in conneciton with plain
> darwin I think.  Mac compilers prepend underscores to C names; most
> other systems don't.  R's config assumes that R has to prepend an
> underscore.  But as I recall you can configure dlcompat to do that for
> you, and if that is what you have then you are getting two underscores
> instead of one.  Don't know if that is the problem, but it's something
> to check.
>
> luke
>
> On Thu, 14 Nov 2002, Gregory Wright wrote:
>
>>
>> On Thursday, November 14, 2002, at 12:35 PM, Jan de Leeuw wrote:
>>
>>> I know what I would do. It does not rebuild "methods". I would do a
>>> make distclean in your build directory and configure from scratch.
>>>
>>>
>>>
>>
>> Hi,
>>
>> I unpacked a fresh 1.6.1 tarball, reconfigured and rebuilt from
>> scratch. The results were similar:
>>
>> <...stuff omitted..>
>> cc1: warning: changing search order for system directory
>> "/usr/local/include"
>> cc1: warning:   as it has already been specified as a non-system
>> directory
>> gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include
>> -fno-common  -g -O2 -c methods_list_dispatch.c -o
>> methods_list_dispatch.o
>> cc1: warning: changing search order for system directory
>> "/usr/local/include"
>> cc1: warning:   as it has already been specified as a non-system
>> directory
>> gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include
>> -fno-common  -g -O2 -c method_meta_data.c -o method_meta_data.o
>> cc1: warning: changing search order for system directory
>> "/usr/local/include"
>> cc1: warning:   as it has already been specified as a non-system
>> directory
>> gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include
>> -fno-common  -g -O2 -c slot.c -o slot.o
>> cc1: warning: changing search order for system directory
>> "/usr/local/include"
>> cc1: warning:   as it has already been specified as a non-system
>> directory
>> gcc -no-cpp-precomp -I../../../../include  -I/usr/local/include
>> -fno-common  -g -O2 -c class_support.c -o class_support.o
>> cc1: warning: changing search order for system directory
>> "/usr/local/include"
>> cc1: warning:   as it has already been specified as a non-system
>> directory
>> gcc -bundle -flat_namespace -undefined suppress -L/usr/local/lib -o
>> methods.so do_substitute_direct.o methods_list_dispatch.o
>> method_meta_data.o slot.o class_support.o
>> mkdir -p -- ../../../../library/methods/libs
>> dumping R code in package 'methods'
>> Error in .Call("R_initialize_methods_metadata", table, PACKAGE =
>> "methods") :
>>          .Call function name not in load table
>> Execution halted
>> make[4]: *** [../../../library/methods/R/all.rda] Error 1
>> make[3]: *** [all] Error 2
>> make[2]: *** [R] Error 1
>> make[1]: *** [R] Error 1
>> make: *** [R] Error 1
>>
>> The configuration was
>>
>> bash-2.05a$ export TCLTK_LIBS="-framework Tcl -framework Tk"
>> bash-2.05a$ export
>> TCLTK_CPPFLAGS="-I/Library/Frameworks/Tcl.framework/Headers
>> -I/Library/Frameworks/Tk.framework/Headers"
>> ../configure
>> --with-tcl-config=/Library/Frameworks/Tcl.framework/tclConfig.sh
>> --with-tk-config=/Library/Frameworks/Tk.framework/tkConfig.sh
>>
>>
>> and configure's summary was
>>
>> R is now configured for powerpc-apple-darwin6.2
>>
>>    Source directory:          .
>>    Installation directory:    /usr/local
>>
>>    C compiler:                gcc  -g -O2
>>    C++ compiler:              g++  -g -O2
>>    Fortran compiler:          g77  -g -O2
>>
>>    X11 support:               yes
>>    Gnome support:             no
>>    Tcl/Tk support:            yes
>>    Readline support:          yes
>>
>>    R profiling support:       yes
>>    R as a shared library:     no
>>
>>    Recommended packages:      yes
>>
>>
>> Is there something obvious that I should be examining to find the root
>> of the this?
>>
>> Best Wishes,
>> Greg Wright
>>
>> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
>> .-.-.-.-.-
>> r-devel mailing list -- Read  
>> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>> Send "info", "help", or "[un]subscribe"
>> (in the "body", not the subject !)  To:  
>> r-devel-request@stat.math.ethz.ch
>> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._. 
>> _._._._._
>>
>
> -- 
> Luke Tierney
> University of Iowa                  Phone:             319-335-3386
> Department of Statistics and        Fax:               319-335-3017
>    Actuarial Science
> 241 Schaeffer Hall                  email:      luke@stat.uiowa.edu
> Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Fri Nov 15 23:07:53 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Nov 2002 00:07:53 +0100
Subject: make check fails with -march=i686 on gcc 2.96 (PR#2296)
In-Reply-To: <200211151921.UAA15447@pubhealth.ku.dk>
References: <200211151921.UAA15447@pubhealth.ku.dk>
Message-ID: <x27kfev3cm.fsf@biostat.ku.dk>

heinlein@cse.ogi.edu writes:

> The top-level 'make check' fails on Red Hat Linux 7.3 (fully patched 
> as of Nov. 15, 2002) when CFLAGS includes "-march=i686". In 
> particular, the following targets fail:
> 
> * test-Reg
> * test-Examples
> * test-Ts
> 
> The workaround is not to use "-march=i686". Specific stuff below, and
> I'd be happy to provide any files or fragments thereof that'd help.
> 
> The failure does not occur
> 
> a) when the configure script is allowed to generate the optimization
>    flags all on its own:
> 
> b) using Red Hat 8.0 with gcc 3.2 and glibc 2.2.93 (even with 
>    -march=i686 specified)

Sounds more like a compiler bug than an R bug. (I have yet to see the
-march setting have any noticeable effect on a program, so I wouldn't
consider it high priority...)
 
The dual PIII that I have access to is still on RH7.2 and gcc-2.96-98
but I can reproduce the crash in base-Ex.R

#0  0x4012ace9 in __printf_fp () at printf_fp.c:910
#1  0x4012657b in _IO_vfprintf (s=0xbfffb020, 
    format=0xbfffb130 "%#2.2147483647e", ap=0xbfffb110) at _itoa.h:49
#2  0x40141605 in _IO_vsprintf (string=0x8b928b0 " 192.64", 
    format=0xbfffb130 "%#2.2147483647e", args=0xbfffb108) at #iovsprintf.c:46
#3  0x4012ec69 in sprintf (s=0x8b928b0 " 192.64", 
    format=0xbfffb130 "%#2.2147483647e") at sprintf.c:38
#4  0x08101613 in Rf_EncodeReal (x=nan(0x80000000007a2), w=2, #d=2147483647, 
    e=1) at ../../../R/src/main/printutils.c:171
#5  0x08101afb in Rf_EncodeElement (x=0x8bb2940, indx=0, quote=0)
    at ../../../R/src/main/printutils.c:366
...

BTW, another gotcha: r-devel tried to pass --args to gdb, but the
RH7.2 one (5.0-rh15) does not understand that.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From schutz@wehi.edu.au  Sat Nov 16 04:44:02 2002
From: schutz@wehi.edu.au (schutz@wehi.edu.au)
Date: Sat, 16 Nov 2002 05:44:02 +0100 (MET)
Subject: Wishlist: allow NA values in medpolish (package 'eda') (PR#2298)
Message-ID: <200211160444.FAA16556@pubhealth.ku.dk>

Full_Name: Frederic Schutz
Version: 1.6.1
OS: Linux
Submission from: (NULL) (128.250.252.193)


The subject says everything... This has already been proposed in
June 2001 (cf http://maths.newcastle.edu.au/~rking/R/help/01a/2333.html),
but no reply followed.

I attach the patch that I used on my system to add this feature
(including an updated help page), if it can help. Sorry, the
two "diff..." lines will certainly been wrapped due to the HTML form.

Frederic

diff -ur R-1.6.1.old/src/library/eda/R/medpolish.R
R-1.6.1/src/library/eda/R/medpolish.R
--- R-1.6.1.old/src/library/eda/R/medpolish.R   Mon Jan 31 21:01:52 2000
+++ R-1.6.1/src/library/eda/R/medpolish.R       Sat Nov 16 15:18:07 2002
@@ -1,4 +1,5 @@
-medpolish <- function (x, eps=0.01, maxiter=10, trace.iter = TRUE)
+medpolish <- function (x, eps=0.01, maxiter=10, trace.iter = TRUE,
+                       na.rm = FALSE)
 {
     z <- as.matrix(x)
     nr <- nrow(z)
@@ -8,19 +9,19 @@
     c <- numeric(nc)
     oldsum <- 0
     for(iter in 1:maxiter) {
-       rdelta <- apply(z, 1, median)
+       rdelta <- apply(z, 1, median, na.rm = na.rm)
        z <- z - matrix(rdelta, nr=nr, nc=nc)
        r <- r + rdelta
-       delta <- median(c)
+       delta <- median(c, na.rm = na.rm)
        c <- c - delta
        t <- t + delta
-       cdelta <- apply(z, 2, median)
+       cdelta <- apply(z, 2, median, na.rm = na.rm)
        z <- z - matrix(cdelta, nr=nr, nc=nc, byrow=TRUE)
        c <- c + cdelta
-       delta <- median(r)
+       delta <- median(r, na.rm = na.rm)
        r <- r - delta
        t <- t + delta
-       newsum <- sum(abs(z))
+       newsum <- sum(abs(z), na.rm = na.rm)
        converged <- newsum==0 || abs(1-oldsum/newsum) < eps
         if(converged) break
        oldsum <- newsum
diff -ur R-1.6.1.old/src/library/eda/man/medpolish.Rd
R-1.6.1/src/library/eda/man/medpolish.Rd
--- R-1.6.1.old/src/library/eda/man/medpolish.Rd        Tue Aug 14 07:41:51
2001
+++ R-1.6.1/src/library/eda/man/medpolish.Rd    Sat Nov 16 14:47:24 2002
@@ -7,7 +7,8 @@
   Fits an additive model using Tukey's \emph{median polish} procedure.
 }
 \usage{
-medpolish(x, eps = 0.01, maxiter = 10, trace.iter = TRUE)
+medpolish(x, eps = 0.01, maxiter = 10, trace.iter = TRUE,
+          na.rm = FALSE)
 }
 \arguments{
   \item{x}{a numeric matrix.}
@@ -15,6 +16,7 @@
     see \bold{Details}.}
   \item{maxiter}{the maximum number of iterations}
   \item{trace.iter}{logical. Should progress in convergence be reported?}
+  \item{na.rm}{logical. Should missing values be removed?}
 }
 \details{
   The model fitted is additive (constant + rows + columns). The
@@ -24,6 +26,8 @@
   or until there have been \code{maxiter} iterations.
   The sum of absolute residuals is printed at
   each iteration of the fitting process, if \code{trace.iter} is \code{TRUE}.
+  If \code{na.rm} is \code{FALSE} the presence of any \code{NA} value in
+  \code{x} will cause an error, otherwise \code{NA} values are ignored.
 
   \code{medpolish} returns an object of class \code{medpolish} (see below).
   There are printing and plotting methods for this


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From schutz@wehi.edu.au  Sat Nov 16 05:33:05 2002
From: schutz@wehi.edu.au (schutz@wehi.edu.au)
Date: Sat, 16 Nov 2002 06:33:05 +0100 (MET)
Subject: formatC with format="fg" displays number in exponential notation (PR#2299)
Message-ID: <200211160533.GAA16636@pubhealth.ku.dk>

Full_Name: Frederic Schutz
Version: 1.6.1
OS: Linux
Submission from: (NULL) (128.250.252.193)


The result of the following commands:

> formatC(9.9, 1, format="fg")
[1] "1e+01"
> formatC(99.9, 1, format="fg")
[1] "1e+02"

does not seem to be coherent with what the help page says:

>  format: equal to `"d"'  (for integers), `"f"', `"e"', `"E"', `"g"',
>          `"G"', `"fg"' (for reals), or `"s"' (for strings). Default is
>          `"d"' for integers, `"g"' for reals.
>
>          `"f"' gives numbers in the usual `xxx.xxx' format;  `"e"' and
>          `"E"' give `n.ddde+nn' or `n.dddE+nn' (scientific format);
>          `"g"' and `"G"' put `x[i]' into scientific format only if it
>          saves space to do so.
>
>          `"fg"' uses fixed format as `"f"', but `digits' as number of
>          significant digits.  Note that this can lead to quite long
>          result strings, see examples below.

I would expect "fg" to produce only fixed format numbers, which does not
seem to be the case here.

Frederic

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jago@mclink.it  Sat Nov 16 08:48:52 2002
From: jago@mclink.it (Stefano Iacus)
Date: Sat, 16 Nov 2002 09:48:52 +0100
Subject: survreg (survival) reports erroneous results for left-censored data (PR#2287)
In-Reply-To: <Pine.A41.4.44.0211151532160.137762-100000@homer36.u.washington.edu>
Message-ID: <3BB46CA9-F940-11D6-9DF4-003065CC4CB8@mclink.it>

Thomas,
you were right. It works now. This is what I get with Carbon R and the 
patched survival package.
I will upload a patched version of survivalLib. Can you please fix 
SurvS.h sources?
Stefano


 > survreg(Surv(c(0,1,-1),c(T,T,F),type='left')~1,dist='gaussian')
Call:
survreg(formula = Surv(c(0, 1, -1), c(T, T, F), type = "left") ~
     1, dist = "gaussian")

Coefficients:
(Intercept)
  -0.2321569

Scale= 1.161135

Loglik(model)= -4.1   Loglik(intercept only)= -4.1
n= 3

On Saturday, November 16, 2002, at 12:59 AM, Thomas Lumley wrote:

>
>  I think it's a problem with the erfc macro in survS.h, which is 
> defined
> as
> #ifndef erfc
> #define erfc(x) 2*pnorm5(-x*M_SQRT2,0,1,1,0)
> #endif
>
> The problem is that in survreg2.c we call erf(-z/ROOT_2), which 
> expands to
> 2*pnorm5(--z/ROOT_2*SQRT2,0,1,1,0), and the -- becomes a predecrement
> operator.   I hate macros.
>
> If so, the fix would be
> #ifndef erfc
> #define erfc(x) 2*pnorm5(-(x)*M_SQRT2,0,1,1,0)
> #endif
>
> 	-thomas
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From xiao.gang.fan1@libertysurf.fr  Sun Nov 17 14:31:04 2002
From: xiao.gang.fan1@libertysurf.fr (xiao.gang.fan1@libertysurf.fr)
Date: Sun, 17 Nov 2002 15:31:04 +0100 (MET)
Subject: Package tseries: crash for Windows version (PR#2302)
Message-ID: <200211171431.PAA19882@pubhealth.ku.dk>

Platform: Windows 98
R version: Version 1.6.1  (2002-11-01)
Package 'tseries' version: 0.9-4 Built: R 1.6.0; Win32; Mon Oct 7 14:02:38 2002)
(dependanted packages 'quadprog': Built: R 1.5.1;  Win32;  2002-07-03 12:20:50) 

I've just upgraded to R 1.6.1. By typing

library(tseries)
example(garch)

=> I've got a crash with the following message:
"RGUI a caus une dfaillance de page dans le module TSERIES.DLL  0167:117c999f"

Thanks in advance
--
Fan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From krcabrer@epm.net.co  Sun Nov 17 15:40:37 2002
From: krcabrer@epm.net.co (Kenneth Cabrera)
Date: Sun, 17 Nov 2002 10:40:37 -0500
Subject: Package tseries: crash for Windows version (PR#2302)
References: <200211171431.PAA19882@pubhealth.ku.dk>
Message-ID: <3DD7B875.9040407@epm.net.co>

similar happens on W2K platform

xiao.gang.fan1@libertysurf.fr wrote:

>Platform: Windows 98
>R version: Version 1.6.1  (2002-11-01)
>Package 'tseries' version: 0.9-4 Built: R 1.6.0; Win32; Mon Oct 7 14:02:38 2002)
>(dependanted packages 'quadprog': Built: R 1.5.1;  Win32;  2002-07-03 12:20:50) 
>
>I've just upgraded to R 1.6.1. By typing
>
>library(tseries)
>example(garch)
>
>=> I've got a crash with the following message:
>"RGUI a caus? une d?faillance de page dans le module TSERIES.DLL ? 0167:117c999f"
>
>Thanks in advance
>--
>Fan
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>
>
>  
>

-- 
Kenneth Roy Cabrera Torres
Celular +57 (315) 405 9339



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Nov 17 15:59:26 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 17 Nov 2002 15:59:26 +0000 (GMT)
Subject: Package tseries: crash for Windows version (PR#2302)
In-Reply-To: <3DD7B875.9040407@epm.net.co>
Message-ID: <Pine.LNX.4.31.0211171548360.3550-100000@gannet.stats>

This is not the appropriate place to report such an error, unless you
built the packages yourself under the current version of R, which you
clearly did not.

And this is *definitely* not the place to say `me too'.  Neither of you
provided any debugging information.

Please do not clog up R-bugs with reports on out-of-date builds, and
please do remember that having compiled versions for R is a *privilege*
which such reports abuse.

Note that the tseries pre-compiled package did run the checks under the
version of R on its date stamp and this may well be a problem with the
R 1.6.1 build rather than the package.

Your long-suffering Windows package compiler.


On Sun, 17 Nov 2002, Kenneth Cabrera wrote:

> similar happens on W2K platform
>
> xiao.gang.fan1@libertysurf.fr wrote:
>
> >Platform: Windows 98
> >R version: Version 1.6.1  (2002-11-01)
> >Package 'tseries' version: 0.9-4 Built: R 1.6.0; Win32; Mon Oct 7 14:02:38 2002)
> >(dependanted packages 'quadprog': Built: R 1.5.1;  Win32;  2002-07-03 12:20:50)
> >
> >I've just upgraded to R 1.6.1. By typing
> >
> >library(tseries)
> >example(garch)
> >
> >=> I've got a crash with the following message:
> >"RGUI a caus? une d?faillance de page dans le module TSERIES.DLL ? 0167:117c999f"
> >
> >Thanks in advance
> >--
> >Fan
> >
> >-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> >r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> >Send "info", "help", or "[un]subscribe"
> >(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> >_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> >
> >
> >
>
> --
> Kenneth Roy Cabrera Torres
> Celular +57 (315) 405 9339
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From xiao.gang.fan1@libertysurf.fr  Sun Nov 17 16:07:15 2002
From: xiao.gang.fan1@libertysurf.fr (Fan)
Date: Sun, 17 Nov 2002 17:07:15 +0100
Subject: Package tseries: crash for Windows version (PR#2302)
References: <Pine.LNX.4.31.0211171548360.3550-100000@gannet.stats>
Message-ID: <3DD7BEB3.AE3FF5DF@libertysurf.fr>

Sorry for the precision:
I've tested on the precompiled version (downloaded from CRAN)
AND on my compiled version from source: always KO.
Which debugging information the maintainer want to get ?
The better perhaps would be waiting his answer, no ?
--
Fan

ripley@stats.ox.ac.uk a crit :
> 
> This is not the appropriate place to report such an error, unless you
> built the packages yourself under the current version of R, which you
> clearly did not.
> 
> And this is *definitely* not the place to say `me too'.  Neither of you
> provided any debugging information.
> 
> Please do not clog up R-bugs with reports on out-of-date builds, and
> please do remember that having compiled versions for R is a *privilege*
> which such reports abuse.
> 
> Note that the tseries pre-compiled package did run the checks under the
> version of R on its date stamp and this may well be a problem with the
> R 1.6.1 build rather than the package.
> 
> Your long-suffering Windows package compiler.
> 
> On Sun, 17 Nov 2002, Kenneth Cabrera wrote:
> 
> > similar happens on W2K platform
> >
> > xiao.gang.fan1@libertysurf.fr wrote:
> >
> > >Platform: Windows 98
> > >R version: Version 1.6.1  (2002-11-01)
> > >Package 'tseries' version: 0.9-4 Built: R 1.6.0; Win32; Mon Oct 7 14:02:38 2002)
> > >(dependanted packages 'quadprog': Built: R 1.5.1;  Win32;  2002-07-03 12:20:50)
> > >
> > >I've just upgraded to R 1.6.1. By typing
> > >
> > >library(tseries)
> > >example(garch)
> > >
> > >=> I've got a crash with the following message:
> > >"RGUI a caus? une d?faillance de page dans le module TSERIES.DLL ? 0167:117c999f"
> > >
> > >Thanks in advance
> > >--
> > >Fan
> > >
> > >-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > >r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > >Send "info", "help", or "[un]subscribe"
> > >(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> > >_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> > >
> > >
> > >
> > >
> >
> > --
> > Kenneth Roy Cabrera Torres
> > Celular +57 (315) 405 9339
> >
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> --
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jyan@stat.wisc.edu  Sun Nov 17 17:20:47 2002
From: jyan@stat.wisc.edu (jyan@stat.wisc.edu)
Date: Sun, 17 Nov 2002 18:20:47 +0100 (MET)
Subject: gnuwin32/Makefile (PR#2304)
Message-ID: <200211171720.SAA20281@pubhealth.ku.dk>

I was trying cross-compiling R-1.6.1 and found that at line 519 of
R-1.6.1/src/gnuwin32/Makefile, 

../library/%/DESCRIPTION: ../library/RECOMMENDED/%.tgz

needs to be changed to

../library/%/DESCRIPTION: ../library/Recommended/%.tgz


Jun


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Nov 17 17:31:21 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 17 Nov 2002 17:31:21 +0000 (GMT)
Subject: gnuwin32/Makefile (PR#2304)
In-Reply-To: <200211171720.SAA20281@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0211171730350.4234-100000@gannet.stats>

Yes, already found and fixed.  It's only needed when cross-compiling
as Windows is case-insensitive.

On Sun, 17 Nov 2002 jyan@stat.wisc.edu wrote:

> I was trying cross-compiling R-1.6.1 and found that at line 519 of
> R-1.6.1/src/gnuwin32/Makefile,
>
> ../library/%/DESCRIPTION: ../library/RECOMMENDED/%.tgz
>
> needs to be changed to
>
> ../library/%/DESCRIPTION: ../library/Recommended/%.tgz
>
>
> Jun
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From xiao.gang.fan1@libertysurf.fr  Sun Nov 17 19:58:01 2002
From: xiao.gang.fan1@libertysurf.fr (Fan)
Date: Sun, 17 Nov 2002 20:58:01 +0100
Subject: Package tseries: crash for Windows version (PR#2302)
References: <3DD7B875.9040407@epm.net.co> <Pine.LNX.4.31.0211171548360.3550-100000@gannet.stats> <45hftuosbgf6fjjbq6mba6ba0rsjf4ub7a@4ax.com>
Message-ID: <3DD7F4C9.DED4D1D@libertysurf.fr>

I've got into another pb with R 1.6.1 (always under Windows 98):

help(sum, chmhelp=T)

this will open the file base.chm, if we close this help window =>
crash in R, with the following message:
"RGUI has caused a page failure in the library ITIRCL.dll at 0167:5d506e2a"

With another package, ex. help(garch, package=tseries, chmhelp=T), no problem.

Thanks in advance
--
Fan

Duncan Murdoch :
> 
> On Sun, 17 Nov 2002 15:59:26 +0000 (GMT), you wrote:
> 
> >This is not the appropriate place to report such an error, unless you
> >built the packages yourself under the current version of R, which you
> >clearly did not.
> 
> I rebuilt in 1.6.1 and got the same error, in the .C call to
> pred_garch.  I didn't trace into the C code to localize it any
> further.
> 
> Kurt, if this is a Windows-only issue, let me know and I'll try to
> track down what the problem is.
> 
> Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

	for <r-devel@stat.math.ethz.ch>; Mon, 18 Nov 2002 10:39:46 +0100 (MET)
Date: Mon, 18 Nov 2002 10:39:46 +0100 (MET)
From: maechler@stat.math.ethz.ch
Message-Id: <200211180939.KAA24048@pubhealth.ku.dk>
To: r-devel@stat.math.ethz.ch
CC: R-bugs@biostat.ku.dk
X-Loop: R-bugs@biostat.ku.dk
Subject: [Rd] Re: Wishlist: allow NA values in medpolish (package 'eda') (PR#2298)
Sender: r-devel-admin@stat.math.ethz.ch
Errors-To: r-devel-admin@stat.math.ethz.ch
X-BeenThere: r-devel@stat.math.ethz.ch
X-Mailman-Version: 2.0.13
Precedence: bulk
List-Help: <mailto:r-devel-request@stat.math.ethz.ch?subject=help>
List-Post: <mailto:r-devel@stat.math.ethz.ch>
List-Subscribe: <http://www.stat.math.ethz.ch/mailman/listinfo/r-devel>,
	<mailto:r-devel-request@stat.math.ethz.ch?subject=subscribe>
List-Id: R developers,
	designers and active programmers <r-devel.stat.math.ethz.ch>
List-Unsubscribe: <http://www.stat.math.ethz.ch/mailman/listinfo/r-devel>,
	<mailto:r-devel-request@stat.math.ethz.ch?subject=unsubscribe>
List-Archive: <http://www.stat.math.ethz.ch/pipermail/r-devel/>

>>>>> "Frederic" == Frederic Schutz <schutz@wehi.edu.au>
>>>>>     on Sat, 16 Nov 2002 05:44:02 +0100 (MET) writes:


    Frederic> The subject says everything... This has already
    Frederic> been proposed in June 2001 (cf
    Frederic> http://maths.newcastle.edu.au/~rking/R/help/01a/2333.html),
    Frederic> but no reply followed.

sorry for that.
Yes, this too obvious  to not implement it. ;-)
Probably, most of us are not really making heavy use of medpolish(..)..
But thanks for the patch which I've even implemented 
for "R-patched" (even though it's not a bug fix, but a wish, as
you properly indicated).

    Frederic> I attach the patch that I used on my system to add
    Frederic> this feature (including an updated help page), if
    Frederic> it can help.
it did, thanks.

    Frederic>  Sorry, the two "diff..." lines will certainly
    Frederic> been wrapped due to the HTML form. 

fortunately, the R-devel forwarding had no wrap arounds.

BTW: The main reason for this reply is to test the new R-devel
     mailing list setup .. see my Friday posting (to R-devel) on
     this subject.

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><



From Martin Maechler <maechler@stat.math.ethz.ch>  Mon Nov 18 11:07:01 2002
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Mon, 18 Nov 2002 12:07:01 +0100
Subject: [Rd] R-devel: now moved from majordomo to [procmail+mailman]
In-Reply-To: <15827.30026.260485.901432@gargle.gargle.HOWL>
References: <15827.30026.260485.901432@gargle.gargle.HOWL>
Message-ID: <15832.51669.214864.929805@gargle.gargle.HOWL>

I have done the announced move now (~ 2 hours ago).

The biggest changes is probably for the former subscribers of 
"R-devel-digest" : You are now subscribed to R-devel with the
"digest" option activated.  

Also note that the digests are now *daily* (instead of 3 times a week).
This could be changed with some effort, but does not correspond
to general Mailman setup/philosophy/documentation.

Further, currently the digests are sent at noon (localtime aka
MET or {i.e. UTC+1 or UTC+2 in "summer time"}.  This also
corresponds to mailman defaults, but could be changed easily.

Feedback welcome, to me privately, or to the list if
appropriate. I'm particularly interested in the observed delays
(visible via the message headers, e.g.), since mailman has a
different way of sending things out.

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

From p.dalgaard@biostat.ku.dk  Mon Nov 18 11:23:43 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 Nov 2002 12:23:43 +0100
Subject: [Rd] R-devel: now moved from majordomo to [procmail+mailman]
In-Reply-To: <15832.51669.214864.929805@gargle.gargle.HOWL>
References: <15827.30026.260485.901432@gargle.gargle.HOWL>
 <15832.51669.214864.929805@gargle.gargle.HOWL>
Message-ID: <x2isyvi0jk.fsf@biostat.ku.dk>

Martin Maechler <maechler@stat.math.ethz.ch> writes:

> Feedback welcome, to me privately, or to the list if
> appropriate. I'm particularly interested in the observed delays
> (visible via the message headers, e.g.), since mailman has a
> different way of sending things out.

Notice that the Sender: field has changed from owner-r-devel to
r-devel-admin. Those who use mail-filtering rules may wish to adapt.

        -p

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

From krcabrer@perseus.unalmed.edu.co  Mon Nov 18 01:35:39 2002
From: krcabrer@perseus.unalmed.edu.co (Kenneth Roy Cabrera Torres)
Date: Mon, 18 Nov 2002 06:35:39 +0500 (GMT)
Subject: [Rd] Re: Package tseries: crash for Windows version (PR#2302)
In-Reply-To: <3DD7F4C9.DED4D1D@libertysurf.fr>
Message-ID: <Pine.GSO.4.44.0211180630190.8913-100000@perseus.unalmed.edu.co>

> I've got into another pb with R 1.6.1 (always under Windows 98):
>
> help(sum, chmhelp=T)
>

I have a W2K platform and works fine with self compiled version,
but not with the precompiled. (I modify the makerules for make the
chm files)

> this will open the file base.chm, if we close this help window =>
> crash in R, with the following message:
> "RGUI has caused a page failure in the library ITIRCL.dll at 0167:5d506e2a"
>

It works fine also in the self compiled version, not in the precompiled.

> With another package, ex. help(garch, package=tseries, chmhelp=T), no problem.
>
> Thanks in advance
> --
> Fan
>


From ripley@stats.ox.ac.uk  Mon Nov 18 11:46:47 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 18 Nov 2002 11:46:47 +0000 (GMT)
Subject: [Rd] Re: chm help (was Package tseries: crash for Windows version (PR#2302))
In-Reply-To: <Pine.GSO.4.44.0211180630190.8913-100000@perseus.unalmed.edu.co>
Message-ID: <Pine.LNX.4.31.0211181144390.14421-100000@gannet.stats>

Do you have the *current* precompiled version of rw1061.exe?
That one works on my systems, as does a version I compiled myself.

Please use a sensible subject!

On Mon, 18 Nov 2002, Kenneth Roy Cabrera Torres wrote:

>
> > I've got into another pb with R 1.6.1 (always under Windows 98):
> >
> > help(sum, chmhelp=T)
> >
>
> I have a W2K platform and works fine with self compiled version,
> but not with the precompiled. (I modify the makerules for make the
> chm files)
>
> > this will open the file base.chm, if we close this help window =>
> > crash in R, with the following message:
> > "RGUI has caused a page failure in the library ITIRCL.dll at 0167:5d506e2a"
> >
>
> It works fine also in the self compiled version, not in the precompiled.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From mcrae_allan@hotmial.com  Mon Nov 18 14:12:24 2002
From: mcrae_allan@hotmial.com (mcrae_allan@hotmial.com)
Date: Mon, 18 Nov 2002 15:12:24 +0100 (MET)
Subject: [Rd] Prediction from arima() object (library ts) (PR#2305)
Message-ID: <200211181412.PAA28853@pubhealth.ku.dk>

Full_Name: Allan McRae
Version: 1.6.0
OS: Win 2000 P
Submission from: (NULL) (129.215.190.229)


When using predict.Arima in library ts(), it appears differencing is only
accounted for in the first step of prediction and so any trend is not apparent
in the predictions.  The example shows the difference between the predictions of
an arima(1,1,1) model and the backtransformed predictions of an arima(1,0,1)
model fitted on the differenced data.

Example:

total <- c(750, 775, 971, 1099, 1344, 610, 910, 1056, 1589, 1006, 1469, 1598,
876, 1104, 1197, 1062, 1783, 1554, 1400, 1340, 1013, 1031, 1030, 860, 943, 1542,
1400, 1301, 1443, 1057, 1296, 710, 1038, 1447, 694, 889, 1459, 957, 1284, 1520,
1172, 1826, 1751, 1968, 933, 1409, 1889)

revtotal <- numeric(length(total))
for(i in 1:length(total))
	revtotal[i] <- total[length(total)-i+1]

# first model
m1 <- arima(revtotal, c(1,1,1))
pm1 <- predict(m1, n.ahead=15)
plot(1:47, y=revtotal, type="l", xlim=c(0,65))
lines(48:62, y=pm1$pred, col="red")

# second model - differencing done manually
drevtotal <- diff(revtotal)
m <- arima(drevtotal, c(1,0,1))
pm <- predict(m, n.ahead=15)
p <- numeric(15)
p[1] <- pm$pred[1] + revtotal[length(revtotal)]
for(i in 2:15)
	p[i] <- p[i-1] + pm$pred[i]
plot(1:47, y=revtotal, type="l", xlim=c(0,65))
lines(48:62, y=p, col="red")


From Martin Maechler <maechler@stat.math.ethz.ch>  Mon Nov 18 17:35:12 2002
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Mon, 18 Nov 2002 18:35:12 +0100
Subject: [Rd] Apology for not enough protection of new R-devel
Message-ID: <15833.9424.422713.403728@gargle.gargle.HOWL>

Dear R-devel subscribers,

I'm feeling quite sheepish at the moment:
When I had activated the change from majordomo to mailman this
morning, I accidentally didn't activate the spam(+some virus)
detection part.  I've only activated it half an hour ago.

Indeed there were twos message of the following kind sent from
R-devel -- I did never seem them personally, because we *do*
filtering of these.
It seems they are Javascript-based viruses (see some info below).
In any case, I apologize and very much hope that this won't
happen (as easily) again. 

Yours,
Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

>>  Our virus detector has just been triggered by a message you sent:-
>>    To: .......
>>    Subject: [Rd] z p@i}G
>>    Date: Mon Nov 18 13:34:30 2002
>>  Any infected parts of the message have not been delivered.
>> 
>>  This message is simply to warn you that your computer system may have a
>>  virus present and should be checked.
>> 
>>  The virus detector said this about the message:
>>  Report: gAIHYOH30591/msg-29196-147.html  Infection: JS/Seeker.R


From B.Rowlingson@lancaster.ac.uk  Mon Nov 18 17:57:47 2002
From: B.Rowlingson@lancaster.ac.uk (Barry Rowlingson)
Date: Mon, 18 Nov 2002 17:57:47 +0000
Subject: [Rd] i386 floating point tweaking
Message-ID: <3DD92A1B.1020707@lancaster.ac.uk>

Just been trying to get the polygon triangulation code from this 
package: http://www-2.cs.cmu.edu/~quake/triangle.html to dyn.load into 
R. Uh oh. Floating point exceptions.

Track it down to some FPU diddling that the author deems is necessary. 
Here's my minimal code that breaks:

flipme.c:

#include <fpu_control.h>
void flipme(){
   int cword;
   cword=4210;
   _FPU_SETCW(cword);
   printf("%f\n",sqrt(2.0));
}

  Compile with "R SHLIB flipme.c", then dyn.load and run:

 > dyn.load("flipme.so")
 > .C("flipme")

Process R floating point exception at Mon Nov 18 17:41:50 2002

  The debugger tells me its the printf line that kills it.

  Anyone have an idea what's going on here? I've tried a few things:

* using _FPU_GETCW I've determined that R hasn't changed the control 
word from the system default.

* I wrote a short main program that used dlopen() to call flipme - and 
it worked fine, so the problem isn't intrinsic to dynamically loaded code.

* the author of the triangle package has put this in the code that 
manipulates the FPU control word:

/*  Don't change this routine unless you fully understand it. 
      */

  - I dont understand it, I changed it, the code broke.

  Anyone with deeper understanding of floating point, iee754, and 
assorted other Recipes For Chaos (RFCs) care to comment before we go 
back to using a file or a pipe to communicate between R and the code?

Baz


From murdoch@stats.uwo.ca  Mon Nov 18 18:33:23 2002
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Mon, 18 Nov 2002 13:33:23 -0500
Subject: [Rd] i386 floating point tweaking
In-Reply-To: <3DD92A1B.1020707@lancaster.ac.uk>
References: <3DD92A1B.1020707@lancaster.ac.uk>
Message-ID: <2sbitu0pvt0dn8dgc0gb18vdvtrbnsk6h5@4ax.com>

On Mon, 18 Nov 2002 17:57:47 +0000, you wrote in message
<3DD92A1B.1020707@lancaster.ac.uk>:

>Just been trying to get the polygon triangulation code from this 
>package: http://www-2.cs.cmu.edu/~quake/triangle.html to dyn.load into 
>R. Uh oh. Floating point exceptions.
>
>Track it down to some FPU diddling that the author deems is necessary. 
>Here's my minimal code that breaks:
>
>flipme.c:
>
>#include <fpu_control.h>
>void flipme(){
>   int cword;
>   cword=4210;
>   _FPU_SETCW(cword);
>   printf("%f\n",sqrt(2.0));
>}
>
>  Compile with "R SHLIB flipme.c", then dyn.load and run:
>
> > dyn.load("flipme.so")
> > .C("flipme")
>
>Process R floating point exception at Mon Nov 18 17:41:50 2002

Dynamic code that changes the floating point word should change it
back when it returns.  R depends on it being correct.

The value you're using is hex 1072, which means among other things
that calculations should be done to 24 bit precision, and various
exceptions should not be masked.  This won't work for R, which assumes
full precision and masking of various things. The safe thing to do
would be to save the CW on entry to each of these routines, set it to
1072 for the duration, then on exit clear any pending exceptions, and
restore the R setting.

I don't know how to do that in C.  In assembler it would be

    fstcw   saved_cw

    do some stuff

    fclex
    fldcw   saved_cw

Duncan Murdoch


From j.c.rougier@durham.ac.uk  Tue Nov 19 14:25:34 2002
From: j.c.rougier@durham.ac.uk (j.c.rougier@durham.ac.uk)
Date: Tue, 19 Nov 2002 15:25:34 +0100 (MET)
Subject: [Rd] Nesting of readline input (PR#2310)
Message-ID: <200211191425.PAA10334@pubhealth.ku.dk>

Hi everyone,

I am following instructions here as I have generated the following warning:

> # stuff looping through some plots with ask=TRUE
Hit <Return> to see next plot: 
Hit <Return> to see next plot: 
Hit <Return> to see next plot: 
Hit <Return> to see next plot: 
Hit <Return> to see next plot: 
In addition: Warning message: 
An unusual circumstance has arisen in the nesting of readline input. Please report using bug.report() 

I exited the loop early using CTL-C, which is when I got the message.
More details available on request!

Cheers, Jonathan.

--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = 
 major = 1
 minor = 6.1
 year = 2002
 month = 11
 day = 01
 language = R

Search Path:
 .GlobalEnv, package:stochastulator, package:mva, package:uuobj, package:PythonClass, Autoloads, package:base


From rpeng@stat.ucla.edu  Tue Nov 19 17:34:30 2002
From: rpeng@stat.ucla.edu (Roger Peng)
Date: Tue, 19 Nov 2002 09:34:30 -0800 (PST)
Subject: [Rd] Nesting of readline input (PR#2310)
In-Reply-To: <200211191425.PAA10334@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.10.10211190932480.10024-100000@fisher.stat.ucla.edu>

I believe this problem was fixed by D. T. Lang a couple of weeks ago.
There was some problem with the readline stack specifically after hitting
Ctrl-C a number of times.  Try the latest R-devel sources.  The problem
shouldn't happen there.

-roger
_______________________________
UCLA Department of Statistics
rpeng@stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Tue, 19 Nov 2002, j.c.rougier@durham.ac.uk wrote:

> Hi everyone,
> 
> I am following instructions here as I have generated the following warning:
> 
> > # stuff looping through some plots with ask=TRUE
> Hit <Return> to see next plot: 
> Hit <Return> to see next plot: 
> Hit <Return> to see next plot: 
> Hit <Return> to see next plot: 
> Hit <Return> to see next plot: 
> In addition: Warning message: 
> An unusual circumstance has arisen in the nesting of readline input. Please report using bug.report() 
> 
> I exited the loop early using CTL-C, which is when I got the message.
> More details available on request!
> 
> Cheers, Jonathan.
> 
> --please do not edit the information below--
> 
> Version:
>  platform = i686-pc-linux-gnu
>  arch = i686
>  os = linux-gnu
>  system = i686, linux-gnu
>  status = 
>  major = 1
>  minor = 6.1
>  year = 2002
>  month = 11
>  day = 01
>  language = R
> 
> Search Path:
>  .GlobalEnv, package:stochastulator, package:mva, package:uuobj, package:PythonClass, Autoloads, package:base
> 
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> http://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>


From jgentry@jimmy.harvard.edu  Wed Nov 20 02:30:13 2002
From: jgentry@jimmy.harvard.edu (Jeff Gentry)
Date: Tue, 19 Nov 2002 21:30:13 -0500 (EST)
Subject: [Rd] Bioconductor 1.1 Released
Message-ID: <Pine.SOL.4.20.0211192129380.27979-100000@santiam.dfci.harvard.edu>

The Bioconductor development team announces release 1.1 of the
Bioconductor packages for the analysis of genomic data. Bioconductor
is an open source bioinformatics software project based on R.

Version 1.1 features:
=====================

 * All packages from the 1.0 release are included. All current bug
   fixes have been applied, and most have upgraded and provide
   enhanced functionality. 
 * New packages and major upgrades for release 1.1: affy:
   read.MIAME, a widget for entering phenoData. expresso, a
   flexible function for computing expression measures as well as
   providing widgets to choose among options in the various steps
   of preprocessing. rma, a fast and efficient function to compute
   the multi-array average expression measure.
 * Biobase: vignette and openVignette, functions to give users
   greater interaction with package vignettes from the R command
   line.
 * graph: A new package that provides classes & tools to handle
   graph objects in R.
 * hexbin: A new package which includes binning functions, in
   particular hexagonal bins for graphing
 * marrayTools: A new package with miscellaneous functions use in
   the functional genomics core facility in UCB
 * reposTools: A new package that provides tools for dealing with
   file repositories, which allow users to easily install, update
   and distribute packages, vignettes and other files.
 * tkWidgets: vExplorer, a powerful tool designed to allow users to
   interact with vignette documentation in a hands on manner.
 * vsn: A new package providing calibration and variance
   stabilizing transformations for DNA array data.

Software, documentation, and further details are available on the
Bioconductor WWW site:

      http://www.bioconductor.org/

HELP AND RESOURCES:
===================

Information on subscribing to the mailing list and viewing its archives
can be found at:

      http://www.stat.math.ethz.ch/mailman/listinfo/bioconductor

Please use that list to discuss Bioconductor specific issues, bugs,
and problems.  Note that every package has a vignette (a literate
program which provides an annotated example of the package's use) as
well as possibly some "HOWTO"s.  These document the tool's usage, and
are provided in the "doc" subdirectory of each package library.

WHO:
====

For the Bioconductor development team:

  Douglas Bates, University of Wisconsin, USA.
  Vince Carey, Harvard Medical School, USA.
  Marcel Dettling, Federal Inst. Technology, Switzerland.
  Sandrine Dudoit, Division of Biostatistics, University of
      California, Berkeley, USA.
  Byron Ellis, Harvard Department of Statistics, USA.
  Laurent Gautier, Technial University of Denmark, Denmark.
  Robert Gentleman, Harvard Medical School, USA.
  Jeff Gentry, Dana-Farber Cancer Institute, USA.
  Kurt Hornik, Technische Universitat Wien, Austria.
  Torsten Hothorn, Institut fuer Medizininformatik, Biometrie und
      Epidemiologie, Germany. 
  Wolfgang Huber, DKFZ Heidelberg, Molecular Genome Analysis,
      Germany. 
  Stefano Iacus, Italy
  Rafael Irizarry, Department of Biostatistics (JHU), USA.
  Friedrich Leisch, Technische Universitat Wien, Austria.
  Cheng Li, Harvard Medical School, USA.
  Martin Maechler, Federal Inst. Technology, Switzerland.
  Anthony Rossini, University of Washington and the Fred Hutchinson
      Cancer Research Center, USA. 
  Gunther Sawitzki, Institute fur Angewandte Mathematik, Germany.
  Luke Tierney, University of Iowa, USA.
  Jean Yee Hwa Yang, University of California, San Francisco, USA. 
  Jianhua (John) Zhang, Dana-Farber Cancer Institute, USA


From Mark.Bravington@csiro.au  Wed Nov 20 02:50:47 2002
From: Mark.Bravington@csiro.au (Mark.Bravington@csiro.au)
Date: Wed, 20 Nov 2002 13:50:47 +1100
Subject: [Rd] restart
Message-ID: <A8877251964B294BAB5BA1FC58B43FED025B4398@molly.tas.csiro.au>

Dear group

I use "restart" in part of my code, in a way that's not easily changed to
"try". As I convert code from R1.5.0 to R1.6.1, I'm getting ugly messages;
the help system says to contact r-devel, so here I am. This one's a bit
complicated-- sorry!

The context is inside a debugger (I have an R and S debugger that offers
stand-alone code windows, line numbered conditional breakpoints,
statement-skipping, and graceful error trapping). I use the following
function to trap errors, both in code undergoing debugging, and in the
user's interactions with the debugger:

eval.catching.errors <- function(i, envir) do.in.envir( envir=find.debug.HQ(
FALSE), {
  if(.evaluated.OK.) {
    .evaluated.OK. <<- FALSE
    restart(TRUE)
    j <- eval( i, envir=envir)
    .evaluated.OK. <<- TRUE
return(j) }
  else
return(NULL)
})

The function is a bit opaque because I have fiddled with the lexical
scoping, but the rationale is fairly simple. There is a 'global flag' called
".evaluated.OK." which is normally set to TRUE. When "eval.catching.errors"
is called, the flag is reset to FALSE and there's an attempt to evaluate the
expression given in "i". If there are no errors in evaluation, then the
global flag is reset to TRUE before "eval.catching.errors" exits. Otherwise,
"eval.catching.errors" is reinvoked (thanks to "restart" catching the error)
and exits with the global flag set to FALSE. Subsequent debugger code
inspects the status of the global flag to decide what happens next.

The problem with changing 

  restart( TRUE)
  j <- eval( i, envir=envir)

into

  j <- try( eval( i, envir=envir))
  if( inherits( j, 'try-error')) <<...>>

is that the statement being debugged may itself be a call to "try" which
happens to fail. In that case, the debugger would stop and report an error,
whereas the code-being-debugged has actually been designed to run smoothly
in the event of error. Under R1.5.0, errors that occur within a "try"
statement in the code-being-debugged are (correctly) not flagged as problems
by my debugger.

I can hack my way round this with a call to .Internal( restart( on)), but
it's not pretty and I worry about what will happen if error-trapping
mechanisms are changed in future.

Thanks for any advice

Mark


*******************************

Mark Bravington
CSIRO (CMIS)
PO Box 1538
Castray Esplanade
Hobart
TAS 7001

phone (61) 3 6232 5118
fax (61) 3 6232 5012
Mark.Bravington@csiro.au


From luke@stat.uiowa.edu  Wed Nov 20 03:39:32 2002
From: luke@stat.uiowa.edu (Luke Tierney)
Date: Tue, 19 Nov 2002 21:39:32 -0600 (CST)
Subject: [Rd] restart
In-Reply-To: <A8877251964B294BAB5BA1FC58B43FED025B4398@molly.tas.csiro.au>
Message-ID: <Pine.LNX.4.44.0211192127340.2480-100000@nokomis2.stat.umn.edu>

On Wed, 20 Nov 2002 Mark.Bravington@csiro.au wrote:

> Dear group
> 
> I use "restart" in part of my code, in a way that's not easily changed to
> "try". As I convert code from R1.5.0 to R1.6.1, I'm getting ugly messages;
> the help system says to contact r-devel, so here I am. This one's a bit
> complicated-- sorry!
> 
> The context is inside a debugger (I have an R and S debugger that offers
> stand-alone code windows, line numbered conditional breakpoints,
> statement-skipping, and graceful error trapping). I use the following
> function to trap errors, both in code undergoing debugging, and in the
> user's interactions with the debugger:
> 
> eval.catching.errors <- function(i, envir) do.in.envir( envir=find.debug.HQ(
> FALSE), {
>   if(.evaluated.OK.) {
>     .evaluated.OK. <<- FALSE
>     restart(TRUE)
>     j <- eval( i, envir=envir)
>     .evaluated.OK. <<- TRUE
> return(j) }
>   else
> return(NULL)
> })
> 
> The function is a bit opaque because I have fiddled with the lexical
> scoping, but the rationale is fairly simple. There is a 'global flag' called
> ".evaluated.OK." which is normally set to TRUE. When "eval.catching.errors"
> is called, the flag is reset to FALSE and there's an attempt to evaluate the
> expression given in "i". If there are no errors in evaluation, then the
> global flag is reset to TRUE before "eval.catching.errors" exits. Otherwise,
> "eval.catching.errors" is reinvoked (thanks to "restart" catching the error)
> and exits with the global flag set to FALSE. Subsequent debugger code
> inspects the status of the global flag to decide what happens next.
> 
> The problem with changing 
> 
>   restart( TRUE)
>   j <- eval( i, envir=envir)
> 
> into
> 
>   j <- try( eval( i, envir=envir))
>   if( inherits( j, 'try-error')) <<...>>
> 
> is that the statement being debugged may itself be a call to "try" which
> happens to fail. In that case, the debugger would stop and report an error,
> whereas the code-being-debugged has actually been designed to run smoothly
> in the event of error. Under R1.5.0, errors that occur within a "try"
> statement in the code-being-debugged are (correctly) not flagged as problems
> by my debugger.
> 

One way to handle this is to wrap the result, something like

   j <- try( list(value = eval( i, envir=envir)))
   if( inherits( j, 'try-error')) <<...>>
   ...
   return(j$value)

luke

-- 
Luke Tierney
University of Iowa                  Phone:             319-335-3386
Department of Statistics and        Fax:               319-335-3017
   Actuarial Science
241 Schaeffer Hall                  email:      luke@stat.uiowa.edu
Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu


From mohamed@engr.uconn.edu  Wed Nov 20 03:46:05 2002
From: mohamed@engr.uconn.edu (Mohamed A. Kerasha)
Date: Tue, 19 Nov 2002 22:46:05 -0500
Subject: [Rd] Calling R from Java
References: <Pine.SOL.4.20.0211192129380.27979-100000@santiam.dfci.harvard.edu>
Message-ID: <3DDB057D.8040901@engr.uconn.edu>

Dear All,

I'm looking for any documentation or examples on how to call R from JAVA.

I really appreciate your help,

-Mohamed.


From Mark.Bravington@csiro.au  Wed Nov 20 03:53:11 2002
From: Mark.Bravington@csiro.au (Mark.Bravington@csiro.au)
Date: Wed, 20 Nov 2002 14:53:11 +1100
Subject: [Rd] restart
Message-ID: <A8877251964B294BAB5BA1FC58B43FED025B439B@molly.tas.csiro.au>

Thanks Luke!-- a succinct and unimproveable solution.

cheers
Mark

Mark Bravington
CSIRO (CMIS)
PO Box 1538
Castray Esplanade
Hobart
TAS 7001

phone (61) 3 6232 5118
fax (61) 3 6232 5012
Mark.Bravington@csiro.au 

#-----Original Message-----
#From: Luke Tierney [mailto:luke@stat.uiowa.edu]
#Sent: Wednesday, 20 November 2002 2:40 PM
#To: Mark.Bravington@csiro.au
#Cc: r-devel@stat.math.ethz.ch
#Subject: Re: [Rd] restart
#
#
#On Wed, 20 Nov 2002 Mark.Bravington@csiro.au wrote:
#
#> Dear group
#> 
#> I use "restart" in part of my code, in a way that's not 
#easily changed to
#> "try". 

<< snipped >>

#> 
#> The problem with changing 
#> 
#>   restart( TRUE)
#>   j <- eval( i, envir=envir)
#> 
#> into
#> 
#>   j <- try( eval( i, envir=envir))
#>   if( inherits( j, 'try-error')) <<...>>
#> 
#> is that the statement being debugged may itself be a call to 
#"try" which
#> happens to fail. 

<< snipped >>

#> 
#
#One way to handle this is to wrap the result, something like
#
#   j <- try( list(value = eval( i, envir=envir)))
#   if( inherits( j, 'try-error')) <<...>>
#   ...
#   return(j$value)
#
#luke
#
#-- 
#Luke Tierney
#University of Iowa                  Phone:             319-335-3386
#Department of Statistics and        Fax:               319-335-3017
#   Actuarial Science
#241 Schaeffer Hall                  email:      luke@stat.uiowa.edu
#Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu
#


From mohamed@engr.uconn.edu  Wed Nov 20 03:53:13 2002
From: mohamed@engr.uconn.edu (Mohamed A. Kerasha)
Date: Tue, 19 Nov 2002 22:53:13 -0500
Subject: [Rd] Running Parallel Jobs in R
References: <Pine.SOL.4.20.0211192129380.27979-100000@santiam.dfci.harvard.edu>
Message-ID: <3DDB0729.9030201@engr.uconn.edu>

Dear All,

I am completely  new to R, and I was wondering if there is any way you can run concurrent jobs in R.

Thanks,

-Mohamed.


From luke@stat.uiowa.edu  Wed Nov 20 15:25:24 2002
From: luke@stat.uiowa.edu (Luke Tierney)
Date: Wed, 20 Nov 2002 09:25:24 -0600 (CST)
Subject: [Rd] Re: [R] Running Parallel Jobs in R
In-Reply-To: <3DDB0729.9030201@engr.uconn.edu>
Message-ID: <Pine.LNX.4.44.0211200915580.10251-100000@itasca.stat.uiowa.edu>

On Tue, 19 Nov 2002, Mohamed A. Kerasha wrote:

> Dear All,
> 
> I am completely  new to R, and I was wondering if there is any way you can run concurrent jobs in R.
> 

Depends on what you mean.  Your subject line says "parallel", here you
say "concurrent".  Those are different.  Processes on a time sharing
single processor run concurrently; on a multiprocessor machine some of
them may run in parallel.

There are tools available for using R for parallel programming on a
cluster of workstations.  The rpvm and Rmpi packages available from
CRAN provide powerful low level facilities for this.  The package snow
available at www.stat.uiowa.edu/~luke/R/cluster/ provides a simpler,
higher level interface that is useful for many "embarassingly
parallel" applications.  snow runs on top of sockets, or rpvm, or
Rmpi.  snow is still udergoing changes in its basic design but should
stabilize and get submitted to CRAN within a month or so.

R does not currently allow multiple threads within a single R process.
It may eventually allow concurrent threads; it is unlikely that it
will ever allow parallel threads (for lots of reasons it will probably
always be necessary to make sure that at most one R thread is running
in the R internals at any given time).

luke


-- 
Luke Tierney
University of Iowa                  Phone:             319-335-3386
Department of Statistics and        Fax:               319-335-3017
   Actuarial Science
241 Schaeffer Hall                  email:      luke@stat.uiowa.edu
Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu


From maechler@stat.math.ethz.ch  Wed Nov 20 16:16:36 2002
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Wed, 20 Nov 2002 17:16:36 +0100 (MET)
Subject: [Rd] log( <ts object> ) is not <ts object> (PR#2315)
Message-ID: <200211201616.RAA21848@pubhealth.ku.dk>

As I have found, taking functions like  log(.) on a "ts" object
returns something that still has the "ts" class attribute but is
not a properly classed R object anymore.

E.g.
	(lt <- log(as.ts(1:7)))

clearly calls  print.default instead of print.ts
and the analogue for  plot(lt)
or also
        diff(lt) 

returns a "ts" object but with invalid start/end.

(this is also a test of the R-bugs@R-project.org address)

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><


From ripley@stats.ox.ac.uk  Wed Nov 20 17:16:08 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 20 Nov 2002 17:16:08 +0000 (GMT)
Subject: [Rd] log( <ts object> ) is not <ts object> (PR#2315)
In-Reply-To: <200211201616.RAA21848@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0211201715120.9764-100000@gannet.stats>

For the record, only if coercion is involved (as here, since 1:7 is
integer).  It applies to lots of arithmetic functions, not just log.

Fixed in both R-patched and R-devel.

On Wed, 20 Nov 2002 maechler@stat.math.ethz.ch wrote:

> As I have found, taking functions like  log(.) on a "ts" object
> returns something that still has the "ts" class attribute but is
> not a properly classed R object anymore.
>
> E.g.
> 	(lt <- log(as.ts(1:7)))
>
> clearly calls  print.default instead of print.ts
> and the analogue for  plot(lt)
> or also
>         diff(lt)
>
> returns a "ts" object but with invalid start/end.
>
> (this is also a test of the R-bugs@R-project.org address)
>
> Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
> Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
> ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
> phone: x-41-1-632-3408		fax: ...-1228			<><
>
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> http://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From stephen@cogsci.ed.ac.uk  Wed Nov 20 22:13:47 2002
From: stephen@cogsci.ed.ac.uk (stephen@cogsci.ed.ac.uk)
Date: Wed, 20 Nov 2002 23:13:47 +0100 (MET)
Subject: [Rd] Platform() used in tkfilefind.X although now deprecated (PR#2316)
Message-ID: <200211202213.XAA23264@pubhealth.ku.dk>

> library(tcltk)
> demo(tkfilefind)
[then select a file]
[1] "./NEWS"
Warning message: 
`Platform' is deprecated.
Use `.Platform' instead.
See ?Deprecated. 

See R/library/tcltk/demo/tkfilefind.R, line 32.  (Also present in
latest r-devel).

> version
         _                
platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    6.1              
year     2002             
month    11               
day      01               
language R          

Stephen


From p.dalgaard@biostat.ku.dk  Wed Nov 20 22:25:41 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Nov 2002 23:25:41 +0100
Subject: [Rd] Platform() used in tkfilefind.X although now deprecated (PR#2316)
In-Reply-To: <200211202213.XAA23264@pubhealth.ku.dk>
References: <200211202213.XAA23264@pubhealth.ku.dk>
Message-ID: <x27kf7naje.fsf@biostat.ku.dk>

stephen@cogsci.ed.ac.uk writes:

> > library(tcltk)
> > demo(tkfilefind)
> [then select a file]
> [1] "./NEWS"
> Warning message: 
> `Platform' is deprecated.
> Use `.Platform' instead.
> See ?Deprecated. 
> 
> See R/library/tcltk/demo/tkfilefind.R, line 32.  (Also present in
> latest r-devel).

Thanks. We should probably kill that demo altogether anyway...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907


From pd@pubhealth.ku.dk  Thu Nov 21 06:15:06 2002
From: pd@pubhealth.ku.dk (Peter Dalgaard BSA)
Date: Thu, 21 Nov 2002 07:15:06 +0100
Subject: [Rd] Bug list summary (automatic post)
Message-ID: <200211210615.gAL6F6721960@blueberry.kubism.ku.dk>

=================================================
This is an automated summary of the status of the R-bugs
repository.

Note that this may be neither complete nor perfectly
correct at any given instance: Not all bugs are reported,
and some reported bugs may have been fixed, but the
repository not yet updated.

Some bug fixes are difficult to verify because they pertain
to specific hardware or operating system versions. If you
have information to contribute, please do so.

If you happen to know how to fix a problem please send
patches to the bug repository, too.

New bugs are reported either through the web
interface at r-bugs.r-project.org or via email to
r-bugs@r-project.org. The bug.report() function can be
used to automate parts of the procedure on many systems.
Followups on older bugs can be done by including the string
"(PR#999)" in the Subject of an email (change 999 to the
actual reference number, of course!).
=================================================

Directory:  Accuracy

* PR# 1228 *
Subject: bug with var(rep(1e30, 3))
From: Emmanuel Paradis <paradis@isem.univ-montp2.fr>
Date: Wed, 26 Dec 2001 13:03:31 +0100
* PR# 1664 *
Subject: Bug in rnorm.
From: Rolf Turner <rolf@math.unb.ca>
Date: Thu, 13 Jun 2002 16:35:59 -0300 (ADT)
..Strange interaction between "Marsaglia-Multicarry" generator and
.."Kinderman-Ramage" 
..method for normal variates. Apparently, switching either of them will help.
* PR# 2214 *
Subject: qgamma precision
From: terra@diku.dk
Date: Fri, 25 Oct 2002 16:50:17 +0200 (MET DST)

Directory:  Add-ons

* PR# 974 *
Subject: Lattice: panel.superpose with ordered factor groups
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sat, 9 Jun 2001 11:08:51 +1000 (EST)
..The warning is standard S and R behaviour.
..Probably xyplot needs to avoid it (by unclassing?)
..Still there in lattice 0.3-0.
* PR# 1044 *
Subject: Polymarsall.c
From: pleu@hotmail.com
Date: Tue, 7 Aug 2001 22:42:07 +0200 (MET DST)
* PR# 1178 *
Subject: segfault using svm from e1071
From: Jan Rychter <jan@rychter.com>
Date: Tue, 20 Nov 2001 23:38:17 +0100
* PR# 1199 *
Subject: pixmap: infinite recursion with nonascii pnm-files
From: thomas.baumann@ch.tum.de
Date: Fri, 7 Dec 2001 11:07:52 +0100 (CET)
* PR# 1361 *
Subject: Matrix identification bug
From: hyu@stats.uwo.ca
Date: Tue, 5 Mar 2002 21:19:46 +0100 (MET)
..seems to be about Matrix package, not solve
* PR# 1662 *
Subject: fisher.test FEXACT memory bug "should not occur"
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Thu, 13 Jun 2002 08:21:50 +0200
..The supplementary (table of sum one) is fixed for 1.5.1.
..Detection code for the first problem has been added to 1.5.1 which will stop
..the crash, but the underlying cause is still open.
* PR# 1716 *
Subject: rdiscrete in e1071 fails when n==1
From: "John Aitchison" <jaitchis@hwy.com.au>
Date: Fri, 28 Jun 2002 10:28:17 +1000
* PR# 1729 *
Subject: problem with qq( )
From: Jarno.Tuimala@Helsinki.Fi
Date: Tue, 2 Jul 2002 10:37:10 +0200 (MET DST)
..A report on lattice
* PR# 1741 *
Subject: groupedData constructor from a function
From: dieter.menne@menne-biomed.de
Date: Thu, 4 Jul 2002 15:59:59 +0200 (MET DST)
* PR# 1745 *
Subject: nlme: failed augPred with NA in an unused column
From: dieter.menne@menne-biomed.de
Date: Fri, 5 Jul 2002 08:32:32 +0200 (MET DST)
..nlme needs an update as suggested in the followup
* PR# 1901 *
Subject: svm seg faults
From: stefan.boehringer+science@uni-bochum.de
Date: Tue, 13 Aug 2002 14:12:17 +0200 (MET DST)
..Seem to be due to gcc `2.96' from RH7.3
* PR# 1974 *
Subject: Rwave installation problem
From: ld-temp-qt3i@pobox.com
Date: Mon, 2 Sep 2002 09:27:36 +0200 (MET DST)
..Instead, this should use ISO C headers, namely <stdlib.h>
* PR# 2173 *
Subject: xlim in plot.survfit() [with a discussion on "..."]
From: jerome@hivnet.ubc.ca
Date: Wed, 16 Oct 2002 18:46:11 +0200 (MET DST)
* PR# 2252 *
Subject: Ansari-Bradley test
From: wex00002@uconn.edu
Date: Sun, 3 Nov 2002 23:38:20 +0100 (MET)
* PR# 2302 *
Subject: Package tseries: crash for Windows version
From: Fan <xiao.gang.fan1@libertysurf.fr>
Date: Sun, 17 Nov 2002 15:28:14 +0100
..Actually, there is a mismatch between the R call and the 
..C code in pred_garch, so this is not Windows-specific.

Directory:  Analyses

none

Directory:  Documentation

* PR# 988 *
Subject: input for R-intro
From: "Paul E. Johnson" <pauljohn@ku.edu>
Date: Mon, 18 Jun 2001 13:57:10 -0500
* PR# 1011 *
Subject: R-intro suggestions part II
From: "Paul E. Johnson" <pauljohn@ukans.edu>
Date: Tue, 03 Jul 2001 15:50:06 -0500
* PR# 1136 *
Subject: cex/col/etc. in title(): documentation?
From: Ben Bolker <ben@zoo.ufl.edu>
Date: Mon, 22 Oct 2001 11:55:14 -0400 (EDT)
..MM:actually the documentation still could elaborate a bit..
* PR# 1772 *
Subject: bug(?) in R FAQ - Should I run R from within Emacs?
From: Tim.Harrold@csiro.au
Date: Thu, 11 Jul 2002 18:21:42 +1000
* PR# 2170 *
Subject: documentation: Missing paranthesis in reshape.Rd
From: lina@u.washington.edu
Date: Wed, 16 Oct 2002 08:36:07 +0200 (MET DST)
* PR# 2229 *
Subject: Building and installing packages with functions with names starting with 
From: Jens Henrik Badsberg <JensHenrik.Badsberg@agrsci.dk>
Date: Wed, 30 Oct 2002 15:48:58 +0100
..Issue is package.skeleton creates names for .R files starting with dot.
..R CMD INSTALL is documented not to install them!

Directory:  Graphics

* PR# 202 *
Subject: persp box occlusion bug
From: wsi@gcal.ac.uk
Date: Wed, 2 Jun 1999 15:02:03 +0200 (MET DST)
..The persp algorithm does not apply the occlusion rules to the frame, 
..which is always plotted first. 
..A bug, but not very simple to fix.
* PR# 660 *
Subject: identify.default ignores any setting of cex.
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
Date: Fri, 15 Sep 2000 10:23:39 +0100 (BST)
* PR# 776 *
Subject: strwidth does not take font into account
From: Martyn Plummer <plummer@iarc.fr>
Date: Tue, 19 Dec 2000 14:56:01 +0100 (CET)
..This needs a substantial redesign.
* PR# 791 *
Subject:  par(lab= *) / axis(*) bug 
From: maechler@stat.math.ethz.ch
Date: Fri, 22 Dec 2000 10:59:26 +0100
* PR# 816 *
Subject: dotplot: character size of labels
From: RINNER Heinrich <H.RINNER@TIROL.GV.AT>
Date: Thu, 18 Jan 2001 14:54:32 +0100
..Suggested fix is incorporated in 1.2.2.
..
..There is a deeper problem:  mtext() ignores par(cex=.5) in general.  
..To see the problem try:  par(cex=.5); mtext("hi")
..Paul thinks the right fix is to change the argument list for mtext so that
..cex=par(cex) by default rather than cex=NA by default (plus corresponding
..internal changes to  do_mtext in plot.c).
..This needs to be done very carefully because (i) the change suggested above 
..mayhave side-effects in many other pieces of interpreted code 
..(ii) do_mtext ignores dd->gp.cexbase unlike, for example, do_plot_xy 
..and anything to do with cexbase needs extreme care.
* PR# 820 *
Subject: interaction.plot
From: "Mark M. Span" <span@psy.uva.nl>
Date: Mon, 22 Jan 2001 10:47:39 +0100
..mtext is unscaled by default.  It is not clear if this should
..use the par("cex") setting or an inline cex setting such as cex.axis.
..It might make more sense to use axis rather than mtext, as boxplot does.
* PR# 831 *
Subject: screen can't go back to (split) screen with log="y" plot
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 30 Jan 2001 00:39:41 -0500
..Still there. Suggested fix included in followups, but we didn't get around to
..try it in time for 1.2.3.
..
..Fix doesn't work. One problem is that the opar<-par();par(opar) idiom updates
..xaxp before xlog, and the new value of xaxp may only be valid under the new
..value of xlog.
* PR# 837 *
Subject: screen doesn't handle redrawing properly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 01 Feb 2001 14:20:52 -0500
* PR# 887 *
Subject: axis(adj=anything) has no effect
From: jhallman@frb.gov
Date: Wed, 28 Mar 2001 20:51:05 +0200 (MET DST)
* PR# 943 *
Subject: legend() with xpd=T; omission of initial plot character
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sun, 20 May 2001 10:35:16 +1000
* PR# 997 *
Subject:  las=1 with log axis 
From: Peter Dalgaard BSA <pd@pubhealth.ku.dk>
Date: Wed, 27 Jun 2001 11:54:06 +0200
* PR# 1045 *
Subject: Palette changes on redraw
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 08 Aug 2001 19:08:01 +0200
* PR# 1147 *
Subject: postscript problem
From: kjetil halvorsen <kjetilh@umsanet.edu.bo>
Date: Fri, 26 Oct 2001 15:23:45 -0400
..This seems to be a problem with screen/layout rather than postscript.
* PR# 1161 *
Subject: x-axis label in persp()
From: Rolf Turner <rolf@maths.uwa.edu.au>
Date: Wed, 7 Nov 2001 18:07:22 +0800 (WST)
* PR# 1207 *
Subject: boxplot labels incorrect when horizontal = TRUE
From: Rashid Nassar <rnassar@duke.edu>
Date: Sun, 9 Dec 2001 21:46:32 -0500 (EST)
* PR# 1235 *
Subject: Axes labelling with logarithmic scales
From: tobias.hoevekamp@ilw.agrl.ethz.ch
Date: Thu, 3 Jan 2002 15:29:02 +0100 (MET)
* PR# 1300 *
Subject: FW: layout and piechart diameter problem
From: "Warnes, Gregory R" <gregory_r_warnes@groton.pfizer.com>
Date: Thu, 7 Feb 2002 11:05:15 -0500 
* PR# 1305 *
Subject: interaction.plot (with misplaced legend)
From: Uwe Ligges <ligges@statistik.uni-dortmund.de>
Date: Fri, 08 Feb 2002 14:27:01 +0100
* PR# 1395 *
Subject: mgp parameter in par()
From: mh.smith@niwa.cri.nz
Date: Tue, 19 Mar 2002 06:11:49 +0100 (MET)
* PR# 1470 *
Subject: color of axis lines
From: gray@jimmy.harvard.edu
Date: Sat, 20 Apr 2002 22:21:44 +0200 (MET DST)
* PR# 1476 *
Subject: Bug: persp and colors
From: oliver.niggemann@acterna.com
Date: Tue, 23 Apr 2002 09:41:37 +0200 (MET DST)
* PR# 1505 *
Subject: pictex 
From: luchini@ehess.cnrs-mrs.fr
Date: Thu, 2 May 2002 12:23:21 +0200 (MET DST)
* PR# 1653 *
Subject: coplot behaviour
From: "RenE J.V. Bertin" <rjvbertin@hotmail.com>
Date: Mon, 10 Jun 2002 20:11:02 +0200
* PR# 1654 *
Subject: R 1.5.0: axis() does not honor the xaxp argument
From: "Robert D. Merithew" <merithew@ccmr.cornell.edu>
Date: Tue, 11 Jun 2002 09:29:39 -0400 (EDT)
* PR# 1659 *
Subject:  mtext() alignment of perpendicular text 
From: p.murrell@auckland.ac.nz
Date: Wed, 12 Jun 2002 13:29:45 +1200 (NZST)
* PR# 1878 *
Subject: close.screen
From: Martin.Schlather@uni-bayreuth.de
Date: Mon, 5 Aug 2002 22:35:02 +0200 (MET DST)
* PR# 1899 *
Subject: interaction.plot() legend too narrow when mfcol > 2
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Tue, 13 Aug 2002 09:36:15 +0200
* PR# 1933 *
Subject: dev2eps() prints ticks with wrong length!
From: Timur Elzhov <Timur.Elzhov@jinr.ru>
Date: Fri, 23 Aug 2002 17:22:15 +0400
..dev.copy problem
* PR# 1972 *
Subject: lattice install
From: robert.king@newcastle.edu.au
Date: Mon, 2 Sep 2002 04:55:41 +0200 (MET DST)
..Perhaps lattice should require(grid) and print a clearer message?
* PR# 2069 *
Subject: split.screen problem
From: cbodily@att.net
Date: Thu, 26 Sep 2002 19:37:40 +0200 (MET DST)
* PR# 2283 *
Subject: Wandering usr values in par(no.readonly=TRUW)
From: Jari Oksanen <jarioksa@sun3.oulu.fi>
Date: Tue, 12 Nov 2002 13:50:44 +0200

Directory:  In-Out

* PR# 1688 *
Subject: Maybe a problem in binary read/write
From: accot@free.fr
Date: Tue, 18 Jun 2002 22:51:17 +0200 (MET DST)
..I don't think file() is said to work with devices!

Directory:  Installation

* PR# 1222 *
Subject: configure: sed: Function s%@PDFLATEX@%/usr/local/bin/pdflatex%g
From: Peter Kleiweg <kleiweg@let.rug.nl>
Date: Thu, 20 Dec 2001 14:09:42 +0100 (CET)
..problem is on hppa2.0-hp-hpux10.20: may be HP-UX specific
* PR# 1268 *
Subject: Solaris 2.6 Compile
From: gm81640@development.nssmb.com
Date: Thu, 17 Jan 2002 06:28:26 +0100 (MET)
..Most likely a compiler installation problem
* PR# 1291 *
Subject: Installation problem : SunOS
From: brendan_mcmahon@prusec.com
Date: Thu, 31 Jan 2002 18:00:55 +0100 (MET)
..looks like gcc compiled under different OS version.
* PR# 1415 *
Subject: int 32 bit error on SPARC 64bit
From: kss28@mail.cba.nau.edu
Date: Mon, 25 Mar 2002 21:18:58 +0100 (MET)
..Was gcc 2.95.2 in private followup.
..Probably unappropriate flags
* PR# 1428 *
Subject: R compile on Solaris 8 fails
From: brower@bst.rochester.edu
Date: Mon, 1 Apr 2002 22:19:07 +0200 (MET DST)
..problems with g++ not finding -lstdc++
..Not a problem with R per se
* PR# 1500 *
Subject: configure script fails on comment in tkConfig.sh
From: Peter Kleiweg <kleiweg@let.rug.nl>
Date: Tue, 30 Apr 2002 16:41:51 +0200 (CEST)
..Looks like a conspiracy between a shell problem and an oddity in Tk 8.0 rather
..than an R problem. Good to know for the workaround though. The comment in
..TK_XINCLUDES has since disappeared, at least in Tk 8.3.3.
* PR# 1501 *
Subject: configure error: Maybe change CFLAGS or FFLAGS?
From: ale@ini.phys.ethz.ch
Date: Wed, 1 May 2002 15:23:14 +0200 (MET DST)
..Tried to use fort77 on RedHat, should likely try g77 instead.
* PR# 1658 *
Subject: make install fails - index.html not found
From: dhouston@bio.ri.ccf.org
Date: Tue, 11 Jun 2002 22:14:07 +0200 (MET DST)
..Missing perl??
* PR# 1676 *
Subject: R configure.in makes bad alpha assumptions
From: mcmahill@mtl.mit.edu
Date: Sat, 15 Jun 2002 19:21:09 -0400 (EDT)
..Probably fixed in 1.5.1
* PR# 1825 *
Subject: bug in R-1.5.1 for Mac OS X installer
From: Kow Kuroda <kkuroda@crl.ucsd.edu>
Date: Mon, 22 Jul 2002 16:40:26 -0700
..Darwin port
* PR# 1829 *
Subject: R config failure on solaris
From: "Siva Ginjupalli" <gsivrao@hotmail.com>
Date: Wed, 24 Jul 2002 20:08:49 +0000
..Missing info on R version and compilers.
* PR# 1937 *
Subject:  Inconsistent use of Perl? 
From: Berwin Turlach <berwin@maths.uwa.edu.au>
Date: Sat, 24 Aug 2002 18:41:09 +0800
..Some packages require Perl v 5.005
* PR# 1995 *
Subject:  2002-09-08 1.6.0 build fails in Recommended 
From: <stvjc@channing.harvard.edu>
Date: Sun, 8 Sep 2002 23:57:39 -0400 (EDT)
..I think this got cleared up...
* PR# 1996 *
Subject:  config checks for --with-gnome need update 
From: <stvjc@channing.harvard.edu>
Date: Mon, 9 Sep 2002 00:08:59 -0400 (EDT)

Directory:  Language

* PR# 408 *
Subject: convolution bug
From: wsimpson@gcal.ac.uk
Date: Fri, 28 Jan 2000 11:17:36 +0100 (MET)
* PR# 412 *
Subject: anomalies with call objects
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 06 Feb 2000 01:18:50 +0100
* PR# 669 *
Subject: Bug(s) w/ rbind.data.frame(); fix also read.table(*, as.is = TRUE) ?
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Mon, 25 Sep 2000 10:17:15 +0200
..status of AsIs columns
* PR# 1073 *
Subject: Wierd problem comparing numeric values and list using ==
From: "Warnes, Gregory R" <gregory_r_warnes@groton.pfizer.com>
Date: Fri, 24 Aug 2001 22:07:41 -0400
..see also PR#1075
* PR# 1076 *
Subject: Re: [Rd] Wierd problem comparing numeric values and list using == 
From: John Chambers <jmc@research.bell-labs.com>
Date: Mon, 27 Aug 2001 08:44:22 -0400
..part of PR#1073
* PR# 1186 *
Subject: a patch to tapply
From: Vadim Ogranovich <vograno@arbitrade.com>
Date: Thu, 29 Nov 2001 14:48:35 -0600
* PR# 1214 *
Subject: syntax questtion, maybe a bug
From: Rich Heiberger <rmh@surfer.sbm.temple.edu>
Date: Thu, 13 Dec 2001 13:46:54 -0500 (EST)
..Is .2logl meant to be a valid name in R? It is S
* PR# 1241 *
Subject:  Problem with "missing" in "local" 
From: J.C.Rougier@durham.ac.uk
Date: Fri, 4 Jan 2002 13:34:34 GMT
* PR# 1891 *
Subject: summary.data.frame with compound elements problem
From: b.rowlingson@lancaster.ac.uk
Date: Fri, 9 Aug 2002 10:35:43 +0200 (MET DST)

Directory:  Low-level

* PR# 989 *
Subject: "[.data.frame" allows un-named 3rd subscript
From: "Charles C. Berry" <cberry@tajo.ucsd.edu>
Date: Mon, 18 Jun 2001 13:13:46 -0700 (PDT)
* PR# 1068 *
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
From: Luke Tierney <luke@nokomis.stat.umn.edu>
Date: Wed, 22 Aug 2001 19:32:51 -0500
..see also followup in PR#1069
* PR# 1069 *
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
From: "John W. Eaton" <jwe@bevo.che.wisc.edu>
Date: Wed, 22 Aug 2001 21:56:33 -0500
..part of PR#1068
* PR# 1880 *
Subject:  You requested this report 
From: Berwin Turlach <berwin@maths.uwa.edu.au>
Date: Tue, 6 Aug 2002 16:57:54 +0800
..The bug is that we get as far as mkCLOSXP before an error is reported
* PR# 2253 *
Subject: [R] CTRL-C suspends echo of shell (R versions 1.6.0 and 1.6.1)
From: Wolfram Fischer - Z/I/M <wolfram@fischer-zim.ch>
Date: Mon, 4 Nov 2002 10:18:48 +0100

Directory:  Macintosh

* PR# 1819 *
Subject: Date arithmetic fails
From: RML27@cornell.edu
Date: Sun, 21 Jul 2002 20:26:12 +0200 (MET DST)
..In fact, as.POSIXct is off by 66 years. See
..   http://developer.apple.com/qa/ops/ops23.html
..This is semifixed, but timezones still don't work
* PR# 1991 *
Subject: Mac Save As... bug
From: Tim Cole <tjc1@cam.ac.uk>
Date: Sun, 8 Sep 2002 13:47:00 +0100
* PR# 2276 *
Subject: Mac specific - quartz leads to crash
From: h95mr@mun.ca
Date: Fri, 8 Nov 2002 16:28:50 +0100 (MET)

Directory:  Misc

* PR# 1126 *
Subject: R-bug report www page whishlist
From: jens.lund@nordea.com
Date: Wed, 10 Oct 2001 18:24:29 +0200 (MET DST)
* PR# 1158 *
Subject: bug.report()sends empty message
From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
Date: Mon, 05 Nov 2001 10:05:27 -0500
* PR# 1503 *
Subject: R-GNOME
From: Patrick Gonin <gonin@genethon.fr>
Date: Thu, 2 May 2002 09:29:07 +0200
..1) is not a bug, as jpeg etc work.  capabilities() has been changed for 1.5.1
..2) system() needs a new version for GNOME.

Directory:  Models

* PR# 1861 *
Subject: update() can not find objects
From: yzhou@arcturusag.com
Date: Thu, 1 Aug 2002 19:01:59 +0200 (MET DST)
..The problem is actually deeper than this.
..
..Sometime update() wants to evaluate arguments in the environment where the model
..was defined, as here. 
..
..Sometimes it wants to use the current environment, eg this snippet from MASS 
..ph.fun <- function(data, i) {
..  d <- data
..  d$calls <- d$fitted + d$res[i]
..  coef(update(fit, data=d))
..}
* PR# 2206 *
Subject: model.matrix (via predict)
From: Glenn.Stone@csiro.au
Date: Thu, 24 Oct 2002 06:33:02 +0200 (MET DST)
..strange model used!

Directory:  Startup

none

Directory:  System-specific

* PR# 848 *
Subject: X11 device doesn't handle destroy events correcly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 13 Feb 2001 17:40:46 -0500
* PR# 1020 *
Subject: .Call and Mandrake 8.0
From: lcottret@yahoo.fr
Date: Wed, 11 Jul 2001 15:34:23 +0200 (MET DST)
..problem with symbol names only on Mandrake 8.0, not 7.2
..needs reply to follow-up
* PR# 1097 *
Subject: R 1.3.1 fails 'make check' on arm in the Bessel example
From: Dirk Eddelbuettel <edd@debian.org>
Date: Thu, 20 Sep 2001 23:54:19 -0500
..This platform turned out to have badly broken FPU behaviour. Given up, at 
..least for now .
* PR# 1140 *
Subject: Possible bug, Rprof() and scan(pipe())
From: Don MacQueen <macq@llnl.gov>
Date: Tue, 23 Oct 2001 13:50:26 -0700
..MacOS X: Doesn't happen on Solaris or Linux
* PR# 1145 *
Subject: Problem testing R version 1.3.1 on SGI Irix
From: Gordon Lack <gml4410@ggr.co.uk>
Date: Fri, 26 Oct 2001 19:04:04 +0100
..error from using SGI libblas (not reported on other systems?)
..use --without-blas
* PR# 1261 *
Subject: R_140 AND RHL_72 AND Packages
From: Patrick Gonin <gonin@genethon.fr>
Date: Wed, 15 Jan 2003 13:25:17 +0100
..Seems to relate to RH7.2 rpms
* PR# 1272 *
Subject: eigen segfault with GCC 3 on Solaris
From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
Date: Thu, 17 Jan 2002 15:14:33 -0500
..Seems to be a problem with g77 in gcc 3.0.2 on Solaris only.
..Probably a compiler bug
* PR# 1275 *
Subject: compile problem with bessel_i.c on IRIX64 flexor 6.5 10100655 IP35 (uname -a)
From: Walter Tautz <wtautz@math.uwaterloo.ca>
Date: Tue, 22 Jan 2002 10:05:20 -0500 (EST)
* PR# 1289 *
Subject: R 1.4.0 build fails on AIX
From: lio@hpss1.ccs.ornl.gov
Date: Wed, 30 Jan 2002 14:10:30 +0100 (MET)
* PR# 1316 *
Subject: shared libraries on AIX
From: lio@hpss1.ccs.ornl.gov
Date: Mon, 18 Feb 2002 18:53:41 +0100 (MET)
* PR# 1461 *
Subject: make check fails d-p-q-r-tests.R - OpenBSD 3.0
From: Jason Turner <jasont@indigoindustrial.co.nz>
Date: Mon, 15 Apr 2002 10:13:36 +0000
* PR# 1606 *
Subject: hitting ^C breaks readline history
From: Cyril Humbert <humbertc@univ-mlv.fr>
Date: Tue, 28 May 2002 12:07:07 +0200 (MET DST)
* PR# 2091 *
Subject: Scripts not executable
From: Peter Kleiweg <kleiweg@let.rug.nl>
Date: Wed, 2 Oct 2002 00:54:15 +0200 (CEST)
* PR# 2144 *
Subject: Save() with ascii=TRUE may corrupt numeric values
From: "Efthymiou, Nick" <Nick.Efthymiou@schwab.com>
Date: Thu, 10 Oct 2002 14:09:21 -0700
..Only on systems without vsnprintf

Directory:  TooMuchAtOnce

none

Directory:  Windows

* PR# 1711 *
Subject: GUI bug
From: socrates@mail.ru
Date: Thu, 27 Jun 2002 10:30:51 +0200 (MET DST)
..A crash that is *very* hard to trigger (after several
..minutes of continuous resizing)

Directory:  incoming

* PR# 1556 *
Subject: lib.fixup, .GlobalEnv, and R1.5.0
From: mark.bravington@csiro.au
Date: Wed, 15 May 2002 08:30:50 +0200 (MET DST)
* PR# 2094 *
Subject: Mean and var inconsistency
From: Kevin.Wright@pioneer.com
Date: Wed, 2 Oct 2002 16:19:27 +0200 (MET DST)
* PR# 2159 *
Subject: The class attribute on an environment seems buggy
From: hb@maths.lth.se
Date: Mon, 14 Oct 2002 01:34:45 +0200 (MET DST)
..Not a bug, but perhaps a useful feature: should the attributes of environments
..be copied on assignment?
* PR# 2298 *
Subject: Wishlist: allow NA values in medpolish (package 'eda')
From: schutz@wehi.edu.au
Date: Sat, 16 Nov 2002 05:43:59 +0100 (MET)
..added for 1.7.0
* PR# 2299 *
Subject: formatC with format="fg" displays number in exponential notation
From: schutz@wehi.edu.au
Date: Sat, 16 Nov 2002 06:33:04 +0100 (MET)
* PR# 2305 *
Subject: Prediction from arima() object (library ts)
From: mcrae_allan@hotmial.com
Date: Mon, 18 Nov 2002 15:12:22 +0100 (MET)
* PR# 2307 *
Subject: Japanese lass' sexy pictures
From: Kinderteachkim <Kinderteachkim@aol.com>
Date: 18 Nov 2002 12:27:00 -1000
* PR# 2308 *
Subject: HELLO
From: "THOMAS OLEMBE" <thomolembee@earthling.net>
Date: Tue, 19 Nov 2002 00:17:35 -0800
* PR# 2309 *
Subject: Make a Great Living in the Music Industry!
From: webmaster6766o62@earthlink.net
Date: Mon, 18 Nov 0102 16:18:59 +0700
* PR# 2310 *
Subject:  Nesting of readline input 
From: j.c.rougier@durham.ac.uk
Date: Tue, 19 Nov 2002 14:24:41 GMT
* PR# 2311 *
Subject: Of statements.
From: kunihiro <kunihiro@kawachi.zaq.ne.jp>
Date: Wed, 20 Nov 2002 02:01:55 +0900 (JST)
* PR# 2312 *
Subject: Easily design, send and track your graphical newsletters 
From: "GraphicMail.com" <news@graphicmail.com>
Date: Tue, 19 Nov 2002 22:13:23 +0200
* PR# 2313 *
Subject: Undeliverable mail--"edit(xold)"
Subject: edit(xold)<br>
From: postmaster <postmaster@r-project.org>
From: r-bugs@r-project.org<br>
Date: Wed, 20 Nov 2002 06:57:19 +0900 (JST)
* PR# 2314 *
Subject: I NEED YOU TO ASSIST ME.
From: "MADAM MARIAM MOBUTU SESE-SEKO" <sem@loadmail.com>
Date: Tue, 19 Nov 2002 23:16:18
* PR# 2316 *
Subject: Platform() used in tkfilefind.X although now deprecated
From: "Stephen Eglen	(CNS)" <stephen@cogsci.ed.ac.uk>
Date: Wed, 20 Nov 2002 22:12:58 +0000


From george@lecompte.org  Fri Nov 22 05:33:41 2002
From: george@lecompte.org (george@lecompte.org)
Date: Fri, 22 Nov 2002 06:33:41 +0100 (MET)
Subject: [Rd] simplex problem (PR#2317)
Message-ID: <200211220533.GAA05030@pubhealth.ku.dk>

Full_Name: George F. LeCompte
Version: 1.6.1
OS: Windows 98
Submission from: (NULL) (208.8.162.161)


This may be a newbie problem.  I am attempting tor unt the simplex routine from
the boot package.  The example code doesn't find simplex.  What's wrong here?

> help(simplex,package=boot)
> # from the resulting article
> 
>      #  This example is taken from Exercise 7.5 of Gill, Murray, 
>      #  and Wright (1991).
>      enj <- c(200, 6000, 3000, -200)
>      fat <- c(800, 6000, 1000, 400)
>      vitx <- c(50, 3, 150, 100)
>      vity <- c(10, 10, 75, 100)
>      vitz <- c(150, 35, 75, 5)
>      simplex(a=enj, A1=fat, b1=13800, A2=rbind(vitx, vity, vitz), 
+              b2=c(600, 300, 550), maxi=TRUE)
Error: couldn't find function "simplex"
>


From ripley@stats.ox.ac.uk  Fri Nov 22 11:03:26 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 22 Nov 2002 11:03:26 +0000 (GMT)
Subject: [Rd] simplex problem (PR#2317)
In-Reply-To: <200211220533.GAA05030@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0211221101340.6181-100000@gannet.stats>

You have to use library(boot) to use functions in boot.

*Please* send things like this to R-help, when you cna be advised how to
use R packages.

library(boot)
example(simplex)

works.

On Fri, 22 Nov 2002 george@lecompte.org wrote:

> Full_Name: George F. LeCompte
> Version: 1.6.1
> OS: Windows 98
> Submission from: (NULL) (208.8.162.161)
>
>
> This may be a newbie problem.  I am attempting tor unt the simplex routine from
> the boot package.  The example code doesn't find simplex.  What's wrong here?
>
> > help(simplex,package=boot)
> > # from the resulting article
> >
> >      #  This example is taken from Exercise 7.5 of Gill, Murray,
> >      #  and Wright (1991).
> >      enj <- c(200, 6000, 3000, -200)
> >      fat <- c(800, 6000, 1000, 400)
> >      vitx <- c(50, 3, 150, 100)
> >      vity <- c(10, 10, 75, 100)
> >      vitz <- c(150, 35, 75, 5)
> >      simplex(a=enj, A1=fat, b1=13800, A2=rbind(vitx, vity, vitz),
> +              b2=c(600, 300, 550), maxi=TRUE)
> Error: couldn't find function "simplex"
> >

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From J.C.Rougier@durham.ac.uk  Fri Nov 22 12:31:07 2002
From: J.C.Rougier@durham.ac.uk (Jonathan Rougier)
Date: Fri, 22 Nov 2002 12:31:07 +0000
Subject: [Rd] Small change to plot.xy
Message-ID: <3DDE238B.FDC95BDB@durham.ac.uk>

Hi everyone,

Is there any reason why we should not automatically coerce a factor
supplied as an argument to col in a plotting function?  The following
modification (to R-1.6.1) seems pretty harmless

> plot.xy
function (xy, type, pch = 1, lty = "solid", col = par("fg"), 
    bg = NA, cex = 1, ...) 
{
    if (is.factor(col)) 
        col <- codes(col)
    .Internal(plot.xy(xy, type, pch, lty, col, bg, cex, ...))
}
<environment: namespace:base>

and I think it is natural and not really wrong to want to type, say,

> data(iris)
> pairs(iris[, 1:4], col = iris[, 5])

and get the colours.

Cheers, Jonathan.

-- 
Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html


From p.dalgaard@biostat.ku.dk  Fri Nov 22 13:01:10 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Nov 2002 14:01:10 +0100
Subject: [Rd] Small change to plot.xy
In-Reply-To: <3DDE238B.FDC95BDB@durham.ac.uk>
References: <3DDE238B.FDC95BDB@durham.ac.uk>
Message-ID: <x2lm3lvjvt.fsf@biostat.ku.dk>

Jonathan Rougier <J.C.Rougier@durham.ac.uk> writes:

> Hi everyone,
> 
> Is there any reason why we should not automatically coerce a factor
> supplied as an argument to col in a plotting function?  The following
> modification (to R-1.6.1) seems pretty harmless
> 
> > plot.xy
> function (xy, type, pch = 1, lty = "solid", col = par("fg"), 
>     bg = NA, cex = 1, ...) 
> {
>     if (is.factor(col)) 
>         col <- codes(col)
>     .Internal(plot.xy(xy, type, pch, lty, col, bg, cex, ...))
> }
> <environment: namespace:base>
> 
> and I think it is natural and not really wrong to want to type, say,
> 
> > data(iris)
> > pairs(iris[, 1:4], col = iris[, 5])
> 
> and get the colours.

It's not clear to me that you want codes() there. Consider

f <-factor(c("red","blue","green")) 
plot(1:3,col=codes(f))

which get coloured green, black, and red. Arguably better than to drop
codes() and get black, black, and black, but not by much. Alternatives
could be as.numeric() or as.character(), but it all gets a bit
arbitrary. I think I prefer the explicit style in any case

clr <- sort(c("red","blue","green"))
plot(1:3,col=clr[f])

(beware the ordering of levels in f)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907


From ripley@stats.ox.ac.uk  Fri Nov 22 13:02:32 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 22 Nov 2002 13:02:32 +0000 (GMT)
Subject: [Rd] Small change to plot.xy
In-Reply-To: <3DDE238B.FDC95BDB@durham.ac.uk>
Message-ID: <Pine.LNX.4.31.0211221300300.1224-100000@gannet.stats>

*Not* codes! Unclass perhaps.

However, why should  col=factor(c("red", "blue", "green"))
not as naturally coerce to character.

I think we do need to get the user to specify what is meant, as now.
There are lots of examples of this sort of thing in MASS, BTW.


On Fri, 22 Nov 2002, Jonathan Rougier wrote:

> Hi everyone,
>
> Is there any reason why we should not automatically coerce a factor
> supplied as an argument to col in a plotting function?  The following
> modification (to R-1.6.1) seems pretty harmless
>
> > plot.xy
> function (xy, type, pch = 1, lty = "solid", col = par("fg"),
>     bg = NA, cex = 1, ...)
> {
>     if (is.factor(col))
>         col <- codes(col)
>     .Internal(plot.xy(xy, type, pch, lty, col, bg, cex, ...))
> }
> <environment: namespace:base>
>
> and I think it is natural and not really wrong to want to type, say,
>
> > data(iris)
> > pairs(iris[, 1:4], col = iris[, 5])
>
> and get the colours.
>
> Cheers, Jonathan.
>
> --
> Jonathan Rougier                       Science Laboratories
> Department of Mathematical Sciences    South Road
> University of Durham                   Durham DH1 3LE
> tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
> http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html
>
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> http://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From murdoch@stats.uwo.ca  Fri Nov 22 14:55:14 2002
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Fri, 22 Nov 2002 09:55:14 -0500
Subject: [Rd] Small change to plot.xy
In-Reply-To: <x2lm3lvjvt.fsf@biostat.ku.dk>
References: <3DDE238B.FDC95BDB@durham.ac.uk> <x2lm3lvjvt.fsf@biostat.ku.dk>
Message-ID: <48gstucf4oc2rslncjm663j94fomi9a239@4ax.com>

On 22 Nov 2002 14:01:10 +0100, Peter Dalgaard BSA
<p.dalgaard@biostat.ku.dk> wrote in message
<x2lm3lvjvt.fsf@biostat.ku.dk>:


>It's not clear to me that you want codes() there. Consider
>
>f <-factor(c("red","blue","green")) 
>plot(1:3,col=codes(f))
>
>which get coloured green, black, and red. Arguably better than to drop
>codes() and get black, black, and black, but not by much. Alternatives
>could be as.numeric() or as.character(), but it all gets a bit
>arbitrary.

I think you want it to act as though it is coercing everything to
character.  If something prints as "1", then it should act as though
it is colour 1.  If it prints as "red", it should be red.

I don't think you actually want to coerce everything to character;
that's too inefficient in the case of numeric colours, but it should
act as if you did.

I think this version gives that behaviour, but I might have the wrong
test...

plot.xy <- function (xy, type, pch = 1, lty = "solid", col =
par("fg"), 
    bg = NA, cex = 1, ...) 
{
    if (!is.numeric(col)) 
        col <- as.character(col)
    .Internal(plot.xy(xy, type, pch, lty, col, bg, cex, ...))
}

This doesn't help with Jonathan's iris example; in that case, I think
the fix should be to abort with the declaration that "setosa" etc.
aren't colours.  Alternatively, they could be coerced to numeric
colours (preferably not all black), but at the very least a warning
should be given when that is done.

Duncan Murdoch


From jerome@hivnet.ubc.ca  Fri Nov 22 23:51:51 2002
From: jerome@hivnet.ubc.ca (jerome@hivnet.ubc.ca)
Date: Sat, 23 Nov 2002 00:51:51 +0100 (MET)
Subject: [Rd] Segmentation fault using "survival" package (PR#2320)
Message-ID: <200211222351.AAA14020@pubhealth.ku.dk>

Full_Name: Jerome Asselin
Version: 1.6.1
OS: RedHat Linux 7.2
Submission from: (NULL) (142.103.173.179)



Hello,

I get a segmentation fault when I run the following code. I wouldn't expect
meaningful results because my response variable contains only missing values.
However, I would expect something like a regular error (not a segmentation
fault).


library(survival)

data <- structure(list(surv = structure(c(NA, NA, NA, 0,
0, 0), .Dim = c(3, 2), .Dimnames = list(NULL, c("time", "status"
)), class = "Surv", type = "right"), x = c(-1, -1, -0.5)),
.Names = c("surv", "x"),row.names = c("1", "2", "3"),
class = "data.frame")

coxph(surv ~ x,data=data)


Below is what I get when I run these commands from a freshly started R session.
This is always reproducible for me.

Sincerely,
Jerome Asselin

> library(survival)
>
> data <- structure(list(surv = structure(c(NA, NA, NA, 0,
+ 0, 0), .Dim = c(3, 2), .Dimnames = list(NULL, c("time", "status"
+ )), class = "Surv", type = "right"), x = c(-1, -1, -0.5)),
+ .Names = c("surv", "x"),row.names = c("1", "2", "3"),
+ class = "data.frame")
>
> coxph(surv ~ x,data=data)
Segmentation fault


From J.C.Rougier@durham.ac.uk  Sat Nov 23 09:07:52 2002
From: J.C.Rougier@durham.ac.uk (Jonathan Rougier)
Date: Sat, 23 Nov 2002 09:07:52 +0000
Subject: [Rd] Small change to plot.xy
References: <3DDE238B.FDC95BDB@durham.ac.uk>
Message-ID: <3DDF4568.63CB31D1@durham.ac.uk>

OK -- so there are two objections to the proposal:

1) The factor might be a colour specifier

2) Using codes is not a good idea because there are only 8 colours
available for an integer argument to col.

I can see that both of these have merit, but I think they are both easy
to work around, if necessary.  No-one has disagreed that it's natural to
want to pass a factor to col, and I believe that the vast majority of
times when this occurs the factor is not designed explicitly to paint
the points.

I think I would let the first objection pass.  Using codes to coerce the
factor we still get different colours for different factors, just not
the specified colours.  This is not right, but it's rarely a disaster
either and should be easy to spot for anyone who is expecting to see
"slateblue" and gets "red".

As for the second objection, I think this is valid and should be
addressed, but at the same time it is a different problem.  I often
wondered why col = 1 was black (not really a colour at all, and not very
good for boxplots) and, more pertinently, why col = 2 is red and col = 3
is green: isn't the most common form of colour-blindness red/green?  At
the very least, let's not have them next to each other in the list!  We
have 657 named colours to choose from: why not have a explicit "int2col"
function that provides a bigger and better table?

More-or-less the same arguments also apply to pch.

Jonathan.

Jonathan Rougier wrote:
> 
> Hi everyone,
> 
> Is there any reason why we should not automatically coerce a factor
> supplied as an argument to col in a plotting function?  The following
> modification (to R-1.6.1) seems pretty harmless
> 
> > plot.xy
> function (xy, type, pch = 1, lty = "solid", col = par("fg"),
>     bg = NA, cex = 1, ...)
> {
>     if (is.factor(col))
>         col <- codes(col)
>     .Internal(plot.xy(xy, type, pch, lty, col, bg, cex, ...))
> }
> <environment: namespace:base>
> 
> and I think it is natural and not really wrong to want to type, say,
> 
> > data(iris)
> > pairs(iris[, 1:4], col = iris[, 5])
> 
> and get the colours.
> 
> Cheers, Jonathan.
> 
> --
> Jonathan Rougier                       Science Laboratories
> Department of Mathematical Sciences    South Road
> University of Durham                   Durham DH1 3LE
> tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
> http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html
> 
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> http://www.stat.math.ethz.ch/mailman/listinfo/r-devel

-- 
Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html


From ripley@stats.ox.ac.uk  Sat Nov 23 09:52:07 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 23 Nov 2002 09:52:07 +0000 (GMT)
Subject: [Rd] Small change to plot.xy
In-Reply-To: <3DDF4568.63CB31D1@durham.ac.uk>
Message-ID: <Pine.LNX.4.31.0211230946500.4803-100000@gannet.stats>

On Sat, 23 Nov 2002, Jonathan Rougier wrote:

> OK -- so there are two objections to the proposal:
>
> 1) The factor might be a colour specifier
>
> 2) Using codes is not a good idea because there are only 8 colours
> available for an integer argument to col.

You seem not to appreciate

0) You used codes when you should have used unclass!

which was made twice.  Please do make sure you understand the difference.

> I can see that both of these have merit, but I think they are both easy
> to work around, if necessary.  No-one has disagreed that it's natural to
> want to pass a factor to col, and I believe that the vast majority of
> times when this occurs the factor is not designed explicitly to paint
> the points.

I did disagree.  I don't see why users should not explicitly map the
factor levels to colours, which takes only a few extra characters.
People have been doing this for a decade in S without objecting.
Why is it worth complicating R for?

> I think I would let the first objection pass.  Using codes to coerce the
> factor we still get different colours for different factors, just not
> the specified colours.  This is not right, but it's rarely a disaster
> either and should be easy to spot for anyone who is expecting to see
> "slateblue" and gets "red".
>
> As for the second objection, I think this is valid and should be
> addressed, but at the same time it is a different problem.  I often
> wondered why col = 1 was black (not really a colour at all, and not very
> good for boxplots) and, more pertinently, why col = 2 is red and col = 3
> is green: isn't the most common form of colour-blindness red/green?  At
> the very least, let's not have them next to each other in the list!  We
> have 657 named colours to choose from: why not have a explicit "int2col"
> function that provides a bigger and better table?

Not all devices (by any means) can display those colours, or only a
limited number of colours in total.

> More-or-less the same arguments also apply to pch.
>
> Jonathan.
>
> Jonathan Rougier wrote:
> >
> > Hi everyone,
> >
> > Is there any reason why we should not automatically coerce a factor
> > supplied as an argument to col in a plotting function?  The following
> > modification (to R-1.6.1) seems pretty harmless
> >
> > > plot.xy
> > function (xy, type, pch = 1, lty = "solid", col = par("fg"),
> >     bg = NA, cex = 1, ...)
> > {
> >     if (is.factor(col))
> >         col <- codes(col)
> >     .Internal(plot.xy(xy, type, pch, lty, col, bg, cex, ...))
> > }
> > <environment: namespace:base>
> >
> > and I think it is natural and not really wrong to want to type, say,
> >
> > > data(iris)
> > > pairs(iris[, 1:4], col = iris[, 5])
> >
> > and get the colours.
> >
> > Cheers, Jonathan.
> >
> > --
> > Jonathan Rougier                       Science Laboratories
> > Department of Mathematical Sciences    South Road
> > University of Durham                   Durham DH1 3LE
> > tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
> > http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html
> >
> > ______________________________________________
> > R-devel@stat.math.ethz.ch mailing list
> > http://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>
> --
> Jonathan Rougier                       Science Laboratories
> Department of Mathematical Sciences    South Road
> University of Durham                   Durham DH1 3LE
> tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
> http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html
>
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> http://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From J.C.Rougier@durham.ac.uk  Sat Nov 23 10:05:36 2002
From: J.C.Rougier@durham.ac.uk (Jonathan Rougier)
Date: Sat, 23 Nov 2002 10:05:36 +0000
Subject: [Rd] Small change to plot.xy
References: <Pine.LNX.4.31.0211230946500.4803-100000@gannet.stats>
Message-ID: <3DDF52F0.701BB788@durham.ac.uk>

ripley@stats.ox.ac.uk wrote:
> 
> On Sat, 23 Nov 2002, Jonathan Rougier wrote:
> 
> > OK -- so there are two objections to the proposal:
> >
> > 1) The factor might be a colour specifier
> >
> > 2) Using codes is not a good idea because there are only 8 colours
> > available for an integer argument to col.
> 
> You seem not to appreciate
> 
> 0) You used codes when you should have used unclass!
> 
> which was made twice.  Please do make sure you understand the difference.

You are right -- I can see from the help page of codes that I should
have used unclass.

> > I can see that both of these have merit, but I think they are both easy
> > to work around, if necessary.  No-one has disagreed that it's natural to
> > want to pass a factor to col, and I believe that the vast majority of
> > times when this occurs the factor is not designed explicitly to paint
> > the points.
> 
> I did disagree.  I don't see why users should not explicitly map the
> factor levels to colours, which takes only a few extra characters.
> People have been doing this for a decade in S without objecting.
> Why is it worth complicating R for?

That's the difference between us: you think they should have to type a
few extra characters to achieve a natural result, and I don't.  It's two
extra lines in the source and an extra line in the help file -- I don't
call this a complication and I think that the next generation of
statisticians will be that much more taken with R (as opposed to, say,
SPSS) if we take the trouble to make the default behaviour as intuitive
as possible.

> 
> > I think I would let the first objection pass.  Using codes to coerce the
> > factor we still get different colours for different factors, just not
> > the specified colours.  This is not right, but it's rarely a disaster
> > either and should be easy to spot for anyone who is expecting to see
> > "slateblue" and gets "red".
> >
> > As for the second objection, I think this is valid and should be
> > addressed, but at the same time it is a different problem.  I often
> > wondered why col = 1 was black (not really a colour at all, and not very
> > good for boxplots) and, more pertinently, why col = 2 is red and col = 3
> > is green: isn't the most common form of colour-blindness red/green?  At
> > the very least, let's not have them next to each other in the list!  We
> > have 657 named colours to choose from: why not have a explicit "int2col"
> > function that provides a bigger and better table?
> 
> Not all devices (by any means) can display those colours, or only a
> limited number of colours in total.

That doesn't stop us coming up with a longer list in a better order,
does it?

Jonathan.

-- 
Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html


From ripley@stats.ox.ac.uk  Sat Nov 23 10:11:39 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 23 Nov 2002 10:11:39 +0000 (GMT)
Subject: [Rd] Small change to plot.xy
In-Reply-To: <3DDF52F0.701BB788@durham.ac.uk>
Message-ID: <Pine.LNX.4.31.0211231007350.4842-100000@gannet.stats>

On Sat, 23 Nov 2002, Jonathan Rougier wrote:

> ripley@stats.ox.ac.uk wrote:
>
> > > I can see that both of these have merit, but I think they are both easy
> > > to work around, if necessary.  No-one has disagreed that it's natural to
> > > want to pass a factor to col, and I believe that the vast majority of
> > > times when this occurs the factor is not designed explicitly to paint
> > > the points.
> >
> > I did disagree.  I don't see why users should not explicitly map the
> > factor levels to colours, which takes only a few extra characters.
> > People have been doing this for a decade in S without objecting.
> > Why is it worth complicating R for?
>
> That's the difference between us: you think they should have to type a
> few extra characters to achieve a natural result, and I don't.  It's two
> extra lines in the source and an extra line in the help file -- I don't
> call this a complication and I think that the next generation of
> statisticians will be that much more taken with R (as opposed to, say,
> SPSS) if we take the trouble to make the default behaviour as intuitive
> as possible.

No, the difference is that what you find `intuitive' other people find
perverse.  Giving a factor of colour names and getting a different set of
colours is perverse.  If the intention is not clear, it is more
`intuitive' to give an error than to guess incorrectly.

Does SPSS actually do this, that is arbitrarily assign colours to
categories that might be names of colours?

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From J.C.Rougier@durham.ac.uk  Sat Nov 23 10:53:48 2002
From: J.C.Rougier@durham.ac.uk (Jonathan Rougier)
Date: Sat, 23 Nov 2002 10:53:48 +0000
Subject: [Rd] Small change to plot.xy
References: <Pine.LNX.4.31.0211231007350.4842-100000@gannet.stats>
Message-ID: <3DDF5E3C.8D2B8A11@durham.ac.uk>

ripley@stats.ox.ac.uk wrote:
> 
> On Sat, 23 Nov 2002, Jonathan Rougier wrote:
> 
> > ripley@stats.ox.ac.uk wrote:
> >
> > > > I can see that both of these have merit, but I think they are both easy
> > > > to work around, if necessary.  No-one has disagreed that it's natural to
> > > > want to pass a factor to col, and I believe that the vast majority of
> > > > times when this occurs the factor is not designed explicitly to paint
> > > > the points.
> > >
> > > I did disagree.  I don't see why users should not explicitly map the
> > > factor levels to colours, which takes only a few extra characters.
> > > People have been doing this for a decade in S without objecting.
> > > Why is it worth complicating R for?
> >
> > That's the difference between us: you think they should have to type a
> > few extra characters to achieve a natural result, and I don't.  It's two
> > extra lines in the source and an extra line in the help file -- I don't
> > call this a complication and I think that the next generation of
> > statisticians will be that much more taken with R (as opposed to, say,
> > SPSS) if we take the trouble to make the default behaviour as intuitive
> > as possible.
> 
> No, the difference is that what you find `intuitive' other people find
> perverse.  Giving a factor of colour names and getting a different set of
> colours is perverse.  If the intention is not clear, it is more
> `intuitive' to give an error than to guess incorrectly.
> 
> Does SPSS actually do this, that is arbitrarily assign colours to
> categories that might be names of colours?

I think you know the answer to that!  That wasn't my point.  I give
statistical computing practicals using the same material to two similar
groups of students, some using SPSS and some using R.  Right now, the
SPSS students are getting a lot more experience of data analysis.  My
SPSS students put Species in the "colour points by" box.  You and I may
disagree on what is natural and what is peverse, but my R students want
to do "col = iris$Species" and I am sympathetic.  

If your objection is overwriting colours then let's go with Robert's
suggestion of checking for this explicitly, maybe something along the
lines of

if (is.factor(col)) {
  tmp <- as.character(col)
  if (all(tmp %in% colors()))
    col <- tmp
  else
    col <- unclass(col)
}

which has the desired effect:

> data(iris)
> iris$color <- c("red", "lightgreen", "slateblue")[unclass(iris$Species)]
> pairs(iris[, 1:4], col = iris$Species) # black, red, green
> pairs(iris[, 1:4], col = iris$color)   # as above

Jonathan.

-- 
Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html


From deepayan@stat.wisc.edu  Sat Nov 23 12:11:07 2002
From: deepayan@stat.wisc.edu (Deepayan Sarkar)
Date: Sat, 23 Nov 2002 06:11:07 -0600
Subject: [Rd] Small change to plot.xy
In-Reply-To: <3DDF5E3C.8D2B8A11@durham.ac.uk>
References: <Pine.LNX.4.31.0211231007350.4842-100000@gannet.stats> <3DDF5E3C.8D2B8A11@durham.ac.uk>
Message-ID: <200211230611.07298.deepayan@stat.wisc.edu>

On Saturday 23 November 2002 04:53 am, Jonathan Rougier wrote:

> > Does SPSS actually do this, that is arbitrarily assign colours to
> > categories that might be names of colours?
>
> I think you know the answer to that!  That wasn't my point.  I give
> statistical computing practicals using the same material to two similar
> groups of students, some using SPSS and some using R.  Right now, the
> SPSS students are getting a lot more experience of data analysis.  My
> SPSS students put Species in the "colour points by" box.  You and I may
> disagree on what is natural and what is peverse, but my R students want
> to do "col = iris$Species" and I am sympathetic.

This sort of thing is handled more systematically in Trellis. For example, try

library(lattice)
data(iris)
xyplot(Sepal.Length ~ Sepal.Width, data = iris, groups = Species)
splom(iris[, 1:4], groups = iris$Species)

(This doesn't exactly answer your original question, but I think it does 
address the example you have given here.)

Deepayan


From george@lecompte.org  Sat Nov 23 16:30:38 2002
From: george@lecompte.org (george@lecompte.org)
Date: Sat, 23 Nov 2002 17:30:38 +0100 (MET)
Subject: [Rd] simplex (PR#2322)
Message-ID: <200211231630.RAA16420@pubhealth.ku.dk>

Full_Name: George LeCompte
Version: 1.6.1 (windows)
OS: windows98
Submission from: (NULL) (208.8.162.135)


simplex won't work with only >= constraints examples follow:

this works:
simplex(a=1,A1=1,b1=10,A2=1,b2=1)

but this doesn't
simplex(1,A2=1,b2=1)

Linear Programming Results

Call : simplex(a = 1, A2 = 1, b2 = 1)

Minimization Problem with Objective Function Coefficients
x1 
 1 

No feasible solution could be found


From tlumley@u.washington.edu  Sat Nov 23 18:43:48 2002
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Sat, 23 Nov 2002 10:43:48 -0800 (PST)
Subject: [Rd] Small change to plot.xy
In-Reply-To: <3DDF4568.63CB31D1@durham.ac.uk>
Message-ID: <Pine.A41.4.44.0211231034450.96242-100000@homer01.u.washington.edu>

On Sat, 23 Nov 2002, Jonathan Rougier wrote:

> OK -- so there are two objections to the proposal:
>
> 1) The factor might be a colour specifier
>

The function below might help
It checks:
  - are the levels colour names
  - are they numbers
  - are they color specifiers like #a0f3d2
otherwise it returns the underlying codes with unclass().

On the issue of whether the current default palettes are ideal I can quote
Paul Murrell's talk at the JSM ("The only word for this is
`embarrassing'").  Improved palettes are planned, and one step in that
direction is the RColorBrewer package, which supplies color schemes
useful for images, maps and barplots.

	-thomas


factor2color<-function(color){
   nms<-as.character(color)
   n<-length(nms)
   ## are they color names
   is.color<-nms %in% colors()
   if (all(is.color)) return(nms)
   if (sum(is.color)>2 && mean(is.color)>2/3)
	warning("Not all factor names are colors")
   ## are they numbers
   m<-length(grep("[^:digit:]",nms))
   if (m==0 && all(!is.na(nums<-as.numeric(nms))))
 	return(nums)
   ## are they #a0bfe4
   n<-length(nms)
   m<-length(grep("#[0-9A-Fa-f]{6,6}",nms))
   if(m==n)
      return(nms)
   ## otherwise just return numbers
   return(unclass(color))

}


From campbell.webb@yale.edu  Sat Nov 23 22:57:33 2002
From: campbell.webb@yale.edu (campbell.webb@yale.edu)
Date: Sat, 23 Nov 2002 23:57:33 +0100 (MET)
Subject: [Rd] Intermittant hang in cmdscale (PR#2323)
Message-ID: <200211232257.XAA17412@pubhealth.ku.dk>

Full_Name: Cam Webb
Version: 1.6.0 (fink X11 compile)
OS: Mac OS X (Jaguar)
Submission from: (NULL) (64.168.28.87)


This is an unpredictable, intermittant hang during cmdscale of the mva library. 
Some data  never cause a problem, other data always do, abut I can't track down
the difference in the structure of the data.  Sometimes the function will work
for `difficult' data after it has been run in the same session for `behaved'
data (eurodist always works)!  Here is a typical session:

$ R

> library(mva)
> x <- read.table("test.dat",row.names=1)

> x
  V2 V3
A  1  2
B  2  4
C  5  7
D  1  1
     
> dist(x)
         A        B        C
B 2.236068
C 6.403124 4.242641
D 1.000000 3.162278 7.211103

> cmdscale(dist(x))
^C

   Here it just hangs, CPU whirring.  Have to abort with ^C

> data(eurodist)

> cmdscale(eurodist)
                        [,1]        [,2]
Athens           2290.274680  1798.80293
Barcelona        -825.382790   546.81148
...
Vienna            911.230500   205.93020
   
> cmdscale(dist(x))
        [,1]       [,2]
A  1.9464399  0.1545044
B -0.2638877  0.4928116
C -4.4454618 -0.2244320
D  2.7629095 -0.4228840

  Works now!

Not sure if this is a Mac problem, or a function problem.  The intermittantness
is most puzzling.

Many thx,

Cam


From ripley@stats.ox.ac.uk  Sun Nov 24 18:37:47 2002
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 24 Nov 2002 18:37:47 +0000 (GMT)
Subject: [Rd] gcc 3.2.1
Message-ID: <Pine.GSO.4.44.0211241833040.9490-100000@auk.stats>

gcc 3.2.1 is out and avoids the warnings about -I/usr/local/include
shown by 3.1 and 3.2.

Unfortunately, it seems to generate invalid code on 32-bit Solaris 2.7.
(64-bit code via -m64 is OK.)  On two separate installations
example(Bessel) crashes in graphics.c because dd is not being passed down
from clipText correctly.  I don't think that is all, as compiling
graphics.c under gcc-3.2 leads to other errors elsewhere.  So use gcc-3.2.1
with caution on Solaris.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From deleeuw@stat.ucla.edu  Sun Nov 24 19:07:53 2002
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Sun, 24 Nov 2002 11:07:53 -0800
Subject: [Rd] gcc 3.2.1
In-Reply-To: <Pine.GSO.4.44.0211241833040.9490-100000@auk.stats>
Message-ID: <08603C4A-FFE0-11D6-A7D4-000393860F3C@stat.ucla.edu>

Same is true for gcc-3.3 on Darwin -- it compiles R without
problems. No /usr/local/include warnings, and example(Bessel)
runs fine. Source in the Darwin CVS, it is merged with recent FSF
patches, has support for Objective-C++, and can be
cross-compiled for x86. Darwin persons can get the binaries
from http://gifi.stat.ucla.edu/pub (unpack in root).

On Sunday, November 24, 2002, at 10:37 AM, Prof Brian D Ripley wrote:

> gcc 3.2.1 is out and avoids the warnings about -I/usr/local/include
> shown by 3.1 and 3.2.
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://gifi.stat.ucla.edu
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au
   
------------------------------------------------------------------------ 
-------------------------


From maechler@stat.math.ethz.ch  Mon Nov 25 08:20:49 2002
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Mon, 25 Nov 2002 09:20:49 +0100 (MET)
Subject: [Rd] Segmentation fault using "survival" package (PR#2320)
Message-ID: <200211250820.JAA22288@pubhealth.ku.dk>

>>>>> "Jerome" == Jerome Asselin <jerome@hivnet.ubc.ca>
>>>>>     on Sat, 23 Nov 2002 00:51:51 +0100 (MET) writes:

    Jerome> Full_Name: Jerome Asselin Version: 1.6.1 OS: RedHat
    Jerome> Linux 7.2 Submission from: (NULL) (142.103.173.179)


    Jerome> Hello,

    Jerome> I get a segmentation fault when I run the following
    Jerome> code. I wouldn't expect meaningful results because
    Jerome> my response variable contains only missing values.
    Jerome> However, I would expect something like a regular
    Jerome> error (not a segmentation fault).

I confirm the problem (OS: a version of Redhat Linux, 1.6.1 patched)
running in "R -d gdb"
shows the place :

> coxph(surv ~ x, data=data)

Program received signal SIGSEGV, Segmentation fault.
0x4027dee4 in coxfit2 (maxiter=0x8c9cc60, nusedx=0x8c9cc40, nvarx=0x8c9cc20, 
    time=0x0, status=0x0, covar2=0x0, offset=0x0, weights=0x0, strata=0x0, 
    means=0x8c85738, Rf_beta=0x8c85710, u=0x8c856e8, imat2=0x8c856c0, 
    loglik=0x8cb3dd0, flag=0x8c9cc00, work=0x8b4ef10, eps=0x8c85698, 
    tol_chol=0x8c85670, sctest=0x8c85648) at coxfit2.c:116
116	coxfit2.c: No such file or directory.
	in coxfit2.c

--
Martin


From gb@stat.umu.se  Mon Nov 25 08:57:35 2002
From: gb@stat.umu.se (=?iso-8859-1?Q?G=F6ran_Brostr=F6m?=)
Date: Mon, 25 Nov 2002 09:57:35 +0100 (CET)
Subject: [Rd] Segmentation fault using "survival" package (PR#2320)
In-Reply-To: <200211250820.JAA22288@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.44.0211250946510.20351-100000@tal.stat.umu.se>

On Mon, 25 Nov 2002 maechler@stat.math.ethz.ch wrote:

> >>>>> "Jerome" == Jerome Asselin <jerome@hivnet.ubc.ca>
> >>>>>     on Sat, 23 Nov 2002 00:51:51 +0100 (MET) writes:
>
>     Jerome> Full_Name: Jerome Asselin Version: 1.6.1 OS: RedHat
>     Jerome> Linux 7.2 Submission from: (NULL) (142.103.173.179)
>
>
>     Jerome> Hello,
>
>     Jerome> I get a segmentation fault when I run the following
>     Jerome> code. I wouldn't expect meaningful results because
>     Jerome> my response variable contains only missing values.
>     Jerome> However, I would expect something like a regular
>     Jerome> error (not a segmentation fault).
>
> I confirm the problem (OS: a version of Redhat Linux, 1.6.1 patched)
> running in "R -d gdb"
> shows the place :
>
> > coxph(surv ~ x, data=data)
>
> Program received signal SIGSEGV, Segmentation fault.
> 0x4027dee4 in coxfit2 (maxiter=0x8c9cc60, nusedx=0x8c9cc40, nvarx=0x8c9cc20,
>     time=0x0, status=0x0, covar2=0x0, offset=0x0, weights=0x0, strata=0x0,
>     means=0x8c85738, Rf_beta=0x8c85710, u=0x8c856e8, imat2=0x8c856c0,
>     loglik=0x8cb3dd0, flag=0x8c9cc00, work=0x8b4ef10, eps=0x8c85698,
>     tol_chol=0x8c85670, sctest=0x8c85648) at coxfit2.c:116
> 116	coxfit2.c: No such file or directory.
> 	in coxfit2.c
>
> --
> Martin
>
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> http://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>

The survival package obviously lacks a few basic sanity checks, some of
which I have communicated to its R maintainer Thomas L. For instance, data
sets without events used to crash R in earlier versions.

The best advise for now is to check your data before using survival.

 ---
 Gran Brostrm                    tel: +46 90 786 5223
 Department of Statistics          fax: +46 90 786 6614
 Ume University                   http://www.stat.umu.se/egna/gb/
 SE-90187 Ume, Sweden             e-mail: gb@stat.umu.se


From J.C.Rougier@durham.ac.uk  Mon Nov 25 09:59:20 2002
From: J.C.Rougier@durham.ac.uk (Jonathan Rougier)
Date: Mon, 25 Nov 2002 09:59:20 +0000
Subject: [Rd] Small change to plot.xy
References: <Pine.A41.4.44.0211231034450.96242-100000@homer01.u.washington.edu>
Message-ID: <3DE1F478.3FD2BA5B@durham.ac.uk>

Hi Thomas,

Thomas Lumley wrote:
> 
> On Sat, 23 Nov 2002, Jonathan Rougier wrote:
> 
> > OK -- so there are two objections to the proposal:
> >
> > 1) The factor might be a colour specifier
> >
> 
> The function below might help
> It checks:
>   - are the levels colour names
>   - are they numbers
>   - are they color specifiers like #a0f3d2
> otherwise it returns the underlying codes with unclass().

Is there a case, given that colours *can* be represented in several
different ways, for including the two functions "is.color" and
"as.color" in the base?  I imagine the latter would work like
"as.numeric", putting NA for elements that cannot be coerced to
colours.  The function "as.color" might return a specific colour format,
perhaps #hhhhhh if that is the most general, which would simplify other
parts of the code.

Jonathan.

-- 
Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html


From ripley@stats.ox.ac.uk  Mon Nov 25 11:20:58 2002
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 25 Nov 2002 11:20:58 +0000 (GMT Standard Time)
Subject: [Rd] Small change to plot.xy
In-Reply-To: <3DE1F478.3FD2BA5B@durham.ac.uk>
Message-ID: <Pine.WNT.4.44.0211251118050.2628-100000@gannet.stats.ox.ac.uk>

The problem is that col= is interpreted in C code for many different R
functions, not kust those going through plot.xy.  The only consistent way I
see to handle this is to change the common C code to handle more cases, if
people really think it is worth complicating R for.

I was going to point out that your previous solution was less general than
what was there at present.

On Mon, 25 Nov 2002, Jonathan Rougier wrote:

> Hi Thomas,
>
> Thomas Lumley wrote:
> >
> > On Sat, 23 Nov 2002, Jonathan Rougier wrote:
> >
> > > OK -- so there are two objections to the proposal:
> > >
> > > 1) The factor might be a colour specifier
> > >
> >
> > The function below might help
> > It checks:
> >   - are the levels colour names
> >   - are they numbers
> >   - are they color specifiers like #a0f3d2
> > otherwise it returns the underlying codes with unclass().
>
> Is there a case, given that colours *can* be represented in several
> different ways, for including the two functions "is.color" and
> "as.color" in the base?  I imagine the latter would work like
> "as.numeric", putting NA for elements that cannot be coerced to
> colours.  The function "as.color" might return a specific colour format,
> perhaps #hhhhhh if that is the most general, which would simplify other
> parts of the code.
>
> Jonathan.
>
> --
> Jonathan Rougier                       Science Laboratories
> Department of Mathematical Sciences    South Road
> University of Durham                   Durham DH1 3LE
> tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
> http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html
>
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> http://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From andy_liaw@merck.com  Mon Nov 25 15:44:18 2002
From: andy_liaw@merck.com (Liaw, Andy)
Date: Mon, 25 Nov 2002 10:44:18 -0500
Subject: [Rd] typo in USArrests.Rd
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC909@usrymx10.merck.com>

In line 5 of R-1.6.1/src/library/base/man/USArrests.Rd, it should read

\format{A data frame with 50 observations on 4 variables.

I.e., there are only four variables in the data frame, not five.

Cheers,
Andy


------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message. If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================


From pgilbert@bank-banque-canada.ca  Mon Nov 25 17:50:40 2002
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Mon, 25 Nov 2002 12:50:40 -0500
Subject: [Rd] Re: [R] R CMD build (moved from r-help)
References: <20021124104045.0ec2c5a3.fharrell@virginia.edu> <x2r8dazzd7.fsf@biostat.ku.dk>
Message-ID: <3DE262F0.C3B3BE2C@bank-banque-canada.ca>

> 
> Frank E Harrell Jr <fharrell@virginia.edu> writes:
...
> > I used to get html and latex files recreated only when the source
> > .Rd file changed. Now I am getting html and latex (and text and
> > example) recreated whenever I run R CMD INSTALL when I do not change
> > any .Rd files. Does anyone know how to get the old behavior or have
> > an idea what I'm doing wrong, to save processing time? Thanks -Frank

Peter Dalgaard BSA wrote:
>You're not doing anything wrong, but the old code was. The basic issue
>was that if you built an old package after a newer one was issued, and
>then tried to upgrade, then the old object files were newer than the
>new source files, and hence weren't updated. Someone got bitten by
>this during the 1.6.1 burn-in so we changed it to rebuild
>unconditionally.  If you have a better scheme for avoiding that effect,
> please tell...

I've been re-working the Makefiles I use for maintaining my packages, not
because of the change in R but because my own Makefiles re-built on changes in
Rd files and vignettes, and it became a bit too much to recheck all my code
because of changes in a vignette. My Makefiles are still a bit rough for broad
distribution, but if anyone would like to look at them and comment then that
might help get them in better shape for others to use. Below are a few more
details on the general approach.

I have about twenty packages, some of which are rolled into bundles and put on
CRAN. I have now separated the bundling into a layer above the packages, so I
can treat the packages individually. There are several interdependencies in the
packages. I consider these to be all in the code, not the "documentation," that
is, examples, vignettes, and demos. Thus I have dependencies among packages, but
I want to trigger these only on code changes, not documentation changes. (The
down side of this is that the documentation tests sometimes point out code
errors, which I will now not find until later.)  To do this I have relegated R
CMD build and check to final pass testing and have my Makefile targets go
directly to the QA tools instead. A change in a single package's  R/*.R or
tests/*.R file triggers a remake of the its code, which does checkMethods() and
checkAssignFuns(), runs anything in the tests/ directory, and installs the code
in a test library. This may trigger remaking of code in other packages. It also
triggers remaking of the documentation for the single package. A change in the
documentation of a single package will trigger remaking of that part of the
documentation of the package, but will not trigger any other remakes. For
example, a change to an Rd file will result in running codoc and related tools,
but only for the single package where the Rd file was changed.

Paul Gilbert


From clifford@galton.uchicago.edu  Mon Nov 25 21:23:40 2002
From: clifford@galton.uchicago.edu (clifford@galton.uchicago.edu)
Date: Mon, 25 Nov 2002 22:23:40 +0100 (MET)
Subject: [Rd] Contr.poly for n > 100 (PR#2326)
Message-ID: <200211252123.WAA01346@pubhealth.ku.dk>

Full_Name: David Clifford
Version: Version 1.5.1  (2002-06-17)
OS: Red Hat 7.3
Submission from: (NULL) (128.135.149.55)


For n values above 100 there appears to be a bug in contr.poly(n).  

The contrast matrix should have rank n-1.

Running the code below gives output (ie errors) at n=98, 100 
and every value greater than 102.  

for(n in 2:150)
  {
    K <- contr.poly(n)
    rnk <- qr(K)$rank
    if(rnk != n-1) {
      cat(c(n,rnk))
      cat("\n")
    }
  }

Also the contr.poly code just breaks down at n=163 with the error:

Error in qr(X) : NA/NaN/Inf in foreign function call (arg 1)


From ripley@stats.ox.ac.uk  Mon Nov 25 21:39:15 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 25 Nov 2002 21:39:15 +0000 (GMT)
Subject: [Rd] Contr.poly for n > 100 (PR#2326)
In-Reply-To: <200211252123.WAA01346@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0211252133220.6206-100000@gannet.stats>

It's not possible to represent orthogonal polynomials accurately to this
degree in the computer arithmetic used.  So, perhaps it is a bug, but
the attempt to use them made no sense.

The bug will not be fixed, but the attempt will give an error.

The same thing happens in S, for the same reason.

On Mon, 25 Nov 2002 clifford@galton.uchicago.edu wrote:

> Full_Name: David Clifford
> Version: Version 1.5.1  (2002-06-17)
> OS: Red Hat 7.3
> Submission from: (NULL) (128.135.149.55)
>
>
> For n values above 100 there appears to be a bug in contr.poly(n).
>
> The contrast matrix should have rank n-1.
>
> Running the code below gives output (ie errors) at n=98, 100
> and every value greater than 102.
>
> for(n in 2:150)
>   {
>     K <- contr.poly(n)
>     rnk <- qr(K)$rank
>     if(rnk != n-1) {
>       cat(c(n,rnk))
>       cat("\n")
>     }
>   }
>
> Also the contr.poly code just breaks down at n=163 with the error:
>
> Error in qr(X) : NA/NaN/Inf in foreign function call (arg 1)
>
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> http://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From p.b.pynsent@bham.ac.uk  Tue Nov 26 09:44:40 2002
From: p.b.pynsent@bham.ac.uk (p.b.pynsent@bham.ac.uk)
Date: Tue, 26 Nov 2002 10:44:40 +0100 (MET)
Subject: [Rd] sprintf (PR#2327)
Message-ID: <200211260944.KAA04796@pubhealth.ku.dk>

--Apple-Mail-2--133200961
Content-Transfer-Encoding: 7bit
Content-Type: text/plain;
	charset=US-ASCII;
	format=flowed

# Your mailer is set to "none" (default on Windows),
# hence we cannot send the bug report directly from R.
# Please copy the bug report (after finishing it) to
# your favorite email program and send it to
#
#       r-bugs@r-project.org
#
######################################################

1)
A small point but:
Note message above needs changing for MacOS port


2) Under MacOS 10.2.2. Given the following dataset:

 > summary(missing.data)
    Hosp..No.                   Category      Offset        Side
  r060093:  4   F Post op 0.5 year  :62   Min.   :-5.8333   L: 63
  r023250:  3   E Pre op 0.5 year   :54   1st Qu.:-0.4167   R:141
  r026316:  3   H Post op 1.5 years :44   Median : 7.7083
  r032583:  3   G Post op 1 year    :41   Mean   :14.2623
  r036827:  3   I Post op 2 years   : 3   3rd Qu.:27.0833
  r055869:  3   A Pre op > 2.5 years: 0   Max.   :47.6667
  (Other):185   (Other)             : 0
        V1               V5              V10              V15
  Min.   :0.0000   Min.   :0.0000   Min.   :0.0000   Min.   :0.0000
  1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:0.0000
  Median :0.0000   Median :0.0000   Median :0.0000   Median :0.0000
  Mean   :0.8382   Mean   :0.6863   Mean   :0.7206   Mean   :0.9804
  3rd Qu.:1.0000   3rd Qu.:1.0000   3rd Qu.:1.0000   3rd Qu.:1.0000
  Max.   :5.0000   Max.   :5.0000   Max.   :5.0000   Max.   :5.0000

       V20              V25             V30              V35
  Min.   :0.0000   Min.   :0.000   Min.   :0.0000   Min.   :0.0000
  1st Qu.:0.0000   1st Qu.:0.000   1st Qu.:0.0000   1st Qu.:0.0000
  Median :0.0000   Median :0.000   Median :0.0000   Median :0.0000
  Mean   :0.9559   Mean   :0.603   Mean   :0.5343   Mean   :0.5686
  3rd Qu.:0.2500   3rd Qu.:0.000   3rd Qu.:0.0000   3rd Qu.:0.0000
  Max.   :5.0000   Max.   :5.000   Max.   :5.0000   Max.   :5.0000

       V40              V45              V50              V55
  Min.   :0.0000   Min.   :0.0000   Min.   :0.0000   Min.   :0.0000
  1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:0.0000
  Median :0.0000   Median :0.0000   Median :0.0000   Median :0.0000
  Mean   :0.6912   Mean   :0.5539   Mean   :0.5245   Mean   :0.5588
  3rd Qu.:0.0000   3rd Qu.:0.0000   3rd Qu.:0.0000   3rd Qu.:0.0000
  Max.   :5.0000   Max.   :5.0000   Max.   :5.0000   Max.   :5.0000

The line:

sprintf("%s\t%1.0f", missing.data$Hosp..No., missing.data$V1)

always crashes R.

Many thanks,
Paul


--please do not edit the information below--

Version:
  platform = ppc-apple-macos
  arch = ppc
  os = MacOS
  system = ppc, MacOS
  status =
  major = 1
  minor = 5.1
  year = 2002
  month = 06
  day = 17
  language = R

Search Path:
  .GlobalEnv, package:survival, package:ctest, Autoloads, package:base

Dr. P. B. Pynsent,
Research and Teaching Centre,
Royal orthopaedic Hospital,
Birmingham, B31 2AP, U.K.

--Apple-Mail-2--133200961
Content-Transfer-Encoding: 7bit
Content-Type: text/enriched;
	charset=US-ASCII

# Your mailer is set to "none" (default on Windows),

# hence we cannot send the bug report directly from R.

# Please copy the bug report (after finishing it) to

# your favorite email program and send it to

#

#       r-bugs@r-project.org

#

######################################################


<color><param>FFFE,0000,0000</param>1)

A small point but:

Note message above needs changing for MacOS port

</color>


<color><param>FFFE,0000,0000</param>2) Under MacOS 10.2.2. Given the
following dataset:</color>


> summary(missing.data)

   Hosp..No.                   Category      Offset        Side   

 r060093:  4   F Post op 0.5 year  :62   Min.   :-5.8333   L: 63  

 r023250:  3   E Pre op 0.5 year   :54   1st Qu.:-0.4167   R:141  

 r026316:  3   H Post op 1.5 years :44   Median : 7.7083          

 r032583:  3   G Post op 1 year    :41   Mean   :14.2623          

 r036827:  3   I Post op 2 years   : 3   3rd Qu.:27.0833          

 r055869:  3   A Pre op > 2.5 years: 0   Max.   :47.6667          

 (Other):185   (Other)             : 0                            

       V1               V5              V10              V15        

 Min.   :0.0000   Min.   :0.0000   Min.   :0.0000   Min.   :0.0000  

 1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:0.0000  

 Median :0.0000   Median :0.0000   Median :0.0000   Median :0.0000  

 Mean   :0.8382   Mean   :0.6863   Mean   :0.7206   Mean   :0.9804  

 3rd Qu.:1.0000   3rd Qu.:1.0000   3rd Qu.:1.0000   3rd Qu.:1.0000  

 Max.   :5.0000   Max.   :5.0000   Max.   :5.0000   Max.   :5.0000  

                                                                    

      V20              V25             V30              V35        

 Min.   :0.0000   Min.   :0.000   Min.   :0.0000   Min.   :0.0000  

 1st Qu.:0.0000   1st Qu.:0.000   1st Qu.:0.0000   1st Qu.:0.0000  

 Median :0.0000   Median :0.000   Median :0.0000   Median :0.0000  

 Mean   :0.9559   Mean   :0.603   Mean   :0.5343   Mean   :0.5686  

 3rd Qu.:0.2500   3rd Qu.:0.000   3rd Qu.:0.0000   3rd Qu.:0.0000  

 Max.   :5.0000   Max.   :5.000   Max.   :5.0000   Max.   :5.0000  

                                                                   

      V40              V45              V50              V55        

 Min.   :0.0000   Min.   :0.0000   Min.   :0.0000   Min.   :0.0000  

 1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:0.0000  

 Median :0.0000   Median :0.0000   Median :0.0000   Median :0.0000  

 Mean   :0.6912   Mean   :0.5539   Mean   :0.5245   Mean   :0.5588  

 3rd Qu.:0.0000   3rd Qu.:0.0000   3rd Qu.:0.0000   3rd Qu.:0.0000  

 Max.   :5.0000   Max.   :5.0000   Max.   :5.0000   Max.   :5.0000  

                                                                    

<color><param>FFFE,0000,0000</param>The line:</color>

              

sprintf("%s\t%1.0f", missing.data$Hosp..No., missing.data$V1)


<color><param>FFFE,0000,0000</param>always crashes R.


Many thanks,

Paul</color>



--please do not edit the information below--


Version:

 platform = ppc-apple-macos

 arch = ppc

 os = MacOS

 system = ppc, MacOS

 status = 

 major = 1

 minor = 5.1

 year = 2002

 month = 06

 day = 17

 language = R


Search Path:

 .GlobalEnv, package:survival, package:ctest, Autoloads, package:base


Dr. P. B. Pynsent,

Research and Teaching Centre,

Royal orthopaedic Hospital,

Birmingham, B31 2AP, U.K.


--Apple-Mail-2--133200961--


From murdoch@stats.uwo.ca  Tue Nov 26 14:29:09 2002
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Tue, 26 Nov 2002 09:29:09 -0500
Subject: [Rd] Re: unique()
In-Reply-To: <Pine.GSO.4.42.0211260844200.20783-100000@elios>
References: <Pine.GSO.4.42.0211260844200.20783-100000@elios>
Message-ID: <3i07uus8o4b5sq8qag074s4gd3pvv1kbqb@4ax.com>

On Tue, 26 Nov 2002 08:48:37 +0000 (GMT), Peter Green  wrote in
message <Pine.GSO.4.42.0211260844200.20783-100000@elios>:

>Hi, Duncan,
>
>Just a quick query/grumble.... I've just noticed that
>the operation of unique() on arrays changed somewhere
>between Rw1041 and 1061 - pity, as I had been relying on the old
>action (treat the argument as a vector) in some code.
>I didn't notice it mentioned in any 'changes' documents.

It was mentioned in the 1.6.0 news file:

>   o   duplicated() and unique() have methods for matrices and arrays
>       (based on ideas from Jens Oehlschlgel).

There was a hint this was coming in the 1.4.0 news:

>    o   duplicated() and unique() are now generic functions with
>        methods for data frames (as well as atomic vectors).

You can get the old behaviour for arrays by unique(as.vector(x))
instead of unique(x), as you've probably figured out.

I wonder if there could be a mechanism that would warn about things
like this?  E.g. instead of a flat news file that you have to read all
through, maybe a database of changes, and a tool that could look
through your code and spot things whose usage had changed?
I think maintaining the accuracy of the database would be hard.

Duncan


From tlumley@u.washington.edu  Tue Nov 26 16:46:41 2002
From: tlumley@u.washington.edu (tlumley@u.washington.edu)
Date: Tue, 26 Nov 2002 17:46:41 +0100 (MET)
Subject: [Rd] sprintf crash (PR#2327)
Message-ID: <200211261646.RAA11622@pubhealth.ku.dk>


>2) Under MacOS 10.2.2. Given the following dataset:
>
> > summary(missing.data)
>    Hosp..No.                   Category      Offset        Side
>  r060093:  4   F Post op 0.5 year  :62   Min.   :-5.8333   L: 63
>  r023250:  3   E Pre op 0.5 year   :54   1st Qu.:-0.4167   R:141
>  r026316:  3   H Post op 1.5 years :44   Median : 7.7083
>  r032583:  3   G Post op 1 year    :41   Mean   :14.2623
>  r036827:  3   I Post op 2 years   : 3   3rd Qu.:27.0833
>  r055869:  3   A Pre op > 2.5 years: 0   Max.   :47.6667
>  (Other):185   (Other)             : 0
 <snip>
>The line:
>
>sprintf("%s\t%1.0f", missing.data$Hosp..No., missing.data$V1)
>
>always crashes R.

 Yes, that's because  missing.data$Hosp..No. isn't a string, it's a
factor.  In R 1.6.0 this gives an error rather than a crash.

You probably want

  sprintf("%s\t%1.0f", as.character(missing.data$Hosp..No.),
	missing.data$V1)



	-thomas


From jago@mclink.it  Tue Nov 26 16:56:35 2002
From: jago@mclink.it (Stefano Iacus)
Date: Tue, 26 Nov 2002 17:56:35 +0100
Subject: [Rd] sprintf crash (PR#2327)
In-Reply-To: <200211261646.RAA11622@pubhealth.ku.dk>
Message-ID: <058442A6-0160-11D7-84DB-003065CC4CB8@mclink.it>

On Tuesday, November 26, 2002, at 05:46 PM, tlumley@u.washington.edu 
wrote:

>
>
>> 2) Under MacOS 10.2.2. Given the following dataset:
>>
>>> summary(missing.data)
>>    Hosp..No.                   Category      Offset        Side
>>  r060093:  4   F Post op 0.5 year  :62   Min.   :-5.8333   L: 63
>>  r023250:  3   E Pre op 0.5 year   :54   1st Qu.:-0.4167   R:141
>>  r026316:  3   H Post op 1.5 years :44   Median : 7.7083
>>  r032583:  3   G Post op 1 year    :41   Mean   :14.2623
>>  r036827:  3   I Post op 2 years   : 3   3rd Qu.:27.0833
>>  r055869:  3   A Pre op > 2.5 years: 0   Max.   :47.6667
>>  (Other):185   (Other)             : 0
>  <snip>
>> The line:
>>
>> sprintf("%s\t%1.0f", missing.data$Hosp..No., missing.data$V1)
>>
>> always crashes R.
>
>  Yes, that's because  missing.data$Hosp..No. isn't a string, it's a
> factor.  In R 1.6.0 this gives an error rather than a crash.
>
> You probably want
>
>   sprintf("%s\t%1.0f", as.character(missing.data$Hosp..No.),
> 	missing.data$V1)
>
>
>
> 	-thomas
>

yes, also

sprintf("%s\t%1.0f", levels(missing.data$Hosp..No.), missing.data$V1)

will work


From jfox@mcmaster.ca  Wed Nov 27 03:27:55 2002
From: jfox@mcmaster.ca (John Fox)
Date: Tue, 26 Nov 2002 22:27:55 -0500
Subject: [Rd] Problems with dialog boxes etc. in XEmacs/ESS for Windows
Message-ID: <5.1.0.14.2.20021126220550.01de6998@mcmail.cis.mcmaster.ca>

Dear list members,

I'm experiencing a variety of intermittent problems with GUI-related 
commands (e.g., for dialog boxes and graphics-device windows) in R for 
Windows running under XEmacs/ESS. I'm using version 1.6.1 of R, version 
21.4.9 of XEmacs, version 1.02 of ESS, and various versions of Windows, 
including 2000, 95, and 98SE.

The problems don't occur in every circumstance, but they are reproducible 
to a degree. For example, if upon opening an R-process buffer under ESS on 
a Windows 95 machine, I immediately issue the command

winDialog("ok", "test")

no dialog opens, and the R process hangs. The same command works OK in the 
same situation on several Windows 2000 systems, and also works later in a 
session under Windows 95. Similarly, on Windows 2000, I find that the "File 
-> Save as" menu item in graphics-device windows doesn't work (nothing 
happens when the item is selected), but the "File -> Copy to the clipboard" 
menu item does work.

All of the GUI-related functions appear to work fine when I run rterm.exe 
directly at the command prompt, rather than through ESS.

I wonder whether anyone understands why these things are happening and, if 
so, whether there's a solution. (I can furnish more details if that would 
help.)

Thanks,
  John
-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox@mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------


From ripley@stats.ox.ac.uk  Wed Nov 27 07:43:05 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 27 Nov 2002 07:43:05 +0000 (GMT)
Subject: [Rd] Re: [R] further on ESS/XEmacs for Windows
In-Reply-To: <87vg2jzm6v.fsf@jeeves.blindglobe.net>
Message-ID: <Pine.LNX.4.31.0211270730250.20092-100000@gannet.stats>

[Moved to R-devel, as this is going to get technical and is already a
minority interest.]

On 26 Nov 2002, A.J. Rossini wrote:

> >>>>> "john" == John Fox <jfox@mcmaster.ca> writes:
>
>
>     john> (2) I spent a good part of the day today trying XEmacs and ESS on a
>     john> variety of Windows systems -- with and without my configuration
>     john> files. I noticed a number of intermittent problems with GUI-related
>     john> commands, such as attempts to open dialog boxes causing the R process
>     john> to freeze. I'll try to track down the source of these problems.
>
> I'm not sure what the status of these is -- I do know that some people
> I trust have wondered how the heck R even works under (X)Emacs on
> Windows (issues arising with systems interfacing, blocking calls, and
> similar "stuff").

That's right!  rterm used directly uses a separate thread for input to
avoid it blocking (not processing Windows events) whilst waiting for
input.  rterm used by ESS is effectively used in batch mode: it was never
the intention that the GUI interactions should work.

Guido and I once (in 2000) discussed a way out using a supervisor thread,
and Guido implemented it (although I never saw the code),  He said it
worked under NT but not Win98.  That's the real problem -- supporting
low-end versions of Windows which do not behave as documented, when the
developers (then) were only using NT/2000.  On Unix one uses select() and
since we have since made that work to support url/socket connections it
would be possible to try to use that.  However, it would be a lot of work
to provide something that the main developers would never use, and we
remain desperately short of contributions by users of R on Windows.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From jfox@mcmaster.ca  Wed Nov 27 14:06:15 2002
From: jfox@mcmaster.ca (John Fox)
Date: Wed Nov 27 14:06:15 2002
Subject: [Rd] Re: [R] further on ESS/XEmacs for Windows
In-Reply-To: <Pine.LNX.4.31.0211270730250.20092-100000@gannet.stats>
References: <87vg2jzm6v.fsf@jeeves.blindglobe.net>
Message-ID: <5.1.0.14.2.20021127075636.01e35528@mcmail.cis.mcmaster.ca>

Dear Brian

At 07:43 AM 11/27/2002 +0000, ripley@stats.ox.ac.uk wrote:
>[Moved to R-devel, as this is going to get technical and is already a
>minority interest.]
>
>On 26 Nov 2002, A.J. Rossini wrote:
>
> > >>>>> "john" == John Fox <jfox@mcmaster.ca> writes:
> >
> >
> >     john> (2) I spent a good part of the day today trying XEmacs and 
> ESS on a
> >     john> variety of Windows systems -- with and without my configuration
> >     john> files. I noticed a number of intermittent problems with 
> GUI-related
> >     john> commands, such as attempts to open dialog boxes causing the R 
> process
> >     john> to freeze. I'll try to track down the source of these problems.
> >
> > I'm not sure what the status of these is -- I do know that some people
> > I trust have wondered how the heck R even works under (X)Emacs on
> > Windows (issues arising with systems interfacing, blocking calls, and
> > similar "stuff").
>
>That's right!  rterm used directly uses a separate thread for input to
>avoid it blocking (not processing Windows events) whilst waiting for
>input.  rterm used by ESS is effectively used in batch mode: it was never
>the intention that the GUI interactions should work.

Thanks for the explanation -- I figured that you'd know what's going on here.

>Guido and I once (in 2000) discussed a way out using a supervisor thread,
>and Guido implemented it (although I never saw the code),  He said it
>worked under NT but not Win98.  That's the real problem -- supporting
>low-end versions of Windows which do not behave as documented, when the
>developers (then) were only using NT/2000.  On Unix one uses select() and
>since we have since made that work to support url/socket connections it
>would be possible to try to use that.  However, it would be a lot of work
>to provide something that the main developers would never use, and we
>remain desperately short of contributions by users of R on Windows.

If I had the knowledge to make this kind of contribution, I'd volunteer to 
do it. I expect that this is generally the source of the problem: that is, 
Windows users probably tend to have a lower level of programming expertise.

If Guido's code still exists, would it be possible to incorporate it, 
providing a solution for Windows NT, 2000, and XP? Applications such as 
mine could adapt their behaviour depending upon the Windows version (and 
eventually Windows 9x systems will disappear).

Thanks again,
  John
-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox@mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------


From richardcole550@mail.com  Thu Nov 28 10:27:04 2002
From: richardcole550@mail.com (richardcole550@mail.com)
Date: Thu Nov 28 10:27:04 2002
Subject: [Rd] SOLICITING FOR BUSINESS VENTURE AND PARTNERSHIP. (PR#2331)
Message-ID: <200211280927.KAA27121@pubhealth.ku.dk>

FROM: RICHARD COLE  TELEPHONE: 0031-619708218 

EMAIL: richardcole550@mail.com 

ATTN: 

SOLICITING FOR BUSINESS VENTURE AND PARTNERSHIP. 

MY NAME IS RICHARD COLE CHAIRMAN OF CONTRACT AWARD AND MONITORING COMMITTEE OF THE MINISTRY OF URBAN AND RURAL DEVELOPMENT ,MY DUTY AS EMPOWERED BY THE MAURITIUS GOVERNMENT IS TO PROVIDE THE BASIC AMENITIES,SOCIAL RECRATIONAL ACTIVITIES IN URBAN AND RURAL AREAS,THIS PROGRAMM INCLUDES ASSISTANCE TO DEPRIVED LOCAL COMMUNITIES AND TO CO-ORDINATE PROJECTS AND DEVELOPMENT AT THE NATIONAL LEVEL, FURTHERMORE , FROM THIS PROJECTS WE HAVE BEEN ABLE TO SECURED SOME REASONABLE AMOUNT OF U.S.$21.8(TWENTY ONE MILLION EIGHT HUNDRED THOUSAND U.S.DOLLARS ONLY) AS COMISSION FROM VARIOUS CONTRACTORS RESULTING FROM OVER INVOICING ,HENCE ALL THE NECESSARRY APPROVALS HAS BEEN COMPLETED. 

THESE APPROVED FUND IS NOW PACKAGED TO BE DESPATCHED THROUGH A SECURITY COMPANY FOR ONWARD DELIVERY TO ITS DESTINATION IN EUROPE. THESE FUND ARE FIRST DEPOSITED INTO A VAULT SECURITY BEFORE WE ARRANGE FOR ITS MOVEMENT TO EUROPE THROUGH DIPLOMATIC CHANNEL USING DECOY PURPORTING THAT THE FUND BELONGS TO AN EXPATRIATE/COMPANY, AS WE ARE GOVERNMENT OFFICIALS,WE ARE NOT ALLOWED TO OPERATE FOREIGN BANK ACCOUNT,HENCE WE NEED YOU TO STAND AS THE BENEFICIARY AND CLAIM THE FUND ON OUR BEHALF FROM THE SECURITY COMPANY. 

PRESENTLY I AM NOW IN EUROPE TO SEARCH FOR A RELIABLE PERSON/COMPANY OF HIGH INTERGRITY /DIGNITY AND ONE WITH CONSCIENCE WHO WILL CLAIM THIS FUND ON OUR BEHALF AS THE BENEFICIARY ,AND WE HAVE AGREED TO GIVE YOU 25%OF THE TOTAL SUM AS COMMISSION FOR YOUR ASSISTANCE/EFFORT.AND 5% WILL BE USED TO SETTLE EVERY EXPENSES INCURRED .WE WILL USE 70% TO INVEST UNDER YOUR RECOMMENDATION AND GUIDE AND GO INTO JOINT VENTURE BUSINESS WITH YOU. 

I WOULD GREATLY APPRECIATE YOUR ASSISTANCE .ALSO YOU CALL ME ON MY TELEPHONE NUMBER  FOR MORE BRIEFING  0031-619708218 AS I LOOK FORWARD TO YOUR RESPONSE  AS SOON AS POSSIBLE. 

BEST REGARDS 

RICHARD COLE 





-- 
__________________________________________________________



One click access to the Top Search Engines
http://www.exactsearchbar.com/mailcom


From ken_yap_aus@yahoo.com  Fri Nov 29 04:46:02 2002
From: ken_yap_aus@yahoo.com (ken_yap_aus@yahoo.com)
Date: Fri Nov 29 04:46:02 2002
Subject: [Rd] readBin or writeBin adds extra nulls (PR#2333)
Message-ID: <200211290345.EAA05952@pubhealth.ku.dk>

Full_Name: Ken Yap
Version: 1.6.1
OS: Linux (SuSE 8.0)
Submission from: (NULL) (129.78.64.5)


I'm trying to copy a file using readBin and writeBin. (The reason is to be able
to pipe PostScript or PDF output to a socket later, this is just an experiment.)
I do:

zz <- file("foo.ps", "rb")
r <- readBin(zz, character(), 1000000)
yy <- file("bar.ps", "wb")
writeBin(r, yy, character(), 1000000)
close(yy)
close(zz)

When I diff the files I see differences. Every 10000 characters, the output file
has
an extra null byte, and the last portion is missing. Maybe the missing part is
because I forgot to flush the output of something, if someone could explain how
to do it correctly that would be nice. The extra null byte seems to be due to an
off-by-one programming error somewhere perhaps? Or am I doing something wrong?

Thanks for the great software by the way.


From deleeuw@stat.ucla.edu  Fri Nov 29 06:18:03 2002
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Fri Nov 29 06:18:03 2002
Subject: [Rd] BLAS/Lapack for OS X
Message-ID: <E708569A-0359-11D7-98F9-000393860F3C@stat.ucla.edu>

OS X 10.2 and higher comes standard with highly optimized versions
of BLAS and Lapack in /Systems/Library/Frameworks/vecLib.framework.
It seems that even for double precision they do much better. See

http://sthmac.magnet.fsu.edu/benchmarks/

I am not sure how these numbers would look on G3 Macs, but
obviously for double precision there is not much reliance on Altivec.

So I tried to configure R-devel with --with-blas="-framework vecLib",
which seems to work well since --with-blas is used literally as a  
linker flag

But later the build gets into trouble because of the
Lapack sources in the R distribution, which define the same
(non-optimized) functions as the (optimized) functions in vecLib.
Thus double definitions, different sources, the linker uses the  
R-versions
which come first and  which do not work in combination with the BLAS
from vecLib.

In this case we may also need  a flag --with-lapack="-framework vecLib",
which implies it should not use the Lapack files in R to build
lapack.so. Since Mac OS X 10.2 and higher always comes with
both Lapack and BLAS this could be the default in configure for
those systems.
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://gifi.stat.ucla.edu
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au
   
------------------------------------------------------------------------ 
-------------------------


From deleeuw@stat.ucla.edu  Fri Nov 29 06:26:02 2002
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Fri Nov 29 06:26:02 2002
Subject: [Rd] more on vecLib
Message-ID: <F3E2BCFD-035A-11D7-98F9-000393860F3C@stat.ucla.edu>

http://developer.apple.com/techpubs/macosx/ReleaseNotes/vecLib.html

This indicates the routines check for G3/G4 first and if there is no G4
they use the scalar version. So it's fine for all PPC Macs.

Also, vecLib contains vMathLib, which mirrors libm for the vector
engine. It would be good to use that as well in the linker flags
for 10.2 and higher.
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://gifi.stat.ucla.edu
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au
   
------------------------------------------------------------------------ 
-------------------------


From ripley@stats.ox.ac.uk  Fri Nov 29 09:04:02 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri Nov 29 09:04:02 2002
Subject: [Rd] BLAS/Lapack for OS X
In-Reply-To: <E708569A-0359-11D7-98F9-000393860F3C@stat.ucla.edu>
Message-ID: <Pine.LNX.4.31.0211290752230.6722-100000@gannet.stats>

We do not use optimized LAPACKs because too many of them contain
errors (one of which is in the current LAPACK sources and for which we
use a modified souce with a modified name).  That's stated in
the distribution somewhere.

There's nothing to allow you to build with an optimized LAPACK.  The
current code does work with some blases that contain lapack routines, e.g.
sunperf.  I have hacked the code to use sunperf and on real problems the
gain is negligible.

If `which do not work in combination with the BLAS from vecLib' is true,
then your library is not providing a proper BLAS interface, but I would be
interested to know what `does not work' means (it is the dreaded phrase of
technical support staff).

I have plans to have BLAS support in a shared library (as on Windows).
There are some potential problems (e.g. ATLAS is built without PIC flags)
and I do intend to get back to this for 1.7.x. The main potential problem
will be the non-standard behaviour of MacOS X, I believe.

On Thu, 28 Nov 2002, Jan de Leeuw wrote:

> OS X 10.2 and higher comes standard with highly optimized versions
> of BLAS and Lapack in /Systems/Library/Frameworks/vecLib.framework.
> It seems that even for double precision they do much better. See
>
> http://sthmac.magnet.fsu.edu/benchmarks/
>
> I am not sure how these numbers would look on G3 Macs, but
> obviously for double precision there is not much reliance on Altivec.
>
> So I tried to configure R-devel with --with-blas="-framework vecLib",
> which seems to work well since --with-blas is used literally as a
> linker flag
>
> But later the build gets into trouble because of the
> Lapack sources in the R distribution, which define the same
> (non-optimized) functions as the (optimized) functions in vecLib.
> Thus double definitions, different sources, the linker uses the
> R-versions
> which come first and  which do not work in combination with the BLAS
> from vecLib.
>
> In this case we may also need  a flag --with-lapack="-framework vecLib",
> which implies it should not use the Lapack files in R to build
> lapack.so. Since Mac OS X 10.2 and higher always comes with
> both Lapack and BLAS this could be the default in configure for
> those systems.
> ===
> Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
> Editor: Journal of Multivariate Analysis, Journal of Statistical
> Software
> US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
> phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
> homepage: http://gifi.stat.ucla.edu
>
> ------------------------------------------------------------------------
> -------------------------
>            No matter where you go, there you are. --- Buckaroo Banzai
>                     http://gifi.stat.ucla.edu/sounds/nomatter.au
>
> ------------------------------------------------------------------------
> -------------------------
>
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> http://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From dmurdoch@pair.com  Fri Nov 29 12:52:03 2002
From: dmurdoch@pair.com (dmurdoch@pair.com)
Date: Fri Nov 29 12:52:03 2002
Subject: [Rd] readBin or writeBin adds extra nulls (PR#2333)
Message-ID: <200211291152.MAA10269@pubhealth.ku.dk>

On Fri, 29 Nov 2002 04:45:46 +0100 (MET), you wrote:

>I'm trying to copy a file using readBin and writeBin. (The reason is to be able
>to pipe PostScript or PDF output to a socket later, this is just an experiment.)
>I do:
>
>zz <- file("foo.ps", "rb")
>r <- readBin(zz, character(), 1000000)
>yy <- file("bar.ps", "wb")
>writeBin(r, yy, character(), 1000000)
>close(yy)
>close(zz)

I see differences between the files too; that looks like a bug.  Ken
should have been using readChar and writeChar (the version he was
using breaks at ascii null characters); those appear to work properly.
However, readBin and writeBin should be able to handle very long
strings, or should report an error if they can't.

Duncan Murdoch


From ripley@stats.ox.ac.uk  Fri Nov 29 15:57:03 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri Nov 29 15:57:03 2002
Subject: [Rd] readBin or writeBin adds extra nulls (PR#2333)
In-Reply-To: <200211290345.EAA05952@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0211291450370.16177-100000@gannet.stats>

Please read the help page:

     `readBin' and `writeBin' read and write C-style zero-terminated
     character strings.  `readChar' and `writeChar' allow more
     flexibility, and can also be used on text-mode connections.

You don't have such character strings in a postscript file (if that is
what foo.ps is).  The code arbitrarily breaks the input into strings of
length 10000 if it gets in trouble finding a null terminator.  The bug is
not issuing a warning to the user if that happens.

You don't get the last part because there was no final null terminator,
so no qualifying string gets read.

You should be using either readChar (as the help page says) if you have a
text file, or integer() of size 1 if you really want to read a file of
bytes.

On Fri, 29 Nov 2002 ken_yap_aus@yahoo.com wrote:

> Full_Name: Ken Yap
> Version: 1.6.1
> OS: Linux (SuSE 8.0)
> Submission from: (NULL) (129.78.64.5)
>
>
> I'm trying to copy a file using readBin and writeBin. (The reason is to be able
> to pipe PostScript or PDF output to a socket later, this is just an experiment.)
> I do:
>
> zz <- file("foo.ps", "rb")
> r <- readBin(zz, character(), 1000000)
> yy <- file("bar.ps", "wb")
> writeBin(r, yy, character(), 1000000)
> close(yy)
> close(zz)
>
> When I diff the files I see differences. Every 10000 characters, the output file
> has
> an extra null byte, and the last portion is missing. Maybe the missing part is
> because I forgot to flush the output of something, if someone could explain how
> to do it correctly that would be nice. The extra null byte seems to be due to an
> off-by-one programming error somewhere perhaps? Or am I doing something wrong?
>
> Thanks for the great software by the way.
>
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> http://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From ripley@stats.ox.ac.uk  Fri Nov 29 16:34:03 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri Nov 29 16:34:03 2002
Subject: [Rd] Prediction from arima() object (library ts) (PR#2305)
In-Reply-To: <200211181412.PAA28853@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0211291529490.16287-100000@gannet.stats>

Your `manual' code is misguided: I don't think you understand ARIMA
processes.

Read the help page more carefully, including the parameter `include.mean'.
If you use the correct differenced model, you will verify that arima is
working correctly.

Please don't report bugs unless you are sure you understand your own email
address!

On Mon, 18 Nov 2002 mcrae_allan@hotmial.com wrote:
                                ^^^^^^^  sic!
> Full_Name: Allan McRae
> Version: 1.6.0
> OS: Win 2000 P
> Submission from: (NULL) (129.215.190.229)
>
>
> When using predict.Arima in library ts(), it appears differencing is only
> accounted for in the first step of prediction and so any trend is not apparent
> in the predictions.  The example shows the difference between the predictions of
> an arima(1,1,1) model and the backtransformed predictions of an arima(1,0,1)
> model fitted on the differenced data.
>
> Example:
>
> total <- c(750, 775, 971, 1099, 1344, 610, 910, 1056, 1589, 1006, 1469, 1598,
> 876, 1104, 1197, 1062, 1783, 1554, 1400, 1340, 1013, 1031, 1030, 860, 943, 1542,
> 1400, 1301, 1443, 1057, 1296, 710, 1038, 1447, 694, 889, 1459, 957, 1284, 1520,
> 1172, 1826, 1751, 1968, 933, 1409, 1889)
>
> revtotal <- numeric(length(total))
> for(i in 1:length(total))
> 	revtotal[i] <- total[length(total)-i+1]
>
> # first model
> m1 <- arima(revtotal, c(1,1,1))
> pm1 <- predict(m1, n.ahead=15)
> plot(1:47, y=revtotal, type="l", xlim=c(0,65))
> lines(48:62, y=pm1$pred, col="red")
>
> # second model - differencing done manually
> drevtotal <- diff(revtotal)
> m <- arima(drevtotal, c(1,0,1))

That line is incorrect.

> pm <- predict(m, n.ahead=15)
> p <- numeric(15)
> p[1] <- pm$pred[1] + revtotal[length(revtotal)]
> for(i in 2:15)
> 	p[i] <- p[i-1] + pm$pred[i]
> plot(1:47, y=revtotal, type="l", xlim=c(0,65))
> lines(48:62, y=p, col="red")
>
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> http://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From bjw34032@mh.uk.sbphrd.com  Fri Nov 29 16:45:03 2002
From: bjw34032@mh.uk.sbphrd.com (bjw34032@mh.uk.sbphrd.com)
Date: Fri Nov 29 16:45:03 2002
Subject: [Rd] mgcv fails to compile in R-1.6.1 (PR#2334)
Message-ID: <200211291545.QAA13397@pubhealth.ku.dk>

Full_Name: Brandon Whitcher
Version: 1.6.1
OS: IRIX 6.5
Submission from: (NULL) (194.6.84.100)


I am attempting to compile R v1.6.1 on my SGI Octane (running IRIX 6.5)
and ran into the following error when I encountered the new recommended
package _mgcv_ (using make)

----------

     R_LIBS= ../../../bin/R CMD INSTALL -l ../../../library mgcv.tgz
* Installing *source* package 'mgcv' ...
** libs
gcc -I/usr/local/R-1.6.1/include -I/usr/freeware/include -g -O2 -c gcv.c
 -o gcv.o
gcc -I/usr/local/R-1.6.1/include -I/usr/freeware/include -g -O2 -c
  matrix.c -o matrix.o
as: Error: /var/tmp/ccROwBBa.s, line 25029: register expected
		 dmtc1 244($sp),$f0
as: Error: /var/tmp/ccROwBBa.s, line 25029: Undefined symbol: 244
gmake: *** [matrix.o] Error 1
ERROR: compilation failed for package 'mgcv'
*** Error code 5 (bu21)
*** Error code 1 (bu21) (ignored)

----------

Upon eliminating this package, all subsequent "Recommended" packages
installed just fine.  Any ideas on what went wrong?


From p.dalgaard@biostat.ku.dk  Fri Nov 29 16:56:02 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: Fri Nov 29 16:56:02 2002
Subject: [Rd] mgcv fails to compile in R-1.6.1 (PR#2334)
In-Reply-To: <200211291545.QAA13397@pubhealth.ku.dk>
References: <200211291545.QAA13397@pubhealth.ku.dk>
Message-ID: <x2u1i0z7x9.fsf@biostat.ku.dk>

bjw34032@mh.uk.sbphrd.com writes:

> I am attempting to compile R v1.6.1 on my SGI Octane (running IRIX 6.5)
> and ran into the following error when I encountered the new recommended
> package _mgcv_ (using make)
> 
> gcc -I/usr/local/R-1.6.1/include -I/usr/freeware/include -g -O2 -c
>   matrix.c -o matrix.o
> as: Error: /var/tmp/ccROwBBa.s, line 25029: register expected
> 		 dmtc1 244($sp),$f0
> as: Error: /var/tmp/ccROwBBa.s, line 25029: Undefined symbol: 244

That's a compiler bug, not an R one. You might try reducing the
optimization level.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907


From pgilbert@bank-banque-canada.ca  Fri Nov 29 17:23:02 2002
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Fri Nov 29 17:23:02 2002
Subject: [Rd] BLAS/Lapack for OS X
References: <Pine.LNX.4.31.0211290752230.6722-100000@gannet.stats>
Message-ID: <3DE793B0.683106B7@bank-banque-canada.ca>

ripley@stats.ox.ac.uk wrote:
...
> I have hacked the code to use sunperf and on real problems the
> gain is negligible.
...

I also found this to be the case in some recent testing I did in Linux
(Mandrake 9.0) with an AMD Athlon 2100+. Converting from my non BLAS
version of R 1.6.1 to optimized ATLAS saved about 10 minutes on a 4.5
hour test suite. This was using a .a rather than a .so version of the
library, but according to a comment by Doug Bates, the .a library is
probably faster (but I presume uses more memory). The tests do many
things I would not expect to benefit from ATLAS, but about a quarter of
the time is spent on programs that do make fairly heavy use of La.svd
and La.eigen. So, on some problems you might save some time, but overall
I think, as Brian says, the gain is negligible.

Paul Gilbert


From p.dalgaard@biostat.ku.dk  Fri Nov 29 17:26:02 2002
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: Fri Nov 29 17:26:02 2002
Subject: [Rd] mgcv fails to compile in R-1.6.1 (PR#2334)
In-Reply-To: <x2u1i0z7x9.fsf@biostat.ku.dk>
References: <200211291545.QAA13397@pubhealth.ku.dk>
 <x2u1i0z7x9.fsf@biostat.ku.dk>
Message-ID: <x2ptsoz6je.fsf@biostat.ku.dk>

Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:

> bjw34032@mh.uk.sbphrd.com writes:
> 
> > I am attempting to compile R v1.6.1 on my SGI Octane (running IRIX 6.5)
> > and ran into the following error when I encountered the new recommended
> > package _mgcv_ (using make)
> > 
> > gcc -I/usr/local/R-1.6.1/include -I/usr/freeware/include -g -O2 -c
> >   matrix.c -o matrix.o
> > as: Error: /var/tmp/ccROwBBa.s, line 25029: register expected
> > 		 dmtc1 244($sp),$f0
> > as: Error: /var/tmp/ccROwBBa.s, line 25029: Undefined symbol: 244
> 
> That's a compiler bug, not an R one. You might try reducing the
> optimization level.

Come to think of it that kind of error is sometimes seen when using
GCC with the system supplied assembler. You might need to install the
GNU binutils (but what do I know about IRIX).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907


From ripley@stats.ox.ac.uk  Fri Nov 29 17:54:02 2002
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri Nov 29 17:54:02 2002
Subject: [Rd] BLAS/Lapack for OS X
In-Reply-To: <3DE793B0.683106B7@bank-banque-canada.ca>
Message-ID: <Pine.GSO.4.44.0211291647500.6594-100000@auk.stats>

NB:  I referred to sunperf, not ATLAS.

Sunperf is a BLAS/LAPACK replacement, not just a version of BLAS.
There are problems where using an optimized BLAS helps, but my comment was
about an optimized LAPACK on top of an optimized BLAS.

On Fri, 29 Nov 2002, Paul Gilbert wrote:

> ripley@stats.ox.ac.uk wrote:
> ...
> > I have hacked the code to use sunperf and on real problems the
> > gain is negligible.
> ...
>
> I also found this to be the case in some recent testing I did in Linux
> (Mandrake 9.0) with an AMD Athlon 2100+. Converting from my non BLAS
> version of R 1.6.1 to optimized ATLAS saved about 10 minutes on a 4.5
> hour test suite. This was using a .a rather than a .so version of the
> library, but according to a comment by Doug Bates, the .a library is
> probably faster (but I presume uses more memory). The tests do many
> things I would not expect to benefit from ATLAS, but about a quarter of
> the time is spent on programs that do make fairly heavy use of La.svd
> and La.eigen. So, on some problems you might save some time, but overall
> I think, as Brian says, the gain is negligible.
>
> Paul Gilbert
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From deleeuw@stat.ucla.edu  Fri Nov 29 22:21:03 2002
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Fri Nov 29 22:21:03 2002
Subject: [Rd] BLAS/Lapack for OS X
In-Reply-To: <Pine.LNX.4.31.0211290752230.6722-100000@gannet.stats>
Message-ID: <5259F8DA-03E0-11D7-8303-000393860F3C@stat.ucla.edu>

Thanks. I have compared flags --without-blas and  
--with-blas="-framework vecLib"
and no flag (which means it chooses the static ATLAS library from fink).
All three compiles go through fine. The ATLAS version is about twice as
fast as the --without-blas version on large eigenvalue problems for
Hilbert matrices (the larger, the more gain). The vecLib version does  
not
work, because it says

Error in eigen(hilbert(500)) : lapack routines cannot be loaded

The only indication during compilation of something wrong is that the
lapack routines are defined twice (once in double.c and cmplx.c and
once in the vecLib framework), and that generates warnings.

I also tried

-- do not include double.lo and cmplx.lo in linking lapack.so
-- change the order in the link of -framework vecLib and double.lo and  
cmplx.lo,
-- do not include -framework vecLib in the link  

but I still get the same error, which seems to indicate the error is in
the BLAS part.

Does the lapack loading depend on the fact that the BLAS routines are  
statically
linked (and come from static libraries) ? Of course the vecLib BLAS (and
LAPACK) are in a dynamic library.

On Friday, November 29, 2002, at 12:03 AM, ripley@stats.ox.ac.uk wrote:

> We do not use optimized LAPACKs because too many of them contain
> errors (one of which is in the current LAPACK sources and for which we
> use a modified souce with a modified name).  That's stated in
> the distribution somewhere.
>
> There's nothing to allow you to build with an optimized LAPACK.  The
> current code does work with some blases that contain lapack routines,  
> e.g.
> sunperf.  I have hacked the code to use sunperf and on real problems  
> the
> gain is negligible.
>
> If `which do not work in combination with the BLAS from vecLib' is  
> true,
> then your library is not providing a proper BLAS interface, but I  
> would be
> interested to know what `does not work' means (it is the dreaded  
> phrase of
> technical support staff).
>
> I have plans to have BLAS support in a shared library (as on Windows).
> There are some potential problems (e.g. ATLAS is built without PIC  
> flags)
> and I do intend to get back to this for 1.7.x. The main potential  
> problem
> will be the non-standard behaviour of MacOS X, I believe.
>
> On Thu, 28 Nov 2002, Jan de Leeuw wrote:
>
>> OS X 10.2 and higher comes standard with highly optimized versions
>> of BLAS and Lapack in /Systems/Library/Frameworks/vecLib.framework.
>> It seems that even for double precision they do much better. See
>>
>> http://sthmac.magnet.fsu.edu/benchmarks/
>>
>> I am not sure how these numbers would look on G3 Macs, but
>> obviously for double precision there is not much reliance on Altivec.
>>
>> So I tried to configure R-devel with --with-blas="-framework vecLib",
>> which seems to work well since --with-blas is used literally as a
>> linker flag
>>
>> But later the build gets into trouble because of the
>> Lapack sources in the R distribution, which define the same
>> (non-optimized) functions as the (optimized) functions in vecLib.
>> Thus double definitions, different sources, the linker uses the
>> R-versions
>> which come first and  which do not work in combination with the BLAS
>> from vecLib.
>>
>> In this case we may also need  a flag --with-lapack="-framework  
>> vecLib",
>> which implies it should not use the Lapack files in R to build
>> lapack.so. Since Mac OS X 10.2 and higher always comes with
>> both Lapack and BLAS this could be the default in configure for
>> those systems.
>> ===
>> Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
>> Editor: Journal of Multivariate Analysis, Journal of Statistical
>> Software
>> US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
>> phone (310)-825-9550;  fax (310)-206-5658;  email:  
>> deleeuw@stat.ucla.edu
>> homepage: http://gifi.stat.ucla.edu
>>
>> ---------------------------------------------------------------------- 
>> --
>> -------------------------
>>            No matter where you go, there you are. --- Buckaroo Banzai
>>                     http://gifi.stat.ucla.edu/sounds/nomatter.au
>>
>> ---------------------------------------------------------------------- 
>> --
>> -------------------------
>>
>> ______________________________________________
>> R-devel@stat.math.ethz.ch mailing list
>> http://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>>
>
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://gifi.stat.ucla.edu
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au
   
------------------------------------------------------------------------ 
-------------------------


From james-chapman@uiowa.edu  Sat Nov 30 03:13:03 2002
From: james-chapman@uiowa.edu (James Chapman)
Date: Sat Nov 30 03:13:03 2002
Subject: [Rd] RMySQL temporary table question
Message-ID: <000501c29815$da659220$a5f5d90c@universihf1nvk>

Hi,

I've run into a bit of a problem with using the RMySQL library. I've
been attempting to create a temporary table in a MySQL database and then
perform a SELECT with a WHEREs clause on the table. In effect perform a
SELECT with a subSELECT. 

The problem is that it never seems to be able to find the table after I
create it. I've been using the dbSendQuery method to create the table
since this seems to be the one too use for sending all forms of SQL
commands.

Is it possible that MySQL is dropping the temporary table every time a
new dbSendQuery is run? Or (more likely) am I using the library
improperly.

Thanks,

James

... asset pricing is paradoxical. On the one hand, the theory is so 
persuasive that it is widely believed to be correct, to the point that 
business, government and even jurisdiction appeal to it. Yet there is 
little evidence that the theory explains the past, let alone that it 
predicts the future. 
	---The Paradox of Asset Pricing
        	by Peter Bossaerts


From ripley@stats.ox.ac.uk  Sat Nov 30 16:05:03 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat Nov 30 16:05:03 2002
Subject: [Rd] BLAS/Lapack for OS X
In-Reply-To: <5259F8DA-03E0-11D7-8303-000393860F3C@stat.ucla.edu>
Message-ID: <Pine.LNX.4.31.0211301447440.14455-100000@gannet.stats>

On Fri, 29 Nov 2002, Jan de Leeuw wrote:

> Thanks. I have compared flags --without-blas and
> --with-blas="-framework vecLib"
> and no flag (which means it chooses the static ATLAS library from fink).
> All three compiles go through fine. The ATLAS version is about twice as
> fast as the --without-blas version on large eigenvalue problems for
> Hilbert matrices (the larger, the more gain). The vecLib version does
> not
> work, because it says
>
> Error in eigen(hilbert(500)) : lapack routines cannot be loaded
>
> The only indication during compilation of something wrong is that the
> lapack routines are defined twice (once in double.c and cmplx.c and
> once in the vecLib framework), and that generates warnings.
>
> I also tried
>
> -- do not include double.lo and cmplx.lo in linking lapack.so
> -- change the order in the link of -framework vecLib and double.lo and
> cmplx.lo,
> -- do not include -framework vecLib in the link
>
> but I still get the same error, which seems to indicate the error is in
> the BLAS part.

I don't think that follows.  It just seems to indicate problems in what
you did.  That's not surprising, as your lapack will not have the modified
routines in double.f (did you read the README?).  You should have used
your tools to find the missing symbols.

> Does the lapack loading depend on the fact that the BLAS routines are
> statically
> linked (and come from static libraries) ? Of course the vecLib BLAS (and
> LAPACK) are in a dynamic library.

Not at all.  Dynamic linking works on Linux and Solaris, for example.
Who knows about non-Unix OS's like MacOS, though?

Take a look at the current R-devel, which does allow an external LAPACK
library to be used, and even allows it to be the same as the BLAS library.
This works with SunPerf, which is a combined BLAS/LAPACK, except that it
is not quite complete and I had to use a re-named copy of dlange.f in the
sources.

[BTW, when I say `works' it all builds but fails to complete the mva-Ex.R
test on 64-bit Solaris, something I have yet to track down.]

I would expect that on your `OS' specifying --with-blas will automatically
notice that you have LAPACK in the BLAS library and omit double.lo and
cmplx.lo.  There should thne be no duplicate symbols, but you will have to
check with ldd+nm (or whatever) to see that symbols are being resolved.
There's a fair chance something will be missing.

Brian

>
> On Friday, November 29, 2002, at 12:03 AM, ripley@stats.ox.ac.uk wrote:
>
> > We do not use optimized LAPACKs because too many of them contain
> > errors (one of which is in the current LAPACK sources and for which we
> > use a modified souce with a modified name).  That's stated in
> > the distribution somewhere.
> >
> > There's nothing to allow you to build with an optimized LAPACK.  The
> > current code does work with some blases that contain lapack routines,
> > e.g.
> > sunperf.  I have hacked the code to use sunperf and on real problems
> > the
> > gain is negligible.
> >
> > If `which do not work in combination with the BLAS from vecLib' is
> > true,
> > then your library is not providing a proper BLAS interface, but I
> > would be
> > interested to know what `does not work' means (it is the dreaded
> > phrase of
> > technical support staff).
> >
> > I have plans to have BLAS support in a shared library (as on Windows).
> > There are some potential problems (e.g. ATLAS is built without PIC
> > flags)
> > and I do intend to get back to this for 1.7.x. The main potential
> > problem
> > will be the non-standard behaviour of MacOS X, I believe.
> >
> > On Thu, 28 Nov 2002, Jan de Leeuw wrote:
> >
> >> OS X 10.2 and higher comes standard with highly optimized versions
> >> of BLAS and Lapack in /Systems/Library/Frameworks/vecLib.framework.
> >> It seems that even for double precision they do much better. See
> >>
> >> http://sthmac.magnet.fsu.edu/benchmarks/
> >>
> >> I am not sure how these numbers would look on G3 Macs, but
> >> obviously for double precision there is not much reliance on Altivec.
> >>
> >> So I tried to configure R-devel with --with-blas="-framework vecLib",
> >> which seems to work well since --with-blas is used literally as a
> >> linker flag
> >>
> >> But later the build gets into trouble because of the
> >> Lapack sources in the R distribution, which define the same
> >> (non-optimized) functions as the (optimized) functions in vecLib.
> >> Thus double definitions, different sources, the linker uses the
> >> R-versions
> >> which come first and  which do not work in combination with the BLAS
> >> from vecLib.
> >>
> >> In this case we may also need  a flag --with-lapack="-framework
> >> vecLib",
> >> which implies it should not use the Lapack files in R to build
> >> lapack.so. Since Mac OS X 10.2 and higher always comes with
> >> both Lapack and BLAS this could be the default in configure for
> >> those systems.
> >> ===
> >> Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
> >> Editor: Journal of Multivariate Analysis, Journal of Statistical
> >> Software
> >> US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
> >> phone (310)-825-9550;  fax (310)-206-5658;  email:
> >> deleeuw@stat.ucla.edu
> >> homepage: http://gifi.stat.ucla.edu
> >>
> >> ----------------------------------------------------------------------
> >> --
> >> -------------------------
> >>            No matter where you go, there you are. --- Buckaroo Banzai
> >>                     http://gifi.stat.ucla.edu/sounds/nomatter.au
> >>
> >> ----------------------------------------------------------------------
> >> --
> >> -------------------------
> >>
> >> ______________________________________________
> >> R-devel@stat.math.ethz.ch mailing list
> >> http://www.stat.math.ethz.ch/mailman/listinfo/r-devel
> >>
> >
> > --
> > Brian D. Ripley,                  ripley@stats.ox.ac.uk
> > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > University of Oxford,             Tel:  +44 1865 272861 (self)
> > 1 South Parks Road,                     +44 1865 272860 (secr)
> > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> >
> >
> ===
> Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
> Editor: Journal of Multivariate Analysis, Journal of Statistical
> Software
> US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
> phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
> homepage: http://gifi.stat.ucla.edu
>
> ------------------------------------------------------------------------
> -------------------------
>            No matter where you go, there you are. --- Buckaroo Banzai
>                     http://gifi.stat.ucla.edu/sounds/nomatter.au
>
> ------------------------------------------------------------------------
> -------------------------
>
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> http://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From ripley@stats.ox.ac.uk  Sat Nov 30 19:21:02 2002
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat Nov 30 19:21:02 2002
Subject: [Rd] vector arguments to if()
Message-ID: <Pine.LNX.4.31.0211301816200.31718-100000@gannet.stats>

The current R-devel now warns about passing vectors of length > 1 to if().
There seem to be a *lot* of such misuses amongst packages, including in
the recommended packages lattice and mgcv.  Since S warns, this is almost
entirely confined to packages originally written for R.

Would package developers please check their packages under R-devel at
their convenience.  I would be interested to hear of any misuses in R
itself: several have come to light but more may be lurking.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From deleeuw@stat.ucla.edu  Sat Nov 30 21:35:02 2002
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Sat Nov 30 21:35:02 2002
Subject: [Rd] BLAS/Lapack for OS X
In-Reply-To: <Pine.LNX.4.31.0211301447440.14455-100000@gannet.stats>
Message-ID: <21BA897C-04A3-11D7-90BB-000393860F3C@stat.ucla.edu>

Since this may lead to some misunderstandings, I will elaborate a bit.

Darwin is BSD 4.4 on top of the Mach 3.0 OSF kernel (not the old
microkernel). Some IPC and threading components are taken from the
Mach part, otherwise all of FreeBSD 4.4 is there. Much is added: VSF,
Journalling, CUPS, gcc and friends. A version of Darwin for x86 machines
is available  from CVS. All of it is open source.

Brian is right that Darwin is not Unix, neither are FreeBSD, NetBSD,
OpenBSD, and the various Linuxes. Unix is a trademark owned
by the Open Group, and none of the above mentioned OS's are
registered. See

http://www.osopinion.com/perl/printer/9451/

for more details, and

http://developer.apple.com/darwin/history.html

for some history and propaganda.

Of course Mac OS X is certainly not Unix, because it adds Quartz,  
OpenGL, Aqua,
Cocoa, Carbon, Classic on top of the Darwin Mach/BSD layer. But  
currently, for
the Darwin/X11 version, none of those top layers are used, and we just
add Xfree86 to get the GUI (and all of gnome if we want the extension  
module).

On Saturday, November 30, 2002, at 07:04 AM, ripley@stats.ox.ac.uk  
wrote:

> Not at all.  Dynamic linking works on Linux and Solaris, for example.
> Who knows about non-Unix OS's like MacOS, though?
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://gifi.stat.ucla.edu
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au
   
------------------------------------------------------------------------ 
-------------------------


