From ihaka@stat.auckland.ac.nz  Wed Sep  2 03:45:40 1998
From: ihaka@stat.auckland.ac.nz (Ross Ihaka)
Date: Wed, 2 Sep 1998 14:45:40 +1200 (NZST)
Subject: Latin Fonts In Graphics
Message-ID: <199809020245.OAA27588@stat1.stat.auckland.ac.nz>

I have just converted the PostScript graphics driver so that it uses
Latin1 encoding.  This should make it possible for Western European
users to render their languages correctly in plots.

It is would also be possible to add other encodings.  In particular, if
someone could send me a postscript fragment which produces a fonts with
a Latin2 encoding from a standard Adobe one, we can cover Eastern Europe
too (the Latin2 encoding does not appear to be present in standard
postscript interpreters).

[ This should be available in the development snapshots soon. ]

	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From wsimpson@uwinnipeg.ca  Wed Sep  2 22:00:09 1998
From: wsimpson@uwinnipeg.ca (Bill Simpson)
Date: Wed, 2 Sep 1998 16:00:09 -0500 (CDT)
Subject: INSTALL
Message-ID: <Pine.OSF.3.95.980902155713.23043A-100000@io.uwinnipeg.ca>

I just installed R 0.62.3 and it seems to me  the INSTALL document is out
of date.  Now it seems it does it all "automatically", so the part in the
doc below can be deleted:
--------------------------------
INSTALLATION

After
        ./configure
        make
have been completed successfully, you can install the complete R tree
to your system by typing

        make install
...
--------------------------------

Bill Simpson


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Sep  2 22:19:35 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 Sep 1998 23:19:35 +0200
Subject: INSTALL
In-Reply-To: Bill Simpson's message of Wed, 2 Sep 1998 16:00:09 -0500 (CDT)
References: <Pine.OSF.3.95.980902155713.23043A-100000@io.uwinnipeg.ca>
Message-ID: <x267f62owo.fsf@blueberry.kubism.ku.dk>

Bill Simpson <wsimpson@uwinnipeg.ca> writes:

> I just installed R 0.62.3 and it seems to me  the INSTALL document is out
> of date.  Now it seems it does it all "automatically", so the part in the
> doc below can be deleted:
> --------------------------------
> INSTALLATION
> 
> After
>         ./configure
>         make
> have been completed successfully, you can install the complete R tree
> to your system by typing

Weeelll... Some people like to do the individual steps. In particular,
if you're short of disk space, you could do

./configure
make R
make help

and have a fairly minimal working system. 

Getting make to do the configure bit automagically is a bit of a hack
and if you need to modify the configure, you do it by adding arguments
to ./configure. So all in all, it's probably best to leave the
two-step version in (but of course, one might start off with a note
saying "On most systems, just type 'make'")

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Bill Simpson <wsimpson@uwinnipeg.ca>  Wed Sep  2 22:22:54 1998
From: Bill Simpson <wsimpson@uwinnipeg.ca> (Bill Simpson)
Date: Wed, 2 Sep 1998 16:22:54 -0500 (CDT)
Subject: plot symbols
Message-ID: <Pine.OSF.3.95.980902161552.22789A-101000@io.uwinnipeg.ca>

  This message is in MIME format.  The first part should be readable text,
  while the remaining parts are likely unreadable without MIME-aware tools.
  Send mail to mime@docserver.cac.washington.edu for more info.

--0-654592387-904771374=:23132
Content-Type: TEXT/PLAIN; charset=US-ASCII

I just installed the latest R .62.3 and it still has this serious plot
bug:
- in R Graphics window, all is well
- save plot to file, look at it with ghostview or print it and you will
see
	* if you change the default pars like this
par.set<-function()
{
par(cex=2,mex=.7)
par(mar=c(5,5,2,2))
} 
	* the first set of points plotted have the right size symbol, BUT
the second and subsequent sets use the default (small) symbol size.  I
attach an example where the two symbols are SUPPOSED to be the same size

Bill Simpson


--0-654592387-904771374=:23132
Content-Type: APPLICATION/PostScript; name="5.ps"
Content-Transfer-Encoding: BASE64
Content-ID: <Pine.OSF.3.95.980902162254.23132A@io.uwinnipeg.ca>
Content-Description: 

JSFQUy1BZG9iZS0zLjAKJSVEb2N1bWVudEZvbnRzOiBIZWx2ZXRpY2EgSGVs
dmV0aWNhLUJvbGQgSGVsdmV0aWNhLU9ibGlxdWUKJSUrIEhlbHZldGljYS1C
b2xkT2JsaXF1ZSBTeW1ib2wKJSVEb2N1bWVudE1lZGlhOiBsZXR0ZXIgNjEy
IDc5MiAwICgpCiUlVGl0bGU6IFIgR3JhcGhpY3MgT3V0cHV0CiUlQ3JlYXRv
cjogUiBTb2Z0d2FyZQolJVBhZ2VzOiAoYXRlbmQpCiUlT3JpZW50YXRpb246
IFBvcnRyYWl0CiUlQm91bmRpbmdCb3g6IDM2IDEyNiA1NzYgNjY2CiUlRW5k
Q29tbWVudHMKJSVCZWdpblByb2xvZwovZ3MgIHsgZ3NhdmUgfSBkZWYKL2dy
ICB7IGdyZXN0b3JlIH0gZGVmCi9icCAgeyBncyB9IGRlZgovZXAgIHsgc2hv
d3BhZ2UgZ3IgfSBkZWYKL20gICB7IG1vdmV0byB9IGRlZgovbCAgIHsgbGlu
ZXRvIH0gZGVmCi9ucCAgeyBuZXdwYXRoIH0gZGVmCi9jcCAgeyBjbG9zZXBh
dGggfSBkZWYKL2YgICB7IGZpbGwgfSBkZWYKL28gICB7IHN0cm9rZSB9IGRl
ZgovY2YgIHsgbmV3cGF0aCAwIDM2MCBhcmMgZmlsbCB9IGRlZgovY28gIHsg
bmV3cGF0aCAwIDM2MCBhcmMgc3Ryb2tlIH0gZGVmCi9yICAgeyAzIGluZGV4
IDMgaW5kZXggbW92ZXRvIDEgaW5kZXggNCAtMSByb2xsCiAgICAgICBsaW5l
dG8gZXhjaCAxIGluZGV4IGxpbmV0byBsaW5ldG8gY2xvc2VwYXRoIH0gZGVm
Ci9yZiAgeyByIGYgfSBkZWYKL3JvICB7IHIgbyB9IGRlZgovdCAgIHsgNiAt
MiByb2xsIG1vdmV0byBnc2F2ZSAzIGluZGV4IHRydWUKICAgICAgIGNoYXJw
YXRoIGZsYXR0ZW5wYXRoIHBhdGhiYm94IGdyZXN0b3JlIGdzYXZlCiAgICAg
ICA1IC0xIHJvbGwgcm90YXRlIDYgLTEgcm9sbCBuZWcgMyAtMSByb2xsIDUg
LTEKICAgICAgIHJvbGwgc3ViIG11bCA0IC0xIHJvbGwgbmVnIDMgLTEgcm9s
bCA0IC0xIHJvbGwKICAgICAgIHN1YiBtdWwgcm1vdmV0byBzaG93IGdyZXN0
b3JlIH0gZGVmCi9jbCAgeyBpbml0Y2xpcCBuZXdwYXRoIDMgaW5kZXggMyBp
bmRleCBtb3ZldG8gMSBpbmRleAogICAgICAgNCAtMSByb2xsIGxpbmV0byAg
ZXhjaCAxIGluZGV4IGxpbmV0byBsaW5ldG8KICAgICAgIGNsb3NlcGF0aCBj
bGlwIG5ld3BhdGggfSBkZWYKL3JnYiB7IHNldHJnYmNvbG9yIH0gZGVmCi9z
ICAgeyBzY2FsZWZvbnQgc2V0Zm9udCB9IGRlZgovUiAgIHsgL0hlbHZldGlj
YSBmaW5kZm9udCB9IGRlZgovQiAgIHsgL0hlbHZldGljYS1Cb2xkIGZpbmRm
b250IH0gZGVmCi9JICAgeyAvSGVsdmV0aWNhLU9ibGlxdWUgZmluZGZvbnQg
fSBkZWYKL0JJICB7IC9IZWx2ZXRpY2EtQm9sZE9ibGlxdWUgZmluZGZvbnQg
fSBkZWYKL1MgICB7IC9TeW1ib2wgZmluZGZvbnQgfSBkZWYKMSBzZXRsaW5l
Y2FwIDEgc2V0bGluZWpvaW4KJSVFbmRQcm9sb2cKJSVQYWdlOiAxIDEKYnAK
UiAxMCBzCjAuNzUgc2V0bGluZXdpZHRoCjAuMDAwMCAwLjAwMDAgMC4wMDAw
IHJnYgoxMDYuMDAgMTk2LjAwIDU0OC4wMCA2MzguMDAgY2wKMTA2LjAwIDE5
Ni4wMCA1NDguMDAgNjM4LjAwIGNsCltdIDAgc2V0ZGFzaAowLjc1IHNldGxp
bmV3aWR0aAoxMjIuMzcgMjM4LjE1IDExLjAxIGNvCltdIDAgc2V0ZGFzaAow
Ljc1IHNldGxpbmV3aWR0aAoyMzcuNzggNDQ3LjMyIDExLjAxIGNvCltdIDAg
c2V0ZGFzaAowLjc1IHNldGxpbmV3aWR0aAozNTMuMjAgNjEzLjY4IDExLjAx
IGNvCltdIDAgc2V0ZGFzaAowLjc1IHNldGxpbmV3aWR0aAoxNjguNTQgMjc3
LjM5IDExLjAxIGNvCltdIDAgc2V0ZGFzaAowLjc1IHNldGxpbmV3aWR0aAoy
OTUuNDkgNjE3LjU4IDExLjAxIGNvCjM2LjAwIDEyNi4wMCA1NzYuMDAgNjY2
LjAwIGNsCltdIDAgc2V0ZGFzaAowLjc1IHNldGxpbmV3aWR0aApucAoxMjIu
MzcgMTk2LjAwIG0KNDY4LjYxIDE5Ni4wMCBsCm8KW10gMCBzZXRkYXNoCjAu
NzUgc2V0bGluZXdpZHRoCm5wCjEyMi4zNyAxOTYuMDAgbQoxMjIuMzcgMTg5
LjAwIGwKbwpbXSAwIHNldGRhc2gKMC43NSBzZXRsaW5ld2lkdGgKbnAKMjM3
Ljc4IDE5Ni4wMCBtCjIzNy43OCAxODkuMDAgbApvCltdIDAgc2V0ZGFzaAow
Ljc1IHNldGxpbmV3aWR0aApucAozNTMuMjAgMTk2LjAwIG0KMzUzLjIwIDE4
OS4wMCBsCm8KW10gMCBzZXRkYXNoCjAuNzUgc2V0bGluZXdpZHRoCm5wCjQ2
OC42MSAxOTYuMDAgbQo0NjguNjEgMTg5LjAwIGwKbwpSIDI0IHMKMTIyLjM3
IDE2OS40MCAoMC4wKSAwLjUwIDAuMDAgMC4wMCB0CjIzNy43OCAxNjkuNDAg
KDAuMSkgMC41MCAwLjAwIDAuMDAgdAozNTMuMjAgMTY5LjQwICgwLjIpIDAu
NTAgMC4wMCAwLjAwIHQKNDY4LjYxIDE2OS40MCAoMC4zKSAwLjUwIDAuMDAg
MC4wMCB0CltdIDAgc2V0ZGFzaAowLjc1IHNldGxpbmV3aWR0aApucAoxMDYu
MDAgMjEyLjM3IG0KMTA2LjAwIDYyMS42MyBsCm8KW10gMCBzZXRkYXNoCjAu
NzUgc2V0bGluZXdpZHRoCm5wCjEwNi4wMCAyMTIuMzcgbQo5OS4wMCAyMTIu
MzcgbApvCltdIDAgc2V0ZGFzaAowLjc1IHNldGxpbmV3aWR0aApucAoxMDYu
MDAgMjk0LjIyIG0KOTkuMDAgMjk0LjIyIGwKbwpbXSAwIHNldGRhc2gKMC43
NSBzZXRsaW5ld2lkdGgKbnAKMTA2LjAwIDM3Ni4wNyBtCjk5LjAwIDM3Ni4w
NyBsCm8KW10gMCBzZXRkYXNoCjAuNzUgc2V0bGluZXdpZHRoCm5wCjEwNi4w
MCA0NTcuOTMgbQo5OS4wMCA0NTcuOTMgbApvCltdIDAgc2V0ZGFzaAowLjc1
IHNldGxpbmV3aWR0aApucAoxMDYuMDAgNTM5Ljc4IG0KOTkuMDAgNTM5Ljc4
IGwKbwpbXSAwIHNldGRhc2gKMC43NSBzZXRsaW5ld2lkdGgKbnAKMTA2LjAw
IDYyMS42MyBtCjk5LjAwIDYyMS42MyBsCm8KOTAuNjAgMjEyLjM3ICgwLjAp
IDAuNTAgMC4wMCA5MC4wMCB0CjkwLjYwIDI5NC4yMiAoMC4yKSAwLjUwIDAu
MDAgOTAuMDAgdAo5MC42MCAzNzYuMDcgKDAuNCkgMC41MCAwLjAwIDkwLjAw
IHQKOTAuNjAgNDU3LjkzICgwLjYpIDAuNTAgMC4wMCA5MC4wMCB0CjkwLjYw
IDUzOS43OCAoMC44KSAwLjUwIDAuMDAgOTAuMDAgdAo5MC42MCA2MjEuNjMg
KDEuMCkgMC41MCAwLjAwIDkwLjAwIHQKW10gMCBzZXRkYXNoCjAuNzUgc2V0
bGluZXdpZHRoCm5wCjU0OC4wMCAxOTYuMDAgbQo1NDguMDAgNjM4LjAwIGwK
MTA2LjAwIDYzOC4wMCBsCjEwNi4wMCAxOTYuMDAgbApjcCBvCjMyNy4wMCAx
NDEuNDAgKENvbnRyYXN0KSAwLjUwIDAuMDAgMC4wMCB0CjYyLjYwIDQxNy4w
MCAoUHJvcG9ydGlvbiBvZiBzZXR0aW5ncyBvciAneWVzJyBqdWRnZW1lbnRz
KSAwLjUwIDAuMDAgOTAuMDAgdAoxMDYuMDAgMTk2LjAwIDU0OC4wMCA2Mzgu
MDAgY2wKW10gMCBzZXRkYXNoCjAuNzUgc2V0bGluZXdpZHRoCm5wCjEyMi4z
NyAyMzMuNDYgbQoxMjYuMDkgMjM2LjQwIGwKMTI5LjgyIDIzOS42NyBsCjEz
My41NCAyNDMuMjcgbAoxMzcuMjYgMjQ3LjIyIGwKMTQwLjk5IDI1MS41NCBs
CjE0NC43MSAyNTYuMjQgbAoxNDguNDMgMjYxLjMzIGwKMTUyLjE1IDI2Ni44
MiBsCjE1NS44OCAyNzIuNzMgbAoxNTkuNjAgMjc5LjA1IGwKMTYzLjMyIDI4
NS43OCBsCjE2Ny4wNSAyOTIuOTMgbAoxNzAuNzcgMzAwLjQ4IGwKMTc0LjQ5
IDMwOC40MyBsCjE3OC4yMiAzMTYuNzYgbAoxODEuOTQgMzI1LjQ1IGwKMTg1
LjY2IDMzNC40OCBsCjE4OS4zOCAzNDMuODMgbAoxOTMuMTEgMzUzLjQ2IGwK
MTk2LjgzIDM2My4zNSBsCjIwMC41NSAzNzMuNDUgbAoyMDQuMjggMzgzLjcz
IGwKMjA4LjAwIDM5NC4xNSBsCjIxMS43MiA0MDQuNjYgbAoyMTUuNDUgNDE1
LjIyIGwKMjE5LjE3IDQyNS43OSBsCjIyMi44OSA0MzYuMzMgbAoyMjYuNjIg
NDQ2Ljc4IGwKMjMwLjM0IDQ1Ny4xMSBsCjIzNC4wNiA0NjcuMjggbAoyMzcu
NzggNDc3LjI0IGwKMjQxLjUxIDQ4Ni45NiBsCjI0NS4yMyA0OTYuNDEgbAoy
NDguOTUgNTA1LjU1IGwKMjUyLjY4IDUxNC4zNiBsCjI1Ni40MCA1MjIuODEg
bAoyNjAuMTIgNTMwLjg5IGwKMjYzLjg1IDUzOC41OCBsCjI2Ny41NyA1NDUu
ODYgbAoyNzEuMjkgNTUyLjczIGwKMjc1LjAxIDU1OS4xOSBsCjI3OC43NCA1
NjUuMjQgbAoyODIuNDYgNTcwLjg3IGwKMjg2LjE4IDU3Ni4wOSBsCjI4OS45
MSA1ODAuOTIgbAoyOTMuNjMgNTg1LjM3IGwKMjk3LjM1IDU4OS40NCBsCjMw
MS4wOCA1OTMuMTUgbAozMDQuODAgNTk2LjUzIGwKMzA4LjUyIDU5OS41OSBs
CjMxMi4yNSA2MDIuMzQgbAozMTUuOTcgNjA0LjgxIGwKMzE5LjY5IDYwNy4w
MiBsCjMyMy40MSA2MDguOTggbAozMjcuMTQgNjEwLjcyIGwKMzMwLjg2IDYx
Mi4yNiBsCjMzNC41OCA2MTMuNjEgbAozMzguMzEgNjE0Ljc5IGwKMzQyLjAz
IDYxNS44MSBsCjM0NS43NSA2MTYuNzEgbAozNDkuNDggNjE3LjQ4IGwKMzUz
LjIwIDYxOC4xNCBsCm8KNDU3LjA3IDI1My4zMCAoMC41IGMvZGVnKSAwLjUw
IDAuMzMgMC4wMCB0Cm5wCiAgMTg4LjAwIDIxNC4xOSBtCiAgMTkzLjAwIDIx
OS4xOSBsCiAgMTg4LjAwIDIyNC4yMCBsCiAgMTgyLjk5IDIxOS4xOSBsCmNw
IGYKbnAKICAyNTYuMTYgMjIxLjAxIG0KICAyNjEuMTYgMjI2LjAxIGwKICAy
NTYuMTYgMjMxLjAyIGwKICAyNTEuMTYgMjI2LjAxIGwKY3AgZgpucAogIDI1
Ny45MSAyMjcuODMgbQogIDI2Mi45MiAyMzIuODMgbAogIDI1Ny45MSAyMzcu
ODQgbAogIDI1Mi45MSAyMzIuODMgbApjcCBmCm5wCiAgMjY2LjQ4IDIzNC42
NSBtCiAgMjcxLjQ4IDIzOS42NSBsCiAgMjY2LjQ4IDI0NC42NiBsCiAgMjYx
LjQ4IDIzOS42NSBsCmNwIGYKbnAKICAyOTUuOTAgMjQxLjQ3IG0KICAzMDAu
OTAgMjQ2LjQ4IGwKICAyOTUuOTAgMjUxLjQ4IGwKICAyOTAuODkgMjQ2LjQ4
IGwKY3AgZgpucAogIDI5OC4xOSAyNDguMjkgbQogIDMwMy4xOSAyNTMuMzAg
bAogIDI5OC4xOSAyNTguMzAgbAogIDI5My4xOCAyNTMuMzAgbApjcCBmCm5w
CiAgMzAzLjg1IDI1NS4xMSBtCiAgMzA4Ljg2IDI2MC4xMiBsCiAgMzAzLjg1
IDI2NS4xMiBsCiAgMjk4Ljg1IDI2MC4xMiBsCmNwIGYKbnAKICAzMDUuMzcg
MjYxLjkzIG0KICAzMTAuMzcgMjY2Ljk0IGwKICAzMDUuMzcgMjcxLjk0IGwK
ICAzMDAuMzYgMjY2Ljk0IGwKY3AgZgpucAogIDMxNi43NSAyNjguNzYgbQog
IDMyMS43NSAyNzMuNzYgbAogIDMxNi43NSAyNzguNzYgbAogIDMxMS43NCAy
NzMuNzYgbApjcCBmCm5wCiAgMzE5LjQxIDI3NS41OCBtCiAgMzI0LjQxIDI4
MC41OCBsCiAgMzE5LjQxIDI4NS41OCBsCiAgMzE0LjQxIDI4MC41OCBsCmNw
IGYKbnAKICAzMjEuMTcgMjgyLjQwIG0KICAzMjYuMTggMjg3LjQwIGwKICAz
MjEuMTcgMjkyLjQxIGwKICAzMTYuMTcgMjg3LjQwIGwKY3AgZgpucAogIDMy
NS42MCAyODkuMjIgbQogIDMzMC42MCAyOTQuMjIgbAogIDMyNS42MCAyOTku
MjMgbAogIDMyMC42MCAyOTQuMjIgbApjcCBmCm5wCiAgMzI5Ljk3IDI5Ni4w
NCBtCiAgMzM0Ljk3IDMwMS4wNCBsCiAgMzI5Ljk3IDMwNi4wNSBsCiAgMzI0
Ljk2IDMwMS4wNCBsCmNwIGYKbnAKICAzNDYuODYgMzAyLjg2IG0KICAzNTEu
ODcgMzA3Ljg2IGwKICAzNDYuODYgMzEyLjg3IGwKICAzNDEuODYgMzA3Ljg2
IGwKY3AgZgpucAogIDM0OC45NyAzMDkuNjggbQogIDM1My45NyAzMTQuNjkg
bAogIDM0OC45NyAzMTkuNjkgbAogIDM0My45NyAzMTQuNjkgbApjcCBmCm5w
CiAgMzUwLjgzIDMxNi41MCBtCiAgMzU1LjgzIDMyMS41MSBsCiAgMzUwLjgz
IDMyNi41MSBsCiAgMzQ1LjgyIDMyMS41MSBsCmNwIGYKbnAKICAzNTMuNjMg
MzIzLjMyIG0KICAzNTguNjQgMzI4LjMzIGwKICAzNTMuNjMgMzMzLjMzIGwK
ICAzNDguNjMgMzI4LjMzIGwKY3AgZgpucAogIDM1NC42NSAzMzAuMTQgbQog
IDM1OS42NiAzMzUuMTUgbAogIDM1NC42NSAzNDAuMTUgbAogIDM0OS42NSAz
MzUuMTUgbApjcCBmCm5wCiAgMzU1LjE3IDMzNi45NyBtCiAgMzYwLjE4IDM0
MS45NyBsCiAgMzU1LjE3IDM0Ni45NyBsCiAgMzUwLjE3IDM0MS45NyBsCmNw
IGYKbnAKICAzNTcuMDMgMzQzLjc5IG0KICAzNjIuMDMgMzQ4Ljc5IGwKICAz
NTcuMDMgMzUzLjc5IGwKICAzNTIuMDMgMzQ4Ljc5IGwKY3AgZgpucAogIDM2
MS4zMiAzNTAuNjEgbQogIDM2Ni4zMiAzNTUuNjEgbAogIDM2MS4zMiAzNjAu
NjIgbAogIDM1Ni4zMSAzNTUuNjEgbApjcCBmCm5wCiAgMzYyLjU0IDM1Ny40
MyBtCiAgMzY3LjU1IDM2Mi40MyBsCiAgMzYyLjU0IDM2Ny40NCBsCiAgMzU3
LjU0IDM2Mi40MyBsCmNwIGYKbnAKICAzNjMuMDcgMzY0LjI1IG0KICAzNjgu
MDcgMzY5LjI1IGwKICAzNjMuMDcgMzc0LjI2IGwKICAzNTguMDcgMzY5LjI1
IGwKY3AgZgpucAogIDM2My41NSAzNzEuMDcgbQogIDM2OC41NSAzNzYuMDcg
bAogIDM2My41NSAzODEuMDggbAogIDM1OC41NCAzNzYuMDcgbApjcCBmCm5w
CiAgMzY2LjE4IDM3Ny44OSBtCiAgMzcxLjE5IDM4Mi45MCBsCiAgMzY2LjE4
IDM4Ny45MCBsCiAgMzYxLjE4IDM4Mi45MCBsCmNwIGYKbnAKICAzNzAuNTMg
Mzg0LjcxIG0KICAzNzUuNTMgMzg5LjcyIGwKICAzNzAuNTMgMzk0LjcyIGwK
ICAzNjUuNTIgMzg5LjcyIGwKY3AgZgpucAogIDM3MS4xNCAzOTEuNTMgbQog
IDM3Ni4xNCAzOTYuNTQgbAogIDM3MS4xNCA0MDEuNTQgbAogIDM2Ni4xMyAz
OTYuNTQgbApjcCBmCm5wCiAgMzcxLjUxIDM5OC4zNSBtCiAgMzc2LjUxIDQw
My4zNiBsCiAgMzcxLjUxIDQwOC4zNiBsCiAgMzY2LjUwIDQwMy4zNiBsCmNw
IGYKbnAKICAzNzMuNzcgNDA1LjE4IG0KICAzNzguNzggNDEwLjE4IGwKICAz
NzMuNzcgNDE1LjE4IGwKICAzNjguNzcgNDEwLjE4IGwKY3AgZgpucAogIDM3
Ni4yNyA0MTIuMDAgbQogIDM4MS4yNyA0MTcuMDAgbAogIDM3Ni4yNyA0MjIu
MDAgbAogIDM3MS4yNiA0MTcuMDAgbApjcCBmCm5wCiAgMzc4LjM3IDQxOC44
MiBtCiAgMzgzLjM3IDQyMy44MiBsCiAgMzc4LjM3IDQyOC44MiBsCiAgMzcz
LjM2IDQyMy44MiBsCmNwIGYKbnAKICAzNzkuNzQgNDI1LjY0IG0KICAzODQu
NzUgNDMwLjY0IGwKICAzNzkuNzQgNDM1LjY1IGwKICAzNzQuNzQgNDMwLjY0
IGwKY3AgZgpucAogIDM4MS4xMCA0MzIuNDYgbQogIDM4Ni4xMCA0MzcuNDYg
bAogIDM4MS4xMCA0NDIuNDcgbAogIDM3Ni4xMCA0MzcuNDYgbApjcCBmCm5w
CiAgMzgyLjI0IDQzOS4yOCBtCiAgMzg3LjI0IDQ0NC4yOCBsCiAgMzgyLjI0
IDQ0OS4yOSBsCiAgMzc3LjIzIDQ0NC4yOCBsCmNwIGYKbnAKICAzODQuNTQg
NDQ2LjEwIG0KICAzODkuNTQgNDUxLjEwIGwKICAzODQuNTQgNDU2LjExIGwK
ICAzNzkuNTQgNDUxLjEwIGwKY3AgZgpucAogIDM4OC4xMiA0NTIuOTIgbQog
IDM5My4xMiA0NTcuOTMgbAogIDM4OC4xMiA0NjIuOTMgbAogIDM4My4xMSA0
NTcuOTMgbApjcCBmCm5wCiAgMzkzLjUyIDQ1OS43NCBtCiAgMzk4LjUzIDQ2
NC43NSBsCiAgMzkzLjUyIDQ2OS43NSBsCiAgMzg4LjUyIDQ2NC43NSBsCmNw
IGYKbnAKICAzOTkuODUgNDY2LjU2IG0KICA0MDQuODYgNDcxLjU3IGwKICAz
OTkuODUgNDc2LjU3IGwKICAzOTQuODUgNDcxLjU3IGwKY3AgZgpucAogIDQw
Mi4wMiA0NzMuMzggbQogIDQwNy4wMiA0NzguMzkgbAogIDQwMi4wMiA0ODMu
MzkgbAogIDM5Ny4wMSA0NzguMzkgbApjcCBmCm5wCiAgNDAzLjU3IDQ4MC4y
MSBtCiAgNDA4LjU4IDQ4NS4yMSBsCiAgNDAzLjU3IDQ5MC4yMSBsCiAgMzk4
LjU3IDQ4NS4yMSBsCmNwIGYKbnAKICA0MDkuMTkgNDg3LjAzIG0KICA0MTQu
MTkgNDkyLjAzIGwKICA0MDkuMTkgNDk3LjAzIGwKICA0MDQuMTkgNDkyLjAz
IGwKY3AgZgpucAogIDQxMS4yMiA0OTMuODUgbQogIDQxNi4yMyA0OTguODUg
bAogIDQxMS4yMiA1MDMuODYgbAogIDQwNi4yMiA0OTguODUgbApjcCBmCm5w
CiAgNDExLjc0IDUwMC42NyBtCiAgNDE2Ljc1IDUwNS42NyBsCiAgNDExLjc0
IDUxMC42OCBsCiAgNDA2Ljc0IDUwNS42NyBsCmNwIGYKbnAKICA0MTIuNTQg
NTA3LjQ5IG0KICA0MTcuNTQgNTEyLjQ5IGwKICA0MTIuNTQgNTE3LjUwIGwK
ICA0MDcuNTQgNTEyLjQ5IGwKY3AgZgpucAogIDQxMi42NyA1MTQuMzEgbQog
IDQxNy42OCA1MTkuMzEgbAogIDQxMi42NyA1MjQuMzIgbAogIDQwNy42NyA1
MTkuMzEgbApjcCBmCm5wCiAgNDEzLjIzIDUyMS4xMyBtCiAgNDE4LjIzIDUy
Ni4xNCBsCiAgNDEzLjIzIDUzMS4xNCBsCiAgNDA4LjIyIDUyNi4xNCBsCmNw
IGYKbnAKICA0MTUuOTYgNTI3Ljk1IG0KICA0MjAuOTYgNTMyLjk2IGwKICA0
MTUuOTYgNTM3Ljk2IGwKICA0MTAuOTUgNTMyLjk2IGwKY3AgZgpucAogIDQy
MS4zMCA1MzQuNzcgbQogIDQyNi4zMSA1MzkuNzggbAogIDQyMS4zMCA1NDQu
NzggbAogIDQxNi4zMCA1MzkuNzggbApjcCBmCm5wCiAgNDIzLjU2IDU0MS41
OSBtCiAgNDI4LjU2IDU0Ni42MCBsCiAgNDIzLjU2IDU1MS42MCBsCiAgNDE4
LjU1IDU0Ni42MCBsCmNwIGYKbnAKICA0MzAuNzAgNTQ4LjQyIG0KICA0MzUu
NzEgNTUzLjQyIGwKICA0MzAuNzAgNTU4LjQyIGwKICA0MjUuNzAgNTUzLjQy
IGwKY3AgZgpucAogIDQ0OC45NCA1NTUuMjQgbQogIDQ1My45NCA1NjAuMjQg
bAogIDQ0OC45NCA1NjUuMjQgbAogIDQ0My45MyA1NjAuMjQgbApjcCBmCm5w
CiAgNDQ5Ljc4IDU2Mi4wNiBtCiAgNDU0Ljc4IDU2Ny4wNiBsCiAgNDQ5Ljc4
IDU3Mi4wNyBsCiAgNDQ0Ljc3IDU2Ny4wNiBsCmNwIGYKbnAKICA0NTguOTUg
NTY4Ljg4IG0KICA0NjMuOTYgNTczLjg4IGwKICA0NTguOTUgNTc4Ljg5IGwK
ICA0NTMuOTUgNTczLjg4IGwKY3AgZgpucAogIDQ2MS45OSA1NzUuNzAgbQog
IDQ2Ny4wMCA1ODAuNzAgbAogIDQ2MS45OSA1ODUuNzEgbAogIDQ1Ni45OSA1
ODAuNzAgbApjcCBmCm5wCiAgNDYzLjA1IDU4Mi41MiBtCiAgNDY4LjA1IDU4
Ny41MiBsCiAgNDYzLjA1IDU5Mi41MyBsCiAgNDU4LjA0IDU4Ny41MiBsCmNw
IGYKbnAKICA0NjcuNzcgNTg5LjM0IG0KICA0NzIuNzcgNTk0LjM1IGwKICA0
NjcuNzcgNTk5LjM1IGwKICA0NjIuNzYgNTk0LjM1IGwKY3AgZgpucAogIDQ4
My42MyA1OTYuMTYgbQogIDQ4OC42MyA2MDEuMTcgbAogIDQ4My42MyA2MDYu
MTcgbAogIDQ3OC42MiA2MDEuMTcgbApjcCBmCm5wCiAgNDg0LjIyIDYwMi45
OCBtCiAgNDg5LjIzIDYwNy45OSBsCiAgNDg0LjIyIDYxMi45OSBsCiAgNDc5
LjIyIDYwNy45OSBsCmNwIGYKbnAKICA0OTYuNTMgNjA5LjgwIG0KICA1MDEu
NTMgNjE0LjgxIGwKICA0OTYuNTMgNjE5LjgxIGwKICA0OTEuNTIgNjE0Ljgx
IGwKY3AgZgpucAogIDUzMS42MyA2MTYuNjMgbQogIDUzNi42MyA2MjEuNjMg
bAogIDUzMS42MyA2MjYuNjMgbAogIDUyNi42MyA2MjEuNjMgbApjcCBmCmVw
CiUlVHJhaWxlcgolJVBhZ2VzOiAxCiUlRU9GCg==
--0-654592387-904771374=:23132--
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Sep  3 07:04:56 1998
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 3 Sep 1998 07:04:56 +0100 (BST)
Subject: INSTALL
In-Reply-To: <x267f62owo.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.3.96.980903064303.17366A-100000@localhost>

On 2 Sep 1998, Peter Dalgaard BSA wrote:

> Bill Simpson <wsimpson@uwinnipeg.ca> writes:
> 
> > I just installed R 0.62.3 and it seems to me  the INSTALL document is out
> > of date.  Now it seems it does it all "automatically", so the part in the
> > doc below can be deleted:
> > --------------------------------
> > INSTALLATION
> > 
> > After
> >         ./configure
> >         make
> > have been completed successfully, you can install the complete R tree
> > to your system by typing
> 
> Weeelll... Some people like to do the individual steps. In particular,
> if you're short of disk space, you could do
> 
> ./configure
> make R
> make help
> 
> and have a fairly minimal working system. 
> 
> Getting make to do the configure bit automagically is a bit of a hack
> and if you need to modify the configure, you do it by adding arguments
> to ./configure. So all in all, it's probably best to leave the
> two-step version in (but of course, one might start off with a note
> saying "On most systems, just type 'make'")

In particular if you are installing to a location other than /usr/local
you do need --prefix, and so have to run configure separately. (And
if you run pre-release or devel versions, you probably do want to install
elsewhere.)

What I would like the file to include is the information that you can
run without installing from the place you compiled, even after make clean.
That is a link of  /place/I/unpacked/bin/R to somewhere in your path
is all you need. And that does save disk space since during the install you
need two copies.  My installation procedure is

	./configure --prefix=...
	make
	/place/I/unpacked/bin/R   # check it runs
	make clean
	make install

As pedantry:

> Now type R and reach for your S manuals ...

on most (all) shells you will need to rehash, and in fact the default place
to install is not in the default path on Solaris (and I suspect most
non-gnu) systems.  But, would not a comment to read the R FAQ be useful? 


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tuffery@bach.urbb.jussieu.fr  Thu Sep  3 09:56:06 1998
From: tuffery@bach.urbb.jussieu.fr (Pierre TUFFERY)
Date: Thu, 3 Sep 1998 10:56:06 +0200 (CEST)
Subject: R on Linux/Alpha ?
Message-ID: <199809030856.KAA06386@aureil.urbb.jussieu.fr>

Hi,
As a newcommer to R, I tried to install R on my Alpha 164LX PC
(running Linux), but it coredumps before performing anything.
(a common problem when porting to Alpha 164LX).
Has anybody any information and solution to this ?
-- 
Email: tuffery@urbb.jussieu.fr 
Tel  : (33 1) 44.27.77.33     

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Sep  3 10:15:33 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 03 Sep 1998 11:15:33 +0200
Subject: R on Linux/Alpha ?
In-Reply-To: tuffery@bach.urbb.jussieu.fr's message of Thu, 3 Sep 1998 10:56:06 +0200 (CEST)
References: <199809030856.KAA06386@aureil.urbb.jussieu.fr>
Message-ID: <x2af4h4kwa.fsf@blueberry.kubism.ku.dk>

tuffery@bach.urbb.jussieu.fr (Pierre TUFFERY) writes:

> Hi,
> As a newcommer to R, I tried to install R on my Alpha 164LX PC
> (running Linux), but it coredumps before performing anything.
> (a common problem when porting to Alpha 164LX).
> Has anybody any information and solution to this ?

Linux version?
R version?

It has been reported to work, in some configurations at least.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From nassar@etymon.com  Thu Sep  3 11:59:50 1998
From: nassar@etymon.com (Nassib Nassar)
Date: Thu, 3 Sep 1998 06:59:50 -0400
Subject: R on Linux/Alpha ?
In-Reply-To: <199809030856.KAA06386@aureil.urbb.jussieu.fr>
References: <199809030856.KAA06386@aureil.urbb.jussieu.fr>
Message-ID: <19980903065950.A495@etymon.com>

You might try compiling it with CFLAGS="-mieee -g -O1" (when you run
configure).  This worked for 0.62.2 on my Alpha running Linux.

Nassib



On Thu, Sep 03, 1998 at 10:56:06AM +0200, Pierre TUFFERY wrote:
> Hi,
> As a newcommer to R, I tried to install R on my Alpha 164LX PC
> (running Linux), but it coredumps before performing anything.
> (a common problem when porting to Alpha 164LX).
> Has anybody any information and solution to this ?
> -- 
> Email: tuffery@urbb.jussieu.fr 
> Tel  : (33 1) 44.27.77.33     
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Sep  3 16:19:03 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 3 Sep 1998 17:19:03 +0200
Subject: {g}lm coefficients labeling etc. [was "R0.62.3 problems"]
In-Reply-To: <199809030936.LAA08902@alpha.luc.ac.be> (message from Jim Lindsey
 on Thu, 3 Sep 1998 11:36:48 +0200 (MET DST))
Message-ID: <199809031519.RAA13698@sophie.ethz.ch>


	[I think it would make more sense to use  R-devel instead of R-help
	 for discussions like these, that's why ...]

>>>>> "Jim" == Jim Lindsey <jlindsey@alpha.luc.ac.be> writes:

    Jim> First, I did not install R0.62.2 and there was no problem with
    Jim> binary factor variables in 0.62.1. I discovered the problem since
    Jim> .3 appeared.
Yes. 
and I agree 100% with Brian's remark that we probably should have started
discussing these things on R-devel rather than private E-mails + R-core...
Excuse us!

    Jim> My Liege undergraduate social science students have a somewhat
    Jim> different conception of contrasts than Brian's Oxford math
    Jim> students.  As it stands, the output of glm for binary factor
    Jim> variables is unusable for them.

Thank you Jim, for your complete example session -- including data !
As a remark to everyone:  I think you will get much better feedback if you
use such complete examples...

    Jim> .........
    Jim> ......... examples and thoughts...
    Jim> .........

    Jim> The need to put the label on x in the interaction in the second
    Jim> glm output clearly demonstrates that Brian is wrong.
    Jim> So put it on all the time.

    Jim> The idea is maximum transparency, not maximum
    Jim> opaqueness.  Otherwise, let's also stop showing the levels when a
    Jim> factor variable is printed out: S-Plus (apparently) does not do
    Jim> it, so it must be useless to show them. ;-)

good point.
However, this is only a print.xx method whereas with the coefficients'
names/labels, we are talking about the structure returned by [g]lm(.).

There *are* good reasons to be S-compatible
	   --- with some carefully discussed exceptions.

I for myself had rather kept more of the non-compatibilities of R;
{{ factor(..) ! }} but I wasn't among those doing the port of packages 
from S-plus to R...

By the way: For "poly"-contrasted factors, we are already slightly
S-incompatible, since S isn't compatible with itself!

S> dimnames(contr.poly(11))
[[1]]:
character(0)

[[2]]:
 [1] ".L"    ".Q"    ".C"    " ^ 4"  " ^ 5"  " ^ 6"  " ^ 7"  " ^ 8"  " ^ 9" 
[10] " ^ 10"

S> dimnames(contr.poly(12))
[[1]]:
 [1] "1"  "2"  "3"  "4"  "5"  "6"  "7"  "8"  "9"  "10" "11" "12"

[[2]]:
 [1] "^1"  "^2"  "^3"  "^4"  "^5"  "^6"  "^7"  "^8"  "^9"  "^10" "^11"

---------------------------------------- and we have
R> dimnames(contr.poly(12))
[[1]]
NULL

[[2]]
 [1] ".L"  ".Q"  ".C"  "^4"  "^5"  "^6"  "^7"  "^8"  "^9"  "^10" "^11"

and the consistent behavior for n=11 (or any other n).


((( thus showing yet another (unnecessary?) incompatibility:
   
    we have "NULL"   where  S has "character(0)"
)))

    Jim> By the way, my suggestion sometime ago that contrasts should be
    Jim> printed out is only half implemented: they appear with print.glm
    Jim> but not with summary.glm.

hmm, they *were* in 0.62.2 (put in by me, upon your suggestion!)
the version which you missed unfortunately.

The reason is -- as Brian mentioned -- a change of the contrasts attribute
of lm(.) and glm(.) objects.
and I hadn't found the time to re-add some "global contrasts: ...."
line to print.summary.[g]lm(..).  
May still be a good idea; however, a related one is the following:

What I have been thinking about since,
is an idea to add 
 1) a 1-letter code column, with  
	 "D" or "c"  for "Discrete" (factor) or "continuuous"
    ("D" or "c": again thinking about ascii Graphics: the 2 letters should
    be  *visually* easily discernible.. they *are* for human eyes...
 2) Another Column which
	-- only for the "D" ones --
    has another  n-letter code indicating which contrasts were active;
    something like
	"Trt" "Sum" "Hlrt" "Poly" "###"
    (where "###" stands for ``other''/``self-defined''
     and contains the infinite other possibilities as indicated by BDR).

to each row of the coef matrix as produced by print.summary.[g]lm.

----
This still does not solve all the problems you mentioned in your example;
at the moment (where I haven't investigated more) I tend to agree with
your statement above ``So put it on all the time.''

    Jim> As to the significance stars, I obviously immediately shut them
    Jim> off on my site Rprofile, but that is on my portable. And they will
    Jim> be on our teaching server as well. My concern is rather with the
    Jim> image of R: is it to be modern, or 1950s statistics? Must I tell
    Jim> my students not to download R from the Web because it will do
    Jim> weird things (inconsistent labels on factor variables, strange
    Jim> stars appearing, ...) but only to use the copy I give them? So
    Jim> let's set the default option to FALSE.

I have the impression that you never got my point here..
It *is* the nineties, and the 'stars'  
are a ``GRAPHICAL'' encoding of P-values, not more, not less.

We have been using them in *real* data analysis (as opposed to teaching
exercises) for five or more years now.
If you fit many models with dozens of coefficients each,
the *graphical* clues *are* valuable, believe it or not.

[[I've learned before the nineties that ascii output
  can also be considered as some sort of graphics and that
  it matters how (and with which precision,...)
  you print numbers,  tables and such...

  Maybe the really old-fashioned thing is that we still use ASCII output
  quite a bit;  however, a lot of us realize that it has the big advantage
  that is *portable* and *archivable* ...
  are you sure that in 15 years you will be able to easily display/print
  the GIFs you create today?
]]

I see that there's a good reason not to have (doubtful) P values at all;
That's why vanilla S (as opposed to S-plus) never had P values in
print.summary.lm(.)
However, I think (pro statisticians and social scientists) will want them
often enough.

Back to the ``graphical P values''  
((I should never have accepted the name "significance stars"!)):

I've been thinking of new default,
neither TRUE nor FALSE, which would not draw them when either
	- there's only 1 or 2 coefficients
	- all P-values would be drawn as "***"
	- all P-values would be drawn as " "
		(which is already an empty drawing now, but
		 would also drop the corresponding ``legend'')

And -- in any case--
I don't think it would be so hard to tell your students to set a few
options(..) in their profile or before they start an analysis.

We will have more options in the future, and some will be good for
teaching, others will be preferable for data analysis,
others for ``number crunching'', etc.


    Jim> If anyone is interested in implementing profile likelihood
    Jim> intervals, there are far simpler and faster numerical methods than
    Jim> Brian's splines. Personally, I prefer plotting the whole profile
    Jim> curve. With glm, this is quick and easy for the linear parameters
    Jim> (but not the scale) using an offset. Most but not all of my
    Jim> library functions allow it to be done simply as well. But such
    Jim> curves do not provide the needed replacement printout instead of
    Jim> standard errors for non-normal models ...

To allow a different more sensible output with print.summary...(.)
in these cases could be another options() setting I think.
The default could then depend on ``n'' and ``p'' where for small models you
would want to afford the much extra computation and for large n*p you'd
rather have a quick output with  summary(.).

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From wsimpson@uwinnipeg.ca  Thu Sep  3 16:57:41 1998
From: wsimpson@uwinnipeg.ca (Bill Simpson)
Date: Thu, 3 Sep 1998 10:57:41 -0500 (CDT)
Subject: ppoints
Message-ID: <Pine.OSF.3.95.980903105649.11084A-100000@io.uwinnipeg.ca>

When I look at ppoints I see:

ppoints<-function (x) 
{
n <- length(x)
if (n == 1) 
	n <- x
(1:n - 0.5)/n
}

However Venables & Ripley (2nd ed, p 165) say ppoints() should return
(i-1/2)/n for n>=11; (i-3/8)/(n+1/4) for n<=10.

The version below should work as described:

ppoints<-function (x) 
{
n <- length(x)
if (n <= 10)
	(1:n - 0.375)/(n + 0.25) 
else
	(1:n - 0.5)/n
}

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Sep  3 17:29:06 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 3 Sep 1998 18:29:06 +0200
Subject: ppoints
In-Reply-To: <Pine.OSF.3.95.980903105649.11084A-100000@io.uwinnipeg.ca>
 (message from Bill Simpson on Thu, 3 Sep 1998 10:57:41 -0500 (CDT))
Message-ID: <199809031629.SAA13963@sophie.ethz.ch>

Thank you, Bill, for raising this point!

>>>>> "Bill" == Bill Simpson <wsimpson@uwinnipeg.ca> writes:

    Bill> When I look at ppoints I see:

    Bill> ppoints<-function (x) 
    Bill> {
    Bill> n <- length(x)
    Bill> if (n == 1) 
    Bill> n <- x
    Bill> (1:n - 0.5)/n
    Bill> }

    Bill> However Venables & Ripley (2nd ed, p 165) say ppoints() should return
    Bill> (i-1/2)/n for n>=11; (i-3/8)/(n+1/4) for n<=10.

    Bill> The version below should work as described:

    Bill> ppoints<-function (x) 
    Bill> {
    Bill> n <- length(x)
    Bill> if (n <= 10)
    Bill> (1:n - 0.375)/(n + 0.25) 
    Bill> else
    Bill> (1:n - 0.5)/n
    Bill> }

However, if changing ppoints(.) for compatibility
we should do it properly.

e.g., the case
	ppoints(10)

should give the same as

	ppoints(1:10).

Also,  S has the much nicer extra argument  'a'  with the default

	if(is.null(a))
		a <- if(n > 10) 0.5 else 0.375

which leads to the behavior you cite below.

Maybe the S authors would forgive us we just used S' version ppoints()?
(it's S, not S-plus!)

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Sep  3 18:09:18 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 03 Sep 1998 19:09:18 +0200
Subject: ppoints
In-Reply-To: Martin Maechler's message of Thu, 3 Sep 1998 18:29:06 +0200
References: <199809031629.SAA13963@sophie.ethz.ch>
Message-ID: <x23ea93yyp.fsf@blueberry.kubism.ku.dk>

Martin Maechler <maechler@stat.math.ethz.ch> writes:

> Also,  S has the much nicer extra argument  'a'  with the default
> 
> 	if(is.null(a))
> 		a <- if(n > 10) 0.5 else 0.375
> 
> which leads to the behavior you cite below.
> 
> Maybe the S authors would forgive us we just used S' version ppoints()?
> (it's S, not S-plus!)

It's one of those things that are difficult to write in more than one
way... 

Reminds me: Is there any good reason why qqnorm is not using ppoints?? 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Prof Brian Ripley <ripley@stats.ox.ac.uk>  Thu Sep  3 18:05:43 1998
From: Prof Brian Ripley <ripley@stats.ox.ac.uk> (Prof Brian Ripley)
Date: Thu, 3 Sep 1998 18:05:43 +0100 (BST)
Subject: ppoints
Message-ID: <199809031705.SAA06438@toucan.stats.ox.ac.uk>


> Date: Thu, 3 Sep 1998 18:29:06 +0200
> From: Martin Maechler <maechler@stat.math.ethz.ch>
> To: Bill Simpson <wsimpson@uwinnipeg.ca>
> CC: R-devel@stat.math.ethz.ch
> Subject: Re: ppoints
> 
> Thank you, Bill, for raising this point!
> 
> However, if changing ppoints(.) for compatibility
> we should do it properly.
> 
> e.g., the case
> 	ppoints(10)
> 
> should give the same as
> 
> 	ppoints(1:10).
> 
> Also,  S has the much nicer extra argument  'a'  with the default
> 
> 	if(is.null(a))
> 		a <- if(n > 10) 0.5 else 0.375
> 
> which leads to the behavior you cite below.
> 
> Maybe the S authors would forgive us we just used S' version ppoints()?
> (it's S, not S-plus!)

I just sent privately:

ppoints <- function (n, a = ifelse(n <= 10, 3/8, 1/2)) 
{
  if(length(n) > 1) n <- length(n)
  if(!n) return(numeric(0))
  (1:n - a)/(n + (1-a) - a)
}

which is I believe fully compatible with S (except for the mode of the
length-0 result) and not the same code as S as I wrote it by reading
S's help page.  (I know you can simplify the denominator, but I am
trying to explain the formula.)


Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From holzer@stat.math.ethz.ch  Thu Sep  3 18:26:44 1998
From: holzer@stat.math.ethz.ch (Peter Holzer)
Date: Thu, 3 Sep 1998 19:26:44 +0200
Subject: a nasty error
Message-ID: <199809031726.TAA00634@aryness.ethz.ch>

Dear R-developers

The basic function seq doesn't work properly:

> seq(1,6,by=3)
[1] 1 4 7

Looking at the source code of seq.default I found that strange fuzz thing
"+ 0.4". Taking that away the seq works fine.

My question is: Why has this fuzz thing been added?

If it was for some rounding problems I would suggest to replace "0.4" by
something much smaller.

Peter
____________________________________________________________

Peter Holzer                      phone: + 41 1 632 46 34
Seminar fuer Statistik, SOL F7    fax:   + 41 1 632 10 86
(Sonneggstr. 33)                  <holzer@stat.math.ethz.ch>
ETH (Federal Inst. Technology)
8092 Zurich                       http://www.stat.math.ethz.ch/~holzer/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossetti@stud.unipg.it  Fri Sep  4 10:19:51 1998
From: rossetti@stud.unipg.it (Andrea Rossetti)
Date: Fri, 4 Sep 1998 11:19:51 +0200
Subject: Some link errors on the R for Windows documentation
Message-ID: <000001bdd7e9$5d3d6b60$f8878fc2@g1x7f9>

Hi,
excuse me but I don't know if this is the correct mailing list for this
message (but I thing yes).
In the rjune.zip there are some wrong link on the HTML documentation
(package area) and isn't  linked splines documentation (but it is present on
the zip file).
I've corrected these errors and re-zipped all.
Can I upload my work? If yes, how must I do this?

Andrea Rossetti.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Fri Sep  4 14:26:29 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Fri, 4 Sep 1998 15:26:29 +0200
Subject: a nasty error  --> patch to seq.R
In-Reply-To: <199809031726.TAA00634@aryness.ethz.ch> (message from Peter
 Holzer on Thu, 3 Sep 1998 19:26:44 +0200)
Message-ID: <199809041326.PAA04572@sophie.ethz.ch>


>>>>> "Peter" == Peter Holzer <holzer@stat.math.ethz.ch> writes:

    Peter> ... The basic function seq doesn't work properly:

    >> seq(1,6,by=3)
    Peter> [1] 1 4 7

    Peter> Looking at the source code of seq.default I found that strange
    Peter> fuzz thing "+ 0.4". Taking that away the seq works fine.

    Peter> My question is: Why has this fuzz thing been added?

    Peter> If it was for some rounding problems I would suggest to replace
    Peter> "0.4" by something much smaller.

This bug was introduced between 0.62.1 and 0.62.2  --
with the aim to fix another one.

After some thinking and some experimentation, I conclude that there is no
easy architecture-independent ``fudge constant'' that can be used here
instead of 0.4.  One needs to use a subsequent test.

Here is a patch that seems "robust" (and passes my tests):

--- ../R-0.62.3/src/library/base/R/seq.R	Tue Jun 16 14:32:08 1998
+++ src/library/base/R/seq.R	Fri Sep  4 15:23:11 1998
@@ -16,9 +16,11 @@
 		if(missing(by))
 			from:to
 		else {
-			n <- (to - from)/by + 0.4 # fuzz needed
+			n <- (to - from)/by
 			if(n < 0)
 				stop("Wrong sign in by= argument")
+                        n <- as.integer(n + 1e-10)
+                        if(n*by + from > to) n <- n - 1
 			from + (0:n) * by
 		}
 	else if(length.out < 0)


---
Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Fri Sep  4 16:00:55 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Fri, 4 Sep 1998 17:00:55 +0200
Subject: a nasty error  --> patch to seq.R
In-Reply-To: <199809041326.PAA04572@sophie.ethz.ch> (message from Martin
 Maechler on Fri, 4 Sep 1998 15:26:29 +0200)
Message-ID: <199809041500.RAA04739@sophie.ethz.ch>

The patch I sent about 100 minutes ago is *NOT* the solution, yet!

-- to be followed...
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Sat Sep  5 18:22:49 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Sat, 5 Sep 1998 19:22:49 +0200
Subject: a nasty error  --> patch to seq.R  [nr. 2]
In-Reply-To: <199809041500.RAA04739@sophie.ethz.ch> (message from Martin
 Maechler on Fri, 4 Sep 1998 17:00:55 +0200)
Message-ID: <199809051722.TAA04839@sophie.ethz.ch>


>>>>> "Peter" == Peter Holzer <holzer@stat.math.ethz.ch> writes:

    Peter> ... The basic function seq doesn't work properly:

    >> seq(1,6,by=3)
    Peter> [1] 1 4 7

    Peter> Looking at the source code of seq.default I found that strange
    Peter> fuzz thing "+ 0.4". Taking that away the seq works fine.

    Peter> My question is: Why has this fuzz thing been added?

because, otherwise, in some cases the sequence will be one element too
short..

    Peter> If it was for some rounding problems I would suggest to replace
    Peter> "0.4" by something much smaller.

yes;  and depending on other things (see patch at end).

Actually, I had to sit down write up where which rounding errors can occur
in   
     n <- as.integer( (to - from) / by )

E.g., major cancellation happens when to & from are almost the same.

Additionally, I wrote a private function

seq.check <- function(from,to,by, print.diag = TRUE)
{
  ## Purpose: check seq(from, to, by = ...)
  ## -----------------------------------------------------
  ## Arguments: from < to;  by > 0   [see ?seq ]
  ## -----------------------------------------------------
  ## Author: Martin Mächler, Date:  5 Sep 98, 12:08

  if(from >= to) stop("seq.check(.) requires  from < to")
  if(by <= 0)    stop("seq.check(.) requires  by > 0")

  n <- length(ss <- seq(from,to, by=by))
  m <- ss[n]
  res <- m <= to && to < m+by ##-- iff TRUE:  all is fine.
  if(print.diag) {
    if(res)
      cat(".")
    else # m > to "last >"   or     m+by <= to  "missed last"
      cat("\nfrom=",   formatC(from,   dig=6,wid=-10),
          ", to-from=",formatC(to-from,dig=6,wid=-10),
          " --> n=",    formatC(n,      wid=-4),": ",
          if(m+by <= to)"missed last" else "last > to",
          "; r.err=",
          formatC(abs((if(m+by <= from) m+by else m)-to)/to,
                  wid= 8, dig=4),
          sep="")
  }
  res
}

which revealed that even the version below can `very rarely' end up 
one value too short.
However, in that case, you have

	from +   n * by      > to   ==> TRUE,
but
	from + (n-1)*by + by > to   ==> FALSE

[an example of the famous fact the the associative law of addition is
 *NOT* guaranteed in computer arithmetic!]

which *is* rare.

One could argue that in that case, it would be preferable that the sequence
had one value more, one very slightly > to.

But I think, we rather want to guarantee

    seq(from, to, by) <= to	    if by > 0
    seq(from, to, by) >= to	    if by < 0

--------
Here, the patch promised.
The new seq.default(.) will be part of tomorrow's (or Monday's)
R-devel.tar.gz  snapshot.
[Actually a snapshot that seems pretty stable..]

--- R-0.62.3/src/library/base/R/seq.R	Tue Jun 16 14:32:08 1998
+++ R-0.63.0/src/library/base/R/seq.R	Sat Sep  5 18:06:03 1998
@@ -16,9 +17,25 @@
 		if(missing(by))
 			from:to
 		else {
-			n <- (to - from)/by + 0.4 # fuzz needed
-			if(n < 0)
+			n <- (del <- to - from)/by
+			if(is.na(n)) {
+				if(by == 0 && del == 0)
+					return(from)
+				else stop("invalid (to - from)/by in seq(.)")
+			} else if(abs(n) > .Machine$integer.max)
+				stop("'by' argument is much too small")
+			else if(n < 0)
 				stop("Wrong sign in by= argument")
+
+			eps <- .Machine$double.eps *
+				max(1, max(abs(to),abs(from)) / abs(del))
+			n <- as.integer(n * (1 + eps))
+			if(eps*2*n >= 1)
+				warning(paste("seq.default(f,t,by): n=",n,
+					      ": possibly imprecise intervals"))
+			if(by>0) while(from+ n*by > to) n <- n - 1
+			else	 while(from+ n*by < to) n <- n - 1
+
 			from + (0:n) * by
 		}
 	else if(length.out < 0)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Sep  9 08:32:45 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 9 Sep 1998 09:32:45 +0200
Subject: R help Web page
In-Reply-To: <199809081429.PAA18743@hannan.statistics.bristol.ac.uk> (message
 from Guy Nason on Tue, 8 Sep 1998 15:29:17 +0100 (BST))
Message-ID: <199809090732.JAA10651@sophie.ethz.ch>

	[CC'ed to R-devel, since it should be of interest to more ..]

>>>>> "Guy" == Guy Nason <G.P.Nason@Bristol.ac.uk> writes:

    Guy> Dear Martin, Hope you are well. I am trying to start to get my
    Guy> [new] WaveThresh package working for R.

Great, thank you!

Can you make sure that your Examples (.EX in S syntax; \examples{..} in *.Rd)
are directly executable?
I.e.,
	1) no leading  ">"
	2) If you show output, precede it by "#"
	3) Use data() datasets or rnorm(.),..etc to construct data,
	   not just 'x','y' etc which may or may not exist.

    Guy> However, I cannot seem to
    Guy> access the R help files on the Web.

    Guy> The index page    http://stat.ethz.ch/R/manual  .....
    Guy> .. works fine. However,if I try to access help pages on the
    Guy> individual functions I get directed to
    Guy> http://stat.ethz.ch/library/base/html/library.dynam.html
    Guy> ...... (which fails) ....
    Guy> ......
    Guy> ...... [deleted]


Yes, this probably hasn't been working for quite a while now
(or maybe only since 0.62.3 ?)

In any case, I have corrected the problem, i.e., 
I actually made a new page accessible by

	http://stat.ethz.ch/R/

which provides access to
	
	1) R manual [help.start()] of currently released version
	2) Our mirror of CRAN
	3) R manual [help.start()] of current ALPHA NON-released version

Please let me know if you still find missing links!

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Wed Sep  9 15:46:54 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 9 Sep 1998 10:46:54 -0400
Subject: diag() losing dimnames
Message-ID: <98Sep9.105903edt.13451@mailgate.bank-banque-canada.ca>

Using diag() to extract the diagonal of a matrix loses all but the first dimname
(R 0.62.3). The problem seems to be in [ ]:
>
> x <- matrix(1:9,3,3)
> dimnames(x) <- list(c("a", "b", "c"), c("a", "b", "c"))
> x
  a b c
a 1 4 7
b 2 5 8
c 3 6 9
> diag(x)
 a NA NA
 1  5  9
> x[c(1,5,9)]
 a NA NA
 1  5  9
>

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jimrc@mathfs.math.montana.edu  Wed Sep  9 16:18:19 1998
From: jimrc@mathfs.math.montana.edu (Jim Robison-Cox)
Date: Wed, 9 Sep 1998 09:18:19 -0600 (MDT)
Subject: diag() losing dimnames
In-Reply-To: <98Sep9.105903edt.13451@mailgate.bank-banque-canada.ca>
Message-ID: <Pine.NEB.4.02.9809090907200.21955-100000@mathfs.math.montana.edu>

Paul,

   I see that S doesn't give any names to a diag() result:

S> x <- matrix(1:9,3,3)
S> dimnames(x) <- list(c("a", "b", "c"), c("a", "b", "c"))
S> diag(x)
[1] 1 5 9
S> names(diag(x))
NULL
S> names(x[c(1,5,9)])
NULL

Names are only well-defined if rows and cols have the same labels.  Does
it make sense to have an argument for diag to tell it where to find the
names?  I doubt it. Seems better to let the user name the result of diag()
in whatever way they need.  So it seems odd to me that diag(x) has any
names.  (It doesn't in R-0.62.2)  I haven't upgraded yet, so I have to
ask: What happens if col 1 and row 1 have different names?  Is the "a" in
Paul's example coming from the row or col name?

On Wed, 9 Sep 1998, Paul Gilbert wrote:
> Using diag() to extract the diagonal of a matrix loses all but the first dimname
> (R 0.62.3). The problem seems to be in [ ]:
> >
> > x <- matrix(1:9,3,3)
> > dimnames(x) <- list(c("a", "b", "c"), c("a", "b", "c"))
> > x
>   a b c
> a 1 4 7
> b 2 5 8
> c 3 6 9
> > diag(x)
>  a NA NA
>  1  5  9
> > x[c(1,5,9)]
>  a NA NA
>  1  5  9
> >
> 
> Paul Gilbert
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

Jim Robison-Cox                 ____________            
Department of Math Sciences    |            |           phone: (406)994-5340
2-214 Wilson Hall               \   BZN, MT |           FAX:   (406)994-1789
Montana State University         |  *_______|
Bozeman, MT 59717                 \_|         e-mail: jimrc@math.montana.edu 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Wed Sep  9 16:57:25 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 9 Sep 1998 11:57:25 -0400
Subject: diag() losing dimnames
References: <Pine.NEB.4.02.9809090907200.21955-100000@mathfs.math.montana.edu>
Message-ID: <98Sep9.120938edt.13442@mailgate.bank-banque-canada.ca>

>Names are only well-defined if rows and cols have the same labels.

It probably does not make sense for diag to keep dimnames, but either way, this
is wrong
> diag(x)
  a NA NA
  1   5    9

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Sep  9 17:00:13 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 9 Sep 1998 18:00:13 +0200
Subject: diag() losing dimnames
In-Reply-To: <Pine.NEB.4.02.9809090907200.21955-100000@mathfs.math.montana.edu>
 (message from Jim Robison-Cox on Wed, 9 Sep 1998 09:18:19 -0600 (MDT))
Message-ID: <199809091600.SAA12139@sophie.ethz.ch>

>>>>> "Jim" == Jim Robison-Cox <jimrc@mathfs.math.montana.edu> writes:

    Jim> Paul, I see that S doesn't give any names to a diag() result:

    S> x <- matrix(1:9,3,3) dimnames(x) <- list(c("a", "b", "c"), c("a",
    S> "b", "c")) diag(x)
    Jim> [1] 1 5 9
    S> names(diag(x))
    Jim> NULL
    S> names(x[c(1,5,9)])
    Jim> NULL

    Jim> Names are only well-defined if rows and cols have the same labels.
    Jim> Does it make sense to have an argument for diag to tell it where
    Jim> to find the names?  I doubt it. Seems better to let the user name
    Jim> the result of diag() in whatever way they need.  So it seems odd
    Jim> to me that diag(x) has any names.  (It doesn't in R-0.62.2) I
    Jim> haven't upgraded yet, so I have to ask: What happens if col 1 and
    Jim> row 1 have different names?  Is the "a" in Paul's example coming
    Jim> from the row or col name?

It's the row one :
    > m <- matrix(1:9,3,3); dimnames(m) <- list(letters[1:3], LETTERS[1:3]); m
      A B C
    a 1 4 7
    b 2 5 8
    c 3 6 9
    > diag(m)
     a NA NA 
     1  5  9 

However, of course the bug is that  R  *does* return names(.) at
all, since as Jim rightly says, this doesn't make sense.

The patch is
to replace the  'as.matrix' by 'c' in line 5 of diag.R:

--- ../R-0.62.3/src/library/base/R/diag.R	Fri Mar  6 08:37:13 1998
+++ diag.R	Wed Sep  9 17:58:11 1998
@@ -2,7 +2,7 @@
 function(x = 1, nrow, ncol = n)
 {
 	if(is.matrix(x) && nargs() == 1)
-		return(as.matrix(x)[1 + 0:(min(dim(x)) - 1) * (dim(x)[1] + 1)])
+		return(c(x)[1 + 0:(min(dim(x)) - 1) * (dim(x)[1] + 1)])
 	if(missing(x))
 		n <- nrow
 	else if(length(x) == 1 && missing(nrow) && missing(ncol)) {



    Jim> On Wed, 9 Sep 1998, Paul Gilbert wrote:
    >> Using diag() to extract the diagonal of a matrix loses all but the
    >> first dimname (R 0.62.3). The problem seems to be in [ ]: > > x <-
    >> matrix(1:9,3,3) > dimnames(x) <- list(c("a", "b", "c"), c("a", "b",
    >> "c")) > x a b c a 1 4 7 b 2 5 8 c 3 6 9 > diag(x) a NA NA 1 5 9 >
    >> x[c(1,5,9)] a NA NA 1 5 9 >
    >> 
    >> Paul Gilbert
    >> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Sep  9 17:35:34 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Sep 1998 18:35:34 +0200
Subject: diag() losing dimnames
In-Reply-To: Martin Maechler's message of Wed, 9 Sep 1998 18:00:13 +0200
References: <199809091600.SAA12139@sophie.ethz.ch>
Message-ID: <x2n289meg9.fsf@blueberry.kubism.ku.dk>

Martin Maechler <maechler@stat.math.ethz.ch> writes:

> --- ../R-0.62.3/src/library/base/R/diag.R	Fri Mar  6 08:37:13 1998
> +++ diag.R	Wed Sep  9 17:58:11 1998
> @@ -2,7 +2,7 @@
>  function(x = 1, nrow, ncol = n)
>  {
>  	if(is.matrix(x) && nargs() == 1)
> -		return(as.matrix(x)[1 + 0:(min(dim(x)) - 1) * (dim(x)[1] + 1)])
> +		return(c(x)[1 + 0:(min(dim(x)) - 1) * (dim(x)[1] + 1)])
>  	if(missing(x))
>  		n <- nrow
>  	else if(length(x) == 1 && missing(nrow) && missing(ncol)) {

That's only half a solution:
> m[1:4]
 1  2 NA NA 
 1  2  3  4 

Splus:

> m<-matrix(1:4,2)
> dimnames(m)<-list(1:2,NULL)
> m
  [,1] [,2] 
1    1    3
2    2    4
> m[1:4]
[1] 1 2 3 4

R
> m<-matrix(1:4,2)
> rownames(m)<-1:2
> m[1:4]
 1  2 NA NA 
 1  2  3  4 

I.e. it seems that it should be fixed in the "[" internals.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Tue Sep 15 08:44:15 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Tue, 15 Sep 1998 09:44:15 +0200
Subject: seq  --> Dealing with bugs in R, etc.
In-Reply-To: <199809150724.JAA04164@alpha.luc.ac.be> (message from Jim Lindsey
 on Tue, 15 Sep 1998 09:24:20 +0200 (MET DST))
Message-ID: <199809150744.JAA07002@sophie.ethz.ch>

>>>>> "Jim" == Jim Lindsey <jlindsey@alpha.luc.ac.be> writes

   in a private mail to me

    Jim> That bug in seq() really has shaken my faith in R. How
    Jim> many other known bugs are there that we on r-help are not informed
    Jim> of and which can falsify our statistical analyses??? It is
    Jim> imperative that patches for such things be made immediately
    Jim> available on r-help. Jim

I think the answer to this should be known/discussed more widely:

Jim, you are right: 
The patch to seq(.) should have made it to  R-help.
[[actually in the mean time, the issue was raised that my patch
  was much more than was needed for dealing with rounding errors
  in the  seq(.,., by= ) case
]].

Note that there *are* other known bugs, all(?) of which being 
of much more low-level (and ``deeper'') nature.
Things like 
	mode(NULL)  -> "list"
		[now (in 0.63 "unstable") corrected to  "NULL"].

For bug submitting & tracking, 
Peter Dalgaard has recently setup a web place  
	[and 0.63-unstable has function  bug.report()]
were bug can be reported ``discussed'', etc. : 
	http://R-bugs.biostat.ku.dk/R

It is also available from CRAN's main page

---
There are also plans to regularly post a list of these bugs to R-devel (not
R-help!). 

If we know of a bug that affects high-level functions in bad way,
we usually *do* post to R-help....

R-devel is also for people who develop considerable amount of own R
functions.   There are things on R-devel which are not of interest to all
of the subscribers, but I think CRAN contributors like you should be part!

Martin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Prof Brian Ripley <ripley@stats.ox.ac.uk>  Tue Sep 15 17:53:28 1998
From: Prof Brian Ripley <ripley@stats.ox.ac.uk> (Prof Brian Ripley)
Date: Tue, 15 Sep 1998 17:53:28 +0100 (BST)
Subject: seq  --> Dealing with bugs in R, etc.
Message-ID: <199809151653.RAA04654@toucan.stats.ox.ac.uk>


> Date: Tue, 15 Sep 1998 09:44:15 +0200
> From: Martin Maechler <maechler@stat.math.ethz.ch>
> To: jlindsey@alpha.luc.ac.be
> CC: R-devel@stat.math.ethz.ch
> Subject: Re: seq  --> Dealing with bugs in R, etc.
> 
> >>>>> "Jim" == Jim Lindsey <jlindsey@alpha.luc.ac.be> writes
> 
>    in a private mail to me
> 
>     Jim> That bug in seq() really has shaken my faith in R. How
>     Jim> many other known bugs are there that we on r-help are not informed
>     Jim> of and which can falsify our statistical analyses??? It is
>     Jim> imperative that patches for such things be made immediately
>     Jim> available on r-help. Jim
 
How does that `falsify a statistical analysis'? It just gives a vector
that is slightly too long. I cannot imagine this is the worst bug
in R right now.

> I think the answer to this should be known/discussed more widely:
> 
> Jim, you are right: 
> The patch to seq(.) should have made it to  R-help.
> [[actually in the mean time, the issue was raised that my patch
>   was much more than was needed for dealing with rounding errors
>   in the  seq(.,., by= ) case
> ]].
> 
> Note that there *are* other known bugs, all(?) of which being 
> of much more low-level (and ``deeper'') nature.

Not all: e.g. mahalanobis() gives incorrect results almost all the 
time in 0.62.3, and glm with offset is wrong often too (and both
those are in the R-bugs database).

And seq gave wrong answers in the previous releases too: 
seq(1.575, 5.125, by=0.05) was wrong. At least the simpler uses are
now correct. 

I do think R-bugs is the right place for bugs.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ben@eno.Princeton.EDU  Tue Sep 15 20:46:24 1998
From: ben@eno.Princeton.EDU (Ben Bolker)
Date: Tue, 15 Sep 1998 15:46:24 -0400 (EDT)
Subject: compiling 0.62.3 for SunOS 4.1.4 and Solaris 2.6
Message-ID: <Pine.SUN.3.95.980915154509.11196A-100000@paca>



  Just a quick report on compiling R 0.62.3 for SunOS 4.1.4 and Solaris
2.6 (both with gcc 2.7.2.something), in hopes that it'll be useful to
someone. 

  4.1.4

     - I followed Charles Berry's forward of Ross Ihaka's suggestion about
putting fake #defines for gamma and lgamma in src/include/Mathlib.h (this
works best on the second pass, after the graphics library (which also
contains a "gamma" function) has compiled). 

     - I got regex-0.12 from ftp://wuarchive.wustl.edu/systems/gnu/, made
it into libregex.a, hacked HAVE_REGCOMP in src/include/Platform.h, and
added /usr/local/lib/libregex.a to RLIBS in src/main/Makefile (there
didn't seem to be a way to get configure to recognize it automatically). 

     - got readline-2.2 and installed it.

  I have to say I have mixed feelings about readline and regex.  It
certainly makes sense to use these existing resources, but it does make R
harder to install "out of the box" on systems (like SunOS) that don't have
them by default ... (I know, if SunOS had a decent packaging system we
could put them into package dependencies -- oh well.) 

 2.6

  I don't know if it's just my system (which has been administered by
various moderately clueless people in the past), but I had a number of
troubles with gcc and Solaris's default include files.  Several times
important definitions were located in chunks of the include files that
didn't get included by default. 

   - I added "typedef int sigjmp_buf[_SIGJBLEN];" to src/include/Defn.h by
hand; had to make sure that the gcc version of math.h got included rather
than the default Solaris file; and ran the compilation of the stuff in
src/main with -D__EXTENSIONS__ added to CFLAGS in Makeconf.  I *think*
that adding -D__EXTENSIONS__, or alternately setting -D__STDC__=0, to the
CFLAGS line in Makeconf, might have fixed all of my problems at once. 


Benjamin Bolker          Dep't of Ecology and Evolutionary Biology,
ben@eno.princeton.edu    Princeton University
tel: (609) 258-6886,     fax: (609) 258-1334

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Sep 16 18:30:08 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Sep 1998 19:30:08 +0200
Subject: R-beta: A new version of R-0.62.3 for Win3.1/Win32s, Win95 and WinNT
In-Reply-To: Guido Masarotto's message of Wed, 16 Sep 1998 13:01:52 +0100
References: <19980916130152.A227@sirio.stat.unipd.it>
Message-ID: <x2zpc06k4f.fsf@blueberry.kubism.ku.dk>

Guido Masarotto <guido@sirio.stat.unipd.it> writes:

> (a) I rewrote the console using a portable toolkit (GraphApp, see
> http://www.cs.usyd.edu.au/~loki/graphapp). Now, output is buffered
> until some input is required. This means that it is faster 
> (for a good test, I learned it from Peter Daalgard,
                                            ^^^^^^^^
Ahem. Remind me to call you "Massaroto" some time... ;^)

> try `ls("package:base")' ).

*cough!* You can say that ("faster") again. Most impressive. I like
the key bindings too. 

BTW: Please remember to set Reply-to: on postings to R-announce, in
case they start a discussion.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From guido@sirio.stat.unipd.it  Wed Sep 16 19:36:40 1998
From: guido@sirio.stat.unipd.it (Guido Masarotto)
Date: Wed, 16 Sep 1998 19:36:40 +0100
Subject: R-beta: A new version of R-0.62.3 for Win3.1/Win32s, Win95 and WinNT
In-Reply-To: <x2zpc06k4f.fsf@blueberry.kubism.ku.dk>; from Peter Dalgaard BSA on Wed, Sep 16, 1998 at 07:30:08PM +0200
References: <19980916130152.A227@sirio.stat.unipd.it> <x2zpc06k4f.fsf@blueberry.kubism.ku.dk>
Message-ID: <19980916193640.A1541@sirio.stat.unipd.it>

On Wed, Sep 16, 1998 at 07:30:08PM +0200, Peter Dalgaard BSA wrote:
> Guido Masarotto <guido@sirio.stat.unipd.it> writes:
> 

> > (for a good test, I learned it from Peter Daalgard,
>                                             ^^^^^^^^
> Ahem. Remind me to call you "Massaroto" some time... ;^)
> 
Peter , I am really sorry.
guudo massaroto
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Sep 17 10:37:28 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 17 Sep 1998 11:37:28 +0200
Subject: wrong postings to R-announce...
In-Reply-To: <x2zpc06k4f.fsf@blueberry.kubism.ku.dk> (message from Peter
 Dalgaard BSA on 16 Sep 1998 19:30:08 +0200)
Message-ID: <199809170937.LAA18296@sophie.ethz.ch>

 >>>>> "PD" == Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:

  to Guido:
    PD> BTW: Please remember to set Reply-to: on postings to R-announce, in
    PD> case they start a discussion.

  to Niels Kokholm
    PD> And BTW, try not to send followups to r-announce....


Thank you Peter!

Since I'm still only using majordomo's own filters (no procmail before it),
I've at least tried to  *disable*  [i.e. bounce to the list-owner]
any message
	CC: R-announce

since I thought important announcements should never be made "CC:"...

------
Martin	{list manager of R-...@stat.math.ethz.ch}
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From absd00t@c1186.ae.ge.com  Thu Sep 17 14:55:31 1998
From: absd00t@c1186.ae.ge.com (U-E59264-Osman F Buyukisik)
Date: Thu, 17 Sep 1998 09:55:31 -0400 (EDT)
Subject: R-beta: (0+0i)^2
In-Reply-To: <199809171256.OAA18599@sophie.ethz.ch>
References: <199809162211.KAA27407@chance.otago.ac.nz>
 <199809171256.OAA18599@sophie.ethz.ch>
Message-ID: <13825.5161.410293.721272@c1186.ae.ge.com>

I am not a "c" programmer but this is very simple and seems to be
working (just a check for 0): in src/main/complex.c 
...
static void complex_pow(complex *r, complex *a, complex *b)
{
    double logr, logi, x, y, mag;
    if ((mag = hypot(a->r, a->i)) == 0.0) {
        r->r = r->i = 0.0;
    }
    else {
    logr = log(mag );
    logi = atan2(a->i, a->r);
    x = exp( logr * b->r - logi * b->i );
    y = logr * b->i + logi * b->r;
    r->r = x * cos(y);
    r->i = x * sin(y);
    }
}
....
Osman
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Fri Sep 18 15:36:16 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Fri, 18 Sep 1998 16:36:16 +0200
Subject: R-beta: (0+0i)^2
In-Reply-To: <13825.5161.410293.721272@c1186.ae.ge.com> (message from
 U-E59264-Osman F Buyukisik on Thu, 17 Sep 1998 09:55:31 -0400 (EDT))
Message-ID: <199809181436.QAA05165@sophie.ethz.ch>


>>>>> "Osman" == U-E59264-Osman F Buyukisik <absd00t@c1186.ae.ge.com> writes:

Osman> I am not a "c" programmer but this is very simple and seems to be
Osman> working (just a check for 0): in src/main/complex.c 
Osman> ...
Osman> static void complex_pow(complex *r, complex *a, complex *b)
Osman> {
Osman>     double logr, logi, x, y, mag;
Osman>     if ((mag = hypot(a->r, a->i)) == 0.0) {
Osman>         r->r = r->i = 0.0;
Osman>     }
Osman>     else {
Osman>     logr = log(mag );
Osman>     logi = atan2(a->i, a->r);
Osman>     x = exp( logr * b->r - logi * b->i );
Osman>     y = logr * b->i + logi * b->r;
Osman>     r->r = x * cos(y);
Osman>     r->i = x * sin(y);
Osman>     }
Osman> }

It's not *that* simple:  
We want
	0^ 0   => 1	(since we have that for reals)
	0^ -1  => Inf	(a^-1 = 1/a)
	0^ 1i  => NaN

I've committed a longer patch for 0.63,
which also leads to   1i^(-5:5)  be 100% accurate
but the following fixes the bug (and more):

--- complex.c~	Mon Aug 31 10:32:29 1998
+++ complex.c	Fri Sep 18 16:31:19 1998
@@ -91,6 +91,10 @@
 {
     double logr, logi, x, y;
 
+    if(b->i == 0.) {/* be fast (and more accurate)*/
+	if(b->r == 1.) { /* a^1 */ r->r = a->r; r->i = a->i; return;}
+	if(a->i == 0.) { r->r = pow(a->r, b->r); r->i = 0.; return;}
+    }
     logr = log(hypot(a->r, a->i) );
     logi = atan2(a->i, a->r);
 

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Mon Sep 21 22:36:20 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Mon, 21 Sep 1998 14:36:20 -0700 (PDT)
Subject: --save and memory
In-Reply-To: <x2hfy6u8s8.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.4.03.9809211430550.10056-100000@gorn.biostat.washington.edu>


If the memory size is too small for the saved workspace to be loaded, and
--save is specified in a batch file then the previous workspace is lost.
It seems to me that having insufficient memory to load the saved workspace
should be a fatal error at least if --save is specified.

What do other people think (preferably people that think saved workspaces
are potentially useful)?

Currently a work-around is to add this to the batch file 
	if (!exists(".Random.seed")) q("no")



Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From plummer@iarc.fr  Tue Sep 22 09:07:28 1998
From: plummer@iarc.fr (Martyn Plummer)
Date: Tue, 22 Sep 1998 10:07:28 +0200
Subject: --save and memory
Message-ID: <36075AC0.BE2898BE@iarc.fr>

I agree, and I sent a message to R-bugs to this effect
(currently filed under "startup"), although I was thinking
in terms of interactive use. Making this a fatal error
seems the best choice to me.

Martyn

Thomas Lumley wrote:
> 
> If the memory size is too small for the saved workspace to be loaded, and
> --save is specified in a batch file then the previous workspace is lost.
> It seems to me that having insufficient memory to load the saved workspace
> should be a fatal error at least if --save is specified.
> 
> What do other people think (preferably people that think saved workspaces
> are potentially useful)?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Sep 22 12:28:32 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Sep 1998 13:28:32 +0200
Subject: --save and memory
In-Reply-To: Martyn Plummer's message of Tue, 22 Sep 1998 10:07:28 +0200
References: <36075AC0.BE2898BE@iarc.fr>
Message-ID: <x2g1dk5qu7.fsf@blueberry.kubism.ku.dk>

Martyn Plummer <plummer@iarc.fr> writes:

> I agree, and I sent a message to R-bugs to this effect
> (currently filed under "startup"), although I was thinking
> in terms of interactive use. Making this a fatal error
> seems the best choice to me.

Agreed. As far as I can see, the obvious would be to add an else clause in
main.c, like this:

    if (!doneit) {
        doneit = 1;
        R_InitialData();
    }
    else
        R_Suicide("unable to restore saved data\n (remove .RData or increase mem
ory)\n");

...but that gives the following curious effect.
Interactively, you get the expected, but...

[pd@blueberry R]$ bin/R --save < /dev/null

R : Copyright 1998, The R Development Core Team
Version 0.63.0 Unstable (September 22, 1998)

....

[Previously saved workspace restored]

Error: vector heap is too small to restore data
Execution halted

The strange thing is that it actually does *not* modify .RData, so in
a sense the fix is OK, but why does it give the success message before
bailing out???

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Sep 22 12:51:25 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Sep 1998 13:51:25 +0200
Subject: --save and memory
In-Reply-To: Peter Dalgaard BSA's message of 22 Sep 1998 13:28:32 +0200
References: <36075AC0.BE2898BE@iarc.fr> <x2g1dk5qu7.fsf@blueberry.kubism.ku.dk>
Message-ID: <x2emt45ps2.fsf@blueberry.kubism.ku.dk>

Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:

> [Previously saved workspace restored]
> 
> Error: vector heap is too small to restore data
> Execution halted
> 
> The strange thing is that it actually does *not* modify .RData, so in
> a sense the fix is OK, but why does it give the success message before
> bailing out???

On closer inspection... 

(a) R 0.63 *always* exits without saving in case of error, so there
was nothing to fix in the first place!

(b) the "[Previously saved...]" bit got printed before R even tried to
load anything. Just a matter of reshuffling lines in system.c.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Sep 22 15:13:09 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Sep 1998 16:13:09 +0200
Subject: Histograms: default breaks
Message-ID: <x27lyw5j7u.fsf@blueberry.kubism.ku.dk>


hist() uses pretty() to set its default breaks. For integer data, this
isn't really desirable, although it is Splus compatible, because all
the values fall at one end of each bar. Wouldn't it be better with

breaks <- pretty(x)
adj <- diff(breaks[1:2])/2
breaks <- pretty(x+adj) - adj

 - or something like that? There's a slightly sticky issue involving
the possibility that pretty(x+adj) will have a different interval than
pretty(x), though.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Sep 22 16:00:57 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 22 Sep 1998 11:00:57 -0400
Subject: "Segmentation Fault - core dumped" in R 0.62.3
Message-ID: <98Sep22.112745edt.13470@mailgate.bank-banque-canada.ca>

I am occasional getting "Segmentation Fault - core dumped" in R 0.62.3 (I think
more often then I did in 0.62.2). I have not been able to do this in any
reliably reproducible way yet, but thought I would mention the problem in case
some else can isolate it.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Sep 22 17:20:51 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Sep 1998 18:20:51 +0200
Subject: "Segmentation Fault - core dumped" in R 0.62.3
In-Reply-To: Paul Gilbert's message of Tue, 22 Sep 1998 11:00:57 -0400
References: <98Sep22.112745edt.13470@mailgate.bank-banque-canada.ca>
Message-ID: <x23e9k5db0.fsf@blueberry.kubism.ku.dk>

Paul Gilbert <pgilbert@bank-banque-canada.ca> writes:

> I am occasional getting "Segmentation Fault - core dumped" in R 0.62.3 (I think
> more often then I did in 0.62.2). I have not been able to do this in any
> reliably reproducible way yet, but thought I would mention the problem in case
> some else can isolate it.

Hmm. Two rather nasty PROTECT bugs got fixed for 0.63 lately, but it
isn't all that easy to backport the fixes to 0.62.3 at this point
(several things have changed in 0.63)

Also, with our current garbage collector, the system appears to
playing Russian roulette if GC happens during parsing. Ross is
planning to install a better one for 0.64. This is more than tricky to
fix with the current memory scheme (it requires major surgery on
gram.y) so probably noone will try till then.

In general, this kind of crash is nearly always caused by a garbage
collection at *exactly* the wrong moment, so one generally needs exact
data to reproduce the crash, in order to pinpoint the trouble spot.

If you want to try the 0.63 fixes, a set of diffs follow. Note that
they are between two development versions, so they shouldn't be
expected to be directly applicable to 0.62.3.

[pd@blueberry R]$ cvs diff -c -r 1.23 -r 1.24 src/main/eval.c
Index: src/main/eval.c
===================================================================
RCS file: /users/rdev/R/CVS-ARCHIVE/R/src/main/eval.c,v
retrieving revision 1.23
retrieving revision 1.24
diff -c -r1.23 -r1.24
*** /tmp/T0a005IJ       Wed Sep 23 04:03:07 1998
--- /tmp/T1a005IJ       Wed Sep 23 04:03:07 1998
***************
*** 727,733 ****
  
  SEXP do_set(SEXP call, SEXP op, SEXP args, SEXP rho)
  {
!     SEXP s;
      if (length(args) != 2)
        WrongArgCount(asym[PRIMVAL(op)]);
      if (isString(CAR(args)))
--- 727,733 ----
  
  SEXP do_set(SEXP call, SEXP op, SEXP args, SEXP rho)
  {
!     SEXP s, t;
      if (length(args) != 2)
        WrongArgCount(asym[PRIMVAL(op)]);
      if (isString(CAR(args)))
***************
*** 738,744 ****
        if (isSymbol(CAR(args))) {
            s = eval(CADR(args), rho);
            if (NAMED(s))
!               s = duplicate(s);
            PROTECT(s);
            R_Visible = 0;
            defineVar(CAR(args), s, rho);
--- 738,749 ----
        if (isSymbol(CAR(args))) {
            s = eval(CADR(args), rho);
            if (NAMED(s))
!           {
!               PROTECT(s);
!               t = duplicate(s);
!               UNPROTECT(1);
!               s = t;
!           }
            PROTECT(s);
            R_Visible = 0;
            defineVar(CAR(args), s, rho);
[pd@blueberry R]$ cvs diff -c -r 1.23 -r 1.24 src/main/par.c
Index: src/main/par.c
===================================================================
RCS file: /users/rdev/R/CVS-ARCHIVE/R/src/main/par.c,v
retrieving revision 1.23
retrieving revision 1.24
diff -c -r1.23 -r1.24
*** /tmp/T0a005Ia       Wed Sep 23 04:04:05 1998
--- /tmp/T1a005Ia       Wed Sep 23 04:04:05 1998
***************
*** 1114,1121 ****
        INTEGER(value)[0] = dd->dp.ask;
      }
      else if (streql(what, "bg")) {
!       value = allocVector(STRSXP, 1);
        STRING(value)[0] = mkChar(col2name(dd->dp.bg));
      }
      else if (streql(what, "bty")) {
        char buf[2];
--- 1114,1122 ----
        INTEGER(value)[0] = dd->dp.ask;
      }
      else if (streql(what, "bg")) {
!       PROTECT(value = allocVector(STRSXP, 1));
        STRING(value)[0] = mkChar(col2name(dd->dp.bg));
+       UNPROTECT(1);
      }
      else if (streql(what, "bty")) {
        char buf[2];
***************
*** 1151,1174 ****
        REAL(value)[1] = dd->dp.cra[1]*dd->dp.ipr[1];
      }
      else if (streql(what, "col")) {
!       value = allocVector(STRSXP, 1);
        STRING(value)[0] = mkChar(col2name(dd->dp.col));
      }
      else if (streql(what, "col.main")) {
!       value = allocVector(STRSXP, 1);
        STRING(value)[0] = mkChar(col2name(dd->dp.colmain));
      }
      else if (streql(what, "col.lab")) {
!       value = allocVector(STRSXP, 1);
        STRING(value)[0] = mkChar(col2name(dd->dp.collab));
      }
      else if (streql(what, "col.sub")) {
!       value = allocVector(STRSXP, 1);
        STRING(value)[0] = mkChar(col2name(dd->dp.colsub));
      }
      else if (streql(what, "col.axis")) {
!       value = allocVector(STRSXP, 1);
        STRING(value)[0] = mkChar(col2name(dd->dp.colaxis));
      }
      else if (streql(what, "cra")) {
        value = allocVector(REALSXP, 2);
--- 1152,1180 ----
        REAL(value)[1] = dd->dp.cra[1]*dd->dp.ipr[1];
      }
      else if (streql(what, "col")) {
!       PROTECT(value = allocVector(STRSXP, 1));
        STRING(value)[0] = mkChar(col2name(dd->dp.col));
+       UNPROTECT(1);
      }
      else if (streql(what, "col.main")) {
!       PROTECT(value = allocVector(STRSXP, 1));
        STRING(value)[0] = mkChar(col2name(dd->dp.colmain));
+       UNPROTECT(1);
      }
      else if (streql(what, "col.lab")) {
!       PROTECT(value = allocVector(STRSXP, 1));
        STRING(value)[0] = mkChar(col2name(dd->dp.collab));
+       UNPROTECT(1);
      }
      else if (streql(what, "col.sub")) {
!       PROTECT(value = allocVector(STRSXP, 1));
        STRING(value)[0] = mkChar(col2name(dd->dp.colsub));
+       UNPROTECT(1);
      }
      else if (streql(what, "col.axis")) {
!       PROTECT(value = allocVector(STRSXP, 1));
        STRING(value)[0] = mkChar(col2name(dd->dp.colaxis));
+       UNPROTECT(1);
      }
      else if (streql(what, "cra")) {
        value = allocVector(REALSXP, 2);
***************
*** 1193,1200 ****
        INTEGER(value)[0] = dd->dp.err;
      }
      else if (streql(what, "fg")) {
!       value = allocVector(STRSXP, 1);
        STRING(value)[0] = mkChar(col2name(dd->dp.fg));
      }
      else if (streql(what, "fig")) {
        value = allocVector(REALSXP, 4);
--- 1199,1207 ----
        INTEGER(value)[0] = dd->dp.err;
      }
      else if (streql(what, "fg")) {
!       PROTECT(value = allocVector(STRSXP, 1));
        STRING(value)[0] = mkChar(col2name(dd->dp.fg));
+       UNPROTECT(1);
      }
      else if (streql(what, "fig")) {
        value = allocVector(REALSXP, 4);



-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Wed Sep 23 15:41:33 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 23 Sep 1998 10:41:33 -0400
Subject: "Segmentation Fault - core dumped" in R 0.62.3
References: <98Sep22.112745edt.13470@mailgate.bank-banque-canada.ca> <x23e9k5db0.fsf@blueberry.kubism.ku.dk>
Message-ID: <98Sep23.110119edt.13451@mailgate.bank-banque-canada.ca>

>Hmm. Two rather nasty PROTECT bugs got fixed for 0.63 lately, but it
>isn't all that easy to backport the fixes to 0.62.3 at this point

The problem has not been so bad that it's worth trying to track down in 0.62.3.
I was more concerned that it be fixed for future releases, so hopefully that's
been done already.

Paul

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Fri Sep 25 16:21:22 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Fri, 25 Sep 1998 17:21:22 +0200
Subject: format(numericmatrix, ...) : proposal for a change
Message-ID: <199809251521.RAA16286@sophie.ethz.ch>

Since format, i.e.,  format.default(.), is a pretty basic function I
thought I'd ask  before just changing it...

	aa <- cbind(1:7, rnorm(7))
	format(aa)
or
	format(aa, digits=7)

looks like

      [,1]         [,2]        
 [1,] " 1.0000000" " 0.2406669"
 [2,] " 2.0000000" "-0.4973221"
 [3,] " 3.0000000" " 0.4672260"
 [4,] " 4.0000000" " 0.4794697"
 [5,] " 5.0000000" "-1.0234062"
 [6,] " 6.0000000" "-0.3430790"
 [7,] " 7.0000000" "-0.1847634"

which is pretty ugly.

What I'd rather want is that each column be formatted independently, i.e.,
(almost) the result I'd currently get from

	apply(aa, 2, format, digits=7)

---
S gives something like

S> format(aa, digits=7)
               [,1]           [,2] 
[1,] " 1          " " 0.07364329 "
[2,] " 2          " "-0.7101905  "
[3,] " 3          " " 0.005834993"
[4,] " 4          " " 0.3425964  "
[5,] " 5          " " 0.8825893  "
[6,] " 6          " " 0.9540261  "
[7,] " 7          " "-0.4660654  "

(which is different from the above apply(...) by using strings which all
 have the identical number of characters).

Proposal: I'd like to have format(<numeric matrix>, ...) change to do
	COLUMNWISE formatting, either the way as apply(..) above, or
	returning strings of identical length (somewhat like S above).

Note  I don't intend to copy S-plus'  ``full mess'' of doing it :
In S-plus  
	format(aa)
and	format(aa, digits = .Options$digits)
are very different even though .Options$digits *IS* the default for
digits...

Also, we have formatC(.) which very useful for quite a few problems...

---------------

What do we ( you !) want ?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Fri Sep 25 16:30:47 1998
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich Leisch)
Date: Fri, 25 Sep 1998 17:30:47 +0200 (CEST)
Subject: format(numericmatrix, ...) : proposal for a change
In-Reply-To: <199809251521.RAA16286@sophie.ethz.ch>
References: <199809251521.RAA16286@sophie.ethz.ch>
Message-ID: <13835.46887.262990.724831@galadriel.ci.tuwien.ac.at>


Columnwise formatting would be fine with me ... could you just leave
the current behavior as option? In many cases matrix-wide formatting
is useful!


.f


>>>>> On Fri, 25 Sep 1998 17:21:22 +0200,
>>>>> Martin Maechler (MM) wrote:

MM> Since format, i.e.,  format.default(.), is a pretty basic function I
MM> thought I'd ask  before just changing it...

MM> 	aa <- cbind(1:7, rnorm(7))
MM> 	format(aa)
MM> or
MM> 	format(aa, digits=7)

MM> looks like

MM>       [,1]         [,2]        
MM>  [1,] " 1.0000000" " 0.2406669"
MM>  [2,] " 2.0000000" "-0.4973221"
MM>  [3,] " 3.0000000" " 0.4672260"
MM>  [4,] " 4.0000000" " 0.4794697"
MM>  [5,] " 5.0000000" "-1.0234062"
MM>  [6,] " 6.0000000" "-0.3430790"
MM>  [7,] " 7.0000000" "-0.1847634"

MM> which is pretty ugly.

MM> What I'd rather want is that each column be formatted independently, i.e.,
MM> (almost) the result I'd currently get from

MM> 	apply(aa, 2, format, digits=7)

MM> ---
MM> S gives something like

S> format(aa, digits=7)
MM>                [,1]           [,2] 
MM> [1,] " 1          " " 0.07364329 "
MM> [2,] " 2          " "-0.7101905  "
MM> [3,] " 3          " " 0.005834993"
MM> [4,] " 4          " " 0.3425964  "
MM> [5,] " 5          " " 0.8825893  "
MM> [6,] " 6          " " 0.9540261  "
MM> [7,] " 7          " "-0.4660654  "

MM> (which is different from the above apply(...) by using strings which all
MM>  have the identical number of characters).

MM> Proposal: I'd like to have format(<numeric matrix>, ...) change to do
MM> 	COLUMNWISE formatting, either the way as apply(..) above, or
MM> 	returning strings of identical length (somewhat like S above).

MM> Note  I don't intend to copy S-plus'  ``full mess'' of doing it :
MM> In S-plus  
MM> 	format(aa)
MM> and	format(aa, digits = .Options$digits)
MM> are very different even though .Options$digits *IS* the default for
MM> digits...

MM> Also, we have formatC(.) which very useful for quite a few problems...

MM> ---------------

MM> What do we ( you !) want ?

MM> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
MM> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
MM> Send "info", "help", or "[un]subscribe"
MM> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
MM> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Sep 25 17:51:06 1998
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 25 Sep 1998 17:51:06 +0100 (BST)
Subject: format(numericmatrix, ...) : proposal for a change
In-Reply-To: <13835.46887.262990.724831@galadriel.ci.tuwien.ac.at>
Message-ID: <Pine.GSO.3.96.980925173322.16892A-100000@toucan.stats>

On Fri, 25 Sep 1998, Friedrich Leisch wrote:

> 
> Columnwise formatting would be fine with me ... could you just leave
> the current behavior as option? In many cases matrix-wide formatting
> is useful!
> 

There are at least three different versions of format.default in different
versions of S-PLUS, so some of us have learnt to do this very
defensively. 


Columnwise formatting would be OK, but I don't think padding with spaces
rather than zeroes is acceptable. To be fair to S-PLUS, there are options
to change that, and if you are going to change this you might like to look
at adding nsmall and justify.

nsmall:   the minimum number of digits to appear to the right  of
       the decimal.
justify:    character string  giving  the  justification  of  the
       numbers  relative  to each other.  The choices are "none",
       "left", "right" and  "decimal".   Only  the  first  letter
       needs to be given.

At least as defined, format.default does not know about columns, and your
example is misleading: (in S)

> aa <- rbind(1:7, rnorm(7))
> format(aa, digits=7)
             [,1]         [,2]         [,3]         [,4]         [,5] 
[1,] " 1        " " 2        " " 3        " " 4        " " 5        "
[2,] "-0.6755785" "-0.5184718" "-0.665482 " " 2.07566  " " 0.4811527"

             [,6]         [,7] 
[1,] " 6        " " 7        "
[2,] "-0.708872 " "-0.4482897"

What do you actually want that to do? I think there is a strong case for
leaving format.default alone, and writing format.matrix and/or
format.data.frame.

Note that the digits= argument is documented differently in R and in S.


> 
> .f
> 
> 
> >>>>> On Fri, 25 Sep 1998 17:21:22 +0200,
> >>>>> Martin Maechler (MM) wrote:
> 
> MM> Since format, i.e.,  format.default(.), is a pretty basic function I
> MM> thought I'd ask  before just changing it...
> 
> MM> 	aa <- cbind(1:7, rnorm(7))
> MM> 	format(aa)
> MM> or
> MM> 	format(aa, digits=7)
> 
> MM> looks like
> 
> MM>       [,1]         [,2]        
> MM>  [1,] " 1.0000000" " 0.2406669"
> MM>  [2,] " 2.0000000" "-0.4973221"
> MM>  [3,] " 3.0000000" " 0.4672260"
> MM>  [4,] " 4.0000000" " 0.4794697"
> MM>  [5,] " 5.0000000" "-1.0234062"
> MM>  [6,] " 6.0000000" "-0.3430790"
> MM>  [7,] " 7.0000000" "-0.1847634"
> 
> MM> which is pretty ugly.
> 
> MM> What I'd rather want is that each column be formatted independently, i.e.,
> MM> (almost) the result I'd currently get from
> 
> MM> 	apply(aa, 2, format, digits=7)
> 
> MM> ---
> MM> S gives something like
> 
> S> format(aa, digits=7)
> MM>                [,1]           [,2] 
> MM> [1,] " 1          " " 0.07364329 "
> MM> [2,] " 2          " "-0.7101905  "
> MM> [3,] " 3          " " 0.005834993"
> MM> [4,] " 4          " " 0.3425964  "
> MM> [5,] " 5          " " 0.8825893  "
> MM> [6,] " 6          " " 0.9540261  "
> MM> [7,] " 7          " "-0.4660654  "
> 
> MM> (which is different from the above apply(...) by using strings which all
> MM>  have the identical number of characters).
> 
> MM> Proposal: I'd like to have format(<numeric matrix>, ...) change to do
> MM> 	COLUMNWISE formatting, either the way as apply(..) above, or
> MM> 	returning strings of identical length (somewhat like S above).
> 
> MM> Note  I don't intend to copy S-plus'  ``full mess'' of doing it :
> MM> In S-plus  
> MM> 	format(aa)
> MM> and	format(aa, digits = .Options$digits)
> MM> are very different even though .Options$digits *IS* the default for
> MM> digits...
> 
> MM> Also, we have formatC(.) which very useful for quite a few problems...
> 
> MM> ---------------
> 
> MM> What do we ( you !) want ?
> 
> MM> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> MM> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> MM> Send "info", "help", or "[un]subscribe"
> MM> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> MM> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Fri Sep 25 19:17:30 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Fri, 25 Sep 1998 14:17:30 -0400
Subject: legend
Message-ID: <98Sep25.141942edt.13483@mailgate.bank-banque-canada.ca>

I've been having some trouble with legend not printing line types and I see
there is some difference with Splus. In Splus the only required arguments are
x,y, and legend.

Also, I always thought required arguments had to proceed optional argument. What
should happen here if I omit fill and col but specify lty=something?

   legend
   function (x, y, legend, fill, col = "black", lty, lwd, pch, bty = "o",
     bg = par("bg"), cex = 1, xjust = 0, yjust = 1, x.intersp = NULL,
     y.intersp = NULL, text.width = NULL, merge = FALSE)
   {...

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ben@eno.Princeton.EDU  Mon Sep 28 13:35:04 1998
From: ben@eno.Princeton.EDU (Ben Bolker)
Date: Mon, 28 Sep 1998 08:35:04 -0400 (EDT)
Subject: adding math(s) symbols to src/main/plotmath.c
Message-ID: <Pine.SUN.3.95.980928083325.3665A-100000@paca>


  I decided I wanted an "infinity" in some label text.
  Many of these symbols should probably be incorporated in a different
way, but they don't seem to do any harm as is.

*** plotmath.c.orig	Fri Sep 25 17:21:33 1998
--- plotmath.c	Fri Sep 25 17:46:57 1998
***************
*** 183,188 ****
--- 183,232 ----
  	"psi", 121,
  	"zeta", 122,
  
+ 	"therefore", 93,
+ 	"perp", 95,
+ 
+     "lteq", 163,
+ 	"infinity", 165,
+ 	"clubsuit", 167,
+ 	"diamondsuit", 168,
+ 	"heartsuit", 169,
+ 	"spadesuit", 170,
+ 	"biarrow", 171,
+ 	"leftarrow", 172,
+     "uparrow", 173,
+ 	"rightarrow", 174,
+ 	"downarrow", 175,
+ 	"degree", 176,
+ 	"plusminus", 177,
+ 	"gteq", 179,
+ 	"times", 180,
+ 	"propto", 181,
+ 	"partial", 182,
+ 	"bullet", 183,
+ 	"divide", 184,
+ 	"notequal", 185,
+ 	"equiv", 186,
+ 	"approx", 187,
+ 	"ellipsis", 188,
+ 	"aleph", 192,
+ 	"Imaginary", 193,
+ 	"Real", 194,
+ 	"nullset", 198,
+ 	"intersect", 199,
+ 	"union", 200,
+ 	"element", 206,
+ 	"notelement", 207,
+ 	"del", 209,
+ 	"product", 213,
+ 	"surd", 214,
+ 	"dblbiarrow", 219,
+ 	"dblleftarrow", 220,
+     "dbluparrow", 221,
+ 	"dblrightarrow", 222,
+ 	"dbldownarrow", 223,
+     "integral", 252,
+ 	
  	NULL, 0,
  };
  


Benjamin Bolker          Dep't of Ecology and Evolutionary Biology,
ben@eno.princeton.edu    Princeton University
tel: (609) 258-6886,     fax: (609) 258-1334

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Mon Sep 28 13:34:58 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Mon, 28 Sep 1998 14:34:58 +0200
Subject: 0.62.3 & pre0.63: different kinds of NULL objects..
Message-ID: <199809281234.OAA07721@sophie.ethz.ch>

Oh dear, this *is* quite a penible mess :

> N2 _ lapply(NULL, sum)
> N2
NULL
> is.null(N2)
[1] TRUE
> is.list(NULL)
[1] FALSE
> is.list(N2)
[1] TRUE

---- i.e.,  N2  is ``almost'' like NULL but not quite !

---- I found the bug in a version of the following:

> array(1:6, dim=3:1, dimnames=NULL)
, , 1

     [,1] [,2]
[1,]    1    4
[2,]    2    5
[3,]    3    6

> array(1:6, dim=3:1, dimnames=N2)
Error: length of dimnames must match that of dims

---------------
Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Mon Sep 28 19:58:04 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Mon, 28 Sep 1998 14:58:04 -0400
Subject: legend
Message-ID: <98Sep28.150150edt.13465@mailgate.bank-banque-canada.ca>

I am having some trouble with legend not printing line types and a box, under
circumstances I haven't yet been able to isolate. It's as if it is getting some
wrong part of the environment, or wrong par settings. Would someone please warn
me if this is being worked on, or is a known problem, so I don't spend time
working on something that is already fixed.

I also noticed that legend and matplot do not have the same defaults for lty and
col, and I think they should.

Final, could someone tell me what

Error: No function to return from, jumping to top level

in browser means (and how to make the sort of thing that generates this message
work in browser).

Thanks

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Mon Sep 28 20:30:03 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Mon, 28 Sep 1998 15:30:03 -0400
Subject: "tsp<-"
Message-ID: <98Sep28.153343edt.13470@mailgate.bank-banque-canada.ca>

If value is NULL I think tsp assignment should not return a class ts object.
Below is a fixed version.

Paul Gilbert
____

"tsp<-" <-function(x, value)
{if (is.null(value))
   {attr(x, "tsp") <- value
    if(inherits(x,"ts")) class(x) <- NULL
    return(x)
   }
 attr(x, "tsp") <-  value
 class(x) <- "ts"
 x
}



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Sep 30 09:53:14 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 30 Sep 1998 10:53:14 +0200
Subject: Blocking the itmex.com spam..
In-Reply-To: <6rzpbi3ek4.fsf@verdi.stat.wisc.edu> (message from Douglas Bates
 on 29 Sep 1998 14:27:07 -0500)
Message-ID: <199809300853.KAA27412@sophie.ethz.ch>

>>>>> "DougB" == Douglas Bates <bates@stat.wisc.edu> writes:

    DougB> Martin, Can you put a block on messages originating from
    DougB> itcmex.com to any of the R e-mail lists?  I'm getting tired of
    DougB> hearing about their Y2K solutions.  -- Doug

Done.

Sorry for the inconvenience...  they came through on *many* mailing lists..
Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Sep 30 15:40:06 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 30 Sep 1998 16:40:06 +0200
Subject: "tsp<-"
In-Reply-To: <98Sep28.153343edt.13470@mailgate.bank-banque-canada.ca> (message
 from Paul Gilbert on Mon, 28 Sep 1998 15:30:03 -0400)
Message-ID: <199809301440.QAA04028@florence.ethz.ch>

Thank you, Paul, for reporting this problem:

>>>>> "PaulG" == Paul Gilbert <pgilbert@bank-banque-canada.ca> writes:

    PaulG> If value is NULL I think tsp assignment should not return a
    PaulG> class ts object.  Below is a fixed version.

	"tsp<-" <-function(x, value)
	{if (is.null(value))
	   {attr(x, "tsp") <- value
	    if(inherits(x,"ts")) class(x) <- NULL
	    return(x)
	   }
	 attr(x, "tsp") <-  value
	 class(x) <- "ts"
	 x
	}


Shouldn't we be even more restrictive?

 The tsp attribute (hance "value" above) should be
     - numeric
     - of length 3

And then, I'd rather stop the user than destroy the class of my ts object?!
i.e.

"tsp<-" <- function(x, value)
{
    if(!(is.numeric(value) && length(value) == 3))
        stop("invalid 'tsp': must be numeric of length 3")
    attr(x,"tsp") <- value
    x
}
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Wed Sep 30 16:38:20 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 30 Sep 1998 11:38:20 -0400
Subject: "tsp<-"
References: <199809301440.QAA04028@florence.ethz.ch>
Message-ID: <98Sep30.114258edt.13464@mailgate.bank-banque-canada.ca>

Martin

I think your fix clobbered mine for NULL assignment and when I went to test a
combined version I discovered that somewhere in the setting of the tsp attr
there is already the check you proposed, and also some other sanity checks. So
my fix for NULL assignment (below again) seems to be the only problem. "tsp<-"
might be a more logical place to put these checks then in attr, but that's a
different question.

Paul
______

        "tsp<-" <-function(x, value)
        {if (is.null(value))
           {attr(x, "tsp") <- value
            if(inherits(x,"ts")) class(x) <- NULL
            return(x)
           }
         attr(x, "tsp") <-  value
         class(x) <- "ts"
         x
        }



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ihaka@stat.auckland.ac.nz  Wed Sep  2 03:45:40 1998
From: ihaka@stat.auckland.ac.nz (Ross Ihaka)
Date: Wed, 2 Sep 1998 14:45:40 +1200 (NZST)
Subject: Latin Fonts In Graphics
Message-ID: <199809020245.OAA27588@stat1.stat.auckland.ac.nz>

I have just converted the PostScript graphics driver so that it uses
Latin1 encoding.  This should make it possible for Western European
users to render their languages correctly in plots.

It is would also be possible to add other encodings.  In particular, if
someone could send me a postscript fragment which produces a fonts with
a Latin2 encoding from a standard Adobe one, we can cover Eastern Europe
too (the Latin2 encoding does not appear to be present in standard
postscript interpreters).

[ This should be available in the development snapshots soon. ]

	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From wsimpson@uwinnipeg.ca  Wed Sep  2 22:00:09 1998
From: wsimpson@uwinnipeg.ca (Bill Simpson)
Date: Wed, 2 Sep 1998 16:00:09 -0500 (CDT)
Subject: INSTALL
Message-ID: <Pine.OSF.3.95.980902155713.23043A-100000@io.uwinnipeg.ca>

I just installed R 0.62.3 and it seems to me  the INSTALL document is out
of date.  Now it seems it does it all "automatically", so the part in the
doc below can be deleted:
--------------------------------
INSTALLATION

After
        ./configure
        make
have been completed successfully, you can install the complete R tree
to your system by typing

        make install
...
--------------------------------

Bill Simpson


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Sep  2 22:19:35 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 Sep 1998 23:19:35 +0200
Subject: INSTALL
In-Reply-To: Bill Simpson's message of Wed, 2 Sep 1998 16:00:09 -0500 (CDT)
References: <Pine.OSF.3.95.980902155713.23043A-100000@io.uwinnipeg.ca>
Message-ID: <x267f62owo.fsf@blueberry.kubism.ku.dk>

Bill Simpson <wsimpson@uwinnipeg.ca> writes:

> I just installed R 0.62.3 and it seems to me  the INSTALL document is out
> of date.  Now it seems it does it all "automatically", so the part in the
> doc below can be deleted:
> --------------------------------
> INSTALLATION
> 
> After
>         ./configure
>         make
> have been completed successfully, you can install the complete R tree
> to your system by typing

Weeelll... Some people like to do the individual steps. In particular,
if you're short of disk space, you could do

./configure
make R
make help

and have a fairly minimal working system. 

Getting make to do the configure bit automagically is a bit of a hack
and if you need to modify the configure, you do it by adding arguments
to ./configure. So all in all, it's probably best to leave the
two-step version in (but of course, one might start off with a note
saying "On most systems, just type 'make'")

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Bill Simpson <wsimpson@uwinnipeg.ca>  Wed Sep  2 22:22:54 1998
From: Bill Simpson <wsimpson@uwinnipeg.ca> (Bill Simpson)
Date: Wed, 2 Sep 1998 16:22:54 -0500 (CDT)
Subject: plot symbols
Message-ID: <Pine.OSF.3.95.980902161552.22789A-101000@io.uwinnipeg.ca>

  This message is in MIME format.  The first part should be readable text,
  while the remaining parts are likely unreadable without MIME-aware tools.
  Send mail to mime@docserver.cac.washington.edu for more info.

--0-654592387-904771374=:23132
Content-Type: TEXT/PLAIN; charset=US-ASCII

I just installed the latest R .62.3 and it still has this serious plot
bug:
- in R Graphics window, all is well
- save plot to file, look at it with ghostview or print it and you will
see
	* if you change the default pars like this
par.set<-function()
{
par(cex=2,mex=.7)
par(mar=c(5,5,2,2))
} 
	* the first set of points plotted have the right size symbol, BUT
the second and subsequent sets use the default (small) symbol size.  I
attach an example where the two symbols are SUPPOSED to be the same size

Bill Simpson


--0-654592387-904771374=:23132
Content-Type: APPLICATION/PostScript; name="5.ps"
Content-Transfer-Encoding: BASE64
Content-ID: <Pine.OSF.3.95.980902162254.23132A@io.uwinnipeg.ca>
Content-Description: 

JSFQUy1BZG9iZS0zLjAKJSVEb2N1bWVudEZvbnRzOiBIZWx2ZXRpY2EgSGVs
dmV0aWNhLUJvbGQgSGVsdmV0aWNhLU9ibGlxdWUKJSUrIEhlbHZldGljYS1C
b2xkT2JsaXF1ZSBTeW1ib2wKJSVEb2N1bWVudE1lZGlhOiBsZXR0ZXIgNjEy
IDc5MiAwICgpCiUlVGl0bGU6IFIgR3JhcGhpY3MgT3V0cHV0CiUlQ3JlYXRv
cjogUiBTb2Z0d2FyZQolJVBhZ2VzOiAoYXRlbmQpCiUlT3JpZW50YXRpb246
IFBvcnRyYWl0CiUlQm91bmRpbmdCb3g6IDM2IDEyNiA1NzYgNjY2CiUlRW5k
Q29tbWVudHMKJSVCZWdpblByb2xvZwovZ3MgIHsgZ3NhdmUgfSBkZWYKL2dy
ICB7IGdyZXN0b3JlIH0gZGVmCi9icCAgeyBncyB9IGRlZgovZXAgIHsgc2hv
d3BhZ2UgZ3IgfSBkZWYKL20gICB7IG1vdmV0byB9IGRlZgovbCAgIHsgbGlu
ZXRvIH0gZGVmCi9ucCAgeyBuZXdwYXRoIH0gZGVmCi9jcCAgeyBjbG9zZXBh
dGggfSBkZWYKL2YgICB7IGZpbGwgfSBkZWYKL28gICB7IHN0cm9rZSB9IGRl
ZgovY2YgIHsgbmV3cGF0aCAwIDM2MCBhcmMgZmlsbCB9IGRlZgovY28gIHsg
bmV3cGF0aCAwIDM2MCBhcmMgc3Ryb2tlIH0gZGVmCi9yICAgeyAzIGluZGV4
IDMgaW5kZXggbW92ZXRvIDEgaW5kZXggNCAtMSByb2xsCiAgICAgICBsaW5l
dG8gZXhjaCAxIGluZGV4IGxpbmV0byBsaW5ldG8gY2xvc2VwYXRoIH0gZGVm
Ci9yZiAgeyByIGYgfSBkZWYKL3JvICB7IHIgbyB9IGRlZgovdCAgIHsgNiAt
MiByb2xsIG1vdmV0byBnc2F2ZSAzIGluZGV4IHRydWUKICAgICAgIGNoYXJw
YXRoIGZsYXR0ZW5wYXRoIHBhdGhiYm94IGdyZXN0b3JlIGdzYXZlCiAgICAg
ICA1IC0xIHJvbGwgcm90YXRlIDYgLTEgcm9sbCBuZWcgMyAtMSByb2xsIDUg
LTEKICAgICAgIHJvbGwgc3ViIG11bCA0IC0xIHJvbGwgbmVnIDMgLTEgcm9s
bCA0IC0xIHJvbGwKICAgICAgIHN1YiBtdWwgcm1vdmV0byBzaG93IGdyZXN0
b3JlIH0gZGVmCi9jbCAgeyBpbml0Y2xpcCBuZXdwYXRoIDMgaW5kZXggMyBp
bmRleCBtb3ZldG8gMSBpbmRleAogICAgICAgNCAtMSByb2xsIGxpbmV0byAg
ZXhjaCAxIGluZGV4IGxpbmV0byBsaW5ldG8KICAgICAgIGNsb3NlcGF0aCBj
bGlwIG5ld3BhdGggfSBkZWYKL3JnYiB7IHNldHJnYmNvbG9yIH0gZGVmCi9z
ICAgeyBzY2FsZWZvbnQgc2V0Zm9udCB9IGRlZgovUiAgIHsgL0hlbHZldGlj
YSBmaW5kZm9udCB9IGRlZgovQiAgIHsgL0hlbHZldGljYS1Cb2xkIGZpbmRm
b250IH0gZGVmCi9JICAgeyAvSGVsdmV0aWNhLU9ibGlxdWUgZmluZGZvbnQg
fSBkZWYKL0JJICB7IC9IZWx2ZXRpY2EtQm9sZE9ibGlxdWUgZmluZGZvbnQg
fSBkZWYKL1MgICB7IC9TeW1ib2wgZmluZGZvbnQgfSBkZWYKMSBzZXRsaW5l
Y2FwIDEgc2V0bGluZWpvaW4KJSVFbmRQcm9sb2cKJSVQYWdlOiAxIDEKYnAK
UiAxMCBzCjAuNzUgc2V0bGluZXdpZHRoCjAuMDAwMCAwLjAwMDAgMC4wMDAw
IHJnYgoxMDYuMDAgMTk2LjAwIDU0OC4wMCA2MzguMDAgY2wKMTA2LjAwIDE5
Ni4wMCA1NDguMDAgNjM4LjAwIGNsCltdIDAgc2V0ZGFzaAowLjc1IHNldGxp
bmV3aWR0aAoxMjIuMzcgMjM4LjE1IDExLjAxIGNvCltdIDAgc2V0ZGFzaAow
Ljc1IHNldGxpbmV3aWR0aAoyMzcuNzggNDQ3LjMyIDExLjAxIGNvCltdIDAg
c2V0ZGFzaAowLjc1IHNldGxpbmV3aWR0aAozNTMuMjAgNjEzLjY4IDExLjAx
IGNvCltdIDAgc2V0ZGFzaAowLjc1IHNldGxpbmV3aWR0aAoxNjguNTQgMjc3
LjM5IDExLjAxIGNvCltdIDAgc2V0ZGFzaAowLjc1IHNldGxpbmV3aWR0aAoy
OTUuNDkgNjE3LjU4IDExLjAxIGNvCjM2LjAwIDEyNi4wMCA1NzYuMDAgNjY2
LjAwIGNsCltdIDAgc2V0ZGFzaAowLjc1IHNldGxpbmV3aWR0aApucAoxMjIu
MzcgMTk2LjAwIG0KNDY4LjYxIDE5Ni4wMCBsCm8KW10gMCBzZXRkYXNoCjAu
NzUgc2V0bGluZXdpZHRoCm5wCjEyMi4zNyAxOTYuMDAgbQoxMjIuMzcgMTg5
LjAwIGwKbwpbXSAwIHNldGRhc2gKMC43NSBzZXRsaW5ld2lkdGgKbnAKMjM3
Ljc4IDE5Ni4wMCBtCjIzNy43OCAxODkuMDAgbApvCltdIDAgc2V0ZGFzaAow
Ljc1IHNldGxpbmV3aWR0aApucAozNTMuMjAgMTk2LjAwIG0KMzUzLjIwIDE4
OS4wMCBsCm8KW10gMCBzZXRkYXNoCjAuNzUgc2V0bGluZXdpZHRoCm5wCjQ2
OC42MSAxOTYuMDAgbQo0NjguNjEgMTg5LjAwIGwKbwpSIDI0IHMKMTIyLjM3
IDE2OS40MCAoMC4wKSAwLjUwIDAuMDAgMC4wMCB0CjIzNy43OCAxNjkuNDAg
KDAuMSkgMC41MCAwLjAwIDAuMDAgdAozNTMuMjAgMTY5LjQwICgwLjIpIDAu
NTAgMC4wMCAwLjAwIHQKNDY4LjYxIDE2OS40MCAoMC4zKSAwLjUwIDAuMDAg
MC4wMCB0CltdIDAgc2V0ZGFzaAowLjc1IHNldGxpbmV3aWR0aApucAoxMDYu
MDAgMjEyLjM3IG0KMTA2LjAwIDYyMS42MyBsCm8KW10gMCBzZXRkYXNoCjAu
NzUgc2V0bGluZXdpZHRoCm5wCjEwNi4wMCAyMTIuMzcgbQo5OS4wMCAyMTIu
MzcgbApvCltdIDAgc2V0ZGFzaAowLjc1IHNldGxpbmV3aWR0aApucAoxMDYu
MDAgMjk0LjIyIG0KOTkuMDAgMjk0LjIyIGwKbwpbXSAwIHNldGRhc2gKMC43
NSBzZXRsaW5ld2lkdGgKbnAKMTA2LjAwIDM3Ni4wNyBtCjk5LjAwIDM3Ni4w
NyBsCm8KW10gMCBzZXRkYXNoCjAuNzUgc2V0bGluZXdpZHRoCm5wCjEwNi4w
MCA0NTcuOTMgbQo5OS4wMCA0NTcuOTMgbApvCltdIDAgc2V0ZGFzaAowLjc1
IHNldGxpbmV3aWR0aApucAoxMDYuMDAgNTM5Ljc4IG0KOTkuMDAgNTM5Ljc4
IGwKbwpbXSAwIHNldGRhc2gKMC43NSBzZXRsaW5ld2lkdGgKbnAKMTA2LjAw
IDYyMS42MyBtCjk5LjAwIDYyMS42MyBsCm8KOTAuNjAgMjEyLjM3ICgwLjAp
IDAuNTAgMC4wMCA5MC4wMCB0CjkwLjYwIDI5NC4yMiAoMC4yKSAwLjUwIDAu
MDAgOTAuMDAgdAo5MC42MCAzNzYuMDcgKDAuNCkgMC41MCAwLjAwIDkwLjAw
IHQKOTAuNjAgNDU3LjkzICgwLjYpIDAuNTAgMC4wMCA5MC4wMCB0CjkwLjYw
IDUzOS43OCAoMC44KSAwLjUwIDAuMDAgOTAuMDAgdAo5MC42MCA2MjEuNjMg
KDEuMCkgMC41MCAwLjAwIDkwLjAwIHQKW10gMCBzZXRkYXNoCjAuNzUgc2V0
bGluZXdpZHRoCm5wCjU0OC4wMCAxOTYuMDAgbQo1NDguMDAgNjM4LjAwIGwK
MTA2LjAwIDYzOC4wMCBsCjEwNi4wMCAxOTYuMDAgbApjcCBvCjMyNy4wMCAx
NDEuNDAgKENvbnRyYXN0KSAwLjUwIDAuMDAgMC4wMCB0CjYyLjYwIDQxNy4w
MCAoUHJvcG9ydGlvbiBvZiBzZXR0aW5ncyBvciAneWVzJyBqdWRnZW1lbnRz
KSAwLjUwIDAuMDAgOTAuMDAgdAoxMDYuMDAgMTk2LjAwIDU0OC4wMCA2Mzgu
MDAgY2wKW10gMCBzZXRkYXNoCjAuNzUgc2V0bGluZXdpZHRoCm5wCjEyMi4z
NyAyMzMuNDYgbQoxMjYuMDkgMjM2LjQwIGwKMTI5LjgyIDIzOS42NyBsCjEz
My41NCAyNDMuMjcgbAoxMzcuMjYgMjQ3LjIyIGwKMTQwLjk5IDI1MS41NCBs
CjE0NC43MSAyNTYuMjQgbAoxNDguNDMgMjYxLjMzIGwKMTUyLjE1IDI2Ni44
MiBsCjE1NS44OCAyNzIuNzMgbAoxNTkuNjAgMjc5LjA1IGwKMTYzLjMyIDI4
NS43OCBsCjE2Ny4wNSAyOTIuOTMgbAoxNzAuNzcgMzAwLjQ4IGwKMTc0LjQ5
IDMwOC40MyBsCjE3OC4yMiAzMTYuNzYgbAoxODEuOTQgMzI1LjQ1IGwKMTg1
LjY2IDMzNC40OCBsCjE4OS4zOCAzNDMuODMgbAoxOTMuMTEgMzUzLjQ2IGwK
MTk2LjgzIDM2My4zNSBsCjIwMC41NSAzNzMuNDUgbAoyMDQuMjggMzgzLjcz
IGwKMjA4LjAwIDM5NC4xNSBsCjIxMS43MiA0MDQuNjYgbAoyMTUuNDUgNDE1
LjIyIGwKMjE5LjE3IDQyNS43OSBsCjIyMi44OSA0MzYuMzMgbAoyMjYuNjIg
NDQ2Ljc4IGwKMjMwLjM0IDQ1Ny4xMSBsCjIzNC4wNiA0NjcuMjggbAoyMzcu
NzggNDc3LjI0IGwKMjQxLjUxIDQ4Ni45NiBsCjI0NS4yMyA0OTYuNDEgbAoy
NDguOTUgNTA1LjU1IGwKMjUyLjY4IDUxNC4zNiBsCjI1Ni40MCA1MjIuODEg
bAoyNjAuMTIgNTMwLjg5IGwKMjYzLjg1IDUzOC41OCBsCjI2Ny41NyA1NDUu
ODYgbAoyNzEuMjkgNTUyLjczIGwKMjc1LjAxIDU1OS4xOSBsCjI3OC43NCA1
NjUuMjQgbAoyODIuNDYgNTcwLjg3IGwKMjg2LjE4IDU3Ni4wOSBsCjI4OS45
MSA1ODAuOTIgbAoyOTMuNjMgNTg1LjM3IGwKMjk3LjM1IDU4OS40NCBsCjMw
MS4wOCA1OTMuMTUgbAozMDQuODAgNTk2LjUzIGwKMzA4LjUyIDU5OS41OSBs
CjMxMi4yNSA2MDIuMzQgbAozMTUuOTcgNjA0LjgxIGwKMzE5LjY5IDYwNy4w
MiBsCjMyMy40MSA2MDguOTggbAozMjcuMTQgNjEwLjcyIGwKMzMwLjg2IDYx
Mi4yNiBsCjMzNC41OCA2MTMuNjEgbAozMzguMzEgNjE0Ljc5IGwKMzQyLjAz
IDYxNS44MSBsCjM0NS43NSA2MTYuNzEgbAozNDkuNDggNjE3LjQ4IGwKMzUz
LjIwIDYxOC4xNCBsCm8KNDU3LjA3IDI1My4zMCAoMC41IGMvZGVnKSAwLjUw
IDAuMzMgMC4wMCB0Cm5wCiAgMTg4LjAwIDIxNC4xOSBtCiAgMTkzLjAwIDIx
OS4xOSBsCiAgMTg4LjAwIDIyNC4yMCBsCiAgMTgyLjk5IDIxOS4xOSBsCmNw
IGYKbnAKICAyNTYuMTYgMjIxLjAxIG0KICAyNjEuMTYgMjI2LjAxIGwKICAy
NTYuMTYgMjMxLjAyIGwKICAyNTEuMTYgMjI2LjAxIGwKY3AgZgpucAogIDI1
Ny45MSAyMjcuODMgbQogIDI2Mi45MiAyMzIuODMgbAogIDI1Ny45MSAyMzcu
ODQgbAogIDI1Mi45MSAyMzIuODMgbApjcCBmCm5wCiAgMjY2LjQ4IDIzNC42
NSBtCiAgMjcxLjQ4IDIzOS42NSBsCiAgMjY2LjQ4IDI0NC42NiBsCiAgMjYx
LjQ4IDIzOS42NSBsCmNwIGYKbnAKICAyOTUuOTAgMjQxLjQ3IG0KICAzMDAu
OTAgMjQ2LjQ4IGwKICAyOTUuOTAgMjUxLjQ4IGwKICAyOTAuODkgMjQ2LjQ4
IGwKY3AgZgpucAogIDI5OC4xOSAyNDguMjkgbQogIDMwMy4xOSAyNTMuMzAg
bAogIDI5OC4xOSAyNTguMzAgbAogIDI5My4xOCAyNTMuMzAgbApjcCBmCm5w
CiAgMzAzLjg1IDI1NS4xMSBtCiAgMzA4Ljg2IDI2MC4xMiBsCiAgMzAzLjg1
IDI2NS4xMiBsCiAgMjk4Ljg1IDI2MC4xMiBsCmNwIGYKbnAKICAzMDUuMzcg
MjYxLjkzIG0KICAzMTAuMzcgMjY2Ljk0IGwKICAzMDUuMzcgMjcxLjk0IGwK
ICAzMDAuMzYgMjY2Ljk0IGwKY3AgZgpucAogIDMxNi43NSAyNjguNzYgbQog
IDMyMS43NSAyNzMuNzYgbAogIDMxNi43NSAyNzguNzYgbAogIDMxMS43NCAy
NzMuNzYgbApjcCBmCm5wCiAgMzE5LjQxIDI3NS41OCBtCiAgMzI0LjQxIDI4
MC41OCBsCiAgMzE5LjQxIDI4NS41OCBsCiAgMzE0LjQxIDI4MC41OCBsCmNw
IGYKbnAKICAzMjEuMTcgMjgyLjQwIG0KICAzMjYuMTggMjg3LjQwIGwKICAz
MjEuMTcgMjkyLjQxIGwKICAzMTYuMTcgMjg3LjQwIGwKY3AgZgpucAogIDMy
NS42MCAyODkuMjIgbQogIDMzMC42MCAyOTQuMjIgbAogIDMyNS42MCAyOTku
MjMgbAogIDMyMC42MCAyOTQuMjIgbApjcCBmCm5wCiAgMzI5Ljk3IDI5Ni4w
NCBtCiAgMzM0Ljk3IDMwMS4wNCBsCiAgMzI5Ljk3IDMwNi4wNSBsCiAgMzI0
Ljk2IDMwMS4wNCBsCmNwIGYKbnAKICAzNDYuODYgMzAyLjg2IG0KICAzNTEu
ODcgMzA3Ljg2IGwKICAzNDYuODYgMzEyLjg3IGwKICAzNDEuODYgMzA3Ljg2
IGwKY3AgZgpucAogIDM0OC45NyAzMDkuNjggbQogIDM1My45NyAzMTQuNjkg
bAogIDM0OC45NyAzMTkuNjkgbAogIDM0My45NyAzMTQuNjkgbApjcCBmCm5w
CiAgMzUwLjgzIDMxNi41MCBtCiAgMzU1LjgzIDMyMS41MSBsCiAgMzUwLjgz
IDMyNi41MSBsCiAgMzQ1LjgyIDMyMS41MSBsCmNwIGYKbnAKICAzNTMuNjMg
MzIzLjMyIG0KICAzNTguNjQgMzI4LjMzIGwKICAzNTMuNjMgMzMzLjMzIGwK
ICAzNDguNjMgMzI4LjMzIGwKY3AgZgpucAogIDM1NC42NSAzMzAuMTQgbQog
IDM1OS42NiAzMzUuMTUgbAogIDM1NC42NSAzNDAuMTUgbAogIDM0OS42NSAz
MzUuMTUgbApjcCBmCm5wCiAgMzU1LjE3IDMzNi45NyBtCiAgMzYwLjE4IDM0
MS45NyBsCiAgMzU1LjE3IDM0Ni45NyBsCiAgMzUwLjE3IDM0MS45NyBsCmNw
IGYKbnAKICAzNTcuMDMgMzQzLjc5IG0KICAzNjIuMDMgMzQ4Ljc5IGwKICAz
NTcuMDMgMzUzLjc5IGwKICAzNTIuMDMgMzQ4Ljc5IGwKY3AgZgpucAogIDM2
MS4zMiAzNTAuNjEgbQogIDM2Ni4zMiAzNTUuNjEgbAogIDM2MS4zMiAzNjAu
NjIgbAogIDM1Ni4zMSAzNTUuNjEgbApjcCBmCm5wCiAgMzYyLjU0IDM1Ny40
MyBtCiAgMzY3LjU1IDM2Mi40MyBsCiAgMzYyLjU0IDM2Ny40NCBsCiAgMzU3
LjU0IDM2Mi40MyBsCmNwIGYKbnAKICAzNjMuMDcgMzY0LjI1IG0KICAzNjgu
MDcgMzY5LjI1IGwKICAzNjMuMDcgMzc0LjI2IGwKICAzNTguMDcgMzY5LjI1
IGwKY3AgZgpucAogIDM2My41NSAzNzEuMDcgbQogIDM2OC41NSAzNzYuMDcg
bAogIDM2My41NSAzODEuMDggbAogIDM1OC41NCAzNzYuMDcgbApjcCBmCm5w
CiAgMzY2LjE4IDM3Ny44OSBtCiAgMzcxLjE5IDM4Mi45MCBsCiAgMzY2LjE4
IDM4Ny45MCBsCiAgMzYxLjE4IDM4Mi45MCBsCmNwIGYKbnAKICAzNzAuNTMg
Mzg0LjcxIG0KICAzNzUuNTMgMzg5LjcyIGwKICAzNzAuNTMgMzk0LjcyIGwK
ICAzNjUuNTIgMzg5LjcyIGwKY3AgZgpucAogIDM3MS4xNCAzOTEuNTMgbQog
IDM3Ni4xNCAzOTYuNTQgbAogIDM3MS4xNCA0MDEuNTQgbAogIDM2Ni4xMyAz
OTYuNTQgbApjcCBmCm5wCiAgMzcxLjUxIDM5OC4zNSBtCiAgMzc2LjUxIDQw
My4zNiBsCiAgMzcxLjUxIDQwOC4zNiBsCiAgMzY2LjUwIDQwMy4zNiBsCmNw
IGYKbnAKICAzNzMuNzcgNDA1LjE4IG0KICAzNzguNzggNDEwLjE4IGwKICAz
NzMuNzcgNDE1LjE4IGwKICAzNjguNzcgNDEwLjE4IGwKY3AgZgpucAogIDM3
Ni4yNyA0MTIuMDAgbQogIDM4MS4yNyA0MTcuMDAgbAogIDM3Ni4yNyA0MjIu
MDAgbAogIDM3MS4yNiA0MTcuMDAgbApjcCBmCm5wCiAgMzc4LjM3IDQxOC44
MiBtCiAgMzgzLjM3IDQyMy44MiBsCiAgMzc4LjM3IDQyOC44MiBsCiAgMzcz
LjM2IDQyMy44MiBsCmNwIGYKbnAKICAzNzkuNzQgNDI1LjY0IG0KICAzODQu
NzUgNDMwLjY0IGwKICAzNzkuNzQgNDM1LjY1IGwKICAzNzQuNzQgNDMwLjY0
IGwKY3AgZgpucAogIDM4MS4xMCA0MzIuNDYgbQogIDM4Ni4xMCA0MzcuNDYg
bAogIDM4MS4xMCA0NDIuNDcgbAogIDM3Ni4xMCA0MzcuNDYgbApjcCBmCm5w
CiAgMzgyLjI0IDQzOS4yOCBtCiAgMzg3LjI0IDQ0NC4yOCBsCiAgMzgyLjI0
IDQ0OS4yOSBsCiAgMzc3LjIzIDQ0NC4yOCBsCmNwIGYKbnAKICAzODQuNTQg
NDQ2LjEwIG0KICAzODkuNTQgNDUxLjEwIGwKICAzODQuNTQgNDU2LjExIGwK
ICAzNzkuNTQgNDUxLjEwIGwKY3AgZgpucAogIDM4OC4xMiA0NTIuOTIgbQog
IDM5My4xMiA0NTcuOTMgbAogIDM4OC4xMiA0NjIuOTMgbAogIDM4My4xMSA0
NTcuOTMgbApjcCBmCm5wCiAgMzkzLjUyIDQ1OS43NCBtCiAgMzk4LjUzIDQ2
NC43NSBsCiAgMzkzLjUyIDQ2OS43NSBsCiAgMzg4LjUyIDQ2NC43NSBsCmNw
IGYKbnAKICAzOTkuODUgNDY2LjU2IG0KICA0MDQuODYgNDcxLjU3IGwKICAz
OTkuODUgNDc2LjU3IGwKICAzOTQuODUgNDcxLjU3IGwKY3AgZgpucAogIDQw
Mi4wMiA0NzMuMzggbQogIDQwNy4wMiA0NzguMzkgbAogIDQwMi4wMiA0ODMu
MzkgbAogIDM5Ny4wMSA0NzguMzkgbApjcCBmCm5wCiAgNDAzLjU3IDQ4MC4y
MSBtCiAgNDA4LjU4IDQ4NS4yMSBsCiAgNDAzLjU3IDQ5MC4yMSBsCiAgMzk4
LjU3IDQ4NS4yMSBsCmNwIGYKbnAKICA0MDkuMTkgNDg3LjAzIG0KICA0MTQu
MTkgNDkyLjAzIGwKICA0MDkuMTkgNDk3LjAzIGwKICA0MDQuMTkgNDkyLjAz
IGwKY3AgZgpucAogIDQxMS4yMiA0OTMuODUgbQogIDQxNi4yMyA0OTguODUg
bAogIDQxMS4yMiA1MDMuODYgbAogIDQwNi4yMiA0OTguODUgbApjcCBmCm5w
CiAgNDExLjc0IDUwMC42NyBtCiAgNDE2Ljc1IDUwNS42NyBsCiAgNDExLjc0
IDUxMC42OCBsCiAgNDA2Ljc0IDUwNS42NyBsCmNwIGYKbnAKICA0MTIuNTQg
NTA3LjQ5IG0KICA0MTcuNTQgNTEyLjQ5IGwKICA0MTIuNTQgNTE3LjUwIGwK
ICA0MDcuNTQgNTEyLjQ5IGwKY3AgZgpucAogIDQxMi42NyA1MTQuMzEgbQog
IDQxNy42OCA1MTkuMzEgbAogIDQxMi42NyA1MjQuMzIgbAogIDQwNy42NyA1
MTkuMzEgbApjcCBmCm5wCiAgNDEzLjIzIDUyMS4xMyBtCiAgNDE4LjIzIDUy
Ni4xNCBsCiAgNDEzLjIzIDUzMS4xNCBsCiAgNDA4LjIyIDUyNi4xNCBsCmNw
IGYKbnAKICA0MTUuOTYgNTI3Ljk1IG0KICA0MjAuOTYgNTMyLjk2IGwKICA0
MTUuOTYgNTM3Ljk2IGwKICA0MTAuOTUgNTMyLjk2IGwKY3AgZgpucAogIDQy
MS4zMCA1MzQuNzcgbQogIDQyNi4zMSA1MzkuNzggbAogIDQyMS4zMCA1NDQu
NzggbAogIDQxNi4zMCA1MzkuNzggbApjcCBmCm5wCiAgNDIzLjU2IDU0MS41
OSBtCiAgNDI4LjU2IDU0Ni42MCBsCiAgNDIzLjU2IDU1MS42MCBsCiAgNDE4
LjU1IDU0Ni42MCBsCmNwIGYKbnAKICA0MzAuNzAgNTQ4LjQyIG0KICA0MzUu
NzEgNTUzLjQyIGwKICA0MzAuNzAgNTU4LjQyIGwKICA0MjUuNzAgNTUzLjQy
IGwKY3AgZgpucAogIDQ0OC45NCA1NTUuMjQgbQogIDQ1My45NCA1NjAuMjQg
bAogIDQ0OC45NCA1NjUuMjQgbAogIDQ0My45MyA1NjAuMjQgbApjcCBmCm5w
CiAgNDQ5Ljc4IDU2Mi4wNiBtCiAgNDU0Ljc4IDU2Ny4wNiBsCiAgNDQ5Ljc4
IDU3Mi4wNyBsCiAgNDQ0Ljc3IDU2Ny4wNiBsCmNwIGYKbnAKICA0NTguOTUg
NTY4Ljg4IG0KICA0NjMuOTYgNTczLjg4IGwKICA0NTguOTUgNTc4Ljg5IGwK
ICA0NTMuOTUgNTczLjg4IGwKY3AgZgpucAogIDQ2MS45OSA1NzUuNzAgbQog
IDQ2Ny4wMCA1ODAuNzAgbAogIDQ2MS45OSA1ODUuNzEgbAogIDQ1Ni45OSA1
ODAuNzAgbApjcCBmCm5wCiAgNDYzLjA1IDU4Mi41MiBtCiAgNDY4LjA1IDU4
Ny41MiBsCiAgNDYzLjA1IDU5Mi41MyBsCiAgNDU4LjA0IDU4Ny41MiBsCmNw
IGYKbnAKICA0NjcuNzcgNTg5LjM0IG0KICA0NzIuNzcgNTk0LjM1IGwKICA0
NjcuNzcgNTk5LjM1IGwKICA0NjIuNzYgNTk0LjM1IGwKY3AgZgpucAogIDQ4
My42MyA1OTYuMTYgbQogIDQ4OC42MyA2MDEuMTcgbAogIDQ4My42MyA2MDYu
MTcgbAogIDQ3OC42MiA2MDEuMTcgbApjcCBmCm5wCiAgNDg0LjIyIDYwMi45
OCBtCiAgNDg5LjIzIDYwNy45OSBsCiAgNDg0LjIyIDYxMi45OSBsCiAgNDc5
LjIyIDYwNy45OSBsCmNwIGYKbnAKICA0OTYuNTMgNjA5LjgwIG0KICA1MDEu
NTMgNjE0LjgxIGwKICA0OTYuNTMgNjE5LjgxIGwKICA0OTEuNTIgNjE0Ljgx
IGwKY3AgZgpucAogIDUzMS42MyA2MTYuNjMgbQogIDUzNi42MyA2MjEuNjMg
bAogIDUzMS42MyA2MjYuNjMgbAogIDUyNi42MyA2MjEuNjMgbApjcCBmCmVw
CiUlVHJhaWxlcgolJVBhZ2VzOiAxCiUlRU9GCg==
--0-654592387-904771374=:23132--
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Sep  3 07:04:56 1998
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 3 Sep 1998 07:04:56 +0100 (BST)
Subject: INSTALL
In-Reply-To: <x267f62owo.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.3.96.980903064303.17366A-100000@localhost>

On 2 Sep 1998, Peter Dalgaard BSA wrote:

> Bill Simpson <wsimpson@uwinnipeg.ca> writes:
> 
> > I just installed R 0.62.3 and it seems to me  the INSTALL document is out
> > of date.  Now it seems it does it all "automatically", so the part in the
> > doc below can be deleted:
> > --------------------------------
> > INSTALLATION
> > 
> > After
> >         ./configure
> >         make
> > have been completed successfully, you can install the complete R tree
> > to your system by typing
> 
> Weeelll... Some people like to do the individual steps. In particular,
> if you're short of disk space, you could do
> 
> ./configure
> make R
> make help
> 
> and have a fairly minimal working system. 
> 
> Getting make to do the configure bit automagically is a bit of a hack
> and if you need to modify the configure, you do it by adding arguments
> to ./configure. So all in all, it's probably best to leave the
> two-step version in (but of course, one might start off with a note
> saying "On most systems, just type 'make'")

In particular if you are installing to a location other than /usr/local
you do need --prefix, and so have to run configure separately. (And
if you run pre-release or devel versions, you probably do want to install
elsewhere.)

What I would like the file to include is the information that you can
run without installing from the place you compiled, even after make clean.
That is a link of  /place/I/unpacked/bin/R to somewhere in your path
is all you need. And that does save disk space since during the install you
need two copies.  My installation procedure is

	./configure --prefix=...
	make
	/place/I/unpacked/bin/R   # check it runs
	make clean
	make install

As pedantry:

> Now type R and reach for your S manuals ...

on most (all) shells you will need to rehash, and in fact the default place
to install is not in the default path on Solaris (and I suspect most
non-gnu) systems.  But, would not a comment to read the R FAQ be useful? 


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tuffery@bach.urbb.jussieu.fr  Thu Sep  3 09:56:06 1998
From: tuffery@bach.urbb.jussieu.fr (Pierre TUFFERY)
Date: Thu, 3 Sep 1998 10:56:06 +0200 (CEST)
Subject: R on Linux/Alpha ?
Message-ID: <199809030856.KAA06386@aureil.urbb.jussieu.fr>

Hi,
As a newcommer to R, I tried to install R on my Alpha 164LX PC
(running Linux), but it coredumps before performing anything.
(a common problem when porting to Alpha 164LX).
Has anybody any information and solution to this ?
-- 
Email: tuffery@urbb.jussieu.fr 
Tel  : (33 1) 44.27.77.33     

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Sep  3 10:15:33 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 03 Sep 1998 11:15:33 +0200
Subject: R on Linux/Alpha ?
In-Reply-To: tuffery@bach.urbb.jussieu.fr's message of Thu, 3 Sep 1998 10:56:06 +0200 (CEST)
References: <199809030856.KAA06386@aureil.urbb.jussieu.fr>
Message-ID: <x2af4h4kwa.fsf@blueberry.kubism.ku.dk>

tuffery@bach.urbb.jussieu.fr (Pierre TUFFERY) writes:

> Hi,
> As a newcommer to R, I tried to install R on my Alpha 164LX PC
> (running Linux), but it coredumps before performing anything.
> (a common problem when porting to Alpha 164LX).
> Has anybody any information and solution to this ?

Linux version?
R version?

It has been reported to work, in some configurations at least.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From nassar@etymon.com  Thu Sep  3 11:59:50 1998
From: nassar@etymon.com (Nassib Nassar)
Date: Thu, 3 Sep 1998 06:59:50 -0400
Subject: R on Linux/Alpha ?
In-Reply-To: <199809030856.KAA06386@aureil.urbb.jussieu.fr>
References: <199809030856.KAA06386@aureil.urbb.jussieu.fr>
Message-ID: <19980903065950.A495@etymon.com>

You might try compiling it with CFLAGS="-mieee -g -O1" (when you run
configure).  This worked for 0.62.2 on my Alpha running Linux.

Nassib



On Thu, Sep 03, 1998 at 10:56:06AM +0200, Pierre TUFFERY wrote:
> Hi,
> As a newcommer to R, I tried to install R on my Alpha 164LX PC
> (running Linux), but it coredumps before performing anything.
> (a common problem when porting to Alpha 164LX).
> Has anybody any information and solution to this ?
> -- 
> Email: tuffery@urbb.jussieu.fr 
> Tel  : (33 1) 44.27.77.33     
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Sep  3 16:19:03 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 3 Sep 1998 17:19:03 +0200
Subject: {g}lm coefficients labeling etc. [was "R0.62.3 problems"]
In-Reply-To: <199809030936.LAA08902@alpha.luc.ac.be> (message from Jim Lindsey
 on Thu, 3 Sep 1998 11:36:48 +0200 (MET DST))
Message-ID: <199809031519.RAA13698@sophie.ethz.ch>


	[I think it would make more sense to use  R-devel instead of R-help
	 for discussions like these, that's why ...]

>>>>> "Jim" == Jim Lindsey <jlindsey@alpha.luc.ac.be> writes:

    Jim> First, I did not install R0.62.2 and there was no problem with
    Jim> binary factor variables in 0.62.1. I discovered the problem since
    Jim> .3 appeared.
Yes. 
and I agree 100% with Brian's remark that we probably should have started
discussing these things on R-devel rather than private E-mails + R-core...
Excuse us!

    Jim> My Liege undergraduate social science students have a somewhat
    Jim> different conception of contrasts than Brian's Oxford math
    Jim> students.  As it stands, the output of glm for binary factor
    Jim> variables is unusable for them.

Thank you Jim, for your complete example session -- including data !
As a remark to everyone:  I think you will get much better feedback if you
use such complete examples...

    Jim> .........
    Jim> ......... examples and thoughts...
    Jim> .........

    Jim> The need to put the label on x in the interaction in the second
    Jim> glm output clearly demonstrates that Brian is wrong.
    Jim> So put it on all the time.

    Jim> The idea is maximum transparency, not maximum
    Jim> opaqueness.  Otherwise, let's also stop showing the levels when a
    Jim> factor variable is printed out: S-Plus (apparently) does not do
    Jim> it, so it must be useless to show them. ;-)

good point.
However, this is only a print.xx method whereas with the coefficients'
names/labels, we are talking about the structure returned by [g]lm(.).

There *are* good reasons to be S-compatible
	   --- with some carefully discussed exceptions.

I for myself had rather kept more of the non-compatibilities of R;
{{ factor(..) ! }} but I wasn't among those doing the port of packages 
from S-plus to R...

By the way: For "poly"-contrasted factors, we are already slightly
S-incompatible, since S isn't compatible with itself!

S> dimnames(contr.poly(11))
[[1]]:
character(0)

[[2]]:
 [1] ".L"    ".Q"    ".C"    " ^ 4"  " ^ 5"  " ^ 6"  " ^ 7"  " ^ 8"  " ^ 9" 
[10] " ^ 10"

S> dimnames(contr.poly(12))
[[1]]:
 [1] "1"  "2"  "3"  "4"  "5"  "6"  "7"  "8"  "9"  "10" "11" "12"

[[2]]:
 [1] "^1"  "^2"  "^3"  "^4"  "^5"  "^6"  "^7"  "^8"  "^9"  "^10" "^11"

---------------------------------------- and we have
R> dimnames(contr.poly(12))
[[1]]
NULL

[[2]]
 [1] ".L"  ".Q"  ".C"  "^4"  "^5"  "^6"  "^7"  "^8"  "^9"  "^10" "^11"

and the consistent behavior for n=11 (or any other n).


((( thus showing yet another (unnecessary?) incompatibility:
   
    we have "NULL"   where  S has "character(0)"
)))

    Jim> By the way, my suggestion sometime ago that contrasts should be
    Jim> printed out is only half implemented: they appear with print.glm
    Jim> but not with summary.glm.

hmm, they *were* in 0.62.2 (put in by me, upon your suggestion!)
the version which you missed unfortunately.

The reason is -- as Brian mentioned -- a change of the contrasts attribute
of lm(.) and glm(.) objects.
and I hadn't found the time to re-add some "global contrasts: ...."
line to print.summary.[g]lm(..).  
May still be a good idea; however, a related one is the following:

What I have been thinking about since,
is an idea to add 
 1) a 1-letter code column, with  
	 "D" or "c"  for "Discrete" (factor) or "continuuous"
    ("D" or "c": again thinking about ascii Graphics: the 2 letters should
    be  *visually* easily discernible.. they *are* for human eyes...
 2) Another Column which
	-- only for the "D" ones --
    has another  n-letter code indicating which contrasts were active;
    something like
	"Trt" "Sum" "Hlrt" "Poly" "###"
    (where "###" stands for ``other''/``self-defined''
     and contains the infinite other possibilities as indicated by BDR).

to each row of the coef matrix as produced by print.summary.[g]lm.

----
This still does not solve all the problems you mentioned in your example;
at the moment (where I haven't investigated more) I tend to agree with
your statement above ``So put it on all the time.''

    Jim> As to the significance stars, I obviously immediately shut them
    Jim> off on my site Rprofile, but that is on my portable. And they will
    Jim> be on our teaching server as well. My concern is rather with the
    Jim> image of R: is it to be modern, or 1950s statistics? Must I tell
    Jim> my students not to download R from the Web because it will do
    Jim> weird things (inconsistent labels on factor variables, strange
    Jim> stars appearing, ...) but only to use the copy I give them? So
    Jim> let's set the default option to FALSE.

I have the impression that you never got my point here..
It *is* the nineties, and the 'stars'  
are a ``GRAPHICAL'' encoding of P-values, not more, not less.

We have been using them in *real* data analysis (as opposed to teaching
exercises) for five or more years now.
If you fit many models with dozens of coefficients each,
the *graphical* clues *are* valuable, believe it or not.

[[I've learned before the nineties that ascii output
  can also be considered as some sort of graphics and that
  it matters how (and with which precision,...)
  you print numbers,  tables and such...

  Maybe the really old-fashioned thing is that we still use ASCII output
  quite a bit;  however, a lot of us realize that it has the big advantage
  that is *portable* and *archivable* ...
  are you sure that in 15 years you will be able to easily display/print
  the GIFs you create today?
]]

I see that there's a good reason not to have (doubtful) P values at all;
That's why vanilla S (as opposed to S-plus) never had P values in
print.summary.lm(.)
However, I think (pro statisticians and social scientists) will want them
often enough.

Back to the ``graphical P values''  
((I should never have accepted the name "significance stars"!)):

I've been thinking of new default,
neither TRUE nor FALSE, which would not draw them when either
	- there's only 1 or 2 coefficients
	- all P-values would be drawn as "***"
	- all P-values would be drawn as " "
		(which is already an empty drawing now, but
		 would also drop the corresponding ``legend'')

And -- in any case--
I don't think it would be so hard to tell your students to set a few
options(..) in their profile or before they start an analysis.

We will have more options in the future, and some will be good for
teaching, others will be preferable for data analysis,
others for ``number crunching'', etc.


    Jim> If anyone is interested in implementing profile likelihood
    Jim> intervals, there are far simpler and faster numerical methods than
    Jim> Brian's splines. Personally, I prefer plotting the whole profile
    Jim> curve. With glm, this is quick and easy for the linear parameters
    Jim> (but not the scale) using an offset. Most but not all of my
    Jim> library functions allow it to be done simply as well. But such
    Jim> curves do not provide the needed replacement printout instead of
    Jim> standard errors for non-normal models ...

To allow a different more sensible output with print.summary...(.)
in these cases could be another options() setting I think.
The default could then depend on ``n'' and ``p'' where for small models you
would want to afford the much extra computation and for large n*p you'd
rather have a quick output with  summary(.).

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From wsimpson@uwinnipeg.ca  Thu Sep  3 16:57:41 1998
From: wsimpson@uwinnipeg.ca (Bill Simpson)
Date: Thu, 3 Sep 1998 10:57:41 -0500 (CDT)
Subject: ppoints
Message-ID: <Pine.OSF.3.95.980903105649.11084A-100000@io.uwinnipeg.ca>

When I look at ppoints I see:

ppoints<-function (x) 
{
n <- length(x)
if (n == 1) 
	n <- x
(1:n - 0.5)/n
}

However Venables & Ripley (2nd ed, p 165) say ppoints() should return
(i-1/2)/n for n>=11; (i-3/8)/(n+1/4) for n<=10.

The version below should work as described:

ppoints<-function (x) 
{
n <- length(x)
if (n <= 10)
	(1:n - 0.375)/(n + 0.25) 
else
	(1:n - 0.5)/n
}

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Sep  3 17:29:06 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 3 Sep 1998 18:29:06 +0200
Subject: ppoints
In-Reply-To: <Pine.OSF.3.95.980903105649.11084A-100000@io.uwinnipeg.ca>
 (message from Bill Simpson on Thu, 3 Sep 1998 10:57:41 -0500 (CDT))
Message-ID: <199809031629.SAA13963@sophie.ethz.ch>

Thank you, Bill, for raising this point!

>>>>> "Bill" == Bill Simpson <wsimpson@uwinnipeg.ca> writes:

    Bill> When I look at ppoints I see:

    Bill> ppoints<-function (x) 
    Bill> {
    Bill> n <- length(x)
    Bill> if (n == 1) 
    Bill> n <- x
    Bill> (1:n - 0.5)/n
    Bill> }

    Bill> However Venables & Ripley (2nd ed, p 165) say ppoints() should return
    Bill> (i-1/2)/n for n>=11; (i-3/8)/(n+1/4) for n<=10.

    Bill> The version below should work as described:

    Bill> ppoints<-function (x) 
    Bill> {
    Bill> n <- length(x)
    Bill> if (n <= 10)
    Bill> (1:n - 0.375)/(n + 0.25) 
    Bill> else
    Bill> (1:n - 0.5)/n
    Bill> }

However, if changing ppoints(.) for compatibility
we should do it properly.

e.g., the case
	ppoints(10)

should give the same as

	ppoints(1:10).

Also,  S has the much nicer extra argument  'a'  with the default

	if(is.null(a))
		a <- if(n > 10) 0.5 else 0.375

which leads to the behavior you cite below.

Maybe the S authors would forgive us we just used S' version ppoints()?
(it's S, not S-plus!)

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Sep  3 18:09:18 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 03 Sep 1998 19:09:18 +0200
Subject: ppoints
In-Reply-To: Martin Maechler's message of Thu, 3 Sep 1998 18:29:06 +0200
References: <199809031629.SAA13963@sophie.ethz.ch>
Message-ID: <x23ea93yyp.fsf@blueberry.kubism.ku.dk>

Martin Maechler <maechler@stat.math.ethz.ch> writes:

> Also,  S has the much nicer extra argument  'a'  with the default
> 
> 	if(is.null(a))
> 		a <- if(n > 10) 0.5 else 0.375
> 
> which leads to the behavior you cite below.
> 
> Maybe the S authors would forgive us we just used S' version ppoints()?
> (it's S, not S-plus!)

It's one of those things that are difficult to write in more than one
way... 

Reminds me: Is there any good reason why qqnorm is not using ppoints?? 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Prof Brian Ripley <ripley@stats.ox.ac.uk>  Thu Sep  3 18:05:43 1998
From: Prof Brian Ripley <ripley@stats.ox.ac.uk> (Prof Brian Ripley)
Date: Thu, 3 Sep 1998 18:05:43 +0100 (BST)
Subject: ppoints
Message-ID: <199809031705.SAA06438@toucan.stats.ox.ac.uk>


> Date: Thu, 3 Sep 1998 18:29:06 +0200
> From: Martin Maechler <maechler@stat.math.ethz.ch>
> To: Bill Simpson <wsimpson@uwinnipeg.ca>
> CC: R-devel@stat.math.ethz.ch
> Subject: Re: ppoints
> 
> Thank you, Bill, for raising this point!
> 
> However, if changing ppoints(.) for compatibility
> we should do it properly.
> 
> e.g., the case
> 	ppoints(10)
> 
> should give the same as
> 
> 	ppoints(1:10).
> 
> Also,  S has the much nicer extra argument  'a'  with the default
> 
> 	if(is.null(a))
> 		a <- if(n > 10) 0.5 else 0.375
> 
> which leads to the behavior you cite below.
> 
> Maybe the S authors would forgive us we just used S' version ppoints()?
> (it's S, not S-plus!)

I just sent privately:

ppoints <- function (n, a = ifelse(n <= 10, 3/8, 1/2)) 
{
  if(length(n) > 1) n <- length(n)
  if(!n) return(numeric(0))
  (1:n - a)/(n + (1-a) - a)
}

which is I believe fully compatible with S (except for the mode of the
length-0 result) and not the same code as S as I wrote it by reading
S's help page.  (I know you can simplify the denominator, but I am
trying to explain the formula.)


Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From holzer@stat.math.ethz.ch  Thu Sep  3 18:26:44 1998
From: holzer@stat.math.ethz.ch (Peter Holzer)
Date: Thu, 3 Sep 1998 19:26:44 +0200
Subject: a nasty error
Message-ID: <199809031726.TAA00634@aryness.ethz.ch>

Dear R-developers

The basic function seq doesn't work properly:

> seq(1,6,by=3)
[1] 1 4 7

Looking at the source code of seq.default I found that strange fuzz thing
"+ 0.4". Taking that away the seq works fine.

My question is: Why has this fuzz thing been added?

If it was for some rounding problems I would suggest to replace "0.4" by
something much smaller.

Peter
____________________________________________________________

Peter Holzer                      phone: + 41 1 632 46 34
Seminar fuer Statistik, SOL F7    fax:   + 41 1 632 10 86
(Sonneggstr. 33)                  <holzer@stat.math.ethz.ch>
ETH (Federal Inst. Technology)
8092 Zurich                       http://www.stat.math.ethz.ch/~holzer/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossetti@stud.unipg.it  Fri Sep  4 10:19:51 1998
From: rossetti@stud.unipg.it (Andrea Rossetti)
Date: Fri, 4 Sep 1998 11:19:51 +0200
Subject: Some link errors on the R for Windows documentation
Message-ID: <000001bdd7e9$5d3d6b60$f8878fc2@g1x7f9>

Hi,
excuse me but I don't know if this is the correct mailing list for this
message (but I thing yes).
In the rjune.zip there are some wrong link on the HTML documentation
(package area) and isn't  linked splines documentation (but it is present on
the zip file).
I've corrected these errors and re-zipped all.
Can I upload my work? If yes, how must I do this?

Andrea Rossetti.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Fri Sep  4 14:26:29 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Fri, 4 Sep 1998 15:26:29 +0200
Subject: a nasty error  --> patch to seq.R
In-Reply-To: <199809031726.TAA00634@aryness.ethz.ch> (message from Peter
 Holzer on Thu, 3 Sep 1998 19:26:44 +0200)
Message-ID: <199809041326.PAA04572@sophie.ethz.ch>


>>>>> "Peter" == Peter Holzer <holzer@stat.math.ethz.ch> writes:

    Peter> ... The basic function seq doesn't work properly:

    >> seq(1,6,by=3)
    Peter> [1] 1 4 7

    Peter> Looking at the source code of seq.default I found that strange
    Peter> fuzz thing "+ 0.4". Taking that away the seq works fine.

    Peter> My question is: Why has this fuzz thing been added?

    Peter> If it was for some rounding problems I would suggest to replace
    Peter> "0.4" by something much smaller.

This bug was introduced between 0.62.1 and 0.62.2  --
with the aim to fix another one.

After some thinking and some experimentation, I conclude that there is no
easy architecture-independent ``fudge constant'' that can be used here
instead of 0.4.  One needs to use a subsequent test.

Here is a patch that seems "robust" (and passes my tests):

--- ../R-0.62.3/src/library/base/R/seq.R	Tue Jun 16 14:32:08 1998
+++ src/library/base/R/seq.R	Fri Sep  4 15:23:11 1998
@@ -16,9 +16,11 @@
 		if(missing(by))
 			from:to
 		else {
-			n <- (to - from)/by + 0.4 # fuzz needed
+			n <- (to - from)/by
 			if(n < 0)
 				stop("Wrong sign in by= argument")
+                        n <- as.integer(n + 1e-10)
+                        if(n*by + from > to) n <- n - 1
 			from + (0:n) * by
 		}
 	else if(length.out < 0)


---
Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Fri Sep  4 16:00:55 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Fri, 4 Sep 1998 17:00:55 +0200
Subject: a nasty error  --> patch to seq.R
In-Reply-To: <199809041326.PAA04572@sophie.ethz.ch> (message from Martin
 Maechler on Fri, 4 Sep 1998 15:26:29 +0200)
Message-ID: <199809041500.RAA04739@sophie.ethz.ch>

The patch I sent about 100 minutes ago is *NOT* the solution, yet!

-- to be followed...
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Sat Sep  5 18:22:49 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Sat, 5 Sep 1998 19:22:49 +0200
Subject: a nasty error  --> patch to seq.R  [nr. 2]
In-Reply-To: <199809041500.RAA04739@sophie.ethz.ch> (message from Martin
 Maechler on Fri, 4 Sep 1998 17:00:55 +0200)
Message-ID: <199809051722.TAA04839@sophie.ethz.ch>


>>>>> "Peter" == Peter Holzer <holzer@stat.math.ethz.ch> writes:

    Peter> ... The basic function seq doesn't work properly:

    >> seq(1,6,by=3)
    Peter> [1] 1 4 7

    Peter> Looking at the source code of seq.default I found that strange
    Peter> fuzz thing "+ 0.4". Taking that away the seq works fine.

    Peter> My question is: Why has this fuzz thing been added?

because, otherwise, in some cases the sequence will be one element too
short..

    Peter> If it was for some rounding problems I would suggest to replace
    Peter> "0.4" by something much smaller.

yes;  and depending on other things (see patch at end).

Actually, I had to sit down write up where which rounding errors can occur
in   
     n <- as.integer( (to - from) / by )

E.g., major cancellation happens when to & from are almost the same.

Additionally, I wrote a private function

seq.check <- function(from,to,by, print.diag = TRUE)
{
  ## Purpose: check seq(from, to, by = ...)
  ## -----------------------------------------------------
  ## Arguments: from < to;  by > 0   [see ?seq ]
  ## -----------------------------------------------------
  ## Author: Martin Mächler, Date:  5 Sep 98, 12:08

  if(from >= to) stop("seq.check(.) requires  from < to")
  if(by <= 0)    stop("seq.check(.) requires  by > 0")

  n <- length(ss <- seq(from,to, by=by))
  m <- ss[n]
  res <- m <= to && to < m+by ##-- iff TRUE:  all is fine.
  if(print.diag) {
    if(res)
      cat(".")
    else # m > to "last >"   or     m+by <= to  "missed last"
      cat("\nfrom=",   formatC(from,   dig=6,wid=-10),
          ", to-from=",formatC(to-from,dig=6,wid=-10),
          " --> n=",    formatC(n,      wid=-4),": ",
          if(m+by <= to)"missed last" else "last > to",
          "; r.err=",
          formatC(abs((if(m+by <= from) m+by else m)-to)/to,
                  wid= 8, dig=4),
          sep="")
  }
  res
}

which revealed that even the version below can `very rarely' end up 
one value too short.
However, in that case, you have

	from +   n * by      > to   ==> TRUE,
but
	from + (n-1)*by + by > to   ==> FALSE

[an example of the famous fact the the associative law of addition is
 *NOT* guaranteed in computer arithmetic!]

which *is* rare.

One could argue that in that case, it would be preferable that the sequence
had one value more, one very slightly > to.

But I think, we rather want to guarantee

    seq(from, to, by) <= to	    if by > 0
    seq(from, to, by) >= to	    if by < 0

--------
Here, the patch promised.
The new seq.default(.) will be part of tomorrow's (or Monday's)
R-devel.tar.gz  snapshot.
[Actually a snapshot that seems pretty stable..]

--- R-0.62.3/src/library/base/R/seq.R	Tue Jun 16 14:32:08 1998
+++ R-0.63.0/src/library/base/R/seq.R	Sat Sep  5 18:06:03 1998
@@ -16,9 +17,25 @@
 		if(missing(by))
 			from:to
 		else {
-			n <- (to - from)/by + 0.4 # fuzz needed
-			if(n < 0)
+			n <- (del <- to - from)/by
+			if(is.na(n)) {
+				if(by == 0 && del == 0)
+					return(from)
+				else stop("invalid (to - from)/by in seq(.)")
+			} else if(abs(n) > .Machine$integer.max)
+				stop("'by' argument is much too small")
+			else if(n < 0)
 				stop("Wrong sign in by= argument")
+
+			eps <- .Machine$double.eps *
+				max(1, max(abs(to),abs(from)) / abs(del))
+			n <- as.integer(n * (1 + eps))
+			if(eps*2*n >= 1)
+				warning(paste("seq.default(f,t,by): n=",n,
+					      ": possibly imprecise intervals"))
+			if(by>0) while(from+ n*by > to) n <- n - 1
+			else	 while(from+ n*by < to) n <- n - 1
+
 			from + (0:n) * by
 		}
 	else if(length.out < 0)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Sep  9 08:32:45 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 9 Sep 1998 09:32:45 +0200
Subject: R help Web page
In-Reply-To: <199809081429.PAA18743@hannan.statistics.bristol.ac.uk> (message
 from Guy Nason on Tue, 8 Sep 1998 15:29:17 +0100 (BST))
Message-ID: <199809090732.JAA10651@sophie.ethz.ch>

	[CC'ed to R-devel, since it should be of interest to more ..]

>>>>> "Guy" == Guy Nason <G.P.Nason@Bristol.ac.uk> writes:

    Guy> Dear Martin, Hope you are well. I am trying to start to get my
    Guy> [new] WaveThresh package working for R.

Great, thank you!

Can you make sure that your Examples (.EX in S syntax; \examples{..} in *.Rd)
are directly executable?
I.e.,
	1) no leading  ">"
	2) If you show output, precede it by "#"
	3) Use data() datasets or rnorm(.),..etc to construct data,
	   not just 'x','y' etc which may or may not exist.

    Guy> However, I cannot seem to
    Guy> access the R help files on the Web.

    Guy> The index page    http://stat.ethz.ch/R/manual  .....
    Guy> .. works fine. However,if I try to access help pages on the
    Guy> individual functions I get directed to
    Guy> http://stat.ethz.ch/library/base/html/library.dynam.html
    Guy> ...... (which fails) ....
    Guy> ......
    Guy> ...... [deleted]


Yes, this probably hasn't been working for quite a while now
(or maybe only since 0.62.3 ?)

In any case, I have corrected the problem, i.e., 
I actually made a new page accessible by

	http://stat.ethz.ch/R/

which provides access to
	
	1) R manual [help.start()] of currently released version
	2) Our mirror of CRAN
	3) R manual [help.start()] of current ALPHA NON-released version

Please let me know if you still find missing links!

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Wed Sep  9 15:46:54 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 9 Sep 1998 10:46:54 -0400
Subject: diag() losing dimnames
Message-ID: <98Sep9.105903edt.13451@mailgate.bank-banque-canada.ca>

Using diag() to extract the diagonal of a matrix loses all but the first dimname
(R 0.62.3). The problem seems to be in [ ]:
>
> x <- matrix(1:9,3,3)
> dimnames(x) <- list(c("a", "b", "c"), c("a", "b", "c"))
> x
  a b c
a 1 4 7
b 2 5 8
c 3 6 9
> diag(x)
 a NA NA
 1  5  9
> x[c(1,5,9)]
 a NA NA
 1  5  9
>

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jimrc@mathfs.math.montana.edu  Wed Sep  9 16:18:19 1998
From: jimrc@mathfs.math.montana.edu (Jim Robison-Cox)
Date: Wed, 9 Sep 1998 09:18:19 -0600 (MDT)
Subject: diag() losing dimnames
In-Reply-To: <98Sep9.105903edt.13451@mailgate.bank-banque-canada.ca>
Message-ID: <Pine.NEB.4.02.9809090907200.21955-100000@mathfs.math.montana.edu>

Paul,

   I see that S doesn't give any names to a diag() result:

S> x <- matrix(1:9,3,3)
S> dimnames(x) <- list(c("a", "b", "c"), c("a", "b", "c"))
S> diag(x)
[1] 1 5 9
S> names(diag(x))
NULL
S> names(x[c(1,5,9)])
NULL

Names are only well-defined if rows and cols have the same labels.  Does
it make sense to have an argument for diag to tell it where to find the
names?  I doubt it. Seems better to let the user name the result of diag()
in whatever way they need.  So it seems odd to me that diag(x) has any
names.  (It doesn't in R-0.62.2)  I haven't upgraded yet, so I have to
ask: What happens if col 1 and row 1 have different names?  Is the "a" in
Paul's example coming from the row or col name?

On Wed, 9 Sep 1998, Paul Gilbert wrote:
> Using diag() to extract the diagonal of a matrix loses all but the first dimname
> (R 0.62.3). The problem seems to be in [ ]:
> >
> > x <- matrix(1:9,3,3)
> > dimnames(x) <- list(c("a", "b", "c"), c("a", "b", "c"))
> > x
>   a b c
> a 1 4 7
> b 2 5 8
> c 3 6 9
> > diag(x)
>  a NA NA
>  1  5  9
> > x[c(1,5,9)]
>  a NA NA
>  1  5  9
> >
> 
> Paul Gilbert
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

Jim Robison-Cox                 ____________            
Department of Math Sciences    |            |           phone: (406)994-5340
2-214 Wilson Hall               \   BZN, MT |           FAX:   (406)994-1789
Montana State University         |  *_______|
Bozeman, MT 59717                 \_|         e-mail: jimrc@math.montana.edu 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Wed Sep  9 16:57:25 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 9 Sep 1998 11:57:25 -0400
Subject: diag() losing dimnames
References: <Pine.NEB.4.02.9809090907200.21955-100000@mathfs.math.montana.edu>
Message-ID: <98Sep9.120938edt.13442@mailgate.bank-banque-canada.ca>

>Names are only well-defined if rows and cols have the same labels.

It probably does not make sense for diag to keep dimnames, but either way, this
is wrong
> diag(x)
  a NA NA
  1   5    9

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Sep  9 17:00:13 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 9 Sep 1998 18:00:13 +0200
Subject: diag() losing dimnames
In-Reply-To: <Pine.NEB.4.02.9809090907200.21955-100000@mathfs.math.montana.edu>
 (message from Jim Robison-Cox on Wed, 9 Sep 1998 09:18:19 -0600 (MDT))
Message-ID: <199809091600.SAA12139@sophie.ethz.ch>

>>>>> "Jim" == Jim Robison-Cox <jimrc@mathfs.math.montana.edu> writes:

    Jim> Paul, I see that S doesn't give any names to a diag() result:

    S> x <- matrix(1:9,3,3) dimnames(x) <- list(c("a", "b", "c"), c("a",
    S> "b", "c")) diag(x)
    Jim> [1] 1 5 9
    S> names(diag(x))
    Jim> NULL
    S> names(x[c(1,5,9)])
    Jim> NULL

    Jim> Names are only well-defined if rows and cols have the same labels.
    Jim> Does it make sense to have an argument for diag to tell it where
    Jim> to find the names?  I doubt it. Seems better to let the user name
    Jim> the result of diag() in whatever way they need.  So it seems odd
    Jim> to me that diag(x) has any names.  (It doesn't in R-0.62.2) I
    Jim> haven't upgraded yet, so I have to ask: What happens if col 1 and
    Jim> row 1 have different names?  Is the "a" in Paul's example coming
    Jim> from the row or col name?

It's the row one :
    > m <- matrix(1:9,3,3); dimnames(m) <- list(letters[1:3], LETTERS[1:3]); m
      A B C
    a 1 4 7
    b 2 5 8
    c 3 6 9
    > diag(m)
     a NA NA 
     1  5  9 

However, of course the bug is that  R  *does* return names(.) at
all, since as Jim rightly says, this doesn't make sense.

The patch is
to replace the  'as.matrix' by 'c' in line 5 of diag.R:

--- ../R-0.62.3/src/library/base/R/diag.R	Fri Mar  6 08:37:13 1998
+++ diag.R	Wed Sep  9 17:58:11 1998
@@ -2,7 +2,7 @@
 function(x = 1, nrow, ncol = n)
 {
 	if(is.matrix(x) && nargs() == 1)
-		return(as.matrix(x)[1 + 0:(min(dim(x)) - 1) * (dim(x)[1] + 1)])
+		return(c(x)[1 + 0:(min(dim(x)) - 1) * (dim(x)[1] + 1)])
 	if(missing(x))
 		n <- nrow
 	else if(length(x) == 1 && missing(nrow) && missing(ncol)) {



    Jim> On Wed, 9 Sep 1998, Paul Gilbert wrote:
    >> Using diag() to extract the diagonal of a matrix loses all but the
    >> first dimname (R 0.62.3). The problem seems to be in [ ]: > > x <-
    >> matrix(1:9,3,3) > dimnames(x) <- list(c("a", "b", "c"), c("a", "b",
    >> "c")) > x a b c a 1 4 7 b 2 5 8 c 3 6 9 > diag(x) a NA NA 1 5 9 >
    >> x[c(1,5,9)] a NA NA 1 5 9 >
    >> 
    >> Paul Gilbert
    >> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Sep  9 17:35:34 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Sep 1998 18:35:34 +0200
Subject: diag() losing dimnames
In-Reply-To: Martin Maechler's message of Wed, 9 Sep 1998 18:00:13 +0200
References: <199809091600.SAA12139@sophie.ethz.ch>
Message-ID: <x2n289meg9.fsf@blueberry.kubism.ku.dk>

Martin Maechler <maechler@stat.math.ethz.ch> writes:

> --- ../R-0.62.3/src/library/base/R/diag.R	Fri Mar  6 08:37:13 1998
> +++ diag.R	Wed Sep  9 17:58:11 1998
> @@ -2,7 +2,7 @@
>  function(x = 1, nrow, ncol = n)
>  {
>  	if(is.matrix(x) && nargs() == 1)
> -		return(as.matrix(x)[1 + 0:(min(dim(x)) - 1) * (dim(x)[1] + 1)])
> +		return(c(x)[1 + 0:(min(dim(x)) - 1) * (dim(x)[1] + 1)])
>  	if(missing(x))
>  		n <- nrow
>  	else if(length(x) == 1 && missing(nrow) && missing(ncol)) {

That's only half a solution:
> m[1:4]
 1  2 NA NA 
 1  2  3  4 

Splus:

> m<-matrix(1:4,2)
> dimnames(m)<-list(1:2,NULL)
> m
  [,1] [,2] 
1    1    3
2    2    4
> m[1:4]
[1] 1 2 3 4

R
> m<-matrix(1:4,2)
> rownames(m)<-1:2
> m[1:4]
 1  2 NA NA 
 1  2  3  4 

I.e. it seems that it should be fixed in the "[" internals.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Tue Sep 15 08:44:15 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Tue, 15 Sep 1998 09:44:15 +0200
Subject: seq  --> Dealing with bugs in R, etc.
In-Reply-To: <199809150724.JAA04164@alpha.luc.ac.be> (message from Jim Lindsey
 on Tue, 15 Sep 1998 09:24:20 +0200 (MET DST))
Message-ID: <199809150744.JAA07002@sophie.ethz.ch>

>>>>> "Jim" == Jim Lindsey <jlindsey@alpha.luc.ac.be> writes

   in a private mail to me

    Jim> That bug in seq() really has shaken my faith in R. How
    Jim> many other known bugs are there that we on r-help are not informed
    Jim> of and which can falsify our statistical analyses??? It is
    Jim> imperative that patches for such things be made immediately
    Jim> available on r-help. Jim

I think the answer to this should be known/discussed more widely:

Jim, you are right: 
The patch to seq(.) should have made it to  R-help.
[[actually in the mean time, the issue was raised that my patch
  was much more than was needed for dealing with rounding errors
  in the  seq(.,., by= ) case
]].

Note that there *are* other known bugs, all(?) of which being 
of much more low-level (and ``deeper'') nature.
Things like 
	mode(NULL)  -> "list"
		[now (in 0.63 "unstable") corrected to  "NULL"].

For bug submitting & tracking, 
Peter Dalgaard has recently setup a web place  
	[and 0.63-unstable has function  bug.report()]
were bug can be reported ``discussed'', etc. : 
	http://R-bugs.biostat.ku.dk/R

It is also available from CRAN's main page

---
There are also plans to regularly post a list of these bugs to R-devel (not
R-help!). 

If we know of a bug that affects high-level functions in bad way,
we usually *do* post to R-help....

R-devel is also for people who develop considerable amount of own R
functions.   There are things on R-devel which are not of interest to all
of the subscribers, but I think CRAN contributors like you should be part!

Martin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Prof Brian Ripley <ripley@stats.ox.ac.uk>  Tue Sep 15 17:53:28 1998
From: Prof Brian Ripley <ripley@stats.ox.ac.uk> (Prof Brian Ripley)
Date: Tue, 15 Sep 1998 17:53:28 +0100 (BST)
Subject: seq  --> Dealing with bugs in R, etc.
Message-ID: <199809151653.RAA04654@toucan.stats.ox.ac.uk>


> Date: Tue, 15 Sep 1998 09:44:15 +0200
> From: Martin Maechler <maechler@stat.math.ethz.ch>
> To: jlindsey@alpha.luc.ac.be
> CC: R-devel@stat.math.ethz.ch
> Subject: Re: seq  --> Dealing with bugs in R, etc.
> 
> >>>>> "Jim" == Jim Lindsey <jlindsey@alpha.luc.ac.be> writes
> 
>    in a private mail to me
> 
>     Jim> That bug in seq() really has shaken my faith in R. How
>     Jim> many other known bugs are there that we on r-help are not informed
>     Jim> of and which can falsify our statistical analyses??? It is
>     Jim> imperative that patches for such things be made immediately
>     Jim> available on r-help. Jim
 
How does that `falsify a statistical analysis'? It just gives a vector
that is slightly too long. I cannot imagine this is the worst bug
in R right now.

> I think the answer to this should be known/discussed more widely:
> 
> Jim, you are right: 
> The patch to seq(.) should have made it to  R-help.
> [[actually in the mean time, the issue was raised that my patch
>   was much more than was needed for dealing with rounding errors
>   in the  seq(.,., by= ) case
> ]].
> 
> Note that there *are* other known bugs, all(?) of which being 
> of much more low-level (and ``deeper'') nature.

Not all: e.g. mahalanobis() gives incorrect results almost all the 
time in 0.62.3, and glm with offset is wrong often too (and both
those are in the R-bugs database).

And seq gave wrong answers in the previous releases too: 
seq(1.575, 5.125, by=0.05) was wrong. At least the simpler uses are
now correct. 

I do think R-bugs is the right place for bugs.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ben@eno.Princeton.EDU  Tue Sep 15 20:46:24 1998
From: ben@eno.Princeton.EDU (Ben Bolker)
Date: Tue, 15 Sep 1998 15:46:24 -0400 (EDT)
Subject: compiling 0.62.3 for SunOS 4.1.4 and Solaris 2.6
Message-ID: <Pine.SUN.3.95.980915154509.11196A-100000@paca>



  Just a quick report on compiling R 0.62.3 for SunOS 4.1.4 and Solaris
2.6 (both with gcc 2.7.2.something), in hopes that it'll be useful to
someone. 

  4.1.4

     - I followed Charles Berry's forward of Ross Ihaka's suggestion about
putting fake #defines for gamma and lgamma in src/include/Mathlib.h (this
works best on the second pass, after the graphics library (which also
contains a "gamma" function) has compiled). 

     - I got regex-0.12 from ftp://wuarchive.wustl.edu/systems/gnu/, made
it into libregex.a, hacked HAVE_REGCOMP in src/include/Platform.h, and
added /usr/local/lib/libregex.a to RLIBS in src/main/Makefile (there
didn't seem to be a way to get configure to recognize it automatically). 

     - got readline-2.2 and installed it.

  I have to say I have mixed feelings about readline and regex.  It
certainly makes sense to use these existing resources, but it does make R
harder to install "out of the box" on systems (like SunOS) that don't have
them by default ... (I know, if SunOS had a decent packaging system we
could put them into package dependencies -- oh well.) 

 2.6

  I don't know if it's just my system (which has been administered by
various moderately clueless people in the past), but I had a number of
troubles with gcc and Solaris's default include files.  Several times
important definitions were located in chunks of the include files that
didn't get included by default. 

   - I added "typedef int sigjmp_buf[_SIGJBLEN];" to src/include/Defn.h by
hand; had to make sure that the gcc version of math.h got included rather
than the default Solaris file; and ran the compilation of the stuff in
src/main with -D__EXTENSIONS__ added to CFLAGS in Makeconf.  I *think*
that adding -D__EXTENSIONS__, or alternately setting -D__STDC__=0, to the
CFLAGS line in Makeconf, might have fixed all of my problems at once. 


Benjamin Bolker          Dep't of Ecology and Evolutionary Biology,
ben@eno.princeton.edu    Princeton University
tel: (609) 258-6886,     fax: (609) 258-1334

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Sep 16 18:30:08 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Sep 1998 19:30:08 +0200
Subject: R-beta: A new version of R-0.62.3 for Win3.1/Win32s, Win95 and WinNT
In-Reply-To: Guido Masarotto's message of Wed, 16 Sep 1998 13:01:52 +0100
References: <19980916130152.A227@sirio.stat.unipd.it>
Message-ID: <x2zpc06k4f.fsf@blueberry.kubism.ku.dk>

Guido Masarotto <guido@sirio.stat.unipd.it> writes:

> (a) I rewrote the console using a portable toolkit (GraphApp, see
> http://www.cs.usyd.edu.au/~loki/graphapp). Now, output is buffered
> until some input is required. This means that it is faster 
> (for a good test, I learned it from Peter Daalgard,
                                            ^^^^^^^^
Ahem. Remind me to call you "Massaroto" some time... ;^)

> try `ls("package:base")' ).

*cough!* You can say that ("faster") again. Most impressive. I like
the key bindings too. 

BTW: Please remember to set Reply-to: on postings to R-announce, in
case they start a discussion.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From guido@sirio.stat.unipd.it  Wed Sep 16 19:36:40 1998
From: guido@sirio.stat.unipd.it (Guido Masarotto)
Date: Wed, 16 Sep 1998 19:36:40 +0100
Subject: R-beta: A new version of R-0.62.3 for Win3.1/Win32s, Win95 and WinNT
In-Reply-To: <x2zpc06k4f.fsf@blueberry.kubism.ku.dk>; from Peter Dalgaard BSA on Wed, Sep 16, 1998 at 07:30:08PM +0200
References: <19980916130152.A227@sirio.stat.unipd.it> <x2zpc06k4f.fsf@blueberry.kubism.ku.dk>
Message-ID: <19980916193640.A1541@sirio.stat.unipd.it>

On Wed, Sep 16, 1998 at 07:30:08PM +0200, Peter Dalgaard BSA wrote:
> Guido Masarotto <guido@sirio.stat.unipd.it> writes:
> 

> > (for a good test, I learned it from Peter Daalgard,
>                                             ^^^^^^^^
> Ahem. Remind me to call you "Massaroto" some time... ;^)
> 
Peter , I am really sorry.
guudo massaroto
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Sep 17 10:37:28 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 17 Sep 1998 11:37:28 +0200
Subject: wrong postings to R-announce...
In-Reply-To: <x2zpc06k4f.fsf@blueberry.kubism.ku.dk> (message from Peter
 Dalgaard BSA on 16 Sep 1998 19:30:08 +0200)
Message-ID: <199809170937.LAA18296@sophie.ethz.ch>

 >>>>> "PD" == Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:

  to Guido:
    PD> BTW: Please remember to set Reply-to: on postings to R-announce, in
    PD> case they start a discussion.

  to Niels Kokholm
    PD> And BTW, try not to send followups to r-announce....


Thank you Peter!

Since I'm still only using majordomo's own filters (no procmail before it),
I've at least tried to  *disable*  [i.e. bounce to the list-owner]
any message
	CC: R-announce

since I thought important announcements should never be made "CC:"...

------
Martin	{list manager of R-...@stat.math.ethz.ch}
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From absd00t@c1186.ae.ge.com  Thu Sep 17 14:55:31 1998
From: absd00t@c1186.ae.ge.com (U-E59264-Osman F Buyukisik)
Date: Thu, 17 Sep 1998 09:55:31 -0400 (EDT)
Subject: R-beta: (0+0i)^2
In-Reply-To: <199809171256.OAA18599@sophie.ethz.ch>
References: <199809162211.KAA27407@chance.otago.ac.nz>
 <199809171256.OAA18599@sophie.ethz.ch>
Message-ID: <13825.5161.410293.721272@c1186.ae.ge.com>

I am not a "c" programmer but this is very simple and seems to be
working (just a check for 0): in src/main/complex.c 
...
static void complex_pow(complex *r, complex *a, complex *b)
{
    double logr, logi, x, y, mag;
    if ((mag = hypot(a->r, a->i)) == 0.0) {
        r->r = r->i = 0.0;
    }
    else {
    logr = log(mag );
    logi = atan2(a->i, a->r);
    x = exp( logr * b->r - logi * b->i );
    y = logr * b->i + logi * b->r;
    r->r = x * cos(y);
    r->i = x * sin(y);
    }
}
....
Osman
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Fri Sep 18 15:36:16 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Fri, 18 Sep 1998 16:36:16 +0200
Subject: R-beta: (0+0i)^2
In-Reply-To: <13825.5161.410293.721272@c1186.ae.ge.com> (message from
 U-E59264-Osman F Buyukisik on Thu, 17 Sep 1998 09:55:31 -0400 (EDT))
Message-ID: <199809181436.QAA05165@sophie.ethz.ch>


>>>>> "Osman" == U-E59264-Osman F Buyukisik <absd00t@c1186.ae.ge.com> writes:

Osman> I am not a "c" programmer but this is very simple and seems to be
Osman> working (just a check for 0): in src/main/complex.c 
Osman> ...
Osman> static void complex_pow(complex *r, complex *a, complex *b)
Osman> {
Osman>     double logr, logi, x, y, mag;
Osman>     if ((mag = hypot(a->r, a->i)) == 0.0) {
Osman>         r->r = r->i = 0.0;
Osman>     }
Osman>     else {
Osman>     logr = log(mag );
Osman>     logi = atan2(a->i, a->r);
Osman>     x = exp( logr * b->r - logi * b->i );
Osman>     y = logr * b->i + logi * b->r;
Osman>     r->r = x * cos(y);
Osman>     r->i = x * sin(y);
Osman>     }
Osman> }

It's not *that* simple:  
We want
	0^ 0   => 1	(since we have that for reals)
	0^ -1  => Inf	(a^-1 = 1/a)
	0^ 1i  => NaN

I've committed a longer patch for 0.63,
which also leads to   1i^(-5:5)  be 100% accurate
but the following fixes the bug (and more):

--- complex.c~	Mon Aug 31 10:32:29 1998
+++ complex.c	Fri Sep 18 16:31:19 1998
@@ -91,6 +91,10 @@
 {
     double logr, logi, x, y;
 
+    if(b->i == 0.) {/* be fast (and more accurate)*/
+	if(b->r == 1.) { /* a^1 */ r->r = a->r; r->i = a->i; return;}
+	if(a->i == 0.) { r->r = pow(a->r, b->r); r->i = 0.; return;}
+    }
     logr = log(hypot(a->r, a->i) );
     logi = atan2(a->i, a->r);
 

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Mon Sep 21 22:36:20 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Mon, 21 Sep 1998 14:36:20 -0700 (PDT)
Subject: --save and memory
In-Reply-To: <x2hfy6u8s8.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.4.03.9809211430550.10056-100000@gorn.biostat.washington.edu>


If the memory size is too small for the saved workspace to be loaded, and
--save is specified in a batch file then the previous workspace is lost.
It seems to me that having insufficient memory to load the saved workspace
should be a fatal error at least if --save is specified.

What do other people think (preferably people that think saved workspaces
are potentially useful)?

Currently a work-around is to add this to the batch file 
	if (!exists(".Random.seed")) q("no")



Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From plummer@iarc.fr  Tue Sep 22 09:07:28 1998
From: plummer@iarc.fr (Martyn Plummer)
Date: Tue, 22 Sep 1998 10:07:28 +0200
Subject: --save and memory
Message-ID: <36075AC0.BE2898BE@iarc.fr>

I agree, and I sent a message to R-bugs to this effect
(currently filed under "startup"), although I was thinking
in terms of interactive use. Making this a fatal error
seems the best choice to me.

Martyn

Thomas Lumley wrote:
> 
> If the memory size is too small for the saved workspace to be loaded, and
> --save is specified in a batch file then the previous workspace is lost.
> It seems to me that having insufficient memory to load the saved workspace
> should be a fatal error at least if --save is specified.
> 
> What do other people think (preferably people that think saved workspaces
> are potentially useful)?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Sep 22 12:28:32 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Sep 1998 13:28:32 +0200
Subject: --save and memory
In-Reply-To: Martyn Plummer's message of Tue, 22 Sep 1998 10:07:28 +0200
References: <36075AC0.BE2898BE@iarc.fr>
Message-ID: <x2g1dk5qu7.fsf@blueberry.kubism.ku.dk>

Martyn Plummer <plummer@iarc.fr> writes:

> I agree, and I sent a message to R-bugs to this effect
> (currently filed under "startup"), although I was thinking
> in terms of interactive use. Making this a fatal error
> seems the best choice to me.

Agreed. As far as I can see, the obvious would be to add an else clause in
main.c, like this:

    if (!doneit) {
        doneit = 1;
        R_InitialData();
    }
    else
        R_Suicide("unable to restore saved data\n (remove .RData or increase mem
ory)\n");

...but that gives the following curious effect.
Interactively, you get the expected, but...

[pd@blueberry R]$ bin/R --save < /dev/null

R : Copyright 1998, The R Development Core Team
Version 0.63.0 Unstable (September 22, 1998)

....

[Previously saved workspace restored]

Error: vector heap is too small to restore data
Execution halted

The strange thing is that it actually does *not* modify .RData, so in
a sense the fix is OK, but why does it give the success message before
bailing out???

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Sep 22 12:51:25 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Sep 1998 13:51:25 +0200
Subject: --save and memory
In-Reply-To: Peter Dalgaard BSA's message of 22 Sep 1998 13:28:32 +0200
References: <36075AC0.BE2898BE@iarc.fr> <x2g1dk5qu7.fsf@blueberry.kubism.ku.dk>
Message-ID: <x2emt45ps2.fsf@blueberry.kubism.ku.dk>

Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:

> [Previously saved workspace restored]
> 
> Error: vector heap is too small to restore data
> Execution halted
> 
> The strange thing is that it actually does *not* modify .RData, so in
> a sense the fix is OK, but why does it give the success message before
> bailing out???

On closer inspection... 

(a) R 0.63 *always* exits without saving in case of error, so there
was nothing to fix in the first place!

(b) the "[Previously saved...]" bit got printed before R even tried to
load anything. Just a matter of reshuffling lines in system.c.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Sep 22 15:13:09 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Sep 1998 16:13:09 +0200
Subject: Histograms: default breaks
Message-ID: <x27lyw5j7u.fsf@blueberry.kubism.ku.dk>


hist() uses pretty() to set its default breaks. For integer data, this
isn't really desirable, although it is Splus compatible, because all
the values fall at one end of each bar. Wouldn't it be better with

breaks <- pretty(x)
adj <- diff(breaks[1:2])/2
breaks <- pretty(x+adj) - adj

 - or something like that? There's a slightly sticky issue involving
the possibility that pretty(x+adj) will have a different interval than
pretty(x), though.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Sep 22 16:00:57 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 22 Sep 1998 11:00:57 -0400
Subject: "Segmentation Fault - core dumped" in R 0.62.3
Message-ID: <98Sep22.112745edt.13470@mailgate.bank-banque-canada.ca>

I am occasional getting "Segmentation Fault - core dumped" in R 0.62.3 (I think
more often then I did in 0.62.2). I have not been able to do this in any
reliably reproducible way yet, but thought I would mention the problem in case
some else can isolate it.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Sep 22 17:20:51 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Sep 1998 18:20:51 +0200
Subject: "Segmentation Fault - core dumped" in R 0.62.3
In-Reply-To: Paul Gilbert's message of Tue, 22 Sep 1998 11:00:57 -0400
References: <98Sep22.112745edt.13470@mailgate.bank-banque-canada.ca>
Message-ID: <x23e9k5db0.fsf@blueberry.kubism.ku.dk>

Paul Gilbert <pgilbert@bank-banque-canada.ca> writes:

> I am occasional getting "Segmentation Fault - core dumped" in R 0.62.3 (I think
> more often then I did in 0.62.2). I have not been able to do this in any
> reliably reproducible way yet, but thought I would mention the problem in case
> some else can isolate it.

Hmm. Two rather nasty PROTECT bugs got fixed for 0.63 lately, but it
isn't all that easy to backport the fixes to 0.62.3 at this point
(several things have changed in 0.63)

Also, with our current garbage collector, the system appears to
playing Russian roulette if GC happens during parsing. Ross is
planning to install a better one for 0.64. This is more than tricky to
fix with the current memory scheme (it requires major surgery on
gram.y) so probably noone will try till then.

In general, this kind of crash is nearly always caused by a garbage
collection at *exactly* the wrong moment, so one generally needs exact
data to reproduce the crash, in order to pinpoint the trouble spot.

If you want to try the 0.63 fixes, a set of diffs follow. Note that
they are between two development versions, so they shouldn't be
expected to be directly applicable to 0.62.3.

[pd@blueberry R]$ cvs diff -c -r 1.23 -r 1.24 src/main/eval.c
Index: src/main/eval.c
===================================================================
RCS file: /users/rdev/R/CVS-ARCHIVE/R/src/main/eval.c,v
retrieving revision 1.23
retrieving revision 1.24
diff -c -r1.23 -r1.24
*** /tmp/T0a005IJ       Wed Sep 23 04:03:07 1998
--- /tmp/T1a005IJ       Wed Sep 23 04:03:07 1998
***************
*** 727,733 ****
  
  SEXP do_set(SEXP call, SEXP op, SEXP args, SEXP rho)
  {
!     SEXP s;
      if (length(args) != 2)
        WrongArgCount(asym[PRIMVAL(op)]);
      if (isString(CAR(args)))
--- 727,733 ----
  
  SEXP do_set(SEXP call, SEXP op, SEXP args, SEXP rho)
  {
!     SEXP s, t;
      if (length(args) != 2)
        WrongArgCount(asym[PRIMVAL(op)]);
      if (isString(CAR(args)))
***************
*** 738,744 ****
        if (isSymbol(CAR(args))) {
            s = eval(CADR(args), rho);
            if (NAMED(s))
!               s = duplicate(s);
            PROTECT(s);
            R_Visible = 0;
            defineVar(CAR(args), s, rho);
--- 738,749 ----
        if (isSymbol(CAR(args))) {
            s = eval(CADR(args), rho);
            if (NAMED(s))
!           {
!               PROTECT(s);
!               t = duplicate(s);
!               UNPROTECT(1);
!               s = t;
!           }
            PROTECT(s);
            R_Visible = 0;
            defineVar(CAR(args), s, rho);
[pd@blueberry R]$ cvs diff -c -r 1.23 -r 1.24 src/main/par.c
Index: src/main/par.c
===================================================================
RCS file: /users/rdev/R/CVS-ARCHIVE/R/src/main/par.c,v
retrieving revision 1.23
retrieving revision 1.24
diff -c -r1.23 -r1.24
*** /tmp/T0a005Ia       Wed Sep 23 04:04:05 1998
--- /tmp/T1a005Ia       Wed Sep 23 04:04:05 1998
***************
*** 1114,1121 ****
        INTEGER(value)[0] = dd->dp.ask;
      }
      else if (streql(what, "bg")) {
!       value = allocVector(STRSXP, 1);
        STRING(value)[0] = mkChar(col2name(dd->dp.bg));
      }
      else if (streql(what, "bty")) {
        char buf[2];
--- 1114,1122 ----
        INTEGER(value)[0] = dd->dp.ask;
      }
      else if (streql(what, "bg")) {
!       PROTECT(value = allocVector(STRSXP, 1));
        STRING(value)[0] = mkChar(col2name(dd->dp.bg));
+       UNPROTECT(1);
      }
      else if (streql(what, "bty")) {
        char buf[2];
***************
*** 1151,1174 ****
        REAL(value)[1] = dd->dp.cra[1]*dd->dp.ipr[1];
      }
      else if (streql(what, "col")) {
!       value = allocVector(STRSXP, 1);
        STRING(value)[0] = mkChar(col2name(dd->dp.col));
      }
      else if (streql(what, "col.main")) {
!       value = allocVector(STRSXP, 1);
        STRING(value)[0] = mkChar(col2name(dd->dp.colmain));
      }
      else if (streql(what, "col.lab")) {
!       value = allocVector(STRSXP, 1);
        STRING(value)[0] = mkChar(col2name(dd->dp.collab));
      }
      else if (streql(what, "col.sub")) {
!       value = allocVector(STRSXP, 1);
        STRING(value)[0] = mkChar(col2name(dd->dp.colsub));
      }
      else if (streql(what, "col.axis")) {
!       value = allocVector(STRSXP, 1);
        STRING(value)[0] = mkChar(col2name(dd->dp.colaxis));
      }
      else if (streql(what, "cra")) {
        value = allocVector(REALSXP, 2);
--- 1152,1180 ----
        REAL(value)[1] = dd->dp.cra[1]*dd->dp.ipr[1];
      }
      else if (streql(what, "col")) {
!       PROTECT(value = allocVector(STRSXP, 1));
        STRING(value)[0] = mkChar(col2name(dd->dp.col));
+       UNPROTECT(1);
      }
      else if (streql(what, "col.main")) {
!       PROTECT(value = allocVector(STRSXP, 1));
        STRING(value)[0] = mkChar(col2name(dd->dp.colmain));
+       UNPROTECT(1);
      }
      else if (streql(what, "col.lab")) {
!       PROTECT(value = allocVector(STRSXP, 1));
        STRING(value)[0] = mkChar(col2name(dd->dp.collab));
+       UNPROTECT(1);
      }
      else if (streql(what, "col.sub")) {
!       PROTECT(value = allocVector(STRSXP, 1));
        STRING(value)[0] = mkChar(col2name(dd->dp.colsub));
+       UNPROTECT(1);
      }
      else if (streql(what, "col.axis")) {
!       PROTECT(value = allocVector(STRSXP, 1));
        STRING(value)[0] = mkChar(col2name(dd->dp.colaxis));
+       UNPROTECT(1);
      }
      else if (streql(what, "cra")) {
        value = allocVector(REALSXP, 2);
***************
*** 1193,1200 ****
        INTEGER(value)[0] = dd->dp.err;
      }
      else if (streql(what, "fg")) {
!       value = allocVector(STRSXP, 1);
        STRING(value)[0] = mkChar(col2name(dd->dp.fg));
      }
      else if (streql(what, "fig")) {
        value = allocVector(REALSXP, 4);
--- 1199,1207 ----
        INTEGER(value)[0] = dd->dp.err;
      }
      else if (streql(what, "fg")) {
!       PROTECT(value = allocVector(STRSXP, 1));
        STRING(value)[0] = mkChar(col2name(dd->dp.fg));
+       UNPROTECT(1);
      }
      else if (streql(what, "fig")) {
        value = allocVector(REALSXP, 4);



-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Wed Sep 23 15:41:33 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 23 Sep 1998 10:41:33 -0400
Subject: "Segmentation Fault - core dumped" in R 0.62.3
References: <98Sep22.112745edt.13470@mailgate.bank-banque-canada.ca> <x23e9k5db0.fsf@blueberry.kubism.ku.dk>
Message-ID: <98Sep23.110119edt.13451@mailgate.bank-banque-canada.ca>

>Hmm. Two rather nasty PROTECT bugs got fixed for 0.63 lately, but it
>isn't all that easy to backport the fixes to 0.62.3 at this point

The problem has not been so bad that it's worth trying to track down in 0.62.3.
I was more concerned that it be fixed for future releases, so hopefully that's
been done already.

Paul

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Fri Sep 25 16:21:22 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Fri, 25 Sep 1998 17:21:22 +0200
Subject: format(numericmatrix, ...) : proposal for a change
Message-ID: <199809251521.RAA16286@sophie.ethz.ch>

Since format, i.e.,  format.default(.), is a pretty basic function I
thought I'd ask  before just changing it...

	aa <- cbind(1:7, rnorm(7))
	format(aa)
or
	format(aa, digits=7)

looks like

      [,1]         [,2]        
 [1,] " 1.0000000" " 0.2406669"
 [2,] " 2.0000000" "-0.4973221"
 [3,] " 3.0000000" " 0.4672260"
 [4,] " 4.0000000" " 0.4794697"
 [5,] " 5.0000000" "-1.0234062"
 [6,] " 6.0000000" "-0.3430790"
 [7,] " 7.0000000" "-0.1847634"

which is pretty ugly.

What I'd rather want is that each column be formatted independently, i.e.,
(almost) the result I'd currently get from

	apply(aa, 2, format, digits=7)

---
S gives something like

S> format(aa, digits=7)
               [,1]           [,2] 
[1,] " 1          " " 0.07364329 "
[2,] " 2          " "-0.7101905  "
[3,] " 3          " " 0.005834993"
[4,] " 4          " " 0.3425964  "
[5,] " 5          " " 0.8825893  "
[6,] " 6          " " 0.9540261  "
[7,] " 7          " "-0.4660654  "

(which is different from the above apply(...) by using strings which all
 have the identical number of characters).

Proposal: I'd like to have format(<numeric matrix>, ...) change to do
	COLUMNWISE formatting, either the way as apply(..) above, or
	returning strings of identical length (somewhat like S above).

Note  I don't intend to copy S-plus'  ``full mess'' of doing it :
In S-plus  
	format(aa)
and	format(aa, digits = .Options$digits)
are very different even though .Options$digits *IS* the default for
digits...

Also, we have formatC(.) which very useful for quite a few problems...

---------------

What do we ( you !) want ?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Fri Sep 25 16:30:47 1998
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich Leisch)
Date: Fri, 25 Sep 1998 17:30:47 +0200 (CEST)
Subject: format(numericmatrix, ...) : proposal for a change
In-Reply-To: <199809251521.RAA16286@sophie.ethz.ch>
References: <199809251521.RAA16286@sophie.ethz.ch>
Message-ID: <13835.46887.262990.724831@galadriel.ci.tuwien.ac.at>


Columnwise formatting would be fine with me ... could you just leave
the current behavior as option? In many cases matrix-wide formatting
is useful!


.f


>>>>> On Fri, 25 Sep 1998 17:21:22 +0200,
>>>>> Martin Maechler (MM) wrote:

MM> Since format, i.e.,  format.default(.), is a pretty basic function I
MM> thought I'd ask  before just changing it...

MM> 	aa <- cbind(1:7, rnorm(7))
MM> 	format(aa)
MM> or
MM> 	format(aa, digits=7)

MM> looks like

MM>       [,1]         [,2]        
MM>  [1,] " 1.0000000" " 0.2406669"
MM>  [2,] " 2.0000000" "-0.4973221"
MM>  [3,] " 3.0000000" " 0.4672260"
MM>  [4,] " 4.0000000" " 0.4794697"
MM>  [5,] " 5.0000000" "-1.0234062"
MM>  [6,] " 6.0000000" "-0.3430790"
MM>  [7,] " 7.0000000" "-0.1847634"

MM> which is pretty ugly.

MM> What I'd rather want is that each column be formatted independently, i.e.,
MM> (almost) the result I'd currently get from

MM> 	apply(aa, 2, format, digits=7)

MM> ---
MM> S gives something like

S> format(aa, digits=7)
MM>                [,1]           [,2] 
MM> [1,] " 1          " " 0.07364329 "
MM> [2,] " 2          " "-0.7101905  "
MM> [3,] " 3          " " 0.005834993"
MM> [4,] " 4          " " 0.3425964  "
MM> [5,] " 5          " " 0.8825893  "
MM> [6,] " 6          " " 0.9540261  "
MM> [7,] " 7          " "-0.4660654  "

MM> (which is different from the above apply(...) by using strings which all
MM>  have the identical number of characters).

MM> Proposal: I'd like to have format(<numeric matrix>, ...) change to do
MM> 	COLUMNWISE formatting, either the way as apply(..) above, or
MM> 	returning strings of identical length (somewhat like S above).

MM> Note  I don't intend to copy S-plus'  ``full mess'' of doing it :
MM> In S-plus  
MM> 	format(aa)
MM> and	format(aa, digits = .Options$digits)
MM> are very different even though .Options$digits *IS* the default for
MM> digits...

MM> Also, we have formatC(.) which very useful for quite a few problems...

MM> ---------------

MM> What do we ( you !) want ?

MM> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
MM> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
MM> Send "info", "help", or "[un]subscribe"
MM> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
MM> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Sep 25 17:51:06 1998
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 25 Sep 1998 17:51:06 +0100 (BST)
Subject: format(numericmatrix, ...) : proposal for a change
In-Reply-To: <13835.46887.262990.724831@galadriel.ci.tuwien.ac.at>
Message-ID: <Pine.GSO.3.96.980925173322.16892A-100000@toucan.stats>

On Fri, 25 Sep 1998, Friedrich Leisch wrote:

> 
> Columnwise formatting would be fine with me ... could you just leave
> the current behavior as option? In many cases matrix-wide formatting
> is useful!
> 

There are at least three different versions of format.default in different
versions of S-PLUS, so some of us have learnt to do this very
defensively. 


Columnwise formatting would be OK, but I don't think padding with spaces
rather than zeroes is acceptable. To be fair to S-PLUS, there are options
to change that, and if you are going to change this you might like to look
at adding nsmall and justify.

nsmall:   the minimum number of digits to appear to the right  of
       the decimal.
justify:    character string  giving  the  justification  of  the
       numbers  relative  to each other.  The choices are "none",
       "left", "right" and  "decimal".   Only  the  first  letter
       needs to be given.

At least as defined, format.default does not know about columns, and your
example is misleading: (in S)

> aa <- rbind(1:7, rnorm(7))
> format(aa, digits=7)
             [,1]         [,2]         [,3]         [,4]         [,5] 
[1,] " 1        " " 2        " " 3        " " 4        " " 5        "
[2,] "-0.6755785" "-0.5184718" "-0.665482 " " 2.07566  " " 0.4811527"

             [,6]         [,7] 
[1,] " 6        " " 7        "
[2,] "-0.708872 " "-0.4482897"

What do you actually want that to do? I think there is a strong case for
leaving format.default alone, and writing format.matrix and/or
format.data.frame.

Note that the digits= argument is documented differently in R and in S.


> 
> .f
> 
> 
> >>>>> On Fri, 25 Sep 1998 17:21:22 +0200,
> >>>>> Martin Maechler (MM) wrote:
> 
> MM> Since format, i.e.,  format.default(.), is a pretty basic function I
> MM> thought I'd ask  before just changing it...
> 
> MM> 	aa <- cbind(1:7, rnorm(7))
> MM> 	format(aa)
> MM> or
> MM> 	format(aa, digits=7)
> 
> MM> looks like
> 
> MM>       [,1]         [,2]        
> MM>  [1,] " 1.0000000" " 0.2406669"
> MM>  [2,] " 2.0000000" "-0.4973221"
> MM>  [3,] " 3.0000000" " 0.4672260"
> MM>  [4,] " 4.0000000" " 0.4794697"
> MM>  [5,] " 5.0000000" "-1.0234062"
> MM>  [6,] " 6.0000000" "-0.3430790"
> MM>  [7,] " 7.0000000" "-0.1847634"
> 
> MM> which is pretty ugly.
> 
> MM> What I'd rather want is that each column be formatted independently, i.e.,
> MM> (almost) the result I'd currently get from
> 
> MM> 	apply(aa, 2, format, digits=7)
> 
> MM> ---
> MM> S gives something like
> 
> S> format(aa, digits=7)
> MM>                [,1]           [,2] 
> MM> [1,] " 1          " " 0.07364329 "
> MM> [2,] " 2          " "-0.7101905  "
> MM> [3,] " 3          " " 0.005834993"
> MM> [4,] " 4          " " 0.3425964  "
> MM> [5,] " 5          " " 0.8825893  "
> MM> [6,] " 6          " " 0.9540261  "
> MM> [7,] " 7          " "-0.4660654  "
> 
> MM> (which is different from the above apply(...) by using strings which all
> MM>  have the identical number of characters).
> 
> MM> Proposal: I'd like to have format(<numeric matrix>, ...) change to do
> MM> 	COLUMNWISE formatting, either the way as apply(..) above, or
> MM> 	returning strings of identical length (somewhat like S above).
> 
> MM> Note  I don't intend to copy S-plus'  ``full mess'' of doing it :
> MM> In S-plus  
> MM> 	format(aa)
> MM> and	format(aa, digits = .Options$digits)
> MM> are very different even though .Options$digits *IS* the default for
> MM> digits...
> 
> MM> Also, we have formatC(.) which very useful for quite a few problems...
> 
> MM> ---------------
> 
> MM> What do we ( you !) want ?
> 
> MM> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> MM> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> MM> Send "info", "help", or "[un]subscribe"
> MM> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> MM> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Fri Sep 25 19:17:30 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Fri, 25 Sep 1998 14:17:30 -0400
Subject: legend
Message-ID: <98Sep25.141942edt.13483@mailgate.bank-banque-canada.ca>

I've been having some trouble with legend not printing line types and I see
there is some difference with Splus. In Splus the only required arguments are
x,y, and legend.

Also, I always thought required arguments had to proceed optional argument. What
should happen here if I omit fill and col but specify lty=something?

   legend
   function (x, y, legend, fill, col = "black", lty, lwd, pch, bty = "o",
     bg = par("bg"), cex = 1, xjust = 0, yjust = 1, x.intersp = NULL,
     y.intersp = NULL, text.width = NULL, merge = FALSE)
   {...

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ben@eno.Princeton.EDU  Mon Sep 28 13:35:04 1998
From: ben@eno.Princeton.EDU (Ben Bolker)
Date: Mon, 28 Sep 1998 08:35:04 -0400 (EDT)
Subject: adding math(s) symbols to src/main/plotmath.c
Message-ID: <Pine.SUN.3.95.980928083325.3665A-100000@paca>


  I decided I wanted an "infinity" in some label text.
  Many of these symbols should probably be incorporated in a different
way, but they don't seem to do any harm as is.

*** plotmath.c.orig	Fri Sep 25 17:21:33 1998
--- plotmath.c	Fri Sep 25 17:46:57 1998
***************
*** 183,188 ****
--- 183,232 ----
  	"psi", 121,
  	"zeta", 122,
  
+ 	"therefore", 93,
+ 	"perp", 95,
+ 
+     "lteq", 163,
+ 	"infinity", 165,
+ 	"clubsuit", 167,
+ 	"diamondsuit", 168,
+ 	"heartsuit", 169,
+ 	"spadesuit", 170,
+ 	"biarrow", 171,
+ 	"leftarrow", 172,
+     "uparrow", 173,
+ 	"rightarrow", 174,
+ 	"downarrow", 175,
+ 	"degree", 176,
+ 	"plusminus", 177,
+ 	"gteq", 179,
+ 	"times", 180,
+ 	"propto", 181,
+ 	"partial", 182,
+ 	"bullet", 183,
+ 	"divide", 184,
+ 	"notequal", 185,
+ 	"equiv", 186,
+ 	"approx", 187,
+ 	"ellipsis", 188,
+ 	"aleph", 192,
+ 	"Imaginary", 193,
+ 	"Real", 194,
+ 	"nullset", 198,
+ 	"intersect", 199,
+ 	"union", 200,
+ 	"element", 206,
+ 	"notelement", 207,
+ 	"del", 209,
+ 	"product", 213,
+ 	"surd", 214,
+ 	"dblbiarrow", 219,
+ 	"dblleftarrow", 220,
+     "dbluparrow", 221,
+ 	"dblrightarrow", 222,
+ 	"dbldownarrow", 223,
+     "integral", 252,
+ 	
  	NULL, 0,
  };
  


Benjamin Bolker          Dep't of Ecology and Evolutionary Biology,
ben@eno.princeton.edu    Princeton University
tel: (609) 258-6886,     fax: (609) 258-1334

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Mon Sep 28 13:34:58 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Mon, 28 Sep 1998 14:34:58 +0200
Subject: 0.62.3 & pre0.63: different kinds of NULL objects..
Message-ID: <199809281234.OAA07721@sophie.ethz.ch>

Oh dear, this *is* quite a penible mess :

> N2 _ lapply(NULL, sum)
> N2
NULL
> is.null(N2)
[1] TRUE
> is.list(NULL)
[1] FALSE
> is.list(N2)
[1] TRUE

---- i.e.,  N2  is ``almost'' like NULL but not quite !

---- I found the bug in a version of the following:

> array(1:6, dim=3:1, dimnames=NULL)
, , 1

     [,1] [,2]
[1,]    1    4
[2,]    2    5
[3,]    3    6

> array(1:6, dim=3:1, dimnames=N2)
Error: length of dimnames must match that of dims

---------------
Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Mon Sep 28 19:58:04 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Mon, 28 Sep 1998 14:58:04 -0400
Subject: legend
Message-ID: <98Sep28.150150edt.13465@mailgate.bank-banque-canada.ca>

I am having some trouble with legend not printing line types and a box, under
circumstances I haven't yet been able to isolate. It's as if it is getting some
wrong part of the environment, or wrong par settings. Would someone please warn
me if this is being worked on, or is a known problem, so I don't spend time
working on something that is already fixed.

I also noticed that legend and matplot do not have the same defaults for lty and
col, and I think they should.

Final, could someone tell me what

Error: No function to return from, jumping to top level

in browser means (and how to make the sort of thing that generates this message
work in browser).

Thanks

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Mon Sep 28 20:30:03 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Mon, 28 Sep 1998 15:30:03 -0400
Subject: "tsp<-"
Message-ID: <98Sep28.153343edt.13470@mailgate.bank-banque-canada.ca>

If value is NULL I think tsp assignment should not return a class ts object.
Below is a fixed version.

Paul Gilbert
____

"tsp<-" <-function(x, value)
{if (is.null(value))
   {attr(x, "tsp") <- value
    if(inherits(x,"ts")) class(x) <- NULL
    return(x)
   }
 attr(x, "tsp") <-  value
 class(x) <- "ts"
 x
}



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Sep 30 09:53:14 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 30 Sep 1998 10:53:14 +0200
Subject: Blocking the itmex.com spam..
In-Reply-To: <6rzpbi3ek4.fsf@verdi.stat.wisc.edu> (message from Douglas Bates
 on 29 Sep 1998 14:27:07 -0500)
Message-ID: <199809300853.KAA27412@sophie.ethz.ch>

>>>>> "DougB" == Douglas Bates <bates@stat.wisc.edu> writes:

    DougB> Martin, Can you put a block on messages originating from
    DougB> itcmex.com to any of the R e-mail lists?  I'm getting tired of
    DougB> hearing about their Y2K solutions.  -- Doug

Done.

Sorry for the inconvenience...  they came through on *many* mailing lists..
Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Sep 30 15:40:06 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 30 Sep 1998 16:40:06 +0200
Subject: "tsp<-"
In-Reply-To: <98Sep28.153343edt.13470@mailgate.bank-banque-canada.ca> (message
 from Paul Gilbert on Mon, 28 Sep 1998 15:30:03 -0400)
Message-ID: <199809301440.QAA04028@florence.ethz.ch>

Thank you, Paul, for reporting this problem:

>>>>> "PaulG" == Paul Gilbert <pgilbert@bank-banque-canada.ca> writes:

    PaulG> If value is NULL I think tsp assignment should not return a
    PaulG> class ts object.  Below is a fixed version.

	"tsp<-" <-function(x, value)
	{if (is.null(value))
	   {attr(x, "tsp") <- value
	    if(inherits(x,"ts")) class(x) <- NULL
	    return(x)
	   }
	 attr(x, "tsp") <-  value
	 class(x) <- "ts"
	 x
	}


Shouldn't we be even more restrictive?

 The tsp attribute (hance "value" above) should be
     - numeric
     - of length 3

And then, I'd rather stop the user than destroy the class of my ts object?!
i.e.

"tsp<-" <- function(x, value)
{
    if(!(is.numeric(value) && length(value) == 3))
        stop("invalid 'tsp': must be numeric of length 3")
    attr(x,"tsp") <- value
    x
}
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Wed Sep 30 16:38:20 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 30 Sep 1998 11:38:20 -0400
Subject: "tsp<-"
References: <199809301440.QAA04028@florence.ethz.ch>
Message-ID: <98Sep30.114258edt.13464@mailgate.bank-banque-canada.ca>

Martin

I think your fix clobbered mine for NULL assignment and when I went to test a
combined version I discovered that somewhere in the setting of the tsp attr
there is already the check you proposed, and also some other sanity checks. So
my fix for NULL assignment (below again) seems to be the only problem. "tsp<-"
might be a more logical place to put these checks then in attr, but that's a
different question.

Paul
______

        "tsp<-" <-function(x, value)
        {if (is.null(value))
           {attr(x, "tsp") <- value
            if(inherits(x,"ts")) class(x) <- NULL
            return(x)
           }
         attr(x, "tsp") <-  value
         class(x) <- "ts"
         x
        }



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ihaka@stat.auckland.ac.nz  Wed Sep  2 03:45:40 1998
From: ihaka@stat.auckland.ac.nz (Ross Ihaka)
Date: Wed, 2 Sep 1998 14:45:40 +1200 (NZST)
Subject: Latin Fonts In Graphics
Message-ID: <199809020245.OAA27588@stat1.stat.auckland.ac.nz>

I have just converted the PostScript graphics driver so that it uses
Latin1 encoding.  This should make it possible for Western European
users to render their languages correctly in plots.

It is would also be possible to add other encodings.  In particular, if
someone could send me a postscript fragment which produces a fonts with
a Latin2 encoding from a standard Adobe one, we can cover Eastern Europe
too (the Latin2 encoding does not appear to be present in standard
postscript interpreters).

[ This should be available in the development snapshots soon. ]

	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From wsimpson@uwinnipeg.ca  Wed Sep  2 22:00:09 1998
From: wsimpson@uwinnipeg.ca (Bill Simpson)
Date: Wed, 2 Sep 1998 16:00:09 -0500 (CDT)
Subject: INSTALL
Message-ID: <Pine.OSF.3.95.980902155713.23043A-100000@io.uwinnipeg.ca>

I just installed R 0.62.3 and it seems to me  the INSTALL document is out
of date.  Now it seems it does it all "automatically", so the part in the
doc below can be deleted:
--------------------------------
INSTALLATION

After
        ./configure
        make
have been completed successfully, you can install the complete R tree
to your system by typing

        make install
...
--------------------------------

Bill Simpson


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Sep  2 22:19:35 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 Sep 1998 23:19:35 +0200
Subject: INSTALL
In-Reply-To: Bill Simpson's message of Wed, 2 Sep 1998 16:00:09 -0500 (CDT)
References: <Pine.OSF.3.95.980902155713.23043A-100000@io.uwinnipeg.ca>
Message-ID: <x267f62owo.fsf@blueberry.kubism.ku.dk>

Bill Simpson <wsimpson@uwinnipeg.ca> writes:

> I just installed R 0.62.3 and it seems to me  the INSTALL document is out
> of date.  Now it seems it does it all "automatically", so the part in the
> doc below can be deleted:
> --------------------------------
> INSTALLATION
> 
> After
>         ./configure
>         make
> have been completed successfully, you can install the complete R tree
> to your system by typing

Weeelll... Some people like to do the individual steps. In particular,
if you're short of disk space, you could do

./configure
make R
make help

and have a fairly minimal working system. 

Getting make to do the configure bit automagically is a bit of a hack
and if you need to modify the configure, you do it by adding arguments
to ./configure. So all in all, it's probably best to leave the
two-step version in (but of course, one might start off with a note
saying "On most systems, just type 'make'")

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Bill Simpson <wsimpson@uwinnipeg.ca>  Wed Sep  2 22:22:54 1998
From: Bill Simpson <wsimpson@uwinnipeg.ca> (Bill Simpson)
Date: Wed, 2 Sep 1998 16:22:54 -0500 (CDT)
Subject: plot symbols
Message-ID: <Pine.OSF.3.95.980902161552.22789A-101000@io.uwinnipeg.ca>

  This message is in MIME format.  The first part should be readable text,
  while the remaining parts are likely unreadable without MIME-aware tools.
  Send mail to mime@docserver.cac.washington.edu for more info.

--0-654592387-904771374=:23132
Content-Type: TEXT/PLAIN; charset=US-ASCII

I just installed the latest R .62.3 and it still has this serious plot
bug:
- in R Graphics window, all is well
- save plot to file, look at it with ghostview or print it and you will
see
	* if you change the default pars like this
par.set<-function()
{
par(cex=2,mex=.7)
par(mar=c(5,5,2,2))
} 
	* the first set of points plotted have the right size symbol, BUT
the second and subsequent sets use the default (small) symbol size.  I
attach an example where the two symbols are SUPPOSED to be the same size

Bill Simpson


--0-654592387-904771374=:23132
Content-Type: APPLICATION/PostScript; name="5.ps"
Content-Transfer-Encoding: BASE64
Content-ID: <Pine.OSF.3.95.980902162254.23132A@io.uwinnipeg.ca>
Content-Description: 

JSFQUy1BZG9iZS0zLjAKJSVEb2N1bWVudEZvbnRzOiBIZWx2ZXRpY2EgSGVs
dmV0aWNhLUJvbGQgSGVsdmV0aWNhLU9ibGlxdWUKJSUrIEhlbHZldGljYS1C
b2xkT2JsaXF1ZSBTeW1ib2wKJSVEb2N1bWVudE1lZGlhOiBsZXR0ZXIgNjEy
IDc5MiAwICgpCiUlVGl0bGU6IFIgR3JhcGhpY3MgT3V0cHV0CiUlQ3JlYXRv
cjogUiBTb2Z0d2FyZQolJVBhZ2VzOiAoYXRlbmQpCiUlT3JpZW50YXRpb246
IFBvcnRyYWl0CiUlQm91bmRpbmdCb3g6IDM2IDEyNiA1NzYgNjY2CiUlRW5k
Q29tbWVudHMKJSVCZWdpblByb2xvZwovZ3MgIHsgZ3NhdmUgfSBkZWYKL2dy
ICB7IGdyZXN0b3JlIH0gZGVmCi9icCAgeyBncyB9IGRlZgovZXAgIHsgc2hv
d3BhZ2UgZ3IgfSBkZWYKL20gICB7IG1vdmV0byB9IGRlZgovbCAgIHsgbGlu
ZXRvIH0gZGVmCi9ucCAgeyBuZXdwYXRoIH0gZGVmCi9jcCAgeyBjbG9zZXBh
dGggfSBkZWYKL2YgICB7IGZpbGwgfSBkZWYKL28gICB7IHN0cm9rZSB9IGRl
ZgovY2YgIHsgbmV3cGF0aCAwIDM2MCBhcmMgZmlsbCB9IGRlZgovY28gIHsg
bmV3cGF0aCAwIDM2MCBhcmMgc3Ryb2tlIH0gZGVmCi9yICAgeyAzIGluZGV4
IDMgaW5kZXggbW92ZXRvIDEgaW5kZXggNCAtMSByb2xsCiAgICAgICBsaW5l
dG8gZXhjaCAxIGluZGV4IGxpbmV0byBsaW5ldG8gY2xvc2VwYXRoIH0gZGVm
Ci9yZiAgeyByIGYgfSBkZWYKL3JvICB7IHIgbyB9IGRlZgovdCAgIHsgNiAt
MiByb2xsIG1vdmV0byBnc2F2ZSAzIGluZGV4IHRydWUKICAgICAgIGNoYXJw
YXRoIGZsYXR0ZW5wYXRoIHBhdGhiYm94IGdyZXN0b3JlIGdzYXZlCiAgICAg
ICA1IC0xIHJvbGwgcm90YXRlIDYgLTEgcm9sbCBuZWcgMyAtMSByb2xsIDUg
LTEKICAgICAgIHJvbGwgc3ViIG11bCA0IC0xIHJvbGwgbmVnIDMgLTEgcm9s
bCA0IC0xIHJvbGwKICAgICAgIHN1YiBtdWwgcm1vdmV0byBzaG93IGdyZXN0
b3JlIH0gZGVmCi9jbCAgeyBpbml0Y2xpcCBuZXdwYXRoIDMgaW5kZXggMyBp
bmRleCBtb3ZldG8gMSBpbmRleAogICAgICAgNCAtMSByb2xsIGxpbmV0byAg
ZXhjaCAxIGluZGV4IGxpbmV0byBsaW5ldG8KICAgICAgIGNsb3NlcGF0aCBj
bGlwIG5ld3BhdGggfSBkZWYKL3JnYiB7IHNldHJnYmNvbG9yIH0gZGVmCi9z
ICAgeyBzY2FsZWZvbnQgc2V0Zm9udCB9IGRlZgovUiAgIHsgL0hlbHZldGlj
YSBmaW5kZm9udCB9IGRlZgovQiAgIHsgL0hlbHZldGljYS1Cb2xkIGZpbmRm
b250IH0gZGVmCi9JICAgeyAvSGVsdmV0aWNhLU9ibGlxdWUgZmluZGZvbnQg
fSBkZWYKL0JJICB7IC9IZWx2ZXRpY2EtQm9sZE9ibGlxdWUgZmluZGZvbnQg
fSBkZWYKL1MgICB7IC9TeW1ib2wgZmluZGZvbnQgfSBkZWYKMSBzZXRsaW5l
Y2FwIDEgc2V0bGluZWpvaW4KJSVFbmRQcm9sb2cKJSVQYWdlOiAxIDEKYnAK
UiAxMCBzCjAuNzUgc2V0bGluZXdpZHRoCjAuMDAwMCAwLjAwMDAgMC4wMDAw
IHJnYgoxMDYuMDAgMTk2LjAwIDU0OC4wMCA2MzguMDAgY2wKMTA2LjAwIDE5
Ni4wMCA1NDguMDAgNjM4LjAwIGNsCltdIDAgc2V0ZGFzaAowLjc1IHNldGxp
bmV3aWR0aAoxMjIuMzcgMjM4LjE1IDExLjAxIGNvCltdIDAgc2V0ZGFzaAow
Ljc1IHNldGxpbmV3aWR0aAoyMzcuNzggNDQ3LjMyIDExLjAxIGNvCltdIDAg
c2V0ZGFzaAowLjc1IHNldGxpbmV3aWR0aAozNTMuMjAgNjEzLjY4IDExLjAx
IGNvCltdIDAgc2V0ZGFzaAowLjc1IHNldGxpbmV3aWR0aAoxNjguNTQgMjc3
LjM5IDExLjAxIGNvCltdIDAgc2V0ZGFzaAowLjc1IHNldGxpbmV3aWR0aAoy
OTUuNDkgNjE3LjU4IDExLjAxIGNvCjM2LjAwIDEyNi4wMCA1NzYuMDAgNjY2
LjAwIGNsCltdIDAgc2V0ZGFzaAowLjc1IHNldGxpbmV3aWR0aApucAoxMjIu
MzcgMTk2LjAwIG0KNDY4LjYxIDE5Ni4wMCBsCm8KW10gMCBzZXRkYXNoCjAu
NzUgc2V0bGluZXdpZHRoCm5wCjEyMi4zNyAxOTYuMDAgbQoxMjIuMzcgMTg5
LjAwIGwKbwpbXSAwIHNldGRhc2gKMC43NSBzZXRsaW5ld2lkdGgKbnAKMjM3
Ljc4IDE5Ni4wMCBtCjIzNy43OCAxODkuMDAgbApvCltdIDAgc2V0ZGFzaAow
Ljc1IHNldGxpbmV3aWR0aApucAozNTMuMjAgMTk2LjAwIG0KMzUzLjIwIDE4
OS4wMCBsCm8KW10gMCBzZXRkYXNoCjAuNzUgc2V0bGluZXdpZHRoCm5wCjQ2
OC42MSAxOTYuMDAgbQo0NjguNjEgMTg5LjAwIGwKbwpSIDI0IHMKMTIyLjM3
IDE2OS40MCAoMC4wKSAwLjUwIDAuMDAgMC4wMCB0CjIzNy43OCAxNjkuNDAg
KDAuMSkgMC41MCAwLjAwIDAuMDAgdAozNTMuMjAgMTY5LjQwICgwLjIpIDAu
NTAgMC4wMCAwLjAwIHQKNDY4LjYxIDE2OS40MCAoMC4zKSAwLjUwIDAuMDAg
MC4wMCB0CltdIDAgc2V0ZGFzaAowLjc1IHNldGxpbmV3aWR0aApucAoxMDYu
MDAgMjEyLjM3IG0KMTA2LjAwIDYyMS42MyBsCm8KW10gMCBzZXRkYXNoCjAu
NzUgc2V0bGluZXdpZHRoCm5wCjEwNi4wMCAyMTIuMzcgbQo5OS4wMCAyMTIu
MzcgbApvCltdIDAgc2V0ZGFzaAowLjc1IHNldGxpbmV3aWR0aApucAoxMDYu
MDAgMjk0LjIyIG0KOTkuMDAgMjk0LjIyIGwKbwpbXSAwIHNldGRhc2gKMC43
NSBzZXRsaW5ld2lkdGgKbnAKMTA2LjAwIDM3Ni4wNyBtCjk5LjAwIDM3Ni4w
NyBsCm8KW10gMCBzZXRkYXNoCjAuNzUgc2V0bGluZXdpZHRoCm5wCjEwNi4w
MCA0NTcuOTMgbQo5OS4wMCA0NTcuOTMgbApvCltdIDAgc2V0ZGFzaAowLjc1
IHNldGxpbmV3aWR0aApucAoxMDYuMDAgNTM5Ljc4IG0KOTkuMDAgNTM5Ljc4
IGwKbwpbXSAwIHNldGRhc2gKMC43NSBzZXRsaW5ld2lkdGgKbnAKMTA2LjAw
IDYyMS42MyBtCjk5LjAwIDYyMS42MyBsCm8KOTAuNjAgMjEyLjM3ICgwLjAp
IDAuNTAgMC4wMCA5MC4wMCB0CjkwLjYwIDI5NC4yMiAoMC4yKSAwLjUwIDAu
MDAgOTAuMDAgdAo5MC42MCAzNzYuMDcgKDAuNCkgMC41MCAwLjAwIDkwLjAw
IHQKOTAuNjAgNDU3LjkzICgwLjYpIDAuNTAgMC4wMCA5MC4wMCB0CjkwLjYw
IDUzOS43OCAoMC44KSAwLjUwIDAuMDAgOTAuMDAgdAo5MC42MCA2MjEuNjMg
KDEuMCkgMC41MCAwLjAwIDkwLjAwIHQKW10gMCBzZXRkYXNoCjAuNzUgc2V0
bGluZXdpZHRoCm5wCjU0OC4wMCAxOTYuMDAgbQo1NDguMDAgNjM4LjAwIGwK
MTA2LjAwIDYzOC4wMCBsCjEwNi4wMCAxOTYuMDAgbApjcCBvCjMyNy4wMCAx
NDEuNDAgKENvbnRyYXN0KSAwLjUwIDAuMDAgMC4wMCB0CjYyLjYwIDQxNy4w
MCAoUHJvcG9ydGlvbiBvZiBzZXR0aW5ncyBvciAneWVzJyBqdWRnZW1lbnRz
KSAwLjUwIDAuMDAgOTAuMDAgdAoxMDYuMDAgMTk2LjAwIDU0OC4wMCA2Mzgu
MDAgY2wKW10gMCBzZXRkYXNoCjAuNzUgc2V0bGluZXdpZHRoCm5wCjEyMi4z
NyAyMzMuNDYgbQoxMjYuMDkgMjM2LjQwIGwKMTI5LjgyIDIzOS42NyBsCjEz
My41NCAyNDMuMjcgbAoxMzcuMjYgMjQ3LjIyIGwKMTQwLjk5IDI1MS41NCBs
CjE0NC43MSAyNTYuMjQgbAoxNDguNDMgMjYxLjMzIGwKMTUyLjE1IDI2Ni44
MiBsCjE1NS44OCAyNzIuNzMgbAoxNTkuNjAgMjc5LjA1IGwKMTYzLjMyIDI4
NS43OCBsCjE2Ny4wNSAyOTIuOTMgbAoxNzAuNzcgMzAwLjQ4IGwKMTc0LjQ5
IDMwOC40MyBsCjE3OC4yMiAzMTYuNzYgbAoxODEuOTQgMzI1LjQ1IGwKMTg1
LjY2IDMzNC40OCBsCjE4OS4zOCAzNDMuODMgbAoxOTMuMTEgMzUzLjQ2IGwK
MTk2LjgzIDM2My4zNSBsCjIwMC41NSAzNzMuNDUgbAoyMDQuMjggMzgzLjcz
IGwKMjA4LjAwIDM5NC4xNSBsCjIxMS43MiA0MDQuNjYgbAoyMTUuNDUgNDE1
LjIyIGwKMjE5LjE3IDQyNS43OSBsCjIyMi44OSA0MzYuMzMgbAoyMjYuNjIg
NDQ2Ljc4IGwKMjMwLjM0IDQ1Ny4xMSBsCjIzNC4wNiA0NjcuMjggbAoyMzcu
NzggNDc3LjI0IGwKMjQxLjUxIDQ4Ni45NiBsCjI0NS4yMyA0OTYuNDEgbAoy
NDguOTUgNTA1LjU1IGwKMjUyLjY4IDUxNC4zNiBsCjI1Ni40MCA1MjIuODEg
bAoyNjAuMTIgNTMwLjg5IGwKMjYzLjg1IDUzOC41OCBsCjI2Ny41NyA1NDUu
ODYgbAoyNzEuMjkgNTUyLjczIGwKMjc1LjAxIDU1OS4xOSBsCjI3OC43NCA1
NjUuMjQgbAoyODIuNDYgNTcwLjg3IGwKMjg2LjE4IDU3Ni4wOSBsCjI4OS45
MSA1ODAuOTIgbAoyOTMuNjMgNTg1LjM3IGwKMjk3LjM1IDU4OS40NCBsCjMw
MS4wOCA1OTMuMTUgbAozMDQuODAgNTk2LjUzIGwKMzA4LjUyIDU5OS41OSBs
CjMxMi4yNSA2MDIuMzQgbAozMTUuOTcgNjA0LjgxIGwKMzE5LjY5IDYwNy4w
MiBsCjMyMy40MSA2MDguOTggbAozMjcuMTQgNjEwLjcyIGwKMzMwLjg2IDYx
Mi4yNiBsCjMzNC41OCA2MTMuNjEgbAozMzguMzEgNjE0Ljc5IGwKMzQyLjAz
IDYxNS44MSBsCjM0NS43NSA2MTYuNzEgbAozNDkuNDggNjE3LjQ4IGwKMzUz
LjIwIDYxOC4xNCBsCm8KNDU3LjA3IDI1My4zMCAoMC41IGMvZGVnKSAwLjUw
IDAuMzMgMC4wMCB0Cm5wCiAgMTg4LjAwIDIxNC4xOSBtCiAgMTkzLjAwIDIx
OS4xOSBsCiAgMTg4LjAwIDIyNC4yMCBsCiAgMTgyLjk5IDIxOS4xOSBsCmNw
IGYKbnAKICAyNTYuMTYgMjIxLjAxIG0KICAyNjEuMTYgMjI2LjAxIGwKICAy
NTYuMTYgMjMxLjAyIGwKICAyNTEuMTYgMjI2LjAxIGwKY3AgZgpucAogIDI1
Ny45MSAyMjcuODMgbQogIDI2Mi45MiAyMzIuODMgbAogIDI1Ny45MSAyMzcu
ODQgbAogIDI1Mi45MSAyMzIuODMgbApjcCBmCm5wCiAgMjY2LjQ4IDIzNC42
NSBtCiAgMjcxLjQ4IDIzOS42NSBsCiAgMjY2LjQ4IDI0NC42NiBsCiAgMjYx
LjQ4IDIzOS42NSBsCmNwIGYKbnAKICAyOTUuOTAgMjQxLjQ3IG0KICAzMDAu
OTAgMjQ2LjQ4IGwKICAyOTUuOTAgMjUxLjQ4IGwKICAyOTAuODkgMjQ2LjQ4
IGwKY3AgZgpucAogIDI5OC4xOSAyNDguMjkgbQogIDMwMy4xOSAyNTMuMzAg
bAogIDI5OC4xOSAyNTguMzAgbAogIDI5My4xOCAyNTMuMzAgbApjcCBmCm5w
CiAgMzAzLjg1IDI1NS4xMSBtCiAgMzA4Ljg2IDI2MC4xMiBsCiAgMzAzLjg1
IDI2NS4xMiBsCiAgMjk4Ljg1IDI2MC4xMiBsCmNwIGYKbnAKICAzMDUuMzcg
MjYxLjkzIG0KICAzMTAuMzcgMjY2Ljk0IGwKICAzMDUuMzcgMjcxLjk0IGwK
ICAzMDAuMzYgMjY2Ljk0IGwKY3AgZgpucAogIDMxNi43NSAyNjguNzYgbQog
IDMyMS43NSAyNzMuNzYgbAogIDMxNi43NSAyNzguNzYgbAogIDMxMS43NCAy
NzMuNzYgbApjcCBmCm5wCiAgMzE5LjQxIDI3NS41OCBtCiAgMzI0LjQxIDI4
MC41OCBsCiAgMzE5LjQxIDI4NS41OCBsCiAgMzE0LjQxIDI4MC41OCBsCmNw
IGYKbnAKICAzMjEuMTcgMjgyLjQwIG0KICAzMjYuMTggMjg3LjQwIGwKICAz
MjEuMTcgMjkyLjQxIGwKICAzMTYuMTcgMjg3LjQwIGwKY3AgZgpucAogIDMy
NS42MCAyODkuMjIgbQogIDMzMC42MCAyOTQuMjIgbAogIDMyNS42MCAyOTku
MjMgbAogIDMyMC42MCAyOTQuMjIgbApjcCBmCm5wCiAgMzI5Ljk3IDI5Ni4w
NCBtCiAgMzM0Ljk3IDMwMS4wNCBsCiAgMzI5Ljk3IDMwNi4wNSBsCiAgMzI0
Ljk2IDMwMS4wNCBsCmNwIGYKbnAKICAzNDYuODYgMzAyLjg2IG0KICAzNTEu
ODcgMzA3Ljg2IGwKICAzNDYuODYgMzEyLjg3IGwKICAzNDEuODYgMzA3Ljg2
IGwKY3AgZgpucAogIDM0OC45NyAzMDkuNjggbQogIDM1My45NyAzMTQuNjkg
bAogIDM0OC45NyAzMTkuNjkgbAogIDM0My45NyAzMTQuNjkgbApjcCBmCm5w
CiAgMzUwLjgzIDMxNi41MCBtCiAgMzU1LjgzIDMyMS41MSBsCiAgMzUwLjgz
IDMyNi41MSBsCiAgMzQ1LjgyIDMyMS41MSBsCmNwIGYKbnAKICAzNTMuNjMg
MzIzLjMyIG0KICAzNTguNjQgMzI4LjMzIGwKICAzNTMuNjMgMzMzLjMzIGwK
ICAzNDguNjMgMzI4LjMzIGwKY3AgZgpucAogIDM1NC42NSAzMzAuMTQgbQog
IDM1OS42NiAzMzUuMTUgbAogIDM1NC42NSAzNDAuMTUgbAogIDM0OS42NSAz
MzUuMTUgbApjcCBmCm5wCiAgMzU1LjE3IDMzNi45NyBtCiAgMzYwLjE4IDM0
MS45NyBsCiAgMzU1LjE3IDM0Ni45NyBsCiAgMzUwLjE3IDM0MS45NyBsCmNw
IGYKbnAKICAzNTcuMDMgMzQzLjc5IG0KICAzNjIuMDMgMzQ4Ljc5IGwKICAz
NTcuMDMgMzUzLjc5IGwKICAzNTIuMDMgMzQ4Ljc5IGwKY3AgZgpucAogIDM2
MS4zMiAzNTAuNjEgbQogIDM2Ni4zMiAzNTUuNjEgbAogIDM2MS4zMiAzNjAu
NjIgbAogIDM1Ni4zMSAzNTUuNjEgbApjcCBmCm5wCiAgMzYyLjU0IDM1Ny40
MyBtCiAgMzY3LjU1IDM2Mi40MyBsCiAgMzYyLjU0IDM2Ny40NCBsCiAgMzU3
LjU0IDM2Mi40MyBsCmNwIGYKbnAKICAzNjMuMDcgMzY0LjI1IG0KICAzNjgu
MDcgMzY5LjI1IGwKICAzNjMuMDcgMzc0LjI2IGwKICAzNTguMDcgMzY5LjI1
IGwKY3AgZgpucAogIDM2My41NSAzNzEuMDcgbQogIDM2OC41NSAzNzYuMDcg
bAogIDM2My41NSAzODEuMDggbAogIDM1OC41NCAzNzYuMDcgbApjcCBmCm5w
CiAgMzY2LjE4IDM3Ny44OSBtCiAgMzcxLjE5IDM4Mi45MCBsCiAgMzY2LjE4
IDM4Ny45MCBsCiAgMzYxLjE4IDM4Mi45MCBsCmNwIGYKbnAKICAzNzAuNTMg
Mzg0LjcxIG0KICAzNzUuNTMgMzg5LjcyIGwKICAzNzAuNTMgMzk0LjcyIGwK
ICAzNjUuNTIgMzg5LjcyIGwKY3AgZgpucAogIDM3MS4xNCAzOTEuNTMgbQog
IDM3Ni4xNCAzOTYuNTQgbAogIDM3MS4xNCA0MDEuNTQgbAogIDM2Ni4xMyAz
OTYuNTQgbApjcCBmCm5wCiAgMzcxLjUxIDM5OC4zNSBtCiAgMzc2LjUxIDQw
My4zNiBsCiAgMzcxLjUxIDQwOC4zNiBsCiAgMzY2LjUwIDQwMy4zNiBsCmNw
IGYKbnAKICAzNzMuNzcgNDA1LjE4IG0KICAzNzguNzggNDEwLjE4IGwKICAz
NzMuNzcgNDE1LjE4IGwKICAzNjguNzcgNDEwLjE4IGwKY3AgZgpucAogIDM3
Ni4yNyA0MTIuMDAgbQogIDM4MS4yNyA0MTcuMDAgbAogIDM3Ni4yNyA0MjIu
MDAgbAogIDM3MS4yNiA0MTcuMDAgbApjcCBmCm5wCiAgMzc4LjM3IDQxOC44
MiBtCiAgMzgzLjM3IDQyMy44MiBsCiAgMzc4LjM3IDQyOC44MiBsCiAgMzcz
LjM2IDQyMy44MiBsCmNwIGYKbnAKICAzNzkuNzQgNDI1LjY0IG0KICAzODQu
NzUgNDMwLjY0IGwKICAzNzkuNzQgNDM1LjY1IGwKICAzNzQuNzQgNDMwLjY0
IGwKY3AgZgpucAogIDM4MS4xMCA0MzIuNDYgbQogIDM4Ni4xMCA0MzcuNDYg
bAogIDM4MS4xMCA0NDIuNDcgbAogIDM3Ni4xMCA0MzcuNDYgbApjcCBmCm5w
CiAgMzgyLjI0IDQzOS4yOCBtCiAgMzg3LjI0IDQ0NC4yOCBsCiAgMzgyLjI0
IDQ0OS4yOSBsCiAgMzc3LjIzIDQ0NC4yOCBsCmNwIGYKbnAKICAzODQuNTQg
NDQ2LjEwIG0KICAzODkuNTQgNDUxLjEwIGwKICAzODQuNTQgNDU2LjExIGwK
ICAzNzkuNTQgNDUxLjEwIGwKY3AgZgpucAogIDM4OC4xMiA0NTIuOTIgbQog
IDM5My4xMiA0NTcuOTMgbAogIDM4OC4xMiA0NjIuOTMgbAogIDM4My4xMSA0
NTcuOTMgbApjcCBmCm5wCiAgMzkzLjUyIDQ1OS43NCBtCiAgMzk4LjUzIDQ2
NC43NSBsCiAgMzkzLjUyIDQ2OS43NSBsCiAgMzg4LjUyIDQ2NC43NSBsCmNw
IGYKbnAKICAzOTkuODUgNDY2LjU2IG0KICA0MDQuODYgNDcxLjU3IGwKICAz
OTkuODUgNDc2LjU3IGwKICAzOTQuODUgNDcxLjU3IGwKY3AgZgpucAogIDQw
Mi4wMiA0NzMuMzggbQogIDQwNy4wMiA0NzguMzkgbAogIDQwMi4wMiA0ODMu
MzkgbAogIDM5Ny4wMSA0NzguMzkgbApjcCBmCm5wCiAgNDAzLjU3IDQ4MC4y
MSBtCiAgNDA4LjU4IDQ4NS4yMSBsCiAgNDAzLjU3IDQ5MC4yMSBsCiAgMzk4
LjU3IDQ4NS4yMSBsCmNwIGYKbnAKICA0MDkuMTkgNDg3LjAzIG0KICA0MTQu
MTkgNDkyLjAzIGwKICA0MDkuMTkgNDk3LjAzIGwKICA0MDQuMTkgNDkyLjAz
IGwKY3AgZgpucAogIDQxMS4yMiA0OTMuODUgbQogIDQxNi4yMyA0OTguODUg
bAogIDQxMS4yMiA1MDMuODYgbAogIDQwNi4yMiA0OTguODUgbApjcCBmCm5w
CiAgNDExLjc0IDUwMC42NyBtCiAgNDE2Ljc1IDUwNS42NyBsCiAgNDExLjc0
IDUxMC42OCBsCiAgNDA2Ljc0IDUwNS42NyBsCmNwIGYKbnAKICA0MTIuNTQg
NTA3LjQ5IG0KICA0MTcuNTQgNTEyLjQ5IGwKICA0MTIuNTQgNTE3LjUwIGwK
ICA0MDcuNTQgNTEyLjQ5IGwKY3AgZgpucAogIDQxMi42NyA1MTQuMzEgbQog
IDQxNy42OCA1MTkuMzEgbAogIDQxMi42NyA1MjQuMzIgbAogIDQwNy42NyA1
MTkuMzEgbApjcCBmCm5wCiAgNDEzLjIzIDUyMS4xMyBtCiAgNDE4LjIzIDUy
Ni4xNCBsCiAgNDEzLjIzIDUzMS4xNCBsCiAgNDA4LjIyIDUyNi4xNCBsCmNw
IGYKbnAKICA0MTUuOTYgNTI3Ljk1IG0KICA0MjAuOTYgNTMyLjk2IGwKICA0
MTUuOTYgNTM3Ljk2IGwKICA0MTAuOTUgNTMyLjk2IGwKY3AgZgpucAogIDQy
MS4zMCA1MzQuNzcgbQogIDQyNi4zMSA1MzkuNzggbAogIDQyMS4zMCA1NDQu
NzggbAogIDQxNi4zMCA1MzkuNzggbApjcCBmCm5wCiAgNDIzLjU2IDU0MS41
OSBtCiAgNDI4LjU2IDU0Ni42MCBsCiAgNDIzLjU2IDU1MS42MCBsCiAgNDE4
LjU1IDU0Ni42MCBsCmNwIGYKbnAKICA0MzAuNzAgNTQ4LjQyIG0KICA0MzUu
NzEgNTUzLjQyIGwKICA0MzAuNzAgNTU4LjQyIGwKICA0MjUuNzAgNTUzLjQy
IGwKY3AgZgpucAogIDQ0OC45NCA1NTUuMjQgbQogIDQ1My45NCA1NjAuMjQg
bAogIDQ0OC45NCA1NjUuMjQgbAogIDQ0My45MyA1NjAuMjQgbApjcCBmCm5w
CiAgNDQ5Ljc4IDU2Mi4wNiBtCiAgNDU0Ljc4IDU2Ny4wNiBsCiAgNDQ5Ljc4
IDU3Mi4wNyBsCiAgNDQ0Ljc3IDU2Ny4wNiBsCmNwIGYKbnAKICA0NTguOTUg
NTY4Ljg4IG0KICA0NjMuOTYgNTczLjg4IGwKICA0NTguOTUgNTc4Ljg5IGwK
ICA0NTMuOTUgNTczLjg4IGwKY3AgZgpucAogIDQ2MS45OSA1NzUuNzAgbQog
IDQ2Ny4wMCA1ODAuNzAgbAogIDQ2MS45OSA1ODUuNzEgbAogIDQ1Ni45OSA1
ODAuNzAgbApjcCBmCm5wCiAgNDYzLjA1IDU4Mi41MiBtCiAgNDY4LjA1IDU4
Ny41MiBsCiAgNDYzLjA1IDU5Mi41MyBsCiAgNDU4LjA0IDU4Ny41MiBsCmNw
IGYKbnAKICA0NjcuNzcgNTg5LjM0IG0KICA0NzIuNzcgNTk0LjM1IGwKICA0
NjcuNzcgNTk5LjM1IGwKICA0NjIuNzYgNTk0LjM1IGwKY3AgZgpucAogIDQ4
My42MyA1OTYuMTYgbQogIDQ4OC42MyA2MDEuMTcgbAogIDQ4My42MyA2MDYu
MTcgbAogIDQ3OC42MiA2MDEuMTcgbApjcCBmCm5wCiAgNDg0LjIyIDYwMi45
OCBtCiAgNDg5LjIzIDYwNy45OSBsCiAgNDg0LjIyIDYxMi45OSBsCiAgNDc5
LjIyIDYwNy45OSBsCmNwIGYKbnAKICA0OTYuNTMgNjA5LjgwIG0KICA1MDEu
NTMgNjE0LjgxIGwKICA0OTYuNTMgNjE5LjgxIGwKICA0OTEuNTIgNjE0Ljgx
IGwKY3AgZgpucAogIDUzMS42MyA2MTYuNjMgbQogIDUzNi42MyA2MjEuNjMg
bAogIDUzMS42MyA2MjYuNjMgbAogIDUyNi42MyA2MjEuNjMgbApjcCBmCmVw
CiUlVHJhaWxlcgolJVBhZ2VzOiAxCiUlRU9GCg==
--0-654592387-904771374=:23132--
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Sep  3 07:04:56 1998
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 3 Sep 1998 07:04:56 +0100 (BST)
Subject: INSTALL
In-Reply-To: <x267f62owo.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.3.96.980903064303.17366A-100000@localhost>

On 2 Sep 1998, Peter Dalgaard BSA wrote:

> Bill Simpson <wsimpson@uwinnipeg.ca> writes:
> 
> > I just installed R 0.62.3 and it seems to me  the INSTALL document is out
> > of date.  Now it seems it does it all "automatically", so the part in the
> > doc below can be deleted:
> > --------------------------------
> > INSTALLATION
> > 
> > After
> >         ./configure
> >         make
> > have been completed successfully, you can install the complete R tree
> > to your system by typing
> 
> Weeelll... Some people like to do the individual steps. In particular,
> if you're short of disk space, you could do
> 
> ./configure
> make R
> make help
> 
> and have a fairly minimal working system. 
> 
> Getting make to do the configure bit automagically is a bit of a hack
> and if you need to modify the configure, you do it by adding arguments
> to ./configure. So all in all, it's probably best to leave the
> two-step version in (but of course, one might start off with a note
> saying "On most systems, just type 'make'")

In particular if you are installing to a location other than /usr/local
you do need --prefix, and so have to run configure separately. (And
if you run pre-release or devel versions, you probably do want to install
elsewhere.)

What I would like the file to include is the information that you can
run without installing from the place you compiled, even after make clean.
That is a link of  /place/I/unpacked/bin/R to somewhere in your path
is all you need. And that does save disk space since during the install you
need two copies.  My installation procedure is

	./configure --prefix=...
	make
	/place/I/unpacked/bin/R   # check it runs
	make clean
	make install

As pedantry:

> Now type R and reach for your S manuals ...

on most (all) shells you will need to rehash, and in fact the default place
to install is not in the default path on Solaris (and I suspect most
non-gnu) systems.  But, would not a comment to read the R FAQ be useful? 


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tuffery@bach.urbb.jussieu.fr  Thu Sep  3 09:56:06 1998
From: tuffery@bach.urbb.jussieu.fr (Pierre TUFFERY)
Date: Thu, 3 Sep 1998 10:56:06 +0200 (CEST)
Subject: R on Linux/Alpha ?
Message-ID: <199809030856.KAA06386@aureil.urbb.jussieu.fr>

Hi,
As a newcommer to R, I tried to install R on my Alpha 164LX PC
(running Linux), but it coredumps before performing anything.
(a common problem when porting to Alpha 164LX).
Has anybody any information and solution to this ?
-- 
Email: tuffery@urbb.jussieu.fr 
Tel  : (33 1) 44.27.77.33     

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Sep  3 10:15:33 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 03 Sep 1998 11:15:33 +0200
Subject: R on Linux/Alpha ?
In-Reply-To: tuffery@bach.urbb.jussieu.fr's message of Thu, 3 Sep 1998 10:56:06 +0200 (CEST)
References: <199809030856.KAA06386@aureil.urbb.jussieu.fr>
Message-ID: <x2af4h4kwa.fsf@blueberry.kubism.ku.dk>

tuffery@bach.urbb.jussieu.fr (Pierre TUFFERY) writes:

> Hi,
> As a newcommer to R, I tried to install R on my Alpha 164LX PC
> (running Linux), but it coredumps before performing anything.
> (a common problem when porting to Alpha 164LX).
> Has anybody any information and solution to this ?

Linux version?
R version?

It has been reported to work, in some configurations at least.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From nassar@etymon.com  Thu Sep  3 11:59:50 1998
From: nassar@etymon.com (Nassib Nassar)
Date: Thu, 3 Sep 1998 06:59:50 -0400
Subject: R on Linux/Alpha ?
In-Reply-To: <199809030856.KAA06386@aureil.urbb.jussieu.fr>
References: <199809030856.KAA06386@aureil.urbb.jussieu.fr>
Message-ID: <19980903065950.A495@etymon.com>

You might try compiling it with CFLAGS="-mieee -g -O1" (when you run
configure).  This worked for 0.62.2 on my Alpha running Linux.

Nassib



On Thu, Sep 03, 1998 at 10:56:06AM +0200, Pierre TUFFERY wrote:
> Hi,
> As a newcommer to R, I tried to install R on my Alpha 164LX PC
> (running Linux), but it coredumps before performing anything.
> (a common problem when porting to Alpha 164LX).
> Has anybody any information and solution to this ?
> -- 
> Email: tuffery@urbb.jussieu.fr 
> Tel  : (33 1) 44.27.77.33     
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Sep  3 16:19:03 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 3 Sep 1998 17:19:03 +0200
Subject: {g}lm coefficients labeling etc. [was "R0.62.3 problems"]
In-Reply-To: <199809030936.LAA08902@alpha.luc.ac.be> (message from Jim Lindsey
 on Thu, 3 Sep 1998 11:36:48 +0200 (MET DST))
Message-ID: <199809031519.RAA13698@sophie.ethz.ch>


	[I think it would make more sense to use  R-devel instead of R-help
	 for discussions like these, that's why ...]

>>>>> "Jim" == Jim Lindsey <jlindsey@alpha.luc.ac.be> writes:

    Jim> First, I did not install R0.62.2 and there was no problem with
    Jim> binary factor variables in 0.62.1. I discovered the problem since
    Jim> .3 appeared.
Yes. 
and I agree 100% with Brian's remark that we probably should have started
discussing these things on R-devel rather than private E-mails + R-core...
Excuse us!

    Jim> My Liege undergraduate social science students have a somewhat
    Jim> different conception of contrasts than Brian's Oxford math
    Jim> students.  As it stands, the output of glm for binary factor
    Jim> variables is unusable for them.

Thank you Jim, for your complete example session -- including data !
As a remark to everyone:  I think you will get much better feedback if you
use such complete examples...

    Jim> .........
    Jim> ......... examples and thoughts...
    Jim> .........

    Jim> The need to put the label on x in the interaction in the second
    Jim> glm output clearly demonstrates that Brian is wrong.
    Jim> So put it on all the time.

    Jim> The idea is maximum transparency, not maximum
    Jim> opaqueness.  Otherwise, let's also stop showing the levels when a
    Jim> factor variable is printed out: S-Plus (apparently) does not do
    Jim> it, so it must be useless to show them. ;-)

good point.
However, this is only a print.xx method whereas with the coefficients'
names/labels, we are talking about the structure returned by [g]lm(.).

There *are* good reasons to be S-compatible
	   --- with some carefully discussed exceptions.

I for myself had rather kept more of the non-compatibilities of R;
{{ factor(..) ! }} but I wasn't among those doing the port of packages 
from S-plus to R...

By the way: For "poly"-contrasted factors, we are already slightly
S-incompatible, since S isn't compatible with itself!

S> dimnames(contr.poly(11))
[[1]]:
character(0)

[[2]]:
 [1] ".L"    ".Q"    ".C"    " ^ 4"  " ^ 5"  " ^ 6"  " ^ 7"  " ^ 8"  " ^ 9" 
[10] " ^ 10"

S> dimnames(contr.poly(12))
[[1]]:
 [1] "1"  "2"  "3"  "4"  "5"  "6"  "7"  "8"  "9"  "10" "11" "12"

[[2]]:
 [1] "^1"  "^2"  "^3"  "^4"  "^5"  "^6"  "^7"  "^8"  "^9"  "^10" "^11"

---------------------------------------- and we have
R> dimnames(contr.poly(12))
[[1]]
NULL

[[2]]
 [1] ".L"  ".Q"  ".C"  "^4"  "^5"  "^6"  "^7"  "^8"  "^9"  "^10" "^11"

and the consistent behavior for n=11 (or any other n).


((( thus showing yet another (unnecessary?) incompatibility:
   
    we have "NULL"   where  S has "character(0)"
)))

    Jim> By the way, my suggestion sometime ago that contrasts should be
    Jim> printed out is only half implemented: they appear with print.glm
    Jim> but not with summary.glm.

hmm, they *were* in 0.62.2 (put in by me, upon your suggestion!)
the version which you missed unfortunately.

The reason is -- as Brian mentioned -- a change of the contrasts attribute
of lm(.) and glm(.) objects.
and I hadn't found the time to re-add some "global contrasts: ...."
line to print.summary.[g]lm(..).  
May still be a good idea; however, a related one is the following:

What I have been thinking about since,
is an idea to add 
 1) a 1-letter code column, with  
	 "D" or "c"  for "Discrete" (factor) or "continuuous"
    ("D" or "c": again thinking about ascii Graphics: the 2 letters should
    be  *visually* easily discernible.. they *are* for human eyes...
 2) Another Column which
	-- only for the "D" ones --
    has another  n-letter code indicating which contrasts were active;
    something like
	"Trt" "Sum" "Hlrt" "Poly" "###"
    (where "###" stands for ``other''/``self-defined''
     and contains the infinite other possibilities as indicated by BDR).

to each row of the coef matrix as produced by print.summary.[g]lm.

----
This still does not solve all the problems you mentioned in your example;
at the moment (where I haven't investigated more) I tend to agree with
your statement above ``So put it on all the time.''

    Jim> As to the significance stars, I obviously immediately shut them
    Jim> off on my site Rprofile, but that is on my portable. And they will
    Jim> be on our teaching server as well. My concern is rather with the
    Jim> image of R: is it to be modern, or 1950s statistics? Must I tell
    Jim> my students not to download R from the Web because it will do
    Jim> weird things (inconsistent labels on factor variables, strange
    Jim> stars appearing, ...) but only to use the copy I give them? So
    Jim> let's set the default option to FALSE.

I have the impression that you never got my point here..
It *is* the nineties, and the 'stars'  
are a ``GRAPHICAL'' encoding of P-values, not more, not less.

We have been using them in *real* data analysis (as opposed to teaching
exercises) for five or more years now.
If you fit many models with dozens of coefficients each,
the *graphical* clues *are* valuable, believe it or not.

[[I've learned before the nineties that ascii output
  can also be considered as some sort of graphics and that
  it matters how (and with which precision,...)
  you print numbers,  tables and such...

  Maybe the really old-fashioned thing is that we still use ASCII output
  quite a bit;  however, a lot of us realize that it has the big advantage
  that is *portable* and *archivable* ...
  are you sure that in 15 years you will be able to easily display/print
  the GIFs you create today?
]]

I see that there's a good reason not to have (doubtful) P values at all;
That's why vanilla S (as opposed to S-plus) never had P values in
print.summary.lm(.)
However, I think (pro statisticians and social scientists) will want them
often enough.

Back to the ``graphical P values''  
((I should never have accepted the name "significance stars"!)):

I've been thinking of new default,
neither TRUE nor FALSE, which would not draw them when either
	- there's only 1 or 2 coefficients
	- all P-values would be drawn as "***"
	- all P-values would be drawn as " "
		(which is already an empty drawing now, but
		 would also drop the corresponding ``legend'')

And -- in any case--
I don't think it would be so hard to tell your students to set a few
options(..) in their profile or before they start an analysis.

We will have more options in the future, and some will be good for
teaching, others will be preferable for data analysis,
others for ``number crunching'', etc.


    Jim> If anyone is interested in implementing profile likelihood
    Jim> intervals, there are far simpler and faster numerical methods than
    Jim> Brian's splines. Personally, I prefer plotting the whole profile
    Jim> curve. With glm, this is quick and easy for the linear parameters
    Jim> (but not the scale) using an offset. Most but not all of my
    Jim> library functions allow it to be done simply as well. But such
    Jim> curves do not provide the needed replacement printout instead of
    Jim> standard errors for non-normal models ...

To allow a different more sensible output with print.summary...(.)
in these cases could be another options() setting I think.
The default could then depend on ``n'' and ``p'' where for small models you
would want to afford the much extra computation and for large n*p you'd
rather have a quick output with  summary(.).

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From wsimpson@uwinnipeg.ca  Thu Sep  3 16:57:41 1998
From: wsimpson@uwinnipeg.ca (Bill Simpson)
Date: Thu, 3 Sep 1998 10:57:41 -0500 (CDT)
Subject: ppoints
Message-ID: <Pine.OSF.3.95.980903105649.11084A-100000@io.uwinnipeg.ca>

When I look at ppoints I see:

ppoints<-function (x) 
{
n <- length(x)
if (n == 1) 
	n <- x
(1:n - 0.5)/n
}

However Venables & Ripley (2nd ed, p 165) say ppoints() should return
(i-1/2)/n for n>=11; (i-3/8)/(n+1/4) for n<=10.

The version below should work as described:

ppoints<-function (x) 
{
n <- length(x)
if (n <= 10)
	(1:n - 0.375)/(n + 0.25) 
else
	(1:n - 0.5)/n
}

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Sep  3 17:29:06 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 3 Sep 1998 18:29:06 +0200
Subject: ppoints
In-Reply-To: <Pine.OSF.3.95.980903105649.11084A-100000@io.uwinnipeg.ca>
 (message from Bill Simpson on Thu, 3 Sep 1998 10:57:41 -0500 (CDT))
Message-ID: <199809031629.SAA13963@sophie.ethz.ch>

Thank you, Bill, for raising this point!

>>>>> "Bill" == Bill Simpson <wsimpson@uwinnipeg.ca> writes:

    Bill> When I look at ppoints I see:

    Bill> ppoints<-function (x) 
    Bill> {
    Bill> n <- length(x)
    Bill> if (n == 1) 
    Bill> n <- x
    Bill> (1:n - 0.5)/n
    Bill> }

    Bill> However Venables & Ripley (2nd ed, p 165) say ppoints() should return
    Bill> (i-1/2)/n for n>=11; (i-3/8)/(n+1/4) for n<=10.

    Bill> The version below should work as described:

    Bill> ppoints<-function (x) 
    Bill> {
    Bill> n <- length(x)
    Bill> if (n <= 10)
    Bill> (1:n - 0.375)/(n + 0.25) 
    Bill> else
    Bill> (1:n - 0.5)/n
    Bill> }

However, if changing ppoints(.) for compatibility
we should do it properly.

e.g., the case
	ppoints(10)

should give the same as

	ppoints(1:10).

Also,  S has the much nicer extra argument  'a'  with the default

	if(is.null(a))
		a <- if(n > 10) 0.5 else 0.375

which leads to the behavior you cite below.

Maybe the S authors would forgive us we just used S' version ppoints()?
(it's S, not S-plus!)

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Sep  3 18:09:18 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 03 Sep 1998 19:09:18 +0200
Subject: ppoints
In-Reply-To: Martin Maechler's message of Thu, 3 Sep 1998 18:29:06 +0200
References: <199809031629.SAA13963@sophie.ethz.ch>
Message-ID: <x23ea93yyp.fsf@blueberry.kubism.ku.dk>

Martin Maechler <maechler@stat.math.ethz.ch> writes:

> Also,  S has the much nicer extra argument  'a'  with the default
> 
> 	if(is.null(a))
> 		a <- if(n > 10) 0.5 else 0.375
> 
> which leads to the behavior you cite below.
> 
> Maybe the S authors would forgive us we just used S' version ppoints()?
> (it's S, not S-plus!)

It's one of those things that are difficult to write in more than one
way... 

Reminds me: Is there any good reason why qqnorm is not using ppoints?? 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Prof Brian Ripley <ripley@stats.ox.ac.uk>  Thu Sep  3 18:05:43 1998
From: Prof Brian Ripley <ripley@stats.ox.ac.uk> (Prof Brian Ripley)
Date: Thu, 3 Sep 1998 18:05:43 +0100 (BST)
Subject: ppoints
Message-ID: <199809031705.SAA06438@toucan.stats.ox.ac.uk>


> Date: Thu, 3 Sep 1998 18:29:06 +0200
> From: Martin Maechler <maechler@stat.math.ethz.ch>
> To: Bill Simpson <wsimpson@uwinnipeg.ca>
> CC: R-devel@stat.math.ethz.ch
> Subject: Re: ppoints
> 
> Thank you, Bill, for raising this point!
> 
> However, if changing ppoints(.) for compatibility
> we should do it properly.
> 
> e.g., the case
> 	ppoints(10)
> 
> should give the same as
> 
> 	ppoints(1:10).
> 
> Also,  S has the much nicer extra argument  'a'  with the default
> 
> 	if(is.null(a))
> 		a <- if(n > 10) 0.5 else 0.375
> 
> which leads to the behavior you cite below.
> 
> Maybe the S authors would forgive us we just used S' version ppoints()?
> (it's S, not S-plus!)

I just sent privately:

ppoints <- function (n, a = ifelse(n <= 10, 3/8, 1/2)) 
{
  if(length(n) > 1) n <- length(n)
  if(!n) return(numeric(0))
  (1:n - a)/(n + (1-a) - a)
}

which is I believe fully compatible with S (except for the mode of the
length-0 result) and not the same code as S as I wrote it by reading
S's help page.  (I know you can simplify the denominator, but I am
trying to explain the formula.)


Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From holzer@stat.math.ethz.ch  Thu Sep  3 18:26:44 1998
From: holzer@stat.math.ethz.ch (Peter Holzer)
Date: Thu, 3 Sep 1998 19:26:44 +0200
Subject: a nasty error
Message-ID: <199809031726.TAA00634@aryness.ethz.ch>

Dear R-developers

The basic function seq doesn't work properly:

> seq(1,6,by=3)
[1] 1 4 7

Looking at the source code of seq.default I found that strange fuzz thing
"+ 0.4". Taking that away the seq works fine.

My question is: Why has this fuzz thing been added?

If it was for some rounding problems I would suggest to replace "0.4" by
something much smaller.

Peter
____________________________________________________________

Peter Holzer                      phone: + 41 1 632 46 34
Seminar fuer Statistik, SOL F7    fax:   + 41 1 632 10 86
(Sonneggstr. 33)                  <holzer@stat.math.ethz.ch>
ETH (Federal Inst. Technology)
8092 Zurich                       http://www.stat.math.ethz.ch/~holzer/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossetti@stud.unipg.it  Fri Sep  4 10:19:51 1998
From: rossetti@stud.unipg.it (Andrea Rossetti)
Date: Fri, 4 Sep 1998 11:19:51 +0200
Subject: Some link errors on the R for Windows documentation
Message-ID: <000001bdd7e9$5d3d6b60$f8878fc2@g1x7f9>

Hi,
excuse me but I don't know if this is the correct mailing list for this
message (but I thing yes).
In the rjune.zip there are some wrong link on the HTML documentation
(package area) and isn't  linked splines documentation (but it is present on
the zip file).
I've corrected these errors and re-zipped all.
Can I upload my work? If yes, how must I do this?

Andrea Rossetti.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Fri Sep  4 14:26:29 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Fri, 4 Sep 1998 15:26:29 +0200
Subject: a nasty error  --> patch to seq.R
In-Reply-To: <199809031726.TAA00634@aryness.ethz.ch> (message from Peter
 Holzer on Thu, 3 Sep 1998 19:26:44 +0200)
Message-ID: <199809041326.PAA04572@sophie.ethz.ch>


>>>>> "Peter" == Peter Holzer <holzer@stat.math.ethz.ch> writes:

    Peter> ... The basic function seq doesn't work properly:

    >> seq(1,6,by=3)
    Peter> [1] 1 4 7

    Peter> Looking at the source code of seq.default I found that strange
    Peter> fuzz thing "+ 0.4". Taking that away the seq works fine.

    Peter> My question is: Why has this fuzz thing been added?

    Peter> If it was for some rounding problems I would suggest to replace
    Peter> "0.4" by something much smaller.

This bug was introduced between 0.62.1 and 0.62.2  --
with the aim to fix another one.

After some thinking and some experimentation, I conclude that there is no
easy architecture-independent ``fudge constant'' that can be used here
instead of 0.4.  One needs to use a subsequent test.

Here is a patch that seems "robust" (and passes my tests):

--- ../R-0.62.3/src/library/base/R/seq.R	Tue Jun 16 14:32:08 1998
+++ src/library/base/R/seq.R	Fri Sep  4 15:23:11 1998
@@ -16,9 +16,11 @@
 		if(missing(by))
 			from:to
 		else {
-			n <- (to - from)/by + 0.4 # fuzz needed
+			n <- (to - from)/by
 			if(n < 0)
 				stop("Wrong sign in by= argument")
+                        n <- as.integer(n + 1e-10)
+                        if(n*by + from > to) n <- n - 1
 			from + (0:n) * by
 		}
 	else if(length.out < 0)


---
Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Fri Sep  4 16:00:55 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Fri, 4 Sep 1998 17:00:55 +0200
Subject: a nasty error  --> patch to seq.R
In-Reply-To: <199809041326.PAA04572@sophie.ethz.ch> (message from Martin
 Maechler on Fri, 4 Sep 1998 15:26:29 +0200)
Message-ID: <199809041500.RAA04739@sophie.ethz.ch>

The patch I sent about 100 minutes ago is *NOT* the solution, yet!

-- to be followed...
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Sat Sep  5 18:22:49 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Sat, 5 Sep 1998 19:22:49 +0200
Subject: a nasty error  --> patch to seq.R  [nr. 2]
In-Reply-To: <199809041500.RAA04739@sophie.ethz.ch> (message from Martin
 Maechler on Fri, 4 Sep 1998 17:00:55 +0200)
Message-ID: <199809051722.TAA04839@sophie.ethz.ch>


>>>>> "Peter" == Peter Holzer <holzer@stat.math.ethz.ch> writes:

    Peter> ... The basic function seq doesn't work properly:

    >> seq(1,6,by=3)
    Peter> [1] 1 4 7

    Peter> Looking at the source code of seq.default I found that strange
    Peter> fuzz thing "+ 0.4". Taking that away the seq works fine.

    Peter> My question is: Why has this fuzz thing been added?

because, otherwise, in some cases the sequence will be one element too
short..

    Peter> If it was for some rounding problems I would suggest to replace
    Peter> "0.4" by something much smaller.

yes;  and depending on other things (see patch at end).

Actually, I had to sit down write up where which rounding errors can occur
in   
     n <- as.integer( (to - from) / by )

E.g., major cancellation happens when to & from are almost the same.

Additionally, I wrote a private function

seq.check <- function(from,to,by, print.diag = TRUE)
{
  ## Purpose: check seq(from, to, by = ...)
  ## -----------------------------------------------------
  ## Arguments: from < to;  by > 0   [see ?seq ]
  ## -----------------------------------------------------
  ## Author: Martin Mächler, Date:  5 Sep 98, 12:08

  if(from >= to) stop("seq.check(.) requires  from < to")
  if(by <= 0)    stop("seq.check(.) requires  by > 0")

  n <- length(ss <- seq(from,to, by=by))
  m <- ss[n]
  res <- m <= to && to < m+by ##-- iff TRUE:  all is fine.
  if(print.diag) {
    if(res)
      cat(".")
    else # m > to "last >"   or     m+by <= to  "missed last"
      cat("\nfrom=",   formatC(from,   dig=6,wid=-10),
          ", to-from=",formatC(to-from,dig=6,wid=-10),
          " --> n=",    formatC(n,      wid=-4),": ",
          if(m+by <= to)"missed last" else "last > to",
          "; r.err=",
          formatC(abs((if(m+by <= from) m+by else m)-to)/to,
                  wid= 8, dig=4),
          sep="")
  }
  res
}

which revealed that even the version below can `very rarely' end up 
one value too short.
However, in that case, you have

	from +   n * by      > to   ==> TRUE,
but
	from + (n-1)*by + by > to   ==> FALSE

[an example of the famous fact the the associative law of addition is
 *NOT* guaranteed in computer arithmetic!]

which *is* rare.

One could argue that in that case, it would be preferable that the sequence
had one value more, one very slightly > to.

But I think, we rather want to guarantee

    seq(from, to, by) <= to	    if by > 0
    seq(from, to, by) >= to	    if by < 0

--------
Here, the patch promised.
The new seq.default(.) will be part of tomorrow's (or Monday's)
R-devel.tar.gz  snapshot.
[Actually a snapshot that seems pretty stable..]

--- R-0.62.3/src/library/base/R/seq.R	Tue Jun 16 14:32:08 1998
+++ R-0.63.0/src/library/base/R/seq.R	Sat Sep  5 18:06:03 1998
@@ -16,9 +17,25 @@
 		if(missing(by))
 			from:to
 		else {
-			n <- (to - from)/by + 0.4 # fuzz needed
-			if(n < 0)
+			n <- (del <- to - from)/by
+			if(is.na(n)) {
+				if(by == 0 && del == 0)
+					return(from)
+				else stop("invalid (to - from)/by in seq(.)")
+			} else if(abs(n) > .Machine$integer.max)
+				stop("'by' argument is much too small")
+			else if(n < 0)
 				stop("Wrong sign in by= argument")
+
+			eps <- .Machine$double.eps *
+				max(1, max(abs(to),abs(from)) / abs(del))
+			n <- as.integer(n * (1 + eps))
+			if(eps*2*n >= 1)
+				warning(paste("seq.default(f,t,by): n=",n,
+					      ": possibly imprecise intervals"))
+			if(by>0) while(from+ n*by > to) n <- n - 1
+			else	 while(from+ n*by < to) n <- n - 1
+
 			from + (0:n) * by
 		}
 	else if(length.out < 0)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Sep  9 08:32:45 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 9 Sep 1998 09:32:45 +0200
Subject: R help Web page
In-Reply-To: <199809081429.PAA18743@hannan.statistics.bristol.ac.uk> (message
 from Guy Nason on Tue, 8 Sep 1998 15:29:17 +0100 (BST))
Message-ID: <199809090732.JAA10651@sophie.ethz.ch>

	[CC'ed to R-devel, since it should be of interest to more ..]

>>>>> "Guy" == Guy Nason <G.P.Nason@Bristol.ac.uk> writes:

    Guy> Dear Martin, Hope you are well. I am trying to start to get my
    Guy> [new] WaveThresh package working for R.

Great, thank you!

Can you make sure that your Examples (.EX in S syntax; \examples{..} in *.Rd)
are directly executable?
I.e.,
	1) no leading  ">"
	2) If you show output, precede it by "#"
	3) Use data() datasets or rnorm(.),..etc to construct data,
	   not just 'x','y' etc which may or may not exist.

    Guy> However, I cannot seem to
    Guy> access the R help files on the Web.

    Guy> The index page    http://stat.ethz.ch/R/manual  .....
    Guy> .. works fine. However,if I try to access help pages on the
    Guy> individual functions I get directed to
    Guy> http://stat.ethz.ch/library/base/html/library.dynam.html
    Guy> ...... (which fails) ....
    Guy> ......
    Guy> ...... [deleted]


Yes, this probably hasn't been working for quite a while now
(or maybe only since 0.62.3 ?)

In any case, I have corrected the problem, i.e., 
I actually made a new page accessible by

	http://stat.ethz.ch/R/

which provides access to
	
	1) R manual [help.start()] of currently released version
	2) Our mirror of CRAN
	3) R manual [help.start()] of current ALPHA NON-released version

Please let me know if you still find missing links!

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Wed Sep  9 15:46:54 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 9 Sep 1998 10:46:54 -0400
Subject: diag() losing dimnames
Message-ID: <98Sep9.105903edt.13451@mailgate.bank-banque-canada.ca>

Using diag() to extract the diagonal of a matrix loses all but the first dimname
(R 0.62.3). The problem seems to be in [ ]:
>
> x <- matrix(1:9,3,3)
> dimnames(x) <- list(c("a", "b", "c"), c("a", "b", "c"))
> x
  a b c
a 1 4 7
b 2 5 8
c 3 6 9
> diag(x)
 a NA NA
 1  5  9
> x[c(1,5,9)]
 a NA NA
 1  5  9
>

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jimrc@mathfs.math.montana.edu  Wed Sep  9 16:18:19 1998
From: jimrc@mathfs.math.montana.edu (Jim Robison-Cox)
Date: Wed, 9 Sep 1998 09:18:19 -0600 (MDT)
Subject: diag() losing dimnames
In-Reply-To: <98Sep9.105903edt.13451@mailgate.bank-banque-canada.ca>
Message-ID: <Pine.NEB.4.02.9809090907200.21955-100000@mathfs.math.montana.edu>

Paul,

   I see that S doesn't give any names to a diag() result:

S> x <- matrix(1:9,3,3)
S> dimnames(x) <- list(c("a", "b", "c"), c("a", "b", "c"))
S> diag(x)
[1] 1 5 9
S> names(diag(x))
NULL
S> names(x[c(1,5,9)])
NULL

Names are only well-defined if rows and cols have the same labels.  Does
it make sense to have an argument for diag to tell it where to find the
names?  I doubt it. Seems better to let the user name the result of diag()
in whatever way they need.  So it seems odd to me that diag(x) has any
names.  (It doesn't in R-0.62.2)  I haven't upgraded yet, so I have to
ask: What happens if col 1 and row 1 have different names?  Is the "a" in
Paul's example coming from the row or col name?

On Wed, 9 Sep 1998, Paul Gilbert wrote:
> Using diag() to extract the diagonal of a matrix loses all but the first dimname
> (R 0.62.3). The problem seems to be in [ ]:
> >
> > x <- matrix(1:9,3,3)
> > dimnames(x) <- list(c("a", "b", "c"), c("a", "b", "c"))
> > x
>   a b c
> a 1 4 7
> b 2 5 8
> c 3 6 9
> > diag(x)
>  a NA NA
>  1  5  9
> > x[c(1,5,9)]
>  a NA NA
>  1  5  9
> >
> 
> Paul Gilbert
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

Jim Robison-Cox                 ____________            
Department of Math Sciences    |            |           phone: (406)994-5340
2-214 Wilson Hall               \   BZN, MT |           FAX:   (406)994-1789
Montana State University         |  *_______|
Bozeman, MT 59717                 \_|         e-mail: jimrc@math.montana.edu 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Wed Sep  9 16:57:25 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 9 Sep 1998 11:57:25 -0400
Subject: diag() losing dimnames
References: <Pine.NEB.4.02.9809090907200.21955-100000@mathfs.math.montana.edu>
Message-ID: <98Sep9.120938edt.13442@mailgate.bank-banque-canada.ca>

>Names are only well-defined if rows and cols have the same labels.

It probably does not make sense for diag to keep dimnames, but either way, this
is wrong
> diag(x)
  a NA NA
  1   5    9

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Sep  9 17:00:13 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 9 Sep 1998 18:00:13 +0200
Subject: diag() losing dimnames
In-Reply-To: <Pine.NEB.4.02.9809090907200.21955-100000@mathfs.math.montana.edu>
 (message from Jim Robison-Cox on Wed, 9 Sep 1998 09:18:19 -0600 (MDT))
Message-ID: <199809091600.SAA12139@sophie.ethz.ch>

>>>>> "Jim" == Jim Robison-Cox <jimrc@mathfs.math.montana.edu> writes:

    Jim> Paul, I see that S doesn't give any names to a diag() result:

    S> x <- matrix(1:9,3,3) dimnames(x) <- list(c("a", "b", "c"), c("a",
    S> "b", "c")) diag(x)
    Jim> [1] 1 5 9
    S> names(diag(x))
    Jim> NULL
    S> names(x[c(1,5,9)])
    Jim> NULL

    Jim> Names are only well-defined if rows and cols have the same labels.
    Jim> Does it make sense to have an argument for diag to tell it where
    Jim> to find the names?  I doubt it. Seems better to let the user name
    Jim> the result of diag() in whatever way they need.  So it seems odd
    Jim> to me that diag(x) has any names.  (It doesn't in R-0.62.2) I
    Jim> haven't upgraded yet, so I have to ask: What happens if col 1 and
    Jim> row 1 have different names?  Is the "a" in Paul's example coming
    Jim> from the row or col name?

It's the row one :
    > m <- matrix(1:9,3,3); dimnames(m) <- list(letters[1:3], LETTERS[1:3]); m
      A B C
    a 1 4 7
    b 2 5 8
    c 3 6 9
    > diag(m)
     a NA NA 
     1  5  9 

However, of course the bug is that  R  *does* return names(.) at
all, since as Jim rightly says, this doesn't make sense.

The patch is
to replace the  'as.matrix' by 'c' in line 5 of diag.R:

--- ../R-0.62.3/src/library/base/R/diag.R	Fri Mar  6 08:37:13 1998
+++ diag.R	Wed Sep  9 17:58:11 1998
@@ -2,7 +2,7 @@
 function(x = 1, nrow, ncol = n)
 {
 	if(is.matrix(x) && nargs() == 1)
-		return(as.matrix(x)[1 + 0:(min(dim(x)) - 1) * (dim(x)[1] + 1)])
+		return(c(x)[1 + 0:(min(dim(x)) - 1) * (dim(x)[1] + 1)])
 	if(missing(x))
 		n <- nrow
 	else if(length(x) == 1 && missing(nrow) && missing(ncol)) {



    Jim> On Wed, 9 Sep 1998, Paul Gilbert wrote:
    >> Using diag() to extract the diagonal of a matrix loses all but the
    >> first dimname (R 0.62.3). The problem seems to be in [ ]: > > x <-
    >> matrix(1:9,3,3) > dimnames(x) <- list(c("a", "b", "c"), c("a", "b",
    >> "c")) > x a b c a 1 4 7 b 2 5 8 c 3 6 9 > diag(x) a NA NA 1 5 9 >
    >> x[c(1,5,9)] a NA NA 1 5 9 >
    >> 
    >> Paul Gilbert
    >> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Sep  9 17:35:34 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Sep 1998 18:35:34 +0200
Subject: diag() losing dimnames
In-Reply-To: Martin Maechler's message of Wed, 9 Sep 1998 18:00:13 +0200
References: <199809091600.SAA12139@sophie.ethz.ch>
Message-ID: <x2n289meg9.fsf@blueberry.kubism.ku.dk>

Martin Maechler <maechler@stat.math.ethz.ch> writes:

> --- ../R-0.62.3/src/library/base/R/diag.R	Fri Mar  6 08:37:13 1998
> +++ diag.R	Wed Sep  9 17:58:11 1998
> @@ -2,7 +2,7 @@
>  function(x = 1, nrow, ncol = n)
>  {
>  	if(is.matrix(x) && nargs() == 1)
> -		return(as.matrix(x)[1 + 0:(min(dim(x)) - 1) * (dim(x)[1] + 1)])
> +		return(c(x)[1 + 0:(min(dim(x)) - 1) * (dim(x)[1] + 1)])
>  	if(missing(x))
>  		n <- nrow
>  	else if(length(x) == 1 && missing(nrow) && missing(ncol)) {

That's only half a solution:
> m[1:4]
 1  2 NA NA 
 1  2  3  4 

Splus:

> m<-matrix(1:4,2)
> dimnames(m)<-list(1:2,NULL)
> m
  [,1] [,2] 
1    1    3
2    2    4
> m[1:4]
[1] 1 2 3 4

R
> m<-matrix(1:4,2)
> rownames(m)<-1:2
> m[1:4]
 1  2 NA NA 
 1  2  3  4 

I.e. it seems that it should be fixed in the "[" internals.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Tue Sep 15 08:44:15 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Tue, 15 Sep 1998 09:44:15 +0200
Subject: seq  --> Dealing with bugs in R, etc.
In-Reply-To: <199809150724.JAA04164@alpha.luc.ac.be> (message from Jim Lindsey
 on Tue, 15 Sep 1998 09:24:20 +0200 (MET DST))
Message-ID: <199809150744.JAA07002@sophie.ethz.ch>

>>>>> "Jim" == Jim Lindsey <jlindsey@alpha.luc.ac.be> writes

   in a private mail to me

    Jim> That bug in seq() really has shaken my faith in R. How
    Jim> many other known bugs are there that we on r-help are not informed
    Jim> of and which can falsify our statistical analyses??? It is
    Jim> imperative that patches for such things be made immediately
    Jim> available on r-help. Jim

I think the answer to this should be known/discussed more widely:

Jim, you are right: 
The patch to seq(.) should have made it to  R-help.
[[actually in the mean time, the issue was raised that my patch
  was much more than was needed for dealing with rounding errors
  in the  seq(.,., by= ) case
]].

Note that there *are* other known bugs, all(?) of which being 
of much more low-level (and ``deeper'') nature.
Things like 
	mode(NULL)  -> "list"
		[now (in 0.63 "unstable") corrected to  "NULL"].

For bug submitting & tracking, 
Peter Dalgaard has recently setup a web place  
	[and 0.63-unstable has function  bug.report()]
were bug can be reported ``discussed'', etc. : 
	http://R-bugs.biostat.ku.dk/R

It is also available from CRAN's main page

---
There are also plans to regularly post a list of these bugs to R-devel (not
R-help!). 

If we know of a bug that affects high-level functions in bad way,
we usually *do* post to R-help....

R-devel is also for people who develop considerable amount of own R
functions.   There are things on R-devel which are not of interest to all
of the subscribers, but I think CRAN contributors like you should be part!

Martin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Prof Brian Ripley <ripley@stats.ox.ac.uk>  Tue Sep 15 17:53:28 1998
From: Prof Brian Ripley <ripley@stats.ox.ac.uk> (Prof Brian Ripley)
Date: Tue, 15 Sep 1998 17:53:28 +0100 (BST)
Subject: seq  --> Dealing with bugs in R, etc.
Message-ID: <199809151653.RAA04654@toucan.stats.ox.ac.uk>


> Date: Tue, 15 Sep 1998 09:44:15 +0200
> From: Martin Maechler <maechler@stat.math.ethz.ch>
> To: jlindsey@alpha.luc.ac.be
> CC: R-devel@stat.math.ethz.ch
> Subject: Re: seq  --> Dealing with bugs in R, etc.
> 
> >>>>> "Jim" == Jim Lindsey <jlindsey@alpha.luc.ac.be> writes
> 
>    in a private mail to me
> 
>     Jim> That bug in seq() really has shaken my faith in R. How
>     Jim> many other known bugs are there that we on r-help are not informed
>     Jim> of and which can falsify our statistical analyses??? It is
>     Jim> imperative that patches for such things be made immediately
>     Jim> available on r-help. Jim
 
How does that `falsify a statistical analysis'? It just gives a vector
that is slightly too long. I cannot imagine this is the worst bug
in R right now.

> I think the answer to this should be known/discussed more widely:
> 
> Jim, you are right: 
> The patch to seq(.) should have made it to  R-help.
> [[actually in the mean time, the issue was raised that my patch
>   was much more than was needed for dealing with rounding errors
>   in the  seq(.,., by= ) case
> ]].
> 
> Note that there *are* other known bugs, all(?) of which being 
> of much more low-level (and ``deeper'') nature.

Not all: e.g. mahalanobis() gives incorrect results almost all the 
time in 0.62.3, and glm with offset is wrong often too (and both
those are in the R-bugs database).

And seq gave wrong answers in the previous releases too: 
seq(1.575, 5.125, by=0.05) was wrong. At least the simpler uses are
now correct. 

I do think R-bugs is the right place for bugs.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ben@eno.Princeton.EDU  Tue Sep 15 20:46:24 1998
From: ben@eno.Princeton.EDU (Ben Bolker)
Date: Tue, 15 Sep 1998 15:46:24 -0400 (EDT)
Subject: compiling 0.62.3 for SunOS 4.1.4 and Solaris 2.6
Message-ID: <Pine.SUN.3.95.980915154509.11196A-100000@paca>



  Just a quick report on compiling R 0.62.3 for SunOS 4.1.4 and Solaris
2.6 (both with gcc 2.7.2.something), in hopes that it'll be useful to
someone. 

  4.1.4

     - I followed Charles Berry's forward of Ross Ihaka's suggestion about
putting fake #defines for gamma and lgamma in src/include/Mathlib.h (this
works best on the second pass, after the graphics library (which also
contains a "gamma" function) has compiled). 

     - I got regex-0.12 from ftp://wuarchive.wustl.edu/systems/gnu/, made
it into libregex.a, hacked HAVE_REGCOMP in src/include/Platform.h, and
added /usr/local/lib/libregex.a to RLIBS in src/main/Makefile (there
didn't seem to be a way to get configure to recognize it automatically). 

     - got readline-2.2 and installed it.

  I have to say I have mixed feelings about readline and regex.  It
certainly makes sense to use these existing resources, but it does make R
harder to install "out of the box" on systems (like SunOS) that don't have
them by default ... (I know, if SunOS had a decent packaging system we
could put them into package dependencies -- oh well.) 

 2.6

  I don't know if it's just my system (which has been administered by
various moderately clueless people in the past), but I had a number of
troubles with gcc and Solaris's default include files.  Several times
important definitions were located in chunks of the include files that
didn't get included by default. 

   - I added "typedef int sigjmp_buf[_SIGJBLEN];" to src/include/Defn.h by
hand; had to make sure that the gcc version of math.h got included rather
than the default Solaris file; and ran the compilation of the stuff in
src/main with -D__EXTENSIONS__ added to CFLAGS in Makeconf.  I *think*
that adding -D__EXTENSIONS__, or alternately setting -D__STDC__=0, to the
CFLAGS line in Makeconf, might have fixed all of my problems at once. 


Benjamin Bolker          Dep't of Ecology and Evolutionary Biology,
ben@eno.princeton.edu    Princeton University
tel: (609) 258-6886,     fax: (609) 258-1334

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Sep 16 18:30:08 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Sep 1998 19:30:08 +0200
Subject: R-beta: A new version of R-0.62.3 for Win3.1/Win32s, Win95 and WinNT
In-Reply-To: Guido Masarotto's message of Wed, 16 Sep 1998 13:01:52 +0100
References: <19980916130152.A227@sirio.stat.unipd.it>
Message-ID: <x2zpc06k4f.fsf@blueberry.kubism.ku.dk>

Guido Masarotto <guido@sirio.stat.unipd.it> writes:

> (a) I rewrote the console using a portable toolkit (GraphApp, see
> http://www.cs.usyd.edu.au/~loki/graphapp). Now, output is buffered
> until some input is required. This means that it is faster 
> (for a good test, I learned it from Peter Daalgard,
                                            ^^^^^^^^
Ahem. Remind me to call you "Massaroto" some time... ;^)

> try `ls("package:base")' ).

*cough!* You can say that ("faster") again. Most impressive. I like
the key bindings too. 

BTW: Please remember to set Reply-to: on postings to R-announce, in
case they start a discussion.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From guido@sirio.stat.unipd.it  Wed Sep 16 19:36:40 1998
From: guido@sirio.stat.unipd.it (Guido Masarotto)
Date: Wed, 16 Sep 1998 19:36:40 +0100
Subject: R-beta: A new version of R-0.62.3 for Win3.1/Win32s, Win95 and WinNT
In-Reply-To: <x2zpc06k4f.fsf@blueberry.kubism.ku.dk>; from Peter Dalgaard BSA on Wed, Sep 16, 1998 at 07:30:08PM +0200
References: <19980916130152.A227@sirio.stat.unipd.it> <x2zpc06k4f.fsf@blueberry.kubism.ku.dk>
Message-ID: <19980916193640.A1541@sirio.stat.unipd.it>

On Wed, Sep 16, 1998 at 07:30:08PM +0200, Peter Dalgaard BSA wrote:
> Guido Masarotto <guido@sirio.stat.unipd.it> writes:
> 

> > (for a good test, I learned it from Peter Daalgard,
>                                             ^^^^^^^^
> Ahem. Remind me to call you "Massaroto" some time... ;^)
> 
Peter , I am really sorry.
guudo massaroto
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Sep 17 10:37:28 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 17 Sep 1998 11:37:28 +0200
Subject: wrong postings to R-announce...
In-Reply-To: <x2zpc06k4f.fsf@blueberry.kubism.ku.dk> (message from Peter
 Dalgaard BSA on 16 Sep 1998 19:30:08 +0200)
Message-ID: <199809170937.LAA18296@sophie.ethz.ch>

 >>>>> "PD" == Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:

  to Guido:
    PD> BTW: Please remember to set Reply-to: on postings to R-announce, in
    PD> case they start a discussion.

  to Niels Kokholm
    PD> And BTW, try not to send followups to r-announce....


Thank you Peter!

Since I'm still only using majordomo's own filters (no procmail before it),
I've at least tried to  *disable*  [i.e. bounce to the list-owner]
any message
	CC: R-announce

since I thought important announcements should never be made "CC:"...

------
Martin	{list manager of R-...@stat.math.ethz.ch}
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From absd00t@c1186.ae.ge.com  Thu Sep 17 14:55:31 1998
From: absd00t@c1186.ae.ge.com (U-E59264-Osman F Buyukisik)
Date: Thu, 17 Sep 1998 09:55:31 -0400 (EDT)
Subject: R-beta: (0+0i)^2
In-Reply-To: <199809171256.OAA18599@sophie.ethz.ch>
References: <199809162211.KAA27407@chance.otago.ac.nz>
 <199809171256.OAA18599@sophie.ethz.ch>
Message-ID: <13825.5161.410293.721272@c1186.ae.ge.com>

I am not a "c" programmer but this is very simple and seems to be
working (just a check for 0): in src/main/complex.c 
...
static void complex_pow(complex *r, complex *a, complex *b)
{
    double logr, logi, x, y, mag;
    if ((mag = hypot(a->r, a->i)) == 0.0) {
        r->r = r->i = 0.0;
    }
    else {
    logr = log(mag );
    logi = atan2(a->i, a->r);
    x = exp( logr * b->r - logi * b->i );
    y = logr * b->i + logi * b->r;
    r->r = x * cos(y);
    r->i = x * sin(y);
    }
}
....
Osman
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Fri Sep 18 15:36:16 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Fri, 18 Sep 1998 16:36:16 +0200
Subject: R-beta: (0+0i)^2
In-Reply-To: <13825.5161.410293.721272@c1186.ae.ge.com> (message from
 U-E59264-Osman F Buyukisik on Thu, 17 Sep 1998 09:55:31 -0400 (EDT))
Message-ID: <199809181436.QAA05165@sophie.ethz.ch>


>>>>> "Osman" == U-E59264-Osman F Buyukisik <absd00t@c1186.ae.ge.com> writes:

Osman> I am not a "c" programmer but this is very simple and seems to be
Osman> working (just a check for 0): in src/main/complex.c 
Osman> ...
Osman> static void complex_pow(complex *r, complex *a, complex *b)
Osman> {
Osman>     double logr, logi, x, y, mag;
Osman>     if ((mag = hypot(a->r, a->i)) == 0.0) {
Osman>         r->r = r->i = 0.0;
Osman>     }
Osman>     else {
Osman>     logr = log(mag );
Osman>     logi = atan2(a->i, a->r);
Osman>     x = exp( logr * b->r - logi * b->i );
Osman>     y = logr * b->i + logi * b->r;
Osman>     r->r = x * cos(y);
Osman>     r->i = x * sin(y);
Osman>     }
Osman> }

It's not *that* simple:  
We want
	0^ 0   => 1	(since we have that for reals)
	0^ -1  => Inf	(a^-1 = 1/a)
	0^ 1i  => NaN

I've committed a longer patch for 0.63,
which also leads to   1i^(-5:5)  be 100% accurate
but the following fixes the bug (and more):

--- complex.c~	Mon Aug 31 10:32:29 1998
+++ complex.c	Fri Sep 18 16:31:19 1998
@@ -91,6 +91,10 @@
 {
     double logr, logi, x, y;
 
+    if(b->i == 0.) {/* be fast (and more accurate)*/
+	if(b->r == 1.) { /* a^1 */ r->r = a->r; r->i = a->i; return;}
+	if(a->i == 0.) { r->r = pow(a->r, b->r); r->i = 0.; return;}
+    }
     logr = log(hypot(a->r, a->i) );
     logi = atan2(a->i, a->r);
 

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Mon Sep 21 22:36:20 1998
From: thomas@biostat.washington.edu (Thomas Lumley)
Date: Mon, 21 Sep 1998 14:36:20 -0700 (PDT)
Subject: --save and memory
In-Reply-To: <x2hfy6u8s8.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.4.03.9809211430550.10056-100000@gorn.biostat.washington.edu>


If the memory size is too small for the saved workspace to be loaded, and
--save is specified in a batch file then the previous workspace is lost.
It seems to me that having insufficient memory to load the saved workspace
should be a fatal error at least if --save is specified.

What do other people think (preferably people that think saved workspaces
are potentially useful)?

Currently a work-around is to add this to the batch file 
	if (!exists(".Random.seed")) q("no")



Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From plummer@iarc.fr  Tue Sep 22 09:07:28 1998
From: plummer@iarc.fr (Martyn Plummer)
Date: Tue, 22 Sep 1998 10:07:28 +0200
Subject: --save and memory
Message-ID: <36075AC0.BE2898BE@iarc.fr>

I agree, and I sent a message to R-bugs to this effect
(currently filed under "startup"), although I was thinking
in terms of interactive use. Making this a fatal error
seems the best choice to me.

Martyn

Thomas Lumley wrote:
> 
> If the memory size is too small for the saved workspace to be loaded, and
> --save is specified in a batch file then the previous workspace is lost.
> It seems to me that having insufficient memory to load the saved workspace
> should be a fatal error at least if --save is specified.
> 
> What do other people think (preferably people that think saved workspaces
> are potentially useful)?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Sep 22 12:28:32 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Sep 1998 13:28:32 +0200
Subject: --save and memory
In-Reply-To: Martyn Plummer's message of Tue, 22 Sep 1998 10:07:28 +0200
References: <36075AC0.BE2898BE@iarc.fr>
Message-ID: <x2g1dk5qu7.fsf@blueberry.kubism.ku.dk>

Martyn Plummer <plummer@iarc.fr> writes:

> I agree, and I sent a message to R-bugs to this effect
> (currently filed under "startup"), although I was thinking
> in terms of interactive use. Making this a fatal error
> seems the best choice to me.

Agreed. As far as I can see, the obvious would be to add an else clause in
main.c, like this:

    if (!doneit) {
        doneit = 1;
        R_InitialData();
    }
    else
        R_Suicide("unable to restore saved data\n (remove .RData or increase mem
ory)\n");

...but that gives the following curious effect.
Interactively, you get the expected, but...

[pd@blueberry R]$ bin/R --save < /dev/null

R : Copyright 1998, The R Development Core Team
Version 0.63.0 Unstable (September 22, 1998)

....

[Previously saved workspace restored]

Error: vector heap is too small to restore data
Execution halted

The strange thing is that it actually does *not* modify .RData, so in
a sense the fix is OK, but why does it give the success message before
bailing out???

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Sep 22 12:51:25 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Sep 1998 13:51:25 +0200
Subject: --save and memory
In-Reply-To: Peter Dalgaard BSA's message of 22 Sep 1998 13:28:32 +0200
References: <36075AC0.BE2898BE@iarc.fr> <x2g1dk5qu7.fsf@blueberry.kubism.ku.dk>
Message-ID: <x2emt45ps2.fsf@blueberry.kubism.ku.dk>

Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:

> [Previously saved workspace restored]
> 
> Error: vector heap is too small to restore data
> Execution halted
> 
> The strange thing is that it actually does *not* modify .RData, so in
> a sense the fix is OK, but why does it give the success message before
> bailing out???

On closer inspection... 

(a) R 0.63 *always* exits without saving in case of error, so there
was nothing to fix in the first place!

(b) the "[Previously saved...]" bit got printed before R even tried to
load anything. Just a matter of reshuffling lines in system.c.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Sep 22 15:13:09 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Sep 1998 16:13:09 +0200
Subject: Histograms: default breaks
Message-ID: <x27lyw5j7u.fsf@blueberry.kubism.ku.dk>


hist() uses pretty() to set its default breaks. For integer data, this
isn't really desirable, although it is Splus compatible, because all
the values fall at one end of each bar. Wouldn't it be better with

breaks <- pretty(x)
adj <- diff(breaks[1:2])/2
breaks <- pretty(x+adj) - adj

 - or something like that? There's a slightly sticky issue involving
the possibility that pretty(x+adj) will have a different interval than
pretty(x), though.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Sep 22 16:00:57 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 22 Sep 1998 11:00:57 -0400
Subject: "Segmentation Fault - core dumped" in R 0.62.3
Message-ID: <98Sep22.112745edt.13470@mailgate.bank-banque-canada.ca>

I am occasional getting "Segmentation Fault - core dumped" in R 0.62.3 (I think
more often then I did in 0.62.2). I have not been able to do this in any
reliably reproducible way yet, but thought I would mention the problem in case
some else can isolate it.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Sep 22 17:20:51 1998
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Sep 1998 18:20:51 +0200
Subject: "Segmentation Fault - core dumped" in R 0.62.3
In-Reply-To: Paul Gilbert's message of Tue, 22 Sep 1998 11:00:57 -0400
References: <98Sep22.112745edt.13470@mailgate.bank-banque-canada.ca>
Message-ID: <x23e9k5db0.fsf@blueberry.kubism.ku.dk>

Paul Gilbert <pgilbert@bank-banque-canada.ca> writes:

> I am occasional getting "Segmentation Fault - core dumped" in R 0.62.3 (I think
> more often then I did in 0.62.2). I have not been able to do this in any
> reliably reproducible way yet, but thought I would mention the problem in case
> some else can isolate it.

Hmm. Two rather nasty PROTECT bugs got fixed for 0.63 lately, but it
isn't all that easy to backport the fixes to 0.62.3 at this point
(several things have changed in 0.63)

Also, with our current garbage collector, the system appears to
playing Russian roulette if GC happens during parsing. Ross is
planning to install a better one for 0.64. This is more than tricky to
fix with the current memory scheme (it requires major surgery on
gram.y) so probably noone will try till then.

In general, this kind of crash is nearly always caused by a garbage
collection at *exactly* the wrong moment, so one generally needs exact
data to reproduce the crash, in order to pinpoint the trouble spot.

If you want to try the 0.63 fixes, a set of diffs follow. Note that
they are between two development versions, so they shouldn't be
expected to be directly applicable to 0.62.3.

[pd@blueberry R]$ cvs diff -c -r 1.23 -r 1.24 src/main/eval.c
Index: src/main/eval.c
===================================================================
RCS file: /users/rdev/R/CVS-ARCHIVE/R/src/main/eval.c,v
retrieving revision 1.23
retrieving revision 1.24
diff -c -r1.23 -r1.24
*** /tmp/T0a005IJ       Wed Sep 23 04:03:07 1998
--- /tmp/T1a005IJ       Wed Sep 23 04:03:07 1998
***************
*** 727,733 ****
  
  SEXP do_set(SEXP call, SEXP op, SEXP args, SEXP rho)
  {
!     SEXP s;
      if (length(args) != 2)
        WrongArgCount(asym[PRIMVAL(op)]);
      if (isString(CAR(args)))
--- 727,733 ----
  
  SEXP do_set(SEXP call, SEXP op, SEXP args, SEXP rho)
  {
!     SEXP s, t;
      if (length(args) != 2)
        WrongArgCount(asym[PRIMVAL(op)]);
      if (isString(CAR(args)))
***************
*** 738,744 ****
        if (isSymbol(CAR(args))) {
            s = eval(CADR(args), rho);
            if (NAMED(s))
!               s = duplicate(s);
            PROTECT(s);
            R_Visible = 0;
            defineVar(CAR(args), s, rho);
--- 738,749 ----
        if (isSymbol(CAR(args))) {
            s = eval(CADR(args), rho);
            if (NAMED(s))
!           {
!               PROTECT(s);
!               t = duplicate(s);
!               UNPROTECT(1);
!               s = t;
!           }
            PROTECT(s);
            R_Visible = 0;
            defineVar(CAR(args), s, rho);
[pd@blueberry R]$ cvs diff -c -r 1.23 -r 1.24 src/main/par.c
Index: src/main/par.c
===================================================================
RCS file: /users/rdev/R/CVS-ARCHIVE/R/src/main/par.c,v
retrieving revision 1.23
retrieving revision 1.24
diff -c -r1.23 -r1.24
*** /tmp/T0a005Ia       Wed Sep 23 04:04:05 1998
--- /tmp/T1a005Ia       Wed Sep 23 04:04:05 1998
***************
*** 1114,1121 ****
        INTEGER(value)[0] = dd->dp.ask;
      }
      else if (streql(what, "bg")) {
!       value = allocVector(STRSXP, 1);
        STRING(value)[0] = mkChar(col2name(dd->dp.bg));
      }
      else if (streql(what, "bty")) {
        char buf[2];
--- 1114,1122 ----
        INTEGER(value)[0] = dd->dp.ask;
      }
      else if (streql(what, "bg")) {
!       PROTECT(value = allocVector(STRSXP, 1));
        STRING(value)[0] = mkChar(col2name(dd->dp.bg));
+       UNPROTECT(1);
      }
      else if (streql(what, "bty")) {
        char buf[2];
***************
*** 1151,1174 ****
        REAL(value)[1] = dd->dp.cra[1]*dd->dp.ipr[1];
      }
      else if (streql(what, "col")) {
!       value = allocVector(STRSXP, 1);
        STRING(value)[0] = mkChar(col2name(dd->dp.col));
      }
      else if (streql(what, "col.main")) {
!       value = allocVector(STRSXP, 1);
        STRING(value)[0] = mkChar(col2name(dd->dp.colmain));
      }
      else if (streql(what, "col.lab")) {
!       value = allocVector(STRSXP, 1);
        STRING(value)[0] = mkChar(col2name(dd->dp.collab));
      }
      else if (streql(what, "col.sub")) {
!       value = allocVector(STRSXP, 1);
        STRING(value)[0] = mkChar(col2name(dd->dp.colsub));
      }
      else if (streql(what, "col.axis")) {
!       value = allocVector(STRSXP, 1);
        STRING(value)[0] = mkChar(col2name(dd->dp.colaxis));
      }
      else if (streql(what, "cra")) {
        value = allocVector(REALSXP, 2);
--- 1152,1180 ----
        REAL(value)[1] = dd->dp.cra[1]*dd->dp.ipr[1];
      }
      else if (streql(what, "col")) {
!       PROTECT(value = allocVector(STRSXP, 1));
        STRING(value)[0] = mkChar(col2name(dd->dp.col));
+       UNPROTECT(1);
      }
      else if (streql(what, "col.main")) {
!       PROTECT(value = allocVector(STRSXP, 1));
        STRING(value)[0] = mkChar(col2name(dd->dp.colmain));
+       UNPROTECT(1);
      }
      else if (streql(what, "col.lab")) {
!       PROTECT(value = allocVector(STRSXP, 1));
        STRING(value)[0] = mkChar(col2name(dd->dp.collab));
+       UNPROTECT(1);
      }
      else if (streql(what, "col.sub")) {
!       PROTECT(value = allocVector(STRSXP, 1));
        STRING(value)[0] = mkChar(col2name(dd->dp.colsub));
+       UNPROTECT(1);
      }
      else if (streql(what, "col.axis")) {
!       PROTECT(value = allocVector(STRSXP, 1));
        STRING(value)[0] = mkChar(col2name(dd->dp.colaxis));
+       UNPROTECT(1);
      }
      else if (streql(what, "cra")) {
        value = allocVector(REALSXP, 2);
***************
*** 1193,1200 ****
        INTEGER(value)[0] = dd->dp.err;
      }
      else if (streql(what, "fg")) {
!       value = allocVector(STRSXP, 1);
        STRING(value)[0] = mkChar(col2name(dd->dp.fg));
      }
      else if (streql(what, "fig")) {
        value = allocVector(REALSXP, 4);
--- 1199,1207 ----
        INTEGER(value)[0] = dd->dp.err;
      }
      else if (streql(what, "fg")) {
!       PROTECT(value = allocVector(STRSXP, 1));
        STRING(value)[0] = mkChar(col2name(dd->dp.fg));
+       UNPROTECT(1);
      }
      else if (streql(what, "fig")) {
        value = allocVector(REALSXP, 4);



-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Wed Sep 23 15:41:33 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 23 Sep 1998 10:41:33 -0400
Subject: "Segmentation Fault - core dumped" in R 0.62.3
References: <98Sep22.112745edt.13470@mailgate.bank-banque-canada.ca> <x23e9k5db0.fsf@blueberry.kubism.ku.dk>
Message-ID: <98Sep23.110119edt.13451@mailgate.bank-banque-canada.ca>

>Hmm. Two rather nasty PROTECT bugs got fixed for 0.63 lately, but it
>isn't all that easy to backport the fixes to 0.62.3 at this point

The problem has not been so bad that it's worth trying to track down in 0.62.3.
I was more concerned that it be fixed for future releases, so hopefully that's
been done already.

Paul

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Fri Sep 25 16:21:22 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Fri, 25 Sep 1998 17:21:22 +0200
Subject: format(numericmatrix, ...) : proposal for a change
Message-ID: <199809251521.RAA16286@sophie.ethz.ch>

Since format, i.e.,  format.default(.), is a pretty basic function I
thought I'd ask  before just changing it...

	aa <- cbind(1:7, rnorm(7))
	format(aa)
or
	format(aa, digits=7)

looks like

      [,1]         [,2]        
 [1,] " 1.0000000" " 0.2406669"
 [2,] " 2.0000000" "-0.4973221"
 [3,] " 3.0000000" " 0.4672260"
 [4,] " 4.0000000" " 0.4794697"
 [5,] " 5.0000000" "-1.0234062"
 [6,] " 6.0000000" "-0.3430790"
 [7,] " 7.0000000" "-0.1847634"

which is pretty ugly.

What I'd rather want is that each column be formatted independently, i.e.,
(almost) the result I'd currently get from

	apply(aa, 2, format, digits=7)

---
S gives something like

S> format(aa, digits=7)
               [,1]           [,2] 
[1,] " 1          " " 0.07364329 "
[2,] " 2          " "-0.7101905  "
[3,] " 3          " " 0.005834993"
[4,] " 4          " " 0.3425964  "
[5,] " 5          " " 0.8825893  "
[6,] " 6          " " 0.9540261  "
[7,] " 7          " "-0.4660654  "

(which is different from the above apply(...) by using strings which all
 have the identical number of characters).

Proposal: I'd like to have format(<numeric matrix>, ...) change to do
	COLUMNWISE formatting, either the way as apply(..) above, or
	returning strings of identical length (somewhat like S above).

Note  I don't intend to copy S-plus'  ``full mess'' of doing it :
In S-plus  
	format(aa)
and	format(aa, digits = .Options$digits)
are very different even though .Options$digits *IS* the default for
digits...

Also, we have formatC(.) which very useful for quite a few problems...

---------------

What do we ( you !) want ?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Fri Sep 25 16:30:47 1998
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich Leisch)
Date: Fri, 25 Sep 1998 17:30:47 +0200 (CEST)
Subject: format(numericmatrix, ...) : proposal for a change
In-Reply-To: <199809251521.RAA16286@sophie.ethz.ch>
References: <199809251521.RAA16286@sophie.ethz.ch>
Message-ID: <13835.46887.262990.724831@galadriel.ci.tuwien.ac.at>


Columnwise formatting would be fine with me ... could you just leave
the current behavior as option? In many cases matrix-wide formatting
is useful!


.f


>>>>> On Fri, 25 Sep 1998 17:21:22 +0200,
>>>>> Martin Maechler (MM) wrote:

MM> Since format, i.e.,  format.default(.), is a pretty basic function I
MM> thought I'd ask  before just changing it...

MM> 	aa <- cbind(1:7, rnorm(7))
MM> 	format(aa)
MM> or
MM> 	format(aa, digits=7)

MM> looks like

MM>       [,1]         [,2]        
MM>  [1,] " 1.0000000" " 0.2406669"
MM>  [2,] " 2.0000000" "-0.4973221"
MM>  [3,] " 3.0000000" " 0.4672260"
MM>  [4,] " 4.0000000" " 0.4794697"
MM>  [5,] " 5.0000000" "-1.0234062"
MM>  [6,] " 6.0000000" "-0.3430790"
MM>  [7,] " 7.0000000" "-0.1847634"

MM> which is pretty ugly.

MM> What I'd rather want is that each column be formatted independently, i.e.,
MM> (almost) the result I'd currently get from

MM> 	apply(aa, 2, format, digits=7)

MM> ---
MM> S gives something like

S> format(aa, digits=7)
MM>                [,1]           [,2] 
MM> [1,] " 1          " " 0.07364329 "
MM> [2,] " 2          " "-0.7101905  "
MM> [3,] " 3          " " 0.005834993"
MM> [4,] " 4          " " 0.3425964  "
MM> [5,] " 5          " " 0.8825893  "
MM> [6,] " 6          " " 0.9540261  "
MM> [7,] " 7          " "-0.4660654  "

MM> (which is different from the above apply(...) by using strings which all
MM>  have the identical number of characters).

MM> Proposal: I'd like to have format(<numeric matrix>, ...) change to do
MM> 	COLUMNWISE formatting, either the way as apply(..) above, or
MM> 	returning strings of identical length (somewhat like S above).

MM> Note  I don't intend to copy S-plus'  ``full mess'' of doing it :
MM> In S-plus  
MM> 	format(aa)
MM> and	format(aa, digits = .Options$digits)
MM> are very different even though .Options$digits *IS* the default for
MM> digits...

MM> Also, we have formatC(.) which very useful for quite a few problems...

MM> ---------------

MM> What do we ( you !) want ?

MM> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
MM> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
MM> Send "info", "help", or "[un]subscribe"
MM> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
MM> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Sep 25 17:51:06 1998
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 25 Sep 1998 17:51:06 +0100 (BST)
Subject: format(numericmatrix, ...) : proposal for a change
In-Reply-To: <13835.46887.262990.724831@galadriel.ci.tuwien.ac.at>
Message-ID: <Pine.GSO.3.96.980925173322.16892A-100000@toucan.stats>

On Fri, 25 Sep 1998, Friedrich Leisch wrote:

> 
> Columnwise formatting would be fine with me ... could you just leave
> the current behavior as option? In many cases matrix-wide formatting
> is useful!
> 

There are at least three different versions of format.default in different
versions of S-PLUS, so some of us have learnt to do this very
defensively. 


Columnwise formatting would be OK, but I don't think padding with spaces
rather than zeroes is acceptable. To be fair to S-PLUS, there are options
to change that, and if you are going to change this you might like to look
at adding nsmall and justify.

nsmall:   the minimum number of digits to appear to the right  of
       the decimal.
justify:    character string  giving  the  justification  of  the
       numbers  relative  to each other.  The choices are "none",
       "left", "right" and  "decimal".   Only  the  first  letter
       needs to be given.

At least as defined, format.default does not know about columns, and your
example is misleading: (in S)

> aa <- rbind(1:7, rnorm(7))
> format(aa, digits=7)
             [,1]         [,2]         [,3]         [,4]         [,5] 
[1,] " 1        " " 2        " " 3        " " 4        " " 5        "
[2,] "-0.6755785" "-0.5184718" "-0.665482 " " 2.07566  " " 0.4811527"

             [,6]         [,7] 
[1,] " 6        " " 7        "
[2,] "-0.708872 " "-0.4482897"

What do you actually want that to do? I think there is a strong case for
leaving format.default alone, and writing format.matrix and/or
format.data.frame.

Note that the digits= argument is documented differently in R and in S.


> 
> .f
> 
> 
> >>>>> On Fri, 25 Sep 1998 17:21:22 +0200,
> >>>>> Martin Maechler (MM) wrote:
> 
> MM> Since format, i.e.,  format.default(.), is a pretty basic function I
> MM> thought I'd ask  before just changing it...
> 
> MM> 	aa <- cbind(1:7, rnorm(7))
> MM> 	format(aa)
> MM> or
> MM> 	format(aa, digits=7)
> 
> MM> looks like
> 
> MM>       [,1]         [,2]        
> MM>  [1,] " 1.0000000" " 0.2406669"
> MM>  [2,] " 2.0000000" "-0.4973221"
> MM>  [3,] " 3.0000000" " 0.4672260"
> MM>  [4,] " 4.0000000" " 0.4794697"
> MM>  [5,] " 5.0000000" "-1.0234062"
> MM>  [6,] " 6.0000000" "-0.3430790"
> MM>  [7,] " 7.0000000" "-0.1847634"
> 
> MM> which is pretty ugly.
> 
> MM> What I'd rather want is that each column be formatted independently, i.e.,
> MM> (almost) the result I'd currently get from
> 
> MM> 	apply(aa, 2, format, digits=7)
> 
> MM> ---
> MM> S gives something like
> 
> S> format(aa, digits=7)
> MM>                [,1]           [,2] 
> MM> [1,] " 1          " " 0.07364329 "
> MM> [2,] " 2          " "-0.7101905  "
> MM> [3,] " 3          " " 0.005834993"
> MM> [4,] " 4          " " 0.3425964  "
> MM> [5,] " 5          " " 0.8825893  "
> MM> [6,] " 6          " " 0.9540261  "
> MM> [7,] " 7          " "-0.4660654  "
> 
> MM> (which is different from the above apply(...) by using strings which all
> MM>  have the identical number of characters).
> 
> MM> Proposal: I'd like to have format(<numeric matrix>, ...) change to do
> MM> 	COLUMNWISE formatting, either the way as apply(..) above, or
> MM> 	returning strings of identical length (somewhat like S above).
> 
> MM> Note  I don't intend to copy S-plus'  ``full mess'' of doing it :
> MM> In S-plus  
> MM> 	format(aa)
> MM> and	format(aa, digits = .Options$digits)
> MM> are very different even though .Options$digits *IS* the default for
> MM> digits...
> 
> MM> Also, we have formatC(.) which very useful for quite a few problems...
> 
> MM> ---------------
> 
> MM> What do we ( you !) want ?
> 
> MM> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> MM> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> MM> Send "info", "help", or "[un]subscribe"
> MM> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> MM> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Fri Sep 25 19:17:30 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Fri, 25 Sep 1998 14:17:30 -0400
Subject: legend
Message-ID: <98Sep25.141942edt.13483@mailgate.bank-banque-canada.ca>

I've been having some trouble with legend not printing line types and I see
there is some difference with Splus. In Splus the only required arguments are
x,y, and legend.

Also, I always thought required arguments had to proceed optional argument. What
should happen here if I omit fill and col but specify lty=something?

   legend
   function (x, y, legend, fill, col = "black", lty, lwd, pch, bty = "o",
     bg = par("bg"), cex = 1, xjust = 0, yjust = 1, x.intersp = NULL,
     y.intersp = NULL, text.width = NULL, merge = FALSE)
   {...

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ben@eno.Princeton.EDU  Mon Sep 28 13:35:04 1998
From: ben@eno.Princeton.EDU (Ben Bolker)
Date: Mon, 28 Sep 1998 08:35:04 -0400 (EDT)
Subject: adding math(s) symbols to src/main/plotmath.c
Message-ID: <Pine.SUN.3.95.980928083325.3665A-100000@paca>


  I decided I wanted an "infinity" in some label text.
  Many of these symbols should probably be incorporated in a different
way, but they don't seem to do any harm as is.

*** plotmath.c.orig	Fri Sep 25 17:21:33 1998
--- plotmath.c	Fri Sep 25 17:46:57 1998
***************
*** 183,188 ****
--- 183,232 ----
  	"psi", 121,
  	"zeta", 122,
  
+ 	"therefore", 93,
+ 	"perp", 95,
+ 
+     "lteq", 163,
+ 	"infinity", 165,
+ 	"clubsuit", 167,
+ 	"diamondsuit", 168,
+ 	"heartsuit", 169,
+ 	"spadesuit", 170,
+ 	"biarrow", 171,
+ 	"leftarrow", 172,
+     "uparrow", 173,
+ 	"rightarrow", 174,
+ 	"downarrow", 175,
+ 	"degree", 176,
+ 	"plusminus", 177,
+ 	"gteq", 179,
+ 	"times", 180,
+ 	"propto", 181,
+ 	"partial", 182,
+ 	"bullet", 183,
+ 	"divide", 184,
+ 	"notequal", 185,
+ 	"equiv", 186,
+ 	"approx", 187,
+ 	"ellipsis", 188,
+ 	"aleph", 192,
+ 	"Imaginary", 193,
+ 	"Real", 194,
+ 	"nullset", 198,
+ 	"intersect", 199,
+ 	"union", 200,
+ 	"element", 206,
+ 	"notelement", 207,
+ 	"del", 209,
+ 	"product", 213,
+ 	"surd", 214,
+ 	"dblbiarrow", 219,
+ 	"dblleftarrow", 220,
+     "dbluparrow", 221,
+ 	"dblrightarrow", 222,
+ 	"dbldownarrow", 223,
+     "integral", 252,
+ 	
  	NULL, 0,
  };
  


Benjamin Bolker          Dep't of Ecology and Evolutionary Biology,
ben@eno.princeton.edu    Princeton University
tel: (609) 258-6886,     fax: (609) 258-1334

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Mon Sep 28 13:34:58 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Mon, 28 Sep 1998 14:34:58 +0200
Subject: 0.62.3 & pre0.63: different kinds of NULL objects..
Message-ID: <199809281234.OAA07721@sophie.ethz.ch>

Oh dear, this *is* quite a penible mess :

> N2 _ lapply(NULL, sum)
> N2
NULL
> is.null(N2)
[1] TRUE
> is.list(NULL)
[1] FALSE
> is.list(N2)
[1] TRUE

---- i.e.,  N2  is ``almost'' like NULL but not quite !

---- I found the bug in a version of the following:

> array(1:6, dim=3:1, dimnames=NULL)
, , 1

     [,1] [,2]
[1,]    1    4
[2,]    2    5
[3,]    3    6

> array(1:6, dim=3:1, dimnames=N2)
Error: length of dimnames must match that of dims

---------------
Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum SOL G1;	Sonneggstr.33
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1086			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Mon Sep 28 19:58:04 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Mon, 28 Sep 1998 14:58:04 -0400
Subject: legend
Message-ID: <98Sep28.150150edt.13465@mailgate.bank-banque-canada.ca>

I am having some trouble with legend not printing line types and a box, under
circumstances I haven't yet been able to isolate. It's as if it is getting some
wrong part of the environment, or wrong par settings. Would someone please warn
me if this is being worked on, or is a known problem, so I don't spend time
working on something that is already fixed.

I also noticed that legend and matplot do not have the same defaults for lty and
col, and I think they should.

Final, could someone tell me what

Error: No function to return from, jumping to top level

in browser means (and how to make the sort of thing that generates this message
work in browser).

Thanks

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Mon Sep 28 20:30:03 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Mon, 28 Sep 1998 15:30:03 -0400
Subject: "tsp<-"
Message-ID: <98Sep28.153343edt.13470@mailgate.bank-banque-canada.ca>

If value is NULL I think tsp assignment should not return a class ts object.
Below is a fixed version.

Paul Gilbert
____

"tsp<-" <-function(x, value)
{if (is.null(value))
   {attr(x, "tsp") <- value
    if(inherits(x,"ts")) class(x) <- NULL
    return(x)
   }
 attr(x, "tsp") <-  value
 class(x) <- "ts"
 x
}



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Sep 30 09:53:14 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 30 Sep 1998 10:53:14 +0200
Subject: Blocking the itmex.com spam..
In-Reply-To: <6rzpbi3ek4.fsf@verdi.stat.wisc.edu> (message from Douglas Bates
 on 29 Sep 1998 14:27:07 -0500)
Message-ID: <199809300853.KAA27412@sophie.ethz.ch>

>>>>> "DougB" == Douglas Bates <bates@stat.wisc.edu> writes:

    DougB> Martin, Can you put a block on messages originating from
    DougB> itcmex.com to any of the R e-mail lists?  I'm getting tired of
    DougB> hearing about their Y2K solutions.  -- Doug

Done.

Sorry for the inconvenience...  they came through on *many* mailing lists..
Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Sep 30 15:40:06 1998
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 30 Sep 1998 16:40:06 +0200
Subject: "tsp<-"
In-Reply-To: <98Sep28.153343edt.13470@mailgate.bank-banque-canada.ca> (message
 from Paul Gilbert on Mon, 28 Sep 1998 15:30:03 -0400)
Message-ID: <199809301440.QAA04028@florence.ethz.ch>

Thank you, Paul, for reporting this problem:

>>>>> "PaulG" == Paul Gilbert <pgilbert@bank-banque-canada.ca> writes:

    PaulG> If value is NULL I think tsp assignment should not return a
    PaulG> class ts object.  Below is a fixed version.

	"tsp<-" <-function(x, value)
	{if (is.null(value))
	   {attr(x, "tsp") <- value
	    if(inherits(x,"ts")) class(x) <- NULL
	    return(x)
	   }
	 attr(x, "tsp") <-  value
	 class(x) <- "ts"
	 x
	}


Shouldn't we be even more restrictive?

 The tsp attribute (hance "value" above) should be
     - numeric
     - of length 3

And then, I'd rather stop the user than destroy the class of my ts object?!
i.e.

"tsp<-" <- function(x, value)
{
    if(!(is.numeric(value) && length(value) == 3))
        stop("invalid 'tsp': must be numeric of length 3")
    attr(x,"tsp") <- value
    x
}
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Wed Sep 30 16:38:20 1998
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 30 Sep 1998 11:38:20 -0400
Subject: "tsp<-"
References: <199809301440.QAA04028@florence.ethz.ch>
Message-ID: <98Sep30.114258edt.13464@mailgate.bank-banque-canada.ca>

Martin

I think your fix clobbered mine for NULL assignment and when I went to test a
combined version I discovered that somewhere in the setting of the tsp attr
there is already the check you proposed, and also some other sanity checks. So
my fix for NULL assignment (below again) seems to be the only problem. "tsp<-"
might be a more logical place to put these checks then in attr, but that's a
different question.

Paul
______

        "tsp<-" <-function(x, value)
        {if (is.null(value))
           {attr(x, "tsp") <- value
            if(inherits(x,"ts")) class(x) <- NULL
            return(x)
           }
         attr(x, "tsp") <-  value
         class(x) <- "ts"
         x
        }



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

