From Kurt.Hornik@ci.tuwien.ac.at  Sun Jul  2 10:44:42 2000
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Sun, 2 Jul 2000 11:44:42 +0200
Subject: [Rd] Re: more Rd ordering
In-Reply-To: <395BB576.E1BAB8D0@bank-banque-canada.ca>
References: <395BB576.E1BAB8D0@bank-banque-canada.ca>
Message-ID: <200007020944.LAA06552@aragorn.ci.tuwien.ac.at>

>>>>> Paul Gilbert writes:

> Although the ordering from Rdindex and R CMD build now agrees when I
> run them at a command prompt, for some reason Rdindex now gives a
> different order when it is run at a command prompt than it does when
> it is run from make. My Makefile entry is:

> %/INDEX : %/man
>  @echo "making target $@ ..."
>  (cd $(dir $@) ; R  CMD    Rdindex man/*.Rd >INDEX )

> Any ideas?

Yes.  It may be that again you have the effect of your shell/locale etc
producing the different ordering.  Try using just the mandir rather than
the wildcard.  I.e., something like

%/INDEX : %/man
	@echo "making target $@ ..."
	(cd $(dir $@) ; R  CMD    Rdindex man >INDEX )

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Sun Jul  2 10:44:42 2000
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Sun, 2 Jul 2000 11:44:42 +0200
Subject: [Rd] Re: [R] Re: no subject --> plot.date(.)
In-Reply-To: <395DB4AA.6F504D58@statistik.uni-dortmund.de>
References: <4.3.2.7.0.20000701100706.00dc9100@127.0.0.1>
 <395DB4AA.6F504D58@statistik.uni-dortmund.de>
Message-ID: <200007020944.LAA06555@aragorn.ci.tuwien.ac.at>

>>>>> Uwe Ligges writes:

> Troels Ring wrote:
>> 
>> Dear friends. Library Date was updated recently. I do not remember having
>> seen the error below until now ? The plot title is made appropriately but
>> the error message may be annoying, right ? I use version 1.1 on windows 98.
>> 
>> library(date)
>> tt <- as.date(c("1jan1960", "2jan1960", "31mar1960", "30jul1960"))
>> plot(tt,c(1:4),main="How's that ?")
>> Warning message:
>> parameter "main" couldn't be set in high-level plot() function

> Right. A few weeks ago I did some quick and ugly improvements to
> plot.date(.).  The warning (not error) message is generated by axis(.)
> which is called within plot.date(.). This warning message can be
> ignored.

> If anyone is interested in fixing this ...

Actually, I think Ross has some improvements concerning packaging the
graphic parameters coming up, which may simplify such tasks.

> There is also no dacumentation to pot.date(.) in package "date".

The docs say that there are various methods for class "date" objects.
If you feel that plot.date() deserves its own documentation, pls feel
free to write it ... :-)

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossini@biostat.washington.edu  Mon Jul  3 21:39:36 2000
From: rossini@biostat.washington.edu (A.J. Rossini)
Date: 03 Jul 2000 13:39:36 -0700
Subject: [Rd] Re: R help
In-Reply-To: Rich Heiberger's message of "Mon, 3 Jul 2000 16:40:43 -0400 (EDT)"
References: <200007032040.e63Kehn130228@surfer.sbm.temple.edu>
Message-ID: <874s672bjr.fsf@alpha.cfas.washington.edu>

(cc'ing R-devel as well).

>>>>> "RH" == Rich Heiberger <rmh@surfer.sbm.temple.edu> writes:

    RH> using Mx-R on ntemacs, when I type
    RH>    help(lm)
    RH> I get an emacs *help[R](lm)* buffer with "^M" on each line.  I
    RH> tried a few ways to make them go away and none worked.

    RH> When I tried help.start() then internet explorer wants to
    RH> download 4MB of Microsoft Virtual Machine.  What is that?  Why
    RH> do I need it?  Should I go back to IE3 or 4 instead of the 5 I
    RH> just installed?  5 strikes me as slower and less user
    RH> friendly.  It seems to have lost most of my previous history.

What version of R?  Which version of NTEmacs? 

I suspect it might have to do with the d*mn'd JavaScript in the help
files (which causes me slight annoyance since java/javascript, images,
and cookies are turned off by default in my browser, but that's minor
and mostly irrelevant).

But I might be wrong.  I've cc'd R-devel in case anyone knows what's
happening or has seen it before?

best,
-tony

-- 
A.J. Rossini		       Research Assistant Professor of Biostatistics 
Biostatistics/Univ. of Washington  (Th)	Box 357232   206-543-1044 (3286=fax)
Center for AIDS Research/HMC/UW	  (M/F)	Box 359931   206-731-3647 (3693=fax)
VTN/SCHARP/FHCRC		 (Tu/W)	Box 358080   206-667-7025 (4812=fax)
rossini@(biostat.washington.edu|u.washington.edu|scharp.org)
http://www.biostat.washington.edu/~rossini

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Tue Jul  4 03:20:04 2000
From: dmurdoch@pair.com (dmurdoch@pair.com)
Date: Tue, 4 Jul 2000 04:20:04 +0200 (MET DST)
Subject: [Rd] Bug with lists and expressions (PR#589)
Message-ID: <200007040220.EAA10125@pubhealth.ku.dk>

 I'm running R 1.1.0 for Windows; the behaviour is the same in 1.0.1.

 # create a list containing an expression: no problem
  x _ list(NA, expression(1))

 # Try to assign an expression to a list element, and get an error:
  x[[1]] _ expression(1)

 # Try again with a named list element:  no problem!
  x _ list(a=NA,expression(1))
  x$a _ expression(1)

The error message is: 

Error in "[[<-"(*tmp*, 1, value = expression(1))  :
	incompatible types

I think the error is in "[[<-", but that's a primitive, and I don't
know how to track it down any further.

Duncan Murdoch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Tue Jul  4 03:26:41 2000
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Tue, 04 Jul 2000 02:26:41 GMT
Subject: [Rd] Bug with lists and expressions
Message-ID: <39614504.13951296@julian.uwo.ca>

 I'm running R 1.1.0 for Windows; the behaviour is the same in 1.0.1.

 # create a list containing an expression: no problem
  x _ list(NA, expression(1))

 # Try to assign an expression to a list element, and get an error:
  x[[1]] _ expression(1)

 # Try again with a named list element:  no problem!
  x _ list(a=NA,expression(1))
  x$a _ expression(1)

The error message is: 

Error in "[[<-"(*tmp*, 1, value = expression(1))  :
	incompatible types

I think the error is in "[[<-", but that's a primitive, and I don't
know how to track it down any further.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From cate@neper.ethz.ch  Tue Jul  4 11:30:01 2000
From: cate@neper.ethz.ch (cate@neper.ethz.ch)
Date: Tue, 4 Jul 2000 12:30:01 +0200 (MET DST)
Subject: [Rd] Documentation bug (is.R). (PR#590)
Message-ID: <200007041030.MAA13203@pubhealth.ku.dk>

Full_Name: Giacomo Catenazzi
Version: 1.0.1
OS: Linux (Debian)
Submission from: (NULL) (129.132.9.24)


>From is.R documentation:

     `if (exists(is.R) && is.function(is.R) && is.R()) {'
     `    '## R-specific code
     `} else {'
     `    '## S-version of code
     `}'

It should be writen as '' exists("is.R") '' (is.R must be quoted).

> exists(is.R)
Error in exists(x, envir, mode, inherits) : 
	invalid first argument
> exists("is.R")
[1] TRUE


	giacomo

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Tue Jul  4 13:06:51 2000
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Tue, 4 Jul 2000 14:06:51 +0200 (MET DST)
Subject: [Rd] Documentation bug (is.R). (PR#590)
Message-ID: <200007041206.OAA14447@pubhealth.ku.dk>

>>>>> "cate" == cate  <cate@neper.ethz.ch> writes:

    cate> Full_Name: Giacomo Catenazzi
    cate> Version: 1.0.1
    cate> OS: Linux (Debian)
    cate> Submission from: (NULL) (129.132.9.24)


    >> From is.R documentation:

    cate> `if (exists(is.R) && is.function(is.R) && is.R()) {'
    cate> `    '## R-specific code
    cate> `} else {'
    cate> `    '## S-version of code
    cate> `}'

    cate> It should be writen as '' exists("is.R") '' (is.R must be quoted).

Thanks a lot;
now fixed for "R-(release-)patched"

Martin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From przemat@itti.com.pl  Tue Jul  4 13:54:06 2000
From: przemat@itti.com.pl (przemat@itti.com.pl)
Date: Tue, 4 Jul 2000 14:54:06 +0200 (MET DST)
Subject: [Rd] tseries bug (PR#592)
Message-ID: <200007041254.OAA15000@pubhealth.ku.dk>

Full_Name: Przemys쓰w Matuszewski
Version: R-1.1.0
OS: Linux RH 6.2
Submission from: (NULL) (195.117.211.244)


I have a problem with the package tseries_0.5-2.
The source of tseries_0.5-2 was compiled by command R INSTALL /path/to/package.

There was build the tseries library. Now when I try to load the package I get
the message:
...........................
    
    Type	"demo()" for some demos, "help()" for on-line help, or
    	"help.start()" for a HTML browser interface to help.
    Type	"q()" to quit R.

    > library(tseries)

    Segmentation fault (core dumped)

............................
                        
I would be appreciated if you could give me any suggestion what to do with it.

Best regards

Przemys쓰w Matuszewski

przemat@itti.com.pl


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From przemat@itti.com.pl  Tue Jul  4 13:59:38 2000
From: przemat@itti.com.pl (przemat@itti.com.pl)
Date: Tue, 4 Jul 2000 14:59:38 +0200 (MET DST)
Subject: [Rd] tseries bug (PR#593)
Message-ID: <200007041259.OAA15356@pubhealth.ku.dk>

Full_Name: Przemys쓰w Matuszewski
Version: R-1.1.0
OS: Linux RH 6.2
Submission from: (NULL) (195.117.211.244)


I have a problem with the package tseries_0.5-2.
The source of tseries_0.5-2 was compiled by command R INSTALL /path/to/package.

There was build the tseries library. Now when I try to load the package I get
the message:
...........................
    
    Type	"demo()" for some demos, "help()" for on-line help, or
    	"help.start()" for a HTML browser interface to help.
    Type	"q()" to quit R.

    > library(tseries)

    Segmentation fault (core dumped)

............................
                        
I would be appreciated if you could give me any suggestion what to do with it.

Best regards

Przemys쓰w Matuszewski

przemat@itti.com.pl


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From plummer@iarc.fr  Tue Jul  4 14:21:37 2000
From: plummer@iarc.fr (Martyn Plummer)
Date: Tue, 04 Jul 2000 15:21:37 +0200 (CEST)
Subject: [Rd] tseries bug (PR#592)
In-Reply-To: <200007041254.OAA15000@pubhealth.ku.dk>
Message-ID: <XFMail.000704152137.plummer@iarc.fr>

Not a problem with the tseries package, I think, but with Red Hat 6.2,
which has some serious problems dynamically loading Fortran.

Peter Dalgaard has reported that upgrading the C/fortran compilers to 
gcc 2.95.1 or later cures the problem.

I'll see if I can find an RPM of gcc-2.95.1 for RH 6.2 and put it in
the RedHat directory of CRAN.

Martyn

On 04-Jul-00 przemat@itti.com.pl wrote:
> Full_Name: Przemys쓰w Matuszewski
> Version: R-1.1.0
> OS: Linux RH 6.2
> Submission from: (NULL) (195.117.211.244)
> 
> 
> I have a problem with the package tseries_0.5-2.
> The source of tseries_0.5-2 was compiled by command R INSTALL
> /path/to/package.
> 
> There was build the tseries library. Now when I try to load the package I get
> the message:
> ...........................
>     
>     Type      "demo()" for some demos, "help()" for on-line help, or
>       "help.start()" for a HTML browser interface to help.
>     Type      "q()" to quit R.
> 
>     > library(tseries)
> 
>     Segmentation fault (core dumped)
> 
> ............................
>                         
> I would be appreciated if you could give me any suggestion what to do with
> it.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Adrian.Trapletti@wu-wien.ac.at  Tue Jul  4 14:27:47 2000
From: Adrian.Trapletti@wu-wien.ac.at (Adrian Trapletti)
Date: Tue, 04 Jul 2000 13:27:47 +0000
Subject: [Rd] tseries bug (PR#593)
References: <200007041259.OAA15356@pubhealth.ku.dk>
Message-ID: <3961E653.3B02000F@wu-wien.ac.at>

przemat@itti.com.pl wrote:

> Full_Name: Przemys쓰w Matuszewski
> Version: R-1.1.0
> OS: Linux RH 6.2
> Submission from: (NULL) (195.117.211.244)
>
> I have a problem with the package tseries_0.5-2.
> The source of tseries_0.5-2 was compiled by command R INSTALL /path/to/package.
>
> There was build the tseries library. Now when I try to load the package I get
> the message:
> ...........................
>
>     Type        "demo()" for some demos, "help()" for on-line help, or
>         "help.start()" for a HTML browser interface to help.
>     Type        "q()" to quit R.
>
>     > library(tseries)
>
>     Segmentation fault (core dumped)
>
> ............................
>
> I would be appreciated if you could give me any suggestion what to do with it.
>
> Best regards
>
> Przemys쓰w Matuszewski
>
> przemat@itti.com.pl
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.

Przemys쓰w and I already exchanged some emails about that problem, however, I have
not been able to reproduce this seg fault on my and Fritz Leisch's machine.
Perhaps anybody else had some similar problems?

Adrian

--
Adrian Trapletti, Vienna  University  of  Economics  and Business Ad-
ministration, Operations Research,  Augasse 2-6, 1090 Vienna, Austria
Phone: ++43-(0)1-31336-4561     Email: adrian.trapletti@wu-wien.ac.at
Fax: ++43-(0)1-31336-708   WWW: http://quor.wu-wien.ac.at/adrian.html



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From plummer@iarc.fr  Tue Jul  4 16:01:48 2000
From: plummer@iarc.fr (Martyn Plummer)
Date: Tue, 04 Jul 2000 17:01:48 +0200 (CEST)
Subject: [Rd] tseries bug (PR#592)
In-Reply-To: <XFMail.000704152137.plummer@iarc.fr>
Message-ID: <XFMail.000704170148.plummer@iarc.fr>

On 04-Jul-00 Martyn Plummer wrote:
> Not a problem with the tseries package, I think, but with Red Hat 6.2,
> which has some serious problems dynamically loading Fortran.
> 
> Peter Dalgaard has reported that upgrading the C/fortran compilers to 
> gcc 2.95.1 or later cures the problem.

I'm sorry to say that I still get the segfault with gcc-2.95.1 on 
RedHat 6.2.

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Wed Jul  5 17:31:45 2000
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Wed, 5 Jul 2000 18:31:45 +0200 (MET DST)
Subject: [Rd] svd() (Linpack) problems/bug for ill-conditioned matrices (PR#594)
Message-ID: <200007051631.SAA23153@pubhealth.ku.dk>


After fixing princomp(), recently,
	    {tiny negative eigen-values are possible for non-negative
	     definite matrices} 
Fritz Leisch drew my attention to the fact the not only eigen() can be
funny, but also svd().

Adrian Trappleti found that the singular values returned 
can be "-0" instead of "0".  This will be a problem in something like

    sd <- svd(Mat) $ d
    max(sd) / min(sd)

which gives  -Inf  instead of Inf in the above case.

I did some more searching and testing with svd(), could easily 
reproduce the "-0" problem,

    hilbert <- function(n, k=n) { i <- 1:n; 1 / outer(i - 1, i[1:k], "+") }

    M1 <- cbind(hilbert(12,8), pi*1e-15, 0)
    (sd <- svd(M1, nu=0, nv=0) $ d)
    sd[1] / sd[10] #--> -Inf  

but even worse:  On both Solaris (2.5.1, gcc 2.95.1, 
				  f77 "WorkShop Compilers 4.2"
                 and Linux (Redhat 6.2, enhanced with gcc 2.95.2;
			    g77 version egcs-2.91.66 19990314/Linux 
				(egcs-1.1.2 release) 
				(from FSF-g77 version 0.5.24-19981002)
I have managed to make svd() stop with
something like "error  170  in dsvdc"  which basically comes from the
underlying LINPACK routine DSVDC() which did not converge in 30 QR iterations.
example code appended
--- The examples I've found are machine dependent and disjoint for Linux &
Solaris.

HOWEVER:  S-PLUS 5.1 on both machines does NOT fail for the identical
	  matrices!
S-PLUS has basically	.Fortran("dsvdcs" ,
and looks like it is calling Linpack as well, but note that the subroutine
has an extra "s" appended (``S version of Linpack'' ??).

---

Then I had a short look at GSL (GNU scientific library) 
			http://sourceware.cygnus.com/gsl/
which calls a LAPACK (instead of LINPACK) routine for svd  which seems to
use Householder- instead of QR- iterations...

The whole makes me think that we should really shift away from Linpack and
towards Lapack for R's numerical linear algebra....

Here is my code which gives both an error (but not the same!) for R
on Linux and Solaris and all runs through S-PLUS 5.1 on both machines.


hilbert <- function(n) { i <- 1:n; 1 / outer(i - 1, i, "+") }
## "better":
hilbert <- function(n, k=n) { i <- 1:n; 1 / outer(i - 1, i[1:k], "+") }

M1 <- cbind(hilbert(12,8), 3.14e-15, 0)
M2 <- cbind(hilbert(15,8), .2,0)
H2c <- hilbert(200,180)

## Gives SVD error "error  170  in dsvdc" on (MM's) Solaris :
ii.sol <- c(87, 40, 120, 164, 93, 98, 108, 156, 77, 52, 127, 50, 58, 123,
        17, 147, 10, 152, 103, 136, 20, 34, 6, 30, 44, 130, 47, 35, 168,
        4, 115, 3, 29, 71, 56, 128, 90, 18, 60, 25, 125, 74, 91, 16,
        9, 111, 46, 137, 53, 110, 21, 94, 78, 104, 100, 99, 76, 126,
        62, 61, 117, 54, 140, 66, 150, 19, 149, 114, 63, 139, 2, 166,
        135, 23, 107, 8, 158, 39, 69, 75, 92, 112, 86, 124, 13, 118,
        151, 80, 146, 68, 43, 159, 36, 31, 144, 85, 122, 141, 11, 167,
        157, 1, 132, 97, 133, 79, 138, 49, 45, 72, 119, 84, 59, 131,
        5, 22, 116, 154, 142, 48, 73, 67, 161, 7, 155, 42, 41, 143, 57,
        33, 162, 102, 134, 101, 37, 148, 64, 160, 24, 27, 55, 83, 121,
        38, 106, 113, 28, 109, 70, 14, 32, 12, 65, 96, 129, 89, 163,
        88, 105, 15, 95, 145, 81, 165, 51, 153, 82, 169, 26)
H2c.sol <- cbind(H2c[,ii.sol], 1)

## NEW rec: -9.413e+14 ; nc =  164
## Gives SVD error 165 on Linux:
ii <- c(34, 101, 120, 53, 140, 108, 112, 9, 10, 96, 154, 89, 17, 131,
        130, 123, 126, 51, 95, 85, 147, 87, 132, 60, 58, 64, 150, 139,
        116, 36, 78, 107, 118, 104, 127, 61, 82, 84, 63, 23, 114, 124,
        83, 162, 55, 99, 50, 141, 8, 24, 25, 19, 65, 15, 2, 143, 145,
        148, 138, 136, 57, 22, 26, 1, 152, 129, 21, 69, 59, 20, 163,
        98, 92, 106, 88, 56, 70, 117, 37, 48, 115, 79, 68, 142, 4, 122,
        76, 28, 155, 29, 45, 13, 30, 47, 62, 31, 121, 119, 125, 74, 144,
        27, 93, 100, 71, 40, 149, 16, 157, 41, 33, 113, 133, 54, 14,
        156, 11, 97, 72, 75, 77, 49, 111, 128, 18, 35, 42, 6, 160, 32,
        3, 91, 66, 73, 44, 39, 81, 90, 153, 135, 43, 151, 159, 102, 161,
        12, 110, 5, 164, 67, 80, 46, 94, 7, 105, 134, 38, 146, 86, 103,
        137, 52, 158, 109)
H2c.lin <- cbind(H2c[,ii], 1)


(sd <- svd(M1, nu=0, nv=0) $ d) ; sd[1] / sd[length(sd)] #--> -Inf
(sd <- svd(M2, nu=0, nv=0) $ d) ; sd[1] / sd[length(sd)] #--> -Inf

summary(svd(H2c.sol)$d)## Error on Solaris only

summary(svd(H2c.lin)$d)## Error on Linux only (RH 6.2, gcc 2.95.2)
## BTW: quite a strong negative ratio
range( ev <- eigen(var(H2c.lin), only=T)$val )
ev[1] / ev[length(ev)] # -5.868e+15 (solaris);  -1.2115e+16 (linux)

### Try different  ii  and always do the following line :
summary(svd(cbind(H2c[,ii], 1))$d)


## BTW: Negative Eigenvalues
range( eigen(var(M2), only=T)$val )







-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From sharon@math.chalmers.se  Wed Jul  5 18:39:18 2000
From: sharon@math.chalmers.se (sharon@math.chalmers.se)
Date: Wed, 5 Jul 2000 19:39:18 +0200 (MET DST)
Subject: [Rd] eigen function on Solaris2.6 (PR#595)
Message-ID: <200007051739.TAA23364@pubhealth.ku.dk>

Full_Name: Sharon Kuhlmann
Version: 0.99
OS: solaris2.6   
Submission from: (NULL) (129.16.167.231)


When I use the function > eigen(x), it gives me a "Process R bus error", 
and the program quits.


I'm running the following R version:

platform sparc-sun-solaris2.6
arch     sparc               
os       solaris2.6          
system   sparc, solaris2.6   
status   Patched             
major    0                   
minor    99.0                
year     2000                
month    February            
day      9                   
language R         

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ligges@statistik.uni-dortmund.de  Wed Jul  5 20:13:43 2000
From: ligges@statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 05 Jul 2000 21:13:43 +0200
Subject: [Rd] eigen function on Solaris2.6 (PR#595)
References: <200007051739.TAA23364@pubhealth.ku.dk>
Message-ID: <396388E7.7D504A1E@statistik.uni-dortmund.de>

sharon@math.chalmers.se wrote:
> 
> Full_Name: Sharon Kuhlmann
> Version: 0.99

You should upgrade to R-1.1.0 (the latest release) before reporting a
bug ...


> OS: solaris2.6
> Submission from: (NULL) (129.16.167.231)
> 
> When I use the function > eigen(x), it gives me a "Process R bus error",
> and the program quits.


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Karl M.Hegbloom" <karlheg@debian.org  Wed Jul  5 22:05:51 2000
From: Karl M.Hegbloom" <karlheg@debian.org (Karl M. Hegbloom)
Date: 05 Jul 2000 14:05:51 -0700
Subject: [Rd] The "Blue book" and the R README.
Message-ID: <87ituk5lu8.fsf@bittersweet.intra>


 I've installed `R', and am beginning to learn about it.  I found a
 copy of "The New S Language", which has a copyright dated 1988.  The
 `R' README says it's 1998 though.  Is there a newer version, or is
 the README in error?

 Has anyone tried to get them to release the sources to the Blue Book?
 It says it was typeset with `troff'.  What are the odds they'd do
 that?  Do they still sell `S'?

 Do I own a rare book?  Or are there enough copies out there to meet
 demand?  Maybe I should memorize and eat it.

-- 
A few months in the laboratory often saves several hours at the library.
mailto:karlheg@debian.org (Karl M. Hegbloom)
irc: nick karlheg on irc.debian.org
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Thu Jul  6 08:13:27 2000
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Thu, 6 Jul 2000 09:13:27 +0200 (MET DST)
Subject: [Rd] eigen function on Solaris2.6 (PR#595)
Message-ID: <200007060713.JAA25401@pubhealth.ku.dk>

Thank you for the report,
Sharon,

>>>>> "sharon" == sharon  <sharon@math.chalmers.se> writes:

    sharon> When I use the function > eigen(x), it gives me a "Process R
    sharon> bus error", and the program quits.

We'd usually want to see an exactly reproducible example, i.e.

     x <- ......
     eigen (x)

but see below

    sharon> I'm running the following R version:

    sharon> platform sparc-sun-solaris2.6
    sharon> arch     sparc               
    sharon> os       solaris2.6          
    sharon> system   sparc, solaris2.6   
    sharon> status   Patched             
    sharon> major    0                   
    sharon> minor    99.0                
    sharon> year     2000                
    sharon> month    February            
    sharon> day      9                   
    sharon> language R         

Note that this is not even a released version of R (notice
"Patched"); it is pre version of R 1.0.0,
and nowadays you should not work anymore with R versions <= 0.99
(which BDR calls "beta").

Get 1.1(.0) from any CRAN site!

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Thu Jul  6 16:37:16 2000
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Thu, 6 Jul 2000 17:37:16 +0200 (MET DST)
Subject: [Rd] Re: [R] R 1.1.0 dev.print() & dev.copy2eps -- bug{let} (PR#596)
Message-ID: <200007061537.RAA02134@pubhealth.ku.dk>

>>>>> "StEgl" == Stephen Eglen <stephen@cogsci.ed.ac.uk> writes:

    StEgl> Hi, I just upgraded to 1.1.0 from 1.0.1 this morning on my OSF/1
    StEgl> machine.  I now have problems with the following code:

    StEgl> %E /tmp 43% R --vanilla
    StEgl> Version 1.1.0  (June 15, 2000)
    StEgl> ...

    >> test2 <- function ()
    {
    plot(runif(30))
    ofile <- "/tmp/newfile.ps"
    dev.print(file = ofile)
    }

    StEgl> + + + + + > > test2()
    StEgl> Error in device(...) : Object "ofile" not found


    StEgl> However, if I just write the filename directly into the call to
    StEgl> dev.print() rather than using a variable name, it works okay:


    >> test1 <- function ()
    {
     plot(runif(30))
     dev.print(file = "/tmp/newfile.ps")
    }

    StEgl> + + + + > > test1()
    StEgl> X11 
    StEgl> 2 

    StEgl> I just checked, and test1() works fine on R-1.0.1 
			       -------
you mean  test2();  test1() works on both, right?!

    StEgl> - what am I doing wrong?
nothing, "of course".
You found a bug, and hence I'm CC'ing to R-bugs.

Maybe, dev.print() is not what you should  have been using in the first place,
but rather dev.copy() directly which will probably solve your problem.

NOTE:  dev.print() has been extensively re-worked (for 1.1.0) in order to
       be "smart", e.g.,. to send the current plot to the printer by default
       depending on getOption("printer") and other things, and to allow
       other uses.  Hence, it works on the call and uses eval() ...

It seems is must become even smarter (or less tricky and more robust)...
       
BTW, the same applies to the new  dev.copy2eps() function which falls in
the same pit in its trickyness of using eval(...) :

  > tst3 <- function(outfile) { dev.copy2eps(file = outfile) }
  > tst3("/tmp/my2.eps")
  Error in device(...) : Object "outfile" not found

Martin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Fri Jul  7 01:57:04 2000
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Fri, 07 Jul 2000 00:57:04 GMT
Subject: [Rd] Streams package nearly completed
Message-ID: <39672958.19204442@julian.uwo.ca>

The binary file read/write package is approximately complete now.  The
only tasks remaining are:

 - compile the help to put together a compiled package
 - rewrite the Delphi code in C so it will run on other than Windows
machines

These are both likely to take me until late August, unless the
screaming fans demand it sooner. 

You can download the package source from my web page,
< http://www.stats.uwo.ca/faculty/murdoch/software/Rstreams.zip>.

The index file is reproduced here:

openstream: 	Open a file as a stream
closestream: 	Close a stream (or all streams)
readint: 		Read a vector of integers from the stream
readfloat: 	Read a vector of floats from the stream
readcomplex: 	Read a complex vector from the stream
readchar: 	Read a vector of character strings from the stream
writeint: 		Write a vector of integers to the stream
writefloat: 	Write a vector of floats to the stream
writecomplex: 	Write a complex vector to the stream
writechar: 	Write a vector of character strings to the stream
seek: 		Change the current position of the stream
truncate: 	Set the length of the stream
copy: 		Copy from one stream to another
allstreams: 	List all open streams
inttostr: 		Convert integers to hexadecimal (or other

	base)
hexdump: 	Display a hex dump of a stream
readsfile: 	Read a binary S-PLUS object file

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pd@blueberry.kubism.ku.dk  Fri Jul  7 06:15:05 2000
From: pd@blueberry.kubism.ku.dk (Peter Dalgaard BSA)
Date: Fri, 7 Jul 2000 07:15:05 +0200
Subject: [Rd] Bug list summary (automatic post)
Message-ID: <200007070515.HAA14649@blueberry.kubism.ku.dk>

=================================================
This is an automated summary of the status of the R-bugs
repository.

Note that this may be neither complete nor perfectly
correct at any given instance: Not all bugs are reported,
and some reported bugs may have been fixed, but the
repository not yet updated.

Some bug fixes are difficult to verify because they pertain
to specific hardware or operating system versions. If you
have information to contribute, please do so.

If you happen to know how to fix a problem please send
patches to the bug repository, too.

New bugs are reported either through the web
interface at r-bugs.biostat.ku.dk or via email to
r-bugs@biostat.ku.dk. The bug.report() function can be
used to automate parts of the procedure on many systems.
Followups on older bugs can be done by including the string
"(PR#999)" in the Subject of an email (change 999 to the
actual reference number, of course!).
=================================================

Directory:  Accuracy

none

Directory:  Add-ons

* PR# 567 *
Subject: ctest not works
From: George Diniz <george@cpqam.fiocruz.br>
Date: Sun, 12 Mar 2000 12:03:45 -0200
--possibly the RH6.2 Fortran bug
* PR# 503 *
Subject: dmvnorm() bug in e1071
From: "Gregory R. Warnes" <warnes@biostat.washington.edu>
Date: Fri, 24 Mar 2000 03:24:45 +0000 (GMT)
* PR# 496 *
From: bonneau@epi.roazhon.inra.fr (en148)
Date: Tue, 21 Mar 2000 10:57:13 +0100 (MET)
--base R has no est.variogram function.
--This appears to be a bug report on sgeostat.

Directory:  Analyses

none

Directory:  Documentation

none

Directory:  Graphics

* PR# 565 *
Subject: Postscript device ignores title if it is too long.
From: Stephen Eglen <stephen@anc.ed.ac.uk>
Date: Fri, 9 Jun 2000 09:17:09 +0100 (BST)
--documentation point was fixed for 1.1.0
* PR# 202 *
Subject: persp box occlusion bug
From: wsi@gcal.ac.uk
Date: Wed, 2 Jun 1999 15:02:03 +0200 (MET DST)
--The persp algorithm does not apply the occlusion rules to the frame, 
--which is always plotted first. 
--A bug, but not very simple to fix.

Directory:  In-Out

none

Directory:  Installation

* PR# 571 *
Subject:  Missing -lc for compilation on AIX (R 1.1.0) 
From: Thomas Vogels <tov@infiniti.ece.cmu.edu>
Date: Thu, 15 Jun 2000 13:42:50 -0400
* PR# 485 *
Subject: Install R1.0.0
From: Lynn Zhang <lyzhang@umich.edu>
Date: Mon, 13 Mar 2000 16:10:52 -0500 (EST)
* PR# 467 *
Subject: Re: [R] Re: R-1.0.0 is released
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 01 Mar 2000 20:26:40 +0100
--followup to PR#466
* PR# 466 *
Subject: Re: R-1.0.0 is released
From: bhoel@server.python.net (Berthold=?iso-8859-1?q?_H=F6llmann?=)
Date: 01 Mar 2000 16:00:54 +0100

Directory:  Language

* PR# 576 *
Subject:  exists() and the mode argument 
From: J.C.Rougier@durham.ac.uk
Date: Tue, 20 Jun 2000 12:03:36 +0100 (BST)
* PR# 412 *
Subject: anomalies with call objects
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 06 Feb 2000 01:18:50 +0100
* PR# 408 *
Subject: convolution bug
From: wsimpson@gcal.ac.uk
Date: Fri, 28 Jan 2000 11:17:36 +0100 (MET)

Directory:  Low-level

* PR# 545 *
Subject: Segmentation Fault of unknown cause
From: kjetikj@astro.uio.no
Date: Mon, 15 May 2000 16:29:29 +0200 (MET DST)
* PR# 505 *
Subject: interrupted save 
From: Thomas Lumley <thomas@biostat.washington.edu>
Date: Sat, 25 Mar 2000 12:16:50 -0800 (PST)

Directory:  Misc

none

Directory:  Models

none

Directory:  Startup

* PR# 486 *
Subject: Re: autoload error in profile {was anova-bug in R-version  1.0.0?}
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Tue, 14 Mar 2000 10:32:43 +0100 (MET)
--workaround to the origin problem in 1.0.1
--New report: try does not work from the profile.

Directory:  System-specific

* PR# 547 *
Subject: system(.., ignore.stderr = TRUE)  problem on Solaris
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Fri, 19 May 2000 21:12:02 +0200 (CEST)
--redirection of stderr to /dev/null in system occurs before the command
--is tried on some systems and after on others.
* PR# 452 *
Subject: problem with glm
From: Brad McNeney <mcneney@cs.sfu.ca>
Date: Fri, 18 Feb 2000 17:51:54 -0800 (PST)
--Problems on Alpha's with glm. Status unclear
* PR# 521 *
Subject: akima core dumps on loading
From: santini@dsi.unimi.it
Date: Mon, 17 Apr 2000 11:30:41 +0200 (MET DST)
--Probably compiler-specific
* PR# 490 *
Subject: R-1.0.0 on alpha/osf1 memory glitch
From: Ray Brownrigg <Ray.Brownrigg@mcs.vuw.ac.nz>
Date: Fri, 17 Mar 2000 11:25:30 +1300 (NZDT)
* PR# 537 *
Subject: eigen broken on AIX with R-devel?
From: Thomas J Vogels <tov@ece.cmu.edu>
Date: 08 May 2000 12:01:04 -0400
--AIX, probably compiler-specific
* PR# 534 *
Subject: wsfe bug report just made
From: mallen@tntech.edu
Date: Thu, 4 May 2000 19:20:35 +0200 (MET DST)
--follow up to PR#533
* PR# 533 *
Subject: acepack, akima and tripack will not load 
From: mallen@tntech.edu
Date: Thu, 4 May 2000 19:18:59 +0200 (MET DST)
--related to PR#521: probably compiler-specific

Directory:  TooMuchAtOnce

* PR# 532 *
Subject: Bug report -- 1.0.1, HP-UX
From: Russ Lenth <russell-lenth@uiowa.edu>
Date: Wed, 03 May 2000 12:15:26 -0500
--1) is a user error.
--2) command-line history has no information
--3) help.start looks like a permissions problem. 

Directory:  Windows

none

Directory:  incoming

* PR# 596 *
Subject: Re: [R] R 1.1.0 dev.print() & dev.copy2eps -- bug{let}
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Thu, 6 Jul 2000 17:36:28 +0200 (CEST)
* PR# 578 *
Subject: Re: [R] R 1.1 congrat; undocumented behaviour of recordPlot
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 22 Jun 2000 17:07:05 +0200
* PR# 551 *
Subject: Bus Error crash
From: kjetikj@astro.uio.no
Date: Mon, 22 May 2000 13:06:48 +0200 (MET DST)
* PR# 536 *
Subject: Problem with match.arg()
From: kjetikj@astro.uio.no
Date: Sun, 7 May 2000 13:58:21 +0200 (MET DST)
--1.0.0 bug fixed for 1.0.1 ??
* PR# 580 *
Subject: dotplot() colors reversed
From: Rashid Nassar <rnassar@duke.edu>
Date: Sun, 25 Jun 2000 15:36:00 -0400 (EDT)
* PR# 579 *
Subject: possible bug, anova.glm(), family="gaussian"
From: Rashid Nassar <rnassar@duke.edu>
Date: Sun, 25 Jun 2000 12:31:22 -0400 (EDT)
* PR# 583 *
Subject: persp greek label problem
From: ramin.nakisa@ncr.com
Date: Mon, 26 Jun 2000 20:06:38 +0200 (MET DST)
* PR# 582 *
Subject: lm.{w}fit(x,y,*) : fails when x has no column names
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Mon, 26 Jun 2000 15:50:58 +0200 (CEST)
* PR# 581 *
Subject: help screens: typos, suggestions
From: Rashid Nassar <rnassar@duke.edu>
Date: Sun, 25 Jun 2000 15:59:57 -0400 (EDT)
* PR# 585 *
Subject:  Missing SearchEngine.html 
From: Thomas J Vogels <tov@bavaria.ece.cmu.edu>
Date: Thu, 29 Jun 2000 08:12:06 -0400
* PR# 584 *
Subject: par(lty = "1") -- lty storage-etc bug
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Tue, 27 Jun 2000 09:11:36 +0200 (CEST)
* PR# 588 *
Subject: INTERNET SPY GUIDE finds info!
From: spysguidesnet12@rocketmail.com
Date: Sat, 01 Jul 00 20:15:34 EST
* PR# 587 *
Subject: dim(a <- ...) sets invisible flag erronously
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Fri, 30 Jun 2000 20:15:59 +0200 (MET DST)
* PR# 586 *
Subject: system.file on Windows, / vs \\
From: Thomas Lumley <thomas@biostat.washington.edu>
Date: Thu, 29 Jun 2000 09:49:39 -0700 (PDT)
* PR# 591 *
Subject: INCREASE SALES!
From: enamesoncd@earthlink.net
Date: Fri, 30 Jun 00 11:46:48 EST
* PR# 590 *
Subject: Documentation bug (is.R).
From: cate@neper.ethz.ch
Date: Tue, 4 Jul 2000 12:29:59 +0200 (MET DST)
* PR# 589 *
Subject: Bug with lists and expressions
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Tue, 04 Jul 2000 02:26:41 GMT
* PR# 593 *
Subject: tseries bug
From: przemat@itti.com.pl
Date: Tue, 4 Jul 2000 14:59:37 +0200 (MET DST)
* PR# 592 *
Subject: tseries bug
From: przemat@itti.com.pl
Date: Tue, 4 Jul 2000 14:52:17 +0200 (MET DST)
* PR# 595 *
Subject: eigen function on Solaris2.6
From: sharon@math.chalmers.se
Date: Wed, 5 Jul 2000 19:39:17 +0200 (MET DST)
* PR# 594 *
Subject: svd() (Linpack) problems/bug for ill-conditioned matrices
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Wed, 5 Jul 2000 18:32:01 +0200 (CEST)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From plucas@csd.abdn.ac.uk  Fri Jul  7 11:23:45 2000
From: plucas@csd.abdn.ac.uk (plucas@csd.abdn.ac.uk)
Date: Fri, 7 Jul 2000 12:23:45 +0200 (MET DST)
Subject: [Rd] multiply defined symbols (PR#597)
Message-ID: <200007071023.MAA07687@pubhealth.ku.dk>

Full_Name: Peter Lucas
Version: 1.1.0
OS: redHat 6.2 Linux
Submission from: (NULL) (139.133.200.15)


I tried to install R 1.1.0 on my i686 PC with Redhat 6.2 Linux on it.
I am using fort77 with f2c. I am not able to build R, as libc.a contains
regex.o, causing a conflict with src/main/regex.o. the ONEWS mentions
that this problem was solved, but it obviously was not. I am not a real
Unix hacker, so I wonder how to proceed.

Peter

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Fri Jul  7 15:46:02 2000
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 Jul 2000 16:46:02 +0200
Subject: [Rd] multiply defined symbols (PR#597)
In-Reply-To: plucas@csd.abdn.ac.uk's message of "Fri, 7 Jul 2000 12:23:45 +0200 (MET DST)"
References: <200007071023.MAA07687@pubhealth.ku.dk>
Message-ID: <x2wviyrob9.fsf@blueberry.kubism.ku.dk>

plucas@csd.abdn.ac.uk writes:

> I tried to install R 1.1.0 on my i686 PC with Redhat 6.2 Linux on it.
> I am using fort77 with f2c. I am not able to build R, as libc.a contains
> regex.o, causing a conflict with src/main/regex.o. the ONEWS mentions
> that this problem was solved, but it obviously was not. I am not a real
> Unix hacker, so I wonder how to proceed.

One possibility would be to use f2c directly. Pseudo Fortran compilers
like fort77 (which is just a script around f2c) do strange things
occasionally. Use the --with-f2c flag to configure.

The egcs-g77 package that comes with RH6.2 should work for compiling R
itself, but seems to be having trouble with some add-on packages.
gcc-2.95.1 and later seems to be OK.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rnassar@duke.edu  Sun Jul  9 03:18:00 2000
From: rnassar@duke.edu (rnassar@duke.edu)
Date: Sun, 9 Jul 2000 04:18:00 +0200 (MET DST)
Subject: [Rd] minor typos in help pages (PR#598)
Message-ID: <200007090218.EAA14023@pubhealth.ku.dk>

Dear R Team,

A few monor typos in help pages that I noticed. 

Thank you very much.

Rashid Nassar

1.
help(gl)
Examples:

     # First control, then treatment:
     gl(2,8, label=c("Ctnrl","Treat"))
                      ^^^^
I assume "Cntrl" is meant.                     

==========================================
2.
help(pmatch)

Details:

     The behaviour differs by the value of `duplicates.ok'. Consider
     ...
     behaviour for partial matching of character indices, for example
                            # looks like something is missing here  ^^^ 

# perhaps:                                     
 
    ... indices, for example.      #[i.e. the use for partial matching of
                            ^      # character indices is the example]
                            
# or:  

   ... indices, for example,  # and the actual example goes here but is 
left out 

# (I'm not sure which).
     
=========================================
3.
help(on.exit)

Description:

     `on.exit' records the expression given as its argument as needing
     to be executed when then current function exits (either naturally
                            ^ 
                         [the] 

========================================
4.
help(influence.measures)

References:
 
     Cook, R. D. and Weisber,g S. (1982) Residuals and Influence in
                           ^^^      
=========================================

--please do not edit the information below--

Version:
 platform = i586-pc-linux-gnu
 arch = i586
 os = linux-gnu
 system = i586, linux-gnu
 status = Patched
 major = 1
 minor = 1.0
 year = 2000
 month = July
 day = 1
 language = R

Search Path:
 .GlobalEnv, Autoloads, package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Jul  9 09:41:49 2000
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 9 Jul 2000 09:41:49 +0100 (BST)
Subject: [Rd] minor typos in help pages (PR#598)
In-Reply-To: <200007090218.EAA14023@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.05.10007090939140.10400-100000@auk.stats>

Thank you, all fixed for 1.1.1 in the R-patched branch.

On Sun, 9 Jul 2000 rnassar@duke.edu wrote:


> Dear R Team,
> 
> A few monor typos in help pages that I noticed. 
> 
> Thank you very much.
> 
> Rashid Nassar
> 
> 1.
> help(gl)
> Examples:
> 
>      # First control, then treatment:
>      gl(2,8, label=c("Ctnrl","Treat"))
>                       ^^^^
> I assume "Cntrl" is meant.                     

I've used `Control' as it seemed confusing to abbreviate it at all.

> 
> ==========================================
> 2.
> help(pmatch)
> 
> Details:
> 
>      The behaviour differs by the value of `duplicates.ok'. Consider
>      ...
>      behaviour for partial matching of character indices, for example
>                             # looks like something is missing here  ^^^ 

(It was a missing `.'.)

....

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kjetil.kjernsmo@astro.uio.no  Sun Jul  9 20:34:24 2000
From: kjetil.kjernsmo@astro.uio.no (Kjetil Kjernsmo)
Date: Sun, 9 Jul 2000 21:34:24 +0200 (MET DST)
Subject: [Rd] Modified Histogram functions
Message-ID: <Pine.OSF.4.05.10007092108130.14507-100000@alnair.uio.no>

Dear all,

I have done further modifications on the histogram functions that I
reported earlier this year, and I hope this can be of use and perhaps
included in the distribution. I have been using this stuff a couple of
months myself, and while it is nothing sophisticated, it has it's
applications. :-) I did a few small modifications today to make it a bit
more compact.

I have modified the hist.default() function so that the list it returns
has class "histogram". I have put the plotting in a separate function,
plot.histogram(), which is called from hist.default if plot=T, and I have
made a lines.histogram() (calling it "lines", is that a wise choice? It
seemed most natural, but then again....), which can be used to overlay
histograms on existing histograms. Here it is obviously a lot of room for
improvement. E.g. calling plot.histogram() with multiple histogram
objects could produce a plot where coloumns representing the same values
are grouped, I haven't addressed that. The code is below my .sig.

As you can see, there are few changes from your code. The biggest change
is that hist.default() calls plot.histogram() (or rather plot()). Also
note that the warning about wrong areas only appears in hist.default(). I
figured that the user is most likely created the histogram object with
hist, so s/he might no want to be bothered with this warning again. I
don't know if this is wise, s/he might just have forgotten or something. :-)

I guess plot.histogram() may also be made more compact by calling
lines.histogram() to plot the actual rects, but I didn't find a practical
way of doing this, so I didn't... :-) And, contrary to
the other functions making histogram plots, lines.histogram() does take
lty as an argument (useful for making dotted borders, to separate one
histogram from another, particulary useful when using colors).

I've got a function for adding two similar histograms as well, but that's
so hacked up I guess it isn't worth much.

BTW, I found a typo in the help for rect:
     xpd: logical (``expand''); if `FLASE', everything is clipped to
          the plot region.

Hope this is useful for someone... :-)

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj@astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster@skepsis.no 

hist <- function(x, ...) UseMethod("hist")

hist.default <-
function (x, breaks, freq= NULL, probability = !freq, include.lowest= TRUE,
       right=TRUE, col = NULL, border = par("fg"),
       main = paste("Histogram of" , deparse(substitute(x))),
       xlim = range(breaks), ylim = range(y, 0),
       xlab = deparse(substitute(x)), ylab,
       axes = TRUE, plot = TRUE, labels = FALSE, nclass = NULL, ...)
{
  if (!is.numeric(x))
    stop("hist: x must be numeric")
  main # eval() now: defeat lazy eval
  xlab
  n <- length(x <- x[!is.na(x)])
  use.br <- !missing(breaks)
  if(use.br) {
    if(!missing(nclass))
      warning("`nclass' not used when `breaks' specified")
  }
  else if(!is.null(nclass) && length(nclass) == 1)
    breaks <- nclass
  use.br <- use.br && (nB <- length(breaks)) > 1
  if(use.br)
    breaks <- sort(breaks)
  else { # construct vector of breaks
    rx <- range(x)
    nnb <-
    if(missing(breaks)) 1 + log2(n)
    else { # breaks = `nclass'
      if (is.na(breaks) | breaks < 2)
        stop("invalid number of breaks")
      breaks
    }
    breaks <- pretty (rx, n = nnb, min.n=1, eps.corr = 2)
    nB <- length(breaks)
    if(nB <= 1) { ##-- Impossible !
      stop(paste("hist.default: pretty() error, breaks=",format(breaks)))
    }
  }
  storage.mode(x) <- "double"
  storage.mode(breaks) <- "double"
  counts <- .C("bincount",
               x,
               n,
               breaks,
               nB,
               counts = integer(nB - 1),
               right = as.logical(right),
               include= as.logical(include.lowest),
               NAOK = FALSE, DUP = FALSE, PACKAGE = "base") $counts
  if (any(counts < 0))
  stop("negative `counts'. Internal Error in C-code for \"bincount\"")
  if (sum(counts) < n)
  stop("some `x' not counted; maybe `breaks' do not span range of `x'")
  h <- diff(breaks)
  if (!use.br && any(h <= 0))
  stop("not strictly increasing `breaks'.")
  if (is.null(freq)) {
    freq <- if(!missing(probability))
    !as.logical(probability)
    else if(use.br) {
      ##-- Do frequencies if breaks are evenly spaced
      max(h)-min(h) < 1e-7 * mean(h)
    } else TRUE
  } else if(!missing(probability) && any(probability == freq))
    stop("`probability is an alias for `!freq', however they differ.")
  intensities <- counts/(n*h)
  mids <- 0.5 * (breaks[-1] + breaks[-nB])
  y <- if (freq) counts else intensities
  r <- structure(list(breaks = breaks, counts = counts,
                      intensities = intensities, mids = mids),
                 class="histogram")
  if (plot) {
    if(freq && use.br && max(h)-min(h) > 1e-7 * mean(h))
    warning("the AREAS in the plot are wrong -- maybe use `freq=FALSE'")
    plot(r, freq = freq, probability = !freq, col = col, border = border,
         main = main, xlim = xlim, ylim = ylim, xlab = xlab, ylab = ylab,
         axes = axes, labels = labels, ...)
    invisible(r)
  }
  else r
}

plot.histogram <- function (x, freq= NULL, probability = !freq, 
                            col = NULL, border = par("fg"),
                            main = paste("Histogram of" ,
                              deparse(substitute(x))),
                            xlim = range(x$breaks), ylim = range(y, 0),
                            xlab = deparse(substitute(x)), ylab,
                            axes = TRUE, labels = FALSE,  ...)
{
  if (is.null(freq)) {
    freq <- if(!missing(probability))
      !as.logical(probability) else TRUE
  } else if(!missing(probability) && any(probability == freq))
  stop("`probability' is an alias for `!freq', however they differ.")
  y <- if (freq) x$counts else x$intensities
  nB <- length(x$breaks)
  plot.new()
  plot.window(xlim, ylim, "") #-> ylim's default from 'y'
  if (missing(ylab))
    ylab <- paste(if(!freq)"Relative ", "Frequency", sep="")
  title(main = main, xlab = xlab, ylab = ylab, ...)
  if(axes) {
    axis(1, ...)
    axis(2, ...)
  }
  rect(x$breaks[-nB], 0, x$breaks[-1], y,
       col = col, border = border)
  if(labels)
    text(x$mids, y,
         labels = if(freq) x$counts else round(x$intensities,3),
         adj = c(0.5, -0.5))
  invisible()
}

lines.histogram <- function(x, freq=NULL, probability=!freq,
                            col=NULL, border=par("fg"), lty=NULL...)
{
  if (is.null(freq)) {
    freq <- if(!missing(probability))
      !as.logical(probability) else TRUE
  } else if(!missing(probability) && any(probability == freq))
    stop("`probability' is an alias for `!freq', however they differ.")
  y <- if (freq) x$counts else x$intensities
  nB <- length(x$breaks)
  rect(x$breaks[-nB], 0, x$breaks[-1], y,
       col = col, border = border, lty = lty)
  invisible()
}
 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Mon Jul 10 09:43:10 2000
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Mon, 10 Jul 2000 10:43:10 +0200 (CEST)
Subject: [Rd] Modified Histogram functions
In-Reply-To: <Pine.OSF.4.05.10007092108130.14507-100000@alnair.uio.no>
References: <Pine.OSF.4.05.10007092108130.14507-100000@alnair.uio.no>
Message-ID: <14697.35998.939655.91419@gargle.gargle.HOWL>

>>>>> "Kjetil" == Kjetil Kjernsmo <kjetil.kjernsmo@astro.uio.no> writes:

    Kjetil> Dear all, I have done further modifications on the histogram
    Kjetil> functions that I reported earlier this year, and I hope this
    Kjetil> can be of use and perhaps included in the distribution. I have
    Kjetil> been using this stuff a couple of months myself, and while it
    Kjetil> is nothing sophisticated, it has it's applications. :-) I did a
    Kjetil> few small modifications today to make it a bit more compact.

    Kjetil> I have modified the hist.default() function so that the list it
    Kjetil> returns has class "histogram". I have put the plotting in a
    Kjetil> separate function, plot.histogram(), which is called from
    Kjetil> hist.default if plot=T, and I have made a lines.histogram()
    Kjetil> (calling it "lines", is that a wise choice? It seemed most
    Kjetil> natural, but then again....), which can be used to overlay
    Kjetil> histograms on existing histograms. Here it is obviously a lot
    Kjetil> of room for improvement. E.g. calling plot.histogram() with
    Kjetil> multiple histogram objects could produce a plot where coloumns
    Kjetil> representing the same values are grouped, I haven't addressed
    Kjetil> that. The code is below my .sig.

Your main idea is great and something we (people here) 
have been considering to do as well.

I'd definitely want to put something along these lines into base R.
Please, "everyone chime in!"

    Kjetil> As you can see, there are few changes from your code. The
    Kjetil> biggest change is that hist.default() calls plot.histogram()
    Kjetil> (or rather plot()). Also note that the warning about wrong
    Kjetil> areas only appears in hist.default(). I figured that the user
    Kjetil> is most likely created the histogram object with hist, so s/he
    Kjetil> might no want to be bothered with this warning again. I don't
    Kjetil> know if this is wise, s/he might just have forgotten or
    Kjetil> something. :-)

    Kjetil> I guess plot.histogram() may also be made more compact by
    Kjetil> calling lines.histogram() to plot the actual rects, but I
    Kjetil> didn't find a practical way of doing this, so I didn't... :-)
    Kjetil> And, contrary to the other functions making histogram plots,
    Kjetil> lines.histogram() does take lty as an argument (useful for
    Kjetil> making dotted borders, to separate one histogram from another,
    Kjetil> particulary useful when using colors).

    Kjetil> I've got a function for adding two similar histograms as well,
    Kjetil> but that's so hacked up I guess it isn't worth much.

    Kjetil> BTW, I found a typo in the help for rect: xpd: logical
    Kjetil> (``expand''); if `FLASE', everything is clipped to the plot
    Kjetil> region.

    Kjetil> Hope this is useful for someone... :-)

certainly, thanks a lot!

	   <.... sig and code snipped ....>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Prof Brian Ripley <ripley@stats.ox.ac.uk>  Mon Jul 10 14:36:51 2000
From: Prof Brian Ripley <ripley@stats.ox.ac.uk> (Prof Brian Ripley)
Date: Mon, 10 Jul 2000 14:36:51 +0100 (BST)
Subject: [Rd] dim(a <- ...) sets invisible flag erronously (PR#587)
Message-ID: <200007101336.OAA12626@toucan.stats.ox.ac.uk>


> Date: Fri, 30 Jun 2000 20:15:51 +0200 (MET DST)
> From: maechler@stat.math.ethz.ch
> To: r-devel@stat.math.ethz.ch
> Subject: [Rd] dim(a <- ...) sets invisible flag erronously (PR#587)
> CC: R-bugs@biostat.ku.dk
> X-Loop: R-bugs@biostat.ku.dk
> 
> {Nothing really harmful;  R 1.1.0}
> 
> dim(.) sets (or doesn't clear) the  ``invisible flag'' for printing in
> certain circumstances:
> 
>   > dim(a <- cbind(1))
>   >
> 
> does *not* print as it should :
> 
>   > dim(a)
>   [1] 1 1

This is nothing to do with dim: any function will do this.

> foo <- function(x) x
> foo(a <- cbind(1))

It happens because the way invisible is implemented is different in R and S:
in S there is a .Auto.print var in frame 1, and in R there is a global
variable R_visible, so anything during the evaluation that unsets the
flag will ensure that the result is invisible.

I don't see how to avoid this without checking the `depth' in the evaluation
pretty carefully (and R's semantics differ from those of S in that
braced expressions do not generate a frame).

Is this worth fixing?  print(.Last.value) works all the time, and perhaps
you might be persuaded not to write code that uses assignments as arguments?

> ---
> 
> Question to the real "hackers" :
> 
> How can I check this using R code alone (not using files),
> i.e. (how) can I ask an R expression if its ``invisible flag'' is set or not ?
> 
> {help(invisible) doesn't help here}.
> 
> Maybe one would want an
> 
>       is.invisible(.)
> 
> function?

There seems to be an unused internal function do_visibleflag in print.c.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rnassar@duke.edu  Tue Jul 11 00:54:53 2000
From: rnassar@duke.edu (rnassar@duke.edu)
Date: Tue, 11 Jul 2000 01:54:53 +0200 (MET DST)
Subject: [Rd] help page typos (PR#599)
Message-ID: <200007102354.BAA23288@pubhealth.ku.dk>

A couple of help page typos that I came across:

1. 
help(sample)

Arguments:

       x: Either a (numeric, complex, character or logical) vector of
          more than one elements from which to choose, or a positive
                               ^
                       [element] 

2. 
help(delay)

Description:

     `delay' creates a promise to evaluate the given expression in the
     specifies environment if its value is requested. This provides
             ^
    [specified]

Many thanks for R.

Rashid Nassar


--please do not edit the information below--

Version:
 platform = i586-pc-linux-gnu
 arch = i586
 os = linux-gnu
 system = i586, linux-gnu
 status = Patched
 major = 1
 minor = 1.0
 year = 2000
 month = July
 day = 1
 language = R

Search Path:
 .GlobalEnv, package:mva, package:cluster, Autoloads, package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Jul 11 08:01:18 2000
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 11 Jul 2000 08:01:18 +0100 (BST)
Subject: [Rd] help page typos (PR#599)
In-Reply-To: <200007102354.BAA23288@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.05.10007110800510.17317-100000@auk.stats>

Changed for the patched distribution, thank you.

On Tue, 11 Jul 2000 rnassar@duke.edu wrote:

> A couple of help page typos that I came across:
> 
> 1. 
> help(sample)
> 
> Arguments:
> 
>        x: Either a (numeric, complex, character or logical) vector of
>           more than one elements from which to choose, or a positive
>                                ^
>                        [element] 
> 
> 2. 
> help(delay)
> 
> Description:
> 
>      `delay' creates a promise to evaluate the given expression in the
>      specifies environment if its value is requested. This provides
>              ^
>     [specified]
> 
> Many thanks for R.
> 
> Rashid Nassar
> 
> 
> --please do not edit the information below--
> 
> Version:
>  platform = i586-pc-linux-gnu
>  arch = i586
>  os = linux-gnu
>  system = i586, linux-gnu
>  status = Patched
>  major = 1
>  minor = 1.0
>  year = 2000
>  month = July
>  day = 1
>  language = R
> 
> Search Path:
>  .GlobalEnv, package:mva, package:cluster, Autoloads, package:base
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Tue Jul 11 09:38:34 2000
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Tue, 11 Jul 2000 10:38:34 +0200 (MET DST)
Subject: [Rd] help page typos (PR#599)
Message-ID: <200007110838.KAA24920@pubhealth.ku.dk>


>>>>> "RNa" == Rashid Nassar <rnassar@duke.edu> writes:

    RNa> A couple of help page typos that I came across: 1.  help(sample)

Very astonishing.  
These typos are *not* in the current version of R.

Your (re-installation) must have been semi-broken or something....

    RNa> Arguments:

    RNa>        x: Either a (numeric, complex, character or logical) vector
    RNa> of more than one elements from which to choose, or a positive ^
    RNa> [element]

    RNa> 2.  help(delay)

    RNa> Description:

    RNa>      `delay' creates a promise to evaluate the given expression in
    RNa> the specifies environment if its value is requested. This provides
    RNa> ^ [specified]

    RNa> Many thanks for R.

    RNa> Rashid Nassar


    RNa> --please do not edit the information below--

    RNa> Version: platform = i586-pc-linux-gnu arch = i586 os = linux-gnu
    RNa> system = i586, linux-gnu status = Patched major = 1 minor = 1.0
    RNa> year = 2000 month = July day = 1 language = R

    RNa> Search Path: .GlobalEnv, package:mva, package:cluster, Autoloads,
    RNa> package:base


    RNa> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
    RNa> r-devel mailing list -- Read
    RNa> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info",
    RNa> "help", or "[un]subscribe" (in the "body", not the subject !)  To:
    RNa> r-devel-request@stat.math.ethz.ch
    RNa> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Tue Jul 11 09:43:12 2000
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Tue, 11 Jul 2000 10:43:12 +0200 (MET DST)
Subject: [Rd] help page typos (PR#599)
Message-ID: <200007110843.KAA25014@pubhealth.ku.dk>


>>>>> "RNa" == Rashid Nassar <rnassar@duke.edu> writes:

    RNa> A couple of help page typos that I came across: 1.  help(sample)

MM>> Very astonishing.  
MM>> These typos are *not* in the current version of R.
MM>> 
MM>> Your (re-installation) must have been semi-broken or something....

Fooled myself!  Excuse me, I'm using too many versions of R...

I'm sorry for that, and 
thanks for reporting these!

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kreft@Cardiff.ac.uk  Tue Jul 11 15:06:26 2000
From: Kreft@Cardiff.ac.uk (Jan Kreft)
Date: Tue, 11 Jul 2000 15:06:26 +0100 (BST)
Subject: [Rd] Help: R seg faults
Message-ID: <Pine.OSF.4.10.10007111505440.9847-100000@thor>

Dear list,

I hope this is the right forum to ask. I have just downloaded and compiled
R, but I get a segfault after I start R.

make, make test/check, went OK.

My system is
linux-2.2.13
glibc-2.1.3
gcc 2.95.2
R-1.1.0

Here is a backtrace from gdb:

(gdb) file /usr/local/lib/R/bin/R.bin
Reading symbols from /usr/local/lib/R/bin/R.bin...done.
(gdb) run
Starting program: /usr/local/lib/R/bin/R.bin 

R : Copyright 2000, The R Development Core Team
Version 1.1.0  (June 15, 2000)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type    "?license" or "?licence" for distribution details.

R is a collaborative project with many contributors.
Type    "?contributors" for a list.

Type    "demo()" for some demos, "help()" for on-line help, or
        "help.start()" for a HTML browser interface to help.
Type    "q()" to quit R.


Program received signal SIGSEGV, Segmentation fault.
0x400da7bc in _IO_fflush (fp=0x819ecd8) at iofflush.c:41
41            result = _IO_SYNC (fp) ? EOF : 0;
(gdb) bt
#0  0x400da7bc in _IO_fflush (fp=0x819ecd8) at iofflush.c:41
#1  0x8122165 in rl_prep_terminal (meta_flag=0) at rltty.c:555
#2  0x811cb08 in _rl_callback_newline () at callback.c:76
#3  0x811cb4a in rl_callback_handler_install (prompt=0x4093c210 "> ", linefunc=0x80e8798 <readline_handler>) at callback.c:95
#4  0x80e89b5 in Rstd_ReadConsole (prompt=0x4093c210 "> ", buf=0xbfffeedc "", len=1024, addtohistory=1) at ../../../R-1.1.0/src/unix/sys-std.c:357
#5  0x80e6b2e in R_ReadConsole (prompt=0x4093c210 "> ", buf=0xbfffeedc "", len=1024, addtohistory=1) at ../../../R-1.1.0/src/unix/system.c:66
#6  0x8097d78 in R_ReplConsole (rho=0x40296338, savestack=0, browselevel=0) at ../../../R-1.1.0/src/main/main.c:128
#7  0x80985e2 in run_Rmainloop () at ../../../R-1.1.0/src/main/main.c:454
#8  0x8098620 in Rf_mainloop () at ../../../R-1.1.0/src/main/main.c:468
#9  0x80e715a in main (ac=0, av=0xbffff7f4) at ../../../R-1.1.0/src/unix/system.c:222

Cheers, Jan.

Jan Kreft                               Phone  +44 (0)29 20875278
Cardiff School of Biosciences           Fax    +44 (0)29 20874305
Cardiff	University                      E-mail Kreft@cardiff.ac.uk
PO Box 915, Cardiff CF10 3TL, UK


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Jul 11 17:14:48 2000
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 11 Jul 2000 17:14:48 +0100 (BST)
Subject: [Rd] Help: R seg faults
In-Reply-To: <Pine.OSF.4.10.10007111505440.9847-100000@thor>
Message-ID: <Pine.GSO.4.05.10007111706390.17580-100000@auk.stats>

On Tue, 11 Jul 2000, Jan Kreft wrote:

> Dear list,
> 
> I hope this is the right forum to ask. I have just downloaded and compiled
> R, but I get a segfault after I start R.

That segfault is from readline, not R itself.

> make, make test/check, went OK.
> 
> My system is
> linux-2.2.13
> glibc-2.1.3
> gcc 2.95.2
> R-1.1.0

and where did you get readline from? (Is this some Linux distribution?)

> Here is a backtrace from gdb:
> 
> (gdb) file /usr/local/lib/R/bin/R.bin
> Reading symbols from /usr/local/lib/R/bin/R.bin...done.
> (gdb) run
> Starting program: /usr/local/lib/R/bin/R.bin 
> 
> R : Copyright 2000, The R Development Core Team
> Version 1.1.0  (June 15, 2000)
> 
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type    "?license" or "?licence" for distribution details.
> 
> R is a collaborative project with many contributors.
> Type    "?contributors" for a list.
> 
> Type    "demo()" for some demos, "help()" for on-line help, or
>         "help.start()" for a HTML browser interface to help.
> Type    "q()" to quit R.
> 
> 
> Program received signal SIGSEGV, Segmentation fault.
> 0x400da7bc in _IO_fflush (fp=0x819ecd8) at iofflush.c:41
> 41            result = _IO_SYNC (fp) ? EOF : 0;
> (gdb) bt
> #0  0x400da7bc in _IO_fflush (fp=0x819ecd8) at iofflush.c:41
> #1  0x8122165 in rl_prep_terminal (meta_flag=0) at rltty.c:555
> #2  0x811cb08 in _rl_callback_newline () at callback.c:76
> #3  0x811cb4a in rl_callback_handler_install (prompt=0x4093c210 "> ", linefunc=0x80e8798 <readline_handler>) at callback.c:95
> #4  0x80e89b5 in Rstd_ReadConsole (prompt=0x4093c210 "> ", buf=0xbfffeedc "", len=1024, addtohistory=1) at ../../../R-1.1.0/src/unix/sys-std.c:357
> #5  0x80e6b2e in R_ReadConsole (prompt=0x4093c210 "> ", buf=0xbfffeedc "", len=1024, addtohistory=1) at ../../../R-1.1.0/src/unix/system.c:66
> #6  0x8097d78 in R_ReplConsole (rho=0x40296338, savestack=0, browselevel=0) at ../../../R-1.1.0/src/main/main.c:128
> #7  0x80985e2 in run_Rmainloop () at ../../../R-1.1.0/src/main/main.c:454
> #8  0x8098620 in Rf_mainloop () at ../../../R-1.1.0/src/main/main.c:468
> #9  0x80e715a in main (ac=0, av=0xbffff7f4) at ../../../R-1.1.0/src/unix/system.c:222

Thanks for the detail, which enables me to guess at how to solve this....

Suggestions:

(1) configure with --without-readline and see if that works (it
should, since make check does).  You `just' lose the command-line history.

(2) Compile the current readline sources yourself and use that, building
from scratch. In so far as your spec looks like RH6.2 with gcc-2.95.2 added
(from memory), that has a good chance to work as it did for me. It might
matter that readline is compiled with the same compiler as R.  (I know it
should not, but RH6.2 seems to have some problems making dynamic libraries
with the supplied egcs.)


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kreft@Cardiff.ac.uk  Tue Jul 11 18:10:32 2000
From: Kreft@Cardiff.ac.uk (Jan Kreft)
Date: Tue, 11 Jul 2000 18:10:32 +0100 (BST)
Subject: [Rd] Help: R seg faults
In-Reply-To: <Pine.GSO.4.05.10007111706390.17580-100000@auk.stats>
Message-ID: <Pine.OSF.4.10.10007111805280.9847-100000@thor>

Thanks,

that's it. Configuring --without-readline avoids the problem. Will now get
a new version of readline and see if I can make it work. Can't figure out
which version of readline I have, though I found two identical copies of
the readline dir, one in /usr/include and one in /usr/local/include.

My system was a long time ago SuSE linux 6.1, but I have made many
changes, such as glibc, gcc, kernel.

Thanks again, Jan.

On Tue, 11 Jul 2000, Prof Brian D Ripley wrote:

> On Tue, 11 Jul 2000, Jan Kreft wrote:
> 
> > Dear list,
> > 
> > I hope this is the right forum to ask. I have just downloaded and compiled
> > R, but I get a segfault after I start R.
> 
> That segfault is from readline, not R itself.
> 
> > make, make test/check, went OK.
> > 
> > My system is
> > linux-2.2.13
> > glibc-2.1.3
> > gcc 2.95.2
> > R-1.1.0
> 
> and where did you get readline from? (Is this some Linux distribution?)
> 
> > Here is a backtrace from gdb:
> > 
> > (gdb) file /usr/local/lib/R/bin/R.bin
> > Reading symbols from /usr/local/lib/R/bin/R.bin...done.
> > (gdb) run
> > Starting program: /usr/local/lib/R/bin/R.bin 
> > 
> > R : Copyright 2000, The R Development Core Team
> > Version 1.1.0  (June 15, 2000)
> > 
> > R is free software and comes with ABSOLUTELY NO WARRANTY.
> > You are welcome to redistribute it under certain conditions.
> > Type    "?license" or "?licence" for distribution details.
> > 
> > R is a collaborative project with many contributors.
> > Type    "?contributors" for a list.
> > 
> > Type    "demo()" for some demos, "help()" for on-line help, or
> >         "help.start()" for a HTML browser interface to help.
> > Type    "q()" to quit R.
> > 
> > 
> > Program received signal SIGSEGV, Segmentation fault.
> > 0x400da7bc in _IO_fflush (fp=0x819ecd8) at iofflush.c:41
> > 41            result = _IO_SYNC (fp) ? EOF : 0;
> > (gdb) bt
> > #0  0x400da7bc in _IO_fflush (fp=0x819ecd8) at iofflush.c:41
> > #1  0x8122165 in rl_prep_terminal (meta_flag=0) at rltty.c:555
> > #2  0x811cb08 in _rl_callback_newline () at callback.c:76
> > #3  0x811cb4a in rl_callback_handler_install (prompt=0x4093c210 "> ", linefunc=0x80e8798 <readline_handler>) at callback.c:95
> > #4  0x80e89b5 in Rstd_ReadConsole (prompt=0x4093c210 "> ", buf=0xbfffeedc "", len=1024, addtohistory=1) at ../../../R-1.1.0/src/unix/sys-std.c:357
> > #5  0x80e6b2e in R_ReadConsole (prompt=0x4093c210 "> ", buf=0xbfffeedc "", len=1024, addtohistory=1) at ../../../R-1.1.0/src/unix/system.c:66
> > #6  0x8097d78 in R_ReplConsole (rho=0x40296338, savestack=0, browselevel=0) at ../../../R-1.1.0/src/main/main.c:128
> > #7  0x80985e2 in run_Rmainloop () at ../../../R-1.1.0/src/main/main.c:454
> > #8  0x8098620 in Rf_mainloop () at ../../../R-1.1.0/src/main/main.c:468
> > #9  0x80e715a in main (ac=0, av=0xbffff7f4) at ../../../R-1.1.0/src/unix/system.c:222
> 
> Thanks for the detail, which enables me to guess at how to solve this....
> 
> Suggestions:
> 
> (1) configure with --without-readline and see if that works (it
> should, since make check does).  You `just' lose the command-line history.
> 
> (2) Compile the current readline sources yourself and use that, building
> from scratch. In so far as your spec looks like RH6.2 with gcc-2.95.2 added
> (from memory), that has a good chance to work as it did for me. It might
> matter that readline is compiled with the same compiler as R.  (I know it
> should not, but RH6.2 seems to have some problems making dynamic libraries
> with the supplied egcs.)
> 
> 
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kreft@Cardiff.ac.uk  Tue Jul 11 18:47:41 2000
From: Kreft@Cardiff.ac.uk (Jan Kreft)
Date: Tue, 11 Jul 2000 18:47:41 +0100 (BST)
Subject: [Rd] Help: R seg faults
In-Reply-To: <Pine.OSF.4.10.10007111805280.9847-100000@thor>
Message-ID: <Pine.OSF.4.10.10007111845480.9847-100000@thor>

OK,

just installed new readline-4.1 and recompiled and R works fine with
history. What a relief!

Cheers, Jan.

On Tue, 11 Jul 2000, Jan Kreft wrote:

> Thanks,
> 
> that's it. Configuring --without-readline avoids the problem. Will now get
> a new version of readline and see if I can make it work. Can't figure out
> which version of readline I have, though I found two identical copies of
> the readline dir, one in /usr/include and one in /usr/local/include.
> 
> My system was a long time ago SuSE linux 6.1, but I have made many
> changes, such as glibc, gcc, kernel.
> 
> Thanks again, Jan.
> 
> On Tue, 11 Jul 2000, Prof Brian D Ripley wrote:
> 
> > On Tue, 11 Jul 2000, Jan Kreft wrote:
> > 
> > > Dear list,
> > > 
> > > I hope this is the right forum to ask. I have just downloaded and compiled
> > > R, but I get a segfault after I start R.
> > 
> > That segfault is from readline, not R itself.
> > 
> > > make, make test/check, went OK.
> > > 
> > > My system is
> > > linux-2.2.13
> > > glibc-2.1.3
> > > gcc 2.95.2
> > > R-1.1.0
> > 
> > and where did you get readline from? (Is this some Linux distribution?)
> > 
> > > Here is a backtrace from gdb:
> > > 
> > > (gdb) file /usr/local/lib/R/bin/R.bin
> > > Reading symbols from /usr/local/lib/R/bin/R.bin...done.
> > > (gdb) run
> > > Starting program: /usr/local/lib/R/bin/R.bin 
> > > 
> > > R : Copyright 2000, The R Development Core Team
> > > Version 1.1.0  (June 15, 2000)
> > > 
> > > R is free software and comes with ABSOLUTELY NO WARRANTY.
> > > You are welcome to redistribute it under certain conditions.
> > > Type    "?license" or "?licence" for distribution details.
> > > 
> > > R is a collaborative project with many contributors.
> > > Type    "?contributors" for a list.
> > > 
> > > Type    "demo()" for some demos, "help()" for on-line help, or
> > >         "help.start()" for a HTML browser interface to help.
> > > Type    "q()" to quit R.
> > > 
> > > 
> > > Program received signal SIGSEGV, Segmentation fault.
> > > 0x400da7bc in _IO_fflush (fp=0x819ecd8) at iofflush.c:41
> > > 41            result = _IO_SYNC (fp) ? EOF : 0;
> > > (gdb) bt
> > > #0  0x400da7bc in _IO_fflush (fp=0x819ecd8) at iofflush.c:41
> > > #1  0x8122165 in rl_prep_terminal (meta_flag=0) at rltty.c:555
> > > #2  0x811cb08 in _rl_callback_newline () at callback.c:76
> > > #3  0x811cb4a in rl_callback_handler_install (prompt=0x4093c210 "> ", linefunc=0x80e8798 <readline_handler>) at callback.c:95
> > > #4  0x80e89b5 in Rstd_ReadConsole (prompt=0x4093c210 "> ", buf=0xbfffeedc "", len=1024, addtohistory=1) at ../../../R-1.1.0/src/unix/sys-std.c:357
> > > #5  0x80e6b2e in R_ReadConsole (prompt=0x4093c210 "> ", buf=0xbfffeedc "", len=1024, addtohistory=1) at ../../../R-1.1.0/src/unix/system.c:66
> > > #6  0x8097d78 in R_ReplConsole (rho=0x40296338, savestack=0, browselevel=0) at ../../../R-1.1.0/src/main/main.c:128
> > > #7  0x80985e2 in run_Rmainloop () at ../../../R-1.1.0/src/main/main.c:454
> > > #8  0x8098620 in Rf_mainloop () at ../../../R-1.1.0/src/main/main.c:468
> > > #9  0x80e715a in main (ac=0, av=0xbffff7f4) at ../../../R-1.1.0/src/unix/system.c:222
> > 
> > Thanks for the detail, which enables me to guess at how to solve this....
> > 
> > Suggestions:
> > 
> > (1) configure with --without-readline and see if that works (it
> > should, since make check does).  You `just' lose the command-line history.
> > 
> > (2) Compile the current readline sources yourself and use that, building
> > from scratch. In so far as your spec looks like RH6.2 with gcc-2.95.2 added
> > (from memory), that has a good chance to work as it did for me. It might
> > matter that readline is compiled with the same compiler as R.  (I know it
> > should not, but RH6.2 seems to have some problems making dynamic libraries
> > with the supplied egcs.)
> > 
> > 
> > -- 
> > Brian D. Ripley,                  ripley@stats.ox.ac.uk
> > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > University of Oxford,             Tel:  +44 1865 272861 (self)
> > 1 South Parks Road,                     +44 1865 272860 (secr)
> > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> > 
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> > 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From john.maindonald@anu.edu.au  Wed Jul 12 05:41:45 2000
From: john.maindonald@anu.edu.au (john.maindonald@anu.edu.au)
Date: Wed, 12 Jul 2000 06:41:45 +0200 (MET DST)
Subject: [Rd] Faulty handling of aliasing in predict.lm; wrong constant (PR#600)
Message-ID: <200007120441.GAA00112@pubhealth.ku.dk>

There are several residual problems in predict.lm
(1) The constant is wrongly set; it should be the mean
of the values of the y-variable.
(2) Standard errors are wrongly calculated when columns
of X are aliased, or when part of a term is aliased.
(3) There is an associated column labelling issue.

I have sent Thomas Lumley code that fixes these problems,
and replaces looping by rows with matrix operations.

There is an issue of whether predicted values should be
set to zero or to NA for terms that are totally aliased.

> "xx" <-
+ structure(list(fac1 = structure(c(1, 2, 3, 1, 2, 3, 1, 2, 3, 
+ 1, 2, 3, 1, 2, 3, 1, 2, 3), .Label = c("1", "2", "3"), class = "factor"), 
+     fac2 = structure(c(1, 2, 2, 1, 2, 2, 1, 2, 2, 1, 3, 3, 1, 
+     3, 3, 1, 3, 3), .Label = c("1", "2", "3"), class = "factor"), 
+     x1 = c(2, 6, 6, 8, 8, 10, 16, 6, 2, 6, 18, 4, 10, 6, 4, 10, 
+     14, 4), x2 = c(6, 25, 9, 8, 31, 29, 40, 8, 8, 6, 21, 20, 
+     22, 5, 15, 30, 22, 10), alias = c(7, 28, 12, 12, 35, 34, 
+     48, 11, 9, 9, 30, 22, 27, 8, 17, 35, 29, 12), x4 = c(16, 
+     48, 34, 46, 62, 73, 205, 36, 30, 40, 193, 43, 65, 44, 27, 
+     72, 98, 17), y = c(27, 103, 38, 35, 126, 119, 311, 34, 34, 
+     28, 95, 82, 92, 22, 62, 124, 94, 41)), .Names = c("fac1", 
+ "fac2", "x1", "x2", "alias", "x4", "y"), row.names = c("1", "2", 
+ "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", 
+ "15", "16", "17", "18"), class = "data.frame")
> 
> # fac2 is partly aliased with fac1
> # alias is aliased with x1 and x2
> 
> xx
   fac1 fac2 x1 x2 alias  x4   y
1     1    1  2  6     7  16  27
2     2    2  6 25    28  48 103
3     3    2  6  9    12  34  38
4     1    1  8  8    12  46  35
5     2    2  8 31    35  62 126
6     3    2 10 29    34  73 119
7     1    1 16 40    48 205 311
8     2    2  6  8    11  36  34
9     3    2  2  8     9  30  34
10    1    1  6  6     9  40  28
11    2    3 18 21    30 193  95
12    3    3  4 20    22  43  82
13    1    1 10 22    27  65  92
14    2    3  6  5     8  44  22
15    3    3  4 15    17  27  62
16    1    1 10 30    35  72 124
17    2    3 14 22    29  98  94
18    3    3  4 10    12  17  41
> xx.lm<-lm(y~x1+x2+alias+x4,data=xx)
> coef(xx.lm)
(Intercept)          x1          x2       alias          x4 
 -1.9862799  -7.9406705   4.6773165          NA   0.9931177 
> xx0.lm<-lm(y~x1+x2+x4,data=xx)
> 
> predict(xx0.lm,se=T)$se[1:2]
[1] 9.874704 8.793774
> predict(xx.lm,se=T)$se[1:2]    # Should be the same as above
[1] 10.939605  9.329757
> 
> predict(xx.lm,type="terms")[1:2,]
        x1        x2     alias x4
1 45.87943 -53.78914 -47.50413 NA
2 14.11675  35.07987 -15.72436 NA
> 
> attributes(predict(xx.lm,type="terms"))$constant
(Intercept) 
   -1.98628 
> 
> predict(xx0.lm,type="terms",se=T)$se[1:2,]
         x1       x2        x4
1 17.820298 7.791400 12.783126
2  5.483169 5.081348  4.231348
> predict(xx.lm,type="terms",se=T)$se[1:2,]  # Should be the same as above
            x1           x2     alias x4
1 9.613248e+15 3.826812e+16 12.797489 NA
2 2.957923e+15 2.495747e+16  4.236103 NA
> 
> xx
   fac1 fac2 x1 x2 alias  x4   y
1     1    1  2  6     7  16  27
2     2    2  6 25    28  48 103
3     3    2  6  9    12  34  38
4     1    1  8  8    12  46  35
5     2    2  8 31    35  62 126
6     3    2 10 29    34  73 119
7     1    1 16 40    48 205 311
8     2    2  6  8    11  36  34
9     3    2  2  8     9  30  34
10    1    1  6  6     9  40  28
11    2    3 18 21    30 193  95
12    3    3  4 20    22  43  82
13    1    1 10 22    27  65  92
14    2    3  6  5     8  44  22
15    3    3  4 15    17  27  62
16    1    1 10 30    35  72 124
17    2    3 14 22    29  98  94
18    3    3  4 10    12  17  41



--please do not edit the information below--

Version:
 platform = Windows
 arch = x86
 os = Win32
 system = x86, Win32
 status = 
 major = 1
 minor = 1.0
 year = 2000
 month = June
 day = 15
 language = R

Windows 9x 4.10 (build 2222)  A 

Search Path:
 .GlobalEnv, Autoloads, package:base
John Maindonald               email : john.maindonald@anu.edu.au        
Statistical Consulting Unit,  phone : (6249)3998        
c/o CMA, SMS,                 fax   : (6249)5549  
John Dedman Mathematical Sciences Building
Australian National University
Canberra ACT 0200
Australia


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From john.maindonald@anu.edu.au  Wed Jul 12 06:50:47 2000
From: john.maindonald@anu.edu.au (john.maindonald@anu.edu.au)
Date: Wed, 12 Jul 2000 07:50:47 +0200 (MET DST)
Subject: [Rd] plot.times error -- missing or illegal tck parameter (PR#601)
Message-ID: <200007120550.HAA00294@pubhealth.ku.dk>

There seems no default setting for tck, causing problems
for plot.times()

> library(chron)
> dts <- dates(c("02/27/92", "02/27/92", "01/14/92",
+                "02/28/92", "02/01/92"))
> y<-chron(dts,out.format=c("dmy","h:m:s"))
> y
[1] 270292 270292 140192 280292 010292
> plot(y,1:5)
Error in axis(n, at = at.x, labels = labels, ...) : 
        invalid value specified for graphics parameter "tck".
> plot(y,1:5,tck=0.01)
> traceback()
[1] "axis(n, at = at.x, labels = labels, ...)"                     
[2] "axis.times(1, x, simplify = simplify, labels = T, adj = adj, "
[3] "    col = col, cex = cex, font = font, las = las, lab = lab, "
[4] "    mgp = mgp, tck = tck)"                                    
[5] "plot.times(y, 1:5)"                                           
[6] "plot(y, 1:5)"                                                 
> par()$tck
[1] NA


--please do not edit the information below--

Version:
 platform = Windows
 arch = x86
 os = Win32
 system = x86, Win32
 status = 
 major = 1
 minor = 1.0
 year = 2000
 month = June
 day = 15
 language = R

Windows 9x 4.10 (build 2222)  A 

Search Path:
 .GlobalEnv, package:chron, Autoloads, package:base

John Maindonald               email : john.maindonald@anu.edu.au        
Statistical Consulting Unit,  phone : (6249)3998        
c/o CMA, SMS,                 fax   : (6249)5549  
John Dedman Mathematical Sciences Building
Australian National University
Canberra ACT 0200
Australia


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Wed Jul 12 07:19:10 2000
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Wed, 12 Jul 2000 08:19:10 +0200 (MET DST)
Subject: [Rd] plot.times error -- missing or illegal tck parameter (PR#601)
Message-ID: <200007120619.IAA00417@pubhealth.ku.dk>

>>>>> "JMd" == john maindonald <john.maindonald@anu.edu.au> writes:

    JMd> There seems no default setting for tck, causing problems
    JMd> for plot.times()

    >> library(chron)
    >> dts <- dates(c("02/27/92", "02/27/92", "01/14/92",
       +                "02/28/92", "02/01/92"))
    >> y<-chron(dts,out.format=c("dmy","h:m:s"))
    >> y
       [1] 270292 270292 140192 280292 010292
    >> plot(y,1:5)
         Error in axis(n, at = at.x, labels = labels, ...) : 
         invalid value specified for graphics parameter "tck".
    >> plot(y,1:5,tck=0.01)
    >> traceback()
         [1] "axis(n, at = at.x, labels = labels, ...)"                     
         [2] "axis.times(1, x, simplify = simplify, labels = T, adj = adj, "
         [3] "    col = col, cex = cex, font = font, las = las, lab = lab, "
         [4] "    mgp = mgp, tck = tck)"                                    
         [5] "plot.times(y, 1:5)"                                           
         [6] "plot(y, 1:5)"                                                 
    >> par()$tck
         [1] NA

Well, the default must be NA since   ?par says

 help_par>     tck: The length of tick marks as a fraction of the smaller of the
 help_par>          width or height of the plotting region. If `tck=1', grid
 help_par>          lines are drawn. The default setting is to use `tcl=-0.5'
 help_par>          (see below).
 help_par> 
 help_par>     tcl: The length of tick marks as a fraction of the height of a
 help_par>          line of text.  The default value is `-0.5'.

which is different than other dialects of S on purpose!

So the bug is really in  plot.times only  which hasn't properly been
ported from S-PLUS to R.

Martin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Wed Jul 12 07:35:58 2000
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Wed, 12 Jul 2000 08:35:58 +0200 (MET DST)
Subject: [Rd] buglet in fix() [was "function via source or fix"] (PR#602)
Message-ID: <200007120635.IAA00523@pubhealth.ku.dk>

>>>>> "Erin" == Erin Hodgess <hodgess@uhddx01.dt.uh.edu> writes:

    Erin> Suppose I create a function, x.e, via the fix command:

(ESS users ESS don't ever do this, but still ...)

    >> x.e <- fix(x.e)

    Erin> When I type in x.e, the function code appears, along
    Erin> with the name/number of the environment.

Ok, in the above it was important that there's no *existing* object x.e 
beforehand.

Note that the idea about  fix() is that you only have to write

     fix(x.e)

But your problem remains :

    > fix(newerf)
    Waiting for Emacs...Done	--- I have  options(editor = "emacsclient")
    > newerf
    function ()
    {
    ## newer
    }
    <environment: 0x40862004>
    > environment(newerf)
    <environment: 0x40862004>
    > ls(env=environment(newerf))
    [1] "subx" "x"   
    >

I.e. it got the environment of the function fix -- I think this is clearly
a bug  CC'ed to  R-bugs

    Erin> However, if I create a function, y.e, and source it in, when
    Erin> I type in y.e, the function code only displays(no
    Erin> environment).

    Erin> Why is this, please?  (It's not a bug....I just wondered).

it *is* a bug, I think

    Erin> I am using R-1.1.0 for Windows.
same for Unix

    Erin> Thanks!
thank you for the report!

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Jul 12 09:05:09 2000
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 12 Jul 2000 09:05:09 +0100 (BST)
Subject: [Rd] buglet in fix() [was "function via source or fix"] (PR#602)
In-Reply-To: <200007120635.IAA00523@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.05.10007120858480.18731-100000@auk.stats>

On Wed, 12 Jul 2000 maechler@stat.math.ethz.ch wrote:

> >>>>> "Erin" == Erin Hodgess <hodgess@uhddx01.dt.uh.edu> writes:
> 
>     Erin> Suppose I create a function, x.e, via the fix command:
> 
> (ESS users ESS don't ever do this, but still ...)
> 
>     >> x.e <- fix(x.e)
> 
>     Erin> When I type in x.e, the function code appears, along
>     Erin> with the name/number of the environment.
> 
> Ok, in the above it was important that there's no *existing* object x.e 
> beforehand.
> 
> Note that the idea about  fix() is that you only have to write
> 
>      fix(x.e)
> 
> But your problem remains :
> 
>     > fix(newerf)
>     Waiting for Emacs...Done	--- I have  options(editor = "emacsclient")
>     > newerf
>     function ()
>     {
>     ## newer
>     }
>     <environment: 0x40862004>
>     > environment(newerf)
>     <environment: 0x40862004>
>     > ls(env=environment(newerf))
>     [1] "subx" "x"   
>     >
> 
> I.e. it got the environment of the function fix -- I think this is clearly
> a bug  CC'ed to  R-bugs

And the fix is easy: just add

environment(x) <- .GlobalEnv

in that branch of the if.  Now committed to the R-patched branch.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Torsten.Hothorn@rzmail.uni-erlangen.de  Wed Jul 12 09:39:26 2000
From: Torsten.Hothorn@rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Wed, 12 Jul 2000 10:39:26 +0200 (CEST)
Subject: [Rd] exact distributions
Message-ID: <Pine.LNX.4.21.0007121035060.30215-100000@artemis.imbe.med.uni-erlangen.de>


I just uploaded a new version of the prototype of the Streitberg-Roehmel
algorithm for the determination of exact distributions to cran. It works
without any optimization and has now examples how to compute the exact
Wilcoxon- and Ansari-Bradley distribution (and compares the results to
dwilcox and dansari from ctest in the untied case). 

Torsten  

 _______________________________________________________________________
|									|
|	Dipl.-Stat. Torsten Hothorn					|
|	Institut fuer Medizininformatik, Biometrie und Epidemiologie	|	
|	Waldstrasse 6, D-91054 Erlangen, Deutschland			|
|	Tel: ++49-9131-85-22707						|
|	Fax: ++49-9131-85-25740						|
|	Email: Torsten.Hothorn@rzmail.uni-erlangen.de			|
|_______________________________________________________________________|	

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Wed Jul 12 21:23:07 2000
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Wed, 12 Jul 2000 22:23:07 +0200
Subject: [Rd] plot.times error -- missing or illegal tck parameter (PR#601)
In-Reply-To: <200007120619.IAA00417@pubhealth.ku.dk>
References: <200007120619.IAA00417@pubhealth.ku.dk>
Message-ID: <200007122023.WAA05134@aragorn.ci.tuwien.ac.at>

>>>>> maechler  writes:

>>>>> "JMd" == john maindonald <john.maindonald@anu.edu.au> writes:
JMd> There seems no default setting for tck, causing problems
JMd> for plot.times()

>>> library(chron)
>>> dts <- dates(c("02/27/92", "02/27/92", "01/14/92",
>        +                "02/28/92", "02/01/92"))
>>> y<-chron(dts,out.format=c("dmy","h:m:s"))
>>> y
>        [1] 270292 270292 140192 280292 010292
>>> plot(y,1:5)
>          Error in axis(n, at = at.x, labels = labels, ...) : 
>          invalid value specified for graphics parameter "tck".
>>> plot(y,1:5,tck=0.01)
>>> traceback()
>          [1] "axis(n, at = at.x, labels = labels, ...)"                     
>          [2] "axis.times(1, x, simplify = simplify, labels = T, adj = adj, "
>          [3] "    col = col, cex = cex, font = font, las = las, lab = lab, "
>          [4] "    mgp = mgp, tck = tck)"                                    
>          [5] "plot.times(y, 1:5)"                                           
>          [6] "plot(y, 1:5)"                                                 
>>> par()$tck
>          [1] NA

> Well, the default must be NA since   ?par says

help_par> tck: The length of tick marks as a fraction of the smaller of the
help_par> width or height of the plotting region. If `tck=1', grid
help_par> lines are drawn. The default setting is to use `tcl=-0.5'
help_par> (see below).
help_par> 
help_par> tcl: The length of tick marks as a fraction of the height of a
help_par> line of text.  The default value is `-0.5'.

> which is different than other dialects of S on purpose!

> So the bug is really in  plot.times only  which hasn't properly been
> ported from S-PLUS to R.

Not sure if I understand this correctly.

* First of all, I don't think the documentation is clear.  It explains
what tck is and then says that the default for tcl is something.  And,
it does not say that the default for tck is NA.

* Secondly, are you saying that in R we should rather use tcl than tck
and hence tck does not have a default value?  What happens if both tcl
and tck are set?

* If this is an intentional difference, should it be listed in the FAQ?

Re the chron problem, are you suggesting to replace `tck' by `tcl' in
code such as

    if(is.null(tck <- dots$tck)) tck <- par("tck")

    axis.times(..., tck = tck)

?

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Wed Jul 12 21:23:07 2000
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Wed, 12 Jul 2000 22:23:07 +0200
Subject: [Rd] Re: [R] Compiling R on RS6000 AIX 4.3
In-Reply-To: <Pine.GSO.4.21.0007120757050.10755-100000@atlas.biostat.washington.edu>
References: <14700.14074.532567.886857@gargle.gargle.HOWL>
 <Pine.GSO.4.21.0007120757050.10755-100000@atlas.biostat.washington.edu>
Message-ID: <200007122023.WAA05135@aragorn.ci.tuwien.ac.at>

>>>>> Thomas Lumley writes:

> On Wed, 12 Jul 2000, Martin Maechler wrote:
>> >>>>> "Peter" == Peter Cameron <peter.cameron@enscitech.com> writes:
>> 
Peter> I've been searching through the R help archives and came across
Peter> only one AIX compilation question in March, which received no
Peter> public responses. I'm currently having the same problems with
Peter> the "Illegal instruction" and core dump of running R 1.0.1 on
Peter> AIX 4.3.
>> 
Peter> Firstly, the R distribution was missing some FORTRAN routines,
>> No!
>> You didn't search enough.

> I think it's more complicated than that.  The last time I tried
> compiling R on AIX there was a configure problem with the BLAS
> functions.  The library libblas existed but the functions had the
> wrong names (due to differences in use of underscores by fortran
> compilers). This meant that R didn't compile its own BLAS but couldn't
> link to the system one either. I thought this had been fixed, though.

> I got it to work using gcc/g77 and compiling --without-blas.  I don't
> know if the people at CMU who use AIX have more options that work.

> There is a real problem with some C/Fortran combinations on AIX.

Hmm.  Is the problem still there in release-patched?

We have

	if test "${r_cv_prog_f77_append_underscore}" = yes; then
	  fun=dgemm_
	else
	  fun=dgemm
	fi

and then

	if test -n "${BLAS}" && ${use_blas}; then
	  AC_CHECK_LIB(blas, ${fun},
	    [ FLIBS="-lblas ${FLIBS}" BLAS=""
	      if ${use_blas_risc}; then
	        AC_CHECK_LIB(blas_risc, main,
		  FLIBS="-lblas_risc ${FLIBS}", , ${FLIBS})
	      fi
	    ], ,
	    ${FLIBS})
	fi

so if the test whether the Fortran compiler appends underscores worked
o.k. then we should be checking for the correct symbol.

So, what is wrong?

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rnassar@duke.edu  Thu Jul 13 00:13:20 2000
From: rnassar@duke.edu (rnassar@duke.edu)
Date: Thu, 13 Jul 2000 01:13:20 +0200 (MET DST)
Subject: [Rd] pairs(), "cex" argument has no effect (PR#603)
Message-ID: <200007122313.BAA06079@pubhealth.ku.dk>

Dear R Team,

pairs():   "cex", "cex.axis", "cex.label" arguments do not seem to have an
effect.  I am submitting this report in case they were inteded to.

Thank you.

Rashid Nassar

--please do not edit the information below--

Version:
 platform = i586-pc-linux-gnu
 arch = i586
 os = linux-gnu
 system = i586, linux-gnu
 status = Patched
 major = 1
 minor = 1.0
 year = 2000
 month = July
 day = 1
 language = R

Search Path:
 .GlobalEnv, package:mva, Autoloads, package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rnassar@duke.edu  Thu Jul 13 01:08:16 2000
From: rnassar@duke.edu (rnassar@duke.edu)
Date: Thu, 13 Jul 2000 02:08:16 +0200 (MET DST)
Subject: [Rd] typo, help page ?pairs (PR#604)
Message-ID: <200007130008.CAA06196@pubhealth.ku.dk>

Dear R Team,

A minor typo in help page ?pairs

Many thanks!

Rashid Nassar


help(pairs)

Arguments:

row1attop: logical. Should the layout be matrix-like with row 1 at the
          top, or graphi-like with row 1 at the bottom?
                       ^^^
                 [graph-like]


--please do not edit the information below--

Version:
 platform = i586-pc-linux-gnu
 arch = i586
 os = linux-gnu
 system = i586, linux-gnu
 status = Patched
 major = 1
 minor = 1.0
 year = 2000
 month = July
 day = 1
 language = R

Search Path:
 .GlobalEnv, package:mva, Autoloads, package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rnassar@duke.edu  Thu Jul 13 01:18:28 2000
From: rnassar@duke.edu (rnassar@duke.edu)
Date: Thu, 13 Jul 2000 02:18:28 +0200 (MET DST)
Subject: [Rd] typos, help package mva (PR#605)
Message-ID: <200007130018.CAA06237@pubhealth.ku.dk>

Dear R Team,

Some minor typos in help pages for package:mva

Thank you.

Rashid Nassar


1. help(kmeans)


Details:                                      [k-means? not sure about this]
                                                 v
     The data given by `x' is clustered by the k-Means algorithm. When
     this terminates, all cluster centres are at to the mean of their
                                          ^^^^^^^^^
                                

2. help(hclust)

Arguments:

     hang: The fraction of the plot height which labels should hang
          below the rest of the plot. ...

   [I suspect the above sentence is missing something]

    labels: A character vector of of labels for the leaves of the tree.
                               ^^^^^
Details:

(2nd par)  An number of different clustering methods are provided. Ward's
           ^^        
          [A]


3. help(cutree)

Value:

     `cutree' returns an vector with group meberships if `k' or `h' are
                      ^^ 
                     [a]


--please do not edit the information below--

Version:
 platform = i586-pc-linux-gnu
 arch = i586
 os = linux-gnu
 system = i586, linux-gnu
 status = Patched
 major = 1
 minor = 1.0
 year = 2000
 month = July
 day = 1
 language = R

Search Path:
 .GlobalEnv, package:mva, Autoloads, package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rnassar@duke.edu  Thu Jul 13 01:23:29 2000
From: rnassar@duke.edu (rnassar@duke.edu)
Date: Thu, 13 Jul 2000 02:23:29 +0200 (MET DST)
Subject: [Rd] typo, ?cutree {mva} (PR#606)
Message-ID: <200007130023.CAA06260@pubhealth.ku.dk>

.. another one on same line:

help(cutree)  package {mva}

Value:

     `cutree' returns an vector with group meberships if `k' or `h' are
                                           ^^^
                                          [memberships]

Sorry I missed it!   Thank you.

Rashid 

--please do not edit the information below--

Version:
 platform = i586-pc-linux-gnu
 arch = i586
 os = linux-gnu
 system = i586, linux-gnu
 status = Patched
 major = 1
 minor = 1.0
 year = 2000
 month = July
 day = 1
 language = R

Search Path:
 .GlobalEnv, package:mva, Autoloads, package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Setzer.Woodrow@epamail.epa.gov  Thu Jul 13 17:39:40 2000
From: Setzer.Woodrow@epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Thu, 13 Jul 2000 18:39:40 +0200 (MET DST)
Subject: [Rd] documentation for contrasts and contrasts<- (PR#607)
Message-ID: <200007131639.SAA11242@pubhealth.ku.dk>



The documentation (in ver 1.1) for contrasts and contrasts<- does not list all
the arguments for those functions.  In addition to x, the factor whose contrasts
are being extracted or set, contrasts() has the argument 'contrasts=TRUE', and
contrasts<-() has the argument 'how.many'.

It was this latter that had me flummoxed, because I wanted to reparametrize a
model by specifying a full-rank contrast matrix (fitting without an intercept).

R. Woodrow Setzer, Jr.                                                    Phone:
(919) 541-0128
Biostatistics and
Fax:  (919) 541-4002
Research Support Staff
NHEERL MD-55; US EPA; RTP, NC 27711



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Jul 14 07:28:07 2000
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 14 Jul 2000 07:28:07 +0100 (BST)
Subject: [Rd] documentation for contrasts and contrasts<- (PR#607)
In-Reply-To: <200007131639.SAA11242@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.05.10007140717430.19613-100000@auk.stats>

On Thu, 13 Jul 2000 Setzer.Woodrow@epamail.epa.gov wrote:

> 
> 
> The documentation (in ver 1.1) for contrasts and contrasts<- does not list all
> the arguments for those functions.  In addition to x, the factor whose contrasts
> are being extracted or set, contrasts() has the argument 'contrasts=TRUE', and
> contrasts<-() has the argument 'how.many'.

Thanks, I have written enhanced versions.

> 
> It was this latter that had me flummoxed, because I wanted to reparametrize a
> model by specifying a full-rank contrast matrix (fitting without an intercept).
> 
That happens automatically the intercept.  It can't be a `contrast matrix' 
though, as the contrasts do not span the full space (they are orthogonal
to the constant).  To continue the ?contrasts example, you can do

> contrasts(fff, 3) <- contr.sum(5)[,1:3]
> contrasts(fff) # treatment
  [,1] [,2] [,3] 
a    1    0    0
c    0    1    0
i    0    0    1
s    0    0    0
t   -1   -1   -1

to set three contrasts.  You cannot set 5, though, as you can't generate
them.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kjetil.kjernsmo@astro.uio.no  Fri Jul 14 18:18:45 2000
From: kjetil.kjernsmo@astro.uio.no (kjetil.kjernsmo@astro.uio.no)
Date: Fri, 14 Jul 2000 19:18:45 +0200 (MET DST)
Subject: [Rd] Re: Disappearing values (PR#551)
Message-ID: <200007141718.TAA16715@pubhealth.ku.dk>

On Fri, 9 Jun 2000, I wrote:
[...]
> Now, occasionally, it prints a
>nice vector with all the values intact. Occasionally, one of the entries
>are NULL, and then it prints a list, e.g.
[lots of things along these lines]

Now, it seems like this problem has been solved. Reading some old
r-help e-mail I had missed, I came across a message from Brad McNeney
(<URL:http://www.ens.gu.edu.au/robertk/R/help/00a/2068.html>), and it was
apparent that he has had the same problems as I, but solved it by using
gcc instead of cc. Recent communication between Ray Brownrigg and Prof
Brian D Ripley enabled me to compile and get R running myself, and indeed,
the problem has not occured in a number of runs after I did this, I look
upon it as solved.

So, it seems like it may be problematic to use the standard cc compiler on
the alpha platform with Digital UNIX to compile R. Just a minor status
report... :-)

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj@astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster@skepsis.no 





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From acuster@nopause.berkeley.edu  Sat Jul 15 09:19:35 2000
From: acuster@nopause.berkeley.edu (acuster@nopause.berkeley.edu)
Date: Sat, 15 Jul 2000 10:19:35 +0200 (MET DST)
Subject: [Rd] seg.fault in eval.c (PR#608)
Message-ID: <200007150819.KAA17914@pubhealth.ku.dk>


--/9DWx/yDrRhgMJTb
Content-Type: text/plain; charset=us-ascii

Hello everyone,

verison: 1.0.1
platform: Gnu/linux mandrake 7.1beta

I'm running a user function to step through a frame and plot one column against
the next. This crashes the program fairly reliably although not on the first
try.

Here is a log of the session run through gdb. First I launch R, print out the
top of the frame and the function. (The function I wrote is probably ugly,
especially the for loop, and if you want to suggest how to make it better I'm
always ready to learn.) Then I run the magic incantation three times and seg
fault. From the shell at that point R crashes and closes the plot window. In
gdb the window stays open and only closes when I quit gdb.

I have appended the .RData file. I also have a core produced in the same way
from the terminal. If you can use it I can send it but it's huge.

Thanks for the great software,
adrian



***************************************************************************

tsetse$ /usr/local/bin/R --debugger=gdb
(gdb) run --vsize 12M --nsize 1200k

> ls()
[1] "my.frame"     "my.plot.func"
> my.frame[1:2,]
  viltid sept97 oct97 nov97beg nov97end dec97beg dec97end jan98 feb98 mar98
1    501    148    53       32       23       17       14     4     3     3
2    502     44    54       45       36       24        9     5     3     2
  apr98 may98 jun98 jul98 aug98 sep98 nov98 dec98
1     2     2     1     0     0     0     2     1
2     2     2     1     0     0     0     2     1
> my.plot.func
function(the.frame){

#first do the parameter checking:
if (missing(the.frame)){
   cat("\n")
   cat("Need a data frame argument with 17 monthly catches (sept, oct ...)\n")
   cat("   for tsetse use A.FRAME.tsetse.97n98, for adjtse roll your own.\n")
}   #fi

else{
   #next cache the initial conditions:
   start.par_par(no.readonly = TRUE)           #store the inital parameters
   on.exit(par(start.par),append=TRUE)         #restore the graphics parameters
   par(mfrow=c(2,8),mar=c(1,1,1,0),oma=c(0,1,2,1))

   #next initialize the function
   attach(the.frame)
   on.exit(detach(the.frame),append=TRUE)

   #function body:
   for (i in 1:16){
      plot(the.frame[,i],the.frame[,i+1])
      abline(lm(the.frame[,i+1]~the.frame[,i]))
   }
   mtext("Correlation of tsetse samples: sample to sample
plots",side=3,outer=TRUE,cex=1.5)


}   #end else
}
> my.plot.func(my.frame[,2:18])
> my.plot.func(my.frame[,2:18])
> my.plot.func(my.frame[,2:18])

Program received signal SIGSEGV, Segmentation fault.
0x807c367 in Rf_eval (e=0x1, rho=0x15d9eb8) at eval.c:83
83	eval.c: No such file or directory.
(gdb) backtrace
#0  0x807c367 in Rf_eval (e=0x1, rho=0x15d9eb8) at eval.c:83
#1  0x807d660 in do_begin (call=0x15e135c, op=0x3a59a4, args=0x15e1348, 
    rho=0x15d9eb8) at eval.c:640
#2  0x807c5f8 in Rf_eval (e=0x15e135c, rho=0x15d9eb8) at eval.c:172
#3  0x806bc30 in Rf_endcontext (cptr=0xbfffee34) at context.c:147
#4  0x807cb40 in Rf_applyClosure (call=0x15d9e54, op=0x7e332c, 
    arglist=0x15d9e90, rho=0x3adf3c, suppliedenv=0x3a5008) at eval.c:345
#5  0x807c74d in Rf_eval (e=0x15d9e54, rho=0x3adf3c) at eval.c:192
#6  0x8091274 in R_ReplConsole (rho=0x3adf3c, savestack=0, browselevel=0)
    at main.c:173
#7  0x8091955 in run_Rmainloop () at main.c:457
#8  0x8091994 in Rf_mainloop () at main.c:471
#9  0x80e6bfc in main (ac=0, av=0xbffff894) at system.c:490
(gdb) quit
The program is running.  Exit anyway? (y or n) y
[acuster@tsetse tocrashR]$ 


--/9DWx/yDrRhgMJTb
Content-Type: application/octet-stream
Content-Disposition: attachment; filename=RData
Content-Transfer-Encoding: base64

UkRYMQoAAAAlAAAAAAAAAAYAAAAGc291cmNlAAAAAAADAAAAA2NleAAAAAAFAAAABW91dGVy
AAAAAAAABAAAAARzaWRlAAAABQAAAAVtdGV4dAAAAAAAAAEAAAABfgAAAAAAAAIAAAACbG0A
AAAAAAYAAAAGYWJsaW5lAAAAAAABAAAAASsAAAAAAAABAAAAAVsAAAAAAAAEAAAABHBsb3QA
AAABAAAAAToAAAAAAAABAAAAAWkAAAAAAAADAAAAA2ZvcgAAAAAGAAAABmRldGFjaAAAAAAA
BgAAAAZhdHRhY2gAAAAAAAMAAAADb21hAAAAAAMAAAADbWFyAAAAAAEAAAABYwAAAAAAAAUA
AAAFbWZyb3cAAAAAAAAGAAAABmFwcGVuZAAAAAAABwAAAAdvbi5leGl0AAAAAAsAAAALbm8u
cmVhZG9ubHkAAAAAAwAAAANwYXIAAAAACQAAAAlzdGFydC5wYXIAAAAAAAACAAAAAjwtAAAA
AAADAAAAA2NhdAAAAAAHAAAAB21pc3NpbmcAAAAAAgAAAAJpZgAAAAAAAQAAAAF7AAAAAAAA
CQAAAAl0aGUuZnJhbWUAAAAAAAAMAAAADG15LnBsb3QuZnVuYwAAAAUAAAAFY2xhc3MAAAAA
AAAJAAAACXJvdy5uYW1lcwAAAAAAAAUAAAAFbmFtZXMAAAAAAAAIAAAACG15LmZyYW1lAAAA
CgAAAAouVHJhY2ViYWNrAAAAAAACAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAl//////////8A
AAACAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAk/////wAAABMAAAAAAAAAAQAAABIAAAAOAAAA
AAAAAAAAAAAyQH9QAAAAAABAf2AAAAAAAEB/cAAAAAAAQH+AAAAAAABAf5AAAAAAAECCyAAA
AAAAQILQAAAAAABAgtgAAAAAAECC4AAAAAAAQILoAAAAAABAjCgAAAAAAECMMAAAAAAAQIw4
AAAAAABAjEAAAAAAAECMSAAAAAAAQI9IAAAAAABAj1AAAAAAAECPWAAAAAAAQI9gAAAAAABA
j2gAAAAAAECh+gAAAAAAQKH8AAAAAABAof4AAAAAAECiAAAAAAAAQKICAAAAAABApeIAAAAA
AECl5AAAAAAAQKXmAAAAAABApegAAAAAAECl6gAAAAAAQKaqAAAAAABApqwAAAAAAECmrgAA
AAAAQKawAAAAAABAprIAAAAAAECncgAAAAAAQKd0AAAAAABAp3YAAAAAAECneAAAAAAAQKd6
AAAAAABAsZUAAAAAAECxlgAAAAAAQLGXAAAAAABAsZgAAAAAAECxmQAAAAAAQMmWgAAAAABA
yZcAAAAAAEDJl4AAAAAAQMmYAAAAAABAyZiAAAAAAP////8AAAAOAAAAAAAAAAAAAAAyQGKA
AAAAAABARgAAAAAAAEBWgAAAAAAAQFOAAAAAAABAQYAAAAAAAEBNgAAAAAAAQEGAAAAAAABA
TYAAAAAAAEBGAAAAAAAAQFDAAAAAAABAR4AAAAAAAEBDAAAAAAAAQFVAAAAAAABAQwAAAAAA
AEBaQAAAAAAAQFhAAAAAAABAToAAAAAAAEBiIAAAAAAAQFMAAAAAAABATYAAAAAAAEBOAAAA
AAAAQE4AAAAAAABAXYAAAAAAAEBMgAAAAAAAQEwAAAAAAABAU4AAAAAAAEBcQAAAAAAAQFMA
AAAAAABAY2AAAAAAAEBIAAAAAAAAQFRAAAAAAABAYiAAAAAAAEBMgAAAAAAAQFYAAAAAAABA
YGAAAAAAAEBgAAAAAAAAQFEAAAAAAABAXIAAAAAAAEBYwAAAAAAAQFWAAAAAAABARwAAAAAA
AEBcwAAAAAAAQFEAAAAAAABAUwAAAAAAAEBXAAAAAAAAQGGAAAAAAABAXkAAAAAAAEBnIAAA
AAAAQFdAAAAAAABAZMAAAAAAAP////8AAAAOAAAAAAAAAAAAAAAyQEqAAAAAAABASwAAAAAA
AEBBgAAAAAAAQEkAAAAAAABAVQAAAAAAAEA+AAAAAAAAQDsAAAAAAABAQwAAAAAAAEBDgAAA
AAAAQEcAAAAAAABAQwAAAAAAAEA6AAAAAAAAQFBAAAAAAABAOwAAAAAAAEBYQAAAAAAAQFJA
AAAAAABASoAAAAAAAEA9AAAAAAAAQFTAAAAAAABASAAAAAAAAEBAAAAAAAAAQEoAAAAAAABA
WsAAAAAAAEBIgAAAAAAAQEWAAAAAAABASYAAAAAAAEA7AAAAAAAAQEWAAAAAAABAUcAAAAAA
AEBAgAAAAAAAQFUAAAAAAABATYAAAAAAAEBEAAAAAAAAQEsAAAAAAABASwAAAAAAAEBTgAAA
AAAAQEwAAAAAAABAR4AAAAAAAEBKgAAAAAAAQE4AAAAAAABAQgAAAAAAAEBIAAAAAAAAQEQA
AAAAAABAQgAAAAAAAEBNAAAAAAAAQF7AAAAAAABAR4AAAAAAAEBQQAAAAAAAQFAAAAAAAABA
UAAAAAAAAP////8AAAAOAAAAAAAAAAAAAAAyQEAAAAAAAABARoAAAAAAAEBLAAAAAAAAQEEA
AAAAAABAPQAAAAAAAEAyAAAAAAAAQEEAAAAAAABAPAAAAAAAAEA1AAAAAAAAQDoAAAAAAABA
MwAAAAAAAEA6AAAAAAAAQDUAAAAAAABANwAAAAAAAEA3AAAAAAAAQDsAAAAAAABAQIAAAAAA
AEA6AAAAAAAAQDwAAAAAAABAQQAAAAAAAEA/AAAAAAAAQEaAAAAAAABAPgAAAAAAAEBCgAAA
AAAAQEQAAAAAAABAOwAAAAAAAEAwAAAAAAAAQDwAAAAAAABAOQAAAAAAAEA1AAAAAAAAQDkA
AAAAAABANgAAAAAAAEAxAAAAAAAAQCgAAAAAAABAMgAAAAAAAEBBAAAAAAAAQD4AAAAAAABA
QYAAAAAAAEA7AAAAAAAAQEIAAAAAAABAOwAAAAAAAEBCAAAAAAAAQDUAAAAAAABAOQAAAAAA
AEA9AAAAAAAAQEAAAAAAAABAOwAAAAAAAEBHAAAAAAAAQD0AAAAAAABALAAAAAAAAP////8A
AAAOAAAAAAAAAAAAAAAyQDcAAAAAAABAQgAAAAAAAEA3AAAAAAAAQDsAAAAAAABAOgAAAAAA
AEAuAAAAAAAAQDsAAAAAAABANwAAAAAAAEAxAAAAAAAAQDQAAAAAAABALgAAAAAAAEA2AAAA
AAAAQDEAAAAAAABALAAAAAAAAEAyAAAAAAAAQDMAAAAAAABAOQAAAAAAAEAzAAAAAAAAQDYA
AAAAAABAMwAAAAAAAEA4AAAAAAAAQEGAAAAAAABANQAAAAAAAEA+AAAAAAAAQDwAAAAAAABA
MwAAAAAAAEAkAAAAAAAAQDcAAAAAAABAMgAAAAAAAEAwAAAAAAAAQDQAAAAAAABALgAAAAAA
AEAsAAAAAAAAQCIAAAAAAABAKAAAAAAAAEA5AAAAAAAAQD4AAAAAAABANQAAAAAAAEAxAAAA
AAAAQDoAAAAAAABANgAAAAAAAEA1AAAAAAAAQC4AAAAAAABALgAAAAAAAEA0AAAAAAAAQDcA
AAAAAABANwAAAAAAAEBFgAAAAAAAQDcAAAAAAABALgAAAAAAAP////8AAAAOAAAAAAAAAAAA
AAAyQDEAAAAAAABAOAAAAAAAAEAxAAAAAAAAQDIAAAAAAABAMwAAAAAAAEAmAAAAAAAAQDAA
AAAAAABANAAAAAAAAEAoAAAAAAAAQCwAAAAAAABAJAAAAAAAAEAuAAAAAAAAQDAAAAAAAABA
JgAAAAAAAEAmAAAAAAAAQCwAAAAAAABAMgAAAAAAAEAqAAAAAAAAQDEAAAAAAABALAAAAAAA
AEAyAAAAAAAAQDsAAAAAAABALAAAAAAAAEA2AAAAAAAAQDUAAAAAAABALgAAAAAAAEAgAAAA
AAAAQDIAAAAAAABAKAAAAAAAAEAuAAAAAAAAQC4AAAAAAABAKAAAAAAAAEAkAAAAAAAAQCgA
AAAAAABAIAAAAAAAAEAwAAAAAAAAQDcAAAAAAABALgAAAAAAAEAoAAAAAAAAQDQAAAAAAABA
NQAAAAAAAEAuAAAAAAAAQCYAAAAAAABAKgAAAAAAAEAzAAAAAAAAQDEAAAAAAABALAAAAAAA
AEA+AAAAAAAAQDEAAAAAAABAMAAAAAAAAP////8AAAAOAAAAAAAAAAAAAAAyQCwAAAAAAABA
IgAAAAAAAEAkAAAAAAAAQCwAAAAAAABAMAAAAAAAAEAiAAAAAAAAQCYAAAAAAABAMAAAAAAA
AEAgAAAAAAAAQCAAAAAAAABAGAAAAAAAAEAmAAAAAAAAQCYAAAAAAABAFAAAAAAAAEAcAAAA
AAAAQCIAAAAAAABALAAAAAAAAEAkAAAAAAAAQBwAAAAAAABAIgAAAAAAAEAuAAAAAAAAQDEA
AAAAAABAKAAAAAAAAEAyAAAAAAAAQC4AAAAAAABAJAAAAAAAAEAYAAAAAAAAQCwAAAAAAABA
IgAAAAAAAEAkAAAAAAAAQCYAAAAAAABAIAAAAAAAAEAcAAAAAAAAQCQAAAAAAABAIAAAAAAA
AEAmAAAAAAAAQDEAAAAAAABAKAAAAAAAAEAiAAAAAAAAQCwAAAAAAABAMgAAAAAAAEAsAAAA
AAAAQCIAAAAAAABAIAAAAAAAAEAwAAAAAAAAQCgAAAAAAABAJgAAAAAAAEA1AAAAAAAAQCoA
AAAAAABAKAAAAAAAAP////8AAAAOAAAAAAAAAAAAAAAyQBAAAAAAAABAFAAAAAAAAEAYAAAA
AAAAQBQAAAAAAABAIAAAAAAAAEAcAAAAAAAAQBwAAAAAAABAJgAAAAAAAEAUAAAAAAAAQBgA
AAAAAABAGAAAAAAAAEAcAAAAAAAAQBQAAAAAAABACAAAAAAAAEAUAAAAAAAAQBgAAAAAAABA
IgAAAAAAAEAQAAAAAAAAQBQAAAAAAABAHAAAAAAAAEAgAAAAAAAAQBwAAAAAAABAGAAAAAAA
AEAgAAAAAAAAQCAAAAAAAABAFAAAAAAAAEAQAAAAAAAAQBQAAAAAAABAEAAAAAAAAEAUAAAA
AAAAQCIAAAAAAABAGAAAAAAAAEAcAAAAAAAAQBQAAAAAAABAHAAAAAAAAEAQAAAAAAAAQBgA
AAAAAABAHAAAAAAAAEAYAAAAAAAAQAgAAAAAAABAIAAAAAAAAEAiAAAAAAAAQAgAAAAAAABA
GAAAAAAAAEAUAAAAAAAAQBwAAAAAAABAGAAAAAAAAEAiAAAAAAAAQCQAAAAAAABAGAAAAAAA
AP////8AAAAOAAAAAAAAAAAAAAAyQAgAAAAAAABACAAAAAAAAEAAAAAAAAAAQBAAAAAAAABA
EAAAAAAAAEAIAAAAAAAAQBAAAAAAAABAFAAAAAAAAEAIAAAAAAAAQBwAAAAAAABAFAAAAAAA
AEAIAAAAAAAAQBAAAAAAAABACAAAAAAAAEAYAAAAAAAAQBAAAAAAAABACAAAAAAAAEAIAAAA
AAAAQAAAAAAAAABAFAAAAAAAAEAUAAAAAAAAQAAAAAAAAABAEAAAAAAAAEAUAAAAAAAAQCIA
AAAAAABAGAAAAAAAAEAQAAAAAAAAQAgAAAAAAABAEAAAAAAAAEAAAAAAAAAAQBgAAAAAAABA
FAAAAAAAAEAIAAAAAAAAQAgAAAAAAABAEAAAAAAAAEAAAAAAAAAAQAgAAAAAAABAAAAAAAAA
AEAQAAAAAAAAQAgAAAAAAABAAAAAAAAAAEAIAAAAAAAAQAgAAAAAAABAHAAAAAAAAEAcAAAA
AAAAQBAAAAAAAABAGAAAAAAAAEAYAAAAAAAAQCIAAAAAAABAIAAAAAAAAP////8AAAAOAAAA
AAAAAAAAAAAyQAgAAAAAAABAAAAAAAAAAD/wAAAAAAAAQAgAAAAAAABACAAAAAAAAEAAAAAA
AAAAQAAAAAAAAABAEAAAAAAAAEAAAAAAAAAAQBAAAAAAAABACAAAAAAAAEAAAAAAAAAAQAgA
AAAAAABAAAAAAAAAAEAQAAAAAAAAQAgAAAAAAABAAAAAAAAAAEAAAAAAAAAAQAgAAAAAAABA
EAAAAAAAAEAIAAAAAAAAQAAAAAAAAABACAAAAAAAAEAAAAAAAAAAQBQAAAAAAABAEAAAAAAA
AEAIAAAAAAAAQAgAAAAAAABAFAAAAAAAAEAIAAAAAAAAQAgAAAAAAABAEAAAAAAAAEAYAAAA
AAAAQBQAAAAAAABAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAAA/8AAAAAAAAEAIAAAAAAAAQAAA
AAAAAABAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABACAAAAAAAAEAQAAAAAAAAQAAAAAAAAABA
EAAAAAAAAEAQAAAAAAAAQBAAAAAAAABAEAAAAAAAAP////8AAAAOAAAAAAAAAAAAAAAyQAAA
AAAAAABAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAAA/8AAAAAAAAAAAAAAAAAAAQAAAAAAAAABA
AAAAAAAAAEAAAAAAAAAAQAgAAAAAAAA/8AAAAAAAAEAIAAAAAAAAP/AAAAAAAABAAAAAAAAA
AEAAAAAAAAAAQAAAAAAAAABACAAAAAAAAEAAAAAAAAAAQAAAAAAAAABACAAAAAAAAEAAAAAA
AAAAP/AAAAAAAABAAAAAAAAAAEAAAAAAAAAAQAgAAAAAAABACAAAAAAAAEAAAAAAAAAAQAAA
AAAAAABAEAAAAAAAAEAIAAAAAAAAQBAAAAAAAABAFAAAAAAAAEAQAAAAAAAAQAAAAAAAAABA
AAAAAAAAAD/wAAAAAAAAQAAAAAAAAABAAAAAAAAAAD/wAAAAAAAAQAAAAAAAAABAAAAAAAAA
AEAAAAAAAAAAQAAAAAAAAABACAAAAAAAAEAAAAAAAAAAQAAAAAAAAABACAAAAAAAAEAAAAAA
AAAAQAAAAAAAAABACAAAAAAAAP////8AAAAOAAAAAAAAAAAAAAAyQAAAAAAAAABAAAAAAAAA
AEAIAAAAAAAAQAAAAAAAAAA/8AAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAD/wAAAA
AAAAQAgAAAAAAABAAAAAAAAAAEAAAAAAAAAAP/AAAAAAAABAAAAAAAAAAEAAAAAAAAAAQAAA
AAAAAABAAAAAAAAAAEAIAAAAAAAAQAAAAAAAAABACAAAAAAAAD/wAAAAAAAAQAAAAAAAAAA/
8AAAAAAAAEAAAAAAAAAAQAgAAAAAAABAFAAAAAAAAEAIAAAAAAAAQAAAAAAAAABACAAAAAAA
AEAIAAAAAAAAQAAAAAAAAABAAAAAAAAAAD/wAAAAAAAAQAgAAAAAAABAAAAAAAAAAEAAAAAA
AAAAQAAAAAAAAAA/8AAAAAAAAD/wAAAAAAAAQAAAAAAAAABAAAAAAAAAAEAIAAAAAAAAQAAA
AAAAAAA/8AAAAAAAAEAAAAAAAAAAQAgAAAAAAABAAAAAAAAAAEAAAAAAAAAAQAgAAAAAAABA
AAAAAAAAAP////8AAAAOAAAAAAAAAAAAAAAyP/AAAAAAAAA/8AAAAAAAAEAAAAAAAAAAQAAA
AAAAAAAAAAAAAAAAAD/wAAAAAAAAQAgAAAAAAABAAAAAAAAAAAAAAAAAAAAAP/AAAAAAAABA
AAAAAAAAAD/wAAAAAAAAQAAAAAAAAAAAAAAAAAAAAD/wAAAAAAAAQAAAAAAAAAAAAAAAAAAA
AD/wAAAAAAAAP/AAAAAAAABAAAAAAAAAAD/wAAAAAAAAP/AAAAAAAAA/8AAAAAAAAEAQAAAA
AAAAQAAAAAAAAABAAAAAAAAAAD/wAAAAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAQAAA
AAAAAABACAAAAAAAAD/wAAAAAAAAP/AAAAAAAABAAAAAAAAAAD/wAAAAAAAAAAAAAAAAAAA/
8AAAAAAAAD/wAAAAAAAAQAAAAAAAAABAAAAAAAAAAD/wAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAQAAAAAAAAAA/8AAAAAAAAEAAAAAAAAAAQAgAAAAAAABAAAAAAAAAAP////8A
AAAOAAAAAAAAAAAAAAAyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAFAAAAAAAAEAQAAAAAAAAQBAAAAAAAABAAAAAAAAA
AEAAAAAAAAAAQAgAAAAAAABAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQBQA
AAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAAOAAAAAAAAAAAA
AAAyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAEAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAGAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAEAUAAAAAAAAQBgAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQBAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAAOAAAAAAAAAAAAAAAyAAAAAAAAAAAA
AAAAAAAAAEAIAAAAAAAAQAAAAAAAAABAFAAAAAAAAEAQAAAAAAAAQAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/wAAAA
AAAAQAAAAAAAAAAAAAAAAAAAAD/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA
EAAAAAAAAEAYAAAAAAAAQBAAAAAAAABAGAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAA
AEAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAEAgAAAAAAAAQBgAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAP////8AAAAOAAAAAAAAAAAAAAAyQAAAAAAAAABAAAAAAAAAAAAAAAAA
AAAAQAAAAAAAAABAIAAAAAAAAEAUAAAAAAAAP/AAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAA
AAAAAAAAAAAAAAAAAD/wAAAAAAAAQAgAAAAAAAA/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAD/wAAAAAAAAAAAAAAAAAABAAAAAAAAAAD/wAAAAAAAAQAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAEAIAAAAAAAAAAAAAAAAAAA/8AAAAAAAAEAIAAAA
AAAAQBAAAAAAAAAAAAAAAAAAAD/wAAAAAAAAQAAAAAAAAAA/8AAAAAAAAEAUAAAAAAAAP/AA
AAAAAAAAAAAAAAAAAD/wAAAAAAAAP/AAAAAAAABAAAAAAAAAAEAIAAAAAAAAQAgAAAAAAABA
AAAAAAAAAAAAAAAAAAAAQBQAAAAAAABAAAAAAAAAAEAAAAAAAAAAQAgAAAAAAABACAAAAAAA
AP////8AAAAOAAAAAAAAAAAAAAAyP/AAAAAAAAA/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAABA
CAAAAAAAAD/wAAAAAAAAP/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAA/8AAAAAAAAEAAAAAAAAAAQAAAAAAAAAA/8AAAAAAAAAAAAAAA
AAAAAAAAAAAAAAA/8AAAAAAAAD/wAAAAAAAAP/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAA/8AAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAA/
8AAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AEAAAAAAAAAAP/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/8AAAAAAAAEAIAAAA
AAAAQBAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABACAAAAAAAAP////8AAAACAAAA
AAAAAAAAAAABAAAAAAAAAAAAAAAj/////wAAABAAAAAAAAAAAAAAABIAAAAGAAAABnZpbHRp
ZAAAAAAABgAAAAZzZXB0OTcAAAAAAAUAAAAFb2N0OTcAAAAAAAAIAAAACG5vdjk3YmVnAAAA
CAAAAAhub3Y5N2VuZAAAAAgAAAAIZGVjOTdiZWcAAAAIAAAACGRlYzk3ZW5kAAAABQAAAAVq
YW45OAAAAAAAAAUAAAAFZmViOTgAAAAAAAAFAAAABW1hcjk4AAAAAAAABQAAAAVhcHI5OAAA
AAAAAAUAAAAFbWF5OTgAAAAAAAAFAAAABWp1bjk4AAAAAAAABQAAAAVqdWw5OAAAAAAAAAUA
AAAFYXVnOTgAAAAAAAAFAAAABXNlcDk4AAAAAAAABQAAAAVub3Y5OAAAAAAAAAUAAAAFZGVj
OTgAAAD/////AAAAAgAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAIv////8AAAAQAAAAAAAAAAAA
AAAyAAAAAQAAAAExAAAAAAAAAQAAAAEyAAAAAAAAAQAAAAEzAAAAAAAAAQAAAAE0AAAAAAAA
AQAAAAE1AAAAAAAAAQAAAAE2AAAAAAAAAQAAAAE3AAAAAAAAAQAAAAE4AAAAAAAAAQAAAAE5
AAAAAAAAAgAAAAIxMAAAAAAAAgAAAAIxMQAAAAAAAgAAAAIxMgAAAAAAAgAAAAIxMwAAAAAA
AgAAAAIxNAAAAAAAAgAAAAIxNQAAAAAAAgAAAAIxNgAAAAAAAgAAAAIxNwAAAAAAAgAAAAIx
OAAAAAAAAgAAAAIxOQAAAAAAAgAAAAIyMAAAAAAAAgAAAAIyMQAAAAAAAgAAAAIyMgAAAAAA
AgAAAAIyMwAAAAAAAgAAAAIyNAAAAAAAAgAAAAIyNQAAAAAAAgAAAAIyNgAAAAAAAgAAAAIy
NwAAAAAAAgAAAAIyOAAAAAAAAgAAAAIyOQAAAAAAAgAAAAIzMAAAAAAAAgAAAAIzMQAAAAAA
AgAAAAIzMgAAAAAAAgAAAAIzMwAAAAAAAgAAAAIzNAAAAAAAAgAAAAIzNQAAAAAAAgAAAAIz
NgAAAAAAAgAAAAIzNwAAAAAAAgAAAAIzOAAAAAAAAgAAAAIzOQAAAAAAAgAAAAI0MAAAAAAA
AgAAAAI0MQAAAAAAAgAAAAI0MgAAAAAAAgAAAAI0MwAAAAAAAgAAAAI0NAAAAAAAAgAAAAI0
NQAAAAAAAgAAAAI0NgAAAAAAAgAAAAI0NwAAAAAAAgAAAAI0OAAAAAAAAgAAAAI0OQAAAAAA
AgAAAAI1MAAA/////wAAAAIAAAAAAAAAAAAAAAEAAAAAAAAAAAAAACH/////AAAAEAAAAAAA
AAAAAAAAAQAAAAoAAAAKZGF0YS5mcmFtZQAA//////////////////////////8AAAACAAAA
AAAAAAAAAAABAAAAAAAAAAAAAAAg/////wAAAAMAAAAAAAAAAP////4AAAACAAAAAAAAAAAA
AAABAAAAAAAAAAAAAAAf//////////z//////////wAAAAYAAAAAAAAAAP////8AAAABAAAA
AAAAAAAAAAAe/////wAAAAIAAAAAAAAAAP////8AAAAGAAAAAAAAAAD/////AAAAAQAAAAAA
AAAAAAAAHf////8AAAACAAAAAAAAAAD/////AAAABgAAAAAAAAAA/////wAAAAEAAAAAAAAA
AAAAABz/////AAAAAgAAAAAAAAAA/////wAAAAEAAAAAAAAAAAAAAB//////////////////
////AAAAAgAAAAAAAAAA/////wAAAAYAAAAAAAAAAP////8AAAABAAAAAAAAAAAAAAAe////
/wAAAAIAAAAAAAAAAP////8AAAAGAAAAAAAAAAD/////AAAAAQAAAAAAAAAAAAAAG/////8A
AAACAAAAAAAAAAD/////AAAAEAAAAAAAAAAAAAAAAQAAAAEAAAABCgAAAP//////////////
//////8AAAACAAAAAAAAAAD/////AAAABgAAAAAAAAAA/////wAAAAEAAAAAAAAAAAAAABv/
////AAAAAgAAAAAAAAAA/////wAAABAAAAAAAAAAAAAAAAEAAABDAAAAQ05lZWQgYSBkYXRh
IGZyYW1lIGFyZ3VtZW50IHdpdGggMTcgbW9udGhseSBjYXRjaGVzIChzZXB0LCBvY3QgLi4u
KQoA/////////////////////wAAAAIAAAAAAAAAAP////8AAAAGAAAAAAAAAAD/////AAAA
AQAAAAAAAAAAAAAAG/////8AAAACAAAAAAAAAAD/////AAAAEAAAAAAAAAAAAAAAAQAAAEIA
AABCICAgZm9yIHRzZXRzZSB1c2UgQS5GUkFNRS50c2V0c2UuOTduOTgsIGZvciBhZGp0c2Ug
cm9sbCB5b3VyIG93bi4KAAD///////////////////////////////////////////////8A
AAACAAAAAAAAAAD/////AAAABgAAAAAAAAAA/////wAAAAEAAAAAAAAAAAAAAB7/////AAAA
AgAAAAAAAAAA/////wAAAAYAAAAAAAAAAP////8AAAABAAAAAAAAAAAAAAAa/////wAAAAIA
AAAAAAAAAP////8AAAABAAAAAAAAAAAAAAAZ/////wAAAAIAAAAAAAAAAP////8AAAAGAAAA
AAAAAAD/////AAAAAQAAAAAAAAAAAAAAGP////8AAAACAAAAAAAAAAAAAAABAAAAAAAAAAAA
AAAX/////wAAAAoAAAAAAAAAAAAAAAEAAAAB////////////////////////////////////
//////8AAAACAAAAAAAAAAD/////AAAABgAAAAAAAAAA/////wAAAAEAAAAAAAAAAAAAABb/
////AAAAAgAAAAAAAAAA/////wAAAAYAAAAAAAAAAP////8AAAABAAAAAAAAAAAAAAAY////
/wAAAAIAAAAAAAAAAP////8AAAABAAAAAAAAAAAAAAAZ/////////////////////wAAAAIA
AAAAAAAAAAAAAAEAAAAAAAAAAAAAABX/////AAAACgAAAAAAAAAAAAAAAQAAAAH/////////
/////////////////wAAAAIAAAAAAAAAAP////8AAAAGAAAAAAAAAAD/////AAAAAQAAAAAA
AAAAAAAAGP////8AAAACAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAU/////wAAAAYAAAAAAAAA
AP////8AAAABAAAAAAAAAAAAAAAT/////wAAAAIAAAAAAAAAAP////8AAAAOAAAAAAAAAAAA
AAABQAAAAAAAAAD/////AAAAAgAAAAAAAAAA/////wAAAA4AAAAAAAAAAAAAAAFAIAAAAAAA
AP//////////////////////////AAAAAgAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAEv////8A
AAAGAAAAAAAAAAD/////AAAAAQAAAAAAAAAAAAAAE/////8AAAACAAAAAAAAAAD/////AAAA
DgAAAAAAAAAAAAAAAT/wAAAAAAAA/////wAAAAIAAAAAAAAAAP////8AAAAOAAAAAAAAAAAA
AAABP/AAAAAAAAD/////AAAAAgAAAAAAAAAA/////wAAAA4AAAAAAAAAAAAAAAE/8AAAAAAA
AP////8AAAACAAAAAAAAAAD/////AAAADgAAAAAAAAAAAAAAAQAAAAAAAAAA////////////
/////////////////////////wAAAAIAAAAAAAAAAAAAAAEAAAAAAAAAAAAAABH/////AAAA
BgAAAAAAAAAA/////wAAAAEAAAAAAAAAAAAAABP/////AAAAAgAAAAAAAAAA/////wAAAA4A
AAAAAAAAAAAAAAEAAAAAAAAAAP////8AAAACAAAAAAAAAAD/////AAAADgAAAAAAAAAAAAAA
AT/wAAAAAAAA/////wAAAAIAAAAAAAAAAP////8AAAAOAAAAAAAAAAAAAAABQAAAAAAAAAD/
////AAAAAgAAAAAAAAAA/////wAAAA4AAAAAAAAAAAAAAAE/8AAAAAAAAP//////////////
/////////////////////////////////////////////////wAAAAIAAAAAAAAAAP////8A
AAAGAAAAAAAAAAD/////AAAAAQAAAAAAAAAAAAAAEP////8AAAACAAAAAAAAAAD/////AAAA
AQAAAAAAAAAAAAAAH/////////////////////8AAAACAAAAAAAAAAD/////AAAABgAAAAAA
AAAA/////wAAAAEAAAAAAAAAAAAAABb/////AAAAAgAAAAAAAAAA/////wAAAAYAAAAAAAAA
AP////8AAAABAAAAAAAAAAAAAAAP/////wAAAAIAAAAAAAAAAP////8AAAABAAAAAAAAAAAA
AAAf/////////////////////wAAAAIAAAAAAAAAAAAAAAEAAAAAAAAAAAAAABX/////AAAA
CgAAAAAAAAAAAAAAAQAAAAH//////////////////////////wAAAAIAAAAAAAAAAP////8A
AAAGAAAAAAAAAAD/////AAAAAQAAAAAAAAAAAAAADv////8AAAACAAAAAAAAAAD/////AAAA
AQAAAAAAAAAAAAAADf////8AAAACAAAAAAAAAAD/////AAAABgAAAAAAAAAA/////wAAAAEA
AAAAAAAAAAAAAAz/////AAAAAgAAAAAAAAAA/////wAAAA4AAAAAAAAAAAAAAAE/8AAAAAAA
AP////8AAAACAAAAAAAAAAD/////AAAADgAAAAAAAAAAAAAAAUAwAAAAAAAA////////////
//////////////8AAAACAAAAAAAAAAD/////AAAABgAAAAAAAAAA/////wAAAAEAAAAAAAAA
AAAAAB7/////AAAAAgAAAAAAAAAA/////wAAAAYAAAAAAAAAAP////8AAAABAAAAAAAAAAAA
AAAL/////wAAAAIAAAAAAAAAAP////8AAAAGAAAAAAAAAAD/////AAAAAQAAAAAAAAAAAAAA
Cv////8AAAAGAAAAAAAAAAD/////AAAAAQAAAAAAAAAAAAAAH/////8AAAACAAAAAAAAAAD/
/////////AAAAAIAAAAAAAAAAP////8AAAABAAAAAAAAAAAAAAAN////////////////////
////////////AAAAAgAAAAAAAAAA/////wAAAAYAAAAAAAAAAP////8AAAABAAAAAAAAAAAA
AAAK/////wAAAAYAAAAAAAAAAP////8AAAABAAAAAAAAAAAAAAAf/////wAAAAIAAAAAAAAA
AP/////////8AAAAAgAAAAAAAAAA/////wAAAAYAAAAAAAAAAP////8AAAABAAAAAAAAAAAA
AAAJ/////wAAAAIAAAAAAAAAAP////8AAAABAAAAAAAAAAAAAAAN/////wAAAAIAAAAAAAAA
AP////8AAAAOAAAAAAAAAAAAAAABP/AAAAAAAAD/////////////////////////////////
/////////////////////////////////////////wAAAAIAAAAAAAAAAP////8AAAAGAAAA
AAAAAAD/////AAAAAQAAAAAAAAAAAAAACP////8AAAACAAAAAAAAAAD/////AAAABgAAAAAA
AAAA/////wAAAAEAAAAAAAAAAAAAAAf/////AAAAAgAAAAAAAAAA/////wAAAAYAAAAAAAAA
AP////8AAAABAAAAAAAAAAAAAAAG/////wAAAAIAAAAAAAAAAP////8AAAAGAAAAAAAAAAD/
////AAAAAQAAAAAAAAAAAAAACv////8AAAAGAAAAAAAAAAD/////AAAAAQAAAAAAAAAAAAAA
H/////8AAAACAAAAAAAAAAD//////////AAAAAIAAAAAAAAAAP////8AAAAGAAAAAAAAAAD/
////AAAAAQAAAAAAAAAAAAAACf////8AAAACAAAAAAAAAAD/////AAAAAQAAAAAAAAAAAAAA
Df////8AAAACAAAAAAAAAAD/////AAAADgAAAAAAAAAAAAAAAT/wAAAAAAAA////////////
/////////////////////////////////////////wAAAAIAAAAAAAAAAP////8AAAAGAAAA
AAAAAAD/////AAAAAQAAAAAAAAAAAAAACv////8AAAAGAAAAAAAAAAD/////AAAAAQAAAAAA
AAAAAAAAH/////8AAAACAAAAAAAAAAD//////////AAAAAIAAAAAAAAAAP////8AAAABAAAA
AAAAAAAAAAAN////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////
/wAAAAIAAAAAAAAAAP////8AAAAGAAAAAAAAAAD/////AAAAAQAAAAAAAAAAAAAABf////8A
AAACAAAAAAAAAAD/////AAAAEAAAAAAAAAAAAAAAAQAAADUAAAA1Q29ycmVsYXRpb24gb2Yg
dHNldHNlIHNhbXBsZXM6IHNhbXBsZSB0byBzYW1wbGUgcGxvdHMAAAD/////AAAAAgAAAAAA
AAAAAAAAAQAAAAAAAAAAAAAABP////8AAAAOAAAAAAAAAAAAAAABQAgAAAAAAAD/////AAAA
AgAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAA/////8AAAAKAAAAAAAAAAAAAAABAAAAAf////8A
AAACAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAC/////wAAAA4AAAAAAAAAAAAAAAE/+AAAAAAA
AP//////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////wAAAAIAAAAAAAAA
AAAAAAEAAAAAAAAAAAAAAAH/////AAAAEAAAAAAAAAAAAAAAHQAAABQAAAAUZnVuY3Rpb24o
dGhlLmZyYW1lKXsAAAAAAAAAAAAAACEAAAAhI2ZpcnN0IGRvIHRoZSBwYXJhbWV0ZXIgY2hl
Y2tpbmc6AAAAAAAAGAAAABhpZiAobWlzc2luZyh0aGUuZnJhbWUpKXsAAAAMAAAADCAgIGNh
dCgiXG4iKQAAAE4AAABOICAgY2F0KCJOZWVkIGEgZGF0YSBmcmFtZSBhcmd1bWVudCB3aXRo
IDE3IG1vbnRobHkgY2F0Y2hlcyAoc2VwdCwgb2N0IC4uLilcbiIpAAAAAABNAAAATSAgIGNh
dCgiICAgZm9yIHRzZXRzZSB1c2UgQS5GUkFNRS50c2V0c2UuOTduOTgsIGZvciBhZGp0c2Ug
cm9sbCB5b3VyIG93bi5cbiIpAAAAAAAABwAAAAd9ICAgI2ZpAAAAAAAAAAAAAAAABQAAAAVl
bHNlewAAAAAAACYAAAAmICAgI25leHQgY2FjaGUgdGhlIGluaXRpYWwgY29uZGl0aW9uczoA
AAAAAEsAAABLICAgc3RhcnQucGFyX3Bhcihuby5yZWFkb25seSA9IFRSVUUpICAgICAgICAg
ICAjc3RvcmUgdGhlIGluaXRhbCBwYXJhbWV0ZXJzAAAAAE8AAABPICAgb24uZXhpdChwYXIo
c3RhcnQucGFyKSxhcHBlbmQ9VFJVRSkgICAgICAgICAjcmVzdG9yZSB0aGUgZ3JhcGhpY3Mg
cGFyYW1ldGVycwAAAAAyAAAAMiAgIHBhcihtZnJvdz1jKDIsOCksbWFyPWMoMSwxLDEsMCks
b21hPWMoMCwxLDIsMSkpAAAAAAAAAAAAAAAAACAAAAAgICAgI25leHQgaW5pdGlhbGl6ZSB0
aGUgZnVuY3Rpb24AAAAUAAAAFCAgIGF0dGFjaCh0aGUuZnJhbWUpAAAAKQAAACkgICBvbi5l
eGl0KGRldGFjaCh0aGUuZnJhbWUpLGFwcGVuZD1UUlVFKQAAAAAAAAAAAAAAAAAAEgAAABIg
ICAjZnVuY3Rpb24gYm9keToAAAAAABMAAAATICAgZm9yIChpIGluIDE6MTYpewAAAAApAAAA
KSAgICAgIHBsb3QodGhlLmZyYW1lWyxpXSx0aGUuZnJhbWVbLGkrMV0pAAAAAAAALwAAAC8g
ICAgICBhYmxpbmUobG0odGhlLmZyYW1lWyxpKzFdfnRoZS5mcmFtZVssaV0pKQAAAAAEAAAA
BCAgIH0AAABbAAAAWyAgIG10ZXh0KCJDb3JyZWxhdGlvbiBvZiB0c2V0c2Ugc2FtcGxlczog
c2FtcGxlIHRvIHNhbXBsZSBwbG90cyIsc2lkZT0zLG91dGVyPVRSVUUsY2V4PTEuNSkAAAAA
AAAAAAAAAAAAAAAAAAAAAA0AAAANfSAgICNlbmQgZWxzZQAAAAAAAAEAAAABfQAAAP//////
//////////////////////////////8=

--/9DWx/yDrRhgMJTb--

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rnassar@duke.edu  Sat Jul 15 20:18:16 2000
From: rnassar@duke.edu (rnassar@duke.edu)
Date: Sat, 15 Jul 2000 21:18:16 +0200 (MET DST)
Subject: [Rd] typos in ?lm (PR#609)
Message-ID: <200007151918.VAA18656@pubhealth.ku.dk>

A couple of typos in  help(lm) 

Details:

[1st para, 7th line:]
     specification of the form `first:second' indicates the the set of
                                                        ^^^^^^^  

See Also:

     The underlying low level functions, `lm.fit' for plain, and
     `lm.fit' for weighted regression fitting.
        ^^
   [ `lm.wfit' ]

Many thanks!

Rashid Nassar

--please do not edit the information below--

Version:
 platform = i586-pc-linux-gnu
 arch = i586
 os = linux-gnu
 system = i586, linux-gnu
 status = Patched
 major = 1
 minor = 1.0
 year = 2000
 month = July
 day = 1
 language = R

Search Path:
 .GlobalEnv, package:ctest, maras7, Autoloads, package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From albrecht.gebhardt@uni-klu.ac.at  Mon Jul 17 08:39:51 2000
From: albrecht.gebhardt@uni-klu.ac.at (Albrecht Gebhardt)
Date: Mon, 17 Jul 2000 09:39:51 +0200 (MET DST)
Subject: [Rd] Makevars, PKG_CFLAGS, ...
Message-ID: <Pine.OSF.4.21.0007170930170.31690-100000@zidsrv.sci.uni-klu.ac.at>


Hi,

I'm searching for a way to override the default CFLAGS/FFLAGS (-g -02 in
my case) per package (e.g with "-g" for packages under development).
PKG_CFLAGS/PKG_FFLAGS is prepended to the remaining flags, so it can't
delete a globally set "-O2" flag.

Of course I can edit the global Makeconf file, but I was wondering if
there is a possibility to override variables from Makeconf in the Makevars
file inside a package tree, without creating a separate Makefile for this
package?


Albrecht 

......................................................................
| Albrecht Gebhardt          Tel.: (++43 463) 2700/832               |
| Institut fuer Mathematik   Fax : (++43 463) 2700/834               |
| Universitaet Klagenfurt    mailto:albrecht.gebhardt@uni-klu.ac.at  |
| Villacher Str. 161         http://www-stat.uni-klu.ac.at/~agebhard |
| A-9020 Klagenfurt, Austria                                         |
`--------------------------------------------------------------------'

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jens.oehlschlaegel@bbdo-interone.de  Mon Jul 17 17:20:34 2000
From: jens.oehlschlaegel@bbdo-interone.de (=?iso-8859-1?Q?Jens_Oehlschl=E4gel?=)
Date: Mon, 17 Jul 2000 18:20:34 +0200
Subject: [Rd] pairs(), "cex" argument has no effect (PR#603)
In-Reply-To: <200007122313.BAA06079@pubhealth.ku.dk>
Message-ID: <003e01bff00a$eff56800$c10616ac@oehl.bbdo.de>


none of

  "cex" and "cex.axis" , "cex.label"

is an official parameter to pairs()

but there is

 "cex.labels"
           ^
which works for me

As someone has work with maintaining the bugs-database,
you might want to check more carefully before declaring something as a bug.

regards


--
Dr. Jens Oehlschl弄el
Analyse
BBDO InterOne
Grnstr. 15
40212 Dsseldorf

Tel.: +49 (0)211 1379-187
Fax.: +49 (0)211 1379-461
http://www.bbdo-interone.de








> -----Original Message-----
> From: owner-r-devel@stat.math.ethz.ch
> [mailto:owner-r-devel@stat.math.ethz.ch]On Behalf Of rnassar@duke.edu
> Sent: Thursday, July 13, 2000 1:13 AM
> To: r-devel@stat.math.ethz.ch
> Cc: R-bugs@biostat.ku.dk
> Subject: [Rd] pairs(), "cex" argument has no effect (PR#603)
>
>
> Dear R Team,
>
> pairs():   "cex", "cex.axis", "cex.label" arguments do not
> seem to have an
> effect.  I am submitting this report in case they were inteded to.
>
> Thank you.
>
> Rashid Nassar
>
> --please do not edit the information below--
>
> Version:
>  platform = i586-pc-linux-gnu
>  arch = i586
>  os = linux-gnu
>  system = i586, linux-gnu
>  status = Patched
>  major = 1
>  minor = 1.0
>  year = 2000
>  month = July
>  day = 1
>  language = R
>
> Search Path:
>  .GlobalEnv, package:mva, Autoloads, package:base
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info",
> "help", or "[un]subscribe"
> (in the "body", not the subject !)  To:
> r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rnassar@duke.edu  Mon Jul 17 17:31:09 2000
From: rnassar@duke.edu (Rashid Nassar)
Date: Mon, 17 Jul 2000 12:31:09 -0400 (EDT)
Subject: [Rd] pairs(), "cex" argument has no effect (PR#603)
In-Reply-To: <003e01bff00a$eff56800$c10616ac@oehl.bbdo.de>
Message-ID: <Pine.SOL.3.91.1000717122924.13659B-100000@bio3.acpub.duke.edu>


I goofed.  Please accept my sincere apologies.


Sincerely,

Rashid Nassar


On Mon, 17 Jul 2000, =?iso-8859-1?Q?Jens_Oehlschl=E4gel?= wrote:

> Date: Mon, 17 Jul 2000 18:20:34 +0200
> From: =?iso-8859-1?Q?Jens_Oehlschl=E4gel?= <jens.oehlschlaegel@bbdo-interone.de>
> To: rnassar@duke.edu
> Cc: "'r-devel@stat.math.ethz.ch'" <R-devel@stat.math.ethz.ch>
> Subject: RE: [Rd] pairs(), "cex" argument has no effect (PR#603)
> 
> 
> none of
> 
>   "cex" and "cex.axis" , "cex.label"
> 
> is an official parameter to pairs()
> 
> but there is
> 
>  "cex.labels"
>            ^
> which works for me
> 
> As someone has work with maintaining the bugs-database,
> you might want to check more carefully before declaring something as a bug.
> 
> regards
> 
> 
> --
> Dr. Jens Oehlschl弄el
> Analyse
> BBDO InterOne
> Grnstr. 15
> 40212 Dsseldorf
> 
> Tel.: +49 (0)211 1379-187
> Fax.: +49 (0)211 1379-461
> http://www.bbdo-interone.de
> 
> 
> 
> 
> 
> 
> 
> 
> > -----Original Message-----
> > From: owner-r-devel@stat.math.ethz.ch
> > [mailto:owner-r-devel@stat.math.ethz.ch]On Behalf Of rnassar@duke.edu
> > Sent: Thursday, July 13, 2000 1:13 AM
> > To: r-devel@stat.math.ethz.ch
> > Cc: R-bugs@biostat.ku.dk
> > Subject: [Rd] pairs(), "cex" argument has no effect (PR#603)
> >
> >
> > Dear R Team,
> >
> > pairs():   "cex", "cex.axis", "cex.label" arguments do not
> > seem to have an
> > effect.  I am submitting this report in case they were inteded to.
> >
> > Thank you.
> >
> > Rashid Nassar
> >
> > --please do not edit the information below--
> >
> > Version:
> >  platform = i586-pc-linux-gnu
> >  arch = i586
> >  os = linux-gnu
> >  system = i586, linux-gnu
> >  status = Patched
> >  major = 1
> >  minor = 1.0
> >  year = 2000
> >  month = July
> >  day = 1
> >  language = R
> >
> > Search Path:
> >  .GlobalEnv, package:mva, Autoloads, package:base
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-.-.-.-.-.-.-
> > r-devel mailing list -- Read
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info",
> > "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To:
> > r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > _._._._._._._._._
> >
> 
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Mon Jul 17 21:11:30 2000
From: bates@stat.wisc.edu (bates@stat.wisc.edu)
Date: Mon, 17 Jul 2000 22:11:30 +0200 (MET DST)
Subject: [Rd] Re: [R] na.omit (PR#610)
Message-ID: <200007172011.WAA26712@pubhealth.ku.dk>

buerkle@hawaii.edu writes:

> Why is it that when a vector contains no NAs, na.omit returns an empty
> vector rather than the object/vector that was passed to it?  
> 
> >na.omit(c(1,2,3,4))          
> numeric(0)

Well, because there is a bug in na.omit.default.  The problem is in the
section of code

        omit <- seq(along = object)[is.na(object)]
        nm <- names(object)
        object <- object[-omit]

If there are no NA's in the object, then omit becomes a length 0
vector and -omit doesn't have the intended effect.

A temporary fix would be to insert
        if (length(omit) == 0) return(object)
after the first line shown above.

We'll incorporate a fix for the next release.  Thanks for reporting
the bug.

> ---------------------------
> platform i686-pc-linux-gnu
> arch     i686             
> os       linux-gnu        
> system   i686, linux-gnu  
> status                    
> major    1                
> minor    1.0              
> year     2000             
> month    June             
> day      15               
> language R
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
Douglas Bates                            bates@stat.wisc.edu
Statistics Department                    608/262-2598
University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Wed Jul 19 00:08:27 2000
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Wed, 19 Jul 2000 01:08:27 +0200
Subject: [Rd] Makevars, PKG_CFLAGS, ...
In-Reply-To: <Pine.OSF.4.21.0007170930170.31690-100000@zidsrv.sci.uni-klu.ac.at>
References: <Pine.OSF.4.21.0007170930170.31690-100000@zidsrv.sci.uni-klu.ac.at>
Message-ID: <200007182308.BAA00393@aragorn.ci.tuwien.ac.at>

>>>>> Albrecht Gebhardt writes:

> Hi,

> I'm searching for a way to override the default CFLAGS/FFLAGS (-g -02
> in my case) per package (e.g with "-g" for packages under
> development).  PKG_CFLAGS/PKG_FFLAGS is prepended to the remaining
> flags, so it can't delete a globally set "-O2" flag.

> Of course I can edit the global Makeconf file, but I was wondering if
> there is a possibility to override variables from Makeconf in the
> Makevars file inside a package tree, without creating a separate
> Makefile for this package?

In general, no.  Why would you want to do this?  The point of having
Makeconf is that it is a configuration of the development environment
that is provably known to work (as it passed make check).

CFLAGS, as per GNU Coding standards, should always be at the user's
discretion.  This is why we never add to CFLAGS.  It should be possible
to set this variable from the command line, but apparently this does not
work when using a shell script which in turn calls make.  R CMD COMPILE
works o.k. in this regard.

-k



	
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From hdrees@statlab.uni-heidelberg.de  Wed Jul 19 16:47:05 2000
From: hdrees@statlab.uni-heidelberg.de (hdrees@statlab.uni-heidelberg.de)
Date: Wed, 19 Jul 2000 17:47:05 +0200 (MET DST)
Subject: [Rd] bug in loess (PR#611)
Message-ID: <200007191547.RAA09093@pubhealth.ku.dk>

Full_Name: Holger Drees
Version: 1.0.0-1
OS: Windows NT 4.0/Linux Suse 6.3
Submission from: (NULL) (129.206.113.204)


After typing the commands

x <- seq(0,1,by=0.01)
y <- sin(6*x)+rnorm(101)
regtest <- loess(y~x,degree=1,surface="direct",family="symmetric")

regtest$fitted equals NULL. Moreover,

y-regtest$residuals

and 

predict.loess(regtest,x)

give different values, though both are supposed to give the vector of fitted
values.
The latter is the same for both choices of family ("gaussian" and "symmetric").
This holds true for both the WINDOWS and LINUX SUSE 6.3 implementation. (Splus
yields the 
correct results.) This effect occurs only with the option surface="direct".

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Jul 19 17:44:33 2000
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 19 Jul 2000 17:44:33 +0100 (BST)
Subject: [Rd] bug in loess (PR#611)
In-Reply-To: <200007191547.RAA09093@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.05.10007191737480.1724-100000@auk.stats>

On Wed, 19 Jul 2000 hdrees@statlab.uni-heidelberg.de wrote:

> Full_Name: Holger Drees
> Version: 1.0.0-1
> OS: Windows NT 4.0/Linux Suse 6.3
> Submission from: (NULL) (129.206.113.204)
> 
> 
> After typing the commands
> 
> x <- seq(0,1,by=0.01)
> y <- sin(6*x)+rnorm(101)
> regtest <- loess(y~x,degree=1,surface="direct",family="symmetric")
> 
> regtest$fitted equals NULL. Moreover,
> 
> y-regtest$residuals
> 
> and 
> 
> predict.loess(regtest,x)
> 
> give different values, though both are supposed to give the vector of fitted
> values.
> The latter is the same for both choices of family ("gaussian" and "symmetric").
> This holds true for both the WINDOWS and LINUX SUSE 6.3 implementation. (Splus
> yields the 
> correct results.) This effect occurs only with the option surface="direct".

Since you have clearly looked into this, could you please provide a patch
which gives the correct answers.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From berwin@maths.uwa.edu.au  Thu Jul 20 07:51:52 2000
From: berwin@maths.uwa.edu.au (berwin@maths.uwa.edu.au)
Date: Thu, 20 Jul 2000 08:51:52 +0200 (MET DST)
Subject: [Rd] Installing R-1.1.0 (PR#612)
Message-ID: <200007200651.IAA10988@pubhealth.ku.dk>

Dear R-developers,

I finally got around to install R 1.1.0 but had problems at the `make
check' stage.

After compiling the released R 1.1.0 version the `make check' stage
stopped while checking the examples in base.  There was some problem
with the quantile function and the check stopped complaining that NA's
are not allowed.

But I assume that this problem is already known because `make check'
passed this point after I applied the latest patches and recompiled
R.  However `make check' still chokes on base and on mva.  The last
lines in base-Ex.Rout are:

> x <- 0:15
> size <- (1:20)/4
> persp(x,size, dnb <- outer(x,size,function(x,s)dnbinom(x,s, pr= 0.4)),
+       xlab = "x", ylab = "s", zlab="density", theta = 150)
> title(tit <- "negative binomial density(x,s, pr = 0.4)  vs.  x & s")
> 
> image  (x,size, log10(dnb), main= paste("log [",tit,"]"))
Error in hsv(h, s, v, gamma) : invalid HSV color
Execution halted

And the last lines in mva-Ex.Rout are:

> prcomp(USArrests, scale = TRUE)
Standard deviations:
[1] 1.5748783 0.9948694 0.5971291 0.4164494

Rotation:
                PC1        PC2        PC3         PC4
Murder   -0.5358995 -0.4181809  0.3412327 -0.64922780
Assault  -0.5831836 -0.1879856  0.2681484  0.74340748
UrbanPop -0.2781909  0.8728062  0.3780158 -0.13387773
Rape     -0.5434321  0.1673186 -0.8177779 -0.08902432
> plot(prcomp(USArrests))
Error in hsv(h, s, v, gamma) : invalid HSV color
Execution halted

Any idea how I could get around this problem?  I presume that this
problem has to do with the number of available colors?  (For me, HSV
means "Hamburger Sport Verein", a German soccer club ;-)) ). 

Cheers,

        Berwin

--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = Patched
 major = 1
 minor = 1.0
 year = 2000
 month = July
 day = 17
 language = R

Search Path:
 .GlobalEnv, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Jul 20 08:33:01 2000
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 20 Jul 2000 08:33:01 +0100 (BST)
Subject: [Rd] RFC: System and time support functions in R
Message-ID: <Pine.GSO.4.05.10007200826030.9485-100000@auk.stats>

I've been looking over system utility functions that we might want to
add to R.  A few come out of specific needs, others from looking at
other systems and what people are using system() for.  I've taken
account of Paul Gilbert's comments posted here a while ago (and I
think covered all except the use of mailers).

We currently have

date
*.socket
file.create
file.exists
file.remove
file.append
dir.create
basename
dirname
list.file/dir
unlink         -- it is none too clear what this should do for dirs.
file.show
getenv


S-PLUS 5.x has

access
files.in.dir	-- we have list.files.
is.dir
mkdir		-- we have dir.create
rmdir		-- recursive or not (unlink only removes empty directories)


I have added today for R-devel (Unix and Wundows)

file.access()	-- an access() work-alike.
file.info()	-- subsumes is.dir(), and give the information from
		   stat(2) calls.
file.copy	-- via file.create and file.append.
Sys.info()	-- give the information from uname(2) (including machine
		   name) and getlogin(2) (the login name).

Things which I think we still may need:

putenv() -- or is `setenv' a better name?  (putenv is the POSIX name).

sleep() -- called Sys.sleep()?, and with sub-second accuracy.
	   Tricky to do with event loops running, but looks possible.
	   Package xgobi under Unix has system("sleep 3"), which is
	   not a good idea in an event-driven system.  I have this
	   running on Windows for xgobi there.

unlink() -- I suggest we add a recursive argument, defaulting to
	    FALSE?  (It is currently TRUE on most platforms.)


The other main area that needs something more is date/times.  For the
moment file.info returns times as days/fractional days since 1 Jan
1970, which chron() can interpret.  But that is not *quite* correct,
as not all days are the same length due to the (rare) use of
leap-seconds.  And chron does not know about timezones.

My suggestion here is to implement a time class called POSIXtime which is
just POSIX's time_t. (Number of seconds since 1 Jan 1970.) And another time
class POSIXtm which is an R list giving a struct tm (secs, mins, hours, day
of month, month, year, day of week, day of year).  (I think it also needs
to record the timezone used.)  Then we can have R functions as vectorized
wrappers for the POSIX functions (not necesarily with these names)

time (say Sys.date):    date() as a POSIXtime variable.
localtime / gmtime:     convert POSIXtime to POSIXtm (local TZ/UTC)
mktime:                 convert POSIXtm to POSIXtime
strftime:               convert POSIXtm to character string, flexibly.
difftime:		difference between times in secs.
			(The wrappers for the last two could handle
			POSIXtime and POSIXtm objects.)

(Perhaps if these do not exist on a platform (unlikely) we can have
less accurate alternatives in our code.  They exist on Windows.)

Possibly we might want to allow

tzset:		        set a time zone, for the above functions

or perhaps better just have tz as an argument to the conversion functions.

Is this is a sensible design strategy?  I am reluctant to add another set
of date functions after packages date and chron, but cannot see how to
easily leverage those to do what I need, and in any case POSIX has thought
this through.


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Thu Jul 20 12:17:35 2000
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Thu, 20 Jul 2000 13:17:35 +0200 (CEST)
Subject: [Rd] RFC: System and time support functions in R
In-Reply-To: <Pine.GSO.4.05.10007200826030.9485-100000@auk.stats>
References: <Pine.GSO.4.05.10007200826030.9485-100000@auk.stats>
Message-ID: <14710.57295.482498.128666@fangorn.ci.tuwien.ac.at>

>>>>> Prof Brian D Ripley writes:

> I've been looking over system utility functions that we might want to
> add to R.  A few come out of specific needs, others from looking at
> other systems and what people are using system() for.  I've taken
> account of Paul Gilbert's comments posted here a while ago (and I
> think covered all except the use of mailers).

> ...

> The other main area that needs something more is date/times.  For the
> moment file.info returns times as days/fractional days since 1 Jan
> 1970, which chron() can interpret.  But that is not *quite* correct,
> as not all days are the same length due to the (rare) use of
> leap-seconds.  And chron does not know about timezones.

> My suggestion here is to implement a time class called POSIXtime which is
> just POSIX's time_t. (Number of seconds since 1 Jan 1970.) And another time
> class POSIXtm which is an R list giving a struct tm (secs, mins, hours, day
> of month, month, year, day of week, day of year).  (I think it also needs
> to record the timezone used.)  Then we can have R functions as vectorized
> wrappers for the POSIX functions (not necesarily with these names)

> time (say Sys.date):    date() as a POSIXtime variable.
> localtime / gmtime:     convert POSIXtime to POSIXtm (local TZ/UTC)
> mktime:                 convert POSIXtm to POSIXtime
> strftime:               convert POSIXtm to character string, flexibly.
> difftime:		difference between times in secs.
> 			(The wrappers for the last two could handle
> 			POSIXtime and POSIXtm objects.)

> (Perhaps if these do not exist on a platform (unlikely) we can have
> less accurate alternatives in our code.  They exist on Windows.)

> Possibly we might want to allow

> tzset:		        set a time zone, for the above functions

> or perhaps better just have tz as an argument to the conversion functions.

> Is this is a sensible design strategy?  I am reluctant to add another
> set of date functions after packages date and chron, but cannot see
> how to easily leverage those to do what I need, and in any case POSIX
> has thought this through.

David James and I are currently discussing re-implementing chron, and
among the issues is interfacing ANSI C time & date functions as you
suggested above.  We should also provide strptime() which is not ANSI
but simple to implement without locale support, and maybe possible to
take from glibc otherwise (assuming it is not in the system's libs).

(Btw, why POSIX?  K&R gave me the feeling that the above is all ANSI.)

I will cc David on this.  The R list (corresponding to struct tm) could
as well be the basic representation of a chron object ...

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Prof Brian Ripley <ripley@stats.ox.ac.uk>  Thu Jul 20 12:29:53 2000
From: Prof Brian Ripley <ripley@stats.ox.ac.uk> (Prof Brian Ripley)
Date: Thu, 20 Jul 2000 12:29:53 +0100 (BST)
Subject: [Rd] RFC: System and time support functions in R
Message-ID: <200007201129.MAA07463@toucan.stats.ox.ac.uk>


> From: Kurt Hornik <Kurt.Hornik@ci.tuwien.ac.at>
> Date: Thu, 20 Jul 2000 13:17:35 +0200 (CEST)
> 
> >>>>> Prof Brian D Ripley writes:
> 
> > I've been looking over system utility functions that we might want to
> > add to R.  A few come out of specific needs, others from looking at
> > other systems and what people are using system() for.  I've taken
> > account of Paul Gilbert's comments posted here a while ago (and I
> > think covered all except the use of mailers).
> 
> > ...
> 
> > The other main area that needs something more is date/times.  For the
> > moment file.info returns times as days/fractional days since 1 Jan
> > 1970, which chron() can interpret.  But that is not *quite* correct,
> > as not all days are the same length due to the (rare) use of
> > leap-seconds.  And chron does not know about timezones.
> 
> > My suggestion here is to implement a time class called POSIXtime which is
> > just POSIX's time_t. (Number of seconds since 1 Jan 1970.) And another time
> > class POSIXtm which is an R list giving a struct tm (secs, mins, hours, day
> > of month, month, year, day of week, day of year).  (I think it also needs
> > to record the timezone used.)  Then we can have R functions as vectorized
> > wrappers for the POSIX functions (not necesarily with these names)
> 
> > time (say Sys.date):    date() as a POSIXtime variable.
> > localtime / gmtime:     convert POSIXtime to POSIXtm (local TZ/UTC)
> > mktime:                 convert POSIXtm to POSIXtime
> > strftime:               convert POSIXtm to character string, flexibly.
> > difftime:		difference between times in secs.
> > 			(The wrappers for the last two could handle
> > 			POSIXtime and POSIXtm objects.)
> 
> > (Perhaps if these do not exist on a platform (unlikely) we can have
> > less accurate alternatives in our code.  They exist on Windows.)
> 
> > Possibly we might want to allow
> 
> > tzset:		        set a time zone, for the above functions
> 
> > or perhaps better just have tz as an argument to the conversion functions.
> 
> > Is this is a sensible design strategy?  I am reluctant to add another
> > set of date functions after packages date and chron, but cannot see
> > how to easily leverage those to do what I need, and in any case POSIX
> > has thought this through.
> 
> David James and I are currently discussing re-implementing chron, and
> among the issues is interfacing ANSI C time & date functions as you
> suggested above.  We should also provide strptime() which is not ANSI
> but simple to implement without locale support, and maybe possible to
> take from glibc otherwise (assuming it is not in the system's libs).
> 
> (Btw, why POSIX?  K&R gave me the feeling that the above is all ANSI.)

ISO C (aka ANSI C) has time_t, but no guarantee that it is seconds past
1/1/1970.  POSIX in general tightens up the definitions considerably.

> I will cc David on this.  The R list (corresponding to struct tm) could
> as well be the basic representation of a chron object ...

I would be very happy for someone else to do this as part of chron (say),
*but* I do think at least the basic stuff should be in base R 1.2.x.
(Not even in package chron bundled with R.)   That way we can use
this for calendar and file dates.

If we go for the R list I think we do need to record the timezone in the
list (POSIX does not).

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Jul 20 14:24:33 2000
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 20 Jul 2000 15:24:33 +0200 (CEST)
Subject: [Rd] RFC: System and time support functions in R
In-Reply-To: <200007201129.MAA07463@toucan.stats.ox.ac.uk>
References: <200007201129.MAA07463@toucan.stats.ox.ac.uk>
Message-ID: <14710.64913.518014.831839@gargle.gargle.HOWL>

>>>>> "BDR" == Prof Brian Ripley <ripley@stats.ox.ac.uk> writes:

    >> From: Kurt Hornik <Kurt.Hornik@ci.tuwien.ac.at>
    >> Date: Thu, 20 Jul 2000 13:17:35 +0200 (CEST)
    >> 
    >> >>>>> Prof Brian D Ripley writes:
    >> 
    >> > I've been looking over system utility functions that we might want to
    >> > add to R.  A few come out of specific needs, others from looking at
    >> > other systems and what people are using system() for.  I've taken
    >> > account of Paul Gilbert's comments posted here a while ago (and I
    >> > think covered all except the use of mailers).
    >> 
    >> > ...
    >> 
    >> > The other main area that needs something more is date/times.  For the
    >> > moment file.info returns times as days/fractional days since 1 Jan
    >> > 1970, which chron() can interpret.  But that is not *quite* correct,
    >> > as not all days are the same length due to the (rare) use of
    >> > leap-seconds.  And chron does not know about timezones.
    >> 
    >> > My suggestion here is to implement a time class called POSIXtime
    >> > which is just POSIX's time_t. (Number of seconds since 1 Jan
    >> > 1970.) And another time class POSIXtm which is an R list giving a
    >> > struct tm (secs, mins, hours, day of month, month, year, day of
    >> > week, day of year).  (I think it also needs to record the timezone
    >> > used.)  Then we can have R functions as vectorized wrappers for
    >> > the POSIX functions (not necesarily with these names)
    >> 
    >> > time (say Sys.date):    date() as a POSIXtime variable.
    >> > localtime / gmtime:     convert POSIXtime to POSIXtm (local TZ/UTC)
    >> > mktime:                 convert POSIXtm to POSIXtime
    >> > strftime:               convert POSIXtm to character string, flexibly.
    >> > difftime:		difference between times in secs.
    >> > 			(The wrappers for the last two could handle
    >> > 			POSIXtime and POSIXtm objects.)
    >> 
    >> > (Perhaps if these do not exist on a platform (unlikely) we can have
    >> > less accurate alternatives in our code.  They exist on Windows.)
    >> 
    >> > Possibly we might want to allow
    >> 
    >> > tzset:		        set a time zone, for the above functions
    >> 
    >> > or perhaps better just have tz as an argument to the conversion
    >> > functions.
    >> 
    >> > Is this is a sensible design strategy?  I am reluctant to add another
    >> > set of date functions after packages date and chron, but cannot see
    >> > how to easily leverage those to do what I need, and in any case POSIX
    >> > has thought this through.
    >> 
    >> David James and I are currently discussing re-implementing chron, and
    >> among the issues is interfacing ANSI C time & date functions as you
    >> suggested above.  We should also provide strptime() which is not ANSI
    >> but simple to implement without locale support, and maybe possible to
    >> take from glibc otherwise (assuming it is not in the system's libs).
    >> 
    >> (Btw, why POSIX?  K&R gave me the feeling that the above is all ANSI.)

(thank you for getting this going;  I agree that it'd make sense to have
the basic class (& basic methods) as part of "base R".

    BDR> ISO C (aka ANSI C) has time_t, but no guarantee that it is seconds past
    BDR> 1/1/1970.  POSIX in general tightens up the definitions considerably.

Most you probably know this, .. but
since there's the "unix millenium bug" aka "C millenium bug",
POSIX or it's successor will have to extend/change the definition of time_t
to use 64bit integers (or something else) instead of (32-bit) long int as
it is now, since time will overflow some time in 2038 (?).
Our structure should make sure to accomodate more than only about 2^31
seconds since 1970-Jan-01.

chron() even now uses double which should be okay, even if we'd go down to
parts of seconds -- something we might consider.  
How are financial "tick data" recorded nowadays (and in five years from now) ??

    >> I will cc David on this.  The R list (corresponding to struct tm) could
    >> as well be the basic representation of a chron object ...

    BDR> I would be very happy for someone else to do this as part of chron (say),
    BDR> *but* I do think at least the basic stuff should be in base R 1.2.x.
    BDR> (Not even in package chron bundled with R.)   That way we can use
    BDR> this for calendar and file dates.

    BDR> If we go for the R list I think we do need to record the timezone
    BDR> in the list (POSIX does not).
yes!
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Prof Brian Ripley <ripley@stats.ox.ac.uk>  Thu Jul 20 14:33:51 2000
From: Prof Brian Ripley <ripley@stats.ox.ac.uk> (Prof Brian Ripley)
Date: Thu, 20 Jul 2000 14:33:51 +0100 (BST)
Subject: [Rd] RFC: System and time support functions in R
Message-ID: <200007201333.OAA24589@toucan.stats.ox.ac.uk>

> From: Martin Maechler <maechler@stat.math.ethz.ch>
> Date: Thu, 20 Jul 2000 15:24:33 +0200 (CEST)
> To: Prof Brian Ripley <ripley@stats.ox.ac.uk>

>     BDR> ISO C (aka ANSI C) has time_t, but no guarantee that it is seconds 
past
>     BDR> 1/1/1970.  POSIX in general tightens up the definitions considerably.
> 
> Most you probably know this, .. but
> since there's the "unix millenium bug" aka "C millenium bug",
> POSIX or it's successor will have to extend/change the definition of time_t
> to use 64bit integers (or something else) instead of (32-bit) long int as
> it is now, since time will overflow some time in 2038 (?).
> Our structure should make sure to accomodate more than only about 2^31
> seconds since 1970-Jan-01.

Nothing in POSIX that I know of says time_t has to be an signed 32-bit int,
and some systems use long (64-bit) or double or long double already,
my book says.  There is already a problem with 32-bit ints in only
going back to the early years of this century.

This is an argument against making use of the system conversion
functions for a chron replacement, and I think that what I called
POSIXtm (an list) is a more general format.

> chron() even now uses double which should be okay, even if we'd go down to
> parts of seconds -- something we might consider.

I intended to use double in R to store time_t.  (Yes, I know file.info
does not currently, but what is there is a place holder.)

> How are financial "tick data" recorded nowadays (and in five years from now)

To one second, those that I have used.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pd@blueberry.kubism.ku.dk  Fri Jul 21 06:15:05 2000
From: pd@blueberry.kubism.ku.dk (Peter Dalgaard BSA)
Date: Fri, 21 Jul 2000 07:15:05 +0200
Subject: [Rd] Bug list summary (automatic post)
Message-ID: <200007210515.HAA13968@blueberry.kubism.ku.dk>

=================================================
This is an automated summary of the status of the R-bugs
repository.

Note that this may be neither complete nor perfectly
correct at any given instance: Not all bugs are reported,
and some reported bugs may have been fixed, but the
repository not yet updated.

Some bug fixes are difficult to verify because they pertain
to specific hardware or operating system versions. If you
have information to contribute, please do so.

If you happen to know how to fix a problem please send
patches to the bug repository, too.

New bugs are reported either through the web
interface at r-bugs.biostat.ku.dk or via email to
r-bugs@biostat.ku.dk. The bug.report() function can be
used to automate parts of the procedure on many systems.
Followups on older bugs can be done by including the string
"(PR#999)" in the Subject of an email (change 999 to the
actual reference number, of course!).
=================================================

Directory:  Accuracy

* PR# 594 *
Subject: svd() (Linpack) problems/bug for ill-conditioned matrices
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Wed, 5 Jul 2000 18:32:01 +0200 (CEST)

Directory:  Add-ons

* PR# 567 *
Subject: ctest not works
From: George Diniz <george@cpqam.fiocruz.br>
Date: Sun, 12 Mar 2000 12:03:45 -0200
--possibly the RH6.2 Fortran bug
* PR# 503 *
Subject: dmvnorm() bug in e1071
From: "Gregory R. Warnes" <warnes@biostat.washington.edu>
Date: Fri, 24 Mar 2000 03:24:45 +0000 (GMT)
* PR# 496 *
From: bonneau@epi.roazhon.inra.fr (en148)
Date: Tue, 21 Mar 2000 10:57:13 +0100 (MET)
--base R has no est.variogram function.
--This appears to be a bug report on sgeostat.

Directory:  Analyses

* PR# 582 *
Subject: lm.{w}fit(x,y,*) : fails when x has no column names
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Mon, 26 Jun 2000 15:50:58 +0200 (CEST)
--fixed in "R-(release-)patched, i.e., for 1.1.1

Directory:  Documentation

* PR# 581 *
Subject: help screens: typos, suggestions
From: Rashid Nassar <rnassar@duke.edu>
Date: Sun, 25 Jun 2000 15:59:57 -0400 (EDT)
--fixed in R-(release-)patched, i.e., for 1.1.1                                   
--    1.1

Directory:  Graphics

* PR# 603 *
Subject: pairs(), "cex" argument has no effect
From: Rashid Nassar <rnassar@duke.edu>
Date: Wed, 12 Jul 2000 19:08:11 -0400 (EDT)
* PR# 565 *
Subject: Postscript device ignores title if it is too long.
From: Stephen Eglen <stephen@anc.ed.ac.uk>
Date: Fri, 9 Jun 2000 09:17:09 +0100 (BST)
--documentation point was fixed for 1.1.0
* PR# 202 *
Subject: persp box occlusion bug
From: wsi@gcal.ac.uk
Date: Wed, 2 Jun 1999 15:02:03 +0200 (MET DST)
--The persp algorithm does not apply the occlusion rules to the frame, 
--which is always plotted first. 
--A bug, but not very simple to fix.
* PR# 584 *
Subject: par(lty = "1") -- lty storage-etc bug
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Tue, 27 Jun 2000 09:11:36 +0200 (CEST)
* PR# 580 *
Subject: dotplot() colors reversed
From: Rashid Nassar <rnassar@duke.edu>
Date: Sun, 25 Jun 2000 15:36:00 -0400 (EDT)

Directory:  In-Out

none

Directory:  Installation

* PR# 597 *
Subject: multiply defined symbols
From: plucas@csd.abdn.ac.uk
Date: Fri, 7 Jul 2000 12:23:44 +0200 (MET DST)
--Probably system-specific due to use of fort77
* PR# 467 *
Subject: Re: [R] Re: R-1.0.0 is released
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 01 Mar 2000 20:26:40 +0100
--followup to PR#466
* PR# 466 *
Subject: Re: R-1.0.0 is released
From: bhoel@server.python.net (Berthold=?iso-8859-1?q?_H=F6llmann?=)
Date: 01 Mar 2000 16:00:54 +0100
* PR# 571 *
Subject:  Missing -lc for compilation on AIX (R 1.1.0) 
From: Thomas Vogels <tov@infiniti.ece.cmu.edu>
Date: Thu, 15 Jun 2000 13:42:50 -0400
* PR# 485 *
Subject: Install R1.0.0
From: Lynn Zhang <lyzhang@umich.edu>
Date: Mon, 13 Mar 2000 16:10:52 -0500 (EST)

Directory:  Language

* PR# 589 *
Subject: Bug with lists and expressions
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Tue, 04 Jul 2000 02:26:41 GMT
* PR# 412 *
Subject: anomalies with call objects
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 06 Feb 2000 01:18:50 +0100
* PR# 408 *
Subject: convolution bug
From: wsimpson@gcal.ac.uk
Date: Fri, 28 Jan 2000 11:17:36 +0100 (MET)
* PR# 587 *
Subject: dim(a <- ...) sets invisible flag erronously
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Fri, 30 Jun 2000 20:15:59 +0200 (MET DST)
--Not specific to dim: R differs from S for most functions here.
* PR# 576 *
Subject:  exists() and the mode argument 
From: J.C.Rougier@durham.ac.uk
Date: Tue, 20 Jun 2000 12:03:36 +0100 (BST)

Directory:  Low-level

* PR# 608 *
Subject: seg.fault in eval.c
From: Adrian Vance Custer <acuster@nopause.berkeley.edu>
Date: Sat, 15 Jul 2000 01:22:23 -0700
* PR# 536 *
Subject: Problem with match.arg()
From: kjetikj@astro.uio.no
Date: Sun, 7 May 2000 13:58:21 +0200 (MET DST)
--1.0.0 bug fixed for 1.0.1 ??
* PR# 505 *
Subject: interrupted save 
From: Thomas Lumley <thomas@biostat.washington.edu>
Date: Sat, 25 Mar 2000 12:16:50 -0800 (PST)
* PR# 551 *
Subject: Bus Error crash
From: kjetikj@astro.uio.no
Date: Mon, 22 May 2000 13:06:48 +0200 (MET DST)
--- ??? -- not (yet) reproducible with small examples
--- after load()ing large objects
--- on two different DEC alpha versions
* PR# 545 *
Subject: Segmentation Fault of unknown cause
From: kjetikj@astro.uio.no
Date: Mon, 15 May 2000 16:29:29 +0200 (MET DST)

Directory:  Misc

none

Directory:  Models

* PR# 600 *
Subject: Faulty handling of aliasing in predict.lm; wrong constant
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Wed, 12 Jul 2000 14:46:56 +1000

Directory:  Startup

* PR# 486 *
Subject: Re: autoload error in profile {was anova-bug in R-version  1.0.0?}
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Tue, 14 Mar 2000 10:32:43 +0100 (MET)
--workaround to the origin problem in 1.0.1
--New report: try does not work from the profile.

Directory:  System-specific

* PR# 592 *
Subject: tseries bug
From: przemat@itti.com.pl
Date: Tue, 4 Jul 2000 14:52:17 +0200 (MET DST)
* PR# 490 *
Subject: R-1.0.0 on alpha/osf1 memory glitch
From: Ray Brownrigg <Ray.Brownrigg@mcs.vuw.ac.nz>
Date: Fri, 17 Mar 2000 11:25:30 +1300 (NZDT)
* PR# 452 *
Subject: problem with glm
From: Brad McNeney <mcneney@cs.sfu.ca>
Date: Fri, 18 Feb 2000 17:51:54 -0800 (PST)
--Problems on Alpha's with glm. Status unclear
* PR# 533 *
Subject: acepack, akima and tripack will not load 
From: mallen@tntech.edu
Date: Thu, 4 May 2000 19:18:59 +0200 (MET DST)
--related to PR#521: probably compiler-specific
* PR# 521 *
Subject: akima core dumps on loading
From: santini@dsi.unimi.it
Date: Mon, 17 Apr 2000 11:30:41 +0200 (MET DST)
--Probably compiler-specific
* PR# 547 *
Subject: system(.., ignore.stderr = TRUE)  problem on Solaris
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Fri, 19 May 2000 21:12:02 +0200 (CEST)
--redirection of stderr to /dev/null in system occurs before the command
--is tried on some systems and after on others.
* PR# 537 *
Subject: eigen broken on AIX with R-devel?
From: Thomas J Vogels <tov@ece.cmu.edu>
Date: 08 May 2000 12:01:04 -0400
--AIX, probably compiler-specific
* PR# 534 *
Subject: wsfe bug report just made
From: mallen@tntech.edu
Date: Thu, 4 May 2000 19:20:35 +0200 (MET DST)
--follow up to PR#533

Directory:  TooMuchAtOnce

* PR# 532 *
Subject: Bug report -- 1.0.1, HP-UX
From: Russ Lenth <russell-lenth@uiowa.edu>
Date: Wed, 03 May 2000 12:15:26 -0500
--1) is a user error.
--2) command-line history has no information
--3) help.start looks like a permissions problem. 

Directory:  Windows

none

Directory:  incoming

* PR# 612 *
Subject:  Installing R-1.1.0 
From: Berwin Turlach <berwin@maths.uwa.edu.au>
Date: Thu, 20 Jul 2000 14:50:21 +0800
* PR# 611 *
Subject: bug in loess
From: hdrees@statlab.uni-heidelberg.de
Date: Wed, 19 Jul 2000 17:47:04 +0200 (MET DST)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Jul 21 06:23:47 2000
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 21 Jul 2000 06:23:47 +0100 (BST)
Subject: [Rd] Installing R-1.1.0 (PR#612)
In-Reply-To: <200007200651.IAA10988@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.05.10007210617470.4284-100000@auk.stats>

Berwin,

i686-pc-linux-gnu is a widely used and tested platform for R, and
we know that 1.1.0 and the latest patched version both pass `make check'
on a Debian distribution (2.2?) and RedHat 6.0 and (RedHat 6.2
with gcc-2.95.2) and various others.

This suggests that the problem is specific to your Linux installation,
so can you give us more details please?

On Thu, 20 Jul 2000 berwin@maths.uwa.edu.au wrote:

> Dear R-developers,
> 
> I finally got around to install R 1.1.0 but had problems at the `make
> check' stage.
> 
> After compiling the released R 1.1.0 version the `make check' stage
> stopped while checking the examples in base.  There was some problem
> with the quantile function and the check stopped complaining that NA's
> are not allowed.
> 
> But I assume that this problem is already known because `make check'
> passed this point after I applied the latest patches and recompiled
> R.  However `make check' still chokes on base and on mva.  The last
> lines in base-Ex.Rout are:
> 
> > x <- 0:15
> > size <- (1:20)/4
> > persp(x,size, dnb <- outer(x,size,function(x,s)dnbinom(x,s, pr= 0.4)),
> +       xlab = "x", ylab = "s", zlab="density", theta = 150)
> > title(tit <- "negative binomial density(x,s, pr = 0.4)  vs.  x & s")
> > 
> > image  (x,size, log10(dnb), main= paste("log [",tit,"]"))
> Error in hsv(h, s, v, gamma) : invalid HSV color
> Execution halted
> 
> And the last lines in mva-Ex.Rout are:
> 
> > prcomp(USArrests, scale = TRUE)
> Standard deviations:
> [1] 1.5748783 0.9948694 0.5971291 0.4164494
> 
> Rotation:
>                 PC1        PC2        PC3         PC4
> Murder   -0.5358995 -0.4181809  0.3412327 -0.64922780
> Assault  -0.5831836 -0.1879856  0.2681484  0.74340748
> UrbanPop -0.2781909  0.8728062  0.3780158 -0.13387773
> Rape     -0.5434321  0.1673186 -0.8177779 -0.08902432
> > plot(prcomp(USArrests))
> Error in hsv(h, s, v, gamma) : invalid HSV color
> Execution halted
> 
> Any idea how I could get around this problem?  I presume that this
> problem has to do with the number of available colors?  (For me, HSV
> means "Hamburger Sport Verein", a German soccer club ;-)) ). 

Look at ?hsv for the interpretation.  As I understand it hsv is a variant
on hsb.

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From berwin@maths.uwa.edu.au  Fri Jul 21 11:06:38 2000
From: berwin@maths.uwa.edu.au (Berwin Turlach)
Date: Fri, 21 Jul 2000 18:06:38 +0800 (WST)
Subject: [Rd] Installing R-1.1.0 (PR#612)
In-Reply-To: <Pine.GSO.4.05.10007210617470.4284-100000@auk.stats>
References: <200007200651.IAA10988@pubhealth.ku.dk>
 <Pine.GSO.4.05.10007210617470.4284-100000@auk.stats>
Message-ID: <14712.8366.469912.970376@bossiaea.maths.uwa.edu.au>

Dear Brian,

>>>>> "BDR" == Prof Brian D Ripley <ripley@stats.ox.ac.uk> writes:

  BDR> i686-pc-linux-gnu is a widely used and tested platform for R,
  BDR> and we know that 1.1.0 and the latest patched version both pass
  BDR> `make check' on a Debian distribution (2.2?) and RedHat 6.0 and
  BDR> (RedHat 6.2 with gcc-2.95.2) and various others.

  BDR> This suggests that the problem is specific to your Linux
  BDR> installation, so can you give us more details please?
Sure. 

At the end of ./configure in the unpacked R-1.1.0 directory I get:

    R is now configured for i686-pc-linux-gnu
    
      Source directory:         .
      Installation directory:   /usr/local.own
      C compiler:               gcc  -mieee-fp -D__NO_MATH_INLINES -g -O2
      FORTRAN compiler:         g77  -g -O2
      X11 support:              yes
      Gnome support:            no
      Tcl/Tk support:           yes

I append below the config.cache that is created.

My system is essentially a RedHat 6.0 with a 2.2.10 kernel.

I am using the Pentium GCC (http://www.goof.com/pcg/)

    bossiaea:/opt/R/R-1.1.0$ which gcc
    /usr/local.own/bin/gcc
    bossiaea:/opt/R/R-1.1.0$ gcc --version
    pgcc-2.91.60

(Perhaps this one could be updated.)

My computer has a S3 Trio3d graphics card and I could never get it to
work properly with any of the drivers from XFree86.  Instead I am
using a frame buffer device.  I am using the AnotherLevel
configuration of FVWM2 as my window environemnt.  When I query the
system about FVWM I get:

    Serverhost=bossiaea, Clienthost=bossiaea
    Hostname=bossiaea, Ostype=Linux, User=berwin
    Version=11, Revision=6
    Vendor=The XFree86 Project, Inc, Release=3330
    Width=1024, Height=768
    X_Resolution=2951, Y_Resolution=2954
    Planes=8, Class=PseudoColor, Color=Yes
    Fvwm_Version=2.2, Options=SHAPE XPM M4
    Fvwmdir=/usr/X11R6/lib/X11/fvwm2

I have XFree86 3.3.5 installed, so this could perhaps be updated too.

    bossiaea:/opt/R/R-1.1.0$ rpm -aq | grep -i xfree
    XFree86-VGA16-3.3.5-1.6.0
    XFree86-S3V-3.3.5-1.6.0
    XFree86-xfs-3.3.5-1.6.0
    XFree86-S3-3.3.5-1.6.0
    XFree86-75dpi-fonts-3.3.5-1.6.0
    XFree86-libs-3.3.5-1.6.0
    XFree86-100dpi-fonts-3.3.5-1.6.0
    XFree86-SVGA-3.3.5-1.6.0
    XFree86-FBDev-3.3.3.1-49
    XFree86-3.3.5-1.6.0
    XFree86-devel-3.3.5-1.6.0

Any other information that could be helpful?

Cheers,

        Berwin

+++++++++++++++++++++++++ config.cache +++++++++++++++++++++++++
# This file is a shell script that caches the results of configure
# tests run on this system so they can be shared between configure
# scripts and configure runs.  It is not useful on other systems.
# If it contains results you don't want to keep, you may remove or edit it.
#
# By default, configure uses ./config.cache as the cache file,
# creating it if it does not exist already.  You can give configure
# the --cache-file=FILE option to use a different cache file; that is
# what configure does when it calls configure scripts in
# subdirectories, so they share the cache.
# Giving --cache-file=/dev/null disables caching, for debugging configure.
# config.status only pays attention to the cache file if you give it the
# --recheck option to rerun configure.
#
ac_cv_c_bigendian=${ac_cv_c_bigendian='no'}
ac_cv_c_const=${ac_cv_c_const='yes'}
ac_cv_flibs=${ac_cv_flibs=' -lg2c -lm -L/usr/local.own/share/icon.9.3.1/ilib -L/usr/local.own/lib/gcc-lib/i686-pc-linux-gnu/pgcc-2.91.60 -L/usr/local.own/i686-pc-linux-gnu/lib -L/usr/local.own/lib -lm'}
ac_cv_func___setfpucw=${ac_cv_func___setfpucw='no'}
ac_cv_func_acosh=${ac_cv_func_acosh='yes'}
ac_cv_func_alloca_works=${ac_cv_func_alloca_works='yes'}
ac_cv_func_asinh=${ac_cv_func_asinh='yes'}
ac_cv_func_atanh=${ac_cv_func_atanh='yes'}
ac_cv_func_bcopy=${ac_cv_func_bcopy='yes'}
ac_cv_func_connect=${ac_cv_func_connect='yes'}
ac_cv_func_finite=${ac_cv_func_finite='yes'}
ac_cv_func_getcwd=${ac_cv_func_getcwd='yes'}
ac_cv_func_gethostbyname=${ac_cv_func_gethostbyname='yes'}
ac_cv_func_hypot=${ac_cv_func_hypot='yes'}
ac_cv_func_isnan=${ac_cv_func_isnan='yes'}
ac_cv_func_matherr=${ac_cv_func_matherr='yes'}
ac_cv_func_memcpy=${ac_cv_func_memcpy='yes'}
ac_cv_func_memmove=${ac_cv_func_memmove='yes'}
ac_cv_func_popen=${ac_cv_func_popen='yes'}
ac_cv_func_remove=${ac_cv_func_remove='yes'}
ac_cv_func_rint=${ac_cv_func_rint='yes'}
ac_cv_func_shmat=${ac_cv_func_shmat='yes'}
ac_cv_func_strcoll=${ac_cv_func_strcoll='yes'}
ac_cv_func_strdup=${ac_cv_func_strdup='yes'}
ac_cv_func_system=${ac_cv_func_system='yes'}
ac_cv_func_times=${ac_cv_func_times='yes'}
ac_cv_func_vfork_works=${ac_cv_func_vfork_works='yes'}
ac_cv_func_vprintf=${ac_cv_func_vprintf='yes'}
ac_cv_func_vsnprintf=${ac_cv_func_vsnprintf='yes'}
ac_cv_have_x=${ac_cv_have_x='have_x=yes 		ac_x_includes=/usr/X11R6/include ac_x_libraries=/usr/X11R6/lib'}
ac_cv_header_alloca_h=${ac_cv_header_alloca_h='yes'}
ac_cv_header_dirent_dirent_h=${ac_cv_header_dirent_dirent_h='yes'}
ac_cv_header_dl_h=${ac_cv_header_dl_h='no'}
ac_cv_header_dlfcn_h=${ac_cv_header_dlfcn_h='yes'}
ac_cv_header_elf_h=${ac_cv_header_elf_h='yes'}
ac_cv_header_floatingpoint_h=${ac_cv_header_floatingpoint_h='no'}
ac_cv_header_fpu_control_h=${ac_cv_header_fpu_control_h='yes'}
ac_cv_header_ieee754_h=${ac_cv_header_ieee754_h='yes'}
ac_cv_header_ieeefp_h=${ac_cv_header_ieeefp_h='no'}
ac_cv_header_locale_h=${ac_cv_header_locale_h='yes'}
ac_cv_header_netdb_h=${ac_cv_header_netdb_h='yes'}
ac_cv_header_netinet_in_h=${ac_cv_header_netinet_in_h='yes'}
ac_cv_header_netinet_tcp_h=${ac_cv_header_netinet_tcp_h='yes'}
ac_cv_header_png_h=${ac_cv_header_png_h='yes'}
ac_cv_header_readline_history_h=${ac_cv_header_readline_history_h='yes'}
ac_cv_header_readline_readline_h=${ac_cv_header_readline_readline_h='yes'}
ac_cv_header_rpc_rpc_h=${ac_cv_header_rpc_rpc_h='yes'}
ac_cv_header_rpc_xdr_h=${ac_cv_header_rpc_xdr_h='yes'}
ac_cv_header_stdc=${ac_cv_header_stdc='yes'}
ac_cv_header_string_h=${ac_cv_header_string_h='yes'}
ac_cv_header_sys_param_h=${ac_cv_header_sys_param_h='yes'}
ac_cv_header_sys_socket_h=${ac_cv_header_sys_socket_h='yes'}
ac_cv_header_sys_stat_h=${ac_cv_header_sys_stat_h='yes'}
ac_cv_header_sys_time_h=${ac_cv_header_sys_time_h='yes'}
ac_cv_header_sys_times_h=${ac_cv_header_sys_times_h='yes'}
ac_cv_header_sys_wait_h=${ac_cv_header_sys_wait_h='yes'}
ac_cv_header_time=${ac_cv_header_time='yes'}
ac_cv_header_unistd_h=${ac_cv_header_unistd_h='yes'}
ac_cv_header_vfork_h=${ac_cv_header_vfork_h='no'}
ac_cv_lib_ICE_IceConnectionNumber=${ac_cv_lib_ICE_IceConnectionNumber='yes'}
ac_cv_lib_atlas_ATL_xerbla=${ac_cv_lib_atlas_ATL_xerbla='no'}
ac_cv_lib_blas_dgemm_=${ac_cv_lib_blas_dgemm_='no'}
ac_cv_lib_dir_opendir=${ac_cv_lib_dir_opendir='no'}
ac_cv_lib_dl_dlopen=${ac_cv_lib_dl_dlopen='yes'}
ac_cv_lib_dnet_dnet_ntoa=${ac_cv_lib_dnet_dnet_ntoa='no'}
ac_cv_lib_dnet_stub_dnet_ntoa=${ac_cv_lib_dnet_stub_dnet_ntoa='no'}
ac_cv_lib_dxml_dgemm_=${ac_cv_lib_dxml_dgemm_='no'}
ac_cv_lib_jpeg_jpeg_destroy_compress=${ac_cv_lib_jpeg_jpeg_destroy_compress='yes'}
ac_cv_lib_m_sin=${ac_cv_lib_m_sin='yes'}
ac_cv_lib_moto_sin=${ac_cv_lib_moto_sin='no'}
ac_cv_lib_ncurses_main=${ac_cv_lib_ncurses_main='yes'}
ac_cv_lib_png_png_create_write_struct=${ac_cv_lib_png_png_create_write_struct='yes'}
ac_cv_lib_readline_rl_callback_read_char=${ac_cv_lib_readline_rl_callback_read_char='yes'}
ac_cv_lib_tcl_Tcl_CreateInterp=${ac_cv_lib_tcl_Tcl_CreateInterp='yes'}
ac_cv_lib_tk_Tk_Init=${ac_cv_lib_tk_Tk_Init='yes'}
ac_cv_lib_z_main=${ac_cv_lib_z_main='yes'}
ac_cv_path_DVIPS=${ac_cv_path_DVIPS='/usr/bin/dvips'}
ac_cv_path_F77=${ac_cv_path_F77='/usr/local.own/bin/g77'}
ac_cv_path_LATEX=${ac_cv_path_LATEX='/usr/bin/latex'}
ac_cv_path_MAKEINDEX=${ac_cv_path_MAKEINDEX='/usr/bin/makeindex'}
ac_cv_path_MAKEINFO=${ac_cv_path_MAKEINFO='/usr/bin/makeinfo'}
ac_cv_path_PAPERCONF=${ac_cv_path_PAPERCONF='false'}
ac_cv_path_PDFLATEX=${ac_cv_path_PDFLATEX='/usr/bin/pdflatex'}
ac_cv_path_PDFTEX=${ac_cv_path_PDFTEX='/usr/bin/pdftex'}
ac_cv_path_PERL=${ac_cv_path_PERL='/usr/bin/perl'}
ac_cv_path_R_UNZIPCMD=${ac_cv_path_R_UNZIPCMD='/usr/bin/unzip'}
ac_cv_path_R_ZIPCMD=${ac_cv_path_R_ZIPCMD='/usr/bin/zip'}
ac_cv_path_TEX=${ac_cv_path_TEX='/usr/bin/tex'}
ac_cv_path_XMKMF=${ac_cv_path_XMKMF='/usr/X11R6/bin/xmkmf'}
ac_cv_path_install=${ac_cv_path_install='/usr/bin/install -c'}
ac_cv_prog_AR=${ac_cv_prog_AR='ar'}
ac_cv_prog_AWK=${ac_cv_prog_AWK='gawk'}
ac_cv_prog_CC=${ac_cv_prog_CC='gcc'}
ac_cv_prog_CPP=${ac_cv_prog_CPP='gcc -E'}
ac_cv_prog_CXX=${ac_cv_prog_CXX='c++'}
ac_cv_prog_CXXCPP=${ac_cv_prog_CXXCPP='c++ -E'}
ac_cv_prog_LN_S=${ac_cv_prog_LN_S='ln -s'}
ac_cv_prog_RANLIB=${ac_cv_prog_RANLIB='ranlib'}
ac_cv_prog_R_PRINTCMD=${ac_cv_prog_R_PRINTCMD='lpr'}
ac_cv_prog_YACC=${ac_cv_prog_YACC='bison -y'}
ac_cv_prog_cc_cross=${ac_cv_prog_cc_cross='no'}
ac_cv_prog_cc_g=${ac_cv_prog_cc_g='yes'}
ac_cv_prog_cc_works=${ac_cv_prog_cc_works='yes'}
ac_cv_prog_cxx_cross=${ac_cv_prog_cxx_cross='no'}
ac_cv_prog_cxx_g=${ac_cv_prog_cxx_g='yes'}
ac_cv_prog_cxx_works=${ac_cv_prog_cxx_works='yes'}
ac_cv_prog_f77_cross=${ac_cv_prog_f77_cross='no'}
ac_cv_prog_f77_g=${ac_cv_prog_f77_g='yes'}
ac_cv_prog_f77_works=${ac_cv_prog_f77_works='yes'}
ac_cv_prog_g77=${ac_cv_prog_g77='yes'}
ac_cv_prog_gcc=${ac_cv_prog_gcc='yes'}
ac_cv_prog_gcc_traditional=${ac_cv_prog_gcc_traditional='no'}
ac_cv_prog_gxx=${ac_cv_prog_gxx='yes'}
ac_cv_sizeof_long=${ac_cv_sizeof_long='4'}
ac_cv_type_blkcnt_t=${ac_cv_type_blkcnt_t='yes'}
ac_cv_type_pid_t=${ac_cv_type_pid_t='yes'}
ac_cv_type_signal=${ac_cv_type_signal='void'}
ac_cv_type_size_t=${ac_cv_type_size_t='yes'}
r_cv_func_calloc_broken=${r_cv_func_calloc_broken='no'}
r_cv_func_finite_broken=${r_cv_func_finite_broken='no'}
r_cv_func_log_broken=${r_cv_func_log_broken='no'}
r_cv_header_setjmp_posix=${r_cv_header_setjmp_posix='yes'}
r_cv_prog_cc_flag__mieee_fp=${r_cv_prog_cc_flag__mieee_fp='yes'}
r_cv_prog_cc_m=${r_cv_prog_cc_m='yes'}
r_cv_prog_cxx_flag__mieee_fp=${r_cv_prog_cxx_flag__mieee_fp='yes'}
r_cv_prog_f77_append_underscore=${r_cv_prog_f77_append_underscore='yes'}
r_cv_prog_f77_cc_compat=${r_cv_prog_f77_cc_compat='yes'}
r_cv_prog_makeinfo_v4=${r_cv_prog_makeinfo_v4='yes'}
r_cv_prog_perl_v5=${r_cv_prog_perl_v5='yes'}

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Jul 21 11:32:43 2000
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 21 Jul 2000 11:32:43 +0100 (BST)
Subject: [Rd] Installing R-1.1.0 (PR#612)
In-Reply-To: <14712.8366.469912.970376@bossiaea.maths.uwa.edu.au>
Message-ID: <Pine.GSO.4.05.10007211128590.19846-100000@auk.stats>

On Fri, 21 Jul 2000, Berwin Turlach wrote:

> Dear Brian,
> 
> >>>>> "BDR" == Prof Brian D Ripley <ripley@stats.ox.ac.uk> writes:
> 
>   BDR> i686-pc-linux-gnu is a widely used and tested platform for R,
>   BDR> and we know that 1.1.0 and the latest patched version both pass
>   BDR> `make check' on a Debian distribution (2.2?) and RedHat 6.0 and
>   BDR> (RedHat 6.2 with gcc-2.95.2) and various others.
> 
>   BDR> This suggests that the problem is specific to your Linux
>   BDR> installation, so can you give us more details please?
> Sure. 
> 
> At the end of ./configure in the unpacked R-1.1.0 directory I get:
> 
>     R is now configured for i686-pc-linux-gnu
>     
>       Source directory:         .
>       Installation directory:   /usr/local.own
>       C compiler:               gcc  -mieee-fp -D__NO_MATH_INLINES -g -O2
>       FORTRAN compiler:         g77  -g -O2
>       X11 support:              yes
>       Gnome support:            no
>       Tcl/Tk support:           yes
> 
> I append below the config.cache that is created.
> 
> My system is essentially a RedHat 6.0 with a 2.2.10 kernel.
> 
> I am using the Pentium GCC (http://www.goof.com/pcg/)
> 
>     bossiaea:/opt/R/R-1.1.0$ which gcc
>     /usr/local.own/bin/gcc
>     bossiaea:/opt/R/R-1.1.0$ gcc --version
>     pgcc-2.91.60

I suspect a bug in that compiler, as you had problems with NAs,
and that is the only thing that seems different from known working setups.
My suggestion would be to use gcc-2.95.2, which I compiled from
source and works well for us on RH6.0.  Or even try the compiler
that comes with RH6.0 (egcs-2.91.66, I believe).

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From keitt@nceas.ucsb.edu  Fri Jul 21 19:40:01 2000
From: keitt@nceas.ucsb.edu (Timothy H. Keitt)
Date: Fri, 21 Jul 2000 11:40:01 -0700
Subject: [Rd] save/load hooks
Message-ID: <39789901.6E8B7656@nceas.ucsb.edu>

I'd like to suggest a small feature be added to R.  It would be nice if
"load" and "save" had function hooks for object initialization and
finalization, e.g.,

	load.hook <- function(x) UseMethod("load.hook")
	save.hook <- function(x) UseMethod("save.hook")

These would then be called on each object saved or loaded.  The default
method would do nothing.   This would allow saved objects to
reinitialize their state when loaded.

Cheers,
Tim

-- 
Timothy H. Keitt
National Center for Ecological Analysis and Synthesis
735 State Street, Suite 300, Santa Barbara, CA 93101
Phone: 805-892-2519, FAX: 805-892-2510
http://www.nceas.ucsb.edu/~keitt/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Jul 21 20:07:22 2000
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 21 Jul 2000 20:07:22 +0100 (BST)
Subject: [Rd] save/load hooks
In-Reply-To: <39789901.6E8B7656@nceas.ucsb.edu>
Message-ID: <Pine.GSO.4.05.10007211958530.13766-100000@auk.stats>

On Fri, 21 Jul 2000, Timothy H. Keitt wrote:

> I'd like to suggest a small feature be added to R.  It would be nice if
> "load" and "save" had function hooks for object initialization and
> finalization, e.g.,
> 
> 	load.hook <- function(x) UseMethod("load.hook")
> 	save.hook <- function(x) UseMethod("save.hook")
> 
> These would then be called on each object saved or loaded.  The default
> method would do nothing.   This would allow saved objects to
> reinitialize their state when loaded.

R objects contain their complete state as far as R is concerned.  Could you
give us an example of why you want this?  I guess you must have some
non-standard objects in mind, in which case it seems wasteful to do this
for all R objects in a workspace.

Another potential problem on loading is ordering: how do you ensure that
what you want to do is already available?  The workspace is loaded before
any profiles, so only a minimal set of functions is available, excludng any
packages bar base.  And the error handling at that stage is I think
incomplete, given that tey() does not work in profiles.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From albrecht.gebhardt@uni-klu.ac.at  Fri Jul 21 21:08:42 2000
From: albrecht.gebhardt@uni-klu.ac.at (Albrecht Gebhardt)
Date: Fri, 21 Jul 2000 22:08:42 +0200 (MET DST)
Subject: [Rd] Installing R-1.1.0 (PR#612)
In-Reply-To: <Pine.GSO.4.05.10007211128590.19846-100000@auk.stats>
Message-ID: <Pine.OSF.4.21.0007212204490.5343-100000@zidsrv.sci.uni-klu.ac.at>

On Fri, 21 Jul 2000, Prof Brian D Ripley wrote:

> On Fri, 21 Jul 2000, Berwin Turlach wrote:
> 
> > Dear Brian,
> > 
> > >>>>> "BDR" == Prof Brian D Ripley <ripley@stats.ox.ac.uk> writes:
> > 
> >   BDR> i686-pc-linux-gnu is a widely used and tested platform for R,
> >   BDR> and we know that 1.1.0 and the latest patched version both pass
> >   BDR> `make check' on a Debian distribution (2.2?) and RedHat 6.0 and
> >   BDR> (RedHat 6.2 with gcc-2.95.2) and various others.
> > 
> >   BDR> This suggests that the problem is specific to your Linux
> >   BDR> installation, so can you give us more details please?
> > Sure. 
> > 
> > At the end of ./configure in the unpacked R-1.1.0 directory I get:
> > 
> >     R is now configured for i686-pc-linux-gnu
> >     
> >       Source directory:         .
> >       Installation directory:   /usr/local.own
> >       C compiler:               gcc  -mieee-fp -D__NO_MATH_INLINES -g -O2
> >       FORTRAN compiler:         g77  -g -O2
> >       X11 support:              yes
> >       Gnome support:            no
> >       Tcl/Tk support:           yes
> > 
> > I append below the config.cache that is created.
> > 
> > My system is essentially a RedHat 6.0 with a 2.2.10 kernel.
> > 
> > I am using the Pentium GCC (http://www.goof.com/pcg/)
> > 
> >     bossiaea:/opt/R/R-1.1.0$ which gcc
> >     /usr/local.own/bin/gcc
> >     bossiaea:/opt/R/R-1.1.0$ gcc --version
> >     pgcc-2.91.60
> 
> I suspect a bug in that compiler, as you had problems with NAs,
> and that is the only thing that seems different from known working setups.
> My suggestion would be to use gcc-2.95.2, which I compiled from
> source and works well for us on RH6.0.  Or even try the compiler
> that comes with RH6.0 (egcs-2.91.66, I believe).
> 

Choose gcc-2.95.2, egcs causes problems with loading shared objects which  
may result in crashes, at least egcs-1.1.2.

Albrecht

......................................................................
| Albrecht Gebhardt          Tel.: (++43 463) 2700/832               |
| Institut fuer Mathematik   Fax : (++43 463) 2700/834               |
| Universitaet Klagenfurt    mailto:albrecht.gebhardt@uni-klu.ac.at  |
| Villacher Str. 161         http://www-stat.uni-klu.ac.at/~agebhard |
| A-9020 Klagenfurt, Austria                                         |
`--------------------------------------------------------------------'


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sat Jul 22 06:28:16 2000
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 22 Jul 2000 06:28:16 +0100 (BST)
Subject: [Rd] Installing R-1.1.0 (PR#612)
In-Reply-To: <Pine.OSF.4.21.0007212204490.5343-100000@zidsrv.sci.uni-klu.ac.at>
Message-ID: <Pine.GSO.4.05.10007220621200.19360-100000@auk.stats>

[Taken off R-bugs]

On Fri, 21 Jul 2000, Albrecht Gebhardt wrote:

> On Fri, 21 Jul 2000, Prof Brian D Ripley wrote:

[...]

> > I suspect a bug in that compiler, as you had problems with NAs,
> > and that is the only thing that seems different from known working setups.
> > My suggestion would be to use gcc-2.95.2, which I compiled from
> > source and works well for us on RH6.0.  Or even try the compiler
> > that comes with RH6.0 (egcs-2.91.66, I believe).
> > 
> 
> Choose gcc-2.95.2, egcs causes problems with loading shared objects which  
> may result in crashes, at least egcs-1.1.2.

No problems have been found on any of our RH6.0 installations (and
egcs-1.1.2 is egcs-2.91.66 as supplied with that distribution).  That
problem is reported for RH6.>2<, but not 0.

I made the comment in the knowledge that R 1.1.0 does work on a vanilla
RH6.0 installation (with egcs-g77), as until recently that was my Linux
test platform (and I still have access to a dozen such machines).
It provides a known quantity to compare with Berwin's compiler (and
as I compiled gcc-2.95.2 from the sources it is not so precisely known
an option).

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sat Jul 22 06:39:00 2000
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 22 Jul 2000 07:39:00 +0200 (MET DST)
Subject: [Rd] maketitle garbles the title in package nnet (PR#613)
Message-ID: <200007220539.HAA24126@pubhealth.ku.dk>

The TITLE for the nnet package is garbled: it comes out as

nnet            Feed-forward neural networks and multinomial log-linear
nnet            Feed-forward neural networks and multinomial log-linear models

The problem is in maketitle:

auk% cat DESCRIPTION
Bundle: VR
Version: 6.1-9 
Date: 2000/07/11
Depends: R (>= 1.1)
Author: S original by Venables & Ripley.
  R port by Brian Ripley <ripley@stats.ox.ac.uk>, following earlier
  work by Kurt Hornik and Albrecht Gebhardt.
BundleDescription: Various functions from the libraries of Venables and
  Ripley, `Modern Applied Statistics with S-PLUS' (3rd edition).
License: GPL (version 2 or later)
URL: http://www.stats.ox.ac.uk/pub/MASS3/
Package: nnet
Description: Software for feed-forward neural networks with a single
  hidden layer, and for multinomial log-linear models.
Title: Feed-forward neural networks and multinomial log-linear models
auk% /ext/R/R-release/bin/maketitle DESCRIPTION
nnet            Feed-forward neural networks and multinomial log-linear
nnet            Feed-forward neural networks and multinomial log-linear models

which needs an AWK expert to debug.

(This is from Solaris, but it happens on RH6 Linux too.)


--please do not edit the information below--

Version:
 platform = sparc-sun-solaris2.6
 arch = sparc
 os = solaris2.6
 system = sparc, solaris2.6
 status = Patched
 major = 1
 minor = 1.0
 year = 2000
 month = July
 day = 20
 language = R

Search Path:
 .GlobalEnv, Autoloads, package:base

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sat Jul 22 14:30:23 2000
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Jul 2000 15:30:23 +0200
Subject: [Rd] maketitle garbles the title in package nnet (PR#613)
In-Reply-To: ripley@stats.ox.ac.uk's message of "Sat, 22 Jul 2000 07:39:00 +0200 (MET DST)"
References: <200007220539.HAA24126@pubhealth.ku.dk>
Message-ID: <x2em4mqols.fsf@blueberry.kubism.ku.dk>

ripley@stats.ox.ac.uk writes:

> auk% /ext/R/R-release/bin/maketitle DESCRIPTION
> nnet            Feed-forward neural networks and multinomial log-linear
> nnet            Feed-forward neural networks and multinomial log-linear models
> 
> which needs an AWK expert to debug.

Hardly...

Fixed.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Mon Jul 24 20:08:04 2000
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Mon, 24 Jul 2000 15:08:04 -0400
Subject: [Rd] RFC: System and time support functions in R
In-Reply-To: <Pine.GSO.4.05.10007200826030.9485-100000@auk.stats>
References: <Pine.GSO.4.05.10007200826030.9485-100000@auk.stats>
Message-ID: <398391ba.18510913@fisher.stats.uwo.ca>

On Thu, 20 Jul 2000 08:33:01 +0100 (BST), you wrote in message
<Pine.GSO.4.05.10007200826030.9485-100000@auk.stats>:

>I've been looking over system utility functions that we might want to
>add to R.  A few come out of specific needs, others from looking at
>other systems and what people are using system() for.  I've taken
>account of Paul Gilbert's comments posted here a while ago (and I
>think covered all except the use of mailers).
>
>We currently have
>
>date
>*.socket
>file.create
>file.exists
>file.remove
>file.append

Is there any interest in adding binary file access to the base?  I
think it would be really useful, and have put together a prototype
(still for Windows only) that's on my web site at

<http://www.stats.uwo.ca/faculty/murdoch/software/Rstreams.zip>

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kjetilh@umsanet.edu.bo  Mon Jul 24 22:51:12 2000
From: kjetilh@umsanet.edu.bo (kjetilh@umsanet.edu.bo)
Date: Mon, 24 Jul 2000 23:51:12 +0200 (MET DST)
Subject: [Rd] scoping problems (PR#614)
Message-ID: <200007242151.XAA03966@pubhealth.ku.dk>

I am resubmitting this to r-bugs, since Thomas Lumley indicates that it
might be an error:

On Wed, 5 Jul 2000, Thomas Lumley wrote:

> On Wed, 5 Jul 2000, halvorsen wrote:
>
> > Hola!
> >
> > I have the following simple function:
> >
> > > testcar
> > function(pow){
> >            ob <- glm(Pound~CG+Age+Vage,data=car,weights=No,
> >
subset=No>0,family=quasi(link=power(pow),var=mu^2))
> >
> >            deviance(ob)
> > }
> > But trying to run it gives:
> >
> > > testcar(1/2)
> > Error in power(pow) : Object "pow" not found
>
> 'pow' isn't found because quasi() is looking for it in a strange
place.
> Normally you would expect this sort of syntax to work, but the family
> functions do some tricky things to allow you to specify things with or

> without quotes and without or without parentheses.
>
> I suspect this might count as a bug.
>
> In any case, you can fix it by doing
> eval(substitute(glm(Pound~CG+Age+Vage,data=car,weights=No subset=No>0,

> family=quasi(link=power(pow),var=mu^2))))
>

As an additional note. This probably won't work if the argument to
testcar
is a variable.

A more reliable version is
 eval(substitute(glm(Pound~CG+Age+Vage,data=car,weights=No subset=No>0,
 family=quasi(link=power(pow),var=mu^2))),list(pow=pow))

( I moved the ,list argument from "substitute" to "eval" to get it
work.)

Kjetil Halvorsen




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kjetilh@umsanet.edu.bo  Mon Jul 24 23:11:57 2000
From: kjetilh@umsanet.edu.bo (kjetilh@umsanet.edu.bo)
Date: Tue, 25 Jul 2000 00:11:57 +0200 (MET DST)
Subject: [Rd] binomial() (PR#615)
Message-ID: <200007242211.AAA04063@pubhealth.ku.dk>

The binomial function contains the following code fragment (R 1.0.1):

if (any(linktemp == c("logit", "probit", "cloglog", "log")))
        stats <- make.link(linktemp)
    else stop(paste(linktemp, "link not available for binomial",
                    "family, available links are \"logit\", ",
                    "\"probit\" and \"cloglog\""))


and from this it is unclear if "log" is an available link function or
not.


Kjetil Halvorsen


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rgentlem@stat.auckland.ac.nz  Mon Jul 24 23:21:09 2000
From: rgentlem@stat.auckland.ac.nz (Robert Gentleman)
Date: Tue, 25 Jul 2000 10:21:09 +1200
Subject: [Rd] scoping problems (PR#614)
In-Reply-To: <200007242151.XAA03966@pubhealth.ku.dk>; from kjetilh@umsanet.edu.bo on Mon, Jul 24, 2000 at 11:51:12PM +0200
References: <200007242151.XAA03966@pubhealth.ku.dk>
Message-ID: <20000725102109.Z6896@stat1.stat.auckland.ac.nz>

On Mon, Jul 24, 2000 at 11:51:12PM +0200, kjetilh@umsanet.edu.bo wrote:
> I am resubmitting this to r-bugs, since Thomas Lumley indicates that it
> might be an error:
> 
> On Wed, 5 Jul 2000, Thomas Lumley wrote:
> 
> > On Wed, 5 Jul 2000, halvorsen wrote:
> >
> > > Hola!
> > >
> > > I have the following simple function:
> > >
> > > > testcar
> > > function(pow){
> > >            ob <- glm(Pound~CG+Age+Vage,data=car,weights=No,
> > >
> subset=No>0,family=quasi(link=power(pow),var=mu^2))
> > >
> > >            deviance(ob)
> > > }
> > > But trying to run it gives:
> > >
> > > > testcar(1/2)
> > > Error in power(pow) : Object "pow" not found
> >
> > 'pow' isn't found because quasi() is looking for it in a strange
> place.
> > Normally you would expect this sort of syntax to work, but the family
> > functions do some tricky things to allow you to specify things with or
> 
> > without quotes and without or without parentheses.
> >
> > I suspect this might count as a bug.
> >
> > In any case, you can fix it by doing
> > eval(substitute(glm(Pound~CG+Age+Vage,data=car,weights=No subset=No>0,
> 
> > family=quasi(link=power(pow),var=mu^2))))
> >
> 
> As an additional note. This probably won't work if the argument to
> testcar
> is a variable.
> 
> A more reliable version is
>  eval(substitute(glm(Pound~CG+Age+Vage,data=car,weights=No subset=No>0,
>  family=quasi(link=power(pow),var=mu^2))),list(pow=pow))
> 
> ( I moved the ,list argument from "substitute" to "eval" to get it
> work.)
> 
> Kjetil Halvorsen
> 
> 
  The problem is with quasi:
> quasi
function (link = "identity", variance = "constant") 
{
    linktemp <- substitute(link)
    if (is.expression(linktemp)) 
        linktemp <- eval(linktemp)
    if (!is.character(linktemp)) {
        linktemp <- deparse(linktemp)
        if (linktemp == "link") 
            linktemp <- eval(link)
    }
   ...

  Note that neither of the eval's is what is wanted. At this point
  you just want to force the promise, ie evaluate the argument in
  the calling environment.
  The following piece of code seems to do that:

 > quasi
function (link = "identity", variance = "constant") 
{
    linktemp <- substitute(link)
    if ( is.expression(linktemp) || is.call(linktemp) ) 
        linktemp <- link
    else if (!is.character(linktemp)) 
        linktemp <- deparse(linktemp)
    if( is.character(linktemp) )
        stats <- make.link(linktemp)
    else
        stats <- linktemp
...
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
+-------------------------------------------------------------------------+
| Robert Gentleman              phone : (64-9) 3737-599 ext 3946          | 
| Senior Lecturer               fax :   (64-9) 3737-018                   |
| Department of Statistics      office : Room 206 Maths/Physics           |
| University of Auckland	email : rgentlem@stat.auckland.ac.nz      |
+-------------------------------------------------------------------------+
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Tue Jul 25 08:47:55 2000
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Tue, 25 Jul 2000 09:47:55 +0200 (CEST)
Subject: [Rd] binary file access [was "RFC: System and time support"...]
In-Reply-To: <398391ba.18510913@fisher.stats.uwo.ca>
References: <Pine.GSO.4.05.10007200826030.9485-100000@auk.stats>
 <398391ba.18510913@fisher.stats.uwo.ca>
Message-ID: <14717.17963.58164.490019@gargle.gargle.HOWL>

>>>>> "Duncan" == Duncan Murdoch <murdoch@stats.uwo.ca> writes:

    Duncan> On Thu, 20 Jul 2000 08:33:01 +0100 (BST), you wrote in message
    Duncan> <Pine.GSO.4.05.10007200826030.9485-100000@auk.stats>:

    >> I've been looking over system utility functions that we might want
    >> to add to R.  A few come out of specific needs, others from looking
    >> at other systems and what people are using system() for.  I've taken
    >> account of Paul Gilbert's comments posted here a while ago (and I
    >> think covered all except the use of mailers).

    >> We currently have
    >> 
    >> date *.socket file.create file.exists file.remove file.append

    Duncan> Is there any interest in adding binary file access to the base?

yes, quite a bit !  (e.g., someone here doing image analysis, would have
liked to be able to do  this)

    Duncan> I think it would be really useful, and have put together a
    Duncan> prototype (still for Windows only) that's on my web site at
	                        ==============
    Duncan> <http://www.stats.uwo.ca/faculty/murdoch/software/Rstreams.zip>

I first thought "great! .." when you announced this a while ago, but
"Windows only" & relying on Delphi, i.e. proprietary software,
stopped me to even have a look, sorry.
We are committed primarily to the POSIX "clarification" of ANSI C and freely
available tools.

An aside :

  Your binary files are read into/from "character", right?

  I think (and others have talked similarly, here) that byte wise
  reading and writing of files should go together with a "raw" atomic data
  type in R -- and then we probably would want to do it "S version 4" (Sv4)
  compatibly (not that I have looked what this would mean exactly).
  which needs even a bit more extensions in "base R" than we have now.


Coming back to your package:
Is it worth/fast enough to port this to POSIX C?
Have you ever compared it to the (very general) approach taken by Sv4 ?
That would be something worth following at least in parts, I think.

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jens.oehlschlaegel@bbdo-interone.de  Tue Jul 25 10:16:15 2000
From: jens.oehlschlaegel@bbdo-interone.de (=?iso-8859-1?Q?Jens_Oehlschl=E4gel?=)
Date: Tue, 25 Jul 2000 11:16:15 +0200
Subject: [Rd] RFC: System and time support functions in R
In-Reply-To: <398391ba.18510913@fisher.stats.uwo.ca>
Message-ID: <000601bff618$fcba9ec0$c10616ac@oehl.bbdo.de>



I agree it would be useful. Additionally I would vote for
disentangling/extending some functionality in R.

e.g. save() does not only creates an external representation, it also writes
it to a file. So we cannot send the representation to a socket or just to a
character variable. Same with load().

e.g. scan() does combined physical read and parsing, i.e. it reads from file
and keyboard, but not from a socket or character variable. Similarly write()
and read.table(). The logic of how to convert character data too a dataframe
should not be bound to file read.

>From my point of view, a minimum solution would be generally allowing
reading/writing from/to a character variable instead of file access. This
would also allow filtering the data e.g. through a compression algorithm.

Regards


NEW EMAIL
jens.oehlschlaegel@bbdo-interone.de

--
Dr. Jens Oehlschl弄el
Analyse
BBDO InterOne
Grnstr. 15
40212 Dsseldorf

Tel.: +49 (0)211 1379-187
Fax.: +49 (0)211 1379-461
http://www.bbdo-interone.de






> -----Original Message-----
> From: owner-r-devel@stat.math.ethz.ch
> [mailto:owner-r-devel@stat.math.ethz.ch]On Behalf Of Duncan Murdoch
> Sent: Monday, July 24, 2000 9:08 PM
> To: R-devel@r-project.org
> Subject: Re: [Rd] RFC: System and time support functions in R
>
>
> On Thu, 20 Jul 2000 08:33:01 +0100 (BST), you wrote in message
> <Pine.GSO.4.05.10007200826030.9485-100000@auk.stats>:
>
> >I've been looking over system utility functions that we might want to
> >add to R.  A few come out of specific needs, others from looking at
> >other systems and what people are using system() for.  I've taken
> >account of Paul Gilbert's comments posted here a while ago (and I
> >think covered all except the use of mailers).
> >
> >We currently have
> >
> >date
> >*.socket
> >file.create
> >file.exists
> >file.remove
> >file.append
>
> Is there any interest in adding binary file access to the base?  I
> think it would be really useful, and have put together a prototype
> (still for Windows only) that's on my web site at
>
> <http://www.stats.uwo.ca/faculty/murdoch/software/Rstreams.zip>
>
> Duncan Murdoch
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Jul 25 10:33:17 2000
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 25 Jul 2000 10:33:17 +0100 (BST)
Subject: [Rd] binary file access [was "RFC: System and time support"...]
In-Reply-To: <14717.17963.58164.490019@gargle.gargle.HOWL>
Message-ID: <Pine.GSO.4.05.10007251004270.1462-100000@auk.stats>

On Tue, 25 Jul 2000, Martin Maechler wrote:

> >>>>> "Duncan" == Duncan Murdoch <murdoch@stats.uwo.ca> writes:
> 
>     Duncan> Is there any interest in adding binary file access to the base?
> 
> yes, quite a bit !  (e.g., someone here doing image analysis, would have
> liked to be able to do  this)
> 
>     Duncan> I think it would be really useful, and have put together a
>     Duncan> prototype (still for Windows only) that's on my web site at
> 	                        ==============
>     Duncan> <http://www.stats.uwo.ca/faculty/murdoch/software/Rstreams.zip>
> 
> I first thought "great! .." when you announced this a while ago, but
> "Windows only" & relying on Delphi, i.e. proprietary software,
> stopped me to even have a look, sorry.
> We are committed primarily to the POSIX "clarification" of ANSI C and freely
> available tools.

I don't think that translating/re-writing it is a problem, but I thought
Duncan was planning to do this.  If not I will have a go.

> An aside :
> 
>   Your binary files are read into/from "character", right?

[Doesn't look like it to me!]

>   I think (and others have talked similarly, here) that byte wise
>   reading and writing of files should go together with a "raw" atomic data
>   type in R -- and then we probably would want to do it "S version 4" (Sv4)
>   compatibly (not that I have looked what this would mean exactly).
>   which needs even a bit more extensions in "base R" than we have now.

Probably, but I find byte-wise reading not at all useful (and none of
our image-analysis files are that shallow).

> Coming back to your package:
> Is it worth/fast enough to port this to POSIX C?
> Have you ever compared it to the (very general) approach taken by Sv4 ?
> That would be something worth following at least in parts, I think.

Introducing a new type in R looks to me like a fairly major undertaking.
Duncan's package does a different task at a higher level than `raw' (which
is just an unstructured stream of bytes). As ?readint says

  Signed integers of sizes 1, 2, 4, and 8 bytes can be read.  Unsigned
  integers of any size up to 8 bytes can be read. (Integers larger than are
  supported in R will be returned in a vector of doubles.)  Floats of sizes
  4, 8, and 10 bytes can be read.  Complex values using any of the float
  sizes for the real and complex parts can be read.  Any size of character
  string that you can create can be read.

although some of that is Windows-specific (10 bytes = 80 bits = extended
format, I presume).

I suspect the best way forward is a get a general (non-Delphi, both Unix
and Windows) contributed package working and on CRAN, and then think about
merging it into base if it looks worthwhile.  (There is a lot of very
useful stuff not in base, and the point of my original posting was that
those are things which need to be internal and OS-specific.)

BTW, I think something like inttostr (but not that name) and its converse
would be useful in base.  
\description{
  Converts an integer to a string representation in base 2 to 36.
}
My memory says S had a function called something like oddometer, but
I can't find it.

Another comment: The R code uses _, F and T and is seriously lacking in
spaces. One way to get standard formating is to set
options(keep.source=FALSE) and then read in and dump the code.


How much support is there for adding a `raw' (byte-stream) type?

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Jul 25 10:36:18 2000
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 25 Jul 2000 10:36:18 +0100 (BST)
Subject: connections (was [Rd] RFC: System and time support functions in
 R)
In-Reply-To: <000601bff618$fcba9ec0$c10616ac@oehl.bbdo.de>
Message-ID: <Pine.GSO.4.05.10007251033560.1462-100000@auk.stats>

On Tue, 25 Jul 2000, [iso-8859-1] Jens Oehlschl弄el wrote:

> 
> 
> I agree it would be useful. Additionally I would vote for
> disentangling/extending some functionality in R.
> 
> e.g. save() does not only creates an external representation, it also writes
> it to a file. So we cannot send the representation to a socket or just to a
> character variable. Same with load().
> 
> e.g. scan() does combined physical read and parsing, i.e. it reads from file
> and keyboard, but not from a socket or character variable. Similarly write()
> and read.table(). The logic of how to convert character data too a dataframe
> should not be bound to file read.
> 
> >From my point of view, a minimum solution would be generally allowing
> reading/writing from/to a character variable instead of file access. This
> would also allow filtering the data e.g. through a compression algorithm.

That's a different topic (from Duncan's and from my subject line).
The plan is to use the Svr4 idea of `connections' to replace files (and
scan does only read from files: stdin is a file to C).


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Jul 25 11:22:29 2000
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 Jul 2000 12:22:29 +0200
Subject: [Rd] binary file access [was "RFC: System and time support"...]
In-Reply-To: Prof Brian D Ripley's message of "Tue, 25 Jul 2000 10:33:17 +0100 (BST)"
References: <Pine.GSO.4.05.10007251004270.1462-100000@auk.stats>
Message-ID: <x2aef6mrve.fsf@blueberry.kubism.ku.dk>

Prof Brian D Ripley <ripley@stats.ox.ac.uk> writes:

> My memory says S had a function called something like oddometer, but
> I can't find it.

It has only one 'd'...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From duncan@research.bell-labs.com  Tue Jul 25 12:12:09 2000
From: duncan@research.bell-labs.com (Duncan Temple Lang)
Date: Tue, 25 Jul 2000 07:12:09 -0400 (EDT)
Subject: [Rd] number of parameters of a function.
Message-ID: <200007251112.HAA06228@jessie.research.bell-labs.com>


 Is there a way to programmatically determine how many arguments a function
accepts? In S, one can compute this as 
          length(theFunction) - 1
and determine the parameter names  as
          names(theFunction)
due to the representation of functions.

(Just in case anyone is thinking of nargs(),  that is just for
particular calls and does not concern itself with the function
definition.)

Thanks,
  Duncan


-- 
_______________________________________________________________

Duncan Temple Lang                duncan@research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan

      "Languages shape the way we think, and determine what 
       we can think about."        
                                      Benjamin Whorf
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Jul 25 12:25:57 2000
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 Jul 2000 13:25:57 +0200
Subject: [Rd] number of parameters of a function.
In-Reply-To: Duncan Temple Lang's message of "Tue, 25 Jul 2000 07:12:09 -0400 (EDT)"
References: <200007251112.HAA06228@jessie.research.bell-labs.com>
Message-ID: <x24s5emoxm.fsf@blueberry.kubism.ku.dk>

Duncan Temple Lang <duncan@research.bell-labs.com> writes:

>  Is there a way to programmatically determine how many arguments a function
> accepts? In S, one can compute this as 
>           length(theFunction) - 1
> and determine the parameter names  as
>           names(theFunction)
> due to the representation of functions.
> 
> (Just in case anyone is thinking of nargs(),  that is just for
> particular calls and does not concern itself with the function
> definition.)

Like this:

> length(formals(scan))
[1] 13
> names(formals(scan))
 [1] "file"        "what"        "nmax"        "n"           "sep"        
 [6] "quote"       "dec"         "skip"        "nlines"      "na.strings" 
[11] "flush"       "strip.white" "quiet"      


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Jul 25 12:22:48 2000
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 25 Jul 2000 12:22:48 +0100 (BST)
Subject: [Rd] number of parameters of a function.
In-Reply-To: <200007251112.HAA06228@jessie.research.bell-labs.com>
Message-ID: <Pine.GSO.4.05.10007251220330.7029-100000@auk.stats>

On Tue, 25 Jul 2000, Duncan Temple Lang wrote:

> 
>  Is there a way to programmatically determine how many arguments a function
> accepts? In S, one can compute this as 
>           length(theFunction) - 1
> and determine the parameter names  as
>           names(theFunction)
> due to the representation of functions.

length(formals(theFunction))

Something similar works in S-PLUS 5.x:

length(functionArgs(theFunction))

as I guess Duncan knows.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Tue Jul 25 13:06:58 2000
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Tue, 25 Jul 2000 12:06:58 GMT
Subject: [Rd] binary file access [was "RFC: System and time support"...]
In-Reply-To: <Pine.GSO.4.05.10007251004270.1462-100000@auk.stats>
References: <Pine.GSO.4.05.10007251004270.1462-100000@auk.stats>
Message-ID: <397d7afa.1319880@julian.uwo.ca>

On Tue, 25 Jul 2000 10:33:17 +0100 (BST), you wrote:


>>     Duncan> I think it would be really useful, and have put together a
>>     Duncan> prototype (still for Windows only) that's on my web site at
>> 	                        ==============
>>     Duncan> <http://www.stats.uwo.ca/faculty/murdoch/software/Rstreams.zip>
>> 
>> I first thought "great! .." when you announced this a while ago, but
>> "Windows only" & relying on Delphi, i.e. proprietary software,
>> stopped me to even have a look, sorry.
>> We are committed primarily to the POSIX "clarification" of ANSI C and freely
>> available tools.
>
>I don't think that translating/re-writing it is a problem, but I thought
>Duncan was planning to do this.  If not I will have a go.

I am, but it won't be quick.  I now have a C compiler installed, but I
have very little experience writing in C.  I'll probably ask for help
later in cleaning up whatever I write.  

>> An aside :
>> 
>>   Your binary files are read into/from "character", right?
>
>[Doesn't look like it to me!]

Right, as you quoted I try to read and write the native R types.  It
seemed to me that doing type conversions was a lot easier externally
than it would be internally.

>> Coming back to your package:
>> Is it worth/fast enough to port this to POSIX C?

I imagine it would be really easy for someone fluent in both Delphi &
C to port it.  I'm fluent in Delphi but not C (which is why I wrote it
in Delphi in the first place), so it'll take a while longer for me.

>> Have you ever compared it to the (very general) approach taken by Sv4 ?
>> That would be something worth following at least in parts, I think.

No, I'm not familiar with that.

>although some of that is Windows-specific (10 bytes = 80 bits = extended
>format, I presume).

Yes, but that's Intel-specific, not Windows-specific.  I think it
would be useful to have on any platform: the idea is that this code
will allow you to read binary files produced by someone else. For
example, I do include code to handle byte-order switching, and use it
in the demo routine (readsfile) to be able to read binary S objects,
whether produced on big or little endian machines.

If the data you're reading were produced on an Intel platform, they
might include the extended types. Are there conversion routines
available in the libraries that R already uses for machines that don't
support extended as a native type?

>I suspect the best way forward is a get a general (non-Delphi, both Unix
>and Windows) contributed package working and on CRAN, and then think about
>merging it into base if it looks worthwhile.  (There is a lot of very
>useful stuff not in base, and the point of my original posting was that
>those are things which need to be internal and OS-specific.)

Sounds good to me.
>
>BTW, I think something like inttostr (but not that name) and its converse
>would be useful in base.  
>\description{
>  Converts an integer to a string representation in base 2 to 36.
>}
>My memory says S had a function called something like oddometer, but
>I can't find it.

I don't object to a name change, but I think "odometer" is a pretty
bad choice.

>Another comment: The R code uses _, F and T and is seriously lacking in
>spaces. One way to get standard formating is to set
>options(keep.source=FALSE) and then read in and dump the code.

Thanks, I'll do that.

>How much support is there for adding a `raw' (byte-stream) type?

I haven't had any need for such a thing, but the streams code was
written with the intention that it could be extended to handle streams
of bytes from other sources than just files.  I think that will likely
be hidden when I translate to C:  not being an OO language, it doesn't
really support the concept of an abstract stream, as far as I know.

Duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Jul 25 13:48:15 2000
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 25 Jul 2000 13:48:15 +0100 (BST)
Subject: [Rd] binary file access [was "RFC: System and time support"...]
In-Reply-To: <397d7afa.1319880@julian.uwo.ca>
Message-ID: <Pine.GSO.4.05.10007251341370.7201-100000@auk.stats>

On Tue, 25 Jul 2000, Duncan Murdoch wrote:

> On Tue, 25 Jul 2000 10:33:17 +0100 (BST), you wrote:
> 
> 
> >>     Duncan> I think it would be really useful, and have put together a
> >>     Duncan> prototype (still for Windows only) that's on my web site at
> >> 	                        ==============
> >>     Duncan> <http://www.stats.uwo.ca/faculty/murdoch/software/Rstreams.zip>
> >> 
> >> I first thought "great! .." when you announced this a while ago, but
> >> "Windows only" & relying on Delphi, i.e. proprietary software,
> >> stopped me to even have a look, sorry.
> >> We are committed primarily to the POSIX "clarification" of ANSI C and freely
> >> available tools.
> >
> >I don't think that translating/re-writing it is a problem, but I thought
> >Duncan was planning to do this.  If not I will have a go.
> 
> I am, but it won't be quick.  I now have a C compiler installed, but I
> have very little experience writing in C.  I'll probably ask for help
> later in cleaning up whatever I write.  

I will take a quick look. It might be faster to do it that try to help you.
Delphi is an extended Pascal, and I used to be fluent in Pascal.

> >although some of that is Windows-specific (10 bytes = 80 bits = extended
> >format, I presume).
> 
> Yes, but that's Intel-specific, not Windows-specific.  I think it
> would be useful to have on any platform: the idea is that this code
> will allow you to read binary files produced by someone else. For
> example, I do include code to handle byte-order switching, and use it
> in the demo routine (readsfile) to be able to read binary S objects,
> whether produced on big or little endian machines.

Correctt: I just don't know how to get them in a binary file on
any other Intel-based OS (which may be my ignorance).

> If the data you're reading were produced on an Intel platform, they
> might include the extended types. Are there conversion routines
> available in the libraries that R already uses for machines that don't
> support extended as a native type?

Yes, there are. Both in src/main/arithmetic.c and I think in packages 
stataread and foreign.

> >I suspect the best way forward is a get a general (non-Delphi, both Unix
> >and Windows) contributed package working and on CRAN, and then think about
> >merging it into base if it looks worthwhile.  (There is a lot of very
> >useful stuff not in base, and the point of my original posting was that
> >those are things which need to be internal and OS-specific.)
> 
> Sounds good to me.
> >
> >BTW, I think something like inttostr (but not that name) and its converse
> >would be useful in base.  
> >\description{
> >  Converts an integer to a string representation in base 2 to 36.
> >}
> >My memory says S had a function called something like oddometer, but
> >I can't find it.
> 
> I don't object to a name change, but I think "odometer" is a pretty
> bad choice.

It's not the function I wanted, anyway, and not being a word in UK usage I
was unfamiliar with its meaning.  (The UK says `trip counter'.)  What we
really want is a radix argument to as.character applied to integers, I
think.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kjetilh@umsanet.edu.bo  Tue Jul 25 22:46:08 2000
From: kjetilh@umsanet.edu.bo (halvorsen)
Date: Tue, 25 Jul 2000 17:46:08 -0400
Subject: [Rd] scoping problems (PR#614)
References: <200007242151.XAA03966@pubhealth.ku.dk> <20000725102109.Z6896@stat1.stat.auckland.ac.nz>
Message-ID: <397E0AA0.BF1E20D@umsanet.edu.bo>



Robert Gentleman wrote:

>

I tested the proposed change with thre original problem, and now it works fine.
Kjetil Halvorsen

>
>   The problem is with quasi:
> > quasi
> function (link = "identity", variance = "constant")
> {
>     linktemp <- substitute(link)
>     if (is.expression(linktemp))
>         linktemp <- eval(linktemp)
>     if (!is.character(linktemp)) {
>         linktemp <- deparse(linktemp)
>         if (linktemp == "link")
>             linktemp <- eval(link)
>     }
>    ...
>
>   Note that neither of the eval's is what is wanted. At this point
>   you just want to force the promise, ie evaluate the argument in
>   the calling environment.
>   The following piece of code seems to do that:
>
>  > quasi
> function (link = "identity", variance = "constant")
> {
>     linktemp <- substitute(link)
>     if ( is.expression(linktemp) || is.call(linktemp) )
>         linktemp <- link
>     else if (!is.character(linktemp))
>         linktemp <- deparse(linktemp)
>     if( is.character(linktemp) )
>         stats <- make.link(linktemp)
>     else
>         stats <- linktemp
> ...
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>
> --
> +-------------------------------------------------------------------------+
> | Robert Gentleman              phone : (64-9) 3737-599 ext 3946          |
> | Senior Lecturer               fax :   (64-9) 3737-018                   |
> | Department of Statistics      office : Room 206 Maths/Physics           |
> | University of Auckland        email : rgentlem@stat.auckland.ac.nz      |
> +-------------------------------------------------------------------------+
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kjetilh@umsanet.edu.bo  Tue Jul 25 22:52:37 2000
From: kjetilh@umsanet.edu.bo (kjetilh@umsanet.edu.bo)
Date: Tue, 25 Jul 2000 23:52:37 +0200 (MET DST)
Subject: [Rd] wishlist (PR#616)
Message-ID: <200007252152.XAA13316@pubhealth.ku.dk>

I want to put on the wishlist gamma and lgamma functions for complex
arguments.

Kjetil Halvorsen


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dtrenkler@nts6.oec.uni-osnabrueck.de  Wed Jul 26 10:19:38 2000
From: dtrenkler@nts6.oec.uni-osnabrueck.de (dtrenkler@nts6.oec.uni-osnabrueck.de)
Date: Wed, 26 Jul 2000 11:19:38 +0200 (MET DST)
Subject: [Rd] Bug in stem? (PR#617)
Message-ID: <200007260919.LAA15973@pubhealth.ku.dk>

# Your mailer is set to "none" (default on Windows),
# hence we cannot send the bug report directly from R.
# Please copy the bug report (after finishing it) to
# your favorite email program and send it to
#
#       r-bugs@biostat.ku.dk
#
######################################################

"b" <- c(-5.5, -4, -2.3, -1.5, -1, -0.5, -0.41, -0.33, -0.29, 
    -0.26, -0.2, -0.2, -0.2, -0.2, -0.11, -0.091, -0.059, 0.067, 
    0.13, 0.15, 0.19, 0.22, 0.25, 0.26, 0.27, 0.27, 0.32, 0.38, 
    0.43, 0.48, 0.67, 1, 1.2, 5, 8)

stem(b)

  -4 | 50
  -2 | 3
  -0 | 50543332222111
   0 | 1112233333445702
   2 | 
   4 | 0
   6 | 
   8 | 0

Note that -5.5 isn't correctly positioned. 

--please do not edit the information below--

Version:
 platform = Windows
 arch = x86
 os = Win32
 system = x86, Win32
 status = 
 major = 1
 minor = 1.0
 year = 2000
 month = June
 day = 15
 language = R

Windows NT 4.0 (build 1381) Service Pack 6

Search Path:
 .GlobalEnv, Autoloads, package:base

   --- D.Trenkler ---

************************************************************************
*********
   Dr. Dietrich Trenkler
(dtrenkler@oec.uni-osnabrueck.de)      
   Statistik / Empirische Wirtschaftsforschung
   Universitaet Osnabrueck
   Rolandstrasse 8                             Phone: +49(0)
541-969-2753
   D-49069 Osnabrueck                        Fax  : +49(0) 541-969-2744
   GERMANY
************************************************************************
*********




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Jul 26 11:45:28 2000
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Jul 2000 12:45:28 +0200
Subject: [Rd] Bug in stem? (PR#617)
In-Reply-To: dtrenkler@nts6.oec.uni-osnabrueck.de's message of "Wed, 26 Jul 2000 11:19:38 +0200 (MET DST)"
References: <200007260919.LAA15973@pubhealth.ku.dk>
Message-ID: <x2aef5mapj.fsf@blueberry.kubism.ku.dk>

dtrenkler@nts6.oec.uni-osnabrueck.de writes:

> "b" <- c(-5.5, -4, -2.3, -1.5, -1, -0.5, -0.41, -0.33, -0.29, 
>     -0.26, -0.2, -0.2, -0.2, -0.2, -0.11, -0.091, -0.059, 0.067, 
>     0.13, 0.15, 0.19, 0.22, 0.25, 0.26, 0.27, 0.27, 0.32, 0.38, 
>     0.43, 0.48, 0.67, 1, 1.2, 5, 8)
> 
> stem(b)
> 
>   -4 | 50
>   -2 | 3
>   -0 | 50543332222111
>    0 | 1112233333445702
>    2 | 
>    4 | 0
>    6 | 
>    8 | 0
> 
> Note that -5.5 isn't correctly positioned. 

I don't see the problem: the -4 row represents -4.x and -5.x, the
latter first since they are smaller. The display is generally
ambiguous since you get exactly the same value if you replace b[2]
with -5, but that seems to be a generic problem, just like the fact
that you cannot see whether the lone zeroes represent 4 and 7 or 5 and
8.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From y0004379@tu-bs.de  Wed Jul 26 12:57:21 2000
From: y0004379@tu-bs.de (y0004379@tu-bs.de)
Date: Wed, 26 Jul 2000 13:57:21 +0200 (MET DST)
Subject: [Rd] min(c()) = inf ??? (PR#618)
Message-ID: <200007261157.NAA17436@pubhealth.ku.dk>

min of an empty vector gives inf, should be NA / NULL ???

> min(c())
[1] 2147483647
Warning message: 
no finite arguments to min/max; returning extreme. in: min(..., na.rm =
na.rm) 
> min(c(NA,NA),na.rm=T)
[1] 2147483647
Warning message: 
no finite arguments to min/max; returning extreme. in: min(..., na.rm =
na.rm) 

(the same for max)

--please do not edit the information below--

Version:
 platform = Windows
 arch = x86
 os = Win32
 system = x86, Win32
 status = 
 major = 1
 minor = 1.0
 year = 2000
 month = June
 day = 15
 language = R

Windows 9x 4.0 (build 1111)  

Search Path:
 .GlobalEnv, Autoloads, package:base




** To YOU I'm an atheist; to God, I'm the Loyal Opposition. Woody Allen **
P.Malewski					Tel.: 0531 500965
Maschplatz 8					Email: P.Malewski@tu-bs.de
************************38114 Braunschweig********************************




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Jul 26 13:58:45 2000
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Jul 2000 14:58:45 +0200
Subject: [Rd] min(c()) = inf ??? (PR#618)
In-Reply-To: y0004379@tu-bs.de's message of "Wed, 26 Jul 2000 13:57:21 +0200 (MET DST)"
References: <200007261157.NAA17436@pubhealth.ku.dk>
Message-ID: <x266ptm4je.fsf@blueberry.kubism.ku.dk>

y0004379@tu-bs.de writes:

> min of an empty vector gives inf, should be NA / NULL ???

This is a feature, ensuring consistency: 

min(x,y) == min(min(x),min(y)) even when x or y is empty.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From y0004379@tu-bs.de  Wed Jul 26 14:30:30 2000
From: y0004379@tu-bs.de (Peter Malewski)
Date: Wed, 26 Jul 2000 15:30:30 +0200 (METDST)
Subject: [Rd] min(c()) = inf ??? (PR#618)
In-Reply-To: <x266ptm4je.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.HPX.4.21.0007261526170.14591-100000@rzbcosv1.rz.tu-bs.de>

On 26 Jul 2000, Peter Dalgaard BSA wrote:

> This is a feature, ensuring consistency: 
> 
> min(x,y) == min(min(x),min(y)) even when x or y is empty.

Thanks for your reply. This logic is reasoneable. I just wondered about
the "inf" I got + the different results in s+ 3.3.

Thanks
Peter Malewski



** To YOU I'm an atheist; to God, I'm the Loyal Opposition. Woody Allen **
P.Malewski					Tel.: 0531 500965
Maschplatz 8					Email: P.Malewski@tu-bs.de
************************38114 Braunschweig********************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From duncan@research.bell-labs.com  Thu Jul 27 12:55:48 2000
From: duncan@research.bell-labs.com (Duncan Temple Lang)
Date: Thu, 27 Jul 2000 07:55:48 -0400 (EDT)
Subject: [Rd] The R-Java inteface from Omegahat
Message-ID: <200007271155.HAA04412@jessie.research.bell-labs.com>


 We have finally configured the R-Java interface as a `regular' R
package. This allows R users to create arbitrary Java objects and call
any accessible method. It has a reasonably sophisticated mechanism for
handling transferring of arguments from R to Java and vice-versa, and
allows Java classes to be implemented via R functions.

The package and all the documentation is available from
      http://www.omegahat.org/RSJava
or the contrib/Devel sections of CRAN and its mirrors.
It runs on Unix machines. (When we know there are no
major problems on these systems, we will work on the
Windows port. So any feedback is very much appreciated.)

 Thanks for your time.
    Duncan

-- 
_______________________________________________________________

Duncan Temple Lang                duncan@research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan

      "Languages shape the way we think, and determine what 
       we can think about."        
                                      Benjamin Whorf
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossini@blindglobe.net  Fri Jul 28 01:11:14 2000
From: rossini@blindglobe.net (A.J. Rossini)
Date: 27 Jul 2000 17:11:14 -0700
Subject: [Rd] RJava and Orca...
Message-ID: <87ya2ndsgt.fsf@jeeves.blindglobe.net>


It's cool, it's exciting, and much thanks to Duncan.  He announced
RJava yesterday (or this morning?) on the R-devel list, and it's
really worth it.

        http://www.omegahat.org/RSJava

for more details.

But it does mean that we can run Orca code directly within R, (without
Thomas' socket connections) (and also means that we really need a
"stop" button, since killing the visualizations kills the R process in
an ugly fashion).

To do:
1. write up a converter for feeding R DataFrames right into Orca
2. add the "stop" or "destroy" button described above.
3. do the "right thing" for brushing.

All you need to do from the following scripts is to install Java for
R, redefine where "orcaHomeDir" is, and run it...

I'll be checking these into the Orca directory structure soon!

Since I'm cc'ing r-devel, I might as well point to Orca:

        http://pyrite.cfas.washington.edu/orca

best,
-tony


Examples:
-------------- Initialization.R --------------
library(Java)

## Initialize Environment
orcaHomeDir <- "/biostat/faculty0/rossini/sandbox/Src/Java/Orca/orca/"
orcaHomeOrcaJar <- paste(orcaHomeDir,"classes/orca.jar",sep="")
orcaHomeVisADJar <- paste(orcaHomeDir,"jars/visad.jar",sep="")
orcaClasses <- c(orcaHomeOrcaJar,orcaHomeVisADJar)

## Initialize JVM
.JavaInit(list(classPath=orcaClasses))

## Verify JVM has Orca in its path
.Java("System", "getProperty", "java.class.path")

-------------- VarSelExample.R ---------------

## The .name="blah" part turns out to be essential...
od.1  <- .Java("org.orca.data.parsers.OrcaDataSource",
               "openFileData","data/normclust.dat",.name="od")
dsp.1 <- .JavaConstructor("DataSourcePipe",od.1,.name="dsp")
sdp.1 <- .JavaConstructor("StdDataPipe",dsp.1,.name="sdp")
vsp.1 <- .JavaConstructor("VarSelPipe",sdp.1,.name="vsp")
rp.1 <- .JavaConstructor("Render2DPipe",vsp.1,.name="rp")
wp.1 <- .JavaConstructor("WindowPipe",rp.1,.name="wp")
.Java(wp.1,"reloadView")

-------------- TaoExample.R ------------------

## You need to be "initialized" for this... (see Initialize.R above) 

OrcaDataFile     <- "data/orca.tao.time"
OrcaDataTimeVar  <- "Group"
OrcaDataGroupVar <- "Time"

## Get the data
od.1 <- .Java("org.orca.data.parsers.OrcaDataSource",
              "openFileData",
              OrcaDataFile,
              .name="od");

## Acknowledge special covariates
od.1 <- .JavaConstructor("MarkTimeSeriesData",
                         od.1,
                         OrcaDataTimeVar,
                         .name="od2");
od.1 <- .JavaConstructor("MarkGroupData",
                         od.1,
                         OrcaDataGroupVar,
                         .name="od3");

## Run it through the standardization and brushing stuff.
dsp.1 <- .JavaConstructor("DataSourcePipe",
                          od.1,
                          .name="dsp")
stdd1.1 <- .JavaConstructor("StdDataPipe",
                            dsp.1,
                            .name="stdd1")

stdd.1 <- .JavaConstructor("ReorderPipe",
                           stdd1.1,
                           .name="stdd")

## Set up the pairs plot
mlp.1 <- .JavaConstructor("MultiLayoutPipe",
                          stdd.1,
                          .name="mlp")
obw.1 <- .JavaConstructor("WindowPipe",
                          mlp.1,
                          .name="obw")

## Set up the grand tour
ortp1.1 <- .JavaConstructor("TourPipe",
                            stdd.1,
                            .name="ortp1")
t2p2.1 <- .JavaConstructor("Render2DPipe",ortp1.1,
                           .name="t2p2")
obw4.1 <- .JavaConstructor("WindowPipe",t2p2.1,.name="obw4")

## Set up the TimeSeries 
ortp2.1 <- .JavaConstructor("TourPipe",stdd.1,.name="ortp2")
t2p.1 <- .JavaConstructor("TimeSeriesPipe",ortp2.1,.name="t2p")
obw3.1 <- .JavaConstructor("WindowPipe",t2p.1,.name="obw3")

## It can be better to pause these -- don't start them immediately
## after each other!
.Java(obw.1 , "reloadView")
.Java(obw4.1, "reloadView")
## The following doesn't work yet (array out of bounds bug)
.Java(obw3.1, "reloadView")

----------------------------------------------------------

best,
-tony


-- 
A.J. Rossini
rossini@blindglobe.net				BlindGlobe Networks
rossini@biostat.washington.edu			U Washington (from home)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From telford@progsoc.uts.edu.au  Fri Jul 28 10:51:51 2000
From: telford@progsoc.uts.edu.au (Telford Tendys)
Date: Fri, 28 Jul 2000 19:51:51 +1000
Subject: [Rd] Using the nls package
Message-ID: <20000728195151.A18822@ftoomsh.progsoc.uts.edu.au>

I'm a bit confused about the nls package, I'm trying to use it for curve fitting.

First off, the documentation for nls says ``see `nlsControl' for the
names of the settable control values'' -- this is wrong, it should be
nls.control (minor point but had me confused for a moment).

Now I'll try something very simple (maybe too simple):
----------------------------------------------------------------------
> q <- data.frame( x=1:10 )
> q$y <- eval( expression( 4 + 5 * x ), q )
> library( nls )
> w <- nls( y ~ P1 + P2 * x, q, start=list( P1=1, P2=1 )) 
Error in nls(y ~ P1 + P2 * x, q, start = list(P1 = 1, P2 = 1)) : 
        maximum number of iterations exceeded
> w <- nls( y ~ P1 + P2 * x, q, start=list( P1=1, P2=1 ), trace=T, control=nls.control( maxiter=10 ))
7570 :  1 1 
7.888609e-29 :  4 5 
0 :  4 5 
0 :  4 5 
0 :  4 5 
0 :  4 5 
0 :  4 5 
0 :  4 5 
0 :  4 5 
0 :  4 5 
0 :  4 5 
----------------------------------------------------------------------

There is something I really don't understand here -- it seems to
go right to the answer but then cannot detect that it should
terminate the search. The default tolerance of 1e-5 seems reasonable.
Same happens with a slightly harder problem:

----------------------------------------------------------------------
> q$y <- eval( expression( 4 + 5 / x + 7 * x ), q )> w <- nls( y ~ P1 + P2 / x + P3 * x, q, start=list( P1=1, P2=1, P3=1 ), trace=T, control=nls.control( maxiter=10 ))
16505.09 :  1 1 1 
3.578718e-14 :  4 5 7 
2.650573e-28 :  4 5 7 
1.262177e-29 :  4 5 7 
0 :  4 5 7 
0 :  4 5 7 
0 :  4 5 7 
0 :  4 5 7 
0 :  4 5 7 
0 :  4 5 7 
0 :  4 5 7 
----------------------------------------------------------------------

It knows what the answer should be but does not know that it has the
answer, try injecting some noise in the sample points:

----------------------------------------------------------------------
> q$y <- eval( expression( 4 + 5 / x + 7 * x + runif( 10 )), q )
> w <- nls( y ~ P1 + P2 / x + P3 * x, q, start=list( P1=1, P2=1, P3=1 ), trace=T, control=nls.control( maxiter=10 ))
16882.09 :  1 1 1 
0.4923209 :  4.796474 5.290280 6.947685 
----------------------------------------------------------------------

OK, now it stops right away with an approximate solution...
must be alergic to getting the right answer!
I guess with all that noise, this answer is probably the best possible.

Well, I'm sure that isn't such a big bug to fix, probably
a test for >0 when it should be >=0 or something. Maybe just
detect exceptionally small sum of squares (i.e. zero) and bail
out right there. Do statisticians have an instinct to disbelieve that
their sample data could ever fit the model?

Now a bigger problem (for me), I want to be able to use complex
numbers in the calculation:

----------------------------------------------------------------------
> q$y <- eval( expression( 4 + x*(0+1i)), q )
> w <- nls( y ~ P1 + P2 * x, q, start=list( P1=1, P2=1 ), trace=T, control=nls.control( maxiter=10 ))
Error in model.frame(formula, rownames, variables, varnames, extras, extranames,  : 
        invalid variable type
> traceback()
[1] "model.frame.default(formula = ~y + x, data = q)"                  
[2] "model.frame(formula = ~y + x, data = q)"                          
[3] "eval(expr, envir, enclos)"                                        
[4] "eval(mf, sys.frame(sys.parent()))"                                
[5] "as.list(eval(mf, sys.frame(sys.parent())))"                       
[6] "nls(y ~ P1 + P2 * x, q, start = list(P1 = 1, P2 = 1), trace = T, "
[7] "    control = nls.control(maxiter = 10))"                         
> model.frame.default( y ~ x, q )
Error in model.frame(formula, rownames, variables, varnames, extras, extranames,  : 
        invalid variable type
----------------------------------------------------------------------

Is there any chance of getting this to work? Should I split up the
complex numbers into components and write my equations are equivalent
expressions in reals (ugly but I could do it if I have to)?

Seems like something in the .Internal(model.frame(...)) is barfing
at a complex number. Is that necessary or just an accident? Surely
R has enough complex number capabilities to handle them here too...

Sorry about whinging all the time :-)

	- Tel
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Fri Jul 28 16:20:22 2000
From: thomas@biostat.washington.edu (thomas@biostat.washington.edu)
Date: Fri, 28 Jul 2000 17:20:22 +0200 (MET DST)
Subject: [Rd] Re: [R] gremlin in rep() (PR#619)
Message-ID: <200007281520.RAA02438@pubhealth.ku.dk>

On Fri, 28 Jul 2000, Colin Farrow wrote:

> the following occurred inadvertently and brought R-1.1.0 down
> 
> rep(1:3, c(4,2,-6))
> Segmentation Fault (core dumped)

In main/seq.c:rep2 we only check that the total length of the result is
positive, not that each part is.

Easy fix, I think.

	-thomas

> 
> platform i686-pc-linux-gnu
> arch     i686             
> os       linux-gnu        
> system   i686, linux-gnu  
> status                    
> major    1                
> minor    1.0              
> year     2000             
> month    June             
> day      15               
> language R 
> also on Solaris2.7 
> 
> -- 
> Colin Farrow
> Computing Service, University of Glasgow, Glasgow G12 8QQ
> Tel: 0141 330 4862, c.farrow@compserv.gla.ac.uk
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ligges@statistik.uni-dortmund.de  Fri Jul 28 19:38:00 2000
From: ligges@statistik.uni-dortmund.de (ligges@statistik.uni-dortmund.de)
Date: Fri, 28 Jul 2000 20:38:00 +0200 (MET DST)
Subject: [Rd] crash with winDialogString("ABC", 1) (PR#620)
Message-ID: <200007281838.UAA03047@pubhealth.ku.dk>

If the default string in winDialogString(.) is not a character (OK, it
was also my bug...), R crashes:

  winDialogString("ABC", 1)


Everything works fine with:

  winDialogString("ABC", "1")



A fix which hopefully doesn't break anything:

  winDialogString <- function (message, default) 
      .Internal(winDialogString(message, as.character(default)))


Regards,
Uwe Ligges


--please do not edit the information below--

Version:
 platform = Windows
 arch = x86
 os = Win32
 system = x86, Win32
 status = 
 major = 1
 minor = 1.0
 year = 2000
 month = June
 day = 15
 language = R

Windows NT 4.0 (build 1381) Service Pack 6

Search Path:
 .GlobalEnv, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From telford@progsoc.uts.edu.au  Sat Jul 29 13:22:52 2000
From: telford@progsoc.uts.edu.au (Telford Tendys)
Date: Sat, 29 Jul 2000 22:22:52 +1000
Subject: [Rd] Using the nls package
In-Reply-To: <20000728195151.A18822@ftoomsh.progsoc.uts.edu.au>; from telford@progsoc.uts.edu.au on Fri, Jul 28, 2000 at 07:51:51PM +1000
References: <20000728195151.A18822@ftoomsh.progsoc.uts.edu.au>
Message-ID: <20000729222252.A26266@ftoomsh.progsoc.uts.edu.au>

To follow-up my own message...
Just making an attempt to provide all the standard details
(though I have a feeling in this case that it isn't system dependent).

> version
         _
platform powerpc-unknown-linux-gnu
arch     powerpc
os       linux-gnu
system   powerpc, linux-gnu
status
major    1
minor    1.0
year     2000
month    June
day      15
language R

[telford@dispater telford]$ gcc -v
Reading specs from /usr/lib/gcc-lib/ppc-redhat-linux/2.95.2/specs
gcc version 2.95.2 19991024 (release/franzo)

[telford@dispater telford]$ cat /proc/version
Linux version 2.2.15pre3 (benh@sawtooth.wanadoo.fr) (gcc version 2.95.2 19991024 (release/franzo)) #3 Sat Jan 29 18:02:45 CET 2000

[telford@dispater telford]$ ls -o /lib/libc.so.6
lrwxrwxrwx   1 root           13 Jan  1  1970 /lib/libc.so.6 -> libc-2.1.1.so

	- Tel
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Sun Jul 30 00:59:53 2000
From: bates@stat.wisc.edu (Douglas Bates)
Date: 29 Jul 2000 18:59:53 -0500
Subject: [Rd] Using the nls package
In-Reply-To: Telford Tendys's message of "Fri, 28 Jul 2000 19:51:51 +1000"
References: <20000728195151.A18822@ftoomsh.progsoc.uts.edu.au>
Message-ID: <6rlmykbi86.fsf@franz.stat.wisc.edu>

Telford Tendys <telford@progsoc.uts.edu.au> writes:

> I'm a bit confused about the nls package, I'm trying to use it for curve fitting.
> 
> First off, the documentation for nls says ``see `nlsControl' for the
> names of the settable control values'' -- this is wrong, it should be
> nls.control (minor point but had me confused for a moment).

Thanks for pointing that out.  We will correct that for the next
release.

> Now I'll try something very simple (maybe too simple):
> ----------------------------------------------------------------------
> > q <- data.frame( x=1:10 )
> > q$y <- eval( expression( 4 + 5 * x ), q )
> > library( nls )
> > w <- nls( y ~ P1 + P2 * x, q, start=list( P1=1, P2=1 )) 
> Error in nls(y ~ P1 + P2 * x, q, start = list(P1 = 1, P2 = 1)) : 
>         maximum number of iterations exceeded
> > w <- nls( y ~ P1 + P2 * x, q, start=list( P1=1, P2=1 ), trace=T, control=nls.control( maxiter=10 ))
> 7570 :  1 1 
> 7.888609e-29 :  4 5 
> 0 :  4 5 
> 0 :  4 5 
> 0 :  4 5 
> 0 :  4 5 
> 0 :  4 5 
> 0 :  4 5 
> 0 :  4 5 
> 0 :  4 5 
> 0 :  4 5 
> ----------------------------------------------------------------------
> 
> There is something I really don't understand here -- it seems to
> go right to the answer but then cannot detect that it should
> terminate the search. The default tolerance of 1e-5 seems reasonable.
> Same happens with a slightly harder problem:

The convergence criterion for nls is the relative offset orthogonality
convergence criterion as described in 
@Article{bate:watt:1981:tech,
  journal =      "Technometrics",
  volume =       23,
  pages =        "179--183",
  keywords =     "Regression",
  author =       "Douglas M. Bates and Donald G. Watts",
  title =        "A Relative Offset Orthogonality Convergence Criterion
                 for Nonlinear Least Squares",
  year =         1981
}

This criterion fails for artificial examples where the residual
sum-of-squares can be made exactly zero.

> ----------------------------------------------------------------------
> > q$y <- eval( expression( 4 + 5 / x + 7 * x ), q )> w <- nls( y ~ P1 + P2 / x + P3 * x, q, start=list( P1=1, P2=1, P3=1 ), trace=T, control=nls.control( maxiter=10 ))
> 16505.09 :  1 1 1 
> 3.578718e-14 :  4 5 7 
> 2.650573e-28 :  4 5 7 
> 1.262177e-29 :  4 5 7 
> 0 :  4 5 7 
> 0 :  4 5 7 
> 0 :  4 5 7 
> 0 :  4 5 7 
> 0 :  4 5 7 
> 0 :  4 5 7 
> 0 :  4 5 7 
> ----------------------------------------------------------------------
> 
> It knows what the answer should be but does not know that it has the
> answer, try injecting some noise in the sample points:

What is unusual here is that you get an exact zero for the residual
sum-of-squares.  Often there would be a small, non-zero RSS even at
the parameter values used to simulate the response.

> ----------------------------------------------------------------------
> > q$y <- eval( expression( 4 + 5 / x + 7 * x + runif( 10 )), q )
> > w <- nls( y ~ P1 + P2 / x + P3 * x, q, start=list( P1=1, P2=1, P3=1 ), trace=T, control=nls.control( maxiter=10 ))
> 16882.09 :  1 1 1 
> 0.4923209 :  4.796474 5.290280 6.947685 
> ----------------------------------------------------------------------
> 
> OK, now it stops right away with an approximate solution...
> must be alergic to getting the right answer!
> I guess with all that noise, this answer is probably the best possible.
> 
> Well, I'm sure that isn't such a big bug to fix, probably
> a test for >0 when it should be >=0 or something. Maybe just
> detect exceptionally small sum of squares (i.e. zero) and bail
> out right there. Do statisticians have an instinct to disbelieve that
> their sample data could ever fit the model?

The problem with putting in a check for an exceptionally small sum of
squares is deciding when it is exceptionally small.  There is no
absolute scale on the residual sum of squares.

We could perhaps detect an exact zero but even that would not catch
all the cases where "exact" values were simulated because generally
they will give a small but non-zero sum of squares.

Since such problems will not occur in practice but only in artificial
examples, we have not bothered detecting them.

> Now a bigger problem (for me), I want to be able to use complex
> numbers in the calculation:
> 
> ----------------------------------------------------------------------
> > q$y <- eval( expression( 4 + x*(0+1i)), q )
> > w <- nls( y ~ P1 + P2 * x, q, start=list( P1=1, P2=1 ), trace=T, control=nls.control( maxiter=10 ))
> Error in model.frame(formula, rownames, variables, varnames, extras, extranames,  : 
>         invalid variable type
> > traceback()
> [1] "model.frame.default(formula = ~y + x, data = q)"                  
> [2] "model.frame(formula = ~y + x, data = q)"                          
> [3] "eval(expr, envir, enclos)"                                        
> [4] "eval(mf, sys.frame(sys.parent()))"                                
> [5] "as.list(eval(mf, sys.frame(sys.parent())))"                       
> [6] "nls(y ~ P1 + P2 * x, q, start = list(P1 = 1, P2 = 1), trace = T, "
> [7] "    control = nls.control(maxiter = 10))"                         
> > model.frame.default( y ~ x, q )
> Error in model.frame(formula, rownames, variables, varnames, extras, extranames,  : 
>         invalid variable type
> ----------------------------------------------------------------------
> 
> Is there any chance of getting this to work? Should I split up the
> complex numbers into components and write my equations are equivalent
> expressions in reals (ugly but I could do it if I have to)?

That's the best short-term solution.  In general, how do you want to
define the residual sum of squares for a complex-valued response?
Should it be the sum of the modulus of the residuals?

We could put complex-valued nonlinear least squares on the wishlist
but I would have to warn you that there are many other items in front
of it.

> Seems like something in the .Internal(model.frame(...)) is barfing
> at a complex number. Is that necessary or just an accident? Surely
> R has enough complex number capabilities to handle them here too...

Easiest thing is to test it.

 > data(cars)
 > model.frame(dist ~ speed, data = cars)
    dist speed
 1     2     4
 ...
 49  120    24
 50   85    25
 > cars$speed <- cars$speed + rnorm(50)*(0+1i)
 > is.complex(cars$speed)
 [1] TRUE
 > model.frame(dist ~ speed, data = cars)
 Error in model.frame(formula, rownames, variables, varnames, extras, extranames,  : 
         invalid variable type

So, yes, the model.frame function does not allow complex data.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From telford@progsoc.uts.edu.au  Mon Jul 31 03:11:44 2000
From: telford@progsoc.uts.edu.au (Telford Tendys)
Date: Mon, 31 Jul 2000 12:11:44 +1000
Subject: [Rd] Using the nls package
In-Reply-To: <6rlmykbi86.fsf@franz.stat.wisc.edu>; from bates@stat.wisc.edu on Sat, Jul 29, 2000 at 06:59:53PM -0500
References: <20000728195151.A18822@ftoomsh.progsoc.uts.edu.au> <6rlmykbi86.fsf@franz.stat.wisc.edu>
Message-ID: <20000731121144.B18822@ftoomsh.progsoc.uts.edu.au>

On Sat, Jul 29, 2000 at 06:59:53PM -0500, Douglas Bates wrote:
> The convergence criterion for nls is the relative offset orthogonality
> convergence criterion as described in 
> @Article{bate:watt:1981:tech,
>   journal =      "Technometrics",
>   volume =       23,
>   pages =        "179--183",
>   keywords =     "Regression",
>   author =       "Douglas M. Bates and Donald G. Watts",
>   title =        "A Relative Offset Orthogonality Convergence Criterion
>                  for Nonlinear Least Squares",
>   year =         1981
> }

OK, I'll try to look that one up. You probably have a very good
convergence criterion for realistic sample data (which will always
have some error).

> The problem with putting in a check for an exceptionally small sum of
> squares is deciding when it is exceptionally small.  There is no
> absolute scale on the residual sum of squares.
> 
> We could perhaps detect an exact zero but even that would not catch
> all the cases where "exact" values were simulated because generally
> they will give a small but non-zero sum of squares.

Hmmm, I see your point here... the size of the residual sum of squares can 
change deastically when you add or delete measurement points, try different
models, etc so it's value only has meaning when relative to other residual
sum of squares for the same model, for the same data points.

How about testing for progress? If the nls algorithm is giving the same
numbers on two consecutive cycles then we can be sure it is not going to
get any better with more iterations so:

[1] keep a copy of the parameters from last cycle
[2] keep a copy of the sum of square residuals from last cycle
[3] if the sum of the residuals has changed at all then this cycle
    is making progress so keep cycling
[4] if the sum of residuals has not changed, check if the parameters
    have changed, if they have not changed then give up because
    next cycle will be same as this one.

Maybe [1] and [4] are not necessary and checking for change in the
sum of square residuals is enough but I am vaguely aware that it might
be possible to have the parameters change without the sum of square
residuals changing (I would have to study the algorithm very closely
to figure out whether that was possible).

Anyhow, would copying the parameters each cycle be a big overhead?

> Since such problems will not occur in practice but only in artificial
> examples, we have not bothered detecting them.

Yes, this is understandable but if most people are like me (questionable
assumption I admit) they try a few artificial examples first to get
the general idea of how these things work. I guess there is a certain
illogical assumption that if I try what seems to me to be an obviously
easy problem and it cannot handle it then something must be wrong and
trying harder problems is not going to help.

> > Is there any chance of getting this to work? Should I split up the
> > complex numbers into components and write my equations are equivalent
> > expressions in reals (ugly but I could do it if I have to)?
> 
> That's the best short-term solution.

OK, I'll go with that.

> In general, how do you want to
> define the residual sum of squares for a complex-valued response?
> Should it be the sum of the modulus of the residuals?

My thinking was that the `obvious' choice is the sum of the
SQUARES of the modulus of the residuals. Using the modulus itself
would be similar to using the absolute value of the residuals in the
non-complex case (not what we want I believe).

Another way of looking at it would be to think of extending the
residual from a scalar to a vector -- the natural extension of the
`square' operation is to square each element in the vector.
The current R system already uses this as the natural extension
to multiply and everyone seems happy with that:

> square <- function( x ) { x * x }
> square( -3 )
[1] 9
> square( -3:4 )
[1]  9  4  1  0  1  4  9 16

So once you have squared all the elements it makes sense to sum them
up, just like you do with the residuals in any case. Then you get
support for vector square residuals as being the same as the dot product
of the vector with itself (i.e. the only way to multiply a vector
with itself to get a scalar).

Keeping the logic going, a complex number is sort of like a special
case of a two element vector (yeah I know they aren't exactly the
same) so squaring the real and squaring the imaginary parts and summing
them up would seem consistent. But then Pythagoras points out that
this is the same as the square of the modulus in any case,
a full circle has been drawn.

> We could put complex-valued nonlinear least squares on the wishlist
> but I would have to warn you that there are many other items in front
> of it.

wish wish wish...

Now I think of it, there are two steps in this wish.
The first is to allow complex numbers to be allowed in the model
calculation at all and thus allow them to be residuals.

The second is to think about whether the parameters should be
allowed to be complex. I would argue that this second one is not
a good idea because it is rather easy to convert two real valued 
model parameters into a single complex number -- this ensures that
each model parameter is exactly one degree of freedom.

On the other hand, it is kind of painful to expand out complex
calculations into their real equivalents, and frustrating too when
there is a perfectly good complex calculator so close, yet so far away.

In either case, the documentation should mention that complex
numbers are not supported.

	- Tel
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Jul 31 07:20:32 2000
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 31 Jul 2000 07:20:32 +0100 (BST)
Subject: [Rd] Using the nls package
In-Reply-To: <20000731121144.B18822@ftoomsh.progsoc.uts.edu.au>
Message-ID: <Pine.GSO.4.05.10007310708440.10573-100000@auk.stats>

On Mon, 31 Jul 2000, Telford Tendys wrote:

> On Sat, Jul 29, 2000 at 06:59:53PM -0500, Douglas Bates wrote:
> > The convergence criterion for nls is the relative offset orthogonality
> > convergence criterion as described in 
> > @Article{bate:watt:1981:tech,
> >   journal =      "Technometrics",
> >   volume =       23,
> >   pages =        "179--183",
> >   keywords =     "Regression",
> >   author =       "Douglas M. Bates and Donald G. Watts",
> >   title =        "A Relative Offset Orthogonality Convergence Criterion
> >                  for Nonlinear Least Squares",
> >   year =         1981
> > }
> 
> OK, I'll try to look that one up. You probably have a very good
> convergence criterion for realistic sample data (which will always
> have some error).
> 
> > The problem with putting in a check for an exceptionally small sum of
> > squares is deciding when it is exceptionally small.  There is no
> > absolute scale on the residual sum of squares.
> > 
> > We could perhaps detect an exact zero but even that would not catch
> > all the cases where "exact" values were simulated because generally
> > they will give a small but non-zero sum of squares.
> 
> Hmmm, I see your point here... the size of the residual sum of squares can 
> change deastically when you add or delete measurement points, try different
> models, etc so it's value only has meaning when relative to other residual
> sum of squares for the same model, for the same data points.
> 
> How about testing for progress? If the nls algorithm is giving the same
> numbers on two consecutive cycles then we can be sure it is not going to
> get any better with more iterations so:

How can you be sure?  What are `the same numbers'?  The parameters
unchanged to machine precision, yes, but that's not what you print.


> [1] keep a copy of the parameters from last cycle
> [2] keep a copy of the sum of square residuals from last cycle
> [3] if the sum of the residuals has changed at all then this cycle
>     is making progress so keep cycling
> [4] if the sum of residuals has not changed, check if the parameters
>     have changed, if they have not changed then give up because
>     next cycle will be same as this one.
> 
> Maybe [1] and [4] are not necessary and checking for change in the
> sum of square residuals is enough but I am vaguely aware that it might
> be possible to have the parameters change without the sum of square
> residuals changing (I would have to study the algorithm very closely
> to figure out whether that was possible).
> 
> Anyhow, would copying the parameters each cycle be a big overhead?
> 
> > Since such problems will not occur in practice but only in artificial
> > examples, we have not bothered detecting them.
> 
> Yes, this is understandable but if most people are like me (questionable
> assumption I admit) they try a few artificial examples first to get
> the general idea of how these things work. I guess there is a certain
> illogical assumption that if I try what seems to me to be an obviously
> easy problem and it cannot handle it then something must be wrong and
> trying harder problems is not going to help.

Perhaps you need to read up on the algorithmic theory so you are not so
easily confused.  NLS problems with an exact-fit solution are a different
sub-class with different effective algorithms.

> > > Is there any chance of getting this to work? Should I split up the
> > > complex numbers into components and write my equations are equivalent
> > > expressions in reals (ugly but I could do it if I have to)?
> > 
> > That's the best short-term solution.
> 
> OK, I'll go with that.
> 
> > In general, how do you want to
> > define the residual sum of squares for a complex-valued response?
> > Should it be the sum of the modulus of the residuals?
> 
> My thinking was that the `obvious' choice is the sum of the
> SQUARES of the modulus of the residuals. Using the modulus itself
> would be similar to using the absolute value of the residuals in the
> non-complex case (not what we want I believe).

Sum of squares is common, and ises for complex linear regression in those
cases where it makes sense (e.g. in time series regression one
FFT-ed series on others).

> Another way of looking at it would be to think of extending the
> residual from a scalar to a vector -- the natural extension of the
> `square' operation is to square each element in the vector.
> The current R system already uses this as the natural extension
> to multiply and everyone seems happy with that:
> 
> > square <- function( x ) { x * x }
> > square( -3 )
> [1] 9
> > square( -3:4 )
> [1]  9  4  1  0  1  4  9 16
> 
> So once you have squared all the elements it makes sense to sum them
> up, just like you do with the residuals in any case. Then you get
> support for vector square residuals as being the same as the dot product
> of the vector with itself (i.e. the only way to multiply a vector
> with itself to get a scalar).
> 
> Keeping the logic going, a complex number is sort of like a special
> case of a two element vector (yeah I know they aren't exactly the
> same) so squaring the real and squaring the imaginary parts and summing
> them up would seem consistent. But then Pythagoras points out that
> this is the same as the square of the modulus in any case,
> a full circle has been drawn.
> 
> > We could put complex-valued nonlinear least squares on the wishlist
> > but I would have to warn you that there are many other items in front
> > of it.
> 
> wish wish wish...
> 
> Now I think of it, there are two steps in this wish.
> The first is to allow complex numbers to be allowed in the model
> calculation at all and thus allow them to be residuals.
> 
> The second is to think about whether the parameters should be
> allowed to be complex. I would argue that this second one is not
> a good idea because it is rather easy to convert two real valued 
> model parameters into a single complex number -- this ensures that
> each model parameter is exactly one degree of freedom.
> 
> On the other hand, it is kind of painful to expand out complex
> calculations into their real equivalents, and frustrating too when
> there is a perfectly good complex calculator so close, yet so far away.
> 
> In either case, the documentation should mention that complex
> numbers are not supported.

Why should documentation mention everything the function does not do? There
are *lots* of places in R where numeric quantities must be real.  Linear
regression (lm) for a start.  What nls says is

 formula: a nonlinear model formula including variables and parameters

which is none too explicit, but the reference (Bates & Watts) is,
so I assume you did not read it.

A pretty good reasonable assumption is that statistics does not work
in complexe numbers unless explicitly stated.  That's why in R

> sqrt(-1)
[1] NaN
Warning message: 
NaNs produced in: sqrt(-1) 


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Sun Jul  2 10:44:42 2000
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Sun, 2 Jul 2000 11:44:42 +0200
Subject: [Rd] Re: more Rd ordering
In-Reply-To: <395BB576.E1BAB8D0@bank-banque-canada.ca>
References: <395BB576.E1BAB8D0@bank-banque-canada.ca>
Message-ID: <200007020944.LAA06552@aragorn.ci.tuwien.ac.at>

>>>>> Paul Gilbert writes:

> Although the ordering from Rdindex and R CMD build now agrees when I
> run them at a command prompt, for some reason Rdindex now gives a
> different order when it is run at a command prompt than it does when
> it is run from make. My Makefile entry is:

> %/INDEX : %/man
>  @echo "making target $@ ..."
>  (cd $(dir $@) ; R  CMD    Rdindex man/*.Rd >INDEX )

> Any ideas?

Yes.  It may be that again you have the effect of your shell/locale etc
producing the different ordering.  Try using just the mandir rather than
the wildcard.  I.e., something like

%/INDEX : %/man
	@echo "making target $@ ..."
	(cd $(dir $@) ; R  CMD    Rdindex man >INDEX )

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Sun Jul  2 10:44:42 2000
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Sun, 2 Jul 2000 11:44:42 +0200
Subject: [Rd] Re: [R] Re: no subject --> plot.date(.)
In-Reply-To: <395DB4AA.6F504D58@statistik.uni-dortmund.de>
References: <4.3.2.7.0.20000701100706.00dc9100@127.0.0.1>
 <395DB4AA.6F504D58@statistik.uni-dortmund.de>
Message-ID: <200007020944.LAA06555@aragorn.ci.tuwien.ac.at>

>>>>> Uwe Ligges writes:

> Troels Ring wrote:
>> 
>> Dear friends. Library Date was updated recently. I do not remember having
>> seen the error below until now ? The plot title is made appropriately but
>> the error message may be annoying, right ? I use version 1.1 on windows 98.
>> 
>> library(date)
>> tt <- as.date(c("1jan1960", "2jan1960", "31mar1960", "30jul1960"))
>> plot(tt,c(1:4),main="How's that ?")
>> Warning message:
>> parameter "main" couldn't be set in high-level plot() function

> Right. A few weeks ago I did some quick and ugly improvements to
> plot.date(.).  The warning (not error) message is generated by axis(.)
> which is called within plot.date(.). This warning message can be
> ignored.

> If anyone is interested in fixing this ...

Actually, I think Ross has some improvements concerning packaging the
graphic parameters coming up, which may simplify such tasks.

> There is also no dacumentation to pot.date(.) in package "date".

The docs say that there are various methods for class "date" objects.
If you feel that plot.date() deserves its own documentation, pls feel
free to write it ... :-)

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossini@biostat.washington.edu  Mon Jul  3 21:39:36 2000
From: rossini@biostat.washington.edu (A.J. Rossini)
Date: 03 Jul 2000 13:39:36 -0700
Subject: [Rd] Re: R help
In-Reply-To: Rich Heiberger's message of "Mon, 3 Jul 2000 16:40:43 -0400 (EDT)"
References: <200007032040.e63Kehn130228@surfer.sbm.temple.edu>
Message-ID: <874s672bjr.fsf@alpha.cfas.washington.edu>

(cc'ing R-devel as well).

>>>>> "RH" == Rich Heiberger <rmh@surfer.sbm.temple.edu> writes:

    RH> using Mx-R on ntemacs, when I type
    RH>    help(lm)
    RH> I get an emacs *help[R](lm)* buffer with "^M" on each line.  I
    RH> tried a few ways to make them go away and none worked.

    RH> When I tried help.start() then internet explorer wants to
    RH> download 4MB of Microsoft Virtual Machine.  What is that?  Why
    RH> do I need it?  Should I go back to IE3 or 4 instead of the 5 I
    RH> just installed?  5 strikes me as slower and less user
    RH> friendly.  It seems to have lost most of my previous history.

What version of R?  Which version of NTEmacs? 

I suspect it might have to do with the d*mn'd JavaScript in the help
files (which causes me slight annoyance since java/javascript, images,
and cookies are turned off by default in my browser, but that's minor
and mostly irrelevant).

But I might be wrong.  I've cc'd R-devel in case anyone knows what's
happening or has seen it before?

best,
-tony

-- 
A.J. Rossini		       Research Assistant Professor of Biostatistics 
Biostatistics/Univ. of Washington  (Th)	Box 357232   206-543-1044 (3286=fax)
Center for AIDS Research/HMC/UW	  (M/F)	Box 359931   206-731-3647 (3693=fax)
VTN/SCHARP/FHCRC		 (Tu/W)	Box 358080   206-667-7025 (4812=fax)
rossini@(biostat.washington.edu|u.washington.edu|scharp.org)
http://www.biostat.washington.edu/~rossini

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Tue Jul  4 03:20:04 2000
From: dmurdoch@pair.com (dmurdoch@pair.com)
Date: Tue, 4 Jul 2000 04:20:04 +0200 (MET DST)
Subject: [Rd] Bug with lists and expressions (PR#589)
Message-ID: <200007040220.EAA10125@pubhealth.ku.dk>

 I'm running R 1.1.0 for Windows; the behaviour is the same in 1.0.1.

 # create a list containing an expression: no problem
  x _ list(NA, expression(1))

 # Try to assign an expression to a list element, and get an error:
  x[[1]] _ expression(1)

 # Try again with a named list element:  no problem!
  x _ list(a=NA,expression(1))
  x$a _ expression(1)

The error message is: 

Error in "[[<-"(*tmp*, 1, value = expression(1))  :
	incompatible types

I think the error is in "[[<-", but that's a primitive, and I don't
know how to track it down any further.

Duncan Murdoch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Tue Jul  4 03:26:41 2000
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Tue, 04 Jul 2000 02:26:41 GMT
Subject: [Rd] Bug with lists and expressions
Message-ID: <39614504.13951296@julian.uwo.ca>

 I'm running R 1.1.0 for Windows; the behaviour is the same in 1.0.1.

 # create a list containing an expression: no problem
  x _ list(NA, expression(1))

 # Try to assign an expression to a list element, and get an error:
  x[[1]] _ expression(1)

 # Try again with a named list element:  no problem!
  x _ list(a=NA,expression(1))
  x$a _ expression(1)

The error message is: 

Error in "[[<-"(*tmp*, 1, value = expression(1))  :
	incompatible types

I think the error is in "[[<-", but that's a primitive, and I don't
know how to track it down any further.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From cate@neper.ethz.ch  Tue Jul  4 11:30:01 2000
From: cate@neper.ethz.ch (cate@neper.ethz.ch)
Date: Tue, 4 Jul 2000 12:30:01 +0200 (MET DST)
Subject: [Rd] Documentation bug (is.R). (PR#590)
Message-ID: <200007041030.MAA13203@pubhealth.ku.dk>

Full_Name: Giacomo Catenazzi
Version: 1.0.1
OS: Linux (Debian)
Submission from: (NULL) (129.132.9.24)


>From is.R documentation:

     `if (exists(is.R) && is.function(is.R) && is.R()) {'
     `    '## R-specific code
     `} else {'
     `    '## S-version of code
     `}'

It should be writen as '' exists("is.R") '' (is.R must be quoted).

> exists(is.R)
Error in exists(x, envir, mode, inherits) : 
	invalid first argument
> exists("is.R")
[1] TRUE


	giacomo

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Tue Jul  4 13:06:51 2000
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Tue, 4 Jul 2000 14:06:51 +0200 (MET DST)
Subject: [Rd] Documentation bug (is.R). (PR#590)
Message-ID: <200007041206.OAA14447@pubhealth.ku.dk>

>>>>> "cate" == cate  <cate@neper.ethz.ch> writes:

    cate> Full_Name: Giacomo Catenazzi
    cate> Version: 1.0.1
    cate> OS: Linux (Debian)
    cate> Submission from: (NULL) (129.132.9.24)


    >> From is.R documentation:

    cate> `if (exists(is.R) && is.function(is.R) && is.R()) {'
    cate> `    '## R-specific code
    cate> `} else {'
    cate> `    '## S-version of code
    cate> `}'

    cate> It should be writen as '' exists("is.R") '' (is.R must be quoted).

Thanks a lot;
now fixed for "R-(release-)patched"

Martin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From przemat@itti.com.pl  Tue Jul  4 13:54:06 2000
From: przemat@itti.com.pl (przemat@itti.com.pl)
Date: Tue, 4 Jul 2000 14:54:06 +0200 (MET DST)
Subject: [Rd] tseries bug (PR#592)
Message-ID: <200007041254.OAA15000@pubhealth.ku.dk>

Full_Name: Przemys쓰w Matuszewski
Version: R-1.1.0
OS: Linux RH 6.2
Submission from: (NULL) (195.117.211.244)


I have a problem with the package tseries_0.5-2.
The source of tseries_0.5-2 was compiled by command R INSTALL /path/to/package.

There was build the tseries library. Now when I try to load the package I get
the message:
...........................
    
    Type	"demo()" for some demos, "help()" for on-line help, or
    	"help.start()" for a HTML browser interface to help.
    Type	"q()" to quit R.

    > library(tseries)

    Segmentation fault (core dumped)

............................
                        
I would be appreciated if you could give me any suggestion what to do with it.

Best regards

Przemys쓰w Matuszewski

przemat@itti.com.pl


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From przemat@itti.com.pl  Tue Jul  4 13:59:38 2000
From: przemat@itti.com.pl (przemat@itti.com.pl)
Date: Tue, 4 Jul 2000 14:59:38 +0200 (MET DST)
Subject: [Rd] tseries bug (PR#593)
Message-ID: <200007041259.OAA15356@pubhealth.ku.dk>

Full_Name: Przemys쓰w Matuszewski
Version: R-1.1.0
OS: Linux RH 6.2
Submission from: (NULL) (195.117.211.244)


I have a problem with the package tseries_0.5-2.
The source of tseries_0.5-2 was compiled by command R INSTALL /path/to/package.

There was build the tseries library. Now when I try to load the package I get
the message:
...........................
    
    Type	"demo()" for some demos, "help()" for on-line help, or
    	"help.start()" for a HTML browser interface to help.
    Type	"q()" to quit R.

    > library(tseries)

    Segmentation fault (core dumped)

............................
                        
I would be appreciated if you could give me any suggestion what to do with it.

Best regards

Przemys쓰w Matuszewski

przemat@itti.com.pl


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From plummer@iarc.fr  Tue Jul  4 14:21:37 2000
From: plummer@iarc.fr (Martyn Plummer)
Date: Tue, 04 Jul 2000 15:21:37 +0200 (CEST)
Subject: [Rd] tseries bug (PR#592)
In-Reply-To: <200007041254.OAA15000@pubhealth.ku.dk>
Message-ID: <XFMail.000704152137.plummer@iarc.fr>

Not a problem with the tseries package, I think, but with Red Hat 6.2,
which has some serious problems dynamically loading Fortran.

Peter Dalgaard has reported that upgrading the C/fortran compilers to 
gcc 2.95.1 or later cures the problem.

I'll see if I can find an RPM of gcc-2.95.1 for RH 6.2 and put it in
the RedHat directory of CRAN.

Martyn

On 04-Jul-00 przemat@itti.com.pl wrote:
> Full_Name: Przemys쓰w Matuszewski
> Version: R-1.1.0
> OS: Linux RH 6.2
> Submission from: (NULL) (195.117.211.244)
> 
> 
> I have a problem with the package tseries_0.5-2.
> The source of tseries_0.5-2 was compiled by command R INSTALL
> /path/to/package.
> 
> There was build the tseries library. Now when I try to load the package I get
> the message:
> ...........................
>     
>     Type      "demo()" for some demos, "help()" for on-line help, or
>       "help.start()" for a HTML browser interface to help.
>     Type      "q()" to quit R.
> 
>     > library(tseries)
> 
>     Segmentation fault (core dumped)
> 
> ............................
>                         
> I would be appreciated if you could give me any suggestion what to do with
> it.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Adrian.Trapletti@wu-wien.ac.at  Tue Jul  4 14:27:47 2000
From: Adrian.Trapletti@wu-wien.ac.at (Adrian Trapletti)
Date: Tue, 04 Jul 2000 13:27:47 +0000
Subject: [Rd] tseries bug (PR#593)
References: <200007041259.OAA15356@pubhealth.ku.dk>
Message-ID: <3961E653.3B02000F@wu-wien.ac.at>

przemat@itti.com.pl wrote:

> Full_Name: Przemys쓰w Matuszewski
> Version: R-1.1.0
> OS: Linux RH 6.2
> Submission from: (NULL) (195.117.211.244)
>
> I have a problem with the package tseries_0.5-2.
> The source of tseries_0.5-2 was compiled by command R INSTALL /path/to/package.
>
> There was build the tseries library. Now when I try to load the package I get
> the message:
> ...........................
>
>     Type        "demo()" for some demos, "help()" for on-line help, or
>         "help.start()" for a HTML browser interface to help.
>     Type        "q()" to quit R.
>
>     > library(tseries)
>
>     Segmentation fault (core dumped)
>
> ............................
>
> I would be appreciated if you could give me any suggestion what to do with it.
>
> Best regards
>
> Przemys쓰w Matuszewski
>
> przemat@itti.com.pl
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.

Przemys쓰w and I already exchanged some emails about that problem, however, I have
not been able to reproduce this seg fault on my and Fritz Leisch's machine.
Perhaps anybody else had some similar problems?

Adrian

--
Adrian Trapletti, Vienna  University  of  Economics  and Business Ad-
ministration, Operations Research,  Augasse 2-6, 1090 Vienna, Austria
Phone: ++43-(0)1-31336-4561     Email: adrian.trapletti@wu-wien.ac.at
Fax: ++43-(0)1-31336-708   WWW: http://quor.wu-wien.ac.at/adrian.html



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From plummer@iarc.fr  Tue Jul  4 16:01:48 2000
From: plummer@iarc.fr (Martyn Plummer)
Date: Tue, 04 Jul 2000 17:01:48 +0200 (CEST)
Subject: [Rd] tseries bug (PR#592)
In-Reply-To: <XFMail.000704152137.plummer@iarc.fr>
Message-ID: <XFMail.000704170148.plummer@iarc.fr>

On 04-Jul-00 Martyn Plummer wrote:
> Not a problem with the tseries package, I think, but with Red Hat 6.2,
> which has some serious problems dynamically loading Fortran.
> 
> Peter Dalgaard has reported that upgrading the C/fortran compilers to 
> gcc 2.95.1 or later cures the problem.

I'm sorry to say that I still get the segfault with gcc-2.95.1 on 
RedHat 6.2.

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Wed Jul  5 17:31:45 2000
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Wed, 5 Jul 2000 18:31:45 +0200 (MET DST)
Subject: [Rd] svd() (Linpack) problems/bug for ill-conditioned matrices (PR#594)
Message-ID: <200007051631.SAA23153@pubhealth.ku.dk>


After fixing princomp(), recently,
	    {tiny negative eigen-values are possible for non-negative
	     definite matrices} 
Fritz Leisch drew my attention to the fact the not only eigen() can be
funny, but also svd().

Adrian Trappleti found that the singular values returned 
can be "-0" instead of "0".  This will be a problem in something like

    sd <- svd(Mat) $ d
    max(sd) / min(sd)

which gives  -Inf  instead of Inf in the above case.

I did some more searching and testing with svd(), could easily 
reproduce the "-0" problem,

    hilbert <- function(n, k=n) { i <- 1:n; 1 / outer(i - 1, i[1:k], "+") }

    M1 <- cbind(hilbert(12,8), pi*1e-15, 0)
    (sd <- svd(M1, nu=0, nv=0) $ d)
    sd[1] / sd[10] #--> -Inf  

but even worse:  On both Solaris (2.5.1, gcc 2.95.1, 
				  f77 "WorkShop Compilers 4.2"
                 and Linux (Redhat 6.2, enhanced with gcc 2.95.2;
			    g77 version egcs-2.91.66 19990314/Linux 
				(egcs-1.1.2 release) 
				(from FSF-g77 version 0.5.24-19981002)
I have managed to make svd() stop with
something like "error  170  in dsvdc"  which basically comes from the
underlying LINPACK routine DSVDC() which did not converge in 30 QR iterations.
example code appended
--- The examples I've found are machine dependent and disjoint for Linux &
Solaris.

HOWEVER:  S-PLUS 5.1 on both machines does NOT fail for the identical
	  matrices!
S-PLUS has basically	.Fortran("dsvdcs" ,
and looks like it is calling Linpack as well, but note that the subroutine
has an extra "s" appended (``S version of Linpack'' ??).

---

Then I had a short look at GSL (GNU scientific library) 
			http://sourceware.cygnus.com/gsl/
which calls a LAPACK (instead of LINPACK) routine for svd  which seems to
use Householder- instead of QR- iterations...

The whole makes me think that we should really shift away from Linpack and
towards Lapack for R's numerical linear algebra....

Here is my code which gives both an error (but not the same!) for R
on Linux and Solaris and all runs through S-PLUS 5.1 on both machines.


hilbert <- function(n) { i <- 1:n; 1 / outer(i - 1, i, "+") }
## "better":
hilbert <- function(n, k=n) { i <- 1:n; 1 / outer(i - 1, i[1:k], "+") }

M1 <- cbind(hilbert(12,8), 3.14e-15, 0)
M2 <- cbind(hilbert(15,8), .2,0)
H2c <- hilbert(200,180)

## Gives SVD error "error  170  in dsvdc" on (MM's) Solaris :
ii.sol <- c(87, 40, 120, 164, 93, 98, 108, 156, 77, 52, 127, 50, 58, 123,
        17, 147, 10, 152, 103, 136, 20, 34, 6, 30, 44, 130, 47, 35, 168,
        4, 115, 3, 29, 71, 56, 128, 90, 18, 60, 25, 125, 74, 91, 16,
        9, 111, 46, 137, 53, 110, 21, 94, 78, 104, 100, 99, 76, 126,
        62, 61, 117, 54, 140, 66, 150, 19, 149, 114, 63, 139, 2, 166,
        135, 23, 107, 8, 158, 39, 69, 75, 92, 112, 86, 124, 13, 118,
        151, 80, 146, 68, 43, 159, 36, 31, 144, 85, 122, 141, 11, 167,
        157, 1, 132, 97, 133, 79, 138, 49, 45, 72, 119, 84, 59, 131,
        5, 22, 116, 154, 142, 48, 73, 67, 161, 7, 155, 42, 41, 143, 57,
        33, 162, 102, 134, 101, 37, 148, 64, 160, 24, 27, 55, 83, 121,
        38, 106, 113, 28, 109, 70, 14, 32, 12, 65, 96, 129, 89, 163,
        88, 105, 15, 95, 145, 81, 165, 51, 153, 82, 169, 26)
H2c.sol <- cbind(H2c[,ii.sol], 1)

## NEW rec: -9.413e+14 ; nc =  164
## Gives SVD error 165 on Linux:
ii <- c(34, 101, 120, 53, 140, 108, 112, 9, 10, 96, 154, 89, 17, 131,
        130, 123, 126, 51, 95, 85, 147, 87, 132, 60, 58, 64, 150, 139,
        116, 36, 78, 107, 118, 104, 127, 61, 82, 84, 63, 23, 114, 124,
        83, 162, 55, 99, 50, 141, 8, 24, 25, 19, 65, 15, 2, 143, 145,
        148, 138, 136, 57, 22, 26, 1, 152, 129, 21, 69, 59, 20, 163,
        98, 92, 106, 88, 56, 70, 117, 37, 48, 115, 79, 68, 142, 4, 122,
        76, 28, 155, 29, 45, 13, 30, 47, 62, 31, 121, 119, 125, 74, 144,
        27, 93, 100, 71, 40, 149, 16, 157, 41, 33, 113, 133, 54, 14,
        156, 11, 97, 72, 75, 77, 49, 111, 128, 18, 35, 42, 6, 160, 32,
        3, 91, 66, 73, 44, 39, 81, 90, 153, 135, 43, 151, 159, 102, 161,
        12, 110, 5, 164, 67, 80, 46, 94, 7, 105, 134, 38, 146, 86, 103,
        137, 52, 158, 109)
H2c.lin <- cbind(H2c[,ii], 1)


(sd <- svd(M1, nu=0, nv=0) $ d) ; sd[1] / sd[length(sd)] #--> -Inf
(sd <- svd(M2, nu=0, nv=0) $ d) ; sd[1] / sd[length(sd)] #--> -Inf

summary(svd(H2c.sol)$d)## Error on Solaris only

summary(svd(H2c.lin)$d)## Error on Linux only (RH 6.2, gcc 2.95.2)
## BTW: quite a strong negative ratio
range( ev <- eigen(var(H2c.lin), only=T)$val )
ev[1] / ev[length(ev)] # -5.868e+15 (solaris);  -1.2115e+16 (linux)

### Try different  ii  and always do the following line :
summary(svd(cbind(H2c[,ii], 1))$d)


## BTW: Negative Eigenvalues
range( eigen(var(M2), only=T)$val )







-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From sharon@math.chalmers.se  Wed Jul  5 18:39:18 2000
From: sharon@math.chalmers.se (sharon@math.chalmers.se)
Date: Wed, 5 Jul 2000 19:39:18 +0200 (MET DST)
Subject: [Rd] eigen function on Solaris2.6 (PR#595)
Message-ID: <200007051739.TAA23364@pubhealth.ku.dk>

Full_Name: Sharon Kuhlmann
Version: 0.99
OS: solaris2.6   
Submission from: (NULL) (129.16.167.231)


When I use the function > eigen(x), it gives me a "Process R bus error", 
and the program quits.


I'm running the following R version:

platform sparc-sun-solaris2.6
arch     sparc               
os       solaris2.6          
system   sparc, solaris2.6   
status   Patched             
major    0                   
minor    99.0                
year     2000                
month    February            
day      9                   
language R         

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ligges@statistik.uni-dortmund.de  Wed Jul  5 20:13:43 2000
From: ligges@statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 05 Jul 2000 21:13:43 +0200
Subject: [Rd] eigen function on Solaris2.6 (PR#595)
References: <200007051739.TAA23364@pubhealth.ku.dk>
Message-ID: <396388E7.7D504A1E@statistik.uni-dortmund.de>

sharon@math.chalmers.se wrote:
> 
> Full_Name: Sharon Kuhlmann
> Version: 0.99

You should upgrade to R-1.1.0 (the latest release) before reporting a
bug ...


> OS: solaris2.6
> Submission from: (NULL) (129.16.167.231)
> 
> When I use the function > eigen(x), it gives me a "Process R bus error",
> and the program quits.


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Karl M.Hegbloom" <karlheg@debian.org  Wed Jul  5 22:05:51 2000
From: Karl M.Hegbloom" <karlheg@debian.org (Karl M. Hegbloom)
Date: 05 Jul 2000 14:05:51 -0700
Subject: [Rd] The "Blue book" and the R README.
Message-ID: <87ituk5lu8.fsf@bittersweet.intra>


 I've installed `R', and am beginning to learn about it.  I found a
 copy of "The New S Language", which has a copyright dated 1988.  The
 `R' README says it's 1998 though.  Is there a newer version, or is
 the README in error?

 Has anyone tried to get them to release the sources to the Blue Book?
 It says it was typeset with `troff'.  What are the odds they'd do
 that?  Do they still sell `S'?

 Do I own a rare book?  Or are there enough copies out there to meet
 demand?  Maybe I should memorize and eat it.

-- 
A few months in the laboratory often saves several hours at the library.
mailto:karlheg@debian.org (Karl M. Hegbloom)
irc: nick karlheg on irc.debian.org
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Thu Jul  6 08:13:27 2000
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Thu, 6 Jul 2000 09:13:27 +0200 (MET DST)
Subject: [Rd] eigen function on Solaris2.6 (PR#595)
Message-ID: <200007060713.JAA25401@pubhealth.ku.dk>

Thank you for the report,
Sharon,

>>>>> "sharon" == sharon  <sharon@math.chalmers.se> writes:

    sharon> When I use the function > eigen(x), it gives me a "Process R
    sharon> bus error", and the program quits.

We'd usually want to see an exactly reproducible example, i.e.

     x <- ......
     eigen (x)

but see below

    sharon> I'm running the following R version:

    sharon> platform sparc-sun-solaris2.6
    sharon> arch     sparc               
    sharon> os       solaris2.6          
    sharon> system   sparc, solaris2.6   
    sharon> status   Patched             
    sharon> major    0                   
    sharon> minor    99.0                
    sharon> year     2000                
    sharon> month    February            
    sharon> day      9                   
    sharon> language R         

Note that this is not even a released version of R (notice
"Patched"); it is pre version of R 1.0.0,
and nowadays you should not work anymore with R versions <= 0.99
(which BDR calls "beta").

Get 1.1(.0) from any CRAN site!

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Thu Jul  6 16:37:16 2000
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Thu, 6 Jul 2000 17:37:16 +0200 (MET DST)
Subject: [Rd] Re: [R] R 1.1.0 dev.print() & dev.copy2eps -- bug{let} (PR#596)
Message-ID: <200007061537.RAA02134@pubhealth.ku.dk>

>>>>> "StEgl" == Stephen Eglen <stephen@cogsci.ed.ac.uk> writes:

    StEgl> Hi, I just upgraded to 1.1.0 from 1.0.1 this morning on my OSF/1
    StEgl> machine.  I now have problems with the following code:

    StEgl> %E /tmp 43% R --vanilla
    StEgl> Version 1.1.0  (June 15, 2000)
    StEgl> ...

    >> test2 <- function ()
    {
    plot(runif(30))
    ofile <- "/tmp/newfile.ps"
    dev.print(file = ofile)
    }

    StEgl> + + + + + > > test2()
    StEgl> Error in device(...) : Object "ofile" not found


    StEgl> However, if I just write the filename directly into the call to
    StEgl> dev.print() rather than using a variable name, it works okay:


    >> test1 <- function ()
    {
     plot(runif(30))
     dev.print(file = "/tmp/newfile.ps")
    }

    StEgl> + + + + > > test1()
    StEgl> X11 
    StEgl> 2 

    StEgl> I just checked, and test1() works fine on R-1.0.1 
			       -------
you mean  test2();  test1() works on both, right?!

    StEgl> - what am I doing wrong?
nothing, "of course".
You found a bug, and hence I'm CC'ing to R-bugs.

Maybe, dev.print() is not what you should  have been using in the first place,
but rather dev.copy() directly which will probably solve your problem.

NOTE:  dev.print() has been extensively re-worked (for 1.1.0) in order to
       be "smart", e.g.,. to send the current plot to the printer by default
       depending on getOption("printer") and other things, and to allow
       other uses.  Hence, it works on the call and uses eval() ...

It seems is must become even smarter (or less tricky and more robust)...
       
BTW, the same applies to the new  dev.copy2eps() function which falls in
the same pit in its trickyness of using eval(...) :

  > tst3 <- function(outfile) { dev.copy2eps(file = outfile) }
  > tst3("/tmp/my2.eps")
  Error in device(...) : Object "outfile" not found

Martin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Fri Jul  7 01:57:04 2000
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Fri, 07 Jul 2000 00:57:04 GMT
Subject: [Rd] Streams package nearly completed
Message-ID: <39672958.19204442@julian.uwo.ca>

The binary file read/write package is approximately complete now.  The
only tasks remaining are:

 - compile the help to put together a compiled package
 - rewrite the Delphi code in C so it will run on other than Windows
machines

These are both likely to take me until late August, unless the
screaming fans demand it sooner. 

You can download the package source from my web page,
< http://www.stats.uwo.ca/faculty/murdoch/software/Rstreams.zip>.

The index file is reproduced here:

openstream: 	Open a file as a stream
closestream: 	Close a stream (or all streams)
readint: 		Read a vector of integers from the stream
readfloat: 	Read a vector of floats from the stream
readcomplex: 	Read a complex vector from the stream
readchar: 	Read a vector of character strings from the stream
writeint: 		Write a vector of integers to the stream
writefloat: 	Write a vector of floats to the stream
writecomplex: 	Write a complex vector to the stream
writechar: 	Write a vector of character strings to the stream
seek: 		Change the current position of the stream
truncate: 	Set the length of the stream
copy: 		Copy from one stream to another
allstreams: 	List all open streams
inttostr: 		Convert integers to hexadecimal (or other

	base)
hexdump: 	Display a hex dump of a stream
readsfile: 	Read a binary S-PLUS object file

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pd@blueberry.kubism.ku.dk  Fri Jul  7 06:15:05 2000
From: pd@blueberry.kubism.ku.dk (Peter Dalgaard BSA)
Date: Fri, 7 Jul 2000 07:15:05 +0200
Subject: [Rd] Bug list summary (automatic post)
Message-ID: <200007070515.HAA14649@blueberry.kubism.ku.dk>

=================================================
This is an automated summary of the status of the R-bugs
repository.

Note that this may be neither complete nor perfectly
correct at any given instance: Not all bugs are reported,
and some reported bugs may have been fixed, but the
repository not yet updated.

Some bug fixes are difficult to verify because they pertain
to specific hardware or operating system versions. If you
have information to contribute, please do so.

If you happen to know how to fix a problem please send
patches to the bug repository, too.

New bugs are reported either through the web
interface at r-bugs.biostat.ku.dk or via email to
r-bugs@biostat.ku.dk. The bug.report() function can be
used to automate parts of the procedure on many systems.
Followups on older bugs can be done by including the string
"(PR#999)" in the Subject of an email (change 999 to the
actual reference number, of course!).
=================================================

Directory:  Accuracy

none

Directory:  Add-ons

* PR# 567 *
Subject: ctest not works
From: George Diniz <george@cpqam.fiocruz.br>
Date: Sun, 12 Mar 2000 12:03:45 -0200
--possibly the RH6.2 Fortran bug
* PR# 503 *
Subject: dmvnorm() bug in e1071
From: "Gregory R. Warnes" <warnes@biostat.washington.edu>
Date: Fri, 24 Mar 2000 03:24:45 +0000 (GMT)
* PR# 496 *
From: bonneau@epi.roazhon.inra.fr (en148)
Date: Tue, 21 Mar 2000 10:57:13 +0100 (MET)
--base R has no est.variogram function.
--This appears to be a bug report on sgeostat.

Directory:  Analyses

none

Directory:  Documentation

none

Directory:  Graphics

* PR# 565 *
Subject: Postscript device ignores title if it is too long.
From: Stephen Eglen <stephen@anc.ed.ac.uk>
Date: Fri, 9 Jun 2000 09:17:09 +0100 (BST)
--documentation point was fixed for 1.1.0
* PR# 202 *
Subject: persp box occlusion bug
From: wsi@gcal.ac.uk
Date: Wed, 2 Jun 1999 15:02:03 +0200 (MET DST)
--The persp algorithm does not apply the occlusion rules to the frame, 
--which is always plotted first. 
--A bug, but not very simple to fix.

Directory:  In-Out

none

Directory:  Installation

* PR# 571 *
Subject:  Missing -lc for compilation on AIX (R 1.1.0) 
From: Thomas Vogels <tov@infiniti.ece.cmu.edu>
Date: Thu, 15 Jun 2000 13:42:50 -0400
* PR# 485 *
Subject: Install R1.0.0
From: Lynn Zhang <lyzhang@umich.edu>
Date: Mon, 13 Mar 2000 16:10:52 -0500 (EST)
* PR# 467 *
Subject: Re: [R] Re: R-1.0.0 is released
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 01 Mar 2000 20:26:40 +0100
--followup to PR#466
* PR# 466 *
Subject: Re: R-1.0.0 is released
From: bhoel@server.python.net (Berthold=?iso-8859-1?q?_H=F6llmann?=)
Date: 01 Mar 2000 16:00:54 +0100

Directory:  Language

* PR# 576 *
Subject:  exists() and the mode argument 
From: J.C.Rougier@durham.ac.uk
Date: Tue, 20 Jun 2000 12:03:36 +0100 (BST)
* PR# 412 *
Subject: anomalies with call objects
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 06 Feb 2000 01:18:50 +0100
* PR# 408 *
Subject: convolution bug
From: wsimpson@gcal.ac.uk
Date: Fri, 28 Jan 2000 11:17:36 +0100 (MET)

Directory:  Low-level

* PR# 545 *
Subject: Segmentation Fault of unknown cause
From: kjetikj@astro.uio.no
Date: Mon, 15 May 2000 16:29:29 +0200 (MET DST)
* PR# 505 *
Subject: interrupted save 
From: Thomas Lumley <thomas@biostat.washington.edu>
Date: Sat, 25 Mar 2000 12:16:50 -0800 (PST)

Directory:  Misc

none

Directory:  Models

none

Directory:  Startup

* PR# 486 *
Subject: Re: autoload error in profile {was anova-bug in R-version  1.0.0?}
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Tue, 14 Mar 2000 10:32:43 +0100 (MET)
--workaround to the origin problem in 1.0.1
--New report: try does not work from the profile.

Directory:  System-specific

* PR# 547 *
Subject: system(.., ignore.stderr = TRUE)  problem on Solaris
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Fri, 19 May 2000 21:12:02 +0200 (CEST)
--redirection of stderr to /dev/null in system occurs before the command
--is tried on some systems and after on others.
* PR# 452 *
Subject: problem with glm
From: Brad McNeney <mcneney@cs.sfu.ca>
Date: Fri, 18 Feb 2000 17:51:54 -0800 (PST)
--Problems on Alpha's with glm. Status unclear
* PR# 521 *
Subject: akima core dumps on loading
From: santini@dsi.unimi.it
Date: Mon, 17 Apr 2000 11:30:41 +0200 (MET DST)
--Probably compiler-specific
* PR# 490 *
Subject: R-1.0.0 on alpha/osf1 memory glitch
From: Ray Brownrigg <Ray.Brownrigg@mcs.vuw.ac.nz>
Date: Fri, 17 Mar 2000 11:25:30 +1300 (NZDT)
* PR# 537 *
Subject: eigen broken on AIX with R-devel?
From: Thomas J Vogels <tov@ece.cmu.edu>
Date: 08 May 2000 12:01:04 -0400
--AIX, probably compiler-specific
* PR# 534 *
Subject: wsfe bug report just made
From: mallen@tntech.edu
Date: Thu, 4 May 2000 19:20:35 +0200 (MET DST)
--follow up to PR#533
* PR# 533 *
Subject: acepack, akima and tripack will not load 
From: mallen@tntech.edu
Date: Thu, 4 May 2000 19:18:59 +0200 (MET DST)
--related to PR#521: probably compiler-specific

Directory:  TooMuchAtOnce

* PR# 532 *
Subject: Bug report -- 1.0.1, HP-UX
From: Russ Lenth <russell-lenth@uiowa.edu>
Date: Wed, 03 May 2000 12:15:26 -0500
--1) is a user error.
--2) command-line history has no information
--3) help.start looks like a permissions problem. 

Directory:  Windows

none

Directory:  incoming

* PR# 596 *
Subject: Re: [R] R 1.1.0 dev.print() & dev.copy2eps -- bug{let}
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Thu, 6 Jul 2000 17:36:28 +0200 (CEST)
* PR# 578 *
Subject: Re: [R] R 1.1 congrat; undocumented behaviour of recordPlot
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 22 Jun 2000 17:07:05 +0200
* PR# 551 *
Subject: Bus Error crash
From: kjetikj@astro.uio.no
Date: Mon, 22 May 2000 13:06:48 +0200 (MET DST)
* PR# 536 *
Subject: Problem with match.arg()
From: kjetikj@astro.uio.no
Date: Sun, 7 May 2000 13:58:21 +0200 (MET DST)
--1.0.0 bug fixed for 1.0.1 ??
* PR# 580 *
Subject: dotplot() colors reversed
From: Rashid Nassar <rnassar@duke.edu>
Date: Sun, 25 Jun 2000 15:36:00 -0400 (EDT)
* PR# 579 *
Subject: possible bug, anova.glm(), family="gaussian"
From: Rashid Nassar <rnassar@duke.edu>
Date: Sun, 25 Jun 2000 12:31:22 -0400 (EDT)
* PR# 583 *
Subject: persp greek label problem
From: ramin.nakisa@ncr.com
Date: Mon, 26 Jun 2000 20:06:38 +0200 (MET DST)
* PR# 582 *
Subject: lm.{w}fit(x,y,*) : fails when x has no column names
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Mon, 26 Jun 2000 15:50:58 +0200 (CEST)
* PR# 581 *
Subject: help screens: typos, suggestions
From: Rashid Nassar <rnassar@duke.edu>
Date: Sun, 25 Jun 2000 15:59:57 -0400 (EDT)
* PR# 585 *
Subject:  Missing SearchEngine.html 
From: Thomas J Vogels <tov@bavaria.ece.cmu.edu>
Date: Thu, 29 Jun 2000 08:12:06 -0400
* PR# 584 *
Subject: par(lty = "1") -- lty storage-etc bug
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Tue, 27 Jun 2000 09:11:36 +0200 (CEST)
* PR# 588 *
Subject: INTERNET SPY GUIDE finds info!
From: spysguidesnet12@rocketmail.com
Date: Sat, 01 Jul 00 20:15:34 EST
* PR# 587 *
Subject: dim(a <- ...) sets invisible flag erronously
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Fri, 30 Jun 2000 20:15:59 +0200 (MET DST)
* PR# 586 *
Subject: system.file on Windows, / vs \\
From: Thomas Lumley <thomas@biostat.washington.edu>
Date: Thu, 29 Jun 2000 09:49:39 -0700 (PDT)
* PR# 591 *
Subject: INCREASE SALES!
From: enamesoncd@earthlink.net
Date: Fri, 30 Jun 00 11:46:48 EST
* PR# 590 *
Subject: Documentation bug (is.R).
From: cate@neper.ethz.ch
Date: Tue, 4 Jul 2000 12:29:59 +0200 (MET DST)
* PR# 589 *
Subject: Bug with lists and expressions
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Tue, 04 Jul 2000 02:26:41 GMT
* PR# 593 *
Subject: tseries bug
From: przemat@itti.com.pl
Date: Tue, 4 Jul 2000 14:59:37 +0200 (MET DST)
* PR# 592 *
Subject: tseries bug
From: przemat@itti.com.pl
Date: Tue, 4 Jul 2000 14:52:17 +0200 (MET DST)
* PR# 595 *
Subject: eigen function on Solaris2.6
From: sharon@math.chalmers.se
Date: Wed, 5 Jul 2000 19:39:17 +0200 (MET DST)
* PR# 594 *
Subject: svd() (Linpack) problems/bug for ill-conditioned matrices
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Wed, 5 Jul 2000 18:32:01 +0200 (CEST)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From plucas@csd.abdn.ac.uk  Fri Jul  7 11:23:45 2000
From: plucas@csd.abdn.ac.uk (plucas@csd.abdn.ac.uk)
Date: Fri, 7 Jul 2000 12:23:45 +0200 (MET DST)
Subject: [Rd] multiply defined symbols (PR#597)
Message-ID: <200007071023.MAA07687@pubhealth.ku.dk>

Full_Name: Peter Lucas
Version: 1.1.0
OS: redHat 6.2 Linux
Submission from: (NULL) (139.133.200.15)


I tried to install R 1.1.0 on my i686 PC with Redhat 6.2 Linux on it.
I am using fort77 with f2c. I am not able to build R, as libc.a contains
regex.o, causing a conflict with src/main/regex.o. the ONEWS mentions
that this problem was solved, but it obviously was not. I am not a real
Unix hacker, so I wonder how to proceed.

Peter

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Fri Jul  7 15:46:02 2000
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 Jul 2000 16:46:02 +0200
Subject: [Rd] multiply defined symbols (PR#597)
In-Reply-To: plucas@csd.abdn.ac.uk's message of "Fri, 7 Jul 2000 12:23:45 +0200 (MET DST)"
References: <200007071023.MAA07687@pubhealth.ku.dk>
Message-ID: <x2wviyrob9.fsf@blueberry.kubism.ku.dk>

plucas@csd.abdn.ac.uk writes:

> I tried to install R 1.1.0 on my i686 PC with Redhat 6.2 Linux on it.
> I am using fort77 with f2c. I am not able to build R, as libc.a contains
> regex.o, causing a conflict with src/main/regex.o. the ONEWS mentions
> that this problem was solved, but it obviously was not. I am not a real
> Unix hacker, so I wonder how to proceed.

One possibility would be to use f2c directly. Pseudo Fortran compilers
like fort77 (which is just a script around f2c) do strange things
occasionally. Use the --with-f2c flag to configure.

The egcs-g77 package that comes with RH6.2 should work for compiling R
itself, but seems to be having trouble with some add-on packages.
gcc-2.95.1 and later seems to be OK.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rnassar@duke.edu  Sun Jul  9 03:18:00 2000
From: rnassar@duke.edu (rnassar@duke.edu)
Date: Sun, 9 Jul 2000 04:18:00 +0200 (MET DST)
Subject: [Rd] minor typos in help pages (PR#598)
Message-ID: <200007090218.EAA14023@pubhealth.ku.dk>

Dear R Team,

A few monor typos in help pages that I noticed. 

Thank you very much.

Rashid Nassar

1.
help(gl)
Examples:

     # First control, then treatment:
     gl(2,8, label=c("Ctnrl","Treat"))
                      ^^^^
I assume "Cntrl" is meant.                     

==========================================
2.
help(pmatch)

Details:

     The behaviour differs by the value of `duplicates.ok'. Consider
     ...
     behaviour for partial matching of character indices, for example
                            # looks like something is missing here  ^^^ 

# perhaps:                                     
 
    ... indices, for example.      #[i.e. the use for partial matching of
                            ^      # character indices is the example]
                            
# or:  

   ... indices, for example,  # and the actual example goes here but is 
left out 

# (I'm not sure which).
     
=========================================
3.
help(on.exit)

Description:

     `on.exit' records the expression given as its argument as needing
     to be executed when then current function exits (either naturally
                            ^ 
                         [the] 

========================================
4.
help(influence.measures)

References:
 
     Cook, R. D. and Weisber,g S. (1982) Residuals and Influence in
                           ^^^      
=========================================

--please do not edit the information below--

Version:
 platform = i586-pc-linux-gnu
 arch = i586
 os = linux-gnu
 system = i586, linux-gnu
 status = Patched
 major = 1
 minor = 1.0
 year = 2000
 month = July
 day = 1
 language = R

Search Path:
 .GlobalEnv, Autoloads, package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Jul  9 09:41:49 2000
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 9 Jul 2000 09:41:49 +0100 (BST)
Subject: [Rd] minor typos in help pages (PR#598)
In-Reply-To: <200007090218.EAA14023@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.05.10007090939140.10400-100000@auk.stats>

Thank you, all fixed for 1.1.1 in the R-patched branch.

On Sun, 9 Jul 2000 rnassar@duke.edu wrote:


> Dear R Team,
> 
> A few monor typos in help pages that I noticed. 
> 
> Thank you very much.
> 
> Rashid Nassar
> 
> 1.
> help(gl)
> Examples:
> 
>      # First control, then treatment:
>      gl(2,8, label=c("Ctnrl","Treat"))
>                       ^^^^
> I assume "Cntrl" is meant.                     

I've used `Control' as it seemed confusing to abbreviate it at all.

> 
> ==========================================
> 2.
> help(pmatch)
> 
> Details:
> 
>      The behaviour differs by the value of `duplicates.ok'. Consider
>      ...
>      behaviour for partial matching of character indices, for example
>                             # looks like something is missing here  ^^^ 

(It was a missing `.'.)

....

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kjetil.kjernsmo@astro.uio.no  Sun Jul  9 20:34:24 2000
From: kjetil.kjernsmo@astro.uio.no (Kjetil Kjernsmo)
Date: Sun, 9 Jul 2000 21:34:24 +0200 (MET DST)
Subject: [Rd] Modified Histogram functions
Message-ID: <Pine.OSF.4.05.10007092108130.14507-100000@alnair.uio.no>

Dear all,

I have done further modifications on the histogram functions that I
reported earlier this year, and I hope this can be of use and perhaps
included in the distribution. I have been using this stuff a couple of
months myself, and while it is nothing sophisticated, it has it's
applications. :-) I did a few small modifications today to make it a bit
more compact.

I have modified the hist.default() function so that the list it returns
has class "histogram". I have put the plotting in a separate function,
plot.histogram(), which is called from hist.default if plot=T, and I have
made a lines.histogram() (calling it "lines", is that a wise choice? It
seemed most natural, but then again....), which can be used to overlay
histograms on existing histograms. Here it is obviously a lot of room for
improvement. E.g. calling plot.histogram() with multiple histogram
objects could produce a plot where coloumns representing the same values
are grouped, I haven't addressed that. The code is below my .sig.

As you can see, there are few changes from your code. The biggest change
is that hist.default() calls plot.histogram() (or rather plot()). Also
note that the warning about wrong areas only appears in hist.default(). I
figured that the user is most likely created the histogram object with
hist, so s/he might no want to be bothered with this warning again. I
don't know if this is wise, s/he might just have forgotten or something. :-)

I guess plot.histogram() may also be made more compact by calling
lines.histogram() to plot the actual rects, but I didn't find a practical
way of doing this, so I didn't... :-) And, contrary to
the other functions making histogram plots, lines.histogram() does take
lty as an argument (useful for making dotted borders, to separate one
histogram from another, particulary useful when using colors).

I've got a function for adding two similar histograms as well, but that's
so hacked up I guess it isn't worth much.

BTW, I found a typo in the help for rect:
     xpd: logical (``expand''); if `FLASE', everything is clipped to
          the plot region.

Hope this is useful for someone... :-)

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj@astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster@skepsis.no 

hist <- function(x, ...) UseMethod("hist")

hist.default <-
function (x, breaks, freq= NULL, probability = !freq, include.lowest= TRUE,
       right=TRUE, col = NULL, border = par("fg"),
       main = paste("Histogram of" , deparse(substitute(x))),
       xlim = range(breaks), ylim = range(y, 0),
       xlab = deparse(substitute(x)), ylab,
       axes = TRUE, plot = TRUE, labels = FALSE, nclass = NULL, ...)
{
  if (!is.numeric(x))
    stop("hist: x must be numeric")
  main # eval() now: defeat lazy eval
  xlab
  n <- length(x <- x[!is.na(x)])
  use.br <- !missing(breaks)
  if(use.br) {
    if(!missing(nclass))
      warning("`nclass' not used when `breaks' specified")
  }
  else if(!is.null(nclass) && length(nclass) == 1)
    breaks <- nclass
  use.br <- use.br && (nB <- length(breaks)) > 1
  if(use.br)
    breaks <- sort(breaks)
  else { # construct vector of breaks
    rx <- range(x)
    nnb <-
    if(missing(breaks)) 1 + log2(n)
    else { # breaks = `nclass'
      if (is.na(breaks) | breaks < 2)
        stop("invalid number of breaks")
      breaks
    }
    breaks <- pretty (rx, n = nnb, min.n=1, eps.corr = 2)
    nB <- length(breaks)
    if(nB <= 1) { ##-- Impossible !
      stop(paste("hist.default: pretty() error, breaks=",format(breaks)))
    }
  }
  storage.mode(x) <- "double"
  storage.mode(breaks) <- "double"
  counts <- .C("bincount",
               x,
               n,
               breaks,
               nB,
               counts = integer(nB - 1),
               right = as.logical(right),
               include= as.logical(include.lowest),
               NAOK = FALSE, DUP = FALSE, PACKAGE = "base") $counts
  if (any(counts < 0))
  stop("negative `counts'. Internal Error in C-code for \"bincount\"")
  if (sum(counts) < n)
  stop("some `x' not counted; maybe `breaks' do not span range of `x'")
  h <- diff(breaks)
  if (!use.br && any(h <= 0))
  stop("not strictly increasing `breaks'.")
  if (is.null(freq)) {
    freq <- if(!missing(probability))
    !as.logical(probability)
    else if(use.br) {
      ##-- Do frequencies if breaks are evenly spaced
      max(h)-min(h) < 1e-7 * mean(h)
    } else TRUE
  } else if(!missing(probability) && any(probability == freq))
    stop("`probability is an alias for `!freq', however they differ.")
  intensities <- counts/(n*h)
  mids <- 0.5 * (breaks[-1] + breaks[-nB])
  y <- if (freq) counts else intensities
  r <- structure(list(breaks = breaks, counts = counts,
                      intensities = intensities, mids = mids),
                 class="histogram")
  if (plot) {
    if(freq && use.br && max(h)-min(h) > 1e-7 * mean(h))
    warning("the AREAS in the plot are wrong -- maybe use `freq=FALSE'")
    plot(r, freq = freq, probability = !freq, col = col, border = border,
         main = main, xlim = xlim, ylim = ylim, xlab = xlab, ylab = ylab,
         axes = axes, labels = labels, ...)
    invisible(r)
  }
  else r
}

plot.histogram <- function (x, freq= NULL, probability = !freq, 
                            col = NULL, border = par("fg"),
                            main = paste("Histogram of" ,
                              deparse(substitute(x))),
                            xlim = range(x$breaks), ylim = range(y, 0),
                            xlab = deparse(substitute(x)), ylab,
                            axes = TRUE, labels = FALSE,  ...)
{
  if (is.null(freq)) {
    freq <- if(!missing(probability))
      !as.logical(probability) else TRUE
  } else if(!missing(probability) && any(probability == freq))
  stop("`probability' is an alias for `!freq', however they differ.")
  y <- if (freq) x$counts else x$intensities
  nB <- length(x$breaks)
  plot.new()
  plot.window(xlim, ylim, "") #-> ylim's default from 'y'
  if (missing(ylab))
    ylab <- paste(if(!freq)"Relative ", "Frequency", sep="")
  title(main = main, xlab = xlab, ylab = ylab, ...)
  if(axes) {
    axis(1, ...)
    axis(2, ...)
  }
  rect(x$breaks[-nB], 0, x$breaks[-1], y,
       col = col, border = border)
  if(labels)
    text(x$mids, y,
         labels = if(freq) x$counts else round(x$intensities,3),
         adj = c(0.5, -0.5))
  invisible()
}

lines.histogram <- function(x, freq=NULL, probability=!freq,
                            col=NULL, border=par("fg"), lty=NULL...)
{
  if (is.null(freq)) {
    freq <- if(!missing(probability))
      !as.logical(probability) else TRUE
  } else if(!missing(probability) && any(probability == freq))
    stop("`probability' is an alias for `!freq', however they differ.")
  y <- if (freq) x$counts else x$intensities
  nB <- length(x$breaks)
  rect(x$breaks[-nB], 0, x$breaks[-1], y,
       col = col, border = border, lty = lty)
  invisible()
}
 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Mon Jul 10 09:43:10 2000
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Mon, 10 Jul 2000 10:43:10 +0200 (CEST)
Subject: [Rd] Modified Histogram functions
In-Reply-To: <Pine.OSF.4.05.10007092108130.14507-100000@alnair.uio.no>
References: <Pine.OSF.4.05.10007092108130.14507-100000@alnair.uio.no>
Message-ID: <14697.35998.939655.91419@gargle.gargle.HOWL>

>>>>> "Kjetil" == Kjetil Kjernsmo <kjetil.kjernsmo@astro.uio.no> writes:

    Kjetil> Dear all, I have done further modifications on the histogram
    Kjetil> functions that I reported earlier this year, and I hope this
    Kjetil> can be of use and perhaps included in the distribution. I have
    Kjetil> been using this stuff a couple of months myself, and while it
    Kjetil> is nothing sophisticated, it has it's applications. :-) I did a
    Kjetil> few small modifications today to make it a bit more compact.

    Kjetil> I have modified the hist.default() function so that the list it
    Kjetil> returns has class "histogram". I have put the plotting in a
    Kjetil> separate function, plot.histogram(), which is called from
    Kjetil> hist.default if plot=T, and I have made a lines.histogram()
    Kjetil> (calling it "lines", is that a wise choice? It seemed most
    Kjetil> natural, but then again....), which can be used to overlay
    Kjetil> histograms on existing histograms. Here it is obviously a lot
    Kjetil> of room for improvement. E.g. calling plot.histogram() with
    Kjetil> multiple histogram objects could produce a plot where coloumns
    Kjetil> representing the same values are grouped, I haven't addressed
    Kjetil> that. The code is below my .sig.

Your main idea is great and something we (people here) 
have been considering to do as well.

I'd definitely want to put something along these lines into base R.
Please, "everyone chime in!"

    Kjetil> As you can see, there are few changes from your code. The
    Kjetil> biggest change is that hist.default() calls plot.histogram()
    Kjetil> (or rather plot()). Also note that the warning about wrong
    Kjetil> areas only appears in hist.default(). I figured that the user
    Kjetil> is most likely created the histogram object with hist, so s/he
    Kjetil> might no want to be bothered with this warning again. I don't
    Kjetil> know if this is wise, s/he might just have forgotten or
    Kjetil> something. :-)

    Kjetil> I guess plot.histogram() may also be made more compact by
    Kjetil> calling lines.histogram() to plot the actual rects, but I
    Kjetil> didn't find a practical way of doing this, so I didn't... :-)
    Kjetil> And, contrary to the other functions making histogram plots,
    Kjetil> lines.histogram() does take lty as an argument (useful for
    Kjetil> making dotted borders, to separate one histogram from another,
    Kjetil> particulary useful when using colors).

    Kjetil> I've got a function for adding two similar histograms as well,
    Kjetil> but that's so hacked up I guess it isn't worth much.

    Kjetil> BTW, I found a typo in the help for rect: xpd: logical
    Kjetil> (``expand''); if `FLASE', everything is clipped to the plot
    Kjetil> region.

    Kjetil> Hope this is useful for someone... :-)

certainly, thanks a lot!

	   <.... sig and code snipped ....>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Prof Brian Ripley <ripley@stats.ox.ac.uk>  Mon Jul 10 14:36:51 2000
From: Prof Brian Ripley <ripley@stats.ox.ac.uk> (Prof Brian Ripley)
Date: Mon, 10 Jul 2000 14:36:51 +0100 (BST)
Subject: [Rd] dim(a <- ...) sets invisible flag erronously (PR#587)
Message-ID: <200007101336.OAA12626@toucan.stats.ox.ac.uk>


> Date: Fri, 30 Jun 2000 20:15:51 +0200 (MET DST)
> From: maechler@stat.math.ethz.ch
> To: r-devel@stat.math.ethz.ch
> Subject: [Rd] dim(a <- ...) sets invisible flag erronously (PR#587)
> CC: R-bugs@biostat.ku.dk
> X-Loop: R-bugs@biostat.ku.dk
> 
> {Nothing really harmful;  R 1.1.0}
> 
> dim(.) sets (or doesn't clear) the  ``invisible flag'' for printing in
> certain circumstances:
> 
>   > dim(a <- cbind(1))
>   >
> 
> does *not* print as it should :
> 
>   > dim(a)
>   [1] 1 1

This is nothing to do with dim: any function will do this.

> foo <- function(x) x
> foo(a <- cbind(1))

It happens because the way invisible is implemented is different in R and S:
in S there is a .Auto.print var in frame 1, and in R there is a global
variable R_visible, so anything during the evaluation that unsets the
flag will ensure that the result is invisible.

I don't see how to avoid this without checking the `depth' in the evaluation
pretty carefully (and R's semantics differ from those of S in that
braced expressions do not generate a frame).

Is this worth fixing?  print(.Last.value) works all the time, and perhaps
you might be persuaded not to write code that uses assignments as arguments?

> ---
> 
> Question to the real "hackers" :
> 
> How can I check this using R code alone (not using files),
> i.e. (how) can I ask an R expression if its ``invisible flag'' is set or not ?
> 
> {help(invisible) doesn't help here}.
> 
> Maybe one would want an
> 
>       is.invisible(.)
> 
> function?

There seems to be an unused internal function do_visibleflag in print.c.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rnassar@duke.edu  Tue Jul 11 00:54:53 2000
From: rnassar@duke.edu (rnassar@duke.edu)
Date: Tue, 11 Jul 2000 01:54:53 +0200 (MET DST)
Subject: [Rd] help page typos (PR#599)
Message-ID: <200007102354.BAA23288@pubhealth.ku.dk>

A couple of help page typos that I came across:

1. 
help(sample)

Arguments:

       x: Either a (numeric, complex, character or logical) vector of
          more than one elements from which to choose, or a positive
                               ^
                       [element] 

2. 
help(delay)

Description:

     `delay' creates a promise to evaluate the given expression in the
     specifies environment if its value is requested. This provides
             ^
    [specified]

Many thanks for R.

Rashid Nassar


--please do not edit the information below--

Version:
 platform = i586-pc-linux-gnu
 arch = i586
 os = linux-gnu
 system = i586, linux-gnu
 status = Patched
 major = 1
 minor = 1.0
 year = 2000
 month = July
 day = 1
 language = R

Search Path:
 .GlobalEnv, package:mva, package:cluster, Autoloads, package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Jul 11 08:01:18 2000
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 11 Jul 2000 08:01:18 +0100 (BST)
Subject: [Rd] help page typos (PR#599)
In-Reply-To: <200007102354.BAA23288@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.05.10007110800510.17317-100000@auk.stats>

Changed for the patched distribution, thank you.

On Tue, 11 Jul 2000 rnassar@duke.edu wrote:

> A couple of help page typos that I came across:
> 
> 1. 
> help(sample)
> 
> Arguments:
> 
>        x: Either a (numeric, complex, character or logical) vector of
>           more than one elements from which to choose, or a positive
>                                ^
>                        [element] 
> 
> 2. 
> help(delay)
> 
> Description:
> 
>      `delay' creates a promise to evaluate the given expression in the
>      specifies environment if its value is requested. This provides
>              ^
>     [specified]
> 
> Many thanks for R.
> 
> Rashid Nassar
> 
> 
> --please do not edit the information below--
> 
> Version:
>  platform = i586-pc-linux-gnu
>  arch = i586
>  os = linux-gnu
>  system = i586, linux-gnu
>  status = Patched
>  major = 1
>  minor = 1.0
>  year = 2000
>  month = July
>  day = 1
>  language = R
> 
> Search Path:
>  .GlobalEnv, package:mva, package:cluster, Autoloads, package:base
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Tue Jul 11 09:38:34 2000
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Tue, 11 Jul 2000 10:38:34 +0200 (MET DST)
Subject: [Rd] help page typos (PR#599)
Message-ID: <200007110838.KAA24920@pubhealth.ku.dk>


>>>>> "RNa" == Rashid Nassar <rnassar@duke.edu> writes:

    RNa> A couple of help page typos that I came across: 1.  help(sample)

Very astonishing.  
These typos are *not* in the current version of R.

Your (re-installation) must have been semi-broken or something....

    RNa> Arguments:

    RNa>        x: Either a (numeric, complex, character or logical) vector
    RNa> of more than one elements from which to choose, or a positive ^
    RNa> [element]

    RNa> 2.  help(delay)

    RNa> Description:

    RNa>      `delay' creates a promise to evaluate the given expression in
    RNa> the specifies environment if its value is requested. This provides
    RNa> ^ [specified]

    RNa> Many thanks for R.

    RNa> Rashid Nassar


    RNa> --please do not edit the information below--

    RNa> Version: platform = i586-pc-linux-gnu arch = i586 os = linux-gnu
    RNa> system = i586, linux-gnu status = Patched major = 1 minor = 1.0
    RNa> year = 2000 month = July day = 1 language = R

    RNa> Search Path: .GlobalEnv, package:mva, package:cluster, Autoloads,
    RNa> package:base


    RNa> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
    RNa> r-devel mailing list -- Read
    RNa> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info",
    RNa> "help", or "[un]subscribe" (in the "body", not the subject !)  To:
    RNa> r-devel-request@stat.math.ethz.ch
    RNa> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Tue Jul 11 09:43:12 2000
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Tue, 11 Jul 2000 10:43:12 +0200 (MET DST)
Subject: [Rd] help page typos (PR#599)
Message-ID: <200007110843.KAA25014@pubhealth.ku.dk>


>>>>> "RNa" == Rashid Nassar <rnassar@duke.edu> writes:

    RNa> A couple of help page typos that I came across: 1.  help(sample)

MM>> Very astonishing.  
MM>> These typos are *not* in the current version of R.
MM>> 
MM>> Your (re-installation) must have been semi-broken or something....

Fooled myself!  Excuse me, I'm using too many versions of R...

I'm sorry for that, and 
thanks for reporting these!

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kreft@Cardiff.ac.uk  Tue Jul 11 15:06:26 2000
From: Kreft@Cardiff.ac.uk (Jan Kreft)
Date: Tue, 11 Jul 2000 15:06:26 +0100 (BST)
Subject: [Rd] Help: R seg faults
Message-ID: <Pine.OSF.4.10.10007111505440.9847-100000@thor>

Dear list,

I hope this is the right forum to ask. I have just downloaded and compiled
R, but I get a segfault after I start R.

make, make test/check, went OK.

My system is
linux-2.2.13
glibc-2.1.3
gcc 2.95.2
R-1.1.0

Here is a backtrace from gdb:

(gdb) file /usr/local/lib/R/bin/R.bin
Reading symbols from /usr/local/lib/R/bin/R.bin...done.
(gdb) run
Starting program: /usr/local/lib/R/bin/R.bin 

R : Copyright 2000, The R Development Core Team
Version 1.1.0  (June 15, 2000)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type    "?license" or "?licence" for distribution details.

R is a collaborative project with many contributors.
Type    "?contributors" for a list.

Type    "demo()" for some demos, "help()" for on-line help, or
        "help.start()" for a HTML browser interface to help.
Type    "q()" to quit R.


Program received signal SIGSEGV, Segmentation fault.
0x400da7bc in _IO_fflush (fp=0x819ecd8) at iofflush.c:41
41            result = _IO_SYNC (fp) ? EOF : 0;
(gdb) bt
#0  0x400da7bc in _IO_fflush (fp=0x819ecd8) at iofflush.c:41
#1  0x8122165 in rl_prep_terminal (meta_flag=0) at rltty.c:555
#2  0x811cb08 in _rl_callback_newline () at callback.c:76
#3  0x811cb4a in rl_callback_handler_install (prompt=0x4093c210 "> ", linefunc=0x80e8798 <readline_handler>) at callback.c:95
#4  0x80e89b5 in Rstd_ReadConsole (prompt=0x4093c210 "> ", buf=0xbfffeedc "", len=1024, addtohistory=1) at ../../../R-1.1.0/src/unix/sys-std.c:357
#5  0x80e6b2e in R_ReadConsole (prompt=0x4093c210 "> ", buf=0xbfffeedc "", len=1024, addtohistory=1) at ../../../R-1.1.0/src/unix/system.c:66
#6  0x8097d78 in R_ReplConsole (rho=0x40296338, savestack=0, browselevel=0) at ../../../R-1.1.0/src/main/main.c:128
#7  0x80985e2 in run_Rmainloop () at ../../../R-1.1.0/src/main/main.c:454
#8  0x8098620 in Rf_mainloop () at ../../../R-1.1.0/src/main/main.c:468
#9  0x80e715a in main (ac=0, av=0xbffff7f4) at ../../../R-1.1.0/src/unix/system.c:222

Cheers, Jan.

Jan Kreft                               Phone  +44 (0)29 20875278
Cardiff School of Biosciences           Fax    +44 (0)29 20874305
Cardiff	University                      E-mail Kreft@cardiff.ac.uk
PO Box 915, Cardiff CF10 3TL, UK


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Jul 11 17:14:48 2000
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 11 Jul 2000 17:14:48 +0100 (BST)
Subject: [Rd] Help: R seg faults
In-Reply-To: <Pine.OSF.4.10.10007111505440.9847-100000@thor>
Message-ID: <Pine.GSO.4.05.10007111706390.17580-100000@auk.stats>

On Tue, 11 Jul 2000, Jan Kreft wrote:

> Dear list,
> 
> I hope this is the right forum to ask. I have just downloaded and compiled
> R, but I get a segfault after I start R.

That segfault is from readline, not R itself.

> make, make test/check, went OK.
> 
> My system is
> linux-2.2.13
> glibc-2.1.3
> gcc 2.95.2
> R-1.1.0

and where did you get readline from? (Is this some Linux distribution?)

> Here is a backtrace from gdb:
> 
> (gdb) file /usr/local/lib/R/bin/R.bin
> Reading symbols from /usr/local/lib/R/bin/R.bin...done.
> (gdb) run
> Starting program: /usr/local/lib/R/bin/R.bin 
> 
> R : Copyright 2000, The R Development Core Team
> Version 1.1.0  (June 15, 2000)
> 
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type    "?license" or "?licence" for distribution details.
> 
> R is a collaborative project with many contributors.
> Type    "?contributors" for a list.
> 
> Type    "demo()" for some demos, "help()" for on-line help, or
>         "help.start()" for a HTML browser interface to help.
> Type    "q()" to quit R.
> 
> 
> Program received signal SIGSEGV, Segmentation fault.
> 0x400da7bc in _IO_fflush (fp=0x819ecd8) at iofflush.c:41
> 41            result = _IO_SYNC (fp) ? EOF : 0;
> (gdb) bt
> #0  0x400da7bc in _IO_fflush (fp=0x819ecd8) at iofflush.c:41
> #1  0x8122165 in rl_prep_terminal (meta_flag=0) at rltty.c:555
> #2  0x811cb08 in _rl_callback_newline () at callback.c:76
> #3  0x811cb4a in rl_callback_handler_install (prompt=0x4093c210 "> ", linefunc=0x80e8798 <readline_handler>) at callback.c:95
> #4  0x80e89b5 in Rstd_ReadConsole (prompt=0x4093c210 "> ", buf=0xbfffeedc "", len=1024, addtohistory=1) at ../../../R-1.1.0/src/unix/sys-std.c:357
> #5  0x80e6b2e in R_ReadConsole (prompt=0x4093c210 "> ", buf=0xbfffeedc "", len=1024, addtohistory=1) at ../../../R-1.1.0/src/unix/system.c:66
> #6  0x8097d78 in R_ReplConsole (rho=0x40296338, savestack=0, browselevel=0) at ../../../R-1.1.0/src/main/main.c:128
> #7  0x80985e2 in run_Rmainloop () at ../../../R-1.1.0/src/main/main.c:454
> #8  0x8098620 in Rf_mainloop () at ../../../R-1.1.0/src/main/main.c:468
> #9  0x80e715a in main (ac=0, av=0xbffff7f4) at ../../../R-1.1.0/src/unix/system.c:222

Thanks for the detail, which enables me to guess at how to solve this....

Suggestions:

(1) configure with --without-readline and see if that works (it
should, since make check does).  You `just' lose the command-line history.

(2) Compile the current readline sources yourself and use that, building
from scratch. In so far as your spec looks like RH6.2 with gcc-2.95.2 added
(from memory), that has a good chance to work as it did for me. It might
matter that readline is compiled with the same compiler as R.  (I know it
should not, but RH6.2 seems to have some problems making dynamic libraries
with the supplied egcs.)


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kreft@Cardiff.ac.uk  Tue Jul 11 18:10:32 2000
From: Kreft@Cardiff.ac.uk (Jan Kreft)
Date: Tue, 11 Jul 2000 18:10:32 +0100 (BST)
Subject: [Rd] Help: R seg faults
In-Reply-To: <Pine.GSO.4.05.10007111706390.17580-100000@auk.stats>
Message-ID: <Pine.OSF.4.10.10007111805280.9847-100000@thor>

Thanks,

that's it. Configuring --without-readline avoids the problem. Will now get
a new version of readline and see if I can make it work. Can't figure out
which version of readline I have, though I found two identical copies of
the readline dir, one in /usr/include and one in /usr/local/include.

My system was a long time ago SuSE linux 6.1, but I have made many
changes, such as glibc, gcc, kernel.

Thanks again, Jan.

On Tue, 11 Jul 2000, Prof Brian D Ripley wrote:

> On Tue, 11 Jul 2000, Jan Kreft wrote:
> 
> > Dear list,
> > 
> > I hope this is the right forum to ask. I have just downloaded and compiled
> > R, but I get a segfault after I start R.
> 
> That segfault is from readline, not R itself.
> 
> > make, make test/check, went OK.
> > 
> > My system is
> > linux-2.2.13
> > glibc-2.1.3
> > gcc 2.95.2
> > R-1.1.0
> 
> and where did you get readline from? (Is this some Linux distribution?)
> 
> > Here is a backtrace from gdb:
> > 
> > (gdb) file /usr/local/lib/R/bin/R.bin
> > Reading symbols from /usr/local/lib/R/bin/R.bin...done.
> > (gdb) run
> > Starting program: /usr/local/lib/R/bin/R.bin 
> > 
> > R : Copyright 2000, The R Development Core Team
> > Version 1.1.0  (June 15, 2000)
> > 
> > R is free software and comes with ABSOLUTELY NO WARRANTY.
> > You are welcome to redistribute it under certain conditions.
> > Type    "?license" or "?licence" for distribution details.
> > 
> > R is a collaborative project with many contributors.
> > Type    "?contributors" for a list.
> > 
> > Type    "demo()" for some demos, "help()" for on-line help, or
> >         "help.start()" for a HTML browser interface to help.
> > Type    "q()" to quit R.
> > 
> > 
> > Program received signal SIGSEGV, Segmentation fault.
> > 0x400da7bc in _IO_fflush (fp=0x819ecd8) at iofflush.c:41
> > 41            result = _IO_SYNC (fp) ? EOF : 0;
> > (gdb) bt
> > #0  0x400da7bc in _IO_fflush (fp=0x819ecd8) at iofflush.c:41
> > #1  0x8122165 in rl_prep_terminal (meta_flag=0) at rltty.c:555
> > #2  0x811cb08 in _rl_callback_newline () at callback.c:76
> > #3  0x811cb4a in rl_callback_handler_install (prompt=0x4093c210 "> ", linefunc=0x80e8798 <readline_handler>) at callback.c:95
> > #4  0x80e89b5 in Rstd_ReadConsole (prompt=0x4093c210 "> ", buf=0xbfffeedc "", len=1024, addtohistory=1) at ../../../R-1.1.0/src/unix/sys-std.c:357
> > #5  0x80e6b2e in R_ReadConsole (prompt=0x4093c210 "> ", buf=0xbfffeedc "", len=1024, addtohistory=1) at ../../../R-1.1.0/src/unix/system.c:66
> > #6  0x8097d78 in R_ReplConsole (rho=0x40296338, savestack=0, browselevel=0) at ../../../R-1.1.0/src/main/main.c:128
> > #7  0x80985e2 in run_Rmainloop () at ../../../R-1.1.0/src/main/main.c:454
> > #8  0x8098620 in Rf_mainloop () at ../../../R-1.1.0/src/main/main.c:468
> > #9  0x80e715a in main (ac=0, av=0xbffff7f4) at ../../../R-1.1.0/src/unix/system.c:222
> 
> Thanks for the detail, which enables me to guess at how to solve this....
> 
> Suggestions:
> 
> (1) configure with --without-readline and see if that works (it
> should, since make check does).  You `just' lose the command-line history.
> 
> (2) Compile the current readline sources yourself and use that, building
> from scratch. In so far as your spec looks like RH6.2 with gcc-2.95.2 added
> (from memory), that has a good chance to work as it did for me. It might
> matter that readline is compiled with the same compiler as R.  (I know it
> should not, but RH6.2 seems to have some problems making dynamic libraries
> with the supplied egcs.)
> 
> 
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kreft@Cardiff.ac.uk  Tue Jul 11 18:47:41 2000
From: Kreft@Cardiff.ac.uk (Jan Kreft)
Date: Tue, 11 Jul 2000 18:47:41 +0100 (BST)
Subject: [Rd] Help: R seg faults
In-Reply-To: <Pine.OSF.4.10.10007111805280.9847-100000@thor>
Message-ID: <Pine.OSF.4.10.10007111845480.9847-100000@thor>

OK,

just installed new readline-4.1 and recompiled and R works fine with
history. What a relief!

Cheers, Jan.

On Tue, 11 Jul 2000, Jan Kreft wrote:

> Thanks,
> 
> that's it. Configuring --without-readline avoids the problem. Will now get
> a new version of readline and see if I can make it work. Can't figure out
> which version of readline I have, though I found two identical copies of
> the readline dir, one in /usr/include and one in /usr/local/include.
> 
> My system was a long time ago SuSE linux 6.1, but I have made many
> changes, such as glibc, gcc, kernel.
> 
> Thanks again, Jan.
> 
> On Tue, 11 Jul 2000, Prof Brian D Ripley wrote:
> 
> > On Tue, 11 Jul 2000, Jan Kreft wrote:
> > 
> > > Dear list,
> > > 
> > > I hope this is the right forum to ask. I have just downloaded and compiled
> > > R, but I get a segfault after I start R.
> > 
> > That segfault is from readline, not R itself.
> > 
> > > make, make test/check, went OK.
> > > 
> > > My system is
> > > linux-2.2.13
> > > glibc-2.1.3
> > > gcc 2.95.2
> > > R-1.1.0
> > 
> > and where did you get readline from? (Is this some Linux distribution?)
> > 
> > > Here is a backtrace from gdb:
> > > 
> > > (gdb) file /usr/local/lib/R/bin/R.bin
> > > Reading symbols from /usr/local/lib/R/bin/R.bin...done.
> > > (gdb) run
> > > Starting program: /usr/local/lib/R/bin/R.bin 
> > > 
> > > R : Copyright 2000, The R Development Core Team
> > > Version 1.1.0  (June 15, 2000)
> > > 
> > > R is free software and comes with ABSOLUTELY NO WARRANTY.
> > > You are welcome to redistribute it under certain conditions.
> > > Type    "?license" or "?licence" for distribution details.
> > > 
> > > R is a collaborative project with many contributors.
> > > Type    "?contributors" for a list.
> > > 
> > > Type    "demo()" for some demos, "help()" for on-line help, or
> > >         "help.start()" for a HTML browser interface to help.
> > > Type    "q()" to quit R.
> > > 
> > > 
> > > Program received signal SIGSEGV, Segmentation fault.
> > > 0x400da7bc in _IO_fflush (fp=0x819ecd8) at iofflush.c:41
> > > 41            result = _IO_SYNC (fp) ? EOF : 0;
> > > (gdb) bt
> > > #0  0x400da7bc in _IO_fflush (fp=0x819ecd8) at iofflush.c:41
> > > #1  0x8122165 in rl_prep_terminal (meta_flag=0) at rltty.c:555
> > > #2  0x811cb08 in _rl_callback_newline () at callback.c:76
> > > #3  0x811cb4a in rl_callback_handler_install (prompt=0x4093c210 "> ", linefunc=0x80e8798 <readline_handler>) at callback.c:95
> > > #4  0x80e89b5 in Rstd_ReadConsole (prompt=0x4093c210 "> ", buf=0xbfffeedc "", len=1024, addtohistory=1) at ../../../R-1.1.0/src/unix/sys-std.c:357
> > > #5  0x80e6b2e in R_ReadConsole (prompt=0x4093c210 "> ", buf=0xbfffeedc "", len=1024, addtohistory=1) at ../../../R-1.1.0/src/unix/system.c:66
> > > #6  0x8097d78 in R_ReplConsole (rho=0x40296338, savestack=0, browselevel=0) at ../../../R-1.1.0/src/main/main.c:128
> > > #7  0x80985e2 in run_Rmainloop () at ../../../R-1.1.0/src/main/main.c:454
> > > #8  0x8098620 in Rf_mainloop () at ../../../R-1.1.0/src/main/main.c:468
> > > #9  0x80e715a in main (ac=0, av=0xbffff7f4) at ../../../R-1.1.0/src/unix/system.c:222
> > 
> > Thanks for the detail, which enables me to guess at how to solve this....
> > 
> > Suggestions:
> > 
> > (1) configure with --without-readline and see if that works (it
> > should, since make check does).  You `just' lose the command-line history.
> > 
> > (2) Compile the current readline sources yourself and use that, building
> > from scratch. In so far as your spec looks like RH6.2 with gcc-2.95.2 added
> > (from memory), that has a good chance to work as it did for me. It might
> > matter that readline is compiled with the same compiler as R.  (I know it
> > should not, but RH6.2 seems to have some problems making dynamic libraries
> > with the supplied egcs.)
> > 
> > 
> > -- 
> > Brian D. Ripley,                  ripley@stats.ox.ac.uk
> > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > University of Oxford,             Tel:  +44 1865 272861 (self)
> > 1 South Parks Road,                     +44 1865 272860 (secr)
> > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> > 
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> > 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From john.maindonald@anu.edu.au  Wed Jul 12 05:41:45 2000
From: john.maindonald@anu.edu.au (john.maindonald@anu.edu.au)
Date: Wed, 12 Jul 2000 06:41:45 +0200 (MET DST)
Subject: [Rd] Faulty handling of aliasing in predict.lm; wrong constant (PR#600)
Message-ID: <200007120441.GAA00112@pubhealth.ku.dk>

There are several residual problems in predict.lm
(1) The constant is wrongly set; it should be the mean
of the values of the y-variable.
(2) Standard errors are wrongly calculated when columns
of X are aliased, or when part of a term is aliased.
(3) There is an associated column labelling issue.

I have sent Thomas Lumley code that fixes these problems,
and replaces looping by rows with matrix operations.

There is an issue of whether predicted values should be
set to zero or to NA for terms that are totally aliased.

> "xx" <-
+ structure(list(fac1 = structure(c(1, 2, 3, 1, 2, 3, 1, 2, 3, 
+ 1, 2, 3, 1, 2, 3, 1, 2, 3), .Label = c("1", "2", "3"), class = "factor"), 
+     fac2 = structure(c(1, 2, 2, 1, 2, 2, 1, 2, 2, 1, 3, 3, 1, 
+     3, 3, 1, 3, 3), .Label = c("1", "2", "3"), class = "factor"), 
+     x1 = c(2, 6, 6, 8, 8, 10, 16, 6, 2, 6, 18, 4, 10, 6, 4, 10, 
+     14, 4), x2 = c(6, 25, 9, 8, 31, 29, 40, 8, 8, 6, 21, 20, 
+     22, 5, 15, 30, 22, 10), alias = c(7, 28, 12, 12, 35, 34, 
+     48, 11, 9, 9, 30, 22, 27, 8, 17, 35, 29, 12), x4 = c(16, 
+     48, 34, 46, 62, 73, 205, 36, 30, 40, 193, 43, 65, 44, 27, 
+     72, 98, 17), y = c(27, 103, 38, 35, 126, 119, 311, 34, 34, 
+     28, 95, 82, 92, 22, 62, 124, 94, 41)), .Names = c("fac1", 
+ "fac2", "x1", "x2", "alias", "x4", "y"), row.names = c("1", "2", 
+ "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", 
+ "15", "16", "17", "18"), class = "data.frame")
> 
> # fac2 is partly aliased with fac1
> # alias is aliased with x1 and x2
> 
> xx
   fac1 fac2 x1 x2 alias  x4   y
1     1    1  2  6     7  16  27
2     2    2  6 25    28  48 103
3     3    2  6  9    12  34  38
4     1    1  8  8    12  46  35
5     2    2  8 31    35  62 126
6     3    2 10 29    34  73 119
7     1    1 16 40    48 205 311
8     2    2  6  8    11  36  34
9     3    2  2  8     9  30  34
10    1    1  6  6     9  40  28
11    2    3 18 21    30 193  95
12    3    3  4 20    22  43  82
13    1    1 10 22    27  65  92
14    2    3  6  5     8  44  22
15    3    3  4 15    17  27  62
16    1    1 10 30    35  72 124
17    2    3 14 22    29  98  94
18    3    3  4 10    12  17  41
> xx.lm<-lm(y~x1+x2+alias+x4,data=xx)
> coef(xx.lm)
(Intercept)          x1          x2       alias          x4 
 -1.9862799  -7.9406705   4.6773165          NA   0.9931177 
> xx0.lm<-lm(y~x1+x2+x4,data=xx)
> 
> predict(xx0.lm,se=T)$se[1:2]
[1] 9.874704 8.793774
> predict(xx.lm,se=T)$se[1:2]    # Should be the same as above
[1] 10.939605  9.329757
> 
> predict(xx.lm,type="terms")[1:2,]
        x1        x2     alias x4
1 45.87943 -53.78914 -47.50413 NA
2 14.11675  35.07987 -15.72436 NA
> 
> attributes(predict(xx.lm,type="terms"))$constant
(Intercept) 
   -1.98628 
> 
> predict(xx0.lm,type="terms",se=T)$se[1:2,]
         x1       x2        x4
1 17.820298 7.791400 12.783126
2  5.483169 5.081348  4.231348
> predict(xx.lm,type="terms",se=T)$se[1:2,]  # Should be the same as above
            x1           x2     alias x4
1 9.613248e+15 3.826812e+16 12.797489 NA
2 2.957923e+15 2.495747e+16  4.236103 NA
> 
> xx
   fac1 fac2 x1 x2 alias  x4   y
1     1    1  2  6     7  16  27
2     2    2  6 25    28  48 103
3     3    2  6  9    12  34  38
4     1    1  8  8    12  46  35
5     2    2  8 31    35  62 126
6     3    2 10 29    34  73 119
7     1    1 16 40    48 205 311
8     2    2  6  8    11  36  34
9     3    2  2  8     9  30  34
10    1    1  6  6     9  40  28
11    2    3 18 21    30 193  95
12    3    3  4 20    22  43  82
13    1    1 10 22    27  65  92
14    2    3  6  5     8  44  22
15    3    3  4 15    17  27  62
16    1    1 10 30    35  72 124
17    2    3 14 22    29  98  94
18    3    3  4 10    12  17  41



--please do not edit the information below--

Version:
 platform = Windows
 arch = x86
 os = Win32
 system = x86, Win32
 status = 
 major = 1
 minor = 1.0
 year = 2000
 month = June
 day = 15
 language = R

Windows 9x 4.10 (build 2222)  A 

Search Path:
 .GlobalEnv, Autoloads, package:base
John Maindonald               email : john.maindonald@anu.edu.au        
Statistical Consulting Unit,  phone : (6249)3998        
c/o CMA, SMS,                 fax   : (6249)5549  
John Dedman Mathematical Sciences Building
Australian National University
Canberra ACT 0200
Australia


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From john.maindonald@anu.edu.au  Wed Jul 12 06:50:47 2000
From: john.maindonald@anu.edu.au (john.maindonald@anu.edu.au)
Date: Wed, 12 Jul 2000 07:50:47 +0200 (MET DST)
Subject: [Rd] plot.times error -- missing or illegal tck parameter (PR#601)
Message-ID: <200007120550.HAA00294@pubhealth.ku.dk>

There seems no default setting for tck, causing problems
for plot.times()

> library(chron)
> dts <- dates(c("02/27/92", "02/27/92", "01/14/92",
+                "02/28/92", "02/01/92"))
> y<-chron(dts,out.format=c("dmy","h:m:s"))
> y
[1] 270292 270292 140192 280292 010292
> plot(y,1:5)
Error in axis(n, at = at.x, labels = labels, ...) : 
        invalid value specified for graphics parameter "tck".
> plot(y,1:5,tck=0.01)
> traceback()
[1] "axis(n, at = at.x, labels = labels, ...)"                     
[2] "axis.times(1, x, simplify = simplify, labels = T, adj = adj, "
[3] "    col = col, cex = cex, font = font, las = las, lab = lab, "
[4] "    mgp = mgp, tck = tck)"                                    
[5] "plot.times(y, 1:5)"                                           
[6] "plot(y, 1:5)"                                                 
> par()$tck
[1] NA


--please do not edit the information below--

Version:
 platform = Windows
 arch = x86
 os = Win32
 system = x86, Win32
 status = 
 major = 1
 minor = 1.0
 year = 2000
 month = June
 day = 15
 language = R

Windows 9x 4.10 (build 2222)  A 

Search Path:
 .GlobalEnv, package:chron, Autoloads, package:base

John Maindonald               email : john.maindonald@anu.edu.au        
Statistical Consulting Unit,  phone : (6249)3998        
c/o CMA, SMS,                 fax   : (6249)5549  
John Dedman Mathematical Sciences Building
Australian National University
Canberra ACT 0200
Australia


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Wed Jul 12 07:19:10 2000
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Wed, 12 Jul 2000 08:19:10 +0200 (MET DST)
Subject: [Rd] plot.times error -- missing or illegal tck parameter (PR#601)
Message-ID: <200007120619.IAA00417@pubhealth.ku.dk>

>>>>> "JMd" == john maindonald <john.maindonald@anu.edu.au> writes:

    JMd> There seems no default setting for tck, causing problems
    JMd> for plot.times()

    >> library(chron)
    >> dts <- dates(c("02/27/92", "02/27/92", "01/14/92",
       +                "02/28/92", "02/01/92"))
    >> y<-chron(dts,out.format=c("dmy","h:m:s"))
    >> y
       [1] 270292 270292 140192 280292 010292
    >> plot(y,1:5)
         Error in axis(n, at = at.x, labels = labels, ...) : 
         invalid value specified for graphics parameter "tck".
    >> plot(y,1:5,tck=0.01)
    >> traceback()
         [1] "axis(n, at = at.x, labels = labels, ...)"                     
         [2] "axis.times(1, x, simplify = simplify, labels = T, adj = adj, "
         [3] "    col = col, cex = cex, font = font, las = las, lab = lab, "
         [4] "    mgp = mgp, tck = tck)"                                    
         [5] "plot.times(y, 1:5)"                                           
         [6] "plot(y, 1:5)"                                                 
    >> par()$tck
         [1] NA

Well, the default must be NA since   ?par says

 help_par>     tck: The length of tick marks as a fraction of the smaller of the
 help_par>          width or height of the plotting region. If `tck=1', grid
 help_par>          lines are drawn. The default setting is to use `tcl=-0.5'
 help_par>          (see below).
 help_par> 
 help_par>     tcl: The length of tick marks as a fraction of the height of a
 help_par>          line of text.  The default value is `-0.5'.

which is different than other dialects of S on purpose!

So the bug is really in  plot.times only  which hasn't properly been
ported from S-PLUS to R.

Martin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Wed Jul 12 07:35:58 2000
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Wed, 12 Jul 2000 08:35:58 +0200 (MET DST)
Subject: [Rd] buglet in fix() [was "function via source or fix"] (PR#602)
Message-ID: <200007120635.IAA00523@pubhealth.ku.dk>

>>>>> "Erin" == Erin Hodgess <hodgess@uhddx01.dt.uh.edu> writes:

    Erin> Suppose I create a function, x.e, via the fix command:

(ESS users ESS don't ever do this, but still ...)

    >> x.e <- fix(x.e)

    Erin> When I type in x.e, the function code appears, along
    Erin> with the name/number of the environment.

Ok, in the above it was important that there's no *existing* object x.e 
beforehand.

Note that the idea about  fix() is that you only have to write

     fix(x.e)

But your problem remains :

    > fix(newerf)
    Waiting for Emacs...Done	--- I have  options(editor = "emacsclient")
    > newerf
    function ()
    {
    ## newer
    }
    <environment: 0x40862004>
    > environment(newerf)
    <environment: 0x40862004>
    > ls(env=environment(newerf))
    [1] "subx" "x"   
    >

I.e. it got the environment of the function fix -- I think this is clearly
a bug  CC'ed to  R-bugs

    Erin> However, if I create a function, y.e, and source it in, when
    Erin> I type in y.e, the function code only displays(no
    Erin> environment).

    Erin> Why is this, please?  (It's not a bug....I just wondered).

it *is* a bug, I think

    Erin> I am using R-1.1.0 for Windows.
same for Unix

    Erin> Thanks!
thank you for the report!

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Jul 12 09:05:09 2000
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 12 Jul 2000 09:05:09 +0100 (BST)
Subject: [Rd] buglet in fix() [was "function via source or fix"] (PR#602)
In-Reply-To: <200007120635.IAA00523@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.05.10007120858480.18731-100000@auk.stats>

On Wed, 12 Jul 2000 maechler@stat.math.ethz.ch wrote:

> >>>>> "Erin" == Erin Hodgess <hodgess@uhddx01.dt.uh.edu> writes:
> 
>     Erin> Suppose I create a function, x.e, via the fix command:
> 
> (ESS users ESS don't ever do this, but still ...)
> 
>     >> x.e <- fix(x.e)
> 
>     Erin> When I type in x.e, the function code appears, along
>     Erin> with the name/number of the environment.
> 
> Ok, in the above it was important that there's no *existing* object x.e 
> beforehand.
> 
> Note that the idea about  fix() is that you only have to write
> 
>      fix(x.e)
> 
> But your problem remains :
> 
>     > fix(newerf)
>     Waiting for Emacs...Done	--- I have  options(editor = "emacsclient")
>     > newerf
>     function ()
>     {
>     ## newer
>     }
>     <environment: 0x40862004>
>     > environment(newerf)
>     <environment: 0x40862004>
>     > ls(env=environment(newerf))
>     [1] "subx" "x"   
>     >
> 
> I.e. it got the environment of the function fix -- I think this is clearly
> a bug  CC'ed to  R-bugs

And the fix is easy: just add

environment(x) <- .GlobalEnv

in that branch of the if.  Now committed to the R-patched branch.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Torsten.Hothorn@rzmail.uni-erlangen.de  Wed Jul 12 09:39:26 2000
From: Torsten.Hothorn@rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Wed, 12 Jul 2000 10:39:26 +0200 (CEST)
Subject: [Rd] exact distributions
Message-ID: <Pine.LNX.4.21.0007121035060.30215-100000@artemis.imbe.med.uni-erlangen.de>


I just uploaded a new version of the prototype of the Streitberg-Roehmel
algorithm for the determination of exact distributions to cran. It works
without any optimization and has now examples how to compute the exact
Wilcoxon- and Ansari-Bradley distribution (and compares the results to
dwilcox and dansari from ctest in the untied case). 

Torsten  

 _______________________________________________________________________
|									|
|	Dipl.-Stat. Torsten Hothorn					|
|	Institut fuer Medizininformatik, Biometrie und Epidemiologie	|	
|	Waldstrasse 6, D-91054 Erlangen, Deutschland			|
|	Tel: ++49-9131-85-22707						|
|	Fax: ++49-9131-85-25740						|
|	Email: Torsten.Hothorn@rzmail.uni-erlangen.de			|
|_______________________________________________________________________|	

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Wed Jul 12 21:23:07 2000
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Wed, 12 Jul 2000 22:23:07 +0200
Subject: [Rd] plot.times error -- missing or illegal tck parameter (PR#601)
In-Reply-To: <200007120619.IAA00417@pubhealth.ku.dk>
References: <200007120619.IAA00417@pubhealth.ku.dk>
Message-ID: <200007122023.WAA05134@aragorn.ci.tuwien.ac.at>

>>>>> maechler  writes:

>>>>> "JMd" == john maindonald <john.maindonald@anu.edu.au> writes:
JMd> There seems no default setting for tck, causing problems
JMd> for plot.times()

>>> library(chron)
>>> dts <- dates(c("02/27/92", "02/27/92", "01/14/92",
>        +                "02/28/92", "02/01/92"))
>>> y<-chron(dts,out.format=c("dmy","h:m:s"))
>>> y
>        [1] 270292 270292 140192 280292 010292
>>> plot(y,1:5)
>          Error in axis(n, at = at.x, labels = labels, ...) : 
>          invalid value specified for graphics parameter "tck".
>>> plot(y,1:5,tck=0.01)
>>> traceback()
>          [1] "axis(n, at = at.x, labels = labels, ...)"                     
>          [2] "axis.times(1, x, simplify = simplify, labels = T, adj = adj, "
>          [3] "    col = col, cex = cex, font = font, las = las, lab = lab, "
>          [4] "    mgp = mgp, tck = tck)"                                    
>          [5] "plot.times(y, 1:5)"                                           
>          [6] "plot(y, 1:5)"                                                 
>>> par()$tck
>          [1] NA

> Well, the default must be NA since   ?par says

help_par> tck: The length of tick marks as a fraction of the smaller of the
help_par> width or height of the plotting region. If `tck=1', grid
help_par> lines are drawn. The default setting is to use `tcl=-0.5'
help_par> (see below).
help_par> 
help_par> tcl: The length of tick marks as a fraction of the height of a
help_par> line of text.  The default value is `-0.5'.

> which is different than other dialects of S on purpose!

> So the bug is really in  plot.times only  which hasn't properly been
> ported from S-PLUS to R.

Not sure if I understand this correctly.

* First of all, I don't think the documentation is clear.  It explains
what tck is and then says that the default for tcl is something.  And,
it does not say that the default for tck is NA.

* Secondly, are you saying that in R we should rather use tcl than tck
and hence tck does not have a default value?  What happens if both tcl
and tck are set?

* If this is an intentional difference, should it be listed in the FAQ?

Re the chron problem, are you suggesting to replace `tck' by `tcl' in
code such as

    if(is.null(tck <- dots$tck)) tck <- par("tck")

    axis.times(..., tck = tck)

?

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Wed Jul 12 21:23:07 2000
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Wed, 12 Jul 2000 22:23:07 +0200
Subject: [Rd] Re: [R] Compiling R on RS6000 AIX 4.3
In-Reply-To: <Pine.GSO.4.21.0007120757050.10755-100000@atlas.biostat.washington.edu>
References: <14700.14074.532567.886857@gargle.gargle.HOWL>
 <Pine.GSO.4.21.0007120757050.10755-100000@atlas.biostat.washington.edu>
Message-ID: <200007122023.WAA05135@aragorn.ci.tuwien.ac.at>

>>>>> Thomas Lumley writes:

> On Wed, 12 Jul 2000, Martin Maechler wrote:
>> >>>>> "Peter" == Peter Cameron <peter.cameron@enscitech.com> writes:
>> 
Peter> I've been searching through the R help archives and came across
Peter> only one AIX compilation question in March, which received no
Peter> public responses. I'm currently having the same problems with
Peter> the "Illegal instruction" and core dump of running R 1.0.1 on
Peter> AIX 4.3.
>> 
Peter> Firstly, the R distribution was missing some FORTRAN routines,
>> No!
>> You didn't search enough.

> I think it's more complicated than that.  The last time I tried
> compiling R on AIX there was a configure problem with the BLAS
> functions.  The library libblas existed but the functions had the
> wrong names (due to differences in use of underscores by fortran
> compilers). This meant that R didn't compile its own BLAS but couldn't
> link to the system one either. I thought this had been fixed, though.

> I got it to work using gcc/g77 and compiling --without-blas.  I don't
> know if the people at CMU who use AIX have more options that work.

> There is a real problem with some C/Fortran combinations on AIX.

Hmm.  Is the problem still there in release-patched?

We have

	if test "${r_cv_prog_f77_append_underscore}" = yes; then
	  fun=dgemm_
	else
	  fun=dgemm
	fi

and then

	if test -n "${BLAS}" && ${use_blas}; then
	  AC_CHECK_LIB(blas, ${fun},
	    [ FLIBS="-lblas ${FLIBS}" BLAS=""
	      if ${use_blas_risc}; then
	        AC_CHECK_LIB(blas_risc, main,
		  FLIBS="-lblas_risc ${FLIBS}", , ${FLIBS})
	      fi
	    ], ,
	    ${FLIBS})
	fi

so if the test whether the Fortran compiler appends underscores worked
o.k. then we should be checking for the correct symbol.

So, what is wrong?

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rnassar@duke.edu  Thu Jul 13 00:13:20 2000
From: rnassar@duke.edu (rnassar@duke.edu)
Date: Thu, 13 Jul 2000 01:13:20 +0200 (MET DST)
Subject: [Rd] pairs(), "cex" argument has no effect (PR#603)
Message-ID: <200007122313.BAA06079@pubhealth.ku.dk>

Dear R Team,

pairs():   "cex", "cex.axis", "cex.label" arguments do not seem to have an
effect.  I am submitting this report in case they were inteded to.

Thank you.

Rashid Nassar

--please do not edit the information below--

Version:
 platform = i586-pc-linux-gnu
 arch = i586
 os = linux-gnu
 system = i586, linux-gnu
 status = Patched
 major = 1
 minor = 1.0
 year = 2000
 month = July
 day = 1
 language = R

Search Path:
 .GlobalEnv, package:mva, Autoloads, package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rnassar@duke.edu  Thu Jul 13 01:08:16 2000
From: rnassar@duke.edu (rnassar@duke.edu)
Date: Thu, 13 Jul 2000 02:08:16 +0200 (MET DST)
Subject: [Rd] typo, help page ?pairs (PR#604)
Message-ID: <200007130008.CAA06196@pubhealth.ku.dk>

Dear R Team,

A minor typo in help page ?pairs

Many thanks!

Rashid Nassar


help(pairs)

Arguments:

row1attop: logical. Should the layout be matrix-like with row 1 at the
          top, or graphi-like with row 1 at the bottom?
                       ^^^
                 [graph-like]


--please do not edit the information below--

Version:
 platform = i586-pc-linux-gnu
 arch = i586
 os = linux-gnu
 system = i586, linux-gnu
 status = Patched
 major = 1
 minor = 1.0
 year = 2000
 month = July
 day = 1
 language = R

Search Path:
 .GlobalEnv, package:mva, Autoloads, package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rnassar@duke.edu  Thu Jul 13 01:18:28 2000
From: rnassar@duke.edu (rnassar@duke.edu)
Date: Thu, 13 Jul 2000 02:18:28 +0200 (MET DST)
Subject: [Rd] typos, help package mva (PR#605)
Message-ID: <200007130018.CAA06237@pubhealth.ku.dk>

Dear R Team,

Some minor typos in help pages for package:mva

Thank you.

Rashid Nassar


1. help(kmeans)


Details:                                      [k-means? not sure about this]
                                                 v
     The data given by `x' is clustered by the k-Means algorithm. When
     this terminates, all cluster centres are at to the mean of their
                                          ^^^^^^^^^
                                

2. help(hclust)

Arguments:

     hang: The fraction of the plot height which labels should hang
          below the rest of the plot. ...

   [I suspect the above sentence is missing something]

    labels: A character vector of of labels for the leaves of the tree.
                               ^^^^^
Details:

(2nd par)  An number of different clustering methods are provided. Ward's
           ^^        
          [A]


3. help(cutree)

Value:

     `cutree' returns an vector with group meberships if `k' or `h' are
                      ^^ 
                     [a]


--please do not edit the information below--

Version:
 platform = i586-pc-linux-gnu
 arch = i586
 os = linux-gnu
 system = i586, linux-gnu
 status = Patched
 major = 1
 minor = 1.0
 year = 2000
 month = July
 day = 1
 language = R

Search Path:
 .GlobalEnv, package:mva, Autoloads, package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rnassar@duke.edu  Thu Jul 13 01:23:29 2000
From: rnassar@duke.edu (rnassar@duke.edu)
Date: Thu, 13 Jul 2000 02:23:29 +0200 (MET DST)
Subject: [Rd] typo, ?cutree {mva} (PR#606)
Message-ID: <200007130023.CAA06260@pubhealth.ku.dk>

.. another one on same line:

help(cutree)  package {mva}

Value:

     `cutree' returns an vector with group meberships if `k' or `h' are
                                           ^^^
                                          [memberships]

Sorry I missed it!   Thank you.

Rashid 

--please do not edit the information below--

Version:
 platform = i586-pc-linux-gnu
 arch = i586
 os = linux-gnu
 system = i586, linux-gnu
 status = Patched
 major = 1
 minor = 1.0
 year = 2000
 month = July
 day = 1
 language = R

Search Path:
 .GlobalEnv, package:mva, Autoloads, package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Setzer.Woodrow@epamail.epa.gov  Thu Jul 13 17:39:40 2000
From: Setzer.Woodrow@epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Thu, 13 Jul 2000 18:39:40 +0200 (MET DST)
Subject: [Rd] documentation for contrasts and contrasts<- (PR#607)
Message-ID: <200007131639.SAA11242@pubhealth.ku.dk>



The documentation (in ver 1.1) for contrasts and contrasts<- does not list all
the arguments for those functions.  In addition to x, the factor whose contrasts
are being extracted or set, contrasts() has the argument 'contrasts=TRUE', and
contrasts<-() has the argument 'how.many'.

It was this latter that had me flummoxed, because I wanted to reparametrize a
model by specifying a full-rank contrast matrix (fitting without an intercept).

R. Woodrow Setzer, Jr.                                                    Phone:
(919) 541-0128
Biostatistics and
Fax:  (919) 541-4002
Research Support Staff
NHEERL MD-55; US EPA; RTP, NC 27711



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Jul 14 07:28:07 2000
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 14 Jul 2000 07:28:07 +0100 (BST)
Subject: [Rd] documentation for contrasts and contrasts<- (PR#607)
In-Reply-To: <200007131639.SAA11242@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.05.10007140717430.19613-100000@auk.stats>

On Thu, 13 Jul 2000 Setzer.Woodrow@epamail.epa.gov wrote:

> 
> 
> The documentation (in ver 1.1) for contrasts and contrasts<- does not list all
> the arguments for those functions.  In addition to x, the factor whose contrasts
> are being extracted or set, contrasts() has the argument 'contrasts=TRUE', and
> contrasts<-() has the argument 'how.many'.

Thanks, I have written enhanced versions.

> 
> It was this latter that had me flummoxed, because I wanted to reparametrize a
> model by specifying a full-rank contrast matrix (fitting without an intercept).
> 
That happens automatically the intercept.  It can't be a `contrast matrix' 
though, as the contrasts do not span the full space (they are orthogonal
to the constant).  To continue the ?contrasts example, you can do

> contrasts(fff, 3) <- contr.sum(5)[,1:3]
> contrasts(fff) # treatment
  [,1] [,2] [,3] 
a    1    0    0
c    0    1    0
i    0    0    1
s    0    0    0
t   -1   -1   -1

to set three contrasts.  You cannot set 5, though, as you can't generate
them.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kjetil.kjernsmo@astro.uio.no  Fri Jul 14 18:18:45 2000
From: kjetil.kjernsmo@astro.uio.no (kjetil.kjernsmo@astro.uio.no)
Date: Fri, 14 Jul 2000 19:18:45 +0200 (MET DST)
Subject: [Rd] Re: Disappearing values (PR#551)
Message-ID: <200007141718.TAA16715@pubhealth.ku.dk>

On Fri, 9 Jun 2000, I wrote:
[...]
> Now, occasionally, it prints a
>nice vector with all the values intact. Occasionally, one of the entries
>are NULL, and then it prints a list, e.g.
[lots of things along these lines]

Now, it seems like this problem has been solved. Reading some old
r-help e-mail I had missed, I came across a message from Brad McNeney
(<URL:http://www.ens.gu.edu.au/robertk/R/help/00a/2068.html>), and it was
apparent that he has had the same problems as I, but solved it by using
gcc instead of cc. Recent communication between Ray Brownrigg and Prof
Brian D Ripley enabled me to compile and get R running myself, and indeed,
the problem has not occured in a number of runs after I did this, I look
upon it as solved.

So, it seems like it may be problematic to use the standard cc compiler on
the alpha platform with Digital UNIX to compile R. Just a minor status
report... :-)

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj@astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster@skepsis.no 





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From acuster@nopause.berkeley.edu  Sat Jul 15 09:19:35 2000
From: acuster@nopause.berkeley.edu (acuster@nopause.berkeley.edu)
Date: Sat, 15 Jul 2000 10:19:35 +0200 (MET DST)
Subject: [Rd] seg.fault in eval.c (PR#608)
Message-ID: <200007150819.KAA17914@pubhealth.ku.dk>


--/9DWx/yDrRhgMJTb
Content-Type: text/plain; charset=us-ascii

Hello everyone,

verison: 1.0.1
platform: Gnu/linux mandrake 7.1beta

I'm running a user function to step through a frame and plot one column against
the next. This crashes the program fairly reliably although not on the first
try.

Here is a log of the session run through gdb. First I launch R, print out the
top of the frame and the function. (The function I wrote is probably ugly,
especially the for loop, and if you want to suggest how to make it better I'm
always ready to learn.) Then I run the magic incantation three times and seg
fault. From the shell at that point R crashes and closes the plot window. In
gdb the window stays open and only closes when I quit gdb.

I have appended the .RData file. I also have a core produced in the same way
from the terminal. If you can use it I can send it but it's huge.

Thanks for the great software,
adrian



***************************************************************************

tsetse$ /usr/local/bin/R --debugger=gdb
(gdb) run --vsize 12M --nsize 1200k

> ls()
[1] "my.frame"     "my.plot.func"
> my.frame[1:2,]
  viltid sept97 oct97 nov97beg nov97end dec97beg dec97end jan98 feb98 mar98
1    501    148    53       32       23       17       14     4     3     3
2    502     44    54       45       36       24        9     5     3     2
  apr98 may98 jun98 jul98 aug98 sep98 nov98 dec98
1     2     2     1     0     0     0     2     1
2     2     2     1     0     0     0     2     1
> my.plot.func
function(the.frame){

#first do the parameter checking:
if (missing(the.frame)){
   cat("\n")
   cat("Need a data frame argument with 17 monthly catches (sept, oct ...)\n")
   cat("   for tsetse use A.FRAME.tsetse.97n98, for adjtse roll your own.\n")
}   #fi

else{
   #next cache the initial conditions:
   start.par_par(no.readonly = TRUE)           #store the inital parameters
   on.exit(par(start.par),append=TRUE)         #restore the graphics parameters
   par(mfrow=c(2,8),mar=c(1,1,1,0),oma=c(0,1,2,1))

   #next initialize the function
   attach(the.frame)
   on.exit(detach(the.frame),append=TRUE)

   #function body:
   for (i in 1:16){
      plot(the.frame[,i],the.frame[,i+1])
      abline(lm(the.frame[,i+1]~the.frame[,i]))
   }
   mtext("Correlation of tsetse samples: sample to sample
plots",side=3,outer=TRUE,cex=1.5)


}   #end else
}
> my.plot.func(my.frame[,2:18])
> my.plot.func(my.frame[,2:18])
> my.plot.func(my.frame[,2:18])

Program received signal SIGSEGV, Segmentation fault.
0x807c367 in Rf_eval (e=0x1, rho=0x15d9eb8) at eval.c:83
83	eval.c: No such file or directory.
(gdb) backtrace
#0  0x807c367 in Rf_eval (e=0x1, rho=0x15d9eb8) at eval.c:83
#1  0x807d660 in do_begin (call=0x15e135c, op=0x3a59a4, args=0x15e1348, 
    rho=0x15d9eb8) at eval.c:640
#2  0x807c5f8 in Rf_eval (e=0x15e135c, rho=0x15d9eb8) at eval.c:172
#3  0x806bc30 in Rf_endcontext (cptr=0xbfffee34) at context.c:147
#4  0x807cb40 in Rf_applyClosure (call=0x15d9e54, op=0x7e332c, 
    arglist=0x15d9e90, rho=0x3adf3c, suppliedenv=0x3a5008) at eval.c:345
#5  0x807c74d in Rf_eval (e=0x15d9e54, rho=0x3adf3c) at eval.c:192
#6  0x8091274 in R_ReplConsole (rho=0x3adf3c, savestack=0, browselevel=0)
    at main.c:173
#7  0x8091955 in run_Rmainloop () at main.c:457
#8  0x8091994 in Rf_mainloop () at main.c:471
#9  0x80e6bfc in main (ac=0, av=0xbffff894) at system.c:490
(gdb) quit
The program is running.  Exit anyway? (y or n) y
[acuster@tsetse tocrashR]$ 


--/9DWx/yDrRhgMJTb
Content-Type: application/octet-stream
Content-Disposition: attachment; filename=RData
Content-Transfer-Encoding: base64

UkRYMQoAAAAlAAAAAAAAAAYAAAAGc291cmNlAAAAAAADAAAAA2NleAAAAAAFAAAABW91dGVy
AAAAAAAABAAAAARzaWRlAAAABQAAAAVtdGV4dAAAAAAAAAEAAAABfgAAAAAAAAIAAAACbG0A
AAAAAAYAAAAGYWJsaW5lAAAAAAABAAAAASsAAAAAAAABAAAAAVsAAAAAAAAEAAAABHBsb3QA
AAABAAAAAToAAAAAAAABAAAAAWkAAAAAAAADAAAAA2ZvcgAAAAAGAAAABmRldGFjaAAAAAAA
BgAAAAZhdHRhY2gAAAAAAAMAAAADb21hAAAAAAMAAAADbWFyAAAAAAEAAAABYwAAAAAAAAUA
AAAFbWZyb3cAAAAAAAAGAAAABmFwcGVuZAAAAAAABwAAAAdvbi5leGl0AAAAAAsAAAALbm8u
cmVhZG9ubHkAAAAAAwAAAANwYXIAAAAACQAAAAlzdGFydC5wYXIAAAAAAAACAAAAAjwtAAAA
AAADAAAAA2NhdAAAAAAHAAAAB21pc3NpbmcAAAAAAgAAAAJpZgAAAAAAAQAAAAF7AAAAAAAA
CQAAAAl0aGUuZnJhbWUAAAAAAAAMAAAADG15LnBsb3QuZnVuYwAAAAUAAAAFY2xhc3MAAAAA
AAAJAAAACXJvdy5uYW1lcwAAAAAAAAUAAAAFbmFtZXMAAAAAAAAIAAAACG15LmZyYW1lAAAA
CgAAAAouVHJhY2ViYWNrAAAAAAACAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAl//////////8A
AAACAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAk/////wAAABMAAAAAAAAAAQAAABIAAAAOAAAA
AAAAAAAAAAAyQH9QAAAAAABAf2AAAAAAAEB/cAAAAAAAQH+AAAAAAABAf5AAAAAAAECCyAAA
AAAAQILQAAAAAABAgtgAAAAAAECC4AAAAAAAQILoAAAAAABAjCgAAAAAAECMMAAAAAAAQIw4
AAAAAABAjEAAAAAAAECMSAAAAAAAQI9IAAAAAABAj1AAAAAAAECPWAAAAAAAQI9gAAAAAABA
j2gAAAAAAECh+gAAAAAAQKH8AAAAAABAof4AAAAAAECiAAAAAAAAQKICAAAAAABApeIAAAAA
AECl5AAAAAAAQKXmAAAAAABApegAAAAAAECl6gAAAAAAQKaqAAAAAABApqwAAAAAAECmrgAA
AAAAQKawAAAAAABAprIAAAAAAECncgAAAAAAQKd0AAAAAABAp3YAAAAAAECneAAAAAAAQKd6
AAAAAABAsZUAAAAAAECxlgAAAAAAQLGXAAAAAABAsZgAAAAAAECxmQAAAAAAQMmWgAAAAABA
yZcAAAAAAEDJl4AAAAAAQMmYAAAAAABAyZiAAAAAAP////8AAAAOAAAAAAAAAAAAAAAyQGKA
AAAAAABARgAAAAAAAEBWgAAAAAAAQFOAAAAAAABAQYAAAAAAAEBNgAAAAAAAQEGAAAAAAABA
TYAAAAAAAEBGAAAAAAAAQFDAAAAAAABAR4AAAAAAAEBDAAAAAAAAQFVAAAAAAABAQwAAAAAA
AEBaQAAAAAAAQFhAAAAAAABAToAAAAAAAEBiIAAAAAAAQFMAAAAAAABATYAAAAAAAEBOAAAA
AAAAQE4AAAAAAABAXYAAAAAAAEBMgAAAAAAAQEwAAAAAAABAU4AAAAAAAEBcQAAAAAAAQFMA
AAAAAABAY2AAAAAAAEBIAAAAAAAAQFRAAAAAAABAYiAAAAAAAEBMgAAAAAAAQFYAAAAAAABA
YGAAAAAAAEBgAAAAAAAAQFEAAAAAAABAXIAAAAAAAEBYwAAAAAAAQFWAAAAAAABARwAAAAAA
AEBcwAAAAAAAQFEAAAAAAABAUwAAAAAAAEBXAAAAAAAAQGGAAAAAAABAXkAAAAAAAEBnIAAA
AAAAQFdAAAAAAABAZMAAAAAAAP////8AAAAOAAAAAAAAAAAAAAAyQEqAAAAAAABASwAAAAAA
AEBBgAAAAAAAQEkAAAAAAABAVQAAAAAAAEA+AAAAAAAAQDsAAAAAAABAQwAAAAAAAEBDgAAA
AAAAQEcAAAAAAABAQwAAAAAAAEA6AAAAAAAAQFBAAAAAAABAOwAAAAAAAEBYQAAAAAAAQFJA
AAAAAABASoAAAAAAAEA9AAAAAAAAQFTAAAAAAABASAAAAAAAAEBAAAAAAAAAQEoAAAAAAABA
WsAAAAAAAEBIgAAAAAAAQEWAAAAAAABASYAAAAAAAEA7AAAAAAAAQEWAAAAAAABAUcAAAAAA
AEBAgAAAAAAAQFUAAAAAAABATYAAAAAAAEBEAAAAAAAAQEsAAAAAAABASwAAAAAAAEBTgAAA
AAAAQEwAAAAAAABAR4AAAAAAAEBKgAAAAAAAQE4AAAAAAABAQgAAAAAAAEBIAAAAAAAAQEQA
AAAAAABAQgAAAAAAAEBNAAAAAAAAQF7AAAAAAABAR4AAAAAAAEBQQAAAAAAAQFAAAAAAAABA
UAAAAAAAAP////8AAAAOAAAAAAAAAAAAAAAyQEAAAAAAAABARoAAAAAAAEBLAAAAAAAAQEEA
AAAAAABAPQAAAAAAAEAyAAAAAAAAQEEAAAAAAABAPAAAAAAAAEA1AAAAAAAAQDoAAAAAAABA
MwAAAAAAAEA6AAAAAAAAQDUAAAAAAABANwAAAAAAAEA3AAAAAAAAQDsAAAAAAABAQIAAAAAA
AEA6AAAAAAAAQDwAAAAAAABAQQAAAAAAAEA/AAAAAAAAQEaAAAAAAABAPgAAAAAAAEBCgAAA
AAAAQEQAAAAAAABAOwAAAAAAAEAwAAAAAAAAQDwAAAAAAABAOQAAAAAAAEA1AAAAAAAAQDkA
AAAAAABANgAAAAAAAEAxAAAAAAAAQCgAAAAAAABAMgAAAAAAAEBBAAAAAAAAQD4AAAAAAABA
QYAAAAAAAEA7AAAAAAAAQEIAAAAAAABAOwAAAAAAAEBCAAAAAAAAQDUAAAAAAABAOQAAAAAA
AEA9AAAAAAAAQEAAAAAAAABAOwAAAAAAAEBHAAAAAAAAQD0AAAAAAABALAAAAAAAAP////8A
AAAOAAAAAAAAAAAAAAAyQDcAAAAAAABAQgAAAAAAAEA3AAAAAAAAQDsAAAAAAABAOgAAAAAA
AEAuAAAAAAAAQDsAAAAAAABANwAAAAAAAEAxAAAAAAAAQDQAAAAAAABALgAAAAAAAEA2AAAA
AAAAQDEAAAAAAABALAAAAAAAAEAyAAAAAAAAQDMAAAAAAABAOQAAAAAAAEAzAAAAAAAAQDYA
AAAAAABAMwAAAAAAAEA4AAAAAAAAQEGAAAAAAABANQAAAAAAAEA+AAAAAAAAQDwAAAAAAABA
MwAAAAAAAEAkAAAAAAAAQDcAAAAAAABAMgAAAAAAAEAwAAAAAAAAQDQAAAAAAABALgAAAAAA
AEAsAAAAAAAAQCIAAAAAAABAKAAAAAAAAEA5AAAAAAAAQD4AAAAAAABANQAAAAAAAEAxAAAA
AAAAQDoAAAAAAABANgAAAAAAAEA1AAAAAAAAQC4AAAAAAABALgAAAAAAAEA0AAAAAAAAQDcA
AAAAAABANwAAAAAAAEBFgAAAAAAAQDcAAAAAAABALgAAAAAAAP////8AAAAOAAAAAAAAAAAA
AAAyQDEAAAAAAABAOAAAAAAAAEAxAAAAAAAAQDIAAAAAAABAMwAAAAAAAEAmAAAAAAAAQDAA
AAAAAABANAAAAAAAAEAoAAAAAAAAQCwAAAAAAABAJAAAAAAAAEAuAAAAAAAAQDAAAAAAAABA
JgAAAAAAAEAmAAAAAAAAQCwAAAAAAABAMgAAAAAAAEAqAAAAAAAAQDEAAAAAAABALAAAAAAA
AEAyAAAAAAAAQDsAAAAAAABALAAAAAAAAEA2AAAAAAAAQDUAAAAAAABALgAAAAAAAEAgAAAA
AAAAQDIAAAAAAABAKAAAAAAAAEAuAAAAAAAAQC4AAAAAAABAKAAAAAAAAEAkAAAAAAAAQCgA
AAAAAABAIAAAAAAAAEAwAAAAAAAAQDcAAAAAAABALgAAAAAAAEAoAAAAAAAAQDQAAAAAAABA
NQAAAAAAAEAuAAAAAAAAQCYAAAAAAABAKgAAAAAAAEAzAAAAAAAAQDEAAAAAAABALAAAAAAA
AEA+AAAAAAAAQDEAAAAAAABAMAAAAAAAAP////8AAAAOAAAAAAAAAAAAAAAyQCwAAAAAAABA
IgAAAAAAAEAkAAAAAAAAQCwAAAAAAABAMAAAAAAAAEAiAAAAAAAAQCYAAAAAAABAMAAAAAAA
AEAgAAAAAAAAQCAAAAAAAABAGAAAAAAAAEAmAAAAAAAAQCYAAAAAAABAFAAAAAAAAEAcAAAA
AAAAQCIAAAAAAABALAAAAAAAAEAkAAAAAAAAQBwAAAAAAABAIgAAAAAAAEAuAAAAAAAAQDEA
AAAAAABAKAAAAAAAAEAyAAAAAAAAQC4AAAAAAABAJAAAAAAAAEAYAAAAAAAAQCwAAAAAAABA
IgAAAAAAAEAkAAAAAAAAQCYAAAAAAABAIAAAAAAAAEAcAAAAAAAAQCQAAAAAAABAIAAAAAAA
AEAmAAAAAAAAQDEAAAAAAABAKAAAAAAAAEAiAAAAAAAAQCwAAAAAAABAMgAAAAAAAEAsAAAA
AAAAQCIAAAAAAABAIAAAAAAAAEAwAAAAAAAAQCgAAAAAAABAJgAAAAAAAEA1AAAAAAAAQCoA
AAAAAABAKAAAAAAAAP////8AAAAOAAAAAAAAAAAAAAAyQBAAAAAAAABAFAAAAAAAAEAYAAAA
AAAAQBQAAAAAAABAIAAAAAAAAEAcAAAAAAAAQBwAAAAAAABAJgAAAAAAAEAUAAAAAAAAQBgA
AAAAAABAGAAAAAAAAEAcAAAAAAAAQBQAAAAAAABACAAAAAAAAEAUAAAAAAAAQBgAAAAAAABA
IgAAAAAAAEAQAAAAAAAAQBQAAAAAAABAHAAAAAAAAEAgAAAAAAAAQBwAAAAAAABAGAAAAAAA
AEAgAAAAAAAAQCAAAAAAAABAFAAAAAAAAEAQAAAAAAAAQBQAAAAAAABAEAAAAAAAAEAUAAAA
AAAAQCIAAAAAAABAGAAAAAAAAEAcAAAAAAAAQBQAAAAAAABAHAAAAAAAAEAQAAAAAAAAQBgA
AAAAAABAHAAAAAAAAEAYAAAAAAAAQAgAAAAAAABAIAAAAAAAAEAiAAAAAAAAQAgAAAAAAABA
GAAAAAAAAEAUAAAAAAAAQBwAAAAAAABAGAAAAAAAAEAiAAAAAAAAQCQAAAAAAABAGAAAAAAA
AP////8AAAAOAAAAAAAAAAAAAAAyQAgAAAAAAABACAAAAAAAAEAAAAAAAAAAQBAAAAAAAABA
EAAAAAAAAEAIAAAAAAAAQBAAAAAAAABAFAAAAAAAAEAIAAAAAAAAQBwAAAAAAABAFAAAAAAA
AEAIAAAAAAAAQBAAAAAAAABACAAAAAAAAEAYAAAAAAAAQBAAAAAAAABACAAAAAAAAEAIAAAA
AAAAQAAAAAAAAABAFAAAAAAAAEAUAAAAAAAAQAAAAAAAAABAEAAAAAAAAEAUAAAAAAAAQCIA
AAAAAABAGAAAAAAAAEAQAAAAAAAAQAgAAAAAAABAEAAAAAAAAEAAAAAAAAAAQBgAAAAAAABA
FAAAAAAAAEAIAAAAAAAAQAgAAAAAAABAEAAAAAAAAEAAAAAAAAAAQAgAAAAAAABAAAAAAAAA
AEAQAAAAAAAAQAgAAAAAAABAAAAAAAAAAEAIAAAAAAAAQAgAAAAAAABAHAAAAAAAAEAcAAAA
AAAAQBAAAAAAAABAGAAAAAAAAEAYAAAAAAAAQCIAAAAAAABAIAAAAAAAAP////8AAAAOAAAA
AAAAAAAAAAAyQAgAAAAAAABAAAAAAAAAAD/wAAAAAAAAQAgAAAAAAABACAAAAAAAAEAAAAAA
AAAAQAAAAAAAAABAEAAAAAAAAEAAAAAAAAAAQBAAAAAAAABACAAAAAAAAEAAAAAAAAAAQAgA
AAAAAABAAAAAAAAAAEAQAAAAAAAAQAgAAAAAAABAAAAAAAAAAEAAAAAAAAAAQAgAAAAAAABA
EAAAAAAAAEAIAAAAAAAAQAAAAAAAAABACAAAAAAAAEAAAAAAAAAAQBQAAAAAAABAEAAAAAAA
AEAIAAAAAAAAQAgAAAAAAABAFAAAAAAAAEAIAAAAAAAAQAgAAAAAAABAEAAAAAAAAEAYAAAA
AAAAQBQAAAAAAABAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAAA/8AAAAAAAAEAIAAAAAAAAQAAA
AAAAAABAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABACAAAAAAAAEAQAAAAAAAAQAAAAAAAAABA
EAAAAAAAAEAQAAAAAAAAQBAAAAAAAABAEAAAAAAAAP////8AAAAOAAAAAAAAAAAAAAAyQAAA
AAAAAABAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAAA/8AAAAAAAAAAAAAAAAAAAQAAAAAAAAABA
AAAAAAAAAEAAAAAAAAAAQAgAAAAAAAA/8AAAAAAAAEAIAAAAAAAAP/AAAAAAAABAAAAAAAAA
AEAAAAAAAAAAQAAAAAAAAABACAAAAAAAAEAAAAAAAAAAQAAAAAAAAABACAAAAAAAAEAAAAAA
AAAAP/AAAAAAAABAAAAAAAAAAEAAAAAAAAAAQAgAAAAAAABACAAAAAAAAEAAAAAAAAAAQAAA
AAAAAABAEAAAAAAAAEAIAAAAAAAAQBAAAAAAAABAFAAAAAAAAEAQAAAAAAAAQAAAAAAAAABA
AAAAAAAAAD/wAAAAAAAAQAAAAAAAAABAAAAAAAAAAD/wAAAAAAAAQAAAAAAAAABAAAAAAAAA
AEAAAAAAAAAAQAAAAAAAAABACAAAAAAAAEAAAAAAAAAAQAAAAAAAAABACAAAAAAAAEAAAAAA
AAAAQAAAAAAAAABACAAAAAAAAP////8AAAAOAAAAAAAAAAAAAAAyQAAAAAAAAABAAAAAAAAA
AEAIAAAAAAAAQAAAAAAAAAA/8AAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAD/wAAAA
AAAAQAgAAAAAAABAAAAAAAAAAEAAAAAAAAAAP/AAAAAAAABAAAAAAAAAAEAAAAAAAAAAQAAA
AAAAAABAAAAAAAAAAEAIAAAAAAAAQAAAAAAAAABACAAAAAAAAD/wAAAAAAAAQAAAAAAAAAA/
8AAAAAAAAEAAAAAAAAAAQAgAAAAAAABAFAAAAAAAAEAIAAAAAAAAQAAAAAAAAABACAAAAAAA
AEAIAAAAAAAAQAAAAAAAAABAAAAAAAAAAD/wAAAAAAAAQAgAAAAAAABAAAAAAAAAAEAAAAAA
AAAAQAAAAAAAAAA/8AAAAAAAAD/wAAAAAAAAQAAAAAAAAABAAAAAAAAAAEAIAAAAAAAAQAAA
AAAAAAA/8AAAAAAAAEAAAAAAAAAAQAgAAAAAAABAAAAAAAAAAEAAAAAAAAAAQAgAAAAAAABA
AAAAAAAAAP////8AAAAOAAAAAAAAAAAAAAAyP/AAAAAAAAA/8AAAAAAAAEAAAAAAAAAAQAAA
AAAAAAAAAAAAAAAAAD/wAAAAAAAAQAgAAAAAAABAAAAAAAAAAAAAAAAAAAAAP/AAAAAAAABA
AAAAAAAAAD/wAAAAAAAAQAAAAAAAAAAAAAAAAAAAAD/wAAAAAAAAQAAAAAAAAAAAAAAAAAAA
AD/wAAAAAAAAP/AAAAAAAABAAAAAAAAAAD/wAAAAAAAAP/AAAAAAAAA/8AAAAAAAAEAQAAAA
AAAAQAAAAAAAAABAAAAAAAAAAD/wAAAAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAQAAA
AAAAAABACAAAAAAAAD/wAAAAAAAAP/AAAAAAAABAAAAAAAAAAD/wAAAAAAAAAAAAAAAAAAA/
8AAAAAAAAD/wAAAAAAAAQAAAAAAAAABAAAAAAAAAAD/wAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAQAAAAAAAAAA/8AAAAAAAAEAAAAAAAAAAQAgAAAAAAABAAAAAAAAAAP////8A
AAAOAAAAAAAAAAAAAAAyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAFAAAAAAAAEAQAAAAAAAAQBAAAAAAAABAAAAAAAAA
AEAAAAAAAAAAQAgAAAAAAABAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQBQA
AAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAAOAAAAAAAAAAAA
AAAyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAEAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAGAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAEAUAAAAAAAAQBgAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQBAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAAOAAAAAAAAAAAAAAAyAAAAAAAAAAAA
AAAAAAAAAEAIAAAAAAAAQAAAAAAAAABAFAAAAAAAAEAQAAAAAAAAQAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/wAAAA
AAAAQAAAAAAAAAAAAAAAAAAAAD/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA
EAAAAAAAAEAYAAAAAAAAQBAAAAAAAABAGAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAA
AEAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAEAgAAAAAAAAQBgAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAP////8AAAAOAAAAAAAAAAAAAAAyQAAAAAAAAABAAAAAAAAAAAAAAAAA
AAAAQAAAAAAAAABAIAAAAAAAAEAUAAAAAAAAP/AAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAA
AAAAAAAAAAAAAAAAAD/wAAAAAAAAQAgAAAAAAAA/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAD/wAAAAAAAAAAAAAAAAAABAAAAAAAAAAD/wAAAAAAAAQAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAEAIAAAAAAAAAAAAAAAAAAA/8AAAAAAAAEAIAAAA
AAAAQBAAAAAAAAAAAAAAAAAAAD/wAAAAAAAAQAAAAAAAAAA/8AAAAAAAAEAUAAAAAAAAP/AA
AAAAAAAAAAAAAAAAAD/wAAAAAAAAP/AAAAAAAABAAAAAAAAAAEAIAAAAAAAAQAgAAAAAAABA
AAAAAAAAAAAAAAAAAAAAQBQAAAAAAABAAAAAAAAAAEAAAAAAAAAAQAgAAAAAAABACAAAAAAA
AP////8AAAAOAAAAAAAAAAAAAAAyP/AAAAAAAAA/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAABA
CAAAAAAAAD/wAAAAAAAAP/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAA/8AAAAAAAAEAAAAAAAAAAQAAAAAAAAAA/8AAAAAAAAAAAAAAA
AAAAAAAAAAAAAAA/8AAAAAAAAD/wAAAAAAAAP/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAA/8AAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAA/
8AAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AEAAAAAAAAAAP/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/8AAAAAAAAEAIAAAA
AAAAQBAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABACAAAAAAAAP////8AAAACAAAA
AAAAAAAAAAABAAAAAAAAAAAAAAAj/////wAAABAAAAAAAAAAAAAAABIAAAAGAAAABnZpbHRp
ZAAAAAAABgAAAAZzZXB0OTcAAAAAAAUAAAAFb2N0OTcAAAAAAAAIAAAACG5vdjk3YmVnAAAA
CAAAAAhub3Y5N2VuZAAAAAgAAAAIZGVjOTdiZWcAAAAIAAAACGRlYzk3ZW5kAAAABQAAAAVq
YW45OAAAAAAAAAUAAAAFZmViOTgAAAAAAAAFAAAABW1hcjk4AAAAAAAABQAAAAVhcHI5OAAA
AAAAAAUAAAAFbWF5OTgAAAAAAAAFAAAABWp1bjk4AAAAAAAABQAAAAVqdWw5OAAAAAAAAAUA
AAAFYXVnOTgAAAAAAAAFAAAABXNlcDk4AAAAAAAABQAAAAVub3Y5OAAAAAAAAAUAAAAFZGVj
OTgAAAD/////AAAAAgAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAIv////8AAAAQAAAAAAAAAAAA
AAAyAAAAAQAAAAExAAAAAAAAAQAAAAEyAAAAAAAAAQAAAAEzAAAAAAAAAQAAAAE0AAAAAAAA
AQAAAAE1AAAAAAAAAQAAAAE2AAAAAAAAAQAAAAE3AAAAAAAAAQAAAAE4AAAAAAAAAQAAAAE5
AAAAAAAAAgAAAAIxMAAAAAAAAgAAAAIxMQAAAAAAAgAAAAIxMgAAAAAAAgAAAAIxMwAAAAAA
AgAAAAIxNAAAAAAAAgAAAAIxNQAAAAAAAgAAAAIxNgAAAAAAAgAAAAIxNwAAAAAAAgAAAAIx
OAAAAAAAAgAAAAIxOQAAAAAAAgAAAAIyMAAAAAAAAgAAAAIyMQAAAAAAAgAAAAIyMgAAAAAA
AgAAAAIyMwAAAAAAAgAAAAIyNAAAAAAAAgAAAAIyNQAAAAAAAgAAAAIyNgAAAAAAAgAAAAIy
NwAAAAAAAgAAAAIyOAAAAAAAAgAAAAIyOQAAAAAAAgAAAAIzMAAAAAAAAgAAAAIzMQAAAAAA
AgAAAAIzMgAAAAAAAgAAAAIzMwAAAAAAAgAAAAIzNAAAAAAAAgAAAAIzNQAAAAAAAgAAAAIz
NgAAAAAAAgAAAAIzNwAAAAAAAgAAAAIzOAAAAAAAAgAAAAIzOQAAAAAAAgAAAAI0MAAAAAAA
AgAAAAI0MQAAAAAAAgAAAAI0MgAAAAAAAgAAAAI0MwAAAAAAAgAAAAI0NAAAAAAAAgAAAAI0
NQAAAAAAAgAAAAI0NgAAAAAAAgAAAAI0NwAAAAAAAgAAAAI0OAAAAAAAAgAAAAI0OQAAAAAA
AgAAAAI1MAAA/////wAAAAIAAAAAAAAAAAAAAAEAAAAAAAAAAAAAACH/////AAAAEAAAAAAA
AAAAAAAAAQAAAAoAAAAKZGF0YS5mcmFtZQAA//////////////////////////8AAAACAAAA
AAAAAAAAAAABAAAAAAAAAAAAAAAg/////wAAAAMAAAAAAAAAAP////4AAAACAAAAAAAAAAAA
AAABAAAAAAAAAAAAAAAf//////////z//////////wAAAAYAAAAAAAAAAP////8AAAABAAAA
AAAAAAAAAAAe/////wAAAAIAAAAAAAAAAP////8AAAAGAAAAAAAAAAD/////AAAAAQAAAAAA
AAAAAAAAHf////8AAAACAAAAAAAAAAD/////AAAABgAAAAAAAAAA/////wAAAAEAAAAAAAAA
AAAAABz/////AAAAAgAAAAAAAAAA/////wAAAAEAAAAAAAAAAAAAAB//////////////////
////AAAAAgAAAAAAAAAA/////wAAAAYAAAAAAAAAAP////8AAAABAAAAAAAAAAAAAAAe////
/wAAAAIAAAAAAAAAAP////8AAAAGAAAAAAAAAAD/////AAAAAQAAAAAAAAAAAAAAG/////8A
AAACAAAAAAAAAAD/////AAAAEAAAAAAAAAAAAAAAAQAAAAEAAAABCgAAAP//////////////
//////8AAAACAAAAAAAAAAD/////AAAABgAAAAAAAAAA/////wAAAAEAAAAAAAAAAAAAABv/
////AAAAAgAAAAAAAAAA/////wAAABAAAAAAAAAAAAAAAAEAAABDAAAAQ05lZWQgYSBkYXRh
IGZyYW1lIGFyZ3VtZW50IHdpdGggMTcgbW9udGhseSBjYXRjaGVzIChzZXB0LCBvY3QgLi4u
KQoA/////////////////////wAAAAIAAAAAAAAAAP////8AAAAGAAAAAAAAAAD/////AAAA
AQAAAAAAAAAAAAAAG/////8AAAACAAAAAAAAAAD/////AAAAEAAAAAAAAAAAAAAAAQAAAEIA
AABCICAgZm9yIHRzZXRzZSB1c2UgQS5GUkFNRS50c2V0c2UuOTduOTgsIGZvciBhZGp0c2Ug
cm9sbCB5b3VyIG93bi4KAAD///////////////////////////////////////////////8A
AAACAAAAAAAAAAD/////AAAABgAAAAAAAAAA/////wAAAAEAAAAAAAAAAAAAAB7/////AAAA
AgAAAAAAAAAA/////wAAAAYAAAAAAAAAAP////8AAAABAAAAAAAAAAAAAAAa/////wAAAAIA
AAAAAAAAAP////8AAAABAAAAAAAAAAAAAAAZ/////wAAAAIAAAAAAAAAAP////8AAAAGAAAA
AAAAAAD/////AAAAAQAAAAAAAAAAAAAAGP////8AAAACAAAAAAAAAAAAAAABAAAAAAAAAAAA
AAAX/////wAAAAoAAAAAAAAAAAAAAAEAAAAB////////////////////////////////////
//////8AAAACAAAAAAAAAAD/////AAAABgAAAAAAAAAA/////wAAAAEAAAAAAAAAAAAAABb/
////AAAAAgAAAAAAAAAA/////wAAAAYAAAAAAAAAAP////8AAAABAAAAAAAAAAAAAAAY////
/wAAAAIAAAAAAAAAAP////8AAAABAAAAAAAAAAAAAAAZ/////////////////////wAAAAIA
AAAAAAAAAAAAAAEAAAAAAAAAAAAAABX/////AAAACgAAAAAAAAAAAAAAAQAAAAH/////////
/////////////////wAAAAIAAAAAAAAAAP////8AAAAGAAAAAAAAAAD/////AAAAAQAAAAAA
AAAAAAAAGP////8AAAACAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAU/////wAAAAYAAAAAAAAA
AP////8AAAABAAAAAAAAAAAAAAAT/////wAAAAIAAAAAAAAAAP////8AAAAOAAAAAAAAAAAA
AAABQAAAAAAAAAD/////AAAAAgAAAAAAAAAA/////wAAAA4AAAAAAAAAAAAAAAFAIAAAAAAA
AP//////////////////////////AAAAAgAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAEv////8A
AAAGAAAAAAAAAAD/////AAAAAQAAAAAAAAAAAAAAE/////8AAAACAAAAAAAAAAD/////AAAA
DgAAAAAAAAAAAAAAAT/wAAAAAAAA/////wAAAAIAAAAAAAAAAP////8AAAAOAAAAAAAAAAAA
AAABP/AAAAAAAAD/////AAAAAgAAAAAAAAAA/////wAAAA4AAAAAAAAAAAAAAAE/8AAAAAAA
AP////8AAAACAAAAAAAAAAD/////AAAADgAAAAAAAAAAAAAAAQAAAAAAAAAA////////////
/////////////////////////wAAAAIAAAAAAAAAAAAAAAEAAAAAAAAAAAAAABH/////AAAA
BgAAAAAAAAAA/////wAAAAEAAAAAAAAAAAAAABP/////AAAAAgAAAAAAAAAA/////wAAAA4A
AAAAAAAAAAAAAAEAAAAAAAAAAP////8AAAACAAAAAAAAAAD/////AAAADgAAAAAAAAAAAAAA
AT/wAAAAAAAA/////wAAAAIAAAAAAAAAAP////8AAAAOAAAAAAAAAAAAAAABQAAAAAAAAAD/
////AAAAAgAAAAAAAAAA/////wAAAA4AAAAAAAAAAAAAAAE/8AAAAAAAAP//////////////
/////////////////////////////////////////////////wAAAAIAAAAAAAAAAP////8A
AAAGAAAAAAAAAAD/////AAAAAQAAAAAAAAAAAAAAEP////8AAAACAAAAAAAAAAD/////AAAA
AQAAAAAAAAAAAAAAH/////////////////////8AAAACAAAAAAAAAAD/////AAAABgAAAAAA
AAAA/////wAAAAEAAAAAAAAAAAAAABb/////AAAAAgAAAAAAAAAA/////wAAAAYAAAAAAAAA
AP////8AAAABAAAAAAAAAAAAAAAP/////wAAAAIAAAAAAAAAAP////8AAAABAAAAAAAAAAAA
AAAf/////////////////////wAAAAIAAAAAAAAAAAAAAAEAAAAAAAAAAAAAABX/////AAAA
CgAAAAAAAAAAAAAAAQAAAAH//////////////////////////wAAAAIAAAAAAAAAAP////8A
AAAGAAAAAAAAAAD/////AAAAAQAAAAAAAAAAAAAADv////8AAAACAAAAAAAAAAD/////AAAA
AQAAAAAAAAAAAAAADf////8AAAACAAAAAAAAAAD/////AAAABgAAAAAAAAAA/////wAAAAEA
AAAAAAAAAAAAAAz/////AAAAAgAAAAAAAAAA/////wAAAA4AAAAAAAAAAAAAAAE/8AAAAAAA
AP////8AAAACAAAAAAAAAAD/////AAAADgAAAAAAAAAAAAAAAUAwAAAAAAAA////////////
//////////////8AAAACAAAAAAAAAAD/////AAAABgAAAAAAAAAA/////wAAAAEAAAAAAAAA
AAAAAB7/////AAAAAgAAAAAAAAAA/////wAAAAYAAAAAAAAAAP////8AAAABAAAAAAAAAAAA
AAAL/////wAAAAIAAAAAAAAAAP////8AAAAGAAAAAAAAAAD/////AAAAAQAAAAAAAAAAAAAA
Cv////8AAAAGAAAAAAAAAAD/////AAAAAQAAAAAAAAAAAAAAH/////8AAAACAAAAAAAAAAD/
/////////AAAAAIAAAAAAAAAAP////8AAAABAAAAAAAAAAAAAAAN////////////////////
////////////AAAAAgAAAAAAAAAA/////wAAAAYAAAAAAAAAAP////8AAAABAAAAAAAAAAAA
AAAK/////wAAAAYAAAAAAAAAAP////8AAAABAAAAAAAAAAAAAAAf/////wAAAAIAAAAAAAAA
AP/////////8AAAAAgAAAAAAAAAA/////wAAAAYAAAAAAAAAAP////8AAAABAAAAAAAAAAAA
AAAJ/////wAAAAIAAAAAAAAAAP////8AAAABAAAAAAAAAAAAAAAN/////wAAAAIAAAAAAAAA
AP////8AAAAOAAAAAAAAAAAAAAABP/AAAAAAAAD/////////////////////////////////
/////////////////////////////////////////wAAAAIAAAAAAAAAAP////8AAAAGAAAA
AAAAAAD/////AAAAAQAAAAAAAAAAAAAACP////8AAAACAAAAAAAAAAD/////AAAABgAAAAAA
AAAA/////wAAAAEAAAAAAAAAAAAAAAf/////AAAAAgAAAAAAAAAA/////wAAAAYAAAAAAAAA
AP////8AAAABAAAAAAAAAAAAAAAG/////wAAAAIAAAAAAAAAAP////8AAAAGAAAAAAAAAAD/
////AAAAAQAAAAAAAAAAAAAACv////8AAAAGAAAAAAAAAAD/////AAAAAQAAAAAAAAAAAAAA
H/////8AAAACAAAAAAAAAAD//////////AAAAAIAAAAAAAAAAP////8AAAAGAAAAAAAAAAD/
////AAAAAQAAAAAAAAAAAAAACf////8AAAACAAAAAAAAAAD/////AAAAAQAAAAAAAAAAAAAA
Df////8AAAACAAAAAAAAAAD/////AAAADgAAAAAAAAAAAAAAAT/wAAAAAAAA////////////
/////////////////////////////////////////wAAAAIAAAAAAAAAAP////8AAAAGAAAA
AAAAAAD/////AAAAAQAAAAAAAAAAAAAACv////8AAAAGAAAAAAAAAAD/////AAAAAQAAAAAA
AAAAAAAAH/////8AAAACAAAAAAAAAAD//////////AAAAAIAAAAAAAAAAP////8AAAABAAAA
AAAAAAAAAAAN////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////
/wAAAAIAAAAAAAAAAP////8AAAAGAAAAAAAAAAD/////AAAAAQAAAAAAAAAAAAAABf////8A
AAACAAAAAAAAAAD/////AAAAEAAAAAAAAAAAAAAAAQAAADUAAAA1Q29ycmVsYXRpb24gb2Yg
dHNldHNlIHNhbXBsZXM6IHNhbXBsZSB0byBzYW1wbGUgcGxvdHMAAAD/////AAAAAgAAAAAA
AAAAAAAAAQAAAAAAAAAAAAAABP////8AAAAOAAAAAAAAAAAAAAABQAgAAAAAAAD/////AAAA
AgAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAA/////8AAAAKAAAAAAAAAAAAAAABAAAAAf////8A
AAACAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAC/////wAAAA4AAAAAAAAAAAAAAAE/+AAAAAAA
AP//////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////wAAAAIAAAAAAAAA
AAAAAAEAAAAAAAAAAAAAAAH/////AAAAEAAAAAAAAAAAAAAAHQAAABQAAAAUZnVuY3Rpb24o
dGhlLmZyYW1lKXsAAAAAAAAAAAAAACEAAAAhI2ZpcnN0IGRvIHRoZSBwYXJhbWV0ZXIgY2hl
Y2tpbmc6AAAAAAAAGAAAABhpZiAobWlzc2luZyh0aGUuZnJhbWUpKXsAAAAMAAAADCAgIGNh
dCgiXG4iKQAAAE4AAABOICAgY2F0KCJOZWVkIGEgZGF0YSBmcmFtZSBhcmd1bWVudCB3aXRo
IDE3IG1vbnRobHkgY2F0Y2hlcyAoc2VwdCwgb2N0IC4uLilcbiIpAAAAAABNAAAATSAgIGNh
dCgiICAgZm9yIHRzZXRzZSB1c2UgQS5GUkFNRS50c2V0c2UuOTduOTgsIGZvciBhZGp0c2Ug
cm9sbCB5b3VyIG93bi5cbiIpAAAAAAAABwAAAAd9ICAgI2ZpAAAAAAAAAAAAAAAABQAAAAVl
bHNlewAAAAAAACYAAAAmICAgI25leHQgY2FjaGUgdGhlIGluaXRpYWwgY29uZGl0aW9uczoA
AAAAAEsAAABLICAgc3RhcnQucGFyX3Bhcihuby5yZWFkb25seSA9IFRSVUUpICAgICAgICAg
ICAjc3RvcmUgdGhlIGluaXRhbCBwYXJhbWV0ZXJzAAAAAE8AAABPICAgb24uZXhpdChwYXIo
c3RhcnQucGFyKSxhcHBlbmQ9VFJVRSkgICAgICAgICAjcmVzdG9yZSB0aGUgZ3JhcGhpY3Mg
cGFyYW1ldGVycwAAAAAyAAAAMiAgIHBhcihtZnJvdz1jKDIsOCksbWFyPWMoMSwxLDEsMCks
b21hPWMoMCwxLDIsMSkpAAAAAAAAAAAAAAAAACAAAAAgICAgI25leHQgaW5pdGlhbGl6ZSB0
aGUgZnVuY3Rpb24AAAAUAAAAFCAgIGF0dGFjaCh0aGUuZnJhbWUpAAAAKQAAACkgICBvbi5l
eGl0KGRldGFjaCh0aGUuZnJhbWUpLGFwcGVuZD1UUlVFKQAAAAAAAAAAAAAAAAAAEgAAABIg
ICAjZnVuY3Rpb24gYm9keToAAAAAABMAAAATICAgZm9yIChpIGluIDE6MTYpewAAAAApAAAA
KSAgICAgIHBsb3QodGhlLmZyYW1lWyxpXSx0aGUuZnJhbWVbLGkrMV0pAAAAAAAALwAAAC8g
ICAgICBhYmxpbmUobG0odGhlLmZyYW1lWyxpKzFdfnRoZS5mcmFtZVssaV0pKQAAAAAEAAAA
BCAgIH0AAABbAAAAWyAgIG10ZXh0KCJDb3JyZWxhdGlvbiBvZiB0c2V0c2Ugc2FtcGxlczog
c2FtcGxlIHRvIHNhbXBsZSBwbG90cyIsc2lkZT0zLG91dGVyPVRSVUUsY2V4PTEuNSkAAAAA
AAAAAAAAAAAAAAAAAAAAAA0AAAANfSAgICNlbmQgZWxzZQAAAAAAAAEAAAABfQAAAP//////
//////////////////////////////8=

--/9DWx/yDrRhgMJTb--

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rnassar@duke.edu  Sat Jul 15 20:18:16 2000
From: rnassar@duke.edu (rnassar@duke.edu)
Date: Sat, 15 Jul 2000 21:18:16 +0200 (MET DST)
Subject: [Rd] typos in ?lm (PR#609)
Message-ID: <200007151918.VAA18656@pubhealth.ku.dk>

A couple of typos in  help(lm) 

Details:

[1st para, 7th line:]
     specification of the form `first:second' indicates the the set of
                                                        ^^^^^^^  

See Also:

     The underlying low level functions, `lm.fit' for plain, and
     `lm.fit' for weighted regression fitting.
        ^^
   [ `lm.wfit' ]

Many thanks!

Rashid Nassar

--please do not edit the information below--

Version:
 platform = i586-pc-linux-gnu
 arch = i586
 os = linux-gnu
 system = i586, linux-gnu
 status = Patched
 major = 1
 minor = 1.0
 year = 2000
 month = July
 day = 1
 language = R

Search Path:
 .GlobalEnv, package:ctest, maras7, Autoloads, package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From albrecht.gebhardt@uni-klu.ac.at  Mon Jul 17 08:39:51 2000
From: albrecht.gebhardt@uni-klu.ac.at (Albrecht Gebhardt)
Date: Mon, 17 Jul 2000 09:39:51 +0200 (MET DST)
Subject: [Rd] Makevars, PKG_CFLAGS, ...
Message-ID: <Pine.OSF.4.21.0007170930170.31690-100000@zidsrv.sci.uni-klu.ac.at>


Hi,

I'm searching for a way to override the default CFLAGS/FFLAGS (-g -02 in
my case) per package (e.g with "-g" for packages under development).
PKG_CFLAGS/PKG_FFLAGS is prepended to the remaining flags, so it can't
delete a globally set "-O2" flag.

Of course I can edit the global Makeconf file, but I was wondering if
there is a possibility to override variables from Makeconf in the Makevars
file inside a package tree, without creating a separate Makefile for this
package?


Albrecht 

......................................................................
| Albrecht Gebhardt          Tel.: (++43 463) 2700/832               |
| Institut fuer Mathematik   Fax : (++43 463) 2700/834               |
| Universitaet Klagenfurt    mailto:albrecht.gebhardt@uni-klu.ac.at  |
| Villacher Str. 161         http://www-stat.uni-klu.ac.at/~agebhard |
| A-9020 Klagenfurt, Austria                                         |
`--------------------------------------------------------------------'

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jens.oehlschlaegel@bbdo-interone.de  Mon Jul 17 17:20:34 2000
From: jens.oehlschlaegel@bbdo-interone.de (=?iso-8859-1?Q?Jens_Oehlschl=E4gel?=)
Date: Mon, 17 Jul 2000 18:20:34 +0200
Subject: [Rd] pairs(), "cex" argument has no effect (PR#603)
In-Reply-To: <200007122313.BAA06079@pubhealth.ku.dk>
Message-ID: <003e01bff00a$eff56800$c10616ac@oehl.bbdo.de>


none of

  "cex" and "cex.axis" , "cex.label"

is an official parameter to pairs()

but there is

 "cex.labels"
           ^
which works for me

As someone has work with maintaining the bugs-database,
you might want to check more carefully before declaring something as a bug.

regards


--
Dr. Jens Oehlschl弄el
Analyse
BBDO InterOne
Grnstr. 15
40212 Dsseldorf

Tel.: +49 (0)211 1379-187
Fax.: +49 (0)211 1379-461
http://www.bbdo-interone.de








> -----Original Message-----
> From: owner-r-devel@stat.math.ethz.ch
> [mailto:owner-r-devel@stat.math.ethz.ch]On Behalf Of rnassar@duke.edu
> Sent: Thursday, July 13, 2000 1:13 AM
> To: r-devel@stat.math.ethz.ch
> Cc: R-bugs@biostat.ku.dk
> Subject: [Rd] pairs(), "cex" argument has no effect (PR#603)
>
>
> Dear R Team,
>
> pairs():   "cex", "cex.axis", "cex.label" arguments do not
> seem to have an
> effect.  I am submitting this report in case they were inteded to.
>
> Thank you.
>
> Rashid Nassar
>
> --please do not edit the information below--
>
> Version:
>  platform = i586-pc-linux-gnu
>  arch = i586
>  os = linux-gnu
>  system = i586, linux-gnu
>  status = Patched
>  major = 1
>  minor = 1.0
>  year = 2000
>  month = July
>  day = 1
>  language = R
>
> Search Path:
>  .GlobalEnv, package:mva, Autoloads, package:base
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info",
> "help", or "[un]subscribe"
> (in the "body", not the subject !)  To:
> r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rnassar@duke.edu  Mon Jul 17 17:31:09 2000
From: rnassar@duke.edu (Rashid Nassar)
Date: Mon, 17 Jul 2000 12:31:09 -0400 (EDT)
Subject: [Rd] pairs(), "cex" argument has no effect (PR#603)
In-Reply-To: <003e01bff00a$eff56800$c10616ac@oehl.bbdo.de>
Message-ID: <Pine.SOL.3.91.1000717122924.13659B-100000@bio3.acpub.duke.edu>


I goofed.  Please accept my sincere apologies.


Sincerely,

Rashid Nassar


On Mon, 17 Jul 2000, =?iso-8859-1?Q?Jens_Oehlschl=E4gel?= wrote:

> Date: Mon, 17 Jul 2000 18:20:34 +0200
> From: =?iso-8859-1?Q?Jens_Oehlschl=E4gel?= <jens.oehlschlaegel@bbdo-interone.de>
> To: rnassar@duke.edu
> Cc: "'r-devel@stat.math.ethz.ch'" <R-devel@stat.math.ethz.ch>
> Subject: RE: [Rd] pairs(), "cex" argument has no effect (PR#603)
> 
> 
> none of
> 
>   "cex" and "cex.axis" , "cex.label"
> 
> is an official parameter to pairs()
> 
> but there is
> 
>  "cex.labels"
>            ^
> which works for me
> 
> As someone has work with maintaining the bugs-database,
> you might want to check more carefully before declaring something as a bug.
> 
> regards
> 
> 
> --
> Dr. Jens Oehlschl弄el
> Analyse
> BBDO InterOne
> Grnstr. 15
> 40212 Dsseldorf
> 
> Tel.: +49 (0)211 1379-187
> Fax.: +49 (0)211 1379-461
> http://www.bbdo-interone.de
> 
> 
> 
> 
> 
> 
> 
> 
> > -----Original Message-----
> > From: owner-r-devel@stat.math.ethz.ch
> > [mailto:owner-r-devel@stat.math.ethz.ch]On Behalf Of rnassar@duke.edu
> > Sent: Thursday, July 13, 2000 1:13 AM
> > To: r-devel@stat.math.ethz.ch
> > Cc: R-bugs@biostat.ku.dk
> > Subject: [Rd] pairs(), "cex" argument has no effect (PR#603)
> >
> >
> > Dear R Team,
> >
> > pairs():   "cex", "cex.axis", "cex.label" arguments do not
> > seem to have an
> > effect.  I am submitting this report in case they were inteded to.
> >
> > Thank you.
> >
> > Rashid Nassar
> >
> > --please do not edit the information below--
> >
> > Version:
> >  platform = i586-pc-linux-gnu
> >  arch = i586
> >  os = linux-gnu
> >  system = i586, linux-gnu
> >  status = Patched
> >  major = 1
> >  minor = 1.0
> >  year = 2000
> >  month = July
> >  day = 1
> >  language = R
> >
> > Search Path:
> >  .GlobalEnv, package:mva, Autoloads, package:base
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-.-.-.-.-.-.-
> > r-devel mailing list -- Read
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info",
> > "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To:
> > r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > _._._._._._._._._
> >
> 
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Mon Jul 17 21:11:30 2000
From: bates@stat.wisc.edu (bates@stat.wisc.edu)
Date: Mon, 17 Jul 2000 22:11:30 +0200 (MET DST)
Subject: [Rd] Re: [R] na.omit (PR#610)
Message-ID: <200007172011.WAA26712@pubhealth.ku.dk>

buerkle@hawaii.edu writes:

> Why is it that when a vector contains no NAs, na.omit returns an empty
> vector rather than the object/vector that was passed to it?  
> 
> >na.omit(c(1,2,3,4))          
> numeric(0)

Well, because there is a bug in na.omit.default.  The problem is in the
section of code

        omit <- seq(along = object)[is.na(object)]
        nm <- names(object)
        object <- object[-omit]

If there are no NA's in the object, then omit becomes a length 0
vector and -omit doesn't have the intended effect.

A temporary fix would be to insert
        if (length(omit) == 0) return(object)
after the first line shown above.

We'll incorporate a fix for the next release.  Thanks for reporting
the bug.

> ---------------------------
> platform i686-pc-linux-gnu
> arch     i686             
> os       linux-gnu        
> system   i686, linux-gnu  
> status                    
> major    1                
> minor    1.0              
> year     2000             
> month    June             
> day      15               
> language R
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
Douglas Bates                            bates@stat.wisc.edu
Statistics Department                    608/262-2598
University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Wed Jul 19 00:08:27 2000
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Wed, 19 Jul 2000 01:08:27 +0200
Subject: [Rd] Makevars, PKG_CFLAGS, ...
In-Reply-To: <Pine.OSF.4.21.0007170930170.31690-100000@zidsrv.sci.uni-klu.ac.at>
References: <Pine.OSF.4.21.0007170930170.31690-100000@zidsrv.sci.uni-klu.ac.at>
Message-ID: <200007182308.BAA00393@aragorn.ci.tuwien.ac.at>

>>>>> Albrecht Gebhardt writes:

> Hi,

> I'm searching for a way to override the default CFLAGS/FFLAGS (-g -02
> in my case) per package (e.g with "-g" for packages under
> development).  PKG_CFLAGS/PKG_FFLAGS is prepended to the remaining
> flags, so it can't delete a globally set "-O2" flag.

> Of course I can edit the global Makeconf file, but I was wondering if
> there is a possibility to override variables from Makeconf in the
> Makevars file inside a package tree, without creating a separate
> Makefile for this package?

In general, no.  Why would you want to do this?  The point of having
Makeconf is that it is a configuration of the development environment
that is provably known to work (as it passed make check).

CFLAGS, as per GNU Coding standards, should always be at the user's
discretion.  This is why we never add to CFLAGS.  It should be possible
to set this variable from the command line, but apparently this does not
work when using a shell script which in turn calls make.  R CMD COMPILE
works o.k. in this regard.

-k



	
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From hdrees@statlab.uni-heidelberg.de  Wed Jul 19 16:47:05 2000
From: hdrees@statlab.uni-heidelberg.de (hdrees@statlab.uni-heidelberg.de)
Date: Wed, 19 Jul 2000 17:47:05 +0200 (MET DST)
Subject: [Rd] bug in loess (PR#611)
Message-ID: <200007191547.RAA09093@pubhealth.ku.dk>

Full_Name: Holger Drees
Version: 1.0.0-1
OS: Windows NT 4.0/Linux Suse 6.3
Submission from: (NULL) (129.206.113.204)


After typing the commands

x <- seq(0,1,by=0.01)
y <- sin(6*x)+rnorm(101)
regtest <- loess(y~x,degree=1,surface="direct",family="symmetric")

regtest$fitted equals NULL. Moreover,

y-regtest$residuals

and 

predict.loess(regtest,x)

give different values, though both are supposed to give the vector of fitted
values.
The latter is the same for both choices of family ("gaussian" and "symmetric").
This holds true for both the WINDOWS and LINUX SUSE 6.3 implementation. (Splus
yields the 
correct results.) This effect occurs only with the option surface="direct".

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Jul 19 17:44:33 2000
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 19 Jul 2000 17:44:33 +0100 (BST)
Subject: [Rd] bug in loess (PR#611)
In-Reply-To: <200007191547.RAA09093@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.05.10007191737480.1724-100000@auk.stats>

On Wed, 19 Jul 2000 hdrees@statlab.uni-heidelberg.de wrote:

> Full_Name: Holger Drees
> Version: 1.0.0-1
> OS: Windows NT 4.0/Linux Suse 6.3
> Submission from: (NULL) (129.206.113.204)
> 
> 
> After typing the commands
> 
> x <- seq(0,1,by=0.01)
> y <- sin(6*x)+rnorm(101)
> regtest <- loess(y~x,degree=1,surface="direct",family="symmetric")
> 
> regtest$fitted equals NULL. Moreover,
> 
> y-regtest$residuals
> 
> and 
> 
> predict.loess(regtest,x)
> 
> give different values, though both are supposed to give the vector of fitted
> values.
> The latter is the same for both choices of family ("gaussian" and "symmetric").
> This holds true for both the WINDOWS and LINUX SUSE 6.3 implementation. (Splus
> yields the 
> correct results.) This effect occurs only with the option surface="direct".

Since you have clearly looked into this, could you please provide a patch
which gives the correct answers.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From berwin@maths.uwa.edu.au  Thu Jul 20 07:51:52 2000
From: berwin@maths.uwa.edu.au (berwin@maths.uwa.edu.au)
Date: Thu, 20 Jul 2000 08:51:52 +0200 (MET DST)
Subject: [Rd] Installing R-1.1.0 (PR#612)
Message-ID: <200007200651.IAA10988@pubhealth.ku.dk>

Dear R-developers,

I finally got around to install R 1.1.0 but had problems at the `make
check' stage.

After compiling the released R 1.1.0 version the `make check' stage
stopped while checking the examples in base.  There was some problem
with the quantile function and the check stopped complaining that NA's
are not allowed.

But I assume that this problem is already known because `make check'
passed this point after I applied the latest patches and recompiled
R.  However `make check' still chokes on base and on mva.  The last
lines in base-Ex.Rout are:

> x <- 0:15
> size <- (1:20)/4
> persp(x,size, dnb <- outer(x,size,function(x,s)dnbinom(x,s, pr= 0.4)),
+       xlab = "x", ylab = "s", zlab="density", theta = 150)
> title(tit <- "negative binomial density(x,s, pr = 0.4)  vs.  x & s")
> 
> image  (x,size, log10(dnb), main= paste("log [",tit,"]"))
Error in hsv(h, s, v, gamma) : invalid HSV color
Execution halted

And the last lines in mva-Ex.Rout are:

> prcomp(USArrests, scale = TRUE)
Standard deviations:
[1] 1.5748783 0.9948694 0.5971291 0.4164494

Rotation:
                PC1        PC2        PC3         PC4
Murder   -0.5358995 -0.4181809  0.3412327 -0.64922780
Assault  -0.5831836 -0.1879856  0.2681484  0.74340748
UrbanPop -0.2781909  0.8728062  0.3780158 -0.13387773
Rape     -0.5434321  0.1673186 -0.8177779 -0.08902432
> plot(prcomp(USArrests))
Error in hsv(h, s, v, gamma) : invalid HSV color
Execution halted

Any idea how I could get around this problem?  I presume that this
problem has to do with the number of available colors?  (For me, HSV
means "Hamburger Sport Verein", a German soccer club ;-)) ). 

Cheers,

        Berwin

--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = Patched
 major = 1
 minor = 1.0
 year = 2000
 month = July
 day = 17
 language = R

Search Path:
 .GlobalEnv, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Jul 20 08:33:01 2000
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 20 Jul 2000 08:33:01 +0100 (BST)
Subject: [Rd] RFC: System and time support functions in R
Message-ID: <Pine.GSO.4.05.10007200826030.9485-100000@auk.stats>

I've been looking over system utility functions that we might want to
add to R.  A few come out of specific needs, others from looking at
other systems and what people are using system() for.  I've taken
account of Paul Gilbert's comments posted here a while ago (and I
think covered all except the use of mailers).

We currently have

date
*.socket
file.create
file.exists
file.remove
file.append
dir.create
basename
dirname
list.file/dir
unlink         -- it is none too clear what this should do for dirs.
file.show
getenv


S-PLUS 5.x has

access
files.in.dir	-- we have list.files.
is.dir
mkdir		-- we have dir.create
rmdir		-- recursive or not (unlink only removes empty directories)


I have added today for R-devel (Unix and Wundows)

file.access()	-- an access() work-alike.
file.info()	-- subsumes is.dir(), and give the information from
		   stat(2) calls.
file.copy	-- via file.create and file.append.
Sys.info()	-- give the information from uname(2) (including machine
		   name) and getlogin(2) (the login name).

Things which I think we still may need:

putenv() -- or is `setenv' a better name?  (putenv is the POSIX name).

sleep() -- called Sys.sleep()?, and with sub-second accuracy.
	   Tricky to do with event loops running, but looks possible.
	   Package xgobi under Unix has system("sleep 3"), which is
	   not a good idea in an event-driven system.  I have this
	   running on Windows for xgobi there.

unlink() -- I suggest we add a recursive argument, defaulting to
	    FALSE?  (It is currently TRUE on most platforms.)


The other main area that needs something more is date/times.  For the
moment file.info returns times as days/fractional days since 1 Jan
1970, which chron() can interpret.  But that is not *quite* correct,
as not all days are the same length due to the (rare) use of
leap-seconds.  And chron does not know about timezones.

My suggestion here is to implement a time class called POSIXtime which is
just POSIX's time_t. (Number of seconds since 1 Jan 1970.) And another time
class POSIXtm which is an R list giving a struct tm (secs, mins, hours, day
of month, month, year, day of week, day of year).  (I think it also needs
to record the timezone used.)  Then we can have R functions as vectorized
wrappers for the POSIX functions (not necesarily with these names)

time (say Sys.date):    date() as a POSIXtime variable.
localtime / gmtime:     convert POSIXtime to POSIXtm (local TZ/UTC)
mktime:                 convert POSIXtm to POSIXtime
strftime:               convert POSIXtm to character string, flexibly.
difftime:		difference between times in secs.
			(The wrappers for the last two could handle
			POSIXtime and POSIXtm objects.)

(Perhaps if these do not exist on a platform (unlikely) we can have
less accurate alternatives in our code.  They exist on Windows.)

Possibly we might want to allow

tzset:		        set a time zone, for the above functions

or perhaps better just have tz as an argument to the conversion functions.

Is this is a sensible design strategy?  I am reluctant to add another set
of date functions after packages date and chron, but cannot see how to
easily leverage those to do what I need, and in any case POSIX has thought
this through.


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Thu Jul 20 12:17:35 2000
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Thu, 20 Jul 2000 13:17:35 +0200 (CEST)
Subject: [Rd] RFC: System and time support functions in R
In-Reply-To: <Pine.GSO.4.05.10007200826030.9485-100000@auk.stats>
References: <Pine.GSO.4.05.10007200826030.9485-100000@auk.stats>
Message-ID: <14710.57295.482498.128666@fangorn.ci.tuwien.ac.at>

>>>>> Prof Brian D Ripley writes:

> I've been looking over system utility functions that we might want to
> add to R.  A few come out of specific needs, others from looking at
> other systems and what people are using system() for.  I've taken
> account of Paul Gilbert's comments posted here a while ago (and I
> think covered all except the use of mailers).

> ...

> The other main area that needs something more is date/times.  For the
> moment file.info returns times as days/fractional days since 1 Jan
> 1970, which chron() can interpret.  But that is not *quite* correct,
> as not all days are the same length due to the (rare) use of
> leap-seconds.  And chron does not know about timezones.

> My suggestion here is to implement a time class called POSIXtime which is
> just POSIX's time_t. (Number of seconds since 1 Jan 1970.) And another time
> class POSIXtm which is an R list giving a struct tm (secs, mins, hours, day
> of month, month, year, day of week, day of year).  (I think it also needs
> to record the timezone used.)  Then we can have R functions as vectorized
> wrappers for the POSIX functions (not necesarily with these names)

> time (say Sys.date):    date() as a POSIXtime variable.
> localtime / gmtime:     convert POSIXtime to POSIXtm (local TZ/UTC)
> mktime:                 convert POSIXtm to POSIXtime
> strftime:               convert POSIXtm to character string, flexibly.
> difftime:		difference between times in secs.
> 			(The wrappers for the last two could handle
> 			POSIXtime and POSIXtm objects.)

> (Perhaps if these do not exist on a platform (unlikely) we can have
> less accurate alternatives in our code.  They exist on Windows.)

> Possibly we might want to allow

> tzset:		        set a time zone, for the above functions

> or perhaps better just have tz as an argument to the conversion functions.

> Is this is a sensible design strategy?  I am reluctant to add another
> set of date functions after packages date and chron, but cannot see
> how to easily leverage those to do what I need, and in any case POSIX
> has thought this through.

David James and I are currently discussing re-implementing chron, and
among the issues is interfacing ANSI C time & date functions as you
suggested above.  We should also provide strptime() which is not ANSI
but simple to implement without locale support, and maybe possible to
take from glibc otherwise (assuming it is not in the system's libs).

(Btw, why POSIX?  K&R gave me the feeling that the above is all ANSI.)

I will cc David on this.  The R list (corresponding to struct tm) could
as well be the basic representation of a chron object ...

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Prof Brian Ripley <ripley@stats.ox.ac.uk>  Thu Jul 20 12:29:53 2000
From: Prof Brian Ripley <ripley@stats.ox.ac.uk> (Prof Brian Ripley)
Date: Thu, 20 Jul 2000 12:29:53 +0100 (BST)
Subject: [Rd] RFC: System and time support functions in R
Message-ID: <200007201129.MAA07463@toucan.stats.ox.ac.uk>


> From: Kurt Hornik <Kurt.Hornik@ci.tuwien.ac.at>
> Date: Thu, 20 Jul 2000 13:17:35 +0200 (CEST)
> 
> >>>>> Prof Brian D Ripley writes:
> 
> > I've been looking over system utility functions that we might want to
> > add to R.  A few come out of specific needs, others from looking at
> > other systems and what people are using system() for.  I've taken
> > account of Paul Gilbert's comments posted here a while ago (and I
> > think covered all except the use of mailers).
> 
> > ...
> 
> > The other main area that needs something more is date/times.  For the
> > moment file.info returns times as days/fractional days since 1 Jan
> > 1970, which chron() can interpret.  But that is not *quite* correct,
> > as not all days are the same length due to the (rare) use of
> > leap-seconds.  And chron does not know about timezones.
> 
> > My suggestion here is to implement a time class called POSIXtime which is
> > just POSIX's time_t. (Number of seconds since 1 Jan 1970.) And another time
> > class POSIXtm which is an R list giving a struct tm (secs, mins, hours, day
> > of month, month, year, day of week, day of year).  (I think it also needs
> > to record the timezone used.)  Then we can have R functions as vectorized
> > wrappers for the POSIX functions (not necesarily with these names)
> 
> > time (say Sys.date):    date() as a POSIXtime variable.
> > localtime / gmtime:     convert POSIXtime to POSIXtm (local TZ/UTC)
> > mktime:                 convert POSIXtm to POSIXtime
> > strftime:               convert POSIXtm to character string, flexibly.
> > difftime:		difference between times in secs.
> > 			(The wrappers for the last two could handle
> > 			POSIXtime and POSIXtm objects.)
> 
> > (Perhaps if these do not exist on a platform (unlikely) we can have
> > less accurate alternatives in our code.  They exist on Windows.)
> 
> > Possibly we might want to allow
> 
> > tzset:		        set a time zone, for the above functions
> 
> > or perhaps better just have tz as an argument to the conversion functions.
> 
> > Is this is a sensible design strategy?  I am reluctant to add another
> > set of date functions after packages date and chron, but cannot see
> > how to easily leverage those to do what I need, and in any case POSIX
> > has thought this through.
> 
> David James and I are currently discussing re-implementing chron, and
> among the issues is interfacing ANSI C time & date functions as you
> suggested above.  We should also provide strptime() which is not ANSI
> but simple to implement without locale support, and maybe possible to
> take from glibc otherwise (assuming it is not in the system's libs).
> 
> (Btw, why POSIX?  K&R gave me the feeling that the above is all ANSI.)

ISO C (aka ANSI C) has time_t, but no guarantee that it is seconds past
1/1/1970.  POSIX in general tightens up the definitions considerably.

> I will cc David on this.  The R list (corresponding to struct tm) could
> as well be the basic representation of a chron object ...

I would be very happy for someone else to do this as part of chron (say),
*but* I do think at least the basic stuff should be in base R 1.2.x.
(Not even in package chron bundled with R.)   That way we can use
this for calendar and file dates.

If we go for the R list I think we do need to record the timezone in the
list (POSIX does not).

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Jul 20 14:24:33 2000
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 20 Jul 2000 15:24:33 +0200 (CEST)
Subject: [Rd] RFC: System and time support functions in R
In-Reply-To: <200007201129.MAA07463@toucan.stats.ox.ac.uk>
References: <200007201129.MAA07463@toucan.stats.ox.ac.uk>
Message-ID: <14710.64913.518014.831839@gargle.gargle.HOWL>

>>>>> "BDR" == Prof Brian Ripley <ripley@stats.ox.ac.uk> writes:

    >> From: Kurt Hornik <Kurt.Hornik@ci.tuwien.ac.at>
    >> Date: Thu, 20 Jul 2000 13:17:35 +0200 (CEST)
    >> 
    >> >>>>> Prof Brian D Ripley writes:
    >> 
    >> > I've been looking over system utility functions that we might want to
    >> > add to R.  A few come out of specific needs, others from looking at
    >> > other systems and what people are using system() for.  I've taken
    >> > account of Paul Gilbert's comments posted here a while ago (and I
    >> > think covered all except the use of mailers).
    >> 
    >> > ...
    >> 
    >> > The other main area that needs something more is date/times.  For the
    >> > moment file.info returns times as days/fractional days since 1 Jan
    >> > 1970, which chron() can interpret.  But that is not *quite* correct,
    >> > as not all days are the same length due to the (rare) use of
    >> > leap-seconds.  And chron does not know about timezones.
    >> 
    >> > My suggestion here is to implement a time class called POSIXtime
    >> > which is just POSIX's time_t. (Number of seconds since 1 Jan
    >> > 1970.) And another time class POSIXtm which is an R list giving a
    >> > struct tm (secs, mins, hours, day of month, month, year, day of
    >> > week, day of year).  (I think it also needs to record the timezone
    >> > used.)  Then we can have R functions as vectorized wrappers for
    >> > the POSIX functions (not necesarily with these names)
    >> 
    >> > time (say Sys.date):    date() as a POSIXtime variable.
    >> > localtime / gmtime:     convert POSIXtime to POSIXtm (local TZ/UTC)
    >> > mktime:                 convert POSIXtm to POSIXtime
    >> > strftime:               convert POSIXtm to character string, flexibly.
    >> > difftime:		difference between times in secs.
    >> > 			(The wrappers for the last two could handle
    >> > 			POSIXtime and POSIXtm objects.)
    >> 
    >> > (Perhaps if these do not exist on a platform (unlikely) we can have
    >> > less accurate alternatives in our code.  They exist on Windows.)
    >> 
    >> > Possibly we might want to allow
    >> 
    >> > tzset:		        set a time zone, for the above functions
    >> 
    >> > or perhaps better just have tz as an argument to the conversion
    >> > functions.
    >> 
    >> > Is this is a sensible design strategy?  I am reluctant to add another
    >> > set of date functions after packages date and chron, but cannot see
    >> > how to easily leverage those to do what I need, and in any case POSIX
    >> > has thought this through.
    >> 
    >> David James and I are currently discussing re-implementing chron, and
    >> among the issues is interfacing ANSI C time & date functions as you
    >> suggested above.  We should also provide strptime() which is not ANSI
    >> but simple to implement without locale support, and maybe possible to
    >> take from glibc otherwise (assuming it is not in the system's libs).
    >> 
    >> (Btw, why POSIX?  K&R gave me the feeling that the above is all ANSI.)

(thank you for getting this going;  I agree that it'd make sense to have
the basic class (& basic methods) as part of "base R".

    BDR> ISO C (aka ANSI C) has time_t, but no guarantee that it is seconds past
    BDR> 1/1/1970.  POSIX in general tightens up the definitions considerably.

Most you probably know this, .. but
since there's the "unix millenium bug" aka "C millenium bug",
POSIX or it's successor will have to extend/change the definition of time_t
to use 64bit integers (or something else) instead of (32-bit) long int as
it is now, since time will overflow some time in 2038 (?).
Our structure should make sure to accomodate more than only about 2^31
seconds since 1970-Jan-01.

chron() even now uses double which should be okay, even if we'd go down to
parts of seconds -- something we might consider.  
How are financial "tick data" recorded nowadays (and in five years from now) ??

    >> I will cc David on this.  The R list (corresponding to struct tm) could
    >> as well be the basic representation of a chron object ...

    BDR> I would be very happy for someone else to do this as part of chron (say),
    BDR> *but* I do think at least the basic stuff should be in base R 1.2.x.
    BDR> (Not even in package chron bundled with R.)   That way we can use
    BDR> this for calendar and file dates.

    BDR> If we go for the R list I think we do need to record the timezone
    BDR> in the list (POSIX does not).
yes!
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Prof Brian Ripley <ripley@stats.ox.ac.uk>  Thu Jul 20 14:33:51 2000
From: Prof Brian Ripley <ripley@stats.ox.ac.uk> (Prof Brian Ripley)
Date: Thu, 20 Jul 2000 14:33:51 +0100 (BST)
Subject: [Rd] RFC: System and time support functions in R
Message-ID: <200007201333.OAA24589@toucan.stats.ox.ac.uk>

> From: Martin Maechler <maechler@stat.math.ethz.ch>
> Date: Thu, 20 Jul 2000 15:24:33 +0200 (CEST)
> To: Prof Brian Ripley <ripley@stats.ox.ac.uk>

>     BDR> ISO C (aka ANSI C) has time_t, but no guarantee that it is seconds 
past
>     BDR> 1/1/1970.  POSIX in general tightens up the definitions considerably.
> 
> Most you probably know this, .. but
> since there's the "unix millenium bug" aka "C millenium bug",
> POSIX or it's successor will have to extend/change the definition of time_t
> to use 64bit integers (or something else) instead of (32-bit) long int as
> it is now, since time will overflow some time in 2038 (?).
> Our structure should make sure to accomodate more than only about 2^31
> seconds since 1970-Jan-01.

Nothing in POSIX that I know of says time_t has to be an signed 32-bit int,
and some systems use long (64-bit) or double or long double already,
my book says.  There is already a problem with 32-bit ints in only
going back to the early years of this century.

This is an argument against making use of the system conversion
functions for a chron replacement, and I think that what I called
POSIXtm (an list) is a more general format.

> chron() even now uses double which should be okay, even if we'd go down to
> parts of seconds -- something we might consider.

I intended to use double in R to store time_t.  (Yes, I know file.info
does not currently, but what is there is a place holder.)

> How are financial "tick data" recorded nowadays (and in five years from now)

To one second, those that I have used.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pd@blueberry.kubism.ku.dk  Fri Jul 21 06:15:05 2000
From: pd@blueberry.kubism.ku.dk (Peter Dalgaard BSA)
Date: Fri, 21 Jul 2000 07:15:05 +0200
Subject: [Rd] Bug list summary (automatic post)
Message-ID: <200007210515.HAA13968@blueberry.kubism.ku.dk>

=================================================
This is an automated summary of the status of the R-bugs
repository.

Note that this may be neither complete nor perfectly
correct at any given instance: Not all bugs are reported,
and some reported bugs may have been fixed, but the
repository not yet updated.

Some bug fixes are difficult to verify because they pertain
to specific hardware or operating system versions. If you
have information to contribute, please do so.

If you happen to know how to fix a problem please send
patches to the bug repository, too.

New bugs are reported either through the web
interface at r-bugs.biostat.ku.dk or via email to
r-bugs@biostat.ku.dk. The bug.report() function can be
used to automate parts of the procedure on many systems.
Followups on older bugs can be done by including the string
"(PR#999)" in the Subject of an email (change 999 to the
actual reference number, of course!).
=================================================

Directory:  Accuracy

* PR# 594 *
Subject: svd() (Linpack) problems/bug for ill-conditioned matrices
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Wed, 5 Jul 2000 18:32:01 +0200 (CEST)

Directory:  Add-ons

* PR# 567 *
Subject: ctest not works
From: George Diniz <george@cpqam.fiocruz.br>
Date: Sun, 12 Mar 2000 12:03:45 -0200
--possibly the RH6.2 Fortran bug
* PR# 503 *
Subject: dmvnorm() bug in e1071
From: "Gregory R. Warnes" <warnes@biostat.washington.edu>
Date: Fri, 24 Mar 2000 03:24:45 +0000 (GMT)
* PR# 496 *
From: bonneau@epi.roazhon.inra.fr (en148)
Date: Tue, 21 Mar 2000 10:57:13 +0100 (MET)
--base R has no est.variogram function.
--This appears to be a bug report on sgeostat.

Directory:  Analyses

* PR# 582 *
Subject: lm.{w}fit(x,y,*) : fails when x has no column names
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Mon, 26 Jun 2000 15:50:58 +0200 (CEST)
--fixed in "R-(release-)patched, i.e., for 1.1.1

Directory:  Documentation

* PR# 581 *
Subject: help screens: typos, suggestions
From: Rashid Nassar <rnassar@duke.edu>
Date: Sun, 25 Jun 2000 15:59:57 -0400 (EDT)
--fixed in R-(release-)patched, i.e., for 1.1.1                                   
--    1.1

Directory:  Graphics

* PR# 603 *
Subject: pairs(), "cex" argument has no effect
From: Rashid Nassar <rnassar@duke.edu>
Date: Wed, 12 Jul 2000 19:08:11 -0400 (EDT)
* PR# 565 *
Subject: Postscript device ignores title if it is too long.
From: Stephen Eglen <stephen@anc.ed.ac.uk>
Date: Fri, 9 Jun 2000 09:17:09 +0100 (BST)
--documentation point was fixed for 1.1.0
* PR# 202 *
Subject: persp box occlusion bug
From: wsi@gcal.ac.uk
Date: Wed, 2 Jun 1999 15:02:03 +0200 (MET DST)
--The persp algorithm does not apply the occlusion rules to the frame, 
--which is always plotted first. 
--A bug, but not very simple to fix.
* PR# 584 *
Subject: par(lty = "1") -- lty storage-etc bug
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Tue, 27 Jun 2000 09:11:36 +0200 (CEST)
* PR# 580 *
Subject: dotplot() colors reversed
From: Rashid Nassar <rnassar@duke.edu>
Date: Sun, 25 Jun 2000 15:36:00 -0400 (EDT)

Directory:  In-Out

none

Directory:  Installation

* PR# 597 *
Subject: multiply defined symbols
From: plucas@csd.abdn.ac.uk
Date: Fri, 7 Jul 2000 12:23:44 +0200 (MET DST)
--Probably system-specific due to use of fort77
* PR# 467 *
Subject: Re: [R] Re: R-1.0.0 is released
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 01 Mar 2000 20:26:40 +0100
--followup to PR#466
* PR# 466 *
Subject: Re: R-1.0.0 is released
From: bhoel@server.python.net (Berthold=?iso-8859-1?q?_H=F6llmann?=)
Date: 01 Mar 2000 16:00:54 +0100
* PR# 571 *
Subject:  Missing -lc for compilation on AIX (R 1.1.0) 
From: Thomas Vogels <tov@infiniti.ece.cmu.edu>
Date: Thu, 15 Jun 2000 13:42:50 -0400
* PR# 485 *
Subject: Install R1.0.0
From: Lynn Zhang <lyzhang@umich.edu>
Date: Mon, 13 Mar 2000 16:10:52 -0500 (EST)

Directory:  Language

* PR# 589 *
Subject: Bug with lists and expressions
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Tue, 04 Jul 2000 02:26:41 GMT
* PR# 412 *
Subject: anomalies with call objects
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 06 Feb 2000 01:18:50 +0100
* PR# 408 *
Subject: convolution bug
From: wsimpson@gcal.ac.uk
Date: Fri, 28 Jan 2000 11:17:36 +0100 (MET)
* PR# 587 *
Subject: dim(a <- ...) sets invisible flag erronously
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Fri, 30 Jun 2000 20:15:59 +0200 (MET DST)
--Not specific to dim: R differs from S for most functions here.
* PR# 576 *
Subject:  exists() and the mode argument 
From: J.C.Rougier@durham.ac.uk
Date: Tue, 20 Jun 2000 12:03:36 +0100 (BST)

Directory:  Low-level

* PR# 608 *
Subject: seg.fault in eval.c
From: Adrian Vance Custer <acuster@nopause.berkeley.edu>
Date: Sat, 15 Jul 2000 01:22:23 -0700
* PR# 536 *
Subject: Problem with match.arg()
From: kjetikj@astro.uio.no
Date: Sun, 7 May 2000 13:58:21 +0200 (MET DST)
--1.0.0 bug fixed for 1.0.1 ??
* PR# 505 *
Subject: interrupted save 
From: Thomas Lumley <thomas@biostat.washington.edu>
Date: Sat, 25 Mar 2000 12:16:50 -0800 (PST)
* PR# 551 *
Subject: Bus Error crash
From: kjetikj@astro.uio.no
Date: Mon, 22 May 2000 13:06:48 +0200 (MET DST)
--- ??? -- not (yet) reproducible with small examples
--- after load()ing large objects
--- on two different DEC alpha versions
* PR# 545 *
Subject: Segmentation Fault of unknown cause
From: kjetikj@astro.uio.no
Date: Mon, 15 May 2000 16:29:29 +0200 (MET DST)

Directory:  Misc

none

Directory:  Models

* PR# 600 *
Subject: Faulty handling of aliasing in predict.lm; wrong constant
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Wed, 12 Jul 2000 14:46:56 +1000

Directory:  Startup

* PR# 486 *
Subject: Re: autoload error in profile {was anova-bug in R-version  1.0.0?}
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Tue, 14 Mar 2000 10:32:43 +0100 (MET)
--workaround to the origin problem in 1.0.1
--New report: try does not work from the profile.

Directory:  System-specific

* PR# 592 *
Subject: tseries bug
From: przemat@itti.com.pl
Date: Tue, 4 Jul 2000 14:52:17 +0200 (MET DST)
* PR# 490 *
Subject: R-1.0.0 on alpha/osf1 memory glitch
From: Ray Brownrigg <Ray.Brownrigg@mcs.vuw.ac.nz>
Date: Fri, 17 Mar 2000 11:25:30 +1300 (NZDT)
* PR# 452 *
Subject: problem with glm
From: Brad McNeney <mcneney@cs.sfu.ca>
Date: Fri, 18 Feb 2000 17:51:54 -0800 (PST)
--Problems on Alpha's with glm. Status unclear
* PR# 533 *
Subject: acepack, akima and tripack will not load 
From: mallen@tntech.edu
Date: Thu, 4 May 2000 19:18:59 +0200 (MET DST)
--related to PR#521: probably compiler-specific
* PR# 521 *
Subject: akima core dumps on loading
From: santini@dsi.unimi.it
Date: Mon, 17 Apr 2000 11:30:41 +0200 (MET DST)
--Probably compiler-specific
* PR# 547 *
Subject: system(.., ignore.stderr = TRUE)  problem on Solaris
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Fri, 19 May 2000 21:12:02 +0200 (CEST)
--redirection of stderr to /dev/null in system occurs before the command
--is tried on some systems and after on others.
* PR# 537 *
Subject: eigen broken on AIX with R-devel?
From: Thomas J Vogels <tov@ece.cmu.edu>
Date: 08 May 2000 12:01:04 -0400
--AIX, probably compiler-specific
* PR# 534 *
Subject: wsfe bug report just made
From: mallen@tntech.edu
Date: Thu, 4 May 2000 19:20:35 +0200 (MET DST)
--follow up to PR#533

Directory:  TooMuchAtOnce

* PR# 532 *
Subject: Bug report -- 1.0.1, HP-UX
From: Russ Lenth <russell-lenth@uiowa.edu>
Date: Wed, 03 May 2000 12:15:26 -0500
--1) is a user error.
--2) command-line history has no information
--3) help.start looks like a permissions problem. 

Directory:  Windows

none

Directory:  incoming

* PR# 612 *
Subject:  Installing R-1.1.0 
From: Berwin Turlach <berwin@maths.uwa.edu.au>
Date: Thu, 20 Jul 2000 14:50:21 +0800
* PR# 611 *
Subject: bug in loess
From: hdrees@statlab.uni-heidelberg.de
Date: Wed, 19 Jul 2000 17:47:04 +0200 (MET DST)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Jul 21 06:23:47 2000
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 21 Jul 2000 06:23:47 +0100 (BST)
Subject: [Rd] Installing R-1.1.0 (PR#612)
In-Reply-To: <200007200651.IAA10988@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.05.10007210617470.4284-100000@auk.stats>

Berwin,

i686-pc-linux-gnu is a widely used and tested platform for R, and
we know that 1.1.0 and the latest patched version both pass `make check'
on a Debian distribution (2.2?) and RedHat 6.0 and (RedHat 6.2
with gcc-2.95.2) and various others.

This suggests that the problem is specific to your Linux installation,
so can you give us more details please?

On Thu, 20 Jul 2000 berwin@maths.uwa.edu.au wrote:

> Dear R-developers,
> 
> I finally got around to install R 1.1.0 but had problems at the `make
> check' stage.
> 
> After compiling the released R 1.1.0 version the `make check' stage
> stopped while checking the examples in base.  There was some problem
> with the quantile function and the check stopped complaining that NA's
> are not allowed.
> 
> But I assume that this problem is already known because `make check'
> passed this point after I applied the latest patches and recompiled
> R.  However `make check' still chokes on base and on mva.  The last
> lines in base-Ex.Rout are:
> 
> > x <- 0:15
> > size <- (1:20)/4
> > persp(x,size, dnb <- outer(x,size,function(x,s)dnbinom(x,s, pr= 0.4)),
> +       xlab = "x", ylab = "s", zlab="density", theta = 150)
> > title(tit <- "negative binomial density(x,s, pr = 0.4)  vs.  x & s")
> > 
> > image  (x,size, log10(dnb), main= paste("log [",tit,"]"))
> Error in hsv(h, s, v, gamma) : invalid HSV color
> Execution halted
> 
> And the last lines in mva-Ex.Rout are:
> 
> > prcomp(USArrests, scale = TRUE)
> Standard deviations:
> [1] 1.5748783 0.9948694 0.5971291 0.4164494
> 
> Rotation:
>                 PC1        PC2        PC3         PC4
> Murder   -0.5358995 -0.4181809  0.3412327 -0.64922780
> Assault  -0.5831836 -0.1879856  0.2681484  0.74340748
> UrbanPop -0.2781909  0.8728062  0.3780158 -0.13387773
> Rape     -0.5434321  0.1673186 -0.8177779 -0.08902432
> > plot(prcomp(USArrests))
> Error in hsv(h, s, v, gamma) : invalid HSV color
> Execution halted
> 
> Any idea how I could get around this problem?  I presume that this
> problem has to do with the number of available colors?  (For me, HSV
> means "Hamburger Sport Verein", a German soccer club ;-)) ). 

Look at ?hsv for the interpretation.  As I understand it hsv is a variant
on hsb.

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From berwin@maths.uwa.edu.au  Fri Jul 21 11:06:38 2000
From: berwin@maths.uwa.edu.au (Berwin Turlach)
Date: Fri, 21 Jul 2000 18:06:38 +0800 (WST)
Subject: [Rd] Installing R-1.1.0 (PR#612)
In-Reply-To: <Pine.GSO.4.05.10007210617470.4284-100000@auk.stats>
References: <200007200651.IAA10988@pubhealth.ku.dk>
 <Pine.GSO.4.05.10007210617470.4284-100000@auk.stats>
Message-ID: <14712.8366.469912.970376@bossiaea.maths.uwa.edu.au>

Dear Brian,

>>>>> "BDR" == Prof Brian D Ripley <ripley@stats.ox.ac.uk> writes:

  BDR> i686-pc-linux-gnu is a widely used and tested platform for R,
  BDR> and we know that 1.1.0 and the latest patched version both pass
  BDR> `make check' on a Debian distribution (2.2?) and RedHat 6.0 and
  BDR> (RedHat 6.2 with gcc-2.95.2) and various others.

  BDR> This suggests that the problem is specific to your Linux
  BDR> installation, so can you give us more details please?
Sure. 

At the end of ./configure in the unpacked R-1.1.0 directory I get:

    R is now configured for i686-pc-linux-gnu
    
      Source directory:         .
      Installation directory:   /usr/local.own
      C compiler:               gcc  -mieee-fp -D__NO_MATH_INLINES -g -O2
      FORTRAN compiler:         g77  -g -O2
      X11 support:              yes
      Gnome support:            no
      Tcl/Tk support:           yes

I append below the config.cache that is created.

My system is essentially a RedHat 6.0 with a 2.2.10 kernel.

I am using the Pentium GCC (http://www.goof.com/pcg/)

    bossiaea:/opt/R/R-1.1.0$ which gcc
    /usr/local.own/bin/gcc
    bossiaea:/opt/R/R-1.1.0$ gcc --version
    pgcc-2.91.60

(Perhaps this one could be updated.)

My computer has a S3 Trio3d graphics card and I could never get it to
work properly with any of the drivers from XFree86.  Instead I am
using a frame buffer device.  I am using the AnotherLevel
configuration of FVWM2 as my window environemnt.  When I query the
system about FVWM I get:

    Serverhost=bossiaea, Clienthost=bossiaea
    Hostname=bossiaea, Ostype=Linux, User=berwin
    Version=11, Revision=6
    Vendor=The XFree86 Project, Inc, Release=3330
    Width=1024, Height=768
    X_Resolution=2951, Y_Resolution=2954
    Planes=8, Class=PseudoColor, Color=Yes
    Fvwm_Version=2.2, Options=SHAPE XPM M4
    Fvwmdir=/usr/X11R6/lib/X11/fvwm2

I have XFree86 3.3.5 installed, so this could perhaps be updated too.

    bossiaea:/opt/R/R-1.1.0$ rpm -aq | grep -i xfree
    XFree86-VGA16-3.3.5-1.6.0
    XFree86-S3V-3.3.5-1.6.0
    XFree86-xfs-3.3.5-1.6.0
    XFree86-S3-3.3.5-1.6.0
    XFree86-75dpi-fonts-3.3.5-1.6.0
    XFree86-libs-3.3.5-1.6.0
    XFree86-100dpi-fonts-3.3.5-1.6.0
    XFree86-SVGA-3.3.5-1.6.0
    XFree86-FBDev-3.3.3.1-49
    XFree86-3.3.5-1.6.0
    XFree86-devel-3.3.5-1.6.0

Any other information that could be helpful?

Cheers,

        Berwin

+++++++++++++++++++++++++ config.cache +++++++++++++++++++++++++
# This file is a shell script that caches the results of configure
# tests run on this system so they can be shared between configure
# scripts and configure runs.  It is not useful on other systems.
# If it contains results you don't want to keep, you may remove or edit it.
#
# By default, configure uses ./config.cache as the cache file,
# creating it if it does not exist already.  You can give configure
# the --cache-file=FILE option to use a different cache file; that is
# what configure does when it calls configure scripts in
# subdirectories, so they share the cache.
# Giving --cache-file=/dev/null disables caching, for debugging configure.
# config.status only pays attention to the cache file if you give it the
# --recheck option to rerun configure.
#
ac_cv_c_bigendian=${ac_cv_c_bigendian='no'}
ac_cv_c_const=${ac_cv_c_const='yes'}
ac_cv_flibs=${ac_cv_flibs=' -lg2c -lm -L/usr/local.own/share/icon.9.3.1/ilib -L/usr/local.own/lib/gcc-lib/i686-pc-linux-gnu/pgcc-2.91.60 -L/usr/local.own/i686-pc-linux-gnu/lib -L/usr/local.own/lib -lm'}
ac_cv_func___setfpucw=${ac_cv_func___setfpucw='no'}
ac_cv_func_acosh=${ac_cv_func_acosh='yes'}
ac_cv_func_alloca_works=${ac_cv_func_alloca_works='yes'}
ac_cv_func_asinh=${ac_cv_func_asinh='yes'}
ac_cv_func_atanh=${ac_cv_func_atanh='yes'}
ac_cv_func_bcopy=${ac_cv_func_bcopy='yes'}
ac_cv_func_connect=${ac_cv_func_connect='yes'}
ac_cv_func_finite=${ac_cv_func_finite='yes'}
ac_cv_func_getcwd=${ac_cv_func_getcwd='yes'}
ac_cv_func_gethostbyname=${ac_cv_func_gethostbyname='yes'}
ac_cv_func_hypot=${ac_cv_func_hypot='yes'}
ac_cv_func_isnan=${ac_cv_func_isnan='yes'}
ac_cv_func_matherr=${ac_cv_func_matherr='yes'}
ac_cv_func_memcpy=${ac_cv_func_memcpy='yes'}
ac_cv_func_memmove=${ac_cv_func_memmove='yes'}
ac_cv_func_popen=${ac_cv_func_popen='yes'}
ac_cv_func_remove=${ac_cv_func_remove='yes'}
ac_cv_func_rint=${ac_cv_func_rint='yes'}
ac_cv_func_shmat=${ac_cv_func_shmat='yes'}
ac_cv_func_strcoll=${ac_cv_func_strcoll='yes'}
ac_cv_func_strdup=${ac_cv_func_strdup='yes'}
ac_cv_func_system=${ac_cv_func_system='yes'}
ac_cv_func_times=${ac_cv_func_times='yes'}
ac_cv_func_vfork_works=${ac_cv_func_vfork_works='yes'}
ac_cv_func_vprintf=${ac_cv_func_vprintf='yes'}
ac_cv_func_vsnprintf=${ac_cv_func_vsnprintf='yes'}
ac_cv_have_x=${ac_cv_have_x='have_x=yes 		ac_x_includes=/usr/X11R6/include ac_x_libraries=/usr/X11R6/lib'}
ac_cv_header_alloca_h=${ac_cv_header_alloca_h='yes'}
ac_cv_header_dirent_dirent_h=${ac_cv_header_dirent_dirent_h='yes'}
ac_cv_header_dl_h=${ac_cv_header_dl_h='no'}
ac_cv_header_dlfcn_h=${ac_cv_header_dlfcn_h='yes'}
ac_cv_header_elf_h=${ac_cv_header_elf_h='yes'}
ac_cv_header_floatingpoint_h=${ac_cv_header_floatingpoint_h='no'}
ac_cv_header_fpu_control_h=${ac_cv_header_fpu_control_h='yes'}
ac_cv_header_ieee754_h=${ac_cv_header_ieee754_h='yes'}
ac_cv_header_ieeefp_h=${ac_cv_header_ieeefp_h='no'}
ac_cv_header_locale_h=${ac_cv_header_locale_h='yes'}
ac_cv_header_netdb_h=${ac_cv_header_netdb_h='yes'}
ac_cv_header_netinet_in_h=${ac_cv_header_netinet_in_h='yes'}
ac_cv_header_netinet_tcp_h=${ac_cv_header_netinet_tcp_h='yes'}
ac_cv_header_png_h=${ac_cv_header_png_h='yes'}
ac_cv_header_readline_history_h=${ac_cv_header_readline_history_h='yes'}
ac_cv_header_readline_readline_h=${ac_cv_header_readline_readline_h='yes'}
ac_cv_header_rpc_rpc_h=${ac_cv_header_rpc_rpc_h='yes'}
ac_cv_header_rpc_xdr_h=${ac_cv_header_rpc_xdr_h='yes'}
ac_cv_header_stdc=${ac_cv_header_stdc='yes'}
ac_cv_header_string_h=${ac_cv_header_string_h='yes'}
ac_cv_header_sys_param_h=${ac_cv_header_sys_param_h='yes'}
ac_cv_header_sys_socket_h=${ac_cv_header_sys_socket_h='yes'}
ac_cv_header_sys_stat_h=${ac_cv_header_sys_stat_h='yes'}
ac_cv_header_sys_time_h=${ac_cv_header_sys_time_h='yes'}
ac_cv_header_sys_times_h=${ac_cv_header_sys_times_h='yes'}
ac_cv_header_sys_wait_h=${ac_cv_header_sys_wait_h='yes'}
ac_cv_header_time=${ac_cv_header_time='yes'}
ac_cv_header_unistd_h=${ac_cv_header_unistd_h='yes'}
ac_cv_header_vfork_h=${ac_cv_header_vfork_h='no'}
ac_cv_lib_ICE_IceConnectionNumber=${ac_cv_lib_ICE_IceConnectionNumber='yes'}
ac_cv_lib_atlas_ATL_xerbla=${ac_cv_lib_atlas_ATL_xerbla='no'}
ac_cv_lib_blas_dgemm_=${ac_cv_lib_blas_dgemm_='no'}
ac_cv_lib_dir_opendir=${ac_cv_lib_dir_opendir='no'}
ac_cv_lib_dl_dlopen=${ac_cv_lib_dl_dlopen='yes'}
ac_cv_lib_dnet_dnet_ntoa=${ac_cv_lib_dnet_dnet_ntoa='no'}
ac_cv_lib_dnet_stub_dnet_ntoa=${ac_cv_lib_dnet_stub_dnet_ntoa='no'}
ac_cv_lib_dxml_dgemm_=${ac_cv_lib_dxml_dgemm_='no'}
ac_cv_lib_jpeg_jpeg_destroy_compress=${ac_cv_lib_jpeg_jpeg_destroy_compress='yes'}
ac_cv_lib_m_sin=${ac_cv_lib_m_sin='yes'}
ac_cv_lib_moto_sin=${ac_cv_lib_moto_sin='no'}
ac_cv_lib_ncurses_main=${ac_cv_lib_ncurses_main='yes'}
ac_cv_lib_png_png_create_write_struct=${ac_cv_lib_png_png_create_write_struct='yes'}
ac_cv_lib_readline_rl_callback_read_char=${ac_cv_lib_readline_rl_callback_read_char='yes'}
ac_cv_lib_tcl_Tcl_CreateInterp=${ac_cv_lib_tcl_Tcl_CreateInterp='yes'}
ac_cv_lib_tk_Tk_Init=${ac_cv_lib_tk_Tk_Init='yes'}
ac_cv_lib_z_main=${ac_cv_lib_z_main='yes'}
ac_cv_path_DVIPS=${ac_cv_path_DVIPS='/usr/bin/dvips'}
ac_cv_path_F77=${ac_cv_path_F77='/usr/local.own/bin/g77'}
ac_cv_path_LATEX=${ac_cv_path_LATEX='/usr/bin/latex'}
ac_cv_path_MAKEINDEX=${ac_cv_path_MAKEINDEX='/usr/bin/makeindex'}
ac_cv_path_MAKEINFO=${ac_cv_path_MAKEINFO='/usr/bin/makeinfo'}
ac_cv_path_PAPERCONF=${ac_cv_path_PAPERCONF='false'}
ac_cv_path_PDFLATEX=${ac_cv_path_PDFLATEX='/usr/bin/pdflatex'}
ac_cv_path_PDFTEX=${ac_cv_path_PDFTEX='/usr/bin/pdftex'}
ac_cv_path_PERL=${ac_cv_path_PERL='/usr/bin/perl'}
ac_cv_path_R_UNZIPCMD=${ac_cv_path_R_UNZIPCMD='/usr/bin/unzip'}
ac_cv_path_R_ZIPCMD=${ac_cv_path_R_ZIPCMD='/usr/bin/zip'}
ac_cv_path_TEX=${ac_cv_path_TEX='/usr/bin/tex'}
ac_cv_path_XMKMF=${ac_cv_path_XMKMF='/usr/X11R6/bin/xmkmf'}
ac_cv_path_install=${ac_cv_path_install='/usr/bin/install -c'}
ac_cv_prog_AR=${ac_cv_prog_AR='ar'}
ac_cv_prog_AWK=${ac_cv_prog_AWK='gawk'}
ac_cv_prog_CC=${ac_cv_prog_CC='gcc'}
ac_cv_prog_CPP=${ac_cv_prog_CPP='gcc -E'}
ac_cv_prog_CXX=${ac_cv_prog_CXX='c++'}
ac_cv_prog_CXXCPP=${ac_cv_prog_CXXCPP='c++ -E'}
ac_cv_prog_LN_S=${ac_cv_prog_LN_S='ln -s'}
ac_cv_prog_RANLIB=${ac_cv_prog_RANLIB='ranlib'}
ac_cv_prog_R_PRINTCMD=${ac_cv_prog_R_PRINTCMD='lpr'}
ac_cv_prog_YACC=${ac_cv_prog_YACC='bison -y'}
ac_cv_prog_cc_cross=${ac_cv_prog_cc_cross='no'}
ac_cv_prog_cc_g=${ac_cv_prog_cc_g='yes'}
ac_cv_prog_cc_works=${ac_cv_prog_cc_works='yes'}
ac_cv_prog_cxx_cross=${ac_cv_prog_cxx_cross='no'}
ac_cv_prog_cxx_g=${ac_cv_prog_cxx_g='yes'}
ac_cv_prog_cxx_works=${ac_cv_prog_cxx_works='yes'}
ac_cv_prog_f77_cross=${ac_cv_prog_f77_cross='no'}
ac_cv_prog_f77_g=${ac_cv_prog_f77_g='yes'}
ac_cv_prog_f77_works=${ac_cv_prog_f77_works='yes'}
ac_cv_prog_g77=${ac_cv_prog_g77='yes'}
ac_cv_prog_gcc=${ac_cv_prog_gcc='yes'}
ac_cv_prog_gcc_traditional=${ac_cv_prog_gcc_traditional='no'}
ac_cv_prog_gxx=${ac_cv_prog_gxx='yes'}
ac_cv_sizeof_long=${ac_cv_sizeof_long='4'}
ac_cv_type_blkcnt_t=${ac_cv_type_blkcnt_t='yes'}
ac_cv_type_pid_t=${ac_cv_type_pid_t='yes'}
ac_cv_type_signal=${ac_cv_type_signal='void'}
ac_cv_type_size_t=${ac_cv_type_size_t='yes'}
r_cv_func_calloc_broken=${r_cv_func_calloc_broken='no'}
r_cv_func_finite_broken=${r_cv_func_finite_broken='no'}
r_cv_func_log_broken=${r_cv_func_log_broken='no'}
r_cv_header_setjmp_posix=${r_cv_header_setjmp_posix='yes'}
r_cv_prog_cc_flag__mieee_fp=${r_cv_prog_cc_flag__mieee_fp='yes'}
r_cv_prog_cc_m=${r_cv_prog_cc_m='yes'}
r_cv_prog_cxx_flag__mieee_fp=${r_cv_prog_cxx_flag__mieee_fp='yes'}
r_cv_prog_f77_append_underscore=${r_cv_prog_f77_append_underscore='yes'}
r_cv_prog_f77_cc_compat=${r_cv_prog_f77_cc_compat='yes'}
r_cv_prog_makeinfo_v4=${r_cv_prog_makeinfo_v4='yes'}
r_cv_prog_perl_v5=${r_cv_prog_perl_v5='yes'}

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Jul 21 11:32:43 2000
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 21 Jul 2000 11:32:43 +0100 (BST)
Subject: [Rd] Installing R-1.1.0 (PR#612)
In-Reply-To: <14712.8366.469912.970376@bossiaea.maths.uwa.edu.au>
Message-ID: <Pine.GSO.4.05.10007211128590.19846-100000@auk.stats>

On Fri, 21 Jul 2000, Berwin Turlach wrote:

> Dear Brian,
> 
> >>>>> "BDR" == Prof Brian D Ripley <ripley@stats.ox.ac.uk> writes:
> 
>   BDR> i686-pc-linux-gnu is a widely used and tested platform for R,
>   BDR> and we know that 1.1.0 and the latest patched version both pass
>   BDR> `make check' on a Debian distribution (2.2?) and RedHat 6.0 and
>   BDR> (RedHat 6.2 with gcc-2.95.2) and various others.
> 
>   BDR> This suggests that the problem is specific to your Linux
>   BDR> installation, so can you give us more details please?
> Sure. 
> 
> At the end of ./configure in the unpacked R-1.1.0 directory I get:
> 
>     R is now configured for i686-pc-linux-gnu
>     
>       Source directory:         .
>       Installation directory:   /usr/local.own
>       C compiler:               gcc  -mieee-fp -D__NO_MATH_INLINES -g -O2
>       FORTRAN compiler:         g77  -g -O2
>       X11 support:              yes
>       Gnome support:            no
>       Tcl/Tk support:           yes
> 
> I append below the config.cache that is created.
> 
> My system is essentially a RedHat 6.0 with a 2.2.10 kernel.
> 
> I am using the Pentium GCC (http://www.goof.com/pcg/)
> 
>     bossiaea:/opt/R/R-1.1.0$ which gcc
>     /usr/local.own/bin/gcc
>     bossiaea:/opt/R/R-1.1.0$ gcc --version
>     pgcc-2.91.60

I suspect a bug in that compiler, as you had problems with NAs,
and that is the only thing that seems different from known working setups.
My suggestion would be to use gcc-2.95.2, which I compiled from
source and works well for us on RH6.0.  Or even try the compiler
that comes with RH6.0 (egcs-2.91.66, I believe).

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From keitt@nceas.ucsb.edu  Fri Jul 21 19:40:01 2000
From: keitt@nceas.ucsb.edu (Timothy H. Keitt)
Date: Fri, 21 Jul 2000 11:40:01 -0700
Subject: [Rd] save/load hooks
Message-ID: <39789901.6E8B7656@nceas.ucsb.edu>

I'd like to suggest a small feature be added to R.  It would be nice if
"load" and "save" had function hooks for object initialization and
finalization, e.g.,

	load.hook <- function(x) UseMethod("load.hook")
	save.hook <- function(x) UseMethod("save.hook")

These would then be called on each object saved or loaded.  The default
method would do nothing.   This would allow saved objects to
reinitialize their state when loaded.

Cheers,
Tim

-- 
Timothy H. Keitt
National Center for Ecological Analysis and Synthesis
735 State Street, Suite 300, Santa Barbara, CA 93101
Phone: 805-892-2519, FAX: 805-892-2510
http://www.nceas.ucsb.edu/~keitt/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Jul 21 20:07:22 2000
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 21 Jul 2000 20:07:22 +0100 (BST)
Subject: [Rd] save/load hooks
In-Reply-To: <39789901.6E8B7656@nceas.ucsb.edu>
Message-ID: <Pine.GSO.4.05.10007211958530.13766-100000@auk.stats>

On Fri, 21 Jul 2000, Timothy H. Keitt wrote:

> I'd like to suggest a small feature be added to R.  It would be nice if
> "load" and "save" had function hooks for object initialization and
> finalization, e.g.,
> 
> 	load.hook <- function(x) UseMethod("load.hook")
> 	save.hook <- function(x) UseMethod("save.hook")
> 
> These would then be called on each object saved or loaded.  The default
> method would do nothing.   This would allow saved objects to
> reinitialize their state when loaded.

R objects contain their complete state as far as R is concerned.  Could you
give us an example of why you want this?  I guess you must have some
non-standard objects in mind, in which case it seems wasteful to do this
for all R objects in a workspace.

Another potential problem on loading is ordering: how do you ensure that
what you want to do is already available?  The workspace is loaded before
any profiles, so only a minimal set of functions is available, excludng any
packages bar base.  And the error handling at that stage is I think
incomplete, given that tey() does not work in profiles.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From albrecht.gebhardt@uni-klu.ac.at  Fri Jul 21 21:08:42 2000
From: albrecht.gebhardt@uni-klu.ac.at (Albrecht Gebhardt)
Date: Fri, 21 Jul 2000 22:08:42 +0200 (MET DST)
Subject: [Rd] Installing R-1.1.0 (PR#612)
In-Reply-To: <Pine.GSO.4.05.10007211128590.19846-100000@auk.stats>
Message-ID: <Pine.OSF.4.21.0007212204490.5343-100000@zidsrv.sci.uni-klu.ac.at>

On Fri, 21 Jul 2000, Prof Brian D Ripley wrote:

> On Fri, 21 Jul 2000, Berwin Turlach wrote:
> 
> > Dear Brian,
> > 
> > >>>>> "BDR" == Prof Brian D Ripley <ripley@stats.ox.ac.uk> writes:
> > 
> >   BDR> i686-pc-linux-gnu is a widely used and tested platform for R,
> >   BDR> and we know that 1.1.0 and the latest patched version both pass
> >   BDR> `make check' on a Debian distribution (2.2?) and RedHat 6.0 and
> >   BDR> (RedHat 6.2 with gcc-2.95.2) and various others.
> > 
> >   BDR> This suggests that the problem is specific to your Linux
> >   BDR> installation, so can you give us more details please?
> > Sure. 
> > 
> > At the end of ./configure in the unpacked R-1.1.0 directory I get:
> > 
> >     R is now configured for i686-pc-linux-gnu
> >     
> >       Source directory:         .
> >       Installation directory:   /usr/local.own
> >       C compiler:               gcc  -mieee-fp -D__NO_MATH_INLINES -g -O2
> >       FORTRAN compiler:         g77  -g -O2
> >       X11 support:              yes
> >       Gnome support:            no
> >       Tcl/Tk support:           yes
> > 
> > I append below the config.cache that is created.
> > 
> > My system is essentially a RedHat 6.0 with a 2.2.10 kernel.
> > 
> > I am using the Pentium GCC (http://www.goof.com/pcg/)
> > 
> >     bossiaea:/opt/R/R-1.1.0$ which gcc
> >     /usr/local.own/bin/gcc
> >     bossiaea:/opt/R/R-1.1.0$ gcc --version
> >     pgcc-2.91.60
> 
> I suspect a bug in that compiler, as you had problems with NAs,
> and that is the only thing that seems different from known working setups.
> My suggestion would be to use gcc-2.95.2, which I compiled from
> source and works well for us on RH6.0.  Or even try the compiler
> that comes with RH6.0 (egcs-2.91.66, I believe).
> 

Choose gcc-2.95.2, egcs causes problems with loading shared objects which  
may result in crashes, at least egcs-1.1.2.

Albrecht

......................................................................
| Albrecht Gebhardt          Tel.: (++43 463) 2700/832               |
| Institut fuer Mathematik   Fax : (++43 463) 2700/834               |
| Universitaet Klagenfurt    mailto:albrecht.gebhardt@uni-klu.ac.at  |
| Villacher Str. 161         http://www-stat.uni-klu.ac.at/~agebhard |
| A-9020 Klagenfurt, Austria                                         |
`--------------------------------------------------------------------'


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sat Jul 22 06:28:16 2000
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 22 Jul 2000 06:28:16 +0100 (BST)
Subject: [Rd] Installing R-1.1.0 (PR#612)
In-Reply-To: <Pine.OSF.4.21.0007212204490.5343-100000@zidsrv.sci.uni-klu.ac.at>
Message-ID: <Pine.GSO.4.05.10007220621200.19360-100000@auk.stats>

[Taken off R-bugs]

On Fri, 21 Jul 2000, Albrecht Gebhardt wrote:

> On Fri, 21 Jul 2000, Prof Brian D Ripley wrote:

[...]

> > I suspect a bug in that compiler, as you had problems with NAs,
> > and that is the only thing that seems different from known working setups.
> > My suggestion would be to use gcc-2.95.2, which I compiled from
> > source and works well for us on RH6.0.  Or even try the compiler
> > that comes with RH6.0 (egcs-2.91.66, I believe).
> > 
> 
> Choose gcc-2.95.2, egcs causes problems with loading shared objects which  
> may result in crashes, at least egcs-1.1.2.

No problems have been found on any of our RH6.0 installations (and
egcs-1.1.2 is egcs-2.91.66 as supplied with that distribution).  That
problem is reported for RH6.>2<, but not 0.

I made the comment in the knowledge that R 1.1.0 does work on a vanilla
RH6.0 installation (with egcs-g77), as until recently that was my Linux
test platform (and I still have access to a dozen such machines).
It provides a known quantity to compare with Berwin's compiler (and
as I compiled gcc-2.95.2 from the sources it is not so precisely known
an option).

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sat Jul 22 06:39:00 2000
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 22 Jul 2000 07:39:00 +0200 (MET DST)
Subject: [Rd] maketitle garbles the title in package nnet (PR#613)
Message-ID: <200007220539.HAA24126@pubhealth.ku.dk>

The TITLE for the nnet package is garbled: it comes out as

nnet            Feed-forward neural networks and multinomial log-linear
nnet            Feed-forward neural networks and multinomial log-linear models

The problem is in maketitle:

auk% cat DESCRIPTION
Bundle: VR
Version: 6.1-9 
Date: 2000/07/11
Depends: R (>= 1.1)
Author: S original by Venables & Ripley.
  R port by Brian Ripley <ripley@stats.ox.ac.uk>, following earlier
  work by Kurt Hornik and Albrecht Gebhardt.
BundleDescription: Various functions from the libraries of Venables and
  Ripley, `Modern Applied Statistics with S-PLUS' (3rd edition).
License: GPL (version 2 or later)
URL: http://www.stats.ox.ac.uk/pub/MASS3/
Package: nnet
Description: Software for feed-forward neural networks with a single
  hidden layer, and for multinomial log-linear models.
Title: Feed-forward neural networks and multinomial log-linear models
auk% /ext/R/R-release/bin/maketitle DESCRIPTION
nnet            Feed-forward neural networks and multinomial log-linear
nnet            Feed-forward neural networks and multinomial log-linear models

which needs an AWK expert to debug.

(This is from Solaris, but it happens on RH6 Linux too.)


--please do not edit the information below--

Version:
 platform = sparc-sun-solaris2.6
 arch = sparc
 os = solaris2.6
 system = sparc, solaris2.6
 status = Patched
 major = 1
 minor = 1.0
 year = 2000
 month = July
 day = 20
 language = R

Search Path:
 .GlobalEnv, Autoloads, package:base

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sat Jul 22 14:30:23 2000
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Jul 2000 15:30:23 +0200
Subject: [Rd] maketitle garbles the title in package nnet (PR#613)
In-Reply-To: ripley@stats.ox.ac.uk's message of "Sat, 22 Jul 2000 07:39:00 +0200 (MET DST)"
References: <200007220539.HAA24126@pubhealth.ku.dk>
Message-ID: <x2em4mqols.fsf@blueberry.kubism.ku.dk>

ripley@stats.ox.ac.uk writes:

> auk% /ext/R/R-release/bin/maketitle DESCRIPTION
> nnet            Feed-forward neural networks and multinomial log-linear
> nnet            Feed-forward neural networks and multinomial log-linear models
> 
> which needs an AWK expert to debug.

Hardly...

Fixed.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Mon Jul 24 20:08:04 2000
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Mon, 24 Jul 2000 15:08:04 -0400
Subject: [Rd] RFC: System and time support functions in R
In-Reply-To: <Pine.GSO.4.05.10007200826030.9485-100000@auk.stats>
References: <Pine.GSO.4.05.10007200826030.9485-100000@auk.stats>
Message-ID: <398391ba.18510913@fisher.stats.uwo.ca>

On Thu, 20 Jul 2000 08:33:01 +0100 (BST), you wrote in message
<Pine.GSO.4.05.10007200826030.9485-100000@auk.stats>:

>I've been looking over system utility functions that we might want to
>add to R.  A few come out of specific needs, others from looking at
>other systems and what people are using system() for.  I've taken
>account of Paul Gilbert's comments posted here a while ago (and I
>think covered all except the use of mailers).
>
>We currently have
>
>date
>*.socket
>file.create
>file.exists
>file.remove
>file.append

Is there any interest in adding binary file access to the base?  I
think it would be really useful, and have put together a prototype
(still for Windows only) that's on my web site at

<http://www.stats.uwo.ca/faculty/murdoch/software/Rstreams.zip>

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kjetilh@umsanet.edu.bo  Mon Jul 24 22:51:12 2000
From: kjetilh@umsanet.edu.bo (kjetilh@umsanet.edu.bo)
Date: Mon, 24 Jul 2000 23:51:12 +0200 (MET DST)
Subject: [Rd] scoping problems (PR#614)
Message-ID: <200007242151.XAA03966@pubhealth.ku.dk>

I am resubmitting this to r-bugs, since Thomas Lumley indicates that it
might be an error:

On Wed, 5 Jul 2000, Thomas Lumley wrote:

> On Wed, 5 Jul 2000, halvorsen wrote:
>
> > Hola!
> >
> > I have the following simple function:
> >
> > > testcar
> > function(pow){
> >            ob <- glm(Pound~CG+Age+Vage,data=car,weights=No,
> >
subset=No>0,family=quasi(link=power(pow),var=mu^2))
> >
> >            deviance(ob)
> > }
> > But trying to run it gives:
> >
> > > testcar(1/2)
> > Error in power(pow) : Object "pow" not found
>
> 'pow' isn't found because quasi() is looking for it in a strange
place.
> Normally you would expect this sort of syntax to work, but the family
> functions do some tricky things to allow you to specify things with or

> without quotes and without or without parentheses.
>
> I suspect this might count as a bug.
>
> In any case, you can fix it by doing
> eval(substitute(glm(Pound~CG+Age+Vage,data=car,weights=No subset=No>0,

> family=quasi(link=power(pow),var=mu^2))))
>

As an additional note. This probably won't work if the argument to
testcar
is a variable.

A more reliable version is
 eval(substitute(glm(Pound~CG+Age+Vage,data=car,weights=No subset=No>0,
 family=quasi(link=power(pow),var=mu^2))),list(pow=pow))

( I moved the ,list argument from "substitute" to "eval" to get it
work.)

Kjetil Halvorsen




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kjetilh@umsanet.edu.bo  Mon Jul 24 23:11:57 2000
From: kjetilh@umsanet.edu.bo (kjetilh@umsanet.edu.bo)
Date: Tue, 25 Jul 2000 00:11:57 +0200 (MET DST)
Subject: [Rd] binomial() (PR#615)
Message-ID: <200007242211.AAA04063@pubhealth.ku.dk>

The binomial function contains the following code fragment (R 1.0.1):

if (any(linktemp == c("logit", "probit", "cloglog", "log")))
        stats <- make.link(linktemp)
    else stop(paste(linktemp, "link not available for binomial",
                    "family, available links are \"logit\", ",
                    "\"probit\" and \"cloglog\""))


and from this it is unclear if "log" is an available link function or
not.


Kjetil Halvorsen


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rgentlem@stat.auckland.ac.nz  Mon Jul 24 23:21:09 2000
From: rgentlem@stat.auckland.ac.nz (Robert Gentleman)
Date: Tue, 25 Jul 2000 10:21:09 +1200
Subject: [Rd] scoping problems (PR#614)
In-Reply-To: <200007242151.XAA03966@pubhealth.ku.dk>; from kjetilh@umsanet.edu.bo on Mon, Jul 24, 2000 at 11:51:12PM +0200
References: <200007242151.XAA03966@pubhealth.ku.dk>
Message-ID: <20000725102109.Z6896@stat1.stat.auckland.ac.nz>

On Mon, Jul 24, 2000 at 11:51:12PM +0200, kjetilh@umsanet.edu.bo wrote:
> I am resubmitting this to r-bugs, since Thomas Lumley indicates that it
> might be an error:
> 
> On Wed, 5 Jul 2000, Thomas Lumley wrote:
> 
> > On Wed, 5 Jul 2000, halvorsen wrote:
> >
> > > Hola!
> > >
> > > I have the following simple function:
> > >
> > > > testcar
> > > function(pow){
> > >            ob <- glm(Pound~CG+Age+Vage,data=car,weights=No,
> > >
> subset=No>0,family=quasi(link=power(pow),var=mu^2))
> > >
> > >            deviance(ob)
> > > }
> > > But trying to run it gives:
> > >
> > > > testcar(1/2)
> > > Error in power(pow) : Object "pow" not found
> >
> > 'pow' isn't found because quasi() is looking for it in a strange
> place.
> > Normally you would expect this sort of syntax to work, but the family
> > functions do some tricky things to allow you to specify things with or
> 
> > without quotes and without or without parentheses.
> >
> > I suspect this might count as a bug.
> >
> > In any case, you can fix it by doing
> > eval(substitute(glm(Pound~CG+Age+Vage,data=car,weights=No subset=No>0,
> 
> > family=quasi(link=power(pow),var=mu^2))))
> >
> 
> As an additional note. This probably won't work if the argument to
> testcar
> is a variable.
> 
> A more reliable version is
>  eval(substitute(glm(Pound~CG+Age+Vage,data=car,weights=No subset=No>0,
>  family=quasi(link=power(pow),var=mu^2))),list(pow=pow))
> 
> ( I moved the ,list argument from "substitute" to "eval" to get it
> work.)
> 
> Kjetil Halvorsen
> 
> 
  The problem is with quasi:
> quasi
function (link = "identity", variance = "constant") 
{
    linktemp <- substitute(link)
    if (is.expression(linktemp)) 
        linktemp <- eval(linktemp)
    if (!is.character(linktemp)) {
        linktemp <- deparse(linktemp)
        if (linktemp == "link") 
            linktemp <- eval(link)
    }
   ...

  Note that neither of the eval's is what is wanted. At this point
  you just want to force the promise, ie evaluate the argument in
  the calling environment.
  The following piece of code seems to do that:

 > quasi
function (link = "identity", variance = "constant") 
{
    linktemp <- substitute(link)
    if ( is.expression(linktemp) || is.call(linktemp) ) 
        linktemp <- link
    else if (!is.character(linktemp)) 
        linktemp <- deparse(linktemp)
    if( is.character(linktemp) )
        stats <- make.link(linktemp)
    else
        stats <- linktemp
...
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
+-------------------------------------------------------------------------+
| Robert Gentleman              phone : (64-9) 3737-599 ext 3946          | 
| Senior Lecturer               fax :   (64-9) 3737-018                   |
| Department of Statistics      office : Room 206 Maths/Physics           |
| University of Auckland	email : rgentlem@stat.auckland.ac.nz      |
+-------------------------------------------------------------------------+
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Tue Jul 25 08:47:55 2000
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Tue, 25 Jul 2000 09:47:55 +0200 (CEST)
Subject: [Rd] binary file access [was "RFC: System and time support"...]
In-Reply-To: <398391ba.18510913@fisher.stats.uwo.ca>
References: <Pine.GSO.4.05.10007200826030.9485-100000@auk.stats>
 <398391ba.18510913@fisher.stats.uwo.ca>
Message-ID: <14717.17963.58164.490019@gargle.gargle.HOWL>

>>>>> "Duncan" == Duncan Murdoch <murdoch@stats.uwo.ca> writes:

    Duncan> On Thu, 20 Jul 2000 08:33:01 +0100 (BST), you wrote in message
    Duncan> <Pine.GSO.4.05.10007200826030.9485-100000@auk.stats>:

    >> I've been looking over system utility functions that we might want
    >> to add to R.  A few come out of specific needs, others from looking
    >> at other systems and what people are using system() for.  I've taken
    >> account of Paul Gilbert's comments posted here a while ago (and I
    >> think covered all except the use of mailers).

    >> We currently have
    >> 
    >> date *.socket file.create file.exists file.remove file.append

    Duncan> Is there any interest in adding binary file access to the base?

yes, quite a bit !  (e.g., someone here doing image analysis, would have
liked to be able to do  this)

    Duncan> I think it would be really useful, and have put together a
    Duncan> prototype (still for Windows only) that's on my web site at
	                        ==============
    Duncan> <http://www.stats.uwo.ca/faculty/murdoch/software/Rstreams.zip>

I first thought "great! .." when you announced this a while ago, but
"Windows only" & relying on Delphi, i.e. proprietary software,
stopped me to even have a look, sorry.
We are committed primarily to the POSIX "clarification" of ANSI C and freely
available tools.

An aside :

  Your binary files are read into/from "character", right?

  I think (and others have talked similarly, here) that byte wise
  reading and writing of files should go together with a "raw" atomic data
  type in R -- and then we probably would want to do it "S version 4" (Sv4)
  compatibly (not that I have looked what this would mean exactly).
  which needs even a bit more extensions in "base R" than we have now.


Coming back to your package:
Is it worth/fast enough to port this to POSIX C?
Have you ever compared it to the (very general) approach taken by Sv4 ?
That would be something worth following at least in parts, I think.

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jens.oehlschlaegel@bbdo-interone.de  Tue Jul 25 10:16:15 2000
From: jens.oehlschlaegel@bbdo-interone.de (=?iso-8859-1?Q?Jens_Oehlschl=E4gel?=)
Date: Tue, 25 Jul 2000 11:16:15 +0200
Subject: [Rd] RFC: System and time support functions in R
In-Reply-To: <398391ba.18510913@fisher.stats.uwo.ca>
Message-ID: <000601bff618$fcba9ec0$c10616ac@oehl.bbdo.de>



I agree it would be useful. Additionally I would vote for
disentangling/extending some functionality in R.

e.g. save() does not only creates an external representation, it also writes
it to a file. So we cannot send the representation to a socket or just to a
character variable. Same with load().

e.g. scan() does combined physical read and parsing, i.e. it reads from file
and keyboard, but not from a socket or character variable. Similarly write()
and read.table(). The logic of how to convert character data too a dataframe
should not be bound to file read.

>From my point of view, a minimum solution would be generally allowing
reading/writing from/to a character variable instead of file access. This
would also allow filtering the data e.g. through a compression algorithm.

Regards


NEW EMAIL
jens.oehlschlaegel@bbdo-interone.de

--
Dr. Jens Oehlschl弄el
Analyse
BBDO InterOne
Grnstr. 15
40212 Dsseldorf

Tel.: +49 (0)211 1379-187
Fax.: +49 (0)211 1379-461
http://www.bbdo-interone.de






> -----Original Message-----
> From: owner-r-devel@stat.math.ethz.ch
> [mailto:owner-r-devel@stat.math.ethz.ch]On Behalf Of Duncan Murdoch
> Sent: Monday, July 24, 2000 9:08 PM
> To: R-devel@r-project.org
> Subject: Re: [Rd] RFC: System and time support functions in R
>
>
> On Thu, 20 Jul 2000 08:33:01 +0100 (BST), you wrote in message
> <Pine.GSO.4.05.10007200826030.9485-100000@auk.stats>:
>
> >I've been looking over system utility functions that we might want to
> >add to R.  A few come out of specific needs, others from looking at
> >other systems and what people are using system() for.  I've taken
> >account of Paul Gilbert's comments posted here a while ago (and I
> >think covered all except the use of mailers).
> >
> >We currently have
> >
> >date
> >*.socket
> >file.create
> >file.exists
> >file.remove
> >file.append
>
> Is there any interest in adding binary file access to the base?  I
> think it would be really useful, and have put together a prototype
> (still for Windows only) that's on my web site at
>
> <http://www.stats.uwo.ca/faculty/murdoch/software/Rstreams.zip>
>
> Duncan Murdoch
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Jul 25 10:33:17 2000
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 25 Jul 2000 10:33:17 +0100 (BST)
Subject: [Rd] binary file access [was "RFC: System and time support"...]
In-Reply-To: <14717.17963.58164.490019@gargle.gargle.HOWL>
Message-ID: <Pine.GSO.4.05.10007251004270.1462-100000@auk.stats>

On Tue, 25 Jul 2000, Martin Maechler wrote:

> >>>>> "Duncan" == Duncan Murdoch <murdoch@stats.uwo.ca> writes:
> 
>     Duncan> Is there any interest in adding binary file access to the base?
> 
> yes, quite a bit !  (e.g., someone here doing image analysis, would have
> liked to be able to do  this)
> 
>     Duncan> I think it would be really useful, and have put together a
>     Duncan> prototype (still for Windows only) that's on my web site at
> 	                        ==============
>     Duncan> <http://www.stats.uwo.ca/faculty/murdoch/software/Rstreams.zip>
> 
> I first thought "great! .." when you announced this a while ago, but
> "Windows only" & relying on Delphi, i.e. proprietary software,
> stopped me to even have a look, sorry.
> We are committed primarily to the POSIX "clarification" of ANSI C and freely
> available tools.

I don't think that translating/re-writing it is a problem, but I thought
Duncan was planning to do this.  If not I will have a go.

> An aside :
> 
>   Your binary files are read into/from "character", right?

[Doesn't look like it to me!]

>   I think (and others have talked similarly, here) that byte wise
>   reading and writing of files should go together with a "raw" atomic data
>   type in R -- and then we probably would want to do it "S version 4" (Sv4)
>   compatibly (not that I have looked what this would mean exactly).
>   which needs even a bit more extensions in "base R" than we have now.

Probably, but I find byte-wise reading not at all useful (and none of
our image-analysis files are that shallow).

> Coming back to your package:
> Is it worth/fast enough to port this to POSIX C?
> Have you ever compared it to the (very general) approach taken by Sv4 ?
> That would be something worth following at least in parts, I think.

Introducing a new type in R looks to me like a fairly major undertaking.
Duncan's package does a different task at a higher level than `raw' (which
is just an unstructured stream of bytes). As ?readint says

  Signed integers of sizes 1, 2, 4, and 8 bytes can be read.  Unsigned
  integers of any size up to 8 bytes can be read. (Integers larger than are
  supported in R will be returned in a vector of doubles.)  Floats of sizes
  4, 8, and 10 bytes can be read.  Complex values using any of the float
  sizes for the real and complex parts can be read.  Any size of character
  string that you can create can be read.

although some of that is Windows-specific (10 bytes = 80 bits = extended
format, I presume).

I suspect the best way forward is a get a general (non-Delphi, both Unix
and Windows) contributed package working and on CRAN, and then think about
merging it into base if it looks worthwhile.  (There is a lot of very
useful stuff not in base, and the point of my original posting was that
those are things which need to be internal and OS-specific.)

BTW, I think something like inttostr (but not that name) and its converse
would be useful in base.  
\description{
  Converts an integer to a string representation in base 2 to 36.
}
My memory says S had a function called something like oddometer, but
I can't find it.

Another comment: The R code uses _, F and T and is seriously lacking in
spaces. One way to get standard formating is to set
options(keep.source=FALSE) and then read in and dump the code.


How much support is there for adding a `raw' (byte-stream) type?

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Jul 25 10:36:18 2000
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 25 Jul 2000 10:36:18 +0100 (BST)
Subject: connections (was [Rd] RFC: System and time support functions in
 R)
In-Reply-To: <000601bff618$fcba9ec0$c10616ac@oehl.bbdo.de>
Message-ID: <Pine.GSO.4.05.10007251033560.1462-100000@auk.stats>

On Tue, 25 Jul 2000, [iso-8859-1] Jens Oehlschl弄el wrote:

> 
> 
> I agree it would be useful. Additionally I would vote for
> disentangling/extending some functionality in R.
> 
> e.g. save() does not only creates an external representation, it also writes
> it to a file. So we cannot send the representation to a socket or just to a
> character variable. Same with load().
> 
> e.g. scan() does combined physical read and parsing, i.e. it reads from file
> and keyboard, but not from a socket or character variable. Similarly write()
> and read.table(). The logic of how to convert character data too a dataframe
> should not be bound to file read.
> 
> >From my point of view, a minimum solution would be generally allowing
> reading/writing from/to a character variable instead of file access. This
> would also allow filtering the data e.g. through a compression algorithm.

That's a different topic (from Duncan's and from my subject line).
The plan is to use the Svr4 idea of `connections' to replace files (and
scan does only read from files: stdin is a file to C).


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Jul 25 11:22:29 2000
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 Jul 2000 12:22:29 +0200
Subject: [Rd] binary file access [was "RFC: System and time support"...]
In-Reply-To: Prof Brian D Ripley's message of "Tue, 25 Jul 2000 10:33:17 +0100 (BST)"
References: <Pine.GSO.4.05.10007251004270.1462-100000@auk.stats>
Message-ID: <x2aef6mrve.fsf@blueberry.kubism.ku.dk>

Prof Brian D Ripley <ripley@stats.ox.ac.uk> writes:

> My memory says S had a function called something like oddometer, but
> I can't find it.

It has only one 'd'...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From duncan@research.bell-labs.com  Tue Jul 25 12:12:09 2000
From: duncan@research.bell-labs.com (Duncan Temple Lang)
Date: Tue, 25 Jul 2000 07:12:09 -0400 (EDT)
Subject: [Rd] number of parameters of a function.
Message-ID: <200007251112.HAA06228@jessie.research.bell-labs.com>


 Is there a way to programmatically determine how many arguments a function
accepts? In S, one can compute this as 
          length(theFunction) - 1
and determine the parameter names  as
          names(theFunction)
due to the representation of functions.

(Just in case anyone is thinking of nargs(),  that is just for
particular calls and does not concern itself with the function
definition.)

Thanks,
  Duncan


-- 
_______________________________________________________________

Duncan Temple Lang                duncan@research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan

      "Languages shape the way we think, and determine what 
       we can think about."        
                                      Benjamin Whorf
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Jul 25 12:25:57 2000
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 Jul 2000 13:25:57 +0200
Subject: [Rd] number of parameters of a function.
In-Reply-To: Duncan Temple Lang's message of "Tue, 25 Jul 2000 07:12:09 -0400 (EDT)"
References: <200007251112.HAA06228@jessie.research.bell-labs.com>
Message-ID: <x24s5emoxm.fsf@blueberry.kubism.ku.dk>

Duncan Temple Lang <duncan@research.bell-labs.com> writes:

>  Is there a way to programmatically determine how many arguments a function
> accepts? In S, one can compute this as 
>           length(theFunction) - 1
> and determine the parameter names  as
>           names(theFunction)
> due to the representation of functions.
> 
> (Just in case anyone is thinking of nargs(),  that is just for
> particular calls and does not concern itself with the function
> definition.)

Like this:

> length(formals(scan))
[1] 13
> names(formals(scan))
 [1] "file"        "what"        "nmax"        "n"           "sep"        
 [6] "quote"       "dec"         "skip"        "nlines"      "na.strings" 
[11] "flush"       "strip.white" "quiet"      


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Jul 25 12:22:48 2000
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 25 Jul 2000 12:22:48 +0100 (BST)
Subject: [Rd] number of parameters of a function.
In-Reply-To: <200007251112.HAA06228@jessie.research.bell-labs.com>
Message-ID: <Pine.GSO.4.05.10007251220330.7029-100000@auk.stats>

On Tue, 25 Jul 2000, Duncan Temple Lang wrote:

> 
>  Is there a way to programmatically determine how many arguments a function
> accepts? In S, one can compute this as 
>           length(theFunction) - 1
> and determine the parameter names  as
>           names(theFunction)
> due to the representation of functions.

length(formals(theFunction))

Something similar works in S-PLUS 5.x:

length(functionArgs(theFunction))

as I guess Duncan knows.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Tue Jul 25 13:06:58 2000
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Tue, 25 Jul 2000 12:06:58 GMT
Subject: [Rd] binary file access [was "RFC: System and time support"...]
In-Reply-To: <Pine.GSO.4.05.10007251004270.1462-100000@auk.stats>
References: <Pine.GSO.4.05.10007251004270.1462-100000@auk.stats>
Message-ID: <397d7afa.1319880@julian.uwo.ca>

On Tue, 25 Jul 2000 10:33:17 +0100 (BST), you wrote:


>>     Duncan> I think it would be really useful, and have put together a
>>     Duncan> prototype (still for Windows only) that's on my web site at
>> 	                        ==============
>>     Duncan> <http://www.stats.uwo.ca/faculty/murdoch/software/Rstreams.zip>
>> 
>> I first thought "great! .." when you announced this a while ago, but
>> "Windows only" & relying on Delphi, i.e. proprietary software,
>> stopped me to even have a look, sorry.
>> We are committed primarily to the POSIX "clarification" of ANSI C and freely
>> available tools.
>
>I don't think that translating/re-writing it is a problem, but I thought
>Duncan was planning to do this.  If not I will have a go.

I am, but it won't be quick.  I now have a C compiler installed, but I
have very little experience writing in C.  I'll probably ask for help
later in cleaning up whatever I write.  

>> An aside :
>> 
>>   Your binary files are read into/from "character", right?
>
>[Doesn't look like it to me!]

Right, as you quoted I try to read and write the native R types.  It
seemed to me that doing type conversions was a lot easier externally
than it would be internally.

>> Coming back to your package:
>> Is it worth/fast enough to port this to POSIX C?

I imagine it would be really easy for someone fluent in both Delphi &
C to port it.  I'm fluent in Delphi but not C (which is why I wrote it
in Delphi in the first place), so it'll take a while longer for me.

>> Have you ever compared it to the (very general) approach taken by Sv4 ?
>> That would be something worth following at least in parts, I think.

No, I'm not familiar with that.

>although some of that is Windows-specific (10 bytes = 80 bits = extended
>format, I presume).

Yes, but that's Intel-specific, not Windows-specific.  I think it
would be useful to have on any platform: the idea is that this code
will allow you to read binary files produced by someone else. For
example, I do include code to handle byte-order switching, and use it
in the demo routine (readsfile) to be able to read binary S objects,
whether produced on big or little endian machines.

If the data you're reading were produced on an Intel platform, they
might include the extended types. Are there conversion routines
available in the libraries that R already uses for machines that don't
support extended as a native type?

>I suspect the best way forward is a get a general (non-Delphi, both Unix
>and Windows) contributed package working and on CRAN, and then think about
>merging it into base if it looks worthwhile.  (There is a lot of very
>useful stuff not in base, and the point of my original posting was that
>those are things which need to be internal and OS-specific.)

Sounds good to me.
>
>BTW, I think something like inttostr (but not that name) and its converse
>would be useful in base.  
>\description{
>  Converts an integer to a string representation in base 2 to 36.
>}
>My memory says S had a function called something like oddometer, but
>I can't find it.

I don't object to a name change, but I think "odometer" is a pretty
bad choice.

>Another comment: The R code uses _, F and T and is seriously lacking in
>spaces. One way to get standard formating is to set
>options(keep.source=FALSE) and then read in and dump the code.

Thanks, I'll do that.

>How much support is there for adding a `raw' (byte-stream) type?

I haven't had any need for such a thing, but the streams code was
written with the intention that it could be extended to handle streams
of bytes from other sources than just files.  I think that will likely
be hidden when I translate to C:  not being an OO language, it doesn't
really support the concept of an abstract stream, as far as I know.

Duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Jul 25 13:48:15 2000
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 25 Jul 2000 13:48:15 +0100 (BST)
Subject: [Rd] binary file access [was "RFC: System and time support"...]
In-Reply-To: <397d7afa.1319880@julian.uwo.ca>
Message-ID: <Pine.GSO.4.05.10007251341370.7201-100000@auk.stats>

On Tue, 25 Jul 2000, Duncan Murdoch wrote:

> On Tue, 25 Jul 2000 10:33:17 +0100 (BST), you wrote:
> 
> 
> >>     Duncan> I think it would be really useful, and have put together a
> >>     Duncan> prototype (still for Windows only) that's on my web site at
> >> 	                        ==============
> >>     Duncan> <http://www.stats.uwo.ca/faculty/murdoch/software/Rstreams.zip>
> >> 
> >> I first thought "great! .." when you announced this a while ago, but
> >> "Windows only" & relying on Delphi, i.e. proprietary software,
> >> stopped me to even have a look, sorry.
> >> We are committed primarily to the POSIX "clarification" of ANSI C and freely
> >> available tools.
> >
> >I don't think that translating/re-writing it is a problem, but I thought
> >Duncan was planning to do this.  If not I will have a go.
> 
> I am, but it won't be quick.  I now have a C compiler installed, but I
> have very little experience writing in C.  I'll probably ask for help
> later in cleaning up whatever I write.  

I will take a quick look. It might be faster to do it that try to help you.
Delphi is an extended Pascal, and I used to be fluent in Pascal.

> >although some of that is Windows-specific (10 bytes = 80 bits = extended
> >format, I presume).
> 
> Yes, but that's Intel-specific, not Windows-specific.  I think it
> would be useful to have on any platform: the idea is that this code
> will allow you to read binary files produced by someone else. For
> example, I do include code to handle byte-order switching, and use it
> in the demo routine (readsfile) to be able to read binary S objects,
> whether produced on big or little endian machines.

Correctt: I just don't know how to get them in a binary file on
any other Intel-based OS (which may be my ignorance).

> If the data you're reading were produced on an Intel platform, they
> might include the extended types. Are there conversion routines
> available in the libraries that R already uses for machines that don't
> support extended as a native type?

Yes, there are. Both in src/main/arithmetic.c and I think in packages 
stataread and foreign.

> >I suspect the best way forward is a get a general (non-Delphi, both Unix
> >and Windows) contributed package working and on CRAN, and then think about
> >merging it into base if it looks worthwhile.  (There is a lot of very
> >useful stuff not in base, and the point of my original posting was that
> >those are things which need to be internal and OS-specific.)
> 
> Sounds good to me.
> >
> >BTW, I think something like inttostr (but not that name) and its converse
> >would be useful in base.  
> >\description{
> >  Converts an integer to a string representation in base 2 to 36.
> >}
> >My memory says S had a function called something like oddometer, but
> >I can't find it.
> 
> I don't object to a name change, but I think "odometer" is a pretty
> bad choice.

It's not the function I wanted, anyway, and not being a word in UK usage I
was unfamiliar with its meaning.  (The UK says `trip counter'.)  What we
really want is a radix argument to as.character applied to integers, I
think.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kjetilh@umsanet.edu.bo  Tue Jul 25 22:46:08 2000
From: kjetilh@umsanet.edu.bo (halvorsen)
Date: Tue, 25 Jul 2000 17:46:08 -0400
Subject: [Rd] scoping problems (PR#614)
References: <200007242151.XAA03966@pubhealth.ku.dk> <20000725102109.Z6896@stat1.stat.auckland.ac.nz>
Message-ID: <397E0AA0.BF1E20D@umsanet.edu.bo>



Robert Gentleman wrote:

>

I tested the proposed change with thre original problem, and now it works fine.
Kjetil Halvorsen

>
>   The problem is with quasi:
> > quasi
> function (link = "identity", variance = "constant")
> {
>     linktemp <- substitute(link)
>     if (is.expression(linktemp))
>         linktemp <- eval(linktemp)
>     if (!is.character(linktemp)) {
>         linktemp <- deparse(linktemp)
>         if (linktemp == "link")
>             linktemp <- eval(link)
>     }
>    ...
>
>   Note that neither of the eval's is what is wanted. At this point
>   you just want to force the promise, ie evaluate the argument in
>   the calling environment.
>   The following piece of code seems to do that:
>
>  > quasi
> function (link = "identity", variance = "constant")
> {
>     linktemp <- substitute(link)
>     if ( is.expression(linktemp) || is.call(linktemp) )
>         linktemp <- link
>     else if (!is.character(linktemp))
>         linktemp <- deparse(linktemp)
>     if( is.character(linktemp) )
>         stats <- make.link(linktemp)
>     else
>         stats <- linktemp
> ...
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>
> --
> +-------------------------------------------------------------------------+
> | Robert Gentleman              phone : (64-9) 3737-599 ext 3946          |
> | Senior Lecturer               fax :   (64-9) 3737-018                   |
> | Department of Statistics      office : Room 206 Maths/Physics           |
> | University of Auckland        email : rgentlem@stat.auckland.ac.nz      |
> +-------------------------------------------------------------------------+
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kjetilh@umsanet.edu.bo  Tue Jul 25 22:52:37 2000
From: kjetilh@umsanet.edu.bo (kjetilh@umsanet.edu.bo)
Date: Tue, 25 Jul 2000 23:52:37 +0200 (MET DST)
Subject: [Rd] wishlist (PR#616)
Message-ID: <200007252152.XAA13316@pubhealth.ku.dk>

I want to put on the wishlist gamma and lgamma functions for complex
arguments.

Kjetil Halvorsen


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dtrenkler@nts6.oec.uni-osnabrueck.de  Wed Jul 26 10:19:38 2000
From: dtrenkler@nts6.oec.uni-osnabrueck.de (dtrenkler@nts6.oec.uni-osnabrueck.de)
Date: Wed, 26 Jul 2000 11:19:38 +0200 (MET DST)
Subject: [Rd] Bug in stem? (PR#617)
Message-ID: <200007260919.LAA15973@pubhealth.ku.dk>

# Your mailer is set to "none" (default on Windows),
# hence we cannot send the bug report directly from R.
# Please copy the bug report (after finishing it) to
# your favorite email program and send it to
#
#       r-bugs@biostat.ku.dk
#
######################################################

"b" <- c(-5.5, -4, -2.3, -1.5, -1, -0.5, -0.41, -0.33, -0.29, 
    -0.26, -0.2, -0.2, -0.2, -0.2, -0.11, -0.091, -0.059, 0.067, 
    0.13, 0.15, 0.19, 0.22, 0.25, 0.26, 0.27, 0.27, 0.32, 0.38, 
    0.43, 0.48, 0.67, 1, 1.2, 5, 8)

stem(b)

  -4 | 50
  -2 | 3
  -0 | 50543332222111
   0 | 1112233333445702
   2 | 
   4 | 0
   6 | 
   8 | 0

Note that -5.5 isn't correctly positioned. 

--please do not edit the information below--

Version:
 platform = Windows
 arch = x86
 os = Win32
 system = x86, Win32
 status = 
 major = 1
 minor = 1.0
 year = 2000
 month = June
 day = 15
 language = R

Windows NT 4.0 (build 1381) Service Pack 6

Search Path:
 .GlobalEnv, Autoloads, package:base

   --- D.Trenkler ---

************************************************************************
*********
   Dr. Dietrich Trenkler
(dtrenkler@oec.uni-osnabrueck.de)      
   Statistik / Empirische Wirtschaftsforschung
   Universitaet Osnabrueck
   Rolandstrasse 8                             Phone: +49(0)
541-969-2753
   D-49069 Osnabrueck                        Fax  : +49(0) 541-969-2744
   GERMANY
************************************************************************
*********




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Jul 26 11:45:28 2000
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Jul 2000 12:45:28 +0200
Subject: [Rd] Bug in stem? (PR#617)
In-Reply-To: dtrenkler@nts6.oec.uni-osnabrueck.de's message of "Wed, 26 Jul 2000 11:19:38 +0200 (MET DST)"
References: <200007260919.LAA15973@pubhealth.ku.dk>
Message-ID: <x2aef5mapj.fsf@blueberry.kubism.ku.dk>

dtrenkler@nts6.oec.uni-osnabrueck.de writes:

> "b" <- c(-5.5, -4, -2.3, -1.5, -1, -0.5, -0.41, -0.33, -0.29, 
>     -0.26, -0.2, -0.2, -0.2, -0.2, -0.11, -0.091, -0.059, 0.067, 
>     0.13, 0.15, 0.19, 0.22, 0.25, 0.26, 0.27, 0.27, 0.32, 0.38, 
>     0.43, 0.48, 0.67, 1, 1.2, 5, 8)
> 
> stem(b)
> 
>   -4 | 50
>   -2 | 3
>   -0 | 50543332222111
>    0 | 1112233333445702
>    2 | 
>    4 | 0
>    6 | 
>    8 | 0
> 
> Note that -5.5 isn't correctly positioned. 

I don't see the problem: the -4 row represents -4.x and -5.x, the
latter first since they are smaller. The display is generally
ambiguous since you get exactly the same value if you replace b[2]
with -5, but that seems to be a generic problem, just like the fact
that you cannot see whether the lone zeroes represent 4 and 7 or 5 and
8.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From y0004379@tu-bs.de  Wed Jul 26 12:57:21 2000
From: y0004379@tu-bs.de (y0004379@tu-bs.de)
Date: Wed, 26 Jul 2000 13:57:21 +0200 (MET DST)
Subject: [Rd] min(c()) = inf ??? (PR#618)
Message-ID: <200007261157.NAA17436@pubhealth.ku.dk>

min of an empty vector gives inf, should be NA / NULL ???

> min(c())
[1] 2147483647
Warning message: 
no finite arguments to min/max; returning extreme. in: min(..., na.rm =
na.rm) 
> min(c(NA,NA),na.rm=T)
[1] 2147483647
Warning message: 
no finite arguments to min/max; returning extreme. in: min(..., na.rm =
na.rm) 

(the same for max)

--please do not edit the information below--

Version:
 platform = Windows
 arch = x86
 os = Win32
 system = x86, Win32
 status = 
 major = 1
 minor = 1.0
 year = 2000
 month = June
 day = 15
 language = R

Windows 9x 4.0 (build 1111)  

Search Path:
 .GlobalEnv, Autoloads, package:base




** To YOU I'm an atheist; to God, I'm the Loyal Opposition. Woody Allen **
P.Malewski					Tel.: 0531 500965
Maschplatz 8					Email: P.Malewski@tu-bs.de
************************38114 Braunschweig********************************




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Jul 26 13:58:45 2000
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Jul 2000 14:58:45 +0200
Subject: [Rd] min(c()) = inf ??? (PR#618)
In-Reply-To: y0004379@tu-bs.de's message of "Wed, 26 Jul 2000 13:57:21 +0200 (MET DST)"
References: <200007261157.NAA17436@pubhealth.ku.dk>
Message-ID: <x266ptm4je.fsf@blueberry.kubism.ku.dk>

y0004379@tu-bs.de writes:

> min of an empty vector gives inf, should be NA / NULL ???

This is a feature, ensuring consistency: 

min(x,y) == min(min(x),min(y)) even when x or y is empty.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From y0004379@tu-bs.de  Wed Jul 26 14:30:30 2000
From: y0004379@tu-bs.de (Peter Malewski)
Date: Wed, 26 Jul 2000 15:30:30 +0200 (METDST)
Subject: [Rd] min(c()) = inf ??? (PR#618)
In-Reply-To: <x266ptm4je.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.HPX.4.21.0007261526170.14591-100000@rzbcosv1.rz.tu-bs.de>

On 26 Jul 2000, Peter Dalgaard BSA wrote:

> This is a feature, ensuring consistency: 
> 
> min(x,y) == min(min(x),min(y)) even when x or y is empty.

Thanks for your reply. This logic is reasoneable. I just wondered about
the "inf" I got + the different results in s+ 3.3.

Thanks
Peter Malewski



** To YOU I'm an atheist; to God, I'm the Loyal Opposition. Woody Allen **
P.Malewski					Tel.: 0531 500965
Maschplatz 8					Email: P.Malewski@tu-bs.de
************************38114 Braunschweig********************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From duncan@research.bell-labs.com  Thu Jul 27 12:55:48 2000
From: duncan@research.bell-labs.com (Duncan Temple Lang)
Date: Thu, 27 Jul 2000 07:55:48 -0400 (EDT)
Subject: [Rd] The R-Java inteface from Omegahat
Message-ID: <200007271155.HAA04412@jessie.research.bell-labs.com>


 We have finally configured the R-Java interface as a `regular' R
package. This allows R users to create arbitrary Java objects and call
any accessible method. It has a reasonably sophisticated mechanism for
handling transferring of arguments from R to Java and vice-versa, and
allows Java classes to be implemented via R functions.

The package and all the documentation is available from
      http://www.omegahat.org/RSJava
or the contrib/Devel sections of CRAN and its mirrors.
It runs on Unix machines. (When we know there are no
major problems on these systems, we will work on the
Windows port. So any feedback is very much appreciated.)

 Thanks for your time.
    Duncan

-- 
_______________________________________________________________

Duncan Temple Lang                duncan@research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan

      "Languages shape the way we think, and determine what 
       we can think about."        
                                      Benjamin Whorf
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossini@blindglobe.net  Fri Jul 28 01:11:14 2000
From: rossini@blindglobe.net (A.J. Rossini)
Date: 27 Jul 2000 17:11:14 -0700
Subject: [Rd] RJava and Orca...
Message-ID: <87ya2ndsgt.fsf@jeeves.blindglobe.net>


It's cool, it's exciting, and much thanks to Duncan.  He announced
RJava yesterday (or this morning?) on the R-devel list, and it's
really worth it.

        http://www.omegahat.org/RSJava

for more details.

But it does mean that we can run Orca code directly within R, (without
Thomas' socket connections) (and also means that we really need a
"stop" button, since killing the visualizations kills the R process in
an ugly fashion).

To do:
1. write up a converter for feeding R DataFrames right into Orca
2. add the "stop" or "destroy" button described above.
3. do the "right thing" for brushing.

All you need to do from the following scripts is to install Java for
R, redefine where "orcaHomeDir" is, and run it...

I'll be checking these into the Orca directory structure soon!

Since I'm cc'ing r-devel, I might as well point to Orca:

        http://pyrite.cfas.washington.edu/orca

best,
-tony


Examples:
-------------- Initialization.R --------------
library(Java)

## Initialize Environment
orcaHomeDir <- "/biostat/faculty0/rossini/sandbox/Src/Java/Orca/orca/"
orcaHomeOrcaJar <- paste(orcaHomeDir,"classes/orca.jar",sep="")
orcaHomeVisADJar <- paste(orcaHomeDir,"jars/visad.jar",sep="")
orcaClasses <- c(orcaHomeOrcaJar,orcaHomeVisADJar)

## Initialize JVM
.JavaInit(list(classPath=orcaClasses))

## Verify JVM has Orca in its path
.Java("System", "getProperty", "java.class.path")

-------------- VarSelExample.R ---------------

## The .name="blah" part turns out to be essential...
od.1  <- .Java("org.orca.data.parsers.OrcaDataSource",
               "openFileData","data/normclust.dat",.name="od")
dsp.1 <- .JavaConstructor("DataSourcePipe",od.1,.name="dsp")
sdp.1 <- .JavaConstructor("StdDataPipe",dsp.1,.name="sdp")
vsp.1 <- .JavaConstructor("VarSelPipe",sdp.1,.name="vsp")
rp.1 <- .JavaConstructor("Render2DPipe",vsp.1,.name="rp")
wp.1 <- .JavaConstructor("WindowPipe",rp.1,.name="wp")
.Java(wp.1,"reloadView")

-------------- TaoExample.R ------------------

## You need to be "initialized" for this... (see Initialize.R above) 

OrcaDataFile     <- "data/orca.tao.time"
OrcaDataTimeVar  <- "Group"
OrcaDataGroupVar <- "Time"

## Get the data
od.1 <- .Java("org.orca.data.parsers.OrcaDataSource",
              "openFileData",
              OrcaDataFile,
              .name="od");

## Acknowledge special covariates
od.1 <- .JavaConstructor("MarkTimeSeriesData",
                         od.1,
                         OrcaDataTimeVar,
                         .name="od2");
od.1 <- .JavaConstructor("MarkGroupData",
                         od.1,
                         OrcaDataGroupVar,
                         .name="od3");

## Run it through the standardization and brushing stuff.
dsp.1 <- .JavaConstructor("DataSourcePipe",
                          od.1,
                          .name="dsp")
stdd1.1 <- .JavaConstructor("StdDataPipe",
                            dsp.1,
                            .name="stdd1")

stdd.1 <- .JavaConstructor("ReorderPipe",
                           stdd1.1,
                           .name="stdd")

## Set up the pairs plot
mlp.1 <- .JavaConstructor("MultiLayoutPipe",
                          stdd.1,
                          .name="mlp")
obw.1 <- .JavaConstructor("WindowPipe",
                          mlp.1,
                          .name="obw")

## Set up the grand tour
ortp1.1 <- .JavaConstructor("TourPipe",
                            stdd.1,
                            .name="ortp1")
t2p2.1 <- .JavaConstructor("Render2DPipe",ortp1.1,
                           .name="t2p2")
obw4.1 <- .JavaConstructor("WindowPipe",t2p2.1,.name="obw4")

## Set up the TimeSeries 
ortp2.1 <- .JavaConstructor("TourPipe",stdd.1,.name="ortp2")
t2p.1 <- .JavaConstructor("TimeSeriesPipe",ortp2.1,.name="t2p")
obw3.1 <- .JavaConstructor("WindowPipe",t2p.1,.name="obw3")

## It can be better to pause these -- don't start them immediately
## after each other!
.Java(obw.1 , "reloadView")
.Java(obw4.1, "reloadView")
## The following doesn't work yet (array out of bounds bug)
.Java(obw3.1, "reloadView")

----------------------------------------------------------

best,
-tony


-- 
A.J. Rossini
rossini@blindglobe.net				BlindGlobe Networks
rossini@biostat.washington.edu			U Washington (from home)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From telford@progsoc.uts.edu.au  Fri Jul 28 10:51:51 2000
From: telford@progsoc.uts.edu.au (Telford Tendys)
Date: Fri, 28 Jul 2000 19:51:51 +1000
Subject: [Rd] Using the nls package
Message-ID: <20000728195151.A18822@ftoomsh.progsoc.uts.edu.au>

I'm a bit confused about the nls package, I'm trying to use it for curve fitting.

First off, the documentation for nls says ``see `nlsControl' for the
names of the settable control values'' -- this is wrong, it should be
nls.control (minor point but had me confused for a moment).

Now I'll try something very simple (maybe too simple):
----------------------------------------------------------------------
> q <- data.frame( x=1:10 )
> q$y <- eval( expression( 4 + 5 * x ), q )
> library( nls )
> w <- nls( y ~ P1 + P2 * x, q, start=list( P1=1, P2=1 )) 
Error in nls(y ~ P1 + P2 * x, q, start = list(P1 = 1, P2 = 1)) : 
        maximum number of iterations exceeded
> w <- nls( y ~ P1 + P2 * x, q, start=list( P1=1, P2=1 ), trace=T, control=nls.control( maxiter=10 ))
7570 :  1 1 
7.888609e-29 :  4 5 
0 :  4 5 
0 :  4 5 
0 :  4 5 
0 :  4 5 
0 :  4 5 
0 :  4 5 
0 :  4 5 
0 :  4 5 
0 :  4 5 
----------------------------------------------------------------------

There is something I really don't understand here -- it seems to
go right to the answer but then cannot detect that it should
terminate the search. The default tolerance of 1e-5 seems reasonable.
Same happens with a slightly harder problem:

----------------------------------------------------------------------
> q$y <- eval( expression( 4 + 5 / x + 7 * x ), q )> w <- nls( y ~ P1 + P2 / x + P3 * x, q, start=list( P1=1, P2=1, P3=1 ), trace=T, control=nls.control( maxiter=10 ))
16505.09 :  1 1 1 
3.578718e-14 :  4 5 7 
2.650573e-28 :  4 5 7 
1.262177e-29 :  4 5 7 
0 :  4 5 7 
0 :  4 5 7 
0 :  4 5 7 
0 :  4 5 7 
0 :  4 5 7 
0 :  4 5 7 
0 :  4 5 7 
----------------------------------------------------------------------

It knows what the answer should be but does not know that it has the
answer, try injecting some noise in the sample points:

----------------------------------------------------------------------
> q$y <- eval( expression( 4 + 5 / x + 7 * x + runif( 10 )), q )
> w <- nls( y ~ P1 + P2 / x + P3 * x, q, start=list( P1=1, P2=1, P3=1 ), trace=T, control=nls.control( maxiter=10 ))
16882.09 :  1 1 1 
0.4923209 :  4.796474 5.290280 6.947685 
----------------------------------------------------------------------

OK, now it stops right away with an approximate solution...
must be alergic to getting the right answer!
I guess with all that noise, this answer is probably the best possible.

Well, I'm sure that isn't such a big bug to fix, probably
a test for >0 when it should be >=0 or something. Maybe just
detect exceptionally small sum of squares (i.e. zero) and bail
out right there. Do statisticians have an instinct to disbelieve that
their sample data could ever fit the model?

Now a bigger problem (for me), I want to be able to use complex
numbers in the calculation:

----------------------------------------------------------------------
> q$y <- eval( expression( 4 + x*(0+1i)), q )
> w <- nls( y ~ P1 + P2 * x, q, start=list( P1=1, P2=1 ), trace=T, control=nls.control( maxiter=10 ))
Error in model.frame(formula, rownames, variables, varnames, extras, extranames,  : 
        invalid variable type
> traceback()
[1] "model.frame.default(formula = ~y + x, data = q)"                  
[2] "model.frame(formula = ~y + x, data = q)"                          
[3] "eval(expr, envir, enclos)"                                        
[4] "eval(mf, sys.frame(sys.parent()))"                                
[5] "as.list(eval(mf, sys.frame(sys.parent())))"                       
[6] "nls(y ~ P1 + P2 * x, q, start = list(P1 = 1, P2 = 1), trace = T, "
[7] "    control = nls.control(maxiter = 10))"                         
> model.frame.default( y ~ x, q )
Error in model.frame(formula, rownames, variables, varnames, extras, extranames,  : 
        invalid variable type
----------------------------------------------------------------------

Is there any chance of getting this to work? Should I split up the
complex numbers into components and write my equations are equivalent
expressions in reals (ugly but I could do it if I have to)?

Seems like something in the .Internal(model.frame(...)) is barfing
at a complex number. Is that necessary or just an accident? Surely
R has enough complex number capabilities to handle them here too...

Sorry about whinging all the time :-)

	- Tel
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Fri Jul 28 16:20:22 2000
From: thomas@biostat.washington.edu (thomas@biostat.washington.edu)
Date: Fri, 28 Jul 2000 17:20:22 +0200 (MET DST)
Subject: [Rd] Re: [R] gremlin in rep() (PR#619)
Message-ID: <200007281520.RAA02438@pubhealth.ku.dk>

On Fri, 28 Jul 2000, Colin Farrow wrote:

> the following occurred inadvertently and brought R-1.1.0 down
> 
> rep(1:3, c(4,2,-6))
> Segmentation Fault (core dumped)

In main/seq.c:rep2 we only check that the total length of the result is
positive, not that each part is.

Easy fix, I think.

	-thomas

> 
> platform i686-pc-linux-gnu
> arch     i686             
> os       linux-gnu        
> system   i686, linux-gnu  
> status                    
> major    1                
> minor    1.0              
> year     2000             
> month    June             
> day      15               
> language R 
> also on Solaris2.7 
> 
> -- 
> Colin Farrow
> Computing Service, University of Glasgow, Glasgow G12 8QQ
> Tel: 0141 330 4862, c.farrow@compserv.gla.ac.uk
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ligges@statistik.uni-dortmund.de  Fri Jul 28 19:38:00 2000
From: ligges@statistik.uni-dortmund.de (ligges@statistik.uni-dortmund.de)
Date: Fri, 28 Jul 2000 20:38:00 +0200 (MET DST)
Subject: [Rd] crash with winDialogString("ABC", 1) (PR#620)
Message-ID: <200007281838.UAA03047@pubhealth.ku.dk>

If the default string in winDialogString(.) is not a character (OK, it
was also my bug...), R crashes:

  winDialogString("ABC", 1)


Everything works fine with:

  winDialogString("ABC", "1")



A fix which hopefully doesn't break anything:

  winDialogString <- function (message, default) 
      .Internal(winDialogString(message, as.character(default)))


Regards,
Uwe Ligges


--please do not edit the information below--

Version:
 platform = Windows
 arch = x86
 os = Win32
 system = x86, Win32
 status = 
 major = 1
 minor = 1.0
 year = 2000
 month = June
 day = 15
 language = R

Windows NT 4.0 (build 1381) Service Pack 6

Search Path:
 .GlobalEnv, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From telford@progsoc.uts.edu.au  Sat Jul 29 13:22:52 2000
From: telford@progsoc.uts.edu.au (Telford Tendys)
Date: Sat, 29 Jul 2000 22:22:52 +1000
Subject: [Rd] Using the nls package
In-Reply-To: <20000728195151.A18822@ftoomsh.progsoc.uts.edu.au>; from telford@progsoc.uts.edu.au on Fri, Jul 28, 2000 at 07:51:51PM +1000
References: <20000728195151.A18822@ftoomsh.progsoc.uts.edu.au>
Message-ID: <20000729222252.A26266@ftoomsh.progsoc.uts.edu.au>

To follow-up my own message...
Just making an attempt to provide all the standard details
(though I have a feeling in this case that it isn't system dependent).

> version
         _
platform powerpc-unknown-linux-gnu
arch     powerpc
os       linux-gnu
system   powerpc, linux-gnu
status
major    1
minor    1.0
year     2000
month    June
day      15
language R

[telford@dispater telford]$ gcc -v
Reading specs from /usr/lib/gcc-lib/ppc-redhat-linux/2.95.2/specs
gcc version 2.95.2 19991024 (release/franzo)

[telford@dispater telford]$ cat /proc/version
Linux version 2.2.15pre3 (benh@sawtooth.wanadoo.fr) (gcc version 2.95.2 19991024 (release/franzo)) #3 Sat Jan 29 18:02:45 CET 2000

[telford@dispater telford]$ ls -o /lib/libc.so.6
lrwxrwxrwx   1 root           13 Jan  1  1970 /lib/libc.so.6 -> libc-2.1.1.so

	- Tel
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Sun Jul 30 00:59:53 2000
From: bates@stat.wisc.edu (Douglas Bates)
Date: 29 Jul 2000 18:59:53 -0500
Subject: [Rd] Using the nls package
In-Reply-To: Telford Tendys's message of "Fri, 28 Jul 2000 19:51:51 +1000"
References: <20000728195151.A18822@ftoomsh.progsoc.uts.edu.au>
Message-ID: <6rlmykbi86.fsf@franz.stat.wisc.edu>

Telford Tendys <telford@progsoc.uts.edu.au> writes:

> I'm a bit confused about the nls package, I'm trying to use it for curve fitting.
> 
> First off, the documentation for nls says ``see `nlsControl' for the
> names of the settable control values'' -- this is wrong, it should be
> nls.control (minor point but had me confused for a moment).

Thanks for pointing that out.  We will correct that for the next
release.

> Now I'll try something very simple (maybe too simple):
> ----------------------------------------------------------------------
> > q <- data.frame( x=1:10 )
> > q$y <- eval( expression( 4 + 5 * x ), q )
> > library( nls )
> > w <- nls( y ~ P1 + P2 * x, q, start=list( P1=1, P2=1 )) 
> Error in nls(y ~ P1 + P2 * x, q, start = list(P1 = 1, P2 = 1)) : 
>         maximum number of iterations exceeded
> > w <- nls( y ~ P1 + P2 * x, q, start=list( P1=1, P2=1 ), trace=T, control=nls.control( maxiter=10 ))
> 7570 :  1 1 
> 7.888609e-29 :  4 5 
> 0 :  4 5 
> 0 :  4 5 
> 0 :  4 5 
> 0 :  4 5 
> 0 :  4 5 
> 0 :  4 5 
> 0 :  4 5 
> 0 :  4 5 
> 0 :  4 5 
> ----------------------------------------------------------------------
> 
> There is something I really don't understand here -- it seems to
> go right to the answer but then cannot detect that it should
> terminate the search. The default tolerance of 1e-5 seems reasonable.
> Same happens with a slightly harder problem:

The convergence criterion for nls is the relative offset orthogonality
convergence criterion as described in 
@Article{bate:watt:1981:tech,
  journal =      "Technometrics",
  volume =       23,
  pages =        "179--183",
  keywords =     "Regression",
  author =       "Douglas M. Bates and Donald G. Watts",
  title =        "A Relative Offset Orthogonality Convergence Criterion
                 for Nonlinear Least Squares",
  year =         1981
}

This criterion fails for artificial examples where the residual
sum-of-squares can be made exactly zero.

> ----------------------------------------------------------------------
> > q$y <- eval( expression( 4 + 5 / x + 7 * x ), q )> w <- nls( y ~ P1 + P2 / x + P3 * x, q, start=list( P1=1, P2=1, P3=1 ), trace=T, control=nls.control( maxiter=10 ))
> 16505.09 :  1 1 1 
> 3.578718e-14 :  4 5 7 
> 2.650573e-28 :  4 5 7 
> 1.262177e-29 :  4 5 7 
> 0 :  4 5 7 
> 0 :  4 5 7 
> 0 :  4 5 7 
> 0 :  4 5 7 
> 0 :  4 5 7 
> 0 :  4 5 7 
> 0 :  4 5 7 
> ----------------------------------------------------------------------
> 
> It knows what the answer should be but does not know that it has the
> answer, try injecting some noise in the sample points:

What is unusual here is that you get an exact zero for the residual
sum-of-squares.  Often there would be a small, non-zero RSS even at
the parameter values used to simulate the response.

> ----------------------------------------------------------------------
> > q$y <- eval( expression( 4 + 5 / x + 7 * x + runif( 10 )), q )
> > w <- nls( y ~ P1 + P2 / x + P3 * x, q, start=list( P1=1, P2=1, P3=1 ), trace=T, control=nls.control( maxiter=10 ))
> 16882.09 :  1 1 1 
> 0.4923209 :  4.796474 5.290280 6.947685 
> ----------------------------------------------------------------------
> 
> OK, now it stops right away with an approximate solution...
> must be alergic to getting the right answer!
> I guess with all that noise, this answer is probably the best possible.
> 
> Well, I'm sure that isn't such a big bug to fix, probably
> a test for >0 when it should be >=0 or something. Maybe just
> detect exceptionally small sum of squares (i.e. zero) and bail
> out right there. Do statisticians have an instinct to disbelieve that
> their sample data could ever fit the model?

The problem with putting in a check for an exceptionally small sum of
squares is deciding when it is exceptionally small.  There is no
absolute scale on the residual sum of squares.

We could perhaps detect an exact zero but even that would not catch
all the cases where "exact" values were simulated because generally
they will give a small but non-zero sum of squares.

Since such problems will not occur in practice but only in artificial
examples, we have not bothered detecting them.

> Now a bigger problem (for me), I want to be able to use complex
> numbers in the calculation:
> 
> ----------------------------------------------------------------------
> > q$y <- eval( expression( 4 + x*(0+1i)), q )
> > w <- nls( y ~ P1 + P2 * x, q, start=list( P1=1, P2=1 ), trace=T, control=nls.control( maxiter=10 ))
> Error in model.frame(formula, rownames, variables, varnames, extras, extranames,  : 
>         invalid variable type
> > traceback()
> [1] "model.frame.default(formula = ~y + x, data = q)"                  
> [2] "model.frame(formula = ~y + x, data = q)"                          
> [3] "eval(expr, envir, enclos)"                                        
> [4] "eval(mf, sys.frame(sys.parent()))"                                
> [5] "as.list(eval(mf, sys.frame(sys.parent())))"                       
> [6] "nls(y ~ P1 + P2 * x, q, start = list(P1 = 1, P2 = 1), trace = T, "
> [7] "    control = nls.control(maxiter = 10))"                         
> > model.frame.default( y ~ x, q )
> Error in model.frame(formula, rownames, variables, varnames, extras, extranames,  : 
>         invalid variable type
> ----------------------------------------------------------------------
> 
> Is there any chance of getting this to work? Should I split up the
> complex numbers into components and write my equations are equivalent
> expressions in reals (ugly but I could do it if I have to)?

That's the best short-term solution.  In general, how do you want to
define the residual sum of squares for a complex-valued response?
Should it be the sum of the modulus of the residuals?

We could put complex-valued nonlinear least squares on the wishlist
but I would have to warn you that there are many other items in front
of it.

> Seems like something in the .Internal(model.frame(...)) is barfing
> at a complex number. Is that necessary or just an accident? Surely
> R has enough complex number capabilities to handle them here too...

Easiest thing is to test it.

 > data(cars)
 > model.frame(dist ~ speed, data = cars)
    dist speed
 1     2     4
 ...
 49  120    24
 50   85    25
 > cars$speed <- cars$speed + rnorm(50)*(0+1i)
 > is.complex(cars$speed)
 [1] TRUE
 > model.frame(dist ~ speed, data = cars)
 Error in model.frame(formula, rownames, variables, varnames, extras, extranames,  : 
         invalid variable type

So, yes, the model.frame function does not allow complex data.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From telford@progsoc.uts.edu.au  Mon Jul 31 03:11:44 2000
From: telford@progsoc.uts.edu.au (Telford Tendys)
Date: Mon, 31 Jul 2000 12:11:44 +1000
Subject: [Rd] Using the nls package
In-Reply-To: <6rlmykbi86.fsf@franz.stat.wisc.edu>; from bates@stat.wisc.edu on Sat, Jul 29, 2000 at 06:59:53PM -0500
References: <20000728195151.A18822@ftoomsh.progsoc.uts.edu.au> <6rlmykbi86.fsf@franz.stat.wisc.edu>
Message-ID: <20000731121144.B18822@ftoomsh.progsoc.uts.edu.au>

On Sat, Jul 29, 2000 at 06:59:53PM -0500, Douglas Bates wrote:
> The convergence criterion for nls is the relative offset orthogonality
> convergence criterion as described in 
> @Article{bate:watt:1981:tech,
>   journal =      "Technometrics",
>   volume =       23,
>   pages =        "179--183",
>   keywords =     "Regression",
>   author =       "Douglas M. Bates and Donald G. Watts",
>   title =        "A Relative Offset Orthogonality Convergence Criterion
>                  for Nonlinear Least Squares",
>   year =         1981
> }

OK, I'll try to look that one up. You probably have a very good
convergence criterion for realistic sample data (which will always
have some error).

> The problem with putting in a check for an exceptionally small sum of
> squares is deciding when it is exceptionally small.  There is no
> absolute scale on the residual sum of squares.
> 
> We could perhaps detect an exact zero but even that would not catch
> all the cases where "exact" values were simulated because generally
> they will give a small but non-zero sum of squares.

Hmmm, I see your point here... the size of the residual sum of squares can 
change deastically when you add or delete measurement points, try different
models, etc so it's value only has meaning when relative to other residual
sum of squares for the same model, for the same data points.

How about testing for progress? If the nls algorithm is giving the same
numbers on two consecutive cycles then we can be sure it is not going to
get any better with more iterations so:

[1] keep a copy of the parameters from last cycle
[2] keep a copy of the sum of square residuals from last cycle
[3] if the sum of the residuals has changed at all then this cycle
    is making progress so keep cycling
[4] if the sum of residuals has not changed, check if the parameters
    have changed, if they have not changed then give up because
    next cycle will be same as this one.

Maybe [1] and [4] are not necessary and checking for change in the
sum of square residuals is enough but I am vaguely aware that it might
be possible to have the parameters change without the sum of square
residuals changing (I would have to study the algorithm very closely
to figure out whether that was possible).

Anyhow, would copying the parameters each cycle be a big overhead?

> Since such problems will not occur in practice but only in artificial
> examples, we have not bothered detecting them.

Yes, this is understandable but if most people are like me (questionable
assumption I admit) they try a few artificial examples first to get
the general idea of how these things work. I guess there is a certain
illogical assumption that if I try what seems to me to be an obviously
easy problem and it cannot handle it then something must be wrong and
trying harder problems is not going to help.

> > Is there any chance of getting this to work? Should I split up the
> > complex numbers into components and write my equations are equivalent
> > expressions in reals (ugly but I could do it if I have to)?
> 
> That's the best short-term solution.

OK, I'll go with that.

> In general, how do you want to
> define the residual sum of squares for a complex-valued response?
> Should it be the sum of the modulus of the residuals?

My thinking was that the `obvious' choice is the sum of the
SQUARES of the modulus of the residuals. Using the modulus itself
would be similar to using the absolute value of the residuals in the
non-complex case (not what we want I believe).

Another way of looking at it would be to think of extending the
residual from a scalar to a vector -- the natural extension of the
`square' operation is to square each element in the vector.
The current R system already uses this as the natural extension
to multiply and everyone seems happy with that:

> square <- function( x ) { x * x }
> square( -3 )
[1] 9
> square( -3:4 )
[1]  9  4  1  0  1  4  9 16

So once you have squared all the elements it makes sense to sum them
up, just like you do with the residuals in any case. Then you get
support for vector square residuals as being the same as the dot product
of the vector with itself (i.e. the only way to multiply a vector
with itself to get a scalar).

Keeping the logic going, a complex number is sort of like a special
case of a two element vector (yeah I know they aren't exactly the
same) so squaring the real and squaring the imaginary parts and summing
them up would seem consistent. But then Pythagoras points out that
this is the same as the square of the modulus in any case,
a full circle has been drawn.

> We could put complex-valued nonlinear least squares on the wishlist
> but I would have to warn you that there are many other items in front
> of it.

wish wish wish...

Now I think of it, there are two steps in this wish.
The first is to allow complex numbers to be allowed in the model
calculation at all and thus allow them to be residuals.

The second is to think about whether the parameters should be
allowed to be complex. I would argue that this second one is not
a good idea because it is rather easy to convert two real valued 
model parameters into a single complex number -- this ensures that
each model parameter is exactly one degree of freedom.

On the other hand, it is kind of painful to expand out complex
calculations into their real equivalents, and frustrating too when
there is a perfectly good complex calculator so close, yet so far away.

In either case, the documentation should mention that complex
numbers are not supported.

	- Tel
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Jul 31 07:20:32 2000
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 31 Jul 2000 07:20:32 +0100 (BST)
Subject: [Rd] Using the nls package
In-Reply-To: <20000731121144.B18822@ftoomsh.progsoc.uts.edu.au>
Message-ID: <Pine.GSO.4.05.10007310708440.10573-100000@auk.stats>

On Mon, 31 Jul 2000, Telford Tendys wrote:

> On Sat, Jul 29, 2000 at 06:59:53PM -0500, Douglas Bates wrote:
> > The convergence criterion for nls is the relative offset orthogonality
> > convergence criterion as described in 
> > @Article{bate:watt:1981:tech,
> >   journal =      "Technometrics",
> >   volume =       23,
> >   pages =        "179--183",
> >   keywords =     "Regression",
> >   author =       "Douglas M. Bates and Donald G. Watts",
> >   title =        "A Relative Offset Orthogonality Convergence Criterion
> >                  for Nonlinear Least Squares",
> >   year =         1981
> > }
> 
> OK, I'll try to look that one up. You probably have a very good
> convergence criterion for realistic sample data (which will always
> have some error).
> 
> > The problem with putting in a check for an exceptionally small sum of
> > squares is deciding when it is exceptionally small.  There is no
> > absolute scale on the residual sum of squares.
> > 
> > We could perhaps detect an exact zero but even that would not catch
> > all the cases where "exact" values were simulated because generally
> > they will give a small but non-zero sum of squares.
> 
> Hmmm, I see your point here... the size of the residual sum of squares can 
> change deastically when you add or delete measurement points, try different
> models, etc so it's value only has meaning when relative to other residual
> sum of squares for the same model, for the same data points.
> 
> How about testing for progress? If the nls algorithm is giving the same
> numbers on two consecutive cycles then we can be sure it is not going to
> get any better with more iterations so:

How can you be sure?  What are `the same numbers'?  The parameters
unchanged to machine precision, yes, but that's not what you print.


> [1] keep a copy of the parameters from last cycle
> [2] keep a copy of the sum of square residuals from last cycle
> [3] if the sum of the residuals has changed at all then this cycle
>     is making progress so keep cycling
> [4] if the sum of residuals has not changed, check if the parameters
>     have changed, if they have not changed then give up because
>     next cycle will be same as this one.
> 
> Maybe [1] and [4] are not necessary and checking for change in the
> sum of square residuals is enough but I am vaguely aware that it might
> be possible to have the parameters change without the sum of square
> residuals changing (I would have to study the algorithm very closely
> to figure out whether that was possible).
> 
> Anyhow, would copying the parameters each cycle be a big overhead?
> 
> > Since such problems will not occur in practice but only in artificial
> > examples, we have not bothered detecting them.
> 
> Yes, this is understandable but if most people are like me (questionable
> assumption I admit) they try a few artificial examples first to get
> the general idea of how these things work. I guess there is a certain
> illogical assumption that if I try what seems to me to be an obviously
> easy problem and it cannot handle it then something must be wrong and
> trying harder problems is not going to help.

Perhaps you need to read up on the algorithmic theory so you are not so
easily confused.  NLS problems with an exact-fit solution are a different
sub-class with different effective algorithms.

> > > Is there any chance of getting this to work? Should I split up the
> > > complex numbers into components and write my equations are equivalent
> > > expressions in reals (ugly but I could do it if I have to)?
> > 
> > That's the best short-term solution.
> 
> OK, I'll go with that.
> 
> > In general, how do you want to
> > define the residual sum of squares for a complex-valued response?
> > Should it be the sum of the modulus of the residuals?
> 
> My thinking was that the `obvious' choice is the sum of the
> SQUARES of the modulus of the residuals. Using the modulus itself
> would be similar to using the absolute value of the residuals in the
> non-complex case (not what we want I believe).

Sum of squares is common, and ises for complex linear regression in those
cases where it makes sense (e.g. in time series regression one
FFT-ed series on others).

> Another way of looking at it would be to think of extending the
> residual from a scalar to a vector -- the natural extension of the
> `square' operation is to square each element in the vector.
> The current R system already uses this as the natural extension
> to multiply and everyone seems happy with that:
> 
> > square <- function( x ) { x * x }
> > square( -3 )
> [1] 9
> > square( -3:4 )
> [1]  9  4  1  0  1  4  9 16
> 
> So once you have squared all the elements it makes sense to sum them
> up, just like you do with the residuals in any case. Then you get
> support for vector square residuals as being the same as the dot product
> of the vector with itself (i.e. the only way to multiply a vector
> with itself to get a scalar).
> 
> Keeping the logic going, a complex number is sort of like a special
> case of a two element vector (yeah I know they aren't exactly the
> same) so squaring the real and squaring the imaginary parts and summing
> them up would seem consistent. But then Pythagoras points out that
> this is the same as the square of the modulus in any case,
> a full circle has been drawn.
> 
> > We could put complex-valued nonlinear least squares on the wishlist
> > but I would have to warn you that there are many other items in front
> > of it.
> 
> wish wish wish...
> 
> Now I think of it, there are two steps in this wish.
> The first is to allow complex numbers to be allowed in the model
> calculation at all and thus allow them to be residuals.
> 
> The second is to think about whether the parameters should be
> allowed to be complex. I would argue that this second one is not
> a good idea because it is rather easy to convert two real valued 
> model parameters into a single complex number -- this ensures that
> each model parameter is exactly one degree of freedom.
> 
> On the other hand, it is kind of painful to expand out complex
> calculations into their real equivalents, and frustrating too when
> there is a perfectly good complex calculator so close, yet so far away.
> 
> In either case, the documentation should mention that complex
> numbers are not supported.

Why should documentation mention everything the function does not do? There
are *lots* of places in R where numeric quantities must be real.  Linear
regression (lm) for a start.  What nls says is

 formula: a nonlinear model formula including variables and parameters

which is none too explicit, but the reference (Bates & Watts) is,
so I assume you did not read it.

A pretty good reasonable assumption is that statistics does not work
in complexe numbers unless explicitly stated.  That's why in R

> sqrt(-1)
[1] NaN
Warning message: 
NaNs produced in: sqrt(-1) 


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Sun Jul  2 10:44:42 2000
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Sun, 2 Jul 2000 11:44:42 +0200
Subject: [Rd] Re: more Rd ordering
In-Reply-To: <395BB576.E1BAB8D0@bank-banque-canada.ca>
References: <395BB576.E1BAB8D0@bank-banque-canada.ca>
Message-ID: <200007020944.LAA06552@aragorn.ci.tuwien.ac.at>

>>>>> Paul Gilbert writes:

> Although the ordering from Rdindex and R CMD build now agrees when I
> run them at a command prompt, for some reason Rdindex now gives a
> different order when it is run at a command prompt than it does when
> it is run from make. My Makefile entry is:

> %/INDEX : %/man
>  @echo "making target $@ ..."
>  (cd $(dir $@) ; R  CMD    Rdindex man/*.Rd >INDEX )

> Any ideas?

Yes.  It may be that again you have the effect of your shell/locale etc
producing the different ordering.  Try using just the mandir rather than
the wildcard.  I.e., something like

%/INDEX : %/man
	@echo "making target $@ ..."
	(cd $(dir $@) ; R  CMD    Rdindex man >INDEX )

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Sun Jul  2 10:44:42 2000
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Sun, 2 Jul 2000 11:44:42 +0200
Subject: [Rd] Re: [R] Re: no subject --> plot.date(.)
In-Reply-To: <395DB4AA.6F504D58@statistik.uni-dortmund.de>
References: <4.3.2.7.0.20000701100706.00dc9100@127.0.0.1>
 <395DB4AA.6F504D58@statistik.uni-dortmund.de>
Message-ID: <200007020944.LAA06555@aragorn.ci.tuwien.ac.at>

>>>>> Uwe Ligges writes:

> Troels Ring wrote:
>> 
>> Dear friends. Library Date was updated recently. I do not remember having
>> seen the error below until now ? The plot title is made appropriately but
>> the error message may be annoying, right ? I use version 1.1 on windows 98.
>> 
>> library(date)
>> tt <- as.date(c("1jan1960", "2jan1960", "31mar1960", "30jul1960"))
>> plot(tt,c(1:4),main="How's that ?")
>> Warning message:
>> parameter "main" couldn't be set in high-level plot() function

> Right. A few weeks ago I did some quick and ugly improvements to
> plot.date(.).  The warning (not error) message is generated by axis(.)
> which is called within plot.date(.). This warning message can be
> ignored.

> If anyone is interested in fixing this ...

Actually, I think Ross has some improvements concerning packaging the
graphic parameters coming up, which may simplify such tasks.

> There is also no dacumentation to pot.date(.) in package "date".

The docs say that there are various methods for class "date" objects.
If you feel that plot.date() deserves its own documentation, pls feel
free to write it ... :-)

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossini@biostat.washington.edu  Mon Jul  3 21:39:36 2000
From: rossini@biostat.washington.edu (A.J. Rossini)
Date: 03 Jul 2000 13:39:36 -0700
Subject: [Rd] Re: R help
In-Reply-To: Rich Heiberger's message of "Mon, 3 Jul 2000 16:40:43 -0400 (EDT)"
References: <200007032040.e63Kehn130228@surfer.sbm.temple.edu>
Message-ID: <874s672bjr.fsf@alpha.cfas.washington.edu>

(cc'ing R-devel as well).

>>>>> "RH" == Rich Heiberger <rmh@surfer.sbm.temple.edu> writes:

    RH> using Mx-R on ntemacs, when I type
    RH>    help(lm)
    RH> I get an emacs *help[R](lm)* buffer with "^M" on each line.  I
    RH> tried a few ways to make them go away and none worked.

    RH> When I tried help.start() then internet explorer wants to
    RH> download 4MB of Microsoft Virtual Machine.  What is that?  Why
    RH> do I need it?  Should I go back to IE3 or 4 instead of the 5 I
    RH> just installed?  5 strikes me as slower and less user
    RH> friendly.  It seems to have lost most of my previous history.

What version of R?  Which version of NTEmacs? 

I suspect it might have to do with the d*mn'd JavaScript in the help
files (which causes me slight annoyance since java/javascript, images,
and cookies are turned off by default in my browser, but that's minor
and mostly irrelevant).

But I might be wrong.  I've cc'd R-devel in case anyone knows what's
happening or has seen it before?

best,
-tony

-- 
A.J. Rossini		       Research Assistant Professor of Biostatistics 
Biostatistics/Univ. of Washington  (Th)	Box 357232   206-543-1044 (3286=fax)
Center for AIDS Research/HMC/UW	  (M/F)	Box 359931   206-731-3647 (3693=fax)
VTN/SCHARP/FHCRC		 (Tu/W)	Box 358080   206-667-7025 (4812=fax)
rossini@(biostat.washington.edu|u.washington.edu|scharp.org)
http://www.biostat.washington.edu/~rossini

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Tue Jul  4 03:20:04 2000
From: dmurdoch@pair.com (dmurdoch@pair.com)
Date: Tue, 4 Jul 2000 04:20:04 +0200 (MET DST)
Subject: [Rd] Bug with lists and expressions (PR#589)
Message-ID: <200007040220.EAA10125@pubhealth.ku.dk>

 I'm running R 1.1.0 for Windows; the behaviour is the same in 1.0.1.

 # create a list containing an expression: no problem
  x _ list(NA, expression(1))

 # Try to assign an expression to a list element, and get an error:
  x[[1]] _ expression(1)

 # Try again with a named list element:  no problem!
  x _ list(a=NA,expression(1))
  x$a _ expression(1)

The error message is: 

Error in "[[<-"(*tmp*, 1, value = expression(1))  :
	incompatible types

I think the error is in "[[<-", but that's a primitive, and I don't
know how to track it down any further.

Duncan Murdoch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Tue Jul  4 03:26:41 2000
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Tue, 04 Jul 2000 02:26:41 GMT
Subject: [Rd] Bug with lists and expressions
Message-ID: <39614504.13951296@julian.uwo.ca>

 I'm running R 1.1.0 for Windows; the behaviour is the same in 1.0.1.

 # create a list containing an expression: no problem
  x _ list(NA, expression(1))

 # Try to assign an expression to a list element, and get an error:
  x[[1]] _ expression(1)

 # Try again with a named list element:  no problem!
  x _ list(a=NA,expression(1))
  x$a _ expression(1)

The error message is: 

Error in "[[<-"(*tmp*, 1, value = expression(1))  :
	incompatible types

I think the error is in "[[<-", but that's a primitive, and I don't
know how to track it down any further.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From cate@neper.ethz.ch  Tue Jul  4 11:30:01 2000
From: cate@neper.ethz.ch (cate@neper.ethz.ch)
Date: Tue, 4 Jul 2000 12:30:01 +0200 (MET DST)
Subject: [Rd] Documentation bug (is.R). (PR#590)
Message-ID: <200007041030.MAA13203@pubhealth.ku.dk>

Full_Name: Giacomo Catenazzi
Version: 1.0.1
OS: Linux (Debian)
Submission from: (NULL) (129.132.9.24)


>From is.R documentation:

     `if (exists(is.R) && is.function(is.R) && is.R()) {'
     `    '## R-specific code
     `} else {'
     `    '## S-version of code
     `}'

It should be writen as '' exists("is.R") '' (is.R must be quoted).

> exists(is.R)
Error in exists(x, envir, mode, inherits) : 
	invalid first argument
> exists("is.R")
[1] TRUE


	giacomo

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Tue Jul  4 13:06:51 2000
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Tue, 4 Jul 2000 14:06:51 +0200 (MET DST)
Subject: [Rd] Documentation bug (is.R). (PR#590)
Message-ID: <200007041206.OAA14447@pubhealth.ku.dk>

>>>>> "cate" == cate  <cate@neper.ethz.ch> writes:

    cate> Full_Name: Giacomo Catenazzi
    cate> Version: 1.0.1
    cate> OS: Linux (Debian)
    cate> Submission from: (NULL) (129.132.9.24)


    >> From is.R documentation:

    cate> `if (exists(is.R) && is.function(is.R) && is.R()) {'
    cate> `    '## R-specific code
    cate> `} else {'
    cate> `    '## S-version of code
    cate> `}'

    cate> It should be writen as '' exists("is.R") '' (is.R must be quoted).

Thanks a lot;
now fixed for "R-(release-)patched"

Martin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From przemat@itti.com.pl  Tue Jul  4 13:54:06 2000
From: przemat@itti.com.pl (przemat@itti.com.pl)
Date: Tue, 4 Jul 2000 14:54:06 +0200 (MET DST)
Subject: [Rd] tseries bug (PR#592)
Message-ID: <200007041254.OAA15000@pubhealth.ku.dk>

Full_Name: Przemys쓰w Matuszewski
Version: R-1.1.0
OS: Linux RH 6.2
Submission from: (NULL) (195.117.211.244)


I have a problem with the package tseries_0.5-2.
The source of tseries_0.5-2 was compiled by command R INSTALL /path/to/package.

There was build the tseries library. Now when I try to load the package I get
the message:
...........................
    
    Type	"demo()" for some demos, "help()" for on-line help, or
    	"help.start()" for a HTML browser interface to help.
    Type	"q()" to quit R.

    > library(tseries)

    Segmentation fault (core dumped)

............................
                        
I would be appreciated if you could give me any suggestion what to do with it.

Best regards

Przemys쓰w Matuszewski

przemat@itti.com.pl


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From przemat@itti.com.pl  Tue Jul  4 13:59:38 2000
From: przemat@itti.com.pl (przemat@itti.com.pl)
Date: Tue, 4 Jul 2000 14:59:38 +0200 (MET DST)
Subject: [Rd] tseries bug (PR#593)
Message-ID: <200007041259.OAA15356@pubhealth.ku.dk>

Full_Name: Przemys쓰w Matuszewski
Version: R-1.1.0
OS: Linux RH 6.2
Submission from: (NULL) (195.117.211.244)


I have a problem with the package tseries_0.5-2.
The source of tseries_0.5-2 was compiled by command R INSTALL /path/to/package.

There was build the tseries library. Now when I try to load the package I get
the message:
...........................
    
    Type	"demo()" for some demos, "help()" for on-line help, or
    	"help.start()" for a HTML browser interface to help.
    Type	"q()" to quit R.

    > library(tseries)

    Segmentation fault (core dumped)

............................
                        
I would be appreciated if you could give me any suggestion what to do with it.

Best regards

Przemys쓰w Matuszewski

przemat@itti.com.pl


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From plummer@iarc.fr  Tue Jul  4 14:21:37 2000
From: plummer@iarc.fr (Martyn Plummer)
Date: Tue, 04 Jul 2000 15:21:37 +0200 (CEST)
Subject: [Rd] tseries bug (PR#592)
In-Reply-To: <200007041254.OAA15000@pubhealth.ku.dk>
Message-ID: <XFMail.000704152137.plummer@iarc.fr>

Not a problem with the tseries package, I think, but with Red Hat 6.2,
which has some serious problems dynamically loading Fortran.

Peter Dalgaard has reported that upgrading the C/fortran compilers to 
gcc 2.95.1 or later cures the problem.

I'll see if I can find an RPM of gcc-2.95.1 for RH 6.2 and put it in
the RedHat directory of CRAN.

Martyn

On 04-Jul-00 przemat@itti.com.pl wrote:
> Full_Name: Przemys쓰w Matuszewski
> Version: R-1.1.0
> OS: Linux RH 6.2
> Submission from: (NULL) (195.117.211.244)
> 
> 
> I have a problem with the package tseries_0.5-2.
> The source of tseries_0.5-2 was compiled by command R INSTALL
> /path/to/package.
> 
> There was build the tseries library. Now when I try to load the package I get
> the message:
> ...........................
>     
>     Type      "demo()" for some demos, "help()" for on-line help, or
>       "help.start()" for a HTML browser interface to help.
>     Type      "q()" to quit R.
> 
>     > library(tseries)
> 
>     Segmentation fault (core dumped)
> 
> ............................
>                         
> I would be appreciated if you could give me any suggestion what to do with
> it.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Adrian.Trapletti@wu-wien.ac.at  Tue Jul  4 14:27:47 2000
From: Adrian.Trapletti@wu-wien.ac.at (Adrian Trapletti)
Date: Tue, 04 Jul 2000 13:27:47 +0000
Subject: [Rd] tseries bug (PR#593)
References: <200007041259.OAA15356@pubhealth.ku.dk>
Message-ID: <3961E653.3B02000F@wu-wien.ac.at>

przemat@itti.com.pl wrote:

> Full_Name: Przemys쓰w Matuszewski
> Version: R-1.1.0
> OS: Linux RH 6.2
> Submission from: (NULL) (195.117.211.244)
>
> I have a problem with the package tseries_0.5-2.
> The source of tseries_0.5-2 was compiled by command R INSTALL /path/to/package.
>
> There was build the tseries library. Now when I try to load the package I get
> the message:
> ...........................
>
>     Type        "demo()" for some demos, "help()" for on-line help, or
>         "help.start()" for a HTML browser interface to help.
>     Type        "q()" to quit R.
>
>     > library(tseries)
>
>     Segmentation fault (core dumped)
>
> ............................
>
> I would be appreciated if you could give me any suggestion what to do with it.
>
> Best regards
>
> Przemys쓰w Matuszewski
>
> przemat@itti.com.pl
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.

Przemys쓰w and I already exchanged some emails about that problem, however, I have
not been able to reproduce this seg fault on my and Fritz Leisch's machine.
Perhaps anybody else had some similar problems?

Adrian

--
Adrian Trapletti, Vienna  University  of  Economics  and Business Ad-
ministration, Operations Research,  Augasse 2-6, 1090 Vienna, Austria
Phone: ++43-(0)1-31336-4561     Email: adrian.trapletti@wu-wien.ac.at
Fax: ++43-(0)1-31336-708   WWW: http://quor.wu-wien.ac.at/adrian.html



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From plummer@iarc.fr  Tue Jul  4 16:01:48 2000
From: plummer@iarc.fr (Martyn Plummer)
Date: Tue, 04 Jul 2000 17:01:48 +0200 (CEST)
Subject: [Rd] tseries bug (PR#592)
In-Reply-To: <XFMail.000704152137.plummer@iarc.fr>
Message-ID: <XFMail.000704170148.plummer@iarc.fr>

On 04-Jul-00 Martyn Plummer wrote:
> Not a problem with the tseries package, I think, but with Red Hat 6.2,
> which has some serious problems dynamically loading Fortran.
> 
> Peter Dalgaard has reported that upgrading the C/fortran compilers to 
> gcc 2.95.1 or later cures the problem.

I'm sorry to say that I still get the segfault with gcc-2.95.1 on 
RedHat 6.2.

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Wed Jul  5 17:31:45 2000
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Wed, 5 Jul 2000 18:31:45 +0200 (MET DST)
Subject: [Rd] svd() (Linpack) problems/bug for ill-conditioned matrices (PR#594)
Message-ID: <200007051631.SAA23153@pubhealth.ku.dk>


After fixing princomp(), recently,
	    {tiny negative eigen-values are possible for non-negative
	     definite matrices} 
Fritz Leisch drew my attention to the fact the not only eigen() can be
funny, but also svd().

Adrian Trappleti found that the singular values returned 
can be "-0" instead of "0".  This will be a problem in something like

    sd <- svd(Mat) $ d
    max(sd) / min(sd)

which gives  -Inf  instead of Inf in the above case.

I did some more searching and testing with svd(), could easily 
reproduce the "-0" problem,

    hilbert <- function(n, k=n) { i <- 1:n; 1 / outer(i - 1, i[1:k], "+") }

    M1 <- cbind(hilbert(12,8), pi*1e-15, 0)
    (sd <- svd(M1, nu=0, nv=0) $ d)
    sd[1] / sd[10] #--> -Inf  

but even worse:  On both Solaris (2.5.1, gcc 2.95.1, 
				  f77 "WorkShop Compilers 4.2"
                 and Linux (Redhat 6.2, enhanced with gcc 2.95.2;
			    g77 version egcs-2.91.66 19990314/Linux 
				(egcs-1.1.2 release) 
				(from FSF-g77 version 0.5.24-19981002)
I have managed to make svd() stop with
something like "error  170  in dsvdc"  which basically comes from the
underlying LINPACK routine DSVDC() which did not converge in 30 QR iterations.
example code appended
--- The examples I've found are machine dependent and disjoint for Linux &
Solaris.

HOWEVER:  S-PLUS 5.1 on both machines does NOT fail for the identical
	  matrices!
S-PLUS has basically	.Fortran("dsvdcs" ,
and looks like it is calling Linpack as well, but note that the subroutine
has an extra "s" appended (``S version of Linpack'' ??).

---

Then I had a short look at GSL (GNU scientific library) 
			http://sourceware.cygnus.com/gsl/
which calls a LAPACK (instead of LINPACK) routine for svd  which seems to
use Householder- instead of QR- iterations...

The whole makes me think that we should really shift away from Linpack and
towards Lapack for R's numerical linear algebra....

Here is my code which gives both an error (but not the same!) for R
on Linux and Solaris and all runs through S-PLUS 5.1 on both machines.


hilbert <- function(n) { i <- 1:n; 1 / outer(i - 1, i, "+") }
## "better":
hilbert <- function(n, k=n) { i <- 1:n; 1 / outer(i - 1, i[1:k], "+") }

M1 <- cbind(hilbert(12,8), 3.14e-15, 0)
M2 <- cbind(hilbert(15,8), .2,0)
H2c <- hilbert(200,180)

## Gives SVD error "error  170  in dsvdc" on (MM's) Solaris :
ii.sol <- c(87, 40, 120, 164, 93, 98, 108, 156, 77, 52, 127, 50, 58, 123,
        17, 147, 10, 152, 103, 136, 20, 34, 6, 30, 44, 130, 47, 35, 168,
        4, 115, 3, 29, 71, 56, 128, 90, 18, 60, 25, 125, 74, 91, 16,
        9, 111, 46, 137, 53, 110, 21, 94, 78, 104, 100, 99, 76, 126,
        62, 61, 117, 54, 140, 66, 150, 19, 149, 114, 63, 139, 2, 166,
        135, 23, 107, 8, 158, 39, 69, 75, 92, 112, 86, 124, 13, 118,
        151, 80, 146, 68, 43, 159, 36, 31, 144, 85, 122, 141, 11, 167,
        157, 1, 132, 97, 133, 79, 138, 49, 45, 72, 119, 84, 59, 131,
        5, 22, 116, 154, 142, 48, 73, 67, 161, 7, 155, 42, 41, 143, 57,
        33, 162, 102, 134, 101, 37, 148, 64, 160, 24, 27, 55, 83, 121,
        38, 106, 113, 28, 109, 70, 14, 32, 12, 65, 96, 129, 89, 163,
        88, 105, 15, 95, 145, 81, 165, 51, 153, 82, 169, 26)
H2c.sol <- cbind(H2c[,ii.sol], 1)

## NEW rec: -9.413e+14 ; nc =  164
## Gives SVD error 165 on Linux:
ii <- c(34, 101, 120, 53, 140, 108, 112, 9, 10, 96, 154, 89, 17, 131,
        130, 123, 126, 51, 95, 85, 147, 87, 132, 60, 58, 64, 150, 139,
        116, 36, 78, 107, 118, 104, 127, 61, 82, 84, 63, 23, 114, 124,
        83, 162, 55, 99, 50, 141, 8, 24, 25, 19, 65, 15, 2, 143, 145,
        148, 138, 136, 57, 22, 26, 1, 152, 129, 21, 69, 59, 20, 163,
        98, 92, 106, 88, 56, 70, 117, 37, 48, 115, 79, 68, 142, 4, 122,
        76, 28, 155, 29, 45, 13, 30, 47, 62, 31, 121, 119, 125, 74, 144,
        27, 93, 100, 71, 40, 149, 16, 157, 41, 33, 113, 133, 54, 14,
        156, 11, 97, 72, 75, 77, 49, 111, 128, 18, 35, 42, 6, 160, 32,
        3, 91, 66, 73, 44, 39, 81, 90, 153, 135, 43, 151, 159, 102, 161,
        12, 110, 5, 164, 67, 80, 46, 94, 7, 105, 134, 38, 146, 86, 103,
        137, 52, 158, 109)
H2c.lin <- cbind(H2c[,ii], 1)


(sd <- svd(M1, nu=0, nv=0) $ d) ; sd[1] / sd[length(sd)] #--> -Inf
(sd <- svd(M2, nu=0, nv=0) $ d) ; sd[1] / sd[length(sd)] #--> -Inf

summary(svd(H2c.sol)$d)## Error on Solaris only

summary(svd(H2c.lin)$d)## Error on Linux only (RH 6.2, gcc 2.95.2)
## BTW: quite a strong negative ratio
range( ev <- eigen(var(H2c.lin), only=T)$val )
ev[1] / ev[length(ev)] # -5.868e+15 (solaris);  -1.2115e+16 (linux)

### Try different  ii  and always do the following line :
summary(svd(cbind(H2c[,ii], 1))$d)


## BTW: Negative Eigenvalues
range( eigen(var(M2), only=T)$val )







-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From sharon@math.chalmers.se  Wed Jul  5 18:39:18 2000
From: sharon@math.chalmers.se (sharon@math.chalmers.se)
Date: Wed, 5 Jul 2000 19:39:18 +0200 (MET DST)
Subject: [Rd] eigen function on Solaris2.6 (PR#595)
Message-ID: <200007051739.TAA23364@pubhealth.ku.dk>

Full_Name: Sharon Kuhlmann
Version: 0.99
OS: solaris2.6   
Submission from: (NULL) (129.16.167.231)


When I use the function > eigen(x), it gives me a "Process R bus error", 
and the program quits.


I'm running the following R version:

platform sparc-sun-solaris2.6
arch     sparc               
os       solaris2.6          
system   sparc, solaris2.6   
status   Patched             
major    0                   
minor    99.0                
year     2000                
month    February            
day      9                   
language R         

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ligges@statistik.uni-dortmund.de  Wed Jul  5 20:13:43 2000
From: ligges@statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 05 Jul 2000 21:13:43 +0200
Subject: [Rd] eigen function on Solaris2.6 (PR#595)
References: <200007051739.TAA23364@pubhealth.ku.dk>
Message-ID: <396388E7.7D504A1E@statistik.uni-dortmund.de>

sharon@math.chalmers.se wrote:
> 
> Full_Name: Sharon Kuhlmann
> Version: 0.99

You should upgrade to R-1.1.0 (the latest release) before reporting a
bug ...


> OS: solaris2.6
> Submission from: (NULL) (129.16.167.231)
> 
> When I use the function > eigen(x), it gives me a "Process R bus error",
> and the program quits.


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Karl M.Hegbloom" <karlheg@debian.org  Wed Jul  5 22:05:51 2000
From: Karl M.Hegbloom" <karlheg@debian.org (Karl M. Hegbloom)
Date: 05 Jul 2000 14:05:51 -0700
Subject: [Rd] The "Blue book" and the R README.
Message-ID: <87ituk5lu8.fsf@bittersweet.intra>


 I've installed `R', and am beginning to learn about it.  I found a
 copy of "The New S Language", which has a copyright dated 1988.  The
 `R' README says it's 1998 though.  Is there a newer version, or is
 the README in error?

 Has anyone tried to get them to release the sources to the Blue Book?
 It says it was typeset with `troff'.  What are the odds they'd do
 that?  Do they still sell `S'?

 Do I own a rare book?  Or are there enough copies out there to meet
 demand?  Maybe I should memorize and eat it.

-- 
A few months in the laboratory often saves several hours at the library.
mailto:karlheg@debian.org (Karl M. Hegbloom)
irc: nick karlheg on irc.debian.org
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Thu Jul  6 08:13:27 2000
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Thu, 6 Jul 2000 09:13:27 +0200 (MET DST)
Subject: [Rd] eigen function on Solaris2.6 (PR#595)
Message-ID: <200007060713.JAA25401@pubhealth.ku.dk>

Thank you for the report,
Sharon,

>>>>> "sharon" == sharon  <sharon@math.chalmers.se> writes:

    sharon> When I use the function > eigen(x), it gives me a "Process R
    sharon> bus error", and the program quits.

We'd usually want to see an exactly reproducible example, i.e.

     x <- ......
     eigen (x)

but see below

    sharon> I'm running the following R version:

    sharon> platform sparc-sun-solaris2.6
    sharon> arch     sparc               
    sharon> os       solaris2.6          
    sharon> system   sparc, solaris2.6   
    sharon> status   Patched             
    sharon> major    0                   
    sharon> minor    99.0                
    sharon> year     2000                
    sharon> month    February            
    sharon> day      9                   
    sharon> language R         

Note that this is not even a released version of R (notice
"Patched"); it is pre version of R 1.0.0,
and nowadays you should not work anymore with R versions <= 0.99
(which BDR calls "beta").

Get 1.1(.0) from any CRAN site!

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Thu Jul  6 16:37:16 2000
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Thu, 6 Jul 2000 17:37:16 +0200 (MET DST)
Subject: [Rd] Re: [R] R 1.1.0 dev.print() & dev.copy2eps -- bug{let} (PR#596)
Message-ID: <200007061537.RAA02134@pubhealth.ku.dk>

>>>>> "StEgl" == Stephen Eglen <stephen@cogsci.ed.ac.uk> writes:

    StEgl> Hi, I just upgraded to 1.1.0 from 1.0.1 this morning on my OSF/1
    StEgl> machine.  I now have problems with the following code:

    StEgl> %E /tmp 43% R --vanilla
    StEgl> Version 1.1.0  (June 15, 2000)
    StEgl> ...

    >> test2 <- function ()
    {
    plot(runif(30))
    ofile <- "/tmp/newfile.ps"
    dev.print(file = ofile)
    }

    StEgl> + + + + + > > test2()
    StEgl> Error in device(...) : Object "ofile" not found


    StEgl> However, if I just write the filename directly into the call to
    StEgl> dev.print() rather than using a variable name, it works okay:


    >> test1 <- function ()
    {
     plot(runif(30))
     dev.print(file = "/tmp/newfile.ps")
    }

    StEgl> + + + + > > test1()
    StEgl> X11 
    StEgl> 2 

    StEgl> I just checked, and test1() works fine on R-1.0.1 
			       -------
you mean  test2();  test1() works on both, right?!

    StEgl> - what am I doing wrong?
nothing, "of course".
You found a bug, and hence I'm CC'ing to R-bugs.

Maybe, dev.print() is not what you should  have been using in the first place,
but rather dev.copy() directly which will probably solve your problem.

NOTE:  dev.print() has been extensively re-worked (for 1.1.0) in order to
       be "smart", e.g.,. to send the current plot to the printer by default
       depending on getOption("printer") and other things, and to allow
       other uses.  Hence, it works on the call and uses eval() ...

It seems is must become even smarter (or less tricky and more robust)...
       
BTW, the same applies to the new  dev.copy2eps() function which falls in
the same pit in its trickyness of using eval(...) :

  > tst3 <- function(outfile) { dev.copy2eps(file = outfile) }
  > tst3("/tmp/my2.eps")
  Error in device(...) : Object "outfile" not found

Martin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Fri Jul  7 01:57:04 2000
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Fri, 07 Jul 2000 00:57:04 GMT
Subject: [Rd] Streams package nearly completed
Message-ID: <39672958.19204442@julian.uwo.ca>

The binary file read/write package is approximately complete now.  The
only tasks remaining are:

 - compile the help to put together a compiled package
 - rewrite the Delphi code in C so it will run on other than Windows
machines

These are both likely to take me until late August, unless the
screaming fans demand it sooner. 

You can download the package source from my web page,
< http://www.stats.uwo.ca/faculty/murdoch/software/Rstreams.zip>.

The index file is reproduced here:

openstream: 	Open a file as a stream
closestream: 	Close a stream (or all streams)
readint: 		Read a vector of integers from the stream
readfloat: 	Read a vector of floats from the stream
readcomplex: 	Read a complex vector from the stream
readchar: 	Read a vector of character strings from the stream
writeint: 		Write a vector of integers to the stream
writefloat: 	Write a vector of floats to the stream
writecomplex: 	Write a complex vector to the stream
writechar: 	Write a vector of character strings to the stream
seek: 		Change the current position of the stream
truncate: 	Set the length of the stream
copy: 		Copy from one stream to another
allstreams: 	List all open streams
inttostr: 		Convert integers to hexadecimal (or other

	base)
hexdump: 	Display a hex dump of a stream
readsfile: 	Read a binary S-PLUS object file

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pd@blueberry.kubism.ku.dk  Fri Jul  7 06:15:05 2000
From: pd@blueberry.kubism.ku.dk (Peter Dalgaard BSA)
Date: Fri, 7 Jul 2000 07:15:05 +0200
Subject: [Rd] Bug list summary (automatic post)
Message-ID: <200007070515.HAA14649@blueberry.kubism.ku.dk>

=================================================
This is an automated summary of the status of the R-bugs
repository.

Note that this may be neither complete nor perfectly
correct at any given instance: Not all bugs are reported,
and some reported bugs may have been fixed, but the
repository not yet updated.

Some bug fixes are difficult to verify because they pertain
to specific hardware or operating system versions. If you
have information to contribute, please do so.

If you happen to know how to fix a problem please send
patches to the bug repository, too.

New bugs are reported either through the web
interface at r-bugs.biostat.ku.dk or via email to
r-bugs@biostat.ku.dk. The bug.report() function can be
used to automate parts of the procedure on many systems.
Followups on older bugs can be done by including the string
"(PR#999)" in the Subject of an email (change 999 to the
actual reference number, of course!).
=================================================

Directory:  Accuracy

none

Directory:  Add-ons

* PR# 567 *
Subject: ctest not works
From: George Diniz <george@cpqam.fiocruz.br>
Date: Sun, 12 Mar 2000 12:03:45 -0200
--possibly the RH6.2 Fortran bug
* PR# 503 *
Subject: dmvnorm() bug in e1071
From: "Gregory R. Warnes" <warnes@biostat.washington.edu>
Date: Fri, 24 Mar 2000 03:24:45 +0000 (GMT)
* PR# 496 *
From: bonneau@epi.roazhon.inra.fr (en148)
Date: Tue, 21 Mar 2000 10:57:13 +0100 (MET)
--base R has no est.variogram function.
--This appears to be a bug report on sgeostat.

Directory:  Analyses

none

Directory:  Documentation

none

Directory:  Graphics

* PR# 565 *
Subject: Postscript device ignores title if it is too long.
From: Stephen Eglen <stephen@anc.ed.ac.uk>
Date: Fri, 9 Jun 2000 09:17:09 +0100 (BST)
--documentation point was fixed for 1.1.0
* PR# 202 *
Subject: persp box occlusion bug
From: wsi@gcal.ac.uk
Date: Wed, 2 Jun 1999 15:02:03 +0200 (MET DST)
--The persp algorithm does not apply the occlusion rules to the frame, 
--which is always plotted first. 
--A bug, but not very simple to fix.

Directory:  In-Out

none

Directory:  Installation

* PR# 571 *
Subject:  Missing -lc for compilation on AIX (R 1.1.0) 
From: Thomas Vogels <tov@infiniti.ece.cmu.edu>
Date: Thu, 15 Jun 2000 13:42:50 -0400
* PR# 485 *
Subject: Install R1.0.0
From: Lynn Zhang <lyzhang@umich.edu>
Date: Mon, 13 Mar 2000 16:10:52 -0500 (EST)
* PR# 467 *
Subject: Re: [R] Re: R-1.0.0 is released
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 01 Mar 2000 20:26:40 +0100
--followup to PR#466
* PR# 466 *
Subject: Re: R-1.0.0 is released
From: bhoel@server.python.net (Berthold=?iso-8859-1?q?_H=F6llmann?=)
Date: 01 Mar 2000 16:00:54 +0100

Directory:  Language

* PR# 576 *
Subject:  exists() and the mode argument 
From: J.C.Rougier@durham.ac.uk
Date: Tue, 20 Jun 2000 12:03:36 +0100 (BST)
* PR# 412 *
Subject: anomalies with call objects
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 06 Feb 2000 01:18:50 +0100
* PR# 408 *
Subject: convolution bug
From: wsimpson@gcal.ac.uk
Date: Fri, 28 Jan 2000 11:17:36 +0100 (MET)

Directory:  Low-level

* PR# 545 *
Subject: Segmentation Fault of unknown cause
From: kjetikj@astro.uio.no
Date: Mon, 15 May 2000 16:29:29 +0200 (MET DST)
* PR# 505 *
Subject: interrupted save 
From: Thomas Lumley <thomas@biostat.washington.edu>
Date: Sat, 25 Mar 2000 12:16:50 -0800 (PST)

Directory:  Misc

none

Directory:  Models

none

Directory:  Startup

* PR# 486 *
Subject: Re: autoload error in profile {was anova-bug in R-version  1.0.0?}
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Tue, 14 Mar 2000 10:32:43 +0100 (MET)
--workaround to the origin problem in 1.0.1
--New report: try does not work from the profile.

Directory:  System-specific

* PR# 547 *
Subject: system(.., ignore.stderr = TRUE)  problem on Solaris
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Fri, 19 May 2000 21:12:02 +0200 (CEST)
--redirection of stderr to /dev/null in system occurs before the command
--is tried on some systems and after on others.
* PR# 452 *
Subject: problem with glm
From: Brad McNeney <mcneney@cs.sfu.ca>
Date: Fri, 18 Feb 2000 17:51:54 -0800 (PST)
--Problems on Alpha's with glm. Status unclear
* PR# 521 *
Subject: akima core dumps on loading
From: santini@dsi.unimi.it
Date: Mon, 17 Apr 2000 11:30:41 +0200 (MET DST)
--Probably compiler-specific
* PR# 490 *
Subject: R-1.0.0 on alpha/osf1 memory glitch
From: Ray Brownrigg <Ray.Brownrigg@mcs.vuw.ac.nz>
Date: Fri, 17 Mar 2000 11:25:30 +1300 (NZDT)
* PR# 537 *
Subject: eigen broken on AIX with R-devel?
From: Thomas J Vogels <tov@ece.cmu.edu>
Date: 08 May 2000 12:01:04 -0400
--AIX, probably compiler-specific
* PR# 534 *
Subject: wsfe bug report just made
From: mallen@tntech.edu
Date: Thu, 4 May 2000 19:20:35 +0200 (MET DST)
--follow up to PR#533
* PR# 533 *
Subject: acepack, akima and tripack will not load 
From: mallen@tntech.edu
Date: Thu, 4 May 2000 19:18:59 +0200 (MET DST)
--related to PR#521: probably compiler-specific

Directory:  TooMuchAtOnce

* PR# 532 *
Subject: Bug report -- 1.0.1, HP-UX
From: Russ Lenth <russell-lenth@uiowa.edu>
Date: Wed, 03 May 2000 12:15:26 -0500
--1) is a user error.
--2) command-line history has no information
--3) help.start looks like a permissions problem. 

Directory:  Windows

none

Directory:  incoming

* PR# 596 *
Subject: Re: [R] R 1.1.0 dev.print() & dev.copy2eps -- bug{let}
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Thu, 6 Jul 2000 17:36:28 +0200 (CEST)
* PR# 578 *
Subject: Re: [R] R 1.1 congrat; undocumented behaviour of recordPlot
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 22 Jun 2000 17:07:05 +0200
* PR# 551 *
Subject: Bus Error crash
From: kjetikj@astro.uio.no
Date: Mon, 22 May 2000 13:06:48 +0200 (MET DST)
* PR# 536 *
Subject: Problem with match.arg()
From: kjetikj@astro.uio.no
Date: Sun, 7 May 2000 13:58:21 +0200 (MET DST)
--1.0.0 bug fixed for 1.0.1 ??
* PR# 580 *
Subject: dotplot() colors reversed
From: Rashid Nassar <rnassar@duke.edu>
Date: Sun, 25 Jun 2000 15:36:00 -0400 (EDT)
* PR# 579 *
Subject: possible bug, anova.glm(), family="gaussian"
From: Rashid Nassar <rnassar@duke.edu>
Date: Sun, 25 Jun 2000 12:31:22 -0400 (EDT)
* PR# 583 *
Subject: persp greek label problem
From: ramin.nakisa@ncr.com
Date: Mon, 26 Jun 2000 20:06:38 +0200 (MET DST)
* PR# 582 *
Subject: lm.{w}fit(x,y,*) : fails when x has no column names
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Mon, 26 Jun 2000 15:50:58 +0200 (CEST)
* PR# 581 *
Subject: help screens: typos, suggestions
From: Rashid Nassar <rnassar@duke.edu>
Date: Sun, 25 Jun 2000 15:59:57 -0400 (EDT)
* PR# 585 *
Subject:  Missing SearchEngine.html 
From: Thomas J Vogels <tov@bavaria.ece.cmu.edu>
Date: Thu, 29 Jun 2000 08:12:06 -0400
* PR# 584 *
Subject: par(lty = "1") -- lty storage-etc bug
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Tue, 27 Jun 2000 09:11:36 +0200 (CEST)
* PR# 588 *
Subject: INTERNET SPY GUIDE finds info!
From: spysguidesnet12@rocketmail.com
Date: Sat, 01 Jul 00 20:15:34 EST
* PR# 587 *
Subject: dim(a <- ...) sets invisible flag erronously
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Fri, 30 Jun 2000 20:15:59 +0200 (MET DST)
* PR# 586 *
Subject: system.file on Windows, / vs \\
From: Thomas Lumley <thomas@biostat.washington.edu>
Date: Thu, 29 Jun 2000 09:49:39 -0700 (PDT)
* PR# 591 *
Subject: INCREASE SALES!
From: enamesoncd@earthlink.net
Date: Fri, 30 Jun 00 11:46:48 EST
* PR# 590 *
Subject: Documentation bug (is.R).
From: cate@neper.ethz.ch
Date: Tue, 4 Jul 2000 12:29:59 +0200 (MET DST)
* PR# 589 *
Subject: Bug with lists and expressions
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Tue, 04 Jul 2000 02:26:41 GMT
* PR# 593 *
Subject: tseries bug
From: przemat@itti.com.pl
Date: Tue, 4 Jul 2000 14:59:37 +0200 (MET DST)
* PR# 592 *
Subject: tseries bug
From: przemat@itti.com.pl
Date: Tue, 4 Jul 2000 14:52:17 +0200 (MET DST)
* PR# 595 *
Subject: eigen function on Solaris2.6
From: sharon@math.chalmers.se
Date: Wed, 5 Jul 2000 19:39:17 +0200 (MET DST)
* PR# 594 *
Subject: svd() (Linpack) problems/bug for ill-conditioned matrices
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Wed, 5 Jul 2000 18:32:01 +0200 (CEST)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From plucas@csd.abdn.ac.uk  Fri Jul  7 11:23:45 2000
From: plucas@csd.abdn.ac.uk (plucas@csd.abdn.ac.uk)
Date: Fri, 7 Jul 2000 12:23:45 +0200 (MET DST)
Subject: [Rd] multiply defined symbols (PR#597)
Message-ID: <200007071023.MAA07687@pubhealth.ku.dk>

Full_Name: Peter Lucas
Version: 1.1.0
OS: redHat 6.2 Linux
Submission from: (NULL) (139.133.200.15)


I tried to install R 1.1.0 on my i686 PC with Redhat 6.2 Linux on it.
I am using fort77 with f2c. I am not able to build R, as libc.a contains
regex.o, causing a conflict with src/main/regex.o. the ONEWS mentions
that this problem was solved, but it obviously was not. I am not a real
Unix hacker, so I wonder how to proceed.

Peter

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Fri Jul  7 15:46:02 2000
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 Jul 2000 16:46:02 +0200
Subject: [Rd] multiply defined symbols (PR#597)
In-Reply-To: plucas@csd.abdn.ac.uk's message of "Fri, 7 Jul 2000 12:23:45 +0200 (MET DST)"
References: <200007071023.MAA07687@pubhealth.ku.dk>
Message-ID: <x2wviyrob9.fsf@blueberry.kubism.ku.dk>

plucas@csd.abdn.ac.uk writes:

> I tried to install R 1.1.0 on my i686 PC with Redhat 6.2 Linux on it.
> I am using fort77 with f2c. I am not able to build R, as libc.a contains
> regex.o, causing a conflict with src/main/regex.o. the ONEWS mentions
> that this problem was solved, but it obviously was not. I am not a real
> Unix hacker, so I wonder how to proceed.

One possibility would be to use f2c directly. Pseudo Fortran compilers
like fort77 (which is just a script around f2c) do strange things
occasionally. Use the --with-f2c flag to configure.

The egcs-g77 package that comes with RH6.2 should work for compiling R
itself, but seems to be having trouble with some add-on packages.
gcc-2.95.1 and later seems to be OK.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rnassar@duke.edu  Sun Jul  9 03:18:00 2000
From: rnassar@duke.edu (rnassar@duke.edu)
Date: Sun, 9 Jul 2000 04:18:00 +0200 (MET DST)
Subject: [Rd] minor typos in help pages (PR#598)
Message-ID: <200007090218.EAA14023@pubhealth.ku.dk>

Dear R Team,

A few monor typos in help pages that I noticed. 

Thank you very much.

Rashid Nassar

1.
help(gl)
Examples:

     # First control, then treatment:
     gl(2,8, label=c("Ctnrl","Treat"))
                      ^^^^
I assume "Cntrl" is meant.                     

==========================================
2.
help(pmatch)

Details:

     The behaviour differs by the value of `duplicates.ok'. Consider
     ...
     behaviour for partial matching of character indices, for example
                            # looks like something is missing here  ^^^ 

# perhaps:                                     
 
    ... indices, for example.      #[i.e. the use for partial matching of
                            ^      # character indices is the example]
                            
# or:  

   ... indices, for example,  # and the actual example goes here but is 
left out 

# (I'm not sure which).
     
=========================================
3.
help(on.exit)

Description:

     `on.exit' records the expression given as its argument as needing
     to be executed when then current function exits (either naturally
                            ^ 
                         [the] 

========================================
4.
help(influence.measures)

References:
 
     Cook, R. D. and Weisber,g S. (1982) Residuals and Influence in
                           ^^^      
=========================================

--please do not edit the information below--

Version:
 platform = i586-pc-linux-gnu
 arch = i586
 os = linux-gnu
 system = i586, linux-gnu
 status = Patched
 major = 1
 minor = 1.0
 year = 2000
 month = July
 day = 1
 language = R

Search Path:
 .GlobalEnv, Autoloads, package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Jul  9 09:41:49 2000
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 9 Jul 2000 09:41:49 +0100 (BST)
Subject: [Rd] minor typos in help pages (PR#598)
In-Reply-To: <200007090218.EAA14023@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.05.10007090939140.10400-100000@auk.stats>

Thank you, all fixed for 1.1.1 in the R-patched branch.

On Sun, 9 Jul 2000 rnassar@duke.edu wrote:


> Dear R Team,
> 
> A few monor typos in help pages that I noticed. 
> 
> Thank you very much.
> 
> Rashid Nassar
> 
> 1.
> help(gl)
> Examples:
> 
>      # First control, then treatment:
>      gl(2,8, label=c("Ctnrl","Treat"))
>                       ^^^^
> I assume "Cntrl" is meant.                     

I've used `Control' as it seemed confusing to abbreviate it at all.

> 
> ==========================================
> 2.
> help(pmatch)
> 
> Details:
> 
>      The behaviour differs by the value of `duplicates.ok'. Consider
>      ...
>      behaviour for partial matching of character indices, for example
>                             # looks like something is missing here  ^^^ 

(It was a missing `.'.)

....

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kjetil.kjernsmo@astro.uio.no  Sun Jul  9 20:34:24 2000
From: kjetil.kjernsmo@astro.uio.no (Kjetil Kjernsmo)
Date: Sun, 9 Jul 2000 21:34:24 +0200 (MET DST)
Subject: [Rd] Modified Histogram functions
Message-ID: <Pine.OSF.4.05.10007092108130.14507-100000@alnair.uio.no>

Dear all,

I have done further modifications on the histogram functions that I
reported earlier this year, and I hope this can be of use and perhaps
included in the distribution. I have been using this stuff a couple of
months myself, and while it is nothing sophisticated, it has it's
applications. :-) I did a few small modifications today to make it a bit
more compact.

I have modified the hist.default() function so that the list it returns
has class "histogram". I have put the plotting in a separate function,
plot.histogram(), which is called from hist.default if plot=T, and I have
made a lines.histogram() (calling it "lines", is that a wise choice? It
seemed most natural, but then again....), which can be used to overlay
histograms on existing histograms. Here it is obviously a lot of room for
improvement. E.g. calling plot.histogram() with multiple histogram
objects could produce a plot where coloumns representing the same values
are grouped, I haven't addressed that. The code is below my .sig.

As you can see, there are few changes from your code. The biggest change
is that hist.default() calls plot.histogram() (or rather plot()). Also
note that the warning about wrong areas only appears in hist.default(). I
figured that the user is most likely created the histogram object with
hist, so s/he might no want to be bothered with this warning again. I
don't know if this is wise, s/he might just have forgotten or something. :-)

I guess plot.histogram() may also be made more compact by calling
lines.histogram() to plot the actual rects, but I didn't find a practical
way of doing this, so I didn't... :-) And, contrary to
the other functions making histogram plots, lines.histogram() does take
lty as an argument (useful for making dotted borders, to separate one
histogram from another, particulary useful when using colors).

I've got a function for adding two similar histograms as well, but that's
so hacked up I guess it isn't worth much.

BTW, I found a typo in the help for rect:
     xpd: logical (``expand''); if `FLASE', everything is clipped to
          the plot region.

Hope this is useful for someone... :-)

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj@astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster@skepsis.no 

hist <- function(x, ...) UseMethod("hist")

hist.default <-
function (x, breaks, freq= NULL, probability = !freq, include.lowest= TRUE,
       right=TRUE, col = NULL, border = par("fg"),
       main = paste("Histogram of" , deparse(substitute(x))),
       xlim = range(breaks), ylim = range(y, 0),
       xlab = deparse(substitute(x)), ylab,
       axes = TRUE, plot = TRUE, labels = FALSE, nclass = NULL, ...)
{
  if (!is.numeric(x))
    stop("hist: x must be numeric")
  main # eval() now: defeat lazy eval
  xlab
  n <- length(x <- x[!is.na(x)])
  use.br <- !missing(breaks)
  if(use.br) {
    if(!missing(nclass))
      warning("`nclass' not used when `breaks' specified")
  }
  else if(!is.null(nclass) && length(nclass) == 1)
    breaks <- nclass
  use.br <- use.br && (nB <- length(breaks)) > 1
  if(use.br)
    breaks <- sort(breaks)
  else { # construct vector of breaks
    rx <- range(x)
    nnb <-
    if(missing(breaks)) 1 + log2(n)
    else { # breaks = `nclass'
      if (is.na(breaks) | breaks < 2)
        stop("invalid number of breaks")
      breaks
    }
    breaks <- pretty (rx, n = nnb, min.n=1, eps.corr = 2)
    nB <- length(breaks)
    if(nB <= 1) { ##-- Impossible !
      stop(paste("hist.default: pretty() error, breaks=",format(breaks)))
    }
  }
  storage.mode(x) <- "double"
  storage.mode(breaks) <- "double"
  counts <- .C("bincount",
               x,
               n,
               breaks,
               nB,
               counts = integer(nB - 1),
               right = as.logical(right),
               include= as.logical(include.lowest),
               NAOK = FALSE, DUP = FALSE, PACKAGE = "base") $counts
  if (any(counts < 0))
  stop("negative `counts'. Internal Error in C-code for \"bincount\"")
  if (sum(counts) < n)
  stop("some `x' not counted; maybe `breaks' do not span range of `x'")
  h <- diff(breaks)
  if (!use.br && any(h <= 0))
  stop("not strictly increasing `breaks'.")
  if (is.null(freq)) {
    freq <- if(!missing(probability))
    !as.logical(probability)
    else if(use.br) {
      ##-- Do frequencies if breaks are evenly spaced
      max(h)-min(h) < 1e-7 * mean(h)
    } else TRUE
  } else if(!missing(probability) && any(probability == freq))
    stop("`probability is an alias for `!freq', however they differ.")
  intensities <- counts/(n*h)
  mids <- 0.5 * (breaks[-1] + breaks[-nB])
  y <- if (freq) counts else intensities
  r <- structure(list(breaks = breaks, counts = counts,
                      intensities = intensities, mids = mids),
                 class="histogram")
  if (plot) {
    if(freq && use.br && max(h)-min(h) > 1e-7 * mean(h))
    warning("the AREAS in the plot are wrong -- maybe use `freq=FALSE'")
    plot(r, freq = freq, probability = !freq, col = col, border = border,
         main = main, xlim = xlim, ylim = ylim, xlab = xlab, ylab = ylab,
         axes = axes, labels = labels, ...)
    invisible(r)
  }
  else r
}

plot.histogram <- function (x, freq= NULL, probability = !freq, 
                            col = NULL, border = par("fg"),
                            main = paste("Histogram of" ,
                              deparse(substitute(x))),
                            xlim = range(x$breaks), ylim = range(y, 0),
                            xlab = deparse(substitute(x)), ylab,
                            axes = TRUE, labels = FALSE,  ...)
{
  if (is.null(freq)) {
    freq <- if(!missing(probability))
      !as.logical(probability) else TRUE
  } else if(!missing(probability) && any(probability == freq))
  stop("`probability' is an alias for `!freq', however they differ.")
  y <- if (freq) x$counts else x$intensities
  nB <- length(x$breaks)
  plot.new()
  plot.window(xlim, ylim, "") #-> ylim's default from 'y'
  if (missing(ylab))
    ylab <- paste(if(!freq)"Relative ", "Frequency", sep="")
  title(main = main, xlab = xlab, ylab = ylab, ...)
  if(axes) {
    axis(1, ...)
    axis(2, ...)
  }
  rect(x$breaks[-nB], 0, x$breaks[-1], y,
       col = col, border = border)
  if(labels)
    text(x$mids, y,
         labels = if(freq) x$counts else round(x$intensities,3),
         adj = c(0.5, -0.5))
  invisible()
}

lines.histogram <- function(x, freq=NULL, probability=!freq,
                            col=NULL, border=par("fg"), lty=NULL...)
{
  if (is.null(freq)) {
    freq <- if(!missing(probability))
      !as.logical(probability) else TRUE
  } else if(!missing(probability) && any(probability == freq))
    stop("`probability' is an alias for `!freq', however they differ.")
  y <- if (freq) x$counts else x$intensities
  nB <- length(x$breaks)
  rect(x$breaks[-nB], 0, x$breaks[-1], y,
       col = col, border = border, lty = lty)
  invisible()
}
 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Mon Jul 10 09:43:10 2000
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Mon, 10 Jul 2000 10:43:10 +0200 (CEST)
Subject: [Rd] Modified Histogram functions
In-Reply-To: <Pine.OSF.4.05.10007092108130.14507-100000@alnair.uio.no>
References: <Pine.OSF.4.05.10007092108130.14507-100000@alnair.uio.no>
Message-ID: <14697.35998.939655.91419@gargle.gargle.HOWL>

>>>>> "Kjetil" == Kjetil Kjernsmo <kjetil.kjernsmo@astro.uio.no> writes:

    Kjetil> Dear all, I have done further modifications on the histogram
    Kjetil> functions that I reported earlier this year, and I hope this
    Kjetil> can be of use and perhaps included in the distribution. I have
    Kjetil> been using this stuff a couple of months myself, and while it
    Kjetil> is nothing sophisticated, it has it's applications. :-) I did a
    Kjetil> few small modifications today to make it a bit more compact.

    Kjetil> I have modified the hist.default() function so that the list it
    Kjetil> returns has class "histogram". I have put the plotting in a
    Kjetil> separate function, plot.histogram(), which is called from
    Kjetil> hist.default if plot=T, and I have made a lines.histogram()
    Kjetil> (calling it "lines", is that a wise choice? It seemed most
    Kjetil> natural, but then again....), which can be used to overlay
    Kjetil> histograms on existing histograms. Here it is obviously a lot
    Kjetil> of room for improvement. E.g. calling plot.histogram() with
    Kjetil> multiple histogram objects could produce a plot where coloumns
    Kjetil> representing the same values are grouped, I haven't addressed
    Kjetil> that. The code is below my .sig.

Your main idea is great and something we (people here) 
have been considering to do as well.

I'd definitely want to put something along these lines into base R.
Please, "everyone chime in!"

    Kjetil> As you can see, there are few changes from your code. The
    Kjetil> biggest change is that hist.default() calls plot.histogram()
    Kjetil> (or rather plot()). Also note that the warning about wrong
    Kjetil> areas only appears in hist.default(). I figured that the user
    Kjetil> is most likely created the histogram object with hist, so s/he
    Kjetil> might no want to be bothered with this warning again. I don't
    Kjetil> know if this is wise, s/he might just have forgotten or
    Kjetil> something. :-)

    Kjetil> I guess plot.histogram() may also be made more compact by
    Kjetil> calling lines.histogram() to plot the actual rects, but I
    Kjetil> didn't find a practical way of doing this, so I didn't... :-)
    Kjetil> And, contrary to the other functions making histogram plots,
    Kjetil> lines.histogram() does take lty as an argument (useful for
    Kjetil> making dotted borders, to separate one histogram from another,
    Kjetil> particulary useful when using colors).

    Kjetil> I've got a function for adding two similar histograms as well,
    Kjetil> but that's so hacked up I guess it isn't worth much.

    Kjetil> BTW, I found a typo in the help for rect: xpd: logical
    Kjetil> (``expand''); if `FLASE', everything is clipped to the plot
    Kjetil> region.

    Kjetil> Hope this is useful for someone... :-)

certainly, thanks a lot!

	   <.... sig and code snipped ....>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Prof Brian Ripley <ripley@stats.ox.ac.uk>  Mon Jul 10 14:36:51 2000
From: Prof Brian Ripley <ripley@stats.ox.ac.uk> (Prof Brian Ripley)
Date: Mon, 10 Jul 2000 14:36:51 +0100 (BST)
Subject: [Rd] dim(a <- ...) sets invisible flag erronously (PR#587)
Message-ID: <200007101336.OAA12626@toucan.stats.ox.ac.uk>


> Date: Fri, 30 Jun 2000 20:15:51 +0200 (MET DST)
> From: maechler@stat.math.ethz.ch
> To: r-devel@stat.math.ethz.ch
> Subject: [Rd] dim(a <- ...) sets invisible flag erronously (PR#587)
> CC: R-bugs@biostat.ku.dk
> X-Loop: R-bugs@biostat.ku.dk
> 
> {Nothing really harmful;  R 1.1.0}
> 
> dim(.) sets (or doesn't clear) the  ``invisible flag'' for printing in
> certain circumstances:
> 
>   > dim(a <- cbind(1))
>   >
> 
> does *not* print as it should :
> 
>   > dim(a)
>   [1] 1 1

This is nothing to do with dim: any function will do this.

> foo <- function(x) x
> foo(a <- cbind(1))

It happens because the way invisible is implemented is different in R and S:
in S there is a .Auto.print var in frame 1, and in R there is a global
variable R_visible, so anything during the evaluation that unsets the
flag will ensure that the result is invisible.

I don't see how to avoid this without checking the `depth' in the evaluation
pretty carefully (and R's semantics differ from those of S in that
braced expressions do not generate a frame).

Is this worth fixing?  print(.Last.value) works all the time, and perhaps
you might be persuaded not to write code that uses assignments as arguments?

> ---
> 
> Question to the real "hackers" :
> 
> How can I check this using R code alone (not using files),
> i.e. (how) can I ask an R expression if its ``invisible flag'' is set or not ?
> 
> {help(invisible) doesn't help here}.
> 
> Maybe one would want an
> 
>       is.invisible(.)
> 
> function?

There seems to be an unused internal function do_visibleflag in print.c.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rnassar@duke.edu  Tue Jul 11 00:54:53 2000
From: rnassar@duke.edu (rnassar@duke.edu)
Date: Tue, 11 Jul 2000 01:54:53 +0200 (MET DST)
Subject: [Rd] help page typos (PR#599)
Message-ID: <200007102354.BAA23288@pubhealth.ku.dk>

A couple of help page typos that I came across:

1. 
help(sample)

Arguments:

       x: Either a (numeric, complex, character or logical) vector of
          more than one elements from which to choose, or a positive
                               ^
                       [element] 

2. 
help(delay)

Description:

     `delay' creates a promise to evaluate the given expression in the
     specifies environment if its value is requested. This provides
             ^
    [specified]

Many thanks for R.

Rashid Nassar


--please do not edit the information below--

Version:
 platform = i586-pc-linux-gnu
 arch = i586
 os = linux-gnu
 system = i586, linux-gnu
 status = Patched
 major = 1
 minor = 1.0
 year = 2000
 month = July
 day = 1
 language = R

Search Path:
 .GlobalEnv, package:mva, package:cluster, Autoloads, package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Jul 11 08:01:18 2000
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 11 Jul 2000 08:01:18 +0100 (BST)
Subject: [Rd] help page typos (PR#599)
In-Reply-To: <200007102354.BAA23288@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.05.10007110800510.17317-100000@auk.stats>

Changed for the patched distribution, thank you.

On Tue, 11 Jul 2000 rnassar@duke.edu wrote:

> A couple of help page typos that I came across:
> 
> 1. 
> help(sample)
> 
> Arguments:
> 
>        x: Either a (numeric, complex, character or logical) vector of
>           more than one elements from which to choose, or a positive
>                                ^
>                        [element] 
> 
> 2. 
> help(delay)
> 
> Description:
> 
>      `delay' creates a promise to evaluate the given expression in the
>      specifies environment if its value is requested. This provides
>              ^
>     [specified]
> 
> Many thanks for R.
> 
> Rashid Nassar
> 
> 
> --please do not edit the information below--
> 
> Version:
>  platform = i586-pc-linux-gnu
>  arch = i586
>  os = linux-gnu
>  system = i586, linux-gnu
>  status = Patched
>  major = 1
>  minor = 1.0
>  year = 2000
>  month = July
>  day = 1
>  language = R
> 
> Search Path:
>  .GlobalEnv, package:mva, package:cluster, Autoloads, package:base
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Tue Jul 11 09:38:34 2000
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Tue, 11 Jul 2000 10:38:34 +0200 (MET DST)
Subject: [Rd] help page typos (PR#599)
Message-ID: <200007110838.KAA24920@pubhealth.ku.dk>


>>>>> "RNa" == Rashid Nassar <rnassar@duke.edu> writes:

    RNa> A couple of help page typos that I came across: 1.  help(sample)

Very astonishing.  
These typos are *not* in the current version of R.

Your (re-installation) must have been semi-broken or something....

    RNa> Arguments:

    RNa>        x: Either a (numeric, complex, character or logical) vector
    RNa> of more than one elements from which to choose, or a positive ^
    RNa> [element]

    RNa> 2.  help(delay)

    RNa> Description:

    RNa>      `delay' creates a promise to evaluate the given expression in
    RNa> the specifies environment if its value is requested. This provides
    RNa> ^ [specified]

    RNa> Many thanks for R.

    RNa> Rashid Nassar


    RNa> --please do not edit the information below--

    RNa> Version: platform = i586-pc-linux-gnu arch = i586 os = linux-gnu
    RNa> system = i586, linux-gnu status = Patched major = 1 minor = 1.0
    RNa> year = 2000 month = July day = 1 language = R

    RNa> Search Path: .GlobalEnv, package:mva, package:cluster, Autoloads,
    RNa> package:base


    RNa> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
    RNa> r-devel mailing list -- Read
    RNa> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info",
    RNa> "help", or "[un]subscribe" (in the "body", not the subject !)  To:
    RNa> r-devel-request@stat.math.ethz.ch
    RNa> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Tue Jul 11 09:43:12 2000
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Tue, 11 Jul 2000 10:43:12 +0200 (MET DST)
Subject: [Rd] help page typos (PR#599)
Message-ID: <200007110843.KAA25014@pubhealth.ku.dk>


>>>>> "RNa" == Rashid Nassar <rnassar@duke.edu> writes:

    RNa> A couple of help page typos that I came across: 1.  help(sample)

MM>> Very astonishing.  
MM>> These typos are *not* in the current version of R.
MM>> 
MM>> Your (re-installation) must have been semi-broken or something....

Fooled myself!  Excuse me, I'm using too many versions of R...

I'm sorry for that, and 
thanks for reporting these!

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kreft@Cardiff.ac.uk  Tue Jul 11 15:06:26 2000
From: Kreft@Cardiff.ac.uk (Jan Kreft)
Date: Tue, 11 Jul 2000 15:06:26 +0100 (BST)
Subject: [Rd] Help: R seg faults
Message-ID: <Pine.OSF.4.10.10007111505440.9847-100000@thor>

Dear list,

I hope this is the right forum to ask. I have just downloaded and compiled
R, but I get a segfault after I start R.

make, make test/check, went OK.

My system is
linux-2.2.13
glibc-2.1.3
gcc 2.95.2
R-1.1.0

Here is a backtrace from gdb:

(gdb) file /usr/local/lib/R/bin/R.bin
Reading symbols from /usr/local/lib/R/bin/R.bin...done.
(gdb) run
Starting program: /usr/local/lib/R/bin/R.bin 

R : Copyright 2000, The R Development Core Team
Version 1.1.0  (June 15, 2000)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type    "?license" or "?licence" for distribution details.

R is a collaborative project with many contributors.
Type    "?contributors" for a list.

Type    "demo()" for some demos, "help()" for on-line help, or
        "help.start()" for a HTML browser interface to help.
Type    "q()" to quit R.


Program received signal SIGSEGV, Segmentation fault.
0x400da7bc in _IO_fflush (fp=0x819ecd8) at iofflush.c:41
41            result = _IO_SYNC (fp) ? EOF : 0;
(gdb) bt
#0  0x400da7bc in _IO_fflush (fp=0x819ecd8) at iofflush.c:41
#1  0x8122165 in rl_prep_terminal (meta_flag=0) at rltty.c:555
#2  0x811cb08 in _rl_callback_newline () at callback.c:76
#3  0x811cb4a in rl_callback_handler_install (prompt=0x4093c210 "> ", linefunc=0x80e8798 <readline_handler>) at callback.c:95
#4  0x80e89b5 in Rstd_ReadConsole (prompt=0x4093c210 "> ", buf=0xbfffeedc "", len=1024, addtohistory=1) at ../../../R-1.1.0/src/unix/sys-std.c:357
#5  0x80e6b2e in R_ReadConsole (prompt=0x4093c210 "> ", buf=0xbfffeedc "", len=1024, addtohistory=1) at ../../../R-1.1.0/src/unix/system.c:66
#6  0x8097d78 in R_ReplConsole (rho=0x40296338, savestack=0, browselevel=0) at ../../../R-1.1.0/src/main/main.c:128
#7  0x80985e2 in run_Rmainloop () at ../../../R-1.1.0/src/main/main.c:454
#8  0x8098620 in Rf_mainloop () at ../../../R-1.1.0/src/main/main.c:468
#9  0x80e715a in main (ac=0, av=0xbffff7f4) at ../../../R-1.1.0/src/unix/system.c:222

Cheers, Jan.

Jan Kreft                               Phone  +44 (0)29 20875278
Cardiff School of Biosciences           Fax    +44 (0)29 20874305
Cardiff	University                      E-mail Kreft@cardiff.ac.uk
PO Box 915, Cardiff CF10 3TL, UK


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Jul 11 17:14:48 2000
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 11 Jul 2000 17:14:48 +0100 (BST)
Subject: [Rd] Help: R seg faults
In-Reply-To: <Pine.OSF.4.10.10007111505440.9847-100000@thor>
Message-ID: <Pine.GSO.4.05.10007111706390.17580-100000@auk.stats>

On Tue, 11 Jul 2000, Jan Kreft wrote:

> Dear list,
> 
> I hope this is the right forum to ask. I have just downloaded and compiled
> R, but I get a segfault after I start R.

That segfault is from readline, not R itself.

> make, make test/check, went OK.
> 
> My system is
> linux-2.2.13
> glibc-2.1.3
> gcc 2.95.2
> R-1.1.0

and where did you get readline from? (Is this some Linux distribution?)

> Here is a backtrace from gdb:
> 
> (gdb) file /usr/local/lib/R/bin/R.bin
> Reading symbols from /usr/local/lib/R/bin/R.bin...done.
> (gdb) run
> Starting program: /usr/local/lib/R/bin/R.bin 
> 
> R : Copyright 2000, The R Development Core Team
> Version 1.1.0  (June 15, 2000)
> 
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type    "?license" or "?licence" for distribution details.
> 
> R is a collaborative project with many contributors.
> Type    "?contributors" for a list.
> 
> Type    "demo()" for some demos, "help()" for on-line help, or
>         "help.start()" for a HTML browser interface to help.
> Type    "q()" to quit R.
> 
> 
> Program received signal SIGSEGV, Segmentation fault.
> 0x400da7bc in _IO_fflush (fp=0x819ecd8) at iofflush.c:41
> 41            result = _IO_SYNC (fp) ? EOF : 0;
> (gdb) bt
> #0  0x400da7bc in _IO_fflush (fp=0x819ecd8) at iofflush.c:41
> #1  0x8122165 in rl_prep_terminal (meta_flag=0) at rltty.c:555
> #2  0x811cb08 in _rl_callback_newline () at callback.c:76
> #3  0x811cb4a in rl_callback_handler_install (prompt=0x4093c210 "> ", linefunc=0x80e8798 <readline_handler>) at callback.c:95
> #4  0x80e89b5 in Rstd_ReadConsole (prompt=0x4093c210 "> ", buf=0xbfffeedc "", len=1024, addtohistory=1) at ../../../R-1.1.0/src/unix/sys-std.c:357
> #5  0x80e6b2e in R_ReadConsole (prompt=0x4093c210 "> ", buf=0xbfffeedc "", len=1024, addtohistory=1) at ../../../R-1.1.0/src/unix/system.c:66
> #6  0x8097d78 in R_ReplConsole (rho=0x40296338, savestack=0, browselevel=0) at ../../../R-1.1.0/src/main/main.c:128
> #7  0x80985e2 in run_Rmainloop () at ../../../R-1.1.0/src/main/main.c:454
> #8  0x8098620 in Rf_mainloop () at ../../../R-1.1.0/src/main/main.c:468
> #9  0x80e715a in main (ac=0, av=0xbffff7f4) at ../../../R-1.1.0/src/unix/system.c:222

Thanks for the detail, which enables me to guess at how to solve this....

Suggestions:

(1) configure with --without-readline and see if that works (it
should, since make check does).  You `just' lose the command-line history.

(2) Compile the current readline sources yourself and use that, building
from scratch. In so far as your spec looks like RH6.2 with gcc-2.95.2 added
(from memory), that has a good chance to work as it did for me. It might
matter that readline is compiled with the same compiler as R.  (I know it
should not, but RH6.2 seems to have some problems making dynamic libraries
with the supplied egcs.)


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kreft@Cardiff.ac.uk  Tue Jul 11 18:10:32 2000
From: Kreft@Cardiff.ac.uk (Jan Kreft)
Date: Tue, 11 Jul 2000 18:10:32 +0100 (BST)
Subject: [Rd] Help: R seg faults
In-Reply-To: <Pine.GSO.4.05.10007111706390.17580-100000@auk.stats>
Message-ID: <Pine.OSF.4.10.10007111805280.9847-100000@thor>

Thanks,

that's it. Configuring --without-readline avoids the problem. Will now get
a new version of readline and see if I can make it work. Can't figure out
which version of readline I have, though I found two identical copies of
the readline dir, one in /usr/include and one in /usr/local/include.

My system was a long time ago SuSE linux 6.1, but I have made many
changes, such as glibc, gcc, kernel.

Thanks again, Jan.

On Tue, 11 Jul 2000, Prof Brian D Ripley wrote:

> On Tue, 11 Jul 2000, Jan Kreft wrote:
> 
> > Dear list,
> > 
> > I hope this is the right forum to ask. I have just downloaded and compiled
> > R, but I get a segfault after I start R.
> 
> That segfault is from readline, not R itself.
> 
> > make, make test/check, went OK.
> > 
> > My system is
> > linux-2.2.13
> > glibc-2.1.3
> > gcc 2.95.2
> > R-1.1.0
> 
> and where did you get readline from? (Is this some Linux distribution?)
> 
> > Here is a backtrace from gdb:
> > 
> > (gdb) file /usr/local/lib/R/bin/R.bin
> > Reading symbols from /usr/local/lib/R/bin/R.bin...done.
> > (gdb) run
> > Starting program: /usr/local/lib/R/bin/R.bin 
> > 
> > R : Copyright 2000, The R Development Core Team
> > Version 1.1.0  (June 15, 2000)
> > 
> > R is free software and comes with ABSOLUTELY NO WARRANTY.
> > You are welcome to redistribute it under certain conditions.
> > Type    "?license" or "?licence" for distribution details.
> > 
> > R is a collaborative project with many contributors.
> > Type    "?contributors" for a list.
> > 
> > Type    "demo()" for some demos, "help()" for on-line help, or
> >         "help.start()" for a HTML browser interface to help.
> > Type    "q()" to quit R.
> > 
> > 
> > Program received signal SIGSEGV, Segmentation fault.
> > 0x400da7bc in _IO_fflush (fp=0x819ecd8) at iofflush.c:41
> > 41            result = _IO_SYNC (fp) ? EOF : 0;
> > (gdb) bt
> > #0  0x400da7bc in _IO_fflush (fp=0x819ecd8) at iofflush.c:41
> > #1  0x8122165 in rl_prep_terminal (meta_flag=0) at rltty.c:555
> > #2  0x811cb08 in _rl_callback_newline () at callback.c:76
> > #3  0x811cb4a in rl_callback_handler_install (prompt=0x4093c210 "> ", linefunc=0x80e8798 <readline_handler>) at callback.c:95
> > #4  0x80e89b5 in Rstd_ReadConsole (prompt=0x4093c210 "> ", buf=0xbfffeedc "", len=1024, addtohistory=1) at ../../../R-1.1.0/src/unix/sys-std.c:357
> > #5  0x80e6b2e in R_ReadConsole (prompt=0x4093c210 "> ", buf=0xbfffeedc "", len=1024, addtohistory=1) at ../../../R-1.1.0/src/unix/system.c:66
> > #6  0x8097d78 in R_ReplConsole (rho=0x40296338, savestack=0, browselevel=0) at ../../../R-1.1.0/src/main/main.c:128
> > #7  0x80985e2 in run_Rmainloop () at ../../../R-1.1.0/src/main/main.c:454
> > #8  0x8098620 in Rf_mainloop () at ../../../R-1.1.0/src/main/main.c:468
> > #9  0x80e715a in main (ac=0, av=0xbffff7f4) at ../../../R-1.1.0/src/unix/system.c:222
> 
> Thanks for the detail, which enables me to guess at how to solve this....
> 
> Suggestions:
> 
> (1) configure with --without-readline and see if that works (it
> should, since make check does).  You `just' lose the command-line history.
> 
> (2) Compile the current readline sources yourself and use that, building
> from scratch. In so far as your spec looks like RH6.2 with gcc-2.95.2 added
> (from memory), that has a good chance to work as it did for me. It might
> matter that readline is compiled with the same compiler as R.  (I know it
> should not, but RH6.2 seems to have some problems making dynamic libraries
> with the supplied egcs.)
> 
> 
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kreft@Cardiff.ac.uk  Tue Jul 11 18:47:41 2000
From: Kreft@Cardiff.ac.uk (Jan Kreft)
Date: Tue, 11 Jul 2000 18:47:41 +0100 (BST)
Subject: [Rd] Help: R seg faults
In-Reply-To: <Pine.OSF.4.10.10007111805280.9847-100000@thor>
Message-ID: <Pine.OSF.4.10.10007111845480.9847-100000@thor>

OK,

just installed new readline-4.1 and recompiled and R works fine with
history. What a relief!

Cheers, Jan.

On Tue, 11 Jul 2000, Jan Kreft wrote:

> Thanks,
> 
> that's it. Configuring --without-readline avoids the problem. Will now get
> a new version of readline and see if I can make it work. Can't figure out
> which version of readline I have, though I found two identical copies of
> the readline dir, one in /usr/include and one in /usr/local/include.
> 
> My system was a long time ago SuSE linux 6.1, but I have made many
> changes, such as glibc, gcc, kernel.
> 
> Thanks again, Jan.
> 
> On Tue, 11 Jul 2000, Prof Brian D Ripley wrote:
> 
> > On Tue, 11 Jul 2000, Jan Kreft wrote:
> > 
> > > Dear list,
> > > 
> > > I hope this is the right forum to ask. I have just downloaded and compiled
> > > R, but I get a segfault after I start R.
> > 
> > That segfault is from readline, not R itself.
> > 
> > > make, make test/check, went OK.
> > > 
> > > My system is
> > > linux-2.2.13
> > > glibc-2.1.3
> > > gcc 2.95.2
> > > R-1.1.0
> > 
> > and where did you get readline from? (Is this some Linux distribution?)
> > 
> > > Here is a backtrace from gdb:
> > > 
> > > (gdb) file /usr/local/lib/R/bin/R.bin
> > > Reading symbols from /usr/local/lib/R/bin/R.bin...done.
> > > (gdb) run
> > > Starting program: /usr/local/lib/R/bin/R.bin 
> > > 
> > > R : Copyright 2000, The R Development Core Team
> > > Version 1.1.0  (June 15, 2000)
> > > 
> > > R is free software and comes with ABSOLUTELY NO WARRANTY.
> > > You are welcome to redistribute it under certain conditions.
> > > Type    "?license" or "?licence" for distribution details.
> > > 
> > > R is a collaborative project with many contributors.
> > > Type    "?contributors" for a list.
> > > 
> > > Type    "demo()" for some demos, "help()" for on-line help, or
> > >         "help.start()" for a HTML browser interface to help.
> > > Type    "q()" to quit R.
> > > 
> > > 
> > > Program received signal SIGSEGV, Segmentation fault.
> > > 0x400da7bc in _IO_fflush (fp=0x819ecd8) at iofflush.c:41
> > > 41            result = _IO_SYNC (fp) ? EOF : 0;
> > > (gdb) bt
> > > #0  0x400da7bc in _IO_fflush (fp=0x819ecd8) at iofflush.c:41
> > > #1  0x8122165 in rl_prep_terminal (meta_flag=0) at rltty.c:555
> > > #2  0x811cb08 in _rl_callback_newline () at callback.c:76
> > > #3  0x811cb4a in rl_callback_handler_install (prompt=0x4093c210 "> ", linefunc=0x80e8798 <readline_handler>) at callback.c:95
> > > #4  0x80e89b5 in Rstd_ReadConsole (prompt=0x4093c210 "> ", buf=0xbfffeedc "", len=1024, addtohistory=1) at ../../../R-1.1.0/src/unix/sys-std.c:357
> > > #5  0x80e6b2e in R_ReadConsole (prompt=0x4093c210 "> ", buf=0xbfffeedc "", len=1024, addtohistory=1) at ../../../R-1.1.0/src/unix/system.c:66
> > > #6  0x8097d78 in R_ReplConsole (rho=0x40296338, savestack=0, browselevel=0) at ../../../R-1.1.0/src/main/main.c:128
> > > #7  0x80985e2 in run_Rmainloop () at ../../../R-1.1.0/src/main/main.c:454
> > > #8  0x8098620 in Rf_mainloop () at ../../../R-1.1.0/src/main/main.c:468
> > > #9  0x80e715a in main (ac=0, av=0xbffff7f4) at ../../../R-1.1.0/src/unix/system.c:222
> > 
> > Thanks for the detail, which enables me to guess at how to solve this....
> > 
> > Suggestions:
> > 
> > (1) configure with --without-readline and see if that works (it
> > should, since make check does).  You `just' lose the command-line history.
> > 
> > (2) Compile the current readline sources yourself and use that, building
> > from scratch. In so far as your spec looks like RH6.2 with gcc-2.95.2 added
> > (from memory), that has a good chance to work as it did for me. It might
> > matter that readline is compiled with the same compiler as R.  (I know it
> > should not, but RH6.2 seems to have some problems making dynamic libraries
> > with the supplied egcs.)
> > 
> > 
> > -- 
> > Brian D. Ripley,                  ripley@stats.ox.ac.uk
> > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > University of Oxford,             Tel:  +44 1865 272861 (self)
> > 1 South Parks Road,                     +44 1865 272860 (secr)
> > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> > 
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> > 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From john.maindonald@anu.edu.au  Wed Jul 12 05:41:45 2000
From: john.maindonald@anu.edu.au (john.maindonald@anu.edu.au)
Date: Wed, 12 Jul 2000 06:41:45 +0200 (MET DST)
Subject: [Rd] Faulty handling of aliasing in predict.lm; wrong constant (PR#600)
Message-ID: <200007120441.GAA00112@pubhealth.ku.dk>

There are several residual problems in predict.lm
(1) The constant is wrongly set; it should be the mean
of the values of the y-variable.
(2) Standard errors are wrongly calculated when columns
of X are aliased, or when part of a term is aliased.
(3) There is an associated column labelling issue.

I have sent Thomas Lumley code that fixes these problems,
and replaces looping by rows with matrix operations.

There is an issue of whether predicted values should be
set to zero or to NA for terms that are totally aliased.

> "xx" <-
+ structure(list(fac1 = structure(c(1, 2, 3, 1, 2, 3, 1, 2, 3, 
+ 1, 2, 3, 1, 2, 3, 1, 2, 3), .Label = c("1", "2", "3"), class = "factor"), 
+     fac2 = structure(c(1, 2, 2, 1, 2, 2, 1, 2, 2, 1, 3, 3, 1, 
+     3, 3, 1, 3, 3), .Label = c("1", "2", "3"), class = "factor"), 
+     x1 = c(2, 6, 6, 8, 8, 10, 16, 6, 2, 6, 18, 4, 10, 6, 4, 10, 
+     14, 4), x2 = c(6, 25, 9, 8, 31, 29, 40, 8, 8, 6, 21, 20, 
+     22, 5, 15, 30, 22, 10), alias = c(7, 28, 12, 12, 35, 34, 
+     48, 11, 9, 9, 30, 22, 27, 8, 17, 35, 29, 12), x4 = c(16, 
+     48, 34, 46, 62, 73, 205, 36, 30, 40, 193, 43, 65, 44, 27, 
+     72, 98, 17), y = c(27, 103, 38, 35, 126, 119, 311, 34, 34, 
+     28, 95, 82, 92, 22, 62, 124, 94, 41)), .Names = c("fac1", 
+ "fac2", "x1", "x2", "alias", "x4", "y"), row.names = c("1", "2", 
+ "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", 
+ "15", "16", "17", "18"), class = "data.frame")
> 
> # fac2 is partly aliased with fac1
> # alias is aliased with x1 and x2
> 
> xx
   fac1 fac2 x1 x2 alias  x4   y
1     1    1  2  6     7  16  27
2     2    2  6 25    28  48 103
3     3    2  6  9    12  34  38
4     1    1  8  8    12  46  35
5     2    2  8 31    35  62 126
6     3    2 10 29    34  73 119
7     1    1 16 40    48 205 311
8     2    2  6  8    11  36  34
9     3    2  2  8     9  30  34
10    1    1  6  6     9  40  28
11    2    3 18 21    30 193  95
12    3    3  4 20    22  43  82
13    1    1 10 22    27  65  92
14    2    3  6  5     8  44  22
15    3    3  4 15    17  27  62
16    1    1 10 30    35  72 124
17    2    3 14 22    29  98  94
18    3    3  4 10    12  17  41
> xx.lm<-lm(y~x1+x2+alias+x4,data=xx)
> coef(xx.lm)
(Intercept)          x1          x2       alias          x4 
 -1.9862799  -7.9406705   4.6773165          NA   0.9931177 
> xx0.lm<-lm(y~x1+x2+x4,data=xx)
> 
> predict(xx0.lm,se=T)$se[1:2]
[1] 9.874704 8.793774
> predict(xx.lm,se=T)$se[1:2]    # Should be the same as above
[1] 10.939605  9.329757
> 
> predict(xx.lm,type="terms")[1:2,]
        x1        x2     alias x4
1 45.87943 -53.78914 -47.50413 NA
2 14.11675  35.07987 -15.72436 NA
> 
> attributes(predict(xx.lm,type="terms"))$constant
(Intercept) 
   -1.98628 
> 
> predict(xx0.lm,type="terms",se=T)$se[1:2,]
         x1       x2        x4
1 17.820298 7.791400 12.783126
2  5.483169 5.081348  4.231348
> predict(xx.lm,type="terms",se=T)$se[1:2,]  # Should be the same as above
            x1           x2     alias x4
1 9.613248e+15 3.826812e+16 12.797489 NA
2 2.957923e+15 2.495747e+16  4.236103 NA
> 
> xx
   fac1 fac2 x1 x2 alias  x4   y
1     1    1  2  6     7  16  27
2     2    2  6 25    28  48 103
3     3    2  6  9    12  34  38
4     1    1  8  8    12  46  35
5     2    2  8 31    35  62 126
6     3    2 10 29    34  73 119
7     1    1 16 40    48 205 311
8     2    2  6  8    11  36  34
9     3    2  2  8     9  30  34
10    1    1  6  6     9  40  28
11    2    3 18 21    30 193  95
12    3    3  4 20    22  43  82
13    1    1 10 22    27  65  92
14    2    3  6  5     8  44  22
15    3    3  4 15    17  27  62
16    1    1 10 30    35  72 124
17    2    3 14 22    29  98  94
18    3    3  4 10    12  17  41



--please do not edit the information below--

Version:
 platform = Windows
 arch = x86
 os = Win32
 system = x86, Win32
 status = 
 major = 1
 minor = 1.0
 year = 2000
 month = June
 day = 15
 language = R

Windows 9x 4.10 (build 2222)  A 

Search Path:
 .GlobalEnv, Autoloads, package:base
John Maindonald               email : john.maindonald@anu.edu.au        
Statistical Consulting Unit,  phone : (6249)3998        
c/o CMA, SMS,                 fax   : (6249)5549  
John Dedman Mathematical Sciences Building
Australian National University
Canberra ACT 0200
Australia


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From john.maindonald@anu.edu.au  Wed Jul 12 06:50:47 2000
From: john.maindonald@anu.edu.au (john.maindonald@anu.edu.au)
Date: Wed, 12 Jul 2000 07:50:47 +0200 (MET DST)
Subject: [Rd] plot.times error -- missing or illegal tck parameter (PR#601)
Message-ID: <200007120550.HAA00294@pubhealth.ku.dk>

There seems no default setting for tck, causing problems
for plot.times()

> library(chron)
> dts <- dates(c("02/27/92", "02/27/92", "01/14/92",
+                "02/28/92", "02/01/92"))
> y<-chron(dts,out.format=c("dmy","h:m:s"))
> y
[1] 270292 270292 140192 280292 010292
> plot(y,1:5)
Error in axis(n, at = at.x, labels = labels, ...) : 
        invalid value specified for graphics parameter "tck".
> plot(y,1:5,tck=0.01)
> traceback()
[1] "axis(n, at = at.x, labels = labels, ...)"                     
[2] "axis.times(1, x, simplify = simplify, labels = T, adj = adj, "
[3] "    col = col, cex = cex, font = font, las = las, lab = lab, "
[4] "    mgp = mgp, tck = tck)"                                    
[5] "plot.times(y, 1:5)"                                           
[6] "plot(y, 1:5)"                                                 
> par()$tck
[1] NA


--please do not edit the information below--

Version:
 platform = Windows
 arch = x86
 os = Win32
 system = x86, Win32
 status = 
 major = 1
 minor = 1.0
 year = 2000
 month = June
 day = 15
 language = R

Windows 9x 4.10 (build 2222)  A 

Search Path:
 .GlobalEnv, package:chron, Autoloads, package:base

John Maindonald               email : john.maindonald@anu.edu.au        
Statistical Consulting Unit,  phone : (6249)3998        
c/o CMA, SMS,                 fax   : (6249)5549  
John Dedman Mathematical Sciences Building
Australian National University
Canberra ACT 0200
Australia


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Wed Jul 12 07:19:10 2000
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Wed, 12 Jul 2000 08:19:10 +0200 (MET DST)
Subject: [Rd] plot.times error -- missing or illegal tck parameter (PR#601)
Message-ID: <200007120619.IAA00417@pubhealth.ku.dk>

>>>>> "JMd" == john maindonald <john.maindonald@anu.edu.au> writes:

    JMd> There seems no default setting for tck, causing problems
    JMd> for plot.times()

    >> library(chron)
    >> dts <- dates(c("02/27/92", "02/27/92", "01/14/92",
       +                "02/28/92", "02/01/92"))
    >> y<-chron(dts,out.format=c("dmy","h:m:s"))
    >> y
       [1] 270292 270292 140192 280292 010292
    >> plot(y,1:5)
         Error in axis(n, at = at.x, labels = labels, ...) : 
         invalid value specified for graphics parameter "tck".
    >> plot(y,1:5,tck=0.01)
    >> traceback()
         [1] "axis(n, at = at.x, labels = labels, ...)"                     
         [2] "axis.times(1, x, simplify = simplify, labels = T, adj = adj, "
         [3] "    col = col, cex = cex, font = font, las = las, lab = lab, "
         [4] "    mgp = mgp, tck = tck)"                                    
         [5] "plot.times(y, 1:5)"                                           
         [6] "plot(y, 1:5)"                                                 
    >> par()$tck
         [1] NA

Well, the default must be NA since   ?par says

 help_par>     tck: The length of tick marks as a fraction of the smaller of the
 help_par>          width or height of the plotting region. If `tck=1', grid
 help_par>          lines are drawn. The default setting is to use `tcl=-0.5'
 help_par>          (see below).
 help_par> 
 help_par>     tcl: The length of tick marks as a fraction of the height of a
 help_par>          line of text.  The default value is `-0.5'.

which is different than other dialects of S on purpose!

So the bug is really in  plot.times only  which hasn't properly been
ported from S-PLUS to R.

Martin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Wed Jul 12 07:35:58 2000
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Wed, 12 Jul 2000 08:35:58 +0200 (MET DST)
Subject: [Rd] buglet in fix() [was "function via source or fix"] (PR#602)
Message-ID: <200007120635.IAA00523@pubhealth.ku.dk>

>>>>> "Erin" == Erin Hodgess <hodgess@uhddx01.dt.uh.edu> writes:

    Erin> Suppose I create a function, x.e, via the fix command:

(ESS users ESS don't ever do this, but still ...)

    >> x.e <- fix(x.e)

    Erin> When I type in x.e, the function code appears, along
    Erin> with the name/number of the environment.

Ok, in the above it was important that there's no *existing* object x.e 
beforehand.

Note that the idea about  fix() is that you only have to write

     fix(x.e)

But your problem remains :

    > fix(newerf)
    Waiting for Emacs...Done	--- I have  options(editor = "emacsclient")
    > newerf
    function ()
    {
    ## newer
    }
    <environment: 0x40862004>
    > environment(newerf)
    <environment: 0x40862004>
    > ls(env=environment(newerf))
    [1] "subx" "x"   
    >

I.e. it got the environment of the function fix -- I think this is clearly
a bug  CC'ed to  R-bugs

    Erin> However, if I create a function, y.e, and source it in, when
    Erin> I type in y.e, the function code only displays(no
    Erin> environment).

    Erin> Why is this, please?  (It's not a bug....I just wondered).

it *is* a bug, I think

    Erin> I am using R-1.1.0 for Windows.
same for Unix

    Erin> Thanks!
thank you for the report!

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Jul 12 09:05:09 2000
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 12 Jul 2000 09:05:09 +0100 (BST)
Subject: [Rd] buglet in fix() [was "function via source or fix"] (PR#602)
In-Reply-To: <200007120635.IAA00523@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.05.10007120858480.18731-100000@auk.stats>

On Wed, 12 Jul 2000 maechler@stat.math.ethz.ch wrote:

> >>>>> "Erin" == Erin Hodgess <hodgess@uhddx01.dt.uh.edu> writes:
> 
>     Erin> Suppose I create a function, x.e, via the fix command:
> 
> (ESS users ESS don't ever do this, but still ...)
> 
>     >> x.e <- fix(x.e)
> 
>     Erin> When I type in x.e, the function code appears, along
>     Erin> with the name/number of the environment.
> 
> Ok, in the above it was important that there's no *existing* object x.e 
> beforehand.
> 
> Note that the idea about  fix() is that you only have to write
> 
>      fix(x.e)
> 
> But your problem remains :
> 
>     > fix(newerf)
>     Waiting for Emacs...Done	--- I have  options(editor = "emacsclient")
>     > newerf
>     function ()
>     {
>     ## newer
>     }
>     <environment: 0x40862004>
>     > environment(newerf)
>     <environment: 0x40862004>
>     > ls(env=environment(newerf))
>     [1] "subx" "x"   
>     >
> 
> I.e. it got the environment of the function fix -- I think this is clearly
> a bug  CC'ed to  R-bugs

And the fix is easy: just add

environment(x) <- .GlobalEnv

in that branch of the if.  Now committed to the R-patched branch.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Torsten.Hothorn@rzmail.uni-erlangen.de  Wed Jul 12 09:39:26 2000
From: Torsten.Hothorn@rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Wed, 12 Jul 2000 10:39:26 +0200 (CEST)
Subject: [Rd] exact distributions
Message-ID: <Pine.LNX.4.21.0007121035060.30215-100000@artemis.imbe.med.uni-erlangen.de>


I just uploaded a new version of the prototype of the Streitberg-Roehmel
algorithm for the determination of exact distributions to cran. It works
without any optimization and has now examples how to compute the exact
Wilcoxon- and Ansari-Bradley distribution (and compares the results to
dwilcox and dansari from ctest in the untied case). 

Torsten  

 _______________________________________________________________________
|									|
|	Dipl.-Stat. Torsten Hothorn					|
|	Institut fuer Medizininformatik, Biometrie und Epidemiologie	|	
|	Waldstrasse 6, D-91054 Erlangen, Deutschland			|
|	Tel: ++49-9131-85-22707						|
|	Fax: ++49-9131-85-25740						|
|	Email: Torsten.Hothorn@rzmail.uni-erlangen.de			|
|_______________________________________________________________________|	

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Wed Jul 12 21:23:07 2000
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Wed, 12 Jul 2000 22:23:07 +0200
Subject: [Rd] plot.times error -- missing or illegal tck parameter (PR#601)
In-Reply-To: <200007120619.IAA00417@pubhealth.ku.dk>
References: <200007120619.IAA00417@pubhealth.ku.dk>
Message-ID: <200007122023.WAA05134@aragorn.ci.tuwien.ac.at>

>>>>> maechler  writes:

>>>>> "JMd" == john maindonald <john.maindonald@anu.edu.au> writes:
JMd> There seems no default setting for tck, causing problems
JMd> for plot.times()

>>> library(chron)
>>> dts <- dates(c("02/27/92", "02/27/92", "01/14/92",
>        +                "02/28/92", "02/01/92"))
>>> y<-chron(dts,out.format=c("dmy","h:m:s"))
>>> y
>        [1] 270292 270292 140192 280292 010292
>>> plot(y,1:5)
>          Error in axis(n, at = at.x, labels = labels, ...) : 
>          invalid value specified for graphics parameter "tck".
>>> plot(y,1:5,tck=0.01)
>>> traceback()
>          [1] "axis(n, at = at.x, labels = labels, ...)"                     
>          [2] "axis.times(1, x, simplify = simplify, labels = T, adj = adj, "
>          [3] "    col = col, cex = cex, font = font, las = las, lab = lab, "
>          [4] "    mgp = mgp, tck = tck)"                                    
>          [5] "plot.times(y, 1:5)"                                           
>          [6] "plot(y, 1:5)"                                                 
>>> par()$tck
>          [1] NA

> Well, the default must be NA since   ?par says

help_par> tck: The length of tick marks as a fraction of the smaller of the
help_par> width or height of the plotting region. If `tck=1', grid
help_par> lines are drawn. The default setting is to use `tcl=-0.5'
help_par> (see below).
help_par> 
help_par> tcl: The length of tick marks as a fraction of the height of a
help_par> line of text.  The default value is `-0.5'.

> which is different than other dialects of S on purpose!

> So the bug is really in  plot.times only  which hasn't properly been
> ported from S-PLUS to R.

Not sure if I understand this correctly.

* First of all, I don't think the documentation is clear.  It explains
what tck is and then says that the default for tcl is something.  And,
it does not say that the default for tck is NA.

* Secondly, are you saying that in R we should rather use tcl than tck
and hence tck does not have a default value?  What happens if both tcl
and tck are set?

* If this is an intentional difference, should it be listed in the FAQ?

Re the chron problem, are you suggesting to replace `tck' by `tcl' in
code such as

    if(is.null(tck <- dots$tck)) tck <- par("tck")

    axis.times(..., tck = tck)

?

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Wed Jul 12 21:23:07 2000
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Wed, 12 Jul 2000 22:23:07 +0200
Subject: [Rd] Re: [R] Compiling R on RS6000 AIX 4.3
In-Reply-To: <Pine.GSO.4.21.0007120757050.10755-100000@atlas.biostat.washington.edu>
References: <14700.14074.532567.886857@gargle.gargle.HOWL>
 <Pine.GSO.4.21.0007120757050.10755-100000@atlas.biostat.washington.edu>
Message-ID: <200007122023.WAA05135@aragorn.ci.tuwien.ac.at>

>>>>> Thomas Lumley writes:

> On Wed, 12 Jul 2000, Martin Maechler wrote:
>> >>>>> "Peter" == Peter Cameron <peter.cameron@enscitech.com> writes:
>> 
Peter> I've been searching through the R help archives and came across
Peter> only one AIX compilation question in March, which received no
Peter> public responses. I'm currently having the same problems with
Peter> the "Illegal instruction" and core dump of running R 1.0.1 on
Peter> AIX 4.3.
>> 
Peter> Firstly, the R distribution was missing some FORTRAN routines,
>> No!
>> You didn't search enough.

> I think it's more complicated than that.  The last time I tried
> compiling R on AIX there was a configure problem with the BLAS
> functions.  The library libblas existed but the functions had the
> wrong names (due to differences in use of underscores by fortran
> compilers). This meant that R didn't compile its own BLAS but couldn't
> link to the system one either. I thought this had been fixed, though.

> I got it to work using gcc/g77 and compiling --without-blas.  I don't
> know if the people at CMU who use AIX have more options that work.

> There is a real problem with some C/Fortran combinations on AIX.

Hmm.  Is the problem still there in release-patched?

We have

	if test "${r_cv_prog_f77_append_underscore}" = yes; then
	  fun=dgemm_
	else
	  fun=dgemm
	fi

and then

	if test -n "${BLAS}" && ${use_blas}; then
	  AC_CHECK_LIB(blas, ${fun},
	    [ FLIBS="-lblas ${FLIBS}" BLAS=""
	      if ${use_blas_risc}; then
	        AC_CHECK_LIB(blas_risc, main,
		  FLIBS="-lblas_risc ${FLIBS}", , ${FLIBS})
	      fi
	    ], ,
	    ${FLIBS})
	fi

so if the test whether the Fortran compiler appends underscores worked
o.k. then we should be checking for the correct symbol.

So, what is wrong?

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rnassar@duke.edu  Thu Jul 13 00:13:20 2000
From: rnassar@duke.edu (rnassar@duke.edu)
Date: Thu, 13 Jul 2000 01:13:20 +0200 (MET DST)
Subject: [Rd] pairs(), "cex" argument has no effect (PR#603)
Message-ID: <200007122313.BAA06079@pubhealth.ku.dk>

Dear R Team,

pairs():   "cex", "cex.axis", "cex.label" arguments do not seem to have an
effect.  I am submitting this report in case they were inteded to.

Thank you.

Rashid Nassar

--please do not edit the information below--

Version:
 platform = i586-pc-linux-gnu
 arch = i586
 os = linux-gnu
 system = i586, linux-gnu
 status = Patched
 major = 1
 minor = 1.0
 year = 2000
 month = July
 day = 1
 language = R

Search Path:
 .GlobalEnv, package:mva, Autoloads, package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rnassar@duke.edu  Thu Jul 13 01:08:16 2000
From: rnassar@duke.edu (rnassar@duke.edu)
Date: Thu, 13 Jul 2000 02:08:16 +0200 (MET DST)
Subject: [Rd] typo, help page ?pairs (PR#604)
Message-ID: <200007130008.CAA06196@pubhealth.ku.dk>

Dear R Team,

A minor typo in help page ?pairs

Many thanks!

Rashid Nassar


help(pairs)

Arguments:

row1attop: logical. Should the layout be matrix-like with row 1 at the
          top, or graphi-like with row 1 at the bottom?
                       ^^^
                 [graph-like]


--please do not edit the information below--

Version:
 platform = i586-pc-linux-gnu
 arch = i586
 os = linux-gnu
 system = i586, linux-gnu
 status = Patched
 major = 1
 minor = 1.0
 year = 2000
 month = July
 day = 1
 language = R

Search Path:
 .GlobalEnv, package:mva, Autoloads, package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rnassar@duke.edu  Thu Jul 13 01:18:28 2000
From: rnassar@duke.edu (rnassar@duke.edu)
Date: Thu, 13 Jul 2000 02:18:28 +0200 (MET DST)
Subject: [Rd] typos, help package mva (PR#605)
Message-ID: <200007130018.CAA06237@pubhealth.ku.dk>

Dear R Team,

Some minor typos in help pages for package:mva

Thank you.

Rashid Nassar


1. help(kmeans)


Details:                                      [k-means? not sure about this]
                                                 v
     The data given by `x' is clustered by the k-Means algorithm. When
     this terminates, all cluster centres are at to the mean of their
                                          ^^^^^^^^^
                                

2. help(hclust)

Arguments:

     hang: The fraction of the plot height which labels should hang
          below the rest of the plot. ...

   [I suspect the above sentence is missing something]

    labels: A character vector of of labels for the leaves of the tree.
                               ^^^^^
Details:

(2nd par)  An number of different clustering methods are provided. Ward's
           ^^        
          [A]


3. help(cutree)

Value:

     `cutree' returns an vector with group meberships if `k' or `h' are
                      ^^ 
                     [a]


--please do not edit the information below--

Version:
 platform = i586-pc-linux-gnu
 arch = i586
 os = linux-gnu
 system = i586, linux-gnu
 status = Patched
 major = 1
 minor = 1.0
 year = 2000
 month = July
 day = 1
 language = R

Search Path:
 .GlobalEnv, package:mva, Autoloads, package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rnassar@duke.edu  Thu Jul 13 01:23:29 2000
From: rnassar@duke.edu (rnassar@duke.edu)
Date: Thu, 13 Jul 2000 02:23:29 +0200 (MET DST)
Subject: [Rd] typo, ?cutree {mva} (PR#606)
Message-ID: <200007130023.CAA06260@pubhealth.ku.dk>

.. another one on same line:

help(cutree)  package {mva}

Value:

     `cutree' returns an vector with group meberships if `k' or `h' are
                                           ^^^
                                          [memberships]

Sorry I missed it!   Thank you.

Rashid 

--please do not edit the information below--

Version:
 platform = i586-pc-linux-gnu
 arch = i586
 os = linux-gnu
 system = i586, linux-gnu
 status = Patched
 major = 1
 minor = 1.0
 year = 2000
 month = July
 day = 1
 language = R

Search Path:
 .GlobalEnv, package:mva, Autoloads, package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Setzer.Woodrow@epamail.epa.gov  Thu Jul 13 17:39:40 2000
From: Setzer.Woodrow@epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Thu, 13 Jul 2000 18:39:40 +0200 (MET DST)
Subject: [Rd] documentation for contrasts and contrasts<- (PR#607)
Message-ID: <200007131639.SAA11242@pubhealth.ku.dk>



The documentation (in ver 1.1) for contrasts and contrasts<- does not list all
the arguments for those functions.  In addition to x, the factor whose contrasts
are being extracted or set, contrasts() has the argument 'contrasts=TRUE', and
contrasts<-() has the argument 'how.many'.

It was this latter that had me flummoxed, because I wanted to reparametrize a
model by specifying a full-rank contrast matrix (fitting without an intercept).

R. Woodrow Setzer, Jr.                                                    Phone:
(919) 541-0128
Biostatistics and
Fax:  (919) 541-4002
Research Support Staff
NHEERL MD-55; US EPA; RTP, NC 27711



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Jul 14 07:28:07 2000
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 14 Jul 2000 07:28:07 +0100 (BST)
Subject: [Rd] documentation for contrasts and contrasts<- (PR#607)
In-Reply-To: <200007131639.SAA11242@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.05.10007140717430.19613-100000@auk.stats>

On Thu, 13 Jul 2000 Setzer.Woodrow@epamail.epa.gov wrote:

> 
> 
> The documentation (in ver 1.1) for contrasts and contrasts<- does not list all
> the arguments for those functions.  In addition to x, the factor whose contrasts
> are being extracted or set, contrasts() has the argument 'contrasts=TRUE', and
> contrasts<-() has the argument 'how.many'.

Thanks, I have written enhanced versions.

> 
> It was this latter that had me flummoxed, because I wanted to reparametrize a
> model by specifying a full-rank contrast matrix (fitting without an intercept).
> 
That happens automatically the intercept.  It can't be a `contrast matrix' 
though, as the contrasts do not span the full space (they are orthogonal
to the constant).  To continue the ?contrasts example, you can do

> contrasts(fff, 3) <- contr.sum(5)[,1:3]
> contrasts(fff) # treatment
  [,1] [,2] [,3] 
a    1    0    0
c    0    1    0
i    0    0    1
s    0    0    0
t   -1   -1   -1

to set three contrasts.  You cannot set 5, though, as you can't generate
them.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kjetil.kjernsmo@astro.uio.no  Fri Jul 14 18:18:45 2000
From: kjetil.kjernsmo@astro.uio.no (kjetil.kjernsmo@astro.uio.no)
Date: Fri, 14 Jul 2000 19:18:45 +0200 (MET DST)
Subject: [Rd] Re: Disappearing values (PR#551)
Message-ID: <200007141718.TAA16715@pubhealth.ku.dk>

On Fri, 9 Jun 2000, I wrote:
[...]
> Now, occasionally, it prints a
>nice vector with all the values intact. Occasionally, one of the entries
>are NULL, and then it prints a list, e.g.
[lots of things along these lines]

Now, it seems like this problem has been solved. Reading some old
r-help e-mail I had missed, I came across a message from Brad McNeney
(<URL:http://www.ens.gu.edu.au/robertk/R/help/00a/2068.html>), and it was
apparent that he has had the same problems as I, but solved it by using
gcc instead of cc. Recent communication between Ray Brownrigg and Prof
Brian D Ripley enabled me to compile and get R running myself, and indeed,
the problem has not occured in a number of runs after I did this, I look
upon it as solved.

So, it seems like it may be problematic to use the standard cc compiler on
the alpha platform with Digital UNIX to compile R. Just a minor status
report... :-)

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj@astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster@skepsis.no 





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From acuster@nopause.berkeley.edu  Sat Jul 15 09:19:35 2000
From: acuster@nopause.berkeley.edu (acuster@nopause.berkeley.edu)
Date: Sat, 15 Jul 2000 10:19:35 +0200 (MET DST)
Subject: [Rd] seg.fault in eval.c (PR#608)
Message-ID: <200007150819.KAA17914@pubhealth.ku.dk>


--/9DWx/yDrRhgMJTb
Content-Type: text/plain; charset=us-ascii

Hello everyone,

verison: 1.0.1
platform: Gnu/linux mandrake 7.1beta

I'm running a user function to step through a frame and plot one column against
the next. This crashes the program fairly reliably although not on the first
try.

Here is a log of the session run through gdb. First I launch R, print out the
top of the frame and the function. (The function I wrote is probably ugly,
especially the for loop, and if you want to suggest how to make it better I'm
always ready to learn.) Then I run the magic incantation three times and seg
fault. From the shell at that point R crashes and closes the plot window. In
gdb the window stays open and only closes when I quit gdb.

I have appended the .RData file. I also have a core produced in the same way
from the terminal. If you can use it I can send it but it's huge.

Thanks for the great software,
adrian



***************************************************************************

tsetse$ /usr/local/bin/R --debugger=gdb
(gdb) run --vsize 12M --nsize 1200k

> ls()
[1] "my.frame"     "my.plot.func"
> my.frame[1:2,]
  viltid sept97 oct97 nov97beg nov97end dec97beg dec97end jan98 feb98 mar98
1    501    148    53       32       23       17       14     4     3     3
2    502     44    54       45       36       24        9     5     3     2
  apr98 may98 jun98 jul98 aug98 sep98 nov98 dec98
1     2     2     1     0     0     0     2     1
2     2     2     1     0     0     0     2     1
> my.plot.func
function(the.frame){

#first do the parameter checking:
if (missing(the.frame)){
   cat("\n")
   cat("Need a data frame argument with 17 monthly catches (sept, oct ...)\n")
   cat("   for tsetse use A.FRAME.tsetse.97n98, for adjtse roll your own.\n")
}   #fi

else{
   #next cache the initial conditions:
   start.par_par(no.readonly = TRUE)           #store the inital parameters
   on.exit(par(start.par),append=TRUE)         #restore the graphics parameters
   par(mfrow=c(2,8),mar=c(1,1,1,0),oma=c(0,1,2,1))

   #next initialize the function
   attach(the.frame)
   on.exit(detach(the.frame),append=TRUE)

   #function body:
   for (i in 1:16){
      plot(the.frame[,i],the.frame[,i+1])
      abline(lm(the.frame[,i+1]~the.frame[,i]))
   }
   mtext("Correlation of tsetse samples: sample to sample
plots",side=3,outer=TRUE,cex=1.5)


}   #end else
}
> my.plot.func(my.frame[,2:18])
> my.plot.func(my.frame[,2:18])
> my.plot.func(my.frame[,2:18])

Program received signal SIGSEGV, Segmentation fault.
0x807c367 in Rf_eval (e=0x1, rho=0x15d9eb8) at eval.c:83
83	eval.c: No such file or directory.
(gdb) backtrace
#0  0x807c367 in Rf_eval (e=0x1, rho=0x15d9eb8) at eval.c:83
#1  0x807d660 in do_begin (call=0x15e135c, op=0x3a59a4, args=0x15e1348, 
    rho=0x15d9eb8) at eval.c:640
#2  0x807c5f8 in Rf_eval (e=0x15e135c, rho=0x15d9eb8) at eval.c:172
#3  0x806bc30 in Rf_endcontext (cptr=0xbfffee34) at context.c:147
#4  0x807cb40 in Rf_applyClosure (call=0x15d9e54, op=0x7e332c, 
    arglist=0x15d9e90, rho=0x3adf3c, suppliedenv=0x3a5008) at eval.c:345
#5  0x807c74d in Rf_eval (e=0x15d9e54, rho=0x3adf3c) at eval.c:192
#6  0x8091274 in R_ReplConsole (rho=0x3adf3c, savestack=0, browselevel=0)
    at main.c:173
#7  0x8091955 in run_Rmainloop () at main.c:457
#8  0x8091994 in Rf_mainloop () at main.c:471
#9  0x80e6bfc in main (ac=0, av=0xbffff894) at system.c:490
(gdb) quit
The program is running.  Exit anyway? (y or n) y
[acuster@tsetse tocrashR]$ 


--/9DWx/yDrRhgMJTb
Content-Type: application/octet-stream
Content-Disposition: attachment; filename=RData
Content-Transfer-Encoding: base64

UkRYMQoAAAAlAAAAAAAAAAYAAAAGc291cmNlAAAAAAADAAAAA2NleAAAAAAFAAAABW91dGVy
AAAAAAAABAAAAARzaWRlAAAABQAAAAVtdGV4dAAAAAAAAAEAAAABfgAAAAAAAAIAAAACbG0A
AAAAAAYAAAAGYWJsaW5lAAAAAAABAAAAASsAAAAAAAABAAAAAVsAAAAAAAAEAAAABHBsb3QA
AAABAAAAAToAAAAAAAABAAAAAWkAAAAAAAADAAAAA2ZvcgAAAAAGAAAABmRldGFjaAAAAAAA
BgAAAAZhdHRhY2gAAAAAAAMAAAADb21hAAAAAAMAAAADbWFyAAAAAAEAAAABYwAAAAAAAAUA
AAAFbWZyb3cAAAAAAAAGAAAABmFwcGVuZAAAAAAABwAAAAdvbi5leGl0AAAAAAsAAAALbm8u
cmVhZG9ubHkAAAAAAwAAAANwYXIAAAAACQAAAAlzdGFydC5wYXIAAAAAAAACAAAAAjwtAAAA
AAADAAAAA2NhdAAAAAAHAAAAB21pc3NpbmcAAAAAAgAAAAJpZgAAAAAAAQAAAAF7AAAAAAAA
CQAAAAl0aGUuZnJhbWUAAAAAAAAMAAAADG15LnBsb3QuZnVuYwAAAAUAAAAFY2xhc3MAAAAA
AAAJAAAACXJvdy5uYW1lcwAAAAAAAAUAAAAFbmFtZXMAAAAAAAAIAAAACG15LmZyYW1lAAAA
CgAAAAouVHJhY2ViYWNrAAAAAAACAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAl//////////8A
AAACAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAk/////wAAABMAAAAAAAAAAQAAABIAAAAOAAAA
AAAAAAAAAAAyQH9QAAAAAABAf2AAAAAAAEB/cAAAAAAAQH+AAAAAAABAf5AAAAAAAECCyAAA
AAAAQILQAAAAAABAgtgAAAAAAECC4AAAAAAAQILoAAAAAABAjCgAAAAAAECMMAAAAAAAQIw4
AAAAAABAjEAAAAAAAECMSAAAAAAAQI9IAAAAAABAj1AAAAAAAECPWAAAAAAAQI9gAAAAAABA
j2gAAAAAAECh+gAAAAAAQKH8AAAAAABAof4AAAAAAECiAAAAAAAAQKICAAAAAABApeIAAAAA
AECl5AAAAAAAQKXmAAAAAABApegAAAAAAECl6gAAAAAAQKaqAAAAAABApqwAAAAAAECmrgAA
AAAAQKawAAAAAABAprIAAAAAAECncgAAAAAAQKd0AAAAAABAp3YAAAAAAECneAAAAAAAQKd6
AAAAAABAsZUAAAAAAECxlgAAAAAAQLGXAAAAAABAsZgAAAAAAECxmQAAAAAAQMmWgAAAAABA
yZcAAAAAAEDJl4AAAAAAQMmYAAAAAABAyZiAAAAAAP////8AAAAOAAAAAAAAAAAAAAAyQGKA
AAAAAABARgAAAAAAAEBWgAAAAAAAQFOAAAAAAABAQYAAAAAAAEBNgAAAAAAAQEGAAAAAAABA
TYAAAAAAAEBGAAAAAAAAQFDAAAAAAABAR4AAAAAAAEBDAAAAAAAAQFVAAAAAAABAQwAAAAAA
AEBaQAAAAAAAQFhAAAAAAABAToAAAAAAAEBiIAAAAAAAQFMAAAAAAABATYAAAAAAAEBOAAAA
AAAAQE4AAAAAAABAXYAAAAAAAEBMgAAAAAAAQEwAAAAAAABAU4AAAAAAAEBcQAAAAAAAQFMA
AAAAAABAY2AAAAAAAEBIAAAAAAAAQFRAAAAAAABAYiAAAAAAAEBMgAAAAAAAQFYAAAAAAABA
YGAAAAAAAEBgAAAAAAAAQFEAAAAAAABAXIAAAAAAAEBYwAAAAAAAQFWAAAAAAABARwAAAAAA
AEBcwAAAAAAAQFEAAAAAAABAUwAAAAAAAEBXAAAAAAAAQGGAAAAAAABAXkAAAAAAAEBnIAAA
AAAAQFdAAAAAAABAZMAAAAAAAP////8AAAAOAAAAAAAAAAAAAAAyQEqAAAAAAABASwAAAAAA
AEBBgAAAAAAAQEkAAAAAAABAVQAAAAAAAEA+AAAAAAAAQDsAAAAAAABAQwAAAAAAAEBDgAAA
AAAAQEcAAAAAAABAQwAAAAAAAEA6AAAAAAAAQFBAAAAAAABAOwAAAAAAAEBYQAAAAAAAQFJA
AAAAAABASoAAAAAAAEA9AAAAAAAAQFTAAAAAAABASAAAAAAAAEBAAAAAAAAAQEoAAAAAAABA
WsAAAAAAAEBIgAAAAAAAQEWAAAAAAABASYAAAAAAAEA7AAAAAAAAQEWAAAAAAABAUcAAAAAA
AEBAgAAAAAAAQFUAAAAAAABATYAAAAAAAEBEAAAAAAAAQEsAAAAAAABASwAAAAAAAEBTgAAA
AAAAQEwAAAAAAABAR4AAAAAAAEBKgAAAAAAAQE4AAAAAAABAQgAAAAAAAEBIAAAAAAAAQEQA
AAAAAABAQgAAAAAAAEBNAAAAAAAAQF7AAAAAAABAR4AAAAAAAEBQQAAAAAAAQFAAAAAAAABA
UAAAAAAAAP////8AAAAOAAAAAAAAAAAAAAAyQEAAAAAAAABARoAAAAAAAEBLAAAAAAAAQEEA
AAAAAABAPQAAAAAAAEAyAAAAAAAAQEEAAAAAAABAPAAAAAAAAEA1AAAAAAAAQDoAAAAAAABA
MwAAAAAAAEA6AAAAAAAAQDUAAAAAAABANwAAAAAAAEA3AAAAAAAAQDsAAAAAAABAQIAAAAAA
AEA6AAAAAAAAQDwAAAAAAABAQQAAAAAAAEA/AAAAAAAAQEaAAAAAAABAPgAAAAAAAEBCgAAA
AAAAQEQAAAAAAABAOwAAAAAAAEAwAAAAAAAAQDwAAAAAAABAOQAAAAAAAEA1AAAAAAAAQDkA
AAAAAABANgAAAAAAAEAxAAAAAAAAQCgAAAAAAABAMgAAAAAAAEBBAAAAAAAAQD4AAAAAAABA
QYAAAAAAAEA7AAAAAAAAQEIAAAAAAABAOwAAAAAAAEBCAAAAAAAAQDUAAAAAAABAOQAAAAAA
AEA9AAAAAAAAQEAAAAAAAABAOwAAAAAAAEBHAAAAAAAAQD0AAAAAAABALAAAAAAAAP////8A
AAAOAAAAAAAAAAAAAAAyQDcAAAAAAABAQgAAAAAAAEA3AAAAAAAAQDsAAAAAAABAOgAAAAAA
AEAuAAAAAAAAQDsAAAAAAABANwAAAAAAAEAxAAAAAAAAQDQAAAAAAABALgAAAAAAAEA2AAAA
AAAAQDEAAAAAAABALAAAAAAAAEAyAAAAAAAAQDMAAAAAAABAOQAAAAAAAEAzAAAAAAAAQDYA
AAAAAABAMwAAAAAAAEA4AAAAAAAAQEGAAAAAAABANQAAAAAAAEA+AAAAAAAAQDwAAAAAAABA
MwAAAAAAAEAkAAAAAAAAQDcAAAAAAABAMgAAAAAAAEAwAAAAAAAAQDQAAAAAAABALgAAAAAA
AEAsAAAAAAAAQCIAAAAAAABAKAAAAAAAAEA5AAAAAAAAQD4AAAAAAABANQAAAAAAAEAxAAAA
AAAAQDoAAAAAAABANgAAAAAAAEA1AAAAAAAAQC4AAAAAAABALgAAAAAAAEA0AAAAAAAAQDcA
AAAAAABANwAAAAAAAEBFgAAAAAAAQDcAAAAAAABALgAAAAAAAP////8AAAAOAAAAAAAAAAAA
AAAyQDEAAAAAAABAOAAAAAAAAEAxAAAAAAAAQDIAAAAAAABAMwAAAAAAAEAmAAAAAAAAQDAA
AAAAAABANAAAAAAAAEAoAAAAAAAAQCwAAAAAAABAJAAAAAAAAEAuAAAAAAAAQDAAAAAAAABA
JgAAAAAAAEAmAAAAAAAAQCwAAAAAAABAMgAAAAAAAEAqAAAAAAAAQDEAAAAAAABALAAAAAAA
AEAyAAAAAAAAQDsAAAAAAABALAAAAAAAAEA2AAAAAAAAQDUAAAAAAABALgAAAAAAAEAgAAAA
AAAAQDIAAAAAAABAKAAAAAAAAEAuAAAAAAAAQC4AAAAAAABAKAAAAAAAAEAkAAAAAAAAQCgA
AAAAAABAIAAAAAAAAEAwAAAAAAAAQDcAAAAAAABALgAAAAAAAEAoAAAAAAAAQDQAAAAAAABA
NQAAAAAAAEAuAAAAAAAAQCYAAAAAAABAKgAAAAAAAEAzAAAAAAAAQDEAAAAAAABALAAAAAAA
AEA+AAAAAAAAQDEAAAAAAABAMAAAAAAAAP////8AAAAOAAAAAAAAAAAAAAAyQCwAAAAAAABA
IgAAAAAAAEAkAAAAAAAAQCwAAAAAAABAMAAAAAAAAEAiAAAAAAAAQCYAAAAAAABAMAAAAAAA
AEAgAAAAAAAAQCAAAAAAAABAGAAAAAAAAEAmAAAAAAAAQCYAAAAAAABAFAAAAAAAAEAcAAAA
AAAAQCIAAAAAAABALAAAAAAAAEAkAAAAAAAAQBwAAAAAAABAIgAAAAAAAEAuAAAAAAAAQDEA
AAAAAABAKAAAAAAAAEAyAAAAAAAAQC4AAAAAAABAJAAAAAAAAEAYAAAAAAAAQCwAAAAAAABA
IgAAAAAAAEAkAAAAAAAAQCYAAAAAAABAIAAAAAAAAEAcAAAAAAAAQCQAAAAAAABAIAAAAAAA
AEAmAAAAAAAAQDEAAAAAAABAKAAAAAAAAEAiAAAAAAAAQCwAAAAAAABAMgAAAAAAAEAsAAAA
AAAAQCIAAAAAAABAIAAAAAAAAEAwAAAAAAAAQCgAAAAAAABAJgAAAAAAAEA1AAAAAAAAQCoA
AAAAAABAKAAAAAAAAP////8AAAAOAAAAAAAAAAAAAAAyQBAAAAAAAABAFAAAAAAAAEAYAAAA
AAAAQBQAAAAAAABAIAAAAAAAAEAcAAAAAAAAQBwAAAAAAABAJgAAAAAAAEAUAAAAAAAAQBgA
AAAAAABAGAAAAAAAAEAcAAAAAAAAQBQAAAAAAABACAAAAAAAAEAUAAAAAAAAQBgAAAAAAABA
IgAAAAAAAEAQAAAAAAAAQBQAAAAAAABAHAAAAAAAAEAgAAAAAAAAQBwAAAAAAABAGAAAAAAA
AEAgAAAAAAAAQCAAAAAAAABAFAAAAAAAAEAQAAAAAAAAQBQAAAAAAABAEAAAAAAAAEAUAAAA
AAAAQCIAAAAAAABAGAAAAAAAAEAcAAAAAAAAQBQAAAAAAABAHAAAAAAAAEAQAAAAAAAAQBgA
AAAAAABAHAAAAAAAAEAYAAAAAAAAQAgAAAAAAABAIAAAAAAAAEAiAAAAAAAAQAgAAAAAAABA
GAAAAAAAAEAUAAAAAAAAQBwAAAAAAABAGAAAAAAAAEAiAAAAAAAAQCQAAAAAAABAGAAAAAAA
AP////8AAAAOAAAAAAAAAAAAAAAyQAgAAAAAAABACAAAAAAAAEAAAAAAAAAAQBAAAAAAAABA
EAAAAAAAAEAIAAAAAAAAQBAAAAAAAABAFAAAAAAAAEAIAAAAAAAAQBwAAAAAAABAFAAAAAAA
AEAIAAAAAAAAQBAAAAAAAABACAAAAAAAAEAYAAAAAAAAQBAAAAAAAABACAAAAAAAAEAIAAAA
AAAAQAAAAAAAAABAFAAAAAAAAEAUAAAAAAAAQAAAAAAAAABAEAAAAAAAAEAUAAAAAAAAQCIA
AAAAAABAGAAAAAAAAEAQAAAAAAAAQAgAAAAAAABAEAAAAAAAAEAAAAAAAAAAQBgAAAAAAABA
FAAAAAAAAEAIAAAAAAAAQAgAAAAAAABAEAAAAAAAAEAAAAAAAAAAQAgAAAAAAABAAAAAAAAA
AEAQAAAAAAAAQAgAAAAAAABAAAAAAAAAAEAIAAAAAAAAQAgAAAAAAABAHAAAAAAAAEAcAAAA
AAAAQBAAAAAAAABAGAAAAAAAAEAYAAAAAAAAQCIAAAAAAABAIAAAAAAAAP////8AAAAOAAAA
AAAAAAAAAAAyQAgAAAAAAABAAAAAAAAAAD/wAAAAAAAAQAgAAAAAAABACAAAAAAAAEAAAAAA
AAAAQAAAAAAAAABAEAAAAAAAAEAAAAAAAAAAQBAAAAAAAABACAAAAAAAAEAAAAAAAAAAQAgA
AAAAAABAAAAAAAAAAEAQAAAAAAAAQAgAAAAAAABAAAAAAAAAAEAAAAAAAAAAQAgAAAAAAABA
EAAAAAAAAEAIAAAAAAAAQAAAAAAAAABACAAAAAAAAEAAAAAAAAAAQBQAAAAAAABAEAAAAAAA
AEAIAAAAAAAAQAgAAAAAAABAFAAAAAAAAEAIAAAAAAAAQAgAAAAAAABAEAAAAAAAAEAYAAAA
AAAAQBQAAAAAAABAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAAA/8AAAAAAAAEAIAAAAAAAAQAAA
AAAAAABAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABACAAAAAAAAEAQAAAAAAAAQAAAAAAAAABA
EAAAAAAAAEAQAAAAAAAAQBAAAAAAAABAEAAAAAAAAP////8AAAAOAAAAAAAAAAAAAAAyQAAA
AAAAAABAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAAA/8AAAAAAAAAAAAAAAAAAAQAAAAAAAAABA
AAAAAAAAAEAAAAAAAAAAQAgAAAAAAAA/8AAAAAAAAEAIAAAAAAAAP/AAAAAAAABAAAAAAAAA
AEAAAAAAAAAAQAAAAAAAAABACAAAAAAAAEAAAAAAAAAAQAAAAAAAAABACAAAAAAAAEAAAAAA
AAAAP/AAAAAAAABAAAAAAAAAAEAAAAAAAAAAQAgAAAAAAABACAAAAAAAAEAAAAAAAAAAQAAA
AAAAAABAEAAAAAAAAEAIAAAAAAAAQBAAAAAAAABAFAAAAAAAAEAQAAAAAAAAQAAAAAAAAABA
AAAAAAAAAD/wAAAAAAAAQAAAAAAAAABAAAAAAAAAAD/wAAAAAAAAQAAAAAAAAABAAAAAAAAA
AEAAAAAAAAAAQAAAAAAAAABACAAAAAAAAEAAAAAAAAAAQAAAAAAAAABACAAAAAAAAEAAAAAA
AAAAQAAAAAAAAABACAAAAAAAAP////8AAAAOAAAAAAAAAAAAAAAyQAAAAAAAAABAAAAAAAAA
AEAIAAAAAAAAQAAAAAAAAAA/8AAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAD/wAAAA
AAAAQAgAAAAAAABAAAAAAAAAAEAAAAAAAAAAP/AAAAAAAABAAAAAAAAAAEAAAAAAAAAAQAAA
AAAAAABAAAAAAAAAAEAIAAAAAAAAQAAAAAAAAABACAAAAAAAAD/wAAAAAAAAQAAAAAAAAAA/
8AAAAAAAAEAAAAAAAAAAQAgAAAAAAABAFAAAAAAAAEAIAAAAAAAAQAAAAAAAAABACAAAAAAA
AEAIAAAAAAAAQAAAAAAAAABAAAAAAAAAAD/wAAAAAAAAQAgAAAAAAABAAAAAAAAAAEAAAAAA
AAAAQAAAAAAAAAA/8AAAAAAAAD/wAAAAAAAAQAAAAAAAAABAAAAAAAAAAEAIAAAAAAAAQAAA
AAAAAAA/8AAAAAAAAEAAAAAAAAAAQAgAAAAAAABAAAAAAAAAAEAAAAAAAAAAQAgAAAAAAABA
AAAAAAAAAP////8AAAAOAAAAAAAAAAAAAAAyP/AAAAAAAAA/8AAAAAAAAEAAAAAAAAAAQAAA
AAAAAAAAAAAAAAAAAD/wAAAAAAAAQAgAAAAAAABAAAAAAAAAAAAAAAAAAAAAP/AAAAAAAABA
AAAAAAAAAD/wAAAAAAAAQAAAAAAAAAAAAAAAAAAAAD/wAAAAAAAAQAAAAAAAAAAAAAAAAAAA
AD/wAAAAAAAAP/AAAAAAAABAAAAAAAAAAD/wAAAAAAAAP/AAAAAAAAA/8AAAAAAAAEAQAAAA
AAAAQAAAAAAAAABAAAAAAAAAAD/wAAAAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAQAAA
AAAAAABACAAAAAAAAD/wAAAAAAAAP/AAAAAAAABAAAAAAAAAAD/wAAAAAAAAAAAAAAAAAAA/
8AAAAAAAAD/wAAAAAAAAQAAAAAAAAABAAAAAAAAAAD/wAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAQAAAAAAAAAA/8AAAAAAAAEAAAAAAAAAAQAgAAAAAAABAAAAAAAAAAP////8A
AAAOAAAAAAAAAAAAAAAyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAFAAAAAAAAEAQAAAAAAAAQBAAAAAAAABAAAAAAAAA
AEAAAAAAAAAAQAgAAAAAAABAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQBQA
AAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAAOAAAAAAAAAAAA
AAAyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAEAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAGAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAEAUAAAAAAAAQBgAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQBAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAAOAAAAAAAAAAAAAAAyAAAAAAAAAAAA
AAAAAAAAAEAIAAAAAAAAQAAAAAAAAABAFAAAAAAAAEAQAAAAAAAAQAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/wAAAA
AAAAQAAAAAAAAAAAAAAAAAAAAD/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA
EAAAAAAAAEAYAAAAAAAAQBAAAAAAAABAGAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAA
AEAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAEAgAAAAAAAAQBgAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAP////8AAAAOAAAAAAAAAAAAAAAyQAAAAAAAAABAAAAAAAAAAAAAAAAA
AAAAQAAAAAAAAABAIAAAAAAAAEAUAAAAAAAAP/AAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAA
AAAAAAAAAAAAAAAAAD/wAAAAAAAAQAgAAAAAAAA/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAD/wAAAAAAAAAAAAAAAAAABAAAAAAAAAAD/wAAAAAAAAQAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAEAIAAAAAAAAAAAAAAAAAAA/8AAAAAAAAEAIAAAA
AAAAQBAAAAAAAAAAAAAAAAAAAD/wAAAAAAAAQAAAAAAAAAA/8AAAAAAAAEAUAAAAAAAAP/AA
AAAAAAAAAAAAAAAAAD/wAAAAAAAAP/AAAAAAAABAAAAAAAAAAEAIAAAAAAAAQAgAAAAAAABA
AAAAAAAAAAAAAAAAAAAAQBQAAAAAAABAAAAAAAAAAEAAAAAAAAAAQAgAAAAAAABACAAAAAAA
AP////8AAAAOAAAAAAAAAAAAAAAyP/AAAAAAAAA/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAABA
CAAAAAAAAD/wAAAAAAAAP/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAA/8AAAAAAAAEAAAAAAAAAAQAAAAAAAAAA/8AAAAAAAAAAAAAAA
AAAAAAAAAAAAAAA/8AAAAAAAAD/wAAAAAAAAP/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAA/8AAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAA/
8AAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AEAAAAAAAAAAP/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/8AAAAAAAAEAIAAAA
AAAAQBAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABACAAAAAAAAP////8AAAACAAAA
AAAAAAAAAAABAAAAAAAAAAAAAAAj/////wAAABAAAAAAAAAAAAAAABIAAAAGAAAABnZpbHRp
ZAAAAAAABgAAAAZzZXB0OTcAAAAAAAUAAAAFb2N0OTcAAAAAAAAIAAAACG5vdjk3YmVnAAAA
CAAAAAhub3Y5N2VuZAAAAAgAAAAIZGVjOTdiZWcAAAAIAAAACGRlYzk3ZW5kAAAABQAAAAVq
YW45OAAAAAAAAAUAAAAFZmViOTgAAAAAAAAFAAAABW1hcjk4AAAAAAAABQAAAAVhcHI5OAAA
AAAAAAUAAAAFbWF5OTgAAAAAAAAFAAAABWp1bjk4AAAAAAAABQAAAAVqdWw5OAAAAAAAAAUA
AAAFYXVnOTgAAAAAAAAFAAAABXNlcDk4AAAAAAAABQAAAAVub3Y5OAAAAAAAAAUAAAAFZGVj
OTgAAAD/////AAAAAgAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAIv////8AAAAQAAAAAAAAAAAA
AAAyAAAAAQAAAAExAAAAAAAAAQAAAAEyAAAAAAAAAQAAAAEzAAAAAAAAAQAAAAE0AAAAAAAA
AQAAAAE1AAAAAAAAAQAAAAE2AAAAAAAAAQAAAAE3AAAAAAAAAQAAAAE4AAAAAAAAAQAAAAE5
AAAAAAAAAgAAAAIxMAAAAAAAAgAAAAIxMQAAAAAAAgAAAAIxMgAAAAAAAgAAAAIxMwAAAAAA
AgAAAAIxNAAAAAAAAgAAAAIxNQAAAAAAAgAAAAIxNgAAAAAAAgAAAAIxNwAAAAAAAgAAAAIx
OAAAAAAAAgAAAAIxOQAAAAAAAgAAAAIyMAAAAAAAAgAAAAIyMQAAAAAAAgAAAAIyMgAAAAAA
AgAAAAIyMwAAAAAAAgAAAAIyNAAAAAAAAgAAAAIyNQAAAAAAAgAAAAIyNgAAAAAAAgAAAAIy
NwAAAAAAAgAAAAIyOAAAAAAAAgAAAAIyOQAAAAAAAgAAAAIzMAAAAAAAAgAAAAIzMQAAAAAA
AgAAAAIzMgAAAAAAAgAAAAIzMwAAAAAAAgAAAAIzNAAAAAAAAgAAAAIzNQAAAAAAAgAAAAIz
NgAAAAAAAgAAAAIzNwAAAAAAAgAAAAIzOAAAAAAAAgAAAAIzOQAAAAAAAgAAAAI0MAAAAAAA
AgAAAAI0MQAAAAAAAgAAAAI0MgAAAAAAAgAAAAI0MwAAAAAAAgAAAAI0NAAAAAAAAgAAAAI0
NQAAAAAAAgAAAAI0NgAAAAAAAgAAAAI0NwAAAAAAAgAAAAI0OAAAAAAAAgAAAAI0OQAAAAAA
AgAAAAI1MAAA/////wAAAAIAAAAAAAAAAAAAAAEAAAAAAAAAAAAAACH/////AAAAEAAAAAAA
AAAAAAAAAQAAAAoAAAAKZGF0YS5mcmFtZQAA//////////////////////////8AAAACAAAA
AAAAAAAAAAABAAAAAAAAAAAAAAAg/////wAAAAMAAAAAAAAAAP////4AAAACAAAAAAAAAAAA
AAABAAAAAAAAAAAAAAAf//////////z//////////wAAAAYAAAAAAAAAAP////8AAAABAAAA
AAAAAAAAAAAe/////wAAAAIAAAAAAAAAAP////8AAAAGAAAAAAAAAAD/////AAAAAQAAAAAA
AAAAAAAAHf////8AAAACAAAAAAAAAAD/////AAAABgAAAAAAAAAA/////wAAAAEAAAAAAAAA
AAAAABz/////AAAAAgAAAAAAAAAA/////wAAAAEAAAAAAAAAAAAAAB//////////////////
////AAAAAgAAAAAAAAAA/////wAAAAYAAAAAAAAAAP////8AAAABAAAAAAAAAAAAAAAe////
/wAAAAIAAAAAAAAAAP////8AAAAGAAAAAAAAAAD/////AAAAAQAAAAAAAAAAAAAAG/////8A
AAACAAAAAAAAAAD/////AAAAEAAAAAAAAAAAAAAAAQAAAAEAAAABCgAAAP//////////////
//////8AAAACAAAAAAAAAAD/////AAAABgAAAAAAAAAA/////wAAAAEAAAAAAAAAAAAAABv/
////AAAAAgAAAAAAAAAA/////wAAABAAAAAAAAAAAAAAAAEAAABDAAAAQ05lZWQgYSBkYXRh
IGZyYW1lIGFyZ3VtZW50IHdpdGggMTcgbW9udGhseSBjYXRjaGVzIChzZXB0LCBvY3QgLi4u
KQoA/////////////////////wAAAAIAAAAAAAAAAP////8AAAAGAAAAAAAAAAD/////AAAA
AQAAAAAAAAAAAAAAG/////8AAAACAAAAAAAAAAD/////AAAAEAAAAAAAAAAAAAAAAQAAAEIA
AABCICAgZm9yIHRzZXRzZSB1c2UgQS5GUkFNRS50c2V0c2UuOTduOTgsIGZvciBhZGp0c2Ug
cm9sbCB5b3VyIG93bi4KAAD///////////////////////////////////////////////8A
AAACAAAAAAAAAAD/////AAAABgAAAAAAAAAA/////wAAAAEAAAAAAAAAAAAAAB7/////AAAA
AgAAAAAAAAAA/////wAAAAYAAAAAAAAAAP////8AAAABAAAAAAAAAAAAAAAa/////wAAAAIA
AAAAAAAAAP////8AAAABAAAAAAAAAAAAAAAZ/////wAAAAIAAAAAAAAAAP////8AAAAGAAAA
AAAAAAD/////AAAAAQAAAAAAAAAAAAAAGP////8AAAACAAAAAAAAAAAAAAABAAAAAAAAAAAA
AAAX/////wAAAAoAAAAAAAAAAAAAAAEAAAAB////////////////////////////////////
//////8AAAACAAAAAAAAAAD/////AAAABgAAAAAAAAAA/////wAAAAEAAAAAAAAAAAAAABb/
////AAAAAgAAAAAAAAAA/////wAAAAYAAAAAAAAAAP////8AAAABAAAAAAAAAAAAAAAY////
/wAAAAIAAAAAAAAAAP////8AAAABAAAAAAAAAAAAAAAZ/////////////////////wAAAAIA
AAAAAAAAAAAAAAEAAAAAAAAAAAAAABX/////AAAACgAAAAAAAAAAAAAAAQAAAAH/////////
/////////////////wAAAAIAAAAAAAAAAP////8AAAAGAAAAAAAAAAD/////AAAAAQAAAAAA
AAAAAAAAGP////8AAAACAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAU/////wAAAAYAAAAAAAAA
AP////8AAAABAAAAAAAAAAAAAAAT/////wAAAAIAAAAAAAAAAP////8AAAAOAAAAAAAAAAAA
AAABQAAAAAAAAAD/////AAAAAgAAAAAAAAAA/////wAAAA4AAAAAAAAAAAAAAAFAIAAAAAAA
AP//////////////////////////AAAAAgAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAEv////8A
AAAGAAAAAAAAAAD/////AAAAAQAAAAAAAAAAAAAAE/////8AAAACAAAAAAAAAAD/////AAAA
DgAAAAAAAAAAAAAAAT/wAAAAAAAA/////wAAAAIAAAAAAAAAAP////8AAAAOAAAAAAAAAAAA
AAABP/AAAAAAAAD/////AAAAAgAAAAAAAAAA/////wAAAA4AAAAAAAAAAAAAAAE/8AAAAAAA
AP////8AAAACAAAAAAAAAAD/////AAAADgAAAAAAAAAAAAAAAQAAAAAAAAAA////////////
/////////////////////////wAAAAIAAAAAAAAAAAAAAAEAAAAAAAAAAAAAABH/////AAAA
BgAAAAAAAAAA/////wAAAAEAAAAAAAAAAAAAABP/////AAAAAgAAAAAAAAAA/////wAAAA4A
AAAAAAAAAAAAAAEAAAAAAAAAAP////8AAAACAAAAAAAAAAD/////AAAADgAAAAAAAAAAAAAA
AT/wAAAAAAAA/////wAAAAIAAAAAAAAAAP////8AAAAOAAAAAAAAAAAAAAABQAAAAAAAAAD/
////AAAAAgAAAAAAAAAA/////wAAAA4AAAAAAAAAAAAAAAE/8AAAAAAAAP//////////////
/////////////////////////////////////////////////wAAAAIAAAAAAAAAAP////8A
AAAGAAAAAAAAAAD/////AAAAAQAAAAAAAAAAAAAAEP////8AAAACAAAAAAAAAAD/////AAAA
AQAAAAAAAAAAAAAAH/////////////////////8AAAACAAAAAAAAAAD/////AAAABgAAAAAA
AAAA/////wAAAAEAAAAAAAAAAAAAABb/////AAAAAgAAAAAAAAAA/////wAAAAYAAAAAAAAA
AP////8AAAABAAAAAAAAAAAAAAAP/////wAAAAIAAAAAAAAAAP////8AAAABAAAAAAAAAAAA
AAAf/////////////////////wAAAAIAAAAAAAAAAAAAAAEAAAAAAAAAAAAAABX/////AAAA
CgAAAAAAAAAAAAAAAQAAAAH//////////////////////////wAAAAIAAAAAAAAAAP////8A
AAAGAAAAAAAAAAD/////AAAAAQAAAAAAAAAAAAAADv////8AAAACAAAAAAAAAAD/////AAAA
AQAAAAAAAAAAAAAADf////8AAAACAAAAAAAAAAD/////AAAABgAAAAAAAAAA/////wAAAAEA
AAAAAAAAAAAAAAz/////AAAAAgAAAAAAAAAA/////wAAAA4AAAAAAAAAAAAAAAE/8AAAAAAA
AP////8AAAACAAAAAAAAAAD/////AAAADgAAAAAAAAAAAAAAAUAwAAAAAAAA////////////
//////////////8AAAACAAAAAAAAAAD/////AAAABgAAAAAAAAAA/////wAAAAEAAAAAAAAA
AAAAAB7/////AAAAAgAAAAAAAAAA/////wAAAAYAAAAAAAAAAP////8AAAABAAAAAAAAAAAA
AAAL/////wAAAAIAAAAAAAAAAP////8AAAAGAAAAAAAAAAD/////AAAAAQAAAAAAAAAAAAAA
Cv////8AAAAGAAAAAAAAAAD/////AAAAAQAAAAAAAAAAAAAAH/////8AAAACAAAAAAAAAAD/
/////////AAAAAIAAAAAAAAAAP////8AAAABAAAAAAAAAAAAAAAN////////////////////
////////////AAAAAgAAAAAAAAAA/////wAAAAYAAAAAAAAAAP////8AAAABAAAAAAAAAAAA
AAAK/////wAAAAYAAAAAAAAAAP////8AAAABAAAAAAAAAAAAAAAf/////wAAAAIAAAAAAAAA
AP/////////8AAAAAgAAAAAAAAAA/////wAAAAYAAAAAAAAAAP////8AAAABAAAAAAAAAAAA
AAAJ/////wAAAAIAAAAAAAAAAP////8AAAABAAAAAAAAAAAAAAAN/////wAAAAIAAAAAAAAA
AP////8AAAAOAAAAAAAAAAAAAAABP/AAAAAAAAD/////////////////////////////////
/////////////////////////////////////////wAAAAIAAAAAAAAAAP////8AAAAGAAAA
AAAAAAD/////AAAAAQAAAAAAAAAAAAAACP////8AAAACAAAAAAAAAAD/////AAAABgAAAAAA
AAAA/////wAAAAEAAAAAAAAAAAAAAAf/////AAAAAgAAAAAAAAAA/////wAAAAYAAAAAAAAA
AP////8AAAABAAAAAAAAAAAAAAAG/////wAAAAIAAAAAAAAAAP////8AAAAGAAAAAAAAAAD/
////AAAAAQAAAAAAAAAAAAAACv////8AAAAGAAAAAAAAAAD/////AAAAAQAAAAAAAAAAAAAA
H/////8AAAACAAAAAAAAAAD//////////AAAAAIAAAAAAAAAAP////8AAAAGAAAAAAAAAAD/
////AAAAAQAAAAAAAAAAAAAACf////8AAAACAAAAAAAAAAD/////AAAAAQAAAAAAAAAAAAAA
Df////8AAAACAAAAAAAAAAD/////AAAADgAAAAAAAAAAAAAAAT/wAAAAAAAA////////////
/////////////////////////////////////////wAAAAIAAAAAAAAAAP////8AAAAGAAAA
AAAAAAD/////AAAAAQAAAAAAAAAAAAAACv////8AAAAGAAAAAAAAAAD/////AAAAAQAAAAAA
AAAAAAAAH/////8AAAACAAAAAAAAAAD//////////AAAAAIAAAAAAAAAAP////8AAAABAAAA
AAAAAAAAAAAN////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////
/wAAAAIAAAAAAAAAAP////8AAAAGAAAAAAAAAAD/////AAAAAQAAAAAAAAAAAAAABf////8A
AAACAAAAAAAAAAD/////AAAAEAAAAAAAAAAAAAAAAQAAADUAAAA1Q29ycmVsYXRpb24gb2Yg
dHNldHNlIHNhbXBsZXM6IHNhbXBsZSB0byBzYW1wbGUgcGxvdHMAAAD/////AAAAAgAAAAAA
AAAAAAAAAQAAAAAAAAAAAAAABP////8AAAAOAAAAAAAAAAAAAAABQAgAAAAAAAD/////AAAA
AgAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAA/////8AAAAKAAAAAAAAAAAAAAABAAAAAf////8A
AAACAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAC/////wAAAA4AAAAAAAAAAAAAAAE/+AAAAAAA
AP//////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////wAAAAIAAAAAAAAA
AAAAAAEAAAAAAAAAAAAAAAH/////AAAAEAAAAAAAAAAAAAAAHQAAABQAAAAUZnVuY3Rpb24o
dGhlLmZyYW1lKXsAAAAAAAAAAAAAACEAAAAhI2ZpcnN0IGRvIHRoZSBwYXJhbWV0ZXIgY2hl
Y2tpbmc6AAAAAAAAGAAAABhpZiAobWlzc2luZyh0aGUuZnJhbWUpKXsAAAAMAAAADCAgIGNh
dCgiXG4iKQAAAE4AAABOICAgY2F0KCJOZWVkIGEgZGF0YSBmcmFtZSBhcmd1bWVudCB3aXRo
IDE3IG1vbnRobHkgY2F0Y2hlcyAoc2VwdCwgb2N0IC4uLilcbiIpAAAAAABNAAAATSAgIGNh
dCgiICAgZm9yIHRzZXRzZSB1c2UgQS5GUkFNRS50c2V0c2UuOTduOTgsIGZvciBhZGp0c2Ug
cm9sbCB5b3VyIG93bi5cbiIpAAAAAAAABwAAAAd9ICAgI2ZpAAAAAAAAAAAAAAAABQAAAAVl
bHNlewAAAAAAACYAAAAmICAgI25leHQgY2FjaGUgdGhlIGluaXRpYWwgY29uZGl0aW9uczoA
AAAAAEsAAABLICAgc3RhcnQucGFyX3Bhcihuby5yZWFkb25seSA9IFRSVUUpICAgICAgICAg
ICAjc3RvcmUgdGhlIGluaXRhbCBwYXJhbWV0ZXJzAAAAAE8AAABPICAgb24uZXhpdChwYXIo
c3RhcnQucGFyKSxhcHBlbmQ9VFJVRSkgICAgICAgICAjcmVzdG9yZSB0aGUgZ3JhcGhpY3Mg
cGFyYW1ldGVycwAAAAAyAAAAMiAgIHBhcihtZnJvdz1jKDIsOCksbWFyPWMoMSwxLDEsMCks
b21hPWMoMCwxLDIsMSkpAAAAAAAAAAAAAAAAACAAAAAgICAgI25leHQgaW5pdGlhbGl6ZSB0
aGUgZnVuY3Rpb24AAAAUAAAAFCAgIGF0dGFjaCh0aGUuZnJhbWUpAAAAKQAAACkgICBvbi5l
eGl0KGRldGFjaCh0aGUuZnJhbWUpLGFwcGVuZD1UUlVFKQAAAAAAAAAAAAAAAAAAEgAAABIg
ICAjZnVuY3Rpb24gYm9keToAAAAAABMAAAATICAgZm9yIChpIGluIDE6MTYpewAAAAApAAAA
KSAgICAgIHBsb3QodGhlLmZyYW1lWyxpXSx0aGUuZnJhbWVbLGkrMV0pAAAAAAAALwAAAC8g
ICAgICBhYmxpbmUobG0odGhlLmZyYW1lWyxpKzFdfnRoZS5mcmFtZVssaV0pKQAAAAAEAAAA
BCAgIH0AAABbAAAAWyAgIG10ZXh0KCJDb3JyZWxhdGlvbiBvZiB0c2V0c2Ugc2FtcGxlczog
c2FtcGxlIHRvIHNhbXBsZSBwbG90cyIsc2lkZT0zLG91dGVyPVRSVUUsY2V4PTEuNSkAAAAA
AAAAAAAAAAAAAAAAAAAAAA0AAAANfSAgICNlbmQgZWxzZQAAAAAAAAEAAAABfQAAAP//////
//////////////////////////////8=

--/9DWx/yDrRhgMJTb--

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rnassar@duke.edu  Sat Jul 15 20:18:16 2000
From: rnassar@duke.edu (rnassar@duke.edu)
Date: Sat, 15 Jul 2000 21:18:16 +0200 (MET DST)
Subject: [Rd] typos in ?lm (PR#609)
Message-ID: <200007151918.VAA18656@pubhealth.ku.dk>

A couple of typos in  help(lm) 

Details:

[1st para, 7th line:]
     specification of the form `first:second' indicates the the set of
                                                        ^^^^^^^  

See Also:

     The underlying low level functions, `lm.fit' for plain, and
     `lm.fit' for weighted regression fitting.
        ^^
   [ `lm.wfit' ]

Many thanks!

Rashid Nassar

--please do not edit the information below--

Version:
 platform = i586-pc-linux-gnu
 arch = i586
 os = linux-gnu
 system = i586, linux-gnu
 status = Patched
 major = 1
 minor = 1.0
 year = 2000
 month = July
 day = 1
 language = R

Search Path:
 .GlobalEnv, package:ctest, maras7, Autoloads, package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From albrecht.gebhardt@uni-klu.ac.at  Mon Jul 17 08:39:51 2000
From: albrecht.gebhardt@uni-klu.ac.at (Albrecht Gebhardt)
Date: Mon, 17 Jul 2000 09:39:51 +0200 (MET DST)
Subject: [Rd] Makevars, PKG_CFLAGS, ...
Message-ID: <Pine.OSF.4.21.0007170930170.31690-100000@zidsrv.sci.uni-klu.ac.at>


Hi,

I'm searching for a way to override the default CFLAGS/FFLAGS (-g -02 in
my case) per package (e.g with "-g" for packages under development).
PKG_CFLAGS/PKG_FFLAGS is prepended to the remaining flags, so it can't
delete a globally set "-O2" flag.

Of course I can edit the global Makeconf file, but I was wondering if
there is a possibility to override variables from Makeconf in the Makevars
file inside a package tree, without creating a separate Makefile for this
package?


Albrecht 

......................................................................
| Albrecht Gebhardt          Tel.: (++43 463) 2700/832               |
| Institut fuer Mathematik   Fax : (++43 463) 2700/834               |
| Universitaet Klagenfurt    mailto:albrecht.gebhardt@uni-klu.ac.at  |
| Villacher Str. 161         http://www-stat.uni-klu.ac.at/~agebhard |
| A-9020 Klagenfurt, Austria                                         |
`--------------------------------------------------------------------'

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jens.oehlschlaegel@bbdo-interone.de  Mon Jul 17 17:20:34 2000
From: jens.oehlschlaegel@bbdo-interone.de (=?iso-8859-1?Q?Jens_Oehlschl=E4gel?=)
Date: Mon, 17 Jul 2000 18:20:34 +0200
Subject: [Rd] pairs(), "cex" argument has no effect (PR#603)
In-Reply-To: <200007122313.BAA06079@pubhealth.ku.dk>
Message-ID: <003e01bff00a$eff56800$c10616ac@oehl.bbdo.de>


none of

  "cex" and "cex.axis" , "cex.label"

is an official parameter to pairs()

but there is

 "cex.labels"
           ^
which works for me

As someone has work with maintaining the bugs-database,
you might want to check more carefully before declaring something as a bug.

regards


--
Dr. Jens Oehlschl弄el
Analyse
BBDO InterOne
Grnstr. 15
40212 Dsseldorf

Tel.: +49 (0)211 1379-187
Fax.: +49 (0)211 1379-461
http://www.bbdo-interone.de








> -----Original Message-----
> From: owner-r-devel@stat.math.ethz.ch
> [mailto:owner-r-devel@stat.math.ethz.ch]On Behalf Of rnassar@duke.edu
> Sent: Thursday, July 13, 2000 1:13 AM
> To: r-devel@stat.math.ethz.ch
> Cc: R-bugs@biostat.ku.dk
> Subject: [Rd] pairs(), "cex" argument has no effect (PR#603)
>
>
> Dear R Team,
>
> pairs():   "cex", "cex.axis", "cex.label" arguments do not
> seem to have an
> effect.  I am submitting this report in case they were inteded to.
>
> Thank you.
>
> Rashid Nassar
>
> --please do not edit the information below--
>
> Version:
>  platform = i586-pc-linux-gnu
>  arch = i586
>  os = linux-gnu
>  system = i586, linux-gnu
>  status = Patched
>  major = 1
>  minor = 1.0
>  year = 2000
>  month = July
>  day = 1
>  language = R
>
> Search Path:
>  .GlobalEnv, package:mva, Autoloads, package:base
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info",
> "help", or "[un]subscribe"
> (in the "body", not the subject !)  To:
> r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rnassar@duke.edu  Mon Jul 17 17:31:09 2000
From: rnassar@duke.edu (Rashid Nassar)
Date: Mon, 17 Jul 2000 12:31:09 -0400 (EDT)
Subject: [Rd] pairs(), "cex" argument has no effect (PR#603)
In-Reply-To: <003e01bff00a$eff56800$c10616ac@oehl.bbdo.de>
Message-ID: <Pine.SOL.3.91.1000717122924.13659B-100000@bio3.acpub.duke.edu>


I goofed.  Please accept my sincere apologies.


Sincerely,

Rashid Nassar


On Mon, 17 Jul 2000, =?iso-8859-1?Q?Jens_Oehlschl=E4gel?= wrote:

> Date: Mon, 17 Jul 2000 18:20:34 +0200
> From: =?iso-8859-1?Q?Jens_Oehlschl=E4gel?= <jens.oehlschlaegel@bbdo-interone.de>
> To: rnassar@duke.edu
> Cc: "'r-devel@stat.math.ethz.ch'" <R-devel@stat.math.ethz.ch>
> Subject: RE: [Rd] pairs(), "cex" argument has no effect (PR#603)
> 
> 
> none of
> 
>   "cex" and "cex.axis" , "cex.label"
> 
> is an official parameter to pairs()
> 
> but there is
> 
>  "cex.labels"
>            ^
> which works for me
> 
> As someone has work with maintaining the bugs-database,
> you might want to check more carefully before declaring something as a bug.
> 
> regards
> 
> 
> --
> Dr. Jens Oehlschl弄el
> Analyse
> BBDO InterOne
> Grnstr. 15
> 40212 Dsseldorf
> 
> Tel.: +49 (0)211 1379-187
> Fax.: +49 (0)211 1379-461
> http://www.bbdo-interone.de
> 
> 
> 
> 
> 
> 
> 
> 
> > -----Original Message-----
> > From: owner-r-devel@stat.math.ethz.ch
> > [mailto:owner-r-devel@stat.math.ethz.ch]On Behalf Of rnassar@duke.edu
> > Sent: Thursday, July 13, 2000 1:13 AM
> > To: r-devel@stat.math.ethz.ch
> > Cc: R-bugs@biostat.ku.dk
> > Subject: [Rd] pairs(), "cex" argument has no effect (PR#603)
> >
> >
> > Dear R Team,
> >
> > pairs():   "cex", "cex.axis", "cex.label" arguments do not
> > seem to have an
> > effect.  I am submitting this report in case they were inteded to.
> >
> > Thank you.
> >
> > Rashid Nassar
> >
> > --please do not edit the information below--
> >
> > Version:
> >  platform = i586-pc-linux-gnu
> >  arch = i586
> >  os = linux-gnu
> >  system = i586, linux-gnu
> >  status = Patched
> >  major = 1
> >  minor = 1.0
> >  year = 2000
> >  month = July
> >  day = 1
> >  language = R
> >
> > Search Path:
> >  .GlobalEnv, package:mva, Autoloads, package:base
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-.-.-.-.-.-.-
> > r-devel mailing list -- Read
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info",
> > "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To:
> > r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > _._._._._._._._._
> >
> 
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Mon Jul 17 21:11:30 2000
From: bates@stat.wisc.edu (bates@stat.wisc.edu)
Date: Mon, 17 Jul 2000 22:11:30 +0200 (MET DST)
Subject: [Rd] Re: [R] na.omit (PR#610)
Message-ID: <200007172011.WAA26712@pubhealth.ku.dk>

buerkle@hawaii.edu writes:

> Why is it that when a vector contains no NAs, na.omit returns an empty
> vector rather than the object/vector that was passed to it?  
> 
> >na.omit(c(1,2,3,4))          
> numeric(0)

Well, because there is a bug in na.omit.default.  The problem is in the
section of code

        omit <- seq(along = object)[is.na(object)]
        nm <- names(object)
        object <- object[-omit]

If there are no NA's in the object, then omit becomes a length 0
vector and -omit doesn't have the intended effect.

A temporary fix would be to insert
        if (length(omit) == 0) return(object)
after the first line shown above.

We'll incorporate a fix for the next release.  Thanks for reporting
the bug.

> ---------------------------
> platform i686-pc-linux-gnu
> arch     i686             
> os       linux-gnu        
> system   i686, linux-gnu  
> status                    
> major    1                
> minor    1.0              
> year     2000             
> month    June             
> day      15               
> language R
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
Douglas Bates                            bates@stat.wisc.edu
Statistics Department                    608/262-2598
University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Wed Jul 19 00:08:27 2000
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Wed, 19 Jul 2000 01:08:27 +0200
Subject: [Rd] Makevars, PKG_CFLAGS, ...
In-Reply-To: <Pine.OSF.4.21.0007170930170.31690-100000@zidsrv.sci.uni-klu.ac.at>
References: <Pine.OSF.4.21.0007170930170.31690-100000@zidsrv.sci.uni-klu.ac.at>
Message-ID: <200007182308.BAA00393@aragorn.ci.tuwien.ac.at>

>>>>> Albrecht Gebhardt writes:

> Hi,

> I'm searching for a way to override the default CFLAGS/FFLAGS (-g -02
> in my case) per package (e.g with "-g" for packages under
> development).  PKG_CFLAGS/PKG_FFLAGS is prepended to the remaining
> flags, so it can't delete a globally set "-O2" flag.

> Of course I can edit the global Makeconf file, but I was wondering if
> there is a possibility to override variables from Makeconf in the
> Makevars file inside a package tree, without creating a separate
> Makefile for this package?

In general, no.  Why would you want to do this?  The point of having
Makeconf is that it is a configuration of the development environment
that is provably known to work (as it passed make check).

CFLAGS, as per GNU Coding standards, should always be at the user's
discretion.  This is why we never add to CFLAGS.  It should be possible
to set this variable from the command line, but apparently this does not
work when using a shell script which in turn calls make.  R CMD COMPILE
works o.k. in this regard.

-k



	
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From hdrees@statlab.uni-heidelberg.de  Wed Jul 19 16:47:05 2000
From: hdrees@statlab.uni-heidelberg.de (hdrees@statlab.uni-heidelberg.de)
Date: Wed, 19 Jul 2000 17:47:05 +0200 (MET DST)
Subject: [Rd] bug in loess (PR#611)
Message-ID: <200007191547.RAA09093@pubhealth.ku.dk>

Full_Name: Holger Drees
Version: 1.0.0-1
OS: Windows NT 4.0/Linux Suse 6.3
Submission from: (NULL) (129.206.113.204)


After typing the commands

x <- seq(0,1,by=0.01)
y <- sin(6*x)+rnorm(101)
regtest <- loess(y~x,degree=1,surface="direct",family="symmetric")

regtest$fitted equals NULL. Moreover,

y-regtest$residuals

and 

predict.loess(regtest,x)

give different values, though both are supposed to give the vector of fitted
values.
The latter is the same for both choices of family ("gaussian" and "symmetric").
This holds true for both the WINDOWS and LINUX SUSE 6.3 implementation. (Splus
yields the 
correct results.) This effect occurs only with the option surface="direct".

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Jul 19 17:44:33 2000
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 19 Jul 2000 17:44:33 +0100 (BST)
Subject: [Rd] bug in loess (PR#611)
In-Reply-To: <200007191547.RAA09093@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.05.10007191737480.1724-100000@auk.stats>

On Wed, 19 Jul 2000 hdrees@statlab.uni-heidelberg.de wrote:

> Full_Name: Holger Drees
> Version: 1.0.0-1
> OS: Windows NT 4.0/Linux Suse 6.3
> Submission from: (NULL) (129.206.113.204)
> 
> 
> After typing the commands
> 
> x <- seq(0,1,by=0.01)
> y <- sin(6*x)+rnorm(101)
> regtest <- loess(y~x,degree=1,surface="direct",family="symmetric")
> 
> regtest$fitted equals NULL. Moreover,
> 
> y-regtest$residuals
> 
> and 
> 
> predict.loess(regtest,x)
> 
> give different values, though both are supposed to give the vector of fitted
> values.
> The latter is the same for both choices of family ("gaussian" and "symmetric").
> This holds true for both the WINDOWS and LINUX SUSE 6.3 implementation. (Splus
> yields the 
> correct results.) This effect occurs only with the option surface="direct".

Since you have clearly looked into this, could you please provide a patch
which gives the correct answers.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From berwin@maths.uwa.edu.au  Thu Jul 20 07:51:52 2000
From: berwin@maths.uwa.edu.au (berwin@maths.uwa.edu.au)
Date: Thu, 20 Jul 2000 08:51:52 +0200 (MET DST)
Subject: [Rd] Installing R-1.1.0 (PR#612)
Message-ID: <200007200651.IAA10988@pubhealth.ku.dk>

Dear R-developers,

I finally got around to install R 1.1.0 but had problems at the `make
check' stage.

After compiling the released R 1.1.0 version the `make check' stage
stopped while checking the examples in base.  There was some problem
with the quantile function and the check stopped complaining that NA's
are not allowed.

But I assume that this problem is already known because `make check'
passed this point after I applied the latest patches and recompiled
R.  However `make check' still chokes on base and on mva.  The last
lines in base-Ex.Rout are:

> x <- 0:15
> size <- (1:20)/4
> persp(x,size, dnb <- outer(x,size,function(x,s)dnbinom(x,s, pr= 0.4)),
+       xlab = "x", ylab = "s", zlab="density", theta = 150)
> title(tit <- "negative binomial density(x,s, pr = 0.4)  vs.  x & s")
> 
> image  (x,size, log10(dnb), main= paste("log [",tit,"]"))
Error in hsv(h, s, v, gamma) : invalid HSV color
Execution halted

And the last lines in mva-Ex.Rout are:

> prcomp(USArrests, scale = TRUE)
Standard deviations:
[1] 1.5748783 0.9948694 0.5971291 0.4164494

Rotation:
                PC1        PC2        PC3         PC4
Murder   -0.5358995 -0.4181809  0.3412327 -0.64922780
Assault  -0.5831836 -0.1879856  0.2681484  0.74340748
UrbanPop -0.2781909  0.8728062  0.3780158 -0.13387773
Rape     -0.5434321  0.1673186 -0.8177779 -0.08902432
> plot(prcomp(USArrests))
Error in hsv(h, s, v, gamma) : invalid HSV color
Execution halted

Any idea how I could get around this problem?  I presume that this
problem has to do with the number of available colors?  (For me, HSV
means "Hamburger Sport Verein", a German soccer club ;-)) ). 

Cheers,

        Berwin

--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = Patched
 major = 1
 minor = 1.0
 year = 2000
 month = July
 day = 17
 language = R

Search Path:
 .GlobalEnv, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Jul 20 08:33:01 2000
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 20 Jul 2000 08:33:01 +0100 (BST)
Subject: [Rd] RFC: System and time support functions in R
Message-ID: <Pine.GSO.4.05.10007200826030.9485-100000@auk.stats>

I've been looking over system utility functions that we might want to
add to R.  A few come out of specific needs, others from looking at
other systems and what people are using system() for.  I've taken
account of Paul Gilbert's comments posted here a while ago (and I
think covered all except the use of mailers).

We currently have

date
*.socket
file.create
file.exists
file.remove
file.append
dir.create
basename
dirname
list.file/dir
unlink         -- it is none too clear what this should do for dirs.
file.show
getenv


S-PLUS 5.x has

access
files.in.dir	-- we have list.files.
is.dir
mkdir		-- we have dir.create
rmdir		-- recursive or not (unlink only removes empty directories)


I have added today for R-devel (Unix and Wundows)

file.access()	-- an access() work-alike.
file.info()	-- subsumes is.dir(), and give the information from
		   stat(2) calls.
file.copy	-- via file.create and file.append.
Sys.info()	-- give the information from uname(2) (including machine
		   name) and getlogin(2) (the login name).

Things which I think we still may need:

putenv() -- or is `setenv' a better name?  (putenv is the POSIX name).

sleep() -- called Sys.sleep()?, and with sub-second accuracy.
	   Tricky to do with event loops running, but looks possible.
	   Package xgobi under Unix has system("sleep 3"), which is
	   not a good idea in an event-driven system.  I have this
	   running on Windows for xgobi there.

unlink() -- I suggest we add a recursive argument, defaulting to
	    FALSE?  (It is currently TRUE on most platforms.)


The other main area that needs something more is date/times.  For the
moment file.info returns times as days/fractional days since 1 Jan
1970, which chron() can interpret.  But that is not *quite* correct,
as not all days are the same length due to the (rare) use of
leap-seconds.  And chron does not know about timezones.

My suggestion here is to implement a time class called POSIXtime which is
just POSIX's time_t. (Number of seconds since 1 Jan 1970.) And another time
class POSIXtm which is an R list giving a struct tm (secs, mins, hours, day
of month, month, year, day of week, day of year).  (I think it also needs
to record the timezone used.)  Then we can have R functions as vectorized
wrappers for the POSIX functions (not necesarily with these names)

time (say Sys.date):    date() as a POSIXtime variable.
localtime / gmtime:     convert POSIXtime to POSIXtm (local TZ/UTC)
mktime:                 convert POSIXtm to POSIXtime
strftime:               convert POSIXtm to character string, flexibly.
difftime:		difference between times in secs.
			(The wrappers for the last two could handle
			POSIXtime and POSIXtm objects.)

(Perhaps if these do not exist on a platform (unlikely) we can have
less accurate alternatives in our code.  They exist on Windows.)

Possibly we might want to allow

tzset:		        set a time zone, for the above functions

or perhaps better just have tz as an argument to the conversion functions.

Is this is a sensible design strategy?  I am reluctant to add another set
of date functions after packages date and chron, but cannot see how to
easily leverage those to do what I need, and in any case POSIX has thought
this through.


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Thu Jul 20 12:17:35 2000
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Thu, 20 Jul 2000 13:17:35 +0200 (CEST)
Subject: [Rd] RFC: System and time support functions in R
In-Reply-To: <Pine.GSO.4.05.10007200826030.9485-100000@auk.stats>
References: <Pine.GSO.4.05.10007200826030.9485-100000@auk.stats>
Message-ID: <14710.57295.482498.128666@fangorn.ci.tuwien.ac.at>

>>>>> Prof Brian D Ripley writes:

> I've been looking over system utility functions that we might want to
> add to R.  A few come out of specific needs, others from looking at
> other systems and what people are using system() for.  I've taken
> account of Paul Gilbert's comments posted here a while ago (and I
> think covered all except the use of mailers).

> ...

> The other main area that needs something more is date/times.  For the
> moment file.info returns times as days/fractional days since 1 Jan
> 1970, which chron() can interpret.  But that is not *quite* correct,
> as not all days are the same length due to the (rare) use of
> leap-seconds.  And chron does not know about timezones.

> My suggestion here is to implement a time class called POSIXtime which is
> just POSIX's time_t. (Number of seconds since 1 Jan 1970.) And another time
> class POSIXtm which is an R list giving a struct tm (secs, mins, hours, day
> of month, month, year, day of week, day of year).  (I think it also needs
> to record the timezone used.)  Then we can have R functions as vectorized
> wrappers for the POSIX functions (not necesarily with these names)

> time (say Sys.date):    date() as a POSIXtime variable.
> localtime / gmtime:     convert POSIXtime to POSIXtm (local TZ/UTC)
> mktime:                 convert POSIXtm to POSIXtime
> strftime:               convert POSIXtm to character string, flexibly.
> difftime:		difference between times in secs.
> 			(The wrappers for the last two could handle
> 			POSIXtime and POSIXtm objects.)

> (Perhaps if these do not exist on a platform (unlikely) we can have
> less accurate alternatives in our code.  They exist on Windows.)

> Possibly we might want to allow

> tzset:		        set a time zone, for the above functions

> or perhaps better just have tz as an argument to the conversion functions.

> Is this is a sensible design strategy?  I am reluctant to add another
> set of date functions after packages date and chron, but cannot see
> how to easily leverage those to do what I need, and in any case POSIX
> has thought this through.

David James and I are currently discussing re-implementing chron, and
among the issues is interfacing ANSI C time & date functions as you
suggested above.  We should also provide strptime() which is not ANSI
but simple to implement without locale support, and maybe possible to
take from glibc otherwise (assuming it is not in the system's libs).

(Btw, why POSIX?  K&R gave me the feeling that the above is all ANSI.)

I will cc David on this.  The R list (corresponding to struct tm) could
as well be the basic representation of a chron object ...

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Prof Brian Ripley <ripley@stats.ox.ac.uk>  Thu Jul 20 12:29:53 2000
From: Prof Brian Ripley <ripley@stats.ox.ac.uk> (Prof Brian Ripley)
Date: Thu, 20 Jul 2000 12:29:53 +0100 (BST)
Subject: [Rd] RFC: System and time support functions in R
Message-ID: <200007201129.MAA07463@toucan.stats.ox.ac.uk>


> From: Kurt Hornik <Kurt.Hornik@ci.tuwien.ac.at>
> Date: Thu, 20 Jul 2000 13:17:35 +0200 (CEST)
> 
> >>>>> Prof Brian D Ripley writes:
> 
> > I've been looking over system utility functions that we might want to
> > add to R.  A few come out of specific needs, others from looking at
> > other systems and what people are using system() for.  I've taken
> > account of Paul Gilbert's comments posted here a while ago (and I
> > think covered all except the use of mailers).
> 
> > ...
> 
> > The other main area that needs something more is date/times.  For the
> > moment file.info returns times as days/fractional days since 1 Jan
> > 1970, which chron() can interpret.  But that is not *quite* correct,
> > as not all days are the same length due to the (rare) use of
> > leap-seconds.  And chron does not know about timezones.
> 
> > My suggestion here is to implement a time class called POSIXtime which is
> > just POSIX's time_t. (Number of seconds since 1 Jan 1970.) And another time
> > class POSIXtm which is an R list giving a struct tm (secs, mins, hours, day
> > of month, month, year, day of week, day of year).  (I think it also needs
> > to record the timezone used.)  Then we can have R functions as vectorized
> > wrappers for the POSIX functions (not necesarily with these names)
> 
> > time (say Sys.date):    date() as a POSIXtime variable.
> > localtime / gmtime:     convert POSIXtime to POSIXtm (local TZ/UTC)
> > mktime:                 convert POSIXtm to POSIXtime
> > strftime:               convert POSIXtm to character string, flexibly.
> > difftime:		difference between times in secs.
> > 			(The wrappers for the last two could handle
> > 			POSIXtime and POSIXtm objects.)
> 
> > (Perhaps if these do not exist on a platform (unlikely) we can have
> > less accurate alternatives in our code.  They exist on Windows.)
> 
> > Possibly we might want to allow
> 
> > tzset:		        set a time zone, for the above functions
> 
> > or perhaps better just have tz as an argument to the conversion functions.
> 
> > Is this is a sensible design strategy?  I am reluctant to add another
> > set of date functions after packages date and chron, but cannot see
> > how to easily leverage those to do what I need, and in any case POSIX
> > has thought this through.
> 
> David James and I are currently discussing re-implementing chron, and
> among the issues is interfacing ANSI C time & date functions as you
> suggested above.  We should also provide strptime() which is not ANSI
> but simple to implement without locale support, and maybe possible to
> take from glibc otherwise (assuming it is not in the system's libs).
> 
> (Btw, why POSIX?  K&R gave me the feeling that the above is all ANSI.)

ISO C (aka ANSI C) has time_t, but no guarantee that it is seconds past
1/1/1970.  POSIX in general tightens up the definitions considerably.

> I will cc David on this.  The R list (corresponding to struct tm) could
> as well be the basic representation of a chron object ...

I would be very happy for someone else to do this as part of chron (say),
*but* I do think at least the basic stuff should be in base R 1.2.x.
(Not even in package chron bundled with R.)   That way we can use
this for calendar and file dates.

If we go for the R list I think we do need to record the timezone in the
list (POSIX does not).

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Thu Jul 20 14:24:33 2000
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Thu, 20 Jul 2000 15:24:33 +0200 (CEST)
Subject: [Rd] RFC: System and time support functions in R
In-Reply-To: <200007201129.MAA07463@toucan.stats.ox.ac.uk>
References: <200007201129.MAA07463@toucan.stats.ox.ac.uk>
Message-ID: <14710.64913.518014.831839@gargle.gargle.HOWL>

>>>>> "BDR" == Prof Brian Ripley <ripley@stats.ox.ac.uk> writes:

    >> From: Kurt Hornik <Kurt.Hornik@ci.tuwien.ac.at>
    >> Date: Thu, 20 Jul 2000 13:17:35 +0200 (CEST)
    >> 
    >> >>>>> Prof Brian D Ripley writes:
    >> 
    >> > I've been looking over system utility functions that we might want to
    >> > add to R.  A few come out of specific needs, others from looking at
    >> > other systems and what people are using system() for.  I've taken
    >> > account of Paul Gilbert's comments posted here a while ago (and I
    >> > think covered all except the use of mailers).
    >> 
    >> > ...
    >> 
    >> > The other main area that needs something more is date/times.  For the
    >> > moment file.info returns times as days/fractional days since 1 Jan
    >> > 1970, which chron() can interpret.  But that is not *quite* correct,
    >> > as not all days are the same length due to the (rare) use of
    >> > leap-seconds.  And chron does not know about timezones.
    >> 
    >> > My suggestion here is to implement a time class called POSIXtime
    >> > which is just POSIX's time_t. (Number of seconds since 1 Jan
    >> > 1970.) And another time class POSIXtm which is an R list giving a
    >> > struct tm (secs, mins, hours, day of month, month, year, day of
    >> > week, day of year).  (I think it also needs to record the timezone
    >> > used.)  Then we can have R functions as vectorized wrappers for
    >> > the POSIX functions (not necesarily with these names)
    >> 
    >> > time (say Sys.date):    date() as a POSIXtime variable.
    >> > localtime / gmtime:     convert POSIXtime to POSIXtm (local TZ/UTC)
    >> > mktime:                 convert POSIXtm to POSIXtime
    >> > strftime:               convert POSIXtm to character string, flexibly.
    >> > difftime:		difference between times in secs.
    >> > 			(The wrappers for the last two could handle
    >> > 			POSIXtime and POSIXtm objects.)
    >> 
    >> > (Perhaps if these do not exist on a platform (unlikely) we can have
    >> > less accurate alternatives in our code.  They exist on Windows.)
    >> 
    >> > Possibly we might want to allow
    >> 
    >> > tzset:		        set a time zone, for the above functions
    >> 
    >> > or perhaps better just have tz as an argument to the conversion
    >> > functions.
    >> 
    >> > Is this is a sensible design strategy?  I am reluctant to add another
    >> > set of date functions after packages date and chron, but cannot see
    >> > how to easily leverage those to do what I need, and in any case POSIX
    >> > has thought this through.
    >> 
    >> David James and I are currently discussing re-implementing chron, and
    >> among the issues is interfacing ANSI C time & date functions as you
    >> suggested above.  We should also provide strptime() which is not ANSI
    >> but simple to implement without locale support, and maybe possible to
    >> take from glibc otherwise (assuming it is not in the system's libs).
    >> 
    >> (Btw, why POSIX?  K&R gave me the feeling that the above is all ANSI.)

(thank you for getting this going;  I agree that it'd make sense to have
the basic class (& basic methods) as part of "base R".

    BDR> ISO C (aka ANSI C) has time_t, but no guarantee that it is seconds past
    BDR> 1/1/1970.  POSIX in general tightens up the definitions considerably.

Most you probably know this, .. but
since there's the "unix millenium bug" aka "C millenium bug",
POSIX or it's successor will have to extend/change the definition of time_t
to use 64bit integers (or something else) instead of (32-bit) long int as
it is now, since time will overflow some time in 2038 (?).
Our structure should make sure to accomodate more than only about 2^31
seconds since 1970-Jan-01.

chron() even now uses double which should be okay, even if we'd go down to
parts of seconds -- something we might consider.  
How are financial "tick data" recorded nowadays (and in five years from now) ??

    >> I will cc David on this.  The R list (corresponding to struct tm) could
    >> as well be the basic representation of a chron object ...

    BDR> I would be very happy for someone else to do this as part of chron (say),
    BDR> *but* I do think at least the basic stuff should be in base R 1.2.x.
    BDR> (Not even in package chron bundled with R.)   That way we can use
    BDR> this for calendar and file dates.

    BDR> If we go for the R list I think we do need to record the timezone
    BDR> in the list (POSIX does not).
yes!
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Prof Brian Ripley <ripley@stats.ox.ac.uk>  Thu Jul 20 14:33:51 2000
From: Prof Brian Ripley <ripley@stats.ox.ac.uk> (Prof Brian Ripley)
Date: Thu, 20 Jul 2000 14:33:51 +0100 (BST)
Subject: [Rd] RFC: System and time support functions in R
Message-ID: <200007201333.OAA24589@toucan.stats.ox.ac.uk>

> From: Martin Maechler <maechler@stat.math.ethz.ch>
> Date: Thu, 20 Jul 2000 15:24:33 +0200 (CEST)
> To: Prof Brian Ripley <ripley@stats.ox.ac.uk>

>     BDR> ISO C (aka ANSI C) has time_t, but no guarantee that it is seconds 
past
>     BDR> 1/1/1970.  POSIX in general tightens up the definitions considerably.
> 
> Most you probably know this, .. but
> since there's the "unix millenium bug" aka "C millenium bug",
> POSIX or it's successor will have to extend/change the definition of time_t
> to use 64bit integers (or something else) instead of (32-bit) long int as
> it is now, since time will overflow some time in 2038 (?).
> Our structure should make sure to accomodate more than only about 2^31
> seconds since 1970-Jan-01.

Nothing in POSIX that I know of says time_t has to be an signed 32-bit int,
and some systems use long (64-bit) or double or long double already,
my book says.  There is already a problem with 32-bit ints in only
going back to the early years of this century.

This is an argument against making use of the system conversion
functions for a chron replacement, and I think that what I called
POSIXtm (an list) is a more general format.

> chron() even now uses double which should be okay, even if we'd go down to
> parts of seconds -- something we might consider.

I intended to use double in R to store time_t.  (Yes, I know file.info
does not currently, but what is there is a place holder.)

> How are financial "tick data" recorded nowadays (and in five years from now)

To one second, those that I have used.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pd@blueberry.kubism.ku.dk  Fri Jul 21 06:15:05 2000
From: pd@blueberry.kubism.ku.dk (Peter Dalgaard BSA)
Date: Fri, 21 Jul 2000 07:15:05 +0200
Subject: [Rd] Bug list summary (automatic post)
Message-ID: <200007210515.HAA13968@blueberry.kubism.ku.dk>

=================================================
This is an automated summary of the status of the R-bugs
repository.

Note that this may be neither complete nor perfectly
correct at any given instance: Not all bugs are reported,
and some reported bugs may have been fixed, but the
repository not yet updated.

Some bug fixes are difficult to verify because they pertain
to specific hardware or operating system versions. If you
have information to contribute, please do so.

If you happen to know how to fix a problem please send
patches to the bug repository, too.

New bugs are reported either through the web
interface at r-bugs.biostat.ku.dk or via email to
r-bugs@biostat.ku.dk. The bug.report() function can be
used to automate parts of the procedure on many systems.
Followups on older bugs can be done by including the string
"(PR#999)" in the Subject of an email (change 999 to the
actual reference number, of course!).
=================================================

Directory:  Accuracy

* PR# 594 *
Subject: svd() (Linpack) problems/bug for ill-conditioned matrices
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Wed, 5 Jul 2000 18:32:01 +0200 (CEST)

Directory:  Add-ons

* PR# 567 *
Subject: ctest not works
From: George Diniz <george@cpqam.fiocruz.br>
Date: Sun, 12 Mar 2000 12:03:45 -0200
--possibly the RH6.2 Fortran bug
* PR# 503 *
Subject: dmvnorm() bug in e1071
From: "Gregory R. Warnes" <warnes@biostat.washington.edu>
Date: Fri, 24 Mar 2000 03:24:45 +0000 (GMT)
* PR# 496 *
From: bonneau@epi.roazhon.inra.fr (en148)
Date: Tue, 21 Mar 2000 10:57:13 +0100 (MET)
--base R has no est.variogram function.
--This appears to be a bug report on sgeostat.

Directory:  Analyses

* PR# 582 *
Subject: lm.{w}fit(x,y,*) : fails when x has no column names
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Mon, 26 Jun 2000 15:50:58 +0200 (CEST)
--fixed in "R-(release-)patched, i.e., for 1.1.1

Directory:  Documentation

* PR# 581 *
Subject: help screens: typos, suggestions
From: Rashid Nassar <rnassar@duke.edu>
Date: Sun, 25 Jun 2000 15:59:57 -0400 (EDT)
--fixed in R-(release-)patched, i.e., for 1.1.1                                   
--    1.1

Directory:  Graphics

* PR# 603 *
Subject: pairs(), "cex" argument has no effect
From: Rashid Nassar <rnassar@duke.edu>
Date: Wed, 12 Jul 2000 19:08:11 -0400 (EDT)
* PR# 565 *
Subject: Postscript device ignores title if it is too long.
From: Stephen Eglen <stephen@anc.ed.ac.uk>
Date: Fri, 9 Jun 2000 09:17:09 +0100 (BST)
--documentation point was fixed for 1.1.0
* PR# 202 *
Subject: persp box occlusion bug
From: wsi@gcal.ac.uk
Date: Wed, 2 Jun 1999 15:02:03 +0200 (MET DST)
--The persp algorithm does not apply the occlusion rules to the frame, 
--which is always plotted first. 
--A bug, but not very simple to fix.
* PR# 584 *
Subject: par(lty = "1") -- lty storage-etc bug
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Tue, 27 Jun 2000 09:11:36 +0200 (CEST)
* PR# 580 *
Subject: dotplot() colors reversed
From: Rashid Nassar <rnassar@duke.edu>
Date: Sun, 25 Jun 2000 15:36:00 -0400 (EDT)

Directory:  In-Out

none

Directory:  Installation

* PR# 597 *
Subject: multiply defined symbols
From: plucas@csd.abdn.ac.uk
Date: Fri, 7 Jul 2000 12:23:44 +0200 (MET DST)
--Probably system-specific due to use of fort77
* PR# 467 *
Subject: Re: [R] Re: R-1.0.0 is released
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 01 Mar 2000 20:26:40 +0100
--followup to PR#466
* PR# 466 *
Subject: Re: R-1.0.0 is released
From: bhoel@server.python.net (Berthold=?iso-8859-1?q?_H=F6llmann?=)
Date: 01 Mar 2000 16:00:54 +0100
* PR# 571 *
Subject:  Missing -lc for compilation on AIX (R 1.1.0) 
From: Thomas Vogels <tov@infiniti.ece.cmu.edu>
Date: Thu, 15 Jun 2000 13:42:50 -0400
* PR# 485 *
Subject: Install R1.0.0
From: Lynn Zhang <lyzhang@umich.edu>
Date: Mon, 13 Mar 2000 16:10:52 -0500 (EST)

Directory:  Language

* PR# 589 *
Subject: Bug with lists and expressions
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Tue, 04 Jul 2000 02:26:41 GMT
* PR# 412 *
Subject: anomalies with call objects
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 06 Feb 2000 01:18:50 +0100
* PR# 408 *
Subject: convolution bug
From: wsimpson@gcal.ac.uk
Date: Fri, 28 Jan 2000 11:17:36 +0100 (MET)
* PR# 587 *
Subject: dim(a <- ...) sets invisible flag erronously
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Fri, 30 Jun 2000 20:15:59 +0200 (MET DST)
--Not specific to dim: R differs from S for most functions here.
* PR# 576 *
Subject:  exists() and the mode argument 
From: J.C.Rougier@durham.ac.uk
Date: Tue, 20 Jun 2000 12:03:36 +0100 (BST)

Directory:  Low-level

* PR# 608 *
Subject: seg.fault in eval.c
From: Adrian Vance Custer <acuster@nopause.berkeley.edu>
Date: Sat, 15 Jul 2000 01:22:23 -0700
* PR# 536 *
Subject: Problem with match.arg()
From: kjetikj@astro.uio.no
Date: Sun, 7 May 2000 13:58:21 +0200 (MET DST)
--1.0.0 bug fixed for 1.0.1 ??
* PR# 505 *
Subject: interrupted save 
From: Thomas Lumley <thomas@biostat.washington.edu>
Date: Sat, 25 Mar 2000 12:16:50 -0800 (PST)
* PR# 551 *
Subject: Bus Error crash
From: kjetikj@astro.uio.no
Date: Mon, 22 May 2000 13:06:48 +0200 (MET DST)
--- ??? -- not (yet) reproducible with small examples
--- after load()ing large objects
--- on two different DEC alpha versions
* PR# 545 *
Subject: Segmentation Fault of unknown cause
From: kjetikj@astro.uio.no
Date: Mon, 15 May 2000 16:29:29 +0200 (MET DST)

Directory:  Misc

none

Directory:  Models

* PR# 600 *
Subject: Faulty handling of aliasing in predict.lm; wrong constant
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Wed, 12 Jul 2000 14:46:56 +1000

Directory:  Startup

* PR# 486 *
Subject: Re: autoload error in profile {was anova-bug in R-version  1.0.0?}
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Tue, 14 Mar 2000 10:32:43 +0100 (MET)
--workaround to the origin problem in 1.0.1
--New report: try does not work from the profile.

Directory:  System-specific

* PR# 592 *
Subject: tseries bug
From: przemat@itti.com.pl
Date: Tue, 4 Jul 2000 14:52:17 +0200 (MET DST)
* PR# 490 *
Subject: R-1.0.0 on alpha/osf1 memory glitch
From: Ray Brownrigg <Ray.Brownrigg@mcs.vuw.ac.nz>
Date: Fri, 17 Mar 2000 11:25:30 +1300 (NZDT)
* PR# 452 *
Subject: problem with glm
From: Brad McNeney <mcneney@cs.sfu.ca>
Date: Fri, 18 Feb 2000 17:51:54 -0800 (PST)
--Problems on Alpha's with glm. Status unclear
* PR# 533 *
Subject: acepack, akima and tripack will not load 
From: mallen@tntech.edu
Date: Thu, 4 May 2000 19:18:59 +0200 (MET DST)
--related to PR#521: probably compiler-specific
* PR# 521 *
Subject: akima core dumps on loading
From: santini@dsi.unimi.it
Date: Mon, 17 Apr 2000 11:30:41 +0200 (MET DST)
--Probably compiler-specific
* PR# 547 *
Subject: system(.., ignore.stderr = TRUE)  problem on Solaris
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Fri, 19 May 2000 21:12:02 +0200 (CEST)
--redirection of stderr to /dev/null in system occurs before the command
--is tried on some systems and after on others.
* PR# 537 *
Subject: eigen broken on AIX with R-devel?
From: Thomas J Vogels <tov@ece.cmu.edu>
Date: 08 May 2000 12:01:04 -0400
--AIX, probably compiler-specific
* PR# 534 *
Subject: wsfe bug report just made
From: mallen@tntech.edu
Date: Thu, 4 May 2000 19:20:35 +0200 (MET DST)
--follow up to PR#533

Directory:  TooMuchAtOnce

* PR# 532 *
Subject: Bug report -- 1.0.1, HP-UX
From: Russ Lenth <russell-lenth@uiowa.edu>
Date: Wed, 03 May 2000 12:15:26 -0500
--1) is a user error.
--2) command-line history has no information
--3) help.start looks like a permissions problem. 

Directory:  Windows

none

Directory:  incoming

* PR# 612 *
Subject:  Installing R-1.1.0 
From: Berwin Turlach <berwin@maths.uwa.edu.au>
Date: Thu, 20 Jul 2000 14:50:21 +0800
* PR# 611 *
Subject: bug in loess
From: hdrees@statlab.uni-heidelberg.de
Date: Wed, 19 Jul 2000 17:47:04 +0200 (MET DST)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Jul 21 06:23:47 2000
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 21 Jul 2000 06:23:47 +0100 (BST)
Subject: [Rd] Installing R-1.1.0 (PR#612)
In-Reply-To: <200007200651.IAA10988@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.05.10007210617470.4284-100000@auk.stats>

Berwin,

i686-pc-linux-gnu is a widely used and tested platform for R, and
we know that 1.1.0 and the latest patched version both pass `make check'
on a Debian distribution (2.2?) and RedHat 6.0 and (RedHat 6.2
with gcc-2.95.2) and various others.

This suggests that the problem is specific to your Linux installation,
so can you give us more details please?

On Thu, 20 Jul 2000 berwin@maths.uwa.edu.au wrote:

> Dear R-developers,
> 
> I finally got around to install R 1.1.0 but had problems at the `make
> check' stage.
> 
> After compiling the released R 1.1.0 version the `make check' stage
> stopped while checking the examples in base.  There was some problem
> with the quantile function and the check stopped complaining that NA's
> are not allowed.
> 
> But I assume that this problem is already known because `make check'
> passed this point after I applied the latest patches and recompiled
> R.  However `make check' still chokes on base and on mva.  The last
> lines in base-Ex.Rout are:
> 
> > x <- 0:15
> > size <- (1:20)/4
> > persp(x,size, dnb <- outer(x,size,function(x,s)dnbinom(x,s, pr= 0.4)),
> +       xlab = "x", ylab = "s", zlab="density", theta = 150)
> > title(tit <- "negative binomial density(x,s, pr = 0.4)  vs.  x & s")
> > 
> > image  (x,size, log10(dnb), main= paste("log [",tit,"]"))
> Error in hsv(h, s, v, gamma) : invalid HSV color
> Execution halted
> 
> And the last lines in mva-Ex.Rout are:
> 
> > prcomp(USArrests, scale = TRUE)
> Standard deviations:
> [1] 1.5748783 0.9948694 0.5971291 0.4164494
> 
> Rotation:
>                 PC1        PC2        PC3         PC4
> Murder   -0.5358995 -0.4181809  0.3412327 -0.64922780
> Assault  -0.5831836 -0.1879856  0.2681484  0.74340748
> UrbanPop -0.2781909  0.8728062  0.3780158 -0.13387773
> Rape     -0.5434321  0.1673186 -0.8177779 -0.08902432
> > plot(prcomp(USArrests))
> Error in hsv(h, s, v, gamma) : invalid HSV color
> Execution halted
> 
> Any idea how I could get around this problem?  I presume that this
> problem has to do with the number of available colors?  (For me, HSV
> means "Hamburger Sport Verein", a German soccer club ;-)) ). 

Look at ?hsv for the interpretation.  As I understand it hsv is a variant
on hsb.

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From berwin@maths.uwa.edu.au  Fri Jul 21 11:06:38 2000
From: berwin@maths.uwa.edu.au (Berwin Turlach)
Date: Fri, 21 Jul 2000 18:06:38 +0800 (WST)
Subject: [Rd] Installing R-1.1.0 (PR#612)
In-Reply-To: <Pine.GSO.4.05.10007210617470.4284-100000@auk.stats>
References: <200007200651.IAA10988@pubhealth.ku.dk>
 <Pine.GSO.4.05.10007210617470.4284-100000@auk.stats>
Message-ID: <14712.8366.469912.970376@bossiaea.maths.uwa.edu.au>

Dear Brian,

>>>>> "BDR" == Prof Brian D Ripley <ripley@stats.ox.ac.uk> writes:

  BDR> i686-pc-linux-gnu is a widely used and tested platform for R,
  BDR> and we know that 1.1.0 and the latest patched version both pass
  BDR> `make check' on a Debian distribution (2.2?) and RedHat 6.0 and
  BDR> (RedHat 6.2 with gcc-2.95.2) and various others.

  BDR> This suggests that the problem is specific to your Linux
  BDR> installation, so can you give us more details please?
Sure. 

At the end of ./configure in the unpacked R-1.1.0 directory I get:

    R is now configured for i686-pc-linux-gnu
    
      Source directory:         .
      Installation directory:   /usr/local.own
      C compiler:               gcc  -mieee-fp -D__NO_MATH_INLINES -g -O2
      FORTRAN compiler:         g77  -g -O2
      X11 support:              yes
      Gnome support:            no
      Tcl/Tk support:           yes

I append below the config.cache that is created.

My system is essentially a RedHat 6.0 with a 2.2.10 kernel.

I am using the Pentium GCC (http://www.goof.com/pcg/)

    bossiaea:/opt/R/R-1.1.0$ which gcc
    /usr/local.own/bin/gcc
    bossiaea:/opt/R/R-1.1.0$ gcc --version
    pgcc-2.91.60

(Perhaps this one could be updated.)

My computer has a S3 Trio3d graphics card and I could never get it to
work properly with any of the drivers from XFree86.  Instead I am
using a frame buffer device.  I am using the AnotherLevel
configuration of FVWM2 as my window environemnt.  When I query the
system about FVWM I get:

    Serverhost=bossiaea, Clienthost=bossiaea
    Hostname=bossiaea, Ostype=Linux, User=berwin
    Version=11, Revision=6
    Vendor=The XFree86 Project, Inc, Release=3330
    Width=1024, Height=768
    X_Resolution=2951, Y_Resolution=2954
    Planes=8, Class=PseudoColor, Color=Yes
    Fvwm_Version=2.2, Options=SHAPE XPM M4
    Fvwmdir=/usr/X11R6/lib/X11/fvwm2

I have XFree86 3.3.5 installed, so this could perhaps be updated too.

    bossiaea:/opt/R/R-1.1.0$ rpm -aq | grep -i xfree
    XFree86-VGA16-3.3.5-1.6.0
    XFree86-S3V-3.3.5-1.6.0
    XFree86-xfs-3.3.5-1.6.0
    XFree86-S3-3.3.5-1.6.0
    XFree86-75dpi-fonts-3.3.5-1.6.0
    XFree86-libs-3.3.5-1.6.0
    XFree86-100dpi-fonts-3.3.5-1.6.0
    XFree86-SVGA-3.3.5-1.6.0
    XFree86-FBDev-3.3.3.1-49
    XFree86-3.3.5-1.6.0
    XFree86-devel-3.3.5-1.6.0

Any other information that could be helpful?

Cheers,

        Berwin

+++++++++++++++++++++++++ config.cache +++++++++++++++++++++++++
# This file is a shell script that caches the results of configure
# tests run on this system so they can be shared between configure
# scripts and configure runs.  It is not useful on other systems.
# If it contains results you don't want to keep, you may remove or edit it.
#
# By default, configure uses ./config.cache as the cache file,
# creating it if it does not exist already.  You can give configure
# the --cache-file=FILE option to use a different cache file; that is
# what configure does when it calls configure scripts in
# subdirectories, so they share the cache.
# Giving --cache-file=/dev/null disables caching, for debugging configure.
# config.status only pays attention to the cache file if you give it the
# --recheck option to rerun configure.
#
ac_cv_c_bigendian=${ac_cv_c_bigendian='no'}
ac_cv_c_const=${ac_cv_c_const='yes'}
ac_cv_flibs=${ac_cv_flibs=' -lg2c -lm -L/usr/local.own/share/icon.9.3.1/ilib -L/usr/local.own/lib/gcc-lib/i686-pc-linux-gnu/pgcc-2.91.60 -L/usr/local.own/i686-pc-linux-gnu/lib -L/usr/local.own/lib -lm'}
ac_cv_func___setfpucw=${ac_cv_func___setfpucw='no'}
ac_cv_func_acosh=${ac_cv_func_acosh='yes'}
ac_cv_func_alloca_works=${ac_cv_func_alloca_works='yes'}
ac_cv_func_asinh=${ac_cv_func_asinh='yes'}
ac_cv_func_atanh=${ac_cv_func_atanh='yes'}
ac_cv_func_bcopy=${ac_cv_func_bcopy='yes'}
ac_cv_func_connect=${ac_cv_func_connect='yes'}
ac_cv_func_finite=${ac_cv_func_finite='yes'}
ac_cv_func_getcwd=${ac_cv_func_getcwd='yes'}
ac_cv_func_gethostbyname=${ac_cv_func_gethostbyname='yes'}
ac_cv_func_hypot=${ac_cv_func_hypot='yes'}
ac_cv_func_isnan=${ac_cv_func_isnan='yes'}
ac_cv_func_matherr=${ac_cv_func_matherr='yes'}
ac_cv_func_memcpy=${ac_cv_func_memcpy='yes'}
ac_cv_func_memmove=${ac_cv_func_memmove='yes'}
ac_cv_func_popen=${ac_cv_func_popen='yes'}
ac_cv_func_remove=${ac_cv_func_remove='yes'}
ac_cv_func_rint=${ac_cv_func_rint='yes'}
ac_cv_func_shmat=${ac_cv_func_shmat='yes'}
ac_cv_func_strcoll=${ac_cv_func_strcoll='yes'}
ac_cv_func_strdup=${ac_cv_func_strdup='yes'}
ac_cv_func_system=${ac_cv_func_system='yes'}
ac_cv_func_times=${ac_cv_func_times='yes'}
ac_cv_func_vfork_works=${ac_cv_func_vfork_works='yes'}
ac_cv_func_vprintf=${ac_cv_func_vprintf='yes'}
ac_cv_func_vsnprintf=${ac_cv_func_vsnprintf='yes'}
ac_cv_have_x=${ac_cv_have_x='have_x=yes 		ac_x_includes=/usr/X11R6/include ac_x_libraries=/usr/X11R6/lib'}
ac_cv_header_alloca_h=${ac_cv_header_alloca_h='yes'}
ac_cv_header_dirent_dirent_h=${ac_cv_header_dirent_dirent_h='yes'}
ac_cv_header_dl_h=${ac_cv_header_dl_h='no'}
ac_cv_header_dlfcn_h=${ac_cv_header_dlfcn_h='yes'}
ac_cv_header_elf_h=${ac_cv_header_elf_h='yes'}
ac_cv_header_floatingpoint_h=${ac_cv_header_floatingpoint_h='no'}
ac_cv_header_fpu_control_h=${ac_cv_header_fpu_control_h='yes'}
ac_cv_header_ieee754_h=${ac_cv_header_ieee754_h='yes'}
ac_cv_header_ieeefp_h=${ac_cv_header_ieeefp_h='no'}
ac_cv_header_locale_h=${ac_cv_header_locale_h='yes'}
ac_cv_header_netdb_h=${ac_cv_header_netdb_h='yes'}
ac_cv_header_netinet_in_h=${ac_cv_header_netinet_in_h='yes'}
ac_cv_header_netinet_tcp_h=${ac_cv_header_netinet_tcp_h='yes'}
ac_cv_header_png_h=${ac_cv_header_png_h='yes'}
ac_cv_header_readline_history_h=${ac_cv_header_readline_history_h='yes'}
ac_cv_header_readline_readline_h=${ac_cv_header_readline_readline_h='yes'}
ac_cv_header_rpc_rpc_h=${ac_cv_header_rpc_rpc_h='yes'}
ac_cv_header_rpc_xdr_h=${ac_cv_header_rpc_xdr_h='yes'}
ac_cv_header_stdc=${ac_cv_header_stdc='yes'}
ac_cv_header_string_h=${ac_cv_header_string_h='yes'}
ac_cv_header_sys_param_h=${ac_cv_header_sys_param_h='yes'}
ac_cv_header_sys_socket_h=${ac_cv_header_sys_socket_h='yes'}
ac_cv_header_sys_stat_h=${ac_cv_header_sys_stat_h='yes'}
ac_cv_header_sys_time_h=${ac_cv_header_sys_time_h='yes'}
ac_cv_header_sys_times_h=${ac_cv_header_sys_times_h='yes'}
ac_cv_header_sys_wait_h=${ac_cv_header_sys_wait_h='yes'}
ac_cv_header_time=${ac_cv_header_time='yes'}
ac_cv_header_unistd_h=${ac_cv_header_unistd_h='yes'}
ac_cv_header_vfork_h=${ac_cv_header_vfork_h='no'}
ac_cv_lib_ICE_IceConnectionNumber=${ac_cv_lib_ICE_IceConnectionNumber='yes'}
ac_cv_lib_atlas_ATL_xerbla=${ac_cv_lib_atlas_ATL_xerbla='no'}
ac_cv_lib_blas_dgemm_=${ac_cv_lib_blas_dgemm_='no'}
ac_cv_lib_dir_opendir=${ac_cv_lib_dir_opendir='no'}
ac_cv_lib_dl_dlopen=${ac_cv_lib_dl_dlopen='yes'}
ac_cv_lib_dnet_dnet_ntoa=${ac_cv_lib_dnet_dnet_ntoa='no'}
ac_cv_lib_dnet_stub_dnet_ntoa=${ac_cv_lib_dnet_stub_dnet_ntoa='no'}
ac_cv_lib_dxml_dgemm_=${ac_cv_lib_dxml_dgemm_='no'}
ac_cv_lib_jpeg_jpeg_destroy_compress=${ac_cv_lib_jpeg_jpeg_destroy_compress='yes'}
ac_cv_lib_m_sin=${ac_cv_lib_m_sin='yes'}
ac_cv_lib_moto_sin=${ac_cv_lib_moto_sin='no'}
ac_cv_lib_ncurses_main=${ac_cv_lib_ncurses_main='yes'}
ac_cv_lib_png_png_create_write_struct=${ac_cv_lib_png_png_create_write_struct='yes'}
ac_cv_lib_readline_rl_callback_read_char=${ac_cv_lib_readline_rl_callback_read_char='yes'}
ac_cv_lib_tcl_Tcl_CreateInterp=${ac_cv_lib_tcl_Tcl_CreateInterp='yes'}
ac_cv_lib_tk_Tk_Init=${ac_cv_lib_tk_Tk_Init='yes'}
ac_cv_lib_z_main=${ac_cv_lib_z_main='yes'}
ac_cv_path_DVIPS=${ac_cv_path_DVIPS='/usr/bin/dvips'}
ac_cv_path_F77=${ac_cv_path_F77='/usr/local.own/bin/g77'}
ac_cv_path_LATEX=${ac_cv_path_LATEX='/usr/bin/latex'}
ac_cv_path_MAKEINDEX=${ac_cv_path_MAKEINDEX='/usr/bin/makeindex'}
ac_cv_path_MAKEINFO=${ac_cv_path_MAKEINFO='/usr/bin/makeinfo'}
ac_cv_path_PAPERCONF=${ac_cv_path_PAPERCONF='false'}
ac_cv_path_PDFLATEX=${ac_cv_path_PDFLATEX='/usr/bin/pdflatex'}
ac_cv_path_PDFTEX=${ac_cv_path_PDFTEX='/usr/bin/pdftex'}
ac_cv_path_PERL=${ac_cv_path_PERL='/usr/bin/perl'}
ac_cv_path_R_UNZIPCMD=${ac_cv_path_R_UNZIPCMD='/usr/bin/unzip'}
ac_cv_path_R_ZIPCMD=${ac_cv_path_R_ZIPCMD='/usr/bin/zip'}
ac_cv_path_TEX=${ac_cv_path_TEX='/usr/bin/tex'}
ac_cv_path_XMKMF=${ac_cv_path_XMKMF='/usr/X11R6/bin/xmkmf'}
ac_cv_path_install=${ac_cv_path_install='/usr/bin/install -c'}
ac_cv_prog_AR=${ac_cv_prog_AR='ar'}
ac_cv_prog_AWK=${ac_cv_prog_AWK='gawk'}
ac_cv_prog_CC=${ac_cv_prog_CC='gcc'}
ac_cv_prog_CPP=${ac_cv_prog_CPP='gcc -E'}
ac_cv_prog_CXX=${ac_cv_prog_CXX='c++'}
ac_cv_prog_CXXCPP=${ac_cv_prog_CXXCPP='c++ -E'}
ac_cv_prog_LN_S=${ac_cv_prog_LN_S='ln -s'}
ac_cv_prog_RANLIB=${ac_cv_prog_RANLIB='ranlib'}
ac_cv_prog_R_PRINTCMD=${ac_cv_prog_R_PRINTCMD='lpr'}
ac_cv_prog_YACC=${ac_cv_prog_YACC='bison -y'}
ac_cv_prog_cc_cross=${ac_cv_prog_cc_cross='no'}
ac_cv_prog_cc_g=${ac_cv_prog_cc_g='yes'}
ac_cv_prog_cc_works=${ac_cv_prog_cc_works='yes'}
ac_cv_prog_cxx_cross=${ac_cv_prog_cxx_cross='no'}
ac_cv_prog_cxx_g=${ac_cv_prog_cxx_g='yes'}
ac_cv_prog_cxx_works=${ac_cv_prog_cxx_works='yes'}
ac_cv_prog_f77_cross=${ac_cv_prog_f77_cross='no'}
ac_cv_prog_f77_g=${ac_cv_prog_f77_g='yes'}
ac_cv_prog_f77_works=${ac_cv_prog_f77_works='yes'}
ac_cv_prog_g77=${ac_cv_prog_g77='yes'}
ac_cv_prog_gcc=${ac_cv_prog_gcc='yes'}
ac_cv_prog_gcc_traditional=${ac_cv_prog_gcc_traditional='no'}
ac_cv_prog_gxx=${ac_cv_prog_gxx='yes'}
ac_cv_sizeof_long=${ac_cv_sizeof_long='4'}
ac_cv_type_blkcnt_t=${ac_cv_type_blkcnt_t='yes'}
ac_cv_type_pid_t=${ac_cv_type_pid_t='yes'}
ac_cv_type_signal=${ac_cv_type_signal='void'}
ac_cv_type_size_t=${ac_cv_type_size_t='yes'}
r_cv_func_calloc_broken=${r_cv_func_calloc_broken='no'}
r_cv_func_finite_broken=${r_cv_func_finite_broken='no'}
r_cv_func_log_broken=${r_cv_func_log_broken='no'}
r_cv_header_setjmp_posix=${r_cv_header_setjmp_posix='yes'}
r_cv_prog_cc_flag__mieee_fp=${r_cv_prog_cc_flag__mieee_fp='yes'}
r_cv_prog_cc_m=${r_cv_prog_cc_m='yes'}
r_cv_prog_cxx_flag__mieee_fp=${r_cv_prog_cxx_flag__mieee_fp='yes'}
r_cv_prog_f77_append_underscore=${r_cv_prog_f77_append_underscore='yes'}
r_cv_prog_f77_cc_compat=${r_cv_prog_f77_cc_compat='yes'}
r_cv_prog_makeinfo_v4=${r_cv_prog_makeinfo_v4='yes'}
r_cv_prog_perl_v5=${r_cv_prog_perl_v5='yes'}

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Jul 21 11:32:43 2000
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 21 Jul 2000 11:32:43 +0100 (BST)
Subject: [Rd] Installing R-1.1.0 (PR#612)
In-Reply-To: <14712.8366.469912.970376@bossiaea.maths.uwa.edu.au>
Message-ID: <Pine.GSO.4.05.10007211128590.19846-100000@auk.stats>

On Fri, 21 Jul 2000, Berwin Turlach wrote:

> Dear Brian,
> 
> >>>>> "BDR" == Prof Brian D Ripley <ripley@stats.ox.ac.uk> writes:
> 
>   BDR> i686-pc-linux-gnu is a widely used and tested platform for R,
>   BDR> and we know that 1.1.0 and the latest patched version both pass
>   BDR> `make check' on a Debian distribution (2.2?) and RedHat 6.0 and
>   BDR> (RedHat 6.2 with gcc-2.95.2) and various others.
> 
>   BDR> This suggests that the problem is specific to your Linux
>   BDR> installation, so can you give us more details please?
> Sure. 
> 
> At the end of ./configure in the unpacked R-1.1.0 directory I get:
> 
>     R is now configured for i686-pc-linux-gnu
>     
>       Source directory:         .
>       Installation directory:   /usr/local.own
>       C compiler:               gcc  -mieee-fp -D__NO_MATH_INLINES -g -O2
>       FORTRAN compiler:         g77  -g -O2
>       X11 support:              yes
>       Gnome support:            no
>       Tcl/Tk support:           yes
> 
> I append below the config.cache that is created.
> 
> My system is essentially a RedHat 6.0 with a 2.2.10 kernel.
> 
> I am using the Pentium GCC (http://www.goof.com/pcg/)
> 
>     bossiaea:/opt/R/R-1.1.0$ which gcc
>     /usr/local.own/bin/gcc
>     bossiaea:/opt/R/R-1.1.0$ gcc --version
>     pgcc-2.91.60

I suspect a bug in that compiler, as you had problems with NAs,
and that is the only thing that seems different from known working setups.
My suggestion would be to use gcc-2.95.2, which I compiled from
source and works well for us on RH6.0.  Or even try the compiler
that comes with RH6.0 (egcs-2.91.66, I believe).

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From keitt@nceas.ucsb.edu  Fri Jul 21 19:40:01 2000
From: keitt@nceas.ucsb.edu (Timothy H. Keitt)
Date: Fri, 21 Jul 2000 11:40:01 -0700
Subject: [Rd] save/load hooks
Message-ID: <39789901.6E8B7656@nceas.ucsb.edu>

I'd like to suggest a small feature be added to R.  It would be nice if
"load" and "save" had function hooks for object initialization and
finalization, e.g.,

	load.hook <- function(x) UseMethod("load.hook")
	save.hook <- function(x) UseMethod("save.hook")

These would then be called on each object saved or loaded.  The default
method would do nothing.   This would allow saved objects to
reinitialize their state when loaded.

Cheers,
Tim

-- 
Timothy H. Keitt
National Center for Ecological Analysis and Synthesis
735 State Street, Suite 300, Santa Barbara, CA 93101
Phone: 805-892-2519, FAX: 805-892-2510
http://www.nceas.ucsb.edu/~keitt/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Jul 21 20:07:22 2000
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 21 Jul 2000 20:07:22 +0100 (BST)
Subject: [Rd] save/load hooks
In-Reply-To: <39789901.6E8B7656@nceas.ucsb.edu>
Message-ID: <Pine.GSO.4.05.10007211958530.13766-100000@auk.stats>

On Fri, 21 Jul 2000, Timothy H. Keitt wrote:

> I'd like to suggest a small feature be added to R.  It would be nice if
> "load" and "save" had function hooks for object initialization and
> finalization, e.g.,
> 
> 	load.hook <- function(x) UseMethod("load.hook")
> 	save.hook <- function(x) UseMethod("save.hook")
> 
> These would then be called on each object saved or loaded.  The default
> method would do nothing.   This would allow saved objects to
> reinitialize their state when loaded.

R objects contain their complete state as far as R is concerned.  Could you
give us an example of why you want this?  I guess you must have some
non-standard objects in mind, in which case it seems wasteful to do this
for all R objects in a workspace.

Another potential problem on loading is ordering: how do you ensure that
what you want to do is already available?  The workspace is loaded before
any profiles, so only a minimal set of functions is available, excludng any
packages bar base.  And the error handling at that stage is I think
incomplete, given that tey() does not work in profiles.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From albrecht.gebhardt@uni-klu.ac.at  Fri Jul 21 21:08:42 2000
From: albrecht.gebhardt@uni-klu.ac.at (Albrecht Gebhardt)
Date: Fri, 21 Jul 2000 22:08:42 +0200 (MET DST)
Subject: [Rd] Installing R-1.1.0 (PR#612)
In-Reply-To: <Pine.GSO.4.05.10007211128590.19846-100000@auk.stats>
Message-ID: <Pine.OSF.4.21.0007212204490.5343-100000@zidsrv.sci.uni-klu.ac.at>

On Fri, 21 Jul 2000, Prof Brian D Ripley wrote:

> On Fri, 21 Jul 2000, Berwin Turlach wrote:
> 
> > Dear Brian,
> > 
> > >>>>> "BDR" == Prof Brian D Ripley <ripley@stats.ox.ac.uk> writes:
> > 
> >   BDR> i686-pc-linux-gnu is a widely used and tested platform for R,
> >   BDR> and we know that 1.1.0 and the latest patched version both pass
> >   BDR> `make check' on a Debian distribution (2.2?) and RedHat 6.0 and
> >   BDR> (RedHat 6.2 with gcc-2.95.2) and various others.
> > 
> >   BDR> This suggests that the problem is specific to your Linux
> >   BDR> installation, so can you give us more details please?
> > Sure. 
> > 
> > At the end of ./configure in the unpacked R-1.1.0 directory I get:
> > 
> >     R is now configured for i686-pc-linux-gnu
> >     
> >       Source directory:         .
> >       Installation directory:   /usr/local.own
> >       C compiler:               gcc  -mieee-fp -D__NO_MATH_INLINES -g -O2
> >       FORTRAN compiler:         g77  -g -O2
> >       X11 support:              yes
> >       Gnome support:            no
> >       Tcl/Tk support:           yes
> > 
> > I append below the config.cache that is created.
> > 
> > My system is essentially a RedHat 6.0 with a 2.2.10 kernel.
> > 
> > I am using the Pentium GCC (http://www.goof.com/pcg/)
> > 
> >     bossiaea:/opt/R/R-1.1.0$ which gcc
> >     /usr/local.own/bin/gcc
> >     bossiaea:/opt/R/R-1.1.0$ gcc --version
> >     pgcc-2.91.60
> 
> I suspect a bug in that compiler, as you had problems with NAs,
> and that is the only thing that seems different from known working setups.
> My suggestion would be to use gcc-2.95.2, which I compiled from
> source and works well for us on RH6.0.  Or even try the compiler
> that comes with RH6.0 (egcs-2.91.66, I believe).
> 

Choose gcc-2.95.2, egcs causes problems with loading shared objects which  
may result in crashes, at least egcs-1.1.2.

Albrecht

......................................................................
| Albrecht Gebhardt          Tel.: (++43 463) 2700/832               |
| Institut fuer Mathematik   Fax : (++43 463) 2700/834               |
| Universitaet Klagenfurt    mailto:albrecht.gebhardt@uni-klu.ac.at  |
| Villacher Str. 161         http://www-stat.uni-klu.ac.at/~agebhard |
| A-9020 Klagenfurt, Austria                                         |
`--------------------------------------------------------------------'


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sat Jul 22 06:28:16 2000
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 22 Jul 2000 06:28:16 +0100 (BST)
Subject: [Rd] Installing R-1.1.0 (PR#612)
In-Reply-To: <Pine.OSF.4.21.0007212204490.5343-100000@zidsrv.sci.uni-klu.ac.at>
Message-ID: <Pine.GSO.4.05.10007220621200.19360-100000@auk.stats>

[Taken off R-bugs]

On Fri, 21 Jul 2000, Albrecht Gebhardt wrote:

> On Fri, 21 Jul 2000, Prof Brian D Ripley wrote:

[...]

> > I suspect a bug in that compiler, as you had problems with NAs,
> > and that is the only thing that seems different from known working setups.
> > My suggestion would be to use gcc-2.95.2, which I compiled from
> > source and works well for us on RH6.0.  Or even try the compiler
> > that comes with RH6.0 (egcs-2.91.66, I believe).
> > 
> 
> Choose gcc-2.95.2, egcs causes problems with loading shared objects which  
> may result in crashes, at least egcs-1.1.2.

No problems have been found on any of our RH6.0 installations (and
egcs-1.1.2 is egcs-2.91.66 as supplied with that distribution).  That
problem is reported for RH6.>2<, but not 0.

I made the comment in the knowledge that R 1.1.0 does work on a vanilla
RH6.0 installation (with egcs-g77), as until recently that was my Linux
test platform (and I still have access to a dozen such machines).
It provides a known quantity to compare with Berwin's compiler (and
as I compiled gcc-2.95.2 from the sources it is not so precisely known
an option).

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sat Jul 22 06:39:00 2000
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 22 Jul 2000 07:39:00 +0200 (MET DST)
Subject: [Rd] maketitle garbles the title in package nnet (PR#613)
Message-ID: <200007220539.HAA24126@pubhealth.ku.dk>

The TITLE for the nnet package is garbled: it comes out as

nnet            Feed-forward neural networks and multinomial log-linear
nnet            Feed-forward neural networks and multinomial log-linear models

The problem is in maketitle:

auk% cat DESCRIPTION
Bundle: VR
Version: 6.1-9 
Date: 2000/07/11
Depends: R (>= 1.1)
Author: S original by Venables & Ripley.
  R port by Brian Ripley <ripley@stats.ox.ac.uk>, following earlier
  work by Kurt Hornik and Albrecht Gebhardt.
BundleDescription: Various functions from the libraries of Venables and
  Ripley, `Modern Applied Statistics with S-PLUS' (3rd edition).
License: GPL (version 2 or later)
URL: http://www.stats.ox.ac.uk/pub/MASS3/
Package: nnet
Description: Software for feed-forward neural networks with a single
  hidden layer, and for multinomial log-linear models.
Title: Feed-forward neural networks and multinomial log-linear models
auk% /ext/R/R-release/bin/maketitle DESCRIPTION
nnet            Feed-forward neural networks and multinomial log-linear
nnet            Feed-forward neural networks and multinomial log-linear models

which needs an AWK expert to debug.

(This is from Solaris, but it happens on RH6 Linux too.)


--please do not edit the information below--

Version:
 platform = sparc-sun-solaris2.6
 arch = sparc
 os = solaris2.6
 system = sparc, solaris2.6
 status = Patched
 major = 1
 minor = 1.0
 year = 2000
 month = July
 day = 20
 language = R

Search Path:
 .GlobalEnv, Autoloads, package:base

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sat Jul 22 14:30:23 2000
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Jul 2000 15:30:23 +0200
Subject: [Rd] maketitle garbles the title in package nnet (PR#613)
In-Reply-To: ripley@stats.ox.ac.uk's message of "Sat, 22 Jul 2000 07:39:00 +0200 (MET DST)"
References: <200007220539.HAA24126@pubhealth.ku.dk>
Message-ID: <x2em4mqols.fsf@blueberry.kubism.ku.dk>

ripley@stats.ox.ac.uk writes:

> auk% /ext/R/R-release/bin/maketitle DESCRIPTION
> nnet            Feed-forward neural networks and multinomial log-linear
> nnet            Feed-forward neural networks and multinomial log-linear models
> 
> which needs an AWK expert to debug.

Hardly...

Fixed.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Mon Jul 24 20:08:04 2000
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Mon, 24 Jul 2000 15:08:04 -0400
Subject: [Rd] RFC: System and time support functions in R
In-Reply-To: <Pine.GSO.4.05.10007200826030.9485-100000@auk.stats>
References: <Pine.GSO.4.05.10007200826030.9485-100000@auk.stats>
Message-ID: <398391ba.18510913@fisher.stats.uwo.ca>

On Thu, 20 Jul 2000 08:33:01 +0100 (BST), you wrote in message
<Pine.GSO.4.05.10007200826030.9485-100000@auk.stats>:

>I've been looking over system utility functions that we might want to
>add to R.  A few come out of specific needs, others from looking at
>other systems and what people are using system() for.  I've taken
>account of Paul Gilbert's comments posted here a while ago (and I
>think covered all except the use of mailers).
>
>We currently have
>
>date
>*.socket
>file.create
>file.exists
>file.remove
>file.append

Is there any interest in adding binary file access to the base?  I
think it would be really useful, and have put together a prototype
(still for Windows only) that's on my web site at

<http://www.stats.uwo.ca/faculty/murdoch/software/Rstreams.zip>

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kjetilh@umsanet.edu.bo  Mon Jul 24 22:51:12 2000
From: kjetilh@umsanet.edu.bo (kjetilh@umsanet.edu.bo)
Date: Mon, 24 Jul 2000 23:51:12 +0200 (MET DST)
Subject: [Rd] scoping problems (PR#614)
Message-ID: <200007242151.XAA03966@pubhealth.ku.dk>

I am resubmitting this to r-bugs, since Thomas Lumley indicates that it
might be an error:

On Wed, 5 Jul 2000, Thomas Lumley wrote:

> On Wed, 5 Jul 2000, halvorsen wrote:
>
> > Hola!
> >
> > I have the following simple function:
> >
> > > testcar
> > function(pow){
> >            ob <- glm(Pound~CG+Age+Vage,data=car,weights=No,
> >
subset=No>0,family=quasi(link=power(pow),var=mu^2))
> >
> >            deviance(ob)
> > }
> > But trying to run it gives:
> >
> > > testcar(1/2)
> > Error in power(pow) : Object "pow" not found
>
> 'pow' isn't found because quasi() is looking for it in a strange
place.
> Normally you would expect this sort of syntax to work, but the family
> functions do some tricky things to allow you to specify things with or

> without quotes and without or without parentheses.
>
> I suspect this might count as a bug.
>
> In any case, you can fix it by doing
> eval(substitute(glm(Pound~CG+Age+Vage,data=car,weights=No subset=No>0,

> family=quasi(link=power(pow),var=mu^2))))
>

As an additional note. This probably won't work if the argument to
testcar
is a variable.

A more reliable version is
 eval(substitute(glm(Pound~CG+Age+Vage,data=car,weights=No subset=No>0,
 family=quasi(link=power(pow),var=mu^2))),list(pow=pow))

( I moved the ,list argument from "substitute" to "eval" to get it
work.)

Kjetil Halvorsen




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kjetilh@umsanet.edu.bo  Mon Jul 24 23:11:57 2000
From: kjetilh@umsanet.edu.bo (kjetilh@umsanet.edu.bo)
Date: Tue, 25 Jul 2000 00:11:57 +0200 (MET DST)
Subject: [Rd] binomial() (PR#615)
Message-ID: <200007242211.AAA04063@pubhealth.ku.dk>

The binomial function contains the following code fragment (R 1.0.1):

if (any(linktemp == c("logit", "probit", "cloglog", "log")))
        stats <- make.link(linktemp)
    else stop(paste(linktemp, "link not available for binomial",
                    "family, available links are \"logit\", ",
                    "\"probit\" and \"cloglog\""))


and from this it is unclear if "log" is an available link function or
not.


Kjetil Halvorsen


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rgentlem@stat.auckland.ac.nz  Mon Jul 24 23:21:09 2000
From: rgentlem@stat.auckland.ac.nz (Robert Gentleman)
Date: Tue, 25 Jul 2000 10:21:09 +1200
Subject: [Rd] scoping problems (PR#614)
In-Reply-To: <200007242151.XAA03966@pubhealth.ku.dk>; from kjetilh@umsanet.edu.bo on Mon, Jul 24, 2000 at 11:51:12PM +0200
References: <200007242151.XAA03966@pubhealth.ku.dk>
Message-ID: <20000725102109.Z6896@stat1.stat.auckland.ac.nz>

On Mon, Jul 24, 2000 at 11:51:12PM +0200, kjetilh@umsanet.edu.bo wrote:
> I am resubmitting this to r-bugs, since Thomas Lumley indicates that it
> might be an error:
> 
> On Wed, 5 Jul 2000, Thomas Lumley wrote:
> 
> > On Wed, 5 Jul 2000, halvorsen wrote:
> >
> > > Hola!
> > >
> > > I have the following simple function:
> > >
> > > > testcar
> > > function(pow){
> > >            ob <- glm(Pound~CG+Age+Vage,data=car,weights=No,
> > >
> subset=No>0,family=quasi(link=power(pow),var=mu^2))
> > >
> > >            deviance(ob)
> > > }
> > > But trying to run it gives:
> > >
> > > > testcar(1/2)
> > > Error in power(pow) : Object "pow" not found
> >
> > 'pow' isn't found because quasi() is looking for it in a strange
> place.
> > Normally you would expect this sort of syntax to work, but the family
> > functions do some tricky things to allow you to specify things with or
> 
> > without quotes and without or without parentheses.
> >
> > I suspect this might count as a bug.
> >
> > In any case, you can fix it by doing
> > eval(substitute(glm(Pound~CG+Age+Vage,data=car,weights=No subset=No>0,
> 
> > family=quasi(link=power(pow),var=mu^2))))
> >
> 
> As an additional note. This probably won't work if the argument to
> testcar
> is a variable.
> 
> A more reliable version is
>  eval(substitute(glm(Pound~CG+Age+Vage,data=car,weights=No subset=No>0,
>  family=quasi(link=power(pow),var=mu^2))),list(pow=pow))
> 
> ( I moved the ,list argument from "substitute" to "eval" to get it
> work.)
> 
> Kjetil Halvorsen
> 
> 
  The problem is with quasi:
> quasi
function (link = "identity", variance = "constant") 
{
    linktemp <- substitute(link)
    if (is.expression(linktemp)) 
        linktemp <- eval(linktemp)
    if (!is.character(linktemp)) {
        linktemp <- deparse(linktemp)
        if (linktemp == "link") 
            linktemp <- eval(link)
    }
   ...

  Note that neither of the eval's is what is wanted. At this point
  you just want to force the promise, ie evaluate the argument in
  the calling environment.
  The following piece of code seems to do that:

 > quasi
function (link = "identity", variance = "constant") 
{
    linktemp <- substitute(link)
    if ( is.expression(linktemp) || is.call(linktemp) ) 
        linktemp <- link
    else if (!is.character(linktemp)) 
        linktemp <- deparse(linktemp)
    if( is.character(linktemp) )
        stats <- make.link(linktemp)
    else
        stats <- linktemp
...
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
+-------------------------------------------------------------------------+
| Robert Gentleman              phone : (64-9) 3737-599 ext 3946          | 
| Senior Lecturer               fax :   (64-9) 3737-018                   |
| Department of Statistics      office : Room 206 Maths/Physics           |
| University of Auckland	email : rgentlem@stat.auckland.ac.nz      |
+-------------------------------------------------------------------------+
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Tue Jul 25 08:47:55 2000
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Tue, 25 Jul 2000 09:47:55 +0200 (CEST)
Subject: [Rd] binary file access [was "RFC: System and time support"...]
In-Reply-To: <398391ba.18510913@fisher.stats.uwo.ca>
References: <Pine.GSO.4.05.10007200826030.9485-100000@auk.stats>
 <398391ba.18510913@fisher.stats.uwo.ca>
Message-ID: <14717.17963.58164.490019@gargle.gargle.HOWL>

>>>>> "Duncan" == Duncan Murdoch <murdoch@stats.uwo.ca> writes:

    Duncan> On Thu, 20 Jul 2000 08:33:01 +0100 (BST), you wrote in message
    Duncan> <Pine.GSO.4.05.10007200826030.9485-100000@auk.stats>:

    >> I've been looking over system utility functions that we might want
    >> to add to R.  A few come out of specific needs, others from looking
    >> at other systems and what people are using system() for.  I've taken
    >> account of Paul Gilbert's comments posted here a while ago (and I
    >> think covered all except the use of mailers).

    >> We currently have
    >> 
    >> date *.socket file.create file.exists file.remove file.append

    Duncan> Is there any interest in adding binary file access to the base?

yes, quite a bit !  (e.g., someone here doing image analysis, would have
liked to be able to do  this)

    Duncan> I think it would be really useful, and have put together a
    Duncan> prototype (still for Windows only) that's on my web site at
	                        ==============
    Duncan> <http://www.stats.uwo.ca/faculty/murdoch/software/Rstreams.zip>

I first thought "great! .." when you announced this a while ago, but
"Windows only" & relying on Delphi, i.e. proprietary software,
stopped me to even have a look, sorry.
We are committed primarily to the POSIX "clarification" of ANSI C and freely
available tools.

An aside :

  Your binary files are read into/from "character", right?

  I think (and others have talked similarly, here) that byte wise
  reading and writing of files should go together with a "raw" atomic data
  type in R -- and then we probably would want to do it "S version 4" (Sv4)
  compatibly (not that I have looked what this would mean exactly).
  which needs even a bit more extensions in "base R" than we have now.


Coming back to your package:
Is it worth/fast enough to port this to POSIX C?
Have you ever compared it to the (very general) approach taken by Sv4 ?
That would be something worth following at least in parts, I think.

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jens.oehlschlaegel@bbdo-interone.de  Tue Jul 25 10:16:15 2000
From: jens.oehlschlaegel@bbdo-interone.de (=?iso-8859-1?Q?Jens_Oehlschl=E4gel?=)
Date: Tue, 25 Jul 2000 11:16:15 +0200
Subject: [Rd] RFC: System and time support functions in R
In-Reply-To: <398391ba.18510913@fisher.stats.uwo.ca>
Message-ID: <000601bff618$fcba9ec0$c10616ac@oehl.bbdo.de>



I agree it would be useful. Additionally I would vote for
disentangling/extending some functionality in R.

e.g. save() does not only creates an external representation, it also writes
it to a file. So we cannot send the representation to a socket or just to a
character variable. Same with load().

e.g. scan() does combined physical read and parsing, i.e. it reads from file
and keyboard, but not from a socket or character variable. Similarly write()
and read.table(). The logic of how to convert character data too a dataframe
should not be bound to file read.

>From my point of view, a minimum solution would be generally allowing
reading/writing from/to a character variable instead of file access. This
would also allow filtering the data e.g. through a compression algorithm.

Regards


NEW EMAIL
jens.oehlschlaegel@bbdo-interone.de

--
Dr. Jens Oehlschl弄el
Analyse
BBDO InterOne
Grnstr. 15
40212 Dsseldorf

Tel.: +49 (0)211 1379-187
Fax.: +49 (0)211 1379-461
http://www.bbdo-interone.de






> -----Original Message-----
> From: owner-r-devel@stat.math.ethz.ch
> [mailto:owner-r-devel@stat.math.ethz.ch]On Behalf Of Duncan Murdoch
> Sent: Monday, July 24, 2000 9:08 PM
> To: R-devel@r-project.org
> Subject: Re: [Rd] RFC: System and time support functions in R
>
>
> On Thu, 20 Jul 2000 08:33:01 +0100 (BST), you wrote in message
> <Pine.GSO.4.05.10007200826030.9485-100000@auk.stats>:
>
> >I've been looking over system utility functions that we might want to
> >add to R.  A few come out of specific needs, others from looking at
> >other systems and what people are using system() for.  I've taken
> >account of Paul Gilbert's comments posted here a while ago (and I
> >think covered all except the use of mailers).
> >
> >We currently have
> >
> >date
> >*.socket
> >file.create
> >file.exists
> >file.remove
> >file.append
>
> Is there any interest in adding binary file access to the base?  I
> think it would be really useful, and have put together a prototype
> (still for Windows only) that's on my web site at
>
> <http://www.stats.uwo.ca/faculty/murdoch/software/Rstreams.zip>
>
> Duncan Murdoch
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Jul 25 10:33:17 2000
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 25 Jul 2000 10:33:17 +0100 (BST)
Subject: [Rd] binary file access [was "RFC: System and time support"...]
In-Reply-To: <14717.17963.58164.490019@gargle.gargle.HOWL>
Message-ID: <Pine.GSO.4.05.10007251004270.1462-100000@auk.stats>

On Tue, 25 Jul 2000, Martin Maechler wrote:

> >>>>> "Duncan" == Duncan Murdoch <murdoch@stats.uwo.ca> writes:
> 
>     Duncan> Is there any interest in adding binary file access to the base?
> 
> yes, quite a bit !  (e.g., someone here doing image analysis, would have
> liked to be able to do  this)
> 
>     Duncan> I think it would be really useful, and have put together a
>     Duncan> prototype (still for Windows only) that's on my web site at
> 	                        ==============
>     Duncan> <http://www.stats.uwo.ca/faculty/murdoch/software/Rstreams.zip>
> 
> I first thought "great! .." when you announced this a while ago, but
> "Windows only" & relying on Delphi, i.e. proprietary software,
> stopped me to even have a look, sorry.
> We are committed primarily to the POSIX "clarification" of ANSI C and freely
> available tools.

I don't think that translating/re-writing it is a problem, but I thought
Duncan was planning to do this.  If not I will have a go.

> An aside :
> 
>   Your binary files are read into/from "character", right?

[Doesn't look like it to me!]

>   I think (and others have talked similarly, here) that byte wise
>   reading and writing of files should go together with a "raw" atomic data
>   type in R -- and then we probably would want to do it "S version 4" (Sv4)
>   compatibly (not that I have looked what this would mean exactly).
>   which needs even a bit more extensions in "base R" than we have now.

Probably, but I find byte-wise reading not at all useful (and none of
our image-analysis files are that shallow).

> Coming back to your package:
> Is it worth/fast enough to port this to POSIX C?
> Have you ever compared it to the (very general) approach taken by Sv4 ?
> That would be something worth following at least in parts, I think.

Introducing a new type in R looks to me like a fairly major undertaking.
Duncan's package does a different task at a higher level than `raw' (which
is just an unstructured stream of bytes). As ?readint says

  Signed integers of sizes 1, 2, 4, and 8 bytes can be read.  Unsigned
  integers of any size up to 8 bytes can be read. (Integers larger than are
  supported in R will be returned in a vector of doubles.)  Floats of sizes
  4, 8, and 10 bytes can be read.  Complex values using any of the float
  sizes for the real and complex parts can be read.  Any size of character
  string that you can create can be read.

although some of that is Windows-specific (10 bytes = 80 bits = extended
format, I presume).

I suspect the best way forward is a get a general (non-Delphi, both Unix
and Windows) contributed package working and on CRAN, and then think about
merging it into base if it looks worthwhile.  (There is a lot of very
useful stuff not in base, and the point of my original posting was that
those are things which need to be internal and OS-specific.)

BTW, I think something like inttostr (but not that name) and its converse
would be useful in base.  
\description{
  Converts an integer to a string representation in base 2 to 36.
}
My memory says S had a function called something like oddometer, but
I can't find it.

Another comment: The R code uses _, F and T and is seriously lacking in
spaces. One way to get standard formating is to set
options(keep.source=FALSE) and then read in and dump the code.


How much support is there for adding a `raw' (byte-stream) type?

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Jul 25 10:36:18 2000
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 25 Jul 2000 10:36:18 +0100 (BST)
Subject: connections (was [Rd] RFC: System and time support functions in
 R)
In-Reply-To: <000601bff618$fcba9ec0$c10616ac@oehl.bbdo.de>
Message-ID: <Pine.GSO.4.05.10007251033560.1462-100000@auk.stats>

On Tue, 25 Jul 2000, [iso-8859-1] Jens Oehlschl弄el wrote:

> 
> 
> I agree it would be useful. Additionally I would vote for
> disentangling/extending some functionality in R.
> 
> e.g. save() does not only creates an external representation, it also writes
> it to a file. So we cannot send the representation to a socket or just to a
> character variable. Same with load().
> 
> e.g. scan() does combined physical read and parsing, i.e. it reads from file
> and keyboard, but not from a socket or character variable. Similarly write()
> and read.table(). The logic of how to convert character data too a dataframe
> should not be bound to file read.
> 
> >From my point of view, a minimum solution would be generally allowing
> reading/writing from/to a character variable instead of file access. This
> would also allow filtering the data e.g. through a compression algorithm.

That's a different topic (from Duncan's and from my subject line).
The plan is to use the Svr4 idea of `connections' to replace files (and
scan does only read from files: stdin is a file to C).


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Jul 25 11:22:29 2000
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 Jul 2000 12:22:29 +0200
Subject: [Rd] binary file access [was "RFC: System and time support"...]
In-Reply-To: Prof Brian D Ripley's message of "Tue, 25 Jul 2000 10:33:17 +0100 (BST)"
References: <Pine.GSO.4.05.10007251004270.1462-100000@auk.stats>
Message-ID: <x2aef6mrve.fsf@blueberry.kubism.ku.dk>

Prof Brian D Ripley <ripley@stats.ox.ac.uk> writes:

> My memory says S had a function called something like oddometer, but
> I can't find it.

It has only one 'd'...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From duncan@research.bell-labs.com  Tue Jul 25 12:12:09 2000
From: duncan@research.bell-labs.com (Duncan Temple Lang)
Date: Tue, 25 Jul 2000 07:12:09 -0400 (EDT)
Subject: [Rd] number of parameters of a function.
Message-ID: <200007251112.HAA06228@jessie.research.bell-labs.com>


 Is there a way to programmatically determine how many arguments a function
accepts? In S, one can compute this as 
          length(theFunction) - 1
and determine the parameter names  as
          names(theFunction)
due to the representation of functions.

(Just in case anyone is thinking of nargs(),  that is just for
particular calls and does not concern itself with the function
definition.)

Thanks,
  Duncan


-- 
_______________________________________________________________

Duncan Temple Lang                duncan@research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan

      "Languages shape the way we think, and determine what 
       we can think about."        
                                      Benjamin Whorf
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Jul 25 12:25:57 2000
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 Jul 2000 13:25:57 +0200
Subject: [Rd] number of parameters of a function.
In-Reply-To: Duncan Temple Lang's message of "Tue, 25 Jul 2000 07:12:09 -0400 (EDT)"
References: <200007251112.HAA06228@jessie.research.bell-labs.com>
Message-ID: <x24s5emoxm.fsf@blueberry.kubism.ku.dk>

Duncan Temple Lang <duncan@research.bell-labs.com> writes:

>  Is there a way to programmatically determine how many arguments a function
> accepts? In S, one can compute this as 
>           length(theFunction) - 1
> and determine the parameter names  as
>           names(theFunction)
> due to the representation of functions.
> 
> (Just in case anyone is thinking of nargs(),  that is just for
> particular calls and does not concern itself with the function
> definition.)

Like this:

> length(formals(scan))
[1] 13
> names(formals(scan))
 [1] "file"        "what"        "nmax"        "n"           "sep"        
 [6] "quote"       "dec"         "skip"        "nlines"      "na.strings" 
[11] "flush"       "strip.white" "quiet"      


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Jul 25 12:22:48 2000
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 25 Jul 2000 12:22:48 +0100 (BST)
Subject: [Rd] number of parameters of a function.
In-Reply-To: <200007251112.HAA06228@jessie.research.bell-labs.com>
Message-ID: <Pine.GSO.4.05.10007251220330.7029-100000@auk.stats>

On Tue, 25 Jul 2000, Duncan Temple Lang wrote:

> 
>  Is there a way to programmatically determine how many arguments a function
> accepts? In S, one can compute this as 
>           length(theFunction) - 1
> and determine the parameter names  as
>           names(theFunction)
> due to the representation of functions.

length(formals(theFunction))

Something similar works in S-PLUS 5.x:

length(functionArgs(theFunction))

as I guess Duncan knows.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Tue Jul 25 13:06:58 2000
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Tue, 25 Jul 2000 12:06:58 GMT
Subject: [Rd] binary file access [was "RFC: System and time support"...]
In-Reply-To: <Pine.GSO.4.05.10007251004270.1462-100000@auk.stats>
References: <Pine.GSO.4.05.10007251004270.1462-100000@auk.stats>
Message-ID: <397d7afa.1319880@julian.uwo.ca>

On Tue, 25 Jul 2000 10:33:17 +0100 (BST), you wrote:


>>     Duncan> I think it would be really useful, and have put together a
>>     Duncan> prototype (still for Windows only) that's on my web site at
>> 	                        ==============
>>     Duncan> <http://www.stats.uwo.ca/faculty/murdoch/software/Rstreams.zip>
>> 
>> I first thought "great! .." when you announced this a while ago, but
>> "Windows only" & relying on Delphi, i.e. proprietary software,
>> stopped me to even have a look, sorry.
>> We are committed primarily to the POSIX "clarification" of ANSI C and freely
>> available tools.
>
>I don't think that translating/re-writing it is a problem, but I thought
>Duncan was planning to do this.  If not I will have a go.

I am, but it won't be quick.  I now have a C compiler installed, but I
have very little experience writing in C.  I'll probably ask for help
later in cleaning up whatever I write.  

>> An aside :
>> 
>>   Your binary files are read into/from "character", right?
>
>[Doesn't look like it to me!]

Right, as you quoted I try to read and write the native R types.  It
seemed to me that doing type conversions was a lot easier externally
than it would be internally.

>> Coming back to your package:
>> Is it worth/fast enough to port this to POSIX C?

I imagine it would be really easy for someone fluent in both Delphi &
C to port it.  I'm fluent in Delphi but not C (which is why I wrote it
in Delphi in the first place), so it'll take a while longer for me.

>> Have you ever compared it to the (very general) approach taken by Sv4 ?
>> That would be something worth following at least in parts, I think.

No, I'm not familiar with that.

>although some of that is Windows-specific (10 bytes = 80 bits = extended
>format, I presume).

Yes, but that's Intel-specific, not Windows-specific.  I think it
would be useful to have on any platform: the idea is that this code
will allow you to read binary files produced by someone else. For
example, I do include code to handle byte-order switching, and use it
in the demo routine (readsfile) to be able to read binary S objects,
whether produced on big or little endian machines.

If the data you're reading were produced on an Intel platform, they
might include the extended types. Are there conversion routines
available in the libraries that R already uses for machines that don't
support extended as a native type?

>I suspect the best way forward is a get a general (non-Delphi, both Unix
>and Windows) contributed package working and on CRAN, and then think about
>merging it into base if it looks worthwhile.  (There is a lot of very
>useful stuff not in base, and the point of my original posting was that
>those are things which need to be internal and OS-specific.)

Sounds good to me.
>
>BTW, I think something like inttostr (but not that name) and its converse
>would be useful in base.  
>\description{
>  Converts an integer to a string representation in base 2 to 36.
>}
>My memory says S had a function called something like oddometer, but
>I can't find it.

I don't object to a name change, but I think "odometer" is a pretty
bad choice.

>Another comment: The R code uses _, F and T and is seriously lacking in
>spaces. One way to get standard formating is to set
>options(keep.source=FALSE) and then read in and dump the code.

Thanks, I'll do that.

>How much support is there for adding a `raw' (byte-stream) type?

I haven't had any need for such a thing, but the streams code was
written with the intention that it could be extended to handle streams
of bytes from other sources than just files.  I think that will likely
be hidden when I translate to C:  not being an OO language, it doesn't
really support the concept of an abstract stream, as far as I know.

Duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Jul 25 13:48:15 2000
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 25 Jul 2000 13:48:15 +0100 (BST)
Subject: [Rd] binary file access [was "RFC: System and time support"...]
In-Reply-To: <397d7afa.1319880@julian.uwo.ca>
Message-ID: <Pine.GSO.4.05.10007251341370.7201-100000@auk.stats>

On Tue, 25 Jul 2000, Duncan Murdoch wrote:

> On Tue, 25 Jul 2000 10:33:17 +0100 (BST), you wrote:
> 
> 
> >>     Duncan> I think it would be really useful, and have put together a
> >>     Duncan> prototype (still for Windows only) that's on my web site at
> >> 	                        ==============
> >>     Duncan> <http://www.stats.uwo.ca/faculty/murdoch/software/Rstreams.zip>
> >> 
> >> I first thought "great! .." when you announced this a while ago, but
> >> "Windows only" & relying on Delphi, i.e. proprietary software,
> >> stopped me to even have a look, sorry.
> >> We are committed primarily to the POSIX "clarification" of ANSI C and freely
> >> available tools.
> >
> >I don't think that translating/re-writing it is a problem, but I thought
> >Duncan was planning to do this.  If not I will have a go.
> 
> I am, but it won't be quick.  I now have a C compiler installed, but I
> have very little experience writing in C.  I'll probably ask for help
> later in cleaning up whatever I write.  

I will take a quick look. It might be faster to do it that try to help you.
Delphi is an extended Pascal, and I used to be fluent in Pascal.

> >although some of that is Windows-specific (10 bytes = 80 bits = extended
> >format, I presume).
> 
> Yes, but that's Intel-specific, not Windows-specific.  I think it
> would be useful to have on any platform: the idea is that this code
> will allow you to read binary files produced by someone else. For
> example, I do include code to handle byte-order switching, and use it
> in the demo routine (readsfile) to be able to read binary S objects,
> whether produced on big or little endian machines.

Correctt: I just don't know how to get them in a binary file on
any other Intel-based OS (which may be my ignorance).

> If the data you're reading were produced on an Intel platform, they
> might include the extended types. Are there conversion routines
> available in the libraries that R already uses for machines that don't
> support extended as a native type?

Yes, there are. Both in src/main/arithmetic.c and I think in packages 
stataread and foreign.

> >I suspect the best way forward is a get a general (non-Delphi, both Unix
> >and Windows) contributed package working and on CRAN, and then think about
> >merging it into base if it looks worthwhile.  (There is a lot of very
> >useful stuff not in base, and the point of my original posting was that
> >those are things which need to be internal and OS-specific.)
> 
> Sounds good to me.
> >
> >BTW, I think something like inttostr (but not that name) and its converse
> >would be useful in base.  
> >\description{
> >  Converts an integer to a string representation in base 2 to 36.
> >}
> >My memory says S had a function called something like oddometer, but
> >I can't find it.
> 
> I don't object to a name change, but I think "odometer" is a pretty
> bad choice.

It's not the function I wanted, anyway, and not being a word in UK usage I
was unfamiliar with its meaning.  (The UK says `trip counter'.)  What we
really want is a radix argument to as.character applied to integers, I
think.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kjetilh@umsanet.edu.bo  Tue Jul 25 22:46:08 2000
From: kjetilh@umsanet.edu.bo (halvorsen)
Date: Tue, 25 Jul 2000 17:46:08 -0400
Subject: [Rd] scoping problems (PR#614)
References: <200007242151.XAA03966@pubhealth.ku.dk> <20000725102109.Z6896@stat1.stat.auckland.ac.nz>
Message-ID: <397E0AA0.BF1E20D@umsanet.edu.bo>



Robert Gentleman wrote:

>

I tested the proposed change with thre original problem, and now it works fine.
Kjetil Halvorsen

>
>   The problem is with quasi:
> > quasi
> function (link = "identity", variance = "constant")
> {
>     linktemp <- substitute(link)
>     if (is.expression(linktemp))
>         linktemp <- eval(linktemp)
>     if (!is.character(linktemp)) {
>         linktemp <- deparse(linktemp)
>         if (linktemp == "link")
>             linktemp <- eval(link)
>     }
>    ...
>
>   Note that neither of the eval's is what is wanted. At this point
>   you just want to force the promise, ie evaluate the argument in
>   the calling environment.
>   The following piece of code seems to do that:
>
>  > quasi
> function (link = "identity", variance = "constant")
> {
>     linktemp <- substitute(link)
>     if ( is.expression(linktemp) || is.call(linktemp) )
>         linktemp <- link
>     else if (!is.character(linktemp))
>         linktemp <- deparse(linktemp)
>     if( is.character(linktemp) )
>         stats <- make.link(linktemp)
>     else
>         stats <- linktemp
> ...
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>
> --
> +-------------------------------------------------------------------------+
> | Robert Gentleman              phone : (64-9) 3737-599 ext 3946          |
> | Senior Lecturer               fax :   (64-9) 3737-018                   |
> | Department of Statistics      office : Room 206 Maths/Physics           |
> | University of Auckland        email : rgentlem@stat.auckland.ac.nz      |
> +-------------------------------------------------------------------------+
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kjetilh@umsanet.edu.bo  Tue Jul 25 22:52:37 2000
From: kjetilh@umsanet.edu.bo (kjetilh@umsanet.edu.bo)
Date: Tue, 25 Jul 2000 23:52:37 +0200 (MET DST)
Subject: [Rd] wishlist (PR#616)
Message-ID: <200007252152.XAA13316@pubhealth.ku.dk>

I want to put on the wishlist gamma and lgamma functions for complex
arguments.

Kjetil Halvorsen


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dtrenkler@nts6.oec.uni-osnabrueck.de  Wed Jul 26 10:19:38 2000
From: dtrenkler@nts6.oec.uni-osnabrueck.de (dtrenkler@nts6.oec.uni-osnabrueck.de)
Date: Wed, 26 Jul 2000 11:19:38 +0200 (MET DST)
Subject: [Rd] Bug in stem? (PR#617)
Message-ID: <200007260919.LAA15973@pubhealth.ku.dk>

# Your mailer is set to "none" (default on Windows),
# hence we cannot send the bug report directly from R.
# Please copy the bug report (after finishing it) to
# your favorite email program and send it to
#
#       r-bugs@biostat.ku.dk
#
######################################################

"b" <- c(-5.5, -4, -2.3, -1.5, -1, -0.5, -0.41, -0.33, -0.29, 
    -0.26, -0.2, -0.2, -0.2, -0.2, -0.11, -0.091, -0.059, 0.067, 
    0.13, 0.15, 0.19, 0.22, 0.25, 0.26, 0.27, 0.27, 0.32, 0.38, 
    0.43, 0.48, 0.67, 1, 1.2, 5, 8)

stem(b)

  -4 | 50
  -2 | 3
  -0 | 50543332222111
   0 | 1112233333445702
   2 | 
   4 | 0
   6 | 
   8 | 0

Note that -5.5 isn't correctly positioned. 

--please do not edit the information below--

Version:
 platform = Windows
 arch = x86
 os = Win32
 system = x86, Win32
 status = 
 major = 1
 minor = 1.0
 year = 2000
 month = June
 day = 15
 language = R

Windows NT 4.0 (build 1381) Service Pack 6

Search Path:
 .GlobalEnv, Autoloads, package:base

   --- D.Trenkler ---

************************************************************************
*********
   Dr. Dietrich Trenkler
(dtrenkler@oec.uni-osnabrueck.de)      
   Statistik / Empirische Wirtschaftsforschung
   Universitaet Osnabrueck
   Rolandstrasse 8                             Phone: +49(0)
541-969-2753
   D-49069 Osnabrueck                        Fax  : +49(0) 541-969-2744
   GERMANY
************************************************************************
*********




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Jul 26 11:45:28 2000
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Jul 2000 12:45:28 +0200
Subject: [Rd] Bug in stem? (PR#617)
In-Reply-To: dtrenkler@nts6.oec.uni-osnabrueck.de's message of "Wed, 26 Jul 2000 11:19:38 +0200 (MET DST)"
References: <200007260919.LAA15973@pubhealth.ku.dk>
Message-ID: <x2aef5mapj.fsf@blueberry.kubism.ku.dk>

dtrenkler@nts6.oec.uni-osnabrueck.de writes:

> "b" <- c(-5.5, -4, -2.3, -1.5, -1, -0.5, -0.41, -0.33, -0.29, 
>     -0.26, -0.2, -0.2, -0.2, -0.2, -0.11, -0.091, -0.059, 0.067, 
>     0.13, 0.15, 0.19, 0.22, 0.25, 0.26, 0.27, 0.27, 0.32, 0.38, 
>     0.43, 0.48, 0.67, 1, 1.2, 5, 8)
> 
> stem(b)
> 
>   -4 | 50
>   -2 | 3
>   -0 | 50543332222111
>    0 | 1112233333445702
>    2 | 
>    4 | 0
>    6 | 
>    8 | 0
> 
> Note that -5.5 isn't correctly positioned. 

I don't see the problem: the -4 row represents -4.x and -5.x, the
latter first since they are smaller. The display is generally
ambiguous since you get exactly the same value if you replace b[2]
with -5, but that seems to be a generic problem, just like the fact
that you cannot see whether the lone zeroes represent 4 and 7 or 5 and
8.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From y0004379@tu-bs.de  Wed Jul 26 12:57:21 2000
From: y0004379@tu-bs.de (y0004379@tu-bs.de)
Date: Wed, 26 Jul 2000 13:57:21 +0200 (MET DST)
Subject: [Rd] min(c()) = inf ??? (PR#618)
Message-ID: <200007261157.NAA17436@pubhealth.ku.dk>

min of an empty vector gives inf, should be NA / NULL ???

> min(c())
[1] 2147483647
Warning message: 
no finite arguments to min/max; returning extreme. in: min(..., na.rm =
na.rm) 
> min(c(NA,NA),na.rm=T)
[1] 2147483647
Warning message: 
no finite arguments to min/max; returning extreme. in: min(..., na.rm =
na.rm) 

(the same for max)

--please do not edit the information below--

Version:
 platform = Windows
 arch = x86
 os = Win32
 system = x86, Win32
 status = 
 major = 1
 minor = 1.0
 year = 2000
 month = June
 day = 15
 language = R

Windows 9x 4.0 (build 1111)  

Search Path:
 .GlobalEnv, Autoloads, package:base




** To YOU I'm an atheist; to God, I'm the Loyal Opposition. Woody Allen **
P.Malewski					Tel.: 0531 500965
Maschplatz 8					Email: P.Malewski@tu-bs.de
************************38114 Braunschweig********************************




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Jul 26 13:58:45 2000
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Jul 2000 14:58:45 +0200
Subject: [Rd] min(c()) = inf ??? (PR#618)
In-Reply-To: y0004379@tu-bs.de's message of "Wed, 26 Jul 2000 13:57:21 +0200 (MET DST)"
References: <200007261157.NAA17436@pubhealth.ku.dk>
Message-ID: <x266ptm4je.fsf@blueberry.kubism.ku.dk>

y0004379@tu-bs.de writes:

> min of an empty vector gives inf, should be NA / NULL ???

This is a feature, ensuring consistency: 

min(x,y) == min(min(x),min(y)) even when x or y is empty.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From y0004379@tu-bs.de  Wed Jul 26 14:30:30 2000
From: y0004379@tu-bs.de (Peter Malewski)
Date: Wed, 26 Jul 2000 15:30:30 +0200 (METDST)
Subject: [Rd] min(c()) = inf ??? (PR#618)
In-Reply-To: <x266ptm4je.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.HPX.4.21.0007261526170.14591-100000@rzbcosv1.rz.tu-bs.de>

On 26 Jul 2000, Peter Dalgaard BSA wrote:

> This is a feature, ensuring consistency: 
> 
> min(x,y) == min(min(x),min(y)) even when x or y is empty.

Thanks for your reply. This logic is reasoneable. I just wondered about
the "inf" I got + the different results in s+ 3.3.

Thanks
Peter Malewski



** To YOU I'm an atheist; to God, I'm the Loyal Opposition. Woody Allen **
P.Malewski					Tel.: 0531 500965
Maschplatz 8					Email: P.Malewski@tu-bs.de
************************38114 Braunschweig********************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From duncan@research.bell-labs.com  Thu Jul 27 12:55:48 2000
From: duncan@research.bell-labs.com (Duncan Temple Lang)
Date: Thu, 27 Jul 2000 07:55:48 -0400 (EDT)
Subject: [Rd] The R-Java inteface from Omegahat
Message-ID: <200007271155.HAA04412@jessie.research.bell-labs.com>


 We have finally configured the R-Java interface as a `regular' R
package. This allows R users to create arbitrary Java objects and call
any accessible method. It has a reasonably sophisticated mechanism for
handling transferring of arguments from R to Java and vice-versa, and
allows Java classes to be implemented via R functions.

The package and all the documentation is available from
      http://www.omegahat.org/RSJava
or the contrib/Devel sections of CRAN and its mirrors.
It runs on Unix machines. (When we know there are no
major problems on these systems, we will work on the
Windows port. So any feedback is very much appreciated.)

 Thanks for your time.
    Duncan

-- 
_______________________________________________________________

Duncan Temple Lang                duncan@research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan

      "Languages shape the way we think, and determine what 
       we can think about."        
                                      Benjamin Whorf
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossini@blindglobe.net  Fri Jul 28 01:11:14 2000
From: rossini@blindglobe.net (A.J. Rossini)
Date: 27 Jul 2000 17:11:14 -0700
Subject: [Rd] RJava and Orca...
Message-ID: <87ya2ndsgt.fsf@jeeves.blindglobe.net>


It's cool, it's exciting, and much thanks to Duncan.  He announced
RJava yesterday (or this morning?) on the R-devel list, and it's
really worth it.

        http://www.omegahat.org/RSJava

for more details.

But it does mean that we can run Orca code directly within R, (without
Thomas' socket connections) (and also means that we really need a
"stop" button, since killing the visualizations kills the R process in
an ugly fashion).

To do:
1. write up a converter for feeding R DataFrames right into Orca
2. add the "stop" or "destroy" button described above.
3. do the "right thing" for brushing.

All you need to do from the following scripts is to install Java for
R, redefine where "orcaHomeDir" is, and run it...

I'll be checking these into the Orca directory structure soon!

Since I'm cc'ing r-devel, I might as well point to Orca:

        http://pyrite.cfas.washington.edu/orca

best,
-tony


Examples:
-------------- Initialization.R --------------
library(Java)

## Initialize Environment
orcaHomeDir <- "/biostat/faculty0/rossini/sandbox/Src/Java/Orca/orca/"
orcaHomeOrcaJar <- paste(orcaHomeDir,"classes/orca.jar",sep="")
orcaHomeVisADJar <- paste(orcaHomeDir,"jars/visad.jar",sep="")
orcaClasses <- c(orcaHomeOrcaJar,orcaHomeVisADJar)

## Initialize JVM
.JavaInit(list(classPath=orcaClasses))

## Verify JVM has Orca in its path
.Java("System", "getProperty", "java.class.path")

-------------- VarSelExample.R ---------------

## The .name="blah" part turns out to be essential...
od.1  <- .Java("org.orca.data.parsers.OrcaDataSource",
               "openFileData","data/normclust.dat",.name="od")
dsp.1 <- .JavaConstructor("DataSourcePipe",od.1,.name="dsp")
sdp.1 <- .JavaConstructor("StdDataPipe",dsp.1,.name="sdp")
vsp.1 <- .JavaConstructor("VarSelPipe",sdp.1,.name="vsp")
rp.1 <- .JavaConstructor("Render2DPipe",vsp.1,.name="rp")
wp.1 <- .JavaConstructor("WindowPipe",rp.1,.name="wp")
.Java(wp.1,"reloadView")

-------------- TaoExample.R ------------------

## You need to be "initialized" for this... (see Initialize.R above) 

OrcaDataFile     <- "data/orca.tao.time"
OrcaDataTimeVar  <- "Group"
OrcaDataGroupVar <- "Time"

## Get the data
od.1 <- .Java("org.orca.data.parsers.OrcaDataSource",
              "openFileData",
              OrcaDataFile,
              .name="od");

## Acknowledge special covariates
od.1 <- .JavaConstructor("MarkTimeSeriesData",
                         od.1,
                         OrcaDataTimeVar,
                         .name="od2");
od.1 <- .JavaConstructor("MarkGroupData",
                         od.1,
                         OrcaDataGroupVar,
                         .name="od3");

## Run it through the standardization and brushing stuff.
dsp.1 <- .JavaConstructor("DataSourcePipe",
                          od.1,
                          .name="dsp")
stdd1.1 <- .JavaConstructor("StdDataPipe",
                            dsp.1,
                            .name="stdd1")

stdd.1 <- .JavaConstructor("ReorderPipe",
                           stdd1.1,
                           .name="stdd")

## Set up the pairs plot
mlp.1 <- .JavaConstructor("MultiLayoutPipe",
                          stdd.1,
                          .name="mlp")
obw.1 <- .JavaConstructor("WindowPipe",
                          mlp.1,
                          .name="obw")

## Set up the grand tour
ortp1.1 <- .JavaConstructor("TourPipe",
                            stdd.1,
                            .name="ortp1")
t2p2.1 <- .JavaConstructor("Render2DPipe",ortp1.1,
                           .name="t2p2")
obw4.1 <- .JavaConstructor("WindowPipe",t2p2.1,.name="obw4")

## Set up the TimeSeries 
ortp2.1 <- .JavaConstructor("TourPipe",stdd.1,.name="ortp2")
t2p.1 <- .JavaConstructor("TimeSeriesPipe",ortp2.1,.name="t2p")
obw3.1 <- .JavaConstructor("WindowPipe",t2p.1,.name="obw3")

## It can be better to pause these -- don't start them immediately
## after each other!
.Java(obw.1 , "reloadView")
.Java(obw4.1, "reloadView")
## The following doesn't work yet (array out of bounds bug)
.Java(obw3.1, "reloadView")

----------------------------------------------------------

best,
-tony


-- 
A.J. Rossini
rossini@blindglobe.net				BlindGlobe Networks
rossini@biostat.washington.edu			U Washington (from home)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From telford@progsoc.uts.edu.au  Fri Jul 28 10:51:51 2000
From: telford@progsoc.uts.edu.au (Telford Tendys)
Date: Fri, 28 Jul 2000 19:51:51 +1000
Subject: [Rd] Using the nls package
Message-ID: <20000728195151.A18822@ftoomsh.progsoc.uts.edu.au>

I'm a bit confused about the nls package, I'm trying to use it for curve fitting.

First off, the documentation for nls says ``see `nlsControl' for the
names of the settable control values'' -- this is wrong, it should be
nls.control (minor point but had me confused for a moment).

Now I'll try something very simple (maybe too simple):
----------------------------------------------------------------------
> q <- data.frame( x=1:10 )
> q$y <- eval( expression( 4 + 5 * x ), q )
> library( nls )
> w <- nls( y ~ P1 + P2 * x, q, start=list( P1=1, P2=1 )) 
Error in nls(y ~ P1 + P2 * x, q, start = list(P1 = 1, P2 = 1)) : 
        maximum number of iterations exceeded
> w <- nls( y ~ P1 + P2 * x, q, start=list( P1=1, P2=1 ), trace=T, control=nls.control( maxiter=10 ))
7570 :  1 1 
7.888609e-29 :  4 5 
0 :  4 5 
0 :  4 5 
0 :  4 5 
0 :  4 5 
0 :  4 5 
0 :  4 5 
0 :  4 5 
0 :  4 5 
0 :  4 5 
----------------------------------------------------------------------

There is something I really don't understand here -- it seems to
go right to the answer but then cannot detect that it should
terminate the search. The default tolerance of 1e-5 seems reasonable.
Same happens with a slightly harder problem:

----------------------------------------------------------------------
> q$y <- eval( expression( 4 + 5 / x + 7 * x ), q )> w <- nls( y ~ P1 + P2 / x + P3 * x, q, start=list( P1=1, P2=1, P3=1 ), trace=T, control=nls.control( maxiter=10 ))
16505.09 :  1 1 1 
3.578718e-14 :  4 5 7 
2.650573e-28 :  4 5 7 
1.262177e-29 :  4 5 7 
0 :  4 5 7 
0 :  4 5 7 
0 :  4 5 7 
0 :  4 5 7 
0 :  4 5 7 
0 :  4 5 7 
0 :  4 5 7 
----------------------------------------------------------------------

It knows what the answer should be but does not know that it has the
answer, try injecting some noise in the sample points:

----------------------------------------------------------------------
> q$y <- eval( expression( 4 + 5 / x + 7 * x + runif( 10 )), q )
> w <- nls( y ~ P1 + P2 / x + P3 * x, q, start=list( P1=1, P2=1, P3=1 ), trace=T, control=nls.control( maxiter=10 ))
16882.09 :  1 1 1 
0.4923209 :  4.796474 5.290280 6.947685 
----------------------------------------------------------------------

OK, now it stops right away with an approximate solution...
must be alergic to getting the right answer!
I guess with all that noise, this answer is probably the best possible.

Well, I'm sure that isn't such a big bug to fix, probably
a test for >0 when it should be >=0 or something. Maybe just
detect exceptionally small sum of squares (i.e. zero) and bail
out right there. Do statisticians have an instinct to disbelieve that
their sample data could ever fit the model?

Now a bigger problem (for me), I want to be able to use complex
numbers in the calculation:

----------------------------------------------------------------------
> q$y <- eval( expression( 4 + x*(0+1i)), q )
> w <- nls( y ~ P1 + P2 * x, q, start=list( P1=1, P2=1 ), trace=T, control=nls.control( maxiter=10 ))
Error in model.frame(formula, rownames, variables, varnames, extras, extranames,  : 
        invalid variable type
> traceback()
[1] "model.frame.default(formula = ~y + x, data = q)"                  
[2] "model.frame(formula = ~y + x, data = q)"                          
[3] "eval(expr, envir, enclos)"                                        
[4] "eval(mf, sys.frame(sys.parent()))"                                
[5] "as.list(eval(mf, sys.frame(sys.parent())))"                       
[6] "nls(y ~ P1 + P2 * x, q, start = list(P1 = 1, P2 = 1), trace = T, "
[7] "    control = nls.control(maxiter = 10))"                         
> model.frame.default( y ~ x, q )
Error in model.frame(formula, rownames, variables, varnames, extras, extranames,  : 
        invalid variable type
----------------------------------------------------------------------

Is there any chance of getting this to work? Should I split up the
complex numbers into components and write my equations are equivalent
expressions in reals (ugly but I could do it if I have to)?

Seems like something in the .Internal(model.frame(...)) is barfing
at a complex number. Is that necessary or just an accident? Surely
R has enough complex number capabilities to handle them here too...

Sorry about whinging all the time :-)

	- Tel
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas@biostat.washington.edu  Fri Jul 28 16:20:22 2000
From: thomas@biostat.washington.edu (thomas@biostat.washington.edu)
Date: Fri, 28 Jul 2000 17:20:22 +0200 (MET DST)
Subject: [Rd] Re: [R] gremlin in rep() (PR#619)
Message-ID: <200007281520.RAA02438@pubhealth.ku.dk>

On Fri, 28 Jul 2000, Colin Farrow wrote:

> the following occurred inadvertently and brought R-1.1.0 down
> 
> rep(1:3, c(4,2,-6))
> Segmentation Fault (core dumped)

In main/seq.c:rep2 we only check that the total length of the result is
positive, not that each part is.

Easy fix, I think.

	-thomas

> 
> platform i686-pc-linux-gnu
> arch     i686             
> os       linux-gnu        
> system   i686, linux-gnu  
> status                    
> major    1                
> minor    1.0              
> year     2000             
> month    June             
> day      15               
> language R 
> also on Solaris2.7 
> 
> -- 
> Colin Farrow
> Computing Service, University of Glasgow, Glasgow G12 8QQ
> Tel: 0141 330 4862, c.farrow@compserv.gla.ac.uk
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ligges@statistik.uni-dortmund.de  Fri Jul 28 19:38:00 2000
From: ligges@statistik.uni-dortmund.de (ligges@statistik.uni-dortmund.de)
Date: Fri, 28 Jul 2000 20:38:00 +0200 (MET DST)
Subject: [Rd] crash with winDialogString("ABC", 1) (PR#620)
Message-ID: <200007281838.UAA03047@pubhealth.ku.dk>

If the default string in winDialogString(.) is not a character (OK, it
was also my bug...), R crashes:

  winDialogString("ABC", 1)


Everything works fine with:

  winDialogString("ABC", "1")



A fix which hopefully doesn't break anything:

  winDialogString <- function (message, default) 
      .Internal(winDialogString(message, as.character(default)))


Regards,
Uwe Ligges


--please do not edit the information below--

Version:
 platform = Windows
 arch = x86
 os = Win32
 system = x86, Win32
 status = 
 major = 1
 minor = 1.0
 year = 2000
 month = June
 day = 15
 language = R

Windows NT 4.0 (build 1381) Service Pack 6

Search Path:
 .GlobalEnv, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From telford@progsoc.uts.edu.au  Sat Jul 29 13:22:52 2000
From: telford@progsoc.uts.edu.au (Telford Tendys)
Date: Sat, 29 Jul 2000 22:22:52 +1000
Subject: [Rd] Using the nls package
In-Reply-To: <20000728195151.A18822@ftoomsh.progsoc.uts.edu.au>; from telford@progsoc.uts.edu.au on Fri, Jul 28, 2000 at 07:51:51PM +1000
References: <20000728195151.A18822@ftoomsh.progsoc.uts.edu.au>
Message-ID: <20000729222252.A26266@ftoomsh.progsoc.uts.edu.au>

To follow-up my own message...
Just making an attempt to provide all the standard details
(though I have a feeling in this case that it isn't system dependent).

> version
         _
platform powerpc-unknown-linux-gnu
arch     powerpc
os       linux-gnu
system   powerpc, linux-gnu
status
major    1
minor    1.0
year     2000
month    June
day      15
language R

[telford@dispater telford]$ gcc -v
Reading specs from /usr/lib/gcc-lib/ppc-redhat-linux/2.95.2/specs
gcc version 2.95.2 19991024 (release/franzo)

[telford@dispater telford]$ cat /proc/version
Linux version 2.2.15pre3 (benh@sawtooth.wanadoo.fr) (gcc version 2.95.2 19991024 (release/franzo)) #3 Sat Jan 29 18:02:45 CET 2000

[telford@dispater telford]$ ls -o /lib/libc.so.6
lrwxrwxrwx   1 root           13 Jan  1  1970 /lib/libc.so.6 -> libc-2.1.1.so

	- Tel
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Sun Jul 30 00:59:53 2000
From: bates@stat.wisc.edu (Douglas Bates)
Date: 29 Jul 2000 18:59:53 -0500
Subject: [Rd] Using the nls package
In-Reply-To: Telford Tendys's message of "Fri, 28 Jul 2000 19:51:51 +1000"
References: <20000728195151.A18822@ftoomsh.progsoc.uts.edu.au>
Message-ID: <6rlmykbi86.fsf@franz.stat.wisc.edu>

Telford Tendys <telford@progsoc.uts.edu.au> writes:

> I'm a bit confused about the nls package, I'm trying to use it for curve fitting.
> 
> First off, the documentation for nls says ``see `nlsControl' for the
> names of the settable control values'' -- this is wrong, it should be
> nls.control (minor point but had me confused for a moment).

Thanks for pointing that out.  We will correct that for the next
release.

> Now I'll try something very simple (maybe too simple):
> ----------------------------------------------------------------------
> > q <- data.frame( x=1:10 )
> > q$y <- eval( expression( 4 + 5 * x ), q )
> > library( nls )
> > w <- nls( y ~ P1 + P2 * x, q, start=list( P1=1, P2=1 )) 
> Error in nls(y ~ P1 + P2 * x, q, start = list(P1 = 1, P2 = 1)) : 
>         maximum number of iterations exceeded
> > w <- nls( y ~ P1 + P2 * x, q, start=list( P1=1, P2=1 ), trace=T, control=nls.control( maxiter=10 ))
> 7570 :  1 1 
> 7.888609e-29 :  4 5 
> 0 :  4 5 
> 0 :  4 5 
> 0 :  4 5 
> 0 :  4 5 
> 0 :  4 5 
> 0 :  4 5 
> 0 :  4 5 
> 0 :  4 5 
> 0 :  4 5 
> ----------------------------------------------------------------------
> 
> There is something I really don't understand here -- it seems to
> go right to the answer but then cannot detect that it should
> terminate the search. The default tolerance of 1e-5 seems reasonable.
> Same happens with a slightly harder problem:

The convergence criterion for nls is the relative offset orthogonality
convergence criterion as described in 
@Article{bate:watt:1981:tech,
  journal =      "Technometrics",
  volume =       23,
  pages =        "179--183",
  keywords =     "Regression",
  author =       "Douglas M. Bates and Donald G. Watts",
  title =        "A Relative Offset Orthogonality Convergence Criterion
                 for Nonlinear Least Squares",
  year =         1981
}

This criterion fails for artificial examples where the residual
sum-of-squares can be made exactly zero.

> ----------------------------------------------------------------------
> > q$y <- eval( expression( 4 + 5 / x + 7 * x ), q )> w <- nls( y ~ P1 + P2 / x + P3 * x, q, start=list( P1=1, P2=1, P3=1 ), trace=T, control=nls.control( maxiter=10 ))
> 16505.09 :  1 1 1 
> 3.578718e-14 :  4 5 7 
> 2.650573e-28 :  4 5 7 
> 1.262177e-29 :  4 5 7 
> 0 :  4 5 7 
> 0 :  4 5 7 
> 0 :  4 5 7 
> 0 :  4 5 7 
> 0 :  4 5 7 
> 0 :  4 5 7 
> 0 :  4 5 7 
> ----------------------------------------------------------------------
> 
> It knows what the answer should be but does not know that it has the
> answer, try injecting some noise in the sample points:

What is unusual here is that you get an exact zero for the residual
sum-of-squares.  Often there would be a small, non-zero RSS even at
the parameter values used to simulate the response.

> ----------------------------------------------------------------------
> > q$y <- eval( expression( 4 + 5 / x + 7 * x + runif( 10 )), q )
> > w <- nls( y ~ P1 + P2 / x + P3 * x, q, start=list( P1=1, P2=1, P3=1 ), trace=T, control=nls.control( maxiter=10 ))
> 16882.09 :  1 1 1 
> 0.4923209 :  4.796474 5.290280 6.947685 
> ----------------------------------------------------------------------
> 
> OK, now it stops right away with an approximate solution...
> must be alergic to getting the right answer!
> I guess with all that noise, this answer is probably the best possible.
> 
> Well, I'm sure that isn't such a big bug to fix, probably
> a test for >0 when it should be >=0 or something. Maybe just
> detect exceptionally small sum of squares (i.e. zero) and bail
> out right there. Do statisticians have an instinct to disbelieve that
> their sample data could ever fit the model?

The problem with putting in a check for an exceptionally small sum of
squares is deciding when it is exceptionally small.  There is no
absolute scale on the residual sum of squares.

We could perhaps detect an exact zero but even that would not catch
all the cases where "exact" values were simulated because generally
they will give a small but non-zero sum of squares.

Since such problems will not occur in practice but only in artificial
examples, we have not bothered detecting them.

> Now a bigger problem (for me), I want to be able to use complex
> numbers in the calculation:
> 
> ----------------------------------------------------------------------
> > q$y <- eval( expression( 4 + x*(0+1i)), q )
> > w <- nls( y ~ P1 + P2 * x, q, start=list( P1=1, P2=1 ), trace=T, control=nls.control( maxiter=10 ))
> Error in model.frame(formula, rownames, variables, varnames, extras, extranames,  : 
>         invalid variable type
> > traceback()
> [1] "model.frame.default(formula = ~y + x, data = q)"                  
> [2] "model.frame(formula = ~y + x, data = q)"                          
> [3] "eval(expr, envir, enclos)"                                        
> [4] "eval(mf, sys.frame(sys.parent()))"                                
> [5] "as.list(eval(mf, sys.frame(sys.parent())))"                       
> [6] "nls(y ~ P1 + P2 * x, q, start = list(P1 = 1, P2 = 1), trace = T, "
> [7] "    control = nls.control(maxiter = 10))"                         
> > model.frame.default( y ~ x, q )
> Error in model.frame(formula, rownames, variables, varnames, extras, extranames,  : 
>         invalid variable type
> ----------------------------------------------------------------------
> 
> Is there any chance of getting this to work? Should I split up the
> complex numbers into components and write my equations are equivalent
> expressions in reals (ugly but I could do it if I have to)?

That's the best short-term solution.  In general, how do you want to
define the residual sum of squares for a complex-valued response?
Should it be the sum of the modulus of the residuals?

We could put complex-valued nonlinear least squares on the wishlist
but I would have to warn you that there are many other items in front
of it.

> Seems like something in the .Internal(model.frame(...)) is barfing
> at a complex number. Is that necessary or just an accident? Surely
> R has enough complex number capabilities to handle them here too...

Easiest thing is to test it.

 > data(cars)
 > model.frame(dist ~ speed, data = cars)
    dist speed
 1     2     4
 ...
 49  120    24
 50   85    25
 > cars$speed <- cars$speed + rnorm(50)*(0+1i)
 > is.complex(cars$speed)
 [1] TRUE
 > model.frame(dist ~ speed, data = cars)
 Error in model.frame(formula, rownames, variables, varnames, extras, extranames,  : 
         invalid variable type

So, yes, the model.frame function does not allow complex data.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From telford@progsoc.uts.edu.au  Mon Jul 31 03:11:44 2000
From: telford@progsoc.uts.edu.au (Telford Tendys)
Date: Mon, 31 Jul 2000 12:11:44 +1000
Subject: [Rd] Using the nls package
In-Reply-To: <6rlmykbi86.fsf@franz.stat.wisc.edu>; from bates@stat.wisc.edu on Sat, Jul 29, 2000 at 06:59:53PM -0500
References: <20000728195151.A18822@ftoomsh.progsoc.uts.edu.au> <6rlmykbi86.fsf@franz.stat.wisc.edu>
Message-ID: <20000731121144.B18822@ftoomsh.progsoc.uts.edu.au>

On Sat, Jul 29, 2000 at 06:59:53PM -0500, Douglas Bates wrote:
> The convergence criterion for nls is the relative offset orthogonality
> convergence criterion as described in 
> @Article{bate:watt:1981:tech,
>   journal =      "Technometrics",
>   volume =       23,
>   pages =        "179--183",
>   keywords =     "Regression",
>   author =       "Douglas M. Bates and Donald G. Watts",
>   title =        "A Relative Offset Orthogonality Convergence Criterion
>                  for Nonlinear Least Squares",
>   year =         1981
> }

OK, I'll try to look that one up. You probably have a very good
convergence criterion for realistic sample data (which will always
have some error).

> The problem with putting in a check for an exceptionally small sum of
> squares is deciding when it is exceptionally small.  There is no
> absolute scale on the residual sum of squares.
> 
> We could perhaps detect an exact zero but even that would not catch
> all the cases where "exact" values were simulated because generally
> they will give a small but non-zero sum of squares.

Hmmm, I see your point here... the size of the residual sum of squares can 
change deastically when you add or delete measurement points, try different
models, etc so it's value only has meaning when relative to other residual
sum of squares for the same model, for the same data points.

How about testing for progress? If the nls algorithm is giving the same
numbers on two consecutive cycles then we can be sure it is not going to
get any better with more iterations so:

[1] keep a copy of the parameters from last cycle
[2] keep a copy of the sum of square residuals from last cycle
[3] if the sum of the residuals has changed at all then this cycle
    is making progress so keep cycling
[4] if the sum of residuals has not changed, check if the parameters
    have changed, if they have not changed then give up because
    next cycle will be same as this one.

Maybe [1] and [4] are not necessary and checking for change in the
sum of square residuals is enough but I am vaguely aware that it might
be possible to have the parameters change without the sum of square
residuals changing (I would have to study the algorithm very closely
to figure out whether that was possible).

Anyhow, would copying the parameters each cycle be a big overhead?

> Since such problems will not occur in practice but only in artificial
> examples, we have not bothered detecting them.

Yes, this is understandable but if most people are like me (questionable
assumption I admit) they try a few artificial examples first to get
the general idea of how these things work. I guess there is a certain
illogical assumption that if I try what seems to me to be an obviously
easy problem and it cannot handle it then something must be wrong and
trying harder problems is not going to help.

> > Is there any chance of getting this to work? Should I split up the
> > complex numbers into components and write my equations are equivalent
> > expressions in reals (ugly but I could do it if I have to)?
> 
> That's the best short-term solution.

OK, I'll go with that.

> In general, how do you want to
> define the residual sum of squares for a complex-valued response?
> Should it be the sum of the modulus of the residuals?

My thinking was that the `obvious' choice is the sum of the
SQUARES of the modulus of the residuals. Using the modulus itself
would be similar to using the absolute value of the residuals in the
non-complex case (not what we want I believe).

Another way of looking at it would be to think of extending the
residual from a scalar to a vector -- the natural extension of the
`square' operation is to square each element in the vector.
The current R system already uses this as the natural extension
to multiply and everyone seems happy with that:

> square <- function( x ) { x * x }
> square( -3 )
[1] 9
> square( -3:4 )
[1]  9  4  1  0  1  4  9 16

So once you have squared all the elements it makes sense to sum them
up, just like you do with the residuals in any case. Then you get
support for vector square residuals as being the same as the dot product
of the vector with itself (i.e. the only way to multiply a vector
with itself to get a scalar).

Keeping the logic going, a complex number is sort of like a special
case of a two element vector (yeah I know they aren't exactly the
same) so squaring the real and squaring the imaginary parts and summing
them up would seem consistent. But then Pythagoras points out that
this is the same as the square of the modulus in any case,
a full circle has been drawn.

> We could put complex-valued nonlinear least squares on the wishlist
> but I would have to warn you that there are many other items in front
> of it.

wish wish wish...

Now I think of it, there are two steps in this wish.
The first is to allow complex numbers to be allowed in the model
calculation at all and thus allow them to be residuals.

The second is to think about whether the parameters should be
allowed to be complex. I would argue that this second one is not
a good idea because it is rather easy to convert two real valued 
model parameters into a single complex number -- this ensures that
each model parameter is exactly one degree of freedom.

On the other hand, it is kind of painful to expand out complex
calculations into their real equivalents, and frustrating too when
there is a perfectly good complex calculator so close, yet so far away.

In either case, the documentation should mention that complex
numbers are not supported.

	- Tel
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Jul 31 07:20:32 2000
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 31 Jul 2000 07:20:32 +0100 (BST)
Subject: [Rd] Using the nls package
In-Reply-To: <20000731121144.B18822@ftoomsh.progsoc.uts.edu.au>
Message-ID: <Pine.GSO.4.05.10007310708440.10573-100000@auk.stats>

On Mon, 31 Jul 2000, Telford Tendys wrote:

> On Sat, Jul 29, 2000 at 06:59:53PM -0500, Douglas Bates wrote:
> > The convergence criterion for nls is the relative offset orthogonality
> > convergence criterion as described in 
> > @Article{bate:watt:1981:tech,
> >   journal =      "Technometrics",
> >   volume =       23,
> >   pages =        "179--183",
> >   keywords =     "Regression",
> >   author =       "Douglas M. Bates and Donald G. Watts",
> >   title =        "A Relative Offset Orthogonality Convergence Criterion
> >                  for Nonlinear Least Squares",
> >   year =         1981
> > }
> 
> OK, I'll try to look that one up. You probably have a very good
> convergence criterion for realistic sample data (which will always
> have some error).
> 
> > The problem with putting in a check for an exceptionally small sum of
> > squares is deciding when it is exceptionally small.  There is no
> > absolute scale on the residual sum of squares.
> > 
> > We could perhaps detect an exact zero but even that would not catch
> > all the cases where "exact" values were simulated because generally
> > they will give a small but non-zero sum of squares.
> 
> Hmmm, I see your point here... the size of the residual sum of squares can 
> change deastically when you add or delete measurement points, try different
> models, etc so it's value only has meaning when relative to other residual
> sum of squares for the same model, for the same data points.
> 
> How about testing for progress? If the nls algorithm is giving the same
> numbers on two consecutive cycles then we can be sure it is not going to
> get any better with more iterations so:

How can you be sure?  What are `the same numbers'?  The parameters
unchanged to machine precision, yes, but that's not what you print.


> [1] keep a copy of the parameters from last cycle
> [2] keep a copy of the sum of square residuals from last cycle
> [3] if the sum of the residuals has changed at all then this cycle
>     is making progress so keep cycling
> [4] if the sum of residuals has not changed, check if the parameters
>     have changed, if they have not changed then give up because
>     next cycle will be same as this one.
> 
> Maybe [1] and [4] are not necessary and checking for change in the
> sum of square residuals is enough but I am vaguely aware that it might
> be possible to have the parameters change without the sum of square
> residuals changing (I would have to study the algorithm very closely
> to figure out whether that was possible).
> 
> Anyhow, would copying the parameters each cycle be a big overhead?
> 
> > Since such problems will not occur in practice but only in artificial
> > examples, we have not bothered detecting them.
> 
> Yes, this is understandable but if most people are like me (questionable
> assumption I admit) they try a few artificial examples first to get
> the general idea of how these things work. I guess there is a certain
> illogical assumption that if I try what seems to me to be an obviously
> easy problem and it cannot handle it then something must be wrong and
> trying harder problems is not going to help.

Perhaps you need to read up on the algorithmic theory so you are not so
easily confused.  NLS problems with an exact-fit solution are a different
sub-class with different effective algorithms.

> > > Is there any chance of getting this to work? Should I split up the
> > > complex numbers into components and write my equations are equivalent
> > > expressions in reals (ugly but I could do it if I have to)?
> > 
> > That's the best short-term solution.
> 
> OK, I'll go with that.
> 
> > In general, how do you want to
> > define the residual sum of squares for a complex-valued response?
> > Should it be the sum of the modulus of the residuals?
> 
> My thinking was that the `obvious' choice is the sum of the
> SQUARES of the modulus of the residuals. Using the modulus itself
> would be similar to using the absolute value of the residuals in the
> non-complex case (not what we want I believe).

Sum of squares is common, and ises for complex linear regression in those
cases where it makes sense (e.g. in time series regression one
FFT-ed series on others).

> Another way of looking at it would be to think of extending the
> residual from a scalar to a vector -- the natural extension of the
> `square' operation is to square each element in the vector.
> The current R system already uses this as the natural extension
> to multiply and everyone seems happy with that:
> 
> > square <- function( x ) { x * x }
> > square( -3 )
> [1] 9
> > square( -3:4 )
> [1]  9  4  1  0  1  4  9 16
> 
> So once you have squared all the elements it makes sense to sum them
> up, just like you do with the residuals in any case. Then you get
> support for vector square residuals as being the same as the dot product
> of the vector with itself (i.e. the only way to multiply a vector
> with itself to get a scalar).
> 
> Keeping the logic going, a complex number is sort of like a special
> case of a two element vector (yeah I know they aren't exactly the
> same) so squaring the real and squaring the imaginary parts and summing
> them up would seem consistent. But then Pythagoras points out that
> this is the same as the square of the modulus in any case,
> a full circle has been drawn.
> 
> > We could put complex-valued nonlinear least squares on the wishlist
> > but I would have to warn you that there are many other items in front
> > of it.
> 
> wish wish wish...
> 
> Now I think of it, there are two steps in this wish.
> The first is to allow complex numbers to be allowed in the model
> calculation at all and thus allow them to be residuals.
> 
> The second is to think about whether the parameters should be
> allowed to be complex. I would argue that this second one is not
> a good idea because it is rather easy to convert two real valued 
> model parameters into a single complex number -- this ensures that
> each model parameter is exactly one degree of freedom.
> 
> On the other hand, it is kind of painful to expand out complex
> calculations into their real equivalents, and frustrating too when
> there is a perfectly good complex calculator so close, yet so far away.
> 
> In either case, the documentation should mention that complex
> numbers are not supported.

Why should documentation mention everything the function does not do? There
are *lots* of places in R where numeric quantities must be real.  Linear
regression (lm) for a start.  What nls says is

 formula: a nonlinear model formula including variables and parameters

which is none too explicit, but the reference (Bates & Watts) is,
so I assume you did not read it.

A pretty good reasonable assumption is that statistics does not work
in complexe numbers unless explicitly stated.  That's why in R

> sqrt(-1)
[1] NaN
Warning message: 
NaNs produced in: sqrt(-1) 


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

