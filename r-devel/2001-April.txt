From erich.neuwirth@univie.ac.at  Sun Apr  1 17:34:53 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Sun, 01 Apr 2001 18:34:53 +0200
Subject: [Rd] dim "heritage"
References: <200102170044.BAA19310@pubhealth.ku.dk>
 <14990.35273.167526.4092@mithrandir.hornik.net> <15046.16468.885425.640832@mithrandir.hornik.net>
Message-ID: <3AC758AD.52E7E6B2@univie.ac.at>

when i do

x<-4:1
dim(x)<-c(4,1)

and then
z<-sin(x)
dim(z) is c(4,1)

sort(x)
however, does not have a dim attribute.

is this intended behavior?


--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Apr  1 18:40:16 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 1 Apr 2001 18:40:16 +0100 (BST)
Subject: [Rd] dim "heritage"
In-Reply-To: <3AC758AD.52E7E6B2@univie.ac.at>
Message-ID: <Pine.LNX.4.31.0104011839000.1244-100000@gannet.stats>

On Sun, 1 Apr 2001, Erich Neuwirth wrote:

> when i do
>
> x<-4:1
> dim(x)<-c(4,1)
>
> and then
> z<-sin(x)
> dim(z) is c(4,1)
>
> sort(x)
> however, does not have a dim attribute.
>
> is this intended behavior?

Yes.  You would expect x^2 to act elementwise, and all elementwise
arithmetic operations keep the dimensions.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Sun Apr  1 18:48:58 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Sun, 01 Apr 2001 19:48:58 +0200
Subject: [Rd] dim "heritage"
References: <Pine.LNX.4.31.0104011839000.1244-100000@gannet.stats>
Message-ID: <3AC76A0A.4A1F7F1C@univie.ac.at>

i understand that part.
i wonder if it would make sense
thnat sort(x) also keeps the dimensions
(it should be an object of the same dimensions in any case i can
imagine).


Prof Brian Ripley wrote:
> 
> On Sun, 1 Apr 2001, Erich Neuwirth wrote:
> 
> > when i do
> >
> > x<-4:1
> > dim(x)<-c(4,1)
> >
> > and then
> > z<-sin(x)
> > dim(z) is c(4,1)
> >
> > sort(x)
> > however, does not have a dim attribute.
> >
> > is this intended behavior?
> 
> Yes.  You would expect x^2 to act elementwise, and all elementwise
> arithmetic operations keep the dimensions.
> 
> --
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595

--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Apr  1 19:50:11 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 1 Apr 2001 19:50:11 +0100 (BST)
Subject: [Rd] dim "heritage"
In-Reply-To: <3AC76A0A.4A1F7F1C@univie.ac.at>
Message-ID: <Pine.GSO.4.31.0104011946590.7057-100000@auk.stats>

On Sun, 1 Apr 2001, Erich Neuwirth wrote:

> i understand that part.
> i wonder if it would make sense
> thnat sort(x) also keeps the dimensions
> (it should be an object of the same dimensions in any case i can
> imagine).

Not so: it sorts as a vector, ignoring the multidimensional stucture.
Also, consider na.last = NA?

In any case, sort is not group Math and so not implemented by a group
generic function.  One needs to know about such things to predict
the fine details like this.

>
>
> Prof Brian Ripley wrote:
> >
> > On Sun, 1 Apr 2001, Erich Neuwirth wrote:
> >
> > > when i do
> > >
> > > x<-4:1
> > > dim(x)<-c(4,1)
> > >
> > > and then
> > > z<-sin(x)
> > > dim(z) is c(4,1)
> > >
> > > sort(x)
> > > however, does not have a dim attribute.
> > >
> > > is this intended behavior?
> >
> > Yes.  You would expect x^2 to act elementwise, and all elementwise
> > arithmetic operations keep the dimensions.
> >
> > --
> > Brian D. Ripley,                  ripley@stats.ox.ac.uk
> > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > University of Oxford,             Tel:  +44 1865 272861 (self)
> > 1 South Parks Road,                     +44 1865 272860 (secr)
> > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> --
> Erich Neuwirth, Computer Supported Didactics Working Group
> Visit our SunSITE at http://sunsite.univie.ac.at
> Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From devoilp@dpi.qld.gov.au  Mon Apr  2 02:17:23 2001
From: devoilp@dpi.qld.gov.au (devoilp@dpi.qld.gov.au)
Date: Mon, 2 Apr 2001 03:17:23 +0200 (MET DST)
Subject: [Rd] na.omit() (PR#889)
Message-ID: <200104020117.DAA24223@pubhealth.ku.dk>

Full_Name: Peter deVoil
Version: 1.1
OS: i686-pc-linux-gnu
Submission from: (NULL) (203.25.1.208)


Hi,

>  zz <- c(3.2, 4.5, NA)
>  zzz <- c(3.2, 4.5, 5.5)

If there are no NAs in the list:
---
> length(na.omit(zzz))
[1] 0
---
I expected 3.

But, if there are NAs, the correct answer is returned
---
> length(na.omit(zz))
[1] 2
---

Yours,
PdeV



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Apr  2 06:23:52 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 2 Apr 2001 07:23:52 +0200 (MET DST)
Subject: [Rd] na.omit() (PR#889)
Message-ID: <200104020523.HAA24583@pubhealth.ku.dk>

On Mon, 2 Apr 2001 devoilp@dpi.qld.gov.au wrote:

> Full_Name: Peter deVoil
> Version: 1.1

There was no such version:   1.1.0 or 1.1.1?

> OS: i686-pc-linux-gnu
> Submission from: (NULL) (203.25.1.208)
>
>
> Hi,
>
> >  zz <- c(3.2, 4.5, NA)
> >  zzz <- c(3.2, 4.5, 5.5)
>
> If there are no NAs in the list:
> ---
> > length(na.omit(zzz))
> [1] 0
> ---
> I expected 3.

I get 3.

> But, if there are NAs, the correct answer is returned
> ---
> > length(na.omit(zz))
> [1] 2
> ---

I can't reproduce this in the current version (1.2.2).  Please upgrade.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From hoffmann@ehmgs2.et.tu-dresden.de  Mon Apr  2 08:22:37 2001
From: hoffmann@ehmgs2.et.tu-dresden.de (hoffmann@ehmgs2.et.tu-dresden.de)
Date: Mon, 2 Apr 2001 09:22:37 +0200 (MET DST)
Subject: [Rd] aclocal.m4: R_PROG_F77_CC_COMPAT assumes executables w/o extension (PR#890)
Message-ID: <200104020722.JAB25499@pubhealth.ku.dk>

Full_Name: Thomas Hoffmann
Version: 1.2.2 (and older)
OS: HP-UX, OS/2
Submission from: (NULL) (141.30.125.20)


The test defined in AC_DEFUN([R_PROG_F77_CC_COMPAT] (aclocal.m4:342) produces
an executable using (in line 393)

if ${CC-cc} ${LDFLAGS} ${MAIN_LDFLAGS} -o conftest conftest.o \ ....

This fails on systems that use an extension for executables, which can be
used via $ac_exeext in configure files. So it should read instead

if ${CC-cc} ${LDFLAGS} ${MAIN_LDFLAGS} -o conftest$ac_exeext conftest.o \ ....

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Mon Apr  2 11:20:10 2001
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Mon, 2 Apr 2001 12:20:10 +0200
Subject: [Rd] Color mapping for R : col2rgb()
In-Reply-To: <000801bf999d$13c36170$a9021aac@joelschlaegel>
References: <14560.48243.200487.325190@lynne.ethz.ch>
 <000801bf999d$13c36170$a9021aac@joelschlaegel>
Message-ID: <15048.21082.170703.934887@gargle.gargle.HOWL>


This has been an old topic, brought up last year by 
Jens Oehlschlaegel and even before by Ben Bolker and maybe others.

Over the weekend I've finally taken some time, 
and have implemented one new function on the R level,
basically exposing the underlying C function str2col() [main/graphics.c]

col2rgb() accepts a vector of all three kind of R colors :

1:n     =  indices into palette()
name    =  an element of colors()
#rrggbb =  character with the rgb hex code.

Per color, it returns an integer(3) vector   c(red,green,blue)
with elements from 0:255.

Currently {in my implementation},
when 
  r <- col2rgb(col) 
r is a list() of the same length as col, and  r[[j]] = c(red_j, green_j, blue_j)
e.g.
    > str(col2rgb(paste("gold", 1:4, sep="")))
    List of 4
     $ : int [1:3] 255 215 0
     $ : int [1:3] 238 201 0
     $ : int [1:3] 205 173 0
     $ : int [1:3] 139 117 0
    > 

This has been the easiest way of a vectorizing implementation.
Are the strong reasons why, e.g. a matrix should be returned instead ?
The matrix can `easily' be built by, e.g.

  matrix(c(col2rgb(...) , recursive = TRUE), nrow = 3))

If it is felt that one always wanted this matrix (and dimnames, too),
it would maybe make sense to compute it in C.

---

Opinions?

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Apr  2 13:44:24 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 2 Apr 2001 13:44:24 +0100 (BST)
Subject: [Rd] Color mapping for R : col2rgb()
In-Reply-To: <15048.21082.170703.934887@gargle.gargle.HOWL>
Message-ID: <Pine.LNX.4.31.0104021343250.9187-100000@gannet.stats>

On Mon, 2 Apr 2001, Martin Maechler wrote:

>
> This has been an old topic, brought up last year by
> Jens Oehlschlaegel and even before by Ben Bolker and maybe others.
>
> Over the weekend I've finally taken some time,
> and have implemented one new function on the R level,
> basically exposing the underlying C function str2col() [main/graphics.c]
>
> col2rgb() accepts a vector of all three kind of R colors :
>
> 1:n     =  indices into palette()
> name    =  an element of colors()
> #rrggbb =  character with the rgb hex code.
>
> Per color, it returns an integer(3) vector   c(red,green,blue)
> with elements from 0:255.
>
> Currently {in my implementation},
> when
>   r <- col2rgb(col)
> r is a list() of the same length as col, and  r[[j]] = c(red_j, green_j, blue_j)
> e.g.
>     > str(col2rgb(paste("gold", 1:4, sep="")))
>     List of 4
>      $ : int [1:3] 255 215 0
>      $ : int [1:3] 238 201 0
>      $ : int [1:3] 205 173 0
>      $ : int [1:3] 139 117 0
>     >
>
> This has been the easiest way of a vectorizing implementation.
> Are the strong reasons why, e.g. a matrix should be returned instead ?
> The matrix can `easily' be built by, e.g.
>
>   matrix(c(col2rgb(...) , recursive = TRUE), nrow = 3))
>
> If it is felt that one always wanted this matrix (and dimnames, too),
> it would maybe make sense to compute it in C.

What do you get if you ask for one colour (the most common case?)?
A one-element list seems silly.

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Mon Apr  2 14:18:59 2001
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Mon, 2 Apr 2001 15:18:59 +0200
Subject: [Rd] Color mapping for R : col2rgb()
In-Reply-To: <Pine.LNX.4.31.0104021343250.9187-100000@gannet.stats>
References: <15048.21082.170703.934887@gargle.gargle.HOWL>
 <Pine.LNX.4.31.0104021343250.9187-100000@gannet.stats>
Message-ID: <15048.31811.523357.665648@gargle.gargle.HOWL>

>>>>> "BDR" == Prof Brian Ripley <ripley@stats.ox.ac.uk> writes:

    BDR> On Mon, 2 Apr 2001, Martin Maechler wrote:
    >> 
    >> This has been an old topic, brought up last year by
    >> Jens Oehlschlaegel and even before by Ben Bolker and maybe others.
    >> 
    >> Over the weekend I've finally taken some time,
    >> and have implemented one new function on the R level,
    >> basically exposing the underlying C function str2col() [main/graphics.c]
    >> 
    >> col2rgb() accepts a vector of all three kind of R colors :
    >> 
    >> 1:n     =  indices into palette()
    >> name    =  an element of colors()
    >> #rrggbb =  character with the rgb hex code.
    >> 
    >> Per color, it returns an integer(3) vector   c(red,green,blue)
    >> with elements from 0:255.
    >> 
    >> Currently {in my implementation},
    >> when
    >> r <- col2rgb(col)
    >> r is a list() of the same length as col, and  r[[j]] = c(red_j, green_j, blue_j)
    >> e.g.
    >> > str(col2rgb(paste("gold", 1:4, sep="")))
    >> List of 4
    >> $ : int [1:3] 255 215 0
    >> $ : int [1:3] 238 201 0
    >> $ : int [1:3] 205 173 0
    >> $ : int [1:3] 139 117 0
    >> >
    >> 
    >> This has been the easiest way of a vectorizing implementation.
    >> Are the strong reasons why, e.g. a matrix should be returned instead ?
    >> The matrix can `easily' be built by, e.g.
    >> 
    >> matrix(c(col2rgb(...) , recursive = TRUE), nrow = 3))
    >> 
    >> If it is felt that one always wanted this matrix (and dimnames, too),
    >> it would maybe make sense to compute it in C.

    BDR> What do you get if you ask for one colour (the most common case?)?
    BDR> A one-element list seems silly.

agreed.  Also, a matrix *is* a simpler structure anyway.
I'd plan to rather go for an  
  3 x n 
matrix (even though  [n x 3] prints more nicely)
with  dimnames = list(c("red,"green","blue"), NULL)
I'd still return a (1-row) matrix even for length(col) == 1,
for (R) API reasons, but at least that can be used as if it was a 3-vector
in almost all situations.

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From David James <dj@research.bell-labs.com>  Mon Apr  2 18:15:15 2001
From: David James <dj@research.bell-labs.com> (David James)
Date: Mon, 2 Apr 2001 13:15:15 -0400 (EDT)
Subject: [Rd] generic database access methods
Message-ID: <200104021715.NAA08085@jessie.research.bell-labs.com>


> Date: Mon, 19 Mar 2001 16:19:39 -0500
> From: "Timothy H. Keitt" <Timothy.Keitt@StonyBrook.Edu>
> User-Agent: Mozilla/5.0 (X11; U; Linux 2.2.18 i686; en-US; 0.8) Gecko/20010215
> X-Accept-Language: en
> MIME-Version: 1.0
> To: r-devel@hypatia.math.ethz.ch
> Subject: [Rd] generic database access methods
> Content-Transfer-Encoding: 7bit
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From David James <dj@research.bell-labs.com>  Mon Apr  2 18:24:08 2001
From: David James <dj@research.bell-labs.com> (David James)
Date: Mon, 2 Apr 2001 13:24:08 -0400 (EDT)
Subject: [Rd] generic database access methods
Message-ID: <200104021724.NAA09572@jessie.research.bell-labs.com>

Hi Tim,

Thanks for putting together the Rdbi package.  Attached are my (belated) 
comments and some further suggestions/questions.

David
-----------------------------------------------------------------------

> Date: Mon, 19 Mar 2001 16:19:39 -0500
> From: "Timothy H. Keitt" <Timothy.Keitt@StonyBrook.Edu>
> User-Agent: Mozilla/5.0 (X11; U; Linux 2.2.18 i686; en-US; 0.8) Gecko/20010215
> X-Accept-Language: en
> MIME-Version: 1.0
> To: r-devel@hypatia.math.ethz.ch
> Subject: [Rd] generic database access methods
> Content-Transfer-Encoding: 7bit
> 
> I've been putting together a package that defined generic methods for 
> database access.  The packages is called "Rdbi."  It borrows as much as 
> possible from existing database packages / proposals.  I'd like to start 
> a discussion about the proposed interface.  Here's what I've come up 
> with so far:
> 
> #
> # Rdbi: connectionMethods.R
> #
> 
> dbConnect <- function(dbObj, ...) UseMethod("dbConnect")
> #
> # dbObj should be generated by an implementation defined function,
> # e.g., RPgSQL(), which returns a object with an approprite class
> # name, e.g., "PostgreSQL" or "MySQL".  The implementation then
> # provides a method that actually opens the connection.
> #
> 
> dbConnect.default <- function(dbObj, ...) stop("Invalid database class")
> #
> # User passed something other than a defined database class
> #
> 
> dbDisconnect <- function(conn) UseMethod("dbDisconnect")
> #
> # Close connection and free resources
> #
> 
> dbDisconnect.default <- function(conn) stop("Invalid connection object")
> 
> dbReconnect <- function(conn) UseMethod("dbReconnect")
> #
> # The conn object should store the options passed to dbConnect so that
> # it can reestablish the connection.
> #
> 
> dbReconnect.default <- function(conn) stop("Invalid connection object")
> #
> # User passed something other than a defined connection class
> #
> 
> dbConnectionOK <- function(conn) UseMethod("dbConnectionOK")
> #
> # Returns TRUE if the connection object is valid and the connection
> # can be used to communicate with the database backend.
> #
> 
> dbConnectionOK.default <- function(conn) FALSE
> #
> # User passed something other than a defined connection class
> #

I think that implicitly there's a class "dbConnection"
that the various implementations RPgSQL, RMySQL, RODBC, ROracle, etc.,
would inherit from (extend).  Right?  Having the various implementations
inherit from a common base class, say, "dbConnection", could be
useful for grouping common "database connection" functionality --
for instance, imagine we want to implement some functionality
on top of the common Rdbi, and thus for *any* DBMS.  I could easily
imagine moving your idea of proxy data.frames from the RPgSQL
package to, say, proxyTable, so that it can be used with ROracle, RODBC,
etc.  Another example would be the ability to attach(conn) and then
have R manage the reading/writing of tables,  e.g.,

  Example: 
  (See John M. Chambers "Data Management in S" in
  http://stat.bell-labs.com/stat/doc/doc/93.15.ps.gz and
  and "Database Classes" http://stat.bell-labs.com/stat/Sbook/DatabaseClasses)

  > con <- dbConnect("RPgSQL", ...)
  > attach(con)
  > ls(pos=2)
  [1] table1  table2 ...
  > median(table1$fieldX)
  > exists("table2", where=2)
  > remove("table4", where=2)
  > assign("newTable4", my.results, where = 2)

We could implement this for any DBMS *provided* we define 
the various R methods read/write/exists methods in terms of the
base class "dbConnection" and not in terms of the individual
RMySQL, RODBC, RPgSQL (otherwise each new R<dbms> driver would be required
to implement the attached methods, the proxyTable methods, ....)

Following the approach above, it would be very simple to attach
a DBMS and treat *all* the tables as db.proxy independently of the
actual DBMS (provided the methods are, again, defined in terms of
the common base "dbConnection").

> 
> 
> #
> # Rdbi: ioMethods.R
> #
> 
> dbSendQuery <- function(conn, ...) UseMethod("dbSendQuery")
> #
> # This function submits a query string to the backend.  If the query
> # generates any results, they should be returned in a data frame;
> # otherwise the function returns NULL.  Printing error messgages is
> # left to the implementation, but this function should not issue a
> # call to error() or stop().  Error messages may be retrievable from
> # the connection object depending on implementation.
> #
> 
> dbSendQuery.default <- function(conn, ...) stop("Invalid connection object")
> #
> # This means that the method was called on something other than a
> # connection object.
> #

I would suggest that, if the the query generates a result, dbSendQuery 
retuns a "result set" or "cursor" object.  Imagine the result is 
huge -- that could easily kill the R process.  This object ("cursor" or
"result set") could have some methods to fetch(cur, n = num.rows),
plus some self-description to show its state -- e.g. to show the
query being procesed, plus methods to tell us how many rows we've
fetched so far, etc.  Even if dbSendQuery() does not generate output,
we may still want to have some way of querying what happen with the
operation;  for instance, how many rows were affected by the operation

    > rs <- dbSendQuery(conn, "delete from TABLE1 where id = 1234")
    > if(rowsAffected(rs) != 1){
         ## oops, something isn't quite right!
    +    rollback(conn)
    + }

In many situation, users may not want to bother with this level
of detail -- all they may want is to get the data.  For this I'd follow
the ODBC(?) "execute immediate" idea and implement a very similar 
method for those cases when you know want to do the "dbSendQuery" 
and "fetch" in one scoop, say "dbExec" or something like it.

> 
> dbListTables <- function(conn, ...) UseMethod("dbListTables")
> #
> # Output a list of table names associated with the connection object.
> # Output should look like output from ls().
> #
> 
> dbListTables.default <- function(conn, ...) stop("Invalid connection 
> object")
> 
> dbReadTable <- function(conn, ...) UseMethod("dbReadTable")
> #
> # Analog of the read.table() function.  Returns a data frame.  Some
> # facility for converting DB types to R types is helpfull.  Generally,
> # this will just pass a "select * from mytable" to dbSendQuery() which
> # returns the data frame.
> #
> 
> dbReadTable.default <- function(conn, ...) stop("Invalid connection object")
> 
> dbWriteTable <- function(conn, ...) UseMethod("dbWriteTable")
> #
> # Analog of write.table().  It should assemble input into a data frame
> # and write the frame into a table in database.
> #
> 
> dbWriteTable.default <- function(conn, ...) stop("Invalid connection 
> object")
> 

Yes. This would work nicely, specially for packages that use the Rdbi.

Miscellaneous 
-------------

The following are some issues that have been brought up
either through private conversations and/or during the DSC 2001
workshop.

1. Data Type Conversions:

Another set of generic functions that we may need to consider 
could include functions to specify data conversions: for instance,
a generic getDataType(dbObj, s.atomic.object) that would return the
appropriate data type on the remote DBMS associated with "conn".
For instance, if "ora" and "pg" are Oracle and PostgreSQL connections,
respectively, the expressions

  > x.int <- as.integer(x)
  > ora.int <- getDataType(ora, x.int)
  > pg.int <- getDataType(pg, x.int)	

would return possibly different DBMS-specific SQL data type for the same   
integer (and possibly different for the same DBMS, in the case
of R and Splus, as Brian Ripley has pointed out, I believe in the 
R Data Import/Export manual(?)).

We would also need the reverse DBMS type -> R/S object.

Finally, there'll be times that we cannot automatically convert
non-primitive objects (images? sound?) to/from DBMS and R/S -- we
should have a mechanism to allow user to specify their own conversion
functions.  We need to think of a "user-friendly" mechanism to do this.

2. DBMS vs R/S identifiers:

Do we need/want to handle for the user the mapping between
remote identifiers (e.g., "TABLE_ABC") and R/S?  This could
be easily implemented using the ideas in data mapping ideas above.

3. Transactions:

Do we want to define generic functions to manage transactions? 

4. Remote Objects:

If we decide that having "cursor/result set" objects is desirable,
then we should note that they are similar to "dbConnection" objects
in the sense that they are "remote object," i.e., R objects that reference
remote objects, (remote db object, to be more precise).  All these remote
objects may share some common functionality:  all remote objects need 
to be validated before they are passed to the DBMS (e.g., dbConnectionOk),
we need to ensure that we free the (remote) resources even in the
case of errors/exceptions, perhaps through judicious use of on.exit()
(see also Luke Tierney's "Simple References with Finalization"
http://developer.r-project.org/simpleref.html, but keep in mind that 
this may/may not be portable to S-plus.)

5. Naming convention:

We could use (as you are suggesting) a naming convention consisting
of concatenated words with capitalization for non-starting 
words, e.g., dbDisconnect).  The traditional R/S way is to separate 
words with ".", e.g., "read.table".  I don't have too strong a preference,
but perhaps we should be explicit about it?


> 
> T.
> 
> -- 
> Timothy H. Keitt
> Department of Ecology and Evolution
> State University of New York at Stony Brook
> Phone: 631-632-1101, FAX: 631-632-7626
> http://life.bio.sunysb.edu/ee/keitt/
> 
> 
> 
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> 
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> 
> 
> 
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
Timothy H. Keitt
Department of Ecology and Evolution
State University of New York at Stony Brook
Phone: 631-632-1101, FAX: 631-632-7626
http://life.bio.sunysb.edu/ee/keitt/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Timothy.Keitt@StonyBrook.Edu  Mon Apr  2 22:39:02 2001
From: Timothy.Keitt@StonyBrook.Edu (Timothy H. Keitt)
Date: Mon, 02 Apr 2001 17:39:02 -0400
Subject: [Rd] generic database access methods
References: <200104021724.NAA09572@jessie.research.bell-labs.com>
Message-ID: <3AC8F176.3090805@StonyBrook.Edu>

David James wrote:
> 
> I think that implicitly there's a class "dbConnection"
> that the various implementations RPgSQL, RMySQL, RODBC, ROracle, etc.,
> would inherit from (extend).  Right?  Having the various implementations
> inherit from a common base class, say, "dbConnection", could be
> useful for grouping common "database connection" functionality --
> for instance, imagine we want to implement some functionality
> on top of the common Rdbi, and thus for *any* DBMS.  I could easily
> imagine moving your idea of proxy data.frames from the RPgSQL
> package to, say, proxyTable, so that it can be used with ROracle, RODBC,

Yes.  Exactly.  My initial proposal was intentionally simple; I've been
experimenting with having connection objects inherit from a common base
class.  (I make some commments about proxies below.)

> etc.  Another example would be the ability to attach(conn) and then
> have R manage the reading/writing of tables,  e.g.,
> 
>   Example: 
>   (See John M. Chambers "Data Management in S" in
>   http://stat.bell-labs.com/stat/doc/doc/93.15.ps.gz and
>   and "Database Classes" http://stat.bell-labs.com/stat/Sbook/DatabaseClasses)
> 
>   > con <- dbConnect("RPgSQL", ...)
>   > attach(con)
>   > ls(pos=2)
>   [1] table1  table2 ...
>   > median(table1$fieldX)
>   > exists("table2", where=2)
>   > remove("table4", where=2)
>   > assign("newTable4", my.results, where = 2)

This is also one of the things I've been thinking about.  However, there are some
problems matching database tables to data frames.  Data frames assume deterministic
random access to rows, but databases generally do not.  The backend is free to
change the order of the rows at any time after receiving a query and before returning
the result.  So to effectively proxy db tables, you have to enforce row ordering
explicitely by adding a "row_number" column and update it on every insertion and
deletion (unless of course,the data frame model were changed to only allow sequential,
cursor based access---but I'll save that for a different proposal!).  As a result,
it may make sense to limit "attaching" of databases only to databases where R has
control over the schema, i.e., the database is created in R and only accessed through
R (and so can force a row number column on each table).  If you allow attachment of
arbitrary databases, it will be easy to corrupt the row ordering.

> We could implement this for any DBMS *provided* we define 
> the various R methods read/write/exists methods in terms of the
> base class "dbConnection" and not in terms of the individual
> RMySQL, RODBC, RPgSQL (otherwise each new R<dbms> driver would be required
> to implement the attached methods, the proxyTable methods, ....)
> 
> Following the approach above, it would be very simple to attach
> a DBMS and treat *all* the tables as db.proxy independently of the
> actual DBMS (provided the methods are, again, defined in terms of
> the common base "dbConnection").
> 

Absolutely; we just have to define a minimal set of primitives needed to support
proxying (but see comments above).

> 
> I would suggest that, if the the query generates a result, dbSendQuery 
> retuns a "result set" or "cursor" object.  Imagine the result is 
> huge -- that could easily kill the R process.  This object ("cursor" or
> "result set") could have some methods to fetch(cur, n = num.rows),
> plus some self-description to show its state -- e.g. to show the
> query being procesed, plus methods to tell us how many rows we've
> fetched so far, etc.  Even if dbSendQuery() does not generate output,
> we may still want to have some way of querying what happen with the
> operation;  for instance, how many rows were affected by the operation
> 
>     > rs <- dbSendQuery(conn, "delete from TABLE1 where id = 1234")
>     > if(rowsAffected(rs) != 1){
>          ## oops, something isn't quite right!
>     +    rollback(conn)
>     + }
> 
> In many situation, users may not want to bother with this level
> of detail -- all they may want is to get the data.  For this I'd follow
> the ODBC(?) "execute immediate" idea and implement a very similar 
> method for those cases when you know want to do the "dbSendQuery" 
> and "fetch" in one scoop, say "dbExec" or something like it.
> 

I was avoiding "result" objects based on the argument that its better to
use normal R operations to access data whenever possible (so users don't
have to learn yet another data interface).  However, I agree with your
argument here and adding result objects is easily done.  Having two
functions as in RODBC is a good solution.  Alternatively, we could
have "as.data.frame.Rdbi.conn <- function(connObj)..."
 
> Miscellaneous 
> -------------
> 
> The following are some issues that have been brought up
> either through private conversations and/or during the DSC 2001
> workshop.
> 
> 1. Data Type Conversions:
> 
> Another set of generic functions that we may need to consider 
> could include functions to specify data conversions: for instance,
> a generic getDataType(dbObj, s.atomic.object) that would return the
> appropriate data type on the remote DBMS associated with "conn".
> For instance, if "ora" and "pg" are Oracle and PostgreSQL connections,
> respectively, the expressions
> 
>   > x.int <- as.integer(x)
>   > ora.int <- getDataType(ora, x.int)
>   > pg.int <- getDataType(pg, x.int)	
> 
> would return possibly different DBMS-specific SQL data type for the same   
> integer (and possibly different for the same DBMS, in the case
> of R and Splus, as Brian Ripley has pointed out, I believe in the 
> R Data Import/Export manual(?)).
> 
> We would also need the reverse DBMS type -> R/S object.
> 
> Finally, there'll be times that we cannot automatically convert
> non-primitive objects (images? sound?) to/from DBMS and R/S -- we
> should have a mechanism to allow user to specify their own conversion
> functions.  We need to think of a "user-friendly" mechanism to do this.

I made a stab at this in RPgSQL.  See "types.R"  Also, do we want to do
column and table name conversion?  I do this in RPgSQL, but I'm finding
that it can lead to confusing situations.

> 
> 2. DBMS vs R/S identifiers:
> 
> Do we need/want to handle for the user the mapping between
> remote identifiers (e.g., "TABLE_ABC") and R/S?  This could
> be easily implemented using the ideas in data mapping ideas above.
> 
> 3. Transactions:
> 
> Do we want to define generic functions to manage transactions? 

Probably not.  This should be transparent to users.  Do you have
examples of where it is needed?  (Again, I'm trying to avoid transfering
the entire SQL programming interface into R and only provide the bits
needed to move data back and forth.)

> 
> 4. Remote Objects:
> 
> If we decide that having "cursor/result set" objects is desirable,
> then we should note that they are similar to "dbConnection" objects
> in the sense that they are "remote object," i.e., R objects that reference
> remote objects, (remote db object, to be more precise).  All these remote
> objects may share some common functionality:  all remote objects need 
> to be validated before they are passed to the DBMS (e.g., dbConnectionOk),
> we need to ensure that we free the (remote) resources even in the
> case of errors/exceptions, perhaps through judicious use of on.exit()
> (see also Luke Tierney's "Simple References with Finalization"
> http://developer.r-project.org/simpleref.html, but keep in mind that 
> this may/may not be portable to S-plus.)

I'll take a look.  It sounds useful.  (Oops, I couldn't resolve the URL.)
 
> 5. Naming convention:
> 
> We could use (as you are suggesting) a naming convention consisting
> of concatenated words with capitalization for non-starting 
> words, e.g., dbDisconnect).  The traditional R/S way is to separate 
> words with ".", e.g., "read.table".  I don't have too strong a preference,
> but perhaps we should be explicit about it?
> 

I'm agnostic here.  I've been using my experimental Rdbi package for the last
week or so and find that I like the "dbConnect" naming, but I would go with
whatever people wanted.

I have a package ready to distribute for testing.  Its actually a package cluster
with "Rdbi.base" and "Rdbi.PgSQL."  I've moved the main read loop out of R and
into C and now get around 200K integer reads a second (includes copying results
into a data frame).  I'm happy for someone to take over from here (or to propose
an alternative framework).  Perhaps we can make it a group effort (transfer copyright
to the R project, etc.)  I would suggest that we start with the absolute minimal
interface and add features very carefully.  It would be great to see a general
database framework make it into a future release of R.

Tim 
-- 
Timothy H. Keitt
Department of Ecology and Evolution
State University of New York at Stony Brook
Phone: 631-632-1101, FAX: 631-632-7626
http://life.bio.sunysb.edu/ee/keitt/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Apr  2 22:56:44 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 2 Apr 2001 22:56:44 +0100 (BST)
Subject: [Rd] generic database access methods
In-Reply-To: <3AC8F176.3090805@StonyBrook.Edu>
Message-ID: <Pine.GSO.4.31.0104022247390.18788-100000@auk.stats>

On Mon, 2 Apr 2001, Timothy H. Keitt wrote:

> I have a package ready to distribute for testing.  Its actually a package cluster
> with "Rdbi.base" and "Rdbi.PgSQL."  I've moved the main read loop out of R and
> into C and now get around 200K integer reads a second (includes copying results
> into a data frame).  I'm happy for someone to take over from here (or to propose
> an alternative framework).  Perhaps we can make it a group effort (transfer copyright
> to the R project, etc.)  I would suggest that we start with the absolute minimal
> interface and add features very carefully.  It would be great to see a general
> database framework make it into a future release of R.

Three comments:

(1) We are still trying to figure out how to set up a framework for
discussions of this sort (Martin: any progress on SIG lists)?

(2) It is unlikely that this will `make it into a future release of R', as
our aim is to make R smaller not larger.  Rather, what we would like (I
believe) is a `Recommended Package' that fits alongside R.  We intend to
unbundle quite a lot of what is already there so R has a small kernel and
lots of addons.  There are practical reasons (embedding in other
applications) as well as aesthetic ones.

(3) This is an area where common solutions across R/S would be very
welcome.

Lots of things came out of the Vienna meeting, and some of us at least
had/have still to catch up on our day jobs too, so please bear with us
while we get things set up.  A unified databases interface is definitely on
the list.

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Apr  3 02:19:01 2001
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Mon, 02 Apr 2001 20:19:01 -0500
Subject: [Rd] lstat and NFS server not responding
Message-ID: <3AC916F5.373D48A7@bank-banque-canada.ca>

In a somewhat unusual circumstance I have been having trouble when
making R from source and with "R CMD build dse"
forcing the machine to look for an NFS server which was not available,
and then stalling. Our system administrator traced this back to the fact
that these go through all the directories back to "/" , doing an lstat
on everything. He suggests that that seems odd, but it doesn't take long
normally.  The problem was apparently caused by the fact that something
(possible a cdrom) on /mnt had not been unmounted properly.

We have fixed the problem but since it was rather difficult to track
down I thought  I would point it out in case others experience a similar
difficulty. Also, is there a good explanation for doing an lstat on
everything up to /?

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Apr  3 07:06:47 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 3 Apr 2001 07:06:47 +0100 (BST)
Subject: [Rd] lstat and NFS server not responding
In-Reply-To: <3AC916F5.373D48A7@bank-banque-canada.ca>
Message-ID: <Pine.GSO.4.31.0104030657280.22896-100000@auk.stats>

On Mon, 2 Apr 2001, Paul Gilbert wrote:

> In a somewhat unusual circumstance I have been having trouble when
> making R from source and with "R CMD build dse"
> forcing the machine to look for an NFS server which was not available,
> and then stalling. Our system administrator traced this back to the fact
> that these go through all the directories back to "/" , doing an lstat
> on everything. He suggests that that seems odd, but it doesn't take long
> normally.  The problem was apparently caused by the fact that something
> (possible a cdrom) on /mnt had not been unmounted properly.
>
> We have fixed the problem but since it was rather difficult to track
> down I thought  I would point it out in case others experience a similar
> difficulty. Also, is there a good explanation for doing an lstat on
> everything up to /?

Do you know what was doing it?  Since R CMD build is basically a Perl
program, I can only guess that Perl was doing this, and it looks like a
Perl quirk/bug that perhaps you need to track down and report (if your Perl
version is current).  One thing I did notice is that the R scripts use
Cwd::getcwd in Perl when the manual page recommends Cwd::cwd, and reading
the code suggests Cwd::getcwd is the culprit.  (Any explanation,
Fritz/Kurt?)

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.C.Rougier@durham.ac.uk  Tue Apr  3 10:10:33 2001
From: J.C.Rougier@durham.ac.uk (Jonathan Rougier)
Date: Tue, 3 Apr 2001 10:10:33 +0100 (BST)
Subject: [Rd] Detaching "ctest"
In-Reply-To: <15044.46028.686427.367469@mithrandir.hornik.net>
Message-ID: <Pine.GSO.4.20.0104031001530.13680-100000@laplace>

On Fri, 30 Mar 2001, Kurt Hornik wrote:

> >>>>> Peter Dalgaard BSA writes:
> 
> > ...
> 
> >> configure("packages")
> 
> > which could do different things depending on whether you were using a
> > GUI, terminal interface, ESS, or maybe even batch mode. In simple
> > modes it might simply be based on edit()ing the output of
> 
> >   data.frame(package=.packages(all=T),
> >              load=!is.na(match(.packages(all=T),.packages())))
> 
> > - although you might want to distinguish between the usual profile-ish
> > things (site-level/user-level/directory-level/workspace-specific) too.
> > With a GUI, you'd likely want something with checkboxes instead.
> 
> Nice idea!  Two remarks.
> 
> * We might want similar ways of setting `preferences' such as options.
>   [E.g., via something like Emacs M-x customize, or in a GUI style.]
> 
> * In any case, as far as I am concerned the real problem is not having a
>   convenient interface but on agreeing on what the choices should be,
>   and how well-educated users or site admins need to be to make the
>   right choices.  E.g., when it comes to setting a default profile for
>   packages, how does the user find out which packages he wants?

I certainly agree with this last point.  However, the problem is lessened
if the user can use .Rprofile to tune the set-up.  The current arrangement
prevents that (or, at least, makes it rather inelegant) by using .First to
load ctest (and, in the future, other mandatory packages?).  It seems to
me that in an ideal world .Rprofile would be the very last thing invoked
before the prompt.  That way whatever set-up is put in place by the system
administrator or the default, the individual user still has control.

Cheers, Jonathan.

Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Apr  3 14:31:39 2001
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 03 Apr 2001 09:31:39 -0400
Subject: [Rd] lstat and NFS server not responding
References: <Pine.GSO.4.31.0104030657280.22896-100000@auk.stats>
Message-ID: <3AC9D0BB.6C0B6138@bank-banque-canada.ca>

>Do you know what was doing it?  Since R CMD build is basically a Perl
>program, I can only guess that Perl was doing this, and it looks like a
>Perl quirk/bug that perhaps you need to track down and report (if your Perl
>version is current).  One thing I did notice is that the R scripts use
>Cwd::getcwd in Perl when the manual page recommends Cwd::cwd, and reading
>the code suggests Cwd::getcwd is the culprit.  (Any explanation,
>Fritz/Kurt?)

Yes, I'm almost certain it is in the Perl but I don't know much more than that. I'm
using Perl version 5.004_04 built for sun4-solaris.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Apr  3 14:57:25 2001
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 03 Apr 2001 09:57:25 -0400
Subject: [Rd] extratests (wishlist item)
Message-ID: <3AC9D6C5.28965243@bank-banque-canada.ca>

I have now reorganized most of my tests into the tests subdirectories of my packages
and I do like the R CMD check mechanism for running them. However, I have a certain
number of tests  which I can only run on certain machines (e.g. because of memory
requirements or special database requirements), or just take too long to run
regularly. I have organized these into an artificial separate package. It would make
more sense to keep these with the packages to which they belong. Would it be possible
sometime to add a subdirectory of extra tests which can be run with the same
mechanism as the tests subdirectory but not as a regular part of R CMD check?

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Timothy.Keitt@StonyBrook.Edu  Tue Apr  3 15:21:46 2001
From: Timothy.Keitt@StonyBrook.Edu (Timothy H. Keitt)
Date: Tue, 03 Apr 2001 10:21:46 -0400
Subject: [Rd] generic database access methods
References: <Pine.GSO.4.31.0104022247390.18788-100000@auk.stats>
Message-ID: <3AC9DC7A.9040401@StonyBrook.Edu>

Prof Brian D Ripley wrote:

> On Mon, 2 Apr 2001, Timothy H. Keitt wrote:
>
> believe) is a `Recommended Package' that fits alongside R.  We intend to
> unbundle quite a lot of what is already there so R has a small kernel and
> lots of addons.  There are practical reasons (embedding in other
> applications) as well as aesthetic ones.

Sounds entirely reasonable.

> while we get things set up.  A unified databases interface is definitely on
> the list.
> 

Great.

Tim

-- 
Timothy H. Keitt
Department of Ecology and Evolution
State University of New York at Stony Brook
Phone: 631-632-1101, FAX: 631-632-7626
http://life.bio.sunysb.edu/ee/keitt/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From David James <dj@research.bell-labs.com>  Tue Apr  3 15:31:40 2001
From: David James <dj@research.bell-labs.com> (David James)
Date: Tue, 3 Apr 2001 10:31:40 -0400 (EDT)
Subject: [Rd] generic database access methods
Message-ID: <200104031431.KAA20097@jessie.research.bell-labs.com>

On Mon, 2 Apr 2001, Prof Brian D Ripley wrote:

>
> On Mon, 2 Apr 2001, Timothy H. Keitt wrote:
> 
> > I have a package ready to distribute for testing.  Its actually a package 
cluster
> > with "Rdbi.base" and "Rdbi.PgSQL."  I've moved the main read loop out of R 
and
> > into C and now get around 200K integer reads a second (includes copying 
results
> > into a data frame).  I'm happy for someone to take over from here (or to 
propose
> > an alternative framework).  Perhaps we can make it a group effort (transfer 
copyright
> > to the R project, etc.)  I would suggest that we start with the absolute 
minimal
> > interface and add features very carefully.  It would be great to see a 
general
> > database framework make it into a future release of R.
> 
> Three comments:
> 
> (1) We are still trying to figure out how to set up a framework for
> discussions of this sort (Martin: any progress on SIG lists)?

Okay, we can wait.

> 
> (2) It is unlikely that this will `make it into a future release of R', as
> our aim is to make R smaller not larger.  Rather, what we would like (I
> believe) is a `Recommended Package' that fits alongside R.  We intend to
> unbundle quite a lot of what is already there so R has a small kernel and
> lots of addons.  There are practical reasons (embedding in other
> applications) as well as aesthetic ones.

IMHO it's a good idea -- "small is beatiful".

> (3) This is an area where common solutions across R/S would be very
> welcome.

Absolutely.

> 
> Lots of things came out of the Vienna meeting, and some of us at least
> had/have still to catch up on our day jobs too, so please bear with us
> while we get things set up.  A unified databases interface is definitely on
> the list.
> 
> Brian
> 
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ernesto@ipimar.pt  Tue Apr  3 16:03:08 2001
From: ernesto@ipimar.pt (ernesto@ipimar.pt)
Date: Tue, 3 Apr 2001 17:03:08 +0200 (MET DST)
Subject: [Rd] Importing from Splus (PR#891)
Message-ID: <200104031503.RAA17822@pubhealth.ku.dk>

Full_Name: Ernesto Jardim
Version: 1.2.2
OS: SuSE Linux 6.4
Submission from: (NULL) (193.137.98.92)


I wanted to import an array, dim=c(28,12,17), from splus into R.On splus I did

dump(c("array"),file="dump.out)

I checked and Splus could source it.

Than, in R I tryied to source it with:

source("dump.out")

and got and error message:

> source("dump.out")
Error in eval.with.vis(expr, envir, enclos) :
        couldn't find function "new"



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Tue Apr  3 16:46:23 2001
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich Leisch)
Date: Tue, 3 Apr 2001 17:46:23 +0200
Subject: [Rd] lstat and NFS server not responding
In-Reply-To: <Pine.GSO.4.31.0104030657280.22896-100000@auk.stats>
References: <3AC916F5.373D48A7@bank-banque-canada.ca>
 <Pine.GSO.4.31.0104030657280.22896-100000@auk.stats>
Message-ID: <15049.61519.782716.944265@galadriel.ci.tuwien.ac.at>

>>>>> On Tue, 3 Apr 2001 07:06:47 +0100 (BST),
>>>>> Prof Brian D Ripley (PBDR) wrote:

  > On Mon, 2 Apr 2001, Paul Gilbert wrote:
  >> In a somewhat unusual circumstance I have been having trouble when
  >> making R from source and with "R CMD build dse"
  >> forcing the machine to look for an NFS server which was not available,
  >> and then stalling. Our system administrator traced this back to the fact
  >> that these go through all the directories back to "/" , doing an lstat
  >> on everything. He suggests that that seems odd, but it doesn't take long
  >> normally.  The problem was apparently caused by the fact that something
  >> (possible a cdrom) on /mnt had not been unmounted properly.
  >> 
  >> We have fixed the problem but since it was rather difficult to track
  >> down I thought  I would point it out in case others experience a similar
  >> difficulty. Also, is there a good explanation for doing an lstat on
  >> everything up to /?

  > Do you know what was doing it?  Since R CMD build is basically a Perl
  > program, I can only guess that Perl was doing this, and it looks like a
  > Perl quirk/bug that perhaps you need to track down and report (if your Perl
  > version is current).  One thing I did notice is that the R scripts use
  > Cwd::getcwd in Perl when the manual page recommends Cwd::cwd, and reading
  > the code suggests Cwd::getcwd is the culprit.  (Any explanation,
  > Fritz/Kurt?)

No particular reason ... the only one is that I've always used getcwd
(and didn't even know that cwd exists). My manpage says ``It is
recommended that cwd (or another *cwd() function) is used in all code
...'' which I wouldn't take as a particulartly strong recommendation
for cvw, but I'd be fine.

Paul, could you try if that fixes your problem (i.e., replace all
occurrences of ``getcwd'' by ``Cwd::cwd'' in the build script and run
it again)?

Thanks in advance,
Fritz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Apr  3 16:58:28 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 03 Apr 2001 17:58:28 +0200
Subject: [Rd] Importing from Splus (PR#891)
In-Reply-To: ernesto@ipimar.pt's message of "Tue, 3 Apr 2001 17:03:08 +0200 (MET DST)"
References: <200104031503.RAA17822@pubhealth.ku.dk>
Message-ID: <x2ae5y3rh7.fsf@blueberry.kubism.ku.dk>

ernesto@ipimar.pt writes:

> Full_Name: Ernesto Jardim
> Version: 1.2.2
> OS: SuSE Linux 6.4
> Submission from: (NULL) (193.137.98.92)
> 
> 
> I wanted to import an array, dim=c(28,12,17), from splus into R.On splus I did
> 
> dump(c("array"),file="dump.out)
> 
> I checked and Splus could source it.
> 
> Than, in R I tryied to source it with:
> 
> source("dump.out")
> 
> and got and error message:
> 
> > source("dump.out")
> Error in eval.with.vis(expr, envir, enclos) :
>         couldn't find function "new"
> 

Works OK for me from Splus 3.4 to R 1.2.2.... 

Does it happen with smaller arrays too, and could we see (parts of)
the actual dump file?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Apr  3 17:29:54 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 3 Apr 2001 17:29:54 +0100 (BST)
Subject: [Rd] Importing from Splus (PR#891)
In-Reply-To: <200104031503.RAA17822@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.31.0104031727090.10524-100000@toucan.stats>

On Tue, 3 Apr 2001 ernesto@ipimar.pt wrote:

> Full_Name: Ernesto Jardim
> Version: 1.2.2
> OS: SuSE Linux 6.4
> Submission from: (NULL) (193.137.98.92)
>
>
> I wanted to import an array, dim=c(28,12,17), from splus into R.On splus I did

Which version of S-PLUS?  If 5.x or 6.x, this was the wrong command,
as you needed oldStyle = T for S3 (and hence R) compatibility.


> dump(c("array"),file="dump.out)
>
> I checked and Splus could source it.
>
> Than, in R I tryied to source it with:
>
> source("dump.out")
>
> and got and error message:
>
> > source("dump.out")
> Error in eval.with.vis(expr, envir, enclos) :
>         couldn't find function "new"

But can we see the dump, or at least the part containing `new"?

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Apr  3 17:37:37 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 3 Apr 2001 17:37:37 +0100 (BST)
Subject: [Rd] lstat and NFS server not responding
In-Reply-To: <15049.61519.782716.944265@galadriel.ci.tuwien.ac.at>
Message-ID: <Pine.GSO.4.31.0104031732110.10524-100000@toucan.stats>

On Tue, 3 Apr 2001, Friedrich Leisch wrote:

> >>>>> On Tue, 3 Apr 2001 07:06:47 +0100 (BST),
> >>>>> Prof Brian D Ripley (PBDR) wrote:
>
>   > On Mon, 2 Apr 2001, Paul Gilbert wrote:
>   >> In a somewhat unusual circumstance I have been having trouble when
>   >> making R from source and with "R CMD build dse"
>   >> forcing the machine to look for an NFS server which was not available,
>   >> and then stalling. Our system administrator traced this back to the fact
>   >> that these go through all the directories back to "/" , doing an lstat
>   >> on everything. He suggests that that seems odd, but it doesn't take long
>   >> normally.  The problem was apparently caused by the fact that something
>   >> (possible a cdrom) on /mnt had not been unmounted properly.
>   >>
>   >> We have fixed the problem but since it was rather difficult to track
>   >> down I thought  I would point it out in case others experience a similar
>   >> difficulty. Also, is there a good explanation for doing an lstat on
>   >> everything up to /?
>
>   > Do you know what was doing it?  Since R CMD build is basically a Perl
>   > program, I can only guess that Perl was doing this, and it looks like a
>   > Perl quirk/bug that perhaps you need to track down and report (if your Perl
>   > version is current).  One thing I did notice is that the R scripts use
>   > Cwd::getcwd in Perl when the manual page recommends Cwd::cwd, and reading
>   > the code suggests Cwd::getcwd is the culprit.  (Any explanation,
>   > Fritz/Kurt?)
>
> No particular reason ... the only one is that I've always used getcwd
> (and didn't even know that cwd exists). My manpage says ``It is
> recommended that cwd (or another *cwd() function) is used in all code
> ...'' which I wouldn't take as a particulartly strong recommendation
> for cvw, but I'd be fine.

The code says (5.6.0)

# The 'natural and safe form' for UNIX (pwd may be setuid root)

sub _backtick_pwd {
    my $cwd;
    chop($cwd = `pwd`);
    $cwd;
}

# Since some ports may predefine cwd internally (e.g., NT)
# we take care not to override an existing definition for cwd().

*cwd = \&_backtick_pwd unless defined &cwd;

which looks like a recommendation for cwd to me.

> Paul, could you try if that fixes your problem (i.e., replace all
> occurrences of ``getcwd'' by ``Cwd::cwd'' in the build script and run
> it again)?

(just cwd seems to work.)

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jhallman@frb.gov  Tue Apr  3 20:52:46 2001
From: jhallman@frb.gov (jhallman@frb.gov)
Date: Tue, 3 Apr 2001 21:52:46 +0200 (MET DST)
Subject: [Rd] rle() fails with NA's (PR#892)
Message-ID: <200104031952.VAA19642@pubhealth.ku.dk>

Full_Name: Jeff Hallman
Version: 1.2.2
OS: Solaris
Submission from: (NULL) (132.200.32.33)


> rle(c(1, NA, 1)
$lengths
[1] 3

$values
[1] 1

should be as in Splus:

$lengths
[1] 1 1 1

$values
[1] 1 NA 1

The Splus implementation (which works fine in R) is:

rle <- function(x){
 if(!is.atomic(x))
    stop("Argument must have an atomic mode")
  if(length(x) == 0)
    return(list(lengths = numeric(0), values = x))
  if(length(x) == 1)
    return(list(lengths = 1, values = x))
  x.int <- match(x, unique(x))
  ends <- c(diff(x.int) != 0, T)
  list(lengths = diff(c(0, seq(along = x)[ends])), values = x[ends])
}


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Richard.Beare@cmis.csiro.au  Wed Apr  4 08:24:41 2001
From: Richard.Beare@cmis.csiro.au (Richard Beare)
Date: Wed, 04 Apr 2001 17:24:41 +1000
Subject: [Rd] Rprintf under windows?
Message-ID: <3ACACC39.224AE267@cmis.csiro.au>

Hi,

I've been using Rprintf from a shared library compiled under various
unix flavour for a while now. I get a warning about Rprintf being
undefined when constructing the library, but everything works OK after
loading.

I've also been cross compiling the same library using the mingw32 tools
for a while now, but the inclusion of Rprintf seems to be messing up
this process. It can't handle the missing symbol. Is anyone aware of a
trick with the mingw32 stuff to get around this?
Thanks

-- 
Richard Beare, CSIRO Mathematical & Information Sciences
Locked Bag 17, North Ryde, NSW 1670, Australia
Phone: +61-2-93253221 (GMT+~10hrs)  Fax: +61-2-93253200

Richard.Beare@cmis.csiro.au
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Apr  4 09:07:34 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 4 Apr 2001 09:07:34 +0100 (BST)
Subject: [Rd] Rprintf under windows?
In-Reply-To: <3ACACC39.224AE267@cmis.csiro.au>
Message-ID: <Pine.LNX.4.31.0104040902270.8373-100000@gannet.stats>

On Wed, 4 Apr 2001, Richard Beare wrote:

> Hi,
>
> I've been using Rprintf from a shared library compiled under various
> unix flavour for a while now. I get a warning about Rprintf being
> undefined when constructing the library, but everything works OK after
> loading.
>
> I've also been cross compiling the same library using the mingw32 tools
> for a while now, but the inclusion of Rprintf seems to be messing up
> this process. It can't handle the missing symbol. Is anyone aware of a
> trick with the mingw32 stuff to get around this?
> Thanks

The `trick' is to read the introductory documentation.

R-exts.texi has

The recommended procedure to use these is to include the header file
@file{R.h} in your C code by

@example
#include <R.h>
@end example

If you do that, Rprintf *is* defined (via R_ext/Print.h)

That said, I have never seen problems under Windows, so are you doing
that properly (using the correct import library)?

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gfhjgq@yahoo.com  Wed Apr  4 11:12:13 2001
From: gfhjgq@yahoo.com (gfhjgq@yahoo.com)
Date: Wed, 4 Apr 2001 12:12:13 +0200 (MET DST)
Subject: [Rd] ghhfh (PR#894)
Message-ID: <200104041012.MAA27161@pubhealth.ku.dk>

Full_Name: hjghjg
Version: 2.3
OS: windows
Submission from: (NULL) (196.12.46.150)


fasdfdsfasdfsd

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gfhjgq@yahoo.com  Wed Apr  4 11:12:03 2001
From: gfhjgq@yahoo.com (gfhjgq@yahoo.com)
Date: Wed, 4 Apr 2001 12:12:03 +0200 (MET DST)
Subject: [Rd] ghhfh (PR#893)
Message-ID: <200104041012.MAA27139@pubhealth.ku.dk>

Full_Name: hjghjg
Version: 2.3
OS: hghj
Submission from: (NULL) (196.12.46.150)


fasdfdsfasdfsd

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Wed Apr  4 12:42:59 2001
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich Leisch)
Date: Wed, 4 Apr 2001 13:42:59 +0200
Subject: [Rd] RE: [R] Can't install "e1071"
In-Reply-To: <Pine.LNX.4.31.0104031120530.995-100000@shell1.aracnet.com>
References: <8156A6FE684ED21194D20008C756F8DFA015B1@independence.esperion.com>
 <Pine.LNX.4.31.0104031120530.995-100000@shell1.aracnet.com>
Message-ID: <15051.2243.738040.641325@galadriel.ci.tuwien.ac.at>


[ taken from r-help to r-devel, which is the more appropriate place for
questions like this ]


>>>>> On Tue, 3 Apr 2001 11:22:52 -0700 (PDT),
>>>>> M Edward (Ed) Borasky (ME(B) wrote:

  > Here's the Windows version of this problem:

the problem is different, because the previous problems were with the
netpbm libraries (and hence not in my domain), whereas all the svm
code (where your problem seems to be) does not rely on external libraries.

  > F:\Team\R-20010325\ContributedSources>Rcmd INSTALL e1071*.gz

  > make: Entering directory `/cygdrive/d/rw1023/src/gnuwin32'
  > make DLLNM=  EXTRADOCS= \
  >   -C F:/Team/R-20010325/ContributedSources/R.INSTALL/e1071 PKG=e1071 RHOME=D:/rw
  > 1023 RLIB=D:/rw1023/library \
  >   -f D:/rw1023/src/gnuwin32/MakePkg
  > make[1]: Entering directory `/cygdrive/f/Team/R-20010325/ContributedSources/R.IN
  > STALL/e1071'
  > if [ ! -f ./TITLE -a -f ./DESCRIPTION ] ; then \
  >   perl D:/rw1023/share/perl/maketitle.pl ./DESCRIPTION > TITLE; \
  > fi
  > ---------- Making package e1071 ------------
  > mkdir -p D:/rw1023/library/e1071
  > cp -r   ./DESCRIPTION  ./INDEX  ./TITLE ./COPYING ./COPYRIGHT.svm.cpp ./README D
  > :/rw1023/library/e1071/
  >    adding build stamp to DESCRIPTION
  >   installing R files
  >   making DLL
  > make[2]: Entering directory `/cygdrive/f/Team/R-20010325/ContributedSources/R.IN
  > STALL/e1071/src'
  > make[3]: `libR.a' is up to date.
  > gcc    -ID:/rw1023/src/include -include D:/rw1023/src/include/globalvar.h  -Wall
  >  -O2   -c Rsvm.c -o Rsvm.o
  > Rsvm.c:3: svm.h: No such file or directory

Ahh, I see the bug: david included <svm.h> instead of "svm.h" ... I
think this should fix the problem. Could you try replacing

#include <svm.h>

with

#include "svm.h"

in Rsvm.c?

Thanks,
Fritz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From plummer@iarc.fr  Wed Apr  4 13:16:20 2001
From: plummer@iarc.fr (Martyn Plummer)
Date: Wed, 04 Apr 2001 14:16:20 +0200 (CEST)
Subject: [Rd] Can't install "e1071"
In-Reply-To: <15051.2243.738040.641325@galadriel.ci.tuwien.ac.at>
Message-ID: <XFMail.20010404141620.plummer@iarc.fr>

I have done a little digging, and the problem with netpbm on Red Hat
linux 7.0 is due to them not using the standard install mechanism for
the header files.  I have submitted a bug report (#34653). We'll see
what they say, but I hope they can get this fixed for 7.1

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Wed Apr  4 21:21:15 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Wed, 04 Apr 2001 22:21:15 +0200
Subject: [Rd] icon bitmap
Message-ID: <3ACB823B.B154899A@univie.ac.at>

do we have an "official"
16x16 bitmap of the R icon?

the windows distribution has a 32x32 icon.
i need a 16x16 version.
has somebody created one,
or should i just "downsample".


--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kylouskova@euromise.cz  Thu Apr  5 10:02:48 2001
From: kylouskova@euromise.cz (kylouskova@euromise.cz)
Date: Thu, 5 Apr 2001 11:02:48 +0200 (MET DST)
Subject: [Rd] CI for wilcoxon test (PR#895)
Message-ID: <200104050902.LAA07697@pubhealth.ku.dk>

Full_Name: Marketa Kylouskova
Version: 1.2.1
OS: Windows
Submission from: (NULL) (147.231.7.2)


Hi,
	I believe there is a bug in the extension of wilcox.test, namely in
determination of confidence intervals. I concentrated on the two-sample test
only. I examined and tested its performance on this working data set:

x<-rnorm(10,3,1)		# So I have two samples, I will test whether
y<-rnorm(10,0,1)		# x is greater than y, i.e. one-sided alternative greater

say 
x<-c(3.770684,4.654342,3.496403,1.772743,1.624953,2.645835,3.099477,1.706758,3.507709,1.982924)
y<-c(-0.8161288,0.1632923,0.6421997,1.9270846,-0.4668112,0.3587806,0.3312529,-0.5393900,
0.1057892,1.7963575)

then

wilcox.test(x,y,alternative="greater",conf.int=T)

gives

         Wilcoxon rank sum test 

data:  x and y 
W = 94, p-value = 0.0001624 
alternative hypothesis: true mu is greater than 0 
95 percent confidence interval:
 -3.344416        NA 

which is apparently contradictory (p-value is much less than 0.05 while exact CI
contains 0). I examined the code and I found that while the exact wilcoxon test
is applied on ranks of x (thus testing that mu = x  y is greater than 0), the
exact CI is computed based on differences y - x, hence finding a CI for mu = y 
x). The same applies, in my opinion, to approximative CI, where he optimization
interval is set as (mumin,mumax) with

mumin <- min(y) - max(x)
mumax <- max(y) - min(x)

I didnt go through other aspects, although I believe that the continuity
correction should be checked if some changes are made, and also that some closer
look onto definitions of uci and lci in the exact CI computations should be made
(here it depends on your definition of the CI for exact distributions, i.e.
whether the CI = {uci<=mu<lci} (then I think its OK) or CI = {uci<=mu<=lci}
(then I think lci= diffs[ql] and not diffs[ql + 1]). Could this be specified in
the documentation?

Thank you in advance for checking my suspicions :) and for your reaction.

	Marketa Kylouskova
	kylouskova@euromise.cz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Marketa.Kylouskova@euromise.cz  Thu Apr  5 11:31:12 2001
From: Marketa.Kylouskova@euromise.cz (Marketa.Kylouskova@euromise.cz)
Date: Thu, 5 Apr 2001 12:31:12 +0200 (MET DST)
Subject: [Rd] Optimize: difference between R for Linux and Windows (PR#896)
Message-ID: <200104051031.MAA09137@pubhealth.ku.dk>


--Message-Boundary-4491
Content-type: text/enriched; charset=US-ASCII
Content-transfer-encoding: 7BIT
Content-description: Mail message body

<flushboth><color><param>0100,0100,0100</param><FontFamily><param>Times New Roman</param>Dear developers,</flushboth>

<flushboth>	I have a problem with some discrepancy in the performance of the 
function <FontFamily><param>Courier New</param><smaller>optimize<FontFamily><param>Times New Roman</param><bigger> between R 1.2.1 for Windows and R 1.2.2 (and less) 
for Linux. While trying to correct the wilcox.test (see my previous bug 
report) I encountered the following problem: I wanted to check the 
behaviour of the function <FontFamily><param>Courier New</param><smaller>wdiff<FontFamily><param>Times New Roman</param><bigger> used in the search for CI limits.</flushboth>


<paraindent><param>out</param><FontFamily><param>Courier New</param><smaller>x<<-rnorm(10,3,1)	</paraindent>

<paraindent><param>out</param>y<<-rnorm(10,0,1)	<bigger></paraindent>


<paraindent><param>out</param><FontFamily><param>Times New Roman</param><bigger>say </paraindent>


<flushboth><FontFamily><param>Courier New</param><smaller>x<<-
c(3.770684,4.654342,3.496403,1.772743,1.624953,2.645835,
3.099477,1.706758,3.507709,1.982924)</flushboth>

<flushboth>y<<-c(-0.8161288,0.1632923,0.6421997,1.9270846,-
0.4668112,0.3587806,0.3312529,-0.5393900,</flushboth>

<flushboth>0.1057892,1.7963575)</flushboth>


<paraindent><param>out</param>mu<<-0</paraindent>

<paraindent><param>out</param>n.x<<-length(x)</paraindent>

<paraindent><param>out</param>n.y<<-length(y)</paraindent>


<paraindent><param>out</param>wdiff <<- function(d, zq) {</paraindent>

<paraindent><param>out</param>   	dr <<- rank(c(x- mu -d,y))</paraindent>

<paraindent><param>out</param>   	NTIES.CI <<- table(dr)</paraindent>

<paraindent><param>out</param>   	dz <<- (sum(dr[seq(along = x)]) - n.x * (n.x + 1)/2 -
 n.x * n.y/2)</paraindent>

<paraindent><param>out</param>	CORRECTION.CI<<-0</paraindent>

<paraindent><param>out</param>   SIGMA.CI <<- sqrt((n.x * n.y/12) * ((n.x + n.y + 1) - 
sum(NTIES.CI^3 - NTIES.CI)/((n.x + n.y) * (n.x + 
n.y - 1))))</paraindent>

<paraindent><param>out</param>   dz <<- (dz - CORRECTION.CI)/SIGMA.CI</paraindent>

<paraindent><param>out</param>   abs(dz - zq)</paraindent>

<paraindent><param>out</param>}</paraindent>


<flushboth><FontFamily><param>Times New Roman</param><bigger>To examine the behivour I plotted the course of the <FontFamily><param>Courier New</param><smaller>wdiff<FontFamily><param>Times New Roman</param><bigger> for a lot of d 
and three zq (0.05, 0.5, 0.95) and I let optimize to compute the minimums. 
Then I plotted it. </flushboth>


<paraindent><param>out</param><FontFamily><param>Courier New</param><smaller>mumin<<-min(x)-max(y)</paraindent>

<paraindent><param>out</param>mumax<<-max(x)-min(y) </paraindent>


<paraindent><param>out</param>lll<<-seq(mumin,mumax,by=0.01)</paraindent>

<paraindent><param>out</param>wdl<<-apply(cbind(lll),1,wdiff,zq=qnorm(0.05))</paraindent>

<paraindent><param>out</param>wdm<<-apply(cbind(lll),1,wdiff,zq=qnorm(0.50))</paraindent>

<paraindent><param>out</param>wdu<<-apply(cbind(lll),1,wdiff,zq=qnorm(0.95))</paraindent>


<paraindent><param>out</param>plot(lll,wdl,type="l")</paraindent>

<paraindent><param>out</param>lines(lll,wdm,lty=4)</paraindent>

<paraindent><param>out</param>lines(lll,wdu,lty=7)</paraindent>



<paraindent><param>out</param>ol<<-
optimize(wdiff,c(mumin,mumax),zq=qnorm(0.05))$minimu
m</paraindent>

<paraindent><param>out</param>om<<-optimize(wdiff,c(mumin,mumax),zq=qnorm(0.5))$minimum</paraindent>

<paraindent><param>out</param>ou<<-
optimize(wdiff,c(mumin,mumax),zq=qnorm(0.95))$minimu
m</paraindent>


<paraindent><param>out</param>abline(v=ol)</paraindent>

<paraindent><param>out</param>abline(v=om,lty=4)</paraindent>

<paraindent><param>out</param>abline(v=ou,lty=7)</paraindent>



<flushboth><FontFamily><param>Times New Roman</param><bigger>When it ran on my home Linux (R 1.2.2 (2001-02-26) Compiled from 
source tarball on Linux with gcc version 2.95.2 19991024) it computed the 
minimum for zq = 0.05 only, for the others it found something totally 
wrong (see attached figure shouldntbe.gif). Then I checked it at work on 
S+2000 and R 1.2.1 for Windows and it gave the correct results and 
picture (see attached figure shouldbe.gif). Could you, please, advise me 
whether the problem stands in the platform version or in my compiled 
version, and what should I do to make it work properly?</flushboth>


<flushboth>Thank you very much for your help.</flushboth>


<flushboth>	Marketa Kylouskova</flushboth>

<flushboth>	{ HYPERLINK "mailto:marketa@ucw.cz" }marketa@ucw.cz</flushboth>

<flushboth>	kylouskova@euromise.cz</flushboth>



<nofill>

--Message-Boundary-4491
Content-type: text/plain; charset=US-ASCII
Content-disposition: inline
Content-description: Attachment information.

The following section of this message contains a file attachment
prepared for transmission using the Internet MIME message format.
If you are using Pegasus Mail, or any another MIME-compliant system,
you should be able to save it or view it from within your mailer.
If you cannot, please ask your system administrator for assistance.

   ---- File information -----------
     File:  shouldbe.gif
     Date:  5 Apr 2001, 11:35
     Size:  6826 bytes.
     Type:  GIF-image

--Message-Boundary-4491
Content-type: Image/GIF; name="shouldbe.gif"
Content-disposition: attachment; filename="shouldbe.gif"
Content-transfer-encoding: BASE64

R0lGODdhGANjAvcAAAAAAIAAAACAAICAAAAAgIAAgACAgMDAwMDcwKbK8EAgAGAgAIAgAKAg
AMAgAOAgAABAACBAAEBAAGBAAIBAAKBAAMBAAOBAAABgACBgAEBgAGBgAIBgAKBgAMBgAOBg
AACAACCAAECAAGCAAICAAKCAAMCAAOCAAACgACCgAECgAGCgAICgAKCgAMCgAOCgAADAACDA
AEDAAGDAAIDAAKDAAMDAAODAAADgACDgAEDgAGDgAIDgAKDgAMDgAODgAAAAQCAAQEAAQGAA
QIAAQKAAQMAAQOAAQAAgQCAgQEAgQGAgQIAgQKAgQMAgQOAgQABAQCBAQEBAQGBAQIBAQKBA
QMBAQOBAQABgQCBgQEBgQGBgQIBgQKBgQMBgQOBgQACAQCCAQECAQGCAQICAQKCAQMCAQOCA
QACgQCCgQECgQGCgQICgQKCgQMCgQOCgQADAQCDAQEDAQGDAQIDAQKDAQMDAQODAQADgQCDg
QEDgQGDgQIDgQKDgQMDgQODgQAAAgCAAgEAAgGAAgIAAgKAAgMAAgOAAgAAggCAggEAggGAg
gIAggKAggMAggOAggABAgCBAgEBAgGBAgIBAgKBAgMBAgOBAgABggCBggEBggGBggIBggKBg
gMBggOBggACAgCCAgECAgGCAgICAgKCAgMCAgOCAgACggCCggECggGCggICggKCggMCggOCg
gADAgCDAgEDAgGDAgIDAgKDAgMDAgODAgADggCDggEDggGDggIDggKDggMDggODggAAAwCAA
wEAAwGAAwIAAwKAAwMAAwOAAwAAgwCAgwEAgwGAgwIAgwKAgwMAgwOAgwABAwCBAwEBAwGBA
wIBAwKBAwMBAwOBAwABgwCBgwEBgwGBgwIBgwKBgwMBgwOBgwACAwCCAwECAwGCAwICAwKCA
wMCAwOCAwACgwCCgwECgwGCgwICgwKCgwMCgwOCgwADAwCDAwEDAwGDAwIDAwKDAwP/78KCg
pICAgP8AAAD/AP//AAAA//8A/wD//////ywAAAAAGANjAgAI/gD/CRxIsKDBgwgTKlzIsKHD
hxAjSpxIsaLFixgzatzIsaPHjyBDihxJsqTJkyhTqlzJsqXLlzBjypxJs6bNmzhz6tzJs6fP
n0CDCh1KtKjRo0iTKl3KtKnTp1CjSp1KtarVq1izat3KtavXr2DDih1LtqzZs2jTql3Ltq3b
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
XXXXZbddd9+FN15556W3XnsjDQgAOw==
--Message-Boundary-4491
Content-type: text/plain; charset=US-ASCII
Content-disposition: inline
Content-description: Attachment information.

The following section of this message contains a file attachment
prepared for transmission using the Internet MIME message format.
If you are using Pegasus Mail, or any another MIME-compliant system,
you should be able to save it or view it from within your mailer.
If you cannot, please ask your system administrator for assistance.

   ---- File information -----------
     File:  shouldntbe.gif
     Date:  5 Apr 2001, 11:35
     Size:  42371 bytes.
     Type:  GIF-image

--Message-Boundary-4491
Content-type: Image/GIF; name="shouldntbe.gif"
Content-disposition: attachment; filename="shouldntbe.gif"
Content-transfer-encoding: BASE64

R0lGODdhDAJhAvcAAAQCBHyKbFxCHKzCnFxiTLSKbDwSBMSmfNzi1IRiPEwqBIxyTGxCJNzC
nJSifGxSLLSadJyCXFQ2FNS2lOzSrDQWBJxyVKyOZIRqRHxSNCwOBDweBPz29GQ6HMyujMSe
fKyCZPzivAQKBLSSbOzGpFw+FOzWzEwiBExWRJx6VJRqTHxaNJR6VGxKJLyifPTatIxiRFwy
FKSKZFw2FOS+nLSShAwCBGRKJMTStMymhEwyFHRaNLyadNS+nIxqREQmBPTm5KR6XIRaPGRy
XJRyTOTGvKSCXNSujPzqxHRKLGRCHOTKpHRSLNy2lKyWbDQOBEQeBKyKZLySdIxqVHxiPDwa
BOTq3IRiTFQuDOTCnPzWtKyOdMSejOzOrJx+ZPzatFw6JMzaxJR2XKSGbNSunAQGBJSWlMSm
jKy+lLSedFQ6FPTSrCQiJGQ+HMSifPzmvAwKBLSWbEwmBJx+VHxeRGxONIxmRFw6FAwGB8yq
ibyee4xuTIRePpR2VKSGZNSykmRGJKyqrHR+ZNTW1FxWXJyujFxqVIyefFReTLTCrPz+/Oze
1KyKfISOdLyWfMzWvOzu5NTezHRWPNy2pGRuVFQyElw+JNy+nPTOrLSObTwWBcSqhIRmREwu
DGxGJdzGpDQaBJx2VqySbHxWNiwSDPz6/KyGZuzKp5RuTXxePJR+XGxOLLSWfKR+XvzuzHRO
LXRWNNy6lzQSBUQiBeTGpPzevPTWtLTGpNzm1NS6lMyyjLyWdIxuVIRmTKySdAQCDFxCJMSm
hIRiREwqDIxyVGxSNLSafJyCZFQ2HDQWDKyObIRqTDweDGQ6JMSehPzixAQKDLSSdFw+HEwi
DJx6XHxaPJR6XGxKLLyihIxiTKSKbFw2HAwCDGRKLMymjHRaPLyafIxqTEQmDIRaRJRyVKSC
ZNSulPzqzGRCJHRSNDQODEQeDKyKbHxiRDwaDOTq5FQuFOTCpPzavAQGDLSefFQ6HPTStGQ+
JMSihPzmxAwKDLSWdEwmDJx+XIxmTFw6HCwAAAAADAJhAgAI/gDL9RNYLoIfgwaNmDJykJ0f
UxH4AIgwRsaYKH6iXNyosSPHi9ouhByZKUomGcoujIiiTEY0UZlEFYBJM6ZNUS9fZnISjafP
nj33QdgVR4oTR0chGAU3dKixXU13PaW3i6oxHvSwas3K1Y2LDzxcgBNLdqyeA3rcpF2LT08w
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
aQ56kxs6o4vjpAs5pFc6kid5o2+6pHM6k2e6o7c5evrsO3JrLWs3BEvjjKv43h66Ypfqng7m
qke2nKv3izfym4t19jrhfHf5OP/5rpv0/n6jI6Z3uqs7dfZauX0b+6SfI4/zqZ96eqZXMrND
45lXe6RHO7YXO7dLe8FiOdMSraCXeHGeeKA/4Xrnei4bOSI3NKzXdxirOrmj+mK3brpLNr17
NbuiO6hnN0brOI1rI6Qjercbegh/daFLsLcrO0ryeVIXPGVv+146/MI3M7RLPMZD/JjDbDeG
eDCb44tf8l8/443rOZ7bdjOHa08vO0CWfLn7eTCbPBe6fOu6JLLnedVKY6+Heje3s/kOtsFC
qsNfvMZnO7X/PMFzebInPcZD58D/ZdEvfcU/eXg2+0xPfdFn/bRzPJ37fElrMVfDe6o74bWb
ahmcfE6WqkxW/uzaA+O7P2PZG333tn0Zlj25qn2+17i2k73SgzVX3jp+/qrH5+kblrfWe/2u
0/2n+7q2F7sEX3Yp2yTRe3usFjvkg2yYL/vkZzzWd76rm/jEDzPeU6RdS/Ncj2UUGr7MYnYZ
UPz2Nue7B7txDq6Z3juZ5/2v474Vqr7Yu/upqvsxZnbrs75mp7ztE2yC1m1+t7rf7qfriyN0
z/eoez7MR/rmj/7oc/7Lz6bd22jBK/31U/nzh7/c1+jhnz+Sh7h0SzcpM7e3wn3KI33f23xl
ryz8H3o3xuHOo3XVo3piCiZAQFI0kGBBgwcREhRocOFAABwSDlw4MWJFixcVYrQI/kBix4wa
ETYsKFIRSZAnUaaMWOrhQIgQFb10OTJhQ5YwP3osmVMnwlKlDprUSbJh0ZxGhx6NyAEAUJRM
ae6USnGqR5NXg0alytBqz65SuVYVS3Urz4JQvwpNOjZtW7cfybpl6rRiXLZhiUa9a5ev2757
/TrkKbJsWYVlzOpFqpggzK2Ls6qUDLZhmb+UHeKcHDKyXo1qOV8EvRmrVI6jxXrdnJh1Sstv
VQodjXp1bZQsweamDVdw3twRfUulG1op47WYjy82yrFuTqYAoDsODJh16ctIDWNPPv2y6pjM
YQPnHj712r8UwdfkTd2s3fXnx1OHP7YMdOifyRNMD1p5/uuYOCE7brsBkSswIebcWwk328T7
zUGMZvOsQQYdbKgl0b6i8MGedjsQtg4729A7DUmMqKmfYnoPJKpuUq9AtQKMccISXQRrLou0
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

--Message-Boundary-4491--

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Marketa.Kylouskova@euromise.cz  Thu Apr  5 12:19:42 2001
From: Marketa.Kylouskova@euromise.cz (Marketa.Kylouskova@euromise.cz)
Date: Thu, 5 Apr 2001 13:19:42 +0200 (MET DST)
Subject: [Rd] PR#896
Message-ID: <200104051119.NAA09993@pubhealth.ku.dk>

Sorry to all that are angry about the form of my previous mail. I 
didn't realise what would happen :((.

Here it is in (hopefully) plain text (if my mailer doesn't spoil it again):

##############

Dear developers,
	I have a problem with some discrepancy between R 1.2.1 for 
Windows and R 1.2.2 (and less) for Linux. While trying to correct 
the wilcox.test (see my previous bug report) I encountered the 
following problem: I wanted to check the behaviour of the function 
wdiff used in the search for CI limits.

x<-rnorm(10,3,1)	
y<-rnorm(10,0,1)	
say 

x<-
c(3.770684,4.654342,3.496403,1.772743,1.624953,2.645835,3.0994
77,1.706758,3.507709,1.982924)
y<-c(-0.8161288,0.1632923,0.6421997,1.9270846,-
0.4668112,0.3587806,0.3312529,-0.5393900,
0.1057892,1.7963575)

mu<-0
n.x<-length(x)
n.y<-length(y)

wdiff <- function(d, zq) {
   	dr <- rank(c(x- mu -d,y))
   	NTIES.CI <- table(dr)
   	dz <- (sum(dr[seq(along = x)]) - n.x * (n.x + 1)/2 - n.x * n.y/2)
	CORRECTION.CI<-0
   SIGMA.CI <- sqrt((n.x * n.y/12) * ((n.x + n.y + 1) - 
sum(NTIES.CI^3 - NTIES.CI)/((n.x + n.y) * (n.x + n.y - 1))))
   dz <- (dz - CORRECTION.CI)/SIGMA.CI
   abs(dz - zq)
}

To examine the behivour I plotted the course of the wdiff for a lot of 
d and three zq (0.05, 0.5, 0.95) and I let optimize to compute the 
minimums. Then I plotted it. 

mumin<-min(x)-max(y)
mumax<-max(x)-min(y) 

lll<-seq(mumin,mumax,by=0.01)
wdl<-apply(cbind(lll),1,wdiff,zq=qnorm(0.05))
wdm<-apply(cbind(lll),1,wdiff,zq=qnorm(0.50))
wdu<-apply(cbind(lll),1,wdiff,zq=qnorm(0.95))

plot(lll,wdl,type="l")
lines(lll,wdm,lty=4)
lines(lll,wdu,lty=7)


ol<-optimize(wdiff,c(mumin,mumax),zq=qnorm(0.05))$minimum
om<-optimize(wdiff,c(mumin,mumax),zq=qnorm(0.5))$minimum
ou<-optimize(wdiff,c(mumin,mumax),zq=qnorm(0.95))$minimum

abline(v=ol)
abline(v=om,lty=4)
abline(v=ou,lty=7)


When it ran on my home Linux (R 1.2.2 (2001-02-26) Compiled 
from source tarball on Linux with gcc version 2.95.2 19991024) it 
computed the minimum for zq = 0.05 only, for the others it found 
something totally wrong (three curves with "valleys", one line 
indicating the right minimum, one line indicating where the 
computed minimum surely doesn't lie; moreover, it was the same 
for both 0.5 and 0.95). Then I checked it at work on S+2000 and R 
1.2.1 for Windows and it gave the correct results and picture (three 
curves with "valleys" and three lines indicating where the minimum 
lies). Could you, please, advise me whether the problem stands in 
the platform version or in my compiled version, and what should I 
do to make it work properly?

Thank you very much for your help.

	Marketa Kylouskova
	marketa@ucw.cz
	kylouskova@euromise.cz

 



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From plummer@iarc.fr  Thu Apr  5 16:14:11 2001
From: plummer@iarc.fr (Martyn Plummer)
Date: Thu, 05 Apr 2001 17:14:11 +0200 (CEST)
Subject: [Rd] Can't install "e1071"
In-Reply-To: <XFMail.20010404141620.plummer@iarc.fr>
Message-ID: <XFMail.20010405171411.plummer@iarc.fr>

On 04-Apr-2001 Martyn Plummer wrote:
> I have done a little digging, and the problem with netpbm on Red Hat
> linux 7.0 is due to them not using the standard install mechanism for
> the header files.  I have submitted a bug report (#34653). We'll see
> what they say, but I hope they can get this fixed for 7.1

Hmmmm.  I'm not the first person to submit this bug, and I won't be the
last.  Users keep submitting it and Red Hat keeps closing it, claiming
that the bug is resolved.  There is no official erratum/update, despite
the fact the version of netpbm-devel that ships with Red Hat 7.0 is
unusable.  But apparently the version on Rawhide (Red Hat's rolling beta
release) does fix this problem.  So users should go and download that.

Right.

I'm going to lie down now.

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From David James <dj@research.bell-labs.com>  Thu Apr  5 17:15:45 2001
From: David James <dj@research.bell-labs.com> (David James)
Date: Thu, 5 Apr 2001 12:15:45 -0400 (EDT)
Subject: [Rd] Re: [R] Hmisc and Design libraries
Message-ID: <200104051615.MAA10251@jessie.research.bell-labs.com>

Great news!  

Having spent a significant amount of time porting/mantaining some 
packages on S4/Splus 5.x and R, I'm interested in your experience 
as you port Hmisc and Design; I'd like to know of your progress in 
order to help improve available R/Splus portability tools both at the C and 
the S language code.   These tools include the package SLanguage written 
by John Chambers, and the C macros ported to R by Duncan Temple Lang, 
Brian Ripley, Saikat DebRoy (and others?) in "Rdefines.h";  the core macros 
are mainly those in Appendix A of the green book (Chambers, "Programming 
with Data"), but you'll probably need to write additional ones, as I have 
done for my own packages. [BTW, Rdefines.h needs to be updated in R 1.2.2 
(and previous 1.2.x?) -- details will follow when I submit a bug report on 
this.]

Notice that by portability we/I typically mean "from Splus -> R", but
more and more we may start seeing "R->Splus" as well.

Should we think of forming an R/Splus portability SIG (Special Interest Group)?

Regards,

David A. James
Statistics Research, Room 2C-253            Phone:  (908) 582-3082       
Bell Labs, Lucent Technologies              Fax:    (908) 582-3340
Murray Hill, NJ 09794-0636
----------------------------------------------------------------------
> Date: Thu, 05 Apr 2001 10:31:42 -0400
> From: Frank E Harrell Jr <fharrell@virginia.edu>
> X-Accept-Language: en
> MIME-Version: 1.0
> To: rhelp <r-help@stat.math.ethz.ch>
> Subject: [R] Hmisc and Design libraries
> Content-Transfer-Encoding: 7bit
> 
> After several nice and informative discussions with Bill Venables,
> Duncan Temple Lang, Tony Rossini, Martin Maechler, and Robert
> Gentleman, I am pleased to announce that I am becoming an R user
> and have begun porting the Hmisc and Design libraries to R. 
> I have been very impressed with the maturity of R and with its 
> logical design, particularly its online documentation setup and
> the way packages are downloaded and installed, not to mention the
> scoping rules and other fundamentals.  Another factor that has
> influenced me is the excellent book "Rebel Code" by Glyn Moody
> which chronicles the open source movement and Linux.  I wish
> to especially thank Bill Venables for his friendly wisdom.
> 
> My guess is that porting the libraries can be largely
> accomplished in the next 4 months (there are about
> 350 functions), especially if any experienced R programmers
> who want to use the libraries would like to help.  I am
> in the process of setting up an ssh-accessed CVS repository
> for each library so that functions can be checked in and
> out.  Anyone wanting to help will of course get plenty
> of acknowledgement.  I have already debugged about 1/4
> of the Hmisc library under R.
> 
> Descriptions of functions in my libraries may be found
> at http://hesweb1.med.virginia.edu/biostat/s/splus.html
> 
> As I will be maintaining the libraries for S-Plus (both
> Windows and Linux/Unix versions, S version 3 and 4
> languages) and for R, I would appreciate learning how
> other users who do the same set up their directories
> to facilitate distributing libraries for both R and
> S-Plus in a way that is also consistent with CVS.  In
> other words, I would like to be able to construct
> distributions suitable for CRAN without making it too
> hard to run Unix/Linux shell scripts that also create
> S-Plus distributions.  I am using a single code base
> for all platforms except for Fortran and C code
> where I allow for single precision objects in S-Plus.
> 
> As I am now Microsoft-free (one of my colleagues creates
> Microsoft Windows files for S-Plus; I have found that
> Linux is amazingly more reliable and powerful than
> Windows.  I have set up a web page at
> http://hesweb1.med.virginia.edu/biostat/s/linux.setup.html
> to help Windows users set up Linux) I am honestly not 
> motivated to do special work to make a Windows distribution
> for R.  If a Windows R user who has suitable Fortran and
> C compilers wishes to periodically create a Windows
> distribution once the libraries work under R on
> Linux/Unix that would be great.
> 
> I am very glad to join the talented R community, and look
> forward to collaborating with other users.
> 
> Sincerely,
> 
> Frank Harrell
> -- 
> Frank E Harrell Jr              Prof. of Biostatistics & Statistics
> Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
> U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request@stat.math.ethz.ch
> 
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Apr  5 20:19:00 2001
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 05 Apr 2001 14:19:00 -0500
Subject: [Rd] welcome aboard
References: <3ACC81CE.8767522A@virginia.edu>
Message-ID: <3ACCB714.10AB00A4@bank-banque-canada.ca>

Frank
>As I will be maintaining the libraries for S-Plus (both
>Windows and Linux/Unix versions, S version 3 and 4
>languages) and for R, I would appreciate learning how
>other users who do the same set up their directories
>to facilitate distributing libraries for both R and
>S-Plus in a way that is also consistent with CVS.  In
>other words, I would like to be able to construct
>distributions suitable for CRAN without making it too
>hard to run Unix/Linux shell scripts that also create
>S-Plus distributions.

I have have just completed a multi-year transition from developing my
code in Splus and  wanting it to run also in R, to developing in R and
wanting it to run also in Splus. (I still only use Splus 3.3.) The code
was never a big issue for me as I have been careful to avoid anything
depending on fundamental differences between R and S.

Although I have been using R for many years (mainly to avoid debugging
For loops) the real start of my transition was the remarkable support
for help documentation starting sometime just before R 1.0. The final
act was to move all my test programs from my own ad hoc system to R's
tests directories, so that the tests are run by R CMD check. With a few
scripts and a Makefile I now mimic R's approach to run my tests in Splus
and to generate html help for S. I would be happy to send these if you
are interested. I maintain about 1000 functions in a dozen packages
organized into three bundles (one of which I do not distribute).

There is no problem  using  CVS, but I use it only for co-ordinating my
home version with my work version, so there may be complications I am
not aware of. I don't use Windows and there are undoubtedly
complications, although I think I now have my packages in a state where
there are no serious problems.

Here are a few points you may want to consider.

1/ Up until very recently I tried to mimic a few S functions in R. I
have just converted to mimicking the R conventions in S and I find it
works much better. To do this I have S functions for a few things like
is.R(), Platform(), Sys.info(). This works better, in part because the
cross platform issues are very well thought out in R. (But to be fair,
in S I only try to make it work in Unix and I have not been changing
versions.) I will distribute these functions, but it would make sense to
have a common effort if others are interested.

2/ In the few cases where I need a slightly different definition of
something for S, I keep the functions in an S subdirectory in the R
package structure. I source these first when I build the S version, and
then I use is.R() to avoid redefining them when I source code from the R
subdirectory.

3/ If there is a logical way to divide things up into multiple packages
(and perhaps put them together into a bundle) then it is a good idea. It
is much quicker to build and test changes this way. (At least once you
get the dependencies worked out.)

4/ I keep fortran code in the R package src directory and my Splus
install script compiles it there. For R/S code I essentially build an R
like package for Splus and then have an install script that sources
things from the S and R subdirectories to generate .Data.

Best of luck with your effort, and let me know if you would like my
Makefile or any of my scripts or other code.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Thu Apr  5 20:30:11 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Thu, 5 Apr 2001 21:30:11 +0200
Subject: [Rd] Detaching "ctest"
In-Reply-To: <Pine.GSO.4.20.0104031001530.13680-100000@laplace>
References: <15044.46028.686427.367469@mithrandir.hornik.net>
 <Pine.GSO.4.20.0104031001530.13680-100000@laplace>
Message-ID: <15052.51139.270582.27097@mithrandir.hornik.net>

>>>>> Jonathan Rougier writes:

> On Fri, 30 Mar 2001, Kurt Hornik wrote:
>> >>>>> Peter Dalgaard BSA writes:
>> 
>> > ...
>> 
>> >> configure("packages")
>> 
>> > which could do different things depending on whether you were using a
>> > GUI, terminal interface, ESS, or maybe even batch mode. In simple
>> > modes it might simply be based on edit()ing the output of
>> 
>> >   data.frame(package=.packages(all=T),
>> >              load=!is.na(match(.packages(all=T),.packages())))
>> 
>> > - although you might want to distinguish between the usual profile-ish
>> > things (site-level/user-level/directory-level/workspace-specific) too.
>> > With a GUI, you'd likely want something with checkboxes instead.
>> 
>> Nice idea!  Two remarks.
>> 
>> * We might want similar ways of setting `preferences' such as options.
>> [E.g., via something like Emacs M-x customize, or in a GUI style.]
>> 
>> * In any case, as far as I am concerned the real problem is not having a
>> convenient interface but on agreeing on what the choices should be,
>> and how well-educated users or site admins need to be to make the
>> right choices.  E.g., when it comes to setting a default profile for
>> packages, how does the user find out which packages he wants?

> I certainly agree with this last point.  However, the problem is
> lessened if the user can use .Rprofile to tune the set-up.  The
> current arrangement prevents that (or, at least, makes it rather
> inelegant) by using .First to load ctest (and, in the future, other
> mandatory packages?).  It seems to me that in an ideal world .Rprofile
> would be the very last thing invoked before the prompt.  That way
> whatever set-up is put in place by the system administrator or the
> default, the individual user still has control.

But this is exactly what happens---settings from .Rprofile do override
the system and site defaults.  The question is whether .First should be
used for package setup, or something else ...

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kohnicho@comp.nus.edu.sg  Fri Apr  6 09:13:57 2001
From: kohnicho@comp.nus.edu.sg (Nicholas Lewin-Koh)
Date: Fri, 6 Apr 2001 16:13:57 +0800 (GMT-8)
Subject: [Rd] Pointers to external objects
In-Reply-To: <15052.51139.270582.27097@mithrandir.hornik.net>
Message-ID: <Pine.GSO.4.21.0104061555280.8991-100000@sununx.comp.nus.edu.sg>

Hi,
I am starting to work on some data structures (quad trees, bounding box
trees etc.) I would like to build these structures in C, and essentially
have a new primative data type accessible that is persistant through an R
session and can be written and retrived from .RData .

I think this is possible from my reading of the documentation, but I am
not exactly sure how to do it. In the R lang manual in section 2 objects
there is a mention of typeof returning externalptr I think this is what i
want. Let me try to be a bit more specific because i am getting confused
too.

> kdtree<-build.tree(x,y,...) # two vectors of x and y coordinates 
                              # kdtree is a list of class tree and
                              # contains a pointer to the actual tree
                              # stucture
> objects.in.range(kdtree,xmin,xmax,ymin,ymax) # returns a list of 
                                               # external pointers to the
                                               # data with x,y in the
                                               # given range 
> q() # quit the R session, but if the user saves the session then kdtree
      # is saved and can be recovered when the user restarts R

I know I could do this using lists, but I am trying to keep the memory
overhead down.

Thanks,
Nicholas  



                 CH3
                  |
                  N             Nicholas Lewin-Koh
                 / \            Dept of Statistics
           N----C   C==O        Program in Ecology and Evolutionary Biology
          ||   ||   |           Iowa State University
          ||   ||   |           Ames, IA 50011
          CH    C   N--CH3      http://www.public.iastate.edu/~nlewin
            \  / \ /            nlewin@iastate.edu
             N    C
             |   ||             Currently
            CH3   O             Graphics Lab
                                School of Computing
                                National University of Singapore
     The Real Part of Coffee    kohnicho@comp.nus.edu.sg


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@stat.umn.edu  Fri Apr  6 13:06:33 2001
From: luke@stat.umn.edu (Luke Tierney)
Date: Fri, 6 Apr 2001 07:06:33 -0500 (CDT)
Subject: [Rd] Pointers to external objects
In-Reply-To: <Pine.GSO.4.21.0104061555280.8991-100000@sununx.comp.nus.edu.sg>
 from Nicholas Lewin-Koh at "Apr 6, 2001 04:13:57 pm"
Message-ID: <200104061206.f36C6XD75674@muskrat.stat.umn.edu>

Nicholas Lewin-Koh wrote:
> Hi,
> I am starting to work on some data structures (quad trees, bounding box
> trees etc.) I would like to build these structures in C, and essentially
> have a new primative data type accessible that is persistant through an R
> session and can be written and retrived from .RData .
> 
> I think this is possible from my reading of the documentation, but I am
> not exactly sure how to do it. In the R lang manual in section 2 objects
> there is a mention of typeof returning externalptr I think this is what i
> want. Let me try to be a bit more specific because i am getting confused
> too.
> 
> > kdtree<-build.tree(x,y,...) # two vectors of x and y coordinates 
>                               # kdtree is a list of class tree and
>                               # contains a pointer to the actual tree
>                               # stucture
> > objects.in.range(kdtree,xmin,xmax,ymin,ymax) # returns a list of 
>                                                # external pointers to the
>                                                # data with x,y in the
>                                                # given range 
> > q() # quit the R session, but if the user saves the session then kdtree
>       # is saved and can be recovered when the user restarts R
> 
> I know I could do this using lists, but I am trying to keep the memory
> overhead down.
> 

External pointers can be used to manage lifetimes of externally
allocated data within a single R session.  If an external pointer is
saved its pointer address is saved as NULL (or maybe it isn't saved at
all--I forget) but restoring an external pointer from a saved
workspace will produce an external pointer with NULL for its pointer
address.  The reason for this is that there is no automatic way to
save or restore the appropriate memory layout that the pointer refers
to.

Ideally to support this sort of thing we would need a customizable
serialization (or pickling/unpickling so use the Python terms)
mechanism, but that isn't available now.

For now, your best bet is probably to do somehting like

    build.tree(x,y,...) returns list(data=list(x,y,...), internal=<externptr>)

to save in your object enough R data to allow the internal structure
to be rebuilt, and in the C code that uses the external pointer make
sure the pointer address is valid with something like

	if (extenal pointer value is NULL) {
           ptr = make new tree from data
           store in external pointer with R_SetExternalPtrAddr 
        }

Saving your R object in a workspace will then save the data needed for
rebuilding the internal structure in a new session.

You could also use the Protected field in external pointer objects for
saving the data needed for reconstruction.

Hope that helps.

luke

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke@stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kuensch@stat.math.ethz.ch  Fri Apr  6 15:21:29 2001
From: kuensch@stat.math.ethz.ch (kuensch@stat.math.ethz.ch)
Date: Fri, 6 Apr 2001 16:21:29 +0200 (MET DST)
Subject: [Rd] bug in contour() ? (PR#897)
Message-ID: <200104061421.QAA26081@pubhealth.ku.dk>

The following example just "hangs", i.e.
the final contour() does not terminate.

x <- pi*(0.5+((-13):12))/36
w <- 0.377*cos(2*x)*sqrt(abs(cos(2*x)))
v <- c(rep(-1.47,13),rep(1.722,13))*abs(sin(x))^1.5
cr  <- outer(w,w)+outer(v,v)
s <- sqrt(diag(cr))
cr <- cr/outer(s,s)
contour(cr[1:26,26:1],levels=seq(-1,1,0.1),axes=T)




--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = 
 major = 1
 minor = 2.2
 year = 2001
 month = 02
 day = 26
 language = R

Search Path:
 .GlobalEnv, package:ctest, package:SfS, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ligges@statistik.uni-dortmund.de  Fri Apr  6 15:42:10 2001
From: ligges@statistik.uni-dortmund.de (ligges@statistik.uni-dortmund.de)
Date: Fri, 6 Apr 2001 16:42:10 +0200 (MET DST)
Subject: [Rd] bug in contour() ? (PR#897)
Message-ID: <200104061442.QAA27053@pubhealth.ku.dk>

kuensch@stat.math.ethz.ch wrote:
> 
> The following example just "hangs", i.e.
> the final contour() does not terminate.
> 
> x <- pi*(0.5+((-13):12))/36
> w <- 0.377*cos(2*x)*sqrt(abs(cos(2*x)))
> v <- c(rep(-1.47,13),rep(1.722,13))*abs(sin(x))^1.5
> cr  <- outer(w,w)+outer(v,v)
> s <- sqrt(diag(cr))
> cr <- cr/outer(s,s)
> contour(cr[1:26,26:1],levels=seq(-1,1,0.1),axes=T)
> 
> --please do not edit the information below--
> 
> Version:
>  platform = i686-pc-linux-gnu
>  arch = i686
>  os = linux-gnu
>  system = i686, linux-gnu
>  status =
>  major = 1
>  minor = 2.2
>  year = 2001
>  month = 02
>  day = 26
>  language = R


... and R crashes on WinNT 4.0.

Uwe Ligges

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Fri Apr  6 16:03:13 2001
From: bates@stat.wisc.edu (Douglas Bates)
Date: 06 Apr 2001 10:03:13 -0500
Subject: [Rd] Review of R-1.1.1
Message-ID: <6rae5u6pfy.fsf@franz.stat.wisc.edu>

Stephen P. Ellner of Cornell University has reviewed R-1.1.1 in the
April 2001 issue of "Bulletin of the Ecological Society of America"
(vol. 82, no. 2, pp. 127-128).
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Fri Apr  6 16:49:34 2001
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Fri, 6 Apr 2001 08:49:34 -0700 (PDT)
Subject: [Rd] bug in contour() ? (PR#897)
In-Reply-To: <200104061421.QAA26081@pubhealth.ku.dk>
Message-ID: <Pine.A41.4.33.0104060843400.89396-100000@homer01.u.washington.edu>

On Fri, 6 Apr 2001 kuensch@stat.math.ethz.ch wrote:

> The following example just "hangs", i.e.
> the final contour() does not terminate.
>
> x <- pi*(0.5+((-13):12))/36
> w <- 0.377*cos(2*x)*sqrt(abs(cos(2*x)))
> v <- c(rep(-1.47,13),rep(1.722,13))*abs(sin(x))^1.5
> cr  <- outer(w,w)+outer(v,v)
> s <- sqrt(diag(cr))
> cr <- cr/outer(s,s)
> contour(cr[1:26,26:1],levels=seq(-1,1,0.1),axes=T)

It's following a list that ends up being circular (loop of about 10
entries) around plot3d.c:697.

I don't understand the code that sets up the segment database, but
presumably there's a bug there. The loop happens in the same place under
gctorture, so I don't think it's memory management.

	-thomas


> --please do not edit the information below--
>
> Version:
>  platform = i686-pc-linux-gnu
>  arch = i686
>  os = linux-gnu
>  system = i686, linux-gnu
>  status =
>  major = 1
>  minor = 2.2
>  year = 2001
>  month = 02
>  day = 26
>  language = R
>
> Search Path:
>  .GlobalEnv, package:ctest, package:SfS, Autoloads, package:base
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

Thomas Lumley			Asst. Professor, Biostatistics
tlumley@u.washington.edu	University of Washington, Seattle
^^^^^^^^^^^^^^^^^^^^^^^^
 NOTE NEW EMAIL ADDRESS


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Fri Apr  6 20:40:18 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Fri, 6 Apr 2001 21:40:18 +0200
Subject: [Rd] aclocal.m4: R_PROG_F77_CC_COMPAT assumes executables w/o extension (PR#890)
In-Reply-To: <200104020722.JAB25499@pubhealth.ku.dk>
References: <200104020722.JAB25499@pubhealth.ku.dk>
Message-ID: <15054.7074.935714.663518@mithrandir.hornik.net>

>>>>> hoffmann  writes:

> Full_Name: Thomas Hoffmann
> Version: 1.2.2 (and older)
> OS: HP-UX, OS/2
> Submission from: (NULL) (141.30.125.20)


> The test defined in AC_DEFUN([R_PROG_F77_CC_COMPAT] (aclocal.m4:342) produces
> an executable using (in line 393)

> if ${CC-cc} ${LDFLAGS} ${MAIN_LDFLAGS} -o conftest conftest.o \ ....

> This fails on systems that use an extension for executables, which can be
> used via $ac_exeext in configure files. So it should read instead

> if ${CC-cc} ${LDFLAGS} ${MAIN_LDFLAGS} -o conftest$ac_exeext
> conftest.o \ ....

Correct in theory, but is this a problem in practice?  Currently the
configure mechanism is only used on Unix, and I am not aware of a Unix
system which uses an extension for executables ...

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Fri Apr  6 22:21:42 2001
From: p.dalgaard@biostat.ku.dk (p.dalgaard@biostat.ku.dk)
Date: Fri, 6 Apr 2001 23:21:42 +0200 (MET DST)
Subject: [Rd] Re: closing a bug report (PR#781)
Message-ID: <200104062121.XAA28621@pubhealth.ku.dk>

Paul Gilbert <pgilbert@bank-banque-canada.ca> writes:

> Peter
> 
> I'm not sure how to close a bug report. This problem should be fixed in the version
> now loaded on CRAN, although there may be other still to be discovered problems under
> Windows.
> 
> Paul Gilbert
> _____
> * PR# 781 *
> Subject: syskern fails Rcmd check on Windows, gives incorrect information
> From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
> Date: Wed, 20 Dec 2000 11:12:47 +0000 (GMT)
> --Partially fixed by dse_2000.12, but still uses "ls" and gives
> --incorrect information

Mailing to r-bugs with (PR#nnn) in the subject should at least get the
message filed in the right place and cause the PR to be moved to
-fixed next time someone sets out to tidy up the repository.

(I took the liberty of doing just that with this note, hope that it's
not too indiscreet to quote your letter for that purpose.)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pd@pubhealth.ku.dk  Sat Apr  7 06:15:06 2001
From: pd@pubhealth.ku.dk (Peter Dalgaard BSA)
Date: Sat, 7 Apr 2001 07:15:06 +0200
Subject: [Rd] Bug list summary (automatic post)
Message-ID: <200104070515.HAA20784@blueberry.kubism.ku.dk>

=================================================
This is an automated summary of the status of the R-bugs
repository.

Note that this may be neither complete nor perfectly
correct at any given instance: Not all bugs are reported,
and some reported bugs may have been fixed, but the
repository not yet updated.

Some bug fixes are difficult to verify because they pertain
to specific hardware or operating system versions. If you
have information to contribute, please do so.

If you happen to know how to fix a problem please send
patches to the bug repository, too.

New bugs are reported either through the web
interface at r-bugs.r-project.org or via email to
r-bugs@r-project.org. The bug.report() function can be
used to automate parts of the procedure on many systems.
Followups on older bugs can be done by including the string
"(PR#999)" in the Subject of an email (change 999 to the
actual reference number, of course!).
=================================================

Directory:  Accuracy

* PR# 751 *
Subject: BUG: polyroot()
From: "Li Dongfeng" <mavip1@inet.polyu.edu.hk>
Date: Tue, 28 Nov 2000 13:24:33 +0800
--Numerical instability. We may want a better algorithm!

Directory:  Add-ons

* PR# 824 *
Subject: trouble with netCDF 
From: jasont@indigoindustrial.co.nz
Date: Thu, 25 Jan 2001 12:00:39 +1300
--Only on a specific sample file: send to maintainer.
* PR# 496 *
From: bonneau@epi.roazhon.inra.fr (en148)
Date: Tue, 21 Mar 2000 10:57:13 +0100 (MET)
--base R has no est.variogram function.
--This appears to be a bug report on sgeostat.
* PR# 812 *
Subject: segmentation fault in integrate
From: Achim Zeileis <zeileis@ci.tuwien.ac.at>
Date: Thu, 11 Jan 2001 22:49:59 +0100
* PR# 781 *
Subject: syskern fails Rcmd check on Windows, gives incorrect information
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
Date: Wed, 20 Dec 2000 11:12:47 +0000 (GMT)
--Partially fixed by dse_2000.12, but still uses "ls" and gives
--incorrect information

Directory:  Analyses

* PR# 861 *
Subject: histogram of frequencies
From: bernd.winkler@genedata.com
Date: Mon, 5 Mar 2001 15:01:49 +0100 (MET)

Directory:  Documentation

* PR# 856 *
Subject: "}  {" problem in Rd files
From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
Date: Mon, 26 Feb 2001 11:10:01 -0500

Directory:  Graphics

* PR# 865 *
Subject:  axis(...,las=1) breaks postscript code in certain cases 
From: maechler@stat.math.ethz.ch
Date: Wed, 7 Mar 2001 18:08:58 +0100
* PR# 202 *
Subject: persp box occlusion bug
From: wsi@gcal.ac.uk
Date: Wed, 2 Jun 1999 15:02:03 +0200 (MET DST)
--The persp algorithm does not apply the occlusion rules to the frame, 
--which is always plotted first. 
--A bug, but not very simple to fix.
* PR# 776 *
Subject: strwidth does not take font into account
From: Martyn Plummer <plummer@iarc.fr>
Date: Tue, 19 Dec 2000 14:56:01 +0100 (CET)
--This needs a substantial redesign.
* PR# 750 *
Subject: abline() does not obey "xpd" (clipping rules)
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Mon, 27 Nov 2000 18:27:11 +0100
* PR# 660 *
Subject: identify.default ignores any setting of cex.
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
Date: Fri, 15 Sep 2000 10:23:39 +0100 (BST)
* PR# 820 *
Subject: interaction.plot
From: "Mark M. Span" <span@psy.uva.nl>
Date: Mon, 22 Jan 2001 10:47:39 +0100
--mtext is unscaled by default.  It is not clear if this should
--use the par("cex") setting or an inline cex setting such as cex.axis.
--It might make more sense to use axis rather than mtext, as boxplot does.
* PR# 816 *
Subject: dotplot: character size of labels
From: RINNER Heinrich <H.RINNER@TIROL.GV.AT>
Date: Thu, 18 Jan 2001 14:54:32 +0100
--Suggested fix is incorporated in 1.2.2.
--
--There is a deeper problem:  mtext() ignores par(cex=.5) in general.  
--To see the problem try:  par(cex=.5); mtext("hi")
--Paul thinks the right fix is to change the argument list for mtext so that
--cex=par(cex) by default rather than cex=NA by default (plus corresponding
--internal changes to  do_mtext in plot.c).
--This needs to be done very carefully because (i) the change suggested above 
--mayhave side-effects in many other pieces of interpreted code 
--(ii) do_mtext ignores dd->gp.cexbase unlike, for example, do_plot_xy 
--and anything to do with cexbase needs extreme care.
* PR# 791 *
Subject:  par(lab= *) / axis(*) bug 
From: maechler@stat.math.ethz.ch
Date: Fri, 22 Dec 2000 10:59:26 +0100
* PR# 830 *
Subject: Disappearing x axis in plot.factor
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 30 Jan 2001 00:27:13 -0500
* PR# 828 *
Subject: termplot fails for composite non-factor terms
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sat, 27 Jan 2001 11:57:37 +1100 (EST)
--Neither of the proposed changes actually works in sufficient generality.
--
--The easy and unimportant part of this, the labels, is fixed in 1.2.2. Getting
--the data right is a project for 1.3
* PR# 857 *
Subject: Plotting points on a filled.contour plot
From: marchini@stats.ox.ac.uk
Date: Tue, 27 Feb 2001 10:00:30 +0100 (MET)
--This needs at least to be documented, and preferably par("usr")
--set to the coordinate system of the plotting region after use.
* PR# 837 *
Subject: screen doesn't handle redrawing properly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 01 Feb 2001 14:20:52 -0500
* PR# 831 *
Subject: screen can't go back to (split) screen with log="y" plot
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 30 Jan 2001 00:39:41 -0500

Directory:  In-Out

none

Directory:  Installation

none

Directory:  Language

* PR# 879 *
From: Duncan Murdoch <murdoch@stats.uwo.ca>
Date: Sun, 18 Mar 2001 07:45:13 -0500 (EST)
--precedence of %% appears to be not as documented
* PR# 408 *
Subject: convolution bug
From: wsimpson@gcal.ac.uk
Date: Fri, 28 Jan 2000 11:17:36 +0100 (MET)
* PR# 669 *
Subject: Bug(s) w/ rbind.data.frame(); fix also read.table(*, as.is = TRUE) ?
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Mon, 25 Sep 2000 10:17:15 +0200
--status of AsIs columns
* PR# 412 *
Subject: anomalies with call objects
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 06 Feb 2000 01:18:50 +0100
* PR# 869 *
Subject:  inconsistent results when calling functions with other func
From: "White, Paul" <Paul.White@dsto.defence.gov.au>
Date: Thu, 8 Mar 2001 18:26:35 +1100 
* PR# 813 *
Subject: match.call problem
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 12 Jan 2001 17:46:15 +0100

Directory:  Low-level

* PR# 505 *
Subject: interrupted save 
From: Thomas Lumley <thomas@biostat.washington.edu>
Date: Sat, 25 Mar 2000 12:16:50 -0800 (PST)

Directory:  Misc

* PR# 875 *
Subject: Re: [R] Bug in qchisq?
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 10 Mar 2001 02:26:11 +0100

Directory:  Models

* PR# 862 *
Subject: Wrong sign for Pearson residuals
From: faraway@umich.edu
Date: Mon, 5 Mar 2001 18:04:34 +0100 (MET)

Directory:  Startup

* PR# 486 *
Subject: Re: autoload error in profile {was anova-bug in R-version  1.0.0?}
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Tue, 14 Mar 2000 10:32:43 +0100 (MET)
--workaround to the origin problem in 1.0.1
--New report: try does not work from the profile.

Directory:  System-specific

* PR# 863 *
Subject: src/main/arithmetic.c on OpenBSD
From: ian@darwinsys.com (Ian Darwin)
Date: Tue,  6 Mar 2001 19:49:53 -0500 (EST)
* PR# 851 *
Subject: Comments on R-1.2.1 builds
From: "Nelson H. F. Beebe" <beebe@math.utah.edu>
Date: Fri, 16 Feb 2001 17:44:17 -0700 (MST)
--These are only warnings: some have been eliminated for 1.2.2.
--Some are about constructs needed to satisfy other compilers.
--
--Also: configure problem with g77 on SGI.
* PR# 848 *
Subject: X11 device doesn't handle destroy events correcly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 13 Feb 2001 17:40:46 -0500

Directory:  TooMuchAtOnce

* PR# 811 *
Subject: problem with strptime example (and mention of bug.report)
From: Stephen Eglen <stephen@anc.ed.ac.uk>
Date: Thu, 11 Jan 2001 19:18:39 GMT
--1) On OSF4, strptime is deficient. Nothing we can do.
--
--2) On Windows NT, the strptime problems are (i) German locale, English dates,
--(ii) Windows system errors with unknown DST (it move times to DST).
--(i) now has another warning in the help file (there already was one).
--(ii) was already worked around for 1.2.1.
--
--3) bug.report() uses a mailer option that does not exist on OSF4.

Directory:  Windows

none

Directory:  incoming

* PR# 897 *
Subject:  bug in contour() ? 
From: kuensch@stat.math.ethz.ch
Date: Fri, 6 Apr 2001 16:21:24 +0200
* PR# 883 *
Subject: cor(x,y) when is.null(y)
From: "Charles C. Berry" <cberry@tajo.ucsd.edu>
Date: Fri, 23 Mar 2001 11:38:05 -0800 (PST)
* PR# 877 *
Subject: segmentation fault of unknown cause
From: Martin Schlather <Martin.Schlather@uni-bayreuth.de>
Date: Wed, 14 Mar 2001 17:45:25 +0100
* PR# 885 *
Subject: Problems with R CMD COMPILE within Makefile
From: Peter Holzer <holzer@stat.math.ethz.ch>
Date: Mon, 26 Mar 2001 15:32:00 +0200
* PR# 884 *
* PR# 887 *
Subject: axis(adj=anything) has no effect
From: jhallman@frb.gov
Date: Wed, 28 Mar 2001 20:51:05 +0200 (MET DST)
* PR# 886 *
Subject: Error (?) in documentation of 'swiss' data in R base package
From: k.j.mcconway@open.ac.uk
Date: Wed, 28 Mar 2001 16:46:49 +0200 (MET DST)
* PR# 889 *
Subject: na.omit()
From: devoilp@dpi.qld.gov.au
Date: Mon, 2 Apr 2001 03:17:20 +0200 (MET DST)
* PR# 888 *
Subject: User defined assignment function ignores argument names
From: jhallman@frb.gov
Date: Fri, 30 Mar 2001 23:03:08 +0200 (MET DST)
* PR# 891 *
Subject: Importing from Splus
From: ernesto@ipimar.pt
Date: Tue, 3 Apr 2001 17:03:06 +0200 (MET DST)
* PR# 890 *
Subject: aclocal.m4: R_PROG_F77_CC_COMPAT assumes executables w/o extension
From: hoffmann@ehmgs2.et.tu-dresden.de
Date: Mon, 2 Apr 2001 09:22:28 +0200 (MET DST)
* PR# 893 *
Subject: ghhfh
From: gfhjgq@yahoo.com
Date: Wed, 4 Apr 2001 12:12:02 +0200 (MET DST)
* PR# 892 *
Subject: rle() fails with NA's
From: jhallman@frb.gov
Date: Tue, 3 Apr 2001 21:52:44 +0200 (MET DST)
* PR# 896 *
Subject: Optimize: difference between R for Linux and Windows
From: "Marketa Kylouskova" <Marketa.Kylouskova@euromise.cz>
Date: 5 Apr 2001 12:30:29 +0100
* PR# 895 *
Subject: CI for wilcoxon test
From: kylouskova@euromise.cz
Date: Thu, 5 Apr 2001 11:02:47 +0200 (MET DST)
* PR# 894 *
Subject: ghhfh
From: gfhjgq@yahoo.com
Date: Wed, 4 Apr 2001 12:12:12 +0200 (MET DST)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sat Apr  7 09:04:49 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 7 Apr 2001 10:04:49 +0200 (MET DST)
Subject: [Rd] Re: closing a bug report (PR#781)
Message-ID: <200104070804.KAA29793@pubhealth.ku.dk>

I can confirm this bug has been solved, by the expedient of removing the
incorrect functions!

I think the simplest way to get a bug closed is to send the correction to
the original reporter for confirmation, then as Peter suggests send a
follow-up to R-bugs.

On Fri, 6 Apr 2001 p.dalgaard@biostat.ku.dk wrote:

> Paul Gilbert <pgilbert@bank-banque-canada.ca> writes:
>
> > Peter
> >
> > I'm not sure how to close a bug report. This problem should be fixed in the version
> > now loaded on CRAN, although there may be other still to be discovered problems under
> > Windows.
> >
> > Paul Gilbert
> > _____
> > * PR# 781 *
> > Subject: syskern fails Rcmd check on Windows, gives incorrect information
> > From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
> > Date: Wed, 20 Dec 2000 11:12:47 +0000 (GMT)
> > --Partially fixed by dse_2000.12, but still uses "ls" and gives
> > --incorrect information
>
> Mailing to r-bugs with (PR#nnn) in the subject should at least get the
> message filed in the right place and cause the PR to be moved to
> -fixed next time someone sets out to tidy up the repository.
>
> (I took the liberty of doing just that with this note, hope that it's
> not too indiscreet to quote your letter for that purpose.)
>
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Sat Apr  7 16:07:29 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Sat, 7 Apr 2001 17:07:29 +0200
Subject: [Rd] rle() fails with NA's (PR#892)
In-Reply-To: <200104031952.VAA19642@pubhealth.ku.dk>
References: <200104031952.VAA19642@pubhealth.ku.dk>
Message-ID: <15055.11569.324300.836330@mithrandir.hornik.net>

>>>>> jhallman  writes:

> Full_Name: Jeff Hallman
> Version: 1.2.2
> OS: Solaris
> Submission from: (NULL) (132.200.32.33)


>> rle(c(1, NA, 1)
> $lengths
> [1] 3

> $values
> [1] 1

> should be as in Splus:

> $lengths
> [1] 1 1 1

> $values
> [1] 1 NA 1

> The Splus implementation (which works fine in R) is:

> rle <- function(x){
>  if(!is.atomic(x))
>     stop("Argument must have an atomic mode")
>   if(length(x) == 0)
>     return(list(lengths = numeric(0), values = x))
>   if(length(x) == 1)
>     return(list(lengths = 1, values = x))
>   x.int <- match(x, unique(x))
>   ends <- c(diff(x.int) != 0, T)
>   list(lengths = diff(c(0, seq(along = x)[ends])), values = x[ends])
> }

Thanks for pointing out the problem.

I've committed a fix for 1.2.3, but I don't think that the Splus
implementation is right: when a sequence of NAs occurs, it is treated as
one value, which does not make too much sense to me.  The new R version
treats each NA separately.  (Could be changed of course to mimic the
Splus behavior.)

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Sat Apr  7 16:18:47 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Sat, 7 Apr 2001 17:18:47 +0200
Subject: [Rd] Comments on R-1.2.1 builds (PR#851)
In-Reply-To: <15046.16468.885425.640832@mithrandir.hornik.net>
References: <200102170044.BAA19310@pubhealth.ku.dk>
 <14990.35273.167526.4092@mithrandir.hornik.net>
 <15046.16468.885425.640832@mithrandir.hornik.net>
Message-ID: <15055.12247.886742.317305@mithrandir.hornik.net>

>>>>> Kurt Hornik writes:

>>>>> Kurt Hornik writes:
>>>>> beebe  writes:
>>> The R-1.2.1 builds have gone fairly smoothly on most of my UNIX
>>> architectures, but there were many warnings reported by the picky SGI
>>> compiler that could be eliminated in future releases.

>>> Generally, I have found the SGI compilers very helpful in ferreting
>>> out portability problems, unused and/or obsolete variables, unexpected
>>> datatype coercions, etc., and they compile faster than any other
>>> compilers too.

>>> First, I configured like this:

>>> env CC='c89 -mips3 -O3' ./configure && make all

>>> This reports:

>>> R is now configured for mips-sgi-irix6.5

>>> Source directory:          .
>>> Installation directory:    /usr/local
>>> C compiler:                c89 -mips3 -O3  -OPT:IEEE_NaN_inf=ON -g
>>> C++ compiler:              c++  -g -O2
>>> FORTRAN compiler:          g77  -OPT:IEEE_NaN_inf=ON -g -O2

>>> X11 support:               yes
>>> Gnome support:             no
>>> Tcl/Tk support:            yes

>>> R profiling support:       yes
>>> R as a shared library:     no

>>> The build proceeds until this failure:

>>> g77 -OPT:IEEE_NaN_inf=ON  -g -O2 -c ch2inv.f -o ch2inv.o
>>> f771: Invalid option `-OPT:IEEE_NaN_inf=ON'
>>> make[3]: *** [ch2inv.o] Error 1

>>> Evidently, it was not prepared for the GNU Fortran compiler.

>> Yep, that is a bug.  I need some feedback for fixing this, though.  The
>> current logic is to run the autoconf R_C_OPTIEEE test if the platform is
>> IRIX.  The test itself tries to compile and run

>> #include <math.h>
>> #include <ieeefp.h>
>> int main () {
>> double x = 0;
>> fpsetmask(0); x = x / x; return (x != x);
>> }

>> and if that works adds -OPT:IEEE_NaN_inf=ON to both R_XTRA_CFLAGS and
>> R_XTRA_FFLAGS.

>> This obviously does not make sense for FORTRAN, and should be made more
>> defensive for C.

>> * For C, one should additionally test whether the compiler accepts this
>> flag.  I assume gcc would not, so should we do

>> if_not_using_gcc  check_arg("-OPT:IEEE_NaN_inf=ON")

>> * For FORTRAN, I am not sure whether the result of the above test has
>> any relevance.  Question is, do we have a FORTRAN test program similar
>> to the above to determine whether the flag is needed?  Again, we
>> should also check whether the compiler accepts the flag ...

>> * Or should we simply unconditionally add the flag for ``native'', i.e.,
>> non-GNU compilers?

>> (Sorry but I do not have access to SGIs ...)

> I would like to fix this for 1.2.3, so it would be great if anyone
> with access to IRIX could comment ... Personally, I'd prefer the last
> idea if this is feasible.

No reply, unfortunately.  As I do not have access to SGI systems, I have
unconditionally removed adding `-OPT:IEEE_NaN_inf=ON' to R_XTRA_FFLAGS.
No idea whether this breaks make check on SGI systems with a native
FORTRAN compiler, perhaps someone could check eventually.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bellis@hsph.harvard.edu  Sat Apr  7 22:32:52 2001
From: bellis@hsph.harvard.edu (bellis@hsph.harvard.edu)
Date: Sat, 7 Apr 2001 23:32:52 +0200 (MET DST)
Subject: [Rd] silent extern error (PR#898)
Message-ID: <200104072132.XAA01726@pubhealth.ku.dk>

Full_Name: Byron Ellis
Version: 1.2.2
OS: all
Submission from: (NULL) (140.247.105.95)


R_ext/Arith.h

#ifdef MAIN
#define extern
#endif
#ifdef __cplusplus
extern "C" {
#endif

these two should be reversed. Its never a problem because builds aren't done
against C++ compilers, but its still an error (just a low priority one).

also, you could change that to

#ifdef __cplusplus
extern "C" {
#endif
#ifdef __MAIN__
#define extern
#elif _MSC_VER
#define extern __dllspec(dllimport)
#endif

with the corresponding change to the #undef region. This would allow people to
develop for R using MSVC++ more easily.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Sat Apr  7 22:56:53 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt.Hornik@ci.tuwien.ac.at)
Date: Sat, 7 Apr 2001 23:56:53 +0200 (MET DST)
Subject: [Rd] documentation problems in str.Rd (PR#899)
Message-ID: <200104072156.XAA01845@pubhealth.ku.dk>

File `src/library/base/man/str.Rd' shows the usage

  ls.str(name, pattern, mode = "any", max.level = 1, give.attr = FALSE)

whereas the code for ls.str() really has

  function (..., mode = "any", max.level = 1, give.attr = FALSE)

where the `...' is passed to ls().

The usage indicates `pattern' as a positional argument, which it is not.
Hence, e.g.
  ls.str("package:base", "^a")
will not work as documented.

I think one needs to document the `...' structure and say that the ...
args are passed on to ls().

Also, currently arguments `name', `pattern' and `mode' to ls.str() and
argument `...' to lsf.str() and the str* functions are not documented.

--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = Patched
 major = 1
 minor = 2.2
 year = 2001
 month = 04
 day = 07
 language = R

Search Path:
 .GlobalEnv, package:kh, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Apr  8 06:54:10 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 8 Apr 2001 07:54:10 +0200 (MET DST)
Subject: [Rd] silent extern error (PR#898)
Message-ID: <200104080554.HAA02393@pubhealth.ku.dk>

On Sat, 7 Apr 2001 bellis@hsph.harvard.edu wrote:

> Full_Name: Byron Ellis
> Version: 1.2.2
> OS: all
> Submission from: (NULL) (140.247.105.95)
>
>
> R_ext/Arith.h
>
> #ifdef MAIN
> #define extern
> #endif
> #ifdef __cplusplus
> extern "C" {
> #endif
>
> these two should be reversed. Its never a problem because builds aren't done
> against C++ compilers, but its still an error (just a low priority one).

Sorry, but as __MAIN__ (not MAIN) is only defined in one C module internal
to R, why is it an error?  It would be an error if there ever was an
intention that module was to be in C++, but there is not.  The #ifdef
__cplusplus constructs are only there to allow the header files to be used
in C++ addons, and defining __MAIN__ is *not* part of the API.

In short, those two #ifdef's are mutually exclusive, so their order is
immaterial.  How can one order be an error?


> also, you could change that to
>
> #ifdef __cplusplus
> extern "C" {
> #endif
> #ifdef __MAIN__
> #define extern
> #elif _MSC_VER
> #define extern __dllspec(dllimport)
> #endif
>
> with the corresponding change to the #undef region. This would allow people to
> develop for R using MSVC++ more easily.

However, *that* would be an error.  _MSC_VER may well be defined during the
actual compilation of R, and __MAIN__ is only defined in the compilation of
main.c.  So compilation would fail under VC++ (and other compilers which
define _MSC_VER).

(It is also possible for _MSC_VER to be defined but not have a value, so is
the test what you really meant?)

If we intended to make compilation for other C compilers easier we would
need to add lines like that to lots of the header files, and for more than
one compiler system.  However, we don't particularly want to make the use
of Arith.h under VC++ easier, as VC++ does not handle IEEE arithmetic
correctly!   In short, using Arith.h in addons compiled with VC++ is
likely to give incorrect results.

(We know from past experience that R can be compiled with VC++ (6.0sp3, to
be precise) but then fails make check, giving incorrect results in the
arithmetic tests and elsewhere.)

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bellis@hsph.harvard.edu  Sun Apr  8 07:48:24 2001
From: bellis@hsph.harvard.edu (bellis@hsph.harvard.edu)
Date: Sun, 8 Apr 2001 08:48:24 +0200 (MET DST)
Subject: [Rd] silent extern error (PR#898)
Message-ID: <200104080648.IAA02492@pubhealth.ku.dk>

On Sun, 8 Apr 2001, Prof Brian D Ripley wrote:

> On Sat, 7 Apr 2001 bellis@hsph.harvard.edu wrote:
> 
> > Full_Name: Byron Ellis
> > Version: 1.2.2
> > OS: all
> > Submission from: (NULL) (140.247.105.95)
> >
> >
> > R_ext/Arith.h
> >
> > #ifdef MAIN
> > #define extern
> > #endif
> > #ifdef __cplusplus
> > extern "C" {
> > #endif
> >
> > these two should be reversed. Its never a problem because builds aren't done
> > against C++ compilers, but its still an error (just a low priority one).
> 
> Sorry, but as __MAIN__ (not MAIN) is only defined in one C module internal
> to R, why is it an error?  It would be an error if there ever was an
> intention that module was to be in C++, but there is not.  The #ifdef
> __cplusplus constructs are only there to allow the header files to be used
> in C++ addons, and defining __MAIN__ is *not* part of the API.
> 
> In short, those two #ifdef's are mutually exclusive, so their order is
> immaterial.  How can one order be an error?

Okay, then it was a simple misunderstanding on my part in the event that
you will never attempt to compile R under a compiler in C++ mode and you
don't have to worry about it any more.


> 
> 
> > also, you could change that to
> >
> > #ifdef __cplusplus
> > extern "C" {
> > #endif
> > #ifdef __MAIN__
> > #define extern
> > #elif _MSC_VER
> > #define extern __dllspec(dllimport)
> > #endif
> >
> > with the corresponding change to the #undef region. This would allow people to
> > develop for R using MSVC++ more easily.
> 
> However, *that* would be an error.  _MSC_VER may well be defined during the
> actual compilation of R, and __MAIN__ is only defined in the compilation of
> main.c.  So compilation would fail under VC++ (and other compilers which
> define _MSC_VER).
> 
> (It is also possible for _MSC_VER to be defined but not have a value, so is
> the test what you really meant?)

I personally can't think of a VC++ compiler I've used where _MSC_VER is
defined but __declspec(dllimport) is unavailable, except maybe VC++ 1.5
where its been such a long time I can't recall. (Of course, VC++ 1.5
doesn't even RUN under Win2K let alone compile anything :-)) If suppose
you could change it to something like #if _MSC_VER >= 1100 if there is
such a compiler and that would work as well.


> 
> If we intended to make compilation for other C compilers easier we would
> need to add lines like that to lots of the header files, and for more than
> one compiler system.  However, we don't particularly want to make the use
> of Arith.h under VC++ easier, as VC++ does not handle IEEE arithmetic
> correctly!   In short, using Arith.h in addons compiled with VC++ is
> likely to give incorrect results.

Welp, just the two (and putting it above the __cplusplus def) in
R_ext/Arith.h and Rinternals.h. If you also toss a __cplusplus statement
after the #include's in Rinternals.h it also works in C++ mode (which is
missing things like that nasty sizeof() bug). 

> 
> (We know from past experience that R can be compiled with VC++ (6.0sp3, to
> be precise) but then fails make check, giving incorrect results in the
> arithmetic tests and elsewhere.)

Yes, fortunately I'm not using the IEEE arith code--- I'm actually writing
non-numerical support libraries and GUI embedding code. I mostly just like
to do my development using VC++ (probably because I'm getting lazy, but
whatever). Out of curiosity has this been tested with SP4 or 7beta?

> 
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 


Byron Ellis (bellis@hsph.harvard.edu)




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Sun Apr  8 15:34:26 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Sun, 8 Apr 2001 16:34:26 +0200
Subject: [Rd] Problems with R CMD COMPILE within Makefile (PR#885)
In-Reply-To: <200103261332.PAA25104@pubhealth.ku.dk>
References: <200103261332.PAA25104@pubhealth.ku.dk>
Message-ID: <15056.30450.212534.90422@mithrandir.hornik.net>

>>>>> holzer  writes:

> Dear R-developpers

> This concerns a problem I posted about half a year ago on the R-help
> list and to which I got some answer by Duncan Temple Lang (see below),
> but the basic problem still continues. Even though I managed a
> workaround which is sufficient for me Martin Maechler asked me to send
> a toy example of the problem to R-bugs. So that's what I try here.

> The following Makefile will not work:
> ----------------------------------------
> .PHONY: tst.o

> tst.o: tst.c
> 	R CMD COMPILE tst.c
> ----------------------------------------

> ...

I am not sure this is a bug: R CMD COMPILE is not documented to work
when called from inside a Makefile.

Currently, R CMD COMPILE calls Make based on information in

	Makevars		if this exists
	R_HOME/etc/Makeconf
	Makefile		if this exists

Conversely, R CMD SHLIB only uses Makevars but not Makefile.

As R CMD COMPILE is not documented to use a Makefile in the local dir, I
would propose to fix the problem by eliminating

	if test -r Makefile; then
	  makefiles="${makefiles} -f Makefile"
	fi

from the COMPILE script.

There is a more general problem, though.  We read Makevars before the
default configuration from R_HOME/etc/Makeconf.  This is to ensure that
the PKG_* variables are set when the ALL_* variables are expanded.  But
unfortunately this has the effect that global settings override the
local ones.  Is it safe to assume that we can reverse the order with all
versions of Make around?

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Sun Apr  8 15:16:44 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Sun, 8 Apr 2001 16:16:44 +0200
Subject: [Rd] CI for wilcoxon test (PR#895)
In-Reply-To: <200104050902.LAA07697@pubhealth.ku.dk>
References: <200104050902.LAA07697@pubhealth.ku.dk>
Message-ID: <15056.29388.963897.379866@mithrandir.hornik.net>

>>>>> kylouskova  writes:

> Full_Name: Marketa Kylouskova
> Version: 1.2.1
> OS: Windows
> Submission from: (NULL) (147.231.7.2)


> Hi,

> 	I believe there is a bug in the extension of wilcox.test, namely
> in determination of confidence intervals. I concentrated on the
> two-sample test only. I examined and tested its performance on this
> working data set:

> ...

> which is apparently contradictory (p-value is much less than 0.05
> while exact CI contains 0). I examined the code and I found that while
> the exact wilcoxon test is applied on ranks of x (thus testing that mu
> = x  y is greater than 0), the exact CI is computed based on
> differences y - x, hence finding a CI for mu = y  x). The same
> applies, in my opinion, to approximative CI, where he optimization
> interval is set as (mumin,mumax) with

> ...

Thanks for pointing this out.  The confidence interval was for the
difference in locations of y and x and should have been the other way
round.  Fixed now.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Mon Apr  9 07:37:49 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Mon, 9 Apr 2001 08:37:49 +0200
Subject: [Rd] extratests (wishlist item)
In-Reply-To: <3AC9D6C5.28965243@bank-banque-canada.ca>
References: <3AC9D6C5.28965243@bank-banque-canada.ca>
Message-ID: <15057.22717.101969.168503@mithrandir.hornik.net>

>>>>> Paul Gilbert writes:

> I have now reorganized most of my tests into the tests subdirectories
> of my packages and I do like the R CMD check mechanism for running
> them. However, I have a certain number of tests which I can only run
> on certain machines (e.g. because of memory requirements or special
> database requirements), or just take too long to run regularly. I have
> organized these into an artificial separate package. It would make
> more sense to keep these with the packages to which they belong. Would
> it be possible sometime to add a subdirectory of extra tests which can
> be run with the same mechanism as the tests subdirectory but not as a
> regular part of R CMD check?

Paul,

I think you could have a configure script which determines the platform
you are on, sets variables

	test-src-1
	test-src-auto

accordingly, and saves them in tests/Makevars by substituting from
tests/Makevars.in.  (Sorry if this most likely only works on Unix.)

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.C.Rougier@durham.ac.uk  Mon Apr  9 09:32:28 2001
From: J.C.Rougier@durham.ac.uk (Jonathan Rougier)
Date: Mon, 9 Apr 2001 09:32:28 +0100 (BST)
Subject: [Rd] Detaching "ctest"
In-Reply-To: <15052.51139.270582.27097@mithrandir.hornik.net>
Message-ID: <Pine.GSO.4.20.0104090928480.13680-100000@laplace>

On Thu, 5 Apr 2001, Kurt Hornik wrote:

> >>>>> Jonathan Rougier writes:

> > I certainly agree with this last point.  However, the problem is
> > lessened if the user can use .Rprofile to tune the set-up.  The
> > current arrangement prevents that (or, at least, makes it rather
> > inelegant) by using .First to load ctest (and, in the future, other
> > mandatory packages?).  It seems to me that in an ideal world .Rprofile
> > would be the very last thing invoked before the prompt.  That way
> > whatever set-up is put in place by the system administrator or the
> > default, the individual user still has control.
> 
> But this is exactly what happens---settings from .Rprofile do override
> the system and site defaults.  The question is whether .First should be
> used for package setup, or something else ...

OK! if you put it like that, then I think that .First should definitely
*not* be used for package set-up, as it prevents .Rprofile commands from
being the last things executed before the prompt, and thus removes
"complete user control" of the set-up.

Cheers, Jonathan.

Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Mon Apr  9 13:54:26 2001
From: dmurdoch@pair.com (dmurdoch@pair.com)
Date: Mon, 9 Apr 2001 14:54:26 +0200 (MET DST)
Subject: [Rd] Bug in help for profile; more general problem? (PR#900)
Message-ID: <200104091254.OAA10924@pubhealth.ku.dk>

The help topic for "profile" has a link to profile.glm in MASS which
doesn't work in the HTML help.  The problem is that there is no
profile.glm.html file, profile.glm is just an alias for the confint
help topic.

It would be nice if there were a general solution to this problem
(i.e. the system knew how to work with aliases), but it doesn't look
easy:  profile.html is in base, and may well be produced with no copy
of MASS around for reference.  

A short term fix would be to change the link in profile.Rd to
\link[MASS:confint]{profile.glm}, or to add a profile.glm help topic
to MASS.




--please do not edit the information below--

Version:
 platform = i386-pc-mingw32
 arch = x86
 os = Win32
 system = x86, Win32
 status = 
 major = 1
 minor = 2.2
 year = 2001
 month = 02
 day = 26
 language = R

Windows 9x 4.0 (build 1111)  B

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Mon Apr  9 13:46:43 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Mon, 9 Apr 2001 14:46:43 +0200
Subject: [Rd] Detaching "ctest"
In-Reply-To: <Pine.GSO.4.20.0104090928480.13680-100000@laplace>
References: <15052.51139.270582.27097@mithrandir.hornik.net>
 <Pine.GSO.4.20.0104090928480.13680-100000@laplace>
Message-ID: <15057.44851.453347.367801@mithrandir.hornik.net>

>>>>> Jonathan Rougier writes:

> On Thu, 5 Apr 2001, Kurt Hornik wrote:
>> >>>>> Jonathan Rougier writes:

>> > I certainly agree with this last point.  However, the problem is
>> > lessened if the user can use .Rprofile to tune the set-up.  The
>> > current arrangement prevents that (or, at least, makes it rather
>> > inelegant) by using .First to load ctest (and, in the future, other
>> > mandatory packages?).  It seems to me that in an ideal world .Rprofile
>> > would be the very last thing invoked before the prompt.  That way
>> > whatever set-up is put in place by the system administrator or the
>> > default, the individual user still has control.
>> 
>> But this is exactly what happens---settings from .Rprofile do override
>> the system and site defaults.  The question is whether .First should be
>> used for package setup, or something else ...

> OK! if you put it like that, then I think that .First should definitely
> *not* be used for package set-up, as it prevents .Rprofile commands from
> being the last things executed before the prompt, and thus removes
> "complete user control" of the set-up.

Not sure if I understand this.

Upon startup,

   * Then, unless `--no-init-file' was given, R searches for a file
     called `.Rprofile' in the current directory or in the user's home
     directory (in that order) and sources it.

   * It also loads a saved image from `.RData' if there is one (unless
     `--no-restore' or `--no-restore-data' was specified).

   * Finally, if a function `.First' exists, it is executed.  This
     function (as well as `.Last' which is executed at the end of the R
     session) can be defined in the appropriate startup profiles, or
     reside in `.RData'.

as per R-intro, so the user has perfect control over what happens by
providing a suitable .First in e.g. his ~/.Rprofile.

???

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Apr  9 14:05:54 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 9 Apr 2001 14:05:54 +0100 (BST)
Subject: [Rd] Bug in help for profile; more general problem? (PR#900)
In-Reply-To: <200104091254.OAA10924@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0104091357490.1229-100000@gannet.stats>

On Mon, 9 Apr 2001 dmurdoch@pair.com wrote:

> The help topic for "profile" has a link to profile.glm in MASS which
> doesn't work in the HTML help.  The problem is that there is no
> profile.glm.html file, profile.glm is just an alias for the confint
> help topic.
>
> It would be nice if there were a general solution to this problem
> (i.e. the system knew how to work with aliases), but it doesn't look
> easy:  profile.html is in base, and may well be produced with no copy
> of MASS around for reference.
>
> A short term fix would be to change the link in profile.Rd to
> \link[MASS:confint]{profile.glm}, or to add a profile.glm help topic
> to MASS.

That is the fix: the person who changed added the reference did not
check it out.  I've altered it, thank you.

If the requisite packages are installed when the help files are converted
and there is no manual override, then the link will get found.
If not, it gets deferred to the search engine at run time.

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.C.Rougier@durham.ac.uk  Mon Apr  9 14:37:33 2001
From: J.C.Rougier@durham.ac.uk (Jonathan Rougier)
Date: Mon, 9 Apr 2001 14:37:33 +0100 (BST)
Subject: [Rd] Detaching "ctest"
In-Reply-To: <15057.44851.453347.367801@mithrandir.hornik.net>
Message-ID: <Pine.GSO.4.20.0104091419000.13680-100000@laplace>

On Mon, 9 Apr 2001, Kurt Hornik wrote:

> >>>>> Jonathan Rougier writes:

> > OK! if you put it like that, then I think that .First should
> definitely > *not* be used for package set-up, as it prevents
> .Rprofile commands from > being the last things executed before the
> prompt, and thus removes > "complete user control" of the set-up.
> 
> Not sure if I understand this.
> 
> Upon startup,
> 
>    * Then, unless `--no-init-file' was given, R searches for a file
>      called `.Rprofile' in the current directory or in the user's home
>      directory (in that order) and sources it.
> 
>    * It also loads a saved image from `.RData' if there is one (unless
>      `--no-restore' or `--no-restore-data' was specified).
> 
>    * Finally, if a function `.First' exists, it is executed.  This
>      function (as well as `.Last' which is executed at the end of the R
>      session) can be defined in the appropriate startup profiles, or
>      reside in `.RData'.
> 
> as per R-intro, so the user has perfect control over what happens by
> providing a suitable .First in e.g. his ~/.Rprofile.

You are right -- I was discounting the "inelegant" use of an empty .First
in .Rprofile to mask the one defined in the global environment.  I have
approached this in terms of preventing an unwanted package from being
loaded, but I can see the advantages of using a .First definition in the
user's .Rprofile to explicitly load packages as well.  I guess my worry
would be that as the core of R gets smaller and more packages are added to
the default list it would be simpler for the user to remove the one or two
packages that are not wanted, rather than having to specify explicitly in
a .First all the packages that are required, as would be the case
currently.

Cheers, Jonathan.

Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Torsten.Hothorn@rzmail.uni-erlangen.de  Mon Apr  9 16:57:46 2001
From: Torsten.Hothorn@rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Mon, 9 Apr 2001 17:57:46 +0200 (MEST)
Subject: [Rd] CI for wilcoxon test (PR#895)
In-Reply-To: <200104050902.LAA07697@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.21.0104091749410.10969-100000@artemis.imbe.med.uni-erlangen.de>

> 
> I didnt go through other aspects, although I believe that the continuity
> correction should be checked if some changes are made, and also that some closer
> look onto definitions of uci and lci in the exact CI computations should be made
> (here it depends on your definition of the CI for exact distributions, i.e.
> whether the CI = {uci<=mu<lci} (then I think its OK) or CI = {uci<=mu<=lci}
> (then I think lci= diffs[ql] and not diffs[ql + 1]). Could this be specified in
> the documentation?


the CI is [uci, lci) with lci = diffs[ql + 1]. You do not reject the
hypothesis if W <= ql and the step function is equal to ql for all
real numbers between diffs[ql] and diffs[ql + 1] and jumps in diffs[ql +
1] only. Therefore, all this points have to be included in the CI but not
diffs[ql + 1] itself (one can however include it, making the CI
'larger'). Taking lci = diffs[ql] is wrong! See the example on page 688 of
Bauer's article.

Torsten

> 
> Thank you in advance for checking my suspicions :) and for your reaction.
> 
> 	Marketa Kylouskova
> 	kylouskova@euromise.cz
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Torsten.Hothorn@rzmail.uni-erlangen.de  Mon Apr  9 17:19:10 2001
From: Torsten.Hothorn@rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Mon, 9 Apr 2001 18:19:10 +0200 (MEST)
Subject: [Rd] PR#896
In-Reply-To: <200104051119.NAA09993@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.21.0104091809580.10969-100000@artemis.imbe.med.uni-erlangen.de>



> Sorry to all that are angry about the form of my previous mail. I 
> didn't realise what would happen :((.
> 
> Here it is in (hopefully) plain text (if my mailer doesn't spoil it again):
> 
> ##############
> 
> Dear developers,
> 	I have a problem with some discrepancy between R 1.2.1 for 
> Windows and R 1.2.2 (and less) for Linux. While trying to correct 
> the wilcox.test (see my previous bug report) I encountered the 
> following problem: I wanted to check the behaviour of the function 
> wdiff used in the search for CI limits.
> 
> x<-rnorm(10,3,1)	
> y<-rnorm(10,0,1)	
> say 
> 
> x<-
> c(3.770684,4.654342,3.496403,1.772743,1.624953,2.645835,3.0994
> 77,1.706758,3.507709,1.982924)
> y<-c(-0.8161288,0.1632923,0.6421997,1.9270846,-
> 0.4668112,0.3587806,0.3312529,-0.5393900,
> 0.1057892,1.7963575)

`wdiff' is used for the computation of asymptotic confidence intervals for
samples with m,n > 50. I simulated the type I error rate and it works for
such large sample sizes. So maybe the problems are due to n.x = n.y = 10 ?

Torsten

> 
> mu<-0
> n.x<-length(x)
> n.y<-length(y)
> 
> wdiff <- function(d, zq) {
>    	dr <- rank(c(x- mu -d,y))
>    	NTIES.CI <- table(dr)
>    	dz <- (sum(dr[seq(along = x)]) - n.x * (n.x + 1)/2 - n.x * n.y/2)
> 	CORRECTION.CI<-0
>    SIGMA.CI <- sqrt((n.x * n.y/12) * ((n.x + n.y + 1) - 
> sum(NTIES.CI^3 - NTIES.CI)/((n.x + n.y) * (n.x + n.y - 1))))
>    dz <- (dz - CORRECTION.CI)/SIGMA.CI
>    abs(dz - zq)
> }
> 
> To examine the behivour I plotted the course of the wdiff for a lot of 
> d and three zq (0.05, 0.5, 0.95) and I let optimize to compute the 
> minimums. Then I plotted it. 
> 
> mumin<-min(x)-max(y)
> mumax<-max(x)-min(y) 
> 
> lll<-seq(mumin,mumax,by=0.01)
> wdl<-apply(cbind(lll),1,wdiff,zq=qnorm(0.05))
> wdm<-apply(cbind(lll),1,wdiff,zq=qnorm(0.50))
> wdu<-apply(cbind(lll),1,wdiff,zq=qnorm(0.95))
> 
> plot(lll,wdl,type="l")
> lines(lll,wdm,lty=4)
> lines(lll,wdu,lty=7)
> 
> 
> ol<-optimize(wdiff,c(mumin,mumax),zq=qnorm(0.05))$minimum
> om<-optimize(wdiff,c(mumin,mumax),zq=qnorm(0.5))$minimum
> ou<-optimize(wdiff,c(mumin,mumax),zq=qnorm(0.95))$minimum
> 
> abline(v=ol)
> abline(v=om,lty=4)
> abline(v=ou,lty=7)
> 
> 
> When it ran on my home Linux (R 1.2.2 (2001-02-26) Compiled 
> from source tarball on Linux with gcc version 2.95.2 19991024) it 
> computed the minimum for zq = 0.05 only, for the others it found 
> something totally wrong (three curves with "valleys", one line 
> indicating the right minimum, one line indicating where the 
> computed minimum surely doesn't lie; moreover, it was the same 
> for both 0.5 and 0.95). Then I checked it at work on S+2000 and R 
> 1.2.1 for Windows and it gave the correct results and picture (three 
> curves with "valleys" and three lines indicating where the minimum 
> lies). Could you, please, advise me whether the problem stands in 
> the platform version or in my compiled version, and what should I 
> do to make it work properly?
> 
> Thank you very much for your help.
> 
> 	Marketa Kylouskova
> 	marketa@ucw.cz
> 	kylouskova@euromise.cz
> 
>  
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ntakebay@bio.indiana.edu  Mon Apr  9 19:07:48 2001
From: ntakebay@bio.indiana.edu (ntakebay@bio.indiana.edu)
Date: Mon, 9 Apr 2001 20:07:48 +0200 (MET DST)
Subject: [Rd] syntax error in datetime.c (PR#901)
Message-ID: <200104091807.UAA14215@pubhealth.ku.dk>

Full_Name: Naoki Takebayashi
Version: 1.2.2
OS: Linux, RedHat 7.0/alpha
Submission from: (NULL) (152.3.12.123)


With RedHat 7.0/alpha (gcc 2.96-69), I encountered following error:

gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
-DHAVE_CONFIG_H -mieee  -O2 -mieee -c datetime.c -o datetime.o
datetime.c: In function `do_systime':
datetime.c:306: parse error before `ans'
datetime.c:307: `ans' undeclared (first use in this function)
datetime.c:307: (Each undeclared identifier is reported only once
datetime.c:307: for each function it appears in.)
make[3]: *** [datetime.o] Error 1
make[3]: Leaving directory `/usr/src/redhat/BUILD/R-1.2.2/src/main'

Following patch fixes this syntax error.

--- R-1.2.2/src/main/datetime.c.orig	Mon Apr  9 11:24:14 2001
+++ R-1.2.2/src/main/datetime.c	Mon Apr  9 11:25:11 2001
@@ -300,10 +300,10 @@
 SEXP do_systime(SEXP call, SEXP op, SEXP args, SEXP env)
 {
     time_t res = time(NULL);
+    SEXP ans = allocVector(REALSXP, 1);
 #ifdef USING_LEAPSECONDS
     res -= 22;
 #endif
-    SEXP ans = allocVector(REALSXP, 1);
     if(res != (time_t)(-1)) REAL(ans)[0] = (double) res;
     else REAL(ans)[0] = NA_REAL;
     return ans;


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Apr  9 19:16:21 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 9 Apr 2001 19:16:21 +0100 (BST)
Subject: [Rd] syntax error in datetime.c (PR#901)
In-Reply-To: <200104091807.UAA14215@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.31.0104091913160.3528-100000@auk.stats>

Thanks.  That means that the platform you are using has non-POSIX
datetime functions, BTW, and a case I coded for hypothetically
actually exists.  Strange that it should be a GNU-LINUX system,
though.

Fixed for 1.2.3.


On Mon, 9 Apr 2001 ntakebay@bio.indiana.edu wrote:

> Full_Name: Naoki Takebayashi
> Version: 1.2.2
> OS: Linux, RedHat 7.0/alpha
> Submission from: (NULL) (152.3.12.123)
>
>
> With RedHat 7.0/alpha (gcc 2.96-69), I encountered following error:
>
> gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
> -DHAVE_CONFIG_H -mieee  -O2 -mieee -c datetime.c -o datetime.o
> datetime.c: In function `do_systime':
> datetime.c:306: parse error before `ans'
> datetime.c:307: `ans' undeclared (first use in this function)
> datetime.c:307: (Each undeclared identifier is reported only once
> datetime.c:307: for each function it appears in.)
> make[3]: *** [datetime.o] Error 1
> make[3]: Leaving directory `/usr/src/redhat/BUILD/R-1.2.2/src/main'
>
> Following patch fixes this syntax error.
>
> --- R-1.2.2/src/main/datetime.c.orig	Mon Apr  9 11:24:14 2001
> +++ R-1.2.2/src/main/datetime.c	Mon Apr  9 11:25:11 2001
> @@ -300,10 +300,10 @@
>  SEXP do_systime(SEXP call, SEXP op, SEXP args, SEXP env)
>  {
>      time_t res = time(NULL);
> +    SEXP ans = allocVector(REALSXP, 1);
>  #ifdef USING_LEAPSECONDS
>      res -= 22;
>  #endif
> -    SEXP ans = allocVector(REALSXP, 1);
>      if(res != (time_t)(-1)) REAL(ans)[0] = (double) res;
>      else REAL(ans)[0] = NA_REAL;
>      return ans;
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Apr  9 21:18:10 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 9 Apr 2001 21:18:10 +0100 (BST)
Subject: [Rd] Special Interest Group on R/S and Databases
Message-ID: <Pine.GSO.4.31.0104092112220.5735-100000@auk.stats>

At the Vienna meeting of R-core and friends after DSC-2001 we decided to
set up some SIGs (special interest groups) in various topics. The first of
these has been set up on R (and S) and Databases.

There is an area on the developer web site at

http://developer.r-project.org/db/

and a mailing list (thanks to Martin Maechler) with a home page at

http://stat.ethz.ch/mailman/listinfo/r-sig-db

also linked off the developer site.

If you are interested please subscribe this week: I will start up the
discussion with a discussion paper early next week.

Brian Ripley

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Torsten.Hothorn@rzmail.uni-erlangen.de  Tue Apr 10 06:51:21 2001
From: Torsten.Hothorn@rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Tue, 10 Apr 2001 07:51:21 +0200 (MEST)
Subject: [Rd] confint's in t.test
Message-ID: <Pine.LNX.4.21.0104100749250.18520-100000@artemis.imbe.med.uni-erlangen.de>


> t.test(rnorm(10), rnorm(10), alternative="less")

         Welch Two Sample t-test 

data:  rnorm(10) and rnorm(10) 
t = -2.3628, df = 17.848, p-value = 0.01485 
alternative hypothesis: true difference in means is less than 0 
95 percent confidence interval:
         NA -0.2590752 
        ^^^^

I suppose that is what the prototype does, should one replace it by -Inf,
+ Inf resp. ?

Torsten

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Tue Apr 10 08:02:40 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Tue, 10 Apr 2001 09:02:40 +0200
Subject: [Rd] confint's in t.test
In-Reply-To: <Pine.LNX.4.21.0104100749250.18520-100000@artemis.imbe.med.uni-erlangen.de>
References: <Pine.LNX.4.21.0104100749250.18520-100000@artemis.imbe.med.uni-erlangen.de>
Message-ID: <15058.45072.744621.93607@mithrandir.hornik.net>

>>>>> Torsten Hothorn writes:

>> t.test(rnorm(10), rnorm(10), alternative="less")

>          Welch Two Sample t-test 

> data:  rnorm(10) and rnorm(10) 
> t = -2.3628, df = 17.848, p-value = 0.01485 
> alternative hypothesis: true difference in means is less than 0 
> 95 percent confidence interval:
>          NA -0.2590752 
>         ^^^^

> I suppose that is what the prototype does, should one replace it by
> -Inf, + Inf resp. ?

I'd say yes (which agrees with confidence intervals for the variance
and odds ratios) ...

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Tue Apr 10 08:33:00 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Tue, 10 Apr 2001 09:33:00 +0200
Subject: [Rd] Detaching "ctest"
In-Reply-To: <Pine.GSO.4.20.0104091419000.13680-100000@laplace>
References: <15057.44851.453347.367801@mithrandir.hornik.net>
 <Pine.GSO.4.20.0104091419000.13680-100000@laplace>
Message-ID: <15058.46892.196865.11757@mithrandir.hornik.net>

>>>>> Jonathan Rougier writes:

> On Mon, 9 Apr 2001, Kurt Hornik wrote:
>> >>>>> Jonathan Rougier writes:

>> > OK! if you put it like that, then I think that .First should
>> definitely > *not* be used for package set-up, as it prevents
>> .Rprofile commands from > being the last things executed before the
>> prompt, and thus removes > "complete user control" of the set-up.
>> 
>> Not sure if I understand this.
>> 
>> Upon startup,
>> 
>> * Then, unless `--no-init-file' was given, R searches for a file
>> called `.Rprofile' in the current directory or in the user's home
>> directory (in that order) and sources it.
>> 
>> * It also loads a saved image from `.RData' if there is one (unless
>> `--no-restore' or `--no-restore-data' was specified).
>> 
>> * Finally, if a function `.First' exists, it is executed.  This
>> function (as well as `.Last' which is executed at the end of the R
>> session) can be defined in the appropriate startup profiles, or
>> reside in `.RData'.
>> 
>> as per R-intro, so the user has perfect control over what happens by
>> providing a suitable .First in e.g. his ~/.Rprofile.

> You are right -- I was discounting the "inelegant" use of an empty
> .First in .Rprofile to mask the one defined in the global environment.
> I have approached this in terms of preventing an unwanted package from
> being loaded, but I can see the advantages of using a .First
> definition in the user's .Rprofile to explicitly load packages as
> well.  I guess my worry would be that as the core of R gets smaller
> and more packages are added to the default list it would be simpler
> for the user to remove the one or two packages that are not wanted,
> rather than having to specify explicitly in a .First all the packages
> that are required, as would be the case currently.

Agreed.  Actually, I think that .First *is* the right mechanism for
taking care of this, but not necessarily though explicit coding.  What I
have in mind is something like

	R> customize()
or
	R> customize("packages")

(as opposed to customize("options"))

bringing up a mechanism through which packages can be selected.  (There
is an additional issue of specifying their order ...)  This could then
be saved into, say, a user or site R configuration file (R.ini, .Rini),
containing e.g.

	[Packages]
	ctest = TRUE
	ts = FALSE

etc (modulo order ...).  The startup mechanism could then look for such
a file and build .First-style code from it ...

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From khamenya@mail.ru  Tue Apr 10 12:51:58 2001
From: khamenya@mail.ru (khamenya@mail.ru)
Date: Tue, 10 Apr 2001 13:51:58 +0200 (MET DST)
Subject: [Rd] BUG at http://www.r-project.org/ (PR#903)
Message-ID: <200104101151.NAA22091@pubhealth.ku.dk>

Dear Sirs,

1. link
    http://cran.r-project.org/bin/windows/windows-NT/
   is cycled. (and it is impossible to get R-binaries for Win2000)

2. why pages http://cran.r-project.org/ does not contain email address
   for such a bugs, broken links and etc?


Valery A.Khamenya



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Apr 10 14:20:03 2001
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 10 Apr 2001 09:20:03 -0400
Subject: [Rd] stop() and Rcmd
References: <Pine.LNX.4.31.0104041532410.15797-100000@gannet.stats> <3ACDC45F.B56A85AE@ukans.edu> <3ACDEF83.7237611B@bank-banque-canada.ca> <3ACE0625.F808E766@statistik.uni-dortmund.de> <3ACE12E0.94CFADF7@bank-banque-canada.ca> <3ACEE448.58C20D80@statisti
Message-ID: <3AD30883.49B56D97@bank-banque-canada.ca>

Uwe

It looks like stop() in test files does not generate an error that is caught by Rcmd
check on NT. Thus the fact that all the tests completed does not seem to mean too
much. In Unix if the tests complete then there have not been stop()s generated by out
of tolerance comparisons. This seems to mean that on NT all *.Rout files (50 or so)
need to be  examined to be sure that tests completed correctly.

At the bottom of the crvB07.Rout file you sent you will see

>   if (! all.ok) stop("some tests FAILED")
Error: some tests FAILED
Execution halted

Perhaps you could grep for "Execution halted" in the *.Rout files to see if other
tests failed. I am especially concerned about the tests in dse. The ones you sent
from dseplus are numerically sensitive and the second one seems to have passed, so
things look fairly good. (BTW, the values do seem to correspond more closely to
Solaris than Linux.)

Paul

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.C.Rougier@durham.ac.uk  Tue Apr 10 15:01:52 2001
From: J.C.Rougier@durham.ac.uk (J.C.Rougier@durham.ac.uk)
Date: Tue, 10 Apr 2001 16:01:52 +0200 (MET DST)
Subject: [Rd] Segmentation fault in subscripting array of lists (PR#904)
Message-ID: <200104101401.QAA23458@pubhealth.ku.dk>

I get a segmentation fault as follows:

> tmp <- array(list(), c(3, 4))
> tmp[[1, 2]]
NULL                                  # as expected
> tmp[[1, 2]]$fred <- 1:10
> tmp                                 # as expected
     [,1]   [,2]     [,3]   [,4]  
[1,] "NULL" "List,1" "NULL" "NULL"
[2,] "NULL" "NULL"   "NULL" "NULL"
[3,] "NULL" "NULL"   "NULL" "NULL"
> tmp[[1, 2]]                         # as expected
$fred
 [1]  1  2  3  4  5  6  7  8  9 10

> tmp[[1, ]]                          # whoops!
Segmentation fault

Cheers, Jonathan.

--please do not edit the information below--

Version:
 platform = sparc-sun-solaris2.7
 arch = sparc
 os = solaris2.7
 system = sparc, solaris2.7
 status = 
 major = 1
 minor = 2.1
 year = 2001
 month = 01
 day = 15
 language = R

Search Path:
 .GlobalEnv, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bolker@zoo.ufl.edu  Tue Apr 10 15:55:45 2001
From: bolker@zoo.ufl.edu (bolker@zoo.ufl.edu)
Date: Tue, 10 Apr 2001 16:55:45 +0200 (MET DST)
Subject: [Rd] segfault on Linux from buffer overflow in warning() ? (PR#905)
Message-ID: <200104101455.QAA24082@pubhealth.ku.dk>


   I have found what seems to be a bug in warning(), but perhaps
I'm being really boneheaded (it's happened before).  Essentially,
warning() seems to segfault if its argument is greater than 8191
characters (8192 is defined as BUFSIZE in errors.c, so a quick
workaround would be to boost this ...)
   The bug was initially provoked by trying to concatenate two
long tables -- the warning message about all the duplicate row
names caused the segfault.  Functions below should all trigger
the problem.
   I haven't got the development version, but I didn't see anything
in the CVS logs about this problem ...  the R code is a little too
tangled for me to fix immediately, but I'm hoping that this
information will help R-core folks find it fairly quickly.

  The reason I think I must be being boneheaded is that this
seems fairly major and obvious: hasn't anyone stumbled across
this while trying to concatenate long tables?

  Here are three functions, in increasing specificity, that trigger the
bug for sufficiently large arguments.


provoke.bug <- function(r=7500,c=c) {
  y1 <- matrix(runif(r*c),ncol=c)
  row.names(y1) <- 1:r
  y2 <- matrix(runif(r*c),ncol=c)
  row.names(y2) <- 1:r
  # problem triggered by data.frame()
  invisible(data.frame(rbind(y1,y2)))
}

## crashes between 1600 and 1700 rows, 1 column
## (overallocating buffer in duplicate rows warning?)

provoke.bug2 <- function(n=1600) {
  str <- as.character(1:n)
  dup <- duplicated(c(str,str))
  trywarn <- paste("duplicates:",paste(which(dup),collapse=","))
  cat("Length of warning message:",nchar(trywarn),"\n")
  warning(trywarn)
  ## problem is in warning() ...
}

provoke.bug3 <- function(n=1600) {
   warnmsg <- paste(LETTERS[sample(1:26,n,replace=TRUE)],collapse="")
   warning(warnmsg)
}

## crashes if warning message is > 8191 characters


--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status =
 major = 1
 minor = 2.1
 year = 2001
 month = 01
 day = 15
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base

-- 
318 Carr Hall                                bolker@zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From cpaul@ucla.edu  Tue Apr 10 16:50:46 2001
From: cpaul@ucla.edu (cpaul@ucla.edu)
Date: Tue, 10 Apr 2001 17:50:46 +0200 (MET DST)
Subject: [Rd] Win98 wheelmouse graphics lock problem (PR#906)
Message-ID: <200104101550.RAA24500@pubhealth.ku.dk>

Full_Name: Christopher Paul
Version: Version 1.2.2  (2001-02-26)
OS: Win 98
Submission from: (NULL) (4.35.137.70)


Using the GUI, if I make a plot(), click on the graphics window and then use my
wheelmouse to attempt to move up and down the graphics image, the image fails to
redrawn properly, and then entire GUI session "hangs" and needs to be closed.  I
wasn't aware how committed to the wheelmouse I had become, but even after
identifying the problem, I kept doing it.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Tue Apr 10 17:10:34 2001
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich Leisch)
Date: Tue, 10 Apr 2001 18:10:34 +0200
Subject: [Rd] BUG at http://www.r-project.org/ (PR#903)
In-Reply-To: <200104101151.NAA22091@pubhealth.ku.dk>
References: <200104101151.NAA22091@pubhealth.ku.dk>
Message-ID: <15059.12410.613040.846591@galadriel.ci.tuwien.ac.at>

>>>>> On Tue, 10 Apr 2001 13:51:58 +0200 (MET DST),
>>>>> khamenya  (k) wrote:

  > Dear Sirs,
  > 1. link
  >     http://cran.r-project.org/bin/windows/windows-NT/
  >    is cycled. (and it is impossible to get R-binaries for Win2000)

  > 2. why pages http://cran.r-project.org/ does not contain email address
  >    for such a bugs, broken links and etc?


This links are recursive by intent to ensure backwards compatibility
which you could have found out easily by reading the file ReadMe in
the directory:

** The directories windows-9x and windows-NT are recursive links and only
** there for backwards-compatibility. Please go directly to base or
** contrib to download R for all versions of Windows.



Hope this helps,

-- 
-------------------------------------------------------------------
                        Friedrich  Leisch 
Institut fr Statistik                     Tel: (+43 1) 58801 10715
Technische Universitt Wien                Fax: (+43 1) 58801 10798
Wiedner Hauptstrae 8-10/1071      Friedrich.Leisch@ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dsmith@insightful.com  Tue Apr 10 19:50:17 2001
From: dsmith@insightful.com (David M Smith)
Date: Tue, 10 Apr 2001 11:50:17 -0700
Subject: [Rd] Segmentation fault in subscripting array of lists (PR#904)
In-Reply-To: <200104101401.QAA23458@pubhealth.ku.dk>
Message-ID: <LGEFIDJJDBKMHCAKBCOIIEBBCPAA.dsmith@insightful.com>

R clearly shouldn't crash, but tmp[[1, ]] is semantically incorrect.  The
result of "[[" is required to be a single value from a vector (or generally,
an array) of the mode of the vector.  To select more than one element from
an array, you must use "[".  The results from S-PLUS 6 are:

> tmp[[1,  ]]
Problem in [[: Attempt to select more than one element: structure(list(NULL,
NULL, NULL, list(fred = c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)), NULL, NUL....
Use traceback() to see the call stack

This error message indicates the error.  Using "[" gives the correct result:

> tmp[1,  ]
[[1]]:
NULL

[[2]]:
[[2]]$fred:
 [1]  1  2  3  4  5  6  7  8  9 10


[[3]]:
NULL

[[4]]:
NULL


# David Smith

--
David M Smith <dsmith@insightful.com>
S-PLUS Product Marketing Manager, Insightful Corp, Seattle WA
Tel: +1 (206) 283 8802 x360
Fax: +1 (206) 283 0347

MathSoft is now Insightful!  See www.insightful.com for details.

> -----Original Message-----
> From: owner-r-devel@stat.math.ethz.ch
> [mailto:owner-r-devel@stat.math.ethz.ch]On Behalf Of
> J.C.Rougier@durham.ac.uk
> Sent: Tuesday, April 10, 2001 07:02
> To: r-devel@stat.math.ethz.ch
> Cc: R-bugs@biostat.ku.dk
> Subject: [Rd] Segmentation fault in subscripting array of lists (PR#904)
>
>
> I get a segmentation fault as follows:
>
> > tmp <- array(list(), c(3, 4))
> > tmp[[1, 2]]
> NULL                                  # as expected
> > tmp[[1, 2]]$fred <- 1:10
> > tmp                                 # as expected
>      [,1]   [,2]     [,3]   [,4]
> [1,] "NULL" "List,1" "NULL" "NULL"
> [2,] "NULL" "NULL"   "NULL" "NULL"
> [3,] "NULL" "NULL"   "NULL" "NULL"
> > tmp[[1, 2]]                         # as expected
> $fred
>  [1]  1  2  3  4  5  6  7  8  9 10
>
> > tmp[[1, ]]                          # whoops!
> Segmentation fault
>
> Cheers, Jonathan.
>
> --please do not edit the information below--
>
> Version:
>  platform = sparc-sun-solaris2.7
>  arch = sparc
>  os = solaris2.7
>  system = sparc, solaris2.7
>  status =
>  major = 1
>  minor = 2.1
>  year = 2001
>  month = 01
>  day = 15
>  language = R
>
> Search Path:
>  .GlobalEnv, Autoloads, package:base
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-
> r-devel mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Apr 11 08:10:14 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 11 Apr 2001 09:10:14 +0200 (MET DST)
Subject: [Rd] Win98 wheelmouse graphics lock problem (PR#906)
Message-ID: <200104110710.JAA27086@pubhealth.ku.dk>

On Tue, 10 Apr 2001 cpaul@ucla.edu wrote:

> Full_Name: Christopher Paul
> Version: Version 1.2.2  (2001-02-26)
> OS: Win 98
> Submission from: (NULL) (4.35.137.70)
>
>
> Using the GUI, if I make a plot(), click on the graphics window and then use my
> wheelmouse to attempt to move up and down the graphics image, the image fails to
> redrawn properly, and then entire GUI session "hangs" and needs to be closed.  I
> wasn't aware how committed to the wheelmouse I had become, but even after
> identifying the problem, I kept doing it.

I have no idea what the `wheelmouse' on your system is generating in the
way of events, or what you expected to happen.  An R graphics window does
not have vertical scrollbars by default.

Please debug this on your own system and submit a match.  The developers
neither use Win 98 nor a `wheelmouse', but the emulation on my Windows NT
system gives no problems.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.C.Rougier@durham.ac.uk  Wed Apr 11 09:15:26 2001
From: J.C.Rougier@durham.ac.uk (Jonathan Rougier)
Date: Wed, 11 Apr 2001 09:15:26 +0100 (BST)
Subject: [Rd] replicating lists
Message-ID: <Pine.GSO.4.20.0104110904110.13680-100000@laplace>

Hi Everyone,

At the moment it is not possible to replicate complex lists, but only
simple ones:

> rep(list(fred = 1:10), 10) # works fine
> rep(list(fred = 1:10, happy = "squash"), 10)
Error in rep(list(fred = 1:10, happy = "squash"), 10) : 
        Unimplemented feature in rep

There is nothing in ?rep that suggests that the latter should not work,
and I think it would be a desirable feature if it did.  For example, I
want to create an array of lists, and it would be nice for me to set
default values in the array function, rather than having to loop through
the components and setting them individually.

I've had a quick look in do_rep in seq.c and to my untrained eye it looks
as though the LISTSXP case of the main switch might need to be replaced by
a VECSXP, but I am not sure about other implications.

Cheers, Jonathan.

Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Apr 11 09:25:32 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 11 Apr 2001 09:25:32 +0100 (BST)
Subject: [Rd] replicating lists
In-Reply-To: <Pine.GSO.4.20.0104110904110.13680-100000@laplace>
Message-ID: <Pine.GSO.4.31.0104110924120.26817-100000@toucan.stats>

On Wed, 11 Apr 2001, Jonathan Rougier wrote:

> Hi Everyone,
>
> At the moment it is not possible to replicate complex lists, but only
> simple ones:
>
> > rep(list(fred = 1:10), 10) # works fine
> > rep(list(fred = 1:10, happy = "squash"), 10)
> Error in rep(list(fred = 1:10, happy = "squash"), 10) :
>         Unimplemented feature in rep

It is implemented in S3 and S4.

> There is nothing in ?rep that suggests that the latter should not work,
> and I think it would be a desirable feature if it did.  For example, I
> want to create an array of lists, and it would be nice for me to set
> default values in the array function, rather than having to loop through
> the components and setting them individually.
>
> I've had a quick look in do_rep in seq.c and to my untrained eye it looks
> as though the LISTSXP case of the main switch might need to be replaced by
> a VECSXP, but I am not sure about other implications.

I suggest filing this as a bug report.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.C.Rougier@durham.ac.uk  Wed Apr 11 09:34:28 2001
From: J.C.Rougier@durham.ac.uk (J.C.Rougier@durham.ac.uk)
Date: Wed, 11 Apr 2001 10:34:28 +0200 (MET DST)
Subject: [Rd] replicating lists (fwd) (PR#907)
Message-ID: <200104110834.KAA28896@pubhealth.ku.dk>

Filed as a bug, as suggested by Brian R., Jonathan.

Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html

---------- Forwarded message ----------
Date: Wed, 11 Apr 2001 09:15:26 +0100 (BST)
From: Jonathan Rougier <dma0jcr@euclid.dur.ac.uk>
To: r-devel@stat.math.ethz.ch
Subject: replicating lists

Hi Everyone,

At the moment it is not possible to replicate complex lists, but only
simple ones:

> rep(list(fred = 1:10), 10) # works fine
> rep(list(fred = 1:10, happy = "squash"), 10)
Error in rep(list(fred = 1:10, happy = "squash"), 10) : 
        Unimplemented feature in rep

There is nothing in ?rep that suggests that the latter should not work,
and I think it would be a desirable feature if it did.  For example, I
want to create an array of lists, and it would be nice for me to set
default values in the array function, rather than having to loop through
the components and setting them individually.

I've had a quick look in do_rep in seq.c and to my untrained eye it looks
as though the LISTSXP case of the main switch might need to be replaced by
a VECSXP, but I am not sure about other implications.

Cheers, Jonathan.

Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rgentlem@jimmy.harvard.edu  Wed Apr 11 14:29:27 2001
From: rgentlem@jimmy.harvard.edu (Robert Gentleman)
Date: Wed, 11 Apr 2001 09:29:27 -0400
Subject: [Rd] a couple of ideas/proposals
Message-ID: <20010411092927.D23203@jimmy.harvard.edu>

 Byron Ellis has been making some progress on a hdf5 library for
 microarray data (and any other thing you want to put in there).
 In doing so some issues have arisen that are of more general
 interest.

  1) hdf5 supports annotation (through comments) so it would be nice
  if the comment function in R became generic. I think this is
  backward compatible and basically not really an issue of any kind.

  2) When we start to think of proxy-objects (such as database tables
  and hdf5 arrays) as if they were R objects of a particular type
  things become rather interesting. 
     I'm starting to think that the right abstraction for hdf5 is as
  arrays (not dataframes) since the slabs are homogeneous. For us they
  are just ints or floats but they can be arbitrary so maybe the
  abstraction really is dataframe.
     In any event, the interesting question is about arraySubscript.
  (and I guess other similar functionality).
     Currently this gets (int dim, SEXP s, SEXP x)
   where s is the subscript argument and x is the object itself. All
  we do with x is to ask it for its dim attribute and potentially its
  DimNames attribute.
     We would like to use arraySubscript to generate the subscripts
  for [.hdf5.dataset. But since these guys aren't really R arrays this
  is slightly problematic. It might be better if we either change
  arraySubscript to accept the dims and dimnames but not x (so x can
  really be anything) or add a new entry point that does accept only
  these. I think the latter is the correct route - (do we have a way
  of deprecating R internals).
    I think that in general it would be nice to think of as much of
  the internal functionality moving towards supporting "non-internal"
  versions of some data structures. Especially arrays and dataframes
  since there seems to be some advantage to having external versions
  of them.

    Another thing that Byron mentioned is that he is using finalizers
    quite a lot but that R doesn't do a gc on exit and so these don't
    always get called (I haven't checked) but I think that might
    become necessary.
-- 
+---------------------------------------------------------------------------+
| Robert Gentleman                 phone : (617) 632-5250                   |
| Associate Professor              fax:   (617)  632-2444                   |
| Department of Biostatistics      office: M1B28
| Harvard School of Public Health  email: rgentlem@jimmy.dfci.harvard.edu   |
+---------------------------------------------------------------------------+
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From David James <dj@research.bell-labs.com>  Wed Apr 11 15:00:46 2001
From: David James <dj@research.bell-labs.com> (David James)
Date: Wed, 11 Apr 2001 10:00:46 -0400 (EDT)
Subject: [Rd] replicating lists
Message-ID: <200104111400.KAA21045@jessie.research.bell-labs.com>

A workaround is to use rep() inside "[":

> a <- list(a=1, b=2, c=3)
> a[rep(1:3, 1:3)]
$a
[1] 1

$b
[1] 2

$b
[1] 2

$c
[1] 3

$c
[1] 3

$c
[1] 3

Note, however, that names are no longer unique!

David A. James
Statistics Research, Room 2C-253            Phone:  (908) 582-3082       
Bell Labs, Lucent Technologies              Fax:    (908) 582-3340
Murray Hill, NJ 09794-0636
------------------------------------------------------------------------

> X-Authentication-Warning: toucan.stats: ripley owned process doing -bs
> Date: Wed, 11 Apr 2001 09:25:32 +0100 (BST)
> From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
> X-X-Sender: <ripley@toucan.stats>
> To: Jonathan Rougier <J.C.Rougier@durham.ac.uk>
> cc: <r-devel@stat.math.ethz.ch>
> Subject: Re: [Rd] replicating lists
> MIME-Version: 1.0
> 
> On Wed, 11 Apr 2001, Jonathan Rougier wrote:
> 
> > Hi Everyone,
> >
> > At the moment it is not possible to replicate complex lists, but only
> > simple ones:
> >
> > > rep(list(fred = 1:10), 10) # works fine
> > > rep(list(fred = 1:10, happy = "squash"), 10)
> > Error in rep(list(fred = 1:10, happy = "squash"), 10) :
> >         Unimplemented feature in rep
> 
> It is implemented in S3 and S4.
> 
> > There is nothing in ?rep that suggests that the latter should not work,
> > and I think it would be a desirable feature if it did.  For example, I
> > want to create an array of lists, and it would be nice for me to set
> > default values in the array function, rather than having to loop through
> > the components and setting them individually.
> >
> > I've had a quick look in do_rep in seq.c and to my untrained eye it looks
> > as though the LISTSXP case of the main switch might need to be replaced by
> > a VECSXP, but I am not sure about other implications.
> 
> I suggest filing this as a bug report.
> 
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> 
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@nokomis.stat.umn.edu  Wed Apr 11 15:14:53 2001
From: luke@nokomis.stat.umn.edu (Luke Tierney)
Date: Wed, 11 Apr 2001 09:14:53 -0500
Subject: [Rd] a couple of ideas/proposals
In-Reply-To: <20010411092927.D23203@jimmy.harvard.edu>; from rgentlem@jimmy.harvard.edu on Wed, Apr 11, 2001 at 09:29:27AM -0400
References: <20010411092927.D23203@jimmy.harvard.edu>
Message-ID: <20010411091453.A18327@nokomis.stat.umn.edu>

On Wed, Apr 11, 2001 at 09:29:27AM -0400, Robert Gentleman wrote:
>     Another thing that Byron mentioned is that he is using finalizers
>     quite a lot but that R doesn't do a gc on exit and so these don't
>     always get called (I haven't checked) but I think that might
>     become necessary.

I think what is needed here is a more flexible exit handler mechanism
together with weak references (which I'm hoping to add before too long).

For exit handling right now I think all we have is .Last.  It would be
nice to have something more like the
Tcl_CreateExitHandler/Tcl_DeleteExitHandler mechanism, together with
an appropriate R interface.

Without knowing the details I can't be sure, but I suspect he doesn't
really want a gc, which would only run the finalizers for unreachable
objects (actually might run is a better since there are no guarantees
of timeliness with finalization).  Instead I suspect he would like a
means of making sure all external objects he uses are shut down, even
the reachable ones.  To do that would require keeping track if all
those objects in a way that doesn't prevent GC (i.e. with weak
references) and then running through those externals and shutting them
down in an exit handler routine.

luke

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke@stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.C.Rougier@durham.ac.uk  Wed Apr 11 15:28:02 2001
From: J.C.Rougier@durham.ac.uk (Jonathan Rougier)
Date: Wed, 11 Apr 2001 15:28:02 +0100 (BST)
Subject: [Rd] replicating lists
In-Reply-To: <200104111400.KAA21045@jessie.research.bell-labs.com>
Message-ID: <Pine.GSO.4.20.0104111524560.13680-100000@laplace>

On Wed, 11 Apr 2001, David James wrote:

> A workaround is to use rep() inside "[":
> 
> > a <- list(a=1, b=2, c=3)
> > a[rep(1:3, 1:3)]
> $a
> [1] 1
> 
> $b
> [1] 2
> 
> $b
> [1] 2
> 
> $c
> [1] 3
> 
> $c
> [1] 3
> 
> $c
> [1] 3
> 
> Note, however, that names are no longer unique!

This work-around is cunning but needs a bit of care, as to get the
replication of the whole of fred you need to wrap the list itself:

> fred <- list(happy = 1:10, fred = "squash")
> list(fred)[rep(1, 10)] # list with 10 copies of fred

Cheers, Jonathn.

Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.C.Rougier@durham.ac.uk  Wed Apr 11 16:14:04 2001
From: J.C.Rougier@durham.ac.uk (Jonathan Rougier)
Date: Wed, 11 Apr 2001 16:14:04 +0100 (BST)
Subject: [Rd] replicating lists
In-Reply-To: <200104111457.KAA05539@jessie.research.bell-labs.com>
Message-ID: <Pine.GSO.4.20.0104111605580.13680-100000@laplace>

On Wed, 11 Apr 2001, David James wrote:

> Yes, I agree that the work-around needs some care, but I'm not sure 
> we need to wrap the list itself -- we're simply using properties of 
> "[" on lists.  If the subscript is rep(1, 10), then we'll get the 
> first element 10 times (which is *not* replicating the list).
> To get the replication we need to index every element in 
> the list as many times as required.

Not sure I follow you here.  I want n copies of an arbitrary list, as a
list, so list(fred)[rep(1, n)] is desired, where fred is the list I want
replicated.  Unfortuntely this does not solve the underlying problem,
which is that I want to do

> tmp <- array(fred, c(3, 4))

which breaks because "rep", invoked by "array", currently fails to handle
complex lists.  However I am happy to report that

> tmp <- array(list(fred)[rep(1, 12)], c(3, 4))

does work as expected:

> tmp[[3, 4]] # fred again!

So that's the work-around in my particular case.

Cheers, Jonathan.

Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From David James <dj@research.bell-labs.com>  Wed Apr 11 15:57:01 2001
From: David James <dj@research.bell-labs.com> (David James)
Date: Wed, 11 Apr 2001 10:57:01 -0400 (EDT)
Subject: [Rd] replicating lists
Message-ID: <200104111457.KAA05539@jessie.research.bell-labs.com>

hi,

Yes, I agree that the work-around needs some care, but I'm not sure 
we need to wrap the list itself -- we're simply using properties of 
"[" on lists.  If the subscript is rep(1, 10), then we'll get the 
first element 10 times (which is *not* replicating the list).
To get the replication we need to index every element in 
the list as many times as required.

David

> Date: Wed, 11 Apr 2001 15:28:02 +0100 (BST)
> From: Jonathan Rougier <J.C.Rougier@durham.ac.uk>
> X-Sender: dma0jcr@laplace
> To: David James <dj@research.bell-labs.com>
> cc: r-devel@stat.math.ethz.ch
> Subject: Re: [Rd] replicating lists
> MIME-Version: 1.0
> 
> On Wed, 11 Apr 2001, David James wrote:
> 
> > A workaround is to use rep() inside "[":
> > 
> > > a <- list(a=1, b=2, c=3)
> > > a[rep(1:3, 1:3)]
> > $a
> > [1] 1
> > 
> > $b
> > [1] 2
> > 
> > $b
> > [1] 2
> > 
> > $c
> > [1] 3
> > 
> > $c
> > [1] 3
> > 
> > $c
> > [1] 3
> > 
> > Note, however, that names are no longer unique!
> 
> This work-around is cunning but needs a bit of care, as to get the
> replication of the whole of fred you need to wrap the list itself:
> 
> > fred <- list(happy = 1:10, fred = "squash")
> > list(fred)[rep(1, 10)] # list with 10 copies of fred
> 
> Cheers, Jonathn.
> 
> Jonathan Rougier                       Science Laboratories
> Department of Mathematical Sciences    South Road
> University of Durham                   Durham DH1 3LE
> tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
> http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Apr 11 17:33:09 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 11 Apr 2001 17:33:09 +0100 (BST)
Subject: [Rd] replicating lists
In-Reply-To: <200104111457.KAA05539@jessie.research.bell-labs.com>
Message-ID: <Pine.LNX.4.31.0104111732380.1615-100000@gannet.stats>

The most obvious fix is internal, and that should be done fairly soon.


On Wed, 11 Apr 2001, David James wrote:

> hi,
>
> Yes, I agree that the work-around needs some care, but I'm not sure
> we need to wrap the list itself -- we're simply using properties of
> "[" on lists.  If the subscript is rep(1, 10), then we'll get the
> first element 10 times (which is *not* replicating the list).
> To get the replication we need to index every element in
> the list as many times as required.
>
> David
>
> > Date: Wed, 11 Apr 2001 15:28:02 +0100 (BST)
> > From: Jonathan Rougier <J.C.Rougier@durham.ac.uk>
> > X-Sender: dma0jcr@laplace
> > To: David James <dj@research.bell-labs.com>
> > cc: r-devel@stat.math.ethz.ch
> > Subject: Re: [Rd] replicating lists
> > MIME-Version: 1.0
> >
> > On Wed, 11 Apr 2001, David James wrote:
> >
> > > A workaround is to use rep() inside "[":
> > >
> > > > a <- list(a=1, b=2, c=3)
> > > > a[rep(1:3, 1:3)]
> > > $a
> > > [1] 1
> > >
> > > $b
> > > [1] 2
> > >
> > > $b
> > > [1] 2
> > >
> > > $c
> > > [1] 3
> > >
> > > $c
> > > [1] 3
> > >
> > > $c
> > > [1] 3
> > >
> > > Note, however, that names are no longer unique!
> >
> > This work-around is cunning but needs a bit of care, as to get the
> > replication of the whole of fred you need to wrap the list itself:
> >
> > > fred <- list(happy = 1:10, fred = "squash")
> > > list(fred)[rep(1, 10)] # list with 10 copies of fred
> >
> > Cheers, Jonathn.
> >
> > Jonathan Rougier                       Science Laboratories
> > Department of Mathematical Sciences    South Road
> > University of Durham                   Durham DH1 3LE
> > tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
> > http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html
> >
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Setzer.Woodrow@epamail.epa.gov  Wed Apr 11 22:39:57 2001
From: Setzer.Woodrow@epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Wed, 11 Apr 2001 23:39:57 +0200 (MET DST)
Subject: [Rd] using bitmap to make a multi-page pdf file results in duplication of (PR#908)
Message-ID: <200104112139.XAA04508@pubhealth.ku.dk>

When I execute the following code:

bitmap("test.pdf",type="pdfwrite")
plot(1:10,1:10,main="ONE")
plot(1:10,1:10,main="TWO")
dev.off()

the resulting file test.pdf contains four pages: graph ONE, graph TWO,
graph ONE, graph TWO.  I can recreate the problem with R version 1.2.1 and
1.2.2.  I am using Aladdin ghostscript version 6.50.  The temporary file
Rbit... has the correct number of graphs in it.  Furthermore, if I execute
from the command line the command as constructed in 'bitmap()', using the
Rbit... file as input, I get a pdf file with the correct number of graphs
in it.


--please do not edit the information below--

Version:
 platform = i386-pc-mingw32
 arch = x86
 os = Win32
 system = x86, Win32
 status =
 major = 1
 minor = 2.1
 year = 2001
 month = 01
 day = 15
 language = R

Windows 9x 4.10 (build 2222)  A

Search Path:
 .GlobalEnv, package:MASS, package:ctest, Autoloads, package:base



I am using ghostscript version 6.50, and have the following setup:
R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919) 541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Apr 12 07:48:07 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 12 Apr 2001 08:48:07 +0200 (MET DST)
Subject: [Rd] using bitmap to make a multi-page pdf file results in (PR#909)
Message-ID: <200104120648.IAA05429@pubhealth.ku.dk>

On Wed, 11 Apr 2001 Setzer.Woodrow@epamail.epa.gov wrote:

> When I execute the following code:
>
> bitmap("test.pdf",type="pdfwrite")
> plot(1:10,1:10,main="ONE")
> plot(1:10,1:10,main="TWO")
> dev.off()
>
> the resulting file test.pdf contains four pages: graph ONE, graph TWO,
> graph ONE, graph TWO.  I can recreate the problem with R version 1.2.1 and
> 1.2.2.  I am using Aladdin ghostscript version 6.50.  The temporary file
> Rbit... has the correct number of graphs in it.  Furthermore, if I execute
> from the command line the command as constructed in 'bitmap()', using the
> Rbit... file as input, I get a pdf file with the correct number of graphs
> in it.


It's  Windows-specific and easy to fix: replace

    cmd <- paste(gsexe, " -dNOPAUSE -dBATCH -q -sDEVICE=", type,
                 " -r", res,
                 " -g", ceiling(res*width), "x", ceiling(res*height),
                 " -sOutputFile=", file, " ", tmp, sep="")

by

    cmd <- paste(gsexe, " -dNOPAUSE -dBATCH -q -sDEVICE=", type,
                 " -r", res,
                 " -g", ceiling(res*width), "x", ceiling(res*height),
                 " -sOutputFile=", file, sep="")

Fixed for 1.2.3

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ligges@statistik.uni-dortmund.de  Thu Apr 12 08:50:48 2001
From: ligges@statistik.uni-dortmund.de (ligges@statistik.uni-dortmund.de)
Date: Thu, 12 Apr 2001 09:50:48 +0200 (MET DST)
Subject: [Rd] Re: stop() and Rcmd (PR#910)
Message-ID: <200104120750.JAA05587@pubhealth.ku.dk>

"Rcmd check"  on NT does not catch errors generated by stop() in files
in the tests directory. Thus the fact that all the tests complete does
not mean they completed succesfully.

This report is based on output from Rcmd check for the bundle dseplus
version 2001.4-1. The test  curve/tests/crvB07.R does a comparison which
on NT is outside of tolerance and executes stop(). (The comparison value
has been adjusted so that future versions of dseplus will not fail on
this test.)

Paul Gilbert / Uwe Ligges


--please do not edit the information below--

Version:
 platform = i386-pc-mingw32
 arch = x86
 os = Win32
 system = x86, Win32
 status = 
 major = 1
 minor = 2.2
 year = 2001
 month = 02
 day = 26
 language = R

Windows NT 4.0 (build 1381) Service Pack 6

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.C.Rougier@durham.ac.uk  Thu Apr 12 09:13:21 2001
From: J.C.Rougier@durham.ac.uk (Jonathan Rougier)
Date: Thu, 12 Apr 2001 09:13:21 +0100 (BST)
Subject: [Rd] replicating lists
In-Reply-To: <Pine.LNX.4.31.0104111732380.1615-100000@gannet.stats>
Message-ID: <Pine.GSO.4.20.0104120859570.13680-100000@laplace>

Hi Brian,

After a discussion with David James can you clarify exactly what you think
the behaviour of "rep" will be?  The three alternatives for rep(fred, 5)
would appear to be

> fred <- list(happy = 1:10, name = "squash")
> list(fred)[rep(1, 5)]                          # version 1
> fred[rep(seq(along=fred), length=5)]           # version 2
> unlist(list(fred)[rep(1, 5)], recursive=FALSE) # version 3

I was expecting the first, as this makes sense in the context of

> tmp <- array(fred, c(3, 4))

but I can see that the second is also a natural way to think about
replicating a list.  I also notice that S+ uses version 3.  Personally I
don't like version 3 as it is going to duplicate names, and it is not
going to fit with "array".

Confused, Jonathan.

On Wed, 11 Apr 2001, Prof Brian Ripley wrote:

> The most obvious fix is internal, and that should be done fairly soon.
> 
> 
> On Wed, 11 Apr 2001, David James wrote:
> 
> > hi,
> >
> > Yes, I agree that the work-around needs some care, but I'm not sure
> > we need to wrap the list itself -- we're simply using properties of
> > "[" on lists.  If the subscript is rep(1, 10), then we'll get the
> > first element 10 times (which is *not* replicating the list).
> > To get the replication we need to index every element in
> > the list as many times as required.
> >
> > David
> >
> > > Date: Wed, 11 Apr 2001 15:28:02 +0100 (BST)
> > > From: Jonathan Rougier <J.C.Rougier@durham.ac.uk>
> > > X-Sender: dma0jcr@laplace
> > > To: David James <dj@research.bell-labs.com>
> > > cc: r-devel@stat.math.ethz.ch
> > > Subject: Re: [Rd] replicating lists
> > > MIME-Version: 1.0
> > >
> > > On Wed, 11 Apr 2001, David James wrote:
> > >
> > > > A workaround is to use rep() inside "[":
> > > >
> > > > > a <- list(a=1, b=2, c=3)
> > > > > a[rep(1:3, 1:3)]
> > > > $a
> > > > [1] 1
> > > >
> > > > $b
> > > > [1] 2
> > > >
> > > > $b
> > > > [1] 2
> > > >
> > > > $c
> > > > [1] 3
> > > >
> > > > $c
> > > > [1] 3
> > > >
> > > > $c
> > > > [1] 3
> > > >
> > > > Note, however, that names are no longer unique!
> > >
> > > This work-around is cunning but needs a bit of care, as to get the
> > > replication of the whole of fred you need to wrap the list itself:
> > >
> > > > fred <- list(happy = 1:10, fred = "squash")
> > > > list(fred)[rep(1, 10)] # list with 10 copies of fred
> > >
> > > Cheers, Jonathn.

Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Apr 12 09:25:36 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 12 Apr 2001 09:25:36 +0100 (BST)
Subject: [Rd] Re: stop() and Rcmd (PR#910)
In-Reply-To: <200104120750.JAA05587@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.31.0104120922310.823-100000@toucan.stats>

On Thu, 12 Apr 2001 ligges@statistik.uni-dortmund.de wrote:

> "Rcmd check"  on NT does not catch errors generated by stop() in files
> in the tests directory. Thus the fact that all the tests complete does
> not mean they completed succesfully.
>
> This report is based on output from Rcmd check for the bundle dseplus
> version 2001.4-1. The test  curve/tests/crvB07.R does a comparison which
> on NT is outside of tolerance and executes stop(). (The comparison value
> has been adjusted so that future versions of dseplus will not fail on
> this test.)

Perl version?  (Lots of these things depend critically on the build.)
Does make pkgcheck-foo work or not?

Can you provide a patch that works on your setup, please.  Otherwise it
will remain unfixed.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Apr 12 09:40:43 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 12 Apr 2001 09:40:43 +0100 (BST)
Subject: [Rd] replicating lists
In-Reply-To: <Pine.GSO.4.20.0104120859570.13680-100000@laplace>
Message-ID: <Pine.GSO.4.31.0104120925470.823-100000@toucan.stats>

On Thu, 12 Apr 2001, Jonathan Rougier wrote:

> Hi Brian,
>
> After a discussion with David James can you clarify exactly what you think
> the behaviour of "rep" will be?  The three alternatives for rep(fred, 5)
> would appear to be
>
> > fred <- list(happy = 1:10, name = "squash")
> > list(fred)[rep(1, 5)]                          # version 1
> > fred[rep(seq(along=fred), length=5)]           # version 2
> > unlist(list(fred)[rep(1, 5)], recursive=FALSE) # version 3
>
> I was expecting the first, as this makes sense in the context of
>
> > tmp <- array(fred, c(3, 4))
>
> but I can see that the second is also a natural way to think about
> replicating a list.  I also notice that S+ uses version 3.  Personally I
> don't like version 3 as it is going to duplicate names, and it is not
> going to fit with "array".
>
> Confused, Jonathan.

We follow the prototype in cases of doubt, so version 3.  *However*,
S-PLUS does different things by version, so version 6.0 drops the
duplicated names.  I really think only 3 makes sense: a list is a generic
vector, and you do exactly the same thing as for any other sort of vector.
The only issue is the names, and

x <- letters[1:3]
names(x) <- x
rep(x, 5)

drops names in S+6.0, keeps them in S+3.4 and R.  So the S-PLUS versions
are doing consistent things with character vectors and lists.

As for array, again it fits with all other sorts of vectors.   I think you
are misconceiving what a list is: think of it as a vector with
components of different types.  An array list is just an array with
elements of different types.  The problems you had with [[1, ]] stem from
the same problem,

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From e.zwane@fss.uu.nl  Thu Apr 12 09:44:17 2001
From: e.zwane@fss.uu.nl (e.zwane@fss.uu.nl)
Date: Thu, 12 Apr 2001 10:44:17 +0200 (MET DST)
Subject: [Rd] .Random.seed (PR#911)
Message-ID: <200104120844.KAA05804@pubhealth.ku.dk>

I am not sure whether this is really a bug, but seems to be as my program 
works pretty well in S+, for small iterations.

I am creating a random sample from a chi^2 distribution with 23.5 df. Thus 
I have to sample from a chi^2 with 23 or 24 df with probability 0.5. The 
other alternative is to create a weighted version of the two distribution, 
which is where my problem lies.

I use the following commands

while(iter<100){
old.seed<-.Random.seed
#sample from chi^2 23
set.seed(old.seed)
#sample from chi^2 24

#chi^2, 23.5 <- 0.5*(chi^2 23+chi^2 24)
iter+1
}

The unfortunate thing is that the ".Random.seed" is no longer random but 
remains constant, and I want to find ways around this problem.
_______________________________________________________________________
Eugene ZWANE
Department of Methodology and Statistics
Postbus 80.140
3508 TC, Utrecht
The Netherlands

Tel: +31 (030) 253-7635
_______________________________________________________________________
The formulation of a problem is more often essential than its solution 
which may be merely a matter of mathematical or experimental skill. 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Apr 12 10:08:20 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 12 Apr 2001 11:08:20 +0200 (MET DST)
Subject: [Rd] .Random.seed (PR#911)
Message-ID: <200104120908.LAA05854@pubhealth.ku.dk>

On Thu, 12 Apr 2001 e.zwane@fss.uu.nl wrote:

> I am not sure whether this is really a bug, but seems to be as my program
> works pretty well in S+, for small iterations.

It contains two serious bugs.  Please read the FAQ on reporting BUGS.

> I am creating a random sample from a chi^2 distribution with 23.5 df. Thus
> I have to sample from a chi^2 with 23 or 24 df with probability 0.5. The
> other alternative is to create a weighted version of the two distribution,
> which is where my problem lies.
>
> I use the following commands
>
> while(iter<100){
> old.seed<-.Random.seed
> #sample from chi^2 23
> set.seed(old.seed)

That's invalid in both S-PLUS and in R.  The argument to set.seed is
not in the format of the result of the return from .Random.seed.

> #sample from chi^2 24
>
> #chi^2, 23.5 <- 0.5*(chi^2 23+chi^2 24)

That's an average, not an equi-probability choice.

> iter+1
> }
>
> The unfortunate thing is that the ".Random.seed" is no longer random but
> remains constant, and I want to find ways around this problem.

Use the functions correctly!  You really should not be restoring random
seeds during a simulation, as you will get heavily dependent rvs.

If you really want a Chi-squared with 23.5 df, use rgamma.  It can do it
exactly.


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Thu Apr 12 11:58:45 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Thu, 12 Apr 2001 12:58:45 +0200
Subject: [Rd] replicating lists
In-Reply-To: <Pine.GSO.4.31.0104120925470.823-100000@toucan.stats>
References: <Pine.GSO.4.20.0104120859570.13680-100000@laplace>
 <Pine.GSO.4.31.0104120925470.823-100000@toucan.stats>
Message-ID: <15061.35429.294081.705880@mithrandir.hornik.net>

>>>>> Prof Brian Ripley writes:

> On Thu, 12 Apr 2001, Jonathan Rougier wrote:
>> Hi Brian,
>> 
>> After a discussion with David James can you clarify exactly what you think
>> the behaviour of "rep" will be?  The three alternatives for rep(fred, 5)
>> would appear to be
>> 
>> > fred <- list(happy = 1:10, name = "squash")
>> > list(fred)[rep(1, 5)]                          # version 1
>> > fred[rep(seq(along=fred), length=5)]           # version 2
>> > unlist(list(fred)[rep(1, 5)], recursive=FALSE) # version 3
>> 
>> I was expecting the first, as this makes sense in the context of
>> 
>> > tmp <- array(fred, c(3, 4))
>> 
>> but I can see that the second is also a natural way to think about
>> replicating a list.  I also notice that S+ uses version 3.  Personally I
>> don't like version 3 as it is going to duplicate names, and it is not
>> going to fit with "array".
>> 
>> Confused, Jonathan.

> We follow the prototype in cases of doubt, so version 3.  *However*,
> S-PLUS does different things by version, so version 6.0 drops the
> duplicated names.  I really think only 3 makes sense: a list is a
> generic vector, and you do exactly the same thing as for any other
> sort of vector.  The only issue is the names, and

> x <- letters[1:3]
> names(x) <- x
> rep(x, 5)

> drops names in S+6.0, keeps them in S+3.4 and R.  So the S-PLUS
> versions are doing consistent things with character vectors and lists.

We had a similar discussion when fixing all.equal problems with lists.
These are generic vectors and not hashtables, hence I think the above is
the ``right approach'' (following the general principle).

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gilg.seeber@uibk.ac.at  Thu Apr 12 14:07:54 2001
From: gilg.seeber@uibk.ac.at (gilg.seeber@uibk.ac.at)
Date: Thu, 12 Apr 2001 15:07:54 +0200 (MET DST)
Subject: [Rd] Rgui.exe crash on Windows 2000 (PR#912)
Message-ID: <200104121307.PAA06507@pubhealth.ku.dk>

Full_Name: G.U.H. Seeber
Version: most recent binary from CRAN
OS: Windows 2000
Submission from: (NULL) (138.232.202.67)


When calling Rgui.exe the program crashes before any windows open. 
I append the output from Dr. Watson:

Anwendungsausnahme aufgetreten:
        Anwendung:  (pid=860)
        Wann: 12.04.2001 @ 13:33:11.515
        Ausnahmenummer: c0000005 (Zugriffsverletzung)

*----> Systeminformationen <----*
        Computername: C403-DRUM
        Benutzername: gs
        Prozessoranzahl: 1
        Prozessortyp: x86 Family 6 Model 7 Stepping 2
        Windows 2000-Version: 5.0
        Aktuelles Build: 2195
        Service Pack: None
        Aktueller Typ: Uniprocessor Free
        Firma: Universitt Innsbruck
        Besitzer: Institut fr Statistik

*----> Taskliste <----*
   0 Idle.exe
   8 System.exe
 152 smss.exe
 180 csrss.exe
 200 winlogon.exe
 228 services.exe
 240 lsass.exe
 404 svchost.exe
 452 LEXBCES.exe
 476 spoolsv.exe
 512 cpqalert.exe
 532 svchost.exe
 548 inetd32.exe
 564 jconfigdNT.exe
 600 regsvc.exe
 608 hjavaw.exe
 624 mstask.exe
 672 tcpsvcs.exe
 692 javaw.exe
 720 snmp.exe
 776 Win32sl.exe
 800 ZipToA.exe
 832 inetinfo.exe
 880 cpqdmi.exe
1172 explorer.exe
 328 chkadmin.exe
1204 nwtray.exe
1212 dpmw32.exe
1220 realplay.exe
1236 pdesk.exe
1252 AcroTray.exe
1296 IMGICON.exe
1388 OSA.exe
1420 CLOCK.exe
1052 exceed.exe
 860 Rgui.exe
1312 drwtsn32.exe
   0 _Total.exe

(00400000 - 00406000)
(77F80000 - 77FFF000)
(02510000 - 026DC000)
(77DA0000 - 77DFA000)
(77E70000 - 77F33000)
(77D30000 - 77D9F000)
(77B40000 - 77BCA000)
(77F40000 - 77F7C000)
(77E00000 - 77E65000)
(76B00000 - 76B3F000)
(77C60000 - 77CAA000)
(77580000 - 777C6000)
(78000000 - 78046000)
(77810000 - 77817000)
(75940000 - 75946000)
(74FC0000 - 74FC9000)
(74FA0000 - 74FB4000)
(74F90000 - 74F98000)
(77A40000 - 77B35000)
(779A0000 - 77A35000)
(77840000 - 7787D000)
(77090000 - 770B3000)

Statusabbild fr Threadkennung 0x37c

eax=00003a64 ebx=0240fa20 ecx=00000000 edx=7efefeff esi=00000002 edi=02688472
eip=78003b44 esp=0240f9a0 ebp=0240fe90 iopl=0         nv up ei pl zr na po nc
cs=001b  ss=0023  ds=0023  es=0023  fs=0038  gs=0000             efl=00000246


Funktion: strcpy
        78003b27 7416             jz      _threadhandle+0x4c2 (7800c53f)
        78003b29 8a11             mov     dl,[ecx]                    
ds:00000000=??
        78003b2b 41               inc     ecx
        78003b2c 84d2             test    dl,dl
        78003b2e 0f84c8100000     je      strcat+0x9c (78004bfc)
        78003b34 8817             mov     [edi],dl                    
ds:02688472=00
        78003b36 47               inc     edi
        78003b37 f7c103000000     test    ecx,0x3
        78003b3d 75ea             jnz     seh_longjmp_unwind+0x2 (7800f629)
        78003b3f bafffefe7e       mov     edx,0x7efefeff
FEHLER ->78003b44 8b01             mov     eax,[ecx]             
ds:00000000=????????
        78003b46 03d0             add     edx,eax
        78003b48 83f0ff           xor     eax,0xff
        78003b4b 33c2             xor     eax,edx
        78003b4d 8b11             mov     edx,[ecx]             
ds:00000000=????????
        78003b4f 83c104           add     ecx,0x4
        78003b52 a900010181       test    eax,0x81010100
        78003b57 0f8565100000     jne     strcat+0x62 (78004bc2)
        78003b5d 8917             mov     [edi],edx             
ds:02688472=00000000
        78003b5f 83c704           add     edi,0x4
        78003b62 ebdb             jmp     set_sbh_threshold+0xca3 (7800dd3f)
        78003b64 a16cbb0378    mov eax,[environ+0x24 (7803bb6c)]
ds:7803bb6c=78003b91

*----> Stack Back Trace <----*

FramePtr ReturnAd Param#1  Param#2  Param#3  Param#4  Function Name
0240FE90 004012FA 00000000 02BE37C8 77E8D051 00000008 !strcpy
0240FEB0 0040123B 00000001 02BE37C8 0240FEE0 00401227 !<nosymbols>
0240FEE0 004013DE 00400000 00000000 02413285 00000001 !<nosymbols>
0240FF60 004011C1 00000001 02BE37C8 02BE29A8 004011A6 !<nosymbols>
0240FFA0 00401207 00000002 00000000 00000000 77E77900 !<nosymbols>
0240FFC0 77E77903 00000008 00000002 7FFDF000 C0000005 !<nosymbols>
0240FFF0 00000000 004011F0 00000000 000000C8 00000100
kernel32!SetUnhandledExceptionFilter

*----> Raw Stack Dump <----*
0240f9a0  08 00 00 00 bc f8 52 02 - 70 84 68 02 00 00 00 00  ......R.p.h.....
0240f9b0  7a f2 52 02 7c f8 52 02 - 70 f2 52 02 c8 37 be 02  z.R.|.R.p.R..7..
0240f9c0  90 fe 40 02 0d f8 52 02 - 85 32 41 02 02 00 00 00  ..@...R..2A.....
0240f9d0  08 00 00 00 a1 71 e7 77 - a0 71 41 02 e8 72 41 02  .....q.w.qA..rA.
0240f9e0  00 00 00 00 00 e0 fd 7f - 65 00 63 00 75 00 74 00  ........e.c.u.t.
0240f9f0  78 01 41 02 78 01 41 02 - 00 c0 f8 1f 00 00 00 00  x.A.x.A.........
0240fa00  20 00 00 00 18 00 00 00 - 00 c0 f8 1f 00 30 39 18   ............09.
0240fa10  00 90 06 4e 00 80 86 47 - 00 00 fe 7f 00 00 aa 6a  ...N...G.......j
0240fa20  00 00 00 00 00 00 00 00 - 01 00 00 00 00 00 00 00  ................
0240fa30  01 00 00 00 01 00 00 00 - 00 00 00 00 01 00 00 00  ................
0240fa40  05 00 00 00 00 00 60 00 - 30 57 05 00 ff ff ff 7f  ......`.0W......
0240fa50  ff ff ff 7f 01 00 00 00 - 01 00 00 00 60 18 c0 02  ............`...
0240fa60  e0 6b 68 02 75 00 69 00 - 6c e5 52 02 48 e8 52 02  .kh.u.i.l.R.H.R.
0240fa70  38 e4 52 02 00 1e 66 02 - a4 1e 66 02 fc e8 52 02  8.R...f...f...R.
0240fa80  00 00 00 00 00 00 00 00 - d4 fa 40 02 00 10 00 00  ..........@.....
0240fa90  04 00 00 00 00 00 41 02 - 00 00 41 02 e8 6d 41 02  ......A...A..mA.
0240faa0  00 00 00 00 40 06 41 02 - 43 02 00 00 e0 fa 40 02  ....@.A.C.....@.
0240fab0  04 00 00 00 d3 43 f9 77 - 48 07 be 02 00 00 be 02  .....C.wH.......
0240fac0  04 00 00 00 00 00 00 00 - b8 fa 40 02 00 02 00 00  ..........@.....
0240fad0  70 fc 40 02 db 80 fb 77 - 18 44 f9 77 ff ff ff ff  p.@....w.D.w....

Statusabbild fr Threadkennung 0x3dc

eax=77d3b759 ebx=02420820 ecx=0241eafc edx=00000000 esi=024206f0 edi=00000100
eip=77f82eec esp=1506fe28 ebp=1506ff74 iopl=0         nv up ei pl nz na pe nc
cs=001b  ss=0023  ds=0023  es=0023  fs=0038  gs=0000             efl=00000202


Funktion: ZwReplyWaitReceivePortEx
        77f82ee1 b8ac000000       mov     eax,0xac
        77f82ee6 8d542404         lea     edx,[esp+0x4]         
ss:15eed3ff=????????
        77f82eea cd2e             int     2e
        77f82eec c21400           ret     0x14

*----> Stack Back Trace <----*

FramePtr ReturnAd Param#1  Param#2  Param#3  Param#4  Function Name
1506FF74 77D3B407 77D3B7BF 024206F0 00000000 40420204
ntdll!ZwReplyWaitReceivePortEx
1506FFA8 77D3B771 0241F680 1506FFEC 77E82CA8 02420820
rpcrt4!RpcBindingSetOption
1506FFB4 77E82CA8 02420820 00000000 40420204 02420820
rpcrt4!RpcBindingSetOption
1506FFEC 00000000 00000000 00000000 00000000 00000000 kernel32!CreateFileA


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Apr 12 14:37:49 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 12 Apr 2001 15:37:49 +0200 (MET DST)
Subject: [Rd] Rgui.exe crash on Windows 2000 (PR#912)
Message-ID: <200104121337.PAA06622@pubhealth.ku.dk>

On Thu, 12 Apr 2001 gilg.seeber@uibk.ac.at wrote:

> Full_Name: G.U.H. Seeber
> Version: most recent binary from CRAN

And what was that called?  rterm --version tells you.

> OS: Windows 2000
> Submission from: (NULL) (138.232.202.67)
>
>
> When calling Rgui.exe the program crashes before any windows open.

As it does not on my Windows 2000 system, nor on the Windows 2000 system
on which it was built nor for many other users, this would appear to
indicate a problem with your installation and not with the R binaries.
In particular, the error seems to have occurred in a system DLL and not in
Rgui.exe.

I suggest you compile a debug version from the sources and investigate
what problem might be peculiar to your machine.

One thing we know, but seems implausible: R fails to start (but with a
different error) if the machine has less than 10Mb of RAM.  But Windows
2000 likes 64MB or more.

[...]

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Apr 12 16:00:21 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 12 Apr 2001 17:00:21 +0200 (MET DST)
Subject: [Rd] Re: stop() and Rcmd (PR#910)
Message-ID: <200104121500.RAA06862@pubhealth.ku.dk>

On Thu, 12 Apr 2001, Prof Brian Ripley wrote:

> On Thu, 12 Apr 2001 ligges@statistik.uni-dortmund.de wrote:
>
> > "Rcmd check"  on NT does not catch errors generated by stop() in files
> > in the tests directory. Thus the fact that all the tests complete does
> > not mean they completed succesfully.

In my experiments it *does* put out an error but continues.  This is
intentional, as some Perls are rather flaky.  If you want to change it,
remove the leading `-' in line 29 of etc/Makeconf-tests.

> > This report is based on output from Rcmd check for the bundle dseplus
> > version 2001.4-1. The test  curve/tests/crvB07.R does a comparison which
> > on NT is outside of tolerance and executes stop(). (The comparison value
> > has been adjusted so that future versions of dseplus will not fail on
> > this test.)
>
> Perl version?  (Lots of these things depend critically on the build.)
> Does make pkgcheck-foo work or not?

That does work for me, with build 613 (and at least 619-621 are known to
have broken system() calls).

If you are not seeing an error on the console as the tests run,
something else is up in your setup (not at all unlikely with
Windows makes).

On the other hand, Rcmd check dse fails for me because the scripts
are asking for interactive input (the number of singular values) and
chewing up the rest of the script.  That *is* a bug in dse.

In general, make pkgcheck-foo is more reliable under Windows.


BTW, this has nothing whatsoever to do with Rcmd!

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Apr 12 16:08:58 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 12 Apr 2001 17:08:58 +0200 (MET DST)
Subject: [Rd] readline 4.2 shows R has (fatal) incorrect declarations. (PR#913)
Message-ID: <200104121508.RAA06926@pubhealth.ku.dk>

Specifically Solaris 2.7 and R 1.2.2 patched, but the principle is general.

src/unix/sys-unix.c declares the function tilde_expand from readline,
incorrectly for readline 4.x.  That's OK in 4.1 as it is not in the
included headers, but it is for 4.2, and so compilation fails (under gcc
2.95.3 at least).

The quick fix is (ca line 88)

char *tilde_expand(const char*);
                   ^^^^^

but we should really check the readline version number and only
define this in earlier versions.

There is also a conflict in src/unix/sys-std.c: readline_handler
is defined with unsigned char * but it should be char * according to the
readline 4.2 prototype.


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Apr 12 17:33:21 2001
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 12 Apr 2001 12:33:21 -0400
Subject: [Rd] Re: stop() and Rcmd (PR#910)
References: <200104121500.RAA06862@pubhealth.ku.dk>
Message-ID: <3AD5D8D1.C0573E52@bank-banque-canada.ca>

>> > "Rcmd check"  on NT does not catch errors generated by stop() in files
>> > in the tests directory. Thus the fact that all the tests complete does
>> > not mean they completed succesfully.

>In my experiments it *does* put out an error but continues.  This is
>intentional, as some Perls are rather flaky.  If you want to change it,
>remove the leading `-' in line 29 of etc/Makeconf-tests.

Knowing little about Windows I won't try to suggest what the default should be for
Windows. However, I do rely on make stopping when there is an error signalled by "R
CMD build". There is too much output to examine manually every time I test a package.
In general I think errors may go unnoticed for a long time if make does not stop on
errors, so I think the idea of continuing is a bit risky. But perhaps I should be
using something other than "R CMD build" to do testing. I thought things had recently
changed so that this was the preferred way to test a package?

>On the other hand, Rcmd check dse fails for me because the scripts
>are asking for interactive input (the number of singular values) and
>chewing up the rest of the script.  That *is* a bug in dse.

That is a bug in some examples, thanks for pointing it out. Is there a strategy for
handling interactive input to examples?

I don't seem to get the "chewing up the rest of the script" though. I also don't get
any failure in the sense of an error signalled to R CMD build or to my make. For the
reasons mentioned above I think that might be a good thing to do.

Paul Gilbert


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Apr 12 17:47:42 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 12 Apr 2001 17:47:42 +0100 (BST)
Subject: [Rd] Re: stop() and Rcmd (PR#910)
In-Reply-To: <3AD5D8D1.C0573E52@bank-banque-canada.ca>
Message-ID: <Pine.GSO.4.31.0104121741080.1707-100000@toucan.stats>

On Thu, 12 Apr 2001, Paul Gilbert wrote:

> >> > "Rcmd check"  on NT does not catch errors generated by stop() in files
> >> > in the tests directory. Thus the fact that all the tests complete does
> >> > not mean they completed succesfully.
>
> >In my experiments it *does* put out an error but continues.  This is
> >intentional, as some Perls are rather flaky.  If you want to change it,
> >remove the leading `-' in line 29 of etc/Makeconf-tests.
>
> Knowing little about Windows I won't try to suggest what the default should be for
> Windows. However, I do rely on make stopping when there is an error signalled by "R
> CMD build". There is too much output to examine manually every time I test a package.
> In general I think errors may go unnoticed for a long time if make does not stop on
> errors, so I think the idea of continuing is a bit risky. But perhaps I should be
> using something other than "R CMD build" to do testing. I thought things had recently
> changed so that this was the preferred way to test a package?

1) On Unix only R CMD check exists.

2) On Windows, we did hope to make Rcmd check the standard way.
Unfortunately, a whole series Perl builds were broken, so make
pkgcheck-foo is still preferred.

3) There is a perfectly clear error message in the output on the console
from the run (and there is very litle from correct tests, so little to
look at), and I think it is hard to overlook, if you look at all.
But if you want, you can change it.

> >On the other hand, Rcmd check dse fails for me because the scripts
> >are asking for interactive input (the number of singular values) and
> >chewing up the rest of the script.  That *is* a bug in dse.
>
> That is a bug in some examples, thanks for pointing it out. Is there a strategy for
> handling interactive input to examples?

You can't have any at all.  It will read the next part of the script,
after the current buffer.

> I don't seem to get the "chewing up the rest of the script" though. I also don't get
> any failure in the sense of an error signalled to R CMD build or to my make. For the
> reasons mentioned above I think that might be a good thing to do.

What happens depends on buffer size and so is platform-specific.  Windows
seems to have much smaller buffers than Solaris or Linux, so this seems to
bite there much more often.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Thu Apr 12 22:43:33 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Thu, 12 Apr 2001 23:43:33 +0200
Subject: [Rd] Rgui.exe crash on Windows 2000 (PR#912)
References: <200104121307.PAA06507@pubhealth.ku.dk>
Message-ID: <3AD62185.B157022C@univie.ac.at>

is any of the running processes a keyboard macro program?
on my win2k machine,
hotkeyboard (a system wide macro expander)
and r cannot coexist.



gilg.seeber@uibk.ac.at wrote:
> 
> Full_Name: G.U.H. Seeber
> Version: most recent binary from CRAN
> OS: Windows 2000
> Submission from: (NULL) (138.232.202.67)
> 
> When calling Rgui.exe the program crashes before any windows open.
> I append the output from Dr. Watson:
> 
> Anwendungsausnahme aufgetreten:
>         Anwendung:  (pid=860)
>         Wann: 12.04.2001 @ 13:33:11.515
>         Ausnahmenummer: c0000005 (Zugriffsverletzung)
> 
> *----> Systeminformationen <----*
>         Computername: C403-DRUM
>         Benutzername: gs
>         Prozessoranzahl: 1
>         Prozessortyp: x86 Family 6 Model 7 Stepping 2
>         Windows 2000-Version: 5.0
>         Aktuelles Build: 2195
>         Service Pack: None
>         Aktueller Typ: Uniprocessor Free
>         Firma: Universitt Innsbruck
>         Besitzer: Institut fr Statistik
> 
> *----> Taskliste <----*
>    0 Idle.exe
>    8 System.exe
>  152 smss.exe
>  180 csrss.exe
>  200 winlogon.exe
>  228 services.exe
>  240 lsass.exe
>  404 svchost.exe
>  452 LEXBCES.exe
>  476 spoolsv.exe
>  512 cpqalert.exe
>  532 svchost.exe
>  548 inetd32.exe
>  564 jconfigdNT.exe
>  600 regsvc.exe
>  608 hjavaw.exe
>  624 mstask.exe
>  672 tcpsvcs.exe
>  692 javaw.exe
>  720 snmp.exe
>  776 Win32sl.exe
>  800 ZipToA.exe
>  832 inetinfo.exe
>  880 cpqdmi.exe
> 1172 explorer.exe
>  328 chkadmin.exe
> 1204 nwtray.exe
> 1212 dpmw32.exe
> 1220 realplay.exe
> 1236 pdesk.exe
> 1252 AcroTray.exe
> 1296 IMGICON.exe
> 1388 OSA.exe
> 1420 CLOCK.exe
> 1052 exceed.exe
>  860 Rgui.exe
> 1312 drwtsn32.exe
>    0 _Total.exe
> 
> (00400000 - 00406000)
> (77F80000 - 77FFF000)
> (02510000 - 026DC000)
> (77DA0000 - 77DFA000)
> (77E70000 - 77F33000)
> (77D30000 - 77D9F000)
> (77B40000 - 77BCA000)
> (77F40000 - 77F7C000)
> (77E00000 - 77E65000)
> (76B00000 - 76B3F000)
> (77C60000 - 77CAA000)
> (77580000 - 777C6000)
> (78000000 - 78046000)
> (77810000 - 77817000)
> (75940000 - 75946000)
> (74FC0000 - 74FC9000)
> (74FA0000 - 74FB4000)
> (74F90000 - 74F98000)
> (77A40000 - 77B35000)
> (779A0000 - 77A35000)
> (77840000 - 7787D000)
> (77090000 - 770B3000)
> 
> Statusabbild fr Threadkennung 0x37c
> 
> eax=00003a64 ebx=0240fa20 ecx=00000000 edx=7efefeff esi=00000002 edi=02688472
> eip=78003b44 esp=0240f9a0 ebp=0240fe90 iopl=0         nv up ei pl zr na po nc
> cs=001b  ss=0023  ds=0023  es=0023  fs=0038  gs=0000             efl=00000246
> 
> Funktion: strcpy
>         78003b27 7416             jz      _threadhandle+0x4c2 (7800c53f)
>         78003b29 8a11             mov     dl,[ecx]
> ds:00000000=??
>         78003b2b 41               inc     ecx
>         78003b2c 84d2             test    dl,dl
>         78003b2e 0f84c8100000     je      strcat+0x9c (78004bfc)
>         78003b34 8817             mov     [edi],dl
> ds:02688472=00
>         78003b36 47               inc     edi
>         78003b37 f7c103000000     test    ecx,0x3
>         78003b3d 75ea             jnz     seh_longjmp_unwind+0x2 (7800f629)
>         78003b3f bafffefe7e       mov     edx,0x7efefeff
> FEHLER ->78003b44 8b01             mov     eax,[ecx]
> ds:00000000=????????
>         78003b46 03d0             add     edx,eax
>         78003b48 83f0ff           xor     eax,0xff
>         78003b4b 33c2             xor     eax,edx
>         78003b4d 8b11             mov     edx,[ecx]
> ds:00000000=????????
>         78003b4f 83c104           add     ecx,0x4
>         78003b52 a900010181       test    eax,0x81010100
>         78003b57 0f8565100000     jne     strcat+0x62 (78004bc2)
>         78003b5d 8917             mov     [edi],edx
> ds:02688472=00000000
>         78003b5f 83c704           add     edi,0x4
>         78003b62 ebdb             jmp     set_sbh_threshold+0xca3 (7800dd3f)
>         78003b64 a16cbb0378    mov eax,[environ+0x24 (7803bb6c)]
> ds:7803bb6c=78003b91
> 
> *----> Stack Back Trace <----*
> 
> FramePtr ReturnAd Param#1  Param#2  Param#3  Param#4  Function Name
> 0240FE90 004012FA 00000000 02BE37C8 77E8D051 00000008 !strcpy
> 0240FEB0 0040123B 00000001 02BE37C8 0240FEE0 00401227 !<nosymbols>
> 0240FEE0 004013DE 00400000 00000000 02413285 00000001 !<nosymbols>
> 0240FF60 004011C1 00000001 02BE37C8 02BE29A8 004011A6 !<nosymbols>
> 0240FFA0 00401207 00000002 00000000 00000000 77E77900 !<nosymbols>
> 0240FFC0 77E77903 00000008 00000002 7FFDF000 C0000005 !<nosymbols>
> 0240FFF0 00000000 004011F0 00000000 000000C8 00000100
> kernel32!SetUnhandledExceptionFilter
> 
> *----> Raw Stack Dump <----*
> 0240f9a0  08 00 00 00 bc f8 52 02 - 70 84 68 02 00 00 00 00  ......R.p.h.....
> 0240f9b0  7a f2 52 02 7c f8 52 02 - 70 f2 52 02 c8 37 be 02  z.R.|.R.p.R..7..
> 0240f9c0  90 fe 40 02 0d f8 52 02 - 85 32 41 02 02 00 00 00  ..@...R..2A.....
> 0240f9d0  08 00 00 00 a1 71 e7 77 - a0 71 41 02 e8 72 41 02  .....q.w.qA..rA.
> 0240f9e0  00 00 00 00 00 e0 fd 7f - 65 00 63 00 75 00 74 00  ........e.c.u.t.
> 0240f9f0  78 01 41 02 78 01 41 02 - 00 c0 f8 1f 00 00 00 00  x.A.x.A.........
> 0240fa00  20 00 00 00 18 00 00 00 - 00 c0 f8 1f 00 30 39 18   ............09.
> 0240fa10  00 90 06 4e 00 80 86 47 - 00 00 fe 7f 00 00 aa 6a  ...N...G.......j
> 0240fa20  00 00 00 00 00 00 00 00 - 01 00 00 00 00 00 00 00  ................
> 0240fa30  01 00 00 00 01 00 00 00 - 00 00 00 00 01 00 00 00  ................
> 0240fa40  05 00 00 00 00 00 60 00 - 30 57 05 00 ff ff ff 7f  ......`.0W......
> 0240fa50  ff ff ff 7f 01 00 00 00 - 01 00 00 00 60 18 c0 02  ............`...
> 0240fa60  e0 6b 68 02 75 00 69 00 - 6c e5 52 02 48 e8 52 02  .kh.u.i.l.R.H.R.
> 0240fa70  38 e4 52 02 00 1e 66 02 - a4 1e 66 02 fc e8 52 02  8.R...f...f...R.
> 0240fa80  00 00 00 00 00 00 00 00 - d4 fa 40 02 00 10 00 00  ..........@.....
> 0240fa90  04 00 00 00 00 00 41 02 - 00 00 41 02 e8 6d 41 02  ......A...A..mA.
> 0240faa0  00 00 00 00 40 06 41 02 - 43 02 00 00 e0 fa 40 02  ....@.A.C.....@.
> 0240fab0  04 00 00 00 d3 43 f9 77 - 48 07 be 02 00 00 be 02  .....C.wH.......
> 0240fac0  04 00 00 00 00 00 00 00 - b8 fa 40 02 00 02 00 00  ..........@.....
> 0240fad0  70 fc 40 02 db 80 fb 77 - 18 44 f9 77 ff ff ff ff  p.@....w.D.w....
> 
> Statusabbild fr Threadkennung 0x3dc
> 
> eax=77d3b759 ebx=02420820 ecx=0241eafc edx=00000000 esi=024206f0 edi=00000100
> eip=77f82eec esp=1506fe28 ebp=1506ff74 iopl=0         nv up ei pl nz na pe nc
> cs=001b  ss=0023  ds=0023  es=0023  fs=0038  gs=0000             efl=00000202
> 
> Funktion: ZwReplyWaitReceivePortEx
>         77f82ee1 b8ac000000       mov     eax,0xac
>         77f82ee6 8d542404         lea     edx,[esp+0x4]
> ss:15eed3ff=????????
>         77f82eea cd2e             int     2e
>         77f82eec c21400           ret     0x14
> 
> *----> Stack Back Trace <----*
> 
> FramePtr ReturnAd Param#1  Param#2  Param#3  Param#4  Function Name
> 1506FF74 77D3B407 77D3B7BF 024206F0 00000000 40420204
> ntdll!ZwReplyWaitReceivePortEx
> 1506FFA8 77D3B771 0241F680 1506FFEC 77E82CA8 02420820
> rpcrt4!RpcBindingSetOption
> 1506FFB4 77E82CA8 02420820 00000000 40420204 02420820
> rpcrt4!RpcBindingSetOption
> 1506FFEC 00000000 00000000 00000000 00000000 00000000 kernel32!CreateFileA
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Sat Apr 14 01:39:56 2001
From: dmurdoch@pair.com (dmurdoch@pair.com)
Date: Sat, 14 Apr 2001 02:39:56 +0200 (MET DST)
Subject: [Rd] Postscript font bugs (and a suggestion) (PR#914)
Message-ID: <200104140039.CAA10778@pubhealth.ku.dk>

Documentation and other bugs with postscript():

1.  This code crashes R (it asks for a font that isn't there):

 postscript()
 plot(0:1,0:1)
 text(0.5,0.5,'crash',font=6)


The bug appears to be in the FixupFont routine in plot.c; on line 236,
it checks that the font number is in the range 1..32.  Later this
crashes PostScriptStringWidth in devPS.c, because only fonts numbered
1..5 are actually defined.  I don't know how to fix it.


2.  The ?postscript help topic refers to .ps.profile; the actual
variable name is .ps.prolog.  The C source in main/devPS.c has this
on lines 606-608, with the incorrect name in the error message:

    prolog = findVar(install(".ps.prolog"), R_GlobalEnv);
    if(!isString(prolog))
	error("Object .ps.profile is not a character vector");


3.  And this is a suggestion, not a bug:  I'd like to change the font 
definitions by changing the .ps.prolog instructions, but devPS.c puts
the     

   PSEncodeFont(fp, encoding);

line after the place where .ps.prolog is written to the file.  If
.ps.prolog were last, then it could override any standard setting.
This would mean that the font metrics would not be quite right, but it
would be useful for experimenting.

This patch addresses items 2 and 3 in src/main/devPS.c:

606,608c606,609
<     prolog = findVar(install(".ps.prolog"), R_GlobalEnv);
<     if(!isString(prolog))
< 	error("Object .ps.profile is not a character vector");
---
>     PSEncodeFont(fp, encoding);
>     prolog = findVar(install(".ps.prolog"), R_GlobalEnv);
>     if(!isString(prolog))
> 	error("Object .ps.prolog is not a character vector");
613d614
<     PSEncodeFont(fp, encoding);

and this addresses item 2 in src/library/base/postscript.Rd:

116c116
<   vector \code{.ps.profile}.  This is marked in the output, and can
be
---
>   vector \code{.ps.prolog}.  This is marked in the output, and can be



--please do not edit the information below--

Version:
 platform = i386-pc-mingw32
 arch = x86
 os = Win32
 system = x86, Win32
 status = 
 major = 1
 minor = 2.2
 year = 2001
 month = 02
 day = 26
 language = R

Windows 9x 4.0 (build 1111)  B

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sat Apr 14 07:33:13 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 14 Apr 2001 07:33:13 +0100 (BST)
Subject: [Rd] Postscript font bugs (and a suggestion) (PR#914)
In-Reply-To: <200104140039.CAA10778@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.31.0104140722510.21140-100000@auk.stats>

On Sat, 14 Apr 2001 dmurdoch@pair.com wrote:

> Documentation and other bugs with postscript():
>
> 1.  This code crashes R (it asks for a font that isn't there):
>
>  postscript()
>  plot(0:1,0:1)
>  text(0.5,0.5,'crash',font=6)

Only on Windows, I think.  This works fine on Unix.

> The bug appears to be in the FixupFont routine in plot.c; on line 236,
> it checks that the font number is in the range 1..32.  Later this

(1..32 on Windows, 1..4 elsewhere.)

> crashes PostScriptStringWidth in devPS.c, because only fonts numbered
> 1..5 are actually defined.  I don't know how to fix it.

I've added a range check in PS_StrWidth.

> 2.  The ?postscript help topic refers to .ps.profile; the actual
> variable name is .ps.prolog.  The C source in main/devPS.c has this
> on lines 606-608, with the incorrect name in the error message:
>
>     prolog = findVar(install(".ps.prolog"), R_GlobalEnv);
>     if(!isString(prolog))
> 	error("Object .ps.profile is not a character vector");

Done.

> 3.  And this is a suggestion, not a bug:  I'd like to change the font
> definitions by changing the .ps.prolog instructions, but devPS.c puts
> the
>
>    PSEncodeFont(fp, encoding);
>
> line after the place where .ps.prolog is written to the file.  If
> .ps.prolog were last, then it could override any standard setting.
> This would mean that the font metrics would not be quite right, but it
> would be useful for experimenting.

Why not use the way which is supported, to supply a user-specifed family?
For experimenting the easiest way surely is to edit the postscript file.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Sat Apr 14 13:29:40 2001
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Sat, 14 Apr 2001 14:29:40 +0200
Subject: [Rd] Re: stop() and Rcmd (PR#910)
In-Reply-To: <3AD5D8D1.C0573E52@bank-banque-canada.ca>
References: <200104121500.RAA06862@pubhealth.ku.dk>
 <3AD5D8D1.C0573E52@bank-banque-canada.ca>
Message-ID: <15064.17076.342387.924179@gargle.gargle.HOWL>

>>>>> "PaulG" == Paul Gilbert <pgilbert@bank-banque-canada.ca> writes:

      ..........

    >> On the other hand, Rcmd check dse fails for me because the scripts
    >> are asking for interactive input (the number of singular values) and
    >> chewing up the rest of the script.  That *is* a bug in dse.

    PaulG> That is a bug in some examples, thanks for pointing it out. Is
    PaulG> there a strategy for handling interactive input to examples?

As Brian said, they "not allowed at all" for normal (tested) part of the
examples.
If you want to *show* them in the example section of your help
{*and* allow the ESS user to send them linewise (by "l") or regionwise}
you must wrap these parts into
\dontrun{

   ... your interactive things ...

}

Note that this will be improved, once we move to a more general
documentation format (based on xml).

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Sat Apr 14 17:03:31 2001
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Sat, 14 Apr 2001 12:03:31 -0400
Subject: [Rd] Defining extra fonts in the postscript driver
Message-ID: <uvrgdtg2ngfhbc0cma4m8eatki0g57v9bj@4ax.com>

I've been looking at the ellipse package I co-wrote with Ed Chow for
S-Plus a few years ago, cleaning up the documentation now it's been
ported to R (by Jesus Frias, thanks IOsu!) and I'm back as the
maintainer.

One of the things it did which we thought was kind of cute at the time
was to use a few lines of Postscript code to define a font, where the
glyphs were ellipses of various shapes, used in the plotcorr function
to display big correlation matrices.

This isn't needed, strictly speaking:  the current port draws the
ellipses using polygon() and lines().  But drawing them with calls to
text() was quite a bit faster,  resulted in much smaller output files,
and just generally seemed like a good idea.

I can imagine other situations where people want to use strange fonts
(user-defined, or just imported from somewhere or other) in R graphs.

Right now that's quite difficult.  The Postscript driver supports four
fonts plus the symbol font; this limit is hard-coded into it.  I can
see a strong argument for having the first five fonts follow a
predictable pattern, but shouldn't it be possible to extend the list?
Syntax could be like the extended family syntax for the current
driver:  a list of filenames of AFM files defining the font
characteristics.  The documentation could state that the first five
must be for regular, bold, italic, bold italic and symbol fonts, but
there seems to be no requirement to restrict the list to 5 entries, or
to put any constraints on entries after the first 5.

I'd be happy to submit revised devPS.c and postscript.Rd files to
implement this, if there's general agreement that it would be a good
idea.

Duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sun Apr 15 23:17:14 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Apr 2001 00:17:14 +0200
Subject: [Rd] Detaching "ctest"
In-Reply-To: Jonathan Rougier's message of "Mon, 9 Apr 2001 09:32:28 +0100 (BST)"
References: <Pine.GSO.4.20.0104090928480.13680-100000@laplace>
Message-ID: <x2snj9oljp.fsf@blueberry.kubism.ku.dk>

Jonathan Rougier <J.C.Rougier@durham.ac.uk> writes:

> > But this is exactly what happens---settings from .Rprofile do override
> > the system and site defaults.  The question is whether .First should be
> > used for package setup, or something else ...
> 
> OK! if you put it like that, then I think that .First should definitely
> *not* be used for package set-up, as it prevents .Rprofile commands from
> being the last things executed before the prompt, and thus removes
> "complete user control" of the set-up.

Ummm, I think you're missing a point here: There is more than one
Rprofile. In normal operation, the system and site Rprofiles are run
*unconditionally* (unless --no-site-file etc. is used). Some things
are not easily undone, package loading for one. Hence it is
unattractive to load packages in the system or site Rprofiles. So what
is there to do? The current construction is to manipulate .First, with
the intention that the user can redefine it in .Rprofile *before it is
being run* and thus have complete control over what packages get
loaded. 

You do want .First to be the last thing run before the prompt, not the
.Rprofile commands, I'm fairly confident about that. The real problem
could be seen as too late loading of the user workspace so that a
stored .First overrides the one set up in the profile. That would be
fairly easy to change, but is it really what one wants??? (If you
explicitly edit .First and save the workspace, wouldn't you expect tne
edited version to be the one run when you start next time?)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Mon Apr 16 09:24:07 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Mon, 16 Apr 2001 10:24:07 +0200
Subject: [Rd] display URLs in browsers
Message-ID: <15066.44071.166554.297231@mithrandir.hornik.net>

Maybe someone knows the answer right away, but I am afraid that all of
us are on Netscape ...

With Netscape, we can do
	netscape -remote -openURL($url)

Does anyone know how to get browsers other than Netscape to display
URLs?

I am specifically interested in
	gnome-help-browser
	mozilla

but would welcome any pointers.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Apr 16 09:51:57 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 16 Apr 2001 09:51:57 +0100 (BST)
Subject: [Rd] display URLs in browsers
In-Reply-To: <15066.44071.166554.297231@mithrandir.hornik.net>
Message-ID: <Pine.GSO.4.31.0104160942240.7738-100000@toucan.stats>

On Mon, 16 Apr 2001, Kurt Hornik wrote:

> Maybe someone knows the answer right away, but I am afraid that all of
> us are on Netscape ...
>
> With Netscape, we can do
> 	netscape -remote -openURL($url)
>
> Does anyone know how to get browsers other than Netscape to display
> URLs?
>
> I am specifically interested in
> 	gnome-help-browser

You don't expect help on gnome, do you?  gnome-help-browser -help says
nothing useful.

I downloaded Ximian GNOME (rpms via their downloader) a week or so ago,
but can't start it as gnome-session is a binary linked against slightly
different X libraries ....

> 	mozilla

I don't know about mozilla (I think Doug uses it), but it looks very
like Netscape 6.01, and that does *seem* to use the Netscape 4.* syntax,
alkthough the --help does not mention it.

KDE has a browser as I recall.


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Mon Apr 16 12:40:30 2001
From: bates@stat.wisc.edu (Douglas Bates)
Date: 16 Apr 2001 06:40:30 -0500
Subject: [Rd] display URLs in browsers
In-Reply-To: <Pine.GSO.4.31.0104160942240.7738-100000@toucan.stats>
References: <Pine.GSO.4.31.0104160942240.7738-100000@toucan.stats>
Message-ID: <6rlmp15az5.fsf@franz.stat.wisc.edu>

Prof Brian Ripley <ripley@stats.ox.ac.uk> writes:

> On Mon, 16 Apr 2001, Kurt Hornik wrote:

> > Does anyone know how to get browsers other than Netscape to display
> > URLs?

> > 	mozilla
> 
> I don't know about mozilla (I think Doug uses it), but it looks very
> like Netscape 6.01, and that does *seem* to use the Netscape 4.* syntax,
> alkthough the --help does not mention it.

I tried mozilla for a while but eventually shifted back to netscape.
Tony Rossini has more experience with mozilla than I do.

I did try to make the link from R to mozilla.  As I recall I didn't
get it working because I couldn't work out how to pass the information
for the initial page to open.  Since I don't tend to use help.start()
it wasn't a big priority for me.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Mon Apr 16 13:05:41 2001
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Mon, 16 Apr 2001 14:05:41 +0200
Subject: [Rd] display URLs in browsers
In-Reply-To: <6rlmp15az5.fsf@franz.stat.wisc.edu>
References: <Pine.GSO.4.31.0104160942240.7738-100000@toucan.stats>
 <6rlmp15az5.fsf@franz.stat.wisc.edu>
Message-ID: <15066.57365.573121.478800@gargle.gargle.HOWL>

>>>>> "DougB" == Douglas Bates <bates@stat.wisc.edu> writes:

    DougB> Prof Brian Ripley <ripley@stats.ox.ac.uk> writes:
    >> On Mon, 16 Apr 2001, Kurt Hornik wrote:

    >> > Does anyone know how to get browsers other than Netscape to
    >> display > URLs?

    >> > mozilla
    >> 
    >> I don't know about mozilla (I think Doug uses it), but it looks very
    >> like Netscape 6.01, and that does *seem* to use the Netscape 4.*
    >> syntax, alkthough the --help does not mention it.

    DougB> I tried mozilla for a while but eventually shifted back to
    DougB> netscape.  Tony Rossini has more experience with mozilla than I
    DougB> do.

    DougB> I did try to make the link from R to mozilla.  As I recall I
    DougB> didn't get it working because I couldn't work out how to pass
    DougB> the information for the initial page to open.  Since I don't
    DougB> tend to use help.start() it wasn't a big priority for me.

Since I am at home .. :
With the newest (as 2 days ago) mozilla "M18-3" for stable Debian GNU/Linux 
I get for "mozilla -help"

Usage: /usr/lib/mozilla/mozilla-bin [ options ... ] [URL]
       where options include:

        -height <value>         Set height of startup window to <value>.
        -h or -help             Print this message.
        -installer              Start with 4.x migration window.
        -width <value>          Set width of startup window to <value>.
        -v or -version          Print /usr/lib/mozilla/mozilla-bin version.
        -CreateProfile <profile>                Create and start with
        -<profile>.
        -P <profile>            Start with <profile>.
        -ProfileWizard          Start with profile wizard.
        -ProfileManager         Start with profile manager.
        -SelectProfile          Start with profile selection dialog.
        -splash         Enable splash screen.
        -compose <url>          Start with messenger compose.
        -edit <url>             Start with editor.
        -terminal               Start with a command line terminal
        -mail           Start with mail.
        -chrome <url>           Start with browser.
        -addressbook            Start with the addressbook.
        -chat           Start with an IRC chat client
        -jsconsole              Start with Javascript Console
        -news           Start with news.

which suggests that

      mozilla -chrome http://www.R-project.org/

does what you want. But uuh, yes, it starts a browser with the R page,
but in the usual mode: I get one "full screen" window, but nothing from the
usual tool buttons, URL entry, ... things of netscape/mozilla.

Also the above always starts a  new mozilla, i.e. does not do what we really
want: open an URL in any already running browser.

Martin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossini@u.washington.edu  Mon Apr 16 13:58:01 2001
From: rossini@u.washington.edu (A.J. Rossini)
Date: 16 Apr 2001 05:58:01 -0700
Subject: [Rd] display URLs in browsers
In-Reply-To: Martin Maechler's message of "Mon, 16 Apr 2001 14:05:41 +0200"
References: <Pine.GSO.4.31.0104160942240.7738-100000@toucan.stats>
 <6rlmp15az5.fsf@franz.stat.wisc.edu>
 <15066.57365.573121.478800@gargle.gargle.HOWL>
Message-ID: <877l0lm27a.fsf@jeeves.blindglobe.net>

>>>>> "MM" == Martin Maechler <maechler@stat.math.ethz.ch> writes:


    MM> which suggests that

    MM>       mozilla -chrome http://www.R-project.org/

Once mozilla is working, under gnome, I get this:

        gnome-moz-remote --newwin URL 

to bring up a new window.  Recently, I've nearly (not entirely)
converted to KDE's konqueror and

        konqueror URL

works.  I still am not fond of KDE's overall UI, but the tools they've
developed suit my needs.

(needed SSL for various grant associated reasons last week, and:
1. setting up SSL in Mozilla (under Debian) is a PITA, 
2. "modern" WWW browsers are easier to use than netscape, for
    navigating complex non-servlet sites).

I'm still running in a GNOME environment, though.

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
UW Biostat/Center for AIDS Research	rossini@u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini@scharp.org
-------- (friday is unknown) --------
FHCRC: M--W : 206-667-7025 (fax=4812)|Voicemail is pretty sketchy
CFAR:  ??   : 206-731-3647 (fax=3694)|Email is far better than phone
UW:    Th   : 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Mon Apr 16 15:41:04 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Mon, 16 Apr 2001 16:41:04 +0200
Subject: [Rd] display URLs in browsers
In-Reply-To: <877l0lm27a.fsf@jeeves.blindglobe.net>
References: <Pine.GSO.4.31.0104160942240.7738-100000@toucan.stats>
 <6rlmp15az5.fsf@franz.stat.wisc.edu>
 <15066.57365.573121.478800@gargle.gargle.HOWL>
 <877l0lm27a.fsf@jeeves.blindglobe.net>
Message-ID: <15067.1152.25353.234359@mithrandir.hornik.net>

>>>>> A J Rossini writes:

>>>>> "MM" == Martin Maechler <maechler@stat.math.ethz.ch> writes:
MM> which suggests that

MM> mozilla -chrome http://www.R-project.org/

> Once mozilla is working, under gnome, I get this:

>         gnome-moz-remote --newwin URL 

> to bring up a new window.

Thanks for the feedback.  Actually,
	http://www.mozilla.org/unix/remote.html
claims that one can do

	mozilla -remote "openurl(http://www.mozilla.org)"

but this does not work for me (version M18-3).

Btw, the search engine does not work either, and e.g. the FAQ parts do
not display at all.

> Recently, I've nearly (not entirely) converted to KDE's konqueror and

>         konqueror URL

> works.  I still am not fond of KDE's overall UI, but the tools they've
> developed suit my needs.

That's all?  Does that start a new version of konqueror if one is
already up and running?

> (needed SSL for various grant associated reasons last week, and:
> 1. setting up SSL in Mozilla (under Debian) is a PITA, 
> 2. "modern" WWW browsers are easier to use than netscape, for
>     navigating complex non-servlet sites).

Hmm ...

For gnome-help-browser, one can apparently do

	gnome-help-browser URL

but I have yet to figure out how to use an existing help-browser ...

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossini@u.washington.edu  Mon Apr 16 15:56:29 2001
From: rossini@u.washington.edu (A.J. Rossini)
Date: 16 Apr 2001 07:56:29 -0700
Subject: [Rd] display URLs in browsers
In-Reply-To: Kurt Hornik's message of "Mon, 16 Apr 2001 16:41:04 +0200"
References: <Pine.GSO.4.31.0104160942240.7738-100000@toucan.stats>
 <6rlmp15az5.fsf@franz.stat.wisc.edu>
 <15066.57365.573121.478800@gargle.gargle.HOWL>
 <877l0lm27a.fsf@jeeves.blindglobe.net>
 <15067.1152.25353.234359@mithrandir.hornik.net>
Message-ID: <87zodg99lu.fsf@jeeves.blindglobe.net>

>>>>> "KH" == Kurt Hornik <Kurt.Hornik@ci.tuwien.ac.at> writes:
>>>>> A J Rossini writes:
>>>>> "MM" == Martin Maechler <maechler@stat.math.ethz.ch> writes:
    MM> which suggests that

    MM> mozilla -chrome http://www.R-project.org/

    >> Once mozilla is working, under gnome, I get this:

    >> gnome-moz-remote --newwin URL

    >> to bring up a new window.

    KH> Thanks for the feedback.  Actually,
    KH> http://www.mozilla.org/unix/remote.html claims that one can do

    KH> 	mozilla -remote "openurl(http://www.mozilla.org)"

    KH> but this does not work for me (version M18-3).

Me neither.

    >> Recently, I've nearly (not entirely) converted to KDE's
    >> konqueror and

    >> konqueror URL

    >> works.  I still am not fond of KDE's overall UI, but the tools
    >> they've developed suit my needs.

    KH> That's all?  Does that start a new version of konqueror if one
    KH> is already up and running?

I don't know.  I'll check tonight.

    KH> For gnome-help-browser, one can apparently do

    KH> 	gnome-help-browser URL

    KH> but I have yet to figure out how to use an existing
    KH> help-browser ...

But you probably don't want to use it for much; R help is fine, but
much more wouldn't be.

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
UW Biostat/Center for AIDS Research	rossini@u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini@scharp.org
-------- (friday is unknown) --------
FHCRC: M--W : 206-667-7025 (fax=4812)|Voicemail is pretty sketchy
CFAR:  ??   : 206-731-3647 (fax=3694)|Email is far better than phone
UW:    Th   : 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Mon Apr 16 16:11:07 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Mon, 16 Apr 2001 17:11:07 +0200
Subject: [Rd] display URLs in browsers
In-Reply-To: <87zodg99lu.fsf@jeeves.blindglobe.net>
References: <Pine.GSO.4.31.0104160942240.7738-100000@toucan.stats>
 <6rlmp15az5.fsf@franz.stat.wisc.edu>
 <15066.57365.573121.478800@gargle.gargle.HOWL>
 <877l0lm27a.fsf@jeeves.blindglobe.net>
 <15067.1152.25353.234359@mithrandir.hornik.net>
 <87zodg99lu.fsf@jeeves.blindglobe.net>
Message-ID: <15067.2955.799437.633071@mithrandir.hornik.net>

>>>>> A J Rossini writes:

>>>>> "KH" == Kurt Hornik <Kurt.Hornik@ci.tuwien.ac.at> writes:
>>>>> A J Rossini writes:
>>>>> "MM" == Martin Maechler <maechler@stat.math.ethz.ch> writes:
MM> which suggests that

MM> mozilla -chrome http://www.R-project.org/

>>> Once mozilla is working, under gnome, I get this:

>>> gnome-moz-remote --newwin URL

>>> to bring up a new window.

KH> Thanks for the feedback.  Actually,
KH> http://www.mozilla.org/unix/remote.html claims that one can do

KH> mozilla -remote "openurl(http://www.mozilla.org)"

KH> but this does not work for me (version M18-3).

> Me neither.

>>> Recently, I've nearly (not entirely) converted to KDE's
>>> konqueror and

>>> konqueror URL

>>> works.  I still am not fond of KDE's overall UI, but the tools
>>> they've developed suit my needs.

KH> That's all?  Does that start a new version of konqueror if one
KH> is already up and running?

> I don't know.  I'll check tonight.

Great, thanks.

KH> For gnome-help-browser, one can apparently do

KH> gnome-help-browser URL

KH> but I have yet to figure out how to use an existing
KH> help-browser ...

> But you probably don't want to use it for much; R help is fine, but
> much more wouldn't be.

Actually, I am mostly trying to get rid of the netscape-specific code in
help.start().  I.e., start a little private beast
	diplayURLinBrowser(url, browser)
which eventually could be made more useful ...

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Apr 16 21:44:35 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Apr 2001 22:44:35 +0200
Subject: [Rd] PR#896
In-Reply-To: Torsten Hothorn's message of "Mon, 9 Apr 2001 18:19:10 +0200 (MEST)"
References: <Pine.LNX.4.21.0104091809580.10969-100000@artemis.imbe.med.uni-erlangen.de>
Message-ID: <x24rvo7ex8.fsf@blueberry.kubism.ku.dk>

Torsten Hothorn <Torsten.Hothorn@rzmail.uni-erlangen.de> writes:

> > c(3.770684,4.654342,3.496403,1.772743,1.624953,2.645835,3.0994
> > 77,1.706758,3.507709,1.982924)
> > y<-c(-0.8161288,0.1632923,0.6421997,1.9270846,-
> > 0.4668112,0.3587806,0.3312529,-0.5393900,
> > 0.1057892,1.7963575)
> 
> `wdiff' is used for the computation of asymptotic confidence intervals for
> samples with m,n > 50. I simulated the type I error rate and it works for
> such large sample sizes. So maybe the problems are due to n.x = n.y = 10 ?
> 
> Torsten

I think the real problem is here:

> > ol<-optimize(wdiff,c(mumin,mumax),zq=qnorm(0.05))$minimum
> > om<-optimize(wdiff,c(mumin,mumax),zq=qnorm(0.5))$minimum
> > ou<-optimize(wdiff,c(mumin,mumax),zq=qnorm(0.95))$minimum
> > 
> > abline(v=ol)
> > abline(v=om,lty=4)
> > abline(v=ou,lty=7)

Optimize() is a gradient algorithm and wdiff is not smooth, so the
algorithm terminates at a stationary non-optimal point. Using optim()
with the default Nelder-Mead instead seemed to work better, although
not perfectly. (I played with this before going on Easter holiday, and
I'm not going to reconstruct exactly what I did then just now....)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From cdhershberger@dow.com  Tue Apr 17 04:34:06 2001
From: cdhershberger@dow.com (cdhershberger@dow.com)
Date: Tue, 17 Apr 2001 05:34:06 +0200 (MET DST)
Subject: [Rd] cannot allocate vector of size 71773 Kb (PR#915)
Message-ID: <200104170334.FAA19601@pubhealth.ku.dk>

Full_Name: Doug Hershberger
Version: 1.2.2
OS: Red Hat-Linux 7.0
Submission from: (NULL) (216.99.65.36)


In the R FAQ I find the following entry explaining that R no longer has   
problems with memory.

http://cran.r-project.org/doc/FAQ/R-FAQ.html#Why%20does%20R%20run%20out%20of%20of%20memory%3f

However in my installation: R Version 1.2.2  (2001-02-26)

Installed from the red hat RPM on your site on a Red Hat 7.0 i686

I get the following error when working with large data sets:

                > source("/usr/local/genex/rcluster/lib/rcluster/r/hcluster.r");
               > breadth.program("uploaded_data.txt", "average", 10)
                Read 2 items
                Read 8574 items
                Error: cannot allocate vector of size 71773 Kb
                Execution halted

Is there a way to fix this? This is running as part of the GeneX
installation so I would have to dig through to figure out how to give R
more memory.

Besides which I don't think that will work.

Thanks for any insight that you can provide.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ligges@statistik.uni-dortmund.de  Tue Apr 17 07:16:03 2001
From: ligges@statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 17 Apr 2001 08:16:03 +0200
Subject: [Rd] cannot allocate vector of size 71773 Kb (PR#915)
References: <200104170334.FAA19601@pubhealth.ku.dk>
Message-ID: <3ADBDFA3.91667E53@statistik.uni-dortmund.de>



cdhershberger@dow.com wrote:
> 
> Full_Name: Doug Hershberger
> Version: 1.2.2
> OS: Red Hat-Linux 7.0
> Submission from: (NULL) (216.99.65.36)
> 
> In the R FAQ I find the following entry explaining that R no longer has
> problems with memory.
> 
> http://cran.r-project.org/doc/FAQ/R-FAQ.html#Why%20does%20R%20run%20out%20of%20of%20memory%3f
> 
> However in my installation: R Version 1.2.2  (2001-02-26)
> 
> Installed from the red hat RPM on your site on a Red Hat 7.0 i686
> 
> I get the following error when working with large data sets:
> 
>                 > source("/usr/local/genex/rcluster/lib/rcluster/r/hcluster.r");
>                > breadth.program("uploaded_data.txt", "average", 10)
>                 Read 2 items
>                 Read 8574 items
>                 Error: cannot allocate vector of size 71773 Kb
>                 Execution halted
> 
> Is there a way to fix this? This is running as part of the GeneX
> installation so I would have to dig through to figure out how to give R
> more memory.
> 
> Besides which I don't think that will work.
> 
> Thanks for any insight that you can provide.


That is NOT A BUG!

Have a look at ?Memory
Start R with --max-mem-size=xxxM

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Apr 17 07:17:31 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 17 Apr 2001 08:17:31 +0200 (MET DST)
Subject: [Rd] cannot allocate vector of size 71773 Kb (PR#915)
Message-ID: <200104170617.IAA20047@pubhealth.ku.dk>

On Tue, 17 Apr 2001 cdhershberger@dow.com wrote:

> Full_Name: Doug Hershberger
> Version: 1.2.2
> OS: Red Hat-Linux 7.0
> Submission from: (NULL) (216.99.65.36)
>
>
> In the R FAQ I find the following entry explaining that R no longer has
> problems with memory.

No longer has the same problems....  There is also a section on
`What is a bug?' that you should read again.

> http://cran.r-project.org/doc/FAQ/R-FAQ.html#Why%20does%20R%20run%20out%20of%20of%20memory%3f
>
> However in my installation: R Version 1.2.2  (2001-02-26)
>
> Installed from the red hat RPM on your site on a Red Hat 7.0 i686
>
> I get the following error when working with large data sets:
>
>                 > source("/usr/local/genex/rcluster/lib/rcluster/r/hcluster.r");
>                > breadth.program("uploaded_data.txt", "average", 10)
>                 Read 2 items
>                 Read 8574 items
>                 Error: cannot allocate vector of size 71773 Kb
>                 Execution halted
>
> Is there a way to fix this? This is running as part of the GeneX

Install more memory, or write better R code, or use better statistical
methods.

> installation so I would have to dig through to figure out how to give R
> more memory.
>
> Besides which I don't think that will work.

We would need to know a lot more about the code to see the problem,
but as a quick guess, clustering 8574 items with the standard algorithms
takes a very large amount of memory (on any system), so it would be the
third alternative.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Tue Apr 17 11:24:41 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Tue, 17 Apr 2001 12:24:41 +0200
Subject: [Rd] converting body of a function to a a character vector
References: <200104170617.IAA20047@pubhealth.ku.dk>
Message-ID: <3ADC19E9.AE9E3501@univie.ac.at>

have a look at the following session:

> fff<-function(x)
+ {
+ x*x
+ }
> fff
function(x)
{
x*x
}
>
> body(fff)
{
    x * x
}
> as.character(body(fff))
[1] "{"     "x * x"

somehow,
the closing parenthesis gets lost in the conversion.

i need this stuff because i want to get
the code of a function as a vector of strings so i can get it
into excel with my interface package.



--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Apr 17 16:31:00 2001
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 17 Apr 2001 11:31:00 -0400
Subject: [Rd] cannot allocate vector of size 71773 Kb (PR#915)
References: <200104170334.FAA19601@pubhealth.ku.dk>
Message-ID: <3ADC61B4.C5E42DDB@bank-banque-canada.ca>

> I get the following error when working with large data sets:
>
>                 > source("/usr/local/genex/rcluster/lib/rcluster/r/hcluster.r");
>                > breadth.program("uploaded_data.txt", "average", 10)
>                 Read 2 items
>                 Read 8574 items
>                 Error: cannot allocate vector of size 71773 Kb
>                 Execution halted
>
> Is there a way to fix this? This is running as part of the GeneX
>installation so I would have to dig through to figure out how to give R
>more memory.

In R 1.2.2 this message means the operating system is not letting R have the memory.
You do not need parameters on the R command line (and it seems better not to have
them) but you do need to do some things in the operating system before you start R.
In Unix/Linux you first need to check that your datasize and stacksize limits are not
set, as they usually are. Use limit or unlimit depending on you shell or OS. You then
need to have adequate swap space. Physical memory will make things faster, but is not
necessary. You may need a very large swap space if you are going to do much with an
80M vector, but perhaps it gets broken into smaller pieces once you get it loaded.

Given current memory prices you should probably consider more physical memory, but I
expect you will need several gigs of virtual memory to do much work with an 80M
vector. Also beware, as I recall, mkswap in Linux defaults to an older format for
swap and the newer format is faster.

Paul Gibert



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Wed Apr 18 03:45:56 2001
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Tue, 17 Apr 2001 22:45:56 -0400
Subject: [Rd] Problem with Rcmd check
Message-ID: <ojvpdtg7tcvih5rf7i9piffh68k5t3taf6@4ax.com>

In Windows, I tried to build and check Paul Gilbert's dse bundle with
the command  

 rcmd check ../library/dse

It ran for a while and built the packages, then failed at the end with
this:

 ** checking Rd files ... OK
 ** checking for undocumented objects ... OK
 ** creating syskern-Ex.R ... ERROR

I get similar errors checking packages, but there

  make pkgcheck-foo

works.  I don't think there's a "bundlecheck-foo" target, is there?

Any workarounds, or hints where I should look to figure out what went
wrong?

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Apr 18 06:32:32 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 18 Apr 2001 06:32:32 +0100 (BST)
Subject: [Rd] Problem with Rcmd check
In-Reply-To: <ojvpdtg7tcvih5rf7i9piffh68k5t3taf6@4ax.com>
Message-ID: <Pine.GSO.4.31.0104180625090.16341-100000@auk.stats>

On Tue, 17 Apr 2001, Duncan Murdoch wrote:

> In Windows, I tried to build and check Paul Gilbert's dse bundle with
> the command
>
>  rcmd check ../library/dse
>
> It ran for a while and built the packages, then failed at the end with
> this:
>
>  ** checking Rd files ... OK
>  ** checking for undocumented objects ... OK
>  ** creating syskern-Ex.R ... ERROR
>
> I get similar errors checking packages, but there
>
>   make pkgcheck-foo
>
> works.  I don't think there's a "bundlecheck-foo" target, is there?

No, but you can check individual packages in a bundle (just set the
PKGDIR).  However, there is a bug if a package has a tests directory, and
it can be fixed by altering the RDIFF line near the top of
src/gnuwin32/check/PkgCheck to be

RDIFF = $(RHOME)/bin/Rcmd Rdiff.sh

(This is fixed in the patched versions.  Rdiff got altered fairly recently
and broke this.)

> Any workarounds, or hints where I should look to figure out what went
> wrong?

I think this is a Perl problem we have seen before.  It works for me on NT
(and I think worked for Uwe Ligges too).  Earlier versions (build 613, for
example) of Perl used to work on Win 98, but from ca 619 this happened.
The problem relates to the shell used by the system() command in Perl.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Torsten.Hothorn@rzmail.uni-erlangen.de  Wed Apr 18 10:44:11 2001
From: Torsten.Hothorn@rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Wed, 18 Apr 2001 11:44:11 +0200 (MEST)
Subject: [Rd] PR#896
In-Reply-To: <x24rvo7ex8.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.21.0104181142220.11968-100000@artemis.imbe.med.uni-erlangen.de>

On 16 Apr 2001, Peter Dalgaard BSA wrote:

> Torsten Hothorn <Torsten.Hothorn@rzmail.uni-erlangen.de> writes:
> 
> > > c(3.770684,4.654342,3.496403,1.772743,1.624953,2.645835,3.0994
> > > 77,1.706758,3.507709,1.982924)
> > > y<-c(-0.8161288,0.1632923,0.6421997,1.9270846,-
> > > 0.4668112,0.3587806,0.3312529,-0.5393900,
> > > 0.1057892,1.7963575)
> > 
> > `wdiff' is used for the computation of asymptotic confidence intervals for
> > samples with m,n > 50. I simulated the type I error rate and it works for
> > such large sample sizes. So maybe the problems are due to n.x = n.y = 10 ?
> > 
> > Torsten
> 
> I think the real problem is here:
> 
> > > ol<-optimize(wdiff,c(mumin,mumax),zq=qnorm(0.05))$minimum
> > > om<-optimize(wdiff,c(mumin,mumax),zq=qnorm(0.5))$minimum
> > > ou<-optimize(wdiff,c(mumin,mumax),zq=qnorm(0.95))$minimum
> > > 
> > > abline(v=ol)
> > > abline(v=om,lty=4)
> > > abline(v=ou,lty=7)
> 
> Optimize() is a gradient algorithm and wdiff is not smooth, so the
> algorithm terminates at a stationary non-optimal point. Using optim()
> with the default Nelder-Mead instead seemed to work better, although
> not perfectly. (I played with this before going on Easter holiday, and
> I'm not going to reconstruct exactly what I did then just now....)

Yes. We replaced `optimize' by `uniroot' in `wilcox.test' and use `optim'
in `ansari.test' now. 

Torsten

> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Don.Wingate@intellichem.com  Wed Apr 18 19:44:42 2001
From: Don.Wingate@intellichem.com (Don Wingate)
Date: Wed, 18 Apr 2001 11:44:42 -0700
Subject: [Rd] Freeing memory used by R.
Message-ID: <ABB64B4C48ECD44CADC72FA840118B3B5039@athena.Bend.IntelliChem.com>

Hello R developers,

Windows 2000 
R Version 1.2.2

I am running using R.dll in a Windows application.  It is loaded into memory
when needed, used as required, and then (hopefully) destroyed while the
application continues with other, unrelated activities.  The problem is that
I can't find any way to free all memory used by R without terminating the
process in which R is running, which I cannot do because that would also
kill the host application.  Is there a way to locate and free all memory
allocated by R.dll, leaving the host process intact?  

Thank you,

Don Wingate.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Wed Apr 18 20:08:00 2001
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Wed, 18 Apr 2001 12:08:00 -0700 (PDT)
Subject: [Rd] Freeing memory used by R.
In-Reply-To: <ABB64B4C48ECD44CADC72FA840118B3B5039@athena.Bend.IntelliChem.com>
Message-ID: <Pine.A41.4.33.0104181202440.16584-100000@homer22.u.washington.edu>

On Wed, 18 Apr 2001, Don Wingate wrote:

> Hello R developers,
>
> Windows 2000
> R Version 1.2.2
>
> I am running using R.dll in a Windows application.  It is loaded into memory
> when needed, used as required, and then (hopefully) destroyed while the
> application continues with other, unrelated activities.  The problem is that
> I can't find any way to free all memory used by R without terminating the
> process in which R is running, which I cannot do because that would also
> kill the host application.  Is there a way to locate and free all memory
> allocated by R.dll, leaving the host process intact?
>

In general you can't release memory to the operating system: under most
malloc's and most OS's the memory you free() just stays allocated.  You
might be able to unload the R dll; I don't know what effect that has under
Windows.

However, any halfway competent virtual memory system (which nowadays does
include Windows) will end up paging out the memory if it is never used, so
it shouldn't help much even if you could release all the memory.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley@u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Apr 18 21:36:02 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 18 Apr 2001 21:36:02 +0100 (BST)
Subject: [Rd] Freeing memory used by R.
In-Reply-To: <ABB64B4C48ECD44CADC72FA840118B3B5039@athena.Bend.IntelliChem.com>
Message-ID: <Pine.GSO.4.31.0104182133130.19021-100000@auk.stats>

On Wed, 18 Apr 2001, Don Wingate wrote:

> Hello R developers,
>
> Windows 2000
> R Version 1.2.2
>
> I am running using R.dll in a Windows application.  It is loaded into memory
> when needed, used as required, and then (hopefully) destroyed while the
> application continues with other, unrelated activities.  The problem is that
> I can't find any way to free all memory used by R without terminating the
> process in which R is running, which I cannot do because that would also
> kill the host application.  Is there a way to locate and free all memory
> allocated by R.dll, leaving the host process intact?

Yes, but if you are using R.dll at that level you will have already
read all the code, so you will know that R.dll uses its own allocator
in malloc.c and so how to do this.

BTW, although you can decommit all the memory, you cannot easily
unreserve it.  If the difference means nothing to you, then I suggest you
don't mess with this.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Timothy.Keitt@StonyBrook.Edu  Wed Apr 18 22:49:39 2001
From: Timothy.Keitt@StonyBrook.Edu (Timothy H. Keitt)
Date: Wed, 18 Apr 2001 17:49:39 -0400
Subject: [Rd] Freeing memory used by R.
References: <ABB64B4C48ECD44CADC72FA840118B3B5039@athena.Bend.IntelliChem.com>
Message-ID: <3ADE0BF3.5010500@StonyBrook.Edu>

Under linux (actually libc6), the strategy is to mmap /dev/zero for 
large allocations.  Unmapping this memory does return it to the system, 
unlike traditional malloc implementations that only release memory after 
the process terminates.  I don't know if there is an equivalent in windows.

Tim

Don Wingate wrote:

> Hello R developers,
> 
> Windows 2000 
> R Version 1.2.2
> 
> I am running using R.dll in a Windows application.  It is loaded into memory
> when needed, used as required, and then (hopefully) destroyed while the
> application continues with other, unrelated activities.  The problem is that
> I can't find any way to free all memory used by R without terminating the
> process in which R is running, which I cannot do because that would also
> kill the host application.  Is there a way to locate and free all memory
> allocated by R.dll, leaving the host process intact?  
> 
> Thank you,
> 
> Don Wingate.
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
Timothy H. Keitt
Department of Ecology and Evolution
State University of New York at Stony Brook
Phone: 631-632-1101, FAX: 631-632-7626
http://life.bio.sunysb.edu/ee/keitt/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Don.Wingate@intellichem.com  Wed Apr 18 23:10:17 2001
From: Don.Wingate@intellichem.com (Don Wingate)
Date: Wed, 18 Apr 2001 15:10:17 -0700
Subject: [Rd] Freeing memory used by R.
Message-ID: <ABB64B4C48ECD44CADC72FA840118B3B503A@athena.Bend.IntelliChem.com>

The trouble is that the lost memory is building up in the process space of
my host application.  The R dll might be loaded and unloaded several times
in a single session, each time allocating more memory for itself.  To the
best of my ability to determine, when the dll is unloaded, the memory that
it allocated, as well as any dll's it might have loaded for its own use,
stay in memory.  

Don.


On Wed, 18 Apr 2001, Don Wingate wrote:

> Hello R developers,
>
> Windows 2000
> R Version 1.2.2
>
> I am running using R.dll in a Windows application.  It is loaded into
memory
> when needed, used as required, and then (hopefully) destroyed while the
> application continues with other, unrelated activities.  The problem is
that
> I can't find any way to free all memory used by R without terminating the
> process in which R is running, which I cannot do because that would also
> kill the host application.  Is there a way to locate and free all memory
> allocated by R.dll, leaving the host process intact?
>

In general you can't release memory to the operating system: under most
malloc's and most OS's the memory you free() just stays allocated.  You
might be able to unload the R dll; I don't know what effect that has under
Windows.

However, any halfway competent virtual memory system (which nowadays does
include Windows) will end up paging out the memory if it is never used, so
it shouldn't help much even if you could release all the memory.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley@u.washington.edu	University of Washington, Seattle
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From paul@stat.auckland.ac.nz  Thu Apr 19 21:33:55 2001
From: paul@stat.auckland.ac.nz (paul@stat.auckland.ac.nz)
Date: Thu, 19 Apr 2001 22:33:55 +0200 (MET DST)
Subject: [Rd] par(mgp) bug (PR#916)
Message-ID: <200104192033.WAA02218@pubhealth.ku.dk>

Hi

The behaviour of the third argument of par(mgp), which controls the
placement of the axis ticks, is not working.  

In the following example, the plots should NOT be
identical; the axis ticks plus the axis major line should be drawn one
line out from the edges of the plot region.

par(mfrow=c(2,1))
plot(1:10)
par(mgp=c(3,1,1))
plot(1:10)

Paul

<<insert bug report here>>



--please do not edit the information below--

Version:
 platform = sparc-sun-solaris2.7
 arch = sparc
 os = solaris2.7
 system = sparc, solaris2.7
 status = Under development (unstable)
 major = 1
 minor = 3.0
 year = 2001
 month = 02
 day = 18
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Torsten.Hothorn@rzmail.uni-erlangen.de  Fri Apr 20 07:38:45 2001
From: Torsten.Hothorn@rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Fri, 20 Apr 2001 08:38:45 +0200 (MEST)
Subject: [Rd] system.file
Message-ID: <Pine.LNX.4.21.0104200834350.20588-100000@artemis.imbe.med.uni-erlangen.de>


I'm a little bit confused since this worked until R-1.2.2: 

in a private package `maxstat' I added 

Tab2 <- as.matrix(read.table(system.file("LausenTab2.dat",
+                                          package="maxstat")[1]))

to the examples of a function `pLausen92'.

`examples(pLausen92)' succeeds but

`R CMD check maxstat' fails with

> Tab2 <- as.matrix(read.table(system.file("LausenTab2.dat",
+                                          package="maxstat")[1]))
Error in file(file, "r") : cannot open file `'
Execution halted

`LausenTab2.dat' lives in `maxstat/inst'.

Torsten

> version
         _                           
platform i686-pc-linux-gnu           
arch     i686                        
os       linux-gnu                   
system   i686, linux-gnu             
status   Under development (unstable)
major    1                           
minor    3.0                         
year     2001                        
month    04                          
day      19                          
language R                           
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From skala@incoma.cz  Fri Apr 20 07:43:30 2001
From: skala@incoma.cz (skala@incoma.cz)
Date: Fri, 20 Apr 2001 08:43:30 +0200 (MET DST)
Subject: [Rd] boxplot (PR#917)
Message-ID: <200104200643.IAA04049@pubhealth.ku.dk>

Full_Name: Zdenek Skala
Version: 1.2.2.
OS: Windows 95
Submission from: (NULL) (212.71.163.240)


problem with outliers in boxplot() and boxplot.stats() - with range/coef=0
the outlier points are drawn within the space covered by whiskers:

> boxplot(c(1,2,3,4,5,6,7,8,50),range=0)
# draws the whiskers extending to the data extremes but outlier points at
# 1,2,8,50; likewise:
> boxplot.stats(c(1,2,3,4,5,6,7,8,50),coef=0)
# yields
# $stats
# [1]  1  3  5  7 50
#
# $n
# [1] 9
#
# $conf
# [1] 2.893333 7.106667
#
# $out
# [1]  1  2  8 50


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Fri Apr 20 13:48:33 2001
From: p.dalgaard@biostat.ku.dk (p.dalgaard@biostat.ku.dk)
Date: Fri, 20 Apr 2001 14:48:33 +0200 (MET DST)
Subject: [Rd] Re: Precedence of %% (PR#879)
Message-ID: <200104201248.OAA13781@pubhealth.ku.dk>


This message from Duncan M. (listed below) seems to have escaped the
r-devel list, possibly due to lack of a subject header.

gram.y has

...
%left           '*' '/' '%'
%left           SPECIAL
%left           ':'
...

and %% is a SPECIAL token, so it does indeed have higher precedence
than *. This is somewhat unusual compared to other languages, but it
is compatible with S-PLUS 3.4, so I'd say that it is the documentation
that is wrong. (And that part was written by me, I'm afraid...)

	-p



Date: Sun, 18 Mar 2001 07:45:13 -0500 (EST)
From: Duncan Murdoch <murdoch@stats.uwo.ca>
To: r-bugs@r-project.org

According to the documentation (R-lang p. 56), * 
and %% (mod) have equal operator precedence, so they 
should group from left to right.  Thus

  3 * 4 %% 5

should give 2, i.e. (3*4) mod 5.  However, I get 

 >   3 * 4 %% 5
 [1] 12

i.e. 3 * (4 mod 5).

Other experiments suggest to me that %% is given 
higher priority than *, it's not the "left to right" 
rule that is not being followed.

Duncan Murdoch



-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Fri Apr 20 14:36:08 2001
From: p.dalgaard@biostat.ku.dk (p.dalgaard@biostat.ku.dk)
Date: Fri, 20 Apr 2001 15:36:08 +0200 (MET DST)
Subject: [Rd] Re: Precedence of %% (PR#879)
Message-ID: <200104201336.PAA01127@pubhealth.ku.dk>

p.dalgaard@biostat.ku.dk writes:

> gram.y has
> 
> ...
> %left           '*' '/' '%'
> %left           SPECIAL
> %left           ':'
> ...
> 
> and %% is a SPECIAL token, so it does indeed have higher precedence
> than *. This is somewhat unusual compared to other languages, but it
> is compatible with S-PLUS 3.4, so I'd say that it is the documentation
> that is wrong. (And that part was written by me, I'm afraid...)

...although I don't think I'm the perpetrator of that '%' in gram.y,
which was probably what misled me in the 1st place. I don't think
there is a way the tokenizer *can* generate a single '%'.

I've modified R-lang.texi for version 1.2.3

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pd@pubhealth.ku.dk  Sat Apr 21 06:15:05 2001
From: pd@pubhealth.ku.dk (Peter Dalgaard BSA)
Date: Sat, 21 Apr 2001 07:15:05 +0200
Subject: [Rd] Bug list summary (automatic post)
Message-ID: <200104210515.HAA05825@blueberry.kubism.ku.dk>

=================================================
This is an automated summary of the status of the R-bugs
repository.

Note that this may be neither complete nor perfectly
correct at any given instance: Not all bugs are reported,
and some reported bugs may have been fixed, but the
repository not yet updated.

Some bug fixes are difficult to verify because they pertain
to specific hardware or operating system versions. If you
have information to contribute, please do so.

If you happen to know how to fix a problem please send
patches to the bug repository, too.

New bugs are reported either through the web
interface at r-bugs.r-project.org or via email to
r-bugs@r-project.org. The bug.report() function can be
used to automate parts of the procedure on many systems.
Followups on older bugs can be done by including the string
"(PR#999)" in the Subject of an email (change 999 to the
actual reference number, of course!).
=================================================

Directory:  Accuracy

* PR# 751 *
Subject: BUG: polyroot()
From: "Li Dongfeng" <mavip1@inet.polyu.edu.hk>
Date: Tue, 28 Nov 2000 13:24:33 +0800
--Numerical instability. We may want a better algorithm!

Directory:  Add-ons

* PR# 824 *
Subject: trouble with netCDF 
From: jasont@indigoindustrial.co.nz
Date: Thu, 25 Jan 2001 12:00:39 +1300
--Only on a specific sample file: send to maintainer.
* PR# 812 *
Subject: segmentation fault in integrate
From: Achim Zeileis <zeileis@ci.tuwien.ac.at>
Date: Thu, 11 Jan 2001 22:49:59 +0100
* PR# 496 *
From: bonneau@epi.roazhon.inra.fr (en148)
Date: Tue, 21 Mar 2000 10:57:13 +0100 (MET)
--base R has no est.variogram function.
--This appears to be a bug report on sgeostat.

Directory:  Analyses

* PR# 861 *
Subject: histogram of frequencies
From: bernd.winkler@genedata.com
Date: Mon, 5 Mar 2001 15:01:49 +0100 (MET)

Directory:  Documentation

* PR# 899 *
Subject: documentation problems in str.Rd
From: Kurt Hornik <Kurt.Hornik@ci.tuwien.ac.at>
Date: Sat, 7 Apr 2001 23:08:23 +0200
* PR# 886 *
Subject: Error (?) in documentation of 'swiss' data in R base package
From: k.j.mcconway@open.ac.uk
Date: Wed, 28 Mar 2001 16:46:49 +0200 (MET DST)
* PR# 856 *
Subject: "}  {" problem in Rd files
From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
Date: Mon, 26 Feb 2001 11:10:01 -0500

Directory:  Graphics

* PR# 897 *
Subject:  bug in contour() ? 
From: kuensch@stat.math.ethz.ch
Date: Fri, 6 Apr 2001 16:21:24 +0200
* PR# 202 *
Subject: persp box occlusion bug
From: wsi@gcal.ac.uk
Date: Wed, 2 Jun 1999 15:02:03 +0200 (MET DST)
--The persp algorithm does not apply the occlusion rules to the frame, 
--which is always plotted first. 
--A bug, but not very simple to fix.
* PR# 750 *
Subject: abline() does not obey "xpd" (clipping rules)
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Mon, 27 Nov 2000 18:27:11 +0100
* PR# 660 *
Subject: identify.default ignores any setting of cex.
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
Date: Fri, 15 Sep 2000 10:23:39 +0100 (BST)
* PR# 791 *
Subject:  par(lab= *) / axis(*) bug 
From: maechler@stat.math.ethz.ch
Date: Fri, 22 Dec 2000 10:59:26 +0100
* PR# 776 *
Subject: strwidth does not take font into account
From: Martyn Plummer <plummer@iarc.fr>
Date: Tue, 19 Dec 2000 14:56:01 +0100 (CET)
--This needs a substantial redesign.
* PR# 820 *
Subject: interaction.plot
From: "Mark M. Span" <span@psy.uva.nl>
Date: Mon, 22 Jan 2001 10:47:39 +0100
--mtext is unscaled by default.  It is not clear if this should
--use the par("cex") setting or an inline cex setting such as cex.axis.
--It might make more sense to use axis rather than mtext, as boxplot does.
* PR# 816 *
Subject: dotplot: character size of labels
From: RINNER Heinrich <H.RINNER@TIROL.GV.AT>
Date: Thu, 18 Jan 2001 14:54:32 +0100
--Suggested fix is incorporated in 1.2.2.
--
--There is a deeper problem:  mtext() ignores par(cex=.5) in general.  
--To see the problem try:  par(cex=.5); mtext("hi")
--Paul thinks the right fix is to change the argument list for mtext so that
--cex=par(cex) by default rather than cex=NA by default (plus corresponding
--internal changes to  do_mtext in plot.c).
--This needs to be done very carefully because (i) the change suggested above 
--mayhave side-effects in many other pieces of interpreted code 
--(ii) do_mtext ignores dd->gp.cexbase unlike, for example, do_plot_xy 
--and anything to do with cexbase needs extreme care.
* PR# 830 *
Subject: Disappearing x axis in plot.factor
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 30 Jan 2001 00:27:13 -0500
* PR# 828 *
Subject: termplot fails for composite non-factor terms
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sat, 27 Jan 2001 11:57:37 +1100 (EST)
--Neither of the proposed changes actually works in sufficient generality.
--
--The easy and unimportant part of this, the labels, is fixed in 1.2.2. Getting
--the data right is a project for 1.3
* PR# 837 *
Subject: screen doesn't handle redrawing properly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 01 Feb 2001 14:20:52 -0500
* PR# 831 *
Subject: screen can't go back to (split) screen with log="y" plot
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 30 Jan 2001 00:39:41 -0500
* PR# 887 *
Subject: axis(adj=anything) has no effect
From: jhallman@frb.gov
Date: Wed, 28 Mar 2001 20:51:05 +0200 (MET DST)
* PR# 865 *
Subject:  axis(...,las=1) breaks postscript code in certain cases 
From: maechler@stat.math.ethz.ch
Date: Wed, 7 Mar 2001 18:08:58 +0100
* PR# 857 *
Subject: Plotting points on a filled.contour plot
From: marchini@stats.ox.ac.uk
Date: Tue, 27 Feb 2001 10:00:30 +0100 (MET)
--This needs at least to be documented, and preferably par("usr")
--set to the coordinate system of the plotting region after use.

Directory:  In-Out

none

Directory:  Installation

none

Directory:  Language

* PR# 879 *
From: Duncan Murdoch <murdoch@stats.uwo.ca>
Date: Sun, 18 Mar 2001 07:45:13 -0500 (EST)
--precedence of %% appears to be not as documented
* PR# 408 *
Subject: convolution bug
From: wsimpson@gcal.ac.uk
Date: Fri, 28 Jan 2000 11:17:36 +0100 (MET)
* PR# 669 *
Subject: Bug(s) w/ rbind.data.frame(); fix also read.table(*, as.is = TRUE) ?
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Mon, 25 Sep 2000 10:17:15 +0200
--status of AsIs columns
* PR# 412 *
Subject: anomalies with call objects
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 06 Feb 2000 01:18:50 +0100
* PR# 869 *
Subject:  inconsistent results when calling functions with other func
From: "White, Paul" <Paul.White@dsto.defence.gov.au>
Date: Thu, 8 Mar 2001 18:26:35 +1100 
* PR# 813 *
Subject: match.call problem
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 12 Jan 2001 17:46:15 +0100

Directory:  Low-level

* PR# 904 *
Subject:  Segmentation fault in subscripting array of lists 
From: J.C.Rougier@durham.ac.uk
Date: Tue, 10 Apr 2001 15:01:52 +0100 (BST)
--The usage is incorrect, but should not segfault
* PR# 505 *
Subject: interrupted save 
From: Thomas Lumley <thomas@biostat.washington.edu>
Date: Sat, 25 Mar 2000 12:16:50 -0800 (PST)

Directory:  Misc

* PR# 875 *
Subject: Re: [R] Bug in qchisq?
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 10 Mar 2001 02:26:11 +0100

Directory:  Models

* PR# 862 *
Subject: Wrong sign for Pearson residuals
From: faraway@umich.edu
Date: Mon, 5 Mar 2001 18:04:34 +0100 (MET)

Directory:  Startup

* PR# 486 *
Subject: Re: autoload error in profile {was anova-bug in R-version  1.0.0?}
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Tue, 14 Mar 2000 10:32:43 +0100 (MET)
--workaround to the origin problem in 1.0.1
--New report: try does not work from the profile.

Directory:  System-specific

* PR# 896 *
Subject: Optimize: difference between R for Linux and Windows
From: "Marketa Kylouskova" <Marketa.Kylouskova@euromise.cz>
Date: 5 Apr 2001 12:30:29 +0100
* PR# 863 *
Subject: src/main/arithmetic.c on OpenBSD
From: ian@darwinsys.com (Ian Darwin)
Date: Tue,  6 Mar 2001 19:49:53 -0500 (EST)
* PR# 851 *
Subject: Comments on R-1.2.1 builds
From: "Nelson H. F. Beebe" <beebe@math.utah.edu>
Date: Fri, 16 Feb 2001 17:44:17 -0700 (MST)
--These are only warnings: some have been eliminated for 1.2.2.
--Some are about constructs needed to satisfy other compilers.
--
--Also: configure problem with g77 on SGI.
--(Should be taken care of for 1.2.3).
* PR# 848 *
Subject: X11 device doesn't handle destroy events correcly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 13 Feb 2001 17:40:46 -0500

Directory:  TooMuchAtOnce

* PR# 811 *
Subject: problem with strptime example (and mention of bug.report)
From: Stephen Eglen <stephen@anc.ed.ac.uk>
Date: Thu, 11 Jan 2001 19:18:39 GMT
--1) On OSF4, strptime is deficient. Nothing we can do.
--
--2) On Windows NT, the strptime problems are (i) German locale, English dates,
--(ii) Windows system errors with unknown DST (it move times to DST).
--(i) now has another warning in the help file (there already was one).
--(ii) was already worked around for 1.2.1.
--
--3) bug.report() uses a mailer option that does not exist on OSF4.

Directory:  Windows

* PR# 912 *
Subject: Rgui.exe crash on Windows 2000
From: gilg.seeber@uibk.ac.at
Date: Thu, 12 Apr 2001 15:07:52 +0200 (MET DST)
--seems to be specific to the submitter's system.
--Cannot reproduce.
* PR# 906 *
Subject: Win98 wheelmouse graphics lock problem
From: cpaul@ucla.edu
Date: Tue, 10 Apr 2001 17:50:44 +0200 (MET DST)
--Cannot reproduce without more information
--In particular, does not happen with Microsoft Intellimouse on W2K

Directory:  incoming

* PR# 917 *
Subject: boxplot
From: skala@incoma.cz
Date: Fri, 20 Apr 2001 08:43:29 +0200 (MET DST)
* PR# 916 *
Subject:  par(mgp) bug 
From: paul@stat.auckland.ac.nz
Date: Fri, 20 Apr 2001 08:33:45 +1200 (NZST)
* PR# 915 *
Subject: cannot allocate vector of size 71773 Kb
From: cdhershberger@dow.com
Date: Tue, 17 Apr 2001 05:34:04 +0200 (MET DST)
* PR# 877 *
Subject: segmentation fault of unknown cause
From: Martin Schlather <Martin.Schlather@uni-bayreuth.de>
Date: Wed, 14 Mar 2001 17:45:25 +0100
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sat Apr 21 13:07:47 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 21 Apr 2001 14:07:47 +0200 (MET DST)
Subject: [Rd] Re: PR#886: Error (?) in documentation of 'swiss'
Message-ID: <200104211207.OAA05218@pubhealth.ku.dk>

>From k.j.mcconway@open.ac.uk  Wed Mar 28 16:46:49 2001

Hardly crucial, but I've come upon a potential error in the documentation
of the 'swiss' datafram in the R base package. The description accurately
matches what is said in the Mosteller and Tukey source quoted, but
according to the data archived at Princeton (links from
http://opr.princeton.edu/archive/eufert/switz.html), the variable that
Mosteller and Tukey report as infant mortality is actually the proportion
of 'draftees' with education beyond primary school. Infant mortality is on
the archived file, but the values are quite a lot different. Of course,
it's possible that Mosteller and Tukey were right and the people who did
the archiving at Princenton, later, got it wrong.

It seems it is you that got it wrong! In the file sw1888.dat in their
switz.zip, the variable

 36 USCHOOL        321-330       3  Prop. draftees with > primary educ.

corresponds to `Education' and

 22 INFMORT        181-190       3  Infant Mortality Rate

corresponds to `Infant Mortality'.

Apart from guessing factors of 10, the data correspond to the 47 districts
with > 50% French speakers to the accuracy they are given.

If you still disagree, can you please explain how you did this?  I used

> read.fwf("sw1888.dat", widths=c(rep(10, 45),1,2,2,2,8,1,15)) ->sw0
> ind <- sw0[, 27] > 50000
> sw <- sw0[ind, ]
> sw[, c(5, 12, 34, 36, 9, 22)-3]

the first column in the file being variable 4.


Thanks for the source: as from 1.3.0 I have added the district names.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Sat Apr 21 20:08:13 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Sat, 21 Apr 2001 21:08:13 +0200
Subject: [Rd] display URL in browser
Message-ID: <15073.55965.249728.775955@mithrandir.hornik.net>

Does anyone know whether one can ``remotely'' make konqueror display a
URL a la netscape -remote 'openURL(url)', and how this can be done?
Thanks
-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Sat Apr 21 21:15:32 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Sat, 21 Apr 2001 22:15:32 +0200
Subject: [Rd] Rcsound, new version
Message-ID: <3AE1EA64.27CC85A5@univie.ac.at>


there is a new version of my "R sings" package
no functional changes, but more stable and reliable on windows.
feedback about unix needed!

http://mailbox.univie.ac.at/erich.neuwirth/Rcsound/

--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From k.j.mcconway@open.ac.uk  Sat Apr 21 23:18:53 2001
From: k.j.mcconway@open.ac.uk (k.j.mcconway@open.ac.uk)
Date: Sun, 22 Apr 2001 00:18:53 +0200 (MET DST)
Subject: [Rd] Re: PR#886: Error (?) in documentation of 'swiss'
Message-ID: <200104212218.AAA06617@pubhealth.ku.dk>

No, you're quite right, I was wrong. I must have been very confused when I
put up the first 'bug' report, #886. I noticed my error a couple of days
after and put up a comment to that effect on R-bugs, but it seems to have
vanished (or alternatively I did that wrong as well). I agree with you on
the criterion for the choice of districts as well. There remains a minuscule
discrepancy between the Mosteller and Tukey description and the Princeton
one, in that M&T say that the 4th variable is the % of the population with
education beyond primary school, whereas the Princeton source says it's the
percentage of 'draftees' with this level of education; given the date, the
differences between male and female education levels at the time, and the
(presumed) fact that the 'draftees' are all male, this might make a
difference to interpretation, I suppose.

It did occur to me to wonder why Mosteller and Tukey chose these particular
variables out of all those given in the source...

Regards,

Kevin McConway
Department of Statistics
The Open University
k.j.mcconway@open.ac.uk
----- Original Message -----
From: "Prof Brian D Ripley" <ripley@stats.ox.ac.uk>
To: "k.j.mcconway" <k.j.mcconway@open.ac.uk>
Cc: "R-bugs" <>
Sent: 21 April 2001 13:09
Subject: Re: PR#886: Error (?) in documentation of 'swiss'


>
> >From k.j.mcconway@open.ac.uk  Wed Mar 28 16:46:49 2001
>
> Hardly crucial, but I've come upon a potential error in the documentation
> of the 'swiss' datafram in the R base package. The description accurately
> matches what is said in the Mosteller and Tukey source quoted, but
> according to the data archived at Princeton (links from
> http://opr.princeton.edu/archive/eufert/switz.html), the variable that
> Mosteller and Tukey report as infant mortality is actually the proportion
> of 'draftees' with education beyond primary school. Infant mortality is on
> the archived file, but the values are quite a lot different. Of course,
> it's possible that Mosteller and Tukey were right and the people who did
> the archiving at Princenton, later, got it wrong.
>
> It seems it is you that got it wrong! In the file sw1888.dat in their
> switz.zip, the variable
>
>  36 USCHOOL        321-330       3  Prop. draftees with > primary educ.
>
> corresponds to `Education' and
>
>  22 INFMORT        181-190       3  Infant Mortality Rate
>
> corresponds to `Infant Mortality'.
>
> Apart from guessing factors of 10, the data correspond to the 47 districts
> with > 50% French speakers to the accuracy they are given.
>
> If you still disagree, can you please explain how you did this?  I used
>
> > read.fwf("sw1888.dat", widths=c(rep(10, 45),1,2,2,2,8,1,15)) ->sw0
> > ind <- sw0[, 27] > 50000
> > sw <- sw0[ind, ]
> > sw[, c(5, 12, 34, 36, 9, 22)-3]
>
> the first column in the file being variable 4.
>
>
> Thanks for the source: as from 1.3.0 I have added the district names.
>
> --
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Apr 22 07:38:23 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 22 Apr 2001 07:38:23 +0100 (BST)
Subject: [Rd] display URL in browser
In-Reply-To: <15073.55965.249728.775955@mithrandir.hornik.net>
Message-ID: <Pine.GSO.4.31.0104220734280.3378-100000@auk.stats>

On Sat, 21 Apr 2001, Kurt Hornik wrote:

> Does anyone know whether one can ``remotely'' make konqueror display a
> URL a la netscape -remote 'openURL(url)', and how this can be done?

No, but I wanted to follow up on Netscape 6.01 as I tested it harder
yesterday.  I said this seemed to work.  It almost does, but not enough:

(1) If Netscape 6.01 is running, it loads the requested URL.
(2) If it is not running, it starts Netscape but fails to load the URL.

Some versions of 4.x seem to have the opposite problem, they failed to load
a new URL if Netscape was running.  (4.7 UK version was one.)

Brian


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Apr 22 07:47:31 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 22 Apr 2001 07:47:31 +0100 (BST)
Subject: [Rd] Re: PR#886: Error (?) in documentation of 'swiss'
In-Reply-To: <200104212218.AAA06617@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.31.0104220743060.3378-100000@auk.stats>

On Sun, 22 Apr 2001 k.j.mcconway@open.ac.uk wrote:

> No, you're quite right, I was wrong. I must have been very confused when I
> put up the first 'bug' report, #886. I noticed my error a couple of days
> after and put up a comment to that effect on R-bugs, but it seems to have
> vanished (or alternatively I did that wrong as well). I agree with you on

(It seems never to have got there.)

> the criterion for the choice of districts as well. There remains a minuscule
> discrepancy between the Mosteller and Tukey description and the Princeton
> one, in that M&T say that the 4th variable is the % of the population with
> education beyond primary school, whereas the Princeton source says it's the
> percentage of 'draftees' with this level of education; given the date, the
> differences between male and female education levels at the time, and the
> (presumed) fact that the 'draftees' are all male, this might make a
> difference to interpretation, I suppose.

Also, the agricultural field is for males, and a corresponding one
for females is in the OPR files.

I have already noted both in the help file for the upcoming 1.2.3.

[...]

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Sun Apr 22 11:32:01 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Sun, 22 Apr 2001 12:32:01 +0200
Subject: [Rd] Rcsound, additional information
Message-ID: <3AE2B321.CDEBBBDA@univie.ac.at>

i forgot to mention this explicitly,
but of course it is in the docs ;-)


for Rcsound
you need to install
csound 4.12

otherwise it will not work.

csound 4.12 is only a few weeks old,
so you probably need to get it from
ftp://ftp.maths.bath.ac.uk/pub/dream/newest/


--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rmh@surfer.sbm.temple.edu  Mon Apr 23 04:09:22 2001
From: rmh@surfer.sbm.temple.edu (rmh@surfer.sbm.temple.edu)
Date: Mon, 23 Apr 2001 05:09:22 +0200 (MET DST)
Subject: [Rd] several bugs (PR#918)
Message-ID: <200104230309.FAA10241@pubhealth.ku.dk>

# Your mailer is set to "none" (default on Windows),
# hence we cannot send the bug report directly from R.
# Please copy the bug report (after finishing it) to
# your favorite email program and send it to
#
#       r-bugs@r-project.org
#
######################################################



1. as.numeric behaves differently in R than in S and I think this
shows a bug in how S3 classes are implemented.

R:
> as.numeric
function (x, ...) 
UseMethod("as.double")
> as.double
function (x, ...) 
UseMethod("as.double")


S:
> as.numeric
function(x)
Internal(as.numeric(x), "As_vector", T, 4)
> as.double
function(x)
.Internal(as.double(x), "As_vector", T, 4)
>


As a consequence, a user function
  as.numeric.mv 
doesn't work as a method in R because it never gets called when
accessed as as.numeric(x).

> objects()
character(0)
> a <- list(NA)
> attr(a[[1]],"mv") <- "default"
> class(a) <- "mv"
> 
> a
[[1]]
[1] NA
attr(,"mv")
[1] "default"

attr(,"class")
[1] "mv"
> as.numeric(a)
[1] NA
> as.numeric.mv <- function(x, ...) {
+   print("we got here")
+  x
+ }
> 
> as.numeric(a)  ## the function as.numeric.mv was not called
[1] NA
> as.numeric.mv(a)
[1] "we got here"
[1] NA
> 



2. works in S-Plus 4.5, not in R.  What is the rationale for this difference?

a <- list(NULL)
attr(a[[1]],"mv") <- "default"

R gives the message
Error: attempt to set an attribute on NULL



3. Unimplemented features in rep, copyVector
> rep(list(1),1)
[[1]]
[1] 1

> rep(list(1,2,3),1)
Error in rep(list(1, 2, 3), 1) : Unimplemented feature in rep

> a <- matrix(list(1,2,3,4,5,6), 2, 3)

Error in matrix(list(1, 2, 3, 4, 5, 6), 2, 3) : 
	Unimplemented feature in copyVector


4. methods in S-Plus that aren't methods in R. 
a. %*% is a method in S-Plus 4.5 and is a primitive in R.
   Therefore a user function "%*%.mv" doesn't get called by  a %*% b



5. S-Plus 6 compatibility issues
a. S+4 and R use the function
     exists("function.name", mode="function")
   S+6 use the function
     existsFunction("function.name")

More generally, S-Plus 6 has the following functions
> objip("exists")
$splus:
[1] "exists"         "existsFunction" "file.exists"   

$main:
[1] "dbexists"       "dbexistsOld"    "dyn.exists"     "existsClass"
[5]  "existsClassDef" "existsDoc"     "existsMethod"  

Can you add these function names to R with sensible defaults until the S4
methods are fully in place?


b. S-Plus 6 uses the function oldClass
Can you add these functions and default definitions to R?
  oldClass <- function(...) class(...)   
  "oldClass<-" <- function(...) "class<-"(...)  


6. bug in "[" for lists

a <- list(1,2,3,4,5,6)
dim(a) <- c(2,3)
unlist(a)
> a[,1:2]
     [,1]   [,2]  
[1,] "NULL" "NULL"
[2,] "NULL" "NULL"

The same code in S+4 gives
> a[,1:2]
     [,1] [,2] 
[1,] 1    3   
[2,] 2    4   




--please do not edit the information below--

Version:
 platform = i386-pc-mingw32
 arch = x86
 os = Win32
 system = x86, Win32
 status = 
 major = 1
 minor = 2.1
 year = 2001
 month = 01
 day = 15
 language = R

Windows 9x 4.0 (build 1212)  B

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rmh@surfer.sbm.temple.edu  Mon Apr 23 04:19:42 2001
From: rmh@surfer.sbm.temple.edu (rmh@surfer.sbm.temple.edu)
Date: Mon, 23 Apr 2001 05:19:42 +0200 (MET DST)
Subject: [Rd] barplot documentation bug (PR#919)
Message-ID: <200104230319.FAA10270@pubhealth.ku.dk>

## documentation error for barplot

p <- c(.5,.3,.15,.05)
par(mfrow=c(4,1))
barplot(p, ylim=c(0,.5), space=0, width=1)
barplot(p, ylim=c(0,.5), space=0, width=.5)
barplot(p, ylim=c(0,.5), space=0, width=.25)
barplot(p, ylim=c(0,.5), space=0, width=.125)


## The widths in the plots are all the same.
## The R documentation for barplot says:
width: optional vector of bar widths.

## The S-Plus 4.5 documentation for barplot is more accurate.  It says:
width	if histo=FALSE, vector of relative bar widths; in this case
	all of the bars are the same width by default. When histo=TRUE, width
	represents where the breaks are for the histogram.
	

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rmh@surfer.sbm.temple.edu  Mon Apr 23 04:29:04 2001
From: rmh@surfer.sbm.temple.edu (rmh@surfer.sbm.temple.edu)
Date: Mon, 23 Apr 2001 05:29:04 +0200 (MET DST)
Subject: [Rd] bugs, doc bugs, comments (PR#920)
Message-ID: <200104230329.FAA10303@pubhealth.ku.dk>


0319
	CMTS.0414
miss.s
	Ops.bug.s
R.bug.report

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From david.meyer@ci.tuwien.ac.at  Mon Apr 23 15:22:45 2001
From: david.meyer@ci.tuwien.ac.at (David Meyer)
Date: Mon, 23 Apr 2001 16:22:45 +0200
Subject: [Rd] display URL in browser
References: <15073.55965.249728.775955@mithrandir.hornik.net>
Message-ID: <3AE43AB5.F60862C@ci.tuwien.ac.at>

Kurt Hornik wrote:
> 
> Does anyone know whether one can ``remotely'' make konqueror display a
> URL a la netscape -remote 'openURL(url)', and how this can be done?
> Thanks
> -k
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

simply:

konqueror url

e.g.: konqueror cran.r-project.org

-d

-- 
Mag. David Meyer			Wiedner Hauptstrasse 8-10
Vienna University of Technology		A-1040 Vienna/AUSTRIA
Department for Statistics, Probability	Tel.: (+431) 58801/10772
Theory and Actuarial Mathematics	mail: david.meyer@ci.tuwien.ac.at
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Mon Apr 23 17:37:05 2001
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Mon, 23 Apr 2001 09:37:05 -0700 (PDT)
Subject: [Rd] several bugs (PR#918)
In-Reply-To: <200104230309.FAA10241@pubhealth.ku.dk>
Message-ID: <Pine.A41.4.33.0104230854200.125502-100000@homer34.u.washington.edu>


Some of these are indeed bugs. Some are merely incompatibilities, in
particular between R and S4. R is intended to be largely compatible with S
version 3, but not (currently at least) with S version 4.

Incidentally, it's easier to  keep track of bugs if they come one to a
message. That way they get separate bug numbers.

On Mon, 23 Apr 2001 rmh@surfer.sbm.temple.edu wrote:
> 1. as.numeric behaves differently in R than in S and I think this
> shows a bug in how S3 classes are implemented.
>
> R:
> > as.numeric
> function (x, ...)
> UseMethod("as.double")

It is a bug, but not in how S3 classes are implemented (well, it's a bug
in the design of S3 classes that this can happen).  R has only one
floating point data type, which means that as.numeric and as.double do the
same thing.  The bug is that it isn't documented under help(as.numeric)
that you need to set up methods for as.double().

>
>
> 2. works in S-Plus 4.5, not in R.  What is the rationale for this difference?
>
> a <- list(NULL)
> attr(a[[1]],"mv") <- "default"
>
> R gives the message
> Error: attempt to set an attribute on NULL

The rationale is that you can't set an attribute on NULL. There are two
reasons.  The implementation reason is that there's only one of it: all
NULLs are references to the same object.  The interface reason is that if
you  want to set attributes on it you don't want a NULL (think of the NULL
pointer in C or nil in Pascal).

 You probably want numeric(0).

> 3. Unimplemented features in rep, copyVector
> > rep(list(1),1)
> [[1]]
> [1] 1
>
> > rep(list(1,2,3),1)
> Error in rep(list(1, 2, 3), 1) : Unimplemented feature in rep

Yes, it's an unimplemented feature. We clearly know about it, since you
got the message, so it isn't a bug. It is implemented in the pre1.3
development version.

> > a <- matrix(list(1,2,3,4,5,6), 2, 3)
>
> Error in matrix(list(1, 2, 3, 4, 5, 6), 2, 3) :
> 	Unimplemented feature in copyVector

This one isn't implemented in the development version, for a good reason.
Matrices and lists can hold very different sorts of things.  You should do
	a <- matrix(c(1,2,3,4,5,6), 2, 3)
This may well be what you should do in the previous case, as well. It's
more efficient to store homogeneous, one-dimensional data in a vector
rather than a list.


> 4. methods in S-Plus that aren't methods in R.
> a. %*% is a method in S-Plus 4.5 and is a primitive in R.
>    Therefore a user function "%*%.mv" doesn't get called by  a %*% b

This might be worth implementing, but we would have to worry about the
overhead: matrix multiplication is a speed-critical function (like all the
remaining primitives).  You can easily make it generic for yourself

	"%*%.default"<-get("%*%")
 	"%*%"<-function(x,y,...) UseMethod("%*%")

This wouldn't despatch on the second argument, but that could be fixed
with a bit more work.

>
> 5. S-Plus 6 compatibility issues
> a. S+4 and R use the function
>      exists("function.name", mode="function")
>    S+6 use the function
>      existsFunction("function.name")

Indeed.

> More generally, S-Plus 6 has the following functions
> > objip("exists")
> $splus:
> [1] "exists"         "existsFunction" "file.exists"
>
> $main:
> [1] "dbexists"       "dbexistsOld"    "dyn.exists"     "existsClass"
> [5]  "existsClassDef" "existsDoc"     "existsMethod"
>
> Can you add these function names to R with sensible defaults until the S4
> methods are fully in place?

No. You can, though.

R is not a clone of S-PLUS, especially not of S-PLUS 6. We are working
towards compatibility with S4 on certain important features, but not
detail by detail.

You may want to look at http://www.omegahat.org/RSMethods/index.html
which describes an implementation of S4 classes for R by John Chambers.


> 6. bug in "[" for lists
>
> a <- list(1,2,3,4,5,6)
> dim(a) <- c(2,3)
> unlist(a)
> > a[,1:2]
>      [,1]   [,2]
> [1,] "NULL" "NULL"
> [2,] "NULL" "NULL"
>
> The same code in S+4 gives
> > a[,1:2]
>      [,1] [,2]
> [1,] 1    3
> [2,] 2    4
>

If there's a bug here it's that an error isn't returned.  You can't go
around setting dim() on things and expecting it to work.  A properly
object-oriented language wouldn't let you even try. You took a list of
six objects (which could be *any* six objects, as different as chalk and
Wednesday) and told it that it was a 2x3 array.  It believed you. Not
surprisingly, it got confused.

 It does work if a is a vector rather than a list, as do some other things
you tried, so in general you might be happier if you used c() rather than
list() for homogeneous data.

It's true that some versions of S allow it. Some versions of S also allow
   a<-as.matrix(lm(Fuel ~ . , fuel.frame))
for example. The S languages could do with a clearer distinction between
high level functions that check their arguments for compatibility and the
low-level functions that are needed to implement these.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley@u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rmh@surfer.sbm.temple.edu  Mon Apr 23 18:57:32 2001
From: rmh@surfer.sbm.temple.edu (Rich Heiberger)
Date: Mon, 23 Apr 2001 13:57:32 -0400 (EDT)
Subject: [Rd] several bugs (PR#918) lists and matrices
Message-ID: <200104231757.f3NHvWZ379277@surfer.sbm.temple.edu>

## Thomas rightly points out that list() is not the best structure for
## homogeneous data.  My example was the simplest that generated the
## error of a matrix structure that that doesn't work.  The application
## that this is simplified from needs lists because the data isn't
## homogeneous.  I am attempting to write a missing value class, where
## each item is a list.  In the simplest instance, if the datum is missing
## then the attribute contains the reason.
## 
## Both of the 'bugs'/'unimplemented features'
## 3. a <- matrix(list(1,2,3,4,5,6), 2, 3)
## 6. bug in "[" for lists
## show up in this example.  Thus

x <- list(1,2,3,4,5,6)
dim(x) <- c(2,3)
x[[2,3]] <- NA
attr(x[[2,3]],"mv") <- "absent"
x
for(i in x) print(i)
x[2,]
x[1,1]
x[2,3]

Rich
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rgentlem@jimmy.harvard.edu  Mon Apr 23 19:12:20 2001
From: rgentlem@jimmy.harvard.edu (Robert Gentleman)
Date: Mon, 23 Apr 2001 14:12:20 -0400
Subject: [Rd] several bugs (PR#918) lists and matrices
In-Reply-To: <200104231757.f3NHvWZ379277@surfer.sbm.temple.edu>; from Rich Heiberger on Mon, Apr 23, 2001 at 01:57:32PM -0400
References: <200104231757.f3NHvWZ379277@surfer.sbm.temple.edu>
Message-ID: <20010423141220.X25202@jimmy.harvard.edu>

On Mon, Apr 23, 2001 at 01:57:32PM -0400, Rich Heiberger wrote:
> ## Thomas rightly points out that list() is not the best structure for
> ## homogeneous data.  My example was the simplest that generated the
> ## error of a matrix structure that that doesn't work.  The application
> ## that this is simplified from needs lists because the data isn't
                                                          data aren't (?)
> ## homogeneous.  I am attempting to write a missing value class, where
> ## each item is a list.  In the simplest instance, if the datum is missing
> ## then the attribute contains the reason.
> ## 
> ## Both of the 'bugs'/'unimplemented features'
> ## 3. a <- matrix(list(1,2,3,4,5,6), 2, 3)
> ## 6. bug in "[" for lists
> ## show up in this example.  Thus
> 
> x <- list(1,2,3,4,5,6)
> dim(x) <- c(2,3)
> x[[2,3]] <- NA
> attr(x[[2,3]],"mv") <- "absent"
> x
> for(i in x) print(i)
> x[2,]
> x[1,1]
> x[2,3]


  Yes, it appears to be either a bug or perhaps an unimplemented
  feature (or possibly an unimplemented bug). The problem with the S
  version of this is that the following doesn't work the same as the
  above (I might argue that it should)
> x<-matrix(1:6,nc=3)
> x
     [,1] [,2] [,3] 
[1,]    1    3    5
[2,]    2    4    6
> x[[2,3]]<-NA
> x
     [,1] [,2] [,3] 
[1,]    1    3    5
[2,]    2    4   NA
> attr(x[[2,3]],"mv") <- "absent"
> for(i in x) print(i)
[1] 1
[1] 2
[1] 3
[1] 4
[1] 5
[1] NA

  I am uncertain as to why you want to put dimensions on a list? It
  doesn't make it a matrix. That said we can duplicate the behaviour
  but I'm not sure that it is worth introducing the confusion that
  ought to follow.

  For my favorite silly example:
> dim(mean)<-c(2,2) 
Warning messages:
  assigning "mean" masks an object of the same name on database 2
> mean
           [,1] [,2] 
[1,] missing, 0     
[2,] 0          {, 5
attr(, "names"):
[1] "x"     "trim"  "na.rm" ""     
> is.matrix(mean)
[1] T
> mean(1:10)
[1] 5.5
> 
    Just because you can does not necessarily mean that you should.

> 
> Rich
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
+---------------------------------------------------------------------------+
| Robert Gentleman                 phone : (617) 632-5250                   |
| Associate Professor              fax:   (617)  632-2444                   |
| Department of Biostatistics      office: M1B28
| Harvard School of Public Health  email: rgentlem@jimmy.dfci.harvard.edu   |
+---------------------------------------------------------------------------+
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rmh@surfer.sbm.temple.edu  Mon Apr 23 20:35:41 2001
From: rmh@surfer.sbm.temple.edu (Rich Heiberger)
Date: Mon, 23 Apr 2001 15:35:41 -0400 (EDT)
Subject: [Rd] several bugs (PR#918) lists and matrices
References: <200104231757.f3NHvWZ379277@surfer.sbm.temple.edu>
Message-ID: <200104231935.f3NJZfc383353@surfer.sbm.temple.edu>

Robert's example
  x<-matrix(1:6,nc=3)
  x[[2,3]]<-NA
  attr(x[[2,3]],"mv") <- "absent"
loses the attribute in S-Plus as well as in R.  The only way I
have been able to put attributes on individual elements is to make
a matrix of lists.  Interestingly, this statement does print
  print(attr(x[[2,3]],"mv") <- "absent")
The value of the attribute doesn't vanish for the duration of the
current statement.  The value is gone if we follow this with
  attr(x[[2,3]],"mv")
Should there be a warning message when the assignment is attempted?

As to the fundamental question of putting dimensions on a list, that
is asking the question backwards from how I am looking at it.  I have
a two-dimensional array of data items for which one or more of the
values is unknown.  The matrix is the natural structure for this data.

How do I record the type of missingness for the missing datum?  I have
chosen to place a list in the cell of the matrix.  Another option is
to have a parallel matrix of missingness information, possibly
attached as an attribute to the original data.  Another option is a
sparse array of some form that is pointed to by access functions that
are sensitive to the NA in the original data matrix.

To me, the recursive structure is the most natural way to represent the
information about missingness.

Rich
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Mon Apr 23 20:54:17 2001
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Mon, 23 Apr 2001 12:54:17 -0700 (PDT)
Subject: [Rd] several bugs (PR#918) lists and matrices
In-Reply-To: <200104231935.f3NJZfc383353@surfer.sbm.temple.edu>
Message-ID: <Pine.A41.4.33.0104231243060.125502-100000@homer34.u.washington.edu>

On Mon, 23 Apr 2001, Rich Heiberger wrote:

> Robert's example
>   x<-matrix(1:6,nc=3)
>   x[[2,3]]<-NA
>   attr(x[[2,3]],"mv") <- "absent"
> loses the attribute in S-Plus as well as in R.  The only way I
> have been able to put attributes on individual elements is to make
> a matrix of lists.  Interestingly, this statement does print
>   print(attr(x[[2,3]],"mv") <- "absent")
> The value of the attribute doesn't vanish for the duration of the
> current statement.  The value is gone if we follow this with
>   attr(x[[2,3]],"mv")
> Should there be a warning message when the assignment is attempted?
>
> As to the fundamental question of putting dimensions on a list, that
> is asking the question backwards from how I am looking at it.  I have
> a two-dimensional array of data items for which one or more of the
> values is unknown.  The matrix is the natural structure for this data.
>
> How do I record the type of missingness for the missing datum?  I have
> chosen to place a list in the cell of the matrix.  Another option is
> to have a parallel matrix of missingness information, possibly
> attached as an attribute to the original data.  Another option is a
> sparse array of some form that is pointed to by access functions that
> are sensitive to the NA in the original data matrix.
>
> To me, the recursive structure is the most natural way to represent the
> information about missingness.

Ah. Ok.

This is a more difficult question.  You can't put a list into a matrix.
Matrices handle homogenous data; they are vectors with a dimension
attribute.  Lists with an arbitrary dimension attribute are, as Rob
pointed out, an unimplemented bug. However, rectangle things with
arbitrary data in them do exist. They're called data frames.

As you will remember from Rob's DSC2001 talk, you can put potentially very
complicated objects into cells in a data frame. His example was
longitudinal data, where a celll might be the entire record of followup
measurements for a particular variable. Have a look at his paper in the
DSC proceedings at http://www.ci.tuwien.ac.at/Conferences/DSC-2001/

You could create an object of class "mvelement", say, which would be
either a number or a list, depending on whether the value was observed or
missing, and stick these in a data frame.


Another approach would be to have a matrix of data, with NAs where
necessary, and have the missing value information as an attribute of that
matrix, but that's different from what you're trying to do.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley@u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Apr 23 23:12:21 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Apr 2001 00:12:21 +0200
Subject: [Rd] several bugs (PR#918) lists and matrices
In-Reply-To: Thomas Lumley's message of "Mon, 23 Apr 2001 12:54:17 -0700 (PDT)"
References: <Pine.A41.4.33.0104231243060.125502-100000@homer34.u.washington.edu>
Message-ID: <x2ae57mfju.fsf@blueberry.kubism.ku.dk>

Thomas Lumley <tlumley@u.washington.edu> writes:

> This is a more difficult question.  You can't put a list into a matrix.
> Matrices handle homogenous data; they are vectors with a dimension
> attribute.  Lists with an arbitrary dimension attribute are, as Rob
> pointed out, an unimplemented bug.

Ummm. I'd have to say that it is an implemented bug if a bug at all.
tapply() does this all the time (although most often by accident), and
is even documented to do so. If one can have a list with a dim(), not
being able to index such a beast does look like a bug to me...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Mon Apr 23 23:51:48 2001
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Mon, 23 Apr 2001 15:51:48 -0700 (PDT)
Subject: [Rd] several bugs (PR#918) lists and matrices
In-Reply-To: <x2ae57mfju.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.A41.4.33.0104231546550.125502-100000@homer34.u.washington.edu>

On 24 Apr 2001, Peter Dalgaard BSA wrote:

> Thomas Lumley <tlumley@u.washington.edu> writes:
>
> > This is a more difficult question.  You can't put a list into a matrix.
> > Matrices handle homogenous data; they are vectors with a dimension
> > attribute.  Lists with an arbitrary dimension attribute are, as Rob
> > pointed out, an unimplemented bug.
>
> Ummm. I'd have to say that it is an implemented bug if a bug at all.
> tapply() does this all the time (although most often by accident), and
> is even documented to do so. If one can have a list with a dim(), not
> being able to index such a beast does look like a bug to me...

Strange. I had assumed that an array of mode list looked like a vector of
LISTSXPs, but it seems that it looks like a list with dimensions.

You can index it, with [[]]
> a<-list(1,2,3,4)
> dim(a)<-c(2,2)
> a
     [,1]        [,2]
[1,] "Numeric,1" "Numeric,1"
[2,] "Numeric,1" "Numeric,1"
> a[2,1]
[[1]]
NULL

> a[[2,1]]
[1] 2
which is weird. The question is then what a[2,1] thinks it's returning.


You still can't stick a list into an array of numbers, which is what Rich
needs, and is better handled with data frames.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.C.Rougier@durham.ac.uk  Tue Apr 24 09:49:16 2001
From: J.C.Rougier@durham.ac.uk (Jonathan Rougier)
Date: Tue, 24 Apr 2001 09:49:16 +0100 (BST)
Subject: [Rd] several bugs (PR#918) lists and matrices
In-Reply-To: <20010423141220.X25202@jimmy.harvard.edu>
Message-ID: <Pine.GSO.4.20.0104240935040.6372-100000@laplace>

Hi Robert,

On Mon, 23 Apr 2001, Robert Gentleman wrote:

>   I am uncertain as to why you want to put dimensions on a list? It
>   doesn't make it a matrix. That said we can duplicate the behaviour
>   but I'm not sure that it is worth introducing the confusion that
>   ought to follow.

Just to second Rich's reply: I love putting dimensions on a list!  I often
have rectangular data-structures of heterogeneous objects, and find it
much easier to operate with one large structure than several matching
small ones.

For example, at the moment I have a dynamic programming problem in which I
need to retain the expected payoff and the action, plus possibly some
other stuff as well, on a 2-grid.  I find it natural to write

dprog <- array(list(), c(20, 30))

# solving the dynamic programme

for (i in 20:1) for (j in 1:30) {

  # stuff here

  dprog[[i, j]] <- list(Ep = -1.0, action = "run for the hills")

  # and then, if I need to ...

  dprog[[i, j]]$andAnotherThing <- "don't look back"

}

Cheers, Jonathan.

Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jmc@research.bell-labs.com  Tue Apr 24 15:02:18 2001
From: jmc@research.bell-labs.com (John Chambers)
Date: Tue, 24 Apr 2001 10:02:18 -0400 (EDT)
Subject: [Rd] several bugs (PR#918) lists and matrices
References: <Pine.A41.4.33.0104231546550.125502-100000@homer34.u.washington.edu>
Message-ID: <200104241402.KAA03006@jessie.research.bell-labs.com>

> Date: Mon, 23 Apr 2001 15:51:48 -0700 (PDT)
> From: Thomas Lumley <tlumley@u.washington.edu>
> cc: <r-devel@stat.math.ethz.ch>
> Sender: owner-r-devel@stat.math.ethz.ch
> Precedence: SfS-bulk
> 
> On 24 Apr 2001, Peter Dalgaard BSA wrote:
> 
> > Thomas Lumley <tlumley@u.washington.edu> writes:
> >
> > > This is a more difficult question.  You can't put a list into a matrix.
> > > Matrices handle homogenous data; they are vectors with a dimension
> > > attribute.  Lists with an arbitrary dimension attribute are, as Rob
> > > pointed out, an unimplemented bug.

The original idea of a matrix in S was that it was a vector with a
dim attribute (in fact, just a special case of an array, when the
length of the dim was 2).

In S (S3, or any other vintage) a "list" is a vector, so in the sense
of an array it is "homogeneous" enough to be a matrix.  Of course,
it's a vector where each element can be an arbitrary object, which
makes the code for printing and other things trickier.

In R, there are two kinds of "list" objects.  And the implementation
is much more indebted to the Lisp family of languages.  A list in the
traditional sense of an object with a head and a tail is very useful
for recursive computations, but not (IMO) particularly suitable to
be treated as an S vector, let alone a matrix.

So, part of the difficulty may be terminology.  It's only the S sense
of "list" that is likely to be useful as a matrix or array.


> > Ummm. I'd have to say that it is an implemented bug if a bug at all.
> > tapply() does this all the time (although most often by accident), and
> > is even documented to do so. If one can have a list with a dim(), not
> > being able to index such a beast does look like a bug to me...
> 
> Strange. I had assumed that an array of mode list looked like a vector of
> LISTSXPs, but it seems that it looks like a list with dimensions.
> 
> You can index it, with [[]]
> > a<-list(1,2,3,4)
> > dim(a)<-c(2,2)
> > a
>      [,1]        [,2]
> [1,] "Numeric,1" "Numeric,1"
> [2,] "Numeric,1" "Numeric,1"
> > a[2,1]
> [[1]]
> NULL
> 
> > a[[2,1]]
> [1] 2
> which is weird. The question is then what a[2,1] thinks it's
> returning.

Gee, it doesn't seem weird to me :-)

Each element of a is a numeric vector.  Any [[]] operation returns a
single element, namely the numeric vector.

The natural interpretation of single [] is that it operates to return
a vector (in general, optionally still an array if a rectangular
subset is selected) of the same mode as the original; i.e., in the
case of a[2,1] presumably a list of length 1 containing a numeric
vector (accidentally, also of length 1).
 
> 
> You still can't stick a list into an array of numbers, which is what Rich
> needs, and is better handled with data frames.

Yes, I'd agree (pending a convincing example) that fixing bugs for
traditional S arrays of mode list is not a high priority item.

We're in the process of discussing data frames and where they might go
in the future.  That would be a good context for examining whatever
practical needs people have.

> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

John

-- 
John M. Chambers                  jmc@bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From David James <dj@research.bell-labs.com>  Tue Apr 24 19:16:21 2001
From: David James <dj@research.bell-labs.com> (David James)
Date: Tue, 24 Apr 2001 14:16:21 -0400 (EDT)
Subject: [Rd] assigning objects from .C/.Call
Message-ID: <200104241816.OAA04278@jessie.research.bell-labs.com>


Hi,

In section 4.6.7 of "Writing R Extensions" (Version 1.2.1, 2001-01-15) 
the C function defineVar() is described as  "... the equivalent 
of assign(symbol, value, envir = rho, inherits = FALSE) ..."

I interpreted the above (wrongly) as meaning that defineVar() makes 
a copy of its "value" argument into the object whose name is specified 
in "symbol" in the "rho" environment (that's how assign() works at the 
R/S level).  However, this is not exactly how defineVar() appears to work.
In particular, it appears to assign the object in the environment "rho",
but further changes in the C code to the object are reflected in the 
"assigned" object in rho (i.e., no actual copy of the object is made).

I can see that the implemented behavior is quite useful, but it's not 
exactly equivalent to assign().  Perhaps the documentation should be more 
explicit and add a sentence to warn users that the data part of the
object is shared? (The sentence may need to be more precise, though.)


> version

platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    2.1              
year     2001             
month    01               
day      15               
language R                

Regards,

David A. James
Statistics Research, Room 2C-253            Phone:  (908) 582-3082       
Bell Labs, Lucent Technologies              Fax:    (908) 582-3340
Murray Hill, NJ 09794-0636

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Apr 24 20:24:35 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 24 Apr 2001 20:24:35 +0100 (BST)
Subject: [Rd] assigning objects from .C/.Call
In-Reply-To: <200104241816.OAA04278@jessie.research.bell-labs.com>
Message-ID: <Pine.GSO.4.31.0104242021450.16295-100000@auk.stats>

On Tue, 24 Apr 2001, David James wrote:

>
> Hi,
>
> In section 4.6.7 of "Writing R Extensions" (Version 1.2.1, 2001-01-15)
> the C function defineVar() is described as  "... the equivalent
> of assign(symbol, value, envir = rho, inherits = FALSE) ..."
>
> I interpreted the above (wrongly) as meaning that defineVar() makes
> a copy of its "value" argument into the object whose name is specified
> in "symbol" in the "rho" environment (that's how assign() works at the
> R/S level).  However, this is not exactly how defineVar() appears to work.
> In particular, it appears to assign the object in the environment "rho",
> but further changes in the C code to the object are reflected in the
> "assigned" object in rho (i.e., no actual copy of the object is made).
>
> I can see that the implemented behavior is quite useful, but it's not
> exactly equivalent to assign().  Perhaps the documentation should be more
> explicit and add a sentence to warn users that the data part of the
> object is shared? (The sentence may need to be more precise, though.)

I'm happy to do so, but can someone provide the more precise sentence,
please.  When exactly does R make a copy?


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Apr 24 23:50:18 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 Apr 2001 00:50:18 +0200
Subject: [Rd] assigning objects from .C/.Call
In-Reply-To: Prof Brian D Ripley's message of "Tue, 24 Apr 2001 20:24:35 +0100 (BST)"
References: <Pine.GSO.4.31.0104242021450.16295-100000@auk.stats>
Message-ID: <x2ae55c3px.fsf@blueberry.kubism.ku.dk>

Prof Brian D Ripley <ripley@stats.ox.ac.uk> writes:

> On Tue, 24 Apr 2001, David James wrote:
> 
> >
> > Hi,
> >
> > In section 4.6.7 of "Writing R Extensions" (Version 1.2.1, 2001-01-15)
> > the C function defineVar() is described as  "... the equivalent
> > of assign(symbol, value, envir = rho, inherits = FALSE) ..."
> >
> > I interpreted the above (wrongly) as meaning that defineVar() makes
> > a copy of its "value" argument into the object whose name is specified
> > in "symbol" in the "rho" environment (that's how assign() works at the
> > R/S level).  However, this is not exactly how defineVar() appears to work.
> > In particular, it appears to assign the object in the environment "rho",
> > but further changes in the C code to the object are reflected in the
> > "assigned" object in rho (i.e., no actual copy of the object is made).
> >
> > I can see that the implemented behavior is quite useful, but it's not
> > exactly equivalent to assign().  Perhaps the documentation should be more
> > explicit and add a sentence to warn users that the data part of the
> > object is shared? (The sentence may need to be more precise, though.)
> 
> I'm happy to do so, but can someone provide the more precise sentence,
> please.  When exactly does R make a copy?

At C level, you'd need to duplicate(). In an assign() call,
duplication takes place if the object is NAMED except if .Alias is
used. ...I think.
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.C.Rougier@durham.ac.uk  Wed Apr 25 12:23:09 2001
From: J.C.Rougier@durham.ac.uk (J.C.Rougier@durham.ac.uk)
Date: Wed, 25 Apr 2001 13:23:09 +0200 (MET DST)
Subject: [Rd] Managed to confuse match.arg (PR#921)
Message-ID: <200104251123.NAA14349@pubhealth.ku.dk>

This one may not strictly be a bug, and it was certainly my
fault, but it took me a while to track it down and it is rather
strange:

funOne <- function(x)
{
  funTwo <- 1:10
  funTwo(x)
}

funTwo <- function(v) 2*v

funOne(5) # answer is 10 as expected

# now a different definition for funTwo with a match.arg

funTwo <- function(v, foo=c("small", "large"))
{
  foo <- match.arg(foo)
  print(foo)
  2*v
}

funOne(5) # answer is 10, but foo is NULL

What happens is that in funOne I mask funTwo with a vector, but
that doesn't matter as the call to funTwo specifies
mode="function" (or something similar).  But what happens when
funTwo includes a match.arg?  In this case match.arg fails, and
the reason it fails is that sys.function(sys.parent()) in
match.arg evaluates to 1:10.  If there is a bug here it is the
failure of sys.function to grab a function, with the result that
formal.args in match.fun is NULL.

Cheers, Jonathan.

--please do not edit the information below--

Version:
 platform = sparc-sun-solaris2.7
 arch = sparc
 os = solaris2.7
 system = sparc, solaris2.7
 status = 
 major = 1
 minor = 2.1
 year = 2001
 month = 01
 day = 15
 language = R

Search Path:
 .GlobalEnv, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From David James <dj@research.bell-labs.com>  Wed Apr 25 14:37:19 2001
From: David James <dj@research.bell-labs.com> (David James)
Date: Wed, 25 Apr 2001 09:37:19 -0400 (EDT)
Subject: [Rd] assigning objects from .C/.Call
Message-ID: <200104251337.JAA14493@jessie.research.bell-labs.com>

Hi,

On Tue, 24 Apr 2001, Prof Brian D Ripley wrote:

> Date: Tue, 24 Apr 2001 20:24:35 +0100 (BST)
> From: 
> To: David James <dj@research.bell-labs.com>
> cc: <r-devel@stat.math.ethz.ch>
> Subject: Re: [Rd] assigning objects from .C/.Call
> MIME-Version: 1.0
> 
> On Tue, 24 Apr 2001, David James wrote:
> 
> >
> > Hi,
> >
> > In section 4.6.7 of "Writing R Extensions" (Version 1.2.1, 2001-01-15)
> > the C function defineVar() is described as  "... the equivalent
> > of assign(symbol, value, envir = rho, inherits = FALSE) ..."
> >
> > I interpreted the above (wrongly) as meaning that defineVar() makes
> > a copy of its "value" argument into the object whose name is specified
> > in "symbol" in the "rho" environment (that's how assign() works at the
> > R/S level).  However, this is not exactly how defineVar() appears to work.
> > In particular, it appears to assign the object in the environment "rho",
> > but further changes in the C code to the object are reflected in the
> > "assigned" object in rho (i.e., no actual copy of the object is made).
> >
> > I can see that the implemented behavior is quite useful, but it's not
> > exactly equivalent to assign().  Perhaps the documentation should be more
> > explicit and add a sentence to warn users that the data part of the
> > object is shared? (The sentence may need to be more precise, though.)
> 
> I'm happy to do so, but can someone provide the more precise sentence,
> please.  When exactly does R make a copy?

Using Peter Delgaard's suggestion (and John Chambers', privately)
I suggest the following modified paragraph (edited from R-exts.texi):


@code{defineVar}
creates a new binding or changes the value of an existing binding in the
specified environment frame; in this respect, it is analogous to
@code{assign(symbol, value, envir = rho, inherits = FALSE)},
but unlike \code{assign}, @code{defineVar} does not make a
copy of the object (you can assign a copy of the object in the
environment frame @code{rho} using
@code{defineVar(symbol, duplicate(value), rho)}).



> 
> 
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 
-------------------------------------------------------------------
David A. James
Statistics Research, Room 2C-253            Phone:  (908) 582-3082       
Bell Labs, Lucent Technologies              Fax:    (908) 582-3340
Murray Hill, NJ 09794-0636

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Apr 25 14:58:52 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 25 Apr 2001 14:58:52 +0100 (BST)
Subject: [Rd] assigning objects from .C/.Call
In-Reply-To: <200104251337.JAA14493@jessie.research.bell-labs.com>
Message-ID: <Pine.LNX.4.31.0104251447200.1267-100000@gannet.stats>

On Wed, 25 Apr 2001, David James wrote:

> Hi,
>
> On Tue, 24 Apr 2001, Prof Brian D Ripley wrote:
>
> > Date: Tue, 24 Apr 2001 20:24:35 +0100 (BST)
> > From:
> > To: David James <dj@research.bell-labs.com>
> > cc: <r-devel@stat.math.ethz.ch>
> > Subject: Re: [Rd] assigning objects from .C/.Call
> > MIME-Version: 1.0
> >
> > On Tue, 24 Apr 2001, David James wrote:
> >
> > >
> > > Hi,
> > >
> > > In section 4.6.7 of "Writing R Extensions" (Version 1.2.1, 2001-01-15)
> > > the C function defineVar() is described as  "... the equivalent
> > > of assign(symbol, value, envir = rho, inherits = FALSE) ..."
> > >
> > > I interpreted the above (wrongly) as meaning that defineVar() makes
> > > a copy of its "value" argument into the object whose name is specified
> > > in "symbol" in the "rho" environment (that's how assign() works at the
> > > R/S level).  However, this is not exactly how defineVar() appears to work.
> > > In particular, it appears to assign the object in the environment "rho",
> > > but further changes in the C code to the object are reflected in the
> > > "assigned" object in rho (i.e., no actual copy of the object is made).
> > >
> > > I can see that the implemented behavior is quite useful, but it's not
> > > exactly equivalent to assign().  Perhaps the documentation should be more
> > > explicit and add a sentence to warn users that the data part of the
> > > object is shared? (The sentence may need to be more precise, though.)
> >
> > I'm happy to do so, but can someone provide the more precise sentence,
> > please.  When exactly does R make a copy?
>
> Using Peter Delgaard's suggestion (and John Chambers', privately)
> I suggest the following modified paragraph (edited from R-exts.texi):
>
>
> @code{defineVar}
> creates a new binding or changes the value of an existing binding in the
> specified environment frame; in this respect, it is analogous to
> @code{assign(symbol, value, envir = rho, inherits = FALSE)},
> but unlike \code{assign}, @code{defineVar} does not make a
> copy of the object (you can assign a copy of the object in the
> environment frame @code{rho} using
> @code{defineVar(symbol, duplicate(value), rho)}).

Thanks, will add (a variant of).

The real issue is that assign() allows `value' to be an expression, and so
uses the value of evaluating the expression, not that of a variable.

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@nokomis.stat.umn.edu  Wed Apr 25 15:48:29 2001
From: luke@nokomis.stat.umn.edu (Luke Tierney)
Date: Wed, 25 Apr 2001 09:48:29 -0500
Subject: [Rd] assigning objects from .C/.Call
In-Reply-To: <x2ae55c3px.fsf@blueberry.kubism.ku.dk>; from p.dalgaard@biostat.ku.dk on Wed, Apr 25, 2001 at 12:50:18AM +0200
References: <Pine.GSO.4.31.0104242021450.16295-100000@auk.stats> <x2ae55c3px.fsf@blueberry.kubism.ku.dk>
Message-ID: <20010425094829.B5007@nokomis.stat.umn.edu>

On Wed, Apr 25, 2001 at 12:50:18AM +0200, Peter Dalgaard BSA wrote:
> Prof Brian D Ripley <ripley@stats.ox.ac.uk> writes:
> 
> > On Tue, 24 Apr 2001, David James wrote:
> > 
> > >
> > > Hi,
> > >
> > > In section 4.6.7 of "Writing R Extensions" (Version 1.2.1, 2001-01-15)
> > > the C function defineVar() is described as  "... the equivalent
> > > of assign(symbol, value, envir = rho, inherits = FALSE) ..."
> > >
> > > I interpreted the above (wrongly) as meaning that defineVar() makes
> > > a copy of its "value" argument into the object whose name is specified
> > > in "symbol" in the "rho" environment (that's how assign() works at the
> > > R/S level).  However, this is not exactly how defineVar() appears to work.
> > > In particular, it appears to assign the object in the environment "rho",
> > > but further changes in the C code to the object are reflected in the
> > > "assigned" object in rho (i.e., no actual copy of the object is made).
> > >
> > > I can see that the implemented behavior is quite useful, but it's not
> > > exactly equivalent to assign().  Perhaps the documentation should be more
> > > explicit and add a sentence to warn users that the data part of the
> > > object is shared? (The sentence may need to be more precise, though.)
> > 
> > I'm happy to do so, but can someone provide the more precise sentence,
> > please.  When exactly does R make a copy?
> 
> At C level, you'd need to duplicate(). In an assign() call,
> duplication takes place if the object is NAMED except if .Alias is
> used. ...I think.

As i understand it if the object is NAMED it is duplicated (.Alias I
think sete NAMED to 0 and to gets into the unnamed branch).  If NAMED
is zero, then defineVar is called and NAMED is set to 1.

We should probably think about making the public version of defineVar
take care of this, but maybe we should go a bit further and move the
responsability for maintaining the copying semantics into defineVar so
it is all in one place--there seem to be about 40 call sites and I'm
not sure they all get this right.

I'll make a note to look at this when I get back to the appropirate
part of the compiler, but if anyone else gets there first, that's
fine.

luke

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke@stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ligges@statistik.uni-dortmund.de  Wed Apr 25 16:24:44 2001
From: ligges@statistik.uni-dortmund.de (ligges@statistik.uni-dortmund.de)
Date: Wed, 25 Apr 2001 17:24:44 +0200 (MET DST)
Subject: [Rd] Re: identify.default ignores any setting of cex (PR#660)
Message-ID: <200104251524.RAA02124@pubhealth.ku.dk>

A follow-up to PR#660 (15 Sep 2000) from Brian Ripley:

> R 1.1.1 on Windows, but I think this is widespread.
>
> Using either
>
> par(cex=0.5)
> plot(1:10)
> identify(1:10)
>
> or
> 
> plot(1:10)
> identify(1:10, cex=0.5)
> 
> ignores the cex setting.  The root cause is that par(cex=0.5)
> alters cexbase for the device but sets cex=1.0, and the internal
> text plotting routines use cex and not cexbase.
> 
> The obvious fix is to set cex to cexbase in do_identify. However,
> if this is fixed, there is another problem, The offset of the label
> is related to the cex in use for the label, and not for the symbol.
> So
> 
> plot(1:10, type="n")
> points(1:10, cex=5)
> identify(1:10)
> 
> is not sensible in placing the labels.  That may be hard to anticipate,
> but 
> 
> plot(1:10)
> identify(1:10, cex=0.5)
> 
> needs to use cex=1 not cex=0.5 for the adjustment.  Perhaps identify is
> trying too hard, and should give the user more control over the precise
> position of the label (as S-PLUS does).


The same with 

 par(cex=1); plot(1:10); text(4, 5, "Hello World") # OK
 par(cex=2); plot(1:10); text(4, 5, "Hello World") # OK
 par(cex=2); plot(1:10); text(4, 5, "Hello World", cex = 1) # NOT OK
 par(cex=2); plot(1:10); text(4, 5, "Hello World", cex = 0.5)

So the scaling with cex in text() is relative to the par() settings,
which is not the expected behaviour.


[R-1.2.2 on WinNT 4.0]

Uwe Ligges

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Apr 25 18:55:47 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 25 Apr 2001 18:55:47 +0100 (GMT Daylight Time)
Subject: [Rd] Re: identify.default ignores any setting of cex (PR#660)
In-Reply-To: <200104251524.RAA02124@pubhealth.ku.dk>
Message-ID: <Pine.WNT.4.31.0104251852500.300-100000@tern.stats>

On Wed, 25 Apr 2001 ligges@statistik.uni-dortmund.de wrote:

> A follow-up to PR#660 (15 Sep 2000) from Brian Ripley:

[...]

> The same with
>
>  par(cex=1); plot(1:10); text(4, 5, "Hello World") # OK
>  par(cex=2); plot(1:10); text(4, 5, "Hello World") # OK
>  par(cex=2); plot(1:10); text(4, 5, "Hello World", cex = 1) # NOT OK
>  par(cex=2); plot(1:10); text(4, 5, "Hello World", cex = 0.5)
>
> So the scaling with cex in text() is relative to the par() settings,
> which is not the expected behaviour.

It is the documented behaviour, though: see the description of cex in
?help.

     cex: numeric character expansion factor; multiplied by
          `par("cex")' yields the final character size.

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Apr 26 00:01:52 2001
From: p.dalgaard@biostat.ku.dk (p.dalgaard@biostat.ku.dk)
Date: Thu, 26 Apr 2001 01:01:52 +0200 (MET DST)
Subject: [Rd] match.arg confusion (PR#921)
Message-ID: <200104252301.BAA04480@pubhealth.ku.dk>


[sys.function fails sometimes (sorry, our mail system decide to throw
away the original mail)]

Yes, I bumped into something similar recently. The problem is that we
only actually store the call in the context structure, not the
function, so sys.function has to grab the call, take the 1st element,
and reevaluate it in the parent frame. It is quite easy to think up
examples where a second evaluation does not give the same value as
the first. 

Your particular case is of a slightly different natur and should be
easily fixable by replacing findVar in R_sysfunction by findVar1 and
looking specifically for objects of mode "function", but the basic
problem persists. I don't think I want to risk fixing this (and maybe
unfixing something else) for 1.2.3 tomorrow though.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From andys@neptuneandco.com  Thu Apr 26 01:16:13 2001
From: andys@neptuneandco.com (Andrew Schuh)
Date: Wed, 25 Apr 2001 18:16:13 -0600
Subject: [Rd] P-4
Message-ID: <4.2.2.20010425181024.00b134e0@neptuneandco.com>

I just got a new machine with a Intel 1.3 P4 chip in it.  I am aware that 
many (most) software companies have not optimized their code specifically 
for the chip.  Furthermore, I have found that this machine is even slower, 
on many apps, than a 8xx P3 we have here.  I enjoy using R and was 
wondering if there are any plans to create a version that accommodates this 
chip.  

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pchalasani@hbk.com  Thu Apr 26 03:25:54 2001
From: pchalasani@hbk.com (pchalasani@hbk.com)
Date: Thu, 26 Apr 2001 04:25:54 +0200 (MET DST)
Subject: [Rd] not able to download WinNT version (PR#922)
Message-ID: <200104260225.EAA04894@pubhealth.ku.dk>

I keep clicking on the WindowsNT link and it keeps extending the path
name...
is something wrong?
thanks


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Apr 26 06:57:35 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 26 Apr 2001 06:57:35 +0100 (BST)
Subject: [Rd] P-4
In-Reply-To: <4.2.2.20010425181024.00b134e0@neptuneandco.com>
Message-ID: <Pine.GSO.4.31.0104260648020.9996-100000@auk.stats>

On Wed, 25 Apr 2001, Andrew Schuh wrote:

> I just got a new machine with a Intel 1.3 P4 chip in it.  I am aware that
> many (most) software companies have not optimized their code specifically
> for the chip.  Furthermore, I have found that this machine is even slower,
> on many apps, than a 8xx P3 we have here.  I enjoy using R and was
> wondering if there are any plans to create a version that accommodates this
> chip.

Under what OS?

AFAIK the only thing one can do is to find a compiler that optimizes for
the P4, but I don't know of one, nor if it actually helps.  As far as I am
aware under both Linux and Windows the binary versions of R are not
even optimized for an i686 (Pentium Pro/II/III), but I find that under
Windows (and VC++) using the optimizations for i686 makes only negligible
differences.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ligges@statistik.uni-dortmund.de  Thu Apr 26 07:16:41 2001
From: ligges@statistik.uni-dortmund.de (ligges@statistik.uni-dortmund.de)
Date: Thu, 26 Apr 2001 08:16:41 +0200 (MET DST)
Subject: [Rd] not able to download WinNT version (PR#922)
Message-ID: <200104260616.IAA05395@pubhealth.ku.dk>



pchalasani@hbk.com wrote:
> 
> I keep clicking on the WindowsNT link and it keeps extending the path
> name...
> is something wrong?
> thanks

This is NOT a bug.

If you have got a question for which you don't get an answer reading the
docs, please write to R-help.


Read the readme in that directory. It says:
** The directories windows-9x and windows-NT are recursive links and
only
** there for backwards-compatibility. Please go directly to base or
** contrib to download R for all versions of Windows.

Uwe Ligges

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Apr 26 06:59:58 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 26 Apr 2001 07:59:58 +0200 (MET DST)
Subject: [Rd] not able to download WinNT version (PR#922)
Message-ID: <200104260559.HAA05296@pubhealth.ku.dk>

On Thu, 26 Apr 2001 pchalasani@hbk.com wrote:

> I keep clic.king on the WindowsNT link and it keeps extending the path
> name...
> is something wrong?
> thanks

No.  The `WinNT version' is in the directory you keep clicking on the link
in.  The link is there for back-compatibility reasons.

Try reading the ReadMe!

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Thu Apr 26 13:37:33 2001
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Thu, 26 Apr 2001 08:37:33 -0400
Subject: [Rd] not able to download WinNT version (PR#922)
In-Reply-To: <200104260559.HAA05296@pubhealth.ku.dk>
References: <200104260559.HAA05296@pubhealth.ku.dk>
Message-ID: <m75getgni8bb3pvqcnjoqf9udp1nrfmeqj@4ax.com>

On Thu, 26 Apr 2001 07:59:58 +0200 (MET DST), you wrote:

>On Thu, 26 Apr 2001 pchalasani@hbk.com wrote:
>
>> I keep clic.king on the WindowsNT link and it keeps extending the path
>> name...
>> is something wrong?
>> thanks
>
>No.  The `WinNT version' is in the directory you keep c1icking on the link
>in.  The link is there for back-compatibility reasons.
>
>Try reading the ReadMe!

This comes up often enough that it's probably worth adding a notice
that can be seen without reading the ReadMe.  How about some text in
the "Description" column that is given on
<http://cran.r-project.org/bin/windows>, or a file named
"LinksDontWorkSeeReadme!!!"?

Duncan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Thu Apr 26 13:37:33 2001
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Thu, 26 Apr 2001 08:37:33 -0400
Subject: [Rd] not able to download WinNT version (PR#922)
In-Reply-To: <200104260559.HAA05296@pubhealth.ku.dk>
References: <200104260559.HAA05296@pubhealth.ku.dk>
Message-ID: <m75getgni8bb3pvqcnjoqf9udp1nrfmeqj@4ax.com>

On Thu, 26 Apr 2001 07:59:58 +0200 (MET DST), you wrote:

>On Thu, 26 Apr 2001 pchalasani@hbk.com wrote:
>
>> I keep clic.king on the WindowsNT link and it keeps extending the path
>> name...
>> is something wrong?
>> thanks
>
>No.  The `WinNT version' is in the directory you keep c1icking on the link
>in.  The link is there for back-compatibility reasons.
>
>Try reading the ReadMe!

This comes up often enough that it's probably worth adding a notice
that can be seen without reading the ReadMe.  How about some text in
the "Description" column that is given on
<http://cran.r-project.org/bin/windows>, or a file named
"LinksDontWorkSeeReadme!!!"?

Duncan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From wang@rjka.com  Thu Apr 26 18:57:01 2001
From: wang@rjka.com (wang@rjka.com)
Date: Thu, 26 Apr 2001 19:57:01 +0200 (MET DST)
Subject: [Rd] bug when compiling using --with-f2c option (PR#923)
Message-ID: <200104261757.TAA17892@pubhealth.ku.dk>

Full_Name: Huayin Wang
Version: 1.2.2
OS: solaris
Submission from: (NULL) (38.158.182.2)


when configure using --with-f2c option, the f2c library should be linked.  It
maybe
just adding a -lf2c somewhere, but I do not know enough about it to fix it.  As
it is
now, errors will be generated complaining some symbols such as "i_len" etc. not
found.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From wang@rjka.com  Thu Apr 26 18:58:18 2001
From: wang@rjka.com (wang@rjka.com)
Date: Thu, 26 Apr 2001 19:58:18 +0200 (MET DST)
Subject: [Rd] bug when compiling using --with-f2c option (PR#924)
Message-ID: <200104261758.TAA17917@pubhealth.ku.dk>

Full_Name: Huayin Wang
Version: 1.2.2
OS: solaris
Submission from: (NULL) (38.158.182.2)


when configure using --with-f2c option, the f2c library should be linked.  It
maybe
just adding a -lf2c somewhere, but I do not know enough about it to fix it.  As
it is
now, errors will be generated complaining some symbols such as "i_len" etc. not
found.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Fri Apr 27 06:59:03 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Fri, 27 Apr 2001 07:59:03 +0200
Subject: [Rd] bug when compiling using --with-f2c option (PR#923)
In-Reply-To: <200104261757.TAA17892@pubhealth.ku.dk>
References: <200104261757.TAA17892@pubhealth.ku.dk>
Message-ID: <15081.2727.221988.723146@mithrandir.hornik.net>

>>>>> wang  writes:

> Full_Name: Huayin Wang
> Version: 1.2.2
> OS: solaris
> Submission from: (NULL) (38.158.182.2)


> when configure using --with-f2c option, the f2c library should be
> linked.  It maybe just adding a -lf2c somewhere, but I do not know
> enough about it to fix it.  As it is now, errors will be generated
> complaining some symbols such as "i_len" etc. not found.

How do you think we can solve your problem based on the information you
gave?

In case of --with-f2c, configure tests for -lf2c or -lF77/-lI77, and
stops if neither is found.  Have a look at config.log to see what
happened in your case.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Fri Apr 27 16:54:15 2001
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Fri, 27 Apr 2001 17:54:15 +0200
Subject: [Rd] RE: [R] Benchmarking R, why sort() is so slow?
In-Reply-To: <Pine.A41.4.33.0104270814010.36572-100000@homer40.u.washington.edu>
References: <MABBLJDICACNFOLGIHJOIECDCDAA.phgrosje@ulb.ac.be>
 <Pine.A41.4.33.0104270814010.36572-100000@homer40.u.washington.edu>
Message-ID: <15081.38439.622847.16842@gargle.gargle.HOWL>

>>>>> "TL" == Thomas Lumley <tlumley@u.washington.edu> writes:

    TL> On Fri, 27 Apr 2001, Philippe Grosjean wrote:
    >> I suspect it should be a question of algorithm choice. May be sort() is
    >> important enough, including for large datasets, to place some improvement in
    >> the "to do" list for a further version...?
    >> 

    TL> Actually, I'm not convinced on the speed issue. Shellsort works
    TL> very well for vectors of lengths that R can reasonably
    TL> handle. Using a million record dataset in R you really can't get
    TL> much done in the 20seconds that a really good sorting routine might
    TL> save you.

    TL> Heapsort might be worth trying -- it has good worst-case behaviour
    TL> and is about half as fast as the typical case of quicksort.  Merge
    TL> sort might also be nice because it's stable: it leaves ties in the
    TL> order it found them, but it needs extra space. Still, I don't think
    TL> it's a high optimisation priority.

I tend to disagree.
For me, R is not just for data analysis.
It's my compute engine for almost everything, nowadays.
I definitely have wanted to add better sort() routines to R,
and I think R's default should be to use some  O(n log(n)) versions, at
least for larghish n.
20 years ago (or so), ``the'' good thing 
 {{for in-memory sorting; note that we might consider a different algorithm 
   for the case of a really large array where [i] is really disk access}}
was Singleton's Quickersort
  |  R.C. Singleton 'Revised Quickersort'
  |  (CACM Algorithm 347, Sept.1968)

(quicker than quicksort), a version of which (that does additionally return
 the sorted index) I had re-programmed in Pascal and then C.
I can put it up for ftp if there's interest.

The GSL (GNU scientific library) has sorting routines, too,
all of them heapsort.

>From an outdated manual,
     http://sources.redhat.com/gsl/ref/gsl-ref_17.html#SEC253

>> Sorting

>> This chapter describes functions for sorting data, both directly and
>> indirectly (using an index). All the functions use the heapsort
>> algorithm. Heapsort is an O(N \log N) algorithm which operates
>> in-place. It does not require any additional storage and provides
>> consistent performance. The running time for its worst-case (ordered
>> data) which is not significantly different from the average and best
>> cases. Note that the heapsort algorithm does not preserve the relative
>> ordering of equal elements -- it is an unstable sort. However the
>> resulting order of equal elements will be consistent across different
>> platforms when using these functions.

>> Sorting objects
>> 
>> The following function provides a simple alternative to the standard
>> library function qsort. It is intended for systems lacking qsort, not as
>> a replacement for it. The function qsort should be used whenever
>> possible, as it will be faster and can provide stable ordering of equal
>> elements. Documentation for qsort is available in the GNU C Library
>> Reference Manual.

I.e., they seem to say one should really use  qsort() whenever that is
available... hmm,
could we use  configure  to find if qsort() is available?

Martin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ihaka@stat.auckland.ac.nz  Fri Apr 27 23:19:58 2001
From: ihaka@stat.auckland.ac.nz (Ross Ihaka)
Date: Sat, 28 Apr 2001 10:19:58 +1200
Subject: [Rd] RE: [R] Benchmarking R, why sort() is so slow?
References: <MABBLJDICACNFOLGIHJOIECDCDAA.phgrosje@ulb.ac.be>
 <Pine.A41.4.33.0104270814010.36572-100000@homer40.u.washington.edu> <15081.38439.622847.16842@gargle.gargle.HOWL>
Message-ID: <3AE9F08E.2299A92A@stat.auckland.ac.nz>

You may be overlooking a major reason for the slowness of the
R sorting --- the fact that the element comparisons are not inlined.
Comparisons dominate the cost of the sort, so any speedup of them
will make sorting faster.

It might be worth looking at replacing the present comparison
function definitions with macros to see what sort of speedup
you get.  It might also be useful to try to take advantage of
IEEE arithmetic behaviour, or perhaps do a pre-sweep of the
data to first place the NAs and Infs in their correct positions
at the start or the end, and so simplify the comparison code.
This might prove a bigger win than a switch of algorithm.

If you do plan on switching to Quicksort, you may want to read up
on tuning the algorithm.  One of John Bentley's "Programming Pearls"
chapters is on tuning Quicksort.  He does some simple things which
produce a sort 4 times faster than the "system sort".  I think
there is also some work by Bentley and Rick Becker on problems in
the Unix qsort implementation.

The choice to use Shellsort for R was based on advice in Segedin's
"Algorithms" book.  He says:

  "If one is not willing to invest the effort to be sure
  that a Quicksort implementation is not flawed, Shellsort
  is a much safer choice and will perform adequately for
  significantly less implementation effort."

Being the lazy sod that I am, I took this advice to heart.

-- 
Ross Ihaka                         Email:  ihaka@stat.auckland.ac.nz
Department of Statistics           Phone:  (64-9) 373-7599 x 5054
University of Auckland             Fax:    (64-9) 373-7018
Private Bag 92019, Auckland
New Zealand
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sat Apr 28 01:27:29 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 28 Apr 2001 02:27:29 +0200
Subject: [Rd] RE: [R] Benchmarking R, why sort() is so slow?
In-Reply-To: Ross Ihaka's message of "Sat, 28 Apr 2001 10:19:58 +1200"
References: <MABBLJDICACNFOLGIHJOIECDCDAA.phgrosje@ulb.ac.be> <Pine.A41.4.33.0104270814010.36572-100000@homer40.u.washington.edu> <15081.38439.622847.16842@gargle.gargle.HOWL> <3AE9F08E.2299A92A@stat.auckland.ac.nz>
Message-ID: <x2lmol7tse.fsf@blueberry.kubism.ku.dk>

Ross Ihaka <ihaka@stat.auckland.ac.nz> writes:

> You may be overlooking a major reason for the slowness of the
> R sorting --- the fact that the element comparisons are not inlined.
> Comparisons dominate the cost of the sort, so any speedup of them
> will make sorting faster.

Hmm. I'd suspect that declaring them static would make gcc grab any
chance of inlining..

> It might be worth looking at replacing the present comparison
> function definitions with macros to see what sort of speedup
> you get.  It might also be useful to try to take advantage of
> IEEE arithmetic behaviour, or perhaps do a pre-sweep of the
> data to first place the NAs and Infs in their correct positions
> at the start or the end, and so simplify the comparison code.
> This might prove a bigger win than a switch of algorithm.

This sounds like it would be worth trying.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From znmeb@aracnet.com  Sat Apr 28 20:13:45 2001
From: znmeb@aracnet.com (znmeb@aracnet.com)
Date: Sat, 28 Apr 2001 21:13:45 +0200 (MET DST)
Subject: [Rd] modulus operator gets syntax error (PR#925)
Message-ID: <200104281913.VAA05616@pubhealth.ku.dk>

Full_Name: M. Edward Borasky
Version: 1.2.2
OS: both Windows 2000 and Red Hat Linux 7.1
Submission from: (NULL) (208.130.245.188)


According to the R language manual, "%" is the modulus operator. However, on
both Windows and Linux, I get a syntax error when I type

records <- 100000
records % 1000

I tried wrapping the operands with "as.integer ()" but that didn't help either.
This is version 1.2.2 of R; I haven't had a chance to try it with R-1.2.3 yet,
but it does fail for me on both Windows 2000 and Red Hat Linux 7.1.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From paradis@isem.univ-montp2.fr  Sat Apr 28 20:57:33 2001
From: paradis@isem.univ-montp2.fr (Emmanuel Paradis)
Date: Sat, 28 Apr 2001 21:57:33 +0200
Subject: [Rd] modulus operator gets syntax error (PR#925)
Message-ID: <3.0.32.20010428215732.008f3870@162.38.183.200>

At 21:13 28/04/01 +0200, you wrote:
>Full_Name: M. Edward Borasky
>Version: 1.2.2
>OS: both Windows 2000 and Red Hat Linux 7.1
>Submission from: (NULL) (208.130.245.188)
>
>
>According to the R language manual, "%" is the modulus operator. However, on
>both Windows and Linux, I get a syntax error when I type
>
>records <- 100000
>records % 1000
>
>I tried wrapping the operands with "as.integer ()" but that didn't help
either.
>This is version 1.2.2 of R; I haven't had a chance to try it with R-1.2.3
yet,
>but it does fail for me on both Windows 2000 and Red Hat Linux 7.1.
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>
>

The bug is in the manual (already mentioned by Duncan Murdoch, if I
remember), not in R. The operator you are looking for is %%

See:

help("%%")




Emmanuel Paradis
Laboratoire de Palontologie
Institut des Sciences de l'volution
Universit Montpellier II
F-34095 Montpellier cdex 05
France
   phone: +33  4 67 14 39 64
     fax: +33  4 67 14 36 10
  mailto:paradis@isem.univ-montp2.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bellis@hsph.harvard.edu  Sun Apr 29 19:45:17 2001
From: bellis@hsph.harvard.edu (bellis@hsph.harvard.edu)
Date: Sun, 29 Apr 2001 20:45:17 +0200 (MET DST)
Subject: [Rd] Rgui crash (PR#926)
Message-ID: <200104291845.UAA09122@pubhealth.ku.dk>

Full_Name: Byron Ellis
Version: 1.2.3
OS: Windows 2000 Server
Submission from: (NULL) (140.247.105.95)


In Rgui when attempting to resize the console the system locks for a second
(cursor locks up, etc) and then either returns to normal for a second before
crashing or just crashes when we start moving again (the former happens more
often when making things bigger, the latter when the console is shrunk). The
error message reports an attempt to read 0x000000 so I'm guessing the problem is
somewhere in the Rgui console's memory management code.

I can duplicate this on both my home and lab desktop machines as well as my
laptop. All are running Win2K Server (I take that back--- my lab machine is
running Pro. edition) and all are reasonably updated.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Apr 29 21:24:59 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 29 Apr 2001 22:24:59 +0200 (MET DST)
Subject: [Rd] Rgui crash (PR#926)
Message-ID: <200104292024.WAA09334@pubhealth.ku.dk>

On Sun, 29 Apr 2001 bellis@hsph.harvard.edu wrote:

> Full_Name: Byron Ellis
> Version: 1.2.3
> OS: Windows 2000 Server
> Submission from: (NULL) (140.247.105.95)
>
>
> In Rgui when attempting to resize the console the system locks for a second
> (cursor locks up, etc) and then either returns to normal for a second before
> crashing or just crashes when we start moving again (the former happens more
> often when making things bigger, the latter when the console is shrunk). The
> error message reports an attempt to read 0x000000 so I'm guessing the problem is
> somewhere in the Rgui console's memory management code.
>
> I can duplicate this on both my home and lab desktop machines as well as my
> laptop. All are running Win2K Server (I take that back--- my lab machine is
> running Pro. edition) and all are reasonably updated.

Is this in SDI or MDI mode, and if the latter, are you resizing the
commands window or the frame?  It's not clear to me why you would want to
be resizing anyway: the sizes of the console and pager windows are set in
file Rconsole.

None of those possibilities cause problems on my systems (NT4 / W2k
Professional).

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bellis@hsph.harvard.edu  Sun Apr 29 21:43:13 2001
From: bellis@hsph.harvard.edu (bellis@hsph.harvard.edu)
Date: Sun, 29 Apr 2001 22:43:13 +0200 (MET DST)
Subject: [Rd] Rgui crash (PR#926)
Message-ID: <200104292043.WAA09393@pubhealth.ku.dk>

MDI mode. I was resizing the console child window. As for why I was
resizing--- why not? It seems like a reasonable thing to do if I want a
larger console, no? On the other hand, if the console is not actually
resizable (or you do not want it to be dynamically resizable) then the
window shouldn't be resizable.

As for it working on your systems and not mine, I don't know why that
would be though it is not limited to a single one of my systems. I'm
willing to accept some sort of interference from a piece of software I
have universally installed (SecureCRT for instance), but I'm not sure what
would cause this sort of behavior. 

Byron Ellis (bellis@hsph.harvard.edu)

On Sun, 29 Apr 2001, Prof Brian Ripley wrote:

> On Sun, 29 Apr 2001 bellis@hsph.harvard.edu wrote:
> 
> > Full_Name: Byron Ellis
> > Version: 1.2.3
> > OS: Windows 2000 Server
> > Submission from: (NULL) (140.247.105.95)
> >
> >
> > In Rgui when attempting to resize the console the system locks for a second
> > (cursor locks up, etc) and then either returns to normal for a second before
> > crashing or just crashes when we start moving again (the former happens more
> > often when making things bigger, the latter when the console is shrunk). The
> > error message reports an attempt to read 0x000000 so I'm guessing the problem is
> > somewhere in the Rgui console's memory management code.
> >
> > I can duplicate this on both my home and lab desktop machines as well as my
> > laptop. All are running Win2K Server (I take that back--- my lab machine is
> > running Pro. edition) and all are reasonably updated.
> 
> Is this in SDI or MDI mode, and if the latter, are you resizing the
> commands window or the frame?  It's not clear to me why you would want to
> be resizing anyway: the sizes of the console and pager windows are set in
> file Rconsole.
> 
> None of those possibilities cause problems on my systems (NT4 / W2k
> Professional).
> 
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From znmeb@aracnet.com  Mon Apr 30 06:14:51 2001
From: znmeb@aracnet.com (znmeb@aracnet.com)
Date: Mon, 30 Apr 2001 07:14:51 +0200 (MET DST)
Subject: [Rd] Rgui 1.2.3 for Windows crashes reading huge CSV file (PR#927)
Message-ID: <200104300514.HAA10298@pubhealth.ku.dk>

Full_Name: M. Edward Borasky
Version: 1.2.3 (2001-04-26)
OS: Windows 2000
Submission from: (NULL) (206.98.121.224)


I have a Celeron with 192 MB of RAM. My paging file is 288 MB, which is the
Windows recommended size. Here's the starting screen:
--------------------------------------------------------------------------------
R : Copyright 2001, The R Development Core Team
Version 1.2.3  (2001-04-26)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type `license()' or `licence()' for distribution details.

R is a collaborative project with many contributors.
Type `contributors()' for more information.

Type `demo()' for some demos, `help()' for on-line help, or
`help.start()' for a HTML browser interface to help.
Type `q()' to quit R.

[Previously saved workspace restored]

> memory.size()
[1] 8504720
> memory.limit()
[1] 200720384
> ls()
character(0)
---------------------------------------------------------------------------------
Now I try to read a huge (60 megabytes, 688,500 rows by 10 columns) CSV file
with "read.csv". Rgui grinds on it for some time before finally crashing. The
error message is:

The exception unknown software exception (0xc00000fd) occurred in the
application at location 0x02672dcf.

I watched this in the Task Manager and it peaked around 160 MB.

Here's the first few lines of the input file (stock price data for all NYSE
stocks for the past year) if you want to try this with some fake data -- just
add 688,499 more rows of this stuff :-)

Symbol,Date,Cvf,IsStock,Open,High,Low,Close,Volume,OpenInt
"WLP",20000428,2,1,75.25,75.25,72.5,73.75,4151,0
"WLP",20000501,2,1,74,74.5,72.120002746582,72.4300003051758,2229,0
"WLP",20000502,2,1,72.370002746582,72.370002746582,71,71.870002746582,3629,0

I haven't tried this with the Linux version yet to see if it handles the
situation a little more gracefully. I'll do that sometime and attach the results
to this bug report. This isn't a major problem for me; it's easy for me to break
the file up into individual stocks, or substitute weekly data for the daily
data, which will reduce the file to 12 megabytes or so.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Apr 30 06:36:21 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 30 Apr 2001 07:36:21 +0200 (MET DST)
Subject: [Rd] Rgui crash (PR#926)
Message-ID: <200104300536.HAA10534@pubhealth.ku.dk>

On Sun, 29 Apr 2001, Byron Ellis wrote:

> MDI mode. I was resizing the console child window. As for why I was
> resizing--- why not? It seems like a reasonable thing to do if I want a
> larger console, no? On the other hand, if the console is not actually
> resizable (or you do not want it to be dynamically resizable) then the
> window shouldn't be resizable.

It is resizable: but it is also specifiable in Rconsole in a more
precise way.

> As for it working on your systems and not mine, I don't know why that
> would be though it is not limited to a single one of my systems. I'm
> willing to accept some sort of interference from a piece of software I
> have universally installed (SecureCRT for instance), but I'm not sure what
> would cause this sort of behavior.

Can you please find out then?  Build a debug version and use gdb to
find out what the problem is.  This would not be by any means the first
time that an addon to Windows has caused Rgui to crash.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bellis@hsph.harvard.edu  Mon Apr 30 06:59:12 2001
From: bellis@hsph.harvard.edu (bellis@hsph.harvard.edu)
Date: Mon, 30 Apr 2001 07:59:12 +0200 (MET DST)
Subject: [Rd] Rgui crash (PR#926)
Message-ID: <200104300559.HAA10673@pubhealth.ku.dk>

On Mon, 30 Apr 2001, Prof Brian D Ripley wrote:

> On Sun, 29 Apr 2001, Byron Ellis wrote:
> 
> > MDI mode. I was resizing the console child window. As for why I was
> > resizing--- why not? It seems like a reasonable thing to do if I want a
> > larger console, no? On the other hand, if the console is not actually
> > resizable (or you do not want it to be dynamically resizable) then the
> > window shouldn't be resizable.
> 
> It is resizable: but it is also specifiable in Rconsole in a more
> precise way.
> 
> > As for it working on your systems and not mine, I don't know why that
> > would be though it is not limited to a single one of my systems. I'm
> > willing to accept some sort of interference from a piece of software I
> > have universally installed (SecureCRT for instance), but I'm not sure what
> > would cause this sort of behavior.
> 
> Can you please find out then?  Build a debug version and use gdb to
> find out what the problem is.  This would not be by any means the first
> time that an addon to Windows has caused Rgui to crash.

I'll give it a shot-- I really should have a debug version of R around
anyway. :-)

Also, of note: It happens at 0x026664ca (as if that helps :-)) and using
the min/max buttons does not cause the crash. Maybe the bitmap code has
some race condition that gets hit at some point? Anyway, classes
permitting, I'll look more closely this week.



Byron Ellis (bellis@hsph.harvard.edu)




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From znmeb@aracnet.com  Mon Apr 30 14:32:59 2001
From: znmeb@aracnet.com (znmeb@aracnet.com)
Date: Mon, 30 Apr 2001 15:32:59 +0200 (MET DST)
Subject: [Rd] PR #927 -- R crash on huge CSV file (PR#928)
Message-ID: <200104301332.PAA20168@pubhealth.ku.dk>

I tried to run the same dataset with R-1.2.3 on Linux, compiled from the
source tarball. After 7 hours, it was still grinding away and had not
crashed. I had to kill it. "gtop" was showing it with a real size around 160
MB, same as the peak on the Windows 2000 environment. This is on the same
hardware as the Windows run; my machine is dual-booted Windows 2000 and Red
Hat Linux 7.1. If I get ambitious, I'll see if I can make it fail with a
smaller dataset and run on Linux with a debug-compiled R binary.
--
M. Edward (Ed) Borasky, Chief Scientist, Borasky Research
http://www.borasky-research.net  http://www.aracnet.com/~znmeb
mailto:znmeb@borasky-research.com  mailto:znmeb@aracnet.com

If there's nothing to astrology, how come so many famous men were born on
holidays?


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.C.Rougier@durham.ac.uk  Mon Apr 30 14:34:06 2001
From: J.C.Rougier@durham.ac.uk (J.C.Rougier@durham.ac.uk)
Date: Mon, 30 Apr 2001 15:34:06 +0200 (MET DST)
Subject: [Rd] Segmentation fault linked to memory? (PR#929)
Message-ID: <200104301334.PAA20209@pubhealth.ku.dk>

Hi Everyone,

The following rather extreme claim on memory causes a
segmentation fault on my installation:

fred <- matrix(1:1200, 20, 60)

littleOP <- function(x, y)
{
  z <- as.vector(x) %*% t(as.vector(y))
  dim(z) <- c(dim(x), dim(y))
  z
}

littleOP(fred, fred)                 # this is OK
littleOP(littleOP(fred, fred), fred) # whoops! Segmentation fault

What's a bit strange is that if I do the outer product the
`old-fashioned' way then I get the more usual error message:

> (fred %o% fred) %o% fred
Error: cannot allocate vector of size 2555696 Kb

Cheers, Jonathan.

--please do not edit the information below--

Version:
 platform = sparc-sun-solaris2.7
 arch = sparc
 os = solaris2.7
 system = sparc, solaris2.7
 status = 
 major = 1
 minor = 2.1
 year = 2001
 month = 01
 day = 15
 language = R

Search Path:
 .GlobalEnv, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Apr 30 15:22:10 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 30 Apr 2001 16:22:10 +0200
Subject: [Rd] PR #927 -- R crash on huge CSV file (PR#927)
In-Reply-To: znmeb@aracnet.com's message of "Mon, 30 Apr 2001 15:32:59 +0200 (MET DST)"
References: <200104301332.PAA20168@pubhealth.ku.dk>
Message-ID: <x24rv6cvsd.fsf@blueberry.kubism.ku.dk>

This came in as a new report because of the space between PR and #

Resending it to get it filed correctly.

(BTW: a growth factor of 3-4 is not unexpectable on CSV files since
internal storage of numeric values is in 8-byte doubles.)

	-p

znmeb@aracnet.com writes:

> I tried to run the same dataset with R-1.2.3 on Linux, compiled from the
> source tarball. After 7 hours, it was still grinding away and had not
> crashed. I had to kill it. "gtop" was showing it with a real size around 160
> MB, same as the peak on the Windows 2000 environment. This is on the same
> hardware as the Windows run; my machine is dual-booted Windows 2000 and Red
> Hat Linux 7.1. If I get ambitious, I'll see if I can make it fail with a
> smaller dataset and run on Linux with a debug-compiled R binary.


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Apr 30 15:57:24 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 30 Apr 2001 16:57:24 +0200
Subject: [Rd] Segmentation fault linked to memory? (PR#929)
In-Reply-To: J.C.Rougier@durham.ac.uk's message of "Mon, 30 Apr 2001 15:34:06 +0200 (MET DST)"
References: <200104301334.PAA20209@pubhealth.ku.dk>
Message-ID: <x21yqacu5n.fsf@blueberry.kubism.ku.dk>

J.C.Rougier@durham.ac.uk writes:

> Hi Everyone,
> 
> The following rather extreme claim on memory causes a
> segmentation fault on my installation:
> 
> fred <- matrix(1:1200, 20, 60)
> 
> littleOP <- function(x, y)
> {
>   z <- as.vector(x) %*% t(as.vector(y))
>   dim(z) <- c(dim(x), dim(y))
>   z
> }
> 
> littleOP(fred, fred)                 # this is OK
> littleOP(littleOP(fred, fred), fred) # whoops! Segmentation fault
> 
> What's a bit strange is that if I do the outer product the
> `old-fashioned' way then I get the more usual error message:
> 
> > (fred %o% fred) %o% fred
> Error: cannot allocate vector of size 2555696 Kb
> 
> Cheers, Jonathan.
> 
> --please do not edit the information below--
> 
> Version:
>  platform = sparc-sun-solaris2.7
>  arch = sparc
>  os = solaris2.7
>  system = sparc, solaris2.7
>  status = 
>  major = 1
>  minor = 2.1
>  year = 2001
>  month = 01
>  day = 15
>  language = R
> 
> Search Path:
>  .GlobalEnv, Autoloads, package:base

You really ought to upgrade before reporting such bugs, but I get it
with 1.2.3 as well. Looks like we have an integer overrun issue:

At the point of the crash, we have succesfully allocated "ans" 

(gdb) p ans
$25 = (SEXPREC *) 0x1fe8038
(gdb) p Rf_length(ans)
$26 = 1728000000
(gdb) p/x Rf_length(ans)
$27 = 0x66ff3000

however, measured in *bytes*, that length won't fit in 32 bits, and

(gdb) p/x (Rf_length(ans)*8)/8
$31 = 0x6ff3000

So I suppose that the true length of ans is only

0x6ff3000

which fits fairly nicely with the segfault occurring when you try to
access cell number 82*1440000

(gdb) p/x 82*1440000
$28 = 0x709c200


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rmh@surfer.sbm.temple.edu  Mon Apr 30 22:55:45 2001
From: rmh@surfer.sbm.temple.edu (Rich Heiberger)
Date: Mon, 30 Apr 2001 17:55:45 -0400 (EDT)
Subject: [Rd] several bugs (PR#918) lists and matrices
Message-ID: <200104302155.f3ULtj41879558@surfer.sbm.temple.edu>

[Rd] several bugs (PR#918) lists and matrices

Thank you Thomas for suggesting I review the proceedings paper on data
by Rob.  I liked that paper when I heard it and was happy to reread
it.  I agree with everything he said there.  After reading it I went
back to the Blue Book and have several comments.


Thomas said
                                You can't put a list into a matrix.
  Matrices handle homogenous data; they are vectors with a dimension
  attribute.  Lists with an arbitrary dimension attribute are, as Rob
  pointed out, an unimplemented bug. However, rectangle things with
  arbitrary data in them do exist. They're called data frames.

Thomas's statement is a clear change in perspective from the original
Blud Book interpretation.  The blue book position and my starting
position is that "All objects are vectors."  Objects can be atomic or
recursive, and it is very clear in the text that subscripting is
applied to all vectors, no matter the complexity.  The description of
dim(x) on page 438 is very clear: x is any object.  The descriptions
of array() (page 382) and matrix() (page 504) are equally clear: "the
array class of objects are those that have an attribute dim, ...."

John's recent file
  http://www.omegahat.org/SLanguage/Aspects.html
repeats this generality with
  The original history of S (if you're interested see the note) led to
  a vector-oriented approach to all objects; that is, all objects were
  vectors (one-way arrays). Lists and other recursive objects were
  special only in that the elements of the vector were themselves
  objects.


It is less clear in the R help, but still indicated in the phrase
"Retrieve or set the dimension of an OBJECT." in the description of
dim().  The R help for array() and matrix() both say "data: a vector
giving data to fill the array" and the help for vector() clearly
permits vectors of mode list.  Nowhere do I see a claim that matrices
or arrays must contain only homogeneous atomic objects.

R currently (rw1021) believes a dimensioned list is a matrix (but not
a vector).
  > x <- list(1,2,3,4,5,6,7,8,9,10)
  > is.vector(x)
  [1] TRUE
  > dim(x) <- c(2,5)
  > x
       [,1]        [,2]        [,3]        [,4]        [,5]       
  [1,] "Numeric,1" "Numeric,1" "Numeric,1" "Numeric,1" "Numeric,1"
  [2,] "Numeric,1" "Numeric,1" "Numeric,1" "Numeric,1" "Numeric,1"
  > is.matrix(x)
  [1] TRUE
  > is.vector(x)
  [1] FALSE


A data frame is essentially a list of arbitrarily structured column
vectors.  The recognition that Rob has in this paper is that the
individual columns can themselves contain arbitrarily structured data.
He is doing marvelous things with those data frame columns.
Everything he does will work on dimensioned lists and will avoid the
the two serious difficulties with data frames that he notes.

a. The whole issue of character strings becoming factors and the
non-nonintuitive I() and AsIs is a consequence of using data frames.
This issue vanishes when dimensioned lists are used directly.

b. Parameterized data frames can be replaced by a new data structure
in which a "parameter" attribute holds the relevant information.


My attempt to construct a "missing.value" class would work with a
data frame structure.	I don't think it is the best structure.

In summary, I am arguing for permitting
   a <- matrix(list(1,2,3,4,5,6), 2, 3)
along with the currently acceptable
   a <- list(1,2,3,4,5,6)
   dim(a) <- c(2, 3)
and for making the subscripting
   a[,1:2]
provide the correct answer
     [,1] [,2] 
[1,] 1    3   
[2,] 2    4   
rather than the current incorrect answer
     [,1]   [,2]  
[1,] "NULL" "NULL"
[2,] "NULL" "NULL"
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Mon Apr 30 23:35:42 2001
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Mon, 30 Apr 2001 15:35:42 -0700 (PDT)
Subject: [Rd] several bugs (PR#918) lists and matrices
In-Reply-To: <200104302155.f3ULtj41879558@surfer.sbm.temple.edu>
Message-ID: <Pine.A41.4.33.0104301534030.85214-100000@homer11.u.washington.edu>

On Mon, 30 Apr 2001, Rich Heiberger wrote:

> [Rd] several bugs (PR#918) lists and matrices
>
> Thank you Thomas for suggesting I review the proceedings paper on data
> by Rob.  I liked that paper when I heard it and was happy to reread
> it.  I agree with everything he said there.  After reading it I went
> back to the Blue Book and have several comments.

>
> In summary, I am arguing for permitting
>    a <- matrix(list(1,2,3,4,5,6), 2, 3)
> along with the currently acceptable
>    a <- list(1,2,3,4,5,6)
>    dim(a) <- c(2, 3)
> and for making the subscripting
>    a[,1:2]
> provide the correct answer
>      [,1] [,2]
> [1,] 1    3
> [2,] 2    4
> rather than the current incorrect answer
>      [,1]   [,2]
> [1,] "NULL" "NULL"
> [2,] "NULL" "NULL"

Yes, it probably should work.

I still prefer data frames, but I was clearly wrong about dimensioned
lists.

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Sun Apr  1 17:34:53 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Sun, 01 Apr 2001 18:34:53 +0200
Subject: [Rd] dim "heritage"
References: <200102170044.BAA19310@pubhealth.ku.dk>
 <14990.35273.167526.4092@mithrandir.hornik.net> <15046.16468.885425.640832@mithrandir.hornik.net>
Message-ID: <3AC758AD.52E7E6B2@univie.ac.at>

when i do

x<-4:1
dim(x)<-c(4,1)

and then
z<-sin(x)
dim(z) is c(4,1)

sort(x)
however, does not have a dim attribute.

is this intended behavior?


--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Apr  1 18:40:16 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 1 Apr 2001 18:40:16 +0100 (BST)
Subject: [Rd] dim "heritage"
In-Reply-To: <3AC758AD.52E7E6B2@univie.ac.at>
Message-ID: <Pine.LNX.4.31.0104011839000.1244-100000@gannet.stats>

On Sun, 1 Apr 2001, Erich Neuwirth wrote:

> when i do
>
> x<-4:1
> dim(x)<-c(4,1)
>
> and then
> z<-sin(x)
> dim(z) is c(4,1)
>
> sort(x)
> however, does not have a dim attribute.
>
> is this intended behavior?

Yes.  You would expect x^2 to act elementwise, and all elementwise
arithmetic operations keep the dimensions.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Sun Apr  1 18:48:58 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Sun, 01 Apr 2001 19:48:58 +0200
Subject: [Rd] dim "heritage"
References: <Pine.LNX.4.31.0104011839000.1244-100000@gannet.stats>
Message-ID: <3AC76A0A.4A1F7F1C@univie.ac.at>

i understand that part.
i wonder if it would make sense
thnat sort(x) also keeps the dimensions
(it should be an object of the same dimensions in any case i can
imagine).


Prof Brian Ripley wrote:
> 
> On Sun, 1 Apr 2001, Erich Neuwirth wrote:
> 
> > when i do
> >
> > x<-4:1
> > dim(x)<-c(4,1)
> >
> > and then
> > z<-sin(x)
> > dim(z) is c(4,1)
> >
> > sort(x)
> > however, does not have a dim attribute.
> >
> > is this intended behavior?
> 
> Yes.  You would expect x^2 to act elementwise, and all elementwise
> arithmetic operations keep the dimensions.
> 
> --
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595

--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Apr  1 19:50:11 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 1 Apr 2001 19:50:11 +0100 (BST)
Subject: [Rd] dim "heritage"
In-Reply-To: <3AC76A0A.4A1F7F1C@univie.ac.at>
Message-ID: <Pine.GSO.4.31.0104011946590.7057-100000@auk.stats>

On Sun, 1 Apr 2001, Erich Neuwirth wrote:

> i understand that part.
> i wonder if it would make sense
> thnat sort(x) also keeps the dimensions
> (it should be an object of the same dimensions in any case i can
> imagine).

Not so: it sorts as a vector, ignoring the multidimensional stucture.
Also, consider na.last = NA?

In any case, sort is not group Math and so not implemented by a group
generic function.  One needs to know about such things to predict
the fine details like this.

>
>
> Prof Brian Ripley wrote:
> >
> > On Sun, 1 Apr 2001, Erich Neuwirth wrote:
> >
> > > when i do
> > >
> > > x<-4:1
> > > dim(x)<-c(4,1)
> > >
> > > and then
> > > z<-sin(x)
> > > dim(z) is c(4,1)
> > >
> > > sort(x)
> > > however, does not have a dim attribute.
> > >
> > > is this intended behavior?
> >
> > Yes.  You would expect x^2 to act elementwise, and all elementwise
> > arithmetic operations keep the dimensions.
> >
> > --
> > Brian D. Ripley,                  ripley@stats.ox.ac.uk
> > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > University of Oxford,             Tel:  +44 1865 272861 (self)
> > 1 South Parks Road,                     +44 1865 272860 (secr)
> > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> --
> Erich Neuwirth, Computer Supported Didactics Working Group
> Visit our SunSITE at http://sunsite.univie.ac.at
> Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From devoilp@dpi.qld.gov.au  Mon Apr  2 02:17:23 2001
From: devoilp@dpi.qld.gov.au (devoilp@dpi.qld.gov.au)
Date: Mon, 2 Apr 2001 03:17:23 +0200 (MET DST)
Subject: [Rd] na.omit() (PR#889)
Message-ID: <200104020117.DAA24223@pubhealth.ku.dk>

Full_Name: Peter deVoil
Version: 1.1
OS: i686-pc-linux-gnu
Submission from: (NULL) (203.25.1.208)


Hi,

>  zz <- c(3.2, 4.5, NA)
>  zzz <- c(3.2, 4.5, 5.5)

If there are no NAs in the list:
---
> length(na.omit(zzz))
[1] 0
---
I expected 3.

But, if there are NAs, the correct answer is returned
---
> length(na.omit(zz))
[1] 2
---

Yours,
PdeV



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Apr  2 06:23:52 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 2 Apr 2001 07:23:52 +0200 (MET DST)
Subject: [Rd] na.omit() (PR#889)
Message-ID: <200104020523.HAA24583@pubhealth.ku.dk>

On Mon, 2 Apr 2001 devoilp@dpi.qld.gov.au wrote:

> Full_Name: Peter deVoil
> Version: 1.1

There was no such version:   1.1.0 or 1.1.1?

> OS: i686-pc-linux-gnu
> Submission from: (NULL) (203.25.1.208)
>
>
> Hi,
>
> >  zz <- c(3.2, 4.5, NA)
> >  zzz <- c(3.2, 4.5, 5.5)
>
> If there are no NAs in the list:
> ---
> > length(na.omit(zzz))
> [1] 0
> ---
> I expected 3.

I get 3.

> But, if there are NAs, the correct answer is returned
> ---
> > length(na.omit(zz))
> [1] 2
> ---

I can't reproduce this in the current version (1.2.2).  Please upgrade.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From hoffmann@ehmgs2.et.tu-dresden.de  Mon Apr  2 08:22:37 2001
From: hoffmann@ehmgs2.et.tu-dresden.de (hoffmann@ehmgs2.et.tu-dresden.de)
Date: Mon, 2 Apr 2001 09:22:37 +0200 (MET DST)
Subject: [Rd] aclocal.m4: R_PROG_F77_CC_COMPAT assumes executables w/o extension (PR#890)
Message-ID: <200104020722.JAB25499@pubhealth.ku.dk>

Full_Name: Thomas Hoffmann
Version: 1.2.2 (and older)
OS: HP-UX, OS/2
Submission from: (NULL) (141.30.125.20)


The test defined in AC_DEFUN([R_PROG_F77_CC_COMPAT] (aclocal.m4:342) produces
an executable using (in line 393)

if ${CC-cc} ${LDFLAGS} ${MAIN_LDFLAGS} -o conftest conftest.o \ ....

This fails on systems that use an extension for executables, which can be
used via $ac_exeext in configure files. So it should read instead

if ${CC-cc} ${LDFLAGS} ${MAIN_LDFLAGS} -o conftest$ac_exeext conftest.o \ ....

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Mon Apr  2 11:20:10 2001
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Mon, 2 Apr 2001 12:20:10 +0200
Subject: [Rd] Color mapping for R : col2rgb()
In-Reply-To: <000801bf999d$13c36170$a9021aac@joelschlaegel>
References: <14560.48243.200487.325190@lynne.ethz.ch>
 <000801bf999d$13c36170$a9021aac@joelschlaegel>
Message-ID: <15048.21082.170703.934887@gargle.gargle.HOWL>


This has been an old topic, brought up last year by 
Jens Oehlschlaegel and even before by Ben Bolker and maybe others.

Over the weekend I've finally taken some time, 
and have implemented one new function on the R level,
basically exposing the underlying C function str2col() [main/graphics.c]

col2rgb() accepts a vector of all three kind of R colors :

1:n     =  indices into palette()
name    =  an element of colors()
#rrggbb =  character with the rgb hex code.

Per color, it returns an integer(3) vector   c(red,green,blue)
with elements from 0:255.

Currently {in my implementation},
when 
  r <- col2rgb(col) 
r is a list() of the same length as col, and  r[[j]] = c(red_j, green_j, blue_j)
e.g.
    > str(col2rgb(paste("gold", 1:4, sep="")))
    List of 4
     $ : int [1:3] 255 215 0
     $ : int [1:3] 238 201 0
     $ : int [1:3] 205 173 0
     $ : int [1:3] 139 117 0
    > 

This has been the easiest way of a vectorizing implementation.
Are the strong reasons why, e.g. a matrix should be returned instead ?
The matrix can `easily' be built by, e.g.

  matrix(c(col2rgb(...) , recursive = TRUE), nrow = 3))

If it is felt that one always wanted this matrix (and dimnames, too),
it would maybe make sense to compute it in C.

---

Opinions?

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Apr  2 13:44:24 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 2 Apr 2001 13:44:24 +0100 (BST)
Subject: [Rd] Color mapping for R : col2rgb()
In-Reply-To: <15048.21082.170703.934887@gargle.gargle.HOWL>
Message-ID: <Pine.LNX.4.31.0104021343250.9187-100000@gannet.stats>

On Mon, 2 Apr 2001, Martin Maechler wrote:

>
> This has been an old topic, brought up last year by
> Jens Oehlschlaegel and even before by Ben Bolker and maybe others.
>
> Over the weekend I've finally taken some time,
> and have implemented one new function on the R level,
> basically exposing the underlying C function str2col() [main/graphics.c]
>
> col2rgb() accepts a vector of all three kind of R colors :
>
> 1:n     =  indices into palette()
> name    =  an element of colors()
> #rrggbb =  character with the rgb hex code.
>
> Per color, it returns an integer(3) vector   c(red,green,blue)
> with elements from 0:255.
>
> Currently {in my implementation},
> when
>   r <- col2rgb(col)
> r is a list() of the same length as col, and  r[[j]] = c(red_j, green_j, blue_j)
> e.g.
>     > str(col2rgb(paste("gold", 1:4, sep="")))
>     List of 4
>      $ : int [1:3] 255 215 0
>      $ : int [1:3] 238 201 0
>      $ : int [1:3] 205 173 0
>      $ : int [1:3] 139 117 0
>     >
>
> This has been the easiest way of a vectorizing implementation.
> Are the strong reasons why, e.g. a matrix should be returned instead ?
> The matrix can `easily' be built by, e.g.
>
>   matrix(c(col2rgb(...) , recursive = TRUE), nrow = 3))
>
> If it is felt that one always wanted this matrix (and dimnames, too),
> it would maybe make sense to compute it in C.

What do you get if you ask for one colour (the most common case?)?
A one-element list seems silly.

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Mon Apr  2 14:18:59 2001
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Mon, 2 Apr 2001 15:18:59 +0200
Subject: [Rd] Color mapping for R : col2rgb()
In-Reply-To: <Pine.LNX.4.31.0104021343250.9187-100000@gannet.stats>
References: <15048.21082.170703.934887@gargle.gargle.HOWL>
 <Pine.LNX.4.31.0104021343250.9187-100000@gannet.stats>
Message-ID: <15048.31811.523357.665648@gargle.gargle.HOWL>

>>>>> "BDR" == Prof Brian Ripley <ripley@stats.ox.ac.uk> writes:

    BDR> On Mon, 2 Apr 2001, Martin Maechler wrote:
    >> 
    >> This has been an old topic, brought up last year by
    >> Jens Oehlschlaegel and even before by Ben Bolker and maybe others.
    >> 
    >> Over the weekend I've finally taken some time,
    >> and have implemented one new function on the R level,
    >> basically exposing the underlying C function str2col() [main/graphics.c]
    >> 
    >> col2rgb() accepts a vector of all three kind of R colors :
    >> 
    >> 1:n     =  indices into palette()
    >> name    =  an element of colors()
    >> #rrggbb =  character with the rgb hex code.
    >> 
    >> Per color, it returns an integer(3) vector   c(red,green,blue)
    >> with elements from 0:255.
    >> 
    >> Currently {in my implementation},
    >> when
    >> r <- col2rgb(col)
    >> r is a list() of the same length as col, and  r[[j]] = c(red_j, green_j, blue_j)
    >> e.g.
    >> > str(col2rgb(paste("gold", 1:4, sep="")))
    >> List of 4
    >> $ : int [1:3] 255 215 0
    >> $ : int [1:3] 238 201 0
    >> $ : int [1:3] 205 173 0
    >> $ : int [1:3] 139 117 0
    >> >
    >> 
    >> This has been the easiest way of a vectorizing implementation.
    >> Are the strong reasons why, e.g. a matrix should be returned instead ?
    >> The matrix can `easily' be built by, e.g.
    >> 
    >> matrix(c(col2rgb(...) , recursive = TRUE), nrow = 3))
    >> 
    >> If it is felt that one always wanted this matrix (and dimnames, too),
    >> it would maybe make sense to compute it in C.

    BDR> What do you get if you ask for one colour (the most common case?)?
    BDR> A one-element list seems silly.

agreed.  Also, a matrix *is* a simpler structure anyway.
I'd plan to rather go for an  
  3 x n 
matrix (even though  [n x 3] prints more nicely)
with  dimnames = list(c("red,"green","blue"), NULL)
I'd still return a (1-row) matrix even for length(col) == 1,
for (R) API reasons, but at least that can be used as if it was a 3-vector
in almost all situations.

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From David James <dj@research.bell-labs.com>  Mon Apr  2 18:15:15 2001
From: David James <dj@research.bell-labs.com> (David James)
Date: Mon, 2 Apr 2001 13:15:15 -0400 (EDT)
Subject: [Rd] generic database access methods
Message-ID: <200104021715.NAA08085@jessie.research.bell-labs.com>


> Date: Mon, 19 Mar 2001 16:19:39 -0500
> From: "Timothy H. Keitt" <Timothy.Keitt@StonyBrook.Edu>
> User-Agent: Mozilla/5.0 (X11; U; Linux 2.2.18 i686; en-US; 0.8) Gecko/20010215
> X-Accept-Language: en
> MIME-Version: 1.0
> To: r-devel@hypatia.math.ethz.ch
> Subject: [Rd] generic database access methods
> Content-Transfer-Encoding: 7bit
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From David James <dj@research.bell-labs.com>  Mon Apr  2 18:24:08 2001
From: David James <dj@research.bell-labs.com> (David James)
Date: Mon, 2 Apr 2001 13:24:08 -0400 (EDT)
Subject: [Rd] generic database access methods
Message-ID: <200104021724.NAA09572@jessie.research.bell-labs.com>

Hi Tim,

Thanks for putting together the Rdbi package.  Attached are my (belated) 
comments and some further suggestions/questions.

David
-----------------------------------------------------------------------

> Date: Mon, 19 Mar 2001 16:19:39 -0500
> From: "Timothy H. Keitt" <Timothy.Keitt@StonyBrook.Edu>
> User-Agent: Mozilla/5.0 (X11; U; Linux 2.2.18 i686; en-US; 0.8) Gecko/20010215
> X-Accept-Language: en
> MIME-Version: 1.0
> To: r-devel@hypatia.math.ethz.ch
> Subject: [Rd] generic database access methods
> Content-Transfer-Encoding: 7bit
> 
> I've been putting together a package that defined generic methods for 
> database access.  The packages is called "Rdbi."  It borrows as much as 
> possible from existing database packages / proposals.  I'd like to start 
> a discussion about the proposed interface.  Here's what I've come up 
> with so far:
> 
> #
> # Rdbi: connectionMethods.R
> #
> 
> dbConnect <- function(dbObj, ...) UseMethod("dbConnect")
> #
> # dbObj should be generated by an implementation defined function,
> # e.g., RPgSQL(), which returns a object with an approprite class
> # name, e.g., "PostgreSQL" or "MySQL".  The implementation then
> # provides a method that actually opens the connection.
> #
> 
> dbConnect.default <- function(dbObj, ...) stop("Invalid database class")
> #
> # User passed something other than a defined database class
> #
> 
> dbDisconnect <- function(conn) UseMethod("dbDisconnect")
> #
> # Close connection and free resources
> #
> 
> dbDisconnect.default <- function(conn) stop("Invalid connection object")
> 
> dbReconnect <- function(conn) UseMethod("dbReconnect")
> #
> # The conn object should store the options passed to dbConnect so that
> # it can reestablish the connection.
> #
> 
> dbReconnect.default <- function(conn) stop("Invalid connection object")
> #
> # User passed something other than a defined connection class
> #
> 
> dbConnectionOK <- function(conn) UseMethod("dbConnectionOK")
> #
> # Returns TRUE if the connection object is valid and the connection
> # can be used to communicate with the database backend.
> #
> 
> dbConnectionOK.default <- function(conn) FALSE
> #
> # User passed something other than a defined connection class
> #

I think that implicitly there's a class "dbConnection"
that the various implementations RPgSQL, RMySQL, RODBC, ROracle, etc.,
would inherit from (extend).  Right?  Having the various implementations
inherit from a common base class, say, "dbConnection", could be
useful for grouping common "database connection" functionality --
for instance, imagine we want to implement some functionality
on top of the common Rdbi, and thus for *any* DBMS.  I could easily
imagine moving your idea of proxy data.frames from the RPgSQL
package to, say, proxyTable, so that it can be used with ROracle, RODBC,
etc.  Another example would be the ability to attach(conn) and then
have R manage the reading/writing of tables,  e.g.,

  Example: 
  (See John M. Chambers "Data Management in S" in
  http://stat.bell-labs.com/stat/doc/doc/93.15.ps.gz and
  and "Database Classes" http://stat.bell-labs.com/stat/Sbook/DatabaseClasses)

  > con <- dbConnect("RPgSQL", ...)
  > attach(con)
  > ls(pos=2)
  [1] table1  table2 ...
  > median(table1$fieldX)
  > exists("table2", where=2)
  > remove("table4", where=2)
  > assign("newTable4", my.results, where = 2)

We could implement this for any DBMS *provided* we define 
the various R methods read/write/exists methods in terms of the
base class "dbConnection" and not in terms of the individual
RMySQL, RODBC, RPgSQL (otherwise each new R<dbms> driver would be required
to implement the attached methods, the proxyTable methods, ....)

Following the approach above, it would be very simple to attach
a DBMS and treat *all* the tables as db.proxy independently of the
actual DBMS (provided the methods are, again, defined in terms of
the common base "dbConnection").

> 
> 
> #
> # Rdbi: ioMethods.R
> #
> 
> dbSendQuery <- function(conn, ...) UseMethod("dbSendQuery")
> #
> # This function submits a query string to the backend.  If the query
> # generates any results, they should be returned in a data frame;
> # otherwise the function returns NULL.  Printing error messgages is
> # left to the implementation, but this function should not issue a
> # call to error() or stop().  Error messages may be retrievable from
> # the connection object depending on implementation.
> #
> 
> dbSendQuery.default <- function(conn, ...) stop("Invalid connection object")
> #
> # This means that the method was called on something other than a
> # connection object.
> #

I would suggest that, if the the query generates a result, dbSendQuery 
retuns a "result set" or "cursor" object.  Imagine the result is 
huge -- that could easily kill the R process.  This object ("cursor" or
"result set") could have some methods to fetch(cur, n = num.rows),
plus some self-description to show its state -- e.g. to show the
query being procesed, plus methods to tell us how many rows we've
fetched so far, etc.  Even if dbSendQuery() does not generate output,
we may still want to have some way of querying what happen with the
operation;  for instance, how many rows were affected by the operation

    > rs <- dbSendQuery(conn, "delete from TABLE1 where id = 1234")
    > if(rowsAffected(rs) != 1){
         ## oops, something isn't quite right!
    +    rollback(conn)
    + }

In many situation, users may not want to bother with this level
of detail -- all they may want is to get the data.  For this I'd follow
the ODBC(?) "execute immediate" idea and implement a very similar 
method for those cases when you know want to do the "dbSendQuery" 
and "fetch" in one scoop, say "dbExec" or something like it.

> 
> dbListTables <- function(conn, ...) UseMethod("dbListTables")
> #
> # Output a list of table names associated with the connection object.
> # Output should look like output from ls().
> #
> 
> dbListTables.default <- function(conn, ...) stop("Invalid connection 
> object")
> 
> dbReadTable <- function(conn, ...) UseMethod("dbReadTable")
> #
> # Analog of the read.table() function.  Returns a data frame.  Some
> # facility for converting DB types to R types is helpfull.  Generally,
> # this will just pass a "select * from mytable" to dbSendQuery() which
> # returns the data frame.
> #
> 
> dbReadTable.default <- function(conn, ...) stop("Invalid connection object")
> 
> dbWriteTable <- function(conn, ...) UseMethod("dbWriteTable")
> #
> # Analog of write.table().  It should assemble input into a data frame
> # and write the frame into a table in database.
> #
> 
> dbWriteTable.default <- function(conn, ...) stop("Invalid connection 
> object")
> 

Yes. This would work nicely, specially for packages that use the Rdbi.

Miscellaneous 
-------------

The following are some issues that have been brought up
either through private conversations and/or during the DSC 2001
workshop.

1. Data Type Conversions:

Another set of generic functions that we may need to consider 
could include functions to specify data conversions: for instance,
a generic getDataType(dbObj, s.atomic.object) that would return the
appropriate data type on the remote DBMS associated with "conn".
For instance, if "ora" and "pg" are Oracle and PostgreSQL connections,
respectively, the expressions

  > x.int <- as.integer(x)
  > ora.int <- getDataType(ora, x.int)
  > pg.int <- getDataType(pg, x.int)	

would return possibly different DBMS-specific SQL data type for the same   
integer (and possibly different for the same DBMS, in the case
of R and Splus, as Brian Ripley has pointed out, I believe in the 
R Data Import/Export manual(?)).

We would also need the reverse DBMS type -> R/S object.

Finally, there'll be times that we cannot automatically convert
non-primitive objects (images? sound?) to/from DBMS and R/S -- we
should have a mechanism to allow user to specify their own conversion
functions.  We need to think of a "user-friendly" mechanism to do this.

2. DBMS vs R/S identifiers:

Do we need/want to handle for the user the mapping between
remote identifiers (e.g., "TABLE_ABC") and R/S?  This could
be easily implemented using the ideas in data mapping ideas above.

3. Transactions:

Do we want to define generic functions to manage transactions? 

4. Remote Objects:

If we decide that having "cursor/result set" objects is desirable,
then we should note that they are similar to "dbConnection" objects
in the sense that they are "remote object," i.e., R objects that reference
remote objects, (remote db object, to be more precise).  All these remote
objects may share some common functionality:  all remote objects need 
to be validated before they are passed to the DBMS (e.g., dbConnectionOk),
we need to ensure that we free the (remote) resources even in the
case of errors/exceptions, perhaps through judicious use of on.exit()
(see also Luke Tierney's "Simple References with Finalization"
http://developer.r-project.org/simpleref.html, but keep in mind that 
this may/may not be portable to S-plus.)

5. Naming convention:

We could use (as you are suggesting) a naming convention consisting
of concatenated words with capitalization for non-starting 
words, e.g., dbDisconnect).  The traditional R/S way is to separate 
words with ".", e.g., "read.table".  I don't have too strong a preference,
but perhaps we should be explicit about it?


> 
> T.
> 
> -- 
> Timothy H. Keitt
> Department of Ecology and Evolution
> State University of New York at Stony Brook
> Phone: 631-632-1101, FAX: 631-632-7626
> http://life.bio.sunysb.edu/ee/keitt/
> 
> 
> 
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> 
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> 
> 
> 
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
Timothy H. Keitt
Department of Ecology and Evolution
State University of New York at Stony Brook
Phone: 631-632-1101, FAX: 631-632-7626
http://life.bio.sunysb.edu/ee/keitt/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Timothy.Keitt@StonyBrook.Edu  Mon Apr  2 22:39:02 2001
From: Timothy.Keitt@StonyBrook.Edu (Timothy H. Keitt)
Date: Mon, 02 Apr 2001 17:39:02 -0400
Subject: [Rd] generic database access methods
References: <200104021724.NAA09572@jessie.research.bell-labs.com>
Message-ID: <3AC8F176.3090805@StonyBrook.Edu>

David James wrote:
> 
> I think that implicitly there's a class "dbConnection"
> that the various implementations RPgSQL, RMySQL, RODBC, ROracle, etc.,
> would inherit from (extend).  Right?  Having the various implementations
> inherit from a common base class, say, "dbConnection", could be
> useful for grouping common "database connection" functionality --
> for instance, imagine we want to implement some functionality
> on top of the common Rdbi, and thus for *any* DBMS.  I could easily
> imagine moving your idea of proxy data.frames from the RPgSQL
> package to, say, proxyTable, so that it can be used with ROracle, RODBC,

Yes.  Exactly.  My initial proposal was intentionally simple; I've been
experimenting with having connection objects inherit from a common base
class.  (I make some commments about proxies below.)

> etc.  Another example would be the ability to attach(conn) and then
> have R manage the reading/writing of tables,  e.g.,
> 
>   Example: 
>   (See John M. Chambers "Data Management in S" in
>   http://stat.bell-labs.com/stat/doc/doc/93.15.ps.gz and
>   and "Database Classes" http://stat.bell-labs.com/stat/Sbook/DatabaseClasses)
> 
>   > con <- dbConnect("RPgSQL", ...)
>   > attach(con)
>   > ls(pos=2)
>   [1] table1  table2 ...
>   > median(table1$fieldX)
>   > exists("table2", where=2)
>   > remove("table4", where=2)
>   > assign("newTable4", my.results, where = 2)

This is also one of the things I've been thinking about.  However, there are some
problems matching database tables to data frames.  Data frames assume deterministic
random access to rows, but databases generally do not.  The backend is free to
change the order of the rows at any time after receiving a query and before returning
the result.  So to effectively proxy db tables, you have to enforce row ordering
explicitely by adding a "row_number" column and update it on every insertion and
deletion (unless of course,the data frame model were changed to only allow sequential,
cursor based access---but I'll save that for a different proposal!).  As a result,
it may make sense to limit "attaching" of databases only to databases where R has
control over the schema, i.e., the database is created in R and only accessed through
R (and so can force a row number column on each table).  If you allow attachment of
arbitrary databases, it will be easy to corrupt the row ordering.

> We could implement this for any DBMS *provided* we define 
> the various R methods read/write/exists methods in terms of the
> base class "dbConnection" and not in terms of the individual
> RMySQL, RODBC, RPgSQL (otherwise each new R<dbms> driver would be required
> to implement the attached methods, the proxyTable methods, ....)
> 
> Following the approach above, it would be very simple to attach
> a DBMS and treat *all* the tables as db.proxy independently of the
> actual DBMS (provided the methods are, again, defined in terms of
> the common base "dbConnection").
> 

Absolutely; we just have to define a minimal set of primitives needed to support
proxying (but see comments above).

> 
> I would suggest that, if the the query generates a result, dbSendQuery 
> retuns a "result set" or "cursor" object.  Imagine the result is 
> huge -- that could easily kill the R process.  This object ("cursor" or
> "result set") could have some methods to fetch(cur, n = num.rows),
> plus some self-description to show its state -- e.g. to show the
> query being procesed, plus methods to tell us how many rows we've
> fetched so far, etc.  Even if dbSendQuery() does not generate output,
> we may still want to have some way of querying what happen with the
> operation;  for instance, how many rows were affected by the operation
> 
>     > rs <- dbSendQuery(conn, "delete from TABLE1 where id = 1234")
>     > if(rowsAffected(rs) != 1){
>          ## oops, something isn't quite right!
>     +    rollback(conn)
>     + }
> 
> In many situation, users may not want to bother with this level
> of detail -- all they may want is to get the data.  For this I'd follow
> the ODBC(?) "execute immediate" idea and implement a very similar 
> method for those cases when you know want to do the "dbSendQuery" 
> and "fetch" in one scoop, say "dbExec" or something like it.
> 

I was avoiding "result" objects based on the argument that its better to
use normal R operations to access data whenever possible (so users don't
have to learn yet another data interface).  However, I agree with your
argument here and adding result objects is easily done.  Having two
functions as in RODBC is a good solution.  Alternatively, we could
have "as.data.frame.Rdbi.conn <- function(connObj)..."
 
> Miscellaneous 
> -------------
> 
> The following are some issues that have been brought up
> either through private conversations and/or during the DSC 2001
> workshop.
> 
> 1. Data Type Conversions:
> 
> Another set of generic functions that we may need to consider 
> could include functions to specify data conversions: for instance,
> a generic getDataType(dbObj, s.atomic.object) that would return the
> appropriate data type on the remote DBMS associated with "conn".
> For instance, if "ora" and "pg" are Oracle and PostgreSQL connections,
> respectively, the expressions
> 
>   > x.int <- as.integer(x)
>   > ora.int <- getDataType(ora, x.int)
>   > pg.int <- getDataType(pg, x.int)	
> 
> would return possibly different DBMS-specific SQL data type for the same   
> integer (and possibly different for the same DBMS, in the case
> of R and Splus, as Brian Ripley has pointed out, I believe in the 
> R Data Import/Export manual(?)).
> 
> We would also need the reverse DBMS type -> R/S object.
> 
> Finally, there'll be times that we cannot automatically convert
> non-primitive objects (images? sound?) to/from DBMS and R/S -- we
> should have a mechanism to allow user to specify their own conversion
> functions.  We need to think of a "user-friendly" mechanism to do this.

I made a stab at this in RPgSQL.  See "types.R"  Also, do we want to do
column and table name conversion?  I do this in RPgSQL, but I'm finding
that it can lead to confusing situations.

> 
> 2. DBMS vs R/S identifiers:
> 
> Do we need/want to handle for the user the mapping between
> remote identifiers (e.g., "TABLE_ABC") and R/S?  This could
> be easily implemented using the ideas in data mapping ideas above.
> 
> 3. Transactions:
> 
> Do we want to define generic functions to manage transactions? 

Probably not.  This should be transparent to users.  Do you have
examples of where it is needed?  (Again, I'm trying to avoid transfering
the entire SQL programming interface into R and only provide the bits
needed to move data back and forth.)

> 
> 4. Remote Objects:
> 
> If we decide that having "cursor/result set" objects is desirable,
> then we should note that they are similar to "dbConnection" objects
> in the sense that they are "remote object," i.e., R objects that reference
> remote objects, (remote db object, to be more precise).  All these remote
> objects may share some common functionality:  all remote objects need 
> to be validated before they are passed to the DBMS (e.g., dbConnectionOk),
> we need to ensure that we free the (remote) resources even in the
> case of errors/exceptions, perhaps through judicious use of on.exit()
> (see also Luke Tierney's "Simple References with Finalization"
> http://developer.r-project.org/simpleref.html, but keep in mind that 
> this may/may not be portable to S-plus.)

I'll take a look.  It sounds useful.  (Oops, I couldn't resolve the URL.)
 
> 5. Naming convention:
> 
> We could use (as you are suggesting) a naming convention consisting
> of concatenated words with capitalization for non-starting 
> words, e.g., dbDisconnect).  The traditional R/S way is to separate 
> words with ".", e.g., "read.table".  I don't have too strong a preference,
> but perhaps we should be explicit about it?
> 

I'm agnostic here.  I've been using my experimental Rdbi package for the last
week or so and find that I like the "dbConnect" naming, but I would go with
whatever people wanted.

I have a package ready to distribute for testing.  Its actually a package cluster
with "Rdbi.base" and "Rdbi.PgSQL."  I've moved the main read loop out of R and
into C and now get around 200K integer reads a second (includes copying results
into a data frame).  I'm happy for someone to take over from here (or to propose
an alternative framework).  Perhaps we can make it a group effort (transfer copyright
to the R project, etc.)  I would suggest that we start with the absolute minimal
interface and add features very carefully.  It would be great to see a general
database framework make it into a future release of R.

Tim 
-- 
Timothy H. Keitt
Department of Ecology and Evolution
State University of New York at Stony Brook
Phone: 631-632-1101, FAX: 631-632-7626
http://life.bio.sunysb.edu/ee/keitt/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Apr  2 22:56:44 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 2 Apr 2001 22:56:44 +0100 (BST)
Subject: [Rd] generic database access methods
In-Reply-To: <3AC8F176.3090805@StonyBrook.Edu>
Message-ID: <Pine.GSO.4.31.0104022247390.18788-100000@auk.stats>

On Mon, 2 Apr 2001, Timothy H. Keitt wrote:

> I have a package ready to distribute for testing.  Its actually a package cluster
> with "Rdbi.base" and "Rdbi.PgSQL."  I've moved the main read loop out of R and
> into C and now get around 200K integer reads a second (includes copying results
> into a data frame).  I'm happy for someone to take over from here (or to propose
> an alternative framework).  Perhaps we can make it a group effort (transfer copyright
> to the R project, etc.)  I would suggest that we start with the absolute minimal
> interface and add features very carefully.  It would be great to see a general
> database framework make it into a future release of R.

Three comments:

(1) We are still trying to figure out how to set up a framework for
discussions of this sort (Martin: any progress on SIG lists)?

(2) It is unlikely that this will `make it into a future release of R', as
our aim is to make R smaller not larger.  Rather, what we would like (I
believe) is a `Recommended Package' that fits alongside R.  We intend to
unbundle quite a lot of what is already there so R has a small kernel and
lots of addons.  There are practical reasons (embedding in other
applications) as well as aesthetic ones.

(3) This is an area where common solutions across R/S would be very
welcome.

Lots of things came out of the Vienna meeting, and some of us at least
had/have still to catch up on our day jobs too, so please bear with us
while we get things set up.  A unified databases interface is definitely on
the list.

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Apr  3 02:19:01 2001
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Mon, 02 Apr 2001 20:19:01 -0500
Subject: [Rd] lstat and NFS server not responding
Message-ID: <3AC916F5.373D48A7@bank-banque-canada.ca>

In a somewhat unusual circumstance I have been having trouble when
making R from source and with "R CMD build dse"
forcing the machine to look for an NFS server which was not available,
and then stalling. Our system administrator traced this back to the fact
that these go through all the directories back to "/" , doing an lstat
on everything. He suggests that that seems odd, but it doesn't take long
normally.  The problem was apparently caused by the fact that something
(possible a cdrom) on /mnt had not been unmounted properly.

We have fixed the problem but since it was rather difficult to track
down I thought  I would point it out in case others experience a similar
difficulty. Also, is there a good explanation for doing an lstat on
everything up to /?

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Apr  3 07:06:47 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 3 Apr 2001 07:06:47 +0100 (BST)
Subject: [Rd] lstat and NFS server not responding
In-Reply-To: <3AC916F5.373D48A7@bank-banque-canada.ca>
Message-ID: <Pine.GSO.4.31.0104030657280.22896-100000@auk.stats>

On Mon, 2 Apr 2001, Paul Gilbert wrote:

> In a somewhat unusual circumstance I have been having trouble when
> making R from source and with "R CMD build dse"
> forcing the machine to look for an NFS server which was not available,
> and then stalling. Our system administrator traced this back to the fact
> that these go through all the directories back to "/" , doing an lstat
> on everything. He suggests that that seems odd, but it doesn't take long
> normally.  The problem was apparently caused by the fact that something
> (possible a cdrom) on /mnt had not been unmounted properly.
>
> We have fixed the problem but since it was rather difficult to track
> down I thought  I would point it out in case others experience a similar
> difficulty. Also, is there a good explanation for doing an lstat on
> everything up to /?

Do you know what was doing it?  Since R CMD build is basically a Perl
program, I can only guess that Perl was doing this, and it looks like a
Perl quirk/bug that perhaps you need to track down and report (if your Perl
version is current).  One thing I did notice is that the R scripts use
Cwd::getcwd in Perl when the manual page recommends Cwd::cwd, and reading
the code suggests Cwd::getcwd is the culprit.  (Any explanation,
Fritz/Kurt?)

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.C.Rougier@durham.ac.uk  Tue Apr  3 10:10:33 2001
From: J.C.Rougier@durham.ac.uk (Jonathan Rougier)
Date: Tue, 3 Apr 2001 10:10:33 +0100 (BST)
Subject: [Rd] Detaching "ctest"
In-Reply-To: <15044.46028.686427.367469@mithrandir.hornik.net>
Message-ID: <Pine.GSO.4.20.0104031001530.13680-100000@laplace>

On Fri, 30 Mar 2001, Kurt Hornik wrote:

> >>>>> Peter Dalgaard BSA writes:
> 
> > ...
> 
> >> configure("packages")
> 
> > which could do different things depending on whether you were using a
> > GUI, terminal interface, ESS, or maybe even batch mode. In simple
> > modes it might simply be based on edit()ing the output of
> 
> >   data.frame(package=.packages(all=T),
> >              load=!is.na(match(.packages(all=T),.packages())))
> 
> > - although you might want to distinguish between the usual profile-ish
> > things (site-level/user-level/directory-level/workspace-specific) too.
> > With a GUI, you'd likely want something with checkboxes instead.
> 
> Nice idea!  Two remarks.
> 
> * We might want similar ways of setting `preferences' such as options.
>   [E.g., via something like Emacs M-x customize, or in a GUI style.]
> 
> * In any case, as far as I am concerned the real problem is not having a
>   convenient interface but on agreeing on what the choices should be,
>   and how well-educated users or site admins need to be to make the
>   right choices.  E.g., when it comes to setting a default profile for
>   packages, how does the user find out which packages he wants?

I certainly agree with this last point.  However, the problem is lessened
if the user can use .Rprofile to tune the set-up.  The current arrangement
prevents that (or, at least, makes it rather inelegant) by using .First to
load ctest (and, in the future, other mandatory packages?).  It seems to
me that in an ideal world .Rprofile would be the very last thing invoked
before the prompt.  That way whatever set-up is put in place by the system
administrator or the default, the individual user still has control.

Cheers, Jonathan.

Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Apr  3 14:31:39 2001
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 03 Apr 2001 09:31:39 -0400
Subject: [Rd] lstat and NFS server not responding
References: <Pine.GSO.4.31.0104030657280.22896-100000@auk.stats>
Message-ID: <3AC9D0BB.6C0B6138@bank-banque-canada.ca>

>Do you know what was doing it?  Since R CMD build is basically a Perl
>program, I can only guess that Perl was doing this, and it looks like a
>Perl quirk/bug that perhaps you need to track down and report (if your Perl
>version is current).  One thing I did notice is that the R scripts use
>Cwd::getcwd in Perl when the manual page recommends Cwd::cwd, and reading
>the code suggests Cwd::getcwd is the culprit.  (Any explanation,
>Fritz/Kurt?)

Yes, I'm almost certain it is in the Perl but I don't know much more than that. I'm
using Perl version 5.004_04 built for sun4-solaris.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Apr  3 14:57:25 2001
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 03 Apr 2001 09:57:25 -0400
Subject: [Rd] extratests (wishlist item)
Message-ID: <3AC9D6C5.28965243@bank-banque-canada.ca>

I have now reorganized most of my tests into the tests subdirectories of my packages
and I do like the R CMD check mechanism for running them. However, I have a certain
number of tests  which I can only run on certain machines (e.g. because of memory
requirements or special database requirements), or just take too long to run
regularly. I have organized these into an artificial separate package. It would make
more sense to keep these with the packages to which they belong. Would it be possible
sometime to add a subdirectory of extra tests which can be run with the same
mechanism as the tests subdirectory but not as a regular part of R CMD check?

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Timothy.Keitt@StonyBrook.Edu  Tue Apr  3 15:21:46 2001
From: Timothy.Keitt@StonyBrook.Edu (Timothy H. Keitt)
Date: Tue, 03 Apr 2001 10:21:46 -0400
Subject: [Rd] generic database access methods
References: <Pine.GSO.4.31.0104022247390.18788-100000@auk.stats>
Message-ID: <3AC9DC7A.9040401@StonyBrook.Edu>

Prof Brian D Ripley wrote:

> On Mon, 2 Apr 2001, Timothy H. Keitt wrote:
>
> believe) is a `Recommended Package' that fits alongside R.  We intend to
> unbundle quite a lot of what is already there so R has a small kernel and
> lots of addons.  There are practical reasons (embedding in other
> applications) as well as aesthetic ones.

Sounds entirely reasonable.

> while we get things set up.  A unified databases interface is definitely on
> the list.
> 

Great.

Tim

-- 
Timothy H. Keitt
Department of Ecology and Evolution
State University of New York at Stony Brook
Phone: 631-632-1101, FAX: 631-632-7626
http://life.bio.sunysb.edu/ee/keitt/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From David James <dj@research.bell-labs.com>  Tue Apr  3 15:31:40 2001
From: David James <dj@research.bell-labs.com> (David James)
Date: Tue, 3 Apr 2001 10:31:40 -0400 (EDT)
Subject: [Rd] generic database access methods
Message-ID: <200104031431.KAA20097@jessie.research.bell-labs.com>

On Mon, 2 Apr 2001, Prof Brian D Ripley wrote:

>
> On Mon, 2 Apr 2001, Timothy H. Keitt wrote:
> 
> > I have a package ready to distribute for testing.  Its actually a package 
cluster
> > with "Rdbi.base" and "Rdbi.PgSQL."  I've moved the main read loop out of R 
and
> > into C and now get around 200K integer reads a second (includes copying 
results
> > into a data frame).  I'm happy for someone to take over from here (or to 
propose
> > an alternative framework).  Perhaps we can make it a group effort (transfer 
copyright
> > to the R project, etc.)  I would suggest that we start with the absolute 
minimal
> > interface and add features very carefully.  It would be great to see a 
general
> > database framework make it into a future release of R.
> 
> Three comments:
> 
> (1) We are still trying to figure out how to set up a framework for
> discussions of this sort (Martin: any progress on SIG lists)?

Okay, we can wait.

> 
> (2) It is unlikely that this will `make it into a future release of R', as
> our aim is to make R smaller not larger.  Rather, what we would like (I
> believe) is a `Recommended Package' that fits alongside R.  We intend to
> unbundle quite a lot of what is already there so R has a small kernel and
> lots of addons.  There are practical reasons (embedding in other
> applications) as well as aesthetic ones.

IMHO it's a good idea -- "small is beatiful".

> (3) This is an area where common solutions across R/S would be very
> welcome.

Absolutely.

> 
> Lots of things came out of the Vienna meeting, and some of us at least
> had/have still to catch up on our day jobs too, so please bear with us
> while we get things set up.  A unified databases interface is definitely on
> the list.
> 
> Brian
> 
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ernesto@ipimar.pt  Tue Apr  3 16:03:08 2001
From: ernesto@ipimar.pt (ernesto@ipimar.pt)
Date: Tue, 3 Apr 2001 17:03:08 +0200 (MET DST)
Subject: [Rd] Importing from Splus (PR#891)
Message-ID: <200104031503.RAA17822@pubhealth.ku.dk>

Full_Name: Ernesto Jardim
Version: 1.2.2
OS: SuSE Linux 6.4
Submission from: (NULL) (193.137.98.92)


I wanted to import an array, dim=c(28,12,17), from splus into R.On splus I did

dump(c("array"),file="dump.out)

I checked and Splus could source it.

Than, in R I tryied to source it with:

source("dump.out")

and got and error message:

> source("dump.out")
Error in eval.with.vis(expr, envir, enclos) :
        couldn't find function "new"



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Tue Apr  3 16:46:23 2001
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich Leisch)
Date: Tue, 3 Apr 2001 17:46:23 +0200
Subject: [Rd] lstat and NFS server not responding
In-Reply-To: <Pine.GSO.4.31.0104030657280.22896-100000@auk.stats>
References: <3AC916F5.373D48A7@bank-banque-canada.ca>
 <Pine.GSO.4.31.0104030657280.22896-100000@auk.stats>
Message-ID: <15049.61519.782716.944265@galadriel.ci.tuwien.ac.at>

>>>>> On Tue, 3 Apr 2001 07:06:47 +0100 (BST),
>>>>> Prof Brian D Ripley (PBDR) wrote:

  > On Mon, 2 Apr 2001, Paul Gilbert wrote:
  >> In a somewhat unusual circumstance I have been having trouble when
  >> making R from source and with "R CMD build dse"
  >> forcing the machine to look for an NFS server which was not available,
  >> and then stalling. Our system administrator traced this back to the fact
  >> that these go through all the directories back to "/" , doing an lstat
  >> on everything. He suggests that that seems odd, but it doesn't take long
  >> normally.  The problem was apparently caused by the fact that something
  >> (possible a cdrom) on /mnt had not been unmounted properly.
  >> 
  >> We have fixed the problem but since it was rather difficult to track
  >> down I thought  I would point it out in case others experience a similar
  >> difficulty. Also, is there a good explanation for doing an lstat on
  >> everything up to /?

  > Do you know what was doing it?  Since R CMD build is basically a Perl
  > program, I can only guess that Perl was doing this, and it looks like a
  > Perl quirk/bug that perhaps you need to track down and report (if your Perl
  > version is current).  One thing I did notice is that the R scripts use
  > Cwd::getcwd in Perl when the manual page recommends Cwd::cwd, and reading
  > the code suggests Cwd::getcwd is the culprit.  (Any explanation,
  > Fritz/Kurt?)

No particular reason ... the only one is that I've always used getcwd
(and didn't even know that cwd exists). My manpage says ``It is
recommended that cwd (or another *cwd() function) is used in all code
...'' which I wouldn't take as a particulartly strong recommendation
for cvw, but I'd be fine.

Paul, could you try if that fixes your problem (i.e., replace all
occurrences of ``getcwd'' by ``Cwd::cwd'' in the build script and run
it again)?

Thanks in advance,
Fritz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Apr  3 16:58:28 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 03 Apr 2001 17:58:28 +0200
Subject: [Rd] Importing from Splus (PR#891)
In-Reply-To: ernesto@ipimar.pt's message of "Tue, 3 Apr 2001 17:03:08 +0200 (MET DST)"
References: <200104031503.RAA17822@pubhealth.ku.dk>
Message-ID: <x2ae5y3rh7.fsf@blueberry.kubism.ku.dk>

ernesto@ipimar.pt writes:

> Full_Name: Ernesto Jardim
> Version: 1.2.2
> OS: SuSE Linux 6.4
> Submission from: (NULL) (193.137.98.92)
> 
> 
> I wanted to import an array, dim=c(28,12,17), from splus into R.On splus I did
> 
> dump(c("array"),file="dump.out)
> 
> I checked and Splus could source it.
> 
> Than, in R I tryied to source it with:
> 
> source("dump.out")
> 
> and got and error message:
> 
> > source("dump.out")
> Error in eval.with.vis(expr, envir, enclos) :
>         couldn't find function "new"
> 

Works OK for me from Splus 3.4 to R 1.2.2.... 

Does it happen with smaller arrays too, and could we see (parts of)
the actual dump file?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Apr  3 17:29:54 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 3 Apr 2001 17:29:54 +0100 (BST)
Subject: [Rd] Importing from Splus (PR#891)
In-Reply-To: <200104031503.RAA17822@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.31.0104031727090.10524-100000@toucan.stats>

On Tue, 3 Apr 2001 ernesto@ipimar.pt wrote:

> Full_Name: Ernesto Jardim
> Version: 1.2.2
> OS: SuSE Linux 6.4
> Submission from: (NULL) (193.137.98.92)
>
>
> I wanted to import an array, dim=c(28,12,17), from splus into R.On splus I did

Which version of S-PLUS?  If 5.x or 6.x, this was the wrong command,
as you needed oldStyle = T for S3 (and hence R) compatibility.


> dump(c("array"),file="dump.out)
>
> I checked and Splus could source it.
>
> Than, in R I tryied to source it with:
>
> source("dump.out")
>
> and got and error message:
>
> > source("dump.out")
> Error in eval.with.vis(expr, envir, enclos) :
>         couldn't find function "new"

But can we see the dump, or at least the part containing `new"?

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Apr  3 17:37:37 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 3 Apr 2001 17:37:37 +0100 (BST)
Subject: [Rd] lstat and NFS server not responding
In-Reply-To: <15049.61519.782716.944265@galadriel.ci.tuwien.ac.at>
Message-ID: <Pine.GSO.4.31.0104031732110.10524-100000@toucan.stats>

On Tue, 3 Apr 2001, Friedrich Leisch wrote:

> >>>>> On Tue, 3 Apr 2001 07:06:47 +0100 (BST),
> >>>>> Prof Brian D Ripley (PBDR) wrote:
>
>   > On Mon, 2 Apr 2001, Paul Gilbert wrote:
>   >> In a somewhat unusual circumstance I have been having trouble when
>   >> making R from source and with "R CMD build dse"
>   >> forcing the machine to look for an NFS server which was not available,
>   >> and then stalling. Our system administrator traced this back to the fact
>   >> that these go through all the directories back to "/" , doing an lstat
>   >> on everything. He suggests that that seems odd, but it doesn't take long
>   >> normally.  The problem was apparently caused by the fact that something
>   >> (possible a cdrom) on /mnt had not been unmounted properly.
>   >>
>   >> We have fixed the problem but since it was rather difficult to track
>   >> down I thought  I would point it out in case others experience a similar
>   >> difficulty. Also, is there a good explanation for doing an lstat on
>   >> everything up to /?
>
>   > Do you know what was doing it?  Since R CMD build is basically a Perl
>   > program, I can only guess that Perl was doing this, and it looks like a
>   > Perl quirk/bug that perhaps you need to track down and report (if your Perl
>   > version is current).  One thing I did notice is that the R scripts use
>   > Cwd::getcwd in Perl when the manual page recommends Cwd::cwd, and reading
>   > the code suggests Cwd::getcwd is the culprit.  (Any explanation,
>   > Fritz/Kurt?)
>
> No particular reason ... the only one is that I've always used getcwd
> (and didn't even know that cwd exists). My manpage says ``It is
> recommended that cwd (or another *cwd() function) is used in all code
> ...'' which I wouldn't take as a particulartly strong recommendation
> for cvw, but I'd be fine.

The code says (5.6.0)

# The 'natural and safe form' for UNIX (pwd may be setuid root)

sub _backtick_pwd {
    my $cwd;
    chop($cwd = `pwd`);
    $cwd;
}

# Since some ports may predefine cwd internally (e.g., NT)
# we take care not to override an existing definition for cwd().

*cwd = \&_backtick_pwd unless defined &cwd;

which looks like a recommendation for cwd to me.

> Paul, could you try if that fixes your problem (i.e., replace all
> occurrences of ``getcwd'' by ``Cwd::cwd'' in the build script and run
> it again)?

(just cwd seems to work.)

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jhallman@frb.gov  Tue Apr  3 20:52:46 2001
From: jhallman@frb.gov (jhallman@frb.gov)
Date: Tue, 3 Apr 2001 21:52:46 +0200 (MET DST)
Subject: [Rd] rle() fails with NA's (PR#892)
Message-ID: <200104031952.VAA19642@pubhealth.ku.dk>

Full_Name: Jeff Hallman
Version: 1.2.2
OS: Solaris
Submission from: (NULL) (132.200.32.33)


> rle(c(1, NA, 1)
$lengths
[1] 3

$values
[1] 1

should be as in Splus:

$lengths
[1] 1 1 1

$values
[1] 1 NA 1

The Splus implementation (which works fine in R) is:

rle <- function(x){
 if(!is.atomic(x))
    stop("Argument must have an atomic mode")
  if(length(x) == 0)
    return(list(lengths = numeric(0), values = x))
  if(length(x) == 1)
    return(list(lengths = 1, values = x))
  x.int <- match(x, unique(x))
  ends <- c(diff(x.int) != 0, T)
  list(lengths = diff(c(0, seq(along = x)[ends])), values = x[ends])
}


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Richard.Beare@cmis.csiro.au  Wed Apr  4 08:24:41 2001
From: Richard.Beare@cmis.csiro.au (Richard Beare)
Date: Wed, 04 Apr 2001 17:24:41 +1000
Subject: [Rd] Rprintf under windows?
Message-ID: <3ACACC39.224AE267@cmis.csiro.au>

Hi,

I've been using Rprintf from a shared library compiled under various
unix flavour for a while now. I get a warning about Rprintf being
undefined when constructing the library, but everything works OK after
loading.

I've also been cross compiling the same library using the mingw32 tools
for a while now, but the inclusion of Rprintf seems to be messing up
this process. It can't handle the missing symbol. Is anyone aware of a
trick with the mingw32 stuff to get around this?
Thanks

-- 
Richard Beare, CSIRO Mathematical & Information Sciences
Locked Bag 17, North Ryde, NSW 1670, Australia
Phone: +61-2-93253221 (GMT+~10hrs)  Fax: +61-2-93253200

Richard.Beare@cmis.csiro.au
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Apr  4 09:07:34 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 4 Apr 2001 09:07:34 +0100 (BST)
Subject: [Rd] Rprintf under windows?
In-Reply-To: <3ACACC39.224AE267@cmis.csiro.au>
Message-ID: <Pine.LNX.4.31.0104040902270.8373-100000@gannet.stats>

On Wed, 4 Apr 2001, Richard Beare wrote:

> Hi,
>
> I've been using Rprintf from a shared library compiled under various
> unix flavour for a while now. I get a warning about Rprintf being
> undefined when constructing the library, but everything works OK after
> loading.
>
> I've also been cross compiling the same library using the mingw32 tools
> for a while now, but the inclusion of Rprintf seems to be messing up
> this process. It can't handle the missing symbol. Is anyone aware of a
> trick with the mingw32 stuff to get around this?
> Thanks

The `trick' is to read the introductory documentation.

R-exts.texi has

The recommended procedure to use these is to include the header file
@file{R.h} in your C code by

@example
#include <R.h>
@end example

If you do that, Rprintf *is* defined (via R_ext/Print.h)

That said, I have never seen problems under Windows, so are you doing
that properly (using the correct import library)?

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gfhjgq@yahoo.com  Wed Apr  4 11:12:13 2001
From: gfhjgq@yahoo.com (gfhjgq@yahoo.com)
Date: Wed, 4 Apr 2001 12:12:13 +0200 (MET DST)
Subject: [Rd] ghhfh (PR#894)
Message-ID: <200104041012.MAA27161@pubhealth.ku.dk>

Full_Name: hjghjg
Version: 2.3
OS: windows
Submission from: (NULL) (196.12.46.150)


fasdfdsfasdfsd

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gfhjgq@yahoo.com  Wed Apr  4 11:12:03 2001
From: gfhjgq@yahoo.com (gfhjgq@yahoo.com)
Date: Wed, 4 Apr 2001 12:12:03 +0200 (MET DST)
Subject: [Rd] ghhfh (PR#893)
Message-ID: <200104041012.MAA27139@pubhealth.ku.dk>

Full_Name: hjghjg
Version: 2.3
OS: hghj
Submission from: (NULL) (196.12.46.150)


fasdfdsfasdfsd

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Wed Apr  4 12:42:59 2001
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich Leisch)
Date: Wed, 4 Apr 2001 13:42:59 +0200
Subject: [Rd] RE: [R] Can't install "e1071"
In-Reply-To: <Pine.LNX.4.31.0104031120530.995-100000@shell1.aracnet.com>
References: <8156A6FE684ED21194D20008C756F8DFA015B1@independence.esperion.com>
 <Pine.LNX.4.31.0104031120530.995-100000@shell1.aracnet.com>
Message-ID: <15051.2243.738040.641325@galadriel.ci.tuwien.ac.at>


[ taken from r-help to r-devel, which is the more appropriate place for
questions like this ]


>>>>> On Tue, 3 Apr 2001 11:22:52 -0700 (PDT),
>>>>> M Edward (Ed) Borasky (ME(B) wrote:

  > Here's the Windows version of this problem:

the problem is different, because the previous problems were with the
netpbm libraries (and hence not in my domain), whereas all the svm
code (where your problem seems to be) does not rely on external libraries.

  > F:\Team\R-20010325\ContributedSources>Rcmd INSTALL e1071*.gz

  > make: Entering directory `/cygdrive/d/rw1023/src/gnuwin32'
  > make DLLNM=  EXTRADOCS= \
  >   -C F:/Team/R-20010325/ContributedSources/R.INSTALL/e1071 PKG=e1071 RHOME=D:/rw
  > 1023 RLIB=D:/rw1023/library \
  >   -f D:/rw1023/src/gnuwin32/MakePkg
  > make[1]: Entering directory `/cygdrive/f/Team/R-20010325/ContributedSources/R.IN
  > STALL/e1071'
  > if [ ! -f ./TITLE -a -f ./DESCRIPTION ] ; then \
  >   perl D:/rw1023/share/perl/maketitle.pl ./DESCRIPTION > TITLE; \
  > fi
  > ---------- Making package e1071 ------------
  > mkdir -p D:/rw1023/library/e1071
  > cp -r   ./DESCRIPTION  ./INDEX  ./TITLE ./COPYING ./COPYRIGHT.svm.cpp ./README D
  > :/rw1023/library/e1071/
  >    adding build stamp to DESCRIPTION
  >   installing R files
  >   making DLL
  > make[2]: Entering directory `/cygdrive/f/Team/R-20010325/ContributedSources/R.IN
  > STALL/e1071/src'
  > make[3]: `libR.a' is up to date.
  > gcc    -ID:/rw1023/src/include -include D:/rw1023/src/include/globalvar.h  -Wall
  >  -O2   -c Rsvm.c -o Rsvm.o
  > Rsvm.c:3: svm.h: No such file or directory

Ahh, I see the bug: david included <svm.h> instead of "svm.h" ... I
think this should fix the problem. Could you try replacing

#include <svm.h>

with

#include "svm.h"

in Rsvm.c?

Thanks,
Fritz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From plummer@iarc.fr  Wed Apr  4 13:16:20 2001
From: plummer@iarc.fr (Martyn Plummer)
Date: Wed, 04 Apr 2001 14:16:20 +0200 (CEST)
Subject: [Rd] Can't install "e1071"
In-Reply-To: <15051.2243.738040.641325@galadriel.ci.tuwien.ac.at>
Message-ID: <XFMail.20010404141620.plummer@iarc.fr>

I have done a little digging, and the problem with netpbm on Red Hat
linux 7.0 is due to them not using the standard install mechanism for
the header files.  I have submitted a bug report (#34653). We'll see
what they say, but I hope they can get this fixed for 7.1

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Wed Apr  4 21:21:15 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Wed, 04 Apr 2001 22:21:15 +0200
Subject: [Rd] icon bitmap
Message-ID: <3ACB823B.B154899A@univie.ac.at>

do we have an "official"
16x16 bitmap of the R icon?

the windows distribution has a 32x32 icon.
i need a 16x16 version.
has somebody created one,
or should i just "downsample".


--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kylouskova@euromise.cz  Thu Apr  5 10:02:48 2001
From: kylouskova@euromise.cz (kylouskova@euromise.cz)
Date: Thu, 5 Apr 2001 11:02:48 +0200 (MET DST)
Subject: [Rd] CI for wilcoxon test (PR#895)
Message-ID: <200104050902.LAA07697@pubhealth.ku.dk>

Full_Name: Marketa Kylouskova
Version: 1.2.1
OS: Windows
Submission from: (NULL) (147.231.7.2)


Hi,
	I believe there is a bug in the extension of wilcox.test, namely in
determination of confidence intervals. I concentrated on the two-sample test
only. I examined and tested its performance on this working data set:

x<-rnorm(10,3,1)		# So I have two samples, I will test whether
y<-rnorm(10,0,1)		# x is greater than y, i.e. one-sided alternative greater

say 
x<-c(3.770684,4.654342,3.496403,1.772743,1.624953,2.645835,3.099477,1.706758,3.507709,1.982924)
y<-c(-0.8161288,0.1632923,0.6421997,1.9270846,-0.4668112,0.3587806,0.3312529,-0.5393900,
0.1057892,1.7963575)

then

wilcox.test(x,y,alternative="greater",conf.int=T)

gives

         Wilcoxon rank sum test 

data:  x and y 
W = 94, p-value = 0.0001624 
alternative hypothesis: true mu is greater than 0 
95 percent confidence interval:
 -3.344416        NA 

which is apparently contradictory (p-value is much less than 0.05 while exact CI
contains 0). I examined the code and I found that while the exact wilcoxon test
is applied on ranks of x (thus testing that mu = x  y is greater than 0), the
exact CI is computed based on differences y - x, hence finding a CI for mu = y 
x). The same applies, in my opinion, to approximative CI, where he optimization
interval is set as (mumin,mumax) with

mumin <- min(y) - max(x)
mumax <- max(y) - min(x)

I didnt go through other aspects, although I believe that the continuity
correction should be checked if some changes are made, and also that some closer
look onto definitions of uci and lci in the exact CI computations should be made
(here it depends on your definition of the CI for exact distributions, i.e.
whether the CI = {uci<=mu<lci} (then I think its OK) or CI = {uci<=mu<=lci}
(then I think lci= diffs[ql] and not diffs[ql + 1]). Could this be specified in
the documentation?

Thank you in advance for checking my suspicions :) and for your reaction.

	Marketa Kylouskova
	kylouskova@euromise.cz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Marketa.Kylouskova@euromise.cz  Thu Apr  5 11:31:12 2001
From: Marketa.Kylouskova@euromise.cz (Marketa.Kylouskova@euromise.cz)
Date: Thu, 5 Apr 2001 12:31:12 +0200 (MET DST)
Subject: [Rd] Optimize: difference between R for Linux and Windows (PR#896)
Message-ID: <200104051031.MAA09137@pubhealth.ku.dk>


--Message-Boundary-4491
Content-type: text/enriched; charset=US-ASCII
Content-transfer-encoding: 7BIT
Content-description: Mail message body

<flushboth><color><param>0100,0100,0100</param><FontFamily><param>Times New Roman</param>Dear developers,</flushboth>

<flushboth>	I have a problem with some discrepancy in the performance of the 
function <FontFamily><param>Courier New</param><smaller>optimize<FontFamily><param>Times New Roman</param><bigger> between R 1.2.1 for Windows and R 1.2.2 (and less) 
for Linux. While trying to correct the wilcox.test (see my previous bug 
report) I encountered the following problem: I wanted to check the 
behaviour of the function <FontFamily><param>Courier New</param><smaller>wdiff<FontFamily><param>Times New Roman</param><bigger> used in the search for CI limits.</flushboth>


<paraindent><param>out</param><FontFamily><param>Courier New</param><smaller>x<<-rnorm(10,3,1)	</paraindent>

<paraindent><param>out</param>y<<-rnorm(10,0,1)	<bigger></paraindent>


<paraindent><param>out</param><FontFamily><param>Times New Roman</param><bigger>say </paraindent>


<flushboth><FontFamily><param>Courier New</param><smaller>x<<-
c(3.770684,4.654342,3.496403,1.772743,1.624953,2.645835,
3.099477,1.706758,3.507709,1.982924)</flushboth>

<flushboth>y<<-c(-0.8161288,0.1632923,0.6421997,1.9270846,-
0.4668112,0.3587806,0.3312529,-0.5393900,</flushboth>

<flushboth>0.1057892,1.7963575)</flushboth>


<paraindent><param>out</param>mu<<-0</paraindent>

<paraindent><param>out</param>n.x<<-length(x)</paraindent>

<paraindent><param>out</param>n.y<<-length(y)</paraindent>


<paraindent><param>out</param>wdiff <<- function(d, zq) {</paraindent>

<paraindent><param>out</param>   	dr <<- rank(c(x- mu -d,y))</paraindent>

<paraindent><param>out</param>   	NTIES.CI <<- table(dr)</paraindent>

<paraindent><param>out</param>   	dz <<- (sum(dr[seq(along = x)]) - n.x * (n.x + 1)/2 -
 n.x * n.y/2)</paraindent>

<paraindent><param>out</param>	CORRECTION.CI<<-0</paraindent>

<paraindent><param>out</param>   SIGMA.CI <<- sqrt((n.x * n.y/12) * ((n.x + n.y + 1) - 
sum(NTIES.CI^3 - NTIES.CI)/((n.x + n.y) * (n.x + 
n.y - 1))))</paraindent>

<paraindent><param>out</param>   dz <<- (dz - CORRECTION.CI)/SIGMA.CI</paraindent>

<paraindent><param>out</param>   abs(dz - zq)</paraindent>

<paraindent><param>out</param>}</paraindent>


<flushboth><FontFamily><param>Times New Roman</param><bigger>To examine the behivour I plotted the course of the <FontFamily><param>Courier New</param><smaller>wdiff<FontFamily><param>Times New Roman</param><bigger> for a lot of d 
and three zq (0.05, 0.5, 0.95) and I let optimize to compute the minimums. 
Then I plotted it. </flushboth>


<paraindent><param>out</param><FontFamily><param>Courier New</param><smaller>mumin<<-min(x)-max(y)</paraindent>

<paraindent><param>out</param>mumax<<-max(x)-min(y) </paraindent>


<paraindent><param>out</param>lll<<-seq(mumin,mumax,by=0.01)</paraindent>

<paraindent><param>out</param>wdl<<-apply(cbind(lll),1,wdiff,zq=qnorm(0.05))</paraindent>

<paraindent><param>out</param>wdm<<-apply(cbind(lll),1,wdiff,zq=qnorm(0.50))</paraindent>

<paraindent><param>out</param>wdu<<-apply(cbind(lll),1,wdiff,zq=qnorm(0.95))</paraindent>


<paraindent><param>out</param>plot(lll,wdl,type="l")</paraindent>

<paraindent><param>out</param>lines(lll,wdm,lty=4)</paraindent>

<paraindent><param>out</param>lines(lll,wdu,lty=7)</paraindent>



<paraindent><param>out</param>ol<<-
optimize(wdiff,c(mumin,mumax),zq=qnorm(0.05))$minimu
m</paraindent>

<paraindent><param>out</param>om<<-optimize(wdiff,c(mumin,mumax),zq=qnorm(0.5))$minimum</paraindent>

<paraindent><param>out</param>ou<<-
optimize(wdiff,c(mumin,mumax),zq=qnorm(0.95))$minimu
m</paraindent>


<paraindent><param>out</param>abline(v=ol)</paraindent>

<paraindent><param>out</param>abline(v=om,lty=4)</paraindent>

<paraindent><param>out</param>abline(v=ou,lty=7)</paraindent>



<flushboth><FontFamily><param>Times New Roman</param><bigger>When it ran on my home Linux (R 1.2.2 (2001-02-26) Compiled from 
source tarball on Linux with gcc version 2.95.2 19991024) it computed the 
minimum for zq = 0.05 only, for the others it found something totally 
wrong (see attached figure shouldntbe.gif). Then I checked it at work on 
S+2000 and R 1.2.1 for Windows and it gave the correct results and 
picture (see attached figure shouldbe.gif). Could you, please, advise me 
whether the problem stands in the platform version or in my compiled 
version, and what should I do to make it work properly?</flushboth>


<flushboth>Thank you very much for your help.</flushboth>


<flushboth>	Marketa Kylouskova</flushboth>

<flushboth>	{ HYPERLINK "mailto:marketa@ucw.cz" }marketa@ucw.cz</flushboth>

<flushboth>	kylouskova@euromise.cz</flushboth>



<nofill>

--Message-Boundary-4491
Content-type: text/plain; charset=US-ASCII
Content-disposition: inline
Content-description: Attachment information.

The following section of this message contains a file attachment
prepared for transmission using the Internet MIME message format.
If you are using Pegasus Mail, or any another MIME-compliant system,
you should be able to save it or view it from within your mailer.
If you cannot, please ask your system administrator for assistance.

   ---- File information -----------
     File:  shouldbe.gif
     Date:  5 Apr 2001, 11:35
     Size:  6826 bytes.
     Type:  GIF-image

--Message-Boundary-4491
Content-type: Image/GIF; name="shouldbe.gif"
Content-disposition: attachment; filename="shouldbe.gif"
Content-transfer-encoding: BASE64

R0lGODdhGANjAvcAAAAAAIAAAACAAICAAAAAgIAAgACAgMDAwMDcwKbK8EAgAGAgAIAgAKAg
AMAgAOAgAABAACBAAEBAAGBAAIBAAKBAAMBAAOBAAABgACBgAEBgAGBgAIBgAKBgAMBgAOBg
AACAACCAAECAAGCAAICAAKCAAMCAAOCAAACgACCgAECgAGCgAICgAKCgAMCgAOCgAADAACDA
AEDAAGDAAIDAAKDAAMDAAODAAADgACDgAEDgAGDgAIDgAKDgAMDgAODgAAAAQCAAQEAAQGAA
QIAAQKAAQMAAQOAAQAAgQCAgQEAgQGAgQIAgQKAgQMAgQOAgQABAQCBAQEBAQGBAQIBAQKBA
QMBAQOBAQABgQCBgQEBgQGBgQIBgQKBgQMBgQOBgQACAQCCAQECAQGCAQICAQKCAQMCAQOCA
QACgQCCgQECgQGCgQICgQKCgQMCgQOCgQADAQCDAQEDAQGDAQIDAQKDAQMDAQODAQADgQCDg
QEDgQGDgQIDgQKDgQMDgQODgQAAAgCAAgEAAgGAAgIAAgKAAgMAAgOAAgAAggCAggEAggGAg
gIAggKAggMAggOAggABAgCBAgEBAgGBAgIBAgKBAgMBAgOBAgABggCBggEBggGBggIBggKBg
gMBggOBggACAgCCAgECAgGCAgICAgKCAgMCAgOCAgACggCCggECggGCggICggKCggMCggOCg
gADAgCDAgEDAgGDAgIDAgKDAgMDAgODAgADggCDggEDggGDggIDggKDggMDggODggAAAwCAA
wEAAwGAAwIAAwKAAwMAAwOAAwAAgwCAgwEAgwGAgwIAgwKAgwMAgwOAgwABAwCBAwEBAwGBA
wIBAwKBAwMBAwOBAwABgwCBgwEBgwGBgwIBgwKBgwMBgwOBgwACAwCCAwECAwGCAwICAwKCA
wMCAwOCAwACgwCCgwECgwGCgwICgwKCgwMCgwOCgwADAwCDAwEDAwGDAwIDAwKDAwP/78KCg
pICAgP8AAAD/AP//AAAA//8A/wD//////ywAAAAAGANjAgAI/gD/CRxIsKDBgwgTKlzIsKHD
hxAjSpxIsaLFixgzatzIsaPHjyBDihxJsqTJkyhTqlzJsqXLlzBjypxJs6bNmzhz6tzJs6fP
n0CDCh1KtKjRo0iTKl3KtKnTp1CjSp1KtarVq1izat3KtavXr2DDih1LtqzZs2jTql3Ltq3b
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
XXXXZbddd9+FN15556W3XnsjDQgAOw==
--Message-Boundary-4491
Content-type: text/plain; charset=US-ASCII
Content-disposition: inline
Content-description: Attachment information.

The following section of this message contains a file attachment
prepared for transmission using the Internet MIME message format.
If you are using Pegasus Mail, or any another MIME-compliant system,
you should be able to save it or view it from within your mailer.
If you cannot, please ask your system administrator for assistance.

   ---- File information -----------
     File:  shouldntbe.gif
     Date:  5 Apr 2001, 11:35
     Size:  42371 bytes.
     Type:  GIF-image

--Message-Boundary-4491
Content-type: Image/GIF; name="shouldntbe.gif"
Content-disposition: attachment; filename="shouldntbe.gif"
Content-transfer-encoding: BASE64

R0lGODdhDAJhAvcAAAQCBHyKbFxCHKzCnFxiTLSKbDwSBMSmfNzi1IRiPEwqBIxyTGxCJNzC
nJSifGxSLLSadJyCXFQ2FNS2lOzSrDQWBJxyVKyOZIRqRHxSNCwOBDweBPz29GQ6HMyujMSe
fKyCZPzivAQKBLSSbOzGpFw+FOzWzEwiBExWRJx6VJRqTHxaNJR6VGxKJLyifPTatIxiRFwy
FKSKZFw2FOS+nLSShAwCBGRKJMTStMymhEwyFHRaNLyadNS+nIxqREQmBPTm5KR6XIRaPGRy
XJRyTOTGvKSCXNSujPzqxHRKLGRCHOTKpHRSLNy2lKyWbDQOBEQeBKyKZLySdIxqVHxiPDwa
BOTq3IRiTFQuDOTCnPzWtKyOdMSejOzOrJx+ZPzatFw6JMzaxJR2XKSGbNSunAQGBJSWlMSm
jKy+lLSedFQ6FPTSrCQiJGQ+HMSifPzmvAwKBLSWbEwmBJx+VHxeRGxONIxmRFw6FAwGB8yq
ibyee4xuTIRePpR2VKSGZNSykmRGJKyqrHR+ZNTW1FxWXJyujFxqVIyefFReTLTCrPz+/Oze
1KyKfISOdLyWfMzWvOzu5NTezHRWPNy2pGRuVFQyElw+JNy+nPTOrLSObTwWBcSqhIRmREwu
DGxGJdzGpDQaBJx2VqySbHxWNiwSDPz6/KyGZuzKp5RuTXxePJR+XGxOLLSWfKR+XvzuzHRO
LXRWNNy6lzQSBUQiBeTGpPzevPTWtLTGpNzm1NS6lMyyjLyWdIxuVIRmTKySdAQCDFxCJMSm
hIRiREwqDIxyVGxSNLSafJyCZFQ2HDQWDKyObIRqTDweDGQ6JMSehPzixAQKDLSSdFw+HEwi
DJx6XHxaPJR6XGxKLLyihIxiTKSKbFw2HAwCDGRKLMymjHRaPLyafIxqTEQmDIRaRJRyVKSC
ZNSulPzqzGRCJHRSNDQODEQeDKyKbHxiRDwaDOTq5FQuFOTCpPzavAQGDLSefFQ6HPTStGQ+
JMSihPzmxAwKDLSWdEwmDJx+XIxmTFw6HCwAAAAADAJhAgAI/gDL9RNYLoIfgwaNmDJykJ0f
UxH4AIgwRsaYKH6iXNyosSPHi9ouhByZKUomGcoujIiiTEY0UZlEFYBJM6ZNUS9fZnISjafP
nj33QdgVR4oTR0chGAU3dKixXU13PaW3i6oxHvSwas3K1Y2LDzxcgBNLdqyeA3rcpF2LT08w
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
aQ56kxs6o4vjpAs5pFc6kid5o2+6pHM6k2e6o7c5evrsO3JrLWs3BEvjjKv43h66Ypfqng7m
qke2nKv3izfym4t19jrhfHf5OP/5rpv0/n6jI6Z3uqs7dfZauX0b+6SfI4/zqZ96eqZXMrND
45lXe6RHO7YXO7dLe8FiOdMSraCXeHGeeKA/4Xrnei4bOSI3NKzXdxirOrmj+mK3brpLNr17
NbuiO6hnN0brOI1rI6Qjercbegh/daFLsLcrO0ryeVIXPGVv+146/MI3M7RLPMZD/JjDbDeG
eDCb44tf8l8/443rOZ7bdjOHa08vO0CWfLn7eTCbPBe6fOu6JLLnedVKY6+Heje3s/kOtsFC
qsNfvMZnO7X/PMFzebInPcZD58D/ZdEvfcU/eXg2+0xPfdFn/bRzPJ37fElrMVfDe6o74bWb
ahmcfE6WqkxW/uzaA+O7P2PZG333tn0Zlj25qn2+17i2k73SgzVX3jp+/qrH5+kblrfWe/2u
0/2n+7q2F7sEX3Yp2yTRe3usFjvkg2yYL/vkZzzWd76rm/jEDzPeU6RdS/Ncj2UUGr7MYnYZ
UPz2Nue7B7txDq6Z3juZ5/2v474Vqr7Yu/upqvsxZnbrs75mp7ztE2yC1m1+t7rf7qfriyN0
z/eoez7MR/rmj/7oc/7Lz6bd22jBK/31U/nzh7/c1+jhnz+Sh7h0SzcpM7e3wn3KI33f23xl
ryz8H3o3xuHOo3XVo3piCiZAQFI0kGBBgwcREhRocOFAABwSDlw4MWJFixcVYrQI/kBix4wa
ETYsKFIRSZAnUaaMWOrhQIgQFb10OTJhQ5YwP3osmVMnwlKlDprUSbJh0ZxGhx6NyAEAUJRM
ae6USnGqR5NXg0alytBqz65SuVYVS3Urz4JQvwpNOjZtW7cfybpl6rRiXLZhiUa9a5ev2757
/TrkKbJsWYVlzOpFqpggzK2Ls6qUDLZhmb+UHeKcHDKyXo1qOV8EvRmrVI6jxXrdnJh1Sstv
VQodjXp1bZQsweamDVdw3twRfUulG1op47WYjy82yrFuTqYAoDsODJh16ctIDWNPPv2y6pjM
YQPnHj712r8UwdfkTd2s3fXnx1OHP7YMdOifyRNMD1p5/uuYOCE7brsBkSswIebcWwk328T7
zUGMZvOsQQYdbKgl0b6i8MGedjsQtg4729A7DUmMqKmfYnoPJKpuUq9AtQKMccISXQRrLou0
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

--Message-Boundary-4491--

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Marketa.Kylouskova@euromise.cz  Thu Apr  5 12:19:42 2001
From: Marketa.Kylouskova@euromise.cz (Marketa.Kylouskova@euromise.cz)
Date: Thu, 5 Apr 2001 13:19:42 +0200 (MET DST)
Subject: [Rd] PR#896
Message-ID: <200104051119.NAA09993@pubhealth.ku.dk>

Sorry to all that are angry about the form of my previous mail. I 
didn't realise what would happen :((.

Here it is in (hopefully) plain text (if my mailer doesn't spoil it again):

##############

Dear developers,
	I have a problem with some discrepancy between R 1.2.1 for 
Windows and R 1.2.2 (and less) for Linux. While trying to correct 
the wilcox.test (see my previous bug report) I encountered the 
following problem: I wanted to check the behaviour of the function 
wdiff used in the search for CI limits.

x<-rnorm(10,3,1)	
y<-rnorm(10,0,1)	
say 

x<-
c(3.770684,4.654342,3.496403,1.772743,1.624953,2.645835,3.0994
77,1.706758,3.507709,1.982924)
y<-c(-0.8161288,0.1632923,0.6421997,1.9270846,-
0.4668112,0.3587806,0.3312529,-0.5393900,
0.1057892,1.7963575)

mu<-0
n.x<-length(x)
n.y<-length(y)

wdiff <- function(d, zq) {
   	dr <- rank(c(x- mu -d,y))
   	NTIES.CI <- table(dr)
   	dz <- (sum(dr[seq(along = x)]) - n.x * (n.x + 1)/2 - n.x * n.y/2)
	CORRECTION.CI<-0
   SIGMA.CI <- sqrt((n.x * n.y/12) * ((n.x + n.y + 1) - 
sum(NTIES.CI^3 - NTIES.CI)/((n.x + n.y) * (n.x + n.y - 1))))
   dz <- (dz - CORRECTION.CI)/SIGMA.CI
   abs(dz - zq)
}

To examine the behivour I plotted the course of the wdiff for a lot of 
d and three zq (0.05, 0.5, 0.95) and I let optimize to compute the 
minimums. Then I plotted it. 

mumin<-min(x)-max(y)
mumax<-max(x)-min(y) 

lll<-seq(mumin,mumax,by=0.01)
wdl<-apply(cbind(lll),1,wdiff,zq=qnorm(0.05))
wdm<-apply(cbind(lll),1,wdiff,zq=qnorm(0.50))
wdu<-apply(cbind(lll),1,wdiff,zq=qnorm(0.95))

plot(lll,wdl,type="l")
lines(lll,wdm,lty=4)
lines(lll,wdu,lty=7)


ol<-optimize(wdiff,c(mumin,mumax),zq=qnorm(0.05))$minimum
om<-optimize(wdiff,c(mumin,mumax),zq=qnorm(0.5))$minimum
ou<-optimize(wdiff,c(mumin,mumax),zq=qnorm(0.95))$minimum

abline(v=ol)
abline(v=om,lty=4)
abline(v=ou,lty=7)


When it ran on my home Linux (R 1.2.2 (2001-02-26) Compiled 
from source tarball on Linux with gcc version 2.95.2 19991024) it 
computed the minimum for zq = 0.05 only, for the others it found 
something totally wrong (three curves with "valleys", one line 
indicating the right minimum, one line indicating where the 
computed minimum surely doesn't lie; moreover, it was the same 
for both 0.5 and 0.95). Then I checked it at work on S+2000 and R 
1.2.1 for Windows and it gave the correct results and picture (three 
curves with "valleys" and three lines indicating where the minimum 
lies). Could you, please, advise me whether the problem stands in 
the platform version or in my compiled version, and what should I 
do to make it work properly?

Thank you very much for your help.

	Marketa Kylouskova
	marketa@ucw.cz
	kylouskova@euromise.cz

 



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From plummer@iarc.fr  Thu Apr  5 16:14:11 2001
From: plummer@iarc.fr (Martyn Plummer)
Date: Thu, 05 Apr 2001 17:14:11 +0200 (CEST)
Subject: [Rd] Can't install "e1071"
In-Reply-To: <XFMail.20010404141620.plummer@iarc.fr>
Message-ID: <XFMail.20010405171411.plummer@iarc.fr>

On 04-Apr-2001 Martyn Plummer wrote:
> I have done a little digging, and the problem with netpbm on Red Hat
> linux 7.0 is due to them not using the standard install mechanism for
> the header files.  I have submitted a bug report (#34653). We'll see
> what they say, but I hope they can get this fixed for 7.1

Hmmmm.  I'm not the first person to submit this bug, and I won't be the
last.  Users keep submitting it and Red Hat keeps closing it, claiming
that the bug is resolved.  There is no official erratum/update, despite
the fact the version of netpbm-devel that ships with Red Hat 7.0 is
unusable.  But apparently the version on Rawhide (Red Hat's rolling beta
release) does fix this problem.  So users should go and download that.

Right.

I'm going to lie down now.

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From David James <dj@research.bell-labs.com>  Thu Apr  5 17:15:45 2001
From: David James <dj@research.bell-labs.com> (David James)
Date: Thu, 5 Apr 2001 12:15:45 -0400 (EDT)
Subject: [Rd] Re: [R] Hmisc and Design libraries
Message-ID: <200104051615.MAA10251@jessie.research.bell-labs.com>

Great news!  

Having spent a significant amount of time porting/mantaining some 
packages on S4/Splus 5.x and R, I'm interested in your experience 
as you port Hmisc and Design; I'd like to know of your progress in 
order to help improve available R/Splus portability tools both at the C and 
the S language code.   These tools include the package SLanguage written 
by John Chambers, and the C macros ported to R by Duncan Temple Lang, 
Brian Ripley, Saikat DebRoy (and others?) in "Rdefines.h";  the core macros 
are mainly those in Appendix A of the green book (Chambers, "Programming 
with Data"), but you'll probably need to write additional ones, as I have 
done for my own packages. [BTW, Rdefines.h needs to be updated in R 1.2.2 
(and previous 1.2.x?) -- details will follow when I submit a bug report on 
this.]

Notice that by portability we/I typically mean "from Splus -> R", but
more and more we may start seeing "R->Splus" as well.

Should we think of forming an R/Splus portability SIG (Special Interest Group)?

Regards,

David A. James
Statistics Research, Room 2C-253            Phone:  (908) 582-3082       
Bell Labs, Lucent Technologies              Fax:    (908) 582-3340
Murray Hill, NJ 09794-0636
----------------------------------------------------------------------
> Date: Thu, 05 Apr 2001 10:31:42 -0400
> From: Frank E Harrell Jr <fharrell@virginia.edu>
> X-Accept-Language: en
> MIME-Version: 1.0
> To: rhelp <r-help@stat.math.ethz.ch>
> Subject: [R] Hmisc and Design libraries
> Content-Transfer-Encoding: 7bit
> 
> After several nice and informative discussions with Bill Venables,
> Duncan Temple Lang, Tony Rossini, Martin Maechler, and Robert
> Gentleman, I am pleased to announce that I am becoming an R user
> and have begun porting the Hmisc and Design libraries to R. 
> I have been very impressed with the maturity of R and with its 
> logical design, particularly its online documentation setup and
> the way packages are downloaded and installed, not to mention the
> scoping rules and other fundamentals.  Another factor that has
> influenced me is the excellent book "Rebel Code" by Glyn Moody
> which chronicles the open source movement and Linux.  I wish
> to especially thank Bill Venables for his friendly wisdom.
> 
> My guess is that porting the libraries can be largely
> accomplished in the next 4 months (there are about
> 350 functions), especially if any experienced R programmers
> who want to use the libraries would like to help.  I am
> in the process of setting up an ssh-accessed CVS repository
> for each library so that functions can be checked in and
> out.  Anyone wanting to help will of course get plenty
> of acknowledgement.  I have already debugged about 1/4
> of the Hmisc library under R.
> 
> Descriptions of functions in my libraries may be found
> at http://hesweb1.med.virginia.edu/biostat/s/splus.html
> 
> As I will be maintaining the libraries for S-Plus (both
> Windows and Linux/Unix versions, S version 3 and 4
> languages) and for R, I would appreciate learning how
> other users who do the same set up their directories
> to facilitate distributing libraries for both R and
> S-Plus in a way that is also consistent with CVS.  In
> other words, I would like to be able to construct
> distributions suitable for CRAN without making it too
> hard to run Unix/Linux shell scripts that also create
> S-Plus distributions.  I am using a single code base
> for all platforms except for Fortran and C code
> where I allow for single precision objects in S-Plus.
> 
> As I am now Microsoft-free (one of my colleagues creates
> Microsoft Windows files for S-Plus; I have found that
> Linux is amazingly more reliable and powerful than
> Windows.  I have set up a web page at
> http://hesweb1.med.virginia.edu/biostat/s/linux.setup.html
> to help Windows users set up Linux) I am honestly not 
> motivated to do special work to make a Windows distribution
> for R.  If a Windows R user who has suitable Fortran and
> C compilers wishes to periodically create a Windows
> distribution once the libraries work under R on
> Linux/Unix that would be great.
> 
> I am very glad to join the talented R community, and look
> forward to collaborating with other users.
> 
> Sincerely,
> 
> Frank Harrell
> -- 
> Frank E Harrell Jr              Prof. of Biostatistics & Statistics
> Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
> U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request@stat.math.ethz.ch
> 
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Apr  5 20:19:00 2001
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 05 Apr 2001 14:19:00 -0500
Subject: [Rd] welcome aboard
References: <3ACC81CE.8767522A@virginia.edu>
Message-ID: <3ACCB714.10AB00A4@bank-banque-canada.ca>

Frank
>As I will be maintaining the libraries for S-Plus (both
>Windows and Linux/Unix versions, S version 3 and 4
>languages) and for R, I would appreciate learning how
>other users who do the same set up their directories
>to facilitate distributing libraries for both R and
>S-Plus in a way that is also consistent with CVS.  In
>other words, I would like to be able to construct
>distributions suitable for CRAN without making it too
>hard to run Unix/Linux shell scripts that also create
>S-Plus distributions.

I have have just completed a multi-year transition from developing my
code in Splus and  wanting it to run also in R, to developing in R and
wanting it to run also in Splus. (I still only use Splus 3.3.) The code
was never a big issue for me as I have been careful to avoid anything
depending on fundamental differences between R and S.

Although I have been using R for many years (mainly to avoid debugging
For loops) the real start of my transition was the remarkable support
for help documentation starting sometime just before R 1.0. The final
act was to move all my test programs from my own ad hoc system to R's
tests directories, so that the tests are run by R CMD check. With a few
scripts and a Makefile I now mimic R's approach to run my tests in Splus
and to generate html help for S. I would be happy to send these if you
are interested. I maintain about 1000 functions in a dozen packages
organized into three bundles (one of which I do not distribute).

There is no problem  using  CVS, but I use it only for co-ordinating my
home version with my work version, so there may be complications I am
not aware of. I don't use Windows and there are undoubtedly
complications, although I think I now have my packages in a state where
there are no serious problems.

Here are a few points you may want to consider.

1/ Up until very recently I tried to mimic a few S functions in R. I
have just converted to mimicking the R conventions in S and I find it
works much better. To do this I have S functions for a few things like
is.R(), Platform(), Sys.info(). This works better, in part because the
cross platform issues are very well thought out in R. (But to be fair,
in S I only try to make it work in Unix and I have not been changing
versions.) I will distribute these functions, but it would make sense to
have a common effort if others are interested.

2/ In the few cases where I need a slightly different definition of
something for S, I keep the functions in an S subdirectory in the R
package structure. I source these first when I build the S version, and
then I use is.R() to avoid redefining them when I source code from the R
subdirectory.

3/ If there is a logical way to divide things up into multiple packages
(and perhaps put them together into a bundle) then it is a good idea. It
is much quicker to build and test changes this way. (At least once you
get the dependencies worked out.)

4/ I keep fortran code in the R package src directory and my Splus
install script compiles it there. For R/S code I essentially build an R
like package for Splus and then have an install script that sources
things from the S and R subdirectories to generate .Data.

Best of luck with your effort, and let me know if you would like my
Makefile or any of my scripts or other code.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Thu Apr  5 20:30:11 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Thu, 5 Apr 2001 21:30:11 +0200
Subject: [Rd] Detaching "ctest"
In-Reply-To: <Pine.GSO.4.20.0104031001530.13680-100000@laplace>
References: <15044.46028.686427.367469@mithrandir.hornik.net>
 <Pine.GSO.4.20.0104031001530.13680-100000@laplace>
Message-ID: <15052.51139.270582.27097@mithrandir.hornik.net>

>>>>> Jonathan Rougier writes:

> On Fri, 30 Mar 2001, Kurt Hornik wrote:
>> >>>>> Peter Dalgaard BSA writes:
>> 
>> > ...
>> 
>> >> configure("packages")
>> 
>> > which could do different things depending on whether you were using a
>> > GUI, terminal interface, ESS, or maybe even batch mode. In simple
>> > modes it might simply be based on edit()ing the output of
>> 
>> >   data.frame(package=.packages(all=T),
>> >              load=!is.na(match(.packages(all=T),.packages())))
>> 
>> > - although you might want to distinguish between the usual profile-ish
>> > things (site-level/user-level/directory-level/workspace-specific) too.
>> > With a GUI, you'd likely want something with checkboxes instead.
>> 
>> Nice idea!  Two remarks.
>> 
>> * We might want similar ways of setting `preferences' such as options.
>> [E.g., via something like Emacs M-x customize, or in a GUI style.]
>> 
>> * In any case, as far as I am concerned the real problem is not having a
>> convenient interface but on agreeing on what the choices should be,
>> and how well-educated users or site admins need to be to make the
>> right choices.  E.g., when it comes to setting a default profile for
>> packages, how does the user find out which packages he wants?

> I certainly agree with this last point.  However, the problem is
> lessened if the user can use .Rprofile to tune the set-up.  The
> current arrangement prevents that (or, at least, makes it rather
> inelegant) by using .First to load ctest (and, in the future, other
> mandatory packages?).  It seems to me that in an ideal world .Rprofile
> would be the very last thing invoked before the prompt.  That way
> whatever set-up is put in place by the system administrator or the
> default, the individual user still has control.

But this is exactly what happens---settings from .Rprofile do override
the system and site defaults.  The question is whether .First should be
used for package setup, or something else ...

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kohnicho@comp.nus.edu.sg  Fri Apr  6 09:13:57 2001
From: kohnicho@comp.nus.edu.sg (Nicholas Lewin-Koh)
Date: Fri, 6 Apr 2001 16:13:57 +0800 (GMT-8)
Subject: [Rd] Pointers to external objects
In-Reply-To: <15052.51139.270582.27097@mithrandir.hornik.net>
Message-ID: <Pine.GSO.4.21.0104061555280.8991-100000@sununx.comp.nus.edu.sg>

Hi,
I am starting to work on some data structures (quad trees, bounding box
trees etc.) I would like to build these structures in C, and essentially
have a new primative data type accessible that is persistant through an R
session and can be written and retrived from .RData .

I think this is possible from my reading of the documentation, but I am
not exactly sure how to do it. In the R lang manual in section 2 objects
there is a mention of typeof returning externalptr I think this is what i
want. Let me try to be a bit more specific because i am getting confused
too.

> kdtree<-build.tree(x,y,...) # two vectors of x and y coordinates 
                              # kdtree is a list of class tree and
                              # contains a pointer to the actual tree
                              # stucture
> objects.in.range(kdtree,xmin,xmax,ymin,ymax) # returns a list of 
                                               # external pointers to the
                                               # data with x,y in the
                                               # given range 
> q() # quit the R session, but if the user saves the session then kdtree
      # is saved and can be recovered when the user restarts R

I know I could do this using lists, but I am trying to keep the memory
overhead down.

Thanks,
Nicholas  



                 CH3
                  |
                  N             Nicholas Lewin-Koh
                 / \            Dept of Statistics
           N----C   C==O        Program in Ecology and Evolutionary Biology
          ||   ||   |           Iowa State University
          ||   ||   |           Ames, IA 50011
          CH    C   N--CH3      http://www.public.iastate.edu/~nlewin
            \  / \ /            nlewin@iastate.edu
             N    C
             |   ||             Currently
            CH3   O             Graphics Lab
                                School of Computing
                                National University of Singapore
     The Real Part of Coffee    kohnicho@comp.nus.edu.sg


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@stat.umn.edu  Fri Apr  6 13:06:33 2001
From: luke@stat.umn.edu (Luke Tierney)
Date: Fri, 6 Apr 2001 07:06:33 -0500 (CDT)
Subject: [Rd] Pointers to external objects
In-Reply-To: <Pine.GSO.4.21.0104061555280.8991-100000@sununx.comp.nus.edu.sg>
 from Nicholas Lewin-Koh at "Apr 6, 2001 04:13:57 pm"
Message-ID: <200104061206.f36C6XD75674@muskrat.stat.umn.edu>

Nicholas Lewin-Koh wrote:
> Hi,
> I am starting to work on some data structures (quad trees, bounding box
> trees etc.) I would like to build these structures in C, and essentially
> have a new primative data type accessible that is persistant through an R
> session and can be written and retrived from .RData .
> 
> I think this is possible from my reading of the documentation, but I am
> not exactly sure how to do it. In the R lang manual in section 2 objects
> there is a mention of typeof returning externalptr I think this is what i
> want. Let me try to be a bit more specific because i am getting confused
> too.
> 
> > kdtree<-build.tree(x,y,...) # two vectors of x and y coordinates 
>                               # kdtree is a list of class tree and
>                               # contains a pointer to the actual tree
>                               # stucture
> > objects.in.range(kdtree,xmin,xmax,ymin,ymax) # returns a list of 
>                                                # external pointers to the
>                                                # data with x,y in the
>                                                # given range 
> > q() # quit the R session, but if the user saves the session then kdtree
>       # is saved and can be recovered when the user restarts R
> 
> I know I could do this using lists, but I am trying to keep the memory
> overhead down.
> 

External pointers can be used to manage lifetimes of externally
allocated data within a single R session.  If an external pointer is
saved its pointer address is saved as NULL (or maybe it isn't saved at
all--I forget) but restoring an external pointer from a saved
workspace will produce an external pointer with NULL for its pointer
address.  The reason for this is that there is no automatic way to
save or restore the appropriate memory layout that the pointer refers
to.

Ideally to support this sort of thing we would need a customizable
serialization (or pickling/unpickling so use the Python terms)
mechanism, but that isn't available now.

For now, your best bet is probably to do somehting like

    build.tree(x,y,...) returns list(data=list(x,y,...), internal=<externptr>)

to save in your object enough R data to allow the internal structure
to be rebuilt, and in the C code that uses the external pointer make
sure the pointer address is valid with something like

	if (extenal pointer value is NULL) {
           ptr = make new tree from data
           store in external pointer with R_SetExternalPtrAddr 
        }

Saving your R object in a workspace will then save the data needed for
rebuilding the internal structure in a new session.

You could also use the Protected field in external pointer objects for
saving the data needed for reconstruction.

Hope that helps.

luke

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke@stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kuensch@stat.math.ethz.ch  Fri Apr  6 15:21:29 2001
From: kuensch@stat.math.ethz.ch (kuensch@stat.math.ethz.ch)
Date: Fri, 6 Apr 2001 16:21:29 +0200 (MET DST)
Subject: [Rd] bug in contour() ? (PR#897)
Message-ID: <200104061421.QAA26081@pubhealth.ku.dk>

The following example just "hangs", i.e.
the final contour() does not terminate.

x <- pi*(0.5+((-13):12))/36
w <- 0.377*cos(2*x)*sqrt(abs(cos(2*x)))
v <- c(rep(-1.47,13),rep(1.722,13))*abs(sin(x))^1.5
cr  <- outer(w,w)+outer(v,v)
s <- sqrt(diag(cr))
cr <- cr/outer(s,s)
contour(cr[1:26,26:1],levels=seq(-1,1,0.1),axes=T)




--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = 
 major = 1
 minor = 2.2
 year = 2001
 month = 02
 day = 26
 language = R

Search Path:
 .GlobalEnv, package:ctest, package:SfS, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ligges@statistik.uni-dortmund.de  Fri Apr  6 15:42:10 2001
From: ligges@statistik.uni-dortmund.de (ligges@statistik.uni-dortmund.de)
Date: Fri, 6 Apr 2001 16:42:10 +0200 (MET DST)
Subject: [Rd] bug in contour() ? (PR#897)
Message-ID: <200104061442.QAA27053@pubhealth.ku.dk>

kuensch@stat.math.ethz.ch wrote:
> 
> The following example just "hangs", i.e.
> the final contour() does not terminate.
> 
> x <- pi*(0.5+((-13):12))/36
> w <- 0.377*cos(2*x)*sqrt(abs(cos(2*x)))
> v <- c(rep(-1.47,13),rep(1.722,13))*abs(sin(x))^1.5
> cr  <- outer(w,w)+outer(v,v)
> s <- sqrt(diag(cr))
> cr <- cr/outer(s,s)
> contour(cr[1:26,26:1],levels=seq(-1,1,0.1),axes=T)
> 
> --please do not edit the information below--
> 
> Version:
>  platform = i686-pc-linux-gnu
>  arch = i686
>  os = linux-gnu
>  system = i686, linux-gnu
>  status =
>  major = 1
>  minor = 2.2
>  year = 2001
>  month = 02
>  day = 26
>  language = R


... and R crashes on WinNT 4.0.

Uwe Ligges

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Fri Apr  6 16:03:13 2001
From: bates@stat.wisc.edu (Douglas Bates)
Date: 06 Apr 2001 10:03:13 -0500
Subject: [Rd] Review of R-1.1.1
Message-ID: <6rae5u6pfy.fsf@franz.stat.wisc.edu>

Stephen P. Ellner of Cornell University has reviewed R-1.1.1 in the
April 2001 issue of "Bulletin of the Ecological Society of America"
(vol. 82, no. 2, pp. 127-128).
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Fri Apr  6 16:49:34 2001
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Fri, 6 Apr 2001 08:49:34 -0700 (PDT)
Subject: [Rd] bug in contour() ? (PR#897)
In-Reply-To: <200104061421.QAA26081@pubhealth.ku.dk>
Message-ID: <Pine.A41.4.33.0104060843400.89396-100000@homer01.u.washington.edu>

On Fri, 6 Apr 2001 kuensch@stat.math.ethz.ch wrote:

> The following example just "hangs", i.e.
> the final contour() does not terminate.
>
> x <- pi*(0.5+((-13):12))/36
> w <- 0.377*cos(2*x)*sqrt(abs(cos(2*x)))
> v <- c(rep(-1.47,13),rep(1.722,13))*abs(sin(x))^1.5
> cr  <- outer(w,w)+outer(v,v)
> s <- sqrt(diag(cr))
> cr <- cr/outer(s,s)
> contour(cr[1:26,26:1],levels=seq(-1,1,0.1),axes=T)

It's following a list that ends up being circular (loop of about 10
entries) around plot3d.c:697.

I don't understand the code that sets up the segment database, but
presumably there's a bug there. The loop happens in the same place under
gctorture, so I don't think it's memory management.

	-thomas


> --please do not edit the information below--
>
> Version:
>  platform = i686-pc-linux-gnu
>  arch = i686
>  os = linux-gnu
>  system = i686, linux-gnu
>  status =
>  major = 1
>  minor = 2.2
>  year = 2001
>  month = 02
>  day = 26
>  language = R
>
> Search Path:
>  .GlobalEnv, package:ctest, package:SfS, Autoloads, package:base
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

Thomas Lumley			Asst. Professor, Biostatistics
tlumley@u.washington.edu	University of Washington, Seattle
^^^^^^^^^^^^^^^^^^^^^^^^
 NOTE NEW EMAIL ADDRESS


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Fri Apr  6 20:40:18 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Fri, 6 Apr 2001 21:40:18 +0200
Subject: [Rd] aclocal.m4: R_PROG_F77_CC_COMPAT assumes executables w/o extension (PR#890)
In-Reply-To: <200104020722.JAB25499@pubhealth.ku.dk>
References: <200104020722.JAB25499@pubhealth.ku.dk>
Message-ID: <15054.7074.935714.663518@mithrandir.hornik.net>

>>>>> hoffmann  writes:

> Full_Name: Thomas Hoffmann
> Version: 1.2.2 (and older)
> OS: HP-UX, OS/2
> Submission from: (NULL) (141.30.125.20)


> The test defined in AC_DEFUN([R_PROG_F77_CC_COMPAT] (aclocal.m4:342) produces
> an executable using (in line 393)

> if ${CC-cc} ${LDFLAGS} ${MAIN_LDFLAGS} -o conftest conftest.o \ ....

> This fails on systems that use an extension for executables, which can be
> used via $ac_exeext in configure files. So it should read instead

> if ${CC-cc} ${LDFLAGS} ${MAIN_LDFLAGS} -o conftest$ac_exeext
> conftest.o \ ....

Correct in theory, but is this a problem in practice?  Currently the
configure mechanism is only used on Unix, and I am not aware of a Unix
system which uses an extension for executables ...

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Fri Apr  6 22:21:42 2001
From: p.dalgaard@biostat.ku.dk (p.dalgaard@biostat.ku.dk)
Date: Fri, 6 Apr 2001 23:21:42 +0200 (MET DST)
Subject: [Rd] Re: closing a bug report (PR#781)
Message-ID: <200104062121.XAA28621@pubhealth.ku.dk>

Paul Gilbert <pgilbert@bank-banque-canada.ca> writes:

> Peter
> 
> I'm not sure how to close a bug report. This problem should be fixed in the version
> now loaded on CRAN, although there may be other still to be discovered problems under
> Windows.
> 
> Paul Gilbert
> _____
> * PR# 781 *
> Subject: syskern fails Rcmd check on Windows, gives incorrect information
> From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
> Date: Wed, 20 Dec 2000 11:12:47 +0000 (GMT)
> --Partially fixed by dse_2000.12, but still uses "ls" and gives
> --incorrect information

Mailing to r-bugs with (PR#nnn) in the subject should at least get the
message filed in the right place and cause the PR to be moved to
-fixed next time someone sets out to tidy up the repository.

(I took the liberty of doing just that with this note, hope that it's
not too indiscreet to quote your letter for that purpose.)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pd@pubhealth.ku.dk  Sat Apr  7 06:15:06 2001
From: pd@pubhealth.ku.dk (Peter Dalgaard BSA)
Date: Sat, 7 Apr 2001 07:15:06 +0200
Subject: [Rd] Bug list summary (automatic post)
Message-ID: <200104070515.HAA20784@blueberry.kubism.ku.dk>

=================================================
This is an automated summary of the status of the R-bugs
repository.

Note that this may be neither complete nor perfectly
correct at any given instance: Not all bugs are reported,
and some reported bugs may have been fixed, but the
repository not yet updated.

Some bug fixes are difficult to verify because they pertain
to specific hardware or operating system versions. If you
have information to contribute, please do so.

If you happen to know how to fix a problem please send
patches to the bug repository, too.

New bugs are reported either through the web
interface at r-bugs.r-project.org or via email to
r-bugs@r-project.org. The bug.report() function can be
used to automate parts of the procedure on many systems.
Followups on older bugs can be done by including the string
"(PR#999)" in the Subject of an email (change 999 to the
actual reference number, of course!).
=================================================

Directory:  Accuracy

* PR# 751 *
Subject: BUG: polyroot()
From: "Li Dongfeng" <mavip1@inet.polyu.edu.hk>
Date: Tue, 28 Nov 2000 13:24:33 +0800
--Numerical instability. We may want a better algorithm!

Directory:  Add-ons

* PR# 824 *
Subject: trouble with netCDF 
From: jasont@indigoindustrial.co.nz
Date: Thu, 25 Jan 2001 12:00:39 +1300
--Only on a specific sample file: send to maintainer.
* PR# 496 *
From: bonneau@epi.roazhon.inra.fr (en148)
Date: Tue, 21 Mar 2000 10:57:13 +0100 (MET)
--base R has no est.variogram function.
--This appears to be a bug report on sgeostat.
* PR# 812 *
Subject: segmentation fault in integrate
From: Achim Zeileis <zeileis@ci.tuwien.ac.at>
Date: Thu, 11 Jan 2001 22:49:59 +0100
* PR# 781 *
Subject: syskern fails Rcmd check on Windows, gives incorrect information
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
Date: Wed, 20 Dec 2000 11:12:47 +0000 (GMT)
--Partially fixed by dse_2000.12, but still uses "ls" and gives
--incorrect information

Directory:  Analyses

* PR# 861 *
Subject: histogram of frequencies
From: bernd.winkler@genedata.com
Date: Mon, 5 Mar 2001 15:01:49 +0100 (MET)

Directory:  Documentation

* PR# 856 *
Subject: "}  {" problem in Rd files
From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
Date: Mon, 26 Feb 2001 11:10:01 -0500

Directory:  Graphics

* PR# 865 *
Subject:  axis(...,las=1) breaks postscript code in certain cases 
From: maechler@stat.math.ethz.ch
Date: Wed, 7 Mar 2001 18:08:58 +0100
* PR# 202 *
Subject: persp box occlusion bug
From: wsi@gcal.ac.uk
Date: Wed, 2 Jun 1999 15:02:03 +0200 (MET DST)
--The persp algorithm does not apply the occlusion rules to the frame, 
--which is always plotted first. 
--A bug, but not very simple to fix.
* PR# 776 *
Subject: strwidth does not take font into account
From: Martyn Plummer <plummer@iarc.fr>
Date: Tue, 19 Dec 2000 14:56:01 +0100 (CET)
--This needs a substantial redesign.
* PR# 750 *
Subject: abline() does not obey "xpd" (clipping rules)
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Mon, 27 Nov 2000 18:27:11 +0100
* PR# 660 *
Subject: identify.default ignores any setting of cex.
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
Date: Fri, 15 Sep 2000 10:23:39 +0100 (BST)
* PR# 820 *
Subject: interaction.plot
From: "Mark M. Span" <span@psy.uva.nl>
Date: Mon, 22 Jan 2001 10:47:39 +0100
--mtext is unscaled by default.  It is not clear if this should
--use the par("cex") setting or an inline cex setting such as cex.axis.
--It might make more sense to use axis rather than mtext, as boxplot does.
* PR# 816 *
Subject: dotplot: character size of labels
From: RINNER Heinrich <H.RINNER@TIROL.GV.AT>
Date: Thu, 18 Jan 2001 14:54:32 +0100
--Suggested fix is incorporated in 1.2.2.
--
--There is a deeper problem:  mtext() ignores par(cex=.5) in general.  
--To see the problem try:  par(cex=.5); mtext("hi")
--Paul thinks the right fix is to change the argument list for mtext so that
--cex=par(cex) by default rather than cex=NA by default (plus corresponding
--internal changes to  do_mtext in plot.c).
--This needs to be done very carefully because (i) the change suggested above 
--mayhave side-effects in many other pieces of interpreted code 
--(ii) do_mtext ignores dd->gp.cexbase unlike, for example, do_plot_xy 
--and anything to do with cexbase needs extreme care.
* PR# 791 *
Subject:  par(lab= *) / axis(*) bug 
From: maechler@stat.math.ethz.ch
Date: Fri, 22 Dec 2000 10:59:26 +0100
* PR# 830 *
Subject: Disappearing x axis in plot.factor
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 30 Jan 2001 00:27:13 -0500
* PR# 828 *
Subject: termplot fails for composite non-factor terms
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sat, 27 Jan 2001 11:57:37 +1100 (EST)
--Neither of the proposed changes actually works in sufficient generality.
--
--The easy and unimportant part of this, the labels, is fixed in 1.2.2. Getting
--the data right is a project for 1.3
* PR# 857 *
Subject: Plotting points on a filled.contour plot
From: marchini@stats.ox.ac.uk
Date: Tue, 27 Feb 2001 10:00:30 +0100 (MET)
--This needs at least to be documented, and preferably par("usr")
--set to the coordinate system of the plotting region after use.
* PR# 837 *
Subject: screen doesn't handle redrawing properly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 01 Feb 2001 14:20:52 -0500
* PR# 831 *
Subject: screen can't go back to (split) screen with log="y" plot
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 30 Jan 2001 00:39:41 -0500

Directory:  In-Out

none

Directory:  Installation

none

Directory:  Language

* PR# 879 *
From: Duncan Murdoch <murdoch@stats.uwo.ca>
Date: Sun, 18 Mar 2001 07:45:13 -0500 (EST)
--precedence of %% appears to be not as documented
* PR# 408 *
Subject: convolution bug
From: wsimpson@gcal.ac.uk
Date: Fri, 28 Jan 2000 11:17:36 +0100 (MET)
* PR# 669 *
Subject: Bug(s) w/ rbind.data.frame(); fix also read.table(*, as.is = TRUE) ?
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Mon, 25 Sep 2000 10:17:15 +0200
--status of AsIs columns
* PR# 412 *
Subject: anomalies with call objects
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 06 Feb 2000 01:18:50 +0100
* PR# 869 *
Subject:  inconsistent results when calling functions with other func
From: "White, Paul" <Paul.White@dsto.defence.gov.au>
Date: Thu, 8 Mar 2001 18:26:35 +1100 
* PR# 813 *
Subject: match.call problem
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 12 Jan 2001 17:46:15 +0100

Directory:  Low-level

* PR# 505 *
Subject: interrupted save 
From: Thomas Lumley <thomas@biostat.washington.edu>
Date: Sat, 25 Mar 2000 12:16:50 -0800 (PST)

Directory:  Misc

* PR# 875 *
Subject: Re: [R] Bug in qchisq?
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 10 Mar 2001 02:26:11 +0100

Directory:  Models

* PR# 862 *
Subject: Wrong sign for Pearson residuals
From: faraway@umich.edu
Date: Mon, 5 Mar 2001 18:04:34 +0100 (MET)

Directory:  Startup

* PR# 486 *
Subject: Re: autoload error in profile {was anova-bug in R-version  1.0.0?}
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Tue, 14 Mar 2000 10:32:43 +0100 (MET)
--workaround to the origin problem in 1.0.1
--New report: try does not work from the profile.

Directory:  System-specific

* PR# 863 *
Subject: src/main/arithmetic.c on OpenBSD
From: ian@darwinsys.com (Ian Darwin)
Date: Tue,  6 Mar 2001 19:49:53 -0500 (EST)
* PR# 851 *
Subject: Comments on R-1.2.1 builds
From: "Nelson H. F. Beebe" <beebe@math.utah.edu>
Date: Fri, 16 Feb 2001 17:44:17 -0700 (MST)
--These are only warnings: some have been eliminated for 1.2.2.
--Some are about constructs needed to satisfy other compilers.
--
--Also: configure problem with g77 on SGI.
* PR# 848 *
Subject: X11 device doesn't handle destroy events correcly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 13 Feb 2001 17:40:46 -0500

Directory:  TooMuchAtOnce

* PR# 811 *
Subject: problem with strptime example (and mention of bug.report)
From: Stephen Eglen <stephen@anc.ed.ac.uk>
Date: Thu, 11 Jan 2001 19:18:39 GMT
--1) On OSF4, strptime is deficient. Nothing we can do.
--
--2) On Windows NT, the strptime problems are (i) German locale, English dates,
--(ii) Windows system errors with unknown DST (it move times to DST).
--(i) now has another warning in the help file (there already was one).
--(ii) was already worked around for 1.2.1.
--
--3) bug.report() uses a mailer option that does not exist on OSF4.

Directory:  Windows

none

Directory:  incoming

* PR# 897 *
Subject:  bug in contour() ? 
From: kuensch@stat.math.ethz.ch
Date: Fri, 6 Apr 2001 16:21:24 +0200
* PR# 883 *
Subject: cor(x,y) when is.null(y)
From: "Charles C. Berry" <cberry@tajo.ucsd.edu>
Date: Fri, 23 Mar 2001 11:38:05 -0800 (PST)
* PR# 877 *
Subject: segmentation fault of unknown cause
From: Martin Schlather <Martin.Schlather@uni-bayreuth.de>
Date: Wed, 14 Mar 2001 17:45:25 +0100
* PR# 885 *
Subject: Problems with R CMD COMPILE within Makefile
From: Peter Holzer <holzer@stat.math.ethz.ch>
Date: Mon, 26 Mar 2001 15:32:00 +0200
* PR# 884 *
* PR# 887 *
Subject: axis(adj=anything) has no effect
From: jhallman@frb.gov
Date: Wed, 28 Mar 2001 20:51:05 +0200 (MET DST)
* PR# 886 *
Subject: Error (?) in documentation of 'swiss' data in R base package
From: k.j.mcconway@open.ac.uk
Date: Wed, 28 Mar 2001 16:46:49 +0200 (MET DST)
* PR# 889 *
Subject: na.omit()
From: devoilp@dpi.qld.gov.au
Date: Mon, 2 Apr 2001 03:17:20 +0200 (MET DST)
* PR# 888 *
Subject: User defined assignment function ignores argument names
From: jhallman@frb.gov
Date: Fri, 30 Mar 2001 23:03:08 +0200 (MET DST)
* PR# 891 *
Subject: Importing from Splus
From: ernesto@ipimar.pt
Date: Tue, 3 Apr 2001 17:03:06 +0200 (MET DST)
* PR# 890 *
Subject: aclocal.m4: R_PROG_F77_CC_COMPAT assumes executables w/o extension
From: hoffmann@ehmgs2.et.tu-dresden.de
Date: Mon, 2 Apr 2001 09:22:28 +0200 (MET DST)
* PR# 893 *
Subject: ghhfh
From: gfhjgq@yahoo.com
Date: Wed, 4 Apr 2001 12:12:02 +0200 (MET DST)
* PR# 892 *
Subject: rle() fails with NA's
From: jhallman@frb.gov
Date: Tue, 3 Apr 2001 21:52:44 +0200 (MET DST)
* PR# 896 *
Subject: Optimize: difference between R for Linux and Windows
From: "Marketa Kylouskova" <Marketa.Kylouskova@euromise.cz>
Date: 5 Apr 2001 12:30:29 +0100
* PR# 895 *
Subject: CI for wilcoxon test
From: kylouskova@euromise.cz
Date: Thu, 5 Apr 2001 11:02:47 +0200 (MET DST)
* PR# 894 *
Subject: ghhfh
From: gfhjgq@yahoo.com
Date: Wed, 4 Apr 2001 12:12:12 +0200 (MET DST)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sat Apr  7 09:04:49 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 7 Apr 2001 10:04:49 +0200 (MET DST)
Subject: [Rd] Re: closing a bug report (PR#781)
Message-ID: <200104070804.KAA29793@pubhealth.ku.dk>

I can confirm this bug has been solved, by the expedient of removing the
incorrect functions!

I think the simplest way to get a bug closed is to send the correction to
the original reporter for confirmation, then as Peter suggests send a
follow-up to R-bugs.

On Fri, 6 Apr 2001 p.dalgaard@biostat.ku.dk wrote:

> Paul Gilbert <pgilbert@bank-banque-canada.ca> writes:
>
> > Peter
> >
> > I'm not sure how to close a bug report. This problem should be fixed in the version
> > now loaded on CRAN, although there may be other still to be discovered problems under
> > Windows.
> >
> > Paul Gilbert
> > _____
> > * PR# 781 *
> > Subject: syskern fails Rcmd check on Windows, gives incorrect information
> > From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
> > Date: Wed, 20 Dec 2000 11:12:47 +0000 (GMT)
> > --Partially fixed by dse_2000.12, but still uses "ls" and gives
> > --incorrect information
>
> Mailing to r-bugs with (PR#nnn) in the subject should at least get the
> message filed in the right place and cause the PR to be moved to
> -fixed next time someone sets out to tidy up the repository.
>
> (I took the liberty of doing just that with this note, hope that it's
> not too indiscreet to quote your letter for that purpose.)
>
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Sat Apr  7 16:07:29 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Sat, 7 Apr 2001 17:07:29 +0200
Subject: [Rd] rle() fails with NA's (PR#892)
In-Reply-To: <200104031952.VAA19642@pubhealth.ku.dk>
References: <200104031952.VAA19642@pubhealth.ku.dk>
Message-ID: <15055.11569.324300.836330@mithrandir.hornik.net>

>>>>> jhallman  writes:

> Full_Name: Jeff Hallman
> Version: 1.2.2
> OS: Solaris
> Submission from: (NULL) (132.200.32.33)


>> rle(c(1, NA, 1)
> $lengths
> [1] 3

> $values
> [1] 1

> should be as in Splus:

> $lengths
> [1] 1 1 1

> $values
> [1] 1 NA 1

> The Splus implementation (which works fine in R) is:

> rle <- function(x){
>  if(!is.atomic(x))
>     stop("Argument must have an atomic mode")
>   if(length(x) == 0)
>     return(list(lengths = numeric(0), values = x))
>   if(length(x) == 1)
>     return(list(lengths = 1, values = x))
>   x.int <- match(x, unique(x))
>   ends <- c(diff(x.int) != 0, T)
>   list(lengths = diff(c(0, seq(along = x)[ends])), values = x[ends])
> }

Thanks for pointing out the problem.

I've committed a fix for 1.2.3, but I don't think that the Splus
implementation is right: when a sequence of NAs occurs, it is treated as
one value, which does not make too much sense to me.  The new R version
treats each NA separately.  (Could be changed of course to mimic the
Splus behavior.)

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Sat Apr  7 16:18:47 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Sat, 7 Apr 2001 17:18:47 +0200
Subject: [Rd] Comments on R-1.2.1 builds (PR#851)
In-Reply-To: <15046.16468.885425.640832@mithrandir.hornik.net>
References: <200102170044.BAA19310@pubhealth.ku.dk>
 <14990.35273.167526.4092@mithrandir.hornik.net>
 <15046.16468.885425.640832@mithrandir.hornik.net>
Message-ID: <15055.12247.886742.317305@mithrandir.hornik.net>

>>>>> Kurt Hornik writes:

>>>>> Kurt Hornik writes:
>>>>> beebe  writes:
>>> The R-1.2.1 builds have gone fairly smoothly on most of my UNIX
>>> architectures, but there were many warnings reported by the picky SGI
>>> compiler that could be eliminated in future releases.

>>> Generally, I have found the SGI compilers very helpful in ferreting
>>> out portability problems, unused and/or obsolete variables, unexpected
>>> datatype coercions, etc., and they compile faster than any other
>>> compilers too.

>>> First, I configured like this:

>>> env CC='c89 -mips3 -O3' ./configure && make all

>>> This reports:

>>> R is now configured for mips-sgi-irix6.5

>>> Source directory:          .
>>> Installation directory:    /usr/local
>>> C compiler:                c89 -mips3 -O3  -OPT:IEEE_NaN_inf=ON -g
>>> C++ compiler:              c++  -g -O2
>>> FORTRAN compiler:          g77  -OPT:IEEE_NaN_inf=ON -g -O2

>>> X11 support:               yes
>>> Gnome support:             no
>>> Tcl/Tk support:            yes

>>> R profiling support:       yes
>>> R as a shared library:     no

>>> The build proceeds until this failure:

>>> g77 -OPT:IEEE_NaN_inf=ON  -g -O2 -c ch2inv.f -o ch2inv.o
>>> f771: Invalid option `-OPT:IEEE_NaN_inf=ON'
>>> make[3]: *** [ch2inv.o] Error 1

>>> Evidently, it was not prepared for the GNU Fortran compiler.

>> Yep, that is a bug.  I need some feedback for fixing this, though.  The
>> current logic is to run the autoconf R_C_OPTIEEE test if the platform is
>> IRIX.  The test itself tries to compile and run

>> #include <math.h>
>> #include <ieeefp.h>
>> int main () {
>> double x = 0;
>> fpsetmask(0); x = x / x; return (x != x);
>> }

>> and if that works adds -OPT:IEEE_NaN_inf=ON to both R_XTRA_CFLAGS and
>> R_XTRA_FFLAGS.

>> This obviously does not make sense for FORTRAN, and should be made more
>> defensive for C.

>> * For C, one should additionally test whether the compiler accepts this
>> flag.  I assume gcc would not, so should we do

>> if_not_using_gcc  check_arg("-OPT:IEEE_NaN_inf=ON")

>> * For FORTRAN, I am not sure whether the result of the above test has
>> any relevance.  Question is, do we have a FORTRAN test program similar
>> to the above to determine whether the flag is needed?  Again, we
>> should also check whether the compiler accepts the flag ...

>> * Or should we simply unconditionally add the flag for ``native'', i.e.,
>> non-GNU compilers?

>> (Sorry but I do not have access to SGIs ...)

> I would like to fix this for 1.2.3, so it would be great if anyone
> with access to IRIX could comment ... Personally, I'd prefer the last
> idea if this is feasible.

No reply, unfortunately.  As I do not have access to SGI systems, I have
unconditionally removed adding `-OPT:IEEE_NaN_inf=ON' to R_XTRA_FFLAGS.
No idea whether this breaks make check on SGI systems with a native
FORTRAN compiler, perhaps someone could check eventually.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bellis@hsph.harvard.edu  Sat Apr  7 22:32:52 2001
From: bellis@hsph.harvard.edu (bellis@hsph.harvard.edu)
Date: Sat, 7 Apr 2001 23:32:52 +0200 (MET DST)
Subject: [Rd] silent extern error (PR#898)
Message-ID: <200104072132.XAA01726@pubhealth.ku.dk>

Full_Name: Byron Ellis
Version: 1.2.2
OS: all
Submission from: (NULL) (140.247.105.95)


R_ext/Arith.h

#ifdef MAIN
#define extern
#endif
#ifdef __cplusplus
extern "C" {
#endif

these two should be reversed. Its never a problem because builds aren't done
against C++ compilers, but its still an error (just a low priority one).

also, you could change that to

#ifdef __cplusplus
extern "C" {
#endif
#ifdef __MAIN__
#define extern
#elif _MSC_VER
#define extern __dllspec(dllimport)
#endif

with the corresponding change to the #undef region. This would allow people to
develop for R using MSVC++ more easily.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Sat Apr  7 22:56:53 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt.Hornik@ci.tuwien.ac.at)
Date: Sat, 7 Apr 2001 23:56:53 +0200 (MET DST)
Subject: [Rd] documentation problems in str.Rd (PR#899)
Message-ID: <200104072156.XAA01845@pubhealth.ku.dk>

File `src/library/base/man/str.Rd' shows the usage

  ls.str(name, pattern, mode = "any", max.level = 1, give.attr = FALSE)

whereas the code for ls.str() really has

  function (..., mode = "any", max.level = 1, give.attr = FALSE)

where the `...' is passed to ls().

The usage indicates `pattern' as a positional argument, which it is not.
Hence, e.g.
  ls.str("package:base", "^a")
will not work as documented.

I think one needs to document the `...' structure and say that the ...
args are passed on to ls().

Also, currently arguments `name', `pattern' and `mode' to ls.str() and
argument `...' to lsf.str() and the str* functions are not documented.

--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = Patched
 major = 1
 minor = 2.2
 year = 2001
 month = 04
 day = 07
 language = R

Search Path:
 .GlobalEnv, package:kh, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Apr  8 06:54:10 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 8 Apr 2001 07:54:10 +0200 (MET DST)
Subject: [Rd] silent extern error (PR#898)
Message-ID: <200104080554.HAA02393@pubhealth.ku.dk>

On Sat, 7 Apr 2001 bellis@hsph.harvard.edu wrote:

> Full_Name: Byron Ellis
> Version: 1.2.2
> OS: all
> Submission from: (NULL) (140.247.105.95)
>
>
> R_ext/Arith.h
>
> #ifdef MAIN
> #define extern
> #endif
> #ifdef __cplusplus
> extern "C" {
> #endif
>
> these two should be reversed. Its never a problem because builds aren't done
> against C++ compilers, but its still an error (just a low priority one).

Sorry, but as __MAIN__ (not MAIN) is only defined in one C module internal
to R, why is it an error?  It would be an error if there ever was an
intention that module was to be in C++, but there is not.  The #ifdef
__cplusplus constructs are only there to allow the header files to be used
in C++ addons, and defining __MAIN__ is *not* part of the API.

In short, those two #ifdef's are mutually exclusive, so their order is
immaterial.  How can one order be an error?


> also, you could change that to
>
> #ifdef __cplusplus
> extern "C" {
> #endif
> #ifdef __MAIN__
> #define extern
> #elif _MSC_VER
> #define extern __dllspec(dllimport)
> #endif
>
> with the corresponding change to the #undef region. This would allow people to
> develop for R using MSVC++ more easily.

However, *that* would be an error.  _MSC_VER may well be defined during the
actual compilation of R, and __MAIN__ is only defined in the compilation of
main.c.  So compilation would fail under VC++ (and other compilers which
define _MSC_VER).

(It is also possible for _MSC_VER to be defined but not have a value, so is
the test what you really meant?)

If we intended to make compilation for other C compilers easier we would
need to add lines like that to lots of the header files, and for more than
one compiler system.  However, we don't particularly want to make the use
of Arith.h under VC++ easier, as VC++ does not handle IEEE arithmetic
correctly!   In short, using Arith.h in addons compiled with VC++ is
likely to give incorrect results.

(We know from past experience that R can be compiled with VC++ (6.0sp3, to
be precise) but then fails make check, giving incorrect results in the
arithmetic tests and elsewhere.)

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bellis@hsph.harvard.edu  Sun Apr  8 07:48:24 2001
From: bellis@hsph.harvard.edu (bellis@hsph.harvard.edu)
Date: Sun, 8 Apr 2001 08:48:24 +0200 (MET DST)
Subject: [Rd] silent extern error (PR#898)
Message-ID: <200104080648.IAA02492@pubhealth.ku.dk>

On Sun, 8 Apr 2001, Prof Brian D Ripley wrote:

> On Sat, 7 Apr 2001 bellis@hsph.harvard.edu wrote:
> 
> > Full_Name: Byron Ellis
> > Version: 1.2.2
> > OS: all
> > Submission from: (NULL) (140.247.105.95)
> >
> >
> > R_ext/Arith.h
> >
> > #ifdef MAIN
> > #define extern
> > #endif
> > #ifdef __cplusplus
> > extern "C" {
> > #endif
> >
> > these two should be reversed. Its never a problem because builds aren't done
> > against C++ compilers, but its still an error (just a low priority one).
> 
> Sorry, but as __MAIN__ (not MAIN) is only defined in one C module internal
> to R, why is it an error?  It would be an error if there ever was an
> intention that module was to be in C++, but there is not.  The #ifdef
> __cplusplus constructs are only there to allow the header files to be used
> in C++ addons, and defining __MAIN__ is *not* part of the API.
> 
> In short, those two #ifdef's are mutually exclusive, so their order is
> immaterial.  How can one order be an error?

Okay, then it was a simple misunderstanding on my part in the event that
you will never attempt to compile R under a compiler in C++ mode and you
don't have to worry about it any more.


> 
> 
> > also, you could change that to
> >
> > #ifdef __cplusplus
> > extern "C" {
> > #endif
> > #ifdef __MAIN__
> > #define extern
> > #elif _MSC_VER
> > #define extern __dllspec(dllimport)
> > #endif
> >
> > with the corresponding change to the #undef region. This would allow people to
> > develop for R using MSVC++ more easily.
> 
> However, *that* would be an error.  _MSC_VER may well be defined during the
> actual compilation of R, and __MAIN__ is only defined in the compilation of
> main.c.  So compilation would fail under VC++ (and other compilers which
> define _MSC_VER).
> 
> (It is also possible for _MSC_VER to be defined but not have a value, so is
> the test what you really meant?)

I personally can't think of a VC++ compiler I've used where _MSC_VER is
defined but __declspec(dllimport) is unavailable, except maybe VC++ 1.5
where its been such a long time I can't recall. (Of course, VC++ 1.5
doesn't even RUN under Win2K let alone compile anything :-)) If suppose
you could change it to something like #if _MSC_VER >= 1100 if there is
such a compiler and that would work as well.


> 
> If we intended to make compilation for other C compilers easier we would
> need to add lines like that to lots of the header files, and for more than
> one compiler system.  However, we don't particularly want to make the use
> of Arith.h under VC++ easier, as VC++ does not handle IEEE arithmetic
> correctly!   In short, using Arith.h in addons compiled with VC++ is
> likely to give incorrect results.

Welp, just the two (and putting it above the __cplusplus def) in
R_ext/Arith.h and Rinternals.h. If you also toss a __cplusplus statement
after the #include's in Rinternals.h it also works in C++ mode (which is
missing things like that nasty sizeof() bug). 

> 
> (We know from past experience that R can be compiled with VC++ (6.0sp3, to
> be precise) but then fails make check, giving incorrect results in the
> arithmetic tests and elsewhere.)

Yes, fortunately I'm not using the IEEE arith code--- I'm actually writing
non-numerical support libraries and GUI embedding code. I mostly just like
to do my development using VC++ (probably because I'm getting lazy, but
whatever). Out of curiosity has this been tested with SP4 or 7beta?

> 
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 


Byron Ellis (bellis@hsph.harvard.edu)




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Sun Apr  8 15:34:26 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Sun, 8 Apr 2001 16:34:26 +0200
Subject: [Rd] Problems with R CMD COMPILE within Makefile (PR#885)
In-Reply-To: <200103261332.PAA25104@pubhealth.ku.dk>
References: <200103261332.PAA25104@pubhealth.ku.dk>
Message-ID: <15056.30450.212534.90422@mithrandir.hornik.net>

>>>>> holzer  writes:

> Dear R-developpers

> This concerns a problem I posted about half a year ago on the R-help
> list and to which I got some answer by Duncan Temple Lang (see below),
> but the basic problem still continues. Even though I managed a
> workaround which is sufficient for me Martin Maechler asked me to send
> a toy example of the problem to R-bugs. So that's what I try here.

> The following Makefile will not work:
> ----------------------------------------
> .PHONY: tst.o

> tst.o: tst.c
> 	R CMD COMPILE tst.c
> ----------------------------------------

> ...

I am not sure this is a bug: R CMD COMPILE is not documented to work
when called from inside a Makefile.

Currently, R CMD COMPILE calls Make based on information in

	Makevars		if this exists
	R_HOME/etc/Makeconf
	Makefile		if this exists

Conversely, R CMD SHLIB only uses Makevars but not Makefile.

As R CMD COMPILE is not documented to use a Makefile in the local dir, I
would propose to fix the problem by eliminating

	if test -r Makefile; then
	  makefiles="${makefiles} -f Makefile"
	fi

from the COMPILE script.

There is a more general problem, though.  We read Makevars before the
default configuration from R_HOME/etc/Makeconf.  This is to ensure that
the PKG_* variables are set when the ALL_* variables are expanded.  But
unfortunately this has the effect that global settings override the
local ones.  Is it safe to assume that we can reverse the order with all
versions of Make around?

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Sun Apr  8 15:16:44 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Sun, 8 Apr 2001 16:16:44 +0200
Subject: [Rd] CI for wilcoxon test (PR#895)
In-Reply-To: <200104050902.LAA07697@pubhealth.ku.dk>
References: <200104050902.LAA07697@pubhealth.ku.dk>
Message-ID: <15056.29388.963897.379866@mithrandir.hornik.net>

>>>>> kylouskova  writes:

> Full_Name: Marketa Kylouskova
> Version: 1.2.1
> OS: Windows
> Submission from: (NULL) (147.231.7.2)


> Hi,

> 	I believe there is a bug in the extension of wilcox.test, namely
> in determination of confidence intervals. I concentrated on the
> two-sample test only. I examined and tested its performance on this
> working data set:

> ...

> which is apparently contradictory (p-value is much less than 0.05
> while exact CI contains 0). I examined the code and I found that while
> the exact wilcoxon test is applied on ranks of x (thus testing that mu
> = x  y is greater than 0), the exact CI is computed based on
> differences y - x, hence finding a CI for mu = y  x). The same
> applies, in my opinion, to approximative CI, where he optimization
> interval is set as (mumin,mumax) with

> ...

Thanks for pointing this out.  The confidence interval was for the
difference in locations of y and x and should have been the other way
round.  Fixed now.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Mon Apr  9 07:37:49 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Mon, 9 Apr 2001 08:37:49 +0200
Subject: [Rd] extratests (wishlist item)
In-Reply-To: <3AC9D6C5.28965243@bank-banque-canada.ca>
References: <3AC9D6C5.28965243@bank-banque-canada.ca>
Message-ID: <15057.22717.101969.168503@mithrandir.hornik.net>

>>>>> Paul Gilbert writes:

> I have now reorganized most of my tests into the tests subdirectories
> of my packages and I do like the R CMD check mechanism for running
> them. However, I have a certain number of tests which I can only run
> on certain machines (e.g. because of memory requirements or special
> database requirements), or just take too long to run regularly. I have
> organized these into an artificial separate package. It would make
> more sense to keep these with the packages to which they belong. Would
> it be possible sometime to add a subdirectory of extra tests which can
> be run with the same mechanism as the tests subdirectory but not as a
> regular part of R CMD check?

Paul,

I think you could have a configure script which determines the platform
you are on, sets variables

	test-src-1
	test-src-auto

accordingly, and saves them in tests/Makevars by substituting from
tests/Makevars.in.  (Sorry if this most likely only works on Unix.)

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.C.Rougier@durham.ac.uk  Mon Apr  9 09:32:28 2001
From: J.C.Rougier@durham.ac.uk (Jonathan Rougier)
Date: Mon, 9 Apr 2001 09:32:28 +0100 (BST)
Subject: [Rd] Detaching "ctest"
In-Reply-To: <15052.51139.270582.27097@mithrandir.hornik.net>
Message-ID: <Pine.GSO.4.20.0104090928480.13680-100000@laplace>

On Thu, 5 Apr 2001, Kurt Hornik wrote:

> >>>>> Jonathan Rougier writes:

> > I certainly agree with this last point.  However, the problem is
> > lessened if the user can use .Rprofile to tune the set-up.  The
> > current arrangement prevents that (or, at least, makes it rather
> > inelegant) by using .First to load ctest (and, in the future, other
> > mandatory packages?).  It seems to me that in an ideal world .Rprofile
> > would be the very last thing invoked before the prompt.  That way
> > whatever set-up is put in place by the system administrator or the
> > default, the individual user still has control.
> 
> But this is exactly what happens---settings from .Rprofile do override
> the system and site defaults.  The question is whether .First should be
> used for package setup, or something else ...

OK! if you put it like that, then I think that .First should definitely
*not* be used for package set-up, as it prevents .Rprofile commands from
being the last things executed before the prompt, and thus removes
"complete user control" of the set-up.

Cheers, Jonathan.

Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Mon Apr  9 13:54:26 2001
From: dmurdoch@pair.com (dmurdoch@pair.com)
Date: Mon, 9 Apr 2001 14:54:26 +0200 (MET DST)
Subject: [Rd] Bug in help for profile; more general problem? (PR#900)
Message-ID: <200104091254.OAA10924@pubhealth.ku.dk>

The help topic for "profile" has a link to profile.glm in MASS which
doesn't work in the HTML help.  The problem is that there is no
profile.glm.html file, profile.glm is just an alias for the confint
help topic.

It would be nice if there were a general solution to this problem
(i.e. the system knew how to work with aliases), but it doesn't look
easy:  profile.html is in base, and may well be produced with no copy
of MASS around for reference.  

A short term fix would be to change the link in profile.Rd to
\link[MASS:confint]{profile.glm}, or to add a profile.glm help topic
to MASS.




--please do not edit the information below--

Version:
 platform = i386-pc-mingw32
 arch = x86
 os = Win32
 system = x86, Win32
 status = 
 major = 1
 minor = 2.2
 year = 2001
 month = 02
 day = 26
 language = R

Windows 9x 4.0 (build 1111)  B

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Mon Apr  9 13:46:43 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Mon, 9 Apr 2001 14:46:43 +0200
Subject: [Rd] Detaching "ctest"
In-Reply-To: <Pine.GSO.4.20.0104090928480.13680-100000@laplace>
References: <15052.51139.270582.27097@mithrandir.hornik.net>
 <Pine.GSO.4.20.0104090928480.13680-100000@laplace>
Message-ID: <15057.44851.453347.367801@mithrandir.hornik.net>

>>>>> Jonathan Rougier writes:

> On Thu, 5 Apr 2001, Kurt Hornik wrote:
>> >>>>> Jonathan Rougier writes:

>> > I certainly agree with this last point.  However, the problem is
>> > lessened if the user can use .Rprofile to tune the set-up.  The
>> > current arrangement prevents that (or, at least, makes it rather
>> > inelegant) by using .First to load ctest (and, in the future, other
>> > mandatory packages?).  It seems to me that in an ideal world .Rprofile
>> > would be the very last thing invoked before the prompt.  That way
>> > whatever set-up is put in place by the system administrator or the
>> > default, the individual user still has control.
>> 
>> But this is exactly what happens---settings from .Rprofile do override
>> the system and site defaults.  The question is whether .First should be
>> used for package setup, or something else ...

> OK! if you put it like that, then I think that .First should definitely
> *not* be used for package set-up, as it prevents .Rprofile commands from
> being the last things executed before the prompt, and thus removes
> "complete user control" of the set-up.

Not sure if I understand this.

Upon startup,

   * Then, unless `--no-init-file' was given, R searches for a file
     called `.Rprofile' in the current directory or in the user's home
     directory (in that order) and sources it.

   * It also loads a saved image from `.RData' if there is one (unless
     `--no-restore' or `--no-restore-data' was specified).

   * Finally, if a function `.First' exists, it is executed.  This
     function (as well as `.Last' which is executed at the end of the R
     session) can be defined in the appropriate startup profiles, or
     reside in `.RData'.

as per R-intro, so the user has perfect control over what happens by
providing a suitable .First in e.g. his ~/.Rprofile.

???

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Apr  9 14:05:54 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 9 Apr 2001 14:05:54 +0100 (BST)
Subject: [Rd] Bug in help for profile; more general problem? (PR#900)
In-Reply-To: <200104091254.OAA10924@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0104091357490.1229-100000@gannet.stats>

On Mon, 9 Apr 2001 dmurdoch@pair.com wrote:

> The help topic for "profile" has a link to profile.glm in MASS which
> doesn't work in the HTML help.  The problem is that there is no
> profile.glm.html file, profile.glm is just an alias for the confint
> help topic.
>
> It would be nice if there were a general solution to this problem
> (i.e. the system knew how to work with aliases), but it doesn't look
> easy:  profile.html is in base, and may well be produced with no copy
> of MASS around for reference.
>
> A short term fix would be to change the link in profile.Rd to
> \link[MASS:confint]{profile.glm}, or to add a profile.glm help topic
> to MASS.

That is the fix: the person who changed added the reference did not
check it out.  I've altered it, thank you.

If the requisite packages are installed when the help files are converted
and there is no manual override, then the link will get found.
If not, it gets deferred to the search engine at run time.

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.C.Rougier@durham.ac.uk  Mon Apr  9 14:37:33 2001
From: J.C.Rougier@durham.ac.uk (Jonathan Rougier)
Date: Mon, 9 Apr 2001 14:37:33 +0100 (BST)
Subject: [Rd] Detaching "ctest"
In-Reply-To: <15057.44851.453347.367801@mithrandir.hornik.net>
Message-ID: <Pine.GSO.4.20.0104091419000.13680-100000@laplace>

On Mon, 9 Apr 2001, Kurt Hornik wrote:

> >>>>> Jonathan Rougier writes:

> > OK! if you put it like that, then I think that .First should
> definitely > *not* be used for package set-up, as it prevents
> .Rprofile commands from > being the last things executed before the
> prompt, and thus removes > "complete user control" of the set-up.
> 
> Not sure if I understand this.
> 
> Upon startup,
> 
>    * Then, unless `--no-init-file' was given, R searches for a file
>      called `.Rprofile' in the current directory or in the user's home
>      directory (in that order) and sources it.
> 
>    * It also loads a saved image from `.RData' if there is one (unless
>      `--no-restore' or `--no-restore-data' was specified).
> 
>    * Finally, if a function `.First' exists, it is executed.  This
>      function (as well as `.Last' which is executed at the end of the R
>      session) can be defined in the appropriate startup profiles, or
>      reside in `.RData'.
> 
> as per R-intro, so the user has perfect control over what happens by
> providing a suitable .First in e.g. his ~/.Rprofile.

You are right -- I was discounting the "inelegant" use of an empty .First
in .Rprofile to mask the one defined in the global environment.  I have
approached this in terms of preventing an unwanted package from being
loaded, but I can see the advantages of using a .First definition in the
user's .Rprofile to explicitly load packages as well.  I guess my worry
would be that as the core of R gets smaller and more packages are added to
the default list it would be simpler for the user to remove the one or two
packages that are not wanted, rather than having to specify explicitly in
a .First all the packages that are required, as would be the case
currently.

Cheers, Jonathan.

Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Torsten.Hothorn@rzmail.uni-erlangen.de  Mon Apr  9 16:57:46 2001
From: Torsten.Hothorn@rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Mon, 9 Apr 2001 17:57:46 +0200 (MEST)
Subject: [Rd] CI for wilcoxon test (PR#895)
In-Reply-To: <200104050902.LAA07697@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.21.0104091749410.10969-100000@artemis.imbe.med.uni-erlangen.de>

> 
> I didnt go through other aspects, although I believe that the continuity
> correction should be checked if some changes are made, and also that some closer
> look onto definitions of uci and lci in the exact CI computations should be made
> (here it depends on your definition of the CI for exact distributions, i.e.
> whether the CI = {uci<=mu<lci} (then I think its OK) or CI = {uci<=mu<=lci}
> (then I think lci= diffs[ql] and not diffs[ql + 1]). Could this be specified in
> the documentation?


the CI is [uci, lci) with lci = diffs[ql + 1]. You do not reject the
hypothesis if W <= ql and the step function is equal to ql for all
real numbers between diffs[ql] and diffs[ql + 1] and jumps in diffs[ql +
1] only. Therefore, all this points have to be included in the CI but not
diffs[ql + 1] itself (one can however include it, making the CI
'larger'). Taking lci = diffs[ql] is wrong! See the example on page 688 of
Bauer's article.

Torsten

> 
> Thank you in advance for checking my suspicions :) and for your reaction.
> 
> 	Marketa Kylouskova
> 	kylouskova@euromise.cz
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Torsten.Hothorn@rzmail.uni-erlangen.de  Mon Apr  9 17:19:10 2001
From: Torsten.Hothorn@rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Mon, 9 Apr 2001 18:19:10 +0200 (MEST)
Subject: [Rd] PR#896
In-Reply-To: <200104051119.NAA09993@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.21.0104091809580.10969-100000@artemis.imbe.med.uni-erlangen.de>



> Sorry to all that are angry about the form of my previous mail. I 
> didn't realise what would happen :((.
> 
> Here it is in (hopefully) plain text (if my mailer doesn't spoil it again):
> 
> ##############
> 
> Dear developers,
> 	I have a problem with some discrepancy between R 1.2.1 for 
> Windows and R 1.2.2 (and less) for Linux. While trying to correct 
> the wilcox.test (see my previous bug report) I encountered the 
> following problem: I wanted to check the behaviour of the function 
> wdiff used in the search for CI limits.
> 
> x<-rnorm(10,3,1)	
> y<-rnorm(10,0,1)	
> say 
> 
> x<-
> c(3.770684,4.654342,3.496403,1.772743,1.624953,2.645835,3.0994
> 77,1.706758,3.507709,1.982924)
> y<-c(-0.8161288,0.1632923,0.6421997,1.9270846,-
> 0.4668112,0.3587806,0.3312529,-0.5393900,
> 0.1057892,1.7963575)

`wdiff' is used for the computation of asymptotic confidence intervals for
samples with m,n > 50. I simulated the type I error rate and it works for
such large sample sizes. So maybe the problems are due to n.x = n.y = 10 ?

Torsten

> 
> mu<-0
> n.x<-length(x)
> n.y<-length(y)
> 
> wdiff <- function(d, zq) {
>    	dr <- rank(c(x- mu -d,y))
>    	NTIES.CI <- table(dr)
>    	dz <- (sum(dr[seq(along = x)]) - n.x * (n.x + 1)/2 - n.x * n.y/2)
> 	CORRECTION.CI<-0
>    SIGMA.CI <- sqrt((n.x * n.y/12) * ((n.x + n.y + 1) - 
> sum(NTIES.CI^3 - NTIES.CI)/((n.x + n.y) * (n.x + n.y - 1))))
>    dz <- (dz - CORRECTION.CI)/SIGMA.CI
>    abs(dz - zq)
> }
> 
> To examine the behivour I plotted the course of the wdiff for a lot of 
> d and three zq (0.05, 0.5, 0.95) and I let optimize to compute the 
> minimums. Then I plotted it. 
> 
> mumin<-min(x)-max(y)
> mumax<-max(x)-min(y) 
> 
> lll<-seq(mumin,mumax,by=0.01)
> wdl<-apply(cbind(lll),1,wdiff,zq=qnorm(0.05))
> wdm<-apply(cbind(lll),1,wdiff,zq=qnorm(0.50))
> wdu<-apply(cbind(lll),1,wdiff,zq=qnorm(0.95))
> 
> plot(lll,wdl,type="l")
> lines(lll,wdm,lty=4)
> lines(lll,wdu,lty=7)
> 
> 
> ol<-optimize(wdiff,c(mumin,mumax),zq=qnorm(0.05))$minimum
> om<-optimize(wdiff,c(mumin,mumax),zq=qnorm(0.5))$minimum
> ou<-optimize(wdiff,c(mumin,mumax),zq=qnorm(0.95))$minimum
> 
> abline(v=ol)
> abline(v=om,lty=4)
> abline(v=ou,lty=7)
> 
> 
> When it ran on my home Linux (R 1.2.2 (2001-02-26) Compiled 
> from source tarball on Linux with gcc version 2.95.2 19991024) it 
> computed the minimum for zq = 0.05 only, for the others it found 
> something totally wrong (three curves with "valleys", one line 
> indicating the right minimum, one line indicating where the 
> computed minimum surely doesn't lie; moreover, it was the same 
> for both 0.5 and 0.95). Then I checked it at work on S+2000 and R 
> 1.2.1 for Windows and it gave the correct results and picture (three 
> curves with "valleys" and three lines indicating where the minimum 
> lies). Could you, please, advise me whether the problem stands in 
> the platform version or in my compiled version, and what should I 
> do to make it work properly?
> 
> Thank you very much for your help.
> 
> 	Marketa Kylouskova
> 	marketa@ucw.cz
> 	kylouskova@euromise.cz
> 
>  
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ntakebay@bio.indiana.edu  Mon Apr  9 19:07:48 2001
From: ntakebay@bio.indiana.edu (ntakebay@bio.indiana.edu)
Date: Mon, 9 Apr 2001 20:07:48 +0200 (MET DST)
Subject: [Rd] syntax error in datetime.c (PR#901)
Message-ID: <200104091807.UAA14215@pubhealth.ku.dk>

Full_Name: Naoki Takebayashi
Version: 1.2.2
OS: Linux, RedHat 7.0/alpha
Submission from: (NULL) (152.3.12.123)


With RedHat 7.0/alpha (gcc 2.96-69), I encountered following error:

gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
-DHAVE_CONFIG_H -mieee  -O2 -mieee -c datetime.c -o datetime.o
datetime.c: In function `do_systime':
datetime.c:306: parse error before `ans'
datetime.c:307: `ans' undeclared (first use in this function)
datetime.c:307: (Each undeclared identifier is reported only once
datetime.c:307: for each function it appears in.)
make[3]: *** [datetime.o] Error 1
make[3]: Leaving directory `/usr/src/redhat/BUILD/R-1.2.2/src/main'

Following patch fixes this syntax error.

--- R-1.2.2/src/main/datetime.c.orig	Mon Apr  9 11:24:14 2001
+++ R-1.2.2/src/main/datetime.c	Mon Apr  9 11:25:11 2001
@@ -300,10 +300,10 @@
 SEXP do_systime(SEXP call, SEXP op, SEXP args, SEXP env)
 {
     time_t res = time(NULL);
+    SEXP ans = allocVector(REALSXP, 1);
 #ifdef USING_LEAPSECONDS
     res -= 22;
 #endif
-    SEXP ans = allocVector(REALSXP, 1);
     if(res != (time_t)(-1)) REAL(ans)[0] = (double) res;
     else REAL(ans)[0] = NA_REAL;
     return ans;


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Apr  9 19:16:21 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 9 Apr 2001 19:16:21 +0100 (BST)
Subject: [Rd] syntax error in datetime.c (PR#901)
In-Reply-To: <200104091807.UAA14215@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.31.0104091913160.3528-100000@auk.stats>

Thanks.  That means that the platform you are using has non-POSIX
datetime functions, BTW, and a case I coded for hypothetically
actually exists.  Strange that it should be a GNU-LINUX system,
though.

Fixed for 1.2.3.


On Mon, 9 Apr 2001 ntakebay@bio.indiana.edu wrote:

> Full_Name: Naoki Takebayashi
> Version: 1.2.2
> OS: Linux, RedHat 7.0/alpha
> Submission from: (NULL) (152.3.12.123)
>
>
> With RedHat 7.0/alpha (gcc 2.96-69), I encountered following error:
>
> gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
> -DHAVE_CONFIG_H -mieee  -O2 -mieee -c datetime.c -o datetime.o
> datetime.c: In function `do_systime':
> datetime.c:306: parse error before `ans'
> datetime.c:307: `ans' undeclared (first use in this function)
> datetime.c:307: (Each undeclared identifier is reported only once
> datetime.c:307: for each function it appears in.)
> make[3]: *** [datetime.o] Error 1
> make[3]: Leaving directory `/usr/src/redhat/BUILD/R-1.2.2/src/main'
>
> Following patch fixes this syntax error.
>
> --- R-1.2.2/src/main/datetime.c.orig	Mon Apr  9 11:24:14 2001
> +++ R-1.2.2/src/main/datetime.c	Mon Apr  9 11:25:11 2001
> @@ -300,10 +300,10 @@
>  SEXP do_systime(SEXP call, SEXP op, SEXP args, SEXP env)
>  {
>      time_t res = time(NULL);
> +    SEXP ans = allocVector(REALSXP, 1);
>  #ifdef USING_LEAPSECONDS
>      res -= 22;
>  #endif
> -    SEXP ans = allocVector(REALSXP, 1);
>      if(res != (time_t)(-1)) REAL(ans)[0] = (double) res;
>      else REAL(ans)[0] = NA_REAL;
>      return ans;
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Apr  9 21:18:10 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 9 Apr 2001 21:18:10 +0100 (BST)
Subject: [Rd] Special Interest Group on R/S and Databases
Message-ID: <Pine.GSO.4.31.0104092112220.5735-100000@auk.stats>

At the Vienna meeting of R-core and friends after DSC-2001 we decided to
set up some SIGs (special interest groups) in various topics. The first of
these has been set up on R (and S) and Databases.

There is an area on the developer web site at

http://developer.r-project.org/db/

and a mailing list (thanks to Martin Maechler) with a home page at

http://stat.ethz.ch/mailman/listinfo/r-sig-db

also linked off the developer site.

If you are interested please subscribe this week: I will start up the
discussion with a discussion paper early next week.

Brian Ripley

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Torsten.Hothorn@rzmail.uni-erlangen.de  Tue Apr 10 06:51:21 2001
From: Torsten.Hothorn@rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Tue, 10 Apr 2001 07:51:21 +0200 (MEST)
Subject: [Rd] confint's in t.test
Message-ID: <Pine.LNX.4.21.0104100749250.18520-100000@artemis.imbe.med.uni-erlangen.de>


> t.test(rnorm(10), rnorm(10), alternative="less")

         Welch Two Sample t-test 

data:  rnorm(10) and rnorm(10) 
t = -2.3628, df = 17.848, p-value = 0.01485 
alternative hypothesis: true difference in means is less than 0 
95 percent confidence interval:
         NA -0.2590752 
        ^^^^

I suppose that is what the prototype does, should one replace it by -Inf,
+ Inf resp. ?

Torsten

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Tue Apr 10 08:02:40 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Tue, 10 Apr 2001 09:02:40 +0200
Subject: [Rd] confint's in t.test
In-Reply-To: <Pine.LNX.4.21.0104100749250.18520-100000@artemis.imbe.med.uni-erlangen.de>
References: <Pine.LNX.4.21.0104100749250.18520-100000@artemis.imbe.med.uni-erlangen.de>
Message-ID: <15058.45072.744621.93607@mithrandir.hornik.net>

>>>>> Torsten Hothorn writes:

>> t.test(rnorm(10), rnorm(10), alternative="less")

>          Welch Two Sample t-test 

> data:  rnorm(10) and rnorm(10) 
> t = -2.3628, df = 17.848, p-value = 0.01485 
> alternative hypothesis: true difference in means is less than 0 
> 95 percent confidence interval:
>          NA -0.2590752 
>         ^^^^

> I suppose that is what the prototype does, should one replace it by
> -Inf, + Inf resp. ?

I'd say yes (which agrees with confidence intervals for the variance
and odds ratios) ...

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Tue Apr 10 08:33:00 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Tue, 10 Apr 2001 09:33:00 +0200
Subject: [Rd] Detaching "ctest"
In-Reply-To: <Pine.GSO.4.20.0104091419000.13680-100000@laplace>
References: <15057.44851.453347.367801@mithrandir.hornik.net>
 <Pine.GSO.4.20.0104091419000.13680-100000@laplace>
Message-ID: <15058.46892.196865.11757@mithrandir.hornik.net>

>>>>> Jonathan Rougier writes:

> On Mon, 9 Apr 2001, Kurt Hornik wrote:
>> >>>>> Jonathan Rougier writes:

>> > OK! if you put it like that, then I think that .First should
>> definitely > *not* be used for package set-up, as it prevents
>> .Rprofile commands from > being the last things executed before the
>> prompt, and thus removes > "complete user control" of the set-up.
>> 
>> Not sure if I understand this.
>> 
>> Upon startup,
>> 
>> * Then, unless `--no-init-file' was given, R searches for a file
>> called `.Rprofile' in the current directory or in the user's home
>> directory (in that order) and sources it.
>> 
>> * It also loads a saved image from `.RData' if there is one (unless
>> `--no-restore' or `--no-restore-data' was specified).
>> 
>> * Finally, if a function `.First' exists, it is executed.  This
>> function (as well as `.Last' which is executed at the end of the R
>> session) can be defined in the appropriate startup profiles, or
>> reside in `.RData'.
>> 
>> as per R-intro, so the user has perfect control over what happens by
>> providing a suitable .First in e.g. his ~/.Rprofile.

> You are right -- I was discounting the "inelegant" use of an empty
> .First in .Rprofile to mask the one defined in the global environment.
> I have approached this in terms of preventing an unwanted package from
> being loaded, but I can see the advantages of using a .First
> definition in the user's .Rprofile to explicitly load packages as
> well.  I guess my worry would be that as the core of R gets smaller
> and more packages are added to the default list it would be simpler
> for the user to remove the one or two packages that are not wanted,
> rather than having to specify explicitly in a .First all the packages
> that are required, as would be the case currently.

Agreed.  Actually, I think that .First *is* the right mechanism for
taking care of this, but not necessarily though explicit coding.  What I
have in mind is something like

	R> customize()
or
	R> customize("packages")

(as opposed to customize("options"))

bringing up a mechanism through which packages can be selected.  (There
is an additional issue of specifying their order ...)  This could then
be saved into, say, a user or site R configuration file (R.ini, .Rini),
containing e.g.

	[Packages]
	ctest = TRUE
	ts = FALSE

etc (modulo order ...).  The startup mechanism could then look for such
a file and build .First-style code from it ...

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From khamenya@mail.ru  Tue Apr 10 12:51:58 2001
From: khamenya@mail.ru (khamenya@mail.ru)
Date: Tue, 10 Apr 2001 13:51:58 +0200 (MET DST)
Subject: [Rd] BUG at http://www.r-project.org/ (PR#903)
Message-ID: <200104101151.NAA22091@pubhealth.ku.dk>

Dear Sirs,

1. link
    http://cran.r-project.org/bin/windows/windows-NT/
   is cycled. (and it is impossible to get R-binaries for Win2000)

2. why pages http://cran.r-project.org/ does not contain email address
   for such a bugs, broken links and etc?


Valery A.Khamenya



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Apr 10 14:20:03 2001
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 10 Apr 2001 09:20:03 -0400
Subject: [Rd] stop() and Rcmd
References: <Pine.LNX.4.31.0104041532410.15797-100000@gannet.stats> <3ACDC45F.B56A85AE@ukans.edu> <3ACDEF83.7237611B@bank-banque-canada.ca> <3ACE0625.F808E766@statistik.uni-dortmund.de> <3ACE12E0.94CFADF7@bank-banque-canada.ca> <3ACEE448.58C20D80@statisti
Message-ID: <3AD30883.49B56D97@bank-banque-canada.ca>

Uwe

It looks like stop() in test files does not generate an error that is caught by Rcmd
check on NT. Thus the fact that all the tests completed does not seem to mean too
much. In Unix if the tests complete then there have not been stop()s generated by out
of tolerance comparisons. This seems to mean that on NT all *.Rout files (50 or so)
need to be  examined to be sure that tests completed correctly.

At the bottom of the crvB07.Rout file you sent you will see

>   if (! all.ok) stop("some tests FAILED")
Error: some tests FAILED
Execution halted

Perhaps you could grep for "Execution halted" in the *.Rout files to see if other
tests failed. I am especially concerned about the tests in dse. The ones you sent
from dseplus are numerically sensitive and the second one seems to have passed, so
things look fairly good. (BTW, the values do seem to correspond more closely to
Solaris than Linux.)

Paul

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.C.Rougier@durham.ac.uk  Tue Apr 10 15:01:52 2001
From: J.C.Rougier@durham.ac.uk (J.C.Rougier@durham.ac.uk)
Date: Tue, 10 Apr 2001 16:01:52 +0200 (MET DST)
Subject: [Rd] Segmentation fault in subscripting array of lists (PR#904)
Message-ID: <200104101401.QAA23458@pubhealth.ku.dk>

I get a segmentation fault as follows:

> tmp <- array(list(), c(3, 4))
> tmp[[1, 2]]
NULL                                  # as expected
> tmp[[1, 2]]$fred <- 1:10
> tmp                                 # as expected
     [,1]   [,2]     [,3]   [,4]  
[1,] "NULL" "List,1" "NULL" "NULL"
[2,] "NULL" "NULL"   "NULL" "NULL"
[3,] "NULL" "NULL"   "NULL" "NULL"
> tmp[[1, 2]]                         # as expected
$fred
 [1]  1  2  3  4  5  6  7  8  9 10

> tmp[[1, ]]                          # whoops!
Segmentation fault

Cheers, Jonathan.

--please do not edit the information below--

Version:
 platform = sparc-sun-solaris2.7
 arch = sparc
 os = solaris2.7
 system = sparc, solaris2.7
 status = 
 major = 1
 minor = 2.1
 year = 2001
 month = 01
 day = 15
 language = R

Search Path:
 .GlobalEnv, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bolker@zoo.ufl.edu  Tue Apr 10 15:55:45 2001
From: bolker@zoo.ufl.edu (bolker@zoo.ufl.edu)
Date: Tue, 10 Apr 2001 16:55:45 +0200 (MET DST)
Subject: [Rd] segfault on Linux from buffer overflow in warning() ? (PR#905)
Message-ID: <200104101455.QAA24082@pubhealth.ku.dk>


   I have found what seems to be a bug in warning(), but perhaps
I'm being really boneheaded (it's happened before).  Essentially,
warning() seems to segfault if its argument is greater than 8191
characters (8192 is defined as BUFSIZE in errors.c, so a quick
workaround would be to boost this ...)
   The bug was initially provoked by trying to concatenate two
long tables -- the warning message about all the duplicate row
names caused the segfault.  Functions below should all trigger
the problem.
   I haven't got the development version, but I didn't see anything
in the CVS logs about this problem ...  the R code is a little too
tangled for me to fix immediately, but I'm hoping that this
information will help R-core folks find it fairly quickly.

  The reason I think I must be being boneheaded is that this
seems fairly major and obvious: hasn't anyone stumbled across
this while trying to concatenate long tables?

  Here are three functions, in increasing specificity, that trigger the
bug for sufficiently large arguments.


provoke.bug <- function(r=7500,c=c) {
  y1 <- matrix(runif(r*c),ncol=c)
  row.names(y1) <- 1:r
  y2 <- matrix(runif(r*c),ncol=c)
  row.names(y2) <- 1:r
  # problem triggered by data.frame()
  invisible(data.frame(rbind(y1,y2)))
}

## crashes between 1600 and 1700 rows, 1 column
## (overallocating buffer in duplicate rows warning?)

provoke.bug2 <- function(n=1600) {
  str <- as.character(1:n)
  dup <- duplicated(c(str,str))
  trywarn <- paste("duplicates:",paste(which(dup),collapse=","))
  cat("Length of warning message:",nchar(trywarn),"\n")
  warning(trywarn)
  ## problem is in warning() ...
}

provoke.bug3 <- function(n=1600) {
   warnmsg <- paste(LETTERS[sample(1:26,n,replace=TRUE)],collapse="")
   warning(warnmsg)
}

## crashes if warning message is > 8191 characters


--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status =
 major = 1
 minor = 2.1
 year = 2001
 month = 01
 day = 15
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base

-- 
318 Carr Hall                                bolker@zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From cpaul@ucla.edu  Tue Apr 10 16:50:46 2001
From: cpaul@ucla.edu (cpaul@ucla.edu)
Date: Tue, 10 Apr 2001 17:50:46 +0200 (MET DST)
Subject: [Rd] Win98 wheelmouse graphics lock problem (PR#906)
Message-ID: <200104101550.RAA24500@pubhealth.ku.dk>

Full_Name: Christopher Paul
Version: Version 1.2.2  (2001-02-26)
OS: Win 98
Submission from: (NULL) (4.35.137.70)


Using the GUI, if I make a plot(), click on the graphics window and then use my
wheelmouse to attempt to move up and down the graphics image, the image fails to
redrawn properly, and then entire GUI session "hangs" and needs to be closed.  I
wasn't aware how committed to the wheelmouse I had become, but even after
identifying the problem, I kept doing it.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Tue Apr 10 17:10:34 2001
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich Leisch)
Date: Tue, 10 Apr 2001 18:10:34 +0200
Subject: [Rd] BUG at http://www.r-project.org/ (PR#903)
In-Reply-To: <200104101151.NAA22091@pubhealth.ku.dk>
References: <200104101151.NAA22091@pubhealth.ku.dk>
Message-ID: <15059.12410.613040.846591@galadriel.ci.tuwien.ac.at>

>>>>> On Tue, 10 Apr 2001 13:51:58 +0200 (MET DST),
>>>>> khamenya  (k) wrote:

  > Dear Sirs,
  > 1. link
  >     http://cran.r-project.org/bin/windows/windows-NT/
  >    is cycled. (and it is impossible to get R-binaries for Win2000)

  > 2. why pages http://cran.r-project.org/ does not contain email address
  >    for such a bugs, broken links and etc?


This links are recursive by intent to ensure backwards compatibility
which you could have found out easily by reading the file ReadMe in
the directory:

** The directories windows-9x and windows-NT are recursive links and only
** there for backwards-compatibility. Please go directly to base or
** contrib to download R for all versions of Windows.



Hope this helps,

-- 
-------------------------------------------------------------------
                        Friedrich  Leisch 
Institut fr Statistik                     Tel: (+43 1) 58801 10715
Technische Universitt Wien                Fax: (+43 1) 58801 10798
Wiedner Hauptstrae 8-10/1071      Friedrich.Leisch@ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dsmith@insightful.com  Tue Apr 10 19:50:17 2001
From: dsmith@insightful.com (David M Smith)
Date: Tue, 10 Apr 2001 11:50:17 -0700
Subject: [Rd] Segmentation fault in subscripting array of lists (PR#904)
In-Reply-To: <200104101401.QAA23458@pubhealth.ku.dk>
Message-ID: <LGEFIDJJDBKMHCAKBCOIIEBBCPAA.dsmith@insightful.com>

R clearly shouldn't crash, but tmp[[1, ]] is semantically incorrect.  The
result of "[[" is required to be a single value from a vector (or generally,
an array) of the mode of the vector.  To select more than one element from
an array, you must use "[".  The results from S-PLUS 6 are:

> tmp[[1,  ]]
Problem in [[: Attempt to select more than one element: structure(list(NULL,
NULL, NULL, list(fred = c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)), NULL, NUL....
Use traceback() to see the call stack

This error message indicates the error.  Using "[" gives the correct result:

> tmp[1,  ]
[[1]]:
NULL

[[2]]:
[[2]]$fred:
 [1]  1  2  3  4  5  6  7  8  9 10


[[3]]:
NULL

[[4]]:
NULL


# David Smith

--
David M Smith <dsmith@insightful.com>
S-PLUS Product Marketing Manager, Insightful Corp, Seattle WA
Tel: +1 (206) 283 8802 x360
Fax: +1 (206) 283 0347

MathSoft is now Insightful!  See www.insightful.com for details.

> -----Original Message-----
> From: owner-r-devel@stat.math.ethz.ch
> [mailto:owner-r-devel@stat.math.ethz.ch]On Behalf Of
> J.C.Rougier@durham.ac.uk
> Sent: Tuesday, April 10, 2001 07:02
> To: r-devel@stat.math.ethz.ch
> Cc: R-bugs@biostat.ku.dk
> Subject: [Rd] Segmentation fault in subscripting array of lists (PR#904)
>
>
> I get a segmentation fault as follows:
>
> > tmp <- array(list(), c(3, 4))
> > tmp[[1, 2]]
> NULL                                  # as expected
> > tmp[[1, 2]]$fred <- 1:10
> > tmp                                 # as expected
>      [,1]   [,2]     [,3]   [,4]
> [1,] "NULL" "List,1" "NULL" "NULL"
> [2,] "NULL" "NULL"   "NULL" "NULL"
> [3,] "NULL" "NULL"   "NULL" "NULL"
> > tmp[[1, 2]]                         # as expected
> $fred
>  [1]  1  2  3  4  5  6  7  8  9 10
>
> > tmp[[1, ]]                          # whoops!
> Segmentation fault
>
> Cheers, Jonathan.
>
> --please do not edit the information below--
>
> Version:
>  platform = sparc-sun-solaris2.7
>  arch = sparc
>  os = solaris2.7
>  system = sparc, solaris2.7
>  status =
>  major = 1
>  minor = 2.1
>  year = 2001
>  month = 01
>  day = 15
>  language = R
>
> Search Path:
>  .GlobalEnv, Autoloads, package:base
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-
> r-devel mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Apr 11 08:10:14 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 11 Apr 2001 09:10:14 +0200 (MET DST)
Subject: [Rd] Win98 wheelmouse graphics lock problem (PR#906)
Message-ID: <200104110710.JAA27086@pubhealth.ku.dk>

On Tue, 10 Apr 2001 cpaul@ucla.edu wrote:

> Full_Name: Christopher Paul
> Version: Version 1.2.2  (2001-02-26)
> OS: Win 98
> Submission from: (NULL) (4.35.137.70)
>
>
> Using the GUI, if I make a plot(), click on the graphics window and then use my
> wheelmouse to attempt to move up and down the graphics image, the image fails to
> redrawn properly, and then entire GUI session "hangs" and needs to be closed.  I
> wasn't aware how committed to the wheelmouse I had become, but even after
> identifying the problem, I kept doing it.

I have no idea what the `wheelmouse' on your system is generating in the
way of events, or what you expected to happen.  An R graphics window does
not have vertical scrollbars by default.

Please debug this on your own system and submit a match.  The developers
neither use Win 98 nor a `wheelmouse', but the emulation on my Windows NT
system gives no problems.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.C.Rougier@durham.ac.uk  Wed Apr 11 09:15:26 2001
From: J.C.Rougier@durham.ac.uk (Jonathan Rougier)
Date: Wed, 11 Apr 2001 09:15:26 +0100 (BST)
Subject: [Rd] replicating lists
Message-ID: <Pine.GSO.4.20.0104110904110.13680-100000@laplace>

Hi Everyone,

At the moment it is not possible to replicate complex lists, but only
simple ones:

> rep(list(fred = 1:10), 10) # works fine
> rep(list(fred = 1:10, happy = "squash"), 10)
Error in rep(list(fred = 1:10, happy = "squash"), 10) : 
        Unimplemented feature in rep

There is nothing in ?rep that suggests that the latter should not work,
and I think it would be a desirable feature if it did.  For example, I
want to create an array of lists, and it would be nice for me to set
default values in the array function, rather than having to loop through
the components and setting them individually.

I've had a quick look in do_rep in seq.c and to my untrained eye it looks
as though the LISTSXP case of the main switch might need to be replaced by
a VECSXP, but I am not sure about other implications.

Cheers, Jonathan.

Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Apr 11 09:25:32 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 11 Apr 2001 09:25:32 +0100 (BST)
Subject: [Rd] replicating lists
In-Reply-To: <Pine.GSO.4.20.0104110904110.13680-100000@laplace>
Message-ID: <Pine.GSO.4.31.0104110924120.26817-100000@toucan.stats>

On Wed, 11 Apr 2001, Jonathan Rougier wrote:

> Hi Everyone,
>
> At the moment it is not possible to replicate complex lists, but only
> simple ones:
>
> > rep(list(fred = 1:10), 10) # works fine
> > rep(list(fred = 1:10, happy = "squash"), 10)
> Error in rep(list(fred = 1:10, happy = "squash"), 10) :
>         Unimplemented feature in rep

It is implemented in S3 and S4.

> There is nothing in ?rep that suggests that the latter should not work,
> and I think it would be a desirable feature if it did.  For example, I
> want to create an array of lists, and it would be nice for me to set
> default values in the array function, rather than having to loop through
> the components and setting them individually.
>
> I've had a quick look in do_rep in seq.c and to my untrained eye it looks
> as though the LISTSXP case of the main switch might need to be replaced by
> a VECSXP, but I am not sure about other implications.

I suggest filing this as a bug report.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.C.Rougier@durham.ac.uk  Wed Apr 11 09:34:28 2001
From: J.C.Rougier@durham.ac.uk (J.C.Rougier@durham.ac.uk)
Date: Wed, 11 Apr 2001 10:34:28 +0200 (MET DST)
Subject: [Rd] replicating lists (fwd) (PR#907)
Message-ID: <200104110834.KAA28896@pubhealth.ku.dk>

Filed as a bug, as suggested by Brian R., Jonathan.

Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html

---------- Forwarded message ----------
Date: Wed, 11 Apr 2001 09:15:26 +0100 (BST)
From: Jonathan Rougier <dma0jcr@euclid.dur.ac.uk>
To: r-devel@stat.math.ethz.ch
Subject: replicating lists

Hi Everyone,

At the moment it is not possible to replicate complex lists, but only
simple ones:

> rep(list(fred = 1:10), 10) # works fine
> rep(list(fred = 1:10, happy = "squash"), 10)
Error in rep(list(fred = 1:10, happy = "squash"), 10) : 
        Unimplemented feature in rep

There is nothing in ?rep that suggests that the latter should not work,
and I think it would be a desirable feature if it did.  For example, I
want to create an array of lists, and it would be nice for me to set
default values in the array function, rather than having to loop through
the components and setting them individually.

I've had a quick look in do_rep in seq.c and to my untrained eye it looks
as though the LISTSXP case of the main switch might need to be replaced by
a VECSXP, but I am not sure about other implications.

Cheers, Jonathan.

Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rgentlem@jimmy.harvard.edu  Wed Apr 11 14:29:27 2001
From: rgentlem@jimmy.harvard.edu (Robert Gentleman)
Date: Wed, 11 Apr 2001 09:29:27 -0400
Subject: [Rd] a couple of ideas/proposals
Message-ID: <20010411092927.D23203@jimmy.harvard.edu>

 Byron Ellis has been making some progress on a hdf5 library for
 microarray data (and any other thing you want to put in there).
 In doing so some issues have arisen that are of more general
 interest.

  1) hdf5 supports annotation (through comments) so it would be nice
  if the comment function in R became generic. I think this is
  backward compatible and basically not really an issue of any kind.

  2) When we start to think of proxy-objects (such as database tables
  and hdf5 arrays) as if they were R objects of a particular type
  things become rather interesting. 
     I'm starting to think that the right abstraction for hdf5 is as
  arrays (not dataframes) since the slabs are homogeneous. For us they
  are just ints or floats but they can be arbitrary so maybe the
  abstraction really is dataframe.
     In any event, the interesting question is about arraySubscript.
  (and I guess other similar functionality).
     Currently this gets (int dim, SEXP s, SEXP x)
   where s is the subscript argument and x is the object itself. All
  we do with x is to ask it for its dim attribute and potentially its
  DimNames attribute.
     We would like to use arraySubscript to generate the subscripts
  for [.hdf5.dataset. But since these guys aren't really R arrays this
  is slightly problematic. It might be better if we either change
  arraySubscript to accept the dims and dimnames but not x (so x can
  really be anything) or add a new entry point that does accept only
  these. I think the latter is the correct route - (do we have a way
  of deprecating R internals).
    I think that in general it would be nice to think of as much of
  the internal functionality moving towards supporting "non-internal"
  versions of some data structures. Especially arrays and dataframes
  since there seems to be some advantage to having external versions
  of them.

    Another thing that Byron mentioned is that he is using finalizers
    quite a lot but that R doesn't do a gc on exit and so these don't
    always get called (I haven't checked) but I think that might
    become necessary.
-- 
+---------------------------------------------------------------------------+
| Robert Gentleman                 phone : (617) 632-5250                   |
| Associate Professor              fax:   (617)  632-2444                   |
| Department of Biostatistics      office: M1B28
| Harvard School of Public Health  email: rgentlem@jimmy.dfci.harvard.edu   |
+---------------------------------------------------------------------------+
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From David James <dj@research.bell-labs.com>  Wed Apr 11 15:00:46 2001
From: David James <dj@research.bell-labs.com> (David James)
Date: Wed, 11 Apr 2001 10:00:46 -0400 (EDT)
Subject: [Rd] replicating lists
Message-ID: <200104111400.KAA21045@jessie.research.bell-labs.com>

A workaround is to use rep() inside "[":

> a <- list(a=1, b=2, c=3)
> a[rep(1:3, 1:3)]
$a
[1] 1

$b
[1] 2

$b
[1] 2

$c
[1] 3

$c
[1] 3

$c
[1] 3

Note, however, that names are no longer unique!

David A. James
Statistics Research, Room 2C-253            Phone:  (908) 582-3082       
Bell Labs, Lucent Technologies              Fax:    (908) 582-3340
Murray Hill, NJ 09794-0636
------------------------------------------------------------------------

> X-Authentication-Warning: toucan.stats: ripley owned process doing -bs
> Date: Wed, 11 Apr 2001 09:25:32 +0100 (BST)
> From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
> X-X-Sender: <ripley@toucan.stats>
> To: Jonathan Rougier <J.C.Rougier@durham.ac.uk>
> cc: <r-devel@stat.math.ethz.ch>
> Subject: Re: [Rd] replicating lists
> MIME-Version: 1.0
> 
> On Wed, 11 Apr 2001, Jonathan Rougier wrote:
> 
> > Hi Everyone,
> >
> > At the moment it is not possible to replicate complex lists, but only
> > simple ones:
> >
> > > rep(list(fred = 1:10), 10) # works fine
> > > rep(list(fred = 1:10, happy = "squash"), 10)
> > Error in rep(list(fred = 1:10, happy = "squash"), 10) :
> >         Unimplemented feature in rep
> 
> It is implemented in S3 and S4.
> 
> > There is nothing in ?rep that suggests that the latter should not work,
> > and I think it would be a desirable feature if it did.  For example, I
> > want to create an array of lists, and it would be nice for me to set
> > default values in the array function, rather than having to loop through
> > the components and setting them individually.
> >
> > I've had a quick look in do_rep in seq.c and to my untrained eye it looks
> > as though the LISTSXP case of the main switch might need to be replaced by
> > a VECSXP, but I am not sure about other implications.
> 
> I suggest filing this as a bug report.
> 
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> 
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@nokomis.stat.umn.edu  Wed Apr 11 15:14:53 2001
From: luke@nokomis.stat.umn.edu (Luke Tierney)
Date: Wed, 11 Apr 2001 09:14:53 -0500
Subject: [Rd] a couple of ideas/proposals
In-Reply-To: <20010411092927.D23203@jimmy.harvard.edu>; from rgentlem@jimmy.harvard.edu on Wed, Apr 11, 2001 at 09:29:27AM -0400
References: <20010411092927.D23203@jimmy.harvard.edu>
Message-ID: <20010411091453.A18327@nokomis.stat.umn.edu>

On Wed, Apr 11, 2001 at 09:29:27AM -0400, Robert Gentleman wrote:
>     Another thing that Byron mentioned is that he is using finalizers
>     quite a lot but that R doesn't do a gc on exit and so these don't
>     always get called (I haven't checked) but I think that might
>     become necessary.

I think what is needed here is a more flexible exit handler mechanism
together with weak references (which I'm hoping to add before too long).

For exit handling right now I think all we have is .Last.  It would be
nice to have something more like the
Tcl_CreateExitHandler/Tcl_DeleteExitHandler mechanism, together with
an appropriate R interface.

Without knowing the details I can't be sure, but I suspect he doesn't
really want a gc, which would only run the finalizers for unreachable
objects (actually might run is a better since there are no guarantees
of timeliness with finalization).  Instead I suspect he would like a
means of making sure all external objects he uses are shut down, even
the reachable ones.  To do that would require keeping track if all
those objects in a way that doesn't prevent GC (i.e. with weak
references) and then running through those externals and shutting them
down in an exit handler routine.

luke

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke@stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.C.Rougier@durham.ac.uk  Wed Apr 11 15:28:02 2001
From: J.C.Rougier@durham.ac.uk (Jonathan Rougier)
Date: Wed, 11 Apr 2001 15:28:02 +0100 (BST)
Subject: [Rd] replicating lists
In-Reply-To: <200104111400.KAA21045@jessie.research.bell-labs.com>
Message-ID: <Pine.GSO.4.20.0104111524560.13680-100000@laplace>

On Wed, 11 Apr 2001, David James wrote:

> A workaround is to use rep() inside "[":
> 
> > a <- list(a=1, b=2, c=3)
> > a[rep(1:3, 1:3)]
> $a
> [1] 1
> 
> $b
> [1] 2
> 
> $b
> [1] 2
> 
> $c
> [1] 3
> 
> $c
> [1] 3
> 
> $c
> [1] 3
> 
> Note, however, that names are no longer unique!

This work-around is cunning but needs a bit of care, as to get the
replication of the whole of fred you need to wrap the list itself:

> fred <- list(happy = 1:10, fred = "squash")
> list(fred)[rep(1, 10)] # list with 10 copies of fred

Cheers, Jonathn.

Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.C.Rougier@durham.ac.uk  Wed Apr 11 16:14:04 2001
From: J.C.Rougier@durham.ac.uk (Jonathan Rougier)
Date: Wed, 11 Apr 2001 16:14:04 +0100 (BST)
Subject: [Rd] replicating lists
In-Reply-To: <200104111457.KAA05539@jessie.research.bell-labs.com>
Message-ID: <Pine.GSO.4.20.0104111605580.13680-100000@laplace>

On Wed, 11 Apr 2001, David James wrote:

> Yes, I agree that the work-around needs some care, but I'm not sure 
> we need to wrap the list itself -- we're simply using properties of 
> "[" on lists.  If the subscript is rep(1, 10), then we'll get the 
> first element 10 times (which is *not* replicating the list).
> To get the replication we need to index every element in 
> the list as many times as required.

Not sure I follow you here.  I want n copies of an arbitrary list, as a
list, so list(fred)[rep(1, n)] is desired, where fred is the list I want
replicated.  Unfortuntely this does not solve the underlying problem,
which is that I want to do

> tmp <- array(fred, c(3, 4))

which breaks because "rep", invoked by "array", currently fails to handle
complex lists.  However I am happy to report that

> tmp <- array(list(fred)[rep(1, 12)], c(3, 4))

does work as expected:

> tmp[[3, 4]] # fred again!

So that's the work-around in my particular case.

Cheers, Jonathan.

Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From David James <dj@research.bell-labs.com>  Wed Apr 11 15:57:01 2001
From: David James <dj@research.bell-labs.com> (David James)
Date: Wed, 11 Apr 2001 10:57:01 -0400 (EDT)
Subject: [Rd] replicating lists
Message-ID: <200104111457.KAA05539@jessie.research.bell-labs.com>

hi,

Yes, I agree that the work-around needs some care, but I'm not sure 
we need to wrap the list itself -- we're simply using properties of 
"[" on lists.  If the subscript is rep(1, 10), then we'll get the 
first element 10 times (which is *not* replicating the list).
To get the replication we need to index every element in 
the list as many times as required.

David

> Date: Wed, 11 Apr 2001 15:28:02 +0100 (BST)
> From: Jonathan Rougier <J.C.Rougier@durham.ac.uk>
> X-Sender: dma0jcr@laplace
> To: David James <dj@research.bell-labs.com>
> cc: r-devel@stat.math.ethz.ch
> Subject: Re: [Rd] replicating lists
> MIME-Version: 1.0
> 
> On Wed, 11 Apr 2001, David James wrote:
> 
> > A workaround is to use rep() inside "[":
> > 
> > > a <- list(a=1, b=2, c=3)
> > > a[rep(1:3, 1:3)]
> > $a
> > [1] 1
> > 
> > $b
> > [1] 2
> > 
> > $b
> > [1] 2
> > 
> > $c
> > [1] 3
> > 
> > $c
> > [1] 3
> > 
> > $c
> > [1] 3
> > 
> > Note, however, that names are no longer unique!
> 
> This work-around is cunning but needs a bit of care, as to get the
> replication of the whole of fred you need to wrap the list itself:
> 
> > fred <- list(happy = 1:10, fred = "squash")
> > list(fred)[rep(1, 10)] # list with 10 copies of fred
> 
> Cheers, Jonathn.
> 
> Jonathan Rougier                       Science Laboratories
> Department of Mathematical Sciences    South Road
> University of Durham                   Durham DH1 3LE
> tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
> http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Apr 11 17:33:09 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 11 Apr 2001 17:33:09 +0100 (BST)
Subject: [Rd] replicating lists
In-Reply-To: <200104111457.KAA05539@jessie.research.bell-labs.com>
Message-ID: <Pine.LNX.4.31.0104111732380.1615-100000@gannet.stats>

The most obvious fix is internal, and that should be done fairly soon.


On Wed, 11 Apr 2001, David James wrote:

> hi,
>
> Yes, I agree that the work-around needs some care, but I'm not sure
> we need to wrap the list itself -- we're simply using properties of
> "[" on lists.  If the subscript is rep(1, 10), then we'll get the
> first element 10 times (which is *not* replicating the list).
> To get the replication we need to index every element in
> the list as many times as required.
>
> David
>
> > Date: Wed, 11 Apr 2001 15:28:02 +0100 (BST)
> > From: Jonathan Rougier <J.C.Rougier@durham.ac.uk>
> > X-Sender: dma0jcr@laplace
> > To: David James <dj@research.bell-labs.com>
> > cc: r-devel@stat.math.ethz.ch
> > Subject: Re: [Rd] replicating lists
> > MIME-Version: 1.0
> >
> > On Wed, 11 Apr 2001, David James wrote:
> >
> > > A workaround is to use rep() inside "[":
> > >
> > > > a <- list(a=1, b=2, c=3)
> > > > a[rep(1:3, 1:3)]
> > > $a
> > > [1] 1
> > >
> > > $b
> > > [1] 2
> > >
> > > $b
> > > [1] 2
> > >
> > > $c
> > > [1] 3
> > >
> > > $c
> > > [1] 3
> > >
> > > $c
> > > [1] 3
> > >
> > > Note, however, that names are no longer unique!
> >
> > This work-around is cunning but needs a bit of care, as to get the
> > replication of the whole of fred you need to wrap the list itself:
> >
> > > fred <- list(happy = 1:10, fred = "squash")
> > > list(fred)[rep(1, 10)] # list with 10 copies of fred
> >
> > Cheers, Jonathn.
> >
> > Jonathan Rougier                       Science Laboratories
> > Department of Mathematical Sciences    South Road
> > University of Durham                   Durham DH1 3LE
> > tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
> > http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html
> >
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Setzer.Woodrow@epamail.epa.gov  Wed Apr 11 22:39:57 2001
From: Setzer.Woodrow@epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Wed, 11 Apr 2001 23:39:57 +0200 (MET DST)
Subject: [Rd] using bitmap to make a multi-page pdf file results in duplication of (PR#908)
Message-ID: <200104112139.XAA04508@pubhealth.ku.dk>

When I execute the following code:

bitmap("test.pdf",type="pdfwrite")
plot(1:10,1:10,main="ONE")
plot(1:10,1:10,main="TWO")
dev.off()

the resulting file test.pdf contains four pages: graph ONE, graph TWO,
graph ONE, graph TWO.  I can recreate the problem with R version 1.2.1 and
1.2.2.  I am using Aladdin ghostscript version 6.50.  The temporary file
Rbit... has the correct number of graphs in it.  Furthermore, if I execute
from the command line the command as constructed in 'bitmap()', using the
Rbit... file as input, I get a pdf file with the correct number of graphs
in it.


--please do not edit the information below--

Version:
 platform = i386-pc-mingw32
 arch = x86
 os = Win32
 system = x86, Win32
 status =
 major = 1
 minor = 2.1
 year = 2001
 month = 01
 day = 15
 language = R

Windows 9x 4.10 (build 2222)  A

Search Path:
 .GlobalEnv, package:MASS, package:ctest, Autoloads, package:base



I am using ghostscript version 6.50, and have the following setup:
R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919) 541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Apr 12 07:48:07 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 12 Apr 2001 08:48:07 +0200 (MET DST)
Subject: [Rd] using bitmap to make a multi-page pdf file results in (PR#909)
Message-ID: <200104120648.IAA05429@pubhealth.ku.dk>

On Wed, 11 Apr 2001 Setzer.Woodrow@epamail.epa.gov wrote:

> When I execute the following code:
>
> bitmap("test.pdf",type="pdfwrite")
> plot(1:10,1:10,main="ONE")
> plot(1:10,1:10,main="TWO")
> dev.off()
>
> the resulting file test.pdf contains four pages: graph ONE, graph TWO,
> graph ONE, graph TWO.  I can recreate the problem with R version 1.2.1 and
> 1.2.2.  I am using Aladdin ghostscript version 6.50.  The temporary file
> Rbit... has the correct number of graphs in it.  Furthermore, if I execute
> from the command line the command as constructed in 'bitmap()', using the
> Rbit... file as input, I get a pdf file with the correct number of graphs
> in it.


It's  Windows-specific and easy to fix: replace

    cmd <- paste(gsexe, " -dNOPAUSE -dBATCH -q -sDEVICE=", type,
                 " -r", res,
                 " -g", ceiling(res*width), "x", ceiling(res*height),
                 " -sOutputFile=", file, " ", tmp, sep="")

by

    cmd <- paste(gsexe, " -dNOPAUSE -dBATCH -q -sDEVICE=", type,
                 " -r", res,
                 " -g", ceiling(res*width), "x", ceiling(res*height),
                 " -sOutputFile=", file, sep="")

Fixed for 1.2.3

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ligges@statistik.uni-dortmund.de  Thu Apr 12 08:50:48 2001
From: ligges@statistik.uni-dortmund.de (ligges@statistik.uni-dortmund.de)
Date: Thu, 12 Apr 2001 09:50:48 +0200 (MET DST)
Subject: [Rd] Re: stop() and Rcmd (PR#910)
Message-ID: <200104120750.JAA05587@pubhealth.ku.dk>

"Rcmd check"  on NT does not catch errors generated by stop() in files
in the tests directory. Thus the fact that all the tests complete does
not mean they completed succesfully.

This report is based on output from Rcmd check for the bundle dseplus
version 2001.4-1. The test  curve/tests/crvB07.R does a comparison which
on NT is outside of tolerance and executes stop(). (The comparison value
has been adjusted so that future versions of dseplus will not fail on
this test.)

Paul Gilbert / Uwe Ligges


--please do not edit the information below--

Version:
 platform = i386-pc-mingw32
 arch = x86
 os = Win32
 system = x86, Win32
 status = 
 major = 1
 minor = 2.2
 year = 2001
 month = 02
 day = 26
 language = R

Windows NT 4.0 (build 1381) Service Pack 6

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.C.Rougier@durham.ac.uk  Thu Apr 12 09:13:21 2001
From: J.C.Rougier@durham.ac.uk (Jonathan Rougier)
Date: Thu, 12 Apr 2001 09:13:21 +0100 (BST)
Subject: [Rd] replicating lists
In-Reply-To: <Pine.LNX.4.31.0104111732380.1615-100000@gannet.stats>
Message-ID: <Pine.GSO.4.20.0104120859570.13680-100000@laplace>

Hi Brian,

After a discussion with David James can you clarify exactly what you think
the behaviour of "rep" will be?  The three alternatives for rep(fred, 5)
would appear to be

> fred <- list(happy = 1:10, name = "squash")
> list(fred)[rep(1, 5)]                          # version 1
> fred[rep(seq(along=fred), length=5)]           # version 2
> unlist(list(fred)[rep(1, 5)], recursive=FALSE) # version 3

I was expecting the first, as this makes sense in the context of

> tmp <- array(fred, c(3, 4))

but I can see that the second is also a natural way to think about
replicating a list.  I also notice that S+ uses version 3.  Personally I
don't like version 3 as it is going to duplicate names, and it is not
going to fit with "array".

Confused, Jonathan.

On Wed, 11 Apr 2001, Prof Brian Ripley wrote:

> The most obvious fix is internal, and that should be done fairly soon.
> 
> 
> On Wed, 11 Apr 2001, David James wrote:
> 
> > hi,
> >
> > Yes, I agree that the work-around needs some care, but I'm not sure
> > we need to wrap the list itself -- we're simply using properties of
> > "[" on lists.  If the subscript is rep(1, 10), then we'll get the
> > first element 10 times (which is *not* replicating the list).
> > To get the replication we need to index every element in
> > the list as many times as required.
> >
> > David
> >
> > > Date: Wed, 11 Apr 2001 15:28:02 +0100 (BST)
> > > From: Jonathan Rougier <J.C.Rougier@durham.ac.uk>
> > > X-Sender: dma0jcr@laplace
> > > To: David James <dj@research.bell-labs.com>
> > > cc: r-devel@stat.math.ethz.ch
> > > Subject: Re: [Rd] replicating lists
> > > MIME-Version: 1.0
> > >
> > > On Wed, 11 Apr 2001, David James wrote:
> > >
> > > > A workaround is to use rep() inside "[":
> > > >
> > > > > a <- list(a=1, b=2, c=3)
> > > > > a[rep(1:3, 1:3)]
> > > > $a
> > > > [1] 1
> > > >
> > > > $b
> > > > [1] 2
> > > >
> > > > $b
> > > > [1] 2
> > > >
> > > > $c
> > > > [1] 3
> > > >
> > > > $c
> > > > [1] 3
> > > >
> > > > $c
> > > > [1] 3
> > > >
> > > > Note, however, that names are no longer unique!
> > >
> > > This work-around is cunning but needs a bit of care, as to get the
> > > replication of the whole of fred you need to wrap the list itself:
> > >
> > > > fred <- list(happy = 1:10, fred = "squash")
> > > > list(fred)[rep(1, 10)] # list with 10 copies of fred
> > >
> > > Cheers, Jonathn.

Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Apr 12 09:25:36 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 12 Apr 2001 09:25:36 +0100 (BST)
Subject: [Rd] Re: stop() and Rcmd (PR#910)
In-Reply-To: <200104120750.JAA05587@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.31.0104120922310.823-100000@toucan.stats>

On Thu, 12 Apr 2001 ligges@statistik.uni-dortmund.de wrote:

> "Rcmd check"  on NT does not catch errors generated by stop() in files
> in the tests directory. Thus the fact that all the tests complete does
> not mean they completed succesfully.
>
> This report is based on output from Rcmd check for the bundle dseplus
> version 2001.4-1. The test  curve/tests/crvB07.R does a comparison which
> on NT is outside of tolerance and executes stop(). (The comparison value
> has been adjusted so that future versions of dseplus will not fail on
> this test.)

Perl version?  (Lots of these things depend critically on the build.)
Does make pkgcheck-foo work or not?

Can you provide a patch that works on your setup, please.  Otherwise it
will remain unfixed.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Apr 12 09:40:43 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 12 Apr 2001 09:40:43 +0100 (BST)
Subject: [Rd] replicating lists
In-Reply-To: <Pine.GSO.4.20.0104120859570.13680-100000@laplace>
Message-ID: <Pine.GSO.4.31.0104120925470.823-100000@toucan.stats>

On Thu, 12 Apr 2001, Jonathan Rougier wrote:

> Hi Brian,
>
> After a discussion with David James can you clarify exactly what you think
> the behaviour of "rep" will be?  The three alternatives for rep(fred, 5)
> would appear to be
>
> > fred <- list(happy = 1:10, name = "squash")
> > list(fred)[rep(1, 5)]                          # version 1
> > fred[rep(seq(along=fred), length=5)]           # version 2
> > unlist(list(fred)[rep(1, 5)], recursive=FALSE) # version 3
>
> I was expecting the first, as this makes sense in the context of
>
> > tmp <- array(fred, c(3, 4))
>
> but I can see that the second is also a natural way to think about
> replicating a list.  I also notice that S+ uses version 3.  Personally I
> don't like version 3 as it is going to duplicate names, and it is not
> going to fit with "array".
>
> Confused, Jonathan.

We follow the prototype in cases of doubt, so version 3.  *However*,
S-PLUS does different things by version, so version 6.0 drops the
duplicated names.  I really think only 3 makes sense: a list is a generic
vector, and you do exactly the same thing as for any other sort of vector.
The only issue is the names, and

x <- letters[1:3]
names(x) <- x
rep(x, 5)

drops names in S+6.0, keeps them in S+3.4 and R.  So the S-PLUS versions
are doing consistent things with character vectors and lists.

As for array, again it fits with all other sorts of vectors.   I think you
are misconceiving what a list is: think of it as a vector with
components of different types.  An array list is just an array with
elements of different types.  The problems you had with [[1, ]] stem from
the same problem,

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From e.zwane@fss.uu.nl  Thu Apr 12 09:44:17 2001
From: e.zwane@fss.uu.nl (e.zwane@fss.uu.nl)
Date: Thu, 12 Apr 2001 10:44:17 +0200 (MET DST)
Subject: [Rd] .Random.seed (PR#911)
Message-ID: <200104120844.KAA05804@pubhealth.ku.dk>

I am not sure whether this is really a bug, but seems to be as my program 
works pretty well in S+, for small iterations.

I am creating a random sample from a chi^2 distribution with 23.5 df. Thus 
I have to sample from a chi^2 with 23 or 24 df with probability 0.5. The 
other alternative is to create a weighted version of the two distribution, 
which is where my problem lies.

I use the following commands

while(iter<100){
old.seed<-.Random.seed
#sample from chi^2 23
set.seed(old.seed)
#sample from chi^2 24

#chi^2, 23.5 <- 0.5*(chi^2 23+chi^2 24)
iter+1
}

The unfortunate thing is that the ".Random.seed" is no longer random but 
remains constant, and I want to find ways around this problem.
_______________________________________________________________________
Eugene ZWANE
Department of Methodology and Statistics
Postbus 80.140
3508 TC, Utrecht
The Netherlands

Tel: +31 (030) 253-7635
_______________________________________________________________________
The formulation of a problem is more often essential than its solution 
which may be merely a matter of mathematical or experimental skill. 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Apr 12 10:08:20 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 12 Apr 2001 11:08:20 +0200 (MET DST)
Subject: [Rd] .Random.seed (PR#911)
Message-ID: <200104120908.LAA05854@pubhealth.ku.dk>

On Thu, 12 Apr 2001 e.zwane@fss.uu.nl wrote:

> I am not sure whether this is really a bug, but seems to be as my program
> works pretty well in S+, for small iterations.

It contains two serious bugs.  Please read the FAQ on reporting BUGS.

> I am creating a random sample from a chi^2 distribution with 23.5 df. Thus
> I have to sample from a chi^2 with 23 or 24 df with probability 0.5. The
> other alternative is to create a weighted version of the two distribution,
> which is where my problem lies.
>
> I use the following commands
>
> while(iter<100){
> old.seed<-.Random.seed
> #sample from chi^2 23
> set.seed(old.seed)

That's invalid in both S-PLUS and in R.  The argument to set.seed is
not in the format of the result of the return from .Random.seed.

> #sample from chi^2 24
>
> #chi^2, 23.5 <- 0.5*(chi^2 23+chi^2 24)

That's an average, not an equi-probability choice.

> iter+1
> }
>
> The unfortunate thing is that the ".Random.seed" is no longer random but
> remains constant, and I want to find ways around this problem.

Use the functions correctly!  You really should not be restoring random
seeds during a simulation, as you will get heavily dependent rvs.

If you really want a Chi-squared with 23.5 df, use rgamma.  It can do it
exactly.


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Thu Apr 12 11:58:45 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Thu, 12 Apr 2001 12:58:45 +0200
Subject: [Rd] replicating lists
In-Reply-To: <Pine.GSO.4.31.0104120925470.823-100000@toucan.stats>
References: <Pine.GSO.4.20.0104120859570.13680-100000@laplace>
 <Pine.GSO.4.31.0104120925470.823-100000@toucan.stats>
Message-ID: <15061.35429.294081.705880@mithrandir.hornik.net>

>>>>> Prof Brian Ripley writes:

> On Thu, 12 Apr 2001, Jonathan Rougier wrote:
>> Hi Brian,
>> 
>> After a discussion with David James can you clarify exactly what you think
>> the behaviour of "rep" will be?  The three alternatives for rep(fred, 5)
>> would appear to be
>> 
>> > fred <- list(happy = 1:10, name = "squash")
>> > list(fred)[rep(1, 5)]                          # version 1
>> > fred[rep(seq(along=fred), length=5)]           # version 2
>> > unlist(list(fred)[rep(1, 5)], recursive=FALSE) # version 3
>> 
>> I was expecting the first, as this makes sense in the context of
>> 
>> > tmp <- array(fred, c(3, 4))
>> 
>> but I can see that the second is also a natural way to think about
>> replicating a list.  I also notice that S+ uses version 3.  Personally I
>> don't like version 3 as it is going to duplicate names, and it is not
>> going to fit with "array".
>> 
>> Confused, Jonathan.

> We follow the prototype in cases of doubt, so version 3.  *However*,
> S-PLUS does different things by version, so version 6.0 drops the
> duplicated names.  I really think only 3 makes sense: a list is a
> generic vector, and you do exactly the same thing as for any other
> sort of vector.  The only issue is the names, and

> x <- letters[1:3]
> names(x) <- x
> rep(x, 5)

> drops names in S+6.0, keeps them in S+3.4 and R.  So the S-PLUS
> versions are doing consistent things with character vectors and lists.

We had a similar discussion when fixing all.equal problems with lists.
These are generic vectors and not hashtables, hence I think the above is
the ``right approach'' (following the general principle).

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gilg.seeber@uibk.ac.at  Thu Apr 12 14:07:54 2001
From: gilg.seeber@uibk.ac.at (gilg.seeber@uibk.ac.at)
Date: Thu, 12 Apr 2001 15:07:54 +0200 (MET DST)
Subject: [Rd] Rgui.exe crash on Windows 2000 (PR#912)
Message-ID: <200104121307.PAA06507@pubhealth.ku.dk>

Full_Name: G.U.H. Seeber
Version: most recent binary from CRAN
OS: Windows 2000
Submission from: (NULL) (138.232.202.67)


When calling Rgui.exe the program crashes before any windows open. 
I append the output from Dr. Watson:

Anwendungsausnahme aufgetreten:
        Anwendung:  (pid=860)
        Wann: 12.04.2001 @ 13:33:11.515
        Ausnahmenummer: c0000005 (Zugriffsverletzung)

*----> Systeminformationen <----*
        Computername: C403-DRUM
        Benutzername: gs
        Prozessoranzahl: 1
        Prozessortyp: x86 Family 6 Model 7 Stepping 2
        Windows 2000-Version: 5.0
        Aktuelles Build: 2195
        Service Pack: None
        Aktueller Typ: Uniprocessor Free
        Firma: Universitt Innsbruck
        Besitzer: Institut fr Statistik

*----> Taskliste <----*
   0 Idle.exe
   8 System.exe
 152 smss.exe
 180 csrss.exe
 200 winlogon.exe
 228 services.exe
 240 lsass.exe
 404 svchost.exe
 452 LEXBCES.exe
 476 spoolsv.exe
 512 cpqalert.exe
 532 svchost.exe
 548 inetd32.exe
 564 jconfigdNT.exe
 600 regsvc.exe
 608 hjavaw.exe
 624 mstask.exe
 672 tcpsvcs.exe
 692 javaw.exe
 720 snmp.exe
 776 Win32sl.exe
 800 ZipToA.exe
 832 inetinfo.exe
 880 cpqdmi.exe
1172 explorer.exe
 328 chkadmin.exe
1204 nwtray.exe
1212 dpmw32.exe
1220 realplay.exe
1236 pdesk.exe
1252 AcroTray.exe
1296 IMGICON.exe
1388 OSA.exe
1420 CLOCK.exe
1052 exceed.exe
 860 Rgui.exe
1312 drwtsn32.exe
   0 _Total.exe

(00400000 - 00406000)
(77F80000 - 77FFF000)
(02510000 - 026DC000)
(77DA0000 - 77DFA000)
(77E70000 - 77F33000)
(77D30000 - 77D9F000)
(77B40000 - 77BCA000)
(77F40000 - 77F7C000)
(77E00000 - 77E65000)
(76B00000 - 76B3F000)
(77C60000 - 77CAA000)
(77580000 - 777C6000)
(78000000 - 78046000)
(77810000 - 77817000)
(75940000 - 75946000)
(74FC0000 - 74FC9000)
(74FA0000 - 74FB4000)
(74F90000 - 74F98000)
(77A40000 - 77B35000)
(779A0000 - 77A35000)
(77840000 - 7787D000)
(77090000 - 770B3000)

Statusabbild fr Threadkennung 0x37c

eax=00003a64 ebx=0240fa20 ecx=00000000 edx=7efefeff esi=00000002 edi=02688472
eip=78003b44 esp=0240f9a0 ebp=0240fe90 iopl=0         nv up ei pl zr na po nc
cs=001b  ss=0023  ds=0023  es=0023  fs=0038  gs=0000             efl=00000246


Funktion: strcpy
        78003b27 7416             jz      _threadhandle+0x4c2 (7800c53f)
        78003b29 8a11             mov     dl,[ecx]                    
ds:00000000=??
        78003b2b 41               inc     ecx
        78003b2c 84d2             test    dl,dl
        78003b2e 0f84c8100000     je      strcat+0x9c (78004bfc)
        78003b34 8817             mov     [edi],dl                    
ds:02688472=00
        78003b36 47               inc     edi
        78003b37 f7c103000000     test    ecx,0x3
        78003b3d 75ea             jnz     seh_longjmp_unwind+0x2 (7800f629)
        78003b3f bafffefe7e       mov     edx,0x7efefeff
FEHLER ->78003b44 8b01             mov     eax,[ecx]             
ds:00000000=????????
        78003b46 03d0             add     edx,eax
        78003b48 83f0ff           xor     eax,0xff
        78003b4b 33c2             xor     eax,edx
        78003b4d 8b11             mov     edx,[ecx]             
ds:00000000=????????
        78003b4f 83c104           add     ecx,0x4
        78003b52 a900010181       test    eax,0x81010100
        78003b57 0f8565100000     jne     strcat+0x62 (78004bc2)
        78003b5d 8917             mov     [edi],edx             
ds:02688472=00000000
        78003b5f 83c704           add     edi,0x4
        78003b62 ebdb             jmp     set_sbh_threshold+0xca3 (7800dd3f)
        78003b64 a16cbb0378    mov eax,[environ+0x24 (7803bb6c)]
ds:7803bb6c=78003b91

*----> Stack Back Trace <----*

FramePtr ReturnAd Param#1  Param#2  Param#3  Param#4  Function Name
0240FE90 004012FA 00000000 02BE37C8 77E8D051 00000008 !strcpy
0240FEB0 0040123B 00000001 02BE37C8 0240FEE0 00401227 !<nosymbols>
0240FEE0 004013DE 00400000 00000000 02413285 00000001 !<nosymbols>
0240FF60 004011C1 00000001 02BE37C8 02BE29A8 004011A6 !<nosymbols>
0240FFA0 00401207 00000002 00000000 00000000 77E77900 !<nosymbols>
0240FFC0 77E77903 00000008 00000002 7FFDF000 C0000005 !<nosymbols>
0240FFF0 00000000 004011F0 00000000 000000C8 00000100
kernel32!SetUnhandledExceptionFilter

*----> Raw Stack Dump <----*
0240f9a0  08 00 00 00 bc f8 52 02 - 70 84 68 02 00 00 00 00  ......R.p.h.....
0240f9b0  7a f2 52 02 7c f8 52 02 - 70 f2 52 02 c8 37 be 02  z.R.|.R.p.R..7..
0240f9c0  90 fe 40 02 0d f8 52 02 - 85 32 41 02 02 00 00 00  ..@...R..2A.....
0240f9d0  08 00 00 00 a1 71 e7 77 - a0 71 41 02 e8 72 41 02  .....q.w.qA..rA.
0240f9e0  00 00 00 00 00 e0 fd 7f - 65 00 63 00 75 00 74 00  ........e.c.u.t.
0240f9f0  78 01 41 02 78 01 41 02 - 00 c0 f8 1f 00 00 00 00  x.A.x.A.........
0240fa00  20 00 00 00 18 00 00 00 - 00 c0 f8 1f 00 30 39 18   ............09.
0240fa10  00 90 06 4e 00 80 86 47 - 00 00 fe 7f 00 00 aa 6a  ...N...G.......j
0240fa20  00 00 00 00 00 00 00 00 - 01 00 00 00 00 00 00 00  ................
0240fa30  01 00 00 00 01 00 00 00 - 00 00 00 00 01 00 00 00  ................
0240fa40  05 00 00 00 00 00 60 00 - 30 57 05 00 ff ff ff 7f  ......`.0W......
0240fa50  ff ff ff 7f 01 00 00 00 - 01 00 00 00 60 18 c0 02  ............`...
0240fa60  e0 6b 68 02 75 00 69 00 - 6c e5 52 02 48 e8 52 02  .kh.u.i.l.R.H.R.
0240fa70  38 e4 52 02 00 1e 66 02 - a4 1e 66 02 fc e8 52 02  8.R...f...f...R.
0240fa80  00 00 00 00 00 00 00 00 - d4 fa 40 02 00 10 00 00  ..........@.....
0240fa90  04 00 00 00 00 00 41 02 - 00 00 41 02 e8 6d 41 02  ......A...A..mA.
0240faa0  00 00 00 00 40 06 41 02 - 43 02 00 00 e0 fa 40 02  ....@.A.C.....@.
0240fab0  04 00 00 00 d3 43 f9 77 - 48 07 be 02 00 00 be 02  .....C.wH.......
0240fac0  04 00 00 00 00 00 00 00 - b8 fa 40 02 00 02 00 00  ..........@.....
0240fad0  70 fc 40 02 db 80 fb 77 - 18 44 f9 77 ff ff ff ff  p.@....w.D.w....

Statusabbild fr Threadkennung 0x3dc

eax=77d3b759 ebx=02420820 ecx=0241eafc edx=00000000 esi=024206f0 edi=00000100
eip=77f82eec esp=1506fe28 ebp=1506ff74 iopl=0         nv up ei pl nz na pe nc
cs=001b  ss=0023  ds=0023  es=0023  fs=0038  gs=0000             efl=00000202


Funktion: ZwReplyWaitReceivePortEx
        77f82ee1 b8ac000000       mov     eax,0xac
        77f82ee6 8d542404         lea     edx,[esp+0x4]         
ss:15eed3ff=????????
        77f82eea cd2e             int     2e
        77f82eec c21400           ret     0x14

*----> Stack Back Trace <----*

FramePtr ReturnAd Param#1  Param#2  Param#3  Param#4  Function Name
1506FF74 77D3B407 77D3B7BF 024206F0 00000000 40420204
ntdll!ZwReplyWaitReceivePortEx
1506FFA8 77D3B771 0241F680 1506FFEC 77E82CA8 02420820
rpcrt4!RpcBindingSetOption
1506FFB4 77E82CA8 02420820 00000000 40420204 02420820
rpcrt4!RpcBindingSetOption
1506FFEC 00000000 00000000 00000000 00000000 00000000 kernel32!CreateFileA


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Apr 12 14:37:49 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 12 Apr 2001 15:37:49 +0200 (MET DST)
Subject: [Rd] Rgui.exe crash on Windows 2000 (PR#912)
Message-ID: <200104121337.PAA06622@pubhealth.ku.dk>

On Thu, 12 Apr 2001 gilg.seeber@uibk.ac.at wrote:

> Full_Name: G.U.H. Seeber
> Version: most recent binary from CRAN

And what was that called?  rterm --version tells you.

> OS: Windows 2000
> Submission from: (NULL) (138.232.202.67)
>
>
> When calling Rgui.exe the program crashes before any windows open.

As it does not on my Windows 2000 system, nor on the Windows 2000 system
on which it was built nor for many other users, this would appear to
indicate a problem with your installation and not with the R binaries.
In particular, the error seems to have occurred in a system DLL and not in
Rgui.exe.

I suggest you compile a debug version from the sources and investigate
what problem might be peculiar to your machine.

One thing we know, but seems implausible: R fails to start (but with a
different error) if the machine has less than 10Mb of RAM.  But Windows
2000 likes 64MB or more.

[...]

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Apr 12 16:00:21 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 12 Apr 2001 17:00:21 +0200 (MET DST)
Subject: [Rd] Re: stop() and Rcmd (PR#910)
Message-ID: <200104121500.RAA06862@pubhealth.ku.dk>

On Thu, 12 Apr 2001, Prof Brian Ripley wrote:

> On Thu, 12 Apr 2001 ligges@statistik.uni-dortmund.de wrote:
>
> > "Rcmd check"  on NT does not catch errors generated by stop() in files
> > in the tests directory. Thus the fact that all the tests complete does
> > not mean they completed succesfully.

In my experiments it *does* put out an error but continues.  This is
intentional, as some Perls are rather flaky.  If you want to change it,
remove the leading `-' in line 29 of etc/Makeconf-tests.

> > This report is based on output from Rcmd check for the bundle dseplus
> > version 2001.4-1. The test  curve/tests/crvB07.R does a comparison which
> > on NT is outside of tolerance and executes stop(). (The comparison value
> > has been adjusted so that future versions of dseplus will not fail on
> > this test.)
>
> Perl version?  (Lots of these things depend critically on the build.)
> Does make pkgcheck-foo work or not?

That does work for me, with build 613 (and at least 619-621 are known to
have broken system() calls).

If you are not seeing an error on the console as the tests run,
something else is up in your setup (not at all unlikely with
Windows makes).

On the other hand, Rcmd check dse fails for me because the scripts
are asking for interactive input (the number of singular values) and
chewing up the rest of the script.  That *is* a bug in dse.

In general, make pkgcheck-foo is more reliable under Windows.


BTW, this has nothing whatsoever to do with Rcmd!

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Apr 12 16:08:58 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 12 Apr 2001 17:08:58 +0200 (MET DST)
Subject: [Rd] readline 4.2 shows R has (fatal) incorrect declarations. (PR#913)
Message-ID: <200104121508.RAA06926@pubhealth.ku.dk>

Specifically Solaris 2.7 and R 1.2.2 patched, but the principle is general.

src/unix/sys-unix.c declares the function tilde_expand from readline,
incorrectly for readline 4.x.  That's OK in 4.1 as it is not in the
included headers, but it is for 4.2, and so compilation fails (under gcc
2.95.3 at least).

The quick fix is (ca line 88)

char *tilde_expand(const char*);
                   ^^^^^

but we should really check the readline version number and only
define this in earlier versions.

There is also a conflict in src/unix/sys-std.c: readline_handler
is defined with unsigned char * but it should be char * according to the
readline 4.2 prototype.


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Apr 12 17:33:21 2001
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 12 Apr 2001 12:33:21 -0400
Subject: [Rd] Re: stop() and Rcmd (PR#910)
References: <200104121500.RAA06862@pubhealth.ku.dk>
Message-ID: <3AD5D8D1.C0573E52@bank-banque-canada.ca>

>> > "Rcmd check"  on NT does not catch errors generated by stop() in files
>> > in the tests directory. Thus the fact that all the tests complete does
>> > not mean they completed succesfully.

>In my experiments it *does* put out an error but continues.  This is
>intentional, as some Perls are rather flaky.  If you want to change it,
>remove the leading `-' in line 29 of etc/Makeconf-tests.

Knowing little about Windows I won't try to suggest what the default should be for
Windows. However, I do rely on make stopping when there is an error signalled by "R
CMD build". There is too much output to examine manually every time I test a package.
In general I think errors may go unnoticed for a long time if make does not stop on
errors, so I think the idea of continuing is a bit risky. But perhaps I should be
using something other than "R CMD build" to do testing. I thought things had recently
changed so that this was the preferred way to test a package?

>On the other hand, Rcmd check dse fails for me because the scripts
>are asking for interactive input (the number of singular values) and
>chewing up the rest of the script.  That *is* a bug in dse.

That is a bug in some examples, thanks for pointing it out. Is there a strategy for
handling interactive input to examples?

I don't seem to get the "chewing up the rest of the script" though. I also don't get
any failure in the sense of an error signalled to R CMD build or to my make. For the
reasons mentioned above I think that might be a good thing to do.

Paul Gilbert


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Apr 12 17:47:42 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 12 Apr 2001 17:47:42 +0100 (BST)
Subject: [Rd] Re: stop() and Rcmd (PR#910)
In-Reply-To: <3AD5D8D1.C0573E52@bank-banque-canada.ca>
Message-ID: <Pine.GSO.4.31.0104121741080.1707-100000@toucan.stats>

On Thu, 12 Apr 2001, Paul Gilbert wrote:

> >> > "Rcmd check"  on NT does not catch errors generated by stop() in files
> >> > in the tests directory. Thus the fact that all the tests complete does
> >> > not mean they completed succesfully.
>
> >In my experiments it *does* put out an error but continues.  This is
> >intentional, as some Perls are rather flaky.  If you want to change it,
> >remove the leading `-' in line 29 of etc/Makeconf-tests.
>
> Knowing little about Windows I won't try to suggest what the default should be for
> Windows. However, I do rely on make stopping when there is an error signalled by "R
> CMD build". There is too much output to examine manually every time I test a package.
> In general I think errors may go unnoticed for a long time if make does not stop on
> errors, so I think the idea of continuing is a bit risky. But perhaps I should be
> using something other than "R CMD build" to do testing. I thought things had recently
> changed so that this was the preferred way to test a package?

1) On Unix only R CMD check exists.

2) On Windows, we did hope to make Rcmd check the standard way.
Unfortunately, a whole series Perl builds were broken, so make
pkgcheck-foo is still preferred.

3) There is a perfectly clear error message in the output on the console
from the run (and there is very litle from correct tests, so little to
look at), and I think it is hard to overlook, if you look at all.
But if you want, you can change it.

> >On the other hand, Rcmd check dse fails for me because the scripts
> >are asking for interactive input (the number of singular values) and
> >chewing up the rest of the script.  That *is* a bug in dse.
>
> That is a bug in some examples, thanks for pointing it out. Is there a strategy for
> handling interactive input to examples?

You can't have any at all.  It will read the next part of the script,
after the current buffer.

> I don't seem to get the "chewing up the rest of the script" though. I also don't get
> any failure in the sense of an error signalled to R CMD build or to my make. For the
> reasons mentioned above I think that might be a good thing to do.

What happens depends on buffer size and so is platform-specific.  Windows
seems to have much smaller buffers than Solaris or Linux, so this seems to
bite there much more often.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Thu Apr 12 22:43:33 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Thu, 12 Apr 2001 23:43:33 +0200
Subject: [Rd] Rgui.exe crash on Windows 2000 (PR#912)
References: <200104121307.PAA06507@pubhealth.ku.dk>
Message-ID: <3AD62185.B157022C@univie.ac.at>

is any of the running processes a keyboard macro program?
on my win2k machine,
hotkeyboard (a system wide macro expander)
and r cannot coexist.



gilg.seeber@uibk.ac.at wrote:
> 
> Full_Name: G.U.H. Seeber
> Version: most recent binary from CRAN
> OS: Windows 2000
> Submission from: (NULL) (138.232.202.67)
> 
> When calling Rgui.exe the program crashes before any windows open.
> I append the output from Dr. Watson:
> 
> Anwendungsausnahme aufgetreten:
>         Anwendung:  (pid=860)
>         Wann: 12.04.2001 @ 13:33:11.515
>         Ausnahmenummer: c0000005 (Zugriffsverletzung)
> 
> *----> Systeminformationen <----*
>         Computername: C403-DRUM
>         Benutzername: gs
>         Prozessoranzahl: 1
>         Prozessortyp: x86 Family 6 Model 7 Stepping 2
>         Windows 2000-Version: 5.0
>         Aktuelles Build: 2195
>         Service Pack: None
>         Aktueller Typ: Uniprocessor Free
>         Firma: Universitt Innsbruck
>         Besitzer: Institut fr Statistik
> 
> *----> Taskliste <----*
>    0 Idle.exe
>    8 System.exe
>  152 smss.exe
>  180 csrss.exe
>  200 winlogon.exe
>  228 services.exe
>  240 lsass.exe
>  404 svchost.exe
>  452 LEXBCES.exe
>  476 spoolsv.exe
>  512 cpqalert.exe
>  532 svchost.exe
>  548 inetd32.exe
>  564 jconfigdNT.exe
>  600 regsvc.exe
>  608 hjavaw.exe
>  624 mstask.exe
>  672 tcpsvcs.exe
>  692 javaw.exe
>  720 snmp.exe
>  776 Win32sl.exe
>  800 ZipToA.exe
>  832 inetinfo.exe
>  880 cpqdmi.exe
> 1172 explorer.exe
>  328 chkadmin.exe
> 1204 nwtray.exe
> 1212 dpmw32.exe
> 1220 realplay.exe
> 1236 pdesk.exe
> 1252 AcroTray.exe
> 1296 IMGICON.exe
> 1388 OSA.exe
> 1420 CLOCK.exe
> 1052 exceed.exe
>  860 Rgui.exe
> 1312 drwtsn32.exe
>    0 _Total.exe
> 
> (00400000 - 00406000)
> (77F80000 - 77FFF000)
> (02510000 - 026DC000)
> (77DA0000 - 77DFA000)
> (77E70000 - 77F33000)
> (77D30000 - 77D9F000)
> (77B40000 - 77BCA000)
> (77F40000 - 77F7C000)
> (77E00000 - 77E65000)
> (76B00000 - 76B3F000)
> (77C60000 - 77CAA000)
> (77580000 - 777C6000)
> (78000000 - 78046000)
> (77810000 - 77817000)
> (75940000 - 75946000)
> (74FC0000 - 74FC9000)
> (74FA0000 - 74FB4000)
> (74F90000 - 74F98000)
> (77A40000 - 77B35000)
> (779A0000 - 77A35000)
> (77840000 - 7787D000)
> (77090000 - 770B3000)
> 
> Statusabbild fr Threadkennung 0x37c
> 
> eax=00003a64 ebx=0240fa20 ecx=00000000 edx=7efefeff esi=00000002 edi=02688472
> eip=78003b44 esp=0240f9a0 ebp=0240fe90 iopl=0         nv up ei pl zr na po nc
> cs=001b  ss=0023  ds=0023  es=0023  fs=0038  gs=0000             efl=00000246
> 
> Funktion: strcpy
>         78003b27 7416             jz      _threadhandle+0x4c2 (7800c53f)
>         78003b29 8a11             mov     dl,[ecx]
> ds:00000000=??
>         78003b2b 41               inc     ecx
>         78003b2c 84d2             test    dl,dl
>         78003b2e 0f84c8100000     je      strcat+0x9c (78004bfc)
>         78003b34 8817             mov     [edi],dl
> ds:02688472=00
>         78003b36 47               inc     edi
>         78003b37 f7c103000000     test    ecx,0x3
>         78003b3d 75ea             jnz     seh_longjmp_unwind+0x2 (7800f629)
>         78003b3f bafffefe7e       mov     edx,0x7efefeff
> FEHLER ->78003b44 8b01             mov     eax,[ecx]
> ds:00000000=????????
>         78003b46 03d0             add     edx,eax
>         78003b48 83f0ff           xor     eax,0xff
>         78003b4b 33c2             xor     eax,edx
>         78003b4d 8b11             mov     edx,[ecx]
> ds:00000000=????????
>         78003b4f 83c104           add     ecx,0x4
>         78003b52 a900010181       test    eax,0x81010100
>         78003b57 0f8565100000     jne     strcat+0x62 (78004bc2)
>         78003b5d 8917             mov     [edi],edx
> ds:02688472=00000000
>         78003b5f 83c704           add     edi,0x4
>         78003b62 ebdb             jmp     set_sbh_threshold+0xca3 (7800dd3f)
>         78003b64 a16cbb0378    mov eax,[environ+0x24 (7803bb6c)]
> ds:7803bb6c=78003b91
> 
> *----> Stack Back Trace <----*
> 
> FramePtr ReturnAd Param#1  Param#2  Param#3  Param#4  Function Name
> 0240FE90 004012FA 00000000 02BE37C8 77E8D051 00000008 !strcpy
> 0240FEB0 0040123B 00000001 02BE37C8 0240FEE0 00401227 !<nosymbols>
> 0240FEE0 004013DE 00400000 00000000 02413285 00000001 !<nosymbols>
> 0240FF60 004011C1 00000001 02BE37C8 02BE29A8 004011A6 !<nosymbols>
> 0240FFA0 00401207 00000002 00000000 00000000 77E77900 !<nosymbols>
> 0240FFC0 77E77903 00000008 00000002 7FFDF000 C0000005 !<nosymbols>
> 0240FFF0 00000000 004011F0 00000000 000000C8 00000100
> kernel32!SetUnhandledExceptionFilter
> 
> *----> Raw Stack Dump <----*
> 0240f9a0  08 00 00 00 bc f8 52 02 - 70 84 68 02 00 00 00 00  ......R.p.h.....
> 0240f9b0  7a f2 52 02 7c f8 52 02 - 70 f2 52 02 c8 37 be 02  z.R.|.R.p.R..7..
> 0240f9c0  90 fe 40 02 0d f8 52 02 - 85 32 41 02 02 00 00 00  ..@...R..2A.....
> 0240f9d0  08 00 00 00 a1 71 e7 77 - a0 71 41 02 e8 72 41 02  .....q.w.qA..rA.
> 0240f9e0  00 00 00 00 00 e0 fd 7f - 65 00 63 00 75 00 74 00  ........e.c.u.t.
> 0240f9f0  78 01 41 02 78 01 41 02 - 00 c0 f8 1f 00 00 00 00  x.A.x.A.........
> 0240fa00  20 00 00 00 18 00 00 00 - 00 c0 f8 1f 00 30 39 18   ............09.
> 0240fa10  00 90 06 4e 00 80 86 47 - 00 00 fe 7f 00 00 aa 6a  ...N...G.......j
> 0240fa20  00 00 00 00 00 00 00 00 - 01 00 00 00 00 00 00 00  ................
> 0240fa30  01 00 00 00 01 00 00 00 - 00 00 00 00 01 00 00 00  ................
> 0240fa40  05 00 00 00 00 00 60 00 - 30 57 05 00 ff ff ff 7f  ......`.0W......
> 0240fa50  ff ff ff 7f 01 00 00 00 - 01 00 00 00 60 18 c0 02  ............`...
> 0240fa60  e0 6b 68 02 75 00 69 00 - 6c e5 52 02 48 e8 52 02  .kh.u.i.l.R.H.R.
> 0240fa70  38 e4 52 02 00 1e 66 02 - a4 1e 66 02 fc e8 52 02  8.R...f...f...R.
> 0240fa80  00 00 00 00 00 00 00 00 - d4 fa 40 02 00 10 00 00  ..........@.....
> 0240fa90  04 00 00 00 00 00 41 02 - 00 00 41 02 e8 6d 41 02  ......A...A..mA.
> 0240faa0  00 00 00 00 40 06 41 02 - 43 02 00 00 e0 fa 40 02  ....@.A.C.....@.
> 0240fab0  04 00 00 00 d3 43 f9 77 - 48 07 be 02 00 00 be 02  .....C.wH.......
> 0240fac0  04 00 00 00 00 00 00 00 - b8 fa 40 02 00 02 00 00  ..........@.....
> 0240fad0  70 fc 40 02 db 80 fb 77 - 18 44 f9 77 ff ff ff ff  p.@....w.D.w....
> 
> Statusabbild fr Threadkennung 0x3dc
> 
> eax=77d3b759 ebx=02420820 ecx=0241eafc edx=00000000 esi=024206f0 edi=00000100
> eip=77f82eec esp=1506fe28 ebp=1506ff74 iopl=0         nv up ei pl nz na pe nc
> cs=001b  ss=0023  ds=0023  es=0023  fs=0038  gs=0000             efl=00000202
> 
> Funktion: ZwReplyWaitReceivePortEx
>         77f82ee1 b8ac000000       mov     eax,0xac
>         77f82ee6 8d542404         lea     edx,[esp+0x4]
> ss:15eed3ff=????????
>         77f82eea cd2e             int     2e
>         77f82eec c21400           ret     0x14
> 
> *----> Stack Back Trace <----*
> 
> FramePtr ReturnAd Param#1  Param#2  Param#3  Param#4  Function Name
> 1506FF74 77D3B407 77D3B7BF 024206F0 00000000 40420204
> ntdll!ZwReplyWaitReceivePortEx
> 1506FFA8 77D3B771 0241F680 1506FFEC 77E82CA8 02420820
> rpcrt4!RpcBindingSetOption
> 1506FFB4 77E82CA8 02420820 00000000 40420204 02420820
> rpcrt4!RpcBindingSetOption
> 1506FFEC 00000000 00000000 00000000 00000000 00000000 kernel32!CreateFileA
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Sat Apr 14 01:39:56 2001
From: dmurdoch@pair.com (dmurdoch@pair.com)
Date: Sat, 14 Apr 2001 02:39:56 +0200 (MET DST)
Subject: [Rd] Postscript font bugs (and a suggestion) (PR#914)
Message-ID: <200104140039.CAA10778@pubhealth.ku.dk>

Documentation and other bugs with postscript():

1.  This code crashes R (it asks for a font that isn't there):

 postscript()
 plot(0:1,0:1)
 text(0.5,0.5,'crash',font=6)


The bug appears to be in the FixupFont routine in plot.c; on line 236,
it checks that the font number is in the range 1..32.  Later this
crashes PostScriptStringWidth in devPS.c, because only fonts numbered
1..5 are actually defined.  I don't know how to fix it.


2.  The ?postscript help topic refers to .ps.profile; the actual
variable name is .ps.prolog.  The C source in main/devPS.c has this
on lines 606-608, with the incorrect name in the error message:

    prolog = findVar(install(".ps.prolog"), R_GlobalEnv);
    if(!isString(prolog))
	error("Object .ps.profile is not a character vector");


3.  And this is a suggestion, not a bug:  I'd like to change the font 
definitions by changing the .ps.prolog instructions, but devPS.c puts
the     

   PSEncodeFont(fp, encoding);

line after the place where .ps.prolog is written to the file.  If
.ps.prolog were last, then it could override any standard setting.
This would mean that the font metrics would not be quite right, but it
would be useful for experimenting.

This patch addresses items 2 and 3 in src/main/devPS.c:

606,608c606,609
<     prolog = findVar(install(".ps.prolog"), R_GlobalEnv);
<     if(!isString(prolog))
< 	error("Object .ps.profile is not a character vector");
---
>     PSEncodeFont(fp, encoding);
>     prolog = findVar(install(".ps.prolog"), R_GlobalEnv);
>     if(!isString(prolog))
> 	error("Object .ps.prolog is not a character vector");
613d614
<     PSEncodeFont(fp, encoding);

and this addresses item 2 in src/library/base/postscript.Rd:

116c116
<   vector \code{.ps.profile}.  This is marked in the output, and can
be
---
>   vector \code{.ps.prolog}.  This is marked in the output, and can be



--please do not edit the information below--

Version:
 platform = i386-pc-mingw32
 arch = x86
 os = Win32
 system = x86, Win32
 status = 
 major = 1
 minor = 2.2
 year = 2001
 month = 02
 day = 26
 language = R

Windows 9x 4.0 (build 1111)  B

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sat Apr 14 07:33:13 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 14 Apr 2001 07:33:13 +0100 (BST)
Subject: [Rd] Postscript font bugs (and a suggestion) (PR#914)
In-Reply-To: <200104140039.CAA10778@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.31.0104140722510.21140-100000@auk.stats>

On Sat, 14 Apr 2001 dmurdoch@pair.com wrote:

> Documentation and other bugs with postscript():
>
> 1.  This code crashes R (it asks for a font that isn't there):
>
>  postscript()
>  plot(0:1,0:1)
>  text(0.5,0.5,'crash',font=6)

Only on Windows, I think.  This works fine on Unix.

> The bug appears to be in the FixupFont routine in plot.c; on line 236,
> it checks that the font number is in the range 1..32.  Later this

(1..32 on Windows, 1..4 elsewhere.)

> crashes PostScriptStringWidth in devPS.c, because only fonts numbered
> 1..5 are actually defined.  I don't know how to fix it.

I've added a range check in PS_StrWidth.

> 2.  The ?postscript help topic refers to .ps.profile; the actual
> variable name is .ps.prolog.  The C source in main/devPS.c has this
> on lines 606-608, with the incorrect name in the error message:
>
>     prolog = findVar(install(".ps.prolog"), R_GlobalEnv);
>     if(!isString(prolog))
> 	error("Object .ps.profile is not a character vector");

Done.

> 3.  And this is a suggestion, not a bug:  I'd like to change the font
> definitions by changing the .ps.prolog instructions, but devPS.c puts
> the
>
>    PSEncodeFont(fp, encoding);
>
> line after the place where .ps.prolog is written to the file.  If
> .ps.prolog were last, then it could override any standard setting.
> This would mean that the font metrics would not be quite right, but it
> would be useful for experimenting.

Why not use the way which is supported, to supply a user-specifed family?
For experimenting the easiest way surely is to edit the postscript file.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Sat Apr 14 13:29:40 2001
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Sat, 14 Apr 2001 14:29:40 +0200
Subject: [Rd] Re: stop() and Rcmd (PR#910)
In-Reply-To: <3AD5D8D1.C0573E52@bank-banque-canada.ca>
References: <200104121500.RAA06862@pubhealth.ku.dk>
 <3AD5D8D1.C0573E52@bank-banque-canada.ca>
Message-ID: <15064.17076.342387.924179@gargle.gargle.HOWL>

>>>>> "PaulG" == Paul Gilbert <pgilbert@bank-banque-canada.ca> writes:

      ..........

    >> On the other hand, Rcmd check dse fails for me because the scripts
    >> are asking for interactive input (the number of singular values) and
    >> chewing up the rest of the script.  That *is* a bug in dse.

    PaulG> That is a bug in some examples, thanks for pointing it out. Is
    PaulG> there a strategy for handling interactive input to examples?

As Brian said, they "not allowed at all" for normal (tested) part of the
examples.
If you want to *show* them in the example section of your help
{*and* allow the ESS user to send them linewise (by "l") or regionwise}
you must wrap these parts into
\dontrun{

   ... your interactive things ...

}

Note that this will be improved, once we move to a more general
documentation format (based on xml).

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Sat Apr 14 17:03:31 2001
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Sat, 14 Apr 2001 12:03:31 -0400
Subject: [Rd] Defining extra fonts in the postscript driver
Message-ID: <uvrgdtg2ngfhbc0cma4m8eatki0g57v9bj@4ax.com>

I've been looking at the ellipse package I co-wrote with Ed Chow for
S-Plus a few years ago, cleaning up the documentation now it's been
ported to R (by Jesus Frias, thanks IOsu!) and I'm back as the
maintainer.

One of the things it did which we thought was kind of cute at the time
was to use a few lines of Postscript code to define a font, where the
glyphs were ellipses of various shapes, used in the plotcorr function
to display big correlation matrices.

This isn't needed, strictly speaking:  the current port draws the
ellipses using polygon() and lines().  But drawing them with calls to
text() was quite a bit faster,  resulted in much smaller output files,
and just generally seemed like a good idea.

I can imagine other situations where people want to use strange fonts
(user-defined, or just imported from somewhere or other) in R graphs.

Right now that's quite difficult.  The Postscript driver supports four
fonts plus the symbol font; this limit is hard-coded into it.  I can
see a strong argument for having the first five fonts follow a
predictable pattern, but shouldn't it be possible to extend the list?
Syntax could be like the extended family syntax for the current
driver:  a list of filenames of AFM files defining the font
characteristics.  The documentation could state that the first five
must be for regular, bold, italic, bold italic and symbol fonts, but
there seems to be no requirement to restrict the list to 5 entries, or
to put any constraints on entries after the first 5.

I'd be happy to submit revised devPS.c and postscript.Rd files to
implement this, if there's general agreement that it would be a good
idea.

Duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sun Apr 15 23:17:14 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Apr 2001 00:17:14 +0200
Subject: [Rd] Detaching "ctest"
In-Reply-To: Jonathan Rougier's message of "Mon, 9 Apr 2001 09:32:28 +0100 (BST)"
References: <Pine.GSO.4.20.0104090928480.13680-100000@laplace>
Message-ID: <x2snj9oljp.fsf@blueberry.kubism.ku.dk>

Jonathan Rougier <J.C.Rougier@durham.ac.uk> writes:

> > But this is exactly what happens---settings from .Rprofile do override
> > the system and site defaults.  The question is whether .First should be
> > used for package setup, or something else ...
> 
> OK! if you put it like that, then I think that .First should definitely
> *not* be used for package set-up, as it prevents .Rprofile commands from
> being the last things executed before the prompt, and thus removes
> "complete user control" of the set-up.

Ummm, I think you're missing a point here: There is more than one
Rprofile. In normal operation, the system and site Rprofiles are run
*unconditionally* (unless --no-site-file etc. is used). Some things
are not easily undone, package loading for one. Hence it is
unattractive to load packages in the system or site Rprofiles. So what
is there to do? The current construction is to manipulate .First, with
the intention that the user can redefine it in .Rprofile *before it is
being run* and thus have complete control over what packages get
loaded. 

You do want .First to be the last thing run before the prompt, not the
.Rprofile commands, I'm fairly confident about that. The real problem
could be seen as too late loading of the user workspace so that a
stored .First overrides the one set up in the profile. That would be
fairly easy to change, but is it really what one wants??? (If you
explicitly edit .First and save the workspace, wouldn't you expect tne
edited version to be the one run when you start next time?)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Mon Apr 16 09:24:07 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Mon, 16 Apr 2001 10:24:07 +0200
Subject: [Rd] display URLs in browsers
Message-ID: <15066.44071.166554.297231@mithrandir.hornik.net>

Maybe someone knows the answer right away, but I am afraid that all of
us are on Netscape ...

With Netscape, we can do
	netscape -remote -openURL($url)

Does anyone know how to get browsers other than Netscape to display
URLs?

I am specifically interested in
	gnome-help-browser
	mozilla

but would welcome any pointers.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Apr 16 09:51:57 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 16 Apr 2001 09:51:57 +0100 (BST)
Subject: [Rd] display URLs in browsers
In-Reply-To: <15066.44071.166554.297231@mithrandir.hornik.net>
Message-ID: <Pine.GSO.4.31.0104160942240.7738-100000@toucan.stats>

On Mon, 16 Apr 2001, Kurt Hornik wrote:

> Maybe someone knows the answer right away, but I am afraid that all of
> us are on Netscape ...
>
> With Netscape, we can do
> 	netscape -remote -openURL($url)
>
> Does anyone know how to get browsers other than Netscape to display
> URLs?
>
> I am specifically interested in
> 	gnome-help-browser

You don't expect help on gnome, do you?  gnome-help-browser -help says
nothing useful.

I downloaded Ximian GNOME (rpms via their downloader) a week or so ago,
but can't start it as gnome-session is a binary linked against slightly
different X libraries ....

> 	mozilla

I don't know about mozilla (I think Doug uses it), but it looks very
like Netscape 6.01, and that does *seem* to use the Netscape 4.* syntax,
alkthough the --help does not mention it.

KDE has a browser as I recall.


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Mon Apr 16 12:40:30 2001
From: bates@stat.wisc.edu (Douglas Bates)
Date: 16 Apr 2001 06:40:30 -0500
Subject: [Rd] display URLs in browsers
In-Reply-To: <Pine.GSO.4.31.0104160942240.7738-100000@toucan.stats>
References: <Pine.GSO.4.31.0104160942240.7738-100000@toucan.stats>
Message-ID: <6rlmp15az5.fsf@franz.stat.wisc.edu>

Prof Brian Ripley <ripley@stats.ox.ac.uk> writes:

> On Mon, 16 Apr 2001, Kurt Hornik wrote:

> > Does anyone know how to get browsers other than Netscape to display
> > URLs?

> > 	mozilla
> 
> I don't know about mozilla (I think Doug uses it), but it looks very
> like Netscape 6.01, and that does *seem* to use the Netscape 4.* syntax,
> alkthough the --help does not mention it.

I tried mozilla for a while but eventually shifted back to netscape.
Tony Rossini has more experience with mozilla than I do.

I did try to make the link from R to mozilla.  As I recall I didn't
get it working because I couldn't work out how to pass the information
for the initial page to open.  Since I don't tend to use help.start()
it wasn't a big priority for me.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Mon Apr 16 13:05:41 2001
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Mon, 16 Apr 2001 14:05:41 +0200
Subject: [Rd] display URLs in browsers
In-Reply-To: <6rlmp15az5.fsf@franz.stat.wisc.edu>
References: <Pine.GSO.4.31.0104160942240.7738-100000@toucan.stats>
 <6rlmp15az5.fsf@franz.stat.wisc.edu>
Message-ID: <15066.57365.573121.478800@gargle.gargle.HOWL>

>>>>> "DougB" == Douglas Bates <bates@stat.wisc.edu> writes:

    DougB> Prof Brian Ripley <ripley@stats.ox.ac.uk> writes:
    >> On Mon, 16 Apr 2001, Kurt Hornik wrote:

    >> > Does anyone know how to get browsers other than Netscape to
    >> display > URLs?

    >> > mozilla
    >> 
    >> I don't know about mozilla (I think Doug uses it), but it looks very
    >> like Netscape 6.01, and that does *seem* to use the Netscape 4.*
    >> syntax, alkthough the --help does not mention it.

    DougB> I tried mozilla for a while but eventually shifted back to
    DougB> netscape.  Tony Rossini has more experience with mozilla than I
    DougB> do.

    DougB> I did try to make the link from R to mozilla.  As I recall I
    DougB> didn't get it working because I couldn't work out how to pass
    DougB> the information for the initial page to open.  Since I don't
    DougB> tend to use help.start() it wasn't a big priority for me.

Since I am at home .. :
With the newest (as 2 days ago) mozilla "M18-3" for stable Debian GNU/Linux 
I get for "mozilla -help"

Usage: /usr/lib/mozilla/mozilla-bin [ options ... ] [URL]
       where options include:

        -height <value>         Set height of startup window to <value>.
        -h or -help             Print this message.
        -installer              Start with 4.x migration window.
        -width <value>          Set width of startup window to <value>.
        -v or -version          Print /usr/lib/mozilla/mozilla-bin version.
        -CreateProfile <profile>                Create and start with
        -<profile>.
        -P <profile>            Start with <profile>.
        -ProfileWizard          Start with profile wizard.
        -ProfileManager         Start with profile manager.
        -SelectProfile          Start with profile selection dialog.
        -splash         Enable splash screen.
        -compose <url>          Start with messenger compose.
        -edit <url>             Start with editor.
        -terminal               Start with a command line terminal
        -mail           Start with mail.
        -chrome <url>           Start with browser.
        -addressbook            Start with the addressbook.
        -chat           Start with an IRC chat client
        -jsconsole              Start with Javascript Console
        -news           Start with news.

which suggests that

      mozilla -chrome http://www.R-project.org/

does what you want. But uuh, yes, it starts a browser with the R page,
but in the usual mode: I get one "full screen" window, but nothing from the
usual tool buttons, URL entry, ... things of netscape/mozilla.

Also the above always starts a  new mozilla, i.e. does not do what we really
want: open an URL in any already running browser.

Martin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossini@u.washington.edu  Mon Apr 16 13:58:01 2001
From: rossini@u.washington.edu (A.J. Rossini)
Date: 16 Apr 2001 05:58:01 -0700
Subject: [Rd] display URLs in browsers
In-Reply-To: Martin Maechler's message of "Mon, 16 Apr 2001 14:05:41 +0200"
References: <Pine.GSO.4.31.0104160942240.7738-100000@toucan.stats>
 <6rlmp15az5.fsf@franz.stat.wisc.edu>
 <15066.57365.573121.478800@gargle.gargle.HOWL>
Message-ID: <877l0lm27a.fsf@jeeves.blindglobe.net>

>>>>> "MM" == Martin Maechler <maechler@stat.math.ethz.ch> writes:


    MM> which suggests that

    MM>       mozilla -chrome http://www.R-project.org/

Once mozilla is working, under gnome, I get this:

        gnome-moz-remote --newwin URL 

to bring up a new window.  Recently, I've nearly (not entirely)
converted to KDE's konqueror and

        konqueror URL

works.  I still am not fond of KDE's overall UI, but the tools they've
developed suit my needs.

(needed SSL for various grant associated reasons last week, and:
1. setting up SSL in Mozilla (under Debian) is a PITA, 
2. "modern" WWW browsers are easier to use than netscape, for
    navigating complex non-servlet sites).

I'm still running in a GNOME environment, though.

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
UW Biostat/Center for AIDS Research	rossini@u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini@scharp.org
-------- (friday is unknown) --------
FHCRC: M--W : 206-667-7025 (fax=4812)|Voicemail is pretty sketchy
CFAR:  ??   : 206-731-3647 (fax=3694)|Email is far better than phone
UW:    Th   : 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Mon Apr 16 15:41:04 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Mon, 16 Apr 2001 16:41:04 +0200
Subject: [Rd] display URLs in browsers
In-Reply-To: <877l0lm27a.fsf@jeeves.blindglobe.net>
References: <Pine.GSO.4.31.0104160942240.7738-100000@toucan.stats>
 <6rlmp15az5.fsf@franz.stat.wisc.edu>
 <15066.57365.573121.478800@gargle.gargle.HOWL>
 <877l0lm27a.fsf@jeeves.blindglobe.net>
Message-ID: <15067.1152.25353.234359@mithrandir.hornik.net>

>>>>> A J Rossini writes:

>>>>> "MM" == Martin Maechler <maechler@stat.math.ethz.ch> writes:
MM> which suggests that

MM> mozilla -chrome http://www.R-project.org/

> Once mozilla is working, under gnome, I get this:

>         gnome-moz-remote --newwin URL 

> to bring up a new window.

Thanks for the feedback.  Actually,
	http://www.mozilla.org/unix/remote.html
claims that one can do

	mozilla -remote "openurl(http://www.mozilla.org)"

but this does not work for me (version M18-3).

Btw, the search engine does not work either, and e.g. the FAQ parts do
not display at all.

> Recently, I've nearly (not entirely) converted to KDE's konqueror and

>         konqueror URL

> works.  I still am not fond of KDE's overall UI, but the tools they've
> developed suit my needs.

That's all?  Does that start a new version of konqueror if one is
already up and running?

> (needed SSL for various grant associated reasons last week, and:
> 1. setting up SSL in Mozilla (under Debian) is a PITA, 
> 2. "modern" WWW browsers are easier to use than netscape, for
>     navigating complex non-servlet sites).

Hmm ...

For gnome-help-browser, one can apparently do

	gnome-help-browser URL

but I have yet to figure out how to use an existing help-browser ...

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossini@u.washington.edu  Mon Apr 16 15:56:29 2001
From: rossini@u.washington.edu (A.J. Rossini)
Date: 16 Apr 2001 07:56:29 -0700
Subject: [Rd] display URLs in browsers
In-Reply-To: Kurt Hornik's message of "Mon, 16 Apr 2001 16:41:04 +0200"
References: <Pine.GSO.4.31.0104160942240.7738-100000@toucan.stats>
 <6rlmp15az5.fsf@franz.stat.wisc.edu>
 <15066.57365.573121.478800@gargle.gargle.HOWL>
 <877l0lm27a.fsf@jeeves.blindglobe.net>
 <15067.1152.25353.234359@mithrandir.hornik.net>
Message-ID: <87zodg99lu.fsf@jeeves.blindglobe.net>

>>>>> "KH" == Kurt Hornik <Kurt.Hornik@ci.tuwien.ac.at> writes:
>>>>> A J Rossini writes:
>>>>> "MM" == Martin Maechler <maechler@stat.math.ethz.ch> writes:
    MM> which suggests that

    MM> mozilla -chrome http://www.R-project.org/

    >> Once mozilla is working, under gnome, I get this:

    >> gnome-moz-remote --newwin URL

    >> to bring up a new window.

    KH> Thanks for the feedback.  Actually,
    KH> http://www.mozilla.org/unix/remote.html claims that one can do

    KH> 	mozilla -remote "openurl(http://www.mozilla.org)"

    KH> but this does not work for me (version M18-3).

Me neither.

    >> Recently, I've nearly (not entirely) converted to KDE's
    >> konqueror and

    >> konqueror URL

    >> works.  I still am not fond of KDE's overall UI, but the tools
    >> they've developed suit my needs.

    KH> That's all?  Does that start a new version of konqueror if one
    KH> is already up and running?

I don't know.  I'll check tonight.

    KH> For gnome-help-browser, one can apparently do

    KH> 	gnome-help-browser URL

    KH> but I have yet to figure out how to use an existing
    KH> help-browser ...

But you probably don't want to use it for much; R help is fine, but
much more wouldn't be.

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
UW Biostat/Center for AIDS Research	rossini@u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini@scharp.org
-------- (friday is unknown) --------
FHCRC: M--W : 206-667-7025 (fax=4812)|Voicemail is pretty sketchy
CFAR:  ??   : 206-731-3647 (fax=3694)|Email is far better than phone
UW:    Th   : 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Mon Apr 16 16:11:07 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Mon, 16 Apr 2001 17:11:07 +0200
Subject: [Rd] display URLs in browsers
In-Reply-To: <87zodg99lu.fsf@jeeves.blindglobe.net>
References: <Pine.GSO.4.31.0104160942240.7738-100000@toucan.stats>
 <6rlmp15az5.fsf@franz.stat.wisc.edu>
 <15066.57365.573121.478800@gargle.gargle.HOWL>
 <877l0lm27a.fsf@jeeves.blindglobe.net>
 <15067.1152.25353.234359@mithrandir.hornik.net>
 <87zodg99lu.fsf@jeeves.blindglobe.net>
Message-ID: <15067.2955.799437.633071@mithrandir.hornik.net>

>>>>> A J Rossini writes:

>>>>> "KH" == Kurt Hornik <Kurt.Hornik@ci.tuwien.ac.at> writes:
>>>>> A J Rossini writes:
>>>>> "MM" == Martin Maechler <maechler@stat.math.ethz.ch> writes:
MM> which suggests that

MM> mozilla -chrome http://www.R-project.org/

>>> Once mozilla is working, under gnome, I get this:

>>> gnome-moz-remote --newwin URL

>>> to bring up a new window.

KH> Thanks for the feedback.  Actually,
KH> http://www.mozilla.org/unix/remote.html claims that one can do

KH> mozilla -remote "openurl(http://www.mozilla.org)"

KH> but this does not work for me (version M18-3).

> Me neither.

>>> Recently, I've nearly (not entirely) converted to KDE's
>>> konqueror and

>>> konqueror URL

>>> works.  I still am not fond of KDE's overall UI, but the tools
>>> they've developed suit my needs.

KH> That's all?  Does that start a new version of konqueror if one
KH> is already up and running?

> I don't know.  I'll check tonight.

Great, thanks.

KH> For gnome-help-browser, one can apparently do

KH> gnome-help-browser URL

KH> but I have yet to figure out how to use an existing
KH> help-browser ...

> But you probably don't want to use it for much; R help is fine, but
> much more wouldn't be.

Actually, I am mostly trying to get rid of the netscape-specific code in
help.start().  I.e., start a little private beast
	diplayURLinBrowser(url, browser)
which eventually could be made more useful ...

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Apr 16 21:44:35 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Apr 2001 22:44:35 +0200
Subject: [Rd] PR#896
In-Reply-To: Torsten Hothorn's message of "Mon, 9 Apr 2001 18:19:10 +0200 (MEST)"
References: <Pine.LNX.4.21.0104091809580.10969-100000@artemis.imbe.med.uni-erlangen.de>
Message-ID: <x24rvo7ex8.fsf@blueberry.kubism.ku.dk>

Torsten Hothorn <Torsten.Hothorn@rzmail.uni-erlangen.de> writes:

> > c(3.770684,4.654342,3.496403,1.772743,1.624953,2.645835,3.0994
> > 77,1.706758,3.507709,1.982924)
> > y<-c(-0.8161288,0.1632923,0.6421997,1.9270846,-
> > 0.4668112,0.3587806,0.3312529,-0.5393900,
> > 0.1057892,1.7963575)
> 
> `wdiff' is used for the computation of asymptotic confidence intervals for
> samples with m,n > 50. I simulated the type I error rate and it works for
> such large sample sizes. So maybe the problems are due to n.x = n.y = 10 ?
> 
> Torsten

I think the real problem is here:

> > ol<-optimize(wdiff,c(mumin,mumax),zq=qnorm(0.05))$minimum
> > om<-optimize(wdiff,c(mumin,mumax),zq=qnorm(0.5))$minimum
> > ou<-optimize(wdiff,c(mumin,mumax),zq=qnorm(0.95))$minimum
> > 
> > abline(v=ol)
> > abline(v=om,lty=4)
> > abline(v=ou,lty=7)

Optimize() is a gradient algorithm and wdiff is not smooth, so the
algorithm terminates at a stationary non-optimal point. Using optim()
with the default Nelder-Mead instead seemed to work better, although
not perfectly. (I played with this before going on Easter holiday, and
I'm not going to reconstruct exactly what I did then just now....)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From cdhershberger@dow.com  Tue Apr 17 04:34:06 2001
From: cdhershberger@dow.com (cdhershberger@dow.com)
Date: Tue, 17 Apr 2001 05:34:06 +0200 (MET DST)
Subject: [Rd] cannot allocate vector of size 71773 Kb (PR#915)
Message-ID: <200104170334.FAA19601@pubhealth.ku.dk>

Full_Name: Doug Hershberger
Version: 1.2.2
OS: Red Hat-Linux 7.0
Submission from: (NULL) (216.99.65.36)


In the R FAQ I find the following entry explaining that R no longer has   
problems with memory.

http://cran.r-project.org/doc/FAQ/R-FAQ.html#Why%20does%20R%20run%20out%20of%20of%20memory%3f

However in my installation: R Version 1.2.2  (2001-02-26)

Installed from the red hat RPM on your site on a Red Hat 7.0 i686

I get the following error when working with large data sets:

                > source("/usr/local/genex/rcluster/lib/rcluster/r/hcluster.r");
               > breadth.program("uploaded_data.txt", "average", 10)
                Read 2 items
                Read 8574 items
                Error: cannot allocate vector of size 71773 Kb
                Execution halted

Is there a way to fix this? This is running as part of the GeneX
installation so I would have to dig through to figure out how to give R
more memory.

Besides which I don't think that will work.

Thanks for any insight that you can provide.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ligges@statistik.uni-dortmund.de  Tue Apr 17 07:16:03 2001
From: ligges@statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 17 Apr 2001 08:16:03 +0200
Subject: [Rd] cannot allocate vector of size 71773 Kb (PR#915)
References: <200104170334.FAA19601@pubhealth.ku.dk>
Message-ID: <3ADBDFA3.91667E53@statistik.uni-dortmund.de>



cdhershberger@dow.com wrote:
> 
> Full_Name: Doug Hershberger
> Version: 1.2.2
> OS: Red Hat-Linux 7.0
> Submission from: (NULL) (216.99.65.36)
> 
> In the R FAQ I find the following entry explaining that R no longer has
> problems with memory.
> 
> http://cran.r-project.org/doc/FAQ/R-FAQ.html#Why%20does%20R%20run%20out%20of%20of%20memory%3f
> 
> However in my installation: R Version 1.2.2  (2001-02-26)
> 
> Installed from the red hat RPM on your site on a Red Hat 7.0 i686
> 
> I get the following error when working with large data sets:
> 
>                 > source("/usr/local/genex/rcluster/lib/rcluster/r/hcluster.r");
>                > breadth.program("uploaded_data.txt", "average", 10)
>                 Read 2 items
>                 Read 8574 items
>                 Error: cannot allocate vector of size 71773 Kb
>                 Execution halted
> 
> Is there a way to fix this? This is running as part of the GeneX
> installation so I would have to dig through to figure out how to give R
> more memory.
> 
> Besides which I don't think that will work.
> 
> Thanks for any insight that you can provide.


That is NOT A BUG!

Have a look at ?Memory
Start R with --max-mem-size=xxxM

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Apr 17 07:17:31 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 17 Apr 2001 08:17:31 +0200 (MET DST)
Subject: [Rd] cannot allocate vector of size 71773 Kb (PR#915)
Message-ID: <200104170617.IAA20047@pubhealth.ku.dk>

On Tue, 17 Apr 2001 cdhershberger@dow.com wrote:

> Full_Name: Doug Hershberger
> Version: 1.2.2
> OS: Red Hat-Linux 7.0
> Submission from: (NULL) (216.99.65.36)
>
>
> In the R FAQ I find the following entry explaining that R no longer has
> problems with memory.

No longer has the same problems....  There is also a section on
`What is a bug?' that you should read again.

> http://cran.r-project.org/doc/FAQ/R-FAQ.html#Why%20does%20R%20run%20out%20of%20of%20memory%3f
>
> However in my installation: R Version 1.2.2  (2001-02-26)
>
> Installed from the red hat RPM on your site on a Red Hat 7.0 i686
>
> I get the following error when working with large data sets:
>
>                 > source("/usr/local/genex/rcluster/lib/rcluster/r/hcluster.r");
>                > breadth.program("uploaded_data.txt", "average", 10)
>                 Read 2 items
>                 Read 8574 items
>                 Error: cannot allocate vector of size 71773 Kb
>                 Execution halted
>
> Is there a way to fix this? This is running as part of the GeneX

Install more memory, or write better R code, or use better statistical
methods.

> installation so I would have to dig through to figure out how to give R
> more memory.
>
> Besides which I don't think that will work.

We would need to know a lot more about the code to see the problem,
but as a quick guess, clustering 8574 items with the standard algorithms
takes a very large amount of memory (on any system), so it would be the
third alternative.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Tue Apr 17 11:24:41 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Tue, 17 Apr 2001 12:24:41 +0200
Subject: [Rd] converting body of a function to a a character vector
References: <200104170617.IAA20047@pubhealth.ku.dk>
Message-ID: <3ADC19E9.AE9E3501@univie.ac.at>

have a look at the following session:

> fff<-function(x)
+ {
+ x*x
+ }
> fff
function(x)
{
x*x
}
>
> body(fff)
{
    x * x
}
> as.character(body(fff))
[1] "{"     "x * x"

somehow,
the closing parenthesis gets lost in the conversion.

i need this stuff because i want to get
the code of a function as a vector of strings so i can get it
into excel with my interface package.



--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Apr 17 16:31:00 2001
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 17 Apr 2001 11:31:00 -0400
Subject: [Rd] cannot allocate vector of size 71773 Kb (PR#915)
References: <200104170334.FAA19601@pubhealth.ku.dk>
Message-ID: <3ADC61B4.C5E42DDB@bank-banque-canada.ca>

> I get the following error when working with large data sets:
>
>                 > source("/usr/local/genex/rcluster/lib/rcluster/r/hcluster.r");
>                > breadth.program("uploaded_data.txt", "average", 10)
>                 Read 2 items
>                 Read 8574 items
>                 Error: cannot allocate vector of size 71773 Kb
>                 Execution halted
>
> Is there a way to fix this? This is running as part of the GeneX
>installation so I would have to dig through to figure out how to give R
>more memory.

In R 1.2.2 this message means the operating system is not letting R have the memory.
You do not need parameters on the R command line (and it seems better not to have
them) but you do need to do some things in the operating system before you start R.
In Unix/Linux you first need to check that your datasize and stacksize limits are not
set, as they usually are. Use limit or unlimit depending on you shell or OS. You then
need to have adequate swap space. Physical memory will make things faster, but is not
necessary. You may need a very large swap space if you are going to do much with an
80M vector, but perhaps it gets broken into smaller pieces once you get it loaded.

Given current memory prices you should probably consider more physical memory, but I
expect you will need several gigs of virtual memory to do much work with an 80M
vector. Also beware, as I recall, mkswap in Linux defaults to an older format for
swap and the newer format is faster.

Paul Gibert



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Wed Apr 18 03:45:56 2001
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Tue, 17 Apr 2001 22:45:56 -0400
Subject: [Rd] Problem with Rcmd check
Message-ID: <ojvpdtg7tcvih5rf7i9piffh68k5t3taf6@4ax.com>

In Windows, I tried to build and check Paul Gilbert's dse bundle with
the command  

 rcmd check ../library/dse

It ran for a while and built the packages, then failed at the end with
this:

 ** checking Rd files ... OK
 ** checking for undocumented objects ... OK
 ** creating syskern-Ex.R ... ERROR

I get similar errors checking packages, but there

  make pkgcheck-foo

works.  I don't think there's a "bundlecheck-foo" target, is there?

Any workarounds, or hints where I should look to figure out what went
wrong?

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Apr 18 06:32:32 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 18 Apr 2001 06:32:32 +0100 (BST)
Subject: [Rd] Problem with Rcmd check
In-Reply-To: <ojvpdtg7tcvih5rf7i9piffh68k5t3taf6@4ax.com>
Message-ID: <Pine.GSO.4.31.0104180625090.16341-100000@auk.stats>

On Tue, 17 Apr 2001, Duncan Murdoch wrote:

> In Windows, I tried to build and check Paul Gilbert's dse bundle with
> the command
>
>  rcmd check ../library/dse
>
> It ran for a while and built the packages, then failed at the end with
> this:
>
>  ** checking Rd files ... OK
>  ** checking for undocumented objects ... OK
>  ** creating syskern-Ex.R ... ERROR
>
> I get similar errors checking packages, but there
>
>   make pkgcheck-foo
>
> works.  I don't think there's a "bundlecheck-foo" target, is there?

No, but you can check individual packages in a bundle (just set the
PKGDIR).  However, there is a bug if a package has a tests directory, and
it can be fixed by altering the RDIFF line near the top of
src/gnuwin32/check/PkgCheck to be

RDIFF = $(RHOME)/bin/Rcmd Rdiff.sh

(This is fixed in the patched versions.  Rdiff got altered fairly recently
and broke this.)

> Any workarounds, or hints where I should look to figure out what went
> wrong?

I think this is a Perl problem we have seen before.  It works for me on NT
(and I think worked for Uwe Ligges too).  Earlier versions (build 613, for
example) of Perl used to work on Win 98, but from ca 619 this happened.
The problem relates to the shell used by the system() command in Perl.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Torsten.Hothorn@rzmail.uni-erlangen.de  Wed Apr 18 10:44:11 2001
From: Torsten.Hothorn@rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Wed, 18 Apr 2001 11:44:11 +0200 (MEST)
Subject: [Rd] PR#896
In-Reply-To: <x24rvo7ex8.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.21.0104181142220.11968-100000@artemis.imbe.med.uni-erlangen.de>

On 16 Apr 2001, Peter Dalgaard BSA wrote:

> Torsten Hothorn <Torsten.Hothorn@rzmail.uni-erlangen.de> writes:
> 
> > > c(3.770684,4.654342,3.496403,1.772743,1.624953,2.645835,3.0994
> > > 77,1.706758,3.507709,1.982924)
> > > y<-c(-0.8161288,0.1632923,0.6421997,1.9270846,-
> > > 0.4668112,0.3587806,0.3312529,-0.5393900,
> > > 0.1057892,1.7963575)
> > 
> > `wdiff' is used for the computation of asymptotic confidence intervals for
> > samples with m,n > 50. I simulated the type I error rate and it works for
> > such large sample sizes. So maybe the problems are due to n.x = n.y = 10 ?
> > 
> > Torsten
> 
> I think the real problem is here:
> 
> > > ol<-optimize(wdiff,c(mumin,mumax),zq=qnorm(0.05))$minimum
> > > om<-optimize(wdiff,c(mumin,mumax),zq=qnorm(0.5))$minimum
> > > ou<-optimize(wdiff,c(mumin,mumax),zq=qnorm(0.95))$minimum
> > > 
> > > abline(v=ol)
> > > abline(v=om,lty=4)
> > > abline(v=ou,lty=7)
> 
> Optimize() is a gradient algorithm and wdiff is not smooth, so the
> algorithm terminates at a stationary non-optimal point. Using optim()
> with the default Nelder-Mead instead seemed to work better, although
> not perfectly. (I played with this before going on Easter holiday, and
> I'm not going to reconstruct exactly what I did then just now....)

Yes. We replaced `optimize' by `uniroot' in `wilcox.test' and use `optim'
in `ansari.test' now. 

Torsten

> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Don.Wingate@intellichem.com  Wed Apr 18 19:44:42 2001
From: Don.Wingate@intellichem.com (Don Wingate)
Date: Wed, 18 Apr 2001 11:44:42 -0700
Subject: [Rd] Freeing memory used by R.
Message-ID: <ABB64B4C48ECD44CADC72FA840118B3B5039@athena.Bend.IntelliChem.com>

Hello R developers,

Windows 2000 
R Version 1.2.2

I am running using R.dll in a Windows application.  It is loaded into memory
when needed, used as required, and then (hopefully) destroyed while the
application continues with other, unrelated activities.  The problem is that
I can't find any way to free all memory used by R without terminating the
process in which R is running, which I cannot do because that would also
kill the host application.  Is there a way to locate and free all memory
allocated by R.dll, leaving the host process intact?  

Thank you,

Don Wingate.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Wed Apr 18 20:08:00 2001
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Wed, 18 Apr 2001 12:08:00 -0700 (PDT)
Subject: [Rd] Freeing memory used by R.
In-Reply-To: <ABB64B4C48ECD44CADC72FA840118B3B5039@athena.Bend.IntelliChem.com>
Message-ID: <Pine.A41.4.33.0104181202440.16584-100000@homer22.u.washington.edu>

On Wed, 18 Apr 2001, Don Wingate wrote:

> Hello R developers,
>
> Windows 2000
> R Version 1.2.2
>
> I am running using R.dll in a Windows application.  It is loaded into memory
> when needed, used as required, and then (hopefully) destroyed while the
> application continues with other, unrelated activities.  The problem is that
> I can't find any way to free all memory used by R without terminating the
> process in which R is running, which I cannot do because that would also
> kill the host application.  Is there a way to locate and free all memory
> allocated by R.dll, leaving the host process intact?
>

In general you can't release memory to the operating system: under most
malloc's and most OS's the memory you free() just stays allocated.  You
might be able to unload the R dll; I don't know what effect that has under
Windows.

However, any halfway competent virtual memory system (which nowadays does
include Windows) will end up paging out the memory if it is never used, so
it shouldn't help much even if you could release all the memory.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley@u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Apr 18 21:36:02 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 18 Apr 2001 21:36:02 +0100 (BST)
Subject: [Rd] Freeing memory used by R.
In-Reply-To: <ABB64B4C48ECD44CADC72FA840118B3B5039@athena.Bend.IntelliChem.com>
Message-ID: <Pine.GSO.4.31.0104182133130.19021-100000@auk.stats>

On Wed, 18 Apr 2001, Don Wingate wrote:

> Hello R developers,
>
> Windows 2000
> R Version 1.2.2
>
> I am running using R.dll in a Windows application.  It is loaded into memory
> when needed, used as required, and then (hopefully) destroyed while the
> application continues with other, unrelated activities.  The problem is that
> I can't find any way to free all memory used by R without terminating the
> process in which R is running, which I cannot do because that would also
> kill the host application.  Is there a way to locate and free all memory
> allocated by R.dll, leaving the host process intact?

Yes, but if you are using R.dll at that level you will have already
read all the code, so you will know that R.dll uses its own allocator
in malloc.c and so how to do this.

BTW, although you can decommit all the memory, you cannot easily
unreserve it.  If the difference means nothing to you, then I suggest you
don't mess with this.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Timothy.Keitt@StonyBrook.Edu  Wed Apr 18 22:49:39 2001
From: Timothy.Keitt@StonyBrook.Edu (Timothy H. Keitt)
Date: Wed, 18 Apr 2001 17:49:39 -0400
Subject: [Rd] Freeing memory used by R.
References: <ABB64B4C48ECD44CADC72FA840118B3B5039@athena.Bend.IntelliChem.com>
Message-ID: <3ADE0BF3.5010500@StonyBrook.Edu>

Under linux (actually libc6), the strategy is to mmap /dev/zero for 
large allocations.  Unmapping this memory does return it to the system, 
unlike traditional malloc implementations that only release memory after 
the process terminates.  I don't know if there is an equivalent in windows.

Tim

Don Wingate wrote:

> Hello R developers,
> 
> Windows 2000 
> R Version 1.2.2
> 
> I am running using R.dll in a Windows application.  It is loaded into memory
> when needed, used as required, and then (hopefully) destroyed while the
> application continues with other, unrelated activities.  The problem is that
> I can't find any way to free all memory used by R without terminating the
> process in which R is running, which I cannot do because that would also
> kill the host application.  Is there a way to locate and free all memory
> allocated by R.dll, leaving the host process intact?  
> 
> Thank you,
> 
> Don Wingate.
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
Timothy H. Keitt
Department of Ecology and Evolution
State University of New York at Stony Brook
Phone: 631-632-1101, FAX: 631-632-7626
http://life.bio.sunysb.edu/ee/keitt/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Don.Wingate@intellichem.com  Wed Apr 18 23:10:17 2001
From: Don.Wingate@intellichem.com (Don Wingate)
Date: Wed, 18 Apr 2001 15:10:17 -0700
Subject: [Rd] Freeing memory used by R.
Message-ID: <ABB64B4C48ECD44CADC72FA840118B3B503A@athena.Bend.IntelliChem.com>

The trouble is that the lost memory is building up in the process space of
my host application.  The R dll might be loaded and unloaded several times
in a single session, each time allocating more memory for itself.  To the
best of my ability to determine, when the dll is unloaded, the memory that
it allocated, as well as any dll's it might have loaded for its own use,
stay in memory.  

Don.


On Wed, 18 Apr 2001, Don Wingate wrote:

> Hello R developers,
>
> Windows 2000
> R Version 1.2.2
>
> I am running using R.dll in a Windows application.  It is loaded into
memory
> when needed, used as required, and then (hopefully) destroyed while the
> application continues with other, unrelated activities.  The problem is
that
> I can't find any way to free all memory used by R without terminating the
> process in which R is running, which I cannot do because that would also
> kill the host application.  Is there a way to locate and free all memory
> allocated by R.dll, leaving the host process intact?
>

In general you can't release memory to the operating system: under most
malloc's and most OS's the memory you free() just stays allocated.  You
might be able to unload the R dll; I don't know what effect that has under
Windows.

However, any halfway competent virtual memory system (which nowadays does
include Windows) will end up paging out the memory if it is never used, so
it shouldn't help much even if you could release all the memory.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley@u.washington.edu	University of Washington, Seattle
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From paul@stat.auckland.ac.nz  Thu Apr 19 21:33:55 2001
From: paul@stat.auckland.ac.nz (paul@stat.auckland.ac.nz)
Date: Thu, 19 Apr 2001 22:33:55 +0200 (MET DST)
Subject: [Rd] par(mgp) bug (PR#916)
Message-ID: <200104192033.WAA02218@pubhealth.ku.dk>

Hi

The behaviour of the third argument of par(mgp), which controls the
placement of the axis ticks, is not working.  

In the following example, the plots should NOT be
identical; the axis ticks plus the axis major line should be drawn one
line out from the edges of the plot region.

par(mfrow=c(2,1))
plot(1:10)
par(mgp=c(3,1,1))
plot(1:10)

Paul

<<insert bug report here>>



--please do not edit the information below--

Version:
 platform = sparc-sun-solaris2.7
 arch = sparc
 os = solaris2.7
 system = sparc, solaris2.7
 status = Under development (unstable)
 major = 1
 minor = 3.0
 year = 2001
 month = 02
 day = 18
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Torsten.Hothorn@rzmail.uni-erlangen.de  Fri Apr 20 07:38:45 2001
From: Torsten.Hothorn@rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Fri, 20 Apr 2001 08:38:45 +0200 (MEST)
Subject: [Rd] system.file
Message-ID: <Pine.LNX.4.21.0104200834350.20588-100000@artemis.imbe.med.uni-erlangen.de>


I'm a little bit confused since this worked until R-1.2.2: 

in a private package `maxstat' I added 

Tab2 <- as.matrix(read.table(system.file("LausenTab2.dat",
+                                          package="maxstat")[1]))

to the examples of a function `pLausen92'.

`examples(pLausen92)' succeeds but

`R CMD check maxstat' fails with

> Tab2 <- as.matrix(read.table(system.file("LausenTab2.dat",
+                                          package="maxstat")[1]))
Error in file(file, "r") : cannot open file `'
Execution halted

`LausenTab2.dat' lives in `maxstat/inst'.

Torsten

> version
         _                           
platform i686-pc-linux-gnu           
arch     i686                        
os       linux-gnu                   
system   i686, linux-gnu             
status   Under development (unstable)
major    1                           
minor    3.0                         
year     2001                        
month    04                          
day      19                          
language R                           
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From skala@incoma.cz  Fri Apr 20 07:43:30 2001
From: skala@incoma.cz (skala@incoma.cz)
Date: Fri, 20 Apr 2001 08:43:30 +0200 (MET DST)
Subject: [Rd] boxplot (PR#917)
Message-ID: <200104200643.IAA04049@pubhealth.ku.dk>

Full_Name: Zdenek Skala
Version: 1.2.2.
OS: Windows 95
Submission from: (NULL) (212.71.163.240)


problem with outliers in boxplot() and boxplot.stats() - with range/coef=0
the outlier points are drawn within the space covered by whiskers:

> boxplot(c(1,2,3,4,5,6,7,8,50),range=0)
# draws the whiskers extending to the data extremes but outlier points at
# 1,2,8,50; likewise:
> boxplot.stats(c(1,2,3,4,5,6,7,8,50),coef=0)
# yields
# $stats
# [1]  1  3  5  7 50
#
# $n
# [1] 9
#
# $conf
# [1] 2.893333 7.106667
#
# $out
# [1]  1  2  8 50


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Fri Apr 20 13:48:33 2001
From: p.dalgaard@biostat.ku.dk (p.dalgaard@biostat.ku.dk)
Date: Fri, 20 Apr 2001 14:48:33 +0200 (MET DST)
Subject: [Rd] Re: Precedence of %% (PR#879)
Message-ID: <200104201248.OAA13781@pubhealth.ku.dk>


This message from Duncan M. (listed below) seems to have escaped the
r-devel list, possibly due to lack of a subject header.

gram.y has

...
%left           '*' '/' '%'
%left           SPECIAL
%left           ':'
...

and %% is a SPECIAL token, so it does indeed have higher precedence
than *. This is somewhat unusual compared to other languages, but it
is compatible with S-PLUS 3.4, so I'd say that it is the documentation
that is wrong. (And that part was written by me, I'm afraid...)

	-p



Date: Sun, 18 Mar 2001 07:45:13 -0500 (EST)
From: Duncan Murdoch <murdoch@stats.uwo.ca>
To: r-bugs@r-project.org

According to the documentation (R-lang p. 56), * 
and %% (mod) have equal operator precedence, so they 
should group from left to right.  Thus

  3 * 4 %% 5

should give 2, i.e. (3*4) mod 5.  However, I get 

 >   3 * 4 %% 5
 [1] 12

i.e. 3 * (4 mod 5).

Other experiments suggest to me that %% is given 
higher priority than *, it's not the "left to right" 
rule that is not being followed.

Duncan Murdoch



-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Fri Apr 20 14:36:08 2001
From: p.dalgaard@biostat.ku.dk (p.dalgaard@biostat.ku.dk)
Date: Fri, 20 Apr 2001 15:36:08 +0200 (MET DST)
Subject: [Rd] Re: Precedence of %% (PR#879)
Message-ID: <200104201336.PAA01127@pubhealth.ku.dk>

p.dalgaard@biostat.ku.dk writes:

> gram.y has
> 
> ...
> %left           '*' '/' '%'
> %left           SPECIAL
> %left           ':'
> ...
> 
> and %% is a SPECIAL token, so it does indeed have higher precedence
> than *. This is somewhat unusual compared to other languages, but it
> is compatible with S-PLUS 3.4, so I'd say that it is the documentation
> that is wrong. (And that part was written by me, I'm afraid...)

...although I don't think I'm the perpetrator of that '%' in gram.y,
which was probably what misled me in the 1st place. I don't think
there is a way the tokenizer *can* generate a single '%'.

I've modified R-lang.texi for version 1.2.3

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pd@pubhealth.ku.dk  Sat Apr 21 06:15:05 2001
From: pd@pubhealth.ku.dk (Peter Dalgaard BSA)
Date: Sat, 21 Apr 2001 07:15:05 +0200
Subject: [Rd] Bug list summary (automatic post)
Message-ID: <200104210515.HAA05825@blueberry.kubism.ku.dk>

=================================================
This is an automated summary of the status of the R-bugs
repository.

Note that this may be neither complete nor perfectly
correct at any given instance: Not all bugs are reported,
and some reported bugs may have been fixed, but the
repository not yet updated.

Some bug fixes are difficult to verify because they pertain
to specific hardware or operating system versions. If you
have information to contribute, please do so.

If you happen to know how to fix a problem please send
patches to the bug repository, too.

New bugs are reported either through the web
interface at r-bugs.r-project.org or via email to
r-bugs@r-project.org. The bug.report() function can be
used to automate parts of the procedure on many systems.
Followups on older bugs can be done by including the string
"(PR#999)" in the Subject of an email (change 999 to the
actual reference number, of course!).
=================================================

Directory:  Accuracy

* PR# 751 *
Subject: BUG: polyroot()
From: "Li Dongfeng" <mavip1@inet.polyu.edu.hk>
Date: Tue, 28 Nov 2000 13:24:33 +0800
--Numerical instability. We may want a better algorithm!

Directory:  Add-ons

* PR# 824 *
Subject: trouble with netCDF 
From: jasont@indigoindustrial.co.nz
Date: Thu, 25 Jan 2001 12:00:39 +1300
--Only on a specific sample file: send to maintainer.
* PR# 812 *
Subject: segmentation fault in integrate
From: Achim Zeileis <zeileis@ci.tuwien.ac.at>
Date: Thu, 11 Jan 2001 22:49:59 +0100
* PR# 496 *
From: bonneau@epi.roazhon.inra.fr (en148)
Date: Tue, 21 Mar 2000 10:57:13 +0100 (MET)
--base R has no est.variogram function.
--This appears to be a bug report on sgeostat.

Directory:  Analyses

* PR# 861 *
Subject: histogram of frequencies
From: bernd.winkler@genedata.com
Date: Mon, 5 Mar 2001 15:01:49 +0100 (MET)

Directory:  Documentation

* PR# 899 *
Subject: documentation problems in str.Rd
From: Kurt Hornik <Kurt.Hornik@ci.tuwien.ac.at>
Date: Sat, 7 Apr 2001 23:08:23 +0200
* PR# 886 *
Subject: Error (?) in documentation of 'swiss' data in R base package
From: k.j.mcconway@open.ac.uk
Date: Wed, 28 Mar 2001 16:46:49 +0200 (MET DST)
* PR# 856 *
Subject: "}  {" problem in Rd files
From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
Date: Mon, 26 Feb 2001 11:10:01 -0500

Directory:  Graphics

* PR# 897 *
Subject:  bug in contour() ? 
From: kuensch@stat.math.ethz.ch
Date: Fri, 6 Apr 2001 16:21:24 +0200
* PR# 202 *
Subject: persp box occlusion bug
From: wsi@gcal.ac.uk
Date: Wed, 2 Jun 1999 15:02:03 +0200 (MET DST)
--The persp algorithm does not apply the occlusion rules to the frame, 
--which is always plotted first. 
--A bug, but not very simple to fix.
* PR# 750 *
Subject: abline() does not obey "xpd" (clipping rules)
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Mon, 27 Nov 2000 18:27:11 +0100
* PR# 660 *
Subject: identify.default ignores any setting of cex.
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
Date: Fri, 15 Sep 2000 10:23:39 +0100 (BST)
* PR# 791 *
Subject:  par(lab= *) / axis(*) bug 
From: maechler@stat.math.ethz.ch
Date: Fri, 22 Dec 2000 10:59:26 +0100
* PR# 776 *
Subject: strwidth does not take font into account
From: Martyn Plummer <plummer@iarc.fr>
Date: Tue, 19 Dec 2000 14:56:01 +0100 (CET)
--This needs a substantial redesign.
* PR# 820 *
Subject: interaction.plot
From: "Mark M. Span" <span@psy.uva.nl>
Date: Mon, 22 Jan 2001 10:47:39 +0100
--mtext is unscaled by default.  It is not clear if this should
--use the par("cex") setting or an inline cex setting such as cex.axis.
--It might make more sense to use axis rather than mtext, as boxplot does.
* PR# 816 *
Subject: dotplot: character size of labels
From: RINNER Heinrich <H.RINNER@TIROL.GV.AT>
Date: Thu, 18 Jan 2001 14:54:32 +0100
--Suggested fix is incorporated in 1.2.2.
--
--There is a deeper problem:  mtext() ignores par(cex=.5) in general.  
--To see the problem try:  par(cex=.5); mtext("hi")
--Paul thinks the right fix is to change the argument list for mtext so that
--cex=par(cex) by default rather than cex=NA by default (plus corresponding
--internal changes to  do_mtext in plot.c).
--This needs to be done very carefully because (i) the change suggested above 
--mayhave side-effects in many other pieces of interpreted code 
--(ii) do_mtext ignores dd->gp.cexbase unlike, for example, do_plot_xy 
--and anything to do with cexbase needs extreme care.
* PR# 830 *
Subject: Disappearing x axis in plot.factor
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 30 Jan 2001 00:27:13 -0500
* PR# 828 *
Subject: termplot fails for composite non-factor terms
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sat, 27 Jan 2001 11:57:37 +1100 (EST)
--Neither of the proposed changes actually works in sufficient generality.
--
--The easy and unimportant part of this, the labels, is fixed in 1.2.2. Getting
--the data right is a project for 1.3
* PR# 837 *
Subject: screen doesn't handle redrawing properly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 01 Feb 2001 14:20:52 -0500
* PR# 831 *
Subject: screen can't go back to (split) screen with log="y" plot
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 30 Jan 2001 00:39:41 -0500
* PR# 887 *
Subject: axis(adj=anything) has no effect
From: jhallman@frb.gov
Date: Wed, 28 Mar 2001 20:51:05 +0200 (MET DST)
* PR# 865 *
Subject:  axis(...,las=1) breaks postscript code in certain cases 
From: maechler@stat.math.ethz.ch
Date: Wed, 7 Mar 2001 18:08:58 +0100
* PR# 857 *
Subject: Plotting points on a filled.contour plot
From: marchini@stats.ox.ac.uk
Date: Tue, 27 Feb 2001 10:00:30 +0100 (MET)
--This needs at least to be documented, and preferably par("usr")
--set to the coordinate system of the plotting region after use.

Directory:  In-Out

none

Directory:  Installation

none

Directory:  Language

* PR# 879 *
From: Duncan Murdoch <murdoch@stats.uwo.ca>
Date: Sun, 18 Mar 2001 07:45:13 -0500 (EST)
--precedence of %% appears to be not as documented
* PR# 408 *
Subject: convolution bug
From: wsimpson@gcal.ac.uk
Date: Fri, 28 Jan 2000 11:17:36 +0100 (MET)
* PR# 669 *
Subject: Bug(s) w/ rbind.data.frame(); fix also read.table(*, as.is = TRUE) ?
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Mon, 25 Sep 2000 10:17:15 +0200
--status of AsIs columns
* PR# 412 *
Subject: anomalies with call objects
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 06 Feb 2000 01:18:50 +0100
* PR# 869 *
Subject:  inconsistent results when calling functions with other func
From: "White, Paul" <Paul.White@dsto.defence.gov.au>
Date: Thu, 8 Mar 2001 18:26:35 +1100 
* PR# 813 *
Subject: match.call problem
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 12 Jan 2001 17:46:15 +0100

Directory:  Low-level

* PR# 904 *
Subject:  Segmentation fault in subscripting array of lists 
From: J.C.Rougier@durham.ac.uk
Date: Tue, 10 Apr 2001 15:01:52 +0100 (BST)
--The usage is incorrect, but should not segfault
* PR# 505 *
Subject: interrupted save 
From: Thomas Lumley <thomas@biostat.washington.edu>
Date: Sat, 25 Mar 2000 12:16:50 -0800 (PST)

Directory:  Misc

* PR# 875 *
Subject: Re: [R] Bug in qchisq?
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 10 Mar 2001 02:26:11 +0100

Directory:  Models

* PR# 862 *
Subject: Wrong sign for Pearson residuals
From: faraway@umich.edu
Date: Mon, 5 Mar 2001 18:04:34 +0100 (MET)

Directory:  Startup

* PR# 486 *
Subject: Re: autoload error in profile {was anova-bug in R-version  1.0.0?}
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Tue, 14 Mar 2000 10:32:43 +0100 (MET)
--workaround to the origin problem in 1.0.1
--New report: try does not work from the profile.

Directory:  System-specific

* PR# 896 *
Subject: Optimize: difference between R for Linux and Windows
From: "Marketa Kylouskova" <Marketa.Kylouskova@euromise.cz>
Date: 5 Apr 2001 12:30:29 +0100
* PR# 863 *
Subject: src/main/arithmetic.c on OpenBSD
From: ian@darwinsys.com (Ian Darwin)
Date: Tue,  6 Mar 2001 19:49:53 -0500 (EST)
* PR# 851 *
Subject: Comments on R-1.2.1 builds
From: "Nelson H. F. Beebe" <beebe@math.utah.edu>
Date: Fri, 16 Feb 2001 17:44:17 -0700 (MST)
--These are only warnings: some have been eliminated for 1.2.2.
--Some are about constructs needed to satisfy other compilers.
--
--Also: configure problem with g77 on SGI.
--(Should be taken care of for 1.2.3).
* PR# 848 *
Subject: X11 device doesn't handle destroy events correcly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 13 Feb 2001 17:40:46 -0500

Directory:  TooMuchAtOnce

* PR# 811 *
Subject: problem with strptime example (and mention of bug.report)
From: Stephen Eglen <stephen@anc.ed.ac.uk>
Date: Thu, 11 Jan 2001 19:18:39 GMT
--1) On OSF4, strptime is deficient. Nothing we can do.
--
--2) On Windows NT, the strptime problems are (i) German locale, English dates,
--(ii) Windows system errors with unknown DST (it move times to DST).
--(i) now has another warning in the help file (there already was one).
--(ii) was already worked around for 1.2.1.
--
--3) bug.report() uses a mailer option that does not exist on OSF4.

Directory:  Windows

* PR# 912 *
Subject: Rgui.exe crash on Windows 2000
From: gilg.seeber@uibk.ac.at
Date: Thu, 12 Apr 2001 15:07:52 +0200 (MET DST)
--seems to be specific to the submitter's system.
--Cannot reproduce.
* PR# 906 *
Subject: Win98 wheelmouse graphics lock problem
From: cpaul@ucla.edu
Date: Tue, 10 Apr 2001 17:50:44 +0200 (MET DST)
--Cannot reproduce without more information
--In particular, does not happen with Microsoft Intellimouse on W2K

Directory:  incoming

* PR# 917 *
Subject: boxplot
From: skala@incoma.cz
Date: Fri, 20 Apr 2001 08:43:29 +0200 (MET DST)
* PR# 916 *
Subject:  par(mgp) bug 
From: paul@stat.auckland.ac.nz
Date: Fri, 20 Apr 2001 08:33:45 +1200 (NZST)
* PR# 915 *
Subject: cannot allocate vector of size 71773 Kb
From: cdhershberger@dow.com
Date: Tue, 17 Apr 2001 05:34:04 +0200 (MET DST)
* PR# 877 *
Subject: segmentation fault of unknown cause
From: Martin Schlather <Martin.Schlather@uni-bayreuth.de>
Date: Wed, 14 Mar 2001 17:45:25 +0100
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sat Apr 21 13:07:47 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 21 Apr 2001 14:07:47 +0200 (MET DST)
Subject: [Rd] Re: PR#886: Error (?) in documentation of 'swiss'
Message-ID: <200104211207.OAA05218@pubhealth.ku.dk>

>From k.j.mcconway@open.ac.uk  Wed Mar 28 16:46:49 2001

Hardly crucial, but I've come upon a potential error in the documentation
of the 'swiss' datafram in the R base package. The description accurately
matches what is said in the Mosteller and Tukey source quoted, but
according to the data archived at Princeton (links from
http://opr.princeton.edu/archive/eufert/switz.html), the variable that
Mosteller and Tukey report as infant mortality is actually the proportion
of 'draftees' with education beyond primary school. Infant mortality is on
the archived file, but the values are quite a lot different. Of course,
it's possible that Mosteller and Tukey were right and the people who did
the archiving at Princenton, later, got it wrong.

It seems it is you that got it wrong! In the file sw1888.dat in their
switz.zip, the variable

 36 USCHOOL        321-330       3  Prop. draftees with > primary educ.

corresponds to `Education' and

 22 INFMORT        181-190       3  Infant Mortality Rate

corresponds to `Infant Mortality'.

Apart from guessing factors of 10, the data correspond to the 47 districts
with > 50% French speakers to the accuracy they are given.

If you still disagree, can you please explain how you did this?  I used

> read.fwf("sw1888.dat", widths=c(rep(10, 45),1,2,2,2,8,1,15)) ->sw0
> ind <- sw0[, 27] > 50000
> sw <- sw0[ind, ]
> sw[, c(5, 12, 34, 36, 9, 22)-3]

the first column in the file being variable 4.


Thanks for the source: as from 1.3.0 I have added the district names.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Sat Apr 21 20:08:13 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Sat, 21 Apr 2001 21:08:13 +0200
Subject: [Rd] display URL in browser
Message-ID: <15073.55965.249728.775955@mithrandir.hornik.net>

Does anyone know whether one can ``remotely'' make konqueror display a
URL a la netscape -remote 'openURL(url)', and how this can be done?
Thanks
-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Sat Apr 21 21:15:32 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Sat, 21 Apr 2001 22:15:32 +0200
Subject: [Rd] Rcsound, new version
Message-ID: <3AE1EA64.27CC85A5@univie.ac.at>


there is a new version of my "R sings" package
no functional changes, but more stable and reliable on windows.
feedback about unix needed!

http://mailbox.univie.ac.at/erich.neuwirth/Rcsound/

--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From k.j.mcconway@open.ac.uk  Sat Apr 21 23:18:53 2001
From: k.j.mcconway@open.ac.uk (k.j.mcconway@open.ac.uk)
Date: Sun, 22 Apr 2001 00:18:53 +0200 (MET DST)
Subject: [Rd] Re: PR#886: Error (?) in documentation of 'swiss'
Message-ID: <200104212218.AAA06617@pubhealth.ku.dk>

No, you're quite right, I was wrong. I must have been very confused when I
put up the first 'bug' report, #886. I noticed my error a couple of days
after and put up a comment to that effect on R-bugs, but it seems to have
vanished (or alternatively I did that wrong as well). I agree with you on
the criterion for the choice of districts as well. There remains a minuscule
discrepancy between the Mosteller and Tukey description and the Princeton
one, in that M&T say that the 4th variable is the % of the population with
education beyond primary school, whereas the Princeton source says it's the
percentage of 'draftees' with this level of education; given the date, the
differences between male and female education levels at the time, and the
(presumed) fact that the 'draftees' are all male, this might make a
difference to interpretation, I suppose.

It did occur to me to wonder why Mosteller and Tukey chose these particular
variables out of all those given in the source...

Regards,

Kevin McConway
Department of Statistics
The Open University
k.j.mcconway@open.ac.uk
----- Original Message -----
From: "Prof Brian D Ripley" <ripley@stats.ox.ac.uk>
To: "k.j.mcconway" <k.j.mcconway@open.ac.uk>
Cc: "R-bugs" <>
Sent: 21 April 2001 13:09
Subject: Re: PR#886: Error (?) in documentation of 'swiss'


>
> >From k.j.mcconway@open.ac.uk  Wed Mar 28 16:46:49 2001
>
> Hardly crucial, but I've come upon a potential error in the documentation
> of the 'swiss' datafram in the R base package. The description accurately
> matches what is said in the Mosteller and Tukey source quoted, but
> according to the data archived at Princeton (links from
> http://opr.princeton.edu/archive/eufert/switz.html), the variable that
> Mosteller and Tukey report as infant mortality is actually the proportion
> of 'draftees' with education beyond primary school. Infant mortality is on
> the archived file, but the values are quite a lot different. Of course,
> it's possible that Mosteller and Tukey were right and the people who did
> the archiving at Princenton, later, got it wrong.
>
> It seems it is you that got it wrong! In the file sw1888.dat in their
> switz.zip, the variable
>
>  36 USCHOOL        321-330       3  Prop. draftees with > primary educ.
>
> corresponds to `Education' and
>
>  22 INFMORT        181-190       3  Infant Mortality Rate
>
> corresponds to `Infant Mortality'.
>
> Apart from guessing factors of 10, the data correspond to the 47 districts
> with > 50% French speakers to the accuracy they are given.
>
> If you still disagree, can you please explain how you did this?  I used
>
> > read.fwf("sw1888.dat", widths=c(rep(10, 45),1,2,2,2,8,1,15)) ->sw0
> > ind <- sw0[, 27] > 50000
> > sw <- sw0[ind, ]
> > sw[, c(5, 12, 34, 36, 9, 22)-3]
>
> the first column in the file being variable 4.
>
>
> Thanks for the source: as from 1.3.0 I have added the district names.
>
> --
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Apr 22 07:38:23 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 22 Apr 2001 07:38:23 +0100 (BST)
Subject: [Rd] display URL in browser
In-Reply-To: <15073.55965.249728.775955@mithrandir.hornik.net>
Message-ID: <Pine.GSO.4.31.0104220734280.3378-100000@auk.stats>

On Sat, 21 Apr 2001, Kurt Hornik wrote:

> Does anyone know whether one can ``remotely'' make konqueror display a
> URL a la netscape -remote 'openURL(url)', and how this can be done?

No, but I wanted to follow up on Netscape 6.01 as I tested it harder
yesterday.  I said this seemed to work.  It almost does, but not enough:

(1) If Netscape 6.01 is running, it loads the requested URL.
(2) If it is not running, it starts Netscape but fails to load the URL.

Some versions of 4.x seem to have the opposite problem, they failed to load
a new URL if Netscape was running.  (4.7 UK version was one.)

Brian


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Apr 22 07:47:31 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 22 Apr 2001 07:47:31 +0100 (BST)
Subject: [Rd] Re: PR#886: Error (?) in documentation of 'swiss'
In-Reply-To: <200104212218.AAA06617@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.31.0104220743060.3378-100000@auk.stats>

On Sun, 22 Apr 2001 k.j.mcconway@open.ac.uk wrote:

> No, you're quite right, I was wrong. I must have been very confused when I
> put up the first 'bug' report, #886. I noticed my error a couple of days
> after and put up a comment to that effect on R-bugs, but it seems to have
> vanished (or alternatively I did that wrong as well). I agree with you on

(It seems never to have got there.)

> the criterion for the choice of districts as well. There remains a minuscule
> discrepancy between the Mosteller and Tukey description and the Princeton
> one, in that M&T say that the 4th variable is the % of the population with
> education beyond primary school, whereas the Princeton source says it's the
> percentage of 'draftees' with this level of education; given the date, the
> differences between male and female education levels at the time, and the
> (presumed) fact that the 'draftees' are all male, this might make a
> difference to interpretation, I suppose.

Also, the agricultural field is for males, and a corresponding one
for females is in the OPR files.

I have already noted both in the help file for the upcoming 1.2.3.

[...]

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Sun Apr 22 11:32:01 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Sun, 22 Apr 2001 12:32:01 +0200
Subject: [Rd] Rcsound, additional information
Message-ID: <3AE2B321.CDEBBBDA@univie.ac.at>

i forgot to mention this explicitly,
but of course it is in the docs ;-)


for Rcsound
you need to install
csound 4.12

otherwise it will not work.

csound 4.12 is only a few weeks old,
so you probably need to get it from
ftp://ftp.maths.bath.ac.uk/pub/dream/newest/


--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rmh@surfer.sbm.temple.edu  Mon Apr 23 04:09:22 2001
From: rmh@surfer.sbm.temple.edu (rmh@surfer.sbm.temple.edu)
Date: Mon, 23 Apr 2001 05:09:22 +0200 (MET DST)
Subject: [Rd] several bugs (PR#918)
Message-ID: <200104230309.FAA10241@pubhealth.ku.dk>

# Your mailer is set to "none" (default on Windows),
# hence we cannot send the bug report directly from R.
# Please copy the bug report (after finishing it) to
# your favorite email program and send it to
#
#       r-bugs@r-project.org
#
######################################################



1. as.numeric behaves differently in R than in S and I think this
shows a bug in how S3 classes are implemented.

R:
> as.numeric
function (x, ...) 
UseMethod("as.double")
> as.double
function (x, ...) 
UseMethod("as.double")


S:
> as.numeric
function(x)
Internal(as.numeric(x), "As_vector", T, 4)
> as.double
function(x)
.Internal(as.double(x), "As_vector", T, 4)
>


As a consequence, a user function
  as.numeric.mv 
doesn't work as a method in R because it never gets called when
accessed as as.numeric(x).

> objects()
character(0)
> a <- list(NA)
> attr(a[[1]],"mv") <- "default"
> class(a) <- "mv"
> 
> a
[[1]]
[1] NA
attr(,"mv")
[1] "default"

attr(,"class")
[1] "mv"
> as.numeric(a)
[1] NA
> as.numeric.mv <- function(x, ...) {
+   print("we got here")
+  x
+ }
> 
> as.numeric(a)  ## the function as.numeric.mv was not called
[1] NA
> as.numeric.mv(a)
[1] "we got here"
[1] NA
> 



2. works in S-Plus 4.5, not in R.  What is the rationale for this difference?

a <- list(NULL)
attr(a[[1]],"mv") <- "default"

R gives the message
Error: attempt to set an attribute on NULL



3. Unimplemented features in rep, copyVector
> rep(list(1),1)
[[1]]
[1] 1

> rep(list(1,2,3),1)
Error in rep(list(1, 2, 3), 1) : Unimplemented feature in rep

> a <- matrix(list(1,2,3,4,5,6), 2, 3)

Error in matrix(list(1, 2, 3, 4, 5, 6), 2, 3) : 
	Unimplemented feature in copyVector


4. methods in S-Plus that aren't methods in R. 
a. %*% is a method in S-Plus 4.5 and is a primitive in R.
   Therefore a user function "%*%.mv" doesn't get called by  a %*% b



5. S-Plus 6 compatibility issues
a. S+4 and R use the function
     exists("function.name", mode="function")
   S+6 use the function
     existsFunction("function.name")

More generally, S-Plus 6 has the following functions
> objip("exists")
$splus:
[1] "exists"         "existsFunction" "file.exists"   

$main:
[1] "dbexists"       "dbexistsOld"    "dyn.exists"     "existsClass"
[5]  "existsClassDef" "existsDoc"     "existsMethod"  

Can you add these function names to R with sensible defaults until the S4
methods are fully in place?


b. S-Plus 6 uses the function oldClass
Can you add these functions and default definitions to R?
  oldClass <- function(...) class(...)   
  "oldClass<-" <- function(...) "class<-"(...)  


6. bug in "[" for lists

a <- list(1,2,3,4,5,6)
dim(a) <- c(2,3)
unlist(a)
> a[,1:2]
     [,1]   [,2]  
[1,] "NULL" "NULL"
[2,] "NULL" "NULL"

The same code in S+4 gives
> a[,1:2]
     [,1] [,2] 
[1,] 1    3   
[2,] 2    4   




--please do not edit the information below--

Version:
 platform = i386-pc-mingw32
 arch = x86
 os = Win32
 system = x86, Win32
 status = 
 major = 1
 minor = 2.1
 year = 2001
 month = 01
 day = 15
 language = R

Windows 9x 4.0 (build 1212)  B

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rmh@surfer.sbm.temple.edu  Mon Apr 23 04:19:42 2001
From: rmh@surfer.sbm.temple.edu (rmh@surfer.sbm.temple.edu)
Date: Mon, 23 Apr 2001 05:19:42 +0200 (MET DST)
Subject: [Rd] barplot documentation bug (PR#919)
Message-ID: <200104230319.FAA10270@pubhealth.ku.dk>

## documentation error for barplot

p <- c(.5,.3,.15,.05)
par(mfrow=c(4,1))
barplot(p, ylim=c(0,.5), space=0, width=1)
barplot(p, ylim=c(0,.5), space=0, width=.5)
barplot(p, ylim=c(0,.5), space=0, width=.25)
barplot(p, ylim=c(0,.5), space=0, width=.125)


## The widths in the plots are all the same.
## The R documentation for barplot says:
width: optional vector of bar widths.

## The S-Plus 4.5 documentation for barplot is more accurate.  It says:
width	if histo=FALSE, vector of relative bar widths; in this case
	all of the bars are the same width by default. When histo=TRUE, width
	represents where the breaks are for the histogram.
	

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rmh@surfer.sbm.temple.edu  Mon Apr 23 04:29:04 2001
From: rmh@surfer.sbm.temple.edu (rmh@surfer.sbm.temple.edu)
Date: Mon, 23 Apr 2001 05:29:04 +0200 (MET DST)
Subject: [Rd] bugs, doc bugs, comments (PR#920)
Message-ID: <200104230329.FAA10303@pubhealth.ku.dk>


0319
	CMTS.0414
miss.s
	Ops.bug.s
R.bug.report

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From david.meyer@ci.tuwien.ac.at  Mon Apr 23 15:22:45 2001
From: david.meyer@ci.tuwien.ac.at (David Meyer)
Date: Mon, 23 Apr 2001 16:22:45 +0200
Subject: [Rd] display URL in browser
References: <15073.55965.249728.775955@mithrandir.hornik.net>
Message-ID: <3AE43AB5.F60862C@ci.tuwien.ac.at>

Kurt Hornik wrote:
> 
> Does anyone know whether one can ``remotely'' make konqueror display a
> URL a la netscape -remote 'openURL(url)', and how this can be done?
> Thanks
> -k
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

simply:

konqueror url

e.g.: konqueror cran.r-project.org

-d

-- 
Mag. David Meyer			Wiedner Hauptstrasse 8-10
Vienna University of Technology		A-1040 Vienna/AUSTRIA
Department for Statistics, Probability	Tel.: (+431) 58801/10772
Theory and Actuarial Mathematics	mail: david.meyer@ci.tuwien.ac.at
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Mon Apr 23 17:37:05 2001
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Mon, 23 Apr 2001 09:37:05 -0700 (PDT)
Subject: [Rd] several bugs (PR#918)
In-Reply-To: <200104230309.FAA10241@pubhealth.ku.dk>
Message-ID: <Pine.A41.4.33.0104230854200.125502-100000@homer34.u.washington.edu>


Some of these are indeed bugs. Some are merely incompatibilities, in
particular between R and S4. R is intended to be largely compatible with S
version 3, but not (currently at least) with S version 4.

Incidentally, it's easier to  keep track of bugs if they come one to a
message. That way they get separate bug numbers.

On Mon, 23 Apr 2001 rmh@surfer.sbm.temple.edu wrote:
> 1. as.numeric behaves differently in R than in S and I think this
> shows a bug in how S3 classes are implemented.
>
> R:
> > as.numeric
> function (x, ...)
> UseMethod("as.double")

It is a bug, but not in how S3 classes are implemented (well, it's a bug
in the design of S3 classes that this can happen).  R has only one
floating point data type, which means that as.numeric and as.double do the
same thing.  The bug is that it isn't documented under help(as.numeric)
that you need to set up methods for as.double().

>
>
> 2. works in S-Plus 4.5, not in R.  What is the rationale for this difference?
>
> a <- list(NULL)
> attr(a[[1]],"mv") <- "default"
>
> R gives the message
> Error: attempt to set an attribute on NULL

The rationale is that you can't set an attribute on NULL. There are two
reasons.  The implementation reason is that there's only one of it: all
NULLs are references to the same object.  The interface reason is that if
you  want to set attributes on it you don't want a NULL (think of the NULL
pointer in C or nil in Pascal).

 You probably want numeric(0).

> 3. Unimplemented features in rep, copyVector
> > rep(list(1),1)
> [[1]]
> [1] 1
>
> > rep(list(1,2,3),1)
> Error in rep(list(1, 2, 3), 1) : Unimplemented feature in rep

Yes, it's an unimplemented feature. We clearly know about it, since you
got the message, so it isn't a bug. It is implemented in the pre1.3
development version.

> > a <- matrix(list(1,2,3,4,5,6), 2, 3)
>
> Error in matrix(list(1, 2, 3, 4, 5, 6), 2, 3) :
> 	Unimplemented feature in copyVector

This one isn't implemented in the development version, for a good reason.
Matrices and lists can hold very different sorts of things.  You should do
	a <- matrix(c(1,2,3,4,5,6), 2, 3)
This may well be what you should do in the previous case, as well. It's
more efficient to store homogeneous, one-dimensional data in a vector
rather than a list.


> 4. methods in S-Plus that aren't methods in R.
> a. %*% is a method in S-Plus 4.5 and is a primitive in R.
>    Therefore a user function "%*%.mv" doesn't get called by  a %*% b

This might be worth implementing, but we would have to worry about the
overhead: matrix multiplication is a speed-critical function (like all the
remaining primitives).  You can easily make it generic for yourself

	"%*%.default"<-get("%*%")
 	"%*%"<-function(x,y,...) UseMethod("%*%")

This wouldn't despatch on the second argument, but that could be fixed
with a bit more work.

>
> 5. S-Plus 6 compatibility issues
> a. S+4 and R use the function
>      exists("function.name", mode="function")
>    S+6 use the function
>      existsFunction("function.name")

Indeed.

> More generally, S-Plus 6 has the following functions
> > objip("exists")
> $splus:
> [1] "exists"         "existsFunction" "file.exists"
>
> $main:
> [1] "dbexists"       "dbexistsOld"    "dyn.exists"     "existsClass"
> [5]  "existsClassDef" "existsDoc"     "existsMethod"
>
> Can you add these function names to R with sensible defaults until the S4
> methods are fully in place?

No. You can, though.

R is not a clone of S-PLUS, especially not of S-PLUS 6. We are working
towards compatibility with S4 on certain important features, but not
detail by detail.

You may want to look at http://www.omegahat.org/RSMethods/index.html
which describes an implementation of S4 classes for R by John Chambers.


> 6. bug in "[" for lists
>
> a <- list(1,2,3,4,5,6)
> dim(a) <- c(2,3)
> unlist(a)
> > a[,1:2]
>      [,1]   [,2]
> [1,] "NULL" "NULL"
> [2,] "NULL" "NULL"
>
> The same code in S+4 gives
> > a[,1:2]
>      [,1] [,2]
> [1,] 1    3
> [2,] 2    4
>

If there's a bug here it's that an error isn't returned.  You can't go
around setting dim() on things and expecting it to work.  A properly
object-oriented language wouldn't let you even try. You took a list of
six objects (which could be *any* six objects, as different as chalk and
Wednesday) and told it that it was a 2x3 array.  It believed you. Not
surprisingly, it got confused.

 It does work if a is a vector rather than a list, as do some other things
you tried, so in general you might be happier if you used c() rather than
list() for homogeneous data.

It's true that some versions of S allow it. Some versions of S also allow
   a<-as.matrix(lm(Fuel ~ . , fuel.frame))
for example. The S languages could do with a clearer distinction between
high level functions that check their arguments for compatibility and the
low-level functions that are needed to implement these.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley@u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rmh@surfer.sbm.temple.edu  Mon Apr 23 18:57:32 2001
From: rmh@surfer.sbm.temple.edu (Rich Heiberger)
Date: Mon, 23 Apr 2001 13:57:32 -0400 (EDT)
Subject: [Rd] several bugs (PR#918) lists and matrices
Message-ID: <200104231757.f3NHvWZ379277@surfer.sbm.temple.edu>

## Thomas rightly points out that list() is not the best structure for
## homogeneous data.  My example was the simplest that generated the
## error of a matrix structure that that doesn't work.  The application
## that this is simplified from needs lists because the data isn't
## homogeneous.  I am attempting to write a missing value class, where
## each item is a list.  In the simplest instance, if the datum is missing
## then the attribute contains the reason.
## 
## Both of the 'bugs'/'unimplemented features'
## 3. a <- matrix(list(1,2,3,4,5,6), 2, 3)
## 6. bug in "[" for lists
## show up in this example.  Thus

x <- list(1,2,3,4,5,6)
dim(x) <- c(2,3)
x[[2,3]] <- NA
attr(x[[2,3]],"mv") <- "absent"
x
for(i in x) print(i)
x[2,]
x[1,1]
x[2,3]

Rich
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rgentlem@jimmy.harvard.edu  Mon Apr 23 19:12:20 2001
From: rgentlem@jimmy.harvard.edu (Robert Gentleman)
Date: Mon, 23 Apr 2001 14:12:20 -0400
Subject: [Rd] several bugs (PR#918) lists and matrices
In-Reply-To: <200104231757.f3NHvWZ379277@surfer.sbm.temple.edu>; from Rich Heiberger on Mon, Apr 23, 2001 at 01:57:32PM -0400
References: <200104231757.f3NHvWZ379277@surfer.sbm.temple.edu>
Message-ID: <20010423141220.X25202@jimmy.harvard.edu>

On Mon, Apr 23, 2001 at 01:57:32PM -0400, Rich Heiberger wrote:
> ## Thomas rightly points out that list() is not the best structure for
> ## homogeneous data.  My example was the simplest that generated the
> ## error of a matrix structure that that doesn't work.  The application
> ## that this is simplified from needs lists because the data isn't
                                                          data aren't (?)
> ## homogeneous.  I am attempting to write a missing value class, where
> ## each item is a list.  In the simplest instance, if the datum is missing
> ## then the attribute contains the reason.
> ## 
> ## Both of the 'bugs'/'unimplemented features'
> ## 3. a <- matrix(list(1,2,3,4,5,6), 2, 3)
> ## 6. bug in "[" for lists
> ## show up in this example.  Thus
> 
> x <- list(1,2,3,4,5,6)
> dim(x) <- c(2,3)
> x[[2,3]] <- NA
> attr(x[[2,3]],"mv") <- "absent"
> x
> for(i in x) print(i)
> x[2,]
> x[1,1]
> x[2,3]


  Yes, it appears to be either a bug or perhaps an unimplemented
  feature (or possibly an unimplemented bug). The problem with the S
  version of this is that the following doesn't work the same as the
  above (I might argue that it should)
> x<-matrix(1:6,nc=3)
> x
     [,1] [,2] [,3] 
[1,]    1    3    5
[2,]    2    4    6
> x[[2,3]]<-NA
> x
     [,1] [,2] [,3] 
[1,]    1    3    5
[2,]    2    4   NA
> attr(x[[2,3]],"mv") <- "absent"
> for(i in x) print(i)
[1] 1
[1] 2
[1] 3
[1] 4
[1] 5
[1] NA

  I am uncertain as to why you want to put dimensions on a list? It
  doesn't make it a matrix. That said we can duplicate the behaviour
  but I'm not sure that it is worth introducing the confusion that
  ought to follow.

  For my favorite silly example:
> dim(mean)<-c(2,2) 
Warning messages:
  assigning "mean" masks an object of the same name on database 2
> mean
           [,1] [,2] 
[1,] missing, 0     
[2,] 0          {, 5
attr(, "names"):
[1] "x"     "trim"  "na.rm" ""     
> is.matrix(mean)
[1] T
> mean(1:10)
[1] 5.5
> 
    Just because you can does not necessarily mean that you should.

> 
> Rich
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
+---------------------------------------------------------------------------+
| Robert Gentleman                 phone : (617) 632-5250                   |
| Associate Professor              fax:   (617)  632-2444                   |
| Department of Biostatistics      office: M1B28
| Harvard School of Public Health  email: rgentlem@jimmy.dfci.harvard.edu   |
+---------------------------------------------------------------------------+
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rmh@surfer.sbm.temple.edu  Mon Apr 23 20:35:41 2001
From: rmh@surfer.sbm.temple.edu (Rich Heiberger)
Date: Mon, 23 Apr 2001 15:35:41 -0400 (EDT)
Subject: [Rd] several bugs (PR#918) lists and matrices
References: <200104231757.f3NHvWZ379277@surfer.sbm.temple.edu>
Message-ID: <200104231935.f3NJZfc383353@surfer.sbm.temple.edu>

Robert's example
  x<-matrix(1:6,nc=3)
  x[[2,3]]<-NA
  attr(x[[2,3]],"mv") <- "absent"
loses the attribute in S-Plus as well as in R.  The only way I
have been able to put attributes on individual elements is to make
a matrix of lists.  Interestingly, this statement does print
  print(attr(x[[2,3]],"mv") <- "absent")
The value of the attribute doesn't vanish for the duration of the
current statement.  The value is gone if we follow this with
  attr(x[[2,3]],"mv")
Should there be a warning message when the assignment is attempted?

As to the fundamental question of putting dimensions on a list, that
is asking the question backwards from how I am looking at it.  I have
a two-dimensional array of data items for which one or more of the
values is unknown.  The matrix is the natural structure for this data.

How do I record the type of missingness for the missing datum?  I have
chosen to place a list in the cell of the matrix.  Another option is
to have a parallel matrix of missingness information, possibly
attached as an attribute to the original data.  Another option is a
sparse array of some form that is pointed to by access functions that
are sensitive to the NA in the original data matrix.

To me, the recursive structure is the most natural way to represent the
information about missingness.

Rich
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Mon Apr 23 20:54:17 2001
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Mon, 23 Apr 2001 12:54:17 -0700 (PDT)
Subject: [Rd] several bugs (PR#918) lists and matrices
In-Reply-To: <200104231935.f3NJZfc383353@surfer.sbm.temple.edu>
Message-ID: <Pine.A41.4.33.0104231243060.125502-100000@homer34.u.washington.edu>

On Mon, 23 Apr 2001, Rich Heiberger wrote:

> Robert's example
>   x<-matrix(1:6,nc=3)
>   x[[2,3]]<-NA
>   attr(x[[2,3]],"mv") <- "absent"
> loses the attribute in S-Plus as well as in R.  The only way I
> have been able to put attributes on individual elements is to make
> a matrix of lists.  Interestingly, this statement does print
>   print(attr(x[[2,3]],"mv") <- "absent")
> The value of the attribute doesn't vanish for the duration of the
> current statement.  The value is gone if we follow this with
>   attr(x[[2,3]],"mv")
> Should there be a warning message when the assignment is attempted?
>
> As to the fundamental question of putting dimensions on a list, that
> is asking the question backwards from how I am looking at it.  I have
> a two-dimensional array of data items for which one or more of the
> values is unknown.  The matrix is the natural structure for this data.
>
> How do I record the type of missingness for the missing datum?  I have
> chosen to place a list in the cell of the matrix.  Another option is
> to have a parallel matrix of missingness information, possibly
> attached as an attribute to the original data.  Another option is a
> sparse array of some form that is pointed to by access functions that
> are sensitive to the NA in the original data matrix.
>
> To me, the recursive structure is the most natural way to represent the
> information about missingness.

Ah. Ok.

This is a more difficult question.  You can't put a list into a matrix.
Matrices handle homogenous data; they are vectors with a dimension
attribute.  Lists with an arbitrary dimension attribute are, as Rob
pointed out, an unimplemented bug. However, rectangle things with
arbitrary data in them do exist. They're called data frames.

As you will remember from Rob's DSC2001 talk, you can put potentially very
complicated objects into cells in a data frame. His example was
longitudinal data, where a celll might be the entire record of followup
measurements for a particular variable. Have a look at his paper in the
DSC proceedings at http://www.ci.tuwien.ac.at/Conferences/DSC-2001/

You could create an object of class "mvelement", say, which would be
either a number or a list, depending on whether the value was observed or
missing, and stick these in a data frame.


Another approach would be to have a matrix of data, with NAs where
necessary, and have the missing value information as an attribute of that
matrix, but that's different from what you're trying to do.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley@u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Apr 23 23:12:21 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Apr 2001 00:12:21 +0200
Subject: [Rd] several bugs (PR#918) lists and matrices
In-Reply-To: Thomas Lumley's message of "Mon, 23 Apr 2001 12:54:17 -0700 (PDT)"
References: <Pine.A41.4.33.0104231243060.125502-100000@homer34.u.washington.edu>
Message-ID: <x2ae57mfju.fsf@blueberry.kubism.ku.dk>

Thomas Lumley <tlumley@u.washington.edu> writes:

> This is a more difficult question.  You can't put a list into a matrix.
> Matrices handle homogenous data; they are vectors with a dimension
> attribute.  Lists with an arbitrary dimension attribute are, as Rob
> pointed out, an unimplemented bug.

Ummm. I'd have to say that it is an implemented bug if a bug at all.
tapply() does this all the time (although most often by accident), and
is even documented to do so. If one can have a list with a dim(), not
being able to index such a beast does look like a bug to me...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Mon Apr 23 23:51:48 2001
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Mon, 23 Apr 2001 15:51:48 -0700 (PDT)
Subject: [Rd] several bugs (PR#918) lists and matrices
In-Reply-To: <x2ae57mfju.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.A41.4.33.0104231546550.125502-100000@homer34.u.washington.edu>

On 24 Apr 2001, Peter Dalgaard BSA wrote:

> Thomas Lumley <tlumley@u.washington.edu> writes:
>
> > This is a more difficult question.  You can't put a list into a matrix.
> > Matrices handle homogenous data; they are vectors with a dimension
> > attribute.  Lists with an arbitrary dimension attribute are, as Rob
> > pointed out, an unimplemented bug.
>
> Ummm. I'd have to say that it is an implemented bug if a bug at all.
> tapply() does this all the time (although most often by accident), and
> is even documented to do so. If one can have a list with a dim(), not
> being able to index such a beast does look like a bug to me...

Strange. I had assumed that an array of mode list looked like a vector of
LISTSXPs, but it seems that it looks like a list with dimensions.

You can index it, with [[]]
> a<-list(1,2,3,4)
> dim(a)<-c(2,2)
> a
     [,1]        [,2]
[1,] "Numeric,1" "Numeric,1"
[2,] "Numeric,1" "Numeric,1"
> a[2,1]
[[1]]
NULL

> a[[2,1]]
[1] 2
which is weird. The question is then what a[2,1] thinks it's returning.


You still can't stick a list into an array of numbers, which is what Rich
needs, and is better handled with data frames.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.C.Rougier@durham.ac.uk  Tue Apr 24 09:49:16 2001
From: J.C.Rougier@durham.ac.uk (Jonathan Rougier)
Date: Tue, 24 Apr 2001 09:49:16 +0100 (BST)
Subject: [Rd] several bugs (PR#918) lists and matrices
In-Reply-To: <20010423141220.X25202@jimmy.harvard.edu>
Message-ID: <Pine.GSO.4.20.0104240935040.6372-100000@laplace>

Hi Robert,

On Mon, 23 Apr 2001, Robert Gentleman wrote:

>   I am uncertain as to why you want to put dimensions on a list? It
>   doesn't make it a matrix. That said we can duplicate the behaviour
>   but I'm not sure that it is worth introducing the confusion that
>   ought to follow.

Just to second Rich's reply: I love putting dimensions on a list!  I often
have rectangular data-structures of heterogeneous objects, and find it
much easier to operate with one large structure than several matching
small ones.

For example, at the moment I have a dynamic programming problem in which I
need to retain the expected payoff and the action, plus possibly some
other stuff as well, on a 2-grid.  I find it natural to write

dprog <- array(list(), c(20, 30))

# solving the dynamic programme

for (i in 20:1) for (j in 1:30) {

  # stuff here

  dprog[[i, j]] <- list(Ep = -1.0, action = "run for the hills")

  # and then, if I need to ...

  dprog[[i, j]]$andAnotherThing <- "don't look back"

}

Cheers, Jonathan.

Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jmc@research.bell-labs.com  Tue Apr 24 15:02:18 2001
From: jmc@research.bell-labs.com (John Chambers)
Date: Tue, 24 Apr 2001 10:02:18 -0400 (EDT)
Subject: [Rd] several bugs (PR#918) lists and matrices
References: <Pine.A41.4.33.0104231546550.125502-100000@homer34.u.washington.edu>
Message-ID: <200104241402.KAA03006@jessie.research.bell-labs.com>

> Date: Mon, 23 Apr 2001 15:51:48 -0700 (PDT)
> From: Thomas Lumley <tlumley@u.washington.edu>
> cc: <r-devel@stat.math.ethz.ch>
> Sender: owner-r-devel@stat.math.ethz.ch
> Precedence: SfS-bulk
> 
> On 24 Apr 2001, Peter Dalgaard BSA wrote:
> 
> > Thomas Lumley <tlumley@u.washington.edu> writes:
> >
> > > This is a more difficult question.  You can't put a list into a matrix.
> > > Matrices handle homogenous data; they are vectors with a dimension
> > > attribute.  Lists with an arbitrary dimension attribute are, as Rob
> > > pointed out, an unimplemented bug.

The original idea of a matrix in S was that it was a vector with a
dim attribute (in fact, just a special case of an array, when the
length of the dim was 2).

In S (S3, or any other vintage) a "list" is a vector, so in the sense
of an array it is "homogeneous" enough to be a matrix.  Of course,
it's a vector where each element can be an arbitrary object, which
makes the code for printing and other things trickier.

In R, there are two kinds of "list" objects.  And the implementation
is much more indebted to the Lisp family of languages.  A list in the
traditional sense of an object with a head and a tail is very useful
for recursive computations, but not (IMO) particularly suitable to
be treated as an S vector, let alone a matrix.

So, part of the difficulty may be terminology.  It's only the S sense
of "list" that is likely to be useful as a matrix or array.


> > Ummm. I'd have to say that it is an implemented bug if a bug at all.
> > tapply() does this all the time (although most often by accident), and
> > is even documented to do so. If one can have a list with a dim(), not
> > being able to index such a beast does look like a bug to me...
> 
> Strange. I had assumed that an array of mode list looked like a vector of
> LISTSXPs, but it seems that it looks like a list with dimensions.
> 
> You can index it, with [[]]
> > a<-list(1,2,3,4)
> > dim(a)<-c(2,2)
> > a
>      [,1]        [,2]
> [1,] "Numeric,1" "Numeric,1"
> [2,] "Numeric,1" "Numeric,1"
> > a[2,1]
> [[1]]
> NULL
> 
> > a[[2,1]]
> [1] 2
> which is weird. The question is then what a[2,1] thinks it's
> returning.

Gee, it doesn't seem weird to me :-)

Each element of a is a numeric vector.  Any [[]] operation returns a
single element, namely the numeric vector.

The natural interpretation of single [] is that it operates to return
a vector (in general, optionally still an array if a rectangular
subset is selected) of the same mode as the original; i.e., in the
case of a[2,1] presumably a list of length 1 containing a numeric
vector (accidentally, also of length 1).
 
> 
> You still can't stick a list into an array of numbers, which is what Rich
> needs, and is better handled with data frames.

Yes, I'd agree (pending a convincing example) that fixing bugs for
traditional S arrays of mode list is not a high priority item.

We're in the process of discussing data frames and where they might go
in the future.  That would be a good context for examining whatever
practical needs people have.

> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

John

-- 
John M. Chambers                  jmc@bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From David James <dj@research.bell-labs.com>  Tue Apr 24 19:16:21 2001
From: David James <dj@research.bell-labs.com> (David James)
Date: Tue, 24 Apr 2001 14:16:21 -0400 (EDT)
Subject: [Rd] assigning objects from .C/.Call
Message-ID: <200104241816.OAA04278@jessie.research.bell-labs.com>


Hi,

In section 4.6.7 of "Writing R Extensions" (Version 1.2.1, 2001-01-15) 
the C function defineVar() is described as  "... the equivalent 
of assign(symbol, value, envir = rho, inherits = FALSE) ..."

I interpreted the above (wrongly) as meaning that defineVar() makes 
a copy of its "value" argument into the object whose name is specified 
in "symbol" in the "rho" environment (that's how assign() works at the 
R/S level).  However, this is not exactly how defineVar() appears to work.
In particular, it appears to assign the object in the environment "rho",
but further changes in the C code to the object are reflected in the 
"assigned" object in rho (i.e., no actual copy of the object is made).

I can see that the implemented behavior is quite useful, but it's not 
exactly equivalent to assign().  Perhaps the documentation should be more 
explicit and add a sentence to warn users that the data part of the
object is shared? (The sentence may need to be more precise, though.)


> version

platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    2.1              
year     2001             
month    01               
day      15               
language R                

Regards,

David A. James
Statistics Research, Room 2C-253            Phone:  (908) 582-3082       
Bell Labs, Lucent Technologies              Fax:    (908) 582-3340
Murray Hill, NJ 09794-0636

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Apr 24 20:24:35 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 24 Apr 2001 20:24:35 +0100 (BST)
Subject: [Rd] assigning objects from .C/.Call
In-Reply-To: <200104241816.OAA04278@jessie.research.bell-labs.com>
Message-ID: <Pine.GSO.4.31.0104242021450.16295-100000@auk.stats>

On Tue, 24 Apr 2001, David James wrote:

>
> Hi,
>
> In section 4.6.7 of "Writing R Extensions" (Version 1.2.1, 2001-01-15)
> the C function defineVar() is described as  "... the equivalent
> of assign(symbol, value, envir = rho, inherits = FALSE) ..."
>
> I interpreted the above (wrongly) as meaning that defineVar() makes
> a copy of its "value" argument into the object whose name is specified
> in "symbol" in the "rho" environment (that's how assign() works at the
> R/S level).  However, this is not exactly how defineVar() appears to work.
> In particular, it appears to assign the object in the environment "rho",
> but further changes in the C code to the object are reflected in the
> "assigned" object in rho (i.e., no actual copy of the object is made).
>
> I can see that the implemented behavior is quite useful, but it's not
> exactly equivalent to assign().  Perhaps the documentation should be more
> explicit and add a sentence to warn users that the data part of the
> object is shared? (The sentence may need to be more precise, though.)

I'm happy to do so, but can someone provide the more precise sentence,
please.  When exactly does R make a copy?


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Apr 24 23:50:18 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 Apr 2001 00:50:18 +0200
Subject: [Rd] assigning objects from .C/.Call
In-Reply-To: Prof Brian D Ripley's message of "Tue, 24 Apr 2001 20:24:35 +0100 (BST)"
References: <Pine.GSO.4.31.0104242021450.16295-100000@auk.stats>
Message-ID: <x2ae55c3px.fsf@blueberry.kubism.ku.dk>

Prof Brian D Ripley <ripley@stats.ox.ac.uk> writes:

> On Tue, 24 Apr 2001, David James wrote:
> 
> >
> > Hi,
> >
> > In section 4.6.7 of "Writing R Extensions" (Version 1.2.1, 2001-01-15)
> > the C function defineVar() is described as  "... the equivalent
> > of assign(symbol, value, envir = rho, inherits = FALSE) ..."
> >
> > I interpreted the above (wrongly) as meaning that defineVar() makes
> > a copy of its "value" argument into the object whose name is specified
> > in "symbol" in the "rho" environment (that's how assign() works at the
> > R/S level).  However, this is not exactly how defineVar() appears to work.
> > In particular, it appears to assign the object in the environment "rho",
> > but further changes in the C code to the object are reflected in the
> > "assigned" object in rho (i.e., no actual copy of the object is made).
> >
> > I can see that the implemented behavior is quite useful, but it's not
> > exactly equivalent to assign().  Perhaps the documentation should be more
> > explicit and add a sentence to warn users that the data part of the
> > object is shared? (The sentence may need to be more precise, though.)
> 
> I'm happy to do so, but can someone provide the more precise sentence,
> please.  When exactly does R make a copy?

At C level, you'd need to duplicate(). In an assign() call,
duplication takes place if the object is NAMED except if .Alias is
used. ...I think.
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.C.Rougier@durham.ac.uk  Wed Apr 25 12:23:09 2001
From: J.C.Rougier@durham.ac.uk (J.C.Rougier@durham.ac.uk)
Date: Wed, 25 Apr 2001 13:23:09 +0200 (MET DST)
Subject: [Rd] Managed to confuse match.arg (PR#921)
Message-ID: <200104251123.NAA14349@pubhealth.ku.dk>

This one may not strictly be a bug, and it was certainly my
fault, but it took me a while to track it down and it is rather
strange:

funOne <- function(x)
{
  funTwo <- 1:10
  funTwo(x)
}

funTwo <- function(v) 2*v

funOne(5) # answer is 10 as expected

# now a different definition for funTwo with a match.arg

funTwo <- function(v, foo=c("small", "large"))
{
  foo <- match.arg(foo)
  print(foo)
  2*v
}

funOne(5) # answer is 10, but foo is NULL

What happens is that in funOne I mask funTwo with a vector, but
that doesn't matter as the call to funTwo specifies
mode="function" (or something similar).  But what happens when
funTwo includes a match.arg?  In this case match.arg fails, and
the reason it fails is that sys.function(sys.parent()) in
match.arg evaluates to 1:10.  If there is a bug here it is the
failure of sys.function to grab a function, with the result that
formal.args in match.fun is NULL.

Cheers, Jonathan.

--please do not edit the information below--

Version:
 platform = sparc-sun-solaris2.7
 arch = sparc
 os = solaris2.7
 system = sparc, solaris2.7
 status = 
 major = 1
 minor = 2.1
 year = 2001
 month = 01
 day = 15
 language = R

Search Path:
 .GlobalEnv, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From David James <dj@research.bell-labs.com>  Wed Apr 25 14:37:19 2001
From: David James <dj@research.bell-labs.com> (David James)
Date: Wed, 25 Apr 2001 09:37:19 -0400 (EDT)
Subject: [Rd] assigning objects from .C/.Call
Message-ID: <200104251337.JAA14493@jessie.research.bell-labs.com>

Hi,

On Tue, 24 Apr 2001, Prof Brian D Ripley wrote:

> Date: Tue, 24 Apr 2001 20:24:35 +0100 (BST)
> From: 
> To: David James <dj@research.bell-labs.com>
> cc: <r-devel@stat.math.ethz.ch>
> Subject: Re: [Rd] assigning objects from .C/.Call
> MIME-Version: 1.0
> 
> On Tue, 24 Apr 2001, David James wrote:
> 
> >
> > Hi,
> >
> > In section 4.6.7 of "Writing R Extensions" (Version 1.2.1, 2001-01-15)
> > the C function defineVar() is described as  "... the equivalent
> > of assign(symbol, value, envir = rho, inherits = FALSE) ..."
> >
> > I interpreted the above (wrongly) as meaning that defineVar() makes
> > a copy of its "value" argument into the object whose name is specified
> > in "symbol" in the "rho" environment (that's how assign() works at the
> > R/S level).  However, this is not exactly how defineVar() appears to work.
> > In particular, it appears to assign the object in the environment "rho",
> > but further changes in the C code to the object are reflected in the
> > "assigned" object in rho (i.e., no actual copy of the object is made).
> >
> > I can see that the implemented behavior is quite useful, but it's not
> > exactly equivalent to assign().  Perhaps the documentation should be more
> > explicit and add a sentence to warn users that the data part of the
> > object is shared? (The sentence may need to be more precise, though.)
> 
> I'm happy to do so, but can someone provide the more precise sentence,
> please.  When exactly does R make a copy?

Using Peter Delgaard's suggestion (and John Chambers', privately)
I suggest the following modified paragraph (edited from R-exts.texi):


@code{defineVar}
creates a new binding or changes the value of an existing binding in the
specified environment frame; in this respect, it is analogous to
@code{assign(symbol, value, envir = rho, inherits = FALSE)},
but unlike \code{assign}, @code{defineVar} does not make a
copy of the object (you can assign a copy of the object in the
environment frame @code{rho} using
@code{defineVar(symbol, duplicate(value), rho)}).



> 
> 
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 
-------------------------------------------------------------------
David A. James
Statistics Research, Room 2C-253            Phone:  (908) 582-3082       
Bell Labs, Lucent Technologies              Fax:    (908) 582-3340
Murray Hill, NJ 09794-0636

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Apr 25 14:58:52 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 25 Apr 2001 14:58:52 +0100 (BST)
Subject: [Rd] assigning objects from .C/.Call
In-Reply-To: <200104251337.JAA14493@jessie.research.bell-labs.com>
Message-ID: <Pine.LNX.4.31.0104251447200.1267-100000@gannet.stats>

On Wed, 25 Apr 2001, David James wrote:

> Hi,
>
> On Tue, 24 Apr 2001, Prof Brian D Ripley wrote:
>
> > Date: Tue, 24 Apr 2001 20:24:35 +0100 (BST)
> > From:
> > To: David James <dj@research.bell-labs.com>
> > cc: <r-devel@stat.math.ethz.ch>
> > Subject: Re: [Rd] assigning objects from .C/.Call
> > MIME-Version: 1.0
> >
> > On Tue, 24 Apr 2001, David James wrote:
> >
> > >
> > > Hi,
> > >
> > > In section 4.6.7 of "Writing R Extensions" (Version 1.2.1, 2001-01-15)
> > > the C function defineVar() is described as  "... the equivalent
> > > of assign(symbol, value, envir = rho, inherits = FALSE) ..."
> > >
> > > I interpreted the above (wrongly) as meaning that defineVar() makes
> > > a copy of its "value" argument into the object whose name is specified
> > > in "symbol" in the "rho" environment (that's how assign() works at the
> > > R/S level).  However, this is not exactly how defineVar() appears to work.
> > > In particular, it appears to assign the object in the environment "rho",
> > > but further changes in the C code to the object are reflected in the
> > > "assigned" object in rho (i.e., no actual copy of the object is made).
> > >
> > > I can see that the implemented behavior is quite useful, but it's not
> > > exactly equivalent to assign().  Perhaps the documentation should be more
> > > explicit and add a sentence to warn users that the data part of the
> > > object is shared? (The sentence may need to be more precise, though.)
> >
> > I'm happy to do so, but can someone provide the more precise sentence,
> > please.  When exactly does R make a copy?
>
> Using Peter Delgaard's suggestion (and John Chambers', privately)
> I suggest the following modified paragraph (edited from R-exts.texi):
>
>
> @code{defineVar}
> creates a new binding or changes the value of an existing binding in the
> specified environment frame; in this respect, it is analogous to
> @code{assign(symbol, value, envir = rho, inherits = FALSE)},
> but unlike \code{assign}, @code{defineVar} does not make a
> copy of the object (you can assign a copy of the object in the
> environment frame @code{rho} using
> @code{defineVar(symbol, duplicate(value), rho)}).

Thanks, will add (a variant of).

The real issue is that assign() allows `value' to be an expression, and so
uses the value of evaluating the expression, not that of a variable.

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@nokomis.stat.umn.edu  Wed Apr 25 15:48:29 2001
From: luke@nokomis.stat.umn.edu (Luke Tierney)
Date: Wed, 25 Apr 2001 09:48:29 -0500
Subject: [Rd] assigning objects from .C/.Call
In-Reply-To: <x2ae55c3px.fsf@blueberry.kubism.ku.dk>; from p.dalgaard@biostat.ku.dk on Wed, Apr 25, 2001 at 12:50:18AM +0200
References: <Pine.GSO.4.31.0104242021450.16295-100000@auk.stats> <x2ae55c3px.fsf@blueberry.kubism.ku.dk>
Message-ID: <20010425094829.B5007@nokomis.stat.umn.edu>

On Wed, Apr 25, 2001 at 12:50:18AM +0200, Peter Dalgaard BSA wrote:
> Prof Brian D Ripley <ripley@stats.ox.ac.uk> writes:
> 
> > On Tue, 24 Apr 2001, David James wrote:
> > 
> > >
> > > Hi,
> > >
> > > In section 4.6.7 of "Writing R Extensions" (Version 1.2.1, 2001-01-15)
> > > the C function defineVar() is described as  "... the equivalent
> > > of assign(symbol, value, envir = rho, inherits = FALSE) ..."
> > >
> > > I interpreted the above (wrongly) as meaning that defineVar() makes
> > > a copy of its "value" argument into the object whose name is specified
> > > in "symbol" in the "rho" environment (that's how assign() works at the
> > > R/S level).  However, this is not exactly how defineVar() appears to work.
> > > In particular, it appears to assign the object in the environment "rho",
> > > but further changes in the C code to the object are reflected in the
> > > "assigned" object in rho (i.e., no actual copy of the object is made).
> > >
> > > I can see that the implemented behavior is quite useful, but it's not
> > > exactly equivalent to assign().  Perhaps the documentation should be more
> > > explicit and add a sentence to warn users that the data part of the
> > > object is shared? (The sentence may need to be more precise, though.)
> > 
> > I'm happy to do so, but can someone provide the more precise sentence,
> > please.  When exactly does R make a copy?
> 
> At C level, you'd need to duplicate(). In an assign() call,
> duplication takes place if the object is NAMED except if .Alias is
> used. ...I think.

As i understand it if the object is NAMED it is duplicated (.Alias I
think sete NAMED to 0 and to gets into the unnamed branch).  If NAMED
is zero, then defineVar is called and NAMED is set to 1.

We should probably think about making the public version of defineVar
take care of this, but maybe we should go a bit further and move the
responsability for maintaining the copying semantics into defineVar so
it is all in one place--there seem to be about 40 call sites and I'm
not sure they all get this right.

I'll make a note to look at this when I get back to the appropirate
part of the compiler, but if anyone else gets there first, that's
fine.

luke

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke@stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ligges@statistik.uni-dortmund.de  Wed Apr 25 16:24:44 2001
From: ligges@statistik.uni-dortmund.de (ligges@statistik.uni-dortmund.de)
Date: Wed, 25 Apr 2001 17:24:44 +0200 (MET DST)
Subject: [Rd] Re: identify.default ignores any setting of cex (PR#660)
Message-ID: <200104251524.RAA02124@pubhealth.ku.dk>

A follow-up to PR#660 (15 Sep 2000) from Brian Ripley:

> R 1.1.1 on Windows, but I think this is widespread.
>
> Using either
>
> par(cex=0.5)
> plot(1:10)
> identify(1:10)
>
> or
> 
> plot(1:10)
> identify(1:10, cex=0.5)
> 
> ignores the cex setting.  The root cause is that par(cex=0.5)
> alters cexbase for the device but sets cex=1.0, and the internal
> text plotting routines use cex and not cexbase.
> 
> The obvious fix is to set cex to cexbase in do_identify. However,
> if this is fixed, there is another problem, The offset of the label
> is related to the cex in use for the label, and not for the symbol.
> So
> 
> plot(1:10, type="n")
> points(1:10, cex=5)
> identify(1:10)
> 
> is not sensible in placing the labels.  That may be hard to anticipate,
> but 
> 
> plot(1:10)
> identify(1:10, cex=0.5)
> 
> needs to use cex=1 not cex=0.5 for the adjustment.  Perhaps identify is
> trying too hard, and should give the user more control over the precise
> position of the label (as S-PLUS does).


The same with 

 par(cex=1); plot(1:10); text(4, 5, "Hello World") # OK
 par(cex=2); plot(1:10); text(4, 5, "Hello World") # OK
 par(cex=2); plot(1:10); text(4, 5, "Hello World", cex = 1) # NOT OK
 par(cex=2); plot(1:10); text(4, 5, "Hello World", cex = 0.5)

So the scaling with cex in text() is relative to the par() settings,
which is not the expected behaviour.


[R-1.2.2 on WinNT 4.0]

Uwe Ligges

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Apr 25 18:55:47 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 25 Apr 2001 18:55:47 +0100 (GMT Daylight Time)
Subject: [Rd] Re: identify.default ignores any setting of cex (PR#660)
In-Reply-To: <200104251524.RAA02124@pubhealth.ku.dk>
Message-ID: <Pine.WNT.4.31.0104251852500.300-100000@tern.stats>

On Wed, 25 Apr 2001 ligges@statistik.uni-dortmund.de wrote:

> A follow-up to PR#660 (15 Sep 2000) from Brian Ripley:

[...]

> The same with
>
>  par(cex=1); plot(1:10); text(4, 5, "Hello World") # OK
>  par(cex=2); plot(1:10); text(4, 5, "Hello World") # OK
>  par(cex=2); plot(1:10); text(4, 5, "Hello World", cex = 1) # NOT OK
>  par(cex=2); plot(1:10); text(4, 5, "Hello World", cex = 0.5)
>
> So the scaling with cex in text() is relative to the par() settings,
> which is not the expected behaviour.

It is the documented behaviour, though: see the description of cex in
?help.

     cex: numeric character expansion factor; multiplied by
          `par("cex")' yields the final character size.

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Apr 26 00:01:52 2001
From: p.dalgaard@biostat.ku.dk (p.dalgaard@biostat.ku.dk)
Date: Thu, 26 Apr 2001 01:01:52 +0200 (MET DST)
Subject: [Rd] match.arg confusion (PR#921)
Message-ID: <200104252301.BAA04480@pubhealth.ku.dk>


[sys.function fails sometimes (sorry, our mail system decide to throw
away the original mail)]

Yes, I bumped into something similar recently. The problem is that we
only actually store the call in the context structure, not the
function, so sys.function has to grab the call, take the 1st element,
and reevaluate it in the parent frame. It is quite easy to think up
examples where a second evaluation does not give the same value as
the first. 

Your particular case is of a slightly different natur and should be
easily fixable by replacing findVar in R_sysfunction by findVar1 and
looking specifically for objects of mode "function", but the basic
problem persists. I don't think I want to risk fixing this (and maybe
unfixing something else) for 1.2.3 tomorrow though.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From andys@neptuneandco.com  Thu Apr 26 01:16:13 2001
From: andys@neptuneandco.com (Andrew Schuh)
Date: Wed, 25 Apr 2001 18:16:13 -0600
Subject: [Rd] P-4
Message-ID: <4.2.2.20010425181024.00b134e0@neptuneandco.com>

I just got a new machine with a Intel 1.3 P4 chip in it.  I am aware that 
many (most) software companies have not optimized their code specifically 
for the chip.  Furthermore, I have found that this machine is even slower, 
on many apps, than a 8xx P3 we have here.  I enjoy using R and was 
wondering if there are any plans to create a version that accommodates this 
chip.  

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pchalasani@hbk.com  Thu Apr 26 03:25:54 2001
From: pchalasani@hbk.com (pchalasani@hbk.com)
Date: Thu, 26 Apr 2001 04:25:54 +0200 (MET DST)
Subject: [Rd] not able to download WinNT version (PR#922)
Message-ID: <200104260225.EAA04894@pubhealth.ku.dk>

I keep clicking on the WindowsNT link and it keeps extending the path
name...
is something wrong?
thanks


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Apr 26 06:57:35 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 26 Apr 2001 06:57:35 +0100 (BST)
Subject: [Rd] P-4
In-Reply-To: <4.2.2.20010425181024.00b134e0@neptuneandco.com>
Message-ID: <Pine.GSO.4.31.0104260648020.9996-100000@auk.stats>

On Wed, 25 Apr 2001, Andrew Schuh wrote:

> I just got a new machine with a Intel 1.3 P4 chip in it.  I am aware that
> many (most) software companies have not optimized their code specifically
> for the chip.  Furthermore, I have found that this machine is even slower,
> on many apps, than a 8xx P3 we have here.  I enjoy using R and was
> wondering if there are any plans to create a version that accommodates this
> chip.

Under what OS?

AFAIK the only thing one can do is to find a compiler that optimizes for
the P4, but I don't know of one, nor if it actually helps.  As far as I am
aware under both Linux and Windows the binary versions of R are not
even optimized for an i686 (Pentium Pro/II/III), but I find that under
Windows (and VC++) using the optimizations for i686 makes only negligible
differences.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ligges@statistik.uni-dortmund.de  Thu Apr 26 07:16:41 2001
From: ligges@statistik.uni-dortmund.de (ligges@statistik.uni-dortmund.de)
Date: Thu, 26 Apr 2001 08:16:41 +0200 (MET DST)
Subject: [Rd] not able to download WinNT version (PR#922)
Message-ID: <200104260616.IAA05395@pubhealth.ku.dk>



pchalasani@hbk.com wrote:
> 
> I keep clicking on the WindowsNT link and it keeps extending the path
> name...
> is something wrong?
> thanks

This is NOT a bug.

If you have got a question for which you don't get an answer reading the
docs, please write to R-help.


Read the readme in that directory. It says:
** The directories windows-9x and windows-NT are recursive links and
only
** there for backwards-compatibility. Please go directly to base or
** contrib to download R for all versions of Windows.

Uwe Ligges

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Apr 26 06:59:58 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 26 Apr 2001 07:59:58 +0200 (MET DST)
Subject: [Rd] not able to download WinNT version (PR#922)
Message-ID: <200104260559.HAA05296@pubhealth.ku.dk>

On Thu, 26 Apr 2001 pchalasani@hbk.com wrote:

> I keep clic.king on the WindowsNT link and it keeps extending the path
> name...
> is something wrong?
> thanks

No.  The `WinNT version' is in the directory you keep clicking on the link
in.  The link is there for back-compatibility reasons.

Try reading the ReadMe!

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Thu Apr 26 13:37:33 2001
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Thu, 26 Apr 2001 08:37:33 -0400
Subject: [Rd] not able to download WinNT version (PR#922)
In-Reply-To: <200104260559.HAA05296@pubhealth.ku.dk>
References: <200104260559.HAA05296@pubhealth.ku.dk>
Message-ID: <m75getgni8bb3pvqcnjoqf9udp1nrfmeqj@4ax.com>

On Thu, 26 Apr 2001 07:59:58 +0200 (MET DST), you wrote:

>On Thu, 26 Apr 2001 pchalasani@hbk.com wrote:
>
>> I keep clic.king on the WindowsNT link and it keeps extending the path
>> name...
>> is something wrong?
>> thanks
>
>No.  The `WinNT version' is in the directory you keep c1icking on the link
>in.  The link is there for back-compatibility reasons.
>
>Try reading the ReadMe!

This comes up often enough that it's probably worth adding a notice
that can be seen without reading the ReadMe.  How about some text in
the "Description" column that is given on
<http://cran.r-project.org/bin/windows>, or a file named
"LinksDontWorkSeeReadme!!!"?

Duncan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Thu Apr 26 13:37:33 2001
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Thu, 26 Apr 2001 08:37:33 -0400
Subject: [Rd] not able to download WinNT version (PR#922)
In-Reply-To: <200104260559.HAA05296@pubhealth.ku.dk>
References: <200104260559.HAA05296@pubhealth.ku.dk>
Message-ID: <m75getgni8bb3pvqcnjoqf9udp1nrfmeqj@4ax.com>

On Thu, 26 Apr 2001 07:59:58 +0200 (MET DST), you wrote:

>On Thu, 26 Apr 2001 pchalasani@hbk.com wrote:
>
>> I keep clic.king on the WindowsNT link and it keeps extending the path
>> name...
>> is something wrong?
>> thanks
>
>No.  The `WinNT version' is in the directory you keep c1icking on the link
>in.  The link is there for back-compatibility reasons.
>
>Try reading the ReadMe!

This comes up often enough that it's probably worth adding a notice
that can be seen without reading the ReadMe.  How about some text in
the "Description" column that is given on
<http://cran.r-project.org/bin/windows>, or a file named
"LinksDontWorkSeeReadme!!!"?

Duncan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From wang@rjka.com  Thu Apr 26 18:57:01 2001
From: wang@rjka.com (wang@rjka.com)
Date: Thu, 26 Apr 2001 19:57:01 +0200 (MET DST)
Subject: [Rd] bug when compiling using --with-f2c option (PR#923)
Message-ID: <200104261757.TAA17892@pubhealth.ku.dk>

Full_Name: Huayin Wang
Version: 1.2.2
OS: solaris
Submission from: (NULL) (38.158.182.2)


when configure using --with-f2c option, the f2c library should be linked.  It
maybe
just adding a -lf2c somewhere, but I do not know enough about it to fix it.  As
it is
now, errors will be generated complaining some symbols such as "i_len" etc. not
found.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From wang@rjka.com  Thu Apr 26 18:58:18 2001
From: wang@rjka.com (wang@rjka.com)
Date: Thu, 26 Apr 2001 19:58:18 +0200 (MET DST)
Subject: [Rd] bug when compiling using --with-f2c option (PR#924)
Message-ID: <200104261758.TAA17917@pubhealth.ku.dk>

Full_Name: Huayin Wang
Version: 1.2.2
OS: solaris
Submission from: (NULL) (38.158.182.2)


when configure using --with-f2c option, the f2c library should be linked.  It
maybe
just adding a -lf2c somewhere, but I do not know enough about it to fix it.  As
it is
now, errors will be generated complaining some symbols such as "i_len" etc. not
found.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Fri Apr 27 06:59:03 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Fri, 27 Apr 2001 07:59:03 +0200
Subject: [Rd] bug when compiling using --with-f2c option (PR#923)
In-Reply-To: <200104261757.TAA17892@pubhealth.ku.dk>
References: <200104261757.TAA17892@pubhealth.ku.dk>
Message-ID: <15081.2727.221988.723146@mithrandir.hornik.net>

>>>>> wang  writes:

> Full_Name: Huayin Wang
> Version: 1.2.2
> OS: solaris
> Submission from: (NULL) (38.158.182.2)


> when configure using --with-f2c option, the f2c library should be
> linked.  It maybe just adding a -lf2c somewhere, but I do not know
> enough about it to fix it.  As it is now, errors will be generated
> complaining some symbols such as "i_len" etc. not found.

How do you think we can solve your problem based on the information you
gave?

In case of --with-f2c, configure tests for -lf2c or -lF77/-lI77, and
stops if neither is found.  Have a look at config.log to see what
happened in your case.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Fri Apr 27 16:54:15 2001
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Fri, 27 Apr 2001 17:54:15 +0200
Subject: [Rd] RE: [R] Benchmarking R, why sort() is so slow?
In-Reply-To: <Pine.A41.4.33.0104270814010.36572-100000@homer40.u.washington.edu>
References: <MABBLJDICACNFOLGIHJOIECDCDAA.phgrosje@ulb.ac.be>
 <Pine.A41.4.33.0104270814010.36572-100000@homer40.u.washington.edu>
Message-ID: <15081.38439.622847.16842@gargle.gargle.HOWL>

>>>>> "TL" == Thomas Lumley <tlumley@u.washington.edu> writes:

    TL> On Fri, 27 Apr 2001, Philippe Grosjean wrote:
    >> I suspect it should be a question of algorithm choice. May be sort() is
    >> important enough, including for large datasets, to place some improvement in
    >> the "to do" list for a further version...?
    >> 

    TL> Actually, I'm not convinced on the speed issue. Shellsort works
    TL> very well for vectors of lengths that R can reasonably
    TL> handle. Using a million record dataset in R you really can't get
    TL> much done in the 20seconds that a really good sorting routine might
    TL> save you.

    TL> Heapsort might be worth trying -- it has good worst-case behaviour
    TL> and is about half as fast as the typical case of quicksort.  Merge
    TL> sort might also be nice because it's stable: it leaves ties in the
    TL> order it found them, but it needs extra space. Still, I don't think
    TL> it's a high optimisation priority.

I tend to disagree.
For me, R is not just for data analysis.
It's my compute engine for almost everything, nowadays.
I definitely have wanted to add better sort() routines to R,
and I think R's default should be to use some  O(n log(n)) versions, at
least for larghish n.
20 years ago (or so), ``the'' good thing 
 {{for in-memory sorting; note that we might consider a different algorithm 
   for the case of a really large array where [i] is really disk access}}
was Singleton's Quickersort
  |  R.C. Singleton 'Revised Quickersort'
  |  (CACM Algorithm 347, Sept.1968)

(quicker than quicksort), a version of which (that does additionally return
 the sorted index) I had re-programmed in Pascal and then C.
I can put it up for ftp if there's interest.

The GSL (GNU scientific library) has sorting routines, too,
all of them heapsort.

>From an outdated manual,
     http://sources.redhat.com/gsl/ref/gsl-ref_17.html#SEC253

>> Sorting

>> This chapter describes functions for sorting data, both directly and
>> indirectly (using an index). All the functions use the heapsort
>> algorithm. Heapsort is an O(N \log N) algorithm which operates
>> in-place. It does not require any additional storage and provides
>> consistent performance. The running time for its worst-case (ordered
>> data) which is not significantly different from the average and best
>> cases. Note that the heapsort algorithm does not preserve the relative
>> ordering of equal elements -- it is an unstable sort. However the
>> resulting order of equal elements will be consistent across different
>> platforms when using these functions.

>> Sorting objects
>> 
>> The following function provides a simple alternative to the standard
>> library function qsort. It is intended for systems lacking qsort, not as
>> a replacement for it. The function qsort should be used whenever
>> possible, as it will be faster and can provide stable ordering of equal
>> elements. Documentation for qsort is available in the GNU C Library
>> Reference Manual.

I.e., they seem to say one should really use  qsort() whenever that is
available... hmm,
could we use  configure  to find if qsort() is available?

Martin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ihaka@stat.auckland.ac.nz  Fri Apr 27 23:19:58 2001
From: ihaka@stat.auckland.ac.nz (Ross Ihaka)
Date: Sat, 28 Apr 2001 10:19:58 +1200
Subject: [Rd] RE: [R] Benchmarking R, why sort() is so slow?
References: <MABBLJDICACNFOLGIHJOIECDCDAA.phgrosje@ulb.ac.be>
 <Pine.A41.4.33.0104270814010.36572-100000@homer40.u.washington.edu> <15081.38439.622847.16842@gargle.gargle.HOWL>
Message-ID: <3AE9F08E.2299A92A@stat.auckland.ac.nz>

You may be overlooking a major reason for the slowness of the
R sorting --- the fact that the element comparisons are not inlined.
Comparisons dominate the cost of the sort, so any speedup of them
will make sorting faster.

It might be worth looking at replacing the present comparison
function definitions with macros to see what sort of speedup
you get.  It might also be useful to try to take advantage of
IEEE arithmetic behaviour, or perhaps do a pre-sweep of the
data to first place the NAs and Infs in their correct positions
at the start or the end, and so simplify the comparison code.
This might prove a bigger win than a switch of algorithm.

If you do plan on switching to Quicksort, you may want to read up
on tuning the algorithm.  One of John Bentley's "Programming Pearls"
chapters is on tuning Quicksort.  He does some simple things which
produce a sort 4 times faster than the "system sort".  I think
there is also some work by Bentley and Rick Becker on problems in
the Unix qsort implementation.

The choice to use Shellsort for R was based on advice in Segedin's
"Algorithms" book.  He says:

  "If one is not willing to invest the effort to be sure
  that a Quicksort implementation is not flawed, Shellsort
  is a much safer choice and will perform adequately for
  significantly less implementation effort."

Being the lazy sod that I am, I took this advice to heart.

-- 
Ross Ihaka                         Email:  ihaka@stat.auckland.ac.nz
Department of Statistics           Phone:  (64-9) 373-7599 x 5054
University of Auckland             Fax:    (64-9) 373-7018
Private Bag 92019, Auckland
New Zealand
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sat Apr 28 01:27:29 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 28 Apr 2001 02:27:29 +0200
Subject: [Rd] RE: [R] Benchmarking R, why sort() is so slow?
In-Reply-To: Ross Ihaka's message of "Sat, 28 Apr 2001 10:19:58 +1200"
References: <MABBLJDICACNFOLGIHJOIECDCDAA.phgrosje@ulb.ac.be> <Pine.A41.4.33.0104270814010.36572-100000@homer40.u.washington.edu> <15081.38439.622847.16842@gargle.gargle.HOWL> <3AE9F08E.2299A92A@stat.auckland.ac.nz>
Message-ID: <x2lmol7tse.fsf@blueberry.kubism.ku.dk>

Ross Ihaka <ihaka@stat.auckland.ac.nz> writes:

> You may be overlooking a major reason for the slowness of the
> R sorting --- the fact that the element comparisons are not inlined.
> Comparisons dominate the cost of the sort, so any speedup of them
> will make sorting faster.

Hmm. I'd suspect that declaring them static would make gcc grab any
chance of inlining..

> It might be worth looking at replacing the present comparison
> function definitions with macros to see what sort of speedup
> you get.  It might also be useful to try to take advantage of
> IEEE arithmetic behaviour, or perhaps do a pre-sweep of the
> data to first place the NAs and Infs in their correct positions
> at the start or the end, and so simplify the comparison code.
> This might prove a bigger win than a switch of algorithm.

This sounds like it would be worth trying.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From znmeb@aracnet.com  Sat Apr 28 20:13:45 2001
From: znmeb@aracnet.com (znmeb@aracnet.com)
Date: Sat, 28 Apr 2001 21:13:45 +0200 (MET DST)
Subject: [Rd] modulus operator gets syntax error (PR#925)
Message-ID: <200104281913.VAA05616@pubhealth.ku.dk>

Full_Name: M. Edward Borasky
Version: 1.2.2
OS: both Windows 2000 and Red Hat Linux 7.1
Submission from: (NULL) (208.130.245.188)


According to the R language manual, "%" is the modulus operator. However, on
both Windows and Linux, I get a syntax error when I type

records <- 100000
records % 1000

I tried wrapping the operands with "as.integer ()" but that didn't help either.
This is version 1.2.2 of R; I haven't had a chance to try it with R-1.2.3 yet,
but it does fail for me on both Windows 2000 and Red Hat Linux 7.1.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From paradis@isem.univ-montp2.fr  Sat Apr 28 20:57:33 2001
From: paradis@isem.univ-montp2.fr (Emmanuel Paradis)
Date: Sat, 28 Apr 2001 21:57:33 +0200
Subject: [Rd] modulus operator gets syntax error (PR#925)
Message-ID: <3.0.32.20010428215732.008f3870@162.38.183.200>

At 21:13 28/04/01 +0200, you wrote:
>Full_Name: M. Edward Borasky
>Version: 1.2.2
>OS: both Windows 2000 and Red Hat Linux 7.1
>Submission from: (NULL) (208.130.245.188)
>
>
>According to the R language manual, "%" is the modulus operator. However, on
>both Windows and Linux, I get a syntax error when I type
>
>records <- 100000
>records % 1000
>
>I tried wrapping the operands with "as.integer ()" but that didn't help
either.
>This is version 1.2.2 of R; I haven't had a chance to try it with R-1.2.3
yet,
>but it does fail for me on both Windows 2000 and Red Hat Linux 7.1.
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>
>

The bug is in the manual (already mentioned by Duncan Murdoch, if I
remember), not in R. The operator you are looking for is %%

See:

help("%%")




Emmanuel Paradis
Laboratoire de Palontologie
Institut des Sciences de l'volution
Universit Montpellier II
F-34095 Montpellier cdex 05
France
   phone: +33  4 67 14 39 64
     fax: +33  4 67 14 36 10
  mailto:paradis@isem.univ-montp2.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bellis@hsph.harvard.edu  Sun Apr 29 19:45:17 2001
From: bellis@hsph.harvard.edu (bellis@hsph.harvard.edu)
Date: Sun, 29 Apr 2001 20:45:17 +0200 (MET DST)
Subject: [Rd] Rgui crash (PR#926)
Message-ID: <200104291845.UAA09122@pubhealth.ku.dk>

Full_Name: Byron Ellis
Version: 1.2.3
OS: Windows 2000 Server
Submission from: (NULL) (140.247.105.95)


In Rgui when attempting to resize the console the system locks for a second
(cursor locks up, etc) and then either returns to normal for a second before
crashing or just crashes when we start moving again (the former happens more
often when making things bigger, the latter when the console is shrunk). The
error message reports an attempt to read 0x000000 so I'm guessing the problem is
somewhere in the Rgui console's memory management code.

I can duplicate this on both my home and lab desktop machines as well as my
laptop. All are running Win2K Server (I take that back--- my lab machine is
running Pro. edition) and all are reasonably updated.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Apr 29 21:24:59 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 29 Apr 2001 22:24:59 +0200 (MET DST)
Subject: [Rd] Rgui crash (PR#926)
Message-ID: <200104292024.WAA09334@pubhealth.ku.dk>

On Sun, 29 Apr 2001 bellis@hsph.harvard.edu wrote:

> Full_Name: Byron Ellis
> Version: 1.2.3
> OS: Windows 2000 Server
> Submission from: (NULL) (140.247.105.95)
>
>
> In Rgui when attempting to resize the console the system locks for a second
> (cursor locks up, etc) and then either returns to normal for a second before
> crashing or just crashes when we start moving again (the former happens more
> often when making things bigger, the latter when the console is shrunk). The
> error message reports an attempt to read 0x000000 so I'm guessing the problem is
> somewhere in the Rgui console's memory management code.
>
> I can duplicate this on both my home and lab desktop machines as well as my
> laptop. All are running Win2K Server (I take that back--- my lab machine is
> running Pro. edition) and all are reasonably updated.

Is this in SDI or MDI mode, and if the latter, are you resizing the
commands window or the frame?  It's not clear to me why you would want to
be resizing anyway: the sizes of the console and pager windows are set in
file Rconsole.

None of those possibilities cause problems on my systems (NT4 / W2k
Professional).

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bellis@hsph.harvard.edu  Sun Apr 29 21:43:13 2001
From: bellis@hsph.harvard.edu (bellis@hsph.harvard.edu)
Date: Sun, 29 Apr 2001 22:43:13 +0200 (MET DST)
Subject: [Rd] Rgui crash (PR#926)
Message-ID: <200104292043.WAA09393@pubhealth.ku.dk>

MDI mode. I was resizing the console child window. As for why I was
resizing--- why not? It seems like a reasonable thing to do if I want a
larger console, no? On the other hand, if the console is not actually
resizable (or you do not want it to be dynamically resizable) then the
window shouldn't be resizable.

As for it working on your systems and not mine, I don't know why that
would be though it is not limited to a single one of my systems. I'm
willing to accept some sort of interference from a piece of software I
have universally installed (SecureCRT for instance), but I'm not sure what
would cause this sort of behavior. 

Byron Ellis (bellis@hsph.harvard.edu)

On Sun, 29 Apr 2001, Prof Brian Ripley wrote:

> On Sun, 29 Apr 2001 bellis@hsph.harvard.edu wrote:
> 
> > Full_Name: Byron Ellis
> > Version: 1.2.3
> > OS: Windows 2000 Server
> > Submission from: (NULL) (140.247.105.95)
> >
> >
> > In Rgui when attempting to resize the console the system locks for a second
> > (cursor locks up, etc) and then either returns to normal for a second before
> > crashing or just crashes when we start moving again (the former happens more
> > often when making things bigger, the latter when the console is shrunk). The
> > error message reports an attempt to read 0x000000 so I'm guessing the problem is
> > somewhere in the Rgui console's memory management code.
> >
> > I can duplicate this on both my home and lab desktop machines as well as my
> > laptop. All are running Win2K Server (I take that back--- my lab machine is
> > running Pro. edition) and all are reasonably updated.
> 
> Is this in SDI or MDI mode, and if the latter, are you resizing the
> commands window or the frame?  It's not clear to me why you would want to
> be resizing anyway: the sizes of the console and pager windows are set in
> file Rconsole.
> 
> None of those possibilities cause problems on my systems (NT4 / W2k
> Professional).
> 
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From znmeb@aracnet.com  Mon Apr 30 06:14:51 2001
From: znmeb@aracnet.com (znmeb@aracnet.com)
Date: Mon, 30 Apr 2001 07:14:51 +0200 (MET DST)
Subject: [Rd] Rgui 1.2.3 for Windows crashes reading huge CSV file (PR#927)
Message-ID: <200104300514.HAA10298@pubhealth.ku.dk>

Full_Name: M. Edward Borasky
Version: 1.2.3 (2001-04-26)
OS: Windows 2000
Submission from: (NULL) (206.98.121.224)


I have a Celeron with 192 MB of RAM. My paging file is 288 MB, which is the
Windows recommended size. Here's the starting screen:
--------------------------------------------------------------------------------
R : Copyright 2001, The R Development Core Team
Version 1.2.3  (2001-04-26)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type `license()' or `licence()' for distribution details.

R is a collaborative project with many contributors.
Type `contributors()' for more information.

Type `demo()' for some demos, `help()' for on-line help, or
`help.start()' for a HTML browser interface to help.
Type `q()' to quit R.

[Previously saved workspace restored]

> memory.size()
[1] 8504720
> memory.limit()
[1] 200720384
> ls()
character(0)
---------------------------------------------------------------------------------
Now I try to read a huge (60 megabytes, 688,500 rows by 10 columns) CSV file
with "read.csv". Rgui grinds on it for some time before finally crashing. The
error message is:

The exception unknown software exception (0xc00000fd) occurred in the
application at location 0x02672dcf.

I watched this in the Task Manager and it peaked around 160 MB.

Here's the first few lines of the input file (stock price data for all NYSE
stocks for the past year) if you want to try this with some fake data -- just
add 688,499 more rows of this stuff :-)

Symbol,Date,Cvf,IsStock,Open,High,Low,Close,Volume,OpenInt
"WLP",20000428,2,1,75.25,75.25,72.5,73.75,4151,0
"WLP",20000501,2,1,74,74.5,72.120002746582,72.4300003051758,2229,0
"WLP",20000502,2,1,72.370002746582,72.370002746582,71,71.870002746582,3629,0

I haven't tried this with the Linux version yet to see if it handles the
situation a little more gracefully. I'll do that sometime and attach the results
to this bug report. This isn't a major problem for me; it's easy for me to break
the file up into individual stocks, or substitute weekly data for the daily
data, which will reduce the file to 12 megabytes or so.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Apr 30 06:36:21 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 30 Apr 2001 07:36:21 +0200 (MET DST)
Subject: [Rd] Rgui crash (PR#926)
Message-ID: <200104300536.HAA10534@pubhealth.ku.dk>

On Sun, 29 Apr 2001, Byron Ellis wrote:

> MDI mode. I was resizing the console child window. As for why I was
> resizing--- why not? It seems like a reasonable thing to do if I want a
> larger console, no? On the other hand, if the console is not actually
> resizable (or you do not want it to be dynamically resizable) then the
> window shouldn't be resizable.

It is resizable: but it is also specifiable in Rconsole in a more
precise way.

> As for it working on your systems and not mine, I don't know why that
> would be though it is not limited to a single one of my systems. I'm
> willing to accept some sort of interference from a piece of software I
> have universally installed (SecureCRT for instance), but I'm not sure what
> would cause this sort of behavior.

Can you please find out then?  Build a debug version and use gdb to
find out what the problem is.  This would not be by any means the first
time that an addon to Windows has caused Rgui to crash.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bellis@hsph.harvard.edu  Mon Apr 30 06:59:12 2001
From: bellis@hsph.harvard.edu (bellis@hsph.harvard.edu)
Date: Mon, 30 Apr 2001 07:59:12 +0200 (MET DST)
Subject: [Rd] Rgui crash (PR#926)
Message-ID: <200104300559.HAA10673@pubhealth.ku.dk>

On Mon, 30 Apr 2001, Prof Brian D Ripley wrote:

> On Sun, 29 Apr 2001, Byron Ellis wrote:
> 
> > MDI mode. I was resizing the console child window. As for why I was
> > resizing--- why not? It seems like a reasonable thing to do if I want a
> > larger console, no? On the other hand, if the console is not actually
> > resizable (or you do not want it to be dynamically resizable) then the
> > window shouldn't be resizable.
> 
> It is resizable: but it is also specifiable in Rconsole in a more
> precise way.
> 
> > As for it working on your systems and not mine, I don't know why that
> > would be though it is not limited to a single one of my systems. I'm
> > willing to accept some sort of interference from a piece of software I
> > have universally installed (SecureCRT for instance), but I'm not sure what
> > would cause this sort of behavior.
> 
> Can you please find out then?  Build a debug version and use gdb to
> find out what the problem is.  This would not be by any means the first
> time that an addon to Windows has caused Rgui to crash.

I'll give it a shot-- I really should have a debug version of R around
anyway. :-)

Also, of note: It happens at 0x026664ca (as if that helps :-)) and using
the min/max buttons does not cause the crash. Maybe the bitmap code has
some race condition that gets hit at some point? Anyway, classes
permitting, I'll look more closely this week.



Byron Ellis (bellis@hsph.harvard.edu)




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From znmeb@aracnet.com  Mon Apr 30 14:32:59 2001
From: znmeb@aracnet.com (znmeb@aracnet.com)
Date: Mon, 30 Apr 2001 15:32:59 +0200 (MET DST)
Subject: [Rd] PR #927 -- R crash on huge CSV file (PR#928)
Message-ID: <200104301332.PAA20168@pubhealth.ku.dk>

I tried to run the same dataset with R-1.2.3 on Linux, compiled from the
source tarball. After 7 hours, it was still grinding away and had not
crashed. I had to kill it. "gtop" was showing it with a real size around 160
MB, same as the peak on the Windows 2000 environment. This is on the same
hardware as the Windows run; my machine is dual-booted Windows 2000 and Red
Hat Linux 7.1. If I get ambitious, I'll see if I can make it fail with a
smaller dataset and run on Linux with a debug-compiled R binary.
--
M. Edward (Ed) Borasky, Chief Scientist, Borasky Research
http://www.borasky-research.net  http://www.aracnet.com/~znmeb
mailto:znmeb@borasky-research.com  mailto:znmeb@aracnet.com

If there's nothing to astrology, how come so many famous men were born on
holidays?


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.C.Rougier@durham.ac.uk  Mon Apr 30 14:34:06 2001
From: J.C.Rougier@durham.ac.uk (J.C.Rougier@durham.ac.uk)
Date: Mon, 30 Apr 2001 15:34:06 +0200 (MET DST)
Subject: [Rd] Segmentation fault linked to memory? (PR#929)
Message-ID: <200104301334.PAA20209@pubhealth.ku.dk>

Hi Everyone,

The following rather extreme claim on memory causes a
segmentation fault on my installation:

fred <- matrix(1:1200, 20, 60)

littleOP <- function(x, y)
{
  z <- as.vector(x) %*% t(as.vector(y))
  dim(z) <- c(dim(x), dim(y))
  z
}

littleOP(fred, fred)                 # this is OK
littleOP(littleOP(fred, fred), fred) # whoops! Segmentation fault

What's a bit strange is that if I do the outer product the
`old-fashioned' way then I get the more usual error message:

> (fred %o% fred) %o% fred
Error: cannot allocate vector of size 2555696 Kb

Cheers, Jonathan.

--please do not edit the information below--

Version:
 platform = sparc-sun-solaris2.7
 arch = sparc
 os = solaris2.7
 system = sparc, solaris2.7
 status = 
 major = 1
 minor = 2.1
 year = 2001
 month = 01
 day = 15
 language = R

Search Path:
 .GlobalEnv, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Apr 30 15:22:10 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 30 Apr 2001 16:22:10 +0200
Subject: [Rd] PR #927 -- R crash on huge CSV file (PR#927)
In-Reply-To: znmeb@aracnet.com's message of "Mon, 30 Apr 2001 15:32:59 +0200 (MET DST)"
References: <200104301332.PAA20168@pubhealth.ku.dk>
Message-ID: <x24rv6cvsd.fsf@blueberry.kubism.ku.dk>

This came in as a new report because of the space between PR and #

Resending it to get it filed correctly.

(BTW: a growth factor of 3-4 is not unexpectable on CSV files since
internal storage of numeric values is in 8-byte doubles.)

	-p

znmeb@aracnet.com writes:

> I tried to run the same dataset with R-1.2.3 on Linux, compiled from the
> source tarball. After 7 hours, it was still grinding away and had not
> crashed. I had to kill it. "gtop" was showing it with a real size around 160
> MB, same as the peak on the Windows 2000 environment. This is on the same
> hardware as the Windows run; my machine is dual-booted Windows 2000 and Red
> Hat Linux 7.1. If I get ambitious, I'll see if I can make it fail with a
> smaller dataset and run on Linux with a debug-compiled R binary.


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Apr 30 15:57:24 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 30 Apr 2001 16:57:24 +0200
Subject: [Rd] Segmentation fault linked to memory? (PR#929)
In-Reply-To: J.C.Rougier@durham.ac.uk's message of "Mon, 30 Apr 2001 15:34:06 +0200 (MET DST)"
References: <200104301334.PAA20209@pubhealth.ku.dk>
Message-ID: <x21yqacu5n.fsf@blueberry.kubism.ku.dk>

J.C.Rougier@durham.ac.uk writes:

> Hi Everyone,
> 
> The following rather extreme claim on memory causes a
> segmentation fault on my installation:
> 
> fred <- matrix(1:1200, 20, 60)
> 
> littleOP <- function(x, y)
> {
>   z <- as.vector(x) %*% t(as.vector(y))
>   dim(z) <- c(dim(x), dim(y))
>   z
> }
> 
> littleOP(fred, fred)                 # this is OK
> littleOP(littleOP(fred, fred), fred) # whoops! Segmentation fault
> 
> What's a bit strange is that if I do the outer product the
> `old-fashioned' way then I get the more usual error message:
> 
> > (fred %o% fred) %o% fred
> Error: cannot allocate vector of size 2555696 Kb
> 
> Cheers, Jonathan.
> 
> --please do not edit the information below--
> 
> Version:
>  platform = sparc-sun-solaris2.7
>  arch = sparc
>  os = solaris2.7
>  system = sparc, solaris2.7
>  status = 
>  major = 1
>  minor = 2.1
>  year = 2001
>  month = 01
>  day = 15
>  language = R
> 
> Search Path:
>  .GlobalEnv, Autoloads, package:base

You really ought to upgrade before reporting such bugs, but I get it
with 1.2.3 as well. Looks like we have an integer overrun issue:

At the point of the crash, we have succesfully allocated "ans" 

(gdb) p ans
$25 = (SEXPREC *) 0x1fe8038
(gdb) p Rf_length(ans)
$26 = 1728000000
(gdb) p/x Rf_length(ans)
$27 = 0x66ff3000

however, measured in *bytes*, that length won't fit in 32 bits, and

(gdb) p/x (Rf_length(ans)*8)/8
$31 = 0x6ff3000

So I suppose that the true length of ans is only

0x6ff3000

which fits fairly nicely with the segfault occurring when you try to
access cell number 82*1440000

(gdb) p/x 82*1440000
$28 = 0x709c200


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rmh@surfer.sbm.temple.edu  Mon Apr 30 22:55:45 2001
From: rmh@surfer.sbm.temple.edu (Rich Heiberger)
Date: Mon, 30 Apr 2001 17:55:45 -0400 (EDT)
Subject: [Rd] several bugs (PR#918) lists and matrices
Message-ID: <200104302155.f3ULtj41879558@surfer.sbm.temple.edu>

[Rd] several bugs (PR#918) lists and matrices

Thank you Thomas for suggesting I review the proceedings paper on data
by Rob.  I liked that paper when I heard it and was happy to reread
it.  I agree with everything he said there.  After reading it I went
back to the Blue Book and have several comments.


Thomas said
                                You can't put a list into a matrix.
  Matrices handle homogenous data; they are vectors with a dimension
  attribute.  Lists with an arbitrary dimension attribute are, as Rob
  pointed out, an unimplemented bug. However, rectangle things with
  arbitrary data in them do exist. They're called data frames.

Thomas's statement is a clear change in perspective from the original
Blud Book interpretation.  The blue book position and my starting
position is that "All objects are vectors."  Objects can be atomic or
recursive, and it is very clear in the text that subscripting is
applied to all vectors, no matter the complexity.  The description of
dim(x) on page 438 is very clear: x is any object.  The descriptions
of array() (page 382) and matrix() (page 504) are equally clear: "the
array class of objects are those that have an attribute dim, ...."

John's recent file
  http://www.omegahat.org/SLanguage/Aspects.html
repeats this generality with
  The original history of S (if you're interested see the note) led to
  a vector-oriented approach to all objects; that is, all objects were
  vectors (one-way arrays). Lists and other recursive objects were
  special only in that the elements of the vector were themselves
  objects.


It is less clear in the R help, but still indicated in the phrase
"Retrieve or set the dimension of an OBJECT." in the description of
dim().  The R help for array() and matrix() both say "data: a vector
giving data to fill the array" and the help for vector() clearly
permits vectors of mode list.  Nowhere do I see a claim that matrices
or arrays must contain only homogeneous atomic objects.

R currently (rw1021) believes a dimensioned list is a matrix (but not
a vector).
  > x <- list(1,2,3,4,5,6,7,8,9,10)
  > is.vector(x)
  [1] TRUE
  > dim(x) <- c(2,5)
  > x
       [,1]        [,2]        [,3]        [,4]        [,5]       
  [1,] "Numeric,1" "Numeric,1" "Numeric,1" "Numeric,1" "Numeric,1"
  [2,] "Numeric,1" "Numeric,1" "Numeric,1" "Numeric,1" "Numeric,1"
  > is.matrix(x)
  [1] TRUE
  > is.vector(x)
  [1] FALSE


A data frame is essentially a list of arbitrarily structured column
vectors.  The recognition that Rob has in this paper is that the
individual columns can themselves contain arbitrarily structured data.
He is doing marvelous things with those data frame columns.
Everything he does will work on dimensioned lists and will avoid the
the two serious difficulties with data frames that he notes.

a. The whole issue of character strings becoming factors and the
non-nonintuitive I() and AsIs is a consequence of using data frames.
This issue vanishes when dimensioned lists are used directly.

b. Parameterized data frames can be replaced by a new data structure
in which a "parameter" attribute holds the relevant information.


My attempt to construct a "missing.value" class would work with a
data frame structure.	I don't think it is the best structure.

In summary, I am arguing for permitting
   a <- matrix(list(1,2,3,4,5,6), 2, 3)
along with the currently acceptable
   a <- list(1,2,3,4,5,6)
   dim(a) <- c(2, 3)
and for making the subscripting
   a[,1:2]
provide the correct answer
     [,1] [,2] 
[1,] 1    3   
[2,] 2    4   
rather than the current incorrect answer
     [,1]   [,2]  
[1,] "NULL" "NULL"
[2,] "NULL" "NULL"
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Mon Apr 30 23:35:42 2001
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Mon, 30 Apr 2001 15:35:42 -0700 (PDT)
Subject: [Rd] several bugs (PR#918) lists and matrices
In-Reply-To: <200104302155.f3ULtj41879558@surfer.sbm.temple.edu>
Message-ID: <Pine.A41.4.33.0104301534030.85214-100000@homer11.u.washington.edu>

On Mon, 30 Apr 2001, Rich Heiberger wrote:

> [Rd] several bugs (PR#918) lists and matrices
>
> Thank you Thomas for suggesting I review the proceedings paper on data
> by Rob.  I liked that paper when I heard it and was happy to reread
> it.  I agree with everything he said there.  After reading it I went
> back to the Blue Book and have several comments.

>
> In summary, I am arguing for permitting
>    a <- matrix(list(1,2,3,4,5,6), 2, 3)
> along with the currently acceptable
>    a <- list(1,2,3,4,5,6)
>    dim(a) <- c(2, 3)
> and for making the subscripting
>    a[,1:2]
> provide the correct answer
>      [,1] [,2]
> [1,] 1    3
> [2,] 2    4
> rather than the current incorrect answer
>      [,1]   [,2]
> [1,] "NULL" "NULL"
> [2,] "NULL" "NULL"

Yes, it probably should work.

I still prefer data frames, but I was clearly wrong about dimensioned
lists.

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Sun Apr  1 17:34:53 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Sun, 01 Apr 2001 18:34:53 +0200
Subject: [Rd] dim "heritage"
References: <200102170044.BAA19310@pubhealth.ku.dk>
 <14990.35273.167526.4092@mithrandir.hornik.net> <15046.16468.885425.640832@mithrandir.hornik.net>
Message-ID: <3AC758AD.52E7E6B2@univie.ac.at>

when i do

x<-4:1
dim(x)<-c(4,1)

and then
z<-sin(x)
dim(z) is c(4,1)

sort(x)
however, does not have a dim attribute.

is this intended behavior?


--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Apr  1 18:40:16 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 1 Apr 2001 18:40:16 +0100 (BST)
Subject: [Rd] dim "heritage"
In-Reply-To: <3AC758AD.52E7E6B2@univie.ac.at>
Message-ID: <Pine.LNX.4.31.0104011839000.1244-100000@gannet.stats>

On Sun, 1 Apr 2001, Erich Neuwirth wrote:

> when i do
>
> x<-4:1
> dim(x)<-c(4,1)
>
> and then
> z<-sin(x)
> dim(z) is c(4,1)
>
> sort(x)
> however, does not have a dim attribute.
>
> is this intended behavior?

Yes.  You would expect x^2 to act elementwise, and all elementwise
arithmetic operations keep the dimensions.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Sun Apr  1 18:48:58 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Sun, 01 Apr 2001 19:48:58 +0200
Subject: [Rd] dim "heritage"
References: <Pine.LNX.4.31.0104011839000.1244-100000@gannet.stats>
Message-ID: <3AC76A0A.4A1F7F1C@univie.ac.at>

i understand that part.
i wonder if it would make sense
thnat sort(x) also keeps the dimensions
(it should be an object of the same dimensions in any case i can
imagine).


Prof Brian Ripley wrote:
> 
> On Sun, 1 Apr 2001, Erich Neuwirth wrote:
> 
> > when i do
> >
> > x<-4:1
> > dim(x)<-c(4,1)
> >
> > and then
> > z<-sin(x)
> > dim(z) is c(4,1)
> >
> > sort(x)
> > however, does not have a dim attribute.
> >
> > is this intended behavior?
> 
> Yes.  You would expect x^2 to act elementwise, and all elementwise
> arithmetic operations keep the dimensions.
> 
> --
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595

--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Apr  1 19:50:11 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 1 Apr 2001 19:50:11 +0100 (BST)
Subject: [Rd] dim "heritage"
In-Reply-To: <3AC76A0A.4A1F7F1C@univie.ac.at>
Message-ID: <Pine.GSO.4.31.0104011946590.7057-100000@auk.stats>

On Sun, 1 Apr 2001, Erich Neuwirth wrote:

> i understand that part.
> i wonder if it would make sense
> thnat sort(x) also keeps the dimensions
> (it should be an object of the same dimensions in any case i can
> imagine).

Not so: it sorts as a vector, ignoring the multidimensional stucture.
Also, consider na.last = NA?

In any case, sort is not group Math and so not implemented by a group
generic function.  One needs to know about such things to predict
the fine details like this.

>
>
> Prof Brian Ripley wrote:
> >
> > On Sun, 1 Apr 2001, Erich Neuwirth wrote:
> >
> > > when i do
> > >
> > > x<-4:1
> > > dim(x)<-c(4,1)
> > >
> > > and then
> > > z<-sin(x)
> > > dim(z) is c(4,1)
> > >
> > > sort(x)
> > > however, does not have a dim attribute.
> > >
> > > is this intended behavior?
> >
> > Yes.  You would expect x^2 to act elementwise, and all elementwise
> > arithmetic operations keep the dimensions.
> >
> > --
> > Brian D. Ripley,                  ripley@stats.ox.ac.uk
> > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > University of Oxford,             Tel:  +44 1865 272861 (self)
> > 1 South Parks Road,                     +44 1865 272860 (secr)
> > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> --
> Erich Neuwirth, Computer Supported Didactics Working Group
> Visit our SunSITE at http://sunsite.univie.ac.at
> Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From devoilp@dpi.qld.gov.au  Mon Apr  2 02:17:23 2001
From: devoilp@dpi.qld.gov.au (devoilp@dpi.qld.gov.au)
Date: Mon, 2 Apr 2001 03:17:23 +0200 (MET DST)
Subject: [Rd] na.omit() (PR#889)
Message-ID: <200104020117.DAA24223@pubhealth.ku.dk>

Full_Name: Peter deVoil
Version: 1.1
OS: i686-pc-linux-gnu
Submission from: (NULL) (203.25.1.208)


Hi,

>  zz <- c(3.2, 4.5, NA)
>  zzz <- c(3.2, 4.5, 5.5)

If there are no NAs in the list:
---
> length(na.omit(zzz))
[1] 0
---
I expected 3.

But, if there are NAs, the correct answer is returned
---
> length(na.omit(zz))
[1] 2
---

Yours,
PdeV



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Apr  2 06:23:52 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 2 Apr 2001 07:23:52 +0200 (MET DST)
Subject: [Rd] na.omit() (PR#889)
Message-ID: <200104020523.HAA24583@pubhealth.ku.dk>

On Mon, 2 Apr 2001 devoilp@dpi.qld.gov.au wrote:

> Full_Name: Peter deVoil
> Version: 1.1

There was no such version:   1.1.0 or 1.1.1?

> OS: i686-pc-linux-gnu
> Submission from: (NULL) (203.25.1.208)
>
>
> Hi,
>
> >  zz <- c(3.2, 4.5, NA)
> >  zzz <- c(3.2, 4.5, 5.5)
>
> If there are no NAs in the list:
> ---
> > length(na.omit(zzz))
> [1] 0
> ---
> I expected 3.

I get 3.

> But, if there are NAs, the correct answer is returned
> ---
> > length(na.omit(zz))
> [1] 2
> ---

I can't reproduce this in the current version (1.2.2).  Please upgrade.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From hoffmann@ehmgs2.et.tu-dresden.de  Mon Apr  2 08:22:37 2001
From: hoffmann@ehmgs2.et.tu-dresden.de (hoffmann@ehmgs2.et.tu-dresden.de)
Date: Mon, 2 Apr 2001 09:22:37 +0200 (MET DST)
Subject: [Rd] aclocal.m4: R_PROG_F77_CC_COMPAT assumes executables w/o extension (PR#890)
Message-ID: <200104020722.JAB25499@pubhealth.ku.dk>

Full_Name: Thomas Hoffmann
Version: 1.2.2 (and older)
OS: HP-UX, OS/2
Submission from: (NULL) (141.30.125.20)


The test defined in AC_DEFUN([R_PROG_F77_CC_COMPAT] (aclocal.m4:342) produces
an executable using (in line 393)

if ${CC-cc} ${LDFLAGS} ${MAIN_LDFLAGS} -o conftest conftest.o \ ....

This fails on systems that use an extension for executables, which can be
used via $ac_exeext in configure files. So it should read instead

if ${CC-cc} ${LDFLAGS} ${MAIN_LDFLAGS} -o conftest$ac_exeext conftest.o \ ....

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Mon Apr  2 11:20:10 2001
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Mon, 2 Apr 2001 12:20:10 +0200
Subject: [Rd] Color mapping for R : col2rgb()
In-Reply-To: <000801bf999d$13c36170$a9021aac@joelschlaegel>
References: <14560.48243.200487.325190@lynne.ethz.ch>
 <000801bf999d$13c36170$a9021aac@joelschlaegel>
Message-ID: <15048.21082.170703.934887@gargle.gargle.HOWL>


This has been an old topic, brought up last year by 
Jens Oehlschlaegel and even before by Ben Bolker and maybe others.

Over the weekend I've finally taken some time, 
and have implemented one new function on the R level,
basically exposing the underlying C function str2col() [main/graphics.c]

col2rgb() accepts a vector of all three kind of R colors :

1:n     =  indices into palette()
name    =  an element of colors()
#rrggbb =  character with the rgb hex code.

Per color, it returns an integer(3) vector   c(red,green,blue)
with elements from 0:255.

Currently {in my implementation},
when 
  r <- col2rgb(col) 
r is a list() of the same length as col, and  r[[j]] = c(red_j, green_j, blue_j)
e.g.
    > str(col2rgb(paste("gold", 1:4, sep="")))
    List of 4
     $ : int [1:3] 255 215 0
     $ : int [1:3] 238 201 0
     $ : int [1:3] 205 173 0
     $ : int [1:3] 139 117 0
    > 

This has been the easiest way of a vectorizing implementation.
Are the strong reasons why, e.g. a matrix should be returned instead ?
The matrix can `easily' be built by, e.g.

  matrix(c(col2rgb(...) , recursive = TRUE), nrow = 3))

If it is felt that one always wanted this matrix (and dimnames, too),
it would maybe make sense to compute it in C.

---

Opinions?

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Apr  2 13:44:24 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 2 Apr 2001 13:44:24 +0100 (BST)
Subject: [Rd] Color mapping for R : col2rgb()
In-Reply-To: <15048.21082.170703.934887@gargle.gargle.HOWL>
Message-ID: <Pine.LNX.4.31.0104021343250.9187-100000@gannet.stats>

On Mon, 2 Apr 2001, Martin Maechler wrote:

>
> This has been an old topic, brought up last year by
> Jens Oehlschlaegel and even before by Ben Bolker and maybe others.
>
> Over the weekend I've finally taken some time,
> and have implemented one new function on the R level,
> basically exposing the underlying C function str2col() [main/graphics.c]
>
> col2rgb() accepts a vector of all three kind of R colors :
>
> 1:n     =  indices into palette()
> name    =  an element of colors()
> #rrggbb =  character with the rgb hex code.
>
> Per color, it returns an integer(3) vector   c(red,green,blue)
> with elements from 0:255.
>
> Currently {in my implementation},
> when
>   r <- col2rgb(col)
> r is a list() of the same length as col, and  r[[j]] = c(red_j, green_j, blue_j)
> e.g.
>     > str(col2rgb(paste("gold", 1:4, sep="")))
>     List of 4
>      $ : int [1:3] 255 215 0
>      $ : int [1:3] 238 201 0
>      $ : int [1:3] 205 173 0
>      $ : int [1:3] 139 117 0
>     >
>
> This has been the easiest way of a vectorizing implementation.
> Are the strong reasons why, e.g. a matrix should be returned instead ?
> The matrix can `easily' be built by, e.g.
>
>   matrix(c(col2rgb(...) , recursive = TRUE), nrow = 3))
>
> If it is felt that one always wanted this matrix (and dimnames, too),
> it would maybe make sense to compute it in C.

What do you get if you ask for one colour (the most common case?)?
A one-element list seems silly.

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Mon Apr  2 14:18:59 2001
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Mon, 2 Apr 2001 15:18:59 +0200
Subject: [Rd] Color mapping for R : col2rgb()
In-Reply-To: <Pine.LNX.4.31.0104021343250.9187-100000@gannet.stats>
References: <15048.21082.170703.934887@gargle.gargle.HOWL>
 <Pine.LNX.4.31.0104021343250.9187-100000@gannet.stats>
Message-ID: <15048.31811.523357.665648@gargle.gargle.HOWL>

>>>>> "BDR" == Prof Brian Ripley <ripley@stats.ox.ac.uk> writes:

    BDR> On Mon, 2 Apr 2001, Martin Maechler wrote:
    >> 
    >> This has been an old topic, brought up last year by
    >> Jens Oehlschlaegel and even before by Ben Bolker and maybe others.
    >> 
    >> Over the weekend I've finally taken some time,
    >> and have implemented one new function on the R level,
    >> basically exposing the underlying C function str2col() [main/graphics.c]
    >> 
    >> col2rgb() accepts a vector of all three kind of R colors :
    >> 
    >> 1:n     =  indices into palette()
    >> name    =  an element of colors()
    >> #rrggbb =  character with the rgb hex code.
    >> 
    >> Per color, it returns an integer(3) vector   c(red,green,blue)
    >> with elements from 0:255.
    >> 
    >> Currently {in my implementation},
    >> when
    >> r <- col2rgb(col)
    >> r is a list() of the same length as col, and  r[[j]] = c(red_j, green_j, blue_j)
    >> e.g.
    >> > str(col2rgb(paste("gold", 1:4, sep="")))
    >> List of 4
    >> $ : int [1:3] 255 215 0
    >> $ : int [1:3] 238 201 0
    >> $ : int [1:3] 205 173 0
    >> $ : int [1:3] 139 117 0
    >> >
    >> 
    >> This has been the easiest way of a vectorizing implementation.
    >> Are the strong reasons why, e.g. a matrix should be returned instead ?
    >> The matrix can `easily' be built by, e.g.
    >> 
    >> matrix(c(col2rgb(...) , recursive = TRUE), nrow = 3))
    >> 
    >> If it is felt that one always wanted this matrix (and dimnames, too),
    >> it would maybe make sense to compute it in C.

    BDR> What do you get if you ask for one colour (the most common case?)?
    BDR> A one-element list seems silly.

agreed.  Also, a matrix *is* a simpler structure anyway.
I'd plan to rather go for an  
  3 x n 
matrix (even though  [n x 3] prints more nicely)
with  dimnames = list(c("red,"green","blue"), NULL)
I'd still return a (1-row) matrix even for length(col) == 1,
for (R) API reasons, but at least that can be used as if it was a 3-vector
in almost all situations.

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From David James <dj@research.bell-labs.com>  Mon Apr  2 18:15:15 2001
From: David James <dj@research.bell-labs.com> (David James)
Date: Mon, 2 Apr 2001 13:15:15 -0400 (EDT)
Subject: [Rd] generic database access methods
Message-ID: <200104021715.NAA08085@jessie.research.bell-labs.com>


> Date: Mon, 19 Mar 2001 16:19:39 -0500
> From: "Timothy H. Keitt" <Timothy.Keitt@StonyBrook.Edu>
> User-Agent: Mozilla/5.0 (X11; U; Linux 2.2.18 i686; en-US; 0.8) Gecko/20010215
> X-Accept-Language: en
> MIME-Version: 1.0
> To: r-devel@hypatia.math.ethz.ch
> Subject: [Rd] generic database access methods
> Content-Transfer-Encoding: 7bit
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From David James <dj@research.bell-labs.com>  Mon Apr  2 18:24:08 2001
From: David James <dj@research.bell-labs.com> (David James)
Date: Mon, 2 Apr 2001 13:24:08 -0400 (EDT)
Subject: [Rd] generic database access methods
Message-ID: <200104021724.NAA09572@jessie.research.bell-labs.com>

Hi Tim,

Thanks for putting together the Rdbi package.  Attached are my (belated) 
comments and some further suggestions/questions.

David
-----------------------------------------------------------------------

> Date: Mon, 19 Mar 2001 16:19:39 -0500
> From: "Timothy H. Keitt" <Timothy.Keitt@StonyBrook.Edu>
> User-Agent: Mozilla/5.0 (X11; U; Linux 2.2.18 i686; en-US; 0.8) Gecko/20010215
> X-Accept-Language: en
> MIME-Version: 1.0
> To: r-devel@hypatia.math.ethz.ch
> Subject: [Rd] generic database access methods
> Content-Transfer-Encoding: 7bit
> 
> I've been putting together a package that defined generic methods for 
> database access.  The packages is called "Rdbi."  It borrows as much as 
> possible from existing database packages / proposals.  I'd like to start 
> a discussion about the proposed interface.  Here's what I've come up 
> with so far:
> 
> #
> # Rdbi: connectionMethods.R
> #
> 
> dbConnect <- function(dbObj, ...) UseMethod("dbConnect")
> #
> # dbObj should be generated by an implementation defined function,
> # e.g., RPgSQL(), which returns a object with an approprite class
> # name, e.g., "PostgreSQL" or "MySQL".  The implementation then
> # provides a method that actually opens the connection.
> #
> 
> dbConnect.default <- function(dbObj, ...) stop("Invalid database class")
> #
> # User passed something other than a defined database class
> #
> 
> dbDisconnect <- function(conn) UseMethod("dbDisconnect")
> #
> # Close connection and free resources
> #
> 
> dbDisconnect.default <- function(conn) stop("Invalid connection object")
> 
> dbReconnect <- function(conn) UseMethod("dbReconnect")
> #
> # The conn object should store the options passed to dbConnect so that
> # it can reestablish the connection.
> #
> 
> dbReconnect.default <- function(conn) stop("Invalid connection object")
> #
> # User passed something other than a defined connection class
> #
> 
> dbConnectionOK <- function(conn) UseMethod("dbConnectionOK")
> #
> # Returns TRUE if the connection object is valid and the connection
> # can be used to communicate with the database backend.
> #
> 
> dbConnectionOK.default <- function(conn) FALSE
> #
> # User passed something other than a defined connection class
> #

I think that implicitly there's a class "dbConnection"
that the various implementations RPgSQL, RMySQL, RODBC, ROracle, etc.,
would inherit from (extend).  Right?  Having the various implementations
inherit from a common base class, say, "dbConnection", could be
useful for grouping common "database connection" functionality --
for instance, imagine we want to implement some functionality
on top of the common Rdbi, and thus for *any* DBMS.  I could easily
imagine moving your idea of proxy data.frames from the RPgSQL
package to, say, proxyTable, so that it can be used with ROracle, RODBC,
etc.  Another example would be the ability to attach(conn) and then
have R manage the reading/writing of tables,  e.g.,

  Example: 
  (See John M. Chambers "Data Management in S" in
  http://stat.bell-labs.com/stat/doc/doc/93.15.ps.gz and
  and "Database Classes" http://stat.bell-labs.com/stat/Sbook/DatabaseClasses)

  > con <- dbConnect("RPgSQL", ...)
  > attach(con)
  > ls(pos=2)
  [1] table1  table2 ...
  > median(table1$fieldX)
  > exists("table2", where=2)
  > remove("table4", where=2)
  > assign("newTable4", my.results, where = 2)

We could implement this for any DBMS *provided* we define 
the various R methods read/write/exists methods in terms of the
base class "dbConnection" and not in terms of the individual
RMySQL, RODBC, RPgSQL (otherwise each new R<dbms> driver would be required
to implement the attached methods, the proxyTable methods, ....)

Following the approach above, it would be very simple to attach
a DBMS and treat *all* the tables as db.proxy independently of the
actual DBMS (provided the methods are, again, defined in terms of
the common base "dbConnection").

> 
> 
> #
> # Rdbi: ioMethods.R
> #
> 
> dbSendQuery <- function(conn, ...) UseMethod("dbSendQuery")
> #
> # This function submits a query string to the backend.  If the query
> # generates any results, they should be returned in a data frame;
> # otherwise the function returns NULL.  Printing error messgages is
> # left to the implementation, but this function should not issue a
> # call to error() or stop().  Error messages may be retrievable from
> # the connection object depending on implementation.
> #
> 
> dbSendQuery.default <- function(conn, ...) stop("Invalid connection object")
> #
> # This means that the method was called on something other than a
> # connection object.
> #

I would suggest that, if the the query generates a result, dbSendQuery 
retuns a "result set" or "cursor" object.  Imagine the result is 
huge -- that could easily kill the R process.  This object ("cursor" or
"result set") could have some methods to fetch(cur, n = num.rows),
plus some self-description to show its state -- e.g. to show the
query being procesed, plus methods to tell us how many rows we've
fetched so far, etc.  Even if dbSendQuery() does not generate output,
we may still want to have some way of querying what happen with the
operation;  for instance, how many rows were affected by the operation

    > rs <- dbSendQuery(conn, "delete from TABLE1 where id = 1234")
    > if(rowsAffected(rs) != 1){
         ## oops, something isn't quite right!
    +    rollback(conn)
    + }

In many situation, users may not want to bother with this level
of detail -- all they may want is to get the data.  For this I'd follow
the ODBC(?) "execute immediate" idea and implement a very similar 
method for those cases when you know want to do the "dbSendQuery" 
and "fetch" in one scoop, say "dbExec" or something like it.

> 
> dbListTables <- function(conn, ...) UseMethod("dbListTables")
> #
> # Output a list of table names associated with the connection object.
> # Output should look like output from ls().
> #
> 
> dbListTables.default <- function(conn, ...) stop("Invalid connection 
> object")
> 
> dbReadTable <- function(conn, ...) UseMethod("dbReadTable")
> #
> # Analog of the read.table() function.  Returns a data frame.  Some
> # facility for converting DB types to R types is helpfull.  Generally,
> # this will just pass a "select * from mytable" to dbSendQuery() which
> # returns the data frame.
> #
> 
> dbReadTable.default <- function(conn, ...) stop("Invalid connection object")
> 
> dbWriteTable <- function(conn, ...) UseMethod("dbWriteTable")
> #
> # Analog of write.table().  It should assemble input into a data frame
> # and write the frame into a table in database.
> #
> 
> dbWriteTable.default <- function(conn, ...) stop("Invalid connection 
> object")
> 

Yes. This would work nicely, specially for packages that use the Rdbi.

Miscellaneous 
-------------

The following are some issues that have been brought up
either through private conversations and/or during the DSC 2001
workshop.

1. Data Type Conversions:

Another set of generic functions that we may need to consider 
could include functions to specify data conversions: for instance,
a generic getDataType(dbObj, s.atomic.object) that would return the
appropriate data type on the remote DBMS associated with "conn".
For instance, if "ora" and "pg" are Oracle and PostgreSQL connections,
respectively, the expressions

  > x.int <- as.integer(x)
  > ora.int <- getDataType(ora, x.int)
  > pg.int <- getDataType(pg, x.int)	

would return possibly different DBMS-specific SQL data type for the same   
integer (and possibly different for the same DBMS, in the case
of R and Splus, as Brian Ripley has pointed out, I believe in the 
R Data Import/Export manual(?)).

We would also need the reverse DBMS type -> R/S object.

Finally, there'll be times that we cannot automatically convert
non-primitive objects (images? sound?) to/from DBMS and R/S -- we
should have a mechanism to allow user to specify their own conversion
functions.  We need to think of a "user-friendly" mechanism to do this.

2. DBMS vs R/S identifiers:

Do we need/want to handle for the user the mapping between
remote identifiers (e.g., "TABLE_ABC") and R/S?  This could
be easily implemented using the ideas in data mapping ideas above.

3. Transactions:

Do we want to define generic functions to manage transactions? 

4. Remote Objects:

If we decide that having "cursor/result set" objects is desirable,
then we should note that they are similar to "dbConnection" objects
in the sense that they are "remote object," i.e., R objects that reference
remote objects, (remote db object, to be more precise).  All these remote
objects may share some common functionality:  all remote objects need 
to be validated before they are passed to the DBMS (e.g., dbConnectionOk),
we need to ensure that we free the (remote) resources even in the
case of errors/exceptions, perhaps through judicious use of on.exit()
(see also Luke Tierney's "Simple References with Finalization"
http://developer.r-project.org/simpleref.html, but keep in mind that 
this may/may not be portable to S-plus.)

5. Naming convention:

We could use (as you are suggesting) a naming convention consisting
of concatenated words with capitalization for non-starting 
words, e.g., dbDisconnect).  The traditional R/S way is to separate 
words with ".", e.g., "read.table".  I don't have too strong a preference,
but perhaps we should be explicit about it?


> 
> T.
> 
> -- 
> Timothy H. Keitt
> Department of Ecology and Evolution
> State University of New York at Stony Brook
> Phone: 631-632-1101, FAX: 631-632-7626
> http://life.bio.sunysb.edu/ee/keitt/
> 
> 
> 
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> 
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> 
> 
> 
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
Timothy H. Keitt
Department of Ecology and Evolution
State University of New York at Stony Brook
Phone: 631-632-1101, FAX: 631-632-7626
http://life.bio.sunysb.edu/ee/keitt/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Timothy.Keitt@StonyBrook.Edu  Mon Apr  2 22:39:02 2001
From: Timothy.Keitt@StonyBrook.Edu (Timothy H. Keitt)
Date: Mon, 02 Apr 2001 17:39:02 -0400
Subject: [Rd] generic database access methods
References: <200104021724.NAA09572@jessie.research.bell-labs.com>
Message-ID: <3AC8F176.3090805@StonyBrook.Edu>

David James wrote:
> 
> I think that implicitly there's a class "dbConnection"
> that the various implementations RPgSQL, RMySQL, RODBC, ROracle, etc.,
> would inherit from (extend).  Right?  Having the various implementations
> inherit from a common base class, say, "dbConnection", could be
> useful for grouping common "database connection" functionality --
> for instance, imagine we want to implement some functionality
> on top of the common Rdbi, and thus for *any* DBMS.  I could easily
> imagine moving your idea of proxy data.frames from the RPgSQL
> package to, say, proxyTable, so that it can be used with ROracle, RODBC,

Yes.  Exactly.  My initial proposal was intentionally simple; I've been
experimenting with having connection objects inherit from a common base
class.  (I make some commments about proxies below.)

> etc.  Another example would be the ability to attach(conn) and then
> have R manage the reading/writing of tables,  e.g.,
> 
>   Example: 
>   (See John M. Chambers "Data Management in S" in
>   http://stat.bell-labs.com/stat/doc/doc/93.15.ps.gz and
>   and "Database Classes" http://stat.bell-labs.com/stat/Sbook/DatabaseClasses)
> 
>   > con <- dbConnect("RPgSQL", ...)
>   > attach(con)
>   > ls(pos=2)
>   [1] table1  table2 ...
>   > median(table1$fieldX)
>   > exists("table2", where=2)
>   > remove("table4", where=2)
>   > assign("newTable4", my.results, where = 2)

This is also one of the things I've been thinking about.  However, there are some
problems matching database tables to data frames.  Data frames assume deterministic
random access to rows, but databases generally do not.  The backend is free to
change the order of the rows at any time after receiving a query and before returning
the result.  So to effectively proxy db tables, you have to enforce row ordering
explicitely by adding a "row_number" column and update it on every insertion and
deletion (unless of course,the data frame model were changed to only allow sequential,
cursor based access---but I'll save that for a different proposal!).  As a result,
it may make sense to limit "attaching" of databases only to databases where R has
control over the schema, i.e., the database is created in R and only accessed through
R (and so can force a row number column on each table).  If you allow attachment of
arbitrary databases, it will be easy to corrupt the row ordering.

> We could implement this for any DBMS *provided* we define 
> the various R methods read/write/exists methods in terms of the
> base class "dbConnection" and not in terms of the individual
> RMySQL, RODBC, RPgSQL (otherwise each new R<dbms> driver would be required
> to implement the attached methods, the proxyTable methods, ....)
> 
> Following the approach above, it would be very simple to attach
> a DBMS and treat *all* the tables as db.proxy independently of the
> actual DBMS (provided the methods are, again, defined in terms of
> the common base "dbConnection").
> 

Absolutely; we just have to define a minimal set of primitives needed to support
proxying (but see comments above).

> 
> I would suggest that, if the the query generates a result, dbSendQuery 
> retuns a "result set" or "cursor" object.  Imagine the result is 
> huge -- that could easily kill the R process.  This object ("cursor" or
> "result set") could have some methods to fetch(cur, n = num.rows),
> plus some self-description to show its state -- e.g. to show the
> query being procesed, plus methods to tell us how many rows we've
> fetched so far, etc.  Even if dbSendQuery() does not generate output,
> we may still want to have some way of querying what happen with the
> operation;  for instance, how many rows were affected by the operation
> 
>     > rs <- dbSendQuery(conn, "delete from TABLE1 where id = 1234")
>     > if(rowsAffected(rs) != 1){
>          ## oops, something isn't quite right!
>     +    rollback(conn)
>     + }
> 
> In many situation, users may not want to bother with this level
> of detail -- all they may want is to get the data.  For this I'd follow
> the ODBC(?) "execute immediate" idea and implement a very similar 
> method for those cases when you know want to do the "dbSendQuery" 
> and "fetch" in one scoop, say "dbExec" or something like it.
> 

I was avoiding "result" objects based on the argument that its better to
use normal R operations to access data whenever possible (so users don't
have to learn yet another data interface).  However, I agree with your
argument here and adding result objects is easily done.  Having two
functions as in RODBC is a good solution.  Alternatively, we could
have "as.data.frame.Rdbi.conn <- function(connObj)..."
 
> Miscellaneous 
> -------------
> 
> The following are some issues that have been brought up
> either through private conversations and/or during the DSC 2001
> workshop.
> 
> 1. Data Type Conversions:
> 
> Another set of generic functions that we may need to consider 
> could include functions to specify data conversions: for instance,
> a generic getDataType(dbObj, s.atomic.object) that would return the
> appropriate data type on the remote DBMS associated with "conn".
> For instance, if "ora" and "pg" are Oracle and PostgreSQL connections,
> respectively, the expressions
> 
>   > x.int <- as.integer(x)
>   > ora.int <- getDataType(ora, x.int)
>   > pg.int <- getDataType(pg, x.int)	
> 
> would return possibly different DBMS-specific SQL data type for the same   
> integer (and possibly different for the same DBMS, in the case
> of R and Splus, as Brian Ripley has pointed out, I believe in the 
> R Data Import/Export manual(?)).
> 
> We would also need the reverse DBMS type -> R/S object.
> 
> Finally, there'll be times that we cannot automatically convert
> non-primitive objects (images? sound?) to/from DBMS and R/S -- we
> should have a mechanism to allow user to specify their own conversion
> functions.  We need to think of a "user-friendly" mechanism to do this.

I made a stab at this in RPgSQL.  See "types.R"  Also, do we want to do
column and table name conversion?  I do this in RPgSQL, but I'm finding
that it can lead to confusing situations.

> 
> 2. DBMS vs R/S identifiers:
> 
> Do we need/want to handle for the user the mapping between
> remote identifiers (e.g., "TABLE_ABC") and R/S?  This could
> be easily implemented using the ideas in data mapping ideas above.
> 
> 3. Transactions:
> 
> Do we want to define generic functions to manage transactions? 

Probably not.  This should be transparent to users.  Do you have
examples of where it is needed?  (Again, I'm trying to avoid transfering
the entire SQL programming interface into R and only provide the bits
needed to move data back and forth.)

> 
> 4. Remote Objects:
> 
> If we decide that having "cursor/result set" objects is desirable,
> then we should note that they are similar to "dbConnection" objects
> in the sense that they are "remote object," i.e., R objects that reference
> remote objects, (remote db object, to be more precise).  All these remote
> objects may share some common functionality:  all remote objects need 
> to be validated before they are passed to the DBMS (e.g., dbConnectionOk),
> we need to ensure that we free the (remote) resources even in the
> case of errors/exceptions, perhaps through judicious use of on.exit()
> (see also Luke Tierney's "Simple References with Finalization"
> http://developer.r-project.org/simpleref.html, but keep in mind that 
> this may/may not be portable to S-plus.)

I'll take a look.  It sounds useful.  (Oops, I couldn't resolve the URL.)
 
> 5. Naming convention:
> 
> We could use (as you are suggesting) a naming convention consisting
> of concatenated words with capitalization for non-starting 
> words, e.g., dbDisconnect).  The traditional R/S way is to separate 
> words with ".", e.g., "read.table".  I don't have too strong a preference,
> but perhaps we should be explicit about it?
> 

I'm agnostic here.  I've been using my experimental Rdbi package for the last
week or so and find that I like the "dbConnect" naming, but I would go with
whatever people wanted.

I have a package ready to distribute for testing.  Its actually a package cluster
with "Rdbi.base" and "Rdbi.PgSQL."  I've moved the main read loop out of R and
into C and now get around 200K integer reads a second (includes copying results
into a data frame).  I'm happy for someone to take over from here (or to propose
an alternative framework).  Perhaps we can make it a group effort (transfer copyright
to the R project, etc.)  I would suggest that we start with the absolute minimal
interface and add features very carefully.  It would be great to see a general
database framework make it into a future release of R.

Tim 
-- 
Timothy H. Keitt
Department of Ecology and Evolution
State University of New York at Stony Brook
Phone: 631-632-1101, FAX: 631-632-7626
http://life.bio.sunysb.edu/ee/keitt/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Apr  2 22:56:44 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 2 Apr 2001 22:56:44 +0100 (BST)
Subject: [Rd] generic database access methods
In-Reply-To: <3AC8F176.3090805@StonyBrook.Edu>
Message-ID: <Pine.GSO.4.31.0104022247390.18788-100000@auk.stats>

On Mon, 2 Apr 2001, Timothy H. Keitt wrote:

> I have a package ready to distribute for testing.  Its actually a package cluster
> with "Rdbi.base" and "Rdbi.PgSQL."  I've moved the main read loop out of R and
> into C and now get around 200K integer reads a second (includes copying results
> into a data frame).  I'm happy for someone to take over from here (or to propose
> an alternative framework).  Perhaps we can make it a group effort (transfer copyright
> to the R project, etc.)  I would suggest that we start with the absolute minimal
> interface and add features very carefully.  It would be great to see a general
> database framework make it into a future release of R.

Three comments:

(1) We are still trying to figure out how to set up a framework for
discussions of this sort (Martin: any progress on SIG lists)?

(2) It is unlikely that this will `make it into a future release of R', as
our aim is to make R smaller not larger.  Rather, what we would like (I
believe) is a `Recommended Package' that fits alongside R.  We intend to
unbundle quite a lot of what is already there so R has a small kernel and
lots of addons.  There are practical reasons (embedding in other
applications) as well as aesthetic ones.

(3) This is an area where common solutions across R/S would be very
welcome.

Lots of things came out of the Vienna meeting, and some of us at least
had/have still to catch up on our day jobs too, so please bear with us
while we get things set up.  A unified databases interface is definitely on
the list.

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Apr  3 02:19:01 2001
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Mon, 02 Apr 2001 20:19:01 -0500
Subject: [Rd] lstat and NFS server not responding
Message-ID: <3AC916F5.373D48A7@bank-banque-canada.ca>

In a somewhat unusual circumstance I have been having trouble when
making R from source and with "R CMD build dse"
forcing the machine to look for an NFS server which was not available,
and then stalling. Our system administrator traced this back to the fact
that these go through all the directories back to "/" , doing an lstat
on everything. He suggests that that seems odd, but it doesn't take long
normally.  The problem was apparently caused by the fact that something
(possible a cdrom) on /mnt had not been unmounted properly.

We have fixed the problem but since it was rather difficult to track
down I thought  I would point it out in case others experience a similar
difficulty. Also, is there a good explanation for doing an lstat on
everything up to /?

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Apr  3 07:06:47 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 3 Apr 2001 07:06:47 +0100 (BST)
Subject: [Rd] lstat and NFS server not responding
In-Reply-To: <3AC916F5.373D48A7@bank-banque-canada.ca>
Message-ID: <Pine.GSO.4.31.0104030657280.22896-100000@auk.stats>

On Mon, 2 Apr 2001, Paul Gilbert wrote:

> In a somewhat unusual circumstance I have been having trouble when
> making R from source and with "R CMD build dse"
> forcing the machine to look for an NFS server which was not available,
> and then stalling. Our system administrator traced this back to the fact
> that these go through all the directories back to "/" , doing an lstat
> on everything. He suggests that that seems odd, but it doesn't take long
> normally.  The problem was apparently caused by the fact that something
> (possible a cdrom) on /mnt had not been unmounted properly.
>
> We have fixed the problem but since it was rather difficult to track
> down I thought  I would point it out in case others experience a similar
> difficulty. Also, is there a good explanation for doing an lstat on
> everything up to /?

Do you know what was doing it?  Since R CMD build is basically a Perl
program, I can only guess that Perl was doing this, and it looks like a
Perl quirk/bug that perhaps you need to track down and report (if your Perl
version is current).  One thing I did notice is that the R scripts use
Cwd::getcwd in Perl when the manual page recommends Cwd::cwd, and reading
the code suggests Cwd::getcwd is the culprit.  (Any explanation,
Fritz/Kurt?)

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.C.Rougier@durham.ac.uk  Tue Apr  3 10:10:33 2001
From: J.C.Rougier@durham.ac.uk (Jonathan Rougier)
Date: Tue, 3 Apr 2001 10:10:33 +0100 (BST)
Subject: [Rd] Detaching "ctest"
In-Reply-To: <15044.46028.686427.367469@mithrandir.hornik.net>
Message-ID: <Pine.GSO.4.20.0104031001530.13680-100000@laplace>

On Fri, 30 Mar 2001, Kurt Hornik wrote:

> >>>>> Peter Dalgaard BSA writes:
> 
> > ...
> 
> >> configure("packages")
> 
> > which could do different things depending on whether you were using a
> > GUI, terminal interface, ESS, or maybe even batch mode. In simple
> > modes it might simply be based on edit()ing the output of
> 
> >   data.frame(package=.packages(all=T),
> >              load=!is.na(match(.packages(all=T),.packages())))
> 
> > - although you might want to distinguish between the usual profile-ish
> > things (site-level/user-level/directory-level/workspace-specific) too.
> > With a GUI, you'd likely want something with checkboxes instead.
> 
> Nice idea!  Two remarks.
> 
> * We might want similar ways of setting `preferences' such as options.
>   [E.g., via something like Emacs M-x customize, or in a GUI style.]
> 
> * In any case, as far as I am concerned the real problem is not having a
>   convenient interface but on agreeing on what the choices should be,
>   and how well-educated users or site admins need to be to make the
>   right choices.  E.g., when it comes to setting a default profile for
>   packages, how does the user find out which packages he wants?

I certainly agree with this last point.  However, the problem is lessened
if the user can use .Rprofile to tune the set-up.  The current arrangement
prevents that (or, at least, makes it rather inelegant) by using .First to
load ctest (and, in the future, other mandatory packages?).  It seems to
me that in an ideal world .Rprofile would be the very last thing invoked
before the prompt.  That way whatever set-up is put in place by the system
administrator or the default, the individual user still has control.

Cheers, Jonathan.

Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Apr  3 14:31:39 2001
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 03 Apr 2001 09:31:39 -0400
Subject: [Rd] lstat and NFS server not responding
References: <Pine.GSO.4.31.0104030657280.22896-100000@auk.stats>
Message-ID: <3AC9D0BB.6C0B6138@bank-banque-canada.ca>

>Do you know what was doing it?  Since R CMD build is basically a Perl
>program, I can only guess that Perl was doing this, and it looks like a
>Perl quirk/bug that perhaps you need to track down and report (if your Perl
>version is current).  One thing I did notice is that the R scripts use
>Cwd::getcwd in Perl when the manual page recommends Cwd::cwd, and reading
>the code suggests Cwd::getcwd is the culprit.  (Any explanation,
>Fritz/Kurt?)

Yes, I'm almost certain it is in the Perl but I don't know much more than that. I'm
using Perl version 5.004_04 built for sun4-solaris.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Apr  3 14:57:25 2001
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 03 Apr 2001 09:57:25 -0400
Subject: [Rd] extratests (wishlist item)
Message-ID: <3AC9D6C5.28965243@bank-banque-canada.ca>

I have now reorganized most of my tests into the tests subdirectories of my packages
and I do like the R CMD check mechanism for running them. However, I have a certain
number of tests  which I can only run on certain machines (e.g. because of memory
requirements or special database requirements), or just take too long to run
regularly. I have organized these into an artificial separate package. It would make
more sense to keep these with the packages to which they belong. Would it be possible
sometime to add a subdirectory of extra tests which can be run with the same
mechanism as the tests subdirectory but not as a regular part of R CMD check?

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Timothy.Keitt@StonyBrook.Edu  Tue Apr  3 15:21:46 2001
From: Timothy.Keitt@StonyBrook.Edu (Timothy H. Keitt)
Date: Tue, 03 Apr 2001 10:21:46 -0400
Subject: [Rd] generic database access methods
References: <Pine.GSO.4.31.0104022247390.18788-100000@auk.stats>
Message-ID: <3AC9DC7A.9040401@StonyBrook.Edu>

Prof Brian D Ripley wrote:

> On Mon, 2 Apr 2001, Timothy H. Keitt wrote:
>
> believe) is a `Recommended Package' that fits alongside R.  We intend to
> unbundle quite a lot of what is already there so R has a small kernel and
> lots of addons.  There are practical reasons (embedding in other
> applications) as well as aesthetic ones.

Sounds entirely reasonable.

> while we get things set up.  A unified databases interface is definitely on
> the list.
> 

Great.

Tim

-- 
Timothy H. Keitt
Department of Ecology and Evolution
State University of New York at Stony Brook
Phone: 631-632-1101, FAX: 631-632-7626
http://life.bio.sunysb.edu/ee/keitt/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From David James <dj@research.bell-labs.com>  Tue Apr  3 15:31:40 2001
From: David James <dj@research.bell-labs.com> (David James)
Date: Tue, 3 Apr 2001 10:31:40 -0400 (EDT)
Subject: [Rd] generic database access methods
Message-ID: <200104031431.KAA20097@jessie.research.bell-labs.com>

On Mon, 2 Apr 2001, Prof Brian D Ripley wrote:

>
> On Mon, 2 Apr 2001, Timothy H. Keitt wrote:
> 
> > I have a package ready to distribute for testing.  Its actually a package 
cluster
> > with "Rdbi.base" and "Rdbi.PgSQL."  I've moved the main read loop out of R 
and
> > into C and now get around 200K integer reads a second (includes copying 
results
> > into a data frame).  I'm happy for someone to take over from here (or to 
propose
> > an alternative framework).  Perhaps we can make it a group effort (transfer 
copyright
> > to the R project, etc.)  I would suggest that we start with the absolute 
minimal
> > interface and add features very carefully.  It would be great to see a 
general
> > database framework make it into a future release of R.
> 
> Three comments:
> 
> (1) We are still trying to figure out how to set up a framework for
> discussions of this sort (Martin: any progress on SIG lists)?

Okay, we can wait.

> 
> (2) It is unlikely that this will `make it into a future release of R', as
> our aim is to make R smaller not larger.  Rather, what we would like (I
> believe) is a `Recommended Package' that fits alongside R.  We intend to
> unbundle quite a lot of what is already there so R has a small kernel and
> lots of addons.  There are practical reasons (embedding in other
> applications) as well as aesthetic ones.

IMHO it's a good idea -- "small is beatiful".

> (3) This is an area where common solutions across R/S would be very
> welcome.

Absolutely.

> 
> Lots of things came out of the Vienna meeting, and some of us at least
> had/have still to catch up on our day jobs too, so please bear with us
> while we get things set up.  A unified databases interface is definitely on
> the list.
> 
> Brian
> 
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ernesto@ipimar.pt  Tue Apr  3 16:03:08 2001
From: ernesto@ipimar.pt (ernesto@ipimar.pt)
Date: Tue, 3 Apr 2001 17:03:08 +0200 (MET DST)
Subject: [Rd] Importing from Splus (PR#891)
Message-ID: <200104031503.RAA17822@pubhealth.ku.dk>

Full_Name: Ernesto Jardim
Version: 1.2.2
OS: SuSE Linux 6.4
Submission from: (NULL) (193.137.98.92)


I wanted to import an array, dim=c(28,12,17), from splus into R.On splus I did

dump(c("array"),file="dump.out)

I checked and Splus could source it.

Than, in R I tryied to source it with:

source("dump.out")

and got and error message:

> source("dump.out")
Error in eval.with.vis(expr, envir, enclos) :
        couldn't find function "new"



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Tue Apr  3 16:46:23 2001
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich Leisch)
Date: Tue, 3 Apr 2001 17:46:23 +0200
Subject: [Rd] lstat and NFS server not responding
In-Reply-To: <Pine.GSO.4.31.0104030657280.22896-100000@auk.stats>
References: <3AC916F5.373D48A7@bank-banque-canada.ca>
 <Pine.GSO.4.31.0104030657280.22896-100000@auk.stats>
Message-ID: <15049.61519.782716.944265@galadriel.ci.tuwien.ac.at>

>>>>> On Tue, 3 Apr 2001 07:06:47 +0100 (BST),
>>>>> Prof Brian D Ripley (PBDR) wrote:

  > On Mon, 2 Apr 2001, Paul Gilbert wrote:
  >> In a somewhat unusual circumstance I have been having trouble when
  >> making R from source and with "R CMD build dse"
  >> forcing the machine to look for an NFS server which was not available,
  >> and then stalling. Our system administrator traced this back to the fact
  >> that these go through all the directories back to "/" , doing an lstat
  >> on everything. He suggests that that seems odd, but it doesn't take long
  >> normally.  The problem was apparently caused by the fact that something
  >> (possible a cdrom) on /mnt had not been unmounted properly.
  >> 
  >> We have fixed the problem but since it was rather difficult to track
  >> down I thought  I would point it out in case others experience a similar
  >> difficulty. Also, is there a good explanation for doing an lstat on
  >> everything up to /?

  > Do you know what was doing it?  Since R CMD build is basically a Perl
  > program, I can only guess that Perl was doing this, and it looks like a
  > Perl quirk/bug that perhaps you need to track down and report (if your Perl
  > version is current).  One thing I did notice is that the R scripts use
  > Cwd::getcwd in Perl when the manual page recommends Cwd::cwd, and reading
  > the code suggests Cwd::getcwd is the culprit.  (Any explanation,
  > Fritz/Kurt?)

No particular reason ... the only one is that I've always used getcwd
(and didn't even know that cwd exists). My manpage says ``It is
recommended that cwd (or another *cwd() function) is used in all code
...'' which I wouldn't take as a particulartly strong recommendation
for cvw, but I'd be fine.

Paul, could you try if that fixes your problem (i.e., replace all
occurrences of ``getcwd'' by ``Cwd::cwd'' in the build script and run
it again)?

Thanks in advance,
Fritz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Apr  3 16:58:28 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 03 Apr 2001 17:58:28 +0200
Subject: [Rd] Importing from Splus (PR#891)
In-Reply-To: ernesto@ipimar.pt's message of "Tue, 3 Apr 2001 17:03:08 +0200 (MET DST)"
References: <200104031503.RAA17822@pubhealth.ku.dk>
Message-ID: <x2ae5y3rh7.fsf@blueberry.kubism.ku.dk>

ernesto@ipimar.pt writes:

> Full_Name: Ernesto Jardim
> Version: 1.2.2
> OS: SuSE Linux 6.4
> Submission from: (NULL) (193.137.98.92)
> 
> 
> I wanted to import an array, dim=c(28,12,17), from splus into R.On splus I did
> 
> dump(c("array"),file="dump.out)
> 
> I checked and Splus could source it.
> 
> Than, in R I tryied to source it with:
> 
> source("dump.out")
> 
> and got and error message:
> 
> > source("dump.out")
> Error in eval.with.vis(expr, envir, enclos) :
>         couldn't find function "new"
> 

Works OK for me from Splus 3.4 to R 1.2.2.... 

Does it happen with smaller arrays too, and could we see (parts of)
the actual dump file?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Apr  3 17:29:54 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 3 Apr 2001 17:29:54 +0100 (BST)
Subject: [Rd] Importing from Splus (PR#891)
In-Reply-To: <200104031503.RAA17822@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.31.0104031727090.10524-100000@toucan.stats>

On Tue, 3 Apr 2001 ernesto@ipimar.pt wrote:

> Full_Name: Ernesto Jardim
> Version: 1.2.2
> OS: SuSE Linux 6.4
> Submission from: (NULL) (193.137.98.92)
>
>
> I wanted to import an array, dim=c(28,12,17), from splus into R.On splus I did

Which version of S-PLUS?  If 5.x or 6.x, this was the wrong command,
as you needed oldStyle = T for S3 (and hence R) compatibility.


> dump(c("array"),file="dump.out)
>
> I checked and Splus could source it.
>
> Than, in R I tryied to source it with:
>
> source("dump.out")
>
> and got and error message:
>
> > source("dump.out")
> Error in eval.with.vis(expr, envir, enclos) :
>         couldn't find function "new"

But can we see the dump, or at least the part containing `new"?

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Apr  3 17:37:37 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 3 Apr 2001 17:37:37 +0100 (BST)
Subject: [Rd] lstat and NFS server not responding
In-Reply-To: <15049.61519.782716.944265@galadriel.ci.tuwien.ac.at>
Message-ID: <Pine.GSO.4.31.0104031732110.10524-100000@toucan.stats>

On Tue, 3 Apr 2001, Friedrich Leisch wrote:

> >>>>> On Tue, 3 Apr 2001 07:06:47 +0100 (BST),
> >>>>> Prof Brian D Ripley (PBDR) wrote:
>
>   > On Mon, 2 Apr 2001, Paul Gilbert wrote:
>   >> In a somewhat unusual circumstance I have been having trouble when
>   >> making R from source and with "R CMD build dse"
>   >> forcing the machine to look for an NFS server which was not available,
>   >> and then stalling. Our system administrator traced this back to the fact
>   >> that these go through all the directories back to "/" , doing an lstat
>   >> on everything. He suggests that that seems odd, but it doesn't take long
>   >> normally.  The problem was apparently caused by the fact that something
>   >> (possible a cdrom) on /mnt had not been unmounted properly.
>   >>
>   >> We have fixed the problem but since it was rather difficult to track
>   >> down I thought  I would point it out in case others experience a similar
>   >> difficulty. Also, is there a good explanation for doing an lstat on
>   >> everything up to /?
>
>   > Do you know what was doing it?  Since R CMD build is basically a Perl
>   > program, I can only guess that Perl was doing this, and it looks like a
>   > Perl quirk/bug that perhaps you need to track down and report (if your Perl
>   > version is current).  One thing I did notice is that the R scripts use
>   > Cwd::getcwd in Perl when the manual page recommends Cwd::cwd, and reading
>   > the code suggests Cwd::getcwd is the culprit.  (Any explanation,
>   > Fritz/Kurt?)
>
> No particular reason ... the only one is that I've always used getcwd
> (and didn't even know that cwd exists). My manpage says ``It is
> recommended that cwd (or another *cwd() function) is used in all code
> ...'' which I wouldn't take as a particulartly strong recommendation
> for cvw, but I'd be fine.

The code says (5.6.0)

# The 'natural and safe form' for UNIX (pwd may be setuid root)

sub _backtick_pwd {
    my $cwd;
    chop($cwd = `pwd`);
    $cwd;
}

# Since some ports may predefine cwd internally (e.g., NT)
# we take care not to override an existing definition for cwd().

*cwd = \&_backtick_pwd unless defined &cwd;

which looks like a recommendation for cwd to me.

> Paul, could you try if that fixes your problem (i.e., replace all
> occurrences of ``getcwd'' by ``Cwd::cwd'' in the build script and run
> it again)?

(just cwd seems to work.)

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jhallman@frb.gov  Tue Apr  3 20:52:46 2001
From: jhallman@frb.gov (jhallman@frb.gov)
Date: Tue, 3 Apr 2001 21:52:46 +0200 (MET DST)
Subject: [Rd] rle() fails with NA's (PR#892)
Message-ID: <200104031952.VAA19642@pubhealth.ku.dk>

Full_Name: Jeff Hallman
Version: 1.2.2
OS: Solaris
Submission from: (NULL) (132.200.32.33)


> rle(c(1, NA, 1)
$lengths
[1] 3

$values
[1] 1

should be as in Splus:

$lengths
[1] 1 1 1

$values
[1] 1 NA 1

The Splus implementation (which works fine in R) is:

rle <- function(x){
 if(!is.atomic(x))
    stop("Argument must have an atomic mode")
  if(length(x) == 0)
    return(list(lengths = numeric(0), values = x))
  if(length(x) == 1)
    return(list(lengths = 1, values = x))
  x.int <- match(x, unique(x))
  ends <- c(diff(x.int) != 0, T)
  list(lengths = diff(c(0, seq(along = x)[ends])), values = x[ends])
}


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Richard.Beare@cmis.csiro.au  Wed Apr  4 08:24:41 2001
From: Richard.Beare@cmis.csiro.au (Richard Beare)
Date: Wed, 04 Apr 2001 17:24:41 +1000
Subject: [Rd] Rprintf under windows?
Message-ID: <3ACACC39.224AE267@cmis.csiro.au>

Hi,

I've been using Rprintf from a shared library compiled under various
unix flavour for a while now. I get a warning about Rprintf being
undefined when constructing the library, but everything works OK after
loading.

I've also been cross compiling the same library using the mingw32 tools
for a while now, but the inclusion of Rprintf seems to be messing up
this process. It can't handle the missing symbol. Is anyone aware of a
trick with the mingw32 stuff to get around this?
Thanks

-- 
Richard Beare, CSIRO Mathematical & Information Sciences
Locked Bag 17, North Ryde, NSW 1670, Australia
Phone: +61-2-93253221 (GMT+~10hrs)  Fax: +61-2-93253200

Richard.Beare@cmis.csiro.au
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Apr  4 09:07:34 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 4 Apr 2001 09:07:34 +0100 (BST)
Subject: [Rd] Rprintf under windows?
In-Reply-To: <3ACACC39.224AE267@cmis.csiro.au>
Message-ID: <Pine.LNX.4.31.0104040902270.8373-100000@gannet.stats>

On Wed, 4 Apr 2001, Richard Beare wrote:

> Hi,
>
> I've been using Rprintf from a shared library compiled under various
> unix flavour for a while now. I get a warning about Rprintf being
> undefined when constructing the library, but everything works OK after
> loading.
>
> I've also been cross compiling the same library using the mingw32 tools
> for a while now, but the inclusion of Rprintf seems to be messing up
> this process. It can't handle the missing symbol. Is anyone aware of a
> trick with the mingw32 stuff to get around this?
> Thanks

The `trick' is to read the introductory documentation.

R-exts.texi has

The recommended procedure to use these is to include the header file
@file{R.h} in your C code by

@example
#include <R.h>
@end example

If you do that, Rprintf *is* defined (via R_ext/Print.h)

That said, I have never seen problems under Windows, so are you doing
that properly (using the correct import library)?

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gfhjgq@yahoo.com  Wed Apr  4 11:12:13 2001
From: gfhjgq@yahoo.com (gfhjgq@yahoo.com)
Date: Wed, 4 Apr 2001 12:12:13 +0200 (MET DST)
Subject: [Rd] ghhfh (PR#894)
Message-ID: <200104041012.MAA27161@pubhealth.ku.dk>

Full_Name: hjghjg
Version: 2.3
OS: windows
Submission from: (NULL) (196.12.46.150)


fasdfdsfasdfsd

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gfhjgq@yahoo.com  Wed Apr  4 11:12:03 2001
From: gfhjgq@yahoo.com (gfhjgq@yahoo.com)
Date: Wed, 4 Apr 2001 12:12:03 +0200 (MET DST)
Subject: [Rd] ghhfh (PR#893)
Message-ID: <200104041012.MAA27139@pubhealth.ku.dk>

Full_Name: hjghjg
Version: 2.3
OS: hghj
Submission from: (NULL) (196.12.46.150)


fasdfdsfasdfsd

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Wed Apr  4 12:42:59 2001
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich Leisch)
Date: Wed, 4 Apr 2001 13:42:59 +0200
Subject: [Rd] RE: [R] Can't install "e1071"
In-Reply-To: <Pine.LNX.4.31.0104031120530.995-100000@shell1.aracnet.com>
References: <8156A6FE684ED21194D20008C756F8DFA015B1@independence.esperion.com>
 <Pine.LNX.4.31.0104031120530.995-100000@shell1.aracnet.com>
Message-ID: <15051.2243.738040.641325@galadriel.ci.tuwien.ac.at>


[ taken from r-help to r-devel, which is the more appropriate place for
questions like this ]


>>>>> On Tue, 3 Apr 2001 11:22:52 -0700 (PDT),
>>>>> M Edward (Ed) Borasky (ME(B) wrote:

  > Here's the Windows version of this problem:

the problem is different, because the previous problems were with the
netpbm libraries (and hence not in my domain), whereas all the svm
code (where your problem seems to be) does not rely on external libraries.

  > F:\Team\R-20010325\ContributedSources>Rcmd INSTALL e1071*.gz

  > make: Entering directory `/cygdrive/d/rw1023/src/gnuwin32'
  > make DLLNM=  EXTRADOCS= \
  >   -C F:/Team/R-20010325/ContributedSources/R.INSTALL/e1071 PKG=e1071 RHOME=D:/rw
  > 1023 RLIB=D:/rw1023/library \
  >   -f D:/rw1023/src/gnuwin32/MakePkg
  > make[1]: Entering directory `/cygdrive/f/Team/R-20010325/ContributedSources/R.IN
  > STALL/e1071'
  > if [ ! -f ./TITLE -a -f ./DESCRIPTION ] ; then \
  >   perl D:/rw1023/share/perl/maketitle.pl ./DESCRIPTION > TITLE; \
  > fi
  > ---------- Making package e1071 ------------
  > mkdir -p D:/rw1023/library/e1071
  > cp -r   ./DESCRIPTION  ./INDEX  ./TITLE ./COPYING ./COPYRIGHT.svm.cpp ./README D
  > :/rw1023/library/e1071/
  >    adding build stamp to DESCRIPTION
  >   installing R files
  >   making DLL
  > make[2]: Entering directory `/cygdrive/f/Team/R-20010325/ContributedSources/R.IN
  > STALL/e1071/src'
  > make[3]: `libR.a' is up to date.
  > gcc    -ID:/rw1023/src/include -include D:/rw1023/src/include/globalvar.h  -Wall
  >  -O2   -c Rsvm.c -o Rsvm.o
  > Rsvm.c:3: svm.h: No such file or directory

Ahh, I see the bug: david included <svm.h> instead of "svm.h" ... I
think this should fix the problem. Could you try replacing

#include <svm.h>

with

#include "svm.h"

in Rsvm.c?

Thanks,
Fritz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From plummer@iarc.fr  Wed Apr  4 13:16:20 2001
From: plummer@iarc.fr (Martyn Plummer)
Date: Wed, 04 Apr 2001 14:16:20 +0200 (CEST)
Subject: [Rd] Can't install "e1071"
In-Reply-To: <15051.2243.738040.641325@galadriel.ci.tuwien.ac.at>
Message-ID: <XFMail.20010404141620.plummer@iarc.fr>

I have done a little digging, and the problem with netpbm on Red Hat
linux 7.0 is due to them not using the standard install mechanism for
the header files.  I have submitted a bug report (#34653). We'll see
what they say, but I hope they can get this fixed for 7.1

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Wed Apr  4 21:21:15 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Wed, 04 Apr 2001 22:21:15 +0200
Subject: [Rd] icon bitmap
Message-ID: <3ACB823B.B154899A@univie.ac.at>

do we have an "official"
16x16 bitmap of the R icon?

the windows distribution has a 32x32 icon.
i need a 16x16 version.
has somebody created one,
or should i just "downsample".


--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kylouskova@euromise.cz  Thu Apr  5 10:02:48 2001
From: kylouskova@euromise.cz (kylouskova@euromise.cz)
Date: Thu, 5 Apr 2001 11:02:48 +0200 (MET DST)
Subject: [Rd] CI for wilcoxon test (PR#895)
Message-ID: <200104050902.LAA07697@pubhealth.ku.dk>

Full_Name: Marketa Kylouskova
Version: 1.2.1
OS: Windows
Submission from: (NULL) (147.231.7.2)


Hi,
	I believe there is a bug in the extension of wilcox.test, namely in
determination of confidence intervals. I concentrated on the two-sample test
only. I examined and tested its performance on this working data set:

x<-rnorm(10,3,1)		# So I have two samples, I will test whether
y<-rnorm(10,0,1)		# x is greater than y, i.e. one-sided alternative greater

say 
x<-c(3.770684,4.654342,3.496403,1.772743,1.624953,2.645835,3.099477,1.706758,3.507709,1.982924)
y<-c(-0.8161288,0.1632923,0.6421997,1.9270846,-0.4668112,0.3587806,0.3312529,-0.5393900,
0.1057892,1.7963575)

then

wilcox.test(x,y,alternative="greater",conf.int=T)

gives

         Wilcoxon rank sum test 

data:  x and y 
W = 94, p-value = 0.0001624 
alternative hypothesis: true mu is greater than 0 
95 percent confidence interval:
 -3.344416        NA 

which is apparently contradictory (p-value is much less than 0.05 while exact CI
contains 0). I examined the code and I found that while the exact wilcoxon test
is applied on ranks of x (thus testing that mu = x  y is greater than 0), the
exact CI is computed based on differences y - x, hence finding a CI for mu = y 
x). The same applies, in my opinion, to approximative CI, where he optimization
interval is set as (mumin,mumax) with

mumin <- min(y) - max(x)
mumax <- max(y) - min(x)

I didnt go through other aspects, although I believe that the continuity
correction should be checked if some changes are made, and also that some closer
look onto definitions of uci and lci in the exact CI computations should be made
(here it depends on your definition of the CI for exact distributions, i.e.
whether the CI = {uci<=mu<lci} (then I think its OK) or CI = {uci<=mu<=lci}
(then I think lci= diffs[ql] and not diffs[ql + 1]). Could this be specified in
the documentation?

Thank you in advance for checking my suspicions :) and for your reaction.

	Marketa Kylouskova
	kylouskova@euromise.cz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Marketa.Kylouskova@euromise.cz  Thu Apr  5 11:31:12 2001
From: Marketa.Kylouskova@euromise.cz (Marketa.Kylouskova@euromise.cz)
Date: Thu, 5 Apr 2001 12:31:12 +0200 (MET DST)
Subject: [Rd] Optimize: difference between R for Linux and Windows (PR#896)
Message-ID: <200104051031.MAA09137@pubhealth.ku.dk>


--Message-Boundary-4491
Content-type: text/enriched; charset=US-ASCII
Content-transfer-encoding: 7BIT
Content-description: Mail message body

<flushboth><color><param>0100,0100,0100</param><FontFamily><param>Times New Roman</param>Dear developers,</flushboth>

<flushboth>	I have a problem with some discrepancy in the performance of the 
function <FontFamily><param>Courier New</param><smaller>optimize<FontFamily><param>Times New Roman</param><bigger> between R 1.2.1 for Windows and R 1.2.2 (and less) 
for Linux. While trying to correct the wilcox.test (see my previous bug 
report) I encountered the following problem: I wanted to check the 
behaviour of the function <FontFamily><param>Courier New</param><smaller>wdiff<FontFamily><param>Times New Roman</param><bigger> used in the search for CI limits.</flushboth>


<paraindent><param>out</param><FontFamily><param>Courier New</param><smaller>x<<-rnorm(10,3,1)	</paraindent>

<paraindent><param>out</param>y<<-rnorm(10,0,1)	<bigger></paraindent>


<paraindent><param>out</param><FontFamily><param>Times New Roman</param><bigger>say </paraindent>


<flushboth><FontFamily><param>Courier New</param><smaller>x<<-
c(3.770684,4.654342,3.496403,1.772743,1.624953,2.645835,
3.099477,1.706758,3.507709,1.982924)</flushboth>

<flushboth>y<<-c(-0.8161288,0.1632923,0.6421997,1.9270846,-
0.4668112,0.3587806,0.3312529,-0.5393900,</flushboth>

<flushboth>0.1057892,1.7963575)</flushboth>


<paraindent><param>out</param>mu<<-0</paraindent>

<paraindent><param>out</param>n.x<<-length(x)</paraindent>

<paraindent><param>out</param>n.y<<-length(y)</paraindent>


<paraindent><param>out</param>wdiff <<- function(d, zq) {</paraindent>

<paraindent><param>out</param>   	dr <<- rank(c(x- mu -d,y))</paraindent>

<paraindent><param>out</param>   	NTIES.CI <<- table(dr)</paraindent>

<paraindent><param>out</param>   	dz <<- (sum(dr[seq(along = x)]) - n.x * (n.x + 1)/2 -
 n.x * n.y/2)</paraindent>

<paraindent><param>out</param>	CORRECTION.CI<<-0</paraindent>

<paraindent><param>out</param>   SIGMA.CI <<- sqrt((n.x * n.y/12) * ((n.x + n.y + 1) - 
sum(NTIES.CI^3 - NTIES.CI)/((n.x + n.y) * (n.x + 
n.y - 1))))</paraindent>

<paraindent><param>out</param>   dz <<- (dz - CORRECTION.CI)/SIGMA.CI</paraindent>

<paraindent><param>out</param>   abs(dz - zq)</paraindent>

<paraindent><param>out</param>}</paraindent>


<flushboth><FontFamily><param>Times New Roman</param><bigger>To examine the behivour I plotted the course of the <FontFamily><param>Courier New</param><smaller>wdiff<FontFamily><param>Times New Roman</param><bigger> for a lot of d 
and three zq (0.05, 0.5, 0.95) and I let optimize to compute the minimums. 
Then I plotted it. </flushboth>


<paraindent><param>out</param><FontFamily><param>Courier New</param><smaller>mumin<<-min(x)-max(y)</paraindent>

<paraindent><param>out</param>mumax<<-max(x)-min(y) </paraindent>


<paraindent><param>out</param>lll<<-seq(mumin,mumax,by=0.01)</paraindent>

<paraindent><param>out</param>wdl<<-apply(cbind(lll),1,wdiff,zq=qnorm(0.05))</paraindent>

<paraindent><param>out</param>wdm<<-apply(cbind(lll),1,wdiff,zq=qnorm(0.50))</paraindent>

<paraindent><param>out</param>wdu<<-apply(cbind(lll),1,wdiff,zq=qnorm(0.95))</paraindent>


<paraindent><param>out</param>plot(lll,wdl,type="l")</paraindent>

<paraindent><param>out</param>lines(lll,wdm,lty=4)</paraindent>

<paraindent><param>out</param>lines(lll,wdu,lty=7)</paraindent>



<paraindent><param>out</param>ol<<-
optimize(wdiff,c(mumin,mumax),zq=qnorm(0.05))$minimu
m</paraindent>

<paraindent><param>out</param>om<<-optimize(wdiff,c(mumin,mumax),zq=qnorm(0.5))$minimum</paraindent>

<paraindent><param>out</param>ou<<-
optimize(wdiff,c(mumin,mumax),zq=qnorm(0.95))$minimu
m</paraindent>


<paraindent><param>out</param>abline(v=ol)</paraindent>

<paraindent><param>out</param>abline(v=om,lty=4)</paraindent>

<paraindent><param>out</param>abline(v=ou,lty=7)</paraindent>



<flushboth><FontFamily><param>Times New Roman</param><bigger>When it ran on my home Linux (R 1.2.2 (2001-02-26) Compiled from 
source tarball on Linux with gcc version 2.95.2 19991024) it computed the 
minimum for zq = 0.05 only, for the others it found something totally 
wrong (see attached figure shouldntbe.gif). Then I checked it at work on 
S+2000 and R 1.2.1 for Windows and it gave the correct results and 
picture (see attached figure shouldbe.gif). Could you, please, advise me 
whether the problem stands in the platform version or in my compiled 
version, and what should I do to make it work properly?</flushboth>


<flushboth>Thank you very much for your help.</flushboth>


<flushboth>	Marketa Kylouskova</flushboth>

<flushboth>	{ HYPERLINK "mailto:marketa@ucw.cz" }marketa@ucw.cz</flushboth>

<flushboth>	kylouskova@euromise.cz</flushboth>



<nofill>

--Message-Boundary-4491
Content-type: text/plain; charset=US-ASCII
Content-disposition: inline
Content-description: Attachment information.

The following section of this message contains a file attachment
prepared for transmission using the Internet MIME message format.
If you are using Pegasus Mail, or any another MIME-compliant system,
you should be able to save it or view it from within your mailer.
If you cannot, please ask your system administrator for assistance.

   ---- File information -----------
     File:  shouldbe.gif
     Date:  5 Apr 2001, 11:35
     Size:  6826 bytes.
     Type:  GIF-image

--Message-Boundary-4491
Content-type: Image/GIF; name="shouldbe.gif"
Content-disposition: attachment; filename="shouldbe.gif"
Content-transfer-encoding: BASE64

R0lGODdhGANjAvcAAAAAAIAAAACAAICAAAAAgIAAgACAgMDAwMDcwKbK8EAgAGAgAIAgAKAg
AMAgAOAgAABAACBAAEBAAGBAAIBAAKBAAMBAAOBAAABgACBgAEBgAGBgAIBgAKBgAMBgAOBg
AACAACCAAECAAGCAAICAAKCAAMCAAOCAAACgACCgAECgAGCgAICgAKCgAMCgAOCgAADAACDA
AEDAAGDAAIDAAKDAAMDAAODAAADgACDgAEDgAGDgAIDgAKDgAMDgAODgAAAAQCAAQEAAQGAA
QIAAQKAAQMAAQOAAQAAgQCAgQEAgQGAgQIAgQKAgQMAgQOAgQABAQCBAQEBAQGBAQIBAQKBA
QMBAQOBAQABgQCBgQEBgQGBgQIBgQKBgQMBgQOBgQACAQCCAQECAQGCAQICAQKCAQMCAQOCA
QACgQCCgQECgQGCgQICgQKCgQMCgQOCgQADAQCDAQEDAQGDAQIDAQKDAQMDAQODAQADgQCDg
QEDgQGDgQIDgQKDgQMDgQODgQAAAgCAAgEAAgGAAgIAAgKAAgMAAgOAAgAAggCAggEAggGAg
gIAggKAggMAggOAggABAgCBAgEBAgGBAgIBAgKBAgMBAgOBAgABggCBggEBggGBggIBggKBg
gMBggOBggACAgCCAgECAgGCAgICAgKCAgMCAgOCAgACggCCggECggGCggICggKCggMCggOCg
gADAgCDAgEDAgGDAgIDAgKDAgMDAgODAgADggCDggEDggGDggIDggKDggMDggODggAAAwCAA
wEAAwGAAwIAAwKAAwMAAwOAAwAAgwCAgwEAgwGAgwIAgwKAgwMAgwOAgwABAwCBAwEBAwGBA
wIBAwKBAwMBAwOBAwABgwCBgwEBgwGBgwIBgwKBgwMBgwOBgwACAwCCAwECAwGCAwICAwKCA
wMCAwOCAwACgwCCgwECgwGCgwICgwKCgwMCgwOCgwADAwCDAwEDAwGDAwIDAwKDAwP/78KCg
pICAgP8AAAD/AP//AAAA//8A/wD//////ywAAAAAGANjAgAI/gD/CRxIsKDBgwgTKlzIsKHD
hxAjSpxIsaLFixgzatzIsaPHjyBDihxJsqTJkyhTqlzJsqXLlzBjypxJs6bNmzhz6tzJs6fP
n0CDCh1KtKjRo0iTKl3KtKnTp1CjSp1KtarVq1izat3KtavXr2DDih1LtqzZs2jTql3Ltq3b
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
XXXXZbddd9+FN15556W3XnsjDQgAOw==
--Message-Boundary-4491
Content-type: text/plain; charset=US-ASCII
Content-disposition: inline
Content-description: Attachment information.

The following section of this message contains a file attachment
prepared for transmission using the Internet MIME message format.
If you are using Pegasus Mail, or any another MIME-compliant system,
you should be able to save it or view it from within your mailer.
If you cannot, please ask your system administrator for assistance.

   ---- File information -----------
     File:  shouldntbe.gif
     Date:  5 Apr 2001, 11:35
     Size:  42371 bytes.
     Type:  GIF-image

--Message-Boundary-4491
Content-type: Image/GIF; name="shouldntbe.gif"
Content-disposition: attachment; filename="shouldntbe.gif"
Content-transfer-encoding: BASE64

R0lGODdhDAJhAvcAAAQCBHyKbFxCHKzCnFxiTLSKbDwSBMSmfNzi1IRiPEwqBIxyTGxCJNzC
nJSifGxSLLSadJyCXFQ2FNS2lOzSrDQWBJxyVKyOZIRqRHxSNCwOBDweBPz29GQ6HMyujMSe
fKyCZPzivAQKBLSSbOzGpFw+FOzWzEwiBExWRJx6VJRqTHxaNJR6VGxKJLyifPTatIxiRFwy
FKSKZFw2FOS+nLSShAwCBGRKJMTStMymhEwyFHRaNLyadNS+nIxqREQmBPTm5KR6XIRaPGRy
XJRyTOTGvKSCXNSujPzqxHRKLGRCHOTKpHRSLNy2lKyWbDQOBEQeBKyKZLySdIxqVHxiPDwa
BOTq3IRiTFQuDOTCnPzWtKyOdMSejOzOrJx+ZPzatFw6JMzaxJR2XKSGbNSunAQGBJSWlMSm
jKy+lLSedFQ6FPTSrCQiJGQ+HMSifPzmvAwKBLSWbEwmBJx+VHxeRGxONIxmRFw6FAwGB8yq
ibyee4xuTIRePpR2VKSGZNSykmRGJKyqrHR+ZNTW1FxWXJyujFxqVIyefFReTLTCrPz+/Oze
1KyKfISOdLyWfMzWvOzu5NTezHRWPNy2pGRuVFQyElw+JNy+nPTOrLSObTwWBcSqhIRmREwu
DGxGJdzGpDQaBJx2VqySbHxWNiwSDPz6/KyGZuzKp5RuTXxePJR+XGxOLLSWfKR+XvzuzHRO
LXRWNNy6lzQSBUQiBeTGpPzevPTWtLTGpNzm1NS6lMyyjLyWdIxuVIRmTKySdAQCDFxCJMSm
hIRiREwqDIxyVGxSNLSafJyCZFQ2HDQWDKyObIRqTDweDGQ6JMSehPzixAQKDLSSdFw+HEwi
DJx6XHxaPJR6XGxKLLyihIxiTKSKbFw2HAwCDGRKLMymjHRaPLyafIxqTEQmDIRaRJRyVKSC
ZNSulPzqzGRCJHRSNDQODEQeDKyKbHxiRDwaDOTq5FQuFOTCpPzavAQGDLSefFQ6HPTStGQ+
JMSihPzmxAwKDLSWdEwmDJx+XIxmTFw6HCwAAAAADAJhAgAI/gDL9RNYLoIfgwaNmDJykJ0f
UxH4AIgwRsaYKH6iXNyosSPHi9ouhByZKUomGcoujIiiTEY0UZlEFYBJM6ZNUS9fZnISjafP
nj33QdgVR4oTR0chGAU3dKixXU13PaW3i6oxHvSwas3K1Y2LDzxcgBNLdqyeA3rcpF2LT08w
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
aQ56kxs6o4vjpAs5pFc6kid5o2+6pHM6k2e6o7c5evrsO3JrLWs3BEvjjKv43h66Ypfqng7m
qke2nKv3izfym4t19jrhfHf5OP/5rpv0/n6jI6Z3uqs7dfZauX0b+6SfI4/zqZ96eqZXMrND
45lXe6RHO7YXO7dLe8FiOdMSraCXeHGeeKA/4Xrnei4bOSI3NKzXdxirOrmj+mK3brpLNr17
NbuiO6hnN0brOI1rI6Qjercbegh/daFLsLcrO0ryeVIXPGVv+146/MI3M7RLPMZD/JjDbDeG
eDCb44tf8l8/443rOZ7bdjOHa08vO0CWfLn7eTCbPBe6fOu6JLLnedVKY6+Heje3s/kOtsFC
qsNfvMZnO7X/PMFzebInPcZD58D/ZdEvfcU/eXg2+0xPfdFn/bRzPJ37fElrMVfDe6o74bWb
ahmcfE6WqkxW/uzaA+O7P2PZG333tn0Zlj25qn2+17i2k73SgzVX3jp+/qrH5+kblrfWe/2u
0/2n+7q2F7sEX3Yp2yTRe3usFjvkg2yYL/vkZzzWd76rm/jEDzPeU6RdS/Ncj2UUGr7MYnYZ
UPz2Nue7B7txDq6Z3juZ5/2v474Vqr7Yu/upqvsxZnbrs75mp7ztE2yC1m1+t7rf7qfriyN0
z/eoez7MR/rmj/7oc/7Lz6bd22jBK/31U/nzh7/c1+jhnz+Sh7h0SzcpM7e3wn3KI33f23xl
ryz8H3o3xuHOo3XVo3piCiZAQFI0kGBBgwcREhRocOFAABwSDlw4MWJFixcVYrQI/kBix4wa
ETYsKFIRSZAnUaaMWOrhQIgQFb10OTJhQ5YwP3osmVMnwlKlDprUSbJh0ZxGhx6NyAEAUJRM
ae6USnGqR5NXg0alytBqz65SuVYVS3Urz4JQvwpNOjZtW7cfybpl6rRiXLZhiUa9a5ev2757
/TrkKbJsWYVlzOpFqpggzK2Ls6qUDLZhmb+UHeKcHDKyXo1qOV8EvRmrVI6jxXrdnJh1Sstv
VQodjXp1bZQsweamDVdw3twRfUulG1op47WYjy82yrFuTqYAoDsODJh16ctIDWNPPv2y6pjM
YQPnHj712r8UwdfkTd2s3fXnx1OHP7YMdOifyRNMD1p5/uuYOCE7brsBkSswIebcWwk328T7
zUGMZvOsQQYdbKgl0b6i8MGedjsQtg4729A7DUmMqKmfYnoPJKpuUq9AtQKMccISXQRrLou0
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

--Message-Boundary-4491--

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Marketa.Kylouskova@euromise.cz  Thu Apr  5 12:19:42 2001
From: Marketa.Kylouskova@euromise.cz (Marketa.Kylouskova@euromise.cz)
Date: Thu, 5 Apr 2001 13:19:42 +0200 (MET DST)
Subject: [Rd] PR#896
Message-ID: <200104051119.NAA09993@pubhealth.ku.dk>

Sorry to all that are angry about the form of my previous mail. I 
didn't realise what would happen :((.

Here it is in (hopefully) plain text (if my mailer doesn't spoil it again):

##############

Dear developers,
	I have a problem with some discrepancy between R 1.2.1 for 
Windows and R 1.2.2 (and less) for Linux. While trying to correct 
the wilcox.test (see my previous bug report) I encountered the 
following problem: I wanted to check the behaviour of the function 
wdiff used in the search for CI limits.

x<-rnorm(10,3,1)	
y<-rnorm(10,0,1)	
say 

x<-
c(3.770684,4.654342,3.496403,1.772743,1.624953,2.645835,3.0994
77,1.706758,3.507709,1.982924)
y<-c(-0.8161288,0.1632923,0.6421997,1.9270846,-
0.4668112,0.3587806,0.3312529,-0.5393900,
0.1057892,1.7963575)

mu<-0
n.x<-length(x)
n.y<-length(y)

wdiff <- function(d, zq) {
   	dr <- rank(c(x- mu -d,y))
   	NTIES.CI <- table(dr)
   	dz <- (sum(dr[seq(along = x)]) - n.x * (n.x + 1)/2 - n.x * n.y/2)
	CORRECTION.CI<-0
   SIGMA.CI <- sqrt((n.x * n.y/12) * ((n.x + n.y + 1) - 
sum(NTIES.CI^3 - NTIES.CI)/((n.x + n.y) * (n.x + n.y - 1))))
   dz <- (dz - CORRECTION.CI)/SIGMA.CI
   abs(dz - zq)
}

To examine the behivour I plotted the course of the wdiff for a lot of 
d and three zq (0.05, 0.5, 0.95) and I let optimize to compute the 
minimums. Then I plotted it. 

mumin<-min(x)-max(y)
mumax<-max(x)-min(y) 

lll<-seq(mumin,mumax,by=0.01)
wdl<-apply(cbind(lll),1,wdiff,zq=qnorm(0.05))
wdm<-apply(cbind(lll),1,wdiff,zq=qnorm(0.50))
wdu<-apply(cbind(lll),1,wdiff,zq=qnorm(0.95))

plot(lll,wdl,type="l")
lines(lll,wdm,lty=4)
lines(lll,wdu,lty=7)


ol<-optimize(wdiff,c(mumin,mumax),zq=qnorm(0.05))$minimum
om<-optimize(wdiff,c(mumin,mumax),zq=qnorm(0.5))$minimum
ou<-optimize(wdiff,c(mumin,mumax),zq=qnorm(0.95))$minimum

abline(v=ol)
abline(v=om,lty=4)
abline(v=ou,lty=7)


When it ran on my home Linux (R 1.2.2 (2001-02-26) Compiled 
from source tarball on Linux with gcc version 2.95.2 19991024) it 
computed the minimum for zq = 0.05 only, for the others it found 
something totally wrong (three curves with "valleys", one line 
indicating the right minimum, one line indicating where the 
computed minimum surely doesn't lie; moreover, it was the same 
for both 0.5 and 0.95). Then I checked it at work on S+2000 and R 
1.2.1 for Windows and it gave the correct results and picture (three 
curves with "valleys" and three lines indicating where the minimum 
lies). Could you, please, advise me whether the problem stands in 
the platform version or in my compiled version, and what should I 
do to make it work properly?

Thank you very much for your help.

	Marketa Kylouskova
	marketa@ucw.cz
	kylouskova@euromise.cz

 



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From plummer@iarc.fr  Thu Apr  5 16:14:11 2001
From: plummer@iarc.fr (Martyn Plummer)
Date: Thu, 05 Apr 2001 17:14:11 +0200 (CEST)
Subject: [Rd] Can't install "e1071"
In-Reply-To: <XFMail.20010404141620.plummer@iarc.fr>
Message-ID: <XFMail.20010405171411.plummer@iarc.fr>

On 04-Apr-2001 Martyn Plummer wrote:
> I have done a little digging, and the problem with netpbm on Red Hat
> linux 7.0 is due to them not using the standard install mechanism for
> the header files.  I have submitted a bug report (#34653). We'll see
> what they say, but I hope they can get this fixed for 7.1

Hmmmm.  I'm not the first person to submit this bug, and I won't be the
last.  Users keep submitting it and Red Hat keeps closing it, claiming
that the bug is resolved.  There is no official erratum/update, despite
the fact the version of netpbm-devel that ships with Red Hat 7.0 is
unusable.  But apparently the version on Rawhide (Red Hat's rolling beta
release) does fix this problem.  So users should go and download that.

Right.

I'm going to lie down now.

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From David James <dj@research.bell-labs.com>  Thu Apr  5 17:15:45 2001
From: David James <dj@research.bell-labs.com> (David James)
Date: Thu, 5 Apr 2001 12:15:45 -0400 (EDT)
Subject: [Rd] Re: [R] Hmisc and Design libraries
Message-ID: <200104051615.MAA10251@jessie.research.bell-labs.com>

Great news!  

Having spent a significant amount of time porting/mantaining some 
packages on S4/Splus 5.x and R, I'm interested in your experience 
as you port Hmisc and Design; I'd like to know of your progress in 
order to help improve available R/Splus portability tools both at the C and 
the S language code.   These tools include the package SLanguage written 
by John Chambers, and the C macros ported to R by Duncan Temple Lang, 
Brian Ripley, Saikat DebRoy (and others?) in "Rdefines.h";  the core macros 
are mainly those in Appendix A of the green book (Chambers, "Programming 
with Data"), but you'll probably need to write additional ones, as I have 
done for my own packages. [BTW, Rdefines.h needs to be updated in R 1.2.2 
(and previous 1.2.x?) -- details will follow when I submit a bug report on 
this.]

Notice that by portability we/I typically mean "from Splus -> R", but
more and more we may start seeing "R->Splus" as well.

Should we think of forming an R/Splus portability SIG (Special Interest Group)?

Regards,

David A. James
Statistics Research, Room 2C-253            Phone:  (908) 582-3082       
Bell Labs, Lucent Technologies              Fax:    (908) 582-3340
Murray Hill, NJ 09794-0636
----------------------------------------------------------------------
> Date: Thu, 05 Apr 2001 10:31:42 -0400
> From: Frank E Harrell Jr <fharrell@virginia.edu>
> X-Accept-Language: en
> MIME-Version: 1.0
> To: rhelp <r-help@stat.math.ethz.ch>
> Subject: [R] Hmisc and Design libraries
> Content-Transfer-Encoding: 7bit
> 
> After several nice and informative discussions with Bill Venables,
> Duncan Temple Lang, Tony Rossini, Martin Maechler, and Robert
> Gentleman, I am pleased to announce that I am becoming an R user
> and have begun porting the Hmisc and Design libraries to R. 
> I have been very impressed with the maturity of R and with its 
> logical design, particularly its online documentation setup and
> the way packages are downloaded and installed, not to mention the
> scoping rules and other fundamentals.  Another factor that has
> influenced me is the excellent book "Rebel Code" by Glyn Moody
> which chronicles the open source movement and Linux.  I wish
> to especially thank Bill Venables for his friendly wisdom.
> 
> My guess is that porting the libraries can be largely
> accomplished in the next 4 months (there are about
> 350 functions), especially if any experienced R programmers
> who want to use the libraries would like to help.  I am
> in the process of setting up an ssh-accessed CVS repository
> for each library so that functions can be checked in and
> out.  Anyone wanting to help will of course get plenty
> of acknowledgement.  I have already debugged about 1/4
> of the Hmisc library under R.
> 
> Descriptions of functions in my libraries may be found
> at http://hesweb1.med.virginia.edu/biostat/s/splus.html
> 
> As I will be maintaining the libraries for S-Plus (both
> Windows and Linux/Unix versions, S version 3 and 4
> languages) and for R, I would appreciate learning how
> other users who do the same set up their directories
> to facilitate distributing libraries for both R and
> S-Plus in a way that is also consistent with CVS.  In
> other words, I would like to be able to construct
> distributions suitable for CRAN without making it too
> hard to run Unix/Linux shell scripts that also create
> S-Plus distributions.  I am using a single code base
> for all platforms except for Fortran and C code
> where I allow for single precision objects in S-Plus.
> 
> As I am now Microsoft-free (one of my colleagues creates
> Microsoft Windows files for S-Plus; I have found that
> Linux is amazingly more reliable and powerful than
> Windows.  I have set up a web page at
> http://hesweb1.med.virginia.edu/biostat/s/linux.setup.html
> to help Windows users set up Linux) I am honestly not 
> motivated to do special work to make a Windows distribution
> for R.  If a Windows R user who has suitable Fortran and
> C compilers wishes to periodically create a Windows
> distribution once the libraries work under R on
> Linux/Unix that would be great.
> 
> I am very glad to join the talented R community, and look
> forward to collaborating with other users.
> 
> Sincerely,
> 
> Frank Harrell
> -- 
> Frank E Harrell Jr              Prof. of Biostatistics & Statistics
> Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
> U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request@stat.math.ethz.ch
> 
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Apr  5 20:19:00 2001
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 05 Apr 2001 14:19:00 -0500
Subject: [Rd] welcome aboard
References: <3ACC81CE.8767522A@virginia.edu>
Message-ID: <3ACCB714.10AB00A4@bank-banque-canada.ca>

Frank
>As I will be maintaining the libraries for S-Plus (both
>Windows and Linux/Unix versions, S version 3 and 4
>languages) and for R, I would appreciate learning how
>other users who do the same set up their directories
>to facilitate distributing libraries for both R and
>S-Plus in a way that is also consistent with CVS.  In
>other words, I would like to be able to construct
>distributions suitable for CRAN without making it too
>hard to run Unix/Linux shell scripts that also create
>S-Plus distributions.

I have have just completed a multi-year transition from developing my
code in Splus and  wanting it to run also in R, to developing in R and
wanting it to run also in Splus. (I still only use Splus 3.3.) The code
was never a big issue for me as I have been careful to avoid anything
depending on fundamental differences between R and S.

Although I have been using R for many years (mainly to avoid debugging
For loops) the real start of my transition was the remarkable support
for help documentation starting sometime just before R 1.0. The final
act was to move all my test programs from my own ad hoc system to R's
tests directories, so that the tests are run by R CMD check. With a few
scripts and a Makefile I now mimic R's approach to run my tests in Splus
and to generate html help for S. I would be happy to send these if you
are interested. I maintain about 1000 functions in a dozen packages
organized into three bundles (one of which I do not distribute).

There is no problem  using  CVS, but I use it only for co-ordinating my
home version with my work version, so there may be complications I am
not aware of. I don't use Windows and there are undoubtedly
complications, although I think I now have my packages in a state where
there are no serious problems.

Here are a few points you may want to consider.

1/ Up until very recently I tried to mimic a few S functions in R. I
have just converted to mimicking the R conventions in S and I find it
works much better. To do this I have S functions for a few things like
is.R(), Platform(), Sys.info(). This works better, in part because the
cross platform issues are very well thought out in R. (But to be fair,
in S I only try to make it work in Unix and I have not been changing
versions.) I will distribute these functions, but it would make sense to
have a common effort if others are interested.

2/ In the few cases where I need a slightly different definition of
something for S, I keep the functions in an S subdirectory in the R
package structure. I source these first when I build the S version, and
then I use is.R() to avoid redefining them when I source code from the R
subdirectory.

3/ If there is a logical way to divide things up into multiple packages
(and perhaps put them together into a bundle) then it is a good idea. It
is much quicker to build and test changes this way. (At least once you
get the dependencies worked out.)

4/ I keep fortran code in the R package src directory and my Splus
install script compiles it there. For R/S code I essentially build an R
like package for Splus and then have an install script that sources
things from the S and R subdirectories to generate .Data.

Best of luck with your effort, and let me know if you would like my
Makefile or any of my scripts or other code.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Thu Apr  5 20:30:11 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Thu, 5 Apr 2001 21:30:11 +0200
Subject: [Rd] Detaching "ctest"
In-Reply-To: <Pine.GSO.4.20.0104031001530.13680-100000@laplace>
References: <15044.46028.686427.367469@mithrandir.hornik.net>
 <Pine.GSO.4.20.0104031001530.13680-100000@laplace>
Message-ID: <15052.51139.270582.27097@mithrandir.hornik.net>

>>>>> Jonathan Rougier writes:

> On Fri, 30 Mar 2001, Kurt Hornik wrote:
>> >>>>> Peter Dalgaard BSA writes:
>> 
>> > ...
>> 
>> >> configure("packages")
>> 
>> > which could do different things depending on whether you were using a
>> > GUI, terminal interface, ESS, or maybe even batch mode. In simple
>> > modes it might simply be based on edit()ing the output of
>> 
>> >   data.frame(package=.packages(all=T),
>> >              load=!is.na(match(.packages(all=T),.packages())))
>> 
>> > - although you might want to distinguish between the usual profile-ish
>> > things (site-level/user-level/directory-level/workspace-specific) too.
>> > With a GUI, you'd likely want something with checkboxes instead.
>> 
>> Nice idea!  Two remarks.
>> 
>> * We might want similar ways of setting `preferences' such as options.
>> [E.g., via something like Emacs M-x customize, or in a GUI style.]
>> 
>> * In any case, as far as I am concerned the real problem is not having a
>> convenient interface but on agreeing on what the choices should be,
>> and how well-educated users or site admins need to be to make the
>> right choices.  E.g., when it comes to setting a default profile for
>> packages, how does the user find out which packages he wants?

> I certainly agree with this last point.  However, the problem is
> lessened if the user can use .Rprofile to tune the set-up.  The
> current arrangement prevents that (or, at least, makes it rather
> inelegant) by using .First to load ctest (and, in the future, other
> mandatory packages?).  It seems to me that in an ideal world .Rprofile
> would be the very last thing invoked before the prompt.  That way
> whatever set-up is put in place by the system administrator or the
> default, the individual user still has control.

But this is exactly what happens---settings from .Rprofile do override
the system and site defaults.  The question is whether .First should be
used for package setup, or something else ...

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kohnicho@comp.nus.edu.sg  Fri Apr  6 09:13:57 2001
From: kohnicho@comp.nus.edu.sg (Nicholas Lewin-Koh)
Date: Fri, 6 Apr 2001 16:13:57 +0800 (GMT-8)
Subject: [Rd] Pointers to external objects
In-Reply-To: <15052.51139.270582.27097@mithrandir.hornik.net>
Message-ID: <Pine.GSO.4.21.0104061555280.8991-100000@sununx.comp.nus.edu.sg>

Hi,
I am starting to work on some data structures (quad trees, bounding box
trees etc.) I would like to build these structures in C, and essentially
have a new primative data type accessible that is persistant through an R
session and can be written and retrived from .RData .

I think this is possible from my reading of the documentation, but I am
not exactly sure how to do it. In the R lang manual in section 2 objects
there is a mention of typeof returning externalptr I think this is what i
want. Let me try to be a bit more specific because i am getting confused
too.

> kdtree<-build.tree(x,y,...) # two vectors of x and y coordinates 
                              # kdtree is a list of class tree and
                              # contains a pointer to the actual tree
                              # stucture
> objects.in.range(kdtree,xmin,xmax,ymin,ymax) # returns a list of 
                                               # external pointers to the
                                               # data with x,y in the
                                               # given range 
> q() # quit the R session, but if the user saves the session then kdtree
      # is saved and can be recovered when the user restarts R

I know I could do this using lists, but I am trying to keep the memory
overhead down.

Thanks,
Nicholas  



                 CH3
                  |
                  N             Nicholas Lewin-Koh
                 / \            Dept of Statistics
           N----C   C==O        Program in Ecology and Evolutionary Biology
          ||   ||   |           Iowa State University
          ||   ||   |           Ames, IA 50011
          CH    C   N--CH3      http://www.public.iastate.edu/~nlewin
            \  / \ /            nlewin@iastate.edu
             N    C
             |   ||             Currently
            CH3   O             Graphics Lab
                                School of Computing
                                National University of Singapore
     The Real Part of Coffee    kohnicho@comp.nus.edu.sg


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@stat.umn.edu  Fri Apr  6 13:06:33 2001
From: luke@stat.umn.edu (Luke Tierney)
Date: Fri, 6 Apr 2001 07:06:33 -0500 (CDT)
Subject: [Rd] Pointers to external objects
In-Reply-To: <Pine.GSO.4.21.0104061555280.8991-100000@sununx.comp.nus.edu.sg>
 from Nicholas Lewin-Koh at "Apr 6, 2001 04:13:57 pm"
Message-ID: <200104061206.f36C6XD75674@muskrat.stat.umn.edu>

Nicholas Lewin-Koh wrote:
> Hi,
> I am starting to work on some data structures (quad trees, bounding box
> trees etc.) I would like to build these structures in C, and essentially
> have a new primative data type accessible that is persistant through an R
> session and can be written and retrived from .RData .
> 
> I think this is possible from my reading of the documentation, but I am
> not exactly sure how to do it. In the R lang manual in section 2 objects
> there is a mention of typeof returning externalptr I think this is what i
> want. Let me try to be a bit more specific because i am getting confused
> too.
> 
> > kdtree<-build.tree(x,y,...) # two vectors of x and y coordinates 
>                               # kdtree is a list of class tree and
>                               # contains a pointer to the actual tree
>                               # stucture
> > objects.in.range(kdtree,xmin,xmax,ymin,ymax) # returns a list of 
>                                                # external pointers to the
>                                                # data with x,y in the
>                                                # given range 
> > q() # quit the R session, but if the user saves the session then kdtree
>       # is saved and can be recovered when the user restarts R
> 
> I know I could do this using lists, but I am trying to keep the memory
> overhead down.
> 

External pointers can be used to manage lifetimes of externally
allocated data within a single R session.  If an external pointer is
saved its pointer address is saved as NULL (or maybe it isn't saved at
all--I forget) but restoring an external pointer from a saved
workspace will produce an external pointer with NULL for its pointer
address.  The reason for this is that there is no automatic way to
save or restore the appropriate memory layout that the pointer refers
to.

Ideally to support this sort of thing we would need a customizable
serialization (or pickling/unpickling so use the Python terms)
mechanism, but that isn't available now.

For now, your best bet is probably to do somehting like

    build.tree(x,y,...) returns list(data=list(x,y,...), internal=<externptr>)

to save in your object enough R data to allow the internal structure
to be rebuilt, and in the C code that uses the external pointer make
sure the pointer address is valid with something like

	if (extenal pointer value is NULL) {
           ptr = make new tree from data
           store in external pointer with R_SetExternalPtrAddr 
        }

Saving your R object in a workspace will then save the data needed for
rebuilding the internal structure in a new session.

You could also use the Protected field in external pointer objects for
saving the data needed for reconstruction.

Hope that helps.

luke

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke@stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kuensch@stat.math.ethz.ch  Fri Apr  6 15:21:29 2001
From: kuensch@stat.math.ethz.ch (kuensch@stat.math.ethz.ch)
Date: Fri, 6 Apr 2001 16:21:29 +0200 (MET DST)
Subject: [Rd] bug in contour() ? (PR#897)
Message-ID: <200104061421.QAA26081@pubhealth.ku.dk>

The following example just "hangs", i.e.
the final contour() does not terminate.

x <- pi*(0.5+((-13):12))/36
w <- 0.377*cos(2*x)*sqrt(abs(cos(2*x)))
v <- c(rep(-1.47,13),rep(1.722,13))*abs(sin(x))^1.5
cr  <- outer(w,w)+outer(v,v)
s <- sqrt(diag(cr))
cr <- cr/outer(s,s)
contour(cr[1:26,26:1],levels=seq(-1,1,0.1),axes=T)




--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = 
 major = 1
 minor = 2.2
 year = 2001
 month = 02
 day = 26
 language = R

Search Path:
 .GlobalEnv, package:ctest, package:SfS, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ligges@statistik.uni-dortmund.de  Fri Apr  6 15:42:10 2001
From: ligges@statistik.uni-dortmund.de (ligges@statistik.uni-dortmund.de)
Date: Fri, 6 Apr 2001 16:42:10 +0200 (MET DST)
Subject: [Rd] bug in contour() ? (PR#897)
Message-ID: <200104061442.QAA27053@pubhealth.ku.dk>

kuensch@stat.math.ethz.ch wrote:
> 
> The following example just "hangs", i.e.
> the final contour() does not terminate.
> 
> x <- pi*(0.5+((-13):12))/36
> w <- 0.377*cos(2*x)*sqrt(abs(cos(2*x)))
> v <- c(rep(-1.47,13),rep(1.722,13))*abs(sin(x))^1.5
> cr  <- outer(w,w)+outer(v,v)
> s <- sqrt(diag(cr))
> cr <- cr/outer(s,s)
> contour(cr[1:26,26:1],levels=seq(-1,1,0.1),axes=T)
> 
> --please do not edit the information below--
> 
> Version:
>  platform = i686-pc-linux-gnu
>  arch = i686
>  os = linux-gnu
>  system = i686, linux-gnu
>  status =
>  major = 1
>  minor = 2.2
>  year = 2001
>  month = 02
>  day = 26
>  language = R


... and R crashes on WinNT 4.0.

Uwe Ligges

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Fri Apr  6 16:03:13 2001
From: bates@stat.wisc.edu (Douglas Bates)
Date: 06 Apr 2001 10:03:13 -0500
Subject: [Rd] Review of R-1.1.1
Message-ID: <6rae5u6pfy.fsf@franz.stat.wisc.edu>

Stephen P. Ellner of Cornell University has reviewed R-1.1.1 in the
April 2001 issue of "Bulletin of the Ecological Society of America"
(vol. 82, no. 2, pp. 127-128).
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Fri Apr  6 16:49:34 2001
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Fri, 6 Apr 2001 08:49:34 -0700 (PDT)
Subject: [Rd] bug in contour() ? (PR#897)
In-Reply-To: <200104061421.QAA26081@pubhealth.ku.dk>
Message-ID: <Pine.A41.4.33.0104060843400.89396-100000@homer01.u.washington.edu>

On Fri, 6 Apr 2001 kuensch@stat.math.ethz.ch wrote:

> The following example just "hangs", i.e.
> the final contour() does not terminate.
>
> x <- pi*(0.5+((-13):12))/36
> w <- 0.377*cos(2*x)*sqrt(abs(cos(2*x)))
> v <- c(rep(-1.47,13),rep(1.722,13))*abs(sin(x))^1.5
> cr  <- outer(w,w)+outer(v,v)
> s <- sqrt(diag(cr))
> cr <- cr/outer(s,s)
> contour(cr[1:26,26:1],levels=seq(-1,1,0.1),axes=T)

It's following a list that ends up being circular (loop of about 10
entries) around plot3d.c:697.

I don't understand the code that sets up the segment database, but
presumably there's a bug there. The loop happens in the same place under
gctorture, so I don't think it's memory management.

	-thomas


> --please do not edit the information below--
>
> Version:
>  platform = i686-pc-linux-gnu
>  arch = i686
>  os = linux-gnu
>  system = i686, linux-gnu
>  status =
>  major = 1
>  minor = 2.2
>  year = 2001
>  month = 02
>  day = 26
>  language = R
>
> Search Path:
>  .GlobalEnv, package:ctest, package:SfS, Autoloads, package:base
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

Thomas Lumley			Asst. Professor, Biostatistics
tlumley@u.washington.edu	University of Washington, Seattle
^^^^^^^^^^^^^^^^^^^^^^^^
 NOTE NEW EMAIL ADDRESS


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Fri Apr  6 20:40:18 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Fri, 6 Apr 2001 21:40:18 +0200
Subject: [Rd] aclocal.m4: R_PROG_F77_CC_COMPAT assumes executables w/o extension (PR#890)
In-Reply-To: <200104020722.JAB25499@pubhealth.ku.dk>
References: <200104020722.JAB25499@pubhealth.ku.dk>
Message-ID: <15054.7074.935714.663518@mithrandir.hornik.net>

>>>>> hoffmann  writes:

> Full_Name: Thomas Hoffmann
> Version: 1.2.2 (and older)
> OS: HP-UX, OS/2
> Submission from: (NULL) (141.30.125.20)


> The test defined in AC_DEFUN([R_PROG_F77_CC_COMPAT] (aclocal.m4:342) produces
> an executable using (in line 393)

> if ${CC-cc} ${LDFLAGS} ${MAIN_LDFLAGS} -o conftest conftest.o \ ....

> This fails on systems that use an extension for executables, which can be
> used via $ac_exeext in configure files. So it should read instead

> if ${CC-cc} ${LDFLAGS} ${MAIN_LDFLAGS} -o conftest$ac_exeext
> conftest.o \ ....

Correct in theory, but is this a problem in practice?  Currently the
configure mechanism is only used on Unix, and I am not aware of a Unix
system which uses an extension for executables ...

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Fri Apr  6 22:21:42 2001
From: p.dalgaard@biostat.ku.dk (p.dalgaard@biostat.ku.dk)
Date: Fri, 6 Apr 2001 23:21:42 +0200 (MET DST)
Subject: [Rd] Re: closing a bug report (PR#781)
Message-ID: <200104062121.XAA28621@pubhealth.ku.dk>

Paul Gilbert <pgilbert@bank-banque-canada.ca> writes:

> Peter
> 
> I'm not sure how to close a bug report. This problem should be fixed in the version
> now loaded on CRAN, although there may be other still to be discovered problems under
> Windows.
> 
> Paul Gilbert
> _____
> * PR# 781 *
> Subject: syskern fails Rcmd check on Windows, gives incorrect information
> From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
> Date: Wed, 20 Dec 2000 11:12:47 +0000 (GMT)
> --Partially fixed by dse_2000.12, but still uses "ls" and gives
> --incorrect information

Mailing to r-bugs with (PR#nnn) in the subject should at least get the
message filed in the right place and cause the PR to be moved to
-fixed next time someone sets out to tidy up the repository.

(I took the liberty of doing just that with this note, hope that it's
not too indiscreet to quote your letter for that purpose.)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pd@pubhealth.ku.dk  Sat Apr  7 06:15:06 2001
From: pd@pubhealth.ku.dk (Peter Dalgaard BSA)
Date: Sat, 7 Apr 2001 07:15:06 +0200
Subject: [Rd] Bug list summary (automatic post)
Message-ID: <200104070515.HAA20784@blueberry.kubism.ku.dk>

=================================================
This is an automated summary of the status of the R-bugs
repository.

Note that this may be neither complete nor perfectly
correct at any given instance: Not all bugs are reported,
and some reported bugs may have been fixed, but the
repository not yet updated.

Some bug fixes are difficult to verify because they pertain
to specific hardware or operating system versions. If you
have information to contribute, please do so.

If you happen to know how to fix a problem please send
patches to the bug repository, too.

New bugs are reported either through the web
interface at r-bugs.r-project.org or via email to
r-bugs@r-project.org. The bug.report() function can be
used to automate parts of the procedure on many systems.
Followups on older bugs can be done by including the string
"(PR#999)" in the Subject of an email (change 999 to the
actual reference number, of course!).
=================================================

Directory:  Accuracy

* PR# 751 *
Subject: BUG: polyroot()
From: "Li Dongfeng" <mavip1@inet.polyu.edu.hk>
Date: Tue, 28 Nov 2000 13:24:33 +0800
--Numerical instability. We may want a better algorithm!

Directory:  Add-ons

* PR# 824 *
Subject: trouble with netCDF 
From: jasont@indigoindustrial.co.nz
Date: Thu, 25 Jan 2001 12:00:39 +1300
--Only on a specific sample file: send to maintainer.
* PR# 496 *
From: bonneau@epi.roazhon.inra.fr (en148)
Date: Tue, 21 Mar 2000 10:57:13 +0100 (MET)
--base R has no est.variogram function.
--This appears to be a bug report on sgeostat.
* PR# 812 *
Subject: segmentation fault in integrate
From: Achim Zeileis <zeileis@ci.tuwien.ac.at>
Date: Thu, 11 Jan 2001 22:49:59 +0100
* PR# 781 *
Subject: syskern fails Rcmd check on Windows, gives incorrect information
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
Date: Wed, 20 Dec 2000 11:12:47 +0000 (GMT)
--Partially fixed by dse_2000.12, but still uses "ls" and gives
--incorrect information

Directory:  Analyses

* PR# 861 *
Subject: histogram of frequencies
From: bernd.winkler@genedata.com
Date: Mon, 5 Mar 2001 15:01:49 +0100 (MET)

Directory:  Documentation

* PR# 856 *
Subject: "}  {" problem in Rd files
From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
Date: Mon, 26 Feb 2001 11:10:01 -0500

Directory:  Graphics

* PR# 865 *
Subject:  axis(...,las=1) breaks postscript code in certain cases 
From: maechler@stat.math.ethz.ch
Date: Wed, 7 Mar 2001 18:08:58 +0100
* PR# 202 *
Subject: persp box occlusion bug
From: wsi@gcal.ac.uk
Date: Wed, 2 Jun 1999 15:02:03 +0200 (MET DST)
--The persp algorithm does not apply the occlusion rules to the frame, 
--which is always plotted first. 
--A bug, but not very simple to fix.
* PR# 776 *
Subject: strwidth does not take font into account
From: Martyn Plummer <plummer@iarc.fr>
Date: Tue, 19 Dec 2000 14:56:01 +0100 (CET)
--This needs a substantial redesign.
* PR# 750 *
Subject: abline() does not obey "xpd" (clipping rules)
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Mon, 27 Nov 2000 18:27:11 +0100
* PR# 660 *
Subject: identify.default ignores any setting of cex.
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
Date: Fri, 15 Sep 2000 10:23:39 +0100 (BST)
* PR# 820 *
Subject: interaction.plot
From: "Mark M. Span" <span@psy.uva.nl>
Date: Mon, 22 Jan 2001 10:47:39 +0100
--mtext is unscaled by default.  It is not clear if this should
--use the par("cex") setting or an inline cex setting such as cex.axis.
--It might make more sense to use axis rather than mtext, as boxplot does.
* PR# 816 *
Subject: dotplot: character size of labels
From: RINNER Heinrich <H.RINNER@TIROL.GV.AT>
Date: Thu, 18 Jan 2001 14:54:32 +0100
--Suggested fix is incorporated in 1.2.2.
--
--There is a deeper problem:  mtext() ignores par(cex=.5) in general.  
--To see the problem try:  par(cex=.5); mtext("hi")
--Paul thinks the right fix is to change the argument list for mtext so that
--cex=par(cex) by default rather than cex=NA by default (plus corresponding
--internal changes to  do_mtext in plot.c).
--This needs to be done very carefully because (i) the change suggested above 
--mayhave side-effects in many other pieces of interpreted code 
--(ii) do_mtext ignores dd->gp.cexbase unlike, for example, do_plot_xy 
--and anything to do with cexbase needs extreme care.
* PR# 791 *
Subject:  par(lab= *) / axis(*) bug 
From: maechler@stat.math.ethz.ch
Date: Fri, 22 Dec 2000 10:59:26 +0100
* PR# 830 *
Subject: Disappearing x axis in plot.factor
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 30 Jan 2001 00:27:13 -0500
* PR# 828 *
Subject: termplot fails for composite non-factor terms
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sat, 27 Jan 2001 11:57:37 +1100 (EST)
--Neither of the proposed changes actually works in sufficient generality.
--
--The easy and unimportant part of this, the labels, is fixed in 1.2.2. Getting
--the data right is a project for 1.3
* PR# 857 *
Subject: Plotting points on a filled.contour plot
From: marchini@stats.ox.ac.uk
Date: Tue, 27 Feb 2001 10:00:30 +0100 (MET)
--This needs at least to be documented, and preferably par("usr")
--set to the coordinate system of the plotting region after use.
* PR# 837 *
Subject: screen doesn't handle redrawing properly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 01 Feb 2001 14:20:52 -0500
* PR# 831 *
Subject: screen can't go back to (split) screen with log="y" plot
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 30 Jan 2001 00:39:41 -0500

Directory:  In-Out

none

Directory:  Installation

none

Directory:  Language

* PR# 879 *
From: Duncan Murdoch <murdoch@stats.uwo.ca>
Date: Sun, 18 Mar 2001 07:45:13 -0500 (EST)
--precedence of %% appears to be not as documented
* PR# 408 *
Subject: convolution bug
From: wsimpson@gcal.ac.uk
Date: Fri, 28 Jan 2000 11:17:36 +0100 (MET)
* PR# 669 *
Subject: Bug(s) w/ rbind.data.frame(); fix also read.table(*, as.is = TRUE) ?
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Mon, 25 Sep 2000 10:17:15 +0200
--status of AsIs columns
* PR# 412 *
Subject: anomalies with call objects
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 06 Feb 2000 01:18:50 +0100
* PR# 869 *
Subject:  inconsistent results when calling functions with other func
From: "White, Paul" <Paul.White@dsto.defence.gov.au>
Date: Thu, 8 Mar 2001 18:26:35 +1100 
* PR# 813 *
Subject: match.call problem
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 12 Jan 2001 17:46:15 +0100

Directory:  Low-level

* PR# 505 *
Subject: interrupted save 
From: Thomas Lumley <thomas@biostat.washington.edu>
Date: Sat, 25 Mar 2000 12:16:50 -0800 (PST)

Directory:  Misc

* PR# 875 *
Subject: Re: [R] Bug in qchisq?
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 10 Mar 2001 02:26:11 +0100

Directory:  Models

* PR# 862 *
Subject: Wrong sign for Pearson residuals
From: faraway@umich.edu
Date: Mon, 5 Mar 2001 18:04:34 +0100 (MET)

Directory:  Startup

* PR# 486 *
Subject: Re: autoload error in profile {was anova-bug in R-version  1.0.0?}
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Tue, 14 Mar 2000 10:32:43 +0100 (MET)
--workaround to the origin problem in 1.0.1
--New report: try does not work from the profile.

Directory:  System-specific

* PR# 863 *
Subject: src/main/arithmetic.c on OpenBSD
From: ian@darwinsys.com (Ian Darwin)
Date: Tue,  6 Mar 2001 19:49:53 -0500 (EST)
* PR# 851 *
Subject: Comments on R-1.2.1 builds
From: "Nelson H. F. Beebe" <beebe@math.utah.edu>
Date: Fri, 16 Feb 2001 17:44:17 -0700 (MST)
--These are only warnings: some have been eliminated for 1.2.2.
--Some are about constructs needed to satisfy other compilers.
--
--Also: configure problem with g77 on SGI.
* PR# 848 *
Subject: X11 device doesn't handle destroy events correcly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 13 Feb 2001 17:40:46 -0500

Directory:  TooMuchAtOnce

* PR# 811 *
Subject: problem with strptime example (and mention of bug.report)
From: Stephen Eglen <stephen@anc.ed.ac.uk>
Date: Thu, 11 Jan 2001 19:18:39 GMT
--1) On OSF4, strptime is deficient. Nothing we can do.
--
--2) On Windows NT, the strptime problems are (i) German locale, English dates,
--(ii) Windows system errors with unknown DST (it move times to DST).
--(i) now has another warning in the help file (there already was one).
--(ii) was already worked around for 1.2.1.
--
--3) bug.report() uses a mailer option that does not exist on OSF4.

Directory:  Windows

none

Directory:  incoming

* PR# 897 *
Subject:  bug in contour() ? 
From: kuensch@stat.math.ethz.ch
Date: Fri, 6 Apr 2001 16:21:24 +0200
* PR# 883 *
Subject: cor(x,y) when is.null(y)
From: "Charles C. Berry" <cberry@tajo.ucsd.edu>
Date: Fri, 23 Mar 2001 11:38:05 -0800 (PST)
* PR# 877 *
Subject: segmentation fault of unknown cause
From: Martin Schlather <Martin.Schlather@uni-bayreuth.de>
Date: Wed, 14 Mar 2001 17:45:25 +0100
* PR# 885 *
Subject: Problems with R CMD COMPILE within Makefile
From: Peter Holzer <holzer@stat.math.ethz.ch>
Date: Mon, 26 Mar 2001 15:32:00 +0200
* PR# 884 *
* PR# 887 *
Subject: axis(adj=anything) has no effect
From: jhallman@frb.gov
Date: Wed, 28 Mar 2001 20:51:05 +0200 (MET DST)
* PR# 886 *
Subject: Error (?) in documentation of 'swiss' data in R base package
From: k.j.mcconway@open.ac.uk
Date: Wed, 28 Mar 2001 16:46:49 +0200 (MET DST)
* PR# 889 *
Subject: na.omit()
From: devoilp@dpi.qld.gov.au
Date: Mon, 2 Apr 2001 03:17:20 +0200 (MET DST)
* PR# 888 *
Subject: User defined assignment function ignores argument names
From: jhallman@frb.gov
Date: Fri, 30 Mar 2001 23:03:08 +0200 (MET DST)
* PR# 891 *
Subject: Importing from Splus
From: ernesto@ipimar.pt
Date: Tue, 3 Apr 2001 17:03:06 +0200 (MET DST)
* PR# 890 *
Subject: aclocal.m4: R_PROG_F77_CC_COMPAT assumes executables w/o extension
From: hoffmann@ehmgs2.et.tu-dresden.de
Date: Mon, 2 Apr 2001 09:22:28 +0200 (MET DST)
* PR# 893 *
Subject: ghhfh
From: gfhjgq@yahoo.com
Date: Wed, 4 Apr 2001 12:12:02 +0200 (MET DST)
* PR# 892 *
Subject: rle() fails with NA's
From: jhallman@frb.gov
Date: Tue, 3 Apr 2001 21:52:44 +0200 (MET DST)
* PR# 896 *
Subject: Optimize: difference between R for Linux and Windows
From: "Marketa Kylouskova" <Marketa.Kylouskova@euromise.cz>
Date: 5 Apr 2001 12:30:29 +0100
* PR# 895 *
Subject: CI for wilcoxon test
From: kylouskova@euromise.cz
Date: Thu, 5 Apr 2001 11:02:47 +0200 (MET DST)
* PR# 894 *
Subject: ghhfh
From: gfhjgq@yahoo.com
Date: Wed, 4 Apr 2001 12:12:12 +0200 (MET DST)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sat Apr  7 09:04:49 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 7 Apr 2001 10:04:49 +0200 (MET DST)
Subject: [Rd] Re: closing a bug report (PR#781)
Message-ID: <200104070804.KAA29793@pubhealth.ku.dk>

I can confirm this bug has been solved, by the expedient of removing the
incorrect functions!

I think the simplest way to get a bug closed is to send the correction to
the original reporter for confirmation, then as Peter suggests send a
follow-up to R-bugs.

On Fri, 6 Apr 2001 p.dalgaard@biostat.ku.dk wrote:

> Paul Gilbert <pgilbert@bank-banque-canada.ca> writes:
>
> > Peter
> >
> > I'm not sure how to close a bug report. This problem should be fixed in the version
> > now loaded on CRAN, although there may be other still to be discovered problems under
> > Windows.
> >
> > Paul Gilbert
> > _____
> > * PR# 781 *
> > Subject: syskern fails Rcmd check on Windows, gives incorrect information
> > From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
> > Date: Wed, 20 Dec 2000 11:12:47 +0000 (GMT)
> > --Partially fixed by dse_2000.12, but still uses "ls" and gives
> > --incorrect information
>
> Mailing to r-bugs with (PR#nnn) in the subject should at least get the
> message filed in the right place and cause the PR to be moved to
> -fixed next time someone sets out to tidy up the repository.
>
> (I took the liberty of doing just that with this note, hope that it's
> not too indiscreet to quote your letter for that purpose.)
>
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Sat Apr  7 16:07:29 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Sat, 7 Apr 2001 17:07:29 +0200
Subject: [Rd] rle() fails with NA's (PR#892)
In-Reply-To: <200104031952.VAA19642@pubhealth.ku.dk>
References: <200104031952.VAA19642@pubhealth.ku.dk>
Message-ID: <15055.11569.324300.836330@mithrandir.hornik.net>

>>>>> jhallman  writes:

> Full_Name: Jeff Hallman
> Version: 1.2.2
> OS: Solaris
> Submission from: (NULL) (132.200.32.33)


>> rle(c(1, NA, 1)
> $lengths
> [1] 3

> $values
> [1] 1

> should be as in Splus:

> $lengths
> [1] 1 1 1

> $values
> [1] 1 NA 1

> The Splus implementation (which works fine in R) is:

> rle <- function(x){
>  if(!is.atomic(x))
>     stop("Argument must have an atomic mode")
>   if(length(x) == 0)
>     return(list(lengths = numeric(0), values = x))
>   if(length(x) == 1)
>     return(list(lengths = 1, values = x))
>   x.int <- match(x, unique(x))
>   ends <- c(diff(x.int) != 0, T)
>   list(lengths = diff(c(0, seq(along = x)[ends])), values = x[ends])
> }

Thanks for pointing out the problem.

I've committed a fix for 1.2.3, but I don't think that the Splus
implementation is right: when a sequence of NAs occurs, it is treated as
one value, which does not make too much sense to me.  The new R version
treats each NA separately.  (Could be changed of course to mimic the
Splus behavior.)

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Sat Apr  7 16:18:47 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Sat, 7 Apr 2001 17:18:47 +0200
Subject: [Rd] Comments on R-1.2.1 builds (PR#851)
In-Reply-To: <15046.16468.885425.640832@mithrandir.hornik.net>
References: <200102170044.BAA19310@pubhealth.ku.dk>
 <14990.35273.167526.4092@mithrandir.hornik.net>
 <15046.16468.885425.640832@mithrandir.hornik.net>
Message-ID: <15055.12247.886742.317305@mithrandir.hornik.net>

>>>>> Kurt Hornik writes:

>>>>> Kurt Hornik writes:
>>>>> beebe  writes:
>>> The R-1.2.1 builds have gone fairly smoothly on most of my UNIX
>>> architectures, but there were many warnings reported by the picky SGI
>>> compiler that could be eliminated in future releases.

>>> Generally, I have found the SGI compilers very helpful in ferreting
>>> out portability problems, unused and/or obsolete variables, unexpected
>>> datatype coercions, etc., and they compile faster than any other
>>> compilers too.

>>> First, I configured like this:

>>> env CC='c89 -mips3 -O3' ./configure && make all

>>> This reports:

>>> R is now configured for mips-sgi-irix6.5

>>> Source directory:          .
>>> Installation directory:    /usr/local
>>> C compiler:                c89 -mips3 -O3  -OPT:IEEE_NaN_inf=ON -g
>>> C++ compiler:              c++  -g -O2
>>> FORTRAN compiler:          g77  -OPT:IEEE_NaN_inf=ON -g -O2

>>> X11 support:               yes
>>> Gnome support:             no
>>> Tcl/Tk support:            yes

>>> R profiling support:       yes
>>> R as a shared library:     no

>>> The build proceeds until this failure:

>>> g77 -OPT:IEEE_NaN_inf=ON  -g -O2 -c ch2inv.f -o ch2inv.o
>>> f771: Invalid option `-OPT:IEEE_NaN_inf=ON'
>>> make[3]: *** [ch2inv.o] Error 1

>>> Evidently, it was not prepared for the GNU Fortran compiler.

>> Yep, that is a bug.  I need some feedback for fixing this, though.  The
>> current logic is to run the autoconf R_C_OPTIEEE test if the platform is
>> IRIX.  The test itself tries to compile and run

>> #include <math.h>
>> #include <ieeefp.h>
>> int main () {
>> double x = 0;
>> fpsetmask(0); x = x / x; return (x != x);
>> }

>> and if that works adds -OPT:IEEE_NaN_inf=ON to both R_XTRA_CFLAGS and
>> R_XTRA_FFLAGS.

>> This obviously does not make sense for FORTRAN, and should be made more
>> defensive for C.

>> * For C, one should additionally test whether the compiler accepts this
>> flag.  I assume gcc would not, so should we do

>> if_not_using_gcc  check_arg("-OPT:IEEE_NaN_inf=ON")

>> * For FORTRAN, I am not sure whether the result of the above test has
>> any relevance.  Question is, do we have a FORTRAN test program similar
>> to the above to determine whether the flag is needed?  Again, we
>> should also check whether the compiler accepts the flag ...

>> * Or should we simply unconditionally add the flag for ``native'', i.e.,
>> non-GNU compilers?

>> (Sorry but I do not have access to SGIs ...)

> I would like to fix this for 1.2.3, so it would be great if anyone
> with access to IRIX could comment ... Personally, I'd prefer the last
> idea if this is feasible.

No reply, unfortunately.  As I do not have access to SGI systems, I have
unconditionally removed adding `-OPT:IEEE_NaN_inf=ON' to R_XTRA_FFLAGS.
No idea whether this breaks make check on SGI systems with a native
FORTRAN compiler, perhaps someone could check eventually.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bellis@hsph.harvard.edu  Sat Apr  7 22:32:52 2001
From: bellis@hsph.harvard.edu (bellis@hsph.harvard.edu)
Date: Sat, 7 Apr 2001 23:32:52 +0200 (MET DST)
Subject: [Rd] silent extern error (PR#898)
Message-ID: <200104072132.XAA01726@pubhealth.ku.dk>

Full_Name: Byron Ellis
Version: 1.2.2
OS: all
Submission from: (NULL) (140.247.105.95)


R_ext/Arith.h

#ifdef MAIN
#define extern
#endif
#ifdef __cplusplus
extern "C" {
#endif

these two should be reversed. Its never a problem because builds aren't done
against C++ compilers, but its still an error (just a low priority one).

also, you could change that to

#ifdef __cplusplus
extern "C" {
#endif
#ifdef __MAIN__
#define extern
#elif _MSC_VER
#define extern __dllspec(dllimport)
#endif

with the corresponding change to the #undef region. This would allow people to
develop for R using MSVC++ more easily.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Sat Apr  7 22:56:53 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt.Hornik@ci.tuwien.ac.at)
Date: Sat, 7 Apr 2001 23:56:53 +0200 (MET DST)
Subject: [Rd] documentation problems in str.Rd (PR#899)
Message-ID: <200104072156.XAA01845@pubhealth.ku.dk>

File `src/library/base/man/str.Rd' shows the usage

  ls.str(name, pattern, mode = "any", max.level = 1, give.attr = FALSE)

whereas the code for ls.str() really has

  function (..., mode = "any", max.level = 1, give.attr = FALSE)

where the `...' is passed to ls().

The usage indicates `pattern' as a positional argument, which it is not.
Hence, e.g.
  ls.str("package:base", "^a")
will not work as documented.

I think one needs to document the `...' structure and say that the ...
args are passed on to ls().

Also, currently arguments `name', `pattern' and `mode' to ls.str() and
argument `...' to lsf.str() and the str* functions are not documented.

--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = Patched
 major = 1
 minor = 2.2
 year = 2001
 month = 04
 day = 07
 language = R

Search Path:
 .GlobalEnv, package:kh, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Apr  8 06:54:10 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 8 Apr 2001 07:54:10 +0200 (MET DST)
Subject: [Rd] silent extern error (PR#898)
Message-ID: <200104080554.HAA02393@pubhealth.ku.dk>

On Sat, 7 Apr 2001 bellis@hsph.harvard.edu wrote:

> Full_Name: Byron Ellis
> Version: 1.2.2
> OS: all
> Submission from: (NULL) (140.247.105.95)
>
>
> R_ext/Arith.h
>
> #ifdef MAIN
> #define extern
> #endif
> #ifdef __cplusplus
> extern "C" {
> #endif
>
> these two should be reversed. Its never a problem because builds aren't done
> against C++ compilers, but its still an error (just a low priority one).

Sorry, but as __MAIN__ (not MAIN) is only defined in one C module internal
to R, why is it an error?  It would be an error if there ever was an
intention that module was to be in C++, but there is not.  The #ifdef
__cplusplus constructs are only there to allow the header files to be used
in C++ addons, and defining __MAIN__ is *not* part of the API.

In short, those two #ifdef's are mutually exclusive, so their order is
immaterial.  How can one order be an error?


> also, you could change that to
>
> #ifdef __cplusplus
> extern "C" {
> #endif
> #ifdef __MAIN__
> #define extern
> #elif _MSC_VER
> #define extern __dllspec(dllimport)
> #endif
>
> with the corresponding change to the #undef region. This would allow people to
> develop for R using MSVC++ more easily.

However, *that* would be an error.  _MSC_VER may well be defined during the
actual compilation of R, and __MAIN__ is only defined in the compilation of
main.c.  So compilation would fail under VC++ (and other compilers which
define _MSC_VER).

(It is also possible for _MSC_VER to be defined but not have a value, so is
the test what you really meant?)

If we intended to make compilation for other C compilers easier we would
need to add lines like that to lots of the header files, and for more than
one compiler system.  However, we don't particularly want to make the use
of Arith.h under VC++ easier, as VC++ does not handle IEEE arithmetic
correctly!   In short, using Arith.h in addons compiled with VC++ is
likely to give incorrect results.

(We know from past experience that R can be compiled with VC++ (6.0sp3, to
be precise) but then fails make check, giving incorrect results in the
arithmetic tests and elsewhere.)

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bellis@hsph.harvard.edu  Sun Apr  8 07:48:24 2001
From: bellis@hsph.harvard.edu (bellis@hsph.harvard.edu)
Date: Sun, 8 Apr 2001 08:48:24 +0200 (MET DST)
Subject: [Rd] silent extern error (PR#898)
Message-ID: <200104080648.IAA02492@pubhealth.ku.dk>

On Sun, 8 Apr 2001, Prof Brian D Ripley wrote:

> On Sat, 7 Apr 2001 bellis@hsph.harvard.edu wrote:
> 
> > Full_Name: Byron Ellis
> > Version: 1.2.2
> > OS: all
> > Submission from: (NULL) (140.247.105.95)
> >
> >
> > R_ext/Arith.h
> >
> > #ifdef MAIN
> > #define extern
> > #endif
> > #ifdef __cplusplus
> > extern "C" {
> > #endif
> >
> > these two should be reversed. Its never a problem because builds aren't done
> > against C++ compilers, but its still an error (just a low priority one).
> 
> Sorry, but as __MAIN__ (not MAIN) is only defined in one C module internal
> to R, why is it an error?  It would be an error if there ever was an
> intention that module was to be in C++, but there is not.  The #ifdef
> __cplusplus constructs are only there to allow the header files to be used
> in C++ addons, and defining __MAIN__ is *not* part of the API.
> 
> In short, those two #ifdef's are mutually exclusive, so their order is
> immaterial.  How can one order be an error?

Okay, then it was a simple misunderstanding on my part in the event that
you will never attempt to compile R under a compiler in C++ mode and you
don't have to worry about it any more.


> 
> 
> > also, you could change that to
> >
> > #ifdef __cplusplus
> > extern "C" {
> > #endif
> > #ifdef __MAIN__
> > #define extern
> > #elif _MSC_VER
> > #define extern __dllspec(dllimport)
> > #endif
> >
> > with the corresponding change to the #undef region. This would allow people to
> > develop for R using MSVC++ more easily.
> 
> However, *that* would be an error.  _MSC_VER may well be defined during the
> actual compilation of R, and __MAIN__ is only defined in the compilation of
> main.c.  So compilation would fail under VC++ (and other compilers which
> define _MSC_VER).
> 
> (It is also possible for _MSC_VER to be defined but not have a value, so is
> the test what you really meant?)

I personally can't think of a VC++ compiler I've used where _MSC_VER is
defined but __declspec(dllimport) is unavailable, except maybe VC++ 1.5
where its been such a long time I can't recall. (Of course, VC++ 1.5
doesn't even RUN under Win2K let alone compile anything :-)) If suppose
you could change it to something like #if _MSC_VER >= 1100 if there is
such a compiler and that would work as well.


> 
> If we intended to make compilation for other C compilers easier we would
> need to add lines like that to lots of the header files, and for more than
> one compiler system.  However, we don't particularly want to make the use
> of Arith.h under VC++ easier, as VC++ does not handle IEEE arithmetic
> correctly!   In short, using Arith.h in addons compiled with VC++ is
> likely to give incorrect results.

Welp, just the two (and putting it above the __cplusplus def) in
R_ext/Arith.h and Rinternals.h. If you also toss a __cplusplus statement
after the #include's in Rinternals.h it also works in C++ mode (which is
missing things like that nasty sizeof() bug). 

> 
> (We know from past experience that R can be compiled with VC++ (6.0sp3, to
> be precise) but then fails make check, giving incorrect results in the
> arithmetic tests and elsewhere.)

Yes, fortunately I'm not using the IEEE arith code--- I'm actually writing
non-numerical support libraries and GUI embedding code. I mostly just like
to do my development using VC++ (probably because I'm getting lazy, but
whatever). Out of curiosity has this been tested with SP4 or 7beta?

> 
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 


Byron Ellis (bellis@hsph.harvard.edu)




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Sun Apr  8 15:34:26 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Sun, 8 Apr 2001 16:34:26 +0200
Subject: [Rd] Problems with R CMD COMPILE within Makefile (PR#885)
In-Reply-To: <200103261332.PAA25104@pubhealth.ku.dk>
References: <200103261332.PAA25104@pubhealth.ku.dk>
Message-ID: <15056.30450.212534.90422@mithrandir.hornik.net>

>>>>> holzer  writes:

> Dear R-developpers

> This concerns a problem I posted about half a year ago on the R-help
> list and to which I got some answer by Duncan Temple Lang (see below),
> but the basic problem still continues. Even though I managed a
> workaround which is sufficient for me Martin Maechler asked me to send
> a toy example of the problem to R-bugs. So that's what I try here.

> The following Makefile will not work:
> ----------------------------------------
> .PHONY: tst.o

> tst.o: tst.c
> 	R CMD COMPILE tst.c
> ----------------------------------------

> ...

I am not sure this is a bug: R CMD COMPILE is not documented to work
when called from inside a Makefile.

Currently, R CMD COMPILE calls Make based on information in

	Makevars		if this exists
	R_HOME/etc/Makeconf
	Makefile		if this exists

Conversely, R CMD SHLIB only uses Makevars but not Makefile.

As R CMD COMPILE is not documented to use a Makefile in the local dir, I
would propose to fix the problem by eliminating

	if test -r Makefile; then
	  makefiles="${makefiles} -f Makefile"
	fi

from the COMPILE script.

There is a more general problem, though.  We read Makevars before the
default configuration from R_HOME/etc/Makeconf.  This is to ensure that
the PKG_* variables are set when the ALL_* variables are expanded.  But
unfortunately this has the effect that global settings override the
local ones.  Is it safe to assume that we can reverse the order with all
versions of Make around?

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Sun Apr  8 15:16:44 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Sun, 8 Apr 2001 16:16:44 +0200
Subject: [Rd] CI for wilcoxon test (PR#895)
In-Reply-To: <200104050902.LAA07697@pubhealth.ku.dk>
References: <200104050902.LAA07697@pubhealth.ku.dk>
Message-ID: <15056.29388.963897.379866@mithrandir.hornik.net>

>>>>> kylouskova  writes:

> Full_Name: Marketa Kylouskova
> Version: 1.2.1
> OS: Windows
> Submission from: (NULL) (147.231.7.2)


> Hi,

> 	I believe there is a bug in the extension of wilcox.test, namely
> in determination of confidence intervals. I concentrated on the
> two-sample test only. I examined and tested its performance on this
> working data set:

> ...

> which is apparently contradictory (p-value is much less than 0.05
> while exact CI contains 0). I examined the code and I found that while
> the exact wilcoxon test is applied on ranks of x (thus testing that mu
> = x  y is greater than 0), the exact CI is computed based on
> differences y - x, hence finding a CI for mu = y  x). The same
> applies, in my opinion, to approximative CI, where he optimization
> interval is set as (mumin,mumax) with

> ...

Thanks for pointing this out.  The confidence interval was for the
difference in locations of y and x and should have been the other way
round.  Fixed now.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Mon Apr  9 07:37:49 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Mon, 9 Apr 2001 08:37:49 +0200
Subject: [Rd] extratests (wishlist item)
In-Reply-To: <3AC9D6C5.28965243@bank-banque-canada.ca>
References: <3AC9D6C5.28965243@bank-banque-canada.ca>
Message-ID: <15057.22717.101969.168503@mithrandir.hornik.net>

>>>>> Paul Gilbert writes:

> I have now reorganized most of my tests into the tests subdirectories
> of my packages and I do like the R CMD check mechanism for running
> them. However, I have a certain number of tests which I can only run
> on certain machines (e.g. because of memory requirements or special
> database requirements), or just take too long to run regularly. I have
> organized these into an artificial separate package. It would make
> more sense to keep these with the packages to which they belong. Would
> it be possible sometime to add a subdirectory of extra tests which can
> be run with the same mechanism as the tests subdirectory but not as a
> regular part of R CMD check?

Paul,

I think you could have a configure script which determines the platform
you are on, sets variables

	test-src-1
	test-src-auto

accordingly, and saves them in tests/Makevars by substituting from
tests/Makevars.in.  (Sorry if this most likely only works on Unix.)

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.C.Rougier@durham.ac.uk  Mon Apr  9 09:32:28 2001
From: J.C.Rougier@durham.ac.uk (Jonathan Rougier)
Date: Mon, 9 Apr 2001 09:32:28 +0100 (BST)
Subject: [Rd] Detaching "ctest"
In-Reply-To: <15052.51139.270582.27097@mithrandir.hornik.net>
Message-ID: <Pine.GSO.4.20.0104090928480.13680-100000@laplace>

On Thu, 5 Apr 2001, Kurt Hornik wrote:

> >>>>> Jonathan Rougier writes:

> > I certainly agree with this last point.  However, the problem is
> > lessened if the user can use .Rprofile to tune the set-up.  The
> > current arrangement prevents that (or, at least, makes it rather
> > inelegant) by using .First to load ctest (and, in the future, other
> > mandatory packages?).  It seems to me that in an ideal world .Rprofile
> > would be the very last thing invoked before the prompt.  That way
> > whatever set-up is put in place by the system administrator or the
> > default, the individual user still has control.
> 
> But this is exactly what happens---settings from .Rprofile do override
> the system and site defaults.  The question is whether .First should be
> used for package setup, or something else ...

OK! if you put it like that, then I think that .First should definitely
*not* be used for package set-up, as it prevents .Rprofile commands from
being the last things executed before the prompt, and thus removes
"complete user control" of the set-up.

Cheers, Jonathan.

Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Mon Apr  9 13:54:26 2001
From: dmurdoch@pair.com (dmurdoch@pair.com)
Date: Mon, 9 Apr 2001 14:54:26 +0200 (MET DST)
Subject: [Rd] Bug in help for profile; more general problem? (PR#900)
Message-ID: <200104091254.OAA10924@pubhealth.ku.dk>

The help topic for "profile" has a link to profile.glm in MASS which
doesn't work in the HTML help.  The problem is that there is no
profile.glm.html file, profile.glm is just an alias for the confint
help topic.

It would be nice if there were a general solution to this problem
(i.e. the system knew how to work with aliases), but it doesn't look
easy:  profile.html is in base, and may well be produced with no copy
of MASS around for reference.  

A short term fix would be to change the link in profile.Rd to
\link[MASS:confint]{profile.glm}, or to add a profile.glm help topic
to MASS.




--please do not edit the information below--

Version:
 platform = i386-pc-mingw32
 arch = x86
 os = Win32
 system = x86, Win32
 status = 
 major = 1
 minor = 2.2
 year = 2001
 month = 02
 day = 26
 language = R

Windows 9x 4.0 (build 1111)  B

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Mon Apr  9 13:46:43 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Mon, 9 Apr 2001 14:46:43 +0200
Subject: [Rd] Detaching "ctest"
In-Reply-To: <Pine.GSO.4.20.0104090928480.13680-100000@laplace>
References: <15052.51139.270582.27097@mithrandir.hornik.net>
 <Pine.GSO.4.20.0104090928480.13680-100000@laplace>
Message-ID: <15057.44851.453347.367801@mithrandir.hornik.net>

>>>>> Jonathan Rougier writes:

> On Thu, 5 Apr 2001, Kurt Hornik wrote:
>> >>>>> Jonathan Rougier writes:

>> > I certainly agree with this last point.  However, the problem is
>> > lessened if the user can use .Rprofile to tune the set-up.  The
>> > current arrangement prevents that (or, at least, makes it rather
>> > inelegant) by using .First to load ctest (and, in the future, other
>> > mandatory packages?).  It seems to me that in an ideal world .Rprofile
>> > would be the very last thing invoked before the prompt.  That way
>> > whatever set-up is put in place by the system administrator or the
>> > default, the individual user still has control.
>> 
>> But this is exactly what happens---settings from .Rprofile do override
>> the system and site defaults.  The question is whether .First should be
>> used for package setup, or something else ...

> OK! if you put it like that, then I think that .First should definitely
> *not* be used for package set-up, as it prevents .Rprofile commands from
> being the last things executed before the prompt, and thus removes
> "complete user control" of the set-up.

Not sure if I understand this.

Upon startup,

   * Then, unless `--no-init-file' was given, R searches for a file
     called `.Rprofile' in the current directory or in the user's home
     directory (in that order) and sources it.

   * It also loads a saved image from `.RData' if there is one (unless
     `--no-restore' or `--no-restore-data' was specified).

   * Finally, if a function `.First' exists, it is executed.  This
     function (as well as `.Last' which is executed at the end of the R
     session) can be defined in the appropriate startup profiles, or
     reside in `.RData'.

as per R-intro, so the user has perfect control over what happens by
providing a suitable .First in e.g. his ~/.Rprofile.

???

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Apr  9 14:05:54 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 9 Apr 2001 14:05:54 +0100 (BST)
Subject: [Rd] Bug in help for profile; more general problem? (PR#900)
In-Reply-To: <200104091254.OAA10924@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.31.0104091357490.1229-100000@gannet.stats>

On Mon, 9 Apr 2001 dmurdoch@pair.com wrote:

> The help topic for "profile" has a link to profile.glm in MASS which
> doesn't work in the HTML help.  The problem is that there is no
> profile.glm.html file, profile.glm is just an alias for the confint
> help topic.
>
> It would be nice if there were a general solution to this problem
> (i.e. the system knew how to work with aliases), but it doesn't look
> easy:  profile.html is in base, and may well be produced with no copy
> of MASS around for reference.
>
> A short term fix would be to change the link in profile.Rd to
> \link[MASS:confint]{profile.glm}, or to add a profile.glm help topic
> to MASS.

That is the fix: the person who changed added the reference did not
check it out.  I've altered it, thank you.

If the requisite packages are installed when the help files are converted
and there is no manual override, then the link will get found.
If not, it gets deferred to the search engine at run time.

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.C.Rougier@durham.ac.uk  Mon Apr  9 14:37:33 2001
From: J.C.Rougier@durham.ac.uk (Jonathan Rougier)
Date: Mon, 9 Apr 2001 14:37:33 +0100 (BST)
Subject: [Rd] Detaching "ctest"
In-Reply-To: <15057.44851.453347.367801@mithrandir.hornik.net>
Message-ID: <Pine.GSO.4.20.0104091419000.13680-100000@laplace>

On Mon, 9 Apr 2001, Kurt Hornik wrote:

> >>>>> Jonathan Rougier writes:

> > OK! if you put it like that, then I think that .First should
> definitely > *not* be used for package set-up, as it prevents
> .Rprofile commands from > being the last things executed before the
> prompt, and thus removes > "complete user control" of the set-up.
> 
> Not sure if I understand this.
> 
> Upon startup,
> 
>    * Then, unless `--no-init-file' was given, R searches for a file
>      called `.Rprofile' in the current directory or in the user's home
>      directory (in that order) and sources it.
> 
>    * It also loads a saved image from `.RData' if there is one (unless
>      `--no-restore' or `--no-restore-data' was specified).
> 
>    * Finally, if a function `.First' exists, it is executed.  This
>      function (as well as `.Last' which is executed at the end of the R
>      session) can be defined in the appropriate startup profiles, or
>      reside in `.RData'.
> 
> as per R-intro, so the user has perfect control over what happens by
> providing a suitable .First in e.g. his ~/.Rprofile.

You are right -- I was discounting the "inelegant" use of an empty .First
in .Rprofile to mask the one defined in the global environment.  I have
approached this in terms of preventing an unwanted package from being
loaded, but I can see the advantages of using a .First definition in the
user's .Rprofile to explicitly load packages as well.  I guess my worry
would be that as the core of R gets smaller and more packages are added to
the default list it would be simpler for the user to remove the one or two
packages that are not wanted, rather than having to specify explicitly in
a .First all the packages that are required, as would be the case
currently.

Cheers, Jonathan.

Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Torsten.Hothorn@rzmail.uni-erlangen.de  Mon Apr  9 16:57:46 2001
From: Torsten.Hothorn@rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Mon, 9 Apr 2001 17:57:46 +0200 (MEST)
Subject: [Rd] CI for wilcoxon test (PR#895)
In-Reply-To: <200104050902.LAA07697@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.21.0104091749410.10969-100000@artemis.imbe.med.uni-erlangen.de>

> 
> I didnt go through other aspects, although I believe that the continuity
> correction should be checked if some changes are made, and also that some closer
> look onto definitions of uci and lci in the exact CI computations should be made
> (here it depends on your definition of the CI for exact distributions, i.e.
> whether the CI = {uci<=mu<lci} (then I think its OK) or CI = {uci<=mu<=lci}
> (then I think lci= diffs[ql] and not diffs[ql + 1]). Could this be specified in
> the documentation?


the CI is [uci, lci) with lci = diffs[ql + 1]. You do not reject the
hypothesis if W <= ql and the step function is equal to ql for all
real numbers between diffs[ql] and diffs[ql + 1] and jumps in diffs[ql +
1] only. Therefore, all this points have to be included in the CI but not
diffs[ql + 1] itself (one can however include it, making the CI
'larger'). Taking lci = diffs[ql] is wrong! See the example on page 688 of
Bauer's article.

Torsten

> 
> Thank you in advance for checking my suspicions :) and for your reaction.
> 
> 	Marketa Kylouskova
> 	kylouskova@euromise.cz
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Torsten.Hothorn@rzmail.uni-erlangen.de  Mon Apr  9 17:19:10 2001
From: Torsten.Hothorn@rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Mon, 9 Apr 2001 18:19:10 +0200 (MEST)
Subject: [Rd] PR#896
In-Reply-To: <200104051119.NAA09993@pubhealth.ku.dk>
Message-ID: <Pine.LNX.4.21.0104091809580.10969-100000@artemis.imbe.med.uni-erlangen.de>



> Sorry to all that are angry about the form of my previous mail. I 
> didn't realise what would happen :((.
> 
> Here it is in (hopefully) plain text (if my mailer doesn't spoil it again):
> 
> ##############
> 
> Dear developers,
> 	I have a problem with some discrepancy between R 1.2.1 for 
> Windows and R 1.2.2 (and less) for Linux. While trying to correct 
> the wilcox.test (see my previous bug report) I encountered the 
> following problem: I wanted to check the behaviour of the function 
> wdiff used in the search for CI limits.
> 
> x<-rnorm(10,3,1)	
> y<-rnorm(10,0,1)	
> say 
> 
> x<-
> c(3.770684,4.654342,3.496403,1.772743,1.624953,2.645835,3.0994
> 77,1.706758,3.507709,1.982924)
> y<-c(-0.8161288,0.1632923,0.6421997,1.9270846,-
> 0.4668112,0.3587806,0.3312529,-0.5393900,
> 0.1057892,1.7963575)

`wdiff' is used for the computation of asymptotic confidence intervals for
samples with m,n > 50. I simulated the type I error rate and it works for
such large sample sizes. So maybe the problems are due to n.x = n.y = 10 ?

Torsten

> 
> mu<-0
> n.x<-length(x)
> n.y<-length(y)
> 
> wdiff <- function(d, zq) {
>    	dr <- rank(c(x- mu -d,y))
>    	NTIES.CI <- table(dr)
>    	dz <- (sum(dr[seq(along = x)]) - n.x * (n.x + 1)/2 - n.x * n.y/2)
> 	CORRECTION.CI<-0
>    SIGMA.CI <- sqrt((n.x * n.y/12) * ((n.x + n.y + 1) - 
> sum(NTIES.CI^3 - NTIES.CI)/((n.x + n.y) * (n.x + n.y - 1))))
>    dz <- (dz - CORRECTION.CI)/SIGMA.CI
>    abs(dz - zq)
> }
> 
> To examine the behivour I plotted the course of the wdiff for a lot of 
> d and three zq (0.05, 0.5, 0.95) and I let optimize to compute the 
> minimums. Then I plotted it. 
> 
> mumin<-min(x)-max(y)
> mumax<-max(x)-min(y) 
> 
> lll<-seq(mumin,mumax,by=0.01)
> wdl<-apply(cbind(lll),1,wdiff,zq=qnorm(0.05))
> wdm<-apply(cbind(lll),1,wdiff,zq=qnorm(0.50))
> wdu<-apply(cbind(lll),1,wdiff,zq=qnorm(0.95))
> 
> plot(lll,wdl,type="l")
> lines(lll,wdm,lty=4)
> lines(lll,wdu,lty=7)
> 
> 
> ol<-optimize(wdiff,c(mumin,mumax),zq=qnorm(0.05))$minimum
> om<-optimize(wdiff,c(mumin,mumax),zq=qnorm(0.5))$minimum
> ou<-optimize(wdiff,c(mumin,mumax),zq=qnorm(0.95))$minimum
> 
> abline(v=ol)
> abline(v=om,lty=4)
> abline(v=ou,lty=7)
> 
> 
> When it ran on my home Linux (R 1.2.2 (2001-02-26) Compiled 
> from source tarball on Linux with gcc version 2.95.2 19991024) it 
> computed the minimum for zq = 0.05 only, for the others it found 
> something totally wrong (three curves with "valleys", one line 
> indicating the right minimum, one line indicating where the 
> computed minimum surely doesn't lie; moreover, it was the same 
> for both 0.5 and 0.95). Then I checked it at work on S+2000 and R 
> 1.2.1 for Windows and it gave the correct results and picture (three 
> curves with "valleys" and three lines indicating where the minimum 
> lies). Could you, please, advise me whether the problem stands in 
> the platform version or in my compiled version, and what should I 
> do to make it work properly?
> 
> Thank you very much for your help.
> 
> 	Marketa Kylouskova
> 	marketa@ucw.cz
> 	kylouskova@euromise.cz
> 
>  
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ntakebay@bio.indiana.edu  Mon Apr  9 19:07:48 2001
From: ntakebay@bio.indiana.edu (ntakebay@bio.indiana.edu)
Date: Mon, 9 Apr 2001 20:07:48 +0200 (MET DST)
Subject: [Rd] syntax error in datetime.c (PR#901)
Message-ID: <200104091807.UAA14215@pubhealth.ku.dk>

Full_Name: Naoki Takebayashi
Version: 1.2.2
OS: Linux, RedHat 7.0/alpha
Submission from: (NULL) (152.3.12.123)


With RedHat 7.0/alpha (gcc 2.96-69), I encountered following error:

gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
-DHAVE_CONFIG_H -mieee  -O2 -mieee -c datetime.c -o datetime.o
datetime.c: In function `do_systime':
datetime.c:306: parse error before `ans'
datetime.c:307: `ans' undeclared (first use in this function)
datetime.c:307: (Each undeclared identifier is reported only once
datetime.c:307: for each function it appears in.)
make[3]: *** [datetime.o] Error 1
make[3]: Leaving directory `/usr/src/redhat/BUILD/R-1.2.2/src/main'

Following patch fixes this syntax error.

--- R-1.2.2/src/main/datetime.c.orig	Mon Apr  9 11:24:14 2001
+++ R-1.2.2/src/main/datetime.c	Mon Apr  9 11:25:11 2001
@@ -300,10 +300,10 @@
 SEXP do_systime(SEXP call, SEXP op, SEXP args, SEXP env)
 {
     time_t res = time(NULL);
+    SEXP ans = allocVector(REALSXP, 1);
 #ifdef USING_LEAPSECONDS
     res -= 22;
 #endif
-    SEXP ans = allocVector(REALSXP, 1);
     if(res != (time_t)(-1)) REAL(ans)[0] = (double) res;
     else REAL(ans)[0] = NA_REAL;
     return ans;


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Apr  9 19:16:21 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 9 Apr 2001 19:16:21 +0100 (BST)
Subject: [Rd] syntax error in datetime.c (PR#901)
In-Reply-To: <200104091807.UAA14215@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.31.0104091913160.3528-100000@auk.stats>

Thanks.  That means that the platform you are using has non-POSIX
datetime functions, BTW, and a case I coded for hypothetically
actually exists.  Strange that it should be a GNU-LINUX system,
though.

Fixed for 1.2.3.


On Mon, 9 Apr 2001 ntakebay@bio.indiana.edu wrote:

> Full_Name: Naoki Takebayashi
> Version: 1.2.2
> OS: Linux, RedHat 7.0/alpha
> Submission from: (NULL) (152.3.12.123)
>
>
> With RedHat 7.0/alpha (gcc 2.96-69), I encountered following error:
>
> gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
> -DHAVE_CONFIG_H -mieee  -O2 -mieee -c datetime.c -o datetime.o
> datetime.c: In function `do_systime':
> datetime.c:306: parse error before `ans'
> datetime.c:307: `ans' undeclared (first use in this function)
> datetime.c:307: (Each undeclared identifier is reported only once
> datetime.c:307: for each function it appears in.)
> make[3]: *** [datetime.o] Error 1
> make[3]: Leaving directory `/usr/src/redhat/BUILD/R-1.2.2/src/main'
>
> Following patch fixes this syntax error.
>
> --- R-1.2.2/src/main/datetime.c.orig	Mon Apr  9 11:24:14 2001
> +++ R-1.2.2/src/main/datetime.c	Mon Apr  9 11:25:11 2001
> @@ -300,10 +300,10 @@
>  SEXP do_systime(SEXP call, SEXP op, SEXP args, SEXP env)
>  {
>      time_t res = time(NULL);
> +    SEXP ans = allocVector(REALSXP, 1);
>  #ifdef USING_LEAPSECONDS
>      res -= 22;
>  #endif
> -    SEXP ans = allocVector(REALSXP, 1);
>      if(res != (time_t)(-1)) REAL(ans)[0] = (double) res;
>      else REAL(ans)[0] = NA_REAL;
>      return ans;
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Apr  9 21:18:10 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 9 Apr 2001 21:18:10 +0100 (BST)
Subject: [Rd] Special Interest Group on R/S and Databases
Message-ID: <Pine.GSO.4.31.0104092112220.5735-100000@auk.stats>

At the Vienna meeting of R-core and friends after DSC-2001 we decided to
set up some SIGs (special interest groups) in various topics. The first of
these has been set up on R (and S) and Databases.

There is an area on the developer web site at

http://developer.r-project.org/db/

and a mailing list (thanks to Martin Maechler) with a home page at

http://stat.ethz.ch/mailman/listinfo/r-sig-db

also linked off the developer site.

If you are interested please subscribe this week: I will start up the
discussion with a discussion paper early next week.

Brian Ripley

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Torsten.Hothorn@rzmail.uni-erlangen.de  Tue Apr 10 06:51:21 2001
From: Torsten.Hothorn@rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Tue, 10 Apr 2001 07:51:21 +0200 (MEST)
Subject: [Rd] confint's in t.test
Message-ID: <Pine.LNX.4.21.0104100749250.18520-100000@artemis.imbe.med.uni-erlangen.de>


> t.test(rnorm(10), rnorm(10), alternative="less")

         Welch Two Sample t-test 

data:  rnorm(10) and rnorm(10) 
t = -2.3628, df = 17.848, p-value = 0.01485 
alternative hypothesis: true difference in means is less than 0 
95 percent confidence interval:
         NA -0.2590752 
        ^^^^

I suppose that is what the prototype does, should one replace it by -Inf,
+ Inf resp. ?

Torsten

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Tue Apr 10 08:02:40 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Tue, 10 Apr 2001 09:02:40 +0200
Subject: [Rd] confint's in t.test
In-Reply-To: <Pine.LNX.4.21.0104100749250.18520-100000@artemis.imbe.med.uni-erlangen.de>
References: <Pine.LNX.4.21.0104100749250.18520-100000@artemis.imbe.med.uni-erlangen.de>
Message-ID: <15058.45072.744621.93607@mithrandir.hornik.net>

>>>>> Torsten Hothorn writes:

>> t.test(rnorm(10), rnorm(10), alternative="less")

>          Welch Two Sample t-test 

> data:  rnorm(10) and rnorm(10) 
> t = -2.3628, df = 17.848, p-value = 0.01485 
> alternative hypothesis: true difference in means is less than 0 
> 95 percent confidence interval:
>          NA -0.2590752 
>         ^^^^

> I suppose that is what the prototype does, should one replace it by
> -Inf, + Inf resp. ?

I'd say yes (which agrees with confidence intervals for the variance
and odds ratios) ...

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Tue Apr 10 08:33:00 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Tue, 10 Apr 2001 09:33:00 +0200
Subject: [Rd] Detaching "ctest"
In-Reply-To: <Pine.GSO.4.20.0104091419000.13680-100000@laplace>
References: <15057.44851.453347.367801@mithrandir.hornik.net>
 <Pine.GSO.4.20.0104091419000.13680-100000@laplace>
Message-ID: <15058.46892.196865.11757@mithrandir.hornik.net>

>>>>> Jonathan Rougier writes:

> On Mon, 9 Apr 2001, Kurt Hornik wrote:
>> >>>>> Jonathan Rougier writes:

>> > OK! if you put it like that, then I think that .First should
>> definitely > *not* be used for package set-up, as it prevents
>> .Rprofile commands from > being the last things executed before the
>> prompt, and thus removes > "complete user control" of the set-up.
>> 
>> Not sure if I understand this.
>> 
>> Upon startup,
>> 
>> * Then, unless `--no-init-file' was given, R searches for a file
>> called `.Rprofile' in the current directory or in the user's home
>> directory (in that order) and sources it.
>> 
>> * It also loads a saved image from `.RData' if there is one (unless
>> `--no-restore' or `--no-restore-data' was specified).
>> 
>> * Finally, if a function `.First' exists, it is executed.  This
>> function (as well as `.Last' which is executed at the end of the R
>> session) can be defined in the appropriate startup profiles, or
>> reside in `.RData'.
>> 
>> as per R-intro, so the user has perfect control over what happens by
>> providing a suitable .First in e.g. his ~/.Rprofile.

> You are right -- I was discounting the "inelegant" use of an empty
> .First in .Rprofile to mask the one defined in the global environment.
> I have approached this in terms of preventing an unwanted package from
> being loaded, but I can see the advantages of using a .First
> definition in the user's .Rprofile to explicitly load packages as
> well.  I guess my worry would be that as the core of R gets smaller
> and more packages are added to the default list it would be simpler
> for the user to remove the one or two packages that are not wanted,
> rather than having to specify explicitly in a .First all the packages
> that are required, as would be the case currently.

Agreed.  Actually, I think that .First *is* the right mechanism for
taking care of this, but not necessarily though explicit coding.  What I
have in mind is something like

	R> customize()
or
	R> customize("packages")

(as opposed to customize("options"))

bringing up a mechanism through which packages can be selected.  (There
is an additional issue of specifying their order ...)  This could then
be saved into, say, a user or site R configuration file (R.ini, .Rini),
containing e.g.

	[Packages]
	ctest = TRUE
	ts = FALSE

etc (modulo order ...).  The startup mechanism could then look for such
a file and build .First-style code from it ...

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From khamenya@mail.ru  Tue Apr 10 12:51:58 2001
From: khamenya@mail.ru (khamenya@mail.ru)
Date: Tue, 10 Apr 2001 13:51:58 +0200 (MET DST)
Subject: [Rd] BUG at http://www.r-project.org/ (PR#903)
Message-ID: <200104101151.NAA22091@pubhealth.ku.dk>

Dear Sirs,

1. link
    http://cran.r-project.org/bin/windows/windows-NT/
   is cycled. (and it is impossible to get R-binaries for Win2000)

2. why pages http://cran.r-project.org/ does not contain email address
   for such a bugs, broken links and etc?


Valery A.Khamenya



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Apr 10 14:20:03 2001
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 10 Apr 2001 09:20:03 -0400
Subject: [Rd] stop() and Rcmd
References: <Pine.LNX.4.31.0104041532410.15797-100000@gannet.stats> <3ACDC45F.B56A85AE@ukans.edu> <3ACDEF83.7237611B@bank-banque-canada.ca> <3ACE0625.F808E766@statistik.uni-dortmund.de> <3ACE12E0.94CFADF7@bank-banque-canada.ca> <3ACEE448.58C20D80@statisti
Message-ID: <3AD30883.49B56D97@bank-banque-canada.ca>

Uwe

It looks like stop() in test files does not generate an error that is caught by Rcmd
check on NT. Thus the fact that all the tests completed does not seem to mean too
much. In Unix if the tests complete then there have not been stop()s generated by out
of tolerance comparisons. This seems to mean that on NT all *.Rout files (50 or so)
need to be  examined to be sure that tests completed correctly.

At the bottom of the crvB07.Rout file you sent you will see

>   if (! all.ok) stop("some tests FAILED")
Error: some tests FAILED
Execution halted

Perhaps you could grep for "Execution halted" in the *.Rout files to see if other
tests failed. I am especially concerned about the tests in dse. The ones you sent
from dseplus are numerically sensitive and the second one seems to have passed, so
things look fairly good. (BTW, the values do seem to correspond more closely to
Solaris than Linux.)

Paul

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.C.Rougier@durham.ac.uk  Tue Apr 10 15:01:52 2001
From: J.C.Rougier@durham.ac.uk (J.C.Rougier@durham.ac.uk)
Date: Tue, 10 Apr 2001 16:01:52 +0200 (MET DST)
Subject: [Rd] Segmentation fault in subscripting array of lists (PR#904)
Message-ID: <200104101401.QAA23458@pubhealth.ku.dk>

I get a segmentation fault as follows:

> tmp <- array(list(), c(3, 4))
> tmp[[1, 2]]
NULL                                  # as expected
> tmp[[1, 2]]$fred <- 1:10
> tmp                                 # as expected
     [,1]   [,2]     [,3]   [,4]  
[1,] "NULL" "List,1" "NULL" "NULL"
[2,] "NULL" "NULL"   "NULL" "NULL"
[3,] "NULL" "NULL"   "NULL" "NULL"
> tmp[[1, 2]]                         # as expected
$fred
 [1]  1  2  3  4  5  6  7  8  9 10

> tmp[[1, ]]                          # whoops!
Segmentation fault

Cheers, Jonathan.

--please do not edit the information below--

Version:
 platform = sparc-sun-solaris2.7
 arch = sparc
 os = solaris2.7
 system = sparc, solaris2.7
 status = 
 major = 1
 minor = 2.1
 year = 2001
 month = 01
 day = 15
 language = R

Search Path:
 .GlobalEnv, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bolker@zoo.ufl.edu  Tue Apr 10 15:55:45 2001
From: bolker@zoo.ufl.edu (bolker@zoo.ufl.edu)
Date: Tue, 10 Apr 2001 16:55:45 +0200 (MET DST)
Subject: [Rd] segfault on Linux from buffer overflow in warning() ? (PR#905)
Message-ID: <200104101455.QAA24082@pubhealth.ku.dk>


   I have found what seems to be a bug in warning(), but perhaps
I'm being really boneheaded (it's happened before).  Essentially,
warning() seems to segfault if its argument is greater than 8191
characters (8192 is defined as BUFSIZE in errors.c, so a quick
workaround would be to boost this ...)
   The bug was initially provoked by trying to concatenate two
long tables -- the warning message about all the duplicate row
names caused the segfault.  Functions below should all trigger
the problem.
   I haven't got the development version, but I didn't see anything
in the CVS logs about this problem ...  the R code is a little too
tangled for me to fix immediately, but I'm hoping that this
information will help R-core folks find it fairly quickly.

  The reason I think I must be being boneheaded is that this
seems fairly major and obvious: hasn't anyone stumbled across
this while trying to concatenate long tables?

  Here are three functions, in increasing specificity, that trigger the
bug for sufficiently large arguments.


provoke.bug <- function(r=7500,c=c) {
  y1 <- matrix(runif(r*c),ncol=c)
  row.names(y1) <- 1:r
  y2 <- matrix(runif(r*c),ncol=c)
  row.names(y2) <- 1:r
  # problem triggered by data.frame()
  invisible(data.frame(rbind(y1,y2)))
}

## crashes between 1600 and 1700 rows, 1 column
## (overallocating buffer in duplicate rows warning?)

provoke.bug2 <- function(n=1600) {
  str <- as.character(1:n)
  dup <- duplicated(c(str,str))
  trywarn <- paste("duplicates:",paste(which(dup),collapse=","))
  cat("Length of warning message:",nchar(trywarn),"\n")
  warning(trywarn)
  ## problem is in warning() ...
}

provoke.bug3 <- function(n=1600) {
   warnmsg <- paste(LETTERS[sample(1:26,n,replace=TRUE)],collapse="")
   warning(warnmsg)
}

## crashes if warning message is > 8191 characters


--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status =
 major = 1
 minor = 2.1
 year = 2001
 month = 01
 day = 15
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base

-- 
318 Carr Hall                                bolker@zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From cpaul@ucla.edu  Tue Apr 10 16:50:46 2001
From: cpaul@ucla.edu (cpaul@ucla.edu)
Date: Tue, 10 Apr 2001 17:50:46 +0200 (MET DST)
Subject: [Rd] Win98 wheelmouse graphics lock problem (PR#906)
Message-ID: <200104101550.RAA24500@pubhealth.ku.dk>

Full_Name: Christopher Paul
Version: Version 1.2.2  (2001-02-26)
OS: Win 98
Submission from: (NULL) (4.35.137.70)


Using the GUI, if I make a plot(), click on the graphics window and then use my
wheelmouse to attempt to move up and down the graphics image, the image fails to
redrawn properly, and then entire GUI session "hangs" and needs to be closed.  I
wasn't aware how committed to the wheelmouse I had become, but even after
identifying the problem, I kept doing it.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Tue Apr 10 17:10:34 2001
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich Leisch)
Date: Tue, 10 Apr 2001 18:10:34 +0200
Subject: [Rd] BUG at http://www.r-project.org/ (PR#903)
In-Reply-To: <200104101151.NAA22091@pubhealth.ku.dk>
References: <200104101151.NAA22091@pubhealth.ku.dk>
Message-ID: <15059.12410.613040.846591@galadriel.ci.tuwien.ac.at>

>>>>> On Tue, 10 Apr 2001 13:51:58 +0200 (MET DST),
>>>>> khamenya  (k) wrote:

  > Dear Sirs,
  > 1. link
  >     http://cran.r-project.org/bin/windows/windows-NT/
  >    is cycled. (and it is impossible to get R-binaries for Win2000)

  > 2. why pages http://cran.r-project.org/ does not contain email address
  >    for such a bugs, broken links and etc?


This links are recursive by intent to ensure backwards compatibility
which you could have found out easily by reading the file ReadMe in
the directory:

** The directories windows-9x and windows-NT are recursive links and only
** there for backwards-compatibility. Please go directly to base or
** contrib to download R for all versions of Windows.



Hope this helps,

-- 
-------------------------------------------------------------------
                        Friedrich  Leisch 
Institut fr Statistik                     Tel: (+43 1) 58801 10715
Technische Universitt Wien                Fax: (+43 1) 58801 10798
Wiedner Hauptstrae 8-10/1071      Friedrich.Leisch@ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dsmith@insightful.com  Tue Apr 10 19:50:17 2001
From: dsmith@insightful.com (David M Smith)
Date: Tue, 10 Apr 2001 11:50:17 -0700
Subject: [Rd] Segmentation fault in subscripting array of lists (PR#904)
In-Reply-To: <200104101401.QAA23458@pubhealth.ku.dk>
Message-ID: <LGEFIDJJDBKMHCAKBCOIIEBBCPAA.dsmith@insightful.com>

R clearly shouldn't crash, but tmp[[1, ]] is semantically incorrect.  The
result of "[[" is required to be a single value from a vector (or generally,
an array) of the mode of the vector.  To select more than one element from
an array, you must use "[".  The results from S-PLUS 6 are:

> tmp[[1,  ]]
Problem in [[: Attempt to select more than one element: structure(list(NULL,
NULL, NULL, list(fred = c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)), NULL, NUL....
Use traceback() to see the call stack

This error message indicates the error.  Using "[" gives the correct result:

> tmp[1,  ]
[[1]]:
NULL

[[2]]:
[[2]]$fred:
 [1]  1  2  3  4  5  6  7  8  9 10


[[3]]:
NULL

[[4]]:
NULL


# David Smith

--
David M Smith <dsmith@insightful.com>
S-PLUS Product Marketing Manager, Insightful Corp, Seattle WA
Tel: +1 (206) 283 8802 x360
Fax: +1 (206) 283 0347

MathSoft is now Insightful!  See www.insightful.com for details.

> -----Original Message-----
> From: owner-r-devel@stat.math.ethz.ch
> [mailto:owner-r-devel@stat.math.ethz.ch]On Behalf Of
> J.C.Rougier@durham.ac.uk
> Sent: Tuesday, April 10, 2001 07:02
> To: r-devel@stat.math.ethz.ch
> Cc: R-bugs@biostat.ku.dk
> Subject: [Rd] Segmentation fault in subscripting array of lists (PR#904)
>
>
> I get a segmentation fault as follows:
>
> > tmp <- array(list(), c(3, 4))
> > tmp[[1, 2]]
> NULL                                  # as expected
> > tmp[[1, 2]]$fred <- 1:10
> > tmp                                 # as expected
>      [,1]   [,2]     [,3]   [,4]
> [1,] "NULL" "List,1" "NULL" "NULL"
> [2,] "NULL" "NULL"   "NULL" "NULL"
> [3,] "NULL" "NULL"   "NULL" "NULL"
> > tmp[[1, 2]]                         # as expected
> $fred
>  [1]  1  2  3  4  5  6  7  8  9 10
>
> > tmp[[1, ]]                          # whoops!
> Segmentation fault
>
> Cheers, Jonathan.
>
> --please do not edit the information below--
>
> Version:
>  platform = sparc-sun-solaris2.7
>  arch = sparc
>  os = solaris2.7
>  system = sparc, solaris2.7
>  status =
>  major = 1
>  minor = 2.1
>  year = 2001
>  month = 01
>  day = 15
>  language = R
>
> Search Path:
>  .GlobalEnv, Autoloads, package:base
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-
> r-devel mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Apr 11 08:10:14 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 11 Apr 2001 09:10:14 +0200 (MET DST)
Subject: [Rd] Win98 wheelmouse graphics lock problem (PR#906)
Message-ID: <200104110710.JAA27086@pubhealth.ku.dk>

On Tue, 10 Apr 2001 cpaul@ucla.edu wrote:

> Full_Name: Christopher Paul
> Version: Version 1.2.2  (2001-02-26)
> OS: Win 98
> Submission from: (NULL) (4.35.137.70)
>
>
> Using the GUI, if I make a plot(), click on the graphics window and then use my
> wheelmouse to attempt to move up and down the graphics image, the image fails to
> redrawn properly, and then entire GUI session "hangs" and needs to be closed.  I
> wasn't aware how committed to the wheelmouse I had become, but even after
> identifying the problem, I kept doing it.

I have no idea what the `wheelmouse' on your system is generating in the
way of events, or what you expected to happen.  An R graphics window does
not have vertical scrollbars by default.

Please debug this on your own system and submit a match.  The developers
neither use Win 98 nor a `wheelmouse', but the emulation on my Windows NT
system gives no problems.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.C.Rougier@durham.ac.uk  Wed Apr 11 09:15:26 2001
From: J.C.Rougier@durham.ac.uk (Jonathan Rougier)
Date: Wed, 11 Apr 2001 09:15:26 +0100 (BST)
Subject: [Rd] replicating lists
Message-ID: <Pine.GSO.4.20.0104110904110.13680-100000@laplace>

Hi Everyone,

At the moment it is not possible to replicate complex lists, but only
simple ones:

> rep(list(fred = 1:10), 10) # works fine
> rep(list(fred = 1:10, happy = "squash"), 10)
Error in rep(list(fred = 1:10, happy = "squash"), 10) : 
        Unimplemented feature in rep

There is nothing in ?rep that suggests that the latter should not work,
and I think it would be a desirable feature if it did.  For example, I
want to create an array of lists, and it would be nice for me to set
default values in the array function, rather than having to loop through
the components and setting them individually.

I've had a quick look in do_rep in seq.c and to my untrained eye it looks
as though the LISTSXP case of the main switch might need to be replaced by
a VECSXP, but I am not sure about other implications.

Cheers, Jonathan.

Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Apr 11 09:25:32 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 11 Apr 2001 09:25:32 +0100 (BST)
Subject: [Rd] replicating lists
In-Reply-To: <Pine.GSO.4.20.0104110904110.13680-100000@laplace>
Message-ID: <Pine.GSO.4.31.0104110924120.26817-100000@toucan.stats>

On Wed, 11 Apr 2001, Jonathan Rougier wrote:

> Hi Everyone,
>
> At the moment it is not possible to replicate complex lists, but only
> simple ones:
>
> > rep(list(fred = 1:10), 10) # works fine
> > rep(list(fred = 1:10, happy = "squash"), 10)
> Error in rep(list(fred = 1:10, happy = "squash"), 10) :
>         Unimplemented feature in rep

It is implemented in S3 and S4.

> There is nothing in ?rep that suggests that the latter should not work,
> and I think it would be a desirable feature if it did.  For example, I
> want to create an array of lists, and it would be nice for me to set
> default values in the array function, rather than having to loop through
> the components and setting them individually.
>
> I've had a quick look in do_rep in seq.c and to my untrained eye it looks
> as though the LISTSXP case of the main switch might need to be replaced by
> a VECSXP, but I am not sure about other implications.

I suggest filing this as a bug report.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.C.Rougier@durham.ac.uk  Wed Apr 11 09:34:28 2001
From: J.C.Rougier@durham.ac.uk (J.C.Rougier@durham.ac.uk)
Date: Wed, 11 Apr 2001 10:34:28 +0200 (MET DST)
Subject: [Rd] replicating lists (fwd) (PR#907)
Message-ID: <200104110834.KAA28896@pubhealth.ku.dk>

Filed as a bug, as suggested by Brian R., Jonathan.

Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html

---------- Forwarded message ----------
Date: Wed, 11 Apr 2001 09:15:26 +0100 (BST)
From: Jonathan Rougier <dma0jcr@euclid.dur.ac.uk>
To: r-devel@stat.math.ethz.ch
Subject: replicating lists

Hi Everyone,

At the moment it is not possible to replicate complex lists, but only
simple ones:

> rep(list(fred = 1:10), 10) # works fine
> rep(list(fred = 1:10, happy = "squash"), 10)
Error in rep(list(fred = 1:10, happy = "squash"), 10) : 
        Unimplemented feature in rep

There is nothing in ?rep that suggests that the latter should not work,
and I think it would be a desirable feature if it did.  For example, I
want to create an array of lists, and it would be nice for me to set
default values in the array function, rather than having to loop through
the components and setting them individually.

I've had a quick look in do_rep in seq.c and to my untrained eye it looks
as though the LISTSXP case of the main switch might need to be replaced by
a VECSXP, but I am not sure about other implications.

Cheers, Jonathan.

Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rgentlem@jimmy.harvard.edu  Wed Apr 11 14:29:27 2001
From: rgentlem@jimmy.harvard.edu (Robert Gentleman)
Date: Wed, 11 Apr 2001 09:29:27 -0400
Subject: [Rd] a couple of ideas/proposals
Message-ID: <20010411092927.D23203@jimmy.harvard.edu>

 Byron Ellis has been making some progress on a hdf5 library for
 microarray data (and any other thing you want to put in there).
 In doing so some issues have arisen that are of more general
 interest.

  1) hdf5 supports annotation (through comments) so it would be nice
  if the comment function in R became generic. I think this is
  backward compatible and basically not really an issue of any kind.

  2) When we start to think of proxy-objects (such as database tables
  and hdf5 arrays) as if they were R objects of a particular type
  things become rather interesting. 
     I'm starting to think that the right abstraction for hdf5 is as
  arrays (not dataframes) since the slabs are homogeneous. For us they
  are just ints or floats but they can be arbitrary so maybe the
  abstraction really is dataframe.
     In any event, the interesting question is about arraySubscript.
  (and I guess other similar functionality).
     Currently this gets (int dim, SEXP s, SEXP x)
   where s is the subscript argument and x is the object itself. All
  we do with x is to ask it for its dim attribute and potentially its
  DimNames attribute.
     We would like to use arraySubscript to generate the subscripts
  for [.hdf5.dataset. But since these guys aren't really R arrays this
  is slightly problematic. It might be better if we either change
  arraySubscript to accept the dims and dimnames but not x (so x can
  really be anything) or add a new entry point that does accept only
  these. I think the latter is the correct route - (do we have a way
  of deprecating R internals).
    I think that in general it would be nice to think of as much of
  the internal functionality moving towards supporting "non-internal"
  versions of some data structures. Especially arrays and dataframes
  since there seems to be some advantage to having external versions
  of them.

    Another thing that Byron mentioned is that he is using finalizers
    quite a lot but that R doesn't do a gc on exit and so these don't
    always get called (I haven't checked) but I think that might
    become necessary.
-- 
+---------------------------------------------------------------------------+
| Robert Gentleman                 phone : (617) 632-5250                   |
| Associate Professor              fax:   (617)  632-2444                   |
| Department of Biostatistics      office: M1B28
| Harvard School of Public Health  email: rgentlem@jimmy.dfci.harvard.edu   |
+---------------------------------------------------------------------------+
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From David James <dj@research.bell-labs.com>  Wed Apr 11 15:00:46 2001
From: David James <dj@research.bell-labs.com> (David James)
Date: Wed, 11 Apr 2001 10:00:46 -0400 (EDT)
Subject: [Rd] replicating lists
Message-ID: <200104111400.KAA21045@jessie.research.bell-labs.com>

A workaround is to use rep() inside "[":

> a <- list(a=1, b=2, c=3)
> a[rep(1:3, 1:3)]
$a
[1] 1

$b
[1] 2

$b
[1] 2

$c
[1] 3

$c
[1] 3

$c
[1] 3

Note, however, that names are no longer unique!

David A. James
Statistics Research, Room 2C-253            Phone:  (908) 582-3082       
Bell Labs, Lucent Technologies              Fax:    (908) 582-3340
Murray Hill, NJ 09794-0636
------------------------------------------------------------------------

> X-Authentication-Warning: toucan.stats: ripley owned process doing -bs
> Date: Wed, 11 Apr 2001 09:25:32 +0100 (BST)
> From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
> X-X-Sender: <ripley@toucan.stats>
> To: Jonathan Rougier <J.C.Rougier@durham.ac.uk>
> cc: <r-devel@stat.math.ethz.ch>
> Subject: Re: [Rd] replicating lists
> MIME-Version: 1.0
> 
> On Wed, 11 Apr 2001, Jonathan Rougier wrote:
> 
> > Hi Everyone,
> >
> > At the moment it is not possible to replicate complex lists, but only
> > simple ones:
> >
> > > rep(list(fred = 1:10), 10) # works fine
> > > rep(list(fred = 1:10, happy = "squash"), 10)
> > Error in rep(list(fred = 1:10, happy = "squash"), 10) :
> >         Unimplemented feature in rep
> 
> It is implemented in S3 and S4.
> 
> > There is nothing in ?rep that suggests that the latter should not work,
> > and I think it would be a desirable feature if it did.  For example, I
> > want to create an array of lists, and it would be nice for me to set
> > default values in the array function, rather than having to loop through
> > the components and setting them individually.
> >
> > I've had a quick look in do_rep in seq.c and to my untrained eye it looks
> > as though the LISTSXP case of the main switch might need to be replaced by
> > a VECSXP, but I am not sure about other implications.
> 
> I suggest filing this as a bug report.
> 
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> 
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@nokomis.stat.umn.edu  Wed Apr 11 15:14:53 2001
From: luke@nokomis.stat.umn.edu (Luke Tierney)
Date: Wed, 11 Apr 2001 09:14:53 -0500
Subject: [Rd] a couple of ideas/proposals
In-Reply-To: <20010411092927.D23203@jimmy.harvard.edu>; from rgentlem@jimmy.harvard.edu on Wed, Apr 11, 2001 at 09:29:27AM -0400
References: <20010411092927.D23203@jimmy.harvard.edu>
Message-ID: <20010411091453.A18327@nokomis.stat.umn.edu>

On Wed, Apr 11, 2001 at 09:29:27AM -0400, Robert Gentleman wrote:
>     Another thing that Byron mentioned is that he is using finalizers
>     quite a lot but that R doesn't do a gc on exit and so these don't
>     always get called (I haven't checked) but I think that might
>     become necessary.

I think what is needed here is a more flexible exit handler mechanism
together with weak references (which I'm hoping to add before too long).

For exit handling right now I think all we have is .Last.  It would be
nice to have something more like the
Tcl_CreateExitHandler/Tcl_DeleteExitHandler mechanism, together with
an appropriate R interface.

Without knowing the details I can't be sure, but I suspect he doesn't
really want a gc, which would only run the finalizers for unreachable
objects (actually might run is a better since there are no guarantees
of timeliness with finalization).  Instead I suspect he would like a
means of making sure all external objects he uses are shut down, even
the reachable ones.  To do that would require keeping track if all
those objects in a way that doesn't prevent GC (i.e. with weak
references) and then running through those externals and shutting them
down in an exit handler routine.

luke

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke@stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.C.Rougier@durham.ac.uk  Wed Apr 11 15:28:02 2001
From: J.C.Rougier@durham.ac.uk (Jonathan Rougier)
Date: Wed, 11 Apr 2001 15:28:02 +0100 (BST)
Subject: [Rd] replicating lists
In-Reply-To: <200104111400.KAA21045@jessie.research.bell-labs.com>
Message-ID: <Pine.GSO.4.20.0104111524560.13680-100000@laplace>

On Wed, 11 Apr 2001, David James wrote:

> A workaround is to use rep() inside "[":
> 
> > a <- list(a=1, b=2, c=3)
> > a[rep(1:3, 1:3)]
> $a
> [1] 1
> 
> $b
> [1] 2
> 
> $b
> [1] 2
> 
> $c
> [1] 3
> 
> $c
> [1] 3
> 
> $c
> [1] 3
> 
> Note, however, that names are no longer unique!

This work-around is cunning but needs a bit of care, as to get the
replication of the whole of fred you need to wrap the list itself:

> fred <- list(happy = 1:10, fred = "squash")
> list(fred)[rep(1, 10)] # list with 10 copies of fred

Cheers, Jonathn.

Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.C.Rougier@durham.ac.uk  Wed Apr 11 16:14:04 2001
From: J.C.Rougier@durham.ac.uk (Jonathan Rougier)
Date: Wed, 11 Apr 2001 16:14:04 +0100 (BST)
Subject: [Rd] replicating lists
In-Reply-To: <200104111457.KAA05539@jessie.research.bell-labs.com>
Message-ID: <Pine.GSO.4.20.0104111605580.13680-100000@laplace>

On Wed, 11 Apr 2001, David James wrote:

> Yes, I agree that the work-around needs some care, but I'm not sure 
> we need to wrap the list itself -- we're simply using properties of 
> "[" on lists.  If the subscript is rep(1, 10), then we'll get the 
> first element 10 times (which is *not* replicating the list).
> To get the replication we need to index every element in 
> the list as many times as required.

Not sure I follow you here.  I want n copies of an arbitrary list, as a
list, so list(fred)[rep(1, n)] is desired, where fred is the list I want
replicated.  Unfortuntely this does not solve the underlying problem,
which is that I want to do

> tmp <- array(fred, c(3, 4))

which breaks because "rep", invoked by "array", currently fails to handle
complex lists.  However I am happy to report that

> tmp <- array(list(fred)[rep(1, 12)], c(3, 4))

does work as expected:

> tmp[[3, 4]] # fred again!

So that's the work-around in my particular case.

Cheers, Jonathan.

Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From David James <dj@research.bell-labs.com>  Wed Apr 11 15:57:01 2001
From: David James <dj@research.bell-labs.com> (David James)
Date: Wed, 11 Apr 2001 10:57:01 -0400 (EDT)
Subject: [Rd] replicating lists
Message-ID: <200104111457.KAA05539@jessie.research.bell-labs.com>

hi,

Yes, I agree that the work-around needs some care, but I'm not sure 
we need to wrap the list itself -- we're simply using properties of 
"[" on lists.  If the subscript is rep(1, 10), then we'll get the 
first element 10 times (which is *not* replicating the list).
To get the replication we need to index every element in 
the list as many times as required.

David

> Date: Wed, 11 Apr 2001 15:28:02 +0100 (BST)
> From: Jonathan Rougier <J.C.Rougier@durham.ac.uk>
> X-Sender: dma0jcr@laplace
> To: David James <dj@research.bell-labs.com>
> cc: r-devel@stat.math.ethz.ch
> Subject: Re: [Rd] replicating lists
> MIME-Version: 1.0
> 
> On Wed, 11 Apr 2001, David James wrote:
> 
> > A workaround is to use rep() inside "[":
> > 
> > > a <- list(a=1, b=2, c=3)
> > > a[rep(1:3, 1:3)]
> > $a
> > [1] 1
> > 
> > $b
> > [1] 2
> > 
> > $b
> > [1] 2
> > 
> > $c
> > [1] 3
> > 
> > $c
> > [1] 3
> > 
> > $c
> > [1] 3
> > 
> > Note, however, that names are no longer unique!
> 
> This work-around is cunning but needs a bit of care, as to get the
> replication of the whole of fred you need to wrap the list itself:
> 
> > fred <- list(happy = 1:10, fred = "squash")
> > list(fred)[rep(1, 10)] # list with 10 copies of fred
> 
> Cheers, Jonathn.
> 
> Jonathan Rougier                       Science Laboratories
> Department of Mathematical Sciences    South Road
> University of Durham                   Durham DH1 3LE
> tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
> http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Apr 11 17:33:09 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 11 Apr 2001 17:33:09 +0100 (BST)
Subject: [Rd] replicating lists
In-Reply-To: <200104111457.KAA05539@jessie.research.bell-labs.com>
Message-ID: <Pine.LNX.4.31.0104111732380.1615-100000@gannet.stats>

The most obvious fix is internal, and that should be done fairly soon.


On Wed, 11 Apr 2001, David James wrote:

> hi,
>
> Yes, I agree that the work-around needs some care, but I'm not sure
> we need to wrap the list itself -- we're simply using properties of
> "[" on lists.  If the subscript is rep(1, 10), then we'll get the
> first element 10 times (which is *not* replicating the list).
> To get the replication we need to index every element in
> the list as many times as required.
>
> David
>
> > Date: Wed, 11 Apr 2001 15:28:02 +0100 (BST)
> > From: Jonathan Rougier <J.C.Rougier@durham.ac.uk>
> > X-Sender: dma0jcr@laplace
> > To: David James <dj@research.bell-labs.com>
> > cc: r-devel@stat.math.ethz.ch
> > Subject: Re: [Rd] replicating lists
> > MIME-Version: 1.0
> >
> > On Wed, 11 Apr 2001, David James wrote:
> >
> > > A workaround is to use rep() inside "[":
> > >
> > > > a <- list(a=1, b=2, c=3)
> > > > a[rep(1:3, 1:3)]
> > > $a
> > > [1] 1
> > >
> > > $b
> > > [1] 2
> > >
> > > $b
> > > [1] 2
> > >
> > > $c
> > > [1] 3
> > >
> > > $c
> > > [1] 3
> > >
> > > $c
> > > [1] 3
> > >
> > > Note, however, that names are no longer unique!
> >
> > This work-around is cunning but needs a bit of care, as to get the
> > replication of the whole of fred you need to wrap the list itself:
> >
> > > fred <- list(happy = 1:10, fred = "squash")
> > > list(fred)[rep(1, 10)] # list with 10 copies of fred
> >
> > Cheers, Jonathn.
> >
> > Jonathan Rougier                       Science Laboratories
> > Department of Mathematical Sciences    South Road
> > University of Durham                   Durham DH1 3LE
> > tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
> > http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html
> >
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Setzer.Woodrow@epamail.epa.gov  Wed Apr 11 22:39:57 2001
From: Setzer.Woodrow@epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Wed, 11 Apr 2001 23:39:57 +0200 (MET DST)
Subject: [Rd] using bitmap to make a multi-page pdf file results in duplication of (PR#908)
Message-ID: <200104112139.XAA04508@pubhealth.ku.dk>

When I execute the following code:

bitmap("test.pdf",type="pdfwrite")
plot(1:10,1:10,main="ONE")
plot(1:10,1:10,main="TWO")
dev.off()

the resulting file test.pdf contains four pages: graph ONE, graph TWO,
graph ONE, graph TWO.  I can recreate the problem with R version 1.2.1 and
1.2.2.  I am using Aladdin ghostscript version 6.50.  The temporary file
Rbit... has the correct number of graphs in it.  Furthermore, if I execute
from the command line the command as constructed in 'bitmap()', using the
Rbit... file as input, I get a pdf file with the correct number of graphs
in it.


--please do not edit the information below--

Version:
 platform = i386-pc-mingw32
 arch = x86
 os = Win32
 system = x86, Win32
 status =
 major = 1
 minor = 2.1
 year = 2001
 month = 01
 day = 15
 language = R

Windows 9x 4.10 (build 2222)  A

Search Path:
 .GlobalEnv, package:MASS, package:ctest, Autoloads, package:base



I am using ghostscript version 6.50, and have the following setup:
R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919) 541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Apr 12 07:48:07 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 12 Apr 2001 08:48:07 +0200 (MET DST)
Subject: [Rd] using bitmap to make a multi-page pdf file results in (PR#909)
Message-ID: <200104120648.IAA05429@pubhealth.ku.dk>

On Wed, 11 Apr 2001 Setzer.Woodrow@epamail.epa.gov wrote:

> When I execute the following code:
>
> bitmap("test.pdf",type="pdfwrite")
> plot(1:10,1:10,main="ONE")
> plot(1:10,1:10,main="TWO")
> dev.off()
>
> the resulting file test.pdf contains four pages: graph ONE, graph TWO,
> graph ONE, graph TWO.  I can recreate the problem with R version 1.2.1 and
> 1.2.2.  I am using Aladdin ghostscript version 6.50.  The temporary file
> Rbit... has the correct number of graphs in it.  Furthermore, if I execute
> from the command line the command as constructed in 'bitmap()', using the
> Rbit... file as input, I get a pdf file with the correct number of graphs
> in it.


It's  Windows-specific and easy to fix: replace

    cmd <- paste(gsexe, " -dNOPAUSE -dBATCH -q -sDEVICE=", type,
                 " -r", res,
                 " -g", ceiling(res*width), "x", ceiling(res*height),
                 " -sOutputFile=", file, " ", tmp, sep="")

by

    cmd <- paste(gsexe, " -dNOPAUSE -dBATCH -q -sDEVICE=", type,
                 " -r", res,
                 " -g", ceiling(res*width), "x", ceiling(res*height),
                 " -sOutputFile=", file, sep="")

Fixed for 1.2.3

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ligges@statistik.uni-dortmund.de  Thu Apr 12 08:50:48 2001
From: ligges@statistik.uni-dortmund.de (ligges@statistik.uni-dortmund.de)
Date: Thu, 12 Apr 2001 09:50:48 +0200 (MET DST)
Subject: [Rd] Re: stop() and Rcmd (PR#910)
Message-ID: <200104120750.JAA05587@pubhealth.ku.dk>

"Rcmd check"  on NT does not catch errors generated by stop() in files
in the tests directory. Thus the fact that all the tests complete does
not mean they completed succesfully.

This report is based on output from Rcmd check for the bundle dseplus
version 2001.4-1. The test  curve/tests/crvB07.R does a comparison which
on NT is outside of tolerance and executes stop(). (The comparison value
has been adjusted so that future versions of dseplus will not fail on
this test.)

Paul Gilbert / Uwe Ligges


--please do not edit the information below--

Version:
 platform = i386-pc-mingw32
 arch = x86
 os = Win32
 system = x86, Win32
 status = 
 major = 1
 minor = 2.2
 year = 2001
 month = 02
 day = 26
 language = R

Windows NT 4.0 (build 1381) Service Pack 6

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.C.Rougier@durham.ac.uk  Thu Apr 12 09:13:21 2001
From: J.C.Rougier@durham.ac.uk (Jonathan Rougier)
Date: Thu, 12 Apr 2001 09:13:21 +0100 (BST)
Subject: [Rd] replicating lists
In-Reply-To: <Pine.LNX.4.31.0104111732380.1615-100000@gannet.stats>
Message-ID: <Pine.GSO.4.20.0104120859570.13680-100000@laplace>

Hi Brian,

After a discussion with David James can you clarify exactly what you think
the behaviour of "rep" will be?  The three alternatives for rep(fred, 5)
would appear to be

> fred <- list(happy = 1:10, name = "squash")
> list(fred)[rep(1, 5)]                          # version 1
> fred[rep(seq(along=fred), length=5)]           # version 2
> unlist(list(fred)[rep(1, 5)], recursive=FALSE) # version 3

I was expecting the first, as this makes sense in the context of

> tmp <- array(fred, c(3, 4))

but I can see that the second is also a natural way to think about
replicating a list.  I also notice that S+ uses version 3.  Personally I
don't like version 3 as it is going to duplicate names, and it is not
going to fit with "array".

Confused, Jonathan.

On Wed, 11 Apr 2001, Prof Brian Ripley wrote:

> The most obvious fix is internal, and that should be done fairly soon.
> 
> 
> On Wed, 11 Apr 2001, David James wrote:
> 
> > hi,
> >
> > Yes, I agree that the work-around needs some care, but I'm not sure
> > we need to wrap the list itself -- we're simply using properties of
> > "[" on lists.  If the subscript is rep(1, 10), then we'll get the
> > first element 10 times (which is *not* replicating the list).
> > To get the replication we need to index every element in
> > the list as many times as required.
> >
> > David
> >
> > > Date: Wed, 11 Apr 2001 15:28:02 +0100 (BST)
> > > From: Jonathan Rougier <J.C.Rougier@durham.ac.uk>
> > > X-Sender: dma0jcr@laplace
> > > To: David James <dj@research.bell-labs.com>
> > > cc: r-devel@stat.math.ethz.ch
> > > Subject: Re: [Rd] replicating lists
> > > MIME-Version: 1.0
> > >
> > > On Wed, 11 Apr 2001, David James wrote:
> > >
> > > > A workaround is to use rep() inside "[":
> > > >
> > > > > a <- list(a=1, b=2, c=3)
> > > > > a[rep(1:3, 1:3)]
> > > > $a
> > > > [1] 1
> > > >
> > > > $b
> > > > [1] 2
> > > >
> > > > $b
> > > > [1] 2
> > > >
> > > > $c
> > > > [1] 3
> > > >
> > > > $c
> > > > [1] 3
> > > >
> > > > $c
> > > > [1] 3
> > > >
> > > > Note, however, that names are no longer unique!
> > >
> > > This work-around is cunning but needs a bit of care, as to get the
> > > replication of the whole of fred you need to wrap the list itself:
> > >
> > > > fred <- list(happy = 1:10, fred = "squash")
> > > > list(fred)[rep(1, 10)] # list with 10 copies of fred
> > >
> > > Cheers, Jonathn.

Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Apr 12 09:25:36 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 12 Apr 2001 09:25:36 +0100 (BST)
Subject: [Rd] Re: stop() and Rcmd (PR#910)
In-Reply-To: <200104120750.JAA05587@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.31.0104120922310.823-100000@toucan.stats>

On Thu, 12 Apr 2001 ligges@statistik.uni-dortmund.de wrote:

> "Rcmd check"  on NT does not catch errors generated by stop() in files
> in the tests directory. Thus the fact that all the tests complete does
> not mean they completed succesfully.
>
> This report is based on output from Rcmd check for the bundle dseplus
> version 2001.4-1. The test  curve/tests/crvB07.R does a comparison which
> on NT is outside of tolerance and executes stop(). (The comparison value
> has been adjusted so that future versions of dseplus will not fail on
> this test.)

Perl version?  (Lots of these things depend critically on the build.)
Does make pkgcheck-foo work or not?

Can you provide a patch that works on your setup, please.  Otherwise it
will remain unfixed.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Apr 12 09:40:43 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 12 Apr 2001 09:40:43 +0100 (BST)
Subject: [Rd] replicating lists
In-Reply-To: <Pine.GSO.4.20.0104120859570.13680-100000@laplace>
Message-ID: <Pine.GSO.4.31.0104120925470.823-100000@toucan.stats>

On Thu, 12 Apr 2001, Jonathan Rougier wrote:

> Hi Brian,
>
> After a discussion with David James can you clarify exactly what you think
> the behaviour of "rep" will be?  The three alternatives for rep(fred, 5)
> would appear to be
>
> > fred <- list(happy = 1:10, name = "squash")
> > list(fred)[rep(1, 5)]                          # version 1
> > fred[rep(seq(along=fred), length=5)]           # version 2
> > unlist(list(fred)[rep(1, 5)], recursive=FALSE) # version 3
>
> I was expecting the first, as this makes sense in the context of
>
> > tmp <- array(fred, c(3, 4))
>
> but I can see that the second is also a natural way to think about
> replicating a list.  I also notice that S+ uses version 3.  Personally I
> don't like version 3 as it is going to duplicate names, and it is not
> going to fit with "array".
>
> Confused, Jonathan.

We follow the prototype in cases of doubt, so version 3.  *However*,
S-PLUS does different things by version, so version 6.0 drops the
duplicated names.  I really think only 3 makes sense: a list is a generic
vector, and you do exactly the same thing as for any other sort of vector.
The only issue is the names, and

x <- letters[1:3]
names(x) <- x
rep(x, 5)

drops names in S+6.0, keeps them in S+3.4 and R.  So the S-PLUS versions
are doing consistent things with character vectors and lists.

As for array, again it fits with all other sorts of vectors.   I think you
are misconceiving what a list is: think of it as a vector with
components of different types.  An array list is just an array with
elements of different types.  The problems you had with [[1, ]] stem from
the same problem,

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From e.zwane@fss.uu.nl  Thu Apr 12 09:44:17 2001
From: e.zwane@fss.uu.nl (e.zwane@fss.uu.nl)
Date: Thu, 12 Apr 2001 10:44:17 +0200 (MET DST)
Subject: [Rd] .Random.seed (PR#911)
Message-ID: <200104120844.KAA05804@pubhealth.ku.dk>

I am not sure whether this is really a bug, but seems to be as my program 
works pretty well in S+, for small iterations.

I am creating a random sample from a chi^2 distribution with 23.5 df. Thus 
I have to sample from a chi^2 with 23 or 24 df with probability 0.5. The 
other alternative is to create a weighted version of the two distribution, 
which is where my problem lies.

I use the following commands

while(iter<100){
old.seed<-.Random.seed
#sample from chi^2 23
set.seed(old.seed)
#sample from chi^2 24

#chi^2, 23.5 <- 0.5*(chi^2 23+chi^2 24)
iter+1
}

The unfortunate thing is that the ".Random.seed" is no longer random but 
remains constant, and I want to find ways around this problem.
_______________________________________________________________________
Eugene ZWANE
Department of Methodology and Statistics
Postbus 80.140
3508 TC, Utrecht
The Netherlands

Tel: +31 (030) 253-7635
_______________________________________________________________________
The formulation of a problem is more often essential than its solution 
which may be merely a matter of mathematical or experimental skill. 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Apr 12 10:08:20 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 12 Apr 2001 11:08:20 +0200 (MET DST)
Subject: [Rd] .Random.seed (PR#911)
Message-ID: <200104120908.LAA05854@pubhealth.ku.dk>

On Thu, 12 Apr 2001 e.zwane@fss.uu.nl wrote:

> I am not sure whether this is really a bug, but seems to be as my program
> works pretty well in S+, for small iterations.

It contains two serious bugs.  Please read the FAQ on reporting BUGS.

> I am creating a random sample from a chi^2 distribution with 23.5 df. Thus
> I have to sample from a chi^2 with 23 or 24 df with probability 0.5. The
> other alternative is to create a weighted version of the two distribution,
> which is where my problem lies.
>
> I use the following commands
>
> while(iter<100){
> old.seed<-.Random.seed
> #sample from chi^2 23
> set.seed(old.seed)

That's invalid in both S-PLUS and in R.  The argument to set.seed is
not in the format of the result of the return from .Random.seed.

> #sample from chi^2 24
>
> #chi^2, 23.5 <- 0.5*(chi^2 23+chi^2 24)

That's an average, not an equi-probability choice.

> iter+1
> }
>
> The unfortunate thing is that the ".Random.seed" is no longer random but
> remains constant, and I want to find ways around this problem.

Use the functions correctly!  You really should not be restoring random
seeds during a simulation, as you will get heavily dependent rvs.

If you really want a Chi-squared with 23.5 df, use rgamma.  It can do it
exactly.


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Thu Apr 12 11:58:45 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Thu, 12 Apr 2001 12:58:45 +0200
Subject: [Rd] replicating lists
In-Reply-To: <Pine.GSO.4.31.0104120925470.823-100000@toucan.stats>
References: <Pine.GSO.4.20.0104120859570.13680-100000@laplace>
 <Pine.GSO.4.31.0104120925470.823-100000@toucan.stats>
Message-ID: <15061.35429.294081.705880@mithrandir.hornik.net>

>>>>> Prof Brian Ripley writes:

> On Thu, 12 Apr 2001, Jonathan Rougier wrote:
>> Hi Brian,
>> 
>> After a discussion with David James can you clarify exactly what you think
>> the behaviour of "rep" will be?  The three alternatives for rep(fred, 5)
>> would appear to be
>> 
>> > fred <- list(happy = 1:10, name = "squash")
>> > list(fred)[rep(1, 5)]                          # version 1
>> > fred[rep(seq(along=fred), length=5)]           # version 2
>> > unlist(list(fred)[rep(1, 5)], recursive=FALSE) # version 3
>> 
>> I was expecting the first, as this makes sense in the context of
>> 
>> > tmp <- array(fred, c(3, 4))
>> 
>> but I can see that the second is also a natural way to think about
>> replicating a list.  I also notice that S+ uses version 3.  Personally I
>> don't like version 3 as it is going to duplicate names, and it is not
>> going to fit with "array".
>> 
>> Confused, Jonathan.

> We follow the prototype in cases of doubt, so version 3.  *However*,
> S-PLUS does different things by version, so version 6.0 drops the
> duplicated names.  I really think only 3 makes sense: a list is a
> generic vector, and you do exactly the same thing as for any other
> sort of vector.  The only issue is the names, and

> x <- letters[1:3]
> names(x) <- x
> rep(x, 5)

> drops names in S+6.0, keeps them in S+3.4 and R.  So the S-PLUS
> versions are doing consistent things with character vectors and lists.

We had a similar discussion when fixing all.equal problems with lists.
These are generic vectors and not hashtables, hence I think the above is
the ``right approach'' (following the general principle).

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gilg.seeber@uibk.ac.at  Thu Apr 12 14:07:54 2001
From: gilg.seeber@uibk.ac.at (gilg.seeber@uibk.ac.at)
Date: Thu, 12 Apr 2001 15:07:54 +0200 (MET DST)
Subject: [Rd] Rgui.exe crash on Windows 2000 (PR#912)
Message-ID: <200104121307.PAA06507@pubhealth.ku.dk>

Full_Name: G.U.H. Seeber
Version: most recent binary from CRAN
OS: Windows 2000
Submission from: (NULL) (138.232.202.67)


When calling Rgui.exe the program crashes before any windows open. 
I append the output from Dr. Watson:

Anwendungsausnahme aufgetreten:
        Anwendung:  (pid=860)
        Wann: 12.04.2001 @ 13:33:11.515
        Ausnahmenummer: c0000005 (Zugriffsverletzung)

*----> Systeminformationen <----*
        Computername: C403-DRUM
        Benutzername: gs
        Prozessoranzahl: 1
        Prozessortyp: x86 Family 6 Model 7 Stepping 2
        Windows 2000-Version: 5.0
        Aktuelles Build: 2195
        Service Pack: None
        Aktueller Typ: Uniprocessor Free
        Firma: Universitt Innsbruck
        Besitzer: Institut fr Statistik

*----> Taskliste <----*
   0 Idle.exe
   8 System.exe
 152 smss.exe
 180 csrss.exe
 200 winlogon.exe
 228 services.exe
 240 lsass.exe
 404 svchost.exe
 452 LEXBCES.exe
 476 spoolsv.exe
 512 cpqalert.exe
 532 svchost.exe
 548 inetd32.exe
 564 jconfigdNT.exe
 600 regsvc.exe
 608 hjavaw.exe
 624 mstask.exe
 672 tcpsvcs.exe
 692 javaw.exe
 720 snmp.exe
 776 Win32sl.exe
 800 ZipToA.exe
 832 inetinfo.exe
 880 cpqdmi.exe
1172 explorer.exe
 328 chkadmin.exe
1204 nwtray.exe
1212 dpmw32.exe
1220 realplay.exe
1236 pdesk.exe
1252 AcroTray.exe
1296 IMGICON.exe
1388 OSA.exe
1420 CLOCK.exe
1052 exceed.exe
 860 Rgui.exe
1312 drwtsn32.exe
   0 _Total.exe

(00400000 - 00406000)
(77F80000 - 77FFF000)
(02510000 - 026DC000)
(77DA0000 - 77DFA000)
(77E70000 - 77F33000)
(77D30000 - 77D9F000)
(77B40000 - 77BCA000)
(77F40000 - 77F7C000)
(77E00000 - 77E65000)
(76B00000 - 76B3F000)
(77C60000 - 77CAA000)
(77580000 - 777C6000)
(78000000 - 78046000)
(77810000 - 77817000)
(75940000 - 75946000)
(74FC0000 - 74FC9000)
(74FA0000 - 74FB4000)
(74F90000 - 74F98000)
(77A40000 - 77B35000)
(779A0000 - 77A35000)
(77840000 - 7787D000)
(77090000 - 770B3000)

Statusabbild fr Threadkennung 0x37c

eax=00003a64 ebx=0240fa20 ecx=00000000 edx=7efefeff esi=00000002 edi=02688472
eip=78003b44 esp=0240f9a0 ebp=0240fe90 iopl=0         nv up ei pl zr na po nc
cs=001b  ss=0023  ds=0023  es=0023  fs=0038  gs=0000             efl=00000246


Funktion: strcpy
        78003b27 7416             jz      _threadhandle+0x4c2 (7800c53f)
        78003b29 8a11             mov     dl,[ecx]                    
ds:00000000=??
        78003b2b 41               inc     ecx
        78003b2c 84d2             test    dl,dl
        78003b2e 0f84c8100000     je      strcat+0x9c (78004bfc)
        78003b34 8817             mov     [edi],dl                    
ds:02688472=00
        78003b36 47               inc     edi
        78003b37 f7c103000000     test    ecx,0x3
        78003b3d 75ea             jnz     seh_longjmp_unwind+0x2 (7800f629)
        78003b3f bafffefe7e       mov     edx,0x7efefeff
FEHLER ->78003b44 8b01             mov     eax,[ecx]             
ds:00000000=????????
        78003b46 03d0             add     edx,eax
        78003b48 83f0ff           xor     eax,0xff
        78003b4b 33c2             xor     eax,edx
        78003b4d 8b11             mov     edx,[ecx]             
ds:00000000=????????
        78003b4f 83c104           add     ecx,0x4
        78003b52 a900010181       test    eax,0x81010100
        78003b57 0f8565100000     jne     strcat+0x62 (78004bc2)
        78003b5d 8917             mov     [edi],edx             
ds:02688472=00000000
        78003b5f 83c704           add     edi,0x4
        78003b62 ebdb             jmp     set_sbh_threshold+0xca3 (7800dd3f)
        78003b64 a16cbb0378    mov eax,[environ+0x24 (7803bb6c)]
ds:7803bb6c=78003b91

*----> Stack Back Trace <----*

FramePtr ReturnAd Param#1  Param#2  Param#3  Param#4  Function Name
0240FE90 004012FA 00000000 02BE37C8 77E8D051 00000008 !strcpy
0240FEB0 0040123B 00000001 02BE37C8 0240FEE0 00401227 !<nosymbols>
0240FEE0 004013DE 00400000 00000000 02413285 00000001 !<nosymbols>
0240FF60 004011C1 00000001 02BE37C8 02BE29A8 004011A6 !<nosymbols>
0240FFA0 00401207 00000002 00000000 00000000 77E77900 !<nosymbols>
0240FFC0 77E77903 00000008 00000002 7FFDF000 C0000005 !<nosymbols>
0240FFF0 00000000 004011F0 00000000 000000C8 00000100
kernel32!SetUnhandledExceptionFilter

*----> Raw Stack Dump <----*
0240f9a0  08 00 00 00 bc f8 52 02 - 70 84 68 02 00 00 00 00  ......R.p.h.....
0240f9b0  7a f2 52 02 7c f8 52 02 - 70 f2 52 02 c8 37 be 02  z.R.|.R.p.R..7..
0240f9c0  90 fe 40 02 0d f8 52 02 - 85 32 41 02 02 00 00 00  ..@...R..2A.....
0240f9d0  08 00 00 00 a1 71 e7 77 - a0 71 41 02 e8 72 41 02  .....q.w.qA..rA.
0240f9e0  00 00 00 00 00 e0 fd 7f - 65 00 63 00 75 00 74 00  ........e.c.u.t.
0240f9f0  78 01 41 02 78 01 41 02 - 00 c0 f8 1f 00 00 00 00  x.A.x.A.........
0240fa00  20 00 00 00 18 00 00 00 - 00 c0 f8 1f 00 30 39 18   ............09.
0240fa10  00 90 06 4e 00 80 86 47 - 00 00 fe 7f 00 00 aa 6a  ...N...G.......j
0240fa20  00 00 00 00 00 00 00 00 - 01 00 00 00 00 00 00 00  ................
0240fa30  01 00 00 00 01 00 00 00 - 00 00 00 00 01 00 00 00  ................
0240fa40  05 00 00 00 00 00 60 00 - 30 57 05 00 ff ff ff 7f  ......`.0W......
0240fa50  ff ff ff 7f 01 00 00 00 - 01 00 00 00 60 18 c0 02  ............`...
0240fa60  e0 6b 68 02 75 00 69 00 - 6c e5 52 02 48 e8 52 02  .kh.u.i.l.R.H.R.
0240fa70  38 e4 52 02 00 1e 66 02 - a4 1e 66 02 fc e8 52 02  8.R...f...f...R.
0240fa80  00 00 00 00 00 00 00 00 - d4 fa 40 02 00 10 00 00  ..........@.....
0240fa90  04 00 00 00 00 00 41 02 - 00 00 41 02 e8 6d 41 02  ......A...A..mA.
0240faa0  00 00 00 00 40 06 41 02 - 43 02 00 00 e0 fa 40 02  ....@.A.C.....@.
0240fab0  04 00 00 00 d3 43 f9 77 - 48 07 be 02 00 00 be 02  .....C.wH.......
0240fac0  04 00 00 00 00 00 00 00 - b8 fa 40 02 00 02 00 00  ..........@.....
0240fad0  70 fc 40 02 db 80 fb 77 - 18 44 f9 77 ff ff ff ff  p.@....w.D.w....

Statusabbild fr Threadkennung 0x3dc

eax=77d3b759 ebx=02420820 ecx=0241eafc edx=00000000 esi=024206f0 edi=00000100
eip=77f82eec esp=1506fe28 ebp=1506ff74 iopl=0         nv up ei pl nz na pe nc
cs=001b  ss=0023  ds=0023  es=0023  fs=0038  gs=0000             efl=00000202


Funktion: ZwReplyWaitReceivePortEx
        77f82ee1 b8ac000000       mov     eax,0xac
        77f82ee6 8d542404         lea     edx,[esp+0x4]         
ss:15eed3ff=????????
        77f82eea cd2e             int     2e
        77f82eec c21400           ret     0x14

*----> Stack Back Trace <----*

FramePtr ReturnAd Param#1  Param#2  Param#3  Param#4  Function Name
1506FF74 77D3B407 77D3B7BF 024206F0 00000000 40420204
ntdll!ZwReplyWaitReceivePortEx
1506FFA8 77D3B771 0241F680 1506FFEC 77E82CA8 02420820
rpcrt4!RpcBindingSetOption
1506FFB4 77E82CA8 02420820 00000000 40420204 02420820
rpcrt4!RpcBindingSetOption
1506FFEC 00000000 00000000 00000000 00000000 00000000 kernel32!CreateFileA


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Apr 12 14:37:49 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 12 Apr 2001 15:37:49 +0200 (MET DST)
Subject: [Rd] Rgui.exe crash on Windows 2000 (PR#912)
Message-ID: <200104121337.PAA06622@pubhealth.ku.dk>

On Thu, 12 Apr 2001 gilg.seeber@uibk.ac.at wrote:

> Full_Name: G.U.H. Seeber
> Version: most recent binary from CRAN

And what was that called?  rterm --version tells you.

> OS: Windows 2000
> Submission from: (NULL) (138.232.202.67)
>
>
> When calling Rgui.exe the program crashes before any windows open.

As it does not on my Windows 2000 system, nor on the Windows 2000 system
on which it was built nor for many other users, this would appear to
indicate a problem with your installation and not with the R binaries.
In particular, the error seems to have occurred in a system DLL and not in
Rgui.exe.

I suggest you compile a debug version from the sources and investigate
what problem might be peculiar to your machine.

One thing we know, but seems implausible: R fails to start (but with a
different error) if the machine has less than 10Mb of RAM.  But Windows
2000 likes 64MB or more.

[...]

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Apr 12 16:00:21 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 12 Apr 2001 17:00:21 +0200 (MET DST)
Subject: [Rd] Re: stop() and Rcmd (PR#910)
Message-ID: <200104121500.RAA06862@pubhealth.ku.dk>

On Thu, 12 Apr 2001, Prof Brian Ripley wrote:

> On Thu, 12 Apr 2001 ligges@statistik.uni-dortmund.de wrote:
>
> > "Rcmd check"  on NT does not catch errors generated by stop() in files
> > in the tests directory. Thus the fact that all the tests complete does
> > not mean they completed succesfully.

In my experiments it *does* put out an error but continues.  This is
intentional, as some Perls are rather flaky.  If you want to change it,
remove the leading `-' in line 29 of etc/Makeconf-tests.

> > This report is based on output from Rcmd check for the bundle dseplus
> > version 2001.4-1. The test  curve/tests/crvB07.R does a comparison which
> > on NT is outside of tolerance and executes stop(). (The comparison value
> > has been adjusted so that future versions of dseplus will not fail on
> > this test.)
>
> Perl version?  (Lots of these things depend critically on the build.)
> Does make pkgcheck-foo work or not?

That does work for me, with build 613 (and at least 619-621 are known to
have broken system() calls).

If you are not seeing an error on the console as the tests run,
something else is up in your setup (not at all unlikely with
Windows makes).

On the other hand, Rcmd check dse fails for me because the scripts
are asking for interactive input (the number of singular values) and
chewing up the rest of the script.  That *is* a bug in dse.

In general, make pkgcheck-foo is more reliable under Windows.


BTW, this has nothing whatsoever to do with Rcmd!

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Apr 12 16:08:58 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 12 Apr 2001 17:08:58 +0200 (MET DST)
Subject: [Rd] readline 4.2 shows R has (fatal) incorrect declarations. (PR#913)
Message-ID: <200104121508.RAA06926@pubhealth.ku.dk>

Specifically Solaris 2.7 and R 1.2.2 patched, but the principle is general.

src/unix/sys-unix.c declares the function tilde_expand from readline,
incorrectly for readline 4.x.  That's OK in 4.1 as it is not in the
included headers, but it is for 4.2, and so compilation fails (under gcc
2.95.3 at least).

The quick fix is (ca line 88)

char *tilde_expand(const char*);
                   ^^^^^

but we should really check the readline version number and only
define this in earlier versions.

There is also a conflict in src/unix/sys-std.c: readline_handler
is defined with unsigned char * but it should be char * according to the
readline 4.2 prototype.


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Apr 12 17:33:21 2001
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 12 Apr 2001 12:33:21 -0400
Subject: [Rd] Re: stop() and Rcmd (PR#910)
References: <200104121500.RAA06862@pubhealth.ku.dk>
Message-ID: <3AD5D8D1.C0573E52@bank-banque-canada.ca>

>> > "Rcmd check"  on NT does not catch errors generated by stop() in files
>> > in the tests directory. Thus the fact that all the tests complete does
>> > not mean they completed succesfully.

>In my experiments it *does* put out an error but continues.  This is
>intentional, as some Perls are rather flaky.  If you want to change it,
>remove the leading `-' in line 29 of etc/Makeconf-tests.

Knowing little about Windows I won't try to suggest what the default should be for
Windows. However, I do rely on make stopping when there is an error signalled by "R
CMD build". There is too much output to examine manually every time I test a package.
In general I think errors may go unnoticed for a long time if make does not stop on
errors, so I think the idea of continuing is a bit risky. But perhaps I should be
using something other than "R CMD build" to do testing. I thought things had recently
changed so that this was the preferred way to test a package?

>On the other hand, Rcmd check dse fails for me because the scripts
>are asking for interactive input (the number of singular values) and
>chewing up the rest of the script.  That *is* a bug in dse.

That is a bug in some examples, thanks for pointing it out. Is there a strategy for
handling interactive input to examples?

I don't seem to get the "chewing up the rest of the script" though. I also don't get
any failure in the sense of an error signalled to R CMD build or to my make. For the
reasons mentioned above I think that might be a good thing to do.

Paul Gilbert


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Apr 12 17:47:42 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 12 Apr 2001 17:47:42 +0100 (BST)
Subject: [Rd] Re: stop() and Rcmd (PR#910)
In-Reply-To: <3AD5D8D1.C0573E52@bank-banque-canada.ca>
Message-ID: <Pine.GSO.4.31.0104121741080.1707-100000@toucan.stats>

On Thu, 12 Apr 2001, Paul Gilbert wrote:

> >> > "Rcmd check"  on NT does not catch errors generated by stop() in files
> >> > in the tests directory. Thus the fact that all the tests complete does
> >> > not mean they completed succesfully.
>
> >In my experiments it *does* put out an error but continues.  This is
> >intentional, as some Perls are rather flaky.  If you want to change it,
> >remove the leading `-' in line 29 of etc/Makeconf-tests.
>
> Knowing little about Windows I won't try to suggest what the default should be for
> Windows. However, I do rely on make stopping when there is an error signalled by "R
> CMD build". There is too much output to examine manually every time I test a package.
> In general I think errors may go unnoticed for a long time if make does not stop on
> errors, so I think the idea of continuing is a bit risky. But perhaps I should be
> using something other than "R CMD build" to do testing. I thought things had recently
> changed so that this was the preferred way to test a package?

1) On Unix only R CMD check exists.

2) On Windows, we did hope to make Rcmd check the standard way.
Unfortunately, a whole series Perl builds were broken, so make
pkgcheck-foo is still preferred.

3) There is a perfectly clear error message in the output on the console
from the run (and there is very litle from correct tests, so little to
look at), and I think it is hard to overlook, if you look at all.
But if you want, you can change it.

> >On the other hand, Rcmd check dse fails for me because the scripts
> >are asking for interactive input (the number of singular values) and
> >chewing up the rest of the script.  That *is* a bug in dse.
>
> That is a bug in some examples, thanks for pointing it out. Is there a strategy for
> handling interactive input to examples?

You can't have any at all.  It will read the next part of the script,
after the current buffer.

> I don't seem to get the "chewing up the rest of the script" though. I also don't get
> any failure in the sense of an error signalled to R CMD build or to my make. For the
> reasons mentioned above I think that might be a good thing to do.

What happens depends on buffer size and so is platform-specific.  Windows
seems to have much smaller buffers than Solaris or Linux, so this seems to
bite there much more often.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Thu Apr 12 22:43:33 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Thu, 12 Apr 2001 23:43:33 +0200
Subject: [Rd] Rgui.exe crash on Windows 2000 (PR#912)
References: <200104121307.PAA06507@pubhealth.ku.dk>
Message-ID: <3AD62185.B157022C@univie.ac.at>

is any of the running processes a keyboard macro program?
on my win2k machine,
hotkeyboard (a system wide macro expander)
and r cannot coexist.



gilg.seeber@uibk.ac.at wrote:
> 
> Full_Name: G.U.H. Seeber
> Version: most recent binary from CRAN
> OS: Windows 2000
> Submission from: (NULL) (138.232.202.67)
> 
> When calling Rgui.exe the program crashes before any windows open.
> I append the output from Dr. Watson:
> 
> Anwendungsausnahme aufgetreten:
>         Anwendung:  (pid=860)
>         Wann: 12.04.2001 @ 13:33:11.515
>         Ausnahmenummer: c0000005 (Zugriffsverletzung)
> 
> *----> Systeminformationen <----*
>         Computername: C403-DRUM
>         Benutzername: gs
>         Prozessoranzahl: 1
>         Prozessortyp: x86 Family 6 Model 7 Stepping 2
>         Windows 2000-Version: 5.0
>         Aktuelles Build: 2195
>         Service Pack: None
>         Aktueller Typ: Uniprocessor Free
>         Firma: Universitt Innsbruck
>         Besitzer: Institut fr Statistik
> 
> *----> Taskliste <----*
>    0 Idle.exe
>    8 System.exe
>  152 smss.exe
>  180 csrss.exe
>  200 winlogon.exe
>  228 services.exe
>  240 lsass.exe
>  404 svchost.exe
>  452 LEXBCES.exe
>  476 spoolsv.exe
>  512 cpqalert.exe
>  532 svchost.exe
>  548 inetd32.exe
>  564 jconfigdNT.exe
>  600 regsvc.exe
>  608 hjavaw.exe
>  624 mstask.exe
>  672 tcpsvcs.exe
>  692 javaw.exe
>  720 snmp.exe
>  776 Win32sl.exe
>  800 ZipToA.exe
>  832 inetinfo.exe
>  880 cpqdmi.exe
> 1172 explorer.exe
>  328 chkadmin.exe
> 1204 nwtray.exe
> 1212 dpmw32.exe
> 1220 realplay.exe
> 1236 pdesk.exe
> 1252 AcroTray.exe
> 1296 IMGICON.exe
> 1388 OSA.exe
> 1420 CLOCK.exe
> 1052 exceed.exe
>  860 Rgui.exe
> 1312 drwtsn32.exe
>    0 _Total.exe
> 
> (00400000 - 00406000)
> (77F80000 - 77FFF000)
> (02510000 - 026DC000)
> (77DA0000 - 77DFA000)
> (77E70000 - 77F33000)
> (77D30000 - 77D9F000)
> (77B40000 - 77BCA000)
> (77F40000 - 77F7C000)
> (77E00000 - 77E65000)
> (76B00000 - 76B3F000)
> (77C60000 - 77CAA000)
> (77580000 - 777C6000)
> (78000000 - 78046000)
> (77810000 - 77817000)
> (75940000 - 75946000)
> (74FC0000 - 74FC9000)
> (74FA0000 - 74FB4000)
> (74F90000 - 74F98000)
> (77A40000 - 77B35000)
> (779A0000 - 77A35000)
> (77840000 - 7787D000)
> (77090000 - 770B3000)
> 
> Statusabbild fr Threadkennung 0x37c
> 
> eax=00003a64 ebx=0240fa20 ecx=00000000 edx=7efefeff esi=00000002 edi=02688472
> eip=78003b44 esp=0240f9a0 ebp=0240fe90 iopl=0         nv up ei pl zr na po nc
> cs=001b  ss=0023  ds=0023  es=0023  fs=0038  gs=0000             efl=00000246
> 
> Funktion: strcpy
>         78003b27 7416             jz      _threadhandle+0x4c2 (7800c53f)
>         78003b29 8a11             mov     dl,[ecx]
> ds:00000000=??
>         78003b2b 41               inc     ecx
>         78003b2c 84d2             test    dl,dl
>         78003b2e 0f84c8100000     je      strcat+0x9c (78004bfc)
>         78003b34 8817             mov     [edi],dl
> ds:02688472=00
>         78003b36 47               inc     edi
>         78003b37 f7c103000000     test    ecx,0x3
>         78003b3d 75ea             jnz     seh_longjmp_unwind+0x2 (7800f629)
>         78003b3f bafffefe7e       mov     edx,0x7efefeff
> FEHLER ->78003b44 8b01             mov     eax,[ecx]
> ds:00000000=????????
>         78003b46 03d0             add     edx,eax
>         78003b48 83f0ff           xor     eax,0xff
>         78003b4b 33c2             xor     eax,edx
>         78003b4d 8b11             mov     edx,[ecx]
> ds:00000000=????????
>         78003b4f 83c104           add     ecx,0x4
>         78003b52 a900010181       test    eax,0x81010100
>         78003b57 0f8565100000     jne     strcat+0x62 (78004bc2)
>         78003b5d 8917             mov     [edi],edx
> ds:02688472=00000000
>         78003b5f 83c704           add     edi,0x4
>         78003b62 ebdb             jmp     set_sbh_threshold+0xca3 (7800dd3f)
>         78003b64 a16cbb0378    mov eax,[environ+0x24 (7803bb6c)]
> ds:7803bb6c=78003b91
> 
> *----> Stack Back Trace <----*
> 
> FramePtr ReturnAd Param#1  Param#2  Param#3  Param#4  Function Name
> 0240FE90 004012FA 00000000 02BE37C8 77E8D051 00000008 !strcpy
> 0240FEB0 0040123B 00000001 02BE37C8 0240FEE0 00401227 !<nosymbols>
> 0240FEE0 004013DE 00400000 00000000 02413285 00000001 !<nosymbols>
> 0240FF60 004011C1 00000001 02BE37C8 02BE29A8 004011A6 !<nosymbols>
> 0240FFA0 00401207 00000002 00000000 00000000 77E77900 !<nosymbols>
> 0240FFC0 77E77903 00000008 00000002 7FFDF000 C0000005 !<nosymbols>
> 0240FFF0 00000000 004011F0 00000000 000000C8 00000100
> kernel32!SetUnhandledExceptionFilter
> 
> *----> Raw Stack Dump <----*
> 0240f9a0  08 00 00 00 bc f8 52 02 - 70 84 68 02 00 00 00 00  ......R.p.h.....
> 0240f9b0  7a f2 52 02 7c f8 52 02 - 70 f2 52 02 c8 37 be 02  z.R.|.R.p.R..7..
> 0240f9c0  90 fe 40 02 0d f8 52 02 - 85 32 41 02 02 00 00 00  ..@...R..2A.....
> 0240f9d0  08 00 00 00 a1 71 e7 77 - a0 71 41 02 e8 72 41 02  .....q.w.qA..rA.
> 0240f9e0  00 00 00 00 00 e0 fd 7f - 65 00 63 00 75 00 74 00  ........e.c.u.t.
> 0240f9f0  78 01 41 02 78 01 41 02 - 00 c0 f8 1f 00 00 00 00  x.A.x.A.........
> 0240fa00  20 00 00 00 18 00 00 00 - 00 c0 f8 1f 00 30 39 18   ............09.
> 0240fa10  00 90 06 4e 00 80 86 47 - 00 00 fe 7f 00 00 aa 6a  ...N...G.......j
> 0240fa20  00 00 00 00 00 00 00 00 - 01 00 00 00 00 00 00 00  ................
> 0240fa30  01 00 00 00 01 00 00 00 - 00 00 00 00 01 00 00 00  ................
> 0240fa40  05 00 00 00 00 00 60 00 - 30 57 05 00 ff ff ff 7f  ......`.0W......
> 0240fa50  ff ff ff 7f 01 00 00 00 - 01 00 00 00 60 18 c0 02  ............`...
> 0240fa60  e0 6b 68 02 75 00 69 00 - 6c e5 52 02 48 e8 52 02  .kh.u.i.l.R.H.R.
> 0240fa70  38 e4 52 02 00 1e 66 02 - a4 1e 66 02 fc e8 52 02  8.R...f...f...R.
> 0240fa80  00 00 00 00 00 00 00 00 - d4 fa 40 02 00 10 00 00  ..........@.....
> 0240fa90  04 00 00 00 00 00 41 02 - 00 00 41 02 e8 6d 41 02  ......A...A..mA.
> 0240faa0  00 00 00 00 40 06 41 02 - 43 02 00 00 e0 fa 40 02  ....@.A.C.....@.
> 0240fab0  04 00 00 00 d3 43 f9 77 - 48 07 be 02 00 00 be 02  .....C.wH.......
> 0240fac0  04 00 00 00 00 00 00 00 - b8 fa 40 02 00 02 00 00  ..........@.....
> 0240fad0  70 fc 40 02 db 80 fb 77 - 18 44 f9 77 ff ff ff ff  p.@....w.D.w....
> 
> Statusabbild fr Threadkennung 0x3dc
> 
> eax=77d3b759 ebx=02420820 ecx=0241eafc edx=00000000 esi=024206f0 edi=00000100
> eip=77f82eec esp=1506fe28 ebp=1506ff74 iopl=0         nv up ei pl nz na pe nc
> cs=001b  ss=0023  ds=0023  es=0023  fs=0038  gs=0000             efl=00000202
> 
> Funktion: ZwReplyWaitReceivePortEx
>         77f82ee1 b8ac000000       mov     eax,0xac
>         77f82ee6 8d542404         lea     edx,[esp+0x4]
> ss:15eed3ff=????????
>         77f82eea cd2e             int     2e
>         77f82eec c21400           ret     0x14
> 
> *----> Stack Back Trace <----*
> 
> FramePtr ReturnAd Param#1  Param#2  Param#3  Param#4  Function Name
> 1506FF74 77D3B407 77D3B7BF 024206F0 00000000 40420204
> ntdll!ZwReplyWaitReceivePortEx
> 1506FFA8 77D3B771 0241F680 1506FFEC 77E82CA8 02420820
> rpcrt4!RpcBindingSetOption
> 1506FFB4 77E82CA8 02420820 00000000 40420204 02420820
> rpcrt4!RpcBindingSetOption
> 1506FFEC 00000000 00000000 00000000 00000000 00000000 kernel32!CreateFileA
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Sat Apr 14 01:39:56 2001
From: dmurdoch@pair.com (dmurdoch@pair.com)
Date: Sat, 14 Apr 2001 02:39:56 +0200 (MET DST)
Subject: [Rd] Postscript font bugs (and a suggestion) (PR#914)
Message-ID: <200104140039.CAA10778@pubhealth.ku.dk>

Documentation and other bugs with postscript():

1.  This code crashes R (it asks for a font that isn't there):

 postscript()
 plot(0:1,0:1)
 text(0.5,0.5,'crash',font=6)


The bug appears to be in the FixupFont routine in plot.c; on line 236,
it checks that the font number is in the range 1..32.  Later this
crashes PostScriptStringWidth in devPS.c, because only fonts numbered
1..5 are actually defined.  I don't know how to fix it.


2.  The ?postscript help topic refers to .ps.profile; the actual
variable name is .ps.prolog.  The C source in main/devPS.c has this
on lines 606-608, with the incorrect name in the error message:

    prolog = findVar(install(".ps.prolog"), R_GlobalEnv);
    if(!isString(prolog))
	error("Object .ps.profile is not a character vector");


3.  And this is a suggestion, not a bug:  I'd like to change the font 
definitions by changing the .ps.prolog instructions, but devPS.c puts
the     

   PSEncodeFont(fp, encoding);

line after the place where .ps.prolog is written to the file.  If
.ps.prolog were last, then it could override any standard setting.
This would mean that the font metrics would not be quite right, but it
would be useful for experimenting.

This patch addresses items 2 and 3 in src/main/devPS.c:

606,608c606,609
<     prolog = findVar(install(".ps.prolog"), R_GlobalEnv);
<     if(!isString(prolog))
< 	error("Object .ps.profile is not a character vector");
---
>     PSEncodeFont(fp, encoding);
>     prolog = findVar(install(".ps.prolog"), R_GlobalEnv);
>     if(!isString(prolog))
> 	error("Object .ps.prolog is not a character vector");
613d614
<     PSEncodeFont(fp, encoding);

and this addresses item 2 in src/library/base/postscript.Rd:

116c116
<   vector \code{.ps.profile}.  This is marked in the output, and can
be
---
>   vector \code{.ps.prolog}.  This is marked in the output, and can be



--please do not edit the information below--

Version:
 platform = i386-pc-mingw32
 arch = x86
 os = Win32
 system = x86, Win32
 status = 
 major = 1
 minor = 2.2
 year = 2001
 month = 02
 day = 26
 language = R

Windows 9x 4.0 (build 1111)  B

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sat Apr 14 07:33:13 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 14 Apr 2001 07:33:13 +0100 (BST)
Subject: [Rd] Postscript font bugs (and a suggestion) (PR#914)
In-Reply-To: <200104140039.CAA10778@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.31.0104140722510.21140-100000@auk.stats>

On Sat, 14 Apr 2001 dmurdoch@pair.com wrote:

> Documentation and other bugs with postscript():
>
> 1.  This code crashes R (it asks for a font that isn't there):
>
>  postscript()
>  plot(0:1,0:1)
>  text(0.5,0.5,'crash',font=6)

Only on Windows, I think.  This works fine on Unix.

> The bug appears to be in the FixupFont routine in plot.c; on line 236,
> it checks that the font number is in the range 1..32.  Later this

(1..32 on Windows, 1..4 elsewhere.)

> crashes PostScriptStringWidth in devPS.c, because only fonts numbered
> 1..5 are actually defined.  I don't know how to fix it.

I've added a range check in PS_StrWidth.

> 2.  The ?postscript help topic refers to .ps.profile; the actual
> variable name is .ps.prolog.  The C source in main/devPS.c has this
> on lines 606-608, with the incorrect name in the error message:
>
>     prolog = findVar(install(".ps.prolog"), R_GlobalEnv);
>     if(!isString(prolog))
> 	error("Object .ps.profile is not a character vector");

Done.

> 3.  And this is a suggestion, not a bug:  I'd like to change the font
> definitions by changing the .ps.prolog instructions, but devPS.c puts
> the
>
>    PSEncodeFont(fp, encoding);
>
> line after the place where .ps.prolog is written to the file.  If
> .ps.prolog were last, then it could override any standard setting.
> This would mean that the font metrics would not be quite right, but it
> would be useful for experimenting.

Why not use the way which is supported, to supply a user-specifed family?
For experimenting the easiest way surely is to edit the postscript file.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Sat Apr 14 13:29:40 2001
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Sat, 14 Apr 2001 14:29:40 +0200
Subject: [Rd] Re: stop() and Rcmd (PR#910)
In-Reply-To: <3AD5D8D1.C0573E52@bank-banque-canada.ca>
References: <200104121500.RAA06862@pubhealth.ku.dk>
 <3AD5D8D1.C0573E52@bank-banque-canada.ca>
Message-ID: <15064.17076.342387.924179@gargle.gargle.HOWL>

>>>>> "PaulG" == Paul Gilbert <pgilbert@bank-banque-canada.ca> writes:

      ..........

    >> On the other hand, Rcmd check dse fails for me because the scripts
    >> are asking for interactive input (the number of singular values) and
    >> chewing up the rest of the script.  That *is* a bug in dse.

    PaulG> That is a bug in some examples, thanks for pointing it out. Is
    PaulG> there a strategy for handling interactive input to examples?

As Brian said, they "not allowed at all" for normal (tested) part of the
examples.
If you want to *show* them in the example section of your help
{*and* allow the ESS user to send them linewise (by "l") or regionwise}
you must wrap these parts into
\dontrun{

   ... your interactive things ...

}

Note that this will be improved, once we move to a more general
documentation format (based on xml).

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Sat Apr 14 17:03:31 2001
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Sat, 14 Apr 2001 12:03:31 -0400
Subject: [Rd] Defining extra fonts in the postscript driver
Message-ID: <uvrgdtg2ngfhbc0cma4m8eatki0g57v9bj@4ax.com>

I've been looking at the ellipse package I co-wrote with Ed Chow for
S-Plus a few years ago, cleaning up the documentation now it's been
ported to R (by Jesus Frias, thanks IOsu!) and I'm back as the
maintainer.

One of the things it did which we thought was kind of cute at the time
was to use a few lines of Postscript code to define a font, where the
glyphs were ellipses of various shapes, used in the plotcorr function
to display big correlation matrices.

This isn't needed, strictly speaking:  the current port draws the
ellipses using polygon() and lines().  But drawing them with calls to
text() was quite a bit faster,  resulted in much smaller output files,
and just generally seemed like a good idea.

I can imagine other situations where people want to use strange fonts
(user-defined, or just imported from somewhere or other) in R graphs.

Right now that's quite difficult.  The Postscript driver supports four
fonts plus the symbol font; this limit is hard-coded into it.  I can
see a strong argument for having the first five fonts follow a
predictable pattern, but shouldn't it be possible to extend the list?
Syntax could be like the extended family syntax for the current
driver:  a list of filenames of AFM files defining the font
characteristics.  The documentation could state that the first five
must be for regular, bold, italic, bold italic and symbol fonts, but
there seems to be no requirement to restrict the list to 5 entries, or
to put any constraints on entries after the first 5.

I'd be happy to submit revised devPS.c and postscript.Rd files to
implement this, if there's general agreement that it would be a good
idea.

Duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sun Apr 15 23:17:14 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Apr 2001 00:17:14 +0200
Subject: [Rd] Detaching "ctest"
In-Reply-To: Jonathan Rougier's message of "Mon, 9 Apr 2001 09:32:28 +0100 (BST)"
References: <Pine.GSO.4.20.0104090928480.13680-100000@laplace>
Message-ID: <x2snj9oljp.fsf@blueberry.kubism.ku.dk>

Jonathan Rougier <J.C.Rougier@durham.ac.uk> writes:

> > But this is exactly what happens---settings from .Rprofile do override
> > the system and site defaults.  The question is whether .First should be
> > used for package setup, or something else ...
> 
> OK! if you put it like that, then I think that .First should definitely
> *not* be used for package set-up, as it prevents .Rprofile commands from
> being the last things executed before the prompt, and thus removes
> "complete user control" of the set-up.

Ummm, I think you're missing a point here: There is more than one
Rprofile. In normal operation, the system and site Rprofiles are run
*unconditionally* (unless --no-site-file etc. is used). Some things
are not easily undone, package loading for one. Hence it is
unattractive to load packages in the system or site Rprofiles. So what
is there to do? The current construction is to manipulate .First, with
the intention that the user can redefine it in .Rprofile *before it is
being run* and thus have complete control over what packages get
loaded. 

You do want .First to be the last thing run before the prompt, not the
.Rprofile commands, I'm fairly confident about that. The real problem
could be seen as too late loading of the user workspace so that a
stored .First overrides the one set up in the profile. That would be
fairly easy to change, but is it really what one wants??? (If you
explicitly edit .First and save the workspace, wouldn't you expect tne
edited version to be the one run when you start next time?)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Mon Apr 16 09:24:07 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Mon, 16 Apr 2001 10:24:07 +0200
Subject: [Rd] display URLs in browsers
Message-ID: <15066.44071.166554.297231@mithrandir.hornik.net>

Maybe someone knows the answer right away, but I am afraid that all of
us are on Netscape ...

With Netscape, we can do
	netscape -remote -openURL($url)

Does anyone know how to get browsers other than Netscape to display
URLs?

I am specifically interested in
	gnome-help-browser
	mozilla

but would welcome any pointers.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Apr 16 09:51:57 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 16 Apr 2001 09:51:57 +0100 (BST)
Subject: [Rd] display URLs in browsers
In-Reply-To: <15066.44071.166554.297231@mithrandir.hornik.net>
Message-ID: <Pine.GSO.4.31.0104160942240.7738-100000@toucan.stats>

On Mon, 16 Apr 2001, Kurt Hornik wrote:

> Maybe someone knows the answer right away, but I am afraid that all of
> us are on Netscape ...
>
> With Netscape, we can do
> 	netscape -remote -openURL($url)
>
> Does anyone know how to get browsers other than Netscape to display
> URLs?
>
> I am specifically interested in
> 	gnome-help-browser

You don't expect help on gnome, do you?  gnome-help-browser -help says
nothing useful.

I downloaded Ximian GNOME (rpms via their downloader) a week or so ago,
but can't start it as gnome-session is a binary linked against slightly
different X libraries ....

> 	mozilla

I don't know about mozilla (I think Doug uses it), but it looks very
like Netscape 6.01, and that does *seem* to use the Netscape 4.* syntax,
alkthough the --help does not mention it.

KDE has a browser as I recall.


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Mon Apr 16 12:40:30 2001
From: bates@stat.wisc.edu (Douglas Bates)
Date: 16 Apr 2001 06:40:30 -0500
Subject: [Rd] display URLs in browsers
In-Reply-To: <Pine.GSO.4.31.0104160942240.7738-100000@toucan.stats>
References: <Pine.GSO.4.31.0104160942240.7738-100000@toucan.stats>
Message-ID: <6rlmp15az5.fsf@franz.stat.wisc.edu>

Prof Brian Ripley <ripley@stats.ox.ac.uk> writes:

> On Mon, 16 Apr 2001, Kurt Hornik wrote:

> > Does anyone know how to get browsers other than Netscape to display
> > URLs?

> > 	mozilla
> 
> I don't know about mozilla (I think Doug uses it), but it looks very
> like Netscape 6.01, and that does *seem* to use the Netscape 4.* syntax,
> alkthough the --help does not mention it.

I tried mozilla for a while but eventually shifted back to netscape.
Tony Rossini has more experience with mozilla than I do.

I did try to make the link from R to mozilla.  As I recall I didn't
get it working because I couldn't work out how to pass the information
for the initial page to open.  Since I don't tend to use help.start()
it wasn't a big priority for me.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Mon Apr 16 13:05:41 2001
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Mon, 16 Apr 2001 14:05:41 +0200
Subject: [Rd] display URLs in browsers
In-Reply-To: <6rlmp15az5.fsf@franz.stat.wisc.edu>
References: <Pine.GSO.4.31.0104160942240.7738-100000@toucan.stats>
 <6rlmp15az5.fsf@franz.stat.wisc.edu>
Message-ID: <15066.57365.573121.478800@gargle.gargle.HOWL>

>>>>> "DougB" == Douglas Bates <bates@stat.wisc.edu> writes:

    DougB> Prof Brian Ripley <ripley@stats.ox.ac.uk> writes:
    >> On Mon, 16 Apr 2001, Kurt Hornik wrote:

    >> > Does anyone know how to get browsers other than Netscape to
    >> display > URLs?

    >> > mozilla
    >> 
    >> I don't know about mozilla (I think Doug uses it), but it looks very
    >> like Netscape 6.01, and that does *seem* to use the Netscape 4.*
    >> syntax, alkthough the --help does not mention it.

    DougB> I tried mozilla for a while but eventually shifted back to
    DougB> netscape.  Tony Rossini has more experience with mozilla than I
    DougB> do.

    DougB> I did try to make the link from R to mozilla.  As I recall I
    DougB> didn't get it working because I couldn't work out how to pass
    DougB> the information for the initial page to open.  Since I don't
    DougB> tend to use help.start() it wasn't a big priority for me.

Since I am at home .. :
With the newest (as 2 days ago) mozilla "M18-3" for stable Debian GNU/Linux 
I get for "mozilla -help"

Usage: /usr/lib/mozilla/mozilla-bin [ options ... ] [URL]
       where options include:

        -height <value>         Set height of startup window to <value>.
        -h or -help             Print this message.
        -installer              Start with 4.x migration window.
        -width <value>          Set width of startup window to <value>.
        -v or -version          Print /usr/lib/mozilla/mozilla-bin version.
        -CreateProfile <profile>                Create and start with
        -<profile>.
        -P <profile>            Start with <profile>.
        -ProfileWizard          Start with profile wizard.
        -ProfileManager         Start with profile manager.
        -SelectProfile          Start with profile selection dialog.
        -splash         Enable splash screen.
        -compose <url>          Start with messenger compose.
        -edit <url>             Start with editor.
        -terminal               Start with a command line terminal
        -mail           Start with mail.
        -chrome <url>           Start with browser.
        -addressbook            Start with the addressbook.
        -chat           Start with an IRC chat client
        -jsconsole              Start with Javascript Console
        -news           Start with news.

which suggests that

      mozilla -chrome http://www.R-project.org/

does what you want. But uuh, yes, it starts a browser with the R page,
but in the usual mode: I get one "full screen" window, but nothing from the
usual tool buttons, URL entry, ... things of netscape/mozilla.

Also the above always starts a  new mozilla, i.e. does not do what we really
want: open an URL in any already running browser.

Martin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossini@u.washington.edu  Mon Apr 16 13:58:01 2001
From: rossini@u.washington.edu (A.J. Rossini)
Date: 16 Apr 2001 05:58:01 -0700
Subject: [Rd] display URLs in browsers
In-Reply-To: Martin Maechler's message of "Mon, 16 Apr 2001 14:05:41 +0200"
References: <Pine.GSO.4.31.0104160942240.7738-100000@toucan.stats>
 <6rlmp15az5.fsf@franz.stat.wisc.edu>
 <15066.57365.573121.478800@gargle.gargle.HOWL>
Message-ID: <877l0lm27a.fsf@jeeves.blindglobe.net>

>>>>> "MM" == Martin Maechler <maechler@stat.math.ethz.ch> writes:


    MM> which suggests that

    MM>       mozilla -chrome http://www.R-project.org/

Once mozilla is working, under gnome, I get this:

        gnome-moz-remote --newwin URL 

to bring up a new window.  Recently, I've nearly (not entirely)
converted to KDE's konqueror and

        konqueror URL

works.  I still am not fond of KDE's overall UI, but the tools they've
developed suit my needs.

(needed SSL for various grant associated reasons last week, and:
1. setting up SSL in Mozilla (under Debian) is a PITA, 
2. "modern" WWW browsers are easier to use than netscape, for
    navigating complex non-servlet sites).

I'm still running in a GNOME environment, though.

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
UW Biostat/Center for AIDS Research	rossini@u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini@scharp.org
-------- (friday is unknown) --------
FHCRC: M--W : 206-667-7025 (fax=4812)|Voicemail is pretty sketchy
CFAR:  ??   : 206-731-3647 (fax=3694)|Email is far better than phone
UW:    Th   : 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Mon Apr 16 15:41:04 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Mon, 16 Apr 2001 16:41:04 +0200
Subject: [Rd] display URLs in browsers
In-Reply-To: <877l0lm27a.fsf@jeeves.blindglobe.net>
References: <Pine.GSO.4.31.0104160942240.7738-100000@toucan.stats>
 <6rlmp15az5.fsf@franz.stat.wisc.edu>
 <15066.57365.573121.478800@gargle.gargle.HOWL>
 <877l0lm27a.fsf@jeeves.blindglobe.net>
Message-ID: <15067.1152.25353.234359@mithrandir.hornik.net>

>>>>> A J Rossini writes:

>>>>> "MM" == Martin Maechler <maechler@stat.math.ethz.ch> writes:
MM> which suggests that

MM> mozilla -chrome http://www.R-project.org/

> Once mozilla is working, under gnome, I get this:

>         gnome-moz-remote --newwin URL 

> to bring up a new window.

Thanks for the feedback.  Actually,
	http://www.mozilla.org/unix/remote.html
claims that one can do

	mozilla -remote "openurl(http://www.mozilla.org)"

but this does not work for me (version M18-3).

Btw, the search engine does not work either, and e.g. the FAQ parts do
not display at all.

> Recently, I've nearly (not entirely) converted to KDE's konqueror and

>         konqueror URL

> works.  I still am not fond of KDE's overall UI, but the tools they've
> developed suit my needs.

That's all?  Does that start a new version of konqueror if one is
already up and running?

> (needed SSL for various grant associated reasons last week, and:
> 1. setting up SSL in Mozilla (under Debian) is a PITA, 
> 2. "modern" WWW browsers are easier to use than netscape, for
>     navigating complex non-servlet sites).

Hmm ...

For gnome-help-browser, one can apparently do

	gnome-help-browser URL

but I have yet to figure out how to use an existing help-browser ...

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossini@u.washington.edu  Mon Apr 16 15:56:29 2001
From: rossini@u.washington.edu (A.J. Rossini)
Date: 16 Apr 2001 07:56:29 -0700
Subject: [Rd] display URLs in browsers
In-Reply-To: Kurt Hornik's message of "Mon, 16 Apr 2001 16:41:04 +0200"
References: <Pine.GSO.4.31.0104160942240.7738-100000@toucan.stats>
 <6rlmp15az5.fsf@franz.stat.wisc.edu>
 <15066.57365.573121.478800@gargle.gargle.HOWL>
 <877l0lm27a.fsf@jeeves.blindglobe.net>
 <15067.1152.25353.234359@mithrandir.hornik.net>
Message-ID: <87zodg99lu.fsf@jeeves.blindglobe.net>

>>>>> "KH" == Kurt Hornik <Kurt.Hornik@ci.tuwien.ac.at> writes:
>>>>> A J Rossini writes:
>>>>> "MM" == Martin Maechler <maechler@stat.math.ethz.ch> writes:
    MM> which suggests that

    MM> mozilla -chrome http://www.R-project.org/

    >> Once mozilla is working, under gnome, I get this:

    >> gnome-moz-remote --newwin URL

    >> to bring up a new window.

    KH> Thanks for the feedback.  Actually,
    KH> http://www.mozilla.org/unix/remote.html claims that one can do

    KH> 	mozilla -remote "openurl(http://www.mozilla.org)"

    KH> but this does not work for me (version M18-3).

Me neither.

    >> Recently, I've nearly (not entirely) converted to KDE's
    >> konqueror and

    >> konqueror URL

    >> works.  I still am not fond of KDE's overall UI, but the tools
    >> they've developed suit my needs.

    KH> That's all?  Does that start a new version of konqueror if one
    KH> is already up and running?

I don't know.  I'll check tonight.

    KH> For gnome-help-browser, one can apparently do

    KH> 	gnome-help-browser URL

    KH> but I have yet to figure out how to use an existing
    KH> help-browser ...

But you probably don't want to use it for much; R help is fine, but
much more wouldn't be.

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
UW Biostat/Center for AIDS Research	rossini@u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini@scharp.org
-------- (friday is unknown) --------
FHCRC: M--W : 206-667-7025 (fax=4812)|Voicemail is pretty sketchy
CFAR:  ??   : 206-731-3647 (fax=3694)|Email is far better than phone
UW:    Th   : 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Mon Apr 16 16:11:07 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Mon, 16 Apr 2001 17:11:07 +0200
Subject: [Rd] display URLs in browsers
In-Reply-To: <87zodg99lu.fsf@jeeves.blindglobe.net>
References: <Pine.GSO.4.31.0104160942240.7738-100000@toucan.stats>
 <6rlmp15az5.fsf@franz.stat.wisc.edu>
 <15066.57365.573121.478800@gargle.gargle.HOWL>
 <877l0lm27a.fsf@jeeves.blindglobe.net>
 <15067.1152.25353.234359@mithrandir.hornik.net>
 <87zodg99lu.fsf@jeeves.blindglobe.net>
Message-ID: <15067.2955.799437.633071@mithrandir.hornik.net>

>>>>> A J Rossini writes:

>>>>> "KH" == Kurt Hornik <Kurt.Hornik@ci.tuwien.ac.at> writes:
>>>>> A J Rossini writes:
>>>>> "MM" == Martin Maechler <maechler@stat.math.ethz.ch> writes:
MM> which suggests that

MM> mozilla -chrome http://www.R-project.org/

>>> Once mozilla is working, under gnome, I get this:

>>> gnome-moz-remote --newwin URL

>>> to bring up a new window.

KH> Thanks for the feedback.  Actually,
KH> http://www.mozilla.org/unix/remote.html claims that one can do

KH> mozilla -remote "openurl(http://www.mozilla.org)"

KH> but this does not work for me (version M18-3).

> Me neither.

>>> Recently, I've nearly (not entirely) converted to KDE's
>>> konqueror and

>>> konqueror URL

>>> works.  I still am not fond of KDE's overall UI, but the tools
>>> they've developed suit my needs.

KH> That's all?  Does that start a new version of konqueror if one
KH> is already up and running?

> I don't know.  I'll check tonight.

Great, thanks.

KH> For gnome-help-browser, one can apparently do

KH> gnome-help-browser URL

KH> but I have yet to figure out how to use an existing
KH> help-browser ...

> But you probably don't want to use it for much; R help is fine, but
> much more wouldn't be.

Actually, I am mostly trying to get rid of the netscape-specific code in
help.start().  I.e., start a little private beast
	diplayURLinBrowser(url, browser)
which eventually could be made more useful ...

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Apr 16 21:44:35 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Apr 2001 22:44:35 +0200
Subject: [Rd] PR#896
In-Reply-To: Torsten Hothorn's message of "Mon, 9 Apr 2001 18:19:10 +0200 (MEST)"
References: <Pine.LNX.4.21.0104091809580.10969-100000@artemis.imbe.med.uni-erlangen.de>
Message-ID: <x24rvo7ex8.fsf@blueberry.kubism.ku.dk>

Torsten Hothorn <Torsten.Hothorn@rzmail.uni-erlangen.de> writes:

> > c(3.770684,4.654342,3.496403,1.772743,1.624953,2.645835,3.0994
> > 77,1.706758,3.507709,1.982924)
> > y<-c(-0.8161288,0.1632923,0.6421997,1.9270846,-
> > 0.4668112,0.3587806,0.3312529,-0.5393900,
> > 0.1057892,1.7963575)
> 
> `wdiff' is used for the computation of asymptotic confidence intervals for
> samples with m,n > 50. I simulated the type I error rate and it works for
> such large sample sizes. So maybe the problems are due to n.x = n.y = 10 ?
> 
> Torsten

I think the real problem is here:

> > ol<-optimize(wdiff,c(mumin,mumax),zq=qnorm(0.05))$minimum
> > om<-optimize(wdiff,c(mumin,mumax),zq=qnorm(0.5))$minimum
> > ou<-optimize(wdiff,c(mumin,mumax),zq=qnorm(0.95))$minimum
> > 
> > abline(v=ol)
> > abline(v=om,lty=4)
> > abline(v=ou,lty=7)

Optimize() is a gradient algorithm and wdiff is not smooth, so the
algorithm terminates at a stationary non-optimal point. Using optim()
with the default Nelder-Mead instead seemed to work better, although
not perfectly. (I played with this before going on Easter holiday, and
I'm not going to reconstruct exactly what I did then just now....)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From cdhershberger@dow.com  Tue Apr 17 04:34:06 2001
From: cdhershberger@dow.com (cdhershberger@dow.com)
Date: Tue, 17 Apr 2001 05:34:06 +0200 (MET DST)
Subject: [Rd] cannot allocate vector of size 71773 Kb (PR#915)
Message-ID: <200104170334.FAA19601@pubhealth.ku.dk>

Full_Name: Doug Hershberger
Version: 1.2.2
OS: Red Hat-Linux 7.0
Submission from: (NULL) (216.99.65.36)


In the R FAQ I find the following entry explaining that R no longer has   
problems with memory.

http://cran.r-project.org/doc/FAQ/R-FAQ.html#Why%20does%20R%20run%20out%20of%20of%20memory%3f

However in my installation: R Version 1.2.2  (2001-02-26)

Installed from the red hat RPM on your site on a Red Hat 7.0 i686

I get the following error when working with large data sets:

                > source("/usr/local/genex/rcluster/lib/rcluster/r/hcluster.r");
               > breadth.program("uploaded_data.txt", "average", 10)
                Read 2 items
                Read 8574 items
                Error: cannot allocate vector of size 71773 Kb
                Execution halted

Is there a way to fix this? This is running as part of the GeneX
installation so I would have to dig through to figure out how to give R
more memory.

Besides which I don't think that will work.

Thanks for any insight that you can provide.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ligges@statistik.uni-dortmund.de  Tue Apr 17 07:16:03 2001
From: ligges@statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 17 Apr 2001 08:16:03 +0200
Subject: [Rd] cannot allocate vector of size 71773 Kb (PR#915)
References: <200104170334.FAA19601@pubhealth.ku.dk>
Message-ID: <3ADBDFA3.91667E53@statistik.uni-dortmund.de>



cdhershberger@dow.com wrote:
> 
> Full_Name: Doug Hershberger
> Version: 1.2.2
> OS: Red Hat-Linux 7.0
> Submission from: (NULL) (216.99.65.36)
> 
> In the R FAQ I find the following entry explaining that R no longer has
> problems with memory.
> 
> http://cran.r-project.org/doc/FAQ/R-FAQ.html#Why%20does%20R%20run%20out%20of%20of%20memory%3f
> 
> However in my installation: R Version 1.2.2  (2001-02-26)
> 
> Installed from the red hat RPM on your site on a Red Hat 7.0 i686
> 
> I get the following error when working with large data sets:
> 
>                 > source("/usr/local/genex/rcluster/lib/rcluster/r/hcluster.r");
>                > breadth.program("uploaded_data.txt", "average", 10)
>                 Read 2 items
>                 Read 8574 items
>                 Error: cannot allocate vector of size 71773 Kb
>                 Execution halted
> 
> Is there a way to fix this? This is running as part of the GeneX
> installation so I would have to dig through to figure out how to give R
> more memory.
> 
> Besides which I don't think that will work.
> 
> Thanks for any insight that you can provide.


That is NOT A BUG!

Have a look at ?Memory
Start R with --max-mem-size=xxxM

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Apr 17 07:17:31 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 17 Apr 2001 08:17:31 +0200 (MET DST)
Subject: [Rd] cannot allocate vector of size 71773 Kb (PR#915)
Message-ID: <200104170617.IAA20047@pubhealth.ku.dk>

On Tue, 17 Apr 2001 cdhershberger@dow.com wrote:

> Full_Name: Doug Hershberger
> Version: 1.2.2
> OS: Red Hat-Linux 7.0
> Submission from: (NULL) (216.99.65.36)
>
>
> In the R FAQ I find the following entry explaining that R no longer has
> problems with memory.

No longer has the same problems....  There is also a section on
`What is a bug?' that you should read again.

> http://cran.r-project.org/doc/FAQ/R-FAQ.html#Why%20does%20R%20run%20out%20of%20of%20memory%3f
>
> However in my installation: R Version 1.2.2  (2001-02-26)
>
> Installed from the red hat RPM on your site on a Red Hat 7.0 i686
>
> I get the following error when working with large data sets:
>
>                 > source("/usr/local/genex/rcluster/lib/rcluster/r/hcluster.r");
>                > breadth.program("uploaded_data.txt", "average", 10)
>                 Read 2 items
>                 Read 8574 items
>                 Error: cannot allocate vector of size 71773 Kb
>                 Execution halted
>
> Is there a way to fix this? This is running as part of the GeneX

Install more memory, or write better R code, or use better statistical
methods.

> installation so I would have to dig through to figure out how to give R
> more memory.
>
> Besides which I don't think that will work.

We would need to know a lot more about the code to see the problem,
but as a quick guess, clustering 8574 items with the standard algorithms
takes a very large amount of memory (on any system), so it would be the
third alternative.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Tue Apr 17 11:24:41 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Tue, 17 Apr 2001 12:24:41 +0200
Subject: [Rd] converting body of a function to a a character vector
References: <200104170617.IAA20047@pubhealth.ku.dk>
Message-ID: <3ADC19E9.AE9E3501@univie.ac.at>

have a look at the following session:

> fff<-function(x)
+ {
+ x*x
+ }
> fff
function(x)
{
x*x
}
>
> body(fff)
{
    x * x
}
> as.character(body(fff))
[1] "{"     "x * x"

somehow,
the closing parenthesis gets lost in the conversion.

i need this stuff because i want to get
the code of a function as a vector of strings so i can get it
into excel with my interface package.



--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Apr 17 16:31:00 2001
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 17 Apr 2001 11:31:00 -0400
Subject: [Rd] cannot allocate vector of size 71773 Kb (PR#915)
References: <200104170334.FAA19601@pubhealth.ku.dk>
Message-ID: <3ADC61B4.C5E42DDB@bank-banque-canada.ca>

> I get the following error when working with large data sets:
>
>                 > source("/usr/local/genex/rcluster/lib/rcluster/r/hcluster.r");
>                > breadth.program("uploaded_data.txt", "average", 10)
>                 Read 2 items
>                 Read 8574 items
>                 Error: cannot allocate vector of size 71773 Kb
>                 Execution halted
>
> Is there a way to fix this? This is running as part of the GeneX
>installation so I would have to dig through to figure out how to give R
>more memory.

In R 1.2.2 this message means the operating system is not letting R have the memory.
You do not need parameters on the R command line (and it seems better not to have
them) but you do need to do some things in the operating system before you start R.
In Unix/Linux you first need to check that your datasize and stacksize limits are not
set, as they usually are. Use limit or unlimit depending on you shell or OS. You then
need to have adequate swap space. Physical memory will make things faster, but is not
necessary. You may need a very large swap space if you are going to do much with an
80M vector, but perhaps it gets broken into smaller pieces once you get it loaded.

Given current memory prices you should probably consider more physical memory, but I
expect you will need several gigs of virtual memory to do much work with an 80M
vector. Also beware, as I recall, mkswap in Linux defaults to an older format for
swap and the newer format is faster.

Paul Gibert



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Wed Apr 18 03:45:56 2001
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Tue, 17 Apr 2001 22:45:56 -0400
Subject: [Rd] Problem with Rcmd check
Message-ID: <ojvpdtg7tcvih5rf7i9piffh68k5t3taf6@4ax.com>

In Windows, I tried to build and check Paul Gilbert's dse bundle with
the command  

 rcmd check ../library/dse

It ran for a while and built the packages, then failed at the end with
this:

 ** checking Rd files ... OK
 ** checking for undocumented objects ... OK
 ** creating syskern-Ex.R ... ERROR

I get similar errors checking packages, but there

  make pkgcheck-foo

works.  I don't think there's a "bundlecheck-foo" target, is there?

Any workarounds, or hints where I should look to figure out what went
wrong?

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Apr 18 06:32:32 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 18 Apr 2001 06:32:32 +0100 (BST)
Subject: [Rd] Problem with Rcmd check
In-Reply-To: <ojvpdtg7tcvih5rf7i9piffh68k5t3taf6@4ax.com>
Message-ID: <Pine.GSO.4.31.0104180625090.16341-100000@auk.stats>

On Tue, 17 Apr 2001, Duncan Murdoch wrote:

> In Windows, I tried to build and check Paul Gilbert's dse bundle with
> the command
>
>  rcmd check ../library/dse
>
> It ran for a while and built the packages, then failed at the end with
> this:
>
>  ** checking Rd files ... OK
>  ** checking for undocumented objects ... OK
>  ** creating syskern-Ex.R ... ERROR
>
> I get similar errors checking packages, but there
>
>   make pkgcheck-foo
>
> works.  I don't think there's a "bundlecheck-foo" target, is there?

No, but you can check individual packages in a bundle (just set the
PKGDIR).  However, there is a bug if a package has a tests directory, and
it can be fixed by altering the RDIFF line near the top of
src/gnuwin32/check/PkgCheck to be

RDIFF = $(RHOME)/bin/Rcmd Rdiff.sh

(This is fixed in the patched versions.  Rdiff got altered fairly recently
and broke this.)

> Any workarounds, or hints where I should look to figure out what went
> wrong?

I think this is a Perl problem we have seen before.  It works for me on NT
(and I think worked for Uwe Ligges too).  Earlier versions (build 613, for
example) of Perl used to work on Win 98, but from ca 619 this happened.
The problem relates to the shell used by the system() command in Perl.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Torsten.Hothorn@rzmail.uni-erlangen.de  Wed Apr 18 10:44:11 2001
From: Torsten.Hothorn@rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Wed, 18 Apr 2001 11:44:11 +0200 (MEST)
Subject: [Rd] PR#896
In-Reply-To: <x24rvo7ex8.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.21.0104181142220.11968-100000@artemis.imbe.med.uni-erlangen.de>

On 16 Apr 2001, Peter Dalgaard BSA wrote:

> Torsten Hothorn <Torsten.Hothorn@rzmail.uni-erlangen.de> writes:
> 
> > > c(3.770684,4.654342,3.496403,1.772743,1.624953,2.645835,3.0994
> > > 77,1.706758,3.507709,1.982924)
> > > y<-c(-0.8161288,0.1632923,0.6421997,1.9270846,-
> > > 0.4668112,0.3587806,0.3312529,-0.5393900,
> > > 0.1057892,1.7963575)
> > 
> > `wdiff' is used for the computation of asymptotic confidence intervals for
> > samples with m,n > 50. I simulated the type I error rate and it works for
> > such large sample sizes. So maybe the problems are due to n.x = n.y = 10 ?
> > 
> > Torsten
> 
> I think the real problem is here:
> 
> > > ol<-optimize(wdiff,c(mumin,mumax),zq=qnorm(0.05))$minimum
> > > om<-optimize(wdiff,c(mumin,mumax),zq=qnorm(0.5))$minimum
> > > ou<-optimize(wdiff,c(mumin,mumax),zq=qnorm(0.95))$minimum
> > > 
> > > abline(v=ol)
> > > abline(v=om,lty=4)
> > > abline(v=ou,lty=7)
> 
> Optimize() is a gradient algorithm and wdiff is not smooth, so the
> algorithm terminates at a stationary non-optimal point. Using optim()
> with the default Nelder-Mead instead seemed to work better, although
> not perfectly. (I played with this before going on Easter holiday, and
> I'm not going to reconstruct exactly what I did then just now....)

Yes. We replaced `optimize' by `uniroot' in `wilcox.test' and use `optim'
in `ansari.test' now. 

Torsten

> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Don.Wingate@intellichem.com  Wed Apr 18 19:44:42 2001
From: Don.Wingate@intellichem.com (Don Wingate)
Date: Wed, 18 Apr 2001 11:44:42 -0700
Subject: [Rd] Freeing memory used by R.
Message-ID: <ABB64B4C48ECD44CADC72FA840118B3B5039@athena.Bend.IntelliChem.com>

Hello R developers,

Windows 2000 
R Version 1.2.2

I am running using R.dll in a Windows application.  It is loaded into memory
when needed, used as required, and then (hopefully) destroyed while the
application continues with other, unrelated activities.  The problem is that
I can't find any way to free all memory used by R without terminating the
process in which R is running, which I cannot do because that would also
kill the host application.  Is there a way to locate and free all memory
allocated by R.dll, leaving the host process intact?  

Thank you,

Don Wingate.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Wed Apr 18 20:08:00 2001
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Wed, 18 Apr 2001 12:08:00 -0700 (PDT)
Subject: [Rd] Freeing memory used by R.
In-Reply-To: <ABB64B4C48ECD44CADC72FA840118B3B5039@athena.Bend.IntelliChem.com>
Message-ID: <Pine.A41.4.33.0104181202440.16584-100000@homer22.u.washington.edu>

On Wed, 18 Apr 2001, Don Wingate wrote:

> Hello R developers,
>
> Windows 2000
> R Version 1.2.2
>
> I am running using R.dll in a Windows application.  It is loaded into memory
> when needed, used as required, and then (hopefully) destroyed while the
> application continues with other, unrelated activities.  The problem is that
> I can't find any way to free all memory used by R without terminating the
> process in which R is running, which I cannot do because that would also
> kill the host application.  Is there a way to locate and free all memory
> allocated by R.dll, leaving the host process intact?
>

In general you can't release memory to the operating system: under most
malloc's and most OS's the memory you free() just stays allocated.  You
might be able to unload the R dll; I don't know what effect that has under
Windows.

However, any halfway competent virtual memory system (which nowadays does
include Windows) will end up paging out the memory if it is never used, so
it shouldn't help much even if you could release all the memory.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley@u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Apr 18 21:36:02 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 18 Apr 2001 21:36:02 +0100 (BST)
Subject: [Rd] Freeing memory used by R.
In-Reply-To: <ABB64B4C48ECD44CADC72FA840118B3B5039@athena.Bend.IntelliChem.com>
Message-ID: <Pine.GSO.4.31.0104182133130.19021-100000@auk.stats>

On Wed, 18 Apr 2001, Don Wingate wrote:

> Hello R developers,
>
> Windows 2000
> R Version 1.2.2
>
> I am running using R.dll in a Windows application.  It is loaded into memory
> when needed, used as required, and then (hopefully) destroyed while the
> application continues with other, unrelated activities.  The problem is that
> I can't find any way to free all memory used by R without terminating the
> process in which R is running, which I cannot do because that would also
> kill the host application.  Is there a way to locate and free all memory
> allocated by R.dll, leaving the host process intact?

Yes, but if you are using R.dll at that level you will have already
read all the code, so you will know that R.dll uses its own allocator
in malloc.c and so how to do this.

BTW, although you can decommit all the memory, you cannot easily
unreserve it.  If the difference means nothing to you, then I suggest you
don't mess with this.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Timothy.Keitt@StonyBrook.Edu  Wed Apr 18 22:49:39 2001
From: Timothy.Keitt@StonyBrook.Edu (Timothy H. Keitt)
Date: Wed, 18 Apr 2001 17:49:39 -0400
Subject: [Rd] Freeing memory used by R.
References: <ABB64B4C48ECD44CADC72FA840118B3B5039@athena.Bend.IntelliChem.com>
Message-ID: <3ADE0BF3.5010500@StonyBrook.Edu>

Under linux (actually libc6), the strategy is to mmap /dev/zero for 
large allocations.  Unmapping this memory does return it to the system, 
unlike traditional malloc implementations that only release memory after 
the process terminates.  I don't know if there is an equivalent in windows.

Tim

Don Wingate wrote:

> Hello R developers,
> 
> Windows 2000 
> R Version 1.2.2
> 
> I am running using R.dll in a Windows application.  It is loaded into memory
> when needed, used as required, and then (hopefully) destroyed while the
> application continues with other, unrelated activities.  The problem is that
> I can't find any way to free all memory used by R without terminating the
> process in which R is running, which I cannot do because that would also
> kill the host application.  Is there a way to locate and free all memory
> allocated by R.dll, leaving the host process intact?  
> 
> Thank you,
> 
> Don Wingate.
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
Timothy H. Keitt
Department of Ecology and Evolution
State University of New York at Stony Brook
Phone: 631-632-1101, FAX: 631-632-7626
http://life.bio.sunysb.edu/ee/keitt/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Don.Wingate@intellichem.com  Wed Apr 18 23:10:17 2001
From: Don.Wingate@intellichem.com (Don Wingate)
Date: Wed, 18 Apr 2001 15:10:17 -0700
Subject: [Rd] Freeing memory used by R.
Message-ID: <ABB64B4C48ECD44CADC72FA840118B3B503A@athena.Bend.IntelliChem.com>

The trouble is that the lost memory is building up in the process space of
my host application.  The R dll might be loaded and unloaded several times
in a single session, each time allocating more memory for itself.  To the
best of my ability to determine, when the dll is unloaded, the memory that
it allocated, as well as any dll's it might have loaded for its own use,
stay in memory.  

Don.


On Wed, 18 Apr 2001, Don Wingate wrote:

> Hello R developers,
>
> Windows 2000
> R Version 1.2.2
>
> I am running using R.dll in a Windows application.  It is loaded into
memory
> when needed, used as required, and then (hopefully) destroyed while the
> application continues with other, unrelated activities.  The problem is
that
> I can't find any way to free all memory used by R without terminating the
> process in which R is running, which I cannot do because that would also
> kill the host application.  Is there a way to locate and free all memory
> allocated by R.dll, leaving the host process intact?
>

In general you can't release memory to the operating system: under most
malloc's and most OS's the memory you free() just stays allocated.  You
might be able to unload the R dll; I don't know what effect that has under
Windows.

However, any halfway competent virtual memory system (which nowadays does
include Windows) will end up paging out the memory if it is never used, so
it shouldn't help much even if you could release all the memory.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley@u.washington.edu	University of Washington, Seattle
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From paul@stat.auckland.ac.nz  Thu Apr 19 21:33:55 2001
From: paul@stat.auckland.ac.nz (paul@stat.auckland.ac.nz)
Date: Thu, 19 Apr 2001 22:33:55 +0200 (MET DST)
Subject: [Rd] par(mgp) bug (PR#916)
Message-ID: <200104192033.WAA02218@pubhealth.ku.dk>

Hi

The behaviour of the third argument of par(mgp), which controls the
placement of the axis ticks, is not working.  

In the following example, the plots should NOT be
identical; the axis ticks plus the axis major line should be drawn one
line out from the edges of the plot region.

par(mfrow=c(2,1))
plot(1:10)
par(mgp=c(3,1,1))
plot(1:10)

Paul

<<insert bug report here>>



--please do not edit the information below--

Version:
 platform = sparc-sun-solaris2.7
 arch = sparc
 os = solaris2.7
 system = sparc, solaris2.7
 status = Under development (unstable)
 major = 1
 minor = 3.0
 year = 2001
 month = 02
 day = 18
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Torsten.Hothorn@rzmail.uni-erlangen.de  Fri Apr 20 07:38:45 2001
From: Torsten.Hothorn@rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Fri, 20 Apr 2001 08:38:45 +0200 (MEST)
Subject: [Rd] system.file
Message-ID: <Pine.LNX.4.21.0104200834350.20588-100000@artemis.imbe.med.uni-erlangen.de>


I'm a little bit confused since this worked until R-1.2.2: 

in a private package `maxstat' I added 

Tab2 <- as.matrix(read.table(system.file("LausenTab2.dat",
+                                          package="maxstat")[1]))

to the examples of a function `pLausen92'.

`examples(pLausen92)' succeeds but

`R CMD check maxstat' fails with

> Tab2 <- as.matrix(read.table(system.file("LausenTab2.dat",
+                                          package="maxstat")[1]))
Error in file(file, "r") : cannot open file `'
Execution halted

`LausenTab2.dat' lives in `maxstat/inst'.

Torsten

> version
         _                           
platform i686-pc-linux-gnu           
arch     i686                        
os       linux-gnu                   
system   i686, linux-gnu             
status   Under development (unstable)
major    1                           
minor    3.0                         
year     2001                        
month    04                          
day      19                          
language R                           
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From skala@incoma.cz  Fri Apr 20 07:43:30 2001
From: skala@incoma.cz (skala@incoma.cz)
Date: Fri, 20 Apr 2001 08:43:30 +0200 (MET DST)
Subject: [Rd] boxplot (PR#917)
Message-ID: <200104200643.IAA04049@pubhealth.ku.dk>

Full_Name: Zdenek Skala
Version: 1.2.2.
OS: Windows 95
Submission from: (NULL) (212.71.163.240)


problem with outliers in boxplot() and boxplot.stats() - with range/coef=0
the outlier points are drawn within the space covered by whiskers:

> boxplot(c(1,2,3,4,5,6,7,8,50),range=0)
# draws the whiskers extending to the data extremes but outlier points at
# 1,2,8,50; likewise:
> boxplot.stats(c(1,2,3,4,5,6,7,8,50),coef=0)
# yields
# $stats
# [1]  1  3  5  7 50
#
# $n
# [1] 9
#
# $conf
# [1] 2.893333 7.106667
#
# $out
# [1]  1  2  8 50


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Fri Apr 20 13:48:33 2001
From: p.dalgaard@biostat.ku.dk (p.dalgaard@biostat.ku.dk)
Date: Fri, 20 Apr 2001 14:48:33 +0200 (MET DST)
Subject: [Rd] Re: Precedence of %% (PR#879)
Message-ID: <200104201248.OAA13781@pubhealth.ku.dk>


This message from Duncan M. (listed below) seems to have escaped the
r-devel list, possibly due to lack of a subject header.

gram.y has

...
%left           '*' '/' '%'
%left           SPECIAL
%left           ':'
...

and %% is a SPECIAL token, so it does indeed have higher precedence
than *. This is somewhat unusual compared to other languages, but it
is compatible with S-PLUS 3.4, so I'd say that it is the documentation
that is wrong. (And that part was written by me, I'm afraid...)

	-p



Date: Sun, 18 Mar 2001 07:45:13 -0500 (EST)
From: Duncan Murdoch <murdoch@stats.uwo.ca>
To: r-bugs@r-project.org

According to the documentation (R-lang p. 56), * 
and %% (mod) have equal operator precedence, so they 
should group from left to right.  Thus

  3 * 4 %% 5

should give 2, i.e. (3*4) mod 5.  However, I get 

 >   3 * 4 %% 5
 [1] 12

i.e. 3 * (4 mod 5).

Other experiments suggest to me that %% is given 
higher priority than *, it's not the "left to right" 
rule that is not being followed.

Duncan Murdoch



-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Fri Apr 20 14:36:08 2001
From: p.dalgaard@biostat.ku.dk (p.dalgaard@biostat.ku.dk)
Date: Fri, 20 Apr 2001 15:36:08 +0200 (MET DST)
Subject: [Rd] Re: Precedence of %% (PR#879)
Message-ID: <200104201336.PAA01127@pubhealth.ku.dk>

p.dalgaard@biostat.ku.dk writes:

> gram.y has
> 
> ...
> %left           '*' '/' '%'
> %left           SPECIAL
> %left           ':'
> ...
> 
> and %% is a SPECIAL token, so it does indeed have higher precedence
> than *. This is somewhat unusual compared to other languages, but it
> is compatible with S-PLUS 3.4, so I'd say that it is the documentation
> that is wrong. (And that part was written by me, I'm afraid...)

...although I don't think I'm the perpetrator of that '%' in gram.y,
which was probably what misled me in the 1st place. I don't think
there is a way the tokenizer *can* generate a single '%'.

I've modified R-lang.texi for version 1.2.3

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pd@pubhealth.ku.dk  Sat Apr 21 06:15:05 2001
From: pd@pubhealth.ku.dk (Peter Dalgaard BSA)
Date: Sat, 21 Apr 2001 07:15:05 +0200
Subject: [Rd] Bug list summary (automatic post)
Message-ID: <200104210515.HAA05825@blueberry.kubism.ku.dk>

=================================================
This is an automated summary of the status of the R-bugs
repository.

Note that this may be neither complete nor perfectly
correct at any given instance: Not all bugs are reported,
and some reported bugs may have been fixed, but the
repository not yet updated.

Some bug fixes are difficult to verify because they pertain
to specific hardware or operating system versions. If you
have information to contribute, please do so.

If you happen to know how to fix a problem please send
patches to the bug repository, too.

New bugs are reported either through the web
interface at r-bugs.r-project.org or via email to
r-bugs@r-project.org. The bug.report() function can be
used to automate parts of the procedure on many systems.
Followups on older bugs can be done by including the string
"(PR#999)" in the Subject of an email (change 999 to the
actual reference number, of course!).
=================================================

Directory:  Accuracy

* PR# 751 *
Subject: BUG: polyroot()
From: "Li Dongfeng" <mavip1@inet.polyu.edu.hk>
Date: Tue, 28 Nov 2000 13:24:33 +0800
--Numerical instability. We may want a better algorithm!

Directory:  Add-ons

* PR# 824 *
Subject: trouble with netCDF 
From: jasont@indigoindustrial.co.nz
Date: Thu, 25 Jan 2001 12:00:39 +1300
--Only on a specific sample file: send to maintainer.
* PR# 812 *
Subject: segmentation fault in integrate
From: Achim Zeileis <zeileis@ci.tuwien.ac.at>
Date: Thu, 11 Jan 2001 22:49:59 +0100
* PR# 496 *
From: bonneau@epi.roazhon.inra.fr (en148)
Date: Tue, 21 Mar 2000 10:57:13 +0100 (MET)
--base R has no est.variogram function.
--This appears to be a bug report on sgeostat.

Directory:  Analyses

* PR# 861 *
Subject: histogram of frequencies
From: bernd.winkler@genedata.com
Date: Mon, 5 Mar 2001 15:01:49 +0100 (MET)

Directory:  Documentation

* PR# 899 *
Subject: documentation problems in str.Rd
From: Kurt Hornik <Kurt.Hornik@ci.tuwien.ac.at>
Date: Sat, 7 Apr 2001 23:08:23 +0200
* PR# 886 *
Subject: Error (?) in documentation of 'swiss' data in R base package
From: k.j.mcconway@open.ac.uk
Date: Wed, 28 Mar 2001 16:46:49 +0200 (MET DST)
* PR# 856 *
Subject: "}  {" problem in Rd files
From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
Date: Mon, 26 Feb 2001 11:10:01 -0500

Directory:  Graphics

* PR# 897 *
Subject:  bug in contour() ? 
From: kuensch@stat.math.ethz.ch
Date: Fri, 6 Apr 2001 16:21:24 +0200
* PR# 202 *
Subject: persp box occlusion bug
From: wsi@gcal.ac.uk
Date: Wed, 2 Jun 1999 15:02:03 +0200 (MET DST)
--The persp algorithm does not apply the occlusion rules to the frame, 
--which is always plotted first. 
--A bug, but not very simple to fix.
* PR# 750 *
Subject: abline() does not obey "xpd" (clipping rules)
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Mon, 27 Nov 2000 18:27:11 +0100
* PR# 660 *
Subject: identify.default ignores any setting of cex.
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
Date: Fri, 15 Sep 2000 10:23:39 +0100 (BST)
* PR# 791 *
Subject:  par(lab= *) / axis(*) bug 
From: maechler@stat.math.ethz.ch
Date: Fri, 22 Dec 2000 10:59:26 +0100
* PR# 776 *
Subject: strwidth does not take font into account
From: Martyn Plummer <plummer@iarc.fr>
Date: Tue, 19 Dec 2000 14:56:01 +0100 (CET)
--This needs a substantial redesign.
* PR# 820 *
Subject: interaction.plot
From: "Mark M. Span" <span@psy.uva.nl>
Date: Mon, 22 Jan 2001 10:47:39 +0100
--mtext is unscaled by default.  It is not clear if this should
--use the par("cex") setting or an inline cex setting such as cex.axis.
--It might make more sense to use axis rather than mtext, as boxplot does.
* PR# 816 *
Subject: dotplot: character size of labels
From: RINNER Heinrich <H.RINNER@TIROL.GV.AT>
Date: Thu, 18 Jan 2001 14:54:32 +0100
--Suggested fix is incorporated in 1.2.2.
--
--There is a deeper problem:  mtext() ignores par(cex=.5) in general.  
--To see the problem try:  par(cex=.5); mtext("hi")
--Paul thinks the right fix is to change the argument list for mtext so that
--cex=par(cex) by default rather than cex=NA by default (plus corresponding
--internal changes to  do_mtext in plot.c).
--This needs to be done very carefully because (i) the change suggested above 
--mayhave side-effects in many other pieces of interpreted code 
--(ii) do_mtext ignores dd->gp.cexbase unlike, for example, do_plot_xy 
--and anything to do with cexbase needs extreme care.
* PR# 830 *
Subject: Disappearing x axis in plot.factor
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 30 Jan 2001 00:27:13 -0500
* PR# 828 *
Subject: termplot fails for composite non-factor terms
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sat, 27 Jan 2001 11:57:37 +1100 (EST)
--Neither of the proposed changes actually works in sufficient generality.
--
--The easy and unimportant part of this, the labels, is fixed in 1.2.2. Getting
--the data right is a project for 1.3
* PR# 837 *
Subject: screen doesn't handle redrawing properly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 01 Feb 2001 14:20:52 -0500
* PR# 831 *
Subject: screen can't go back to (split) screen with log="y" plot
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 30 Jan 2001 00:39:41 -0500
* PR# 887 *
Subject: axis(adj=anything) has no effect
From: jhallman@frb.gov
Date: Wed, 28 Mar 2001 20:51:05 +0200 (MET DST)
* PR# 865 *
Subject:  axis(...,las=1) breaks postscript code in certain cases 
From: maechler@stat.math.ethz.ch
Date: Wed, 7 Mar 2001 18:08:58 +0100
* PR# 857 *
Subject: Plotting points on a filled.contour plot
From: marchini@stats.ox.ac.uk
Date: Tue, 27 Feb 2001 10:00:30 +0100 (MET)
--This needs at least to be documented, and preferably par("usr")
--set to the coordinate system of the plotting region after use.

Directory:  In-Out

none

Directory:  Installation

none

Directory:  Language

* PR# 879 *
From: Duncan Murdoch <murdoch@stats.uwo.ca>
Date: Sun, 18 Mar 2001 07:45:13 -0500 (EST)
--precedence of %% appears to be not as documented
* PR# 408 *
Subject: convolution bug
From: wsimpson@gcal.ac.uk
Date: Fri, 28 Jan 2000 11:17:36 +0100 (MET)
* PR# 669 *
Subject: Bug(s) w/ rbind.data.frame(); fix also read.table(*, as.is = TRUE) ?
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Mon, 25 Sep 2000 10:17:15 +0200
--status of AsIs columns
* PR# 412 *
Subject: anomalies with call objects
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 06 Feb 2000 01:18:50 +0100
* PR# 869 *
Subject:  inconsistent results when calling functions with other func
From: "White, Paul" <Paul.White@dsto.defence.gov.au>
Date: Thu, 8 Mar 2001 18:26:35 +1100 
* PR# 813 *
Subject: match.call problem
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 12 Jan 2001 17:46:15 +0100

Directory:  Low-level

* PR# 904 *
Subject:  Segmentation fault in subscripting array of lists 
From: J.C.Rougier@durham.ac.uk
Date: Tue, 10 Apr 2001 15:01:52 +0100 (BST)
--The usage is incorrect, but should not segfault
* PR# 505 *
Subject: interrupted save 
From: Thomas Lumley <thomas@biostat.washington.edu>
Date: Sat, 25 Mar 2000 12:16:50 -0800 (PST)

Directory:  Misc

* PR# 875 *
Subject: Re: [R] Bug in qchisq?
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 10 Mar 2001 02:26:11 +0100

Directory:  Models

* PR# 862 *
Subject: Wrong sign for Pearson residuals
From: faraway@umich.edu
Date: Mon, 5 Mar 2001 18:04:34 +0100 (MET)

Directory:  Startup

* PR# 486 *
Subject: Re: autoload error in profile {was anova-bug in R-version  1.0.0?}
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Tue, 14 Mar 2000 10:32:43 +0100 (MET)
--workaround to the origin problem in 1.0.1
--New report: try does not work from the profile.

Directory:  System-specific

* PR# 896 *
Subject: Optimize: difference between R for Linux and Windows
From: "Marketa Kylouskova" <Marketa.Kylouskova@euromise.cz>
Date: 5 Apr 2001 12:30:29 +0100
* PR# 863 *
Subject: src/main/arithmetic.c on OpenBSD
From: ian@darwinsys.com (Ian Darwin)
Date: Tue,  6 Mar 2001 19:49:53 -0500 (EST)
* PR# 851 *
Subject: Comments on R-1.2.1 builds
From: "Nelson H. F. Beebe" <beebe@math.utah.edu>
Date: Fri, 16 Feb 2001 17:44:17 -0700 (MST)
--These are only warnings: some have been eliminated for 1.2.2.
--Some are about constructs needed to satisfy other compilers.
--
--Also: configure problem with g77 on SGI.
--(Should be taken care of for 1.2.3).
* PR# 848 *
Subject: X11 device doesn't handle destroy events correcly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 13 Feb 2001 17:40:46 -0500

Directory:  TooMuchAtOnce

* PR# 811 *
Subject: problem with strptime example (and mention of bug.report)
From: Stephen Eglen <stephen@anc.ed.ac.uk>
Date: Thu, 11 Jan 2001 19:18:39 GMT
--1) On OSF4, strptime is deficient. Nothing we can do.
--
--2) On Windows NT, the strptime problems are (i) German locale, English dates,
--(ii) Windows system errors with unknown DST (it move times to DST).
--(i) now has another warning in the help file (there already was one).
--(ii) was already worked around for 1.2.1.
--
--3) bug.report() uses a mailer option that does not exist on OSF4.

Directory:  Windows

* PR# 912 *
Subject: Rgui.exe crash on Windows 2000
From: gilg.seeber@uibk.ac.at
Date: Thu, 12 Apr 2001 15:07:52 +0200 (MET DST)
--seems to be specific to the submitter's system.
--Cannot reproduce.
* PR# 906 *
Subject: Win98 wheelmouse graphics lock problem
From: cpaul@ucla.edu
Date: Tue, 10 Apr 2001 17:50:44 +0200 (MET DST)
--Cannot reproduce without more information
--In particular, does not happen with Microsoft Intellimouse on W2K

Directory:  incoming

* PR# 917 *
Subject: boxplot
From: skala@incoma.cz
Date: Fri, 20 Apr 2001 08:43:29 +0200 (MET DST)
* PR# 916 *
Subject:  par(mgp) bug 
From: paul@stat.auckland.ac.nz
Date: Fri, 20 Apr 2001 08:33:45 +1200 (NZST)
* PR# 915 *
Subject: cannot allocate vector of size 71773 Kb
From: cdhershberger@dow.com
Date: Tue, 17 Apr 2001 05:34:04 +0200 (MET DST)
* PR# 877 *
Subject: segmentation fault of unknown cause
From: Martin Schlather <Martin.Schlather@uni-bayreuth.de>
Date: Wed, 14 Mar 2001 17:45:25 +0100
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sat Apr 21 13:07:47 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 21 Apr 2001 14:07:47 +0200 (MET DST)
Subject: [Rd] Re: PR#886: Error (?) in documentation of 'swiss'
Message-ID: <200104211207.OAA05218@pubhealth.ku.dk>

>From k.j.mcconway@open.ac.uk  Wed Mar 28 16:46:49 2001

Hardly crucial, but I've come upon a potential error in the documentation
of the 'swiss' datafram in the R base package. The description accurately
matches what is said in the Mosteller and Tukey source quoted, but
according to the data archived at Princeton (links from
http://opr.princeton.edu/archive/eufert/switz.html), the variable that
Mosteller and Tukey report as infant mortality is actually the proportion
of 'draftees' with education beyond primary school. Infant mortality is on
the archived file, but the values are quite a lot different. Of course,
it's possible that Mosteller and Tukey were right and the people who did
the archiving at Princenton, later, got it wrong.

It seems it is you that got it wrong! In the file sw1888.dat in their
switz.zip, the variable

 36 USCHOOL        321-330       3  Prop. draftees with > primary educ.

corresponds to `Education' and

 22 INFMORT        181-190       3  Infant Mortality Rate

corresponds to `Infant Mortality'.

Apart from guessing factors of 10, the data correspond to the 47 districts
with > 50% French speakers to the accuracy they are given.

If you still disagree, can you please explain how you did this?  I used

> read.fwf("sw1888.dat", widths=c(rep(10, 45),1,2,2,2,8,1,15)) ->sw0
> ind <- sw0[, 27] > 50000
> sw <- sw0[ind, ]
> sw[, c(5, 12, 34, 36, 9, 22)-3]

the first column in the file being variable 4.


Thanks for the source: as from 1.3.0 I have added the district names.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Sat Apr 21 20:08:13 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Sat, 21 Apr 2001 21:08:13 +0200
Subject: [Rd] display URL in browser
Message-ID: <15073.55965.249728.775955@mithrandir.hornik.net>

Does anyone know whether one can ``remotely'' make konqueror display a
URL a la netscape -remote 'openURL(url)', and how this can be done?
Thanks
-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Sat Apr 21 21:15:32 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Sat, 21 Apr 2001 22:15:32 +0200
Subject: [Rd] Rcsound, new version
Message-ID: <3AE1EA64.27CC85A5@univie.ac.at>


there is a new version of my "R sings" package
no functional changes, but more stable and reliable on windows.
feedback about unix needed!

http://mailbox.univie.ac.at/erich.neuwirth/Rcsound/

--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From k.j.mcconway@open.ac.uk  Sat Apr 21 23:18:53 2001
From: k.j.mcconway@open.ac.uk (k.j.mcconway@open.ac.uk)
Date: Sun, 22 Apr 2001 00:18:53 +0200 (MET DST)
Subject: [Rd] Re: PR#886: Error (?) in documentation of 'swiss'
Message-ID: <200104212218.AAA06617@pubhealth.ku.dk>

No, you're quite right, I was wrong. I must have been very confused when I
put up the first 'bug' report, #886. I noticed my error a couple of days
after and put up a comment to that effect on R-bugs, but it seems to have
vanished (or alternatively I did that wrong as well). I agree with you on
the criterion for the choice of districts as well. There remains a minuscule
discrepancy between the Mosteller and Tukey description and the Princeton
one, in that M&T say that the 4th variable is the % of the population with
education beyond primary school, whereas the Princeton source says it's the
percentage of 'draftees' with this level of education; given the date, the
differences between male and female education levels at the time, and the
(presumed) fact that the 'draftees' are all male, this might make a
difference to interpretation, I suppose.

It did occur to me to wonder why Mosteller and Tukey chose these particular
variables out of all those given in the source...

Regards,

Kevin McConway
Department of Statistics
The Open University
k.j.mcconway@open.ac.uk
----- Original Message -----
From: "Prof Brian D Ripley" <ripley@stats.ox.ac.uk>
To: "k.j.mcconway" <k.j.mcconway@open.ac.uk>
Cc: "R-bugs" <>
Sent: 21 April 2001 13:09
Subject: Re: PR#886: Error (?) in documentation of 'swiss'


>
> >From k.j.mcconway@open.ac.uk  Wed Mar 28 16:46:49 2001
>
> Hardly crucial, but I've come upon a potential error in the documentation
> of the 'swiss' datafram in the R base package. The description accurately
> matches what is said in the Mosteller and Tukey source quoted, but
> according to the data archived at Princeton (links from
> http://opr.princeton.edu/archive/eufert/switz.html), the variable that
> Mosteller and Tukey report as infant mortality is actually the proportion
> of 'draftees' with education beyond primary school. Infant mortality is on
> the archived file, but the values are quite a lot different. Of course,
> it's possible that Mosteller and Tukey were right and the people who did
> the archiving at Princenton, later, got it wrong.
>
> It seems it is you that got it wrong! In the file sw1888.dat in their
> switz.zip, the variable
>
>  36 USCHOOL        321-330       3  Prop. draftees with > primary educ.
>
> corresponds to `Education' and
>
>  22 INFMORT        181-190       3  Infant Mortality Rate
>
> corresponds to `Infant Mortality'.
>
> Apart from guessing factors of 10, the data correspond to the 47 districts
> with > 50% French speakers to the accuracy they are given.
>
> If you still disagree, can you please explain how you did this?  I used
>
> > read.fwf("sw1888.dat", widths=c(rep(10, 45),1,2,2,2,8,1,15)) ->sw0
> > ind <- sw0[, 27] > 50000
> > sw <- sw0[ind, ]
> > sw[, c(5, 12, 34, 36, 9, 22)-3]
>
> the first column in the file being variable 4.
>
>
> Thanks for the source: as from 1.3.0 I have added the district names.
>
> --
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Apr 22 07:38:23 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 22 Apr 2001 07:38:23 +0100 (BST)
Subject: [Rd] display URL in browser
In-Reply-To: <15073.55965.249728.775955@mithrandir.hornik.net>
Message-ID: <Pine.GSO.4.31.0104220734280.3378-100000@auk.stats>

On Sat, 21 Apr 2001, Kurt Hornik wrote:

> Does anyone know whether one can ``remotely'' make konqueror display a
> URL a la netscape -remote 'openURL(url)', and how this can be done?

No, but I wanted to follow up on Netscape 6.01 as I tested it harder
yesterday.  I said this seemed to work.  It almost does, but not enough:

(1) If Netscape 6.01 is running, it loads the requested URL.
(2) If it is not running, it starts Netscape but fails to load the URL.

Some versions of 4.x seem to have the opposite problem, they failed to load
a new URL if Netscape was running.  (4.7 UK version was one.)

Brian


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Apr 22 07:47:31 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 22 Apr 2001 07:47:31 +0100 (BST)
Subject: [Rd] Re: PR#886: Error (?) in documentation of 'swiss'
In-Reply-To: <200104212218.AAA06617@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.31.0104220743060.3378-100000@auk.stats>

On Sun, 22 Apr 2001 k.j.mcconway@open.ac.uk wrote:

> No, you're quite right, I was wrong. I must have been very confused when I
> put up the first 'bug' report, #886. I noticed my error a couple of days
> after and put up a comment to that effect on R-bugs, but it seems to have
> vanished (or alternatively I did that wrong as well). I agree with you on

(It seems never to have got there.)

> the criterion for the choice of districts as well. There remains a minuscule
> discrepancy between the Mosteller and Tukey description and the Princeton
> one, in that M&T say that the 4th variable is the % of the population with
> education beyond primary school, whereas the Princeton source says it's the
> percentage of 'draftees' with this level of education; given the date, the
> differences between male and female education levels at the time, and the
> (presumed) fact that the 'draftees' are all male, this might make a
> difference to interpretation, I suppose.

Also, the agricultural field is for males, and a corresponding one
for females is in the OPR files.

I have already noted both in the help file for the upcoming 1.2.3.

[...]

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Sun Apr 22 11:32:01 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Sun, 22 Apr 2001 12:32:01 +0200
Subject: [Rd] Rcsound, additional information
Message-ID: <3AE2B321.CDEBBBDA@univie.ac.at>

i forgot to mention this explicitly,
but of course it is in the docs ;-)


for Rcsound
you need to install
csound 4.12

otherwise it will not work.

csound 4.12 is only a few weeks old,
so you probably need to get it from
ftp://ftp.maths.bath.ac.uk/pub/dream/newest/


--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rmh@surfer.sbm.temple.edu  Mon Apr 23 04:09:22 2001
From: rmh@surfer.sbm.temple.edu (rmh@surfer.sbm.temple.edu)
Date: Mon, 23 Apr 2001 05:09:22 +0200 (MET DST)
Subject: [Rd] several bugs (PR#918)
Message-ID: <200104230309.FAA10241@pubhealth.ku.dk>

# Your mailer is set to "none" (default on Windows),
# hence we cannot send the bug report directly from R.
# Please copy the bug report (after finishing it) to
# your favorite email program and send it to
#
#       r-bugs@r-project.org
#
######################################################



1. as.numeric behaves differently in R than in S and I think this
shows a bug in how S3 classes are implemented.

R:
> as.numeric
function (x, ...) 
UseMethod("as.double")
> as.double
function (x, ...) 
UseMethod("as.double")


S:
> as.numeric
function(x)
Internal(as.numeric(x), "As_vector", T, 4)
> as.double
function(x)
.Internal(as.double(x), "As_vector", T, 4)
>


As a consequence, a user function
  as.numeric.mv 
doesn't work as a method in R because it never gets called when
accessed as as.numeric(x).

> objects()
character(0)
> a <- list(NA)
> attr(a[[1]],"mv") <- "default"
> class(a) <- "mv"
> 
> a
[[1]]
[1] NA
attr(,"mv")
[1] "default"

attr(,"class")
[1] "mv"
> as.numeric(a)
[1] NA
> as.numeric.mv <- function(x, ...) {
+   print("we got here")
+  x
+ }
> 
> as.numeric(a)  ## the function as.numeric.mv was not called
[1] NA
> as.numeric.mv(a)
[1] "we got here"
[1] NA
> 



2. works in S-Plus 4.5, not in R.  What is the rationale for this difference?

a <- list(NULL)
attr(a[[1]],"mv") <- "default"

R gives the message
Error: attempt to set an attribute on NULL



3. Unimplemented features in rep, copyVector
> rep(list(1),1)
[[1]]
[1] 1

> rep(list(1,2,3),1)
Error in rep(list(1, 2, 3), 1) : Unimplemented feature in rep

> a <- matrix(list(1,2,3,4,5,6), 2, 3)

Error in matrix(list(1, 2, 3, 4, 5, 6), 2, 3) : 
	Unimplemented feature in copyVector


4. methods in S-Plus that aren't methods in R. 
a. %*% is a method in S-Plus 4.5 and is a primitive in R.
   Therefore a user function "%*%.mv" doesn't get called by  a %*% b



5. S-Plus 6 compatibility issues
a. S+4 and R use the function
     exists("function.name", mode="function")
   S+6 use the function
     existsFunction("function.name")

More generally, S-Plus 6 has the following functions
> objip("exists")
$splus:
[1] "exists"         "existsFunction" "file.exists"   

$main:
[1] "dbexists"       "dbexistsOld"    "dyn.exists"     "existsClass"
[5]  "existsClassDef" "existsDoc"     "existsMethod"  

Can you add these function names to R with sensible defaults until the S4
methods are fully in place?


b. S-Plus 6 uses the function oldClass
Can you add these functions and default definitions to R?
  oldClass <- function(...) class(...)   
  "oldClass<-" <- function(...) "class<-"(...)  


6. bug in "[" for lists

a <- list(1,2,3,4,5,6)
dim(a) <- c(2,3)
unlist(a)
> a[,1:2]
     [,1]   [,2]  
[1,] "NULL" "NULL"
[2,] "NULL" "NULL"

The same code in S+4 gives
> a[,1:2]
     [,1] [,2] 
[1,] 1    3   
[2,] 2    4   




--please do not edit the information below--

Version:
 platform = i386-pc-mingw32
 arch = x86
 os = Win32
 system = x86, Win32
 status = 
 major = 1
 minor = 2.1
 year = 2001
 month = 01
 day = 15
 language = R

Windows 9x 4.0 (build 1212)  B

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rmh@surfer.sbm.temple.edu  Mon Apr 23 04:19:42 2001
From: rmh@surfer.sbm.temple.edu (rmh@surfer.sbm.temple.edu)
Date: Mon, 23 Apr 2001 05:19:42 +0200 (MET DST)
Subject: [Rd] barplot documentation bug (PR#919)
Message-ID: <200104230319.FAA10270@pubhealth.ku.dk>

## documentation error for barplot

p <- c(.5,.3,.15,.05)
par(mfrow=c(4,1))
barplot(p, ylim=c(0,.5), space=0, width=1)
barplot(p, ylim=c(0,.5), space=0, width=.5)
barplot(p, ylim=c(0,.5), space=0, width=.25)
barplot(p, ylim=c(0,.5), space=0, width=.125)


## The widths in the plots are all the same.
## The R documentation for barplot says:
width: optional vector of bar widths.

## The S-Plus 4.5 documentation for barplot is more accurate.  It says:
width	if histo=FALSE, vector of relative bar widths; in this case
	all of the bars are the same width by default. When histo=TRUE, width
	represents where the breaks are for the histogram.
	

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rmh@surfer.sbm.temple.edu  Mon Apr 23 04:29:04 2001
From: rmh@surfer.sbm.temple.edu (rmh@surfer.sbm.temple.edu)
Date: Mon, 23 Apr 2001 05:29:04 +0200 (MET DST)
Subject: [Rd] bugs, doc bugs, comments (PR#920)
Message-ID: <200104230329.FAA10303@pubhealth.ku.dk>


0319
	CMTS.0414
miss.s
	Ops.bug.s
R.bug.report

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From david.meyer@ci.tuwien.ac.at  Mon Apr 23 15:22:45 2001
From: david.meyer@ci.tuwien.ac.at (David Meyer)
Date: Mon, 23 Apr 2001 16:22:45 +0200
Subject: [Rd] display URL in browser
References: <15073.55965.249728.775955@mithrandir.hornik.net>
Message-ID: <3AE43AB5.F60862C@ci.tuwien.ac.at>

Kurt Hornik wrote:
> 
> Does anyone know whether one can ``remotely'' make konqueror display a
> URL a la netscape -remote 'openURL(url)', and how this can be done?
> Thanks
> -k
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

simply:

konqueror url

e.g.: konqueror cran.r-project.org

-d

-- 
Mag. David Meyer			Wiedner Hauptstrasse 8-10
Vienna University of Technology		A-1040 Vienna/AUSTRIA
Department for Statistics, Probability	Tel.: (+431) 58801/10772
Theory and Actuarial Mathematics	mail: david.meyer@ci.tuwien.ac.at
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Mon Apr 23 17:37:05 2001
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Mon, 23 Apr 2001 09:37:05 -0700 (PDT)
Subject: [Rd] several bugs (PR#918)
In-Reply-To: <200104230309.FAA10241@pubhealth.ku.dk>
Message-ID: <Pine.A41.4.33.0104230854200.125502-100000@homer34.u.washington.edu>


Some of these are indeed bugs. Some are merely incompatibilities, in
particular between R and S4. R is intended to be largely compatible with S
version 3, but not (currently at least) with S version 4.

Incidentally, it's easier to  keep track of bugs if they come one to a
message. That way they get separate bug numbers.

On Mon, 23 Apr 2001 rmh@surfer.sbm.temple.edu wrote:
> 1. as.numeric behaves differently in R than in S and I think this
> shows a bug in how S3 classes are implemented.
>
> R:
> > as.numeric
> function (x, ...)
> UseMethod("as.double")

It is a bug, but not in how S3 classes are implemented (well, it's a bug
in the design of S3 classes that this can happen).  R has only one
floating point data type, which means that as.numeric and as.double do the
same thing.  The bug is that it isn't documented under help(as.numeric)
that you need to set up methods for as.double().

>
>
> 2. works in S-Plus 4.5, not in R.  What is the rationale for this difference?
>
> a <- list(NULL)
> attr(a[[1]],"mv") <- "default"
>
> R gives the message
> Error: attempt to set an attribute on NULL

The rationale is that you can't set an attribute on NULL. There are two
reasons.  The implementation reason is that there's only one of it: all
NULLs are references to the same object.  The interface reason is that if
you  want to set attributes on it you don't want a NULL (think of the NULL
pointer in C or nil in Pascal).

 You probably want numeric(0).

> 3. Unimplemented features in rep, copyVector
> > rep(list(1),1)
> [[1]]
> [1] 1
>
> > rep(list(1,2,3),1)
> Error in rep(list(1, 2, 3), 1) : Unimplemented feature in rep

Yes, it's an unimplemented feature. We clearly know about it, since you
got the message, so it isn't a bug. It is implemented in the pre1.3
development version.

> > a <- matrix(list(1,2,3,4,5,6), 2, 3)
>
> Error in matrix(list(1, 2, 3, 4, 5, 6), 2, 3) :
> 	Unimplemented feature in copyVector

This one isn't implemented in the development version, for a good reason.
Matrices and lists can hold very different sorts of things.  You should do
	a <- matrix(c(1,2,3,4,5,6), 2, 3)
This may well be what you should do in the previous case, as well. It's
more efficient to store homogeneous, one-dimensional data in a vector
rather than a list.


> 4. methods in S-Plus that aren't methods in R.
> a. %*% is a method in S-Plus 4.5 and is a primitive in R.
>    Therefore a user function "%*%.mv" doesn't get called by  a %*% b

This might be worth implementing, but we would have to worry about the
overhead: matrix multiplication is a speed-critical function (like all the
remaining primitives).  You can easily make it generic for yourself

	"%*%.default"<-get("%*%")
 	"%*%"<-function(x,y,...) UseMethod("%*%")

This wouldn't despatch on the second argument, but that could be fixed
with a bit more work.

>
> 5. S-Plus 6 compatibility issues
> a. S+4 and R use the function
>      exists("function.name", mode="function")
>    S+6 use the function
>      existsFunction("function.name")

Indeed.

> More generally, S-Plus 6 has the following functions
> > objip("exists")
> $splus:
> [1] "exists"         "existsFunction" "file.exists"
>
> $main:
> [1] "dbexists"       "dbexistsOld"    "dyn.exists"     "existsClass"
> [5]  "existsClassDef" "existsDoc"     "existsMethod"
>
> Can you add these function names to R with sensible defaults until the S4
> methods are fully in place?

No. You can, though.

R is not a clone of S-PLUS, especially not of S-PLUS 6. We are working
towards compatibility with S4 on certain important features, but not
detail by detail.

You may want to look at http://www.omegahat.org/RSMethods/index.html
which describes an implementation of S4 classes for R by John Chambers.


> 6. bug in "[" for lists
>
> a <- list(1,2,3,4,5,6)
> dim(a) <- c(2,3)
> unlist(a)
> > a[,1:2]
>      [,1]   [,2]
> [1,] "NULL" "NULL"
> [2,] "NULL" "NULL"
>
> The same code in S+4 gives
> > a[,1:2]
>      [,1] [,2]
> [1,] 1    3
> [2,] 2    4
>

If there's a bug here it's that an error isn't returned.  You can't go
around setting dim() on things and expecting it to work.  A properly
object-oriented language wouldn't let you even try. You took a list of
six objects (which could be *any* six objects, as different as chalk and
Wednesday) and told it that it was a 2x3 array.  It believed you. Not
surprisingly, it got confused.

 It does work if a is a vector rather than a list, as do some other things
you tried, so in general you might be happier if you used c() rather than
list() for homogeneous data.

It's true that some versions of S allow it. Some versions of S also allow
   a<-as.matrix(lm(Fuel ~ . , fuel.frame))
for example. The S languages could do with a clearer distinction between
high level functions that check their arguments for compatibility and the
low-level functions that are needed to implement these.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley@u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rmh@surfer.sbm.temple.edu  Mon Apr 23 18:57:32 2001
From: rmh@surfer.sbm.temple.edu (Rich Heiberger)
Date: Mon, 23 Apr 2001 13:57:32 -0400 (EDT)
Subject: [Rd] several bugs (PR#918) lists and matrices
Message-ID: <200104231757.f3NHvWZ379277@surfer.sbm.temple.edu>

## Thomas rightly points out that list() is not the best structure for
## homogeneous data.  My example was the simplest that generated the
## error of a matrix structure that that doesn't work.  The application
## that this is simplified from needs lists because the data isn't
## homogeneous.  I am attempting to write a missing value class, where
## each item is a list.  In the simplest instance, if the datum is missing
## then the attribute contains the reason.
## 
## Both of the 'bugs'/'unimplemented features'
## 3. a <- matrix(list(1,2,3,4,5,6), 2, 3)
## 6. bug in "[" for lists
## show up in this example.  Thus

x <- list(1,2,3,4,5,6)
dim(x) <- c(2,3)
x[[2,3]] <- NA
attr(x[[2,3]],"mv") <- "absent"
x
for(i in x) print(i)
x[2,]
x[1,1]
x[2,3]

Rich
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rgentlem@jimmy.harvard.edu  Mon Apr 23 19:12:20 2001
From: rgentlem@jimmy.harvard.edu (Robert Gentleman)
Date: Mon, 23 Apr 2001 14:12:20 -0400
Subject: [Rd] several bugs (PR#918) lists and matrices
In-Reply-To: <200104231757.f3NHvWZ379277@surfer.sbm.temple.edu>; from Rich Heiberger on Mon, Apr 23, 2001 at 01:57:32PM -0400
References: <200104231757.f3NHvWZ379277@surfer.sbm.temple.edu>
Message-ID: <20010423141220.X25202@jimmy.harvard.edu>

On Mon, Apr 23, 2001 at 01:57:32PM -0400, Rich Heiberger wrote:
> ## Thomas rightly points out that list() is not the best structure for
> ## homogeneous data.  My example was the simplest that generated the
> ## error of a matrix structure that that doesn't work.  The application
> ## that this is simplified from needs lists because the data isn't
                                                          data aren't (?)
> ## homogeneous.  I am attempting to write a missing value class, where
> ## each item is a list.  In the simplest instance, if the datum is missing
> ## then the attribute contains the reason.
> ## 
> ## Both of the 'bugs'/'unimplemented features'
> ## 3. a <- matrix(list(1,2,3,4,5,6), 2, 3)
> ## 6. bug in "[" for lists
> ## show up in this example.  Thus
> 
> x <- list(1,2,3,4,5,6)
> dim(x) <- c(2,3)
> x[[2,3]] <- NA
> attr(x[[2,3]],"mv") <- "absent"
> x
> for(i in x) print(i)
> x[2,]
> x[1,1]
> x[2,3]


  Yes, it appears to be either a bug or perhaps an unimplemented
  feature (or possibly an unimplemented bug). The problem with the S
  version of this is that the following doesn't work the same as the
  above (I might argue that it should)
> x<-matrix(1:6,nc=3)
> x
     [,1] [,2] [,3] 
[1,]    1    3    5
[2,]    2    4    6
> x[[2,3]]<-NA
> x
     [,1] [,2] [,3] 
[1,]    1    3    5
[2,]    2    4   NA
> attr(x[[2,3]],"mv") <- "absent"
> for(i in x) print(i)
[1] 1
[1] 2
[1] 3
[1] 4
[1] 5
[1] NA

  I am uncertain as to why you want to put dimensions on a list? It
  doesn't make it a matrix. That said we can duplicate the behaviour
  but I'm not sure that it is worth introducing the confusion that
  ought to follow.

  For my favorite silly example:
> dim(mean)<-c(2,2) 
Warning messages:
  assigning "mean" masks an object of the same name on database 2
> mean
           [,1] [,2] 
[1,] missing, 0     
[2,] 0          {, 5
attr(, "names"):
[1] "x"     "trim"  "na.rm" ""     
> is.matrix(mean)
[1] T
> mean(1:10)
[1] 5.5
> 
    Just because you can does not necessarily mean that you should.

> 
> Rich
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
+---------------------------------------------------------------------------+
| Robert Gentleman                 phone : (617) 632-5250                   |
| Associate Professor              fax:   (617)  632-2444                   |
| Department of Biostatistics      office: M1B28
| Harvard School of Public Health  email: rgentlem@jimmy.dfci.harvard.edu   |
+---------------------------------------------------------------------------+
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rmh@surfer.sbm.temple.edu  Mon Apr 23 20:35:41 2001
From: rmh@surfer.sbm.temple.edu (Rich Heiberger)
Date: Mon, 23 Apr 2001 15:35:41 -0400 (EDT)
Subject: [Rd] several bugs (PR#918) lists and matrices
References: <200104231757.f3NHvWZ379277@surfer.sbm.temple.edu>
Message-ID: <200104231935.f3NJZfc383353@surfer.sbm.temple.edu>

Robert's example
  x<-matrix(1:6,nc=3)
  x[[2,3]]<-NA
  attr(x[[2,3]],"mv") <- "absent"
loses the attribute in S-Plus as well as in R.  The only way I
have been able to put attributes on individual elements is to make
a matrix of lists.  Interestingly, this statement does print
  print(attr(x[[2,3]],"mv") <- "absent")
The value of the attribute doesn't vanish for the duration of the
current statement.  The value is gone if we follow this with
  attr(x[[2,3]],"mv")
Should there be a warning message when the assignment is attempted?

As to the fundamental question of putting dimensions on a list, that
is asking the question backwards from how I am looking at it.  I have
a two-dimensional array of data items for which one or more of the
values is unknown.  The matrix is the natural structure for this data.

How do I record the type of missingness for the missing datum?  I have
chosen to place a list in the cell of the matrix.  Another option is
to have a parallel matrix of missingness information, possibly
attached as an attribute to the original data.  Another option is a
sparse array of some form that is pointed to by access functions that
are sensitive to the NA in the original data matrix.

To me, the recursive structure is the most natural way to represent the
information about missingness.

Rich
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Mon Apr 23 20:54:17 2001
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Mon, 23 Apr 2001 12:54:17 -0700 (PDT)
Subject: [Rd] several bugs (PR#918) lists and matrices
In-Reply-To: <200104231935.f3NJZfc383353@surfer.sbm.temple.edu>
Message-ID: <Pine.A41.4.33.0104231243060.125502-100000@homer34.u.washington.edu>

On Mon, 23 Apr 2001, Rich Heiberger wrote:

> Robert's example
>   x<-matrix(1:6,nc=3)
>   x[[2,3]]<-NA
>   attr(x[[2,3]],"mv") <- "absent"
> loses the attribute in S-Plus as well as in R.  The only way I
> have been able to put attributes on individual elements is to make
> a matrix of lists.  Interestingly, this statement does print
>   print(attr(x[[2,3]],"mv") <- "absent")
> The value of the attribute doesn't vanish for the duration of the
> current statement.  The value is gone if we follow this with
>   attr(x[[2,3]],"mv")
> Should there be a warning message when the assignment is attempted?
>
> As to the fundamental question of putting dimensions on a list, that
> is asking the question backwards from how I am looking at it.  I have
> a two-dimensional array of data items for which one or more of the
> values is unknown.  The matrix is the natural structure for this data.
>
> How do I record the type of missingness for the missing datum?  I have
> chosen to place a list in the cell of the matrix.  Another option is
> to have a parallel matrix of missingness information, possibly
> attached as an attribute to the original data.  Another option is a
> sparse array of some form that is pointed to by access functions that
> are sensitive to the NA in the original data matrix.
>
> To me, the recursive structure is the most natural way to represent the
> information about missingness.

Ah. Ok.

This is a more difficult question.  You can't put a list into a matrix.
Matrices handle homogenous data; they are vectors with a dimension
attribute.  Lists with an arbitrary dimension attribute are, as Rob
pointed out, an unimplemented bug. However, rectangle things with
arbitrary data in them do exist. They're called data frames.

As you will remember from Rob's DSC2001 talk, you can put potentially very
complicated objects into cells in a data frame. His example was
longitudinal data, where a celll might be the entire record of followup
measurements for a particular variable. Have a look at his paper in the
DSC proceedings at http://www.ci.tuwien.ac.at/Conferences/DSC-2001/

You could create an object of class "mvelement", say, which would be
either a number or a list, depending on whether the value was observed or
missing, and stick these in a data frame.


Another approach would be to have a matrix of data, with NAs where
necessary, and have the missing value information as an attribute of that
matrix, but that's different from what you're trying to do.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley@u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Apr 23 23:12:21 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Apr 2001 00:12:21 +0200
Subject: [Rd] several bugs (PR#918) lists and matrices
In-Reply-To: Thomas Lumley's message of "Mon, 23 Apr 2001 12:54:17 -0700 (PDT)"
References: <Pine.A41.4.33.0104231243060.125502-100000@homer34.u.washington.edu>
Message-ID: <x2ae57mfju.fsf@blueberry.kubism.ku.dk>

Thomas Lumley <tlumley@u.washington.edu> writes:

> This is a more difficult question.  You can't put a list into a matrix.
> Matrices handle homogenous data; they are vectors with a dimension
> attribute.  Lists with an arbitrary dimension attribute are, as Rob
> pointed out, an unimplemented bug.

Ummm. I'd have to say that it is an implemented bug if a bug at all.
tapply() does this all the time (although most often by accident), and
is even documented to do so. If one can have a list with a dim(), not
being able to index such a beast does look like a bug to me...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Mon Apr 23 23:51:48 2001
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Mon, 23 Apr 2001 15:51:48 -0700 (PDT)
Subject: [Rd] several bugs (PR#918) lists and matrices
In-Reply-To: <x2ae57mfju.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.A41.4.33.0104231546550.125502-100000@homer34.u.washington.edu>

On 24 Apr 2001, Peter Dalgaard BSA wrote:

> Thomas Lumley <tlumley@u.washington.edu> writes:
>
> > This is a more difficult question.  You can't put a list into a matrix.
> > Matrices handle homogenous data; they are vectors with a dimension
> > attribute.  Lists with an arbitrary dimension attribute are, as Rob
> > pointed out, an unimplemented bug.
>
> Ummm. I'd have to say that it is an implemented bug if a bug at all.
> tapply() does this all the time (although most often by accident), and
> is even documented to do so. If one can have a list with a dim(), not
> being able to index such a beast does look like a bug to me...

Strange. I had assumed that an array of mode list looked like a vector of
LISTSXPs, but it seems that it looks like a list with dimensions.

You can index it, with [[]]
> a<-list(1,2,3,4)
> dim(a)<-c(2,2)
> a
     [,1]        [,2]
[1,] "Numeric,1" "Numeric,1"
[2,] "Numeric,1" "Numeric,1"
> a[2,1]
[[1]]
NULL

> a[[2,1]]
[1] 2
which is weird. The question is then what a[2,1] thinks it's returning.


You still can't stick a list into an array of numbers, which is what Rich
needs, and is better handled with data frames.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.C.Rougier@durham.ac.uk  Tue Apr 24 09:49:16 2001
From: J.C.Rougier@durham.ac.uk (Jonathan Rougier)
Date: Tue, 24 Apr 2001 09:49:16 +0100 (BST)
Subject: [Rd] several bugs (PR#918) lists and matrices
In-Reply-To: <20010423141220.X25202@jimmy.harvard.edu>
Message-ID: <Pine.GSO.4.20.0104240935040.6372-100000@laplace>

Hi Robert,

On Mon, 23 Apr 2001, Robert Gentleman wrote:

>   I am uncertain as to why you want to put dimensions on a list? It
>   doesn't make it a matrix. That said we can duplicate the behaviour
>   but I'm not sure that it is worth introducing the confusion that
>   ought to follow.

Just to second Rich's reply: I love putting dimensions on a list!  I often
have rectangular data-structures of heterogeneous objects, and find it
much easier to operate with one large structure than several matching
small ones.

For example, at the moment I have a dynamic programming problem in which I
need to retain the expected payoff and the action, plus possibly some
other stuff as well, on a 2-grid.  I find it natural to write

dprog <- array(list(), c(20, 30))

# solving the dynamic programme

for (i in 20:1) for (j in 1:30) {

  # stuff here

  dprog[[i, j]] <- list(Ep = -1.0, action = "run for the hills")

  # and then, if I need to ...

  dprog[[i, j]]$andAnotherThing <- "don't look back"

}

Cheers, Jonathan.

Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jmc@research.bell-labs.com  Tue Apr 24 15:02:18 2001
From: jmc@research.bell-labs.com (John Chambers)
Date: Tue, 24 Apr 2001 10:02:18 -0400 (EDT)
Subject: [Rd] several bugs (PR#918) lists and matrices
References: <Pine.A41.4.33.0104231546550.125502-100000@homer34.u.washington.edu>
Message-ID: <200104241402.KAA03006@jessie.research.bell-labs.com>

> Date: Mon, 23 Apr 2001 15:51:48 -0700 (PDT)
> From: Thomas Lumley <tlumley@u.washington.edu>
> cc: <r-devel@stat.math.ethz.ch>
> Sender: owner-r-devel@stat.math.ethz.ch
> Precedence: SfS-bulk
> 
> On 24 Apr 2001, Peter Dalgaard BSA wrote:
> 
> > Thomas Lumley <tlumley@u.washington.edu> writes:
> >
> > > This is a more difficult question.  You can't put a list into a matrix.
> > > Matrices handle homogenous data; they are vectors with a dimension
> > > attribute.  Lists with an arbitrary dimension attribute are, as Rob
> > > pointed out, an unimplemented bug.

The original idea of a matrix in S was that it was a vector with a
dim attribute (in fact, just a special case of an array, when the
length of the dim was 2).

In S (S3, or any other vintage) a "list" is a vector, so in the sense
of an array it is "homogeneous" enough to be a matrix.  Of course,
it's a vector where each element can be an arbitrary object, which
makes the code for printing and other things trickier.

In R, there are two kinds of "list" objects.  And the implementation
is much more indebted to the Lisp family of languages.  A list in the
traditional sense of an object with a head and a tail is very useful
for recursive computations, but not (IMO) particularly suitable to
be treated as an S vector, let alone a matrix.

So, part of the difficulty may be terminology.  It's only the S sense
of "list" that is likely to be useful as a matrix or array.


> > Ummm. I'd have to say that it is an implemented bug if a bug at all.
> > tapply() does this all the time (although most often by accident), and
> > is even documented to do so. If one can have a list with a dim(), not
> > being able to index such a beast does look like a bug to me...
> 
> Strange. I had assumed that an array of mode list looked like a vector of
> LISTSXPs, but it seems that it looks like a list with dimensions.
> 
> You can index it, with [[]]
> > a<-list(1,2,3,4)
> > dim(a)<-c(2,2)
> > a
>      [,1]        [,2]
> [1,] "Numeric,1" "Numeric,1"
> [2,] "Numeric,1" "Numeric,1"
> > a[2,1]
> [[1]]
> NULL
> 
> > a[[2,1]]
> [1] 2
> which is weird. The question is then what a[2,1] thinks it's
> returning.

Gee, it doesn't seem weird to me :-)

Each element of a is a numeric vector.  Any [[]] operation returns a
single element, namely the numeric vector.

The natural interpretation of single [] is that it operates to return
a vector (in general, optionally still an array if a rectangular
subset is selected) of the same mode as the original; i.e., in the
case of a[2,1] presumably a list of length 1 containing a numeric
vector (accidentally, also of length 1).
 
> 
> You still can't stick a list into an array of numbers, which is what Rich
> needs, and is better handled with data frames.

Yes, I'd agree (pending a convincing example) that fixing bugs for
traditional S arrays of mode list is not a high priority item.

We're in the process of discussing data frames and where they might go
in the future.  That would be a good context for examining whatever
practical needs people have.

> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

John

-- 
John M. Chambers                  jmc@bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From David James <dj@research.bell-labs.com>  Tue Apr 24 19:16:21 2001
From: David James <dj@research.bell-labs.com> (David James)
Date: Tue, 24 Apr 2001 14:16:21 -0400 (EDT)
Subject: [Rd] assigning objects from .C/.Call
Message-ID: <200104241816.OAA04278@jessie.research.bell-labs.com>


Hi,

In section 4.6.7 of "Writing R Extensions" (Version 1.2.1, 2001-01-15) 
the C function defineVar() is described as  "... the equivalent 
of assign(symbol, value, envir = rho, inherits = FALSE) ..."

I interpreted the above (wrongly) as meaning that defineVar() makes 
a copy of its "value" argument into the object whose name is specified 
in "symbol" in the "rho" environment (that's how assign() works at the 
R/S level).  However, this is not exactly how defineVar() appears to work.
In particular, it appears to assign the object in the environment "rho",
but further changes in the C code to the object are reflected in the 
"assigned" object in rho (i.e., no actual copy of the object is made).

I can see that the implemented behavior is quite useful, but it's not 
exactly equivalent to assign().  Perhaps the documentation should be more 
explicit and add a sentence to warn users that the data part of the
object is shared? (The sentence may need to be more precise, though.)


> version

platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    2.1              
year     2001             
month    01               
day      15               
language R                

Regards,

David A. James
Statistics Research, Room 2C-253            Phone:  (908) 582-3082       
Bell Labs, Lucent Technologies              Fax:    (908) 582-3340
Murray Hill, NJ 09794-0636

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Apr 24 20:24:35 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 24 Apr 2001 20:24:35 +0100 (BST)
Subject: [Rd] assigning objects from .C/.Call
In-Reply-To: <200104241816.OAA04278@jessie.research.bell-labs.com>
Message-ID: <Pine.GSO.4.31.0104242021450.16295-100000@auk.stats>

On Tue, 24 Apr 2001, David James wrote:

>
> Hi,
>
> In section 4.6.7 of "Writing R Extensions" (Version 1.2.1, 2001-01-15)
> the C function defineVar() is described as  "... the equivalent
> of assign(symbol, value, envir = rho, inherits = FALSE) ..."
>
> I interpreted the above (wrongly) as meaning that defineVar() makes
> a copy of its "value" argument into the object whose name is specified
> in "symbol" in the "rho" environment (that's how assign() works at the
> R/S level).  However, this is not exactly how defineVar() appears to work.
> In particular, it appears to assign the object in the environment "rho",
> but further changes in the C code to the object are reflected in the
> "assigned" object in rho (i.e., no actual copy of the object is made).
>
> I can see that the implemented behavior is quite useful, but it's not
> exactly equivalent to assign().  Perhaps the documentation should be more
> explicit and add a sentence to warn users that the data part of the
> object is shared? (The sentence may need to be more precise, though.)

I'm happy to do so, but can someone provide the more precise sentence,
please.  When exactly does R make a copy?


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Apr 24 23:50:18 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 Apr 2001 00:50:18 +0200
Subject: [Rd] assigning objects from .C/.Call
In-Reply-To: Prof Brian D Ripley's message of "Tue, 24 Apr 2001 20:24:35 +0100 (BST)"
References: <Pine.GSO.4.31.0104242021450.16295-100000@auk.stats>
Message-ID: <x2ae55c3px.fsf@blueberry.kubism.ku.dk>

Prof Brian D Ripley <ripley@stats.ox.ac.uk> writes:

> On Tue, 24 Apr 2001, David James wrote:
> 
> >
> > Hi,
> >
> > In section 4.6.7 of "Writing R Extensions" (Version 1.2.1, 2001-01-15)
> > the C function defineVar() is described as  "... the equivalent
> > of assign(symbol, value, envir = rho, inherits = FALSE) ..."
> >
> > I interpreted the above (wrongly) as meaning that defineVar() makes
> > a copy of its "value" argument into the object whose name is specified
> > in "symbol" in the "rho" environment (that's how assign() works at the
> > R/S level).  However, this is not exactly how defineVar() appears to work.
> > In particular, it appears to assign the object in the environment "rho",
> > but further changes in the C code to the object are reflected in the
> > "assigned" object in rho (i.e., no actual copy of the object is made).
> >
> > I can see that the implemented behavior is quite useful, but it's not
> > exactly equivalent to assign().  Perhaps the documentation should be more
> > explicit and add a sentence to warn users that the data part of the
> > object is shared? (The sentence may need to be more precise, though.)
> 
> I'm happy to do so, but can someone provide the more precise sentence,
> please.  When exactly does R make a copy?

At C level, you'd need to duplicate(). In an assign() call,
duplication takes place if the object is NAMED except if .Alias is
used. ...I think.
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.C.Rougier@durham.ac.uk  Wed Apr 25 12:23:09 2001
From: J.C.Rougier@durham.ac.uk (J.C.Rougier@durham.ac.uk)
Date: Wed, 25 Apr 2001 13:23:09 +0200 (MET DST)
Subject: [Rd] Managed to confuse match.arg (PR#921)
Message-ID: <200104251123.NAA14349@pubhealth.ku.dk>

This one may not strictly be a bug, and it was certainly my
fault, but it took me a while to track it down and it is rather
strange:

funOne <- function(x)
{
  funTwo <- 1:10
  funTwo(x)
}

funTwo <- function(v) 2*v

funOne(5) # answer is 10 as expected

# now a different definition for funTwo with a match.arg

funTwo <- function(v, foo=c("small", "large"))
{
  foo <- match.arg(foo)
  print(foo)
  2*v
}

funOne(5) # answer is 10, but foo is NULL

What happens is that in funOne I mask funTwo with a vector, but
that doesn't matter as the call to funTwo specifies
mode="function" (or something similar).  But what happens when
funTwo includes a match.arg?  In this case match.arg fails, and
the reason it fails is that sys.function(sys.parent()) in
match.arg evaluates to 1:10.  If there is a bug here it is the
failure of sys.function to grab a function, with the result that
formal.args in match.fun is NULL.

Cheers, Jonathan.

--please do not edit the information below--

Version:
 platform = sparc-sun-solaris2.7
 arch = sparc
 os = solaris2.7
 system = sparc, solaris2.7
 status = 
 major = 1
 minor = 2.1
 year = 2001
 month = 01
 day = 15
 language = R

Search Path:
 .GlobalEnv, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From David James <dj@research.bell-labs.com>  Wed Apr 25 14:37:19 2001
From: David James <dj@research.bell-labs.com> (David James)
Date: Wed, 25 Apr 2001 09:37:19 -0400 (EDT)
Subject: [Rd] assigning objects from .C/.Call
Message-ID: <200104251337.JAA14493@jessie.research.bell-labs.com>

Hi,

On Tue, 24 Apr 2001, Prof Brian D Ripley wrote:

> Date: Tue, 24 Apr 2001 20:24:35 +0100 (BST)
> From: 
> To: David James <dj@research.bell-labs.com>
> cc: <r-devel@stat.math.ethz.ch>
> Subject: Re: [Rd] assigning objects from .C/.Call
> MIME-Version: 1.0
> 
> On Tue, 24 Apr 2001, David James wrote:
> 
> >
> > Hi,
> >
> > In section 4.6.7 of "Writing R Extensions" (Version 1.2.1, 2001-01-15)
> > the C function defineVar() is described as  "... the equivalent
> > of assign(symbol, value, envir = rho, inherits = FALSE) ..."
> >
> > I interpreted the above (wrongly) as meaning that defineVar() makes
> > a copy of its "value" argument into the object whose name is specified
> > in "symbol" in the "rho" environment (that's how assign() works at the
> > R/S level).  However, this is not exactly how defineVar() appears to work.
> > In particular, it appears to assign the object in the environment "rho",
> > but further changes in the C code to the object are reflected in the
> > "assigned" object in rho (i.e., no actual copy of the object is made).
> >
> > I can see that the implemented behavior is quite useful, but it's not
> > exactly equivalent to assign().  Perhaps the documentation should be more
> > explicit and add a sentence to warn users that the data part of the
> > object is shared? (The sentence may need to be more precise, though.)
> 
> I'm happy to do so, but can someone provide the more precise sentence,
> please.  When exactly does R make a copy?

Using Peter Delgaard's suggestion (and John Chambers', privately)
I suggest the following modified paragraph (edited from R-exts.texi):


@code{defineVar}
creates a new binding or changes the value of an existing binding in the
specified environment frame; in this respect, it is analogous to
@code{assign(symbol, value, envir = rho, inherits = FALSE)},
but unlike \code{assign}, @code{defineVar} does not make a
copy of the object (you can assign a copy of the object in the
environment frame @code{rho} using
@code{defineVar(symbol, duplicate(value), rho)}).



> 
> 
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 
-------------------------------------------------------------------
David A. James
Statistics Research, Room 2C-253            Phone:  (908) 582-3082       
Bell Labs, Lucent Technologies              Fax:    (908) 582-3340
Murray Hill, NJ 09794-0636

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Apr 25 14:58:52 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 25 Apr 2001 14:58:52 +0100 (BST)
Subject: [Rd] assigning objects from .C/.Call
In-Reply-To: <200104251337.JAA14493@jessie.research.bell-labs.com>
Message-ID: <Pine.LNX.4.31.0104251447200.1267-100000@gannet.stats>

On Wed, 25 Apr 2001, David James wrote:

> Hi,
>
> On Tue, 24 Apr 2001, Prof Brian D Ripley wrote:
>
> > Date: Tue, 24 Apr 2001 20:24:35 +0100 (BST)
> > From:
> > To: David James <dj@research.bell-labs.com>
> > cc: <r-devel@stat.math.ethz.ch>
> > Subject: Re: [Rd] assigning objects from .C/.Call
> > MIME-Version: 1.0
> >
> > On Tue, 24 Apr 2001, David James wrote:
> >
> > >
> > > Hi,
> > >
> > > In section 4.6.7 of "Writing R Extensions" (Version 1.2.1, 2001-01-15)
> > > the C function defineVar() is described as  "... the equivalent
> > > of assign(symbol, value, envir = rho, inherits = FALSE) ..."
> > >
> > > I interpreted the above (wrongly) as meaning that defineVar() makes
> > > a copy of its "value" argument into the object whose name is specified
> > > in "symbol" in the "rho" environment (that's how assign() works at the
> > > R/S level).  However, this is not exactly how defineVar() appears to work.
> > > In particular, it appears to assign the object in the environment "rho",
> > > but further changes in the C code to the object are reflected in the
> > > "assigned" object in rho (i.e., no actual copy of the object is made).
> > >
> > > I can see that the implemented behavior is quite useful, but it's not
> > > exactly equivalent to assign().  Perhaps the documentation should be more
> > > explicit and add a sentence to warn users that the data part of the
> > > object is shared? (The sentence may need to be more precise, though.)
> >
> > I'm happy to do so, but can someone provide the more precise sentence,
> > please.  When exactly does R make a copy?
>
> Using Peter Delgaard's suggestion (and John Chambers', privately)
> I suggest the following modified paragraph (edited from R-exts.texi):
>
>
> @code{defineVar}
> creates a new binding or changes the value of an existing binding in the
> specified environment frame; in this respect, it is analogous to
> @code{assign(symbol, value, envir = rho, inherits = FALSE)},
> but unlike \code{assign}, @code{defineVar} does not make a
> copy of the object (you can assign a copy of the object in the
> environment frame @code{rho} using
> @code{defineVar(symbol, duplicate(value), rho)}).

Thanks, will add (a variant of).

The real issue is that assign() allows `value' to be an expression, and so
uses the value of evaluating the expression, not that of a variable.

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@nokomis.stat.umn.edu  Wed Apr 25 15:48:29 2001
From: luke@nokomis.stat.umn.edu (Luke Tierney)
Date: Wed, 25 Apr 2001 09:48:29 -0500
Subject: [Rd] assigning objects from .C/.Call
In-Reply-To: <x2ae55c3px.fsf@blueberry.kubism.ku.dk>; from p.dalgaard@biostat.ku.dk on Wed, Apr 25, 2001 at 12:50:18AM +0200
References: <Pine.GSO.4.31.0104242021450.16295-100000@auk.stats> <x2ae55c3px.fsf@blueberry.kubism.ku.dk>
Message-ID: <20010425094829.B5007@nokomis.stat.umn.edu>

On Wed, Apr 25, 2001 at 12:50:18AM +0200, Peter Dalgaard BSA wrote:
> Prof Brian D Ripley <ripley@stats.ox.ac.uk> writes:
> 
> > On Tue, 24 Apr 2001, David James wrote:
> > 
> > >
> > > Hi,
> > >
> > > In section 4.6.7 of "Writing R Extensions" (Version 1.2.1, 2001-01-15)
> > > the C function defineVar() is described as  "... the equivalent
> > > of assign(symbol, value, envir = rho, inherits = FALSE) ..."
> > >
> > > I interpreted the above (wrongly) as meaning that defineVar() makes
> > > a copy of its "value" argument into the object whose name is specified
> > > in "symbol" in the "rho" environment (that's how assign() works at the
> > > R/S level).  However, this is not exactly how defineVar() appears to work.
> > > In particular, it appears to assign the object in the environment "rho",
> > > but further changes in the C code to the object are reflected in the
> > > "assigned" object in rho (i.e., no actual copy of the object is made).
> > >
> > > I can see that the implemented behavior is quite useful, but it's not
> > > exactly equivalent to assign().  Perhaps the documentation should be more
> > > explicit and add a sentence to warn users that the data part of the
> > > object is shared? (The sentence may need to be more precise, though.)
> > 
> > I'm happy to do so, but can someone provide the more precise sentence,
> > please.  When exactly does R make a copy?
> 
> At C level, you'd need to duplicate(). In an assign() call,
> duplication takes place if the object is NAMED except if .Alias is
> used. ...I think.

As i understand it if the object is NAMED it is duplicated (.Alias I
think sete NAMED to 0 and to gets into the unnamed branch).  If NAMED
is zero, then defineVar is called and NAMED is set to 1.

We should probably think about making the public version of defineVar
take care of this, but maybe we should go a bit further and move the
responsability for maintaining the copying semantics into defineVar so
it is all in one place--there seem to be about 40 call sites and I'm
not sure they all get this right.

I'll make a note to look at this when I get back to the appropirate
part of the compiler, but if anyone else gets there first, that's
fine.

luke

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke@stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ligges@statistik.uni-dortmund.de  Wed Apr 25 16:24:44 2001
From: ligges@statistik.uni-dortmund.de (ligges@statistik.uni-dortmund.de)
Date: Wed, 25 Apr 2001 17:24:44 +0200 (MET DST)
Subject: [Rd] Re: identify.default ignores any setting of cex (PR#660)
Message-ID: <200104251524.RAA02124@pubhealth.ku.dk>

A follow-up to PR#660 (15 Sep 2000) from Brian Ripley:

> R 1.1.1 on Windows, but I think this is widespread.
>
> Using either
>
> par(cex=0.5)
> plot(1:10)
> identify(1:10)
>
> or
> 
> plot(1:10)
> identify(1:10, cex=0.5)
> 
> ignores the cex setting.  The root cause is that par(cex=0.5)
> alters cexbase for the device but sets cex=1.0, and the internal
> text plotting routines use cex and not cexbase.
> 
> The obvious fix is to set cex to cexbase in do_identify. However,
> if this is fixed, there is another problem, The offset of the label
> is related to the cex in use for the label, and not for the symbol.
> So
> 
> plot(1:10, type="n")
> points(1:10, cex=5)
> identify(1:10)
> 
> is not sensible in placing the labels.  That may be hard to anticipate,
> but 
> 
> plot(1:10)
> identify(1:10, cex=0.5)
> 
> needs to use cex=1 not cex=0.5 for the adjustment.  Perhaps identify is
> trying too hard, and should give the user more control over the precise
> position of the label (as S-PLUS does).


The same with 

 par(cex=1); plot(1:10); text(4, 5, "Hello World") # OK
 par(cex=2); plot(1:10); text(4, 5, "Hello World") # OK
 par(cex=2); plot(1:10); text(4, 5, "Hello World", cex = 1) # NOT OK
 par(cex=2); plot(1:10); text(4, 5, "Hello World", cex = 0.5)

So the scaling with cex in text() is relative to the par() settings,
which is not the expected behaviour.


[R-1.2.2 on WinNT 4.0]

Uwe Ligges

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Apr 25 18:55:47 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 25 Apr 2001 18:55:47 +0100 (GMT Daylight Time)
Subject: [Rd] Re: identify.default ignores any setting of cex (PR#660)
In-Reply-To: <200104251524.RAA02124@pubhealth.ku.dk>
Message-ID: <Pine.WNT.4.31.0104251852500.300-100000@tern.stats>

On Wed, 25 Apr 2001 ligges@statistik.uni-dortmund.de wrote:

> A follow-up to PR#660 (15 Sep 2000) from Brian Ripley:

[...]

> The same with
>
>  par(cex=1); plot(1:10); text(4, 5, "Hello World") # OK
>  par(cex=2); plot(1:10); text(4, 5, "Hello World") # OK
>  par(cex=2); plot(1:10); text(4, 5, "Hello World", cex = 1) # NOT OK
>  par(cex=2); plot(1:10); text(4, 5, "Hello World", cex = 0.5)
>
> So the scaling with cex in text() is relative to the par() settings,
> which is not the expected behaviour.

It is the documented behaviour, though: see the description of cex in
?help.

     cex: numeric character expansion factor; multiplied by
          `par("cex")' yields the final character size.

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Apr 26 00:01:52 2001
From: p.dalgaard@biostat.ku.dk (p.dalgaard@biostat.ku.dk)
Date: Thu, 26 Apr 2001 01:01:52 +0200 (MET DST)
Subject: [Rd] match.arg confusion (PR#921)
Message-ID: <200104252301.BAA04480@pubhealth.ku.dk>


[sys.function fails sometimes (sorry, our mail system decide to throw
away the original mail)]

Yes, I bumped into something similar recently. The problem is that we
only actually store the call in the context structure, not the
function, so sys.function has to grab the call, take the 1st element,
and reevaluate it in the parent frame. It is quite easy to think up
examples where a second evaluation does not give the same value as
the first. 

Your particular case is of a slightly different natur and should be
easily fixable by replacing findVar in R_sysfunction by findVar1 and
looking specifically for objects of mode "function", but the basic
problem persists. I don't think I want to risk fixing this (and maybe
unfixing something else) for 1.2.3 tomorrow though.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From andys@neptuneandco.com  Thu Apr 26 01:16:13 2001
From: andys@neptuneandco.com (Andrew Schuh)
Date: Wed, 25 Apr 2001 18:16:13 -0600
Subject: [Rd] P-4
Message-ID: <4.2.2.20010425181024.00b134e0@neptuneandco.com>

I just got a new machine with a Intel 1.3 P4 chip in it.  I am aware that 
many (most) software companies have not optimized their code specifically 
for the chip.  Furthermore, I have found that this machine is even slower, 
on many apps, than a 8xx P3 we have here.  I enjoy using R and was 
wondering if there are any plans to create a version that accommodates this 
chip.  

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pchalasani@hbk.com  Thu Apr 26 03:25:54 2001
From: pchalasani@hbk.com (pchalasani@hbk.com)
Date: Thu, 26 Apr 2001 04:25:54 +0200 (MET DST)
Subject: [Rd] not able to download WinNT version (PR#922)
Message-ID: <200104260225.EAA04894@pubhealth.ku.dk>

I keep clicking on the WindowsNT link and it keeps extending the path
name...
is something wrong?
thanks


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Apr 26 06:57:35 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 26 Apr 2001 06:57:35 +0100 (BST)
Subject: [Rd] P-4
In-Reply-To: <4.2.2.20010425181024.00b134e0@neptuneandco.com>
Message-ID: <Pine.GSO.4.31.0104260648020.9996-100000@auk.stats>

On Wed, 25 Apr 2001, Andrew Schuh wrote:

> I just got a new machine with a Intel 1.3 P4 chip in it.  I am aware that
> many (most) software companies have not optimized their code specifically
> for the chip.  Furthermore, I have found that this machine is even slower,
> on many apps, than a 8xx P3 we have here.  I enjoy using R and was
> wondering if there are any plans to create a version that accommodates this
> chip.

Under what OS?

AFAIK the only thing one can do is to find a compiler that optimizes for
the P4, but I don't know of one, nor if it actually helps.  As far as I am
aware under both Linux and Windows the binary versions of R are not
even optimized for an i686 (Pentium Pro/II/III), but I find that under
Windows (and VC++) using the optimizations for i686 makes only negligible
differences.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ligges@statistik.uni-dortmund.de  Thu Apr 26 07:16:41 2001
From: ligges@statistik.uni-dortmund.de (ligges@statistik.uni-dortmund.de)
Date: Thu, 26 Apr 2001 08:16:41 +0200 (MET DST)
Subject: [Rd] not able to download WinNT version (PR#922)
Message-ID: <200104260616.IAA05395@pubhealth.ku.dk>



pchalasani@hbk.com wrote:
> 
> I keep clicking on the WindowsNT link and it keeps extending the path
> name...
> is something wrong?
> thanks

This is NOT a bug.

If you have got a question for which you don't get an answer reading the
docs, please write to R-help.


Read the readme in that directory. It says:
** The directories windows-9x and windows-NT are recursive links and
only
** there for backwards-compatibility. Please go directly to base or
** contrib to download R for all versions of Windows.

Uwe Ligges

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Apr 26 06:59:58 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 26 Apr 2001 07:59:58 +0200 (MET DST)
Subject: [Rd] not able to download WinNT version (PR#922)
Message-ID: <200104260559.HAA05296@pubhealth.ku.dk>

On Thu, 26 Apr 2001 pchalasani@hbk.com wrote:

> I keep clic.king on the WindowsNT link and it keeps extending the path
> name...
> is something wrong?
> thanks

No.  The `WinNT version' is in the directory you keep clicking on the link
in.  The link is there for back-compatibility reasons.

Try reading the ReadMe!

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Thu Apr 26 13:37:33 2001
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Thu, 26 Apr 2001 08:37:33 -0400
Subject: [Rd] not able to download WinNT version (PR#922)
In-Reply-To: <200104260559.HAA05296@pubhealth.ku.dk>
References: <200104260559.HAA05296@pubhealth.ku.dk>
Message-ID: <m75getgni8bb3pvqcnjoqf9udp1nrfmeqj@4ax.com>

On Thu, 26 Apr 2001 07:59:58 +0200 (MET DST), you wrote:

>On Thu, 26 Apr 2001 pchalasani@hbk.com wrote:
>
>> I keep clic.king on the WindowsNT link and it keeps extending the path
>> name...
>> is something wrong?
>> thanks
>
>No.  The `WinNT version' is in the directory you keep c1icking on the link
>in.  The link is there for back-compatibility reasons.
>
>Try reading the ReadMe!

This comes up often enough that it's probably worth adding a notice
that can be seen without reading the ReadMe.  How about some text in
the "Description" column that is given on
<http://cran.r-project.org/bin/windows>, or a file named
"LinksDontWorkSeeReadme!!!"?

Duncan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Thu Apr 26 13:37:33 2001
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Thu, 26 Apr 2001 08:37:33 -0400
Subject: [Rd] not able to download WinNT version (PR#922)
In-Reply-To: <200104260559.HAA05296@pubhealth.ku.dk>
References: <200104260559.HAA05296@pubhealth.ku.dk>
Message-ID: <m75getgni8bb3pvqcnjoqf9udp1nrfmeqj@4ax.com>

On Thu, 26 Apr 2001 07:59:58 +0200 (MET DST), you wrote:

>On Thu, 26 Apr 2001 pchalasani@hbk.com wrote:
>
>> I keep clic.king on the WindowsNT link and it keeps extending the path
>> name...
>> is something wrong?
>> thanks
>
>No.  The `WinNT version' is in the directory you keep c1icking on the link
>in.  The link is there for back-compatibility reasons.
>
>Try reading the ReadMe!

This comes up often enough that it's probably worth adding a notice
that can be seen without reading the ReadMe.  How about some text in
the "Description" column that is given on
<http://cran.r-project.org/bin/windows>, or a file named
"LinksDontWorkSeeReadme!!!"?

Duncan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From wang@rjka.com  Thu Apr 26 18:57:01 2001
From: wang@rjka.com (wang@rjka.com)
Date: Thu, 26 Apr 2001 19:57:01 +0200 (MET DST)
Subject: [Rd] bug when compiling using --with-f2c option (PR#923)
Message-ID: <200104261757.TAA17892@pubhealth.ku.dk>

Full_Name: Huayin Wang
Version: 1.2.2
OS: solaris
Submission from: (NULL) (38.158.182.2)


when configure using --with-f2c option, the f2c library should be linked.  It
maybe
just adding a -lf2c somewhere, but I do not know enough about it to fix it.  As
it is
now, errors will be generated complaining some symbols such as "i_len" etc. not
found.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From wang@rjka.com  Thu Apr 26 18:58:18 2001
From: wang@rjka.com (wang@rjka.com)
Date: Thu, 26 Apr 2001 19:58:18 +0200 (MET DST)
Subject: [Rd] bug when compiling using --with-f2c option (PR#924)
Message-ID: <200104261758.TAA17917@pubhealth.ku.dk>

Full_Name: Huayin Wang
Version: 1.2.2
OS: solaris
Submission from: (NULL) (38.158.182.2)


when configure using --with-f2c option, the f2c library should be linked.  It
maybe
just adding a -lf2c somewhere, but I do not know enough about it to fix it.  As
it is
now, errors will be generated complaining some symbols such as "i_len" etc. not
found.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Fri Apr 27 06:59:03 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Fri, 27 Apr 2001 07:59:03 +0200
Subject: [Rd] bug when compiling using --with-f2c option (PR#923)
In-Reply-To: <200104261757.TAA17892@pubhealth.ku.dk>
References: <200104261757.TAA17892@pubhealth.ku.dk>
Message-ID: <15081.2727.221988.723146@mithrandir.hornik.net>

>>>>> wang  writes:

> Full_Name: Huayin Wang
> Version: 1.2.2
> OS: solaris
> Submission from: (NULL) (38.158.182.2)


> when configure using --with-f2c option, the f2c library should be
> linked.  It maybe just adding a -lf2c somewhere, but I do not know
> enough about it to fix it.  As it is now, errors will be generated
> complaining some symbols such as "i_len" etc. not found.

How do you think we can solve your problem based on the information you
gave?

In case of --with-f2c, configure tests for -lf2c or -lF77/-lI77, and
stops if neither is found.  Have a look at config.log to see what
happened in your case.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Fri Apr 27 16:54:15 2001
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Fri, 27 Apr 2001 17:54:15 +0200
Subject: [Rd] RE: [R] Benchmarking R, why sort() is so slow?
In-Reply-To: <Pine.A41.4.33.0104270814010.36572-100000@homer40.u.washington.edu>
References: <MABBLJDICACNFOLGIHJOIECDCDAA.phgrosje@ulb.ac.be>
 <Pine.A41.4.33.0104270814010.36572-100000@homer40.u.washington.edu>
Message-ID: <15081.38439.622847.16842@gargle.gargle.HOWL>

>>>>> "TL" == Thomas Lumley <tlumley@u.washington.edu> writes:

    TL> On Fri, 27 Apr 2001, Philippe Grosjean wrote:
    >> I suspect it should be a question of algorithm choice. May be sort() is
    >> important enough, including for large datasets, to place some improvement in
    >> the "to do" list for a further version...?
    >> 

    TL> Actually, I'm not convinced on the speed issue. Shellsort works
    TL> very well for vectors of lengths that R can reasonably
    TL> handle. Using a million record dataset in R you really can't get
    TL> much done in the 20seconds that a really good sorting routine might
    TL> save you.

    TL> Heapsort might be worth trying -- it has good worst-case behaviour
    TL> and is about half as fast as the typical case of quicksort.  Merge
    TL> sort might also be nice because it's stable: it leaves ties in the
    TL> order it found them, but it needs extra space. Still, I don't think
    TL> it's a high optimisation priority.

I tend to disagree.
For me, R is not just for data analysis.
It's my compute engine for almost everything, nowadays.
I definitely have wanted to add better sort() routines to R,
and I think R's default should be to use some  O(n log(n)) versions, at
least for larghish n.
20 years ago (or so), ``the'' good thing 
 {{for in-memory sorting; note that we might consider a different algorithm 
   for the case of a really large array where [i] is really disk access}}
was Singleton's Quickersort
  |  R.C. Singleton 'Revised Quickersort'
  |  (CACM Algorithm 347, Sept.1968)

(quicker than quicksort), a version of which (that does additionally return
 the sorted index) I had re-programmed in Pascal and then C.
I can put it up for ftp if there's interest.

The GSL (GNU scientific library) has sorting routines, too,
all of them heapsort.

>From an outdated manual,
     http://sources.redhat.com/gsl/ref/gsl-ref_17.html#SEC253

>> Sorting

>> This chapter describes functions for sorting data, both directly and
>> indirectly (using an index). All the functions use the heapsort
>> algorithm. Heapsort is an O(N \log N) algorithm which operates
>> in-place. It does not require any additional storage and provides
>> consistent performance. The running time for its worst-case (ordered
>> data) which is not significantly different from the average and best
>> cases. Note that the heapsort algorithm does not preserve the relative
>> ordering of equal elements -- it is an unstable sort. However the
>> resulting order of equal elements will be consistent across different
>> platforms when using these functions.

>> Sorting objects
>> 
>> The following function provides a simple alternative to the standard
>> library function qsort. It is intended for systems lacking qsort, not as
>> a replacement for it. The function qsort should be used whenever
>> possible, as it will be faster and can provide stable ordering of equal
>> elements. Documentation for qsort is available in the GNU C Library
>> Reference Manual.

I.e., they seem to say one should really use  qsort() whenever that is
available... hmm,
could we use  configure  to find if qsort() is available?

Martin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ihaka@stat.auckland.ac.nz  Fri Apr 27 23:19:58 2001
From: ihaka@stat.auckland.ac.nz (Ross Ihaka)
Date: Sat, 28 Apr 2001 10:19:58 +1200
Subject: [Rd] RE: [R] Benchmarking R, why sort() is so slow?
References: <MABBLJDICACNFOLGIHJOIECDCDAA.phgrosje@ulb.ac.be>
 <Pine.A41.4.33.0104270814010.36572-100000@homer40.u.washington.edu> <15081.38439.622847.16842@gargle.gargle.HOWL>
Message-ID: <3AE9F08E.2299A92A@stat.auckland.ac.nz>

You may be overlooking a major reason for the slowness of the
R sorting --- the fact that the element comparisons are not inlined.
Comparisons dominate the cost of the sort, so any speedup of them
will make sorting faster.

It might be worth looking at replacing the present comparison
function definitions with macros to see what sort of speedup
you get.  It might also be useful to try to take advantage of
IEEE arithmetic behaviour, or perhaps do a pre-sweep of the
data to first place the NAs and Infs in their correct positions
at the start or the end, and so simplify the comparison code.
This might prove a bigger win than a switch of algorithm.

If you do plan on switching to Quicksort, you may want to read up
on tuning the algorithm.  One of John Bentley's "Programming Pearls"
chapters is on tuning Quicksort.  He does some simple things which
produce a sort 4 times faster than the "system sort".  I think
there is also some work by Bentley and Rick Becker on problems in
the Unix qsort implementation.

The choice to use Shellsort for R was based on advice in Segedin's
"Algorithms" book.  He says:

  "If one is not willing to invest the effort to be sure
  that a Quicksort implementation is not flawed, Shellsort
  is a much safer choice and will perform adequately for
  significantly less implementation effort."

Being the lazy sod that I am, I took this advice to heart.

-- 
Ross Ihaka                         Email:  ihaka@stat.auckland.ac.nz
Department of Statistics           Phone:  (64-9) 373-7599 x 5054
University of Auckland             Fax:    (64-9) 373-7018
Private Bag 92019, Auckland
New Zealand
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sat Apr 28 01:27:29 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 28 Apr 2001 02:27:29 +0200
Subject: [Rd] RE: [R] Benchmarking R, why sort() is so slow?
In-Reply-To: Ross Ihaka's message of "Sat, 28 Apr 2001 10:19:58 +1200"
References: <MABBLJDICACNFOLGIHJOIECDCDAA.phgrosje@ulb.ac.be> <Pine.A41.4.33.0104270814010.36572-100000@homer40.u.washington.edu> <15081.38439.622847.16842@gargle.gargle.HOWL> <3AE9F08E.2299A92A@stat.auckland.ac.nz>
Message-ID: <x2lmol7tse.fsf@blueberry.kubism.ku.dk>

Ross Ihaka <ihaka@stat.auckland.ac.nz> writes:

> You may be overlooking a major reason for the slowness of the
> R sorting --- the fact that the element comparisons are not inlined.
> Comparisons dominate the cost of the sort, so any speedup of them
> will make sorting faster.

Hmm. I'd suspect that declaring them static would make gcc grab any
chance of inlining..

> It might be worth looking at replacing the present comparison
> function definitions with macros to see what sort of speedup
> you get.  It might also be useful to try to take advantage of
> IEEE arithmetic behaviour, or perhaps do a pre-sweep of the
> data to first place the NAs and Infs in their correct positions
> at the start or the end, and so simplify the comparison code.
> This might prove a bigger win than a switch of algorithm.

This sounds like it would be worth trying.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From znmeb@aracnet.com  Sat Apr 28 20:13:45 2001
From: znmeb@aracnet.com (znmeb@aracnet.com)
Date: Sat, 28 Apr 2001 21:13:45 +0200 (MET DST)
Subject: [Rd] modulus operator gets syntax error (PR#925)
Message-ID: <200104281913.VAA05616@pubhealth.ku.dk>

Full_Name: M. Edward Borasky
Version: 1.2.2
OS: both Windows 2000 and Red Hat Linux 7.1
Submission from: (NULL) (208.130.245.188)


According to the R language manual, "%" is the modulus operator. However, on
both Windows and Linux, I get a syntax error when I type

records <- 100000
records % 1000

I tried wrapping the operands with "as.integer ()" but that didn't help either.
This is version 1.2.2 of R; I haven't had a chance to try it with R-1.2.3 yet,
but it does fail for me on both Windows 2000 and Red Hat Linux 7.1.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From paradis@isem.univ-montp2.fr  Sat Apr 28 20:57:33 2001
From: paradis@isem.univ-montp2.fr (Emmanuel Paradis)
Date: Sat, 28 Apr 2001 21:57:33 +0200
Subject: [Rd] modulus operator gets syntax error (PR#925)
Message-ID: <3.0.32.20010428215732.008f3870@162.38.183.200>

At 21:13 28/04/01 +0200, you wrote:
>Full_Name: M. Edward Borasky
>Version: 1.2.2
>OS: both Windows 2000 and Red Hat Linux 7.1
>Submission from: (NULL) (208.130.245.188)
>
>
>According to the R language manual, "%" is the modulus operator. However, on
>both Windows and Linux, I get a syntax error when I type
>
>records <- 100000
>records % 1000
>
>I tried wrapping the operands with "as.integer ()" but that didn't help
either.
>This is version 1.2.2 of R; I haven't had a chance to try it with R-1.2.3
yet,
>but it does fail for me on both Windows 2000 and Red Hat Linux 7.1.
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>
>

The bug is in the manual (already mentioned by Duncan Murdoch, if I
remember), not in R. The operator you are looking for is %%

See:

help("%%")




Emmanuel Paradis
Laboratoire de Palontologie
Institut des Sciences de l'volution
Universit Montpellier II
F-34095 Montpellier cdex 05
France
   phone: +33  4 67 14 39 64
     fax: +33  4 67 14 36 10
  mailto:paradis@isem.univ-montp2.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bellis@hsph.harvard.edu  Sun Apr 29 19:45:17 2001
From: bellis@hsph.harvard.edu (bellis@hsph.harvard.edu)
Date: Sun, 29 Apr 2001 20:45:17 +0200 (MET DST)
Subject: [Rd] Rgui crash (PR#926)
Message-ID: <200104291845.UAA09122@pubhealth.ku.dk>

Full_Name: Byron Ellis
Version: 1.2.3
OS: Windows 2000 Server
Submission from: (NULL) (140.247.105.95)


In Rgui when attempting to resize the console the system locks for a second
(cursor locks up, etc) and then either returns to normal for a second before
crashing or just crashes when we start moving again (the former happens more
often when making things bigger, the latter when the console is shrunk). The
error message reports an attempt to read 0x000000 so I'm guessing the problem is
somewhere in the Rgui console's memory management code.

I can duplicate this on both my home and lab desktop machines as well as my
laptop. All are running Win2K Server (I take that back--- my lab machine is
running Pro. edition) and all are reasonably updated.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Apr 29 21:24:59 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 29 Apr 2001 22:24:59 +0200 (MET DST)
Subject: [Rd] Rgui crash (PR#926)
Message-ID: <200104292024.WAA09334@pubhealth.ku.dk>

On Sun, 29 Apr 2001 bellis@hsph.harvard.edu wrote:

> Full_Name: Byron Ellis
> Version: 1.2.3
> OS: Windows 2000 Server
> Submission from: (NULL) (140.247.105.95)
>
>
> In Rgui when attempting to resize the console the system locks for a second
> (cursor locks up, etc) and then either returns to normal for a second before
> crashing or just crashes when we start moving again (the former happens more
> often when making things bigger, the latter when the console is shrunk). The
> error message reports an attempt to read 0x000000 so I'm guessing the problem is
> somewhere in the Rgui console's memory management code.
>
> I can duplicate this on both my home and lab desktop machines as well as my
> laptop. All are running Win2K Server (I take that back--- my lab machine is
> running Pro. edition) and all are reasonably updated.

Is this in SDI or MDI mode, and if the latter, are you resizing the
commands window or the frame?  It's not clear to me why you would want to
be resizing anyway: the sizes of the console and pager windows are set in
file Rconsole.

None of those possibilities cause problems on my systems (NT4 / W2k
Professional).

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bellis@hsph.harvard.edu  Sun Apr 29 21:43:13 2001
From: bellis@hsph.harvard.edu (bellis@hsph.harvard.edu)
Date: Sun, 29 Apr 2001 22:43:13 +0200 (MET DST)
Subject: [Rd] Rgui crash (PR#926)
Message-ID: <200104292043.WAA09393@pubhealth.ku.dk>

MDI mode. I was resizing the console child window. As for why I was
resizing--- why not? It seems like a reasonable thing to do if I want a
larger console, no? On the other hand, if the console is not actually
resizable (or you do not want it to be dynamically resizable) then the
window shouldn't be resizable.

As for it working on your systems and not mine, I don't know why that
would be though it is not limited to a single one of my systems. I'm
willing to accept some sort of interference from a piece of software I
have universally installed (SecureCRT for instance), but I'm not sure what
would cause this sort of behavior. 

Byron Ellis (bellis@hsph.harvard.edu)

On Sun, 29 Apr 2001, Prof Brian Ripley wrote:

> On Sun, 29 Apr 2001 bellis@hsph.harvard.edu wrote:
> 
> > Full_Name: Byron Ellis
> > Version: 1.2.3
> > OS: Windows 2000 Server
> > Submission from: (NULL) (140.247.105.95)
> >
> >
> > In Rgui when attempting to resize the console the system locks for a second
> > (cursor locks up, etc) and then either returns to normal for a second before
> > crashing or just crashes when we start moving again (the former happens more
> > often when making things bigger, the latter when the console is shrunk). The
> > error message reports an attempt to read 0x000000 so I'm guessing the problem is
> > somewhere in the Rgui console's memory management code.
> >
> > I can duplicate this on both my home and lab desktop machines as well as my
> > laptop. All are running Win2K Server (I take that back--- my lab machine is
> > running Pro. edition) and all are reasonably updated.
> 
> Is this in SDI or MDI mode, and if the latter, are you resizing the
> commands window or the frame?  It's not clear to me why you would want to
> be resizing anyway: the sizes of the console and pager windows are set in
> file Rconsole.
> 
> None of those possibilities cause problems on my systems (NT4 / W2k
> Professional).
> 
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From znmeb@aracnet.com  Mon Apr 30 06:14:51 2001
From: znmeb@aracnet.com (znmeb@aracnet.com)
Date: Mon, 30 Apr 2001 07:14:51 +0200 (MET DST)
Subject: [Rd] Rgui 1.2.3 for Windows crashes reading huge CSV file (PR#927)
Message-ID: <200104300514.HAA10298@pubhealth.ku.dk>

Full_Name: M. Edward Borasky
Version: 1.2.3 (2001-04-26)
OS: Windows 2000
Submission from: (NULL) (206.98.121.224)


I have a Celeron with 192 MB of RAM. My paging file is 288 MB, which is the
Windows recommended size. Here's the starting screen:
--------------------------------------------------------------------------------
R : Copyright 2001, The R Development Core Team
Version 1.2.3  (2001-04-26)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type `license()' or `licence()' for distribution details.

R is a collaborative project with many contributors.
Type `contributors()' for more information.

Type `demo()' for some demos, `help()' for on-line help, or
`help.start()' for a HTML browser interface to help.
Type `q()' to quit R.

[Previously saved workspace restored]

> memory.size()
[1] 8504720
> memory.limit()
[1] 200720384
> ls()
character(0)
---------------------------------------------------------------------------------
Now I try to read a huge (60 megabytes, 688,500 rows by 10 columns) CSV file
with "read.csv". Rgui grinds on it for some time before finally crashing. The
error message is:

The exception unknown software exception (0xc00000fd) occurred in the
application at location 0x02672dcf.

I watched this in the Task Manager and it peaked around 160 MB.

Here's the first few lines of the input file (stock price data for all NYSE
stocks for the past year) if you want to try this with some fake data -- just
add 688,499 more rows of this stuff :-)

Symbol,Date,Cvf,IsStock,Open,High,Low,Close,Volume,OpenInt
"WLP",20000428,2,1,75.25,75.25,72.5,73.75,4151,0
"WLP",20000501,2,1,74,74.5,72.120002746582,72.4300003051758,2229,0
"WLP",20000502,2,1,72.370002746582,72.370002746582,71,71.870002746582,3629,0

I haven't tried this with the Linux version yet to see if it handles the
situation a little more gracefully. I'll do that sometime and attach the results
to this bug report. This isn't a major problem for me; it's easy for me to break
the file up into individual stocks, or substitute weekly data for the daily
data, which will reduce the file to 12 megabytes or so.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Apr 30 06:36:21 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 30 Apr 2001 07:36:21 +0200 (MET DST)
Subject: [Rd] Rgui crash (PR#926)
Message-ID: <200104300536.HAA10534@pubhealth.ku.dk>

On Sun, 29 Apr 2001, Byron Ellis wrote:

> MDI mode. I was resizing the console child window. As for why I was
> resizing--- why not? It seems like a reasonable thing to do if I want a
> larger console, no? On the other hand, if the console is not actually
> resizable (or you do not want it to be dynamically resizable) then the
> window shouldn't be resizable.

It is resizable: but it is also specifiable in Rconsole in a more
precise way.

> As for it working on your systems and not mine, I don't know why that
> would be though it is not limited to a single one of my systems. I'm
> willing to accept some sort of interference from a piece of software I
> have universally installed (SecureCRT for instance), but I'm not sure what
> would cause this sort of behavior.

Can you please find out then?  Build a debug version and use gdb to
find out what the problem is.  This would not be by any means the first
time that an addon to Windows has caused Rgui to crash.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bellis@hsph.harvard.edu  Mon Apr 30 06:59:12 2001
From: bellis@hsph.harvard.edu (bellis@hsph.harvard.edu)
Date: Mon, 30 Apr 2001 07:59:12 +0200 (MET DST)
Subject: [Rd] Rgui crash (PR#926)
Message-ID: <200104300559.HAA10673@pubhealth.ku.dk>

On Mon, 30 Apr 2001, Prof Brian D Ripley wrote:

> On Sun, 29 Apr 2001, Byron Ellis wrote:
> 
> > MDI mode. I was resizing the console child window. As for why I was
> > resizing--- why not? It seems like a reasonable thing to do if I want a
> > larger console, no? On the other hand, if the console is not actually
> > resizable (or you do not want it to be dynamically resizable) then the
> > window shouldn't be resizable.
> 
> It is resizable: but it is also specifiable in Rconsole in a more
> precise way.
> 
> > As for it working on your systems and not mine, I don't know why that
> > would be though it is not limited to a single one of my systems. I'm
> > willing to accept some sort of interference from a piece of software I
> > have universally installed (SecureCRT for instance), but I'm not sure what
> > would cause this sort of behavior.
> 
> Can you please find out then?  Build a debug version and use gdb to
> find out what the problem is.  This would not be by any means the first
> time that an addon to Windows has caused Rgui to crash.

I'll give it a shot-- I really should have a debug version of R around
anyway. :-)

Also, of note: It happens at 0x026664ca (as if that helps :-)) and using
the min/max buttons does not cause the crash. Maybe the bitmap code has
some race condition that gets hit at some point? Anyway, classes
permitting, I'll look more closely this week.



Byron Ellis (bellis@hsph.harvard.edu)




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From znmeb@aracnet.com  Mon Apr 30 14:32:59 2001
From: znmeb@aracnet.com (znmeb@aracnet.com)
Date: Mon, 30 Apr 2001 15:32:59 +0200 (MET DST)
Subject: [Rd] PR #927 -- R crash on huge CSV file (PR#928)
Message-ID: <200104301332.PAA20168@pubhealth.ku.dk>

I tried to run the same dataset with R-1.2.3 on Linux, compiled from the
source tarball. After 7 hours, it was still grinding away and had not
crashed. I had to kill it. "gtop" was showing it with a real size around 160
MB, same as the peak on the Windows 2000 environment. This is on the same
hardware as the Windows run; my machine is dual-booted Windows 2000 and Red
Hat Linux 7.1. If I get ambitious, I'll see if I can make it fail with a
smaller dataset and run on Linux with a debug-compiled R binary.
--
M. Edward (Ed) Borasky, Chief Scientist, Borasky Research
http://www.borasky-research.net  http://www.aracnet.com/~znmeb
mailto:znmeb@borasky-research.com  mailto:znmeb@aracnet.com

If there's nothing to astrology, how come so many famous men were born on
holidays?


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.C.Rougier@durham.ac.uk  Mon Apr 30 14:34:06 2001
From: J.C.Rougier@durham.ac.uk (J.C.Rougier@durham.ac.uk)
Date: Mon, 30 Apr 2001 15:34:06 +0200 (MET DST)
Subject: [Rd] Segmentation fault linked to memory? (PR#929)
Message-ID: <200104301334.PAA20209@pubhealth.ku.dk>

Hi Everyone,

The following rather extreme claim on memory causes a
segmentation fault on my installation:

fred <- matrix(1:1200, 20, 60)

littleOP <- function(x, y)
{
  z <- as.vector(x) %*% t(as.vector(y))
  dim(z) <- c(dim(x), dim(y))
  z
}

littleOP(fred, fred)                 # this is OK
littleOP(littleOP(fred, fred), fred) # whoops! Segmentation fault

What's a bit strange is that if I do the outer product the
`old-fashioned' way then I get the more usual error message:

> (fred %o% fred) %o% fred
Error: cannot allocate vector of size 2555696 Kb

Cheers, Jonathan.

--please do not edit the information below--

Version:
 platform = sparc-sun-solaris2.7
 arch = sparc
 os = solaris2.7
 system = sparc, solaris2.7
 status = 
 major = 1
 minor = 2.1
 year = 2001
 month = 01
 day = 15
 language = R

Search Path:
 .GlobalEnv, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Apr 30 15:22:10 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 30 Apr 2001 16:22:10 +0200
Subject: [Rd] PR #927 -- R crash on huge CSV file (PR#927)
In-Reply-To: znmeb@aracnet.com's message of "Mon, 30 Apr 2001 15:32:59 +0200 (MET DST)"
References: <200104301332.PAA20168@pubhealth.ku.dk>
Message-ID: <x24rv6cvsd.fsf@blueberry.kubism.ku.dk>

This came in as a new report because of the space between PR and #

Resending it to get it filed correctly.

(BTW: a growth factor of 3-4 is not unexpectable on CSV files since
internal storage of numeric values is in 8-byte doubles.)

	-p

znmeb@aracnet.com writes:

> I tried to run the same dataset with R-1.2.3 on Linux, compiled from the
> source tarball. After 7 hours, it was still grinding away and had not
> crashed. I had to kill it. "gtop" was showing it with a real size around 160
> MB, same as the peak on the Windows 2000 environment. This is on the same
> hardware as the Windows run; my machine is dual-booted Windows 2000 and Red
> Hat Linux 7.1. If I get ambitious, I'll see if I can make it fail with a
> smaller dataset and run on Linux with a debug-compiled R binary.


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Apr 30 15:57:24 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 30 Apr 2001 16:57:24 +0200
Subject: [Rd] Segmentation fault linked to memory? (PR#929)
In-Reply-To: J.C.Rougier@durham.ac.uk's message of "Mon, 30 Apr 2001 15:34:06 +0200 (MET DST)"
References: <200104301334.PAA20209@pubhealth.ku.dk>
Message-ID: <x21yqacu5n.fsf@blueberry.kubism.ku.dk>

J.C.Rougier@durham.ac.uk writes:

> Hi Everyone,
> 
> The following rather extreme claim on memory causes a
> segmentation fault on my installation:
> 
> fred <- matrix(1:1200, 20, 60)
> 
> littleOP <- function(x, y)
> {
>   z <- as.vector(x) %*% t(as.vector(y))
>   dim(z) <- c(dim(x), dim(y))
>   z
> }
> 
> littleOP(fred, fred)                 # this is OK
> littleOP(littleOP(fred, fred), fred) # whoops! Segmentation fault
> 
> What's a bit strange is that if I do the outer product the
> `old-fashioned' way then I get the more usual error message:
> 
> > (fred %o% fred) %o% fred
> Error: cannot allocate vector of size 2555696 Kb
> 
> Cheers, Jonathan.
> 
> --please do not edit the information below--
> 
> Version:
>  platform = sparc-sun-solaris2.7
>  arch = sparc
>  os = solaris2.7
>  system = sparc, solaris2.7
>  status = 
>  major = 1
>  minor = 2.1
>  year = 2001
>  month = 01
>  day = 15
>  language = R
> 
> Search Path:
>  .GlobalEnv, Autoloads, package:base

You really ought to upgrade before reporting such bugs, but I get it
with 1.2.3 as well. Looks like we have an integer overrun issue:

At the point of the crash, we have succesfully allocated "ans" 

(gdb) p ans
$25 = (SEXPREC *) 0x1fe8038
(gdb) p Rf_length(ans)
$26 = 1728000000
(gdb) p/x Rf_length(ans)
$27 = 0x66ff3000

however, measured in *bytes*, that length won't fit in 32 bits, and

(gdb) p/x (Rf_length(ans)*8)/8
$31 = 0x6ff3000

So I suppose that the true length of ans is only

0x6ff3000

which fits fairly nicely with the segfault occurring when you try to
access cell number 82*1440000

(gdb) p/x 82*1440000
$28 = 0x709c200


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rmh@surfer.sbm.temple.edu  Mon Apr 30 22:55:45 2001
From: rmh@surfer.sbm.temple.edu (Rich Heiberger)
Date: Mon, 30 Apr 2001 17:55:45 -0400 (EDT)
Subject: [Rd] several bugs (PR#918) lists and matrices
Message-ID: <200104302155.f3ULtj41879558@surfer.sbm.temple.edu>

[Rd] several bugs (PR#918) lists and matrices

Thank you Thomas for suggesting I review the proceedings paper on data
by Rob.  I liked that paper when I heard it and was happy to reread
it.  I agree with everything he said there.  After reading it I went
back to the Blue Book and have several comments.


Thomas said
                                You can't put a list into a matrix.
  Matrices handle homogenous data; they are vectors with a dimension
  attribute.  Lists with an arbitrary dimension attribute are, as Rob
  pointed out, an unimplemented bug. However, rectangle things with
  arbitrary data in them do exist. They're called data frames.

Thomas's statement is a clear change in perspective from the original
Blud Book interpretation.  The blue book position and my starting
position is that "All objects are vectors."  Objects can be atomic or
recursive, and it is very clear in the text that subscripting is
applied to all vectors, no matter the complexity.  The description of
dim(x) on page 438 is very clear: x is any object.  The descriptions
of array() (page 382) and matrix() (page 504) are equally clear: "the
array class of objects are those that have an attribute dim, ...."

John's recent file
  http://www.omegahat.org/SLanguage/Aspects.html
repeats this generality with
  The original history of S (if you're interested see the note) led to
  a vector-oriented approach to all objects; that is, all objects were
  vectors (one-way arrays). Lists and other recursive objects were
  special only in that the elements of the vector were themselves
  objects.


It is less clear in the R help, but still indicated in the phrase
"Retrieve or set the dimension of an OBJECT." in the description of
dim().  The R help for array() and matrix() both say "data: a vector
giving data to fill the array" and the help for vector() clearly
permits vectors of mode list.  Nowhere do I see a claim that matrices
or arrays must contain only homogeneous atomic objects.

R currently (rw1021) believes a dimensioned list is a matrix (but not
a vector).
  > x <- list(1,2,3,4,5,6,7,8,9,10)
  > is.vector(x)
  [1] TRUE
  > dim(x) <- c(2,5)
  > x
       [,1]        [,2]        [,3]        [,4]        [,5]       
  [1,] "Numeric,1" "Numeric,1" "Numeric,1" "Numeric,1" "Numeric,1"
  [2,] "Numeric,1" "Numeric,1" "Numeric,1" "Numeric,1" "Numeric,1"
  > is.matrix(x)
  [1] TRUE
  > is.vector(x)
  [1] FALSE


A data frame is essentially a list of arbitrarily structured column
vectors.  The recognition that Rob has in this paper is that the
individual columns can themselves contain arbitrarily structured data.
He is doing marvelous things with those data frame columns.
Everything he does will work on dimensioned lists and will avoid the
the two serious difficulties with data frames that he notes.

a. The whole issue of character strings becoming factors and the
non-nonintuitive I() and AsIs is a consequence of using data frames.
This issue vanishes when dimensioned lists are used directly.

b. Parameterized data frames can be replaced by a new data structure
in which a "parameter" attribute holds the relevant information.


My attempt to construct a "missing.value" class would work with a
data frame structure.	I don't think it is the best structure.

In summary, I am arguing for permitting
   a <- matrix(list(1,2,3,4,5,6), 2, 3)
along with the currently acceptable
   a <- list(1,2,3,4,5,6)
   dim(a) <- c(2, 3)
and for making the subscripting
   a[,1:2]
provide the correct answer
     [,1] [,2] 
[1,] 1    3   
[2,] 2    4   
rather than the current incorrect answer
     [,1]   [,2]  
[1,] "NULL" "NULL"
[2,] "NULL" "NULL"
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Mon Apr 30 23:35:42 2001
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Mon, 30 Apr 2001 15:35:42 -0700 (PDT)
Subject: [Rd] several bugs (PR#918) lists and matrices
In-Reply-To: <200104302155.f3ULtj41879558@surfer.sbm.temple.edu>
Message-ID: <Pine.A41.4.33.0104301534030.85214-100000@homer11.u.washington.edu>

On Mon, 30 Apr 2001, Rich Heiberger wrote:

> [Rd] several bugs (PR#918) lists and matrices
>
> Thank you Thomas for suggesting I review the proceedings paper on data
> by Rob.  I liked that paper when I heard it and was happy to reread
> it.  I agree with everything he said there.  After reading it I went
> back to the Blue Book and have several comments.

>
> In summary, I am arguing for permitting
>    a <- matrix(list(1,2,3,4,5,6), 2, 3)
> along with the currently acceptable
>    a <- list(1,2,3,4,5,6)
>    dim(a) <- c(2, 3)
> and for making the subscripting
>    a[,1:2]
> provide the correct answer
>      [,1] [,2]
> [1,] 1    3
> [2,] 2    4
> rather than the current incorrect answer
>      [,1]   [,2]
> [1,] "NULL" "NULL"
> [2,] "NULL" "NULL"

Yes, it probably should work.

I still prefer data frames, but I was clearly wrong about dimensioned
lists.

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

