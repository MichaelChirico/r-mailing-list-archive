From viele@ms.uky.edu  Sun Dec  2 00:27:55 2001
From: viele@ms.uky.edu (viele@ms.uky.edu)
Date: Sun, 2 Dec 2001 01:27:55 +0100 (MET)
Subject: [Rd] bug in rbinom? (PR#1190)
Message-ID: <200112020027.BAA29162@pubhealth.ku.dk>

Full_Name: Kert Viele
Version: 1.3
OS: Windows ME and 2000
Submission from: (NULL) (65.6.218.65)



Hello! Thanks for all your efforts on R. They are appreciated!

I was simulating the central limit theorem in class,
but found that repeated use of

mean(rbinom(100000,500,0.4))

resulted in values less than 200 (the expected mean), for example

> mean(rbinom(100000,500,0.4))
[1] 199.0294
> mean(rbinom(100000,500,0.4))
[1] 199.1077
> mean(rbinom(100000,500,0.4))
[1] 199.0668
and so on.

I did this 1000 times and found the results to be distributed
approximately N(199.0787,s=0.036). The standard deviation
is pretty accurate, but the mean is significantly off from 200.

Thanks for any help! (including telling me my mistakes!)
- Kert Viele
Assistant Professor of Statistics
University of Kentucky



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sun Dec  2 00:55:16 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 Dec 2001 01:55:16 +0100
Subject: [Rd] bug in rbinom? (PR#1190)
In-Reply-To: <200112020027.BAA29162@pubhealth.ku.dk>
References: <200112020027.BAA29162@pubhealth.ku.dk>
Message-ID: <x2vgfqwidn.fsf@blueberry.kubism.ku.dk>

viele@ms.uky.edu writes:

> I was simulating the central limit theorem in class,
> but found that repeated use of
> 
> mean(rbinom(100000,500,0.4))
> 
> resulted in values less than 200 (the expected mean), for example
> 
> > mean(rbinom(100000,500,0.4))
> [1] 199.0294
> > mean(rbinom(100000,500,0.4))
> [1] 199.1077
> > mean(rbinom(100000,500,0.4))
> [1] 199.0668
> and so on.
> 
> I did this 1000 times and found the results to be distributed
> approximately N(199.0787,s=0.036). The standard deviation
> is pretty accurate, but the mean is significantly off from 200.

I see the same thing on Linux. Looks like it needs checking against
the original CACM algorithm.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sun Dec  2 17:38:06 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 Dec 2001 18:38:06 +0100
Subject: [Rd] bug in rbinom? (PR#1190)
In-Reply-To: <x2vgfqwidn.fsf@blueberry.kubism.ku.dk>
References: <200112020027.BAA29162@pubhealth.ku.dk>
 <x2vgfqwidn.fsf@blueberry.kubism.ku.dk>
Message-ID: <x2snat5xq9.fsf@blueberry.kubism.ku.dk>

Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:

> viele@ms.uky.edu writes:
> 
> > I was simulating the central limit theorem in class,
> > but found that repeated use of
> > 
> > mean(rbinom(100000,500,0.4))
> > 
> > resulted in values less than 200 (the expected mean), for example
> > 
> > > mean(rbinom(100000,500,0.4))
> > [1] 199.0294
> > > mean(rbinom(100000,500,0.4))
> > [1] 199.1077
> > > mean(rbinom(100000,500,0.4))
> > [1] 199.0668
> > and so on.
> > 
> > I did this 1000 times and found the results to be distributed
> > approximately N(199.0787,s=0.036). The standard deviation
> > is pretty accurate, but the mean is significantly off from 200.
> 
> I see the same thing on Linux. Looks like it needs checking against
> the original CACM algorithm.

This seems not to be present in the original Fortran (once I got it to
compile properly -- it requires -fno-automatic) so there has to be a
transcription error somewhere. I'll be darned if I can find it, though. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sun Dec  2 18:04:45 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 Dec 2001 19:04:45 +0100
Subject: [Rd] bug in rbinom? (PR#1190)
In-Reply-To: <x2snat5xq9.fsf@blueberry.kubism.ku.dk>
References: <200112020027.BAA29162@pubhealth.ku.dk>
 <x2vgfqwidn.fsf@blueberry.kubism.ku.dk>
 <x2snat5xq9.fsf@blueberry.kubism.ku.dk>
Message-ID: <x2vgfppkg2.fsf@blueberry.kubism.ku.dk>

Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:

> Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:
> 
> > viele@ms.uky.edu writes:
> > 
> > > I was simulating the central limit theorem in class,
> > > but found that repeated use of
> > > 
> > > mean(rbinom(100000,500,0.4))
> > > 
> > > resulted in values less than 200 (the expected mean), for example
> > > 
> > > > mean(rbinom(100000,500,0.4))
> > > [1] 199.0294
> > > > mean(rbinom(100000,500,0.4))
> > > [1] 199.1077
> > > > mean(rbinom(100000,500,0.4))
> > > [1] 199.0668
> > > and so on.
> > > 
> > > I did this 1000 times and found the results to be distributed
> > > approximately N(199.0787,s=0.036). The standard deviation
> > > is pretty accurate, but the mean is significantly off from 200.
> > 
> > I see the same thing on Linux. Looks like it needs checking against
> > the original CACM algorithm.
> 
> This seems not to be present in the original Fortran (once I got it to
> compile properly -- it requires -fno-automatic) so there has to be a
> transcription error somewhere. I'll be darned if I can find it, though. 

Got it!  

log(w * p / (x1 * q))

had lost the parentheses in the denominator... Will fix for 1.4


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From katfinancial@yahoo.com  Mon Dec  3 12:57:05 2001
From: katfinancial@yahoo.com (TomKat)
Date: Mon, 03 Dec 2001 20:57:05 +0800
Subject: [Rd] Financial Modelling with R
Message-ID: <3C0B76A1.8080803@yahoo.com>

hi there,

are there any people out there who would like to collaborate on 
developing some financial models (packages and rweb modules)?
I can contribute the design and data - pretty much any data there is 
including real-time data . please email if interested.  thanks.

tom
katfinancial@yahoo.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gregory_r_warnes@groton.pfizer.com  Mon Dec  3 19:34:47 2001
From: gregory_r_warnes@groton.pfizer.com (gregory_r_warnes@groton.pfizer.com)
Date: Mon, 3 Dec 2001 20:34:47 +0100 (MET)
Subject: [Rd] Segfault in foreign:read.xport (PR#1192)
Message-ID: <200112031934.UAA14368@pubhealth.ku.dk>


I get a segfault when trying to read a SAS transport file with rather long
rows using read.xport from package foreign (version 0.4-7).  The culprit
seems to be these lines in xport_read in SASxport.c:

590                         } else {
591                             c = strchr(tmpchar, ' ');
592                             *c = '\0';
593                             SET_STRING_ELT(VECTOR_ELT(data, k), j,
594                                            (c == tmpchar) ?
R_BlankString :
595                                            mkChar(tmpchar));
596                         }

(gdb) print tmpchar
$1 = 0xb63674 "0502"
(gdb) print c
$2 = 0x0

According to the solaris man pages, strchr returns NULL if there is no
match.  Changing lines 591 and 592 to add an appropriate test for null seems
to fix the problem:

590                         } else {
591                             if( c = strchr(tmpchar, ' ') )
592                                 *c = '\0';
593                             SET_STRING_ELT(VECTOR_ELT(data, k), j,
594                                            (c == tmpchar) ?
R_BlankString :
595                                            mkChar(tmpchar));
596                         }

I haven't looked closely at the code, so this may not be the correct
solution.

Patch and version information below.

-Greg


-------------

> R.version
         _                   
platform sparc-sun-solaris2.8
arch     sparc               
os       solaris2.8          
system   sparc, solaris2.8   
status                       
major    1                   
minor    3.1                 
year     2001                
month    08                  
day      31                  
language R                   


-----------

-------------Patch Starts Here----------------
diff -r foreign.orig//src/SASxport.c foreign/src/SASxport.c
591,595c591,598
< 			c = strchr(tmpchar, ' ');
< 			*c = '\0';
< 			SET_STRING_ELT(VECTOR_ELT(data, k), j,
< 				       (c == tmpchar) ? R_BlankString :
< 				       mkChar(tmpchar));
---
> 		      if( c = strchr(tmpchar, ' ') )
>                           {
> 			    *c = '\0';
> 			  }
> 
> 		      SET_STRING_ELT(VECTOR_ELT(data, k), j,
> 				     (c == tmpchar) ? R_BlankString :
> 				     mkChar(tmpchar));
------------Patch Ends Here--------------------


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Mon Dec  3 21:46:45 2001
From: tlumley@u.washington.edu (tlumley@u.washington.edu)
Date: Mon, 3 Dec 2001 22:46:45 +0100 (MET)
Subject: [Rd] Re: [R] appending similar data frames? (PR#1193)
Message-ID: <200112032146.WAA15067@pubhealth.ku.dk>

On Mon, 3 Dec 2001, Duncan Murdoch wrote:

> As long as the names match exactly in the two original frames, you
> should be able to do it using "rbind" and "cbind":
>
> Specifically:
>
>  rbind( cbind(x, 'x'), cbind(y, 'y') )
>


I would have thought that the recycling rules allowed this, but it doesn't
work and you need cbind(x, rep('x', NROW(x))) instead.

The documentation only specifically addresses vectors and matrices but
says
     When the arguments consist of a mix of matrices and vectors the
     number of columns (rows) of the result is determined by the number
     of columns (rows) of the matrix arguments.  Any vectors have their
     values recycled or subsetted to achieve this length.

I think it's a bug, but it might just be a documentation bug.


	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Tue Dec  4 09:27:14 2001
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Tue, 4 Dec 2001 10:27:14 +0100 (MET)
Subject: [Rd] documentation for diff (PR#1185)
Message-ID: <200112040927.KAA18814@pubhealth.ku.dk>

>>>>> "PaulG" == Paul Gilbert <pgilbert@bank-banque-canada.ca> writes:

    PaulG> The documentation for diff says: If `x' is a vector
    PaulG> of length `n' and `differences=1', then the computed
    PaulG> result is equal to the successive differences
    PaulG> `x[(1:n-lag)] - x[(lag:n)]'. ...

    PaulG> This last line should say:

    PaulG>      `x[(1+lag):n] - x[1:(n-lag)]'.

Of course!
Thank you Paul; fix now committed.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rmh@surfer.sbm.temple.edu  Tue Dec  4 16:27:00 2001
From: rmh@surfer.sbm.temple.edu (rmh@surfer.sbm.temple.edu)
Date: Tue, 4 Dec 2001 17:27:00 +0100 (MET)
Subject: [Rd] factorial() not here (PR#1194)
Message-ID: <200112041627.RAA27386@pubhealth.ku.dk>

Version 1.3.1  (2001-08-31)
factorial() is not in R.  It is in S-Plus with the definition

         factorial <- function(n) gamma(n + 1)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rmh@surfer.sbm.temple.edu  Tue Dec  4 16:34:51 2001
From: rmh@surfer.sbm.temple.edu (rmh@surfer.sbm.temple.edu)
Date: Tue, 4 Dec 2001 17:34:51 +0100 (MET)
Subject: [Rd] help(dbinom) recommended documentation improvement (PR#1195)
Message-ID: <200112041634.RAA27469@pubhealth.ku.dk>

Version 1.3.1  (2001-08-31)

help(dbinom)

currently says
                  p(x) = Choose(n,x) p^x (1-p)^(n-x)

Better would be
                  p(x) = choose(n,x) p^x (1-p)^(n-x)
since "choose" with lower case is the function name.

Even better would be
                  p(x) = choose(n,x) * p^x * (1-p)^(n-x)
because the user could pick up the right-hand-side and execute it.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Torsten.Hothorn@rzmail.uni-erlangen.de  Tue Dec  4 17:25:08 2001
From: Torsten.Hothorn@rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Tue, 4 Dec 2001 18:25:08 +0100 (MET)
Subject: [Rd] pt fails with ncp
Message-ID: <Pine.LNX.4.21.0112041822010.28603-100000@artemis.imbe.med.uni-erlangen.de>


?pt states that ncp=0 is default, so this is correct

> pt(3,3)
[1] 0.9711656
> pt(3,3, ncp=0)
[1] 0.9711656

but this is not

> pt(-Inf,3)
[1] 0
> pt(-Inf,3,ncp=0)
[1] 0.5

is it?

Torsten

--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = Under development (unstable)
 major = 1
 minor = 4.0
 year = 2001
 month = 12
 day = 03
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Dec  4 17:33:55 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 4 Dec 2001 17:33:55 +0000 (GMT)
Subject: [Rd] pt fails with ncp
In-Reply-To: <Pine.LNX.4.21.0112041822010.28603-100000@artemis.imbe.med.uni-erlangen.de>
Message-ID: <Pine.LNX.4.31.0112041731120.22130-100000@gannet.stats>

On Tue, 4 Dec 2001, Torsten Hothorn wrote:

>
> ?pt states that ncp=0 is default, so this is correct
>
> > pt(3,3)
> [1] 0.9711656
> > pt(3,3, ncp=0)
> [1] 0.9711656
>
> but this is not
>
> > pt(-Inf,3)
> [1] 0
> > pt(-Inf,3,ncp=0)
> [1] 0.5
>
> is it?

Nor is pt(Inf, 3, ncp=0)

It's very easy to fix, done ....

>
> Torsten
>
> --please do not edit the information below--
>
> Version:
>  platform = i686-pc-linux-gnu
>  arch = i686
>  os = linux-gnu
>  system = i686, linux-gnu
>  status = Under development (unstable)
>  major = 1
>  minor = 4.0
>  year = 2001
>  month = 12
>  day = 03
>  language = R
>
> Search Path:
>  .GlobalEnv, package:ctest, Autoloads, package:base
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Wed Dec  5 08:48:33 2001
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Wed, 5 Dec 2001 09:48:33 +0100 (MET)
Subject: [Rd] factorial() not here (PR#1194)
Message-ID: <200112050848.JAA02841@pubhealth.ku.dk>

>>>>> "rmh" == rmh  <rmh@surfer.sbm.temple.edu> writes:

    rmh> Version 1.3.1 (2001-08-31) factorial() is not in R.  It
    rmh> is in S-Plus with the definition

    rmh>          factorial <- function(n) gamma(n + 1)

well, and where's the bug ?  There are many more functions in S+
which are not in R.  factorial() is not a blue book or white
book function {of course!}; hence no direct reason to have it in R.
  Reversely, should we start sending bug reports to
S-news or Insightful for R functions not existing in S+ ? 

No, more seriously, are you really finding that factorial
is hard to use via gamma?  Very often it is really logarithms
one should work with anyway, hence lgamma().  Now we would also
`need' lfactorial() .....

Regards,
Martin


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gregory_r_warnes@groton.pfizer.com  Wed Dec  5 14:16:49 2001
From: gregory_r_warnes@groton.pfizer.com (Warnes, Gregory R)
Date: Wed, 5 Dec 2001 09:16:49 -0500
Subject: [Rd] factorial() not here (PR#1194)
Message-ID: <5429125E11E4D411AF7300805FE603A8014CF076@groexmbcr02.pfizer.com>


Its not a bug, its a feature request.  I've needed and written this simple
function a number of times and would like to have it available in a package.
Consequently, I'll add it the gregmisc package.

-Greg

 >  -----Original Message-----
 >  From: maechler@stat.math.ethz.ch [mailto:maechler@stat.math.ethz.ch]
 >  Sent: Wednesday, December 05, 2001 3:49 AM
 >  To: r-devel@stat.math.ethz.ch
 >  Cc: R-bugs@biostat.ku.dk
 >  Subject: Re: [Rd] factorial() not here (PR#1194)
 >  
 >  
 >  >>>>> "rmh" == rmh  <rmh@surfer.sbm.temple.edu> writes:
 >  
 >      rmh> Version 1.3.1 (2001-08-31) factorial() is not in R.  It
 >      rmh> is in S-Plus with the definition
 >  
 >      rmh>          factorial <- function(n) gamma(n + 1)
 >  
 >  well, and where's the bug ?  There are many more functions in S+
 >  which are not in R.  factorial() is not a blue book or white
 >  book function {of course!}; hence no direct reason to have it in R.
 >    Reversely, should we start sending bug reports to
 >  S-news or Insightful for R functions not existing in S+ ? 
 >  
 >  No, more seriously, are you really finding that factorial
 >  is hard to use via gamma?  Very often it is really logarithms
 >  one should work with anyway, hence lgamma().  Now we would also
 >  `need' lfactorial() .....
 >  
 >  Regards,
 >  Martin
 >  
 >  
 >  -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
 >  -.-.-.-.-.-.-.-.-.-
 >  r-devel mailing list -- Read 
 >  http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
 >  Send "info", "help", or "[un]subscribe"
 >  (in the "body", not the subject !)  To: 
 >  r-devel-request@stat.math.ethz.ch
 >  _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
 >  _._._._._._._._._._
 >  


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gregory_r_warnes@groton.pfizer.com  Wed Dec  5 14:18:18 2001
From: gregory_r_warnes@groton.pfizer.com (gregory_r_warnes@groton.pfizer.com)
Date: Wed, 5 Dec 2001 15:18:18 +0100 (MET)
Subject: [Rd] factorial() not here (PR#1194)
Message-ID: <200112051418.PAA11110@pubhealth.ku.dk>


Its not a bug, its a feature request.  I've needed and written this simple
function a number of times and would like to have it available in a package.
Consequently, I'll add it the gregmisc package.

-Greg

 >  -----Original Message-----
 >  From: maechler@stat.math.ethz.ch [mailto:maechler@stat.math.ethz.ch]
 >  Sent: Wednesday, December 05, 2001 3:49 AM
 >  To: r-devel@stat.math.ethz.ch
 >  Cc: R-bugs@biostat.ku.dk
 >  Subject: Re: [Rd] factorial() not here (PR#1194)
 >  
 >  
 >  >>>>> "rmh" == rmh  <rmh@surfer.sbm.temple.edu> writes:
 >  
 >      rmh> Version 1.3.1 (2001-08-31) factorial() is not in R.  It
 >      rmh> is in S-Plus with the definition
 >  
 >      rmh>          factorial <- function(n) gamma(n + 1)
 >  
 >  well, and where's the bug ?  There are many more functions in S+
 >  which are not in R.  factorial() is not a blue book or white
 >  book function {of course!}; hence no direct reason to have it in R.
 >    Reversely, should we start sending bug reports to
 >  S-news or Insightful for R functions not existing in S+ ? 
 >  
 >  No, more seriously, are you really finding that factorial
 >  is hard to use via gamma?  Very often it is really logarithms
 >  one should work with anyway, hence lgamma().  Now we would also
 >  `need' lfactorial() .....
 >  
 >  Regards,
 >  Martin
 >  
 >  
 >  -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
 >  -.-.-.-.-.-.-.-.-.-
 >  r-devel mailing list -- Read 
 >  http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
 >  Send "info", "help", or "[un]subscribe"
 >  (in the "body", not the subject !)  To: 
 >  r-devel-request@stat.math.ethz.ch
 >  _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
 >  _._._._._._._._._._
 >  


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Dec  5 15:02:47 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 5 Dec 2001 15:02:47 +0000 (GMT)
Subject: [Rd] Windows testing
Message-ID: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>

R 1.4.0 is now sinking into feature freeze, and we'd like some help
testing it under Windows.  Duncan Murdoch and Uwe Ligges have already
volunteered.

I've put a copy of SetupR140.exe at

http://www.stats.ox.ac.uk/pub/bdr/RWin

Also in that directory is a file TESTING suggesting some tests, not all of
which have been run on this build.  As the graphics internals have been
changed a lot recently that is one area to check out closely.

Problem reports to R-devel, please.  (At this stage the features are
frozen, so no feature requests ....)

I don't have much access to a suitable (internet-connected) Windows
machine these days, but Duncan may be able to put up later builds as
testing proceeds.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossini@u.washington.edu  Wed Dec  5 15:59:12 2001
From: rossini@u.washington.edu (A.J. Rossini)
Date: 05 Dec 2001 07:59:12 -0800
Subject: [Rd] factorial() not here (PR#1194)
In-Reply-To: <200112050848.JAA02841@pubhealth.ku.dk>
References: <200112050848.JAA02841@pubhealth.ku.dk>
Message-ID: <87pu5tbqun.fsf@jeeves.blindglobe.net>

>>>>> "m" == maechler  <maechler@stat.math.ethz.ch> writes:

>>>>> "rmh" == rmh  <rmh@surfer.sbm.temple.edu> writes:

    m> well, and where's the bug ?  There are many more functions in
    m> S+ which are not in R.  factorial() is not a blue book or white
    m> book function {of course!}; hence no direct reason to have it
    m> in R.  Reversely, should we start sending bug reports to S-news
    m> or Insightful for R functions not existing in S+ ?

Combine this with Brian's comment about Greg's concat masking an S
function, and this is amusing.

R-core can't have it both ways, emulating S when it pleases, and
complaining when not!  (at least Greg implemented it for future, so
that we don't get the mandatory statement about volunteer projects!). 

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini@u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini@scharp.org
-------------- http://software.biostat.washington.edu/ --------------
FHCRC: M-W: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   T-Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
Rosen: (Mullins' Lab) Fridays, and I'm unreachable except by email.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Dec  5 16:09:34 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 5 Dec 2001 16:09:34 +0000 (GMT)
Subject: [Rd] factorial() not here (PR#1194)
In-Reply-To: <87pu5tbqun.fsf@jeeves.blindglobe.net>
Message-ID: <Pine.LNX.4.31.0112051603510.1166-100000@gannet.stats>

On 5 Dec 2001, A.J. Rossini wrote:

> >>>>> "m" == maechler  <maechler@stat.math.ethz.ch> writes:
>
> >>>>> "rmh" == rmh  <rmh@surfer.sbm.temple.edu> writes:
>
>     m> well, and where's the bug ?  There are many more functions in
>     m> S+ which are not in R.  factorial() is not a blue book or white
>     m> book function {of course!}; hence no direct reason to have it
>     m> in R.  Reversely, should we start sending bug reports to S-news
>     m> or Insightful for R functions not existing in S+ ?
>
> Combine this with Brian's comment about Greg's concat masking an S
> function, and this is amusing.
>
> R-core can't have it both ways, emulating S when it pleases, and
> complaining when not!  (at least Greg implemented it for future, so
> that we don't get the mandatory statement about volunteer projects!).

Eh?  I don't find it amusing at all.
What I personally want to avoid is functions of the same name with
very different functionality in the two systems.  It makes porting code
between them too error-prone. R-core has been adding S-compatibility a lot
recently, and Insightful are planning to add some R-compatibility, all of
which I see as positive.

*However*, Martin was complaining that this was sent in as a bug report.
I think that is fair comment: it was not marked as a feature request.  I
do think it would be worth adding, but as 1.4.0 is in feature freeze, not
right now.

General comment: please mark feature requests as `for the wishlist' or
something similar when sending to R-bugs.

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Dec  5 16:16:41 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Dec 2001 17:16:41 +0100
Subject: [Rd] factorial() not here (PR#1194)
In-Reply-To: <Pine.LNX.4.31.0112051603510.1166-100000@gannet.stats>
References: <Pine.LNX.4.31.0112051603510.1166-100000@gannet.stats>
Message-ID: <x24rn51w2e.fsf@blueberry.kubism.ku.dk>

Prof Brian Ripley <ripley@stats.ox.ac.uk> writes:

> *However*, Martin was complaining that this was sent in as a bug report.
> I think that is fair comment: it was not marked as a feature request.  I
> do think it would be worth adding, but as 1.4.0 is in feature freeze, not
> right now.

...and for the same reason several people (not excluding the release
manager) are getting somewhat edgy, so please bear with us. We'll get
this filed as a feature request...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Wed Dec  5 16:46:43 2001
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Wed, 05 Dec 2001 11:46:43 -0500
Subject: [Rd] Windows testing
In-Reply-To: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>
References: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>
Message-ID: <61js0u4311gu5p1bdjnngrg8q86o8m18lp@4ax.com>

This is unchanged from 1.3.1, but doesn't look right to me:

If I run the graphics demo to the second prompt, I see:

>> demo(graphics)
>
>
>        demo(graphics)
>        ---- ~~~~~~~~
>
>Type  <Return>   to start : 
>
>> if (dev.cur() <= 1) get(getOption("device"))()
>
>> opar <- par(ask = interactive() && (.Device %in% c("X11", 
>    "GTK", "windows", "Macintosh")))
>
>> x <- rnorm(50)
>
>> opar <- c(opar, par(bg = "white"))
>
>> plot(x, ann = FALSE, type = "n")
>
>Hit <Return> to see next plot: 

At this point I have an open graphics window, but the last line hasn't
executed yet, so it's blank.  As I go through the demo, what shows up
is always one step behind the text that I see.

Wouldn't it be better to execute the lines that are shown before
stopping to get the user's input?

To do this, the following changes to the script would work:

3,4c3,4
< opar <- par(ask = interactive() &&
<             (.Device %in% c("X11", "GTK", "gnome", "windows",
"Macintosh")))
---
> ask <- interactive() && (.Device %in% c("X11", "GTK", "gnome", "windows", "Macintosh"))
>
16c16
< opar <- c(opar, par(bg="white"))
---
> opar <- par(bg="white")
25a26
> if (ask) readline("Hit enter for next plot...")

... and then the last line repeated after each of the plots.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Dec  5 17:35:46 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Dec 2001 18:35:46 +0100
Subject: [Rd] Windows testing
In-Reply-To: <61js0u4311gu5p1bdjnngrg8q86o8m18lp@4ax.com>
References: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>
 <61js0u4311gu5p1bdjnngrg8q86o8m18lp@4ax.com>
Message-ID: <x2vgflzi19.fsf@blueberry.kubism.ku.dk>

Duncan Murdoch <murdoch@stats.uwo.ca> writes:

> At this point I have an open graphics window, but the last line hasn't
> executed yet, so it's blank.  As I go through the demo, what shows up
> is always one step behind the text that I see.
> 
> Wouldn't it be better to execute the lines that are shown before
> stopping to get the user's input?
> 
> To do this, the following changes to the script would work:
> 
> 3,4c3,4
> < opar <- par(ask = interactive() &&
> <             (.Device %in% c("X11", "GTK", "gnome", "windows",
> "Macintosh")))
> ---
> > ask <- interactive() && (.Device %in% c("X11", "GTK", "gnome", "windows", "Macintosh"))
> >
> 16c16
> < opar <- c(opar, par(bg="white"))
> ---
> > opar <- par(bg="white")
> 25a26
> > if (ask) readline("Hit enter for next plot...")
> 
> ... and then the last line repeated after each of the plots.

We might, but not for this release. Basically that's just the way
par(ask=T) works: ask *before* plotting to a device. It could ask
afterwards ("Are you through seeing this?") but it doesn't. Presumably
someone considered the alternatives once upon a time...

Personally, I'm more miffed by the fact that par(ask=T) by itself
causes a graphics window to open. This is of course tricky to avoid,
since you need to have the device before setting its parameters. But
it is getting in the way of example(), causing it to rattle off all
graphics output in one go since we wouldn't want to set par(ask=T) on
help pages that generate no graphics.

Of course, we could eventually decide to make the demos more smooth as
you suggested. Don't forget to unset any previous setting of par(ask=)
or you will get asked twice per plot....

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Wed Dec  5 20:13:22 2001
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Wed, 05 Dec 2001 15:13:22 -0500
Subject: [Rd] Windows testing
In-Reply-To: <x2vgflzi19.fsf@blueberry.kubism.ku.dk>
References: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats> <61js0u4311gu5p1bdjnngrg8q86o8m18lp@4ax.com> <x2vgflzi19.fsf@blueberry.kubism.ku.dk>
Message-ID: <2bvs0u0u0m2hpfav9v7qhm27mf43k939ec@4ax.com>

On 05 Dec 2001 18:35:46 +0100, you wrote in message
<x2vgflzi19.fsf@blueberry.kubism.ku.dk>:

>Duncan Murdoch <murdoch@stats.uwo.ca> writes:
>
>> At this point I have an open graphics window, but the last line hasn't
>> executed yet, so it's blank.  As I go through the demo, what shows up
>> is always one step behind the text that I see.
>> 
>> Wouldn't it be better to execute the lines that are shown before
>> stopping to get the user's input?

>We might, but not for this release. Basically that's just the way
>par(ask=T) works: ask *before* plotting to a device. It could ask
>afterwards ("Are you through seeing this?") but it doesn't. Presumably
>someone considered the alternatives once upon a time...

I don't think there's any way that par(ask=T) could be made to do this
properly.  My suggestion isn't that it's broken, just that it
shouldn't be used by the demo.  It's confusing when the text that is
shown isn't synchronized with the picture that is shown.

The reason par(ask=T) couldn't do this is because you want to insert
breaks when you are changing the example, not when the graphics window
is about to be erased.  There's no automatic way to do that.  You need
to add some code to tell the system that you've changed topics.

An alternative to my 

  if (ask) readline("Hit enter for next plot...")

additions would be to add a "pause" function (maybe there is one
already, but I don't know it's name); that function could pay
attention to some global option to decide whether to really pause or
just to barrel on through.

>Personally, I'm more miffed by the fact that par(ask=T) by itself
>causes a graphics window to open. This is of course tricky to avoid,
>since you need to have the device before setting its parameters. But
>it is getting in the way of example(), causing it to rattle off all
>graphics output in one go since we wouldn't want to set par(ask=T) on
>help pages that generate no graphics.

A way around this problem would be to add some .Rd command that says
"insert a pause here"; it wouldn't be shown to the user, but the
example would pause at that spot when being played back.

>Of course, we could eventually decide to make the demos more smooth as
>you suggested. Don't forget to unset any previous setting of par(ask=)
>or you will get asked twice per plot....

Is this really a new feature request? I think of it as a bug report:
the demo doesn't demonstrate clearly, so should be fixed.  (My
suggestion about the addition of pauses to examples would definitely
be a new feature.)

Duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Dec  5 22:38:26 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Dec 2001 23:38:26 +0100
Subject: [Rd] Windows testing
In-Reply-To: <2bvs0u0u0m2hpfav9v7qhm27mf43k939ec@4ax.com>
References: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>
 <61js0u4311gu5p1bdjnngrg8q86o8m18lp@4ax.com>
 <x2vgflzi19.fsf@blueberry.kubism.ku.dk>
 <2bvs0u0u0m2hpfav9v7qhm27mf43k939ec@4ax.com>
Message-ID: <x2g06p9tst.fsf@blueberry.kubism.ku.dk>

Duncan Murdoch <murdoch@stats.uwo.ca> writes:

> >Of course, we could eventually decide to make the demos more smooth as
> >you suggested. Don't forget to unset any previous setting of par(ask=)
> >or you will get asked twice per plot....
> 
> Is this really a new feature request? I think of it as a bug report:
> the demo doesn't demonstrate clearly, so should be fixed.  (My
> suggestion about the addition of pauses to examples would definitely
> be a new feature.)

Yes, rewriting a demo would be a feature change at this stage. It's
not the best example in the world, but 

a) Seemingly innocent changes can break on some platforms

b) The demos get run as part of the checking procedure, which should
   not be jeopardized.

c) It is hardly high priority. It has worked like this through 20
   versions or so. We could need to focus our attention elsewhere if
   a bad bug turns up (e.g. that rbinom fault probably cost me 5 hours
   and a bad headache over the weekend.)  

As I said: not the best example, but did you actually consider b) and
what would happen when the code was run non-interactively?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Thu Dec  6 08:09:33 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Thu, 6 Dec 2001 09:09:33 +0100
Subject: [Rd] RE: [R] trouble with R CMD INSTALL for building my own library
In-Reply-To: <FC0B9DA2600ED4118F76009027AA5DDD02B27B30@ALEX2>
References: <FC0B9DA2600ED4118F76009027AA5DDD02B27B30@ALEX2>
Message-ID: <15375.10173.910925.565287@mithrandir.hornik.net>

>>>>> jonathan li writes:

> Hi all,
> Problem solved!

> Thanks to a suggestion by Robert Gentleman, I realized that there may
> be something that makes R think that mylib is a binary rather than
> source package. I downloaded Brian Ripley's tree source package and
> basically copied each directory. As it turns out, I have not put in a
> mylib/man subdirectory (I thought I could add it any time later.) and
> R was then tricked to believe that mylib is a binary! Once I add an
> empty mylib/man subdirectory, things become normal with compiling
> etc. Timothy, I think that your problem is likely to be the same
> source then.

Jonathan:

In that case, does not R CMD INSTALL start by saying
"Installing binary package ..."?

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Dec  6 10:46:20 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 6 Dec 2001 11:46:20 +0100 (MET)
Subject: [Rd] predict.nnet (PR#1181)
Message-ID: <200112061046.LAA22155@pubhealth.ku.dk>

I can't reproduce this example: I get

> smalltest <- nnet.formula(formula = Q65 ~ ., data = smallx,
+   size = 2, rang = 1, maxit = 250, subset = jj)
Error in get(ctr)(levels(x), contrasts = contrasts) :
        Contrasts not defined for 0 degrees of freedom

And that's correct: what you are doing is nonsense. You've included
one-level factors, and you are fitting a non-linear model to a linearly
over-determined system (there are more X columns than data points).

I don't know how you got this to work, but I would not be surprised
if predict.nnet failed on an over-determined fit:  It's not designed for
misuse.

I don't agree this is a bug in my code.


On Mon, 26 Nov 2001 jcs20@po.cwru.edu wrote:

> Full_Name: Jeff Schwarz
> Version: R1.3.1
> OS: Windows 2000
> Submission from: (NULL) (129.22.170.115)
>
>
> Error message (using predict and predict.nnet)
> > predict (smalltest, smallx[-jj,])
> Error in matrix(NA, length(keep), nout, dimnames = list(rn,
> dimnames(object$fitted)[[2]])) :
>         length of dimnames[1] not equal to array extent
>
> *** all relevant code and data source is given below ***
>
> I have successfully built an object of type nnet using...
> nnet.formula(formula = Q65 ~ ., data = smallx, size = 2, rang = 1,
>     maxit = 250, subset = jj)
>
> where smallx is a data.frame with dimensions 300 by 103 that contains numerical
> and factor variables.  Smallx is a random sample of 300 from the tab-delimited
> numeric dataset found at
> http://www.gvu.gatech.edu/user_surveys/survey-1998-10/datasets/num_general.zip.
> The code I used to recode the data is below, also.
>
> I have successfully run the sample code from the predict.nnet help file without
> any problem.
>
> *********************************************************************
>
> data source:
> http://www.gvu.gatech.edu/user_surveys/survey-1998-10/datasets/num_general.zip
>
> #***Get the data from the big file
> #***Get rid of the vairiables for survey (all
> #*** observations = general), a unique identifier
> #*** for each respondent and an extra variable X
> #*** (all = NaN)
> #***Make sure that all the asymmetric binary,
> #*** and nominal variables are coded as factor,
> #*** not numeric (daisy has special methods for
> #*** symmetric binary and discrete ordinal)
> #***Recode some of the discrete ordinal variables
> #*** so the Na, didn't know, and didn't say are all
> #*** "NaN", and so that a few of the "never" responses
> #*** are coded as 0 instead of 5
>
> bigx <-
>   read.delim (file location,
>   header = TRUE, sep = "\t", quote = "\"", dec = ".",
>   fill = TRUE)
>
> bigx <- bigx [,c(1:103)]
>
> ii <- bigx[,c(22)] == 5
> bigx[,c(22)] <- replace (bigx[,c(22)], ii, 0)
> ii <- bigx[,c(23)] == 5
> bigx[,c(23)] <- replace (bigx[,c(23)], ii, 0)
> ii <- bigx[,c(24)] == 5
> bigx[,c(24)] <- replace (bigx[,c(24)], ii, 0)
> ii <- bigx[,c(25)] == 5
> bigx[,c(25)] <- replace (bigx[,c(25)], ii, 0)
> ii <- bigx[,c(26)] == 5
> bigx[,c(26)] <- replace (bigx[,c(26)], ii, 0)
> ii <- bigx[,38] == 7
> bigx[,38] <- replace (bigx[,38], ii, NaN)
> ii <- bigx[,38] == 8
> bigx[,38] <- replace (bigx[,38], ii, NaN)
> ii <- bigx[,57] == 1
> bigx[,57] <- replace (bigx[,57], ii, NaN)
> ii <- bigx[,58] == 19
> bigx[,58] <- replace (bigx[,58], ii, NaN)
> ii <- bigx[,60] == 4
> bigx[,60] <- replace (bigx[,60], ii, NaN)
> ii <- bigx[,60] == 1
> bigx[,60] <- replace (bigx[,60], ii, 3)
> ii <- bigx[,60] == 2
> bigx[,60] <- replace (bigx[,60], ii, 1)
> ii <- bigx[,60] == 3
> bigx[,60] <- replace (bigx[,60], ii, 2)
> ii <- bigx[,69] == 1
> bigx[,69] <- replace (bigx[,69], ii, NaN)
> ii <- bigx[,69] == 7
> bigx[,69] <- replace (bigx[,69], ii, NaN)
> bigx[,69] <- bigx[,69] - 1
>
> for (ii in c(1:9,14:21,27:32,34:37,39:49,52:55,
>   59,61:70,72:103)) bigx[,ii] <- as.factor(bigx[,ii])
>
> library (nnet)
>
> set.seed(7261)
> smallx <- bigx[sample(1:5022,300),]
> jj <- sample (1:300, 100)
> smalltest <- nnet.formula(formula = Q65 ~ ., data = smallx,
>   size = 2, rang = 1, maxit = 250, subset = jj)
>
> predict.nnet (smalltest, smallx[-jj,])
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From david.firth@nuffield.ox.ac.uk  Thu Dec  6 10:56:58 2001
From: david.firth@nuffield.ox.ac.uk (david.firth@nuffield.ox.ac.uk)
Date: Thu, 6 Dec 2001 11:56:58 +0100 (MET)
Subject: [Rd] glm() documentation, two things (PR#1198)
Message-ID: <200112061056.LAA22325@pubhealth.ku.dk>

Full_Name: David Firth
Version: 1.3.1
OS: various
Submission from: (NULL) (163.1.103.121)


1.  help(glm.fit) does not properly document glm.fit.  The arguments x,y for
that function are not logicals.  It would be helpful to see here what they
*should* be.

2.  Under "Value", "weights" the word residuals should be changed to weights I
think.

Regards,
David

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jago@mclink.it  Thu Dec  6 12:14:54 2001
From: jago@mclink.it (Stefano Iacus)
Date: Thu, 6 Dec 2001 13:14:54 +0100
Subject: [Rd] Mac Test
Message-ID: <DB4BAB7A-EA42-11D5-99C4-003065CC4CB8@mclink.it>

R 1.4.0 is now sinking into feature freeze, and I'd like some help
testing it under Macintosh (from Sys 8.6 to X).


I've put a copy of R140b1 at

http://www.ci.tuwien.ac.at/~iacus/R

there are two files: R140b1.sit and R140b1.sit.hqx

download only one of the two.

Many tests have been done but you help will be precious. Several things 
have been changed or implemented both in R internals and Mac GUI.

Problem reports to stefano.iacus@unimi.it or to r-sig-
mac@stat.math.ethz.ch, please.  (At this stage the features are frozen, 
so no feature requests ....)

thanks

Stefano

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gs@statlab.uni-heidelberg.de  Thu Dec  6 13:01:36 2001
From: gs@statlab.uni-heidelberg.de (G. Sawitzki)
Date: Thu, 6 Dec 2001 14:01:36 +0100
Subject: [Rd] Mac Test
In-Reply-To: <DB4BAB7A-EA42-11D5-99C4-003065CC4CB8@mclink.it>
References: <DB4BAB7A-EA42-11D5-99C4-003065CC4CB8@mclink.it>
Message-ID: <p05100307b8351c258274@[129.206.113.199]>

At 13:14 +0100 06.12.01, Stefano Iacus wrote:
>R 1.4.0 is now sinking into feature freeze, and I'd like some help
>testing it under Macintosh (from Sys 8.6 to X).
>
>I've put a copy of R140b1 at
>
>http://www.ci.tuwien.ac.at/~iacus/R
>
>there are two files: R140b1.sit and R140b1.sit.hqx
>
>download only one of the two.
>
>Many tests have been done but you help will be precious. Several 
>things have been changed or implemented both in R internals and Mac 
>GUI.
>
>Problem reports to stefano.iacus@unimi.it or to r-sig-
>mac@stat.math.ethz.ch, please.  (At this stage the features are 
>frozen, so no feature requests ....)
>
>thanks
>
>Stefano


Minor issues:
It seems that the formula display has improved a lot. The demo for 
plotmath() still shows some glimpses. (But I do not htink one should 
spend to much time on this. Better convince someone to provide a 
proper quartz driver).

Very minor issues:
in "Thanks"
Gran Brostrm		<gb@stat.umu.se>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Thu Dec  6 15:13:09 2001
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Thu, 06 Dec 2001 10:13:09 -0500
Subject: [Rd] Windows menu entries
In-Reply-To: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>
References: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>
Message-ID: <qcvu0usdvh9e1kmin78re2u88rq0jjvsvi@4ax.com>

The convention in Windows menus is that items which do something are
listed plain, and items that lead to dialogs (to which you're expected
to give input, and from which you're allowed to back out without doing
anything) are listed with dots after the name.  The Rgui menu never
uses dots.

As far as I know, in Windows the dots aren't generally used in the
popup help hints on toolbars.

I think the following is what they should look like, to follow the
dots convention:

 File
	Source R code...
	Display file...
	Load Workspace...
	Save Workspace...
	Load History...
	Save History...
	Change dir...
	Print...
	Save to File...
	Exit
 Edit
	Copy
	Paste
	Copy and paste
	Select all
	Clear console
	GUI preferences
 Misc
	Stop current computation
	Buffered output
	List objects
	Remove all objects
	List search path
 Packages
	Load package...
	Install package from CRAN...
	Install package from local zip file...
	Update packages from CRAN
 Help
	Console
	FAQ on R
	FAQ on R for Windows
	R language (standard)...
	R language (HTML)
	Manuals
		An introduction to R
		R reference manual
		R data import/export
		R language manual
		Writing R extensions
	Apropos...
	About				

(I haven't got the correct case on lots of words above; the menus are
inconsistent about that, and I typed in a hurry.)

The menus are set up in the setupui() function in rui.c.  The block of
code below implements these changes.	

    MCHECK(newmenu("File"));
    MCHECK(msource = newmenuitem("Source R code...", 0, menusource));
    MCHECK(mdisplay = newmenuitem("Display file...", 0, menudisplay));
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(mload = newmenuitem("Load Workspace...", 0,
menuloadimage));
    MCHECK(msave = newmenuitem("Save Workspace...", 0,
menusaveimage));
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(mloadhistory = newmenuitem("Load History...", 0,
menuloadhistory));
    MCHECK(msavehistory = newmenuitem("Save History...", 0,
menusavehistory));
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(newmenuitem("Change dir...", 0, menuchangedir));
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(newmenuitem("Print...", 0, menuprint));
    MCHECK(newmenuitem("Save to File...", 0, menusavefile));
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(newmenuitem("Exit", 0, menuexit));

    MCHECK(newmenu("Edit"));
    MCHECK(mcopy = newmenuitem("Copy", 'C', menucopy));
    MCHECK(mpaste = newmenuitem("Paste", 'V', menupaste));
    MCHECK(mcopypaste = newmenuitem("Copy and Paste", 'X',
menucopypaste));
    MCHECK(newmenuitem("Select all", 0, menuselectall));
    MCHECK(newmenuitem("Clear console", 'L', menuclear));
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(mconfig = newmenuitem("GUI preferences...", 0,
menuconfig));

    MCHECK(newmenu("Misc"));
    MCHECK(newmenuitem("Stop current computation           \tESC", 0,
menukill));
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(mlazy = newmenuitem("Buffered output", 'W', menulazy));
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(mls = newmenuitem("List objects", 0, menuls));
    MCHECK(mrm = newmenuitem("Remove all objects", 0, menurm));
    MCHECK(msearch = newmenuitem("List &search path", 0, menusearch));

    MCHECK(newmenu("Packages"));
    MCHECK(mpkgl = newmenuitem("Load package...", 0, menupkgload));
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(mpkgi = newmenuitem("Install package from CRAN...", 0, 
			       menupkginstallcran));
    MCHECK(mpkgil = newmenuitem("Install package from local zip
file...", 0, 
				menupkginstalllocal));
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(mpkgu = newmenuitem("Update packages from CRAN", 0, 
			       menupkgupdate));
#ifdef USE_MDI
    newmdimenu();
#endif
    MCHECK(m = newmenu("Help"));
    MCHECK(newmenuitem("Console", 0, menuconsolehelp));
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(mFAQ = newmenuitem("FAQ on R", 0, menuFAQ));
    if (!check_doc_file("doc/html/faq.html")) disable(mFAQ);
    MCHECK(mrwFAQ = newmenuitem("FAQ on R for &Windows", 0,
menurwFAQ));
    if (!check_doc_file("doc/html/rw-faq.html")) disable(mrwFAQ);
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(mhelp = newmenuitem("R language (standard)...", 0,
menuhelp));
    MCHECK(mhelpstart = newmenuitem("R language (&html)", 0,
menuhelpstart));
    if (!check_doc_file("doc/html/rwin.html")) disable(mhelpstart);
    MCHECK(mman = newsubmenu(m, "Manuals"));
    MCHECK(mmanintro = newmenuitem("An &Introduction to R", 0,
menumainman));
    lmanintro = check_doc_file("doc/manual/R-intro.pdf");
    if (!lmanintro) disable(mmanintro);
    MCHECK(mmanref = newmenuitem("R &Reference Manual", 0,
menumainref));
    lmanref = check_doc_file("doc/manual/refman.pdf");
    if (!lmanref) disable(mmanref);
    MCHECK(mmandata = newmenuitem("R Data Import/Export", 0,
menumaindata));
    lmandata = check_doc_file("doc/manual/R-data.pdf");
    if (!lmandata) disable(mmandata);
    MCHECK(mmanlang = newmenuitem("R Language Manual", 0,
menumainlang));
    lmanlang = check_doc_file("doc/manual/R-lang.pdf");
    if (!lmanlang) disable(mmanlang);
    MCHECK(mmanext = newmenuitem("Writing R Extensions", 0,
menumainext));
    lmanext = check_doc_file("doc/manual/R-exts.pdf");
    if (!lmanext) disable(mmanext);
    if (!lmanintro && !lmanref && !lmanlang && !lmanext)
disable(mman);
    addto(m);

    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(mapropos = newmenuitem("Apropos...", 0, menuapropos));
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(newmenuitem("About", 0, menuabout));


The Graphics window menu items should be similarly edited:

 File
	Save as
		Metafile...
		Postscript...
		PDF...
		Png...
		Bmp...
		Jpeg
			50% quality...
			75% quality...
			100% quality...
	Copy to the clipboard
		as a Bitmap
		as a Metafile
	Print...
	close Device
 History
	Recording
	Add
	Replace
	Previous
	Next
	Save to variable...
	Get from variable...
	Clear History
 Resize
	R mode
	Fit to window
	Fixed size

And the popup:
	Copy as metafile
	Copy as bitmap
	Save as metafile...
	Save as postscript...
	Print...

These are in devga.c; here are the changes above:	
	
    MCHECK(m = newmenu("File"));
    MCHECK(xd->msubsave = newsubmenu(m, "Save as"));
    MCHECK(xd->mwm = newmenuitem("Metafile...", 0, menuwm));
    MCHECK(xd->mps = newmenuitem("Postscript...", 0, menups));
    MCHECK(xd->mpdf = newmenuitem("PDF...", 0, menupdf));
    MCHECK(xd->mpng = newmenuitem("Png...", 0, menufilebitmap));
    MCHECK(xd->mbmp = newmenuitem("Bmp...", 0, menufilebitmap));
    MCHECK(newsubmenu(xd->msubsave,"Jpeg"));
    MCHECK(xd->mjpeg50 = newmenuitem("50% quality...", 0,
menufilebitmap));
    MCHECK(xd->mjpeg75 = newmenuitem("75% quality...", 0,
menufilebitmap));
    MCHECK(xd->mjpeg100 = newmenuitem("100% quality...", 0,
menufilebitmap));
    MCHECK(newsubmenu(m, "Copy to the clipboard"));
    MCHECK(xd->mclpbm = newmenuitem("as a Bitmap\tCTRL+C", 0,
menuclpbm));
    MCHECK(xd->mclpwm = newmenuitem("as a Metafile\tCTRL+W", 0,
menuclpwm));
    addto(m);
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(xd->mprint = newmenuitem("Print...\tCTRL+P", 0,
menuprint));
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(xd->mclose = newmenuitem("close Device", 0, menuclose));
#ifdef PLOTHISTORY
    MCHECK(newmenu("History"));
    MCHECK(xd->mrec = newmenuitem("Recording", 0, menurec));
    if(recording) check(xd->mrec);
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(xd->madd = newmenuitem("Add\tINS", 0, menuadd));
    MCHECK(xd->mreplace = newmenuitem("Replace", 0, menureplace));
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(xd->mprev = newmenuitem("Previous\tPgUp", 0, menuprev));
    MCHECK(xd->mnext = newmenuitem("Next\tPgDown", 0, menunext));
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(xd->msvar = newmenuitem("Save to variable...", 0,
menusvar));
    MCHECK(xd->mgvar = newmenuitem("Get from variable...", 0,
menugvar));
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(xd->mclear = newmenuitem("Clear history", 0, menuclear));
#endif
    MCHECK(newmenu("Resize"));
    MCHECK(xd->mR = newmenuitem("R mode", 0, menuR));
    if(resize == 1) check(xd->mR);
    MCHECK(xd->mfit = newmenuitem("Fit to window", 0, menufit));
    if(resize == 2) check(xd->mfit);
    MCHECK(xd->mfix = newmenuitem("Fixed size", 0, menufix));
    if(resize == 3) check(xd->mfix);
    newmdimenu();

    /* Normal popup */
    MCHECK(xd->grpopup = newpopup(NULL));
    MCHECK(m = newmenuitem("Copy as metafile", 0, menuclpwm));
    setdata(m, (void *) dd);
    MCHECK(m = newmenuitem("Copy as bitmap", 0, menuclpbm));
    setdata(m, (void *) dd);
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(m = newmenuitem("Save as metafile...", 0, menuwm));
    setdata(m, (void *) dd);
    MCHECK(m = newmenuitem("Save as postscript...", 0, menups));
    setdata(m, (void *) dd);
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(m = newmenuitem("Print...", 0, menuprint));
    setdata(m, (void *) dd);
    gchangepopup(xd->gawin, xd->grpopup);


In the help pager:

 File
	Print...
	Save to File...
	Close
 Edit
	Copy
	Paste to console
	Select all

with source from pager.c:
	
    MCHECK(newmenu("File"));
    MCHECK(m = newmenuitem("Print...", 0, pagerprint));
    setdata(m, c);
    MCHECK(m = newmenuitem("Save to File...", 0, pagersavefile));
    setdata(m, c);
    MCHECK(m = newmenuitem("-", 0, NULL));
    MCHECK(m = newmenuitem("Close", 0, pagerclose));
    setdata(m, c);
    MCHECK(newmenu("Edit"));
    MCHECK(p->mcopy = newmenuitem("Copy", 'C', pagercopy));
    setdata(p->mcopy, c);
    MCHECK(p->mpaste = newmenuitem("Paste to console", 'V',
pagerpaste));
    setdata(p->mpaste, c);
    MCHECK(m = newmenuitem("Select all", 0, pagerselectall));



The data entry editor also has a menu, but I don't see any problems
there.  
I think those are all the menus!

One other comment about the menus:

There should be an Edit menu entry to invoke the data.editor.  I
didn't even know the data editor existed, until I went searching for
menus.

Duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Thu Dec  6 15:24:19 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Thu, 6 Dec 2001 16:24:19 +0100
Subject: [Rd] Re: [R] trouble with R CMD INSTALL for building my own library
In-Reply-To: <3C0F8CC0.50304@keittlab.bio.sunysb.edu>
References: <FC0B9DA2600ED4118F76009027AA5DDD02B27B30@ALEX2>
 <3C0F8CC0.50304@keittlab.bio.sunysb.edu>
Message-ID: <15375.36259.407587.232406@mithrandir.hornik.net>

>>>>> Timothy H Keitt writes:

> Yup. that was it. I looked at the INSTALL code and it checks for a
> 'man' directory to determine whether or not its a binary
> package. Perhaps the make process could put a '.binary' file in the
> package root and the INSTALL code could check for that instead?

[Thought you were on r-devel?]

I think we can check whether DESCRIPTION has a 'Built' entry.

Will get to this later today, hopefully.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Thu Dec  6 15:25:52 2001
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Thu, 06 Dec 2001 10:25:52 -0500
Subject: [Rd] Windows testing
In-Reply-To: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>
References: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>
Message-ID: <ao2v0ukhb3a2grb3irqhqsagkdq7k34n9j@4ax.com>

Some bugs in graphics windows.  I'm using a new build based on today's
r-devel.  In all cases, I started a new copy of Rgui, and ran 

 plot(1,1)

then started playing with the menus on the graphics window.

1.  The "copy as metafile" popup doesn't work.  It gives an error
message on the console, and leaves R in an unstable state.

Here's the error:

Error: axis style "
> > 

2.  Selecting "Resize|fit to window" crashes the window if you shrink
it so small that there is no space for the graph, just space for the
margins. There should be some limit to how small you're allowed to
shrink the window.

3.  Selecting "Resize|fixed size" allows you to move the view of the
graph around if you've got a smaller window than the graph.  But if
you 
  - shrink the height of the window
  - scroll to the bottom of the graph
  - grow the window back to its original size
you end up still only able to see the bottom part of the graph.  The
graph should automatically scroll back down, so as much as possible of
it is visible.

4.  Not reproducible, but while experimenting with 3, it appeared
sometimes "mouse up" events were being missed, so you'd still be
resizing the window after you'd let go of the corner of it.

5.  And a suggestion for some future release:  using a double-buffered
display would make resizing less "flashy".

Duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Thu Dec  6 16:40:45 2001
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Thu, 6 Dec 2001 08:40:45 -0800 (PST)
Subject: [Rd] Windows testing
In-Reply-To: <ao2v0ukhb3a2grb3irqhqsagkdq7k34n9j@4ax.com>
Message-ID: <Pine.A41.4.33.0112060838360.47158-100000@homer31.u.washington.edu>

On Thu, 6 Dec 2001, Duncan Murdoch wrote:
>
> 4.  Not reproducible, but while experimenting with 3, it appeared
> sometimes "mouse up" events were being missed, so you'd still be
> resizing the window after you'd let go of the corner of it.
>

I've had this occasionally with 1.3.0 (or possibly 1.3.1 -- I'm not at the
right computer today) under Win2k.

I've also had it happen with XEmacs scrollbars on the same machine, but I
don't know if that indicates an OS issue.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Dec  6 17:08:16 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 6 Dec 2001 17:08:16 +0000 (GMT)
Subject: [Rd] Windows testing
In-Reply-To: <Pine.A41.4.33.0112060838360.47158-100000@homer31.u.washington.edu>
Message-ID: <Pine.LNX.4.31.0112061706420.14268-100000@gannet.stats>

On Thu, 6 Dec 2001, Thomas Lumley wrote:

> On Thu, 6 Dec 2001, Duncan Murdoch wrote:
> >
> > 4.  Not reproducible, but while experimenting with 3, it appeared
> > sometimes "mouse up" events were being missed, so you'd still be
> > resizing the window after you'd let go of the corner of it.
> >
>
> I've had this occasionally with 1.3.0 (or possibly 1.3.1 -- I'm not at the
> right computer today) under Win2k.
>
> I've also had it happen with XEmacs scrollbars on the same machine, but I
> don't know if that indicates an OS issue.

Basically, yes, it's an OS events queue issue.  R is by no means alone in
doing this.

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Fri Dec  7 02:44:24 2001
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Thu, 06 Dec 2001 21:44:24 -0500
Subject: [Rd] Doc bug:  segments contains arrows args
Message-ID: <qta01u88bj7p4s55j1sg81qpc203sft6o8@4ax.com>

The help page for ?segments contains descriptions of parameters
"length" and "angle", presumably leftovers from when ?arrows and
?segments were the same topic.

Deleting these lines:

  \item{length}{length of the edges of the arrow head (in inches).}
  \item{angle}{angle from the shaft of the arrow to the edge of the
    arrow head.}

from segments.Rd will fix it.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Fri Dec  7 03:23:57 2001
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 06 Dec 2001 22:23:57 -0500
Subject: [Rd] cancor rownames bug
Message-ID: <3C10364D.C9F83B68@bank-banque-canada.ca>

R : Copyright 2001, The R Development Core Team
Version 1.4.0 Under development (unstable) (2001-12-05)
...
> library("mva")
> cancor(matrix(rnorm(100),100,1), matrix(rnorm(300),100,3))
Error in "rownames<-"(*tmp*, value = colnames(x)) : 
        dimnames applied to non-array
> 

I think either La.svd or backsolve needs a drop=F somewhere.

Paul Gilbert
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pd@pubhealth.ku.dk  Fri Dec  7 06:15:03 2001
From: pd@pubhealth.ku.dk (Peter Dalgaard BSA)
Date: Fri, 7 Dec 2001 07:15:03 +0100
Subject: [Rd] Bug list summary (automatic post)
Message-ID: <200112070615.fB76F3Z26900@blueberry.kubism.ku.dk>

=================================================
This is an automated summary of the status of the R-bugs
repository.

Note that this may be neither complete nor perfectly
correct at any given instance: Not all bugs are reported,
and some reported bugs may have been fixed, but the
repository not yet updated.

Some bug fixes are difficult to verify because they pertain
to specific hardware or operating system versions. If you
have information to contribute, please do so.

If you happen to know how to fix a problem please send
patches to the bug repository, too.

New bugs are reported either through the web
interface at r-bugs.r-project.org or via email to
r-bugs@r-project.org. The bug.report() function can be
used to automate parts of the procedure on many systems.
Followups on older bugs can be done by including the string
"(PR#999)" in the Subject of an email (change 999 to the
actual reference number, of course!).
=================================================

Directory:  Accuracy

none

Directory:  Add-ons

* PR# 974 *
Subject: Lattice: panel.superpose with ordered factor groups
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sat, 9 Jun 2001 11:08:51 +1000 (EST)
--The warning is standard S and R behaviour.
--Probably xyplot needs to avoid it (by unclassing?)
--Still there in lattice 0.3-0.
* PR# 1038 *
Subject: nlme: bug in getCovariateFormula
From: Setzer.Woodrow@epamail.epa.gov
Date: Tue, 31 Jul 2001 11:24:09 -0400
--change needed in package nlme
* PR# 1044 *
Subject: Polymarsall.c
From: pleu@hotmail.com
Date: Tue, 7 Aug 2001 22:42:07 +0200 (MET DST)
* PR# 1116 *
Subject: get.hist.quote does not work
From: arto.luoma@uta.fi
Date: Thu, 4 Oct 2001 14:45:29 +0200 (MET DST)
--Seems specific to one locale on one system.
--The bug is unlikely to be in R.
* PR# 1124 *
Subject: Wrong df in bartlett.test when subsetting data
From: jens.lund@nordea.com
Date: Wed, 10 Oct 2001 17:43:42 +0200 (MET DST)
* PR# 1178 *
Subject: segfault using svm from e1071
From: Jan Rychter <jan@rychter.com>
Date: Tue, 20 Nov 2001 23:38:17 +0100
* PR# 1181 *
Subject: predict.nnet
From: jcs20@po.cwru.edu
Date: Mon, 26 Nov 2001 22:00:13 +0100 (MET)

Directory:  Analyses

none

Directory:  Documentation

* PR# 988 *
Subject: input for R-intro
From: "Paul E. Johnson" <pauljohn@ku.edu>
Date: Mon, 18 Jun 2001 13:57:10 -0500
* PR# 1011 *
Subject: R-intro suggestions part II
From: "Paul E. Johnson" <pauljohn@ukans.edu>
Date: Tue, 03 Jul 2001 15:50:06 -0500
* PR# 1113 *
Subject: bug.report() & docs should mention r-devel
From: murdoch@stats.uwo.ca
Date: Thu, 4 Oct 2001 01:23:27 +0200 (MET DST)
* PR# 1132 *
Subject: Problem with "describe" lists.
From: Rolf Turner <rolf@localhost.localdomain>
Date: Thu, 18 Oct 2001 16:41:03 +0800
* PR# 1136 *
Subject: cex/col/etc. in title(): documentation?
From: Ben Bolker <ben@zoo.ufl.edu>
Date: Mon, 22 Oct 2001 11:55:14 -0400 (EDT)
--MM:actually the documentation still could elaborate a bit..

Directory:  Graphics

* PR# 202 *
Subject: persp box occlusion bug
From: wsi@gcal.ac.uk
Date: Wed, 2 Jun 1999 15:02:03 +0200 (MET DST)
--The persp algorithm does not apply the occlusion rules to the frame, 
--which is always plotted first. 
--A bug, but not very simple to fix.
* PR# 660 *
Subject: identify.default ignores any setting of cex.
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
Date: Fri, 15 Sep 2000 10:23:39 +0100 (BST)
* PR# 776 *
Subject: strwidth does not take font into account
From: Martyn Plummer <plummer@iarc.fr>
Date: Tue, 19 Dec 2000 14:56:01 +0100 (CET)
--This needs a substantial redesign.
* PR# 791 *
Subject:  par(lab= *) / axis(*) bug 
From: maechler@stat.math.ethz.ch
Date: Fri, 22 Dec 2000 10:59:26 +0100
* PR# 816 *
Subject: dotplot: character size of labels
From: RINNER Heinrich <H.RINNER@TIROL.GV.AT>
Date: Thu, 18 Jan 2001 14:54:32 +0100
--Suggested fix is incorporated in 1.2.2.
--
--There is a deeper problem:  mtext() ignores par(cex=.5) in general.  
--To see the problem try:  par(cex=.5); mtext("hi")
--Paul thinks the right fix is to change the argument list for mtext so that
--cex=par(cex) by default rather than cex=NA by default (plus corresponding
--internal changes to  do_mtext in plot.c).
--This needs to be done very carefully because (i) the change suggested above 
--mayhave side-effects in many other pieces of interpreted code 
--(ii) do_mtext ignores dd->gp.cexbase unlike, for example, do_plot_xy 
--and anything to do with cexbase needs extreme care.
* PR# 820 *
Subject: interaction.plot
From: "Mark M. Span" <span@psy.uva.nl>
Date: Mon, 22 Jan 2001 10:47:39 +0100
--mtext is unscaled by default.  It is not clear if this should
--use the par("cex") setting or an inline cex setting such as cex.axis.
--It might make more sense to use axis rather than mtext, as boxplot does.
* PR# 828 *
Subject: termplot fails for composite non-factor terms
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sat, 27 Jan 2001 11:57:37 +1100 (EST)
--Neither of the proposed changes actually works in sufficient generality.
--
--The easy and unimportant part of this, the labels, is fixed in 1.2.2. Getting
--the data right is a project for 1.3
* PR# 831 *
Subject: screen can't go back to (split) screen with log="y" plot
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 30 Jan 2001 00:39:41 -0500
--Still there. Suggested fix included in followups, but we didn't get around to
--try it in time for 1.2.3.
--
--Fix doesn't work. One problem is that the opar<-par();par(opar) idiom updates
--xaxp before xlog, and the new value of xaxp may only be valid under the new
--value of xlog.
* PR# 837 *
Subject: screen doesn't handle redrawing properly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 01 Feb 2001 14:20:52 -0500
* PR# 887 *
Subject: axis(adj=anything) has no effect
From: jhallman@frb.gov
Date: Wed, 28 Mar 2001 20:51:05 +0200 (MET DST)
* PR# 916 *
Subject:  par(mgp) bug 
From: paul@stat.auckland.ac.nz
Date: Fri, 20 Apr 2001 08:33:45 +1200 (NZST)
* PR# 940 *
Subject: GCircle(): fails for non-clippable devices under certain circumstances (see below)
From: "Thomas Hoffmann" <thoffman@zappa.sax.de>
Date: Tue, 15 May 01 23:34:17 +0100
* PR# 943 *
Subject: legend() with xpd=T; omission of initial plot character
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sun, 20 May 2001 10:35:16 +1000
* PR# 997 *
Subject:  las=1 with log axis 
From: Peter Dalgaard BSA <pd@pubhealth.ku.dk>
Date: Wed, 27 Jun 2001 11:54:06 +0200
* PR# 1045 *
Subject: Palette changes on redraw
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 08 Aug 2001 19:08:01 +0200
* PR# 1088 *
Subject:  barplot forces xpd=TRUE 
From: Peter Whiting <pwhiting@whitings.org>
Date: Sat, 8 Sep 2001 10:19:00 -0500
* PR# 1095 *
Subject:  Bizarre clipping with abline and points 
From: J.C.Rougier@durham.ac.uk
Date: Wed, 19 Sep 2001 14:45:52 +0100
* PR# 1101 *
Subject: ugly in plotmath: frac(1, sqrt(...))
From: Uwe Ligges <ligges@statistik.uni-dortmund.de>
Date: Thu, 27 Sep 2001 10:37:07 +0200
* PR# 1147 *
Subject: postscript problem
From: kjetil halvorsen <kjetilh@umsanet.edu.bo>
Date: Fri, 26 Oct 2001 15:23:45 -0400
--This seems to be a problem with screen/layout rather than postscript.
* PR# 1157 *
Subject: identify(...plot=F)
From: Rolf Turner <rolf@maths.uwa.edu.au>
Date: Fri, 2 Nov 2001 09:43:49 +0800 (WST)
* PR# 1161 *
Subject: x-axis label in persp()
From: Rolf Turner <rolf@maths.uwa.edu.au>
Date: Wed, 7 Nov 2001 18:07:22 +0800 (WST)
* PR# 1174 *
Subject: pdf() behavior
From: White.Denis@epamail.epa.gov
Date: Thu, 15 Nov 2001 10:18:21 -0800
--actually, a graphics bug.
--fixed for 1.4.0, but needs checking re the original intention

Directory:  In-Out

none

Directory:  Installation

* PR# 1034 *
Subject: Compiling R (1.3.0) on AIX (4.3) fails
From: "Thomas J Vogels" <tov@ece.cmu.edu>
Date: Sun, 29 Jul 2001 12:27:51 -0400

Directory:  Language

* PR# 408 *
Subject: convolution bug
From: wsimpson@gcal.ac.uk
Date: Fri, 28 Jan 2000 11:17:36 +0100 (MET)
* PR# 412 *
Subject: anomalies with call objects
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 06 Feb 2000 01:18:50 +0100
* PR# 669 *
Subject: Bug(s) w/ rbind.data.frame(); fix also read.table(*, as.is = TRUE) ?
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Mon, 25 Sep 2000 10:17:15 +0200
--status of AsIs columns
* PR# 921 *
Subject:  Managed to confuse match.arg 
From: J.C.Rougier@durham.ac.uk
Date: Wed, 25 Apr 2001 12:22:54 +0100 (BST)
* PR# 1052 *
Subject:  Inconsistent behaviour of is.vector? 
From: J.C.Rougier@durham.ac.uk
Date: Tue, 14 Aug 2001 09:04:57 +0100
* PR# 1073 *
Subject: Wierd problem comparing numeric values and list using ==
From: "Warnes, Gregory R" <gregory_r_warnes@groton.pfizer.com>
Date: Fri, 24 Aug 2001 22:07:41 -0400
--see also PR#1075
* PR# 1076 *
Subject: Re: [Rd] Wierd problem comparing numeric values and list using == 
From: John Chambers <jmc@research.bell-labs.com>
Date: Mon, 27 Aug 2001 08:44:22 -0400
--part of PR#1073

Directory:  Low-level

* PR# 989 *
Subject: "[.data.frame" allows un-named 3rd subscript
From: "Charles C. Berry" <cberry@tajo.ucsd.edu>
Date: Mon, 18 Jun 2001 13:13:46 -0700 (PDT)
* PR# 1063 *
Subject: interrupting Sys.sleep
From: Thomas Lumley <tlumley@u.washington.edu>
Date: Mon, 20 Aug 2001 13:55:29 -0700 (PDT)
* PR# 1068 *
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
From: Luke Tierney <luke@nokomis.stat.umn.edu>
Date: Wed, 22 Aug 2001 19:32:51 -0500
--see also followup in PR#1069
* PR# 1069 *
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
From: "John W. Eaton" <jwe@bevo.che.wisc.edu>
Date: Wed, 22 Aug 2001 21:56:33 -0500
--part of PR#1068
* PR# 1120 *
Subject: bug in write.table?
From: Ott Toomet <siim@obs.ee>
Date: Sun, 7 Oct 2001 18:24:34 +0200 (CEST)
--Traced down to an effect of read.dta in foreign interacting with do_paste. Fixed
--in foreign, but do_paste may need to use strlen() rather than LENGTH().
--

Directory:  Macintosh

none

Directory:  Misc

* PR# 1126 *
Subject: R-bug report www page whishlist
From: jens.lund@nordea.com
Date: Wed, 10 Oct 2001 18:24:29 +0200 (MET DST)
* PR# 1158 *
Subject: bug.report()sends empty message
From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
Date: Mon, 05 Nov 2001 10:05:27 -0500

Directory:  Models

none

Directory:  Startup

none

Directory:  System-specific

* PR# 848 *
Subject: X11 device doesn't handle destroy events correcly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 13 Feb 2001 17:40:46 -0500
* PR# 1002 *
Subject: core dump running modreg-Ex.R
From: WhiteG@dfo-mpo.gc.ca
Date: Thu, 28 Jun 2001 19:14:18 +0200 (MET DST)
--Only reported on SGI, solved by removing optimization.
--Needs debugging there.
* PR# 1020 *
Subject: .Call and Mandrake 8.0
From: lcottret@yahoo.fr
Date: Wed, 11 Jul 2001 15:34:23 +0200 (MET DST)
--problem with symbol names only on Mandrake 8.0, not 7.2
--needs reply to follow-up
* PR# 1026 *
Subject: make check failure on SGI-IRIX6.5
From: laurent@cbs.dtu.dk
Date: Mon, 16 Jul 2001 15:06:17 +0200 (MET DST)
* PR# 1057 *
Subject: crt1.o skipped at configure time ?
From: laurent@cbs.dtu.dk
Date: Thu, 16 Aug 2001 08:52:34 +0200 (MET DST)
* PR# 1084 *
Subject: Install problems R 1.3.1 on HP-UX
From: Peter Kleiweg <kleiweg@let.rug.nl>
Date: Sun, 2 Sep 2001 15:07:41 +0200 (CEST)
* PR# 1097 *
Subject: R 1.3.1 fails 'make check' on arm in the Bessel example
From: Dirk Eddelbuettel <edd@debian.org>
Date: Thu, 20 Sep 2001 23:54:19 -0500
* PR# 1106 *
Subject: What is an error bu21?
From: Patrick Lindsey <patrick.lindsey@luc.ac.be>
Date: Mon, 1 Oct 2001 15:43:36 +0200 (MET DST)
--Looks like an SGI make bug
* PR# 1140 *
Subject: Possible bug, Rprof() and scan(pipe())
From: Don MacQueen <macq@llnl.gov>
Date: Tue, 23 Oct 2001 13:50:26 -0700
--Doesn't happen on Solaris or Linux
* PR# 1145 *
Subject: Problem testing R version 1.3.1 on SGI Irix
From: Gordon Lack <gml4410@ggr.co.uk>
Date: Fri, 26 Oct 2001 19:04:04 +0100

Directory:  TooMuchAtOnce

* PR# 1110 *
Subject: Several R vs S-Plus issues
From: David Brahm  <a215020@agate.fmr.com>
Date: Wed, 3 Oct 2001 11:35:58 -0400 (EDT)
--1. is perhaps a bug -- the best handling of string NAs is under discussion
--
--2 & 4 are just S-PLUS incompatibilities
--
--3. May be a bug -- worth checking.

Directory:  Windows

none

Directory:  incoming

* PR# 1184 *
Subject: ltsreg warnings
From: charlie@stat.umn.edu
Date: Thu, 29 Nov 2001 17:02:33 +0100 (MET)
* PR# 1186 *
Subject: a patch to tapply
From: Vadim Ogranovich <vograno@arbitrade.com>
Date: Thu, 29 Nov 2001 14:48:35 -0600
* PR# 1193 *
Subject: Re: [R] appending similar data frames?
From: Thomas Lumley <tlumley@u.washington.edu>
Date: Mon, 3 Dec 2001 13:46:35 -0800 (PST)
* PR# 1194 *
Subject: factorial() not here
From: Rich Heiberger <rmh@surfer.sbm.temple.edu>
Date: Tue, 4 Dec 2001 11:29:01 -0500 (EST)
* PR# 1195 *
Subject: help(dbinom) recommended documentation improvement
From: Rich Heiberger <rmh@surfer.sbm.temple.edu>
Date: Tue, 4 Dec 2001 11:29:58 -0500 (EST)
* PR# 1196 *
Subject: Re:
From: "(null)" <_bravington@ukonline.co.uk>
Date: Tue,  4 Dec 2001 19:51:00 +0000 (GMT)
* PR# 1197 *
Subject: Re: Er du opptatt i kveld
From: e_postus@yahoo.com
Date: Wed, 05 Dec 2001 22:08:50 -0600
* PR# 1198 *
Subject: glm() documentation, two things
From: david.firth@nuffield.ox.ac.uk
Date: Thu, 6 Dec 2001 11:56:57 +0100 (MET)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Dec  7 06:38:39 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 7 Dec 2001 06:38:39 +0000 (GMT)
Subject: [Rd] cancor rownames bug
In-Reply-To: <3C10364D.C9F83B68@bank-banque-canada.ca>
Message-ID: <Pine.GSO.4.31.0112070638000.4068-100000@auk.stats>

On Thu, 6 Dec 2001, Paul Gilbert wrote:

> R : Copyright 2001, The R Development Core Team
> Version 1.4.0 Under development (unstable) (2001-12-05)
> ...
> > library("mva")
> > cancor(matrix(rnorm(100),100,1), matrix(rnorm(300),100,3))
> Error in "rownames<-"(*tmp*, value = colnames(x)) :
>         dimnames applied to non-array
> >
>
> I think either La.svd or backsolve needs a drop=F somewhere.

Indeed one branch in La.svd does.  Thanks, fixed now.


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Dec  7 08:34:09 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 7 Dec 2001 08:34:09 +0000 (GMT)
Subject: [Rd] Doc bug:  segments contains arrows args
In-Reply-To: <qta01u88bj7p4s55j1sg81qpc203sft6o8@4ax.com>
Message-ID: <Pine.LNX.4.31.0112070833220.18173-100000@gannet.stats>

Done, thank you.

On Thu, 6 Dec 2001, Duncan Murdoch wrote:

> The help page for ?segments contains descriptions of parameters
> "length" and "angle", presumably leftovers from when ?arrows and
> ?segments were the same topic.
>
> Deleting these lines:
>
>   \item{length}{length of the edges of the arrow head (in inches).}
>   \item{angle}{angle from the shaft of the arrow to the edge of the
>     arrow head.}
>
> from segments.Rd will fix it.
>
> Duncan Murdoch
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas.baumann@ch.tum.de  Fri Dec  7 10:06:28 2001
From: thomas.baumann@ch.tum.de (thomas.baumann@ch.tum.de)
Date: Fri, 7 Dec 2001 11:06:28 +0100 (MET)
Subject: [Rd] pixmap: infinite recursion with nonascii pnm-files (PR#1199)
Message-ID: <200112071006.LAA05432@pubhealth.ku.dk>

Problem:

read.pnm from pixmap_0.2-1.tar.gz stops with an infinite recursion if a
"#" occurs within the raw (binary) data of a pnm-file.


The reason for this behaviour seems to be the handling of comments in
read.pnmhead. The recursive call of strip.comments requires a newline to
complete sucessfully. A work-around would be

diff -r pixmap/R/pnm.R pixmap.orig/R/pnm.R
112c112
<       com1 <- as.integer(regexpr("#.*\n", inpstr))
---
>       com1 <- as.integer(regexpr("#", inpstr))

i.e. to check if the comment sign is actually followed by a newline.

However, if this sequence (#.*\n) would occur within the data and within
the first 350 bytes of the pnm-file the data would be stripped as well.

Furthermore, comments within the data of ascii files after byte 350 are
not handled correctly and lead to an error. Although this seems to be a
rare case, it might occur and it is allowed by the pnm-file
specification.

Thomas

--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = 
 major = 1
 minor = 3.1
 year = 2001
 month = 08
 day = 31
 language = R

Search Path:
 .GlobalEnv, package:pixmap, package:ctest, Autoloads, package:base



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Fri Dec  7 11:02:33 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Fri, 7 Dec 2001 12:02:33 +0100
Subject: [Rd] R Bug Report PR#1020
Message-ID: <15376.41417.978442.908345@mithrandir.hornik.net>

We still have PR#1020 (.Call and Mandrake 8.0) by lcottret@yahoo.fr.
Is this still a problem with r-devel?  Does it go away by using Mandrake
8.1 instead?
-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Fri Dec  7 11:08:47 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Fri, 07 Dec 2001 12:08:47 +0100
Subject: [Rd] compiling in windows
References: <Pine.LNX.4.31.0112070833220.18173-100000@gannet.stats>
Message-ID: <3C10A33F.C6799C66@univie.ac.at>

i downloaded todays r-devel tarball
and tried to make it.

i have the complete toolkit,
i can compile R-1.3.1

when i tried today, this is what i got

gcc  -s -mwindows -o Rgui.exe graphappmain.o rgui.o rgico.o ../R.dll
graphappmain.o(.text+0x121):graphappmain.c: undefined reference 
to `_imp__R_reserved_size'
rgui.o(.text+0x63):rgui.c: undefined reference to `_imp__CharacterMode'
make[1]: *** [Rgui.exe] Error 1
make[1]: Leaving directory
`/cygdrive/d/Work/R-devel/src/gnuwin32/front-ends'
make: *** [front-ends] Error 2


additionally,
in src/gnuwin32/INSTALL there is a note about
rw1040\unzip
this directory does not exist in tar snapshot


and src/gnuwin32/readme

has unsunbstituted references for @RWVER@

@RWVER@b.zip				the base system
@RWVER@h.zip				text help
@RWVER@ch.zip				compiled HTML help
@RWVER@w.zip				HTML help files
@RWVER@l.zip				latex help files for offline help
@RWVER@m.zip				installed .Rd files
@RWVER@d1.zip				PDF manuals except
@RWVER@d2.zip				  PDF version of the reference manual
@RWVER@sp.zip				files to build packages from source


i do now know id these should be resolved or not.




Prof Brian Ripley wrote:
> 
> Done, thank you.
> 
> On Thu, 6 Dec 2001, Duncan Murdoch wrote:
> 
> > The help page for ?segments contains descriptions of parameters
> > "length" and "angle", presumably leftovers from when ?arrows and
> > ?segments were the same topic.
> >
> > Deleting these lines:
> >
> >   \item{length}{length of the edges of the arrow head (in inches).}
> >   \item{angle}{angle from the shaft of the arrow to the edge of the
> >     arrow head.}
> >
> > from segments.Rd will fix it.
> >
> > Duncan Murdoch
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> --
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Dec  7 11:40:43 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 7 Dec 2001 11:40:43 +0000 (GMT)
Subject: [Rd] compiling in windows
In-Reply-To: <3C10A33F.C6799C66@univie.ac.at>
Message-ID: <Pine.LNX.4.31.0112071132070.18476-100000@gannet.stats>

On Fri, 7 Dec 2001, Erich Neuwirth wrote:

> i downloaded todays r-devel tarball
> and tried to make it.
>
> i have the complete toolkit,
> i can compile R-1.3.1

*BUT* it is not the same toolkit.  Do read CHANGES.

> when i tried today, this is what i got
>
> gcc  -s -mwindows -o Rgui.exe graphappmain.o rgui.o rgico.o ../R.dll
> graphappmain.o(.text+0x121):graphappmain.c: undefined reference
> to `_imp__R_reserved_size'
> rgui.o(.text+0x63):rgui.c: undefined reference to `_imp__CharacterMode'
> make[1]: *** [Rgui.exe] Error 1
> make[1]: Leaving directory
> `/cygdrive/d/Work/R-devel/src/gnuwin32/front-ends'
> make: *** [front-ends] Error 2

You don't have the recommended compiler, then.

> additionally,
> in src/gnuwin32/INSTALL there is a note about
> rw1040\unzip
> this directory does not exist in tar snapshot

Correct!  Try following the instructions and see what happens.

> and src/gnuwin32/readme
>
> has unsunbstituted references for @RWVER@
>
> @RWVER@b.zip				the base system
> @RWVER@h.zip				text help
> @RWVER@ch.zip				compiled HTML help
> @RWVER@w.zip				HTML help files
> @RWVER@l.zip				latex help files for offline help
> @RWVER@m.zip				installed .Rd files
> @RWVER@d1.zip				PDF manuals except
> @RWVER@d2.zip				  PDF version of the reference manual
> @RWVER@sp.zip				files to build packages from source
>
>
> i do now know id these should be resolved or not.

The tarball is correct. Did you read through the Makefile to see what
happens?

I really wouldn't advise building from R-devel tarballs at present unless
you really know what you are doing (in which case get the sources by
rsync): a lot of issues are still being resolved, especially on Windows.


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From mikalzet@libero.it  Fri Dec  7 11:44:09 2001
From: mikalzet@libero.it (mikalzet@libero.it)
Date: Fri, 7 Dec 2001 12:44:09 +0100 (MET)
Subject: [Rd] bug PR#1020
Message-ID: <200112071144.MAA07120@pubhealth.ku.dk>


Found it on the site.
I tried duncan's suggestion.

#include "Rinternals.h"

SEXP
simpleCall()
{
  static int count = 0;
  SEXP ans;

  PROTECT(ans = allocVector(INTSXP, 1));
  INTEGER(ans)[0] = count++;

  UNPROTECT(1);
  return(ans);
}


If I had read this before I could have checked on mandrake 8.0

Here is my output on mandrake 8.1:

> dyn.load("simpleCall.so")
> for(i in 1:10) { print(.Call("simpleCall")) }

[1] 0
[1] 1
[1] 2
[1] 3
[1] 4
[1] 5
[1] 6
[1] 7
[1] 8
[1] 9

for(i in 1:10) { print(.Call("simpleCall")) }

[1] 10
[1] 11
[1] 12
[1] 13
[1] 14
[1] 15
[1] 16
[1] 17
[1] 18
[1] 19

> for(i in 1:10) { print(.Call("simpleCall")) }

[1] 20
[1] 21
[1] 22
[1] 23
[1] 24
[1] 25
[1] 26
[1] 27
[1] 28
[1] 29

Seems ok ?

-- 
Michele Alzetta


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Fri Dec  7 18:46:09 2001
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Fri, 07 Dec 2001 13:46:09 -0500
Subject: (fwd) Re: [Rd] Windows testing
Message-ID: <m3321usakrec1gaqds9ps560vd17f941gu@4ax.com>

On Thu, 06 Dec 2001 10:25:52 -0500, Duncan Murdoch
<murdoch@stats.uwo.ca> wrote:

>2.  Selecting "Resize|fit to window" crashes the window if you shrink
>it so small that there is no space for the graph, just space for the
>margins. There should be some limit to how small you're allowed to
>shrink the window.

I've tried this with today's build, and I get the same result on a
Win98 machine, no crash on a Win95 machine.  (There are lots of other
differences between the machines too, I haven't explored whether they
are significant. The only difference I know of in R-devel is that on
the Win95 machine I compiled with DEBUG=T.)

When I say crash, I don't mean a popup error box or anything, just
that the graphics window locks up.  It doesn't allow you to make it
bigger again.  It turns out that after you switch to a different task
and back to R, it wakes up again.

Just noticed it's causing internal Windows problems:  my mouse seems
to not be able to go to the taskbar at the bottom of the screen while
the graphics window is locked.

Duncan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Fri Dec  7 18:56:06 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Fri, 07 Dec 2001 19:56:06 +0100
Subject: [Rd] question
References: <Pine.LNX.4.31.0112071132070.18476-100000@gannet.stats>
Message-ID: <3C1110C6.F55706D9@univie.ac.at>

in r 1.3.1,
i read in data into a dataframe and (erroneously) forgot to convert text
into numbers.

the frame was called olddata
then i could to the following calculation:

vp95<-olddata["vp95"]/olddata["wb95"]

"vp95" and "wb95" are column names.

in r 1.4.0, this does not work any more.
i have to do

vp95<-as.real(olddata[,"vp95"])/as.real(olddata[,"wb95"])

is this intended behavior now?



--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Fri Dec  7 22:31:52 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 Dec 2001 23:31:52 +0100
Subject: [Rd] question
In-Reply-To: <3C1110C6.F55706D9@univie.ac.at>
References: <Pine.LNX.4.31.0112071132070.18476-100000@gannet.stats>
 <3C1110C6.F55706D9@univie.ac.at>
Message-ID: <x2vgfisluv.fsf@blueberry.kubism.ku.dk>

Erich Neuwirth <erich.neuwirth@univie.ac.at> writes:

> in r 1.3.1,
> i read in data into a dataframe and (erroneously) forgot to convert text
> into numbers.
> 
> the frame was called olddata
> then i could to the following calculation:
> 
> vp95<-olddata["vp95"]/olddata["wb95"]
> 
> "vp95" and "wb95" are column names.
> 
> in r 1.4.0, this does not work any more.
> i have to do
> 
> vp95<-as.real(olddata[,"vp95"])/as.real(olddata[,"wb95"])
> 
> is this intended behavior now?

Eh? Could you give an example of how to create such a data frame? The
things I can think up give the same in both versions?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gregory_r_warnes@groton.pfizer.com  Fri Dec  7 23:15:58 2001
From: gregory_r_warnes@groton.pfizer.com (Warnes, Gregory R)
Date: Fri, 7 Dec 2001 18:15:58 -0500
Subject: [Rd] question
Message-ID: <5429125E11E4D411AF7300805FE603A8014CF0AC@groexmbcr02.pfizer.com>


Isn't anything in a data frame that is not explicitly numeric a *factor*?  

-Greg

 >  -----Original Message-----
 >  From: Peter Dalgaard BSA [mailto:p.dalgaard@biostat.ku.dk]
 >  Sent: Friday, December 07, 2001 5:32 PM
 >  To: Erich Neuwirth
 >  Cc: r-devel@stat.math.ethz.ch
 >  Subject: Re: [Rd] question
 >  
 >  
 >  Erich Neuwirth <erich.neuwirth@univie.ac.at> writes:
 >  
 >  > in r 1.3.1,
 >  > i read in data into a dataframe and (erroneously) forgot 
 >  to convert text
 >  > into numbers.
 >  > 
 >  > the frame was called olddata
 >  > then i could to the following calculation:
 >  > 
 >  > vp95<-olddata["vp95"]/olddata["wb95"]
 >  > 
 >  > "vp95" and "wb95" are column names.
 >  > 
 >  > in r 1.4.0, this does not work any more.
 >  > i have to do
 >  > 
 >  > vp95<-as.real(olddata[,"vp95"])/as.real(olddata[,"wb95"])
 >  > 
 >  > is this intended behavior now?
 >  
 >  Eh? Could you give an example of how to create such a data 
 >  frame? The
 >  things I can think up give the same in both versions?
 >  
 >  -- 
 >     O__  ---- Peter Dalgaard             Blegdamsvej 3  
 >    c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 >   (*) \(*) -- University of Copenhagen   Denmark      Ph: 
 >  (+45) 35327918
 >  ~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: 
 >  (+45) 35327907
 >  -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
 >  -.-.-.-.-.-.-.-.-.-
 >  r-devel mailing list -- Read 
 >  http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
 >  Send "info", "help", or "[un]subscribe"
 >  (in the "body", not the subject !)  To: 
 >  r-devel-request@stat.math.ethz.ch
 >  _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
 >  _._._._._._._._._._
 >  


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gregory_r_warnes@groton.pfizer.com  Sat Dec  8 00:17:09 2001
From: gregory_r_warnes@groton.pfizer.com (Warnes, Gregory R)
Date: Fri, 7 Dec 2001 19:17:09 -0500
Subject: [Rd] lowess() as a generic function
Message-ID: <5429125E11E4D411AF7300805FE603A8014CF0AE@groexmbcr02.pfizer.com>


Hi All,

I've been providing a generic version of lowess()  in my 'gregmisc' library,
along with a 'lowess.formula' and 'lowess.default'.

Can/should these be moved into base?   

-Greg







LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sat Dec  8 08:02:48 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 8 Dec 2001 08:02:48 +0000 (GMT)
Subject: [Rd] lowess() as a generic function
In-Reply-To: <5429125E11E4D411AF7300805FE603A8014CF0AE@groexmbcr02.pfizer.com>
Message-ID: <Pine.LNX.4.31.0112080757500.2035-100000@gannet.stats>

On Fri, 7 Dec 2001, Warnes, Gregory R wrote:

> I've been providing a generic version of lowess()  in my 'gregmisc' library,
> along with a 'lowess.formula' and 'lowess.default'.
>
> Can/should these be moved into base?

Not during feature freeze for 1.4.0.

Folks, we have something like a 6-month release cycle (details on
developer.r-project.org) and it's amazing how often we get feature
requests just prior to a release.

I presume there are other methods needed: I thought lowess had to a
large extent been superseded by loess.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sat Dec  8 08:16:03 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 8 Dec 2001 08:16:03 +0000 (GMT)
Subject: [Rd] question
In-Reply-To: <5429125E11E4D411AF7300805FE603A8014CF0AC@groexmbcr02.pfizer.com>
Message-ID: <Pine.LNX.4.31.0112080808390.2035-100000@gannet.stats>

On Fri, 7 Dec 2001, Warnes, Gregory R wrote:

>
> Isn't anything in a data frame that is not explicitly numeric a *factor*?

No.  You can have columns of just about any type in a data frame,
including logical, complex, character, POSIXt, ....

In (pre-)1.4.0 read.table will generate these for you much more often (and
more easily).

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Sat Dec  8 09:19:43 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Sat, 08 Dec 2001 10:19:43 +0100
Subject: [Rd] question
References: <5429125E11E4D411AF7300805FE603A8014CF0AC@groexmbcr02.pfizer.com>
Message-ID: <3C11DB2F.C8F7BFC6@univie.ac.at>

here is the example

this is how i read my data

assign("oldfilename","d:\\documents\\wahl99\\nrw95testin.csv",envir=.GlobalEnv)
olddata<-read.csv(oldfilename,as.is=TRUE,sep=";",header=FALSE,
col.names=c("nr","name","wb95","abg95","glt95",
        "sp95","vp95","fp95","gr95","lif95"))


when i then compute
olddata["sp95"]/olddata["wb95"]

r 1.3.1 is ok,
and r 1.4.0 says

Error in FUN(left, right) : non-numeric argument to binary operator




--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sat Dec  8 10:18:34 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 8 Dec 2001 10:18:34 +0000 (GMT)
Subject: [Rd] question
In-Reply-To: <3C11DB2F.C8F7BFC6@univie.ac.at>
Message-ID: <Pine.LNX.4.31.0112081012530.5020-100000@gannet.stats>

On Sat, 8 Dec 2001, Erich Neuwirth wrote:

> here is the example
>
> this is how i read my data
>
> assign("oldfilename","d:\\documents\\wahl99\\nrw95testin.csv",envir=.GlobalEnv)
> olddata<-read.csv(oldfilename,as.is=TRUE,sep=";",header=FALSE,
> col.names=c("nr","name","wb95","abg95","glt95",
>         "sp95","vp95","fp95","gr95","lif95"))
>
>
> when i then compute
> olddata["sp95"]/olddata["wb95"]
>
> r 1.3.1 is ok,
> and r 1.4.0 says
>
> Error in FUN(left, right) : non-numeric argument to binary operator

Well, actually 1.3.1 was not behaving as documented:

   as.is: the default behavior of `read.table' is to convert
...
          numeric indices which specify which columns should be left as
          character strings.

and 1.4.0 is.  I'll revert the behaviour and correct the documentation.


The `as.is' argument has been superseded anyway by `colClasses'.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ritter@stat.ucl.ac.be  Sun Dec  9 11:10:08 2001
From: ritter@stat.ucl.ac.be (ritter@stat.ucl.ac.be)
Date: Sun, 9 Dec 2001 12:10:08 +0100 (MET)
Subject: [Rd] bug?/lack of feature in bxp (PR#1200)
Message-ID: <200112091110.MAA16704@pubhealth.ku.dk>

Full_Name: Christian Ritter
Version: 1.3.1
OS: win/nt
Submission from: (NULL) (130.104.139.32)


not a bug but lack of feature:

outlier symbol can't be changed in bxp

in bxp:

...
        points(rep(x, length(out)), out, col = border)
...

as you can see, no pty or pch argument is used. 



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ligges@statistik.uni-dortmund.de  Sun Dec  9 11:41:31 2001
From: ligges@statistik.uni-dortmund.de (ligges@statistik.uni-dortmund.de)
Date: Sun, 9 Dec 2001 12:41:31 +0100 (MET)
Subject: [Rd] bug?/lack of feature in bxp (PR#1200)
Message-ID: <200112091141.MAA16858@pubhealth.ku.dk>

ritter@stat.ucl.ac.be wrote:
> 
> Full_Name: Christian Ritter
> Version: 1.3.1
> OS: win/nt
> Submission from: (NULL) (130.104.139.32)
> 
> not a bug but lack of feature:
> 
> outlier symbol can't be changed in bxp
> 
> in bxp:
> 
> ...
>         points(rep(x, length(out)), out, col = border)
> ...
> 
> as you can see, no pty or pch argument is used.

It can easily be changed, if you make use of par() before calling bxp()
or boxplot:

 par(pch=2)
 boxplot(c(1:10, 100))

Uwe Ligges

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ligges@statistik.uni-dortmund.de  Sun Dec  9 11:46:57 2001
From: ligges@statistik.uni-dortmund.de (ligges@statistik.uni-dortmund.de)
Date: Sun, 9 Dec 2001 12:46:57 +0100 (MET)
Subject: [Rd] bug?/lack of feature in bxp (PR#1200)
Message-ID: <200112091146.MAA16890@pubhealth.ku.dk>

Uwe Ligges wrote:
> 
> ritter@stat.ucl.ac.be wrote:
> >
> > Full_Name: Christian Ritter
> > Version: 1.3.1
> > OS: win/nt
> > Submission from: (NULL) (130.104.139.32)
> >
> > not a bug but lack of feature:
> >
> > outlier symbol can't be changed in bxp
> >
> > in bxp:
> >
> > ...
> >         points(rep(x, length(out)), out, col = border)
> > ...
> >
> > as you can see, no pty or pch argument is used.
> 
> It can easily be changed, if you make use of par() before calling bxp()
> or boxplot:
> 
>  par(pch=2)
>  boxplot(c(1:10, 100))

... and the feature is already added in the development version of
R-1.4.0, where you can use:

 boxplot(c(1:10, 100), pars=list(pch=2))

Sorry, I was a little bit too fast.

Uwe Ligges

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From z.yang@ucl.ac.uk  Sun Dec  9 12:57:05 2001
From: z.yang@ucl.ac.uk (z.yang@ucl.ac.uk)
Date: Sun, 9 Dec 2001 13:57:05 +0100 (MET)
Subject: [Rd] error in qbeta (PR#1201)
Message-ID: <200112091257.NAA17087@pubhealth.ku.dk>

Full_Name: Ziheng Yang
Version: 1.3.1
OS: Windows 98
Submission from: (NULL) (172.136.54.89)


I noticed that qbeta is sometimes wrong and the error is not even due to the
beta parameters being too extreme.  I am calculating the quantiles corresponding
to cdf = 0.05, 0.15, ..., 0.95.  The value corresponding to cdf=0.25 is wrong
while all other values are correct.  

qbeta(0.05, 0.143891, 0.05) = 1.040850e-05   correct
qbeta(0.15, 0.143891, 0.05) = 0.021161       correct
qbeta(0.25, 0.143891, 0.05) = 3e-308         wrong (correct value is 0.457227)
qbeta(0.25, 0.143891, 0.05) = 0.945217       correct

I also used your source file qbeta.c to do the same calculation, and it seems
that something might be wrong in the "initial approximation", before the
newton-raphson iteration.  Also I notice that the 5/6 in the following line is
probably supposed to mean 5./6., although this does not seem to be the source of
the problem.

	w = y * sqrt(h + r) / h - (t - s) * (r + 5 / 6 - 2 / (3 * h));

Could you possibly let me know how to fix the problem.  I will appreciate any
help you might provide.  I am using the Windows version 1.3.1 (2001).

Best wishes,


Ziheng Yang
Professor of Statistical Genetics 
Department of Biology               
University College London           Phone: (+44) (0)20 7679 4379
Darwin Building                     Fax:   (+44) (0)20 7679 7096
Gower Street                        Email: z.yang@ucl.ac.uk
London WC1E 6BT
England
http://abacus.gene.ucl.ac.uk/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Sun Dec  9 15:35:19 2001
From: edd@debian.org (edd@debian.org)
Date: Sun, 9 Dec 2001 16:35:19 +0100 (MET)
Subject: [Rd] Bug#123084: r-base: R documentatio search engine unusable with Mozilla 6 (OK with netscape 4.7x) (PR#1202)
Message-ID: <200112091535.QAA17520@pubhealth.ku.dk>


As there is nothing Debian-specific in this bug report (and the .deb of the
JVW is not from Debian either), I am forwarding this to R-bugs. My
recollection from recent discussions on the R mailing list is that currently
/no/ browser other than Netscape supports the Java search engine -- is that
correct or was there some Netscape derivative (galeon?) which does?
Maybe the documentation should be enhanced in time for 1.4.0 to clarify this.

Cheers, Dirk
Debian maintainer for R

  From: Emmanuel Charpentier <charpent@bacbuc.dyndns.org>
  To: Debian Bug Tracking System <submit@bugs.debian.org>
  Subject: Bug#123084: r-base: R documentatio search engine unusable with Mozilla 6 (OK with netscape 4.7x)
  Date: Sun, 09 Dec 2001 16:04:49 +0100
  
  Package: r-base
  Version: 1.3.1-6
  Severity: normal
  
  The html-based doc system has problems with (the current builds of) Mozilla 6 :
  while the Java search engine does work in Netscape 4.77, it does *not* with
  Mozilla. The Netscape Java is, of course, 1.x, while Mozilla needs at least a
  j2re virtualm machine (I use the Blackdown's debian package of j2re1.3.1 and
  j2sdk :
  
  charpent@yod:~$ dpkg -l | grep j2
  ii  j2sdk1.3       1.3.1-1        Blackdown Java(TM) 2 SDK, Standard Edition
  charpent@yod:~$ 
  
  When I try to use the search engine (clicking the "Search engine" anchor on the
  root page of the R documentation), I get a JVM error dialog box stating :
  
  java.security.AccessControlException: access denied (java.io.FilePermission /home/charpent/.R/doc/html/search/SearchEngine.class read)
  	at java.security.AccessControlContext.checkPermission(AccessControlContext.java:272)
  	at java.security.AccessController.checkPermission(AccessController.java:399)
  	at java.lang.SecurityManager.checkPermission(SecurityManager.java:545)
  	at java.lang.SecurityManager.checkRead(SecurityManager.java:890)
  	at java.io.File.isDirectory(File.java:567)
  	at sun.net.www.protocol.file.FileURLConnection.connect(FileURLConnection.java:65)
  	at sun.net.www.protocol.file.FileURLConnection.initializeHeaders(FileURLConnection.java:82)
  	at sun.net.www.protocol.file.FileURLConnection.getContentLength(FileURLConnection.java:113)
  	at sun.applet.AppletClassLoader.getBytes(AppletClassLoader.java:223)
  	at sun.applet.AppletClassLoader.access$100(AppletClassLoader.java:41)
  	at sun.applet.AppletClassLoader$1.run(AppletClassLoader.java:137)
  	at java.security.AccessController.doPrivileged(Native Method)
  	at sun.applet.AppletClassLoader.findClass(AppletClassLoader.java:134)
  	at sun.plugin.security.PluginClassLoader.findClass(PluginClassLoader.java:252)
  	at java.lang.ClassLoader.loadClass(ClassLoader.java:297)
  	at sun.applet.AppletClassLoader.loadClass(AppletClassLoader.java:108)
  	at java.lang.ClassLoader.loadClass(ClassLoader.java:253)
  	at sun.applet.AppletClassLoader.loadCode(AppletClassLoader.java:373)
  	at sun.applet.AppletPanel.createApplet(AppletPanel.java:579)
  	at sun.plugin.AppletViewer.createApplet(AppletViewer.java:1178)
  	at sun.applet.AppletPanel.runLoader(AppletPanel.java:515)
  	at sun.applet.AppletPanel.run(AppletPanel.java:293)
  	at sun.plugin.navig.motif.MotifAppletViewer.maf_run(MotifAppletViewer.java:127)
  	at sun.plugin.navig.motif.MotifAppletViewer.run(MotifAppletViewer.java:123)
  	at java.lang.Thread.run(Thread.java:484)
  
  However :
  
  charpent@yod:~$ ls -l .R/doc/html/search/
  total 656
  lrwxrwxrwx    1 charpent charpent       43 Dec  9 15:14 IndexEntry.class -> /usr/lib/R/doc/html/search/IndexEntry.class
  lrwxrwxrwx    1 charpent charpent       44 Dec  9 15:14 IndexStream.class -> /usr/lib/R/doc/html/search/IndexStream.class
  lrwxrwxrwx    1 charpent charpent       43 Dec  9 15:14 IndexTable.class -> /usr/lib/R/doc/html/search/IndexTable.class
  lrwxrwxrwx    1 charpent charpent       49 Dec  9 15:14 SearchEngine-foot.html -> /usr/lib/R/doc/html/search/SearchEngine-foot.html
  lrwxrwxrwx    1 charpent charpent       49 Dec  9 15:14 SearchEngine-head.html -> /usr/lib/R/doc/html/search/SearchEngine-head.html
  lrwxrwxrwx    1 charpent charpent       45 Dec  9 15:14 SearchEngine.class -> /usr/lib/R/doc/html/search/SearchEngine.class
  lrwxrwxrwx    1 charpent charpent       44 Dec  9 15:14 SearchEngine.html -> /usr/lib/R/doc/html/search/SearchEngine.html
  lrwxrwxrwx    1 charpent charpent       44 Dec  9 15:14 SearchObject.html -> /usr/lib/R/doc/html/search/SearchObject.html
  lrwxrwxrwx    1 charpent charpent       39 Dec  9 15:14 Tracer.class -> /usr/lib/R/doc/html/search/Tracer.class
  lrwxrwxrwx    1 charpent charpent       38 Dec  9 15:14 Value.class -> /usr/lib/R/doc/html/search/Value.class
  -rw-r--r--    1 charpent charpent   663581 Dec  9 15:14 index.txt
  
  and, of course :
  
  charpent@yod:~$ ls -l /usr/lib/R/doc/html/search/
  total 184
  -rw-r--r--    1 root     root         1412 Dec  4 05:32 IndexEntry.class
  -rw-r--r--    1 root     root         3125 Dec  4 05:32 IndexStream.class
  -rw-r--r--    1 root     root          735 Dec  4 05:32 IndexTable.class
  -rw-r--r--    1 root     root          163 Dec  4 05:32 SearchEngine-foot.html
  -rw-r--r--    1 root     root         2239 Dec  4 05:32 SearchEngine-head.html
  -rw-r--r--    1 root     root         4715 Dec  4 05:32 SearchEngine.class
  -rw-r--r--    1 root     root         9650 Dec  4 05:32 SearchEngine.html
  -rw-r--r--    1 root     root         1087 Dec  4 05:32 SearchObject.html
  -rw-r--r--    1 root     root         1273 Dec  4 05:32 Tracer.class
  -rw-r--r--    1 root     root          675 Dec  4 05:32 Value.class
  -rw-r--r--    1 root     root       130263 Dec  4 05:32 index.txt
  charpent@yod:~$ 
  
  The very same installation works pperfectly with Netscape (I just have to lauch
  Netscape before invoking help.start(), which launches Mozilla by default).
  
  What am I missing ? Not much, as far as I can tell. Mozilla does not seem to
  have problems with Java (but I may be mistaken : I'm not much of a "surfer").
  
  Therefore, I suspect that the SearchEngine.class code is somewhat java-1.1x
  specific.
  
  -- System Information
  Debian Release: 3.0
  Architecture: i386
  Kernel: Linux yod 2.4.13 #2 Wed Oct 31 15:09:05 CET 2001 i686
  Locale: LANG=C, LC_CTYPE=
  
  Versions of packages r-base depends on:
  ii  atlas2-athlon [blas2]     3.2.1-12       Automatically Tuned Linear Algebra
  ii  atlas2-base [blas2]       3.2.1l-2       Automatically Tuned Linear Algebra
  ii  blas1 [blas2]             1.0-9          A set of building blocks for perfo
  ii  libc6                     2.2.4-7        GNU C Library: Shared libraries an
  ii  libjpeg62                 6b-4           The Independent JPEG Group's JPEG 
  ii  libncurses5               5.2.20010318-3 Shared libraries for terminal hand
  ii  libpng2                   1.0.12-2       PNG library - runtime
  ii  libreadline4              4.2a-2         GNU readline and history libraries
  ii  perl                      5.6.1-6        Larry Wall's Practical Extraction 
  ii  tcl8.3                    8.3.3-4        The Tool Command Language (TCL) v8
  ii  tk8.3                     8.3.3-6        The Tk toolkit for TCL and X11 v8.
  ii  xlibs                     4.1.0-10       X Window System client libraries
  ii  zlib-bin                  1:1.1.3-18     compression library - sample progr
  ii  zlib1g                    1:1.1.3-18     compression library - runtime
  
--please do not edit the information below--

Version:
 platform = i386-pc-linux-gnu
 arch = i386
 os = linux-gnu
 system = i386, linux-gnu
 status =
 major = 1
 minor = 3.1
 year = 2001
 month = 08
 day = 31
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base


-- 
Good judgment comes from experience; experience comes from bad judgment. 
							    -- F. Brooks

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sun Dec  9 16:29:49 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Dec 2001 17:29:49 +0100
Subject: [Rd] error in qbeta (PR#1201)
In-Reply-To: <200112091257.NAA17087@pubhealth.ku.dk>
References: <200112091257.NAA17087@pubhealth.ku.dk>
Message-ID: <x2her0xsoy.fsf@blueberry.kubism.ku.dk>

z.yang@ucl.ac.uk writes:

> Full_Name: Ziheng Yang
> Version: 1.3.1
> OS: Windows 98
> Submission from: (NULL) (172.136.54.89)
> 
> 
> I noticed that qbeta is sometimes wrong and the error is not even due to the
> beta parameters being too extreme.  I am calculating the quantiles corresponding
> to cdf = 0.05, 0.15, ..., 0.95.  The value corresponding to cdf=0.25 is wrong
> while all other values are correct.  
> 
> qbeta(0.05, 0.143891, 0.05) = 1.040850e-05   correct
> qbeta(0.15, 0.143891, 0.05) = 0.021161       correct
> qbeta(0.25, 0.143891, 0.05) = 3e-308         wrong (correct value is 0.457227)
> qbeta(0.25, 0.143891, 0.05) = 0.945217       correct
> 
> I also used your source file qbeta.c to do the same calculation, and it seems
> that something might be wrong in the "initial approximation", before the
> newton-raphson iteration.  Also I notice that the 5/6 in the following line is
> probably supposed to mean 5./6., although this does not seem to be the source of
> the problem.
> 
> 	w = y * sqrt(h + r) / h - (t - s) * (r + 5 / 6 - 2 / (3 * h));
> 
> Could you possibly let me know how to fix the problem.  I will appreciate any
> help you might provide.  I am using the Windows version 1.3.1 (2001).

The 5/6 thing appears to be fixed in the current sources. However, the 
qbeta(0.25, 0.143891, 0.05) effect is still there and seems to be
algorithmic. It does not disappear when removing optimizations.

What happens is that in the calculation of the initial approximation,
we have 

        t = r * pow(1 - t + y * sqrt(t), 3);
        if (t <= 0.)
            xinbta = 1 - exp((log((1 - a) * qq) + logbeta) / qq);
... 

with t negative at the if() *and* xinbta coming out negative
so xinbta gets set to "lower" aka 3e-308

Further down, we get

   y = pbeta_raw(xinbta, pp, qq, /*lower_tail = */ TRUE);

which is way off from the target a, but then we calculate

   y = (y - a) *
         exp(logbeta + r * log(xinbta) + t * log(1 - xinbta));

which is a small number since log(xinbta) is large and negative. Then,
we have
 
   if (fabs(y) <= acu) goto L_converged;

and the whole thing terminates without even trying to get an improved
estimate.... 

Clues on where to fix this would be most welcome!

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Dec  9 16:39:57 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 9 Dec 2001 17:39:57 +0100 (MET)
Subject: [Rd] Bug#123084: r-base: R documentatio search engine unusable (PR#1203)
Message-ID: <200112091639.RAA17749@pubhealth.ku.dk>

On Sun, 9 Dec 2001 edd@debian.org wrote:

>
> As there is nothing Debian-specific in this bug report (and the .deb of the
> JVW is not from Debian either), I am forwarding this to R-bugs. My
> recollection from recent discussions on the R mailing list is that currently
> /no/ browser other than Netscape supports the Java search engine -- is that
> correct or was there some Netscape derivative (galeon?) which does?
> Maybe the documentation should be enhanced in time for 1.4.0 to clarify this.

It's very far from correct!  The search engine works with Netscape 6.2 on
Linux (and Windows), and with Internet Explorer and Opera 5 on Windows.
(We were told it works with Internet Explorer on Linux too.) Opera uses
Sun's 1.3.1, as I recall, so I don't think this is a Java-1.1 vs 1.3
issue.  (I've just checked: Netscape 6.2 uses JRE 1.3.1.)

What BTW is `Mozilla 6'?  The current Mozilla is 0.9.6, so `6' seems a
decade or so away.

Which documentation do you suggest is altered and how?  Given that the
Mozilla-0.9.4-based Netscape 6.2 with JRE 1.3.1 works, the finger is
pointing pretty insistently at a problem in the installation of `Mozilla
6', whatever that is, and/or its JRE.

> Cheers, Dirk
> Debian maintainer for R
>
>   From: Emmanuel Charpentier <charpent@bacbuc.dyndns.org>
>   To: Debian Bug Tracking System <submit@bugs.debian.org>
>   Subject: Bug#123084: r-base: R documentatio search engine unusable with Mozilla 6 (OK with netscape 4.7x)
>   Date: Sun, 09 Dec 2001 16:04:49 +0100
>
>   Package: r-base
>   Version: 1.3.1-6
>   Severity: normal
>
>   The html-based doc system has problems with (the current builds of) Mozilla 6 :
>   while the Java search engine does work in Netscape 4.77, it does *not* with
>   Mozilla. The Netscape Java is, of course, 1.x, while Mozilla needs at least a
>   j2re virtualm machine (I use the Blackdown's debian package of j2re1.3.1 and
>   j2sdk :
>
>   charpent@yod:~$ dpkg -l | grep j2
>   ii  j2sdk1.3       1.3.1-1        Blackdown Java(TM) 2 SDK, Standard Edition
>   charpent@yod:~$
>
>   When I try to use the search engine (clicking the "Search engine" anchor on the
>   root page of the R documentation), I get a JVM error dialog box stating :
>
>   java.security.AccessControlException: access denied (java.io.FilePermission /home/charpent/.R/doc/html/search/SearchEngine.class read)
>   	at java.security.AccessControlContext.checkPermission(AccessControlContext.java:272)
>   	at java.security.AccessController.checkPermission(AccessController.java:399)
>   	at java.lang.SecurityManager.checkPermission(SecurityManager.java:545)
>   	at java.lang.SecurityManager.checkRead(SecurityManager.java:890)
>   	at java.io.File.isDirectory(File.java:567)
>   	at sun.net.www.protocol.file.FileURLConnection.connect(FileURLConnection.java:65)
>   	at sun.net.www.protocol.file.FileURLConnection.initializeHeaders(FileURLConnection.java:82)
>   	at sun.net.www.protocol.file.FileURLConnection.getContentLength(FileURLConnection.java:113)
>   	at sun.applet.AppletClassLoader.getBytes(AppletClassLoader.java:223)
>   	at sun.applet.AppletClassLoader.access$100(AppletClassLoader.java:41)
>   	at sun.applet.AppletClassLoader$1.run(AppletClassLoader.java:137)
>   	at java.security.AccessController.doPrivileged(Native Method)
>   	at sun.applet.AppletClassLoader.findClass(AppletClassLoader.java:134)
>   	at sun.plugin.security.PluginClassLoader.findClass(PluginClassLoader.java:252)
>   	at java.lang.ClassLoader.loadClass(ClassLoader.java:297)
>   	at sun.applet.AppletClassLoader.loadClass(AppletClassLoader.java:108)
>   	at java.lang.ClassLoader.loadClass(ClassLoader.java:253)
>   	at sun.applet.AppletClassLoader.loadCode(AppletClassLoader.java:373)
>   	at sun.applet.AppletPanel.createApplet(AppletPanel.java:579)
>   	at sun.plugin.AppletViewer.createApplet(AppletViewer.java:1178)
>   	at sun.applet.AppletPanel.runLoader(AppletPanel.java:515)
>   	at sun.applet.AppletPanel.run(AppletPanel.java:293)
>   	at sun.plugin.navig.motif.MotifAppletViewer.maf_run(MotifAppletViewer.java:127)
>   	at sun.plugin.navig.motif.MotifAppletViewer.run(MotifAppletViewer.java:123)
>   	at java.lang.Thread.run(Thread.java:484)
>
>   However :
>
>   charpent@yod:~$ ls -l .R/doc/html/search/
>   total 656
>   lrwxrwxrwx    1 charpent charpent       43 Dec  9 15:14 IndexEntry.class -> /usr/lib/R/doc/html/search/IndexEntry.class
>   lrwxrwxrwx    1 charpent charpent       44 Dec  9 15:14 IndexStream.class -> /usr/lib/R/doc/html/search/IndexStream.class
>   lrwxrwxrwx    1 charpent charpent       43 Dec  9 15:14 IndexTable.class -> /usr/lib/R/doc/html/search/IndexTable.class
>   lrwxrwxrwx    1 charpent charpent       49 Dec  9 15:14 SearchEngine-foot.html -> /usr/lib/R/doc/html/search/SearchEngine-foot.html
>   lrwxrwxrwx    1 charpent charpent       49 Dec  9 15:14 SearchEngine-head.html -> /usr/lib/R/doc/html/search/SearchEngine-head.html
>   lrwxrwxrwx    1 charpent charpent       45 Dec  9 15:14 SearchEngine.class -> /usr/lib/R/doc/html/search/SearchEngine.class
>   lrwxrwxrwx    1 charpent charpent       44 Dec  9 15:14 SearchEngine.html -> /usr/lib/R/doc/html/search/SearchEngine.html
>   lrwxrwxrwx    1 charpent charpent       44 Dec  9 15:14 SearchObject.html -> /usr/lib/R/doc/html/search/SearchObject.html
>   lrwxrwxrwx    1 charpent charpent       39 Dec  9 15:14 Tracer.class -> /usr/lib/R/doc/html/search/Tracer.class
>   lrwxrwxrwx    1 charpent charpent       38 Dec  9 15:14 Value.class -> /usr/lib/R/doc/html/search/Value.class
>   -rw-r--r--    1 charpent charpent   663581 Dec  9 15:14 index.txt
>
>   and, of course :
>
>   charpent@yod:~$ ls -l /usr/lib/R/doc/html/search/
>   total 184
>   -rw-r--r--    1 root     root         1412 Dec  4 05:32 IndexEntry.class
>   -rw-r--r--    1 root     root         3125 Dec  4 05:32 IndexStream.class
>   -rw-r--r--    1 root     root          735 Dec  4 05:32 IndexTable.class
>   -rw-r--r--    1 root     root          163 Dec  4 05:32 SearchEngine-foot.html
>   -rw-r--r--    1 root     root         2239 Dec  4 05:32 SearchEngine-head.html
>   -rw-r--r--    1 root     root         4715 Dec  4 05:32 SearchEngine.class
>   -rw-r--r--    1 root     root         9650 Dec  4 05:32 SearchEngine.html
>   -rw-r--r--    1 root     root         1087 Dec  4 05:32 SearchObject.html
>   -rw-r--r--    1 root     root         1273 Dec  4 05:32 Tracer.class
>   -rw-r--r--    1 root     root          675 Dec  4 05:32 Value.class
>   -rw-r--r--    1 root     root       130263 Dec  4 05:32 index.txt
>   charpent@yod:~$
>
>   The very same installation works pperfectly with Netscape (I just have to lauch
>   Netscape before invoking help.start(), which launches Mozilla by default).
>
>   What am I missing ? Not much, as far as I can tell. Mozilla does not seem to
>   have problems with Java (but I may be mistaken : I'm not much of a "surfer").
>
>   Therefore, I suspect that the SearchEngine.class code is somewhat java-1.1x
>   specific.
>
>   -- System Information
>   Debian Release: 3.0
>   Architecture: i386
>   Kernel: Linux yod 2.4.13 #2 Wed Oct 31 15:09:05 CET 2001 i686
>   Locale: LANG=C, LC_CTYPE=
>
>   Versions of packages r-base depends on:
>   ii  atlas2-athlon [blas2]     3.2.1-12       Automatically Tuned Linear Algebra
>   ii  atlas2-base [blas2]       3.2.1l-2       Automatically Tuned Linear Algebra
>   ii  blas1 [blas2]             1.0-9          A set of building blocks for perfo
>   ii  libc6                     2.2.4-7        GNU C Library: Shared libraries an
>   ii  libjpeg62                 6b-4           The Independent JPEG Group's JPEG
>   ii  libncurses5               5.2.20010318-3 Shared libraries for terminal hand
>   ii  libpng2                   1.0.12-2       PNG library - runtime
>   ii  libreadline4              4.2a-2         GNU readline and history libraries
>   ii  perl                      5.6.1-6        Larry Wall's Practical Extraction
>   ii  tcl8.3                    8.3.3-4        The Tool Command Language (TCL) v8
>   ii  tk8.3                     8.3.3-6        The Tk toolkit for TCL and X11 v8.
>   ii  xlibs                     4.1.0-10       X Window System client libraries
>   ii  zlib-bin                  1:1.1.3-18     compression library - sample progr
>   ii  zlib1g                    1:1.1.3-18     compression library - runtime
>
> --please do not edit the information below--
>
> Version:
>  platform = i386-pc-linux-gnu
>  arch = i386
>  os = linux-gnu
>  system = i386, linux-gnu
>  status =
>  major = 1
>  minor = 3.1
>  year = 2001
>  month = 08
>  day = 31
>  language = R
>
> Search Path:
>  .GlobalEnv, package:ctest, Autoloads, package:base
>
>
> --
> Good judgment comes from experience; experience comes from bad judgment.
> 							    -- F. Brooks
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Sun Dec  9 17:14:06 2001
From: edd@debian.org (edd@debian.org)
Date: Sun, 9 Dec 2001 18:14:06 +0100 (MET)
Subject: [Rd] Bug#123084: r-base: R documentatio search engine unusable (PR#1204)
Message-ID: <200112091714.SAA17856@pubhealth.ku.dk>


  "Brian" == Brian Ripley <Prof> writes:
  Brian>  On Sun, 9 Dec 2001 edd@debian.org wrote:
  Dirk> As there is nothing Debian-specific in this bug report (and the .deb
  Dirk> of the JVW is not from Debian either), I am forwarding this to
  Dirk> R-bugs. My recollection from recent discussions on the R mailing list
  Dirk> is that currently /no/ browser other than Netscape supports the Java
  Dirk> search engine -- is that correct or was there some Netscape
  Dirk> derivative (galeon?) which does?  Maybe the documentation should be
  Dirk> enhanced in time for 1.4.0 to clarify this.
  Brian>  It's very far from correct!  The search engine works with Netscape
  Brian> 6.2 on Linux (and Windows), and with Internet Explorer and Opera 5
  Brian> on Windows.  (We were told it works with Internet Explorer on Linux

IE on Linux? Really?

  Brian> too.) Opera uses Sun's 1.3.1, as I recall, so I don't think this is
  Brian> a Java-1.1 vs 1.3 issue.  (I've just checked: Netscape 6.2 uses JRE
  Brian> 1.3.1.)
  Brian> 
  Brian> What BTW is `Mozilla 6'?  The current Mozilla is 0.9.6, so `6' seems
  Brian> a decade or so away.
  Brian> 
  Brian> Which documentation do you suggest is altered and how?  Given that

I was looking at "help(help.start)" on 1.3.1 first, what the Dec 5 snapshot
of 1.4.0 has is indeed better:

     The `browser' needs to work with a `"-remote openURL(...)"' call.
     Then, the hypertext R help interface is opened in any already
     running browser or a new one if necessary.  Browsers that support
     this interface include Netscape 4.x, 6.2 (but not 6.0/1), Opera 5
     and Mozilla 0.9.5.

So shall we can close this?

Dirk

-- 
Good judgment comes from experience; experience comes from bad judgment. 
							    -- F. Brooks

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Dec  9 17:59:14 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 9 Dec 2001 18:59:14 +0100 (MET)
Subject: [Rd] Bug#123084: r-base: R documentatio search engine unusable (PR#1205)
Message-ID: <200112091759.SAA17999@pubhealth.ku.dk>

On Sun, 9 Dec 2001, Dirk Eddelbuettel wrote:

>
>   "Brian" == Brian Ripley <Prof> writes:
>   Brian>  On Sun, 9 Dec 2001 edd@debian.org wrote:
>   Dirk> As there is nothing Debian-specific in this bug report (and the .deb
>   Dirk> of the JVW is not from Debian either), I am forwarding this to
>   Dirk> R-bugs. My recollection from recent discussions on the R mailing list
>   Dirk> is that currently /no/ browser other than Netscape supports the Java
>   Dirk> search engine -- is that correct or was there some Netscape
>   Dirk> derivative (galeon?) which does?  Maybe the documentation should be
>   Dirk> enhanced in time for 1.4.0 to clarify this.
>   Brian>  It's very far from correct!  The search engine works with Netscape
>   Brian> 6.2 on Linux (and Windows), and with Internet Explorer and Opera 5
>   Brian> on Windows.  (We were told it works with Internet Explorer on Linux
>
> IE on Linux? Really?

So he said ....

>
>   Brian> too.) Opera uses Sun's 1.3.1, as I recall, so I don't think this is
>   Brian> a Java-1.1 vs 1.3 issue.  (I've just checked: Netscape 6.2 uses JRE
>   Brian> 1.3.1.)
>   Brian>
>   Brian> What BTW is `Mozilla 6'?  The current Mozilla is 0.9.6, so `6' seems
>   Brian> a decade or so away.
>   Brian>
>   Brian> Which documentation do you suggest is altered and how?  Given that
>
> I was looking at "help(help.start)" on 1.3.1 first, what the Dec 5 snapshot
> of 1.4.0 has is indeed better:
>
>      The `browser' needs to work with a `"-remote openURL(...)"' call.
>      Then, the hypertext R help interface is opened in any already
>      running browser or a new one if necessary.  Browsers that support
>      this interface include Netscape 4.x, 6.2 (but not 6.0/1), Opera 5
>      and Mozilla 0.9.5.
>
> So shall we can close this?

Yes, will do.

> Dirk
>
> --
> Good judgment comes from experience; experience comes from bad judgment.
> 							    -- F. Brooks
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Sun Dec  9 19:49:03 2001
From: edd@debian.org (edd@debian.org)
Date: Sun, 9 Dec 2001 20:49:03 +0100 (MET)
Subject: [Rd] Bug#123084: r-base: R documentatio search engine unusable (PR#1206)
Message-ID: <200112091949.UAA18437@pubhealth.ku.dk>


  "Brian" == Brian Ripley <Prof> writes:
  Dirk> So shall we can close this?
  Brian>  Yes, will do.

Doing the same for Debian then.

Thanks, Dirk

-- 
Good judgment comes from experience; experience comes from bad judgment. 
							    -- F. Brooks

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rnassar@duke.edu  Mon Dec 10 02:47:20 2001
From: rnassar@duke.edu (rnassar@duke.edu)
Date: Mon, 10 Dec 2001 03:47:20 +0100 (MET)
Subject: [Rd] boxplot labels incorrect when horizontal = TRUE (PR#1207)
Message-ID: <200112100247.DAA19758@pubhealth.ku.dk>

#Example:

y <- rnorm(10)
group <- gl(2,5)

plot(y ~ group, horizontal = TRUE)  # BUG: default xlab & ylab interchanged
plot(y ~ group, horizontal = FALSE) # OK: supplies correct default xlab & ylab


# Using boxplot() instead of plot() omits default axis labels altogether
# (not sure if this is intentional):

boxplot(y ~ group, horizontal = FALSE) # no default axis labels supplied
boxplot(y ~ group, horizontal = TRUE)  # no default axis labels supplied

Thank you!

Rashid Nassar


--please do not edit the information below--

Version:
 platform = i586-pc-linux-gnu
 arch = i586
 os = linux-gnu
 system = i586, linux-gnu
 status = 
 major = 1
 minor = 3.1
 year = 2001
 month = 08
 day = 31
 language = R

Search Path:
 .GlobalEnv, Shoes, package:nls, package:nlme, package:ctest, Autoloads, 
package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Dec 10 07:41:35 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 10 Dec 2001 08:41:35 +0100 (MET)
Subject: [Rd] boxplot labels incorrect when horizontal = TRUE (PR#1207)
Message-ID: <200112100741.IAA20825@pubhealth.ku.dk>

On Mon, 10 Dec 2001 rnassar@duke.edu wrote:

> #Example:
>
> y <- rnorm(10)
> group <- gl(2,5)
>
> plot(y ~ group, horizontal = TRUE)  # BUG: default xlab & ylab interchanged
> plot(y ~ group, horizontal = FALSE) # OK: supplies correct default xlab & ylab

Um.  That's plot.formula, not boxplot.  horizontal = TRUE is *not* a
documented argument to plot.formula.  If you pass arguments to boxplot
through ... (rather than just par values), you may well get unexpected
results.

To fix this needs plot.formula to recognize horizontal, and that's
an API change which I don't advocate during feature freeze.
Generally, not doing something which is not documented to happen is not a
bug, so I'll put this on the wishlist.

> # Using boxplot() instead of plot() omits default axis labels altogether
> # (not sure if this is intentional):
>
> boxplot(y ~ group, horizontal = FALSE) # no default axis labels supplied
> boxplot(y ~ group, horizontal = TRUE)  # no default axis labels supplied

Yes, it's intentional.  You can always use title().


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Torsten.Hothorn@rzmail.uni-erlangen.de  Mon Dec 10 09:12:39 2001
From: Torsten.Hothorn@rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Mon, 10 Dec 2001 10:12:39 +0100 (MET)
Subject: [Rd] Error on start
Message-ID: <Pine.LNX.4.21.0112101011340.903-100000@artemis.imbe.med.uni-erlangen.de>


r-devel from this morning says

hothorn@www:~ > R

R : Copyright 2001, The R Development Core Team
Version 1.4.0 Under development (unstable) (2001-12-09)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type icense()' or icence()' for distribution details.

R is a collaborative project with many contributors.
Type ontributors()' for more information.

Type emo()' for some demos, elp()' for on-line help, or
elp.start()' for a HTML browser interface to help.
Type ()' to quit R.

Error: syntax error: evaluating expression 0
>

however, make check passed without any warning / error. 

Torsten


--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = Under development (unstable)
 major = 1
 minor = 4.0
 year = 2001
 month = 12
 day = 09
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Dec 10 09:33:31 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 10 Dec 2001 10:33:31 +0100
Subject: [Rd] Error on start
In-Reply-To: <Pine.LNX.4.21.0112101011340.903-100000@artemis.imbe.med.uni-erlangen.de>
References: <Pine.LNX.4.21.0112101011340.903-100000@artemis.imbe.med.uni-erlangen.de>
Message-ID: <x21yi3zafo.fsf@blueberry.kubism.ku.dk>

Torsten Hothorn <Torsten.Hothorn@rzmail.uni-erlangen.de> writes:

> r-devel from this morning says
> 
> hothorn@www:~ > R
> 
> R : Copyright 2001, The R Development Core Team
> Version 1.4.0 Under development (unstable) (2001-12-09)
> 
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type icense()' or icence()' for distribution details.
> 
> R is a collaborative project with many contributors.
> Type ontributors()' for more information.
> 
> Type emo()' for some demos, elp()' for on-line help, or
> elp.start()' for a HTML browser interface to help.
> Type ()' to quit R.
> 
> Error: syntax error: evaluating expression 0
> >
> 
> however, make check passed without any warning / error. 

Not for me as of last night and only gnuwin32 changes seems to have
gone in in the meantime. Some of the recent changes required a rerun
of configure and make clean, though.


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Dec 10 09:41:18 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 10 Dec 2001 09:41:18 +0000 (GMT)
Subject: [Rd] Error on start
In-Reply-To: <x21yi3zafo.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.31.0112100938380.9366-100000@gannet.stats>

On 10 Dec 2001, Peter Dalgaard BSA wrote:

> Torsten Hothorn <Torsten.Hothorn@rzmail.uni-erlangen.de> writes:
>
> > r-devel from this morning says
> >
> > hothorn@www:~ > R
> >
> > R : Copyright 2001, The R Development Core Team
> > Version 1.4.0 Under development (unstable) (2001-12-09)
> >
> > R is free software and comes with ABSOLUTELY NO WARRANTY.
> > You are welcome to redistribute it under certain conditions.
> > Type icense()' or icence()' for distribution details.
> >
> > R is a collaborative project with many contributors.
> > Type ontributors()' for more information.
> >
> > Type emo()' for some demos, elp()' for on-line help, or
> > elp.start()' for a HTML browser interface to help.
> > Type ()' to quit R.
> >
> > Error: syntax error: evaluating expression 0
> > >
> >
> > however, make check passed without any warning / error.
>
> Not for me as of last night and only gnuwin32 changes seems to have
> gone in in the meantime. Some of the recent changes required a rerun
> of configure and make clean, though.

Nor me (after those changes).  *But*

Type ^Demo()' for some demos, ^Help()' for on-line help, or
^Help.start()' for a HTML browser interface to help.
Type ^Q()' to quit R.

is wrong: there should be no ^ there, and lower case, so I think your
machine is set in a strange character encoding, which would certainly
explain the problem reading the base R file.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Dec 10 09:40:16 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 10 Dec 2001 10:40:16 +0100
Subject: [Rd] Error on start
In-Reply-To: <Pine.LNX.4.31.0112100938380.9366-100000@gannet.stats>
References: <Pine.LNX.4.31.0112100938380.9366-100000@gannet.stats>
Message-ID: <x2wuzvxvjz.fsf@blueberry.kubism.ku.dk>

Prof Brian Ripley <ripley@stats.ox.ac.uk> writes:


> Nor me (after those changes).  *But*
> 
> Type ^Demo()' for some demos, ^Help()' for on-line help, or
> ^Help.start()' for a HTML browser interface to help.
> Type ^Q()' to quit R.
> 
> is wrong: there should be no ^ there, and lower case, so I think your
> machine is set in a strange character encoding, which would certainly
> explain the problem reading the base R file.

(I'd suspect that to be a cut+paste effect turning `q into ctrl-Q etc.
in Torsten's editor...)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kleiweg@let.rug.nl  Mon Dec 10 11:29:03 2001
From: kleiweg@let.rug.nl (Peter Kleiweg)
Date: Mon, 10 Dec 2001 12:29:03 +0100 (CET)
Subject: [Rd] Make check: parameter list too long
Message-ID: <Pine.LNX.4.33.0112101223230.339-100000@kleigh.nl>


This might have been reported before, and it doesn't really
seem to be a problem of R, but still...

I installed R-devel_2001-12-07.tar.gz on HP-UX. When running
`make check' I got this error:

    collecting examples for package `base' ...
     >>> Building/Updating help pages for package `base'
	 Formats: text example
    sh[14]: /usr/local/bin/perl: The parameter list is too long.
    running code in `base-Ex.R' ... OK

Can anyone tell me how the run all the tests in `base' on this
machine? The rest of the tests run OK.

-- 
Peter Kleiweg
http://www.let.rug.nl/~kleiweg/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Mon Dec 10 15:42:59 2001
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Mon, 10 Dec 2001 10:42:59 -0500
Subject: [Rd] Windows testing
In-Reply-To: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>
References: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>
Message-ID: <3ll91u0mjooh9j727qfm45mqpb505e8rei@4ax.com>

On Wed, 5 Dec 2001 15:02:47 +0000 (GMT), you wrote in message
<Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>:

>I don't have much access to a suitable (internet-connected) Windows
>machine these days, but Duncan may be able to put up later builds as
>testing proceeds.

I just put today's build online at
<http://www.stats.uwo.ca/faculty/murdoch/software/r-devel>.  I didn't
put the miniR files online; I did put the rw-faq file there with its
descriptions of what's in each file.

Duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Dec 10 16:14:57 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 10 Dec 2001 17:14:57 +0100
Subject: [Rd] Windows testing
In-Reply-To: <3ll91u0mjooh9j727qfm45mqpb505e8rei@4ax.com>
References: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>
 <3ll91u0mjooh9j727qfm45mqpb505e8rei@4ax.com>
Message-ID: <x2n10ryrum.fsf@blueberry.kubism.ku.dk>

Duncan Murdoch <murdoch@stats.uwo.ca> writes:

> On Wed, 5 Dec 2001 15:02:47 +0000 (GMT), you wrote in message
> <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>:
> 
> >I don't have much access to a suitable (internet-connected) Windows
> >machine these days, but Duncan may be able to put up later builds as
> >testing proceeds.
> 
> I just put today's build online at
> <http://www.stats.uwo.ca/faculty/murdoch/software/r-devel>.  I didn't
> put the miniR files online; I did put the rw-faq file there with its
> descriptions of what's in each file.

Thanks. Looking good, and tcltk appears to work too.

I see a minor glitch in the Rgui preferences editor: If you mess with
the MDI/SDI setting and abandon it when told that you have to restart,
and then try to set the font (w/ Apply), the configuration editor gets
overwritten with the content of the console window.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Mon Dec 10 16:56:10 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Mon, 10 Dec 2001 17:56:10 +0100
Subject: [Rd] Windows testing
References: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>
 <3ll91u0mjooh9j727qfm45mqpb505e8rei@4ax.com> <x2n10ryrum.fsf@blueberry.kubism.ku.dk>
Message-ID: <3C14E92A.DEAA83FD@univie.ac.at>

thomas baier's dcom server is working again!

--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From brahm@alum.mit.edu  Mon Dec 10 17:15:35 2001
From: brahm@alum.mit.edu (brahm@alum.mit.edu)
Date: Mon, 10 Dec 2001 18:15:35 +0100 (MET)
Subject: [Rd] Documentation of .Last.lib in library() (PR#1209)
Message-ID: <200112101715.SAA01156@pubhealth.ku.dk>

help(library) says: "`.Last.lib' is called when a package is loaded."  Probably
should be "...is detached."
                              -- David Brahm (brahm@alum.mit.edu)


--please do not edit the information below--

Version:
 platform = sparc-sun-solaris2.6
 arch = sparc
 os = solaris2.6
 system = sparc, solaris2.6
 status = 
 major = 1
 minor = 3.1
 year = 2001
 month = 08
 day = 31
 language = R

Search Path:
 .GlobalEnv, package:misc, package:io, package:arrays, package:ls1, package:g.data, package:db, package:ts, package:ctest, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From brahm@alum.mit.edu  Mon Dec 10 18:37:41 2001
From: brahm@alum.mit.edu (brahm@alum.mit.edu)
Date: Mon, 10 Dec 2001 19:37:41 +0100 (MET)
Subject: [Rd] Re: bug.report() sends empty message (PR#1158)
Message-ID: <200112101837.TAA01768@pubhealth.ku.dk>

   On Oct 22, I sent an empty bug report (#1138) because bug.report() "ate my
message".  Paul Gilbert opened a new bug report (#1158) for this problem.

   I'm now convinced it's because I had an apostrophe in the subject line
("round() doesn't").  The bug.report documentation specifically warns against
this, but the bug.report() function could also check for it!  I suggest adding
this line to the bug.report code:

  if (regexpr("'", subject) > 0) stop("Please, no apostrophe in the subject.")

                              -- David Brahm (brahm@alum.mit.edu)

R> getOption("mailer")
   [1] "mailx"
Version:
 platform = sparc-sun-solaris2.6
 arch = sparc
 os = solaris2.6
 system = sparc, solaris2.6
 status = 
 major = 1
 minor = 3.1
 year = 2001
 month = 08
 day = 31
 language = R

Search Path:
 .GlobalEnv, package:misc, package:io, package:arrays, package:ls1, package:g.data, package:db, package:ts, package:ctest, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Mon Dec 10 19:09:35 2001
From: pgilbert@bank-banque-canada.ca (pgilbert@bank-banque-canada.ca)
Date: Mon, 10 Dec 2001 20:09:35 +0100 (MET)
Subject: [Rd] Re: bug.report() sends empty message (PR#1158)
Message-ID: <200112101909.UAA01979@pubhealth.ku.dk>

brahm@alum.mit.edu wrote:
>   On Oct 22, I sent an empty bug report (#1138) because bug.report()
>"ate my
>message".  Paul Gilbert opened a new bug report (#1158) for this
>problem.

>   I'm now convinced it's because I had an apostrophe in the subject
>line

Your problem may have been due to the apostrophe, but it reminded me of another
outstanding problem which I had neglected to report previously: wait=TRUE as in
the windows version seems to be necessary with some Unix editors too (e.g.
Nedit).

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From vograno@arbitrade.com  Tue Dec 11 02:34:48 2001
From: vograno@arbitrade.com (vograno@arbitrade.com)
Date: Tue, 11 Dec 2001 03:34:48 +0100 (MET)
Subject: [Rd] multi.line=FALSE does not work in scan() (PR#1210)
Message-ID: <200112110234.DAA03819@pubhealth.ku.dk>

The following applies to scan function called with multi.line=FALSE and
what=list(...).

If 'what' has more members than the number of columns in the file scan()
keeps reading from the next line of the file despite multi.line=FALSE. Here
is a transcript of the session:

# attempts to read four field whereas the file, foo, has only three per row
# This is the "foo" file
1 2.1 3.2
1 4.1 5.2
1 6.1 7.2

> x <- scan("foo", list(integer(0), double(0), double(0), integer(0)),
multi.line=FALSE)
Error in scan("foo", list(integer(0), double(0), double(0), integer(0)),  : 
	"scan" expected an integer, got "4.1"

# That an error will arise is expected, but not of this kind
# As a side note, it would be more informative if scan() printed the serial
number of the offending line (this is what S-Plus does).

> unlist(R.Version())
           platform                arch                  os
system 
"i686-pc-linux-gnu"              "i686"         "linux-gnu"   "i686,
linux-gnu" 
             status               major               minor
year 
                 ""                 "1"               "3.1"
"2001" 
              month                 day            language 
               "08"                "31"                 "R" 


Thank you for developing R,

Regards, Vadim

-------------------------------------------------- 
DISCLAIMER 
This e-mail, and any attachments thereto, is intended only for use by the
addressee(s) named herein and may contain legally privileged and/or
confidential information.  If you are not the intended recipient of this
e-mail, you are hereby notified that any dissemination, distribution or
copying of this e-mail, and any attachments thereto, is strictly prohibited.
If you have received this e-mail in error, please immediately notify me and
permanently delete the original and any copy of any e-mail and any printout
thereof. 

E-mail transmission cannot be guaranteed to be secure or error-free.  The
sender therefore does not accept liability for any errors or omissions in
the contents of this message which arise as a result of e-mail transmission.

NOTICE REGARDING PRIVACY AND CONFIDENTIALITY 

Knight Trading Group may, at its discretion, monitor and review the content
of all e-mail communications. 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Tue Dec 11 10:27:50 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt.Hornik@ci.tuwien.ac.at)
Date: Tue, 11 Dec 2001 11:27:50 +0100 (MET)
Subject: [Rd] Documentation of .Last.lib in library() (PR#1209)
Message-ID: <200112111027.LAA07225@pubhealth.ku.dk>

>>>>> brahm  writes:

> help(library) says: "`.Last.lib' is called when a package is loaded."
> Probably should be "...is detached."  -- David Brahm
> (brahm@alum.mit.edu)

Already fixed in 1.4.0.

-k

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Tue Dec 11 11:15:39 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Tue, 11 Dec 2001 12:15:39 +0100
Subject: [Rd] windows testing
Message-ID: <3C15EADB.EC77A561@univie.ac.at>

i tried to build a complete install package on
win98, also compiling the recommended packages from the source

the one things that does not work at the moment is that
foreign_0.4-7
which is in the recommended packages
does not compile

this is what i get


make: Entering directory `/cygdrive/c/DEVEL/R-DEVEL/src/gnuwin32'
make DLLNM=  FLIBS="-lg2c" \
  -C C:/devel/R-devel/bin/R.INSTALL/foreign PKG=foreign
RHOME=c:/DEVEL/R-DEVEL R
LIB=C:/DEVEL/R-DEVEL/library \
  -f c:/DEVEL/R-DEVEL/src/gnuwin32/MakePkg
make[1]: Entering directory
`/cygdrive/c/devel/R-devel/bin/R.INSTALL/foreign'
mkdir -p C:/DEVEL/R-DEVEL/library/foreign
cp -r   ./INDEX  ./TITLE ./BUGS ./ChangeLog
C:/DEVEL/R-DEVEL/library/foreign/
make[2]: Entering directory
`/cygdrive/c/devel/R-devel/bin/R.INSTALL/foreign/src
'
gcc   -Ic:/DEVEL/R-DEVEL/src/include -Wall -O2   -c SASxport.c -o
SASxport.o
In file included from SASxport.c:31:
SASxport.h:15: swap_bytes.h: No such file or directory
make[2]: *** [SASxport.o] Error 1
make[2]: Leaving directory
`/cygdrive/c/devel/R-devel/bin/R.INSTALL/foreign/src'

make[1]: *** [src/foreign.dll] Error 2



--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Dec 11 11:21:04 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 11 Dec 2001 12:21:04 +0100
Subject: [Rd] windows testing
In-Reply-To: <3C15EADB.EC77A561@univie.ac.at>
References: <3C15EADB.EC77A561@univie.ac.at>
Message-ID: <x2snai2ean.fsf@blueberry.kubism.ku.dk>

Erich Neuwirth <erich.neuwirth@univie.ac.at> writes:

> i tried to build a complete install package on
> win98, also compiling the recommended packages from the source
> 
> the one things that does not work at the moment is that
> foreign_0.4-7
> which is in the recommended packages
> does not compile
> 
> this is what i get
>

Odd. This seems to have worked for Duncan M. However, please notice
that there's a newer version:
 
http://cran.r-project.org/src/contrib/1.4.0/Recommended/foreign_0.4-8.tar.gz

(and in general, the recommended packages sit in that directory until
release)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Dec 11 11:59:42 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 11 Dec 2001 11:59:42 +0000 (GMT)
Subject: [Rd] windows testing
In-Reply-To: <3C15EADB.EC77A561@univie.ac.at>
Message-ID: <Pine.LNX.4.31.0112111157010.23043-100000@gannet.stats>

On Tue, 11 Dec 2001, Erich Neuwirth wrote:

> i tried to build a complete install package on
> win98, also compiling the recommended packages from the source
>
> the one things that does not work at the moment is that
> foreign_0.4-7
> which is in the recommended packages
> does not compile

It's not the latest version, and you need to manually configure it:
see the advice in `Writing R Extensions' (not followed by the authors of
that package ...).

Move swap_bytes.h.in to swap_bytes.h and var.h.in to var.h.

There's a few more tricks you need to bear in mind, for example
which packages work with --use-zip.

>
> this is what i get
>
>
> make: Entering directory `/cygdrive/c/DEVEL/R-DEVEL/src/gnuwin32'
> make DLLNM=  FLIBS="-lg2c" \
>   -C C:/devel/R-devel/bin/R.INSTALL/foreign PKG=foreign
> RHOME=c:/DEVEL/R-DEVEL R
> LIB=C:/DEVEL/R-DEVEL/library \
>   -f c:/DEVEL/R-DEVEL/src/gnuwin32/MakePkg
> make[1]: Entering directory
> `/cygdrive/c/devel/R-devel/bin/R.INSTALL/foreign'
> mkdir -p C:/DEVEL/R-DEVEL/library/foreign
> cp -r   ./INDEX  ./TITLE ./BUGS ./ChangeLog
> C:/DEVEL/R-DEVEL/library/foreign/
> make[2]: Entering directory
> `/cygdrive/c/devel/R-devel/bin/R.INSTALL/foreign/src
> '
> gcc   -Ic:/DEVEL/R-DEVEL/src/include -Wall -O2   -c SASxport.c -o
> SASxport.o
> In file included from SASxport.c:31:
> SASxport.h:15: swap_bytes.h: No such file or directory
> make[2]: *** [SASxport.o] Error 1
> make[2]: Leaving directory
> `/cygdrive/c/devel/R-devel/bin/R.INSTALL/foreign/src'
>
> make[1]: *** [src/foreign.dll] Error 2
>
>
>
> --
> Erich Neuwirth, Computer Supported Didactics Working Group
> Visit our SunSITE at http://sunsite.univie.ac.at
> Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Tue Dec 11 12:57:15 2001
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Tue, 11 Dec 2001 07:57:15 -0500
Subject: [Rd] windows testing
In-Reply-To: <x2snai2ean.fsf@blueberry.kubism.ku.dk>
References: <3C15EADB.EC77A561@univie.ac.at> <x2snai2ean.fsf@blueberry.kubism.ku.dk>
Message-ID: <ti0c1ukmcu6vtkrkle2rrstm0nb15364k9@4ax.com>

On 11 Dec 2001 12:21:04 +0100, you wrote:

>Erich Neuwirth <erich.neuwirth@univie.ac.at> writes:
>
>> i tried to build a complete install package on
>> win98, also compiling the recommended packages from the source
>> 
>> the one things that does not work at the moment is that
>> foreign_0.4-7

>Odd. This seems to have worked for Duncan M.

No, I'm downloading the binaries of the packages, I just compile R
itself.  I haven't tried to build foreign.

Duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Dec 11 15:28:45 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 11 Dec 2001 16:28:45 +0100 (MET)
Subject: [Rd] Re: (PR#1210) an error message from scan() surprised vograno@arbitrade.com.
Message-ID: <200112111528.QAA13336@pubhealth.ku.dk>

Original incorrect subject line was

Subject: [Rd] multi.line=FALSE does not work in scan() (PR#1210)

It *does* work quite correctly: this was an erroneous file nd
you got an error, just one you didn't understand.

Please don't use grossly misleading subject lines: they are all that
appear in the BUGS file.


On Tue, 11 Dec 2001 vograno@arbitrade.com wrote:

> The following applies to scan function called with multi.line=FALSE and
> what=list(...).
>
> If 'what' has more members than the number of columns in the file scan()
> keeps reading from the next line of the file despite multi.line=FALSE. Here
> is a transcript of the session:
>
> # attempts to read four field whereas the file, foo, has only three per row
> # This is the "foo" file
> 1 2.1 3.2
> 1 4.1 5.2
> 1 6.1 7.2
>
> > x <- scan("foo", list(integer(0), double(0), double(0), integer(0)),
> multi.line=FALSE)
> Error in scan("foo", list(integer(0), double(0), double(0), integer(0)),  :
> 	"scan" expected an integer, got "4.1"
>
> # That an error will arise is expected, but not of this kind

(Why not?  It tries to read the next item, and finds it can't and reports
so.  Only later does it check it stayed on the same line.)

> # As a side note, it would be more informative if scan() printed the serial
> number of the offending line (this is what S-Plus does).

In fact had scan got to the multiline check, it would have told you:

x <- scan("foo", list(double(0),double(0),double(0),double(0)),
multi.line=FALSE)

Error in scan("foo", list(double(0), double(0), double(0), double(0)),  :
        line 1 did not have 4 elements

> > unlist(R.Version())
[...]

(which took far more space than the standard printout).

Now, the diagnostics could be improved, but it is not a bug to give an
error on erroneous input.

Not something to be tampered with during feature freeze.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From malewski.peter@mh-hannover.de  Tue Dec 11 16:17:23 2001
From: malewski.peter@mh-hannover.de (Peter Malewski)
Date: Tue, 11 Dec 2001 17:17:23 +0100
Subject: [Rd] windows testing
In-Reply-To: <Pine.LNX.4.31.0112111157010.23043-100000@gannet.stats>; from ripley@stats.ox.ac.uk on Tue, Dec 11, 2001 at 11:59:42AM +0000
References: <3C15EADB.EC77A561@univie.ac.at> <Pine.LNX.4.31.0112111157010.23043-100000@gannet.stats>
Message-ID: <20011211171722.A22734@rzsrv2.rz.tu-bs.de>


Rterm does not accept C-c to stop excecution with gnu-emacs
and under DOS. This work with Rterm Version 1.3.1. E.g.:

for(i in 1:10000){print(i);rnorm(100)}

Control-c does not work (windows 95).

platform i386-pc-mingw32
arch     x86
os       Win32
system   x86, Win32
status   Under development (unstable)
major    1
minor    4.0
year     2001
month    12
day      05
language R


PM





On Tue, Dec 11, 2001 at 11:59:42AM +0000, Prof Brian D Prof Brian D Ripley wrote:
> On Tue, 11 Dec 2001, Erich Neuwirth wrote:
> 
> > i tried to build a complete install package on
> > win98, also compiling the recommended packages from the source
> >
> > the one things that does not work at the moment is that
> > foreign_0.4-7
> > which is in the recommended packages
> > does not compile
> 
> It's not the latest version, and you need to manually configure it:
> see the advice in `Writing R Extensions' (not followed by the authors of
> that package ...).
> 
> Move swap_bytes.h.in to swap_bytes.h and var.h.in to var.h.
> 
> There's a few more tricks you need to bear in mind, for example
> which packages work with --use-zip.
> 
> >
> > this is what i get
> >
> >
> > make: Entering directory `/cygdrive/c/DEVEL/R-DEVEL/src/gnuwin32'
> > make DLLNM=  FLIBS="-lg2c" \
> >   -C C:/devel/R-devel/bin/R.INSTALL/foreign PKG=foreign
> > RHOME=c:/DEVEL/R-DEVEL R
> > LIB=C:/DEVEL/R-DEVEL/library \
> >   -f c:/DEVEL/R-DEVEL/src/gnuwin32/MakePkg
> > make[1]: Entering directory
> > `/cygdrive/c/devel/R-devel/bin/R.INSTALL/foreign'
> > mkdir -p C:/DEVEL/R-DEVEL/library/foreign
> > cp -r   ./INDEX  ./TITLE ./BUGS ./ChangeLog
> > C:/DEVEL/R-DEVEL/library/foreign/
> > make[2]: Entering directory
> > `/cygdrive/c/devel/R-devel/bin/R.INSTALL/foreign/src
> > '
> > gcc   -Ic:/DEVEL/R-DEVEL/src/include -Wall -O2   -c SASxport.c -o
> > SASxport.o
> > In file included from SASxport.c:31:
> > SASxport.h:15: swap_bytes.h: No such file or directory
> > make[2]: *** [SASxport.o] Error 1
> > make[2]: Leaving directory
> > `/cygdrive/c/devel/R-devel/bin/R.INSTALL/foreign/src'
> >
> > make[1]: *** [src/foreign.dll] Error 2
> >
> >
> >
> > --
> > Erich Neuwirth, Computer Supported Didactics Working Group
> > Visit our SunSITE at http://sunsite.univie.ac.at
> > Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
P.Malewski, Limmerstr.47, 30451 Hannover, 0511-2135008
At work: http://www.MH-Hannover.de 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski@tu-bs.de, peter.malewski@gmx.de, malewski.peter@mh-hannover.de.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Dec 11 18:09:35 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 11 Dec 2001 19:09:35 +0100
Subject: [Rd] windows testing
In-Reply-To: <20011211171722.A22734@rzsrv2.rz.tu-bs.de>
References: <3C15EADB.EC77A561@univie.ac.at>
 <Pine.LNX.4.31.0112111157010.23043-100000@gannet.stats>
 <20011211171722.A22734@rzsrv2.rz.tu-bs.de>
Message-ID: <x2n10p1vds.fsf@blueberry.kubism.ku.dk>

Peter Malewski <malewski.peter@mh-hannover.de> writes:

> Rterm does not accept C-c to stop excecution with gnu-emacs
> and under DOS. This work with Rterm Version 1.3.1. E.g.:
> 
> for(i in 1:10000){print(i);rnorm(100)}
> 
> Control-c does not work (windows 95).

Odd. This happens to me with Duncan's build, but not with my own
cross-built versions. Both one from before his and a recent one.

??

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Tue Dec 11 18:29:36 2001
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Tue, 11 Dec 2001 13:29:36 -0500
Subject: [Rd] windows testing
In-Reply-To: <20011211171722.A22734@rzsrv2.rz.tu-bs.de>
References: <3C15EADB.EC77A561@univie.ac.at> <Pine.LNX.4.31.0112111157010.23043-100000@gannet.stats> <20011211171722.A22734@rzsrv2.rz.tu-bs.de>
Message-ID: <12jc1ugh4gg89cqecff1s5gd8f5v0nupqo@4ax.com>

1. Tried running "test-all-extras" today.  It failed comparison on the
last of the regression tests, "reg-plot".  As far as I could tell, the
output looked okay.  The differences were in reported values of the
relative range of values, as in 

>> for(j.fac in 1e-12* c(10, 1, .7, .3, .2, .1, .05, .03, .01)) {
>+ ##           ====
>+     #set.seed(101) # or don't
>+     x <- pi + jitter(numeric(101), f = j.fac)
>+     rrtxt <- paste("rel.range =", formatC(relrange(x), dig = 4),"* EPS")
>+     cat("j.f = ", format(j.fac)," ;  ", rrtxt,"\n",sep="")
>+     plot(x, type = "l", main = rrtxt)
>+     cat("par(\"usr\")[3:4]:", formatC(par("usr")[3:4], wid = 10),"\n",
>+         "par(\"yaxp\") :   ", formatC(par("yaxp"), wid = 10),"\n\n", sep="")
>+ }
>j.f = 1e-11 ;  rel.range = 553.9 * EPS
>par("usr")[3:4]:     3.142     3.142
>par("yaxp") :        3.142     3.142         3
>
>j.f = 1e-12 ;  rel.range = 56.02 * EPS
>Warning: relative range of values = 85.307 * EPS, is small (axis 2).
>par("usr")[3:4]:     3.142     3.142
>par("yaxp") :        3.142     3.142      

and some warnings about character widths:

>Warning: font width unknown for character 144
>Warning: font metrics unknown for character 144
>Warning: font width unknown for character 144
>Warning: font width unknown for character 157
>Warning: font metrics unknown for character 157
>Warning: font width unknown for character 157

2.  In test-Internet, the file comparisons were different (in what
looked like trivial ways: the directory and list from CRAN was
different).  The test produced a file "internet.Rout2" that had no
corresponding .save file.

Duncan



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Dec 11 18:38:47 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 11 Dec 2001 18:38:47 +0000 (GMT Standard Time)
Subject: [Rd] windows testing
In-Reply-To: <12jc1ugh4gg89cqecff1s5gd8f5v0nupqo@4ax.com>
Message-ID: <Pine.WNT.4.31.0112111837310.1084-100000@gannet>

On Tue, 11 Dec 2001, Duncan Murdoch wrote:

> 1. Tried running "test-all-extras" today.  It failed comparison on the
> last of the regression tests, "reg-plot".  As far as I could tell, the
> output looked okay.  The differences were in reported values of the
> relative range of values, as in
>
> >> for(j.fac in 1e-12* c(10, 1, .7, .3, .2, .1, .05, .03, .01)) {
> >+ ##           ====
> >+     #set.seed(101) # or don't
> >+     x <- pi + jitter(numeric(101), f = j.fac)
> >+     rrtxt <- paste("rel.range =", formatC(relrange(x), dig = 4),"* EPS")
> >+     cat("j.f = ", format(j.fac)," ;  ", rrtxt,"\n",sep="")
> >+     plot(x, type = "l", main = rrtxt)
> >+     cat("par(\"usr\")[3:4]:", formatC(par("usr")[3:4], wid = 10),"\n",
> >+         "par(\"yaxp\") :   ", formatC(par("yaxp"), wid = 10),"\n\n", sep="")
> >+ }
> >j.f = 1e-11 ;  rel.range = 553.9 * EPS
> >par("usr")[3:4]:     3.142     3.142
> >par("yaxp") :        3.142     3.142         3
> >
> >j.f = 1e-12 ;  rel.range = 56.02 * EPS
> >Warning: relative range of values = 85.307 * EPS, is small (axis 2).
> >par("usr")[3:4]:     3.142     3.142
> >par("yaxp") :        3.142     3.142
>
> and some warnings about character widths:
>
> >Warning: font width unknown for character 144
> >Warning: font metrics unknown for character 144
> >Warning: font width unknown for character 144
> >Warning: font width unknown for character 157
> >Warning: font metrics unknown for character 157
> >Warning: font width unknown for character 157

Yes, all normal.

>
> 2.  In test-Internet, the file comparisons were different (in what
> looked like trivial ways: the directory and list from CRAN was
> different).  The test produced a file "internet.Rout2" that had no
> corresponding .save file.

The save output is out of date (as it commonly is). There is no
save file for internet.Rout2: that it runs is enough.

> Duncan
>
>
>
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Dec 11 18:41:30 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 11 Dec 2001 18:41:30 +0000 (GMT Standard Time)
Subject: [Rd] windows testing
In-Reply-To: <x2n10p1vds.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.WNT.4.31.0112111838520.1084-100000@gannet>

On 11 Dec 2001, Peter Dalgaard BSA wrote:

> Peter Malewski <malewski.peter@mh-hannover.de> writes:
>
> > Rterm does not accept C-c to stop excecution with gnu-emacs
> > and under DOS. This work with Rterm Version 1.3.1. E.g.:
> >
> > for(i in 1:10000){print(i);rnorm(100)}
> >
> > Control-c does not work (windows 95).
>
> Odd. This happens to me with Duncan's build, but not with my own
> cross-built versions. Both one from before his and a recent one.

Looks like a linker bug. Forcing an explicit import library (as used when
cross-building) solved it.  Funny: pedump claims to have all the right
imports, which is usually an accurate diagnosis of success.

I will have a new build up shortly.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Tue Dec 11 19:23:59 2001
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Tue, 11 Dec 2001 14:23:59 -0500
Subject: [Rd] windows testing
In-Reply-To: <x2n10p1vds.fsf@blueberry.kubism.ku.dk>
References: <3C15EADB.EC77A561@univie.ac.at> <Pine.LNX.4.31.0112111157010.23043-100000@gannet.stats> <20011211171722.A22734@rzsrv2.rz.tu-bs.de> <x2n10p1vds.fsf@blueberry.kubism.ku.dk>
Message-ID: <f8mc1ucttnos77f3dcka8q67qa62ea7uj7@4ax.com>

On 11 Dec 2001 19:09:35 +0100, you wrote in message
<x2n10p1vds.fsf@blueberry.kubism.ku.dk>:

>Peter Malewski <malewski.peter@mh-hannover.de> writes:
>
>> Rterm does not accept C-c to stop excecution with gnu-emacs
>> and under DOS. This work with Rterm Version 1.3.1. E.g.:
>> 
>> for(i in 1:10000){print(i);rnorm(100)}
>> 
>> Control-c does not work (windows 95).
>
>Odd. This happens to me with Duncan's build, but not with my own
>cross-built versions. Both one from before his and a recent one.

Looks as though I may be using some wrong version of a library.  I get
the same problem on today's build, and on one I built on Dec 5, but
not in Brian's version of today's build.

Since I've rsync'd all of the R files, it's probably one of the gcc
libs that is wrong.  What version should I be using?  How do I find
out what version I've got?

Duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Tue Dec 11 20:43:23 2001
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Tue, 11 Dec 2001 15:43:23 -0500
Subject: [Rd] windows testing
In-Reply-To: <Pine.WNT.4.31.0112111838520.1084-100000@gannet>
References: <x2n10p1vds.fsf@blueberry.kubism.ku.dk> <Pine.WNT.4.31.0112111838520.1084-100000@gannet>
Message-ID: <krrc1uon8777c3ccprb8ppleoiv4803232@4ax.com>

On Tue, 11 Dec 2001 18:41:30 +0000 (GMT Standard Time), you wrote in
message <Pine.WNT.4.31.0112111838520.1084-100000@gannet>:

>Looks like a linker bug. Forcing an explicit import library (as used when
>cross-building) solved it.  Funny: pedump claims to have all the right
>imports, which is usually an accurate diagnosis of success.
>
>I will have a new build up shortly.

With Brian's changes, the Ctrl-C problem has gone away.  I've got a
new build up on

 <http://www.stats.uwo.ca/faculty/murdoch/software/r-devel> 

which works for me.

Duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rmh@surfer.sbm.temple.edu  Tue Dec 11 22:32:17 2001
From: rmh@surfer.sbm.temple.edu (rmh@surfer.sbm.temple.edu)
Date: Tue, 11 Dec 2001 23:32:17 +0100 (MET)
Subject: [Rd] crash bug in get("function.name")() (PR#1211)
Message-ID: <200112112232.XAA15690@pubhealth.ku.dk>

R : Copyright 2001, The R Development Core Team
Version 1.3.1  (2001-08-31)

> tmp <- factor(1:3)
> get("print.factor")(tmp)
[1] 1 2 3
Levels:  1 2 3 
> print.a <- function(x,...) {
+   print("this is a")
+   NextMethod("print", x, quote = FALSE, right = TRUE, ...)
+ }
> 
> get("print.a")
function(x,...) {
  print("this is a")
  NextMethod("print", x, quote = FALSE, right = TRUE, ...)
}
> print.a(tmp)
[1] "this is a"
[1] 1 2 3
Levels:  1 2 3 
> get("print.a")(tmp)
[1] "this is a"

Process R exited abnormally with code 5 at Tue Dec 11 16:18:17 2001

----

I am using the windows version rw1031

I also tried on rw1030.   rw1030 gives a different code
Process R exited abnormally with code 255 at Tue Dec 11 17:31:06 2001

Rich

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ligges@statistik.uni-dortmund.de  Tue Dec 11 23:05:16 2001
From: ligges@statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 12 Dec 2001 00:05:16 +0100
Subject: [Rd] crash bug in get("function.name")() (PR#1211)
References: <200112112232.XAA15690@pubhealth.ku.dk>
Message-ID: <3C16912C.75907CDA@statistik.uni-dortmund.de>

rmh@surfer.sbm.temple.edu wrote:
> 
> R : Copyright 2001, The R Development Core Team
> Version 1.3.1  (2001-08-31)
> 
> > tmp <- factor(1:3)
> > get("print.factor")(tmp)
> [1] 1 2 3
> Levels:  1 2 3
> > print.a <- function(x,...) {
> +   print("this is a")
> +   NextMethod("print", x, quote = FALSE, right = TRUE, ...)
> + }
> >
> > get("print.a")
> function(x,...) {
>   print("this is a")
>   NextMethod("print", x, quote = FALSE, right = TRUE, ...)
> }
> > print.a(tmp)
> [1] "this is a"
> [1] 1 2 3
> Levels:  1 2 3
> > get("print.a")(tmp)
> [1] "this is a"
> 
> Process R exited abnormally with code 5 at Tue Dec 11 16:18:17 2001
> 
> ----
> 
> I am using the windows version rw1031
> 
> I also tried on rw1030.   rw1030 gives a different code
> Process R exited abnormally with code 255 at Tue Dec 11 17:31:06 2001


With an existing workspace the same happens with R-1.4.0 (unstable) on
WinNT4.

Also in R-1.4.0 (unstable) the last lines of your example, if started
without an existing workspace, results in:

>  print.a(tmp)
[1] "this is a"
[1] 1 2 3
Levels:  1 2 3 
>  get("print.a")(tmp)
[1] "this is a"
Error in get("print.a")(tmp) : function is not a closure
>  get("print.a")
Error: attempt to apply non-function
>  get 
#### Now a crash!


Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Dec 11 23:33:01 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 12 Dec 2001 00:33:01 +0100
Subject: [Rd] crash bug in get("function.name")() (PR#1211)
In-Reply-To: <3C16912C.75907CDA@statistik.uni-dortmund.de>
References: <200112112232.XAA15690@pubhealth.ku.dk>
 <3C16912C.75907CDA@statistik.uni-dortmund.de>
Message-ID: <x2adwps576.fsf@blueberry.kubism.ku.dk>

Uwe Ligges <ligges@statistik.uni-dortmund.de> writes:

> rmh@surfer.sbm.temple.edu wrote:
> > 
> > R : Copyright 2001, The R Development Core Team
> > Version 1.3.1  (2001-08-31)
> > 
> > > tmp <- factor(1:3)
> > > get("print.factor")(tmp)
> > [1] 1 2 3
> > Levels:  1 2 3
> > > print.a <- function(x,...) {
> > +   print("this is a")
> > +   NextMethod("print", x, quote = FALSE, right = TRUE, ...)
> > + }
> > >
> > > get("print.a")
> > function(x,...) {
> >   print("this is a")
> >   NextMethod("print", x, quote = FALSE, right = TRUE, ...)
> > }
> > > print.a(tmp)
> > [1] "this is a"
> > [1] 1 2 3
> > Levels:  1 2 3
> > > get("print.a")(tmp)
> > [1] "this is a"
> > 
> > Process R exited abnormally with code 5 at Tue Dec 11 16:18:17 2001
> > 
> > ----
> > 
> > I am using the windows version rw1031
> > 
> > I also tried on rw1030.   rw1030 gives a different code
> > Process R exited abnormally with code 255 at Tue Dec 11 17:31:06 2001
> 
> 
> With an existing workspace the same happens with R-1.4.0 (unstable) on
> WinNT4.
> 
> Also in R-1.4.0 (unstable) the last lines of your example, if started
> without an existing workspace, results in:
> 
> >  print.a(tmp)
> [1] "this is a"
> [1] 1 2 3
> Levels:  1 2 3 
> >  get("print.a")(tmp)
> [1] "this is a"
> Error in get("print.a")(tmp) : function is not a closure
> >  get("print.a")
> Error: attempt to apply non-function
> >  get 
> #### Now a crash!

This comes from this spot:

(gdb) 
#3  0x080cc4cc in do_nextmethod (call=0x873cc68, op=0x8214ee8,args=0x873cd2c, 
    env=0x8b2f394) at ../../../R/src/main/objects.c:488
488         s = findFun(CAR(cptr->call), cptr->sysparent);

CAR(cptr->call) grabs the first element of the call. In a construction
like get("print.a")(tmp) that will be  get("print.a"). However, findFun
assumes that it is being passed a symbol, and pokes a HASHVALUE into
what it thinks is the PRINTNAME of the object, and all hell breaks
loose. 

However, given the way that method dispatch works (by "dotting on" the
class name to the function name), I don't think this kind of
construction makes sense at all.  

There probably needs to be a check in findFun that its symbol argument
really is one. It is however of the "Doctor, it hurts when I do this"
variety, and it might be better to keep our hands off it this close to
release time.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rmh@surfer.sbm.temple.edu  Wed Dec 12 00:20:20 2001
From: rmh@surfer.sbm.temple.edu (Rich Heiberger)
Date: Tue, 11 Dec 2001 19:20:20 -0500 (EST)
Subject: [Rd] crash bug in get("function.name")() (PR#1211)
References: <200112112232.XAA15690@pubhealth.ku.dk>
 <3C16912C.75907CDA@statistik.uni-dortmund.de>
Message-ID: <200112120020.fBC0KKL2512179@surfer.sbm.temple.edu>

Peter, your explanation looks right to me, and is certainly consistent
with the crash behavior of
get("print.a")
The R-1.4.0 error message is a good check.

I would think the explanation should prevent the other example from
working as well.  But this one works
get("print.factor")(tmp)
exactly as expected.

Both of these examples work correctly in S-Plus 4.5

Rich
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ligges@statistik.uni-dortmund.de  Wed Dec 12 12:28:37 2001
From: ligges@statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 12 Dec 2001 13:28:37 +0100
Subject: [Rd] Re: [R] Rcmd SHLIB problem
References: <Pine.LNX.4.31.0112121021250.3547-100000@gannet.stats>
Message-ID: <3C174D75.5B75BD7E@statistik.uni-dortmund.de>

[moved to R-devel]

Prof Brian Ripley wrote:
> 
> it should and does work with Fortran (and C++) files.  The right format is
> 
> Rcmd SHLIB tryf.f
> 
> I've just tested that under rw1031 and the pretest of 1.4.0, so I've
> no idea what's up for you.
> B
> 
> On Mon, 10 Dec 2001, Liaw, Andy wrote:
> 
> > Dear R-help,
> >
> > I'm having problem creating a dll using Rcmd SHLIB with R-1.3.1 on WinNT4:
> >
> > C:\TEMP>Rcmd SHLIB tryf.o
> > make[1]: `libR.a' is up to date.
> > make: *** No rule to make target `'tryf.o', needed by `tryf.a'.  Stop.
> >
> > C:\TEMP>Rcmd SHLIB tryf.f
> > make[1]: `libR.a' is up to date.
> > make: *** No rule to make target `'tryf.o', needed by `tryf.a'.  Stop.
                                    ^^^^
Notice the quotes! Same problem here (R-1.4.0, unstable, NT4).

Not sure if it is a bug in R, in perl or in (what I presume) make.
To debug it, I took the relevant line from SHLIB (inserting the
variables):

make -f d:/uwe-ns/R140-071201/src/gnuwin32/MakeDll
RHOME=d:/uwe-ns/R140-071201 DEBUG=T DLLNAME=pan CFSOURCES='pan.f'
CXXSOURCES='' RCOBJ=
make: *** No rule to make target `'pan.o', needed by `pan.a'.  Stop.


Now leaving out quotes at some places:

d:\uwe>make -f d:/uwe-ns/R140-071201/src/gnuwin32/MakeDll
RHOME=d:/uwe-ns/R140-071201 DEBUG=T DLLNAME=pan CFSOURCES='pan.f'
CXXSOURCES= RCOBJ=
make: *** No rule to make target `'pan.o', needed by `pan.a'.  Stop.

make -f d:/uwe-ns/R140-071201/src/gnuwin32/MakeDll
RHOME=d:/uwe-ns/R140-071201 DEBUG=T DLLNAME=pan CFSOURCES=pan.f
CXXSOURCES='' RCOBJ=
g77 -O2 -g -Wall  -c pan.f -o pan.o
make: *** No rule to make target `''.o', needed by `pan.a'.  Stop.

make -f d:/uwe-ns/R140-071201/src/gnuwin32/MakeDll
RHOME=d:/uwe-ns/R140-071201 DEBUG=T DLLNAME=pan CFSOURCES=pan.f
CXXSOURCES= RCOBJ=
rm -f -f pan.a
ar cr pan.a *.o
ranlib pan.a
------- Building pan.dll from pan.a --------
echo LIBRARY pan > pan.def
echo EXPORTS >> pan.def
nm pan.a > Defs
sed -n '/^........ [BCDRT] _/s/^........ [BCDRT] _/ /p' Defs >> pan.def
rm -f Defs
gcc  --shared   -o pan.dll pan.def pan.a   -lg2c
d:/uwe-ns/R140-071201/bin/R.dll


OK. This works now --- without any quotes - but where is the error?

The following line also works (other kind of quotes):

make -f d:/uwe-ns/R140-071201/src/gnuwin32/MakeDll
RHOME=d:/uwe-ns/R140-071201 DEBUG=T DLLNAME=pan CFSOURCES="pan.f"
CXXSOURCES="" RCOBJ=


As a summary: Changing the relevant line in SHLIB to
system("make -f $R_HOME/src/gnuwin32/MakeDll RHOME=$R_HOME $debug
DLLNAME=$dllname CFSOURCES=$srcs CXXSOURCES=$cxx RCOBJ=");

works, but that's not a general solution. And "double-quotes" cannot be
used two times.
Any ideas?


> > I compiled R from source, so I'm quite sure I've got all the right tools.
> > Can anyone explain what I'm missing?  The FAQ only mentioned compiling C
> > code.  I'd imagine that Fortran code works the same way, no?
> >
> > Any help/hint are much appreciated!

Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Dec 12 13:18:55 2001
From: p.dalgaard@biostat.ku.dk (p.dalgaard@biostat.ku.dk)
Date: Wed, 12 Dec 2001 14:18:55 +0100 (MET)
Subject: [Rd] crash bug in get("function.name")() (PR#1211)
Message-ID: <200112121318.OAA23307@pubhealth.ku.dk>

Rich Heiberger <rmh@surfer.sbm.temple.edu> writes:

> Peter, your explanation looks right to me, and is certainly consistent
> with the crash behavior of
> get("print.a")
> The R-1.4.0 error message is a good check.
> 
> I would think the explanation should prevent the other example from
> working as well.  But this one works
> get("print.factor")(tmp)
> exactly as expected.
> 
> Both of these examples work correctly in S-Plus 4.5

(S-PLUS 3.4 too)

There's no NextMethod in print.factor, but I was wrong on the other
example: It has NextMethod("print",....) with an explicit generic, so
I don't think it should go near the CAR(call) bit at all.

I'll take a closer look, but there's also a few other nasty bugs
nagging us at the moment, and this looks like it could require surgery
to do_nextmethod with some risk of complications.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Dec 12 13:11:07 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 12 Dec 2001 14:11:07 +0100
Subject: [Rd] crash bug in get("function.name")() (PR#1211)
In-Reply-To: <200112120020.fBC0KKL2512179@surfer.sbm.temple.edu>
References: <200112112232.XAA15690@pubhealth.ku.dk>
 <3C16912C.75907CDA@statistik.uni-dortmund.de>
 <200112120020.fBC0KKL2512179@surfer.sbm.temple.edu>
Message-ID: <x23d2g37o4.fsf@blueberry.kubism.ku.dk>

Rich Heiberger <rmh@surfer.sbm.temple.edu> writes:

> Peter, your explanation looks right to me, and is certainly consistent
> with the crash behavior of
> get("print.a")
> The R-1.4.0 error message is a good check.
> 
> I would think the explanation should prevent the other example from
> working as well.  But this one works
> get("print.factor")(tmp)
> exactly as expected.
> 
> Both of these examples work correctly in S-Plus 4.5

(S-PLUS 3.4 too)

There's no NextMethod in print.factor, but I was wrong on the other
example: It has NextMethod("print",....) with an explicit generic, so
I don't think it should go near the CAR(call) bit at all.

I'll take a closer look, but there's also a few other nasty bugs
nagging us at the moment, and this looks like it could require surgery
to do_nextmethod with some risk of complications.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From andy_liaw@merck.com  Wed Dec 12 13:45:35 2001
From: andy_liaw@merck.com (Liaw, Andy)
Date: Wed, 12 Dec 2001 08:45:35 -0500
Subject: [Rd] RE: [R] Rcmd SHLIB problem
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC840D@usrymx10.merck.com>

Yes, changing line 67 of SHLIB as Uwe suggested worked:

C:\TEMP>Rcmd SHLIB tryf.f
make[1]: `libR.a' is up to date.
rm -f -f tryf.a
ar cr tryf.a *.o
ranlib tryf.a
------- Building tryf.dll from tryf.a --------
echo LIBRARY tryf > tryf.def
echo EXPORTS >> tryf.def
nm tryf.a > Defs
sed -n '/^........ [BCDRT] _/s/^........ [BCDRT] _/ /p' Defs >> tryf.def
rm -f Defs
gcc  --shared -s  -o tryf.dll tryf.def tryf.a  -Lc:/progra~1/R/rw1031/src/
gnuwin32  -lg2c -Lc:/Rtools/ATLAS/lib/WinNT_PIIISSE1 -lcblas -lf77blas
-latlas -lR

Thanks very much for the (temporary) solution.  The question is, could this
be a permanent fix?

Regards,
Andy

> -----Original Message-----
> From: Uwe Ligges [mailto:ligges@statistik.uni-dortmund.de]
> Sent: Wednesday, December 12, 2001 7:29 AM
> To: Prof Brian Ripley
> Cc: Liaw, Andy; R-devel
> Subject: Re: [R] Rcmd SHLIB problem
> 
> 
> [moved to R-devel]
> 
> Prof Brian Ripley wrote:
> > 
> > it should and does work with Fortran (and C++) files.  The 
> right format is
> > 
> > Rcmd SHLIB tryf.f
> > 
> > I've just tested that under rw1031 and the pretest of 1.4.0, so I've
> > no idea what's up for you.
> > B
> > 
> > On Mon, 10 Dec 2001, Liaw, Andy wrote:
> > 
> > > Dear R-help,
> > >
> > > I'm having problem creating a dll using Rcmd SHLIB with 
> R-1.3.1 on WinNT4:
> > >
> > > C:\TEMP>Rcmd SHLIB tryf.o
> > > make[1]: `libR.a' is up to date.
> > > make: *** No rule to make target `'tryf.o', needed by 
> `tryf.a'.  Stop.
> > >
> > > C:\TEMP>Rcmd SHLIB tryf.f
> > > make[1]: `libR.a' is up to date.
> > > make: *** No rule to make target `'tryf.o', needed by 
> `tryf.a'.  Stop.
>                                     ^^^^
> Notice the quotes! Same problem here (R-1.4.0, unstable, NT4).
> 
> Not sure if it is a bug in R, in perl or in (what I presume) make.
> To debug it, I took the relevant line from SHLIB (inserting the
> variables):
> 
> make -f d:/uwe-ns/R140-071201/src/gnuwin32/MakeDll
> RHOME=d:/uwe-ns/R140-071201 DEBUG=T DLLNAME=pan CFSOURCES='pan.f'
> CXXSOURCES='' RCOBJ=
> make: *** No rule to make target `'pan.o', needed by `pan.a'.  Stop.
> 
> 
> Now leaving out quotes at some places:
> 
> d:\uwe>make -f d:/uwe-ns/R140-071201/src/gnuwin32/MakeDll
> RHOME=d:/uwe-ns/R140-071201 DEBUG=T DLLNAME=pan CFSOURCES='pan.f'
> CXXSOURCES= RCOBJ=
> make: *** No rule to make target `'pan.o', needed by `pan.a'.  Stop.
> 
> make -f d:/uwe-ns/R140-071201/src/gnuwin32/MakeDll
> RHOME=d:/uwe-ns/R140-071201 DEBUG=T DLLNAME=pan CFSOURCES=pan.f
> CXXSOURCES='' RCOBJ=
> g77 -O2 -g -Wall  -c pan.f -o pan.o
> make: *** No rule to make target `''.o', needed by `pan.a'.  Stop.
> 
> make -f d:/uwe-ns/R140-071201/src/gnuwin32/MakeDll
> RHOME=d:/uwe-ns/R140-071201 DEBUG=T DLLNAME=pan CFSOURCES=pan.f
> CXXSOURCES= RCOBJ=
> rm -f -f pan.a
> ar cr pan.a *.o
> ranlib pan.a
> ------- Building pan.dll from pan.a --------
> echo LIBRARY pan > pan.def
> echo EXPORTS >> pan.def
> nm pan.a > Defs
> sed -n '/^........ [BCDRT] _/s/^........ [BCDRT] _/ /p' Defs 
> >> pan.def
> rm -f Defs
> gcc  --shared   -o pan.dll pan.def pan.a   -lg2c
> d:/uwe-ns/R140-071201/bin/R.dll
> 
> 
> OK. This works now --- without any quotes - but where is the error?
> 
> The following line also works (other kind of quotes):
> 
> make -f d:/uwe-ns/R140-071201/src/gnuwin32/MakeDll
> RHOME=d:/uwe-ns/R140-071201 DEBUG=T DLLNAME=pan CFSOURCES="pan.f"
> CXXSOURCES="" RCOBJ=
> 
> 
> As a summary: Changing the relevant line in SHLIB to
> system("make -f $R_HOME/src/gnuwin32/MakeDll RHOME=$R_HOME $debug
> DLLNAME=$dllname CFSOURCES=$srcs CXXSOURCES=$cxx RCOBJ=");
> 
> works, but that's not a general solution. And "double-quotes" 
> cannot be
> used two times.
> Any ideas?
> 
> 
> > > I compiled R from source, so I'm quite sure I've got all 
> the right tools.
> > > Can anyone explain what I'm missing?  The FAQ only 
> mentioned compiling C
> > > code.  I'd imagine that Fortran code works the same way, no?
> > >
> > > Any help/hint are much appreciated!
> 
> Uwe
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Dec 12 13:54:29 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 12 Dec 2001 13:54:29 +0000 (GMT)
Subject: [Rd] RE: [R] Rcmd SHLIB problem
In-Reply-To: <51F9C42DA15CD311BD220008C707D81903DC840D@usrymx10.merck.com>
Message-ID: <Pine.LNX.4.31.0112121348350.3879-100000@gannet.stats>

On Wed, 12 Dec 2001, Liaw, Andy wrote:

> Yes, changing line 67 of SHLIB as Uwe suggested worked:
>
> C:\TEMP>Rcmd SHLIB tryf.f
> make[1]: `libR.a' is up to date.
> rm -f -f tryf.a
> ar cr tryf.a *.o
> ranlib tryf.a
> ------- Building tryf.dll from tryf.a --------
> echo LIBRARY tryf > tryf.def
> echo EXPORTS >> tryf.def
> nm tryf.a > Defs
> sed -n '/^........ [BCDRT] _/s/^........ [BCDRT] _/ /p' Defs >> tryf.def
> rm -f Defs
> gcc  --shared -s  -o tryf.dll tryf.def tryf.a  -Lc:/progra~1/R/rw1031/src/
> gnuwin32  -lg2c -Lc:/Rtools/ATLAS/lib/WinNT_PIIISSE1 -lcblas -lf77blas
> -latlas -lR
>
> Thanks very much for the (temporary) solution.  The question is, could this
> be a permanent fix?

No.  It only works for one input file.  The quotes were not there for fun!
(Also names with spaces in.)

We think this may be a perl version problem.  Uwe has build 623. I have
build 630.  Quite a few things malfunctioned with 623 for me under Windows
98.  What do you have?


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From andy_liaw@merck.com  Wed Dec 12 14:07:28 2001
From: andy_liaw@merck.com (Liaw, Andy)
Date: Wed, 12 Dec 2001 09:07:28 -0500
Subject: [Rd] RE: [R] Rcmd SHLIB problem
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC840E@usrymx10.merck.com>

Prof. Ripley,

Seems like mine is 629:

c:\home>perl -v

This is perl, v5.6.1 built for MSWin32-x86-multi-thread
(with 1 registered patch, see perl -V for more detail)

Copyright 1987-2001, Larry Wall

Binary build 629 provided by ActiveState Tool Corp.
http://www.ActiveState.com
Built 12:27:04 Aug 20 2001

Will try a newer build and see.

Regards,
Andy

> -----Original Message-----
> From: Prof Brian Ripley [mailto:ripley@stats.ox.ac.uk]
> Sent: Wednesday, December 12, 2001 8:54 AM
> To: Liaw, Andy
> Cc: 'Uwe Ligges'; R-devel
> Subject: Re: [Rd] RE: [R] Rcmd SHLIB problem
> 
> 
> On Wed, 12 Dec 2001, Liaw, Andy wrote:
> 
> > Yes, changing line 67 of SHLIB as Uwe suggested worked:
> >
> > C:\TEMP>Rcmd SHLIB tryf.f
> > make[1]: `libR.a' is up to date.
> > rm -f -f tryf.a
> > ar cr tryf.a *.o
> > ranlib tryf.a
> > ------- Building tryf.dll from tryf.a --------
> > echo LIBRARY tryf > tryf.def
> > echo EXPORTS >> tryf.def
> > nm tryf.a > Defs
> > sed -n '/^........ [BCDRT] _/s/^........ [BCDRT] _/ /p' 
> Defs >> tryf.def
> > rm -f Defs
> > gcc  --shared -s  -o tryf.dll tryf.def tryf.a  
> -Lc:/progra~1/R/rw1031/src/
> > gnuwin32  -lg2c -Lc:/Rtools/ATLAS/lib/WinNT_PIIISSE1 
> -lcblas -lf77blas
> > -latlas -lR
> >
> > Thanks very much for the (temporary) solution.  The 
> question is, could this
> > be a permanent fix?
> 
> No.  It only works for one input file.  The quotes were not 
> there for fun!
> (Also names with spaces in.)
> 
> We think this may be a perl version problem.  Uwe has build 
> 623. I have
> build 630.  Quite a few things malfunctioned with 623 for me 
> under Windows
> 98.  What do you have?
> 
> 
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@nokomis.stat.umn.edu  Wed Dec 12 15:51:46 2001
From: luke@nokomis.stat.umn.edu (Luke Tierney)
Date: Wed, 12 Dec 2001 09:51:46 -0600
Subject: [Rd] crash bug in get("function.name")() (PR#1211)
In-Reply-To: <x23d2g37o4.fsf@blueberry.kubism.ku.dk>; from p.dalgaard@biostat.ku.dk on Wed, Dec 12, 2001 at 02:11:07PM +0100
References: <200112112232.XAA15690@pubhealth.ku.dk> <3C16912C.75907CDA@statistik.uni-dortmund.de> <200112120020.fBC0KKL2512179@surfer.sbm.temple.edu> <x23d2g37o4.fsf@blueberry.kubism.ku.dk>
Message-ID: <20011212095146.A12155@nokomis.stat.umn.edu>

I don't think I'll get to look at this cerefully today, but here is
just a thought: My recollection is that NextMethod needs to be called
only from within a usemethod dispatch because the dispatch needs to
set up stuff in the environment that NextMethod needs.  If you do

print.a <- function(...) NextMethod()

and then call print.a directly then the stuff NextMethod needs isn't
set up, so NextMethod can't do anything useful.  I think the
do_nextmethod tries to detect this and raise an error, but for some
reason it isn't detecting the problem here.

luke

On Wed, Dec 12, 2001 at 02:11:07PM +0100, Peter Dalgaard BSA wrote:
> Rich Heiberger <rmh@surfer.sbm.temple.edu> writes:
> 
> > Peter, your explanation looks right to me, and is certainly consistent
> > with the crash behavior of
> > get("print.a")
> > The R-1.4.0 error message is a good check.
> > 
> > I would think the explanation should prevent the other example from
> > working as well.  But this one works
> > get("print.factor")(tmp)
> > exactly as expected.
> > 
> > Both of these examples work correctly in S-Plus 4.5
> 
> (S-PLUS 3.4 too)
> 
> There's no NextMethod in print.factor, but I was wrong on the other
> example: It has NextMethod("print",....) with an explicit generic, so
> I don't think it should go near the CAR(call) bit at all.
> 
> I'll take a closer look, but there's also a few other nasty bugs
> nagging us at the moment, and this looks like it could require surgery
> to do_nextmethod with some risk of complications.
> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke@stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@nokomis.stat.umn.edu  Wed Dec 12 15:52:06 2001
From: luke@nokomis.stat.umn.edu (luke@nokomis.stat.umn.edu)
Date: Wed, 12 Dec 2001 16:52:06 +0100 (MET)
Subject: [Rd] crash bug in get("function.name")() (PR#1211)
Message-ID: <200112121552.QAA25631@pubhealth.ku.dk>

I don't think I'll get to look at this cerefully today, but here is
just a thought: My recollection is that NextMethod needs to be called
only from within a usemethod dispatch because the dispatch needs to
set up stuff in the environment that NextMethod needs.  If you do

print.a <- function(...) NextMethod()

and then call print.a directly then the stuff NextMethod needs isn't
set up, so NextMethod can't do anything useful.  I think the
do_nextmethod tries to detect this and raise an error, but for some
reason it isn't detecting the problem here.

luke

On Wed, Dec 12, 2001 at 02:11:07PM +0100, Peter Dalgaard BSA wrote:
> Rich Heiberger <rmh@surfer.sbm.temple.edu> writes:
> 
> > Peter, your explanation looks right to me, and is certainly consistent
> > with the crash behavior of
> > get("print.a")
> > The R-1.4.0 error message is a good check.
> > 
> > I would think the explanation should prevent the other example from
> > working as well.  But this one works
> > get("print.factor")(tmp)
> > exactly as expected.
> > 
> > Both of these examples work correctly in S-Plus 4.5
> 
> (S-PLUS 3.4 too)
> 
> There's no NextMethod in print.factor, but I was wrong on the other
> example: It has NextMethod("print",....) with an explicit generic, so
> I don't think it should go near the CAR(call) bit at all.
> 
> I'll take a closer look, but there's also a few other nasty bugs
> nagging us at the moment, and this looks like it could require surgery
> to do_nextmethod with some risk of complications.
> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke@stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Dec 12 16:35:53 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 12 Dec 2001 16:35:53 +0000 (GMT)
Subject: [Rd] Re: [R] Rcmd SHLIB problem
In-Reply-To: <3C174D75.5B75BD7E@statistik.uni-dortmund.de>
Message-ID: <Pine.LNX.4.31.0112121632180.4155-100000@gannet.stats>

The answer seems to be: make sure you are using the tools in a current
tools.zip.  Neither Andy nor Uwe were.  Both the version of make.exe and
cygwin1.dll are critical.

It's also wise to have a fairly recent version of Perl (628 or later), as
some earlier ones made errors in calls to system() (as used in Rcmd
SHLIB) on Win 9x.

On Wed, 12 Dec 2001, Uwe Ligges wrote:

> [moved to R-devel]
>
> Prof Brian Ripley wrote:
> >
> > it should and does work with Fortran (and C++) files.  The right format is
> >
> > Rcmd SHLIB tryf.f
> >
> > I've just tested that under rw1031 and the pretest of 1.4.0, so I've
> > no idea what's up for you.
> > B

[...]

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From andy_liaw@merck.com  Wed Dec 12 16:46:32 2001
From: andy_liaw@merck.com (Liaw, Andy)
Date: Wed, 12 Dec 2001 11:46:32 -0500
Subject: [Rd] Re: [R] Rcmd SHLIB problem
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC8411@usrymx10.merck.com>

> From: Prof Brian Ripley [mailto:ripley@stats.ox.ac.uk]
> 
> The answer seems to be: make sure you are using the tools in a current
> tools.zip.  Neither Andy nor Uwe were.  Both the version of 
> make.exe and
> cygwin1.dll are critical.
> 
> It's also wise to have a fairly recent version of Perl (628 
> or later), as
> some earlier ones made errors in calls to system() (as used in Rcmd
> SHLIB) on Win 9x.

Indeed.  The cygwin1.dll I have in c:\cygwin\bin has date stamp later than
the one in Rtools.zip, and that's the problem.  Taking c:\cygwin\bin out of
the PATH solved the problem.  I don't remember why I had \cygwin\bin in the
PATH.  The default setup for bash adds the needed directories to the path
anyway.

Thanks very much to Prof. Ripley and Uwe Ligges for the help!!

Regards,
Andy 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Wed Dec 12 18:04:17 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Wed, 12 Dec 2001 19:04:17 +0100
Subject: [Rd] windows testing
Message-ID: <3C179C21.B7258EE@univie.ac.at>


with 

R-devel_2001-12-12.tar.gz

on win32k

i cannot comlete i build, i get

make -C front-ends
make[1]: Entering directory
`/cygdrive/d/Work/R-devel/src/gnuwin32/front-ends'
gcc  -c -o graphappmain.o -I../graphapp -O2 -Wall -pedantic
-I../../include ../g
raphapp/graphappmain.c
gcc  -O2 -Wall -pedantic -I../../include -DWin32 -c rgui.c -o rgui.o
windres   -i rgico.rc -o rgico.o
gcc  -s -mwindows -o Rgui.exe graphappmain.o rgui.o rgico.o -L.. -lRm
d:\Rtools\bin\..\lib\gcc-lib\mingw32\2.95.3-6\..\..\..\..\mingw32\bin\ld.exe:
ca
nnot find -lRm
make[1]: *** [Rgui.exe] Error 1
make[1]: Leaving directory
`/cygdrive/d/Work/R-devel/src/gnuwin32/front-ends'
make: *** [front-ends] Error 2


doing it with
R-devel_2001-12-07.tar.gz
works, however



--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Wed Dec 12 19:00:05 2001
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Wed, 12 Dec 2001 14:00:05 -0500
Subject: [Rd] windows testing
In-Reply-To: <3C179C21.B7258EE@univie.ac.at>
References: <3C179C21.B7258EE@univie.ac.at>
Message-ID: <76af1ugfqan4jv61te6oropsb95io69j4o@4ax.com>

On Wed, 12 Dec 2001 19:04:17 +0100, you wrote in message
<3C179C21.B7258EE@univie.ac.at>:

>
>with 
>
>R-devel_2001-12-12.tar.gz
>
>on win32k
>
>i cannot comlete i build, i get

>gcc  -s -mwindows -o Rgui.exe graphappmain.o rgui.o rgico.o -L.. -lRm
>d:\Rtools\bin\..\lib\gcc-lib\mingw32\2.95.3-6\..\..\..\..\mingw32\bin\ld.exe:
>ca
>nnot find -lRm

Today's Makefile is missing a dependency; you need to do

 make libRm.a

in the gnuwin32 directory.  After that things should be fine.  (Or
wait for tomorrow's version!)

Duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jmc@research.bell-labs.com  Wed Dec 12 20:24:44 2001
From: jmc@research.bell-labs.com (John Chambers)
Date: Wed, 12 Dec 2001 15:24:44 -0500
Subject: [Rd] Changes to methods package in R 1.4
Message-ID: <3C17BD0C.38F20F90@research.bell-labs.com>

A few recent changes:

- as announced to R-core, the package now has a version of the plot
function with formal arguments (x, y, ...) that allow methods to be
defined for x and/or y.  ?setMethod has some examples.

- The "basic classes" have been made somewhat more complete (class
"structure" was added, along with relations among it, "matrix", "array",
"ts", and "vector").  Closer to the green book and conventional S
relations.
  For 1.4, this doesn't quite go as far as having formal slots for
"matrix", etc.  Formal slots for these classes should work, but there
may be some touchy points in back-compatibility, particularly with the
"optional" dimnames slot for arrays, so the plan is to leave that for
the next version.

- A number of checks for duplicate slots and other problems have been
added.  Situations were being let through that could cause bad problems
later (e.g., slots with different classes in inherited duplicates).  An
example was added to ?setClass illustrating what's caught by some of the
checks.

John
-- 
John M. Chambers                  jmc@bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Thu Dec 13 13:38:30 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Thu, 13 Dec 2001 14:38:30 +0100
Subject: [Rd] windows build
Message-ID: <3C18AF56.B83088C8@univie.ac.at>

with todays r-devel..tar.gz

make distribution 
hangs on my win98 machine.

this is the las message i see

MAKE[2]: Leaving directory
`/cygdrive/c/devel/R-devel/src/gnuwin32/bitmap/jpeg-6
b'
cp Rbitmap.dll ../../../bin
MAKE[1]: Leaving directory
`/cygdrive/c/devel/R-devel/src/gnuwin32/bitmap'

after that, the it seems that sed is running
and somehow hangs.

i do have the tools from brians www page.

one thing i noticed is that both brianks kit and the
mingw compiler have a make.
which one should be used for compiling?







--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From possolo@crd.ge.com  Thu Dec 13 14:41:07 2001
From: possolo@crd.ge.com (possolo@crd.ge.com)
Date: Thu, 13 Dec 2001 15:41:07 +0100 (MET)
Subject: [Rd] sample (PR#1212)
Message-ID: <200112131441.PAA07523@pubhealth.ku.dk>

Full_Name: Antonio Possolo
Version: 1.3.1
OS: Linux (RH 7.1), Windows 2000
Submission from: (NULL) (192.35.44.3)


A FEATURE THAT EASILY GENERATES BUGS

sample(pi, size=1) produces 1, 2, or 3.
sample(c(pi, pi), size=1) produces 3.141593 always.

Although this conforms with the behavior explained in the help page for
"sample",
the behavior for the case where x (in sample(x, ...)) has length 1 can easily
lead to errors if x is generated automatically and one neglects to check its
length before sampling from it.

I believe it would be safest to require x to be always the full set of values
one wishes to sample from, and remove the special meaning that is attached
to the case when x is of length 1.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Thu Dec 13 15:26:46 2001
From: murdoch@stats.uwo.ca (murdoch@stats.uwo.ca)
Date: Thu, 13 Dec 2001 16:26:46 +0100 (MET)
Subject: [Rd] Doc suggestion for detach (and library) (PR#1213)
Message-ID: <200112131526.QAA08391@pubhealth.ku.dk>

The example in ?detach says

     ## could equally well use detach("package:eda")
     ## but NOT  pkg <- "package:eda"; detach(pkg)

It would be helpful if the code to do what was meant above was given,
e.g.

     ## Instead, use

     library(eda)
     pkg <- "package:eda"
     detach(pos = match(pkg,search()))

It might also be helpful to include a "character.only" example in the
help for library.

Duncan Murdoch

--please do not edit the information below--

Version:
 platform = i386-pc-mingw32
 arch = x86
 os = Win32
 system = x86, Win32
 status = Under development (unstable)
 major = 1
 minor = 4.0
 year = 2001
 month = 12
 day = 13
 language = R

Windows 98 4.10 (build 1998)  

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Thu Dec 13 15:33:30 2001
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Thu, 13 Dec 2001 10:33:30 -0500
Subject: [Rd] Windows testing
In-Reply-To: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>
References: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>
Message-ID: <6fih1uk81od2d26eqam0g1ejm4iod9tg2q@4ax.com>

I've just put today's Window's build online at 

 <http://www.stats.uwo.ca/faculty/murdoch/software/r-devel> 

I won't be able to update it again before Monday.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Dec 13 15:50:22 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Dec 2001 16:50:22 +0100
Subject: [Rd] error in qbeta (PR#1201)
In-Reply-To: <x2her0xsoy.fsf@blueberry.kubism.ku.dk>
References: <200112091257.NAA17087@pubhealth.ku.dk>
 <x2her0xsoy.fsf@blueberry.kubism.ku.dk>
Message-ID: <x27krrt8zl.fsf@blueberry.kubism.ku.dk>

Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:

> z.yang@ucl.ac.uk writes:

> > I noticed that qbeta is sometimes wrong and the error is not even due to the
> > beta parameters being too extreme.  I am calculating the quantiles corresponding
> > to cdf = 0.05, 0.15, ..., 0.95.  The value corresponding to cdf=0.25 is wrong
> > while all other values are correct.  
> > 
> > qbeta(0.05, 0.143891, 0.05) = 1.040850e-05   correct
> > qbeta(0.15, 0.143891, 0.05) = 0.021161       correct
> > qbeta(0.25, 0.143891, 0.05) = 3e-308         wrong (correct value is 0.457227)
> > qbeta(0.35, 0.143891, 0.05) = 0.945217       correct
> > 
> > I also used your source file qbeta.c to do the same calculation, and it seems
> > that something might be wrong in the "initial approximation", before the
> > newton-raphson iteration. 

Thanks for reporting this.

We think we have a better version in the current snapshots for 1.4.0
(available at http://www.stats.uwo.ca/faculty/murdoch/software/r-devel)

It turns out that the initial approximation simply isn't very good in
this case, it becomes negative and the algorithms sets it to a small
number. This is true of the original Fortran code too, but we had
chosen a rather smaller small number and that caused the algorithm to
converge falsely. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Thu Dec 13 16:16:10 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Thu, 13 Dec 2001 17:16:10 +0100
Subject: [Rd] windows build
References: <51F9C42DA15CD311BD220008C707D81903DC841A@usrymx10.merck.com>
Message-ID: <3C18D44A.8288A291@univie.ac.at>

it seems that my problem once again was a leftover cygwin1.dll
in another directory which is NOT in the path.

i think we had a report about this problem
on the list some days ago.

after renaming ALL cygwin1.dll's 
except the one in the directory with brian's tools
things worked smoothly again.




"Liaw, Andy" wrote:
> 
> > one thing i noticed is that both brianks kit and the
> > mingw compiler have a make.
> > which one should be used for compiling?
> 
> The one in Prof. Ripley's Rtools.zip is extracted from cygwin.  I recalled
> reading somewhere in the instruction that the one in minGW sometimes doesn't
> work.
> 
> Andy

--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rmh@surfer.sbm.temple.edu  Thu Dec 13 18:44:56 2001
From: rmh@surfer.sbm.temple.edu (rmh@surfer.sbm.temple.edu)
Date: Thu, 13 Dec 2001 19:44:56 +0100 (MET)
Subject: [Rd] syntax questtion, maybe a bug (PR#1214)
Message-ID: <200112131844.TAA09960@pubhealth.ku.dk>


S-Plus takes names of the form ".2logl" since it sees a single set of
letters beginning with "." and continuing with alphanumerics.
> .2logl <- function(x) 2*log(x)
> .2logl(3)
[1] 2.197225
>

The same name is rejected by R, my guess is that the ".2" is recognized as
a number and then there is no operator symbol between the "2" and the
following alphabet symbols.
> .2logl <- function(x) 2*log(x)
Error: syntax error

Is this an intentional syntax difference between R and S?  Or is it a bug?


(continue)
I am using rw1031 Version 1.3.1  (2001-08-31) on windows.

Rich

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rpeng@stat.ucla.edu  Thu Dec 13 19:51:24 2001
From: rpeng@stat.ucla.edu (rpeng@stat.ucla.edu)
Date: Thu, 13 Dec 2001 20:51:24 +0100 (MET)
Subject: [Rd] Error when library() called with no arguments (PR#1215)
Message-ID: <200112131951.UAA10233@pubhealth.ku.dk>

Full_Name: Roger peng
Version: 1.4.0 (2001-12-13)
OS: GNU/Linux (Redhat 7.1)
Submission from: (NULL) (128.97.86.126)


R compiles fine and runs, but when I call the library() function with no
arguments I get the error:

> library()
Error in FUN(X[[2]], ...) : subscript out of bounds
make check also fails when running code in base-Ex.R (I'm assuming it fails
where library() function is called).

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Dec 13 19:59:45 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 13 Dec 2001 20:59:45 +0100 (MET)
Subject: [Rd] Error when library() called with no arguments (PR#1215)
Message-ID: <200112131959.UAA10287@pubhealth.ku.dk>

On Thu, 13 Dec 2001 rpeng@stat.ucla.edu wrote:

> Full_Name: Roger peng
> Version: 1.4.0 (2001-12-13)
> OS: GNU/Linux (Redhat 7.1)
> Submission from: (NULL) (128.97.86.126)
>
>
> R compiles fine and runs, but when I call the library() function with no
> arguments I get the error:
>
> > library()
> Error in FUN(X[[2]], ...) : subscript out of bounds
> make check also fails when running code in base-Ex.R (I'm assuming it fails
> where library() function is called).

That's not very informative.  Could you at least run traceback(),
and/or run debug() and chase it down?

It works on all my systems: might you perchance have a broken package
installed?  The likelihod is that it a local-to-you problem.

We can't fix non-repoducible problems!

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Dec 13 21:38:33 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Dec 2001 22:38:33 +0100
Subject: [Rd] Error when library() called with no arguments (PR#1215)
In-Reply-To: <200112131959.UAA10287@pubhealth.ku.dk>
References: <200112131959.UAA10287@pubhealth.ku.dk>
Message-ID: <x23d2eajhi.fsf@blueberry.kubism.ku.dk>

ripley@stats.ox.ac.uk writes:

> On Thu, 13 Dec 2001 rpeng@stat.ucla.edu wrote:
> 
> > Full_Name: Roger peng
> > Version: 1.4.0 (2001-12-13)
> > OS: GNU/Linux (Redhat 7.1)
> > Submission from: (NULL) (128.97.86.126)
> >
> >
> > R compiles fine and runs, but when I call the library() function with no
> > arguments I get the error:
> >
> > > library()
> > Error in FUN(X[[2]], ...) : subscript out of bounds
> > make check also fails when running code in base-Ex.R (I'm assuming it fails
> > where library() function is called).
> 
> That's not very informative.  Could you at least run traceback(),
> and/or run debug() and chase it down?
> 
> It works on all my systems: might you perchance have a broken package
> installed?  The likelihod is that it a local-to-you problem.
> 
> We can't fix non-repoducible problems!

I don't see it either - on both my RH7.1 systems. Was this a run from
a clean slate or on top of a previous build? Any warnings/error during
configuration or building? 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rmh@surfer.sbm.temple.edu  Fri Dec 14 04:40:07 2001
From: rmh@surfer.sbm.temple.edu (Rich Heiberger)
Date: Thu, 13 Dec 2001 23:40:07 -0500 (EST)
Subject: [Rd] crash bug in get("function.name")() (PR#1211)
References: <200112112232.XAA15690@pubhealth.ku.dk>
 <3C16912C.75907CDA@statistik.uni-dortmund.de>
 <200112120020.fBC0KKL2512179@surfer.sbm.temple.edu>
 <x23d2g37o4.fsf@blueberry.kubism.ku.dk>
Message-ID: <200112140440.fBE4e7R2530944@surfer.sbm.temple.edu>

I tried the same exercise in S-Plus 6.  S-Plus 6 rejects any direct use
of a method.  It requires use of the generic.  It provides an error message
that might make sense to us, but probably not to a user.  The message
is consistent with Luke's intuition of coming into the middle of a sequence
that was not properly initiated with UseMethod.

Professional Edition Version 6.0.3 Release 2 for Microsoft Windows : 2001 

> tmp <- factor(1:3)
> tmp
[1] 1 2 3
> print.factor(tmp)
Warning messages:
  the "..." object should be a list but has mode "missing"
Problem in NextMethod("print", quote = quote): argument "..1" is missing with no default 
Use traceback() to see the call stack
> get("print.factor")(tmp)
Warning messages:
  the "..." object should be a list but has mode "missing"
Problem in NextMethod("print", quote = quote): argument "..1" is missing with no default 
Use traceback() to see the call stack
> 
> get("print")(tmp)
[1] 1 2 3
>

Rich
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Dec 14 06:31:19 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 14 Dec 2001 06:31:19 +0000 (GMT)
Subject: [Rd] crash bug in get("function.name")() (PR#1211)
In-Reply-To: <200112140440.fBE4e7R2530944@surfer.sbm.temple.edu>
Message-ID: <Pine.GSO.4.31.0112140621290.2243-100000@auk.stats>

On Thu, 13 Dec 2001, Rich Heiberger wrote:

> I tried the same exercise in S-Plus 6.  S-Plus 6 rejects any direct use
> of a method.  It requires use of the generic.  It provides an error message

It only does that for S4-style formal methods, but some care is needed
with S3-style ones.

> that might make sense to us, but probably not to a user.  The message
> is consistent with Luke's intuition of coming into the middle of a sequence
> that was not properly initiated with UseMethod.
>
> Professional Edition Version 6.0.3 Release 2 for Microsoft Windows : 2001
>
> > tmp <- factor(1:3)
> > tmp
> [1] 1 2 3
> > print.factor(tmp)
> Warning messages:
>   the "..." object should be a list but has mode "missing"
> Problem in NextMethod("print", quote = quote): argument "..1" is missing with no default
> Use traceback() to see the call stack
> > get("print.factor")(tmp)
> Warning messages:
>   the "..." object should be a list but has mode "missing"
> Problem in NextMethod("print", quote = quote): argument "..1" is missing with no default
> Use traceback() to see the call stack
> >

Well, it works if called properly:

print.factor(tmp, quote = F)
[1] 1 2 3

> get("print.factor")(tmp, quote = F)
[1] 1 2 3

The issue is to do with optimizing the evaluation of arguments, and
indeed whether the default is taken from the generic or the method.

Note that `S-Plus 6' is not a single entity: the behaviour of
method dispatch differs between 6.0.y versions.  Later ones are stricter
about argument sequence matching between methods and generics (and that is
why R's QA tools have a strict interpretation too, since they must now be
regarded as `standard S').


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Fri Dec 14 08:30:58 2001
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Fri, 14 Dec 2001 09:30:58 +0100 (MET)
Subject: [Rd] sample (PR#1212)
Message-ID: <200112140830.JAA12969@pubhealth.ku.dk>

>>>>> "possolo" == possolo  <possolo@crd.ge.com> writes:

    possolo> Full_Name: Antonio Possolo Version: 1.3.1 OS: Linux
    possolo> (RH 7.1), Windows 2000 Submission from: (NULL)


    possolo> A FEATURE THAT EASILY GENERATES BUGS

    possolo> sample(pi, size=1) produces 1, 2, or 3.
    possolo> sample(c(pi, pi), size=1) produces 3.141593 always.

    possolo> Although this conforms with the behavior explained
    possolo> in the help page for "sample", the behavior for the
    possolo> case where x (in sample(x, ...)) has length 1 can
    possolo> easily lead to errors if x is generated
    possolo> automatically and one neglects to check its length
    possolo> before sampling from it.

I completely share your opinion; and we (not I) only recently
had a case where a user-written function did not work in some
cases when     sample(iv, ...)   was used, with an integer 
vector iv which sometimes (rarely) was of length one.
In your case with `pi' (which is not an integer), we could make
sample() give a warning at least instead of silently coercing to
integer; in our case however, iv[] *is* an integer vector, just
sometimes of length 1 which is inherently ``non-decidable''.

The reason sample() works as it does is S - compatibility
and that *is* important.

    possolo> I believe it would be safest to require x to be
    possolo> always the full set of values one wishes to sample
    possolo> from, and remove the special meaning that is
    possolo> attached to the case when x is of length 1.

What we *could* consider instead,  without breaking back-compatibility,
is adding an additional argument `isVector', e.g.

   sample (x, size, replace = FALSE, prob = NULL, isVector = FALSE) 

such that if you use

     sample(pi, size = 1, isV = TRUE)

you would always get 3.14159..
This would add least make the user written code much nicer to
read than (what is currently needed)

     i.rand <- if(length(iv) == 1) iv  else  sample(iv, .....)


Other opinions?  {from Insightful as well -- this would be worth
		 doing in all implementations of S}

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From andy_liaw@merck.com  Fri Dec 14 13:35:56 2001
From: andy_liaw@merck.com (Liaw, Andy)
Date: Fri, 14 Dec 2001 08:35:56 -0500
Subject: [Rd] sample (PR#1212)
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC8421@usrymx10.merck.com>

> From: maechler@stat.math.ethz.ch [mailto:maechler@stat.math.ethz.ch]
> 
> >>>>> "possolo" == possolo  <possolo@crd.ge.com> writes:
> 
>     possolo> Full_Name: Antonio Possolo Version: 1.3.1 OS: Linux
>     possolo> (RH 7.1), Windows 2000 Submission from: (NULL)
> 
> 
>     possolo> A FEATURE THAT EASILY GENERATES BUGS
> 
>     possolo> sample(pi, size=1) produces 1, 2, or 3.
>     possolo> sample(c(pi, pi), size=1) produces 3.141593 always.
> 
>     possolo> Although this conforms with the behavior explained
>     possolo> in the help page for "sample", the behavior for the
>     possolo> case where x (in sample(x, ...)) has length 1 can
>     possolo> easily lead to errors if x is generated
>     possolo> automatically and one neglects to check its length
>     possolo> before sampling from it.
> 
> I completely share your opinion; and we (not I) only recently
> had a case where a user-written function did not work in some
> cases when     sample(iv, ...)   was used, with an integer 
> vector iv which sometimes (rarely) was of length one.
> In your case with `pi' (which is not an integer), we could make
> sample() give a warning at least instead of silently coercing to
> integer; in our case however, iv[] *is* an integer vector, just
> sometimes of length 1 which is inherently ``non-decidable''.
> 
> The reason sample() works as it does is S - compatibility
> and that *is* important.
> 
>     possolo> I believe it would be safest to require x to be
>     possolo> always the full set of values one wishes to sample
>     possolo> from, and remove the special meaning that is
>     possolo> attached to the case when x is of length 1.
> 
> What we *could* consider instead,  without breaking 
> back-compatibility,
> is adding an additional argument `isVector', e.g.
> 
>    sample (x, size, replace = FALSE, prob = NULL, isVector = FALSE) 
> 
> such that if you use
> 
>      sample(pi, size = 1, isV = TRUE)
> 
> you would always get 3.14159..
> This would add least make the user written code much nicer to
> read than (what is currently needed)
> 
>      i.rand <- if(length(iv) == 1) iv  else  sample(iv, .....)
> 
> 
> Other opinions?  {from Insightful as well -- this would be worth
> 		 doing in all implementations of S}

I like Martin's suggestion of adding an argument.  

What I have done previously, when I encountered this problem, is simply to
make a local copy of 'sample', called it 'mysample', and modify it so it
handles scalar argument as described above.  This is simple enough that I
wonder whether it is worth it to change the core code.  If R Core (and maybe
Insightful) are kind enough to make this change, I can only be happier.

Cheers,
Andy

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kjetilh@umsanet.edu.bo  Fri Dec 14 15:56:16 2001
From: kjetilh@umsanet.edu.bo (kjetilh@umsanet.edu.bo)
Date: Fri, 14 Dec 2001 16:56:16 +0100 (MET)
Subject: [Rd] binomial null model (PR#1216)
Message-ID: <200112141556.QAA19563@pubhealth.ku.dk>


> y <- rbinom(20,1,0.5)
> glm( y ~ 0, family=binomial)
Error in any(n > 1) : Object "n" not found
> debug(glm)
> debug(glm.fit.null)
> glm( y ~ 0, family=binomial)
debugging in: glm(y ~ 0, family = binomial)
debug: {
.
.
.
Browse[1]> n
debug: aic.model <- family$aic(y, n, mu, weights, dev)
Browse[1]> print(n)
Error in print(n) : Object "n" not found
Browse[1]> get("n", envir=environment(family$aic))
Error in get(x, envir, mode, inherits) : variable "n" was not found
Browse[1]> n
Error in any(n > 1) : Object "n" not found

The call to any(n > 1) is inside family$aic. This n apparently needs to
be calculated somewhere.

(This is R1.3.1 on windows 98)

Kjetil Halvorsen

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Fri Dec 14 16:25:12 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Fri, 14 Dec 2001 17:25:12 +0100
Subject: [Rd] Windows testing
References: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats> <6fih1uk81od2d26eqam0g1ejm4iod9tg2q@4ax.com>
Message-ID: <3C1A27E8.F15D0B04@univie.ac.at>

since duncan murdoch cannot do it at the moment,
i put todays windows build at

http://mailbox.univie.ac.at/erich.neuwirth/r-devel/SetupR.exe


--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Fri Dec 14 22:45:00 2001
From: bates@stat.wisc.edu (Douglas Bates)
Date: 14 Dec 2001 16:45:00 -0600
Subject: [Rd] Test builds of Debian packages for R-1.4.0
Message-ID: <6r8zc5e80j.fsf@franz.stat.wisc.edu>

Test builds of the Debian packages for R-1.4.0 are available at
               http://cvs.r-project.org/~bates/R-debian

These packages are regenerated daily but the version number stays at
1.4.0-0, indicating that they are prerelease packages.  They are
created on a machine running the "woody" or testing release of Debian
GNU/Linux, which will become Debian 3.0.  They will not install on a
machine running Debian 2.2, the "potato" release, because of package
dependencies.

Thanks to Dirk Eddelbuettell for his work in creating these packages.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jmbarani@wanadoo.fr  Sat Dec 15 15:53:31 2001
From: jmbarani@wanadoo.fr (jmbarani@wanadoo.fr)
Date: Sat, 15 Dec 2001 16:53:31 +0100 (MET)
Subject: [Rd] problem (PR#1217)
Message-ID: <200112151553.QAA23298@pubhealth.ku.dk>

C'est un message de format MIME en plusieurs parties.

------=_NextPart_000_01D8_01C18589.2166E610
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Please, could you tell us how to get the setupR.exe.....because as we =
downloaded the whole R-1.3.1 and the R-1.3.1 recommanded on the site =
"cran.r-project.org" , we did not find the requested file the set up the =
installation...Thank you for your help

Jean-Michel BARANI

------=_NextPart_000_01D8_01C18589.2166E610
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Diso-8859-1">
<META content=3D"MSHTML 5.50.4134.600" name=3DGENERATOR>
<STYLE></STYLE>
</HEAD>
<BODY bgColor=3D#ffffff>
<DIV><FONT face=3DArial size=3D2>Please, could you tell us how to get =
the=20
setupR.exe.....because as we downloaded the whole R-1.3.1 and the =
R-1.3.1=20
recommanded on the site "cran.r-project.org" , we did not find the =
requested=20
file the set up the installation...Thank you for your help</FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>Jean-Michel =
BARANI</FONT></DIV></BODY></HTML>

------=_NextPart_000_01D8_01C18589.2166E610--


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sat Dec 15 16:26:55 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 Dec 2001 17:26:55 +0100
Subject: [Rd] problem (PR#1217)
In-Reply-To: <200112151553.QAA23298@pubhealth.ku.dk>
References: <200112151553.QAA23298@pubhealth.ku.dk>
Message-ID: <x2pu5gphyo.fsf@blueberry.kubism.ku.dk>

jmbarani@wanadoo.fr writes:

> Please, could you tell us how to get the setupR.exe.....because as we =
> downloaded the whole R-1.3.1 and the R-1.3.1 recommanded on the site =
> "cran.r-project.org" , we did not find the requested file the set up the =
> installation...Thank you for your help
> 
> Jean-Michel BARANI

What gives you the idea that this is a bug? 

If you want the precompiled binary distribution for Windows (95 or
later), I suggest that you try the link labeled "Windows (95 or
later)" under "Precompiled binary distributions" on the CRAN page.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Sat Dec 15 21:46:58 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Sat, 15 Dec 2001 22:46:58 +0100
Subject: [Rd] problem (PR#1217)
References: <200112151553.QAA23298@pubhealth.ku.dk> <x2pu5gphyo.fsf@blueberry.kubism.ku.dk>
Message-ID: <3C1BC4D2.36A0FD24@univie.ac.at>

today's windows build again is available at

http://mailbox.univie.ac.at/erich.neuwirth/r-devel/SetupR.exe

--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Sat Dec 15 23:23:51 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Sun, 16 Dec 2001 00:23:51 +0100
Subject: [Rd] windows testing and oops
Message-ID: <3C1BDB87.B69D08DD@univie.ac.at>

today's windows build again is available at

http://mailbox.univie.ac.at/erich.neuwirth/r-devel/SetupR.exe

and my last message stating this had the wrong subject line.
excuse me.


--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Sun Dec 16 14:59:46 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Sun, 16 Dec 2001 15:59:46 +0100
Subject: [Rd] windows testing, internet
Message-ID: <3C1CB6E2.2A955B56@univie.ac.at>

doing 
make -f Makewfile.win test-Internet
in tests
gave

 
make[1]: Leaving directory `/cygdrive/d/Work/R-devel/tests'
D:/Work/R-devel/bin/Rterm --vanilla LC_ALL=C --internet2 --vanilla <
internet.R
> internet.Rout2
diff internet.Rout internet.Rout2
99,100c99,100
< unable to resolve 'foo.bar'.
< Error in url("http://foo.bar", "r") : cannot open URL `http://foo.bar'
---
> Error in url("http://foo.bar", "r") : InternetOpenUrl failed: `The server retu
rned an invalid or unrecognized response
> '
make: *** [test-Internet] Error 1

i use the files from the
r-develxxxx.tar.gz 



--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Dec 16 17:07:30 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 16 Dec 2001 17:07:30 +0000 (GMT)
Subject: [Rd] windows testing, internet
In-Reply-To: <3C1CB6E2.2A955B56@univie.ac.at>
Message-ID: <Pine.LNX.4.31.0112161705050.7224-100000@gannet.stats>

And your point was?

That is deliberately not part of the tests. The message is different:
it comes from completely different code.

In the absence of a Windows maintainer, please only report real problems:
if you had read the code it would have been obvious that either message
was appropriate.


On Sun, 16 Dec 2001, Erich Neuwirth wrote:

> doing
> make -f Makewfile.win test-Internet
> in tests
> gave
>
>
> make[1]: Leaving directory `/cygdrive/d/Work/R-devel/tests'
> D:/Work/R-devel/bin/Rterm --vanilla LC_ALL=C --internet2 --vanilla <
> internet.R
> > internet.Rout2
> diff internet.Rout internet.Rout2
> 99,100c99,100
> < unable to resolve 'foo.bar'.
> < Error in url("http://foo.bar", "r") : cannot open URL `http://foo.bar'
> ---
> > Error in url("http://foo.bar", "r") : InternetOpenUrl failed: `The server retu
> rned an invalid or unrecognized response
> > '
> make: *** [test-Internet] Error 1
>
> i use the files from the
> r-develxxxx.tar.gz
>
>
>
> --
> Erich Neuwirth, Computer Supported Didactics Working Group
> Visit our SunSITE at http://sunsite.univie.ac.at
> Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From z.yang@ucl.ac.uk  Mon Dec 17 10:03:34 2001
From: z.yang@ucl.ac.uk (Ziheng Yang)
Date: Mon, 17 Dec 2001 10:03:34 +0000
Subject: [Rd] error in qbeta (PR#1201)
In-Reply-To: <x27krrt8zl.fsf@blueberry.kubism.ku.dk>
References: <x2her0xsoy.fsf@blueberry.kubism.ku.dk> <200112091257.NAA17087@pubhealth.ku.dk> <x2her0xsoy.fsf@blueberry.kubism.ku.dk>
Message-ID: <4.3.2.7.2.20011216113200.00d48c50@pop-server.ucl.ac.uk>

Thanks for the update.  I set the value to half the cdf (alpha) myself, and 
it worked for that particular case, but I suppose the initial approximation 
should not generate values out of range and so one should do better than 
that.  I'll do some checking and let you know if I notice anything strange.

Would you mind sending me a copy of the source qbeta.c?

Best wishes,
Ziheng


At 16:50 13/12/01 +0100, Peter Dalgaard BSA wrote:
>Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:
>
> > z.yang@ucl.ac.uk writes:
>
> > > I noticed that qbeta is sometimes wrong and the error is not even due 
> to the
> > > beta parameters being too extreme.  I am calculating the quantiles 
> corresponding
> > > to cdf = 0.05, 0.15, ..., 0.95.  The value corresponding to cdf=0.25 
> is wrong
> > > while all other values are correct.
> > >
> > > qbeta(0.05, 0.143891, 0.05) = 1.040850e-05   correct
> > > qbeta(0.15, 0.143891, 0.05) = 0.021161       correct
> > > qbeta(0.25, 0.143891, 0.05) = 3e-308         wrong (correct value is 
> 0.457227)
> > > qbeta(0.35, 0.143891, 0.05) = 0.945217       correct
> > >
> > > I also used your source file qbeta.c to do the same calculation, and 
> it seems
> > > that something might be wrong in the "initial approximation", before the
> > > newton-raphson iteration.
>
>Thanks for reporting this.
>
>We think we have a better version in the current snapshots for 1.4.0
>(available at http://www.stats.uwo.ca/faculty/murdoch/software/r-devel)
>
>It turns out that the initial approximation simply isn't very good in
>this case, it becomes negative and the algorithms sets it to a small
>number. This is true of the original Fortran code too, but we had
>chosen a rather smaller small number and that caused the algorithm to
>converge falsely.
>
>--
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
>~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bolker@zoo.ufl.edu  Mon Dec 17 15:58:25 2001
From: bolker@zoo.ufl.edu (bolker@zoo.ufl.edu)
Date: Mon, 17 Dec 2001 16:58:25 +0100 (MET)
Subject: [Rd] behavior of r* and d* functions at boundaries (PR#1218)
Message-ID: <200112171558.QAA07778@pubhealth.ku.dk>


  (Sent this to r-help back in October, got no comments, forgot
to re-submit it as a bug report.)

There are a few inconsistencies, at least, in some of the functions that 
generate random deviates from particular distributions (I think they're 
bugs because they're inconvenient, but maybe someone can make an argument 
for the current behavior). If people think these are really bugs I can 
submit them, together or separately. 

1. rlnorm(n,mean,sd) gives NaN for sd=0, rather than always returning 
the mean. This is inconsistent with rnorm(), which returns the mean. 

2. rnbinom(n,prob,size) gives NaN when prob=1; always returning 0 would be 
reasonable, and consistent with the output of dnbinom(). [This is 
equivalent to rnbinom(n,mu=0,size) in the new parameterization.] 

3. rgamma(n,shape,scale) happily returns 0 when shape=0 or scale=0. However, 
dgamma(x,shape=0) [and pgamma(x,shape=0)] gives NaN. This behavior is 
actually convenient for me, but I could make an argument for returning a 
warning in this case. 

  In general, I don't know what (e.g.) dnorm(m,mean=m,sd=0)
should return: NaN (as at present) or Inf?  I guess it depends
how fussy you're being and how you're taking limits.

  The fixes seem straightforward. 

  Ben Bolker 

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = 
 major = 1
 minor = 3.1
 year = 2001
 month = 08
 day = 31
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Mon Dec 17 19:18:35 2001
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Mon, 17 Dec 2001 14:18:35 -0500
Subject: [Rd] Re:  windows testing
Message-ID: <o4hs1u8d8uum5hjf25vh9trdd7m5f1j0qc@4ax.com>

Today's build is now up on

 <http://www.stats.uwo.ca/faculty/murdoch/software/r-devel> 

I'll put up another tomorrow, then won't be able to do any more.  But
the day after is supposed to be the release day, so hopefully they
won't be necessary.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From olshena@mskcc.org  Mon Dec 17 23:02:11 2001
From: olshena@mskcc.org (olshena@mskcc.org)
Date: Tue, 18 Dec 2001 00:02:11 +0100 (MET)
Subject: [Rd] write.table (PR#1219)
Message-ID: <200112172302.AAA10089@pubhealth.ku.dk>

Full_Name: Adam B. Olshen
Version: 1.3.1
OS: Linux
Submission from: (NULL) (140.163.222.233)


There appears to be a bug with write.table if the object being written is a
matrix.  
Specifically, the option row.names=F gives an error.  I have seen this problem 
repeated in the Windows implementation.  An example is below.

Adam Olshen
olshena@mskcc.org

This works:

> write.table(matrix(rnorm(100),10),"blah",row.names=T)

And this works:

> write.table(as.data.frame(matrix(rnorm(100),10)),"blah",row.names=F)

This does not work:

> write.table(matrix(rnorm(100),10),"blah",row.names=F)
Error in gsub(pattern, replacement, x, ignore.case, extended) :
        invalid argument


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Dec 17 23:36:19 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 18 Dec 2001 00:36:19 +0100 (MET)
Subject: [Rd] write.table (PR#1219)
Message-ID: <200112172336.AAA10190@pubhealth.ku.dk>

On Tue, 18 Dec 2001 olshena@mskcc.org wrote:

> Full_Name: Adam B. Olshen
> Version: 1.3.1
> OS: Linux
> Submission from: (NULL) (140.163.222.233)
>
>
> There appears to be a bug with write.table if the object being written is a
> matrix.
> Specifically, the option row.names=F gives an error.  I have seen this problem
> repeated in the Windows implementation.  An example is below.
>
> Adam Olshen
> olshena@mskcc.org
>
> This works:
>
> > write.table(matrix(rnorm(100),10),"blah",row.names=T)
>
> And this works:
>
> > write.table(as.data.frame(matrix(rnorm(100),10)),"blah",row.names=F)
>
> This does not work:
>
> > write.table(matrix(rnorm(100),10),"blah",row.names=F)
> Error in gsub(pattern, replacement, x, ignore.case, extended) :
>         invalid argument

Actually, this happens only for numerical matrices, so just do

X <- matrix(rnorm(100),10)
X[] <- as.character(X)
write.table(X,"blah",row.names=F)

or even

write.table(X,"blah",row.names=F, quote=F)

Note though that for almost all purposes

write.table(format(X), "blah",row.names=F, quote=F)

would be better.

Nevertheless I'll put in the obvious fix for 1.4.0.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kleiweg@let.rug.nl  Tue Dec 18 10:11:11 2001
From: kleiweg@let.rug.nl (kleiweg@let.rug.nl)
Date: Tue, 18 Dec 2001 11:11:11 +0100 (MET)
Subject: [Rd] cmdscale: labels missing (PR#1220)
Message-ID: <200112181011.LAA14007@pubhealth.ku.dk>


The function cmdscale tries to copy names from the source to the
result. This only works if the source is a matrix.

If m is a matrix with labels (rownames) and d is an object of
class "dist" with labels, this works:

    cmdscale(m)

...but with this, there are no labels in the results:

    cmdscale(d)

However, this works:

    cmdscale(as.matrix(d))

My suggestion is to change, in the function cmdscale, this line:

    dimnames(points) <- list(dimnames(d)[[1]], NULL)

...into this:

    if (is.null (row.names(points) <- names(d)))
        dimnames(points) <- list(dimnames(d)[[1]], NULL)


By the way, I think it would be nice if the functions isoMDS and
sammon also copied the labels from the input to the result. At
the moment, I'm using wrapper function for all three functions
to preserve the labels.

--please do not edit the information below--

Version:
 platform = i586-pc-linux-gnu
 arch = i586
 os = linux-gnu
 system = i586, linux-gnu
 status =
 major = 1
 minor = 3.1
 year = 2001
 month = 08
 day = 31
 language = R

Search Path:
 .GlobalEnv, package:MASS, package:mva, package:iLeven, package:ctest, Autoloads, package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kleiweg@let.rug.nl  Tue Dec 18 10:17:19 2001
From: kleiweg@let.rug.nl (kleiweg@let.rug.nl)
Date: Tue, 18 Dec 2001 11:17:19 +0100 (MET)
Subject: [Rd] isoMDS: core dump (PR#1221)
Message-ID: <200112181017.LAA14125@pubhealth.ku.dk>


I'm not sure this belong here...

Package: MASS
Version: 6.2-8

I get a core dump when I call isoMDS with an incorrect argument
for y. With d as an object of class "dist":

  > isoMDS(d,2)

  Program received signal SIGSEGV, Segmentation fault.
  0x40229e43 in VR_mds_init_data () at MASS.c:157

--please do not edit the information below--

Version:
 platform = i586-pc-linux-gnu
 arch = i586
 os = linux-gnu
 system = i586, linux-gnu
 status =
 major = 1
 minor = 3.1
 year = 2001
 month = 08
 day = 31
 language = R

Search Path:
 .GlobalEnv, package:MASS, package:mva, package:iLeven, package:ctest, Autoloads, package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Dec 18 10:36:14 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 18 Dec 2001 11:36:14 +0100 (MET)
Subject: [Rd] isoMDS: core dump (PR#1221)
Message-ID: <200112181036.LAA14472@pubhealth.ku.dk>

On Tue, 18 Dec 2001 kleiweg@let.rug.nl wrote:

>
> I'm not sure this belong here...
>
> Package: MASS
> Version: 6.2-8

Not current.

> I get a core dump when I call isoMDS with an incorrect argument
> for y. With d as an object of class "dist":
>
>   > isoMDS(d,2)
>
>   Program received signal SIGSEGV, Segmentation fault.
>   0x40229e43 in VR_mds_init_data () at MASS.c:157

So don't!

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kleiweg@let.rug.nl  Tue Dec 18 11:00:19 2001
From: kleiweg@let.rug.nl (Peter Kleiweg)
Date: Tue, 18 Dec 2001 12:00:19 +0100 (CET)
Subject: [Rd] isoMDS: core dump (PR#1221)
In-Reply-To: <Pine.LNX.4.31.0112181034480.20111-100000@gannet.stats>
Message-ID: <Pine.LNX.4.33.0112181157180.423-100000@kleigh.nl>

Prof Brian Ripley scribeva...

> On Tue, 18 Dec 2001 kleiweg@let.rug.nl wrote:
>
> >
> > I'm not sure this belong here...
> >
> > Package: MASS
> > Version: 6.2-8
>
> Not current.

This version was in the set of recommended packages for R 1.3.1.
Is R 1.4.0 released yet?

> > I get a core dump when I call isoMDS with an incorrect argument
> > for y. With d as an object of class "dist":
> >
> >   > isoMDS(d,2)
> >
> >   Program received signal SIGSEGV, Segmentation fault.
> >   0x40229e43 in VR_mds_init_data () at MASS.c:157
>
> So don't!

So don't what?

-- 
Peter Kleiweg
http://www.let.rug.nl/~kleiweg/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Dec 18 11:47:05 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 18 Dec 2001 11:47:05 +0000 (GMT)
Subject: [Rd] isoMDS: core dump (PR#1221)
In-Reply-To: <Pine.LNX.4.33.0112181157180.423-100000@kleigh.nl>
Message-ID: <Pine.LNX.4.31.0112181143230.21228-100000@gannet.stats>

On Tue, 18 Dec 2001, Peter Kleiweg wrote:

> Prof Brian Ripley scribeva...
>
> > On Tue, 18 Dec 2001 kleiweg@let.rug.nl wrote:
> >
> > >
> > > I'm not sure this belong here...
> > >
> > > Package: MASS
> > > Version: 6.2-8
> >
> > Not current.
>
> This version was in the set of recommended packages for R 1.3.1.
> Is R 1.4.0 released yet?

No, but even recommended packages have updates on CRAN.

> > > I get a core dump when I call isoMDS with an incorrect argument
> > > for y. With d as an object of class "dist":
> > >
> > >   > isoMDS(d,2)
> > >
> > >   Program received signal SIGSEGV, Segmentation fault.
> > >   0x40229e43 in VR_mds_init_data () at MASS.c:157
> >
> > So don't!
>
> So don't what?

Don't call isoMDS with an argument that is not as documented.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kleiweg@let.rug.nl  Tue Dec 18 12:12:16 2001
From: kleiweg@let.rug.nl (Peter Kleiweg)
Date: Tue, 18 Dec 2001 13:12:16 +0100 (CET)
Subject: [Rd] isoMDS: core dump (PR#1221)
In-Reply-To: <Pine.LNX.4.31.0112181143230.21228-100000@gannet.stats>
Message-ID: <Pine.LNX.4.33.0112181301270.423-100000@kleigh.nl>

Prof Brian Ripley scribeva...

> > > > Package: MASS
> > > > Version: 6.2-8
> > >
> > > Not current.

I installed VR_6.2-10 and got the identical result

> > > > I get a core dump when I call isoMDS with an incorrect argument
> > > > for y. With d as an object of class "dist":
> > > >
> > > >   > isoMDS(d,2)
> > > >
> > > >   Program received signal SIGSEGV, Segmentation fault.
> > > >   0x40229e43 in VR_mds_init_data () at MASS.c:157
> > >
> > > So don't!
> >
> > So don't what?
>
> Don't call isoMDS with an argument that is not as documented.

This is not the first time I get the impression you don't really
want us to report problems. I am not submitting a bug report
demanding a fix. I am submitting a bug report to help you.

IMHO a segmentation fault is a bug, whatever errors the user
makes.

-- 
Peter Kleiweg
http://www.let.rug.nl/~kleiweg/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Tue Dec 18 13:51:04 2001
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Tue, 18 Dec 2001 14:51:04 +0100
Subject: [Rd] behavior of r* and d* functions at boundaries (PR#1218)
In-Reply-To: <200112171558.QAA07778@pubhealth.ku.dk>
References: <200112171558.QAA07778@pubhealth.ku.dk>
Message-ID: <15391.18888.225046.355632@gargle.gargle.HOWL>

>>>>> "Ben" == Ben Bolker <bolker@zoo.ufl.edu> writes:

    Ben>   (Sent this to r-help back in October, got no
    Ben> comments, forgot to re-submit it as a bug report.)

    Ben> There are a few inconsistencies, at least, in some of
    Ben> the functions that generate random deviates from
    Ben> particular distributions (I think they're bugs because
    Ben> they're inconvenient, but maybe someone can make an
    Ben> argument for the current behavior). If people think
    Ben> these are really bugs I can submit them, together or
    Ben> separately.

    Ben> 1. rlnorm(n,mean,sd) gives NaN for sd=0, rather than
    Ben> always returning the mean. This is inconsistent with
    Ben> rnorm(), which returns the mean.

    Ben> 2. rnbinom(n,prob,size) gives NaN when prob=1; always
    Ben> returning 0 would be reasonable, and consistent with
    Ben> the output of dnbinom(). [This is equivalent to
    Ben> rnbinom(n,mu=0,size) in the new parameterization.]

these two above are fixed for 1.4

    Ben> 3. rgamma(n,shape,scale) happily returns 0 when shape=0
    Ben> or scale=0. However, dgamma(x,shape=0) [and
    Ben> pgamma(x,shape=0)] gives NaN. This behavior is actually
    Ben> convenient for me, but I could make an argument for
    Ben> returning a warning in this case.

    Ben>   In general, I don't know what (e.g.)
    Ben> dnorm(m,mean=m,sd=0) should return: NaN (as at present)
    Ben> or Inf?

    Ben> I guess it depends how fussy you're being and how
    Ben> you're taking limits.

My approach would be to always return the limit if it's well
defined (as here).  
For any random variate X, when Var(X) = 0, r<dist>()  should
return E(X) (if that is defined) I think.  
This would mean that rgamma() is fine and dnorm() could be
improved.  
dgamma(0,shape=0) should give Inf as well and pgamma(0,shape=0) |-> 1.
The fact that pnorm(mu, mu, sd = 0) currently gives NaN instead
of 1 is a bug IMO.

Another line of reasoning could be that "shape=0" (or less
clearly "sd = 0") are not allowed (as per ?rgamma), and giving
NaN would reflect this.  I'm not share this view
but leave all this for after release.

    Ben>   The fixes seem straightforward.
(yes, at least for 1) and 2))

Thank you, Ben, for reporting these!

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kleiweg@let.rug.nl  Wed Dec 19 23:43:16 2001
From: kleiweg@let.rug.nl (Peter Kleiweg)
Date: Thu, 20 Dec 2001 00:43:16 +0100 (CET)
Subject: [Rd] dots and ldots in R 1.4.0
Message-ID: <Pine.LNX.4.33.0112200034510.429-100000@kleigh.nl>


I have a package with in the documentation:
 in \usage :    \dots
 in \arguments: \ldots

This is how I interpreted "Use \dots for the dots in function
argument lists ..., and \ldots for ellipsis dots in ordinary
text"  in "Writing R Extensions".

When I did `R CMD check' in R version 1.3.1 all was fine.
With R version 1.4.0 I get :
  * checking for undocumented arguments in \usage ... WARNING
  Undocumented arguments in documentation object `FOO':
  [1] "..."

Am I doing something wrong?

-- 
Peter Kleiweg
http://www.let.rug.nl/~kleiweg/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Dec 20 00:10:34 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Dec 2001 01:10:34 +0100
Subject: [Rd] dots and ldots in R 1.4.0
In-Reply-To: <Pine.LNX.4.33.0112200034510.429-100000@kleigh.nl>
References: <Pine.LNX.4.33.0112200034510.429-100000@kleigh.nl>
Message-ID: <x2y9jyg39h.fsf@blueberry.kubism.ku.dk>

Peter Kleiweg <kleiweg@let.rug.nl> writes:

> I have a package with in the documentation:
>  in \usage :    \dots
>  in \arguments: \ldots
> 
> This is how I interpreted "Use \dots for the dots in function
> argument lists ..., and \ldots for ellipsis dots in ordinary
> text"  in "Writing R Extensions".
> 
> When I did `R CMD check' in R version 1.3.1 all was fine.
> With R version 1.4.0 I get :
>   * checking for undocumented arguments in \usage ... WARNING
>   Undocumented arguments in documentation object `FOO':
>   [1] "..."
> 
> Am I doing something wrong?

Not really, the checks got stricter. You just need to supply a
line describing what the "..." arguments are for. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kleiweg@let.rug.nl  Thu Dec 20 00:16:49 2001
From: kleiweg@let.rug.nl (Peter Kleiweg)
Date: Thu, 20 Dec 2001 01:16:49 +0100 (CET)
Subject: [Rd] dots and ldots in R 1.4.0
In-Reply-To: <x2y9jyg39h.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.33.0112200113580.429-100000@kleigh.nl>

Peter Dalgaard BSA scribeva...

> Peter Kleiweg <kleiweg@let.rug.nl> writes:
>
> > I have a package with in the documentation:
> >  in \usage :    \dots
> >  in \arguments: \ldots
> >
> > This is how I interpreted "Use \dots for the dots in function
> > argument lists ..., and \ldots for ellipsis dots in ordinary
> > text"  in "Writing R Extensions".
> >
> > When I did `R CMD check' in R version 1.3.1 all was fine.
> > With R version 1.4.0 I get :
> >   * checking for undocumented arguments in \usage ... WARNING
> >   Undocumented arguments in documentation object `FOO':
> >   [1] "..."
> >
> > Am I doing something wrong?
>
> Not really, the checks got stricter. You just need to supply a
> line describing what the "..." arguments are for.

That is what I did, in \arguments, using \item{\ldots}{}.

-- 
Peter Kleiweg
http://www.let.rug.nl/~kleiweg/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Dec 20 00:24:47 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Dec 2001 01:24:47 +0100
Subject: [Rd] dots and ldots in R 1.4.0
In-Reply-To: <Pine.LNX.4.33.0112200113580.429-100000@kleigh.nl>
References: <Pine.LNX.4.33.0112200113580.429-100000@kleigh.nl>
Message-ID: <x2u1umg2ls.fsf@blueberry.kubism.ku.dk>

Peter Kleiweg <kleiweg@let.rug.nl> writes:

> > > Am I doing something wrong?
> >
> > Not really, the checks got stricter. You just need to supply a
> > line describing what the "..." arguments are for.
> 
> That is what I did, in \arguments, using \item{\ldots}{}.

Sorry, misunderstood.

It wants \dots. \ldots are for the triple-dots in running text that
get set in the text font.


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kleiweg@let.rug.nl  Thu Dec 20 00:57:23 2001
From: kleiweg@let.rug.nl (Peter Kleiweg)
Date: Thu, 20 Dec 2001 01:57:23 +0100 (CET)
Subject: [Rd] dots and ldots in R 1.4.0
In-Reply-To: <x2u1umg2ls.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.33.0112200132400.429-100000@kleigh.nl>

Peter Dalgaard BSA scribeva...

> Peter Kleiweg <kleiweg@let.rug.nl> writes:
>
> > > > Am I doing something wrong?
> > >
> > > Not really, the checks got stricter. You just need to supply a
> > > line describing what the "..." arguments are for.
> >
> > That is what I did, in \arguments, using \item{\ldots}{}.
>
> Sorry, misunderstood.
>
> It wants \dots. \ldots are for the triple-dots in running text that
> get set in the text font.

I have been looking at the tex-version of the manuals. I see
that both "\dots" in "\usage", and "\ldots" in
"\arguments{\item{\ldots" get replaced by "...". And just
putting "..." in the manual sources and then running
`R CMD check' gives "OK". So why would I need to use \dots in
these places?

-- 
Peter Kleiweg
http://www.let.rug.nl/~kleiweg/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kleiweg@let.rug.nl  Thu Dec 20 13:10:14 2001
From: kleiweg@let.rug.nl (kleiweg@let.rug.nl)
Date: Thu, 20 Dec 2001 14:10:14 +0100 (MET)
Subject: [Rd] configure: sed: Function s%@PDFLATEX@%/usr/local/bin/pdflatex%g (PR#1222)
Message-ID: <200112201310.OAA13759@pubhealth.ku.dk>


Sometimes, configure isn't able to create the makefiles. It
produces errors like:

sed: Function s%@PDFLATEX@%/usr/local/bin/pdflatex%g cannot be parsed.

This happens when I use a combination of arguments to configure like:

    --prefix=$HOME/R-tst
    --with-tcl-config=/opt_local/opt/tcl/lib/tclConfig.sh
    --with-tk-config=/opt_local/opt/tk/lib/tkConfig.sh

If I leave out the last two arguments, the problem does not
occur.

If I change the first argument to --prefix=$HOME/Rtst, the
problem does not occur.

--please do not edit the information below--

Version:
 platform = hppa2.0-hp-hpux10.20
 arch = hppa2.0
 os = hpux10.20
 system = hppa2.0, hpux10.20
 status =
 major = 1
 minor = 4.0
 year = 2001
 month = 12
 day = 19
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pd@pubhealth.ku.dk  Fri Dec 21 06:15:02 2001
From: pd@pubhealth.ku.dk (Peter Dalgaard BSA)
Date: Fri, 21 Dec 2001 07:15:02 +0100
Subject: [Rd] Bug list summary (automatic post)
Message-ID: <200112210615.fBL6F2h10098@blueberry.kubism.ku.dk>

=================================================
This is an automated summary of the status of the R-bugs
repository.

Note that this may be neither complete nor perfectly
correct at any given instance: Not all bugs are reported,
and some reported bugs may have been fixed, but the
repository not yet updated.

Some bug fixes are difficult to verify because they pertain
to specific hardware or operating system versions. If you
have information to contribute, please do so.

If you happen to know how to fix a problem please send
patches to the bug repository, too.

New bugs are reported either through the web
interface at r-bugs.r-project.org or via email to
r-bugs@r-project.org. The bug.report() function can be
used to automate parts of the procedure on many systems.
Followups on older bugs can be done by including the string
"(PR#999)" in the Subject of an email (change 999 to the
actual reference number, of course!).
=================================================

Directory:  Accuracy

* PR# 1218 *
Subject:  behavior of r* and d* functions at boundaries 
From: Ben Bolker <bolker@zoo.ufl.edu>
Date: Mon, 17 Dec 2001 11:04:27 -0500
--points 1 and 2 were fixed for 1.4.0

Directory:  Add-ons

* PR# 974 *
Subject: Lattice: panel.superpose with ordered factor groups
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sat, 9 Jun 2001 11:08:51 +1000 (EST)
--The warning is standard S and R behaviour.
--Probably xyplot needs to avoid it (by unclassing?)
--Still there in lattice 0.3-0.
* PR# 1038 *
Subject: nlme: bug in getCovariateFormula
From: Setzer.Woodrow@epamail.epa.gov
Date: Tue, 31 Jul 2001 11:24:09 -0400
--change needed in package nlme
* PR# 1044 *
Subject: Polymarsall.c
From: pleu@hotmail.com
Date: Tue, 7 Aug 2001 22:42:07 +0200 (MET DST)
* PR# 1116 *
Subject: get.hist.quote does not work
From: arto.luoma@uta.fi
Date: Thu, 4 Oct 2001 14:45:29 +0200 (MET DST)
--Seems specific to one locale on one system.
--The bug is unlikely to be in R.
* PR# 1178 *
Subject: segfault using svm from e1071
From: Jan Rychter <jan@rychter.com>
Date: Tue, 20 Nov 2001 23:38:17 +0100
* PR# 1199 *
Subject: pixmap: infinite recursion with nonascii pnm-files
From: thomas.baumann@ch.tum.de
Date: Fri, 7 Dec 2001 11:07:52 +0100 (CET)

Directory:  Analyses

none

Directory:  Documentation

* PR# 988 *
Subject: input for R-intro
From: "Paul E. Johnson" <pauljohn@ku.edu>
Date: Mon, 18 Jun 2001 13:57:10 -0500
* PR# 1011 *
Subject: R-intro suggestions part II
From: "Paul E. Johnson" <pauljohn@ukans.edu>
Date: Tue, 03 Jul 2001 15:50:06 -0500
* PR# 1136 *
Subject: cex/col/etc. in title(): documentation?
From: Ben Bolker <ben@zoo.ufl.edu>
Date: Mon, 22 Oct 2001 11:55:14 -0400 (EDT)
--MM:actually the documentation still could elaborate a bit..
* PR# 1195 *
Subject: help(dbinom) recommended documentation improvement
From: Rich Heiberger <rmh@surfer.sbm.temple.edu>
Date: Tue, 4 Dec 2001 11:29:58 -0500 (EST)
--This isn't really a bug: the line in question is a plain-text equation, not a
--piece of R code.

Directory:  Graphics

* PR# 202 *
Subject: persp box occlusion bug
From: wsi@gcal.ac.uk
Date: Wed, 2 Jun 1999 15:02:03 +0200 (MET DST)
--The persp algorithm does not apply the occlusion rules to the frame, 
--which is always plotted first. 
--A bug, but not very simple to fix.
* PR# 660 *
Subject: identify.default ignores any setting of cex.
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
Date: Fri, 15 Sep 2000 10:23:39 +0100 (BST)
* PR# 776 *
Subject: strwidth does not take font into account
From: Martyn Plummer <plummer@iarc.fr>
Date: Tue, 19 Dec 2000 14:56:01 +0100 (CET)
--This needs a substantial redesign.
* PR# 791 *
Subject:  par(lab= *) / axis(*) bug 
From: maechler@stat.math.ethz.ch
Date: Fri, 22 Dec 2000 10:59:26 +0100
* PR# 816 *
Subject: dotplot: character size of labels
From: RINNER Heinrich <H.RINNER@TIROL.GV.AT>
Date: Thu, 18 Jan 2001 14:54:32 +0100
--Suggested fix is incorporated in 1.2.2.
--
--There is a deeper problem:  mtext() ignores par(cex=.5) in general.  
--To see the problem try:  par(cex=.5); mtext("hi")
--Paul thinks the right fix is to change the argument list for mtext so that
--cex=par(cex) by default rather than cex=NA by default (plus corresponding
--internal changes to  do_mtext in plot.c).
--This needs to be done very carefully because (i) the change suggested above 
--mayhave side-effects in many other pieces of interpreted code 
--(ii) do_mtext ignores dd->gp.cexbase unlike, for example, do_plot_xy 
--and anything to do with cexbase needs extreme care.
* PR# 820 *
Subject: interaction.plot
From: "Mark M. Span" <span@psy.uva.nl>
Date: Mon, 22 Jan 2001 10:47:39 +0100
--mtext is unscaled by default.  It is not clear if this should
--use the par("cex") setting or an inline cex setting such as cex.axis.
--It might make more sense to use axis rather than mtext, as boxplot does.
* PR# 828 *
Subject: termplot fails for composite non-factor terms
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sat, 27 Jan 2001 11:57:37 +1100 (EST)
--Neither of the proposed changes actually works in sufficient generality.
--
--The easy and unimportant part of this, the labels, is fixed in 1.2.2. Getting
--the data right is a project for 1.3
* PR# 831 *
Subject: screen can't go back to (split) screen with log="y" plot
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 30 Jan 2001 00:39:41 -0500
--Still there. Suggested fix included in followups, but we didn't get around to
--try it in time for 1.2.3.
--
--Fix doesn't work. One problem is that the opar<-par();par(opar) idiom updates
--xaxp before xlog, and the new value of xaxp may only be valid under the new
--value of xlog.
* PR# 837 *
Subject: screen doesn't handle redrawing properly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 01 Feb 2001 14:20:52 -0500
* PR# 887 *
Subject: axis(adj=anything) has no effect
From: jhallman@frb.gov
Date: Wed, 28 Mar 2001 20:51:05 +0200 (MET DST)
* PR# 916 *
Subject:  par(mgp) bug 
From: paul@stat.auckland.ac.nz
Date: Fri, 20 Apr 2001 08:33:45 +1200 (NZST)
* PR# 943 *
Subject: legend() with xpd=T; omission of initial plot character
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sun, 20 May 2001 10:35:16 +1000
* PR# 997 *
Subject:  las=1 with log axis 
From: Peter Dalgaard BSA <pd@pubhealth.ku.dk>
Date: Wed, 27 Jun 2001 11:54:06 +0200
* PR# 1045 *
Subject: Palette changes on redraw
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 08 Aug 2001 19:08:01 +0200
* PR# 1088 *
Subject:  barplot forces xpd=TRUE 
From: Peter Whiting <pwhiting@whitings.org>
Date: Sat, 8 Sep 2001 10:19:00 -0500
* PR# 1147 *
Subject: postscript problem
From: kjetil halvorsen <kjetilh@umsanet.edu.bo>
Date: Fri, 26 Oct 2001 15:23:45 -0400
--This seems to be a problem with screen/layout rather than postscript.
* PR# 1157 *
Subject: identify(...plot=F)
From: Rolf Turner <rolf@maths.uwa.edu.au>
Date: Fri, 2 Nov 2001 09:43:49 +0800 (WST)
* PR# 1161 *
Subject: x-axis label in persp()
From: Rolf Turner <rolf@maths.uwa.edu.au>
Date: Wed, 7 Nov 2001 18:07:22 +0800 (WST)
* PR# 1207 *
Subject: boxplot labels incorrect when horizontal = TRUE
From: Rashid Nassar <rnassar@duke.edu>
Date: Sun, 9 Dec 2001 21:46:32 -0500 (EST)

Directory:  In-Out

none

Directory:  Installation

* PR# 1222 *
Subject: configure: sed: Function s%@PDFLATEX@%/usr/local/bin/pdflatex%g
From: Peter Kleiweg <kleiweg@let.rug.nl>
Date: Thu, 20 Dec 2001 14:09:42 +0100 (CET)
--problem is on hppa2.0-hp-hpux10.20: may be HP-UX specific

Directory:  Language

* PR# 408 *
Subject: convolution bug
From: wsimpson@gcal.ac.uk
Date: Fri, 28 Jan 2000 11:17:36 +0100 (MET)
* PR# 412 *
Subject: anomalies with call objects
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 06 Feb 2000 01:18:50 +0100
* PR# 669 *
Subject: Bug(s) w/ rbind.data.frame(); fix also read.table(*, as.is = TRUE) ?
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Mon, 25 Sep 2000 10:17:15 +0200
--status of AsIs columns
* PR# 921 *
Subject:  Managed to confuse match.arg 
From: J.C.Rougier@durham.ac.uk
Date: Wed, 25 Apr 2001 12:22:54 +0100 (BST)
* PR# 1073 *
Subject: Wierd problem comparing numeric values and list using ==
From: "Warnes, Gregory R" <gregory_r_warnes@groton.pfizer.com>
Date: Fri, 24 Aug 2001 22:07:41 -0400
--see also PR#1075
* PR# 1076 *
Subject: Re: [Rd] Wierd problem comparing numeric values and list using == 
From: John Chambers <jmc@research.bell-labs.com>
Date: Mon, 27 Aug 2001 08:44:22 -0400
--part of PR#1073
* PR# 1193 *
Subject: Re: [R] appending similar data frames?
From: Thomas Lumley <tlumley@u.washington.edu>
Date: Mon, 3 Dec 2001 13:46:35 -0800 (PST)
* PR# 1214 *
Subject: syntax questtion, maybe a bug
From: Rich Heiberger <rmh@surfer.sbm.temple.edu>
Date: Thu, 13 Dec 2001 13:46:54 -0500 (EST)
--Is .2logl meant to be a valid name in R? It is S

Directory:  Low-level

* PR# 989 *
Subject: "[.data.frame" allows un-named 3rd subscript
From: "Charles C. Berry" <cberry@tajo.ucsd.edu>
Date: Mon, 18 Jun 2001 13:13:46 -0700 (PDT)
* PR# 1063 *
Subject: interrupting Sys.sleep
From: Thomas Lumley <tlumley@u.washington.edu>
Date: Mon, 20 Aug 2001 13:55:29 -0700 (PDT)
* PR# 1068 *
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
From: Luke Tierney <luke@nokomis.stat.umn.edu>
Date: Wed, 22 Aug 2001 19:32:51 -0500
--see also followup in PR#1069
* PR# 1069 *
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
From: "John W. Eaton" <jwe@bevo.che.wisc.edu>
Date: Wed, 22 Aug 2001 21:56:33 -0500
--part of PR#1068
* PR# 1120 *
Subject: bug in write.table?
From: Ott Toomet <siim@obs.ee>
Date: Sun, 7 Oct 2001 18:24:34 +0200 (CEST)
--Traced down to an effect of read.dta in foreign interacting with do_paste. Fixed
--in foreign, but do_paste may need to use strlen() rather than LENGTH().
--
* PR# 1211 *
Subject: crash bug in get("function.name")()
From: Rich Heiberger <rmh@surfer.sbm.temple.edu>
Date: Tue, 11 Dec 2001 17:34:07 -0500 (EST)

Directory:  Macintosh

none

Directory:  Misc

* PR# 1126 *
Subject: R-bug report www page whishlist
From: jens.lund@nordea.com
Date: Wed, 10 Oct 2001 18:24:29 +0200 (MET DST)
* PR# 1158 *
Subject: bug.report()sends empty message
From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
Date: Mon, 05 Nov 2001 10:05:27 -0500

Directory:  Models

none

Directory:  Startup

none

Directory:  System-specific

* PR# 848 *
Subject: X11 device doesn't handle destroy events correcly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 13 Feb 2001 17:40:46 -0500
* PR# 1020 *
Subject: .Call and Mandrake 8.0
From: lcottret@yahoo.fr
Date: Wed, 11 Jul 2001 15:34:23 +0200 (MET DST)
--problem with symbol names only on Mandrake 8.0, not 7.2
--needs reply to follow-up
* PR# 1097 *
Subject: R 1.3.1 fails 'make check' on arm in the Bessel example
From: Dirk Eddelbuettel <edd@debian.org>
Date: Thu, 20 Sep 2001 23:54:19 -0500
* PR# 1140 *
Subject: Possible bug, Rprof() and scan(pipe())
From: Don MacQueen <macq@llnl.gov>
Date: Tue, 23 Oct 2001 13:50:26 -0700
--Doesn't happen on Solaris or Linux
* PR# 1145 *
Subject: Problem testing R version 1.3.1 on SGI Irix
From: Gordon Lack <gml4410@ggr.co.uk>
Date: Fri, 26 Oct 2001 19:04:04 +0100
--error from using SGI libblas (not reported on other systems?)
--use --without-blas
* PR# 1215 *
Subject: Error when library() called with no arguments
From: rpeng@stat.ucla.edu
Date: Thu, 13 Dec 2001 20:51:21 +0100 (MET)
--not reproducible even on other RH7.1 systems

Directory:  TooMuchAtOnce

* PR# 1110 *
Subject: Several R vs S-Plus issues
From: David Brahm  <a215020@agate.fmr.com>
Date: Wed, 3 Oct 2001 11:35:58 -0400 (EDT)
--1. is perhaps a bug -- the best handling of string NAs is under discussion
--
--2 & 4 are just S-PLUS incompatibilities
--
--3. May be a bug -- worth checking.

Directory:  Windows

none

Directory:  incoming

* PR# 1186 *
Subject: a patch to tapply
From: Vadim Ogranovich <vograno@arbitrade.com>
Date: Thu, 29 Nov 2001 14:48:35 -0600
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jabraham@ucalgary.ca  Fri Dec 21 18:51:34 2001
From: jabraham@ucalgary.ca (jabraham@ucalgary.ca)
Date: Fri, 21 Dec 2001 19:51:34 +0100 (MET)
Subject: [Rd] "at 0x78003b44 referenced memory at 0x00000000" (PR#1225)
Message-ID: <200112211851.TAA02479@pubhealth.ku.dk>

Full_Name: John Abraham
Version: rw1031
OS: Windows 2000 Professional
Submission from: (NULL) (136.159.125.21)


A friend introduced me to "R", and it seems just what I need -- a good
statistical package with an open source
flavour so that, if it doesn't do what I need it to do, I can extend it.

I installed the latest windows binary, and when I try to run it I get a window
that's titled "Rterm.exe - Application Error" and
in the window it says "the instruction at "0x78003b44" referenced memory at
"0x00000000".  The memory could not be "read".

When I bring up the debugger and call up that address, it seems to bring me into
the MSVCRT.strcpy routine.  That's strange.  Now I haven't used an assemby
language debugger for many many years, so maybe I'm misinterpreting this.  But I
notice I have several versions of MSVCRT.dll on my machine, and I'm assuming
that this routine is inside one of these dlls.  So is there a particular
MSVCRT.DLL that I should be using?

Any other ideas?

Really would like to get this working...

John Abraham
jabraham@ucalgary.ca

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Dec 21 19:04:20 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 21 Dec 2001 20:04:20 +0100 (MET)
Subject: [Rd] "at 0x78003b44 referenced memory at 0x00000000" (PR#1225)
Message-ID: <200112211904.UAA02540@pubhealth.ku.dk>

On Fri, 21 Dec 2001 jabraham@ucalgary.ca wrote:

> Full_Name: John Abraham
> Version: rw1031
> OS: Windows 2000 Professional
> Submission from: (NULL) (136.159.125.21)
>
>
> A friend introduced me to "R", and it seems just what I need -- a good
> statistical package with an open source
> flavour so that, if it doesn't do what I need it to do, I can extend it.
>
> I installed the latest windows binary, and when I try to run it I get a window
> that's titled "Rterm.exe - Application Error" and
> in the window it says "the instruction at "0x78003b44" referenced memory at
> "0x00000000".  The memory could not be "read".
>
> When I bring up the debugger and call up that address, it seems to bring me into
> the MSVCRT.strcpy routine.  That's strange.  Now I haven't used an assemby
> language debugger for many many years, so maybe I'm misinterpreting this.  But I
> notice I have several versions of MSVCRT.dll on my machine, and I'm assuming
> that this routine is inside one of these dlls.  So is there a particular
> MSVCRT.DLL that I should be using?
>
> Any other ideas?

If all else fails, read the rw-FAQ?

The information is in there, but there's lot more you need to know, like
the purpose of Rterm.exe vs Rgui.exe.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bellis@hsph.harvard.edu  Fri Dec 21 19:24:25 2001
From: bellis@hsph.harvard.edu (Byron Ellis)
Date: Fri, 21 Dec 2001 14:24:25 -0500 (EST)
Subject: [Rd] "at 0x78003b44 referenced memory at 0x00000000" (PR#1225)
In-Reply-To: <200112211851.TAA02479@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.10.10112211423330.7320-100000@hsph.harvard.edu>

Ah, you probably need version 6.1 or later of MSVCRT.

Byron Ellis (bellis@hsph.harvard.edu)
"Oook" - The Librarian

On Fri, 21 Dec 2001 jabraham@ucalgary.ca wrote:

> Full_Name: John Abraham
> Version: rw1031
> OS: Windows 2000 Professional
> Submission from: (NULL) (136.159.125.21)
> 
> 
> A friend introduced me to "R", and it seems just what I need -- a good
> statistical package with an open source
> flavour so that, if it doesn't do what I need it to do, I can extend it.
> 
> I installed the latest windows binary, and when I try to run it I get a window
> that's titled "Rterm.exe - Application Error" and
> in the window it says "the instruction at "0x78003b44" referenced memory at
> "0x00000000".  The memory could not be "read".
> 
> When I bring up the debugger and call up that address, it seems to bring me into
> the MSVCRT.strcpy routine.  That's strange.  Now I haven't used an assemby
> language debugger for many many years, so maybe I'm misinterpreting this.  But I
> notice I have several versions of MSVCRT.dll on my machine, and I'm assuming
> that this routine is inside one of these dlls.  So is there a particular
> MSVCRT.DLL that I should be using?
> 
> Any other ideas?
> 
> Really would like to get this working...
> 
> John Abraham
> jabraham@ucalgary.ca
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Fri Dec 21 20:14:09 2001
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich.Leisch@ci.tuwien.ac.at)
Date: Fri, 21 Dec 2001 21:14:09 +0100
Subject: [Rd] CRAN incoming
Message-ID: <15395.38929.928115.876937@galadriel.ci.tuwien.ac.at>


We have improved security measures on CRAN which now includes
accepting no email from outside our domain (a couple of other ports
will be closed, too).

The new email adress to reach the CRAN maintainers (i.e., Kurt and me)
is

	cran@r-project.org

Please use this adress for notification when you upload packages to
CRAN.

Best,

-- 
-------------------------------------------------------------------
                        Friedrich  Leisch 
Institut fr Statistik                     Tel: (+43 1) 58801 10715
Technische Universitt Wien                Fax: (+43 1) 58801 10798
Wiedner Hauptstrae 8-10/1071      Friedrich.Leisch@ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gray@jimmy.harvard.edu  Sun Dec 23 14:06:44 2001
From: gray@jimmy.harvard.edu (gray@jimmy.harvard.edu)
Date: Sun, 23 Dec 2001 15:06:44 +0100 (MET)
Subject: [Rd] problem in predict.mlm (PR#1226)
Message-ID: <200112231406.PAA07548@pubhealth.ku.dk>

predict.mlm() does not appear to work properly with newdata specified
(it seems to ignore newdata in my applications).  I suggest replacing

  X <- model.matrix(object, newdata)

with something like 

  X <- model.matrix(delete.response(terms(object)), newdata)

(see the corresponding section in predict.lm()).
--
Bob Gray

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From possolo@crd.ge.com  Tue Dec 25 21:45:48 2001
From: possolo@crd.ge.com (possolo@crd.ge.com)
Date: Tue, 25 Dec 2001 22:45:48 +0100 (MET)
Subject: [Rd] read.table (PR#1227)
Message-ID: <200112252145.WAA12194@pubhealth.ku.dk>

Full_Name: Antonio Possolo
Version: 1.4.0
OS: Linux
Submission from: (NULL) (24.25.141.205)


## inputFile has the following three lines (each without the initial ``## '')
## a,b
## m,1
## n,3
## and resides in $HOME/R

fileHOME <- paste(Sys.getenv("HOME"), "/R/", sep="")
fileNAME <- "inputFile"

## Given the command,

z <- read.table(file=paste(fileHOME, fileNAME, sep=""), sep=",", 
                header=TRUE, row.names=NULL, as.is=TRUE)

## R replies

## stack imbalance in internal type.convert,
##   28 then 27stack imbalance in .Internal, 27 then 26
## stack imbalance in if, 21 then 20
## stack imbalance in <-, 19 then 18
## stack imbalance in {, 17 then 16
## stack imbalance in for, 10 then 9
## stack imbalance in {, 8 then 7
## stack imbalance in <-, 2 then 1
## Error: unprotect(): stack imbalance

## but z is correct.

## The command

z <- read.table(file=paste(fileHOME, fileNAME, sep=""), sep=",", 
                           header=TRUE, row.names=NULL, as.is=TRUE,
                           colClasses=c("character", "numeric"))

## produces the same result without complaints.

## Finally, the command

z <- read.table(file=paste(fileHOME, fileNAME, sep=""), sep=",", 
                           header=TRUE, row.names=NULL, as.is=FALSE)

## also produces a data-frame with the correct elements,
## but z$a is a factor, not a character vector.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Dec 25 23:04:21 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 26 Dec 2001 00:04:21 +0100 (MET)
Subject: [Rd] read.table (PR#1227)
Message-ID: <200112252304.AAA12326@pubhealth.ku.dk>

The main point is already fixed in R-patched.

On Tue, 25 Dec 2001 possolo@crd.ge.com wrote:

> Full_Name: Antonio Possolo
> Version: 1.4.0
> OS: Linux
> Submission from: (NULL) (24.25.141.205)
>
>
> ## inputFile has the following three lines (each without the initial ``## '')
> ## a,b
> ## m,1
> ## n,3
> ## and resides in $HOME/R
>
> fileHOME <- paste(Sys.getenv("HOME"), "/R/", sep="")
> fileNAME <- "inputFile"
>
> ## Given the command,
>
> z <- read.table(file=paste(fileHOME, fileNAME, sep=""), sep=",",
>                 header=TRUE, row.names=NULL, as.is=TRUE)
>
> ## R replies
>
> ## stack imbalance in internal type.convert,
> ##   28 then 27stack imbalance in .Internal, 27 then 26
> ## stack imbalance in if, 21 then 20
> ## stack imbalance in <-, 19 then 18
> ## stack imbalance in {, 17 then 16
> ## stack imbalance in for, 10 then 9
> ## stack imbalance in {, 8 then 7
> ## stack imbalance in <-, 2 then 1
> ## Error: unprotect(): stack imbalance
>
> ## but z is correct.
>
> ## The command
>
> z <- read.table(file=paste(fileHOME, fileNAME, sep=""), sep=",",
>                            header=TRUE, row.names=NULL, as.is=TRUE,
>                            colClasses=c("character", "numeric"))
>
> ## produces the same result without complaints.

Yes, and as this is much preferable, the previous case never got
tested!  Leave as.is= out ...

> ## Finally, the command
>
> z <- read.table(file=paste(fileHOME, fileNAME, sep=""), sep=",",
>                            header=TRUE, row.names=NULL, as.is=FALSE)
>
> ## also produces a data-frame with the correct elements,
> ## but z$a is a factor, not a character vector.

If as.is=FALSE, character inputs are documented to be converted to
factors, so where is the bug?

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From paradis@isem.univ-montp2.fr  Wed Dec 26 12:07:57 2001
From: paradis@isem.univ-montp2.fr (paradis@isem.univ-montp2.fr)
Date: Wed, 26 Dec 2001 13:07:57 +0100 (MET)
Subject: [Rd] bug with var(rep(1e30, 3)) (PR#1228)
Message-ID: <200112261207.NAA13242@pubhealth.ku.dk>

There seems to be a bug with var() when the argument is a vector with
exactly three values of 1e30 (or close to this value). This does not happen
with twice, four (or more) times this value, or another value.


> var(rep(1e30, 3))
[1] 2.971056e+28
> var(rep(1.2e30, 3))
[1] 2.971056e+28
> var(rep(0.9e30, 3))
[1] 2.971056e+28
> var(rep(0.8e30, 3))
[1] 0
> var(rep(1e29, 3))
[1] 0
> var(rep(1e30, 2))
[1] 0
> var(rep(1e30, 4))
[1] 0
> var(rep(1e31, 3))
[1] 0


The bug is repeatable, and I got the same results with R 1.3.1 (binary from
CRAN) and R 1.4.0 (binary from BD Ripley's site) both on Windows NT, and R
1.4.0 on Solaris (compiled from sources).



Emmanuel Paradis
Laboratoire de Palontologie
Institut des Sciences de l'volution
Universit Montpellier II
F-34095 Montpellier cdex 05
France
   phone: +33  4 67 14 39 64
     fax: +33  4 67 14 36 10
  mailto:paradis@isem.univ-montp2.fr

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Dec 26 14:31:27 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Dec 2001 15:31:27 +0100
Subject: [Rd] bug with var(rep(1e30, 3)) (PR#1228)
In-Reply-To: <200112261207.NAA13242@pubhealth.ku.dk>
References: <200112261207.NAA13242@pubhealth.ku.dk>
Message-ID: <x2heqet5mo.fsf@blueberry.kubism.ku.dk>

paradis@isem.univ-montp2.fr writes:

> There seems to be a bug with var() when the argument is a vector with
> exactly three values of 1e30 (or close to this value). This does not happen
> with twice, four (or more) times this value, or another value.
> 
> 
> > var(rep(1e30, 3))
> [1] 2.971056e+28
> > var(rep(1.2e30, 3))
> [1] 2.971056e+28
> > var(rep(0.9e30, 3))
> [1] 2.971056e+28
> > var(rep(0.8e30, 3))
> [1] 0
> > var(rep(1e29, 3))
> [1] 0
> > var(rep(1e30, 2))
> [1] 0
> > var(rep(1e30, 4))
> [1] 0
> > var(rep(1e31, 3))
> [1] 0
> 
> 
> The bug is repeatable, and I got the same results with R 1.3.1 (binary from
> CRAN) and R 1.4.0 (binary from BD Ripley's site) both on Windows NT, and R
> 1.4.0 on Solaris (compiled from sources).

Not a bug, roundoff:

> (1e30+1e30+1e30)/3-1e30
[1] 1.407375e+14
> 3*((1e30+1e30+1e30)/3-1e30)^2/2
[1] 2.971056e+28

Relative errors of the order 1e-16 are completely expectable in
floating point arithmetic.

For illustration, look at it in octal, after removing a bunch of
trailing zeroes:

> x<-1e30/(8^16)
> structure(x, class="octmode")
[1] "144762623464043165"
> structure(x+x+x, class="octmode")
[1] "456730272634151540"

If you look carefully, you will see that a bit is lost in the process
since 5+5+5 is 17 octal.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Dec 26 15:52:57 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 26 Dec 2001 16:52:57 +0100 (MET)
Subject: [Rd] bug with var(rep(1e30, 3)) (PR#1228)
Message-ID: <200112261552.QAA13692@pubhealth.ku.dk>

But there are better algorithms that are not subject to this sort
of rounding error.

I reckon that computing a variance this way is not the quality of
algorithm one should expect from R.

On 26 Dec 2001, Peter Dalgaard BSA wrote:

> paradis@isem.univ-montp2.fr writes:
>
> > There seems to be a bug with var() when the argument is a vector with
> > exactly three values of 1e30 (or close to this value). This does not happen
> > with twice, four (or more) times this value, or another value.
> >
> >
> > > var(rep(1e30, 3))
> > [1] 2.971056e+28
> > > var(rep(1.2e30, 3))
> > [1] 2.971056e+28
> > > var(rep(0.9e30, 3))
> > [1] 2.971056e+28
> > > var(rep(0.8e30, 3))
> > [1] 0
> > > var(rep(1e29, 3))
> > [1] 0
> > > var(rep(1e30, 2))
> > [1] 0
> > > var(rep(1e30, 4))
> > [1] 0
> > > var(rep(1e31, 3))
> > [1] 0
> >
> >
> > The bug is repeatable, and I got the same results with R 1.3.1 (binary from
> > CRAN) and R 1.4.0 (binary from BD Ripley's site) both on Windows NT, and R
> > 1.4.0 on Solaris (compiled from sources).
>
> Not a bug, roundoff:
>
> > (1e30+1e30+1e30)/3-1e30
> [1] 1.407375e+14
> > 3*((1e30+1e30+1e30)/3-1e30)^2/2
> [1] 2.971056e+28
>
> Relative errors of the order 1e-16 are completely expectable in
> floating point arithmetic.
>
> For illustration, look at it in octal, after removing a bunch of
> trailing zeroes:
>
> > x<-1e30/(8^16)
> > structure(x, class="octmode")
> [1] "144762623464043165"
> > structure(x+x+x, class="octmode")
> [1] "456730272634151540"
>
> If you look carefully, you will see that a bit is lost in the process
> since 5+5+5 is 17 octal.
>
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Dec 26 17:01:17 2001
From: p.dalgaard@biostat.ku.dk (p.dalgaard@biostat.ku.dk)
Date: Wed, 26 Dec 2001 18:01:17 +0100 (MET)
Subject: [Rd] bug with var(rep(1e30, 3)) (PR#1228)
Message-ID: <200112261701.SAA13883@pubhealth.ku.dk>

Prof Brian Ripley <ripley@stats.ox.ac.uk> writes:

> But there are better algorithms that are not subject to this sort
> of rounding error.
> 
> I reckon that computing a variance this way is not the quality of
> algorithm one should expect from R.

Hmm. Which algorithms are there? Surely almost any kind of provisional
means subtraction could avoid the the extreme case where the mean of a
bunch of identical numbers is different from all of them, but will it
also improve precision in the general case?

Essentially our current algorithm in cov.c is

xm<- sum(x)/n
v <- 1/(n-1)*sum((x-xm)^2)

> > > x<-1e30/(8^16)
> > > structure(x, class="octmode")
> > [1] "144762623464043165"
> > > structure(x+x+x, class="octmode")
> > [1] "456730272634151540"
> >
> > If you look carefully, you will see that a bit is lost in the process
> > since 5+5+5 is 17 octal.


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From hb@maths.lth.se  Thu Dec 27 10:23:15 2001
From: hb@maths.lth.se (hb@maths.lth.se)
Date: Thu, 27 Dec 2001 11:23:15 +0100 (MET)
Subject: [Rd] RGui/R Console crashes when entering illegal symbols (PR#1229)
Message-ID: <200112271023.LAA15931@pubhealth.ku.dk>

Full_Name: Henrik Bengtsson
Version: v1.4.0 (2001-12-19)
OS: WinMe
Submission from: (NULL) (217.208.14.137)


When typing/pasting "" (UK pound), "" (sun/star), "" (paragraph), "" (1/2
char) etc in the R Console window the RGui environment crashes. I noticed this
first in R v1.4.0 (2001-12-19 by B. Ripley), but it also happens in R v1.3.1. 

The symbols above are on my keyboard which makes it easy crash R by mistake. I
addition to typing and paste these symbols, I also tried to enter a few other
characters by using Alt-NumKeys (http://www.asciitable.com/) and I found that
several other symbols with ASCII >127 crash the RGui.

Happy New Year and thanks

Henrik Bengtsson


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Dec 27 11:18:07 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 27 Dec 2001 12:18:07 +0100 (MET)
Subject: [Rd]  (PR#1229) RGui/R Console crashes when entering illegal
Message-ID: <200112271118.MAA16417@pubhealth.ku.dk>

This is answered in the rw-FAQ, Q2.12!  It is not a problem with R, but
with your installation of Windows.

*PLEASE* do not report FAQs as bugs: it a complete waste of the
developers' time.

On Thu, 27 Dec 2001 hb@maths.lth.se wrote:

> Full_Name: Henrik Bengtsson
> Version: v1.4.0 (2001-12-19)
> OS: WinMe
> Submission from: (NULL) (217.208.14.137)
>
>
> When typing/pasting "" (UK pound), "" (sun/star), "" (paragraph), "" (1/2
> char) etc in the R Console window the RGui environment crashes. I noticed this
> first in R v1.4.0 (2001-12-19 by B. Ripley), but it also happens in R v1.3.1.
>
> The symbols above are on my keyboard which makes it easy crash R by mistake. I
> addition to typing and paste these symbols, I also tried to enter a few other
> characters by using Alt-NumKeys (http://www.asciitable.com/) and I found that
> several other symbols with ASCII >127 crash the RGui.
>
> Happy New Year and thanks
>
> Henrik Bengtsson
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.__._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Dec 27 11:28:46 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 27 Dec 2001 12:28:46 +0100 (MET)
Subject: [Rd] scale in stars() is not as documented (PR#1230)
Message-ID: <200112271128.MAA16486@pubhealth.ku.dk>

R 1.4.0

?stars has

   scale: logical flag: if `TRUE', the columns of the data matrix are
          scaled independently so that the maximum value in each column
          is 1 and the minimum is 0.  If `FALSE', the presumption is
          that the data have been scaled by some other algorithm to the
          range [0,1].

but the code has

    if (scale) {
        x <- sweep(x, 2, apply(x, 2, max), FUN = "/")
        x[is.na(x)] <- 0
    }

and so just linearly (not affinely) scales the maximum to one. The result
is very different star plots from the S original.  Try

stars(state.x77[, c(7, 4, 6, 2, 5, 3)])

compared to

stars(state.x77[, c(7, 4, 6, 2, 5, 3)], byrow = T) # in S

I suspect we should fix the code, but does anyone rely on it?


BTW, it is hard to think of a more inefficient way to write that
scaling!

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kevin.Wright@pioneer.com  Thu Dec 27 21:52:59 2001
From: Kevin.Wright@pioneer.com (Kevin.Wright@pioneer.com)
Date: Thu, 27 Dec 2001 22:52:59 +0100 (MET)
Subject: [Rd] reshape error in 1.4 (PR#1231)
Message-ID: <200112272152.WAA18855@pubhealth.ku.dk>

Full_Name: Kevin Wright
Version: 1.4
OS: Windows 95
Submission from: (NULL) (170.54.59.160)


Note: This was the 1.4 build for Windows that Brian Ripley made available.

The first example in the help for reshape doesn't work for me.  When I cut and
paste, this is what happens:

>      data(Indometh,package="nls")
>      summary(Indometh)
 Subject      time            conc       
 1:11    Min.   :0.250   Min.   :0.0500  
 4:11    1st Qu.:0.750   1st Qu.:0.1100  
 2:11    Median :2.000   Median :0.3400  
 5:11    Mean   :2.886   Mean   :0.5918  
 6:11    3rd Qu.:5.000   3rd Qu.:0.8325  
 3:11    Max.   :8.000   Max.   :2.7200  
>      wide<-reshape(Indometh,v.names="conc",idvar="Subject",
+                     timevar="time",direction="wide")
Error in tapply(a, data[, idvar], function(b) length(unique(b)) == 1) : 
        arguments must have same length

> version
         _              
platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    4.0            
year     2001           
month    12             
day      19             
language R              


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Dec 27 22:10:45 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 Dec 2001 23:10:45 +0100
Subject: [Rd] reshape error in 1.4 (PR#1231)
In-Reply-To: <200112272152.WAA18855@pubhealth.ku.dk>
References: <200112272152.WAA18855@pubhealth.ku.dk>
Message-ID: <x27kr8mhzu.fsf@blueberry.kubism.ku.dk>

Kevin.Wright@pioneer.com writes:

> Full_Name: Kevin Wright
> Version: 1.4
> OS: Windows 95
> Submission from: (NULL) (170.54.59.160)
> 
> 
> Note: This was the 1.4 build for Windows that Brian Ripley made available.
> 
> The first example in the help for reshape doesn't work for me.  When I cut and
> paste, this is what happens:
> 
> >      data(Indometh,package="nls")
> >      summary(Indometh)
>  Subject      time            conc       
>  1:11    Min.   :0.250   Min.   :0.0500  
>  4:11    1st Qu.:0.750   1st Qu.:0.1100  
>  2:11    Median :2.000   Median :0.3400  
>  5:11    Mean   :2.886   Mean   :0.5918  
>  6:11    3rd Qu.:5.000   3rd Qu.:0.8325  
>  3:11    Max.   :8.000   Max.   :2.7200  
> >      wide<-reshape(Indometh,v.names="conc",idvar="Subject",
> +                     timevar="time",direction="wide")
> Error in tapply(a, data[, idvar], function(b) length(unique(b)) == 1) : 
>         arguments must have same length

This doesn't appear to be reproducible on non-Windows machines, and
I'd suspect that Brian checks quite carefully for this kind of thing
on Windows as well. You wouldn't happen to have something floating
around in your workspace that could get in the way? Otherwise try
turning on debug(reshape) and when it is defined also
debug(reshapeWide). Then tell us what is in a and data[, idvar] when
the problem appears.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Thu Dec 27 22:26:42 2001
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Thu, 27 Dec 2001 14:26:42 -0800 (PST)
Subject: [Rd] reshape error in 1.4 (PR#1231)
In-Reply-To: <x27kr8mhzu.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.A41.4.33.0112271424000.79082-100000@homer09.u.washington.edu>

On 27 Dec 2001, Peter Dalgaard BSA wrote:

> Kevin.Wright@pioneer.com writes:
>
> > Full_Name: Kevin Wright
> > Version: 1.4
> > OS: Windows 95
> > Submission from: (NULL) (170.54.59.160)
> >
> >
> > Note: This was the 1.4 build for Windows that Brian Ripley made available.
> >
> > The first example in the help for reshape doesn't work for me.  When I cut and
> > paste, this is what happens:


I don't have that build, but the example definitely works in the windows
version that Guido announced, which I think is going to be on CRAN very
soon.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Dec 28 08:30:47 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 28 Dec 2001 09:30:47 +0100 (MET)
Subject: [Rd] reshape error in 1.4 (PR#1231)
Message-ID: <200112280830.JAA20176@pubhealth.ku.dk>

On 27 Dec 2001, Peter Dalgaard BSA wrote:

> Kevin.Wright@pioneer.com writes:
>
> > Full_Name: Kevin Wright
> > Version: 1.4
> > OS: Windows 95
> > Submission from: (NULL) (170.54.59.160)
> >
> >
> > Note: This was the 1.4 build for Windows that Brian Ripley made available.
> >
> > The first example in the help for reshape doesn't work for me.  When I cut and
> > paste, this is what happens:
> >
> > >      data(Indometh,package="nls")
> > >      summary(Indometh)
> >  Subject      time            conc
> >  1:11    Min.   :0.250   Min.   :0.0500
> >  4:11    1st Qu.:0.750   1st Qu.:0.1100
> >  2:11    Median :2.000   Median :0.3400
> >  5:11    Mean   :2.886   Mean   :0.5918
> >  6:11    3rd Qu.:5.000   3rd Qu.:0.8325
> >  3:11    Max.   :8.000   Max.   :2.7200
> > >      wide<-reshape(Indometh,v.names="conc",idvar="Subject",
> > +                     timevar="time",direction="wide")
> > Error in tapply(a, data[, idvar], function(b) length(unique(b)) == 1) :
> >         arguments must have same length
>
> This doesn't appear to be reproducible on non-Windows machines, and
> I'd suspect that Brian checks quite carefully for this kind of thing
> on Windows as well. You wouldn't happen to have something floating
> around in your workspace that could get in the way? Otherwise try
> turning on debug(reshape) and when it is defined also
> debug(reshapeWide). Then tell us what is in a and data[, idvar] when
> the problem appears.

Yes, example(reshape) works on that build on the machine on which it was
built.  Running all the examples is part of make check, so if they fail
for you it is very likely to be a local problem.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kevin.wright@pioneer.com  Fri Dec 28 14:45:51 2001
From: kevin.wright@pioneer.com (kevin.wright@pioneer.com)
Date: Fri, 28 Dec 2001 15:45:51 +0100 (MET)
Subject: [Rd] reshape error in 1.4 (PR#1231)
Message-ID: <200112281445.PAA22596@pubhealth.ku.dk>

Thanks for the replies.

For whatever reason, installing the "official" version solved the problem.

Kevin Wright

> -----Original Message-----
> From: Prof Brian Ripley [mailto:ripley@stats.ox.ac.uk]
> Sent: Friday, December 28, 2001 2:30 AM
> To: Peter Dalgaard BSA
> Cc: Wright, Kevin; R-bugs@biostat.ku.dk
> Subject: Re: [Rd] reshape error in 1.4 (PR#1231)
> 
> 
> On 27 Dec 2001, Peter Dalgaard BSA wrote:
> 
> > Kevin.Wright@pioneer.com writes:
> >
> > > Full_Name: Kevin Wright
> > > Version: 1.4
> > > OS: Windows 95
> > > Submission from: (NULL) (170.54.59.160)
> > >
> > >
> > > Note: This was the 1.4 build for Windows that Brian 
> Ripley made available.
> > >
> > > The first example in the help for reshape doesn't work 
> for me.  When I cut and
> > > paste, this is what happens:
> > >
> > > >      data(Indometh,package="nls")
> > > >      summary(Indometh)
> > >  Subject      time            conc
> > >  1:11    Min.   :0.250   Min.   :0.0500
> > >  4:11    1st Qu.:0.750   1st Qu.:0.1100
> > >  2:11    Median :2.000   Median :0.3400
> > >  5:11    Mean   :2.886   Mean   :0.5918
> > >  6:11    3rd Qu.:5.000   3rd Qu.:0.8325
> > >  3:11    Max.   :8.000   Max.   :2.7200
> > > >      wide<-reshape(Indometh,v.names="conc",idvar="Subject",
> > > +                     timevar="time",direction="wide")
> > > Error in tapply(a, data[, idvar], function(b) 
> length(unique(b)) == 1) :
> > >         arguments must have same length
> >
> > This doesn't appear to be reproducible on non-Windows machines, and
> > I'd suspect that Brian checks quite carefully for this kind of thing
> > on Windows as well. You wouldn't happen to have something floating
> > around in your workspace that could get in the way? Otherwise try
> > turning on debug(reshape) and when it is defined also
> > debug(reshapeWide). Then tell us what is in a and data[, idvar] when
> > the problem appears.
> 
> Yes, example(reshape) works on that build on the machine on 
> which it was
> built.  Running all the examples is part of make check, so if 
> they fail
> for you it is very likely to be a local problem.
> 
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From james.holtman@convergys.com  Sat Dec 29 20:29:28 2001
From: james.holtman@convergys.com (james.holtman@convergys.com)
Date: Sat, 29 Dec 2001 21:29:28 +0100 (MET)
Subject: [Rd] Slow 'read.table' in R 1.4.0 (PR#1232)
Message-ID: <200112292029.VAA26005@pubhealth.ku.dk>

The 'read.table' function appears to be up to 10X slower in R 1.4.0 than R
1.3.1 for some of the data sets I read in.  I was comparing the source code
for the 2 versions and see that it was rewritten in R 1.4.0.

I think I found out what part of the problem might be.  I was comparing
R1.3.1 and R1.4.0 code and it appears that a statement is missing in some
of the code for R 1.4.  This is the section of code at the beginning of
read.table.  The loop starting with 'while (nlines < 5)' will read in the
entire file, because there is no increment of 'nlines' in the loop.  I
traced through the code  and this is what was happening.  It then does a
'pushBack' of the entire file.  In tracing through the code, this is where
is appears to be taking the time.  With the change noted below, the speed
was similar to R 1.3.1 and the results were the same.

Here is the current code with what I think is the additional statement
needed:

=================part of read.table========

    nlines <- 0
    lines <- NULL
    while (nlines < 5) {
        line <- readLines(file, 1, ok = TRUE)
        if (length(line) == 0)
            break
        if (blank.lines.skip && length(grep("^[ \\t]*$", line)))
            next
        if (length(comment.char) && nchar(comment.char)) {
            pattern <- paste("^[ \\t]*", substring(comment.char,
                1, 1), sep = "")
            if (length(grep(pattern, line)))
                next
        }
        lines <- c(lines, line)
       #
       #  additional line required
       #
       nlines <- nlines+1
    }
    nlines <- length(lines)
    if (!nlines) {
        if (missing(col.names))
            stop("no lines available in input")
        else {
            tmp <- vector("list", length(col.names))
            names(tmp) <- col.names
            class(tmp) <- "data.frame"
            return(tmp)
        }
    }
    if (all(nchar(lines) == 0))
        stop("empty beginning of file")
    pushBack(c(lines, lines), file)

--

NOTICE:  The information contained in this electronic mail transmission is
intended by Convergys Corporation for the use of the named individual or
entity to which it is directed and may contain information that is
privileged or otherwise confidential.  If you have received this electronic
mail transmission in error, please delete it from your system without
copying or forwarding it, and notify the sender of the error by reply email
or by telephone (collect), so that the sender's address records can be
corrected.



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sat Dec 29 21:25:39 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 29 Dec 2001 22:25:39 +0100 (MET)
Subject: [Rd] Slow 'read.table' in R 1.4.0 (PR#1232)
Message-ID: <200112292125.WAA26095@pubhealth.ku.dk>

As I have told you privately several days ago,

*This has already been fixed in R-patched*.


On Sat, 29 Dec 2001 james.holtman@convergys.com wrote:

> The 'read.table' function appears to be up to 10X slower in R 1.4.0 than R
> 1.3.1 for some of the data sets I read in.  I was comparing the source code
> for the 2 versions and see that it was rewritten in R 1.4.0.
>
> I think I found out what part of the problem might be.  I was comparing
> R1.3.1 and R1.4.0 code and it appears that a statement is missing in some
> of the code for R 1.4.  This is the section of code at the beginning of
> read.table.  The loop starting with 'while (nlines < 5)' will read in the
> entire file, because there is no increment of 'nlines' in the loop.  I
> traced through the code  and this is what was happening.  It then does a
> 'pushBack' of the entire file.  In tracing through the code, this is where
> is appears to be taking the time.  With the change noted below, the speed
> was similar to R 1.3.1 and the results were the same.
>
> Here is the current code with what I think is the additional statement
> needed:
>
> =================part of read.table========
>
>     nlines <- 0
>     lines <- NULL
>     while (nlines < 5) {
>         line <- readLines(file, 1, ok = TRUE)
>         if (length(line) == 0)
>             break
>         if (blank.lines.skip && length(grep("^[ \\t]*$", line)))
>             next
>         if (length(comment.char) && nchar(comment.char)) {
>             pattern <- paste("^[ \\t]*", substring(comment.char,
>                 1, 1), sep = "")
>             if (length(grep(pattern, line)))
>                 next
>         }
>         lines <- c(lines, line)
>        #
>        #  additional line required
>        #
>        nlines <- nlines+1
>     }
>     nlines <- length(lines)
>     if (!nlines) {
>         if (missing(col.names))
>             stop("no lines available in input")
>         else {
>             tmp <- vector("list", length(col.names))
>             names(tmp) <- col.names
>             class(tmp) <- "data.frame"
>             return(tmp)
>         }
>     }
>     if (all(nchar(lines) == 0))
>         stop("empty beginning of file")
>     pushBack(c(lines, lines), file)
>
> --
>
> NOTICE:  The information contained in this electronic mail transmission is
> intended by Convergys Corporation for the use of the named individual or
> entity to which it is directed and may contain information that is
> privileged or otherwise confidential.  If you have received this electronic
> mail transmission in error, please delete it from your system without
> copying or forwarding it, and notify the sender of the error by reply email
> or by telephone (collect), so that the sender's address records can be
> corrected.
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jago@mclink.it  Sun Dec 30 21:20:23 2001
From: jago@mclink.it (Stefano Iacus)
Date: Sun, 30 Dec 2001 22:20:23 +0100
Subject: [Rd] ifs estimator
Message-ID: <090E8430-FD6B-11D5-B2FA-003065CC4CB8@mclink.it>

Hy all,

I have written a small library that provide a new distribution function 
estimator based on IFS (that are essentially fractals).

I would be pleased if any of you can build hte library for Unix-type 
machines and Windows implementations with the included makefiles as a 
Mac library is already working. As I'm not able to test these platforms 
any modification to makefiles is welcome.

I have put something (src and Monte Carlo results) at

http://159.149.74.117/~web/R/ifs/

This is a very preliminary release of the library and only the basic 
estimator is contained in it. We (me and D. La Torre) are working on 
smarter estimators and also on density estimators.

On that page there is also some theory on the subject at a very 
preliminary stage as a full paper will follow in 2002.

thank you for your attention and I wish you an happy new year.

			Stefano

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Mon Dec 31 13:12:43 2001
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Mon, 31 Dec 2001 14:12:43 +0100
Subject: [Rd] ifs estimator
In-Reply-To: <090E8430-FD6B-11D5-B2FA-003065CC4CB8@mclink.it>
References: <090E8430-FD6B-11D5-B2FA-003065CC4CB8@mclink.it>
Message-ID: <15408.25675.538679.627892@gargle.gargle.HOWL>

>>>>> "Stefano" == Stefano Iacus <jago@mclink.it> writes:

    Stefano> Hy all, I have written a small library that provide

((it's called  ``package''  , not library ... ))

    Stefano> a new distribution function estimator based on IFS
    Stefano> (that are essentially fractals).

    Stefano> I would be pleased if any of you can build hte
    Stefano> library for Unix-type machines and Windows
    Stefano> implementations with the included makefiles as a
    Stefano> Mac library is already working. As I'm not able to
    Stefano> test these platforms any modification to makefiles
    Stefano> is welcome.

    Stefano> I have put something (src and Monte Carlo results)
    Stefano> at

    Stefano> http://159.149.74.117/~web/R/ifs/

    Stefano> This is a very preliminary release of the library
    Stefano> and only the basic estimator is contained in it. We
    Stefano> (me and D. La Torre) are working on smarter
    Stefano> estimators and also on density estimators.

I had to change DESCRIPTION.in (this is for R standard
 packages!!) to DESCRIPTION
{and then you don't need a TITLE file anymore).

Also the file permissions were wrong in quite a few places, you
had extra executable permission on simple text files.

    Stefano> On that page there is also some theory on the
    Stefano> subject at a very preliminary stage as a full paper
    Stefano> will follow in 2002.
(fine).

Note that I would recommend using a tests/ subdirectory
where you'd put some of the code currently in your (separately
packaged) ifs demo.

After the above changes, `R CMD check' only reports two
remaining problem groups :

1)
 >> * checking Rd files ... WARNING
 >> *  non-standard keyword(s) in `man/ifs.Rd': distribution function estimation

Note that you must choose from <RHOME>/doc/KEYWORDS

2)

 >>   * checking for undocumented objects ... WARNING
 >>   [1] "phi"    "SM.IFS"
 
 {you have to decide what to do here}.


    Stefano> thank you for your attention and I wish you an
    Stefano> happy new year.

The same to you and all other R-develers!

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Mon Dec 31 13:40:04 2001
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Mon, 31 Dec 2001 14:40:04 +0100 (MET)
Subject: [Rd] scale in stars() is not as documented (PR#1230)
Message-ID: <200112311340.OAA00678@pubhealth.ku.dk>

>>>>> "BDR" == Brian D Ripley <ripley@stats.ox.ac.uk> writes:

    BDR> R 1.4.0 ?stars has

    BDR>    scale: logical flag: if `TRUE', the columns of the
    BDR> data matrix are scaled independently so that the
    BDR> maximum value in each column is 1 and the minimum is 0.
    BDR> If `FALSE', the presumption is that the data have been
    BDR> scaled by some other algorithm to the range [0,1].

    BDR> but the code has

    BDR>     if (scale) { x <- sweep(x, 2, apply(x, 2, max), FUN
    BDR> = "/") x[is.na(x)] <- 0 }

    BDR> and so just linearly (not affinely) scales the maximum
    BDR> to one. The result is very different star plots from
    BDR> the S original.  Try

    BDR> stars(state.x77[, c(7, 4, 6, 2, 5, 3)])

    BDR> compared to

    BDR> stars(state.x77[, c(7, 4, 6, 2, 5, 3)], byrow = T) # in S

    BDR> I suspect we should fix the code, but does anyone rely
    BDR> on it?



    BDR> BTW, it is hard to think of a more inefficient way to
    BDR> write that scaling!

Thank you, Brian, for fixing it (for R-patched i.e. R 1.4.1 to be).

Note that the scale thing all came from the original 

  ### T. Dye <tdye@lava.net>, July 1999
  ### This code started life as spatial star plots by David A. Andrews.
  ### See http://www.stat.rice.edu/~andrewsd/software/software.html.

(and that code was at least a start,..)
We had just done some (as you saw) `not quite perfect' NA handling.

Martin


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From viele@ms.uky.edu  Sun Dec  2 00:27:55 2001
From: viele@ms.uky.edu (viele@ms.uky.edu)
Date: Sun, 2 Dec 2001 01:27:55 +0100 (MET)
Subject: [Rd] bug in rbinom? (PR#1190)
Message-ID: <200112020027.BAA29162@pubhealth.ku.dk>

Full_Name: Kert Viele
Version: 1.3
OS: Windows ME and 2000
Submission from: (NULL) (65.6.218.65)



Hello! Thanks for all your efforts on R. They are appreciated!

I was simulating the central limit theorem in class,
but found that repeated use of

mean(rbinom(100000,500,0.4))

resulted in values less than 200 (the expected mean), for example

> mean(rbinom(100000,500,0.4))
[1] 199.0294
> mean(rbinom(100000,500,0.4))
[1] 199.1077
> mean(rbinom(100000,500,0.4))
[1] 199.0668
and so on.

I did this 1000 times and found the results to be distributed
approximately N(199.0787,s=0.036). The standard deviation
is pretty accurate, but the mean is significantly off from 200.

Thanks for any help! (including telling me my mistakes!)
- Kert Viele
Assistant Professor of Statistics
University of Kentucky



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sun Dec  2 00:55:16 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 Dec 2001 01:55:16 +0100
Subject: [Rd] bug in rbinom? (PR#1190)
In-Reply-To: <200112020027.BAA29162@pubhealth.ku.dk>
References: <200112020027.BAA29162@pubhealth.ku.dk>
Message-ID: <x2vgfqwidn.fsf@blueberry.kubism.ku.dk>

viele@ms.uky.edu writes:

> I was simulating the central limit theorem in class,
> but found that repeated use of
> 
> mean(rbinom(100000,500,0.4))
> 
> resulted in values less than 200 (the expected mean), for example
> 
> > mean(rbinom(100000,500,0.4))
> [1] 199.0294
> > mean(rbinom(100000,500,0.4))
> [1] 199.1077
> > mean(rbinom(100000,500,0.4))
> [1] 199.0668
> and so on.
> 
> I did this 1000 times and found the results to be distributed
> approximately N(199.0787,s=0.036). The standard deviation
> is pretty accurate, but the mean is significantly off from 200.

I see the same thing on Linux. Looks like it needs checking against
the original CACM algorithm.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sun Dec  2 17:38:06 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 Dec 2001 18:38:06 +0100
Subject: [Rd] bug in rbinom? (PR#1190)
In-Reply-To: <x2vgfqwidn.fsf@blueberry.kubism.ku.dk>
References: <200112020027.BAA29162@pubhealth.ku.dk>
 <x2vgfqwidn.fsf@blueberry.kubism.ku.dk>
Message-ID: <x2snat5xq9.fsf@blueberry.kubism.ku.dk>

Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:

> viele@ms.uky.edu writes:
> 
> > I was simulating the central limit theorem in class,
> > but found that repeated use of
> > 
> > mean(rbinom(100000,500,0.4))
> > 
> > resulted in values less than 200 (the expected mean), for example
> > 
> > > mean(rbinom(100000,500,0.4))
> > [1] 199.0294
> > > mean(rbinom(100000,500,0.4))
> > [1] 199.1077
> > > mean(rbinom(100000,500,0.4))
> > [1] 199.0668
> > and so on.
> > 
> > I did this 1000 times and found the results to be distributed
> > approximately N(199.0787,s=0.036). The standard deviation
> > is pretty accurate, but the mean is significantly off from 200.
> 
> I see the same thing on Linux. Looks like it needs checking against
> the original CACM algorithm.

This seems not to be present in the original Fortran (once I got it to
compile properly -- it requires -fno-automatic) so there has to be a
transcription error somewhere. I'll be darned if I can find it, though. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sun Dec  2 18:04:45 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 Dec 2001 19:04:45 +0100
Subject: [Rd] bug in rbinom? (PR#1190)
In-Reply-To: <x2snat5xq9.fsf@blueberry.kubism.ku.dk>
References: <200112020027.BAA29162@pubhealth.ku.dk>
 <x2vgfqwidn.fsf@blueberry.kubism.ku.dk>
 <x2snat5xq9.fsf@blueberry.kubism.ku.dk>
Message-ID: <x2vgfppkg2.fsf@blueberry.kubism.ku.dk>

Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:

> Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:
> 
> > viele@ms.uky.edu writes:
> > 
> > > I was simulating the central limit theorem in class,
> > > but found that repeated use of
> > > 
> > > mean(rbinom(100000,500,0.4))
> > > 
> > > resulted in values less than 200 (the expected mean), for example
> > > 
> > > > mean(rbinom(100000,500,0.4))
> > > [1] 199.0294
> > > > mean(rbinom(100000,500,0.4))
> > > [1] 199.1077
> > > > mean(rbinom(100000,500,0.4))
> > > [1] 199.0668
> > > and so on.
> > > 
> > > I did this 1000 times and found the results to be distributed
> > > approximately N(199.0787,s=0.036). The standard deviation
> > > is pretty accurate, but the mean is significantly off from 200.
> > 
> > I see the same thing on Linux. Looks like it needs checking against
> > the original CACM algorithm.
> 
> This seems not to be present in the original Fortran (once I got it to
> compile properly -- it requires -fno-automatic) so there has to be a
> transcription error somewhere. I'll be darned if I can find it, though. 

Got it!  

log(w * p / (x1 * q))

had lost the parentheses in the denominator... Will fix for 1.4


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From katfinancial@yahoo.com  Mon Dec  3 12:57:05 2001
From: katfinancial@yahoo.com (TomKat)
Date: Mon, 03 Dec 2001 20:57:05 +0800
Subject: [Rd] Financial Modelling with R
Message-ID: <3C0B76A1.8080803@yahoo.com>

hi there,

are there any people out there who would like to collaborate on 
developing some financial models (packages and rweb modules)?
I can contribute the design and data - pretty much any data there is 
including real-time data . please email if interested.  thanks.

tom
katfinancial@yahoo.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gregory_r_warnes@groton.pfizer.com  Mon Dec  3 19:34:47 2001
From: gregory_r_warnes@groton.pfizer.com (gregory_r_warnes@groton.pfizer.com)
Date: Mon, 3 Dec 2001 20:34:47 +0100 (MET)
Subject: [Rd] Segfault in foreign:read.xport (PR#1192)
Message-ID: <200112031934.UAA14368@pubhealth.ku.dk>


I get a segfault when trying to read a SAS transport file with rather long
rows using read.xport from package foreign (version 0.4-7).  The culprit
seems to be these lines in xport_read in SASxport.c:

590                         } else {
591                             c = strchr(tmpchar, ' ');
592                             *c = '\0';
593                             SET_STRING_ELT(VECTOR_ELT(data, k), j,
594                                            (c == tmpchar) ?
R_BlankString :
595                                            mkChar(tmpchar));
596                         }

(gdb) print tmpchar
$1 = 0xb63674 "0502"
(gdb) print c
$2 = 0x0

According to the solaris man pages, strchr returns NULL if there is no
match.  Changing lines 591 and 592 to add an appropriate test for null seems
to fix the problem:

590                         } else {
591                             if( c = strchr(tmpchar, ' ') )
592                                 *c = '\0';
593                             SET_STRING_ELT(VECTOR_ELT(data, k), j,
594                                            (c == tmpchar) ?
R_BlankString :
595                                            mkChar(tmpchar));
596                         }

I haven't looked closely at the code, so this may not be the correct
solution.

Patch and version information below.

-Greg


-------------

> R.version
         _                   
platform sparc-sun-solaris2.8
arch     sparc               
os       solaris2.8          
system   sparc, solaris2.8   
status                       
major    1                   
minor    3.1                 
year     2001                
month    08                  
day      31                  
language R                   


-----------

-------------Patch Starts Here----------------
diff -r foreign.orig//src/SASxport.c foreign/src/SASxport.c
591,595c591,598
< 			c = strchr(tmpchar, ' ');
< 			*c = '\0';
< 			SET_STRING_ELT(VECTOR_ELT(data, k), j,
< 				       (c == tmpchar) ? R_BlankString :
< 				       mkChar(tmpchar));
---
> 		      if( c = strchr(tmpchar, ' ') )
>                           {
> 			    *c = '\0';
> 			  }
> 
> 		      SET_STRING_ELT(VECTOR_ELT(data, k), j,
> 				     (c == tmpchar) ? R_BlankString :
> 				     mkChar(tmpchar));
------------Patch Ends Here--------------------


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Mon Dec  3 21:46:45 2001
From: tlumley@u.washington.edu (tlumley@u.washington.edu)
Date: Mon, 3 Dec 2001 22:46:45 +0100 (MET)
Subject: [Rd] Re: [R] appending similar data frames? (PR#1193)
Message-ID: <200112032146.WAA15067@pubhealth.ku.dk>

On Mon, 3 Dec 2001, Duncan Murdoch wrote:

> As long as the names match exactly in the two original frames, you
> should be able to do it using "rbind" and "cbind":
>
> Specifically:
>
>  rbind( cbind(x, 'x'), cbind(y, 'y') )
>


I would have thought that the recycling rules allowed this, but it doesn't
work and you need cbind(x, rep('x', NROW(x))) instead.

The documentation only specifically addresses vectors and matrices but
says
     When the arguments consist of a mix of matrices and vectors the
     number of columns (rows) of the result is determined by the number
     of columns (rows) of the matrix arguments.  Any vectors have their
     values recycled or subsetted to achieve this length.

I think it's a bug, but it might just be a documentation bug.


	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Tue Dec  4 09:27:14 2001
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Tue, 4 Dec 2001 10:27:14 +0100 (MET)
Subject: [Rd] documentation for diff (PR#1185)
Message-ID: <200112040927.KAA18814@pubhealth.ku.dk>

>>>>> "PaulG" == Paul Gilbert <pgilbert@bank-banque-canada.ca> writes:

    PaulG> The documentation for diff says: If `x' is a vector
    PaulG> of length `n' and `differences=1', then the computed
    PaulG> result is equal to the successive differences
    PaulG> `x[(1:n-lag)] - x[(lag:n)]'. ...

    PaulG> This last line should say:

    PaulG>      `x[(1+lag):n] - x[1:(n-lag)]'.

Of course!
Thank you Paul; fix now committed.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rmh@surfer.sbm.temple.edu  Tue Dec  4 16:27:00 2001
From: rmh@surfer.sbm.temple.edu (rmh@surfer.sbm.temple.edu)
Date: Tue, 4 Dec 2001 17:27:00 +0100 (MET)
Subject: [Rd] factorial() not here (PR#1194)
Message-ID: <200112041627.RAA27386@pubhealth.ku.dk>

Version 1.3.1  (2001-08-31)
factorial() is not in R.  It is in S-Plus with the definition

         factorial <- function(n) gamma(n + 1)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rmh@surfer.sbm.temple.edu  Tue Dec  4 16:34:51 2001
From: rmh@surfer.sbm.temple.edu (rmh@surfer.sbm.temple.edu)
Date: Tue, 4 Dec 2001 17:34:51 +0100 (MET)
Subject: [Rd] help(dbinom) recommended documentation improvement (PR#1195)
Message-ID: <200112041634.RAA27469@pubhealth.ku.dk>

Version 1.3.1  (2001-08-31)

help(dbinom)

currently says
                  p(x) = Choose(n,x) p^x (1-p)^(n-x)

Better would be
                  p(x) = choose(n,x) p^x (1-p)^(n-x)
since "choose" with lower case is the function name.

Even better would be
                  p(x) = choose(n,x) * p^x * (1-p)^(n-x)
because the user could pick up the right-hand-side and execute it.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Torsten.Hothorn@rzmail.uni-erlangen.de  Tue Dec  4 17:25:08 2001
From: Torsten.Hothorn@rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Tue, 4 Dec 2001 18:25:08 +0100 (MET)
Subject: [Rd] pt fails with ncp
Message-ID: <Pine.LNX.4.21.0112041822010.28603-100000@artemis.imbe.med.uni-erlangen.de>


?pt states that ncp=0 is default, so this is correct

> pt(3,3)
[1] 0.9711656
> pt(3,3, ncp=0)
[1] 0.9711656

but this is not

> pt(-Inf,3)
[1] 0
> pt(-Inf,3,ncp=0)
[1] 0.5

is it?

Torsten

--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = Under development (unstable)
 major = 1
 minor = 4.0
 year = 2001
 month = 12
 day = 03
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Dec  4 17:33:55 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 4 Dec 2001 17:33:55 +0000 (GMT)
Subject: [Rd] pt fails with ncp
In-Reply-To: <Pine.LNX.4.21.0112041822010.28603-100000@artemis.imbe.med.uni-erlangen.de>
Message-ID: <Pine.LNX.4.31.0112041731120.22130-100000@gannet.stats>

On Tue, 4 Dec 2001, Torsten Hothorn wrote:

>
> ?pt states that ncp=0 is default, so this is correct
>
> > pt(3,3)
> [1] 0.9711656
> > pt(3,3, ncp=0)
> [1] 0.9711656
>
> but this is not
>
> > pt(-Inf,3)
> [1] 0
> > pt(-Inf,3,ncp=0)
> [1] 0.5
>
> is it?

Nor is pt(Inf, 3, ncp=0)

It's very easy to fix, done ....

>
> Torsten
>
> --please do not edit the information below--
>
> Version:
>  platform = i686-pc-linux-gnu
>  arch = i686
>  os = linux-gnu
>  system = i686, linux-gnu
>  status = Under development (unstable)
>  major = 1
>  minor = 4.0
>  year = 2001
>  month = 12
>  day = 03
>  language = R
>
> Search Path:
>  .GlobalEnv, package:ctest, Autoloads, package:base
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Wed Dec  5 08:48:33 2001
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Wed, 5 Dec 2001 09:48:33 +0100 (MET)
Subject: [Rd] factorial() not here (PR#1194)
Message-ID: <200112050848.JAA02841@pubhealth.ku.dk>

>>>>> "rmh" == rmh  <rmh@surfer.sbm.temple.edu> writes:

    rmh> Version 1.3.1 (2001-08-31) factorial() is not in R.  It
    rmh> is in S-Plus with the definition

    rmh>          factorial <- function(n) gamma(n + 1)

well, and where's the bug ?  There are many more functions in S+
which are not in R.  factorial() is not a blue book or white
book function {of course!}; hence no direct reason to have it in R.
  Reversely, should we start sending bug reports to
S-news or Insightful for R functions not existing in S+ ? 

No, more seriously, are you really finding that factorial
is hard to use via gamma?  Very often it is really logarithms
one should work with anyway, hence lgamma().  Now we would also
`need' lfactorial() .....

Regards,
Martin


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gregory_r_warnes@groton.pfizer.com  Wed Dec  5 14:16:49 2001
From: gregory_r_warnes@groton.pfizer.com (Warnes, Gregory R)
Date: Wed, 5 Dec 2001 09:16:49 -0500
Subject: [Rd] factorial() not here (PR#1194)
Message-ID: <5429125E11E4D411AF7300805FE603A8014CF076@groexmbcr02.pfizer.com>


Its not a bug, its a feature request.  I've needed and written this simple
function a number of times and would like to have it available in a package.
Consequently, I'll add it the gregmisc package.

-Greg

 >  -----Original Message-----
 >  From: maechler@stat.math.ethz.ch [mailto:maechler@stat.math.ethz.ch]
 >  Sent: Wednesday, December 05, 2001 3:49 AM
 >  To: r-devel@stat.math.ethz.ch
 >  Cc: R-bugs@biostat.ku.dk
 >  Subject: Re: [Rd] factorial() not here (PR#1194)
 >  
 >  
 >  >>>>> "rmh" == rmh  <rmh@surfer.sbm.temple.edu> writes:
 >  
 >      rmh> Version 1.3.1 (2001-08-31) factorial() is not in R.  It
 >      rmh> is in S-Plus with the definition
 >  
 >      rmh>          factorial <- function(n) gamma(n + 1)
 >  
 >  well, and where's the bug ?  There are many more functions in S+
 >  which are not in R.  factorial() is not a blue book or white
 >  book function {of course!}; hence no direct reason to have it in R.
 >    Reversely, should we start sending bug reports to
 >  S-news or Insightful for R functions not existing in S+ ? 
 >  
 >  No, more seriously, are you really finding that factorial
 >  is hard to use via gamma?  Very often it is really logarithms
 >  one should work with anyway, hence lgamma().  Now we would also
 >  `need' lfactorial() .....
 >  
 >  Regards,
 >  Martin
 >  
 >  
 >  -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
 >  -.-.-.-.-.-.-.-.-.-
 >  r-devel mailing list -- Read 
 >  http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
 >  Send "info", "help", or "[un]subscribe"
 >  (in the "body", not the subject !)  To: 
 >  r-devel-request@stat.math.ethz.ch
 >  _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
 >  _._._._._._._._._._
 >  


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gregory_r_warnes@groton.pfizer.com  Wed Dec  5 14:18:18 2001
From: gregory_r_warnes@groton.pfizer.com (gregory_r_warnes@groton.pfizer.com)
Date: Wed, 5 Dec 2001 15:18:18 +0100 (MET)
Subject: [Rd] factorial() not here (PR#1194)
Message-ID: <200112051418.PAA11110@pubhealth.ku.dk>


Its not a bug, its a feature request.  I've needed and written this simple
function a number of times and would like to have it available in a package.
Consequently, I'll add it the gregmisc package.

-Greg

 >  -----Original Message-----
 >  From: maechler@stat.math.ethz.ch [mailto:maechler@stat.math.ethz.ch]
 >  Sent: Wednesday, December 05, 2001 3:49 AM
 >  To: r-devel@stat.math.ethz.ch
 >  Cc: R-bugs@biostat.ku.dk
 >  Subject: Re: [Rd] factorial() not here (PR#1194)
 >  
 >  
 >  >>>>> "rmh" == rmh  <rmh@surfer.sbm.temple.edu> writes:
 >  
 >      rmh> Version 1.3.1 (2001-08-31) factorial() is not in R.  It
 >      rmh> is in S-Plus with the definition
 >  
 >      rmh>          factorial <- function(n) gamma(n + 1)
 >  
 >  well, and where's the bug ?  There are many more functions in S+
 >  which are not in R.  factorial() is not a blue book or white
 >  book function {of course!}; hence no direct reason to have it in R.
 >    Reversely, should we start sending bug reports to
 >  S-news or Insightful for R functions not existing in S+ ? 
 >  
 >  No, more seriously, are you really finding that factorial
 >  is hard to use via gamma?  Very often it is really logarithms
 >  one should work with anyway, hence lgamma().  Now we would also
 >  `need' lfactorial() .....
 >  
 >  Regards,
 >  Martin
 >  
 >  
 >  -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
 >  -.-.-.-.-.-.-.-.-.-
 >  r-devel mailing list -- Read 
 >  http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
 >  Send "info", "help", or "[un]subscribe"
 >  (in the "body", not the subject !)  To: 
 >  r-devel-request@stat.math.ethz.ch
 >  _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
 >  _._._._._._._._._._
 >  


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Dec  5 15:02:47 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 5 Dec 2001 15:02:47 +0000 (GMT)
Subject: [Rd] Windows testing
Message-ID: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>

R 1.4.0 is now sinking into feature freeze, and we'd like some help
testing it under Windows.  Duncan Murdoch and Uwe Ligges have already
volunteered.

I've put a copy of SetupR140.exe at

http://www.stats.ox.ac.uk/pub/bdr/RWin

Also in that directory is a file TESTING suggesting some tests, not all of
which have been run on this build.  As the graphics internals have been
changed a lot recently that is one area to check out closely.

Problem reports to R-devel, please.  (At this stage the features are
frozen, so no feature requests ....)

I don't have much access to a suitable (internet-connected) Windows
machine these days, but Duncan may be able to put up later builds as
testing proceeds.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossini@u.washington.edu  Wed Dec  5 15:59:12 2001
From: rossini@u.washington.edu (A.J. Rossini)
Date: 05 Dec 2001 07:59:12 -0800
Subject: [Rd] factorial() not here (PR#1194)
In-Reply-To: <200112050848.JAA02841@pubhealth.ku.dk>
References: <200112050848.JAA02841@pubhealth.ku.dk>
Message-ID: <87pu5tbqun.fsf@jeeves.blindglobe.net>

>>>>> "m" == maechler  <maechler@stat.math.ethz.ch> writes:

>>>>> "rmh" == rmh  <rmh@surfer.sbm.temple.edu> writes:

    m> well, and where's the bug ?  There are many more functions in
    m> S+ which are not in R.  factorial() is not a blue book or white
    m> book function {of course!}; hence no direct reason to have it
    m> in R.  Reversely, should we start sending bug reports to S-news
    m> or Insightful for R functions not existing in S+ ?

Combine this with Brian's comment about Greg's concat masking an S
function, and this is amusing.

R-core can't have it both ways, emulating S when it pleases, and
complaining when not!  (at least Greg implemented it for future, so
that we don't get the mandatory statement about volunteer projects!). 

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini@u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini@scharp.org
-------------- http://software.biostat.washington.edu/ --------------
FHCRC: M-W: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   T-Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
Rosen: (Mullins' Lab) Fridays, and I'm unreachable except by email.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Dec  5 16:09:34 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 5 Dec 2001 16:09:34 +0000 (GMT)
Subject: [Rd] factorial() not here (PR#1194)
In-Reply-To: <87pu5tbqun.fsf@jeeves.blindglobe.net>
Message-ID: <Pine.LNX.4.31.0112051603510.1166-100000@gannet.stats>

On 5 Dec 2001, A.J. Rossini wrote:

> >>>>> "m" == maechler  <maechler@stat.math.ethz.ch> writes:
>
> >>>>> "rmh" == rmh  <rmh@surfer.sbm.temple.edu> writes:
>
>     m> well, and where's the bug ?  There are many more functions in
>     m> S+ which are not in R.  factorial() is not a blue book or white
>     m> book function {of course!}; hence no direct reason to have it
>     m> in R.  Reversely, should we start sending bug reports to S-news
>     m> or Insightful for R functions not existing in S+ ?
>
> Combine this with Brian's comment about Greg's concat masking an S
> function, and this is amusing.
>
> R-core can't have it both ways, emulating S when it pleases, and
> complaining when not!  (at least Greg implemented it for future, so
> that we don't get the mandatory statement about volunteer projects!).

Eh?  I don't find it amusing at all.
What I personally want to avoid is functions of the same name with
very different functionality in the two systems.  It makes porting code
between them too error-prone. R-core has been adding S-compatibility a lot
recently, and Insightful are planning to add some R-compatibility, all of
which I see as positive.

*However*, Martin was complaining that this was sent in as a bug report.
I think that is fair comment: it was not marked as a feature request.  I
do think it would be worth adding, but as 1.4.0 is in feature freeze, not
right now.

General comment: please mark feature requests as `for the wishlist' or
something similar when sending to R-bugs.

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Dec  5 16:16:41 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Dec 2001 17:16:41 +0100
Subject: [Rd] factorial() not here (PR#1194)
In-Reply-To: <Pine.LNX.4.31.0112051603510.1166-100000@gannet.stats>
References: <Pine.LNX.4.31.0112051603510.1166-100000@gannet.stats>
Message-ID: <x24rn51w2e.fsf@blueberry.kubism.ku.dk>

Prof Brian Ripley <ripley@stats.ox.ac.uk> writes:

> *However*, Martin was complaining that this was sent in as a bug report.
> I think that is fair comment: it was not marked as a feature request.  I
> do think it would be worth adding, but as 1.4.0 is in feature freeze, not
> right now.

...and for the same reason several people (not excluding the release
manager) are getting somewhat edgy, so please bear with us. We'll get
this filed as a feature request...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Wed Dec  5 16:46:43 2001
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Wed, 05 Dec 2001 11:46:43 -0500
Subject: [Rd] Windows testing
In-Reply-To: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>
References: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>
Message-ID: <61js0u4311gu5p1bdjnngrg8q86o8m18lp@4ax.com>

This is unchanged from 1.3.1, but doesn't look right to me:

If I run the graphics demo to the second prompt, I see:

>> demo(graphics)
>
>
>        demo(graphics)
>        ---- ~~~~~~~~
>
>Type  <Return>   to start : 
>
>> if (dev.cur() <= 1) get(getOption("device"))()
>
>> opar <- par(ask = interactive() && (.Device %in% c("X11", 
>    "GTK", "windows", "Macintosh")))
>
>> x <- rnorm(50)
>
>> opar <- c(opar, par(bg = "white"))
>
>> plot(x, ann = FALSE, type = "n")
>
>Hit <Return> to see next plot: 

At this point I have an open graphics window, but the last line hasn't
executed yet, so it's blank.  As I go through the demo, what shows up
is always one step behind the text that I see.

Wouldn't it be better to execute the lines that are shown before
stopping to get the user's input?

To do this, the following changes to the script would work:

3,4c3,4
< opar <- par(ask = interactive() &&
<             (.Device %in% c("X11", "GTK", "gnome", "windows",
"Macintosh")))
---
> ask <- interactive() && (.Device %in% c("X11", "GTK", "gnome", "windows", "Macintosh"))
>
16c16
< opar <- c(opar, par(bg="white"))
---
> opar <- par(bg="white")
25a26
> if (ask) readline("Hit enter for next plot...")

... and then the last line repeated after each of the plots.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Dec  5 17:35:46 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Dec 2001 18:35:46 +0100
Subject: [Rd] Windows testing
In-Reply-To: <61js0u4311gu5p1bdjnngrg8q86o8m18lp@4ax.com>
References: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>
 <61js0u4311gu5p1bdjnngrg8q86o8m18lp@4ax.com>
Message-ID: <x2vgflzi19.fsf@blueberry.kubism.ku.dk>

Duncan Murdoch <murdoch@stats.uwo.ca> writes:

> At this point I have an open graphics window, but the last line hasn't
> executed yet, so it's blank.  As I go through the demo, what shows up
> is always one step behind the text that I see.
> 
> Wouldn't it be better to execute the lines that are shown before
> stopping to get the user's input?
> 
> To do this, the following changes to the script would work:
> 
> 3,4c3,4
> < opar <- par(ask = interactive() &&
> <             (.Device %in% c("X11", "GTK", "gnome", "windows",
> "Macintosh")))
> ---
> > ask <- interactive() && (.Device %in% c("X11", "GTK", "gnome", "windows", "Macintosh"))
> >
> 16c16
> < opar <- c(opar, par(bg="white"))
> ---
> > opar <- par(bg="white")
> 25a26
> > if (ask) readline("Hit enter for next plot...")
> 
> ... and then the last line repeated after each of the plots.

We might, but not for this release. Basically that's just the way
par(ask=T) works: ask *before* plotting to a device. It could ask
afterwards ("Are you through seeing this?") but it doesn't. Presumably
someone considered the alternatives once upon a time...

Personally, I'm more miffed by the fact that par(ask=T) by itself
causes a graphics window to open. This is of course tricky to avoid,
since you need to have the device before setting its parameters. But
it is getting in the way of example(), causing it to rattle off all
graphics output in one go since we wouldn't want to set par(ask=T) on
help pages that generate no graphics.

Of course, we could eventually decide to make the demos more smooth as
you suggested. Don't forget to unset any previous setting of par(ask=)
or you will get asked twice per plot....

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Wed Dec  5 20:13:22 2001
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Wed, 05 Dec 2001 15:13:22 -0500
Subject: [Rd] Windows testing
In-Reply-To: <x2vgflzi19.fsf@blueberry.kubism.ku.dk>
References: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats> <61js0u4311gu5p1bdjnngrg8q86o8m18lp@4ax.com> <x2vgflzi19.fsf@blueberry.kubism.ku.dk>
Message-ID: <2bvs0u0u0m2hpfav9v7qhm27mf43k939ec@4ax.com>

On 05 Dec 2001 18:35:46 +0100, you wrote in message
<x2vgflzi19.fsf@blueberry.kubism.ku.dk>:

>Duncan Murdoch <murdoch@stats.uwo.ca> writes:
>
>> At this point I have an open graphics window, but the last line hasn't
>> executed yet, so it's blank.  As I go through the demo, what shows up
>> is always one step behind the text that I see.
>> 
>> Wouldn't it be better to execute the lines that are shown before
>> stopping to get the user's input?

>We might, but not for this release. Basically that's just the way
>par(ask=T) works: ask *before* plotting to a device. It could ask
>afterwards ("Are you through seeing this?") but it doesn't. Presumably
>someone considered the alternatives once upon a time...

I don't think there's any way that par(ask=T) could be made to do this
properly.  My suggestion isn't that it's broken, just that it
shouldn't be used by the demo.  It's confusing when the text that is
shown isn't synchronized with the picture that is shown.

The reason par(ask=T) couldn't do this is because you want to insert
breaks when you are changing the example, not when the graphics window
is about to be erased.  There's no automatic way to do that.  You need
to add some code to tell the system that you've changed topics.

An alternative to my 

  if (ask) readline("Hit enter for next plot...")

additions would be to add a "pause" function (maybe there is one
already, but I don't know it's name); that function could pay
attention to some global option to decide whether to really pause or
just to barrel on through.

>Personally, I'm more miffed by the fact that par(ask=T) by itself
>causes a graphics window to open. This is of course tricky to avoid,
>since you need to have the device before setting its parameters. But
>it is getting in the way of example(), causing it to rattle off all
>graphics output in one go since we wouldn't want to set par(ask=T) on
>help pages that generate no graphics.

A way around this problem would be to add some .Rd command that says
"insert a pause here"; it wouldn't be shown to the user, but the
example would pause at that spot when being played back.

>Of course, we could eventually decide to make the demos more smooth as
>you suggested. Don't forget to unset any previous setting of par(ask=)
>or you will get asked twice per plot....

Is this really a new feature request? I think of it as a bug report:
the demo doesn't demonstrate clearly, so should be fixed.  (My
suggestion about the addition of pauses to examples would definitely
be a new feature.)

Duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Dec  5 22:38:26 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Dec 2001 23:38:26 +0100
Subject: [Rd] Windows testing
In-Reply-To: <2bvs0u0u0m2hpfav9v7qhm27mf43k939ec@4ax.com>
References: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>
 <61js0u4311gu5p1bdjnngrg8q86o8m18lp@4ax.com>
 <x2vgflzi19.fsf@blueberry.kubism.ku.dk>
 <2bvs0u0u0m2hpfav9v7qhm27mf43k939ec@4ax.com>
Message-ID: <x2g06p9tst.fsf@blueberry.kubism.ku.dk>

Duncan Murdoch <murdoch@stats.uwo.ca> writes:

> >Of course, we could eventually decide to make the demos more smooth as
> >you suggested. Don't forget to unset any previous setting of par(ask=)
> >or you will get asked twice per plot....
> 
> Is this really a new feature request? I think of it as a bug report:
> the demo doesn't demonstrate clearly, so should be fixed.  (My
> suggestion about the addition of pauses to examples would definitely
> be a new feature.)

Yes, rewriting a demo would be a feature change at this stage. It's
not the best example in the world, but 

a) Seemingly innocent changes can break on some platforms

b) The demos get run as part of the checking procedure, which should
   not be jeopardized.

c) It is hardly high priority. It has worked like this through 20
   versions or so. We could need to focus our attention elsewhere if
   a bad bug turns up (e.g. that rbinom fault probably cost me 5 hours
   and a bad headache over the weekend.)  

As I said: not the best example, but did you actually consider b) and
what would happen when the code was run non-interactively?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Thu Dec  6 08:09:33 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Thu, 6 Dec 2001 09:09:33 +0100
Subject: [Rd] RE: [R] trouble with R CMD INSTALL for building my own library
In-Reply-To: <FC0B9DA2600ED4118F76009027AA5DDD02B27B30@ALEX2>
References: <FC0B9DA2600ED4118F76009027AA5DDD02B27B30@ALEX2>
Message-ID: <15375.10173.910925.565287@mithrandir.hornik.net>

>>>>> jonathan li writes:

> Hi all,
> Problem solved!

> Thanks to a suggestion by Robert Gentleman, I realized that there may
> be something that makes R think that mylib is a binary rather than
> source package. I downloaded Brian Ripley's tree source package and
> basically copied each directory. As it turns out, I have not put in a
> mylib/man subdirectory (I thought I could add it any time later.) and
> R was then tricked to believe that mylib is a binary! Once I add an
> empty mylib/man subdirectory, things become normal with compiling
> etc. Timothy, I think that your problem is likely to be the same
> source then.

Jonathan:

In that case, does not R CMD INSTALL start by saying
"Installing binary package ..."?

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Dec  6 10:46:20 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 6 Dec 2001 11:46:20 +0100 (MET)
Subject: [Rd] predict.nnet (PR#1181)
Message-ID: <200112061046.LAA22155@pubhealth.ku.dk>

I can't reproduce this example: I get

> smalltest <- nnet.formula(formula = Q65 ~ ., data = smallx,
+   size = 2, rang = 1, maxit = 250, subset = jj)
Error in get(ctr)(levels(x), contrasts = contrasts) :
        Contrasts not defined for 0 degrees of freedom

And that's correct: what you are doing is nonsense. You've included
one-level factors, and you are fitting a non-linear model to a linearly
over-determined system (there are more X columns than data points).

I don't know how you got this to work, but I would not be surprised
if predict.nnet failed on an over-determined fit:  It's not designed for
misuse.

I don't agree this is a bug in my code.


On Mon, 26 Nov 2001 jcs20@po.cwru.edu wrote:

> Full_Name: Jeff Schwarz
> Version: R1.3.1
> OS: Windows 2000
> Submission from: (NULL) (129.22.170.115)
>
>
> Error message (using predict and predict.nnet)
> > predict (smalltest, smallx[-jj,])
> Error in matrix(NA, length(keep), nout, dimnames = list(rn,
> dimnames(object$fitted)[[2]])) :
>         length of dimnames[1] not equal to array extent
>
> *** all relevant code and data source is given below ***
>
> I have successfully built an object of type nnet using...
> nnet.formula(formula = Q65 ~ ., data = smallx, size = 2, rang = 1,
>     maxit = 250, subset = jj)
>
> where smallx is a data.frame with dimensions 300 by 103 that contains numerical
> and factor variables.  Smallx is a random sample of 300 from the tab-delimited
> numeric dataset found at
> http://www.gvu.gatech.edu/user_surveys/survey-1998-10/datasets/num_general.zip.
> The code I used to recode the data is below, also.
>
> I have successfully run the sample code from the predict.nnet help file without
> any problem.
>
> *********************************************************************
>
> data source:
> http://www.gvu.gatech.edu/user_surveys/survey-1998-10/datasets/num_general.zip
>
> #***Get the data from the big file
> #***Get rid of the vairiables for survey (all
> #*** observations = general), a unique identifier
> #*** for each respondent and an extra variable X
> #*** (all = NaN)
> #***Make sure that all the asymmetric binary,
> #*** and nominal variables are coded as factor,
> #*** not numeric (daisy has special methods for
> #*** symmetric binary and discrete ordinal)
> #***Recode some of the discrete ordinal variables
> #*** so the Na, didn't know, and didn't say are all
> #*** "NaN", and so that a few of the "never" responses
> #*** are coded as 0 instead of 5
>
> bigx <-
>   read.delim (file location,
>   header = TRUE, sep = "\t", quote = "\"", dec = ".",
>   fill = TRUE)
>
> bigx <- bigx [,c(1:103)]
>
> ii <- bigx[,c(22)] == 5
> bigx[,c(22)] <- replace (bigx[,c(22)], ii, 0)
> ii <- bigx[,c(23)] == 5
> bigx[,c(23)] <- replace (bigx[,c(23)], ii, 0)
> ii <- bigx[,c(24)] == 5
> bigx[,c(24)] <- replace (bigx[,c(24)], ii, 0)
> ii <- bigx[,c(25)] == 5
> bigx[,c(25)] <- replace (bigx[,c(25)], ii, 0)
> ii <- bigx[,c(26)] == 5
> bigx[,c(26)] <- replace (bigx[,c(26)], ii, 0)
> ii <- bigx[,38] == 7
> bigx[,38] <- replace (bigx[,38], ii, NaN)
> ii <- bigx[,38] == 8
> bigx[,38] <- replace (bigx[,38], ii, NaN)
> ii <- bigx[,57] == 1
> bigx[,57] <- replace (bigx[,57], ii, NaN)
> ii <- bigx[,58] == 19
> bigx[,58] <- replace (bigx[,58], ii, NaN)
> ii <- bigx[,60] == 4
> bigx[,60] <- replace (bigx[,60], ii, NaN)
> ii <- bigx[,60] == 1
> bigx[,60] <- replace (bigx[,60], ii, 3)
> ii <- bigx[,60] == 2
> bigx[,60] <- replace (bigx[,60], ii, 1)
> ii <- bigx[,60] == 3
> bigx[,60] <- replace (bigx[,60], ii, 2)
> ii <- bigx[,69] == 1
> bigx[,69] <- replace (bigx[,69], ii, NaN)
> ii <- bigx[,69] == 7
> bigx[,69] <- replace (bigx[,69], ii, NaN)
> bigx[,69] <- bigx[,69] - 1
>
> for (ii in c(1:9,14:21,27:32,34:37,39:49,52:55,
>   59,61:70,72:103)) bigx[,ii] <- as.factor(bigx[,ii])
>
> library (nnet)
>
> set.seed(7261)
> smallx <- bigx[sample(1:5022,300),]
> jj <- sample (1:300, 100)
> smalltest <- nnet.formula(formula = Q65 ~ ., data = smallx,
>   size = 2, rang = 1, maxit = 250, subset = jj)
>
> predict.nnet (smalltest, smallx[-jj,])
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From david.firth@nuffield.ox.ac.uk  Thu Dec  6 10:56:58 2001
From: david.firth@nuffield.ox.ac.uk (david.firth@nuffield.ox.ac.uk)
Date: Thu, 6 Dec 2001 11:56:58 +0100 (MET)
Subject: [Rd] glm() documentation, two things (PR#1198)
Message-ID: <200112061056.LAA22325@pubhealth.ku.dk>

Full_Name: David Firth
Version: 1.3.1
OS: various
Submission from: (NULL) (163.1.103.121)


1.  help(glm.fit) does not properly document glm.fit.  The arguments x,y for
that function are not logicals.  It would be helpful to see here what they
*should* be.

2.  Under "Value", "weights" the word residuals should be changed to weights I
think.

Regards,
David

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jago@mclink.it  Thu Dec  6 12:14:54 2001
From: jago@mclink.it (Stefano Iacus)
Date: Thu, 6 Dec 2001 13:14:54 +0100
Subject: [Rd] Mac Test
Message-ID: <DB4BAB7A-EA42-11D5-99C4-003065CC4CB8@mclink.it>

R 1.4.0 is now sinking into feature freeze, and I'd like some help
testing it under Macintosh (from Sys 8.6 to X).


I've put a copy of R140b1 at

http://www.ci.tuwien.ac.at/~iacus/R

there are two files: R140b1.sit and R140b1.sit.hqx

download only one of the two.

Many tests have been done but you help will be precious. Several things 
have been changed or implemented both in R internals and Mac GUI.

Problem reports to stefano.iacus@unimi.it or to r-sig-
mac@stat.math.ethz.ch, please.  (At this stage the features are frozen, 
so no feature requests ....)

thanks

Stefano

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gs@statlab.uni-heidelberg.de  Thu Dec  6 13:01:36 2001
From: gs@statlab.uni-heidelberg.de (G. Sawitzki)
Date: Thu, 6 Dec 2001 14:01:36 +0100
Subject: [Rd] Mac Test
In-Reply-To: <DB4BAB7A-EA42-11D5-99C4-003065CC4CB8@mclink.it>
References: <DB4BAB7A-EA42-11D5-99C4-003065CC4CB8@mclink.it>
Message-ID: <p05100307b8351c258274@[129.206.113.199]>

At 13:14 +0100 06.12.01, Stefano Iacus wrote:
>R 1.4.0 is now sinking into feature freeze, and I'd like some help
>testing it under Macintosh (from Sys 8.6 to X).
>
>I've put a copy of R140b1 at
>
>http://www.ci.tuwien.ac.at/~iacus/R
>
>there are two files: R140b1.sit and R140b1.sit.hqx
>
>download only one of the two.
>
>Many tests have been done but you help will be precious. Several 
>things have been changed or implemented both in R internals and Mac 
>GUI.
>
>Problem reports to stefano.iacus@unimi.it or to r-sig-
>mac@stat.math.ethz.ch, please.  (At this stage the features are 
>frozen, so no feature requests ....)
>
>thanks
>
>Stefano


Minor issues:
It seems that the formula display has improved a lot. The demo for 
plotmath() still shows some glimpses. (But I do not htink one should 
spend to much time on this. Better convince someone to provide a 
proper quartz driver).

Very minor issues:
in "Thanks"
Gran Brostrm		<gb@stat.umu.se>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Thu Dec  6 15:13:09 2001
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Thu, 06 Dec 2001 10:13:09 -0500
Subject: [Rd] Windows menu entries
In-Reply-To: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>
References: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>
Message-ID: <qcvu0usdvh9e1kmin78re2u88rq0jjvsvi@4ax.com>

The convention in Windows menus is that items which do something are
listed plain, and items that lead to dialogs (to which you're expected
to give input, and from which you're allowed to back out without doing
anything) are listed with dots after the name.  The Rgui menu never
uses dots.

As far as I know, in Windows the dots aren't generally used in the
popup help hints on toolbars.

I think the following is what they should look like, to follow the
dots convention:

 File
	Source R code...
	Display file...
	Load Workspace...
	Save Workspace...
	Load History...
	Save History...
	Change dir...
	Print...
	Save to File...
	Exit
 Edit
	Copy
	Paste
	Copy and paste
	Select all
	Clear console
	GUI preferences
 Misc
	Stop current computation
	Buffered output
	List objects
	Remove all objects
	List search path
 Packages
	Load package...
	Install package from CRAN...
	Install package from local zip file...
	Update packages from CRAN
 Help
	Console
	FAQ on R
	FAQ on R for Windows
	R language (standard)...
	R language (HTML)
	Manuals
		An introduction to R
		R reference manual
		R data import/export
		R language manual
		Writing R extensions
	Apropos...
	About				

(I haven't got the correct case on lots of words above; the menus are
inconsistent about that, and I typed in a hurry.)

The menus are set up in the setupui() function in rui.c.  The block of
code below implements these changes.	

    MCHECK(newmenu("File"));
    MCHECK(msource = newmenuitem("Source R code...", 0, menusource));
    MCHECK(mdisplay = newmenuitem("Display file...", 0, menudisplay));
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(mload = newmenuitem("Load Workspace...", 0,
menuloadimage));
    MCHECK(msave = newmenuitem("Save Workspace...", 0,
menusaveimage));
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(mloadhistory = newmenuitem("Load History...", 0,
menuloadhistory));
    MCHECK(msavehistory = newmenuitem("Save History...", 0,
menusavehistory));
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(newmenuitem("Change dir...", 0, menuchangedir));
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(newmenuitem("Print...", 0, menuprint));
    MCHECK(newmenuitem("Save to File...", 0, menusavefile));
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(newmenuitem("Exit", 0, menuexit));

    MCHECK(newmenu("Edit"));
    MCHECK(mcopy = newmenuitem("Copy", 'C', menucopy));
    MCHECK(mpaste = newmenuitem("Paste", 'V', menupaste));
    MCHECK(mcopypaste = newmenuitem("Copy and Paste", 'X',
menucopypaste));
    MCHECK(newmenuitem("Select all", 0, menuselectall));
    MCHECK(newmenuitem("Clear console", 'L', menuclear));
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(mconfig = newmenuitem("GUI preferences...", 0,
menuconfig));

    MCHECK(newmenu("Misc"));
    MCHECK(newmenuitem("Stop current computation           \tESC", 0,
menukill));
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(mlazy = newmenuitem("Buffered output", 'W', menulazy));
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(mls = newmenuitem("List objects", 0, menuls));
    MCHECK(mrm = newmenuitem("Remove all objects", 0, menurm));
    MCHECK(msearch = newmenuitem("List &search path", 0, menusearch));

    MCHECK(newmenu("Packages"));
    MCHECK(mpkgl = newmenuitem("Load package...", 0, menupkgload));
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(mpkgi = newmenuitem("Install package from CRAN...", 0, 
			       menupkginstallcran));
    MCHECK(mpkgil = newmenuitem("Install package from local zip
file...", 0, 
				menupkginstalllocal));
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(mpkgu = newmenuitem("Update packages from CRAN", 0, 
			       menupkgupdate));
#ifdef USE_MDI
    newmdimenu();
#endif
    MCHECK(m = newmenu("Help"));
    MCHECK(newmenuitem("Console", 0, menuconsolehelp));
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(mFAQ = newmenuitem("FAQ on R", 0, menuFAQ));
    if (!check_doc_file("doc/html/faq.html")) disable(mFAQ);
    MCHECK(mrwFAQ = newmenuitem("FAQ on R for &Windows", 0,
menurwFAQ));
    if (!check_doc_file("doc/html/rw-faq.html")) disable(mrwFAQ);
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(mhelp = newmenuitem("R language (standard)...", 0,
menuhelp));
    MCHECK(mhelpstart = newmenuitem("R language (&html)", 0,
menuhelpstart));
    if (!check_doc_file("doc/html/rwin.html")) disable(mhelpstart);
    MCHECK(mman = newsubmenu(m, "Manuals"));
    MCHECK(mmanintro = newmenuitem("An &Introduction to R", 0,
menumainman));
    lmanintro = check_doc_file("doc/manual/R-intro.pdf");
    if (!lmanintro) disable(mmanintro);
    MCHECK(mmanref = newmenuitem("R &Reference Manual", 0,
menumainref));
    lmanref = check_doc_file("doc/manual/refman.pdf");
    if (!lmanref) disable(mmanref);
    MCHECK(mmandata = newmenuitem("R Data Import/Export", 0,
menumaindata));
    lmandata = check_doc_file("doc/manual/R-data.pdf");
    if (!lmandata) disable(mmandata);
    MCHECK(mmanlang = newmenuitem("R Language Manual", 0,
menumainlang));
    lmanlang = check_doc_file("doc/manual/R-lang.pdf");
    if (!lmanlang) disable(mmanlang);
    MCHECK(mmanext = newmenuitem("Writing R Extensions", 0,
menumainext));
    lmanext = check_doc_file("doc/manual/R-exts.pdf");
    if (!lmanext) disable(mmanext);
    if (!lmanintro && !lmanref && !lmanlang && !lmanext)
disable(mman);
    addto(m);

    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(mapropos = newmenuitem("Apropos...", 0, menuapropos));
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(newmenuitem("About", 0, menuabout));


The Graphics window menu items should be similarly edited:

 File
	Save as
		Metafile...
		Postscript...
		PDF...
		Png...
		Bmp...
		Jpeg
			50% quality...
			75% quality...
			100% quality...
	Copy to the clipboard
		as a Bitmap
		as a Metafile
	Print...
	close Device
 History
	Recording
	Add
	Replace
	Previous
	Next
	Save to variable...
	Get from variable...
	Clear History
 Resize
	R mode
	Fit to window
	Fixed size

And the popup:
	Copy as metafile
	Copy as bitmap
	Save as metafile...
	Save as postscript...
	Print...

These are in devga.c; here are the changes above:	
	
    MCHECK(m = newmenu("File"));
    MCHECK(xd->msubsave = newsubmenu(m, "Save as"));
    MCHECK(xd->mwm = newmenuitem("Metafile...", 0, menuwm));
    MCHECK(xd->mps = newmenuitem("Postscript...", 0, menups));
    MCHECK(xd->mpdf = newmenuitem("PDF...", 0, menupdf));
    MCHECK(xd->mpng = newmenuitem("Png...", 0, menufilebitmap));
    MCHECK(xd->mbmp = newmenuitem("Bmp...", 0, menufilebitmap));
    MCHECK(newsubmenu(xd->msubsave,"Jpeg"));
    MCHECK(xd->mjpeg50 = newmenuitem("50% quality...", 0,
menufilebitmap));
    MCHECK(xd->mjpeg75 = newmenuitem("75% quality...", 0,
menufilebitmap));
    MCHECK(xd->mjpeg100 = newmenuitem("100% quality...", 0,
menufilebitmap));
    MCHECK(newsubmenu(m, "Copy to the clipboard"));
    MCHECK(xd->mclpbm = newmenuitem("as a Bitmap\tCTRL+C", 0,
menuclpbm));
    MCHECK(xd->mclpwm = newmenuitem("as a Metafile\tCTRL+W", 0,
menuclpwm));
    addto(m);
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(xd->mprint = newmenuitem("Print...\tCTRL+P", 0,
menuprint));
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(xd->mclose = newmenuitem("close Device", 0, menuclose));
#ifdef PLOTHISTORY
    MCHECK(newmenu("History"));
    MCHECK(xd->mrec = newmenuitem("Recording", 0, menurec));
    if(recording) check(xd->mrec);
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(xd->madd = newmenuitem("Add\tINS", 0, menuadd));
    MCHECK(xd->mreplace = newmenuitem("Replace", 0, menureplace));
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(xd->mprev = newmenuitem("Previous\tPgUp", 0, menuprev));
    MCHECK(xd->mnext = newmenuitem("Next\tPgDown", 0, menunext));
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(xd->msvar = newmenuitem("Save to variable...", 0,
menusvar));
    MCHECK(xd->mgvar = newmenuitem("Get from variable...", 0,
menugvar));
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(xd->mclear = newmenuitem("Clear history", 0, menuclear));
#endif
    MCHECK(newmenu("Resize"));
    MCHECK(xd->mR = newmenuitem("R mode", 0, menuR));
    if(resize == 1) check(xd->mR);
    MCHECK(xd->mfit = newmenuitem("Fit to window", 0, menufit));
    if(resize == 2) check(xd->mfit);
    MCHECK(xd->mfix = newmenuitem("Fixed size", 0, menufix));
    if(resize == 3) check(xd->mfix);
    newmdimenu();

    /* Normal popup */
    MCHECK(xd->grpopup = newpopup(NULL));
    MCHECK(m = newmenuitem("Copy as metafile", 0, menuclpwm));
    setdata(m, (void *) dd);
    MCHECK(m = newmenuitem("Copy as bitmap", 0, menuclpbm));
    setdata(m, (void *) dd);
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(m = newmenuitem("Save as metafile...", 0, menuwm));
    setdata(m, (void *) dd);
    MCHECK(m = newmenuitem("Save as postscript...", 0, menups));
    setdata(m, (void *) dd);
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(m = newmenuitem("Print...", 0, menuprint));
    setdata(m, (void *) dd);
    gchangepopup(xd->gawin, xd->grpopup);


In the help pager:

 File
	Print...
	Save to File...
	Close
 Edit
	Copy
	Paste to console
	Select all

with source from pager.c:
	
    MCHECK(newmenu("File"));
    MCHECK(m = newmenuitem("Print...", 0, pagerprint));
    setdata(m, c);
    MCHECK(m = newmenuitem("Save to File...", 0, pagersavefile));
    setdata(m, c);
    MCHECK(m = newmenuitem("-", 0, NULL));
    MCHECK(m = newmenuitem("Close", 0, pagerclose));
    setdata(m, c);
    MCHECK(newmenu("Edit"));
    MCHECK(p->mcopy = newmenuitem("Copy", 'C', pagercopy));
    setdata(p->mcopy, c);
    MCHECK(p->mpaste = newmenuitem("Paste to console", 'V',
pagerpaste));
    setdata(p->mpaste, c);
    MCHECK(m = newmenuitem("Select all", 0, pagerselectall));



The data entry editor also has a menu, but I don't see any problems
there.  
I think those are all the menus!

One other comment about the menus:

There should be an Edit menu entry to invoke the data.editor.  I
didn't even know the data editor existed, until I went searching for
menus.

Duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Thu Dec  6 15:24:19 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Thu, 6 Dec 2001 16:24:19 +0100
Subject: [Rd] Re: [R] trouble with R CMD INSTALL for building my own library
In-Reply-To: <3C0F8CC0.50304@keittlab.bio.sunysb.edu>
References: <FC0B9DA2600ED4118F76009027AA5DDD02B27B30@ALEX2>
 <3C0F8CC0.50304@keittlab.bio.sunysb.edu>
Message-ID: <15375.36259.407587.232406@mithrandir.hornik.net>

>>>>> Timothy H Keitt writes:

> Yup. that was it. I looked at the INSTALL code and it checks for a
> 'man' directory to determine whether or not its a binary
> package. Perhaps the make process could put a '.binary' file in the
> package root and the INSTALL code could check for that instead?

[Thought you were on r-devel?]

I think we can check whether DESCRIPTION has a 'Built' entry.

Will get to this later today, hopefully.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Thu Dec  6 15:25:52 2001
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Thu, 06 Dec 2001 10:25:52 -0500
Subject: [Rd] Windows testing
In-Reply-To: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>
References: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>
Message-ID: <ao2v0ukhb3a2grb3irqhqsagkdq7k34n9j@4ax.com>

Some bugs in graphics windows.  I'm using a new build based on today's
r-devel.  In all cases, I started a new copy of Rgui, and ran 

 plot(1,1)

then started playing with the menus on the graphics window.

1.  The "copy as metafile" popup doesn't work.  It gives an error
message on the console, and leaves R in an unstable state.

Here's the error:

Error: axis style "
> > 

2.  Selecting "Resize|fit to window" crashes the window if you shrink
it so small that there is no space for the graph, just space for the
margins. There should be some limit to how small you're allowed to
shrink the window.

3.  Selecting "Resize|fixed size" allows you to move the view of the
graph around if you've got a smaller window than the graph.  But if
you 
  - shrink the height of the window
  - scroll to the bottom of the graph
  - grow the window back to its original size
you end up still only able to see the bottom part of the graph.  The
graph should automatically scroll back down, so as much as possible of
it is visible.

4.  Not reproducible, but while experimenting with 3, it appeared
sometimes "mouse up" events were being missed, so you'd still be
resizing the window after you'd let go of the corner of it.

5.  And a suggestion for some future release:  using a double-buffered
display would make resizing less "flashy".

Duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Thu Dec  6 16:40:45 2001
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Thu, 6 Dec 2001 08:40:45 -0800 (PST)
Subject: [Rd] Windows testing
In-Reply-To: <ao2v0ukhb3a2grb3irqhqsagkdq7k34n9j@4ax.com>
Message-ID: <Pine.A41.4.33.0112060838360.47158-100000@homer31.u.washington.edu>

On Thu, 6 Dec 2001, Duncan Murdoch wrote:
>
> 4.  Not reproducible, but while experimenting with 3, it appeared
> sometimes "mouse up" events were being missed, so you'd still be
> resizing the window after you'd let go of the corner of it.
>

I've had this occasionally with 1.3.0 (or possibly 1.3.1 -- I'm not at the
right computer today) under Win2k.

I've also had it happen with XEmacs scrollbars on the same machine, but I
don't know if that indicates an OS issue.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Dec  6 17:08:16 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 6 Dec 2001 17:08:16 +0000 (GMT)
Subject: [Rd] Windows testing
In-Reply-To: <Pine.A41.4.33.0112060838360.47158-100000@homer31.u.washington.edu>
Message-ID: <Pine.LNX.4.31.0112061706420.14268-100000@gannet.stats>

On Thu, 6 Dec 2001, Thomas Lumley wrote:

> On Thu, 6 Dec 2001, Duncan Murdoch wrote:
> >
> > 4.  Not reproducible, but while experimenting with 3, it appeared
> > sometimes "mouse up" events were being missed, so you'd still be
> > resizing the window after you'd let go of the corner of it.
> >
>
> I've had this occasionally with 1.3.0 (or possibly 1.3.1 -- I'm not at the
> right computer today) under Win2k.
>
> I've also had it happen with XEmacs scrollbars on the same machine, but I
> don't know if that indicates an OS issue.

Basically, yes, it's an OS events queue issue.  R is by no means alone in
doing this.

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Fri Dec  7 02:44:24 2001
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Thu, 06 Dec 2001 21:44:24 -0500
Subject: [Rd] Doc bug:  segments contains arrows args
Message-ID: <qta01u88bj7p4s55j1sg81qpc203sft6o8@4ax.com>

The help page for ?segments contains descriptions of parameters
"length" and "angle", presumably leftovers from when ?arrows and
?segments were the same topic.

Deleting these lines:

  \item{length}{length of the edges of the arrow head (in inches).}
  \item{angle}{angle from the shaft of the arrow to the edge of the
    arrow head.}

from segments.Rd will fix it.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Fri Dec  7 03:23:57 2001
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 06 Dec 2001 22:23:57 -0500
Subject: [Rd] cancor rownames bug
Message-ID: <3C10364D.C9F83B68@bank-banque-canada.ca>

R : Copyright 2001, The R Development Core Team
Version 1.4.0 Under development (unstable) (2001-12-05)
...
> library("mva")
> cancor(matrix(rnorm(100),100,1), matrix(rnorm(300),100,3))
Error in "rownames<-"(*tmp*, value = colnames(x)) : 
        dimnames applied to non-array
> 

I think either La.svd or backsolve needs a drop=F somewhere.

Paul Gilbert
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pd@pubhealth.ku.dk  Fri Dec  7 06:15:03 2001
From: pd@pubhealth.ku.dk (Peter Dalgaard BSA)
Date: Fri, 7 Dec 2001 07:15:03 +0100
Subject: [Rd] Bug list summary (automatic post)
Message-ID: <200112070615.fB76F3Z26900@blueberry.kubism.ku.dk>

=================================================
This is an automated summary of the status of the R-bugs
repository.

Note that this may be neither complete nor perfectly
correct at any given instance: Not all bugs are reported,
and some reported bugs may have been fixed, but the
repository not yet updated.

Some bug fixes are difficult to verify because they pertain
to specific hardware or operating system versions. If you
have information to contribute, please do so.

If you happen to know how to fix a problem please send
patches to the bug repository, too.

New bugs are reported either through the web
interface at r-bugs.r-project.org or via email to
r-bugs@r-project.org. The bug.report() function can be
used to automate parts of the procedure on many systems.
Followups on older bugs can be done by including the string
"(PR#999)" in the Subject of an email (change 999 to the
actual reference number, of course!).
=================================================

Directory:  Accuracy

none

Directory:  Add-ons

* PR# 974 *
Subject: Lattice: panel.superpose with ordered factor groups
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sat, 9 Jun 2001 11:08:51 +1000 (EST)
--The warning is standard S and R behaviour.
--Probably xyplot needs to avoid it (by unclassing?)
--Still there in lattice 0.3-0.
* PR# 1038 *
Subject: nlme: bug in getCovariateFormula
From: Setzer.Woodrow@epamail.epa.gov
Date: Tue, 31 Jul 2001 11:24:09 -0400
--change needed in package nlme
* PR# 1044 *
Subject: Polymarsall.c
From: pleu@hotmail.com
Date: Tue, 7 Aug 2001 22:42:07 +0200 (MET DST)
* PR# 1116 *
Subject: get.hist.quote does not work
From: arto.luoma@uta.fi
Date: Thu, 4 Oct 2001 14:45:29 +0200 (MET DST)
--Seems specific to one locale on one system.
--The bug is unlikely to be in R.
* PR# 1124 *
Subject: Wrong df in bartlett.test when subsetting data
From: jens.lund@nordea.com
Date: Wed, 10 Oct 2001 17:43:42 +0200 (MET DST)
* PR# 1178 *
Subject: segfault using svm from e1071
From: Jan Rychter <jan@rychter.com>
Date: Tue, 20 Nov 2001 23:38:17 +0100
* PR# 1181 *
Subject: predict.nnet
From: jcs20@po.cwru.edu
Date: Mon, 26 Nov 2001 22:00:13 +0100 (MET)

Directory:  Analyses

none

Directory:  Documentation

* PR# 988 *
Subject: input for R-intro
From: "Paul E. Johnson" <pauljohn@ku.edu>
Date: Mon, 18 Jun 2001 13:57:10 -0500
* PR# 1011 *
Subject: R-intro suggestions part II
From: "Paul E. Johnson" <pauljohn@ukans.edu>
Date: Tue, 03 Jul 2001 15:50:06 -0500
* PR# 1113 *
Subject: bug.report() & docs should mention r-devel
From: murdoch@stats.uwo.ca
Date: Thu, 4 Oct 2001 01:23:27 +0200 (MET DST)
* PR# 1132 *
Subject: Problem with "describe" lists.
From: Rolf Turner <rolf@localhost.localdomain>
Date: Thu, 18 Oct 2001 16:41:03 +0800
* PR# 1136 *
Subject: cex/col/etc. in title(): documentation?
From: Ben Bolker <ben@zoo.ufl.edu>
Date: Mon, 22 Oct 2001 11:55:14 -0400 (EDT)
--MM:actually the documentation still could elaborate a bit..

Directory:  Graphics

* PR# 202 *
Subject: persp box occlusion bug
From: wsi@gcal.ac.uk
Date: Wed, 2 Jun 1999 15:02:03 +0200 (MET DST)
--The persp algorithm does not apply the occlusion rules to the frame, 
--which is always plotted first. 
--A bug, but not very simple to fix.
* PR# 660 *
Subject: identify.default ignores any setting of cex.
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
Date: Fri, 15 Sep 2000 10:23:39 +0100 (BST)
* PR# 776 *
Subject: strwidth does not take font into account
From: Martyn Plummer <plummer@iarc.fr>
Date: Tue, 19 Dec 2000 14:56:01 +0100 (CET)
--This needs a substantial redesign.
* PR# 791 *
Subject:  par(lab= *) / axis(*) bug 
From: maechler@stat.math.ethz.ch
Date: Fri, 22 Dec 2000 10:59:26 +0100
* PR# 816 *
Subject: dotplot: character size of labels
From: RINNER Heinrich <H.RINNER@TIROL.GV.AT>
Date: Thu, 18 Jan 2001 14:54:32 +0100
--Suggested fix is incorporated in 1.2.2.
--
--There is a deeper problem:  mtext() ignores par(cex=.5) in general.  
--To see the problem try:  par(cex=.5); mtext("hi")
--Paul thinks the right fix is to change the argument list for mtext so that
--cex=par(cex) by default rather than cex=NA by default (plus corresponding
--internal changes to  do_mtext in plot.c).
--This needs to be done very carefully because (i) the change suggested above 
--mayhave side-effects in many other pieces of interpreted code 
--(ii) do_mtext ignores dd->gp.cexbase unlike, for example, do_plot_xy 
--and anything to do with cexbase needs extreme care.
* PR# 820 *
Subject: interaction.plot
From: "Mark M. Span" <span@psy.uva.nl>
Date: Mon, 22 Jan 2001 10:47:39 +0100
--mtext is unscaled by default.  It is not clear if this should
--use the par("cex") setting or an inline cex setting such as cex.axis.
--It might make more sense to use axis rather than mtext, as boxplot does.
* PR# 828 *
Subject: termplot fails for composite non-factor terms
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sat, 27 Jan 2001 11:57:37 +1100 (EST)
--Neither of the proposed changes actually works in sufficient generality.
--
--The easy and unimportant part of this, the labels, is fixed in 1.2.2. Getting
--the data right is a project for 1.3
* PR# 831 *
Subject: screen can't go back to (split) screen with log="y" plot
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 30 Jan 2001 00:39:41 -0500
--Still there. Suggested fix included in followups, but we didn't get around to
--try it in time for 1.2.3.
--
--Fix doesn't work. One problem is that the opar<-par();par(opar) idiom updates
--xaxp before xlog, and the new value of xaxp may only be valid under the new
--value of xlog.
* PR# 837 *
Subject: screen doesn't handle redrawing properly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 01 Feb 2001 14:20:52 -0500
* PR# 887 *
Subject: axis(adj=anything) has no effect
From: jhallman@frb.gov
Date: Wed, 28 Mar 2001 20:51:05 +0200 (MET DST)
* PR# 916 *
Subject:  par(mgp) bug 
From: paul@stat.auckland.ac.nz
Date: Fri, 20 Apr 2001 08:33:45 +1200 (NZST)
* PR# 940 *
Subject: GCircle(): fails for non-clippable devices under certain circumstances (see below)
From: "Thomas Hoffmann" <thoffman@zappa.sax.de>
Date: Tue, 15 May 01 23:34:17 +0100
* PR# 943 *
Subject: legend() with xpd=T; omission of initial plot character
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sun, 20 May 2001 10:35:16 +1000
* PR# 997 *
Subject:  las=1 with log axis 
From: Peter Dalgaard BSA <pd@pubhealth.ku.dk>
Date: Wed, 27 Jun 2001 11:54:06 +0200
* PR# 1045 *
Subject: Palette changes on redraw
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 08 Aug 2001 19:08:01 +0200
* PR# 1088 *
Subject:  barplot forces xpd=TRUE 
From: Peter Whiting <pwhiting@whitings.org>
Date: Sat, 8 Sep 2001 10:19:00 -0500
* PR# 1095 *
Subject:  Bizarre clipping with abline and points 
From: J.C.Rougier@durham.ac.uk
Date: Wed, 19 Sep 2001 14:45:52 +0100
* PR# 1101 *
Subject: ugly in plotmath: frac(1, sqrt(...))
From: Uwe Ligges <ligges@statistik.uni-dortmund.de>
Date: Thu, 27 Sep 2001 10:37:07 +0200
* PR# 1147 *
Subject: postscript problem
From: kjetil halvorsen <kjetilh@umsanet.edu.bo>
Date: Fri, 26 Oct 2001 15:23:45 -0400
--This seems to be a problem with screen/layout rather than postscript.
* PR# 1157 *
Subject: identify(...plot=F)
From: Rolf Turner <rolf@maths.uwa.edu.au>
Date: Fri, 2 Nov 2001 09:43:49 +0800 (WST)
* PR# 1161 *
Subject: x-axis label in persp()
From: Rolf Turner <rolf@maths.uwa.edu.au>
Date: Wed, 7 Nov 2001 18:07:22 +0800 (WST)
* PR# 1174 *
Subject: pdf() behavior
From: White.Denis@epamail.epa.gov
Date: Thu, 15 Nov 2001 10:18:21 -0800
--actually, a graphics bug.
--fixed for 1.4.0, but needs checking re the original intention

Directory:  In-Out

none

Directory:  Installation

* PR# 1034 *
Subject: Compiling R (1.3.0) on AIX (4.3) fails
From: "Thomas J Vogels" <tov@ece.cmu.edu>
Date: Sun, 29 Jul 2001 12:27:51 -0400

Directory:  Language

* PR# 408 *
Subject: convolution bug
From: wsimpson@gcal.ac.uk
Date: Fri, 28 Jan 2000 11:17:36 +0100 (MET)
* PR# 412 *
Subject: anomalies with call objects
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 06 Feb 2000 01:18:50 +0100
* PR# 669 *
Subject: Bug(s) w/ rbind.data.frame(); fix also read.table(*, as.is = TRUE) ?
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Mon, 25 Sep 2000 10:17:15 +0200
--status of AsIs columns
* PR# 921 *
Subject:  Managed to confuse match.arg 
From: J.C.Rougier@durham.ac.uk
Date: Wed, 25 Apr 2001 12:22:54 +0100 (BST)
* PR# 1052 *
Subject:  Inconsistent behaviour of is.vector? 
From: J.C.Rougier@durham.ac.uk
Date: Tue, 14 Aug 2001 09:04:57 +0100
* PR# 1073 *
Subject: Wierd problem comparing numeric values and list using ==
From: "Warnes, Gregory R" <gregory_r_warnes@groton.pfizer.com>
Date: Fri, 24 Aug 2001 22:07:41 -0400
--see also PR#1075
* PR# 1076 *
Subject: Re: [Rd] Wierd problem comparing numeric values and list using == 
From: John Chambers <jmc@research.bell-labs.com>
Date: Mon, 27 Aug 2001 08:44:22 -0400
--part of PR#1073

Directory:  Low-level

* PR# 989 *
Subject: "[.data.frame" allows un-named 3rd subscript
From: "Charles C. Berry" <cberry@tajo.ucsd.edu>
Date: Mon, 18 Jun 2001 13:13:46 -0700 (PDT)
* PR# 1063 *
Subject: interrupting Sys.sleep
From: Thomas Lumley <tlumley@u.washington.edu>
Date: Mon, 20 Aug 2001 13:55:29 -0700 (PDT)
* PR# 1068 *
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
From: Luke Tierney <luke@nokomis.stat.umn.edu>
Date: Wed, 22 Aug 2001 19:32:51 -0500
--see also followup in PR#1069
* PR# 1069 *
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
From: "John W. Eaton" <jwe@bevo.che.wisc.edu>
Date: Wed, 22 Aug 2001 21:56:33 -0500
--part of PR#1068
* PR# 1120 *
Subject: bug in write.table?
From: Ott Toomet <siim@obs.ee>
Date: Sun, 7 Oct 2001 18:24:34 +0200 (CEST)
--Traced down to an effect of read.dta in foreign interacting with do_paste. Fixed
--in foreign, but do_paste may need to use strlen() rather than LENGTH().
--

Directory:  Macintosh

none

Directory:  Misc

* PR# 1126 *
Subject: R-bug report www page whishlist
From: jens.lund@nordea.com
Date: Wed, 10 Oct 2001 18:24:29 +0200 (MET DST)
* PR# 1158 *
Subject: bug.report()sends empty message
From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
Date: Mon, 05 Nov 2001 10:05:27 -0500

Directory:  Models

none

Directory:  Startup

none

Directory:  System-specific

* PR# 848 *
Subject: X11 device doesn't handle destroy events correcly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 13 Feb 2001 17:40:46 -0500
* PR# 1002 *
Subject: core dump running modreg-Ex.R
From: WhiteG@dfo-mpo.gc.ca
Date: Thu, 28 Jun 2001 19:14:18 +0200 (MET DST)
--Only reported on SGI, solved by removing optimization.
--Needs debugging there.
* PR# 1020 *
Subject: .Call and Mandrake 8.0
From: lcottret@yahoo.fr
Date: Wed, 11 Jul 2001 15:34:23 +0200 (MET DST)
--problem with symbol names only on Mandrake 8.0, not 7.2
--needs reply to follow-up
* PR# 1026 *
Subject: make check failure on SGI-IRIX6.5
From: laurent@cbs.dtu.dk
Date: Mon, 16 Jul 2001 15:06:17 +0200 (MET DST)
* PR# 1057 *
Subject: crt1.o skipped at configure time ?
From: laurent@cbs.dtu.dk
Date: Thu, 16 Aug 2001 08:52:34 +0200 (MET DST)
* PR# 1084 *
Subject: Install problems R 1.3.1 on HP-UX
From: Peter Kleiweg <kleiweg@let.rug.nl>
Date: Sun, 2 Sep 2001 15:07:41 +0200 (CEST)
* PR# 1097 *
Subject: R 1.3.1 fails 'make check' on arm in the Bessel example
From: Dirk Eddelbuettel <edd@debian.org>
Date: Thu, 20 Sep 2001 23:54:19 -0500
* PR# 1106 *
Subject: What is an error bu21?
From: Patrick Lindsey <patrick.lindsey@luc.ac.be>
Date: Mon, 1 Oct 2001 15:43:36 +0200 (MET DST)
--Looks like an SGI make bug
* PR# 1140 *
Subject: Possible bug, Rprof() and scan(pipe())
From: Don MacQueen <macq@llnl.gov>
Date: Tue, 23 Oct 2001 13:50:26 -0700
--Doesn't happen on Solaris or Linux
* PR# 1145 *
Subject: Problem testing R version 1.3.1 on SGI Irix
From: Gordon Lack <gml4410@ggr.co.uk>
Date: Fri, 26 Oct 2001 19:04:04 +0100

Directory:  TooMuchAtOnce

* PR# 1110 *
Subject: Several R vs S-Plus issues
From: David Brahm  <a215020@agate.fmr.com>
Date: Wed, 3 Oct 2001 11:35:58 -0400 (EDT)
--1. is perhaps a bug -- the best handling of string NAs is under discussion
--
--2 & 4 are just S-PLUS incompatibilities
--
--3. May be a bug -- worth checking.

Directory:  Windows

none

Directory:  incoming

* PR# 1184 *
Subject: ltsreg warnings
From: charlie@stat.umn.edu
Date: Thu, 29 Nov 2001 17:02:33 +0100 (MET)
* PR# 1186 *
Subject: a patch to tapply
From: Vadim Ogranovich <vograno@arbitrade.com>
Date: Thu, 29 Nov 2001 14:48:35 -0600
* PR# 1193 *
Subject: Re: [R] appending similar data frames?
From: Thomas Lumley <tlumley@u.washington.edu>
Date: Mon, 3 Dec 2001 13:46:35 -0800 (PST)
* PR# 1194 *
Subject: factorial() not here
From: Rich Heiberger <rmh@surfer.sbm.temple.edu>
Date: Tue, 4 Dec 2001 11:29:01 -0500 (EST)
* PR# 1195 *
Subject: help(dbinom) recommended documentation improvement
From: Rich Heiberger <rmh@surfer.sbm.temple.edu>
Date: Tue, 4 Dec 2001 11:29:58 -0500 (EST)
* PR# 1196 *
Subject: Re:
From: "(null)" <_bravington@ukonline.co.uk>
Date: Tue,  4 Dec 2001 19:51:00 +0000 (GMT)
* PR# 1197 *
Subject: Re: Er du opptatt i kveld
From: e_postus@yahoo.com
Date: Wed, 05 Dec 2001 22:08:50 -0600
* PR# 1198 *
Subject: glm() documentation, two things
From: david.firth@nuffield.ox.ac.uk
Date: Thu, 6 Dec 2001 11:56:57 +0100 (MET)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Dec  7 06:38:39 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 7 Dec 2001 06:38:39 +0000 (GMT)
Subject: [Rd] cancor rownames bug
In-Reply-To: <3C10364D.C9F83B68@bank-banque-canada.ca>
Message-ID: <Pine.GSO.4.31.0112070638000.4068-100000@auk.stats>

On Thu, 6 Dec 2001, Paul Gilbert wrote:

> R : Copyright 2001, The R Development Core Team
> Version 1.4.0 Under development (unstable) (2001-12-05)
> ...
> > library("mva")
> > cancor(matrix(rnorm(100),100,1), matrix(rnorm(300),100,3))
> Error in "rownames<-"(*tmp*, value = colnames(x)) :
>         dimnames applied to non-array
> >
>
> I think either La.svd or backsolve needs a drop=F somewhere.

Indeed one branch in La.svd does.  Thanks, fixed now.


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Dec  7 08:34:09 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 7 Dec 2001 08:34:09 +0000 (GMT)
Subject: [Rd] Doc bug:  segments contains arrows args
In-Reply-To: <qta01u88bj7p4s55j1sg81qpc203sft6o8@4ax.com>
Message-ID: <Pine.LNX.4.31.0112070833220.18173-100000@gannet.stats>

Done, thank you.

On Thu, 6 Dec 2001, Duncan Murdoch wrote:

> The help page for ?segments contains descriptions of parameters
> "length" and "angle", presumably leftovers from when ?arrows and
> ?segments were the same topic.
>
> Deleting these lines:
>
>   \item{length}{length of the edges of the arrow head (in inches).}
>   \item{angle}{angle from the shaft of the arrow to the edge of the
>     arrow head.}
>
> from segments.Rd will fix it.
>
> Duncan Murdoch
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas.baumann@ch.tum.de  Fri Dec  7 10:06:28 2001
From: thomas.baumann@ch.tum.de (thomas.baumann@ch.tum.de)
Date: Fri, 7 Dec 2001 11:06:28 +0100 (MET)
Subject: [Rd] pixmap: infinite recursion with nonascii pnm-files (PR#1199)
Message-ID: <200112071006.LAA05432@pubhealth.ku.dk>

Problem:

read.pnm from pixmap_0.2-1.tar.gz stops with an infinite recursion if a
"#" occurs within the raw (binary) data of a pnm-file.


The reason for this behaviour seems to be the handling of comments in
read.pnmhead. The recursive call of strip.comments requires a newline to
complete sucessfully. A work-around would be

diff -r pixmap/R/pnm.R pixmap.orig/R/pnm.R
112c112
<       com1 <- as.integer(regexpr("#.*\n", inpstr))
---
>       com1 <- as.integer(regexpr("#", inpstr))

i.e. to check if the comment sign is actually followed by a newline.

However, if this sequence (#.*\n) would occur within the data and within
the first 350 bytes of the pnm-file the data would be stripped as well.

Furthermore, comments within the data of ascii files after byte 350 are
not handled correctly and lead to an error. Although this seems to be a
rare case, it might occur and it is allowed by the pnm-file
specification.

Thomas

--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = 
 major = 1
 minor = 3.1
 year = 2001
 month = 08
 day = 31
 language = R

Search Path:
 .GlobalEnv, package:pixmap, package:ctest, Autoloads, package:base



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Fri Dec  7 11:02:33 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Fri, 7 Dec 2001 12:02:33 +0100
Subject: [Rd] R Bug Report PR#1020
Message-ID: <15376.41417.978442.908345@mithrandir.hornik.net>

We still have PR#1020 (.Call and Mandrake 8.0) by lcottret@yahoo.fr.
Is this still a problem with r-devel?  Does it go away by using Mandrake
8.1 instead?
-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Fri Dec  7 11:08:47 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Fri, 07 Dec 2001 12:08:47 +0100
Subject: [Rd] compiling in windows
References: <Pine.LNX.4.31.0112070833220.18173-100000@gannet.stats>
Message-ID: <3C10A33F.C6799C66@univie.ac.at>

i downloaded todays r-devel tarball
and tried to make it.

i have the complete toolkit,
i can compile R-1.3.1

when i tried today, this is what i got

gcc  -s -mwindows -o Rgui.exe graphappmain.o rgui.o rgico.o ../R.dll
graphappmain.o(.text+0x121):graphappmain.c: undefined reference 
to `_imp__R_reserved_size'
rgui.o(.text+0x63):rgui.c: undefined reference to `_imp__CharacterMode'
make[1]: *** [Rgui.exe] Error 1
make[1]: Leaving directory
`/cygdrive/d/Work/R-devel/src/gnuwin32/front-ends'
make: *** [front-ends] Error 2


additionally,
in src/gnuwin32/INSTALL there is a note about
rw1040\unzip
this directory does not exist in tar snapshot


and src/gnuwin32/readme

has unsunbstituted references for @RWVER@

@RWVER@b.zip				the base system
@RWVER@h.zip				text help
@RWVER@ch.zip				compiled HTML help
@RWVER@w.zip				HTML help files
@RWVER@l.zip				latex help files for offline help
@RWVER@m.zip				installed .Rd files
@RWVER@d1.zip				PDF manuals except
@RWVER@d2.zip				  PDF version of the reference manual
@RWVER@sp.zip				files to build packages from source


i do now know id these should be resolved or not.




Prof Brian Ripley wrote:
> 
> Done, thank you.
> 
> On Thu, 6 Dec 2001, Duncan Murdoch wrote:
> 
> > The help page for ?segments contains descriptions of parameters
> > "length" and "angle", presumably leftovers from when ?arrows and
> > ?segments were the same topic.
> >
> > Deleting these lines:
> >
> >   \item{length}{length of the edges of the arrow head (in inches).}
> >   \item{angle}{angle from the shaft of the arrow to the edge of the
> >     arrow head.}
> >
> > from segments.Rd will fix it.
> >
> > Duncan Murdoch
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> --
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Dec  7 11:40:43 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 7 Dec 2001 11:40:43 +0000 (GMT)
Subject: [Rd] compiling in windows
In-Reply-To: <3C10A33F.C6799C66@univie.ac.at>
Message-ID: <Pine.LNX.4.31.0112071132070.18476-100000@gannet.stats>

On Fri, 7 Dec 2001, Erich Neuwirth wrote:

> i downloaded todays r-devel tarball
> and tried to make it.
>
> i have the complete toolkit,
> i can compile R-1.3.1

*BUT* it is not the same toolkit.  Do read CHANGES.

> when i tried today, this is what i got
>
> gcc  -s -mwindows -o Rgui.exe graphappmain.o rgui.o rgico.o ../R.dll
> graphappmain.o(.text+0x121):graphappmain.c: undefined reference
> to `_imp__R_reserved_size'
> rgui.o(.text+0x63):rgui.c: undefined reference to `_imp__CharacterMode'
> make[1]: *** [Rgui.exe] Error 1
> make[1]: Leaving directory
> `/cygdrive/d/Work/R-devel/src/gnuwin32/front-ends'
> make: *** [front-ends] Error 2

You don't have the recommended compiler, then.

> additionally,
> in src/gnuwin32/INSTALL there is a note about
> rw1040\unzip
> this directory does not exist in tar snapshot

Correct!  Try following the instructions and see what happens.

> and src/gnuwin32/readme
>
> has unsunbstituted references for @RWVER@
>
> @RWVER@b.zip				the base system
> @RWVER@h.zip				text help
> @RWVER@ch.zip				compiled HTML help
> @RWVER@w.zip				HTML help files
> @RWVER@l.zip				latex help files for offline help
> @RWVER@m.zip				installed .Rd files
> @RWVER@d1.zip				PDF manuals except
> @RWVER@d2.zip				  PDF version of the reference manual
> @RWVER@sp.zip				files to build packages from source
>
>
> i do now know id these should be resolved or not.

The tarball is correct. Did you read through the Makefile to see what
happens?

I really wouldn't advise building from R-devel tarballs at present unless
you really know what you are doing (in which case get the sources by
rsync): a lot of issues are still being resolved, especially on Windows.


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From mikalzet@libero.it  Fri Dec  7 11:44:09 2001
From: mikalzet@libero.it (mikalzet@libero.it)
Date: Fri, 7 Dec 2001 12:44:09 +0100 (MET)
Subject: [Rd] bug PR#1020
Message-ID: <200112071144.MAA07120@pubhealth.ku.dk>


Found it on the site.
I tried duncan's suggestion.

#include "Rinternals.h"

SEXP
simpleCall()
{
  static int count = 0;
  SEXP ans;

  PROTECT(ans = allocVector(INTSXP, 1));
  INTEGER(ans)[0] = count++;

  UNPROTECT(1);
  return(ans);
}


If I had read this before I could have checked on mandrake 8.0

Here is my output on mandrake 8.1:

> dyn.load("simpleCall.so")
> for(i in 1:10) { print(.Call("simpleCall")) }

[1] 0
[1] 1
[1] 2
[1] 3
[1] 4
[1] 5
[1] 6
[1] 7
[1] 8
[1] 9

for(i in 1:10) { print(.Call("simpleCall")) }

[1] 10
[1] 11
[1] 12
[1] 13
[1] 14
[1] 15
[1] 16
[1] 17
[1] 18
[1] 19

> for(i in 1:10) { print(.Call("simpleCall")) }

[1] 20
[1] 21
[1] 22
[1] 23
[1] 24
[1] 25
[1] 26
[1] 27
[1] 28
[1] 29

Seems ok ?

-- 
Michele Alzetta


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Fri Dec  7 18:46:09 2001
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Fri, 07 Dec 2001 13:46:09 -0500
Subject: (fwd) Re: [Rd] Windows testing
Message-ID: <m3321usakrec1gaqds9ps560vd17f941gu@4ax.com>

On Thu, 06 Dec 2001 10:25:52 -0500, Duncan Murdoch
<murdoch@stats.uwo.ca> wrote:

>2.  Selecting "Resize|fit to window" crashes the window if you shrink
>it so small that there is no space for the graph, just space for the
>margins. There should be some limit to how small you're allowed to
>shrink the window.

I've tried this with today's build, and I get the same result on a
Win98 machine, no crash on a Win95 machine.  (There are lots of other
differences between the machines too, I haven't explored whether they
are significant. The only difference I know of in R-devel is that on
the Win95 machine I compiled with DEBUG=T.)

When I say crash, I don't mean a popup error box or anything, just
that the graphics window locks up.  It doesn't allow you to make it
bigger again.  It turns out that after you switch to a different task
and back to R, it wakes up again.

Just noticed it's causing internal Windows problems:  my mouse seems
to not be able to go to the taskbar at the bottom of the screen while
the graphics window is locked.

Duncan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Fri Dec  7 18:56:06 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Fri, 07 Dec 2001 19:56:06 +0100
Subject: [Rd] question
References: <Pine.LNX.4.31.0112071132070.18476-100000@gannet.stats>
Message-ID: <3C1110C6.F55706D9@univie.ac.at>

in r 1.3.1,
i read in data into a dataframe and (erroneously) forgot to convert text
into numbers.

the frame was called olddata
then i could to the following calculation:

vp95<-olddata["vp95"]/olddata["wb95"]

"vp95" and "wb95" are column names.

in r 1.4.0, this does not work any more.
i have to do

vp95<-as.real(olddata[,"vp95"])/as.real(olddata[,"wb95"])

is this intended behavior now?



--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Fri Dec  7 22:31:52 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 Dec 2001 23:31:52 +0100
Subject: [Rd] question
In-Reply-To: <3C1110C6.F55706D9@univie.ac.at>
References: <Pine.LNX.4.31.0112071132070.18476-100000@gannet.stats>
 <3C1110C6.F55706D9@univie.ac.at>
Message-ID: <x2vgfisluv.fsf@blueberry.kubism.ku.dk>

Erich Neuwirth <erich.neuwirth@univie.ac.at> writes:

> in r 1.3.1,
> i read in data into a dataframe and (erroneously) forgot to convert text
> into numbers.
> 
> the frame was called olddata
> then i could to the following calculation:
> 
> vp95<-olddata["vp95"]/olddata["wb95"]
> 
> "vp95" and "wb95" are column names.
> 
> in r 1.4.0, this does not work any more.
> i have to do
> 
> vp95<-as.real(olddata[,"vp95"])/as.real(olddata[,"wb95"])
> 
> is this intended behavior now?

Eh? Could you give an example of how to create such a data frame? The
things I can think up give the same in both versions?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gregory_r_warnes@groton.pfizer.com  Fri Dec  7 23:15:58 2001
From: gregory_r_warnes@groton.pfizer.com (Warnes, Gregory R)
Date: Fri, 7 Dec 2001 18:15:58 -0500
Subject: [Rd] question
Message-ID: <5429125E11E4D411AF7300805FE603A8014CF0AC@groexmbcr02.pfizer.com>


Isn't anything in a data frame that is not explicitly numeric a *factor*?  

-Greg

 >  -----Original Message-----
 >  From: Peter Dalgaard BSA [mailto:p.dalgaard@biostat.ku.dk]
 >  Sent: Friday, December 07, 2001 5:32 PM
 >  To: Erich Neuwirth
 >  Cc: r-devel@stat.math.ethz.ch
 >  Subject: Re: [Rd] question
 >  
 >  
 >  Erich Neuwirth <erich.neuwirth@univie.ac.at> writes:
 >  
 >  > in r 1.3.1,
 >  > i read in data into a dataframe and (erroneously) forgot 
 >  to convert text
 >  > into numbers.
 >  > 
 >  > the frame was called olddata
 >  > then i could to the following calculation:
 >  > 
 >  > vp95<-olddata["vp95"]/olddata["wb95"]
 >  > 
 >  > "vp95" and "wb95" are column names.
 >  > 
 >  > in r 1.4.0, this does not work any more.
 >  > i have to do
 >  > 
 >  > vp95<-as.real(olddata[,"vp95"])/as.real(olddata[,"wb95"])
 >  > 
 >  > is this intended behavior now?
 >  
 >  Eh? Could you give an example of how to create such a data 
 >  frame? The
 >  things I can think up give the same in both versions?
 >  
 >  -- 
 >     O__  ---- Peter Dalgaard             Blegdamsvej 3  
 >    c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 >   (*) \(*) -- University of Copenhagen   Denmark      Ph: 
 >  (+45) 35327918
 >  ~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: 
 >  (+45) 35327907
 >  -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
 >  -.-.-.-.-.-.-.-.-.-
 >  r-devel mailing list -- Read 
 >  http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
 >  Send "info", "help", or "[un]subscribe"
 >  (in the "body", not the subject !)  To: 
 >  r-devel-request@stat.math.ethz.ch
 >  _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
 >  _._._._._._._._._._
 >  


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gregory_r_warnes@groton.pfizer.com  Sat Dec  8 00:17:09 2001
From: gregory_r_warnes@groton.pfizer.com (Warnes, Gregory R)
Date: Fri, 7 Dec 2001 19:17:09 -0500
Subject: [Rd] lowess() as a generic function
Message-ID: <5429125E11E4D411AF7300805FE603A8014CF0AE@groexmbcr02.pfizer.com>


Hi All,

I've been providing a generic version of lowess()  in my 'gregmisc' library,
along with a 'lowess.formula' and 'lowess.default'.

Can/should these be moved into base?   

-Greg







LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sat Dec  8 08:02:48 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 8 Dec 2001 08:02:48 +0000 (GMT)
Subject: [Rd] lowess() as a generic function
In-Reply-To: <5429125E11E4D411AF7300805FE603A8014CF0AE@groexmbcr02.pfizer.com>
Message-ID: <Pine.LNX.4.31.0112080757500.2035-100000@gannet.stats>

On Fri, 7 Dec 2001, Warnes, Gregory R wrote:

> I've been providing a generic version of lowess()  in my 'gregmisc' library,
> along with a 'lowess.formula' and 'lowess.default'.
>
> Can/should these be moved into base?

Not during feature freeze for 1.4.0.

Folks, we have something like a 6-month release cycle (details on
developer.r-project.org) and it's amazing how often we get feature
requests just prior to a release.

I presume there are other methods needed: I thought lowess had to a
large extent been superseded by loess.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sat Dec  8 08:16:03 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 8 Dec 2001 08:16:03 +0000 (GMT)
Subject: [Rd] question
In-Reply-To: <5429125E11E4D411AF7300805FE603A8014CF0AC@groexmbcr02.pfizer.com>
Message-ID: <Pine.LNX.4.31.0112080808390.2035-100000@gannet.stats>

On Fri, 7 Dec 2001, Warnes, Gregory R wrote:

>
> Isn't anything in a data frame that is not explicitly numeric a *factor*?

No.  You can have columns of just about any type in a data frame,
including logical, complex, character, POSIXt, ....

In (pre-)1.4.0 read.table will generate these for you much more often (and
more easily).

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Sat Dec  8 09:19:43 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Sat, 08 Dec 2001 10:19:43 +0100
Subject: [Rd] question
References: <5429125E11E4D411AF7300805FE603A8014CF0AC@groexmbcr02.pfizer.com>
Message-ID: <3C11DB2F.C8F7BFC6@univie.ac.at>

here is the example

this is how i read my data

assign("oldfilename","d:\\documents\\wahl99\\nrw95testin.csv",envir=.GlobalEnv)
olddata<-read.csv(oldfilename,as.is=TRUE,sep=";",header=FALSE,
col.names=c("nr","name","wb95","abg95","glt95",
        "sp95","vp95","fp95","gr95","lif95"))


when i then compute
olddata["sp95"]/olddata["wb95"]

r 1.3.1 is ok,
and r 1.4.0 says

Error in FUN(left, right) : non-numeric argument to binary operator




--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sat Dec  8 10:18:34 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 8 Dec 2001 10:18:34 +0000 (GMT)
Subject: [Rd] question
In-Reply-To: <3C11DB2F.C8F7BFC6@univie.ac.at>
Message-ID: <Pine.LNX.4.31.0112081012530.5020-100000@gannet.stats>

On Sat, 8 Dec 2001, Erich Neuwirth wrote:

> here is the example
>
> this is how i read my data
>
> assign("oldfilename","d:\\documents\\wahl99\\nrw95testin.csv",envir=.GlobalEnv)
> olddata<-read.csv(oldfilename,as.is=TRUE,sep=";",header=FALSE,
> col.names=c("nr","name","wb95","abg95","glt95",
>         "sp95","vp95","fp95","gr95","lif95"))
>
>
> when i then compute
> olddata["sp95"]/olddata["wb95"]
>
> r 1.3.1 is ok,
> and r 1.4.0 says
>
> Error in FUN(left, right) : non-numeric argument to binary operator

Well, actually 1.3.1 was not behaving as documented:

   as.is: the default behavior of `read.table' is to convert
...
          numeric indices which specify which columns should be left as
          character strings.

and 1.4.0 is.  I'll revert the behaviour and correct the documentation.


The `as.is' argument has been superseded anyway by `colClasses'.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ritter@stat.ucl.ac.be  Sun Dec  9 11:10:08 2001
From: ritter@stat.ucl.ac.be (ritter@stat.ucl.ac.be)
Date: Sun, 9 Dec 2001 12:10:08 +0100 (MET)
Subject: [Rd] bug?/lack of feature in bxp (PR#1200)
Message-ID: <200112091110.MAA16704@pubhealth.ku.dk>

Full_Name: Christian Ritter
Version: 1.3.1
OS: win/nt
Submission from: (NULL) (130.104.139.32)


not a bug but lack of feature:

outlier symbol can't be changed in bxp

in bxp:

...
        points(rep(x, length(out)), out, col = border)
...

as you can see, no pty or pch argument is used. 



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ligges@statistik.uni-dortmund.de  Sun Dec  9 11:41:31 2001
From: ligges@statistik.uni-dortmund.de (ligges@statistik.uni-dortmund.de)
Date: Sun, 9 Dec 2001 12:41:31 +0100 (MET)
Subject: [Rd] bug?/lack of feature in bxp (PR#1200)
Message-ID: <200112091141.MAA16858@pubhealth.ku.dk>

ritter@stat.ucl.ac.be wrote:
> 
> Full_Name: Christian Ritter
> Version: 1.3.1
> OS: win/nt
> Submission from: (NULL) (130.104.139.32)
> 
> not a bug but lack of feature:
> 
> outlier symbol can't be changed in bxp
> 
> in bxp:
> 
> ...
>         points(rep(x, length(out)), out, col = border)
> ...
> 
> as you can see, no pty or pch argument is used.

It can easily be changed, if you make use of par() before calling bxp()
or boxplot:

 par(pch=2)
 boxplot(c(1:10, 100))

Uwe Ligges

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ligges@statistik.uni-dortmund.de  Sun Dec  9 11:46:57 2001
From: ligges@statistik.uni-dortmund.de (ligges@statistik.uni-dortmund.de)
Date: Sun, 9 Dec 2001 12:46:57 +0100 (MET)
Subject: [Rd] bug?/lack of feature in bxp (PR#1200)
Message-ID: <200112091146.MAA16890@pubhealth.ku.dk>

Uwe Ligges wrote:
> 
> ritter@stat.ucl.ac.be wrote:
> >
> > Full_Name: Christian Ritter
> > Version: 1.3.1
> > OS: win/nt
> > Submission from: (NULL) (130.104.139.32)
> >
> > not a bug but lack of feature:
> >
> > outlier symbol can't be changed in bxp
> >
> > in bxp:
> >
> > ...
> >         points(rep(x, length(out)), out, col = border)
> > ...
> >
> > as you can see, no pty or pch argument is used.
> 
> It can easily be changed, if you make use of par() before calling bxp()
> or boxplot:
> 
>  par(pch=2)
>  boxplot(c(1:10, 100))

... and the feature is already added in the development version of
R-1.4.0, where you can use:

 boxplot(c(1:10, 100), pars=list(pch=2))

Sorry, I was a little bit too fast.

Uwe Ligges

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From z.yang@ucl.ac.uk  Sun Dec  9 12:57:05 2001
From: z.yang@ucl.ac.uk (z.yang@ucl.ac.uk)
Date: Sun, 9 Dec 2001 13:57:05 +0100 (MET)
Subject: [Rd] error in qbeta (PR#1201)
Message-ID: <200112091257.NAA17087@pubhealth.ku.dk>

Full_Name: Ziheng Yang
Version: 1.3.1
OS: Windows 98
Submission from: (NULL) (172.136.54.89)


I noticed that qbeta is sometimes wrong and the error is not even due to the
beta parameters being too extreme.  I am calculating the quantiles corresponding
to cdf = 0.05, 0.15, ..., 0.95.  The value corresponding to cdf=0.25 is wrong
while all other values are correct.  

qbeta(0.05, 0.143891, 0.05) = 1.040850e-05   correct
qbeta(0.15, 0.143891, 0.05) = 0.021161       correct
qbeta(0.25, 0.143891, 0.05) = 3e-308         wrong (correct value is 0.457227)
qbeta(0.25, 0.143891, 0.05) = 0.945217       correct

I also used your source file qbeta.c to do the same calculation, and it seems
that something might be wrong in the "initial approximation", before the
newton-raphson iteration.  Also I notice that the 5/6 in the following line is
probably supposed to mean 5./6., although this does not seem to be the source of
the problem.

	w = y * sqrt(h + r) / h - (t - s) * (r + 5 / 6 - 2 / (3 * h));

Could you possibly let me know how to fix the problem.  I will appreciate any
help you might provide.  I am using the Windows version 1.3.1 (2001).

Best wishes,


Ziheng Yang
Professor of Statistical Genetics 
Department of Biology               
University College London           Phone: (+44) (0)20 7679 4379
Darwin Building                     Fax:   (+44) (0)20 7679 7096
Gower Street                        Email: z.yang@ucl.ac.uk
London WC1E 6BT
England
http://abacus.gene.ucl.ac.uk/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Sun Dec  9 15:35:19 2001
From: edd@debian.org (edd@debian.org)
Date: Sun, 9 Dec 2001 16:35:19 +0100 (MET)
Subject: [Rd] Bug#123084: r-base: R documentatio search engine unusable with Mozilla 6 (OK with netscape 4.7x) (PR#1202)
Message-ID: <200112091535.QAA17520@pubhealth.ku.dk>


As there is nothing Debian-specific in this bug report (and the .deb of the
JVW is not from Debian either), I am forwarding this to R-bugs. My
recollection from recent discussions on the R mailing list is that currently
/no/ browser other than Netscape supports the Java search engine -- is that
correct or was there some Netscape derivative (galeon?) which does?
Maybe the documentation should be enhanced in time for 1.4.0 to clarify this.

Cheers, Dirk
Debian maintainer for R

  From: Emmanuel Charpentier <charpent@bacbuc.dyndns.org>
  To: Debian Bug Tracking System <submit@bugs.debian.org>
  Subject: Bug#123084: r-base: R documentatio search engine unusable with Mozilla 6 (OK with netscape 4.7x)
  Date: Sun, 09 Dec 2001 16:04:49 +0100
  
  Package: r-base
  Version: 1.3.1-6
  Severity: normal
  
  The html-based doc system has problems with (the current builds of) Mozilla 6 :
  while the Java search engine does work in Netscape 4.77, it does *not* with
  Mozilla. The Netscape Java is, of course, 1.x, while Mozilla needs at least a
  j2re virtualm machine (I use the Blackdown's debian package of j2re1.3.1 and
  j2sdk :
  
  charpent@yod:~$ dpkg -l | grep j2
  ii  j2sdk1.3       1.3.1-1        Blackdown Java(TM) 2 SDK, Standard Edition
  charpent@yod:~$ 
  
  When I try to use the search engine (clicking the "Search engine" anchor on the
  root page of the R documentation), I get a JVM error dialog box stating :
  
  java.security.AccessControlException: access denied (java.io.FilePermission /home/charpent/.R/doc/html/search/SearchEngine.class read)
  	at java.security.AccessControlContext.checkPermission(AccessControlContext.java:272)
  	at java.security.AccessController.checkPermission(AccessController.java:399)
  	at java.lang.SecurityManager.checkPermission(SecurityManager.java:545)
  	at java.lang.SecurityManager.checkRead(SecurityManager.java:890)
  	at java.io.File.isDirectory(File.java:567)
  	at sun.net.www.protocol.file.FileURLConnection.connect(FileURLConnection.java:65)
  	at sun.net.www.protocol.file.FileURLConnection.initializeHeaders(FileURLConnection.java:82)
  	at sun.net.www.protocol.file.FileURLConnection.getContentLength(FileURLConnection.java:113)
  	at sun.applet.AppletClassLoader.getBytes(AppletClassLoader.java:223)
  	at sun.applet.AppletClassLoader.access$100(AppletClassLoader.java:41)
  	at sun.applet.AppletClassLoader$1.run(AppletClassLoader.java:137)
  	at java.security.AccessController.doPrivileged(Native Method)
  	at sun.applet.AppletClassLoader.findClass(AppletClassLoader.java:134)
  	at sun.plugin.security.PluginClassLoader.findClass(PluginClassLoader.java:252)
  	at java.lang.ClassLoader.loadClass(ClassLoader.java:297)
  	at sun.applet.AppletClassLoader.loadClass(AppletClassLoader.java:108)
  	at java.lang.ClassLoader.loadClass(ClassLoader.java:253)
  	at sun.applet.AppletClassLoader.loadCode(AppletClassLoader.java:373)
  	at sun.applet.AppletPanel.createApplet(AppletPanel.java:579)
  	at sun.plugin.AppletViewer.createApplet(AppletViewer.java:1178)
  	at sun.applet.AppletPanel.runLoader(AppletPanel.java:515)
  	at sun.applet.AppletPanel.run(AppletPanel.java:293)
  	at sun.plugin.navig.motif.MotifAppletViewer.maf_run(MotifAppletViewer.java:127)
  	at sun.plugin.navig.motif.MotifAppletViewer.run(MotifAppletViewer.java:123)
  	at java.lang.Thread.run(Thread.java:484)
  
  However :
  
  charpent@yod:~$ ls -l .R/doc/html/search/
  total 656
  lrwxrwxrwx    1 charpent charpent       43 Dec  9 15:14 IndexEntry.class -> /usr/lib/R/doc/html/search/IndexEntry.class
  lrwxrwxrwx    1 charpent charpent       44 Dec  9 15:14 IndexStream.class -> /usr/lib/R/doc/html/search/IndexStream.class
  lrwxrwxrwx    1 charpent charpent       43 Dec  9 15:14 IndexTable.class -> /usr/lib/R/doc/html/search/IndexTable.class
  lrwxrwxrwx    1 charpent charpent       49 Dec  9 15:14 SearchEngine-foot.html -> /usr/lib/R/doc/html/search/SearchEngine-foot.html
  lrwxrwxrwx    1 charpent charpent       49 Dec  9 15:14 SearchEngine-head.html -> /usr/lib/R/doc/html/search/SearchEngine-head.html
  lrwxrwxrwx    1 charpent charpent       45 Dec  9 15:14 SearchEngine.class -> /usr/lib/R/doc/html/search/SearchEngine.class
  lrwxrwxrwx    1 charpent charpent       44 Dec  9 15:14 SearchEngine.html -> /usr/lib/R/doc/html/search/SearchEngine.html
  lrwxrwxrwx    1 charpent charpent       44 Dec  9 15:14 SearchObject.html -> /usr/lib/R/doc/html/search/SearchObject.html
  lrwxrwxrwx    1 charpent charpent       39 Dec  9 15:14 Tracer.class -> /usr/lib/R/doc/html/search/Tracer.class
  lrwxrwxrwx    1 charpent charpent       38 Dec  9 15:14 Value.class -> /usr/lib/R/doc/html/search/Value.class
  -rw-r--r--    1 charpent charpent   663581 Dec  9 15:14 index.txt
  
  and, of course :
  
  charpent@yod:~$ ls -l /usr/lib/R/doc/html/search/
  total 184
  -rw-r--r--    1 root     root         1412 Dec  4 05:32 IndexEntry.class
  -rw-r--r--    1 root     root         3125 Dec  4 05:32 IndexStream.class
  -rw-r--r--    1 root     root          735 Dec  4 05:32 IndexTable.class
  -rw-r--r--    1 root     root          163 Dec  4 05:32 SearchEngine-foot.html
  -rw-r--r--    1 root     root         2239 Dec  4 05:32 SearchEngine-head.html
  -rw-r--r--    1 root     root         4715 Dec  4 05:32 SearchEngine.class
  -rw-r--r--    1 root     root         9650 Dec  4 05:32 SearchEngine.html
  -rw-r--r--    1 root     root         1087 Dec  4 05:32 SearchObject.html
  -rw-r--r--    1 root     root         1273 Dec  4 05:32 Tracer.class
  -rw-r--r--    1 root     root          675 Dec  4 05:32 Value.class
  -rw-r--r--    1 root     root       130263 Dec  4 05:32 index.txt
  charpent@yod:~$ 
  
  The very same installation works pperfectly with Netscape (I just have to lauch
  Netscape before invoking help.start(), which launches Mozilla by default).
  
  What am I missing ? Not much, as far as I can tell. Mozilla does not seem to
  have problems with Java (but I may be mistaken : I'm not much of a "surfer").
  
  Therefore, I suspect that the SearchEngine.class code is somewhat java-1.1x
  specific.
  
  -- System Information
  Debian Release: 3.0
  Architecture: i386
  Kernel: Linux yod 2.4.13 #2 Wed Oct 31 15:09:05 CET 2001 i686
  Locale: LANG=C, LC_CTYPE=
  
  Versions of packages r-base depends on:
  ii  atlas2-athlon [blas2]     3.2.1-12       Automatically Tuned Linear Algebra
  ii  atlas2-base [blas2]       3.2.1l-2       Automatically Tuned Linear Algebra
  ii  blas1 [blas2]             1.0-9          A set of building blocks for perfo
  ii  libc6                     2.2.4-7        GNU C Library: Shared libraries an
  ii  libjpeg62                 6b-4           The Independent JPEG Group's JPEG 
  ii  libncurses5               5.2.20010318-3 Shared libraries for terminal hand
  ii  libpng2                   1.0.12-2       PNG library - runtime
  ii  libreadline4              4.2a-2         GNU readline and history libraries
  ii  perl                      5.6.1-6        Larry Wall's Practical Extraction 
  ii  tcl8.3                    8.3.3-4        The Tool Command Language (TCL) v8
  ii  tk8.3                     8.3.3-6        The Tk toolkit for TCL and X11 v8.
  ii  xlibs                     4.1.0-10       X Window System client libraries
  ii  zlib-bin                  1:1.1.3-18     compression library - sample progr
  ii  zlib1g                    1:1.1.3-18     compression library - runtime
  
--please do not edit the information below--

Version:
 platform = i386-pc-linux-gnu
 arch = i386
 os = linux-gnu
 system = i386, linux-gnu
 status =
 major = 1
 minor = 3.1
 year = 2001
 month = 08
 day = 31
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base


-- 
Good judgment comes from experience; experience comes from bad judgment. 
							    -- F. Brooks

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sun Dec  9 16:29:49 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Dec 2001 17:29:49 +0100
Subject: [Rd] error in qbeta (PR#1201)
In-Reply-To: <200112091257.NAA17087@pubhealth.ku.dk>
References: <200112091257.NAA17087@pubhealth.ku.dk>
Message-ID: <x2her0xsoy.fsf@blueberry.kubism.ku.dk>

z.yang@ucl.ac.uk writes:

> Full_Name: Ziheng Yang
> Version: 1.3.1
> OS: Windows 98
> Submission from: (NULL) (172.136.54.89)
> 
> 
> I noticed that qbeta is sometimes wrong and the error is not even due to the
> beta parameters being too extreme.  I am calculating the quantiles corresponding
> to cdf = 0.05, 0.15, ..., 0.95.  The value corresponding to cdf=0.25 is wrong
> while all other values are correct.  
> 
> qbeta(0.05, 0.143891, 0.05) = 1.040850e-05   correct
> qbeta(0.15, 0.143891, 0.05) = 0.021161       correct
> qbeta(0.25, 0.143891, 0.05) = 3e-308         wrong (correct value is 0.457227)
> qbeta(0.25, 0.143891, 0.05) = 0.945217       correct
> 
> I also used your source file qbeta.c to do the same calculation, and it seems
> that something might be wrong in the "initial approximation", before the
> newton-raphson iteration.  Also I notice that the 5/6 in the following line is
> probably supposed to mean 5./6., although this does not seem to be the source of
> the problem.
> 
> 	w = y * sqrt(h + r) / h - (t - s) * (r + 5 / 6 - 2 / (3 * h));
> 
> Could you possibly let me know how to fix the problem.  I will appreciate any
> help you might provide.  I am using the Windows version 1.3.1 (2001).

The 5/6 thing appears to be fixed in the current sources. However, the 
qbeta(0.25, 0.143891, 0.05) effect is still there and seems to be
algorithmic. It does not disappear when removing optimizations.

What happens is that in the calculation of the initial approximation,
we have 

        t = r * pow(1 - t + y * sqrt(t), 3);
        if (t <= 0.)
            xinbta = 1 - exp((log((1 - a) * qq) + logbeta) / qq);
... 

with t negative at the if() *and* xinbta coming out negative
so xinbta gets set to "lower" aka 3e-308

Further down, we get

   y = pbeta_raw(xinbta, pp, qq, /*lower_tail = */ TRUE);

which is way off from the target a, but then we calculate

   y = (y - a) *
         exp(logbeta + r * log(xinbta) + t * log(1 - xinbta));

which is a small number since log(xinbta) is large and negative. Then,
we have
 
   if (fabs(y) <= acu) goto L_converged;

and the whole thing terminates without even trying to get an improved
estimate.... 

Clues on where to fix this would be most welcome!

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Dec  9 16:39:57 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 9 Dec 2001 17:39:57 +0100 (MET)
Subject: [Rd] Bug#123084: r-base: R documentatio search engine unusable (PR#1203)
Message-ID: <200112091639.RAA17749@pubhealth.ku.dk>

On Sun, 9 Dec 2001 edd@debian.org wrote:

>
> As there is nothing Debian-specific in this bug report (and the .deb of the
> JVW is not from Debian either), I am forwarding this to R-bugs. My
> recollection from recent discussions on the R mailing list is that currently
> /no/ browser other than Netscape supports the Java search engine -- is that
> correct or was there some Netscape derivative (galeon?) which does?
> Maybe the documentation should be enhanced in time for 1.4.0 to clarify this.

It's very far from correct!  The search engine works with Netscape 6.2 on
Linux (and Windows), and with Internet Explorer and Opera 5 on Windows.
(We were told it works with Internet Explorer on Linux too.) Opera uses
Sun's 1.3.1, as I recall, so I don't think this is a Java-1.1 vs 1.3
issue.  (I've just checked: Netscape 6.2 uses JRE 1.3.1.)

What BTW is `Mozilla 6'?  The current Mozilla is 0.9.6, so `6' seems a
decade or so away.

Which documentation do you suggest is altered and how?  Given that the
Mozilla-0.9.4-based Netscape 6.2 with JRE 1.3.1 works, the finger is
pointing pretty insistently at a problem in the installation of `Mozilla
6', whatever that is, and/or its JRE.

> Cheers, Dirk
> Debian maintainer for R
>
>   From: Emmanuel Charpentier <charpent@bacbuc.dyndns.org>
>   To: Debian Bug Tracking System <submit@bugs.debian.org>
>   Subject: Bug#123084: r-base: R documentatio search engine unusable with Mozilla 6 (OK with netscape 4.7x)
>   Date: Sun, 09 Dec 2001 16:04:49 +0100
>
>   Package: r-base
>   Version: 1.3.1-6
>   Severity: normal
>
>   The html-based doc system has problems with (the current builds of) Mozilla 6 :
>   while the Java search engine does work in Netscape 4.77, it does *not* with
>   Mozilla. The Netscape Java is, of course, 1.x, while Mozilla needs at least a
>   j2re virtualm machine (I use the Blackdown's debian package of j2re1.3.1 and
>   j2sdk :
>
>   charpent@yod:~$ dpkg -l | grep j2
>   ii  j2sdk1.3       1.3.1-1        Blackdown Java(TM) 2 SDK, Standard Edition
>   charpent@yod:~$
>
>   When I try to use the search engine (clicking the "Search engine" anchor on the
>   root page of the R documentation), I get a JVM error dialog box stating :
>
>   java.security.AccessControlException: access denied (java.io.FilePermission /home/charpent/.R/doc/html/search/SearchEngine.class read)
>   	at java.security.AccessControlContext.checkPermission(AccessControlContext.java:272)
>   	at java.security.AccessController.checkPermission(AccessController.java:399)
>   	at java.lang.SecurityManager.checkPermission(SecurityManager.java:545)
>   	at java.lang.SecurityManager.checkRead(SecurityManager.java:890)
>   	at java.io.File.isDirectory(File.java:567)
>   	at sun.net.www.protocol.file.FileURLConnection.connect(FileURLConnection.java:65)
>   	at sun.net.www.protocol.file.FileURLConnection.initializeHeaders(FileURLConnection.java:82)
>   	at sun.net.www.protocol.file.FileURLConnection.getContentLength(FileURLConnection.java:113)
>   	at sun.applet.AppletClassLoader.getBytes(AppletClassLoader.java:223)
>   	at sun.applet.AppletClassLoader.access$100(AppletClassLoader.java:41)
>   	at sun.applet.AppletClassLoader$1.run(AppletClassLoader.java:137)
>   	at java.security.AccessController.doPrivileged(Native Method)
>   	at sun.applet.AppletClassLoader.findClass(AppletClassLoader.java:134)
>   	at sun.plugin.security.PluginClassLoader.findClass(PluginClassLoader.java:252)
>   	at java.lang.ClassLoader.loadClass(ClassLoader.java:297)
>   	at sun.applet.AppletClassLoader.loadClass(AppletClassLoader.java:108)
>   	at java.lang.ClassLoader.loadClass(ClassLoader.java:253)
>   	at sun.applet.AppletClassLoader.loadCode(AppletClassLoader.java:373)
>   	at sun.applet.AppletPanel.createApplet(AppletPanel.java:579)
>   	at sun.plugin.AppletViewer.createApplet(AppletViewer.java:1178)
>   	at sun.applet.AppletPanel.runLoader(AppletPanel.java:515)
>   	at sun.applet.AppletPanel.run(AppletPanel.java:293)
>   	at sun.plugin.navig.motif.MotifAppletViewer.maf_run(MotifAppletViewer.java:127)
>   	at sun.plugin.navig.motif.MotifAppletViewer.run(MotifAppletViewer.java:123)
>   	at java.lang.Thread.run(Thread.java:484)
>
>   However :
>
>   charpent@yod:~$ ls -l .R/doc/html/search/
>   total 656
>   lrwxrwxrwx    1 charpent charpent       43 Dec  9 15:14 IndexEntry.class -> /usr/lib/R/doc/html/search/IndexEntry.class
>   lrwxrwxrwx    1 charpent charpent       44 Dec  9 15:14 IndexStream.class -> /usr/lib/R/doc/html/search/IndexStream.class
>   lrwxrwxrwx    1 charpent charpent       43 Dec  9 15:14 IndexTable.class -> /usr/lib/R/doc/html/search/IndexTable.class
>   lrwxrwxrwx    1 charpent charpent       49 Dec  9 15:14 SearchEngine-foot.html -> /usr/lib/R/doc/html/search/SearchEngine-foot.html
>   lrwxrwxrwx    1 charpent charpent       49 Dec  9 15:14 SearchEngine-head.html -> /usr/lib/R/doc/html/search/SearchEngine-head.html
>   lrwxrwxrwx    1 charpent charpent       45 Dec  9 15:14 SearchEngine.class -> /usr/lib/R/doc/html/search/SearchEngine.class
>   lrwxrwxrwx    1 charpent charpent       44 Dec  9 15:14 SearchEngine.html -> /usr/lib/R/doc/html/search/SearchEngine.html
>   lrwxrwxrwx    1 charpent charpent       44 Dec  9 15:14 SearchObject.html -> /usr/lib/R/doc/html/search/SearchObject.html
>   lrwxrwxrwx    1 charpent charpent       39 Dec  9 15:14 Tracer.class -> /usr/lib/R/doc/html/search/Tracer.class
>   lrwxrwxrwx    1 charpent charpent       38 Dec  9 15:14 Value.class -> /usr/lib/R/doc/html/search/Value.class
>   -rw-r--r--    1 charpent charpent   663581 Dec  9 15:14 index.txt
>
>   and, of course :
>
>   charpent@yod:~$ ls -l /usr/lib/R/doc/html/search/
>   total 184
>   -rw-r--r--    1 root     root         1412 Dec  4 05:32 IndexEntry.class
>   -rw-r--r--    1 root     root         3125 Dec  4 05:32 IndexStream.class
>   -rw-r--r--    1 root     root          735 Dec  4 05:32 IndexTable.class
>   -rw-r--r--    1 root     root          163 Dec  4 05:32 SearchEngine-foot.html
>   -rw-r--r--    1 root     root         2239 Dec  4 05:32 SearchEngine-head.html
>   -rw-r--r--    1 root     root         4715 Dec  4 05:32 SearchEngine.class
>   -rw-r--r--    1 root     root         9650 Dec  4 05:32 SearchEngine.html
>   -rw-r--r--    1 root     root         1087 Dec  4 05:32 SearchObject.html
>   -rw-r--r--    1 root     root         1273 Dec  4 05:32 Tracer.class
>   -rw-r--r--    1 root     root          675 Dec  4 05:32 Value.class
>   -rw-r--r--    1 root     root       130263 Dec  4 05:32 index.txt
>   charpent@yod:~$
>
>   The very same installation works pperfectly with Netscape (I just have to lauch
>   Netscape before invoking help.start(), which launches Mozilla by default).
>
>   What am I missing ? Not much, as far as I can tell. Mozilla does not seem to
>   have problems with Java (but I may be mistaken : I'm not much of a "surfer").
>
>   Therefore, I suspect that the SearchEngine.class code is somewhat java-1.1x
>   specific.
>
>   -- System Information
>   Debian Release: 3.0
>   Architecture: i386
>   Kernel: Linux yod 2.4.13 #2 Wed Oct 31 15:09:05 CET 2001 i686
>   Locale: LANG=C, LC_CTYPE=
>
>   Versions of packages r-base depends on:
>   ii  atlas2-athlon [blas2]     3.2.1-12       Automatically Tuned Linear Algebra
>   ii  atlas2-base [blas2]       3.2.1l-2       Automatically Tuned Linear Algebra
>   ii  blas1 [blas2]             1.0-9          A set of building blocks for perfo
>   ii  libc6                     2.2.4-7        GNU C Library: Shared libraries an
>   ii  libjpeg62                 6b-4           The Independent JPEG Group's JPEG
>   ii  libncurses5               5.2.20010318-3 Shared libraries for terminal hand
>   ii  libpng2                   1.0.12-2       PNG library - runtime
>   ii  libreadline4              4.2a-2         GNU readline and history libraries
>   ii  perl                      5.6.1-6        Larry Wall's Practical Extraction
>   ii  tcl8.3                    8.3.3-4        The Tool Command Language (TCL) v8
>   ii  tk8.3                     8.3.3-6        The Tk toolkit for TCL and X11 v8.
>   ii  xlibs                     4.1.0-10       X Window System client libraries
>   ii  zlib-bin                  1:1.1.3-18     compression library - sample progr
>   ii  zlib1g                    1:1.1.3-18     compression library - runtime
>
> --please do not edit the information below--
>
> Version:
>  platform = i386-pc-linux-gnu
>  arch = i386
>  os = linux-gnu
>  system = i386, linux-gnu
>  status =
>  major = 1
>  minor = 3.1
>  year = 2001
>  month = 08
>  day = 31
>  language = R
>
> Search Path:
>  .GlobalEnv, package:ctest, Autoloads, package:base
>
>
> --
> Good judgment comes from experience; experience comes from bad judgment.
> 							    -- F. Brooks
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Sun Dec  9 17:14:06 2001
From: edd@debian.org (edd@debian.org)
Date: Sun, 9 Dec 2001 18:14:06 +0100 (MET)
Subject: [Rd] Bug#123084: r-base: R documentatio search engine unusable (PR#1204)
Message-ID: <200112091714.SAA17856@pubhealth.ku.dk>


  "Brian" == Brian Ripley <Prof> writes:
  Brian>  On Sun, 9 Dec 2001 edd@debian.org wrote:
  Dirk> As there is nothing Debian-specific in this bug report (and the .deb
  Dirk> of the JVW is not from Debian either), I am forwarding this to
  Dirk> R-bugs. My recollection from recent discussions on the R mailing list
  Dirk> is that currently /no/ browser other than Netscape supports the Java
  Dirk> search engine -- is that correct or was there some Netscape
  Dirk> derivative (galeon?) which does?  Maybe the documentation should be
  Dirk> enhanced in time for 1.4.0 to clarify this.
  Brian>  It's very far from correct!  The search engine works with Netscape
  Brian> 6.2 on Linux (and Windows), and with Internet Explorer and Opera 5
  Brian> on Windows.  (We were told it works with Internet Explorer on Linux

IE on Linux? Really?

  Brian> too.) Opera uses Sun's 1.3.1, as I recall, so I don't think this is
  Brian> a Java-1.1 vs 1.3 issue.  (I've just checked: Netscape 6.2 uses JRE
  Brian> 1.3.1.)
  Brian> 
  Brian> What BTW is `Mozilla 6'?  The current Mozilla is 0.9.6, so `6' seems
  Brian> a decade or so away.
  Brian> 
  Brian> Which documentation do you suggest is altered and how?  Given that

I was looking at "help(help.start)" on 1.3.1 first, what the Dec 5 snapshot
of 1.4.0 has is indeed better:

     The `browser' needs to work with a `"-remote openURL(...)"' call.
     Then, the hypertext R help interface is opened in any already
     running browser or a new one if necessary.  Browsers that support
     this interface include Netscape 4.x, 6.2 (but not 6.0/1), Opera 5
     and Mozilla 0.9.5.

So shall we can close this?

Dirk

-- 
Good judgment comes from experience; experience comes from bad judgment. 
							    -- F. Brooks

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Dec  9 17:59:14 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 9 Dec 2001 18:59:14 +0100 (MET)
Subject: [Rd] Bug#123084: r-base: R documentatio search engine unusable (PR#1205)
Message-ID: <200112091759.SAA17999@pubhealth.ku.dk>

On Sun, 9 Dec 2001, Dirk Eddelbuettel wrote:

>
>   "Brian" == Brian Ripley <Prof> writes:
>   Brian>  On Sun, 9 Dec 2001 edd@debian.org wrote:
>   Dirk> As there is nothing Debian-specific in this bug report (and the .deb
>   Dirk> of the JVW is not from Debian either), I am forwarding this to
>   Dirk> R-bugs. My recollection from recent discussions on the R mailing list
>   Dirk> is that currently /no/ browser other than Netscape supports the Java
>   Dirk> search engine -- is that correct or was there some Netscape
>   Dirk> derivative (galeon?) which does?  Maybe the documentation should be
>   Dirk> enhanced in time for 1.4.0 to clarify this.
>   Brian>  It's very far from correct!  The search engine works with Netscape
>   Brian> 6.2 on Linux (and Windows), and with Internet Explorer and Opera 5
>   Brian> on Windows.  (We were told it works with Internet Explorer on Linux
>
> IE on Linux? Really?

So he said ....

>
>   Brian> too.) Opera uses Sun's 1.3.1, as I recall, so I don't think this is
>   Brian> a Java-1.1 vs 1.3 issue.  (I've just checked: Netscape 6.2 uses JRE
>   Brian> 1.3.1.)
>   Brian>
>   Brian> What BTW is `Mozilla 6'?  The current Mozilla is 0.9.6, so `6' seems
>   Brian> a decade or so away.
>   Brian>
>   Brian> Which documentation do you suggest is altered and how?  Given that
>
> I was looking at "help(help.start)" on 1.3.1 first, what the Dec 5 snapshot
> of 1.4.0 has is indeed better:
>
>      The `browser' needs to work with a `"-remote openURL(...)"' call.
>      Then, the hypertext R help interface is opened in any already
>      running browser or a new one if necessary.  Browsers that support
>      this interface include Netscape 4.x, 6.2 (but not 6.0/1), Opera 5
>      and Mozilla 0.9.5.
>
> So shall we can close this?

Yes, will do.

> Dirk
>
> --
> Good judgment comes from experience; experience comes from bad judgment.
> 							    -- F. Brooks
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Sun Dec  9 19:49:03 2001
From: edd@debian.org (edd@debian.org)
Date: Sun, 9 Dec 2001 20:49:03 +0100 (MET)
Subject: [Rd] Bug#123084: r-base: R documentatio search engine unusable (PR#1206)
Message-ID: <200112091949.UAA18437@pubhealth.ku.dk>


  "Brian" == Brian Ripley <Prof> writes:
  Dirk> So shall we can close this?
  Brian>  Yes, will do.

Doing the same for Debian then.

Thanks, Dirk

-- 
Good judgment comes from experience; experience comes from bad judgment. 
							    -- F. Brooks

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rnassar@duke.edu  Mon Dec 10 02:47:20 2001
From: rnassar@duke.edu (rnassar@duke.edu)
Date: Mon, 10 Dec 2001 03:47:20 +0100 (MET)
Subject: [Rd] boxplot labels incorrect when horizontal = TRUE (PR#1207)
Message-ID: <200112100247.DAA19758@pubhealth.ku.dk>

#Example:

y <- rnorm(10)
group <- gl(2,5)

plot(y ~ group, horizontal = TRUE)  # BUG: default xlab & ylab interchanged
plot(y ~ group, horizontal = FALSE) # OK: supplies correct default xlab & ylab


# Using boxplot() instead of plot() omits default axis labels altogether
# (not sure if this is intentional):

boxplot(y ~ group, horizontal = FALSE) # no default axis labels supplied
boxplot(y ~ group, horizontal = TRUE)  # no default axis labels supplied

Thank you!

Rashid Nassar


--please do not edit the information below--

Version:
 platform = i586-pc-linux-gnu
 arch = i586
 os = linux-gnu
 system = i586, linux-gnu
 status = 
 major = 1
 minor = 3.1
 year = 2001
 month = 08
 day = 31
 language = R

Search Path:
 .GlobalEnv, Shoes, package:nls, package:nlme, package:ctest, Autoloads, 
package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Dec 10 07:41:35 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 10 Dec 2001 08:41:35 +0100 (MET)
Subject: [Rd] boxplot labels incorrect when horizontal = TRUE (PR#1207)
Message-ID: <200112100741.IAA20825@pubhealth.ku.dk>

On Mon, 10 Dec 2001 rnassar@duke.edu wrote:

> #Example:
>
> y <- rnorm(10)
> group <- gl(2,5)
>
> plot(y ~ group, horizontal = TRUE)  # BUG: default xlab & ylab interchanged
> plot(y ~ group, horizontal = FALSE) # OK: supplies correct default xlab & ylab

Um.  That's plot.formula, not boxplot.  horizontal = TRUE is *not* a
documented argument to plot.formula.  If you pass arguments to boxplot
through ... (rather than just par values), you may well get unexpected
results.

To fix this needs plot.formula to recognize horizontal, and that's
an API change which I don't advocate during feature freeze.
Generally, not doing something which is not documented to happen is not a
bug, so I'll put this on the wishlist.

> # Using boxplot() instead of plot() omits default axis labels altogether
> # (not sure if this is intentional):
>
> boxplot(y ~ group, horizontal = FALSE) # no default axis labels supplied
> boxplot(y ~ group, horizontal = TRUE)  # no default axis labels supplied

Yes, it's intentional.  You can always use title().


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Torsten.Hothorn@rzmail.uni-erlangen.de  Mon Dec 10 09:12:39 2001
From: Torsten.Hothorn@rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Mon, 10 Dec 2001 10:12:39 +0100 (MET)
Subject: [Rd] Error on start
Message-ID: <Pine.LNX.4.21.0112101011340.903-100000@artemis.imbe.med.uni-erlangen.de>


r-devel from this morning says

hothorn@www:~ > R

R : Copyright 2001, The R Development Core Team
Version 1.4.0 Under development (unstable) (2001-12-09)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type icense()' or icence()' for distribution details.

R is a collaborative project with many contributors.
Type ontributors()' for more information.

Type emo()' for some demos, elp()' for on-line help, or
elp.start()' for a HTML browser interface to help.
Type ()' to quit R.

Error: syntax error: evaluating expression 0
>

however, make check passed without any warning / error. 

Torsten


--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = Under development (unstable)
 major = 1
 minor = 4.0
 year = 2001
 month = 12
 day = 09
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Dec 10 09:33:31 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 10 Dec 2001 10:33:31 +0100
Subject: [Rd] Error on start
In-Reply-To: <Pine.LNX.4.21.0112101011340.903-100000@artemis.imbe.med.uni-erlangen.de>
References: <Pine.LNX.4.21.0112101011340.903-100000@artemis.imbe.med.uni-erlangen.de>
Message-ID: <x21yi3zafo.fsf@blueberry.kubism.ku.dk>

Torsten Hothorn <Torsten.Hothorn@rzmail.uni-erlangen.de> writes:

> r-devel from this morning says
> 
> hothorn@www:~ > R
> 
> R : Copyright 2001, The R Development Core Team
> Version 1.4.0 Under development (unstable) (2001-12-09)
> 
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type icense()' or icence()' for distribution details.
> 
> R is a collaborative project with many contributors.
> Type ontributors()' for more information.
> 
> Type emo()' for some demos, elp()' for on-line help, or
> elp.start()' for a HTML browser interface to help.
> Type ()' to quit R.
> 
> Error: syntax error: evaluating expression 0
> >
> 
> however, make check passed without any warning / error. 

Not for me as of last night and only gnuwin32 changes seems to have
gone in in the meantime. Some of the recent changes required a rerun
of configure and make clean, though.


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Dec 10 09:41:18 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 10 Dec 2001 09:41:18 +0000 (GMT)
Subject: [Rd] Error on start
In-Reply-To: <x21yi3zafo.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.31.0112100938380.9366-100000@gannet.stats>

On 10 Dec 2001, Peter Dalgaard BSA wrote:

> Torsten Hothorn <Torsten.Hothorn@rzmail.uni-erlangen.de> writes:
>
> > r-devel from this morning says
> >
> > hothorn@www:~ > R
> >
> > R : Copyright 2001, The R Development Core Team
> > Version 1.4.0 Under development (unstable) (2001-12-09)
> >
> > R is free software and comes with ABSOLUTELY NO WARRANTY.
> > You are welcome to redistribute it under certain conditions.
> > Type icense()' or icence()' for distribution details.
> >
> > R is a collaborative project with many contributors.
> > Type ontributors()' for more information.
> >
> > Type emo()' for some demos, elp()' for on-line help, or
> > elp.start()' for a HTML browser interface to help.
> > Type ()' to quit R.
> >
> > Error: syntax error: evaluating expression 0
> > >
> >
> > however, make check passed without any warning / error.
>
> Not for me as of last night and only gnuwin32 changes seems to have
> gone in in the meantime. Some of the recent changes required a rerun
> of configure and make clean, though.

Nor me (after those changes).  *But*

Type ^Demo()' for some demos, ^Help()' for on-line help, or
^Help.start()' for a HTML browser interface to help.
Type ^Q()' to quit R.

is wrong: there should be no ^ there, and lower case, so I think your
machine is set in a strange character encoding, which would certainly
explain the problem reading the base R file.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Dec 10 09:40:16 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 10 Dec 2001 10:40:16 +0100
Subject: [Rd] Error on start
In-Reply-To: <Pine.LNX.4.31.0112100938380.9366-100000@gannet.stats>
References: <Pine.LNX.4.31.0112100938380.9366-100000@gannet.stats>
Message-ID: <x2wuzvxvjz.fsf@blueberry.kubism.ku.dk>

Prof Brian Ripley <ripley@stats.ox.ac.uk> writes:


> Nor me (after those changes).  *But*
> 
> Type ^Demo()' for some demos, ^Help()' for on-line help, or
> ^Help.start()' for a HTML browser interface to help.
> Type ^Q()' to quit R.
> 
> is wrong: there should be no ^ there, and lower case, so I think your
> machine is set in a strange character encoding, which would certainly
> explain the problem reading the base R file.

(I'd suspect that to be a cut+paste effect turning `q into ctrl-Q etc.
in Torsten's editor...)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kleiweg@let.rug.nl  Mon Dec 10 11:29:03 2001
From: kleiweg@let.rug.nl (Peter Kleiweg)
Date: Mon, 10 Dec 2001 12:29:03 +0100 (CET)
Subject: [Rd] Make check: parameter list too long
Message-ID: <Pine.LNX.4.33.0112101223230.339-100000@kleigh.nl>


This might have been reported before, and it doesn't really
seem to be a problem of R, but still...

I installed R-devel_2001-12-07.tar.gz on HP-UX. When running
`make check' I got this error:

    collecting examples for package `base' ...
     >>> Building/Updating help pages for package `base'
	 Formats: text example
    sh[14]: /usr/local/bin/perl: The parameter list is too long.
    running code in `base-Ex.R' ... OK

Can anyone tell me how the run all the tests in `base' on this
machine? The rest of the tests run OK.

-- 
Peter Kleiweg
http://www.let.rug.nl/~kleiweg/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Mon Dec 10 15:42:59 2001
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Mon, 10 Dec 2001 10:42:59 -0500
Subject: [Rd] Windows testing
In-Reply-To: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>
References: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>
Message-ID: <3ll91u0mjooh9j727qfm45mqpb505e8rei@4ax.com>

On Wed, 5 Dec 2001 15:02:47 +0000 (GMT), you wrote in message
<Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>:

>I don't have much access to a suitable (internet-connected) Windows
>machine these days, but Duncan may be able to put up later builds as
>testing proceeds.

I just put today's build online at
<http://www.stats.uwo.ca/faculty/murdoch/software/r-devel>.  I didn't
put the miniR files online; I did put the rw-faq file there with its
descriptions of what's in each file.

Duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Dec 10 16:14:57 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 10 Dec 2001 17:14:57 +0100
Subject: [Rd] Windows testing
In-Reply-To: <3ll91u0mjooh9j727qfm45mqpb505e8rei@4ax.com>
References: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>
 <3ll91u0mjooh9j727qfm45mqpb505e8rei@4ax.com>
Message-ID: <x2n10ryrum.fsf@blueberry.kubism.ku.dk>

Duncan Murdoch <murdoch@stats.uwo.ca> writes:

> On Wed, 5 Dec 2001 15:02:47 +0000 (GMT), you wrote in message
> <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>:
> 
> >I don't have much access to a suitable (internet-connected) Windows
> >machine these days, but Duncan may be able to put up later builds as
> >testing proceeds.
> 
> I just put today's build online at
> <http://www.stats.uwo.ca/faculty/murdoch/software/r-devel>.  I didn't
> put the miniR files online; I did put the rw-faq file there with its
> descriptions of what's in each file.

Thanks. Looking good, and tcltk appears to work too.

I see a minor glitch in the Rgui preferences editor: If you mess with
the MDI/SDI setting and abandon it when told that you have to restart,
and then try to set the font (w/ Apply), the configuration editor gets
overwritten with the content of the console window.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Mon Dec 10 16:56:10 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Mon, 10 Dec 2001 17:56:10 +0100
Subject: [Rd] Windows testing
References: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>
 <3ll91u0mjooh9j727qfm45mqpb505e8rei@4ax.com> <x2n10ryrum.fsf@blueberry.kubism.ku.dk>
Message-ID: <3C14E92A.DEAA83FD@univie.ac.at>

thomas baier's dcom server is working again!

--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From brahm@alum.mit.edu  Mon Dec 10 17:15:35 2001
From: brahm@alum.mit.edu (brahm@alum.mit.edu)
Date: Mon, 10 Dec 2001 18:15:35 +0100 (MET)
Subject: [Rd] Documentation of .Last.lib in library() (PR#1209)
Message-ID: <200112101715.SAA01156@pubhealth.ku.dk>

help(library) says: "`.Last.lib' is called when a package is loaded."  Probably
should be "...is detached."
                              -- David Brahm (brahm@alum.mit.edu)


--please do not edit the information below--

Version:
 platform = sparc-sun-solaris2.6
 arch = sparc
 os = solaris2.6
 system = sparc, solaris2.6
 status = 
 major = 1
 minor = 3.1
 year = 2001
 month = 08
 day = 31
 language = R

Search Path:
 .GlobalEnv, package:misc, package:io, package:arrays, package:ls1, package:g.data, package:db, package:ts, package:ctest, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From brahm@alum.mit.edu  Mon Dec 10 18:37:41 2001
From: brahm@alum.mit.edu (brahm@alum.mit.edu)
Date: Mon, 10 Dec 2001 19:37:41 +0100 (MET)
Subject: [Rd] Re: bug.report() sends empty message (PR#1158)
Message-ID: <200112101837.TAA01768@pubhealth.ku.dk>

   On Oct 22, I sent an empty bug report (#1138) because bug.report() "ate my
message".  Paul Gilbert opened a new bug report (#1158) for this problem.

   I'm now convinced it's because I had an apostrophe in the subject line
("round() doesn't").  The bug.report documentation specifically warns against
this, but the bug.report() function could also check for it!  I suggest adding
this line to the bug.report code:

  if (regexpr("'", subject) > 0) stop("Please, no apostrophe in the subject.")

                              -- David Brahm (brahm@alum.mit.edu)

R> getOption("mailer")
   [1] "mailx"
Version:
 platform = sparc-sun-solaris2.6
 arch = sparc
 os = solaris2.6
 system = sparc, solaris2.6
 status = 
 major = 1
 minor = 3.1
 year = 2001
 month = 08
 day = 31
 language = R

Search Path:
 .GlobalEnv, package:misc, package:io, package:arrays, package:ls1, package:g.data, package:db, package:ts, package:ctest, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Mon Dec 10 19:09:35 2001
From: pgilbert@bank-banque-canada.ca (pgilbert@bank-banque-canada.ca)
Date: Mon, 10 Dec 2001 20:09:35 +0100 (MET)
Subject: [Rd] Re: bug.report() sends empty message (PR#1158)
Message-ID: <200112101909.UAA01979@pubhealth.ku.dk>

brahm@alum.mit.edu wrote:
>   On Oct 22, I sent an empty bug report (#1138) because bug.report()
>"ate my
>message".  Paul Gilbert opened a new bug report (#1158) for this
>problem.

>   I'm now convinced it's because I had an apostrophe in the subject
>line

Your problem may have been due to the apostrophe, but it reminded me of another
outstanding problem which I had neglected to report previously: wait=TRUE as in
the windows version seems to be necessary with some Unix editors too (e.g.
Nedit).

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From vograno@arbitrade.com  Tue Dec 11 02:34:48 2001
From: vograno@arbitrade.com (vograno@arbitrade.com)
Date: Tue, 11 Dec 2001 03:34:48 +0100 (MET)
Subject: [Rd] multi.line=FALSE does not work in scan() (PR#1210)
Message-ID: <200112110234.DAA03819@pubhealth.ku.dk>

The following applies to scan function called with multi.line=FALSE and
what=list(...).

If 'what' has more members than the number of columns in the file scan()
keeps reading from the next line of the file despite multi.line=FALSE. Here
is a transcript of the session:

# attempts to read four field whereas the file, foo, has only three per row
# This is the "foo" file
1 2.1 3.2
1 4.1 5.2
1 6.1 7.2

> x <- scan("foo", list(integer(0), double(0), double(0), integer(0)),
multi.line=FALSE)
Error in scan("foo", list(integer(0), double(0), double(0), integer(0)),  : 
	"scan" expected an integer, got "4.1"

# That an error will arise is expected, but not of this kind
# As a side note, it would be more informative if scan() printed the serial
number of the offending line (this is what S-Plus does).

> unlist(R.Version())
           platform                arch                  os
system 
"i686-pc-linux-gnu"              "i686"         "linux-gnu"   "i686,
linux-gnu" 
             status               major               minor
year 
                 ""                 "1"               "3.1"
"2001" 
              month                 day            language 
               "08"                "31"                 "R" 


Thank you for developing R,

Regards, Vadim

-------------------------------------------------- 
DISCLAIMER 
This e-mail, and any attachments thereto, is intended only for use by the
addressee(s) named herein and may contain legally privileged and/or
confidential information.  If you are not the intended recipient of this
e-mail, you are hereby notified that any dissemination, distribution or
copying of this e-mail, and any attachments thereto, is strictly prohibited.
If you have received this e-mail in error, please immediately notify me and
permanently delete the original and any copy of any e-mail and any printout
thereof. 

E-mail transmission cannot be guaranteed to be secure or error-free.  The
sender therefore does not accept liability for any errors or omissions in
the contents of this message which arise as a result of e-mail transmission.

NOTICE REGARDING PRIVACY AND CONFIDENTIALITY 

Knight Trading Group may, at its discretion, monitor and review the content
of all e-mail communications. 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Tue Dec 11 10:27:50 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt.Hornik@ci.tuwien.ac.at)
Date: Tue, 11 Dec 2001 11:27:50 +0100 (MET)
Subject: [Rd] Documentation of .Last.lib in library() (PR#1209)
Message-ID: <200112111027.LAA07225@pubhealth.ku.dk>

>>>>> brahm  writes:

> help(library) says: "`.Last.lib' is called when a package is loaded."
> Probably should be "...is detached."  -- David Brahm
> (brahm@alum.mit.edu)

Already fixed in 1.4.0.

-k

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Tue Dec 11 11:15:39 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Tue, 11 Dec 2001 12:15:39 +0100
Subject: [Rd] windows testing
Message-ID: <3C15EADB.EC77A561@univie.ac.at>

i tried to build a complete install package on
win98, also compiling the recommended packages from the source

the one things that does not work at the moment is that
foreign_0.4-7
which is in the recommended packages
does not compile

this is what i get


make: Entering directory `/cygdrive/c/DEVEL/R-DEVEL/src/gnuwin32'
make DLLNM=  FLIBS="-lg2c" \
  -C C:/devel/R-devel/bin/R.INSTALL/foreign PKG=foreign
RHOME=c:/DEVEL/R-DEVEL R
LIB=C:/DEVEL/R-DEVEL/library \
  -f c:/DEVEL/R-DEVEL/src/gnuwin32/MakePkg
make[1]: Entering directory
`/cygdrive/c/devel/R-devel/bin/R.INSTALL/foreign'
mkdir -p C:/DEVEL/R-DEVEL/library/foreign
cp -r   ./INDEX  ./TITLE ./BUGS ./ChangeLog
C:/DEVEL/R-DEVEL/library/foreign/
make[2]: Entering directory
`/cygdrive/c/devel/R-devel/bin/R.INSTALL/foreign/src
'
gcc   -Ic:/DEVEL/R-DEVEL/src/include -Wall -O2   -c SASxport.c -o
SASxport.o
In file included from SASxport.c:31:
SASxport.h:15: swap_bytes.h: No such file or directory
make[2]: *** [SASxport.o] Error 1
make[2]: Leaving directory
`/cygdrive/c/devel/R-devel/bin/R.INSTALL/foreign/src'

make[1]: *** [src/foreign.dll] Error 2



--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Dec 11 11:21:04 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 11 Dec 2001 12:21:04 +0100
Subject: [Rd] windows testing
In-Reply-To: <3C15EADB.EC77A561@univie.ac.at>
References: <3C15EADB.EC77A561@univie.ac.at>
Message-ID: <x2snai2ean.fsf@blueberry.kubism.ku.dk>

Erich Neuwirth <erich.neuwirth@univie.ac.at> writes:

> i tried to build a complete install package on
> win98, also compiling the recommended packages from the source
> 
> the one things that does not work at the moment is that
> foreign_0.4-7
> which is in the recommended packages
> does not compile
> 
> this is what i get
>

Odd. This seems to have worked for Duncan M. However, please notice
that there's a newer version:
 
http://cran.r-project.org/src/contrib/1.4.0/Recommended/foreign_0.4-8.tar.gz

(and in general, the recommended packages sit in that directory until
release)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Dec 11 11:59:42 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 11 Dec 2001 11:59:42 +0000 (GMT)
Subject: [Rd] windows testing
In-Reply-To: <3C15EADB.EC77A561@univie.ac.at>
Message-ID: <Pine.LNX.4.31.0112111157010.23043-100000@gannet.stats>

On Tue, 11 Dec 2001, Erich Neuwirth wrote:

> i tried to build a complete install package on
> win98, also compiling the recommended packages from the source
>
> the one things that does not work at the moment is that
> foreign_0.4-7
> which is in the recommended packages
> does not compile

It's not the latest version, and you need to manually configure it:
see the advice in `Writing R Extensions' (not followed by the authors of
that package ...).

Move swap_bytes.h.in to swap_bytes.h and var.h.in to var.h.

There's a few more tricks you need to bear in mind, for example
which packages work with --use-zip.

>
> this is what i get
>
>
> make: Entering directory `/cygdrive/c/DEVEL/R-DEVEL/src/gnuwin32'
> make DLLNM=  FLIBS="-lg2c" \
>   -C C:/devel/R-devel/bin/R.INSTALL/foreign PKG=foreign
> RHOME=c:/DEVEL/R-DEVEL R
> LIB=C:/DEVEL/R-DEVEL/library \
>   -f c:/DEVEL/R-DEVEL/src/gnuwin32/MakePkg
> make[1]: Entering directory
> `/cygdrive/c/devel/R-devel/bin/R.INSTALL/foreign'
> mkdir -p C:/DEVEL/R-DEVEL/library/foreign
> cp -r   ./INDEX  ./TITLE ./BUGS ./ChangeLog
> C:/DEVEL/R-DEVEL/library/foreign/
> make[2]: Entering directory
> `/cygdrive/c/devel/R-devel/bin/R.INSTALL/foreign/src
> '
> gcc   -Ic:/DEVEL/R-DEVEL/src/include -Wall -O2   -c SASxport.c -o
> SASxport.o
> In file included from SASxport.c:31:
> SASxport.h:15: swap_bytes.h: No such file or directory
> make[2]: *** [SASxport.o] Error 1
> make[2]: Leaving directory
> `/cygdrive/c/devel/R-devel/bin/R.INSTALL/foreign/src'
>
> make[1]: *** [src/foreign.dll] Error 2
>
>
>
> --
> Erich Neuwirth, Computer Supported Didactics Working Group
> Visit our SunSITE at http://sunsite.univie.ac.at
> Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Tue Dec 11 12:57:15 2001
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Tue, 11 Dec 2001 07:57:15 -0500
Subject: [Rd] windows testing
In-Reply-To: <x2snai2ean.fsf@blueberry.kubism.ku.dk>
References: <3C15EADB.EC77A561@univie.ac.at> <x2snai2ean.fsf@blueberry.kubism.ku.dk>
Message-ID: <ti0c1ukmcu6vtkrkle2rrstm0nb15364k9@4ax.com>

On 11 Dec 2001 12:21:04 +0100, you wrote:

>Erich Neuwirth <erich.neuwirth@univie.ac.at> writes:
>
>> i tried to build a complete install package on
>> win98, also compiling the recommended packages from the source
>> 
>> the one things that does not work at the moment is that
>> foreign_0.4-7

>Odd. This seems to have worked for Duncan M.

No, I'm downloading the binaries of the packages, I just compile R
itself.  I haven't tried to build foreign.

Duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Dec 11 15:28:45 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 11 Dec 2001 16:28:45 +0100 (MET)
Subject: [Rd] Re: (PR#1210) an error message from scan() surprised vograno@arbitrade.com.
Message-ID: <200112111528.QAA13336@pubhealth.ku.dk>

Original incorrect subject line was

Subject: [Rd] multi.line=FALSE does not work in scan() (PR#1210)

It *does* work quite correctly: this was an erroneous file nd
you got an error, just one you didn't understand.

Please don't use grossly misleading subject lines: they are all that
appear in the BUGS file.


On Tue, 11 Dec 2001 vograno@arbitrade.com wrote:

> The following applies to scan function called with multi.line=FALSE and
> what=list(...).
>
> If 'what' has more members than the number of columns in the file scan()
> keeps reading from the next line of the file despite multi.line=FALSE. Here
> is a transcript of the session:
>
> # attempts to read four field whereas the file, foo, has only three per row
> # This is the "foo" file
> 1 2.1 3.2
> 1 4.1 5.2
> 1 6.1 7.2
>
> > x <- scan("foo", list(integer(0), double(0), double(0), integer(0)),
> multi.line=FALSE)
> Error in scan("foo", list(integer(0), double(0), double(0), integer(0)),  :
> 	"scan" expected an integer, got "4.1"
>
> # That an error will arise is expected, but not of this kind

(Why not?  It tries to read the next item, and finds it can't and reports
so.  Only later does it check it stayed on the same line.)

> # As a side note, it would be more informative if scan() printed the serial
> number of the offending line (this is what S-Plus does).

In fact had scan got to the multiline check, it would have told you:

x <- scan("foo", list(double(0),double(0),double(0),double(0)),
multi.line=FALSE)

Error in scan("foo", list(double(0), double(0), double(0), double(0)),  :
        line 1 did not have 4 elements

> > unlist(R.Version())
[...]

(which took far more space than the standard printout).

Now, the diagnostics could be improved, but it is not a bug to give an
error on erroneous input.

Not something to be tampered with during feature freeze.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From malewski.peter@mh-hannover.de  Tue Dec 11 16:17:23 2001
From: malewski.peter@mh-hannover.de (Peter Malewski)
Date: Tue, 11 Dec 2001 17:17:23 +0100
Subject: [Rd] windows testing
In-Reply-To: <Pine.LNX.4.31.0112111157010.23043-100000@gannet.stats>; from ripley@stats.ox.ac.uk on Tue, Dec 11, 2001 at 11:59:42AM +0000
References: <3C15EADB.EC77A561@univie.ac.at> <Pine.LNX.4.31.0112111157010.23043-100000@gannet.stats>
Message-ID: <20011211171722.A22734@rzsrv2.rz.tu-bs.de>


Rterm does not accept C-c to stop excecution with gnu-emacs
and under DOS. This work with Rterm Version 1.3.1. E.g.:

for(i in 1:10000){print(i);rnorm(100)}

Control-c does not work (windows 95).

platform i386-pc-mingw32
arch     x86
os       Win32
system   x86, Win32
status   Under development (unstable)
major    1
minor    4.0
year     2001
month    12
day      05
language R


PM





On Tue, Dec 11, 2001 at 11:59:42AM +0000, Prof Brian D Prof Brian D Ripley wrote:
> On Tue, 11 Dec 2001, Erich Neuwirth wrote:
> 
> > i tried to build a complete install package on
> > win98, also compiling the recommended packages from the source
> >
> > the one things that does not work at the moment is that
> > foreign_0.4-7
> > which is in the recommended packages
> > does not compile
> 
> It's not the latest version, and you need to manually configure it:
> see the advice in `Writing R Extensions' (not followed by the authors of
> that package ...).
> 
> Move swap_bytes.h.in to swap_bytes.h and var.h.in to var.h.
> 
> There's a few more tricks you need to bear in mind, for example
> which packages work with --use-zip.
> 
> >
> > this is what i get
> >
> >
> > make: Entering directory `/cygdrive/c/DEVEL/R-DEVEL/src/gnuwin32'
> > make DLLNM=  FLIBS="-lg2c" \
> >   -C C:/devel/R-devel/bin/R.INSTALL/foreign PKG=foreign
> > RHOME=c:/DEVEL/R-DEVEL R
> > LIB=C:/DEVEL/R-DEVEL/library \
> >   -f c:/DEVEL/R-DEVEL/src/gnuwin32/MakePkg
> > make[1]: Entering directory
> > `/cygdrive/c/devel/R-devel/bin/R.INSTALL/foreign'
> > mkdir -p C:/DEVEL/R-DEVEL/library/foreign
> > cp -r   ./INDEX  ./TITLE ./BUGS ./ChangeLog
> > C:/DEVEL/R-DEVEL/library/foreign/
> > make[2]: Entering directory
> > `/cygdrive/c/devel/R-devel/bin/R.INSTALL/foreign/src
> > '
> > gcc   -Ic:/DEVEL/R-DEVEL/src/include -Wall -O2   -c SASxport.c -o
> > SASxport.o
> > In file included from SASxport.c:31:
> > SASxport.h:15: swap_bytes.h: No such file or directory
> > make[2]: *** [SASxport.o] Error 1
> > make[2]: Leaving directory
> > `/cygdrive/c/devel/R-devel/bin/R.INSTALL/foreign/src'
> >
> > make[1]: *** [src/foreign.dll] Error 2
> >
> >
> >
> > --
> > Erich Neuwirth, Computer Supported Didactics Working Group
> > Visit our SunSITE at http://sunsite.univie.ac.at
> > Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
P.Malewski, Limmerstr.47, 30451 Hannover, 0511-2135008
At work: http://www.MH-Hannover.de 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski@tu-bs.de, peter.malewski@gmx.de, malewski.peter@mh-hannover.de.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Dec 11 18:09:35 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 11 Dec 2001 19:09:35 +0100
Subject: [Rd] windows testing
In-Reply-To: <20011211171722.A22734@rzsrv2.rz.tu-bs.de>
References: <3C15EADB.EC77A561@univie.ac.at>
 <Pine.LNX.4.31.0112111157010.23043-100000@gannet.stats>
 <20011211171722.A22734@rzsrv2.rz.tu-bs.de>
Message-ID: <x2n10p1vds.fsf@blueberry.kubism.ku.dk>

Peter Malewski <malewski.peter@mh-hannover.de> writes:

> Rterm does not accept C-c to stop excecution with gnu-emacs
> and under DOS. This work with Rterm Version 1.3.1. E.g.:
> 
> for(i in 1:10000){print(i);rnorm(100)}
> 
> Control-c does not work (windows 95).

Odd. This happens to me with Duncan's build, but not with my own
cross-built versions. Both one from before his and a recent one.

??

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Tue Dec 11 18:29:36 2001
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Tue, 11 Dec 2001 13:29:36 -0500
Subject: [Rd] windows testing
In-Reply-To: <20011211171722.A22734@rzsrv2.rz.tu-bs.de>
References: <3C15EADB.EC77A561@univie.ac.at> <Pine.LNX.4.31.0112111157010.23043-100000@gannet.stats> <20011211171722.A22734@rzsrv2.rz.tu-bs.de>
Message-ID: <12jc1ugh4gg89cqecff1s5gd8f5v0nupqo@4ax.com>

1. Tried running "test-all-extras" today.  It failed comparison on the
last of the regression tests, "reg-plot".  As far as I could tell, the
output looked okay.  The differences were in reported values of the
relative range of values, as in 

>> for(j.fac in 1e-12* c(10, 1, .7, .3, .2, .1, .05, .03, .01)) {
>+ ##           ====
>+     #set.seed(101) # or don't
>+     x <- pi + jitter(numeric(101), f = j.fac)
>+     rrtxt <- paste("rel.range =", formatC(relrange(x), dig = 4),"* EPS")
>+     cat("j.f = ", format(j.fac)," ;  ", rrtxt,"\n",sep="")
>+     plot(x, type = "l", main = rrtxt)
>+     cat("par(\"usr\")[3:4]:", formatC(par("usr")[3:4], wid = 10),"\n",
>+         "par(\"yaxp\") :   ", formatC(par("yaxp"), wid = 10),"\n\n", sep="")
>+ }
>j.f = 1e-11 ;  rel.range = 553.9 * EPS
>par("usr")[3:4]:     3.142     3.142
>par("yaxp") :        3.142     3.142         3
>
>j.f = 1e-12 ;  rel.range = 56.02 * EPS
>Warning: relative range of values = 85.307 * EPS, is small (axis 2).
>par("usr")[3:4]:     3.142     3.142
>par("yaxp") :        3.142     3.142      

and some warnings about character widths:

>Warning: font width unknown for character 144
>Warning: font metrics unknown for character 144
>Warning: font width unknown for character 144
>Warning: font width unknown for character 157
>Warning: font metrics unknown for character 157
>Warning: font width unknown for character 157

2.  In test-Internet, the file comparisons were different (in what
looked like trivial ways: the directory and list from CRAN was
different).  The test produced a file "internet.Rout2" that had no
corresponding .save file.

Duncan



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Dec 11 18:38:47 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 11 Dec 2001 18:38:47 +0000 (GMT Standard Time)
Subject: [Rd] windows testing
In-Reply-To: <12jc1ugh4gg89cqecff1s5gd8f5v0nupqo@4ax.com>
Message-ID: <Pine.WNT.4.31.0112111837310.1084-100000@gannet>

On Tue, 11 Dec 2001, Duncan Murdoch wrote:

> 1. Tried running "test-all-extras" today.  It failed comparison on the
> last of the regression tests, "reg-plot".  As far as I could tell, the
> output looked okay.  The differences were in reported values of the
> relative range of values, as in
>
> >> for(j.fac in 1e-12* c(10, 1, .7, .3, .2, .1, .05, .03, .01)) {
> >+ ##           ====
> >+     #set.seed(101) # or don't
> >+     x <- pi + jitter(numeric(101), f = j.fac)
> >+     rrtxt <- paste("rel.range =", formatC(relrange(x), dig = 4),"* EPS")
> >+     cat("j.f = ", format(j.fac)," ;  ", rrtxt,"\n",sep="")
> >+     plot(x, type = "l", main = rrtxt)
> >+     cat("par(\"usr\")[3:4]:", formatC(par("usr")[3:4], wid = 10),"\n",
> >+         "par(\"yaxp\") :   ", formatC(par("yaxp"), wid = 10),"\n\n", sep="")
> >+ }
> >j.f = 1e-11 ;  rel.range = 553.9 * EPS
> >par("usr")[3:4]:     3.142     3.142
> >par("yaxp") :        3.142     3.142         3
> >
> >j.f = 1e-12 ;  rel.range = 56.02 * EPS
> >Warning: relative range of values = 85.307 * EPS, is small (axis 2).
> >par("usr")[3:4]:     3.142     3.142
> >par("yaxp") :        3.142     3.142
>
> and some warnings about character widths:
>
> >Warning: font width unknown for character 144
> >Warning: font metrics unknown for character 144
> >Warning: font width unknown for character 144
> >Warning: font width unknown for character 157
> >Warning: font metrics unknown for character 157
> >Warning: font width unknown for character 157

Yes, all normal.

>
> 2.  In test-Internet, the file comparisons were different (in what
> looked like trivial ways: the directory and list from CRAN was
> different).  The test produced a file "internet.Rout2" that had no
> corresponding .save file.

The save output is out of date (as it commonly is). There is no
save file for internet.Rout2: that it runs is enough.

> Duncan
>
>
>
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Dec 11 18:41:30 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 11 Dec 2001 18:41:30 +0000 (GMT Standard Time)
Subject: [Rd] windows testing
In-Reply-To: <x2n10p1vds.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.WNT.4.31.0112111838520.1084-100000@gannet>

On 11 Dec 2001, Peter Dalgaard BSA wrote:

> Peter Malewski <malewski.peter@mh-hannover.de> writes:
>
> > Rterm does not accept C-c to stop excecution with gnu-emacs
> > and under DOS. This work with Rterm Version 1.3.1. E.g.:
> >
> > for(i in 1:10000){print(i);rnorm(100)}
> >
> > Control-c does not work (windows 95).
>
> Odd. This happens to me with Duncan's build, but not with my own
> cross-built versions. Both one from before his and a recent one.

Looks like a linker bug. Forcing an explicit import library (as used when
cross-building) solved it.  Funny: pedump claims to have all the right
imports, which is usually an accurate diagnosis of success.

I will have a new build up shortly.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Tue Dec 11 19:23:59 2001
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Tue, 11 Dec 2001 14:23:59 -0500
Subject: [Rd] windows testing
In-Reply-To: <x2n10p1vds.fsf@blueberry.kubism.ku.dk>
References: <3C15EADB.EC77A561@univie.ac.at> <Pine.LNX.4.31.0112111157010.23043-100000@gannet.stats> <20011211171722.A22734@rzsrv2.rz.tu-bs.de> <x2n10p1vds.fsf@blueberry.kubism.ku.dk>
Message-ID: <f8mc1ucttnos77f3dcka8q67qa62ea7uj7@4ax.com>

On 11 Dec 2001 19:09:35 +0100, you wrote in message
<x2n10p1vds.fsf@blueberry.kubism.ku.dk>:

>Peter Malewski <malewski.peter@mh-hannover.de> writes:
>
>> Rterm does not accept C-c to stop excecution with gnu-emacs
>> and under DOS. This work with Rterm Version 1.3.1. E.g.:
>> 
>> for(i in 1:10000){print(i);rnorm(100)}
>> 
>> Control-c does not work (windows 95).
>
>Odd. This happens to me with Duncan's build, but not with my own
>cross-built versions. Both one from before his and a recent one.

Looks as though I may be using some wrong version of a library.  I get
the same problem on today's build, and on one I built on Dec 5, but
not in Brian's version of today's build.

Since I've rsync'd all of the R files, it's probably one of the gcc
libs that is wrong.  What version should I be using?  How do I find
out what version I've got?

Duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Tue Dec 11 20:43:23 2001
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Tue, 11 Dec 2001 15:43:23 -0500
Subject: [Rd] windows testing
In-Reply-To: <Pine.WNT.4.31.0112111838520.1084-100000@gannet>
References: <x2n10p1vds.fsf@blueberry.kubism.ku.dk> <Pine.WNT.4.31.0112111838520.1084-100000@gannet>
Message-ID: <krrc1uon8777c3ccprb8ppleoiv4803232@4ax.com>

On Tue, 11 Dec 2001 18:41:30 +0000 (GMT Standard Time), you wrote in
message <Pine.WNT.4.31.0112111838520.1084-100000@gannet>:

>Looks like a linker bug. Forcing an explicit import library (as used when
>cross-building) solved it.  Funny: pedump claims to have all the right
>imports, which is usually an accurate diagnosis of success.
>
>I will have a new build up shortly.

With Brian's changes, the Ctrl-C problem has gone away.  I've got a
new build up on

 <http://www.stats.uwo.ca/faculty/murdoch/software/r-devel> 

which works for me.

Duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rmh@surfer.sbm.temple.edu  Tue Dec 11 22:32:17 2001
From: rmh@surfer.sbm.temple.edu (rmh@surfer.sbm.temple.edu)
Date: Tue, 11 Dec 2001 23:32:17 +0100 (MET)
Subject: [Rd] crash bug in get("function.name")() (PR#1211)
Message-ID: <200112112232.XAA15690@pubhealth.ku.dk>

R : Copyright 2001, The R Development Core Team
Version 1.3.1  (2001-08-31)

> tmp <- factor(1:3)
> get("print.factor")(tmp)
[1] 1 2 3
Levels:  1 2 3 
> print.a <- function(x,...) {
+   print("this is a")
+   NextMethod("print", x, quote = FALSE, right = TRUE, ...)
+ }
> 
> get("print.a")
function(x,...) {
  print("this is a")
  NextMethod("print", x, quote = FALSE, right = TRUE, ...)
}
> print.a(tmp)
[1] "this is a"
[1] 1 2 3
Levels:  1 2 3 
> get("print.a")(tmp)
[1] "this is a"

Process R exited abnormally with code 5 at Tue Dec 11 16:18:17 2001

----

I am using the windows version rw1031

I also tried on rw1030.   rw1030 gives a different code
Process R exited abnormally with code 255 at Tue Dec 11 17:31:06 2001

Rich

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ligges@statistik.uni-dortmund.de  Tue Dec 11 23:05:16 2001
From: ligges@statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 12 Dec 2001 00:05:16 +0100
Subject: [Rd] crash bug in get("function.name")() (PR#1211)
References: <200112112232.XAA15690@pubhealth.ku.dk>
Message-ID: <3C16912C.75907CDA@statistik.uni-dortmund.de>

rmh@surfer.sbm.temple.edu wrote:
> 
> R : Copyright 2001, The R Development Core Team
> Version 1.3.1  (2001-08-31)
> 
> > tmp <- factor(1:3)
> > get("print.factor")(tmp)
> [1] 1 2 3
> Levels:  1 2 3
> > print.a <- function(x,...) {
> +   print("this is a")
> +   NextMethod("print", x, quote = FALSE, right = TRUE, ...)
> + }
> >
> > get("print.a")
> function(x,...) {
>   print("this is a")
>   NextMethod("print", x, quote = FALSE, right = TRUE, ...)
> }
> > print.a(tmp)
> [1] "this is a"
> [1] 1 2 3
> Levels:  1 2 3
> > get("print.a")(tmp)
> [1] "this is a"
> 
> Process R exited abnormally with code 5 at Tue Dec 11 16:18:17 2001
> 
> ----
> 
> I am using the windows version rw1031
> 
> I also tried on rw1030.   rw1030 gives a different code
> Process R exited abnormally with code 255 at Tue Dec 11 17:31:06 2001


With an existing workspace the same happens with R-1.4.0 (unstable) on
WinNT4.

Also in R-1.4.0 (unstable) the last lines of your example, if started
without an existing workspace, results in:

>  print.a(tmp)
[1] "this is a"
[1] 1 2 3
Levels:  1 2 3 
>  get("print.a")(tmp)
[1] "this is a"
Error in get("print.a")(tmp) : function is not a closure
>  get("print.a")
Error: attempt to apply non-function
>  get 
#### Now a crash!


Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Dec 11 23:33:01 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 12 Dec 2001 00:33:01 +0100
Subject: [Rd] crash bug in get("function.name")() (PR#1211)
In-Reply-To: <3C16912C.75907CDA@statistik.uni-dortmund.de>
References: <200112112232.XAA15690@pubhealth.ku.dk>
 <3C16912C.75907CDA@statistik.uni-dortmund.de>
Message-ID: <x2adwps576.fsf@blueberry.kubism.ku.dk>

Uwe Ligges <ligges@statistik.uni-dortmund.de> writes:

> rmh@surfer.sbm.temple.edu wrote:
> > 
> > R : Copyright 2001, The R Development Core Team
> > Version 1.3.1  (2001-08-31)
> > 
> > > tmp <- factor(1:3)
> > > get("print.factor")(tmp)
> > [1] 1 2 3
> > Levels:  1 2 3
> > > print.a <- function(x,...) {
> > +   print("this is a")
> > +   NextMethod("print", x, quote = FALSE, right = TRUE, ...)
> > + }
> > >
> > > get("print.a")
> > function(x,...) {
> >   print("this is a")
> >   NextMethod("print", x, quote = FALSE, right = TRUE, ...)
> > }
> > > print.a(tmp)
> > [1] "this is a"
> > [1] 1 2 3
> > Levels:  1 2 3
> > > get("print.a")(tmp)
> > [1] "this is a"
> > 
> > Process R exited abnormally with code 5 at Tue Dec 11 16:18:17 2001
> > 
> > ----
> > 
> > I am using the windows version rw1031
> > 
> > I also tried on rw1030.   rw1030 gives a different code
> > Process R exited abnormally with code 255 at Tue Dec 11 17:31:06 2001
> 
> 
> With an existing workspace the same happens with R-1.4.0 (unstable) on
> WinNT4.
> 
> Also in R-1.4.0 (unstable) the last lines of your example, if started
> without an existing workspace, results in:
> 
> >  print.a(tmp)
> [1] "this is a"
> [1] 1 2 3
> Levels:  1 2 3 
> >  get("print.a")(tmp)
> [1] "this is a"
> Error in get("print.a")(tmp) : function is not a closure
> >  get("print.a")
> Error: attempt to apply non-function
> >  get 
> #### Now a crash!

This comes from this spot:

(gdb) 
#3  0x080cc4cc in do_nextmethod (call=0x873cc68, op=0x8214ee8,args=0x873cd2c, 
    env=0x8b2f394) at ../../../R/src/main/objects.c:488
488         s = findFun(CAR(cptr->call), cptr->sysparent);

CAR(cptr->call) grabs the first element of the call. In a construction
like get("print.a")(tmp) that will be  get("print.a"). However, findFun
assumes that it is being passed a symbol, and pokes a HASHVALUE into
what it thinks is the PRINTNAME of the object, and all hell breaks
loose. 

However, given the way that method dispatch works (by "dotting on" the
class name to the function name), I don't think this kind of
construction makes sense at all.  

There probably needs to be a check in findFun that its symbol argument
really is one. It is however of the "Doctor, it hurts when I do this"
variety, and it might be better to keep our hands off it this close to
release time.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rmh@surfer.sbm.temple.edu  Wed Dec 12 00:20:20 2001
From: rmh@surfer.sbm.temple.edu (Rich Heiberger)
Date: Tue, 11 Dec 2001 19:20:20 -0500 (EST)
Subject: [Rd] crash bug in get("function.name")() (PR#1211)
References: <200112112232.XAA15690@pubhealth.ku.dk>
 <3C16912C.75907CDA@statistik.uni-dortmund.de>
Message-ID: <200112120020.fBC0KKL2512179@surfer.sbm.temple.edu>

Peter, your explanation looks right to me, and is certainly consistent
with the crash behavior of
get("print.a")
The R-1.4.0 error message is a good check.

I would think the explanation should prevent the other example from
working as well.  But this one works
get("print.factor")(tmp)
exactly as expected.

Both of these examples work correctly in S-Plus 4.5

Rich
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ligges@statistik.uni-dortmund.de  Wed Dec 12 12:28:37 2001
From: ligges@statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 12 Dec 2001 13:28:37 +0100
Subject: [Rd] Re: [R] Rcmd SHLIB problem
References: <Pine.LNX.4.31.0112121021250.3547-100000@gannet.stats>
Message-ID: <3C174D75.5B75BD7E@statistik.uni-dortmund.de>

[moved to R-devel]

Prof Brian Ripley wrote:
> 
> it should and does work with Fortran (and C++) files.  The right format is
> 
> Rcmd SHLIB tryf.f
> 
> I've just tested that under rw1031 and the pretest of 1.4.0, so I've
> no idea what's up for you.
> B
> 
> On Mon, 10 Dec 2001, Liaw, Andy wrote:
> 
> > Dear R-help,
> >
> > I'm having problem creating a dll using Rcmd SHLIB with R-1.3.1 on WinNT4:
> >
> > C:\TEMP>Rcmd SHLIB tryf.o
> > make[1]: `libR.a' is up to date.
> > make: *** No rule to make target `'tryf.o', needed by `tryf.a'.  Stop.
> >
> > C:\TEMP>Rcmd SHLIB tryf.f
> > make[1]: `libR.a' is up to date.
> > make: *** No rule to make target `'tryf.o', needed by `tryf.a'.  Stop.
                                    ^^^^
Notice the quotes! Same problem here (R-1.4.0, unstable, NT4).

Not sure if it is a bug in R, in perl or in (what I presume) make.
To debug it, I took the relevant line from SHLIB (inserting the
variables):

make -f d:/uwe-ns/R140-071201/src/gnuwin32/MakeDll
RHOME=d:/uwe-ns/R140-071201 DEBUG=T DLLNAME=pan CFSOURCES='pan.f'
CXXSOURCES='' RCOBJ=
make: *** No rule to make target `'pan.o', needed by `pan.a'.  Stop.


Now leaving out quotes at some places:

d:\uwe>make -f d:/uwe-ns/R140-071201/src/gnuwin32/MakeDll
RHOME=d:/uwe-ns/R140-071201 DEBUG=T DLLNAME=pan CFSOURCES='pan.f'
CXXSOURCES= RCOBJ=
make: *** No rule to make target `'pan.o', needed by `pan.a'.  Stop.

make -f d:/uwe-ns/R140-071201/src/gnuwin32/MakeDll
RHOME=d:/uwe-ns/R140-071201 DEBUG=T DLLNAME=pan CFSOURCES=pan.f
CXXSOURCES='' RCOBJ=
g77 -O2 -g -Wall  -c pan.f -o pan.o
make: *** No rule to make target `''.o', needed by `pan.a'.  Stop.

make -f d:/uwe-ns/R140-071201/src/gnuwin32/MakeDll
RHOME=d:/uwe-ns/R140-071201 DEBUG=T DLLNAME=pan CFSOURCES=pan.f
CXXSOURCES= RCOBJ=
rm -f -f pan.a
ar cr pan.a *.o
ranlib pan.a
------- Building pan.dll from pan.a --------
echo LIBRARY pan > pan.def
echo EXPORTS >> pan.def
nm pan.a > Defs
sed -n '/^........ [BCDRT] _/s/^........ [BCDRT] _/ /p' Defs >> pan.def
rm -f Defs
gcc  --shared   -o pan.dll pan.def pan.a   -lg2c
d:/uwe-ns/R140-071201/bin/R.dll


OK. This works now --- without any quotes - but where is the error?

The following line also works (other kind of quotes):

make -f d:/uwe-ns/R140-071201/src/gnuwin32/MakeDll
RHOME=d:/uwe-ns/R140-071201 DEBUG=T DLLNAME=pan CFSOURCES="pan.f"
CXXSOURCES="" RCOBJ=


As a summary: Changing the relevant line in SHLIB to
system("make -f $R_HOME/src/gnuwin32/MakeDll RHOME=$R_HOME $debug
DLLNAME=$dllname CFSOURCES=$srcs CXXSOURCES=$cxx RCOBJ=");

works, but that's not a general solution. And "double-quotes" cannot be
used two times.
Any ideas?


> > I compiled R from source, so I'm quite sure I've got all the right tools.
> > Can anyone explain what I'm missing?  The FAQ only mentioned compiling C
> > code.  I'd imagine that Fortran code works the same way, no?
> >
> > Any help/hint are much appreciated!

Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Dec 12 13:18:55 2001
From: p.dalgaard@biostat.ku.dk (p.dalgaard@biostat.ku.dk)
Date: Wed, 12 Dec 2001 14:18:55 +0100 (MET)
Subject: [Rd] crash bug in get("function.name")() (PR#1211)
Message-ID: <200112121318.OAA23307@pubhealth.ku.dk>

Rich Heiberger <rmh@surfer.sbm.temple.edu> writes:

> Peter, your explanation looks right to me, and is certainly consistent
> with the crash behavior of
> get("print.a")
> The R-1.4.0 error message is a good check.
> 
> I would think the explanation should prevent the other example from
> working as well.  But this one works
> get("print.factor")(tmp)
> exactly as expected.
> 
> Both of these examples work correctly in S-Plus 4.5

(S-PLUS 3.4 too)

There's no NextMethod in print.factor, but I was wrong on the other
example: It has NextMethod("print",....) with an explicit generic, so
I don't think it should go near the CAR(call) bit at all.

I'll take a closer look, but there's also a few other nasty bugs
nagging us at the moment, and this looks like it could require surgery
to do_nextmethod with some risk of complications.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Dec 12 13:11:07 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 12 Dec 2001 14:11:07 +0100
Subject: [Rd] crash bug in get("function.name")() (PR#1211)
In-Reply-To: <200112120020.fBC0KKL2512179@surfer.sbm.temple.edu>
References: <200112112232.XAA15690@pubhealth.ku.dk>
 <3C16912C.75907CDA@statistik.uni-dortmund.de>
 <200112120020.fBC0KKL2512179@surfer.sbm.temple.edu>
Message-ID: <x23d2g37o4.fsf@blueberry.kubism.ku.dk>

Rich Heiberger <rmh@surfer.sbm.temple.edu> writes:

> Peter, your explanation looks right to me, and is certainly consistent
> with the crash behavior of
> get("print.a")
> The R-1.4.0 error message is a good check.
> 
> I would think the explanation should prevent the other example from
> working as well.  But this one works
> get("print.factor")(tmp)
> exactly as expected.
> 
> Both of these examples work correctly in S-Plus 4.5

(S-PLUS 3.4 too)

There's no NextMethod in print.factor, but I was wrong on the other
example: It has NextMethod("print",....) with an explicit generic, so
I don't think it should go near the CAR(call) bit at all.

I'll take a closer look, but there's also a few other nasty bugs
nagging us at the moment, and this looks like it could require surgery
to do_nextmethod with some risk of complications.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From andy_liaw@merck.com  Wed Dec 12 13:45:35 2001
From: andy_liaw@merck.com (Liaw, Andy)
Date: Wed, 12 Dec 2001 08:45:35 -0500
Subject: [Rd] RE: [R] Rcmd SHLIB problem
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC840D@usrymx10.merck.com>

Yes, changing line 67 of SHLIB as Uwe suggested worked:

C:\TEMP>Rcmd SHLIB tryf.f
make[1]: `libR.a' is up to date.
rm -f -f tryf.a
ar cr tryf.a *.o
ranlib tryf.a
------- Building tryf.dll from tryf.a --------
echo LIBRARY tryf > tryf.def
echo EXPORTS >> tryf.def
nm tryf.a > Defs
sed -n '/^........ [BCDRT] _/s/^........ [BCDRT] _/ /p' Defs >> tryf.def
rm -f Defs
gcc  --shared -s  -o tryf.dll tryf.def tryf.a  -Lc:/progra~1/R/rw1031/src/
gnuwin32  -lg2c -Lc:/Rtools/ATLAS/lib/WinNT_PIIISSE1 -lcblas -lf77blas
-latlas -lR

Thanks very much for the (temporary) solution.  The question is, could this
be a permanent fix?

Regards,
Andy

> -----Original Message-----
> From: Uwe Ligges [mailto:ligges@statistik.uni-dortmund.de]
> Sent: Wednesday, December 12, 2001 7:29 AM
> To: Prof Brian Ripley
> Cc: Liaw, Andy; R-devel
> Subject: Re: [R] Rcmd SHLIB problem
> 
> 
> [moved to R-devel]
> 
> Prof Brian Ripley wrote:
> > 
> > it should and does work with Fortran (and C++) files.  The 
> right format is
> > 
> > Rcmd SHLIB tryf.f
> > 
> > I've just tested that under rw1031 and the pretest of 1.4.0, so I've
> > no idea what's up for you.
> > B
> > 
> > On Mon, 10 Dec 2001, Liaw, Andy wrote:
> > 
> > > Dear R-help,
> > >
> > > I'm having problem creating a dll using Rcmd SHLIB with 
> R-1.3.1 on WinNT4:
> > >
> > > C:\TEMP>Rcmd SHLIB tryf.o
> > > make[1]: `libR.a' is up to date.
> > > make: *** No rule to make target `'tryf.o', needed by 
> `tryf.a'.  Stop.
> > >
> > > C:\TEMP>Rcmd SHLIB tryf.f
> > > make[1]: `libR.a' is up to date.
> > > make: *** No rule to make target `'tryf.o', needed by 
> `tryf.a'.  Stop.
>                                     ^^^^
> Notice the quotes! Same problem here (R-1.4.0, unstable, NT4).
> 
> Not sure if it is a bug in R, in perl or in (what I presume) make.
> To debug it, I took the relevant line from SHLIB (inserting the
> variables):
> 
> make -f d:/uwe-ns/R140-071201/src/gnuwin32/MakeDll
> RHOME=d:/uwe-ns/R140-071201 DEBUG=T DLLNAME=pan CFSOURCES='pan.f'
> CXXSOURCES='' RCOBJ=
> make: *** No rule to make target `'pan.o', needed by `pan.a'.  Stop.
> 
> 
> Now leaving out quotes at some places:
> 
> d:\uwe>make -f d:/uwe-ns/R140-071201/src/gnuwin32/MakeDll
> RHOME=d:/uwe-ns/R140-071201 DEBUG=T DLLNAME=pan CFSOURCES='pan.f'
> CXXSOURCES= RCOBJ=
> make: *** No rule to make target `'pan.o', needed by `pan.a'.  Stop.
> 
> make -f d:/uwe-ns/R140-071201/src/gnuwin32/MakeDll
> RHOME=d:/uwe-ns/R140-071201 DEBUG=T DLLNAME=pan CFSOURCES=pan.f
> CXXSOURCES='' RCOBJ=
> g77 -O2 -g -Wall  -c pan.f -o pan.o
> make: *** No rule to make target `''.o', needed by `pan.a'.  Stop.
> 
> make -f d:/uwe-ns/R140-071201/src/gnuwin32/MakeDll
> RHOME=d:/uwe-ns/R140-071201 DEBUG=T DLLNAME=pan CFSOURCES=pan.f
> CXXSOURCES= RCOBJ=
> rm -f -f pan.a
> ar cr pan.a *.o
> ranlib pan.a
> ------- Building pan.dll from pan.a --------
> echo LIBRARY pan > pan.def
> echo EXPORTS >> pan.def
> nm pan.a > Defs
> sed -n '/^........ [BCDRT] _/s/^........ [BCDRT] _/ /p' Defs 
> >> pan.def
> rm -f Defs
> gcc  --shared   -o pan.dll pan.def pan.a   -lg2c
> d:/uwe-ns/R140-071201/bin/R.dll
> 
> 
> OK. This works now --- without any quotes - but where is the error?
> 
> The following line also works (other kind of quotes):
> 
> make -f d:/uwe-ns/R140-071201/src/gnuwin32/MakeDll
> RHOME=d:/uwe-ns/R140-071201 DEBUG=T DLLNAME=pan CFSOURCES="pan.f"
> CXXSOURCES="" RCOBJ=
> 
> 
> As a summary: Changing the relevant line in SHLIB to
> system("make -f $R_HOME/src/gnuwin32/MakeDll RHOME=$R_HOME $debug
> DLLNAME=$dllname CFSOURCES=$srcs CXXSOURCES=$cxx RCOBJ=");
> 
> works, but that's not a general solution. And "double-quotes" 
> cannot be
> used two times.
> Any ideas?
> 
> 
> > > I compiled R from source, so I'm quite sure I've got all 
> the right tools.
> > > Can anyone explain what I'm missing?  The FAQ only 
> mentioned compiling C
> > > code.  I'd imagine that Fortran code works the same way, no?
> > >
> > > Any help/hint are much appreciated!
> 
> Uwe
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Dec 12 13:54:29 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 12 Dec 2001 13:54:29 +0000 (GMT)
Subject: [Rd] RE: [R] Rcmd SHLIB problem
In-Reply-To: <51F9C42DA15CD311BD220008C707D81903DC840D@usrymx10.merck.com>
Message-ID: <Pine.LNX.4.31.0112121348350.3879-100000@gannet.stats>

On Wed, 12 Dec 2001, Liaw, Andy wrote:

> Yes, changing line 67 of SHLIB as Uwe suggested worked:
>
> C:\TEMP>Rcmd SHLIB tryf.f
> make[1]: `libR.a' is up to date.
> rm -f -f tryf.a
> ar cr tryf.a *.o
> ranlib tryf.a
> ------- Building tryf.dll from tryf.a --------
> echo LIBRARY tryf > tryf.def
> echo EXPORTS >> tryf.def
> nm tryf.a > Defs
> sed -n '/^........ [BCDRT] _/s/^........ [BCDRT] _/ /p' Defs >> tryf.def
> rm -f Defs
> gcc  --shared -s  -o tryf.dll tryf.def tryf.a  -Lc:/progra~1/R/rw1031/src/
> gnuwin32  -lg2c -Lc:/Rtools/ATLAS/lib/WinNT_PIIISSE1 -lcblas -lf77blas
> -latlas -lR
>
> Thanks very much for the (temporary) solution.  The question is, could this
> be a permanent fix?

No.  It only works for one input file.  The quotes were not there for fun!
(Also names with spaces in.)

We think this may be a perl version problem.  Uwe has build 623. I have
build 630.  Quite a few things malfunctioned with 623 for me under Windows
98.  What do you have?


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From andy_liaw@merck.com  Wed Dec 12 14:07:28 2001
From: andy_liaw@merck.com (Liaw, Andy)
Date: Wed, 12 Dec 2001 09:07:28 -0500
Subject: [Rd] RE: [R] Rcmd SHLIB problem
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC840E@usrymx10.merck.com>

Prof. Ripley,

Seems like mine is 629:

c:\home>perl -v

This is perl, v5.6.1 built for MSWin32-x86-multi-thread
(with 1 registered patch, see perl -V for more detail)

Copyright 1987-2001, Larry Wall

Binary build 629 provided by ActiveState Tool Corp.
http://www.ActiveState.com
Built 12:27:04 Aug 20 2001

Will try a newer build and see.

Regards,
Andy

> -----Original Message-----
> From: Prof Brian Ripley [mailto:ripley@stats.ox.ac.uk]
> Sent: Wednesday, December 12, 2001 8:54 AM
> To: Liaw, Andy
> Cc: 'Uwe Ligges'; R-devel
> Subject: Re: [Rd] RE: [R] Rcmd SHLIB problem
> 
> 
> On Wed, 12 Dec 2001, Liaw, Andy wrote:
> 
> > Yes, changing line 67 of SHLIB as Uwe suggested worked:
> >
> > C:\TEMP>Rcmd SHLIB tryf.f
> > make[1]: `libR.a' is up to date.
> > rm -f -f tryf.a
> > ar cr tryf.a *.o
> > ranlib tryf.a
> > ------- Building tryf.dll from tryf.a --------
> > echo LIBRARY tryf > tryf.def
> > echo EXPORTS >> tryf.def
> > nm tryf.a > Defs
> > sed -n '/^........ [BCDRT] _/s/^........ [BCDRT] _/ /p' 
> Defs >> tryf.def
> > rm -f Defs
> > gcc  --shared -s  -o tryf.dll tryf.def tryf.a  
> -Lc:/progra~1/R/rw1031/src/
> > gnuwin32  -lg2c -Lc:/Rtools/ATLAS/lib/WinNT_PIIISSE1 
> -lcblas -lf77blas
> > -latlas -lR
> >
> > Thanks very much for the (temporary) solution.  The 
> question is, could this
> > be a permanent fix?
> 
> No.  It only works for one input file.  The quotes were not 
> there for fun!
> (Also names with spaces in.)
> 
> We think this may be a perl version problem.  Uwe has build 
> 623. I have
> build 630.  Quite a few things malfunctioned with 623 for me 
> under Windows
> 98.  What do you have?
> 
> 
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@nokomis.stat.umn.edu  Wed Dec 12 15:51:46 2001
From: luke@nokomis.stat.umn.edu (Luke Tierney)
Date: Wed, 12 Dec 2001 09:51:46 -0600
Subject: [Rd] crash bug in get("function.name")() (PR#1211)
In-Reply-To: <x23d2g37o4.fsf@blueberry.kubism.ku.dk>; from p.dalgaard@biostat.ku.dk on Wed, Dec 12, 2001 at 02:11:07PM +0100
References: <200112112232.XAA15690@pubhealth.ku.dk> <3C16912C.75907CDA@statistik.uni-dortmund.de> <200112120020.fBC0KKL2512179@surfer.sbm.temple.edu> <x23d2g37o4.fsf@blueberry.kubism.ku.dk>
Message-ID: <20011212095146.A12155@nokomis.stat.umn.edu>

I don't think I'll get to look at this cerefully today, but here is
just a thought: My recollection is that NextMethod needs to be called
only from within a usemethod dispatch because the dispatch needs to
set up stuff in the environment that NextMethod needs.  If you do

print.a <- function(...) NextMethod()

and then call print.a directly then the stuff NextMethod needs isn't
set up, so NextMethod can't do anything useful.  I think the
do_nextmethod tries to detect this and raise an error, but for some
reason it isn't detecting the problem here.

luke

On Wed, Dec 12, 2001 at 02:11:07PM +0100, Peter Dalgaard BSA wrote:
> Rich Heiberger <rmh@surfer.sbm.temple.edu> writes:
> 
> > Peter, your explanation looks right to me, and is certainly consistent
> > with the crash behavior of
> > get("print.a")
> > The R-1.4.0 error message is a good check.
> > 
> > I would think the explanation should prevent the other example from
> > working as well.  But this one works
> > get("print.factor")(tmp)
> > exactly as expected.
> > 
> > Both of these examples work correctly in S-Plus 4.5
> 
> (S-PLUS 3.4 too)
> 
> There's no NextMethod in print.factor, but I was wrong on the other
> example: It has NextMethod("print",....) with an explicit generic, so
> I don't think it should go near the CAR(call) bit at all.
> 
> I'll take a closer look, but there's also a few other nasty bugs
> nagging us at the moment, and this looks like it could require surgery
> to do_nextmethod with some risk of complications.
> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke@stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@nokomis.stat.umn.edu  Wed Dec 12 15:52:06 2001
From: luke@nokomis.stat.umn.edu (luke@nokomis.stat.umn.edu)
Date: Wed, 12 Dec 2001 16:52:06 +0100 (MET)
Subject: [Rd] crash bug in get("function.name")() (PR#1211)
Message-ID: <200112121552.QAA25631@pubhealth.ku.dk>

I don't think I'll get to look at this cerefully today, but here is
just a thought: My recollection is that NextMethod needs to be called
only from within a usemethod dispatch because the dispatch needs to
set up stuff in the environment that NextMethod needs.  If you do

print.a <- function(...) NextMethod()

and then call print.a directly then the stuff NextMethod needs isn't
set up, so NextMethod can't do anything useful.  I think the
do_nextmethod tries to detect this and raise an error, but for some
reason it isn't detecting the problem here.

luke

On Wed, Dec 12, 2001 at 02:11:07PM +0100, Peter Dalgaard BSA wrote:
> Rich Heiberger <rmh@surfer.sbm.temple.edu> writes:
> 
> > Peter, your explanation looks right to me, and is certainly consistent
> > with the crash behavior of
> > get("print.a")
> > The R-1.4.0 error message is a good check.
> > 
> > I would think the explanation should prevent the other example from
> > working as well.  But this one works
> > get("print.factor")(tmp)
> > exactly as expected.
> > 
> > Both of these examples work correctly in S-Plus 4.5
> 
> (S-PLUS 3.4 too)
> 
> There's no NextMethod in print.factor, but I was wrong on the other
> example: It has NextMethod("print",....) with an explicit generic, so
> I don't think it should go near the CAR(call) bit at all.
> 
> I'll take a closer look, but there's also a few other nasty bugs
> nagging us at the moment, and this looks like it could require surgery
> to do_nextmethod with some risk of complications.
> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke@stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Dec 12 16:35:53 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 12 Dec 2001 16:35:53 +0000 (GMT)
Subject: [Rd] Re: [R] Rcmd SHLIB problem
In-Reply-To: <3C174D75.5B75BD7E@statistik.uni-dortmund.de>
Message-ID: <Pine.LNX.4.31.0112121632180.4155-100000@gannet.stats>

The answer seems to be: make sure you are using the tools in a current
tools.zip.  Neither Andy nor Uwe were.  Both the version of make.exe and
cygwin1.dll are critical.

It's also wise to have a fairly recent version of Perl (628 or later), as
some earlier ones made errors in calls to system() (as used in Rcmd
SHLIB) on Win 9x.

On Wed, 12 Dec 2001, Uwe Ligges wrote:

> [moved to R-devel]
>
> Prof Brian Ripley wrote:
> >
> > it should and does work with Fortran (and C++) files.  The right format is
> >
> > Rcmd SHLIB tryf.f
> >
> > I've just tested that under rw1031 and the pretest of 1.4.0, so I've
> > no idea what's up for you.
> > B

[...]

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From andy_liaw@merck.com  Wed Dec 12 16:46:32 2001
From: andy_liaw@merck.com (Liaw, Andy)
Date: Wed, 12 Dec 2001 11:46:32 -0500
Subject: [Rd] Re: [R] Rcmd SHLIB problem
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC8411@usrymx10.merck.com>

> From: Prof Brian Ripley [mailto:ripley@stats.ox.ac.uk]
> 
> The answer seems to be: make sure you are using the tools in a current
> tools.zip.  Neither Andy nor Uwe were.  Both the version of 
> make.exe and
> cygwin1.dll are critical.
> 
> It's also wise to have a fairly recent version of Perl (628 
> or later), as
> some earlier ones made errors in calls to system() (as used in Rcmd
> SHLIB) on Win 9x.

Indeed.  The cygwin1.dll I have in c:\cygwin\bin has date stamp later than
the one in Rtools.zip, and that's the problem.  Taking c:\cygwin\bin out of
the PATH solved the problem.  I don't remember why I had \cygwin\bin in the
PATH.  The default setup for bash adds the needed directories to the path
anyway.

Thanks very much to Prof. Ripley and Uwe Ligges for the help!!

Regards,
Andy 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Wed Dec 12 18:04:17 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Wed, 12 Dec 2001 19:04:17 +0100
Subject: [Rd] windows testing
Message-ID: <3C179C21.B7258EE@univie.ac.at>


with 

R-devel_2001-12-12.tar.gz

on win32k

i cannot comlete i build, i get

make -C front-ends
make[1]: Entering directory
`/cygdrive/d/Work/R-devel/src/gnuwin32/front-ends'
gcc  -c -o graphappmain.o -I../graphapp -O2 -Wall -pedantic
-I../../include ../g
raphapp/graphappmain.c
gcc  -O2 -Wall -pedantic -I../../include -DWin32 -c rgui.c -o rgui.o
windres   -i rgico.rc -o rgico.o
gcc  -s -mwindows -o Rgui.exe graphappmain.o rgui.o rgico.o -L.. -lRm
d:\Rtools\bin\..\lib\gcc-lib\mingw32\2.95.3-6\..\..\..\..\mingw32\bin\ld.exe:
ca
nnot find -lRm
make[1]: *** [Rgui.exe] Error 1
make[1]: Leaving directory
`/cygdrive/d/Work/R-devel/src/gnuwin32/front-ends'
make: *** [front-ends] Error 2


doing it with
R-devel_2001-12-07.tar.gz
works, however



--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Wed Dec 12 19:00:05 2001
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Wed, 12 Dec 2001 14:00:05 -0500
Subject: [Rd] windows testing
In-Reply-To: <3C179C21.B7258EE@univie.ac.at>
References: <3C179C21.B7258EE@univie.ac.at>
Message-ID: <76af1ugfqan4jv61te6oropsb95io69j4o@4ax.com>

On Wed, 12 Dec 2001 19:04:17 +0100, you wrote in message
<3C179C21.B7258EE@univie.ac.at>:

>
>with 
>
>R-devel_2001-12-12.tar.gz
>
>on win32k
>
>i cannot comlete i build, i get

>gcc  -s -mwindows -o Rgui.exe graphappmain.o rgui.o rgico.o -L.. -lRm
>d:\Rtools\bin\..\lib\gcc-lib\mingw32\2.95.3-6\..\..\..\..\mingw32\bin\ld.exe:
>ca
>nnot find -lRm

Today's Makefile is missing a dependency; you need to do

 make libRm.a

in the gnuwin32 directory.  After that things should be fine.  (Or
wait for tomorrow's version!)

Duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jmc@research.bell-labs.com  Wed Dec 12 20:24:44 2001
From: jmc@research.bell-labs.com (John Chambers)
Date: Wed, 12 Dec 2001 15:24:44 -0500
Subject: [Rd] Changes to methods package in R 1.4
Message-ID: <3C17BD0C.38F20F90@research.bell-labs.com>

A few recent changes:

- as announced to R-core, the package now has a version of the plot
function with formal arguments (x, y, ...) that allow methods to be
defined for x and/or y.  ?setMethod has some examples.

- The "basic classes" have been made somewhat more complete (class
"structure" was added, along with relations among it, "matrix", "array",
"ts", and "vector").  Closer to the green book and conventional S
relations.
  For 1.4, this doesn't quite go as far as having formal slots for
"matrix", etc.  Formal slots for these classes should work, but there
may be some touchy points in back-compatibility, particularly with the
"optional" dimnames slot for arrays, so the plan is to leave that for
the next version.

- A number of checks for duplicate slots and other problems have been
added.  Situations were being let through that could cause bad problems
later (e.g., slots with different classes in inherited duplicates).  An
example was added to ?setClass illustrating what's caught by some of the
checks.

John
-- 
John M. Chambers                  jmc@bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Thu Dec 13 13:38:30 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Thu, 13 Dec 2001 14:38:30 +0100
Subject: [Rd] windows build
Message-ID: <3C18AF56.B83088C8@univie.ac.at>

with todays r-devel..tar.gz

make distribution 
hangs on my win98 machine.

this is the las message i see

MAKE[2]: Leaving directory
`/cygdrive/c/devel/R-devel/src/gnuwin32/bitmap/jpeg-6
b'
cp Rbitmap.dll ../../../bin
MAKE[1]: Leaving directory
`/cygdrive/c/devel/R-devel/src/gnuwin32/bitmap'

after that, the it seems that sed is running
and somehow hangs.

i do have the tools from brians www page.

one thing i noticed is that both brianks kit and the
mingw compiler have a make.
which one should be used for compiling?







--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From possolo@crd.ge.com  Thu Dec 13 14:41:07 2001
From: possolo@crd.ge.com (possolo@crd.ge.com)
Date: Thu, 13 Dec 2001 15:41:07 +0100 (MET)
Subject: [Rd] sample (PR#1212)
Message-ID: <200112131441.PAA07523@pubhealth.ku.dk>

Full_Name: Antonio Possolo
Version: 1.3.1
OS: Linux (RH 7.1), Windows 2000
Submission from: (NULL) (192.35.44.3)


A FEATURE THAT EASILY GENERATES BUGS

sample(pi, size=1) produces 1, 2, or 3.
sample(c(pi, pi), size=1) produces 3.141593 always.

Although this conforms with the behavior explained in the help page for
"sample",
the behavior for the case where x (in sample(x, ...)) has length 1 can easily
lead to errors if x is generated automatically and one neglects to check its
length before sampling from it.

I believe it would be safest to require x to be always the full set of values
one wishes to sample from, and remove the special meaning that is attached
to the case when x is of length 1.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Thu Dec 13 15:26:46 2001
From: murdoch@stats.uwo.ca (murdoch@stats.uwo.ca)
Date: Thu, 13 Dec 2001 16:26:46 +0100 (MET)
Subject: [Rd] Doc suggestion for detach (and library) (PR#1213)
Message-ID: <200112131526.QAA08391@pubhealth.ku.dk>

The example in ?detach says

     ## could equally well use detach("package:eda")
     ## but NOT  pkg <- "package:eda"; detach(pkg)

It would be helpful if the code to do what was meant above was given,
e.g.

     ## Instead, use

     library(eda)
     pkg <- "package:eda"
     detach(pos = match(pkg,search()))

It might also be helpful to include a "character.only" example in the
help for library.

Duncan Murdoch

--please do not edit the information below--

Version:
 platform = i386-pc-mingw32
 arch = x86
 os = Win32
 system = x86, Win32
 status = Under development (unstable)
 major = 1
 minor = 4.0
 year = 2001
 month = 12
 day = 13
 language = R

Windows 98 4.10 (build 1998)  

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Thu Dec 13 15:33:30 2001
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Thu, 13 Dec 2001 10:33:30 -0500
Subject: [Rd] Windows testing
In-Reply-To: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>
References: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>
Message-ID: <6fih1uk81od2d26eqam0g1ejm4iod9tg2q@4ax.com>

I've just put today's Window's build online at 

 <http://www.stats.uwo.ca/faculty/murdoch/software/r-devel> 

I won't be able to update it again before Monday.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Dec 13 15:50:22 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Dec 2001 16:50:22 +0100
Subject: [Rd] error in qbeta (PR#1201)
In-Reply-To: <x2her0xsoy.fsf@blueberry.kubism.ku.dk>
References: <200112091257.NAA17087@pubhealth.ku.dk>
 <x2her0xsoy.fsf@blueberry.kubism.ku.dk>
Message-ID: <x27krrt8zl.fsf@blueberry.kubism.ku.dk>

Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:

> z.yang@ucl.ac.uk writes:

> > I noticed that qbeta is sometimes wrong and the error is not even due to the
> > beta parameters being too extreme.  I am calculating the quantiles corresponding
> > to cdf = 0.05, 0.15, ..., 0.95.  The value corresponding to cdf=0.25 is wrong
> > while all other values are correct.  
> > 
> > qbeta(0.05, 0.143891, 0.05) = 1.040850e-05   correct
> > qbeta(0.15, 0.143891, 0.05) = 0.021161       correct
> > qbeta(0.25, 0.143891, 0.05) = 3e-308         wrong (correct value is 0.457227)
> > qbeta(0.35, 0.143891, 0.05) = 0.945217       correct
> > 
> > I also used your source file qbeta.c to do the same calculation, and it seems
> > that something might be wrong in the "initial approximation", before the
> > newton-raphson iteration. 

Thanks for reporting this.

We think we have a better version in the current snapshots for 1.4.0
(available at http://www.stats.uwo.ca/faculty/murdoch/software/r-devel)

It turns out that the initial approximation simply isn't very good in
this case, it becomes negative and the algorithms sets it to a small
number. This is true of the original Fortran code too, but we had
chosen a rather smaller small number and that caused the algorithm to
converge falsely. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Thu Dec 13 16:16:10 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Thu, 13 Dec 2001 17:16:10 +0100
Subject: [Rd] windows build
References: <51F9C42DA15CD311BD220008C707D81903DC841A@usrymx10.merck.com>
Message-ID: <3C18D44A.8288A291@univie.ac.at>

it seems that my problem once again was a leftover cygwin1.dll
in another directory which is NOT in the path.

i think we had a report about this problem
on the list some days ago.

after renaming ALL cygwin1.dll's 
except the one in the directory with brian's tools
things worked smoothly again.




"Liaw, Andy" wrote:
> 
> > one thing i noticed is that both brianks kit and the
> > mingw compiler have a make.
> > which one should be used for compiling?
> 
> The one in Prof. Ripley's Rtools.zip is extracted from cygwin.  I recalled
> reading somewhere in the instruction that the one in minGW sometimes doesn't
> work.
> 
> Andy

--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rmh@surfer.sbm.temple.edu  Thu Dec 13 18:44:56 2001
From: rmh@surfer.sbm.temple.edu (rmh@surfer.sbm.temple.edu)
Date: Thu, 13 Dec 2001 19:44:56 +0100 (MET)
Subject: [Rd] syntax questtion, maybe a bug (PR#1214)
Message-ID: <200112131844.TAA09960@pubhealth.ku.dk>


S-Plus takes names of the form ".2logl" since it sees a single set of
letters beginning with "." and continuing with alphanumerics.
> .2logl <- function(x) 2*log(x)
> .2logl(3)
[1] 2.197225
>

The same name is rejected by R, my guess is that the ".2" is recognized as
a number and then there is no operator symbol between the "2" and the
following alphabet symbols.
> .2logl <- function(x) 2*log(x)
Error: syntax error

Is this an intentional syntax difference between R and S?  Or is it a bug?


(continue)
I am using rw1031 Version 1.3.1  (2001-08-31) on windows.

Rich

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rpeng@stat.ucla.edu  Thu Dec 13 19:51:24 2001
From: rpeng@stat.ucla.edu (rpeng@stat.ucla.edu)
Date: Thu, 13 Dec 2001 20:51:24 +0100 (MET)
Subject: [Rd] Error when library() called with no arguments (PR#1215)
Message-ID: <200112131951.UAA10233@pubhealth.ku.dk>

Full_Name: Roger peng
Version: 1.4.0 (2001-12-13)
OS: GNU/Linux (Redhat 7.1)
Submission from: (NULL) (128.97.86.126)


R compiles fine and runs, but when I call the library() function with no
arguments I get the error:

> library()
Error in FUN(X[[2]], ...) : subscript out of bounds
make check also fails when running code in base-Ex.R (I'm assuming it fails
where library() function is called).

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Dec 13 19:59:45 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 13 Dec 2001 20:59:45 +0100 (MET)
Subject: [Rd] Error when library() called with no arguments (PR#1215)
Message-ID: <200112131959.UAA10287@pubhealth.ku.dk>

On Thu, 13 Dec 2001 rpeng@stat.ucla.edu wrote:

> Full_Name: Roger peng
> Version: 1.4.0 (2001-12-13)
> OS: GNU/Linux (Redhat 7.1)
> Submission from: (NULL) (128.97.86.126)
>
>
> R compiles fine and runs, but when I call the library() function with no
> arguments I get the error:
>
> > library()
> Error in FUN(X[[2]], ...) : subscript out of bounds
> make check also fails when running code in base-Ex.R (I'm assuming it fails
> where library() function is called).

That's not very informative.  Could you at least run traceback(),
and/or run debug() and chase it down?

It works on all my systems: might you perchance have a broken package
installed?  The likelihod is that it a local-to-you problem.

We can't fix non-repoducible problems!

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Dec 13 21:38:33 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Dec 2001 22:38:33 +0100
Subject: [Rd] Error when library() called with no arguments (PR#1215)
In-Reply-To: <200112131959.UAA10287@pubhealth.ku.dk>
References: <200112131959.UAA10287@pubhealth.ku.dk>
Message-ID: <x23d2eajhi.fsf@blueberry.kubism.ku.dk>

ripley@stats.ox.ac.uk writes:

> On Thu, 13 Dec 2001 rpeng@stat.ucla.edu wrote:
> 
> > Full_Name: Roger peng
> > Version: 1.4.0 (2001-12-13)
> > OS: GNU/Linux (Redhat 7.1)
> > Submission from: (NULL) (128.97.86.126)
> >
> >
> > R compiles fine and runs, but when I call the library() function with no
> > arguments I get the error:
> >
> > > library()
> > Error in FUN(X[[2]], ...) : subscript out of bounds
> > make check also fails when running code in base-Ex.R (I'm assuming it fails
> > where library() function is called).
> 
> That's not very informative.  Could you at least run traceback(),
> and/or run debug() and chase it down?
> 
> It works on all my systems: might you perchance have a broken package
> installed?  The likelihod is that it a local-to-you problem.
> 
> We can't fix non-repoducible problems!

I don't see it either - on both my RH7.1 systems. Was this a run from
a clean slate or on top of a previous build? Any warnings/error during
configuration or building? 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rmh@surfer.sbm.temple.edu  Fri Dec 14 04:40:07 2001
From: rmh@surfer.sbm.temple.edu (Rich Heiberger)
Date: Thu, 13 Dec 2001 23:40:07 -0500 (EST)
Subject: [Rd] crash bug in get("function.name")() (PR#1211)
References: <200112112232.XAA15690@pubhealth.ku.dk>
 <3C16912C.75907CDA@statistik.uni-dortmund.de>
 <200112120020.fBC0KKL2512179@surfer.sbm.temple.edu>
 <x23d2g37o4.fsf@blueberry.kubism.ku.dk>
Message-ID: <200112140440.fBE4e7R2530944@surfer.sbm.temple.edu>

I tried the same exercise in S-Plus 6.  S-Plus 6 rejects any direct use
of a method.  It requires use of the generic.  It provides an error message
that might make sense to us, but probably not to a user.  The message
is consistent with Luke's intuition of coming into the middle of a sequence
that was not properly initiated with UseMethod.

Professional Edition Version 6.0.3 Release 2 for Microsoft Windows : 2001 

> tmp <- factor(1:3)
> tmp
[1] 1 2 3
> print.factor(tmp)
Warning messages:
  the "..." object should be a list but has mode "missing"
Problem in NextMethod("print", quote = quote): argument "..1" is missing with no default 
Use traceback() to see the call stack
> get("print.factor")(tmp)
Warning messages:
  the "..." object should be a list but has mode "missing"
Problem in NextMethod("print", quote = quote): argument "..1" is missing with no default 
Use traceback() to see the call stack
> 
> get("print")(tmp)
[1] 1 2 3
>

Rich
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Dec 14 06:31:19 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 14 Dec 2001 06:31:19 +0000 (GMT)
Subject: [Rd] crash bug in get("function.name")() (PR#1211)
In-Reply-To: <200112140440.fBE4e7R2530944@surfer.sbm.temple.edu>
Message-ID: <Pine.GSO.4.31.0112140621290.2243-100000@auk.stats>

On Thu, 13 Dec 2001, Rich Heiberger wrote:

> I tried the same exercise in S-Plus 6.  S-Plus 6 rejects any direct use
> of a method.  It requires use of the generic.  It provides an error message

It only does that for S4-style formal methods, but some care is needed
with S3-style ones.

> that might make sense to us, but probably not to a user.  The message
> is consistent with Luke's intuition of coming into the middle of a sequence
> that was not properly initiated with UseMethod.
>
> Professional Edition Version 6.0.3 Release 2 for Microsoft Windows : 2001
>
> > tmp <- factor(1:3)
> > tmp
> [1] 1 2 3
> > print.factor(tmp)
> Warning messages:
>   the "..." object should be a list but has mode "missing"
> Problem in NextMethod("print", quote = quote): argument "..1" is missing with no default
> Use traceback() to see the call stack
> > get("print.factor")(tmp)
> Warning messages:
>   the "..." object should be a list but has mode "missing"
> Problem in NextMethod("print", quote = quote): argument "..1" is missing with no default
> Use traceback() to see the call stack
> >

Well, it works if called properly:

print.factor(tmp, quote = F)
[1] 1 2 3

> get("print.factor")(tmp, quote = F)
[1] 1 2 3

The issue is to do with optimizing the evaluation of arguments, and
indeed whether the default is taken from the generic or the method.

Note that `S-Plus 6' is not a single entity: the behaviour of
method dispatch differs between 6.0.y versions.  Later ones are stricter
about argument sequence matching between methods and generics (and that is
why R's QA tools have a strict interpretation too, since they must now be
regarded as `standard S').


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Fri Dec 14 08:30:58 2001
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Fri, 14 Dec 2001 09:30:58 +0100 (MET)
Subject: [Rd] sample (PR#1212)
Message-ID: <200112140830.JAA12969@pubhealth.ku.dk>

>>>>> "possolo" == possolo  <possolo@crd.ge.com> writes:

    possolo> Full_Name: Antonio Possolo Version: 1.3.1 OS: Linux
    possolo> (RH 7.1), Windows 2000 Submission from: (NULL)


    possolo> A FEATURE THAT EASILY GENERATES BUGS

    possolo> sample(pi, size=1) produces 1, 2, or 3.
    possolo> sample(c(pi, pi), size=1) produces 3.141593 always.

    possolo> Although this conforms with the behavior explained
    possolo> in the help page for "sample", the behavior for the
    possolo> case where x (in sample(x, ...)) has length 1 can
    possolo> easily lead to errors if x is generated
    possolo> automatically and one neglects to check its length
    possolo> before sampling from it.

I completely share your opinion; and we (not I) only recently
had a case where a user-written function did not work in some
cases when     sample(iv, ...)   was used, with an integer 
vector iv which sometimes (rarely) was of length one.
In your case with `pi' (which is not an integer), we could make
sample() give a warning at least instead of silently coercing to
integer; in our case however, iv[] *is* an integer vector, just
sometimes of length 1 which is inherently ``non-decidable''.

The reason sample() works as it does is S - compatibility
and that *is* important.

    possolo> I believe it would be safest to require x to be
    possolo> always the full set of values one wishes to sample
    possolo> from, and remove the special meaning that is
    possolo> attached to the case when x is of length 1.

What we *could* consider instead,  without breaking back-compatibility,
is adding an additional argument `isVector', e.g.

   sample (x, size, replace = FALSE, prob = NULL, isVector = FALSE) 

such that if you use

     sample(pi, size = 1, isV = TRUE)

you would always get 3.14159..
This would add least make the user written code much nicer to
read than (what is currently needed)

     i.rand <- if(length(iv) == 1) iv  else  sample(iv, .....)


Other opinions?  {from Insightful as well -- this would be worth
		 doing in all implementations of S}

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From andy_liaw@merck.com  Fri Dec 14 13:35:56 2001
From: andy_liaw@merck.com (Liaw, Andy)
Date: Fri, 14 Dec 2001 08:35:56 -0500
Subject: [Rd] sample (PR#1212)
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC8421@usrymx10.merck.com>

> From: maechler@stat.math.ethz.ch [mailto:maechler@stat.math.ethz.ch]
> 
> >>>>> "possolo" == possolo  <possolo@crd.ge.com> writes:
> 
>     possolo> Full_Name: Antonio Possolo Version: 1.3.1 OS: Linux
>     possolo> (RH 7.1), Windows 2000 Submission from: (NULL)
> 
> 
>     possolo> A FEATURE THAT EASILY GENERATES BUGS
> 
>     possolo> sample(pi, size=1) produces 1, 2, or 3.
>     possolo> sample(c(pi, pi), size=1) produces 3.141593 always.
> 
>     possolo> Although this conforms with the behavior explained
>     possolo> in the help page for "sample", the behavior for the
>     possolo> case where x (in sample(x, ...)) has length 1 can
>     possolo> easily lead to errors if x is generated
>     possolo> automatically and one neglects to check its length
>     possolo> before sampling from it.
> 
> I completely share your opinion; and we (not I) only recently
> had a case where a user-written function did not work in some
> cases when     sample(iv, ...)   was used, with an integer 
> vector iv which sometimes (rarely) was of length one.
> In your case with `pi' (which is not an integer), we could make
> sample() give a warning at least instead of silently coercing to
> integer; in our case however, iv[] *is* an integer vector, just
> sometimes of length 1 which is inherently ``non-decidable''.
> 
> The reason sample() works as it does is S - compatibility
> and that *is* important.
> 
>     possolo> I believe it would be safest to require x to be
>     possolo> always the full set of values one wishes to sample
>     possolo> from, and remove the special meaning that is
>     possolo> attached to the case when x is of length 1.
> 
> What we *could* consider instead,  without breaking 
> back-compatibility,
> is adding an additional argument `isVector', e.g.
> 
>    sample (x, size, replace = FALSE, prob = NULL, isVector = FALSE) 
> 
> such that if you use
> 
>      sample(pi, size = 1, isV = TRUE)
> 
> you would always get 3.14159..
> This would add least make the user written code much nicer to
> read than (what is currently needed)
> 
>      i.rand <- if(length(iv) == 1) iv  else  sample(iv, .....)
> 
> 
> Other opinions?  {from Insightful as well -- this would be worth
> 		 doing in all implementations of S}

I like Martin's suggestion of adding an argument.  

What I have done previously, when I encountered this problem, is simply to
make a local copy of 'sample', called it 'mysample', and modify it so it
handles scalar argument as described above.  This is simple enough that I
wonder whether it is worth it to change the core code.  If R Core (and maybe
Insightful) are kind enough to make this change, I can only be happier.

Cheers,
Andy

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kjetilh@umsanet.edu.bo  Fri Dec 14 15:56:16 2001
From: kjetilh@umsanet.edu.bo (kjetilh@umsanet.edu.bo)
Date: Fri, 14 Dec 2001 16:56:16 +0100 (MET)
Subject: [Rd] binomial null model (PR#1216)
Message-ID: <200112141556.QAA19563@pubhealth.ku.dk>


> y <- rbinom(20,1,0.5)
> glm( y ~ 0, family=binomial)
Error in any(n > 1) : Object "n" not found
> debug(glm)
> debug(glm.fit.null)
> glm( y ~ 0, family=binomial)
debugging in: glm(y ~ 0, family = binomial)
debug: {
.
.
.
Browse[1]> n
debug: aic.model <- family$aic(y, n, mu, weights, dev)
Browse[1]> print(n)
Error in print(n) : Object "n" not found
Browse[1]> get("n", envir=environment(family$aic))
Error in get(x, envir, mode, inherits) : variable "n" was not found
Browse[1]> n
Error in any(n > 1) : Object "n" not found

The call to any(n > 1) is inside family$aic. This n apparently needs to
be calculated somewhere.

(This is R1.3.1 on windows 98)

Kjetil Halvorsen

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Fri Dec 14 16:25:12 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Fri, 14 Dec 2001 17:25:12 +0100
Subject: [Rd] Windows testing
References: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats> <6fih1uk81od2d26eqam0g1ejm4iod9tg2q@4ax.com>
Message-ID: <3C1A27E8.F15D0B04@univie.ac.at>

since duncan murdoch cannot do it at the moment,
i put todays windows build at

http://mailbox.univie.ac.at/erich.neuwirth/r-devel/SetupR.exe


--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Fri Dec 14 22:45:00 2001
From: bates@stat.wisc.edu (Douglas Bates)
Date: 14 Dec 2001 16:45:00 -0600
Subject: [Rd] Test builds of Debian packages for R-1.4.0
Message-ID: <6r8zc5e80j.fsf@franz.stat.wisc.edu>

Test builds of the Debian packages for R-1.4.0 are available at
               http://cvs.r-project.org/~bates/R-debian

These packages are regenerated daily but the version number stays at
1.4.0-0, indicating that they are prerelease packages.  They are
created on a machine running the "woody" or testing release of Debian
GNU/Linux, which will become Debian 3.0.  They will not install on a
machine running Debian 2.2, the "potato" release, because of package
dependencies.

Thanks to Dirk Eddelbuettell for his work in creating these packages.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jmbarani@wanadoo.fr  Sat Dec 15 15:53:31 2001
From: jmbarani@wanadoo.fr (jmbarani@wanadoo.fr)
Date: Sat, 15 Dec 2001 16:53:31 +0100 (MET)
Subject: [Rd] problem (PR#1217)
Message-ID: <200112151553.QAA23298@pubhealth.ku.dk>

C'est un message de format MIME en plusieurs parties.

------=_NextPart_000_01D8_01C18589.2166E610
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Please, could you tell us how to get the setupR.exe.....because as we =
downloaded the whole R-1.3.1 and the R-1.3.1 recommanded on the site =
"cran.r-project.org" , we did not find the requested file the set up the =
installation...Thank you for your help

Jean-Michel BARANI

------=_NextPart_000_01D8_01C18589.2166E610
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Diso-8859-1">
<META content=3D"MSHTML 5.50.4134.600" name=3DGENERATOR>
<STYLE></STYLE>
</HEAD>
<BODY bgColor=3D#ffffff>
<DIV><FONT face=3DArial size=3D2>Please, could you tell us how to get =
the=20
setupR.exe.....because as we downloaded the whole R-1.3.1 and the =
R-1.3.1=20
recommanded on the site "cran.r-project.org" , we did not find the =
requested=20
file the set up the installation...Thank you for your help</FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>Jean-Michel =
BARANI</FONT></DIV></BODY></HTML>

------=_NextPart_000_01D8_01C18589.2166E610--


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sat Dec 15 16:26:55 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 Dec 2001 17:26:55 +0100
Subject: [Rd] problem (PR#1217)
In-Reply-To: <200112151553.QAA23298@pubhealth.ku.dk>
References: <200112151553.QAA23298@pubhealth.ku.dk>
Message-ID: <x2pu5gphyo.fsf@blueberry.kubism.ku.dk>

jmbarani@wanadoo.fr writes:

> Please, could you tell us how to get the setupR.exe.....because as we =
> downloaded the whole R-1.3.1 and the R-1.3.1 recommanded on the site =
> "cran.r-project.org" , we did not find the requested file the set up the =
> installation...Thank you for your help
> 
> Jean-Michel BARANI

What gives you the idea that this is a bug? 

If you want the precompiled binary distribution for Windows (95 or
later), I suggest that you try the link labeled "Windows (95 or
later)" under "Precompiled binary distributions" on the CRAN page.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Sat Dec 15 21:46:58 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Sat, 15 Dec 2001 22:46:58 +0100
Subject: [Rd] problem (PR#1217)
References: <200112151553.QAA23298@pubhealth.ku.dk> <x2pu5gphyo.fsf@blueberry.kubism.ku.dk>
Message-ID: <3C1BC4D2.36A0FD24@univie.ac.at>

today's windows build again is available at

http://mailbox.univie.ac.at/erich.neuwirth/r-devel/SetupR.exe

--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Sat Dec 15 23:23:51 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Sun, 16 Dec 2001 00:23:51 +0100
Subject: [Rd] windows testing and oops
Message-ID: <3C1BDB87.B69D08DD@univie.ac.at>

today's windows build again is available at

http://mailbox.univie.ac.at/erich.neuwirth/r-devel/SetupR.exe

and my last message stating this had the wrong subject line.
excuse me.


--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Sun Dec 16 14:59:46 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Sun, 16 Dec 2001 15:59:46 +0100
Subject: [Rd] windows testing, internet
Message-ID: <3C1CB6E2.2A955B56@univie.ac.at>

doing 
make -f Makewfile.win test-Internet
in tests
gave

 
make[1]: Leaving directory `/cygdrive/d/Work/R-devel/tests'
D:/Work/R-devel/bin/Rterm --vanilla LC_ALL=C --internet2 --vanilla <
internet.R
> internet.Rout2
diff internet.Rout internet.Rout2
99,100c99,100
< unable to resolve 'foo.bar'.
< Error in url("http://foo.bar", "r") : cannot open URL `http://foo.bar'
---
> Error in url("http://foo.bar", "r") : InternetOpenUrl failed: `The server retu
rned an invalid or unrecognized response
> '
make: *** [test-Internet] Error 1

i use the files from the
r-develxxxx.tar.gz 



--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Dec 16 17:07:30 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 16 Dec 2001 17:07:30 +0000 (GMT)
Subject: [Rd] windows testing, internet
In-Reply-To: <3C1CB6E2.2A955B56@univie.ac.at>
Message-ID: <Pine.LNX.4.31.0112161705050.7224-100000@gannet.stats>

And your point was?

That is deliberately not part of the tests. The message is different:
it comes from completely different code.

In the absence of a Windows maintainer, please only report real problems:
if you had read the code it would have been obvious that either message
was appropriate.


On Sun, 16 Dec 2001, Erich Neuwirth wrote:

> doing
> make -f Makewfile.win test-Internet
> in tests
> gave
>
>
> make[1]: Leaving directory `/cygdrive/d/Work/R-devel/tests'
> D:/Work/R-devel/bin/Rterm --vanilla LC_ALL=C --internet2 --vanilla <
> internet.R
> > internet.Rout2
> diff internet.Rout internet.Rout2
> 99,100c99,100
> < unable to resolve 'foo.bar'.
> < Error in url("http://foo.bar", "r") : cannot open URL `http://foo.bar'
> ---
> > Error in url("http://foo.bar", "r") : InternetOpenUrl failed: `The server retu
> rned an invalid or unrecognized response
> > '
> make: *** [test-Internet] Error 1
>
> i use the files from the
> r-develxxxx.tar.gz
>
>
>
> --
> Erich Neuwirth, Computer Supported Didactics Working Group
> Visit our SunSITE at http://sunsite.univie.ac.at
> Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From z.yang@ucl.ac.uk  Mon Dec 17 10:03:34 2001
From: z.yang@ucl.ac.uk (Ziheng Yang)
Date: Mon, 17 Dec 2001 10:03:34 +0000
Subject: [Rd] error in qbeta (PR#1201)
In-Reply-To: <x27krrt8zl.fsf@blueberry.kubism.ku.dk>
References: <x2her0xsoy.fsf@blueberry.kubism.ku.dk> <200112091257.NAA17087@pubhealth.ku.dk> <x2her0xsoy.fsf@blueberry.kubism.ku.dk>
Message-ID: <4.3.2.7.2.20011216113200.00d48c50@pop-server.ucl.ac.uk>

Thanks for the update.  I set the value to half the cdf (alpha) myself, and 
it worked for that particular case, but I suppose the initial approximation 
should not generate values out of range and so one should do better than 
that.  I'll do some checking and let you know if I notice anything strange.

Would you mind sending me a copy of the source qbeta.c?

Best wishes,
Ziheng


At 16:50 13/12/01 +0100, Peter Dalgaard BSA wrote:
>Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:
>
> > z.yang@ucl.ac.uk writes:
>
> > > I noticed that qbeta is sometimes wrong and the error is not even due 
> to the
> > > beta parameters being too extreme.  I am calculating the quantiles 
> corresponding
> > > to cdf = 0.05, 0.15, ..., 0.95.  The value corresponding to cdf=0.25 
> is wrong
> > > while all other values are correct.
> > >
> > > qbeta(0.05, 0.143891, 0.05) = 1.040850e-05   correct
> > > qbeta(0.15, 0.143891, 0.05) = 0.021161       correct
> > > qbeta(0.25, 0.143891, 0.05) = 3e-308         wrong (correct value is 
> 0.457227)
> > > qbeta(0.35, 0.143891, 0.05) = 0.945217       correct
> > >
> > > I also used your source file qbeta.c to do the same calculation, and 
> it seems
> > > that something might be wrong in the "initial approximation", before the
> > > newton-raphson iteration.
>
>Thanks for reporting this.
>
>We think we have a better version in the current snapshots for 1.4.0
>(available at http://www.stats.uwo.ca/faculty/murdoch/software/r-devel)
>
>It turns out that the initial approximation simply isn't very good in
>this case, it becomes negative and the algorithms sets it to a small
>number. This is true of the original Fortran code too, but we had
>chosen a rather smaller small number and that caused the algorithm to
>converge falsely.
>
>--
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
>~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bolker@zoo.ufl.edu  Mon Dec 17 15:58:25 2001
From: bolker@zoo.ufl.edu (bolker@zoo.ufl.edu)
Date: Mon, 17 Dec 2001 16:58:25 +0100 (MET)
Subject: [Rd] behavior of r* and d* functions at boundaries (PR#1218)
Message-ID: <200112171558.QAA07778@pubhealth.ku.dk>


  (Sent this to r-help back in October, got no comments, forgot
to re-submit it as a bug report.)

There are a few inconsistencies, at least, in some of the functions that 
generate random deviates from particular distributions (I think they're 
bugs because they're inconvenient, but maybe someone can make an argument 
for the current behavior). If people think these are really bugs I can 
submit them, together or separately. 

1. rlnorm(n,mean,sd) gives NaN for sd=0, rather than always returning 
the mean. This is inconsistent with rnorm(), which returns the mean. 

2. rnbinom(n,prob,size) gives NaN when prob=1; always returning 0 would be 
reasonable, and consistent with the output of dnbinom(). [This is 
equivalent to rnbinom(n,mu=0,size) in the new parameterization.] 

3. rgamma(n,shape,scale) happily returns 0 when shape=0 or scale=0. However, 
dgamma(x,shape=0) [and pgamma(x,shape=0)] gives NaN. This behavior is 
actually convenient for me, but I could make an argument for returning a 
warning in this case. 

  In general, I don't know what (e.g.) dnorm(m,mean=m,sd=0)
should return: NaN (as at present) or Inf?  I guess it depends
how fussy you're being and how you're taking limits.

  The fixes seem straightforward. 

  Ben Bolker 

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = 
 major = 1
 minor = 3.1
 year = 2001
 month = 08
 day = 31
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Mon Dec 17 19:18:35 2001
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Mon, 17 Dec 2001 14:18:35 -0500
Subject: [Rd] Re:  windows testing
Message-ID: <o4hs1u8d8uum5hjf25vh9trdd7m5f1j0qc@4ax.com>

Today's build is now up on

 <http://www.stats.uwo.ca/faculty/murdoch/software/r-devel> 

I'll put up another tomorrow, then won't be able to do any more.  But
the day after is supposed to be the release day, so hopefully they
won't be necessary.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From olshena@mskcc.org  Mon Dec 17 23:02:11 2001
From: olshena@mskcc.org (olshena@mskcc.org)
Date: Tue, 18 Dec 2001 00:02:11 +0100 (MET)
Subject: [Rd] write.table (PR#1219)
Message-ID: <200112172302.AAA10089@pubhealth.ku.dk>

Full_Name: Adam B. Olshen
Version: 1.3.1
OS: Linux
Submission from: (NULL) (140.163.222.233)


There appears to be a bug with write.table if the object being written is a
matrix.  
Specifically, the option row.names=F gives an error.  I have seen this problem 
repeated in the Windows implementation.  An example is below.

Adam Olshen
olshena@mskcc.org

This works:

> write.table(matrix(rnorm(100),10),"blah",row.names=T)

And this works:

> write.table(as.data.frame(matrix(rnorm(100),10)),"blah",row.names=F)

This does not work:

> write.table(matrix(rnorm(100),10),"blah",row.names=F)
Error in gsub(pattern, replacement, x, ignore.case, extended) :
        invalid argument


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Dec 17 23:36:19 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 18 Dec 2001 00:36:19 +0100 (MET)
Subject: [Rd] write.table (PR#1219)
Message-ID: <200112172336.AAA10190@pubhealth.ku.dk>

On Tue, 18 Dec 2001 olshena@mskcc.org wrote:

> Full_Name: Adam B. Olshen
> Version: 1.3.1
> OS: Linux
> Submission from: (NULL) (140.163.222.233)
>
>
> There appears to be a bug with write.table if the object being written is a
> matrix.
> Specifically, the option row.names=F gives an error.  I have seen this problem
> repeated in the Windows implementation.  An example is below.
>
> Adam Olshen
> olshena@mskcc.org
>
> This works:
>
> > write.table(matrix(rnorm(100),10),"blah",row.names=T)
>
> And this works:
>
> > write.table(as.data.frame(matrix(rnorm(100),10)),"blah",row.names=F)
>
> This does not work:
>
> > write.table(matrix(rnorm(100),10),"blah",row.names=F)
> Error in gsub(pattern, replacement, x, ignore.case, extended) :
>         invalid argument

Actually, this happens only for numerical matrices, so just do

X <- matrix(rnorm(100),10)
X[] <- as.character(X)
write.table(X,"blah",row.names=F)

or even

write.table(X,"blah",row.names=F, quote=F)

Note though that for almost all purposes

write.table(format(X), "blah",row.names=F, quote=F)

would be better.

Nevertheless I'll put in the obvious fix for 1.4.0.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kleiweg@let.rug.nl  Tue Dec 18 10:11:11 2001
From: kleiweg@let.rug.nl (kleiweg@let.rug.nl)
Date: Tue, 18 Dec 2001 11:11:11 +0100 (MET)
Subject: [Rd] cmdscale: labels missing (PR#1220)
Message-ID: <200112181011.LAA14007@pubhealth.ku.dk>


The function cmdscale tries to copy names from the source to the
result. This only works if the source is a matrix.

If m is a matrix with labels (rownames) and d is an object of
class "dist" with labels, this works:

    cmdscale(m)

...but with this, there are no labels in the results:

    cmdscale(d)

However, this works:

    cmdscale(as.matrix(d))

My suggestion is to change, in the function cmdscale, this line:

    dimnames(points) <- list(dimnames(d)[[1]], NULL)

...into this:

    if (is.null (row.names(points) <- names(d)))
        dimnames(points) <- list(dimnames(d)[[1]], NULL)


By the way, I think it would be nice if the functions isoMDS and
sammon also copied the labels from the input to the result. At
the moment, I'm using wrapper function for all three functions
to preserve the labels.

--please do not edit the information below--

Version:
 platform = i586-pc-linux-gnu
 arch = i586
 os = linux-gnu
 system = i586, linux-gnu
 status =
 major = 1
 minor = 3.1
 year = 2001
 month = 08
 day = 31
 language = R

Search Path:
 .GlobalEnv, package:MASS, package:mva, package:iLeven, package:ctest, Autoloads, package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kleiweg@let.rug.nl  Tue Dec 18 10:17:19 2001
From: kleiweg@let.rug.nl (kleiweg@let.rug.nl)
Date: Tue, 18 Dec 2001 11:17:19 +0100 (MET)
Subject: [Rd] isoMDS: core dump (PR#1221)
Message-ID: <200112181017.LAA14125@pubhealth.ku.dk>


I'm not sure this belong here...

Package: MASS
Version: 6.2-8

I get a core dump when I call isoMDS with an incorrect argument
for y. With d as an object of class "dist":

  > isoMDS(d,2)

  Program received signal SIGSEGV, Segmentation fault.
  0x40229e43 in VR_mds_init_data () at MASS.c:157

--please do not edit the information below--

Version:
 platform = i586-pc-linux-gnu
 arch = i586
 os = linux-gnu
 system = i586, linux-gnu
 status =
 major = 1
 minor = 3.1
 year = 2001
 month = 08
 day = 31
 language = R

Search Path:
 .GlobalEnv, package:MASS, package:mva, package:iLeven, package:ctest, Autoloads, package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Dec 18 10:36:14 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 18 Dec 2001 11:36:14 +0100 (MET)
Subject: [Rd] isoMDS: core dump (PR#1221)
Message-ID: <200112181036.LAA14472@pubhealth.ku.dk>

On Tue, 18 Dec 2001 kleiweg@let.rug.nl wrote:

>
> I'm not sure this belong here...
>
> Package: MASS
> Version: 6.2-8

Not current.

> I get a core dump when I call isoMDS with an incorrect argument
> for y. With d as an object of class "dist":
>
>   > isoMDS(d,2)
>
>   Program received signal SIGSEGV, Segmentation fault.
>   0x40229e43 in VR_mds_init_data () at MASS.c:157

So don't!

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kleiweg@let.rug.nl  Tue Dec 18 11:00:19 2001
From: kleiweg@let.rug.nl (Peter Kleiweg)
Date: Tue, 18 Dec 2001 12:00:19 +0100 (CET)
Subject: [Rd] isoMDS: core dump (PR#1221)
In-Reply-To: <Pine.LNX.4.31.0112181034480.20111-100000@gannet.stats>
Message-ID: <Pine.LNX.4.33.0112181157180.423-100000@kleigh.nl>

Prof Brian Ripley scribeva...

> On Tue, 18 Dec 2001 kleiweg@let.rug.nl wrote:
>
> >
> > I'm not sure this belong here...
> >
> > Package: MASS
> > Version: 6.2-8
>
> Not current.

This version was in the set of recommended packages for R 1.3.1.
Is R 1.4.0 released yet?

> > I get a core dump when I call isoMDS with an incorrect argument
> > for y. With d as an object of class "dist":
> >
> >   > isoMDS(d,2)
> >
> >   Program received signal SIGSEGV, Segmentation fault.
> >   0x40229e43 in VR_mds_init_data () at MASS.c:157
>
> So don't!

So don't what?

-- 
Peter Kleiweg
http://www.let.rug.nl/~kleiweg/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Dec 18 11:47:05 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 18 Dec 2001 11:47:05 +0000 (GMT)
Subject: [Rd] isoMDS: core dump (PR#1221)
In-Reply-To: <Pine.LNX.4.33.0112181157180.423-100000@kleigh.nl>
Message-ID: <Pine.LNX.4.31.0112181143230.21228-100000@gannet.stats>

On Tue, 18 Dec 2001, Peter Kleiweg wrote:

> Prof Brian Ripley scribeva...
>
> > On Tue, 18 Dec 2001 kleiweg@let.rug.nl wrote:
> >
> > >
> > > I'm not sure this belong here...
> > >
> > > Package: MASS
> > > Version: 6.2-8
> >
> > Not current.
>
> This version was in the set of recommended packages for R 1.3.1.
> Is R 1.4.0 released yet?

No, but even recommended packages have updates on CRAN.

> > > I get a core dump when I call isoMDS with an incorrect argument
> > > for y. With d as an object of class "dist":
> > >
> > >   > isoMDS(d,2)
> > >
> > >   Program received signal SIGSEGV, Segmentation fault.
> > >   0x40229e43 in VR_mds_init_data () at MASS.c:157
> >
> > So don't!
>
> So don't what?

Don't call isoMDS with an argument that is not as documented.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kleiweg@let.rug.nl  Tue Dec 18 12:12:16 2001
From: kleiweg@let.rug.nl (Peter Kleiweg)
Date: Tue, 18 Dec 2001 13:12:16 +0100 (CET)
Subject: [Rd] isoMDS: core dump (PR#1221)
In-Reply-To: <Pine.LNX.4.31.0112181143230.21228-100000@gannet.stats>
Message-ID: <Pine.LNX.4.33.0112181301270.423-100000@kleigh.nl>

Prof Brian Ripley scribeva...

> > > > Package: MASS
> > > > Version: 6.2-8
> > >
> > > Not current.

I installed VR_6.2-10 and got the identical result

> > > > I get a core dump when I call isoMDS with an incorrect argument
> > > > for y. With d as an object of class "dist":
> > > >
> > > >   > isoMDS(d,2)
> > > >
> > > >   Program received signal SIGSEGV, Segmentation fault.
> > > >   0x40229e43 in VR_mds_init_data () at MASS.c:157
> > >
> > > So don't!
> >
> > So don't what?
>
> Don't call isoMDS with an argument that is not as documented.

This is not the first time I get the impression you don't really
want us to report problems. I am not submitting a bug report
demanding a fix. I am submitting a bug report to help you.

IMHO a segmentation fault is a bug, whatever errors the user
makes.

-- 
Peter Kleiweg
http://www.let.rug.nl/~kleiweg/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Tue Dec 18 13:51:04 2001
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Tue, 18 Dec 2001 14:51:04 +0100
Subject: [Rd] behavior of r* and d* functions at boundaries (PR#1218)
In-Reply-To: <200112171558.QAA07778@pubhealth.ku.dk>
References: <200112171558.QAA07778@pubhealth.ku.dk>
Message-ID: <15391.18888.225046.355632@gargle.gargle.HOWL>

>>>>> "Ben" == Ben Bolker <bolker@zoo.ufl.edu> writes:

    Ben>   (Sent this to r-help back in October, got no
    Ben> comments, forgot to re-submit it as a bug report.)

    Ben> There are a few inconsistencies, at least, in some of
    Ben> the functions that generate random deviates from
    Ben> particular distributions (I think they're bugs because
    Ben> they're inconvenient, but maybe someone can make an
    Ben> argument for the current behavior). If people think
    Ben> these are really bugs I can submit them, together or
    Ben> separately.

    Ben> 1. rlnorm(n,mean,sd) gives NaN for sd=0, rather than
    Ben> always returning the mean. This is inconsistent with
    Ben> rnorm(), which returns the mean.

    Ben> 2. rnbinom(n,prob,size) gives NaN when prob=1; always
    Ben> returning 0 would be reasonable, and consistent with
    Ben> the output of dnbinom(). [This is equivalent to
    Ben> rnbinom(n,mu=0,size) in the new parameterization.]

these two above are fixed for 1.4

    Ben> 3. rgamma(n,shape,scale) happily returns 0 when shape=0
    Ben> or scale=0. However, dgamma(x,shape=0) [and
    Ben> pgamma(x,shape=0)] gives NaN. This behavior is actually
    Ben> convenient for me, but I could make an argument for
    Ben> returning a warning in this case.

    Ben>   In general, I don't know what (e.g.)
    Ben> dnorm(m,mean=m,sd=0) should return: NaN (as at present)
    Ben> or Inf?

    Ben> I guess it depends how fussy you're being and how
    Ben> you're taking limits.

My approach would be to always return the limit if it's well
defined (as here).  
For any random variate X, when Var(X) = 0, r<dist>()  should
return E(X) (if that is defined) I think.  
This would mean that rgamma() is fine and dnorm() could be
improved.  
dgamma(0,shape=0) should give Inf as well and pgamma(0,shape=0) |-> 1.
The fact that pnorm(mu, mu, sd = 0) currently gives NaN instead
of 1 is a bug IMO.

Another line of reasoning could be that "shape=0" (or less
clearly "sd = 0") are not allowed (as per ?rgamma), and giving
NaN would reflect this.  I'm not share this view
but leave all this for after release.

    Ben>   The fixes seem straightforward.
(yes, at least for 1) and 2))

Thank you, Ben, for reporting these!

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kleiweg@let.rug.nl  Wed Dec 19 23:43:16 2001
From: kleiweg@let.rug.nl (Peter Kleiweg)
Date: Thu, 20 Dec 2001 00:43:16 +0100 (CET)
Subject: [Rd] dots and ldots in R 1.4.0
Message-ID: <Pine.LNX.4.33.0112200034510.429-100000@kleigh.nl>


I have a package with in the documentation:
 in \usage :    \dots
 in \arguments: \ldots

This is how I interpreted "Use \dots for the dots in function
argument lists ..., and \ldots for ellipsis dots in ordinary
text"  in "Writing R Extensions".

When I did `R CMD check' in R version 1.3.1 all was fine.
With R version 1.4.0 I get :
  * checking for undocumented arguments in \usage ... WARNING
  Undocumented arguments in documentation object `FOO':
  [1] "..."

Am I doing something wrong?

-- 
Peter Kleiweg
http://www.let.rug.nl/~kleiweg/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Dec 20 00:10:34 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Dec 2001 01:10:34 +0100
Subject: [Rd] dots and ldots in R 1.4.0
In-Reply-To: <Pine.LNX.4.33.0112200034510.429-100000@kleigh.nl>
References: <Pine.LNX.4.33.0112200034510.429-100000@kleigh.nl>
Message-ID: <x2y9jyg39h.fsf@blueberry.kubism.ku.dk>

Peter Kleiweg <kleiweg@let.rug.nl> writes:

> I have a package with in the documentation:
>  in \usage :    \dots
>  in \arguments: \ldots
> 
> This is how I interpreted "Use \dots for the dots in function
> argument lists ..., and \ldots for ellipsis dots in ordinary
> text"  in "Writing R Extensions".
> 
> When I did `R CMD check' in R version 1.3.1 all was fine.
> With R version 1.4.0 I get :
>   * checking for undocumented arguments in \usage ... WARNING
>   Undocumented arguments in documentation object `FOO':
>   [1] "..."
> 
> Am I doing something wrong?

Not really, the checks got stricter. You just need to supply a
line describing what the "..." arguments are for. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kleiweg@let.rug.nl  Thu Dec 20 00:16:49 2001
From: kleiweg@let.rug.nl (Peter Kleiweg)
Date: Thu, 20 Dec 2001 01:16:49 +0100 (CET)
Subject: [Rd] dots and ldots in R 1.4.0
In-Reply-To: <x2y9jyg39h.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.33.0112200113580.429-100000@kleigh.nl>

Peter Dalgaard BSA scribeva...

> Peter Kleiweg <kleiweg@let.rug.nl> writes:
>
> > I have a package with in the documentation:
> >  in \usage :    \dots
> >  in \arguments: \ldots
> >
> > This is how I interpreted "Use \dots for the dots in function
> > argument lists ..., and \ldots for ellipsis dots in ordinary
> > text"  in "Writing R Extensions".
> >
> > When I did `R CMD check' in R version 1.3.1 all was fine.
> > With R version 1.4.0 I get :
> >   * checking for undocumented arguments in \usage ... WARNING
> >   Undocumented arguments in documentation object `FOO':
> >   [1] "..."
> >
> > Am I doing something wrong?
>
> Not really, the checks got stricter. You just need to supply a
> line describing what the "..." arguments are for.

That is what I did, in \arguments, using \item{\ldots}{}.

-- 
Peter Kleiweg
http://www.let.rug.nl/~kleiweg/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Dec 20 00:24:47 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Dec 2001 01:24:47 +0100
Subject: [Rd] dots and ldots in R 1.4.0
In-Reply-To: <Pine.LNX.4.33.0112200113580.429-100000@kleigh.nl>
References: <Pine.LNX.4.33.0112200113580.429-100000@kleigh.nl>
Message-ID: <x2u1umg2ls.fsf@blueberry.kubism.ku.dk>

Peter Kleiweg <kleiweg@let.rug.nl> writes:

> > > Am I doing something wrong?
> >
> > Not really, the checks got stricter. You just need to supply a
> > line describing what the "..." arguments are for.
> 
> That is what I did, in \arguments, using \item{\ldots}{}.

Sorry, misunderstood.

It wants \dots. \ldots are for the triple-dots in running text that
get set in the text font.


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kleiweg@let.rug.nl  Thu Dec 20 00:57:23 2001
From: kleiweg@let.rug.nl (Peter Kleiweg)
Date: Thu, 20 Dec 2001 01:57:23 +0100 (CET)
Subject: [Rd] dots and ldots in R 1.4.0
In-Reply-To: <x2u1umg2ls.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.33.0112200132400.429-100000@kleigh.nl>

Peter Dalgaard BSA scribeva...

> Peter Kleiweg <kleiweg@let.rug.nl> writes:
>
> > > > Am I doing something wrong?
> > >
> > > Not really, the checks got stricter. You just need to supply a
> > > line describing what the "..." arguments are for.
> >
> > That is what I did, in \arguments, using \item{\ldots}{}.
>
> Sorry, misunderstood.
>
> It wants \dots. \ldots are for the triple-dots in running text that
> get set in the text font.

I have been looking at the tex-version of the manuals. I see
that both "\dots" in "\usage", and "\ldots" in
"\arguments{\item{\ldots" get replaced by "...". And just
putting "..." in the manual sources and then running
`R CMD check' gives "OK". So why would I need to use \dots in
these places?

-- 
Peter Kleiweg
http://www.let.rug.nl/~kleiweg/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kleiweg@let.rug.nl  Thu Dec 20 13:10:14 2001
From: kleiweg@let.rug.nl (kleiweg@let.rug.nl)
Date: Thu, 20 Dec 2001 14:10:14 +0100 (MET)
Subject: [Rd] configure: sed: Function s%@PDFLATEX@%/usr/local/bin/pdflatex%g (PR#1222)
Message-ID: <200112201310.OAA13759@pubhealth.ku.dk>


Sometimes, configure isn't able to create the makefiles. It
produces errors like:

sed: Function s%@PDFLATEX@%/usr/local/bin/pdflatex%g cannot be parsed.

This happens when I use a combination of arguments to configure like:

    --prefix=$HOME/R-tst
    --with-tcl-config=/opt_local/opt/tcl/lib/tclConfig.sh
    --with-tk-config=/opt_local/opt/tk/lib/tkConfig.sh

If I leave out the last two arguments, the problem does not
occur.

If I change the first argument to --prefix=$HOME/Rtst, the
problem does not occur.

--please do not edit the information below--

Version:
 platform = hppa2.0-hp-hpux10.20
 arch = hppa2.0
 os = hpux10.20
 system = hppa2.0, hpux10.20
 status =
 major = 1
 minor = 4.0
 year = 2001
 month = 12
 day = 19
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pd@pubhealth.ku.dk  Fri Dec 21 06:15:02 2001
From: pd@pubhealth.ku.dk (Peter Dalgaard BSA)
Date: Fri, 21 Dec 2001 07:15:02 +0100
Subject: [Rd] Bug list summary (automatic post)
Message-ID: <200112210615.fBL6F2h10098@blueberry.kubism.ku.dk>

=================================================
This is an automated summary of the status of the R-bugs
repository.

Note that this may be neither complete nor perfectly
correct at any given instance: Not all bugs are reported,
and some reported bugs may have been fixed, but the
repository not yet updated.

Some bug fixes are difficult to verify because they pertain
to specific hardware or operating system versions. If you
have information to contribute, please do so.

If you happen to know how to fix a problem please send
patches to the bug repository, too.

New bugs are reported either through the web
interface at r-bugs.r-project.org or via email to
r-bugs@r-project.org. The bug.report() function can be
used to automate parts of the procedure on many systems.
Followups on older bugs can be done by including the string
"(PR#999)" in the Subject of an email (change 999 to the
actual reference number, of course!).
=================================================

Directory:  Accuracy

* PR# 1218 *
Subject:  behavior of r* and d* functions at boundaries 
From: Ben Bolker <bolker@zoo.ufl.edu>
Date: Mon, 17 Dec 2001 11:04:27 -0500
--points 1 and 2 were fixed for 1.4.0

Directory:  Add-ons

* PR# 974 *
Subject: Lattice: panel.superpose with ordered factor groups
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sat, 9 Jun 2001 11:08:51 +1000 (EST)
--The warning is standard S and R behaviour.
--Probably xyplot needs to avoid it (by unclassing?)
--Still there in lattice 0.3-0.
* PR# 1038 *
Subject: nlme: bug in getCovariateFormula
From: Setzer.Woodrow@epamail.epa.gov
Date: Tue, 31 Jul 2001 11:24:09 -0400
--change needed in package nlme
* PR# 1044 *
Subject: Polymarsall.c
From: pleu@hotmail.com
Date: Tue, 7 Aug 2001 22:42:07 +0200 (MET DST)
* PR# 1116 *
Subject: get.hist.quote does not work
From: arto.luoma@uta.fi
Date: Thu, 4 Oct 2001 14:45:29 +0200 (MET DST)
--Seems specific to one locale on one system.
--The bug is unlikely to be in R.
* PR# 1178 *
Subject: segfault using svm from e1071
From: Jan Rychter <jan@rychter.com>
Date: Tue, 20 Nov 2001 23:38:17 +0100
* PR# 1199 *
Subject: pixmap: infinite recursion with nonascii pnm-files
From: thomas.baumann@ch.tum.de
Date: Fri, 7 Dec 2001 11:07:52 +0100 (CET)

Directory:  Analyses

none

Directory:  Documentation

* PR# 988 *
Subject: input for R-intro
From: "Paul E. Johnson" <pauljohn@ku.edu>
Date: Mon, 18 Jun 2001 13:57:10 -0500
* PR# 1011 *
Subject: R-intro suggestions part II
From: "Paul E. Johnson" <pauljohn@ukans.edu>
Date: Tue, 03 Jul 2001 15:50:06 -0500
* PR# 1136 *
Subject: cex/col/etc. in title(): documentation?
From: Ben Bolker <ben@zoo.ufl.edu>
Date: Mon, 22 Oct 2001 11:55:14 -0400 (EDT)
--MM:actually the documentation still could elaborate a bit..
* PR# 1195 *
Subject: help(dbinom) recommended documentation improvement
From: Rich Heiberger <rmh@surfer.sbm.temple.edu>
Date: Tue, 4 Dec 2001 11:29:58 -0500 (EST)
--This isn't really a bug: the line in question is a plain-text equation, not a
--piece of R code.

Directory:  Graphics

* PR# 202 *
Subject: persp box occlusion bug
From: wsi@gcal.ac.uk
Date: Wed, 2 Jun 1999 15:02:03 +0200 (MET DST)
--The persp algorithm does not apply the occlusion rules to the frame, 
--which is always plotted first. 
--A bug, but not very simple to fix.
* PR# 660 *
Subject: identify.default ignores any setting of cex.
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
Date: Fri, 15 Sep 2000 10:23:39 +0100 (BST)
* PR# 776 *
Subject: strwidth does not take font into account
From: Martyn Plummer <plummer@iarc.fr>
Date: Tue, 19 Dec 2000 14:56:01 +0100 (CET)
--This needs a substantial redesign.
* PR# 791 *
Subject:  par(lab= *) / axis(*) bug 
From: maechler@stat.math.ethz.ch
Date: Fri, 22 Dec 2000 10:59:26 +0100
* PR# 816 *
Subject: dotplot: character size of labels
From: RINNER Heinrich <H.RINNER@TIROL.GV.AT>
Date: Thu, 18 Jan 2001 14:54:32 +0100
--Suggested fix is incorporated in 1.2.2.
--
--There is a deeper problem:  mtext() ignores par(cex=.5) in general.  
--To see the problem try:  par(cex=.5); mtext("hi")
--Paul thinks the right fix is to change the argument list for mtext so that
--cex=par(cex) by default rather than cex=NA by default (plus corresponding
--internal changes to  do_mtext in plot.c).
--This needs to be done very carefully because (i) the change suggested above 
--mayhave side-effects in many other pieces of interpreted code 
--(ii) do_mtext ignores dd->gp.cexbase unlike, for example, do_plot_xy 
--and anything to do with cexbase needs extreme care.
* PR# 820 *
Subject: interaction.plot
From: "Mark M. Span" <span@psy.uva.nl>
Date: Mon, 22 Jan 2001 10:47:39 +0100
--mtext is unscaled by default.  It is not clear if this should
--use the par("cex") setting or an inline cex setting such as cex.axis.
--It might make more sense to use axis rather than mtext, as boxplot does.
* PR# 828 *
Subject: termplot fails for composite non-factor terms
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sat, 27 Jan 2001 11:57:37 +1100 (EST)
--Neither of the proposed changes actually works in sufficient generality.
--
--The easy and unimportant part of this, the labels, is fixed in 1.2.2. Getting
--the data right is a project for 1.3
* PR# 831 *
Subject: screen can't go back to (split) screen with log="y" plot
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 30 Jan 2001 00:39:41 -0500
--Still there. Suggested fix included in followups, but we didn't get around to
--try it in time for 1.2.3.
--
--Fix doesn't work. One problem is that the opar<-par();par(opar) idiom updates
--xaxp before xlog, and the new value of xaxp may only be valid under the new
--value of xlog.
* PR# 837 *
Subject: screen doesn't handle redrawing properly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 01 Feb 2001 14:20:52 -0500
* PR# 887 *
Subject: axis(adj=anything) has no effect
From: jhallman@frb.gov
Date: Wed, 28 Mar 2001 20:51:05 +0200 (MET DST)
* PR# 916 *
Subject:  par(mgp) bug 
From: paul@stat.auckland.ac.nz
Date: Fri, 20 Apr 2001 08:33:45 +1200 (NZST)
* PR# 943 *
Subject: legend() with xpd=T; omission of initial plot character
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sun, 20 May 2001 10:35:16 +1000
* PR# 997 *
Subject:  las=1 with log axis 
From: Peter Dalgaard BSA <pd@pubhealth.ku.dk>
Date: Wed, 27 Jun 2001 11:54:06 +0200
* PR# 1045 *
Subject: Palette changes on redraw
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 08 Aug 2001 19:08:01 +0200
* PR# 1088 *
Subject:  barplot forces xpd=TRUE 
From: Peter Whiting <pwhiting@whitings.org>
Date: Sat, 8 Sep 2001 10:19:00 -0500
* PR# 1147 *
Subject: postscript problem
From: kjetil halvorsen <kjetilh@umsanet.edu.bo>
Date: Fri, 26 Oct 2001 15:23:45 -0400
--This seems to be a problem with screen/layout rather than postscript.
* PR# 1157 *
Subject: identify(...plot=F)
From: Rolf Turner <rolf@maths.uwa.edu.au>
Date: Fri, 2 Nov 2001 09:43:49 +0800 (WST)
* PR# 1161 *
Subject: x-axis label in persp()
From: Rolf Turner <rolf@maths.uwa.edu.au>
Date: Wed, 7 Nov 2001 18:07:22 +0800 (WST)
* PR# 1207 *
Subject: boxplot labels incorrect when horizontal = TRUE
From: Rashid Nassar <rnassar@duke.edu>
Date: Sun, 9 Dec 2001 21:46:32 -0500 (EST)

Directory:  In-Out

none

Directory:  Installation

* PR# 1222 *
Subject: configure: sed: Function s%@PDFLATEX@%/usr/local/bin/pdflatex%g
From: Peter Kleiweg <kleiweg@let.rug.nl>
Date: Thu, 20 Dec 2001 14:09:42 +0100 (CET)
--problem is on hppa2.0-hp-hpux10.20: may be HP-UX specific

Directory:  Language

* PR# 408 *
Subject: convolution bug
From: wsimpson@gcal.ac.uk
Date: Fri, 28 Jan 2000 11:17:36 +0100 (MET)
* PR# 412 *
Subject: anomalies with call objects
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 06 Feb 2000 01:18:50 +0100
* PR# 669 *
Subject: Bug(s) w/ rbind.data.frame(); fix also read.table(*, as.is = TRUE) ?
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Mon, 25 Sep 2000 10:17:15 +0200
--status of AsIs columns
* PR# 921 *
Subject:  Managed to confuse match.arg 
From: J.C.Rougier@durham.ac.uk
Date: Wed, 25 Apr 2001 12:22:54 +0100 (BST)
* PR# 1073 *
Subject: Wierd problem comparing numeric values and list using ==
From: "Warnes, Gregory R" <gregory_r_warnes@groton.pfizer.com>
Date: Fri, 24 Aug 2001 22:07:41 -0400
--see also PR#1075
* PR# 1076 *
Subject: Re: [Rd] Wierd problem comparing numeric values and list using == 
From: John Chambers <jmc@research.bell-labs.com>
Date: Mon, 27 Aug 2001 08:44:22 -0400
--part of PR#1073
* PR# 1193 *
Subject: Re: [R] appending similar data frames?
From: Thomas Lumley <tlumley@u.washington.edu>
Date: Mon, 3 Dec 2001 13:46:35 -0800 (PST)
* PR# 1214 *
Subject: syntax questtion, maybe a bug
From: Rich Heiberger <rmh@surfer.sbm.temple.edu>
Date: Thu, 13 Dec 2001 13:46:54 -0500 (EST)
--Is .2logl meant to be a valid name in R? It is S

Directory:  Low-level

* PR# 989 *
Subject: "[.data.frame" allows un-named 3rd subscript
From: "Charles C. Berry" <cberry@tajo.ucsd.edu>
Date: Mon, 18 Jun 2001 13:13:46 -0700 (PDT)
* PR# 1063 *
Subject: interrupting Sys.sleep
From: Thomas Lumley <tlumley@u.washington.edu>
Date: Mon, 20 Aug 2001 13:55:29 -0700 (PDT)
* PR# 1068 *
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
From: Luke Tierney <luke@nokomis.stat.umn.edu>
Date: Wed, 22 Aug 2001 19:32:51 -0500
--see also followup in PR#1069
* PR# 1069 *
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
From: "John W. Eaton" <jwe@bevo.che.wisc.edu>
Date: Wed, 22 Aug 2001 21:56:33 -0500
--part of PR#1068
* PR# 1120 *
Subject: bug in write.table?
From: Ott Toomet <siim@obs.ee>
Date: Sun, 7 Oct 2001 18:24:34 +0200 (CEST)
--Traced down to an effect of read.dta in foreign interacting with do_paste. Fixed
--in foreign, but do_paste may need to use strlen() rather than LENGTH().
--
* PR# 1211 *
Subject: crash bug in get("function.name")()
From: Rich Heiberger <rmh@surfer.sbm.temple.edu>
Date: Tue, 11 Dec 2001 17:34:07 -0500 (EST)

Directory:  Macintosh

none

Directory:  Misc

* PR# 1126 *
Subject: R-bug report www page whishlist
From: jens.lund@nordea.com
Date: Wed, 10 Oct 2001 18:24:29 +0200 (MET DST)
* PR# 1158 *
Subject: bug.report()sends empty message
From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
Date: Mon, 05 Nov 2001 10:05:27 -0500

Directory:  Models

none

Directory:  Startup

none

Directory:  System-specific

* PR# 848 *
Subject: X11 device doesn't handle destroy events correcly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 13 Feb 2001 17:40:46 -0500
* PR# 1020 *
Subject: .Call and Mandrake 8.0
From: lcottret@yahoo.fr
Date: Wed, 11 Jul 2001 15:34:23 +0200 (MET DST)
--problem with symbol names only on Mandrake 8.0, not 7.2
--needs reply to follow-up
* PR# 1097 *
Subject: R 1.3.1 fails 'make check' on arm in the Bessel example
From: Dirk Eddelbuettel <edd@debian.org>
Date: Thu, 20 Sep 2001 23:54:19 -0500
* PR# 1140 *
Subject: Possible bug, Rprof() and scan(pipe())
From: Don MacQueen <macq@llnl.gov>
Date: Tue, 23 Oct 2001 13:50:26 -0700
--Doesn't happen on Solaris or Linux
* PR# 1145 *
Subject: Problem testing R version 1.3.1 on SGI Irix
From: Gordon Lack <gml4410@ggr.co.uk>
Date: Fri, 26 Oct 2001 19:04:04 +0100
--error from using SGI libblas (not reported on other systems?)
--use --without-blas
* PR# 1215 *
Subject: Error when library() called with no arguments
From: rpeng@stat.ucla.edu
Date: Thu, 13 Dec 2001 20:51:21 +0100 (MET)
--not reproducible even on other RH7.1 systems

Directory:  TooMuchAtOnce

* PR# 1110 *
Subject: Several R vs S-Plus issues
From: David Brahm  <a215020@agate.fmr.com>
Date: Wed, 3 Oct 2001 11:35:58 -0400 (EDT)
--1. is perhaps a bug -- the best handling of string NAs is under discussion
--
--2 & 4 are just S-PLUS incompatibilities
--
--3. May be a bug -- worth checking.

Directory:  Windows

none

Directory:  incoming

* PR# 1186 *
Subject: a patch to tapply
From: Vadim Ogranovich <vograno@arbitrade.com>
Date: Thu, 29 Nov 2001 14:48:35 -0600
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jabraham@ucalgary.ca  Fri Dec 21 18:51:34 2001
From: jabraham@ucalgary.ca (jabraham@ucalgary.ca)
Date: Fri, 21 Dec 2001 19:51:34 +0100 (MET)
Subject: [Rd] "at 0x78003b44 referenced memory at 0x00000000" (PR#1225)
Message-ID: <200112211851.TAA02479@pubhealth.ku.dk>

Full_Name: John Abraham
Version: rw1031
OS: Windows 2000 Professional
Submission from: (NULL) (136.159.125.21)


A friend introduced me to "R", and it seems just what I need -- a good
statistical package with an open source
flavour so that, if it doesn't do what I need it to do, I can extend it.

I installed the latest windows binary, and when I try to run it I get a window
that's titled "Rterm.exe - Application Error" and
in the window it says "the instruction at "0x78003b44" referenced memory at
"0x00000000".  The memory could not be "read".

When I bring up the debugger and call up that address, it seems to bring me into
the MSVCRT.strcpy routine.  That's strange.  Now I haven't used an assemby
language debugger for many many years, so maybe I'm misinterpreting this.  But I
notice I have several versions of MSVCRT.dll on my machine, and I'm assuming
that this routine is inside one of these dlls.  So is there a particular
MSVCRT.DLL that I should be using?

Any other ideas?

Really would like to get this working...

John Abraham
jabraham@ucalgary.ca

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Dec 21 19:04:20 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 21 Dec 2001 20:04:20 +0100 (MET)
Subject: [Rd] "at 0x78003b44 referenced memory at 0x00000000" (PR#1225)
Message-ID: <200112211904.UAA02540@pubhealth.ku.dk>

On Fri, 21 Dec 2001 jabraham@ucalgary.ca wrote:

> Full_Name: John Abraham
> Version: rw1031
> OS: Windows 2000 Professional
> Submission from: (NULL) (136.159.125.21)
>
>
> A friend introduced me to "R", and it seems just what I need -- a good
> statistical package with an open source
> flavour so that, if it doesn't do what I need it to do, I can extend it.
>
> I installed the latest windows binary, and when I try to run it I get a window
> that's titled "Rterm.exe - Application Error" and
> in the window it says "the instruction at "0x78003b44" referenced memory at
> "0x00000000".  The memory could not be "read".
>
> When I bring up the debugger and call up that address, it seems to bring me into
> the MSVCRT.strcpy routine.  That's strange.  Now I haven't used an assemby
> language debugger for many many years, so maybe I'm misinterpreting this.  But I
> notice I have several versions of MSVCRT.dll on my machine, and I'm assuming
> that this routine is inside one of these dlls.  So is there a particular
> MSVCRT.DLL that I should be using?
>
> Any other ideas?

If all else fails, read the rw-FAQ?

The information is in there, but there's lot more you need to know, like
the purpose of Rterm.exe vs Rgui.exe.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bellis@hsph.harvard.edu  Fri Dec 21 19:24:25 2001
From: bellis@hsph.harvard.edu (Byron Ellis)
Date: Fri, 21 Dec 2001 14:24:25 -0500 (EST)
Subject: [Rd] "at 0x78003b44 referenced memory at 0x00000000" (PR#1225)
In-Reply-To: <200112211851.TAA02479@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.10.10112211423330.7320-100000@hsph.harvard.edu>

Ah, you probably need version 6.1 or later of MSVCRT.

Byron Ellis (bellis@hsph.harvard.edu)
"Oook" - The Librarian

On Fri, 21 Dec 2001 jabraham@ucalgary.ca wrote:

> Full_Name: John Abraham
> Version: rw1031
> OS: Windows 2000 Professional
> Submission from: (NULL) (136.159.125.21)
> 
> 
> A friend introduced me to "R", and it seems just what I need -- a good
> statistical package with an open source
> flavour so that, if it doesn't do what I need it to do, I can extend it.
> 
> I installed the latest windows binary, and when I try to run it I get a window
> that's titled "Rterm.exe - Application Error" and
> in the window it says "the instruction at "0x78003b44" referenced memory at
> "0x00000000".  The memory could not be "read".
> 
> When I bring up the debugger and call up that address, it seems to bring me into
> the MSVCRT.strcpy routine.  That's strange.  Now I haven't used an assemby
> language debugger for many many years, so maybe I'm misinterpreting this.  But I
> notice I have several versions of MSVCRT.dll on my machine, and I'm assuming
> that this routine is inside one of these dlls.  So is there a particular
> MSVCRT.DLL that I should be using?
> 
> Any other ideas?
> 
> Really would like to get this working...
> 
> John Abraham
> jabraham@ucalgary.ca
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Fri Dec 21 20:14:09 2001
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich.Leisch@ci.tuwien.ac.at)
Date: Fri, 21 Dec 2001 21:14:09 +0100
Subject: [Rd] CRAN incoming
Message-ID: <15395.38929.928115.876937@galadriel.ci.tuwien.ac.at>


We have improved security measures on CRAN which now includes
accepting no email from outside our domain (a couple of other ports
will be closed, too).

The new email adress to reach the CRAN maintainers (i.e., Kurt and me)
is

	cran@r-project.org

Please use this adress for notification when you upload packages to
CRAN.

Best,

-- 
-------------------------------------------------------------------
                        Friedrich  Leisch 
Institut fr Statistik                     Tel: (+43 1) 58801 10715
Technische Universitt Wien                Fax: (+43 1) 58801 10798
Wiedner Hauptstrae 8-10/1071      Friedrich.Leisch@ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gray@jimmy.harvard.edu  Sun Dec 23 14:06:44 2001
From: gray@jimmy.harvard.edu (gray@jimmy.harvard.edu)
Date: Sun, 23 Dec 2001 15:06:44 +0100 (MET)
Subject: [Rd] problem in predict.mlm (PR#1226)
Message-ID: <200112231406.PAA07548@pubhealth.ku.dk>

predict.mlm() does not appear to work properly with newdata specified
(it seems to ignore newdata in my applications).  I suggest replacing

  X <- model.matrix(object, newdata)

with something like 

  X <- model.matrix(delete.response(terms(object)), newdata)

(see the corresponding section in predict.lm()).
--
Bob Gray

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From possolo@crd.ge.com  Tue Dec 25 21:45:48 2001
From: possolo@crd.ge.com (possolo@crd.ge.com)
Date: Tue, 25 Dec 2001 22:45:48 +0100 (MET)
Subject: [Rd] read.table (PR#1227)
Message-ID: <200112252145.WAA12194@pubhealth.ku.dk>

Full_Name: Antonio Possolo
Version: 1.4.0
OS: Linux
Submission from: (NULL) (24.25.141.205)


## inputFile has the following three lines (each without the initial ``## '')
## a,b
## m,1
## n,3
## and resides in $HOME/R

fileHOME <- paste(Sys.getenv("HOME"), "/R/", sep="")
fileNAME <- "inputFile"

## Given the command,

z <- read.table(file=paste(fileHOME, fileNAME, sep=""), sep=",", 
                header=TRUE, row.names=NULL, as.is=TRUE)

## R replies

## stack imbalance in internal type.convert,
##   28 then 27stack imbalance in .Internal, 27 then 26
## stack imbalance in if, 21 then 20
## stack imbalance in <-, 19 then 18
## stack imbalance in {, 17 then 16
## stack imbalance in for, 10 then 9
## stack imbalance in {, 8 then 7
## stack imbalance in <-, 2 then 1
## Error: unprotect(): stack imbalance

## but z is correct.

## The command

z <- read.table(file=paste(fileHOME, fileNAME, sep=""), sep=",", 
                           header=TRUE, row.names=NULL, as.is=TRUE,
                           colClasses=c("character", "numeric"))

## produces the same result without complaints.

## Finally, the command

z <- read.table(file=paste(fileHOME, fileNAME, sep=""), sep=",", 
                           header=TRUE, row.names=NULL, as.is=FALSE)

## also produces a data-frame with the correct elements,
## but z$a is a factor, not a character vector.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Dec 25 23:04:21 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 26 Dec 2001 00:04:21 +0100 (MET)
Subject: [Rd] read.table (PR#1227)
Message-ID: <200112252304.AAA12326@pubhealth.ku.dk>

The main point is already fixed in R-patched.

On Tue, 25 Dec 2001 possolo@crd.ge.com wrote:

> Full_Name: Antonio Possolo
> Version: 1.4.0
> OS: Linux
> Submission from: (NULL) (24.25.141.205)
>
>
> ## inputFile has the following three lines (each without the initial ``## '')
> ## a,b
> ## m,1
> ## n,3
> ## and resides in $HOME/R
>
> fileHOME <- paste(Sys.getenv("HOME"), "/R/", sep="")
> fileNAME <- "inputFile"
>
> ## Given the command,
>
> z <- read.table(file=paste(fileHOME, fileNAME, sep=""), sep=",",
>                 header=TRUE, row.names=NULL, as.is=TRUE)
>
> ## R replies
>
> ## stack imbalance in internal type.convert,
> ##   28 then 27stack imbalance in .Internal, 27 then 26
> ## stack imbalance in if, 21 then 20
> ## stack imbalance in <-, 19 then 18
> ## stack imbalance in {, 17 then 16
> ## stack imbalance in for, 10 then 9
> ## stack imbalance in {, 8 then 7
> ## stack imbalance in <-, 2 then 1
> ## Error: unprotect(): stack imbalance
>
> ## but z is correct.
>
> ## The command
>
> z <- read.table(file=paste(fileHOME, fileNAME, sep=""), sep=",",
>                            header=TRUE, row.names=NULL, as.is=TRUE,
>                            colClasses=c("character", "numeric"))
>
> ## produces the same result without complaints.

Yes, and as this is much preferable, the previous case never got
tested!  Leave as.is= out ...

> ## Finally, the command
>
> z <- read.table(file=paste(fileHOME, fileNAME, sep=""), sep=",",
>                            header=TRUE, row.names=NULL, as.is=FALSE)
>
> ## also produces a data-frame with the correct elements,
> ## but z$a is a factor, not a character vector.

If as.is=FALSE, character inputs are documented to be converted to
factors, so where is the bug?

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From paradis@isem.univ-montp2.fr  Wed Dec 26 12:07:57 2001
From: paradis@isem.univ-montp2.fr (paradis@isem.univ-montp2.fr)
Date: Wed, 26 Dec 2001 13:07:57 +0100 (MET)
Subject: [Rd] bug with var(rep(1e30, 3)) (PR#1228)
Message-ID: <200112261207.NAA13242@pubhealth.ku.dk>

There seems to be a bug with var() when the argument is a vector with
exactly three values of 1e30 (or close to this value). This does not happen
with twice, four (or more) times this value, or another value.


> var(rep(1e30, 3))
[1] 2.971056e+28
> var(rep(1.2e30, 3))
[1] 2.971056e+28
> var(rep(0.9e30, 3))
[1] 2.971056e+28
> var(rep(0.8e30, 3))
[1] 0
> var(rep(1e29, 3))
[1] 0
> var(rep(1e30, 2))
[1] 0
> var(rep(1e30, 4))
[1] 0
> var(rep(1e31, 3))
[1] 0


The bug is repeatable, and I got the same results with R 1.3.1 (binary from
CRAN) and R 1.4.0 (binary from BD Ripley's site) both on Windows NT, and R
1.4.0 on Solaris (compiled from sources).



Emmanuel Paradis
Laboratoire de Palontologie
Institut des Sciences de l'volution
Universit Montpellier II
F-34095 Montpellier cdex 05
France
   phone: +33  4 67 14 39 64
     fax: +33  4 67 14 36 10
  mailto:paradis@isem.univ-montp2.fr

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Dec 26 14:31:27 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Dec 2001 15:31:27 +0100
Subject: [Rd] bug with var(rep(1e30, 3)) (PR#1228)
In-Reply-To: <200112261207.NAA13242@pubhealth.ku.dk>
References: <200112261207.NAA13242@pubhealth.ku.dk>
Message-ID: <x2heqet5mo.fsf@blueberry.kubism.ku.dk>

paradis@isem.univ-montp2.fr writes:

> There seems to be a bug with var() when the argument is a vector with
> exactly three values of 1e30 (or close to this value). This does not happen
> with twice, four (or more) times this value, or another value.
> 
> 
> > var(rep(1e30, 3))
> [1] 2.971056e+28
> > var(rep(1.2e30, 3))
> [1] 2.971056e+28
> > var(rep(0.9e30, 3))
> [1] 2.971056e+28
> > var(rep(0.8e30, 3))
> [1] 0
> > var(rep(1e29, 3))
> [1] 0
> > var(rep(1e30, 2))
> [1] 0
> > var(rep(1e30, 4))
> [1] 0
> > var(rep(1e31, 3))
> [1] 0
> 
> 
> The bug is repeatable, and I got the same results with R 1.3.1 (binary from
> CRAN) and R 1.4.0 (binary from BD Ripley's site) both on Windows NT, and R
> 1.4.0 on Solaris (compiled from sources).

Not a bug, roundoff:

> (1e30+1e30+1e30)/3-1e30
[1] 1.407375e+14
> 3*((1e30+1e30+1e30)/3-1e30)^2/2
[1] 2.971056e+28

Relative errors of the order 1e-16 are completely expectable in
floating point arithmetic.

For illustration, look at it in octal, after removing a bunch of
trailing zeroes:

> x<-1e30/(8^16)
> structure(x, class="octmode")
[1] "144762623464043165"
> structure(x+x+x, class="octmode")
[1] "456730272634151540"

If you look carefully, you will see that a bit is lost in the process
since 5+5+5 is 17 octal.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Dec 26 15:52:57 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 26 Dec 2001 16:52:57 +0100 (MET)
Subject: [Rd] bug with var(rep(1e30, 3)) (PR#1228)
Message-ID: <200112261552.QAA13692@pubhealth.ku.dk>

But there are better algorithms that are not subject to this sort
of rounding error.

I reckon that computing a variance this way is not the quality of
algorithm one should expect from R.

On 26 Dec 2001, Peter Dalgaard BSA wrote:

> paradis@isem.univ-montp2.fr writes:
>
> > There seems to be a bug with var() when the argument is a vector with
> > exactly three values of 1e30 (or close to this value). This does not happen
> > with twice, four (or more) times this value, or another value.
> >
> >
> > > var(rep(1e30, 3))
> > [1] 2.971056e+28
> > > var(rep(1.2e30, 3))
> > [1] 2.971056e+28
> > > var(rep(0.9e30, 3))
> > [1] 2.971056e+28
> > > var(rep(0.8e30, 3))
> > [1] 0
> > > var(rep(1e29, 3))
> > [1] 0
> > > var(rep(1e30, 2))
> > [1] 0
> > > var(rep(1e30, 4))
> > [1] 0
> > > var(rep(1e31, 3))
> > [1] 0
> >
> >
> > The bug is repeatable, and I got the same results with R 1.3.1 (binary from
> > CRAN) and R 1.4.0 (binary from BD Ripley's site) both on Windows NT, and R
> > 1.4.0 on Solaris (compiled from sources).
>
> Not a bug, roundoff:
>
> > (1e30+1e30+1e30)/3-1e30
> [1] 1.407375e+14
> > 3*((1e30+1e30+1e30)/3-1e30)^2/2
> [1] 2.971056e+28
>
> Relative errors of the order 1e-16 are completely expectable in
> floating point arithmetic.
>
> For illustration, look at it in octal, after removing a bunch of
> trailing zeroes:
>
> > x<-1e30/(8^16)
> > structure(x, class="octmode")
> [1] "144762623464043165"
> > structure(x+x+x, class="octmode")
> [1] "456730272634151540"
>
> If you look carefully, you will see that a bit is lost in the process
> since 5+5+5 is 17 octal.
>
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Dec 26 17:01:17 2001
From: p.dalgaard@biostat.ku.dk (p.dalgaard@biostat.ku.dk)
Date: Wed, 26 Dec 2001 18:01:17 +0100 (MET)
Subject: [Rd] bug with var(rep(1e30, 3)) (PR#1228)
Message-ID: <200112261701.SAA13883@pubhealth.ku.dk>

Prof Brian Ripley <ripley@stats.ox.ac.uk> writes:

> But there are better algorithms that are not subject to this sort
> of rounding error.
> 
> I reckon that computing a variance this way is not the quality of
> algorithm one should expect from R.

Hmm. Which algorithms are there? Surely almost any kind of provisional
means subtraction could avoid the the extreme case where the mean of a
bunch of identical numbers is different from all of them, but will it
also improve precision in the general case?

Essentially our current algorithm in cov.c is

xm<- sum(x)/n
v <- 1/(n-1)*sum((x-xm)^2)

> > > x<-1e30/(8^16)
> > > structure(x, class="octmode")
> > [1] "144762623464043165"
> > > structure(x+x+x, class="octmode")
> > [1] "456730272634151540"
> >
> > If you look carefully, you will see that a bit is lost in the process
> > since 5+5+5 is 17 octal.


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From hb@maths.lth.se  Thu Dec 27 10:23:15 2001
From: hb@maths.lth.se (hb@maths.lth.se)
Date: Thu, 27 Dec 2001 11:23:15 +0100 (MET)
Subject: [Rd] RGui/R Console crashes when entering illegal symbols (PR#1229)
Message-ID: <200112271023.LAA15931@pubhealth.ku.dk>

Full_Name: Henrik Bengtsson
Version: v1.4.0 (2001-12-19)
OS: WinMe
Submission from: (NULL) (217.208.14.137)


When typing/pasting "" (UK pound), "" (sun/star), "" (paragraph), "" (1/2
char) etc in the R Console window the RGui environment crashes. I noticed this
first in R v1.4.0 (2001-12-19 by B. Ripley), but it also happens in R v1.3.1. 

The symbols above are on my keyboard which makes it easy crash R by mistake. I
addition to typing and paste these symbols, I also tried to enter a few other
characters by using Alt-NumKeys (http://www.asciitable.com/) and I found that
several other symbols with ASCII >127 crash the RGui.

Happy New Year and thanks

Henrik Bengtsson


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Dec 27 11:18:07 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 27 Dec 2001 12:18:07 +0100 (MET)
Subject: [Rd]  (PR#1229) RGui/R Console crashes when entering illegal
Message-ID: <200112271118.MAA16417@pubhealth.ku.dk>

This is answered in the rw-FAQ, Q2.12!  It is not a problem with R, but
with your installation of Windows.

*PLEASE* do not report FAQs as bugs: it a complete waste of the
developers' time.

On Thu, 27 Dec 2001 hb@maths.lth.se wrote:

> Full_Name: Henrik Bengtsson
> Version: v1.4.0 (2001-12-19)
> OS: WinMe
> Submission from: (NULL) (217.208.14.137)
>
>
> When typing/pasting "" (UK pound), "" (sun/star), "" (paragraph), "" (1/2
> char) etc in the R Console window the RGui environment crashes. I noticed this
> first in R v1.4.0 (2001-12-19 by B. Ripley), but it also happens in R v1.3.1.
>
> The symbols above are on my keyboard which makes it easy crash R by mistake. I
> addition to typing and paste these symbols, I also tried to enter a few other
> characters by using Alt-NumKeys (http://www.asciitable.com/) and I found that
> several other symbols with ASCII >127 crash the RGui.
>
> Happy New Year and thanks
>
> Henrik Bengtsson
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.__._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Dec 27 11:28:46 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 27 Dec 2001 12:28:46 +0100 (MET)
Subject: [Rd] scale in stars() is not as documented (PR#1230)
Message-ID: <200112271128.MAA16486@pubhealth.ku.dk>

R 1.4.0

?stars has

   scale: logical flag: if `TRUE', the columns of the data matrix are
          scaled independently so that the maximum value in each column
          is 1 and the minimum is 0.  If `FALSE', the presumption is
          that the data have been scaled by some other algorithm to the
          range [0,1].

but the code has

    if (scale) {
        x <- sweep(x, 2, apply(x, 2, max), FUN = "/")
        x[is.na(x)] <- 0
    }

and so just linearly (not affinely) scales the maximum to one. The result
is very different star plots from the S original.  Try

stars(state.x77[, c(7, 4, 6, 2, 5, 3)])

compared to

stars(state.x77[, c(7, 4, 6, 2, 5, 3)], byrow = T) # in S

I suspect we should fix the code, but does anyone rely on it?


BTW, it is hard to think of a more inefficient way to write that
scaling!

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kevin.Wright@pioneer.com  Thu Dec 27 21:52:59 2001
From: Kevin.Wright@pioneer.com (Kevin.Wright@pioneer.com)
Date: Thu, 27 Dec 2001 22:52:59 +0100 (MET)
Subject: [Rd] reshape error in 1.4 (PR#1231)
Message-ID: <200112272152.WAA18855@pubhealth.ku.dk>

Full_Name: Kevin Wright
Version: 1.4
OS: Windows 95
Submission from: (NULL) (170.54.59.160)


Note: This was the 1.4 build for Windows that Brian Ripley made available.

The first example in the help for reshape doesn't work for me.  When I cut and
paste, this is what happens:

>      data(Indometh,package="nls")
>      summary(Indometh)
 Subject      time            conc       
 1:11    Min.   :0.250   Min.   :0.0500  
 4:11    1st Qu.:0.750   1st Qu.:0.1100  
 2:11    Median :2.000   Median :0.3400  
 5:11    Mean   :2.886   Mean   :0.5918  
 6:11    3rd Qu.:5.000   3rd Qu.:0.8325  
 3:11    Max.   :8.000   Max.   :2.7200  
>      wide<-reshape(Indometh,v.names="conc",idvar="Subject",
+                     timevar="time",direction="wide")
Error in tapply(a, data[, idvar], function(b) length(unique(b)) == 1) : 
        arguments must have same length

> version
         _              
platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    4.0            
year     2001           
month    12             
day      19             
language R              


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Dec 27 22:10:45 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 Dec 2001 23:10:45 +0100
Subject: [Rd] reshape error in 1.4 (PR#1231)
In-Reply-To: <200112272152.WAA18855@pubhealth.ku.dk>
References: <200112272152.WAA18855@pubhealth.ku.dk>
Message-ID: <x27kr8mhzu.fsf@blueberry.kubism.ku.dk>

Kevin.Wright@pioneer.com writes:

> Full_Name: Kevin Wright
> Version: 1.4
> OS: Windows 95
> Submission from: (NULL) (170.54.59.160)
> 
> 
> Note: This was the 1.4 build for Windows that Brian Ripley made available.
> 
> The first example in the help for reshape doesn't work for me.  When I cut and
> paste, this is what happens:
> 
> >      data(Indometh,package="nls")
> >      summary(Indometh)
>  Subject      time            conc       
>  1:11    Min.   :0.250   Min.   :0.0500  
>  4:11    1st Qu.:0.750   1st Qu.:0.1100  
>  2:11    Median :2.000   Median :0.3400  
>  5:11    Mean   :2.886   Mean   :0.5918  
>  6:11    3rd Qu.:5.000   3rd Qu.:0.8325  
>  3:11    Max.   :8.000   Max.   :2.7200  
> >      wide<-reshape(Indometh,v.names="conc",idvar="Subject",
> +                     timevar="time",direction="wide")
> Error in tapply(a, data[, idvar], function(b) length(unique(b)) == 1) : 
>         arguments must have same length

This doesn't appear to be reproducible on non-Windows machines, and
I'd suspect that Brian checks quite carefully for this kind of thing
on Windows as well. You wouldn't happen to have something floating
around in your workspace that could get in the way? Otherwise try
turning on debug(reshape) and when it is defined also
debug(reshapeWide). Then tell us what is in a and data[, idvar] when
the problem appears.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Thu Dec 27 22:26:42 2001
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Thu, 27 Dec 2001 14:26:42 -0800 (PST)
Subject: [Rd] reshape error in 1.4 (PR#1231)
In-Reply-To: <x27kr8mhzu.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.A41.4.33.0112271424000.79082-100000@homer09.u.washington.edu>

On 27 Dec 2001, Peter Dalgaard BSA wrote:

> Kevin.Wright@pioneer.com writes:
>
> > Full_Name: Kevin Wright
> > Version: 1.4
> > OS: Windows 95
> > Submission from: (NULL) (170.54.59.160)
> >
> >
> > Note: This was the 1.4 build for Windows that Brian Ripley made available.
> >
> > The first example in the help for reshape doesn't work for me.  When I cut and
> > paste, this is what happens:


I don't have that build, but the example definitely works in the windows
version that Guido announced, which I think is going to be on CRAN very
soon.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Dec 28 08:30:47 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 28 Dec 2001 09:30:47 +0100 (MET)
Subject: [Rd] reshape error in 1.4 (PR#1231)
Message-ID: <200112280830.JAA20176@pubhealth.ku.dk>

On 27 Dec 2001, Peter Dalgaard BSA wrote:

> Kevin.Wright@pioneer.com writes:
>
> > Full_Name: Kevin Wright
> > Version: 1.4
> > OS: Windows 95
> > Submission from: (NULL) (170.54.59.160)
> >
> >
> > Note: This was the 1.4 build for Windows that Brian Ripley made available.
> >
> > The first example in the help for reshape doesn't work for me.  When I cut and
> > paste, this is what happens:
> >
> > >      data(Indometh,package="nls")
> > >      summary(Indometh)
> >  Subject      time            conc
> >  1:11    Min.   :0.250   Min.   :0.0500
> >  4:11    1st Qu.:0.750   1st Qu.:0.1100
> >  2:11    Median :2.000   Median :0.3400
> >  5:11    Mean   :2.886   Mean   :0.5918
> >  6:11    3rd Qu.:5.000   3rd Qu.:0.8325
> >  3:11    Max.   :8.000   Max.   :2.7200
> > >      wide<-reshape(Indometh,v.names="conc",idvar="Subject",
> > +                     timevar="time",direction="wide")
> > Error in tapply(a, data[, idvar], function(b) length(unique(b)) == 1) :
> >         arguments must have same length
>
> This doesn't appear to be reproducible on non-Windows machines, and
> I'd suspect that Brian checks quite carefully for this kind of thing
> on Windows as well. You wouldn't happen to have something floating
> around in your workspace that could get in the way? Otherwise try
> turning on debug(reshape) and when it is defined also
> debug(reshapeWide). Then tell us what is in a and data[, idvar] when
> the problem appears.

Yes, example(reshape) works on that build on the machine on which it was
built.  Running all the examples is part of make check, so if they fail
for you it is very likely to be a local problem.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kevin.wright@pioneer.com  Fri Dec 28 14:45:51 2001
From: kevin.wright@pioneer.com (kevin.wright@pioneer.com)
Date: Fri, 28 Dec 2001 15:45:51 +0100 (MET)
Subject: [Rd] reshape error in 1.4 (PR#1231)
Message-ID: <200112281445.PAA22596@pubhealth.ku.dk>

Thanks for the replies.

For whatever reason, installing the "official" version solved the problem.

Kevin Wright

> -----Original Message-----
> From: Prof Brian Ripley [mailto:ripley@stats.ox.ac.uk]
> Sent: Friday, December 28, 2001 2:30 AM
> To: Peter Dalgaard BSA
> Cc: Wright, Kevin; R-bugs@biostat.ku.dk
> Subject: Re: [Rd] reshape error in 1.4 (PR#1231)
> 
> 
> On 27 Dec 2001, Peter Dalgaard BSA wrote:
> 
> > Kevin.Wright@pioneer.com writes:
> >
> > > Full_Name: Kevin Wright
> > > Version: 1.4
> > > OS: Windows 95
> > > Submission from: (NULL) (170.54.59.160)
> > >
> > >
> > > Note: This was the 1.4 build for Windows that Brian 
> Ripley made available.
> > >
> > > The first example in the help for reshape doesn't work 
> for me.  When I cut and
> > > paste, this is what happens:
> > >
> > > >      data(Indometh,package="nls")
> > > >      summary(Indometh)
> > >  Subject      time            conc
> > >  1:11    Min.   :0.250   Min.   :0.0500
> > >  4:11    1st Qu.:0.750   1st Qu.:0.1100
> > >  2:11    Median :2.000   Median :0.3400
> > >  5:11    Mean   :2.886   Mean   :0.5918
> > >  6:11    3rd Qu.:5.000   3rd Qu.:0.8325
> > >  3:11    Max.   :8.000   Max.   :2.7200
> > > >      wide<-reshape(Indometh,v.names="conc",idvar="Subject",
> > > +                     timevar="time",direction="wide")
> > > Error in tapply(a, data[, idvar], function(b) 
> length(unique(b)) == 1) :
> > >         arguments must have same length
> >
> > This doesn't appear to be reproducible on non-Windows machines, and
> > I'd suspect that Brian checks quite carefully for this kind of thing
> > on Windows as well. You wouldn't happen to have something floating
> > around in your workspace that could get in the way? Otherwise try
> > turning on debug(reshape) and when it is defined also
> > debug(reshapeWide). Then tell us what is in a and data[, idvar] when
> > the problem appears.
> 
> Yes, example(reshape) works on that build on the machine on 
> which it was
> built.  Running all the examples is part of make check, so if 
> they fail
> for you it is very likely to be a local problem.
> 
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From james.holtman@convergys.com  Sat Dec 29 20:29:28 2001
From: james.holtman@convergys.com (james.holtman@convergys.com)
Date: Sat, 29 Dec 2001 21:29:28 +0100 (MET)
Subject: [Rd] Slow 'read.table' in R 1.4.0 (PR#1232)
Message-ID: <200112292029.VAA26005@pubhealth.ku.dk>

The 'read.table' function appears to be up to 10X slower in R 1.4.0 than R
1.3.1 for some of the data sets I read in.  I was comparing the source code
for the 2 versions and see that it was rewritten in R 1.4.0.

I think I found out what part of the problem might be.  I was comparing
R1.3.1 and R1.4.0 code and it appears that a statement is missing in some
of the code for R 1.4.  This is the section of code at the beginning of
read.table.  The loop starting with 'while (nlines < 5)' will read in the
entire file, because there is no increment of 'nlines' in the loop.  I
traced through the code  and this is what was happening.  It then does a
'pushBack' of the entire file.  In tracing through the code, this is where
is appears to be taking the time.  With the change noted below, the speed
was similar to R 1.3.1 and the results were the same.

Here is the current code with what I think is the additional statement
needed:

=================part of read.table========

    nlines <- 0
    lines <- NULL
    while (nlines < 5) {
        line <- readLines(file, 1, ok = TRUE)
        if (length(line) == 0)
            break
        if (blank.lines.skip && length(grep("^[ \\t]*$", line)))
            next
        if (length(comment.char) && nchar(comment.char)) {
            pattern <- paste("^[ \\t]*", substring(comment.char,
                1, 1), sep = "")
            if (length(grep(pattern, line)))
                next
        }
        lines <- c(lines, line)
       #
       #  additional line required
       #
       nlines <- nlines+1
    }
    nlines <- length(lines)
    if (!nlines) {
        if (missing(col.names))
            stop("no lines available in input")
        else {
            tmp <- vector("list", length(col.names))
            names(tmp) <- col.names
            class(tmp) <- "data.frame"
            return(tmp)
        }
    }
    if (all(nchar(lines) == 0))
        stop("empty beginning of file")
    pushBack(c(lines, lines), file)

--

NOTICE:  The information contained in this electronic mail transmission is
intended by Convergys Corporation for the use of the named individual or
entity to which it is directed and may contain information that is
privileged or otherwise confidential.  If you have received this electronic
mail transmission in error, please delete it from your system without
copying or forwarding it, and notify the sender of the error by reply email
or by telephone (collect), so that the sender's address records can be
corrected.



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sat Dec 29 21:25:39 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 29 Dec 2001 22:25:39 +0100 (MET)
Subject: [Rd] Slow 'read.table' in R 1.4.0 (PR#1232)
Message-ID: <200112292125.WAA26095@pubhealth.ku.dk>

As I have told you privately several days ago,

*This has already been fixed in R-patched*.


On Sat, 29 Dec 2001 james.holtman@convergys.com wrote:

> The 'read.table' function appears to be up to 10X slower in R 1.4.0 than R
> 1.3.1 for some of the data sets I read in.  I was comparing the source code
> for the 2 versions and see that it was rewritten in R 1.4.0.
>
> I think I found out what part of the problem might be.  I was comparing
> R1.3.1 and R1.4.0 code and it appears that a statement is missing in some
> of the code for R 1.4.  This is the section of code at the beginning of
> read.table.  The loop starting with 'while (nlines < 5)' will read in the
> entire file, because there is no increment of 'nlines' in the loop.  I
> traced through the code  and this is what was happening.  It then does a
> 'pushBack' of the entire file.  In tracing through the code, this is where
> is appears to be taking the time.  With the change noted below, the speed
> was similar to R 1.3.1 and the results were the same.
>
> Here is the current code with what I think is the additional statement
> needed:
>
> =================part of read.table========
>
>     nlines <- 0
>     lines <- NULL
>     while (nlines < 5) {
>         line <- readLines(file, 1, ok = TRUE)
>         if (length(line) == 0)
>             break
>         if (blank.lines.skip && length(grep("^[ \\t]*$", line)))
>             next
>         if (length(comment.char) && nchar(comment.char)) {
>             pattern <- paste("^[ \\t]*", substring(comment.char,
>                 1, 1), sep = "")
>             if (length(grep(pattern, line)))
>                 next
>         }
>         lines <- c(lines, line)
>        #
>        #  additional line required
>        #
>        nlines <- nlines+1
>     }
>     nlines <- length(lines)
>     if (!nlines) {
>         if (missing(col.names))
>             stop("no lines available in input")
>         else {
>             tmp <- vector("list", length(col.names))
>             names(tmp) <- col.names
>             class(tmp) <- "data.frame"
>             return(tmp)
>         }
>     }
>     if (all(nchar(lines) == 0))
>         stop("empty beginning of file")
>     pushBack(c(lines, lines), file)
>
> --
>
> NOTICE:  The information contained in this electronic mail transmission is
> intended by Convergys Corporation for the use of the named individual or
> entity to which it is directed and may contain information that is
> privileged or otherwise confidential.  If you have received this electronic
> mail transmission in error, please delete it from your system without
> copying or forwarding it, and notify the sender of the error by reply email
> or by telephone (collect), so that the sender's address records can be
> corrected.
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jago@mclink.it  Sun Dec 30 21:20:23 2001
From: jago@mclink.it (Stefano Iacus)
Date: Sun, 30 Dec 2001 22:20:23 +0100
Subject: [Rd] ifs estimator
Message-ID: <090E8430-FD6B-11D5-B2FA-003065CC4CB8@mclink.it>

Hy all,

I have written a small library that provide a new distribution function 
estimator based on IFS (that are essentially fractals).

I would be pleased if any of you can build hte library for Unix-type 
machines and Windows implementations with the included makefiles as a 
Mac library is already working. As I'm not able to test these platforms 
any modification to makefiles is welcome.

I have put something (src and Monte Carlo results) at

http://159.149.74.117/~web/R/ifs/

This is a very preliminary release of the library and only the basic 
estimator is contained in it. We (me and D. La Torre) are working on 
smarter estimators and also on density estimators.

On that page there is also some theory on the subject at a very 
preliminary stage as a full paper will follow in 2002.

thank you for your attention and I wish you an happy new year.

			Stefano

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Mon Dec 31 13:12:43 2001
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Mon, 31 Dec 2001 14:12:43 +0100
Subject: [Rd] ifs estimator
In-Reply-To: <090E8430-FD6B-11D5-B2FA-003065CC4CB8@mclink.it>
References: <090E8430-FD6B-11D5-B2FA-003065CC4CB8@mclink.it>
Message-ID: <15408.25675.538679.627892@gargle.gargle.HOWL>

>>>>> "Stefano" == Stefano Iacus <jago@mclink.it> writes:

    Stefano> Hy all, I have written a small library that provide

((it's called  ``package''  , not library ... ))

    Stefano> a new distribution function estimator based on IFS
    Stefano> (that are essentially fractals).

    Stefano> I would be pleased if any of you can build hte
    Stefano> library for Unix-type machines and Windows
    Stefano> implementations with the included makefiles as a
    Stefano> Mac library is already working. As I'm not able to
    Stefano> test these platforms any modification to makefiles
    Stefano> is welcome.

    Stefano> I have put something (src and Monte Carlo results)
    Stefano> at

    Stefano> http://159.149.74.117/~web/R/ifs/

    Stefano> This is a very preliminary release of the library
    Stefano> and only the basic estimator is contained in it. We
    Stefano> (me and D. La Torre) are working on smarter
    Stefano> estimators and also on density estimators.

I had to change DESCRIPTION.in (this is for R standard
 packages!!) to DESCRIPTION
{and then you don't need a TITLE file anymore).

Also the file permissions were wrong in quite a few places, you
had extra executable permission on simple text files.

    Stefano> On that page there is also some theory on the
    Stefano> subject at a very preliminary stage as a full paper
    Stefano> will follow in 2002.
(fine).

Note that I would recommend using a tests/ subdirectory
where you'd put some of the code currently in your (separately
packaged) ifs demo.

After the above changes, `R CMD check' only reports two
remaining problem groups :

1)
 >> * checking Rd files ... WARNING
 >> *  non-standard keyword(s) in `man/ifs.Rd': distribution function estimation

Note that you must choose from <RHOME>/doc/KEYWORDS

2)

 >>   * checking for undocumented objects ... WARNING
 >>   [1] "phi"    "SM.IFS"
 
 {you have to decide what to do here}.


    Stefano> thank you for your attention and I wish you an
    Stefano> happy new year.

The same to you and all other R-develers!

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Mon Dec 31 13:40:04 2001
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Mon, 31 Dec 2001 14:40:04 +0100 (MET)
Subject: [Rd] scale in stars() is not as documented (PR#1230)
Message-ID: <200112311340.OAA00678@pubhealth.ku.dk>

>>>>> "BDR" == Brian D Ripley <ripley@stats.ox.ac.uk> writes:

    BDR> R 1.4.0 ?stars has

    BDR>    scale: logical flag: if `TRUE', the columns of the
    BDR> data matrix are scaled independently so that the
    BDR> maximum value in each column is 1 and the minimum is 0.
    BDR> If `FALSE', the presumption is that the data have been
    BDR> scaled by some other algorithm to the range [0,1].

    BDR> but the code has

    BDR>     if (scale) { x <- sweep(x, 2, apply(x, 2, max), FUN
    BDR> = "/") x[is.na(x)] <- 0 }

    BDR> and so just linearly (not affinely) scales the maximum
    BDR> to one. The result is very different star plots from
    BDR> the S original.  Try

    BDR> stars(state.x77[, c(7, 4, 6, 2, 5, 3)])

    BDR> compared to

    BDR> stars(state.x77[, c(7, 4, 6, 2, 5, 3)], byrow = T) # in S

    BDR> I suspect we should fix the code, but does anyone rely
    BDR> on it?



    BDR> BTW, it is hard to think of a more inefficient way to
    BDR> write that scaling!

Thank you, Brian, for fixing it (for R-patched i.e. R 1.4.1 to be).

Note that the scale thing all came from the original 

  ### T. Dye <tdye@lava.net>, July 1999
  ### This code started life as spatial star plots by David A. Andrews.
  ### See http://www.stat.rice.edu/~andrewsd/software/software.html.

(and that code was at least a start,..)
We had just done some (as you saw) `not quite perfect' NA handling.

Martin


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From viele@ms.uky.edu  Sun Dec  2 00:27:55 2001
From: viele@ms.uky.edu (viele@ms.uky.edu)
Date: Sun, 2 Dec 2001 01:27:55 +0100 (MET)
Subject: [Rd] bug in rbinom? (PR#1190)
Message-ID: <200112020027.BAA29162@pubhealth.ku.dk>

Full_Name: Kert Viele
Version: 1.3
OS: Windows ME and 2000
Submission from: (NULL) (65.6.218.65)



Hello! Thanks for all your efforts on R. They are appreciated!

I was simulating the central limit theorem in class,
but found that repeated use of

mean(rbinom(100000,500,0.4))

resulted in values less than 200 (the expected mean), for example

> mean(rbinom(100000,500,0.4))
[1] 199.0294
> mean(rbinom(100000,500,0.4))
[1] 199.1077
> mean(rbinom(100000,500,0.4))
[1] 199.0668
and so on.

I did this 1000 times and found the results to be distributed
approximately N(199.0787,s=0.036). The standard deviation
is pretty accurate, but the mean is significantly off from 200.

Thanks for any help! (including telling me my mistakes!)
- Kert Viele
Assistant Professor of Statistics
University of Kentucky



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sun Dec  2 00:55:16 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 Dec 2001 01:55:16 +0100
Subject: [Rd] bug in rbinom? (PR#1190)
In-Reply-To: <200112020027.BAA29162@pubhealth.ku.dk>
References: <200112020027.BAA29162@pubhealth.ku.dk>
Message-ID: <x2vgfqwidn.fsf@blueberry.kubism.ku.dk>

viele@ms.uky.edu writes:

> I was simulating the central limit theorem in class,
> but found that repeated use of
> 
> mean(rbinom(100000,500,0.4))
> 
> resulted in values less than 200 (the expected mean), for example
> 
> > mean(rbinom(100000,500,0.4))
> [1] 199.0294
> > mean(rbinom(100000,500,0.4))
> [1] 199.1077
> > mean(rbinom(100000,500,0.4))
> [1] 199.0668
> and so on.
> 
> I did this 1000 times and found the results to be distributed
> approximately N(199.0787,s=0.036). The standard deviation
> is pretty accurate, but the mean is significantly off from 200.

I see the same thing on Linux. Looks like it needs checking against
the original CACM algorithm.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sun Dec  2 17:38:06 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 Dec 2001 18:38:06 +0100
Subject: [Rd] bug in rbinom? (PR#1190)
In-Reply-To: <x2vgfqwidn.fsf@blueberry.kubism.ku.dk>
References: <200112020027.BAA29162@pubhealth.ku.dk>
 <x2vgfqwidn.fsf@blueberry.kubism.ku.dk>
Message-ID: <x2snat5xq9.fsf@blueberry.kubism.ku.dk>

Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:

> viele@ms.uky.edu writes:
> 
> > I was simulating the central limit theorem in class,
> > but found that repeated use of
> > 
> > mean(rbinom(100000,500,0.4))
> > 
> > resulted in values less than 200 (the expected mean), for example
> > 
> > > mean(rbinom(100000,500,0.4))
> > [1] 199.0294
> > > mean(rbinom(100000,500,0.4))
> > [1] 199.1077
> > > mean(rbinom(100000,500,0.4))
> > [1] 199.0668
> > and so on.
> > 
> > I did this 1000 times and found the results to be distributed
> > approximately N(199.0787,s=0.036). The standard deviation
> > is pretty accurate, but the mean is significantly off from 200.
> 
> I see the same thing on Linux. Looks like it needs checking against
> the original CACM algorithm.

This seems not to be present in the original Fortran (once I got it to
compile properly -- it requires -fno-automatic) so there has to be a
transcription error somewhere. I'll be darned if I can find it, though. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sun Dec  2 18:04:45 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 Dec 2001 19:04:45 +0100
Subject: [Rd] bug in rbinom? (PR#1190)
In-Reply-To: <x2snat5xq9.fsf@blueberry.kubism.ku.dk>
References: <200112020027.BAA29162@pubhealth.ku.dk>
 <x2vgfqwidn.fsf@blueberry.kubism.ku.dk>
 <x2snat5xq9.fsf@blueberry.kubism.ku.dk>
Message-ID: <x2vgfppkg2.fsf@blueberry.kubism.ku.dk>

Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:

> Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:
> 
> > viele@ms.uky.edu writes:
> > 
> > > I was simulating the central limit theorem in class,
> > > but found that repeated use of
> > > 
> > > mean(rbinom(100000,500,0.4))
> > > 
> > > resulted in values less than 200 (the expected mean), for example
> > > 
> > > > mean(rbinom(100000,500,0.4))
> > > [1] 199.0294
> > > > mean(rbinom(100000,500,0.4))
> > > [1] 199.1077
> > > > mean(rbinom(100000,500,0.4))
> > > [1] 199.0668
> > > and so on.
> > > 
> > > I did this 1000 times and found the results to be distributed
> > > approximately N(199.0787,s=0.036). The standard deviation
> > > is pretty accurate, but the mean is significantly off from 200.
> > 
> > I see the same thing on Linux. Looks like it needs checking against
> > the original CACM algorithm.
> 
> This seems not to be present in the original Fortran (once I got it to
> compile properly -- it requires -fno-automatic) so there has to be a
> transcription error somewhere. I'll be darned if I can find it, though. 

Got it!  

log(w * p / (x1 * q))

had lost the parentheses in the denominator... Will fix for 1.4


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From katfinancial@yahoo.com  Mon Dec  3 12:57:05 2001
From: katfinancial@yahoo.com (TomKat)
Date: Mon, 03 Dec 2001 20:57:05 +0800
Subject: [Rd] Financial Modelling with R
Message-ID: <3C0B76A1.8080803@yahoo.com>

hi there,

are there any people out there who would like to collaborate on 
developing some financial models (packages and rweb modules)?
I can contribute the design and data - pretty much any data there is 
including real-time data . please email if interested.  thanks.

tom
katfinancial@yahoo.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gregory_r_warnes@groton.pfizer.com  Mon Dec  3 19:34:47 2001
From: gregory_r_warnes@groton.pfizer.com (gregory_r_warnes@groton.pfizer.com)
Date: Mon, 3 Dec 2001 20:34:47 +0100 (MET)
Subject: [Rd] Segfault in foreign:read.xport (PR#1192)
Message-ID: <200112031934.UAA14368@pubhealth.ku.dk>


I get a segfault when trying to read a SAS transport file with rather long
rows using read.xport from package foreign (version 0.4-7).  The culprit
seems to be these lines in xport_read in SASxport.c:

590                         } else {
591                             c = strchr(tmpchar, ' ');
592                             *c = '\0';
593                             SET_STRING_ELT(VECTOR_ELT(data, k), j,
594                                            (c == tmpchar) ?
R_BlankString :
595                                            mkChar(tmpchar));
596                         }

(gdb) print tmpchar
$1 = 0xb63674 "0502"
(gdb) print c
$2 = 0x0

According to the solaris man pages, strchr returns NULL if there is no
match.  Changing lines 591 and 592 to add an appropriate test for null seems
to fix the problem:

590                         } else {
591                             if( c = strchr(tmpchar, ' ') )
592                                 *c = '\0';
593                             SET_STRING_ELT(VECTOR_ELT(data, k), j,
594                                            (c == tmpchar) ?
R_BlankString :
595                                            mkChar(tmpchar));
596                         }

I haven't looked closely at the code, so this may not be the correct
solution.

Patch and version information below.

-Greg


-------------

> R.version
         _                   
platform sparc-sun-solaris2.8
arch     sparc               
os       solaris2.8          
system   sparc, solaris2.8   
status                       
major    1                   
minor    3.1                 
year     2001                
month    08                  
day      31                  
language R                   


-----------

-------------Patch Starts Here----------------
diff -r foreign.orig//src/SASxport.c foreign/src/SASxport.c
591,595c591,598
< 			c = strchr(tmpchar, ' ');
< 			*c = '\0';
< 			SET_STRING_ELT(VECTOR_ELT(data, k), j,
< 				       (c == tmpchar) ? R_BlankString :
< 				       mkChar(tmpchar));
---
> 		      if( c = strchr(tmpchar, ' ') )
>                           {
> 			    *c = '\0';
> 			  }
> 
> 		      SET_STRING_ELT(VECTOR_ELT(data, k), j,
> 				     (c == tmpchar) ? R_BlankString :
> 				     mkChar(tmpchar));
------------Patch Ends Here--------------------


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Mon Dec  3 21:46:45 2001
From: tlumley@u.washington.edu (tlumley@u.washington.edu)
Date: Mon, 3 Dec 2001 22:46:45 +0100 (MET)
Subject: [Rd] Re: [R] appending similar data frames? (PR#1193)
Message-ID: <200112032146.WAA15067@pubhealth.ku.dk>

On Mon, 3 Dec 2001, Duncan Murdoch wrote:

> As long as the names match exactly in the two original frames, you
> should be able to do it using "rbind" and "cbind":
>
> Specifically:
>
>  rbind( cbind(x, 'x'), cbind(y, 'y') )
>


I would have thought that the recycling rules allowed this, but it doesn't
work and you need cbind(x, rep('x', NROW(x))) instead.

The documentation only specifically addresses vectors and matrices but
says
     When the arguments consist of a mix of matrices and vectors the
     number of columns (rows) of the result is determined by the number
     of columns (rows) of the matrix arguments.  Any vectors have their
     values recycled or subsetted to achieve this length.

I think it's a bug, but it might just be a documentation bug.


	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Tue Dec  4 09:27:14 2001
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Tue, 4 Dec 2001 10:27:14 +0100 (MET)
Subject: [Rd] documentation for diff (PR#1185)
Message-ID: <200112040927.KAA18814@pubhealth.ku.dk>

>>>>> "PaulG" == Paul Gilbert <pgilbert@bank-banque-canada.ca> writes:

    PaulG> The documentation for diff says: If `x' is a vector
    PaulG> of length `n' and `differences=1', then the computed
    PaulG> result is equal to the successive differences
    PaulG> `x[(1:n-lag)] - x[(lag:n)]'. ...

    PaulG> This last line should say:

    PaulG>      `x[(1+lag):n] - x[1:(n-lag)]'.

Of course!
Thank you Paul; fix now committed.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rmh@surfer.sbm.temple.edu  Tue Dec  4 16:27:00 2001
From: rmh@surfer.sbm.temple.edu (rmh@surfer.sbm.temple.edu)
Date: Tue, 4 Dec 2001 17:27:00 +0100 (MET)
Subject: [Rd] factorial() not here (PR#1194)
Message-ID: <200112041627.RAA27386@pubhealth.ku.dk>

Version 1.3.1  (2001-08-31)
factorial() is not in R.  It is in S-Plus with the definition

         factorial <- function(n) gamma(n + 1)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rmh@surfer.sbm.temple.edu  Tue Dec  4 16:34:51 2001
From: rmh@surfer.sbm.temple.edu (rmh@surfer.sbm.temple.edu)
Date: Tue, 4 Dec 2001 17:34:51 +0100 (MET)
Subject: [Rd] help(dbinom) recommended documentation improvement (PR#1195)
Message-ID: <200112041634.RAA27469@pubhealth.ku.dk>

Version 1.3.1  (2001-08-31)

help(dbinom)

currently says
                  p(x) = Choose(n,x) p^x (1-p)^(n-x)

Better would be
                  p(x) = choose(n,x) p^x (1-p)^(n-x)
since "choose" with lower case is the function name.

Even better would be
                  p(x) = choose(n,x) * p^x * (1-p)^(n-x)
because the user could pick up the right-hand-side and execute it.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Torsten.Hothorn@rzmail.uni-erlangen.de  Tue Dec  4 17:25:08 2001
From: Torsten.Hothorn@rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Tue, 4 Dec 2001 18:25:08 +0100 (MET)
Subject: [Rd] pt fails with ncp
Message-ID: <Pine.LNX.4.21.0112041822010.28603-100000@artemis.imbe.med.uni-erlangen.de>


?pt states that ncp=0 is default, so this is correct

> pt(3,3)
[1] 0.9711656
> pt(3,3, ncp=0)
[1] 0.9711656

but this is not

> pt(-Inf,3)
[1] 0
> pt(-Inf,3,ncp=0)
[1] 0.5

is it?

Torsten

--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = Under development (unstable)
 major = 1
 minor = 4.0
 year = 2001
 month = 12
 day = 03
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Dec  4 17:33:55 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 4 Dec 2001 17:33:55 +0000 (GMT)
Subject: [Rd] pt fails with ncp
In-Reply-To: <Pine.LNX.4.21.0112041822010.28603-100000@artemis.imbe.med.uni-erlangen.de>
Message-ID: <Pine.LNX.4.31.0112041731120.22130-100000@gannet.stats>

On Tue, 4 Dec 2001, Torsten Hothorn wrote:

>
> ?pt states that ncp=0 is default, so this is correct
>
> > pt(3,3)
> [1] 0.9711656
> > pt(3,3, ncp=0)
> [1] 0.9711656
>
> but this is not
>
> > pt(-Inf,3)
> [1] 0
> > pt(-Inf,3,ncp=0)
> [1] 0.5
>
> is it?

Nor is pt(Inf, 3, ncp=0)

It's very easy to fix, done ....

>
> Torsten
>
> --please do not edit the information below--
>
> Version:
>  platform = i686-pc-linux-gnu
>  arch = i686
>  os = linux-gnu
>  system = i686, linux-gnu
>  status = Under development (unstable)
>  major = 1
>  minor = 4.0
>  year = 2001
>  month = 12
>  day = 03
>  language = R
>
> Search Path:
>  .GlobalEnv, package:ctest, Autoloads, package:base
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Wed Dec  5 08:48:33 2001
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Wed, 5 Dec 2001 09:48:33 +0100 (MET)
Subject: [Rd] factorial() not here (PR#1194)
Message-ID: <200112050848.JAA02841@pubhealth.ku.dk>

>>>>> "rmh" == rmh  <rmh@surfer.sbm.temple.edu> writes:

    rmh> Version 1.3.1 (2001-08-31) factorial() is not in R.  It
    rmh> is in S-Plus with the definition

    rmh>          factorial <- function(n) gamma(n + 1)

well, and where's the bug ?  There are many more functions in S+
which are not in R.  factorial() is not a blue book or white
book function {of course!}; hence no direct reason to have it in R.
  Reversely, should we start sending bug reports to
S-news or Insightful for R functions not existing in S+ ? 

No, more seriously, are you really finding that factorial
is hard to use via gamma?  Very often it is really logarithms
one should work with anyway, hence lgamma().  Now we would also
`need' lfactorial() .....

Regards,
Martin


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gregory_r_warnes@groton.pfizer.com  Wed Dec  5 14:16:49 2001
From: gregory_r_warnes@groton.pfizer.com (Warnes, Gregory R)
Date: Wed, 5 Dec 2001 09:16:49 -0500
Subject: [Rd] factorial() not here (PR#1194)
Message-ID: <5429125E11E4D411AF7300805FE603A8014CF076@groexmbcr02.pfizer.com>


Its not a bug, its a feature request.  I've needed and written this simple
function a number of times and would like to have it available in a package.
Consequently, I'll add it the gregmisc package.

-Greg

 >  -----Original Message-----
 >  From: maechler@stat.math.ethz.ch [mailto:maechler@stat.math.ethz.ch]
 >  Sent: Wednesday, December 05, 2001 3:49 AM
 >  To: r-devel@stat.math.ethz.ch
 >  Cc: R-bugs@biostat.ku.dk
 >  Subject: Re: [Rd] factorial() not here (PR#1194)
 >  
 >  
 >  >>>>> "rmh" == rmh  <rmh@surfer.sbm.temple.edu> writes:
 >  
 >      rmh> Version 1.3.1 (2001-08-31) factorial() is not in R.  It
 >      rmh> is in S-Plus with the definition
 >  
 >      rmh>          factorial <- function(n) gamma(n + 1)
 >  
 >  well, and where's the bug ?  There are many more functions in S+
 >  which are not in R.  factorial() is not a blue book or white
 >  book function {of course!}; hence no direct reason to have it in R.
 >    Reversely, should we start sending bug reports to
 >  S-news or Insightful for R functions not existing in S+ ? 
 >  
 >  No, more seriously, are you really finding that factorial
 >  is hard to use via gamma?  Very often it is really logarithms
 >  one should work with anyway, hence lgamma().  Now we would also
 >  `need' lfactorial() .....
 >  
 >  Regards,
 >  Martin
 >  
 >  
 >  -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
 >  -.-.-.-.-.-.-.-.-.-
 >  r-devel mailing list -- Read 
 >  http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
 >  Send "info", "help", or "[un]subscribe"
 >  (in the "body", not the subject !)  To: 
 >  r-devel-request@stat.math.ethz.ch
 >  _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
 >  _._._._._._._._._._
 >  


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gregory_r_warnes@groton.pfizer.com  Wed Dec  5 14:18:18 2001
From: gregory_r_warnes@groton.pfizer.com (gregory_r_warnes@groton.pfizer.com)
Date: Wed, 5 Dec 2001 15:18:18 +0100 (MET)
Subject: [Rd] factorial() not here (PR#1194)
Message-ID: <200112051418.PAA11110@pubhealth.ku.dk>


Its not a bug, its a feature request.  I've needed and written this simple
function a number of times and would like to have it available in a package.
Consequently, I'll add it the gregmisc package.

-Greg

 >  -----Original Message-----
 >  From: maechler@stat.math.ethz.ch [mailto:maechler@stat.math.ethz.ch]
 >  Sent: Wednesday, December 05, 2001 3:49 AM
 >  To: r-devel@stat.math.ethz.ch
 >  Cc: R-bugs@biostat.ku.dk
 >  Subject: Re: [Rd] factorial() not here (PR#1194)
 >  
 >  
 >  >>>>> "rmh" == rmh  <rmh@surfer.sbm.temple.edu> writes:
 >  
 >      rmh> Version 1.3.1 (2001-08-31) factorial() is not in R.  It
 >      rmh> is in S-Plus with the definition
 >  
 >      rmh>          factorial <- function(n) gamma(n + 1)
 >  
 >  well, and where's the bug ?  There are many more functions in S+
 >  which are not in R.  factorial() is not a blue book or white
 >  book function {of course!}; hence no direct reason to have it in R.
 >    Reversely, should we start sending bug reports to
 >  S-news or Insightful for R functions not existing in S+ ? 
 >  
 >  No, more seriously, are you really finding that factorial
 >  is hard to use via gamma?  Very often it is really logarithms
 >  one should work with anyway, hence lgamma().  Now we would also
 >  `need' lfactorial() .....
 >  
 >  Regards,
 >  Martin
 >  
 >  
 >  -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
 >  -.-.-.-.-.-.-.-.-.-
 >  r-devel mailing list -- Read 
 >  http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
 >  Send "info", "help", or "[un]subscribe"
 >  (in the "body", not the subject !)  To: 
 >  r-devel-request@stat.math.ethz.ch
 >  _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
 >  _._._._._._._._._._
 >  


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Dec  5 15:02:47 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 5 Dec 2001 15:02:47 +0000 (GMT)
Subject: [Rd] Windows testing
Message-ID: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>

R 1.4.0 is now sinking into feature freeze, and we'd like some help
testing it under Windows.  Duncan Murdoch and Uwe Ligges have already
volunteered.

I've put a copy of SetupR140.exe at

http://www.stats.ox.ac.uk/pub/bdr/RWin

Also in that directory is a file TESTING suggesting some tests, not all of
which have been run on this build.  As the graphics internals have been
changed a lot recently that is one area to check out closely.

Problem reports to R-devel, please.  (At this stage the features are
frozen, so no feature requests ....)

I don't have much access to a suitable (internet-connected) Windows
machine these days, but Duncan may be able to put up later builds as
testing proceeds.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossini@u.washington.edu  Wed Dec  5 15:59:12 2001
From: rossini@u.washington.edu (A.J. Rossini)
Date: 05 Dec 2001 07:59:12 -0800
Subject: [Rd] factorial() not here (PR#1194)
In-Reply-To: <200112050848.JAA02841@pubhealth.ku.dk>
References: <200112050848.JAA02841@pubhealth.ku.dk>
Message-ID: <87pu5tbqun.fsf@jeeves.blindglobe.net>

>>>>> "m" == maechler  <maechler@stat.math.ethz.ch> writes:

>>>>> "rmh" == rmh  <rmh@surfer.sbm.temple.edu> writes:

    m> well, and where's the bug ?  There are many more functions in
    m> S+ which are not in R.  factorial() is not a blue book or white
    m> book function {of course!}; hence no direct reason to have it
    m> in R.  Reversely, should we start sending bug reports to S-news
    m> or Insightful for R functions not existing in S+ ?

Combine this with Brian's comment about Greg's concat masking an S
function, and this is amusing.

R-core can't have it both ways, emulating S when it pleases, and
complaining when not!  (at least Greg implemented it for future, so
that we don't get the mandatory statement about volunteer projects!). 

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini@u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini@scharp.org
-------------- http://software.biostat.washington.edu/ --------------
FHCRC: M-W: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   T-Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
Rosen: (Mullins' Lab) Fridays, and I'm unreachable except by email.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Dec  5 16:09:34 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 5 Dec 2001 16:09:34 +0000 (GMT)
Subject: [Rd] factorial() not here (PR#1194)
In-Reply-To: <87pu5tbqun.fsf@jeeves.blindglobe.net>
Message-ID: <Pine.LNX.4.31.0112051603510.1166-100000@gannet.stats>

On 5 Dec 2001, A.J. Rossini wrote:

> >>>>> "m" == maechler  <maechler@stat.math.ethz.ch> writes:
>
> >>>>> "rmh" == rmh  <rmh@surfer.sbm.temple.edu> writes:
>
>     m> well, and where's the bug ?  There are many more functions in
>     m> S+ which are not in R.  factorial() is not a blue book or white
>     m> book function {of course!}; hence no direct reason to have it
>     m> in R.  Reversely, should we start sending bug reports to S-news
>     m> or Insightful for R functions not existing in S+ ?
>
> Combine this with Brian's comment about Greg's concat masking an S
> function, and this is amusing.
>
> R-core can't have it both ways, emulating S when it pleases, and
> complaining when not!  (at least Greg implemented it for future, so
> that we don't get the mandatory statement about volunteer projects!).

Eh?  I don't find it amusing at all.
What I personally want to avoid is functions of the same name with
very different functionality in the two systems.  It makes porting code
between them too error-prone. R-core has been adding S-compatibility a lot
recently, and Insightful are planning to add some R-compatibility, all of
which I see as positive.

*However*, Martin was complaining that this was sent in as a bug report.
I think that is fair comment: it was not marked as a feature request.  I
do think it would be worth adding, but as 1.4.0 is in feature freeze, not
right now.

General comment: please mark feature requests as `for the wishlist' or
something similar when sending to R-bugs.

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Dec  5 16:16:41 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Dec 2001 17:16:41 +0100
Subject: [Rd] factorial() not here (PR#1194)
In-Reply-To: <Pine.LNX.4.31.0112051603510.1166-100000@gannet.stats>
References: <Pine.LNX.4.31.0112051603510.1166-100000@gannet.stats>
Message-ID: <x24rn51w2e.fsf@blueberry.kubism.ku.dk>

Prof Brian Ripley <ripley@stats.ox.ac.uk> writes:

> *However*, Martin was complaining that this was sent in as a bug report.
> I think that is fair comment: it was not marked as a feature request.  I
> do think it would be worth adding, but as 1.4.0 is in feature freeze, not
> right now.

...and for the same reason several people (not excluding the release
manager) are getting somewhat edgy, so please bear with us. We'll get
this filed as a feature request...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Wed Dec  5 16:46:43 2001
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Wed, 05 Dec 2001 11:46:43 -0500
Subject: [Rd] Windows testing
In-Reply-To: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>
References: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>
Message-ID: <61js0u4311gu5p1bdjnngrg8q86o8m18lp@4ax.com>

This is unchanged from 1.3.1, but doesn't look right to me:

If I run the graphics demo to the second prompt, I see:

>> demo(graphics)
>
>
>        demo(graphics)
>        ---- ~~~~~~~~
>
>Type  <Return>   to start : 
>
>> if (dev.cur() <= 1) get(getOption("device"))()
>
>> opar <- par(ask = interactive() && (.Device %in% c("X11", 
>    "GTK", "windows", "Macintosh")))
>
>> x <- rnorm(50)
>
>> opar <- c(opar, par(bg = "white"))
>
>> plot(x, ann = FALSE, type = "n")
>
>Hit <Return> to see next plot: 

At this point I have an open graphics window, but the last line hasn't
executed yet, so it's blank.  As I go through the demo, what shows up
is always one step behind the text that I see.

Wouldn't it be better to execute the lines that are shown before
stopping to get the user's input?

To do this, the following changes to the script would work:

3,4c3,4
< opar <- par(ask = interactive() &&
<             (.Device %in% c("X11", "GTK", "gnome", "windows",
"Macintosh")))
---
> ask <- interactive() && (.Device %in% c("X11", "GTK", "gnome", "windows", "Macintosh"))
>
16c16
< opar <- c(opar, par(bg="white"))
---
> opar <- par(bg="white")
25a26
> if (ask) readline("Hit enter for next plot...")

... and then the last line repeated after each of the plots.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Dec  5 17:35:46 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Dec 2001 18:35:46 +0100
Subject: [Rd] Windows testing
In-Reply-To: <61js0u4311gu5p1bdjnngrg8q86o8m18lp@4ax.com>
References: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>
 <61js0u4311gu5p1bdjnngrg8q86o8m18lp@4ax.com>
Message-ID: <x2vgflzi19.fsf@blueberry.kubism.ku.dk>

Duncan Murdoch <murdoch@stats.uwo.ca> writes:

> At this point I have an open graphics window, but the last line hasn't
> executed yet, so it's blank.  As I go through the demo, what shows up
> is always one step behind the text that I see.
> 
> Wouldn't it be better to execute the lines that are shown before
> stopping to get the user's input?
> 
> To do this, the following changes to the script would work:
> 
> 3,4c3,4
> < opar <- par(ask = interactive() &&
> <             (.Device %in% c("X11", "GTK", "gnome", "windows",
> "Macintosh")))
> ---
> > ask <- interactive() && (.Device %in% c("X11", "GTK", "gnome", "windows", "Macintosh"))
> >
> 16c16
> < opar <- c(opar, par(bg="white"))
> ---
> > opar <- par(bg="white")
> 25a26
> > if (ask) readline("Hit enter for next plot...")
> 
> ... and then the last line repeated after each of the plots.

We might, but not for this release. Basically that's just the way
par(ask=T) works: ask *before* plotting to a device. It could ask
afterwards ("Are you through seeing this?") but it doesn't. Presumably
someone considered the alternatives once upon a time...

Personally, I'm more miffed by the fact that par(ask=T) by itself
causes a graphics window to open. This is of course tricky to avoid,
since you need to have the device before setting its parameters. But
it is getting in the way of example(), causing it to rattle off all
graphics output in one go since we wouldn't want to set par(ask=T) on
help pages that generate no graphics.

Of course, we could eventually decide to make the demos more smooth as
you suggested. Don't forget to unset any previous setting of par(ask=)
or you will get asked twice per plot....

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Wed Dec  5 20:13:22 2001
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Wed, 05 Dec 2001 15:13:22 -0500
Subject: [Rd] Windows testing
In-Reply-To: <x2vgflzi19.fsf@blueberry.kubism.ku.dk>
References: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats> <61js0u4311gu5p1bdjnngrg8q86o8m18lp@4ax.com> <x2vgflzi19.fsf@blueberry.kubism.ku.dk>
Message-ID: <2bvs0u0u0m2hpfav9v7qhm27mf43k939ec@4ax.com>

On 05 Dec 2001 18:35:46 +0100, you wrote in message
<x2vgflzi19.fsf@blueberry.kubism.ku.dk>:

>Duncan Murdoch <murdoch@stats.uwo.ca> writes:
>
>> At this point I have an open graphics window, but the last line hasn't
>> executed yet, so it's blank.  As I go through the demo, what shows up
>> is always one step behind the text that I see.
>> 
>> Wouldn't it be better to execute the lines that are shown before
>> stopping to get the user's input?

>We might, but not for this release. Basically that's just the way
>par(ask=T) works: ask *before* plotting to a device. It could ask
>afterwards ("Are you through seeing this?") but it doesn't. Presumably
>someone considered the alternatives once upon a time...

I don't think there's any way that par(ask=T) could be made to do this
properly.  My suggestion isn't that it's broken, just that it
shouldn't be used by the demo.  It's confusing when the text that is
shown isn't synchronized with the picture that is shown.

The reason par(ask=T) couldn't do this is because you want to insert
breaks when you are changing the example, not when the graphics window
is about to be erased.  There's no automatic way to do that.  You need
to add some code to tell the system that you've changed topics.

An alternative to my 

  if (ask) readline("Hit enter for next plot...")

additions would be to add a "pause" function (maybe there is one
already, but I don't know it's name); that function could pay
attention to some global option to decide whether to really pause or
just to barrel on through.

>Personally, I'm more miffed by the fact that par(ask=T) by itself
>causes a graphics window to open. This is of course tricky to avoid,
>since you need to have the device before setting its parameters. But
>it is getting in the way of example(), causing it to rattle off all
>graphics output in one go since we wouldn't want to set par(ask=T) on
>help pages that generate no graphics.

A way around this problem would be to add some .Rd command that says
"insert a pause here"; it wouldn't be shown to the user, but the
example would pause at that spot when being played back.

>Of course, we could eventually decide to make the demos more smooth as
>you suggested. Don't forget to unset any previous setting of par(ask=)
>or you will get asked twice per plot....

Is this really a new feature request? I think of it as a bug report:
the demo doesn't demonstrate clearly, so should be fixed.  (My
suggestion about the addition of pauses to examples would definitely
be a new feature.)

Duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Dec  5 22:38:26 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Dec 2001 23:38:26 +0100
Subject: [Rd] Windows testing
In-Reply-To: <2bvs0u0u0m2hpfav9v7qhm27mf43k939ec@4ax.com>
References: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>
 <61js0u4311gu5p1bdjnngrg8q86o8m18lp@4ax.com>
 <x2vgflzi19.fsf@blueberry.kubism.ku.dk>
 <2bvs0u0u0m2hpfav9v7qhm27mf43k939ec@4ax.com>
Message-ID: <x2g06p9tst.fsf@blueberry.kubism.ku.dk>

Duncan Murdoch <murdoch@stats.uwo.ca> writes:

> >Of course, we could eventually decide to make the demos more smooth as
> >you suggested. Don't forget to unset any previous setting of par(ask=)
> >or you will get asked twice per plot....
> 
> Is this really a new feature request? I think of it as a bug report:
> the demo doesn't demonstrate clearly, so should be fixed.  (My
> suggestion about the addition of pauses to examples would definitely
> be a new feature.)

Yes, rewriting a demo would be a feature change at this stage. It's
not the best example in the world, but 

a) Seemingly innocent changes can break on some platforms

b) The demos get run as part of the checking procedure, which should
   not be jeopardized.

c) It is hardly high priority. It has worked like this through 20
   versions or so. We could need to focus our attention elsewhere if
   a bad bug turns up (e.g. that rbinom fault probably cost me 5 hours
   and a bad headache over the weekend.)  

As I said: not the best example, but did you actually consider b) and
what would happen when the code was run non-interactively?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Thu Dec  6 08:09:33 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Thu, 6 Dec 2001 09:09:33 +0100
Subject: [Rd] RE: [R] trouble with R CMD INSTALL for building my own library
In-Reply-To: <FC0B9DA2600ED4118F76009027AA5DDD02B27B30@ALEX2>
References: <FC0B9DA2600ED4118F76009027AA5DDD02B27B30@ALEX2>
Message-ID: <15375.10173.910925.565287@mithrandir.hornik.net>

>>>>> jonathan li writes:

> Hi all,
> Problem solved!

> Thanks to a suggestion by Robert Gentleman, I realized that there may
> be something that makes R think that mylib is a binary rather than
> source package. I downloaded Brian Ripley's tree source package and
> basically copied each directory. As it turns out, I have not put in a
> mylib/man subdirectory (I thought I could add it any time later.) and
> R was then tricked to believe that mylib is a binary! Once I add an
> empty mylib/man subdirectory, things become normal with compiling
> etc. Timothy, I think that your problem is likely to be the same
> source then.

Jonathan:

In that case, does not R CMD INSTALL start by saying
"Installing binary package ..."?

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Dec  6 10:46:20 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 6 Dec 2001 11:46:20 +0100 (MET)
Subject: [Rd] predict.nnet (PR#1181)
Message-ID: <200112061046.LAA22155@pubhealth.ku.dk>

I can't reproduce this example: I get

> smalltest <- nnet.formula(formula = Q65 ~ ., data = smallx,
+   size = 2, rang = 1, maxit = 250, subset = jj)
Error in get(ctr)(levels(x), contrasts = contrasts) :
        Contrasts not defined for 0 degrees of freedom

And that's correct: what you are doing is nonsense. You've included
one-level factors, and you are fitting a non-linear model to a linearly
over-determined system (there are more X columns than data points).

I don't know how you got this to work, but I would not be surprised
if predict.nnet failed on an over-determined fit:  It's not designed for
misuse.

I don't agree this is a bug in my code.


On Mon, 26 Nov 2001 jcs20@po.cwru.edu wrote:

> Full_Name: Jeff Schwarz
> Version: R1.3.1
> OS: Windows 2000
> Submission from: (NULL) (129.22.170.115)
>
>
> Error message (using predict and predict.nnet)
> > predict (smalltest, smallx[-jj,])
> Error in matrix(NA, length(keep), nout, dimnames = list(rn,
> dimnames(object$fitted)[[2]])) :
>         length of dimnames[1] not equal to array extent
>
> *** all relevant code and data source is given below ***
>
> I have successfully built an object of type nnet using...
> nnet.formula(formula = Q65 ~ ., data = smallx, size = 2, rang = 1,
>     maxit = 250, subset = jj)
>
> where smallx is a data.frame with dimensions 300 by 103 that contains numerical
> and factor variables.  Smallx is a random sample of 300 from the tab-delimited
> numeric dataset found at
> http://www.gvu.gatech.edu/user_surveys/survey-1998-10/datasets/num_general.zip.
> The code I used to recode the data is below, also.
>
> I have successfully run the sample code from the predict.nnet help file without
> any problem.
>
> *********************************************************************
>
> data source:
> http://www.gvu.gatech.edu/user_surveys/survey-1998-10/datasets/num_general.zip
>
> #***Get the data from the big file
> #***Get rid of the vairiables for survey (all
> #*** observations = general), a unique identifier
> #*** for each respondent and an extra variable X
> #*** (all = NaN)
> #***Make sure that all the asymmetric binary,
> #*** and nominal variables are coded as factor,
> #*** not numeric (daisy has special methods for
> #*** symmetric binary and discrete ordinal)
> #***Recode some of the discrete ordinal variables
> #*** so the Na, didn't know, and didn't say are all
> #*** "NaN", and so that a few of the "never" responses
> #*** are coded as 0 instead of 5
>
> bigx <-
>   read.delim (file location,
>   header = TRUE, sep = "\t", quote = "\"", dec = ".",
>   fill = TRUE)
>
> bigx <- bigx [,c(1:103)]
>
> ii <- bigx[,c(22)] == 5
> bigx[,c(22)] <- replace (bigx[,c(22)], ii, 0)
> ii <- bigx[,c(23)] == 5
> bigx[,c(23)] <- replace (bigx[,c(23)], ii, 0)
> ii <- bigx[,c(24)] == 5
> bigx[,c(24)] <- replace (bigx[,c(24)], ii, 0)
> ii <- bigx[,c(25)] == 5
> bigx[,c(25)] <- replace (bigx[,c(25)], ii, 0)
> ii <- bigx[,c(26)] == 5
> bigx[,c(26)] <- replace (bigx[,c(26)], ii, 0)
> ii <- bigx[,38] == 7
> bigx[,38] <- replace (bigx[,38], ii, NaN)
> ii <- bigx[,38] == 8
> bigx[,38] <- replace (bigx[,38], ii, NaN)
> ii <- bigx[,57] == 1
> bigx[,57] <- replace (bigx[,57], ii, NaN)
> ii <- bigx[,58] == 19
> bigx[,58] <- replace (bigx[,58], ii, NaN)
> ii <- bigx[,60] == 4
> bigx[,60] <- replace (bigx[,60], ii, NaN)
> ii <- bigx[,60] == 1
> bigx[,60] <- replace (bigx[,60], ii, 3)
> ii <- bigx[,60] == 2
> bigx[,60] <- replace (bigx[,60], ii, 1)
> ii <- bigx[,60] == 3
> bigx[,60] <- replace (bigx[,60], ii, 2)
> ii <- bigx[,69] == 1
> bigx[,69] <- replace (bigx[,69], ii, NaN)
> ii <- bigx[,69] == 7
> bigx[,69] <- replace (bigx[,69], ii, NaN)
> bigx[,69] <- bigx[,69] - 1
>
> for (ii in c(1:9,14:21,27:32,34:37,39:49,52:55,
>   59,61:70,72:103)) bigx[,ii] <- as.factor(bigx[,ii])
>
> library (nnet)
>
> set.seed(7261)
> smallx <- bigx[sample(1:5022,300),]
> jj <- sample (1:300, 100)
> smalltest <- nnet.formula(formula = Q65 ~ ., data = smallx,
>   size = 2, rang = 1, maxit = 250, subset = jj)
>
> predict.nnet (smalltest, smallx[-jj,])
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From david.firth@nuffield.ox.ac.uk  Thu Dec  6 10:56:58 2001
From: david.firth@nuffield.ox.ac.uk (david.firth@nuffield.ox.ac.uk)
Date: Thu, 6 Dec 2001 11:56:58 +0100 (MET)
Subject: [Rd] glm() documentation, two things (PR#1198)
Message-ID: <200112061056.LAA22325@pubhealth.ku.dk>

Full_Name: David Firth
Version: 1.3.1
OS: various
Submission from: (NULL) (163.1.103.121)


1.  help(glm.fit) does not properly document glm.fit.  The arguments x,y for
that function are not logicals.  It would be helpful to see here what they
*should* be.

2.  Under "Value", "weights" the word residuals should be changed to weights I
think.

Regards,
David

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jago@mclink.it  Thu Dec  6 12:14:54 2001
From: jago@mclink.it (Stefano Iacus)
Date: Thu, 6 Dec 2001 13:14:54 +0100
Subject: [Rd] Mac Test
Message-ID: <DB4BAB7A-EA42-11D5-99C4-003065CC4CB8@mclink.it>

R 1.4.0 is now sinking into feature freeze, and I'd like some help
testing it under Macintosh (from Sys 8.6 to X).


I've put a copy of R140b1 at

http://www.ci.tuwien.ac.at/~iacus/R

there are two files: R140b1.sit and R140b1.sit.hqx

download only one of the two.

Many tests have been done but you help will be precious. Several things 
have been changed or implemented both in R internals and Mac GUI.

Problem reports to stefano.iacus@unimi.it or to r-sig-
mac@stat.math.ethz.ch, please.  (At this stage the features are frozen, 
so no feature requests ....)

thanks

Stefano

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gs@statlab.uni-heidelberg.de  Thu Dec  6 13:01:36 2001
From: gs@statlab.uni-heidelberg.de (G. Sawitzki)
Date: Thu, 6 Dec 2001 14:01:36 +0100
Subject: [Rd] Mac Test
In-Reply-To: <DB4BAB7A-EA42-11D5-99C4-003065CC4CB8@mclink.it>
References: <DB4BAB7A-EA42-11D5-99C4-003065CC4CB8@mclink.it>
Message-ID: <p05100307b8351c258274@[129.206.113.199]>

At 13:14 +0100 06.12.01, Stefano Iacus wrote:
>R 1.4.0 is now sinking into feature freeze, and I'd like some help
>testing it under Macintosh (from Sys 8.6 to X).
>
>I've put a copy of R140b1 at
>
>http://www.ci.tuwien.ac.at/~iacus/R
>
>there are two files: R140b1.sit and R140b1.sit.hqx
>
>download only one of the two.
>
>Many tests have been done but you help will be precious. Several 
>things have been changed or implemented both in R internals and Mac 
>GUI.
>
>Problem reports to stefano.iacus@unimi.it or to r-sig-
>mac@stat.math.ethz.ch, please.  (At this stage the features are 
>frozen, so no feature requests ....)
>
>thanks
>
>Stefano


Minor issues:
It seems that the formula display has improved a lot. The demo for 
plotmath() still shows some glimpses. (But I do not htink one should 
spend to much time on this. Better convince someone to provide a 
proper quartz driver).

Very minor issues:
in "Thanks"
Gran Brostrm		<gb@stat.umu.se>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Thu Dec  6 15:13:09 2001
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Thu, 06 Dec 2001 10:13:09 -0500
Subject: [Rd] Windows menu entries
In-Reply-To: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>
References: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>
Message-ID: <qcvu0usdvh9e1kmin78re2u88rq0jjvsvi@4ax.com>

The convention in Windows menus is that items which do something are
listed plain, and items that lead to dialogs (to which you're expected
to give input, and from which you're allowed to back out without doing
anything) are listed with dots after the name.  The Rgui menu never
uses dots.

As far as I know, in Windows the dots aren't generally used in the
popup help hints on toolbars.

I think the following is what they should look like, to follow the
dots convention:

 File
	Source R code...
	Display file...
	Load Workspace...
	Save Workspace...
	Load History...
	Save History...
	Change dir...
	Print...
	Save to File...
	Exit
 Edit
	Copy
	Paste
	Copy and paste
	Select all
	Clear console
	GUI preferences
 Misc
	Stop current computation
	Buffered output
	List objects
	Remove all objects
	List search path
 Packages
	Load package...
	Install package from CRAN...
	Install package from local zip file...
	Update packages from CRAN
 Help
	Console
	FAQ on R
	FAQ on R for Windows
	R language (standard)...
	R language (HTML)
	Manuals
		An introduction to R
		R reference manual
		R data import/export
		R language manual
		Writing R extensions
	Apropos...
	About				

(I haven't got the correct case on lots of words above; the menus are
inconsistent about that, and I typed in a hurry.)

The menus are set up in the setupui() function in rui.c.  The block of
code below implements these changes.	

    MCHECK(newmenu("File"));
    MCHECK(msource = newmenuitem("Source R code...", 0, menusource));
    MCHECK(mdisplay = newmenuitem("Display file...", 0, menudisplay));
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(mload = newmenuitem("Load Workspace...", 0,
menuloadimage));
    MCHECK(msave = newmenuitem("Save Workspace...", 0,
menusaveimage));
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(mloadhistory = newmenuitem("Load History...", 0,
menuloadhistory));
    MCHECK(msavehistory = newmenuitem("Save History...", 0,
menusavehistory));
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(newmenuitem("Change dir...", 0, menuchangedir));
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(newmenuitem("Print...", 0, menuprint));
    MCHECK(newmenuitem("Save to File...", 0, menusavefile));
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(newmenuitem("Exit", 0, menuexit));

    MCHECK(newmenu("Edit"));
    MCHECK(mcopy = newmenuitem("Copy", 'C', menucopy));
    MCHECK(mpaste = newmenuitem("Paste", 'V', menupaste));
    MCHECK(mcopypaste = newmenuitem("Copy and Paste", 'X',
menucopypaste));
    MCHECK(newmenuitem("Select all", 0, menuselectall));
    MCHECK(newmenuitem("Clear console", 'L', menuclear));
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(mconfig = newmenuitem("GUI preferences...", 0,
menuconfig));

    MCHECK(newmenu("Misc"));
    MCHECK(newmenuitem("Stop current computation           \tESC", 0,
menukill));
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(mlazy = newmenuitem("Buffered output", 'W', menulazy));
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(mls = newmenuitem("List objects", 0, menuls));
    MCHECK(mrm = newmenuitem("Remove all objects", 0, menurm));
    MCHECK(msearch = newmenuitem("List &search path", 0, menusearch));

    MCHECK(newmenu("Packages"));
    MCHECK(mpkgl = newmenuitem("Load package...", 0, menupkgload));
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(mpkgi = newmenuitem("Install package from CRAN...", 0, 
			       menupkginstallcran));
    MCHECK(mpkgil = newmenuitem("Install package from local zip
file...", 0, 
				menupkginstalllocal));
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(mpkgu = newmenuitem("Update packages from CRAN", 0, 
			       menupkgupdate));
#ifdef USE_MDI
    newmdimenu();
#endif
    MCHECK(m = newmenu("Help"));
    MCHECK(newmenuitem("Console", 0, menuconsolehelp));
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(mFAQ = newmenuitem("FAQ on R", 0, menuFAQ));
    if (!check_doc_file("doc/html/faq.html")) disable(mFAQ);
    MCHECK(mrwFAQ = newmenuitem("FAQ on R for &Windows", 0,
menurwFAQ));
    if (!check_doc_file("doc/html/rw-faq.html")) disable(mrwFAQ);
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(mhelp = newmenuitem("R language (standard)...", 0,
menuhelp));
    MCHECK(mhelpstart = newmenuitem("R language (&html)", 0,
menuhelpstart));
    if (!check_doc_file("doc/html/rwin.html")) disable(mhelpstart);
    MCHECK(mman = newsubmenu(m, "Manuals"));
    MCHECK(mmanintro = newmenuitem("An &Introduction to R", 0,
menumainman));
    lmanintro = check_doc_file("doc/manual/R-intro.pdf");
    if (!lmanintro) disable(mmanintro);
    MCHECK(mmanref = newmenuitem("R &Reference Manual", 0,
menumainref));
    lmanref = check_doc_file("doc/manual/refman.pdf");
    if (!lmanref) disable(mmanref);
    MCHECK(mmandata = newmenuitem("R Data Import/Export", 0,
menumaindata));
    lmandata = check_doc_file("doc/manual/R-data.pdf");
    if (!lmandata) disable(mmandata);
    MCHECK(mmanlang = newmenuitem("R Language Manual", 0,
menumainlang));
    lmanlang = check_doc_file("doc/manual/R-lang.pdf");
    if (!lmanlang) disable(mmanlang);
    MCHECK(mmanext = newmenuitem("Writing R Extensions", 0,
menumainext));
    lmanext = check_doc_file("doc/manual/R-exts.pdf");
    if (!lmanext) disable(mmanext);
    if (!lmanintro && !lmanref && !lmanlang && !lmanext)
disable(mman);
    addto(m);

    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(mapropos = newmenuitem("Apropos...", 0, menuapropos));
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(newmenuitem("About", 0, menuabout));


The Graphics window menu items should be similarly edited:

 File
	Save as
		Metafile...
		Postscript...
		PDF...
		Png...
		Bmp...
		Jpeg
			50% quality...
			75% quality...
			100% quality...
	Copy to the clipboard
		as a Bitmap
		as a Metafile
	Print...
	close Device
 History
	Recording
	Add
	Replace
	Previous
	Next
	Save to variable...
	Get from variable...
	Clear History
 Resize
	R mode
	Fit to window
	Fixed size

And the popup:
	Copy as metafile
	Copy as bitmap
	Save as metafile...
	Save as postscript...
	Print...

These are in devga.c; here are the changes above:	
	
    MCHECK(m = newmenu("File"));
    MCHECK(xd->msubsave = newsubmenu(m, "Save as"));
    MCHECK(xd->mwm = newmenuitem("Metafile...", 0, menuwm));
    MCHECK(xd->mps = newmenuitem("Postscript...", 0, menups));
    MCHECK(xd->mpdf = newmenuitem("PDF...", 0, menupdf));
    MCHECK(xd->mpng = newmenuitem("Png...", 0, menufilebitmap));
    MCHECK(xd->mbmp = newmenuitem("Bmp...", 0, menufilebitmap));
    MCHECK(newsubmenu(xd->msubsave,"Jpeg"));
    MCHECK(xd->mjpeg50 = newmenuitem("50% quality...", 0,
menufilebitmap));
    MCHECK(xd->mjpeg75 = newmenuitem("75% quality...", 0,
menufilebitmap));
    MCHECK(xd->mjpeg100 = newmenuitem("100% quality...", 0,
menufilebitmap));
    MCHECK(newsubmenu(m, "Copy to the clipboard"));
    MCHECK(xd->mclpbm = newmenuitem("as a Bitmap\tCTRL+C", 0,
menuclpbm));
    MCHECK(xd->mclpwm = newmenuitem("as a Metafile\tCTRL+W", 0,
menuclpwm));
    addto(m);
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(xd->mprint = newmenuitem("Print...\tCTRL+P", 0,
menuprint));
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(xd->mclose = newmenuitem("close Device", 0, menuclose));
#ifdef PLOTHISTORY
    MCHECK(newmenu("History"));
    MCHECK(xd->mrec = newmenuitem("Recording", 0, menurec));
    if(recording) check(xd->mrec);
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(xd->madd = newmenuitem("Add\tINS", 0, menuadd));
    MCHECK(xd->mreplace = newmenuitem("Replace", 0, menureplace));
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(xd->mprev = newmenuitem("Previous\tPgUp", 0, menuprev));
    MCHECK(xd->mnext = newmenuitem("Next\tPgDown", 0, menunext));
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(xd->msvar = newmenuitem("Save to variable...", 0,
menusvar));
    MCHECK(xd->mgvar = newmenuitem("Get from variable...", 0,
menugvar));
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(xd->mclear = newmenuitem("Clear history", 0, menuclear));
#endif
    MCHECK(newmenu("Resize"));
    MCHECK(xd->mR = newmenuitem("R mode", 0, menuR));
    if(resize == 1) check(xd->mR);
    MCHECK(xd->mfit = newmenuitem("Fit to window", 0, menufit));
    if(resize == 2) check(xd->mfit);
    MCHECK(xd->mfix = newmenuitem("Fixed size", 0, menufix));
    if(resize == 3) check(xd->mfix);
    newmdimenu();

    /* Normal popup */
    MCHECK(xd->grpopup = newpopup(NULL));
    MCHECK(m = newmenuitem("Copy as metafile", 0, menuclpwm));
    setdata(m, (void *) dd);
    MCHECK(m = newmenuitem("Copy as bitmap", 0, menuclpbm));
    setdata(m, (void *) dd);
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(m = newmenuitem("Save as metafile...", 0, menuwm));
    setdata(m, (void *) dd);
    MCHECK(m = newmenuitem("Save as postscript...", 0, menups));
    setdata(m, (void *) dd);
    MCHECK(newmenuitem("-", 0, NULL));
    MCHECK(m = newmenuitem("Print...", 0, menuprint));
    setdata(m, (void *) dd);
    gchangepopup(xd->gawin, xd->grpopup);


In the help pager:

 File
	Print...
	Save to File...
	Close
 Edit
	Copy
	Paste to console
	Select all

with source from pager.c:
	
    MCHECK(newmenu("File"));
    MCHECK(m = newmenuitem("Print...", 0, pagerprint));
    setdata(m, c);
    MCHECK(m = newmenuitem("Save to File...", 0, pagersavefile));
    setdata(m, c);
    MCHECK(m = newmenuitem("-", 0, NULL));
    MCHECK(m = newmenuitem("Close", 0, pagerclose));
    setdata(m, c);
    MCHECK(newmenu("Edit"));
    MCHECK(p->mcopy = newmenuitem("Copy", 'C', pagercopy));
    setdata(p->mcopy, c);
    MCHECK(p->mpaste = newmenuitem("Paste to console", 'V',
pagerpaste));
    setdata(p->mpaste, c);
    MCHECK(m = newmenuitem("Select all", 0, pagerselectall));



The data entry editor also has a menu, but I don't see any problems
there.  
I think those are all the menus!

One other comment about the menus:

There should be an Edit menu entry to invoke the data.editor.  I
didn't even know the data editor existed, until I went searching for
menus.

Duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Thu Dec  6 15:24:19 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Thu, 6 Dec 2001 16:24:19 +0100
Subject: [Rd] Re: [R] trouble with R CMD INSTALL for building my own library
In-Reply-To: <3C0F8CC0.50304@keittlab.bio.sunysb.edu>
References: <FC0B9DA2600ED4118F76009027AA5DDD02B27B30@ALEX2>
 <3C0F8CC0.50304@keittlab.bio.sunysb.edu>
Message-ID: <15375.36259.407587.232406@mithrandir.hornik.net>

>>>>> Timothy H Keitt writes:

> Yup. that was it. I looked at the INSTALL code and it checks for a
> 'man' directory to determine whether or not its a binary
> package. Perhaps the make process could put a '.binary' file in the
> package root and the INSTALL code could check for that instead?

[Thought you were on r-devel?]

I think we can check whether DESCRIPTION has a 'Built' entry.

Will get to this later today, hopefully.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Thu Dec  6 15:25:52 2001
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Thu, 06 Dec 2001 10:25:52 -0500
Subject: [Rd] Windows testing
In-Reply-To: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>
References: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>
Message-ID: <ao2v0ukhb3a2grb3irqhqsagkdq7k34n9j@4ax.com>

Some bugs in graphics windows.  I'm using a new build based on today's
r-devel.  In all cases, I started a new copy of Rgui, and ran 

 plot(1,1)

then started playing with the menus on the graphics window.

1.  The "copy as metafile" popup doesn't work.  It gives an error
message on the console, and leaves R in an unstable state.

Here's the error:

Error: axis style "
> > 

2.  Selecting "Resize|fit to window" crashes the window if you shrink
it so small that there is no space for the graph, just space for the
margins. There should be some limit to how small you're allowed to
shrink the window.

3.  Selecting "Resize|fixed size" allows you to move the view of the
graph around if you've got a smaller window than the graph.  But if
you 
  - shrink the height of the window
  - scroll to the bottom of the graph
  - grow the window back to its original size
you end up still only able to see the bottom part of the graph.  The
graph should automatically scroll back down, so as much as possible of
it is visible.

4.  Not reproducible, but while experimenting with 3, it appeared
sometimes "mouse up" events were being missed, so you'd still be
resizing the window after you'd let go of the corner of it.

5.  And a suggestion for some future release:  using a double-buffered
display would make resizing less "flashy".

Duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Thu Dec  6 16:40:45 2001
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Thu, 6 Dec 2001 08:40:45 -0800 (PST)
Subject: [Rd] Windows testing
In-Reply-To: <ao2v0ukhb3a2grb3irqhqsagkdq7k34n9j@4ax.com>
Message-ID: <Pine.A41.4.33.0112060838360.47158-100000@homer31.u.washington.edu>

On Thu, 6 Dec 2001, Duncan Murdoch wrote:
>
> 4.  Not reproducible, but while experimenting with 3, it appeared
> sometimes "mouse up" events were being missed, so you'd still be
> resizing the window after you'd let go of the corner of it.
>

I've had this occasionally with 1.3.0 (or possibly 1.3.1 -- I'm not at the
right computer today) under Win2k.

I've also had it happen with XEmacs scrollbars on the same machine, but I
don't know if that indicates an OS issue.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Dec  6 17:08:16 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 6 Dec 2001 17:08:16 +0000 (GMT)
Subject: [Rd] Windows testing
In-Reply-To: <Pine.A41.4.33.0112060838360.47158-100000@homer31.u.washington.edu>
Message-ID: <Pine.LNX.4.31.0112061706420.14268-100000@gannet.stats>

On Thu, 6 Dec 2001, Thomas Lumley wrote:

> On Thu, 6 Dec 2001, Duncan Murdoch wrote:
> >
> > 4.  Not reproducible, but while experimenting with 3, it appeared
> > sometimes "mouse up" events were being missed, so you'd still be
> > resizing the window after you'd let go of the corner of it.
> >
>
> I've had this occasionally with 1.3.0 (or possibly 1.3.1 -- I'm not at the
> right computer today) under Win2k.
>
> I've also had it happen with XEmacs scrollbars on the same machine, but I
> don't know if that indicates an OS issue.

Basically, yes, it's an OS events queue issue.  R is by no means alone in
doing this.

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Fri Dec  7 02:44:24 2001
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Thu, 06 Dec 2001 21:44:24 -0500
Subject: [Rd] Doc bug:  segments contains arrows args
Message-ID: <qta01u88bj7p4s55j1sg81qpc203sft6o8@4ax.com>

The help page for ?segments contains descriptions of parameters
"length" and "angle", presumably leftovers from when ?arrows and
?segments were the same topic.

Deleting these lines:

  \item{length}{length of the edges of the arrow head (in inches).}
  \item{angle}{angle from the shaft of the arrow to the edge of the
    arrow head.}

from segments.Rd will fix it.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Fri Dec  7 03:23:57 2001
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 06 Dec 2001 22:23:57 -0500
Subject: [Rd] cancor rownames bug
Message-ID: <3C10364D.C9F83B68@bank-banque-canada.ca>

R : Copyright 2001, The R Development Core Team
Version 1.4.0 Under development (unstable) (2001-12-05)
...
> library("mva")
> cancor(matrix(rnorm(100),100,1), matrix(rnorm(300),100,3))
Error in "rownames<-"(*tmp*, value = colnames(x)) : 
        dimnames applied to non-array
> 

I think either La.svd or backsolve needs a drop=F somewhere.

Paul Gilbert
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pd@pubhealth.ku.dk  Fri Dec  7 06:15:03 2001
From: pd@pubhealth.ku.dk (Peter Dalgaard BSA)
Date: Fri, 7 Dec 2001 07:15:03 +0100
Subject: [Rd] Bug list summary (automatic post)
Message-ID: <200112070615.fB76F3Z26900@blueberry.kubism.ku.dk>

=================================================
This is an automated summary of the status of the R-bugs
repository.

Note that this may be neither complete nor perfectly
correct at any given instance: Not all bugs are reported,
and some reported bugs may have been fixed, but the
repository not yet updated.

Some bug fixes are difficult to verify because they pertain
to specific hardware or operating system versions. If you
have information to contribute, please do so.

If you happen to know how to fix a problem please send
patches to the bug repository, too.

New bugs are reported either through the web
interface at r-bugs.r-project.org or via email to
r-bugs@r-project.org. The bug.report() function can be
used to automate parts of the procedure on many systems.
Followups on older bugs can be done by including the string
"(PR#999)" in the Subject of an email (change 999 to the
actual reference number, of course!).
=================================================

Directory:  Accuracy

none

Directory:  Add-ons

* PR# 974 *
Subject: Lattice: panel.superpose with ordered factor groups
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sat, 9 Jun 2001 11:08:51 +1000 (EST)
--The warning is standard S and R behaviour.
--Probably xyplot needs to avoid it (by unclassing?)
--Still there in lattice 0.3-0.
* PR# 1038 *
Subject: nlme: bug in getCovariateFormula
From: Setzer.Woodrow@epamail.epa.gov
Date: Tue, 31 Jul 2001 11:24:09 -0400
--change needed in package nlme
* PR# 1044 *
Subject: Polymarsall.c
From: pleu@hotmail.com
Date: Tue, 7 Aug 2001 22:42:07 +0200 (MET DST)
* PR# 1116 *
Subject: get.hist.quote does not work
From: arto.luoma@uta.fi
Date: Thu, 4 Oct 2001 14:45:29 +0200 (MET DST)
--Seems specific to one locale on one system.
--The bug is unlikely to be in R.
* PR# 1124 *
Subject: Wrong df in bartlett.test when subsetting data
From: jens.lund@nordea.com
Date: Wed, 10 Oct 2001 17:43:42 +0200 (MET DST)
* PR# 1178 *
Subject: segfault using svm from e1071
From: Jan Rychter <jan@rychter.com>
Date: Tue, 20 Nov 2001 23:38:17 +0100
* PR# 1181 *
Subject: predict.nnet
From: jcs20@po.cwru.edu
Date: Mon, 26 Nov 2001 22:00:13 +0100 (MET)

Directory:  Analyses

none

Directory:  Documentation

* PR# 988 *
Subject: input for R-intro
From: "Paul E. Johnson" <pauljohn@ku.edu>
Date: Mon, 18 Jun 2001 13:57:10 -0500
* PR# 1011 *
Subject: R-intro suggestions part II
From: "Paul E. Johnson" <pauljohn@ukans.edu>
Date: Tue, 03 Jul 2001 15:50:06 -0500
* PR# 1113 *
Subject: bug.report() & docs should mention r-devel
From: murdoch@stats.uwo.ca
Date: Thu, 4 Oct 2001 01:23:27 +0200 (MET DST)
* PR# 1132 *
Subject: Problem with "describe" lists.
From: Rolf Turner <rolf@localhost.localdomain>
Date: Thu, 18 Oct 2001 16:41:03 +0800
* PR# 1136 *
Subject: cex/col/etc. in title(): documentation?
From: Ben Bolker <ben@zoo.ufl.edu>
Date: Mon, 22 Oct 2001 11:55:14 -0400 (EDT)
--MM:actually the documentation still could elaborate a bit..

Directory:  Graphics

* PR# 202 *
Subject: persp box occlusion bug
From: wsi@gcal.ac.uk
Date: Wed, 2 Jun 1999 15:02:03 +0200 (MET DST)
--The persp algorithm does not apply the occlusion rules to the frame, 
--which is always plotted first. 
--A bug, but not very simple to fix.
* PR# 660 *
Subject: identify.default ignores any setting of cex.
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
Date: Fri, 15 Sep 2000 10:23:39 +0100 (BST)
* PR# 776 *
Subject: strwidth does not take font into account
From: Martyn Plummer <plummer@iarc.fr>
Date: Tue, 19 Dec 2000 14:56:01 +0100 (CET)
--This needs a substantial redesign.
* PR# 791 *
Subject:  par(lab= *) / axis(*) bug 
From: maechler@stat.math.ethz.ch
Date: Fri, 22 Dec 2000 10:59:26 +0100
* PR# 816 *
Subject: dotplot: character size of labels
From: RINNER Heinrich <H.RINNER@TIROL.GV.AT>
Date: Thu, 18 Jan 2001 14:54:32 +0100
--Suggested fix is incorporated in 1.2.2.
--
--There is a deeper problem:  mtext() ignores par(cex=.5) in general.  
--To see the problem try:  par(cex=.5); mtext("hi")
--Paul thinks the right fix is to change the argument list for mtext so that
--cex=par(cex) by default rather than cex=NA by default (plus corresponding
--internal changes to  do_mtext in plot.c).
--This needs to be done very carefully because (i) the change suggested above 
--mayhave side-effects in many other pieces of interpreted code 
--(ii) do_mtext ignores dd->gp.cexbase unlike, for example, do_plot_xy 
--and anything to do with cexbase needs extreme care.
* PR# 820 *
Subject: interaction.plot
From: "Mark M. Span" <span@psy.uva.nl>
Date: Mon, 22 Jan 2001 10:47:39 +0100
--mtext is unscaled by default.  It is not clear if this should
--use the par("cex") setting or an inline cex setting such as cex.axis.
--It might make more sense to use axis rather than mtext, as boxplot does.
* PR# 828 *
Subject: termplot fails for composite non-factor terms
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sat, 27 Jan 2001 11:57:37 +1100 (EST)
--Neither of the proposed changes actually works in sufficient generality.
--
--The easy and unimportant part of this, the labels, is fixed in 1.2.2. Getting
--the data right is a project for 1.3
* PR# 831 *
Subject: screen can't go back to (split) screen with log="y" plot
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 30 Jan 2001 00:39:41 -0500
--Still there. Suggested fix included in followups, but we didn't get around to
--try it in time for 1.2.3.
--
--Fix doesn't work. One problem is that the opar<-par();par(opar) idiom updates
--xaxp before xlog, and the new value of xaxp may only be valid under the new
--value of xlog.
* PR# 837 *
Subject: screen doesn't handle redrawing properly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 01 Feb 2001 14:20:52 -0500
* PR# 887 *
Subject: axis(adj=anything) has no effect
From: jhallman@frb.gov
Date: Wed, 28 Mar 2001 20:51:05 +0200 (MET DST)
* PR# 916 *
Subject:  par(mgp) bug 
From: paul@stat.auckland.ac.nz
Date: Fri, 20 Apr 2001 08:33:45 +1200 (NZST)
* PR# 940 *
Subject: GCircle(): fails for non-clippable devices under certain circumstances (see below)
From: "Thomas Hoffmann" <thoffman@zappa.sax.de>
Date: Tue, 15 May 01 23:34:17 +0100
* PR# 943 *
Subject: legend() with xpd=T; omission of initial plot character
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sun, 20 May 2001 10:35:16 +1000
* PR# 997 *
Subject:  las=1 with log axis 
From: Peter Dalgaard BSA <pd@pubhealth.ku.dk>
Date: Wed, 27 Jun 2001 11:54:06 +0200
* PR# 1045 *
Subject: Palette changes on redraw
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 08 Aug 2001 19:08:01 +0200
* PR# 1088 *
Subject:  barplot forces xpd=TRUE 
From: Peter Whiting <pwhiting@whitings.org>
Date: Sat, 8 Sep 2001 10:19:00 -0500
* PR# 1095 *
Subject:  Bizarre clipping with abline and points 
From: J.C.Rougier@durham.ac.uk
Date: Wed, 19 Sep 2001 14:45:52 +0100
* PR# 1101 *
Subject: ugly in plotmath: frac(1, sqrt(...))
From: Uwe Ligges <ligges@statistik.uni-dortmund.de>
Date: Thu, 27 Sep 2001 10:37:07 +0200
* PR# 1147 *
Subject: postscript problem
From: kjetil halvorsen <kjetilh@umsanet.edu.bo>
Date: Fri, 26 Oct 2001 15:23:45 -0400
--This seems to be a problem with screen/layout rather than postscript.
* PR# 1157 *
Subject: identify(...plot=F)
From: Rolf Turner <rolf@maths.uwa.edu.au>
Date: Fri, 2 Nov 2001 09:43:49 +0800 (WST)
* PR# 1161 *
Subject: x-axis label in persp()
From: Rolf Turner <rolf@maths.uwa.edu.au>
Date: Wed, 7 Nov 2001 18:07:22 +0800 (WST)
* PR# 1174 *
Subject: pdf() behavior
From: White.Denis@epamail.epa.gov
Date: Thu, 15 Nov 2001 10:18:21 -0800
--actually, a graphics bug.
--fixed for 1.4.0, but needs checking re the original intention

Directory:  In-Out

none

Directory:  Installation

* PR# 1034 *
Subject: Compiling R (1.3.0) on AIX (4.3) fails
From: "Thomas J Vogels" <tov@ece.cmu.edu>
Date: Sun, 29 Jul 2001 12:27:51 -0400

Directory:  Language

* PR# 408 *
Subject: convolution bug
From: wsimpson@gcal.ac.uk
Date: Fri, 28 Jan 2000 11:17:36 +0100 (MET)
* PR# 412 *
Subject: anomalies with call objects
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 06 Feb 2000 01:18:50 +0100
* PR# 669 *
Subject: Bug(s) w/ rbind.data.frame(); fix also read.table(*, as.is = TRUE) ?
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Mon, 25 Sep 2000 10:17:15 +0200
--status of AsIs columns
* PR# 921 *
Subject:  Managed to confuse match.arg 
From: J.C.Rougier@durham.ac.uk
Date: Wed, 25 Apr 2001 12:22:54 +0100 (BST)
* PR# 1052 *
Subject:  Inconsistent behaviour of is.vector? 
From: J.C.Rougier@durham.ac.uk
Date: Tue, 14 Aug 2001 09:04:57 +0100
* PR# 1073 *
Subject: Wierd problem comparing numeric values and list using ==
From: "Warnes, Gregory R" <gregory_r_warnes@groton.pfizer.com>
Date: Fri, 24 Aug 2001 22:07:41 -0400
--see also PR#1075
* PR# 1076 *
Subject: Re: [Rd] Wierd problem comparing numeric values and list using == 
From: John Chambers <jmc@research.bell-labs.com>
Date: Mon, 27 Aug 2001 08:44:22 -0400
--part of PR#1073

Directory:  Low-level

* PR# 989 *
Subject: "[.data.frame" allows un-named 3rd subscript
From: "Charles C. Berry" <cberry@tajo.ucsd.edu>
Date: Mon, 18 Jun 2001 13:13:46 -0700 (PDT)
* PR# 1063 *
Subject: interrupting Sys.sleep
From: Thomas Lumley <tlumley@u.washington.edu>
Date: Mon, 20 Aug 2001 13:55:29 -0700 (PDT)
* PR# 1068 *
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
From: Luke Tierney <luke@nokomis.stat.umn.edu>
Date: Wed, 22 Aug 2001 19:32:51 -0500
--see also followup in PR#1069
* PR# 1069 *
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
From: "John W. Eaton" <jwe@bevo.che.wisc.edu>
Date: Wed, 22 Aug 2001 21:56:33 -0500
--part of PR#1068
* PR# 1120 *
Subject: bug in write.table?
From: Ott Toomet <siim@obs.ee>
Date: Sun, 7 Oct 2001 18:24:34 +0200 (CEST)
--Traced down to an effect of read.dta in foreign interacting with do_paste. Fixed
--in foreign, but do_paste may need to use strlen() rather than LENGTH().
--

Directory:  Macintosh

none

Directory:  Misc

* PR# 1126 *
Subject: R-bug report www page whishlist
From: jens.lund@nordea.com
Date: Wed, 10 Oct 2001 18:24:29 +0200 (MET DST)
* PR# 1158 *
Subject: bug.report()sends empty message
From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
Date: Mon, 05 Nov 2001 10:05:27 -0500

Directory:  Models

none

Directory:  Startup

none

Directory:  System-specific

* PR# 848 *
Subject: X11 device doesn't handle destroy events correcly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 13 Feb 2001 17:40:46 -0500
* PR# 1002 *
Subject: core dump running modreg-Ex.R
From: WhiteG@dfo-mpo.gc.ca
Date: Thu, 28 Jun 2001 19:14:18 +0200 (MET DST)
--Only reported on SGI, solved by removing optimization.
--Needs debugging there.
* PR# 1020 *
Subject: .Call and Mandrake 8.0
From: lcottret@yahoo.fr
Date: Wed, 11 Jul 2001 15:34:23 +0200 (MET DST)
--problem with symbol names only on Mandrake 8.0, not 7.2
--needs reply to follow-up
* PR# 1026 *
Subject: make check failure on SGI-IRIX6.5
From: laurent@cbs.dtu.dk
Date: Mon, 16 Jul 2001 15:06:17 +0200 (MET DST)
* PR# 1057 *
Subject: crt1.o skipped at configure time ?
From: laurent@cbs.dtu.dk
Date: Thu, 16 Aug 2001 08:52:34 +0200 (MET DST)
* PR# 1084 *
Subject: Install problems R 1.3.1 on HP-UX
From: Peter Kleiweg <kleiweg@let.rug.nl>
Date: Sun, 2 Sep 2001 15:07:41 +0200 (CEST)
* PR# 1097 *
Subject: R 1.3.1 fails 'make check' on arm in the Bessel example
From: Dirk Eddelbuettel <edd@debian.org>
Date: Thu, 20 Sep 2001 23:54:19 -0500
* PR# 1106 *
Subject: What is an error bu21?
From: Patrick Lindsey <patrick.lindsey@luc.ac.be>
Date: Mon, 1 Oct 2001 15:43:36 +0200 (MET DST)
--Looks like an SGI make bug
* PR# 1140 *
Subject: Possible bug, Rprof() and scan(pipe())
From: Don MacQueen <macq@llnl.gov>
Date: Tue, 23 Oct 2001 13:50:26 -0700
--Doesn't happen on Solaris or Linux
* PR# 1145 *
Subject: Problem testing R version 1.3.1 on SGI Irix
From: Gordon Lack <gml4410@ggr.co.uk>
Date: Fri, 26 Oct 2001 19:04:04 +0100

Directory:  TooMuchAtOnce

* PR# 1110 *
Subject: Several R vs S-Plus issues
From: David Brahm  <a215020@agate.fmr.com>
Date: Wed, 3 Oct 2001 11:35:58 -0400 (EDT)
--1. is perhaps a bug -- the best handling of string NAs is under discussion
--
--2 & 4 are just S-PLUS incompatibilities
--
--3. May be a bug -- worth checking.

Directory:  Windows

none

Directory:  incoming

* PR# 1184 *
Subject: ltsreg warnings
From: charlie@stat.umn.edu
Date: Thu, 29 Nov 2001 17:02:33 +0100 (MET)
* PR# 1186 *
Subject: a patch to tapply
From: Vadim Ogranovich <vograno@arbitrade.com>
Date: Thu, 29 Nov 2001 14:48:35 -0600
* PR# 1193 *
Subject: Re: [R] appending similar data frames?
From: Thomas Lumley <tlumley@u.washington.edu>
Date: Mon, 3 Dec 2001 13:46:35 -0800 (PST)
* PR# 1194 *
Subject: factorial() not here
From: Rich Heiberger <rmh@surfer.sbm.temple.edu>
Date: Tue, 4 Dec 2001 11:29:01 -0500 (EST)
* PR# 1195 *
Subject: help(dbinom) recommended documentation improvement
From: Rich Heiberger <rmh@surfer.sbm.temple.edu>
Date: Tue, 4 Dec 2001 11:29:58 -0500 (EST)
* PR# 1196 *
Subject: Re:
From: "(null)" <_bravington@ukonline.co.uk>
Date: Tue,  4 Dec 2001 19:51:00 +0000 (GMT)
* PR# 1197 *
Subject: Re: Er du opptatt i kveld
From: e_postus@yahoo.com
Date: Wed, 05 Dec 2001 22:08:50 -0600
* PR# 1198 *
Subject: glm() documentation, two things
From: david.firth@nuffield.ox.ac.uk
Date: Thu, 6 Dec 2001 11:56:57 +0100 (MET)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Dec  7 06:38:39 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 7 Dec 2001 06:38:39 +0000 (GMT)
Subject: [Rd] cancor rownames bug
In-Reply-To: <3C10364D.C9F83B68@bank-banque-canada.ca>
Message-ID: <Pine.GSO.4.31.0112070638000.4068-100000@auk.stats>

On Thu, 6 Dec 2001, Paul Gilbert wrote:

> R : Copyright 2001, The R Development Core Team
> Version 1.4.0 Under development (unstable) (2001-12-05)
> ...
> > library("mva")
> > cancor(matrix(rnorm(100),100,1), matrix(rnorm(300),100,3))
> Error in "rownames<-"(*tmp*, value = colnames(x)) :
>         dimnames applied to non-array
> >
>
> I think either La.svd or backsolve needs a drop=F somewhere.

Indeed one branch in La.svd does.  Thanks, fixed now.


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Dec  7 08:34:09 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 7 Dec 2001 08:34:09 +0000 (GMT)
Subject: [Rd] Doc bug:  segments contains arrows args
In-Reply-To: <qta01u88bj7p4s55j1sg81qpc203sft6o8@4ax.com>
Message-ID: <Pine.LNX.4.31.0112070833220.18173-100000@gannet.stats>

Done, thank you.

On Thu, 6 Dec 2001, Duncan Murdoch wrote:

> The help page for ?segments contains descriptions of parameters
> "length" and "angle", presumably leftovers from when ?arrows and
> ?segments were the same topic.
>
> Deleting these lines:
>
>   \item{length}{length of the edges of the arrow head (in inches).}
>   \item{angle}{angle from the shaft of the arrow to the edge of the
>     arrow head.}
>
> from segments.Rd will fix it.
>
> Duncan Murdoch
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From thomas.baumann@ch.tum.de  Fri Dec  7 10:06:28 2001
From: thomas.baumann@ch.tum.de (thomas.baumann@ch.tum.de)
Date: Fri, 7 Dec 2001 11:06:28 +0100 (MET)
Subject: [Rd] pixmap: infinite recursion with nonascii pnm-files (PR#1199)
Message-ID: <200112071006.LAA05432@pubhealth.ku.dk>

Problem:

read.pnm from pixmap_0.2-1.tar.gz stops with an infinite recursion if a
"#" occurs within the raw (binary) data of a pnm-file.


The reason for this behaviour seems to be the handling of comments in
read.pnmhead. The recursive call of strip.comments requires a newline to
complete sucessfully. A work-around would be

diff -r pixmap/R/pnm.R pixmap.orig/R/pnm.R
112c112
<       com1 <- as.integer(regexpr("#.*\n", inpstr))
---
>       com1 <- as.integer(regexpr("#", inpstr))

i.e. to check if the comment sign is actually followed by a newline.

However, if this sequence (#.*\n) would occur within the data and within
the first 350 bytes of the pnm-file the data would be stripped as well.

Furthermore, comments within the data of ascii files after byte 350 are
not handled correctly and lead to an error. Although this seems to be a
rare case, it might occur and it is allowed by the pnm-file
specification.

Thomas

--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = 
 major = 1
 minor = 3.1
 year = 2001
 month = 08
 day = 31
 language = R

Search Path:
 .GlobalEnv, package:pixmap, package:ctest, Autoloads, package:base



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Fri Dec  7 11:02:33 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Fri, 7 Dec 2001 12:02:33 +0100
Subject: [Rd] R Bug Report PR#1020
Message-ID: <15376.41417.978442.908345@mithrandir.hornik.net>

We still have PR#1020 (.Call and Mandrake 8.0) by lcottret@yahoo.fr.
Is this still a problem with r-devel?  Does it go away by using Mandrake
8.1 instead?
-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Fri Dec  7 11:08:47 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Fri, 07 Dec 2001 12:08:47 +0100
Subject: [Rd] compiling in windows
References: <Pine.LNX.4.31.0112070833220.18173-100000@gannet.stats>
Message-ID: <3C10A33F.C6799C66@univie.ac.at>

i downloaded todays r-devel tarball
and tried to make it.

i have the complete toolkit,
i can compile R-1.3.1

when i tried today, this is what i got

gcc  -s -mwindows -o Rgui.exe graphappmain.o rgui.o rgico.o ../R.dll
graphappmain.o(.text+0x121):graphappmain.c: undefined reference 
to `_imp__R_reserved_size'
rgui.o(.text+0x63):rgui.c: undefined reference to `_imp__CharacterMode'
make[1]: *** [Rgui.exe] Error 1
make[1]: Leaving directory
`/cygdrive/d/Work/R-devel/src/gnuwin32/front-ends'
make: *** [front-ends] Error 2


additionally,
in src/gnuwin32/INSTALL there is a note about
rw1040\unzip
this directory does not exist in tar snapshot


and src/gnuwin32/readme

has unsunbstituted references for @RWVER@

@RWVER@b.zip				the base system
@RWVER@h.zip				text help
@RWVER@ch.zip				compiled HTML help
@RWVER@w.zip				HTML help files
@RWVER@l.zip				latex help files for offline help
@RWVER@m.zip				installed .Rd files
@RWVER@d1.zip				PDF manuals except
@RWVER@d2.zip				  PDF version of the reference manual
@RWVER@sp.zip				files to build packages from source


i do now know id these should be resolved or not.




Prof Brian Ripley wrote:
> 
> Done, thank you.
> 
> On Thu, 6 Dec 2001, Duncan Murdoch wrote:
> 
> > The help page for ?segments contains descriptions of parameters
> > "length" and "angle", presumably leftovers from when ?arrows and
> > ?segments were the same topic.
> >
> > Deleting these lines:
> >
> >   \item{length}{length of the edges of the arrow head (in inches).}
> >   \item{angle}{angle from the shaft of the arrow to the edge of the
> >     arrow head.}
> >
> > from segments.Rd will fix it.
> >
> > Duncan Murdoch
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> --
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Dec  7 11:40:43 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 7 Dec 2001 11:40:43 +0000 (GMT)
Subject: [Rd] compiling in windows
In-Reply-To: <3C10A33F.C6799C66@univie.ac.at>
Message-ID: <Pine.LNX.4.31.0112071132070.18476-100000@gannet.stats>

On Fri, 7 Dec 2001, Erich Neuwirth wrote:

> i downloaded todays r-devel tarball
> and tried to make it.
>
> i have the complete toolkit,
> i can compile R-1.3.1

*BUT* it is not the same toolkit.  Do read CHANGES.

> when i tried today, this is what i got
>
> gcc  -s -mwindows -o Rgui.exe graphappmain.o rgui.o rgico.o ../R.dll
> graphappmain.o(.text+0x121):graphappmain.c: undefined reference
> to `_imp__R_reserved_size'
> rgui.o(.text+0x63):rgui.c: undefined reference to `_imp__CharacterMode'
> make[1]: *** [Rgui.exe] Error 1
> make[1]: Leaving directory
> `/cygdrive/d/Work/R-devel/src/gnuwin32/front-ends'
> make: *** [front-ends] Error 2

You don't have the recommended compiler, then.

> additionally,
> in src/gnuwin32/INSTALL there is a note about
> rw1040\unzip
> this directory does not exist in tar snapshot

Correct!  Try following the instructions and see what happens.

> and src/gnuwin32/readme
>
> has unsunbstituted references for @RWVER@
>
> @RWVER@b.zip				the base system
> @RWVER@h.zip				text help
> @RWVER@ch.zip				compiled HTML help
> @RWVER@w.zip				HTML help files
> @RWVER@l.zip				latex help files for offline help
> @RWVER@m.zip				installed .Rd files
> @RWVER@d1.zip				PDF manuals except
> @RWVER@d2.zip				  PDF version of the reference manual
> @RWVER@sp.zip				files to build packages from source
>
>
> i do now know id these should be resolved or not.

The tarball is correct. Did you read through the Makefile to see what
happens?

I really wouldn't advise building from R-devel tarballs at present unless
you really know what you are doing (in which case get the sources by
rsync): a lot of issues are still being resolved, especially on Windows.


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From mikalzet@libero.it  Fri Dec  7 11:44:09 2001
From: mikalzet@libero.it (mikalzet@libero.it)
Date: Fri, 7 Dec 2001 12:44:09 +0100 (MET)
Subject: [Rd] bug PR#1020
Message-ID: <200112071144.MAA07120@pubhealth.ku.dk>


Found it on the site.
I tried duncan's suggestion.

#include "Rinternals.h"

SEXP
simpleCall()
{
  static int count = 0;
  SEXP ans;

  PROTECT(ans = allocVector(INTSXP, 1));
  INTEGER(ans)[0] = count++;

  UNPROTECT(1);
  return(ans);
}


If I had read this before I could have checked on mandrake 8.0

Here is my output on mandrake 8.1:

> dyn.load("simpleCall.so")
> for(i in 1:10) { print(.Call("simpleCall")) }

[1] 0
[1] 1
[1] 2
[1] 3
[1] 4
[1] 5
[1] 6
[1] 7
[1] 8
[1] 9

for(i in 1:10) { print(.Call("simpleCall")) }

[1] 10
[1] 11
[1] 12
[1] 13
[1] 14
[1] 15
[1] 16
[1] 17
[1] 18
[1] 19

> for(i in 1:10) { print(.Call("simpleCall")) }

[1] 20
[1] 21
[1] 22
[1] 23
[1] 24
[1] 25
[1] 26
[1] 27
[1] 28
[1] 29

Seems ok ?

-- 
Michele Alzetta


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Fri Dec  7 18:46:09 2001
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Fri, 07 Dec 2001 13:46:09 -0500
Subject: (fwd) Re: [Rd] Windows testing
Message-ID: <m3321usakrec1gaqds9ps560vd17f941gu@4ax.com>

On Thu, 06 Dec 2001 10:25:52 -0500, Duncan Murdoch
<murdoch@stats.uwo.ca> wrote:

>2.  Selecting "Resize|fit to window" crashes the window if you shrink
>it so small that there is no space for the graph, just space for the
>margins. There should be some limit to how small you're allowed to
>shrink the window.

I've tried this with today's build, and I get the same result on a
Win98 machine, no crash on a Win95 machine.  (There are lots of other
differences between the machines too, I haven't explored whether they
are significant. The only difference I know of in R-devel is that on
the Win95 machine I compiled with DEBUG=T.)

When I say crash, I don't mean a popup error box or anything, just
that the graphics window locks up.  It doesn't allow you to make it
bigger again.  It turns out that after you switch to a different task
and back to R, it wakes up again.

Just noticed it's causing internal Windows problems:  my mouse seems
to not be able to go to the taskbar at the bottom of the screen while
the graphics window is locked.

Duncan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Fri Dec  7 18:56:06 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Fri, 07 Dec 2001 19:56:06 +0100
Subject: [Rd] question
References: <Pine.LNX.4.31.0112071132070.18476-100000@gannet.stats>
Message-ID: <3C1110C6.F55706D9@univie.ac.at>

in r 1.3.1,
i read in data into a dataframe and (erroneously) forgot to convert text
into numbers.

the frame was called olddata
then i could to the following calculation:

vp95<-olddata["vp95"]/olddata["wb95"]

"vp95" and "wb95" are column names.

in r 1.4.0, this does not work any more.
i have to do

vp95<-as.real(olddata[,"vp95"])/as.real(olddata[,"wb95"])

is this intended behavior now?



--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Fri Dec  7 22:31:52 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 Dec 2001 23:31:52 +0100
Subject: [Rd] question
In-Reply-To: <3C1110C6.F55706D9@univie.ac.at>
References: <Pine.LNX.4.31.0112071132070.18476-100000@gannet.stats>
 <3C1110C6.F55706D9@univie.ac.at>
Message-ID: <x2vgfisluv.fsf@blueberry.kubism.ku.dk>

Erich Neuwirth <erich.neuwirth@univie.ac.at> writes:

> in r 1.3.1,
> i read in data into a dataframe and (erroneously) forgot to convert text
> into numbers.
> 
> the frame was called olddata
> then i could to the following calculation:
> 
> vp95<-olddata["vp95"]/olddata["wb95"]
> 
> "vp95" and "wb95" are column names.
> 
> in r 1.4.0, this does not work any more.
> i have to do
> 
> vp95<-as.real(olddata[,"vp95"])/as.real(olddata[,"wb95"])
> 
> is this intended behavior now?

Eh? Could you give an example of how to create such a data frame? The
things I can think up give the same in both versions?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gregory_r_warnes@groton.pfizer.com  Fri Dec  7 23:15:58 2001
From: gregory_r_warnes@groton.pfizer.com (Warnes, Gregory R)
Date: Fri, 7 Dec 2001 18:15:58 -0500
Subject: [Rd] question
Message-ID: <5429125E11E4D411AF7300805FE603A8014CF0AC@groexmbcr02.pfizer.com>


Isn't anything in a data frame that is not explicitly numeric a *factor*?  

-Greg

 >  -----Original Message-----
 >  From: Peter Dalgaard BSA [mailto:p.dalgaard@biostat.ku.dk]
 >  Sent: Friday, December 07, 2001 5:32 PM
 >  To: Erich Neuwirth
 >  Cc: r-devel@stat.math.ethz.ch
 >  Subject: Re: [Rd] question
 >  
 >  
 >  Erich Neuwirth <erich.neuwirth@univie.ac.at> writes:
 >  
 >  > in r 1.3.1,
 >  > i read in data into a dataframe and (erroneously) forgot 
 >  to convert text
 >  > into numbers.
 >  > 
 >  > the frame was called olddata
 >  > then i could to the following calculation:
 >  > 
 >  > vp95<-olddata["vp95"]/olddata["wb95"]
 >  > 
 >  > "vp95" and "wb95" are column names.
 >  > 
 >  > in r 1.4.0, this does not work any more.
 >  > i have to do
 >  > 
 >  > vp95<-as.real(olddata[,"vp95"])/as.real(olddata[,"wb95"])
 >  > 
 >  > is this intended behavior now?
 >  
 >  Eh? Could you give an example of how to create such a data 
 >  frame? The
 >  things I can think up give the same in both versions?
 >  
 >  -- 
 >     O__  ---- Peter Dalgaard             Blegdamsvej 3  
 >    c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 >   (*) \(*) -- University of Copenhagen   Denmark      Ph: 
 >  (+45) 35327918
 >  ~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: 
 >  (+45) 35327907
 >  -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
 >  -.-.-.-.-.-.-.-.-.-
 >  r-devel mailing list -- Read 
 >  http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
 >  Send "info", "help", or "[un]subscribe"
 >  (in the "body", not the subject !)  To: 
 >  r-devel-request@stat.math.ethz.ch
 >  _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
 >  _._._._._._._._._._
 >  


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gregory_r_warnes@groton.pfizer.com  Sat Dec  8 00:17:09 2001
From: gregory_r_warnes@groton.pfizer.com (Warnes, Gregory R)
Date: Fri, 7 Dec 2001 19:17:09 -0500
Subject: [Rd] lowess() as a generic function
Message-ID: <5429125E11E4D411AF7300805FE603A8014CF0AE@groexmbcr02.pfizer.com>


Hi All,

I've been providing a generic version of lowess()  in my 'gregmisc' library,
along with a 'lowess.formula' and 'lowess.default'.

Can/should these be moved into base?   

-Greg







LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sat Dec  8 08:02:48 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 8 Dec 2001 08:02:48 +0000 (GMT)
Subject: [Rd] lowess() as a generic function
In-Reply-To: <5429125E11E4D411AF7300805FE603A8014CF0AE@groexmbcr02.pfizer.com>
Message-ID: <Pine.LNX.4.31.0112080757500.2035-100000@gannet.stats>

On Fri, 7 Dec 2001, Warnes, Gregory R wrote:

> I've been providing a generic version of lowess()  in my 'gregmisc' library,
> along with a 'lowess.formula' and 'lowess.default'.
>
> Can/should these be moved into base?

Not during feature freeze for 1.4.0.

Folks, we have something like a 6-month release cycle (details on
developer.r-project.org) and it's amazing how often we get feature
requests just prior to a release.

I presume there are other methods needed: I thought lowess had to a
large extent been superseded by loess.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sat Dec  8 08:16:03 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 8 Dec 2001 08:16:03 +0000 (GMT)
Subject: [Rd] question
In-Reply-To: <5429125E11E4D411AF7300805FE603A8014CF0AC@groexmbcr02.pfizer.com>
Message-ID: <Pine.LNX.4.31.0112080808390.2035-100000@gannet.stats>

On Fri, 7 Dec 2001, Warnes, Gregory R wrote:

>
> Isn't anything in a data frame that is not explicitly numeric a *factor*?

No.  You can have columns of just about any type in a data frame,
including logical, complex, character, POSIXt, ....

In (pre-)1.4.0 read.table will generate these for you much more often (and
more easily).

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Sat Dec  8 09:19:43 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Sat, 08 Dec 2001 10:19:43 +0100
Subject: [Rd] question
References: <5429125E11E4D411AF7300805FE603A8014CF0AC@groexmbcr02.pfizer.com>
Message-ID: <3C11DB2F.C8F7BFC6@univie.ac.at>

here is the example

this is how i read my data

assign("oldfilename","d:\\documents\\wahl99\\nrw95testin.csv",envir=.GlobalEnv)
olddata<-read.csv(oldfilename,as.is=TRUE,sep=";",header=FALSE,
col.names=c("nr","name","wb95","abg95","glt95",
        "sp95","vp95","fp95","gr95","lif95"))


when i then compute
olddata["sp95"]/olddata["wb95"]

r 1.3.1 is ok,
and r 1.4.0 says

Error in FUN(left, right) : non-numeric argument to binary operator




--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sat Dec  8 10:18:34 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 8 Dec 2001 10:18:34 +0000 (GMT)
Subject: [Rd] question
In-Reply-To: <3C11DB2F.C8F7BFC6@univie.ac.at>
Message-ID: <Pine.LNX.4.31.0112081012530.5020-100000@gannet.stats>

On Sat, 8 Dec 2001, Erich Neuwirth wrote:

> here is the example
>
> this is how i read my data
>
> assign("oldfilename","d:\\documents\\wahl99\\nrw95testin.csv",envir=.GlobalEnv)
> olddata<-read.csv(oldfilename,as.is=TRUE,sep=";",header=FALSE,
> col.names=c("nr","name","wb95","abg95","glt95",
>         "sp95","vp95","fp95","gr95","lif95"))
>
>
> when i then compute
> olddata["sp95"]/olddata["wb95"]
>
> r 1.3.1 is ok,
> and r 1.4.0 says
>
> Error in FUN(left, right) : non-numeric argument to binary operator

Well, actually 1.3.1 was not behaving as documented:

   as.is: the default behavior of `read.table' is to convert
...
          numeric indices which specify which columns should be left as
          character strings.

and 1.4.0 is.  I'll revert the behaviour and correct the documentation.


The `as.is' argument has been superseded anyway by `colClasses'.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ritter@stat.ucl.ac.be  Sun Dec  9 11:10:08 2001
From: ritter@stat.ucl.ac.be (ritter@stat.ucl.ac.be)
Date: Sun, 9 Dec 2001 12:10:08 +0100 (MET)
Subject: [Rd] bug?/lack of feature in bxp (PR#1200)
Message-ID: <200112091110.MAA16704@pubhealth.ku.dk>

Full_Name: Christian Ritter
Version: 1.3.1
OS: win/nt
Submission from: (NULL) (130.104.139.32)


not a bug but lack of feature:

outlier symbol can't be changed in bxp

in bxp:

...
        points(rep(x, length(out)), out, col = border)
...

as you can see, no pty or pch argument is used. 



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ligges@statistik.uni-dortmund.de  Sun Dec  9 11:41:31 2001
From: ligges@statistik.uni-dortmund.de (ligges@statistik.uni-dortmund.de)
Date: Sun, 9 Dec 2001 12:41:31 +0100 (MET)
Subject: [Rd] bug?/lack of feature in bxp (PR#1200)
Message-ID: <200112091141.MAA16858@pubhealth.ku.dk>

ritter@stat.ucl.ac.be wrote:
> 
> Full_Name: Christian Ritter
> Version: 1.3.1
> OS: win/nt
> Submission from: (NULL) (130.104.139.32)
> 
> not a bug but lack of feature:
> 
> outlier symbol can't be changed in bxp
> 
> in bxp:
> 
> ...
>         points(rep(x, length(out)), out, col = border)
> ...
> 
> as you can see, no pty or pch argument is used.

It can easily be changed, if you make use of par() before calling bxp()
or boxplot:

 par(pch=2)
 boxplot(c(1:10, 100))

Uwe Ligges

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ligges@statistik.uni-dortmund.de  Sun Dec  9 11:46:57 2001
From: ligges@statistik.uni-dortmund.de (ligges@statistik.uni-dortmund.de)
Date: Sun, 9 Dec 2001 12:46:57 +0100 (MET)
Subject: [Rd] bug?/lack of feature in bxp (PR#1200)
Message-ID: <200112091146.MAA16890@pubhealth.ku.dk>

Uwe Ligges wrote:
> 
> ritter@stat.ucl.ac.be wrote:
> >
> > Full_Name: Christian Ritter
> > Version: 1.3.1
> > OS: win/nt
> > Submission from: (NULL) (130.104.139.32)
> >
> > not a bug but lack of feature:
> >
> > outlier symbol can't be changed in bxp
> >
> > in bxp:
> >
> > ...
> >         points(rep(x, length(out)), out, col = border)
> > ...
> >
> > as you can see, no pty or pch argument is used.
> 
> It can easily be changed, if you make use of par() before calling bxp()
> or boxplot:
> 
>  par(pch=2)
>  boxplot(c(1:10, 100))

... and the feature is already added in the development version of
R-1.4.0, where you can use:

 boxplot(c(1:10, 100), pars=list(pch=2))

Sorry, I was a little bit too fast.

Uwe Ligges

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From z.yang@ucl.ac.uk  Sun Dec  9 12:57:05 2001
From: z.yang@ucl.ac.uk (z.yang@ucl.ac.uk)
Date: Sun, 9 Dec 2001 13:57:05 +0100 (MET)
Subject: [Rd] error in qbeta (PR#1201)
Message-ID: <200112091257.NAA17087@pubhealth.ku.dk>

Full_Name: Ziheng Yang
Version: 1.3.1
OS: Windows 98
Submission from: (NULL) (172.136.54.89)


I noticed that qbeta is sometimes wrong and the error is not even due to the
beta parameters being too extreme.  I am calculating the quantiles corresponding
to cdf = 0.05, 0.15, ..., 0.95.  The value corresponding to cdf=0.25 is wrong
while all other values are correct.  

qbeta(0.05, 0.143891, 0.05) = 1.040850e-05   correct
qbeta(0.15, 0.143891, 0.05) = 0.021161       correct
qbeta(0.25, 0.143891, 0.05) = 3e-308         wrong (correct value is 0.457227)
qbeta(0.25, 0.143891, 0.05) = 0.945217       correct

I also used your source file qbeta.c to do the same calculation, and it seems
that something might be wrong in the "initial approximation", before the
newton-raphson iteration.  Also I notice that the 5/6 in the following line is
probably supposed to mean 5./6., although this does not seem to be the source of
the problem.

	w = y * sqrt(h + r) / h - (t - s) * (r + 5 / 6 - 2 / (3 * h));

Could you possibly let me know how to fix the problem.  I will appreciate any
help you might provide.  I am using the Windows version 1.3.1 (2001).

Best wishes,


Ziheng Yang
Professor of Statistical Genetics 
Department of Biology               
University College London           Phone: (+44) (0)20 7679 4379
Darwin Building                     Fax:   (+44) (0)20 7679 7096
Gower Street                        Email: z.yang@ucl.ac.uk
London WC1E 6BT
England
http://abacus.gene.ucl.ac.uk/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Sun Dec  9 15:35:19 2001
From: edd@debian.org (edd@debian.org)
Date: Sun, 9 Dec 2001 16:35:19 +0100 (MET)
Subject: [Rd] Bug#123084: r-base: R documentatio search engine unusable with Mozilla 6 (OK with netscape 4.7x) (PR#1202)
Message-ID: <200112091535.QAA17520@pubhealth.ku.dk>


As there is nothing Debian-specific in this bug report (and the .deb of the
JVW is not from Debian either), I am forwarding this to R-bugs. My
recollection from recent discussions on the R mailing list is that currently
/no/ browser other than Netscape supports the Java search engine -- is that
correct or was there some Netscape derivative (galeon?) which does?
Maybe the documentation should be enhanced in time for 1.4.0 to clarify this.

Cheers, Dirk
Debian maintainer for R

  From: Emmanuel Charpentier <charpent@bacbuc.dyndns.org>
  To: Debian Bug Tracking System <submit@bugs.debian.org>
  Subject: Bug#123084: r-base: R documentatio search engine unusable with Mozilla 6 (OK with netscape 4.7x)
  Date: Sun, 09 Dec 2001 16:04:49 +0100
  
  Package: r-base
  Version: 1.3.1-6
  Severity: normal
  
  The html-based doc system has problems with (the current builds of) Mozilla 6 :
  while the Java search engine does work in Netscape 4.77, it does *not* with
  Mozilla. The Netscape Java is, of course, 1.x, while Mozilla needs at least a
  j2re virtualm machine (I use the Blackdown's debian package of j2re1.3.1 and
  j2sdk :
  
  charpent@yod:~$ dpkg -l | grep j2
  ii  j2sdk1.3       1.3.1-1        Blackdown Java(TM) 2 SDK, Standard Edition
  charpent@yod:~$ 
  
  When I try to use the search engine (clicking the "Search engine" anchor on the
  root page of the R documentation), I get a JVM error dialog box stating :
  
  java.security.AccessControlException: access denied (java.io.FilePermission /home/charpent/.R/doc/html/search/SearchEngine.class read)
  	at java.security.AccessControlContext.checkPermission(AccessControlContext.java:272)
  	at java.security.AccessController.checkPermission(AccessController.java:399)
  	at java.lang.SecurityManager.checkPermission(SecurityManager.java:545)
  	at java.lang.SecurityManager.checkRead(SecurityManager.java:890)
  	at java.io.File.isDirectory(File.java:567)
  	at sun.net.www.protocol.file.FileURLConnection.connect(FileURLConnection.java:65)
  	at sun.net.www.protocol.file.FileURLConnection.initializeHeaders(FileURLConnection.java:82)
  	at sun.net.www.protocol.file.FileURLConnection.getContentLength(FileURLConnection.java:113)
  	at sun.applet.AppletClassLoader.getBytes(AppletClassLoader.java:223)
  	at sun.applet.AppletClassLoader.access$100(AppletClassLoader.java:41)
  	at sun.applet.AppletClassLoader$1.run(AppletClassLoader.java:137)
  	at java.security.AccessController.doPrivileged(Native Method)
  	at sun.applet.AppletClassLoader.findClass(AppletClassLoader.java:134)
  	at sun.plugin.security.PluginClassLoader.findClass(PluginClassLoader.java:252)
  	at java.lang.ClassLoader.loadClass(ClassLoader.java:297)
  	at sun.applet.AppletClassLoader.loadClass(AppletClassLoader.java:108)
  	at java.lang.ClassLoader.loadClass(ClassLoader.java:253)
  	at sun.applet.AppletClassLoader.loadCode(AppletClassLoader.java:373)
  	at sun.applet.AppletPanel.createApplet(AppletPanel.java:579)
  	at sun.plugin.AppletViewer.createApplet(AppletViewer.java:1178)
  	at sun.applet.AppletPanel.runLoader(AppletPanel.java:515)
  	at sun.applet.AppletPanel.run(AppletPanel.java:293)
  	at sun.plugin.navig.motif.MotifAppletViewer.maf_run(MotifAppletViewer.java:127)
  	at sun.plugin.navig.motif.MotifAppletViewer.run(MotifAppletViewer.java:123)
  	at java.lang.Thread.run(Thread.java:484)
  
  However :
  
  charpent@yod:~$ ls -l .R/doc/html/search/
  total 656
  lrwxrwxrwx    1 charpent charpent       43 Dec  9 15:14 IndexEntry.class -> /usr/lib/R/doc/html/search/IndexEntry.class
  lrwxrwxrwx    1 charpent charpent       44 Dec  9 15:14 IndexStream.class -> /usr/lib/R/doc/html/search/IndexStream.class
  lrwxrwxrwx    1 charpent charpent       43 Dec  9 15:14 IndexTable.class -> /usr/lib/R/doc/html/search/IndexTable.class
  lrwxrwxrwx    1 charpent charpent       49 Dec  9 15:14 SearchEngine-foot.html -> /usr/lib/R/doc/html/search/SearchEngine-foot.html
  lrwxrwxrwx    1 charpent charpent       49 Dec  9 15:14 SearchEngine-head.html -> /usr/lib/R/doc/html/search/SearchEngine-head.html
  lrwxrwxrwx    1 charpent charpent       45 Dec  9 15:14 SearchEngine.class -> /usr/lib/R/doc/html/search/SearchEngine.class
  lrwxrwxrwx    1 charpent charpent       44 Dec  9 15:14 SearchEngine.html -> /usr/lib/R/doc/html/search/SearchEngine.html
  lrwxrwxrwx    1 charpent charpent       44 Dec  9 15:14 SearchObject.html -> /usr/lib/R/doc/html/search/SearchObject.html
  lrwxrwxrwx    1 charpent charpent       39 Dec  9 15:14 Tracer.class -> /usr/lib/R/doc/html/search/Tracer.class
  lrwxrwxrwx    1 charpent charpent       38 Dec  9 15:14 Value.class -> /usr/lib/R/doc/html/search/Value.class
  -rw-r--r--    1 charpent charpent   663581 Dec  9 15:14 index.txt
  
  and, of course :
  
  charpent@yod:~$ ls -l /usr/lib/R/doc/html/search/
  total 184
  -rw-r--r--    1 root     root         1412 Dec  4 05:32 IndexEntry.class
  -rw-r--r--    1 root     root         3125 Dec  4 05:32 IndexStream.class
  -rw-r--r--    1 root     root          735 Dec  4 05:32 IndexTable.class
  -rw-r--r--    1 root     root          163 Dec  4 05:32 SearchEngine-foot.html
  -rw-r--r--    1 root     root         2239 Dec  4 05:32 SearchEngine-head.html
  -rw-r--r--    1 root     root         4715 Dec  4 05:32 SearchEngine.class
  -rw-r--r--    1 root     root         9650 Dec  4 05:32 SearchEngine.html
  -rw-r--r--    1 root     root         1087 Dec  4 05:32 SearchObject.html
  -rw-r--r--    1 root     root         1273 Dec  4 05:32 Tracer.class
  -rw-r--r--    1 root     root          675 Dec  4 05:32 Value.class
  -rw-r--r--    1 root     root       130263 Dec  4 05:32 index.txt
  charpent@yod:~$ 
  
  The very same installation works pperfectly with Netscape (I just have to lauch
  Netscape before invoking help.start(), which launches Mozilla by default).
  
  What am I missing ? Not much, as far as I can tell. Mozilla does not seem to
  have problems with Java (but I may be mistaken : I'm not much of a "surfer").
  
  Therefore, I suspect that the SearchEngine.class code is somewhat java-1.1x
  specific.
  
  -- System Information
  Debian Release: 3.0
  Architecture: i386
  Kernel: Linux yod 2.4.13 #2 Wed Oct 31 15:09:05 CET 2001 i686
  Locale: LANG=C, LC_CTYPE=
  
  Versions of packages r-base depends on:
  ii  atlas2-athlon [blas2]     3.2.1-12       Automatically Tuned Linear Algebra
  ii  atlas2-base [blas2]       3.2.1l-2       Automatically Tuned Linear Algebra
  ii  blas1 [blas2]             1.0-9          A set of building blocks for perfo
  ii  libc6                     2.2.4-7        GNU C Library: Shared libraries an
  ii  libjpeg62                 6b-4           The Independent JPEG Group's JPEG 
  ii  libncurses5               5.2.20010318-3 Shared libraries for terminal hand
  ii  libpng2                   1.0.12-2       PNG library - runtime
  ii  libreadline4              4.2a-2         GNU readline and history libraries
  ii  perl                      5.6.1-6        Larry Wall's Practical Extraction 
  ii  tcl8.3                    8.3.3-4        The Tool Command Language (TCL) v8
  ii  tk8.3                     8.3.3-6        The Tk toolkit for TCL and X11 v8.
  ii  xlibs                     4.1.0-10       X Window System client libraries
  ii  zlib-bin                  1:1.1.3-18     compression library - sample progr
  ii  zlib1g                    1:1.1.3-18     compression library - runtime
  
--please do not edit the information below--

Version:
 platform = i386-pc-linux-gnu
 arch = i386
 os = linux-gnu
 system = i386, linux-gnu
 status =
 major = 1
 minor = 3.1
 year = 2001
 month = 08
 day = 31
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base


-- 
Good judgment comes from experience; experience comes from bad judgment. 
							    -- F. Brooks

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sun Dec  9 16:29:49 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Dec 2001 17:29:49 +0100
Subject: [Rd] error in qbeta (PR#1201)
In-Reply-To: <200112091257.NAA17087@pubhealth.ku.dk>
References: <200112091257.NAA17087@pubhealth.ku.dk>
Message-ID: <x2her0xsoy.fsf@blueberry.kubism.ku.dk>

z.yang@ucl.ac.uk writes:

> Full_Name: Ziheng Yang
> Version: 1.3.1
> OS: Windows 98
> Submission from: (NULL) (172.136.54.89)
> 
> 
> I noticed that qbeta is sometimes wrong and the error is not even due to the
> beta parameters being too extreme.  I am calculating the quantiles corresponding
> to cdf = 0.05, 0.15, ..., 0.95.  The value corresponding to cdf=0.25 is wrong
> while all other values are correct.  
> 
> qbeta(0.05, 0.143891, 0.05) = 1.040850e-05   correct
> qbeta(0.15, 0.143891, 0.05) = 0.021161       correct
> qbeta(0.25, 0.143891, 0.05) = 3e-308         wrong (correct value is 0.457227)
> qbeta(0.25, 0.143891, 0.05) = 0.945217       correct
> 
> I also used your source file qbeta.c to do the same calculation, and it seems
> that something might be wrong in the "initial approximation", before the
> newton-raphson iteration.  Also I notice that the 5/6 in the following line is
> probably supposed to mean 5./6., although this does not seem to be the source of
> the problem.
> 
> 	w = y * sqrt(h + r) / h - (t - s) * (r + 5 / 6 - 2 / (3 * h));
> 
> Could you possibly let me know how to fix the problem.  I will appreciate any
> help you might provide.  I am using the Windows version 1.3.1 (2001).

The 5/6 thing appears to be fixed in the current sources. However, the 
qbeta(0.25, 0.143891, 0.05) effect is still there and seems to be
algorithmic. It does not disappear when removing optimizations.

What happens is that in the calculation of the initial approximation,
we have 

        t = r * pow(1 - t + y * sqrt(t), 3);
        if (t <= 0.)
            xinbta = 1 - exp((log((1 - a) * qq) + logbeta) / qq);
... 

with t negative at the if() *and* xinbta coming out negative
so xinbta gets set to "lower" aka 3e-308

Further down, we get

   y = pbeta_raw(xinbta, pp, qq, /*lower_tail = */ TRUE);

which is way off from the target a, but then we calculate

   y = (y - a) *
         exp(logbeta + r * log(xinbta) + t * log(1 - xinbta));

which is a small number since log(xinbta) is large and negative. Then,
we have
 
   if (fabs(y) <= acu) goto L_converged;

and the whole thing terminates without even trying to get an improved
estimate.... 

Clues on where to fix this would be most welcome!

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Dec  9 16:39:57 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 9 Dec 2001 17:39:57 +0100 (MET)
Subject: [Rd] Bug#123084: r-base: R documentatio search engine unusable (PR#1203)
Message-ID: <200112091639.RAA17749@pubhealth.ku.dk>

On Sun, 9 Dec 2001 edd@debian.org wrote:

>
> As there is nothing Debian-specific in this bug report (and the .deb of the
> JVW is not from Debian either), I am forwarding this to R-bugs. My
> recollection from recent discussions on the R mailing list is that currently
> /no/ browser other than Netscape supports the Java search engine -- is that
> correct or was there some Netscape derivative (galeon?) which does?
> Maybe the documentation should be enhanced in time for 1.4.0 to clarify this.

It's very far from correct!  The search engine works with Netscape 6.2 on
Linux (and Windows), and with Internet Explorer and Opera 5 on Windows.
(We were told it works with Internet Explorer on Linux too.) Opera uses
Sun's 1.3.1, as I recall, so I don't think this is a Java-1.1 vs 1.3
issue.  (I've just checked: Netscape 6.2 uses JRE 1.3.1.)

What BTW is `Mozilla 6'?  The current Mozilla is 0.9.6, so `6' seems a
decade or so away.

Which documentation do you suggest is altered and how?  Given that the
Mozilla-0.9.4-based Netscape 6.2 with JRE 1.3.1 works, the finger is
pointing pretty insistently at a problem in the installation of `Mozilla
6', whatever that is, and/or its JRE.

> Cheers, Dirk
> Debian maintainer for R
>
>   From: Emmanuel Charpentier <charpent@bacbuc.dyndns.org>
>   To: Debian Bug Tracking System <submit@bugs.debian.org>
>   Subject: Bug#123084: r-base: R documentatio search engine unusable with Mozilla 6 (OK with netscape 4.7x)
>   Date: Sun, 09 Dec 2001 16:04:49 +0100
>
>   Package: r-base
>   Version: 1.3.1-6
>   Severity: normal
>
>   The html-based doc system has problems with (the current builds of) Mozilla 6 :
>   while the Java search engine does work in Netscape 4.77, it does *not* with
>   Mozilla. The Netscape Java is, of course, 1.x, while Mozilla needs at least a
>   j2re virtualm machine (I use the Blackdown's debian package of j2re1.3.1 and
>   j2sdk :
>
>   charpent@yod:~$ dpkg -l | grep j2
>   ii  j2sdk1.3       1.3.1-1        Blackdown Java(TM) 2 SDK, Standard Edition
>   charpent@yod:~$
>
>   When I try to use the search engine (clicking the "Search engine" anchor on the
>   root page of the R documentation), I get a JVM error dialog box stating :
>
>   java.security.AccessControlException: access denied (java.io.FilePermission /home/charpent/.R/doc/html/search/SearchEngine.class read)
>   	at java.security.AccessControlContext.checkPermission(AccessControlContext.java:272)
>   	at java.security.AccessController.checkPermission(AccessController.java:399)
>   	at java.lang.SecurityManager.checkPermission(SecurityManager.java:545)
>   	at java.lang.SecurityManager.checkRead(SecurityManager.java:890)
>   	at java.io.File.isDirectory(File.java:567)
>   	at sun.net.www.protocol.file.FileURLConnection.connect(FileURLConnection.java:65)
>   	at sun.net.www.protocol.file.FileURLConnection.initializeHeaders(FileURLConnection.java:82)
>   	at sun.net.www.protocol.file.FileURLConnection.getContentLength(FileURLConnection.java:113)
>   	at sun.applet.AppletClassLoader.getBytes(AppletClassLoader.java:223)
>   	at sun.applet.AppletClassLoader.access$100(AppletClassLoader.java:41)
>   	at sun.applet.AppletClassLoader$1.run(AppletClassLoader.java:137)
>   	at java.security.AccessController.doPrivileged(Native Method)
>   	at sun.applet.AppletClassLoader.findClass(AppletClassLoader.java:134)
>   	at sun.plugin.security.PluginClassLoader.findClass(PluginClassLoader.java:252)
>   	at java.lang.ClassLoader.loadClass(ClassLoader.java:297)
>   	at sun.applet.AppletClassLoader.loadClass(AppletClassLoader.java:108)
>   	at java.lang.ClassLoader.loadClass(ClassLoader.java:253)
>   	at sun.applet.AppletClassLoader.loadCode(AppletClassLoader.java:373)
>   	at sun.applet.AppletPanel.createApplet(AppletPanel.java:579)
>   	at sun.plugin.AppletViewer.createApplet(AppletViewer.java:1178)
>   	at sun.applet.AppletPanel.runLoader(AppletPanel.java:515)
>   	at sun.applet.AppletPanel.run(AppletPanel.java:293)
>   	at sun.plugin.navig.motif.MotifAppletViewer.maf_run(MotifAppletViewer.java:127)
>   	at sun.plugin.navig.motif.MotifAppletViewer.run(MotifAppletViewer.java:123)
>   	at java.lang.Thread.run(Thread.java:484)
>
>   However :
>
>   charpent@yod:~$ ls -l .R/doc/html/search/
>   total 656
>   lrwxrwxrwx    1 charpent charpent       43 Dec  9 15:14 IndexEntry.class -> /usr/lib/R/doc/html/search/IndexEntry.class
>   lrwxrwxrwx    1 charpent charpent       44 Dec  9 15:14 IndexStream.class -> /usr/lib/R/doc/html/search/IndexStream.class
>   lrwxrwxrwx    1 charpent charpent       43 Dec  9 15:14 IndexTable.class -> /usr/lib/R/doc/html/search/IndexTable.class
>   lrwxrwxrwx    1 charpent charpent       49 Dec  9 15:14 SearchEngine-foot.html -> /usr/lib/R/doc/html/search/SearchEngine-foot.html
>   lrwxrwxrwx    1 charpent charpent       49 Dec  9 15:14 SearchEngine-head.html -> /usr/lib/R/doc/html/search/SearchEngine-head.html
>   lrwxrwxrwx    1 charpent charpent       45 Dec  9 15:14 SearchEngine.class -> /usr/lib/R/doc/html/search/SearchEngine.class
>   lrwxrwxrwx    1 charpent charpent       44 Dec  9 15:14 SearchEngine.html -> /usr/lib/R/doc/html/search/SearchEngine.html
>   lrwxrwxrwx    1 charpent charpent       44 Dec  9 15:14 SearchObject.html -> /usr/lib/R/doc/html/search/SearchObject.html
>   lrwxrwxrwx    1 charpent charpent       39 Dec  9 15:14 Tracer.class -> /usr/lib/R/doc/html/search/Tracer.class
>   lrwxrwxrwx    1 charpent charpent       38 Dec  9 15:14 Value.class -> /usr/lib/R/doc/html/search/Value.class
>   -rw-r--r--    1 charpent charpent   663581 Dec  9 15:14 index.txt
>
>   and, of course :
>
>   charpent@yod:~$ ls -l /usr/lib/R/doc/html/search/
>   total 184
>   -rw-r--r--    1 root     root         1412 Dec  4 05:32 IndexEntry.class
>   -rw-r--r--    1 root     root         3125 Dec  4 05:32 IndexStream.class
>   -rw-r--r--    1 root     root          735 Dec  4 05:32 IndexTable.class
>   -rw-r--r--    1 root     root          163 Dec  4 05:32 SearchEngine-foot.html
>   -rw-r--r--    1 root     root         2239 Dec  4 05:32 SearchEngine-head.html
>   -rw-r--r--    1 root     root         4715 Dec  4 05:32 SearchEngine.class
>   -rw-r--r--    1 root     root         9650 Dec  4 05:32 SearchEngine.html
>   -rw-r--r--    1 root     root         1087 Dec  4 05:32 SearchObject.html
>   -rw-r--r--    1 root     root         1273 Dec  4 05:32 Tracer.class
>   -rw-r--r--    1 root     root          675 Dec  4 05:32 Value.class
>   -rw-r--r--    1 root     root       130263 Dec  4 05:32 index.txt
>   charpent@yod:~$
>
>   The very same installation works pperfectly with Netscape (I just have to lauch
>   Netscape before invoking help.start(), which launches Mozilla by default).
>
>   What am I missing ? Not much, as far as I can tell. Mozilla does not seem to
>   have problems with Java (but I may be mistaken : I'm not much of a "surfer").
>
>   Therefore, I suspect that the SearchEngine.class code is somewhat java-1.1x
>   specific.
>
>   -- System Information
>   Debian Release: 3.0
>   Architecture: i386
>   Kernel: Linux yod 2.4.13 #2 Wed Oct 31 15:09:05 CET 2001 i686
>   Locale: LANG=C, LC_CTYPE=
>
>   Versions of packages r-base depends on:
>   ii  atlas2-athlon [blas2]     3.2.1-12       Automatically Tuned Linear Algebra
>   ii  atlas2-base [blas2]       3.2.1l-2       Automatically Tuned Linear Algebra
>   ii  blas1 [blas2]             1.0-9          A set of building blocks for perfo
>   ii  libc6                     2.2.4-7        GNU C Library: Shared libraries an
>   ii  libjpeg62                 6b-4           The Independent JPEG Group's JPEG
>   ii  libncurses5               5.2.20010318-3 Shared libraries for terminal hand
>   ii  libpng2                   1.0.12-2       PNG library - runtime
>   ii  libreadline4              4.2a-2         GNU readline and history libraries
>   ii  perl                      5.6.1-6        Larry Wall's Practical Extraction
>   ii  tcl8.3                    8.3.3-4        The Tool Command Language (TCL) v8
>   ii  tk8.3                     8.3.3-6        The Tk toolkit for TCL and X11 v8.
>   ii  xlibs                     4.1.0-10       X Window System client libraries
>   ii  zlib-bin                  1:1.1.3-18     compression library - sample progr
>   ii  zlib1g                    1:1.1.3-18     compression library - runtime
>
> --please do not edit the information below--
>
> Version:
>  platform = i386-pc-linux-gnu
>  arch = i386
>  os = linux-gnu
>  system = i386, linux-gnu
>  status =
>  major = 1
>  minor = 3.1
>  year = 2001
>  month = 08
>  day = 31
>  language = R
>
> Search Path:
>  .GlobalEnv, package:ctest, Autoloads, package:base
>
>
> --
> Good judgment comes from experience; experience comes from bad judgment.
> 							    -- F. Brooks
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Sun Dec  9 17:14:06 2001
From: edd@debian.org (edd@debian.org)
Date: Sun, 9 Dec 2001 18:14:06 +0100 (MET)
Subject: [Rd] Bug#123084: r-base: R documentatio search engine unusable (PR#1204)
Message-ID: <200112091714.SAA17856@pubhealth.ku.dk>


  "Brian" == Brian Ripley <Prof> writes:
  Brian>  On Sun, 9 Dec 2001 edd@debian.org wrote:
  Dirk> As there is nothing Debian-specific in this bug report (and the .deb
  Dirk> of the JVW is not from Debian either), I am forwarding this to
  Dirk> R-bugs. My recollection from recent discussions on the R mailing list
  Dirk> is that currently /no/ browser other than Netscape supports the Java
  Dirk> search engine -- is that correct or was there some Netscape
  Dirk> derivative (galeon?) which does?  Maybe the documentation should be
  Dirk> enhanced in time for 1.4.0 to clarify this.
  Brian>  It's very far from correct!  The search engine works with Netscape
  Brian> 6.2 on Linux (and Windows), and with Internet Explorer and Opera 5
  Brian> on Windows.  (We were told it works with Internet Explorer on Linux

IE on Linux? Really?

  Brian> too.) Opera uses Sun's 1.3.1, as I recall, so I don't think this is
  Brian> a Java-1.1 vs 1.3 issue.  (I've just checked: Netscape 6.2 uses JRE
  Brian> 1.3.1.)
  Brian> 
  Brian> What BTW is `Mozilla 6'?  The current Mozilla is 0.9.6, so `6' seems
  Brian> a decade or so away.
  Brian> 
  Brian> Which documentation do you suggest is altered and how?  Given that

I was looking at "help(help.start)" on 1.3.1 first, what the Dec 5 snapshot
of 1.4.0 has is indeed better:

     The `browser' needs to work with a `"-remote openURL(...)"' call.
     Then, the hypertext R help interface is opened in any already
     running browser or a new one if necessary.  Browsers that support
     this interface include Netscape 4.x, 6.2 (but not 6.0/1), Opera 5
     and Mozilla 0.9.5.

So shall we can close this?

Dirk

-- 
Good judgment comes from experience; experience comes from bad judgment. 
							    -- F. Brooks

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Dec  9 17:59:14 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 9 Dec 2001 18:59:14 +0100 (MET)
Subject: [Rd] Bug#123084: r-base: R documentatio search engine unusable (PR#1205)
Message-ID: <200112091759.SAA17999@pubhealth.ku.dk>

On Sun, 9 Dec 2001, Dirk Eddelbuettel wrote:

>
>   "Brian" == Brian Ripley <Prof> writes:
>   Brian>  On Sun, 9 Dec 2001 edd@debian.org wrote:
>   Dirk> As there is nothing Debian-specific in this bug report (and the .deb
>   Dirk> of the JVW is not from Debian either), I am forwarding this to
>   Dirk> R-bugs. My recollection from recent discussions on the R mailing list
>   Dirk> is that currently /no/ browser other than Netscape supports the Java
>   Dirk> search engine -- is that correct or was there some Netscape
>   Dirk> derivative (galeon?) which does?  Maybe the documentation should be
>   Dirk> enhanced in time for 1.4.0 to clarify this.
>   Brian>  It's very far from correct!  The search engine works with Netscape
>   Brian> 6.2 on Linux (and Windows), and with Internet Explorer and Opera 5
>   Brian> on Windows.  (We were told it works with Internet Explorer on Linux
>
> IE on Linux? Really?

So he said ....

>
>   Brian> too.) Opera uses Sun's 1.3.1, as I recall, so I don't think this is
>   Brian> a Java-1.1 vs 1.3 issue.  (I've just checked: Netscape 6.2 uses JRE
>   Brian> 1.3.1.)
>   Brian>
>   Brian> What BTW is `Mozilla 6'?  The current Mozilla is 0.9.6, so `6' seems
>   Brian> a decade or so away.
>   Brian>
>   Brian> Which documentation do you suggest is altered and how?  Given that
>
> I was looking at "help(help.start)" on 1.3.1 first, what the Dec 5 snapshot
> of 1.4.0 has is indeed better:
>
>      The `browser' needs to work with a `"-remote openURL(...)"' call.
>      Then, the hypertext R help interface is opened in any already
>      running browser or a new one if necessary.  Browsers that support
>      this interface include Netscape 4.x, 6.2 (but not 6.0/1), Opera 5
>      and Mozilla 0.9.5.
>
> So shall we can close this?

Yes, will do.

> Dirk
>
> --
> Good judgment comes from experience; experience comes from bad judgment.
> 							    -- F. Brooks
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Sun Dec  9 19:49:03 2001
From: edd@debian.org (edd@debian.org)
Date: Sun, 9 Dec 2001 20:49:03 +0100 (MET)
Subject: [Rd] Bug#123084: r-base: R documentatio search engine unusable (PR#1206)
Message-ID: <200112091949.UAA18437@pubhealth.ku.dk>


  "Brian" == Brian Ripley <Prof> writes:
  Dirk> So shall we can close this?
  Brian>  Yes, will do.

Doing the same for Debian then.

Thanks, Dirk

-- 
Good judgment comes from experience; experience comes from bad judgment. 
							    -- F. Brooks

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rnassar@duke.edu  Mon Dec 10 02:47:20 2001
From: rnassar@duke.edu (rnassar@duke.edu)
Date: Mon, 10 Dec 2001 03:47:20 +0100 (MET)
Subject: [Rd] boxplot labels incorrect when horizontal = TRUE (PR#1207)
Message-ID: <200112100247.DAA19758@pubhealth.ku.dk>

#Example:

y <- rnorm(10)
group <- gl(2,5)

plot(y ~ group, horizontal = TRUE)  # BUG: default xlab & ylab interchanged
plot(y ~ group, horizontal = FALSE) # OK: supplies correct default xlab & ylab


# Using boxplot() instead of plot() omits default axis labels altogether
# (not sure if this is intentional):

boxplot(y ~ group, horizontal = FALSE) # no default axis labels supplied
boxplot(y ~ group, horizontal = TRUE)  # no default axis labels supplied

Thank you!

Rashid Nassar


--please do not edit the information below--

Version:
 platform = i586-pc-linux-gnu
 arch = i586
 os = linux-gnu
 system = i586, linux-gnu
 status = 
 major = 1
 minor = 3.1
 year = 2001
 month = 08
 day = 31
 language = R

Search Path:
 .GlobalEnv, Shoes, package:nls, package:nlme, package:ctest, Autoloads, 
package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Dec 10 07:41:35 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 10 Dec 2001 08:41:35 +0100 (MET)
Subject: [Rd] boxplot labels incorrect when horizontal = TRUE (PR#1207)
Message-ID: <200112100741.IAA20825@pubhealth.ku.dk>

On Mon, 10 Dec 2001 rnassar@duke.edu wrote:

> #Example:
>
> y <- rnorm(10)
> group <- gl(2,5)
>
> plot(y ~ group, horizontal = TRUE)  # BUG: default xlab & ylab interchanged
> plot(y ~ group, horizontal = FALSE) # OK: supplies correct default xlab & ylab

Um.  That's plot.formula, not boxplot.  horizontal = TRUE is *not* a
documented argument to plot.formula.  If you pass arguments to boxplot
through ... (rather than just par values), you may well get unexpected
results.

To fix this needs plot.formula to recognize horizontal, and that's
an API change which I don't advocate during feature freeze.
Generally, not doing something which is not documented to happen is not a
bug, so I'll put this on the wishlist.

> # Using boxplot() instead of plot() omits default axis labels altogether
> # (not sure if this is intentional):
>
> boxplot(y ~ group, horizontal = FALSE) # no default axis labels supplied
> boxplot(y ~ group, horizontal = TRUE)  # no default axis labels supplied

Yes, it's intentional.  You can always use title().


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Torsten.Hothorn@rzmail.uni-erlangen.de  Mon Dec 10 09:12:39 2001
From: Torsten.Hothorn@rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Mon, 10 Dec 2001 10:12:39 +0100 (MET)
Subject: [Rd] Error on start
Message-ID: <Pine.LNX.4.21.0112101011340.903-100000@artemis.imbe.med.uni-erlangen.de>


r-devel from this morning says

hothorn@www:~ > R

R : Copyright 2001, The R Development Core Team
Version 1.4.0 Under development (unstable) (2001-12-09)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type icense()' or icence()' for distribution details.

R is a collaborative project with many contributors.
Type ontributors()' for more information.

Type emo()' for some demos, elp()' for on-line help, or
elp.start()' for a HTML browser interface to help.
Type ()' to quit R.

Error: syntax error: evaluating expression 0
>

however, make check passed without any warning / error. 

Torsten


--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = Under development (unstable)
 major = 1
 minor = 4.0
 year = 2001
 month = 12
 day = 09
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Dec 10 09:33:31 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 10 Dec 2001 10:33:31 +0100
Subject: [Rd] Error on start
In-Reply-To: <Pine.LNX.4.21.0112101011340.903-100000@artemis.imbe.med.uni-erlangen.de>
References: <Pine.LNX.4.21.0112101011340.903-100000@artemis.imbe.med.uni-erlangen.de>
Message-ID: <x21yi3zafo.fsf@blueberry.kubism.ku.dk>

Torsten Hothorn <Torsten.Hothorn@rzmail.uni-erlangen.de> writes:

> r-devel from this morning says
> 
> hothorn@www:~ > R
> 
> R : Copyright 2001, The R Development Core Team
> Version 1.4.0 Under development (unstable) (2001-12-09)
> 
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type icense()' or icence()' for distribution details.
> 
> R is a collaborative project with many contributors.
> Type ontributors()' for more information.
> 
> Type emo()' for some demos, elp()' for on-line help, or
> elp.start()' for a HTML browser interface to help.
> Type ()' to quit R.
> 
> Error: syntax error: evaluating expression 0
> >
> 
> however, make check passed without any warning / error. 

Not for me as of last night and only gnuwin32 changes seems to have
gone in in the meantime. Some of the recent changes required a rerun
of configure and make clean, though.


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Dec 10 09:41:18 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 10 Dec 2001 09:41:18 +0000 (GMT)
Subject: [Rd] Error on start
In-Reply-To: <x21yi3zafo.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.31.0112100938380.9366-100000@gannet.stats>

On 10 Dec 2001, Peter Dalgaard BSA wrote:

> Torsten Hothorn <Torsten.Hothorn@rzmail.uni-erlangen.de> writes:
>
> > r-devel from this morning says
> >
> > hothorn@www:~ > R
> >
> > R : Copyright 2001, The R Development Core Team
> > Version 1.4.0 Under development (unstable) (2001-12-09)
> >
> > R is free software and comes with ABSOLUTELY NO WARRANTY.
> > You are welcome to redistribute it under certain conditions.
> > Type icense()' or icence()' for distribution details.
> >
> > R is a collaborative project with many contributors.
> > Type ontributors()' for more information.
> >
> > Type emo()' for some demos, elp()' for on-line help, or
> > elp.start()' for a HTML browser interface to help.
> > Type ()' to quit R.
> >
> > Error: syntax error: evaluating expression 0
> > >
> >
> > however, make check passed without any warning / error.
>
> Not for me as of last night and only gnuwin32 changes seems to have
> gone in in the meantime. Some of the recent changes required a rerun
> of configure and make clean, though.

Nor me (after those changes).  *But*

Type ^Demo()' for some demos, ^Help()' for on-line help, or
^Help.start()' for a HTML browser interface to help.
Type ^Q()' to quit R.

is wrong: there should be no ^ there, and lower case, so I think your
machine is set in a strange character encoding, which would certainly
explain the problem reading the base R file.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Dec 10 09:40:16 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 10 Dec 2001 10:40:16 +0100
Subject: [Rd] Error on start
In-Reply-To: <Pine.LNX.4.31.0112100938380.9366-100000@gannet.stats>
References: <Pine.LNX.4.31.0112100938380.9366-100000@gannet.stats>
Message-ID: <x2wuzvxvjz.fsf@blueberry.kubism.ku.dk>

Prof Brian Ripley <ripley@stats.ox.ac.uk> writes:


> Nor me (after those changes).  *But*
> 
> Type ^Demo()' for some demos, ^Help()' for on-line help, or
> ^Help.start()' for a HTML browser interface to help.
> Type ^Q()' to quit R.
> 
> is wrong: there should be no ^ there, and lower case, so I think your
> machine is set in a strange character encoding, which would certainly
> explain the problem reading the base R file.

(I'd suspect that to be a cut+paste effect turning `q into ctrl-Q etc.
in Torsten's editor...)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kleiweg@let.rug.nl  Mon Dec 10 11:29:03 2001
From: kleiweg@let.rug.nl (Peter Kleiweg)
Date: Mon, 10 Dec 2001 12:29:03 +0100 (CET)
Subject: [Rd] Make check: parameter list too long
Message-ID: <Pine.LNX.4.33.0112101223230.339-100000@kleigh.nl>


This might have been reported before, and it doesn't really
seem to be a problem of R, but still...

I installed R-devel_2001-12-07.tar.gz on HP-UX. When running
`make check' I got this error:

    collecting examples for package `base' ...
     >>> Building/Updating help pages for package `base'
	 Formats: text example
    sh[14]: /usr/local/bin/perl: The parameter list is too long.
    running code in `base-Ex.R' ... OK

Can anyone tell me how the run all the tests in `base' on this
machine? The rest of the tests run OK.

-- 
Peter Kleiweg
http://www.let.rug.nl/~kleiweg/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Mon Dec 10 15:42:59 2001
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Mon, 10 Dec 2001 10:42:59 -0500
Subject: [Rd] Windows testing
In-Reply-To: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>
References: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>
Message-ID: <3ll91u0mjooh9j727qfm45mqpb505e8rei@4ax.com>

On Wed, 5 Dec 2001 15:02:47 +0000 (GMT), you wrote in message
<Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>:

>I don't have much access to a suitable (internet-connected) Windows
>machine these days, but Duncan may be able to put up later builds as
>testing proceeds.

I just put today's build online at
<http://www.stats.uwo.ca/faculty/murdoch/software/r-devel>.  I didn't
put the miniR files online; I did put the rw-faq file there with its
descriptions of what's in each file.

Duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Dec 10 16:14:57 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 10 Dec 2001 17:14:57 +0100
Subject: [Rd] Windows testing
In-Reply-To: <3ll91u0mjooh9j727qfm45mqpb505e8rei@4ax.com>
References: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>
 <3ll91u0mjooh9j727qfm45mqpb505e8rei@4ax.com>
Message-ID: <x2n10ryrum.fsf@blueberry.kubism.ku.dk>

Duncan Murdoch <murdoch@stats.uwo.ca> writes:

> On Wed, 5 Dec 2001 15:02:47 +0000 (GMT), you wrote in message
> <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>:
> 
> >I don't have much access to a suitable (internet-connected) Windows
> >machine these days, but Duncan may be able to put up later builds as
> >testing proceeds.
> 
> I just put today's build online at
> <http://www.stats.uwo.ca/faculty/murdoch/software/r-devel>.  I didn't
> put the miniR files online; I did put the rw-faq file there with its
> descriptions of what's in each file.

Thanks. Looking good, and tcltk appears to work too.

I see a minor glitch in the Rgui preferences editor: If you mess with
the MDI/SDI setting and abandon it when told that you have to restart,
and then try to set the font (w/ Apply), the configuration editor gets
overwritten with the content of the console window.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Mon Dec 10 16:56:10 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Mon, 10 Dec 2001 17:56:10 +0100
Subject: [Rd] Windows testing
References: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>
 <3ll91u0mjooh9j727qfm45mqpb505e8rei@4ax.com> <x2n10ryrum.fsf@blueberry.kubism.ku.dk>
Message-ID: <3C14E92A.DEAA83FD@univie.ac.at>

thomas baier's dcom server is working again!

--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From brahm@alum.mit.edu  Mon Dec 10 17:15:35 2001
From: brahm@alum.mit.edu (brahm@alum.mit.edu)
Date: Mon, 10 Dec 2001 18:15:35 +0100 (MET)
Subject: [Rd] Documentation of .Last.lib in library() (PR#1209)
Message-ID: <200112101715.SAA01156@pubhealth.ku.dk>

help(library) says: "`.Last.lib' is called when a package is loaded."  Probably
should be "...is detached."
                              -- David Brahm (brahm@alum.mit.edu)


--please do not edit the information below--

Version:
 platform = sparc-sun-solaris2.6
 arch = sparc
 os = solaris2.6
 system = sparc, solaris2.6
 status = 
 major = 1
 minor = 3.1
 year = 2001
 month = 08
 day = 31
 language = R

Search Path:
 .GlobalEnv, package:misc, package:io, package:arrays, package:ls1, package:g.data, package:db, package:ts, package:ctest, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From brahm@alum.mit.edu  Mon Dec 10 18:37:41 2001
From: brahm@alum.mit.edu (brahm@alum.mit.edu)
Date: Mon, 10 Dec 2001 19:37:41 +0100 (MET)
Subject: [Rd] Re: bug.report() sends empty message (PR#1158)
Message-ID: <200112101837.TAA01768@pubhealth.ku.dk>

   On Oct 22, I sent an empty bug report (#1138) because bug.report() "ate my
message".  Paul Gilbert opened a new bug report (#1158) for this problem.

   I'm now convinced it's because I had an apostrophe in the subject line
("round() doesn't").  The bug.report documentation specifically warns against
this, but the bug.report() function could also check for it!  I suggest adding
this line to the bug.report code:

  if (regexpr("'", subject) > 0) stop("Please, no apostrophe in the subject.")

                              -- David Brahm (brahm@alum.mit.edu)

R> getOption("mailer")
   [1] "mailx"
Version:
 platform = sparc-sun-solaris2.6
 arch = sparc
 os = solaris2.6
 system = sparc, solaris2.6
 status = 
 major = 1
 minor = 3.1
 year = 2001
 month = 08
 day = 31
 language = R

Search Path:
 .GlobalEnv, package:misc, package:io, package:arrays, package:ls1, package:g.data, package:db, package:ts, package:ctest, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Mon Dec 10 19:09:35 2001
From: pgilbert@bank-banque-canada.ca (pgilbert@bank-banque-canada.ca)
Date: Mon, 10 Dec 2001 20:09:35 +0100 (MET)
Subject: [Rd] Re: bug.report() sends empty message (PR#1158)
Message-ID: <200112101909.UAA01979@pubhealth.ku.dk>

brahm@alum.mit.edu wrote:
>   On Oct 22, I sent an empty bug report (#1138) because bug.report()
>"ate my
>message".  Paul Gilbert opened a new bug report (#1158) for this
>problem.

>   I'm now convinced it's because I had an apostrophe in the subject
>line

Your problem may have been due to the apostrophe, but it reminded me of another
outstanding problem which I had neglected to report previously: wait=TRUE as in
the windows version seems to be necessary with some Unix editors too (e.g.
Nedit).

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From vograno@arbitrade.com  Tue Dec 11 02:34:48 2001
From: vograno@arbitrade.com (vograno@arbitrade.com)
Date: Tue, 11 Dec 2001 03:34:48 +0100 (MET)
Subject: [Rd] multi.line=FALSE does not work in scan() (PR#1210)
Message-ID: <200112110234.DAA03819@pubhealth.ku.dk>

The following applies to scan function called with multi.line=FALSE and
what=list(...).

If 'what' has more members than the number of columns in the file scan()
keeps reading from the next line of the file despite multi.line=FALSE. Here
is a transcript of the session:

# attempts to read four field whereas the file, foo, has only three per row
# This is the "foo" file
1 2.1 3.2
1 4.1 5.2
1 6.1 7.2

> x <- scan("foo", list(integer(0), double(0), double(0), integer(0)),
multi.line=FALSE)
Error in scan("foo", list(integer(0), double(0), double(0), integer(0)),  : 
	"scan" expected an integer, got "4.1"

# That an error will arise is expected, but not of this kind
# As a side note, it would be more informative if scan() printed the serial
number of the offending line (this is what S-Plus does).

> unlist(R.Version())
           platform                arch                  os
system 
"i686-pc-linux-gnu"              "i686"         "linux-gnu"   "i686,
linux-gnu" 
             status               major               minor
year 
                 ""                 "1"               "3.1"
"2001" 
              month                 day            language 
               "08"                "31"                 "R" 


Thank you for developing R,

Regards, Vadim

-------------------------------------------------- 
DISCLAIMER 
This e-mail, and any attachments thereto, is intended only for use by the
addressee(s) named herein and may contain legally privileged and/or
confidential information.  If you are not the intended recipient of this
e-mail, you are hereby notified that any dissemination, distribution or
copying of this e-mail, and any attachments thereto, is strictly prohibited.
If you have received this e-mail in error, please immediately notify me and
permanently delete the original and any copy of any e-mail and any printout
thereof. 

E-mail transmission cannot be guaranteed to be secure or error-free.  The
sender therefore does not accept liability for any errors or omissions in
the contents of this message which arise as a result of e-mail transmission.

NOTICE REGARDING PRIVACY AND CONFIDENTIALITY 

Knight Trading Group may, at its discretion, monitor and review the content
of all e-mail communications. 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Tue Dec 11 10:27:50 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt.Hornik@ci.tuwien.ac.at)
Date: Tue, 11 Dec 2001 11:27:50 +0100 (MET)
Subject: [Rd] Documentation of .Last.lib in library() (PR#1209)
Message-ID: <200112111027.LAA07225@pubhealth.ku.dk>

>>>>> brahm  writes:

> help(library) says: "`.Last.lib' is called when a package is loaded."
> Probably should be "...is detached."  -- David Brahm
> (brahm@alum.mit.edu)

Already fixed in 1.4.0.

-k

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Tue Dec 11 11:15:39 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Tue, 11 Dec 2001 12:15:39 +0100
Subject: [Rd] windows testing
Message-ID: <3C15EADB.EC77A561@univie.ac.at>

i tried to build a complete install package on
win98, also compiling the recommended packages from the source

the one things that does not work at the moment is that
foreign_0.4-7
which is in the recommended packages
does not compile

this is what i get


make: Entering directory `/cygdrive/c/DEVEL/R-DEVEL/src/gnuwin32'
make DLLNM=  FLIBS="-lg2c" \
  -C C:/devel/R-devel/bin/R.INSTALL/foreign PKG=foreign
RHOME=c:/DEVEL/R-DEVEL R
LIB=C:/DEVEL/R-DEVEL/library \
  -f c:/DEVEL/R-DEVEL/src/gnuwin32/MakePkg
make[1]: Entering directory
`/cygdrive/c/devel/R-devel/bin/R.INSTALL/foreign'
mkdir -p C:/DEVEL/R-DEVEL/library/foreign
cp -r   ./INDEX  ./TITLE ./BUGS ./ChangeLog
C:/DEVEL/R-DEVEL/library/foreign/
make[2]: Entering directory
`/cygdrive/c/devel/R-devel/bin/R.INSTALL/foreign/src
'
gcc   -Ic:/DEVEL/R-DEVEL/src/include -Wall -O2   -c SASxport.c -o
SASxport.o
In file included from SASxport.c:31:
SASxport.h:15: swap_bytes.h: No such file or directory
make[2]: *** [SASxport.o] Error 1
make[2]: Leaving directory
`/cygdrive/c/devel/R-devel/bin/R.INSTALL/foreign/src'

make[1]: *** [src/foreign.dll] Error 2



--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Dec 11 11:21:04 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 11 Dec 2001 12:21:04 +0100
Subject: [Rd] windows testing
In-Reply-To: <3C15EADB.EC77A561@univie.ac.at>
References: <3C15EADB.EC77A561@univie.ac.at>
Message-ID: <x2snai2ean.fsf@blueberry.kubism.ku.dk>

Erich Neuwirth <erich.neuwirth@univie.ac.at> writes:

> i tried to build a complete install package on
> win98, also compiling the recommended packages from the source
> 
> the one things that does not work at the moment is that
> foreign_0.4-7
> which is in the recommended packages
> does not compile
> 
> this is what i get
>

Odd. This seems to have worked for Duncan M. However, please notice
that there's a newer version:
 
http://cran.r-project.org/src/contrib/1.4.0/Recommended/foreign_0.4-8.tar.gz

(and in general, the recommended packages sit in that directory until
release)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Dec 11 11:59:42 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 11 Dec 2001 11:59:42 +0000 (GMT)
Subject: [Rd] windows testing
In-Reply-To: <3C15EADB.EC77A561@univie.ac.at>
Message-ID: <Pine.LNX.4.31.0112111157010.23043-100000@gannet.stats>

On Tue, 11 Dec 2001, Erich Neuwirth wrote:

> i tried to build a complete install package on
> win98, also compiling the recommended packages from the source
>
> the one things that does not work at the moment is that
> foreign_0.4-7
> which is in the recommended packages
> does not compile

It's not the latest version, and you need to manually configure it:
see the advice in `Writing R Extensions' (not followed by the authors of
that package ...).

Move swap_bytes.h.in to swap_bytes.h and var.h.in to var.h.

There's a few more tricks you need to bear in mind, for example
which packages work with --use-zip.

>
> this is what i get
>
>
> make: Entering directory `/cygdrive/c/DEVEL/R-DEVEL/src/gnuwin32'
> make DLLNM=  FLIBS="-lg2c" \
>   -C C:/devel/R-devel/bin/R.INSTALL/foreign PKG=foreign
> RHOME=c:/DEVEL/R-DEVEL R
> LIB=C:/DEVEL/R-DEVEL/library \
>   -f c:/DEVEL/R-DEVEL/src/gnuwin32/MakePkg
> make[1]: Entering directory
> `/cygdrive/c/devel/R-devel/bin/R.INSTALL/foreign'
> mkdir -p C:/DEVEL/R-DEVEL/library/foreign
> cp -r   ./INDEX  ./TITLE ./BUGS ./ChangeLog
> C:/DEVEL/R-DEVEL/library/foreign/
> make[2]: Entering directory
> `/cygdrive/c/devel/R-devel/bin/R.INSTALL/foreign/src
> '
> gcc   -Ic:/DEVEL/R-DEVEL/src/include -Wall -O2   -c SASxport.c -o
> SASxport.o
> In file included from SASxport.c:31:
> SASxport.h:15: swap_bytes.h: No such file or directory
> make[2]: *** [SASxport.o] Error 1
> make[2]: Leaving directory
> `/cygdrive/c/devel/R-devel/bin/R.INSTALL/foreign/src'
>
> make[1]: *** [src/foreign.dll] Error 2
>
>
>
> --
> Erich Neuwirth, Computer Supported Didactics Working Group
> Visit our SunSITE at http://sunsite.univie.ac.at
> Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Tue Dec 11 12:57:15 2001
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Tue, 11 Dec 2001 07:57:15 -0500
Subject: [Rd] windows testing
In-Reply-To: <x2snai2ean.fsf@blueberry.kubism.ku.dk>
References: <3C15EADB.EC77A561@univie.ac.at> <x2snai2ean.fsf@blueberry.kubism.ku.dk>
Message-ID: <ti0c1ukmcu6vtkrkle2rrstm0nb15364k9@4ax.com>

On 11 Dec 2001 12:21:04 +0100, you wrote:

>Erich Neuwirth <erich.neuwirth@univie.ac.at> writes:
>
>> i tried to build a complete install package on
>> win98, also compiling the recommended packages from the source
>> 
>> the one things that does not work at the moment is that
>> foreign_0.4-7

>Odd. This seems to have worked for Duncan M.

No, I'm downloading the binaries of the packages, I just compile R
itself.  I haven't tried to build foreign.

Duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Dec 11 15:28:45 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 11 Dec 2001 16:28:45 +0100 (MET)
Subject: [Rd] Re: (PR#1210) an error message from scan() surprised vograno@arbitrade.com.
Message-ID: <200112111528.QAA13336@pubhealth.ku.dk>

Original incorrect subject line was

Subject: [Rd] multi.line=FALSE does not work in scan() (PR#1210)

It *does* work quite correctly: this was an erroneous file nd
you got an error, just one you didn't understand.

Please don't use grossly misleading subject lines: they are all that
appear in the BUGS file.


On Tue, 11 Dec 2001 vograno@arbitrade.com wrote:

> The following applies to scan function called with multi.line=FALSE and
> what=list(...).
>
> If 'what' has more members than the number of columns in the file scan()
> keeps reading from the next line of the file despite multi.line=FALSE. Here
> is a transcript of the session:
>
> # attempts to read four field whereas the file, foo, has only three per row
> # This is the "foo" file
> 1 2.1 3.2
> 1 4.1 5.2
> 1 6.1 7.2
>
> > x <- scan("foo", list(integer(0), double(0), double(0), integer(0)),
> multi.line=FALSE)
> Error in scan("foo", list(integer(0), double(0), double(0), integer(0)),  :
> 	"scan" expected an integer, got "4.1"
>
> # That an error will arise is expected, but not of this kind

(Why not?  It tries to read the next item, and finds it can't and reports
so.  Only later does it check it stayed on the same line.)

> # As a side note, it would be more informative if scan() printed the serial
> number of the offending line (this is what S-Plus does).

In fact had scan got to the multiline check, it would have told you:

x <- scan("foo", list(double(0),double(0),double(0),double(0)),
multi.line=FALSE)

Error in scan("foo", list(double(0), double(0), double(0), double(0)),  :
        line 1 did not have 4 elements

> > unlist(R.Version())
[...]

(which took far more space than the standard printout).

Now, the diagnostics could be improved, but it is not a bug to give an
error on erroneous input.

Not something to be tampered with during feature freeze.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From malewski.peter@mh-hannover.de  Tue Dec 11 16:17:23 2001
From: malewski.peter@mh-hannover.de (Peter Malewski)
Date: Tue, 11 Dec 2001 17:17:23 +0100
Subject: [Rd] windows testing
In-Reply-To: <Pine.LNX.4.31.0112111157010.23043-100000@gannet.stats>; from ripley@stats.ox.ac.uk on Tue, Dec 11, 2001 at 11:59:42AM +0000
References: <3C15EADB.EC77A561@univie.ac.at> <Pine.LNX.4.31.0112111157010.23043-100000@gannet.stats>
Message-ID: <20011211171722.A22734@rzsrv2.rz.tu-bs.de>


Rterm does not accept C-c to stop excecution with gnu-emacs
and under DOS. This work with Rterm Version 1.3.1. E.g.:

for(i in 1:10000){print(i);rnorm(100)}

Control-c does not work (windows 95).

platform i386-pc-mingw32
arch     x86
os       Win32
system   x86, Win32
status   Under development (unstable)
major    1
minor    4.0
year     2001
month    12
day      05
language R


PM





On Tue, Dec 11, 2001 at 11:59:42AM +0000, Prof Brian D Prof Brian D Ripley wrote:
> On Tue, 11 Dec 2001, Erich Neuwirth wrote:
> 
> > i tried to build a complete install package on
> > win98, also compiling the recommended packages from the source
> >
> > the one things that does not work at the moment is that
> > foreign_0.4-7
> > which is in the recommended packages
> > does not compile
> 
> It's not the latest version, and you need to manually configure it:
> see the advice in `Writing R Extensions' (not followed by the authors of
> that package ...).
> 
> Move swap_bytes.h.in to swap_bytes.h and var.h.in to var.h.
> 
> There's a few more tricks you need to bear in mind, for example
> which packages work with --use-zip.
> 
> >
> > this is what i get
> >
> >
> > make: Entering directory `/cygdrive/c/DEVEL/R-DEVEL/src/gnuwin32'
> > make DLLNM=  FLIBS="-lg2c" \
> >   -C C:/devel/R-devel/bin/R.INSTALL/foreign PKG=foreign
> > RHOME=c:/DEVEL/R-DEVEL R
> > LIB=C:/DEVEL/R-DEVEL/library \
> >   -f c:/DEVEL/R-DEVEL/src/gnuwin32/MakePkg
> > make[1]: Entering directory
> > `/cygdrive/c/devel/R-devel/bin/R.INSTALL/foreign'
> > mkdir -p C:/DEVEL/R-DEVEL/library/foreign
> > cp -r   ./INDEX  ./TITLE ./BUGS ./ChangeLog
> > C:/DEVEL/R-DEVEL/library/foreign/
> > make[2]: Entering directory
> > `/cygdrive/c/devel/R-devel/bin/R.INSTALL/foreign/src
> > '
> > gcc   -Ic:/DEVEL/R-DEVEL/src/include -Wall -O2   -c SASxport.c -o
> > SASxport.o
> > In file included from SASxport.c:31:
> > SASxport.h:15: swap_bytes.h: No such file or directory
> > make[2]: *** [SASxport.o] Error 1
> > make[2]: Leaving directory
> > `/cygdrive/c/devel/R-devel/bin/R.INSTALL/foreign/src'
> >
> > make[1]: *** [src/foreign.dll] Error 2
> >
> >
> >
> > --
> > Erich Neuwirth, Computer Supported Didactics Working Group
> > Visit our SunSITE at http://sunsite.univie.ac.at
> > Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
P.Malewski, Limmerstr.47, 30451 Hannover, 0511-2135008
At work: http://www.MH-Hannover.de 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski@tu-bs.de, peter.malewski@gmx.de, malewski.peter@mh-hannover.de.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Dec 11 18:09:35 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 11 Dec 2001 19:09:35 +0100
Subject: [Rd] windows testing
In-Reply-To: <20011211171722.A22734@rzsrv2.rz.tu-bs.de>
References: <3C15EADB.EC77A561@univie.ac.at>
 <Pine.LNX.4.31.0112111157010.23043-100000@gannet.stats>
 <20011211171722.A22734@rzsrv2.rz.tu-bs.de>
Message-ID: <x2n10p1vds.fsf@blueberry.kubism.ku.dk>

Peter Malewski <malewski.peter@mh-hannover.de> writes:

> Rterm does not accept C-c to stop excecution with gnu-emacs
> and under DOS. This work with Rterm Version 1.3.1. E.g.:
> 
> for(i in 1:10000){print(i);rnorm(100)}
> 
> Control-c does not work (windows 95).

Odd. This happens to me with Duncan's build, but not with my own
cross-built versions. Both one from before his and a recent one.

??

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Tue Dec 11 18:29:36 2001
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Tue, 11 Dec 2001 13:29:36 -0500
Subject: [Rd] windows testing
In-Reply-To: <20011211171722.A22734@rzsrv2.rz.tu-bs.de>
References: <3C15EADB.EC77A561@univie.ac.at> <Pine.LNX.4.31.0112111157010.23043-100000@gannet.stats> <20011211171722.A22734@rzsrv2.rz.tu-bs.de>
Message-ID: <12jc1ugh4gg89cqecff1s5gd8f5v0nupqo@4ax.com>

1. Tried running "test-all-extras" today.  It failed comparison on the
last of the regression tests, "reg-plot".  As far as I could tell, the
output looked okay.  The differences were in reported values of the
relative range of values, as in 

>> for(j.fac in 1e-12* c(10, 1, .7, .3, .2, .1, .05, .03, .01)) {
>+ ##           ====
>+     #set.seed(101) # or don't
>+     x <- pi + jitter(numeric(101), f = j.fac)
>+     rrtxt <- paste("rel.range =", formatC(relrange(x), dig = 4),"* EPS")
>+     cat("j.f = ", format(j.fac)," ;  ", rrtxt,"\n",sep="")
>+     plot(x, type = "l", main = rrtxt)
>+     cat("par(\"usr\")[3:4]:", formatC(par("usr")[3:4], wid = 10),"\n",
>+         "par(\"yaxp\") :   ", formatC(par("yaxp"), wid = 10),"\n\n", sep="")
>+ }
>j.f = 1e-11 ;  rel.range = 553.9 * EPS
>par("usr")[3:4]:     3.142     3.142
>par("yaxp") :        3.142     3.142         3
>
>j.f = 1e-12 ;  rel.range = 56.02 * EPS
>Warning: relative range of values = 85.307 * EPS, is small (axis 2).
>par("usr")[3:4]:     3.142     3.142
>par("yaxp") :        3.142     3.142      

and some warnings about character widths:

>Warning: font width unknown for character 144
>Warning: font metrics unknown for character 144
>Warning: font width unknown for character 144
>Warning: font width unknown for character 157
>Warning: font metrics unknown for character 157
>Warning: font width unknown for character 157

2.  In test-Internet, the file comparisons were different (in what
looked like trivial ways: the directory and list from CRAN was
different).  The test produced a file "internet.Rout2" that had no
corresponding .save file.

Duncan



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Dec 11 18:38:47 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 11 Dec 2001 18:38:47 +0000 (GMT Standard Time)
Subject: [Rd] windows testing
In-Reply-To: <12jc1ugh4gg89cqecff1s5gd8f5v0nupqo@4ax.com>
Message-ID: <Pine.WNT.4.31.0112111837310.1084-100000@gannet>

On Tue, 11 Dec 2001, Duncan Murdoch wrote:

> 1. Tried running "test-all-extras" today.  It failed comparison on the
> last of the regression tests, "reg-plot".  As far as I could tell, the
> output looked okay.  The differences were in reported values of the
> relative range of values, as in
>
> >> for(j.fac in 1e-12* c(10, 1, .7, .3, .2, .1, .05, .03, .01)) {
> >+ ##           ====
> >+     #set.seed(101) # or don't
> >+     x <- pi + jitter(numeric(101), f = j.fac)
> >+     rrtxt <- paste("rel.range =", formatC(relrange(x), dig = 4),"* EPS")
> >+     cat("j.f = ", format(j.fac)," ;  ", rrtxt,"\n",sep="")
> >+     plot(x, type = "l", main = rrtxt)
> >+     cat("par(\"usr\")[3:4]:", formatC(par("usr")[3:4], wid = 10),"\n",
> >+         "par(\"yaxp\") :   ", formatC(par("yaxp"), wid = 10),"\n\n", sep="")
> >+ }
> >j.f = 1e-11 ;  rel.range = 553.9 * EPS
> >par("usr")[3:4]:     3.142     3.142
> >par("yaxp") :        3.142     3.142         3
> >
> >j.f = 1e-12 ;  rel.range = 56.02 * EPS
> >Warning: relative range of values = 85.307 * EPS, is small (axis 2).
> >par("usr")[3:4]:     3.142     3.142
> >par("yaxp") :        3.142     3.142
>
> and some warnings about character widths:
>
> >Warning: font width unknown for character 144
> >Warning: font metrics unknown for character 144
> >Warning: font width unknown for character 144
> >Warning: font width unknown for character 157
> >Warning: font metrics unknown for character 157
> >Warning: font width unknown for character 157

Yes, all normal.

>
> 2.  In test-Internet, the file comparisons were different (in what
> looked like trivial ways: the directory and list from CRAN was
> different).  The test produced a file "internet.Rout2" that had no
> corresponding .save file.

The save output is out of date (as it commonly is). There is no
save file for internet.Rout2: that it runs is enough.

> Duncan
>
>
>
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Dec 11 18:41:30 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 11 Dec 2001 18:41:30 +0000 (GMT Standard Time)
Subject: [Rd] windows testing
In-Reply-To: <x2n10p1vds.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.WNT.4.31.0112111838520.1084-100000@gannet>

On 11 Dec 2001, Peter Dalgaard BSA wrote:

> Peter Malewski <malewski.peter@mh-hannover.de> writes:
>
> > Rterm does not accept C-c to stop excecution with gnu-emacs
> > and under DOS. This work with Rterm Version 1.3.1. E.g.:
> >
> > for(i in 1:10000){print(i);rnorm(100)}
> >
> > Control-c does not work (windows 95).
>
> Odd. This happens to me with Duncan's build, but not with my own
> cross-built versions. Both one from before his and a recent one.

Looks like a linker bug. Forcing an explicit import library (as used when
cross-building) solved it.  Funny: pedump claims to have all the right
imports, which is usually an accurate diagnosis of success.

I will have a new build up shortly.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Tue Dec 11 19:23:59 2001
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Tue, 11 Dec 2001 14:23:59 -0500
Subject: [Rd] windows testing
In-Reply-To: <x2n10p1vds.fsf@blueberry.kubism.ku.dk>
References: <3C15EADB.EC77A561@univie.ac.at> <Pine.LNX.4.31.0112111157010.23043-100000@gannet.stats> <20011211171722.A22734@rzsrv2.rz.tu-bs.de> <x2n10p1vds.fsf@blueberry.kubism.ku.dk>
Message-ID: <f8mc1ucttnos77f3dcka8q67qa62ea7uj7@4ax.com>

On 11 Dec 2001 19:09:35 +0100, you wrote in message
<x2n10p1vds.fsf@blueberry.kubism.ku.dk>:

>Peter Malewski <malewski.peter@mh-hannover.de> writes:
>
>> Rterm does not accept C-c to stop excecution with gnu-emacs
>> and under DOS. This work with Rterm Version 1.3.1. E.g.:
>> 
>> for(i in 1:10000){print(i);rnorm(100)}
>> 
>> Control-c does not work (windows 95).
>
>Odd. This happens to me with Duncan's build, but not with my own
>cross-built versions. Both one from before his and a recent one.

Looks as though I may be using some wrong version of a library.  I get
the same problem on today's build, and on one I built on Dec 5, but
not in Brian's version of today's build.

Since I've rsync'd all of the R files, it's probably one of the gcc
libs that is wrong.  What version should I be using?  How do I find
out what version I've got?

Duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Tue Dec 11 20:43:23 2001
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Tue, 11 Dec 2001 15:43:23 -0500
Subject: [Rd] windows testing
In-Reply-To: <Pine.WNT.4.31.0112111838520.1084-100000@gannet>
References: <x2n10p1vds.fsf@blueberry.kubism.ku.dk> <Pine.WNT.4.31.0112111838520.1084-100000@gannet>
Message-ID: <krrc1uon8777c3ccprb8ppleoiv4803232@4ax.com>

On Tue, 11 Dec 2001 18:41:30 +0000 (GMT Standard Time), you wrote in
message <Pine.WNT.4.31.0112111838520.1084-100000@gannet>:

>Looks like a linker bug. Forcing an explicit import library (as used when
>cross-building) solved it.  Funny: pedump claims to have all the right
>imports, which is usually an accurate diagnosis of success.
>
>I will have a new build up shortly.

With Brian's changes, the Ctrl-C problem has gone away.  I've got a
new build up on

 <http://www.stats.uwo.ca/faculty/murdoch/software/r-devel> 

which works for me.

Duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rmh@surfer.sbm.temple.edu  Tue Dec 11 22:32:17 2001
From: rmh@surfer.sbm.temple.edu (rmh@surfer.sbm.temple.edu)
Date: Tue, 11 Dec 2001 23:32:17 +0100 (MET)
Subject: [Rd] crash bug in get("function.name")() (PR#1211)
Message-ID: <200112112232.XAA15690@pubhealth.ku.dk>

R : Copyright 2001, The R Development Core Team
Version 1.3.1  (2001-08-31)

> tmp <- factor(1:3)
> get("print.factor")(tmp)
[1] 1 2 3
Levels:  1 2 3 
> print.a <- function(x,...) {
+   print("this is a")
+   NextMethod("print", x, quote = FALSE, right = TRUE, ...)
+ }
> 
> get("print.a")
function(x,...) {
  print("this is a")
  NextMethod("print", x, quote = FALSE, right = TRUE, ...)
}
> print.a(tmp)
[1] "this is a"
[1] 1 2 3
Levels:  1 2 3 
> get("print.a")(tmp)
[1] "this is a"

Process R exited abnormally with code 5 at Tue Dec 11 16:18:17 2001

----

I am using the windows version rw1031

I also tried on rw1030.   rw1030 gives a different code
Process R exited abnormally with code 255 at Tue Dec 11 17:31:06 2001

Rich

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ligges@statistik.uni-dortmund.de  Tue Dec 11 23:05:16 2001
From: ligges@statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 12 Dec 2001 00:05:16 +0100
Subject: [Rd] crash bug in get("function.name")() (PR#1211)
References: <200112112232.XAA15690@pubhealth.ku.dk>
Message-ID: <3C16912C.75907CDA@statistik.uni-dortmund.de>

rmh@surfer.sbm.temple.edu wrote:
> 
> R : Copyright 2001, The R Development Core Team
> Version 1.3.1  (2001-08-31)
> 
> > tmp <- factor(1:3)
> > get("print.factor")(tmp)
> [1] 1 2 3
> Levels:  1 2 3
> > print.a <- function(x,...) {
> +   print("this is a")
> +   NextMethod("print", x, quote = FALSE, right = TRUE, ...)
> + }
> >
> > get("print.a")
> function(x,...) {
>   print("this is a")
>   NextMethod("print", x, quote = FALSE, right = TRUE, ...)
> }
> > print.a(tmp)
> [1] "this is a"
> [1] 1 2 3
> Levels:  1 2 3
> > get("print.a")(tmp)
> [1] "this is a"
> 
> Process R exited abnormally with code 5 at Tue Dec 11 16:18:17 2001
> 
> ----
> 
> I am using the windows version rw1031
> 
> I also tried on rw1030.   rw1030 gives a different code
> Process R exited abnormally with code 255 at Tue Dec 11 17:31:06 2001


With an existing workspace the same happens with R-1.4.0 (unstable) on
WinNT4.

Also in R-1.4.0 (unstable) the last lines of your example, if started
without an existing workspace, results in:

>  print.a(tmp)
[1] "this is a"
[1] 1 2 3
Levels:  1 2 3 
>  get("print.a")(tmp)
[1] "this is a"
Error in get("print.a")(tmp) : function is not a closure
>  get("print.a")
Error: attempt to apply non-function
>  get 
#### Now a crash!


Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Dec 11 23:33:01 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 12 Dec 2001 00:33:01 +0100
Subject: [Rd] crash bug in get("function.name")() (PR#1211)
In-Reply-To: <3C16912C.75907CDA@statistik.uni-dortmund.de>
References: <200112112232.XAA15690@pubhealth.ku.dk>
 <3C16912C.75907CDA@statistik.uni-dortmund.de>
Message-ID: <x2adwps576.fsf@blueberry.kubism.ku.dk>

Uwe Ligges <ligges@statistik.uni-dortmund.de> writes:

> rmh@surfer.sbm.temple.edu wrote:
> > 
> > R : Copyright 2001, The R Development Core Team
> > Version 1.3.1  (2001-08-31)
> > 
> > > tmp <- factor(1:3)
> > > get("print.factor")(tmp)
> > [1] 1 2 3
> > Levels:  1 2 3
> > > print.a <- function(x,...) {
> > +   print("this is a")
> > +   NextMethod("print", x, quote = FALSE, right = TRUE, ...)
> > + }
> > >
> > > get("print.a")
> > function(x,...) {
> >   print("this is a")
> >   NextMethod("print", x, quote = FALSE, right = TRUE, ...)
> > }
> > > print.a(tmp)
> > [1] "this is a"
> > [1] 1 2 3
> > Levels:  1 2 3
> > > get("print.a")(tmp)
> > [1] "this is a"
> > 
> > Process R exited abnormally with code 5 at Tue Dec 11 16:18:17 2001
> > 
> > ----
> > 
> > I am using the windows version rw1031
> > 
> > I also tried on rw1030.   rw1030 gives a different code
> > Process R exited abnormally with code 255 at Tue Dec 11 17:31:06 2001
> 
> 
> With an existing workspace the same happens with R-1.4.0 (unstable) on
> WinNT4.
> 
> Also in R-1.4.0 (unstable) the last lines of your example, if started
> without an existing workspace, results in:
> 
> >  print.a(tmp)
> [1] "this is a"
> [1] 1 2 3
> Levels:  1 2 3 
> >  get("print.a")(tmp)
> [1] "this is a"
> Error in get("print.a")(tmp) : function is not a closure
> >  get("print.a")
> Error: attempt to apply non-function
> >  get 
> #### Now a crash!

This comes from this spot:

(gdb) 
#3  0x080cc4cc in do_nextmethod (call=0x873cc68, op=0x8214ee8,args=0x873cd2c, 
    env=0x8b2f394) at ../../../R/src/main/objects.c:488
488         s = findFun(CAR(cptr->call), cptr->sysparent);

CAR(cptr->call) grabs the first element of the call. In a construction
like get("print.a")(tmp) that will be  get("print.a"). However, findFun
assumes that it is being passed a symbol, and pokes a HASHVALUE into
what it thinks is the PRINTNAME of the object, and all hell breaks
loose. 

However, given the way that method dispatch works (by "dotting on" the
class name to the function name), I don't think this kind of
construction makes sense at all.  

There probably needs to be a check in findFun that its symbol argument
really is one. It is however of the "Doctor, it hurts when I do this"
variety, and it might be better to keep our hands off it this close to
release time.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rmh@surfer.sbm.temple.edu  Wed Dec 12 00:20:20 2001
From: rmh@surfer.sbm.temple.edu (Rich Heiberger)
Date: Tue, 11 Dec 2001 19:20:20 -0500 (EST)
Subject: [Rd] crash bug in get("function.name")() (PR#1211)
References: <200112112232.XAA15690@pubhealth.ku.dk>
 <3C16912C.75907CDA@statistik.uni-dortmund.de>
Message-ID: <200112120020.fBC0KKL2512179@surfer.sbm.temple.edu>

Peter, your explanation looks right to me, and is certainly consistent
with the crash behavior of
get("print.a")
The R-1.4.0 error message is a good check.

I would think the explanation should prevent the other example from
working as well.  But this one works
get("print.factor")(tmp)
exactly as expected.

Both of these examples work correctly in S-Plus 4.5

Rich
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ligges@statistik.uni-dortmund.de  Wed Dec 12 12:28:37 2001
From: ligges@statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 12 Dec 2001 13:28:37 +0100
Subject: [Rd] Re: [R] Rcmd SHLIB problem
References: <Pine.LNX.4.31.0112121021250.3547-100000@gannet.stats>
Message-ID: <3C174D75.5B75BD7E@statistik.uni-dortmund.de>

[moved to R-devel]

Prof Brian Ripley wrote:
> 
> it should and does work with Fortran (and C++) files.  The right format is
> 
> Rcmd SHLIB tryf.f
> 
> I've just tested that under rw1031 and the pretest of 1.4.0, so I've
> no idea what's up for you.
> B
> 
> On Mon, 10 Dec 2001, Liaw, Andy wrote:
> 
> > Dear R-help,
> >
> > I'm having problem creating a dll using Rcmd SHLIB with R-1.3.1 on WinNT4:
> >
> > C:\TEMP>Rcmd SHLIB tryf.o
> > make[1]: `libR.a' is up to date.
> > make: *** No rule to make target `'tryf.o', needed by `tryf.a'.  Stop.
> >
> > C:\TEMP>Rcmd SHLIB tryf.f
> > make[1]: `libR.a' is up to date.
> > make: *** No rule to make target `'tryf.o', needed by `tryf.a'.  Stop.
                                    ^^^^
Notice the quotes! Same problem here (R-1.4.0, unstable, NT4).

Not sure if it is a bug in R, in perl or in (what I presume) make.
To debug it, I took the relevant line from SHLIB (inserting the
variables):

make -f d:/uwe-ns/R140-071201/src/gnuwin32/MakeDll
RHOME=d:/uwe-ns/R140-071201 DEBUG=T DLLNAME=pan CFSOURCES='pan.f'
CXXSOURCES='' RCOBJ=
make: *** No rule to make target `'pan.o', needed by `pan.a'.  Stop.


Now leaving out quotes at some places:

d:\uwe>make -f d:/uwe-ns/R140-071201/src/gnuwin32/MakeDll
RHOME=d:/uwe-ns/R140-071201 DEBUG=T DLLNAME=pan CFSOURCES='pan.f'
CXXSOURCES= RCOBJ=
make: *** No rule to make target `'pan.o', needed by `pan.a'.  Stop.

make -f d:/uwe-ns/R140-071201/src/gnuwin32/MakeDll
RHOME=d:/uwe-ns/R140-071201 DEBUG=T DLLNAME=pan CFSOURCES=pan.f
CXXSOURCES='' RCOBJ=
g77 -O2 -g -Wall  -c pan.f -o pan.o
make: *** No rule to make target `''.o', needed by `pan.a'.  Stop.

make -f d:/uwe-ns/R140-071201/src/gnuwin32/MakeDll
RHOME=d:/uwe-ns/R140-071201 DEBUG=T DLLNAME=pan CFSOURCES=pan.f
CXXSOURCES= RCOBJ=
rm -f -f pan.a
ar cr pan.a *.o
ranlib pan.a
------- Building pan.dll from pan.a --------
echo LIBRARY pan > pan.def
echo EXPORTS >> pan.def
nm pan.a > Defs
sed -n '/^........ [BCDRT] _/s/^........ [BCDRT] _/ /p' Defs >> pan.def
rm -f Defs
gcc  --shared   -o pan.dll pan.def pan.a   -lg2c
d:/uwe-ns/R140-071201/bin/R.dll


OK. This works now --- without any quotes - but where is the error?

The following line also works (other kind of quotes):

make -f d:/uwe-ns/R140-071201/src/gnuwin32/MakeDll
RHOME=d:/uwe-ns/R140-071201 DEBUG=T DLLNAME=pan CFSOURCES="pan.f"
CXXSOURCES="" RCOBJ=


As a summary: Changing the relevant line in SHLIB to
system("make -f $R_HOME/src/gnuwin32/MakeDll RHOME=$R_HOME $debug
DLLNAME=$dllname CFSOURCES=$srcs CXXSOURCES=$cxx RCOBJ=");

works, but that's not a general solution. And "double-quotes" cannot be
used two times.
Any ideas?


> > I compiled R from source, so I'm quite sure I've got all the right tools.
> > Can anyone explain what I'm missing?  The FAQ only mentioned compiling C
> > code.  I'd imagine that Fortran code works the same way, no?
> >
> > Any help/hint are much appreciated!

Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Dec 12 13:18:55 2001
From: p.dalgaard@biostat.ku.dk (p.dalgaard@biostat.ku.dk)
Date: Wed, 12 Dec 2001 14:18:55 +0100 (MET)
Subject: [Rd] crash bug in get("function.name")() (PR#1211)
Message-ID: <200112121318.OAA23307@pubhealth.ku.dk>

Rich Heiberger <rmh@surfer.sbm.temple.edu> writes:

> Peter, your explanation looks right to me, and is certainly consistent
> with the crash behavior of
> get("print.a")
> The R-1.4.0 error message is a good check.
> 
> I would think the explanation should prevent the other example from
> working as well.  But this one works
> get("print.factor")(tmp)
> exactly as expected.
> 
> Both of these examples work correctly in S-Plus 4.5

(S-PLUS 3.4 too)

There's no NextMethod in print.factor, but I was wrong on the other
example: It has NextMethod("print",....) with an explicit generic, so
I don't think it should go near the CAR(call) bit at all.

I'll take a closer look, but there's also a few other nasty bugs
nagging us at the moment, and this looks like it could require surgery
to do_nextmethod with some risk of complications.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Dec 12 13:11:07 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 12 Dec 2001 14:11:07 +0100
Subject: [Rd] crash bug in get("function.name")() (PR#1211)
In-Reply-To: <200112120020.fBC0KKL2512179@surfer.sbm.temple.edu>
References: <200112112232.XAA15690@pubhealth.ku.dk>
 <3C16912C.75907CDA@statistik.uni-dortmund.de>
 <200112120020.fBC0KKL2512179@surfer.sbm.temple.edu>
Message-ID: <x23d2g37o4.fsf@blueberry.kubism.ku.dk>

Rich Heiberger <rmh@surfer.sbm.temple.edu> writes:

> Peter, your explanation looks right to me, and is certainly consistent
> with the crash behavior of
> get("print.a")
> The R-1.4.0 error message is a good check.
> 
> I would think the explanation should prevent the other example from
> working as well.  But this one works
> get("print.factor")(tmp)
> exactly as expected.
> 
> Both of these examples work correctly in S-Plus 4.5

(S-PLUS 3.4 too)

There's no NextMethod in print.factor, but I was wrong on the other
example: It has NextMethod("print",....) with an explicit generic, so
I don't think it should go near the CAR(call) bit at all.

I'll take a closer look, but there's also a few other nasty bugs
nagging us at the moment, and this looks like it could require surgery
to do_nextmethod with some risk of complications.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From andy_liaw@merck.com  Wed Dec 12 13:45:35 2001
From: andy_liaw@merck.com (Liaw, Andy)
Date: Wed, 12 Dec 2001 08:45:35 -0500
Subject: [Rd] RE: [R] Rcmd SHLIB problem
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC840D@usrymx10.merck.com>

Yes, changing line 67 of SHLIB as Uwe suggested worked:

C:\TEMP>Rcmd SHLIB tryf.f
make[1]: `libR.a' is up to date.
rm -f -f tryf.a
ar cr tryf.a *.o
ranlib tryf.a
------- Building tryf.dll from tryf.a --------
echo LIBRARY tryf > tryf.def
echo EXPORTS >> tryf.def
nm tryf.a > Defs
sed -n '/^........ [BCDRT] _/s/^........ [BCDRT] _/ /p' Defs >> tryf.def
rm -f Defs
gcc  --shared -s  -o tryf.dll tryf.def tryf.a  -Lc:/progra~1/R/rw1031/src/
gnuwin32  -lg2c -Lc:/Rtools/ATLAS/lib/WinNT_PIIISSE1 -lcblas -lf77blas
-latlas -lR

Thanks very much for the (temporary) solution.  The question is, could this
be a permanent fix?

Regards,
Andy

> -----Original Message-----
> From: Uwe Ligges [mailto:ligges@statistik.uni-dortmund.de]
> Sent: Wednesday, December 12, 2001 7:29 AM
> To: Prof Brian Ripley
> Cc: Liaw, Andy; R-devel
> Subject: Re: [R] Rcmd SHLIB problem
> 
> 
> [moved to R-devel]
> 
> Prof Brian Ripley wrote:
> > 
> > it should and does work with Fortran (and C++) files.  The 
> right format is
> > 
> > Rcmd SHLIB tryf.f
> > 
> > I've just tested that under rw1031 and the pretest of 1.4.0, so I've
> > no idea what's up for you.
> > B
> > 
> > On Mon, 10 Dec 2001, Liaw, Andy wrote:
> > 
> > > Dear R-help,
> > >
> > > I'm having problem creating a dll using Rcmd SHLIB with 
> R-1.3.1 on WinNT4:
> > >
> > > C:\TEMP>Rcmd SHLIB tryf.o
> > > make[1]: `libR.a' is up to date.
> > > make: *** No rule to make target `'tryf.o', needed by 
> `tryf.a'.  Stop.
> > >
> > > C:\TEMP>Rcmd SHLIB tryf.f
> > > make[1]: `libR.a' is up to date.
> > > make: *** No rule to make target `'tryf.o', needed by 
> `tryf.a'.  Stop.
>                                     ^^^^
> Notice the quotes! Same problem here (R-1.4.0, unstable, NT4).
> 
> Not sure if it is a bug in R, in perl or in (what I presume) make.
> To debug it, I took the relevant line from SHLIB (inserting the
> variables):
> 
> make -f d:/uwe-ns/R140-071201/src/gnuwin32/MakeDll
> RHOME=d:/uwe-ns/R140-071201 DEBUG=T DLLNAME=pan CFSOURCES='pan.f'
> CXXSOURCES='' RCOBJ=
> make: *** No rule to make target `'pan.o', needed by `pan.a'.  Stop.
> 
> 
> Now leaving out quotes at some places:
> 
> d:\uwe>make -f d:/uwe-ns/R140-071201/src/gnuwin32/MakeDll
> RHOME=d:/uwe-ns/R140-071201 DEBUG=T DLLNAME=pan CFSOURCES='pan.f'
> CXXSOURCES= RCOBJ=
> make: *** No rule to make target `'pan.o', needed by `pan.a'.  Stop.
> 
> make -f d:/uwe-ns/R140-071201/src/gnuwin32/MakeDll
> RHOME=d:/uwe-ns/R140-071201 DEBUG=T DLLNAME=pan CFSOURCES=pan.f
> CXXSOURCES='' RCOBJ=
> g77 -O2 -g -Wall  -c pan.f -o pan.o
> make: *** No rule to make target `''.o', needed by `pan.a'.  Stop.
> 
> make -f d:/uwe-ns/R140-071201/src/gnuwin32/MakeDll
> RHOME=d:/uwe-ns/R140-071201 DEBUG=T DLLNAME=pan CFSOURCES=pan.f
> CXXSOURCES= RCOBJ=
> rm -f -f pan.a
> ar cr pan.a *.o
> ranlib pan.a
> ------- Building pan.dll from pan.a --------
> echo LIBRARY pan > pan.def
> echo EXPORTS >> pan.def
> nm pan.a > Defs
> sed -n '/^........ [BCDRT] _/s/^........ [BCDRT] _/ /p' Defs 
> >> pan.def
> rm -f Defs
> gcc  --shared   -o pan.dll pan.def pan.a   -lg2c
> d:/uwe-ns/R140-071201/bin/R.dll
> 
> 
> OK. This works now --- without any quotes - but where is the error?
> 
> The following line also works (other kind of quotes):
> 
> make -f d:/uwe-ns/R140-071201/src/gnuwin32/MakeDll
> RHOME=d:/uwe-ns/R140-071201 DEBUG=T DLLNAME=pan CFSOURCES="pan.f"
> CXXSOURCES="" RCOBJ=
> 
> 
> As a summary: Changing the relevant line in SHLIB to
> system("make -f $R_HOME/src/gnuwin32/MakeDll RHOME=$R_HOME $debug
> DLLNAME=$dllname CFSOURCES=$srcs CXXSOURCES=$cxx RCOBJ=");
> 
> works, but that's not a general solution. And "double-quotes" 
> cannot be
> used two times.
> Any ideas?
> 
> 
> > > I compiled R from source, so I'm quite sure I've got all 
> the right tools.
> > > Can anyone explain what I'm missing?  The FAQ only 
> mentioned compiling C
> > > code.  I'd imagine that Fortran code works the same way, no?
> > >
> > > Any help/hint are much appreciated!
> 
> Uwe
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Dec 12 13:54:29 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 12 Dec 2001 13:54:29 +0000 (GMT)
Subject: [Rd] RE: [R] Rcmd SHLIB problem
In-Reply-To: <51F9C42DA15CD311BD220008C707D81903DC840D@usrymx10.merck.com>
Message-ID: <Pine.LNX.4.31.0112121348350.3879-100000@gannet.stats>

On Wed, 12 Dec 2001, Liaw, Andy wrote:

> Yes, changing line 67 of SHLIB as Uwe suggested worked:
>
> C:\TEMP>Rcmd SHLIB tryf.f
> make[1]: `libR.a' is up to date.
> rm -f -f tryf.a
> ar cr tryf.a *.o
> ranlib tryf.a
> ------- Building tryf.dll from tryf.a --------
> echo LIBRARY tryf > tryf.def
> echo EXPORTS >> tryf.def
> nm tryf.a > Defs
> sed -n '/^........ [BCDRT] _/s/^........ [BCDRT] _/ /p' Defs >> tryf.def
> rm -f Defs
> gcc  --shared -s  -o tryf.dll tryf.def tryf.a  -Lc:/progra~1/R/rw1031/src/
> gnuwin32  -lg2c -Lc:/Rtools/ATLAS/lib/WinNT_PIIISSE1 -lcblas -lf77blas
> -latlas -lR
>
> Thanks very much for the (temporary) solution.  The question is, could this
> be a permanent fix?

No.  It only works for one input file.  The quotes were not there for fun!
(Also names with spaces in.)

We think this may be a perl version problem.  Uwe has build 623. I have
build 630.  Quite a few things malfunctioned with 623 for me under Windows
98.  What do you have?


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From andy_liaw@merck.com  Wed Dec 12 14:07:28 2001
From: andy_liaw@merck.com (Liaw, Andy)
Date: Wed, 12 Dec 2001 09:07:28 -0500
Subject: [Rd] RE: [R] Rcmd SHLIB problem
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC840E@usrymx10.merck.com>

Prof. Ripley,

Seems like mine is 629:

c:\home>perl -v

This is perl, v5.6.1 built for MSWin32-x86-multi-thread
(with 1 registered patch, see perl -V for more detail)

Copyright 1987-2001, Larry Wall

Binary build 629 provided by ActiveState Tool Corp.
http://www.ActiveState.com
Built 12:27:04 Aug 20 2001

Will try a newer build and see.

Regards,
Andy

> -----Original Message-----
> From: Prof Brian Ripley [mailto:ripley@stats.ox.ac.uk]
> Sent: Wednesday, December 12, 2001 8:54 AM
> To: Liaw, Andy
> Cc: 'Uwe Ligges'; R-devel
> Subject: Re: [Rd] RE: [R] Rcmd SHLIB problem
> 
> 
> On Wed, 12 Dec 2001, Liaw, Andy wrote:
> 
> > Yes, changing line 67 of SHLIB as Uwe suggested worked:
> >
> > C:\TEMP>Rcmd SHLIB tryf.f
> > make[1]: `libR.a' is up to date.
> > rm -f -f tryf.a
> > ar cr tryf.a *.o
> > ranlib tryf.a
> > ------- Building tryf.dll from tryf.a --------
> > echo LIBRARY tryf > tryf.def
> > echo EXPORTS >> tryf.def
> > nm tryf.a > Defs
> > sed -n '/^........ [BCDRT] _/s/^........ [BCDRT] _/ /p' 
> Defs >> tryf.def
> > rm -f Defs
> > gcc  --shared -s  -o tryf.dll tryf.def tryf.a  
> -Lc:/progra~1/R/rw1031/src/
> > gnuwin32  -lg2c -Lc:/Rtools/ATLAS/lib/WinNT_PIIISSE1 
> -lcblas -lf77blas
> > -latlas -lR
> >
> > Thanks very much for the (temporary) solution.  The 
> question is, could this
> > be a permanent fix?
> 
> No.  It only works for one input file.  The quotes were not 
> there for fun!
> (Also names with spaces in.)
> 
> We think this may be a perl version problem.  Uwe has build 
> 623. I have
> build 630.  Quite a few things malfunctioned with 623 for me 
> under Windows
> 98.  What do you have?
> 
> 
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@nokomis.stat.umn.edu  Wed Dec 12 15:51:46 2001
From: luke@nokomis.stat.umn.edu (Luke Tierney)
Date: Wed, 12 Dec 2001 09:51:46 -0600
Subject: [Rd] crash bug in get("function.name")() (PR#1211)
In-Reply-To: <x23d2g37o4.fsf@blueberry.kubism.ku.dk>; from p.dalgaard@biostat.ku.dk on Wed, Dec 12, 2001 at 02:11:07PM +0100
References: <200112112232.XAA15690@pubhealth.ku.dk> <3C16912C.75907CDA@statistik.uni-dortmund.de> <200112120020.fBC0KKL2512179@surfer.sbm.temple.edu> <x23d2g37o4.fsf@blueberry.kubism.ku.dk>
Message-ID: <20011212095146.A12155@nokomis.stat.umn.edu>

I don't think I'll get to look at this cerefully today, but here is
just a thought: My recollection is that NextMethod needs to be called
only from within a usemethod dispatch because the dispatch needs to
set up stuff in the environment that NextMethod needs.  If you do

print.a <- function(...) NextMethod()

and then call print.a directly then the stuff NextMethod needs isn't
set up, so NextMethod can't do anything useful.  I think the
do_nextmethod tries to detect this and raise an error, but for some
reason it isn't detecting the problem here.

luke

On Wed, Dec 12, 2001 at 02:11:07PM +0100, Peter Dalgaard BSA wrote:
> Rich Heiberger <rmh@surfer.sbm.temple.edu> writes:
> 
> > Peter, your explanation looks right to me, and is certainly consistent
> > with the crash behavior of
> > get("print.a")
> > The R-1.4.0 error message is a good check.
> > 
> > I would think the explanation should prevent the other example from
> > working as well.  But this one works
> > get("print.factor")(tmp)
> > exactly as expected.
> > 
> > Both of these examples work correctly in S-Plus 4.5
> 
> (S-PLUS 3.4 too)
> 
> There's no NextMethod in print.factor, but I was wrong on the other
> example: It has NextMethod("print",....) with an explicit generic, so
> I don't think it should go near the CAR(call) bit at all.
> 
> I'll take a closer look, but there's also a few other nasty bugs
> nagging us at the moment, and this looks like it could require surgery
> to do_nextmethod with some risk of complications.
> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke@stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@nokomis.stat.umn.edu  Wed Dec 12 15:52:06 2001
From: luke@nokomis.stat.umn.edu (luke@nokomis.stat.umn.edu)
Date: Wed, 12 Dec 2001 16:52:06 +0100 (MET)
Subject: [Rd] crash bug in get("function.name")() (PR#1211)
Message-ID: <200112121552.QAA25631@pubhealth.ku.dk>

I don't think I'll get to look at this cerefully today, but here is
just a thought: My recollection is that NextMethod needs to be called
only from within a usemethod dispatch because the dispatch needs to
set up stuff in the environment that NextMethod needs.  If you do

print.a <- function(...) NextMethod()

and then call print.a directly then the stuff NextMethod needs isn't
set up, so NextMethod can't do anything useful.  I think the
do_nextmethod tries to detect this and raise an error, but for some
reason it isn't detecting the problem here.

luke

On Wed, Dec 12, 2001 at 02:11:07PM +0100, Peter Dalgaard BSA wrote:
> Rich Heiberger <rmh@surfer.sbm.temple.edu> writes:
> 
> > Peter, your explanation looks right to me, and is certainly consistent
> > with the crash behavior of
> > get("print.a")
> > The R-1.4.0 error message is a good check.
> > 
> > I would think the explanation should prevent the other example from
> > working as well.  But this one works
> > get("print.factor")(tmp)
> > exactly as expected.
> > 
> > Both of these examples work correctly in S-Plus 4.5
> 
> (S-PLUS 3.4 too)
> 
> There's no NextMethod in print.factor, but I was wrong on the other
> example: It has NextMethod("print",....) with an explicit generic, so
> I don't think it should go near the CAR(call) bit at all.
> 
> I'll take a closer look, but there's also a few other nasty bugs
> nagging us at the moment, and this looks like it could require surgery
> to do_nextmethod with some risk of complications.
> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke@stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Dec 12 16:35:53 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 12 Dec 2001 16:35:53 +0000 (GMT)
Subject: [Rd] Re: [R] Rcmd SHLIB problem
In-Reply-To: <3C174D75.5B75BD7E@statistik.uni-dortmund.de>
Message-ID: <Pine.LNX.4.31.0112121632180.4155-100000@gannet.stats>

The answer seems to be: make sure you are using the tools in a current
tools.zip.  Neither Andy nor Uwe were.  Both the version of make.exe and
cygwin1.dll are critical.

It's also wise to have a fairly recent version of Perl (628 or later), as
some earlier ones made errors in calls to system() (as used in Rcmd
SHLIB) on Win 9x.

On Wed, 12 Dec 2001, Uwe Ligges wrote:

> [moved to R-devel]
>
> Prof Brian Ripley wrote:
> >
> > it should and does work with Fortran (and C++) files.  The right format is
> >
> > Rcmd SHLIB tryf.f
> >
> > I've just tested that under rw1031 and the pretest of 1.4.0, so I've
> > no idea what's up for you.
> > B

[...]

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From andy_liaw@merck.com  Wed Dec 12 16:46:32 2001
From: andy_liaw@merck.com (Liaw, Andy)
Date: Wed, 12 Dec 2001 11:46:32 -0500
Subject: [Rd] Re: [R] Rcmd SHLIB problem
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC8411@usrymx10.merck.com>

> From: Prof Brian Ripley [mailto:ripley@stats.ox.ac.uk]
> 
> The answer seems to be: make sure you are using the tools in a current
> tools.zip.  Neither Andy nor Uwe were.  Both the version of 
> make.exe and
> cygwin1.dll are critical.
> 
> It's also wise to have a fairly recent version of Perl (628 
> or later), as
> some earlier ones made errors in calls to system() (as used in Rcmd
> SHLIB) on Win 9x.

Indeed.  The cygwin1.dll I have in c:\cygwin\bin has date stamp later than
the one in Rtools.zip, and that's the problem.  Taking c:\cygwin\bin out of
the PATH solved the problem.  I don't remember why I had \cygwin\bin in the
PATH.  The default setup for bash adds the needed directories to the path
anyway.

Thanks very much to Prof. Ripley and Uwe Ligges for the help!!

Regards,
Andy 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Wed Dec 12 18:04:17 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Wed, 12 Dec 2001 19:04:17 +0100
Subject: [Rd] windows testing
Message-ID: <3C179C21.B7258EE@univie.ac.at>


with 

R-devel_2001-12-12.tar.gz

on win32k

i cannot comlete i build, i get

make -C front-ends
make[1]: Entering directory
`/cygdrive/d/Work/R-devel/src/gnuwin32/front-ends'
gcc  -c -o graphappmain.o -I../graphapp -O2 -Wall -pedantic
-I../../include ../g
raphapp/graphappmain.c
gcc  -O2 -Wall -pedantic -I../../include -DWin32 -c rgui.c -o rgui.o
windres   -i rgico.rc -o rgico.o
gcc  -s -mwindows -o Rgui.exe graphappmain.o rgui.o rgico.o -L.. -lRm
d:\Rtools\bin\..\lib\gcc-lib\mingw32\2.95.3-6\..\..\..\..\mingw32\bin\ld.exe:
ca
nnot find -lRm
make[1]: *** [Rgui.exe] Error 1
make[1]: Leaving directory
`/cygdrive/d/Work/R-devel/src/gnuwin32/front-ends'
make: *** [front-ends] Error 2


doing it with
R-devel_2001-12-07.tar.gz
works, however



--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Wed Dec 12 19:00:05 2001
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Wed, 12 Dec 2001 14:00:05 -0500
Subject: [Rd] windows testing
In-Reply-To: <3C179C21.B7258EE@univie.ac.at>
References: <3C179C21.B7258EE@univie.ac.at>
Message-ID: <76af1ugfqan4jv61te6oropsb95io69j4o@4ax.com>

On Wed, 12 Dec 2001 19:04:17 +0100, you wrote in message
<3C179C21.B7258EE@univie.ac.at>:

>
>with 
>
>R-devel_2001-12-12.tar.gz
>
>on win32k
>
>i cannot comlete i build, i get

>gcc  -s -mwindows -o Rgui.exe graphappmain.o rgui.o rgico.o -L.. -lRm
>d:\Rtools\bin\..\lib\gcc-lib\mingw32\2.95.3-6\..\..\..\..\mingw32\bin\ld.exe:
>ca
>nnot find -lRm

Today's Makefile is missing a dependency; you need to do

 make libRm.a

in the gnuwin32 directory.  After that things should be fine.  (Or
wait for tomorrow's version!)

Duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jmc@research.bell-labs.com  Wed Dec 12 20:24:44 2001
From: jmc@research.bell-labs.com (John Chambers)
Date: Wed, 12 Dec 2001 15:24:44 -0500
Subject: [Rd] Changes to methods package in R 1.4
Message-ID: <3C17BD0C.38F20F90@research.bell-labs.com>

A few recent changes:

- as announced to R-core, the package now has a version of the plot
function with formal arguments (x, y, ...) that allow methods to be
defined for x and/or y.  ?setMethod has some examples.

- The "basic classes" have been made somewhat more complete (class
"structure" was added, along with relations among it, "matrix", "array",
"ts", and "vector").  Closer to the green book and conventional S
relations.
  For 1.4, this doesn't quite go as far as having formal slots for
"matrix", etc.  Formal slots for these classes should work, but there
may be some touchy points in back-compatibility, particularly with the
"optional" dimnames slot for arrays, so the plan is to leave that for
the next version.

- A number of checks for duplicate slots and other problems have been
added.  Situations were being let through that could cause bad problems
later (e.g., slots with different classes in inherited duplicates).  An
example was added to ?setClass illustrating what's caught by some of the
checks.

John
-- 
John M. Chambers                  jmc@bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Thu Dec 13 13:38:30 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Thu, 13 Dec 2001 14:38:30 +0100
Subject: [Rd] windows build
Message-ID: <3C18AF56.B83088C8@univie.ac.at>

with todays r-devel..tar.gz

make distribution 
hangs on my win98 machine.

this is the las message i see

MAKE[2]: Leaving directory
`/cygdrive/c/devel/R-devel/src/gnuwin32/bitmap/jpeg-6
b'
cp Rbitmap.dll ../../../bin
MAKE[1]: Leaving directory
`/cygdrive/c/devel/R-devel/src/gnuwin32/bitmap'

after that, the it seems that sed is running
and somehow hangs.

i do have the tools from brians www page.

one thing i noticed is that both brianks kit and the
mingw compiler have a make.
which one should be used for compiling?







--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From possolo@crd.ge.com  Thu Dec 13 14:41:07 2001
From: possolo@crd.ge.com (possolo@crd.ge.com)
Date: Thu, 13 Dec 2001 15:41:07 +0100 (MET)
Subject: [Rd] sample (PR#1212)
Message-ID: <200112131441.PAA07523@pubhealth.ku.dk>

Full_Name: Antonio Possolo
Version: 1.3.1
OS: Linux (RH 7.1), Windows 2000
Submission from: (NULL) (192.35.44.3)


A FEATURE THAT EASILY GENERATES BUGS

sample(pi, size=1) produces 1, 2, or 3.
sample(c(pi, pi), size=1) produces 3.141593 always.

Although this conforms with the behavior explained in the help page for
"sample",
the behavior for the case where x (in sample(x, ...)) has length 1 can easily
lead to errors if x is generated automatically and one neglects to check its
length before sampling from it.

I believe it would be safest to require x to be always the full set of values
one wishes to sample from, and remove the special meaning that is attached
to the case when x is of length 1.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Thu Dec 13 15:26:46 2001
From: murdoch@stats.uwo.ca (murdoch@stats.uwo.ca)
Date: Thu, 13 Dec 2001 16:26:46 +0100 (MET)
Subject: [Rd] Doc suggestion for detach (and library) (PR#1213)
Message-ID: <200112131526.QAA08391@pubhealth.ku.dk>

The example in ?detach says

     ## could equally well use detach("package:eda")
     ## but NOT  pkg <- "package:eda"; detach(pkg)

It would be helpful if the code to do what was meant above was given,
e.g.

     ## Instead, use

     library(eda)
     pkg <- "package:eda"
     detach(pos = match(pkg,search()))

It might also be helpful to include a "character.only" example in the
help for library.

Duncan Murdoch

--please do not edit the information below--

Version:
 platform = i386-pc-mingw32
 arch = x86
 os = Win32
 system = x86, Win32
 status = Under development (unstable)
 major = 1
 minor = 4.0
 year = 2001
 month = 12
 day = 13
 language = R

Windows 98 4.10 (build 1998)  

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Thu Dec 13 15:33:30 2001
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Thu, 13 Dec 2001 10:33:30 -0500
Subject: [Rd] Windows testing
In-Reply-To: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>
References: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats>
Message-ID: <6fih1uk81od2d26eqam0g1ejm4iod9tg2q@4ax.com>

I've just put today's Window's build online at 

 <http://www.stats.uwo.ca/faculty/murdoch/software/r-devel> 

I won't be able to update it again before Monday.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Dec 13 15:50:22 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Dec 2001 16:50:22 +0100
Subject: [Rd] error in qbeta (PR#1201)
In-Reply-To: <x2her0xsoy.fsf@blueberry.kubism.ku.dk>
References: <200112091257.NAA17087@pubhealth.ku.dk>
 <x2her0xsoy.fsf@blueberry.kubism.ku.dk>
Message-ID: <x27krrt8zl.fsf@blueberry.kubism.ku.dk>

Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:

> z.yang@ucl.ac.uk writes:

> > I noticed that qbeta is sometimes wrong and the error is not even due to the
> > beta parameters being too extreme.  I am calculating the quantiles corresponding
> > to cdf = 0.05, 0.15, ..., 0.95.  The value corresponding to cdf=0.25 is wrong
> > while all other values are correct.  
> > 
> > qbeta(0.05, 0.143891, 0.05) = 1.040850e-05   correct
> > qbeta(0.15, 0.143891, 0.05) = 0.021161       correct
> > qbeta(0.25, 0.143891, 0.05) = 3e-308         wrong (correct value is 0.457227)
> > qbeta(0.35, 0.143891, 0.05) = 0.945217       correct
> > 
> > I also used your source file qbeta.c to do the same calculation, and it seems
> > that something might be wrong in the "initial approximation", before the
> > newton-raphson iteration. 

Thanks for reporting this.

We think we have a better version in the current snapshots for 1.4.0
(available at http://www.stats.uwo.ca/faculty/murdoch/software/r-devel)

It turns out that the initial approximation simply isn't very good in
this case, it becomes negative and the algorithms sets it to a small
number. This is true of the original Fortran code too, but we had
chosen a rather smaller small number and that caused the algorithm to
converge falsely. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Thu Dec 13 16:16:10 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Thu, 13 Dec 2001 17:16:10 +0100
Subject: [Rd] windows build
References: <51F9C42DA15CD311BD220008C707D81903DC841A@usrymx10.merck.com>
Message-ID: <3C18D44A.8288A291@univie.ac.at>

it seems that my problem once again was a leftover cygwin1.dll
in another directory which is NOT in the path.

i think we had a report about this problem
on the list some days ago.

after renaming ALL cygwin1.dll's 
except the one in the directory with brian's tools
things worked smoothly again.




"Liaw, Andy" wrote:
> 
> > one thing i noticed is that both brianks kit and the
> > mingw compiler have a make.
> > which one should be used for compiling?
> 
> The one in Prof. Ripley's Rtools.zip is extracted from cygwin.  I recalled
> reading somewhere in the instruction that the one in minGW sometimes doesn't
> work.
> 
> Andy

--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rmh@surfer.sbm.temple.edu  Thu Dec 13 18:44:56 2001
From: rmh@surfer.sbm.temple.edu (rmh@surfer.sbm.temple.edu)
Date: Thu, 13 Dec 2001 19:44:56 +0100 (MET)
Subject: [Rd] syntax questtion, maybe a bug (PR#1214)
Message-ID: <200112131844.TAA09960@pubhealth.ku.dk>


S-Plus takes names of the form ".2logl" since it sees a single set of
letters beginning with "." and continuing with alphanumerics.
> .2logl <- function(x) 2*log(x)
> .2logl(3)
[1] 2.197225
>

The same name is rejected by R, my guess is that the ".2" is recognized as
a number and then there is no operator symbol between the "2" and the
following alphabet symbols.
> .2logl <- function(x) 2*log(x)
Error: syntax error

Is this an intentional syntax difference between R and S?  Or is it a bug?


(continue)
I am using rw1031 Version 1.3.1  (2001-08-31) on windows.

Rich

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rpeng@stat.ucla.edu  Thu Dec 13 19:51:24 2001
From: rpeng@stat.ucla.edu (rpeng@stat.ucla.edu)
Date: Thu, 13 Dec 2001 20:51:24 +0100 (MET)
Subject: [Rd] Error when library() called with no arguments (PR#1215)
Message-ID: <200112131951.UAA10233@pubhealth.ku.dk>

Full_Name: Roger peng
Version: 1.4.0 (2001-12-13)
OS: GNU/Linux (Redhat 7.1)
Submission from: (NULL) (128.97.86.126)


R compiles fine and runs, but when I call the library() function with no
arguments I get the error:

> library()
Error in FUN(X[[2]], ...) : subscript out of bounds
make check also fails when running code in base-Ex.R (I'm assuming it fails
where library() function is called).

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Dec 13 19:59:45 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 13 Dec 2001 20:59:45 +0100 (MET)
Subject: [Rd] Error when library() called with no arguments (PR#1215)
Message-ID: <200112131959.UAA10287@pubhealth.ku.dk>

On Thu, 13 Dec 2001 rpeng@stat.ucla.edu wrote:

> Full_Name: Roger peng
> Version: 1.4.0 (2001-12-13)
> OS: GNU/Linux (Redhat 7.1)
> Submission from: (NULL) (128.97.86.126)
>
>
> R compiles fine and runs, but when I call the library() function with no
> arguments I get the error:
>
> > library()
> Error in FUN(X[[2]], ...) : subscript out of bounds
> make check also fails when running code in base-Ex.R (I'm assuming it fails
> where library() function is called).

That's not very informative.  Could you at least run traceback(),
and/or run debug() and chase it down?

It works on all my systems: might you perchance have a broken package
installed?  The likelihod is that it a local-to-you problem.

We can't fix non-repoducible problems!

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Dec 13 21:38:33 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Dec 2001 22:38:33 +0100
Subject: [Rd] Error when library() called with no arguments (PR#1215)
In-Reply-To: <200112131959.UAA10287@pubhealth.ku.dk>
References: <200112131959.UAA10287@pubhealth.ku.dk>
Message-ID: <x23d2eajhi.fsf@blueberry.kubism.ku.dk>

ripley@stats.ox.ac.uk writes:

> On Thu, 13 Dec 2001 rpeng@stat.ucla.edu wrote:
> 
> > Full_Name: Roger peng
> > Version: 1.4.0 (2001-12-13)
> > OS: GNU/Linux (Redhat 7.1)
> > Submission from: (NULL) (128.97.86.126)
> >
> >
> > R compiles fine and runs, but when I call the library() function with no
> > arguments I get the error:
> >
> > > library()
> > Error in FUN(X[[2]], ...) : subscript out of bounds
> > make check also fails when running code in base-Ex.R (I'm assuming it fails
> > where library() function is called).
> 
> That's not very informative.  Could you at least run traceback(),
> and/or run debug() and chase it down?
> 
> It works on all my systems: might you perchance have a broken package
> installed?  The likelihod is that it a local-to-you problem.
> 
> We can't fix non-repoducible problems!

I don't see it either - on both my RH7.1 systems. Was this a run from
a clean slate or on top of a previous build? Any warnings/error during
configuration or building? 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rmh@surfer.sbm.temple.edu  Fri Dec 14 04:40:07 2001
From: rmh@surfer.sbm.temple.edu (Rich Heiberger)
Date: Thu, 13 Dec 2001 23:40:07 -0500 (EST)
Subject: [Rd] crash bug in get("function.name")() (PR#1211)
References: <200112112232.XAA15690@pubhealth.ku.dk>
 <3C16912C.75907CDA@statistik.uni-dortmund.de>
 <200112120020.fBC0KKL2512179@surfer.sbm.temple.edu>
 <x23d2g37o4.fsf@blueberry.kubism.ku.dk>
Message-ID: <200112140440.fBE4e7R2530944@surfer.sbm.temple.edu>

I tried the same exercise in S-Plus 6.  S-Plus 6 rejects any direct use
of a method.  It requires use of the generic.  It provides an error message
that might make sense to us, but probably not to a user.  The message
is consistent with Luke's intuition of coming into the middle of a sequence
that was not properly initiated with UseMethod.

Professional Edition Version 6.0.3 Release 2 for Microsoft Windows : 2001 

> tmp <- factor(1:3)
> tmp
[1] 1 2 3
> print.factor(tmp)
Warning messages:
  the "..." object should be a list but has mode "missing"
Problem in NextMethod("print", quote = quote): argument "..1" is missing with no default 
Use traceback() to see the call stack
> get("print.factor")(tmp)
Warning messages:
  the "..." object should be a list but has mode "missing"
Problem in NextMethod("print", quote = quote): argument "..1" is missing with no default 
Use traceback() to see the call stack
> 
> get("print")(tmp)
[1] 1 2 3
>

Rich
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Dec 14 06:31:19 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 14 Dec 2001 06:31:19 +0000 (GMT)
Subject: [Rd] crash bug in get("function.name")() (PR#1211)
In-Reply-To: <200112140440.fBE4e7R2530944@surfer.sbm.temple.edu>
Message-ID: <Pine.GSO.4.31.0112140621290.2243-100000@auk.stats>

On Thu, 13 Dec 2001, Rich Heiberger wrote:

> I tried the same exercise in S-Plus 6.  S-Plus 6 rejects any direct use
> of a method.  It requires use of the generic.  It provides an error message

It only does that for S4-style formal methods, but some care is needed
with S3-style ones.

> that might make sense to us, but probably not to a user.  The message
> is consistent with Luke's intuition of coming into the middle of a sequence
> that was not properly initiated with UseMethod.
>
> Professional Edition Version 6.0.3 Release 2 for Microsoft Windows : 2001
>
> > tmp <- factor(1:3)
> > tmp
> [1] 1 2 3
> > print.factor(tmp)
> Warning messages:
>   the "..." object should be a list but has mode "missing"
> Problem in NextMethod("print", quote = quote): argument "..1" is missing with no default
> Use traceback() to see the call stack
> > get("print.factor")(tmp)
> Warning messages:
>   the "..." object should be a list but has mode "missing"
> Problem in NextMethod("print", quote = quote): argument "..1" is missing with no default
> Use traceback() to see the call stack
> >

Well, it works if called properly:

print.factor(tmp, quote = F)
[1] 1 2 3

> get("print.factor")(tmp, quote = F)
[1] 1 2 3

The issue is to do with optimizing the evaluation of arguments, and
indeed whether the default is taken from the generic or the method.

Note that `S-Plus 6' is not a single entity: the behaviour of
method dispatch differs between 6.0.y versions.  Later ones are stricter
about argument sequence matching between methods and generics (and that is
why R's QA tools have a strict interpretation too, since they must now be
regarded as `standard S').


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Fri Dec 14 08:30:58 2001
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Fri, 14 Dec 2001 09:30:58 +0100 (MET)
Subject: [Rd] sample (PR#1212)
Message-ID: <200112140830.JAA12969@pubhealth.ku.dk>

>>>>> "possolo" == possolo  <possolo@crd.ge.com> writes:

    possolo> Full_Name: Antonio Possolo Version: 1.3.1 OS: Linux
    possolo> (RH 7.1), Windows 2000 Submission from: (NULL)


    possolo> A FEATURE THAT EASILY GENERATES BUGS

    possolo> sample(pi, size=1) produces 1, 2, or 3.
    possolo> sample(c(pi, pi), size=1) produces 3.141593 always.

    possolo> Although this conforms with the behavior explained
    possolo> in the help page for "sample", the behavior for the
    possolo> case where x (in sample(x, ...)) has length 1 can
    possolo> easily lead to errors if x is generated
    possolo> automatically and one neglects to check its length
    possolo> before sampling from it.

I completely share your opinion; and we (not I) only recently
had a case where a user-written function did not work in some
cases when     sample(iv, ...)   was used, with an integer 
vector iv which sometimes (rarely) was of length one.
In your case with `pi' (which is not an integer), we could make
sample() give a warning at least instead of silently coercing to
integer; in our case however, iv[] *is* an integer vector, just
sometimes of length 1 which is inherently ``non-decidable''.

The reason sample() works as it does is S - compatibility
and that *is* important.

    possolo> I believe it would be safest to require x to be
    possolo> always the full set of values one wishes to sample
    possolo> from, and remove the special meaning that is
    possolo> attached to the case when x is of length 1.

What we *could* consider instead,  without breaking back-compatibility,
is adding an additional argument `isVector', e.g.

   sample (x, size, replace = FALSE, prob = NULL, isVector = FALSE) 

such that if you use

     sample(pi, size = 1, isV = TRUE)

you would always get 3.14159..
This would add least make the user written code much nicer to
read than (what is currently needed)

     i.rand <- if(length(iv) == 1) iv  else  sample(iv, .....)


Other opinions?  {from Insightful as well -- this would be worth
		 doing in all implementations of S}

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From andy_liaw@merck.com  Fri Dec 14 13:35:56 2001
From: andy_liaw@merck.com (Liaw, Andy)
Date: Fri, 14 Dec 2001 08:35:56 -0500
Subject: [Rd] sample (PR#1212)
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC8421@usrymx10.merck.com>

> From: maechler@stat.math.ethz.ch [mailto:maechler@stat.math.ethz.ch]
> 
> >>>>> "possolo" == possolo  <possolo@crd.ge.com> writes:
> 
>     possolo> Full_Name: Antonio Possolo Version: 1.3.1 OS: Linux
>     possolo> (RH 7.1), Windows 2000 Submission from: (NULL)
> 
> 
>     possolo> A FEATURE THAT EASILY GENERATES BUGS
> 
>     possolo> sample(pi, size=1) produces 1, 2, or 3.
>     possolo> sample(c(pi, pi), size=1) produces 3.141593 always.
> 
>     possolo> Although this conforms with the behavior explained
>     possolo> in the help page for "sample", the behavior for the
>     possolo> case where x (in sample(x, ...)) has length 1 can
>     possolo> easily lead to errors if x is generated
>     possolo> automatically and one neglects to check its length
>     possolo> before sampling from it.
> 
> I completely share your opinion; and we (not I) only recently
> had a case where a user-written function did not work in some
> cases when     sample(iv, ...)   was used, with an integer 
> vector iv which sometimes (rarely) was of length one.
> In your case with `pi' (which is not an integer), we could make
> sample() give a warning at least instead of silently coercing to
> integer; in our case however, iv[] *is* an integer vector, just
> sometimes of length 1 which is inherently ``non-decidable''.
> 
> The reason sample() works as it does is S - compatibility
> and that *is* important.
> 
>     possolo> I believe it would be safest to require x to be
>     possolo> always the full set of values one wishes to sample
>     possolo> from, and remove the special meaning that is
>     possolo> attached to the case when x is of length 1.
> 
> What we *could* consider instead,  without breaking 
> back-compatibility,
> is adding an additional argument `isVector', e.g.
> 
>    sample (x, size, replace = FALSE, prob = NULL, isVector = FALSE) 
> 
> such that if you use
> 
>      sample(pi, size = 1, isV = TRUE)
> 
> you would always get 3.14159..
> This would add least make the user written code much nicer to
> read than (what is currently needed)
> 
>      i.rand <- if(length(iv) == 1) iv  else  sample(iv, .....)
> 
> 
> Other opinions?  {from Insightful as well -- this would be worth
> 		 doing in all implementations of S}

I like Martin's suggestion of adding an argument.  

What I have done previously, when I encountered this problem, is simply to
make a local copy of 'sample', called it 'mysample', and modify it so it
handles scalar argument as described above.  This is simple enough that I
wonder whether it is worth it to change the core code.  If R Core (and maybe
Insightful) are kind enough to make this change, I can only be happier.

Cheers,
Andy

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kjetilh@umsanet.edu.bo  Fri Dec 14 15:56:16 2001
From: kjetilh@umsanet.edu.bo (kjetilh@umsanet.edu.bo)
Date: Fri, 14 Dec 2001 16:56:16 +0100 (MET)
Subject: [Rd] binomial null model (PR#1216)
Message-ID: <200112141556.QAA19563@pubhealth.ku.dk>


> y <- rbinom(20,1,0.5)
> glm( y ~ 0, family=binomial)
Error in any(n > 1) : Object "n" not found
> debug(glm)
> debug(glm.fit.null)
> glm( y ~ 0, family=binomial)
debugging in: glm(y ~ 0, family = binomial)
debug: {
.
.
.
Browse[1]> n
debug: aic.model <- family$aic(y, n, mu, weights, dev)
Browse[1]> print(n)
Error in print(n) : Object "n" not found
Browse[1]> get("n", envir=environment(family$aic))
Error in get(x, envir, mode, inherits) : variable "n" was not found
Browse[1]> n
Error in any(n > 1) : Object "n" not found

The call to any(n > 1) is inside family$aic. This n apparently needs to
be calculated somewhere.

(This is R1.3.1 on windows 98)

Kjetil Halvorsen

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Fri Dec 14 16:25:12 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Fri, 14 Dec 2001 17:25:12 +0100
Subject: [Rd] Windows testing
References: <Pine.LNX.4.31.0112051452010.23381-100000@gannet.stats> <6fih1uk81od2d26eqam0g1ejm4iod9tg2q@4ax.com>
Message-ID: <3C1A27E8.F15D0B04@univie.ac.at>

since duncan murdoch cannot do it at the moment,
i put todays windows build at

http://mailbox.univie.ac.at/erich.neuwirth/r-devel/SetupR.exe


--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Fri Dec 14 22:45:00 2001
From: bates@stat.wisc.edu (Douglas Bates)
Date: 14 Dec 2001 16:45:00 -0600
Subject: [Rd] Test builds of Debian packages for R-1.4.0
Message-ID: <6r8zc5e80j.fsf@franz.stat.wisc.edu>

Test builds of the Debian packages for R-1.4.0 are available at
               http://cvs.r-project.org/~bates/R-debian

These packages are regenerated daily but the version number stays at
1.4.0-0, indicating that they are prerelease packages.  They are
created on a machine running the "woody" or testing release of Debian
GNU/Linux, which will become Debian 3.0.  They will not install on a
machine running Debian 2.2, the "potato" release, because of package
dependencies.

Thanks to Dirk Eddelbuettell for his work in creating these packages.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jmbarani@wanadoo.fr  Sat Dec 15 15:53:31 2001
From: jmbarani@wanadoo.fr (jmbarani@wanadoo.fr)
Date: Sat, 15 Dec 2001 16:53:31 +0100 (MET)
Subject: [Rd] problem (PR#1217)
Message-ID: <200112151553.QAA23298@pubhealth.ku.dk>

C'est un message de format MIME en plusieurs parties.

------=_NextPart_000_01D8_01C18589.2166E610
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Please, could you tell us how to get the setupR.exe.....because as we =
downloaded the whole R-1.3.1 and the R-1.3.1 recommanded on the site =
"cran.r-project.org" , we did not find the requested file the set up the =
installation...Thank you for your help

Jean-Michel BARANI

------=_NextPart_000_01D8_01C18589.2166E610
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Diso-8859-1">
<META content=3D"MSHTML 5.50.4134.600" name=3DGENERATOR>
<STYLE></STYLE>
</HEAD>
<BODY bgColor=3D#ffffff>
<DIV><FONT face=3DArial size=3D2>Please, could you tell us how to get =
the=20
setupR.exe.....because as we downloaded the whole R-1.3.1 and the =
R-1.3.1=20
recommanded on the site "cran.r-project.org" , we did not find the =
requested=20
file the set up the installation...Thank you for your help</FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>Jean-Michel =
BARANI</FONT></DIV></BODY></HTML>

------=_NextPart_000_01D8_01C18589.2166E610--


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sat Dec 15 16:26:55 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 Dec 2001 17:26:55 +0100
Subject: [Rd] problem (PR#1217)
In-Reply-To: <200112151553.QAA23298@pubhealth.ku.dk>
References: <200112151553.QAA23298@pubhealth.ku.dk>
Message-ID: <x2pu5gphyo.fsf@blueberry.kubism.ku.dk>

jmbarani@wanadoo.fr writes:

> Please, could you tell us how to get the setupR.exe.....because as we =
> downloaded the whole R-1.3.1 and the R-1.3.1 recommanded on the site =
> "cran.r-project.org" , we did not find the requested file the set up the =
> installation...Thank you for your help
> 
> Jean-Michel BARANI

What gives you the idea that this is a bug? 

If you want the precompiled binary distribution for Windows (95 or
later), I suggest that you try the link labeled "Windows (95 or
later)" under "Precompiled binary distributions" on the CRAN page.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Sat Dec 15 21:46:58 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Sat, 15 Dec 2001 22:46:58 +0100
Subject: [Rd] problem (PR#1217)
References: <200112151553.QAA23298@pubhealth.ku.dk> <x2pu5gphyo.fsf@blueberry.kubism.ku.dk>
Message-ID: <3C1BC4D2.36A0FD24@univie.ac.at>

today's windows build again is available at

http://mailbox.univie.ac.at/erich.neuwirth/r-devel/SetupR.exe

--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Sat Dec 15 23:23:51 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Sun, 16 Dec 2001 00:23:51 +0100
Subject: [Rd] windows testing and oops
Message-ID: <3C1BDB87.B69D08DD@univie.ac.at>

today's windows build again is available at

http://mailbox.univie.ac.at/erich.neuwirth/r-devel/SetupR.exe

and my last message stating this had the wrong subject line.
excuse me.


--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From erich.neuwirth@univie.ac.at  Sun Dec 16 14:59:46 2001
From: erich.neuwirth@univie.ac.at (Erich Neuwirth)
Date: Sun, 16 Dec 2001 15:59:46 +0100
Subject: [Rd] windows testing, internet
Message-ID: <3C1CB6E2.2A955B56@univie.ac.at>

doing 
make -f Makewfile.win test-Internet
in tests
gave

 
make[1]: Leaving directory `/cygdrive/d/Work/R-devel/tests'
D:/Work/R-devel/bin/Rterm --vanilla LC_ALL=C --internet2 --vanilla <
internet.R
> internet.Rout2
diff internet.Rout internet.Rout2
99,100c99,100
< unable to resolve 'foo.bar'.
< Error in url("http://foo.bar", "r") : cannot open URL `http://foo.bar'
---
> Error in url("http://foo.bar", "r") : InternetOpenUrl failed: `The server retu
rned an invalid or unrecognized response
> '
make: *** [test-Internet] Error 1

i use the files from the
r-develxxxx.tar.gz 



--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Dec 16 17:07:30 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 16 Dec 2001 17:07:30 +0000 (GMT)
Subject: [Rd] windows testing, internet
In-Reply-To: <3C1CB6E2.2A955B56@univie.ac.at>
Message-ID: <Pine.LNX.4.31.0112161705050.7224-100000@gannet.stats>

And your point was?

That is deliberately not part of the tests. The message is different:
it comes from completely different code.

In the absence of a Windows maintainer, please only report real problems:
if you had read the code it would have been obvious that either message
was appropriate.


On Sun, 16 Dec 2001, Erich Neuwirth wrote:

> doing
> make -f Makewfile.win test-Internet
> in tests
> gave
>
>
> make[1]: Leaving directory `/cygdrive/d/Work/R-devel/tests'
> D:/Work/R-devel/bin/Rterm --vanilla LC_ALL=C --internet2 --vanilla <
> internet.R
> > internet.Rout2
> diff internet.Rout internet.Rout2
> 99,100c99,100
> < unable to resolve 'foo.bar'.
> < Error in url("http://foo.bar", "r") : cannot open URL `http://foo.bar'
> ---
> > Error in url("http://foo.bar", "r") : InternetOpenUrl failed: `The server retu
> rned an invalid or unrecognized response
> > '
> make: *** [test-Internet] Error 1
>
> i use the files from the
> r-develxxxx.tar.gz
>
>
>
> --
> Erich Neuwirth, Computer Supported Didactics Working Group
> Visit our SunSITE at http://sunsite.univie.ac.at
> Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From z.yang@ucl.ac.uk  Mon Dec 17 10:03:34 2001
From: z.yang@ucl.ac.uk (Ziheng Yang)
Date: Mon, 17 Dec 2001 10:03:34 +0000
Subject: [Rd] error in qbeta (PR#1201)
In-Reply-To: <x27krrt8zl.fsf@blueberry.kubism.ku.dk>
References: <x2her0xsoy.fsf@blueberry.kubism.ku.dk> <200112091257.NAA17087@pubhealth.ku.dk> <x2her0xsoy.fsf@blueberry.kubism.ku.dk>
Message-ID: <4.3.2.7.2.20011216113200.00d48c50@pop-server.ucl.ac.uk>

Thanks for the update.  I set the value to half the cdf (alpha) myself, and 
it worked for that particular case, but I suppose the initial approximation 
should not generate values out of range and so one should do better than 
that.  I'll do some checking and let you know if I notice anything strange.

Would you mind sending me a copy of the source qbeta.c?

Best wishes,
Ziheng


At 16:50 13/12/01 +0100, Peter Dalgaard BSA wrote:
>Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk> writes:
>
> > z.yang@ucl.ac.uk writes:
>
> > > I noticed that qbeta is sometimes wrong and the error is not even due 
> to the
> > > beta parameters being too extreme.  I am calculating the quantiles 
> corresponding
> > > to cdf = 0.05, 0.15, ..., 0.95.  The value corresponding to cdf=0.25 
> is wrong
> > > while all other values are correct.
> > >
> > > qbeta(0.05, 0.143891, 0.05) = 1.040850e-05   correct
> > > qbeta(0.15, 0.143891, 0.05) = 0.021161       correct
> > > qbeta(0.25, 0.143891, 0.05) = 3e-308         wrong (correct value is 
> 0.457227)
> > > qbeta(0.35, 0.143891, 0.05) = 0.945217       correct
> > >
> > > I also used your source file qbeta.c to do the same calculation, and 
> it seems
> > > that something might be wrong in the "initial approximation", before the
> > > newton-raphson iteration.
>
>Thanks for reporting this.
>
>We think we have a better version in the current snapshots for 1.4.0
>(available at http://www.stats.uwo.ca/faculty/murdoch/software/r-devel)
>
>It turns out that the initial approximation simply isn't very good in
>this case, it becomes negative and the algorithms sets it to a small
>number. This is true of the original Fortran code too, but we had
>chosen a rather smaller small number and that caused the algorithm to
>converge falsely.
>
>--
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
>~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bolker@zoo.ufl.edu  Mon Dec 17 15:58:25 2001
From: bolker@zoo.ufl.edu (bolker@zoo.ufl.edu)
Date: Mon, 17 Dec 2001 16:58:25 +0100 (MET)
Subject: [Rd] behavior of r* and d* functions at boundaries (PR#1218)
Message-ID: <200112171558.QAA07778@pubhealth.ku.dk>


  (Sent this to r-help back in October, got no comments, forgot
to re-submit it as a bug report.)

There are a few inconsistencies, at least, in some of the functions that 
generate random deviates from particular distributions (I think they're 
bugs because they're inconvenient, but maybe someone can make an argument 
for the current behavior). If people think these are really bugs I can 
submit them, together or separately. 

1. rlnorm(n,mean,sd) gives NaN for sd=0, rather than always returning 
the mean. This is inconsistent with rnorm(), which returns the mean. 

2. rnbinom(n,prob,size) gives NaN when prob=1; always returning 0 would be 
reasonable, and consistent with the output of dnbinom(). [This is 
equivalent to rnbinom(n,mu=0,size) in the new parameterization.] 

3. rgamma(n,shape,scale) happily returns 0 when shape=0 or scale=0. However, 
dgamma(x,shape=0) [and pgamma(x,shape=0)] gives NaN. This behavior is 
actually convenient for me, but I could make an argument for returning a 
warning in this case. 

  In general, I don't know what (e.g.) dnorm(m,mean=m,sd=0)
should return: NaN (as at present) or Inf?  I guess it depends
how fussy you're being and how you're taking limits.

  The fixes seem straightforward. 

  Ben Bolker 

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = 
 major = 1
 minor = 3.1
 year = 2001
 month = 08
 day = 31
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Mon Dec 17 19:18:35 2001
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Mon, 17 Dec 2001 14:18:35 -0500
Subject: [Rd] Re:  windows testing
Message-ID: <o4hs1u8d8uum5hjf25vh9trdd7m5f1j0qc@4ax.com>

Today's build is now up on

 <http://www.stats.uwo.ca/faculty/murdoch/software/r-devel> 

I'll put up another tomorrow, then won't be able to do any more.  But
the day after is supposed to be the release day, so hopefully they
won't be necessary.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From olshena@mskcc.org  Mon Dec 17 23:02:11 2001
From: olshena@mskcc.org (olshena@mskcc.org)
Date: Tue, 18 Dec 2001 00:02:11 +0100 (MET)
Subject: [Rd] write.table (PR#1219)
Message-ID: <200112172302.AAA10089@pubhealth.ku.dk>

Full_Name: Adam B. Olshen
Version: 1.3.1
OS: Linux
Submission from: (NULL) (140.163.222.233)


There appears to be a bug with write.table if the object being written is a
matrix.  
Specifically, the option row.names=F gives an error.  I have seen this problem 
repeated in the Windows implementation.  An example is below.

Adam Olshen
olshena@mskcc.org

This works:

> write.table(matrix(rnorm(100),10),"blah",row.names=T)

And this works:

> write.table(as.data.frame(matrix(rnorm(100),10)),"blah",row.names=F)

This does not work:

> write.table(matrix(rnorm(100),10),"blah",row.names=F)
Error in gsub(pattern, replacement, x, ignore.case, extended) :
        invalid argument


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Dec 17 23:36:19 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 18 Dec 2001 00:36:19 +0100 (MET)
Subject: [Rd] write.table (PR#1219)
Message-ID: <200112172336.AAA10190@pubhealth.ku.dk>

On Tue, 18 Dec 2001 olshena@mskcc.org wrote:

> Full_Name: Adam B. Olshen
> Version: 1.3.1
> OS: Linux
> Submission from: (NULL) (140.163.222.233)
>
>
> There appears to be a bug with write.table if the object being written is a
> matrix.
> Specifically, the option row.names=F gives an error.  I have seen this problem
> repeated in the Windows implementation.  An example is below.
>
> Adam Olshen
> olshena@mskcc.org
>
> This works:
>
> > write.table(matrix(rnorm(100),10),"blah",row.names=T)
>
> And this works:
>
> > write.table(as.data.frame(matrix(rnorm(100),10)),"blah",row.names=F)
>
> This does not work:
>
> > write.table(matrix(rnorm(100),10),"blah",row.names=F)
> Error in gsub(pattern, replacement, x, ignore.case, extended) :
>         invalid argument

Actually, this happens only for numerical matrices, so just do

X <- matrix(rnorm(100),10)
X[] <- as.character(X)
write.table(X,"blah",row.names=F)

or even

write.table(X,"blah",row.names=F, quote=F)

Note though that for almost all purposes

write.table(format(X), "blah",row.names=F, quote=F)

would be better.

Nevertheless I'll put in the obvious fix for 1.4.0.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kleiweg@let.rug.nl  Tue Dec 18 10:11:11 2001
From: kleiweg@let.rug.nl (kleiweg@let.rug.nl)
Date: Tue, 18 Dec 2001 11:11:11 +0100 (MET)
Subject: [Rd] cmdscale: labels missing (PR#1220)
Message-ID: <200112181011.LAA14007@pubhealth.ku.dk>


The function cmdscale tries to copy names from the source to the
result. This only works if the source is a matrix.

If m is a matrix with labels (rownames) and d is an object of
class "dist" with labels, this works:

    cmdscale(m)

...but with this, there are no labels in the results:

    cmdscale(d)

However, this works:

    cmdscale(as.matrix(d))

My suggestion is to change, in the function cmdscale, this line:

    dimnames(points) <- list(dimnames(d)[[1]], NULL)

...into this:

    if (is.null (row.names(points) <- names(d)))
        dimnames(points) <- list(dimnames(d)[[1]], NULL)


By the way, I think it would be nice if the functions isoMDS and
sammon also copied the labels from the input to the result. At
the moment, I'm using wrapper function for all three functions
to preserve the labels.

--please do not edit the information below--

Version:
 platform = i586-pc-linux-gnu
 arch = i586
 os = linux-gnu
 system = i586, linux-gnu
 status =
 major = 1
 minor = 3.1
 year = 2001
 month = 08
 day = 31
 language = R

Search Path:
 .GlobalEnv, package:MASS, package:mva, package:iLeven, package:ctest, Autoloads, package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kleiweg@let.rug.nl  Tue Dec 18 10:17:19 2001
From: kleiweg@let.rug.nl (kleiweg@let.rug.nl)
Date: Tue, 18 Dec 2001 11:17:19 +0100 (MET)
Subject: [Rd] isoMDS: core dump (PR#1221)
Message-ID: <200112181017.LAA14125@pubhealth.ku.dk>


I'm not sure this belong here...

Package: MASS
Version: 6.2-8

I get a core dump when I call isoMDS with an incorrect argument
for y. With d as an object of class "dist":

  > isoMDS(d,2)

  Program received signal SIGSEGV, Segmentation fault.
  0x40229e43 in VR_mds_init_data () at MASS.c:157

--please do not edit the information below--

Version:
 platform = i586-pc-linux-gnu
 arch = i586
 os = linux-gnu
 system = i586, linux-gnu
 status =
 major = 1
 minor = 3.1
 year = 2001
 month = 08
 day = 31
 language = R

Search Path:
 .GlobalEnv, package:MASS, package:mva, package:iLeven, package:ctest, Autoloads, package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Dec 18 10:36:14 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 18 Dec 2001 11:36:14 +0100 (MET)
Subject: [Rd] isoMDS: core dump (PR#1221)
Message-ID: <200112181036.LAA14472@pubhealth.ku.dk>

On Tue, 18 Dec 2001 kleiweg@let.rug.nl wrote:

>
> I'm not sure this belong here...
>
> Package: MASS
> Version: 6.2-8

Not current.

> I get a core dump when I call isoMDS with an incorrect argument
> for y. With d as an object of class "dist":
>
>   > isoMDS(d,2)
>
>   Program received signal SIGSEGV, Segmentation fault.
>   0x40229e43 in VR_mds_init_data () at MASS.c:157

So don't!

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kleiweg@let.rug.nl  Tue Dec 18 11:00:19 2001
From: kleiweg@let.rug.nl (Peter Kleiweg)
Date: Tue, 18 Dec 2001 12:00:19 +0100 (CET)
Subject: [Rd] isoMDS: core dump (PR#1221)
In-Reply-To: <Pine.LNX.4.31.0112181034480.20111-100000@gannet.stats>
Message-ID: <Pine.LNX.4.33.0112181157180.423-100000@kleigh.nl>

Prof Brian Ripley scribeva...

> On Tue, 18 Dec 2001 kleiweg@let.rug.nl wrote:
>
> >
> > I'm not sure this belong here...
> >
> > Package: MASS
> > Version: 6.2-8
>
> Not current.

This version was in the set of recommended packages for R 1.3.1.
Is R 1.4.0 released yet?

> > I get a core dump when I call isoMDS with an incorrect argument
> > for y. With d as an object of class "dist":
> >
> >   > isoMDS(d,2)
> >
> >   Program received signal SIGSEGV, Segmentation fault.
> >   0x40229e43 in VR_mds_init_data () at MASS.c:157
>
> So don't!

So don't what?

-- 
Peter Kleiweg
http://www.let.rug.nl/~kleiweg/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Dec 18 11:47:05 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 18 Dec 2001 11:47:05 +0000 (GMT)
Subject: [Rd] isoMDS: core dump (PR#1221)
In-Reply-To: <Pine.LNX.4.33.0112181157180.423-100000@kleigh.nl>
Message-ID: <Pine.LNX.4.31.0112181143230.21228-100000@gannet.stats>

On Tue, 18 Dec 2001, Peter Kleiweg wrote:

> Prof Brian Ripley scribeva...
>
> > On Tue, 18 Dec 2001 kleiweg@let.rug.nl wrote:
> >
> > >
> > > I'm not sure this belong here...
> > >
> > > Package: MASS
> > > Version: 6.2-8
> >
> > Not current.
>
> This version was in the set of recommended packages for R 1.3.1.
> Is R 1.4.0 released yet?

No, but even recommended packages have updates on CRAN.

> > > I get a core dump when I call isoMDS with an incorrect argument
> > > for y. With d as an object of class "dist":
> > >
> > >   > isoMDS(d,2)
> > >
> > >   Program received signal SIGSEGV, Segmentation fault.
> > >   0x40229e43 in VR_mds_init_data () at MASS.c:157
> >
> > So don't!
>
> So don't what?

Don't call isoMDS with an argument that is not as documented.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kleiweg@let.rug.nl  Tue Dec 18 12:12:16 2001
From: kleiweg@let.rug.nl (Peter Kleiweg)
Date: Tue, 18 Dec 2001 13:12:16 +0100 (CET)
Subject: [Rd] isoMDS: core dump (PR#1221)
In-Reply-To: <Pine.LNX.4.31.0112181143230.21228-100000@gannet.stats>
Message-ID: <Pine.LNX.4.33.0112181301270.423-100000@kleigh.nl>

Prof Brian Ripley scribeva...

> > > > Package: MASS
> > > > Version: 6.2-8
> > >
> > > Not current.

I installed VR_6.2-10 and got the identical result

> > > > I get a core dump when I call isoMDS with an incorrect argument
> > > > for y. With d as an object of class "dist":
> > > >
> > > >   > isoMDS(d,2)
> > > >
> > > >   Program received signal SIGSEGV, Segmentation fault.
> > > >   0x40229e43 in VR_mds_init_data () at MASS.c:157
> > >
> > > So don't!
> >
> > So don't what?
>
> Don't call isoMDS with an argument that is not as documented.

This is not the first time I get the impression you don't really
want us to report problems. I am not submitting a bug report
demanding a fix. I am submitting a bug report to help you.

IMHO a segmentation fault is a bug, whatever errors the user
makes.

-- 
Peter Kleiweg
http://www.let.rug.nl/~kleiweg/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Tue Dec 18 13:51:04 2001
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Tue, 18 Dec 2001 14:51:04 +0100
Subject: [Rd] behavior of r* and d* functions at boundaries (PR#1218)
In-Reply-To: <200112171558.QAA07778@pubhealth.ku.dk>
References: <200112171558.QAA07778@pubhealth.ku.dk>
Message-ID: <15391.18888.225046.355632@gargle.gargle.HOWL>

>>>>> "Ben" == Ben Bolker <bolker@zoo.ufl.edu> writes:

    Ben>   (Sent this to r-help back in October, got no
    Ben> comments, forgot to re-submit it as a bug report.)

    Ben> There are a few inconsistencies, at least, in some of
    Ben> the functions that generate random deviates from
    Ben> particular distributions (I think they're bugs because
    Ben> they're inconvenient, but maybe someone can make an
    Ben> argument for the current behavior). If people think
    Ben> these are really bugs I can submit them, together or
    Ben> separately.

    Ben> 1. rlnorm(n,mean,sd) gives NaN for sd=0, rather than
    Ben> always returning the mean. This is inconsistent with
    Ben> rnorm(), which returns the mean.

    Ben> 2. rnbinom(n,prob,size) gives NaN when prob=1; always
    Ben> returning 0 would be reasonable, and consistent with
    Ben> the output of dnbinom(). [This is equivalent to
    Ben> rnbinom(n,mu=0,size) in the new parameterization.]

these two above are fixed for 1.4

    Ben> 3. rgamma(n,shape,scale) happily returns 0 when shape=0
    Ben> or scale=0. However, dgamma(x,shape=0) [and
    Ben> pgamma(x,shape=0)] gives NaN. This behavior is actually
    Ben> convenient for me, but I could make an argument for
    Ben> returning a warning in this case.

    Ben>   In general, I don't know what (e.g.)
    Ben> dnorm(m,mean=m,sd=0) should return: NaN (as at present)
    Ben> or Inf?

    Ben> I guess it depends how fussy you're being and how
    Ben> you're taking limits.

My approach would be to always return the limit if it's well
defined (as here).  
For any random variate X, when Var(X) = 0, r<dist>()  should
return E(X) (if that is defined) I think.  
This would mean that rgamma() is fine and dnorm() could be
improved.  
dgamma(0,shape=0) should give Inf as well and pgamma(0,shape=0) |-> 1.
The fact that pnorm(mu, mu, sd = 0) currently gives NaN instead
of 1 is a bug IMO.

Another line of reasoning could be that "shape=0" (or less
clearly "sd = 0") are not allowed (as per ?rgamma), and giving
NaN would reflect this.  I'm not share this view
but leave all this for after release.

    Ben>   The fixes seem straightforward.
(yes, at least for 1) and 2))

Thank you, Ben, for reporting these!

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kleiweg@let.rug.nl  Wed Dec 19 23:43:16 2001
From: kleiweg@let.rug.nl (Peter Kleiweg)
Date: Thu, 20 Dec 2001 00:43:16 +0100 (CET)
Subject: [Rd] dots and ldots in R 1.4.0
Message-ID: <Pine.LNX.4.33.0112200034510.429-100000@kleigh.nl>


I have a package with in the documentation:
 in \usage :    \dots
 in \arguments: \ldots

This is how I interpreted "Use \dots for the dots in function
argument lists ..., and \ldots for ellipsis dots in ordinary
text"  in "Writing R Extensions".

When I did `R CMD check' in R version 1.3.1 all was fine.
With R version 1.4.0 I get :
  * checking for undocumented arguments in \usage ... WARNING
  Undocumented arguments in documentation object `FOO':
  [1] "..."

Am I doing something wrong?

-- 
Peter Kleiweg
http://www.let.rug.nl/~kleiweg/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Dec 20 00:10:34 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Dec 2001 01:10:34 +0100
Subject: [Rd] dots and ldots in R 1.4.0
In-Reply-To: <Pine.LNX.4.33.0112200034510.429-100000@kleigh.nl>
References: <Pine.LNX.4.33.0112200034510.429-100000@kleigh.nl>
Message-ID: <x2y9jyg39h.fsf@blueberry.kubism.ku.dk>

Peter Kleiweg <kleiweg@let.rug.nl> writes:

> I have a package with in the documentation:
>  in \usage :    \dots
>  in \arguments: \ldots
> 
> This is how I interpreted "Use \dots for the dots in function
> argument lists ..., and \ldots for ellipsis dots in ordinary
> text"  in "Writing R Extensions".
> 
> When I did `R CMD check' in R version 1.3.1 all was fine.
> With R version 1.4.0 I get :
>   * checking for undocumented arguments in \usage ... WARNING
>   Undocumented arguments in documentation object `FOO':
>   [1] "..."
> 
> Am I doing something wrong?

Not really, the checks got stricter. You just need to supply a
line describing what the "..." arguments are for. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kleiweg@let.rug.nl  Thu Dec 20 00:16:49 2001
From: kleiweg@let.rug.nl (Peter Kleiweg)
Date: Thu, 20 Dec 2001 01:16:49 +0100 (CET)
Subject: [Rd] dots and ldots in R 1.4.0
In-Reply-To: <x2y9jyg39h.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.33.0112200113580.429-100000@kleigh.nl>

Peter Dalgaard BSA scribeva...

> Peter Kleiweg <kleiweg@let.rug.nl> writes:
>
> > I have a package with in the documentation:
> >  in \usage :    \dots
> >  in \arguments: \ldots
> >
> > This is how I interpreted "Use \dots for the dots in function
> > argument lists ..., and \ldots for ellipsis dots in ordinary
> > text"  in "Writing R Extensions".
> >
> > When I did `R CMD check' in R version 1.3.1 all was fine.
> > With R version 1.4.0 I get :
> >   * checking for undocumented arguments in \usage ... WARNING
> >   Undocumented arguments in documentation object `FOO':
> >   [1] "..."
> >
> > Am I doing something wrong?
>
> Not really, the checks got stricter. You just need to supply a
> line describing what the "..." arguments are for.

That is what I did, in \arguments, using \item{\ldots}{}.

-- 
Peter Kleiweg
http://www.let.rug.nl/~kleiweg/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Dec 20 00:24:47 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Dec 2001 01:24:47 +0100
Subject: [Rd] dots and ldots in R 1.4.0
In-Reply-To: <Pine.LNX.4.33.0112200113580.429-100000@kleigh.nl>
References: <Pine.LNX.4.33.0112200113580.429-100000@kleigh.nl>
Message-ID: <x2u1umg2ls.fsf@blueberry.kubism.ku.dk>

Peter Kleiweg <kleiweg@let.rug.nl> writes:

> > > Am I doing something wrong?
> >
> > Not really, the checks got stricter. You just need to supply a
> > line describing what the "..." arguments are for.
> 
> That is what I did, in \arguments, using \item{\ldots}{}.

Sorry, misunderstood.

It wants \dots. \ldots are for the triple-dots in running text that
get set in the text font.


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kleiweg@let.rug.nl  Thu Dec 20 00:57:23 2001
From: kleiweg@let.rug.nl (Peter Kleiweg)
Date: Thu, 20 Dec 2001 01:57:23 +0100 (CET)
Subject: [Rd] dots and ldots in R 1.4.0
In-Reply-To: <x2u1umg2ls.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.33.0112200132400.429-100000@kleigh.nl>

Peter Dalgaard BSA scribeva...

> Peter Kleiweg <kleiweg@let.rug.nl> writes:
>
> > > > Am I doing something wrong?
> > >
> > > Not really, the checks got stricter. You just need to supply a
> > > line describing what the "..." arguments are for.
> >
> > That is what I did, in \arguments, using \item{\ldots}{}.
>
> Sorry, misunderstood.
>
> It wants \dots. \ldots are for the triple-dots in running text that
> get set in the text font.

I have been looking at the tex-version of the manuals. I see
that both "\dots" in "\usage", and "\ldots" in
"\arguments{\item{\ldots" get replaced by "...". And just
putting "..." in the manual sources and then running
`R CMD check' gives "OK". So why would I need to use \dots in
these places?

-- 
Peter Kleiweg
http://www.let.rug.nl/~kleiweg/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kleiweg@let.rug.nl  Thu Dec 20 13:10:14 2001
From: kleiweg@let.rug.nl (kleiweg@let.rug.nl)
Date: Thu, 20 Dec 2001 14:10:14 +0100 (MET)
Subject: [Rd] configure: sed: Function s%@PDFLATEX@%/usr/local/bin/pdflatex%g (PR#1222)
Message-ID: <200112201310.OAA13759@pubhealth.ku.dk>


Sometimes, configure isn't able to create the makefiles. It
produces errors like:

sed: Function s%@PDFLATEX@%/usr/local/bin/pdflatex%g cannot be parsed.

This happens when I use a combination of arguments to configure like:

    --prefix=$HOME/R-tst
    --with-tcl-config=/opt_local/opt/tcl/lib/tclConfig.sh
    --with-tk-config=/opt_local/opt/tk/lib/tkConfig.sh

If I leave out the last two arguments, the problem does not
occur.

If I change the first argument to --prefix=$HOME/Rtst, the
problem does not occur.

--please do not edit the information below--

Version:
 platform = hppa2.0-hp-hpux10.20
 arch = hppa2.0
 os = hpux10.20
 system = hppa2.0, hpux10.20
 status =
 major = 1
 minor = 4.0
 year = 2001
 month = 12
 day = 19
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pd@pubhealth.ku.dk  Fri Dec 21 06:15:02 2001
From: pd@pubhealth.ku.dk (Peter Dalgaard BSA)
Date: Fri, 21 Dec 2001 07:15:02 +0100
Subject: [Rd] Bug list summary (automatic post)
Message-ID: <200112210615.fBL6F2h10098@blueberry.kubism.ku.dk>

=================================================
This is an automated summary of the status of the R-bugs
repository.

Note that this may be neither complete nor perfectly
correct at any given instance: Not all bugs are reported,
and some reported bugs may have been fixed, but the
repository not yet updated.

Some bug fixes are difficult to verify because they pertain
to specific hardware or operating system versions. If you
have information to contribute, please do so.

If you happen to know how to fix a problem please send
patches to the bug repository, too.

New bugs are reported either through the web
interface at r-bugs.r-project.org or via email to
r-bugs@r-project.org. The bug.report() function can be
used to automate parts of the procedure on many systems.
Followups on older bugs can be done by including the string
"(PR#999)" in the Subject of an email (change 999 to the
actual reference number, of course!).
=================================================

Directory:  Accuracy

* PR# 1218 *
Subject:  behavior of r* and d* functions at boundaries 
From: Ben Bolker <bolker@zoo.ufl.edu>
Date: Mon, 17 Dec 2001 11:04:27 -0500
--points 1 and 2 were fixed for 1.4.0

Directory:  Add-ons

* PR# 974 *
Subject: Lattice: panel.superpose with ordered factor groups
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sat, 9 Jun 2001 11:08:51 +1000 (EST)
--The warning is standard S and R behaviour.
--Probably xyplot needs to avoid it (by unclassing?)
--Still there in lattice 0.3-0.
* PR# 1038 *
Subject: nlme: bug in getCovariateFormula
From: Setzer.Woodrow@epamail.epa.gov
Date: Tue, 31 Jul 2001 11:24:09 -0400
--change needed in package nlme
* PR# 1044 *
Subject: Polymarsall.c
From: pleu@hotmail.com
Date: Tue, 7 Aug 2001 22:42:07 +0200 (MET DST)
* PR# 1116 *
Subject: get.hist.quote does not work
From: arto.luoma@uta.fi
Date: Thu, 4 Oct 2001 14:45:29 +0200 (MET DST)
--Seems specific to one locale on one system.
--The bug is unlikely to be in R.
* PR# 1178 *
Subject: segfault using svm from e1071
From: Jan Rychter <jan@rychter.com>
Date: Tue, 20 Nov 2001 23:38:17 +0100
* PR# 1199 *
Subject: pixmap: infinite recursion with nonascii pnm-files
From: thomas.baumann@ch.tum.de
Date: Fri, 7 Dec 2001 11:07:52 +0100 (CET)

Directory:  Analyses

none

Directory:  Documentation

* PR# 988 *
Subject: input for R-intro
From: "Paul E. Johnson" <pauljohn@ku.edu>
Date: Mon, 18 Jun 2001 13:57:10 -0500
* PR# 1011 *
Subject: R-intro suggestions part II
From: "Paul E. Johnson" <pauljohn@ukans.edu>
Date: Tue, 03 Jul 2001 15:50:06 -0500
* PR# 1136 *
Subject: cex/col/etc. in title(): documentation?
From: Ben Bolker <ben@zoo.ufl.edu>
Date: Mon, 22 Oct 2001 11:55:14 -0400 (EDT)
--MM:actually the documentation still could elaborate a bit..
* PR# 1195 *
Subject: help(dbinom) recommended documentation improvement
From: Rich Heiberger <rmh@surfer.sbm.temple.edu>
Date: Tue, 4 Dec 2001 11:29:58 -0500 (EST)
--This isn't really a bug: the line in question is a plain-text equation, not a
--piece of R code.

Directory:  Graphics

* PR# 202 *
Subject: persp box occlusion bug
From: wsi@gcal.ac.uk
Date: Wed, 2 Jun 1999 15:02:03 +0200 (MET DST)
--The persp algorithm does not apply the occlusion rules to the frame, 
--which is always plotted first. 
--A bug, but not very simple to fix.
* PR# 660 *
Subject: identify.default ignores any setting of cex.
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
Date: Fri, 15 Sep 2000 10:23:39 +0100 (BST)
* PR# 776 *
Subject: strwidth does not take font into account
From: Martyn Plummer <plummer@iarc.fr>
Date: Tue, 19 Dec 2000 14:56:01 +0100 (CET)
--This needs a substantial redesign.
* PR# 791 *
Subject:  par(lab= *) / axis(*) bug 
From: maechler@stat.math.ethz.ch
Date: Fri, 22 Dec 2000 10:59:26 +0100
* PR# 816 *
Subject: dotplot: character size of labels
From: RINNER Heinrich <H.RINNER@TIROL.GV.AT>
Date: Thu, 18 Jan 2001 14:54:32 +0100
--Suggested fix is incorporated in 1.2.2.
--
--There is a deeper problem:  mtext() ignores par(cex=.5) in general.  
--To see the problem try:  par(cex=.5); mtext("hi")
--Paul thinks the right fix is to change the argument list for mtext so that
--cex=par(cex) by default rather than cex=NA by default (plus corresponding
--internal changes to  do_mtext in plot.c).
--This needs to be done very carefully because (i) the change suggested above 
--mayhave side-effects in many other pieces of interpreted code 
--(ii) do_mtext ignores dd->gp.cexbase unlike, for example, do_plot_xy 
--and anything to do with cexbase needs extreme care.
* PR# 820 *
Subject: interaction.plot
From: "Mark M. Span" <span@psy.uva.nl>
Date: Mon, 22 Jan 2001 10:47:39 +0100
--mtext is unscaled by default.  It is not clear if this should
--use the par("cex") setting or an inline cex setting such as cex.axis.
--It might make more sense to use axis rather than mtext, as boxplot does.
* PR# 828 *
Subject: termplot fails for composite non-factor terms
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sat, 27 Jan 2001 11:57:37 +1100 (EST)
--Neither of the proposed changes actually works in sufficient generality.
--
--The easy and unimportant part of this, the labels, is fixed in 1.2.2. Getting
--the data right is a project for 1.3
* PR# 831 *
Subject: screen can't go back to (split) screen with log="y" plot
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 30 Jan 2001 00:39:41 -0500
--Still there. Suggested fix included in followups, but we didn't get around to
--try it in time for 1.2.3.
--
--Fix doesn't work. One problem is that the opar<-par();par(opar) idiom updates
--xaxp before xlog, and the new value of xaxp may only be valid under the new
--value of xlog.
* PR# 837 *
Subject: screen doesn't handle redrawing properly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 01 Feb 2001 14:20:52 -0500
* PR# 887 *
Subject: axis(adj=anything) has no effect
From: jhallman@frb.gov
Date: Wed, 28 Mar 2001 20:51:05 +0200 (MET DST)
* PR# 916 *
Subject:  par(mgp) bug 
From: paul@stat.auckland.ac.nz
Date: Fri, 20 Apr 2001 08:33:45 +1200 (NZST)
* PR# 943 *
Subject: legend() with xpd=T; omission of initial plot character
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sun, 20 May 2001 10:35:16 +1000
* PR# 997 *
Subject:  las=1 with log axis 
From: Peter Dalgaard BSA <pd@pubhealth.ku.dk>
Date: Wed, 27 Jun 2001 11:54:06 +0200
* PR# 1045 *
Subject: Palette changes on redraw
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 08 Aug 2001 19:08:01 +0200
* PR# 1088 *
Subject:  barplot forces xpd=TRUE 
From: Peter Whiting <pwhiting@whitings.org>
Date: Sat, 8 Sep 2001 10:19:00 -0500
* PR# 1147 *
Subject: postscript problem
From: kjetil halvorsen <kjetilh@umsanet.edu.bo>
Date: Fri, 26 Oct 2001 15:23:45 -0400
--This seems to be a problem with screen/layout rather than postscript.
* PR# 1157 *
Subject: identify(...plot=F)
From: Rolf Turner <rolf@maths.uwa.edu.au>
Date: Fri, 2 Nov 2001 09:43:49 +0800 (WST)
* PR# 1161 *
Subject: x-axis label in persp()
From: Rolf Turner <rolf@maths.uwa.edu.au>
Date: Wed, 7 Nov 2001 18:07:22 +0800 (WST)
* PR# 1207 *
Subject: boxplot labels incorrect when horizontal = TRUE
From: Rashid Nassar <rnassar@duke.edu>
Date: Sun, 9 Dec 2001 21:46:32 -0500 (EST)

Directory:  In-Out

none

Directory:  Installation

* PR# 1222 *
Subject: configure: sed: Function s%@PDFLATEX@%/usr/local/bin/pdflatex%g
From: Peter Kleiweg <kleiweg@let.rug.nl>
Date: Thu, 20 Dec 2001 14:09:42 +0100 (CET)
--problem is on hppa2.0-hp-hpux10.20: may be HP-UX specific

Directory:  Language

* PR# 408 *
Subject: convolution bug
From: wsimpson@gcal.ac.uk
Date: Fri, 28 Jan 2000 11:17:36 +0100 (MET)
* PR# 412 *
Subject: anomalies with call objects
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 06 Feb 2000 01:18:50 +0100
* PR# 669 *
Subject: Bug(s) w/ rbind.data.frame(); fix also read.table(*, as.is = TRUE) ?
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Mon, 25 Sep 2000 10:17:15 +0200
--status of AsIs columns
* PR# 921 *
Subject:  Managed to confuse match.arg 
From: J.C.Rougier@durham.ac.uk
Date: Wed, 25 Apr 2001 12:22:54 +0100 (BST)
* PR# 1073 *
Subject: Wierd problem comparing numeric values and list using ==
From: "Warnes, Gregory R" <gregory_r_warnes@groton.pfizer.com>
Date: Fri, 24 Aug 2001 22:07:41 -0400
--see also PR#1075
* PR# 1076 *
Subject: Re: [Rd] Wierd problem comparing numeric values and list using == 
From: John Chambers <jmc@research.bell-labs.com>
Date: Mon, 27 Aug 2001 08:44:22 -0400
--part of PR#1073
* PR# 1193 *
Subject: Re: [R] appending similar data frames?
From: Thomas Lumley <tlumley@u.washington.edu>
Date: Mon, 3 Dec 2001 13:46:35 -0800 (PST)
* PR# 1214 *
Subject: syntax questtion, maybe a bug
From: Rich Heiberger <rmh@surfer.sbm.temple.edu>
Date: Thu, 13 Dec 2001 13:46:54 -0500 (EST)
--Is .2logl meant to be a valid name in R? It is S

Directory:  Low-level

* PR# 989 *
Subject: "[.data.frame" allows un-named 3rd subscript
From: "Charles C. Berry" <cberry@tajo.ucsd.edu>
Date: Mon, 18 Jun 2001 13:13:46 -0700 (PDT)
* PR# 1063 *
Subject: interrupting Sys.sleep
From: Thomas Lumley <tlumley@u.washington.edu>
Date: Mon, 20 Aug 2001 13:55:29 -0700 (PDT)
* PR# 1068 *
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
From: Luke Tierney <luke@nokomis.stat.umn.edu>
Date: Wed, 22 Aug 2001 19:32:51 -0500
--see also followup in PR#1069
* PR# 1069 *
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
From: "John W. Eaton" <jwe@bevo.che.wisc.edu>
Date: Wed, 22 Aug 2001 21:56:33 -0500
--part of PR#1068
* PR# 1120 *
Subject: bug in write.table?
From: Ott Toomet <siim@obs.ee>
Date: Sun, 7 Oct 2001 18:24:34 +0200 (CEST)
--Traced down to an effect of read.dta in foreign interacting with do_paste. Fixed
--in foreign, but do_paste may need to use strlen() rather than LENGTH().
--
* PR# 1211 *
Subject: crash bug in get("function.name")()
From: Rich Heiberger <rmh@surfer.sbm.temple.edu>
Date: Tue, 11 Dec 2001 17:34:07 -0500 (EST)

Directory:  Macintosh

none

Directory:  Misc

* PR# 1126 *
Subject: R-bug report www page whishlist
From: jens.lund@nordea.com
Date: Wed, 10 Oct 2001 18:24:29 +0200 (MET DST)
* PR# 1158 *
Subject: bug.report()sends empty message
From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
Date: Mon, 05 Nov 2001 10:05:27 -0500

Directory:  Models

none

Directory:  Startup

none

Directory:  System-specific

* PR# 848 *
Subject: X11 device doesn't handle destroy events correcly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 13 Feb 2001 17:40:46 -0500
* PR# 1020 *
Subject: .Call and Mandrake 8.0
From: lcottret@yahoo.fr
Date: Wed, 11 Jul 2001 15:34:23 +0200 (MET DST)
--problem with symbol names only on Mandrake 8.0, not 7.2
--needs reply to follow-up
* PR# 1097 *
Subject: R 1.3.1 fails 'make check' on arm in the Bessel example
From: Dirk Eddelbuettel <edd@debian.org>
Date: Thu, 20 Sep 2001 23:54:19 -0500
* PR# 1140 *
Subject: Possible bug, Rprof() and scan(pipe())
From: Don MacQueen <macq@llnl.gov>
Date: Tue, 23 Oct 2001 13:50:26 -0700
--Doesn't happen on Solaris or Linux
* PR# 1145 *
Subject: Problem testing R version 1.3.1 on SGI Irix
From: Gordon Lack <gml4410@ggr.co.uk>
Date: Fri, 26 Oct 2001 19:04:04 +0100
--error from using SGI libblas (not reported on other systems?)
--use --without-blas
* PR# 1215 *
Subject: Error when library() called with no arguments
From: rpeng@stat.ucla.edu
Date: Thu, 13 Dec 2001 20:51:21 +0100 (MET)
--not reproducible even on other RH7.1 systems

Directory:  TooMuchAtOnce

* PR# 1110 *
Subject: Several R vs S-Plus issues
From: David Brahm  <a215020@agate.fmr.com>
Date: Wed, 3 Oct 2001 11:35:58 -0400 (EDT)
--1. is perhaps a bug -- the best handling of string NAs is under discussion
--
--2 & 4 are just S-PLUS incompatibilities
--
--3. May be a bug -- worth checking.

Directory:  Windows

none

Directory:  incoming

* PR# 1186 *
Subject: a patch to tapply
From: Vadim Ogranovich <vograno@arbitrade.com>
Date: Thu, 29 Nov 2001 14:48:35 -0600
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jabraham@ucalgary.ca  Fri Dec 21 18:51:34 2001
From: jabraham@ucalgary.ca (jabraham@ucalgary.ca)
Date: Fri, 21 Dec 2001 19:51:34 +0100 (MET)
Subject: [Rd] "at 0x78003b44 referenced memory at 0x00000000" (PR#1225)
Message-ID: <200112211851.TAA02479@pubhealth.ku.dk>

Full_Name: John Abraham
Version: rw1031
OS: Windows 2000 Professional
Submission from: (NULL) (136.159.125.21)


A friend introduced me to "R", and it seems just what I need -- a good
statistical package with an open source
flavour so that, if it doesn't do what I need it to do, I can extend it.

I installed the latest windows binary, and when I try to run it I get a window
that's titled "Rterm.exe - Application Error" and
in the window it says "the instruction at "0x78003b44" referenced memory at
"0x00000000".  The memory could not be "read".

When I bring up the debugger and call up that address, it seems to bring me into
the MSVCRT.strcpy routine.  That's strange.  Now I haven't used an assemby
language debugger for many many years, so maybe I'm misinterpreting this.  But I
notice I have several versions of MSVCRT.dll on my machine, and I'm assuming
that this routine is inside one of these dlls.  So is there a particular
MSVCRT.DLL that I should be using?

Any other ideas?

Really would like to get this working...

John Abraham
jabraham@ucalgary.ca

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Dec 21 19:04:20 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 21 Dec 2001 20:04:20 +0100 (MET)
Subject: [Rd] "at 0x78003b44 referenced memory at 0x00000000" (PR#1225)
Message-ID: <200112211904.UAA02540@pubhealth.ku.dk>

On Fri, 21 Dec 2001 jabraham@ucalgary.ca wrote:

> Full_Name: John Abraham
> Version: rw1031
> OS: Windows 2000 Professional
> Submission from: (NULL) (136.159.125.21)
>
>
> A friend introduced me to "R", and it seems just what I need -- a good
> statistical package with an open source
> flavour so that, if it doesn't do what I need it to do, I can extend it.
>
> I installed the latest windows binary, and when I try to run it I get a window
> that's titled "Rterm.exe - Application Error" and
> in the window it says "the instruction at "0x78003b44" referenced memory at
> "0x00000000".  The memory could not be "read".
>
> When I bring up the debugger and call up that address, it seems to bring me into
> the MSVCRT.strcpy routine.  That's strange.  Now I haven't used an assemby
> language debugger for many many years, so maybe I'm misinterpreting this.  But I
> notice I have several versions of MSVCRT.dll on my machine, and I'm assuming
> that this routine is inside one of these dlls.  So is there a particular
> MSVCRT.DLL that I should be using?
>
> Any other ideas?

If all else fails, read the rw-FAQ?

The information is in there, but there's lot more you need to know, like
the purpose of Rterm.exe vs Rgui.exe.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bellis@hsph.harvard.edu  Fri Dec 21 19:24:25 2001
From: bellis@hsph.harvard.edu (Byron Ellis)
Date: Fri, 21 Dec 2001 14:24:25 -0500 (EST)
Subject: [Rd] "at 0x78003b44 referenced memory at 0x00000000" (PR#1225)
In-Reply-To: <200112211851.TAA02479@pubhealth.ku.dk>
Message-ID: <Pine.GSO.4.10.10112211423330.7320-100000@hsph.harvard.edu>

Ah, you probably need version 6.1 or later of MSVCRT.

Byron Ellis (bellis@hsph.harvard.edu)
"Oook" - The Librarian

On Fri, 21 Dec 2001 jabraham@ucalgary.ca wrote:

> Full_Name: John Abraham
> Version: rw1031
> OS: Windows 2000 Professional
> Submission from: (NULL) (136.159.125.21)
> 
> 
> A friend introduced me to "R", and it seems just what I need -- a good
> statistical package with an open source
> flavour so that, if it doesn't do what I need it to do, I can extend it.
> 
> I installed the latest windows binary, and when I try to run it I get a window
> that's titled "Rterm.exe - Application Error" and
> in the window it says "the instruction at "0x78003b44" referenced memory at
> "0x00000000".  The memory could not be "read".
> 
> When I bring up the debugger and call up that address, it seems to bring me into
> the MSVCRT.strcpy routine.  That's strange.  Now I haven't used an assemby
> language debugger for many many years, so maybe I'm misinterpreting this.  But I
> notice I have several versions of MSVCRT.dll on my machine, and I'm assuming
> that this routine is inside one of these dlls.  So is there a particular
> MSVCRT.DLL that I should be using?
> 
> Any other ideas?
> 
> Really would like to get this working...
> 
> John Abraham
> jabraham@ucalgary.ca
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Fri Dec 21 20:14:09 2001
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich.Leisch@ci.tuwien.ac.at)
Date: Fri, 21 Dec 2001 21:14:09 +0100
Subject: [Rd] CRAN incoming
Message-ID: <15395.38929.928115.876937@galadriel.ci.tuwien.ac.at>


We have improved security measures on CRAN which now includes
accepting no email from outside our domain (a couple of other ports
will be closed, too).

The new email adress to reach the CRAN maintainers (i.e., Kurt and me)
is

	cran@r-project.org

Please use this adress for notification when you upload packages to
CRAN.

Best,

-- 
-------------------------------------------------------------------
                        Friedrich  Leisch 
Institut fr Statistik                     Tel: (+43 1) 58801 10715
Technische Universitt Wien                Fax: (+43 1) 58801 10798
Wiedner Hauptstrae 8-10/1071      Friedrich.Leisch@ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gray@jimmy.harvard.edu  Sun Dec 23 14:06:44 2001
From: gray@jimmy.harvard.edu (gray@jimmy.harvard.edu)
Date: Sun, 23 Dec 2001 15:06:44 +0100 (MET)
Subject: [Rd] problem in predict.mlm (PR#1226)
Message-ID: <200112231406.PAA07548@pubhealth.ku.dk>

predict.mlm() does not appear to work properly with newdata specified
(it seems to ignore newdata in my applications).  I suggest replacing

  X <- model.matrix(object, newdata)

with something like 

  X <- model.matrix(delete.response(terms(object)), newdata)

(see the corresponding section in predict.lm()).
--
Bob Gray

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From possolo@crd.ge.com  Tue Dec 25 21:45:48 2001
From: possolo@crd.ge.com (possolo@crd.ge.com)
Date: Tue, 25 Dec 2001 22:45:48 +0100 (MET)
Subject: [Rd] read.table (PR#1227)
Message-ID: <200112252145.WAA12194@pubhealth.ku.dk>

Full_Name: Antonio Possolo
Version: 1.4.0
OS: Linux
Submission from: (NULL) (24.25.141.205)


## inputFile has the following three lines (each without the initial ``## '')
## a,b
## m,1
## n,3
## and resides in $HOME/R

fileHOME <- paste(Sys.getenv("HOME"), "/R/", sep="")
fileNAME <- "inputFile"

## Given the command,

z <- read.table(file=paste(fileHOME, fileNAME, sep=""), sep=",", 
                header=TRUE, row.names=NULL, as.is=TRUE)

## R replies

## stack imbalance in internal type.convert,
##   28 then 27stack imbalance in .Internal, 27 then 26
## stack imbalance in if, 21 then 20
## stack imbalance in <-, 19 then 18
## stack imbalance in {, 17 then 16
## stack imbalance in for, 10 then 9
## stack imbalance in {, 8 then 7
## stack imbalance in <-, 2 then 1
## Error: unprotect(): stack imbalance

## but z is correct.

## The command

z <- read.table(file=paste(fileHOME, fileNAME, sep=""), sep=",", 
                           header=TRUE, row.names=NULL, as.is=TRUE,
                           colClasses=c("character", "numeric"))

## produces the same result without complaints.

## Finally, the command

z <- read.table(file=paste(fileHOME, fileNAME, sep=""), sep=",", 
                           header=TRUE, row.names=NULL, as.is=FALSE)

## also produces a data-frame with the correct elements,
## but z$a is a factor, not a character vector.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Dec 25 23:04:21 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 26 Dec 2001 00:04:21 +0100 (MET)
Subject: [Rd] read.table (PR#1227)
Message-ID: <200112252304.AAA12326@pubhealth.ku.dk>

The main point is already fixed in R-patched.

On Tue, 25 Dec 2001 possolo@crd.ge.com wrote:

> Full_Name: Antonio Possolo
> Version: 1.4.0
> OS: Linux
> Submission from: (NULL) (24.25.141.205)
>
>
> ## inputFile has the following three lines (each without the initial ``## '')
> ## a,b
> ## m,1
> ## n,3
> ## and resides in $HOME/R
>
> fileHOME <- paste(Sys.getenv("HOME"), "/R/", sep="")
> fileNAME <- "inputFile"
>
> ## Given the command,
>
> z <- read.table(file=paste(fileHOME, fileNAME, sep=""), sep=",",
>                 header=TRUE, row.names=NULL, as.is=TRUE)
>
> ## R replies
>
> ## stack imbalance in internal type.convert,
> ##   28 then 27stack imbalance in .Internal, 27 then 26
> ## stack imbalance in if, 21 then 20
> ## stack imbalance in <-, 19 then 18
> ## stack imbalance in {, 17 then 16
> ## stack imbalance in for, 10 then 9
> ## stack imbalance in {, 8 then 7
> ## stack imbalance in <-, 2 then 1
> ## Error: unprotect(): stack imbalance
>
> ## but z is correct.
>
> ## The command
>
> z <- read.table(file=paste(fileHOME, fileNAME, sep=""), sep=",",
>                            header=TRUE, row.names=NULL, as.is=TRUE,
>                            colClasses=c("character", "numeric"))
>
> ## produces the same result without complaints.

Yes, and as this is much preferable, the previous case never got
tested!  Leave as.is= out ...

> ## Finally, the command
>
> z <- read.table(file=paste(fileHOME, fileNAME, sep=""), sep=",",
>                            header=TRUE, row.names=NULL, as.is=FALSE)
>
> ## also produces a data-frame with the correct elements,
> ## but z$a is a factor, not a character vector.

If as.is=FALSE, character inputs are documented to be converted to
factors, so where is the bug?

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From paradis@isem.univ-montp2.fr  Wed Dec 26 12:07:57 2001
From: paradis@isem.univ-montp2.fr (paradis@isem.univ-montp2.fr)
Date: Wed, 26 Dec 2001 13:07:57 +0100 (MET)
Subject: [Rd] bug with var(rep(1e30, 3)) (PR#1228)
Message-ID: <200112261207.NAA13242@pubhealth.ku.dk>

There seems to be a bug with var() when the argument is a vector with
exactly three values of 1e30 (or close to this value). This does not happen
with twice, four (or more) times this value, or another value.


> var(rep(1e30, 3))
[1] 2.971056e+28
> var(rep(1.2e30, 3))
[1] 2.971056e+28
> var(rep(0.9e30, 3))
[1] 2.971056e+28
> var(rep(0.8e30, 3))
[1] 0
> var(rep(1e29, 3))
[1] 0
> var(rep(1e30, 2))
[1] 0
> var(rep(1e30, 4))
[1] 0
> var(rep(1e31, 3))
[1] 0


The bug is repeatable, and I got the same results with R 1.3.1 (binary from
CRAN) and R 1.4.0 (binary from BD Ripley's site) both on Windows NT, and R
1.4.0 on Solaris (compiled from sources).



Emmanuel Paradis
Laboratoire de Palontologie
Institut des Sciences de l'volution
Universit Montpellier II
F-34095 Montpellier cdex 05
France
   phone: +33  4 67 14 39 64
     fax: +33  4 67 14 36 10
  mailto:paradis@isem.univ-montp2.fr

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Dec 26 14:31:27 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Dec 2001 15:31:27 +0100
Subject: [Rd] bug with var(rep(1e30, 3)) (PR#1228)
In-Reply-To: <200112261207.NAA13242@pubhealth.ku.dk>
References: <200112261207.NAA13242@pubhealth.ku.dk>
Message-ID: <x2heqet5mo.fsf@blueberry.kubism.ku.dk>

paradis@isem.univ-montp2.fr writes:

> There seems to be a bug with var() when the argument is a vector with
> exactly three values of 1e30 (or close to this value). This does not happen
> with twice, four (or more) times this value, or another value.
> 
> 
> > var(rep(1e30, 3))
> [1] 2.971056e+28
> > var(rep(1.2e30, 3))
> [1] 2.971056e+28
> > var(rep(0.9e30, 3))
> [1] 2.971056e+28
> > var(rep(0.8e30, 3))
> [1] 0
> > var(rep(1e29, 3))
> [1] 0
> > var(rep(1e30, 2))
> [1] 0
> > var(rep(1e30, 4))
> [1] 0
> > var(rep(1e31, 3))
> [1] 0
> 
> 
> The bug is repeatable, and I got the same results with R 1.3.1 (binary from
> CRAN) and R 1.4.0 (binary from BD Ripley's site) both on Windows NT, and R
> 1.4.0 on Solaris (compiled from sources).

Not a bug, roundoff:

> (1e30+1e30+1e30)/3-1e30
[1] 1.407375e+14
> 3*((1e30+1e30+1e30)/3-1e30)^2/2
[1] 2.971056e+28

Relative errors of the order 1e-16 are completely expectable in
floating point arithmetic.

For illustration, look at it in octal, after removing a bunch of
trailing zeroes:

> x<-1e30/(8^16)
> structure(x, class="octmode")
[1] "144762623464043165"
> structure(x+x+x, class="octmode")
[1] "456730272634151540"

If you look carefully, you will see that a bit is lost in the process
since 5+5+5 is 17 octal.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Dec 26 15:52:57 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 26 Dec 2001 16:52:57 +0100 (MET)
Subject: [Rd] bug with var(rep(1e30, 3)) (PR#1228)
Message-ID: <200112261552.QAA13692@pubhealth.ku.dk>

But there are better algorithms that are not subject to this sort
of rounding error.

I reckon that computing a variance this way is not the quality of
algorithm one should expect from R.

On 26 Dec 2001, Peter Dalgaard BSA wrote:

> paradis@isem.univ-montp2.fr writes:
>
> > There seems to be a bug with var() when the argument is a vector with
> > exactly three values of 1e30 (or close to this value). This does not happen
> > with twice, four (or more) times this value, or another value.
> >
> >
> > > var(rep(1e30, 3))
> > [1] 2.971056e+28
> > > var(rep(1.2e30, 3))
> > [1] 2.971056e+28
> > > var(rep(0.9e30, 3))
> > [1] 2.971056e+28
> > > var(rep(0.8e30, 3))
> > [1] 0
> > > var(rep(1e29, 3))
> > [1] 0
> > > var(rep(1e30, 2))
> > [1] 0
> > > var(rep(1e30, 4))
> > [1] 0
> > > var(rep(1e31, 3))
> > [1] 0
> >
> >
> > The bug is repeatable, and I got the same results with R 1.3.1 (binary from
> > CRAN) and R 1.4.0 (binary from BD Ripley's site) both on Windows NT, and R
> > 1.4.0 on Solaris (compiled from sources).
>
> Not a bug, roundoff:
>
> > (1e30+1e30+1e30)/3-1e30
> [1] 1.407375e+14
> > 3*((1e30+1e30+1e30)/3-1e30)^2/2
> [1] 2.971056e+28
>
> Relative errors of the order 1e-16 are completely expectable in
> floating point arithmetic.
>
> For illustration, look at it in octal, after removing a bunch of
> trailing zeroes:
>
> > x<-1e30/(8^16)
> > structure(x, class="octmode")
> [1] "144762623464043165"
> > structure(x+x+x, class="octmode")
> [1] "456730272634151540"
>
> If you look carefully, you will see that a bit is lost in the process
> since 5+5+5 is 17 octal.
>
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Dec 26 17:01:17 2001
From: p.dalgaard@biostat.ku.dk (p.dalgaard@biostat.ku.dk)
Date: Wed, 26 Dec 2001 18:01:17 +0100 (MET)
Subject: [Rd] bug with var(rep(1e30, 3)) (PR#1228)
Message-ID: <200112261701.SAA13883@pubhealth.ku.dk>

Prof Brian Ripley <ripley@stats.ox.ac.uk> writes:

> But there are better algorithms that are not subject to this sort
> of rounding error.
> 
> I reckon that computing a variance this way is not the quality of
> algorithm one should expect from R.

Hmm. Which algorithms are there? Surely almost any kind of provisional
means subtraction could avoid the the extreme case where the mean of a
bunch of identical numbers is different from all of them, but will it
also improve precision in the general case?

Essentially our current algorithm in cov.c is

xm<- sum(x)/n
v <- 1/(n-1)*sum((x-xm)^2)

> > > x<-1e30/(8^16)
> > > structure(x, class="octmode")
> > [1] "144762623464043165"
> > > structure(x+x+x, class="octmode")
> > [1] "456730272634151540"
> >
> > If you look carefully, you will see that a bit is lost in the process
> > since 5+5+5 is 17 octal.


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From hb@maths.lth.se  Thu Dec 27 10:23:15 2001
From: hb@maths.lth.se (hb@maths.lth.se)
Date: Thu, 27 Dec 2001 11:23:15 +0100 (MET)
Subject: [Rd] RGui/R Console crashes when entering illegal symbols (PR#1229)
Message-ID: <200112271023.LAA15931@pubhealth.ku.dk>

Full_Name: Henrik Bengtsson
Version: v1.4.0 (2001-12-19)
OS: WinMe
Submission from: (NULL) (217.208.14.137)


When typing/pasting "" (UK pound), "" (sun/star), "" (paragraph), "" (1/2
char) etc in the R Console window the RGui environment crashes. I noticed this
first in R v1.4.0 (2001-12-19 by B. Ripley), but it also happens in R v1.3.1. 

The symbols above are on my keyboard which makes it easy crash R by mistake. I
addition to typing and paste these symbols, I also tried to enter a few other
characters by using Alt-NumKeys (http://www.asciitable.com/) and I found that
several other symbols with ASCII >127 crash the RGui.

Happy New Year and thanks

Henrik Bengtsson


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Dec 27 11:18:07 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 27 Dec 2001 12:18:07 +0100 (MET)
Subject: [Rd]  (PR#1229) RGui/R Console crashes when entering illegal
Message-ID: <200112271118.MAA16417@pubhealth.ku.dk>

This is answered in the rw-FAQ, Q2.12!  It is not a problem with R, but
with your installation of Windows.

*PLEASE* do not report FAQs as bugs: it a complete waste of the
developers' time.

On Thu, 27 Dec 2001 hb@maths.lth.se wrote:

> Full_Name: Henrik Bengtsson
> Version: v1.4.0 (2001-12-19)
> OS: WinMe
> Submission from: (NULL) (217.208.14.137)
>
>
> When typing/pasting "" (UK pound), "" (sun/star), "" (paragraph), "" (1/2
> char) etc in the R Console window the RGui environment crashes. I noticed this
> first in R v1.4.0 (2001-12-19 by B. Ripley), but it also happens in R v1.3.1.
>
> The symbols above are on my keyboard which makes it easy crash R by mistake. I
> addition to typing and paste these symbols, I also tried to enter a few other
> characters by using Alt-NumKeys (http://www.asciitable.com/) and I found that
> several other symbols with ASCII >127 crash the RGui.
>
> Happy New Year and thanks
>
> Henrik Bengtsson
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.__._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Dec 27 11:28:46 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 27 Dec 2001 12:28:46 +0100 (MET)
Subject: [Rd] scale in stars() is not as documented (PR#1230)
Message-ID: <200112271128.MAA16486@pubhealth.ku.dk>

R 1.4.0

?stars has

   scale: logical flag: if `TRUE', the columns of the data matrix are
          scaled independently so that the maximum value in each column
          is 1 and the minimum is 0.  If `FALSE', the presumption is
          that the data have been scaled by some other algorithm to the
          range [0,1].

but the code has

    if (scale) {
        x <- sweep(x, 2, apply(x, 2, max), FUN = "/")
        x[is.na(x)] <- 0
    }

and so just linearly (not affinely) scales the maximum to one. The result
is very different star plots from the S original.  Try

stars(state.x77[, c(7, 4, 6, 2, 5, 3)])

compared to

stars(state.x77[, c(7, 4, 6, 2, 5, 3)], byrow = T) # in S

I suspect we should fix the code, but does anyone rely on it?


BTW, it is hard to think of a more inefficient way to write that
scaling!

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kevin.Wright@pioneer.com  Thu Dec 27 21:52:59 2001
From: Kevin.Wright@pioneer.com (Kevin.Wright@pioneer.com)
Date: Thu, 27 Dec 2001 22:52:59 +0100 (MET)
Subject: [Rd] reshape error in 1.4 (PR#1231)
Message-ID: <200112272152.WAA18855@pubhealth.ku.dk>

Full_Name: Kevin Wright
Version: 1.4
OS: Windows 95
Submission from: (NULL) (170.54.59.160)


Note: This was the 1.4 build for Windows that Brian Ripley made available.

The first example in the help for reshape doesn't work for me.  When I cut and
paste, this is what happens:

>      data(Indometh,package="nls")
>      summary(Indometh)
 Subject      time            conc       
 1:11    Min.   :0.250   Min.   :0.0500  
 4:11    1st Qu.:0.750   1st Qu.:0.1100  
 2:11    Median :2.000   Median :0.3400  
 5:11    Mean   :2.886   Mean   :0.5918  
 6:11    3rd Qu.:5.000   3rd Qu.:0.8325  
 3:11    Max.   :8.000   Max.   :2.7200  
>      wide<-reshape(Indometh,v.names="conc",idvar="Subject",
+                     timevar="time",direction="wide")
Error in tapply(a, data[, idvar], function(b) length(unique(b)) == 1) : 
        arguments must have same length

> version
         _              
platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    4.0            
year     2001           
month    12             
day      19             
language R              


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Thu Dec 27 22:10:45 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 Dec 2001 23:10:45 +0100
Subject: [Rd] reshape error in 1.4 (PR#1231)
In-Reply-To: <200112272152.WAA18855@pubhealth.ku.dk>
References: <200112272152.WAA18855@pubhealth.ku.dk>
Message-ID: <x27kr8mhzu.fsf@blueberry.kubism.ku.dk>

Kevin.Wright@pioneer.com writes:

> Full_Name: Kevin Wright
> Version: 1.4
> OS: Windows 95
> Submission from: (NULL) (170.54.59.160)
> 
> 
> Note: This was the 1.4 build for Windows that Brian Ripley made available.
> 
> The first example in the help for reshape doesn't work for me.  When I cut and
> paste, this is what happens:
> 
> >      data(Indometh,package="nls")
> >      summary(Indometh)
>  Subject      time            conc       
>  1:11    Min.   :0.250   Min.   :0.0500  
>  4:11    1st Qu.:0.750   1st Qu.:0.1100  
>  2:11    Median :2.000   Median :0.3400  
>  5:11    Mean   :2.886   Mean   :0.5918  
>  6:11    3rd Qu.:5.000   3rd Qu.:0.8325  
>  3:11    Max.   :8.000   Max.   :2.7200  
> >      wide<-reshape(Indometh,v.names="conc",idvar="Subject",
> +                     timevar="time",direction="wide")
> Error in tapply(a, data[, idvar], function(b) length(unique(b)) == 1) : 
>         arguments must have same length

This doesn't appear to be reproducible on non-Windows machines, and
I'd suspect that Brian checks quite carefully for this kind of thing
on Windows as well. You wouldn't happen to have something floating
around in your workspace that could get in the way? Otherwise try
turning on debug(reshape) and when it is defined also
debug(reshapeWide). Then tell us what is in a and data[, idvar] when
the problem appears.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Thu Dec 27 22:26:42 2001
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Thu, 27 Dec 2001 14:26:42 -0800 (PST)
Subject: [Rd] reshape error in 1.4 (PR#1231)
In-Reply-To: <x27kr8mhzu.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.A41.4.33.0112271424000.79082-100000@homer09.u.washington.edu>

On 27 Dec 2001, Peter Dalgaard BSA wrote:

> Kevin.Wright@pioneer.com writes:
>
> > Full_Name: Kevin Wright
> > Version: 1.4
> > OS: Windows 95
> > Submission from: (NULL) (170.54.59.160)
> >
> >
> > Note: This was the 1.4 build for Windows that Brian Ripley made available.
> >
> > The first example in the help for reshape doesn't work for me.  When I cut and
> > paste, this is what happens:


I don't have that build, but the example definitely works in the windows
version that Guido announced, which I think is going to be on CRAN very
soon.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Dec 28 08:30:47 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 28 Dec 2001 09:30:47 +0100 (MET)
Subject: [Rd] reshape error in 1.4 (PR#1231)
Message-ID: <200112280830.JAA20176@pubhealth.ku.dk>

On 27 Dec 2001, Peter Dalgaard BSA wrote:

> Kevin.Wright@pioneer.com writes:
>
> > Full_Name: Kevin Wright
> > Version: 1.4
> > OS: Windows 95
> > Submission from: (NULL) (170.54.59.160)
> >
> >
> > Note: This was the 1.4 build for Windows that Brian Ripley made available.
> >
> > The first example in the help for reshape doesn't work for me.  When I cut and
> > paste, this is what happens:
> >
> > >      data(Indometh,package="nls")
> > >      summary(Indometh)
> >  Subject      time            conc
> >  1:11    Min.   :0.250   Min.   :0.0500
> >  4:11    1st Qu.:0.750   1st Qu.:0.1100
> >  2:11    Median :2.000   Median :0.3400
> >  5:11    Mean   :2.886   Mean   :0.5918
> >  6:11    3rd Qu.:5.000   3rd Qu.:0.8325
> >  3:11    Max.   :8.000   Max.   :2.7200
> > >      wide<-reshape(Indometh,v.names="conc",idvar="Subject",
> > +                     timevar="time",direction="wide")
> > Error in tapply(a, data[, idvar], function(b) length(unique(b)) == 1) :
> >         arguments must have same length
>
> This doesn't appear to be reproducible on non-Windows machines, and
> I'd suspect that Brian checks quite carefully for this kind of thing
> on Windows as well. You wouldn't happen to have something floating
> around in your workspace that could get in the way? Otherwise try
> turning on debug(reshape) and when it is defined also
> debug(reshapeWide). Then tell us what is in a and data[, idvar] when
> the problem appears.

Yes, example(reshape) works on that build on the machine on which it was
built.  Running all the examples is part of make check, so if they fail
for you it is very likely to be a local problem.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kevin.wright@pioneer.com  Fri Dec 28 14:45:51 2001
From: kevin.wright@pioneer.com (kevin.wright@pioneer.com)
Date: Fri, 28 Dec 2001 15:45:51 +0100 (MET)
Subject: [Rd] reshape error in 1.4 (PR#1231)
Message-ID: <200112281445.PAA22596@pubhealth.ku.dk>

Thanks for the replies.

For whatever reason, installing the "official" version solved the problem.

Kevin Wright

> -----Original Message-----
> From: Prof Brian Ripley [mailto:ripley@stats.ox.ac.uk]
> Sent: Friday, December 28, 2001 2:30 AM
> To: Peter Dalgaard BSA
> Cc: Wright, Kevin; R-bugs@biostat.ku.dk
> Subject: Re: [Rd] reshape error in 1.4 (PR#1231)
> 
> 
> On 27 Dec 2001, Peter Dalgaard BSA wrote:
> 
> > Kevin.Wright@pioneer.com writes:
> >
> > > Full_Name: Kevin Wright
> > > Version: 1.4
> > > OS: Windows 95
> > > Submission from: (NULL) (170.54.59.160)
> > >
> > >
> > > Note: This was the 1.4 build for Windows that Brian 
> Ripley made available.
> > >
> > > The first example in the help for reshape doesn't work 
> for me.  When I cut and
> > > paste, this is what happens:
> > >
> > > >      data(Indometh,package="nls")
> > > >      summary(Indometh)
> > >  Subject      time            conc
> > >  1:11    Min.   :0.250   Min.   :0.0500
> > >  4:11    1st Qu.:0.750   1st Qu.:0.1100
> > >  2:11    Median :2.000   Median :0.3400
> > >  5:11    Mean   :2.886   Mean   :0.5918
> > >  6:11    3rd Qu.:5.000   3rd Qu.:0.8325
> > >  3:11    Max.   :8.000   Max.   :2.7200
> > > >      wide<-reshape(Indometh,v.names="conc",idvar="Subject",
> > > +                     timevar="time",direction="wide")
> > > Error in tapply(a, data[, idvar], function(b) 
> length(unique(b)) == 1) :
> > >         arguments must have same length
> >
> > This doesn't appear to be reproducible on non-Windows machines, and
> > I'd suspect that Brian checks quite carefully for this kind of thing
> > on Windows as well. You wouldn't happen to have something floating
> > around in your workspace that could get in the way? Otherwise try
> > turning on debug(reshape) and when it is defined also
> > debug(reshapeWide). Then tell us what is in a and data[, idvar] when
> > the problem appears.
> 
> Yes, example(reshape) works on that build on the machine on 
> which it was
> built.  Running all the examples is part of make check, so if 
> they fail
> for you it is very likely to be a local problem.
> 
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From james.holtman@convergys.com  Sat Dec 29 20:29:28 2001
From: james.holtman@convergys.com (james.holtman@convergys.com)
Date: Sat, 29 Dec 2001 21:29:28 +0100 (MET)
Subject: [Rd] Slow 'read.table' in R 1.4.0 (PR#1232)
Message-ID: <200112292029.VAA26005@pubhealth.ku.dk>

The 'read.table' function appears to be up to 10X slower in R 1.4.0 than R
1.3.1 for some of the data sets I read in.  I was comparing the source code
for the 2 versions and see that it was rewritten in R 1.4.0.

I think I found out what part of the problem might be.  I was comparing
R1.3.1 and R1.4.0 code and it appears that a statement is missing in some
of the code for R 1.4.  This is the section of code at the beginning of
read.table.  The loop starting with 'while (nlines < 5)' will read in the
entire file, because there is no increment of 'nlines' in the loop.  I
traced through the code  and this is what was happening.  It then does a
'pushBack' of the entire file.  In tracing through the code, this is where
is appears to be taking the time.  With the change noted below, the speed
was similar to R 1.3.1 and the results were the same.

Here is the current code with what I think is the additional statement
needed:

=================part of read.table========

    nlines <- 0
    lines <- NULL
    while (nlines < 5) {
        line <- readLines(file, 1, ok = TRUE)
        if (length(line) == 0)
            break
        if (blank.lines.skip && length(grep("^[ \\t]*$", line)))
            next
        if (length(comment.char) && nchar(comment.char)) {
            pattern <- paste("^[ \\t]*", substring(comment.char,
                1, 1), sep = "")
            if (length(grep(pattern, line)))
                next
        }
        lines <- c(lines, line)
       #
       #  additional line required
       #
       nlines <- nlines+1
    }
    nlines <- length(lines)
    if (!nlines) {
        if (missing(col.names))
            stop("no lines available in input")
        else {
            tmp <- vector("list", length(col.names))
            names(tmp) <- col.names
            class(tmp) <- "data.frame"
            return(tmp)
        }
    }
    if (all(nchar(lines) == 0))
        stop("empty beginning of file")
    pushBack(c(lines, lines), file)

--

NOTICE:  The information contained in this electronic mail transmission is
intended by Convergys Corporation for the use of the named individual or
entity to which it is directed and may contain information that is
privileged or otherwise confidential.  If you have received this electronic
mail transmission in error, please delete it from your system without
copying or forwarding it, and notify the sender of the error by reply email
or by telephone (collect), so that the sender's address records can be
corrected.



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sat Dec 29 21:25:39 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 29 Dec 2001 22:25:39 +0100 (MET)
Subject: [Rd] Slow 'read.table' in R 1.4.0 (PR#1232)
Message-ID: <200112292125.WAA26095@pubhealth.ku.dk>

As I have told you privately several days ago,

*This has already been fixed in R-patched*.


On Sat, 29 Dec 2001 james.holtman@convergys.com wrote:

> The 'read.table' function appears to be up to 10X slower in R 1.4.0 than R
> 1.3.1 for some of the data sets I read in.  I was comparing the source code
> for the 2 versions and see that it was rewritten in R 1.4.0.
>
> I think I found out what part of the problem might be.  I was comparing
> R1.3.1 and R1.4.0 code and it appears that a statement is missing in some
> of the code for R 1.4.  This is the section of code at the beginning of
> read.table.  The loop starting with 'while (nlines < 5)' will read in the
> entire file, because there is no increment of 'nlines' in the loop.  I
> traced through the code  and this is what was happening.  It then does a
> 'pushBack' of the entire file.  In tracing through the code, this is where
> is appears to be taking the time.  With the change noted below, the speed
> was similar to R 1.3.1 and the results were the same.
>
> Here is the current code with what I think is the additional statement
> needed:
>
> =================part of read.table========
>
>     nlines <- 0
>     lines <- NULL
>     while (nlines < 5) {
>         line <- readLines(file, 1, ok = TRUE)
>         if (length(line) == 0)
>             break
>         if (blank.lines.skip && length(grep("^[ \\t]*$", line)))
>             next
>         if (length(comment.char) && nchar(comment.char)) {
>             pattern <- paste("^[ \\t]*", substring(comment.char,
>                 1, 1), sep = "")
>             if (length(grep(pattern, line)))
>                 next
>         }
>         lines <- c(lines, line)
>        #
>        #  additional line required
>        #
>        nlines <- nlines+1
>     }
>     nlines <- length(lines)
>     if (!nlines) {
>         if (missing(col.names))
>             stop("no lines available in input")
>         else {
>             tmp <- vector("list", length(col.names))
>             names(tmp) <- col.names
>             class(tmp) <- "data.frame"
>             return(tmp)
>         }
>     }
>     if (all(nchar(lines) == 0))
>         stop("empty beginning of file")
>     pushBack(c(lines, lines), file)
>
> --
>
> NOTICE:  The information contained in this electronic mail transmission is
> intended by Convergys Corporation for the use of the named individual or
> entity to which it is directed and may contain information that is
> privileged or otherwise confidential.  If you have received this electronic
> mail transmission in error, please delete it from your system without
> copying or forwarding it, and notify the sender of the error by reply email
> or by telephone (collect), so that the sender's address records can be
> corrected.
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jago@mclink.it  Sun Dec 30 21:20:23 2001
From: jago@mclink.it (Stefano Iacus)
Date: Sun, 30 Dec 2001 22:20:23 +0100
Subject: [Rd] ifs estimator
Message-ID: <090E8430-FD6B-11D5-B2FA-003065CC4CB8@mclink.it>

Hy all,

I have written a small library that provide a new distribution function 
estimator based on IFS (that are essentially fractals).

I would be pleased if any of you can build hte library for Unix-type 
machines and Windows implementations with the included makefiles as a 
Mac library is already working. As I'm not able to test these platforms 
any modification to makefiles is welcome.

I have put something (src and Monte Carlo results) at

http://159.149.74.117/~web/R/ifs/

This is a very preliminary release of the library and only the basic 
estimator is contained in it. We (me and D. La Torre) are working on 
smarter estimators and also on density estimators.

On that page there is also some theory on the subject at a very 
preliminary stage as a full paper will follow in 2002.

thank you for your attention and I wish you an happy new year.

			Stefano

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Mon Dec 31 13:12:43 2001
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Mon, 31 Dec 2001 14:12:43 +0100
Subject: [Rd] ifs estimator
In-Reply-To: <090E8430-FD6B-11D5-B2FA-003065CC4CB8@mclink.it>
References: <090E8430-FD6B-11D5-B2FA-003065CC4CB8@mclink.it>
Message-ID: <15408.25675.538679.627892@gargle.gargle.HOWL>

>>>>> "Stefano" == Stefano Iacus <jago@mclink.it> writes:

    Stefano> Hy all, I have written a small library that provide

((it's called  ``package''  , not library ... ))

    Stefano> a new distribution function estimator based on IFS
    Stefano> (that are essentially fractals).

    Stefano> I would be pleased if any of you can build hte
    Stefano> library for Unix-type machines and Windows
    Stefano> implementations with the included makefiles as a
    Stefano> Mac library is already working. As I'm not able to
    Stefano> test these platforms any modification to makefiles
    Stefano> is welcome.

    Stefano> I have put something (src and Monte Carlo results)
    Stefano> at

    Stefano> http://159.149.74.117/~web/R/ifs/

    Stefano> This is a very preliminary release of the library
    Stefano> and only the basic estimator is contained in it. We
    Stefano> (me and D. La Torre) are working on smarter
    Stefano> estimators and also on density estimators.

I had to change DESCRIPTION.in (this is for R standard
 packages!!) to DESCRIPTION
{and then you don't need a TITLE file anymore).

Also the file permissions were wrong in quite a few places, you
had extra executable permission on simple text files.

    Stefano> On that page there is also some theory on the
    Stefano> subject at a very preliminary stage as a full paper
    Stefano> will follow in 2002.
(fine).

Note that I would recommend using a tests/ subdirectory
where you'd put some of the code currently in your (separately
packaged) ifs demo.

After the above changes, `R CMD check' only reports two
remaining problem groups :

1)
 >> * checking Rd files ... WARNING
 >> *  non-standard keyword(s) in `man/ifs.Rd': distribution function estimation

Note that you must choose from <RHOME>/doc/KEYWORDS

2)

 >>   * checking for undocumented objects ... WARNING
 >>   [1] "phi"    "SM.IFS"
 
 {you have to decide what to do here}.


    Stefano> thank you for your attention and I wish you an
    Stefano> happy new year.

The same to you and all other R-develers!

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From maechler@stat.math.ethz.ch  Mon Dec 31 13:40:04 2001
From: maechler@stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Mon, 31 Dec 2001 14:40:04 +0100 (MET)
Subject: [Rd] scale in stars() is not as documented (PR#1230)
Message-ID: <200112311340.OAA00678@pubhealth.ku.dk>

>>>>> "BDR" == Brian D Ripley <ripley@stats.ox.ac.uk> writes:

    BDR> R 1.4.0 ?stars has

    BDR>    scale: logical flag: if `TRUE', the columns of the
    BDR> data matrix are scaled independently so that the
    BDR> maximum value in each column is 1 and the minimum is 0.
    BDR> If `FALSE', the presumption is that the data have been
    BDR> scaled by some other algorithm to the range [0,1].

    BDR> but the code has

    BDR>     if (scale) { x <- sweep(x, 2, apply(x, 2, max), FUN
    BDR> = "/") x[is.na(x)] <- 0 }

    BDR> and so just linearly (not affinely) scales the maximum
    BDR> to one. The result is very different star plots from
    BDR> the S original.  Try

    BDR> stars(state.x77[, c(7, 4, 6, 2, 5, 3)])

    BDR> compared to

    BDR> stars(state.x77[, c(7, 4, 6, 2, 5, 3)], byrow = T) # in S

    BDR> I suspect we should fix the code, but does anyone rely
    BDR> on it?



    BDR> BTW, it is hard to think of a more inefficient way to
    BDR> write that scaling!

Thank you, Brian, for fixing it (for R-patched i.e. R 1.4.1 to be).

Note that the scale thing all came from the original 

  ### T. Dye <tdye@lava.net>, July 1999
  ### This code started life as spatial star plots by David A. Andrews.
  ### See http://www.stat.rice.edu/~andrewsd/software/software.html.

(and that code was at least a start,..)
We had just done some (as you saw) `not quite perfect' NA handling.

Martin


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

