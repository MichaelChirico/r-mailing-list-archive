From ripley@stats.ox.ac.uk  Thu Nov  1 08:15:38 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 1 Nov 2001 09:15:38 +0100 (MET)
Subject: [Rd] strptime bug (PR#1155)
Message-ID: <200111010815.JAA22200@pubhealth.ku.dk>

On Wed, 31 Oct 2001, Rich Heiberger wrote:

> Where is the strptime bug happening?  I am seeing it on W95 W98 W2000
> running Rterm under ntemacs 21.1 with ESS 5.1.19 and using cygwin
> 2001/08/31 15:52:16 Starting cygwin install, version 2.78.2.3

It is happening on all glibc-based systems.  R on Windows uses glibc to
replace the missing functionality here.

> Is strptime using the bash from my system? or is it using functions
> that are included with R?

The second.

> R defaulted to 1900 when I didn't specify a year.  The 1990 came from
> the help(beav1).
>
> When I explicitly place a year in the file, either the 1990 inidcated
> in the help(beav1) file or the 1900 chosen to match the default, then
> R gives me times consistent with the input.

Yes, that's the bug.  According to the docs it should fail in all the
cases (which would be silly), but the code has at least two internal
logical mistakes.

It will be fixed in the next release.

> > tmp <- beav1[90:93,]
> > tmp
>    day time  temp activ
> 90 346 2340 36.93     0
> 91 346 2350 36.83     0
> 92 347    0 36.93     0
> 93 347   10 36.83     0
> > attach(tmp)
> > strptime(paste(day, time %/% 100, time %% 100), "%j %H %M")
> [1] "1900-01-01 23:40:00" "1900-01-01 23:50:00" "1900-01-01 00:00:00"
> [4] "1900-01-01 00:10:00"
> > strptime(paste(1900, day, time %/% 100, time %% 100), "%Y %j %H %M")
> [1] "1900-12-12 23:40:00" "1900-12-12 23:50:00" "1900-12-13 00:00:00"
> [4] "1900-12-13 00:10:00"
> > strptime(paste(1990, day, time %/% 100, time %% 100), "%Y %j %H %M")
> [1] "1990-12-12 23:40:00" "1990-12-12 23:50:00" "1990-12-13 00:00:00"
> [4] "1990-12-13 00:10:00"
> >
>
>
> Rich
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Nov  1 13:04:47 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 1 Nov 2001 13:04:47 +0000 (GMT)
Subject: [Rd] problem with help.start() in R (PR#1156)
In-Reply-To: <15328.19359.516985.522719@mithrandir.hornik.net>
Message-ID: <Pine.LNX.4.31.0111011258040.16868-100000@gannet.stats>

I tested Opera 5.0 under Linux (www.opera.com).  It worked with -remote
correctly.  What I did not get to work was the search engine, but I saw no
sign of Java support for Opera under Linux. (For Windows it is a separate
add-on.)

I've amended the documentation, but I do wonder if
help.start(browser="foo") should set options(browser="foo").

B

On Wed, 31 Oct 2001, Kurt Hornik wrote:

> >>>>> Dinh-Tuan Pham writes:
>
> > Prof Brian Ripley writes:
> >> On Wed, 31 Oct 2001 Dinh-Tuan.Pham@imag.fr wrote:
> >>
> >> >        The function help.start() assume that the brower is netscape
> >> > which is no longer the dominant brower in used. I am using now opera
> >>
> >> On what operating system is this?  On Unix/Linux you should be using
> >> options(browser="opera").  On Windows/Mac you can't set the browser
> >> anyway.
>
> > on Linux, actually
>
> >> > help.start(browser="opera"), but it is not convenience: I would like
> >> > to be able to set the default brwsernone for all. But the real bug is
> >> > that even after launching help.start(browser="opera"), other help
> >> > commands, help(help), say, still send the "help page" to netscape. Here
> >> > is what I get
> >> >
> >> > > help.start(browser="opera")
> >> > If opera  is already running,   it is *not* restarted,
> >> >  and you must switch to its window.
> >> > Otherwise, be patient..
> >> > > help(help)
> >> > help() for help  is shown in browser netscape ...
> >> > Use      help( help , htmlhelp=FALSE)
> >> > or       options(htmlhelp = FALSE)
> >> > to revert.
> >> > > sh: netscape: command not found
> >> >
> >> > Please correct this bug.
> >>
> >> I don't think it is a bug in R but I have expanded the documentation.
> >>
> >> Please do use the bug.report() function, as critical information is
> >> missing from this report.
>
> > I am sorry not having looked carefully on the documentation. But the
> > first thing I do is to launch help.start() and be stuck with an
> > inexistent browser. I have imagined that help.start(browser="opera")
> > would set the browser to opera, but I am wrong and the browser must be
> > set by options(browser="opera"), a feature which I am not aware of.
> > Nevertheless, I find this rather confusing for a new user: if
> > options(browser="opera") should always be used to set the browser,
> > then the argument browser="opera" in help.start would never be needed.
>
> The documentation issue may be unfortunate, but there is really no point
> unless we find browsers other than Netscape which can be controlled
> remotely.  I have been raising this issue a couple of times, last time
> about three months ago or so.  Mozilla then claimed to support -remote
> as Netscape does but really did not.  Konqueror does not allow being
> sent URLs remotely, and neither does gnome-help-browser.  Not sure about
> Opera ... do you have more info?
>
> -k
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Nov  1 16:25:16 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 1 Nov 2001 16:25:16 +0000 (GMT)
Subject: [Rd] problem with help.start() in R (PR#1156)
In-Reply-To: <Pine.LNX.4.31.0111011258040.16868-100000@gannet.stats>
Message-ID: <Pine.LNX.4.31.0111011624130.6232-100000@gannet.stats>

Follow-up: netscape 6.2 (announced on Tuesday) does support -remote, so
perhaps mozilla does now / will soon.

Brian


On Thu, 1 Nov 2001, Prof Brian Ripley wrote:

> I tested Opera 5.0 under Linux (www.opera.com).  It worked with -remote
> correctly.  What I did not get to work was the search engine, but I saw no
> sign of Java support for Opera under Linux. (For Windows it is a separate
> add-on.)
>
> I've amended the documentation, but I do wonder if
> help.start(browser="foo") should set options(browser="foo").
>
> B
>
> On Wed, 31 Oct 2001, Kurt Hornik wrote:
>
> > >>>>> Dinh-Tuan Pham writes:
> >
> > > Prof Brian Ripley writes:
> > >> On Wed, 31 Oct 2001 Dinh-Tuan.Pham@imag.fr wrote:
> > >>
> > >> >        The function help.start() assume that the brower is netscape
> > >> > which is no longer the dominant brower in used. I am using now opera
> > >>
> > >> On what operating system is this?  On Unix/Linux you should be using
> > >> options(browser="opera").  On Windows/Mac you can't set the browser
> > >> anyway.
> >
> > > on Linux, actually
> >
> > >> > help.start(browser="opera"), but it is not convenience: I would like
> > >> > to be able to set the default brwsernone for all. But the real bug is
> > >> > that even after launching help.start(browser="opera"), other help
> > >> > commands, help(help), say, still send the "help page" to netscape. Here
> > >> > is what I get
> > >> >
> > >> > > help.start(browser="opera")
> > >> > If opera  is already running,   it is *not* restarted,
> > >> >  and you must switch to its window.
> > >> > Otherwise, be patient..
> > >> > > help(help)
> > >> > help() for help  is shown in browser netscape ...
> > >> > Use      help( help , htmlhelp=FALSE)
> > >> > or       options(htmlhelp = FALSE)
> > >> > to revert.
> > >> > > sh: netscape: command not found
> > >> >
> > >> > Please correct this bug.
> > >>
> > >> I don't think it is a bug in R but I have expanded the documentation.
> > >>
> > >> Please do use the bug.report() function, as critical information is
> > >> missing from this report.
> >
> > > I am sorry not having looked carefully on the documentation. But the
> > > first thing I do is to launch help.start() and be stuck with an
> > > inexistent browser. I have imagined that help.start(browser="opera")
> > > would set the browser to opera, but I am wrong and the browser must be
> > > set by options(browser="opera"), a feature which I am not aware of.
> > > Nevertheless, I find this rather confusing for a new user: if
> > > options(browser="opera") should always be used to set the browser,
> > > then the argument browser="opera" in help.start would never be needed.
> >
> > The documentation issue may be unfortunate, but there is really no point
> > unless we find browsers other than Netscape which can be controlled
> > remotely.  I have been raising this issue a couple of times, last time
> > about three months ago or so.  Mozilla then claimed to support -remote
> > as Netscape does but really did not.  Konqueror does not allow being
> > sent URLs remotely, and neither does gnome-help-browser.  Not sure about
> > Opera ... do you have more info?
> >
> > -k
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
>
> --
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@nokomis.stat.umn.edu  Thu Nov  1 16:35:55 2001
From: luke@nokomis.stat.umn.edu (Luke Tierney)
Date: Thu, 1 Nov 2001 10:35:55 -0600
Subject: [Rd] problem with help.start() in R (PR#1156)
In-Reply-To: <Pine.LNX.4.31.0111011624130.6232-100000@gannet.stats>; from ripley@stats.ox.ac.uk on Thu, Nov 01, 2001 at 04:25:16PM +0000
References: <Pine.LNX.4.31.0111011258040.16868-100000@gannet.stats> <Pine.LNX.4.31.0111011624130.6232-100000@gannet.stats>
Message-ID: <20011101103555.A27017@nokomis.stat.umn.edu>

The Python web browrer stuff has a pointer to
http://developer.kde.org/documentation/other/kfmclient.html for info
on the Konquerer remote-control interface and uses

    def _remote(self, action):
        cmd = "kfmclient %s >/dev/null 2>&1" % action
        rc = os.system(cmd)
        if rc:
            import time
            if self.basename == "konqueror":
                os.system(self.name + " --silent &")
            else:
                os.system(self.name + " -d &")
            time.sleep(PROCESS_CREATION_DELAY)
            rc = os.system(cmd)
        return not rc

in case anyone wants to look into supporting Konqueror.

luke

On Thu, Nov 01, 2001 at 04:25:16PM +0000, Prof Brian Ripley wrote:
> Follow-up: netscape 6.2 (announced on Tuesday) does support -remote, so
> perhaps mozilla does now / will soon.
> 
> Brian
> 
> 
> On Thu, 1 Nov 2001, Prof Brian Ripley wrote:
> 
> > I tested Opera 5.0 under Linux (www.opera.com).  It worked with -remote
> > correctly.  What I did not get to work was the search engine, but I saw no
> > sign of Java support for Opera under Linux. (For Windows it is a separate
> > add-on.)
> >
> > I've amended the documentation, but I do wonder if
> > help.start(browser="foo") should set options(browser="foo").
> >
> > B
> >
> > On Wed, 31 Oct 2001, Kurt Hornik wrote:
> >
> > > >>>>> Dinh-Tuan Pham writes:
> > >
> > > > Prof Brian Ripley writes:
> > > >> On Wed, 31 Oct 2001 Dinh-Tuan.Pham@imag.fr wrote:
> > > >>
> > > >> >        The function help.start() assume that the brower is netscape
> > > >> > which is no longer the dominant brower in used. I am using now opera
> > > >>
> > > >> On what operating system is this?  On Unix/Linux you should be using
> > > >> options(browser="opera").  On Windows/Mac you can't set the browser
> > > >> anyway.
> > >
> > > > on Linux, actually
> > >
> > > >> > help.start(browser="opera"), but it is not convenience: I would like
> > > >> > to be able to set the default brwsernone for all. But the real bug is
> > > >> > that even after launching help.start(browser="opera"), other help
> > > >> > commands, help(help), say, still send the "help page" to netscape. Here
> > > >> > is what I get
> > > >> >
> > > >> > > help.start(browser="opera")
> > > >> > If opera  is already running,   it is *not* restarted,
> > > >> >  and you must switch to its window.
> > > >> > Otherwise, be patient..
> > > >> > > help(help)
> > > >> > help() for help  is shown in browser netscape ...
> > > >> > Use      help( help , htmlhelp=FALSE)
> > > >> > or       options(htmlhelp = FALSE)
> > > >> > to revert.
> > > >> > > sh: netscape: command not found
> > > >> >
> > > >> > Please correct this bug.
> > > >>
> > > >> I don't think it is a bug in R but I have expanded the documentation.
> > > >>
> > > >> Please do use the bug.report() function, as critical information is
> > > >> missing from this report.
> > >
> > > > I am sorry not having looked carefully on the documentation. But the
> > > > first thing I do is to launch help.start() and be stuck with an
> > > > inexistent browser. I have imagined that help.start(browser="opera")
> > > > would set the browser to opera, but I am wrong and the browser must be
> > > > set by options(browser="opera"), a feature which I am not aware of.
> > > > Nevertheless, I find this rather confusing for a new user: if
> > > > options(browser="opera") should always be used to set the browser,
> > > > then the argument browser="opera" in help.start would never be needed.
> > >
> > > The documentation issue may be unfortunate, but there is really no point
> > > unless we find browsers other than Netscape which can be controlled
> > > remotely.  I have been raising this issue a couple of times, last time
> > > about three months ago or so.  Mozilla then claimed to support -remote
> > > as Netscape does but really did not.  Konqueror does not allow being
> > > sent URLs remotely, and neither does gnome-help-browser.  Not sure about
> > > Opera ... do you have more info?
> > >
> > > -k
> > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > > r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> > > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> > >
> >
> > --
> > Brian D. Ripley,                  ripley@stats.ox.ac.uk
> > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > University of Oxford,             Tel:  +44 1865 272861 (self)
> > 1 South Parks Road,                     +44 1865 272860 (secr)
> > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke@stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossini@u.washington.edu  Thu Nov  1 16:40:03 2001
From: rossini@u.washington.edu (A.J. Rossini)
Date: 01 Nov 2001 08:40:03 -0800
Subject: [Rd] problem with help.start() in R (PR#1156)
In-Reply-To: <Pine.LNX.4.31.0111011624130.6232-100000@gannet.stats>
References: <Pine.LNX.4.31.0111011624130.6232-100000@gannet.stats>
Message-ID: <87ofmmmom4.fsf@jeeves.blindglobe.net>

>>>>> "BR" == Brian Ripley <Prof> writes:

    BR> Follow-up: netscape 6.2 (announced on Tuesday) does support
    BR> -remote, so perhaps mozilla does now / will soon.

rossini 54 > mozilla -remote "openurl(http://software/)"
rossini 56 > mozilla -version
Mozilla/5.0 (X11; U; Linux i686; en-US; rv:0.9.5) Gecko/20011023, build 2001102304
rossini 57 > 

So it does (0.9.5, from Debian/Sid), but the format is javascript-ish...

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini@u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini@scharp.org
-------------- http://software.biostat.washington.edu/ --------------
FHCRC: M-W: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   T-Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
Rosen: (Mullins' Lab) Fridays, and I'm unreachable except by email.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gml4410@ggr.co.uk  Thu Nov  1 17:30:41 2001
From: gml4410@ggr.co.uk (gml4410@ggr.co.uk)
Date: Thu, 1 Nov 2001 18:30:41 +0100 (MET)
Subject: [Rd] Update on report PR#1145 (with a cross-reference to PR#1026).
Message-ID: <200111011730.SAA02312@pubhealth.ku.dk>

   The original report was that compiling with gcc2.95.2 gcc and the
related g77 on Irix 6.,5.13 produced an R which wailed its tests with:

>> On entry to DGEMM  parameter number 1 had an illegal value

   To some extend this confused me, as the source only seems to mention
DGEMM in lowercase.  Eventually, after the debug code I added did
nothing, I realized that the R which was build was not using the
src/appl/blas.f source file: it was using the SGI libblas.

   My suspicion is that this is the cause.  The man page for this
mentions there is a C interface for dgemm but that it uses an enumerated
variable for the first 2 parameters in place of character strings.  I
thing things got mixed up somewhere along the line (perhaps with the
number of "_" appended to external symbils?).

   So, I tried configuring while adding "--without-blas" to the config  
options. This resulted in a SIGSEGV in the modreg test.  (See bug report
PR#1026, which also mentions this).

   So, a further try, this time using the compilers, cc anf f77 while  
still specifying "--without-blas" (so that the SGI libblas is ignored).

   This ran through the tests without crashing.  There were a few minor
differences in the print-tests output, but all at the "0 vs.  10**-300"
level, ie: floating point inaccuracies (which I presume are Ok and any
good statistician will ignore?).

==========
comparing `print-tests.Rout' to `./print-tests.Rout.save'
...259c259
< [1]  0.000000e+00 2.225074e-308 2.225074e-308 2.227299e-308
2.447581e-308
---
> [1] 2.002566e-308 2.222849e-308 2.225074e-308 2.225074e-308 2.225074e-308 2.2$
==========

   and 16 occurrences of:

==========
^H: syntax error
========== 
at the end.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Nov  1 17:47:16 2001
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 01 Nov 2001 12:47:16 -0500
Subject: [Rd] gcc 3.0.1 problems?
Message-ID: <3BE18AA4.586ED0A3@bank-banque-canada.ca>

It is very likely my system is messed up, but I mention this in the event that
others are having similar problems:

On Solaris  I am experiencing a segmentation fault when trying to load my
fortran .so code after I have compiled R with gcc 3.0.1, but not when I compile
with 2.95.2. (Both R 1.3.1 and R-devel.)

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Nov  1 17:57:22 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 1 Nov 2001 17:57:22 +0000 (GMT Standard Time)
Subject: [Rd] gcc 3.0.1 problems?
In-Reply-To: <3BE18AA4.586ED0A3@bank-banque-canada.ca>
Message-ID: <Pine.WNT.4.31.0111011755450.1332-100000@gannet>

On Thu, 1 Nov 2001, Paul Gilbert wrote:

> It is very likely my system is messed up, but I mention this in the event that
> others are having similar problems:
>
> On Solaris  I am experiencing a segmentation fault when trying to load my
> fortran .so code after I have compiled R with gcc 3.0.1, but not when I compile
> with 2.95.2. (Both R 1.3.1 and R-devel.)

I've build R and lots of packages on Solaris with 3.0.1 without any
problem.

BTW 3.0.2 is the current release (as of yesterday or so), and I've build
R with that too.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Timothy.Keitt@stonybrook.edu  Thu Nov  1 18:14:47 2001
From: Timothy.Keitt@stonybrook.edu (Timothy H. Keitt)
Date: Thu, 01 Nov 2001 13:14:47 -0500
Subject: [Rd] migration to common runtime?
Message-ID: <3BE19117.8060802@StonyBrook.Edu>

I'm curious if any of the core R developers have considered the 
possibility of hosting R (v2?) on the parrot common runtime environment. 
Perl6 will generate byte-code for parrot, as will some future version of 
python. I can imagine both drawbacks and advantages. Some advantages 
would be fast byte-code execution and freely mixing perl, python and R 
modules. Anyone looked into this?

Tim

-- 
Timothy H. Keitt
Department of Ecology and Evolution
State University of New York at Stony Brook
Stony Brook, New York 11794 USA
Phone: 631-632-1101, FAX: 631-632-7626
http://life.bio.sunysb.edu/ee/keitt/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@nokomis.stat.umn.edu  Thu Nov  1 18:34:00 2001
From: luke@nokomis.stat.umn.edu (Luke Tierney)
Date: Thu, 1 Nov 2001 12:34:00 -0600
Subject: [Rd] migration to common runtime?
In-Reply-To: <3BE19117.8060802@StonyBrook.Edu>; from Timothy.Keitt@stonybrook.edu on Thu, Nov 01, 2001 at 01:14:47PM -0500
References: <3BE19117.8060802@StonyBrook.Edu>
Message-ID: <20011101123400.A27523@nokomis.stat.umn.edu>

On Thu, Nov 01, 2001 at 01:14:47PM -0500, Timothy H. Keitt wrote:
> I'm curious if any of the core R developers have considered the 
> possibility of hosting R (v2?) on the parrot common runtime environment. 
> Perl6 will generate byte-code for parrot, as will some future version of 
> python. I can imagine both drawbacks and advantages. Some advantages 
> would be fast byte-code execution and freely mixing perl, python and R 
> modules. Anyone looked into this?
> 
> Tim
> 

Not specifically parrot (not sure I'd want to bet the farm on that
until it's a bit more mature), but the byte code compilation ideas
some of us have been looking at would be designed with multiple
runtime targets in mind, so that may well be an option to consider.

luke

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke@stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Nov  1 19:41:32 2001
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 01 Nov 2001 14:41:32 -0500
Subject: [Rd] Segmentation Fault
Message-ID: <3BE1A56C.609F7BF@bank-banque-canada.ca>

On Solaris, the example below sometimes, but not always, cause "bus Error - core
dumped" or "Segmentation Fault - core dumped" when I compile R 1.3.1 with gcc
3.0.1, but not when I compile with gcc 2.92.2.  There remains the probability
that my system is messed up, but I would appreciate if others could check
whether this gives a problem.

Paul Gilbert

zz <- t(matrix(c(
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.082008166, -0.066322053,
-0.115616348,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.038919428,  0.009703382,
0.115944209,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.007823026, -0.068859673,
0.025264756,
1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.067027108,  0.087934957,
-0.316974768,
0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.024890008,  0.052195412,
-0.015138322,
0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.028192857, -0.004832597,
0.207879665,
0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.078706928, -0.012801413,
0.425960682,
0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.102169750,  0.163238356,
-0.150373125,
0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.002685166,  0.014355904,
0.197912183,
0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0,  0.042937314,  0.115719388,
0.679370293,
0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0,  0.032306141,  0.263227910,
0.009171148,
0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0,  0.008238734, -0.031480706,
0.051976566,
0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0,  0.015219148,  0.221345314,
0.020146770,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0,  0.039741608,  0.092955553,
-0.262550823,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0,  0.012624418,  0.047810873,
0.201673308,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, -0.114163303,  0.417786916,
0.253110874,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0,  0.049894329, -0.155696562,
-0.049735728,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1,  0.006112607,  0.074242237,
0.034046467
), 18,18))

eigen(zz)$values


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kleiweg@let.rug.nl  Thu Nov  1 21:15:40 2001
From: kleiweg@let.rug.nl (Peter Kleiweg)
Date: Thu, 1 Nov 2001 22:15:40 +0100 (CET)
Subject: [Rd] Erratic behaviour of sammon()
Message-ID: <Pine.LNX.4.33.0111012154270.1143-100000@kleigh.nl>


I'm not sure this list is the right place for this thing.

I noticed some erratic behaviour in sammon(). Running sammon on
two nearly identical sets of data results in very different
results. Below is an example. I create an initial configuration
with cmdscale() and store it into 'vec1'. I write this to file,
and read it back in again to 'vec2'. According to cor() on the
three columns of 'vec1' and 'vec2', they are identical. However,
if I use sammon() with initialising from 'vec1' or 'vec2', I get
different results. (SAMMON() is a wrapper function).

This I did on a Linux machine (R version 1.3.1):

	> dst <- ReadDistFile("PA.lnk")
	Loading required package: mva
	> vec1 <- MDS(dst, 3)
	> WriteVectorFile(vec1, "outfile")
	> vec2 <- ReadVectorFile("outfile")
	> cor(vec1[,1], vec2[,1])
	[1] 1
	> cor(vec1[,2], vec2[,2])
	[1] 1
	> cor(vec1[,3], vec2[,3])
	[1] 1
	> v1 <- SAMMON(dst, 3, y=vec1)
	Loading required package: MASS
	Initial stress        : 0.20243
	stress after  10 iters: 0.11869, magic = 0.018
	stress after  20 iters: 0.07572, magic = 0.043
	stress after  30 iters: 0.05346, magic = 0.491
	stress after  40 iters: 0.04985, magic = 0.500
	stress after  50 iters: 0.04945, magic = 0.500
	stress after  60 iters: 0.04931, magic = 0.500
	stress after  70 iters: 0.04925, magic = 0.500
	> v2 <- SAMMON(dst, 3, y=vec2)
	Initial stress        : 0.20243
	stress after  10 iters: 0.11869, magic = 0.018
	stress after  20 iters: 0.07572, magic = 0.043
	stress after  30 iters: 0.05369, magic = 0.491
	stress after  30 iters: 0.05369
	> cor(v1[,1], v2[,1])
	[1] 0.958089
	> cor(v1[,2], v2[,2])
	[1] 0.979837
	> cor(v1[,3], v2[,3])
	[1] 0.9412055

I also tried it on HP-UX, and got different results again:

	> dst <- ReadDistFile("PA.lnk")
	Loading required package: mva
	> vec1 <- MDS(dst, 3)
	> WriteVectorFile(vec1, "outfile")
	> vec2 <- ReadVectorFile("outfile")
	> cor(vec1[,1], vec2[,1])
	[1] 1
	> cor(vec1[,2], vec2[,2])
	[1] 1
	> cor(vec1[,3], vec2[,3])
	[1] 1
	> v1 <- SAMMON(dst, 3, y=vec1)
	Loading required package: MASS
	Initial stress        : 0.20243
	stress after  10 iters: 0.11869, magic = 0.018
	stress after  20 iters: 0.07572, magic = 0.043
	stress after  28 iters: 0.06761
	> v2 <- SAMMON(dst, 3, y=vec2)
	Initial stress        : 0.20243
	stress after  10 iters: 0.11869, magic = 0.018
	stress after  20 iters: 0.07572, magic = 0.043
	stress after  30 iters: 0.06719, magic = 0.020
	stress after  40 iters: 0.06115, magic = 0.009
	stress after  50 iters: 0.05198, magic = 0.500
	stress after  60 iters: 0.04968, magic = 0.500
	stress after  70 iters: 0.04933, magic = 0.500
	stress after  80 iters: 0.04924, magic = 0.225
	> cor(v1[,1], v2[,1])
	[1] 0.9106865
	> cor(v1[,2], v2[,2])
	[1] 0.9727502
	> cor(v1[,3], v2[,3])
	[1] 0.9411287

I even tried compiling with gcc with and without optimisation,
and I got different results for exactly the same input (no
saving to file first).

So, I gather that sammon() is an unstable function, extremely
sensitive to the tiniest of variations. Is this inherent to the
sammon algorithm, or is there something wrong with how it is
implemented in R?

-- 
Peter Kleiweg
http://www.let.rug.nl/~kleiweg/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rolf@maths.uwa.edu.au  Fri Nov  2 01:44:05 2001
From: rolf@maths.uwa.edu.au (rolf@maths.uwa.edu.au)
Date: Fri, 2 Nov 2001 02:44:05 +0100 (MET)
Subject: [Rd] identify(...plot=F) (PR#1157)
Message-ID: <200111020144.CAA04490@pubhealth.ku.dk>


If I execute, e.g.

> x <- round(runif(20,0,1),2)
> y <- round(runif(20,0,1),2)
> plot(x,y,xlim=c(0,1),ylim=c(0,1))
> identify(x,y,n=1,plot=F)

then I get the index of the identified point printed in the command
window, and ***initially*** the index is NOT displayed in the
graphics window (which is the behaviour I had hoped and expected
to obtain by setting ``plot=F'').

BUT THEN if I lower and then raise the graphics window, poof!!!
the index appears, unwanted, in the plot.

I think a workaround is to issue the identify command as

> identify(x,y,n=1,col=0)

but still, shouldn't the function work as advertized?

Version information:

platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    3.1              
year     2001             
month    08               
day      31               
language R

                                cheers,

                                        Rolf Turner

Usual address:     rolf@math.unb.ca
Current address:   rolf@maths.uwa.edu.au

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Nov  2 08:09:38 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 2 Nov 2001 08:09:38 +0000 (GMT)
Subject: [Rd] Erratic behaviour of sammon()
In-Reply-To: <Pine.LNX.4.33.0111012154270.1143-100000@kleigh.nl>
Message-ID: <Pine.LNX.4.31.0111020806320.2198-100000@gannet.stats>

On Thu, 1 Nov 2001, Peter Kleiweg wrote:

> I'm not sure this list is the right place for this thing.

Nor am I, especially with the subject: it seems that it is repeatable from
what you actually reported.

> I noticed some erratic behaviour in sammon(). Running sammon on
> two nearly identical sets of data results in very different
> results. Below is an example. I create an initial configuration
> with cmdscale() and store it into 'vec1'. I write this to file,
> and read it back in again to 'vec2'. According to cor() on the
> three columns of 'vec1' and 'vec2', they are identical. However,
> if I use sammon() with initialising from 'vec1' or 'vec2', I get
> different results. (SAMMON() is a wrapper function).

[...]

> So, I gather that sammon() is an unstable function, extremely
> sensitive to the tiniest of variations. Is this inherent to the
> sammon algorithm, or is there something wrong with how it is
> implemented in R?

It is inherent to the Sammon algorithm, on some datasets.
There are lots of similar phenomena in real-life statistics away from
convex optimization problems.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Fri Nov  2 10:32:02 2001
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Fri, 2 Nov 2001 11:32:02 +0100
Subject: [Rd] problem with help.start() in R (PR#1156)
In-Reply-To: <87ofmmmom4.fsf@jeeves.blindglobe.net>
References: <Pine.LNX.4.31.0111011624130.6232-100000@gannet.stats>
 <87ofmmmom4.fsf@jeeves.blindglobe.net>
Message-ID: <15330.30242.985067.492142@gargle.gargle.HOWL>

>>>>> "tony" == A J Rossini <rossini@blindglobe.net> writes:

>>>>> "BR" == Brian Ripley <Prof> writes:
    BR> Follow-up: netscape 6.2 (announced on Tuesday) does support
    BR> -remote, so perhaps mozilla does now / will soon.

    tony> rossini 54 > mozilla -remote "openurl(http://software/)"
    tony> rossini 56 > mozilla -version
    tony> Mozilla/5.0 (X11; U; Linux i686; en-US; rv:0.9.5) Gecko/20011023, build 2001102304
    tony> rossini 57 > 

great!  thank you, Tony.

My Redhat 7.1 (+ newer(?) Ximian) mozilla version is also 5.0, two months
older than yours and does work the same.

    tony> So it does (0.9.5, from Debian/Sid), but the format is
    tony> javascript-ish...

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Dinh-Tuan.Pham@imag.fr  Fri Nov  2 12:44:05 2001
From: Dinh-Tuan.Pham@imag.fr (Dinh-Tuan.Pham@imag.fr)
Date: Fri, 2 Nov 2001 13:44:05 +0100
Subject: [Rd] problem with help.start() in R (PR#1156)
Message-ID: <15330.38165.699375.993226@guepard.imag.fr>

Prof Brian Ripley writes:
 > I tested Opera 5.0 under Linux (www.opera.com). It worked with -remote
 > correctly. What I did not get to work was the search engine, but I saw
 > no sign of Java support for Opera under Linux. (For Windows it is a
 > separate add-on.)

I rarely used R with remote display, so it is not a concern for me.
But indeed, there is no support for Java in Opera under Linux. I am not
aware that the search engine (in R ?) need Java support. Hopefully
this support will be added in later version of Opera.
 
 > I've amended the documentation, but I do wonder if
 > help.start(browser="foo") should set options(browser="foo").

My point is that if one launches help.start(browser="foo"), it means
that one would like to use foo as browser, so default browser should
be set to foo.

-- 
PHAM Dinh Tuan                         | e-mail: Dinh-Tuan.Pham@imag.fr
Laboratoire de Modelisation et Calcul  | Tel: +33 4 76 51 44 23
BP 53, 38041 Grenoble cedex 9 (France) | Fax: +33 4 76 63 12 63
-----------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Nov  2 13:05:03 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 2 Nov 2001 13:05:03 +0000 (GMT)
Subject: [Rd] problem with help.start() in R (PR#1156)
In-Reply-To: <15330.38165.699375.993226@guepard.imag.fr>
Message-ID: <Pine.LNX.4.31.0111021303020.7084-100000@gannet.stats>

On Fri, 2 Nov 2001 Dinh-Tuan.Pham@imag.fr wrote:

> Prof Brian Ripley writes:
>  > I tested Opera 5.0 under Linux (www.opera.com). It worked with -remote
>  > correctly. What I did not get to work was the search engine, but I saw
>  > no sign of Java support for Opera under Linux. (For Windows it is a
>  > separate add-on.)
>
> I rarely used R with remote display, so it is not a concern for me.

That's not what -remote is used for.  It allows you to open a file in an
already-running version of the browser.

> But indeed, there is no support for Java in Opera under Linux. I am not
> aware that the search engine (in R ?) need Java support. Hopefully
> this support will be added in later version of Opera.
>
>  > I've amended the documentation, but I do wonder if
>  > help.start(browser="foo") should set options(browser="foo").
>
> My point is that if one launches help.start(browser="foo"), it means
> that one would like to use foo as browser, so default browser should
> be set to foo.
>
> --
> PHAM Dinh Tuan                         | e-mail: Dinh-Tuan.Pham@imag.fr
> Laboratoire de Modelisation et Calcul  | Tel: +33 4 76 51 44 23
> BP 53, 38041 Grenoble cedex 9 (France) | Fax: +33 4 76 63 12 63
> -----------------------------------------------------------------------
>
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From andy_liaw@merck.com  Fri Nov  2 13:21:12 2001
From: andy_liaw@merck.com (Liaw, Andy)
Date: Fri, 02 Nov 2001 08:21:12 -0500
Subject: [Rd] Look, Watson!  La.svd & ATLAS
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC8350@usrymx10.merck.com>

Dear R-devel,

I had attempted to compile r-devel (dated Oct. 31, 2001) on WinNT with link
to ATLAS, with mostly success.  However, when I tried the following, I got a
visit from Dr. Watson:


R : Copyright 2001, The R Development Core Team
Version 1.4.0 Under development (unstable) (2001-10-31)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type `license()' or `licence()' for distribution details.

R is a collaborative project with many contributors.
Type `contributors()' for more information.

Type `demo()' for some demos, `help()' for on-line help, or
`help.start()' for a HTML browser interface to help.
Type `q()' to quit R.

> set.seed(1)
> x <- matrix(runif(1e4), 1e2, 1e2)
> invisible(La.svd(x))                         # This ran fine.
> x <- matrix(runif(1e5), 1e3, 1e2)
> invisible(La.svd(x))

(Dr. Watson says there's an access violation.)

So far La.svd is the only thing I know of that generates Dr. Watson.

The version info:
         _                           
platform i386-pc-mingw32             
arch     x86                         
os       Win32                       
system   x86, Win32                  
status   Under development (unstable)
major    1                           
minor    4.0                         
year     2001                        
month    10                          
day      31                          
language R                           

Other info:
Hardware: PIII 900MHz w/256mb ram (IBM ThinkPad T22)
ATLAS-3.2.1 compiled from source using cygwin (gcc 2.95.3-5), using default
setting for PIIISSE1
R-devel compiled with mingw gcc 2.95.3-6

Can anyone provide some hint?  Could it be that I just got a bad snapshot of
R-devel?

TIA,
Andy

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Fri Nov  2 14:27:01 2001
From: bates@stat.wisc.edu (Douglas Bates)
Date: 02 Nov 2001 08:27:01 -0600
Subject: [Rd] Look, Watson!  La.svd & ATLAS
In-Reply-To: <51F9C42DA15CD311BD220008C707D81903DC8350@usrymx10.merck.com>
References: <51F9C42DA15CD311BD220008C707D81903DC8350@usrymx10.merck.com>
Message-ID: <6rwv198czu.fsf@franz.stat.wisc.edu>

"Liaw, Andy" <andy_liaw@merck.com> writes:

> Dear R-devel,
> 
> I had attempted to compile r-devel (dated Oct. 31, 2001) on WinNT with link
> to ATLAS, with mostly success.  However, when I tried the following, I got a
> visit from Dr. Watson:
> 
> 
> R : Copyright 2001, The R Development Core Team
> Version 1.4.0 Under development (unstable) (2001-10-31)
> 
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type `license()' or `licence()' for distribution details.
> 
> R is a collaborative project with many contributors.
> Type `contributors()' for more information.
> 
> Type `demo()' for some demos, `help()' for on-line help, or
> `help.start()' for a HTML browser interface to help.
> Type `q()' to quit R.
> 
> > set.seed(1)
> > x <- matrix(runif(1e4), 1e2, 1e2)
> > invisible(La.svd(x))                         # This ran fine.
> > x <- matrix(runif(1e5), 1e3, 1e2)
> > invisible(La.svd(x))
> 
> (Dr. Watson says there's an access violation.)

I was able to run those examples without ill effects on an R-1.4.0
(development) (2001-10-30) with Atlas 3.2.1 on a Linux system (Debian
testing)

> set.seed(1)
> x <- matrix(runif(1e4), 1e2, 1e2)
> invisible(La.svd(x))
> x <- matrix(runif(1e5), 1e3, 1e2)
> invisible(La.svd(x))
> x <- matrix(runif(1e4), 1e2, 1e2)
> system.time(invisible(La.svd(x)))
[1] 0.04 0.00 0.04 0.00 0.00
> x <- matrix(runif(1e5), 1e3, 1e2)
> system.time(invisible(La.svd(x)))
[1] 1.15 0.01 2.39 0.00 0.00
> system.time(La.svd(x, nu = 0, nv = 0))
[1] 0.33 0.00 0.63 0.00 0.00
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jmc@research.bell-labs.com  Fri Nov  2 14:30:09 2001
From: jmc@research.bell-labs.com (John Chambers)
Date: Fri, 02 Nov 2001 09:30:09 -0500
Subject: [Rd] Changes to the methods package
Message-ID: <3BE2ADF1.FBD47E89@research.bell-labs.com>

I'm about to commit some changes to the methods package.  Before
downloading the revised code, note the following.

Because the changes involve a revised version of storage for the methods
definitions, you will need to re-install any packages that contain
method definitions, from their source code.  Otherwise the methods will
look as if they've disappeared from the generic functions.

The main changes:

- validObject has been added, so that validity methods can be included
in or added to class definitions, as described in the green book.  No
automatic validation yet, because we need to discuss when & how it would
be triggered.

- the as() mechanism has been entirely re-implemented to be closer to
the API in the book (and to have fewer bugs :-)).

- getClass() and new() are fussier about being handed undefined classes;
these usually generate an error now.

- getGenerics has been added, along with the arguments to showMethods
that use it to display methods for multiple generics and/or restricted
to certain classes.

John

-- 
John M. Chambers                  jmc@bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Dinh-Tuan.Pham@imag.fr  Fri Nov  2 14:44:59 2001
From: Dinh-Tuan.Pham@imag.fr (Dinh-Tuan.Pham@imag.fr)
Date: Fri, 2 Nov 2001 15:44:59 +0100
Subject: [Rd] problem with help.start() in R (PR#1156)
In-Reply-To: <Pine.LNX.4.31.0111021303020.7084-100000@gannet.stats>
References: <15330.38165.699375.993226@guepard.imag.fr>
 <Pine.LNX.4.31.0111021303020.7084-100000@gannet.stats>
Message-ID: <15330.45419.900439.976561@guepard.imag.fr>

Prof Brian Ripley writes:
 > >
 > > I rarely used R with remote display, so it is not a concern for me.
 > 
 > That's not what -remote is used for.  It allows you to open a file in an
 > already-running version of the browser.
 > 

Sorry for my confusion. As for opening a file (or URL) in a running
opera, it works.

Thank for your patience.

-- 
PHAM Dinh Tuan                         | e-mail: Dinh-Tuan.Pham@imag.fr
Laboratoire de Modelisation et Calcul  | Tel: +33 4 76 51 44 23
BP 53, 38041 Grenoble cedex 9 (France) | Fax: +33 4 76 63 12 63
-----------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Sat Nov  3 18:59:06 2001
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Sat, 03 Nov 2001 13:59:06 -0500
Subject: [Rd] Help with Windows build
Message-ID: <1rd8ut8h4vqmjc85v6jjsvkcl1lpdrdabn@4ax.com>

I'm trying to do a Windows build of Ray Brownrigg's port of the maps
library, and running into some problems.

There's a makefile for the shared library.  I suspect that I just need
to change that to get it right, and everything will build properly,
but I'm running into trouble.  Here's the original makefile, along
with my comments about changes:

>SRC= mapget.c mapproject.c thin.c
>OBJ= mapget.o mapproject.o thin.o
>CFLAGS=-I$${R_HOME}/include

The include directory changed to ${R_HOME}/src/include.

>#end machine-dependent stuff
>
>all: maps.so world.cities.s

maps.so changed to maps.dll

>        echo 'source("world.cities.s")' | R --nsize=512K --no-save

R changed to Rterm
>
>maps.so: $(OBJ) projections
>        R SHLIB -o maps.so maps_i.o $(OBJ) proj/*.o

maps.so changed to maps.dll.

This line is giving me the most trouble.  I suspect the problem is
that since proj/*.o is being expanded into 33 files, the command line
is too long for Windows.  Is there a way to build a DLL with lots of
files in it without causing problems?

Here's the error I get:

>>  making DLL
>>make[2]: Entering directory `/cygdrive/d/stuff/r/maps/src'
>>Rcmd SHLIB -o maps.dll maps_i.o mapget.o mapproject.o thin.o proj/*.o
>>Bad command or file name

When I leave off proj/*.o, I get a different error:

>>  making DLL
>>make[2]: Entering directory `/cygdrive/d/stuff/r/maps/src'
>>Rcmd SHLIB -o maps.dll maps_i.o mapget.o mapproject.o thin.o
>>make[3]: Entering directory `/cygdrive/d/stuff/R/maps/src'
>>Rcmd SHLIB -o maps.dll maps_i.o mapget.o mapproject.o thin.o
>>make[4]: Entering directory `/cygdrive/d/stuff/R/maps/src'
>>Rcmd SHLIB -o maps.dll maps_i.o mapget.o mapproject.o thin.o
>>make[5]: Entering directory `/cygdrive/d/stuff/R/maps/src'
>>Rcmd SHLIB -o maps.dll maps_i.o mapget.o mapproject.o thin.o
>>make[6]: Entering directory `/cygdrive/d/stuff/R/maps/src'
>>Rcmd SHLIB -o maps.dll maps_i.o mapget.o mapproject.o thin.o
>>make[7]: Entering directory `/cygdrive/d/stuff/R/maps/src'

Eventually this crashes.
>
>projections:
>        (cd proj; make)
>        touch projections

Any help would be appreciated!

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Nov  4 13:01:10 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 4 Nov 2001 14:01:10 +0100 (MET)
Subject: [Rd] Possible bug, Rprof() and scan(pipe()) (PR#1140)
Message-ID: <200111041301.OAA21775@pubhealth.ku.dk>

This does not happen on Solaris or Linux, so must be related to the use of
signals on darwin.

It probably means Rprof should be avoided on that platform, but the
porter (Jan de Leeuw) needs to investigate.


On Tue, 23 Oct 2001 macq@llnl.gov wrote:

> This looks like a bug?
> Unable to use scan(pipe()) while profiling.
> I have no idea whether this version of R violates the
>     "do not use `Rprof' in an executable built for profiling"
> warning in ?Rprof.
>
> Thanks
> -Don
>
> >  version
>           _
> platform powerpc-apple-darwin1.4
> arch     powerpc
> os       darwin1.4
> system   powerpc, darwin1.4
> status   Patched
> major    1
> minor    3.1
> year     2001
> month    10
> day      15
> language R
> >
> >  foo <- scan(pipe('ls -1 | head -3'),what='')
> Read 3 items
> >  foo
> [1] "README"      "RMfiles.dat" "RMfiles.tmp"
> >  Rprof()
> >  foo <- scan(pipe('ls -1 | head -3'),what='')
> Read 0 items
> >  foo
> character(0)
> >  Rprof(NULL)
> >  foo <- scan(pipe('ls -1 | head -3'),what='')
> Read 3 items
> >
>
> note, profiling does appear to be functional:
> >  Rprof() ; hist(rnorm(10000)) ; Rprof(NULL)
> >  system('R CMD Rprof Rprof.out')
>
> Each sample represents 0.02 seconds.
> Total run time: 0.1 seconds.
>
> Total seconds: time spent in function and callees.
> Self seconds: time spent in function alone.
>
>     %       total       %       self
>   total    seconds     self    seconds    name
> 100.00      0.10      0.00      0.00     "hist"
>   60.00      0.06      0.00      0.00     "hist.default"
>   40.00      0.04     40.00      0.04     "rnorm"
>   40.00      0.04      0.00      0.00     "plot"
>   40.00      0.04      0.00      0.00     "plot.histogram"
>   20.00      0.02      0.00      0.00     "storage.mode<-"
>   20.00      0.02     20.00      0.02     "X11"
>   20.00      0.02      0.00      0.00     "paste"
>   20.00      0.02      0.00      0.00     "rect"
>   20.00      0.02      0.00      0.00     "plot.new"
>   20.00      0.02     20.00      0.02     "seq.default"
>   20.00      0.02      0.00      0.00     "seq"
>   20.00      0.02     20.00      0.02     "par"
>
>     %       self        %       total
>   self     seconds    total    seconds    name
>   40.00      0.04     40.00      0.04     "rnorm"
>   20.00      0.02     20.00      0.02     "X11"
>   20.00      0.02     20.00      0.02     "seq.default"
>   20.00      0.02     20.00      0.02     "par"
>
> --
> --------------------------------------
> Don MacQueen
> Environmental Protection Department
> Lawrence Livermore National Laboratory
> Livermore, CA, USA
> --------------------------------------
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@nokomis.stat.umn.edu  Sun Nov  4 13:18:24 2001
From: luke@nokomis.stat.umn.edu (Luke Tierney)
Date: Sun, 4 Nov 2001 07:18:24 -0600
Subject: [Rd] Possible bug, Rprof() and scan(pipe()) (PR#1140)
In-Reply-To: <200111041301.OAA21775@pubhealth.ku.dk>; from ripley@stats.ox.ac.uk on Sun, Nov 04, 2001 at 02:01:10PM +0100
References: <200111041301.OAA21775@pubhealth.ku.dk>
Message-ID: <20011104071824.A10053@nokomis.stat.umn.edu>

This feels like a system call restarting issue.  Some OS's restart
system calls after signals, others do not. For those that don't, low
level reads need to check for EINTR and such.  Connections use high
level reads, which should be insulated by the stdio library.  Possibly
dawrin's gets this wrong.  If strace is available you might be able to
tell that way.

luke

On Sun, Nov 04, 2001 at 02:01:10PM +0100, ripley@stats.ox.ac.uk wrote:
> This does not happen on Solaris or Linux, so must be related to the use of
> signals on darwin.
> 
> It probably means Rprof should be avoided on that platform, but the
> porter (Jan de Leeuw) needs to investigate.
> 
> 
> On Tue, 23 Oct 2001 macq@llnl.gov wrote:
> 
> > This looks like a bug?
> > Unable to use scan(pipe()) while profiling.
> > I have no idea whether this version of R violates the
> >     "do not use `Rprof' in an executable built for profiling"
> > warning in ?Rprof.
> >
> > Thanks
> > -Don
> >
> > >  version
> >           _
> > platform powerpc-apple-darwin1.4
> > arch     powerpc
> > os       darwin1.4
> > system   powerpc, darwin1.4
> > status   Patched
> > major    1
> > minor    3.1
> > year     2001
> > month    10
> > day      15
> > language R
> > >
> > >  foo <- scan(pipe('ls -1 | head -3'),what='')
> > Read 3 items
> > >  foo
> > [1] "README"      "RMfiles.dat" "RMfiles.tmp"
> > >  Rprof()
> > >  foo <- scan(pipe('ls -1 | head -3'),what='')
> > Read 0 items
> > >  foo
> > character(0)
> > >  Rprof(NULL)
> > >  foo <- scan(pipe('ls -1 | head -3'),what='')
> > Read 3 items
> > >
> >
> > note, profiling does appear to be functional:
> > >  Rprof() ; hist(rnorm(10000)) ; Rprof(NULL)
> > >  system('R CMD Rprof Rprof.out')
> >
> > Each sample represents 0.02 seconds.
> > Total run time: 0.1 seconds.
> >
> > Total seconds: time spent in function and callees.
> > Self seconds: time spent in function alone.
> >
> >     %       total       %       self
> >   total    seconds     self    seconds    name
> > 100.00      0.10      0.00      0.00     "hist"
> >   60.00      0.06      0.00      0.00     "hist.default"
> >   40.00      0.04     40.00      0.04     "rnorm"
> >   40.00      0.04      0.00      0.00     "plot"
> >   40.00      0.04      0.00      0.00     "plot.histogram"
> >   20.00      0.02      0.00      0.00     "storage.mode<-"
> >   20.00      0.02     20.00      0.02     "X11"
> >   20.00      0.02      0.00      0.00     "paste"
> >   20.00      0.02      0.00      0.00     "rect"
> >   20.00      0.02      0.00      0.00     "plot.new"
> >   20.00      0.02     20.00      0.02     "seq.default"
> >   20.00      0.02      0.00      0.00     "seq"
> >   20.00      0.02     20.00      0.02     "par"
> >
> >     %       self        %       total
> >   self     seconds    total    seconds    name
> >   40.00      0.04     40.00      0.04     "rnorm"
> >   20.00      0.02     20.00      0.02     "X11"
> >   20.00      0.02     20.00      0.02     "seq.default"
> >   20.00      0.02     20.00      0.02     "par"
> >
> > --
> > --------------------------------------
> > Don MacQueen
> > Environmental Protection Department
> > Lawrence Livermore National Laboratory
> > Livermore, CA, USA
> > --------------------------------------
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke@stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Sun Nov  4 15:44:47 2001
From: edd@debian.org (Dirk Eddelbuettel)
Date: Sun, 4 Nov 2001 09:44:47 -0600
Subject: [Rd] Suggesting to have download.file() reflect a new option
Message-ID: <15333.25199.152800.194958@sonny.eddelbuettel.com>


The "auto" method of downloading a file cannot cope with a proxy firewall
requiring authentication. However, wget can handle this very easily (using
e.g. ~/.wgetrc).  While it is feasible to add the required
	 method="wget" 
to calls such as update.packages(), this approach is rather tedious and could
easily be controlled by use of a new option.

Below is a simple patch to download.file.R which, when no method is
specified, queries the (suggested) option download.file.method and sets it if
found; else the old default "auto" is used. The same patch can be applied to
windows/download.file.R.  I'd be happy to add a small patch to the
documentation of both download.file() and options() to complement this is the
patch is deemed acceptable.  

Regards,  Dirk


edd@sonny:~/debian/r-base-1.3.1> diff -u src/library/base/R/unix/download.file.R{.orig,}
--- src/library/base/R/unix/download.file.R.orig        Fri Apr 13 02:50:27 2001+++ src/library/base/R/unix/download.file.R     Sun Nov  4 09:27:47 2001
@@ -1,9 +1,12 @@
 download.file <- function(url, destfile, method,
                           quiet = FALSE, mode = "w")
 {
-    method <- if(missing(method)) "auto" else
-    match.arg(method,
-              c("auto", "internal", "wget", "lynx", "socket"))
+    method <- if (missing(method))
+      ifelse(!is.null(getOption("download.file.method")),
+             getOption("download.file.method"),
+             "auto")
+    else
+      match.arg(method, c("auto", "internal", "wget", "lynx", "socket"))
 
     if(method == "auto") {
         if(capabilities("http/ftp"))


-- 
Better to have an approximate answer to the right question 
than a precise answer to the wrong question. -- John Tukey
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Nov  4 15:48:25 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 4 Nov 2001 15:48:25 +0000 (GMT)
Subject: [Rd] Suggesting to have download.file() reflect a new option
In-Reply-To: <15333.25199.152800.194958@sonny.eddelbuettel.com>
Message-ID: <Pine.LNX.4.31.0111041547440.830-100000@gannet.stats>

Sounds very reasonable.  Please send me a patch file.

Brian

On Sun, 4 Nov 2001, Dirk Eddelbuettel wrote:

>
> The "auto" method of downloading a file cannot cope with a proxy firewall
> requiring authentication. However, wget can handle this very easily (using
> e.g. ~/.wgetrc).  While it is feasible to add the required
> 	 method="wget"
> to calls such as update.packages(), this approach is rather tedious and could
> easily be controlled by use of a new option.
>
> Below is a simple patch to download.file.R which, when no method is
> specified, queries the (suggested) option download.file.method and sets it if
> found; else the old default "auto" is used. The same patch can be applied to
> windows/download.file.R.  I'd be happy to add a small patch to the
> documentation of both download.file() and options() to complement this is the
> patch is deemed acceptable.
>
> Regards,  Dirk
>
>
> edd@sonny:~/debian/r-base-1.3.1> diff -u src/library/base/R/unix/download.file.R{.orig,}
> --- src/library/base/R/unix/download.file.R.orig        Fri Apr 13 02:50:27 2001+++ src/library/base/R/unix/download.file.R     Sun Nov  4 09:27:47 2001
> @@ -1,9 +1,12 @@
>  download.file <- function(url, destfile, method,
>                            quiet = FALSE, mode = "w")
>  {
> -    method <- if(missing(method)) "auto" else
> -    match.arg(method,
> -              c("auto", "internal", "wget", "lynx", "socket"))
> +    method <- if (missing(method))
> +      ifelse(!is.null(getOption("download.file.method")),
> +             getOption("download.file.method"),
> +             "auto")
> +    else
> +      match.arg(method, c("auto", "internal", "wget", "lynx", "socket"))
>
>      if(method == "auto") {
>          if(capabilities("http/ftp"))
>
>
> --
> Better to have an approximate answer to the right question
> than a precise answer to the wrong question. -- John Tukey
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Nov  5 08:47:59 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 5 Nov 2001 08:47:59 +0000 (GMT)
Subject: [Rd] round() doesnt (PR#1138)
In-Reply-To: <200110222231.f9MMViH22985@arbres1a.FMR.Com>
Message-ID: <Pine.LNX.4.31.0111050847180.7837-100000@gannet.stats>

On Mon, 22 Oct 2001, David Brahm wrote:

> Hi, all,
>
>    I swear, bug.report() ate my message!  Apologies to all, esp. Peter who
> will once again have to clean up after my mess...
>
>    The bug report was supposed to say:
>
> R> round(100000/3, -2) - 33300
>    [1] -7.275958e-12
>
> I would have hoped for 0.  The problem seems to be specifically for negative
> "digits".
> 			-- David Brahm (brahm@alum.mit.edu)

Fixed for R-devel.  Now for digits <=0 a final rounding to integer is done
in fround.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Mon Nov  5 14:28:15 2001
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Mon, 05 Nov 2001 09:28:15 -0500
Subject: [Rd] Setting NA from C code
Message-ID: <g28duto96jem4p73ts0l2rubaeek0s52gs@4ax.com>

In the maps library, NA's are inserted between polygons so lines() can
be used to draw all polygons at once.  The code to do it is like this:

            *x++ = NA_REAL;
            *y++ = NA_REAL;

where x and y are declared as 

	double *x, *y, *range;

and are the arguments passed in through a .C call.

However, the values show up in R as -6.62314033633867e-229 instead of
NA, so the drawing gets messed up.

Any suggestions as to what might be going wrong?

This is happening in Windows, using gcc 2.95.2, R source 1.3.1,
platform i386-pc-mingw32.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Nov  5 15:16:46 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 5 Nov 2001 15:16:46 +0000 (GMT)
Subject: [Rd] Setting NA from C code
In-Reply-To: <g28duto96jem4p73ts0l2rubaeek0s52gs@4ax.com>
Message-ID: <Pine.LNX.4.31.0111051458270.1438-100000@gannet.stats>

On Mon, 5 Nov 2001, Duncan Murdoch wrote:

> In the maps library, NA's are inserted between polygons so lines() can
> be used to draw all polygons at once.  The code to do it is like this:
>
>             *x++ = NA_REAL;
>             *y++ = NA_REAL;
>
> where x and y are declared as
>
> 	double *x, *y, *range;
>
> and are the arguments passed in through a .C call.
>
> However, the values show up in R as -6.62314033633867e-229 instead of
> NA, so the drawing gets messed up.
>
> Any suggestions as to what might be going wrong?

You are probably not importing R_NaReal, which is what NA_REAL is a macro
reference to.  That's the point of globalvars.h, which the standard
Makefile forces to be included.

This will not be needed from 1.4.0 on.

>
> This is happening in Windows, using gcc 2.95.2, R source 1.3.1,
> platform i386-pc-mingw32.
>
> Duncan Murdoch
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Mon Nov  5 15:07:42 2001
From: pgilbert@bank-banque-canada.ca (pgilbert@bank-banque-canada.ca)
Date: Mon, 5 Nov 2001 16:07:42 +0100 (MET)
Subject: [Rd] bug.report()sends empty message (PR#1158)
Message-ID: <200111051507.QAA03967@pubhealth.ku.dk>

This is a multi-part message in MIME format.
--------------FAC78F7B6BFECAD9BD873458
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

On Mon, 22 Oct 2001, David Brahm wrote:
>    I swear, bug.report() ate my message!  Apologies to all, esp. Peter who
> will once again have to clean up after my mess...

With some editors on Unix bug.report() does this. The problem is that
some editors (like Nedit) fork a separate process and return. The Unix
version of bug.report sends an empty message in this case. The fix is to
make the Unix version the same as the Windows version, with an optional
argument "wait".

Attached are four small files bug.report.R, bug.report.Rd, Sys.mail.R,
and Sys.mail.Rd, which attempt to fix the problem and the documentation.
They also separate out the mail mechanism as a utility that can be used
elsewhere. Unfortunately, I have only been able to test these on a
limited number of platforms.

Paul Gilbert

--------------FAC78F7B6BFECAD9BD873458
Content-Type: text/plain; charset=us-ascii;
 name="bug.report.R"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="bug.report.R"

bug.report <- function(subject = "", ccaddress = Sys.getenv("USER"),
                       method = getOption("mailer"),
                       address = "gilp",  #"r-bugs@r-project.org",
                       file = "R.bug.report",
		       wait=TRUE)
{
    methods <- c("mailx", "gnudoit", "none", "ess")

    method <-
	if(is.null(method)) "none"
	else methods[pmatch(method, methods)]

    body <- paste("\\n<<insert bug report here>>\\n\\n\\n\\n",
		  "--please do not edit the information below--\\n\\n",
		  "Version:\\n ",
		  paste(names(R.version),R.version, sep=" = ",collapse="\\n "),
		  "\\n\\n",
		  "Search Path:\\n ",
		  paste(search(), collapse=", "),
		  "\\n", sep="", collapse="")

    if(method == "gnudoit") {
	cmd <- paste("gnudoit -q '",
		     "(mail nil \"", address, "\")",
		     "(insert \"", body, "\")",
		     "(search-backward \"Subject:\")",
		     "(end-of-line)'",
		     sep="")
	system(cmd)
        if (wait) {
	  cat("Hit Return to continue in R. ")
	  answer <- readline()
        }
    }
    else if(method=="none"){

        disclaimer <-
            paste("# Your mailer is set to \"none\" (default on Windows),\n",
                  "# hence we cannot send the bug report directly from R.\n",
                  "# Please copy the bug report (after finishing it) to\n",
                  "# your favorite email program and send it to\n#\n",
                  "#       ", address, "\n#\n",
                  "######################################################\n",
                  "\n\n", sep = "")

        cat(disclaimer, file=file)
	body <- gsub("\\\\n", "\n", body)
	cat(body, file=file, append=TRUE)
	system(paste(getOption("editor"), file))
        cat("The unsent bug report can be found in file", file, "\n")
        if (wait) {
	  cat("Hit Return to continue in R. ")
	  answer <- readline()
        }
    }
    else if(method == "mailx"){

        if(missing(subject)) stop("Subject missing")

	body <- gsub("\\\\n", "\n", body)
	cat(body, file=file, append=FALSE)
	system(paste(getOption("editor"), file))
	
	if (wait) {
	  cat("Submit the bug report? (finish editing and save the file before responding) ")
	  answer <- readline()
	  answer <- grep("y", answer, ignore.case=TRUE)
	  if(length(answer)>0){
 	     body <- scan(file, what="char", sep="\n")
             cat("Sending email ...\n")
             status <- Sys.mail(address=address, ccaddress=ccaddress,
	                       subject=subject, body=body, method="mailx")
             if(!status) status <- Sys.mail(address=address, ccaddress=ccaddress,
	                       subject=subject, body=body, method="mail")
             if(!status) status <- Sys.mail(address=address, ccaddress=ccaddress,
	                       subject=subject, body=body, method="Mail")
             if(!status) {
                cat("Sending email failed!\n")
                cat("The unsent bug report can be found in file", file, "\n")
            }
	  }
        }
        else cat("The unsent bug report can be found in file", file, "\n")
    }
    else if(method=="ess"){
	body <- gsub("\\\\n", "\n", body)
	cat(body)
        if (wait) {
	  cat("Hit Return to continue in R. ")
	  answer <- readline()
        }
    }
}

--------------FAC78F7B6BFECAD9BD873458
Content-Type: text/plain; charset=us-ascii;
 name="bug.report.Rd"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="bug.report.Rd"

\name{bug.report}
\alias{bug.report}
\title{Send a Bug Report}
\usage{
bug.report(subject = "", ccaddress = Sys.getenv("USER"),
           method = getOption("mailer"), 
	   address = "r-bugs@r-project.org",
           file = "R.bug.report",
	   wait = TRUE)

}
\arguments{
  \item{subject}{Subject of the email. Please do not use single quotes
    (\code{'}) in the subject!}
  \item{ccaddress}{Optional email address for copies (default is current
    user).  Use \code{ccaddress = NULL} for no copies.}
  \item{method}{Submission method, one of \code{"mailx"},
    \code{"gnuclient"}, \code{"none"}, or \code{"ess"}.}
  \item{address}{Recipient's email address.}
  \item{file}{File to use for setting up the email (or storing it when
    method is \code{"none"} or sending mail fails).}
  \item{wait}{logical. Should \R wait for the editor to return?}
}
\description{
  Invokes an editor to write a bug report and optionally mail it to the
  r-bugs list at \email{r-bugs@r-project.org}.  Some standard
  information on the current version and configuration of \R are 
  included automatically.
}
\details{
  Currently direct submission of bug reports works only on Unix systems.
  If the submission method is \code{"mailx"}, then the default editor is
  used to write the bug report. Which editor is used can be controlled
  using \code{\link{options}}, type \code{getOption("editor")} to see what
  editor is currently defined. Please use the help pages of the
  respective editor for details of usage. After saving the bug report
  (in the temporary file opened) and exiting the editor
  the report is mailed using a Unix command line mail utility such as
  \code{mailx}.  A copy of the mail is sent to the current user.

  If method is \code{"gnuclient"}, then an emacs mail buffer is opened
  and used for sending the email.

  If method is \code{"none"} or \code{NULL} (which is the default on
  Windows systems), then only an editor is opened to help writing the
  bug report.  The report can then be copied to your favorite email
  program and be sent to the r-bugs list.

  If method is \code{"ess"} the body of the mail is simply sent to
  stdout.
  
  If wait is \code{"TRUE"} then \R issues a prompt after the editor is started
  and waits for input. If \R is sending the mail (e.g. with method
  code{"mailx"}) then wait should be \code{"TRUE"}. In this case the edited file
  must be saved before responding to the question.
}
\value{Nothing useful.}
\section{When is there a bug?}{
  If \R executes an illegal instruction, or dies with an operating
  system error message that indicates a problem in the program (as
  opposed to something like ``disk full''), then it is certainly a bug.

  Taking forever to complete a command can be a bug, but you must make
  certain that it was really \R's fault.  Some commands simply take a
  long time.  If the input was such that you KNOW it should have been
  processed quickly, report a bug.  If you don't know whether the
  command should take a long time, find out by looking in the manual or
  by asking for assistance.

  If a command you are familiar with causes an \R error message in a
  case where its usual definition ought to be reasonable, it is probably
  a bug.  If a command does the wrong thing, that is a bug.  But be sure
  you know for certain what it ought to have done.  If you aren't
  familiar with the command, or don't know for certain how the command
  is supposed to work, then it might actually be working right.  Rather
  than jumping to conclusions, show the problem to someone who knows for
  certain.

   Finally, a command's intended definition may not be best for
   statistical analysis.  This is a very important sort of problem, but
   it is also a matter of judgment.  Also, it is easy to come to such a
   conclusion out of ignorance of some of the existing features.  It is
   probably best not to complain about such a problem until you have
   checked the documentation in the usual ways, feel confident that you
   understand it, and know for certain that what you want is not
   available.  If you are not sure what the command is supposed to do
   after a careful reading of the manual this indicates a bug in the
   manual.  The manual's job is to make everything clear.  It is just as
   important to report documentation bugs as program bugs.

   If the online argument list of a function disagrees with the manual,
   one of them must be wrong, so report the bug.
}
\section{How to report a bug}{
  When you decide that there is a bug, it is important to report it and
  to report it in a way which is useful.  What is most useful is an
  exact description of what commands you type, from when you start \R
  until the problem happens.  Always include the version of \R, machine,
  and operating system that you are using; type `version' in \R to print
  this. 

  The most important principle in reporting a bug is to report FACTS,
  not hypotheses or categorizations.  It is always easier to report the
  facts, but people seem to prefer to strain to posit explanations and
  report them instead.  If the explanations are based on guesses about
  how \R is implemented, they will be useless; we will have to try to 
  figure out what the facts must have been to lead to such
  speculations.  Sometimes this is impossible.  But in any case, it is
  unnecessary work for us.

  For example, suppose that on a data set which you know to be quite
  large the command \code{data.frame(x, y, z, monday, tuesday)} never
  returns.  Do not report that \code{data.frame()} fails for large data
  sets.  Perhaps it fails when a variable name is a day of the week.  If
  this is so then when we got your report we would try out the
  \code{data.frame()} command on a large data set, probably with no day
  of the week variable name, and not see any problem. There is no way in
  the world that we could guess that we should try a day of the week
  variable name.

  Or perhaps the command fails because the last command you used was a
  \code{[} method that had a bug causing \R's internal data structures
  to be corrupted and making the \code{data.frame()} command fail from
  then on.  This is why we need to know what other commands you have
  typed (or read from your startup file).

  It is very useful to try and find simple examples that produce
  apparently the same bug, and somewhat useful to find simple examples
  that might be expected to produce the bug but actually do not.  If you
  want to debug the problem and find exactly what caused it, that is
  wonderful.  You should still report the facts as well as any
  explanations or solutions.

  Invoking \R with the \code{--vanilla} option may help in isolating a
  bug.  This ensures that the site profile and saved data files are not
  read.

  On some systems a bug report can be generated using the
  \code{bug.report()} function.  This automatically includes the version
  information and sends the bug to the correct address.  Alternatively
  the bug report can be emailed to \email{r-bugs@r-project.org} or
  submitted to the Web page at \url{http://bugs.r-project.org}.
}
\seealso{R FAQ, \code{link{Sys.mail}} }
\author{This help page is adapted from the Emacs manual}
\keyword{utilities}
\keyword{error}

--------------FAC78F7B6BFECAD9BD873458
Content-Type: text/plain; charset=us-ascii;
 name="Sys.mail.R"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="Sys.mail.R"

Sys.mail <- function(address = Sys.info()$user,
                     ccaddress  = NULL,
                     bccaddress = NULL,
		     subject    = NULL,
		     body= "no body",
                     method = getOption("mailer")) {
   if(!(is.character(address) && nchar(address)>0))
      stop("A character string address must be specified.")

   # The arguments to mail, mailx, and Mail are all the same, but a different
   # mailer will require that this first part be re-organized under the
   # specific method.
   file <- tempfile()
   on.exit(unlink(file))
   cat(body, file=file, append=FALSE, sep="\n")
   cmdargs <- paste(address, "<", file, "2>/dev/null")
	
   if(is.character(ccaddress) && nchar(ccaddress)>0) 
            cmdargs <- paste(" -c '", ccaddress, "' ",  cmdargs)

   if(is.character(bccaddress) && nchar(bccaddress)>0) 
            cmdargs <- paste(" -b '", bccaddress, "' ",  cmdargs)

   if(is.character(subject) && nchar(subject)>0) 
            cmdargs <- paste(" -s '", subject, "' ",  cmdargs)

   status <- 1
   if(method == "mailx") status <- system(paste("mailx", cmdargs)) else
   if(method == "mail")  status <- system(paste("mail", cmdargs))  else 
   if(method == "Mail")  status <- system(paste("Mail", cmdargs))  else {
	warning(paste("mail method ", method, " not supported.\n"))
	return(F)
	}
   if(status > 0) {
	warning(paste("sending email with ", method, " failed.\n"))
	return(F)
	}
   T
   }

--------------FAC78F7B6BFECAD9BD873458
Content-Type: text/plain; charset=us-ascii;
 name="Sys.mail.Rd"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="Sys.mail.Rd"

\name{Sys.mail}
\alias{Sys.mail}
\title{Send Mail}
\usage{
Sys.mail(address= Sys.info()$user, ccaddress = NULL, bccaddress = NULL,
           subject = NULL, body= "no body", method = getOption("mailer"))
}
\arguments{
  \item{address}{Recipient's email address. The default is the user name as
     indicated by \code{Sys.info()$user}, which will correspond to your 
     own email address on many systems.}
  \item{ccaddress}{Optional email address for copies. 
    Use \code{ccaddress = NULL} for no copies.}
  \item{bccaddress}{Optional email address for blind copies.
    Use \code{bccaddress = NULL} for no copies.}
  \item{subject}{Subject of the email. Please do not use single quotes
     in the subject!}
  \item{method}{Submission method, one of \code{"mailx"},
    \code{"mail"}, or \code{"Mail"}.}
  \item{body}{A vector of character, one line per element to place in the body
     of the email.}
}
\description{
  Use a system mail tool to send a message. Multiple recipients can be
  specified in any of the addresses by enclosing them in double (\code{"}) 
  quotes. Please do not use single (\code{'}) quotes.
  
  The body is a vector of character. Each element of body is written 
  as a line of the message body.
}
\details{
  Currently works only on Unix systems using "mailx", "mail" or "Mail". The mail
  tool needs to be found on your Unix search path.
}
\value{TRUE or FALSE indicating success or failure as returned by the operating
    system. (This does not indicate that the message was received at the 
    address.)}

\examples{
    \dontrun{Sys.mail(address="friends", subject="R", body="R is great")}
}
\seealso{\code{link{options}} }
\author{Paul Gilbert}
\keyword{utilities}


--------------FAC78F7B6BFECAD9BD873458--


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From macq@llnl.gov  Mon Nov  5 17:47:58 2001
From: macq@llnl.gov (macq@llnl.gov)
Date: Mon, 5 Nov 2001 18:47:58 +0100 (MET)
Subject: [Rd] Possible bug, Rprof() and scan(pipe()) (PR#1140)
Message-ID: <200111051747.SAA05634@pubhealth.ku.dk>

Jan,
Here is information on the problem with Rprof() that I encountered, 
including Brian Ripley's assessment.
This is OS X 10.1 with the 10.1 developer tools installed.
-Don

At 1:00 PM +0000 11/4/01, Prof Brian Ripley wrote:
>This does not happen on Solaris or Linux, so must be related to the use of
>signals on darwin.
>
>It probably means Rprof should be avoided on that platform, but the
>porter (Jan de Leeuw) needs to investigate.
>
>
>On Tue, 23 Oct 2001 macq@llnl.gov wrote:
>
>>  This looks like a bug?
>>  Unable to use scan(pipe()) while profiling.
>>  I have no idea whether this version of R violates the
>>      "do not use `Rprof' in an executable built for profiling"
>>  warning in ?Rprof.
>>
>>  Thanks
>>  -Don
>>
>>  >  version
>>            _
>>  platform powerpc-apple-darwin1.4
>>  arch     powerpc
>>  os       darwin1.4
>>  system   powerpc, darwin1.4
>>  status   Patched
>>  major    1
>>  minor    3.1
>>  year     2001
>>  month    10
>>  day      15
>>  language R
>>  >
>  > >  foo <- scan(pipe('ls -1 | head -3'),what='')
>>  Read 3 items
>>  >  foo
>>  [1] "README"      "RMfiles.dat" "RMfiles.tmp"
>>  >  Rprof()
>>  >  foo <- scan(pipe('ls -1 | head -3'),what='')
>>  Read 0 items
>>  >  foo
>>  character(0)
>>  >  Rprof(NULL)
>  > >  foo <- scan(pipe('ls -1 | head -3'),what='')
>>  Read 3 items
>>  >
>>
>>  note, profiling does appear to be functional:
>>  >  Rprof() ; hist(rnorm(10000)) ; Rprof(NULL)
>>  >  system('R CMD Rprof Rprof.out')
>  >
>>  Each sample represents 0.02 seconds.
>>  Total run time: 0.1 seconds.
>>
>>  Total seconds: time spent in function and callees.
>>  Self seconds: time spent in function alone.
>>
>>      %       total       %       self
>>    total    seconds     self    seconds    name
>>  100.00      0.10      0.00      0.00     "hist"
>>    60.00      0.06      0.00      0.00     "hist.default"
>>    40.00      0.04     40.00      0.04     "rnorm"
>>    40.00      0.04      0.00      0.00     "plot"
>>    40.00      0.04      0.00      0.00     "plot.histogram"
>>    20.00      0.02      0.00      0.00     "storage.mode<-"
>>    20.00      0.02     20.00      0.02     "X11"
>>    20.00      0.02      0.00      0.00     "paste"
>>    20.00      0.02      0.00      0.00     "rect"
>>    20.00      0.02      0.00      0.00     "plot.new"
>>    20.00      0.02     20.00      0.02     "seq.default"
>>    20.00      0.02      0.00      0.00     "seq"
>>    20.00      0.02     20.00      0.02     "par"
>>
>>      %       self        %       total
>>    self     seconds    total    seconds    name
>>    40.00      0.04     40.00      0.04     "rnorm"
>>    20.00      0.02     20.00      0.02     "X11"
>>    20.00      0.02     20.00      0.02     "seq.default"
>>    20.00      0.02     20.00      0.02     "par"
>>
>>  --
>>  --------------------------------------
>>  Don MacQueen
>>  Environmental Protection Department
>>  Lawrence Livermore National Laboratory
>>  Livermore, CA, USA
>>  --------------------------------------
>>
>> 
>>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>>  r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>>  Send "info", "help", or "[un]subscribe"
>>  (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
>> 
>>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>>
>
>--
>Brian D. Ripley,                  ripley@stats.ox.ac.uk
>Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>University of Oxford,             Tel:  +44 1865 272861 (self)
>1 South Parks Road,                     +44 1865 272860 (secr)
>Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jerome@hivnet.ubc.ca  Mon Nov  5 22:41:16 2001
From: jerome@hivnet.ubc.ca (jerome@hivnet.ubc.ca)
Date: Mon, 5 Nov 2001 23:41:16 +0100 (MET)
Subject: [Rd] stepwise algorithm step() on coxph() (PR#1159)
Message-ID: <200111052241.XAA06884@pubhealth.ku.dk>

Full_Name: Jerome Asselin
Version: 1.3.1
OS: MacOS 9.2
Submission from: (NULL) (142.103.173.46)



The step() function attempts to calculate the deviance of fitted models even if
does not really need it. As a consequence, the step() function gives an error
when it is used with coxph(). (There is currently no method to calculate the
deviance of coxph() fits.) The code below gives an example of how the deviance
is not necessary (at least for the default parameters of step()). Note that the
deviance does not seem necessary even for linear models (lm()).

#########################
library(survival)

set.seed(3)

#Create a fake dataset
y <- rgamma(10,1)
x1 <- rnorm(10)
x2 <- rnorm(10)
x3 <- rnorm(10)

step(coxph(Surv(y) ~ x1+x2+x3)) #Gives an error
step(lm(y ~ x1+x2+x3))
step(glm(y ~ x1+x2+x3))
step(aov(y ~ x1+x2+x3))

#Mask the deviance() function (Temporary patch??)
deviance <- function(...) NA

step(coxph(Surv(y) ~ x1+x2+x3)) #Gives no error
step(lm(y ~ x1+x2+x3)) #Same result as before
step(glm(y ~ x1+x2+x3))#Same result as before
step(aov(y ~ x1+x2+x3))#Same result as before

rm(deviance)


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Nov  6 08:17:34 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 6 Nov 2001 09:17:34 +0100 (MET)
Subject: [Rd] stepwise algorithm step() on coxph() (PR#1159)
Message-ID: <200111060817.JAA08689@pubhealth.ku.dk>

This is not an error.  Nobody said step would work with coxph models.
The help page says

  object: an object representing a model of an appropriate class. This
          is used as the initial model in the stepwise search.

and you are jumping to conclusions.  I've added a note to the help file.

There is an extractAIC.coxph method for use with stepAIC in package MASS.
That does work in your example.

I had a report about multinom fits and step() recently: same answer, it is
stepAIC that works, not step.

Think of step() as minimal implementation to provide some compatibility
with that in S (which only offers lm and glm methods).  And as step() in S
works with deviances, the compatibility function does too.


On Mon, 5 Nov 2001 jerome@hivnet.ubc.ca wrote:

> Full_Name: Jerome Asselin
> Version: 1.3.1
> OS: MacOS 9.2
> Submission from: (NULL) (142.103.173.46)
>
>
>
> The step() function attempts to calculate the deviance of fitted models even if
> does not really need it. As a consequence, the step() function gives an error
> when it is used with coxph(). (There is currently no method to calculate the
> deviance of coxph() fits.) The code below gives an example of how the deviance
> is not necessary (at least for the default parameters of step()). Note that the
> deviance does not seem necessary even for linear models (lm()).
>
> #########################
> library(survival)
>
> set.seed(3)
>
> #Create a fake dataset
> y <- rgamma(10,1)
> x1 <- rnorm(10)
> x2 <- rnorm(10)
> x3 <- rnorm(10)
>
> step(coxph(Surv(y) ~ x1+x2+x3)) #Gives an error
> step(lm(y ~ x1+x2+x3))
> step(glm(y ~ x1+x2+x3))
> step(aov(y ~ x1+x2+x3))
>
> #Mask the deviance() function (Temporary patch??)
> deviance <- function(...) NA
>
> step(coxph(Surv(y) ~ x1+x2+x3)) #Gives no error
> step(lm(y ~ x1+x2+x3)) #Same result as before
> step(glm(y ~ x1+x2+x3))#Same result as before
> step(aov(y ~ x1+x2+x3))#Same result as before
>
> rm(deviance)
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Tue Nov  6 09:59:19 2001
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Tue, 6 Nov 2001 10:59:19 +0100
Subject: [Rd] beware of  sapply(x, data.class) == "numeric"
Message-ID: <15335.46199.765625.257344@gargle.gargle.HOWL>

This is just a warning/hint to others; package/function writers in
particular : 

The `cluster' package (originally S-plus from Rousseeuw et al) currently 
has code such as

	## check type of input matrix
	if((!is.data.frame(x) && !is.numeric(x)) ||
	   !all(sapply(x, data.class) == "numeric"))
	    stop("x is not a numeric dataframe or matrix.")
	x <- data.matrix(x)

This was naver quite correct (see below), but with the 
new (R-devel or R-1.4.0) behavior of  read.table() becomes "fatal".
The new read.table() behavior does easily return data.frame()s with integer
component vectors {which is nice; among others, half memory!}.
such that the above test fails.

I think I have seen the ``idiom'' 

  all(sapply(x, data.class) == "numeric")

in other places too, so beware!  In most cases, this probably should be

  all(sapply(x, data.class) %in% c("numeric","integer","logical"))

A better alternative in most cases would be something like

  { x <- data.matrix(x);  is.numeric(x) || is.logical(x) }


Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@nokomis.stat.umn.edu  Tue Nov  6 12:18:07 2001
From: luke@nokomis.stat.umn.edu (Luke Tierney)
Date: Tue, 6 Nov 2001 06:18:07 -0600
Subject: [Rd] change in save file format
Message-ID: <20011106061807.A20192@nokomis.stat.umn.edu>

The development verison now uses a new save file format.  The previous
format used through R 1.3.1 can still be read and can also be written
by sypplying an explicit version argument to save().  The new format
supports saving some new internal types, reduces the size of saved
code files, and forms the basis for a more flexible serialization
mechanism. A C interface to this mechanism, which should be considered
experimental and subject to change, is available in the devel version.
An (even more) experimental R interface is described in notes
available from developer.r-project.org (search for serialization).

luke

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke@stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From andy_liaw@merck.com  Tue Nov  6 15:17:55 2001
From: andy_liaw@merck.com (Liaw, Andy)
Date: Tue, 06 Nov 2001 10:17:55 -0500
Subject: R-devel & ATLAS generates Dr. Watson on NT (was RE: [Rd] Look,
 Wa	tson! La.svd & ATLAS)
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC8368@usrymx10.merck.com>

Prof. Bates & R-devel,

I've done more test with the following results:

I have two versions of ATLAS 3.2.1.  One was compiled on my old Thinkpad
600E (PII), the other was compiled on my new Thinkpad T22 (PIIISSE1).

I compiled R-devel dated 10/31, 11/01 and 11/04, linked against either of
the two ATLAS libs.  All gave Dr. Watson when given this code:

  La.svd(matrix(runif(1e5), 1e3, 1e2))

(There's no problem with smaller matrices, say 100x100.)

When compiled without ATLAS, the above code ran fine in all three R-devel's.

I tried R-1.3.1 with both ATLAS libs, and both ran fine.

Any ideas on what could be wrong?  Seems like R-devel doesn't like ATLAS, at
least on WinNT...

Regards,
Andy


-----Original Message-----
From: Douglas Bates [mailto:bates@stat.wisc.edu]
Sent: Friday, November 02, 2001 9:27 AM
To: Liaw, Andy
Cc: 'r-devel@stat.math.ethz.ch'
Subject: Re: [Rd] Look, Watson! La.svd & ATLAS


"Liaw, Andy" <andy_liaw@merck.com> writes:

> Dear R-devel,
> 
> I had attempted to compile r-devel (dated Oct. 31, 2001) on WinNT with
link
> to ATLAS, with mostly success.  However, when I tried the following, I got
a
> visit from Dr. Watson:
> 
> 
> R : Copyright 2001, The R Development Core Team
> Version 1.4.0 Under development (unstable) (2001-10-31)
> 
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type `license()' or `licence()' for distribution details.
> 
> R is a collaborative project with many contributors.
> Type `contributors()' for more information.
> 
> Type `demo()' for some demos, `help()' for on-line help, or
> `help.start()' for a HTML browser interface to help.
> Type `q()' to quit R.
> 
> > set.seed(1)
> > x <- matrix(runif(1e4), 1e2, 1e2)
> > invisible(La.svd(x))                         # This ran fine.
> > x <- matrix(runif(1e5), 1e3, 1e2)
> > invisible(La.svd(x))
> 
> (Dr. Watson says there's an access violation.)

I was able to run those examples without ill effects on an R-1.4.0
(development) (2001-10-30) with Atlas 3.2.1 on a Linux system (Debian
testing)

> set.seed(1)
> x <- matrix(runif(1e4), 1e2, 1e2)
> invisible(La.svd(x))
> x <- matrix(runif(1e5), 1e3, 1e2)
> invisible(La.svd(x))
> x <- matrix(runif(1e4), 1e2, 1e2)
> system.time(invisible(La.svd(x)))
[1] 0.04 0.00 0.04 0.00 0.00
> x <- matrix(runif(1e5), 1e3, 1e2)
> system.time(invisible(La.svd(x)))
[1] 1.15 0.01 2.39 0.00 0.00
> system.time(La.svd(x, nu = 0, nv = 0))
[1] 0.33 0.00 0.63 0.00 0.00
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Nov  6 15:25:16 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 6 Nov 2001 15:25:16 +0000 (GMT)
Subject: R-devel & ATLAS generates Dr. Watson on NT (was RE: [Rd] Look,
 Wa tson! La.svd & ATLAS)
In-Reply-To: <51F9C42DA15CD311BD220008C707D81903DC8368@usrymx10.merck.com>
Message-ID: <Pine.LNX.4.31.0111061520390.22427-100000@gannet.stats>

On Tue, 6 Nov 2001, Liaw, Andy wrote:

> I've done more test with the following results:
>
> I have two versions of ATLAS 3.2.1.  One was compiled on my old Thinkpad
> 600E (PII), the other was compiled on my new Thinkpad T22 (PIIISSE1).
>
> I compiled R-devel dated 10/31, 11/01 and 11/04, linked against either of
> the two ATLAS libs.  All gave Dr. Watson when given this code:
>
>   La.svd(matrix(runif(1e5), 1e3, 1e2))
>
> (There's no problem with smaller matrices, say 100x100.)
>
> When compiled without ATLAS, the above code ran fine in all three R-devel's.
>
> I tried R-1.3.1 with both ATLAS libs, and both ran fine.
>
> Any ideas on what could be wrong?  Seems like R-devel doesn't like ATLAS, at
> least on WinNT...

I have no idea.  Quite possible though.  As we no longer have an active
Windows maintainer, it's down to you.  (Very little testing has been done
on Windows since 1.3.1 was released.)  You need to build a debug version
and look at the dump with gdb to start to debug the problem.

It's not realistic to expect R-devel to work on minority platforms all the
time.  These days it is unrealistic to expect much support on Windows
at all.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From janef@stat.berkeley.edu  Tue Nov  6 18:19:49 2001
From: janef@stat.berkeley.edu (janef@stat.berkeley.edu)
Date: Tue, 6 Nov 2001 19:19:49 +0100 (MET)
Subject: [Rd] incorrect xlim error message in image() (PR#1160)
Message-ID: <200111061819.TAA17688@pubhealth.ku.dk>


Hi,

I am having problem with R misinterpreting (x,y) values in image(). I
downloaded the followiing binary version of R:

> version
         _
platform i686-pc-linux-gnu
arch     i686
os       linux-gnu
system   i686, linux-gnu
status
major    1
minor    3.0
year     2001
month    06
day      22
language R
> q()
[janef@cc-jainlabx1 Poster.tahoe]$ gcc -v
Reading specs from /usr/lib/gcc-lib/i386-redhat-linux/2.96/specs
gcc version 2.96 20000731 (Red Hat Linux 7.1 2.96-81)

Here is the transcript of an example:


_______________________________________

x1 <- c(6.564103,
13.77149,13.7715,21.66154,21.82564,26.21374,30.85128,31.0055,31.01538,32.33805,3
3.14872,37.42195,47.92451,54.3179,58.90297,60.55385,84.56862,100.0862,111.2681,1
94,194.4878,195.8302)

x2 <-
c(0,0.002242152,0.004484305,0.006726457,0.00896861,0.01121076,0.01345291,0.01569
507,0.01793722,0.02017937,0.02242152,0.02466368,0.02690583,0.02914798,0.03139013
,0.03363229,0.03587444,0.03811659,0.04035874,0.04932735,0.05156951,0.05381166)

y <- 1

z <-
c(0,0.067,NA,0.167,0.083,0.05,0.067,NA,0,0.1,0,0.05,0.067,0.067,0.016,0.117,0.01
7,-0.017,0.2,0.35,0.134,0.15)

z_matrix(z, length(z),1)
image(x2, y, z)
Error in image(as.double(x), as.double(y), as.integer(zi), col) :
        invalid x / y values or limits

image(x2[1:20], y, as.matrix(z[1:20,]))

"OK"

image(x1, y, z)
Error in image(as.double(x), as.double(y), as.integer(zi), col) :
        invalid x / y values or limits

image(x1[1:20], y, as.matrix(z[1:20,]))
Error in image(as.double(x), as.double(y), as.integer(zi), col) :
        invalid x / y values or limits

________________________________________

Jason Turner (jasont@indigoindustrial.co.nz) had been kindly helping me
with figureing it out and he sugegstedd that it's a bug and sent me the
following email:

_____________________


For giggles, I tweaked plot3d.c to track where the error occured.  The diff
output is:

!!!THIS PATCH IS A BUG TRACE, NOT A BUG FIX!!!
--PATCH BEGINS --
1518a1519
>     fprintf(stderr,"test 1\n");
1519a1521
>     fprintf(stderr,"test 2\n");
1520a1523
>     fprintf(stderr,"test 3\n");
1522,1524c1525,1542
<     for (i = 1; i < nx; i++)
<       if (!R_FINITE(x[i]) || x[i] <= x[i - 1]) goto badxy;
<     for (j = 1; j < ny; j++)
---
>     fprintf(stderr,"test 4\n");
>     for (i = 1; i < nx; i++) {
>     for (i = 1; i < nx; i++) {
>         fprintf(stderr,"test 4 - %d\n",i);
>       if (!R_FINITE(x[i]) || x[i] <= x[i - 1]) {
>               if(!R_FINITE(x[i])) {
>                       fprintf(stderr,"not a finite number\n");
>               } else if( x[i] <= x[i-1]) {
>                       fprintf(stderr,"x[%d] <= x[%d]\n",i,i-1);
>                       fprintf(stderr,"%f <= %f\n",x[i],x[i-1]);
>               } else {
>                       fprintf(stderr,"now it looks fine\n");
>               }
>               goto badxy;
>       }
>     }
>     fprintf(stderr,"test 5\n");
>     for (j = 1; j < ny; j++){
>         fprintf(stderr,"test 5 - %d\n",j);
1525a1544
>     }
--PATCH ENDS--

Your transcript session with the tweaked plot3d:

> x1 <- c(6.564103,
13.77149,13.7715,21.66154,21.82564,26.21374,30.85128,31.0055,31.01538,32.33805,3
3.14872,37.42195,47.92451,54.3179,58.90297,60.55385,84.56862,100.0862,111.2681,1
94,194.4878,195.8302)
>
> x2 <-
c(0,0.002242152,0.004484305,0.006726457,0.00896861,0.01121076,0.01345291,0.01569
507,0.01793722,0.02017937,0.02242152,0.02466368,0.02690583,0.02914798,0.03139013
,0.03363229,0.03587444,0.03811659,0.04035874,0.04932735,0.05156951,0.05381166)
>
> y <- 1
>
> z <-
c(0,0.067,NA,0.167,0.083,0.05,0.067,NA,0,0.1,0,0.05,0.067,0.067,0.016,0.117,0.01
7,-0.017,0.2,0.35,0.134,0.15)
>
> z_matrix(z, length(z),1)
>
> image(x2, y, z)
test 1
test 2
test 3
test 4
test 4 - 1
test 4 - 2
test 4 - 3
test 4 - 4
test 4 - 5
test 4 - 6
test 4 - 7
test 4 - 8
test 4 - 9
test 4 - 10
test 4 - 11
test 4 - 12
test 4 - 13
test 4 - 14
test 4 - 15
test 4 - 16
test 4 - 17
test 4 - 18
test 4 - 19
test 4 - 20
test 4 - 21
x[21] <= x[20]
0.052691 <= 0.053812
Error in image(as.double(x), as.double(y), as.integer(zi), col) :
        invalid x / y values or limits
> ## x[20] and x[21] correspond to x2[21] and x2[22]
> x2[21:22]
[1] 0.05156951 0.05381166
> ## nb - x2[22] has same value as x[20] ???
> q()

Looks like some serious confusion over the value of numbers. Or I'm
seriously confused about they way R's main components handle arrays. Note
that my system also passed make check (before I tweaked plot3d.c).

___________________________

Thank you for all your help.

Sincerily, Jane



**************************************************************************************
Jane Fridlyand, Ph.D., Bioinformatics Scientist
UCSF Cancer Center, Box 0128 San Francisco, CA 94143-0128
Office: Room N412 Tel: (415)514-3302 Fax: (415)502-3179
**************************************************************************************

---------- Forwarded message ----------
Date: Fri, 2 Nov 2001 20:32:23 +1300
From: Jason Turner <jasont@indigoindustrial.co.nz>
To: Jane Fridlyand <janef@stat.Berkeley.EDU>
Subject: Re: image function

Jane,

When you've got the information about your system ("version" output
and binary/source+compiler+make check info), sent that to
r-bugs@r-project.org, along with the transcript below.  Do not copy
r-help into that letter; those who monitor r-bugs also watch r-help,
and they dislike duplicate messages even more than the rest of us
(becuase they get so many).  I found this out the hard way ;-)
Give it a nice description, such as "incorrect xlim error message
in image()", and you'll make their job even easier.

For giggles, I tweaked plot3d.c to track where the error occured (I
can never remember how to make gdb work when I need it).  The diff
output is:


!!!THIS PATCH IS A BUG TRACE, NOT A BUG FIX!!!
--PATCH BEGINS --
1518a1519
>     fprintf(stderr,"test 1\n");
1519a1521
>     fprintf(stderr,"test 2\n");
1520a1523
>     fprintf(stderr,"test 3\n");
1522,1524c1525,1542
<     for (i = 1; i < nx; i++)
< 	if (!R_FINITE(x[i]) || x[i] <= x[i - 1]) goto badxy;
<     for (j = 1; j < ny; j++)
---
>     fprintf(stderr,"test 4\n");
>     for (i = 1; i < nx; i++) {
>         fprintf(stderr,"test 4 - %d\n",i);
> 	if (!R_FINITE(x[i]) || x[i] <= x[i - 1]) {
> 		if(!R_FINITE(x[i])) {
> 			fprintf(stderr,"not a finite number\n");
> 		} else if( x[i] <= x[i-1]) {
> 			fprintf(stderr,"x[%d] <= x[%d]\n",i,i-1);
> 			fprintf(stderr,"%f <= %f\n",x[i],x[i-1]);
> 		} else {
> 			fprintf(stderr,"now it looks fine\n");
> 		}
> 		goto badxy;
> 	}
>     }
>     fprintf(stderr,"test 5\n");
>     for (j = 1; j < ny; j++){
>         fprintf(stderr,"test 5 - %d\n",j);
1525a1544
>     }
--PATCH ENDS--

Your transcript session with the tweaked plot3d:

R : Copyright 2001, The R Development Core Team
Version 1.3.1  (2001-08-31)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type `license()' or `licence()' for distribution details.

R is a collaborative project with many contributors.
Type `contributors()' for more information.

Type `demo()' for some demos, `help()' for on-line help, or
`help.start()' for a HTML browser interface to help.
Type `q()' to quit R.

> x1 <- c(6.564103, 13.77149,13.7715,21.66154,21.82564,26.21374,30.85128,31.0055,31.01538,32.33805,33.14872,37.42195,47.92451,54.3179,58.90297,60.55385,84.56862,100.0862,111.2681,194,194.4878,195.8302)
>
> x2 <- c(0,0.002242152,0.004484305,0.006726457,0.00896861,0.01121076,0.01345291,0.01569507,0.01793722,0.02017937,0.02242152,0.02466368,0.02690583,0.02914798,0.03139013,0.03363229,0.03587444,0.03811659,0.04035874,0.04932735,0.05156951,0.05381166)
>
> y <- 1
>
> z <- c(0,0.067,NA,0.167,0.083,0.05,0.067,NA,0,0.1,0,0.05,0.067,0.067,0.016,0.117,0.017,-0.017,0.2,0.35,0.134,0.15)
>
> z_matrix(z, length(z),1)
>
> image(x2, y, z)
test 1
test 2
test 3
test 4
test 4 - 1
test 4 - 2
test 4 - 3
test 4 - 4
test 4 - 5
test 4 - 6
test 4 - 7
test 4 - 8
test 4 - 9
test 4 - 10
test 4 - 11
test 4 - 12
test 4 - 13
test 4 - 14
test 4 - 15
test 4 - 16
test 4 - 17
test 4 - 18
test 4 - 19
test 4 - 20
test 4 - 21
x[21] <= x[20]
0.052691 <= 0.053812
Error in image(as.double(x), as.double(y), as.integer(zi), col) :
	invalid x / y values or limits
> ## x[20] and x[21] correspond to x2[21] and x2[22]
> x2[21:22]
[1] 0.05156951 0.05381166
> ## nb - x2[22] has same value as x[20] ???
> q()

Looks like some serious confusion over the value of numbers.
Or I'm seriously confused about they way R's main components
handle arrays (which is probably true in any case ;-).
Note that my system also passed make check (before I tweaked
plot3d.c).

Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont@indigoindustrial.co.nz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Nov  6 19:56:54 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 6 Nov 2001 20:56:54 +0100 (MET)
Subject: [Rd] incorrect xlim error message in image() (PR#1160)
Message-ID: <200111061956.UAA18065@pubhealth.ku.dk>

1) that was not the error message, and it is not the actual error, either.
Please don't guess here: it helps immensely to have accurate subjects.

2)  I don't think this is a very good way to use image. You are
specifying the midpoints of an uneven sequence: it makes a lot more sense
to specify the break points.

3) You don't need to go to C code here: just run debug(image.default)

4) There was a bug in the algorithm to find the breakpoints from the
midpoints.   I am about to fix it.


On Tue, 6 Nov 2001 janef@stat.berkeley.edu wrote:

>
> Hi,
>
> I am having problem with R misinterpreting (x,y) values in image(). I
> downloaded the followiing binary version of R:
>
> > version
>          _
> platform i686-pc-linux-gnu
> arch     i686
> os       linux-gnu
> system   i686, linux-gnu
> status
> major    1
> minor    3.0
> year     2001
> month    06
> day      22
> language R
> > q()
> [janef@cc-jainlabx1 Poster.tahoe]$ gcc -v
> Reading specs from /usr/lib/gcc-lib/i386-redhat-linux/2.96/specs
> gcc version 2.96 20000731 (Red Hat Linux 7.1 2.96-81)
>
> Here is the transcript of an example:
>
>
> _______________________________________
>
> x1 <- c(6.564103,
> 13.77149,13.7715,21.66154,21.82564,26.21374,30.85128,31.0055,31.01538,32.33805,3
> 3.14872,37.42195,47.92451,54.3179,58.90297,60.55385,84.56862,100.0862,111.2681,1
> 94,194.4878,195.8302)
>
> x2 <-
> c(0,0.002242152,0.004484305,0.006726457,0.00896861,0.01121076,0.01345291,0.01569
> 507,0.01793722,0.02017937,0.02242152,0.02466368,0.02690583,0.02914798,0.03139013
> ,0.03363229,0.03587444,0.03811659,0.04035874,0.04932735,0.05156951,0.05381166)
>
> y <- 1
>
> z <-
> c(0,0.067,NA,0.167,0.083,0.05,0.067,NA,0,0.1,0,0.05,0.067,0.067,0.016,0.117,0.01
> 7,-0.017,0.2,0.35,0.134,0.15)
>
> z_matrix(z, length(z),1)
> image(x2, y, z)
> Error in image(as.double(x), as.double(y), as.integer(zi), col) :
>         invalid x / y values or limits
>
> image(x2[1:20], y, as.matrix(z[1:20,]))
>
> "OK"
>
> image(x1, y, z)
> Error in image(as.double(x), as.double(y), as.integer(zi), col) :
>         invalid x / y values or limits
>
> image(x1[1:20], y, as.matrix(z[1:20,]))
> Error in image(as.double(x), as.double(y), as.integer(zi), col) :
>         invalid x / y values or limits
>
> ________________________________________
>
> Jason Turner (jasont@indigoindustrial.co.nz) had been kindly helping me
> with figureing it out and he sugegstedd that it's a bug and sent me the
> following email:
>
> _____________________
>
>
> For giggles, I tweaked plot3d.c to track where the error occured.  The diff
> output is:
>
> !!!THIS PATCH IS A BUG TRACE, NOT A BUG FIX!!!
> --PATCH BEGINS --
> 1518a1519
> >     fprintf(stderr,"test 1\n");
> 1519a1521
> >     fprintf(stderr,"test 2\n");
> 1520a1523
> >     fprintf(stderr,"test 3\n");
> 1522,1524c1525,1542
> <     for (i = 1; i < nx; i++)
> <       if (!R_FINITE(x[i]) || x[i] <= x[i - 1]) goto badxy;
> <     for (j = 1; j < ny; j++)
> ---
> >     fprintf(stderr,"test 4\n");
> >     for (i = 1; i < nx; i++) {
> >     for (i = 1; i < nx; i++) {
> >         fprintf(stderr,"test 4 - %d\n",i);
> >       if (!R_FINITE(x[i]) || x[i] <= x[i - 1]) {
> >               if(!R_FINITE(x[i])) {
> >                       fprintf(stderr,"not a finite number\n");
> >               } else if( x[i] <= x[i-1]) {
> >                       fprintf(stderr,"x[%d] <= x[%d]\n",i,i-1);
> >                       fprintf(stderr,"%f <= %f\n",x[i],x[i-1]);
> >               } else {
> >                       fprintf(stderr,"now it looks fine\n");
> >               }
> >               goto badxy;
> >       }
> >     }
> >     fprintf(stderr,"test 5\n");
> >     for (j = 1; j < ny; j++){
> >         fprintf(stderr,"test 5 - %d\n",j);
> 1525a1544
> >     }
> --PATCH ENDS--
>
> Your transcript session with the tweaked plot3d:
>
> > x1 <- c(6.564103,
> 13.77149,13.7715,21.66154,21.82564,26.21374,30.85128,31.0055,31.01538,32.33805,3
> 3.14872,37.42195,47.92451,54.3179,58.90297,60.55385,84.56862,100.0862,111.2681,1
> 94,194.4878,195.8302)
> >
> > x2 <-
> c(0,0.002242152,0.004484305,0.006726457,0.00896861,0.01121076,0.01345291,0.01569
> 507,0.01793722,0.02017937,0.02242152,0.02466368,0.02690583,0.02914798,0.03139013
> ,0.03363229,0.03587444,0.03811659,0.04035874,0.04932735,0.05156951,0.05381166)
> >
> > y <- 1
> >
> > z <-
> c(0,0.067,NA,0.167,0.083,0.05,0.067,NA,0,0.1,0,0.05,0.067,0.067,0.016,0.117,0.01
> 7,-0.017,0.2,0.35,0.134,0.15)
> >
> > z_matrix(z, length(z),1)
> >
> > image(x2, y, z)
> test 1
> test 2
> test 3
> test 4
> test 4 - 1
> test 4 - 2
> test 4 - 3
> test 4 - 4
> test 4 - 5
> test 4 - 6
> test 4 - 7
> test 4 - 8
> test 4 - 9
> test 4 - 10
> test 4 - 11
> test 4 - 12
> test 4 - 13
> test 4 - 14
> test 4 - 15
> test 4 - 16
> test 4 - 17
> test 4 - 18
> test 4 - 19
> test 4 - 20
> test 4 - 21
> x[21] <= x[20]
> 0.052691 <= 0.053812
> Error in image(as.double(x), as.double(y), as.integer(zi), col) :
>         invalid x / y values or limits
> > ## x[20] and x[21] correspond to x2[21] and x2[22]
> > x2[21:22]
> [1] 0.05156951 0.05381166
> > ## nb - x2[22] has same value as x[20] ???
> > q()
>
> Looks like some serious confusion over the value of numbers. Or I'm
> seriously confused about they way R's main components handle arrays. Note
> that my system also passed make check (before I tweaked plot3d.c).
>
> ___________________________
>
> Thank you for all your help.
>
> Sincerily, Jane
>
>
>
> **************************************************************************************
> Jane Fridlyand, Ph.D., Bioinformatics Scientist
> UCSF Cancer Center, Box 0128 San Francisco, CA 94143-0128
> Office: Room N412 Tel: (415)514-3302 Fax: (415)502-3179
> **************************************************************************************
>
> ---------- Forwarded message ----------
> Date: Fri, 2 Nov 2001 20:32:23 +1300
> From: Jason Turner <jasont@indigoindustrial.co.nz>
> To: Jane Fridlyand <janef@stat.Berkeley.EDU>
> Subject: Re: image function
>
> Jane,
>
> When you've got the information about your system ("version" output
> and binary/source+compiler+make check info), sent that to
> r-bugs@r-project.org, along with the transcript below.  Do not copy
> r-help into that letter; those who monitor r-bugs also watch r-help,
> and they dislike duplicate messages even more than the rest of us
> (becuase they get so many).  I found this out the hard way ;-)
> Give it a nice description, such as "incorrect xlim error message
> in image()", and you'll make their job even easier.
>
> For giggles, I tweaked plot3d.c to track where the error occured (I
> can never remember how to make gdb work when I need it).  The diff
> output is:
>
>
> !!!THIS PATCH IS A BUG TRACE, NOT A BUG FIX!!!
> --PATCH BEGINS --
> 1518a1519
> >     fprintf(stderr,"test 1\n");
> 1519a1521
> >     fprintf(stderr,"test 2\n");
> 1520a1523
> >     fprintf(stderr,"test 3\n");
> 1522,1524c1525,1542
> <     for (i = 1; i < nx; i++)
> < 	if (!R_FINITE(x[i]) || x[i] <= x[i - 1]) goto badxy;
> <     for (j = 1; j < ny; j++)
> ---
> >     fprintf(stderr,"test 4\n");
> >     for (i = 1; i < nx; i++) {
> >         fprintf(stderr,"test 4 - %d\n",i);
> > 	if (!R_FINITE(x[i]) || x[i] <= x[i - 1]) {
> > 		if(!R_FINITE(x[i])) {
> > 			fprintf(stderr,"not a finite number\n");
> > 		} else if( x[i] <= x[i-1]) {
> > 			fprintf(stderr,"x[%d] <= x[%d]\n",i,i-1);
> > 			fprintf(stderr,"%f <= %f\n",x[i],x[i-1]);
> > 		} else {
> > 			fprintf(stderr,"now it looks fine\n");
> > 		}
> > 		goto badxy;
> > 	}
> >     }
> >     fprintf(stderr,"test 5\n");
> >     for (j = 1; j < ny; j++){
> >         fprintf(stderr,"test 5 - %d\n",j);
> 1525a1544
> >     }
> --PATCH ENDS--
>
> Your transcript session with the tweaked plot3d:
>
> R : Copyright 2001, The R Development Core Team
> Version 1.3.1  (2001-08-31)
>
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type `license()' or `licence()' for distribution details.
>
> R is a collaborative project with many contributors.
> Type `contributors()' for more information.
>
> Type `demo()' for some demos, `help()' for on-line help, or
> `help.start()' for a HTML browser interface to help.
> Type `q()' to quit R.
>
> > x1 <- c(6.564103, 13.77149,13.7715,21.66154,21.82564,26.21374,30.85128,31.0055,31.01538,32.33805,33.14872,37.42195,47.92451,54.3179,58.90297,60.55385,84.56862,100.0862,111.2681,194,194.4878,195.8302)
> >
> > x2 <- c(0,0.002242152,0.004484305,0.006726457,0.00896861,0.01121076,0.01345291,0.01569507,0.01793722,0.02017937,0.02242152,0.02466368,0.02690583,0.02914798,0.03139013,0.03363229,0.03587444,0.03811659,0.04035874,0.04932735,0.05156951,0.05381166)
> >
> > y <- 1
> >
> > z <- c(0,0.067,NA,0.167,0.083,0.05,0.067,NA,0,0.1,0,0.05,0.067,0.067,0.016,0.117,0.017,-0.017,0.2,0.35,0.134,0.15)
> >
> > z_matrix(z, length(z),1)
> >
> > image(x2, y, z)
> test 1
> test 2
> test 3
> test 4
> test 4 - 1
> test 4 - 2
> test 4 - 3
> test 4 - 4
> test 4 - 5
> test 4 - 6
> test 4 - 7
> test 4 - 8
> test 4 - 9
> test 4 - 10
> test 4 - 11
> test 4 - 12
> test 4 - 13
> test 4 - 14
> test 4 - 15
> test 4 - 16
> test 4 - 17
> test 4 - 18
> test 4 - 19
> test 4 - 20
> test 4 - 21
> x[21] <= x[20]
> 0.052691 <= 0.053812
> Error in image(as.double(x), as.double(y), as.integer(zi), col) :
> 	invalid x / y values or limits
> > ## x[20] and x[21] correspond to x2[21] and x2[22]
> > x2[21:22]
> [1] 0.05156951 0.05381166
> > ## nb - x2[22] has same value as x[20] ???
> > q()
>
> Looks like some serious confusion over the value of numbers.
> Or I'm seriously confused about they way R's main components
> handle arrays (which is probably true in any case ;-).
> Note that my system also passed make check (before I tweaked
> plot3d.c).
>
> Cheers
>
> Jason
> --
> Indigo Industrial Controls Ltd.
> 64-21-343-545
> jasont@indigoindustrial.co.nz
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Tue Nov  6 21:25:07 2001
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Tue, 06 Nov 2001 16:25:07 -0500
Subject: [Rd] Bug(?) in Makefile.win
Message-ID: <k2lgutclvb1tbvmmd65u5isitu874c7oou@4ax.com>

I'm working on a package that will need a separate makefile for
Windows.  However, I'm finding that when I rename the Makefile to
Makefile.win, it stops working.  (I suspect at least 3 differences so
far:  the code to convert .a libraries to a .dll doesn't work, and
some macros like $(CP) and $(RANLIB) don't exist.)

I'd like to submit a bug report, but I want to be sure this isn't "as
designed" first.  

1.  Should Makefile.win and Makefile perform identically on Windows?

2.  Where do I go to find where Makefile.win gets invoked, to see if I
can spot why there'd be a difference?

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Nov  6 22:08:46 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 6 Nov 2001 22:08:46 +0000 (GMT)
Subject: [Rd] Bug(?) in Makefile.win
In-Reply-To: <k2lgutclvb1tbvmmd65u5isitu874c7oou@4ax.com>
Message-ID: <Pine.GSO.4.31.0111062201210.18924-100000@auk.stats>

On Tue, 6 Nov 2001, Duncan Murdoch wrote:

> I'm working on a package that will need a separate makefile for
> Windows.  However, I'm finding that when I rename the Makefile to
> Makefile.win, it stops working.  (I suspect at least 3 differences so
> far:  the code to convert .a libraries to a .dll doesn't work, and
> some macros like $(CP) and $(RANLIB) don't exist.)
>
> I'd like to submit a bug report, but I want to be sure this isn't "as
> designed" first.
>
> 1.  Should Makefile.win and Makefile perform identically on Windows?

No.  Makefile.win is only designed to be used in the src dir.  If so
it is used (see MakePkg) but a src/Makefile never is.

So they are quite distinct, in my understanding.

You probably want to include MkRules in your own Makefile.win.

> 2.  Where do I go to find where Makefile.win gets invoked, to see if I
> can spot why there'd be a difference?

Read readme.packages or CHANGES, for example

The reason is that many pacakges used to come with quite inappropriate
Makefiles for Windows (and often inappropriate for Windows too).

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Wed Nov  7 00:40:25 2001
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Tue, 06 Nov 2001 19:40:25 -0500
Subject: [Rd] Bug(?) in Makefile.win
In-Reply-To: <Pine.GSO.4.31.0111062201210.18924-100000@auk.stats>
References: <k2lgutclvb1tbvmmd65u5isitu874c7oou@4ax.com> <Pine.GSO.4.31.0111062201210.18924-100000@auk.stats>
Message-ID: <cmvgutc4o3adv84s4rlg3m0s6nhhpqrovs@4ax.com>

On Tue, 6 Nov 2001 22:08:46 +0000 (GMT), Prof Brian D Ripley
<ripley@stats.ox.ac.uk> wrote:
>> 1.  Should Makefile.win and Makefile perform identically on Windows?
>
>No.  Makefile.win is only designed to be used in the src dir.  If so
>it is used (see MakePkg) but a src/Makefile never is.

I don't think I understand your answer; I'm not sure you understood my
question.  

Rephrased:  If I have a single makefile in my src directory, and I'm
compiling in Windows, I would have expected it to make no difference
whether I call it Makefile or Makefile.win.   But it does.  "Makefile"
works, "Makefile.win" doesn't.

If I have both files, on Windows I would have expected the package
making process to completely ignore src/Makefile.  It appears that
this happens, but the make still doesn't work, because it acts like
Makefile.win alone.
>
>So they are quite distinct, in my understanding.
>
>You probably want to include MkRules in your own Makefile.win.

I added this line at the start:

include $(RHOME)/src/gnuwin32/MkRules

and the way it fails is different (it appears to have all the macros
defined, but the linker isn't finding some symbols it should).  I
tried adding 

include $(RHOME)/src/gnuwin32/MakeVars

but then make complained, because that MakeVars file just includes
this line 

!<arch>

which it doesn't understand (and either do I).

Duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pd@pubhealth.ku.dk  Wed Nov  7 06:15:03 2001
From: pd@pubhealth.ku.dk (Peter Dalgaard BSA)
Date: Wed, 7 Nov 2001 07:15:03 +0100
Subject: [Rd] Bug list summary (automatic post)
Message-ID: <200111070615.fA76F3Z11764@blueberry.kubism.ku.dk>

=================================================
This is an automated summary of the status of the R-bugs
repository.

Note that this may be neither complete nor perfectly
correct at any given instance: Not all bugs are reported,
and some reported bugs may have been fixed, but the
repository not yet updated.

Some bug fixes are difficult to verify because they pertain
to specific hardware or operating system versions. If you
have information to contribute, please do so.

If you happen to know how to fix a problem please send
patches to the bug repository, too.

New bugs are reported either through the web
interface at r-bugs.r-project.org or via email to
r-bugs@r-project.org. The bug.report() function can be
used to automate parts of the procedure on many systems.
Followups on older bugs can be done by including the string
"(PR#999)" in the Subject of an email (change 999 to the
actual reference number, of course!).
=================================================

Directory:  Accuracy

* PR# 1138 *
Subject:  round() doesnt
From: David Brahm  <a215020@onyx.fmr.com>
Date: Mon, 22 Oct 2001 18:08:50 -0400 (EDT)
--rounding accuracy on some platformns.  Continued in PR#1139.
* PR# 1139 *
Subject: round() doesn't
From: David Brahm  <a215020@agate.fmr.com>
Date: Mon, 22 Oct 2001 19:15:13 -0400 (EDT)
--rounding accurcay on some platforms. Part of PR#1138

Directory:  Add-ons

* PR# 974 *
Subject: Lattice: panel.superpose with ordered factor groups
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sat, 9 Jun 2001 11:08:51 +1000 (EST)
--The warning is standard S and R behaviour.
--Probably xyplot needs to avoid it (by unclassing?)
--Still there in lattice 0.3-0.
* PR# 981 *
Subject: read.xport() bug
From: abroman@jhu.edu
Date: Fri, 15 Jun 2001 00:25:54 +0200 (MET DST)
--confirmed on Windows and Solaris.
--Seems that file is not in the expected format
* PR# 1038 *
Subject: nlme: bug in getCovariateFormula
From: Setzer.Woodrow@epamail.epa.gov
Date: Tue, 31 Jul 2001 11:24:09 -0400
--change needed in package nlme
* PR# 1044 *
Subject: Polymarsall.c
From: pleu@hotmail.com
Date: Tue, 7 Aug 2001 22:42:07 +0200 (MET DST)
* PR# 1116 *
Subject: get.hist.quote does not work
From: arto.luoma@uta.fi
Date: Thu, 4 Oct 2001 14:45:29 +0200 (MET DST)
--Seems specific to one locale on one system.
--The bug is unlikely to be in R.
* PR# 1124 *
Subject: Wrong df in bartlett.test when subsetting data
From: jens.lund@nordea.com
Date: Wed, 10 Oct 2001 17:43:42 +0200 (MET DST)

Directory:  Analyses

none

Directory:  Documentation

* PR# 988 *
Subject: input for R-intro
From: "Paul E. Johnson" <pauljohn@ku.edu>
Date: Mon, 18 Jun 2001 13:57:10 -0500
* PR# 1011 *
Subject: R-intro suggestions part II
From: "Paul E. Johnson" <pauljohn@ukans.edu>
Date: Tue, 03 Jul 2001 15:50:06 -0500
* PR# 1113 *
Subject: bug.report() & docs should mention r-devel
From: murdoch@stats.uwo.ca
Date: Thu, 4 Oct 2001 01:23:27 +0200 (MET DST)
* PR# 1132 *
Subject: Problem with "describe" lists.
From: Rolf Turner <rolf@localhost.localdomain>
Date: Thu, 18 Oct 2001 16:41:03 +0800
* PR# 1136 *
Subject: cex/col/etc. in title(): documentation?
From: Ben Bolker <ben@zoo.ufl.edu>
Date: Mon, 22 Oct 2001 11:55:14 -0400 (EDT)
--MM:actually the documentation still could elaborate a bit..

Directory:  Graphics

* PR# 202 *
Subject: persp box occlusion bug
From: wsi@gcal.ac.uk
Date: Wed, 2 Jun 1999 15:02:03 +0200 (MET DST)
--The persp algorithm does not apply the occlusion rules to the frame, 
--which is always plotted first. 
--A bug, but not very simple to fix.
* PR# 660 *
Subject: identify.default ignores any setting of cex.
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
Date: Fri, 15 Sep 2000 10:23:39 +0100 (BST)
* PR# 776 *
Subject: strwidth does not take font into account
From: Martyn Plummer <plummer@iarc.fr>
Date: Tue, 19 Dec 2000 14:56:01 +0100 (CET)
--This needs a substantial redesign.
* PR# 791 *
Subject:  par(lab= *) / axis(*) bug 
From: maechler@stat.math.ethz.ch
Date: Fri, 22 Dec 2000 10:59:26 +0100
* PR# 816 *
Subject: dotplot: character size of labels
From: RINNER Heinrich <H.RINNER@TIROL.GV.AT>
Date: Thu, 18 Jan 2001 14:54:32 +0100
--Suggested fix is incorporated in 1.2.2.
--
--There is a deeper problem:  mtext() ignores par(cex=.5) in general.  
--To see the problem try:  par(cex=.5); mtext("hi")
--Paul thinks the right fix is to change the argument list for mtext so that
--cex=par(cex) by default rather than cex=NA by default (plus corresponding
--internal changes to  do_mtext in plot.c).
--This needs to be done very carefully because (i) the change suggested above 
--mayhave side-effects in many other pieces of interpreted code 
--(ii) do_mtext ignores dd->gp.cexbase unlike, for example, do_plot_xy 
--and anything to do with cexbase needs extreme care.
* PR# 820 *
Subject: interaction.plot
From: "Mark M. Span" <span@psy.uva.nl>
Date: Mon, 22 Jan 2001 10:47:39 +0100
--mtext is unscaled by default.  It is not clear if this should
--use the par("cex") setting or an inline cex setting such as cex.axis.
--It might make more sense to use axis rather than mtext, as boxplot does.
* PR# 828 *
Subject: termplot fails for composite non-factor terms
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sat, 27 Jan 2001 11:57:37 +1100 (EST)
--Neither of the proposed changes actually works in sufficient generality.
--
--The easy and unimportant part of this, the labels, is fixed in 1.2.2. Getting
--the data right is a project for 1.3
* PR# 831 *
Subject: screen can't go back to (split) screen with log="y" plot
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 30 Jan 2001 00:39:41 -0500
--Still there. Suggested fix included in followups, but we didn't get around to
--try it in time for 1.2.3.
--
--Fix doesn't work. One problem is that the opar<-par();par(opar) idiom updates
--xaxp before xlog, and the new value of xaxp may only be valid under the new
--value of xlog.
* PR# 837 *
Subject: screen doesn't handle redrawing properly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 01 Feb 2001 14:20:52 -0500
* PR# 887 *
Subject: axis(adj=anything) has no effect
From: jhallman@frb.gov
Date: Wed, 28 Mar 2001 20:51:05 +0200 (MET DST)
* PR# 916 *
Subject:  par(mgp) bug 
From: paul@stat.auckland.ac.nz
Date: Fri, 20 Apr 2001 08:33:45 +1200 (NZST)
* PR# 940 *
Subject: GCircle(): fails for non-clippable devices under certain circumstances (see below)
From: "Thomas Hoffmann" <thoffman@zappa.sax.de>
Date: Tue, 15 May 01 23:34:17 +0100
* PR# 943 *
Subject: legend() with xpd=T; omission of initial plot character
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sun, 20 May 2001 10:35:16 +1000
* PR# 997 *
Subject:  las=1 with log axis 
From: Peter Dalgaard BSA <pd@pubhealth.ku.dk>
Date: Wed, 27 Jun 2001 11:54:06 +0200
* PR# 1045 *
Subject: Palette changes on redraw
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 08 Aug 2001 19:08:01 +0200
* PR# 1088 *
Subject:  barplot forces xpd=TRUE 
From: Peter Whiting <pwhiting@whitings.org>
Date: Sat, 8 Sep 2001 10:19:00 -0500
* PR# 1095 *
Subject:  Bizarre clipping with abline and points 
From: J.C.Rougier@durham.ac.uk
Date: Wed, 19 Sep 2001 14:45:52 +0100
* PR# 1101 *
Subject: ugly in plotmath: frac(1, sqrt(...))
From: Uwe Ligges <ligges@statistik.uni-dortmund.de>
Date: Thu, 27 Sep 2001 10:37:07 +0200
* PR# 1147 *
Subject: postscript problem
From: kjetil halvorsen <kjetilh@umsanet.edu.bo>
Date: Fri, 26 Oct 2001 15:23:45 -0400
--This seems to be a problem with screen/layout rather than postscript.
* PR# 1157 *
Subject: identify(...plot=F)
From: Rolf Turner <rolf@maths.uwa.edu.au>
Date: Fri, 2 Nov 2001 09:43:49 +0800 (WST)

Directory:  In-Out

none

Directory:  Installation

* PR# 1034 *
Subject: Compiling R (1.3.0) on AIX (4.3) fails
From: "Thomas J Vogels" <tov@ece.cmu.edu>
Date: Sun, 29 Jul 2001 12:27:51 -0400

Directory:  Language

* PR# 408 *
Subject: convolution bug
From: wsimpson@gcal.ac.uk
Date: Fri, 28 Jan 2000 11:17:36 +0100 (MET)
* PR# 412 *
Subject: anomalies with call objects
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 06 Feb 2000 01:18:50 +0100
* PR# 669 *
Subject: Bug(s) w/ rbind.data.frame(); fix also read.table(*, as.is = TRUE) ?
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Mon, 25 Sep 2000 10:17:15 +0200
--status of AsIs columns
* PR# 921 *
Subject:  Managed to confuse match.arg 
From: J.C.Rougier@durham.ac.uk
Date: Wed, 25 Apr 2001 12:22:54 +0100 (BST)
* PR# 1052 *
Subject:  Inconsistent behaviour of is.vector? 
From: J.C.Rougier@durham.ac.uk
Date: Tue, 14 Aug 2001 09:04:57 +0100
* PR# 1073 *
Subject: Wierd problem comparing numeric values and list using ==
From: "Warnes, Gregory R" <gregory_r_warnes@groton.pfizer.com>
Date: Fri, 24 Aug 2001 22:07:41 -0400
--see also PR#1075
* PR# 1076 *
Subject: Re: [Rd] Wierd problem comparing numeric values and list using == 
From: John Chambers <jmc@research.bell-labs.com>
Date: Mon, 27 Aug 2001 08:44:22 -0400
--part of PR#1073

Directory:  Low-level

* PR# 989 *
Subject: "[.data.frame" allows un-named 3rd subscript
From: "Charles C. Berry" <cberry@tajo.ucsd.edu>
Date: Mon, 18 Jun 2001 13:13:46 -0700 (PDT)
* PR# 1063 *
Subject: interrupting Sys.sleep
From: Thomas Lumley <tlumley@u.washington.edu>
Date: Mon, 20 Aug 2001 13:55:29 -0700 (PDT)
* PR# 1068 *
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
From: Luke Tierney <luke@nokomis.stat.umn.edu>
Date: Wed, 22 Aug 2001 19:32:51 -0500
--see also followup in PR#1069
* PR# 1069 *
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
From: "John W. Eaton" <jwe@bevo.che.wisc.edu>
Date: Wed, 22 Aug 2001 21:56:33 -0500
--part of PR#1068
* PR# 1120 *
Subject: bug in write.table?
From: Ott Toomet <siim@obs.ee>
Date: Sun, 7 Oct 2001 18:24:34 +0200 (CEST)
--Traced down to an effect of read.dta in foreign interacting with do_paste. Fixed
--in foreign, but do_paste may need to use strlen() rather than LENGTH().
--

Directory:  Macintosh

none

Directory:  Misc

* PR# 1126 *
Subject: R-bug report www page whishlist
From: jens.lund@nordea.com
Date: Wed, 10 Oct 2001 18:24:29 +0200 (MET DST)

Directory:  Models

none

Directory:  Startup

none

Directory:  System-specific

* PR# 848 *
Subject: X11 device doesn't handle destroy events correcly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 13 Feb 2001 17:40:46 -0500
* PR# 1002 *
Subject: core dump running modreg-Ex.R
From: WhiteG@dfo-mpo.gc.ca
Date: Thu, 28 Jun 2001 19:14:18 +0200 (MET DST)
--Only reported on SGI, solved by removing optimization.
--Needs debugging there.
* PR# 1020 *
Subject: .Call and Mandrake 8.0
From: lcottret@yahoo.fr
Date: Wed, 11 Jul 2001 15:34:23 +0200 (MET DST)
--problem with symbol names only on Mandrake 8.0, not 7.2
--needs reply to follow-up
* PR# 1026 *
Subject: make check failure on SGI-IRIX6.5
From: laurent@cbs.dtu.dk
Date: Mon, 16 Jul 2001 15:06:17 +0200 (MET DST)
* PR# 1057 *
Subject: crt1.o skipped at configure time ?
From: laurent@cbs.dtu.dk
Date: Thu, 16 Aug 2001 08:52:34 +0200 (MET DST)
* PR# 1084 *
Subject: Install problems R 1.3.1 on HP-UX
From: Peter Kleiweg <kleiweg@let.rug.nl>
Date: Sun, 2 Sep 2001 15:07:41 +0200 (CEST)
* PR# 1097 *
Subject: R 1.3.1 fails 'make check' on arm in the Bessel example
From: Dirk Eddelbuettel <edd@debian.org>
Date: Thu, 20 Sep 2001 23:54:19 -0500
* PR# 1106 *
Subject: What is an error bu21?
From: Patrick Lindsey <patrick.lindsey@luc.ac.be>
Date: Mon, 1 Oct 2001 15:43:36 +0200 (MET DST)
--Looks like an SGI make bug
* PR# 1140 *
Subject: Possible bug, Rprof() and scan(pipe())
From: Don MacQueen <macq@llnl.gov>
Date: Tue, 23 Oct 2001 13:50:26 -0700
--Doesn't happen on Solaris or Linux
* PR# 1145 *
Subject: Problem testing R version 1.3.1 on SGI Irix
From: Gordon Lack <gml4410@ggr.co.uk>
Date: Fri, 26 Oct 2001 19:04:04 +0100

Directory:  TooMuchAtOnce

* PR# 1110 *
Subject: Several R vs S-Plus issues
From: David Brahm  <a215020@agate.fmr.com>
Date: Wed, 3 Oct 2001 11:35:58 -0400 (EDT)
--1. is perhaps a bug -- the best handling of string NAs is under discussion
--
--2 & 4 are just S-PLUS incompatibilities
--
--3. May be a bug -- worth checking.

Directory:  Windows

* PR# 1135 *
Subject: Canceling close behaves incorrectly
From: john_heumann@agilent.com
Date: Sat, 20 Oct 2001 01:02:02 +0200 (MET DST)

Directory:  incoming

* PR# 1158 *
Subject: bug.report()sends empty message
From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
Date: Mon, 05 Nov 2001 10:05:27 -0500
* PR# 1159 *
Subject: stepwise algorithm step() on coxph()
From: jerome@hivnet.ubc.ca
Date: Mon, 5 Nov 2001 23:41:14 +0100 (MET)
* PR# 1160 *
Subject: incorrect xlim error message in image() 
Subject: Re: image function
From: Jane Fridlyand <janef@stat.berkeley.edu>
From: Jason Turner <jasont@indigoindustrial.co.nz>
Date: Tue, 6 Nov 2001 10:19:31 -0800 (PST)
Date: Fri, 2 Nov 2001 20:32:23 +1300
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rolf@maths.uwa.edu.au  Wed Nov  7 10:07:34 2001
From: rolf@maths.uwa.edu.au (rolf@maths.uwa.edu.au)
Date: Wed, 7 Nov 2001 11:07:34 +0100 (MET)
Subject: [Rd] x-axis label in persp() (PR#1161)
Message-ID: <200111071007.LAA22537@pubhealth.ku.dk>


If the surface to be plotted by persp() is supplied as
a list, the x-axis label defaults to the name, in the call,
of this list --- which is usually silly.

I would suggest changing the first four lines of
persp.default() (where the x-axis label gets set) from

if (is.null(xlab))
        xlab <- if (!missing(x))
            deparse(substitute(x))
        else "X"

to

if (is.null(xlab))
        xlab <- if (!missing(x) && !is.list(x) && !is.matrix(x))
            deparse(substitute(x))
        else "X"

which makes the x-axis label default to "X" if the surface
is specified as a list.


					cheers,

						Rolf Turner

Current email address: rolf@maths.uwa.edu.au
Usual email address:   rolf@math.unb.ca

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Wed Nov  7 18:51:33 2001
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 07 Nov 2001 13:51:33 -0500
Subject: [Rd] segmentation fault with GCC 3.0.2
Message-ID: <3BE982B4.5043FEDB@bank-banque-canada.ca>

I have now tested R 1.3.1 compiled with GCC 3.0.2 on Solaris and the example I
previously posted (repeated below) still gives a segmentation fault, as it does
with GCC 3.0.1 but not with 2.95.2. The eigen calculation sometimes needs to be
repeated several times before the segmentation fault occurs. La.eigen does not
cause a problem. (The problem occurred with R-devel too, but I have not tested
that with GCC 3.0.2.)

One potential problem is that when I configure or make R there are some
inappropriate libraries being picked up. I am not certain where to look or what
to look for, but further below I have copied my guess of the appropriate parts
from configure and make outputs. The only warning is about clock skew (the time
on the file server is not very well synchronized with my machine), but I have
never known this to cause a serious problem.

Any help would be appreciated.

Thanks,
Paul
_____
zz <- t(matrix(c(
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.082008166, -0.066322053,
-0.115616348,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.038919428,  0.009703382,
0.115944209,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.007823026, -0.068859673,
0.025264756,
1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.067027108,  0.087934957,
-0.316974768,
0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.024890008,  0.052195412,
-0.015138322,
0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.028192857, -0.004832597,
0.207879665,
0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.078706928, -0.012801413,
0.425960682,
0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.102169750,  0.163238356,
-0.150373125,
0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.002685166,  0.014355904,
0.197912183,
0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0,  0.042937314,  0.115719388,
0.679370293,
0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0,  0.032306141,  0.263227910,
0.009171148,
0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0,  0.008238734, -0.031480706,
0.051976566,
0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0,  0.015219148,  0.221345314,
0.020146770,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0,  0.039741608,  0.092955553,
-0.262550823,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0,  0.012624418,  0.047810873,
0.201673308,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, -0.114163303,  0.417786916,
0.253110874,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0,  0.049894329, -0.155696562,
-0.049735728,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1,  0.006112607,  0.074242237,
0.034046467
), 18,18))

eigen(zz)$values
eigen(zz)$values
eigen(zz)$values
eigen(zz)$values
eigen(zz)$values
eigen(zz)$values
eigen(zz)$values
eigen(zz)$values
Segmentation Fault - core dumped

_______
my guess at important parts from ./config output:

checking host system type... sparc-sun-solaris2.6
...
checking build system type... sparc-sun-solaris2.6
checking for ld used by GCC... /usr/ccs/bin/ld
checking if the linker (/usr/ccs/bin/ld) is GNU ld... no
checking for /usr/ccs/bin/ld option to reload object files... -r
...
checking dynamic linker characteristics... solaris2.6 ld.so
checking if libtool supports shared libraries... yes
...
checking for g77... g77
checking whether the Fortran 77 compiler (g77  ) works... yes
checking whether the Fortran 77 compiler (g77  ) is a cross-compiler... no
checking whether we are using GNU Fortran 77... yes
checking whether g77 accepts -g... yes
checking for Fortran 77 libraries...  -lg2c -lm  -L/usr/ccs/lib -L/usr/lib
-L/apps/asd/unix/gnu/gcc/3.0.2/install/lib/gcc-lib
-L/apps/asd/unix/gnu/gcc/3.0.2/install/lib/gcc-lib/sparc-sun-solaris2.6/3.0.2
-L/usr/ccs/bin -L/usr/ccs/lib
-L/apps/asd/unix/gnu/gcc/3.0.2/install/lib/gcc-lib/sparc-sun-solaris2.6/3.0.2/../../..
-lm
checking whether g77 appends underscores... yes
checking whether g77 and gcc agree on int and double... yes
checking whether g77 and gcc agree on double complex... yes
checking whether g77 supports -c -o FILE.lo... yes
checking for c++... c++
checking whether the C++ compiler (c++  ) works... yes
checking whether the C++ compiler (c++  ) is a cross-compiler... yes
checking whether we are using GNU C++... yes
checking whether c++ accepts -g... yes
checking how to run the C++ preprocessor... c++ -E
...
checking for GNU C library with version >= 2... no
...
R is now configured for sparc-sun-solaris2.6

  Source directory:          .
  Installation directory:    /usr/local
  C compiler:                gcc  -g -O2
  C++ compiler:              c++  -g -O2
  FORTRAN compiler:          g77  -g -O2

  X11 support:               yes
  Gnome support:             no
  Tcl/Tk support:            no

  R profiling support:       yes
  R as a shared library:     no
_____
my guess at important parts from the make:
...
make[3]: Entering directory `/home/mfa5/gilp/R/R-1.3.1.gnu3.0.2/src/appl'
gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
-DHAVE_CONFIG_H   -g -O2 -c approx.c -o approx.o
...
g77   -g -O2 -c eigen.f -o eigen.o
g77   -g -O2 -c lminfl.f -o lminfl.o
g77   -g -O2 -c blas.f -o blas.o
ar cr libappl.a approx.o bakslv.o binning.o chull.o cpoly.o cumsum.o fft.o
fmin.o integrate.o lbfgsb.o loglin.o lowess.o machar.o maxcol.o massdist.o
pretty.o rowsum.o splines.o stem.o strsignif.o tabulate.o uncmin.o zeroin.o
ch2inv.o chol.o dpbfa.o dpbsl.o dpoco.o dpodi.o dpofa.o dposl.o dqrdc.o dqrdc2.o
dqrls.o dqrsl.o dqrutl.o dsvdc.o dtrco.o dtrsl.o eigen.o lminfl.o blas.o
ranlib libappl.a
make[3]: Leaving directory `/home/mfa5/gilp/R/R-1.3.1.gnu3.0.2/src/appl'
make[2]: Leaving directory `/home/mfa5/gilp/R/R-1.3.1.gnu3.0.2/src/appl'
...
gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
-DHAVE_CONFIG_H   -g -O2 -c vfonts.c -o vfonts.o
g77   -g -O2 -c xxxpr.f -o xxxpr.o
gcc   -o R.bin  CConverters.o Rdynload.o RNG.o apply.o arithmetic.o array.o
attrib.o bind.o builtin.o character.o coerce.o colors.o complex.o connections.o
context.o cov.o cum.o dcf.o datetime.o debug.o devPS.o devPicTeX.o deparse.o
deriv.o devices.o dotcode.o dstruct.o duplicate.o envir.o errors.o eval.o
format.o fourier.o gram.o gram-ex.o graphics.o internet.o iosupport.o lapack.o
list.o logic.o main.o match.o memory.o model.o names.o objects.o optim.o
optimize.o options.o par.o paste.o platform.o plot.o plot3d.o plotmath.o print.o
printarray.o printvector.o printutils.o random.o regex.o relop.o saveload.o
scan.o seq.o size.o sort.o source.o split.o subassign.o subscript.o subset.o
summary.o unique.o util.o version.o vfonts.o xxxpr.o ../unix/libunix.a
../appl/libappl.a ../nmath/libnmath.a   -lg2c -lm  -L/usr/ccs/lib -L/usr/lib
-L/apps/asd/unix/gnu/gcc/3.0.2/install/lib/gcc-lib
-L/apps/asd/unix/gnu/gcc/3.0.2/install/lib/gcc-lib/sparc-sun-solaris2.6/3.0.2
-L/usr/ccs/bin -L/usr/ccs/lib
-L/apps/asd/unix/gnu/gcc/3.0.2/install/lib/gcc-lib/sparc-sun-solaris2.6/3.0.2/../../..
-lm  -L/usr/local/lib  -lnsl -lsocket -ldl -ltermcap -lm
make[4]: Entering directory `/home/mfa5/gilp/R/R-1.3.1.gnu3.0.2/src/main'
...
make[4]: warning:  Clock skew detected.  Your build may be incomplete.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Nov  7 19:11:30 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 Nov 2001 20:11:30 +0100
Subject: [Rd] segmentation fault with GCC 3.0.2
In-Reply-To: <3BE982B4.5043FEDB@bank-banque-canada.ca>
References: <3BE982B4.5043FEDB@bank-banque-canada.ca>
Message-ID: <x2bsie75wd.fsf@blueberry.kubism.ku.dk>

Paul Gilbert <pgilbert@bank-banque-canada.ca> writes:

> I have now tested R 1.3.1 compiled with GCC 3.0.2 on Solaris and the example I
> previously posted (repeated below) still gives a segmentation fault, as it does
> with GCC 3.0.1 but not with 2.95.2. The eigen calculation sometimes needs to be
> repeated several times before the segmentation fault occurs. La.eigen does not
> cause a problem. (The problem occurred with R-devel too, but I have not tested
> that with GCC 3.0.2.)
> 
> One potential problem is that when I configure or make R there are some
> inappropriate libraries being picked up. I am not certain where to look or what
> to look for, but further below I have copied my guess of the appropriate parts
> from configure and make outputs. The only warning is about clock skew (the time
> on the file server is not very well synchronized with my machine), but I have
> never known this to cause a serious problem.
> 
> Any help would be appreciated.

I don't know if it helps, but I see it too... 3.0.1 on Solaris 2.7.

gdb says that it is happening at l.2144 of eigen.f:

2142    C
2143                DO 760 J = M, EN
2144                   RA = RA + H(I,J) * H(J,NA)
2145                   SA = SA + H(I,J) * H(J,EN)
2146      760       CONTINUE
2147    C

J prints as 7289784 for me, which looks a bit weird since M and EN are
17 and 18 respectively. However, optimizers sometimes cause this sort
of thing.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Thu Nov  8 11:44:03 2001
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich.Leisch@ci.tuwien.ac.at)
Date: Thu, 8 Nov 2001 12:44:03 +0100
Subject: [Rd] devel snapshots on CRAN
Message-ID: <15338.28675.632530.668158@galadriel.ci.tuwien.ac.at>


We are currently investigating our http and ftp logs in order to get a
hold on which parts of CRAN are rather popula and which not (because
our computing center wants to know if all the traffic generated by
CRAN is really necessary).

One thing we stumbled about that generates a lot of traffic are the
daily snapshots of the R sources, which are mirrored to all CRAN nodes
daily: the mirroring seems to generate much more traffic than there
are actual downloads (at least from our site). There are 3 versions
each saved as .tar.gz and .tar.gz making a daily total of approx. 30MB
CHANGING EVERY DAY.

Downloads seem to be more in the order of once per week.

Question: Would you see it as a strong loss if these were available
only from 1 or sites rather than every CRAN node? Please respond in
private if so, I'll post a summary to the list.

This does not affect the sources of R releases (which get downloaded
very often), only the daily snapshots from the directory
$CRAN/src/devel.

Best,
Fritz




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pflugshaupt@geobot.umnw.ethz.ch  Thu Nov  8 17:39:45 2001
From: pflugshaupt@geobot.umnw.ethz.ch (pflugshaupt@geobot.umnw.ethz.ch)
Date: Thu, 8 Nov 2001 18:39:45 +0100 (MET)
Subject: [Rd] eqscplot() in library MASS: fails when given only one point (PR#1162)
Message-ID: <200111081739.SAA12452@pubhealth.ku.dk>

I found the following in eqscplot, library MASS:


When given just one point, it fails:

> eqscplot(x=1, y=1)
Error in plot.window(xlim, ylim, log, asp, ...) :
    need finite xlim values

After inserting browser() just before the last line in eqscplot() (in which
plot() gets called), I found the following:

> eqscplot(x=1, y=1)
Called from: eqscplot(x = 1, y = 1)
Browse[1]> xlim
[1] NaN NaN
Browse[1]> ylim
[1] NaN NaN


This results from the lines 35 and 36:

    xuin <- oxuin <- oldpin[1]/diff(xlim)
    yuin <- oyuin <- oldpin[2]/diff(ylim)

which will give Inf values, since diff(xlim) and diff(ylim) will be zero at
that point (xlim and ylim containing c(1, 1) in this case).

I can't propose a patch, though, since I haven't the time to really work out
how the calculation is done (sorry).

> version
         _         
platform ppc-apple-macos
arch     ppc       
os       MacOS     
system   ppc, MacOS
status             
major    1         
minor    3.1       
year     2001      
month    08        
day      31        
language R      

I use the MASS version which comes with the current full Mac R package
(rm131_FULL.sit). If this is already fixed in a newer version of the
library, I apologize for the waste of bandwidth.


Cheers

Kaspar Pflugshaupt



-- 

Kaspar Pflugshaupt
Geobotanisches Institut
Zuerichbergstr. 38
CH-8044 Zuerich

Tel. ++41 1 632 43 19
Fax  ++41 1 632 12 15

mailto:pflugshaupt@geobot.umnw.ethz.ch
privat:pflugshaupt@mails.ch
http://www.geobot.umnw.ethz.ch


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Nov  9 07:44:07 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 9 Nov 2001 08:44:07 +0100 (MET)
Subject: [Rd] eqscplot() in library MASS: fails when given only one point (PR#1164)
Message-ID: <200111090744.IAA15047@pubhealth.ku.dk>

This is not a bug.  There is no way one can scale the plot axes equally
when no indication has been given of the scaling expected for either!

It has always seemd to be that plot(x=1, y=1) shoul dnot work: it
has not supplied enough information!

On Thu, 8 Nov 2001 pflugshaupt@geobot.umnw.ethz.ch wrote:

> I found the following in eqscplot, library MASS:
>
>
> When given just one point, it fails:
>
> > eqscplot(x=1, y=1)
> Error in plot.window(xlim, ylim, log, asp, ...) :
>     need finite xlim values
>
> After inserting browser() just before the last line in eqscplot() (in which
> plot() gets called), I found the following:
>
> > eqscplot(x=1, y=1)
> Called from: eqscplot(x = 1, y = 1)
> Browse[1]> xlim
> [1] NaN NaN
> Browse[1]> ylim
> [1] NaN NaN
>
>
> This results from the lines 35 and 36:
>
>     xuin <- oxuin <- oldpin[1]/diff(xlim)
>     yuin <- oyuin <- oldpin[2]/diff(ylim)
>
> which will give Inf values, since diff(xlim) and diff(ylim) will be zero at
> that point (xlim and ylim containing c(1, 1) in this case).
>
> I can't propose a patch, though, since I haven't the time to really work out
> how the calculation is done (sorry).
>
> > version
>          _
> platform ppc-apple-macos
> arch     ppc
> os       MacOS
> system   ppc, MacOS
> status
> major    1
> minor    3.1
> year     2001
> month    08
> day      31
> language R
>
> I use the MASS version which comes with the current full Mac R package
> (rm131_FULL.sit). If this is already fixed in a newer version of the
> library, I apologize for the waste of bandwidth.
>
>
> Cheers
>
> Kaspar Pflugshaupt
>
>
>
> --
>
> Kaspar Pflugshaupt
> Geobotanisches Institut
> Zuerichbergstr. 38
> CH-8044 Zuerich
>
> Tel. ++41 1 632 43 19
> Fax  ++41 1 632 12 15
>
> mailto:pflugshaupt@geobot.umnw.ethz.ch
> privat:pflugshaupt@mails.ch
> http://www.geobot.umnw.ethz.ch
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Sun Nov 11 17:24:14 2001
From: edd@debian.org (edd@debian.org)
Date: Sun, 11 Nov 2001 18:24:14 +0100 (MET)
Subject: [Rd] Gnits about setting LD_LIBRARY_PATH from R (PR#1166)
Message-ID: <200111111724.SAA29600@pubhealth.ku.dk>

Full_Name: Dirk Eddelbuettel
Version: 1.3.1
OS: Linux
Submission from: (NULL) (65.184.214.9)



[ This bug report has previously been filed as #71917 in the Debian Bug Tracking
System. --edd ]

From: "Stephen J. Turnbull" <turnbull@sk.tsukuba.ac.jp>
Date: Mon, 18 Sep 2000 19:48:11 +0900 (JST)
To: submit@bugs.debian.org
Subject: r-base gnits

Package: r-base
Version: 1.1.1-1

[1] The R startup script sets LD_LIBRARY_PATH to start with
/usr/local/lib/.  I have installed a development version of glibc 2.2
there; needless to say R was not pleased with the little switcheroo
between /lib/ld-linux.so.2 and /usr/local/lib/libc.so.6.

I don't see any need for this.  If dl modules are being downloaded
from CRAN, they should go in /usr/local/lib/R/ or something like that,
not in /usr/local/lib.  Of course if they're Debianized, they
shouldn't be put in /usr/local at all.

[2] I don't have Netscape, I'm using Mozilla and Lynx mostly.
Something like xfig-www-browser(1) should be used to try and come up
with a sensible guess at a help browser.

-- 
University of Tsukuba                Tennodai 1-1-1 Tsukuba 305-8573 JAPAN
Institute of Policy and Planning Sciences       Tel/fax: +81 (298) 53-5091
_________________  _________________  _________________  _________________
What are those straight lines for?  "XEmacs rules."




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Sun Nov 11 17:24:03 2001
From: edd@debian.org (edd@debian.org)
Date: Sun, 11 Nov 2001 18:24:03 +0100 (MET)
Subject: [Rd] png output requires X connection (PR#1165)
Message-ID: <200111111724.SAA29588@pubhealth.ku.dk>

Full_Name: Dirk Eddelbuettel
Version: 1.3.1
OS: Linux
Submission from: (NULL) (65.184.214.9)



[ This bug report has previously been filed as #115186 in the Debian Bug
Tracking System. --edd ]


From: Ryan Murray <rmurray@cyberhqz.com>
Subject: r-base: png output requires X connection
To: submit@bugs.debian.org
Date: Wed, 10 Oct 2001 13:40:06 -0700

Package: r-base
Version: 1.3.1-2
Severity: wishlist

R doesn't allow use of png() without an X display.  It would be great for
automated graph generation if an X display were not required.  While one can
workaround this by using postscript() and the png output of ghostscript, the
output does not look as good as R using the png() device directly.

-- System Information
Debian Release: testing/unstable
Kernel Version: Linux cyberhq 2.4.9 #1 SMP Sun Aug 19 21:47:15 PDT 2001 i686
unknown

Versions of the packages r-base depends on:
ii  libc6          2.2.4-3        GNU C Library: Shared libraries and Timezone
ii  libjpeg62      6b-1.3         The Independent JPEG Group's JPEG runtime li
ii  libncurses5    5.2.20010318-3 Shared libraries for terminal handling
ii  libpng2        1.0.12-2       PNG library - runtime
ii  libreadline4   4.2-5          GNU readline and history libraries, run-time
ii  perl           5.6.1-5        Larry Wall's Practical Extraction and Report
ii  tcl8.0         8.0.5-6        The Tool Command Language (TCL) v8.0 - Run-T
ii  tk8.0          8.0.5-9        The Tk toolkit for TCL and X11 v8.0 - Run-Ti
ii  xlibs          4.1.0-7        X Window System client libraries
ii  zlib-bin       1.1.3-16       compression library - sample programs
ii  zlib1g         1.1.3-16       compression library - runtime
ii  atlas2-base    3.2.1-12       Automatically Tuned Linear Algebra Software
        ^^^ (Provides virtual package blas2)




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Nov 11 17:40:13 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 11 Nov 2001 18:40:13 +0100 (MET)
Subject: [Rd] png output requires X connection (PR#1165)
Message-ID: <200111111740.SAA29642@pubhealth.ku.dk>

I was extremely disappointed by this report.  Unix/Linux R users should
appreciate what was ported from the Windows version for them and not send
a bug report on a well-documented restriction.  Especially when the `See
Also' mentions an alternative!

The comment only applies to R on Unix/Linux, not to the original png
device on Windows.  It ignores the bitmap() device which we also provide,
and the warnings in the help page, to wit:

     R can be compiled without support for either or both of these
     devices: this will be reported if you attempt to use them on a
     system where they are not supported.  They will not be
     available if R has been started with `--gui=none' (and will give a
     different error message).

Now, why send a bug report about something documented on the help page?
(And you need a X display for any other --gui option, including the
default.)   Please do read the section in the R FAQ about what is a bug,
and act on it.


On Sun, 11 Nov 2001 edd@debian.org wrote:

> Full_Name: Dirk Eddelbuettel
> Version: 1.3.1
> OS: Linux
> Submission from: (NULL) (65.184.214.9)
>
>
>
> [ This bug report has previously been filed as #115186 in the Debian Bug
> Tracking System. --edd ]
>
>
> From: Ryan Murray <rmurray@cyberhqz.com>
> Subject: r-base: png output requires X connection
> To: submit@bugs.debian.org
> Date: Wed, 10 Oct 2001 13:40:06 -0700
>
> Package: r-base
> Version: 1.3.1-2
> Severity: wishlist
>
> R doesn't allow use of png() without an X display.  It would be great for
> automated graph generation if an X display were not required.

See the `See Also' on ?png!

>  While one can
> workaround this by using postscript() and the png output of ghostscript, the
> output does not look as good as R using the png() device directly.
>
> -- System Information
> Debian Release: testing/unstable
> Kernel Version: Linux cyberhq 2.4.9 #1 SMP Sun Aug 19 21:47:15 PDT 2001 i686
> unknown
>
> Versions of the packages r-base depends on:
> ii  libc6          2.2.4-3        GNU C Library: Shared libraries and Timezone
> ii  libjpeg62      6b-1.3         The Independent JPEG Group's JPEG runtime li
> ii  libncurses5    5.2.20010318-3 Shared libraries for terminal handling
> ii  libpng2        1.0.12-2       PNG library - runtime
> ii  libreadline4   4.2-5          GNU readline and history libraries, run-time
> ii  perl           5.6.1-5        Larry Wall's Practical Extraction and Report
> ii  tcl8.0         8.0.5-6        The Tool Command Language (TCL) v8.0 - Run-T
> ii  tk8.0          8.0.5-9        The Tk toolkit for TCL and X11 v8.0 - Run-Ti
> ii  xlibs          4.1.0-7        X Window System client libraries
> ii  zlib-bin       1.1.3-16       compression library - sample programs
> ii  zlib1g         1.1.3-16       compression library - runtime
> ii  atlas2-base    3.2.1-12       Automatically Tuned Linear Algebra Software
>         ^^^ (Provides virtual package blas2)
>
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rmurray@debian.org  Sun Nov 11 18:01:35 2001
From: rmurray@debian.org (rmurray@debian.org)
Date: Sun, 11 Nov 2001 19:01:35 +0100 (MET)
Subject: [Rd] png output requires X connection (PR#1165)
Message-ID: <200111111801.TAA29772@pubhealth.ku.dk>


--+nLR7g8KNfrRqv5t
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable

On Sun, Nov 11, 2001 at 05:39:53PM +0000, Prof Brian Ripley wrote:
> I was extremely disappointed by this report.  Unix/Linux R users should
> appreciate what was ported from the Windows version for them and not send
> a bug report on a well-documented restriction.  Especially when the `See

It's not a bug so much as a wishlist request (which is why it was
filed at the wishlist severity).  The output of R's png() is far
better than using postscript and having ghostscript write out the png.

> Now, why send a bug report about something documented on the help page?
> (And you need a X display for any other --gui option, including the
> default.)   Please do read the section in the R FAQ about what is a bug,
> and act on it.

This is a wishlist item more than a bug.  I wish it worked the way the
output is sharp and clear.  As it is, the graph looks noticeably worse
than when it was generated directly with png().  I think this is worth
changing to remove the restriction.

--=20
Ryan Murray, Debian Developer (rmurray@cyberhqz.com, rmurray@debian.org)
The opinions expressed here are my own.

--+nLR7g8KNfrRqv5t
Content-Type: application/pgp-signature
Content-Disposition: inline

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.6 (GNU/Linux)
Comment: For info see http://www.gnupg.org

iD8DBQE77rzuN2Dbz/1mRasRAslgAJ4yWuXoojlOdcJArHeYc2h0HtKy4gCgt69T
J1daMhISXHwvaIJC6XYemOU=
=f+Ci
-----END PGP SIGNATURE-----

--+nLR7g8KNfrRqv5t--

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Nov 11 19:13:00 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 11 Nov 2001 20:13:00 +0100 (MET)
Subject: [Rd] png output requires X connection (PR#1165)
Message-ID: <200111111913.UAA29961@pubhealth.ku.dk>

On Sun, 11 Nov 2001, Ryan Murray wrote:

> On Sun, Nov 11, 2001 at 05:39:53PM +0000, Prof Brian Ripley wrote:
> > I was extremely disappointed by this report.  Unix/Linux R users should
> > appreciate what was ported from the Windows version for them and not send
> > a bug report on a well-documented restriction.  Especially when the `See
>
> It's not a bug so much as a wishlist request (which is why it was
> filed at the wishlist severity).  The output of R's png() is far
> better than using postscript and having ghostscript write out the png.

The subject line states this a bug, not an enhancement request.

> > Now, why send a bug report about something documented on the help page?
> > (And you need a X display for any other --gui option, including the
> > default.)   Please do read the section in the R FAQ about what is a bug,
> > and act on it.
>
> This is a wishlist item more than a bug.  I wish it worked the way the
> output is sharp and clear.  As it is, the graph looks noticeably worse
> than when it was generated directly with png().  I think this is worth
> changing to remove the restriction.

It is good to hear that you have volunteered to provide one.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sun Nov 11 22:28:28 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 11 Nov 2001 23:28:28 +0100
Subject: [Rd] png output requires X connection (PR#1165)
In-Reply-To: <200111111740.SAA29642@pubhealth.ku.dk>
References: <200111111740.SAA29642@pubhealth.ku.dk>
Message-ID: <x2zo5trlgz.fsf@blueberry.kubism.ku.dk>

ripley@stats.ox.ac.uk writes:

> I was extremely disappointed by this report.  Unix/Linux R users should
> appreciate what was ported from the Windows version for them and not send
> a bug report on a well-documented restriction.  Especially when the `See
> Also' mentions an alternative!
> 
> The comment only applies to R on Unix/Linux, not to the original png
> device on Windows.  It ignores the bitmap() device which we also provide,
> and the warnings in the help page, to wit:

Yes, well, but...

> > [ This bug report has previously been filed as #115186 in the
> > Debian Bug
> > Tracking System. --edd ]

I think the important thing about this is that Dirk is now taking
action to ensure that bugs are not lingering in the Debian system
without anyone taking notice of it. This will obviously require that
he doesn't think too deeply about whether something is a bug or not
before forwarding it...

(BTW: The thing that the user wants might be done using an Xvfb
(virtual framebuffer) server?)


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From hcp@met.ed.ac.uk  Mon Nov 12 11:58:24 2001
From: hcp@met.ed.ac.uk (H C Pumphrey)
Date: Mon, 12 Nov 2001 11:58:24 +0000 (GMT)
Subject: [Rd] Filled Contour.
Message-ID: <Pine.GSO.4.10.10111121120130.5888-100000@humilis>


Hi.

I'm a big user of level plots. Because filled.contour() didn't do exactly
what I wanted, I hacked at it a bit to add these options:

(*) Even spacing in the key, even if the contours are not evenly spaced.

(*) Horizontal key

(*) options to not use layout() and to plot only the level plot _or_ 
    only the key.  This means you can use layout yourself to (e.g.) 
    have several level plots which share a key.

(*) overlay some or all of the level boundaries with contour lines.

Now, I find this useful. If I am the only one, I'll go away and shut up
but if anyone else thinks these are generally useful enhancements then
I could clean up filled.contour.{R,Rd} and find out how to submit them. 

The current docs say "In future [filled.contour()] is likely to be
replaced by a genuine \code{levelplot} function which will work in
multipanel displays." If this is going to happen in the foreseeable
future, then it will certainly be a better solution than mine. Could
anyone fill me in on  what is happening on this front? 

many thanks, 

Hugh

============S=u=p=p=o=r=t===D=e=b=i=a=n===http://www.debian.org============
Dr. Hugh C. Pumphrey             | Tel. 0131-650-6026,Fax:0131-650-5780
Institute for Meteorology        | Replace 0131 with +44-131 if outside UK
The University of Edinburgh      | Email hcp@met.ed.ac.uk
EDINBURGH EH9 3JZ, Scotland      | URL: http://www.met.ed.ac.uk/~hcp
============S=u=p=p=o=r=t==g=9=5==http://g95.sourceforge.net/==============

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From deepayansarkar@yahoo.com  Mon Nov 12 16:57:39 2001
From: deepayansarkar@yahoo.com (Deepayan Sarkar)
Date: Mon, 12 Nov 2001 08:57:39 -0800 (PST)
Subject: [Rd] Filled Contour.
In-Reply-To: <Pine.GSO.4.10.10111121120130.5888-100000@humilis>
Message-ID: <20011112165739.11185.qmail@web13908.mail.yahoo.com>



To answer the last part of your question, there is a
preliminary version of levelplot (as yet slow, and
without an implementation of contours) already in the
lattice package (under development).

--- H C Pumphrey <hcp@met.ed.ac.uk> wrote:
> 
> Hi.
> 
> I'm a big user of level plots. Because
> filled.contour() didn't do exactly
> what I wanted, I hacked at it a bit to add these
> options:
> 
> (*) Even spacing in the key, even if the contours
> are not evenly spaced.
> 
> (*) Horizontal key
> 
> (*) options to not use layout() and to plot only the
> level plot _or_ 
>     only the key.  This means you can use layout
> yourself to (e.g.) 
>     have several level plots which share a key.
> 
> (*) overlay some or all of the level boundaries with
> contour lines.
> 
> Now, I find this useful. If I am the only one, I'll
> go away and shut up
> but if anyone else thinks these are generally useful
> enhancements then
> I could clean up filled.contour.{R,Rd} and find out
> how to submit them. 
> 
> The current docs say "In future [filled.contour()]
> is likely to be
> replaced by a genuine \code{levelplot} function
> which will work in
> multipanel displays." If this is going to happen in
> the foreseeable
> future, then it will certainly be a better solution
> than mine. Could
> anyone fill me in on  what is happening on this
> front? 
> 
> many thanks, 
> 
> Hugh
> 
>
============S=u=p=p=o=r=t===D=e=b=i=a=n===http://www.debian.org============
> Dr. Hugh C. Pumphrey             | Tel.
> 0131-650-6026,Fax:0131-650-5780
> Institute for Meteorology        | Replace 0131 with
> +44-131 if outside UK
> The University of Edinburgh      | Email
> hcp@met.ed.ac.uk
> EDINBURGH EH9 3JZ, Scotland      | URL:
> http://www.met.ed.ac.uk/~hcp
>
============S=u=p=p=o=r=t==g=9=5==http://g95.sourceforge.net/==============
> 
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To:
> r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Tue Nov 13 03:01:21 2001
From: edd@debian.org (edd@debian.org)
Date: Tue, 13 Nov 2001 04:01:21 +0100 (MET)
Subject: [Rd] r-gnome: plots go blank directly after R is finished plotting (PR#1167)
Message-ID: <200111130301.EAA15337@pubhealth.ku.dk>

Full_Name: Dirk Eddelbuettel
Version: 1.3.1
OS: Linux
Submission from: (NULL) (65.184.214.9)



[ This bug report has previously been filed as #116701 in the 
  Debian Bug Tracking System. --edd ]

From: Egon Willighagen <egonw@sci.kun.nl>
To: Debian Bug Tracking System <submit@bugs.debian.org>
Subject: r-gnome: plots go blank directly after R is finished plotting
Date: Mon, 22 Oct 2001 23:44:41 +0200

Package: r-gnome
Version: 1.3.1-2
Severity: important

When using the plot() function, the output is drawn, but directly after R is
finished drawing the plot window turns blank again. This does not happen when
i do the same in the non-Gnome based R version.

-- System Information
Debian Release: testing/unstable
Architecture: i386
Kernel: Linux garak.sci.kun.nl 2.4.9 #6 Sat Sep 22 19:29:03 CEST 2001 i686
Locale: LANG=, LC_CTYPE=


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Tue Nov 13 10:27:57 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Tue, 13 Nov 2001 11:27:57 +0100
Subject: [Rd] r-gnome: plots go blank directly after R is finished plotting (PR#1167)
In-Reply-To: <200111130301.EAA15337@pubhealth.ku.dk>
References: <200111130301.EAA15337@pubhealth.ku.dk>
Message-ID: <15344.62893.22900.549313@mithrandir.hornik.net>

>>>>> edd  writes:

> Full_Name: Dirk Eddelbuettel
> Version: 1.3.1
> OS: Linux
> Submission from: (NULL) (65.184.214.9)



> [ This bug report has previously been filed as #116701 in the 
>   Debian Bug Tracking System. --edd ]

> From: Egon Willighagen <egonw@sci.kun.nl>
> To: Debian Bug Tracking System <submit@bugs.debian.org>
> Subject: r-gnome: plots go blank directly after R is finished plotting
> Date: Mon, 22 Oct 2001 23:44:41 +0200

> Package: r-gnome
> Version: 1.3.1-2
> Severity: important

> When using the plot() function, the output is drawn, but directly
> after R is finished drawing the plot window turns blank again. This
> does not happen when i do the same in the non-Gnome based R version.

Does not happen for me with the current 1.3.1-4.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.C.Rougier@durham.ac.uk  Tue Nov 13 12:49:41 2001
From: J.C.Rougier@durham.ac.uk (Jonathan Rougier)
Date: Tue, 13 Nov 2001 12:49:41 +0000
Subject: [Rd] Small change to "cut.default"
Message-ID: <3BF116E5.C16B9290@durham.ac.uk>

Hi everyone,

Can I suggest the following cosmetic change to cut.default (R-1.3.1), to
adjust the labels in the case that include.lowest = TRUE:

arrow:dma0jcr% diff -u cut.R my.cut.R 
--- cut.R       Tue Nov 13 12:28:35 2001
+++ my.cut.R    Tue Nov 13 12:35:16 2001
@@ -25,6 +25,11 @@
                         ch.br[-nb], ",", ch.br[-1],
                         if(right)"]" else ")", sep='')
            else paste("Range", 1:(nb - 1),sep="_")
+            if (ok && include.lowest)
+               if (right)
+                       labels[1] <- gsub("^\\(", "\\[", labels[1])
+                else
+                       labels[nb-1] <- gsub("\\)$", "\\]",
labels[nb-1])
     } else if (is.logical(labels) && !labels)
         codes.only <- TRUE
     else if (length(labels) != nb-1)

Thus we have (noticing the labels)

> pp <- rpois(10, lambda = 1)
> breaks <- c(0:2, Inf)
> cut(pp, breaks = breaks)
 [1] NA    (0,1] (0,1] (0,1] NA    NA    NA    (0,1] (1,2] (1,2]
Levels:  (0,1] (1,2] (2,Inf] 
> cut(pp, breaks = breaks, include.lowest = TRUE)
 [1] [0,1] [0,1] [0,1] [0,1] [0,1] [0,1] [0,1] [0,1] (1,2] (1,2]
Levels:  [0,1] (1,2] (2,Inf] 
> cut(pp, breaks = breaks, include.lowest = TRUE, right = FALSE)
 [1] [0,1)   [1,2)   [1,2)   [1,2)   [0,1)   [0,1)   [0,1)   [1,2)  
[2,Inf]
[10] [2,Inf]
Levels:  [0,1) [1,2) [2,Inf] 
> cut(pp, breaks = breaks, right = FALSE)
 [1] [0,1)   [1,2)   [1,2)   [1,2)   [0,1)   [0,1)   [0,1)   [1,2)  
[2,Inf)
[10] [2,Inf)
Levels:  [0,1) [1,2) [2,Inf) 

Cheers, Jonathan.

-- 
Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Tue Nov 13 13:31:09 2001
From: edd@debian.org (edd@debian.org)
Date: Tue, 13 Nov 2001 14:31:09 +0100 (MET)
Subject: [Rd] r-gnome: plots go blank directly after R is finished plotting (PR#1167)
Message-ID: <200111131331.OAA22051@pubhealth.ku.dk>


  KH> From: Egon Willighagen <egonw@sci.kun.nl>
  KH> To: Debian Bug Tracking System <submit@bugs.debian.org>
  KH> Subject: r-gnome: plots go blank directly after R is finished plotting
  KH> Date: Mon, 22 Oct 2001 23:44:41 +0200

  KH> Package: r-gnome
  KH> Version: 1.3.1-2
  KH> Severity: important

  KH> When using the plot() function, the output is drawn, but directly
  KH> after R is finished drawing the plot window turns blank again. This
  KH> does not happen when i do the same in the non-Gnome based R version.

  KH> Does not happen for me with the current 1.3.1-4.

Thanks. That is Debian with Ximian Gnome, isn't it? As it does not happen
either on my box (with KDE), I already added an "unreproducible" tag in the
Debian BTS and asked for further information. I would like to see a report
from a system with Debian + Debian Gnome libs.

-k

-- 
Better to have an approximate answer to the right question 
than a precise answer to the wrong question. -- John Tukey

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jmc@research.bell-labs.com  Tue Nov 13 14:24:35 2001
From: jmc@research.bell-labs.com (John Chambers)
Date: Tue, 13 Nov 2001 09:24:35 -0500
Subject: [Rd] Method dispatch in C for primitive functions
Message-ID: <3BF12D23.D62F50B2@research.bell-labs.com>

There is a version of the methods package committed today that does
dispatch in C for these functions.  This should considerably speed up
programs that define methods for these functions (specifically, having
methods should only marginally affect the existing computations for the
same function on basic vectors and objects).

This is the first of several steps needed.  Not quite all primitives are
handled (only those that use DispatchOrEval internally).  And there will
be a few related changes in the methods structure to add a bit more
speed.  A couple of points of strategy should be discussed, preferably
before version 1.4 is frozen.  I'll try to post a note on these  in the
near future.

When writing methods for primitives, it's currently a bit of a trick to
find the formal argument list, since R currently just returns NULL for
args(f) if f is a primitive.  (We may need to make some change here.)

Two that are worth noting are "[" and "[[" (and the corresponding "[<-"
and "[[<-"):

> args(getGeneric("["))
function (x, i = NULL, j = NULL, ..., drop = TRUE) 
NULL
> args(getGeneric("[["))
function (x, i = NULL, ...) 
NULL

The i,j arguments are there so we can, e.g., define methods that
dispatch on the column argument for data-frame-like objects in the
future.

If you're fussing about efficiency, it's slightly better to make sure
you define methods with all the formal arguments (and anyway, it's
cleaner code).

John
-- 
John M. Chambers                  jmc@bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jmc@research.bell-labs.com  Tue Nov 13 14:54:02 2001
From: jmc@research.bell-labs.com (John Chambers)
Date: Tue, 13 Nov 2001 09:54:02 -0500
Subject: [Rd] Methods package:  One of those strategy questions
Message-ID: <3BF1340A.99CD2EAE@research.bell-labs.com>

I had better mention this one separately, since until it's settled you 
need a workaround.

If you define methods for primitives now, this does NOT create an
explicit generic function for, say, "[", so that the original primitive
computations still run.

This means that the method dispatch has to be turned on for that
function somehow else.

The proposal is that the library() and attach() functions would do a
check for methods metadata and turn on methods search for the functions
found.  (Recent changes to the metadata make this a reasonably efficient
operation.)

Until this is implemented, you will need to force the same computation
from the .First.lib function in your package (ONLY needed if you have
methods for primitives).

The code needed is something like this (inside .First.lib, which gets a
second argument "pkgname":

    where <- match(paste("package:", pkgname, sep=""), search())
    cacheMetaData(as.environment(where))

(Extra calls to cacheMetaData shouldn't hurt, beyond a moderate bit of
extra computation, so this should not be a disaster even after
modifications to library()).

John

-- 
John M. Chambers                  jmc@bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Tue Nov 13 17:07:43 2001
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Tue, 13 Nov 2001 09:07:43 -0800 (PST)
Subject: [Rd] Methods package:  One of those strategy questions
In-Reply-To: <3BF1340A.99CD2EAE@research.bell-labs.com>
Message-ID: <Pine.A41.4.33.0111130906450.38952-100000@homer33.u.washington.edu>

On Tue, 13 Nov 2001, John Chambers wrote:

> I had better mention this one separately, since until it's settled you
> need a workaround.
>
> If you define methods for primitives now, this does NOT create an
> explicit generic function for, say, "[", so that the original primitive
> computations still run.
>
> This means that the method dispatch has to be turned on for that
> function somehow else.

Is this true whenever you define a method for a primitive or only if
that primitive hasn't already got methods defined for it?

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From a296180@mica.fmr.com  Tue Nov 13 18:02:56 2001
From: a296180@mica.fmr.com (David Kane  <David Kane)
Date: Tue, 13 Nov 2001 13:02:56 -0500
Subject: [Rd] modification time warning with R CMD check
Message-ID: <15345.24656.694686.421844@gargle.gargle.HOWL>

I often get warnings like the following when running R CMD check

[...]
* checking for code/documentation mismatches ... OK
* checking tests ...
make: *** Warning: File `Makevars' has modification time in the future (2001-11-13 12:54:37.381546042 > 2001-11-13 12:54:37.314975985)
[...]

I am ready to believe that this is not a bug (i.e., that the timing on my
various machines and file systems is such that I am creating a Makevars with a
modification that is 0.07 seconds in the future from the perspective of the
machine that Perl is running on). However, I would think that a
warning would only be justified if this were far enough (1 second? 5 seconds?)
in the future to be "interesting".

I am running 1.3.1 on Solaris

mica|tmp> R --version
R 1.3.1 (2001-08-31).
Copyright (C) 2001 R Development Core Team

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under the terms of the GNU
General Public License.  For more information about these matters,
see http://www.gnu.org/copyleft/gpl.html.


Thanks,

Dave Kane

-- 
David Kane
Geode Capital Management
617-563-0122
david.d.kane@fmr.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Tue Nov 13 18:25:59 2001
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Tue, 13 Nov 2001 10:25:59 -0800 (PST)
Subject: [Rd] modification time warning with R CMD check
In-Reply-To: <15345.24656.694686.421844@gargle.gargle.HOWL>
Message-ID: <Pine.A41.4.33.0111131021490.38952-100000@homer33.u.washington.edu>

On Tue, 13 Nov 2001, David Kane  <David Kane wrote:

> I often get warnings like the following when running R CMD check
>
> [...]
> * checking for code/documentation mismatches ... OK
> * checking tests ...
> make: *** Warning: File `Makevars' has modification time in the future (2001-11-13 12:54:37.381546042 > 2001-11-13 12:54:37.314975985)
> [...]
>
> I am ready to believe that this is not a bug (i.e., that the timing on my
> various machines and file systems is such that I am creating a Makevars with a
> modification that is 0.07 seconds in the future from the perspective of the
> machine that Perl is running on). However, I would think that a
> warning would only be justified if this were far enough (1 second? 5 seconds?)
> in the future to be "interesting".

I get this too from time to time.  It's actually hard to tell what is
'uninteresting' in general. For example, Linux can create a file in about
50 microseconds on suitable hardware, so a 0.07s lag is easily enough that
files might in principle have been created in the wrong order, messing up
the make algorithm.

Fortunately in building R this sort of lag doesn't matter.
Unfortunately I don't know how to turn the warning off.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Nov 13 18:35:33 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 13 Nov 2001 18:35:33 +0000 (GMT)
Subject: [Rd] modification time warning with R CMD check
In-Reply-To: <Pine.A41.4.33.0111131021490.38952-100000@homer33.u.washington.edu>
Message-ID: <Pine.LNX.4.31.0111131832180.3306-100000@gannet.stats>

On Tue, 13 Nov 2001, Thomas Lumley wrote:

> On Tue, 13 Nov 2001, David Kane  <David Kane wrote:
>
> > I often get warnings like the following when running R CMD check
> >
> > [...]
> > * checking for code/documentation mismatches ... OK
> > * checking tests ...
> > make: *** Warning: File `Makevars' has modification time in the future (2001-11-13 12:54:37.381546042 > 2001-11-13 12:54:37.314975985)
> > [...]
> >
> > I am ready to believe that this is not a bug (i.e., that the timing on my
> > various machines and file systems is such that I am creating a Makevars with a
> > modification that is 0.07 seconds in the future from the perspective of the
> > machine that Perl is running on). However, I would think that a
> > warning would only be justified if this were far enough (1 second? 5 seconds?)
> > in the future to be "interesting".
>
> I get this too from time to time.  It's actually hard to tell what is
> 'uninteresting' in general. For example, Linux can create a file in about
> 50 microseconds on suitable hardware, so a 0.07s lag is easily enough that
> files might in principle have been created in the wrong order, messing up
> the make algorithm.
>
> Fortunately in building R this sort of lag doesn't matter.

It can do. I've had dependencies missed because of it. Maybe not 0.07sec,
but well under a second.

> Unfortunately I don't know how to turn the warning off.

We used to have a rash of this.  We now run xntp, and provided that
has not died on our master server (not unknown), we seem to get no further
problems.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jmc@research.bell-labs.com  Tue Nov 13 18:53:44 2001
From: jmc@research.bell-labs.com (John Chambers)
Date: Tue, 13 Nov 2001 13:53:44 -0500
Subject: [Rd] Methods package:  One of those strategy questions
References: <Pine.A41.4.33.0111130906450.38952-100000@homer33.u.washington.edu>
Message-ID: <3BF16C38.FDCA478B@research.bell-labs.com>

Thomas Lumley wrote:
> 
> On Tue, 13 Nov 2001, John Chambers wrote:
> 
> > I had better mention this one separately, since until it's settled you
> > need a workaround.
> >
> > If you define methods for primitives now, this does NOT create an
> > explicit generic function for, say, "[", so that the original primitive
> > computations still run.
> >
> > This means that the method dispatch has to be turned on for that
> > function somehow else.
> 
> Is this true whenever you define a method for a primitive or only if
> that primitive hasn't already got methods defined for it?
> 
>         -thomas

The former, unfortunately.  As the function's name suggests,
cacheMetaData collects and merges information about all the currently
visible methods.  One doesn't want to do this merge on each dispatch, so
it's triggered by any change in the visible  methods (e.g., a call to
setMethod or a change in the search list).  So "turned on"  really
should have been "notified of a change in the methods".

If I don't hear objections, I plan to add checkMetaData to library,
attach, and detach fairly soon, which should cover the problem.

John
-- 
John M. Chambers                  jmc@bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Nov 13 19:07:41 2001
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 13 Nov 2001 14:07:41 -0500
Subject: [Rd] modification time warning with R CMD check
References: <Pine.A41.4.33.0111131021490.38952-100000@homer33.u.washington.edu>
Message-ID: <3BF16F7D.DB9FD1E1@bank-banque-canada.ca>

>I get this too from time to time.  It's actually hard to tell what is
>Unfortunately I don't know how to turn the warning off.

One way to stop it is to run on a slower machine. To really fix it, of course,
you are suppose to better synchronize your computer and file server clocks. More
seriously, I think it helps if your computer clock errs on the side of being
slightly ahead of the file server clock.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Nov 13 19:46:01 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 13 Nov 2001 19:46:01 +0000 (GMT)
Subject: [Rd] Methods package:  One of those strategy questions
In-Reply-To: <3BF16C38.FDCA478B@research.bell-labs.com>
Message-ID: <Pine.LNX.4.31.0111131944050.3396-100000@gannet.stats>

On Tue, 13 Nov 2001, John Chambers wrote:

> Thomas Lumley wrote:
> >
> > On Tue, 13 Nov 2001, John Chambers wrote:
> >
> > > I had better mention this one separately, since until it's settled you
> > > need a workaround.
> > >
> > > If you define methods for primitives now, this does NOT create an
> > > explicit generic function for, say, "[", so that the original primitive
> > > computations still run.
> > >
> > > This means that the method dispatch has to be turned on for that
> > > function somehow else.
> >
> > Is this true whenever you define a method for a primitive or only if
> > that primitive hasn't already got methods defined for it?
> >
> >         -thomas
>
> The former, unfortunately.  As the function's name suggests,
> cacheMetaData collects and merges information about all the currently
> visible methods.  One doesn't want to do this merge on each dispatch, so
> it's triggered by any change in the visible  methods (e.g., a call to
> setMethod or a change in the search list).  So "turned on"  really
> should have been "notified of a change in the methods".
>
> If I don't hear objections, I plan to add checkMetaData to library,
> attach, and detach fairly soon, which should cover the problem.

You will do some rough performance tests?  We (including I) have forgotten
to do so a few too many times ....

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From White.Denis@epamail.epa.gov  Wed Nov 14 00:11:02 2001
From: White.Denis@epamail.epa.gov (White.Denis@epamail.epa.gov)
Date: Wed, 14 Nov 2001 01:11:02 +0100 (MET)
Subject: [Rd] pdf driver (PR#1168)
Message-ID: <200111140011.BAA27845@pubhealth.ku.dk>

--0__=88256B0300839EDB8f9e8a93df938690918c88256B0300839EDB
Content-type: text/plain; charset=us-ascii

Not sure whether the R pdf driver is the problem, or some HP problem, or
local, but the zip file below has a simple R script [pdfbug.r] using pdf
() to create R2pdf.pdf that causes a "79.00FE PRINTER ERROR" on a HP
5000 N LaserJet printer when printed from Acrobat Reader.

The following other tests do not cause printer errors:  (1) printing
R2pdf.pdf from Acrobat Reader to a HP 8000 DN LaserJet; (2) creating a
postscript file [R2eps.eps] in R, then converting to pdf with Acrobat
Distiller [R2distill.pdf] and printing to the HP 5000; (3) creating a
postscript file, then converting to pdf with Adobe Framemaker
[R2maker.pdf] and printing to the HP 5000.

The other curiousity that emerged from this is that the pdf files from
both distiller and framemaker rotated the plot.

(See attached file: pdfbug.zip)
--0__=88256B0300839EDB8f9e8a93df938690918c88256B0300839EDB
Content-type: application/zip; 
	name="pdfbug.zip"
Content-Disposition: attachment; filename="pdfbug.zip"
Content-transfer-encoding: base64

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

--0__=88256B0300839EDB8f9e8a93df938690918c88256B0300839EDB--


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From White.Denis@epamail.epa.gov  Wed Nov 14 00:14:44 2001
From: White.Denis@epamail.epa.gov (White.Denis@epamail.epa.gov)
Date: Wed, 14 Nov 2001 01:14:44 +0100 (MET)
Subject: [Rd] pdf driver (PR#1169)
Message-ID: <200111140014.BAA27869@pubhealth.ku.dk>

--0__=88256B040001210F8f9e8a93df938690918c88256B040001210F
Content-type: text/plain; charset=us-ascii

{Please ignore earlier message; I forgot R.version}

Not sure whether the R pdf driver is the problem, or some HP problem, or
local, but the zip file below has a simple R script [pdfbug.r] using pdf
() to create R2pdf.pdf that causes a "79.00FE PRINTER ERROR" on a HP
5000 N LaserJet printer when printed from Acrobat Reader.

The following other tests do not cause printer errors:  (1) printing
R2pdf.pdf from Acrobat Reader to a HP 8000 DN LaserJet; (2) creating a
postscript file [R2eps.eps] in R, then converting to pdf with Acrobat
Distiller [R2distill.pdf] and printing to the HP 5000; (3) creating a
postscript file, then converting to pdf with Adobe Framemaker
[R2maker.pdf] and printing to the HP 5000.

The other curiousity that emerged from this is that the pdf files from
both distiller and framemaker rotated the plot.

         _
platform sparc-sun-solaris2.8
arch     sparc
os       solaris2.8
system   sparc, solaris2.8
status
major    1
minor    3.1
year     2001
month    08
day      31
language R

(See attached file: pdfbug.zip)

--0__=88256B040001210F8f9e8a93df938690918c88256B040001210F
Content-type: application/zip; 
	name="pdfbug.zip"
Content-Disposition: attachment; filename="pdfbug.zip"
Content-transfer-encoding: base64

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

--0__=88256B040001210F8f9e8a93df938690918c88256B040001210F--


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Nov 14 07:38:35 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 14 Nov 2001 08:38:35 +0100 (MET)
Subject: [Rd] pdf driver (PR#1169)
Message-ID: <200111140738.IAA29259@pubhealth.ku.dk>

You also forgot to tell us the Acrobat version.  But printing errors from
Acrobat are notorious.  If Acrobat Reader can display the file, the
error is almost certainly in Acrobat Reader, especially as you can print
on another printer.

I don't propose to investigate this as an R bug: I am pretty sure
R's driver is conforming to the PDF spec.

On Wed, 14 Nov 2001 White.Denis@epamail.epa.gov wrote:

> --0__=88256B040001210F8f9e8a93df938690918c88256B040001210F
> Content-type: text/plain; charset=us-ascii
>
> {Please ignore earlier message; I forgot R.version}
>
> Not sure whether the R pdf driver is the problem, or some HP problem, or
> local, but the zip file below has a simple R script [pdfbug.r] using pdf
> () to create R2pdf.pdf that causes a "79.00FE PRINTER ERROR" on a HP
> 5000 N LaserJet printer when printed from Acrobat Reader.
>
> The following other tests do not cause printer errors:  (1) printing
> R2pdf.pdf from Acrobat Reader to a HP 8000 DN LaserJet; (2) creating a
> postscript file [R2eps.eps] in R, then converting to pdf with Acrobat
> Distiller [R2distill.pdf] and printing to the HP 5000; (3) creating a
> postscript file, then converting to pdf with Adobe Framemaker
> [R2maker.pdf] and printing to the HP 5000.
>
> The other curiousity that emerged from this is that the pdf files from
> both distiller and framemaker rotated the plot.
>
>          _
> platform sparc-sun-solaris2.8
> arch     sparc
> os       solaris2.8
> system   sparc, solaris2.8
> status
> major    1
> minor    3.1
> year     2001
> month    08
> day      31
> language R
>
> (See attached file: pdfbug.zip)
>
> --0__=88256B040001210F8f9e8a93df938690918c88256B040001210F
> Content-type: application/zip;
> 	name="pdfbug.zip"
> Content-Disposition: attachment; filename="pdfbug.zip"
> Content-transfer-encoding: base64
>
> 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
>
> --0__=88256B040001210F8f9e8a93df938690918c88256B040001210F--
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Nov 14 09:21:15 2001
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 14 Nov 2001 10:21:15 +0100
Subject: [Rd] Small change to "cut.default"
In-Reply-To: <3BF116E5.C16B9290@durham.ac.uk>
References: <3BF116E5.C16B9290@durham.ac.uk>
Message-ID: <15346.14219.27627.740832@gargle.gargle.HOWL>

>>>>> "JonR" == Jonathan Rougier <J.C.Rougier@durham.ac.uk> writes:

    JonR> Hi everyone, Can I suggest the following cosmetic change to
    JonR> cut.default (R-1.3.1), to adjust the labels in the case that
    JonR> include.lowest = TRUE:

    .....

    JonR> Thus we have (noticing the labels)

    >> pp <- rpois(10, lambda = 1) breaks <- c(0:2, Inf) 
    >> cut(pp, breaks =breaks)
    JonR>  [1] NA (0,1] (0,1] (0,1] NA NA NA (0,1] (1,2] (1,2]
    JonR>  Levels: (0,1] (1,2] (2,Inf]
    >> cut(pp, breaks = breaks, include.lowest = TRUE)
    JonR>  [1] [0,1] [0,1] [0,1] [0,1] [0,1] [0,1] [0,1] [0,1] (1,2] (1,2]
    JonR> Levels: [0,1] (1,2] (2,Inf]
    >> cut(pp, breaks = breaks, include.lowest = TRUE, right = FALSE)
    JonR>  [1] [0,1) [1,2) [1,2) [1,2) [0,1) [0,1) [0,1) [1,2) [2,Inf] ..
    JonR> Levels: [0,1) [1,2) [2,Inf]
    >> cut(pp, breaks = breaks, right = FALSE)
    JonR>  [1] [0,1) [1,2) [1,2) [1,2) [0,1) [0,1) [0,1) [1,2) [2,Inf) ..
    JonR>  Levels: [0,1) [1,2) [2,Inf)

which sounds very reasonable.

There is the slight chance to break old code however for people who made
explicit use of the factor levels in things like

  indhigh  <-  fp == "[2, Inf)"

I still believe we should do the change for 1.4.
If there won't be further voices, I'll do.

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Wed Nov 14 11:21:04 2001
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich.Leisch@ci.tuwien.ac.at)
Date: Wed, 14 Nov 2001 12:21:04 +0100
Subject: [Rd] CVS snapshots on CRAN
Message-ID: <15346.21408.334683.283386@galadriel.ci.tuwien.ac.at>


As there have been no negative reactions to my question last week
CRAN no longer mirrors the daily snapshots of the R sources. Archives
of the official releases are of course still available at every CRAN
node.

All answers I got (thanks to all respondents) had basically the same
content: It is important that the snapshot are available somewhere (to
which I wholeheartedly agree), but it is not important that every
single CRAN node carries them. In fact, it makes only limited sense to
propagate archives that change on a daily basis through a network of
mirror sites. When a snapshot reaches one of the final nodes in the
mirroring process, there are already 2 newer versions available at the
orginal sites ...

Snapshots of the R sources (copy of the current CVS tree) can from now
on be obtained from two sources:

*) Anonymous rsync from rsync.rproject.org. This is probably the best
   option if you want to track the R sources on a regular basis,
   because it allows to update a copy of the CVS tree downloading only
   differences since your last checkout. See http://www.rsync.org for
   more information on rsync. If rsync is installed on your system
   then

	rsync rsync.r-project.org::

   gives you a list of available modules, currently including:
   r-release      R-1.3.1 sources (current released version - approx 25 MB)
   r-patched      R sources (patched released version - approx 25 MB)
   r-devel        R sources (devel version, less stable - approx 25 MB)
   r-ng           R sources (next generation - unstable - approx 25 MB)

   Note that rsync connections can be compressed, such that the actual
   number of megabytes transferred is approximately the same as
   downloading a gzipped tar file.

      
*) The usual gzipped and bzipped tar files continue to be available by
    anonymous FTP from ftp://ftp.stat.math.ethz.ch/Software/R</a>.



Best,
Fritz

-- 
-------------------------------------------------------------------
                        Friedrich  Leisch 
Institut fr Statistik                     Tel: (+43 1) 58801 10715
Technische Universitt Wien                Fax: (+43 1) 58801 10798
Wiedner Hauptstrae 8-10/1071      Friedrich.Leisch@ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jan.van.de.kraats@kabelfoon.nl  Wed Nov 14 15:41:00 2001
From: jan.van.de.kraats@kabelfoon.nl (J A van de Kraats)
Date: Wed, 14 Nov 2001 16:41:00 +0100
Subject: [Rd] European Water Management News
Message-ID: <595922-220011131415410910@kabelfoon.nl>

Dear Colleague,
 
Our journal, European Water Management, the official journal of the European Water Association (EWA), has started a free e-mail news service.

If you subscribe, you get weekly a mail with press releases, etc. concerning water (management, research, policy, industry, etc.).

It is completely free for all people working in the water sector in its broadest sense.

Older issues of the news are available at www.riza.nl (click on European Water Management News). You can visit this site to get an idea what you will get and if this is useful for you. You can subscribe via this site, but you can subscribe too by sending me at jan.van.de.kraats@kabelfoon.nl a mail with in the subject line "Subscribe European Water Management News."

Unsubscribing later is as easy, just send me a mail with "Unsubscribe European Water Management News" in the subject line.
I am looking forward to your answer.
 
Best regards,
Jan van de Kraats
Institute for Inland Water Treatment and Waste Water Treatment (RIZA)



European Water Management
Official Journal of the European Water Association (EWA)
Editor-in-Chief
Drs J A van de Kraats
Institute for Inland Water Management
and Waste Water Treatment (RIZA)
PO Box 17
8200 AA Lelystad
The Netherlands
Tel +31 320 298 793
Fax +31 320 280883
E-mail j.vdkraats@riza.rws.minvenw.nl
Private Fax +15308844520
Private E-mail jan.van.de.kraats@kabelfoon.nl





Drs Jan A van de Kraats
Editor-in-Chief European Water Management
INSTITUTE FOR INLAND WATER MANAGEMENT
AND WASTE WATER TREATMENT(RIZA)
Lelystad,
The Netherlands
jan.van.de.kraats@kabelfoon.nl
www.riza.nl

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Nov 14 15:59:08 2001
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 14 Nov 2001 16:59:08 +0100
Subject: [Rd] confusion() -- generic function in package mda -- generally useful?
Message-ID: <15346.38092.644990.904103@gargle.gargle.HOWL>

For a private package ("soon" to be on CRAN),
I started looking at and thinking about the function confusion() from the
mda package and wondered if it wouldn't make sense to provide the generic
function in base R and also think about making the default for the `true'
argument equal to  fitted(object).

One could write methods for confusion() for almost all classifiers 
which would be a nice universal approach.
Also, the value (a confusion matrix contingency table with some "useful"
attributes) could be made a bit more explicit.

Good or not so good idea?  alternatives?

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

>>   Confusion Matrices
>> 
>>   Description:
>> 
>>        Compute the confusion matrix between two factors, or for an fda or
>>        mda object.
>> 
>>   Usage:
>> 
>>        confusion(object, true, ...)
>>        confusion(object, data, ...)
>> 
>>   Arguments:
>> 
>>     object: the predicted factor, or an fda or mda model object.
>> 
>>       true: the true factor.
>> 
>>       data: a data frame (list) containing the test data.
>> 
>>        ...: further arguments to be passed to or from methods.
>> 
>>   Details:
>> 
>>        This is a generic function.
>> 
>>   Value:
>> 
>>        For the default method essentially `table(object, true)', but with
>>        some useful attribute(s).
>> 
>>   See Also:
>> 
>>        `fda', `predict.fda'
>> 
>>   Examples:
>> 
>>        data(iris)
>>        irisfit <- fda(Species ~ ., data = iris)
>>        confusion(predict(irisfit, iris), iris$Species)
>>        ##            Setosa Versicolor Virginica 
>>        ##     Setosa     50          0         0
>>        ## Versicolor      0         48         1
>>        ##  Virginica      0          2        49
>>        ## attr(, "error"):
>>        ## [1] 0.02

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From darmy16@hotmail.com  Wed Nov 14 17:43:53 2001
From: darmy16@hotmail.com (Jean Wu)
Date: Wed, 14 Nov 2001 12:43:53 -0500
Subject: [Rd] lme: how to extract the variance components?
Message-ID: <DAV528MwHmLJRrtgMVN00013474@hotmail.com>

This is a multi-part message in MIME format.

------=_NextPart_000_0005_01C16D0A.0459F770
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

      Dear all,=20
      Here is the question:
      For example, using the "petrol" data offered with R.
      pet3.lme<-lme(Y~SG+VP+V10+EP,random=3D~1|No,data=3Dpetrol)
      pet3.lme$sigma gives the residual StdDev.
      But I can't figure out how to extract the "(intercept) StdDev",=20
      although it is in the print out if I do "summary(pet3.lme)".

      In S-plus3.4 , $var.ran is the estimate of the variance of the =
random=20
      effects between clusters. what is the equivalent thing to do in R?

      Thank you very much!

    =20

Jean

------=_NextPart_000_0005_01C16D0A.0459F770
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META content=3D"text/html; charset=3Diso-8859-1" =
http-equiv=3DContent-Type>
<META content=3D"MSHTML 5.00.3018.900" name=3DGENERATOR>
<STYLE></STYLE>
</HEAD>
<BODY bgColor=3D#ffffff>
<DIV><FONT size=3D2>
<TABLE width=3D"100%">
  <TBODY>
  <TR>
    <TD>
      <P><FONT face=3DArial>Dear all, <BR>Here is the question:<BR>For =
example,=20
      using the "petrol" data offered with=20
      =
R.<BR>pet3.lme&lt;-lme(Y~SG+VP+V10+EP,random=3D~1|No,data=3Dpetrol)<BR>pe=
t3.lme$sigma=20
      gives the residual StdDev.<BR>But I can't figure out how to =
extract the=20
      "(intercept) StdDev", <BR>although it is in the print out if I do=20
      "summary(pet3.lme)".<BR><BR>In S-plus3.4 , $var.ran is the =
estimate of the=20
      variance of the random <BR>effects between clusters. what is the=20
      equivalent thing to do in R?<BR><BR>Thank you very=20
      =
much!<BR></FONT></FONT></P></TD></TR></TBODY></TABLE></FONT></DIV><FONT=20
face=3DArial size=3D2>Jean</FONT></BODY></HTML>

------=_NextPart_000_0005_01C16D0A.0459F770--
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Wed Nov 14 18:17:28 2001
From: bates@stat.wisc.edu (Douglas Bates)
Date: 14 Nov 2001 12:17:28 -0600
Subject: [Rd] lme: how to extract the variance components?
In-Reply-To: <DAV528MwHmLJRrtgMVN00013474@hotmail.com>
References: <DAV528MwHmLJRrtgMVN00013474@hotmail.com>
Message-ID: <6ry9l9ushz.fsf@franz.stat.wisc.edu>

"Jean Wu" <darmy16@hotmail.com> writes:

>       Dear all, 
>       Here is the question:
>       For example, using the "petrol" data offered with R.

I think you mean the "petrol" data from the MASS library for R.

>       pet3.lme<-lme(Y~SG+VP+V10+EP,random=~1|No,data=petrol)
>       pet3.lme$sigma gives the residual StdDev.
>       But I can't figure out how to extract the "(intercept) StdDev", 
>       although it is in the print out if I do "summary(pet3.lme)".

You can get a character representation of the number from VarCorr
> VarCorr(pet3.lme)
No = pdLogChol(1) 
            Variance StdDev  
(Intercept) 2.088107 1.445028
Residual    3.504931 1.872146
> VarCorr(pet3.lme)["(Intercept)", "Variance"]
[1] "2.088107"
> as.numeric(VarCorr(pet3.lme)["(Intercept)", "Variance"])
[1] 2.088107

A better but more complicated approach is to extract the reStruct
component of the modelStruct component of the fitted model and convert
convert to a matrix.

> str(as.matrix(pet3.lme$modelStruct$reStruct))
List of 1
 $ No: num 0.596
  ..- attr(*, "dimnames")=List of 2
  .. ..$ : chr "(Intercept)"
  .. ..$ : chr "(Intercept)"

The result is actually a list of matrices because we must allow for
cases of nested grouping factors.  The first (and only, in this case)
element of the list is the relative variance-covariance matrix of the
random effects for the first grouping factor.  To convert it to the
variance-covariance matrix you multiply by sigma^2.

> as.matrix(pet3.lme$modelStruct$reStruct)[[1]] * pet3.lme$sigma^2
            (Intercept)
(Intercept)    2.088107

That number prints the same as the previous value derived from VarCorr
but this extraction retains the full numerical precision because it
does not convert to character and back to numeric.

>       In S-plus3.4 , $var.ran is the estimate of the variance of the random 
>       effects between clusters. what is the equivalent thing to do in R?

That's from a very old version of the NLME package that uses different
computational methods from those used in NLME 3.0 and higher.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Nov 14 18:19:39 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 14 Nov 2001 19:19:39 +0100
Subject: [Rd] lme: how to extract the variance components?
In-Reply-To: <DAV528MwHmLJRrtgMVN00013474@hotmail.com>
References: <DAV528MwHmLJRrtgMVN00013474@hotmail.com>
Message-ID: <x2d72lcj0k.fsf@blueberry.kubism.ku.dk>

"Jean Wu" <darmy16@hotmail.com> writes:

>       Dear all, 
>       Here is the question:
>       For example, using the "petrol" data offered with R.
>       pet3.lme<-lme(Y~SG+VP+V10+EP,random=~1|No,data=petrol)
>       pet3.lme$sigma gives the residual StdDev.
>       But I can't figure out how to extract the "(intercept) StdDev", 
>       although it is in the print out if I do "summary(pet3.lme)".
> 
>       In S-plus3.4 , $var.ran is the estimate of the variance of the random 
>       effects between clusters. what is the equivalent thing to do in R?

It's been a while, but I have some old code saying


lme.obj <- lme(log(Height)~ns(sqrt(Age),knots=c(0.25,.5,1,5),
  Boundary.knots=c(0,10)), random=~sqrt(Age)|ID,
  correlation=corExp(form=~sqrt(Age),nugget=F))
Age.new <- seq(0,10,0.01)  
C.mat  <- lme.obj$sigma^2*as.matrix(lme.obj$modelStruct$reStruct$ID)
SD <- sqrt(sapply(Age.new,
  function(a){x<-c(1,sqrt(a)); t(x) %*% C.mat %*% x})
  +lme.obj$sigma^2)

so I would expect that you want 

pet3.lme$sigma^2 * as.matrix(pet3.lme$modelStruct$reStruct$No)


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gregory_r_warnes@groton.pfizer.com  Wed Nov 14 20:20:34 2001
From: gregory_r_warnes@groton.pfizer.com (gregory_r_warnes@groton.pfizer.com)
Date: Wed, 14 Nov 2001 21:20:34 +0100 (MET)
Subject: [Rd] rpart:plotcp doesn't allow ylim argument (PR#1171)
Message-ID: <200111142020.VAA09432@pubhealth.ku.dk>

Full_Name: Gregory R. Warnes
Version: R 1.3.1
OS: Solaris 2.8
Submission from: (NULL) (192.77.198.200)


rpart library version 3.1-2

Error message:
> plotcp(fit.thirds.1,ylim=c(0.7,1.5));
Error in plot.default(ns, xerror, axes = FALSE, xlab = "cp", ylab = "X-val
Relative Error",  : 
	formal argument "ylim" matched by multiple actual arguments
> 

This can be corrected by adding  ylim to the list of formal argument and
wrapping 
the definition of ylim with 'if(missing(ylim))'.  Patch below.

-Greg

---PATCH STARTS HERE---
diff -r rpart.orig//R/plotcp.s rpart/R/plotcp.s
5c5
< 		   upper=c("size", "splits", "none"), ...)
---
> 		   upper=c("size", "splits", "none"), ylim, ...)
18c18,19
<   ylim <- c(min(xerror - xstd) - 0.1, max(xerror + xstd) + 0.1)
---
>   if(missing(ylim))
>     ylim <- c(min(xerror - xstd) - 0.1, max(xerror + xstd) + 0.1)


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Paul.White@dsto.defence.gov.au  Thu Nov 15 05:52:24 2001
From: Paul.White@dsto.defence.gov.au (Paul.White@dsto.defence.gov.au)
Date: Thu, 15 Nov 2001 06:52:24 +0100 (MET)
Subject: [Rd] rhs of == does not work with a list of items. should it ? (PR#1172)
Message-ID: <200111150552.GAA11204@pubhealth.ku.dk>

> Hello bug people,
> 
> Version:
>  platform = i686-pc-linux-gnu
>  arch = i686
>  os = linux-gnu
>  system = i686, linux-gnu
>  status =
>  major = 1
>  minor = 3.1
>  year = 2001
>  month = 08
>  day = 31
>  language = R
> 
> is this a bug ?
> 
> x <- 1:10
> x==4:5
>  [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
> 
> Nothing said it should but nothing said it shouldn't . My expectation was
> that it would successively try
> each of the values in the list and or the result for each item in the x
> vector. ie it would pick out all the matches
of 4 or 5.

> [1] FALSE FALSE FALSE  TRUE TRUE FALSE FALSE FALSE FALSE FALSE
> 
> Paul

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ligges@statistik.uni-dortmund.de  Thu Nov 15 07:24:55 2001
From: ligges@statistik.uni-dortmund.de (ligges@statistik.uni-dortmund.de)
Date: Thu, 15 Nov 2001 08:24:55 +0100 (MET)
Subject: [Rd] rhs of == does not work with a list of items. should it ? (PR#1173)
Message-ID: <200111150724.IAA11644@pubhealth.ku.dk>

Paul.White@dsto.defence.gov.au wrote:
> 
> > Hello bug people,
> >
> > Version:
> >  platform = i686-pc-linux-gnu
> >  arch = i686
> >  os = linux-gnu
> >  system = i686, linux-gnu
> >  status =
> >  major = 1
> >  minor = 3.1
> >  year = 2001
> >  month = 08
> >  day = 31
> >  language = R
> >
> > is this a bug ?
> >
> > x <- 1:10
> > x==4:5
> >  [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
> >
> > Nothing said it should but nothing said it shouldn't . My expectation was
> > that it would successively try
> > each of the values in the list and or the result for each item in the x
> > vector. ie it would pick out all the matches
> of 4 or 5.
> 
> > [1] FALSE FALSE FALSE  TRUE TRUE FALSE FALSE FALSE FALSE FALSE

That's not a bug!
R extends the vector 4:5 to have the same length as 1:10 and compares
these two vectors:

4 1
5 2
4 3
5 4
4 5
5 6
4 7
5 8
4 9
5 10

So there is no position with "4:5 == 1:10"!
Test it with: 2:10 == 4:5.

What you want is  (I guess):
 1:10 %in% 4:5

Uwe Ligges

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Nov 15 09:00:50 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 15 Nov 2001 10:00:50 +0100 (MET)
Subject: [Rd] rhs of == does not work with a list of items (PR#1172)
Message-ID: <200111150900.KAA12881@pubhealth.ku.dk>

(1) There are no lists here!  You have numeric vectors, not lists.


(2) The normal vector-recycling rules apply.  It does
1 == 4, 2 == 5, 3 == 4, 4 == 5,  5 == 4, ....

Try

> 1:10 == 5:4
 [1] FALSE FALSE FALSE  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE


(3) For what you appear to want

> x %in% 4:5
 [1] FALSE FALSE FALSE  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE

is the way to get it.


(4) It is better to read the reference manual or a good book or post to
R-help if you don't understand what R is doing.  See the section in the
FAQ

  9.1 What is a bug?

R is a volunteer project, and bug reports take valuable time.


On Thu, 15 Nov 2001 Paul.White@dsto.defence.gov.au wrote:

> > Hello bug people,
> >
> > Version:
> >  platform = i686-pc-linux-gnu
> >  arch = i686
> >  os = linux-gnu
> >  system = i686, linux-gnu
> >  status =
> >  major = 1
> >  minor = 3.1
> >  year = 2001
> >  month = 08
> >  day = 31
> >  language = R
> >
> > is this a bug ?
> >
> > x <- 1:10
> > x==4:5
> >  [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
> >
> > Nothing said it should but nothing said it shouldn't . My expectation was
> > that it would successively try
> > each of the values in the list and or the result for each item in the x
> > vector. ie it would pick out all the matches
> of 4 or 5.
>
> > [1] FALSE FALSE FALSE  TRUE TRUE FALSE FALSE FALSE FALSE FALSE
> >
> > Paul
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Nov 15 09:25:12 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 15 Nov 2001 10:25:12 +0100 (MET)
Subject: [Rd] rpart:plotcp doesn't allow ylim argument (PR#1171)
Message-ID: <200111150925.KAA13266@pubhealth.ku.dk>

It doesn't say it allows ylim, either. Why would you want to do this?

rpart is a port of code written for S-PLUS 6: that has been finalized last
week and rpart version 3.1-3 is the result.  It's been very difficult
tracking the changes, and I am not prepared to diverge the R port from the
original except where essential.   (By no means all changes I feed back get
incorporated.)

You'll need to convince me that this is essential.

On Wed, 14 Nov 2001 gregory_r_warnes@groton.pfizer.com wrote:

> Full_Name: Gregory R. Warnes
> Version: R 1.3.1
> OS: Solaris 2.8
> Submission from: (NULL) (192.77.198.200)
>
>
> rpart library version 3.1-2
>
> Error message:
> > plotcp(fit.thirds.1,ylim=c(0.7,1.5));
> Error in plot.default(ns, xerror, axes = FALSE, xlab = "cp", ylab = "X-val
> Relative Error",  :
> 	formal argument "ylim" matched by multiple actual arguments
> >
>
> This can be corrected by adding  ylim to the list of formal argument and
> wrapping
> the definition of ylim with 'if(missing(ylim))'.  Patch below.
>
> -Greg
>
> ---PATCH STARTS HERE---
> diff -r rpart.orig//R/plotcp.s rpart/R/plotcp.s
> 5c5
> < 		   upper=c("size", "splits", "none"), ...)
> ---
> > 		   upper=c("size", "splits", "none"), ylim, ...)
> 18c18,19
> <   ylim <- c(min(xerror - xstd) - 0.1, max(xerror + xstd) + 0.1)
> ---
> >   if(missing(ylim))
> >     ylim <- c(min(xerror - xstd) - 0.1, max(xerror + xstd) + 0.1)
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

--
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gregory_r_warnes@groton.pfizer.com  Thu Nov 15 14:28:15 2001
From: gregory_r_warnes@groton.pfizer.com (Warnes, Gregory R)
Date: Thu, 15 Nov 2001 09:28:15 -0500
Subject: [Rd] rpart:plotcp doesn't allow ylim argument (PR#1171)
Message-ID: <5429125E11E4D411AF7300805FE603A8014CEFEE@groexmbcr02.pfizer.com>


Hi Brain,

The reason for specifying ylim is to allow me to generate these plots for
several different trees and compare them side by side.  Its hard to do that
properly if the plots are on different scales.

While the help page doesn't say explicitly that it allows ylim, it does say
that "..." are "additional plotting parameters" which often means that the
standard plotting parameters will get handled properly.

-Greg

 > -----Original Message-----
 > From: ripley@stats.ox.ac.uk [mailto:ripley@stats.ox.ac.uk]
 > Sent: Thursday, November 15, 2001 4:25 AM
 > To: r-devel@stat.math.ethz.ch
 > Cc: R-bugs@biostat.ku.dk
 > Subject: Re: [Rd] rpart:plotcp doesn't allow ylim argument (PR#1171)
 > 
 > 
 > It doesn't say it allows ylim, either. Why would you want to do this?
 > 
 > rpart is a port of code written for S-PLUS 6: that has been 
 > finalized last
 > week and rpart version 3.1-3 is the result.  It's been very difficult
 > tracking the changes, and I am not prepared to diverge the R 
 > port from the
 > original except where essential.   (By no means all changes 
 > I feed back get
 > incorporated.)
 > 
 > You'll need to convince me that this is essential.
 > 
 > On Wed, 14 Nov 2001 gregory_r_warnes@groton.pfizer.com wrote:
 > 
 > > Full_Name: Gregory R. Warnes
 > > Version: R 1.3.1
 > > OS: Solaris 2.8
 > > Submission from: (NULL) (192.77.198.200)
 > >
 > >
 > > rpart library version 3.1-2
 > >
 > > Error message:
 > > > plotcp(fit.thirds.1,ylim=c(0.7,1.5));
 > > Error in plot.default(ns, xerror, axes = FALSE, xlab = 
 > "cp", ylab = "X-val
 > > Relative Error",  :
 > > 	formal argument "ylim" matched by multiple actual arguments
 > > >
 > >
 > > This can be corrected by adding  ylim to the list of 
 > formal argument and
 > > wrapping
 > > the definition of ylim with 'if(missing(ylim))'.  Patch below.
 > >
 > > -Greg
 > >
 > > ---PATCH STARTS HERE---
 > > diff -r rpart.orig//R/plotcp.s rpart/R/plotcp.s
 > > 5c5
 > > < 		   upper=c("size", "splits", "none"), ...)
 > > ---
 > > > 		   upper=c("size", "splits", "none"), ylim, ...)
 > > 18c18,19
 > > <   ylim <- c(min(xerror - xstd) - 0.1, max(xerror + xstd) + 0.1)
 > > ---
 > > >   if(missing(ylim))
 > > >     ylim <- c(min(xerror - xstd) - 0.1, max(xerror + xstd) + 0.1)
 > >
 > >
 > > 
 > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
 > .-.-.-.-.-.-.-.-.-
 > > r-devel mailing list -- Read 
 > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
 > > Send "info", "help", or "[un]subscribe"
 > > (in the "body", not the subject !)  To: 
 > r-devel-request@stat.math.ethz.ch
 > > 
 > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
 > ._._._._._._._._._
 > >
 > 
 > --
 > Brian D. Ripley,                  ripley@stats.ox.ac.uk
 > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
 > University of Oxford,             Tel:  +44 1865 272861 (self)
 > 1 South Parks Road,                     +44 1865 272860 (secr)
 > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
 > 
 > 
 > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
 > .-.-.-.-.-.-.-.-.-
 > r-devel mailing list -- Read 
 > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
 > Send "info", "help", or "[un]subscribe"
 > (in the "body", not the subject !)  To: 
 > r-devel-request@stat.math.ethz.ch
 > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
 > ._._._._._._._._._
 > 


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gregory_r_warnes@groton.pfizer.com  Thu Nov 15 14:28:56 2001
From: gregory_r_warnes@groton.pfizer.com (gregory_r_warnes@groton.pfizer.com)
Date: Thu, 15 Nov 2001 15:28:56 +0100 (MET)
Subject: [Rd] rpart:plotcp doesn't allow ylim argument (PR#1171)
Message-ID: <200111151428.PAA19138@pubhealth.ku.dk>


Hi Brain,

The reason for specifying ylim is to allow me to generate these plots for
several different trees and compare them side by side.  Its hard to do that
properly if the plots are on different scales.

While the help page doesn't say explicitly that it allows ylim, it does say
that "..." are "additional plotting parameters" which often means that the
standard plotting parameters will get handled properly.

-Greg

 > -----Original Message-----
 > From: ripley@stats.ox.ac.uk [mailto:ripley@stats.ox.ac.uk]
 > Sent: Thursday, November 15, 2001 4:25 AM
 > To: r-devel@stat.math.ethz.ch
 > Cc: R-bugs@biostat.ku.dk
 > Subject: Re: [Rd] rpart:plotcp doesn't allow ylim argument (PR#1171)
 > 
 > 
 > It doesn't say it allows ylim, either. Why would you want to do this?
 > 
 > rpart is a port of code written for S-PLUS 6: that has been 
 > finalized last
 > week and rpart version 3.1-3 is the result.  It's been very difficult
 > tracking the changes, and I am not prepared to diverge the R 
 > port from the
 > original except where essential.   (By no means all changes 
 > I feed back get
 > incorporated.)
 > 
 > You'll need to convince me that this is essential.
 > 
 > On Wed, 14 Nov 2001 gregory_r_warnes@groton.pfizer.com wrote:
 > 
 > > Full_Name: Gregory R. Warnes
 > > Version: R 1.3.1
 > > OS: Solaris 2.8
 > > Submission from: (NULL) (192.77.198.200)
 > >
 > >
 > > rpart library version 3.1-2
 > >
 > > Error message:
 > > > plotcp(fit.thirds.1,ylim=c(0.7,1.5));
 > > Error in plot.default(ns, xerror, axes = FALSE, xlab = 
 > "cp", ylab = "X-val
 > > Relative Error",  :
 > > 	formal argument "ylim" matched by multiple actual arguments
 > > >
 > >
 > > This can be corrected by adding  ylim to the list of 
 > formal argument and
 > > wrapping
 > > the definition of ylim with 'if(missing(ylim))'.  Patch below.
 > >
 > > -Greg
 > >
 > > ---PATCH STARTS HERE---
 > > diff -r rpart.orig//R/plotcp.s rpart/R/plotcp.s
 > > 5c5
 > > < 		   upper=c("size", "splits", "none"), ...)
 > > ---
 > > > 		   upper=c("size", "splits", "none"), ylim, ...)
 > > 18c18,19
 > > <   ylim <- c(min(xerror - xstd) - 0.1, max(xerror + xstd) + 0.1)
 > > ---
 > > >   if(missing(ylim))
 > > >     ylim <- c(min(xerror - xstd) - 0.1, max(xerror + xstd) + 0.1)
 > >
 > >
 > > 
 > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
 > .-.-.-.-.-.-.-.-.-
 > > r-devel mailing list -- Read 
 > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
 > > Send "info", "help", or "[un]subscribe"
 > > (in the "body", not the subject !)  To: 
 > r-devel-request@stat.math.ethz.ch
 > > 
 > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
 > ._._._._._._._._._
 > >
 > 
 > --
 > Brian D. Ripley,                  ripley@stats.ox.ac.uk
 > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
 > University of Oxford,             Tel:  +44 1865 272861 (self)
 > 1 South Parks Road,                     +44 1865 272860 (secr)
 > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
 > 
 > 
 > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
 > .-.-.-.-.-.-.-.-.-
 > r-devel mailing list -- Read 
 > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
 > Send "info", "help", or "[un]subscribe"
 > (in the "body", not the subject !)  To: 
 > r-devel-request@stat.math.ethz.ch
 > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
 > ._._._._._._._._._
 > 


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From White.Denis@epamail.epa.gov  Thu Nov 15 18:19:39 2001
From: White.Denis@epamail.epa.gov (White.Denis@epamail.epa.gov)
Date: Thu, 15 Nov 2001 19:19:39 +0100 (MET)
Subject: [Rd] pdf() behavior (PR#1174)
Message-ID: <200111151819.TAA21576@pubhealth.ku.dk>

--0__=88256B050063F04C8f9e8a93df938690918c88256B050063F04C
Content-type: text/plain; charset=us-ascii

The attached script produces "Error in plot.xy ... negative length
vectors are not allowed" when using pdf() but not when using postscript
().

platform sparc-sun-solaris2.8
arch     sparc
os       solaris2.8
system   sparc, solaris2.8
status
major    1
minor    3.1
year     2001
month    08
day      31
language R

(See attached file: test.zip)
--0__=88256B050063F04C8f9e8a93df938690918c88256B050063F04C
Content-type: application/zip; 
	name="test.zip"
Content-Disposition: attachment; filename="test.zip"
Content-transfer-encoding: base64

UEsDBAoABAAGAF1Rbyvc25I/oAEAAMoCAAAGAAAAdGVzdC5ySihtBP1NAw0FDQgtFAcIBAgFDQgV
OA0ILQgFLQgdBxZNBy0HDTdNBg0GBx0EBgQFAwQFFB0EBQQTBxQDFwYFFx0OB/7+/v7+/v7OPxMR
AgQFBAoUOgQ6AwRKuwSrBDsEiwoAEgYXBhcG9/f3V1GiJfxAg/kRI0dIXNe+ECavWR+2HnZ7678k
pz9OP3b+sT+65uHHGbkcsk4/48wcf8mzZKIn53XNjJu8chi5L+5X7gLpRdnb/i8GPf+T6WkF5cXp
x7SZ3WUDKwQx/e616W5n8/n5v6Z86//nlrscqvZsdPFOiX53qzbUrffYZBMCiRopcfq3fn3bPE4J
9mes/pLqqxuTHZbclJ+nnxqrbPXOEvgU5Cx8TVXNq9O7W5R6XuvyhePLjC+18H3L4btJ/aW56a9c
PHJx8w/5Ra2Zxccyx+D8L+QHN9zX9+3QvnqX8fm4eR0dHJalubj1NHezzKZ/hi6bC3pez22J/0s5
ntOEdlpO380LygOnP9wmW6xepqjOwcI/2O9ot2AGVoMC8VEOxeUmPklX4+naoSzcXs72vAJQSwME
CgAEAAYAJEdvK2WnKv6sAAAAOgEAAAgAAAB0ZXN0LmRhdBmaAxr7+wsCCxMCAwJD+/v7+/v7+/v7
+/v7WwgCAAEDOPn5+XkGAAEW9/f3t/FrqrPfx8bI/ZwZWb8cI8vXMnv+3dnT91IZl8rI+GMVb1Qc
540/hmRk6YpTx2T/URhtiLcoLitqunn3g/x964yuov4VmRXnqBiR7UdXjIgot7/I6CKusEJ4GVlI
LZiYFU2DEWX1aFTwePvjGDEq7qtoUnxN0cxr64qS2pYU8wRQSwECCgMKAAQABgBdUW8r3NuSP6AB
AADKAgAABgAAAAAAAAAAAAAApIEAAAAAdGVzdC5yUEsBAgoDCgAEAAYAJEdvK2WnKv6sAAAAOgEA
AAgAAAAAAAAAAAAAAKSBxAEAAHRlc3QuZGF0UEsFBgAAAAACAAIAagAAAJYCAAAAAA==

--0__=88256B050063F04C8f9e8a93df938690918c88256B050063F04C--


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Nov 15 19:32:44 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 15 Nov 2001 20:32:44 +0100 (MET)
Subject: [Rd] pdf() behavior (PR#1174)
Message-ID: <200111151932.UAA21933@pubhealth.ku.dk>

Could you re-send it in a form we can actually read? No mailer I have
(even on Solaris) can unscramble this.

I don't think R-bugs is scrambling this, but we know attachments are a
pain in the archive.

On Thu, 15 Nov 2001 White.Denis@epamail.epa.gov wrote:

> --0__=88256B050063F04C8f9e8a93df938690918c88256B050063F04C
> Content-type: text/plain; charset=us-ascii
>
> The attached script produces "Error in plot.xy ... negative length
> vectors are not allowed" when using pdf() but not when using postscript
> ().
>
> platform sparc-sun-solaris2.8
> arch     sparc
> os       solaris2.8
> system   sparc, solaris2.8
> status
> major    1
> minor    3.1
> year     2001
> month    08
> day      31
> language R
>
> (See attached file: test.zip)
> --0__=88256B050063F04C8f9e8a93df938690918c88256B050063F04C
> Content-type: application/zip;
> 	name="test.zip"
> Content-Disposition: attachment; filename="test.zip"
> Content-transfer-encoding: base64
>
> UEsDBAoABAAGAF1Rbyvc25I/oAEAAMoCAAAGAAAAdGVzdC5ySihtBP1NAw0FDQgtFAcIBAgFDQgV
> OA0ILQgFLQgdBxZNBy0HDTdNBg0GBx0EBgQFAwQFFB0EBQQTBxQDFwYFFx0OB/7+/v7+/v7OPxMR
> AgQFBAoUOgQ6AwRKuwSrBDsEiwoAEgYXBhcG9/f3V1GiJfxAg/kRI0dIXNe+ECavWR+2HnZ7678k
> pz9OP3b+sT+65uHHGbkcsk4/48wcf8mzZKIn53XNjJu8chi5L+5X7gLpRdnb/i8GPf+T6WkF5cXp
> x7SZ3WUDKwQx/e616W5n8/n5v6Z86//nlrscqvZsdPFOiX53qzbUrffYZBMCiRopcfq3fn3bPE4J
> 9mes/pLqqxuTHZbclJ+nnxqrbPXOEvgU5Cx8TVXNq9O7W5R6XuvyhePLjC+18H3L4btJ/aW56a9c
> PHJx8w/5Ra2Zxccyx+D8L+QHN9zX9+3QvnqX8fm4eR0dHJalubj1NHezzKZ/hi6bC3pez22J/0s5
> ntOEdlpO380LygOnP9wmW6xepqjOwcI/2O9ot2AGVoMC8VEOxeUmPklX4+naoSzcXs72vAJQSwME
> CgAEAAYAJEdvK2WnKv6sAAAAOgEAAAgAAAB0ZXN0LmRhdBmaAxr7+wsCCxMCAwJD+/v7+/v7+/v7
> +/v7WwgCAAEDOPn5+XkGAAEW9/f3t/FrqrPfx8bI/ZwZWb8cI8vXMnv+3dnT91IZl8rI+GMVb1Qc
> 540/hmRk6YpTx2T/URhtiLcoLitqunn3g/x964yuov4VmRXnqBiR7UdXjIgot7/I6CKusEJ4GVlI
> LZiYFU2DEWX1aFTwePvjGDEq7qtoUnxN0cxr64qS2pYU8wRQSwECCgMKAAQABgBdUW8r3NuSP6AB
> AADKAgAABgAAAAAAAAAAAAAApIEAAAAAdGVzdC5yUEsBAgoDCgAEAAYAJEdvK2WnKv6sAAAAOgEA
> AAgAAAAAAAAAAAAAAKSBxAEAAHRlc3QuZGF0UEsFBgAAAAACAAIAagAAAJYCAAAAAA==
>
> --0__=88256B050063F04C8f9e8a93df938690918c88256B050063F04C--
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From White.Denis@epamail.epa.gov  Thu Nov 15 20:10:23 2001
From: White.Denis@epamail.epa.gov (White.Denis@epamail.epa.gov)
Date: Thu, 15 Nov 2001 21:10:23 +0100 (MET)
Subject: [Rd] pdf() behavior (PR#1174)
Message-ID: <200111152010.VAA22209@pubhealth.ku.dk>

The attached script produces "Error in plot.xy ... negative length
vectors are not allowed" when using pdf() but not when using postscript
().

platform sparc-sun-solaris2.8
arch     sparc
os       solaris2.8
system   sparc, solaris2.8
status
major    1
minor    3.1
year     2001
month    08
day      31
language R

------------------------------------
# script
PDF <- TRUE

f.v1 <- function (x, a, b) b * (x^a)
f.v2 <- function (x, a, b, d) b * (x^a) * exp(d*x)

dat <- scan ("test.dat")

if (PDF) pdf ("test.pdf", width=8.5, height=11) else
  postscript ("test.eps", horizontal=FALSE, onefile=FALSE)

par (mfrow=c(2,1), mar=rep(6,4))

n <- length(dat)
nseq <- seq (n)

fit <- lm (log (dat[nseq]) ~ log (nseq))
b <- exp (fit$coefficients[1])
a <- fit$coefficients[2]
plot (dat[nseq], pch=20)
points (sapply (nseq, f.v1, a, b), col="red", pch=20)

fit <- lm (log (dat[nseq]) ~ log (nseq) + nseq)
b <- exp (fit$coefficients[1])
a <- fit$coefficients[2]
d <- fit$coefficients[3]
plot (dat[nseq], pch=20)
points (sapply (nseq, f.v2, a, b, d), col="red", pch=20)

graphics.off ()

-----------------------------------
# data set
9.585
12.935
14.775
15.625
16.56
17.44
18.165
18.655
19.04
19.49
19.9
20.285
20.61
20.815
21.065
21.3
21.46
21.645
21.82
22.085
22.315
22.45
22.61
22.67
22.79
22.9
23.01
23.1
23.165
23.295
23.4
23.51
23.585
23.64
23.685
23.75
23.805
23.84
23.9
23.955
24.025
24.09
24.14
24.18
24.23
24.275
24.31
24.33
24.345
24.37



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Thu Nov 15 21:20:33 2001
From: edd@debian.org (Dirk Eddelbuettel)
Date: Thu, 15 Nov 2001 15:20:33 -0600
Subject: [Rd] No SONAME in libRmath.so in src/nmath/standalone
Message-ID: <20011115152033.A22144@sonny.eddelbuettel.com>


Upon the suggestion of a Debian user, I am looking into also shipping
libRmath.{a,so}.  Building from R-1.3.1 sources, the resulting libRmath.so
is not recognised as shared library (objdump -p does not show SONAME).
Now, the Makefile hints at libtool usage, but I do not understand how to
enable this. 

However, I used the existing but empty option field libRmath_la_LDFLAGS
to pass the required info to gcc:
       libRmath_la_LDFLAGS=-Wl,-soname,libRmath.so.0

This leads to two questions:

1) Did I overlook anything?  Is there another (better?) way of doing this?

2) Is it ok with R-core if I use 0 as the SO number? Or should it be 1?

Thanks,  Dirk

-- 
Better to have an approximate answer to the right question 
than a precise answer to the wrong question. -- John Tukey
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.T.Kent@leeds.ac.uk  Fri Nov 16 10:35:13 2001
From: J.T.Kent@leeds.ac.uk (J.T.Kent@leeds.ac.uk)
Date: Fri, 16 Nov 2001 11:35:13 +0100 (MET)
Subject: [Rd] pearson residuals in glm for binomial response (PR#1175)
Message-ID: <200111161035.LAA27495@pubhealth.ku.dk>

R version 1.3.0
OS: SunOS 5.7, but I think the same problem occurs with Windows

An incorrect formula seems to be used to calculate the pearson residuals
for a generalized linear model with a binomial response.  Here is a
simple program which gives (a) the pearson residuals calculated directly,
(b) the pearson residuals from glm, and (c) the deviance residuals from 
glm.  The first and last columns are quite close.  The middle differs from 
the first by a factor of n (n=10 here).  This problem did not occur with
an earlier version of R I tried, version 0.64.2.

Thank you.

Professor John T. Kent         tel (direct)   (44) 113-233-5103
Department of Statistics       tel(secretary) (44) 113-233-5101
University of Leeds            fax            (44) 113-233-5090
Leeds LS2 9JT, England         e-mail: J.T.Kent@leeds.ac.uk

Input:

x_1:4 # regressor variable
y_c(2,6,7,8) # response binomial counts
n_rep(10,4) # number of binomial trials
ym_cbind(y,n-y) # response variable as a matrix
glm1_glm(ym~x,binomial) # fit a generalized linear model
f_fitted(glm1)
rp1_(y-n*f)/sqrt(n*f*(1-f)) # direct calculation of pearson residuals
rp2_residuals(glm1,type="pearson") # should be pearson residuals
rd_residuals(glm1) # deviance residuals
cbind(rp1,rp2,rd) # note second column is wrong, in this case by factor of 10

Output:

             rp1          rp2          rd
[1,] -0.56502992 -0.056500696 -0.58467936
[2,]  0.73739407  0.073739452  0.73886417
[3,]  0.05266796  0.005266533  0.05279174
[4,] -0.38314283 -0.038307944 -0.37010220
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Fri Nov 16 11:23:48 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Nov 2001 12:23:48 +0100
Subject: [Rd] pearson residuals in glm for binomial response (PR#1175)
In-Reply-To: <200111161035.LAA27495@pubhealth.ku.dk>
References: <200111161035.LAA27495@pubhealth.ku.dk>
Message-ID: <x24rnvvu0r.fsf@blueberry.kubism.ku.dk>

J.T.Kent@leeds.ac.uk writes:

> R version 1.3.0
> OS: SunOS 5.7, but I think the same problem occurs with Windows
> 
> An incorrect formula seems to be used to calculate the pearson residuals
> for a generalized linear model with a binomial response.  Here is a
> simple program which gives (a) the pearson residuals calculated directly,
> (b) the pearson residuals from glm, and (c) the deviance residuals from 
> glm.  The first and last columns are quite close.  The middle differs from 
> the first by a factor of n (n=10 here).  This problem did not occur with
> an earlier version of R I tried, version 0.64.2.

I almost said that your version is old and that you forgot to check
the bug repository for prior reports (PR#1123 was also on Pearson
residuals). However, the problem persists in the development version.

The issue is that we have (in 1.4.0pre)

 pearson = (y - mu)/sqrt(wts * (object$family$variance)(mu))

However, the y and mu that we use are divided by n:

> glm1$prior.weights
[1] 10 10 10 10
> glm1$fitted.values
[1] 0.2802480 0.4834715 0.6923131 0.8439674
> glm1$family$variance(glm1$fitted.values)
[1] 0.2017091 0.2497268 0.2130157 0.1316864
> glm1$y
[1] 0.2 0.6 0.7 0.8

I've stuck my foot in it with this stuff before, but should the
denominator not be sqrt(object$family$variance(mu)/wts) ?? (If the
weights are large, the variance should be smaller, not larger).

Could someone please ram a wooden stake through this one and prevent
it from haunting us again?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From hb@maths.lth.se  Fri Nov 16 16:00:02 2001
From: hb@maths.lth.se (hb@maths.lth.se)
Date: Fri, 16 Nov 2001 17:00:02 +0100 (MET)
Subject: [Rd] UseMethod() fails to (PR#1176)
Message-ID: <200111161600.RAA02600@pubhealth.ku.dk>

match the argument 'x' if there is another argument with prefix 'x'

Full_Name: Henrik Bengtsson
Version: 1.3.1
OS: Sun Solaris 8
Submission from: (NULL) (130.235.3.49)


I ran into a strange problem with UseMethod(). Run the following code:

foo.Bar <- function(this, x=0, xidx=0) {
  cat("In foo.Bar(): ", this, ", x=", x, ", xidx=", xidx, ".\n", sep="");
}

foo.default <- function(x, ...) {
  str("Error: No default function found!");
}

foo <- function(x, ...) UseMethod("foo");


obj <- "Hello world!";
class(obj) <- "Bar";

foo(obj);
foo(obj, xidx=1);
foo(obj, x=1);             # <- PROBLEM HERE!
foo(obj, x=1, xidx=1);     # <- PROBLEM HERE!
foo(obj, xidx=1, x=1);     # <- PROBLEM HERE!
foo.Bar(obj, x=1);
foo.Bar(obj, x=1, xidx=1);

and you will get

  In foo.Bar(): Hello world!, x=0, xidx=0.
  In foo.Bar(): Hello world!, x=0, xidx=1.
   chr "Error: No default function found!"
   chr "Error: No default function found!"
   chr "Error: No default function found!"
  In foo.Bar(): Hello world!, x=1, xidx=0.
  In foo.Bar(): Hello world!, x=1, xidx=1.

There is something going on with matching of arguments; UseMethod() fails to
match the argument 'x' if there is another argument with prefix 'x'.

I believe this is an unwanted feature of UseMethod.

Thanks

Henrik Bengtsson
Lund University
Sweden


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Fri Nov 16 16:13:42 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Nov 2001 17:13:42 +0100
Subject: [Rd] UseMethod() fails to (PR#1176)
In-Reply-To: <200111161600.RAA02600@pubhealth.ku.dk>
References: <200111161600.RAA02600@pubhealth.ku.dk>
Message-ID: <x2vggavgll.fsf@blueberry.kubism.ku.dk>

hb@maths.lth.se writes:

> match the argument 'x' if there is another argument with prefix 'x'
> 
> Full_Name: Henrik Bengtsson
> Version: 1.3.1
> OS: Sun Solaris 8
> Submission from: (NULL) (130.235.3.49)
> 
> 
> I ran into a strange problem with UseMethod(). Run the following code:
> 
> foo.Bar <- function(this, x=0, xidx=0) {
>   cat("In foo.Bar(): ", this, ", x=", x, ", xidx=", xidx, ".\n", sep="");
> }
> 
> foo.default <- function(x, ...) {
>   str("Error: No default function found!");
> }
> 
> foo <- function(x, ...) UseMethod("foo");
> 
> 
> obj <- "Hello world!";
> class(obj) <- "Bar";
> 
> foo(obj);
> foo(obj, xidx=1);
> foo(obj, x=1);             # <- PROBLEM HERE!
> foo(obj, x=1, xidx=1);     # <- PROBLEM HERE!
> foo(obj, xidx=1, x=1);     # <- PROBLEM HERE!
> foo.Bar(obj, x=1);
> foo.Bar(obj, x=1, xidx=1);
> 
> and you will get
> 
>   In foo.Bar(): Hello world!, x=0, xidx=0.
>   In foo.Bar(): Hello world!, x=0, xidx=1.
>    chr "Error: No default function found!"
>    chr "Error: No default function found!"
>    chr "Error: No default function found!"
>   In foo.Bar(): Hello world!, x=1, xidx=0.
>   In foo.Bar(): Hello world!, x=1, xidx=1.
> 
> There is something going on with matching of arguments; UseMethod() fails to
> match the argument 'x' if there is another argument with prefix 'x'.
> 
> I believe this is an unwanted feature of UseMethod.

Nope. In all the three cases you've marked as problems, you're telling
foo that the "x" argument is 1 (cf. plot(rnorm(10),x=1:10) ) and thus
UseMethod dispatches the default method.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Keith Richards-Dinger <dinger@usgs.gov>  Fri Nov 16 18:31:26 2001
From: Keith Richards-Dinger <dinger@usgs.gov> (Keith Richards-Dinger)
Date: Fri, 16 Nov 2001 13:31:26 -0500 (EST)
Subject: [Rd] DGESDD from Lapack for R-1.4.0?
Message-ID: <Pine.LNX.4.21.0111161244000.10665-100000@mchinji.wr.usgs.gov>


Hi,

I'm just wondering if it is planned to include the Lapack
routine DGESDD (and friends) in R-1.4.0?  This is faster
(supposedly by a factor of ~6 for large matrices) than
DGESVD which is currently (R-1.3.1) called by La.svd.

And if it is not in the plans yet, is there a chance it
could be?  I've added it to my local version of R-1.3.1 and
so far see a factor of 4 improvement over La.svd and a
factor of 3 over svd (see output below).  I'd be glad to
hand off what I've done so far to someone else or to work
more on it (make it behave as svd and La.svd do if you don't
want all the singular vectors; and add ZGESDD also).  
Though what I've done so far would probably be trivial for
someone who knew what they were doing...

Mac G4, 450 MHz, LinuxPPC, pre-compiled ATLAS-3.2.1
libraries for G4 from www.netlib.org, R-1.3.1:

> m <- matrix(rnorm(25e4), 5e2, 5e2)
> system.time(svd(m))
[1] 22.31  0.10 23.01  0.00  0.00
> system.time(La.svd(m))
[1] 29.60  0.10 29.78  0.00  0.00
> system.time(La.sdd(m))
[1] 7.28 0.12 8.00 0.00 0.00



Thanks, Keith Richards-Dinger

P.S.  I would have checked if DGESDD is in r-devel but I
could not figure out how to check r-devel out of CVS.  
<http://developer.R-project.org/CVStips.html> says "This
info is for reference to the core developers. Use of
anonymous CVS for outsiders is not yet covered here, but may
be in the future.", and my knowledge of CVS is almost
non-existent.  I tried:
 
cvs -d:pserver:anonymous@cvs.r-project.org:/home/rdevel/CVS-ARCHIVE login

and tried both an empty password and my email address as
password and both times got: 

cvs [login aborted]: authorization failed: server
cvs.r-project.org rejected access


---------------------------------------------------------------------------
Keith Richards-Dinger
U.S. Geological Survey, MS-977          Office 1-650-329-5519
345 Middlefield Road                    Fax    1-650-329-5143
Menlo Park, CA  USA  94025              e-mail dinger@usgs.gov
---------------------------------------------------------------------------




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Fri Nov 16 23:45:19 2001
From: bates@stat.wisc.edu (Douglas Bates)
Date: 16 Nov 2001 17:45:19 -0600
Subject: [Rd] DGESDD from Lapack for R-1.4.0?
In-Reply-To: <Pine.LNX.4.21.0111161244000.10665-100000@mchinji.wr.usgs.gov>
References: <Pine.LNX.4.21.0111161244000.10665-100000@mchinji.wr.usgs.gov>
Message-ID: <6ry9l6ffg0.fsf@franz.stat.wisc.edu>

Keith Richards-Dinger <dinger@mchinji.wr.usgs.gov> writes:

> P.S.  I would have checked if DGESDD is in r-devel but I
> could not figure out how to check r-devel out of CVS.  
> <http://developer.R-project.org/CVStips.html> says "This
> info is for reference to the core developers. Use of
> anonymous CVS for outsiders is not yet covered here, but may
> be in the future.", and my knowledge of CVS is almost
> non-existent.  I tried:
>  
> cvs -d:pserver:anonymous@cvs.r-project.org:/home/rdevel/CVS-ARCHIVE login
> 
> and tried both an empty password and my email address as
> password and both times got: 
> 
> cvs [login aborted]: authorization failed: server
> cvs.r-project.org rejected access

The best way to get copies of r-devel is through rsync from
rsync.r-project.org:: (see www.rsync.org for the rsync software if you
don't have it available).  You can also download a tar.gz or tar.bz2
snapshot from ftp://ftp.stat.math.ethz.ch/Software/R

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossini@u.washington.edu  Sat Nov 17 01:59:08 2001
From: rossini@u.washington.edu (A.J. Rossini)
Date: 16 Nov 2001 17:59:08 -0800
Subject: [Rd] DGESDD from Lapack for R-1.4.0?
In-Reply-To: <6ry9l6ffg0.fsf@franz.stat.wisc.edu>
References: <Pine.LNX.4.21.0111161244000.10665-100000@mchinji.wr.usgs.gov>
 <6ry9l6ffg0.fsf@franz.stat.wisc.edu>
Message-ID: <871yiyduoj.fsf@jeeves.blindglobe.net>

>>>>> "DB" == Douglas Bates <bates@stat.wisc.edu> writes:
    >> 
    >> cvs
    >> -d:pserver:anonymous@cvs.r-project.org:/home/rdevel/CVS-ARCHIVE
    >> login
    >> 
    >> and tried both an empty password and my email address as
    >> password and both times got:
    >> 
    >> cvs [login aborted]: authorization failed: server
    >> cvs.r-project.org rejected access

    DB> The best way to get copies of r-devel is through rsync from
    DB> rsync.r-project.org:: (see www.rsync.org for the rsync
    DB> software if you don't have it available).  You can also
    DB> download a tar.gz or tar.bz2 snapshot from
    DB> ftp://ftp.stat.math.ethz.ch/Software/R

Note that the anon-CVS archive still exists and works (I just
checked), but Doug's comment re: rsync should be heeded -- if you
don't know why you want CVS (a meaningful "why"), then rsync should be
perfectly suited!

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini@u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini@scharp.org
-------------- http://software.biostat.washington.edu/ --------------
FHCRC: M-W: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   T-Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
Rosen: (Mullins' Lab) Fridays, and I'm unreachable except by email.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Keith Richards-Dinger <dinger@usgs.gov>  Sat Nov 17 03:17:34 2001
From: Keith Richards-Dinger <dinger@usgs.gov> (Keith Richards-Dinger)
Date: Fri, 16 Nov 2001 22:17:34 -0500 (EST)
Subject: [Rd] DGESDD from Lapack for R-1.4.0?
In-Reply-To: <871yiyduoj.fsf@jeeves.blindglobe.net>
Message-ID: <Pine.LNX.4.21.0111162152510.11785-100000@mchinji.wr.usgs.gov>

On 16 Nov 2001, A.J. Rossini wrote:

> >>>>> "DB" == Douglas Bates <bates@stat.wisc.edu> writes:
> 
>     DB> The best way to get copies of r-devel is through rsync from
>     DB> rsync.r-project.org:: (see www.rsync.org for the rsync
>     DB> software if you don't have it available).  You can also
>     DB> download a tar.gz or tar.bz2 snapshot from
>     DB> ftp://ftp.stat.math.ethz.ch/Software/R
> 
> Note that the anon-CVS archive still exists and works (I just
> checked), but Doug's comment re: rsync should be heeded -- if you
> don't know why you want CVS (a meaningful "why"), then rsync should be
> perfectly suited!

Yes, rsync is indeed more than adequate for my purposes,
somehow I managed to miss the mention of rsync on the
website.

The src/modules/lapack/double.f in r-devel appears to be
identical to that in R-1.3.1, i.e. no DGESDD.  So the answer
to my main question is "no".   What about my secondary
questions - whether it might be done later, or if I should
somehow contribute what I've done and/or continue to work on
it?

Thanks, Keith

---------------------------------------------------------------------------
Keith Richards-Dinger
U.S. Geological Survey, MS-977          Office 1-650-329-5519
345 Middlefield Road                    Fax    1-650-329-5143
Menlo Park, CA  USA  94025              e-mail dinger@usgs.gov
---------------------------------------------------------------------------





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sat Nov 17 08:44:18 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 17 Nov 2001 08:44:18 +0000 (GMT)
Subject: [Rd] DGESDD from Lapack for R-1.4.0?
In-Reply-To: <Pine.LNX.4.21.0111161244000.10665-100000@mchinji.wr.usgs.gov>
Message-ID: <Pine.GSO.4.31.0111170825300.27233-100000@auk.stats>

On Fri, 16 Nov 2001, Keith Richards-Dinger wrote:

>
> Hi,
>
> I'm just wondering if it is planned to include the Lapack
> routine DGESDD (and friends) in R-1.4.0?  This is faster
> (supposedly by a factor of ~6 for large matrices) than
> DGESVD which is currently (R-1.3.1) called by La.svd.

No plans.

> And if it is not in the plans yet, is there a chance it
> could be?  I've added it to my local version of R-1.3.1 and

If you want to contribute tested code to do this it could be incorporated,
but the timescale for 1.4.0 is short: if that is to be released before
Christmas feature-freeze is imminent (but not yet announced).

We don't see R as a linear algebra system, and the aim of introducing
La.svd was accuracy not speed (the LINPACK version of svd having some
algorithmic limitations, as well as some problems on machines with
extra-precision FPU registers).

> so far see a factor of 4 improvement over La.svd and a
> factor of 3 over svd (see output below).  I'd be glad to
> hand off what I've done so far to someone else or to work
> more on it (make it behave as svd and La.svd do if you don't
> want all the singular vectors; and add ZGESDD also).
> Though what I've done so far would probably be trivial for
> someone who knew what they were doing...
>
> Mac G4, 450 MHz, LinuxPPC, pre-compiled ATLAS-3.2.1
> libraries for G4 from www.netlib.org, R-1.3.1:
>
> > m <- matrix(rnorm(25e4), 5e2, 5e2)
> > system.time(svd(m))
> [1] 22.31  0.10 23.01  0.00  0.00
> > system.time(La.svd(m))
> [1] 29.60  0.10 29.78  0.00  0.00
> > system.time(La.sdd(m))
> [1] 7.28 0.12 8.00 0.00 0.00

I'd want to see a wider comparison, including on non-ATLAS systems.
In particular, without ATLAS my 1GHZ PIII gives

> m <- matrix(rnorm(25e4), 5e2, 5e2)
> system.time(svd(m))
[1] 22.76  0.06 22.80  0.00  0.00
> system.time(La.svd(m))
[1] 16.32  0.15 16.95  0.00  0.00

and on Doug Bates' franz (with ATLAS)

> system.time(svd(m))
[1] 14.70  0.03 17.96  0.00  0.00
> system.time(La.svd(m))
[1] 15.00  0.03 17.71  0.00  0.00

which suggests something peculiar on your system, the only one I have ever
seen that has La.svd appreciably slower than svd.  We've had a couple of
instances where changing to use BLAS slowed down the code on the basic
system, so we know that the precise BLAS is important.


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sat Nov 17 10:56:58 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 17 Nov 2001 11:56:58 +0100 (MET)
Subject: [Rd] pdf() behavior (PR#1174)
Message-ID: <200111171056.LAA05379@pubhealth.ku.dk>

Once again, this has nothing to do with pdf()!

The bug is in the internal clipping code in graphics.c, which read

    default: /* Partial clipping; draw poly[line|gon] */
        dd->gp.xpd = 2;
        result2 = clipCircleCode(x, y, coords, ir, dd);
        dd->gp.xpd = xpdsaved;
        if (dd->dp.canClip && result2 == -2) {
            GClip(dd);
            dd->dp.circle(x, y, coords, ir, bg, fg, dd);
        }
        else {
            vmax = vmaxget();
            xc = (double*)R_alloc(result+1, sizeof(double));
            yc = (double*)R_alloc(result+1, sizeof(double));

with result, not result2.  This meant that if a circle was clipped by the
plot region but not by the device region, result got set to -2, and the
final lines tried to allocate a vector of size -1.  As the postscript
device has dd->dp.canClip true, the bug was avoided on that device.

I don't fully understand the intended logic: is this fix the correct one,
Paul or Ross?  And can we have some comments in the code, please?


On Thu, 15 Nov 2001 White.Denis@epamail.epa.gov wrote:

> The attached script produces "Error in plot.xy ... negative length
> vectors are not allowed" when using pdf() but not when using postscript
> ().
>
> platform sparc-sun-solaris2.8
> arch     sparc
> os       solaris2.8
> system   sparc, solaris2.8
> status
> major    1
> minor    3.1
> year     2001
> month    08
> day      31
> language R
>
> ------------------------------------
> # script
> PDF <- TRUE
>
> f.v1 <- function (x, a, b) b * (x^a)
> f.v2 <- function (x, a, b, d) b * (x^a) * exp(d*x)
>
> dat <- scan ("test.dat")
>
> if (PDF) pdf ("test.pdf", width=8.5, height=11) else
>   postscript ("test.eps", horizontal=FALSE, onefile=FALSE)
>
> par (mfrow=c(2,1), mar=rep(6,4))
>
> n <- length(dat)
> nseq <- seq (n)
>
> fit <- lm (log (dat[nseq]) ~ log (nseq))
> b <- exp (fit$coefficients[1])
> a <- fit$coefficients[2]
> plot (dat[nseq], pch=20)
> points (sapply (nseq, f.v1, a, b), col="red", pch=20)
>
> fit <- lm (log (dat[nseq]) ~ log (nseq) + nseq)
> b <- exp (fit$coefficients[1])
> a <- fit$coefficients[2]
> d <- fit$coefficients[3]
> plot (dat[nseq], pch=20)
> points (sapply (nseq, f.v2, a, b, d), col="red", pch=20)
>
> graphics.off ()
>
> -----------------------------------
> # data set
> 9.585
> 12.935
> 14.775
> 15.625
> 16.56
> 17.44
> 18.165
> 18.655
> 19.04
> 19.49
> 19.9
> 20.285
> 20.61
> 20.815
> 21.065
> 21.3
> 21.46
> 21.645
> 21.82
> 22.085
> 22.315
> 22.45
> 22.61
> 22.67
> 22.79
> 22.9
> 23.01
> 23.1
> 23.165
> 23.295
> 23.4
> 23.51
> 23.585
> 23.64
> 23.685
> 23.75
> 23.805
> 23.84
> 23.9
> 23.955
> 24.025
> 24.09
> 24.14
> 24.18
> 24.23
> 24.275
> 24.31
> 24.33
> 24.345
> 24.37
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Sat Nov 17 18:40:55 2001
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Sat, 17 Nov 2001 10:40:55 -0800 (PST)
Subject: [Rd] pearson residuals in glm for binomial response (PR#1175)
In-Reply-To: <200111161035.LAA27495@pubhealth.ku.dk>
Message-ID: <Pine.A41.4.33.0111171039050.137786-100000@homer34.u.washington.edu>

On Fri, 16 Nov 2001 J.T.Kent@leeds.ac.uk wrote:

> R version 1.3.0
> OS: SunOS 5.7, but I think the same problem occurs with Windows
>
> An incorrect formula seems to be used to calculate the pearson residuals
> for a generalized linear model with a binomial response.  Here is a
> simple program which gives (a) the pearson residuals calculated directly,
> (b) the pearson residuals from glm, and (c) the deviance residuals from
> glm.  The first and last columns are quite close.  The middle differs from
> the first by a factor of n (n=10 here).  This problem did not occur with
> an earlier version of R I tried, version 0.64.2.
>

Yes, it is a bug, resulting from an incorrect fix to an earlier bug that
had the sign wrong for decreasing link functions like the reciprocal.
It's already been reported and fixed.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From telford@progsoc.uts.edu.au  Sun Nov 18 07:23:43 2001
From: telford@progsoc.uts.edu.au (Telford)
Date: Sun, 18 Nov 2001 07:23:43 +0000
Subject: [Rd] png output requires X connection (PR#1165)
In-Reply-To: <200111111801.TAA29772@pubhealth.ku.dk>; from rmurray@debian.org on Sun, Nov 11, 2001 at 07:01:35PM +0100
References: <200111111801.TAA29772@pubhealth.ku.dk>
Message-ID: <20011118072343.A5075@progsoc.uts.edu.au>

On Sun, Nov 11, 2001 at 07:01:35PM +0100, rmurray@debian.org wrote:
> This is a wishlist item more than a bug.  I wish it worked the way the
> output is sharp and clear.

You might be up against the ghostscript anti-alias filter which
(IMHO) produces crappy, fuzzy output -- then again some people think
anti-alias is a feature, go figure. Anyhow you can turn it off and
get sharp, clear output from ghostscript.

I agree it would be nice if the PNG output was not directly tied
to the GUI but there are plenty of ways to get around the problem.

	- Tel
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Nov 18 08:37:23 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 18 Nov 2001 08:37:23 +0000 (GMT)
Subject: Producing PNG on Debian Linux (was the false bug report, Re: [Rd]
 png output requires X connection (PR#1165))
In-Reply-To: <20011118072343.A5075@progsoc.uts.edu.au>
Message-ID: <Pine.GSO.4.31.0111180804410.6298-100000@auk.stats>

On Sun, 18 Nov 2001, Telford wrote:

> On Sun, Nov 11, 2001 at 07:01:35PM +0100, rmurray@debian.org wrote:
> > This is a wishlist item more than a bug.  I wish it worked the way the
> > output is sharp and clear.
>
> You might be up against the ghostscript anti-alias filter which
> (IMHO) produces crappy, fuzzy output -- then again some people think
> anti-alias is a feature, go figure. Anyhow you can turn it off and
> get sharp, clear output from ghostscript.

As far as I am aware it is off when bitmap() is used, and Language.htm says

<dt><b><tt>TextAlphaBits, GraphicsAlphaBits (usually read-only)</tt></b>
<dd>The number of bits of anti-aliasing information for text or graphics
respectively.  Legal values are 1 (no anti-aliasing, the default for most
devices), 2, or 4.

On all my systems (Linux, Solaris, Windows)

> bitmap("test.png")
> plot(1:10)
> graphics.off()

gives `sharp and clear' output.  I am using up-to-date GhostScript
(7.00 or 6.51): perhaps *this* is the bug that needs to reported to Debian?

> I agree it would be nice if the PNG output was not directly tied
> to the GUI but there are plenty of ways to get around the problem.

I seem to have to keep saying this!  PNG output is *not* `directly tied to
the GUI'.  On Unix-alikes, one of the two devices I provided for you is,
and only one.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Sun Nov 18 13:38:36 2001
From: edd@debian.org (Dirk Eddelbuettel)
Date: Sun, 18 Nov 2001 07:38:36 -0600
Subject: Producing PNG on Debian Linux (was the false bug report, Re: [Rd]
 png output requires X connection (PR#1165))
In-Reply-To: <Pine.GSO.4.31.0111180804410.6298-100000@auk.stats>
References: <20011118072343.A5075@progsoc.uts.edu.au>
 <Pine.GSO.4.31.0111180804410.6298-100000@auk.stats>
Message-ID: <15351.47580.969190.349929@sonny.eddelbuettel.com>


  "Brian" == Brian D Ripley <Prof> writes:
  Brian> On all my systems (Linux, Solaris, Windows)
  Brian> 
  >> bitmap("test.png") plot(1:10) graphics.off()
  Brian>  gives `sharp and clear' output.  I am using up-to-date GhostScript
  Brian> (7.00 or 6.51): perhaps *this* is the bug that needs to reported to
  Brian> Debian?
  Brian> 
  >> I agree it would be nice if the PNG output was not directly tied to the
  >> GUI but there are plenty of ways to get around the problem.
  Brian>  I seem to have to keep saying this!  PNG output is *not* `directly
  Brian> tied to the GUI'.  On Unix-alikes, one of the two devices I provided
  Brian> for you is, and only one.

How about clarifying the documenation in unix/png.Rd then?  A suggestion is
below (against my R-1.3.1 sources, don't have R-devel here).

Dirk

edd@sonny:~/debian> diff -u r-base-1.3.1/src/library/base/man/unix/png.Rd{.orig,}
--- r-base-1.3.1/src/library/base/man/unix/png.Rd.orig  Sun Nov 18 07:28:46 2001+++ r-base-1.3.1/src/library/base/man/unix/png.Rd       Sun Nov 18 07:33:55 2001@@ -47,6 +47,11 @@
   These are based on the \code{\link{X11}} device, so the additional
   arguments to that device work, but are rarely appropriate.  The
   colour handling will be that of the \code{X11} device in use.
+
+  Consequently, use of these functions requires an \code{X11} terminal
+  which is not available in non-interactive sessions such as those started
+  by cron(8) or at(1). The \code{\link{bitmap}} function can be used in
+  those cases to create PNG or JPEG files.
 }
 \author{Guido Masarotto and Brian Ripley}

@@ -59,5 +64,9 @@
 \examples{
 ## copy current plot to a PNG file
 \dontrun{dev.print(png, file="myplot.png", width=480, height=480)}
+## use bitmap() to create a PNG file
+\dontrun{bitmap("/tmp/test.png")}
+\dontrun{plot(1:10,main="Straight line")}
+\dontrun{graphics.off()}
 }
 \keyword{device}

-- 
Better to have an approximate answer to the right question 
than a precise answer to the wrong question. -- John Tukey
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Nov 18 13:56:17 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 18 Nov 2001 13:56:17 +0000 (GMT)
Subject: [Rd] Re: Producing PNG on Debian Linux (was the false bug report, Re:
 [Rd] png output requires X connection (PR#1165))
In-Reply-To: <15351.47580.969190.349929@sonny.eddelbuettel.com>
Message-ID: <Pine.GSO.4.31.0111181350420.6889-100000@auk.stats>

On Sun, 18 Nov 2001, Dirk Eddelbuettel wrote:

>
>   "Brian" == Brian D Ripley <Prof> writes:
>   Brian> On all my systems (Linux, Solaris, Windows)
>   Brian>
>   >> bitmap("test.png") plot(1:10) graphics.off()
>   Brian>  gives `sharp and clear' output.  I am using up-to-date GhostScript
>   Brian> (7.00 or 6.51): perhaps *this* is the bug that needs to reported to
>   Brian> Debian?
>   Brian>
>   >> I agree it would be nice if the PNG output was not directly tied to the
>   >> GUI but there are plenty of ways to get around the problem.
>   Brian>  I seem to have to keep saying this!  PNG output is *not* `directly
>   Brian> tied to the GUI'.  On Unix-alikes, one of the two devices I provided
>   Brian> for you is, and only one.
>
> How about clarifying the documenation in unix/png.Rd then?  A suggestion is
> below (against my R-1.3.1 sources, don't have R-devel here).

Already done in R-devel:

     R can be compiled without support for either or both of these
     devices: this will be reported if you attempt to use them on a
     system where they are not supported.  They will not be available
     if R has been started with `--gui=none' (and will give a different
     error message), and they may not be usable unless the X11 display
     is available to the owner of the R process.
...

See Also:

     `Devices', `dev.print'

     `capabilities' to see if these devices are supported by this build
     of R.

     `bitmap' provides an alternative way to generate PNG and JPEG
     plots that does not depend on accessing the X11 display but does
     depend on having GhostScript installed.

NB: on our servers there is an X11 display available to cron jobs.


>
> Dirk
>
> edd@sonny:~/debian> diff -u r-base-1.3.1/src/library/base/man/unix/png.Rd{.orig,}
> --- r-base-1.3.1/src/library/base/man/unix/png.Rd.orig  Sun Nov 18 07:28:46 2001+++ r-base-1.3.1/src/library/base/man/unix/png.Rd       Sun Nov 18 07:33:55 2001@@ -47,6 +47,11 @@
>    These are based on the \code{\link{X11}} device, so the additional
>    arguments to that device work, but are rarely appropriate.  The
>    colour handling will be that of the \code{X11} device in use.
> +
> +  Consequently, use of these functions requires an \code{X11} terminal
> +  which is not available in non-interactive sessions such as those started
> +  by cron(8) or at(1). The \code{\link{bitmap}} function can be used in
> +  those cases to create PNG or JPEG files.
>  }
>  \author{Guido Masarotto and Brian Ripley}
>
> @@ -59,5 +64,9 @@
>  \examples{
>  ## copy current plot to a PNG file
>  \dontrun{dev.print(png, file="myplot.png", width=480, height=480)}
> +## use bitmap() to create a PNG file
> +\dontrun{bitmap("/tmp/test.png")}
> +\dontrun{plot(1:10,main="Straight line")}
> +\dontrun{graphics.off()}
>  }
>  \keyword{device}
>
> --
> Better to have an approximate answer to the right question
> than a precise answer to the wrong question. -- John Tukey
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Sun Nov 18 14:34:14 2001
From: edd@debian.org (Dirk Eddelbuettel)
Date: Sun, 18 Nov 2001 08:34:14 -0600
Subject: [Rd] Re: Producing PNG on Debian Linux (was the false bug report, Re:
 [Rd] png output requires X connection (PR#1165))
In-Reply-To: <Pine.GSO.4.31.0111181350420.6889-100000@auk.stats>
References: <15351.47580.969190.349929@sonny.eddelbuettel.com>
 <Pine.GSO.4.31.0111181350420.6889-100000@auk.stats>
Message-ID: <15351.50918.696817.868018@sonny.eddelbuettel.com>


  "Brian" == Brian D Ripley <Prof> writes:
  Brian>  Already done in R-devel:

Thanks!

  Brian> NB: on our servers there is an X11 display available to cron jobs.

Hm. I just added x11() to the script snipped of yours:

edd@sonny:~> cat /tmp/R.sh
#!/bin/sh

echo | R -q --no-save <<EOF
bitmap("test.png")
plot(1:10)
graphics.off()
x11()
EOF

but starting this under at(1)

edd@sonny:~> echo /tmp/R.sh | at now
warning: commands will be executed using /bin/sh
job 57 at 2001-11-18 08:31

yields an error:

From: Dirk Eddelbuettel <edd@debian.org>
To: edd@eddelbuettel.com
Subject: Output from your job       57
Date: Sun, 18 Nov 2001 08:31:59 -0600

> bitmap("test.png")
> plot(1:10)
> graphics.off()
> x11()
Error in X11(display, width, height, pointsize, gamma, colortype, maxcubesize) : 
	unable to start device X11
Execution halted

How does Solaris do this, and how can we get Linux to do the same?

Dirk

-- 
Better to have an approximate answer to the right question 
than a precise answer to the wrong question. -- John Tukey
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Nov 18 15:59:57 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 18 Nov 2001 15:59:57 +0000 (GMT)
Subject: [Rd] Re: Producing PNG on Debian Linux (was the false bug report, Re:
 [Rd] png output requires X connection (PR#1165))
In-Reply-To: <15351.50918.696817.868018@sonny.eddelbuettel.com>
Message-ID: <Pine.LNX.4.31.0111181550520.22024-100000@gannet.stats>

On Sun, 18 Nov 2001, Dirk Eddelbuettel wrote:

>
>   "Brian" == Brian D Ripley <Prof> writes:
>   Brian>  Already done in R-devel:
>
> Thanks!
>
>   Brian> NB: on our servers there is an X11 display available to cron jobs.
>
> Hm. I just added x11() to the script snipped of yours:
>
> edd@sonny:~> cat /tmp/R.sh
> #!/bin/sh
>
> echo | R -q --no-save <<EOF
> bitmap("test.png")
> plot(1:10)
> graphics.off()
> x11()
> EOF
>
> but starting this under at(1)
>
> edd@sonny:~> echo /tmp/R.sh | at now
> warning: commands will be executed using /bin/sh
> job 57 at 2001-11-18 08:31
>
> yields an error:
>
> From: Dirk Eddelbuettel <edd@debian.org>
> To: edd@eddelbuettel.com
> Subject: Output from your job       57
> Date: Sun, 18 Nov 2001 08:31:59 -0600
>
> > bitmap("test.png")
> > plot(1:10)
> > graphics.off()
> > x11()
> Error in X11(display, width, height, pointsize, gamma, colortype, maxcubesize) :
> 	unable to start device X11
> Execution halted
>
> How does Solaris do this, and how can we get Linux to do the same?

Don't know: suspect it is a permissions / Xauth thing.   To be precise,
I've only ever tested my Solaris server (ex my desktop machine).

I tried

auk% cat /tmp/R.sh
#!/bin/sh
echo | R -q --no-save <<EOF
png("/tmp/test.png")
plot(1:10)
graphics.off()
EOF

auk% echo /tmp/R.sh | at now

and it worked and wrote test.png.


Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Sun Nov 18 18:36:06 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Sun, 18 Nov 2001 19:36:06 +0100
Subject: [Rd] Re: [R] sub directories in the tests directory of a package
In-Reply-To: <15348.65050.824365.207891@gargle.gargle.HOWL>
References: <15348.65050.824365.207891@gargle.gargle.HOWL>
Message-ID: <15351.65430.88813.407045@mithrandir.hornik.net>

>>>>> "David Kane writes:

> It seems like any directories (and their contents) beneath the /tests
> directory of an R package are not copied over completely when R CMD
> check is run. This causes problems (for me) when the tests for a
> function require some sort of directory structure. For example, I have
> an R function that iteratively searches through a directory tree for a
> specific file. Currently, I can not put the inputs for a test for that
> function in the /tests directory. It would seem that better behavior
> would be for R CMD check to simply (recursively) copy everything from
> the /tests directory in the package into the /tests directory in the
> .Rcheck directory, similar to the way that everything in /inst is
> copied over during INSTALL.

> Any suggestions? I poked around in the R CMD check code, but my Perl
> is even worse than my R. Or am I missing something?

Currently, it is assumed that tests has no subdirectories.  This has
been raised before, with the result that the Perl gurus were not sure
how to portably recursively copy a directory (apparently, Perl/CPAN has
rmtree, but no cptree?).

I think if you simply want to find a file in a dir tree, you could have
your test code create the tree first.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From hkawakat@sk.tsukuba.ac.jp  Mon Nov 19 07:33:20 2001
From: hkawakat@sk.tsukuba.ac.jp (hkawakat@sk.tsukuba.ac.jp)
Date: Mon, 19 Nov 2001 08:33:20 +0100 (MET)
Subject: [Rd] acf mis-feature (PR#1177)
Message-ID: <200111190733.IAA12054@pubhealth.ku.dk>

Full_Name: Hiroyuki Kawakatsu
Version: 1.3.1
OS: win2k
Submission from: (NULL) (130.158.140.105)


the lag labels in the acf plot is screwed when the ts frequency>1.
try, for example,

#acf mis-feature
x <- ts(rnorm(200), frequency=4);
acf(x,lag.max=24);

h.
> version
         _              
platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    3.1            
year     2001           
month    08             
day      31             
language R              


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Nov 19 08:36:51 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 19 Nov 2001 09:36:51 +0100 (MET)
Subject: [Rd] acf mis-feature (PR#1177)
Message-ID: <200111190836.JAA13027@pubhealth.ku.dk>

On Mon, 19 Nov 2001 hkawakat@sk.tsukuba.ac.jp wrote:

> Full_Name: Hiroyuki Kawakatsu
> Version: 1.3.1
> OS: win2k
> Submission from: (NULL) (130.158.140.105)
>
>
> the lag labels in the acf plot is screwed when the ts frequency>1.
> try, for example,
>
> #acf mis-feature
> x <- ts(rnorm(200), frequency=4);
> acf(x,lag.max=24);


Please explain what you mean by `screwed' (which BTW is not polite
English): what do you think is wrong here?

I get the labels I expect: if this is quarterly data the lags are labelled
in years.  That is what `frequency = 4' is intended to mean: 4
observations per unit of time.

There is no bug that I can see.


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From hkawakat@sk.tsukuba.ac.jp  Mon Nov 19 08:44:57 2001
From: hkawakat@sk.tsukuba.ac.jp (hkawakat@sk.tsukuba.ac.jp)
Date: Mon, 19 Nov 2001 09:44:57 +0100 (MET)
Subject: [Rd] acf mis-feature (PR#1177)
Message-ID: <200111190844.JAA13322@pubhealth.ku.dk>

At Mon, 19 Nov 2001 08:36:38, you wrote:

> I get the labels I expect: if this is quarterly data the lags are labelled
> in years.  That is what `frequency = 4' is intended to mean: 4
> observations per unit of time.

that's the feature i didn't understand. i expected lags in periods (or
observations), not years. 

h.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From hkawakat@sk.tsukuba.ac.jp  Mon Nov 19 09:12:18 2001
From: hkawakat@sk.tsukuba.ac.jp (hkawakat@sk.tsukuba.ac.jp)
Date: Mon, 19 Nov 2001 10:12:18 +0100 (MET)
Subject: more on [Rd] acf mis-feature (PR#1177)
Message-ID: <200111190912.KAA13834@pubhealth.ku.dk>

At Mon, 19 Nov 2001 08:36:38, you wrote:

> I get the labels I expect: if this is quarterly data the lags are labelled
> in years.  That is what `frequency = 4' is intended to mean: 4
> observations per unit of time.

some further thoughts convinces me that this is a mis-feature. if you
ask any person what is the lag i autocorrelation, the answer would be
corr(y_t, y_{t-i}). so you would expect the lag labels to be based on
observation lags, not years. if you still think the current feature is
the correct implementation, i suggest that you make this clear in the
help to avoid future annoying mails from the annoyed like me:

 lag.max: maximum lag at which to calculate the acf.  Default is
          10*log10(N) where N is the number of observations. 

          *Note that the lag labels in the plots are based on unit of
           time, not observation lags.*

h.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Nov 19 09:30:06 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 19 Nov 2001 10:30:06 +0100 (MET)
Subject: more on [Rd] acf mis-feature (PR#1177)
Message-ID: <200111190930.KAA14125@pubhealth.ku.dk>

On Mon, 19 Nov 2001, Hiroyuki Kawakatsu wrote:

> At Mon, 19 Nov 2001 08:36:38, you wrote:
>
> > I get the labels I expect: if this is quarterly data the lags are labelled
> > in years.  That is what `frequency = 4' is intended to mean: 4
> > observations per unit of time.
>
> some further thoughts convinces me that this is a mis-feature. if you
> ask any person what is the lag i autocorrelation, the answer would be
> corr(y_t, y_{t-i}). so you would expect the lag labels to be based on
> observation lags, not years. if you still think the current feature is
> the correct implementation, i suggest that you make this clear in the
> help to avoid future annoying mails from the annoyed like me:
>
>  lag.max: maximum lag at which to calculate the acf.  Default is
>           10*log10(N) where N is the number of observations.
>
>           *Note that the lag labels in the plots are based on unit of
>            time, not observation lags.*

I do think it is correct, and furthermore no one else has thought otherwise
in 2.5 years of it being in R.  It's the same interpretation as S, snd that
doesn't have such a comment either.

You will find *all* time-series plots are labelled in units of time,
not observation lags.  It says `Lag', not `lags', and that's a crucial
difference.

See the section in the FAQ on `what is a bug?'.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Nov 19 22:19:02 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 Nov 2001 23:19:02 +0100
Subject: [Rd] 1.4.0 on Dec 19, feature freeze Dec 5
Message-ID: <x2y9l2qu95.fsf@blueberry.kubism.ku.dk>

[oops, I forgot to cc: r-devel, apologies to those who get it twice]

To comply with our ground rule that x.y.0 releases should be announced
a month in advance: 

The release of 1.4.0 will be on December 19th. Feature freeze will be
on December 5th. I hope that leaves time enough for people to finish
what they have been up to, but it seems to be a good idea to have a
little more time for platform testing this time, and hence have a
near-solid freeze about December 12th.

        -p

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Tue Nov 20 18:44:43 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Tue, 20 Nov 2001 19:44:43 +0100
Subject: [Rd] Re: confusion() -- generic function in package mda -- generally useful?
In-Reply-To: <15346.38092.644990.904103@gargle.gargle.HOWL>
References: <15346.38092.644990.904103@gargle.gargle.HOWL>
Message-ID: <15354.42139.945427.303074@mithrandir.hornik.net>

>>>>> Martin Maechler writes:

> For a private package ("soon" to be on CRAN),

> I started looking at and thinking about the function confusion() from
> the mda package and wondered if it wouldn't make sense to provide the
> generic function in base R and also think about making the default for
> the `true' argument equal to fitted(object).

> One could write methods for confusion() for almost all classifiers
> which would be a nice universal approach.  Also, the value (a
> confusion matrix contingency table with some "useful" attributes)
> could be made a bit more explicit.

> Good or not so good idea?  alternatives?

I think it would be nice to unify some of the existing code for
classification, e.g. the types in the predict methods.

Re confusion(), what would this do exactly?  The stuff in mda does too
much as exemplified by

\method{confusion}{default}(object, true, \dots)
\method{confusion}{fda}(object, data, \dots)

so the default and fda methods have surprising arguments ...?  (I think
you only want the versions for fitted model objects.)

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jan@rychter.com  Tue Nov 20 22:38:01 2001
From: jan@rychter.com (jan@rychter.com)
Date: Tue, 20 Nov 2001 23:38:01 +0100 (MET)
Subject: [Rd] segfault using svm from e1071 (PR#1178)
Message-ID: <200111202238.XAA07070@pubhealth.ku.dk>

This could be a bug in the e1071 svm code, but maybe not -- I guess I'll
send it here anyway. It's reproducible.

> x <- seq (0.1,5,by=0.05)
> y <- log(x) + rnorm (x, sd=0.2)
> library(e1071)
> m <- svm (x,y)

Process R segmentation fault at Tue Nov 20 23:34:19 2001

> version
         _                
platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    3.1              
year     2001             
month    08               
day      31               
language R                

I used the Mandrake 8.0 RPM binaries from cran.r-project.org first, then
recompiled R myself and reinstalled e1071. Same results.

thanks,
--J.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pd@pubhealth.ku.dk  Wed Nov 21 06:15:03 2001
From: pd@pubhealth.ku.dk (Peter Dalgaard BSA)
Date: Wed, 21 Nov 2001 07:15:03 +0100
Subject: [Rd] Bug list summary (automatic post)
Message-ID: <200111210615.fAL6F3B32176@blueberry.kubism.ku.dk>

=================================================
This is an automated summary of the status of the R-bugs
repository.

Note that this may be neither complete nor perfectly
correct at any given instance: Not all bugs are reported,
and some reported bugs may have been fixed, but the
repository not yet updated.

Some bug fixes are difficult to verify because they pertain
to specific hardware or operating system versions. If you
have information to contribute, please do so.

If you happen to know how to fix a problem please send
patches to the bug repository, too.

New bugs are reported either through the web
interface at r-bugs.r-project.org or via email to
r-bugs@r-project.org. The bug.report() function can be
used to automate parts of the procedure on many systems.
Followups on older bugs can be done by including the string
"(PR#999)" in the Subject of an email (change 999 to the
actual reference number, of course!).
=================================================

Directory:  Accuracy

none

Directory:  Add-ons

* PR# 974 *
Subject: Lattice: panel.superpose with ordered factor groups
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sat, 9 Jun 2001 11:08:51 +1000 (EST)
--The warning is standard S and R behaviour.
--Probably xyplot needs to avoid it (by unclassing?)
--Still there in lattice 0.3-0.
* PR# 981 *
Subject: read.xport() bug
From: abroman@jhu.edu
Date: Fri, 15 Jun 2001 00:25:54 +0200 (MET DST)
--confirmed on Windows and Solaris.
--Seems that file is not in the expected format
* PR# 1038 *
Subject: nlme: bug in getCovariateFormula
From: Setzer.Woodrow@epamail.epa.gov
Date: Tue, 31 Jul 2001 11:24:09 -0400
--change needed in package nlme
* PR# 1044 *
Subject: Polymarsall.c
From: pleu@hotmail.com
Date: Tue, 7 Aug 2001 22:42:07 +0200 (MET DST)
* PR# 1116 *
Subject: get.hist.quote does not work
From: arto.luoma@uta.fi
Date: Thu, 4 Oct 2001 14:45:29 +0200 (MET DST)
--Seems specific to one locale on one system.
--The bug is unlikely to be in R.
* PR# 1124 *
Subject: Wrong df in bartlett.test when subsetting data
From: jens.lund@nordea.com
Date: Wed, 10 Oct 2001 17:43:42 +0200 (MET DST)

Directory:  Analyses

none

Directory:  Documentation

* PR# 988 *
Subject: input for R-intro
From: "Paul E. Johnson" <pauljohn@ku.edu>
Date: Mon, 18 Jun 2001 13:57:10 -0500
* PR# 1011 *
Subject: R-intro suggestions part II
From: "Paul E. Johnson" <pauljohn@ukans.edu>
Date: Tue, 03 Jul 2001 15:50:06 -0500
* PR# 1113 *
Subject: bug.report() & docs should mention r-devel
From: murdoch@stats.uwo.ca
Date: Thu, 4 Oct 2001 01:23:27 +0200 (MET DST)
* PR# 1132 *
Subject: Problem with "describe" lists.
From: Rolf Turner <rolf@localhost.localdomain>
Date: Thu, 18 Oct 2001 16:41:03 +0800
* PR# 1136 *
Subject: cex/col/etc. in title(): documentation?
From: Ben Bolker <ben@zoo.ufl.edu>
Date: Mon, 22 Oct 2001 11:55:14 -0400 (EDT)
--MM:actually the documentation still could elaborate a bit..

Directory:  Graphics

* PR# 202 *
Subject: persp box occlusion bug
From: wsi@gcal.ac.uk
Date: Wed, 2 Jun 1999 15:02:03 +0200 (MET DST)
--The persp algorithm does not apply the occlusion rules to the frame, 
--which is always plotted first. 
--A bug, but not very simple to fix.
* PR# 660 *
Subject: identify.default ignores any setting of cex.
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
Date: Fri, 15 Sep 2000 10:23:39 +0100 (BST)
* PR# 776 *
Subject: strwidth does not take font into account
From: Martyn Plummer <plummer@iarc.fr>
Date: Tue, 19 Dec 2000 14:56:01 +0100 (CET)
--This needs a substantial redesign.
* PR# 791 *
Subject:  par(lab= *) / axis(*) bug 
From: maechler@stat.math.ethz.ch
Date: Fri, 22 Dec 2000 10:59:26 +0100
* PR# 816 *
Subject: dotplot: character size of labels
From: RINNER Heinrich <H.RINNER@TIROL.GV.AT>
Date: Thu, 18 Jan 2001 14:54:32 +0100
--Suggested fix is incorporated in 1.2.2.
--
--There is a deeper problem:  mtext() ignores par(cex=.5) in general.  
--To see the problem try:  par(cex=.5); mtext("hi")
--Paul thinks the right fix is to change the argument list for mtext so that
--cex=par(cex) by default rather than cex=NA by default (plus corresponding
--internal changes to  do_mtext in plot.c).
--This needs to be done very carefully because (i) the change suggested above 
--mayhave side-effects in many other pieces of interpreted code 
--(ii) do_mtext ignores dd->gp.cexbase unlike, for example, do_plot_xy 
--and anything to do with cexbase needs extreme care.
* PR# 820 *
Subject: interaction.plot
From: "Mark M. Span" <span@psy.uva.nl>
Date: Mon, 22 Jan 2001 10:47:39 +0100
--mtext is unscaled by default.  It is not clear if this should
--use the par("cex") setting or an inline cex setting such as cex.axis.
--It might make more sense to use axis rather than mtext, as boxplot does.
* PR# 828 *
Subject: termplot fails for composite non-factor terms
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sat, 27 Jan 2001 11:57:37 +1100 (EST)
--Neither of the proposed changes actually works in sufficient generality.
--
--The easy and unimportant part of this, the labels, is fixed in 1.2.2. Getting
--the data right is a project for 1.3
* PR# 831 *
Subject: screen can't go back to (split) screen with log="y" plot
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 30 Jan 2001 00:39:41 -0500
--Still there. Suggested fix included in followups, but we didn't get around to
--try it in time for 1.2.3.
--
--Fix doesn't work. One problem is that the opar<-par();par(opar) idiom updates
--xaxp before xlog, and the new value of xaxp may only be valid under the new
--value of xlog.
* PR# 837 *
Subject: screen doesn't handle redrawing properly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 01 Feb 2001 14:20:52 -0500
* PR# 887 *
Subject: axis(adj=anything) has no effect
From: jhallman@frb.gov
Date: Wed, 28 Mar 2001 20:51:05 +0200 (MET DST)
* PR# 916 *
Subject:  par(mgp) bug 
From: paul@stat.auckland.ac.nz
Date: Fri, 20 Apr 2001 08:33:45 +1200 (NZST)
* PR# 940 *
Subject: GCircle(): fails for non-clippable devices under certain circumstances (see below)
From: "Thomas Hoffmann" <thoffman@zappa.sax.de>
Date: Tue, 15 May 01 23:34:17 +0100
* PR# 943 *
Subject: legend() with xpd=T; omission of initial plot character
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sun, 20 May 2001 10:35:16 +1000
* PR# 997 *
Subject:  las=1 with log axis 
From: Peter Dalgaard BSA <pd@pubhealth.ku.dk>
Date: Wed, 27 Jun 2001 11:54:06 +0200
* PR# 1045 *
Subject: Palette changes on redraw
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 08 Aug 2001 19:08:01 +0200
* PR# 1088 *
Subject:  barplot forces xpd=TRUE 
From: Peter Whiting <pwhiting@whitings.org>
Date: Sat, 8 Sep 2001 10:19:00 -0500
* PR# 1095 *
Subject:  Bizarre clipping with abline and points 
From: J.C.Rougier@durham.ac.uk
Date: Wed, 19 Sep 2001 14:45:52 +0100
* PR# 1101 *
Subject: ugly in plotmath: frac(1, sqrt(...))
From: Uwe Ligges <ligges@statistik.uni-dortmund.de>
Date: Thu, 27 Sep 2001 10:37:07 +0200
* PR# 1147 *
Subject: postscript problem
From: kjetil halvorsen <kjetilh@umsanet.edu.bo>
Date: Fri, 26 Oct 2001 15:23:45 -0400
--This seems to be a problem with screen/layout rather than postscript.
* PR# 1157 *
Subject: identify(...plot=F)
From: Rolf Turner <rolf@maths.uwa.edu.au>
Date: Fri, 2 Nov 2001 09:43:49 +0800 (WST)
* PR# 1161 *
Subject: x-axis label in persp()
From: Rolf Turner <rolf@maths.uwa.edu.au>
Date: Wed, 7 Nov 2001 18:07:22 +0800 (WST)
* PR# 1174 *
Subject: pdf() behavior
From: White.Denis@epamail.epa.gov
Date: Thu, 15 Nov 2001 10:18:21 -0800
--actually, a graphics bug.
--fixed for 1.4.0, but needs checking re the original intention

Directory:  In-Out

none

Directory:  Installation

* PR# 1034 *
Subject: Compiling R (1.3.0) on AIX (4.3) fails
From: "Thomas J Vogels" <tov@ece.cmu.edu>
Date: Sun, 29 Jul 2001 12:27:51 -0400

Directory:  Language

* PR# 408 *
Subject: convolution bug
From: wsimpson@gcal.ac.uk
Date: Fri, 28 Jan 2000 11:17:36 +0100 (MET)
* PR# 412 *
Subject: anomalies with call objects
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 06 Feb 2000 01:18:50 +0100
* PR# 669 *
Subject: Bug(s) w/ rbind.data.frame(); fix also read.table(*, as.is = TRUE) ?
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Mon, 25 Sep 2000 10:17:15 +0200
--status of AsIs columns
* PR# 921 *
Subject:  Managed to confuse match.arg 
From: J.C.Rougier@durham.ac.uk
Date: Wed, 25 Apr 2001 12:22:54 +0100 (BST)
* PR# 1052 *
Subject:  Inconsistent behaviour of is.vector? 
From: J.C.Rougier@durham.ac.uk
Date: Tue, 14 Aug 2001 09:04:57 +0100
* PR# 1073 *
Subject: Wierd problem comparing numeric values and list using ==
From: "Warnes, Gregory R" <gregory_r_warnes@groton.pfizer.com>
Date: Fri, 24 Aug 2001 22:07:41 -0400
--see also PR#1075
* PR# 1076 *
Subject: Re: [Rd] Wierd problem comparing numeric values and list using == 
From: John Chambers <jmc@research.bell-labs.com>
Date: Mon, 27 Aug 2001 08:44:22 -0400
--part of PR#1073

Directory:  Low-level

* PR# 989 *
Subject: "[.data.frame" allows un-named 3rd subscript
From: "Charles C. Berry" <cberry@tajo.ucsd.edu>
Date: Mon, 18 Jun 2001 13:13:46 -0700 (PDT)
* PR# 1063 *
Subject: interrupting Sys.sleep
From: Thomas Lumley <tlumley@u.washington.edu>
Date: Mon, 20 Aug 2001 13:55:29 -0700 (PDT)
* PR# 1068 *
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
From: Luke Tierney <luke@nokomis.stat.umn.edu>
Date: Wed, 22 Aug 2001 19:32:51 -0500
--see also followup in PR#1069
* PR# 1069 *
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
From: "John W. Eaton" <jwe@bevo.che.wisc.edu>
Date: Wed, 22 Aug 2001 21:56:33 -0500
--part of PR#1068
* PR# 1120 *
Subject: bug in write.table?
From: Ott Toomet <siim@obs.ee>
Date: Sun, 7 Oct 2001 18:24:34 +0200 (CEST)
--Traced down to an effect of read.dta in foreign interacting with do_paste. Fixed
--in foreign, but do_paste may need to use strlen() rather than LENGTH().
--

Directory:  Macintosh

none

Directory:  Misc

* PR# 1126 *
Subject: R-bug report www page whishlist
From: jens.lund@nordea.com
Date: Wed, 10 Oct 2001 18:24:29 +0200 (MET DST)
* PR# 1158 *
Subject: bug.report()sends empty message
From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
Date: Mon, 05 Nov 2001 10:05:27 -0500

Directory:  Models

none

Directory:  Startup

none

Directory:  System-specific

* PR# 848 *
Subject: X11 device doesn't handle destroy events correcly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 13 Feb 2001 17:40:46 -0500
* PR# 1002 *
Subject: core dump running modreg-Ex.R
From: WhiteG@dfo-mpo.gc.ca
Date: Thu, 28 Jun 2001 19:14:18 +0200 (MET DST)
--Only reported on SGI, solved by removing optimization.
--Needs debugging there.
* PR# 1020 *
Subject: .Call and Mandrake 8.0
From: lcottret@yahoo.fr
Date: Wed, 11 Jul 2001 15:34:23 +0200 (MET DST)
--problem with symbol names only on Mandrake 8.0, not 7.2
--needs reply to follow-up
* PR# 1026 *
Subject: make check failure on SGI-IRIX6.5
From: laurent@cbs.dtu.dk
Date: Mon, 16 Jul 2001 15:06:17 +0200 (MET DST)
* PR# 1057 *
Subject: crt1.o skipped at configure time ?
From: laurent@cbs.dtu.dk
Date: Thu, 16 Aug 2001 08:52:34 +0200 (MET DST)
* PR# 1084 *
Subject: Install problems R 1.3.1 on HP-UX
From: Peter Kleiweg <kleiweg@let.rug.nl>
Date: Sun, 2 Sep 2001 15:07:41 +0200 (CEST)
* PR# 1097 *
Subject: R 1.3.1 fails 'make check' on arm in the Bessel example
From: Dirk Eddelbuettel <edd@debian.org>
Date: Thu, 20 Sep 2001 23:54:19 -0500
* PR# 1106 *
Subject: What is an error bu21?
From: Patrick Lindsey <patrick.lindsey@luc.ac.be>
Date: Mon, 1 Oct 2001 15:43:36 +0200 (MET DST)
--Looks like an SGI make bug
* PR# 1140 *
Subject: Possible bug, Rprof() and scan(pipe())
From: Don MacQueen <macq@llnl.gov>
Date: Tue, 23 Oct 2001 13:50:26 -0700
--Doesn't happen on Solaris or Linux
* PR# 1145 *
Subject: Problem testing R version 1.3.1 on SGI Irix
From: Gordon Lack <gml4410@ggr.co.uk>
Date: Fri, 26 Oct 2001 19:04:04 +0100
* PR# 1166 *
Subject: Gnits about setting LD_LIBRARY_PATH from R
Subject: r-base gnits
From: edd@debian.org
From: "Stephen J. Turnbull" <turnbull@sk.tsukuba.ac.jp>
Date: Sun, 11 Nov 2001 18:23:33 +0100 (MET)
Date: Mon, 18 Sep 2000 19:48:11 +0900 (JST)
--Point one is Debian-specific (other systems have libs in /usr/local/lib,
--and there is not problem when compiling on the system).
--
--Point two is a Debian-specific wishlist item

Directory:  TooMuchAtOnce

* PR# 1110 *
Subject: Several R vs S-Plus issues
From: David Brahm  <a215020@agate.fmr.com>
Date: Wed, 3 Oct 2001 11:35:58 -0400 (EDT)
--1. is perhaps a bug -- the best handling of string NAs is under discussion
--
--2 & 4 are just S-PLUS incompatibilities
--
--3. May be a bug -- worth checking.

Directory:  Windows

none

Directory:  incoming

* PR# 1177 *
Subject: acf mis-feature
From: hkawakat@sk.tsukuba.ac.jp
Date: Mon, 19 Nov 2001 08:33:18 +0100 (MET)
* PR# 1178 *
Subject: segfault using svm from e1071
From: Jan Rychter <jan@rychter.com>
Date: Tue, 20 Nov 2001 23:38:17 +0100
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Nov 21 09:24:31 2001
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 21 Nov 2001 10:24:31 +0100
Subject: [Rd] segfault using svm from e1071 (PR#1178)
In-Reply-To: <200111202238.XAA07070@pubhealth.ku.dk>
References: <200111202238.XAA07070@pubhealth.ku.dk>
Message-ID: <15355.29391.627802.421311@gargle.gargle.HOWL>

>>>>> "jan" == jan  <jan@rychter.com> writes:

    jan> This could be a bug in the e1071 svm code, but maybe
    jan> not -- I guess I'll send it here anyway. It's
    jan> reproducible.

not really reproducible:

1) If you use random data (which is perfect),
  you need an explicit  set.seed(.) statement to make it reproducible

2) I can evaluate the code below (intel-Linux as you)
    more than 100 times without a problem.

Martin

    >> x <- seq (0.1,5,by=0.05)
    >> y <- log(x) + rnorm (x, sd=0.2)
    >> library(e1071)
    >> m <- svm (x,y)

    jan> Process R segmentation fault at Tue Nov 20 23:34:19 2001

    >> version
    jan> _                
    jan> platform i686-pc-linux-gnu
    jan> arch     i686             
    jan> os       linux-gnu        
    jan> system   i686, linux-gnu  
    jan> status                    
    jan> major    1                
    jan> minor    3.1              
    jan> year     2001             
    jan> month    08               
    jan> day      31               
    jan> language R                

    jan> I used the Mandrake 8.0 RPM binaries from
    jan> cran.r-project.org first, then recompiled R myself and
    jan> reinstalled e1071. Same results.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.ribeiro@lancaster.ac.uk  Wed Nov 21 10:12:57 2001
From: p.ribeiro@lancaster.ac.uk (Paulo Justiniano Ribeiro Jr)
Date: Wed, 21 Nov 2001 10:12:57 +0000 (GMT)
Subject: [Rd] contour as a generic function?
Message-ID: <Pine.GSO.4.21.0111211011150.27412-100000@unixb.lancs.ac.uk>

After "image" and "persp" would it be interesting to als have contour as a
generic function?

Cheers

Paulo Justiniano Ribeiro Jr
Dept Maths & Stats  -  Fylde College
Lancaster University
Lancaster LA1 4YF   -  U.K.

e-mail: Paulo.Ribeiro@est.ufpr.br
http://www.maths.lancs.ac.uk/~ribeiro

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Nov 21 10:16:44 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 21 Nov 2001 10:16:44 +0000 (GMT)
Subject: [Rd] contour as a generic function?
In-Reply-To: <Pine.GSO.4.21.0111211011150.27412-100000@unixb.lancs.ac.uk>
Message-ID: <Pine.LNX.4.31.0111211014311.20857-100000@gannet.stats>

On Wed, 21 Nov 2001, Paulo Justiniano Ribeiro Jr wrote:

> After "image" and "persp" would it be interesting to als have contour as a
> generic function?

Interesting if you (or anyone else) has a need for it.  We try not to
make functions generic until it is needed.

I presume you would want

contour <- function (x, ...) UseMethod("contour")

?

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bolker@zoo.ufl.edu  Wed Nov 21 10:27:11 2001
From: bolker@zoo.ufl.edu (Ben Bolker)
Date: Wed, 21 Nov 2001 05:27:11 -0500 (EST)
Subject: [Rd] contour as a generic function?
In-Reply-To: <Pine.GSO.4.21.0111211011150.27412-100000@unixb.lancs.ac.uk>
Message-ID: <Pine.LNX.4.30.0111210525290.4842-100000@bolker.zoo.ufl.edu>


  As long as we're on wish lists (Paul Murrell??) it would be nice to have
contour (optionally) return a list of contours, so that one could
post-process them etc..  This would also, I think, eventually facilitate
drawing contours onto 3-D surfaces ... I thought about hacking this but
the contour function was too scary for me ...

  Ben Bolker

On Wed, 21 Nov 2001, Paulo Justiniano Ribeiro Jr wrote:

> After "image" and "persp" would it be interesting to als have contour as a
> generic function?
>
> Cheers
>
> Paulo Justiniano Ribeiro Jr
> Dept Maths & Stats  -  Fylde College
> Lancaster University
> Lancaster LA1 4YF   -  U.K.
>
> e-mail: Paulo.Ribeiro@est.ufpr.br
> http://www.maths.lancs.ac.uk/~ribeiro
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker@zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From david.meyer@ci.tuwien.ac.at  Wed Nov 21 10:35:55 2001
From: david.meyer@ci.tuwien.ac.at (David Meyer)
Date: Wed, 21 Nov 2001 11:35:55 +0100
Subject: [Rd] segfault using svm from e1071 (PR#1178)
References: <200111202238.XAA07070@pubhealth.ku.dk>
Message-ID: <3BFB838A.E7E40F39@ci.tuwien.ac.at>

jan@rychter.com wrote:
> 
> This could be a bug in the e1071 svm code, but maybe not -- I guess I'll
> send it here anyway. It's reproducible.

Which version of e1071 are you using (Current: 1.2-1)? This package had
a bug fix release one month ago.

-d


> 
> > x <- seq (0.1,5,by=0.05)
> > y <- log(x) + rnorm (x, sd=0.2)
> > library(e1071)
> > m <- svm (x,y)
> 
> Process R segmentation fault at Tue Nov 20 23:34:19 2001
> 
> > version
>          _
> platform i686-pc-linux-gnu
> arch     i686
> os       linux-gnu
> system   i686, linux-gnu
> status
> major    1
> minor    3.1
> year     2001
> month    08
> day      31
> language R
> 
> I used the Mandrake 8.0 RPM binaries from cran.r-project.org first, then
> recompiled R myself and reinstalled e1071. Same results.
> 
> thanks,
> --J.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
	Mag. David Meyer		Wiedner Hauptstrasse 8-10
Vienna University of Technology		A-1040 Vienna/AUSTRIA
       Department for			Tel.: (+431) 58801/10772
Statistics and Probability Theory	mail: david.meyer@ci.tuwien.ac.at
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jan@rychter.com  Wed Nov 21 11:20:45 2001
From: jan@rychter.com (Jan Rychter)
Date: Wed, 21 Nov 2001 12:20:45 +0100
Subject: [Rd] segfault using svm from e1071 (PR#1178)
In-Reply-To: <3BFB838A.E7E40F39@ci.tuwien.ac.at> (David Meyer's message of
 "Wed, 21 Nov 2001 11:35:55 +0100")
References: <200111202238.XAA07070@pubhealth.ku.dk>
 <3BFB838A.E7E40F39@ci.tuwien.ac.at>
Message-ID: <m21yis1ib6.fsf@tnuctip.rychter.com>

>>>>> "David" == David Meyer <david.meyer@ci.tuwien.ac.at> writes:
 David> jan@rychter.com wrote:
 >>
 >> This could be a bug in the e1071 svm code, but maybe not -- I guess
 >> I'll send it here anyway. It's reproducible.

 David> Which version of e1071 are you using (Current: 1.2-1)? This
 David> package had a bug fix release one month ago.

e1071_1.2-1.tar.gz

--J.

 > x <- seq (0.1,5,by=0.05) y <- log(x) + rnorm (x, sd=0.2)
 > library(e1071) m <- svm (x,y)
 >>
 >> Process R segmentation fault at Tue Nov 20 23:34:19 2001
 >>
 > version
 >> _ platform i686-pc-linux-gnu arch i686 os linux-gnu system i686,
 >> linux-gnu status major 1 minor 3.1 year 2001 month 08 day 31
 >> language R
 >>
 >> I used the Mandrake 8.0 RPM binaries from cran.r-project.org first,
 >> then recompiled R myself and reinstalled e1071. Same results.
 >>

[...]


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Thu Nov 22 03:54:28 2001
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Wed, 21 Nov 2001 22:54:28 -0500
Subject: [Rd] zlib location
Message-ID: <dkrovtc1ujq6uiok0nudijcbkcli99tu3c@4ax.com>

I'm trying to build the 1.4.0 development version of R for Windows.
I'll be posting problems as they arise, until I give up (or succeed),
or someone asks me to stop.

1.  I don't have zlib, the compression library.  The source file
gnuwin32/unzip/WHERE says to get it from
ftp://ftp.info-zip.org/pub/infozip/zlib/zlib.html; that web site says
it has been closed and redirects me to http://www.gzip.org/zlib/.
(The file itself claims to be at
ftp://ftp.info-zip.org/pub/infozip/doc/WHERE, and it is, with the same
stale URL, hence the CC of this message to Zip-bugs.)
The WHERE file was written by the info-zip people, but I couldn't turn
up a newer version.  If there is one and I find it, I'll pass it on.

2.  I get some warnings during the compile; I decided to ignore them.
I missed catching some; some others were:

Rstrptime.h:206: warning: ANSI C forbids braced-groups within
expressions

/usr/lib/bison.simple:285: warning: `yyval' might be used
uninitialized in this
function

main.c:327: warning: variable `baseEnv' might be clobbered by
`longjmp' or `vfor
k'

objects.c: In function `do_set_prim_method':
objects.c:1014: warning: unused variable `env'
objects.c:962: warning: `code' might be used uninitialized in this
function

\..\i386-mingw32\include\shlobj.h:8,
                 from shext.c:24:
f:\R\TOOLS\BIN\..\lib\gcc-lib\i386-mingw32\2.95.2\..\..\..\..\i386-mingw32\inclu
de\objbase.h:71: warning: comma at end of enumerator list

\..\i386-mingw32\include\shlobj.h:8,
                 from shext.c:24:
f:\R\TOOLS\BIN\..\lib\gcc-lib\i386-mingw32\2.95.2\..\..\..\..\i386-mingw32\inclu
de\oleidl.h:43: warning: ANSI C restricts enumerator values to range
of `int'

3.  And here's the one that has stopped me for tonight:

graphappmain.o(.text+0x121):graphappmain.c: undefined reference to
`_imp__R_rese
rved_size'
rgui.o(.text+0x63):rgui.c: undefined reference to
`_imp__CharacterMode'
MAKE[1]: *** [Rgui.exe] Error 1
MAKE[1]: Leaving directory
`/cygdrive/f/R/R-devel/src/gnuwin32/front-ends'


Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kohnicho@comp.nus.edu.sg  Thu Nov 22 04:02:43 2001
From: kohnicho@comp.nus.edu.sg (Nicholas Lewin-Koh)
Date: Thu, 22 Nov 2001 12:02:43 +0800 (GMT-8)
Subject: [Rd] zlib location
In-Reply-To: <dkrovtc1ujq6uiok0nudijcbkcli99tu3c@4ax.com>
Message-ID: <Pine.GSO.4.21.0111221158470.6793-100000@sun450.comp.nus.edu.sg>

Hi, 
you can find pre compiled libraries for most of what you need at:
http://gnuwin32.sourceforge.net/

He also has pointers to sources for all the libs listed there.

Nicholas

On Wed, 21 Nov 2001, Duncan Murdoch wrote:

> I'm trying to build the 1.4.0 development version of R for Windows.
> I'll be posting problems as they arise, until I give up (or succeed),
> or someone asks me to stop.
> 
> 1.  I don't have zlib, the compression library.  The source file
> gnuwin32/unzip/WHERE says to get it from
> ftp://ftp.info-zip.org/pub/infozip/zlib/zlib.html; that web site says
> it has been closed and redirects me to http://www.gzip.org/zlib/.
> (The file itself claims to be at
> ftp://ftp.info-zip.org/pub/infozip/doc/WHERE, and it is, with the same
> stale URL, hence the CC of this message to Zip-bugs.)
> The WHERE file was written by the info-zip people, but I couldn't turn
> up a newer version.  If there is one and I find it, I'll pass it on.
> 
> 2.  I get some warnings during the compile; I decided to ignore them.
> I missed catching some; some others were:
> 
> Rstrptime.h:206: warning: ANSI C forbids braced-groups within
> expressions
> 
> /usr/lib/bison.simple:285: warning: `yyval' might be used
> uninitialized in this
> function
> 
> main.c:327: warning: variable `baseEnv' might be clobbered by
> `longjmp' or `vfor
> k'
> 
> objects.c: In function `do_set_prim_method':
> objects.c:1014: warning: unused variable `env'
> objects.c:962: warning: `code' might be used uninitialized in this
> function
> 
> \..\i386-mingw32\include\shlobj.h:8,
>                  from shext.c:24:
> f:\R\TOOLS\BIN\..\lib\gcc-lib\i386-mingw32\2.95.2\..\..\..\..\i386-mingw32\inclu
> de\objbase.h:71: warning: comma at end of enumerator list
> 
> \..\i386-mingw32\include\shlobj.h:8,
>                  from shext.c:24:
> f:\R\TOOLS\BIN\..\lib\gcc-lib\i386-mingw32\2.95.2\..\..\..\..\i386-mingw32\inclu
> de\oleidl.h:43: warning: ANSI C restricts enumerator values to range
> of `int'
> 
> 3.  And here's the one that has stopped me for tonight:
> 
> graphappmain.o(.text+0x121):graphappmain.c: undefined reference to
> `_imp__R_rese
> rved_size'
> rgui.o(.text+0x63):rgui.c: undefined reference to
> `_imp__CharacterMode'
> MAKE[1]: *** [Rgui.exe] Error 1
> MAKE[1]: Leaving directory
> `/cygdrive/f/R/R-devel/src/gnuwin32/front-ends'
> 
> 
> Duncan Murdoch
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

                 CH3
                  |
                  N             Nicholas Lewin-Koh
                 / \            Dept of Statistics
           N----C   C==O        Program in Ecology and Evolutionary Biology
          ||   ||   |           Iowa State University
          ||   ||   |           Ames, IA 50011
          CH    C   N--CH3      http://www.public.iastate.edu/~nlewin
            \  / \ /            nlewin@iastate.edu
             N    C
             |   ||             Currently
            CH3   O             Graphics Lab
                                School of Computing
                                National University of Singapore
     The Real Part of Coffee    kohnicho@comp.nus.edu.sg

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Nov 22 07:59:55 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 22 Nov 2001 07:59:55 +0000 (GMT)
Subject: [Rd] zlib location
In-Reply-To: <dkrovtc1ujq6uiok0nudijcbkcli99tu3c@4ax.com>
Message-ID: <Pine.LNX.4.31.0111220753320.1603-100000@gannet.stats>

On Wed, 21 Nov 2001, Duncan Murdoch wrote:

> I'm trying to build the 1.4.0 development version of R for Windows.
> I'll be posting problems as they arise, until I give up (or succeed),
> or someone asks me to stop.
>
> 1.  I don't have zlib, the compression library.  The source file

Well zlib is not part of info-zip, but the bitmap/INSTALL file says

1) You need libpng, zlib and jpeg sources (available, e.g., from
   www.libpng.org, www.gzip.org/zlib, ftp.uu.net/graphics/[png,jpeg].

and that is current.  The information is also on the portal.

> gnuwin32/unzip/WHERE says to get it from
> ftp://ftp.info-zip.org/pub/infozip/zlib/zlib.html; that web site says
> it has been closed and redirects me to http://www.gzip.org/zlib/.
> (The file itself claims to be at
> ftp://ftp.info-zip.org/pub/infozip/doc/WHERE, and it is, with the same
> stale URL, hence the CC of this message to Zip-bugs.)
> The WHERE file was written by the info-zip people, but I couldn't turn
> up a newer version.  If there is one and I find it, I'll pass it on.


>
> 2.  I get some warnings during the compile; I decided to ignore them.
> I missed catching some; some others were:
>
> Rstrptime.h:206: warning: ANSI C forbids braced-groups within
> expressions

> /usr/lib/bison.simple:285: warning: `yyval' might be used
> uninitialized in this
> function
>
> main.c:327: warning: variable `baseEnv' might be clobbered by
> `longjmp' or `vfor
> k'
>
> objects.c: In function `do_set_prim_method':
> objects.c:1014: warning: unused variable `env'
> objects.c:962: warning: `code' might be used uninitialized in this
> function

All normal.

> \..\i386-mingw32\include\shlobj.h:8,
>                  from shext.c:24:
> f:\R\TOOLS\BIN\..\lib\gcc-lib\i386-mingw32\2.95.2\..\..\..\..\i386-mingw32\inclu
> de\objbase.h:71: warning: comma at end of enumerator list
>
> \..\i386-mingw32\include\shlobj.h:8,
>                  from shext.c:24:
> f:\R\TOOLS\BIN\..\lib\gcc-lib\i386-mingw32\2.95.2\..\..\..\..\i386-mingw32\inclu
> de\oleidl.h:43: warning: ANSI C restricts enumerator values to range
> of `int'

Normal: errors in the mingw header files (which I have reported).

> 3.  And here's the one that has stopped me for tonight:
>
> graphappmain.o(.text+0x121):graphappmain.c: undefined reference to
> `_imp__R_rese
> rved_size'
> rgui.o(.text+0x63):rgui.c: undefined reference to
> `_imp__CharacterMode'
> MAKE[1]: *** [Rgui.exe] Error 1
> MAKE[1]: Leaving directory
> `/cygdrive/f/R/R-devel/src/gnuwin32/front-ends'

You seem to have too old a version of the compiler.  From INSTALL

We recommend that you use a recent snapshot of the mingw port of gcc
from http://downloads.sourceforge.net/mingw/.  For example, at the
time of writing, MinGW-1.1.tar.gz based on gcc-2.95.3.  Just unpack
this somewhere and put its bin directory in your path.

That works for me.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dtrenkler@nts6.oec.uni-osnabrueck.de  Thu Nov 22 10:30:06 2001
From: dtrenkler@nts6.oec.uni-osnabrueck.de (dtrenkler@nts6.oec.uni-osnabrueck.de)
Date: Thu, 22 Nov 2001 11:30:06 +0100 (MET)
Subject: [Rd] Bug in dev.print? (PR#1179)
Message-ID: <200111221030.LAA23641@pubhealth.ku.dk>

Dear "Debuggers",

please have look a the following:



> plot(0:1,0:1,type="n")
> points(c(0,0.5,1),c(0,0.5,1))
> dev.print(device = postscript, width=5 , height=5, file="test1.ps")
windows
      2
>#  This worked
> dev.print(device = pdf, width=5 , height=5, file="test1.pdf")
windows
      2
>#  That also
> plot(0:1,0:1,type="n" ,yaxs="i")
> points(c(0,0.5,1),c(0,0.5,1))
> dev.print(device = postscript, width=5 , height=5, file="test2.ps")
windows
      2
>#  This worked. However:
> dev.print(device = pdf, width=5 , height=5, file="test2.pdf")
Error in dev.copy(device = function (file = ifelse(onefile, "Rplots.pdf",  :
        negative length vectors are not allowed
># I guess the clipping of the points causes the error...

Version:
 platform = i386-pc-mingw32
 arch = x86
 os = Win32
 system = x86, Win32
 status = 
 major = 1
 minor = 3.1
 year = 2001
 month = 08
 day = 31
 language = R

Windows NT 4.0 (build 1381) Service Pack 6

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base

   --- D.Trenkler ---

****************************************************************************
*****
   Dr. Dietrich Trenkler        (dtrenkler@nts6.oec.uni-osnabrueck.de)      
   Statistik / Empirische Wirtschaftsforschung
   Universitaet Osnabrueck
   Rolandstrasse 8                                Phone: +49(0) 541-969-2753
   D-49069 Osnabrueck                          Fax  : +49(0) 541-969-2744
   GERMANY
****************************************************************************
*****




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Nov 22 12:26:20 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 22 Nov 2001 13:26:20 +0100 (MET)
Subject: [Rd] Bug in dev.print? (PR#1179)
Message-ID: <200111221226.NAA25830@pubhealth.ku.dk>

This now works in R-devel: it is the same as PR#1174 if you want to look
that up.

That you for the diagnosis: it's correct one, the bug being in the
internal clipping code, whereas postscript() clips in PostScript.


On Thu, 22 Nov 2001 dtrenkler@nts6.oec.uni-osnabrueck.de wrote:

> Dear "Debuggers",
>
> please have look a the following:
>
>
>
> > plot(0:1,0:1,type="n")
> > points(c(0,0.5,1),c(0,0.5,1))
> > dev.print(device = postscript, width=5 , height=5, file="test1.ps")
> windows
>       2
> >#  This worked
> > dev.print(device = pdf, width=5 , height=5, file="test1.pdf")
> windows
>       2
> >#  That also
> > plot(0:1,0:1,type="n" ,yaxs="i")
> > points(c(0,0.5,1),c(0,0.5,1))
> > dev.print(device = postscript, width=5 , height=5, file="test2.ps")
> windows
>       2
> >#  This worked. However:
> > dev.print(device = pdf, width=5 , height=5, file="test2.pdf")
> Error in dev.copy(device = function (file = ifelse(onefile, "Rplots.pdf",  :
>         negative length vectors are not allowed
> ># I guess the clipping of the points causes the error...
>
> Version:
>  platform = i386-pc-mingw32
>  arch = x86
>  os = Win32
>  system = x86, Win32
>  status =
>  major = 1
>  minor = 3.1
>  year = 2001
>  month = 08
>  day = 31
>  language = R
>
> Windows NT 4.0 (build 1381) Service Pack 6
>
> Search Path:
>  .GlobalEnv, package:ctest, Autoloads, package:base
>
>    --- D.Trenkler ---
>
> ****************************************************************************
> *****
>    Dr. Dietrich Trenkler        (dtrenkler@nts6.oec.uni-osnabrueck.de)
>    Statistik / Empirische Wirtschaftsforschung
>    Universitaet Osnabrueck
>    Rolandstrasse 8                                Phone: +49(0) 541-969-2753
>    D-49069 Osnabrueck                          Fax  : +49(0) 541-969-2744
>    GERMANY
> ****************************************************************************
> *****
>
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Thu Nov 22 13:28:49 2001
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Thu, 22 Nov 2001 08:28:49 -0500
Subject: [Rd] Using rsync from Windows
Message-ID: <ndupvtkmu7s4aj5mstan6p8eopbg32g2ui@4ax.com>

I've just installed the Cygwin version of rsync, with an aim of
syncing to the development version, as recommended on
<http://cran.r-project.org/sources.html>.  Could someone give an
example of the syntax to invoke it?  From the man page, I expected

 rsync rsync.rproject.org::

to give me a file listing, but I get:

 unknown host: rsync.rproject.org

Other network utilities (e.g. ssh) work, so it's not a simple network
problem, it's something I've missed in the rsync setup or on the
command line.  Any suggestions?

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From david.meyer@ci.tuwien.ac.at  Thu Nov 22 13:37:21 2001
From: david.meyer@ci.tuwien.ac.at (David Meyer)
Date: Thu, 22 Nov 2001 14:37:21 +0100
Subject: [Rd] Using rsync from Windows
References: <ndupvtkmu7s4aj5mstan6p8eopbg32g2ui@4ax.com>
Message-ID: <3BFCFF91.92A0D381@ci.tuwien.ac.at>

Duncan Murdoch wrote:
> 
> I've just installed the Cygwin version of rsync, with an aim of
> syncing to the development version, as recommended on
> <http://cran.r-project.org/sources.html>.  Could someone give an
> example of the syntax to invoke it?  From the man page, I expected
> 
>  rsync rsync.rproject.org::

Try: rsync rsync.r-project.org::
                  ^

> 
> to give me a file listing, but I get:
> 
>  unknown host: rsync.rproject.org
> 
> Other network utilities (e.g. ssh) work, so it's not a simple network
> problem, it's something I've missed in the rsync setup or on the
> command line.  Any suggestions?
> 
> Duncan Murdoch
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
	Mag. David Meyer		Wiedner Hauptstrasse 8-10
Vienna University of Technology		A-1040 Vienna/AUSTRIA
       Department for			Tel.: (+431) 58801/10772
Statistics and Probability Theory	mail: david.meyer@ci.tuwien.ac.at
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Thu Nov 22 14:35:59 2001
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Thu, 22 Nov 2001 09:35:59 -0500
Subject: [Rd] zlib location
In-Reply-To: <Pine.LNX.4.31.0111220753320.1603-100000@gannet.stats>
References: <dkrovtc1ujq6uiok0nudijcbkcli99tu3c@4ax.com> <Pine.LNX.4.31.0111220753320.1603-100000@gannet.stats>
Message-ID: <b30qvtk1joermi8qidjt6mtojtup3vd7il@4ax.com>

On Thu, 22 Nov 2001 07:59:55 +0000 (GMT), you wrote:
>You seem to have too old a version of the compiler.  From INSTALL
>
>We recommend that you use a recent snapshot of the mingw port of gcc
>from http://downloads.sourceforge.net/mingw/.  For example, at the
>time of writing, MinGW-1.1.tar.gz based on gcc-2.95.3.  Just unpack
>this somewhere and put its bin directory in your path.

I think the URL has changed.  I found the file at 

 http://sourceforge.net/projects/mingw/

instead.  I've installed it, and the build is proceeding...

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Nov 22 15:03:28 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 22 Nov 2001 15:03:28 +0000 (GMT)
Subject: [Rd] zlib location
In-Reply-To: <b30qvtk1joermi8qidjt6mtojtup3vd7il@4ax.com>
Message-ID: <Pine.LNX.4.31.0111221451060.3076-100000@gannet.stats>

The portal has the current information (it's changed to prdownloads...),
as the docs point you to.

The locations in the R-devel docs are only checked just prior to release:
they change several times during an R release cycle.

Also, AFAIK no one is working on the Windows port at present, so the build
of R-devel is only tested irregularly.  I expect some work will be done on
it once 1.4.0 goes into feature freeze, but can't guarantee even that.

On Thu, 22 Nov 2001, Duncan Murdoch wrote:

> On Thu, 22 Nov 2001 07:59:55 +0000 (GMT), you wrote:
> >You seem to have too old a version of the compiler.  From INSTALL
> >
> >We recommend that you use a recent snapshot of the mingw port of gcc
> >from http://downloads.sourceforge.net/mingw/.  For example, at the
> >time of writing, MinGW-1.1.tar.gz based on gcc-2.95.3.  Just unpack
> >this somewhere and put its bin directory in your path.
>
> I think the URL has changed.  I found the file at
>
>  http://sourceforge.net/projects/mingw/
>
> instead.  I've installed it, and the build is proceeding...
>
> Duncan Murdoch
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Thu Nov 22 15:53:30 2001
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich.Leisch@ci.tuwien.ac.at)
Date: Thu, 22 Nov 2001 16:53:30 +0100
Subject: [Rd] Using rsync from Windows
In-Reply-To: <ndupvtkmu7s4aj5mstan6p8eopbg32g2ui@4ax.com>
References: <ndupvtkmu7s4aj5mstan6p8eopbg32g2ui@4ax.com>
Message-ID: <15357.8058.339815.45712@galadriel.ci.tuwien.ac.at>

>>>>> On Thu, 22 Nov 2001 08:28:49 -0500,
>>>>> Duncan Murdoch (DM) wrote:

  > I've just installed the Cygwin version of rsync, with an aim of
  > syncing to the development version, as recommended on
  > <http://cran.r-project.org/sources.html>.  Could someone give an
  > example of the syntax to invoke it?  From the man page, I expected

  >  rsync rsync.rproject.org::

  > to give me a file listing, but I get:

  >  unknown host: rsync.rproject.org

  > Other network utilities (e.g. ssh) work, so it's not a simple network
  > problem, it's something I've missed in the rsync setup or on the
  > command line.  Any suggestions?

Oops, sorry, that's a typo on the web page, should of course be

    rsync rsync.r-project.org::

(note the dash in our domain name). Fixed now.

Best,
Fritz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From baron@cattell.psych.upenn.edu  Thu Nov 22 17:47:38 2001
From: baron@cattell.psych.upenn.edu (baron@cattell.psych.upenn.edu)
Date: Thu, 22 Nov 2001 18:47:38 +0100 (MET)
Subject: [Rd] R-ext.html should be R-exts.html in R-lang.html (PR#1180)
Message-ID: <200111221747.SAA01464@pubhealth.ku.dk>


<<insert bug report here>>

That's it.  Just a minor error in the links in R-lang.html.  I
noticed this in my error logs.  Seems that R-ext.html does not
exist.  Jon

--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = 
 major = 1
 minor = 3.1
 year = 2001
 month = 08
 day = 31
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.murrell@auckland.ac.nz  Thu Nov 22 21:44:57 2001
From: p.murrell@auckland.ac.nz (Paul Murrell)
Date: Fri, 23 Nov 2001 10:44:57 +1300
Subject: [Rd] contour as a generic function?
References: <Pine.LNX.4.30.0111210525290.4842-100000@bolker.zoo.ufl.edu>
Message-ID: <01da01c1739e$ede74bf0$7632d882@stat.auckland.ac.nz>

Hi


>   As long as we're on wish lists (Paul Murrell??) it would be nice to have
> contour (optionally) return a list of contours, so that one could
> post-process them etc..  This would also, I think, eventually facilitate
> drawing contours onto 3-D surfaces ... I thought about hacking this but
> the contour function was too scary for me ...


Its pretty scary stuff alright :)

I am mucking about in the graphics code at the moment and one of the things
I hope to get to is this "3D" stuff.  The plan is to make it more modular
and especially separate the *calculation* of things like contours from the
actual *rendering* of them (another good example is returning the
transformation matrix from persp()).

Paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Fri Nov 23 04:25:00 2001
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Thu, 22 Nov 2001 23:25:00 -0500
Subject: [Rd] zip error, missing file
Message-ID: <fqirvtolqnhddve6aebn8vnap1gd1i8fe7@4ax.com>

4.  Noticed this error go by in the r-devel build in Windows 95:

F:/R/TOOLS/BIN/MAKE.EXE -C ./help RHOME=F:/R/R-devel
PKGDIR=F:/R/R-devel/src/lib
rary RLIB=F:/R/R-devel/library ziponlyhelp-base
MAKE.EXE[2]: Entering directory `F:/R/R-devel/src/gnuwin32/help'
zip -jqmX help/Rhelp help/* -x help/AnIndex 2> nul
MAKE.EXE[3]: [zipup] Error 12 (ignored)

My guess is that it's a problem with "2> nul".  That syntax isn't
supported by COMMAND.COM.  It didn't appear to cause any problems
though...

5.  But this one has me stopped again:

 gcc  --shared -s  -o ctest.dll ctest.def ctest.a ctest_res.o   -lg2c
EXTRADOCS=
 F:/R/R-devel/bin/R.dll
 gcc: EXTRADOCS=: No such file or directory
 MAKE.EXE[3]: *** [ctest.dll] Error 1
 MAKE.EXE[3]: Leaving directory `F:/R/R-devel/src/library/ctest/src'
 F:\R\TOOLS\BIN\MAKE.EXE[2]: *** [src/ctest.dll] Error 2
 F:\R\TOOLS\BIN\MAKE.EXE[2]: Leaving directory
`F:/R/R-devel/src/library/ctest'

It looks to me as though gcc thinks "EXTRADOCS=" is a filename, but I
don't know  why.  The only place I can spot this is in
src/gnuwin32/Makefile line 184, but it might be coming from somewhere
else, and I don't know what is causing the error.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Nov 23 14:12:41 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 23 Nov 2001 14:12:41 +0000 (GMT Standard Time)
Subject: [Rd] zip error, missing file
In-Reply-To: <fqirvtolqnhddve6aebn8vnap1gd1i8fe7@4ax.com>
Message-ID: <Pine.WNT.4.31.0111231401550.852-100000@gannet>

On Thu, 22 Nov 2001, Duncan Murdoch wrote:

> 4.  Noticed this error go by in the r-devel build in Windows 95:
>
> F:/R/TOOLS/BIN/MAKE.EXE -C ./help RHOME=F:/R/R-devel
> PKGDIR=F:/R/R-devel/src/lib
> rary RLIB=F:/R/R-devel/library ziponlyhelp-base
> MAKE.EXE[2]: Entering directory `F:/R/R-devel/src/gnuwin32/help'
> zip -jqmX help/Rhelp help/* -x help/AnIndex 2> nul
> MAKE.EXE[3]: [zipup] Error 12 (ignored)
>
> My guess is that it's a problem with "2> nul".  That syntax isn't
> supported by COMMAND.COM.  It didn't appear to cause any problems
> though...

COMMAND.COM should not be used. The correct shell is /bin/sh,exe, which is
ash.  This fails the first time through a build (as there is notheing to
update).

>
> 5.  But this one has me stopped again:
>
>  gcc  --shared -s  -o ctest.dll ctest.def ctest.a ctest_res.o   -lg2c
> EXTRADOCS=
>  F:/R/R-devel/bin/R.dll
>  gcc: EXTRADOCS=: No such file or directory
>  MAKE.EXE[3]: *** [ctest.dll] Error 1
>  MAKE.EXE[3]: Leaving directory `F:/R/R-devel/src/library/ctest/src'
>  F:\R\TOOLS\BIN\MAKE.EXE[2]: *** [src/ctest.dll] Error 2
>  F:\R\TOOLS\BIN\MAKE.EXE[2]: Leaving directory
> `F:/R/R-devel/src/library/ctest'
>
> It looks to me as though gcc thinks "EXTRADOCS=" is a filename, but I
> don't know  why.  The only place I can spot this is in
> src/gnuwin32/Makefile line 184, but it might be coming from somewhere
> else, and I don't know what is causing the error.

I don't see that with my make and sh.  The command run is

/cygdrive/c/R/tools/make DLLNM=  FLIBS="-lg2c" EXTRADOCS= \
  -C c:/R/rw1040/src/library/ctest PKG=ctest RHOME=c:/R/rw1040 RLIB=c:/R/rw1040/library \
  -f c:/R/rw1040/src/gnuwin32/MakePkg
make[2]: Entering directory `/cygdrive/c/R/rw1040/src/library/ctest'
---------- Making package ctest ------------
mkdir -p c:/R/rw1040/library/ctest
cp -r   ./INDEX  ./TITLE  c:/R/rw1040/library/ctest/
  making DLL
make[3]: Entering directory `/cygdrive/c/R/rw1040/src/library/ctest/src'
windres --include-dir c:/R/rw1040/src/include  -i ctest_res.rc -o ctest_res.o
------- Building ctest.dll from ctest.a ctest_res.o --------
echo LIBRARY ctest > ctest.def
echo EXPORTS >> ctest.def
nm ctest.a ctest_res.o > Defs
sed -n '/^........ [BCDRT] _/s/^........ [BCDRT] _/ /p' Defs >> ctest.def
rm -f Defs
gcc  --shared -s  -o ctest.dll ctest.def ctest.a ctest_res.o   -lg2c c:/R/rw1040/bin/R.dll
make[3]: Leaving directory `/cygdrive/c/R/rw1040/src/library/ctest/src'
  DLL made

....

so it looks like make is mis-behaving.  On the other hand, I have not idea
what it is for (Guido?) and suggest you remove it from
src/gnuwin32/Makefile.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jan@rychter.com  Fri Nov 23 20:02:41 2001
From: jan@rychter.com (Jan Rychter)
Date: Fri, 23 Nov 2001 21:02:41 +0100
Subject: [Rd] segfault using svm from e1071 (PR#1178)
In-Reply-To: <3BFB838A.E7E40F39@ci.tuwien.ac.at> (David Meyer's message of
 "Wed, 21 Nov 2001 11:35:55 +0100")
References: <200111202238.XAA07070@pubhealth.ku.dk>
 <3BFB838A.E7E40F39@ci.tuwien.ac.at>
Message-ID: <m2oflt1cim.fsf@tnuctip.rychter.com>

>>>>> "David" == David Meyer <david.meyer@ci.tuwien.ac.at> writes:
 David> jan@rychter.com wrote:
 >>
 >> This could be a bug in the e1071 svm code, but maybe not -- I guess
 >> I'll send it here anyway. It's reproducible.

 David> Which version of e1071 are you using (Current: 1.2-1)? This
 David> package had a bug fix release one month ago.

To follow up on this (yes, I'm using 1.2-1), here is the backtrace. Hope
it helps.

> library(e1071)
>      x <- seq (0.1,5,by=0.05)
>      y <- log(x) + rnorm (x, sd=0.2)
>      m   <- svm (x,y)

Program received signal SIGSEGV, Segmentation fault.
0x4011ffe8 in realloc () from /lib/libc.so.6
(gdb) bt
#0  0x4011ffe8 in realloc () from /lib/libc.so.6
#1  0x403859ea in Cache::get_data (this=0x8b01d00, index=145759521, data=0xbfffd9b4, 
    len=99) at svm.cpp:126
#2  0x4038b239 in SVR_Q::get_Q (this=0xbfffdb00, i=100, len=198) at svm.cpp:1223
#3  0x4038658d in Solver::Solve (this=0xbfffdb50, l=198, Q=@0xbfffdb00, b_=0x8b01148, 
    y_=0x8b01780 '\001' <repeats 99 times>, '' <repeats 99 times>, alpha_=0x8b00b10, 
    Cp=1, Cn=1, eps=0.001, si=0xbfffdc20, shrinking=1) at svm.cpp:534
#4  0x40388249 in solve_epsilon_svr (prob=0xbfffde40, param=0xbfffde50, alpha=0x8b007f0, 
    si=0xbfffdc20) at svm.cpp:1195
#5  0x40388aac in svm_train_one (prob=0xbfffde40, param=0xbfffde50, Cp=0, Cn=0)
    at svm.cpp:1505
#6  0x40388c54 in svm_train (prob=0xbfffde40, param=0xbfffde50) at svm.cpp:1584
#7  0x40384202 in svmtrain () from /local/lib/R/library/e1071/libs/e1071.so
#8  0x0808ccd9 in do_dotCode ()
#9  0x08093e23 in Rf_eval ()
#10 0x0809546a in do_set ()
#11 0x08093c6e in Rf_eval ()
#12 0x08094db9 in do_begin ()
#13 0x08093c6e in Rf_eval ()
#14 0x08094238 in Rf_applyClosure ()
#15 0x080b423b in applyMethod ()
#16 0x080b47ce in Rf_usemethod ()
#17 0x080b49dd in do_usemethod ()
#18 0x08093c6e in Rf_eval ()
#19 0x08094238 in Rf_applyClosure ()
#20 0x08093eaa in Rf_eval ()
#21 0x0809546a in do_set ()
#22 0x08093c6e in Rf_eval ()
#23 0x080a906b in R_ReplConsole ()
#24 0x080a980a in run_Rmainloop ()
#25 0x080ff8e8 in main ()
#26 0x400bb5b0 in __libc_start_main () from /lib/libc.so.6
(gdb) 


--Jan

 > x <- seq (0.1,5,by=0.05) y <- log(x) + rnorm (x, sd=0.2)
 > library(e1071) m <- svm (x,y)
 >>
 >> Process R segmentation fault at Tue Nov 20 23:34:19 2001
 >>
 > version
 >> _ platform i686-pc-linux-gnu arch i686 os linux-gnu system i686,
 >> linux-gnu status major 1 minor 3.1 year 2001 month 08 day 31
 >> language R
 >>
 >> I used the Mandrake 8.0 RPM binaries from cran.r-project.org first,
 >> then recompiled R myself and reinstalled e1071. Same results.
 >>
 >> thanks, --J.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ligges@statistik.uni-dortmund.de  Mon Nov 26 15:25:36 2001
From: ligges@statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 26 Nov 2001 16:25:36 +0100
Subject: [Rd] default symbol in plots changed in R-Devel for windows
Message-ID: <3C025EF0.EB57EAE4@statistik.uni-dortmund.de>

I did some test on WinXP and of course one of these was compiling and
starting R (good "news": It works).

To my surprise the default plotting character changed from the well
known empty circle to a black *FILLED* circle in the windows and bitmap
devices, but not so on the postscript and pdf devices.

Taking a closer look to more symbols shows that some symbols changed
from filled to unfilled ones and others from unfilled to filled. Is this
intended or just a fact the status "in development" of R-1.4.0?
Or maybe it is an interaction with the changes on transparent
backgrounds?

It happens with R
 Version 1.4.0 Under development (unstable) (2001-11-25)
on Windows NT 4.0 (SP6) and Windows XP, but not so on Solaris.

Best,
Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Nov 26 15:42:22 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 26 Nov 2001 15:42:22 +0000 (GMT Standard Time)
Subject: [Rd] default symbol in plots changed in R-Devel for windows
In-Reply-To: <3C025EF0.EB57EAE4@statistik.uni-dortmund.de>
Message-ID: <Pine.WNT.4.31.0111261537150.976-100000@gannet>

This is a known transitory bug, which I found late yesterday.  You'll find
R_ALPHA at one place in your devga.c.  Change it to R_OPAQUE.

We've been having some problems as a result of extensive graphics changes
from Paul.  If tonight's snapshot works correctly, it will have this fixed.

On Mon, 26 Nov 2001, Uwe Ligges wrote:

> I did some test on WinXP and of course one of these was compiling and
> starting R (good "news": It works).
>
> To my surprise the default plotting character changed from the well
> known empty circle to a black *FILLED* circle in the windows and bitmap
> devices, but not so on the postscript and pdf devices.
>
> Taking a closer look to more symbols shows that some symbols changed
> from filled to unfilled ones and others from unfilled to filled. Is this
> intended or just a fact the status "in development" of R-1.4.0?
> Or maybe it is an interaction with the changes on transparent
> backgrounds?
>
> It happens with R
>  Version 1.4.0 Under development (unstable) (2001-11-25)
> on Windows NT 4.0 (SP6) and Windows XP, but not so on Solaris.
>
> Best,
> Uwe
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jcs20@po.cwru.edu  Mon Nov 26 21:00:15 2001
From: jcs20@po.cwru.edu (jcs20@po.cwru.edu)
Date: Mon, 26 Nov 2001 22:00:15 +0100 (MET)
Subject: [Rd] predict.nnet (PR#1181)
Message-ID: <200111262100.WAA02054@pubhealth.ku.dk>

Full_Name: Jeff Schwarz
Version: R1.3.1
OS: Windows 2000
Submission from: (NULL) (129.22.170.115)


Error message (using predict and predict.nnet)
> predict (smalltest, smallx[-jj,])
Error in matrix(NA, length(keep), nout, dimnames = list(rn,
dimnames(object$fitted)[[2]])) : 
        length of dimnames[1] not equal to array extent

*** all relevant code and data source is given below ***

I have successfully built an object of type nnet using...
nnet.formula(formula = Q65 ~ ., data = smallx, size = 2, rang = 1, 
    maxit = 250, subset = jj)

where smallx is a data.frame with dimensions 300 by 103 that contains numerical
and factor variables.  Smallx is a random sample of 300 from the tab-delimited
numeric dataset found at
http://www.gvu.gatech.edu/user_surveys/survey-1998-10/datasets/num_general.zip. 
The code I used to recode the data is below, also.

I have successfully run the sample code from the predict.nnet help file without
any problem.

*********************************************************************

data source: 
http://www.gvu.gatech.edu/user_surveys/survey-1998-10/datasets/num_general.zip

#***Get the data from the big file
#***Get rid of the vairiables for survey (all
#*** observations = general), a unique identifier
#*** for each respondent and an extra variable X 
#*** (all = NaN)
#***Make sure that all the asymmetric binary,
#*** and nominal variables are coded as factor,
#*** not numeric (daisy has special methods for
#*** symmetric binary and discrete ordinal)
#***Recode some of the discrete ordinal variables
#*** so the Na, didn't know, and didn't say are all
#*** "NaN", and so that a few of the "never" responses
#*** are coded as 0 instead of 5

bigx <-
  read.delim (file location, 
  header = TRUE, sep = "\t", quote = "\"", dec = ".",
  fill = TRUE)

bigx <- bigx [,c(1:103)]

ii <- bigx[,c(22)] == 5
bigx[,c(22)] <- replace (bigx[,c(22)], ii, 0) 
ii <- bigx[,c(23)] == 5
bigx[,c(23)] <- replace (bigx[,c(23)], ii, 0)
ii <- bigx[,c(24)] == 5
bigx[,c(24)] <- replace (bigx[,c(24)], ii, 0)
ii <- bigx[,c(25)] == 5
bigx[,c(25)] <- replace (bigx[,c(25)], ii, 0)
ii <- bigx[,c(26)] == 5
bigx[,c(26)] <- replace (bigx[,c(26)], ii, 0)
ii <- bigx[,38] == 7
bigx[,38] <- replace (bigx[,38], ii, NaN)
ii <- bigx[,38] == 8
bigx[,38] <- replace (bigx[,38], ii, NaN)
ii <- bigx[,57] == 1
bigx[,57] <- replace (bigx[,57], ii, NaN)
ii <- bigx[,58] == 19
bigx[,58] <- replace (bigx[,58], ii, NaN)
ii <- bigx[,60] == 4
bigx[,60] <- replace (bigx[,60], ii, NaN)
ii <- bigx[,60] == 1
bigx[,60] <- replace (bigx[,60], ii, 3)
ii <- bigx[,60] == 2
bigx[,60] <- replace (bigx[,60], ii, 1)
ii <- bigx[,60] == 3
bigx[,60] <- replace (bigx[,60], ii, 2)
ii <- bigx[,69] == 1
bigx[,69] <- replace (bigx[,69], ii, NaN)
ii <- bigx[,69] == 7
bigx[,69] <- replace (bigx[,69], ii, NaN)
bigx[,69] <- bigx[,69] - 1

for (ii in c(1:9,14:21,27:32,34:37,39:49,52:55,
  59,61:70,72:103)) bigx[,ii] <- as.factor(bigx[,ii])

library (nnet)

set.seed(7261)
smallx <- bigx[sample(1:5022,300),]
jj <- sample (1:300, 100)
smalltest <- nnet.formula(formula = Q65 ~ ., data = smallx,
  size = 2, rang = 1, maxit = 250, subset = jj)

predict.nnet (smalltest, smallx[-jj,])

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From andy_liaw@merck.com  Mon Nov 26 21:36:55 2001
From: andy_liaw@merck.com (Liaw, Andy)
Date: Mon, 26 Nov 2001 16:36:55 -0500
Subject: debugging R-devel  on WinNT (was RE: [Rd] zlib location)
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC83BB@usrymx10.merck.com>

From: Prof Brian Ripley [mailto:ripley@stats.ox.ac.uk]

[...]

> Also, AFAIK no one is working on the Windows port at present, so the build
> of R-devel is only tested irregularly.  I expect some work will be done on
> it once 1.4.0 goes into feature freeze, but can't guarantee even that.

I had been trying to find out why La.svd on moderately large matrices (say
500 x 100) crash R-devel linked against ATLAS on WinNT.  Could some one
provide some hint on how to go about doing this?  I tried the instruction in
rw-faq, but keep getting stuck as follows:

(gdb) break WinMain
Breakpoint 1 at 0x4013c6: file ../graphapp/graphappmain.c, line 94.

(gdb) run
"/cygdrive/c/WINNT/system32/KERNEL32.dll": error reading line numbers

"/cygdrive/c/WINNT/system32/ADVAPI32.dll": error reading line numbers

"/cygdrive/c/WINNT/system32/VERSION.dll": error reading line numbers

"/cygdrive/c/WINNT/system32/LZ32.dll": error reading line numbers


Breakpoint 1, WinMain (Instance=0x400000, PrevInstance=0x0, CmdLine=0x232b0b
"", CmdShow=10) at ../graphapp/graphappmain.c:94

Starting program:
/cygdrive/c/Rtools/R-devel1105/src/gnuwin32/../../bin/Rgui.exe 

(gdb) break R_ReadConsole
Error: Cannot access memory at address 0x1f9a4

I tried adding the directories where several source files are (e.g.,
src/main, src/gnuwin32, src/gnuwin32/graphapp, and src/gnuwin32/front-ends),
but still get the same thing.

Also, as R starts, I get a bunch of dialog boxes that complained about DLL
relocated.  Is this normal?

If I just type "c" and run Rgui, and issue the command
"La.svd(matrix(runif(5e4), 5e2, 1e2))", I get a few more dialog boxes, one
saying "Invalid address specified to RtlFreeHeap(9f0000, 1efde80)", another
saying "HEAP(Rgui.exe)", and a SIGTRAP is generated.

I did one more (crazy? stupid?) thing:  I replaced the lapack.c in R-devel
(dated Nov. 14, 2001) with the one in R-1.3.1 *as is*.  It actually
compiled!  However, the result is the same.

Any help on how to get gdb to work is greatly appreciated!!

Regards,
Andy

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossini@u.washington.edu  Tue Nov 27 17:24:57 2001
From: rossini@u.washington.edu (A.J. Rossini)
Date: 27 Nov 2001 09:24:57 -0800
Subject: [Rd] seek helppage.  Possible clarification?
Message-ID: <87zo58dt3q.fsf@jeeves.blindglobe.net>


seek(zz,where=NewPosition)   returns the OldPosition of connection zz
(of the appropriate "pointer", i.e. read or write).  Currently, the
docs have:

> Details:
> 
>     `seek' with `where = NA' returns the current byte offset of a
>     connection (from the beginning), and with a positive `where'
>     argument the connection is re-positioned (if possible) to the
>     specified position.


One possible change would be to:


> Details:
>
>     `seek' with `where = NA' returns the current byte offset of a
>     connection (from the beginning), and with a positive `where'
>     argument the connection is re-positioned (if possible) to the
>     specified position, returning the previous position.

(since seek() seems to return "current/previous position", at least
for the variants I seem to use).

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini@u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini@scharp.org
-------------- http://software.biostat.washington.edu/ --------------
FHCRC: M-W: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   T-Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
Rosen: (Mullins' Lab) Fridays, and I'm unreachable except by email.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Nov 27 17:32:49 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 27 Nov 2001 17:32:49 +0000 (GMT)
Subject: [Rd] seek helppage.  Possible clarification?
In-Reply-To: <87zo58dt3q.fsf@jeeves.blindglobe.net>
Message-ID: <Pine.LNX.4.31.0111271730130.12944-100000@gannet.stats>

It's usual to put values in the Value: section, and indeed it is described
there.  I am not sure why I would expect it in Details: too.

Looks like `positive' is out-of-date, though.

On 27 Nov 2001, A.J. Rossini wrote:

>
> seek(zz,where=NewPosition)   returns the OldPosition of connection zz
> (of the appropriate "pointer", i.e. read or write).  Currently, the
> docs have:
>
> > Details:
> >
> >     `seek' with `where = NA' returns the current byte offset of a
> >     connection (from the beginning), and with a positive `where'
> >     argument the connection is re-positioned (if possible) to the
> >     specified position.
>
>
> One possible change would be to:
>
>
> > Details:
> >
> >     `seek' with `where = NA' returns the current byte offset of a
> >     connection (from the beginning), and with a positive `where'
> >     argument the connection is re-positioned (if possible) to the
> >     specified position, returning the previous position.
>
> (since seek() seems to return "current/previous position", at least
> for the variants I seem to use).
>
> best,
> -tony
>
> --
> A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
> U. of Washington Biostatistics		rossini@u.washington.edu
> FHCRC/SCHARP/HIV Vaccine Trials Net	rossini@scharp.org
> -------------- http://software.biostat.washington.edu/ --------------
> FHCRC: M-W: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
> UW:   T-Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
> Rosen: (Mullins' Lab) Fridays, and I'm unreachable except by email.
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossini@u.washington.edu  Tue Nov 27 17:45:44 2001
From: rossini@u.washington.edu (A.J. Rossini)
Date: 27 Nov 2001 09:45:44 -0800
Subject: [Rd] seek helppage.  Possible clarification?
In-Reply-To: <Pine.LNX.4.31.0111271730130.12944-100000@gannet.stats>
References: <Pine.LNX.4.31.0111271730130.12944-100000@gannet.stats>
Message-ID: <87pu64ds53.fsf@jeeves.blindglobe.net>

>>>>> "BR" == Brian Ripley <Prof> writes:

    BR> It's usual to put values in the Value: section, and indeed it
    BR> is described there.  I am not sure why I would expect it in
    BR> Details: too.

Then the suggestion would be instead of (from "Value"):

     `seek' returns the current position, as a byte offset, if
     relevant, or `0' if not.

to:

     `seek' returns the current or previous position, as a byte offset, if
     relevant, or `0' if not.

(the confusion for me was whether current was before or after the function
call, which may change the position).

best,
-tony


-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini@u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini@scharp.org
-------------- http://software.biostat.washington.edu/ --------------
FHCRC: M-W: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   T-Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
Rosen: (Mullins' Lab) Fridays, and I'm unreachable except by email.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Nov 27 19:23:02 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 27 Nov 2001 19:23:02 +0000 (GMT)
Subject: [Rd] seek helppage.  Possible clarification?
In-Reply-To: <87pu64ds53.fsf@jeeves.blindglobe.net>
Message-ID: <Pine.LNX.4.31.0111271921280.13076-100000@gannet.stats>

On 27 Nov 2001, A.J. Rossini wrote:

> >>>>> "BR" == Brian Ripley <Prof> writes:
>
>     BR> It's usual to put values in the Value: section, and indeed it
>     BR> is described there.  I am not sure why I would expect it in
>     BR> Details: too.
>
> Then the suggestion would be instead of (from "Value"):
>
>      `seek' returns the current position, as a byte offset, if
>      relevant, or `0' if not.
>
> to:
>
>      `seek' returns the current or previous position, as a byte offset, if
>      relevant, or `0' if not.
>
> (the confusion for me was whether current was before or after the function
> call, which may change the position).

(Sorry, I missed the point!)
I'd still say that was ambiguous, so I've changed it to

  \code{seek} returns the current position (before any move),
  as a byte offset, if relevant, or \code{0} if not.

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From mdesai@biostat.cpmc.columbia.edu  Tue Nov 27 20:02:44 2001
From: mdesai@biostat.cpmc.columbia.edu (mdesai@biostat.cpmc.columbia.edu)
Date: Tue, 27 Nov 2001 21:02:44 +0100 (MET)
Subject: [Rd] Table Command (PR#1182)
Message-ID: <200111272002.VAA16156@pubhealth.ku.dk>

Full_Name: Manisha Desai
Version: 1.3.0
OS: UNIX
Submission from: (NULL) (156.111.36.213)


There may be a bug in the table command.  
The value of 0 does not appear to show up (at least in this version of R).  
The following is an example:

> blah<-c(rep(1,100),rep(0,100))
> table(blah)

Gives the following:

blah
  1
100

Doing a summary shows that blah does contain values of 0.  

> summary(blah)
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
    0.0     0.0     0.5     0.5     1.0     1.0 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Nov 27 20:14:08 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 Nov 2001 21:14:08 +0100
Subject: [Rd] Table Command (PR#1182)
In-Reply-To: <200111272002.VAA16156@pubhealth.ku.dk>
References: <200111272002.VAA16156@pubhealth.ku.dk>
Message-ID: <x24rnghsz3.fsf@blueberry.kubism.ku.dk>

mdesai@biostat.cpmc.columbia.edu writes:

> Full_Name: Manisha Desai
> Version: 1.3.0
> OS: UNIX
> Submission from: (NULL) (156.111.36.213)
> 
> 
> There may be a bug in the table command.  
> The value of 0 does not appear to show up (at least in this version of R).  
> The following is an example:
> 
> > blah<-c(rep(1,100),rep(0,100))
> > table(blah)
> 
> Gives the following:
> 
> blah
>   1
> 100
> 
> Doing a summary shows that blah does contain values of 0.  
> 
> > summary(blah)
>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
>     0.0     0.0     0.5     0.5     1.0     1.0 

Doesn't happen on any version of "UNIX" that I have access to. I think
we had a report once where something like that was caused by an
incorrect compiler (or compiler flag). We need to have full
information on your system and build to do anything about it.

To wit (Solaris 7, R-1.3.1)

> blah<-c(rep(1,100),rep(0,100))
> table(blah)
blah
  0   1 
100 100 


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From mdesai@biostat.cpmc.columbia.edu  Tue Nov 27 21:07:54 2001
From: mdesai@biostat.cpmc.columbia.edu (Manisha Desai)
Date: Tue, 27 Nov 2001 16:07:54 -0500 (EST)
Subject: [Rd] Table Command (PR#1182)
In-Reply-To: <x24rnghsz3.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.SOL.4.33.0111271556500.13397-100000@bernoulli.cpmc.columbia.edu>


Thanks for your response.  Here is some information on my system.  I will
speak with my systems administrator if the problem is not obvious.

Manisha

> version
         _
platform sparc-sun-solaris2.8
arch     sparc
os       solaris2.8
system   sparc, solaris2.8
status
major    1
minor    3.0
year     2001
month    06
day      22
language R



On 27 Nov 2001, Peter Dalgaard BSA wrote:

> mdesai@biostat.cpmc.columbia.edu writes:
>
> > Full_Name: Manisha Desai
> > Version: 1.3.0
> > OS: UNIX
> > Submission from: (NULL) (156.111.36.213)
> >
> >
> > There may be a bug in the table command.
> > The value of 0 does not appear to show up (at least in this version of R).
> > The following is an example:
> >
> > > blah<-c(rep(1,100),rep(0,100))
> > > table(blah)
> >
> > Gives the following:
> >
> > blah
> >   1
> > 100
> >
> > Doing a summary shows that blah does contain values of 0.
> >
> > > summary(blah)
> >    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.
> >     0.0     0.0     0.5     0.5     1.0     1.0
>
> Doesn't happen on any version of "UNIX" that I have access to. I think
> we had a report once where something like that was caused by an
> incorrect compiler (or compiler flag). We need to have full
> information on your system and build to do anything about it.
>
> To wit (Solaris 7, R-1.3.1)
>
> > blah<-c(rep(1,100),rep(0,100))
> > table(blah)
> blah
>   0   1
> 100 100
>
>
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Nov 27 21:19:14 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 27 Nov 2001 22:19:14 +0100 (MET)
Subject: [Rd] Table Command (PR#1182)
Message-ID: <200111272119.WAA16776@pubhealth.ku.dk>

Did this system pass make check?

I believe this happens if you use aggresive optimizations under the SunPro
compiler, which do not respect IEEE arithmetic and do fail make check.
In particular, avoid -fast.


On Tue, 27 Nov 2001, Manisha Desai wrote:

>
> Thanks for your response.  Here is some information on my system.  I will
> speak with my systems administrator if the problem is not obvious.
>
> Manisha
>
> > version
>          _
> platform sparc-sun-solaris2.8
> arch     sparc
> os       solaris2.8
> system   sparc, solaris2.8
> status
> major    1
> minor    3.0
> year     2001
> month    06
> day      22
> language R
>
>
>
> On 27 Nov 2001, Peter Dalgaard BSA wrote:
>
> > mdesai@biostat.cpmc.columbia.edu writes:
> >
> > > Full_Name: Manisha Desai
> > > Version: 1.3.0
> > > OS: UNIX
> > > Submission from: (NULL) (156.111.36.213)
> > >
> > >
> > > There may be a bug in the table command.
> > > The value of 0 does not appear to show up (at least in this version of R).
> > > The following is an example:
> > >
> > > > blah<-c(rep(1,100),rep(0,100))
> > > > table(blah)
> > >
> > > Gives the following:
> > >
> > > blah
> > >   1
> > > 100
> > >
> > > Doing a summary shows that blah does contain values of 0.
> > >
> > > > summary(blah)
> > >    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.
> > >     0.0     0.0     0.5     0.5     1.0     1.0
> >
> > Doesn't happen on any version of "UNIX" that I have access to. I think
> > we had a report once where something like that was caused by an
> > incorrect compiler (or compiler flag). We need to have full
> > information on your system and build to do anything about it.
> >
> > To wit (Solaris 7, R-1.3.1)
> >
> > > blah<-c(rep(1,100),rep(0,100))
> > > table(blah)
> > blah
> >   0   1
> > 100 100
> >
> >
> > --
> >    O__  ---- Peter Dalgaard             Blegdamsvej 3
> >   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
> >  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> > ~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
> >
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From mdesai@biostat.cpmc.columbia.edu  Tue Nov 27 21:28:30 2001
From: mdesai@biostat.cpmc.columbia.edu (mdesai@biostat.cpmc.columbia.edu)
Date: Tue, 27 Nov 2001 22:28:30 +0100 (MET)
Subject: [Rd] Table Command (PR#1182)
Message-ID: <200111272128.WAA16840@pubhealth.ku.dk>


Thank you.  Yes, my systems administrator has just confirmed that he used
maximum optimization when compiling R.  Problem (most probably) solved.

Manisha

On Tue, 27 Nov 2001, Prof Brian Ripley wrote:

> Did this system pass make check?
>
> I believe this happens if you use aggresive optimizations under the SunPro
> compiler, which do not respect IEEE arithmetic and do fail make check.
> In particular, avoid -fast.
>
>
> On Tue, 27 Nov 2001, Manisha Desai wrote:
>
> >
> > Thanks for your response.  Here is some information on my system.  I will
> > speak with my systems administrator if the problem is not obvious.
> >
> > Manisha
> >
> > > version
> >          _
> > platform sparc-sun-solaris2.8
> > arch     sparc
> > os       solaris2.8
> > system   sparc, solaris2.8
> > status
> > major    1
> > minor    3.0
> > year     2001
> > month    06
> > day      22
> > language R
> >
> >
> >
> > On 27 Nov 2001, Peter Dalgaard BSA wrote:
> >
> > > mdesai@biostat.cpmc.columbia.edu writes:
> > >
> > > > Full_Name: Manisha Desai
> > > > Version: 1.3.0
> > > > OS: UNIX
> > > > Submission from: (NULL) (156.111.36.213)
> > > >
> > > >
> > > > There may be a bug in the table command.
> > > > The value of 0 does not appear to show up (at least in this version of R).
> > > > The following is an example:
> > > >
> > > > > blah<-c(rep(1,100),rep(0,100))
> > > > > table(blah)
> > > >
> > > > Gives the following:
> > > >
> > > > blah
> > > >   1
> > > > 100
> > > >
> > > > Doing a summary shows that blah does contain values of 0.
> > > >
> > > > > summary(blah)
> > > >    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.
> > > >     0.0     0.0     0.5     0.5     1.0     1.0
> > >
> > > Doesn't happen on any version of "UNIX" that I have access to. I think
> > > we had a report once where something like that was caused by an
> > > incorrect compiler (or compiler flag). We need to have full
> > > information on your system and build to do anything about it.
> > >
> > > To wit (Solaris 7, R-1.3.1)
> > >
> > > > blah<-c(rep(1,100),rep(0,100))
> > > > table(blah)
> > > blah
> > >   0   1
> > > 100 100
> > >
> > >
> > > --
> > >    O__  ---- Peter Dalgaard             Blegdamsvej 3
> > >   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
> > >  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> > > ~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
> > >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
>
> --
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From plummer@iarc.fr  Thu Nov 29 15:58:05 2001
From: plummer@iarc.fr (Martyn Plummer)
Date: Thu, 29 Nov 2001 16:58:05 +0100 (CET)
Subject: [Rd] R CMD check
Message-ID: <XFMail.20011129165805.plummer@iarc.fr>

[Sent to R-help by mistake. Sorry]

I have been checking my package coda with the current R-devel
using "R CMD check".  As usual, this has uncovered a large number
of errors and inconsistencies in my documentation, for which I
am very grateful.

The only problem I have is with code/documentation mismatches when I
have written a method for a generic function, e.g.

* checking for code/documentation mismatches ... WARNING
Objects with usage in documentation object `plot.mcmc' but missing from code:
[1] "plot"

Objects with usage in documentation object `summary.mcmc' but missing from
code:[1] "summary"

Objects with usage in documentation object `time.mcmc' but missing from code:
[1] "end"   "start" "time" 

Objects with usage in documentation object `window.mcmc' but missing from code:
[1] "window"

This occurs because, for example, I have documented the usage of 
summary.mcmc as

\usage{
summary(data, quantiles = c(0.025, 0.25, 0.5, 0.75, 0.975), ...)
}

I'm being encouraged to document it as

\usage{
summary.mcmc(data, quantiles = c(0.025, 0.25, 0.5, 0.75, 0.975), ...)
}

but I don't think this is right. Surely the correct usage of a method
is to call the generic function?

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From charlie@stat.umn.edu  Thu Nov 29 16:02:34 2001
From: charlie@stat.umn.edu (charlie@stat.umn.edu)
Date: Thu, 29 Nov 2001 17:02:34 +0100 (MET)
Subject: [Rd] ltsreg warnings (PR#1184)
Message-ID: <200111291602.RAA13035@pubhealth.ku.dk>

Full_Name: Charles J. Geyer
Version: 1.3.1
OS: linux-gnu-i686
Submission from: (NULL) (134.84.86.22)


ltsreg gives incomprehensible (to me) warnings

A homework problem for nonparametrics

########## start example ##########
library(bootstrap)
data(cell)
names(cell)
attach(cell)

library(lqs)
plot(V1, V2)
fred <- ltsreg(V2 ~ V1 + I(V1^2))
curve(predict(fred, data.frame(V1 = x)), add = TRUE)
coefficients(fred)
beta1.hat <- coefficients(fred)[2]
beta2.hat <- coefficients(fred)[3]

n <- length(V1)
nboot <- 1000
beta1.star <- double(nboot)
beta2.star <- double(nboot)
for (i in 1:nboot) {
    k <- sample(1:n, replace = TRUE)
    x.star <- V1[k]
    y.star <- V2[k]
    sally <- ltsreg(y.star ~ x.star + I(x.star^2))
    curve(predict(sally, data.frame(x.star = x)),
        add = TRUE, col = 2)
    beta1.star[i] <- coefficients(sally)[2]
    beta2.star[i] <- coefficients(sally)[3]
}
points(V1, V2, pch = 16)
curve(predict(fred, data.frame(V1 = x)),
   add = TRUE, lwd = 2)

beta1.hat
sd(beta1.star)
beta2.hat
sd(beta2.star)
beta2.hat / sd(beta2.star)
########## end example ##########

This produces at least 50 warnings.  The problem seems to be line 101 in
lqs.default

s <- sqrt(z$crit/quantile)/sqrt(1 - 2 * n * dnorm(1/c1)/(quantile * c1))

where z$crit is sometimes negative (like -1e-20) and so sqrt complains.

Now I have no idea what ltsreg is doing, and what z$crit is.  The letters
suggest
a z critical value, which can't be negative.  Certainly, the programmer who
decided
to stuff it into sqrt() didn't think it would be negative.

So this suggests a problem in the lqs_fitlots function call, but I haven't
looked
at that.

I understand that the problem may be that bootstrapping such a small data set
is insane, but I'm just copying Efron and Tibshirani (who do this with lmsreg).

So the problem may be only that more informative error messages are needed (or
failure codes, although failure codes are somewhat antithetical to the S/R
spirit).

Anyway, just stuffing negative numbers into sqrt() doesn't look good.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Nov 29 19:43:56 2001
From: pgilbert@bank-banque-canada.ca (pgilbert@bank-banque-canada.ca)
Date: Thu, 29 Nov 2001 20:43:56 +0100 (MET)
Subject: [Rd] documentation for diff (PR#1185)
Message-ID: <200111291943.UAA14511@pubhealth.ku.dk>

The documentation for diff says:


     If `x' is a vector of length `n' and `differences=1', then the
     computed result is equal to the successive differences
     `x[(1:n-lag)] - x[(lag:n)]'. ...

This last line should say:

     `x[(1+lag):n] - x[1:(n-lag)]'.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Nov 29 17:09:18 2001
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 29 Nov 2001 12:09:18 -0500
Subject: [Rd] R CMD check
References: <XFMail.20011129165805.plummer@iarc.fr>
Message-ID: <3C066BBE.3537F97C@bank-banque-canada.ca>

Martyn Plummer wrote:

> I'm being encouraged to document it as
> 
> \usage{
> summary.mcmc(data, quantiles = c(0.025, 0.25, 0.5, 0.75, 0.975), ...)
> }
> 

I think you are being encouraged to document it as

 \usage{
 \method{summary}{mcmc}(data, quantiles = c(0.025, 0.25, 0.5, 0.75, 0.975), ...)
 }

So it displays properly in the documentation and also gets checked properly. You
will then stop getting the "usage ...but missing from code" error and start
getting the "generic/method mismatch error." These guys are real slave drivers,
but as you said 

>this has uncovered a large number of errors and inconsistencies in my >documentation, for which I am very grateful.

Me too.

Paul Gilbert
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From vograno@arbitrade.com  Thu Nov 29 20:48:57 2001
From: vograno@arbitrade.com (vograno@arbitrade.com)
Date: Thu, 29 Nov 2001 21:48:57 +0100 (MET)
Subject: [Rd] a patch to tapply (PR#1186)
Message-ID: <200111292048.VAA14938@pubhealth.ku.dk>

Though tapply(x, factor, fun, simplify =TRUE) should be equivalent to
sapply(split(x, factor), fun, simplify=TRUE), note simplify=TRUE, it is not
so if fun() returns a vector rather than a scalar, e.g.

> tapply(1:6, c(0,0,0,1,1,1), function(x) c(min=min(x), max=max(x)),
simplify=TRUE)
$"0"
min max 
  1   3 

$"1"
min max 
  4   6 

> sapply(split(1:6, c(0,0,0,1,1,1)), function(x) c(min=min(x), max=max(x)),
simplify=TRUE)
    0 1
min 1 4
max 3 6

The patch submitted below fixes this problem
> tapply.new(1:6, c(0,0,0,1,1,1), function(x) c(min=min(x), max=max(x)),
simplify=TRUE)
    0 1
min 1 4
max 3 6

Another potential problem, which I am not able to verify at the moment, is
that whenever simplification is possible S-Plus returns a TRANSPOSE of that
of R, i.e.
  min max
0   1   3
1   4   6

Fixing this would require small changes to both tapply and sapply and I'll
be happy to provide the patches if requested.


R Version
> sapply(R.Version(), I)
           platform                arch                  os
system 
"i686-pc-linux-gnu"              "i686"         "linux-gnu"   "i686,
linux-gnu" 
             status               major               minor
year 
                 ""                 "1"               "3.1"
"2001" 
              month                 day            language 
               "08"                "31"                 "R"

 **************
The patch:
"tapply.new" <-
  function (X, INDEX, FUN = NULL, ..., simplify = TRUE) 
{
  FUN <- if (!is.null(FUN)) 
    match.fun(FUN)
  if (!is.list(INDEX)) 
    INDEX <- list(INDEX)
  nI <- length(INDEX)
  namelist <- vector("list", nI)
  names(namelist) <- names(INDEX)
  extent <- integer(nI)
  nx <- length(X)
  one <- as.integer(1)
  group <- rep(one, nx)
  ngroup <- one
  for (i in seq(INDEX)) {
    index <- as.factor(INDEX[[i]])
    if (length(index) != nx) 
      stop("arguments must have same length")
    namelist[[i]] <- levels(index)
    extent[i] <- nlevels(index)
    group <- group + ngroup * (as.integer(index) - one)
    ngroup <- ngroup * nlevels(index)
  }
  if (is.null(FUN)) 
    return(group)
  ans <- lapply(split(X, group), FUN, ...)
  if (simplify && length(common.len <- unique(unlist(lapply(ans, length))))
== 1) {
    if (common.len > 1) {
      extent <- c(common.len, extent)
      namelist <- c(list(names(ans[[1]])), namelist)
    }
    ansmat <- array(unlist(ans, recursive = FALSE), dim = extent, dimnames =
namelist)
    return(ansmat)
  }
  index <- as.numeric(names(ans))
  ansmat <- array(vector("list", prod(extent)), dim = extent, 
                  dimnames = namelist)
  names(ans) <- NULL
  ansmat[index] <- ans
  ansmat
}

-------------------------------------------------- 
DISCLAIMER 
This e-mail, and any attachments thereto, is intended only for use by the
addressee(s) named herein and may contain legally privileged and/or
confidential information.  If you are not the intended recipient of this
e-mail, you are hereby notified that any dissemination, distribution or
copying of this e-mail, and any attachments thereto, is strictly prohibited.
If you have received this e-mail in error, please immediately notify me and
permanently delete the original and any copy of any e-mail and any printout
thereof. 

E-mail transmission cannot be guaranteed to be secure or error-free.  The
sender therefore does not accept liability for any errors or omissions in
the contents of this message which arise as a result of e-mail transmission.

NOTICE REGARDING PRIVACY AND CONFIDENTIALITY 

Knight Trading Group may, at its discretion, monitor and review the content
of all e-mail communications. 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Thu Nov 29 21:13:08 2001
From: bates@stat.wisc.edu (bates@stat.wisc.edu)
Date: Thu, 29 Nov 2001 22:13:08 +0100 (MET)
Subject: [Rd] anova.glm and explicit contrast matrices (PR#1187)
Message-ID: <200111292113.WAA15094@pubhealth.ku.dk>

anova.glm does not calculate the degrees of freedom properly when an
explicit contrast has been set on a factor and the contrast has fewer
than (len(levels(thisfactor)) - 1) columns.

> load("/p/stat/course/st849-bates/public/slides/figs/src/viet.rda")
> fm1 <- glm(accuracy ~ proficiency * task + proficiency/learner, viet,
+    family = binomial())
> anova(fm1)
Analysis of Deviance Table

Model: binomial, link: logit

Response: accuracy

Terms added sequentially (first to last)


                      Df Deviance Resid. Df Resid. Dev
NULL                                   5592     4921.9
proficiency            3     69.5      5589     4852.4
task                   4    132.9      5585     4719.5
proficiency:task      12     96.2      5573     4623.4
proficiency:learner    2     35.0      5571     4588.4
> contrasts(viet$proficiency, 1) <- contrasts(viet$proficiency)
> contrasts(viet$proficiency)
          .L
l -0.6708204
m -0.2236068
h  0.2236068
a  0.6708204
> fm2 <- glm(accuracy ~ proficiency * task + proficiency/learner, viet,
+   family = binomial())
> anova(fm2)
Analysis of Deviance Table

Model: binomial, link: logit

Response: accuracy

Terms added sequentially (first to last)


                      Df Deviance Resid. Df Resid. Dev
NULL                                   5592     4921.9
proficiency            3     69.5      5589     4852.4
task                   4    132.9      5585     4719.5
proficiency:task      12     96.2      5573     4623.4
proficiency:learner   -6     13.9      5579     4609.5

The degrees of freedom for proficiency should be 1, for
proficiency:task should be 4 and for proficiency:learner should be 4.

The coefficient count is correct.

--please do not edit the information below--

Version:
 platform = i386-pc-linux-gnu
 arch = i386
 os = linux-gnu
 system = i386, linux-gnu
 status = Under development (unstable)
 major = 1
 minor = 4.0
 year = 2001
 month = 11
 day = 28
 language = R

Search Path:
 .GlobalEnv, package:Devore5, package:ctest, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From cberry@tajo.ucsd.edu  Thu Nov 29 21:13:41 2001
From: cberry@tajo.ucsd.edu (cberry@tajo.ucsd.edu)
Date: Thu, 29 Nov 2001 22:13:41 +0100 (MET)
Subject: [Rd] rug(x) clip warning incorrect if par("xlog")==TRUE (PR#1188)
Message-ID: <200111292113.WAA15109@pubhealth.ku.dk>


To wit:

> plot(1:2,1:2,log="x")
> rug(1:2)      # should not warn
Warning message: 
some values will be clipped in: rug(1:2) 
> plot(1:2,1:2,log="x")
> rug(c(0,.1,.2))  # should warn, but does not
> 

I believe this fixes the problem:

% diff -c /tmp/orig.rug.R /tmp/cberry.rug.R 
*** /tmp/orig.rug.R	Thu Nov 29 12:59:00 2001
--- /tmp/cberry.rug.R	Thu Nov 29 12:57:50 2001
***************
*** 11,19 ****
      on.exit(par(oldcol), add = TRUE)
    }
    usr <- par("usr")
!   usr <- if (side%%2 == 1) 
!     usr[1:2]
!   else usr[3:4]
    if (any(x < usr[1] | x > usr[2])) 
      warning("some values will be clipped")
    axis(side, at = x, lab = FALSE, lwd = lwd)
--- 11,25 ----
      on.exit(par(oldcol), add = TRUE)
    }
    usr <- par("usr")
!   usr <- if (side%%2 == 1) {
!     if (par("xlog"))
!       10^(usr[1:2])
!     else usr[1:2]
!   }
!   else {
!     if (par("ylog"))
!       10^(usr[3:4])
!     else usr[3:4]}  
    if (any(x < usr[1] | x > usr[2])) 
      warning("some values will be clipped")
    axis(side, at = x, lab = FALSE, lwd = lwd)


Chuck

--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = 
 major = 1
 minor = 3.0
 year = 2001
 month = 06
 day = 22
 language = R

Search Path:
 .GlobalEnv, package:splines, package:survival, package:ctest, Autoloads,
package:base
> 


Charles C. Berry                        (858) 534-2098 
                                         Dept of Family/Preventive Medicine
E mailto:cberry@tajo.ucsd.edu	         UC San Diego
http://hacuna.ucsd.edu/members/ccb.html  La Jolla, San Diego 92093-0645

 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Fri Nov 30 08:55:19 2001
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Fri, 30 Nov 2001 09:55:19 +0100
Subject: [Rd] rug(x) clip warning incorrect if par("xlog")==TRUE (PR#1188)
In-Reply-To: <200111292113.WAA15109@pubhealth.ku.dk>
References: <200111292113.WAA15109@pubhealth.ku.dk>
Message-ID: <15367.18807.925583.406665@gargle.gargle.HOWL>

>>>>> "ChuckB" == Charles C Berry <cberry@tajo.ucsd.edu> writes:

    ChuckB> To wit:

    >> plot(1:2,1:2,log="x") rug(1:2) # should not warn
    ChuckB> Warning message: some values will be clipped in: rug(1:2)
    >> plot(1:2,1:2,log="x") rug(c(0,.1,.2)) # should warn, but does not
    >> 

    ChuckB> I believe this fixes the problem:

    ... [[ using par("xlog") etc ]]

yes, it does and I'm committing a patch for R 1.4
Thank you very much!

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Nov 30 10:04:29 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 30 Nov 2001 11:04:29 +0100 (MET)
Subject: [Rd] anova.glm and explicit contrast matrices (PR#1187)
Message-ID: <200111301004.LAA19672@pubhealth.ku.dk>

Quick workaround:

> fm2 <- glm(accuracy ~ proficiency * task + proficiency/learner, viet,
   family = binomial(), x=TRUE)
> anova(fm2)
Analysis of Deviance Table

Model: binomial, link: logit

Response: accuracy

Terms added sequentially (first to last)


                      Df Deviance Resid. Df Resid. Dev
NULL                                   5592     4921.9
proficiency            1     57.5      5591     4864.4
task                   4    131.7      5587     4732.6
proficiency:task       4     58.6      5583     4674.1
proficiency:learner    4     64.6      5579     4609.5

which looks more sensible.

The model matrix is being reconstructed incorrectly, hence the
discrepancies. I will look into that later.


On Thu, 29 Nov 2001 bates@stat.wisc.edu wrote:

> anova.glm does not calculate the degrees of freedom properly when an
> explicit contrast has been set on a factor and the contrast has fewer
> than (len(levels(thisfactor)) - 1) columns.
>
> > load("/p/stat/course/st849-bates/public/slides/figs/src/viet.rda")
> > fm1 <- glm(accuracy ~ proficiency * task + proficiency/learner, viet,
> +    family = binomial())
> > anova(fm1)
> Analysis of Deviance Table
>
> Model: binomial, link: logit
>
> Response: accuracy
>
> Terms added sequentially (first to last)
>
>
>                       Df Deviance Resid. Df Resid. Dev
> NULL                                   5592     4921.9
> proficiency            3     69.5      5589     4852.4
> task                   4    132.9      5585     4719.5
> proficiency:task      12     96.2      5573     4623.4
> proficiency:learner    2     35.0      5571     4588.4
> > contrasts(viet$proficiency, 1) <- contrasts(viet$proficiency)
> > contrasts(viet$proficiency)
>           .L
> l -0.6708204
> m -0.2236068
> h  0.2236068
> a  0.6708204
> > fm2 <- glm(accuracy ~ proficiency * task + proficiency/learner, viet,
> +   family = binomial())
> > anova(fm2)
> Analysis of Deviance Table
>
> Model: binomial, link: logit
>
> Response: accuracy
>
> Terms added sequentially (first to last)
>
>
>                       Df Deviance Resid. Df Resid. Dev
> NULL                                   5592     4921.9
> proficiency            3     69.5      5589     4852.4
> task                   4    132.9      5585     4719.5
> proficiency:task      12     96.2      5573     4623.4
> proficiency:learner   -6     13.9      5579     4609.5
>
> The degrees of freedom for proficiency should be 1, for
> proficiency:task should be 4 and for proficiency:learner should be 4.
>
> The coefficient count is correct.
>
> --please do not edit the information below--
>
> Version:
>  platform = i386-pc-linux-gnu
>  arch = i386
>  os = linux-gnu
>  system = i386, linux-gnu
>  status = Under development (unstable)
>  major = 1
>  minor = 4.0
>  year = 2001
>  month = 11
>  day = 28
>  language = R
>
> Search Path:
>  .GlobalEnv, package:Devore5, package:ctest, Autoloads, package:base
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Nov 30 10:54:02 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 30 Nov 2001 11:54:02 +0100 (MET)
Subject: [Rd] anova.glm and explicit contrast matrices (PR#1187)
Message-ID: <200111301054.LAA20310@pubhealth.ku.dk>

Now fixed (the bug was in model.matrix.default), and will commit once
I can get a clean test running on R-devel.

On Fri, 30 Nov 2001 ripley@stats.ox.ac.uk wrote:

> Quick workaround:
>
> > fm2 <- glm(accuracy ~ proficiency * task + proficiency/learner, viet,
>    family = binomial(), x=TRUE)
> > anova(fm2)
> Analysis of Deviance Table
>
> Model: binomial, link: logit
>
> Response: accuracy
>
> Terms added sequentially (first to last)
>
>
>                       Df Deviance Resid. Df Resid. Dev
> NULL                                   5592     4921.9
> proficiency            1     57.5      5591     4864.4
> task                   4    131.7      5587     4732.6
> proficiency:task       4     58.6      5583     4674.1
> proficiency:learner    4     64.6      5579     4609.5
>
> which looks more sensible.
>
> The model matrix is being reconstructed incorrectly, hence the
> discrepancies. I will look into that later.
>
>
> On Thu, 29 Nov 2001 bates@stat.wisc.edu wrote:
>
> > anova.glm does not calculate the degrees of freedom properly when an
> > explicit contrast has been set on a factor and the contrast has fewer
> > than (len(levels(thisfactor)) - 1) columns.
> >
> > > load("/p/stat/course/st849-bates/public/slides/figs/src/viet.rda")
> > > fm1 <- glm(accuracy ~ proficiency * task + proficiency/learner, viet,
> > +    family = binomial())
> > > anova(fm1)
> > Analysis of Deviance Table
> >
> > Model: binomial, link: logit
> >
> > Response: accuracy
> >
> > Terms added sequentially (first to last)
> >
> >
> >                       Df Deviance Resid. Df Resid. Dev
> > NULL                                   5592     4921.9
> > proficiency            3     69.5      5589     4852.4
> > task                   4    132.9      5585     4719.5
> > proficiency:task      12     96.2      5573     4623.4
> > proficiency:learner    2     35.0      5571     4588.4
> > > contrasts(viet$proficiency, 1) <- contrasts(viet$proficiency)
> > > contrasts(viet$proficiency)
> >           .L
> > l -0.6708204
> > m -0.2236068
> > h  0.2236068
> > a  0.6708204
> > > fm2 <- glm(accuracy ~ proficiency * task + proficiency/learner, viet,
> > +   family = binomial())
> > > anova(fm2)
> > Analysis of Deviance Table
> >
> > Model: binomial, link: logit
> >
> > Response: accuracy
> >
> > Terms added sequentially (first to last)
> >
> >
> >                       Df Deviance Resid. Df Resid. Dev
> > NULL                                   5592     4921.9
> > proficiency            3     69.5      5589     4852.4
> > task                   4    132.9      5585     4719.5
> > proficiency:task      12     96.2      5573     4623.4
> > proficiency:learner   -6     13.9      5579     4609.5
> >
> > The degrees of freedom for proficiency should be 1, for
> > proficiency:task should be 4 and for proficiency:learner should be 4.
> >
> > The coefficient count is correct.
> >
> > --please do not edit the information below--
> >
> > Version:
> >  platform = i386-pc-linux-gnu
> >  arch = i386
> >  os = linux-gnu
> >  system = i386, linux-gnu
> >  status = Under development (unstable)
> >  major = 1
> >  minor = 4.0
> >  year = 2001
> >  month = 11
> >  day = 28
> >  language = R
> >
> > Search Path:
> >  .GlobalEnv, package:Devore5, package:ctest, Autoloads, package:base
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
>
> --
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jmc@research.bell-labs.com  Fri Nov 30 15:12:15 2001
From: jmc@research.bell-labs.com (John Chambers)
Date: Fri, 30 Nov 2001 10:12:15 -0500
Subject: [Rd] New version of methods package
Message-ID: <3C07A1CF.36F9C171@research.bell-labs.com>

A new version of the package has been committed to the r-devel branch.

There are a lot of changes, mostly non-visible, many of those to tighten
up some possible problems.  For example, slot assignment now checks the
validity of the value being assigned, and basic classes cannot be
overriden.

There is a version of the promptClass function by Vince Carey, to
produce shell of documentation for a class.  (There is also a
promptMethods function to do the same for methods.)  One point to note
(it's a difference from Vince's original version) is that promptClass
and promptMethods produce alias's specialized for class and method
documentation.

For example, if you do promptClass("track"), the resulting file is
designed to produce help if the user types
  class?track
(In particular, this does not overwrite ordinary documentation for topic
"track".)

There is also some added general documentation on how things work; see
?Methods.  This will grow.

Also, the new version has a trial implementation of "congruent
arguments" for methods a la Dylan.  You can provide a method with only a
subset of the arguments of the generic.  The implication is that the
method is to be applied only if the omitted arguments are missing in the
actual call.  This notion is experimental (and not part of the API in
Programming with Data); we'll see if it works out.

John

-- 
John M. Chambers                  jmc@bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From A.Pout@macaulay.ac.uk  Fri Nov 30 17:52:34 2001
From: A.Pout@macaulay.ac.uk (A.Pout@macaulay.ac.uk)
Date: Fri, 30 Nov 2001 18:52:34 +0100 (MET)
Subject: [Rd] graphics device updating (PR#1189)
Message-ID: <200111301752.SAA25027@pubhealth.ku.dk>

Hi
problem:
     plot(xxx)
results in the graphics device window adding the axes values for what ever xxx is but failing to actually add lines or produce the plot until the consol window is activated and moved over the graphics window. The graphics window then shows what has been plotted. 
This started happening 4 days ago, up until that time plot(xxx) would produce the plot on the graphics device and update it as 'normal'. 
I have uninstalled and reinstalled R to no effect.

         _              
platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    3.1            
year     2001           
month    08             
day      31             
language R            

Many thanks for any ideas you might have on that

Alastair



Alastair Pout
PhD Student
The Macaulay Institute
Craigiebuckler
Aberdeen 
AB15 8QH
Tel: +(44) (0) 1224 498200 Ext 2428
e-mail: a.pout@macaulay.ac.uk



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Nov 30 18:02:57 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 30 Nov 2001 19:02:57 +0100 (MET)
Subject: [Rd] graphics device updating (PR#1189)
Message-ID: <200111301802.TAA25103@pubhealth.ku.dk>

On Fri, 30 Nov 2001 A.Pout@macaulay.ac.uk wrote:

> Hi
> problem:
>      plot(xxx)
> results in the graphics device window adding the axes values for what ever xxx is but failing to actually add lines or produce the plot until the consol window is activated and moved over the graphics window. The graphics window then shows what has been plotted.
> This started happening 4 days ago, up until that time plot(xxx) would produce the plot on the graphics device and update it as 'normal'.
> I have uninstalled and reinstalled R to no effect.
>
>          _
> platform i386-pc-mingw32
> arch     x86
> os       Win32
> system   x86, Win32
> status
> major    1
> minor    3.1
> year     2001
> month    08
> day      31
> language R
>
> Many thanks for any ideas you might have on that

This does not seem to be a reproducible bug, as defined in the FAQ.

Have you tried re-installing Windows?  Looks like something has corrupted
the graphics system on whatever Windows OS you have (and your report was
apparently not produced with bug.report on Windows, or it should have told
us).

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Nov  1 08:15:38 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 1 Nov 2001 09:15:38 +0100 (MET)
Subject: [Rd] strptime bug (PR#1155)
Message-ID: <200111010815.JAA22200@pubhealth.ku.dk>

On Wed, 31 Oct 2001, Rich Heiberger wrote:

> Where is the strptime bug happening?  I am seeing it on W95 W98 W2000
> running Rterm under ntemacs 21.1 with ESS 5.1.19 and using cygwin
> 2001/08/31 15:52:16 Starting cygwin install, version 2.78.2.3

It is happening on all glibc-based systems.  R on Windows uses glibc to
replace the missing functionality here.

> Is strptime using the bash from my system? or is it using functions
> that are included with R?

The second.

> R defaulted to 1900 when I didn't specify a year.  The 1990 came from
> the help(beav1).
>
> When I explicitly place a year in the file, either the 1990 inidcated
> in the help(beav1) file or the 1900 chosen to match the default, then
> R gives me times consistent with the input.

Yes, that's the bug.  According to the docs it should fail in all the
cases (which would be silly), but the code has at least two internal
logical mistakes.

It will be fixed in the next release.

> > tmp <- beav1[90:93,]
> > tmp
>    day time  temp activ
> 90 346 2340 36.93     0
> 91 346 2350 36.83     0
> 92 347    0 36.93     0
> 93 347   10 36.83     0
> > attach(tmp)
> > strptime(paste(day, time %/% 100, time %% 100), "%j %H %M")
> [1] "1900-01-01 23:40:00" "1900-01-01 23:50:00" "1900-01-01 00:00:00"
> [4] "1900-01-01 00:10:00"
> > strptime(paste(1900, day, time %/% 100, time %% 100), "%Y %j %H %M")
> [1] "1900-12-12 23:40:00" "1900-12-12 23:50:00" "1900-12-13 00:00:00"
> [4] "1900-12-13 00:10:00"
> > strptime(paste(1990, day, time %/% 100, time %% 100), "%Y %j %H %M")
> [1] "1990-12-12 23:40:00" "1990-12-12 23:50:00" "1990-12-13 00:00:00"
> [4] "1990-12-13 00:10:00"
> >
>
>
> Rich
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Nov  1 13:04:47 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 1 Nov 2001 13:04:47 +0000 (GMT)
Subject: [Rd] problem with help.start() in R (PR#1156)
In-Reply-To: <15328.19359.516985.522719@mithrandir.hornik.net>
Message-ID: <Pine.LNX.4.31.0111011258040.16868-100000@gannet.stats>

I tested Opera 5.0 under Linux (www.opera.com).  It worked with -remote
correctly.  What I did not get to work was the search engine, but I saw no
sign of Java support for Opera under Linux. (For Windows it is a separate
add-on.)

I've amended the documentation, but I do wonder if
help.start(browser="foo") should set options(browser="foo").

B

On Wed, 31 Oct 2001, Kurt Hornik wrote:

> >>>>> Dinh-Tuan Pham writes:
>
> > Prof Brian Ripley writes:
> >> On Wed, 31 Oct 2001 Dinh-Tuan.Pham@imag.fr wrote:
> >>
> >> >        The function help.start() assume that the brower is netscape
> >> > which is no longer the dominant brower in used. I am using now opera
> >>
> >> On what operating system is this?  On Unix/Linux you should be using
> >> options(browser="opera").  On Windows/Mac you can't set the browser
> >> anyway.
>
> > on Linux, actually
>
> >> > help.start(browser="opera"), but it is not convenience: I would like
> >> > to be able to set the default brwsernone for all. But the real bug is
> >> > that even after launching help.start(browser="opera"), other help
> >> > commands, help(help), say, still send the "help page" to netscape. Here
> >> > is what I get
> >> >
> >> > > help.start(browser="opera")
> >> > If opera  is already running,   it is *not* restarted,
> >> >  and you must switch to its window.
> >> > Otherwise, be patient..
> >> > > help(help)
> >> > help() for help  is shown in browser netscape ...
> >> > Use      help( help , htmlhelp=FALSE)
> >> > or       options(htmlhelp = FALSE)
> >> > to revert.
> >> > > sh: netscape: command not found
> >> >
> >> > Please correct this bug.
> >>
> >> I don't think it is a bug in R but I have expanded the documentation.
> >>
> >> Please do use the bug.report() function, as critical information is
> >> missing from this report.
>
> > I am sorry not having looked carefully on the documentation. But the
> > first thing I do is to launch help.start() and be stuck with an
> > inexistent browser. I have imagined that help.start(browser="opera")
> > would set the browser to opera, but I am wrong and the browser must be
> > set by options(browser="opera"), a feature which I am not aware of.
> > Nevertheless, I find this rather confusing for a new user: if
> > options(browser="opera") should always be used to set the browser,
> > then the argument browser="opera" in help.start would never be needed.
>
> The documentation issue may be unfortunate, but there is really no point
> unless we find browsers other than Netscape which can be controlled
> remotely.  I have been raising this issue a couple of times, last time
> about three months ago or so.  Mozilla then claimed to support -remote
> as Netscape does but really did not.  Konqueror does not allow being
> sent URLs remotely, and neither does gnome-help-browser.  Not sure about
> Opera ... do you have more info?
>
> -k
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Nov  1 16:25:16 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 1 Nov 2001 16:25:16 +0000 (GMT)
Subject: [Rd] problem with help.start() in R (PR#1156)
In-Reply-To: <Pine.LNX.4.31.0111011258040.16868-100000@gannet.stats>
Message-ID: <Pine.LNX.4.31.0111011624130.6232-100000@gannet.stats>

Follow-up: netscape 6.2 (announced on Tuesday) does support -remote, so
perhaps mozilla does now / will soon.

Brian


On Thu, 1 Nov 2001, Prof Brian Ripley wrote:

> I tested Opera 5.0 under Linux (www.opera.com).  It worked with -remote
> correctly.  What I did not get to work was the search engine, but I saw no
> sign of Java support for Opera under Linux. (For Windows it is a separate
> add-on.)
>
> I've amended the documentation, but I do wonder if
> help.start(browser="foo") should set options(browser="foo").
>
> B
>
> On Wed, 31 Oct 2001, Kurt Hornik wrote:
>
> > >>>>> Dinh-Tuan Pham writes:
> >
> > > Prof Brian Ripley writes:
> > >> On Wed, 31 Oct 2001 Dinh-Tuan.Pham@imag.fr wrote:
> > >>
> > >> >        The function help.start() assume that the brower is netscape
> > >> > which is no longer the dominant brower in used. I am using now opera
> > >>
> > >> On what operating system is this?  On Unix/Linux you should be using
> > >> options(browser="opera").  On Windows/Mac you can't set the browser
> > >> anyway.
> >
> > > on Linux, actually
> >
> > >> > help.start(browser="opera"), but it is not convenience: I would like
> > >> > to be able to set the default brwsernone for all. But the real bug is
> > >> > that even after launching help.start(browser="opera"), other help
> > >> > commands, help(help), say, still send the "help page" to netscape. Here
> > >> > is what I get
> > >> >
> > >> > > help.start(browser="opera")
> > >> > If opera  is already running,   it is *not* restarted,
> > >> >  and you must switch to its window.
> > >> > Otherwise, be patient..
> > >> > > help(help)
> > >> > help() for help  is shown in browser netscape ...
> > >> > Use      help( help , htmlhelp=FALSE)
> > >> > or       options(htmlhelp = FALSE)
> > >> > to revert.
> > >> > > sh: netscape: command not found
> > >> >
> > >> > Please correct this bug.
> > >>
> > >> I don't think it is a bug in R but I have expanded the documentation.
> > >>
> > >> Please do use the bug.report() function, as critical information is
> > >> missing from this report.
> >
> > > I am sorry not having looked carefully on the documentation. But the
> > > first thing I do is to launch help.start() and be stuck with an
> > > inexistent browser. I have imagined that help.start(browser="opera")
> > > would set the browser to opera, but I am wrong and the browser must be
> > > set by options(browser="opera"), a feature which I am not aware of.
> > > Nevertheless, I find this rather confusing for a new user: if
> > > options(browser="opera") should always be used to set the browser,
> > > then the argument browser="opera" in help.start would never be needed.
> >
> > The documentation issue may be unfortunate, but there is really no point
> > unless we find browsers other than Netscape which can be controlled
> > remotely.  I have been raising this issue a couple of times, last time
> > about three months ago or so.  Mozilla then claimed to support -remote
> > as Netscape does but really did not.  Konqueror does not allow being
> > sent URLs remotely, and neither does gnome-help-browser.  Not sure about
> > Opera ... do you have more info?
> >
> > -k
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
>
> --
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@nokomis.stat.umn.edu  Thu Nov  1 16:35:55 2001
From: luke@nokomis.stat.umn.edu (Luke Tierney)
Date: Thu, 1 Nov 2001 10:35:55 -0600
Subject: [Rd] problem with help.start() in R (PR#1156)
In-Reply-To: <Pine.LNX.4.31.0111011624130.6232-100000@gannet.stats>; from ripley@stats.ox.ac.uk on Thu, Nov 01, 2001 at 04:25:16PM +0000
References: <Pine.LNX.4.31.0111011258040.16868-100000@gannet.stats> <Pine.LNX.4.31.0111011624130.6232-100000@gannet.stats>
Message-ID: <20011101103555.A27017@nokomis.stat.umn.edu>

The Python web browrer stuff has a pointer to
http://developer.kde.org/documentation/other/kfmclient.html for info
on the Konquerer remote-control interface and uses

    def _remote(self, action):
        cmd = "kfmclient %s >/dev/null 2>&1" % action
        rc = os.system(cmd)
        if rc:
            import time
            if self.basename == "konqueror":
                os.system(self.name + " --silent &")
            else:
                os.system(self.name + " -d &")
            time.sleep(PROCESS_CREATION_DELAY)
            rc = os.system(cmd)
        return not rc

in case anyone wants to look into supporting Konqueror.

luke

On Thu, Nov 01, 2001 at 04:25:16PM +0000, Prof Brian Ripley wrote:
> Follow-up: netscape 6.2 (announced on Tuesday) does support -remote, so
> perhaps mozilla does now / will soon.
> 
> Brian
> 
> 
> On Thu, 1 Nov 2001, Prof Brian Ripley wrote:
> 
> > I tested Opera 5.0 under Linux (www.opera.com).  It worked with -remote
> > correctly.  What I did not get to work was the search engine, but I saw no
> > sign of Java support for Opera under Linux. (For Windows it is a separate
> > add-on.)
> >
> > I've amended the documentation, but I do wonder if
> > help.start(browser="foo") should set options(browser="foo").
> >
> > B
> >
> > On Wed, 31 Oct 2001, Kurt Hornik wrote:
> >
> > > >>>>> Dinh-Tuan Pham writes:
> > >
> > > > Prof Brian Ripley writes:
> > > >> On Wed, 31 Oct 2001 Dinh-Tuan.Pham@imag.fr wrote:
> > > >>
> > > >> >        The function help.start() assume that the brower is netscape
> > > >> > which is no longer the dominant brower in used. I am using now opera
> > > >>
> > > >> On what operating system is this?  On Unix/Linux you should be using
> > > >> options(browser="opera").  On Windows/Mac you can't set the browser
> > > >> anyway.
> > >
> > > > on Linux, actually
> > >
> > > >> > help.start(browser="opera"), but it is not convenience: I would like
> > > >> > to be able to set the default brwsernone for all. But the real bug is
> > > >> > that even after launching help.start(browser="opera"), other help
> > > >> > commands, help(help), say, still send the "help page" to netscape. Here
> > > >> > is what I get
> > > >> >
> > > >> > > help.start(browser="opera")
> > > >> > If opera  is already running,   it is *not* restarted,
> > > >> >  and you must switch to its window.
> > > >> > Otherwise, be patient..
> > > >> > > help(help)
> > > >> > help() for help  is shown in browser netscape ...
> > > >> > Use      help( help , htmlhelp=FALSE)
> > > >> > or       options(htmlhelp = FALSE)
> > > >> > to revert.
> > > >> > > sh: netscape: command not found
> > > >> >
> > > >> > Please correct this bug.
> > > >>
> > > >> I don't think it is a bug in R but I have expanded the documentation.
> > > >>
> > > >> Please do use the bug.report() function, as critical information is
> > > >> missing from this report.
> > >
> > > > I am sorry not having looked carefully on the documentation. But the
> > > > first thing I do is to launch help.start() and be stuck with an
> > > > inexistent browser. I have imagined that help.start(browser="opera")
> > > > would set the browser to opera, but I am wrong and the browser must be
> > > > set by options(browser="opera"), a feature which I am not aware of.
> > > > Nevertheless, I find this rather confusing for a new user: if
> > > > options(browser="opera") should always be used to set the browser,
> > > > then the argument browser="opera" in help.start would never be needed.
> > >
> > > The documentation issue may be unfortunate, but there is really no point
> > > unless we find browsers other than Netscape which can be controlled
> > > remotely.  I have been raising this issue a couple of times, last time
> > > about three months ago or so.  Mozilla then claimed to support -remote
> > > as Netscape does but really did not.  Konqueror does not allow being
> > > sent URLs remotely, and neither does gnome-help-browser.  Not sure about
> > > Opera ... do you have more info?
> > >
> > > -k
> > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > > r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> > > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> > >
> >
> > --
> > Brian D. Ripley,                  ripley@stats.ox.ac.uk
> > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > University of Oxford,             Tel:  +44 1865 272861 (self)
> > 1 South Parks Road,                     +44 1865 272860 (secr)
> > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke@stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossini@u.washington.edu  Thu Nov  1 16:40:03 2001
From: rossini@u.washington.edu (A.J. Rossini)
Date: 01 Nov 2001 08:40:03 -0800
Subject: [Rd] problem with help.start() in R (PR#1156)
In-Reply-To: <Pine.LNX.4.31.0111011624130.6232-100000@gannet.stats>
References: <Pine.LNX.4.31.0111011624130.6232-100000@gannet.stats>
Message-ID: <87ofmmmom4.fsf@jeeves.blindglobe.net>

>>>>> "BR" == Brian Ripley <Prof> writes:

    BR> Follow-up: netscape 6.2 (announced on Tuesday) does support
    BR> -remote, so perhaps mozilla does now / will soon.

rossini 54 > mozilla -remote "openurl(http://software/)"
rossini 56 > mozilla -version
Mozilla/5.0 (X11; U; Linux i686; en-US; rv:0.9.5) Gecko/20011023, build 2001102304
rossini 57 > 

So it does (0.9.5, from Debian/Sid), but the format is javascript-ish...

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini@u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini@scharp.org
-------------- http://software.biostat.washington.edu/ --------------
FHCRC: M-W: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   T-Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
Rosen: (Mullins' Lab) Fridays, and I'm unreachable except by email.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gml4410@ggr.co.uk  Thu Nov  1 17:30:41 2001
From: gml4410@ggr.co.uk (gml4410@ggr.co.uk)
Date: Thu, 1 Nov 2001 18:30:41 +0100 (MET)
Subject: [Rd] Update on report PR#1145 (with a cross-reference to PR#1026).
Message-ID: <200111011730.SAA02312@pubhealth.ku.dk>

   The original report was that compiling with gcc2.95.2 gcc and the
related g77 on Irix 6.,5.13 produced an R which wailed its tests with:

>> On entry to DGEMM  parameter number 1 had an illegal value

   To some extend this confused me, as the source only seems to mention
DGEMM in lowercase.  Eventually, after the debug code I added did
nothing, I realized that the R which was build was not using the
src/appl/blas.f source file: it was using the SGI libblas.

   My suspicion is that this is the cause.  The man page for this
mentions there is a C interface for dgemm but that it uses an enumerated
variable for the first 2 parameters in place of character strings.  I
thing things got mixed up somewhere along the line (perhaps with the
number of "_" appended to external symbils?).

   So, I tried configuring while adding "--without-blas" to the config  
options. This resulted in a SIGSEGV in the modreg test.  (See bug report
PR#1026, which also mentions this).

   So, a further try, this time using the compilers, cc anf f77 while  
still specifying "--without-blas" (so that the SGI libblas is ignored).

   This ran through the tests without crashing.  There were a few minor
differences in the print-tests output, but all at the "0 vs.  10**-300"
level, ie: floating point inaccuracies (which I presume are Ok and any
good statistician will ignore?).

==========
comparing `print-tests.Rout' to `./print-tests.Rout.save'
...259c259
< [1]  0.000000e+00 2.225074e-308 2.225074e-308 2.227299e-308
2.447581e-308
---
> [1] 2.002566e-308 2.222849e-308 2.225074e-308 2.225074e-308 2.225074e-308 2.2$
==========

   and 16 occurrences of:

==========
^H: syntax error
========== 
at the end.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Nov  1 17:47:16 2001
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 01 Nov 2001 12:47:16 -0500
Subject: [Rd] gcc 3.0.1 problems?
Message-ID: <3BE18AA4.586ED0A3@bank-banque-canada.ca>

It is very likely my system is messed up, but I mention this in the event that
others are having similar problems:

On Solaris  I am experiencing a segmentation fault when trying to load my
fortran .so code after I have compiled R with gcc 3.0.1, but not when I compile
with 2.95.2. (Both R 1.3.1 and R-devel.)

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Nov  1 17:57:22 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 1 Nov 2001 17:57:22 +0000 (GMT Standard Time)
Subject: [Rd] gcc 3.0.1 problems?
In-Reply-To: <3BE18AA4.586ED0A3@bank-banque-canada.ca>
Message-ID: <Pine.WNT.4.31.0111011755450.1332-100000@gannet>

On Thu, 1 Nov 2001, Paul Gilbert wrote:

> It is very likely my system is messed up, but I mention this in the event that
> others are having similar problems:
>
> On Solaris  I am experiencing a segmentation fault when trying to load my
> fortran .so code after I have compiled R with gcc 3.0.1, but not when I compile
> with 2.95.2. (Both R 1.3.1 and R-devel.)

I've build R and lots of packages on Solaris with 3.0.1 without any
problem.

BTW 3.0.2 is the current release (as of yesterday or so), and I've build
R with that too.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Timothy.Keitt@stonybrook.edu  Thu Nov  1 18:14:47 2001
From: Timothy.Keitt@stonybrook.edu (Timothy H. Keitt)
Date: Thu, 01 Nov 2001 13:14:47 -0500
Subject: [Rd] migration to common runtime?
Message-ID: <3BE19117.8060802@StonyBrook.Edu>

I'm curious if any of the core R developers have considered the 
possibility of hosting R (v2?) on the parrot common runtime environment. 
Perl6 will generate byte-code for parrot, as will some future version of 
python. I can imagine both drawbacks and advantages. Some advantages 
would be fast byte-code execution and freely mixing perl, python and R 
modules. Anyone looked into this?

Tim

-- 
Timothy H. Keitt
Department of Ecology and Evolution
State University of New York at Stony Brook
Stony Brook, New York 11794 USA
Phone: 631-632-1101, FAX: 631-632-7626
http://life.bio.sunysb.edu/ee/keitt/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@nokomis.stat.umn.edu  Thu Nov  1 18:34:00 2001
From: luke@nokomis.stat.umn.edu (Luke Tierney)
Date: Thu, 1 Nov 2001 12:34:00 -0600
Subject: [Rd] migration to common runtime?
In-Reply-To: <3BE19117.8060802@StonyBrook.Edu>; from Timothy.Keitt@stonybrook.edu on Thu, Nov 01, 2001 at 01:14:47PM -0500
References: <3BE19117.8060802@StonyBrook.Edu>
Message-ID: <20011101123400.A27523@nokomis.stat.umn.edu>

On Thu, Nov 01, 2001 at 01:14:47PM -0500, Timothy H. Keitt wrote:
> I'm curious if any of the core R developers have considered the 
> possibility of hosting R (v2?) on the parrot common runtime environment. 
> Perl6 will generate byte-code for parrot, as will some future version of 
> python. I can imagine both drawbacks and advantages. Some advantages 
> would be fast byte-code execution and freely mixing perl, python and R 
> modules. Anyone looked into this?
> 
> Tim
> 

Not specifically parrot (not sure I'd want to bet the farm on that
until it's a bit more mature), but the byte code compilation ideas
some of us have been looking at would be designed with multiple
runtime targets in mind, so that may well be an option to consider.

luke

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke@stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Nov  1 19:41:32 2001
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 01 Nov 2001 14:41:32 -0500
Subject: [Rd] Segmentation Fault
Message-ID: <3BE1A56C.609F7BF@bank-banque-canada.ca>

On Solaris, the example below sometimes, but not always, cause "bus Error - core
dumped" or "Segmentation Fault - core dumped" when I compile R 1.3.1 with gcc
3.0.1, but not when I compile with gcc 2.92.2.  There remains the probability
that my system is messed up, but I would appreciate if others could check
whether this gives a problem.

Paul Gilbert

zz <- t(matrix(c(
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.082008166, -0.066322053,
-0.115616348,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.038919428,  0.009703382,
0.115944209,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.007823026, -0.068859673,
0.025264756,
1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.067027108,  0.087934957,
-0.316974768,
0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.024890008,  0.052195412,
-0.015138322,
0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.028192857, -0.004832597,
0.207879665,
0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.078706928, -0.012801413,
0.425960682,
0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.102169750,  0.163238356,
-0.150373125,
0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.002685166,  0.014355904,
0.197912183,
0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0,  0.042937314,  0.115719388,
0.679370293,
0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0,  0.032306141,  0.263227910,
0.009171148,
0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0,  0.008238734, -0.031480706,
0.051976566,
0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0,  0.015219148,  0.221345314,
0.020146770,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0,  0.039741608,  0.092955553,
-0.262550823,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0,  0.012624418,  0.047810873,
0.201673308,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, -0.114163303,  0.417786916,
0.253110874,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0,  0.049894329, -0.155696562,
-0.049735728,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1,  0.006112607,  0.074242237,
0.034046467
), 18,18))

eigen(zz)$values


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kleiweg@let.rug.nl  Thu Nov  1 21:15:40 2001
From: kleiweg@let.rug.nl (Peter Kleiweg)
Date: Thu, 1 Nov 2001 22:15:40 +0100 (CET)
Subject: [Rd] Erratic behaviour of sammon()
Message-ID: <Pine.LNX.4.33.0111012154270.1143-100000@kleigh.nl>


I'm not sure this list is the right place for this thing.

I noticed some erratic behaviour in sammon(). Running sammon on
two nearly identical sets of data results in very different
results. Below is an example. I create an initial configuration
with cmdscale() and store it into 'vec1'. I write this to file,
and read it back in again to 'vec2'. According to cor() on the
three columns of 'vec1' and 'vec2', they are identical. However,
if I use sammon() with initialising from 'vec1' or 'vec2', I get
different results. (SAMMON() is a wrapper function).

This I did on a Linux machine (R version 1.3.1):

	> dst <- ReadDistFile("PA.lnk")
	Loading required package: mva
	> vec1 <- MDS(dst, 3)
	> WriteVectorFile(vec1, "outfile")
	> vec2 <- ReadVectorFile("outfile")
	> cor(vec1[,1], vec2[,1])
	[1] 1
	> cor(vec1[,2], vec2[,2])
	[1] 1
	> cor(vec1[,3], vec2[,3])
	[1] 1
	> v1 <- SAMMON(dst, 3, y=vec1)
	Loading required package: MASS
	Initial stress        : 0.20243
	stress after  10 iters: 0.11869, magic = 0.018
	stress after  20 iters: 0.07572, magic = 0.043
	stress after  30 iters: 0.05346, magic = 0.491
	stress after  40 iters: 0.04985, magic = 0.500
	stress after  50 iters: 0.04945, magic = 0.500
	stress after  60 iters: 0.04931, magic = 0.500
	stress after  70 iters: 0.04925, magic = 0.500
	> v2 <- SAMMON(dst, 3, y=vec2)
	Initial stress        : 0.20243
	stress after  10 iters: 0.11869, magic = 0.018
	stress after  20 iters: 0.07572, magic = 0.043
	stress after  30 iters: 0.05369, magic = 0.491
	stress after  30 iters: 0.05369
	> cor(v1[,1], v2[,1])
	[1] 0.958089
	> cor(v1[,2], v2[,2])
	[1] 0.979837
	> cor(v1[,3], v2[,3])
	[1] 0.9412055

I also tried it on HP-UX, and got different results again:

	> dst <- ReadDistFile("PA.lnk")
	Loading required package: mva
	> vec1 <- MDS(dst, 3)
	> WriteVectorFile(vec1, "outfile")
	> vec2 <- ReadVectorFile("outfile")
	> cor(vec1[,1], vec2[,1])
	[1] 1
	> cor(vec1[,2], vec2[,2])
	[1] 1
	> cor(vec1[,3], vec2[,3])
	[1] 1
	> v1 <- SAMMON(dst, 3, y=vec1)
	Loading required package: MASS
	Initial stress        : 0.20243
	stress after  10 iters: 0.11869, magic = 0.018
	stress after  20 iters: 0.07572, magic = 0.043
	stress after  28 iters: 0.06761
	> v2 <- SAMMON(dst, 3, y=vec2)
	Initial stress        : 0.20243
	stress after  10 iters: 0.11869, magic = 0.018
	stress after  20 iters: 0.07572, magic = 0.043
	stress after  30 iters: 0.06719, magic = 0.020
	stress after  40 iters: 0.06115, magic = 0.009
	stress after  50 iters: 0.05198, magic = 0.500
	stress after  60 iters: 0.04968, magic = 0.500
	stress after  70 iters: 0.04933, magic = 0.500
	stress after  80 iters: 0.04924, magic = 0.225
	> cor(v1[,1], v2[,1])
	[1] 0.9106865
	> cor(v1[,2], v2[,2])
	[1] 0.9727502
	> cor(v1[,3], v2[,3])
	[1] 0.9411287

I even tried compiling with gcc with and without optimisation,
and I got different results for exactly the same input (no
saving to file first).

So, I gather that sammon() is an unstable function, extremely
sensitive to the tiniest of variations. Is this inherent to the
sammon algorithm, or is there something wrong with how it is
implemented in R?

-- 
Peter Kleiweg
http://www.let.rug.nl/~kleiweg/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rolf@maths.uwa.edu.au  Fri Nov  2 01:44:05 2001
From: rolf@maths.uwa.edu.au (rolf@maths.uwa.edu.au)
Date: Fri, 2 Nov 2001 02:44:05 +0100 (MET)
Subject: [Rd] identify(...plot=F) (PR#1157)
Message-ID: <200111020144.CAA04490@pubhealth.ku.dk>


If I execute, e.g.

> x <- round(runif(20,0,1),2)
> y <- round(runif(20,0,1),2)
> plot(x,y,xlim=c(0,1),ylim=c(0,1))
> identify(x,y,n=1,plot=F)

then I get the index of the identified point printed in the command
window, and ***initially*** the index is NOT displayed in the
graphics window (which is the behaviour I had hoped and expected
to obtain by setting ``plot=F'').

BUT THEN if I lower and then raise the graphics window, poof!!!
the index appears, unwanted, in the plot.

I think a workaround is to issue the identify command as

> identify(x,y,n=1,col=0)

but still, shouldn't the function work as advertized?

Version information:

platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    3.1              
year     2001             
month    08               
day      31               
language R

                                cheers,

                                        Rolf Turner

Usual address:     rolf@math.unb.ca
Current address:   rolf@maths.uwa.edu.au

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Nov  2 08:09:38 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 2 Nov 2001 08:09:38 +0000 (GMT)
Subject: [Rd] Erratic behaviour of sammon()
In-Reply-To: <Pine.LNX.4.33.0111012154270.1143-100000@kleigh.nl>
Message-ID: <Pine.LNX.4.31.0111020806320.2198-100000@gannet.stats>

On Thu, 1 Nov 2001, Peter Kleiweg wrote:

> I'm not sure this list is the right place for this thing.

Nor am I, especially with the subject: it seems that it is repeatable from
what you actually reported.

> I noticed some erratic behaviour in sammon(). Running sammon on
> two nearly identical sets of data results in very different
> results. Below is an example. I create an initial configuration
> with cmdscale() and store it into 'vec1'. I write this to file,
> and read it back in again to 'vec2'. According to cor() on the
> three columns of 'vec1' and 'vec2', they are identical. However,
> if I use sammon() with initialising from 'vec1' or 'vec2', I get
> different results. (SAMMON() is a wrapper function).

[...]

> So, I gather that sammon() is an unstable function, extremely
> sensitive to the tiniest of variations. Is this inherent to the
> sammon algorithm, or is there something wrong with how it is
> implemented in R?

It is inherent to the Sammon algorithm, on some datasets.
There are lots of similar phenomena in real-life statistics away from
convex optimization problems.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Fri Nov  2 10:32:02 2001
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Fri, 2 Nov 2001 11:32:02 +0100
Subject: [Rd] problem with help.start() in R (PR#1156)
In-Reply-To: <87ofmmmom4.fsf@jeeves.blindglobe.net>
References: <Pine.LNX.4.31.0111011624130.6232-100000@gannet.stats>
 <87ofmmmom4.fsf@jeeves.blindglobe.net>
Message-ID: <15330.30242.985067.492142@gargle.gargle.HOWL>

>>>>> "tony" == A J Rossini <rossini@blindglobe.net> writes:

>>>>> "BR" == Brian Ripley <Prof> writes:
    BR> Follow-up: netscape 6.2 (announced on Tuesday) does support
    BR> -remote, so perhaps mozilla does now / will soon.

    tony> rossini 54 > mozilla -remote "openurl(http://software/)"
    tony> rossini 56 > mozilla -version
    tony> Mozilla/5.0 (X11; U; Linux i686; en-US; rv:0.9.5) Gecko/20011023, build 2001102304
    tony> rossini 57 > 

great!  thank you, Tony.

My Redhat 7.1 (+ newer(?) Ximian) mozilla version is also 5.0, two months
older than yours and does work the same.

    tony> So it does (0.9.5, from Debian/Sid), but the format is
    tony> javascript-ish...

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Dinh-Tuan.Pham@imag.fr  Fri Nov  2 12:44:05 2001
From: Dinh-Tuan.Pham@imag.fr (Dinh-Tuan.Pham@imag.fr)
Date: Fri, 2 Nov 2001 13:44:05 +0100
Subject: [Rd] problem with help.start() in R (PR#1156)
Message-ID: <15330.38165.699375.993226@guepard.imag.fr>

Prof Brian Ripley writes:
 > I tested Opera 5.0 under Linux (www.opera.com). It worked with -remote
 > correctly. What I did not get to work was the search engine, but I saw
 > no sign of Java support for Opera under Linux. (For Windows it is a
 > separate add-on.)

I rarely used R with remote display, so it is not a concern for me.
But indeed, there is no support for Java in Opera under Linux. I am not
aware that the search engine (in R ?) need Java support. Hopefully
this support will be added in later version of Opera.
 
 > I've amended the documentation, but I do wonder if
 > help.start(browser="foo") should set options(browser="foo").

My point is that if one launches help.start(browser="foo"), it means
that one would like to use foo as browser, so default browser should
be set to foo.

-- 
PHAM Dinh Tuan                         | e-mail: Dinh-Tuan.Pham@imag.fr
Laboratoire de Modelisation et Calcul  | Tel: +33 4 76 51 44 23
BP 53, 38041 Grenoble cedex 9 (France) | Fax: +33 4 76 63 12 63
-----------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Nov  2 13:05:03 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 2 Nov 2001 13:05:03 +0000 (GMT)
Subject: [Rd] problem with help.start() in R (PR#1156)
In-Reply-To: <15330.38165.699375.993226@guepard.imag.fr>
Message-ID: <Pine.LNX.4.31.0111021303020.7084-100000@gannet.stats>

On Fri, 2 Nov 2001 Dinh-Tuan.Pham@imag.fr wrote:

> Prof Brian Ripley writes:
>  > I tested Opera 5.0 under Linux (www.opera.com). It worked with -remote
>  > correctly. What I did not get to work was the search engine, but I saw
>  > no sign of Java support for Opera under Linux. (For Windows it is a
>  > separate add-on.)
>
> I rarely used R with remote display, so it is not a concern for me.

That's not what -remote is used for.  It allows you to open a file in an
already-running version of the browser.

> But indeed, there is no support for Java in Opera under Linux. I am not
> aware that the search engine (in R ?) need Java support. Hopefully
> this support will be added in later version of Opera.
>
>  > I've amended the documentation, but I do wonder if
>  > help.start(browser="foo") should set options(browser="foo").
>
> My point is that if one launches help.start(browser="foo"), it means
> that one would like to use foo as browser, so default browser should
> be set to foo.
>
> --
> PHAM Dinh Tuan                         | e-mail: Dinh-Tuan.Pham@imag.fr
> Laboratoire de Modelisation et Calcul  | Tel: +33 4 76 51 44 23
> BP 53, 38041 Grenoble cedex 9 (France) | Fax: +33 4 76 63 12 63
> -----------------------------------------------------------------------
>
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From andy_liaw@merck.com  Fri Nov  2 13:21:12 2001
From: andy_liaw@merck.com (Liaw, Andy)
Date: Fri, 02 Nov 2001 08:21:12 -0500
Subject: [Rd] Look, Watson!  La.svd & ATLAS
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC8350@usrymx10.merck.com>

Dear R-devel,

I had attempted to compile r-devel (dated Oct. 31, 2001) on WinNT with link
to ATLAS, with mostly success.  However, when I tried the following, I got a
visit from Dr. Watson:


R : Copyright 2001, The R Development Core Team
Version 1.4.0 Under development (unstable) (2001-10-31)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type `license()' or `licence()' for distribution details.

R is a collaborative project with many contributors.
Type `contributors()' for more information.

Type `demo()' for some demos, `help()' for on-line help, or
`help.start()' for a HTML browser interface to help.
Type `q()' to quit R.

> set.seed(1)
> x <- matrix(runif(1e4), 1e2, 1e2)
> invisible(La.svd(x))                         # This ran fine.
> x <- matrix(runif(1e5), 1e3, 1e2)
> invisible(La.svd(x))

(Dr. Watson says there's an access violation.)

So far La.svd is the only thing I know of that generates Dr. Watson.

The version info:
         _                           
platform i386-pc-mingw32             
arch     x86                         
os       Win32                       
system   x86, Win32                  
status   Under development (unstable)
major    1                           
minor    4.0                         
year     2001                        
month    10                          
day      31                          
language R                           

Other info:
Hardware: PIII 900MHz w/256mb ram (IBM ThinkPad T22)
ATLAS-3.2.1 compiled from source using cygwin (gcc 2.95.3-5), using default
setting for PIIISSE1
R-devel compiled with mingw gcc 2.95.3-6

Can anyone provide some hint?  Could it be that I just got a bad snapshot of
R-devel?

TIA,
Andy

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Fri Nov  2 14:27:01 2001
From: bates@stat.wisc.edu (Douglas Bates)
Date: 02 Nov 2001 08:27:01 -0600
Subject: [Rd] Look, Watson!  La.svd & ATLAS
In-Reply-To: <51F9C42DA15CD311BD220008C707D81903DC8350@usrymx10.merck.com>
References: <51F9C42DA15CD311BD220008C707D81903DC8350@usrymx10.merck.com>
Message-ID: <6rwv198czu.fsf@franz.stat.wisc.edu>

"Liaw, Andy" <andy_liaw@merck.com> writes:

> Dear R-devel,
> 
> I had attempted to compile r-devel (dated Oct. 31, 2001) on WinNT with link
> to ATLAS, with mostly success.  However, when I tried the following, I got a
> visit from Dr. Watson:
> 
> 
> R : Copyright 2001, The R Development Core Team
> Version 1.4.0 Under development (unstable) (2001-10-31)
> 
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type `license()' or `licence()' for distribution details.
> 
> R is a collaborative project with many contributors.
> Type `contributors()' for more information.
> 
> Type `demo()' for some demos, `help()' for on-line help, or
> `help.start()' for a HTML browser interface to help.
> Type `q()' to quit R.
> 
> > set.seed(1)
> > x <- matrix(runif(1e4), 1e2, 1e2)
> > invisible(La.svd(x))                         # This ran fine.
> > x <- matrix(runif(1e5), 1e3, 1e2)
> > invisible(La.svd(x))
> 
> (Dr. Watson says there's an access violation.)

I was able to run those examples without ill effects on an R-1.4.0
(development) (2001-10-30) with Atlas 3.2.1 on a Linux system (Debian
testing)

> set.seed(1)
> x <- matrix(runif(1e4), 1e2, 1e2)
> invisible(La.svd(x))
> x <- matrix(runif(1e5), 1e3, 1e2)
> invisible(La.svd(x))
> x <- matrix(runif(1e4), 1e2, 1e2)
> system.time(invisible(La.svd(x)))
[1] 0.04 0.00 0.04 0.00 0.00
> x <- matrix(runif(1e5), 1e3, 1e2)
> system.time(invisible(La.svd(x)))
[1] 1.15 0.01 2.39 0.00 0.00
> system.time(La.svd(x, nu = 0, nv = 0))
[1] 0.33 0.00 0.63 0.00 0.00
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jmc@research.bell-labs.com  Fri Nov  2 14:30:09 2001
From: jmc@research.bell-labs.com (John Chambers)
Date: Fri, 02 Nov 2001 09:30:09 -0500
Subject: [Rd] Changes to the methods package
Message-ID: <3BE2ADF1.FBD47E89@research.bell-labs.com>

I'm about to commit some changes to the methods package.  Before
downloading the revised code, note the following.

Because the changes involve a revised version of storage for the methods
definitions, you will need to re-install any packages that contain
method definitions, from their source code.  Otherwise the methods will
look as if they've disappeared from the generic functions.

The main changes:

- validObject has been added, so that validity methods can be included
in or added to class definitions, as described in the green book.  No
automatic validation yet, because we need to discuss when & how it would
be triggered.

- the as() mechanism has been entirely re-implemented to be closer to
the API in the book (and to have fewer bugs :-)).

- getClass() and new() are fussier about being handed undefined classes;
these usually generate an error now.

- getGenerics has been added, along with the arguments to showMethods
that use it to display methods for multiple generics and/or restricted
to certain classes.

John

-- 
John M. Chambers                  jmc@bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Dinh-Tuan.Pham@imag.fr  Fri Nov  2 14:44:59 2001
From: Dinh-Tuan.Pham@imag.fr (Dinh-Tuan.Pham@imag.fr)
Date: Fri, 2 Nov 2001 15:44:59 +0100
Subject: [Rd] problem with help.start() in R (PR#1156)
In-Reply-To: <Pine.LNX.4.31.0111021303020.7084-100000@gannet.stats>
References: <15330.38165.699375.993226@guepard.imag.fr>
 <Pine.LNX.4.31.0111021303020.7084-100000@gannet.stats>
Message-ID: <15330.45419.900439.976561@guepard.imag.fr>

Prof Brian Ripley writes:
 > >
 > > I rarely used R with remote display, so it is not a concern for me.
 > 
 > That's not what -remote is used for.  It allows you to open a file in an
 > already-running version of the browser.
 > 

Sorry for my confusion. As for opening a file (or URL) in a running
opera, it works.

Thank for your patience.

-- 
PHAM Dinh Tuan                         | e-mail: Dinh-Tuan.Pham@imag.fr
Laboratoire de Modelisation et Calcul  | Tel: +33 4 76 51 44 23
BP 53, 38041 Grenoble cedex 9 (France) | Fax: +33 4 76 63 12 63
-----------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Sat Nov  3 18:59:06 2001
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Sat, 03 Nov 2001 13:59:06 -0500
Subject: [Rd] Help with Windows build
Message-ID: <1rd8ut8h4vqmjc85v6jjsvkcl1lpdrdabn@4ax.com>

I'm trying to do a Windows build of Ray Brownrigg's port of the maps
library, and running into some problems.

There's a makefile for the shared library.  I suspect that I just need
to change that to get it right, and everything will build properly,
but I'm running into trouble.  Here's the original makefile, along
with my comments about changes:

>SRC= mapget.c mapproject.c thin.c
>OBJ= mapget.o mapproject.o thin.o
>CFLAGS=-I$${R_HOME}/include

The include directory changed to ${R_HOME}/src/include.

>#end machine-dependent stuff
>
>all: maps.so world.cities.s

maps.so changed to maps.dll

>        echo 'source("world.cities.s")' | R --nsize=512K --no-save

R changed to Rterm
>
>maps.so: $(OBJ) projections
>        R SHLIB -o maps.so maps_i.o $(OBJ) proj/*.o

maps.so changed to maps.dll.

This line is giving me the most trouble.  I suspect the problem is
that since proj/*.o is being expanded into 33 files, the command line
is too long for Windows.  Is there a way to build a DLL with lots of
files in it without causing problems?

Here's the error I get:

>>  making DLL
>>make[2]: Entering directory `/cygdrive/d/stuff/r/maps/src'
>>Rcmd SHLIB -o maps.dll maps_i.o mapget.o mapproject.o thin.o proj/*.o
>>Bad command or file name

When I leave off proj/*.o, I get a different error:

>>  making DLL
>>make[2]: Entering directory `/cygdrive/d/stuff/r/maps/src'
>>Rcmd SHLIB -o maps.dll maps_i.o mapget.o mapproject.o thin.o
>>make[3]: Entering directory `/cygdrive/d/stuff/R/maps/src'
>>Rcmd SHLIB -o maps.dll maps_i.o mapget.o mapproject.o thin.o
>>make[4]: Entering directory `/cygdrive/d/stuff/R/maps/src'
>>Rcmd SHLIB -o maps.dll maps_i.o mapget.o mapproject.o thin.o
>>make[5]: Entering directory `/cygdrive/d/stuff/R/maps/src'
>>Rcmd SHLIB -o maps.dll maps_i.o mapget.o mapproject.o thin.o
>>make[6]: Entering directory `/cygdrive/d/stuff/R/maps/src'
>>Rcmd SHLIB -o maps.dll maps_i.o mapget.o mapproject.o thin.o
>>make[7]: Entering directory `/cygdrive/d/stuff/R/maps/src'

Eventually this crashes.
>
>projections:
>        (cd proj; make)
>        touch projections

Any help would be appreciated!

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Nov  4 13:01:10 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 4 Nov 2001 14:01:10 +0100 (MET)
Subject: [Rd] Possible bug, Rprof() and scan(pipe()) (PR#1140)
Message-ID: <200111041301.OAA21775@pubhealth.ku.dk>

This does not happen on Solaris or Linux, so must be related to the use of
signals on darwin.

It probably means Rprof should be avoided on that platform, but the
porter (Jan de Leeuw) needs to investigate.


On Tue, 23 Oct 2001 macq@llnl.gov wrote:

> This looks like a bug?
> Unable to use scan(pipe()) while profiling.
> I have no idea whether this version of R violates the
>     "do not use `Rprof' in an executable built for profiling"
> warning in ?Rprof.
>
> Thanks
> -Don
>
> >  version
>           _
> platform powerpc-apple-darwin1.4
> arch     powerpc
> os       darwin1.4
> system   powerpc, darwin1.4
> status   Patched
> major    1
> minor    3.1
> year     2001
> month    10
> day      15
> language R
> >
> >  foo <- scan(pipe('ls -1 | head -3'),what='')
> Read 3 items
> >  foo
> [1] "README"      "RMfiles.dat" "RMfiles.tmp"
> >  Rprof()
> >  foo <- scan(pipe('ls -1 | head -3'),what='')
> Read 0 items
> >  foo
> character(0)
> >  Rprof(NULL)
> >  foo <- scan(pipe('ls -1 | head -3'),what='')
> Read 3 items
> >
>
> note, profiling does appear to be functional:
> >  Rprof() ; hist(rnorm(10000)) ; Rprof(NULL)
> >  system('R CMD Rprof Rprof.out')
>
> Each sample represents 0.02 seconds.
> Total run time: 0.1 seconds.
>
> Total seconds: time spent in function and callees.
> Self seconds: time spent in function alone.
>
>     %       total       %       self
>   total    seconds     self    seconds    name
> 100.00      0.10      0.00      0.00     "hist"
>   60.00      0.06      0.00      0.00     "hist.default"
>   40.00      0.04     40.00      0.04     "rnorm"
>   40.00      0.04      0.00      0.00     "plot"
>   40.00      0.04      0.00      0.00     "plot.histogram"
>   20.00      0.02      0.00      0.00     "storage.mode<-"
>   20.00      0.02     20.00      0.02     "X11"
>   20.00      0.02      0.00      0.00     "paste"
>   20.00      0.02      0.00      0.00     "rect"
>   20.00      0.02      0.00      0.00     "plot.new"
>   20.00      0.02     20.00      0.02     "seq.default"
>   20.00      0.02      0.00      0.00     "seq"
>   20.00      0.02     20.00      0.02     "par"
>
>     %       self        %       total
>   self     seconds    total    seconds    name
>   40.00      0.04     40.00      0.04     "rnorm"
>   20.00      0.02     20.00      0.02     "X11"
>   20.00      0.02     20.00      0.02     "seq.default"
>   20.00      0.02     20.00      0.02     "par"
>
> --
> --------------------------------------
> Don MacQueen
> Environmental Protection Department
> Lawrence Livermore National Laboratory
> Livermore, CA, USA
> --------------------------------------
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@nokomis.stat.umn.edu  Sun Nov  4 13:18:24 2001
From: luke@nokomis.stat.umn.edu (Luke Tierney)
Date: Sun, 4 Nov 2001 07:18:24 -0600
Subject: [Rd] Possible bug, Rprof() and scan(pipe()) (PR#1140)
In-Reply-To: <200111041301.OAA21775@pubhealth.ku.dk>; from ripley@stats.ox.ac.uk on Sun, Nov 04, 2001 at 02:01:10PM +0100
References: <200111041301.OAA21775@pubhealth.ku.dk>
Message-ID: <20011104071824.A10053@nokomis.stat.umn.edu>

This feels like a system call restarting issue.  Some OS's restart
system calls after signals, others do not. For those that don't, low
level reads need to check for EINTR and such.  Connections use high
level reads, which should be insulated by the stdio library.  Possibly
dawrin's gets this wrong.  If strace is available you might be able to
tell that way.

luke

On Sun, Nov 04, 2001 at 02:01:10PM +0100, ripley@stats.ox.ac.uk wrote:
> This does not happen on Solaris or Linux, so must be related to the use of
> signals on darwin.
> 
> It probably means Rprof should be avoided on that platform, but the
> porter (Jan de Leeuw) needs to investigate.
> 
> 
> On Tue, 23 Oct 2001 macq@llnl.gov wrote:
> 
> > This looks like a bug?
> > Unable to use scan(pipe()) while profiling.
> > I have no idea whether this version of R violates the
> >     "do not use `Rprof' in an executable built for profiling"
> > warning in ?Rprof.
> >
> > Thanks
> > -Don
> >
> > >  version
> >           _
> > platform powerpc-apple-darwin1.4
> > arch     powerpc
> > os       darwin1.4
> > system   powerpc, darwin1.4
> > status   Patched
> > major    1
> > minor    3.1
> > year     2001
> > month    10
> > day      15
> > language R
> > >
> > >  foo <- scan(pipe('ls -1 | head -3'),what='')
> > Read 3 items
> > >  foo
> > [1] "README"      "RMfiles.dat" "RMfiles.tmp"
> > >  Rprof()
> > >  foo <- scan(pipe('ls -1 | head -3'),what='')
> > Read 0 items
> > >  foo
> > character(0)
> > >  Rprof(NULL)
> > >  foo <- scan(pipe('ls -1 | head -3'),what='')
> > Read 3 items
> > >
> >
> > note, profiling does appear to be functional:
> > >  Rprof() ; hist(rnorm(10000)) ; Rprof(NULL)
> > >  system('R CMD Rprof Rprof.out')
> >
> > Each sample represents 0.02 seconds.
> > Total run time: 0.1 seconds.
> >
> > Total seconds: time spent in function and callees.
> > Self seconds: time spent in function alone.
> >
> >     %       total       %       self
> >   total    seconds     self    seconds    name
> > 100.00      0.10      0.00      0.00     "hist"
> >   60.00      0.06      0.00      0.00     "hist.default"
> >   40.00      0.04     40.00      0.04     "rnorm"
> >   40.00      0.04      0.00      0.00     "plot"
> >   40.00      0.04      0.00      0.00     "plot.histogram"
> >   20.00      0.02      0.00      0.00     "storage.mode<-"
> >   20.00      0.02     20.00      0.02     "X11"
> >   20.00      0.02      0.00      0.00     "paste"
> >   20.00      0.02      0.00      0.00     "rect"
> >   20.00      0.02      0.00      0.00     "plot.new"
> >   20.00      0.02     20.00      0.02     "seq.default"
> >   20.00      0.02      0.00      0.00     "seq"
> >   20.00      0.02     20.00      0.02     "par"
> >
> >     %       self        %       total
> >   self     seconds    total    seconds    name
> >   40.00      0.04     40.00      0.04     "rnorm"
> >   20.00      0.02     20.00      0.02     "X11"
> >   20.00      0.02     20.00      0.02     "seq.default"
> >   20.00      0.02     20.00      0.02     "par"
> >
> > --
> > --------------------------------------
> > Don MacQueen
> > Environmental Protection Department
> > Lawrence Livermore National Laboratory
> > Livermore, CA, USA
> > --------------------------------------
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke@stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Sun Nov  4 15:44:47 2001
From: edd@debian.org (Dirk Eddelbuettel)
Date: Sun, 4 Nov 2001 09:44:47 -0600
Subject: [Rd] Suggesting to have download.file() reflect a new option
Message-ID: <15333.25199.152800.194958@sonny.eddelbuettel.com>


The "auto" method of downloading a file cannot cope with a proxy firewall
requiring authentication. However, wget can handle this very easily (using
e.g. ~/.wgetrc).  While it is feasible to add the required
	 method="wget" 
to calls such as update.packages(), this approach is rather tedious and could
easily be controlled by use of a new option.

Below is a simple patch to download.file.R which, when no method is
specified, queries the (suggested) option download.file.method and sets it if
found; else the old default "auto" is used. The same patch can be applied to
windows/download.file.R.  I'd be happy to add a small patch to the
documentation of both download.file() and options() to complement this is the
patch is deemed acceptable.  

Regards,  Dirk


edd@sonny:~/debian/r-base-1.3.1> diff -u src/library/base/R/unix/download.file.R{.orig,}
--- src/library/base/R/unix/download.file.R.orig        Fri Apr 13 02:50:27 2001+++ src/library/base/R/unix/download.file.R     Sun Nov  4 09:27:47 2001
@@ -1,9 +1,12 @@
 download.file <- function(url, destfile, method,
                           quiet = FALSE, mode = "w")
 {
-    method <- if(missing(method)) "auto" else
-    match.arg(method,
-              c("auto", "internal", "wget", "lynx", "socket"))
+    method <- if (missing(method))
+      ifelse(!is.null(getOption("download.file.method")),
+             getOption("download.file.method"),
+             "auto")
+    else
+      match.arg(method, c("auto", "internal", "wget", "lynx", "socket"))
 
     if(method == "auto") {
         if(capabilities("http/ftp"))


-- 
Better to have an approximate answer to the right question 
than a precise answer to the wrong question. -- John Tukey
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Nov  4 15:48:25 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 4 Nov 2001 15:48:25 +0000 (GMT)
Subject: [Rd] Suggesting to have download.file() reflect a new option
In-Reply-To: <15333.25199.152800.194958@sonny.eddelbuettel.com>
Message-ID: <Pine.LNX.4.31.0111041547440.830-100000@gannet.stats>

Sounds very reasonable.  Please send me a patch file.

Brian

On Sun, 4 Nov 2001, Dirk Eddelbuettel wrote:

>
> The "auto" method of downloading a file cannot cope with a proxy firewall
> requiring authentication. However, wget can handle this very easily (using
> e.g. ~/.wgetrc).  While it is feasible to add the required
> 	 method="wget"
> to calls such as update.packages(), this approach is rather tedious and could
> easily be controlled by use of a new option.
>
> Below is a simple patch to download.file.R which, when no method is
> specified, queries the (suggested) option download.file.method and sets it if
> found; else the old default "auto" is used. The same patch can be applied to
> windows/download.file.R.  I'd be happy to add a small patch to the
> documentation of both download.file() and options() to complement this is the
> patch is deemed acceptable.
>
> Regards,  Dirk
>
>
> edd@sonny:~/debian/r-base-1.3.1> diff -u src/library/base/R/unix/download.file.R{.orig,}
> --- src/library/base/R/unix/download.file.R.orig        Fri Apr 13 02:50:27 2001+++ src/library/base/R/unix/download.file.R     Sun Nov  4 09:27:47 2001
> @@ -1,9 +1,12 @@
>  download.file <- function(url, destfile, method,
>                            quiet = FALSE, mode = "w")
>  {
> -    method <- if(missing(method)) "auto" else
> -    match.arg(method,
> -              c("auto", "internal", "wget", "lynx", "socket"))
> +    method <- if (missing(method))
> +      ifelse(!is.null(getOption("download.file.method")),
> +             getOption("download.file.method"),
> +             "auto")
> +    else
> +      match.arg(method, c("auto", "internal", "wget", "lynx", "socket"))
>
>      if(method == "auto") {
>          if(capabilities("http/ftp"))
>
>
> --
> Better to have an approximate answer to the right question
> than a precise answer to the wrong question. -- John Tukey
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Nov  5 08:47:59 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 5 Nov 2001 08:47:59 +0000 (GMT)
Subject: [Rd] round() doesnt (PR#1138)
In-Reply-To: <200110222231.f9MMViH22985@arbres1a.FMR.Com>
Message-ID: <Pine.LNX.4.31.0111050847180.7837-100000@gannet.stats>

On Mon, 22 Oct 2001, David Brahm wrote:

> Hi, all,
>
>    I swear, bug.report() ate my message!  Apologies to all, esp. Peter who
> will once again have to clean up after my mess...
>
>    The bug report was supposed to say:
>
> R> round(100000/3, -2) - 33300
>    [1] -7.275958e-12
>
> I would have hoped for 0.  The problem seems to be specifically for negative
> "digits".
> 			-- David Brahm (brahm@alum.mit.edu)

Fixed for R-devel.  Now for digits <=0 a final rounding to integer is done
in fround.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Mon Nov  5 14:28:15 2001
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Mon, 05 Nov 2001 09:28:15 -0500
Subject: [Rd] Setting NA from C code
Message-ID: <g28duto96jem4p73ts0l2rubaeek0s52gs@4ax.com>

In the maps library, NA's are inserted between polygons so lines() can
be used to draw all polygons at once.  The code to do it is like this:

            *x++ = NA_REAL;
            *y++ = NA_REAL;

where x and y are declared as 

	double *x, *y, *range;

and are the arguments passed in through a .C call.

However, the values show up in R as -6.62314033633867e-229 instead of
NA, so the drawing gets messed up.

Any suggestions as to what might be going wrong?

This is happening in Windows, using gcc 2.95.2, R source 1.3.1,
platform i386-pc-mingw32.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Nov  5 15:16:46 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 5 Nov 2001 15:16:46 +0000 (GMT)
Subject: [Rd] Setting NA from C code
In-Reply-To: <g28duto96jem4p73ts0l2rubaeek0s52gs@4ax.com>
Message-ID: <Pine.LNX.4.31.0111051458270.1438-100000@gannet.stats>

On Mon, 5 Nov 2001, Duncan Murdoch wrote:

> In the maps library, NA's are inserted between polygons so lines() can
> be used to draw all polygons at once.  The code to do it is like this:
>
>             *x++ = NA_REAL;
>             *y++ = NA_REAL;
>
> where x and y are declared as
>
> 	double *x, *y, *range;
>
> and are the arguments passed in through a .C call.
>
> However, the values show up in R as -6.62314033633867e-229 instead of
> NA, so the drawing gets messed up.
>
> Any suggestions as to what might be going wrong?

You are probably not importing R_NaReal, which is what NA_REAL is a macro
reference to.  That's the point of globalvars.h, which the standard
Makefile forces to be included.

This will not be needed from 1.4.0 on.

>
> This is happening in Windows, using gcc 2.95.2, R source 1.3.1,
> platform i386-pc-mingw32.
>
> Duncan Murdoch
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Mon Nov  5 15:07:42 2001
From: pgilbert@bank-banque-canada.ca (pgilbert@bank-banque-canada.ca)
Date: Mon, 5 Nov 2001 16:07:42 +0100 (MET)
Subject: [Rd] bug.report()sends empty message (PR#1158)
Message-ID: <200111051507.QAA03967@pubhealth.ku.dk>

This is a multi-part message in MIME format.
--------------FAC78F7B6BFECAD9BD873458
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

On Mon, 22 Oct 2001, David Brahm wrote:
>    I swear, bug.report() ate my message!  Apologies to all, esp. Peter who
> will once again have to clean up after my mess...

With some editors on Unix bug.report() does this. The problem is that
some editors (like Nedit) fork a separate process and return. The Unix
version of bug.report sends an empty message in this case. The fix is to
make the Unix version the same as the Windows version, with an optional
argument "wait".

Attached are four small files bug.report.R, bug.report.Rd, Sys.mail.R,
and Sys.mail.Rd, which attempt to fix the problem and the documentation.
They also separate out the mail mechanism as a utility that can be used
elsewhere. Unfortunately, I have only been able to test these on a
limited number of platforms.

Paul Gilbert

--------------FAC78F7B6BFECAD9BD873458
Content-Type: text/plain; charset=us-ascii;
 name="bug.report.R"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="bug.report.R"

bug.report <- function(subject = "", ccaddress = Sys.getenv("USER"),
                       method = getOption("mailer"),
                       address = "gilp",  #"r-bugs@r-project.org",
                       file = "R.bug.report",
		       wait=TRUE)
{
    methods <- c("mailx", "gnudoit", "none", "ess")

    method <-
	if(is.null(method)) "none"
	else methods[pmatch(method, methods)]

    body <- paste("\\n<<insert bug report here>>\\n\\n\\n\\n",
		  "--please do not edit the information below--\\n\\n",
		  "Version:\\n ",
		  paste(names(R.version),R.version, sep=" = ",collapse="\\n "),
		  "\\n\\n",
		  "Search Path:\\n ",
		  paste(search(), collapse=", "),
		  "\\n", sep="", collapse="")

    if(method == "gnudoit") {
	cmd <- paste("gnudoit -q '",
		     "(mail nil \"", address, "\")",
		     "(insert \"", body, "\")",
		     "(search-backward \"Subject:\")",
		     "(end-of-line)'",
		     sep="")
	system(cmd)
        if (wait) {
	  cat("Hit Return to continue in R. ")
	  answer <- readline()
        }
    }
    else if(method=="none"){

        disclaimer <-
            paste("# Your mailer is set to \"none\" (default on Windows),\n",
                  "# hence we cannot send the bug report directly from R.\n",
                  "# Please copy the bug report (after finishing it) to\n",
                  "# your favorite email program and send it to\n#\n",
                  "#       ", address, "\n#\n",
                  "######################################################\n",
                  "\n\n", sep = "")

        cat(disclaimer, file=file)
	body <- gsub("\\\\n", "\n", body)
	cat(body, file=file, append=TRUE)
	system(paste(getOption("editor"), file))
        cat("The unsent bug report can be found in file", file, "\n")
        if (wait) {
	  cat("Hit Return to continue in R. ")
	  answer <- readline()
        }
    }
    else if(method == "mailx"){

        if(missing(subject)) stop("Subject missing")

	body <- gsub("\\\\n", "\n", body)
	cat(body, file=file, append=FALSE)
	system(paste(getOption("editor"), file))
	
	if (wait) {
	  cat("Submit the bug report? (finish editing and save the file before responding) ")
	  answer <- readline()
	  answer <- grep("y", answer, ignore.case=TRUE)
	  if(length(answer)>0){
 	     body <- scan(file, what="char", sep="\n")
             cat("Sending email ...\n")
             status <- Sys.mail(address=address, ccaddress=ccaddress,
	                       subject=subject, body=body, method="mailx")
             if(!status) status <- Sys.mail(address=address, ccaddress=ccaddress,
	                       subject=subject, body=body, method="mail")
             if(!status) status <- Sys.mail(address=address, ccaddress=ccaddress,
	                       subject=subject, body=body, method="Mail")
             if(!status) {
                cat("Sending email failed!\n")
                cat("The unsent bug report can be found in file", file, "\n")
            }
	  }
        }
        else cat("The unsent bug report can be found in file", file, "\n")
    }
    else if(method=="ess"){
	body <- gsub("\\\\n", "\n", body)
	cat(body)
        if (wait) {
	  cat("Hit Return to continue in R. ")
	  answer <- readline()
        }
    }
}

--------------FAC78F7B6BFECAD9BD873458
Content-Type: text/plain; charset=us-ascii;
 name="bug.report.Rd"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="bug.report.Rd"

\name{bug.report}
\alias{bug.report}
\title{Send a Bug Report}
\usage{
bug.report(subject = "", ccaddress = Sys.getenv("USER"),
           method = getOption("mailer"), 
	   address = "r-bugs@r-project.org",
           file = "R.bug.report",
	   wait = TRUE)

}
\arguments{
  \item{subject}{Subject of the email. Please do not use single quotes
    (\code{'}) in the subject!}
  \item{ccaddress}{Optional email address for copies (default is current
    user).  Use \code{ccaddress = NULL} for no copies.}
  \item{method}{Submission method, one of \code{"mailx"},
    \code{"gnuclient"}, \code{"none"}, or \code{"ess"}.}
  \item{address}{Recipient's email address.}
  \item{file}{File to use for setting up the email (or storing it when
    method is \code{"none"} or sending mail fails).}
  \item{wait}{logical. Should \R wait for the editor to return?}
}
\description{
  Invokes an editor to write a bug report and optionally mail it to the
  r-bugs list at \email{r-bugs@r-project.org}.  Some standard
  information on the current version and configuration of \R are 
  included automatically.
}
\details{
  Currently direct submission of bug reports works only on Unix systems.
  If the submission method is \code{"mailx"}, then the default editor is
  used to write the bug report. Which editor is used can be controlled
  using \code{\link{options}}, type \code{getOption("editor")} to see what
  editor is currently defined. Please use the help pages of the
  respective editor for details of usage. After saving the bug report
  (in the temporary file opened) and exiting the editor
  the report is mailed using a Unix command line mail utility such as
  \code{mailx}.  A copy of the mail is sent to the current user.

  If method is \code{"gnuclient"}, then an emacs mail buffer is opened
  and used for sending the email.

  If method is \code{"none"} or \code{NULL} (which is the default on
  Windows systems), then only an editor is opened to help writing the
  bug report.  The report can then be copied to your favorite email
  program and be sent to the r-bugs list.

  If method is \code{"ess"} the body of the mail is simply sent to
  stdout.
  
  If wait is \code{"TRUE"} then \R issues a prompt after the editor is started
  and waits for input. If \R is sending the mail (e.g. with method
  code{"mailx"}) then wait should be \code{"TRUE"}. In this case the edited file
  must be saved before responding to the question.
}
\value{Nothing useful.}
\section{When is there a bug?}{
  If \R executes an illegal instruction, or dies with an operating
  system error message that indicates a problem in the program (as
  opposed to something like ``disk full''), then it is certainly a bug.

  Taking forever to complete a command can be a bug, but you must make
  certain that it was really \R's fault.  Some commands simply take a
  long time.  If the input was such that you KNOW it should have been
  processed quickly, report a bug.  If you don't know whether the
  command should take a long time, find out by looking in the manual or
  by asking for assistance.

  If a command you are familiar with causes an \R error message in a
  case where its usual definition ought to be reasonable, it is probably
  a bug.  If a command does the wrong thing, that is a bug.  But be sure
  you know for certain what it ought to have done.  If you aren't
  familiar with the command, or don't know for certain how the command
  is supposed to work, then it might actually be working right.  Rather
  than jumping to conclusions, show the problem to someone who knows for
  certain.

   Finally, a command's intended definition may not be best for
   statistical analysis.  This is a very important sort of problem, but
   it is also a matter of judgment.  Also, it is easy to come to such a
   conclusion out of ignorance of some of the existing features.  It is
   probably best not to complain about such a problem until you have
   checked the documentation in the usual ways, feel confident that you
   understand it, and know for certain that what you want is not
   available.  If you are not sure what the command is supposed to do
   after a careful reading of the manual this indicates a bug in the
   manual.  The manual's job is to make everything clear.  It is just as
   important to report documentation bugs as program bugs.

   If the online argument list of a function disagrees with the manual,
   one of them must be wrong, so report the bug.
}
\section{How to report a bug}{
  When you decide that there is a bug, it is important to report it and
  to report it in a way which is useful.  What is most useful is an
  exact description of what commands you type, from when you start \R
  until the problem happens.  Always include the version of \R, machine,
  and operating system that you are using; type `version' in \R to print
  this. 

  The most important principle in reporting a bug is to report FACTS,
  not hypotheses or categorizations.  It is always easier to report the
  facts, but people seem to prefer to strain to posit explanations and
  report them instead.  If the explanations are based on guesses about
  how \R is implemented, they will be useless; we will have to try to 
  figure out what the facts must have been to lead to such
  speculations.  Sometimes this is impossible.  But in any case, it is
  unnecessary work for us.

  For example, suppose that on a data set which you know to be quite
  large the command \code{data.frame(x, y, z, monday, tuesday)} never
  returns.  Do not report that \code{data.frame()} fails for large data
  sets.  Perhaps it fails when a variable name is a day of the week.  If
  this is so then when we got your report we would try out the
  \code{data.frame()} command on a large data set, probably with no day
  of the week variable name, and not see any problem. There is no way in
  the world that we could guess that we should try a day of the week
  variable name.

  Or perhaps the command fails because the last command you used was a
  \code{[} method that had a bug causing \R's internal data structures
  to be corrupted and making the \code{data.frame()} command fail from
  then on.  This is why we need to know what other commands you have
  typed (or read from your startup file).

  It is very useful to try and find simple examples that produce
  apparently the same bug, and somewhat useful to find simple examples
  that might be expected to produce the bug but actually do not.  If you
  want to debug the problem and find exactly what caused it, that is
  wonderful.  You should still report the facts as well as any
  explanations or solutions.

  Invoking \R with the \code{--vanilla} option may help in isolating a
  bug.  This ensures that the site profile and saved data files are not
  read.

  On some systems a bug report can be generated using the
  \code{bug.report()} function.  This automatically includes the version
  information and sends the bug to the correct address.  Alternatively
  the bug report can be emailed to \email{r-bugs@r-project.org} or
  submitted to the Web page at \url{http://bugs.r-project.org}.
}
\seealso{R FAQ, \code{link{Sys.mail}} }
\author{This help page is adapted from the Emacs manual}
\keyword{utilities}
\keyword{error}

--------------FAC78F7B6BFECAD9BD873458
Content-Type: text/plain; charset=us-ascii;
 name="Sys.mail.R"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="Sys.mail.R"

Sys.mail <- function(address = Sys.info()$user,
                     ccaddress  = NULL,
                     bccaddress = NULL,
		     subject    = NULL,
		     body= "no body",
                     method = getOption("mailer")) {
   if(!(is.character(address) && nchar(address)>0))
      stop("A character string address must be specified.")

   # The arguments to mail, mailx, and Mail are all the same, but a different
   # mailer will require that this first part be re-organized under the
   # specific method.
   file <- tempfile()
   on.exit(unlink(file))
   cat(body, file=file, append=FALSE, sep="\n")
   cmdargs <- paste(address, "<", file, "2>/dev/null")
	
   if(is.character(ccaddress) && nchar(ccaddress)>0) 
            cmdargs <- paste(" -c '", ccaddress, "' ",  cmdargs)

   if(is.character(bccaddress) && nchar(bccaddress)>0) 
            cmdargs <- paste(" -b '", bccaddress, "' ",  cmdargs)

   if(is.character(subject) && nchar(subject)>0) 
            cmdargs <- paste(" -s '", subject, "' ",  cmdargs)

   status <- 1
   if(method == "mailx") status <- system(paste("mailx", cmdargs)) else
   if(method == "mail")  status <- system(paste("mail", cmdargs))  else 
   if(method == "Mail")  status <- system(paste("Mail", cmdargs))  else {
	warning(paste("mail method ", method, " not supported.\n"))
	return(F)
	}
   if(status > 0) {
	warning(paste("sending email with ", method, " failed.\n"))
	return(F)
	}
   T
   }

--------------FAC78F7B6BFECAD9BD873458
Content-Type: text/plain; charset=us-ascii;
 name="Sys.mail.Rd"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="Sys.mail.Rd"

\name{Sys.mail}
\alias{Sys.mail}
\title{Send Mail}
\usage{
Sys.mail(address= Sys.info()$user, ccaddress = NULL, bccaddress = NULL,
           subject = NULL, body= "no body", method = getOption("mailer"))
}
\arguments{
  \item{address}{Recipient's email address. The default is the user name as
     indicated by \code{Sys.info()$user}, which will correspond to your 
     own email address on many systems.}
  \item{ccaddress}{Optional email address for copies. 
    Use \code{ccaddress = NULL} for no copies.}
  \item{bccaddress}{Optional email address for blind copies.
    Use \code{bccaddress = NULL} for no copies.}
  \item{subject}{Subject of the email. Please do not use single quotes
     in the subject!}
  \item{method}{Submission method, one of \code{"mailx"},
    \code{"mail"}, or \code{"Mail"}.}
  \item{body}{A vector of character, one line per element to place in the body
     of the email.}
}
\description{
  Use a system mail tool to send a message. Multiple recipients can be
  specified in any of the addresses by enclosing them in double (\code{"}) 
  quotes. Please do not use single (\code{'}) quotes.
  
  The body is a vector of character. Each element of body is written 
  as a line of the message body.
}
\details{
  Currently works only on Unix systems using "mailx", "mail" or "Mail". The mail
  tool needs to be found on your Unix search path.
}
\value{TRUE or FALSE indicating success or failure as returned by the operating
    system. (This does not indicate that the message was received at the 
    address.)}

\examples{
    \dontrun{Sys.mail(address="friends", subject="R", body="R is great")}
}
\seealso{\code{link{options}} }
\author{Paul Gilbert}
\keyword{utilities}


--------------FAC78F7B6BFECAD9BD873458--


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From macq@llnl.gov  Mon Nov  5 17:47:58 2001
From: macq@llnl.gov (macq@llnl.gov)
Date: Mon, 5 Nov 2001 18:47:58 +0100 (MET)
Subject: [Rd] Possible bug, Rprof() and scan(pipe()) (PR#1140)
Message-ID: <200111051747.SAA05634@pubhealth.ku.dk>

Jan,
Here is information on the problem with Rprof() that I encountered, 
including Brian Ripley's assessment.
This is OS X 10.1 with the 10.1 developer tools installed.
-Don

At 1:00 PM +0000 11/4/01, Prof Brian Ripley wrote:
>This does not happen on Solaris or Linux, so must be related to the use of
>signals on darwin.
>
>It probably means Rprof should be avoided on that platform, but the
>porter (Jan de Leeuw) needs to investigate.
>
>
>On Tue, 23 Oct 2001 macq@llnl.gov wrote:
>
>>  This looks like a bug?
>>  Unable to use scan(pipe()) while profiling.
>>  I have no idea whether this version of R violates the
>>      "do not use `Rprof' in an executable built for profiling"
>>  warning in ?Rprof.
>>
>>  Thanks
>>  -Don
>>
>>  >  version
>>            _
>>  platform powerpc-apple-darwin1.4
>>  arch     powerpc
>>  os       darwin1.4
>>  system   powerpc, darwin1.4
>>  status   Patched
>>  major    1
>>  minor    3.1
>>  year     2001
>>  month    10
>>  day      15
>>  language R
>>  >
>  > >  foo <- scan(pipe('ls -1 | head -3'),what='')
>>  Read 3 items
>>  >  foo
>>  [1] "README"      "RMfiles.dat" "RMfiles.tmp"
>>  >  Rprof()
>>  >  foo <- scan(pipe('ls -1 | head -3'),what='')
>>  Read 0 items
>>  >  foo
>>  character(0)
>>  >  Rprof(NULL)
>  > >  foo <- scan(pipe('ls -1 | head -3'),what='')
>>  Read 3 items
>>  >
>>
>>  note, profiling does appear to be functional:
>>  >  Rprof() ; hist(rnorm(10000)) ; Rprof(NULL)
>>  >  system('R CMD Rprof Rprof.out')
>  >
>>  Each sample represents 0.02 seconds.
>>  Total run time: 0.1 seconds.
>>
>>  Total seconds: time spent in function and callees.
>>  Self seconds: time spent in function alone.
>>
>>      %       total       %       self
>>    total    seconds     self    seconds    name
>>  100.00      0.10      0.00      0.00     "hist"
>>    60.00      0.06      0.00      0.00     "hist.default"
>>    40.00      0.04     40.00      0.04     "rnorm"
>>    40.00      0.04      0.00      0.00     "plot"
>>    40.00      0.04      0.00      0.00     "plot.histogram"
>>    20.00      0.02      0.00      0.00     "storage.mode<-"
>>    20.00      0.02     20.00      0.02     "X11"
>>    20.00      0.02      0.00      0.00     "paste"
>>    20.00      0.02      0.00      0.00     "rect"
>>    20.00      0.02      0.00      0.00     "plot.new"
>>    20.00      0.02     20.00      0.02     "seq.default"
>>    20.00      0.02      0.00      0.00     "seq"
>>    20.00      0.02     20.00      0.02     "par"
>>
>>      %       self        %       total
>>    self     seconds    total    seconds    name
>>    40.00      0.04     40.00      0.04     "rnorm"
>>    20.00      0.02     20.00      0.02     "X11"
>>    20.00      0.02     20.00      0.02     "seq.default"
>>    20.00      0.02     20.00      0.02     "par"
>>
>>  --
>>  --------------------------------------
>>  Don MacQueen
>>  Environmental Protection Department
>>  Lawrence Livermore National Laboratory
>>  Livermore, CA, USA
>>  --------------------------------------
>>
>> 
>>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>>  r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>>  Send "info", "help", or "[un]subscribe"
>>  (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
>> 
>>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>>
>
>--
>Brian D. Ripley,                  ripley@stats.ox.ac.uk
>Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>University of Oxford,             Tel:  +44 1865 272861 (self)
>1 South Parks Road,                     +44 1865 272860 (secr)
>Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jerome@hivnet.ubc.ca  Mon Nov  5 22:41:16 2001
From: jerome@hivnet.ubc.ca (jerome@hivnet.ubc.ca)
Date: Mon, 5 Nov 2001 23:41:16 +0100 (MET)
Subject: [Rd] stepwise algorithm step() on coxph() (PR#1159)
Message-ID: <200111052241.XAA06884@pubhealth.ku.dk>

Full_Name: Jerome Asselin
Version: 1.3.1
OS: MacOS 9.2
Submission from: (NULL) (142.103.173.46)



The step() function attempts to calculate the deviance of fitted models even if
does not really need it. As a consequence, the step() function gives an error
when it is used with coxph(). (There is currently no method to calculate the
deviance of coxph() fits.) The code below gives an example of how the deviance
is not necessary (at least for the default parameters of step()). Note that the
deviance does not seem necessary even for linear models (lm()).

#########################
library(survival)

set.seed(3)

#Create a fake dataset
y <- rgamma(10,1)
x1 <- rnorm(10)
x2 <- rnorm(10)
x3 <- rnorm(10)

step(coxph(Surv(y) ~ x1+x2+x3)) #Gives an error
step(lm(y ~ x1+x2+x3))
step(glm(y ~ x1+x2+x3))
step(aov(y ~ x1+x2+x3))

#Mask the deviance() function (Temporary patch??)
deviance <- function(...) NA

step(coxph(Surv(y) ~ x1+x2+x3)) #Gives no error
step(lm(y ~ x1+x2+x3)) #Same result as before
step(glm(y ~ x1+x2+x3))#Same result as before
step(aov(y ~ x1+x2+x3))#Same result as before

rm(deviance)


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Nov  6 08:17:34 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 6 Nov 2001 09:17:34 +0100 (MET)
Subject: [Rd] stepwise algorithm step() on coxph() (PR#1159)
Message-ID: <200111060817.JAA08689@pubhealth.ku.dk>

This is not an error.  Nobody said step would work with coxph models.
The help page says

  object: an object representing a model of an appropriate class. This
          is used as the initial model in the stepwise search.

and you are jumping to conclusions.  I've added a note to the help file.

There is an extractAIC.coxph method for use with stepAIC in package MASS.
That does work in your example.

I had a report about multinom fits and step() recently: same answer, it is
stepAIC that works, not step.

Think of step() as minimal implementation to provide some compatibility
with that in S (which only offers lm and glm methods).  And as step() in S
works with deviances, the compatibility function does too.


On Mon, 5 Nov 2001 jerome@hivnet.ubc.ca wrote:

> Full_Name: Jerome Asselin
> Version: 1.3.1
> OS: MacOS 9.2
> Submission from: (NULL) (142.103.173.46)
>
>
>
> The step() function attempts to calculate the deviance of fitted models even if
> does not really need it. As a consequence, the step() function gives an error
> when it is used with coxph(). (There is currently no method to calculate the
> deviance of coxph() fits.) The code below gives an example of how the deviance
> is not necessary (at least for the default parameters of step()). Note that the
> deviance does not seem necessary even for linear models (lm()).
>
> #########################
> library(survival)
>
> set.seed(3)
>
> #Create a fake dataset
> y <- rgamma(10,1)
> x1 <- rnorm(10)
> x2 <- rnorm(10)
> x3 <- rnorm(10)
>
> step(coxph(Surv(y) ~ x1+x2+x3)) #Gives an error
> step(lm(y ~ x1+x2+x3))
> step(glm(y ~ x1+x2+x3))
> step(aov(y ~ x1+x2+x3))
>
> #Mask the deviance() function (Temporary patch??)
> deviance <- function(...) NA
>
> step(coxph(Surv(y) ~ x1+x2+x3)) #Gives no error
> step(lm(y ~ x1+x2+x3)) #Same result as before
> step(glm(y ~ x1+x2+x3))#Same result as before
> step(aov(y ~ x1+x2+x3))#Same result as before
>
> rm(deviance)
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Tue Nov  6 09:59:19 2001
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Tue, 6 Nov 2001 10:59:19 +0100
Subject: [Rd] beware of  sapply(x, data.class) == "numeric"
Message-ID: <15335.46199.765625.257344@gargle.gargle.HOWL>

This is just a warning/hint to others; package/function writers in
particular : 

The `cluster' package (originally S-plus from Rousseeuw et al) currently 
has code such as

	## check type of input matrix
	if((!is.data.frame(x) && !is.numeric(x)) ||
	   !all(sapply(x, data.class) == "numeric"))
	    stop("x is not a numeric dataframe or matrix.")
	x <- data.matrix(x)

This was naver quite correct (see below), but with the 
new (R-devel or R-1.4.0) behavior of  read.table() becomes "fatal".
The new read.table() behavior does easily return data.frame()s with integer
component vectors {which is nice; among others, half memory!}.
such that the above test fails.

I think I have seen the ``idiom'' 

  all(sapply(x, data.class) == "numeric")

in other places too, so beware!  In most cases, this probably should be

  all(sapply(x, data.class) %in% c("numeric","integer","logical"))

A better alternative in most cases would be something like

  { x <- data.matrix(x);  is.numeric(x) || is.logical(x) }


Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@nokomis.stat.umn.edu  Tue Nov  6 12:18:07 2001
From: luke@nokomis.stat.umn.edu (Luke Tierney)
Date: Tue, 6 Nov 2001 06:18:07 -0600
Subject: [Rd] change in save file format
Message-ID: <20011106061807.A20192@nokomis.stat.umn.edu>

The development verison now uses a new save file format.  The previous
format used through R 1.3.1 can still be read and can also be written
by sypplying an explicit version argument to save().  The new format
supports saving some new internal types, reduces the size of saved
code files, and forms the basis for a more flexible serialization
mechanism. A C interface to this mechanism, which should be considered
experimental and subject to change, is available in the devel version.
An (even more) experimental R interface is described in notes
available from developer.r-project.org (search for serialization).

luke

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke@stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From andy_liaw@merck.com  Tue Nov  6 15:17:55 2001
From: andy_liaw@merck.com (Liaw, Andy)
Date: Tue, 06 Nov 2001 10:17:55 -0500
Subject: R-devel & ATLAS generates Dr. Watson on NT (was RE: [Rd] Look,
 Wa	tson! La.svd & ATLAS)
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC8368@usrymx10.merck.com>

Prof. Bates & R-devel,

I've done more test with the following results:

I have two versions of ATLAS 3.2.1.  One was compiled on my old Thinkpad
600E (PII), the other was compiled on my new Thinkpad T22 (PIIISSE1).

I compiled R-devel dated 10/31, 11/01 and 11/04, linked against either of
the two ATLAS libs.  All gave Dr. Watson when given this code:

  La.svd(matrix(runif(1e5), 1e3, 1e2))

(There's no problem with smaller matrices, say 100x100.)

When compiled without ATLAS, the above code ran fine in all three R-devel's.

I tried R-1.3.1 with both ATLAS libs, and both ran fine.

Any ideas on what could be wrong?  Seems like R-devel doesn't like ATLAS, at
least on WinNT...

Regards,
Andy


-----Original Message-----
From: Douglas Bates [mailto:bates@stat.wisc.edu]
Sent: Friday, November 02, 2001 9:27 AM
To: Liaw, Andy
Cc: 'r-devel@stat.math.ethz.ch'
Subject: Re: [Rd] Look, Watson! La.svd & ATLAS


"Liaw, Andy" <andy_liaw@merck.com> writes:

> Dear R-devel,
> 
> I had attempted to compile r-devel (dated Oct. 31, 2001) on WinNT with
link
> to ATLAS, with mostly success.  However, when I tried the following, I got
a
> visit from Dr. Watson:
> 
> 
> R : Copyright 2001, The R Development Core Team
> Version 1.4.0 Under development (unstable) (2001-10-31)
> 
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type `license()' or `licence()' for distribution details.
> 
> R is a collaborative project with many contributors.
> Type `contributors()' for more information.
> 
> Type `demo()' for some demos, `help()' for on-line help, or
> `help.start()' for a HTML browser interface to help.
> Type `q()' to quit R.
> 
> > set.seed(1)
> > x <- matrix(runif(1e4), 1e2, 1e2)
> > invisible(La.svd(x))                         # This ran fine.
> > x <- matrix(runif(1e5), 1e3, 1e2)
> > invisible(La.svd(x))
> 
> (Dr. Watson says there's an access violation.)

I was able to run those examples without ill effects on an R-1.4.0
(development) (2001-10-30) with Atlas 3.2.1 on a Linux system (Debian
testing)

> set.seed(1)
> x <- matrix(runif(1e4), 1e2, 1e2)
> invisible(La.svd(x))
> x <- matrix(runif(1e5), 1e3, 1e2)
> invisible(La.svd(x))
> x <- matrix(runif(1e4), 1e2, 1e2)
> system.time(invisible(La.svd(x)))
[1] 0.04 0.00 0.04 0.00 0.00
> x <- matrix(runif(1e5), 1e3, 1e2)
> system.time(invisible(La.svd(x)))
[1] 1.15 0.01 2.39 0.00 0.00
> system.time(La.svd(x, nu = 0, nv = 0))
[1] 0.33 0.00 0.63 0.00 0.00
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Nov  6 15:25:16 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 6 Nov 2001 15:25:16 +0000 (GMT)
Subject: R-devel & ATLAS generates Dr. Watson on NT (was RE: [Rd] Look,
 Wa tson! La.svd & ATLAS)
In-Reply-To: <51F9C42DA15CD311BD220008C707D81903DC8368@usrymx10.merck.com>
Message-ID: <Pine.LNX.4.31.0111061520390.22427-100000@gannet.stats>

On Tue, 6 Nov 2001, Liaw, Andy wrote:

> I've done more test with the following results:
>
> I have two versions of ATLAS 3.2.1.  One was compiled on my old Thinkpad
> 600E (PII), the other was compiled on my new Thinkpad T22 (PIIISSE1).
>
> I compiled R-devel dated 10/31, 11/01 and 11/04, linked against either of
> the two ATLAS libs.  All gave Dr. Watson when given this code:
>
>   La.svd(matrix(runif(1e5), 1e3, 1e2))
>
> (There's no problem with smaller matrices, say 100x100.)
>
> When compiled without ATLAS, the above code ran fine in all three R-devel's.
>
> I tried R-1.3.1 with both ATLAS libs, and both ran fine.
>
> Any ideas on what could be wrong?  Seems like R-devel doesn't like ATLAS, at
> least on WinNT...

I have no idea.  Quite possible though.  As we no longer have an active
Windows maintainer, it's down to you.  (Very little testing has been done
on Windows since 1.3.1 was released.)  You need to build a debug version
and look at the dump with gdb to start to debug the problem.

It's not realistic to expect R-devel to work on minority platforms all the
time.  These days it is unrealistic to expect much support on Windows
at all.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From janef@stat.berkeley.edu  Tue Nov  6 18:19:49 2001
From: janef@stat.berkeley.edu (janef@stat.berkeley.edu)
Date: Tue, 6 Nov 2001 19:19:49 +0100 (MET)
Subject: [Rd] incorrect xlim error message in image() (PR#1160)
Message-ID: <200111061819.TAA17688@pubhealth.ku.dk>


Hi,

I am having problem with R misinterpreting (x,y) values in image(). I
downloaded the followiing binary version of R:

> version
         _
platform i686-pc-linux-gnu
arch     i686
os       linux-gnu
system   i686, linux-gnu
status
major    1
minor    3.0
year     2001
month    06
day      22
language R
> q()
[janef@cc-jainlabx1 Poster.tahoe]$ gcc -v
Reading specs from /usr/lib/gcc-lib/i386-redhat-linux/2.96/specs
gcc version 2.96 20000731 (Red Hat Linux 7.1 2.96-81)

Here is the transcript of an example:


_______________________________________

x1 <- c(6.564103,
13.77149,13.7715,21.66154,21.82564,26.21374,30.85128,31.0055,31.01538,32.33805,3
3.14872,37.42195,47.92451,54.3179,58.90297,60.55385,84.56862,100.0862,111.2681,1
94,194.4878,195.8302)

x2 <-
c(0,0.002242152,0.004484305,0.006726457,0.00896861,0.01121076,0.01345291,0.01569
507,0.01793722,0.02017937,0.02242152,0.02466368,0.02690583,0.02914798,0.03139013
,0.03363229,0.03587444,0.03811659,0.04035874,0.04932735,0.05156951,0.05381166)

y <- 1

z <-
c(0,0.067,NA,0.167,0.083,0.05,0.067,NA,0,0.1,0,0.05,0.067,0.067,0.016,0.117,0.01
7,-0.017,0.2,0.35,0.134,0.15)

z_matrix(z, length(z),1)
image(x2, y, z)
Error in image(as.double(x), as.double(y), as.integer(zi), col) :
        invalid x / y values or limits

image(x2[1:20], y, as.matrix(z[1:20,]))

"OK"

image(x1, y, z)
Error in image(as.double(x), as.double(y), as.integer(zi), col) :
        invalid x / y values or limits

image(x1[1:20], y, as.matrix(z[1:20,]))
Error in image(as.double(x), as.double(y), as.integer(zi), col) :
        invalid x / y values or limits

________________________________________

Jason Turner (jasont@indigoindustrial.co.nz) had been kindly helping me
with figureing it out and he sugegstedd that it's a bug and sent me the
following email:

_____________________


For giggles, I tweaked plot3d.c to track where the error occured.  The diff
output is:

!!!THIS PATCH IS A BUG TRACE, NOT A BUG FIX!!!
--PATCH BEGINS --
1518a1519
>     fprintf(stderr,"test 1\n");
1519a1521
>     fprintf(stderr,"test 2\n");
1520a1523
>     fprintf(stderr,"test 3\n");
1522,1524c1525,1542
<     for (i = 1; i < nx; i++)
<       if (!R_FINITE(x[i]) || x[i] <= x[i - 1]) goto badxy;
<     for (j = 1; j < ny; j++)
---
>     fprintf(stderr,"test 4\n");
>     for (i = 1; i < nx; i++) {
>     for (i = 1; i < nx; i++) {
>         fprintf(stderr,"test 4 - %d\n",i);
>       if (!R_FINITE(x[i]) || x[i] <= x[i - 1]) {
>               if(!R_FINITE(x[i])) {
>                       fprintf(stderr,"not a finite number\n");
>               } else if( x[i] <= x[i-1]) {
>                       fprintf(stderr,"x[%d] <= x[%d]\n",i,i-1);
>                       fprintf(stderr,"%f <= %f\n",x[i],x[i-1]);
>               } else {
>                       fprintf(stderr,"now it looks fine\n");
>               }
>               goto badxy;
>       }
>     }
>     fprintf(stderr,"test 5\n");
>     for (j = 1; j < ny; j++){
>         fprintf(stderr,"test 5 - %d\n",j);
1525a1544
>     }
--PATCH ENDS--

Your transcript session with the tweaked plot3d:

> x1 <- c(6.564103,
13.77149,13.7715,21.66154,21.82564,26.21374,30.85128,31.0055,31.01538,32.33805,3
3.14872,37.42195,47.92451,54.3179,58.90297,60.55385,84.56862,100.0862,111.2681,1
94,194.4878,195.8302)
>
> x2 <-
c(0,0.002242152,0.004484305,0.006726457,0.00896861,0.01121076,0.01345291,0.01569
507,0.01793722,0.02017937,0.02242152,0.02466368,0.02690583,0.02914798,0.03139013
,0.03363229,0.03587444,0.03811659,0.04035874,0.04932735,0.05156951,0.05381166)
>
> y <- 1
>
> z <-
c(0,0.067,NA,0.167,0.083,0.05,0.067,NA,0,0.1,0,0.05,0.067,0.067,0.016,0.117,0.01
7,-0.017,0.2,0.35,0.134,0.15)
>
> z_matrix(z, length(z),1)
>
> image(x2, y, z)
test 1
test 2
test 3
test 4
test 4 - 1
test 4 - 2
test 4 - 3
test 4 - 4
test 4 - 5
test 4 - 6
test 4 - 7
test 4 - 8
test 4 - 9
test 4 - 10
test 4 - 11
test 4 - 12
test 4 - 13
test 4 - 14
test 4 - 15
test 4 - 16
test 4 - 17
test 4 - 18
test 4 - 19
test 4 - 20
test 4 - 21
x[21] <= x[20]
0.052691 <= 0.053812
Error in image(as.double(x), as.double(y), as.integer(zi), col) :
        invalid x / y values or limits
> ## x[20] and x[21] correspond to x2[21] and x2[22]
> x2[21:22]
[1] 0.05156951 0.05381166
> ## nb - x2[22] has same value as x[20] ???
> q()

Looks like some serious confusion over the value of numbers. Or I'm
seriously confused about they way R's main components handle arrays. Note
that my system also passed make check (before I tweaked plot3d.c).

___________________________

Thank you for all your help.

Sincerily, Jane



**************************************************************************************
Jane Fridlyand, Ph.D., Bioinformatics Scientist
UCSF Cancer Center, Box 0128 San Francisco, CA 94143-0128
Office: Room N412 Tel: (415)514-3302 Fax: (415)502-3179
**************************************************************************************

---------- Forwarded message ----------
Date: Fri, 2 Nov 2001 20:32:23 +1300
From: Jason Turner <jasont@indigoindustrial.co.nz>
To: Jane Fridlyand <janef@stat.Berkeley.EDU>
Subject: Re: image function

Jane,

When you've got the information about your system ("version" output
and binary/source+compiler+make check info), sent that to
r-bugs@r-project.org, along with the transcript below.  Do not copy
r-help into that letter; those who monitor r-bugs also watch r-help,
and they dislike duplicate messages even more than the rest of us
(becuase they get so many).  I found this out the hard way ;-)
Give it a nice description, such as "incorrect xlim error message
in image()", and you'll make their job even easier.

For giggles, I tweaked plot3d.c to track where the error occured (I
can never remember how to make gdb work when I need it).  The diff
output is:


!!!THIS PATCH IS A BUG TRACE, NOT A BUG FIX!!!
--PATCH BEGINS --
1518a1519
>     fprintf(stderr,"test 1\n");
1519a1521
>     fprintf(stderr,"test 2\n");
1520a1523
>     fprintf(stderr,"test 3\n");
1522,1524c1525,1542
<     for (i = 1; i < nx; i++)
< 	if (!R_FINITE(x[i]) || x[i] <= x[i - 1]) goto badxy;
<     for (j = 1; j < ny; j++)
---
>     fprintf(stderr,"test 4\n");
>     for (i = 1; i < nx; i++) {
>         fprintf(stderr,"test 4 - %d\n",i);
> 	if (!R_FINITE(x[i]) || x[i] <= x[i - 1]) {
> 		if(!R_FINITE(x[i])) {
> 			fprintf(stderr,"not a finite number\n");
> 		} else if( x[i] <= x[i-1]) {
> 			fprintf(stderr,"x[%d] <= x[%d]\n",i,i-1);
> 			fprintf(stderr,"%f <= %f\n",x[i],x[i-1]);
> 		} else {
> 			fprintf(stderr,"now it looks fine\n");
> 		}
> 		goto badxy;
> 	}
>     }
>     fprintf(stderr,"test 5\n");
>     for (j = 1; j < ny; j++){
>         fprintf(stderr,"test 5 - %d\n",j);
1525a1544
>     }
--PATCH ENDS--

Your transcript session with the tweaked plot3d:

R : Copyright 2001, The R Development Core Team
Version 1.3.1  (2001-08-31)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type `license()' or `licence()' for distribution details.

R is a collaborative project with many contributors.
Type `contributors()' for more information.

Type `demo()' for some demos, `help()' for on-line help, or
`help.start()' for a HTML browser interface to help.
Type `q()' to quit R.

> x1 <- c(6.564103, 13.77149,13.7715,21.66154,21.82564,26.21374,30.85128,31.0055,31.01538,32.33805,33.14872,37.42195,47.92451,54.3179,58.90297,60.55385,84.56862,100.0862,111.2681,194,194.4878,195.8302)
>
> x2 <- c(0,0.002242152,0.004484305,0.006726457,0.00896861,0.01121076,0.01345291,0.01569507,0.01793722,0.02017937,0.02242152,0.02466368,0.02690583,0.02914798,0.03139013,0.03363229,0.03587444,0.03811659,0.04035874,0.04932735,0.05156951,0.05381166)
>
> y <- 1
>
> z <- c(0,0.067,NA,0.167,0.083,0.05,0.067,NA,0,0.1,0,0.05,0.067,0.067,0.016,0.117,0.017,-0.017,0.2,0.35,0.134,0.15)
>
> z_matrix(z, length(z),1)
>
> image(x2, y, z)
test 1
test 2
test 3
test 4
test 4 - 1
test 4 - 2
test 4 - 3
test 4 - 4
test 4 - 5
test 4 - 6
test 4 - 7
test 4 - 8
test 4 - 9
test 4 - 10
test 4 - 11
test 4 - 12
test 4 - 13
test 4 - 14
test 4 - 15
test 4 - 16
test 4 - 17
test 4 - 18
test 4 - 19
test 4 - 20
test 4 - 21
x[21] <= x[20]
0.052691 <= 0.053812
Error in image(as.double(x), as.double(y), as.integer(zi), col) :
	invalid x / y values or limits
> ## x[20] and x[21] correspond to x2[21] and x2[22]
> x2[21:22]
[1] 0.05156951 0.05381166
> ## nb - x2[22] has same value as x[20] ???
> q()

Looks like some serious confusion over the value of numbers.
Or I'm seriously confused about they way R's main components
handle arrays (which is probably true in any case ;-).
Note that my system also passed make check (before I tweaked
plot3d.c).

Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont@indigoindustrial.co.nz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Nov  6 19:56:54 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 6 Nov 2001 20:56:54 +0100 (MET)
Subject: [Rd] incorrect xlim error message in image() (PR#1160)
Message-ID: <200111061956.UAA18065@pubhealth.ku.dk>

1) that was not the error message, and it is not the actual error, either.
Please don't guess here: it helps immensely to have accurate subjects.

2)  I don't think this is a very good way to use image. You are
specifying the midpoints of an uneven sequence: it makes a lot more sense
to specify the break points.

3) You don't need to go to C code here: just run debug(image.default)

4) There was a bug in the algorithm to find the breakpoints from the
midpoints.   I am about to fix it.


On Tue, 6 Nov 2001 janef@stat.berkeley.edu wrote:

>
> Hi,
>
> I am having problem with R misinterpreting (x,y) values in image(). I
> downloaded the followiing binary version of R:
>
> > version
>          _
> platform i686-pc-linux-gnu
> arch     i686
> os       linux-gnu
> system   i686, linux-gnu
> status
> major    1
> minor    3.0
> year     2001
> month    06
> day      22
> language R
> > q()
> [janef@cc-jainlabx1 Poster.tahoe]$ gcc -v
> Reading specs from /usr/lib/gcc-lib/i386-redhat-linux/2.96/specs
> gcc version 2.96 20000731 (Red Hat Linux 7.1 2.96-81)
>
> Here is the transcript of an example:
>
>
> _______________________________________
>
> x1 <- c(6.564103,
> 13.77149,13.7715,21.66154,21.82564,26.21374,30.85128,31.0055,31.01538,32.33805,3
> 3.14872,37.42195,47.92451,54.3179,58.90297,60.55385,84.56862,100.0862,111.2681,1
> 94,194.4878,195.8302)
>
> x2 <-
> c(0,0.002242152,0.004484305,0.006726457,0.00896861,0.01121076,0.01345291,0.01569
> 507,0.01793722,0.02017937,0.02242152,0.02466368,0.02690583,0.02914798,0.03139013
> ,0.03363229,0.03587444,0.03811659,0.04035874,0.04932735,0.05156951,0.05381166)
>
> y <- 1
>
> z <-
> c(0,0.067,NA,0.167,0.083,0.05,0.067,NA,0,0.1,0,0.05,0.067,0.067,0.016,0.117,0.01
> 7,-0.017,0.2,0.35,0.134,0.15)
>
> z_matrix(z, length(z),1)
> image(x2, y, z)
> Error in image(as.double(x), as.double(y), as.integer(zi), col) :
>         invalid x / y values or limits
>
> image(x2[1:20], y, as.matrix(z[1:20,]))
>
> "OK"
>
> image(x1, y, z)
> Error in image(as.double(x), as.double(y), as.integer(zi), col) :
>         invalid x / y values or limits
>
> image(x1[1:20], y, as.matrix(z[1:20,]))
> Error in image(as.double(x), as.double(y), as.integer(zi), col) :
>         invalid x / y values or limits
>
> ________________________________________
>
> Jason Turner (jasont@indigoindustrial.co.nz) had been kindly helping me
> with figureing it out and he sugegstedd that it's a bug and sent me the
> following email:
>
> _____________________
>
>
> For giggles, I tweaked plot3d.c to track where the error occured.  The diff
> output is:
>
> !!!THIS PATCH IS A BUG TRACE, NOT A BUG FIX!!!
> --PATCH BEGINS --
> 1518a1519
> >     fprintf(stderr,"test 1\n");
> 1519a1521
> >     fprintf(stderr,"test 2\n");
> 1520a1523
> >     fprintf(stderr,"test 3\n");
> 1522,1524c1525,1542
> <     for (i = 1; i < nx; i++)
> <       if (!R_FINITE(x[i]) || x[i] <= x[i - 1]) goto badxy;
> <     for (j = 1; j < ny; j++)
> ---
> >     fprintf(stderr,"test 4\n");
> >     for (i = 1; i < nx; i++) {
> >     for (i = 1; i < nx; i++) {
> >         fprintf(stderr,"test 4 - %d\n",i);
> >       if (!R_FINITE(x[i]) || x[i] <= x[i - 1]) {
> >               if(!R_FINITE(x[i])) {
> >                       fprintf(stderr,"not a finite number\n");
> >               } else if( x[i] <= x[i-1]) {
> >                       fprintf(stderr,"x[%d] <= x[%d]\n",i,i-1);
> >                       fprintf(stderr,"%f <= %f\n",x[i],x[i-1]);
> >               } else {
> >                       fprintf(stderr,"now it looks fine\n");
> >               }
> >               goto badxy;
> >       }
> >     }
> >     fprintf(stderr,"test 5\n");
> >     for (j = 1; j < ny; j++){
> >         fprintf(stderr,"test 5 - %d\n",j);
> 1525a1544
> >     }
> --PATCH ENDS--
>
> Your transcript session with the tweaked plot3d:
>
> > x1 <- c(6.564103,
> 13.77149,13.7715,21.66154,21.82564,26.21374,30.85128,31.0055,31.01538,32.33805,3
> 3.14872,37.42195,47.92451,54.3179,58.90297,60.55385,84.56862,100.0862,111.2681,1
> 94,194.4878,195.8302)
> >
> > x2 <-
> c(0,0.002242152,0.004484305,0.006726457,0.00896861,0.01121076,0.01345291,0.01569
> 507,0.01793722,0.02017937,0.02242152,0.02466368,0.02690583,0.02914798,0.03139013
> ,0.03363229,0.03587444,0.03811659,0.04035874,0.04932735,0.05156951,0.05381166)
> >
> > y <- 1
> >
> > z <-
> c(0,0.067,NA,0.167,0.083,0.05,0.067,NA,0,0.1,0,0.05,0.067,0.067,0.016,0.117,0.01
> 7,-0.017,0.2,0.35,0.134,0.15)
> >
> > z_matrix(z, length(z),1)
> >
> > image(x2, y, z)
> test 1
> test 2
> test 3
> test 4
> test 4 - 1
> test 4 - 2
> test 4 - 3
> test 4 - 4
> test 4 - 5
> test 4 - 6
> test 4 - 7
> test 4 - 8
> test 4 - 9
> test 4 - 10
> test 4 - 11
> test 4 - 12
> test 4 - 13
> test 4 - 14
> test 4 - 15
> test 4 - 16
> test 4 - 17
> test 4 - 18
> test 4 - 19
> test 4 - 20
> test 4 - 21
> x[21] <= x[20]
> 0.052691 <= 0.053812
> Error in image(as.double(x), as.double(y), as.integer(zi), col) :
>         invalid x / y values or limits
> > ## x[20] and x[21] correspond to x2[21] and x2[22]
> > x2[21:22]
> [1] 0.05156951 0.05381166
> > ## nb - x2[22] has same value as x[20] ???
> > q()
>
> Looks like some serious confusion over the value of numbers. Or I'm
> seriously confused about they way R's main components handle arrays. Note
> that my system also passed make check (before I tweaked plot3d.c).
>
> ___________________________
>
> Thank you for all your help.
>
> Sincerily, Jane
>
>
>
> **************************************************************************************
> Jane Fridlyand, Ph.D., Bioinformatics Scientist
> UCSF Cancer Center, Box 0128 San Francisco, CA 94143-0128
> Office: Room N412 Tel: (415)514-3302 Fax: (415)502-3179
> **************************************************************************************
>
> ---------- Forwarded message ----------
> Date: Fri, 2 Nov 2001 20:32:23 +1300
> From: Jason Turner <jasont@indigoindustrial.co.nz>
> To: Jane Fridlyand <janef@stat.Berkeley.EDU>
> Subject: Re: image function
>
> Jane,
>
> When you've got the information about your system ("version" output
> and binary/source+compiler+make check info), sent that to
> r-bugs@r-project.org, along with the transcript below.  Do not copy
> r-help into that letter; those who monitor r-bugs also watch r-help,
> and they dislike duplicate messages even more than the rest of us
> (becuase they get so many).  I found this out the hard way ;-)
> Give it a nice description, such as "incorrect xlim error message
> in image()", and you'll make their job even easier.
>
> For giggles, I tweaked plot3d.c to track where the error occured (I
> can never remember how to make gdb work when I need it).  The diff
> output is:
>
>
> !!!THIS PATCH IS A BUG TRACE, NOT A BUG FIX!!!
> --PATCH BEGINS --
> 1518a1519
> >     fprintf(stderr,"test 1\n");
> 1519a1521
> >     fprintf(stderr,"test 2\n");
> 1520a1523
> >     fprintf(stderr,"test 3\n");
> 1522,1524c1525,1542
> <     for (i = 1; i < nx; i++)
> < 	if (!R_FINITE(x[i]) || x[i] <= x[i - 1]) goto badxy;
> <     for (j = 1; j < ny; j++)
> ---
> >     fprintf(stderr,"test 4\n");
> >     for (i = 1; i < nx; i++) {
> >         fprintf(stderr,"test 4 - %d\n",i);
> > 	if (!R_FINITE(x[i]) || x[i] <= x[i - 1]) {
> > 		if(!R_FINITE(x[i])) {
> > 			fprintf(stderr,"not a finite number\n");
> > 		} else if( x[i] <= x[i-1]) {
> > 			fprintf(stderr,"x[%d] <= x[%d]\n",i,i-1);
> > 			fprintf(stderr,"%f <= %f\n",x[i],x[i-1]);
> > 		} else {
> > 			fprintf(stderr,"now it looks fine\n");
> > 		}
> > 		goto badxy;
> > 	}
> >     }
> >     fprintf(stderr,"test 5\n");
> >     for (j = 1; j < ny; j++){
> >         fprintf(stderr,"test 5 - %d\n",j);
> 1525a1544
> >     }
> --PATCH ENDS--
>
> Your transcript session with the tweaked plot3d:
>
> R : Copyright 2001, The R Development Core Team
> Version 1.3.1  (2001-08-31)
>
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type `license()' or `licence()' for distribution details.
>
> R is a collaborative project with many contributors.
> Type `contributors()' for more information.
>
> Type `demo()' for some demos, `help()' for on-line help, or
> `help.start()' for a HTML browser interface to help.
> Type `q()' to quit R.
>
> > x1 <- c(6.564103, 13.77149,13.7715,21.66154,21.82564,26.21374,30.85128,31.0055,31.01538,32.33805,33.14872,37.42195,47.92451,54.3179,58.90297,60.55385,84.56862,100.0862,111.2681,194,194.4878,195.8302)
> >
> > x2 <- c(0,0.002242152,0.004484305,0.006726457,0.00896861,0.01121076,0.01345291,0.01569507,0.01793722,0.02017937,0.02242152,0.02466368,0.02690583,0.02914798,0.03139013,0.03363229,0.03587444,0.03811659,0.04035874,0.04932735,0.05156951,0.05381166)
> >
> > y <- 1
> >
> > z <- c(0,0.067,NA,0.167,0.083,0.05,0.067,NA,0,0.1,0,0.05,0.067,0.067,0.016,0.117,0.017,-0.017,0.2,0.35,0.134,0.15)
> >
> > z_matrix(z, length(z),1)
> >
> > image(x2, y, z)
> test 1
> test 2
> test 3
> test 4
> test 4 - 1
> test 4 - 2
> test 4 - 3
> test 4 - 4
> test 4 - 5
> test 4 - 6
> test 4 - 7
> test 4 - 8
> test 4 - 9
> test 4 - 10
> test 4 - 11
> test 4 - 12
> test 4 - 13
> test 4 - 14
> test 4 - 15
> test 4 - 16
> test 4 - 17
> test 4 - 18
> test 4 - 19
> test 4 - 20
> test 4 - 21
> x[21] <= x[20]
> 0.052691 <= 0.053812
> Error in image(as.double(x), as.double(y), as.integer(zi), col) :
> 	invalid x / y values or limits
> > ## x[20] and x[21] correspond to x2[21] and x2[22]
> > x2[21:22]
> [1] 0.05156951 0.05381166
> > ## nb - x2[22] has same value as x[20] ???
> > q()
>
> Looks like some serious confusion over the value of numbers.
> Or I'm seriously confused about they way R's main components
> handle arrays (which is probably true in any case ;-).
> Note that my system also passed make check (before I tweaked
> plot3d.c).
>
> Cheers
>
> Jason
> --
> Indigo Industrial Controls Ltd.
> 64-21-343-545
> jasont@indigoindustrial.co.nz
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Tue Nov  6 21:25:07 2001
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Tue, 06 Nov 2001 16:25:07 -0500
Subject: [Rd] Bug(?) in Makefile.win
Message-ID: <k2lgutclvb1tbvmmd65u5isitu874c7oou@4ax.com>

I'm working on a package that will need a separate makefile for
Windows.  However, I'm finding that when I rename the Makefile to
Makefile.win, it stops working.  (I suspect at least 3 differences so
far:  the code to convert .a libraries to a .dll doesn't work, and
some macros like $(CP) and $(RANLIB) don't exist.)

I'd like to submit a bug report, but I want to be sure this isn't "as
designed" first.  

1.  Should Makefile.win and Makefile perform identically on Windows?

2.  Where do I go to find where Makefile.win gets invoked, to see if I
can spot why there'd be a difference?

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Nov  6 22:08:46 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 6 Nov 2001 22:08:46 +0000 (GMT)
Subject: [Rd] Bug(?) in Makefile.win
In-Reply-To: <k2lgutclvb1tbvmmd65u5isitu874c7oou@4ax.com>
Message-ID: <Pine.GSO.4.31.0111062201210.18924-100000@auk.stats>

On Tue, 6 Nov 2001, Duncan Murdoch wrote:

> I'm working on a package that will need a separate makefile for
> Windows.  However, I'm finding that when I rename the Makefile to
> Makefile.win, it stops working.  (I suspect at least 3 differences so
> far:  the code to convert .a libraries to a .dll doesn't work, and
> some macros like $(CP) and $(RANLIB) don't exist.)
>
> I'd like to submit a bug report, but I want to be sure this isn't "as
> designed" first.
>
> 1.  Should Makefile.win and Makefile perform identically on Windows?

No.  Makefile.win is only designed to be used in the src dir.  If so
it is used (see MakePkg) but a src/Makefile never is.

So they are quite distinct, in my understanding.

You probably want to include MkRules in your own Makefile.win.

> 2.  Where do I go to find where Makefile.win gets invoked, to see if I
> can spot why there'd be a difference?

Read readme.packages or CHANGES, for example

The reason is that many pacakges used to come with quite inappropriate
Makefiles for Windows (and often inappropriate for Windows too).

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Wed Nov  7 00:40:25 2001
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Tue, 06 Nov 2001 19:40:25 -0500
Subject: [Rd] Bug(?) in Makefile.win
In-Reply-To: <Pine.GSO.4.31.0111062201210.18924-100000@auk.stats>
References: <k2lgutclvb1tbvmmd65u5isitu874c7oou@4ax.com> <Pine.GSO.4.31.0111062201210.18924-100000@auk.stats>
Message-ID: <cmvgutc4o3adv84s4rlg3m0s6nhhpqrovs@4ax.com>

On Tue, 6 Nov 2001 22:08:46 +0000 (GMT), Prof Brian D Ripley
<ripley@stats.ox.ac.uk> wrote:
>> 1.  Should Makefile.win and Makefile perform identically on Windows?
>
>No.  Makefile.win is only designed to be used in the src dir.  If so
>it is used (see MakePkg) but a src/Makefile never is.

I don't think I understand your answer; I'm not sure you understood my
question.  

Rephrased:  If I have a single makefile in my src directory, and I'm
compiling in Windows, I would have expected it to make no difference
whether I call it Makefile or Makefile.win.   But it does.  "Makefile"
works, "Makefile.win" doesn't.

If I have both files, on Windows I would have expected the package
making process to completely ignore src/Makefile.  It appears that
this happens, but the make still doesn't work, because it acts like
Makefile.win alone.
>
>So they are quite distinct, in my understanding.
>
>You probably want to include MkRules in your own Makefile.win.

I added this line at the start:

include $(RHOME)/src/gnuwin32/MkRules

and the way it fails is different (it appears to have all the macros
defined, but the linker isn't finding some symbols it should).  I
tried adding 

include $(RHOME)/src/gnuwin32/MakeVars

but then make complained, because that MakeVars file just includes
this line 

!<arch>

which it doesn't understand (and either do I).

Duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pd@pubhealth.ku.dk  Wed Nov  7 06:15:03 2001
From: pd@pubhealth.ku.dk (Peter Dalgaard BSA)
Date: Wed, 7 Nov 2001 07:15:03 +0100
Subject: [Rd] Bug list summary (automatic post)
Message-ID: <200111070615.fA76F3Z11764@blueberry.kubism.ku.dk>

=================================================
This is an automated summary of the status of the R-bugs
repository.

Note that this may be neither complete nor perfectly
correct at any given instance: Not all bugs are reported,
and some reported bugs may have been fixed, but the
repository not yet updated.

Some bug fixes are difficult to verify because they pertain
to specific hardware or operating system versions. If you
have information to contribute, please do so.

If you happen to know how to fix a problem please send
patches to the bug repository, too.

New bugs are reported either through the web
interface at r-bugs.r-project.org or via email to
r-bugs@r-project.org. The bug.report() function can be
used to automate parts of the procedure on many systems.
Followups on older bugs can be done by including the string
"(PR#999)" in the Subject of an email (change 999 to the
actual reference number, of course!).
=================================================

Directory:  Accuracy

* PR# 1138 *
Subject:  round() doesnt
From: David Brahm  <a215020@onyx.fmr.com>
Date: Mon, 22 Oct 2001 18:08:50 -0400 (EDT)
--rounding accuracy on some platformns.  Continued in PR#1139.
* PR# 1139 *
Subject: round() doesn't
From: David Brahm  <a215020@agate.fmr.com>
Date: Mon, 22 Oct 2001 19:15:13 -0400 (EDT)
--rounding accurcay on some platforms. Part of PR#1138

Directory:  Add-ons

* PR# 974 *
Subject: Lattice: panel.superpose with ordered factor groups
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sat, 9 Jun 2001 11:08:51 +1000 (EST)
--The warning is standard S and R behaviour.
--Probably xyplot needs to avoid it (by unclassing?)
--Still there in lattice 0.3-0.
* PR# 981 *
Subject: read.xport() bug
From: abroman@jhu.edu
Date: Fri, 15 Jun 2001 00:25:54 +0200 (MET DST)
--confirmed on Windows and Solaris.
--Seems that file is not in the expected format
* PR# 1038 *
Subject: nlme: bug in getCovariateFormula
From: Setzer.Woodrow@epamail.epa.gov
Date: Tue, 31 Jul 2001 11:24:09 -0400
--change needed in package nlme
* PR# 1044 *
Subject: Polymarsall.c
From: pleu@hotmail.com
Date: Tue, 7 Aug 2001 22:42:07 +0200 (MET DST)
* PR# 1116 *
Subject: get.hist.quote does not work
From: arto.luoma@uta.fi
Date: Thu, 4 Oct 2001 14:45:29 +0200 (MET DST)
--Seems specific to one locale on one system.
--The bug is unlikely to be in R.
* PR# 1124 *
Subject: Wrong df in bartlett.test when subsetting data
From: jens.lund@nordea.com
Date: Wed, 10 Oct 2001 17:43:42 +0200 (MET DST)

Directory:  Analyses

none

Directory:  Documentation

* PR# 988 *
Subject: input for R-intro
From: "Paul E. Johnson" <pauljohn@ku.edu>
Date: Mon, 18 Jun 2001 13:57:10 -0500
* PR# 1011 *
Subject: R-intro suggestions part II
From: "Paul E. Johnson" <pauljohn@ukans.edu>
Date: Tue, 03 Jul 2001 15:50:06 -0500
* PR# 1113 *
Subject: bug.report() & docs should mention r-devel
From: murdoch@stats.uwo.ca
Date: Thu, 4 Oct 2001 01:23:27 +0200 (MET DST)
* PR# 1132 *
Subject: Problem with "describe" lists.
From: Rolf Turner <rolf@localhost.localdomain>
Date: Thu, 18 Oct 2001 16:41:03 +0800
* PR# 1136 *
Subject: cex/col/etc. in title(): documentation?
From: Ben Bolker <ben@zoo.ufl.edu>
Date: Mon, 22 Oct 2001 11:55:14 -0400 (EDT)
--MM:actually the documentation still could elaborate a bit..

Directory:  Graphics

* PR# 202 *
Subject: persp box occlusion bug
From: wsi@gcal.ac.uk
Date: Wed, 2 Jun 1999 15:02:03 +0200 (MET DST)
--The persp algorithm does not apply the occlusion rules to the frame, 
--which is always plotted first. 
--A bug, but not very simple to fix.
* PR# 660 *
Subject: identify.default ignores any setting of cex.
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
Date: Fri, 15 Sep 2000 10:23:39 +0100 (BST)
* PR# 776 *
Subject: strwidth does not take font into account
From: Martyn Plummer <plummer@iarc.fr>
Date: Tue, 19 Dec 2000 14:56:01 +0100 (CET)
--This needs a substantial redesign.
* PR# 791 *
Subject:  par(lab= *) / axis(*) bug 
From: maechler@stat.math.ethz.ch
Date: Fri, 22 Dec 2000 10:59:26 +0100
* PR# 816 *
Subject: dotplot: character size of labels
From: RINNER Heinrich <H.RINNER@TIROL.GV.AT>
Date: Thu, 18 Jan 2001 14:54:32 +0100
--Suggested fix is incorporated in 1.2.2.
--
--There is a deeper problem:  mtext() ignores par(cex=.5) in general.  
--To see the problem try:  par(cex=.5); mtext("hi")
--Paul thinks the right fix is to change the argument list for mtext so that
--cex=par(cex) by default rather than cex=NA by default (plus corresponding
--internal changes to  do_mtext in plot.c).
--This needs to be done very carefully because (i) the change suggested above 
--mayhave side-effects in many other pieces of interpreted code 
--(ii) do_mtext ignores dd->gp.cexbase unlike, for example, do_plot_xy 
--and anything to do with cexbase needs extreme care.
* PR# 820 *
Subject: interaction.plot
From: "Mark M. Span" <span@psy.uva.nl>
Date: Mon, 22 Jan 2001 10:47:39 +0100
--mtext is unscaled by default.  It is not clear if this should
--use the par("cex") setting or an inline cex setting such as cex.axis.
--It might make more sense to use axis rather than mtext, as boxplot does.
* PR# 828 *
Subject: termplot fails for composite non-factor terms
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sat, 27 Jan 2001 11:57:37 +1100 (EST)
--Neither of the proposed changes actually works in sufficient generality.
--
--The easy and unimportant part of this, the labels, is fixed in 1.2.2. Getting
--the data right is a project for 1.3
* PR# 831 *
Subject: screen can't go back to (split) screen with log="y" plot
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 30 Jan 2001 00:39:41 -0500
--Still there. Suggested fix included in followups, but we didn't get around to
--try it in time for 1.2.3.
--
--Fix doesn't work. One problem is that the opar<-par();par(opar) idiom updates
--xaxp before xlog, and the new value of xaxp may only be valid under the new
--value of xlog.
* PR# 837 *
Subject: screen doesn't handle redrawing properly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 01 Feb 2001 14:20:52 -0500
* PR# 887 *
Subject: axis(adj=anything) has no effect
From: jhallman@frb.gov
Date: Wed, 28 Mar 2001 20:51:05 +0200 (MET DST)
* PR# 916 *
Subject:  par(mgp) bug 
From: paul@stat.auckland.ac.nz
Date: Fri, 20 Apr 2001 08:33:45 +1200 (NZST)
* PR# 940 *
Subject: GCircle(): fails for non-clippable devices under certain circumstances (see below)
From: "Thomas Hoffmann" <thoffman@zappa.sax.de>
Date: Tue, 15 May 01 23:34:17 +0100
* PR# 943 *
Subject: legend() with xpd=T; omission of initial plot character
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sun, 20 May 2001 10:35:16 +1000
* PR# 997 *
Subject:  las=1 with log axis 
From: Peter Dalgaard BSA <pd@pubhealth.ku.dk>
Date: Wed, 27 Jun 2001 11:54:06 +0200
* PR# 1045 *
Subject: Palette changes on redraw
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 08 Aug 2001 19:08:01 +0200
* PR# 1088 *
Subject:  barplot forces xpd=TRUE 
From: Peter Whiting <pwhiting@whitings.org>
Date: Sat, 8 Sep 2001 10:19:00 -0500
* PR# 1095 *
Subject:  Bizarre clipping with abline and points 
From: J.C.Rougier@durham.ac.uk
Date: Wed, 19 Sep 2001 14:45:52 +0100
* PR# 1101 *
Subject: ugly in plotmath: frac(1, sqrt(...))
From: Uwe Ligges <ligges@statistik.uni-dortmund.de>
Date: Thu, 27 Sep 2001 10:37:07 +0200
* PR# 1147 *
Subject: postscript problem
From: kjetil halvorsen <kjetilh@umsanet.edu.bo>
Date: Fri, 26 Oct 2001 15:23:45 -0400
--This seems to be a problem with screen/layout rather than postscript.
* PR# 1157 *
Subject: identify(...plot=F)
From: Rolf Turner <rolf@maths.uwa.edu.au>
Date: Fri, 2 Nov 2001 09:43:49 +0800 (WST)

Directory:  In-Out

none

Directory:  Installation

* PR# 1034 *
Subject: Compiling R (1.3.0) on AIX (4.3) fails
From: "Thomas J Vogels" <tov@ece.cmu.edu>
Date: Sun, 29 Jul 2001 12:27:51 -0400

Directory:  Language

* PR# 408 *
Subject: convolution bug
From: wsimpson@gcal.ac.uk
Date: Fri, 28 Jan 2000 11:17:36 +0100 (MET)
* PR# 412 *
Subject: anomalies with call objects
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 06 Feb 2000 01:18:50 +0100
* PR# 669 *
Subject: Bug(s) w/ rbind.data.frame(); fix also read.table(*, as.is = TRUE) ?
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Mon, 25 Sep 2000 10:17:15 +0200
--status of AsIs columns
* PR# 921 *
Subject:  Managed to confuse match.arg 
From: J.C.Rougier@durham.ac.uk
Date: Wed, 25 Apr 2001 12:22:54 +0100 (BST)
* PR# 1052 *
Subject:  Inconsistent behaviour of is.vector? 
From: J.C.Rougier@durham.ac.uk
Date: Tue, 14 Aug 2001 09:04:57 +0100
* PR# 1073 *
Subject: Wierd problem comparing numeric values and list using ==
From: "Warnes, Gregory R" <gregory_r_warnes@groton.pfizer.com>
Date: Fri, 24 Aug 2001 22:07:41 -0400
--see also PR#1075
* PR# 1076 *
Subject: Re: [Rd] Wierd problem comparing numeric values and list using == 
From: John Chambers <jmc@research.bell-labs.com>
Date: Mon, 27 Aug 2001 08:44:22 -0400
--part of PR#1073

Directory:  Low-level

* PR# 989 *
Subject: "[.data.frame" allows un-named 3rd subscript
From: "Charles C. Berry" <cberry@tajo.ucsd.edu>
Date: Mon, 18 Jun 2001 13:13:46 -0700 (PDT)
* PR# 1063 *
Subject: interrupting Sys.sleep
From: Thomas Lumley <tlumley@u.washington.edu>
Date: Mon, 20 Aug 2001 13:55:29 -0700 (PDT)
* PR# 1068 *
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
From: Luke Tierney <luke@nokomis.stat.umn.edu>
Date: Wed, 22 Aug 2001 19:32:51 -0500
--see also followup in PR#1069
* PR# 1069 *
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
From: "John W. Eaton" <jwe@bevo.che.wisc.edu>
Date: Wed, 22 Aug 2001 21:56:33 -0500
--part of PR#1068
* PR# 1120 *
Subject: bug in write.table?
From: Ott Toomet <siim@obs.ee>
Date: Sun, 7 Oct 2001 18:24:34 +0200 (CEST)
--Traced down to an effect of read.dta in foreign interacting with do_paste. Fixed
--in foreign, but do_paste may need to use strlen() rather than LENGTH().
--

Directory:  Macintosh

none

Directory:  Misc

* PR# 1126 *
Subject: R-bug report www page whishlist
From: jens.lund@nordea.com
Date: Wed, 10 Oct 2001 18:24:29 +0200 (MET DST)

Directory:  Models

none

Directory:  Startup

none

Directory:  System-specific

* PR# 848 *
Subject: X11 device doesn't handle destroy events correcly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 13 Feb 2001 17:40:46 -0500
* PR# 1002 *
Subject: core dump running modreg-Ex.R
From: WhiteG@dfo-mpo.gc.ca
Date: Thu, 28 Jun 2001 19:14:18 +0200 (MET DST)
--Only reported on SGI, solved by removing optimization.
--Needs debugging there.
* PR# 1020 *
Subject: .Call and Mandrake 8.0
From: lcottret@yahoo.fr
Date: Wed, 11 Jul 2001 15:34:23 +0200 (MET DST)
--problem with symbol names only on Mandrake 8.0, not 7.2
--needs reply to follow-up
* PR# 1026 *
Subject: make check failure on SGI-IRIX6.5
From: laurent@cbs.dtu.dk
Date: Mon, 16 Jul 2001 15:06:17 +0200 (MET DST)
* PR# 1057 *
Subject: crt1.o skipped at configure time ?
From: laurent@cbs.dtu.dk
Date: Thu, 16 Aug 2001 08:52:34 +0200 (MET DST)
* PR# 1084 *
Subject: Install problems R 1.3.1 on HP-UX
From: Peter Kleiweg <kleiweg@let.rug.nl>
Date: Sun, 2 Sep 2001 15:07:41 +0200 (CEST)
* PR# 1097 *
Subject: R 1.3.1 fails 'make check' on arm in the Bessel example
From: Dirk Eddelbuettel <edd@debian.org>
Date: Thu, 20 Sep 2001 23:54:19 -0500
* PR# 1106 *
Subject: What is an error bu21?
From: Patrick Lindsey <patrick.lindsey@luc.ac.be>
Date: Mon, 1 Oct 2001 15:43:36 +0200 (MET DST)
--Looks like an SGI make bug
* PR# 1140 *
Subject: Possible bug, Rprof() and scan(pipe())
From: Don MacQueen <macq@llnl.gov>
Date: Tue, 23 Oct 2001 13:50:26 -0700
--Doesn't happen on Solaris or Linux
* PR# 1145 *
Subject: Problem testing R version 1.3.1 on SGI Irix
From: Gordon Lack <gml4410@ggr.co.uk>
Date: Fri, 26 Oct 2001 19:04:04 +0100

Directory:  TooMuchAtOnce

* PR# 1110 *
Subject: Several R vs S-Plus issues
From: David Brahm  <a215020@agate.fmr.com>
Date: Wed, 3 Oct 2001 11:35:58 -0400 (EDT)
--1. is perhaps a bug -- the best handling of string NAs is under discussion
--
--2 & 4 are just S-PLUS incompatibilities
--
--3. May be a bug -- worth checking.

Directory:  Windows

* PR# 1135 *
Subject: Canceling close behaves incorrectly
From: john_heumann@agilent.com
Date: Sat, 20 Oct 2001 01:02:02 +0200 (MET DST)

Directory:  incoming

* PR# 1158 *
Subject: bug.report()sends empty message
From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
Date: Mon, 05 Nov 2001 10:05:27 -0500
* PR# 1159 *
Subject: stepwise algorithm step() on coxph()
From: jerome@hivnet.ubc.ca
Date: Mon, 5 Nov 2001 23:41:14 +0100 (MET)
* PR# 1160 *
Subject: incorrect xlim error message in image() 
Subject: Re: image function
From: Jane Fridlyand <janef@stat.berkeley.edu>
From: Jason Turner <jasont@indigoindustrial.co.nz>
Date: Tue, 6 Nov 2001 10:19:31 -0800 (PST)
Date: Fri, 2 Nov 2001 20:32:23 +1300
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rolf@maths.uwa.edu.au  Wed Nov  7 10:07:34 2001
From: rolf@maths.uwa.edu.au (rolf@maths.uwa.edu.au)
Date: Wed, 7 Nov 2001 11:07:34 +0100 (MET)
Subject: [Rd] x-axis label in persp() (PR#1161)
Message-ID: <200111071007.LAA22537@pubhealth.ku.dk>


If the surface to be plotted by persp() is supplied as
a list, the x-axis label defaults to the name, in the call,
of this list --- which is usually silly.

I would suggest changing the first four lines of
persp.default() (where the x-axis label gets set) from

if (is.null(xlab))
        xlab <- if (!missing(x))
            deparse(substitute(x))
        else "X"

to

if (is.null(xlab))
        xlab <- if (!missing(x) && !is.list(x) && !is.matrix(x))
            deparse(substitute(x))
        else "X"

which makes the x-axis label default to "X" if the surface
is specified as a list.


					cheers,

						Rolf Turner

Current email address: rolf@maths.uwa.edu.au
Usual email address:   rolf@math.unb.ca

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Wed Nov  7 18:51:33 2001
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 07 Nov 2001 13:51:33 -0500
Subject: [Rd] segmentation fault with GCC 3.0.2
Message-ID: <3BE982B4.5043FEDB@bank-banque-canada.ca>

I have now tested R 1.3.1 compiled with GCC 3.0.2 on Solaris and the example I
previously posted (repeated below) still gives a segmentation fault, as it does
with GCC 3.0.1 but not with 2.95.2. The eigen calculation sometimes needs to be
repeated several times before the segmentation fault occurs. La.eigen does not
cause a problem. (The problem occurred with R-devel too, but I have not tested
that with GCC 3.0.2.)

One potential problem is that when I configure or make R there are some
inappropriate libraries being picked up. I am not certain where to look or what
to look for, but further below I have copied my guess of the appropriate parts
from configure and make outputs. The only warning is about clock skew (the time
on the file server is not very well synchronized with my machine), but I have
never known this to cause a serious problem.

Any help would be appreciated.

Thanks,
Paul
_____
zz <- t(matrix(c(
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.082008166, -0.066322053,
-0.115616348,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.038919428,  0.009703382,
0.115944209,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.007823026, -0.068859673,
0.025264756,
1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.067027108,  0.087934957,
-0.316974768,
0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.024890008,  0.052195412,
-0.015138322,
0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.028192857, -0.004832597,
0.207879665,
0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.078706928, -0.012801413,
0.425960682,
0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.102169750,  0.163238356,
-0.150373125,
0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.002685166,  0.014355904,
0.197912183,
0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0,  0.042937314,  0.115719388,
0.679370293,
0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0,  0.032306141,  0.263227910,
0.009171148,
0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0,  0.008238734, -0.031480706,
0.051976566,
0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0,  0.015219148,  0.221345314,
0.020146770,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0,  0.039741608,  0.092955553,
-0.262550823,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0,  0.012624418,  0.047810873,
0.201673308,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, -0.114163303,  0.417786916,
0.253110874,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0,  0.049894329, -0.155696562,
-0.049735728,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1,  0.006112607,  0.074242237,
0.034046467
), 18,18))

eigen(zz)$values
eigen(zz)$values
eigen(zz)$values
eigen(zz)$values
eigen(zz)$values
eigen(zz)$values
eigen(zz)$values
eigen(zz)$values
Segmentation Fault - core dumped

_______
my guess at important parts from ./config output:

checking host system type... sparc-sun-solaris2.6
...
checking build system type... sparc-sun-solaris2.6
checking for ld used by GCC... /usr/ccs/bin/ld
checking if the linker (/usr/ccs/bin/ld) is GNU ld... no
checking for /usr/ccs/bin/ld option to reload object files... -r
...
checking dynamic linker characteristics... solaris2.6 ld.so
checking if libtool supports shared libraries... yes
...
checking for g77... g77
checking whether the Fortran 77 compiler (g77  ) works... yes
checking whether the Fortran 77 compiler (g77  ) is a cross-compiler... no
checking whether we are using GNU Fortran 77... yes
checking whether g77 accepts -g... yes
checking for Fortran 77 libraries...  -lg2c -lm  -L/usr/ccs/lib -L/usr/lib
-L/apps/asd/unix/gnu/gcc/3.0.2/install/lib/gcc-lib
-L/apps/asd/unix/gnu/gcc/3.0.2/install/lib/gcc-lib/sparc-sun-solaris2.6/3.0.2
-L/usr/ccs/bin -L/usr/ccs/lib
-L/apps/asd/unix/gnu/gcc/3.0.2/install/lib/gcc-lib/sparc-sun-solaris2.6/3.0.2/../../..
-lm
checking whether g77 appends underscores... yes
checking whether g77 and gcc agree on int and double... yes
checking whether g77 and gcc agree on double complex... yes
checking whether g77 supports -c -o FILE.lo... yes
checking for c++... c++
checking whether the C++ compiler (c++  ) works... yes
checking whether the C++ compiler (c++  ) is a cross-compiler... yes
checking whether we are using GNU C++... yes
checking whether c++ accepts -g... yes
checking how to run the C++ preprocessor... c++ -E
...
checking for GNU C library with version >= 2... no
...
R is now configured for sparc-sun-solaris2.6

  Source directory:          .
  Installation directory:    /usr/local
  C compiler:                gcc  -g -O2
  C++ compiler:              c++  -g -O2
  FORTRAN compiler:          g77  -g -O2

  X11 support:               yes
  Gnome support:             no
  Tcl/Tk support:            no

  R profiling support:       yes
  R as a shared library:     no
_____
my guess at important parts from the make:
...
make[3]: Entering directory `/home/mfa5/gilp/R/R-1.3.1.gnu3.0.2/src/appl'
gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
-DHAVE_CONFIG_H   -g -O2 -c approx.c -o approx.o
...
g77   -g -O2 -c eigen.f -o eigen.o
g77   -g -O2 -c lminfl.f -o lminfl.o
g77   -g -O2 -c blas.f -o blas.o
ar cr libappl.a approx.o bakslv.o binning.o chull.o cpoly.o cumsum.o fft.o
fmin.o integrate.o lbfgsb.o loglin.o lowess.o machar.o maxcol.o massdist.o
pretty.o rowsum.o splines.o stem.o strsignif.o tabulate.o uncmin.o zeroin.o
ch2inv.o chol.o dpbfa.o dpbsl.o dpoco.o dpodi.o dpofa.o dposl.o dqrdc.o dqrdc2.o
dqrls.o dqrsl.o dqrutl.o dsvdc.o dtrco.o dtrsl.o eigen.o lminfl.o blas.o
ranlib libappl.a
make[3]: Leaving directory `/home/mfa5/gilp/R/R-1.3.1.gnu3.0.2/src/appl'
make[2]: Leaving directory `/home/mfa5/gilp/R/R-1.3.1.gnu3.0.2/src/appl'
...
gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
-DHAVE_CONFIG_H   -g -O2 -c vfonts.c -o vfonts.o
g77   -g -O2 -c xxxpr.f -o xxxpr.o
gcc   -o R.bin  CConverters.o Rdynload.o RNG.o apply.o arithmetic.o array.o
attrib.o bind.o builtin.o character.o coerce.o colors.o complex.o connections.o
context.o cov.o cum.o dcf.o datetime.o debug.o devPS.o devPicTeX.o deparse.o
deriv.o devices.o dotcode.o dstruct.o duplicate.o envir.o errors.o eval.o
format.o fourier.o gram.o gram-ex.o graphics.o internet.o iosupport.o lapack.o
list.o logic.o main.o match.o memory.o model.o names.o objects.o optim.o
optimize.o options.o par.o paste.o platform.o plot.o plot3d.o plotmath.o print.o
printarray.o printvector.o printutils.o random.o regex.o relop.o saveload.o
scan.o seq.o size.o sort.o source.o split.o subassign.o subscript.o subset.o
summary.o unique.o util.o version.o vfonts.o xxxpr.o ../unix/libunix.a
../appl/libappl.a ../nmath/libnmath.a   -lg2c -lm  -L/usr/ccs/lib -L/usr/lib
-L/apps/asd/unix/gnu/gcc/3.0.2/install/lib/gcc-lib
-L/apps/asd/unix/gnu/gcc/3.0.2/install/lib/gcc-lib/sparc-sun-solaris2.6/3.0.2
-L/usr/ccs/bin -L/usr/ccs/lib
-L/apps/asd/unix/gnu/gcc/3.0.2/install/lib/gcc-lib/sparc-sun-solaris2.6/3.0.2/../../..
-lm  -L/usr/local/lib  -lnsl -lsocket -ldl -ltermcap -lm
make[4]: Entering directory `/home/mfa5/gilp/R/R-1.3.1.gnu3.0.2/src/main'
...
make[4]: warning:  Clock skew detected.  Your build may be incomplete.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Nov  7 19:11:30 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 Nov 2001 20:11:30 +0100
Subject: [Rd] segmentation fault with GCC 3.0.2
In-Reply-To: <3BE982B4.5043FEDB@bank-banque-canada.ca>
References: <3BE982B4.5043FEDB@bank-banque-canada.ca>
Message-ID: <x2bsie75wd.fsf@blueberry.kubism.ku.dk>

Paul Gilbert <pgilbert@bank-banque-canada.ca> writes:

> I have now tested R 1.3.1 compiled with GCC 3.0.2 on Solaris and the example I
> previously posted (repeated below) still gives a segmentation fault, as it does
> with GCC 3.0.1 but not with 2.95.2. The eigen calculation sometimes needs to be
> repeated several times before the segmentation fault occurs. La.eigen does not
> cause a problem. (The problem occurred with R-devel too, but I have not tested
> that with GCC 3.0.2.)
> 
> One potential problem is that when I configure or make R there are some
> inappropriate libraries being picked up. I am not certain where to look or what
> to look for, but further below I have copied my guess of the appropriate parts
> from configure and make outputs. The only warning is about clock skew (the time
> on the file server is not very well synchronized with my machine), but I have
> never known this to cause a serious problem.
> 
> Any help would be appreciated.

I don't know if it helps, but I see it too... 3.0.1 on Solaris 2.7.

gdb says that it is happening at l.2144 of eigen.f:

2142    C
2143                DO 760 J = M, EN
2144                   RA = RA + H(I,J) * H(J,NA)
2145                   SA = SA + H(I,J) * H(J,EN)
2146      760       CONTINUE
2147    C

J prints as 7289784 for me, which looks a bit weird since M and EN are
17 and 18 respectively. However, optimizers sometimes cause this sort
of thing.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Thu Nov  8 11:44:03 2001
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich.Leisch@ci.tuwien.ac.at)
Date: Thu, 8 Nov 2001 12:44:03 +0100
Subject: [Rd] devel snapshots on CRAN
Message-ID: <15338.28675.632530.668158@galadriel.ci.tuwien.ac.at>


We are currently investigating our http and ftp logs in order to get a
hold on which parts of CRAN are rather popula and which not (because
our computing center wants to know if all the traffic generated by
CRAN is really necessary).

One thing we stumbled about that generates a lot of traffic are the
daily snapshots of the R sources, which are mirrored to all CRAN nodes
daily: the mirroring seems to generate much more traffic than there
are actual downloads (at least from our site). There are 3 versions
each saved as .tar.gz and .tar.gz making a daily total of approx. 30MB
CHANGING EVERY DAY.

Downloads seem to be more in the order of once per week.

Question: Would you see it as a strong loss if these were available
only from 1 or sites rather than every CRAN node? Please respond in
private if so, I'll post a summary to the list.

This does not affect the sources of R releases (which get downloaded
very often), only the daily snapshots from the directory
$CRAN/src/devel.

Best,
Fritz




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pflugshaupt@geobot.umnw.ethz.ch  Thu Nov  8 17:39:45 2001
From: pflugshaupt@geobot.umnw.ethz.ch (pflugshaupt@geobot.umnw.ethz.ch)
Date: Thu, 8 Nov 2001 18:39:45 +0100 (MET)
Subject: [Rd] eqscplot() in library MASS: fails when given only one point (PR#1162)
Message-ID: <200111081739.SAA12452@pubhealth.ku.dk>

I found the following in eqscplot, library MASS:


When given just one point, it fails:

> eqscplot(x=1, y=1)
Error in plot.window(xlim, ylim, log, asp, ...) :
    need finite xlim values

After inserting browser() just before the last line in eqscplot() (in which
plot() gets called), I found the following:

> eqscplot(x=1, y=1)
Called from: eqscplot(x = 1, y = 1)
Browse[1]> xlim
[1] NaN NaN
Browse[1]> ylim
[1] NaN NaN


This results from the lines 35 and 36:

    xuin <- oxuin <- oldpin[1]/diff(xlim)
    yuin <- oyuin <- oldpin[2]/diff(ylim)

which will give Inf values, since diff(xlim) and diff(ylim) will be zero at
that point (xlim and ylim containing c(1, 1) in this case).

I can't propose a patch, though, since I haven't the time to really work out
how the calculation is done (sorry).

> version
         _         
platform ppc-apple-macos
arch     ppc       
os       MacOS     
system   ppc, MacOS
status             
major    1         
minor    3.1       
year     2001      
month    08        
day      31        
language R      

I use the MASS version which comes with the current full Mac R package
(rm131_FULL.sit). If this is already fixed in a newer version of the
library, I apologize for the waste of bandwidth.


Cheers

Kaspar Pflugshaupt



-- 

Kaspar Pflugshaupt
Geobotanisches Institut
Zuerichbergstr. 38
CH-8044 Zuerich

Tel. ++41 1 632 43 19
Fax  ++41 1 632 12 15

mailto:pflugshaupt@geobot.umnw.ethz.ch
privat:pflugshaupt@mails.ch
http://www.geobot.umnw.ethz.ch


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Nov  9 07:44:07 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 9 Nov 2001 08:44:07 +0100 (MET)
Subject: [Rd] eqscplot() in library MASS: fails when given only one point (PR#1164)
Message-ID: <200111090744.IAA15047@pubhealth.ku.dk>

This is not a bug.  There is no way one can scale the plot axes equally
when no indication has been given of the scaling expected for either!

It has always seemd to be that plot(x=1, y=1) shoul dnot work: it
has not supplied enough information!

On Thu, 8 Nov 2001 pflugshaupt@geobot.umnw.ethz.ch wrote:

> I found the following in eqscplot, library MASS:
>
>
> When given just one point, it fails:
>
> > eqscplot(x=1, y=1)
> Error in plot.window(xlim, ylim, log, asp, ...) :
>     need finite xlim values
>
> After inserting browser() just before the last line in eqscplot() (in which
> plot() gets called), I found the following:
>
> > eqscplot(x=1, y=1)
> Called from: eqscplot(x = 1, y = 1)
> Browse[1]> xlim
> [1] NaN NaN
> Browse[1]> ylim
> [1] NaN NaN
>
>
> This results from the lines 35 and 36:
>
>     xuin <- oxuin <- oldpin[1]/diff(xlim)
>     yuin <- oyuin <- oldpin[2]/diff(ylim)
>
> which will give Inf values, since diff(xlim) and diff(ylim) will be zero at
> that point (xlim and ylim containing c(1, 1) in this case).
>
> I can't propose a patch, though, since I haven't the time to really work out
> how the calculation is done (sorry).
>
> > version
>          _
> platform ppc-apple-macos
> arch     ppc
> os       MacOS
> system   ppc, MacOS
> status
> major    1
> minor    3.1
> year     2001
> month    08
> day      31
> language R
>
> I use the MASS version which comes with the current full Mac R package
> (rm131_FULL.sit). If this is already fixed in a newer version of the
> library, I apologize for the waste of bandwidth.
>
>
> Cheers
>
> Kaspar Pflugshaupt
>
>
>
> --
>
> Kaspar Pflugshaupt
> Geobotanisches Institut
> Zuerichbergstr. 38
> CH-8044 Zuerich
>
> Tel. ++41 1 632 43 19
> Fax  ++41 1 632 12 15
>
> mailto:pflugshaupt@geobot.umnw.ethz.ch
> privat:pflugshaupt@mails.ch
> http://www.geobot.umnw.ethz.ch
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Sun Nov 11 17:24:14 2001
From: edd@debian.org (edd@debian.org)
Date: Sun, 11 Nov 2001 18:24:14 +0100 (MET)
Subject: [Rd] Gnits about setting LD_LIBRARY_PATH from R (PR#1166)
Message-ID: <200111111724.SAA29600@pubhealth.ku.dk>

Full_Name: Dirk Eddelbuettel
Version: 1.3.1
OS: Linux
Submission from: (NULL) (65.184.214.9)



[ This bug report has previously been filed as #71917 in the Debian Bug Tracking
System. --edd ]

From: "Stephen J. Turnbull" <turnbull@sk.tsukuba.ac.jp>
Date: Mon, 18 Sep 2000 19:48:11 +0900 (JST)
To: submit@bugs.debian.org
Subject: r-base gnits

Package: r-base
Version: 1.1.1-1

[1] The R startup script sets LD_LIBRARY_PATH to start with
/usr/local/lib/.  I have installed a development version of glibc 2.2
there; needless to say R was not pleased with the little switcheroo
between /lib/ld-linux.so.2 and /usr/local/lib/libc.so.6.

I don't see any need for this.  If dl modules are being downloaded
from CRAN, they should go in /usr/local/lib/R/ or something like that,
not in /usr/local/lib.  Of course if they're Debianized, they
shouldn't be put in /usr/local at all.

[2] I don't have Netscape, I'm using Mozilla and Lynx mostly.
Something like xfig-www-browser(1) should be used to try and come up
with a sensible guess at a help browser.

-- 
University of Tsukuba                Tennodai 1-1-1 Tsukuba 305-8573 JAPAN
Institute of Policy and Planning Sciences       Tel/fax: +81 (298) 53-5091
_________________  _________________  _________________  _________________
What are those straight lines for?  "XEmacs rules."




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Sun Nov 11 17:24:03 2001
From: edd@debian.org (edd@debian.org)
Date: Sun, 11 Nov 2001 18:24:03 +0100 (MET)
Subject: [Rd] png output requires X connection (PR#1165)
Message-ID: <200111111724.SAA29588@pubhealth.ku.dk>

Full_Name: Dirk Eddelbuettel
Version: 1.3.1
OS: Linux
Submission from: (NULL) (65.184.214.9)



[ This bug report has previously been filed as #115186 in the Debian Bug
Tracking System. --edd ]


From: Ryan Murray <rmurray@cyberhqz.com>
Subject: r-base: png output requires X connection
To: submit@bugs.debian.org
Date: Wed, 10 Oct 2001 13:40:06 -0700

Package: r-base
Version: 1.3.1-2
Severity: wishlist

R doesn't allow use of png() without an X display.  It would be great for
automated graph generation if an X display were not required.  While one can
workaround this by using postscript() and the png output of ghostscript, the
output does not look as good as R using the png() device directly.

-- System Information
Debian Release: testing/unstable
Kernel Version: Linux cyberhq 2.4.9 #1 SMP Sun Aug 19 21:47:15 PDT 2001 i686
unknown

Versions of the packages r-base depends on:
ii  libc6          2.2.4-3        GNU C Library: Shared libraries and Timezone
ii  libjpeg62      6b-1.3         The Independent JPEG Group's JPEG runtime li
ii  libncurses5    5.2.20010318-3 Shared libraries for terminal handling
ii  libpng2        1.0.12-2       PNG library - runtime
ii  libreadline4   4.2-5          GNU readline and history libraries, run-time
ii  perl           5.6.1-5        Larry Wall's Practical Extraction and Report
ii  tcl8.0         8.0.5-6        The Tool Command Language (TCL) v8.0 - Run-T
ii  tk8.0          8.0.5-9        The Tk toolkit for TCL and X11 v8.0 - Run-Ti
ii  xlibs          4.1.0-7        X Window System client libraries
ii  zlib-bin       1.1.3-16       compression library - sample programs
ii  zlib1g         1.1.3-16       compression library - runtime
ii  atlas2-base    3.2.1-12       Automatically Tuned Linear Algebra Software
        ^^^ (Provides virtual package blas2)




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Nov 11 17:40:13 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 11 Nov 2001 18:40:13 +0100 (MET)
Subject: [Rd] png output requires X connection (PR#1165)
Message-ID: <200111111740.SAA29642@pubhealth.ku.dk>

I was extremely disappointed by this report.  Unix/Linux R users should
appreciate what was ported from the Windows version for them and not send
a bug report on a well-documented restriction.  Especially when the `See
Also' mentions an alternative!

The comment only applies to R on Unix/Linux, not to the original png
device on Windows.  It ignores the bitmap() device which we also provide,
and the warnings in the help page, to wit:

     R can be compiled without support for either or both of these
     devices: this will be reported if you attempt to use them on a
     system where they are not supported.  They will not be
     available if R has been started with `--gui=none' (and will give a
     different error message).

Now, why send a bug report about something documented on the help page?
(And you need a X display for any other --gui option, including the
default.)   Please do read the section in the R FAQ about what is a bug,
and act on it.


On Sun, 11 Nov 2001 edd@debian.org wrote:

> Full_Name: Dirk Eddelbuettel
> Version: 1.3.1
> OS: Linux
> Submission from: (NULL) (65.184.214.9)
>
>
>
> [ This bug report has previously been filed as #115186 in the Debian Bug
> Tracking System. --edd ]
>
>
> From: Ryan Murray <rmurray@cyberhqz.com>
> Subject: r-base: png output requires X connection
> To: submit@bugs.debian.org
> Date: Wed, 10 Oct 2001 13:40:06 -0700
>
> Package: r-base
> Version: 1.3.1-2
> Severity: wishlist
>
> R doesn't allow use of png() without an X display.  It would be great for
> automated graph generation if an X display were not required.

See the `See Also' on ?png!

>  While one can
> workaround this by using postscript() and the png output of ghostscript, the
> output does not look as good as R using the png() device directly.
>
> -- System Information
> Debian Release: testing/unstable
> Kernel Version: Linux cyberhq 2.4.9 #1 SMP Sun Aug 19 21:47:15 PDT 2001 i686
> unknown
>
> Versions of the packages r-base depends on:
> ii  libc6          2.2.4-3        GNU C Library: Shared libraries and Timezone
> ii  libjpeg62      6b-1.3         The Independent JPEG Group's JPEG runtime li
> ii  libncurses5    5.2.20010318-3 Shared libraries for terminal handling
> ii  libpng2        1.0.12-2       PNG library - runtime
> ii  libreadline4   4.2-5          GNU readline and history libraries, run-time
> ii  perl           5.6.1-5        Larry Wall's Practical Extraction and Report
> ii  tcl8.0         8.0.5-6        The Tool Command Language (TCL) v8.0 - Run-T
> ii  tk8.0          8.0.5-9        The Tk toolkit for TCL and X11 v8.0 - Run-Ti
> ii  xlibs          4.1.0-7        X Window System client libraries
> ii  zlib-bin       1.1.3-16       compression library - sample programs
> ii  zlib1g         1.1.3-16       compression library - runtime
> ii  atlas2-base    3.2.1-12       Automatically Tuned Linear Algebra Software
>         ^^^ (Provides virtual package blas2)
>
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rmurray@debian.org  Sun Nov 11 18:01:35 2001
From: rmurray@debian.org (rmurray@debian.org)
Date: Sun, 11 Nov 2001 19:01:35 +0100 (MET)
Subject: [Rd] png output requires X connection (PR#1165)
Message-ID: <200111111801.TAA29772@pubhealth.ku.dk>


--+nLR7g8KNfrRqv5t
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable

On Sun, Nov 11, 2001 at 05:39:53PM +0000, Prof Brian Ripley wrote:
> I was extremely disappointed by this report.  Unix/Linux R users should
> appreciate what was ported from the Windows version for them and not send
> a bug report on a well-documented restriction.  Especially when the `See

It's not a bug so much as a wishlist request (which is why it was
filed at the wishlist severity).  The output of R's png() is far
better than using postscript and having ghostscript write out the png.

> Now, why send a bug report about something documented on the help page?
> (And you need a X display for any other --gui option, including the
> default.)   Please do read the section in the R FAQ about what is a bug,
> and act on it.

This is a wishlist item more than a bug.  I wish it worked the way the
output is sharp and clear.  As it is, the graph looks noticeably worse
than when it was generated directly with png().  I think this is worth
changing to remove the restriction.

--=20
Ryan Murray, Debian Developer (rmurray@cyberhqz.com, rmurray@debian.org)
The opinions expressed here are my own.

--+nLR7g8KNfrRqv5t
Content-Type: application/pgp-signature
Content-Disposition: inline

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.6 (GNU/Linux)
Comment: For info see http://www.gnupg.org

iD8DBQE77rzuN2Dbz/1mRasRAslgAJ4yWuXoojlOdcJArHeYc2h0HtKy4gCgt69T
J1daMhISXHwvaIJC6XYemOU=
=f+Ci
-----END PGP SIGNATURE-----

--+nLR7g8KNfrRqv5t--

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Nov 11 19:13:00 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 11 Nov 2001 20:13:00 +0100 (MET)
Subject: [Rd] png output requires X connection (PR#1165)
Message-ID: <200111111913.UAA29961@pubhealth.ku.dk>

On Sun, 11 Nov 2001, Ryan Murray wrote:

> On Sun, Nov 11, 2001 at 05:39:53PM +0000, Prof Brian Ripley wrote:
> > I was extremely disappointed by this report.  Unix/Linux R users should
> > appreciate what was ported from the Windows version for them and not send
> > a bug report on a well-documented restriction.  Especially when the `See
>
> It's not a bug so much as a wishlist request (which is why it was
> filed at the wishlist severity).  The output of R's png() is far
> better than using postscript and having ghostscript write out the png.

The subject line states this a bug, not an enhancement request.

> > Now, why send a bug report about something documented on the help page?
> > (And you need a X display for any other --gui option, including the
> > default.)   Please do read the section in the R FAQ about what is a bug,
> > and act on it.
>
> This is a wishlist item more than a bug.  I wish it worked the way the
> output is sharp and clear.  As it is, the graph looks noticeably worse
> than when it was generated directly with png().  I think this is worth
> changing to remove the restriction.

It is good to hear that you have volunteered to provide one.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sun Nov 11 22:28:28 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 11 Nov 2001 23:28:28 +0100
Subject: [Rd] png output requires X connection (PR#1165)
In-Reply-To: <200111111740.SAA29642@pubhealth.ku.dk>
References: <200111111740.SAA29642@pubhealth.ku.dk>
Message-ID: <x2zo5trlgz.fsf@blueberry.kubism.ku.dk>

ripley@stats.ox.ac.uk writes:

> I was extremely disappointed by this report.  Unix/Linux R users should
> appreciate what was ported from the Windows version for them and not send
> a bug report on a well-documented restriction.  Especially when the `See
> Also' mentions an alternative!
> 
> The comment only applies to R on Unix/Linux, not to the original png
> device on Windows.  It ignores the bitmap() device which we also provide,
> and the warnings in the help page, to wit:

Yes, well, but...

> > [ This bug report has previously been filed as #115186 in the
> > Debian Bug
> > Tracking System. --edd ]

I think the important thing about this is that Dirk is now taking
action to ensure that bugs are not lingering in the Debian system
without anyone taking notice of it. This will obviously require that
he doesn't think too deeply about whether something is a bug or not
before forwarding it...

(BTW: The thing that the user wants might be done using an Xvfb
(virtual framebuffer) server?)


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From hcp@met.ed.ac.uk  Mon Nov 12 11:58:24 2001
From: hcp@met.ed.ac.uk (H C Pumphrey)
Date: Mon, 12 Nov 2001 11:58:24 +0000 (GMT)
Subject: [Rd] Filled Contour.
Message-ID: <Pine.GSO.4.10.10111121120130.5888-100000@humilis>


Hi.

I'm a big user of level plots. Because filled.contour() didn't do exactly
what I wanted, I hacked at it a bit to add these options:

(*) Even spacing in the key, even if the contours are not evenly spaced.

(*) Horizontal key

(*) options to not use layout() and to plot only the level plot _or_ 
    only the key.  This means you can use layout yourself to (e.g.) 
    have several level plots which share a key.

(*) overlay some or all of the level boundaries with contour lines.

Now, I find this useful. If I am the only one, I'll go away and shut up
but if anyone else thinks these are generally useful enhancements then
I could clean up filled.contour.{R,Rd} and find out how to submit them. 

The current docs say "In future [filled.contour()] is likely to be
replaced by a genuine \code{levelplot} function which will work in
multipanel displays." If this is going to happen in the foreseeable
future, then it will certainly be a better solution than mine. Could
anyone fill me in on  what is happening on this front? 

many thanks, 

Hugh

============S=u=p=p=o=r=t===D=e=b=i=a=n===http://www.debian.org============
Dr. Hugh C. Pumphrey             | Tel. 0131-650-6026,Fax:0131-650-5780
Institute for Meteorology        | Replace 0131 with +44-131 if outside UK
The University of Edinburgh      | Email hcp@met.ed.ac.uk
EDINBURGH EH9 3JZ, Scotland      | URL: http://www.met.ed.ac.uk/~hcp
============S=u=p=p=o=r=t==g=9=5==http://g95.sourceforge.net/==============

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From deepayansarkar@yahoo.com  Mon Nov 12 16:57:39 2001
From: deepayansarkar@yahoo.com (Deepayan Sarkar)
Date: Mon, 12 Nov 2001 08:57:39 -0800 (PST)
Subject: [Rd] Filled Contour.
In-Reply-To: <Pine.GSO.4.10.10111121120130.5888-100000@humilis>
Message-ID: <20011112165739.11185.qmail@web13908.mail.yahoo.com>



To answer the last part of your question, there is a
preliminary version of levelplot (as yet slow, and
without an implementation of contours) already in the
lattice package (under development).

--- H C Pumphrey <hcp@met.ed.ac.uk> wrote:
> 
> Hi.
> 
> I'm a big user of level plots. Because
> filled.contour() didn't do exactly
> what I wanted, I hacked at it a bit to add these
> options:
> 
> (*) Even spacing in the key, even if the contours
> are not evenly spaced.
> 
> (*) Horizontal key
> 
> (*) options to not use layout() and to plot only the
> level plot _or_ 
>     only the key.  This means you can use layout
> yourself to (e.g.) 
>     have several level plots which share a key.
> 
> (*) overlay some or all of the level boundaries with
> contour lines.
> 
> Now, I find this useful. If I am the only one, I'll
> go away and shut up
> but if anyone else thinks these are generally useful
> enhancements then
> I could clean up filled.contour.{R,Rd} and find out
> how to submit them. 
> 
> The current docs say "In future [filled.contour()]
> is likely to be
> replaced by a genuine \code{levelplot} function
> which will work in
> multipanel displays." If this is going to happen in
> the foreseeable
> future, then it will certainly be a better solution
> than mine. Could
> anyone fill me in on  what is happening on this
> front? 
> 
> many thanks, 
> 
> Hugh
> 
>
============S=u=p=p=o=r=t===D=e=b=i=a=n===http://www.debian.org============
> Dr. Hugh C. Pumphrey             | Tel.
> 0131-650-6026,Fax:0131-650-5780
> Institute for Meteorology        | Replace 0131 with
> +44-131 if outside UK
> The University of Edinburgh      | Email
> hcp@met.ed.ac.uk
> EDINBURGH EH9 3JZ, Scotland      | URL:
> http://www.met.ed.ac.uk/~hcp
>
============S=u=p=p=o=r=t==g=9=5==http://g95.sourceforge.net/==============
> 
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To:
> r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Tue Nov 13 03:01:21 2001
From: edd@debian.org (edd@debian.org)
Date: Tue, 13 Nov 2001 04:01:21 +0100 (MET)
Subject: [Rd] r-gnome: plots go blank directly after R is finished plotting (PR#1167)
Message-ID: <200111130301.EAA15337@pubhealth.ku.dk>

Full_Name: Dirk Eddelbuettel
Version: 1.3.1
OS: Linux
Submission from: (NULL) (65.184.214.9)



[ This bug report has previously been filed as #116701 in the 
  Debian Bug Tracking System. --edd ]

From: Egon Willighagen <egonw@sci.kun.nl>
To: Debian Bug Tracking System <submit@bugs.debian.org>
Subject: r-gnome: plots go blank directly after R is finished plotting
Date: Mon, 22 Oct 2001 23:44:41 +0200

Package: r-gnome
Version: 1.3.1-2
Severity: important

When using the plot() function, the output is drawn, but directly after R is
finished drawing the plot window turns blank again. This does not happen when
i do the same in the non-Gnome based R version.

-- System Information
Debian Release: testing/unstable
Architecture: i386
Kernel: Linux garak.sci.kun.nl 2.4.9 #6 Sat Sep 22 19:29:03 CEST 2001 i686
Locale: LANG=, LC_CTYPE=


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Tue Nov 13 10:27:57 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Tue, 13 Nov 2001 11:27:57 +0100
Subject: [Rd] r-gnome: plots go blank directly after R is finished plotting (PR#1167)
In-Reply-To: <200111130301.EAA15337@pubhealth.ku.dk>
References: <200111130301.EAA15337@pubhealth.ku.dk>
Message-ID: <15344.62893.22900.549313@mithrandir.hornik.net>

>>>>> edd  writes:

> Full_Name: Dirk Eddelbuettel
> Version: 1.3.1
> OS: Linux
> Submission from: (NULL) (65.184.214.9)



> [ This bug report has previously been filed as #116701 in the 
>   Debian Bug Tracking System. --edd ]

> From: Egon Willighagen <egonw@sci.kun.nl>
> To: Debian Bug Tracking System <submit@bugs.debian.org>
> Subject: r-gnome: plots go blank directly after R is finished plotting
> Date: Mon, 22 Oct 2001 23:44:41 +0200

> Package: r-gnome
> Version: 1.3.1-2
> Severity: important

> When using the plot() function, the output is drawn, but directly
> after R is finished drawing the plot window turns blank again. This
> does not happen when i do the same in the non-Gnome based R version.

Does not happen for me with the current 1.3.1-4.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.C.Rougier@durham.ac.uk  Tue Nov 13 12:49:41 2001
From: J.C.Rougier@durham.ac.uk (Jonathan Rougier)
Date: Tue, 13 Nov 2001 12:49:41 +0000
Subject: [Rd] Small change to "cut.default"
Message-ID: <3BF116E5.C16B9290@durham.ac.uk>

Hi everyone,

Can I suggest the following cosmetic change to cut.default (R-1.3.1), to
adjust the labels in the case that include.lowest = TRUE:

arrow:dma0jcr% diff -u cut.R my.cut.R 
--- cut.R       Tue Nov 13 12:28:35 2001
+++ my.cut.R    Tue Nov 13 12:35:16 2001
@@ -25,6 +25,11 @@
                         ch.br[-nb], ",", ch.br[-1],
                         if(right)"]" else ")", sep='')
            else paste("Range", 1:(nb - 1),sep="_")
+            if (ok && include.lowest)
+               if (right)
+                       labels[1] <- gsub("^\\(", "\\[", labels[1])
+                else
+                       labels[nb-1] <- gsub("\\)$", "\\]",
labels[nb-1])
     } else if (is.logical(labels) && !labels)
         codes.only <- TRUE
     else if (length(labels) != nb-1)

Thus we have (noticing the labels)

> pp <- rpois(10, lambda = 1)
> breaks <- c(0:2, Inf)
> cut(pp, breaks = breaks)
 [1] NA    (0,1] (0,1] (0,1] NA    NA    NA    (0,1] (1,2] (1,2]
Levels:  (0,1] (1,2] (2,Inf] 
> cut(pp, breaks = breaks, include.lowest = TRUE)
 [1] [0,1] [0,1] [0,1] [0,1] [0,1] [0,1] [0,1] [0,1] (1,2] (1,2]
Levels:  [0,1] (1,2] (2,Inf] 
> cut(pp, breaks = breaks, include.lowest = TRUE, right = FALSE)
 [1] [0,1)   [1,2)   [1,2)   [1,2)   [0,1)   [0,1)   [0,1)   [1,2)  
[2,Inf]
[10] [2,Inf]
Levels:  [0,1) [1,2) [2,Inf] 
> cut(pp, breaks = breaks, right = FALSE)
 [1] [0,1)   [1,2)   [1,2)   [1,2)   [0,1)   [0,1)   [0,1)   [1,2)  
[2,Inf)
[10] [2,Inf)
Levels:  [0,1) [1,2) [2,Inf) 

Cheers, Jonathan.

-- 
Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Tue Nov 13 13:31:09 2001
From: edd@debian.org (edd@debian.org)
Date: Tue, 13 Nov 2001 14:31:09 +0100 (MET)
Subject: [Rd] r-gnome: plots go blank directly after R is finished plotting (PR#1167)
Message-ID: <200111131331.OAA22051@pubhealth.ku.dk>


  KH> From: Egon Willighagen <egonw@sci.kun.nl>
  KH> To: Debian Bug Tracking System <submit@bugs.debian.org>
  KH> Subject: r-gnome: plots go blank directly after R is finished plotting
  KH> Date: Mon, 22 Oct 2001 23:44:41 +0200

  KH> Package: r-gnome
  KH> Version: 1.3.1-2
  KH> Severity: important

  KH> When using the plot() function, the output is drawn, but directly
  KH> after R is finished drawing the plot window turns blank again. This
  KH> does not happen when i do the same in the non-Gnome based R version.

  KH> Does not happen for me with the current 1.3.1-4.

Thanks. That is Debian with Ximian Gnome, isn't it? As it does not happen
either on my box (with KDE), I already added an "unreproducible" tag in the
Debian BTS and asked for further information. I would like to see a report
from a system with Debian + Debian Gnome libs.

-k

-- 
Better to have an approximate answer to the right question 
than a precise answer to the wrong question. -- John Tukey

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jmc@research.bell-labs.com  Tue Nov 13 14:24:35 2001
From: jmc@research.bell-labs.com (John Chambers)
Date: Tue, 13 Nov 2001 09:24:35 -0500
Subject: [Rd] Method dispatch in C for primitive functions
Message-ID: <3BF12D23.D62F50B2@research.bell-labs.com>

There is a version of the methods package committed today that does
dispatch in C for these functions.  This should considerably speed up
programs that define methods for these functions (specifically, having
methods should only marginally affect the existing computations for the
same function on basic vectors and objects).

This is the first of several steps needed.  Not quite all primitives are
handled (only those that use DispatchOrEval internally).  And there will
be a few related changes in the methods structure to add a bit more
speed.  A couple of points of strategy should be discussed, preferably
before version 1.4 is frozen.  I'll try to post a note on these  in the
near future.

When writing methods for primitives, it's currently a bit of a trick to
find the formal argument list, since R currently just returns NULL for
args(f) if f is a primitive.  (We may need to make some change here.)

Two that are worth noting are "[" and "[[" (and the corresponding "[<-"
and "[[<-"):

> args(getGeneric("["))
function (x, i = NULL, j = NULL, ..., drop = TRUE) 
NULL
> args(getGeneric("[["))
function (x, i = NULL, ...) 
NULL

The i,j arguments are there so we can, e.g., define methods that
dispatch on the column argument for data-frame-like objects in the
future.

If you're fussing about efficiency, it's slightly better to make sure
you define methods with all the formal arguments (and anyway, it's
cleaner code).

John
-- 
John M. Chambers                  jmc@bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jmc@research.bell-labs.com  Tue Nov 13 14:54:02 2001
From: jmc@research.bell-labs.com (John Chambers)
Date: Tue, 13 Nov 2001 09:54:02 -0500
Subject: [Rd] Methods package:  One of those strategy questions
Message-ID: <3BF1340A.99CD2EAE@research.bell-labs.com>

I had better mention this one separately, since until it's settled you 
need a workaround.

If you define methods for primitives now, this does NOT create an
explicit generic function for, say, "[", so that the original primitive
computations still run.

This means that the method dispatch has to be turned on for that
function somehow else.

The proposal is that the library() and attach() functions would do a
check for methods metadata and turn on methods search for the functions
found.  (Recent changes to the metadata make this a reasonably efficient
operation.)

Until this is implemented, you will need to force the same computation
from the .First.lib function in your package (ONLY needed if you have
methods for primitives).

The code needed is something like this (inside .First.lib, which gets a
second argument "pkgname":

    where <- match(paste("package:", pkgname, sep=""), search())
    cacheMetaData(as.environment(where))

(Extra calls to cacheMetaData shouldn't hurt, beyond a moderate bit of
extra computation, so this should not be a disaster even after
modifications to library()).

John

-- 
John M. Chambers                  jmc@bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Tue Nov 13 17:07:43 2001
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Tue, 13 Nov 2001 09:07:43 -0800 (PST)
Subject: [Rd] Methods package:  One of those strategy questions
In-Reply-To: <3BF1340A.99CD2EAE@research.bell-labs.com>
Message-ID: <Pine.A41.4.33.0111130906450.38952-100000@homer33.u.washington.edu>

On Tue, 13 Nov 2001, John Chambers wrote:

> I had better mention this one separately, since until it's settled you
> need a workaround.
>
> If you define methods for primitives now, this does NOT create an
> explicit generic function for, say, "[", so that the original primitive
> computations still run.
>
> This means that the method dispatch has to be turned on for that
> function somehow else.

Is this true whenever you define a method for a primitive or only if
that primitive hasn't already got methods defined for it?

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From a296180@mica.fmr.com  Tue Nov 13 18:02:56 2001
From: a296180@mica.fmr.com (David Kane  <David Kane)
Date: Tue, 13 Nov 2001 13:02:56 -0500
Subject: [Rd] modification time warning with R CMD check
Message-ID: <15345.24656.694686.421844@gargle.gargle.HOWL>

I often get warnings like the following when running R CMD check

[...]
* checking for code/documentation mismatches ... OK
* checking tests ...
make: *** Warning: File `Makevars' has modification time in the future (2001-11-13 12:54:37.381546042 > 2001-11-13 12:54:37.314975985)
[...]

I am ready to believe that this is not a bug (i.e., that the timing on my
various machines and file systems is such that I am creating a Makevars with a
modification that is 0.07 seconds in the future from the perspective of the
machine that Perl is running on). However, I would think that a
warning would only be justified if this were far enough (1 second? 5 seconds?)
in the future to be "interesting".

I am running 1.3.1 on Solaris

mica|tmp> R --version
R 1.3.1 (2001-08-31).
Copyright (C) 2001 R Development Core Team

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under the terms of the GNU
General Public License.  For more information about these matters,
see http://www.gnu.org/copyleft/gpl.html.


Thanks,

Dave Kane

-- 
David Kane
Geode Capital Management
617-563-0122
david.d.kane@fmr.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Tue Nov 13 18:25:59 2001
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Tue, 13 Nov 2001 10:25:59 -0800 (PST)
Subject: [Rd] modification time warning with R CMD check
In-Reply-To: <15345.24656.694686.421844@gargle.gargle.HOWL>
Message-ID: <Pine.A41.4.33.0111131021490.38952-100000@homer33.u.washington.edu>

On Tue, 13 Nov 2001, David Kane  <David Kane wrote:

> I often get warnings like the following when running R CMD check
>
> [...]
> * checking for code/documentation mismatches ... OK
> * checking tests ...
> make: *** Warning: File `Makevars' has modification time in the future (2001-11-13 12:54:37.381546042 > 2001-11-13 12:54:37.314975985)
> [...]
>
> I am ready to believe that this is not a bug (i.e., that the timing on my
> various machines and file systems is such that I am creating a Makevars with a
> modification that is 0.07 seconds in the future from the perspective of the
> machine that Perl is running on). However, I would think that a
> warning would only be justified if this were far enough (1 second? 5 seconds?)
> in the future to be "interesting".

I get this too from time to time.  It's actually hard to tell what is
'uninteresting' in general. For example, Linux can create a file in about
50 microseconds on suitable hardware, so a 0.07s lag is easily enough that
files might in principle have been created in the wrong order, messing up
the make algorithm.

Fortunately in building R this sort of lag doesn't matter.
Unfortunately I don't know how to turn the warning off.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Nov 13 18:35:33 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 13 Nov 2001 18:35:33 +0000 (GMT)
Subject: [Rd] modification time warning with R CMD check
In-Reply-To: <Pine.A41.4.33.0111131021490.38952-100000@homer33.u.washington.edu>
Message-ID: <Pine.LNX.4.31.0111131832180.3306-100000@gannet.stats>

On Tue, 13 Nov 2001, Thomas Lumley wrote:

> On Tue, 13 Nov 2001, David Kane  <David Kane wrote:
>
> > I often get warnings like the following when running R CMD check
> >
> > [...]
> > * checking for code/documentation mismatches ... OK
> > * checking tests ...
> > make: *** Warning: File `Makevars' has modification time in the future (2001-11-13 12:54:37.381546042 > 2001-11-13 12:54:37.314975985)
> > [...]
> >
> > I am ready to believe that this is not a bug (i.e., that the timing on my
> > various machines and file systems is such that I am creating a Makevars with a
> > modification that is 0.07 seconds in the future from the perspective of the
> > machine that Perl is running on). However, I would think that a
> > warning would only be justified if this were far enough (1 second? 5 seconds?)
> > in the future to be "interesting".
>
> I get this too from time to time.  It's actually hard to tell what is
> 'uninteresting' in general. For example, Linux can create a file in about
> 50 microseconds on suitable hardware, so a 0.07s lag is easily enough that
> files might in principle have been created in the wrong order, messing up
> the make algorithm.
>
> Fortunately in building R this sort of lag doesn't matter.

It can do. I've had dependencies missed because of it. Maybe not 0.07sec,
but well under a second.

> Unfortunately I don't know how to turn the warning off.

We used to have a rash of this.  We now run xntp, and provided that
has not died on our master server (not unknown), we seem to get no further
problems.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jmc@research.bell-labs.com  Tue Nov 13 18:53:44 2001
From: jmc@research.bell-labs.com (John Chambers)
Date: Tue, 13 Nov 2001 13:53:44 -0500
Subject: [Rd] Methods package:  One of those strategy questions
References: <Pine.A41.4.33.0111130906450.38952-100000@homer33.u.washington.edu>
Message-ID: <3BF16C38.FDCA478B@research.bell-labs.com>

Thomas Lumley wrote:
> 
> On Tue, 13 Nov 2001, John Chambers wrote:
> 
> > I had better mention this one separately, since until it's settled you
> > need a workaround.
> >
> > If you define methods for primitives now, this does NOT create an
> > explicit generic function for, say, "[", so that the original primitive
> > computations still run.
> >
> > This means that the method dispatch has to be turned on for that
> > function somehow else.
> 
> Is this true whenever you define a method for a primitive or only if
> that primitive hasn't already got methods defined for it?
> 
>         -thomas

The former, unfortunately.  As the function's name suggests,
cacheMetaData collects and merges information about all the currently
visible methods.  One doesn't want to do this merge on each dispatch, so
it's triggered by any change in the visible  methods (e.g., a call to
setMethod or a change in the search list).  So "turned on"  really
should have been "notified of a change in the methods".

If I don't hear objections, I plan to add checkMetaData to library,
attach, and detach fairly soon, which should cover the problem.

John
-- 
John M. Chambers                  jmc@bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Nov 13 19:07:41 2001
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 13 Nov 2001 14:07:41 -0500
Subject: [Rd] modification time warning with R CMD check
References: <Pine.A41.4.33.0111131021490.38952-100000@homer33.u.washington.edu>
Message-ID: <3BF16F7D.DB9FD1E1@bank-banque-canada.ca>

>I get this too from time to time.  It's actually hard to tell what is
>Unfortunately I don't know how to turn the warning off.

One way to stop it is to run on a slower machine. To really fix it, of course,
you are suppose to better synchronize your computer and file server clocks. More
seriously, I think it helps if your computer clock errs on the side of being
slightly ahead of the file server clock.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Nov 13 19:46:01 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 13 Nov 2001 19:46:01 +0000 (GMT)
Subject: [Rd] Methods package:  One of those strategy questions
In-Reply-To: <3BF16C38.FDCA478B@research.bell-labs.com>
Message-ID: <Pine.LNX.4.31.0111131944050.3396-100000@gannet.stats>

On Tue, 13 Nov 2001, John Chambers wrote:

> Thomas Lumley wrote:
> >
> > On Tue, 13 Nov 2001, John Chambers wrote:
> >
> > > I had better mention this one separately, since until it's settled you
> > > need a workaround.
> > >
> > > If you define methods for primitives now, this does NOT create an
> > > explicit generic function for, say, "[", so that the original primitive
> > > computations still run.
> > >
> > > This means that the method dispatch has to be turned on for that
> > > function somehow else.
> >
> > Is this true whenever you define a method for a primitive or only if
> > that primitive hasn't already got methods defined for it?
> >
> >         -thomas
>
> The former, unfortunately.  As the function's name suggests,
> cacheMetaData collects and merges information about all the currently
> visible methods.  One doesn't want to do this merge on each dispatch, so
> it's triggered by any change in the visible  methods (e.g., a call to
> setMethod or a change in the search list).  So "turned on"  really
> should have been "notified of a change in the methods".
>
> If I don't hear objections, I plan to add checkMetaData to library,
> attach, and detach fairly soon, which should cover the problem.

You will do some rough performance tests?  We (including I) have forgotten
to do so a few too many times ....

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From White.Denis@epamail.epa.gov  Wed Nov 14 00:11:02 2001
From: White.Denis@epamail.epa.gov (White.Denis@epamail.epa.gov)
Date: Wed, 14 Nov 2001 01:11:02 +0100 (MET)
Subject: [Rd] pdf driver (PR#1168)
Message-ID: <200111140011.BAA27845@pubhealth.ku.dk>

--0__=88256B0300839EDB8f9e8a93df938690918c88256B0300839EDB
Content-type: text/plain; charset=us-ascii

Not sure whether the R pdf driver is the problem, or some HP problem, or
local, but the zip file below has a simple R script [pdfbug.r] using pdf
() to create R2pdf.pdf that causes a "79.00FE PRINTER ERROR" on a HP
5000 N LaserJet printer when printed from Acrobat Reader.

The following other tests do not cause printer errors:  (1) printing
R2pdf.pdf from Acrobat Reader to a HP 8000 DN LaserJet; (2) creating a
postscript file [R2eps.eps] in R, then converting to pdf with Acrobat
Distiller [R2distill.pdf] and printing to the HP 5000; (3) creating a
postscript file, then converting to pdf with Adobe Framemaker
[R2maker.pdf] and printing to the HP 5000.

The other curiousity that emerged from this is that the pdf files from
both distiller and framemaker rotated the plot.

(See attached file: pdfbug.zip)
--0__=88256B0300839EDB8f9e8a93df938690918c88256B0300839EDB
Content-type: application/zip; 
	name="pdfbug.zip"
Content-Disposition: attachment; filename="pdfbug.zip"
Content-transfer-encoding: base64

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

--0__=88256B0300839EDB8f9e8a93df938690918c88256B0300839EDB--


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From White.Denis@epamail.epa.gov  Wed Nov 14 00:14:44 2001
From: White.Denis@epamail.epa.gov (White.Denis@epamail.epa.gov)
Date: Wed, 14 Nov 2001 01:14:44 +0100 (MET)
Subject: [Rd] pdf driver (PR#1169)
Message-ID: <200111140014.BAA27869@pubhealth.ku.dk>

--0__=88256B040001210F8f9e8a93df938690918c88256B040001210F
Content-type: text/plain; charset=us-ascii

{Please ignore earlier message; I forgot R.version}

Not sure whether the R pdf driver is the problem, or some HP problem, or
local, but the zip file below has a simple R script [pdfbug.r] using pdf
() to create R2pdf.pdf that causes a "79.00FE PRINTER ERROR" on a HP
5000 N LaserJet printer when printed from Acrobat Reader.

The following other tests do not cause printer errors:  (1) printing
R2pdf.pdf from Acrobat Reader to a HP 8000 DN LaserJet; (2) creating a
postscript file [R2eps.eps] in R, then converting to pdf with Acrobat
Distiller [R2distill.pdf] and printing to the HP 5000; (3) creating a
postscript file, then converting to pdf with Adobe Framemaker
[R2maker.pdf] and printing to the HP 5000.

The other curiousity that emerged from this is that the pdf files from
both distiller and framemaker rotated the plot.

         _
platform sparc-sun-solaris2.8
arch     sparc
os       solaris2.8
system   sparc, solaris2.8
status
major    1
minor    3.1
year     2001
month    08
day      31
language R

(See attached file: pdfbug.zip)

--0__=88256B040001210F8f9e8a93df938690918c88256B040001210F
Content-type: application/zip; 
	name="pdfbug.zip"
Content-Disposition: attachment; filename="pdfbug.zip"
Content-transfer-encoding: base64

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

--0__=88256B040001210F8f9e8a93df938690918c88256B040001210F--


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Nov 14 07:38:35 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 14 Nov 2001 08:38:35 +0100 (MET)
Subject: [Rd] pdf driver (PR#1169)
Message-ID: <200111140738.IAA29259@pubhealth.ku.dk>

You also forgot to tell us the Acrobat version.  But printing errors from
Acrobat are notorious.  If Acrobat Reader can display the file, the
error is almost certainly in Acrobat Reader, especially as you can print
on another printer.

I don't propose to investigate this as an R bug: I am pretty sure
R's driver is conforming to the PDF spec.

On Wed, 14 Nov 2001 White.Denis@epamail.epa.gov wrote:

> --0__=88256B040001210F8f9e8a93df938690918c88256B040001210F
> Content-type: text/plain; charset=us-ascii
>
> {Please ignore earlier message; I forgot R.version}
>
> Not sure whether the R pdf driver is the problem, or some HP problem, or
> local, but the zip file below has a simple R script [pdfbug.r] using pdf
> () to create R2pdf.pdf that causes a "79.00FE PRINTER ERROR" on a HP
> 5000 N LaserJet printer when printed from Acrobat Reader.
>
> The following other tests do not cause printer errors:  (1) printing
> R2pdf.pdf from Acrobat Reader to a HP 8000 DN LaserJet; (2) creating a
> postscript file [R2eps.eps] in R, then converting to pdf with Acrobat
> Distiller [R2distill.pdf] and printing to the HP 5000; (3) creating a
> postscript file, then converting to pdf with Adobe Framemaker
> [R2maker.pdf] and printing to the HP 5000.
>
> The other curiousity that emerged from this is that the pdf files from
> both distiller and framemaker rotated the plot.
>
>          _
> platform sparc-sun-solaris2.8
> arch     sparc
> os       solaris2.8
> system   sparc, solaris2.8
> status
> major    1
> minor    3.1
> year     2001
> month    08
> day      31
> language R
>
> (See attached file: pdfbug.zip)
>
> --0__=88256B040001210F8f9e8a93df938690918c88256B040001210F
> Content-type: application/zip;
> 	name="pdfbug.zip"
> Content-Disposition: attachment; filename="pdfbug.zip"
> Content-transfer-encoding: base64
>
> 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
>
> --0__=88256B040001210F8f9e8a93df938690918c88256B040001210F--
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Nov 14 09:21:15 2001
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 14 Nov 2001 10:21:15 +0100
Subject: [Rd] Small change to "cut.default"
In-Reply-To: <3BF116E5.C16B9290@durham.ac.uk>
References: <3BF116E5.C16B9290@durham.ac.uk>
Message-ID: <15346.14219.27627.740832@gargle.gargle.HOWL>

>>>>> "JonR" == Jonathan Rougier <J.C.Rougier@durham.ac.uk> writes:

    JonR> Hi everyone, Can I suggest the following cosmetic change to
    JonR> cut.default (R-1.3.1), to adjust the labels in the case that
    JonR> include.lowest = TRUE:

    .....

    JonR> Thus we have (noticing the labels)

    >> pp <- rpois(10, lambda = 1) breaks <- c(0:2, Inf) 
    >> cut(pp, breaks =breaks)
    JonR>  [1] NA (0,1] (0,1] (0,1] NA NA NA (0,1] (1,2] (1,2]
    JonR>  Levels: (0,1] (1,2] (2,Inf]
    >> cut(pp, breaks = breaks, include.lowest = TRUE)
    JonR>  [1] [0,1] [0,1] [0,1] [0,1] [0,1] [0,1] [0,1] [0,1] (1,2] (1,2]
    JonR> Levels: [0,1] (1,2] (2,Inf]
    >> cut(pp, breaks = breaks, include.lowest = TRUE, right = FALSE)
    JonR>  [1] [0,1) [1,2) [1,2) [1,2) [0,1) [0,1) [0,1) [1,2) [2,Inf] ..
    JonR> Levels: [0,1) [1,2) [2,Inf]
    >> cut(pp, breaks = breaks, right = FALSE)
    JonR>  [1] [0,1) [1,2) [1,2) [1,2) [0,1) [0,1) [0,1) [1,2) [2,Inf) ..
    JonR>  Levels: [0,1) [1,2) [2,Inf)

which sounds very reasonable.

There is the slight chance to break old code however for people who made
explicit use of the factor levels in things like

  indhigh  <-  fp == "[2, Inf)"

I still believe we should do the change for 1.4.
If there won't be further voices, I'll do.

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Wed Nov 14 11:21:04 2001
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich.Leisch@ci.tuwien.ac.at)
Date: Wed, 14 Nov 2001 12:21:04 +0100
Subject: [Rd] CVS snapshots on CRAN
Message-ID: <15346.21408.334683.283386@galadriel.ci.tuwien.ac.at>


As there have been no negative reactions to my question last week
CRAN no longer mirrors the daily snapshots of the R sources. Archives
of the official releases are of course still available at every CRAN
node.

All answers I got (thanks to all respondents) had basically the same
content: It is important that the snapshot are available somewhere (to
which I wholeheartedly agree), but it is not important that every
single CRAN node carries them. In fact, it makes only limited sense to
propagate archives that change on a daily basis through a network of
mirror sites. When a snapshot reaches one of the final nodes in the
mirroring process, there are already 2 newer versions available at the
orginal sites ...

Snapshots of the R sources (copy of the current CVS tree) can from now
on be obtained from two sources:

*) Anonymous rsync from rsync.rproject.org. This is probably the best
   option if you want to track the R sources on a regular basis,
   because it allows to update a copy of the CVS tree downloading only
   differences since your last checkout. See http://www.rsync.org for
   more information on rsync. If rsync is installed on your system
   then

	rsync rsync.r-project.org::

   gives you a list of available modules, currently including:
   r-release      R-1.3.1 sources (current released version - approx 25 MB)
   r-patched      R sources (patched released version - approx 25 MB)
   r-devel        R sources (devel version, less stable - approx 25 MB)
   r-ng           R sources (next generation - unstable - approx 25 MB)

   Note that rsync connections can be compressed, such that the actual
   number of megabytes transferred is approximately the same as
   downloading a gzipped tar file.

      
*) The usual gzipped and bzipped tar files continue to be available by
    anonymous FTP from ftp://ftp.stat.math.ethz.ch/Software/R</a>.



Best,
Fritz

-- 
-------------------------------------------------------------------
                        Friedrich  Leisch 
Institut fr Statistik                     Tel: (+43 1) 58801 10715
Technische Universitt Wien                Fax: (+43 1) 58801 10798
Wiedner Hauptstrae 8-10/1071      Friedrich.Leisch@ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jan.van.de.kraats@kabelfoon.nl  Wed Nov 14 15:41:00 2001
From: jan.van.de.kraats@kabelfoon.nl (J A van de Kraats)
Date: Wed, 14 Nov 2001 16:41:00 +0100
Subject: [Rd] European Water Management News
Message-ID: <595922-220011131415410910@kabelfoon.nl>

Dear Colleague,
 
Our journal, European Water Management, the official journal of the European Water Association (EWA), has started a free e-mail news service.

If you subscribe, you get weekly a mail with press releases, etc. concerning water (management, research, policy, industry, etc.).

It is completely free for all people working in the water sector in its broadest sense.

Older issues of the news are available at www.riza.nl (click on European Water Management News). You can visit this site to get an idea what you will get and if this is useful for you. You can subscribe via this site, but you can subscribe too by sending me at jan.van.de.kraats@kabelfoon.nl a mail with in the subject line "Subscribe European Water Management News."

Unsubscribing later is as easy, just send me a mail with "Unsubscribe European Water Management News" in the subject line.
I am looking forward to your answer.
 
Best regards,
Jan van de Kraats
Institute for Inland Water Treatment and Waste Water Treatment (RIZA)



European Water Management
Official Journal of the European Water Association (EWA)
Editor-in-Chief
Drs J A van de Kraats
Institute for Inland Water Management
and Waste Water Treatment (RIZA)
PO Box 17
8200 AA Lelystad
The Netherlands
Tel +31 320 298 793
Fax +31 320 280883
E-mail j.vdkraats@riza.rws.minvenw.nl
Private Fax +15308844520
Private E-mail jan.van.de.kraats@kabelfoon.nl





Drs Jan A van de Kraats
Editor-in-Chief European Water Management
INSTITUTE FOR INLAND WATER MANAGEMENT
AND WASTE WATER TREATMENT(RIZA)
Lelystad,
The Netherlands
jan.van.de.kraats@kabelfoon.nl
www.riza.nl

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Nov 14 15:59:08 2001
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 14 Nov 2001 16:59:08 +0100
Subject: [Rd] confusion() -- generic function in package mda -- generally useful?
Message-ID: <15346.38092.644990.904103@gargle.gargle.HOWL>

For a private package ("soon" to be on CRAN),
I started looking at and thinking about the function confusion() from the
mda package and wondered if it wouldn't make sense to provide the generic
function in base R and also think about making the default for the `true'
argument equal to  fitted(object).

One could write methods for confusion() for almost all classifiers 
which would be a nice universal approach.
Also, the value (a confusion matrix contingency table with some "useful"
attributes) could be made a bit more explicit.

Good or not so good idea?  alternatives?

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

>>   Confusion Matrices
>> 
>>   Description:
>> 
>>        Compute the confusion matrix between two factors, or for an fda or
>>        mda object.
>> 
>>   Usage:
>> 
>>        confusion(object, true, ...)
>>        confusion(object, data, ...)
>> 
>>   Arguments:
>> 
>>     object: the predicted factor, or an fda or mda model object.
>> 
>>       true: the true factor.
>> 
>>       data: a data frame (list) containing the test data.
>> 
>>        ...: further arguments to be passed to or from methods.
>> 
>>   Details:
>> 
>>        This is a generic function.
>> 
>>   Value:
>> 
>>        For the default method essentially `table(object, true)', but with
>>        some useful attribute(s).
>> 
>>   See Also:
>> 
>>        `fda', `predict.fda'
>> 
>>   Examples:
>> 
>>        data(iris)
>>        irisfit <- fda(Species ~ ., data = iris)
>>        confusion(predict(irisfit, iris), iris$Species)
>>        ##            Setosa Versicolor Virginica 
>>        ##     Setosa     50          0         0
>>        ## Versicolor      0         48         1
>>        ##  Virginica      0          2        49
>>        ## attr(, "error"):
>>        ## [1] 0.02

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From darmy16@hotmail.com  Wed Nov 14 17:43:53 2001
From: darmy16@hotmail.com (Jean Wu)
Date: Wed, 14 Nov 2001 12:43:53 -0500
Subject: [Rd] lme: how to extract the variance components?
Message-ID: <DAV528MwHmLJRrtgMVN00013474@hotmail.com>

This is a multi-part message in MIME format.

------=_NextPart_000_0005_01C16D0A.0459F770
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

      Dear all,=20
      Here is the question:
      For example, using the "petrol" data offered with R.
      pet3.lme<-lme(Y~SG+VP+V10+EP,random=3D~1|No,data=3Dpetrol)
      pet3.lme$sigma gives the residual StdDev.
      But I can't figure out how to extract the "(intercept) StdDev",=20
      although it is in the print out if I do "summary(pet3.lme)".

      In S-plus3.4 , $var.ran is the estimate of the variance of the =
random=20
      effects between clusters. what is the equivalent thing to do in R?

      Thank you very much!

    =20

Jean

------=_NextPart_000_0005_01C16D0A.0459F770
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META content=3D"text/html; charset=3Diso-8859-1" =
http-equiv=3DContent-Type>
<META content=3D"MSHTML 5.00.3018.900" name=3DGENERATOR>
<STYLE></STYLE>
</HEAD>
<BODY bgColor=3D#ffffff>
<DIV><FONT size=3D2>
<TABLE width=3D"100%">
  <TBODY>
  <TR>
    <TD>
      <P><FONT face=3DArial>Dear all, <BR>Here is the question:<BR>For =
example,=20
      using the "petrol" data offered with=20
      =
R.<BR>pet3.lme&lt;-lme(Y~SG+VP+V10+EP,random=3D~1|No,data=3Dpetrol)<BR>pe=
t3.lme$sigma=20
      gives the residual StdDev.<BR>But I can't figure out how to =
extract the=20
      "(intercept) StdDev", <BR>although it is in the print out if I do=20
      "summary(pet3.lme)".<BR><BR>In S-plus3.4 , $var.ran is the =
estimate of the=20
      variance of the random <BR>effects between clusters. what is the=20
      equivalent thing to do in R?<BR><BR>Thank you very=20
      =
much!<BR></FONT></FONT></P></TD></TR></TBODY></TABLE></FONT></DIV><FONT=20
face=3DArial size=3D2>Jean</FONT></BODY></HTML>

------=_NextPart_000_0005_01C16D0A.0459F770--
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Wed Nov 14 18:17:28 2001
From: bates@stat.wisc.edu (Douglas Bates)
Date: 14 Nov 2001 12:17:28 -0600
Subject: [Rd] lme: how to extract the variance components?
In-Reply-To: <DAV528MwHmLJRrtgMVN00013474@hotmail.com>
References: <DAV528MwHmLJRrtgMVN00013474@hotmail.com>
Message-ID: <6ry9l9ushz.fsf@franz.stat.wisc.edu>

"Jean Wu" <darmy16@hotmail.com> writes:

>       Dear all, 
>       Here is the question:
>       For example, using the "petrol" data offered with R.

I think you mean the "petrol" data from the MASS library for R.

>       pet3.lme<-lme(Y~SG+VP+V10+EP,random=~1|No,data=petrol)
>       pet3.lme$sigma gives the residual StdDev.
>       But I can't figure out how to extract the "(intercept) StdDev", 
>       although it is in the print out if I do "summary(pet3.lme)".

You can get a character representation of the number from VarCorr
> VarCorr(pet3.lme)
No = pdLogChol(1) 
            Variance StdDev  
(Intercept) 2.088107 1.445028
Residual    3.504931 1.872146
> VarCorr(pet3.lme)["(Intercept)", "Variance"]
[1] "2.088107"
> as.numeric(VarCorr(pet3.lme)["(Intercept)", "Variance"])
[1] 2.088107

A better but more complicated approach is to extract the reStruct
component of the modelStruct component of the fitted model and convert
convert to a matrix.

> str(as.matrix(pet3.lme$modelStruct$reStruct))
List of 1
 $ No: num 0.596
  ..- attr(*, "dimnames")=List of 2
  .. ..$ : chr "(Intercept)"
  .. ..$ : chr "(Intercept)"

The result is actually a list of matrices because we must allow for
cases of nested grouping factors.  The first (and only, in this case)
element of the list is the relative variance-covariance matrix of the
random effects for the first grouping factor.  To convert it to the
variance-covariance matrix you multiply by sigma^2.

> as.matrix(pet3.lme$modelStruct$reStruct)[[1]] * pet3.lme$sigma^2
            (Intercept)
(Intercept)    2.088107

That number prints the same as the previous value derived from VarCorr
but this extraction retains the full numerical precision because it
does not convert to character and back to numeric.

>       In S-plus3.4 , $var.ran is the estimate of the variance of the random 
>       effects between clusters. what is the equivalent thing to do in R?

That's from a very old version of the NLME package that uses different
computational methods from those used in NLME 3.0 and higher.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Nov 14 18:19:39 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 14 Nov 2001 19:19:39 +0100
Subject: [Rd] lme: how to extract the variance components?
In-Reply-To: <DAV528MwHmLJRrtgMVN00013474@hotmail.com>
References: <DAV528MwHmLJRrtgMVN00013474@hotmail.com>
Message-ID: <x2d72lcj0k.fsf@blueberry.kubism.ku.dk>

"Jean Wu" <darmy16@hotmail.com> writes:

>       Dear all, 
>       Here is the question:
>       For example, using the "petrol" data offered with R.
>       pet3.lme<-lme(Y~SG+VP+V10+EP,random=~1|No,data=petrol)
>       pet3.lme$sigma gives the residual StdDev.
>       But I can't figure out how to extract the "(intercept) StdDev", 
>       although it is in the print out if I do "summary(pet3.lme)".
> 
>       In S-plus3.4 , $var.ran is the estimate of the variance of the random 
>       effects between clusters. what is the equivalent thing to do in R?

It's been a while, but I have some old code saying


lme.obj <- lme(log(Height)~ns(sqrt(Age),knots=c(0.25,.5,1,5),
  Boundary.knots=c(0,10)), random=~sqrt(Age)|ID,
  correlation=corExp(form=~sqrt(Age),nugget=F))
Age.new <- seq(0,10,0.01)  
C.mat  <- lme.obj$sigma^2*as.matrix(lme.obj$modelStruct$reStruct$ID)
SD <- sqrt(sapply(Age.new,
  function(a){x<-c(1,sqrt(a)); t(x) %*% C.mat %*% x})
  +lme.obj$sigma^2)

so I would expect that you want 

pet3.lme$sigma^2 * as.matrix(pet3.lme$modelStruct$reStruct$No)


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gregory_r_warnes@groton.pfizer.com  Wed Nov 14 20:20:34 2001
From: gregory_r_warnes@groton.pfizer.com (gregory_r_warnes@groton.pfizer.com)
Date: Wed, 14 Nov 2001 21:20:34 +0100 (MET)
Subject: [Rd] rpart:plotcp doesn't allow ylim argument (PR#1171)
Message-ID: <200111142020.VAA09432@pubhealth.ku.dk>

Full_Name: Gregory R. Warnes
Version: R 1.3.1
OS: Solaris 2.8
Submission from: (NULL) (192.77.198.200)


rpart library version 3.1-2

Error message:
> plotcp(fit.thirds.1,ylim=c(0.7,1.5));
Error in plot.default(ns, xerror, axes = FALSE, xlab = "cp", ylab = "X-val
Relative Error",  : 
	formal argument "ylim" matched by multiple actual arguments
> 

This can be corrected by adding  ylim to the list of formal argument and
wrapping 
the definition of ylim with 'if(missing(ylim))'.  Patch below.

-Greg

---PATCH STARTS HERE---
diff -r rpart.orig//R/plotcp.s rpart/R/plotcp.s
5c5
< 		   upper=c("size", "splits", "none"), ...)
---
> 		   upper=c("size", "splits", "none"), ylim, ...)
18c18,19
<   ylim <- c(min(xerror - xstd) - 0.1, max(xerror + xstd) + 0.1)
---
>   if(missing(ylim))
>     ylim <- c(min(xerror - xstd) - 0.1, max(xerror + xstd) + 0.1)


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Paul.White@dsto.defence.gov.au  Thu Nov 15 05:52:24 2001
From: Paul.White@dsto.defence.gov.au (Paul.White@dsto.defence.gov.au)
Date: Thu, 15 Nov 2001 06:52:24 +0100 (MET)
Subject: [Rd] rhs of == does not work with a list of items. should it ? (PR#1172)
Message-ID: <200111150552.GAA11204@pubhealth.ku.dk>

> Hello bug people,
> 
> Version:
>  platform = i686-pc-linux-gnu
>  arch = i686
>  os = linux-gnu
>  system = i686, linux-gnu
>  status =
>  major = 1
>  minor = 3.1
>  year = 2001
>  month = 08
>  day = 31
>  language = R
> 
> is this a bug ?
> 
> x <- 1:10
> x==4:5
>  [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
> 
> Nothing said it should but nothing said it shouldn't . My expectation was
> that it would successively try
> each of the values in the list and or the result for each item in the x
> vector. ie it would pick out all the matches
of 4 or 5.

> [1] FALSE FALSE FALSE  TRUE TRUE FALSE FALSE FALSE FALSE FALSE
> 
> Paul

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ligges@statistik.uni-dortmund.de  Thu Nov 15 07:24:55 2001
From: ligges@statistik.uni-dortmund.de (ligges@statistik.uni-dortmund.de)
Date: Thu, 15 Nov 2001 08:24:55 +0100 (MET)
Subject: [Rd] rhs of == does not work with a list of items. should it ? (PR#1173)
Message-ID: <200111150724.IAA11644@pubhealth.ku.dk>

Paul.White@dsto.defence.gov.au wrote:
> 
> > Hello bug people,
> >
> > Version:
> >  platform = i686-pc-linux-gnu
> >  arch = i686
> >  os = linux-gnu
> >  system = i686, linux-gnu
> >  status =
> >  major = 1
> >  minor = 3.1
> >  year = 2001
> >  month = 08
> >  day = 31
> >  language = R
> >
> > is this a bug ?
> >
> > x <- 1:10
> > x==4:5
> >  [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
> >
> > Nothing said it should but nothing said it shouldn't . My expectation was
> > that it would successively try
> > each of the values in the list and or the result for each item in the x
> > vector. ie it would pick out all the matches
> of 4 or 5.
> 
> > [1] FALSE FALSE FALSE  TRUE TRUE FALSE FALSE FALSE FALSE FALSE

That's not a bug!
R extends the vector 4:5 to have the same length as 1:10 and compares
these two vectors:

4 1
5 2
4 3
5 4
4 5
5 6
4 7
5 8
4 9
5 10

So there is no position with "4:5 == 1:10"!
Test it with: 2:10 == 4:5.

What you want is  (I guess):
 1:10 %in% 4:5

Uwe Ligges

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Nov 15 09:00:50 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 15 Nov 2001 10:00:50 +0100 (MET)
Subject: [Rd] rhs of == does not work with a list of items (PR#1172)
Message-ID: <200111150900.KAA12881@pubhealth.ku.dk>

(1) There are no lists here!  You have numeric vectors, not lists.


(2) The normal vector-recycling rules apply.  It does
1 == 4, 2 == 5, 3 == 4, 4 == 5,  5 == 4, ....

Try

> 1:10 == 5:4
 [1] FALSE FALSE FALSE  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE


(3) For what you appear to want

> x %in% 4:5
 [1] FALSE FALSE FALSE  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE

is the way to get it.


(4) It is better to read the reference manual or a good book or post to
R-help if you don't understand what R is doing.  See the section in the
FAQ

  9.1 What is a bug?

R is a volunteer project, and bug reports take valuable time.


On Thu, 15 Nov 2001 Paul.White@dsto.defence.gov.au wrote:

> > Hello bug people,
> >
> > Version:
> >  platform = i686-pc-linux-gnu
> >  arch = i686
> >  os = linux-gnu
> >  system = i686, linux-gnu
> >  status =
> >  major = 1
> >  minor = 3.1
> >  year = 2001
> >  month = 08
> >  day = 31
> >  language = R
> >
> > is this a bug ?
> >
> > x <- 1:10
> > x==4:5
> >  [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
> >
> > Nothing said it should but nothing said it shouldn't . My expectation was
> > that it would successively try
> > each of the values in the list and or the result for each item in the x
> > vector. ie it would pick out all the matches
> of 4 or 5.
>
> > [1] FALSE FALSE FALSE  TRUE TRUE FALSE FALSE FALSE FALSE FALSE
> >
> > Paul
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Nov 15 09:25:12 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 15 Nov 2001 10:25:12 +0100 (MET)
Subject: [Rd] rpart:plotcp doesn't allow ylim argument (PR#1171)
Message-ID: <200111150925.KAA13266@pubhealth.ku.dk>

It doesn't say it allows ylim, either. Why would you want to do this?

rpart is a port of code written for S-PLUS 6: that has been finalized last
week and rpart version 3.1-3 is the result.  It's been very difficult
tracking the changes, and I am not prepared to diverge the R port from the
original except where essential.   (By no means all changes I feed back get
incorporated.)

You'll need to convince me that this is essential.

On Wed, 14 Nov 2001 gregory_r_warnes@groton.pfizer.com wrote:

> Full_Name: Gregory R. Warnes
> Version: R 1.3.1
> OS: Solaris 2.8
> Submission from: (NULL) (192.77.198.200)
>
>
> rpart library version 3.1-2
>
> Error message:
> > plotcp(fit.thirds.1,ylim=c(0.7,1.5));
> Error in plot.default(ns, xerror, axes = FALSE, xlab = "cp", ylab = "X-val
> Relative Error",  :
> 	formal argument "ylim" matched by multiple actual arguments
> >
>
> This can be corrected by adding  ylim to the list of formal argument and
> wrapping
> the definition of ylim with 'if(missing(ylim))'.  Patch below.
>
> -Greg
>
> ---PATCH STARTS HERE---
> diff -r rpart.orig//R/plotcp.s rpart/R/plotcp.s
> 5c5
> < 		   upper=c("size", "splits", "none"), ...)
> ---
> > 		   upper=c("size", "splits", "none"), ylim, ...)
> 18c18,19
> <   ylim <- c(min(xerror - xstd) - 0.1, max(xerror + xstd) + 0.1)
> ---
> >   if(missing(ylim))
> >     ylim <- c(min(xerror - xstd) - 0.1, max(xerror + xstd) + 0.1)
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

--
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gregory_r_warnes@groton.pfizer.com  Thu Nov 15 14:28:15 2001
From: gregory_r_warnes@groton.pfizer.com (Warnes, Gregory R)
Date: Thu, 15 Nov 2001 09:28:15 -0500
Subject: [Rd] rpart:plotcp doesn't allow ylim argument (PR#1171)
Message-ID: <5429125E11E4D411AF7300805FE603A8014CEFEE@groexmbcr02.pfizer.com>


Hi Brain,

The reason for specifying ylim is to allow me to generate these plots for
several different trees and compare them side by side.  Its hard to do that
properly if the plots are on different scales.

While the help page doesn't say explicitly that it allows ylim, it does say
that "..." are "additional plotting parameters" which often means that the
standard plotting parameters will get handled properly.

-Greg

 > -----Original Message-----
 > From: ripley@stats.ox.ac.uk [mailto:ripley@stats.ox.ac.uk]
 > Sent: Thursday, November 15, 2001 4:25 AM
 > To: r-devel@stat.math.ethz.ch
 > Cc: R-bugs@biostat.ku.dk
 > Subject: Re: [Rd] rpart:plotcp doesn't allow ylim argument (PR#1171)
 > 
 > 
 > It doesn't say it allows ylim, either. Why would you want to do this?
 > 
 > rpart is a port of code written for S-PLUS 6: that has been 
 > finalized last
 > week and rpart version 3.1-3 is the result.  It's been very difficult
 > tracking the changes, and I am not prepared to diverge the R 
 > port from the
 > original except where essential.   (By no means all changes 
 > I feed back get
 > incorporated.)
 > 
 > You'll need to convince me that this is essential.
 > 
 > On Wed, 14 Nov 2001 gregory_r_warnes@groton.pfizer.com wrote:
 > 
 > > Full_Name: Gregory R. Warnes
 > > Version: R 1.3.1
 > > OS: Solaris 2.8
 > > Submission from: (NULL) (192.77.198.200)
 > >
 > >
 > > rpart library version 3.1-2
 > >
 > > Error message:
 > > > plotcp(fit.thirds.1,ylim=c(0.7,1.5));
 > > Error in plot.default(ns, xerror, axes = FALSE, xlab = 
 > "cp", ylab = "X-val
 > > Relative Error",  :
 > > 	formal argument "ylim" matched by multiple actual arguments
 > > >
 > >
 > > This can be corrected by adding  ylim to the list of 
 > formal argument and
 > > wrapping
 > > the definition of ylim with 'if(missing(ylim))'.  Patch below.
 > >
 > > -Greg
 > >
 > > ---PATCH STARTS HERE---
 > > diff -r rpart.orig//R/plotcp.s rpart/R/plotcp.s
 > > 5c5
 > > < 		   upper=c("size", "splits", "none"), ...)
 > > ---
 > > > 		   upper=c("size", "splits", "none"), ylim, ...)
 > > 18c18,19
 > > <   ylim <- c(min(xerror - xstd) - 0.1, max(xerror + xstd) + 0.1)
 > > ---
 > > >   if(missing(ylim))
 > > >     ylim <- c(min(xerror - xstd) - 0.1, max(xerror + xstd) + 0.1)
 > >
 > >
 > > 
 > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
 > .-.-.-.-.-.-.-.-.-
 > > r-devel mailing list -- Read 
 > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
 > > Send "info", "help", or "[un]subscribe"
 > > (in the "body", not the subject !)  To: 
 > r-devel-request@stat.math.ethz.ch
 > > 
 > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
 > ._._._._._._._._._
 > >
 > 
 > --
 > Brian D. Ripley,                  ripley@stats.ox.ac.uk
 > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
 > University of Oxford,             Tel:  +44 1865 272861 (self)
 > 1 South Parks Road,                     +44 1865 272860 (secr)
 > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
 > 
 > 
 > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
 > .-.-.-.-.-.-.-.-.-
 > r-devel mailing list -- Read 
 > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
 > Send "info", "help", or "[un]subscribe"
 > (in the "body", not the subject !)  To: 
 > r-devel-request@stat.math.ethz.ch
 > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
 > ._._._._._._._._._
 > 


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gregory_r_warnes@groton.pfizer.com  Thu Nov 15 14:28:56 2001
From: gregory_r_warnes@groton.pfizer.com (gregory_r_warnes@groton.pfizer.com)
Date: Thu, 15 Nov 2001 15:28:56 +0100 (MET)
Subject: [Rd] rpart:plotcp doesn't allow ylim argument (PR#1171)
Message-ID: <200111151428.PAA19138@pubhealth.ku.dk>


Hi Brain,

The reason for specifying ylim is to allow me to generate these plots for
several different trees and compare them side by side.  Its hard to do that
properly if the plots are on different scales.

While the help page doesn't say explicitly that it allows ylim, it does say
that "..." are "additional plotting parameters" which often means that the
standard plotting parameters will get handled properly.

-Greg

 > -----Original Message-----
 > From: ripley@stats.ox.ac.uk [mailto:ripley@stats.ox.ac.uk]
 > Sent: Thursday, November 15, 2001 4:25 AM
 > To: r-devel@stat.math.ethz.ch
 > Cc: R-bugs@biostat.ku.dk
 > Subject: Re: [Rd] rpart:plotcp doesn't allow ylim argument (PR#1171)
 > 
 > 
 > It doesn't say it allows ylim, either. Why would you want to do this?
 > 
 > rpart is a port of code written for S-PLUS 6: that has been 
 > finalized last
 > week and rpart version 3.1-3 is the result.  It's been very difficult
 > tracking the changes, and I am not prepared to diverge the R 
 > port from the
 > original except where essential.   (By no means all changes 
 > I feed back get
 > incorporated.)
 > 
 > You'll need to convince me that this is essential.
 > 
 > On Wed, 14 Nov 2001 gregory_r_warnes@groton.pfizer.com wrote:
 > 
 > > Full_Name: Gregory R. Warnes
 > > Version: R 1.3.1
 > > OS: Solaris 2.8
 > > Submission from: (NULL) (192.77.198.200)
 > >
 > >
 > > rpart library version 3.1-2
 > >
 > > Error message:
 > > > plotcp(fit.thirds.1,ylim=c(0.7,1.5));
 > > Error in plot.default(ns, xerror, axes = FALSE, xlab = 
 > "cp", ylab = "X-val
 > > Relative Error",  :
 > > 	formal argument "ylim" matched by multiple actual arguments
 > > >
 > >
 > > This can be corrected by adding  ylim to the list of 
 > formal argument and
 > > wrapping
 > > the definition of ylim with 'if(missing(ylim))'.  Patch below.
 > >
 > > -Greg
 > >
 > > ---PATCH STARTS HERE---
 > > diff -r rpart.orig//R/plotcp.s rpart/R/plotcp.s
 > > 5c5
 > > < 		   upper=c("size", "splits", "none"), ...)
 > > ---
 > > > 		   upper=c("size", "splits", "none"), ylim, ...)
 > > 18c18,19
 > > <   ylim <- c(min(xerror - xstd) - 0.1, max(xerror + xstd) + 0.1)
 > > ---
 > > >   if(missing(ylim))
 > > >     ylim <- c(min(xerror - xstd) - 0.1, max(xerror + xstd) + 0.1)
 > >
 > >
 > > 
 > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
 > .-.-.-.-.-.-.-.-.-
 > > r-devel mailing list -- Read 
 > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
 > > Send "info", "help", or "[un]subscribe"
 > > (in the "body", not the subject !)  To: 
 > r-devel-request@stat.math.ethz.ch
 > > 
 > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
 > ._._._._._._._._._
 > >
 > 
 > --
 > Brian D. Ripley,                  ripley@stats.ox.ac.uk
 > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
 > University of Oxford,             Tel:  +44 1865 272861 (self)
 > 1 South Parks Road,                     +44 1865 272860 (secr)
 > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
 > 
 > 
 > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
 > .-.-.-.-.-.-.-.-.-
 > r-devel mailing list -- Read 
 > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
 > Send "info", "help", or "[un]subscribe"
 > (in the "body", not the subject !)  To: 
 > r-devel-request@stat.math.ethz.ch
 > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
 > ._._._._._._._._._
 > 


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From White.Denis@epamail.epa.gov  Thu Nov 15 18:19:39 2001
From: White.Denis@epamail.epa.gov (White.Denis@epamail.epa.gov)
Date: Thu, 15 Nov 2001 19:19:39 +0100 (MET)
Subject: [Rd] pdf() behavior (PR#1174)
Message-ID: <200111151819.TAA21576@pubhealth.ku.dk>

--0__=88256B050063F04C8f9e8a93df938690918c88256B050063F04C
Content-type: text/plain; charset=us-ascii

The attached script produces "Error in plot.xy ... negative length
vectors are not allowed" when using pdf() but not when using postscript
().

platform sparc-sun-solaris2.8
arch     sparc
os       solaris2.8
system   sparc, solaris2.8
status
major    1
minor    3.1
year     2001
month    08
day      31
language R

(See attached file: test.zip)
--0__=88256B050063F04C8f9e8a93df938690918c88256B050063F04C
Content-type: application/zip; 
	name="test.zip"
Content-Disposition: attachment; filename="test.zip"
Content-transfer-encoding: base64

UEsDBAoABAAGAF1Rbyvc25I/oAEAAMoCAAAGAAAAdGVzdC5ySihtBP1NAw0FDQgtFAcIBAgFDQgV
OA0ILQgFLQgdBxZNBy0HDTdNBg0GBx0EBgQFAwQFFB0EBQQTBxQDFwYFFx0OB/7+/v7+/v7OPxMR
AgQFBAoUOgQ6AwRKuwSrBDsEiwoAEgYXBhcG9/f3V1GiJfxAg/kRI0dIXNe+ECavWR+2HnZ7678k
pz9OP3b+sT+65uHHGbkcsk4/48wcf8mzZKIn53XNjJu8chi5L+5X7gLpRdnb/i8GPf+T6WkF5cXp
x7SZ3WUDKwQx/e616W5n8/n5v6Z86//nlrscqvZsdPFOiX53qzbUrffYZBMCiRopcfq3fn3bPE4J
9mes/pLqqxuTHZbclJ+nnxqrbPXOEvgU5Cx8TVXNq9O7W5R6XuvyhePLjC+18H3L4btJ/aW56a9c
PHJx8w/5Ra2Zxccyx+D8L+QHN9zX9+3QvnqX8fm4eR0dHJalubj1NHezzKZ/hi6bC3pez22J/0s5
ntOEdlpO380LygOnP9wmW6xepqjOwcI/2O9ot2AGVoMC8VEOxeUmPklX4+naoSzcXs72vAJQSwME
CgAEAAYAJEdvK2WnKv6sAAAAOgEAAAgAAAB0ZXN0LmRhdBmaAxr7+wsCCxMCAwJD+/v7+/v7+/v7
+/v7WwgCAAEDOPn5+XkGAAEW9/f3t/FrqrPfx8bI/ZwZWb8cI8vXMnv+3dnT91IZl8rI+GMVb1Qc
540/hmRk6YpTx2T/URhtiLcoLitqunn3g/x964yuov4VmRXnqBiR7UdXjIgot7/I6CKusEJ4GVlI
LZiYFU2DEWX1aFTwePvjGDEq7qtoUnxN0cxr64qS2pYU8wRQSwECCgMKAAQABgBdUW8r3NuSP6AB
AADKAgAABgAAAAAAAAAAAAAApIEAAAAAdGVzdC5yUEsBAgoDCgAEAAYAJEdvK2WnKv6sAAAAOgEA
AAgAAAAAAAAAAAAAAKSBxAEAAHRlc3QuZGF0UEsFBgAAAAACAAIAagAAAJYCAAAAAA==

--0__=88256B050063F04C8f9e8a93df938690918c88256B050063F04C--


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Nov 15 19:32:44 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 15 Nov 2001 20:32:44 +0100 (MET)
Subject: [Rd] pdf() behavior (PR#1174)
Message-ID: <200111151932.UAA21933@pubhealth.ku.dk>

Could you re-send it in a form we can actually read? No mailer I have
(even on Solaris) can unscramble this.

I don't think R-bugs is scrambling this, but we know attachments are a
pain in the archive.

On Thu, 15 Nov 2001 White.Denis@epamail.epa.gov wrote:

> --0__=88256B050063F04C8f9e8a93df938690918c88256B050063F04C
> Content-type: text/plain; charset=us-ascii
>
> The attached script produces "Error in plot.xy ... negative length
> vectors are not allowed" when using pdf() but not when using postscript
> ().
>
> platform sparc-sun-solaris2.8
> arch     sparc
> os       solaris2.8
> system   sparc, solaris2.8
> status
> major    1
> minor    3.1
> year     2001
> month    08
> day      31
> language R
>
> (See attached file: test.zip)
> --0__=88256B050063F04C8f9e8a93df938690918c88256B050063F04C
> Content-type: application/zip;
> 	name="test.zip"
> Content-Disposition: attachment; filename="test.zip"
> Content-transfer-encoding: base64
>
> UEsDBAoABAAGAF1Rbyvc25I/oAEAAMoCAAAGAAAAdGVzdC5ySihtBP1NAw0FDQgtFAcIBAgFDQgV
> OA0ILQgFLQgdBxZNBy0HDTdNBg0GBx0EBgQFAwQFFB0EBQQTBxQDFwYFFx0OB/7+/v7+/v7OPxMR
> AgQFBAoUOgQ6AwRKuwSrBDsEiwoAEgYXBhcG9/f3V1GiJfxAg/kRI0dIXNe+ECavWR+2HnZ7678k
> pz9OP3b+sT+65uHHGbkcsk4/48wcf8mzZKIn53XNjJu8chi5L+5X7gLpRdnb/i8GPf+T6WkF5cXp
> x7SZ3WUDKwQx/e616W5n8/n5v6Z86//nlrscqvZsdPFOiX53qzbUrffYZBMCiRopcfq3fn3bPE4J
> 9mes/pLqqxuTHZbclJ+nnxqrbPXOEvgU5Cx8TVXNq9O7W5R6XuvyhePLjC+18H3L4btJ/aW56a9c
> PHJx8w/5Ra2Zxccyx+D8L+QHN9zX9+3QvnqX8fm4eR0dHJalubj1NHezzKZ/hi6bC3pez22J/0s5
> ntOEdlpO380LygOnP9wmW6xepqjOwcI/2O9ot2AGVoMC8VEOxeUmPklX4+naoSzcXs72vAJQSwME
> CgAEAAYAJEdvK2WnKv6sAAAAOgEAAAgAAAB0ZXN0LmRhdBmaAxr7+wsCCxMCAwJD+/v7+/v7+/v7
> +/v7WwgCAAEDOPn5+XkGAAEW9/f3t/FrqrPfx8bI/ZwZWb8cI8vXMnv+3dnT91IZl8rI+GMVb1Qc
> 540/hmRk6YpTx2T/URhtiLcoLitqunn3g/x964yuov4VmRXnqBiR7UdXjIgot7/I6CKusEJ4GVlI
> LZiYFU2DEWX1aFTwePvjGDEq7qtoUnxN0cxr64qS2pYU8wRQSwECCgMKAAQABgBdUW8r3NuSP6AB
> AADKAgAABgAAAAAAAAAAAAAApIEAAAAAdGVzdC5yUEsBAgoDCgAEAAYAJEdvK2WnKv6sAAAAOgEA
> AAgAAAAAAAAAAAAAAKSBxAEAAHRlc3QuZGF0UEsFBgAAAAACAAIAagAAAJYCAAAAAA==
>
> --0__=88256B050063F04C8f9e8a93df938690918c88256B050063F04C--
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From White.Denis@epamail.epa.gov  Thu Nov 15 20:10:23 2001
From: White.Denis@epamail.epa.gov (White.Denis@epamail.epa.gov)
Date: Thu, 15 Nov 2001 21:10:23 +0100 (MET)
Subject: [Rd] pdf() behavior (PR#1174)
Message-ID: <200111152010.VAA22209@pubhealth.ku.dk>

The attached script produces "Error in plot.xy ... negative length
vectors are not allowed" when using pdf() but not when using postscript
().

platform sparc-sun-solaris2.8
arch     sparc
os       solaris2.8
system   sparc, solaris2.8
status
major    1
minor    3.1
year     2001
month    08
day      31
language R

------------------------------------
# script
PDF <- TRUE

f.v1 <- function (x, a, b) b * (x^a)
f.v2 <- function (x, a, b, d) b * (x^a) * exp(d*x)

dat <- scan ("test.dat")

if (PDF) pdf ("test.pdf", width=8.5, height=11) else
  postscript ("test.eps", horizontal=FALSE, onefile=FALSE)

par (mfrow=c(2,1), mar=rep(6,4))

n <- length(dat)
nseq <- seq (n)

fit <- lm (log (dat[nseq]) ~ log (nseq))
b <- exp (fit$coefficients[1])
a <- fit$coefficients[2]
plot (dat[nseq], pch=20)
points (sapply (nseq, f.v1, a, b), col="red", pch=20)

fit <- lm (log (dat[nseq]) ~ log (nseq) + nseq)
b <- exp (fit$coefficients[1])
a <- fit$coefficients[2]
d <- fit$coefficients[3]
plot (dat[nseq], pch=20)
points (sapply (nseq, f.v2, a, b, d), col="red", pch=20)

graphics.off ()

-----------------------------------
# data set
9.585
12.935
14.775
15.625
16.56
17.44
18.165
18.655
19.04
19.49
19.9
20.285
20.61
20.815
21.065
21.3
21.46
21.645
21.82
22.085
22.315
22.45
22.61
22.67
22.79
22.9
23.01
23.1
23.165
23.295
23.4
23.51
23.585
23.64
23.685
23.75
23.805
23.84
23.9
23.955
24.025
24.09
24.14
24.18
24.23
24.275
24.31
24.33
24.345
24.37



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Thu Nov 15 21:20:33 2001
From: edd@debian.org (Dirk Eddelbuettel)
Date: Thu, 15 Nov 2001 15:20:33 -0600
Subject: [Rd] No SONAME in libRmath.so in src/nmath/standalone
Message-ID: <20011115152033.A22144@sonny.eddelbuettel.com>


Upon the suggestion of a Debian user, I am looking into also shipping
libRmath.{a,so}.  Building from R-1.3.1 sources, the resulting libRmath.so
is not recognised as shared library (objdump -p does not show SONAME).
Now, the Makefile hints at libtool usage, but I do not understand how to
enable this. 

However, I used the existing but empty option field libRmath_la_LDFLAGS
to pass the required info to gcc:
       libRmath_la_LDFLAGS=-Wl,-soname,libRmath.so.0

This leads to two questions:

1) Did I overlook anything?  Is there another (better?) way of doing this?

2) Is it ok with R-core if I use 0 as the SO number? Or should it be 1?

Thanks,  Dirk

-- 
Better to have an approximate answer to the right question 
than a precise answer to the wrong question. -- John Tukey
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.T.Kent@leeds.ac.uk  Fri Nov 16 10:35:13 2001
From: J.T.Kent@leeds.ac.uk (J.T.Kent@leeds.ac.uk)
Date: Fri, 16 Nov 2001 11:35:13 +0100 (MET)
Subject: [Rd] pearson residuals in glm for binomial response (PR#1175)
Message-ID: <200111161035.LAA27495@pubhealth.ku.dk>

R version 1.3.0
OS: SunOS 5.7, but I think the same problem occurs with Windows

An incorrect formula seems to be used to calculate the pearson residuals
for a generalized linear model with a binomial response.  Here is a
simple program which gives (a) the pearson residuals calculated directly,
(b) the pearson residuals from glm, and (c) the deviance residuals from 
glm.  The first and last columns are quite close.  The middle differs from 
the first by a factor of n (n=10 here).  This problem did not occur with
an earlier version of R I tried, version 0.64.2.

Thank you.

Professor John T. Kent         tel (direct)   (44) 113-233-5103
Department of Statistics       tel(secretary) (44) 113-233-5101
University of Leeds            fax            (44) 113-233-5090
Leeds LS2 9JT, England         e-mail: J.T.Kent@leeds.ac.uk

Input:

x_1:4 # regressor variable
y_c(2,6,7,8) # response binomial counts
n_rep(10,4) # number of binomial trials
ym_cbind(y,n-y) # response variable as a matrix
glm1_glm(ym~x,binomial) # fit a generalized linear model
f_fitted(glm1)
rp1_(y-n*f)/sqrt(n*f*(1-f)) # direct calculation of pearson residuals
rp2_residuals(glm1,type="pearson") # should be pearson residuals
rd_residuals(glm1) # deviance residuals
cbind(rp1,rp2,rd) # note second column is wrong, in this case by factor of 10

Output:

             rp1          rp2          rd
[1,] -0.56502992 -0.056500696 -0.58467936
[2,]  0.73739407  0.073739452  0.73886417
[3,]  0.05266796  0.005266533  0.05279174
[4,] -0.38314283 -0.038307944 -0.37010220
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Fri Nov 16 11:23:48 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Nov 2001 12:23:48 +0100
Subject: [Rd] pearson residuals in glm for binomial response (PR#1175)
In-Reply-To: <200111161035.LAA27495@pubhealth.ku.dk>
References: <200111161035.LAA27495@pubhealth.ku.dk>
Message-ID: <x24rnvvu0r.fsf@blueberry.kubism.ku.dk>

J.T.Kent@leeds.ac.uk writes:

> R version 1.3.0
> OS: SunOS 5.7, but I think the same problem occurs with Windows
> 
> An incorrect formula seems to be used to calculate the pearson residuals
> for a generalized linear model with a binomial response.  Here is a
> simple program which gives (a) the pearson residuals calculated directly,
> (b) the pearson residuals from glm, and (c) the deviance residuals from 
> glm.  The first and last columns are quite close.  The middle differs from 
> the first by a factor of n (n=10 here).  This problem did not occur with
> an earlier version of R I tried, version 0.64.2.

I almost said that your version is old and that you forgot to check
the bug repository for prior reports (PR#1123 was also on Pearson
residuals). However, the problem persists in the development version.

The issue is that we have (in 1.4.0pre)

 pearson = (y - mu)/sqrt(wts * (object$family$variance)(mu))

However, the y and mu that we use are divided by n:

> glm1$prior.weights
[1] 10 10 10 10
> glm1$fitted.values
[1] 0.2802480 0.4834715 0.6923131 0.8439674
> glm1$family$variance(glm1$fitted.values)
[1] 0.2017091 0.2497268 0.2130157 0.1316864
> glm1$y
[1] 0.2 0.6 0.7 0.8

I've stuck my foot in it with this stuff before, but should the
denominator not be sqrt(object$family$variance(mu)/wts) ?? (If the
weights are large, the variance should be smaller, not larger).

Could someone please ram a wooden stake through this one and prevent
it from haunting us again?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From hb@maths.lth.se  Fri Nov 16 16:00:02 2001
From: hb@maths.lth.se (hb@maths.lth.se)
Date: Fri, 16 Nov 2001 17:00:02 +0100 (MET)
Subject: [Rd] UseMethod() fails to (PR#1176)
Message-ID: <200111161600.RAA02600@pubhealth.ku.dk>

match the argument 'x' if there is another argument with prefix 'x'

Full_Name: Henrik Bengtsson
Version: 1.3.1
OS: Sun Solaris 8
Submission from: (NULL) (130.235.3.49)


I ran into a strange problem with UseMethod(). Run the following code:

foo.Bar <- function(this, x=0, xidx=0) {
  cat("In foo.Bar(): ", this, ", x=", x, ", xidx=", xidx, ".\n", sep="");
}

foo.default <- function(x, ...) {
  str("Error: No default function found!");
}

foo <- function(x, ...) UseMethod("foo");


obj <- "Hello world!";
class(obj) <- "Bar";

foo(obj);
foo(obj, xidx=1);
foo(obj, x=1);             # <- PROBLEM HERE!
foo(obj, x=1, xidx=1);     # <- PROBLEM HERE!
foo(obj, xidx=1, x=1);     # <- PROBLEM HERE!
foo.Bar(obj, x=1);
foo.Bar(obj, x=1, xidx=1);

and you will get

  In foo.Bar(): Hello world!, x=0, xidx=0.
  In foo.Bar(): Hello world!, x=0, xidx=1.
   chr "Error: No default function found!"
   chr "Error: No default function found!"
   chr "Error: No default function found!"
  In foo.Bar(): Hello world!, x=1, xidx=0.
  In foo.Bar(): Hello world!, x=1, xidx=1.

There is something going on with matching of arguments; UseMethod() fails to
match the argument 'x' if there is another argument with prefix 'x'.

I believe this is an unwanted feature of UseMethod.

Thanks

Henrik Bengtsson
Lund University
Sweden


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Fri Nov 16 16:13:42 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Nov 2001 17:13:42 +0100
Subject: [Rd] UseMethod() fails to (PR#1176)
In-Reply-To: <200111161600.RAA02600@pubhealth.ku.dk>
References: <200111161600.RAA02600@pubhealth.ku.dk>
Message-ID: <x2vggavgll.fsf@blueberry.kubism.ku.dk>

hb@maths.lth.se writes:

> match the argument 'x' if there is another argument with prefix 'x'
> 
> Full_Name: Henrik Bengtsson
> Version: 1.3.1
> OS: Sun Solaris 8
> Submission from: (NULL) (130.235.3.49)
> 
> 
> I ran into a strange problem with UseMethod(). Run the following code:
> 
> foo.Bar <- function(this, x=0, xidx=0) {
>   cat("In foo.Bar(): ", this, ", x=", x, ", xidx=", xidx, ".\n", sep="");
> }
> 
> foo.default <- function(x, ...) {
>   str("Error: No default function found!");
> }
> 
> foo <- function(x, ...) UseMethod("foo");
> 
> 
> obj <- "Hello world!";
> class(obj) <- "Bar";
> 
> foo(obj);
> foo(obj, xidx=1);
> foo(obj, x=1);             # <- PROBLEM HERE!
> foo(obj, x=1, xidx=1);     # <- PROBLEM HERE!
> foo(obj, xidx=1, x=1);     # <- PROBLEM HERE!
> foo.Bar(obj, x=1);
> foo.Bar(obj, x=1, xidx=1);
> 
> and you will get
> 
>   In foo.Bar(): Hello world!, x=0, xidx=0.
>   In foo.Bar(): Hello world!, x=0, xidx=1.
>    chr "Error: No default function found!"
>    chr "Error: No default function found!"
>    chr "Error: No default function found!"
>   In foo.Bar(): Hello world!, x=1, xidx=0.
>   In foo.Bar(): Hello world!, x=1, xidx=1.
> 
> There is something going on with matching of arguments; UseMethod() fails to
> match the argument 'x' if there is another argument with prefix 'x'.
> 
> I believe this is an unwanted feature of UseMethod.

Nope. In all the three cases you've marked as problems, you're telling
foo that the "x" argument is 1 (cf. plot(rnorm(10),x=1:10) ) and thus
UseMethod dispatches the default method.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Keith Richards-Dinger <dinger@usgs.gov>  Fri Nov 16 18:31:26 2001
From: Keith Richards-Dinger <dinger@usgs.gov> (Keith Richards-Dinger)
Date: Fri, 16 Nov 2001 13:31:26 -0500 (EST)
Subject: [Rd] DGESDD from Lapack for R-1.4.0?
Message-ID: <Pine.LNX.4.21.0111161244000.10665-100000@mchinji.wr.usgs.gov>


Hi,

I'm just wondering if it is planned to include the Lapack
routine DGESDD (and friends) in R-1.4.0?  This is faster
(supposedly by a factor of ~6 for large matrices) than
DGESVD which is currently (R-1.3.1) called by La.svd.

And if it is not in the plans yet, is there a chance it
could be?  I've added it to my local version of R-1.3.1 and
so far see a factor of 4 improvement over La.svd and a
factor of 3 over svd (see output below).  I'd be glad to
hand off what I've done so far to someone else or to work
more on it (make it behave as svd and La.svd do if you don't
want all the singular vectors; and add ZGESDD also).  
Though what I've done so far would probably be trivial for
someone who knew what they were doing...

Mac G4, 450 MHz, LinuxPPC, pre-compiled ATLAS-3.2.1
libraries for G4 from www.netlib.org, R-1.3.1:

> m <- matrix(rnorm(25e4), 5e2, 5e2)
> system.time(svd(m))
[1] 22.31  0.10 23.01  0.00  0.00
> system.time(La.svd(m))
[1] 29.60  0.10 29.78  0.00  0.00
> system.time(La.sdd(m))
[1] 7.28 0.12 8.00 0.00 0.00



Thanks, Keith Richards-Dinger

P.S.  I would have checked if DGESDD is in r-devel but I
could not figure out how to check r-devel out of CVS.  
<http://developer.R-project.org/CVStips.html> says "This
info is for reference to the core developers. Use of
anonymous CVS for outsiders is not yet covered here, but may
be in the future.", and my knowledge of CVS is almost
non-existent.  I tried:
 
cvs -d:pserver:anonymous@cvs.r-project.org:/home/rdevel/CVS-ARCHIVE login

and tried both an empty password and my email address as
password and both times got: 

cvs [login aborted]: authorization failed: server
cvs.r-project.org rejected access


---------------------------------------------------------------------------
Keith Richards-Dinger
U.S. Geological Survey, MS-977          Office 1-650-329-5519
345 Middlefield Road                    Fax    1-650-329-5143
Menlo Park, CA  USA  94025              e-mail dinger@usgs.gov
---------------------------------------------------------------------------




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Fri Nov 16 23:45:19 2001
From: bates@stat.wisc.edu (Douglas Bates)
Date: 16 Nov 2001 17:45:19 -0600
Subject: [Rd] DGESDD from Lapack for R-1.4.0?
In-Reply-To: <Pine.LNX.4.21.0111161244000.10665-100000@mchinji.wr.usgs.gov>
References: <Pine.LNX.4.21.0111161244000.10665-100000@mchinji.wr.usgs.gov>
Message-ID: <6ry9l6ffg0.fsf@franz.stat.wisc.edu>

Keith Richards-Dinger <dinger@mchinji.wr.usgs.gov> writes:

> P.S.  I would have checked if DGESDD is in r-devel but I
> could not figure out how to check r-devel out of CVS.  
> <http://developer.R-project.org/CVStips.html> says "This
> info is for reference to the core developers. Use of
> anonymous CVS for outsiders is not yet covered here, but may
> be in the future.", and my knowledge of CVS is almost
> non-existent.  I tried:
>  
> cvs -d:pserver:anonymous@cvs.r-project.org:/home/rdevel/CVS-ARCHIVE login
> 
> and tried both an empty password and my email address as
> password and both times got: 
> 
> cvs [login aborted]: authorization failed: server
> cvs.r-project.org rejected access

The best way to get copies of r-devel is through rsync from
rsync.r-project.org:: (see www.rsync.org for the rsync software if you
don't have it available).  You can also download a tar.gz or tar.bz2
snapshot from ftp://ftp.stat.math.ethz.ch/Software/R

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossini@u.washington.edu  Sat Nov 17 01:59:08 2001
From: rossini@u.washington.edu (A.J. Rossini)
Date: 16 Nov 2001 17:59:08 -0800
Subject: [Rd] DGESDD from Lapack for R-1.4.0?
In-Reply-To: <6ry9l6ffg0.fsf@franz.stat.wisc.edu>
References: <Pine.LNX.4.21.0111161244000.10665-100000@mchinji.wr.usgs.gov>
 <6ry9l6ffg0.fsf@franz.stat.wisc.edu>
Message-ID: <871yiyduoj.fsf@jeeves.blindglobe.net>

>>>>> "DB" == Douglas Bates <bates@stat.wisc.edu> writes:
    >> 
    >> cvs
    >> -d:pserver:anonymous@cvs.r-project.org:/home/rdevel/CVS-ARCHIVE
    >> login
    >> 
    >> and tried both an empty password and my email address as
    >> password and both times got:
    >> 
    >> cvs [login aborted]: authorization failed: server
    >> cvs.r-project.org rejected access

    DB> The best way to get copies of r-devel is through rsync from
    DB> rsync.r-project.org:: (see www.rsync.org for the rsync
    DB> software if you don't have it available).  You can also
    DB> download a tar.gz or tar.bz2 snapshot from
    DB> ftp://ftp.stat.math.ethz.ch/Software/R

Note that the anon-CVS archive still exists and works (I just
checked), but Doug's comment re: rsync should be heeded -- if you
don't know why you want CVS (a meaningful "why"), then rsync should be
perfectly suited!

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini@u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini@scharp.org
-------------- http://software.biostat.washington.edu/ --------------
FHCRC: M-W: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   T-Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
Rosen: (Mullins' Lab) Fridays, and I'm unreachable except by email.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Keith Richards-Dinger <dinger@usgs.gov>  Sat Nov 17 03:17:34 2001
From: Keith Richards-Dinger <dinger@usgs.gov> (Keith Richards-Dinger)
Date: Fri, 16 Nov 2001 22:17:34 -0500 (EST)
Subject: [Rd] DGESDD from Lapack for R-1.4.0?
In-Reply-To: <871yiyduoj.fsf@jeeves.blindglobe.net>
Message-ID: <Pine.LNX.4.21.0111162152510.11785-100000@mchinji.wr.usgs.gov>

On 16 Nov 2001, A.J. Rossini wrote:

> >>>>> "DB" == Douglas Bates <bates@stat.wisc.edu> writes:
> 
>     DB> The best way to get copies of r-devel is through rsync from
>     DB> rsync.r-project.org:: (see www.rsync.org for the rsync
>     DB> software if you don't have it available).  You can also
>     DB> download a tar.gz or tar.bz2 snapshot from
>     DB> ftp://ftp.stat.math.ethz.ch/Software/R
> 
> Note that the anon-CVS archive still exists and works (I just
> checked), but Doug's comment re: rsync should be heeded -- if you
> don't know why you want CVS (a meaningful "why"), then rsync should be
> perfectly suited!

Yes, rsync is indeed more than adequate for my purposes,
somehow I managed to miss the mention of rsync on the
website.

The src/modules/lapack/double.f in r-devel appears to be
identical to that in R-1.3.1, i.e. no DGESDD.  So the answer
to my main question is "no".   What about my secondary
questions - whether it might be done later, or if I should
somehow contribute what I've done and/or continue to work on
it?

Thanks, Keith

---------------------------------------------------------------------------
Keith Richards-Dinger
U.S. Geological Survey, MS-977          Office 1-650-329-5519
345 Middlefield Road                    Fax    1-650-329-5143
Menlo Park, CA  USA  94025              e-mail dinger@usgs.gov
---------------------------------------------------------------------------





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sat Nov 17 08:44:18 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 17 Nov 2001 08:44:18 +0000 (GMT)
Subject: [Rd] DGESDD from Lapack for R-1.4.0?
In-Reply-To: <Pine.LNX.4.21.0111161244000.10665-100000@mchinji.wr.usgs.gov>
Message-ID: <Pine.GSO.4.31.0111170825300.27233-100000@auk.stats>

On Fri, 16 Nov 2001, Keith Richards-Dinger wrote:

>
> Hi,
>
> I'm just wondering if it is planned to include the Lapack
> routine DGESDD (and friends) in R-1.4.0?  This is faster
> (supposedly by a factor of ~6 for large matrices) than
> DGESVD which is currently (R-1.3.1) called by La.svd.

No plans.

> And if it is not in the plans yet, is there a chance it
> could be?  I've added it to my local version of R-1.3.1 and

If you want to contribute tested code to do this it could be incorporated,
but the timescale for 1.4.0 is short: if that is to be released before
Christmas feature-freeze is imminent (but not yet announced).

We don't see R as a linear algebra system, and the aim of introducing
La.svd was accuracy not speed (the LINPACK version of svd having some
algorithmic limitations, as well as some problems on machines with
extra-precision FPU registers).

> so far see a factor of 4 improvement over La.svd and a
> factor of 3 over svd (see output below).  I'd be glad to
> hand off what I've done so far to someone else or to work
> more on it (make it behave as svd and La.svd do if you don't
> want all the singular vectors; and add ZGESDD also).
> Though what I've done so far would probably be trivial for
> someone who knew what they were doing...
>
> Mac G4, 450 MHz, LinuxPPC, pre-compiled ATLAS-3.2.1
> libraries for G4 from www.netlib.org, R-1.3.1:
>
> > m <- matrix(rnorm(25e4), 5e2, 5e2)
> > system.time(svd(m))
> [1] 22.31  0.10 23.01  0.00  0.00
> > system.time(La.svd(m))
> [1] 29.60  0.10 29.78  0.00  0.00
> > system.time(La.sdd(m))
> [1] 7.28 0.12 8.00 0.00 0.00

I'd want to see a wider comparison, including on non-ATLAS systems.
In particular, without ATLAS my 1GHZ PIII gives

> m <- matrix(rnorm(25e4), 5e2, 5e2)
> system.time(svd(m))
[1] 22.76  0.06 22.80  0.00  0.00
> system.time(La.svd(m))
[1] 16.32  0.15 16.95  0.00  0.00

and on Doug Bates' franz (with ATLAS)

> system.time(svd(m))
[1] 14.70  0.03 17.96  0.00  0.00
> system.time(La.svd(m))
[1] 15.00  0.03 17.71  0.00  0.00

which suggests something peculiar on your system, the only one I have ever
seen that has La.svd appreciably slower than svd.  We've had a couple of
instances where changing to use BLAS slowed down the code on the basic
system, so we know that the precise BLAS is important.


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sat Nov 17 10:56:58 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 17 Nov 2001 11:56:58 +0100 (MET)
Subject: [Rd] pdf() behavior (PR#1174)
Message-ID: <200111171056.LAA05379@pubhealth.ku.dk>

Once again, this has nothing to do with pdf()!

The bug is in the internal clipping code in graphics.c, which read

    default: /* Partial clipping; draw poly[line|gon] */
        dd->gp.xpd = 2;
        result2 = clipCircleCode(x, y, coords, ir, dd);
        dd->gp.xpd = xpdsaved;
        if (dd->dp.canClip && result2 == -2) {
            GClip(dd);
            dd->dp.circle(x, y, coords, ir, bg, fg, dd);
        }
        else {
            vmax = vmaxget();
            xc = (double*)R_alloc(result+1, sizeof(double));
            yc = (double*)R_alloc(result+1, sizeof(double));

with result, not result2.  This meant that if a circle was clipped by the
plot region but not by the device region, result got set to -2, and the
final lines tried to allocate a vector of size -1.  As the postscript
device has dd->dp.canClip true, the bug was avoided on that device.

I don't fully understand the intended logic: is this fix the correct one,
Paul or Ross?  And can we have some comments in the code, please?


On Thu, 15 Nov 2001 White.Denis@epamail.epa.gov wrote:

> The attached script produces "Error in plot.xy ... negative length
> vectors are not allowed" when using pdf() but not when using postscript
> ().
>
> platform sparc-sun-solaris2.8
> arch     sparc
> os       solaris2.8
> system   sparc, solaris2.8
> status
> major    1
> minor    3.1
> year     2001
> month    08
> day      31
> language R
>
> ------------------------------------
> # script
> PDF <- TRUE
>
> f.v1 <- function (x, a, b) b * (x^a)
> f.v2 <- function (x, a, b, d) b * (x^a) * exp(d*x)
>
> dat <- scan ("test.dat")
>
> if (PDF) pdf ("test.pdf", width=8.5, height=11) else
>   postscript ("test.eps", horizontal=FALSE, onefile=FALSE)
>
> par (mfrow=c(2,1), mar=rep(6,4))
>
> n <- length(dat)
> nseq <- seq (n)
>
> fit <- lm (log (dat[nseq]) ~ log (nseq))
> b <- exp (fit$coefficients[1])
> a <- fit$coefficients[2]
> plot (dat[nseq], pch=20)
> points (sapply (nseq, f.v1, a, b), col="red", pch=20)
>
> fit <- lm (log (dat[nseq]) ~ log (nseq) + nseq)
> b <- exp (fit$coefficients[1])
> a <- fit$coefficients[2]
> d <- fit$coefficients[3]
> plot (dat[nseq], pch=20)
> points (sapply (nseq, f.v2, a, b, d), col="red", pch=20)
>
> graphics.off ()
>
> -----------------------------------
> # data set
> 9.585
> 12.935
> 14.775
> 15.625
> 16.56
> 17.44
> 18.165
> 18.655
> 19.04
> 19.49
> 19.9
> 20.285
> 20.61
> 20.815
> 21.065
> 21.3
> 21.46
> 21.645
> 21.82
> 22.085
> 22.315
> 22.45
> 22.61
> 22.67
> 22.79
> 22.9
> 23.01
> 23.1
> 23.165
> 23.295
> 23.4
> 23.51
> 23.585
> 23.64
> 23.685
> 23.75
> 23.805
> 23.84
> 23.9
> 23.955
> 24.025
> 24.09
> 24.14
> 24.18
> 24.23
> 24.275
> 24.31
> 24.33
> 24.345
> 24.37
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Sat Nov 17 18:40:55 2001
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Sat, 17 Nov 2001 10:40:55 -0800 (PST)
Subject: [Rd] pearson residuals in glm for binomial response (PR#1175)
In-Reply-To: <200111161035.LAA27495@pubhealth.ku.dk>
Message-ID: <Pine.A41.4.33.0111171039050.137786-100000@homer34.u.washington.edu>

On Fri, 16 Nov 2001 J.T.Kent@leeds.ac.uk wrote:

> R version 1.3.0
> OS: SunOS 5.7, but I think the same problem occurs with Windows
>
> An incorrect formula seems to be used to calculate the pearson residuals
> for a generalized linear model with a binomial response.  Here is a
> simple program which gives (a) the pearson residuals calculated directly,
> (b) the pearson residuals from glm, and (c) the deviance residuals from
> glm.  The first and last columns are quite close.  The middle differs from
> the first by a factor of n (n=10 here).  This problem did not occur with
> an earlier version of R I tried, version 0.64.2.
>

Yes, it is a bug, resulting from an incorrect fix to an earlier bug that
had the sign wrong for decreasing link functions like the reciprocal.
It's already been reported and fixed.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From telford@progsoc.uts.edu.au  Sun Nov 18 07:23:43 2001
From: telford@progsoc.uts.edu.au (Telford)
Date: Sun, 18 Nov 2001 07:23:43 +0000
Subject: [Rd] png output requires X connection (PR#1165)
In-Reply-To: <200111111801.TAA29772@pubhealth.ku.dk>; from rmurray@debian.org on Sun, Nov 11, 2001 at 07:01:35PM +0100
References: <200111111801.TAA29772@pubhealth.ku.dk>
Message-ID: <20011118072343.A5075@progsoc.uts.edu.au>

On Sun, Nov 11, 2001 at 07:01:35PM +0100, rmurray@debian.org wrote:
> This is a wishlist item more than a bug.  I wish it worked the way the
> output is sharp and clear.

You might be up against the ghostscript anti-alias filter which
(IMHO) produces crappy, fuzzy output -- then again some people think
anti-alias is a feature, go figure. Anyhow you can turn it off and
get sharp, clear output from ghostscript.

I agree it would be nice if the PNG output was not directly tied
to the GUI but there are plenty of ways to get around the problem.

	- Tel
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Nov 18 08:37:23 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 18 Nov 2001 08:37:23 +0000 (GMT)
Subject: Producing PNG on Debian Linux (was the false bug report, Re: [Rd]
 png output requires X connection (PR#1165))
In-Reply-To: <20011118072343.A5075@progsoc.uts.edu.au>
Message-ID: <Pine.GSO.4.31.0111180804410.6298-100000@auk.stats>

On Sun, 18 Nov 2001, Telford wrote:

> On Sun, Nov 11, 2001 at 07:01:35PM +0100, rmurray@debian.org wrote:
> > This is a wishlist item more than a bug.  I wish it worked the way the
> > output is sharp and clear.
>
> You might be up against the ghostscript anti-alias filter which
> (IMHO) produces crappy, fuzzy output -- then again some people think
> anti-alias is a feature, go figure. Anyhow you can turn it off and
> get sharp, clear output from ghostscript.

As far as I am aware it is off when bitmap() is used, and Language.htm says

<dt><b><tt>TextAlphaBits, GraphicsAlphaBits (usually read-only)</tt></b>
<dd>The number of bits of anti-aliasing information for text or graphics
respectively.  Legal values are 1 (no anti-aliasing, the default for most
devices), 2, or 4.

On all my systems (Linux, Solaris, Windows)

> bitmap("test.png")
> plot(1:10)
> graphics.off()

gives `sharp and clear' output.  I am using up-to-date GhostScript
(7.00 or 6.51): perhaps *this* is the bug that needs to reported to Debian?

> I agree it would be nice if the PNG output was not directly tied
> to the GUI but there are plenty of ways to get around the problem.

I seem to have to keep saying this!  PNG output is *not* `directly tied to
the GUI'.  On Unix-alikes, one of the two devices I provided for you is,
and only one.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Sun Nov 18 13:38:36 2001
From: edd@debian.org (Dirk Eddelbuettel)
Date: Sun, 18 Nov 2001 07:38:36 -0600
Subject: Producing PNG on Debian Linux (was the false bug report, Re: [Rd]
 png output requires X connection (PR#1165))
In-Reply-To: <Pine.GSO.4.31.0111180804410.6298-100000@auk.stats>
References: <20011118072343.A5075@progsoc.uts.edu.au>
 <Pine.GSO.4.31.0111180804410.6298-100000@auk.stats>
Message-ID: <15351.47580.969190.349929@sonny.eddelbuettel.com>


  "Brian" == Brian D Ripley <Prof> writes:
  Brian> On all my systems (Linux, Solaris, Windows)
  Brian> 
  >> bitmap("test.png") plot(1:10) graphics.off()
  Brian>  gives `sharp and clear' output.  I am using up-to-date GhostScript
  Brian> (7.00 or 6.51): perhaps *this* is the bug that needs to reported to
  Brian> Debian?
  Brian> 
  >> I agree it would be nice if the PNG output was not directly tied to the
  >> GUI but there are plenty of ways to get around the problem.
  Brian>  I seem to have to keep saying this!  PNG output is *not* `directly
  Brian> tied to the GUI'.  On Unix-alikes, one of the two devices I provided
  Brian> for you is, and only one.

How about clarifying the documenation in unix/png.Rd then?  A suggestion is
below (against my R-1.3.1 sources, don't have R-devel here).

Dirk

edd@sonny:~/debian> diff -u r-base-1.3.1/src/library/base/man/unix/png.Rd{.orig,}
--- r-base-1.3.1/src/library/base/man/unix/png.Rd.orig  Sun Nov 18 07:28:46 2001+++ r-base-1.3.1/src/library/base/man/unix/png.Rd       Sun Nov 18 07:33:55 2001@@ -47,6 +47,11 @@
   These are based on the \code{\link{X11}} device, so the additional
   arguments to that device work, but are rarely appropriate.  The
   colour handling will be that of the \code{X11} device in use.
+
+  Consequently, use of these functions requires an \code{X11} terminal
+  which is not available in non-interactive sessions such as those started
+  by cron(8) or at(1). The \code{\link{bitmap}} function can be used in
+  those cases to create PNG or JPEG files.
 }
 \author{Guido Masarotto and Brian Ripley}

@@ -59,5 +64,9 @@
 \examples{
 ## copy current plot to a PNG file
 \dontrun{dev.print(png, file="myplot.png", width=480, height=480)}
+## use bitmap() to create a PNG file
+\dontrun{bitmap("/tmp/test.png")}
+\dontrun{plot(1:10,main="Straight line")}
+\dontrun{graphics.off()}
 }
 \keyword{device}

-- 
Better to have an approximate answer to the right question 
than a precise answer to the wrong question. -- John Tukey
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Nov 18 13:56:17 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 18 Nov 2001 13:56:17 +0000 (GMT)
Subject: [Rd] Re: Producing PNG on Debian Linux (was the false bug report, Re:
 [Rd] png output requires X connection (PR#1165))
In-Reply-To: <15351.47580.969190.349929@sonny.eddelbuettel.com>
Message-ID: <Pine.GSO.4.31.0111181350420.6889-100000@auk.stats>

On Sun, 18 Nov 2001, Dirk Eddelbuettel wrote:

>
>   "Brian" == Brian D Ripley <Prof> writes:
>   Brian> On all my systems (Linux, Solaris, Windows)
>   Brian>
>   >> bitmap("test.png") plot(1:10) graphics.off()
>   Brian>  gives `sharp and clear' output.  I am using up-to-date GhostScript
>   Brian> (7.00 or 6.51): perhaps *this* is the bug that needs to reported to
>   Brian> Debian?
>   Brian>
>   >> I agree it would be nice if the PNG output was not directly tied to the
>   >> GUI but there are plenty of ways to get around the problem.
>   Brian>  I seem to have to keep saying this!  PNG output is *not* `directly
>   Brian> tied to the GUI'.  On Unix-alikes, one of the two devices I provided
>   Brian> for you is, and only one.
>
> How about clarifying the documenation in unix/png.Rd then?  A suggestion is
> below (against my R-1.3.1 sources, don't have R-devel here).

Already done in R-devel:

     R can be compiled without support for either or both of these
     devices: this will be reported if you attempt to use them on a
     system where they are not supported.  They will not be available
     if R has been started with `--gui=none' (and will give a different
     error message), and they may not be usable unless the X11 display
     is available to the owner of the R process.
...

See Also:

     `Devices', `dev.print'

     `capabilities' to see if these devices are supported by this build
     of R.

     `bitmap' provides an alternative way to generate PNG and JPEG
     plots that does not depend on accessing the X11 display but does
     depend on having GhostScript installed.

NB: on our servers there is an X11 display available to cron jobs.


>
> Dirk
>
> edd@sonny:~/debian> diff -u r-base-1.3.1/src/library/base/man/unix/png.Rd{.orig,}
> --- r-base-1.3.1/src/library/base/man/unix/png.Rd.orig  Sun Nov 18 07:28:46 2001+++ r-base-1.3.1/src/library/base/man/unix/png.Rd       Sun Nov 18 07:33:55 2001@@ -47,6 +47,11 @@
>    These are based on the \code{\link{X11}} device, so the additional
>    arguments to that device work, but are rarely appropriate.  The
>    colour handling will be that of the \code{X11} device in use.
> +
> +  Consequently, use of these functions requires an \code{X11} terminal
> +  which is not available in non-interactive sessions such as those started
> +  by cron(8) or at(1). The \code{\link{bitmap}} function can be used in
> +  those cases to create PNG or JPEG files.
>  }
>  \author{Guido Masarotto and Brian Ripley}
>
> @@ -59,5 +64,9 @@
>  \examples{
>  ## copy current plot to a PNG file
>  \dontrun{dev.print(png, file="myplot.png", width=480, height=480)}
> +## use bitmap() to create a PNG file
> +\dontrun{bitmap("/tmp/test.png")}
> +\dontrun{plot(1:10,main="Straight line")}
> +\dontrun{graphics.off()}
>  }
>  \keyword{device}
>
> --
> Better to have an approximate answer to the right question
> than a precise answer to the wrong question. -- John Tukey
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Sun Nov 18 14:34:14 2001
From: edd@debian.org (Dirk Eddelbuettel)
Date: Sun, 18 Nov 2001 08:34:14 -0600
Subject: [Rd] Re: Producing PNG on Debian Linux (was the false bug report, Re:
 [Rd] png output requires X connection (PR#1165))
In-Reply-To: <Pine.GSO.4.31.0111181350420.6889-100000@auk.stats>
References: <15351.47580.969190.349929@sonny.eddelbuettel.com>
 <Pine.GSO.4.31.0111181350420.6889-100000@auk.stats>
Message-ID: <15351.50918.696817.868018@sonny.eddelbuettel.com>


  "Brian" == Brian D Ripley <Prof> writes:
  Brian>  Already done in R-devel:

Thanks!

  Brian> NB: on our servers there is an X11 display available to cron jobs.

Hm. I just added x11() to the script snipped of yours:

edd@sonny:~> cat /tmp/R.sh
#!/bin/sh

echo | R -q --no-save <<EOF
bitmap("test.png")
plot(1:10)
graphics.off()
x11()
EOF

but starting this under at(1)

edd@sonny:~> echo /tmp/R.sh | at now
warning: commands will be executed using /bin/sh
job 57 at 2001-11-18 08:31

yields an error:

From: Dirk Eddelbuettel <edd@debian.org>
To: edd@eddelbuettel.com
Subject: Output from your job       57
Date: Sun, 18 Nov 2001 08:31:59 -0600

> bitmap("test.png")
> plot(1:10)
> graphics.off()
> x11()
Error in X11(display, width, height, pointsize, gamma, colortype, maxcubesize) : 
	unable to start device X11
Execution halted

How does Solaris do this, and how can we get Linux to do the same?

Dirk

-- 
Better to have an approximate answer to the right question 
than a precise answer to the wrong question. -- John Tukey
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Nov 18 15:59:57 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 18 Nov 2001 15:59:57 +0000 (GMT)
Subject: [Rd] Re: Producing PNG on Debian Linux (was the false bug report, Re:
 [Rd] png output requires X connection (PR#1165))
In-Reply-To: <15351.50918.696817.868018@sonny.eddelbuettel.com>
Message-ID: <Pine.LNX.4.31.0111181550520.22024-100000@gannet.stats>

On Sun, 18 Nov 2001, Dirk Eddelbuettel wrote:

>
>   "Brian" == Brian D Ripley <Prof> writes:
>   Brian>  Already done in R-devel:
>
> Thanks!
>
>   Brian> NB: on our servers there is an X11 display available to cron jobs.
>
> Hm. I just added x11() to the script snipped of yours:
>
> edd@sonny:~> cat /tmp/R.sh
> #!/bin/sh
>
> echo | R -q --no-save <<EOF
> bitmap("test.png")
> plot(1:10)
> graphics.off()
> x11()
> EOF
>
> but starting this under at(1)
>
> edd@sonny:~> echo /tmp/R.sh | at now
> warning: commands will be executed using /bin/sh
> job 57 at 2001-11-18 08:31
>
> yields an error:
>
> From: Dirk Eddelbuettel <edd@debian.org>
> To: edd@eddelbuettel.com
> Subject: Output from your job       57
> Date: Sun, 18 Nov 2001 08:31:59 -0600
>
> > bitmap("test.png")
> > plot(1:10)
> > graphics.off()
> > x11()
> Error in X11(display, width, height, pointsize, gamma, colortype, maxcubesize) :
> 	unable to start device X11
> Execution halted
>
> How does Solaris do this, and how can we get Linux to do the same?

Don't know: suspect it is a permissions / Xauth thing.   To be precise,
I've only ever tested my Solaris server (ex my desktop machine).

I tried

auk% cat /tmp/R.sh
#!/bin/sh
echo | R -q --no-save <<EOF
png("/tmp/test.png")
plot(1:10)
graphics.off()
EOF

auk% echo /tmp/R.sh | at now

and it worked and wrote test.png.


Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Sun Nov 18 18:36:06 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Sun, 18 Nov 2001 19:36:06 +0100
Subject: [Rd] Re: [R] sub directories in the tests directory of a package
In-Reply-To: <15348.65050.824365.207891@gargle.gargle.HOWL>
References: <15348.65050.824365.207891@gargle.gargle.HOWL>
Message-ID: <15351.65430.88813.407045@mithrandir.hornik.net>

>>>>> "David Kane writes:

> It seems like any directories (and their contents) beneath the /tests
> directory of an R package are not copied over completely when R CMD
> check is run. This causes problems (for me) when the tests for a
> function require some sort of directory structure. For example, I have
> an R function that iteratively searches through a directory tree for a
> specific file. Currently, I can not put the inputs for a test for that
> function in the /tests directory. It would seem that better behavior
> would be for R CMD check to simply (recursively) copy everything from
> the /tests directory in the package into the /tests directory in the
> .Rcheck directory, similar to the way that everything in /inst is
> copied over during INSTALL.

> Any suggestions? I poked around in the R CMD check code, but my Perl
> is even worse than my R. Or am I missing something?

Currently, it is assumed that tests has no subdirectories.  This has
been raised before, with the result that the Perl gurus were not sure
how to portably recursively copy a directory (apparently, Perl/CPAN has
rmtree, but no cptree?).

I think if you simply want to find a file in a dir tree, you could have
your test code create the tree first.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From hkawakat@sk.tsukuba.ac.jp  Mon Nov 19 07:33:20 2001
From: hkawakat@sk.tsukuba.ac.jp (hkawakat@sk.tsukuba.ac.jp)
Date: Mon, 19 Nov 2001 08:33:20 +0100 (MET)
Subject: [Rd] acf mis-feature (PR#1177)
Message-ID: <200111190733.IAA12054@pubhealth.ku.dk>

Full_Name: Hiroyuki Kawakatsu
Version: 1.3.1
OS: win2k
Submission from: (NULL) (130.158.140.105)


the lag labels in the acf plot is screwed when the ts frequency>1.
try, for example,

#acf mis-feature
x <- ts(rnorm(200), frequency=4);
acf(x,lag.max=24);

h.
> version
         _              
platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    3.1            
year     2001           
month    08             
day      31             
language R              


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Nov 19 08:36:51 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 19 Nov 2001 09:36:51 +0100 (MET)
Subject: [Rd] acf mis-feature (PR#1177)
Message-ID: <200111190836.JAA13027@pubhealth.ku.dk>

On Mon, 19 Nov 2001 hkawakat@sk.tsukuba.ac.jp wrote:

> Full_Name: Hiroyuki Kawakatsu
> Version: 1.3.1
> OS: win2k
> Submission from: (NULL) (130.158.140.105)
>
>
> the lag labels in the acf plot is screwed when the ts frequency>1.
> try, for example,
>
> #acf mis-feature
> x <- ts(rnorm(200), frequency=4);
> acf(x,lag.max=24);


Please explain what you mean by `screwed' (which BTW is not polite
English): what do you think is wrong here?

I get the labels I expect: if this is quarterly data the lags are labelled
in years.  That is what `frequency = 4' is intended to mean: 4
observations per unit of time.

There is no bug that I can see.


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From hkawakat@sk.tsukuba.ac.jp  Mon Nov 19 08:44:57 2001
From: hkawakat@sk.tsukuba.ac.jp (hkawakat@sk.tsukuba.ac.jp)
Date: Mon, 19 Nov 2001 09:44:57 +0100 (MET)
Subject: [Rd] acf mis-feature (PR#1177)
Message-ID: <200111190844.JAA13322@pubhealth.ku.dk>

At Mon, 19 Nov 2001 08:36:38, you wrote:

> I get the labels I expect: if this is quarterly data the lags are labelled
> in years.  That is what `frequency = 4' is intended to mean: 4
> observations per unit of time.

that's the feature i didn't understand. i expected lags in periods (or
observations), not years. 

h.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From hkawakat@sk.tsukuba.ac.jp  Mon Nov 19 09:12:18 2001
From: hkawakat@sk.tsukuba.ac.jp (hkawakat@sk.tsukuba.ac.jp)
Date: Mon, 19 Nov 2001 10:12:18 +0100 (MET)
Subject: more on [Rd] acf mis-feature (PR#1177)
Message-ID: <200111190912.KAA13834@pubhealth.ku.dk>

At Mon, 19 Nov 2001 08:36:38, you wrote:

> I get the labels I expect: if this is quarterly data the lags are labelled
> in years.  That is what `frequency = 4' is intended to mean: 4
> observations per unit of time.

some further thoughts convinces me that this is a mis-feature. if you
ask any person what is the lag i autocorrelation, the answer would be
corr(y_t, y_{t-i}). so you would expect the lag labels to be based on
observation lags, not years. if you still think the current feature is
the correct implementation, i suggest that you make this clear in the
help to avoid future annoying mails from the annoyed like me:

 lag.max: maximum lag at which to calculate the acf.  Default is
          10*log10(N) where N is the number of observations. 

          *Note that the lag labels in the plots are based on unit of
           time, not observation lags.*

h.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Nov 19 09:30:06 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 19 Nov 2001 10:30:06 +0100 (MET)
Subject: more on [Rd] acf mis-feature (PR#1177)
Message-ID: <200111190930.KAA14125@pubhealth.ku.dk>

On Mon, 19 Nov 2001, Hiroyuki Kawakatsu wrote:

> At Mon, 19 Nov 2001 08:36:38, you wrote:
>
> > I get the labels I expect: if this is quarterly data the lags are labelled
> > in years.  That is what `frequency = 4' is intended to mean: 4
> > observations per unit of time.
>
> some further thoughts convinces me that this is a mis-feature. if you
> ask any person what is the lag i autocorrelation, the answer would be
> corr(y_t, y_{t-i}). so you would expect the lag labels to be based on
> observation lags, not years. if you still think the current feature is
> the correct implementation, i suggest that you make this clear in the
> help to avoid future annoying mails from the annoyed like me:
>
>  lag.max: maximum lag at which to calculate the acf.  Default is
>           10*log10(N) where N is the number of observations.
>
>           *Note that the lag labels in the plots are based on unit of
>            time, not observation lags.*

I do think it is correct, and furthermore no one else has thought otherwise
in 2.5 years of it being in R.  It's the same interpretation as S, snd that
doesn't have such a comment either.

You will find *all* time-series plots are labelled in units of time,
not observation lags.  It says `Lag', not `lags', and that's a crucial
difference.

See the section in the FAQ on `what is a bug?'.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Nov 19 22:19:02 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 Nov 2001 23:19:02 +0100
Subject: [Rd] 1.4.0 on Dec 19, feature freeze Dec 5
Message-ID: <x2y9l2qu95.fsf@blueberry.kubism.ku.dk>

[oops, I forgot to cc: r-devel, apologies to those who get it twice]

To comply with our ground rule that x.y.0 releases should be announced
a month in advance: 

The release of 1.4.0 will be on December 19th. Feature freeze will be
on December 5th. I hope that leaves time enough for people to finish
what they have been up to, but it seems to be a good idea to have a
little more time for platform testing this time, and hence have a
near-solid freeze about December 12th.

        -p

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Tue Nov 20 18:44:43 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Tue, 20 Nov 2001 19:44:43 +0100
Subject: [Rd] Re: confusion() -- generic function in package mda -- generally useful?
In-Reply-To: <15346.38092.644990.904103@gargle.gargle.HOWL>
References: <15346.38092.644990.904103@gargle.gargle.HOWL>
Message-ID: <15354.42139.945427.303074@mithrandir.hornik.net>

>>>>> Martin Maechler writes:

> For a private package ("soon" to be on CRAN),

> I started looking at and thinking about the function confusion() from
> the mda package and wondered if it wouldn't make sense to provide the
> generic function in base R and also think about making the default for
> the `true' argument equal to fitted(object).

> One could write methods for confusion() for almost all classifiers
> which would be a nice universal approach.  Also, the value (a
> confusion matrix contingency table with some "useful" attributes)
> could be made a bit more explicit.

> Good or not so good idea?  alternatives?

I think it would be nice to unify some of the existing code for
classification, e.g. the types in the predict methods.

Re confusion(), what would this do exactly?  The stuff in mda does too
much as exemplified by

\method{confusion}{default}(object, true, \dots)
\method{confusion}{fda}(object, data, \dots)

so the default and fda methods have surprising arguments ...?  (I think
you only want the versions for fitted model objects.)

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jan@rychter.com  Tue Nov 20 22:38:01 2001
From: jan@rychter.com (jan@rychter.com)
Date: Tue, 20 Nov 2001 23:38:01 +0100 (MET)
Subject: [Rd] segfault using svm from e1071 (PR#1178)
Message-ID: <200111202238.XAA07070@pubhealth.ku.dk>

This could be a bug in the e1071 svm code, but maybe not -- I guess I'll
send it here anyway. It's reproducible.

> x <- seq (0.1,5,by=0.05)
> y <- log(x) + rnorm (x, sd=0.2)
> library(e1071)
> m <- svm (x,y)

Process R segmentation fault at Tue Nov 20 23:34:19 2001

> version
         _                
platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    3.1              
year     2001             
month    08               
day      31               
language R                

I used the Mandrake 8.0 RPM binaries from cran.r-project.org first, then
recompiled R myself and reinstalled e1071. Same results.

thanks,
--J.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pd@pubhealth.ku.dk  Wed Nov 21 06:15:03 2001
From: pd@pubhealth.ku.dk (Peter Dalgaard BSA)
Date: Wed, 21 Nov 2001 07:15:03 +0100
Subject: [Rd] Bug list summary (automatic post)
Message-ID: <200111210615.fAL6F3B32176@blueberry.kubism.ku.dk>

=================================================
This is an automated summary of the status of the R-bugs
repository.

Note that this may be neither complete nor perfectly
correct at any given instance: Not all bugs are reported,
and some reported bugs may have been fixed, but the
repository not yet updated.

Some bug fixes are difficult to verify because they pertain
to specific hardware or operating system versions. If you
have information to contribute, please do so.

If you happen to know how to fix a problem please send
patches to the bug repository, too.

New bugs are reported either through the web
interface at r-bugs.r-project.org or via email to
r-bugs@r-project.org. The bug.report() function can be
used to automate parts of the procedure on many systems.
Followups on older bugs can be done by including the string
"(PR#999)" in the Subject of an email (change 999 to the
actual reference number, of course!).
=================================================

Directory:  Accuracy

none

Directory:  Add-ons

* PR# 974 *
Subject: Lattice: panel.superpose with ordered factor groups
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sat, 9 Jun 2001 11:08:51 +1000 (EST)
--The warning is standard S and R behaviour.
--Probably xyplot needs to avoid it (by unclassing?)
--Still there in lattice 0.3-0.
* PR# 981 *
Subject: read.xport() bug
From: abroman@jhu.edu
Date: Fri, 15 Jun 2001 00:25:54 +0200 (MET DST)
--confirmed on Windows and Solaris.
--Seems that file is not in the expected format
* PR# 1038 *
Subject: nlme: bug in getCovariateFormula
From: Setzer.Woodrow@epamail.epa.gov
Date: Tue, 31 Jul 2001 11:24:09 -0400
--change needed in package nlme
* PR# 1044 *
Subject: Polymarsall.c
From: pleu@hotmail.com
Date: Tue, 7 Aug 2001 22:42:07 +0200 (MET DST)
* PR# 1116 *
Subject: get.hist.quote does not work
From: arto.luoma@uta.fi
Date: Thu, 4 Oct 2001 14:45:29 +0200 (MET DST)
--Seems specific to one locale on one system.
--The bug is unlikely to be in R.
* PR# 1124 *
Subject: Wrong df in bartlett.test when subsetting data
From: jens.lund@nordea.com
Date: Wed, 10 Oct 2001 17:43:42 +0200 (MET DST)

Directory:  Analyses

none

Directory:  Documentation

* PR# 988 *
Subject: input for R-intro
From: "Paul E. Johnson" <pauljohn@ku.edu>
Date: Mon, 18 Jun 2001 13:57:10 -0500
* PR# 1011 *
Subject: R-intro suggestions part II
From: "Paul E. Johnson" <pauljohn@ukans.edu>
Date: Tue, 03 Jul 2001 15:50:06 -0500
* PR# 1113 *
Subject: bug.report() & docs should mention r-devel
From: murdoch@stats.uwo.ca
Date: Thu, 4 Oct 2001 01:23:27 +0200 (MET DST)
* PR# 1132 *
Subject: Problem with "describe" lists.
From: Rolf Turner <rolf@localhost.localdomain>
Date: Thu, 18 Oct 2001 16:41:03 +0800
* PR# 1136 *
Subject: cex/col/etc. in title(): documentation?
From: Ben Bolker <ben@zoo.ufl.edu>
Date: Mon, 22 Oct 2001 11:55:14 -0400 (EDT)
--MM:actually the documentation still could elaborate a bit..

Directory:  Graphics

* PR# 202 *
Subject: persp box occlusion bug
From: wsi@gcal.ac.uk
Date: Wed, 2 Jun 1999 15:02:03 +0200 (MET DST)
--The persp algorithm does not apply the occlusion rules to the frame, 
--which is always plotted first. 
--A bug, but not very simple to fix.
* PR# 660 *
Subject: identify.default ignores any setting of cex.
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
Date: Fri, 15 Sep 2000 10:23:39 +0100 (BST)
* PR# 776 *
Subject: strwidth does not take font into account
From: Martyn Plummer <plummer@iarc.fr>
Date: Tue, 19 Dec 2000 14:56:01 +0100 (CET)
--This needs a substantial redesign.
* PR# 791 *
Subject:  par(lab= *) / axis(*) bug 
From: maechler@stat.math.ethz.ch
Date: Fri, 22 Dec 2000 10:59:26 +0100
* PR# 816 *
Subject: dotplot: character size of labels
From: RINNER Heinrich <H.RINNER@TIROL.GV.AT>
Date: Thu, 18 Jan 2001 14:54:32 +0100
--Suggested fix is incorporated in 1.2.2.
--
--There is a deeper problem:  mtext() ignores par(cex=.5) in general.  
--To see the problem try:  par(cex=.5); mtext("hi")
--Paul thinks the right fix is to change the argument list for mtext so that
--cex=par(cex) by default rather than cex=NA by default (plus corresponding
--internal changes to  do_mtext in plot.c).
--This needs to be done very carefully because (i) the change suggested above 
--mayhave side-effects in many other pieces of interpreted code 
--(ii) do_mtext ignores dd->gp.cexbase unlike, for example, do_plot_xy 
--and anything to do with cexbase needs extreme care.
* PR# 820 *
Subject: interaction.plot
From: "Mark M. Span" <span@psy.uva.nl>
Date: Mon, 22 Jan 2001 10:47:39 +0100
--mtext is unscaled by default.  It is not clear if this should
--use the par("cex") setting or an inline cex setting such as cex.axis.
--It might make more sense to use axis rather than mtext, as boxplot does.
* PR# 828 *
Subject: termplot fails for composite non-factor terms
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sat, 27 Jan 2001 11:57:37 +1100 (EST)
--Neither of the proposed changes actually works in sufficient generality.
--
--The easy and unimportant part of this, the labels, is fixed in 1.2.2. Getting
--the data right is a project for 1.3
* PR# 831 *
Subject: screen can't go back to (split) screen with log="y" plot
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 30 Jan 2001 00:39:41 -0500
--Still there. Suggested fix included in followups, but we didn't get around to
--try it in time for 1.2.3.
--
--Fix doesn't work. One problem is that the opar<-par();par(opar) idiom updates
--xaxp before xlog, and the new value of xaxp may only be valid under the new
--value of xlog.
* PR# 837 *
Subject: screen doesn't handle redrawing properly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 01 Feb 2001 14:20:52 -0500
* PR# 887 *
Subject: axis(adj=anything) has no effect
From: jhallman@frb.gov
Date: Wed, 28 Mar 2001 20:51:05 +0200 (MET DST)
* PR# 916 *
Subject:  par(mgp) bug 
From: paul@stat.auckland.ac.nz
Date: Fri, 20 Apr 2001 08:33:45 +1200 (NZST)
* PR# 940 *
Subject: GCircle(): fails for non-clippable devices under certain circumstances (see below)
From: "Thomas Hoffmann" <thoffman@zappa.sax.de>
Date: Tue, 15 May 01 23:34:17 +0100
* PR# 943 *
Subject: legend() with xpd=T; omission of initial plot character
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sun, 20 May 2001 10:35:16 +1000
* PR# 997 *
Subject:  las=1 with log axis 
From: Peter Dalgaard BSA <pd@pubhealth.ku.dk>
Date: Wed, 27 Jun 2001 11:54:06 +0200
* PR# 1045 *
Subject: Palette changes on redraw
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 08 Aug 2001 19:08:01 +0200
* PR# 1088 *
Subject:  barplot forces xpd=TRUE 
From: Peter Whiting <pwhiting@whitings.org>
Date: Sat, 8 Sep 2001 10:19:00 -0500
* PR# 1095 *
Subject:  Bizarre clipping with abline and points 
From: J.C.Rougier@durham.ac.uk
Date: Wed, 19 Sep 2001 14:45:52 +0100
* PR# 1101 *
Subject: ugly in plotmath: frac(1, sqrt(...))
From: Uwe Ligges <ligges@statistik.uni-dortmund.de>
Date: Thu, 27 Sep 2001 10:37:07 +0200
* PR# 1147 *
Subject: postscript problem
From: kjetil halvorsen <kjetilh@umsanet.edu.bo>
Date: Fri, 26 Oct 2001 15:23:45 -0400
--This seems to be a problem with screen/layout rather than postscript.
* PR# 1157 *
Subject: identify(...plot=F)
From: Rolf Turner <rolf@maths.uwa.edu.au>
Date: Fri, 2 Nov 2001 09:43:49 +0800 (WST)
* PR# 1161 *
Subject: x-axis label in persp()
From: Rolf Turner <rolf@maths.uwa.edu.au>
Date: Wed, 7 Nov 2001 18:07:22 +0800 (WST)
* PR# 1174 *
Subject: pdf() behavior
From: White.Denis@epamail.epa.gov
Date: Thu, 15 Nov 2001 10:18:21 -0800
--actually, a graphics bug.
--fixed for 1.4.0, but needs checking re the original intention

Directory:  In-Out

none

Directory:  Installation

* PR# 1034 *
Subject: Compiling R (1.3.0) on AIX (4.3) fails
From: "Thomas J Vogels" <tov@ece.cmu.edu>
Date: Sun, 29 Jul 2001 12:27:51 -0400

Directory:  Language

* PR# 408 *
Subject: convolution bug
From: wsimpson@gcal.ac.uk
Date: Fri, 28 Jan 2000 11:17:36 +0100 (MET)
* PR# 412 *
Subject: anomalies with call objects
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 06 Feb 2000 01:18:50 +0100
* PR# 669 *
Subject: Bug(s) w/ rbind.data.frame(); fix also read.table(*, as.is = TRUE) ?
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Mon, 25 Sep 2000 10:17:15 +0200
--status of AsIs columns
* PR# 921 *
Subject:  Managed to confuse match.arg 
From: J.C.Rougier@durham.ac.uk
Date: Wed, 25 Apr 2001 12:22:54 +0100 (BST)
* PR# 1052 *
Subject:  Inconsistent behaviour of is.vector? 
From: J.C.Rougier@durham.ac.uk
Date: Tue, 14 Aug 2001 09:04:57 +0100
* PR# 1073 *
Subject: Wierd problem comparing numeric values and list using ==
From: "Warnes, Gregory R" <gregory_r_warnes@groton.pfizer.com>
Date: Fri, 24 Aug 2001 22:07:41 -0400
--see also PR#1075
* PR# 1076 *
Subject: Re: [Rd] Wierd problem comparing numeric values and list using == 
From: John Chambers <jmc@research.bell-labs.com>
Date: Mon, 27 Aug 2001 08:44:22 -0400
--part of PR#1073

Directory:  Low-level

* PR# 989 *
Subject: "[.data.frame" allows un-named 3rd subscript
From: "Charles C. Berry" <cberry@tajo.ucsd.edu>
Date: Mon, 18 Jun 2001 13:13:46 -0700 (PDT)
* PR# 1063 *
Subject: interrupting Sys.sleep
From: Thomas Lumley <tlumley@u.washington.edu>
Date: Mon, 20 Aug 2001 13:55:29 -0700 (PDT)
* PR# 1068 *
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
From: Luke Tierney <luke@nokomis.stat.umn.edu>
Date: Wed, 22 Aug 2001 19:32:51 -0500
--see also followup in PR#1069
* PR# 1069 *
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
From: "John W. Eaton" <jwe@bevo.che.wisc.edu>
Date: Wed, 22 Aug 2001 21:56:33 -0500
--part of PR#1068
* PR# 1120 *
Subject: bug in write.table?
From: Ott Toomet <siim@obs.ee>
Date: Sun, 7 Oct 2001 18:24:34 +0200 (CEST)
--Traced down to an effect of read.dta in foreign interacting with do_paste. Fixed
--in foreign, but do_paste may need to use strlen() rather than LENGTH().
--

Directory:  Macintosh

none

Directory:  Misc

* PR# 1126 *
Subject: R-bug report www page whishlist
From: jens.lund@nordea.com
Date: Wed, 10 Oct 2001 18:24:29 +0200 (MET DST)
* PR# 1158 *
Subject: bug.report()sends empty message
From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
Date: Mon, 05 Nov 2001 10:05:27 -0500

Directory:  Models

none

Directory:  Startup

none

Directory:  System-specific

* PR# 848 *
Subject: X11 device doesn't handle destroy events correcly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 13 Feb 2001 17:40:46 -0500
* PR# 1002 *
Subject: core dump running modreg-Ex.R
From: WhiteG@dfo-mpo.gc.ca
Date: Thu, 28 Jun 2001 19:14:18 +0200 (MET DST)
--Only reported on SGI, solved by removing optimization.
--Needs debugging there.
* PR# 1020 *
Subject: .Call and Mandrake 8.0
From: lcottret@yahoo.fr
Date: Wed, 11 Jul 2001 15:34:23 +0200 (MET DST)
--problem with symbol names only on Mandrake 8.0, not 7.2
--needs reply to follow-up
* PR# 1026 *
Subject: make check failure on SGI-IRIX6.5
From: laurent@cbs.dtu.dk
Date: Mon, 16 Jul 2001 15:06:17 +0200 (MET DST)
* PR# 1057 *
Subject: crt1.o skipped at configure time ?
From: laurent@cbs.dtu.dk
Date: Thu, 16 Aug 2001 08:52:34 +0200 (MET DST)
* PR# 1084 *
Subject: Install problems R 1.3.1 on HP-UX
From: Peter Kleiweg <kleiweg@let.rug.nl>
Date: Sun, 2 Sep 2001 15:07:41 +0200 (CEST)
* PR# 1097 *
Subject: R 1.3.1 fails 'make check' on arm in the Bessel example
From: Dirk Eddelbuettel <edd@debian.org>
Date: Thu, 20 Sep 2001 23:54:19 -0500
* PR# 1106 *
Subject: What is an error bu21?
From: Patrick Lindsey <patrick.lindsey@luc.ac.be>
Date: Mon, 1 Oct 2001 15:43:36 +0200 (MET DST)
--Looks like an SGI make bug
* PR# 1140 *
Subject: Possible bug, Rprof() and scan(pipe())
From: Don MacQueen <macq@llnl.gov>
Date: Tue, 23 Oct 2001 13:50:26 -0700
--Doesn't happen on Solaris or Linux
* PR# 1145 *
Subject: Problem testing R version 1.3.1 on SGI Irix
From: Gordon Lack <gml4410@ggr.co.uk>
Date: Fri, 26 Oct 2001 19:04:04 +0100
* PR# 1166 *
Subject: Gnits about setting LD_LIBRARY_PATH from R
Subject: r-base gnits
From: edd@debian.org
From: "Stephen J. Turnbull" <turnbull@sk.tsukuba.ac.jp>
Date: Sun, 11 Nov 2001 18:23:33 +0100 (MET)
Date: Mon, 18 Sep 2000 19:48:11 +0900 (JST)
--Point one is Debian-specific (other systems have libs in /usr/local/lib,
--and there is not problem when compiling on the system).
--
--Point two is a Debian-specific wishlist item

Directory:  TooMuchAtOnce

* PR# 1110 *
Subject: Several R vs S-Plus issues
From: David Brahm  <a215020@agate.fmr.com>
Date: Wed, 3 Oct 2001 11:35:58 -0400 (EDT)
--1. is perhaps a bug -- the best handling of string NAs is under discussion
--
--2 & 4 are just S-PLUS incompatibilities
--
--3. May be a bug -- worth checking.

Directory:  Windows

none

Directory:  incoming

* PR# 1177 *
Subject: acf mis-feature
From: hkawakat@sk.tsukuba.ac.jp
Date: Mon, 19 Nov 2001 08:33:18 +0100 (MET)
* PR# 1178 *
Subject: segfault using svm from e1071
From: Jan Rychter <jan@rychter.com>
Date: Tue, 20 Nov 2001 23:38:17 +0100
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Nov 21 09:24:31 2001
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 21 Nov 2001 10:24:31 +0100
Subject: [Rd] segfault using svm from e1071 (PR#1178)
In-Reply-To: <200111202238.XAA07070@pubhealth.ku.dk>
References: <200111202238.XAA07070@pubhealth.ku.dk>
Message-ID: <15355.29391.627802.421311@gargle.gargle.HOWL>

>>>>> "jan" == jan  <jan@rychter.com> writes:

    jan> This could be a bug in the e1071 svm code, but maybe
    jan> not -- I guess I'll send it here anyway. It's
    jan> reproducible.

not really reproducible:

1) If you use random data (which is perfect),
  you need an explicit  set.seed(.) statement to make it reproducible

2) I can evaluate the code below (intel-Linux as you)
    more than 100 times without a problem.

Martin

    >> x <- seq (0.1,5,by=0.05)
    >> y <- log(x) + rnorm (x, sd=0.2)
    >> library(e1071)
    >> m <- svm (x,y)

    jan> Process R segmentation fault at Tue Nov 20 23:34:19 2001

    >> version
    jan> _                
    jan> platform i686-pc-linux-gnu
    jan> arch     i686             
    jan> os       linux-gnu        
    jan> system   i686, linux-gnu  
    jan> status                    
    jan> major    1                
    jan> minor    3.1              
    jan> year     2001             
    jan> month    08               
    jan> day      31               
    jan> language R                

    jan> I used the Mandrake 8.0 RPM binaries from
    jan> cran.r-project.org first, then recompiled R myself and
    jan> reinstalled e1071. Same results.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.ribeiro@lancaster.ac.uk  Wed Nov 21 10:12:57 2001
From: p.ribeiro@lancaster.ac.uk (Paulo Justiniano Ribeiro Jr)
Date: Wed, 21 Nov 2001 10:12:57 +0000 (GMT)
Subject: [Rd] contour as a generic function?
Message-ID: <Pine.GSO.4.21.0111211011150.27412-100000@unixb.lancs.ac.uk>

After "image" and "persp" would it be interesting to als have contour as a
generic function?

Cheers

Paulo Justiniano Ribeiro Jr
Dept Maths & Stats  -  Fylde College
Lancaster University
Lancaster LA1 4YF   -  U.K.

e-mail: Paulo.Ribeiro@est.ufpr.br
http://www.maths.lancs.ac.uk/~ribeiro

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Nov 21 10:16:44 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 21 Nov 2001 10:16:44 +0000 (GMT)
Subject: [Rd] contour as a generic function?
In-Reply-To: <Pine.GSO.4.21.0111211011150.27412-100000@unixb.lancs.ac.uk>
Message-ID: <Pine.LNX.4.31.0111211014311.20857-100000@gannet.stats>

On Wed, 21 Nov 2001, Paulo Justiniano Ribeiro Jr wrote:

> After "image" and "persp" would it be interesting to als have contour as a
> generic function?

Interesting if you (or anyone else) has a need for it.  We try not to
make functions generic until it is needed.

I presume you would want

contour <- function (x, ...) UseMethod("contour")

?

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bolker@zoo.ufl.edu  Wed Nov 21 10:27:11 2001
From: bolker@zoo.ufl.edu (Ben Bolker)
Date: Wed, 21 Nov 2001 05:27:11 -0500 (EST)
Subject: [Rd] contour as a generic function?
In-Reply-To: <Pine.GSO.4.21.0111211011150.27412-100000@unixb.lancs.ac.uk>
Message-ID: <Pine.LNX.4.30.0111210525290.4842-100000@bolker.zoo.ufl.edu>


  As long as we're on wish lists (Paul Murrell??) it would be nice to have
contour (optionally) return a list of contours, so that one could
post-process them etc..  This would also, I think, eventually facilitate
drawing contours onto 3-D surfaces ... I thought about hacking this but
the contour function was too scary for me ...

  Ben Bolker

On Wed, 21 Nov 2001, Paulo Justiniano Ribeiro Jr wrote:

> After "image" and "persp" would it be interesting to als have contour as a
> generic function?
>
> Cheers
>
> Paulo Justiniano Ribeiro Jr
> Dept Maths & Stats  -  Fylde College
> Lancaster University
> Lancaster LA1 4YF   -  U.K.
>
> e-mail: Paulo.Ribeiro@est.ufpr.br
> http://www.maths.lancs.ac.uk/~ribeiro
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker@zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From david.meyer@ci.tuwien.ac.at  Wed Nov 21 10:35:55 2001
From: david.meyer@ci.tuwien.ac.at (David Meyer)
Date: Wed, 21 Nov 2001 11:35:55 +0100
Subject: [Rd] segfault using svm from e1071 (PR#1178)
References: <200111202238.XAA07070@pubhealth.ku.dk>
Message-ID: <3BFB838A.E7E40F39@ci.tuwien.ac.at>

jan@rychter.com wrote:
> 
> This could be a bug in the e1071 svm code, but maybe not -- I guess I'll
> send it here anyway. It's reproducible.

Which version of e1071 are you using (Current: 1.2-1)? This package had
a bug fix release one month ago.

-d


> 
> > x <- seq (0.1,5,by=0.05)
> > y <- log(x) + rnorm (x, sd=0.2)
> > library(e1071)
> > m <- svm (x,y)
> 
> Process R segmentation fault at Tue Nov 20 23:34:19 2001
> 
> > version
>          _
> platform i686-pc-linux-gnu
> arch     i686
> os       linux-gnu
> system   i686, linux-gnu
> status
> major    1
> minor    3.1
> year     2001
> month    08
> day      31
> language R
> 
> I used the Mandrake 8.0 RPM binaries from cran.r-project.org first, then
> recompiled R myself and reinstalled e1071. Same results.
> 
> thanks,
> --J.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
	Mag. David Meyer		Wiedner Hauptstrasse 8-10
Vienna University of Technology		A-1040 Vienna/AUSTRIA
       Department for			Tel.: (+431) 58801/10772
Statistics and Probability Theory	mail: david.meyer@ci.tuwien.ac.at
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jan@rychter.com  Wed Nov 21 11:20:45 2001
From: jan@rychter.com (Jan Rychter)
Date: Wed, 21 Nov 2001 12:20:45 +0100
Subject: [Rd] segfault using svm from e1071 (PR#1178)
In-Reply-To: <3BFB838A.E7E40F39@ci.tuwien.ac.at> (David Meyer's message of
 "Wed, 21 Nov 2001 11:35:55 +0100")
References: <200111202238.XAA07070@pubhealth.ku.dk>
 <3BFB838A.E7E40F39@ci.tuwien.ac.at>
Message-ID: <m21yis1ib6.fsf@tnuctip.rychter.com>

>>>>> "David" == David Meyer <david.meyer@ci.tuwien.ac.at> writes:
 David> jan@rychter.com wrote:
 >>
 >> This could be a bug in the e1071 svm code, but maybe not -- I guess
 >> I'll send it here anyway. It's reproducible.

 David> Which version of e1071 are you using (Current: 1.2-1)? This
 David> package had a bug fix release one month ago.

e1071_1.2-1.tar.gz

--J.

 > x <- seq (0.1,5,by=0.05) y <- log(x) + rnorm (x, sd=0.2)
 > library(e1071) m <- svm (x,y)
 >>
 >> Process R segmentation fault at Tue Nov 20 23:34:19 2001
 >>
 > version
 >> _ platform i686-pc-linux-gnu arch i686 os linux-gnu system i686,
 >> linux-gnu status major 1 minor 3.1 year 2001 month 08 day 31
 >> language R
 >>
 >> I used the Mandrake 8.0 RPM binaries from cran.r-project.org first,
 >> then recompiled R myself and reinstalled e1071. Same results.
 >>

[...]


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Thu Nov 22 03:54:28 2001
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Wed, 21 Nov 2001 22:54:28 -0500
Subject: [Rd] zlib location
Message-ID: <dkrovtc1ujq6uiok0nudijcbkcli99tu3c@4ax.com>

I'm trying to build the 1.4.0 development version of R for Windows.
I'll be posting problems as they arise, until I give up (or succeed),
or someone asks me to stop.

1.  I don't have zlib, the compression library.  The source file
gnuwin32/unzip/WHERE says to get it from
ftp://ftp.info-zip.org/pub/infozip/zlib/zlib.html; that web site says
it has been closed and redirects me to http://www.gzip.org/zlib/.
(The file itself claims to be at
ftp://ftp.info-zip.org/pub/infozip/doc/WHERE, and it is, with the same
stale URL, hence the CC of this message to Zip-bugs.)
The WHERE file was written by the info-zip people, but I couldn't turn
up a newer version.  If there is one and I find it, I'll pass it on.

2.  I get some warnings during the compile; I decided to ignore them.
I missed catching some; some others were:

Rstrptime.h:206: warning: ANSI C forbids braced-groups within
expressions

/usr/lib/bison.simple:285: warning: `yyval' might be used
uninitialized in this
function

main.c:327: warning: variable `baseEnv' might be clobbered by
`longjmp' or `vfor
k'

objects.c: In function `do_set_prim_method':
objects.c:1014: warning: unused variable `env'
objects.c:962: warning: `code' might be used uninitialized in this
function

\..\i386-mingw32\include\shlobj.h:8,
                 from shext.c:24:
f:\R\TOOLS\BIN\..\lib\gcc-lib\i386-mingw32\2.95.2\..\..\..\..\i386-mingw32\inclu
de\objbase.h:71: warning: comma at end of enumerator list

\..\i386-mingw32\include\shlobj.h:8,
                 from shext.c:24:
f:\R\TOOLS\BIN\..\lib\gcc-lib\i386-mingw32\2.95.2\..\..\..\..\i386-mingw32\inclu
de\oleidl.h:43: warning: ANSI C restricts enumerator values to range
of `int'

3.  And here's the one that has stopped me for tonight:

graphappmain.o(.text+0x121):graphappmain.c: undefined reference to
`_imp__R_rese
rved_size'
rgui.o(.text+0x63):rgui.c: undefined reference to
`_imp__CharacterMode'
MAKE[1]: *** [Rgui.exe] Error 1
MAKE[1]: Leaving directory
`/cygdrive/f/R/R-devel/src/gnuwin32/front-ends'


Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kohnicho@comp.nus.edu.sg  Thu Nov 22 04:02:43 2001
From: kohnicho@comp.nus.edu.sg (Nicholas Lewin-Koh)
Date: Thu, 22 Nov 2001 12:02:43 +0800 (GMT-8)
Subject: [Rd] zlib location
In-Reply-To: <dkrovtc1ujq6uiok0nudijcbkcli99tu3c@4ax.com>
Message-ID: <Pine.GSO.4.21.0111221158470.6793-100000@sun450.comp.nus.edu.sg>

Hi, 
you can find pre compiled libraries for most of what you need at:
http://gnuwin32.sourceforge.net/

He also has pointers to sources for all the libs listed there.

Nicholas

On Wed, 21 Nov 2001, Duncan Murdoch wrote:

> I'm trying to build the 1.4.0 development version of R for Windows.
> I'll be posting problems as they arise, until I give up (or succeed),
> or someone asks me to stop.
> 
> 1.  I don't have zlib, the compression library.  The source file
> gnuwin32/unzip/WHERE says to get it from
> ftp://ftp.info-zip.org/pub/infozip/zlib/zlib.html; that web site says
> it has been closed and redirects me to http://www.gzip.org/zlib/.
> (The file itself claims to be at
> ftp://ftp.info-zip.org/pub/infozip/doc/WHERE, and it is, with the same
> stale URL, hence the CC of this message to Zip-bugs.)
> The WHERE file was written by the info-zip people, but I couldn't turn
> up a newer version.  If there is one and I find it, I'll pass it on.
> 
> 2.  I get some warnings during the compile; I decided to ignore them.
> I missed catching some; some others were:
> 
> Rstrptime.h:206: warning: ANSI C forbids braced-groups within
> expressions
> 
> /usr/lib/bison.simple:285: warning: `yyval' might be used
> uninitialized in this
> function
> 
> main.c:327: warning: variable `baseEnv' might be clobbered by
> `longjmp' or `vfor
> k'
> 
> objects.c: In function `do_set_prim_method':
> objects.c:1014: warning: unused variable `env'
> objects.c:962: warning: `code' might be used uninitialized in this
> function
> 
> \..\i386-mingw32\include\shlobj.h:8,
>                  from shext.c:24:
> f:\R\TOOLS\BIN\..\lib\gcc-lib\i386-mingw32\2.95.2\..\..\..\..\i386-mingw32\inclu
> de\objbase.h:71: warning: comma at end of enumerator list
> 
> \..\i386-mingw32\include\shlobj.h:8,
>                  from shext.c:24:
> f:\R\TOOLS\BIN\..\lib\gcc-lib\i386-mingw32\2.95.2\..\..\..\..\i386-mingw32\inclu
> de\oleidl.h:43: warning: ANSI C restricts enumerator values to range
> of `int'
> 
> 3.  And here's the one that has stopped me for tonight:
> 
> graphappmain.o(.text+0x121):graphappmain.c: undefined reference to
> `_imp__R_rese
> rved_size'
> rgui.o(.text+0x63):rgui.c: undefined reference to
> `_imp__CharacterMode'
> MAKE[1]: *** [Rgui.exe] Error 1
> MAKE[1]: Leaving directory
> `/cygdrive/f/R/R-devel/src/gnuwin32/front-ends'
> 
> 
> Duncan Murdoch
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

                 CH3
                  |
                  N             Nicholas Lewin-Koh
                 / \            Dept of Statistics
           N----C   C==O        Program in Ecology and Evolutionary Biology
          ||   ||   |           Iowa State University
          ||   ||   |           Ames, IA 50011
          CH    C   N--CH3      http://www.public.iastate.edu/~nlewin
            \  / \ /            nlewin@iastate.edu
             N    C
             |   ||             Currently
            CH3   O             Graphics Lab
                                School of Computing
                                National University of Singapore
     The Real Part of Coffee    kohnicho@comp.nus.edu.sg

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Nov 22 07:59:55 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 22 Nov 2001 07:59:55 +0000 (GMT)
Subject: [Rd] zlib location
In-Reply-To: <dkrovtc1ujq6uiok0nudijcbkcli99tu3c@4ax.com>
Message-ID: <Pine.LNX.4.31.0111220753320.1603-100000@gannet.stats>

On Wed, 21 Nov 2001, Duncan Murdoch wrote:

> I'm trying to build the 1.4.0 development version of R for Windows.
> I'll be posting problems as they arise, until I give up (or succeed),
> or someone asks me to stop.
>
> 1.  I don't have zlib, the compression library.  The source file

Well zlib is not part of info-zip, but the bitmap/INSTALL file says

1) You need libpng, zlib and jpeg sources (available, e.g., from
   www.libpng.org, www.gzip.org/zlib, ftp.uu.net/graphics/[png,jpeg].

and that is current.  The information is also on the portal.

> gnuwin32/unzip/WHERE says to get it from
> ftp://ftp.info-zip.org/pub/infozip/zlib/zlib.html; that web site says
> it has been closed and redirects me to http://www.gzip.org/zlib/.
> (The file itself claims to be at
> ftp://ftp.info-zip.org/pub/infozip/doc/WHERE, and it is, with the same
> stale URL, hence the CC of this message to Zip-bugs.)
> The WHERE file was written by the info-zip people, but I couldn't turn
> up a newer version.  If there is one and I find it, I'll pass it on.


>
> 2.  I get some warnings during the compile; I decided to ignore them.
> I missed catching some; some others were:
>
> Rstrptime.h:206: warning: ANSI C forbids braced-groups within
> expressions

> /usr/lib/bison.simple:285: warning: `yyval' might be used
> uninitialized in this
> function
>
> main.c:327: warning: variable `baseEnv' might be clobbered by
> `longjmp' or `vfor
> k'
>
> objects.c: In function `do_set_prim_method':
> objects.c:1014: warning: unused variable `env'
> objects.c:962: warning: `code' might be used uninitialized in this
> function

All normal.

> \..\i386-mingw32\include\shlobj.h:8,
>                  from shext.c:24:
> f:\R\TOOLS\BIN\..\lib\gcc-lib\i386-mingw32\2.95.2\..\..\..\..\i386-mingw32\inclu
> de\objbase.h:71: warning: comma at end of enumerator list
>
> \..\i386-mingw32\include\shlobj.h:8,
>                  from shext.c:24:
> f:\R\TOOLS\BIN\..\lib\gcc-lib\i386-mingw32\2.95.2\..\..\..\..\i386-mingw32\inclu
> de\oleidl.h:43: warning: ANSI C restricts enumerator values to range
> of `int'

Normal: errors in the mingw header files (which I have reported).

> 3.  And here's the one that has stopped me for tonight:
>
> graphappmain.o(.text+0x121):graphappmain.c: undefined reference to
> `_imp__R_rese
> rved_size'
> rgui.o(.text+0x63):rgui.c: undefined reference to
> `_imp__CharacterMode'
> MAKE[1]: *** [Rgui.exe] Error 1
> MAKE[1]: Leaving directory
> `/cygdrive/f/R/R-devel/src/gnuwin32/front-ends'

You seem to have too old a version of the compiler.  From INSTALL

We recommend that you use a recent snapshot of the mingw port of gcc
from http://downloads.sourceforge.net/mingw/.  For example, at the
time of writing, MinGW-1.1.tar.gz based on gcc-2.95.3.  Just unpack
this somewhere and put its bin directory in your path.

That works for me.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dtrenkler@nts6.oec.uni-osnabrueck.de  Thu Nov 22 10:30:06 2001
From: dtrenkler@nts6.oec.uni-osnabrueck.de (dtrenkler@nts6.oec.uni-osnabrueck.de)
Date: Thu, 22 Nov 2001 11:30:06 +0100 (MET)
Subject: [Rd] Bug in dev.print? (PR#1179)
Message-ID: <200111221030.LAA23641@pubhealth.ku.dk>

Dear "Debuggers",

please have look a the following:



> plot(0:1,0:1,type="n")
> points(c(0,0.5,1),c(0,0.5,1))
> dev.print(device = postscript, width=5 , height=5, file="test1.ps")
windows
      2
>#  This worked
> dev.print(device = pdf, width=5 , height=5, file="test1.pdf")
windows
      2
>#  That also
> plot(0:1,0:1,type="n" ,yaxs="i")
> points(c(0,0.5,1),c(0,0.5,1))
> dev.print(device = postscript, width=5 , height=5, file="test2.ps")
windows
      2
>#  This worked. However:
> dev.print(device = pdf, width=5 , height=5, file="test2.pdf")
Error in dev.copy(device = function (file = ifelse(onefile, "Rplots.pdf",  :
        negative length vectors are not allowed
># I guess the clipping of the points causes the error...

Version:
 platform = i386-pc-mingw32
 arch = x86
 os = Win32
 system = x86, Win32
 status = 
 major = 1
 minor = 3.1
 year = 2001
 month = 08
 day = 31
 language = R

Windows NT 4.0 (build 1381) Service Pack 6

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base

   --- D.Trenkler ---

****************************************************************************
*****
   Dr. Dietrich Trenkler        (dtrenkler@nts6.oec.uni-osnabrueck.de)      
   Statistik / Empirische Wirtschaftsforschung
   Universitaet Osnabrueck
   Rolandstrasse 8                                Phone: +49(0) 541-969-2753
   D-49069 Osnabrueck                          Fax  : +49(0) 541-969-2744
   GERMANY
****************************************************************************
*****




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Nov 22 12:26:20 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 22 Nov 2001 13:26:20 +0100 (MET)
Subject: [Rd] Bug in dev.print? (PR#1179)
Message-ID: <200111221226.NAA25830@pubhealth.ku.dk>

This now works in R-devel: it is the same as PR#1174 if you want to look
that up.

That you for the diagnosis: it's correct one, the bug being in the
internal clipping code, whereas postscript() clips in PostScript.


On Thu, 22 Nov 2001 dtrenkler@nts6.oec.uni-osnabrueck.de wrote:

> Dear "Debuggers",
>
> please have look a the following:
>
>
>
> > plot(0:1,0:1,type="n")
> > points(c(0,0.5,1),c(0,0.5,1))
> > dev.print(device = postscript, width=5 , height=5, file="test1.ps")
> windows
>       2
> >#  This worked
> > dev.print(device = pdf, width=5 , height=5, file="test1.pdf")
> windows
>       2
> >#  That also
> > plot(0:1,0:1,type="n" ,yaxs="i")
> > points(c(0,0.5,1),c(0,0.5,1))
> > dev.print(device = postscript, width=5 , height=5, file="test2.ps")
> windows
>       2
> >#  This worked. However:
> > dev.print(device = pdf, width=5 , height=5, file="test2.pdf")
> Error in dev.copy(device = function (file = ifelse(onefile, "Rplots.pdf",  :
>         negative length vectors are not allowed
> ># I guess the clipping of the points causes the error...
>
> Version:
>  platform = i386-pc-mingw32
>  arch = x86
>  os = Win32
>  system = x86, Win32
>  status =
>  major = 1
>  minor = 3.1
>  year = 2001
>  month = 08
>  day = 31
>  language = R
>
> Windows NT 4.0 (build 1381) Service Pack 6
>
> Search Path:
>  .GlobalEnv, package:ctest, Autoloads, package:base
>
>    --- D.Trenkler ---
>
> ****************************************************************************
> *****
>    Dr. Dietrich Trenkler        (dtrenkler@nts6.oec.uni-osnabrueck.de)
>    Statistik / Empirische Wirtschaftsforschung
>    Universitaet Osnabrueck
>    Rolandstrasse 8                                Phone: +49(0) 541-969-2753
>    D-49069 Osnabrueck                          Fax  : +49(0) 541-969-2744
>    GERMANY
> ****************************************************************************
> *****
>
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Thu Nov 22 13:28:49 2001
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Thu, 22 Nov 2001 08:28:49 -0500
Subject: [Rd] Using rsync from Windows
Message-ID: <ndupvtkmu7s4aj5mstan6p8eopbg32g2ui@4ax.com>

I've just installed the Cygwin version of rsync, with an aim of
syncing to the development version, as recommended on
<http://cran.r-project.org/sources.html>.  Could someone give an
example of the syntax to invoke it?  From the man page, I expected

 rsync rsync.rproject.org::

to give me a file listing, but I get:

 unknown host: rsync.rproject.org

Other network utilities (e.g. ssh) work, so it's not a simple network
problem, it's something I've missed in the rsync setup or on the
command line.  Any suggestions?

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From david.meyer@ci.tuwien.ac.at  Thu Nov 22 13:37:21 2001
From: david.meyer@ci.tuwien.ac.at (David Meyer)
Date: Thu, 22 Nov 2001 14:37:21 +0100
Subject: [Rd] Using rsync from Windows
References: <ndupvtkmu7s4aj5mstan6p8eopbg32g2ui@4ax.com>
Message-ID: <3BFCFF91.92A0D381@ci.tuwien.ac.at>

Duncan Murdoch wrote:
> 
> I've just installed the Cygwin version of rsync, with an aim of
> syncing to the development version, as recommended on
> <http://cran.r-project.org/sources.html>.  Could someone give an
> example of the syntax to invoke it?  From the man page, I expected
> 
>  rsync rsync.rproject.org::

Try: rsync rsync.r-project.org::
                  ^

> 
> to give me a file listing, but I get:
> 
>  unknown host: rsync.rproject.org
> 
> Other network utilities (e.g. ssh) work, so it's not a simple network
> problem, it's something I've missed in the rsync setup or on the
> command line.  Any suggestions?
> 
> Duncan Murdoch
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
	Mag. David Meyer		Wiedner Hauptstrasse 8-10
Vienna University of Technology		A-1040 Vienna/AUSTRIA
       Department for			Tel.: (+431) 58801/10772
Statistics and Probability Theory	mail: david.meyer@ci.tuwien.ac.at
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Thu Nov 22 14:35:59 2001
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Thu, 22 Nov 2001 09:35:59 -0500
Subject: [Rd] zlib location
In-Reply-To: <Pine.LNX.4.31.0111220753320.1603-100000@gannet.stats>
References: <dkrovtc1ujq6uiok0nudijcbkcli99tu3c@4ax.com> <Pine.LNX.4.31.0111220753320.1603-100000@gannet.stats>
Message-ID: <b30qvtk1joermi8qidjt6mtojtup3vd7il@4ax.com>

On Thu, 22 Nov 2001 07:59:55 +0000 (GMT), you wrote:
>You seem to have too old a version of the compiler.  From INSTALL
>
>We recommend that you use a recent snapshot of the mingw port of gcc
>from http://downloads.sourceforge.net/mingw/.  For example, at the
>time of writing, MinGW-1.1.tar.gz based on gcc-2.95.3.  Just unpack
>this somewhere and put its bin directory in your path.

I think the URL has changed.  I found the file at 

 http://sourceforge.net/projects/mingw/

instead.  I've installed it, and the build is proceeding...

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Nov 22 15:03:28 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 22 Nov 2001 15:03:28 +0000 (GMT)
Subject: [Rd] zlib location
In-Reply-To: <b30qvtk1joermi8qidjt6mtojtup3vd7il@4ax.com>
Message-ID: <Pine.LNX.4.31.0111221451060.3076-100000@gannet.stats>

The portal has the current information (it's changed to prdownloads...),
as the docs point you to.

The locations in the R-devel docs are only checked just prior to release:
they change several times during an R release cycle.

Also, AFAIK no one is working on the Windows port at present, so the build
of R-devel is only tested irregularly.  I expect some work will be done on
it once 1.4.0 goes into feature freeze, but can't guarantee even that.

On Thu, 22 Nov 2001, Duncan Murdoch wrote:

> On Thu, 22 Nov 2001 07:59:55 +0000 (GMT), you wrote:
> >You seem to have too old a version of the compiler.  From INSTALL
> >
> >We recommend that you use a recent snapshot of the mingw port of gcc
> >from http://downloads.sourceforge.net/mingw/.  For example, at the
> >time of writing, MinGW-1.1.tar.gz based on gcc-2.95.3.  Just unpack
> >this somewhere and put its bin directory in your path.
>
> I think the URL has changed.  I found the file at
>
>  http://sourceforge.net/projects/mingw/
>
> instead.  I've installed it, and the build is proceeding...
>
> Duncan Murdoch
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Thu Nov 22 15:53:30 2001
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich.Leisch@ci.tuwien.ac.at)
Date: Thu, 22 Nov 2001 16:53:30 +0100
Subject: [Rd] Using rsync from Windows
In-Reply-To: <ndupvtkmu7s4aj5mstan6p8eopbg32g2ui@4ax.com>
References: <ndupvtkmu7s4aj5mstan6p8eopbg32g2ui@4ax.com>
Message-ID: <15357.8058.339815.45712@galadriel.ci.tuwien.ac.at>

>>>>> On Thu, 22 Nov 2001 08:28:49 -0500,
>>>>> Duncan Murdoch (DM) wrote:

  > I've just installed the Cygwin version of rsync, with an aim of
  > syncing to the development version, as recommended on
  > <http://cran.r-project.org/sources.html>.  Could someone give an
  > example of the syntax to invoke it?  From the man page, I expected

  >  rsync rsync.rproject.org::

  > to give me a file listing, but I get:

  >  unknown host: rsync.rproject.org

  > Other network utilities (e.g. ssh) work, so it's not a simple network
  > problem, it's something I've missed in the rsync setup or on the
  > command line.  Any suggestions?

Oops, sorry, that's a typo on the web page, should of course be

    rsync rsync.r-project.org::

(note the dash in our domain name). Fixed now.

Best,
Fritz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From baron@cattell.psych.upenn.edu  Thu Nov 22 17:47:38 2001
From: baron@cattell.psych.upenn.edu (baron@cattell.psych.upenn.edu)
Date: Thu, 22 Nov 2001 18:47:38 +0100 (MET)
Subject: [Rd] R-ext.html should be R-exts.html in R-lang.html (PR#1180)
Message-ID: <200111221747.SAA01464@pubhealth.ku.dk>


<<insert bug report here>>

That's it.  Just a minor error in the links in R-lang.html.  I
noticed this in my error logs.  Seems that R-ext.html does not
exist.  Jon

--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = 
 major = 1
 minor = 3.1
 year = 2001
 month = 08
 day = 31
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.murrell@auckland.ac.nz  Thu Nov 22 21:44:57 2001
From: p.murrell@auckland.ac.nz (Paul Murrell)
Date: Fri, 23 Nov 2001 10:44:57 +1300
Subject: [Rd] contour as a generic function?
References: <Pine.LNX.4.30.0111210525290.4842-100000@bolker.zoo.ufl.edu>
Message-ID: <01da01c1739e$ede74bf0$7632d882@stat.auckland.ac.nz>

Hi


>   As long as we're on wish lists (Paul Murrell??) it would be nice to have
> contour (optionally) return a list of contours, so that one could
> post-process them etc..  This would also, I think, eventually facilitate
> drawing contours onto 3-D surfaces ... I thought about hacking this but
> the contour function was too scary for me ...


Its pretty scary stuff alright :)

I am mucking about in the graphics code at the moment and one of the things
I hope to get to is this "3D" stuff.  The plan is to make it more modular
and especially separate the *calculation* of things like contours from the
actual *rendering* of them (another good example is returning the
transformation matrix from persp()).

Paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Fri Nov 23 04:25:00 2001
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Thu, 22 Nov 2001 23:25:00 -0500
Subject: [Rd] zip error, missing file
Message-ID: <fqirvtolqnhddve6aebn8vnap1gd1i8fe7@4ax.com>

4.  Noticed this error go by in the r-devel build in Windows 95:

F:/R/TOOLS/BIN/MAKE.EXE -C ./help RHOME=F:/R/R-devel
PKGDIR=F:/R/R-devel/src/lib
rary RLIB=F:/R/R-devel/library ziponlyhelp-base
MAKE.EXE[2]: Entering directory `F:/R/R-devel/src/gnuwin32/help'
zip -jqmX help/Rhelp help/* -x help/AnIndex 2> nul
MAKE.EXE[3]: [zipup] Error 12 (ignored)

My guess is that it's a problem with "2> nul".  That syntax isn't
supported by COMMAND.COM.  It didn't appear to cause any problems
though...

5.  But this one has me stopped again:

 gcc  --shared -s  -o ctest.dll ctest.def ctest.a ctest_res.o   -lg2c
EXTRADOCS=
 F:/R/R-devel/bin/R.dll
 gcc: EXTRADOCS=: No such file or directory
 MAKE.EXE[3]: *** [ctest.dll] Error 1
 MAKE.EXE[3]: Leaving directory `F:/R/R-devel/src/library/ctest/src'
 F:\R\TOOLS\BIN\MAKE.EXE[2]: *** [src/ctest.dll] Error 2
 F:\R\TOOLS\BIN\MAKE.EXE[2]: Leaving directory
`F:/R/R-devel/src/library/ctest'

It looks to me as though gcc thinks "EXTRADOCS=" is a filename, but I
don't know  why.  The only place I can spot this is in
src/gnuwin32/Makefile line 184, but it might be coming from somewhere
else, and I don't know what is causing the error.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Nov 23 14:12:41 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 23 Nov 2001 14:12:41 +0000 (GMT Standard Time)
Subject: [Rd] zip error, missing file
In-Reply-To: <fqirvtolqnhddve6aebn8vnap1gd1i8fe7@4ax.com>
Message-ID: <Pine.WNT.4.31.0111231401550.852-100000@gannet>

On Thu, 22 Nov 2001, Duncan Murdoch wrote:

> 4.  Noticed this error go by in the r-devel build in Windows 95:
>
> F:/R/TOOLS/BIN/MAKE.EXE -C ./help RHOME=F:/R/R-devel
> PKGDIR=F:/R/R-devel/src/lib
> rary RLIB=F:/R/R-devel/library ziponlyhelp-base
> MAKE.EXE[2]: Entering directory `F:/R/R-devel/src/gnuwin32/help'
> zip -jqmX help/Rhelp help/* -x help/AnIndex 2> nul
> MAKE.EXE[3]: [zipup] Error 12 (ignored)
>
> My guess is that it's a problem with "2> nul".  That syntax isn't
> supported by COMMAND.COM.  It didn't appear to cause any problems
> though...

COMMAND.COM should not be used. The correct shell is /bin/sh,exe, which is
ash.  This fails the first time through a build (as there is notheing to
update).

>
> 5.  But this one has me stopped again:
>
>  gcc  --shared -s  -o ctest.dll ctest.def ctest.a ctest_res.o   -lg2c
> EXTRADOCS=
>  F:/R/R-devel/bin/R.dll
>  gcc: EXTRADOCS=: No such file or directory
>  MAKE.EXE[3]: *** [ctest.dll] Error 1
>  MAKE.EXE[3]: Leaving directory `F:/R/R-devel/src/library/ctest/src'
>  F:\R\TOOLS\BIN\MAKE.EXE[2]: *** [src/ctest.dll] Error 2
>  F:\R\TOOLS\BIN\MAKE.EXE[2]: Leaving directory
> `F:/R/R-devel/src/library/ctest'
>
> It looks to me as though gcc thinks "EXTRADOCS=" is a filename, but I
> don't know  why.  The only place I can spot this is in
> src/gnuwin32/Makefile line 184, but it might be coming from somewhere
> else, and I don't know what is causing the error.

I don't see that with my make and sh.  The command run is

/cygdrive/c/R/tools/make DLLNM=  FLIBS="-lg2c" EXTRADOCS= \
  -C c:/R/rw1040/src/library/ctest PKG=ctest RHOME=c:/R/rw1040 RLIB=c:/R/rw1040/library \
  -f c:/R/rw1040/src/gnuwin32/MakePkg
make[2]: Entering directory `/cygdrive/c/R/rw1040/src/library/ctest'
---------- Making package ctest ------------
mkdir -p c:/R/rw1040/library/ctest
cp -r   ./INDEX  ./TITLE  c:/R/rw1040/library/ctest/
  making DLL
make[3]: Entering directory `/cygdrive/c/R/rw1040/src/library/ctest/src'
windres --include-dir c:/R/rw1040/src/include  -i ctest_res.rc -o ctest_res.o
------- Building ctest.dll from ctest.a ctest_res.o --------
echo LIBRARY ctest > ctest.def
echo EXPORTS >> ctest.def
nm ctest.a ctest_res.o > Defs
sed -n '/^........ [BCDRT] _/s/^........ [BCDRT] _/ /p' Defs >> ctest.def
rm -f Defs
gcc  --shared -s  -o ctest.dll ctest.def ctest.a ctest_res.o   -lg2c c:/R/rw1040/bin/R.dll
make[3]: Leaving directory `/cygdrive/c/R/rw1040/src/library/ctest/src'
  DLL made

....

so it looks like make is mis-behaving.  On the other hand, I have not idea
what it is for (Guido?) and suggest you remove it from
src/gnuwin32/Makefile.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jan@rychter.com  Fri Nov 23 20:02:41 2001
From: jan@rychter.com (Jan Rychter)
Date: Fri, 23 Nov 2001 21:02:41 +0100
Subject: [Rd] segfault using svm from e1071 (PR#1178)
In-Reply-To: <3BFB838A.E7E40F39@ci.tuwien.ac.at> (David Meyer's message of
 "Wed, 21 Nov 2001 11:35:55 +0100")
References: <200111202238.XAA07070@pubhealth.ku.dk>
 <3BFB838A.E7E40F39@ci.tuwien.ac.at>
Message-ID: <m2oflt1cim.fsf@tnuctip.rychter.com>

>>>>> "David" == David Meyer <david.meyer@ci.tuwien.ac.at> writes:
 David> jan@rychter.com wrote:
 >>
 >> This could be a bug in the e1071 svm code, but maybe not -- I guess
 >> I'll send it here anyway. It's reproducible.

 David> Which version of e1071 are you using (Current: 1.2-1)? This
 David> package had a bug fix release one month ago.

To follow up on this (yes, I'm using 1.2-1), here is the backtrace. Hope
it helps.

> library(e1071)
>      x <- seq (0.1,5,by=0.05)
>      y <- log(x) + rnorm (x, sd=0.2)
>      m   <- svm (x,y)

Program received signal SIGSEGV, Segmentation fault.
0x4011ffe8 in realloc () from /lib/libc.so.6
(gdb) bt
#0  0x4011ffe8 in realloc () from /lib/libc.so.6
#1  0x403859ea in Cache::get_data (this=0x8b01d00, index=145759521, data=0xbfffd9b4, 
    len=99) at svm.cpp:126
#2  0x4038b239 in SVR_Q::get_Q (this=0xbfffdb00, i=100, len=198) at svm.cpp:1223
#3  0x4038658d in Solver::Solve (this=0xbfffdb50, l=198, Q=@0xbfffdb00, b_=0x8b01148, 
    y_=0x8b01780 '\001' <repeats 99 times>, '' <repeats 99 times>, alpha_=0x8b00b10, 
    Cp=1, Cn=1, eps=0.001, si=0xbfffdc20, shrinking=1) at svm.cpp:534
#4  0x40388249 in solve_epsilon_svr (prob=0xbfffde40, param=0xbfffde50, alpha=0x8b007f0, 
    si=0xbfffdc20) at svm.cpp:1195
#5  0x40388aac in svm_train_one (prob=0xbfffde40, param=0xbfffde50, Cp=0, Cn=0)
    at svm.cpp:1505
#6  0x40388c54 in svm_train (prob=0xbfffde40, param=0xbfffde50) at svm.cpp:1584
#7  0x40384202 in svmtrain () from /local/lib/R/library/e1071/libs/e1071.so
#8  0x0808ccd9 in do_dotCode ()
#9  0x08093e23 in Rf_eval ()
#10 0x0809546a in do_set ()
#11 0x08093c6e in Rf_eval ()
#12 0x08094db9 in do_begin ()
#13 0x08093c6e in Rf_eval ()
#14 0x08094238 in Rf_applyClosure ()
#15 0x080b423b in applyMethod ()
#16 0x080b47ce in Rf_usemethod ()
#17 0x080b49dd in do_usemethod ()
#18 0x08093c6e in Rf_eval ()
#19 0x08094238 in Rf_applyClosure ()
#20 0x08093eaa in Rf_eval ()
#21 0x0809546a in do_set ()
#22 0x08093c6e in Rf_eval ()
#23 0x080a906b in R_ReplConsole ()
#24 0x080a980a in run_Rmainloop ()
#25 0x080ff8e8 in main ()
#26 0x400bb5b0 in __libc_start_main () from /lib/libc.so.6
(gdb) 


--Jan

 > x <- seq (0.1,5,by=0.05) y <- log(x) + rnorm (x, sd=0.2)
 > library(e1071) m <- svm (x,y)
 >>
 >> Process R segmentation fault at Tue Nov 20 23:34:19 2001
 >>
 > version
 >> _ platform i686-pc-linux-gnu arch i686 os linux-gnu system i686,
 >> linux-gnu status major 1 minor 3.1 year 2001 month 08 day 31
 >> language R
 >>
 >> I used the Mandrake 8.0 RPM binaries from cran.r-project.org first,
 >> then recompiled R myself and reinstalled e1071. Same results.
 >>
 >> thanks, --J.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ligges@statistik.uni-dortmund.de  Mon Nov 26 15:25:36 2001
From: ligges@statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 26 Nov 2001 16:25:36 +0100
Subject: [Rd] default symbol in plots changed in R-Devel for windows
Message-ID: <3C025EF0.EB57EAE4@statistik.uni-dortmund.de>

I did some test on WinXP and of course one of these was compiling and
starting R (good "news": It works).

To my surprise the default plotting character changed from the well
known empty circle to a black *FILLED* circle in the windows and bitmap
devices, but not so on the postscript and pdf devices.

Taking a closer look to more symbols shows that some symbols changed
from filled to unfilled ones and others from unfilled to filled. Is this
intended or just a fact the status "in development" of R-1.4.0?
Or maybe it is an interaction with the changes on transparent
backgrounds?

It happens with R
 Version 1.4.0 Under development (unstable) (2001-11-25)
on Windows NT 4.0 (SP6) and Windows XP, but not so on Solaris.

Best,
Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Nov 26 15:42:22 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 26 Nov 2001 15:42:22 +0000 (GMT Standard Time)
Subject: [Rd] default symbol in plots changed in R-Devel for windows
In-Reply-To: <3C025EF0.EB57EAE4@statistik.uni-dortmund.de>
Message-ID: <Pine.WNT.4.31.0111261537150.976-100000@gannet>

This is a known transitory bug, which I found late yesterday.  You'll find
R_ALPHA at one place in your devga.c.  Change it to R_OPAQUE.

We've been having some problems as a result of extensive graphics changes
from Paul.  If tonight's snapshot works correctly, it will have this fixed.

On Mon, 26 Nov 2001, Uwe Ligges wrote:

> I did some test on WinXP and of course one of these was compiling and
> starting R (good "news": It works).
>
> To my surprise the default plotting character changed from the well
> known empty circle to a black *FILLED* circle in the windows and bitmap
> devices, but not so on the postscript and pdf devices.
>
> Taking a closer look to more symbols shows that some symbols changed
> from filled to unfilled ones and others from unfilled to filled. Is this
> intended or just a fact the status "in development" of R-1.4.0?
> Or maybe it is an interaction with the changes on transparent
> backgrounds?
>
> It happens with R
>  Version 1.4.0 Under development (unstable) (2001-11-25)
> on Windows NT 4.0 (SP6) and Windows XP, but not so on Solaris.
>
> Best,
> Uwe
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jcs20@po.cwru.edu  Mon Nov 26 21:00:15 2001
From: jcs20@po.cwru.edu (jcs20@po.cwru.edu)
Date: Mon, 26 Nov 2001 22:00:15 +0100 (MET)
Subject: [Rd] predict.nnet (PR#1181)
Message-ID: <200111262100.WAA02054@pubhealth.ku.dk>

Full_Name: Jeff Schwarz
Version: R1.3.1
OS: Windows 2000
Submission from: (NULL) (129.22.170.115)


Error message (using predict and predict.nnet)
> predict (smalltest, smallx[-jj,])
Error in matrix(NA, length(keep), nout, dimnames = list(rn,
dimnames(object$fitted)[[2]])) : 
        length of dimnames[1] not equal to array extent

*** all relevant code and data source is given below ***

I have successfully built an object of type nnet using...
nnet.formula(formula = Q65 ~ ., data = smallx, size = 2, rang = 1, 
    maxit = 250, subset = jj)

where smallx is a data.frame with dimensions 300 by 103 that contains numerical
and factor variables.  Smallx is a random sample of 300 from the tab-delimited
numeric dataset found at
http://www.gvu.gatech.edu/user_surveys/survey-1998-10/datasets/num_general.zip. 
The code I used to recode the data is below, also.

I have successfully run the sample code from the predict.nnet help file without
any problem.

*********************************************************************

data source: 
http://www.gvu.gatech.edu/user_surveys/survey-1998-10/datasets/num_general.zip

#***Get the data from the big file
#***Get rid of the vairiables for survey (all
#*** observations = general), a unique identifier
#*** for each respondent and an extra variable X 
#*** (all = NaN)
#***Make sure that all the asymmetric binary,
#*** and nominal variables are coded as factor,
#*** not numeric (daisy has special methods for
#*** symmetric binary and discrete ordinal)
#***Recode some of the discrete ordinal variables
#*** so the Na, didn't know, and didn't say are all
#*** "NaN", and so that a few of the "never" responses
#*** are coded as 0 instead of 5

bigx <-
  read.delim (file location, 
  header = TRUE, sep = "\t", quote = "\"", dec = ".",
  fill = TRUE)

bigx <- bigx [,c(1:103)]

ii <- bigx[,c(22)] == 5
bigx[,c(22)] <- replace (bigx[,c(22)], ii, 0) 
ii <- bigx[,c(23)] == 5
bigx[,c(23)] <- replace (bigx[,c(23)], ii, 0)
ii <- bigx[,c(24)] == 5
bigx[,c(24)] <- replace (bigx[,c(24)], ii, 0)
ii <- bigx[,c(25)] == 5
bigx[,c(25)] <- replace (bigx[,c(25)], ii, 0)
ii <- bigx[,c(26)] == 5
bigx[,c(26)] <- replace (bigx[,c(26)], ii, 0)
ii <- bigx[,38] == 7
bigx[,38] <- replace (bigx[,38], ii, NaN)
ii <- bigx[,38] == 8
bigx[,38] <- replace (bigx[,38], ii, NaN)
ii <- bigx[,57] == 1
bigx[,57] <- replace (bigx[,57], ii, NaN)
ii <- bigx[,58] == 19
bigx[,58] <- replace (bigx[,58], ii, NaN)
ii <- bigx[,60] == 4
bigx[,60] <- replace (bigx[,60], ii, NaN)
ii <- bigx[,60] == 1
bigx[,60] <- replace (bigx[,60], ii, 3)
ii <- bigx[,60] == 2
bigx[,60] <- replace (bigx[,60], ii, 1)
ii <- bigx[,60] == 3
bigx[,60] <- replace (bigx[,60], ii, 2)
ii <- bigx[,69] == 1
bigx[,69] <- replace (bigx[,69], ii, NaN)
ii <- bigx[,69] == 7
bigx[,69] <- replace (bigx[,69], ii, NaN)
bigx[,69] <- bigx[,69] - 1

for (ii in c(1:9,14:21,27:32,34:37,39:49,52:55,
  59,61:70,72:103)) bigx[,ii] <- as.factor(bigx[,ii])

library (nnet)

set.seed(7261)
smallx <- bigx[sample(1:5022,300),]
jj <- sample (1:300, 100)
smalltest <- nnet.formula(formula = Q65 ~ ., data = smallx,
  size = 2, rang = 1, maxit = 250, subset = jj)

predict.nnet (smalltest, smallx[-jj,])

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From andy_liaw@merck.com  Mon Nov 26 21:36:55 2001
From: andy_liaw@merck.com (Liaw, Andy)
Date: Mon, 26 Nov 2001 16:36:55 -0500
Subject: debugging R-devel  on WinNT (was RE: [Rd] zlib location)
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC83BB@usrymx10.merck.com>

From: Prof Brian Ripley [mailto:ripley@stats.ox.ac.uk]

[...]

> Also, AFAIK no one is working on the Windows port at present, so the build
> of R-devel is only tested irregularly.  I expect some work will be done on
> it once 1.4.0 goes into feature freeze, but can't guarantee even that.

I had been trying to find out why La.svd on moderately large matrices (say
500 x 100) crash R-devel linked against ATLAS on WinNT.  Could some one
provide some hint on how to go about doing this?  I tried the instruction in
rw-faq, but keep getting stuck as follows:

(gdb) break WinMain
Breakpoint 1 at 0x4013c6: file ../graphapp/graphappmain.c, line 94.

(gdb) run
"/cygdrive/c/WINNT/system32/KERNEL32.dll": error reading line numbers

"/cygdrive/c/WINNT/system32/ADVAPI32.dll": error reading line numbers

"/cygdrive/c/WINNT/system32/VERSION.dll": error reading line numbers

"/cygdrive/c/WINNT/system32/LZ32.dll": error reading line numbers


Breakpoint 1, WinMain (Instance=0x400000, PrevInstance=0x0, CmdLine=0x232b0b
"", CmdShow=10) at ../graphapp/graphappmain.c:94

Starting program:
/cygdrive/c/Rtools/R-devel1105/src/gnuwin32/../../bin/Rgui.exe 

(gdb) break R_ReadConsole
Error: Cannot access memory at address 0x1f9a4

I tried adding the directories where several source files are (e.g.,
src/main, src/gnuwin32, src/gnuwin32/graphapp, and src/gnuwin32/front-ends),
but still get the same thing.

Also, as R starts, I get a bunch of dialog boxes that complained about DLL
relocated.  Is this normal?

If I just type "c" and run Rgui, and issue the command
"La.svd(matrix(runif(5e4), 5e2, 1e2))", I get a few more dialog boxes, one
saying "Invalid address specified to RtlFreeHeap(9f0000, 1efde80)", another
saying "HEAP(Rgui.exe)", and a SIGTRAP is generated.

I did one more (crazy? stupid?) thing:  I replaced the lapack.c in R-devel
(dated Nov. 14, 2001) with the one in R-1.3.1 *as is*.  It actually
compiled!  However, the result is the same.

Any help on how to get gdb to work is greatly appreciated!!

Regards,
Andy

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossini@u.washington.edu  Tue Nov 27 17:24:57 2001
From: rossini@u.washington.edu (A.J. Rossini)
Date: 27 Nov 2001 09:24:57 -0800
Subject: [Rd] seek helppage.  Possible clarification?
Message-ID: <87zo58dt3q.fsf@jeeves.blindglobe.net>


seek(zz,where=NewPosition)   returns the OldPosition of connection zz
(of the appropriate "pointer", i.e. read or write).  Currently, the
docs have:

> Details:
> 
>     `seek' with `where = NA' returns the current byte offset of a
>     connection (from the beginning), and with a positive `where'
>     argument the connection is re-positioned (if possible) to the
>     specified position.


One possible change would be to:


> Details:
>
>     `seek' with `where = NA' returns the current byte offset of a
>     connection (from the beginning), and with a positive `where'
>     argument the connection is re-positioned (if possible) to the
>     specified position, returning the previous position.

(since seek() seems to return "current/previous position", at least
for the variants I seem to use).

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini@u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini@scharp.org
-------------- http://software.biostat.washington.edu/ --------------
FHCRC: M-W: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   T-Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
Rosen: (Mullins' Lab) Fridays, and I'm unreachable except by email.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Nov 27 17:32:49 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 27 Nov 2001 17:32:49 +0000 (GMT)
Subject: [Rd] seek helppage.  Possible clarification?
In-Reply-To: <87zo58dt3q.fsf@jeeves.blindglobe.net>
Message-ID: <Pine.LNX.4.31.0111271730130.12944-100000@gannet.stats>

It's usual to put values in the Value: section, and indeed it is described
there.  I am not sure why I would expect it in Details: too.

Looks like `positive' is out-of-date, though.

On 27 Nov 2001, A.J. Rossini wrote:

>
> seek(zz,where=NewPosition)   returns the OldPosition of connection zz
> (of the appropriate "pointer", i.e. read or write).  Currently, the
> docs have:
>
> > Details:
> >
> >     `seek' with `where = NA' returns the current byte offset of a
> >     connection (from the beginning), and with a positive `where'
> >     argument the connection is re-positioned (if possible) to the
> >     specified position.
>
>
> One possible change would be to:
>
>
> > Details:
> >
> >     `seek' with `where = NA' returns the current byte offset of a
> >     connection (from the beginning), and with a positive `where'
> >     argument the connection is re-positioned (if possible) to the
> >     specified position, returning the previous position.
>
> (since seek() seems to return "current/previous position", at least
> for the variants I seem to use).
>
> best,
> -tony
>
> --
> A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
> U. of Washington Biostatistics		rossini@u.washington.edu
> FHCRC/SCHARP/HIV Vaccine Trials Net	rossini@scharp.org
> -------------- http://software.biostat.washington.edu/ --------------
> FHCRC: M-W: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
> UW:   T-Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
> Rosen: (Mullins' Lab) Fridays, and I'm unreachable except by email.
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossini@u.washington.edu  Tue Nov 27 17:45:44 2001
From: rossini@u.washington.edu (A.J. Rossini)
Date: 27 Nov 2001 09:45:44 -0800
Subject: [Rd] seek helppage.  Possible clarification?
In-Reply-To: <Pine.LNX.4.31.0111271730130.12944-100000@gannet.stats>
References: <Pine.LNX.4.31.0111271730130.12944-100000@gannet.stats>
Message-ID: <87pu64ds53.fsf@jeeves.blindglobe.net>

>>>>> "BR" == Brian Ripley <Prof> writes:

    BR> It's usual to put values in the Value: section, and indeed it
    BR> is described there.  I am not sure why I would expect it in
    BR> Details: too.

Then the suggestion would be instead of (from "Value"):

     `seek' returns the current position, as a byte offset, if
     relevant, or `0' if not.

to:

     `seek' returns the current or previous position, as a byte offset, if
     relevant, or `0' if not.

(the confusion for me was whether current was before or after the function
call, which may change the position).

best,
-tony


-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini@u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini@scharp.org
-------------- http://software.biostat.washington.edu/ --------------
FHCRC: M-W: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   T-Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
Rosen: (Mullins' Lab) Fridays, and I'm unreachable except by email.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Nov 27 19:23:02 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 27 Nov 2001 19:23:02 +0000 (GMT)
Subject: [Rd] seek helppage.  Possible clarification?
In-Reply-To: <87pu64ds53.fsf@jeeves.blindglobe.net>
Message-ID: <Pine.LNX.4.31.0111271921280.13076-100000@gannet.stats>

On 27 Nov 2001, A.J. Rossini wrote:

> >>>>> "BR" == Brian Ripley <Prof> writes:
>
>     BR> It's usual to put values in the Value: section, and indeed it
>     BR> is described there.  I am not sure why I would expect it in
>     BR> Details: too.
>
> Then the suggestion would be instead of (from "Value"):
>
>      `seek' returns the current position, as a byte offset, if
>      relevant, or `0' if not.
>
> to:
>
>      `seek' returns the current or previous position, as a byte offset, if
>      relevant, or `0' if not.
>
> (the confusion for me was whether current was before or after the function
> call, which may change the position).

(Sorry, I missed the point!)
I'd still say that was ambiguous, so I've changed it to

  \code{seek} returns the current position (before any move),
  as a byte offset, if relevant, or \code{0} if not.

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From mdesai@biostat.cpmc.columbia.edu  Tue Nov 27 20:02:44 2001
From: mdesai@biostat.cpmc.columbia.edu (mdesai@biostat.cpmc.columbia.edu)
Date: Tue, 27 Nov 2001 21:02:44 +0100 (MET)
Subject: [Rd] Table Command (PR#1182)
Message-ID: <200111272002.VAA16156@pubhealth.ku.dk>

Full_Name: Manisha Desai
Version: 1.3.0
OS: UNIX
Submission from: (NULL) (156.111.36.213)


There may be a bug in the table command.  
The value of 0 does not appear to show up (at least in this version of R).  
The following is an example:

> blah<-c(rep(1,100),rep(0,100))
> table(blah)

Gives the following:

blah
  1
100

Doing a summary shows that blah does contain values of 0.  

> summary(blah)
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
    0.0     0.0     0.5     0.5     1.0     1.0 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Nov 27 20:14:08 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 Nov 2001 21:14:08 +0100
Subject: [Rd] Table Command (PR#1182)
In-Reply-To: <200111272002.VAA16156@pubhealth.ku.dk>
References: <200111272002.VAA16156@pubhealth.ku.dk>
Message-ID: <x24rnghsz3.fsf@blueberry.kubism.ku.dk>

mdesai@biostat.cpmc.columbia.edu writes:

> Full_Name: Manisha Desai
> Version: 1.3.0
> OS: UNIX
> Submission from: (NULL) (156.111.36.213)
> 
> 
> There may be a bug in the table command.  
> The value of 0 does not appear to show up (at least in this version of R).  
> The following is an example:
> 
> > blah<-c(rep(1,100),rep(0,100))
> > table(blah)
> 
> Gives the following:
> 
> blah
>   1
> 100
> 
> Doing a summary shows that blah does contain values of 0.  
> 
> > summary(blah)
>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
>     0.0     0.0     0.5     0.5     1.0     1.0 

Doesn't happen on any version of "UNIX" that I have access to. I think
we had a report once where something like that was caused by an
incorrect compiler (or compiler flag). We need to have full
information on your system and build to do anything about it.

To wit (Solaris 7, R-1.3.1)

> blah<-c(rep(1,100),rep(0,100))
> table(blah)
blah
  0   1 
100 100 


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From mdesai@biostat.cpmc.columbia.edu  Tue Nov 27 21:07:54 2001
From: mdesai@biostat.cpmc.columbia.edu (Manisha Desai)
Date: Tue, 27 Nov 2001 16:07:54 -0500 (EST)
Subject: [Rd] Table Command (PR#1182)
In-Reply-To: <x24rnghsz3.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.SOL.4.33.0111271556500.13397-100000@bernoulli.cpmc.columbia.edu>


Thanks for your response.  Here is some information on my system.  I will
speak with my systems administrator if the problem is not obvious.

Manisha

> version
         _
platform sparc-sun-solaris2.8
arch     sparc
os       solaris2.8
system   sparc, solaris2.8
status
major    1
minor    3.0
year     2001
month    06
day      22
language R



On 27 Nov 2001, Peter Dalgaard BSA wrote:

> mdesai@biostat.cpmc.columbia.edu writes:
>
> > Full_Name: Manisha Desai
> > Version: 1.3.0
> > OS: UNIX
> > Submission from: (NULL) (156.111.36.213)
> >
> >
> > There may be a bug in the table command.
> > The value of 0 does not appear to show up (at least in this version of R).
> > The following is an example:
> >
> > > blah<-c(rep(1,100),rep(0,100))
> > > table(blah)
> >
> > Gives the following:
> >
> > blah
> >   1
> > 100
> >
> > Doing a summary shows that blah does contain values of 0.
> >
> > > summary(blah)
> >    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.
> >     0.0     0.0     0.5     0.5     1.0     1.0
>
> Doesn't happen on any version of "UNIX" that I have access to. I think
> we had a report once where something like that was caused by an
> incorrect compiler (or compiler flag). We need to have full
> information on your system and build to do anything about it.
>
> To wit (Solaris 7, R-1.3.1)
>
> > blah<-c(rep(1,100),rep(0,100))
> > table(blah)
> blah
>   0   1
> 100 100
>
>
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Nov 27 21:19:14 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 27 Nov 2001 22:19:14 +0100 (MET)
Subject: [Rd] Table Command (PR#1182)
Message-ID: <200111272119.WAA16776@pubhealth.ku.dk>

Did this system pass make check?

I believe this happens if you use aggresive optimizations under the SunPro
compiler, which do not respect IEEE arithmetic and do fail make check.
In particular, avoid -fast.


On Tue, 27 Nov 2001, Manisha Desai wrote:

>
> Thanks for your response.  Here is some information on my system.  I will
> speak with my systems administrator if the problem is not obvious.
>
> Manisha
>
> > version
>          _
> platform sparc-sun-solaris2.8
> arch     sparc
> os       solaris2.8
> system   sparc, solaris2.8
> status
> major    1
> minor    3.0
> year     2001
> month    06
> day      22
> language R
>
>
>
> On 27 Nov 2001, Peter Dalgaard BSA wrote:
>
> > mdesai@biostat.cpmc.columbia.edu writes:
> >
> > > Full_Name: Manisha Desai
> > > Version: 1.3.0
> > > OS: UNIX
> > > Submission from: (NULL) (156.111.36.213)
> > >
> > >
> > > There may be a bug in the table command.
> > > The value of 0 does not appear to show up (at least in this version of R).
> > > The following is an example:
> > >
> > > > blah<-c(rep(1,100),rep(0,100))
> > > > table(blah)
> > >
> > > Gives the following:
> > >
> > > blah
> > >   1
> > > 100
> > >
> > > Doing a summary shows that blah does contain values of 0.
> > >
> > > > summary(blah)
> > >    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.
> > >     0.0     0.0     0.5     0.5     1.0     1.0
> >
> > Doesn't happen on any version of "UNIX" that I have access to. I think
> > we had a report once where something like that was caused by an
> > incorrect compiler (or compiler flag). We need to have full
> > information on your system and build to do anything about it.
> >
> > To wit (Solaris 7, R-1.3.1)
> >
> > > blah<-c(rep(1,100),rep(0,100))
> > > table(blah)
> > blah
> >   0   1
> > 100 100
> >
> >
> > --
> >    O__  ---- Peter Dalgaard             Blegdamsvej 3
> >   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
> >  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> > ~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
> >
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From mdesai@biostat.cpmc.columbia.edu  Tue Nov 27 21:28:30 2001
From: mdesai@biostat.cpmc.columbia.edu (mdesai@biostat.cpmc.columbia.edu)
Date: Tue, 27 Nov 2001 22:28:30 +0100 (MET)
Subject: [Rd] Table Command (PR#1182)
Message-ID: <200111272128.WAA16840@pubhealth.ku.dk>


Thank you.  Yes, my systems administrator has just confirmed that he used
maximum optimization when compiling R.  Problem (most probably) solved.

Manisha

On Tue, 27 Nov 2001, Prof Brian Ripley wrote:

> Did this system pass make check?
>
> I believe this happens if you use aggresive optimizations under the SunPro
> compiler, which do not respect IEEE arithmetic and do fail make check.
> In particular, avoid -fast.
>
>
> On Tue, 27 Nov 2001, Manisha Desai wrote:
>
> >
> > Thanks for your response.  Here is some information on my system.  I will
> > speak with my systems administrator if the problem is not obvious.
> >
> > Manisha
> >
> > > version
> >          _
> > platform sparc-sun-solaris2.8
> > arch     sparc
> > os       solaris2.8
> > system   sparc, solaris2.8
> > status
> > major    1
> > minor    3.0
> > year     2001
> > month    06
> > day      22
> > language R
> >
> >
> >
> > On 27 Nov 2001, Peter Dalgaard BSA wrote:
> >
> > > mdesai@biostat.cpmc.columbia.edu writes:
> > >
> > > > Full_Name: Manisha Desai
> > > > Version: 1.3.0
> > > > OS: UNIX
> > > > Submission from: (NULL) (156.111.36.213)
> > > >
> > > >
> > > > There may be a bug in the table command.
> > > > The value of 0 does not appear to show up (at least in this version of R).
> > > > The following is an example:
> > > >
> > > > > blah<-c(rep(1,100),rep(0,100))
> > > > > table(blah)
> > > >
> > > > Gives the following:
> > > >
> > > > blah
> > > >   1
> > > > 100
> > > >
> > > > Doing a summary shows that blah does contain values of 0.
> > > >
> > > > > summary(blah)
> > > >    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.
> > > >     0.0     0.0     0.5     0.5     1.0     1.0
> > >
> > > Doesn't happen on any version of "UNIX" that I have access to. I think
> > > we had a report once where something like that was caused by an
> > > incorrect compiler (or compiler flag). We need to have full
> > > information on your system and build to do anything about it.
> > >
> > > To wit (Solaris 7, R-1.3.1)
> > >
> > > > blah<-c(rep(1,100),rep(0,100))
> > > > table(blah)
> > > blah
> > >   0   1
> > > 100 100
> > >
> > >
> > > --
> > >    O__  ---- Peter Dalgaard             Blegdamsvej 3
> > >   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
> > >  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> > > ~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
> > >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
>
> --
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From plummer@iarc.fr  Thu Nov 29 15:58:05 2001
From: plummer@iarc.fr (Martyn Plummer)
Date: Thu, 29 Nov 2001 16:58:05 +0100 (CET)
Subject: [Rd] R CMD check
Message-ID: <XFMail.20011129165805.plummer@iarc.fr>

[Sent to R-help by mistake. Sorry]

I have been checking my package coda with the current R-devel
using "R CMD check".  As usual, this has uncovered a large number
of errors and inconsistencies in my documentation, for which I
am very grateful.

The only problem I have is with code/documentation mismatches when I
have written a method for a generic function, e.g.

* checking for code/documentation mismatches ... WARNING
Objects with usage in documentation object `plot.mcmc' but missing from code:
[1] "plot"

Objects with usage in documentation object `summary.mcmc' but missing from
code:[1] "summary"

Objects with usage in documentation object `time.mcmc' but missing from code:
[1] "end"   "start" "time" 

Objects with usage in documentation object `window.mcmc' but missing from code:
[1] "window"

This occurs because, for example, I have documented the usage of 
summary.mcmc as

\usage{
summary(data, quantiles = c(0.025, 0.25, 0.5, 0.75, 0.975), ...)
}

I'm being encouraged to document it as

\usage{
summary.mcmc(data, quantiles = c(0.025, 0.25, 0.5, 0.75, 0.975), ...)
}

but I don't think this is right. Surely the correct usage of a method
is to call the generic function?

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From charlie@stat.umn.edu  Thu Nov 29 16:02:34 2001
From: charlie@stat.umn.edu (charlie@stat.umn.edu)
Date: Thu, 29 Nov 2001 17:02:34 +0100 (MET)
Subject: [Rd] ltsreg warnings (PR#1184)
Message-ID: <200111291602.RAA13035@pubhealth.ku.dk>

Full_Name: Charles J. Geyer
Version: 1.3.1
OS: linux-gnu-i686
Submission from: (NULL) (134.84.86.22)


ltsreg gives incomprehensible (to me) warnings

A homework problem for nonparametrics

########## start example ##########
library(bootstrap)
data(cell)
names(cell)
attach(cell)

library(lqs)
plot(V1, V2)
fred <- ltsreg(V2 ~ V1 + I(V1^2))
curve(predict(fred, data.frame(V1 = x)), add = TRUE)
coefficients(fred)
beta1.hat <- coefficients(fred)[2]
beta2.hat <- coefficients(fred)[3]

n <- length(V1)
nboot <- 1000
beta1.star <- double(nboot)
beta2.star <- double(nboot)
for (i in 1:nboot) {
    k <- sample(1:n, replace = TRUE)
    x.star <- V1[k]
    y.star <- V2[k]
    sally <- ltsreg(y.star ~ x.star + I(x.star^2))
    curve(predict(sally, data.frame(x.star = x)),
        add = TRUE, col = 2)
    beta1.star[i] <- coefficients(sally)[2]
    beta2.star[i] <- coefficients(sally)[3]
}
points(V1, V2, pch = 16)
curve(predict(fred, data.frame(V1 = x)),
   add = TRUE, lwd = 2)

beta1.hat
sd(beta1.star)
beta2.hat
sd(beta2.star)
beta2.hat / sd(beta2.star)
########## end example ##########

This produces at least 50 warnings.  The problem seems to be line 101 in
lqs.default

s <- sqrt(z$crit/quantile)/sqrt(1 - 2 * n * dnorm(1/c1)/(quantile * c1))

where z$crit is sometimes negative (like -1e-20) and so sqrt complains.

Now I have no idea what ltsreg is doing, and what z$crit is.  The letters
suggest
a z critical value, which can't be negative.  Certainly, the programmer who
decided
to stuff it into sqrt() didn't think it would be negative.

So this suggests a problem in the lqs_fitlots function call, but I haven't
looked
at that.

I understand that the problem may be that bootstrapping such a small data set
is insane, but I'm just copying Efron and Tibshirani (who do this with lmsreg).

So the problem may be only that more informative error messages are needed (or
failure codes, although failure codes are somewhat antithetical to the S/R
spirit).

Anyway, just stuffing negative numbers into sqrt() doesn't look good.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Nov 29 19:43:56 2001
From: pgilbert@bank-banque-canada.ca (pgilbert@bank-banque-canada.ca)
Date: Thu, 29 Nov 2001 20:43:56 +0100 (MET)
Subject: [Rd] documentation for diff (PR#1185)
Message-ID: <200111291943.UAA14511@pubhealth.ku.dk>

The documentation for diff says:


     If `x' is a vector of length `n' and `differences=1', then the
     computed result is equal to the successive differences
     `x[(1:n-lag)] - x[(lag:n)]'. ...

This last line should say:

     `x[(1+lag):n] - x[1:(n-lag)]'.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Nov 29 17:09:18 2001
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 29 Nov 2001 12:09:18 -0500
Subject: [Rd] R CMD check
References: <XFMail.20011129165805.plummer@iarc.fr>
Message-ID: <3C066BBE.3537F97C@bank-banque-canada.ca>

Martyn Plummer wrote:

> I'm being encouraged to document it as
> 
> \usage{
> summary.mcmc(data, quantiles = c(0.025, 0.25, 0.5, 0.75, 0.975), ...)
> }
> 

I think you are being encouraged to document it as

 \usage{
 \method{summary}{mcmc}(data, quantiles = c(0.025, 0.25, 0.5, 0.75, 0.975), ...)
 }

So it displays properly in the documentation and also gets checked properly. You
will then stop getting the "usage ...but missing from code" error and start
getting the "generic/method mismatch error." These guys are real slave drivers,
but as you said 

>this has uncovered a large number of errors and inconsistencies in my >documentation, for which I am very grateful.

Me too.

Paul Gilbert
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From vograno@arbitrade.com  Thu Nov 29 20:48:57 2001
From: vograno@arbitrade.com (vograno@arbitrade.com)
Date: Thu, 29 Nov 2001 21:48:57 +0100 (MET)
Subject: [Rd] a patch to tapply (PR#1186)
Message-ID: <200111292048.VAA14938@pubhealth.ku.dk>

Though tapply(x, factor, fun, simplify =TRUE) should be equivalent to
sapply(split(x, factor), fun, simplify=TRUE), note simplify=TRUE, it is not
so if fun() returns a vector rather than a scalar, e.g.

> tapply(1:6, c(0,0,0,1,1,1), function(x) c(min=min(x), max=max(x)),
simplify=TRUE)
$"0"
min max 
  1   3 

$"1"
min max 
  4   6 

> sapply(split(1:6, c(0,0,0,1,1,1)), function(x) c(min=min(x), max=max(x)),
simplify=TRUE)
    0 1
min 1 4
max 3 6

The patch submitted below fixes this problem
> tapply.new(1:6, c(0,0,0,1,1,1), function(x) c(min=min(x), max=max(x)),
simplify=TRUE)
    0 1
min 1 4
max 3 6

Another potential problem, which I am not able to verify at the moment, is
that whenever simplification is possible S-Plus returns a TRANSPOSE of that
of R, i.e.
  min max
0   1   3
1   4   6

Fixing this would require small changes to both tapply and sapply and I'll
be happy to provide the patches if requested.


R Version
> sapply(R.Version(), I)
           platform                arch                  os
system 
"i686-pc-linux-gnu"              "i686"         "linux-gnu"   "i686,
linux-gnu" 
             status               major               minor
year 
                 ""                 "1"               "3.1"
"2001" 
              month                 day            language 
               "08"                "31"                 "R"

 **************
The patch:
"tapply.new" <-
  function (X, INDEX, FUN = NULL, ..., simplify = TRUE) 
{
  FUN <- if (!is.null(FUN)) 
    match.fun(FUN)
  if (!is.list(INDEX)) 
    INDEX <- list(INDEX)
  nI <- length(INDEX)
  namelist <- vector("list", nI)
  names(namelist) <- names(INDEX)
  extent <- integer(nI)
  nx <- length(X)
  one <- as.integer(1)
  group <- rep(one, nx)
  ngroup <- one
  for (i in seq(INDEX)) {
    index <- as.factor(INDEX[[i]])
    if (length(index) != nx) 
      stop("arguments must have same length")
    namelist[[i]] <- levels(index)
    extent[i] <- nlevels(index)
    group <- group + ngroup * (as.integer(index) - one)
    ngroup <- ngroup * nlevels(index)
  }
  if (is.null(FUN)) 
    return(group)
  ans <- lapply(split(X, group), FUN, ...)
  if (simplify && length(common.len <- unique(unlist(lapply(ans, length))))
== 1) {
    if (common.len > 1) {
      extent <- c(common.len, extent)
      namelist <- c(list(names(ans[[1]])), namelist)
    }
    ansmat <- array(unlist(ans, recursive = FALSE), dim = extent, dimnames =
namelist)
    return(ansmat)
  }
  index <- as.numeric(names(ans))
  ansmat <- array(vector("list", prod(extent)), dim = extent, 
                  dimnames = namelist)
  names(ans) <- NULL
  ansmat[index] <- ans
  ansmat
}

-------------------------------------------------- 
DISCLAIMER 
This e-mail, and any attachments thereto, is intended only for use by the
addressee(s) named herein and may contain legally privileged and/or
confidential information.  If you are not the intended recipient of this
e-mail, you are hereby notified that any dissemination, distribution or
copying of this e-mail, and any attachments thereto, is strictly prohibited.
If you have received this e-mail in error, please immediately notify me and
permanently delete the original and any copy of any e-mail and any printout
thereof. 

E-mail transmission cannot be guaranteed to be secure or error-free.  The
sender therefore does not accept liability for any errors or omissions in
the contents of this message which arise as a result of e-mail transmission.

NOTICE REGARDING PRIVACY AND CONFIDENTIALITY 

Knight Trading Group may, at its discretion, monitor and review the content
of all e-mail communications. 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Thu Nov 29 21:13:08 2001
From: bates@stat.wisc.edu (bates@stat.wisc.edu)
Date: Thu, 29 Nov 2001 22:13:08 +0100 (MET)
Subject: [Rd] anova.glm and explicit contrast matrices (PR#1187)
Message-ID: <200111292113.WAA15094@pubhealth.ku.dk>

anova.glm does not calculate the degrees of freedom properly when an
explicit contrast has been set on a factor and the contrast has fewer
than (len(levels(thisfactor)) - 1) columns.

> load("/p/stat/course/st849-bates/public/slides/figs/src/viet.rda")
> fm1 <- glm(accuracy ~ proficiency * task + proficiency/learner, viet,
+    family = binomial())
> anova(fm1)
Analysis of Deviance Table

Model: binomial, link: logit

Response: accuracy

Terms added sequentially (first to last)


                      Df Deviance Resid. Df Resid. Dev
NULL                                   5592     4921.9
proficiency            3     69.5      5589     4852.4
task                   4    132.9      5585     4719.5
proficiency:task      12     96.2      5573     4623.4
proficiency:learner    2     35.0      5571     4588.4
> contrasts(viet$proficiency, 1) <- contrasts(viet$proficiency)
> contrasts(viet$proficiency)
          .L
l -0.6708204
m -0.2236068
h  0.2236068
a  0.6708204
> fm2 <- glm(accuracy ~ proficiency * task + proficiency/learner, viet,
+   family = binomial())
> anova(fm2)
Analysis of Deviance Table

Model: binomial, link: logit

Response: accuracy

Terms added sequentially (first to last)


                      Df Deviance Resid. Df Resid. Dev
NULL                                   5592     4921.9
proficiency            3     69.5      5589     4852.4
task                   4    132.9      5585     4719.5
proficiency:task      12     96.2      5573     4623.4
proficiency:learner   -6     13.9      5579     4609.5

The degrees of freedom for proficiency should be 1, for
proficiency:task should be 4 and for proficiency:learner should be 4.

The coefficient count is correct.

--please do not edit the information below--

Version:
 platform = i386-pc-linux-gnu
 arch = i386
 os = linux-gnu
 system = i386, linux-gnu
 status = Under development (unstable)
 major = 1
 minor = 4.0
 year = 2001
 month = 11
 day = 28
 language = R

Search Path:
 .GlobalEnv, package:Devore5, package:ctest, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From cberry@tajo.ucsd.edu  Thu Nov 29 21:13:41 2001
From: cberry@tajo.ucsd.edu (cberry@tajo.ucsd.edu)
Date: Thu, 29 Nov 2001 22:13:41 +0100 (MET)
Subject: [Rd] rug(x) clip warning incorrect if par("xlog")==TRUE (PR#1188)
Message-ID: <200111292113.WAA15109@pubhealth.ku.dk>


To wit:

> plot(1:2,1:2,log="x")
> rug(1:2)      # should not warn
Warning message: 
some values will be clipped in: rug(1:2) 
> plot(1:2,1:2,log="x")
> rug(c(0,.1,.2))  # should warn, but does not
> 

I believe this fixes the problem:

% diff -c /tmp/orig.rug.R /tmp/cberry.rug.R 
*** /tmp/orig.rug.R	Thu Nov 29 12:59:00 2001
--- /tmp/cberry.rug.R	Thu Nov 29 12:57:50 2001
***************
*** 11,19 ****
      on.exit(par(oldcol), add = TRUE)
    }
    usr <- par("usr")
!   usr <- if (side%%2 == 1) 
!     usr[1:2]
!   else usr[3:4]
    if (any(x < usr[1] | x > usr[2])) 
      warning("some values will be clipped")
    axis(side, at = x, lab = FALSE, lwd = lwd)
--- 11,25 ----
      on.exit(par(oldcol), add = TRUE)
    }
    usr <- par("usr")
!   usr <- if (side%%2 == 1) {
!     if (par("xlog"))
!       10^(usr[1:2])
!     else usr[1:2]
!   }
!   else {
!     if (par("ylog"))
!       10^(usr[3:4])
!     else usr[3:4]}  
    if (any(x < usr[1] | x > usr[2])) 
      warning("some values will be clipped")
    axis(side, at = x, lab = FALSE, lwd = lwd)


Chuck

--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = 
 major = 1
 minor = 3.0
 year = 2001
 month = 06
 day = 22
 language = R

Search Path:
 .GlobalEnv, package:splines, package:survival, package:ctest, Autoloads,
package:base
> 


Charles C. Berry                        (858) 534-2098 
                                         Dept of Family/Preventive Medicine
E mailto:cberry@tajo.ucsd.edu	         UC San Diego
http://hacuna.ucsd.edu/members/ccb.html  La Jolla, San Diego 92093-0645

 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Fri Nov 30 08:55:19 2001
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Fri, 30 Nov 2001 09:55:19 +0100
Subject: [Rd] rug(x) clip warning incorrect if par("xlog")==TRUE (PR#1188)
In-Reply-To: <200111292113.WAA15109@pubhealth.ku.dk>
References: <200111292113.WAA15109@pubhealth.ku.dk>
Message-ID: <15367.18807.925583.406665@gargle.gargle.HOWL>

>>>>> "ChuckB" == Charles C Berry <cberry@tajo.ucsd.edu> writes:

    ChuckB> To wit:

    >> plot(1:2,1:2,log="x") rug(1:2) # should not warn
    ChuckB> Warning message: some values will be clipped in: rug(1:2)
    >> plot(1:2,1:2,log="x") rug(c(0,.1,.2)) # should warn, but does not
    >> 

    ChuckB> I believe this fixes the problem:

    ... [[ using par("xlog") etc ]]

yes, it does and I'm committing a patch for R 1.4
Thank you very much!

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Nov 30 10:04:29 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 30 Nov 2001 11:04:29 +0100 (MET)
Subject: [Rd] anova.glm and explicit contrast matrices (PR#1187)
Message-ID: <200111301004.LAA19672@pubhealth.ku.dk>

Quick workaround:

> fm2 <- glm(accuracy ~ proficiency * task + proficiency/learner, viet,
   family = binomial(), x=TRUE)
> anova(fm2)
Analysis of Deviance Table

Model: binomial, link: logit

Response: accuracy

Terms added sequentially (first to last)


                      Df Deviance Resid. Df Resid. Dev
NULL                                   5592     4921.9
proficiency            1     57.5      5591     4864.4
task                   4    131.7      5587     4732.6
proficiency:task       4     58.6      5583     4674.1
proficiency:learner    4     64.6      5579     4609.5

which looks more sensible.

The model matrix is being reconstructed incorrectly, hence the
discrepancies. I will look into that later.


On Thu, 29 Nov 2001 bates@stat.wisc.edu wrote:

> anova.glm does not calculate the degrees of freedom properly when an
> explicit contrast has been set on a factor and the contrast has fewer
> than (len(levels(thisfactor)) - 1) columns.
>
> > load("/p/stat/course/st849-bates/public/slides/figs/src/viet.rda")
> > fm1 <- glm(accuracy ~ proficiency * task + proficiency/learner, viet,
> +    family = binomial())
> > anova(fm1)
> Analysis of Deviance Table
>
> Model: binomial, link: logit
>
> Response: accuracy
>
> Terms added sequentially (first to last)
>
>
>                       Df Deviance Resid. Df Resid. Dev
> NULL                                   5592     4921.9
> proficiency            3     69.5      5589     4852.4
> task                   4    132.9      5585     4719.5
> proficiency:task      12     96.2      5573     4623.4
> proficiency:learner    2     35.0      5571     4588.4
> > contrasts(viet$proficiency, 1) <- contrasts(viet$proficiency)
> > contrasts(viet$proficiency)
>           .L
> l -0.6708204
> m -0.2236068
> h  0.2236068
> a  0.6708204
> > fm2 <- glm(accuracy ~ proficiency * task + proficiency/learner, viet,
> +   family = binomial())
> > anova(fm2)
> Analysis of Deviance Table
>
> Model: binomial, link: logit
>
> Response: accuracy
>
> Terms added sequentially (first to last)
>
>
>                       Df Deviance Resid. Df Resid. Dev
> NULL                                   5592     4921.9
> proficiency            3     69.5      5589     4852.4
> task                   4    132.9      5585     4719.5
> proficiency:task      12     96.2      5573     4623.4
> proficiency:learner   -6     13.9      5579     4609.5
>
> The degrees of freedom for proficiency should be 1, for
> proficiency:task should be 4 and for proficiency:learner should be 4.
>
> The coefficient count is correct.
>
> --please do not edit the information below--
>
> Version:
>  platform = i386-pc-linux-gnu
>  arch = i386
>  os = linux-gnu
>  system = i386, linux-gnu
>  status = Under development (unstable)
>  major = 1
>  minor = 4.0
>  year = 2001
>  month = 11
>  day = 28
>  language = R
>
> Search Path:
>  .GlobalEnv, package:Devore5, package:ctest, Autoloads, package:base
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Nov 30 10:54:02 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 30 Nov 2001 11:54:02 +0100 (MET)
Subject: [Rd] anova.glm and explicit contrast matrices (PR#1187)
Message-ID: <200111301054.LAA20310@pubhealth.ku.dk>

Now fixed (the bug was in model.matrix.default), and will commit once
I can get a clean test running on R-devel.

On Fri, 30 Nov 2001 ripley@stats.ox.ac.uk wrote:

> Quick workaround:
>
> > fm2 <- glm(accuracy ~ proficiency * task + proficiency/learner, viet,
>    family = binomial(), x=TRUE)
> > anova(fm2)
> Analysis of Deviance Table
>
> Model: binomial, link: logit
>
> Response: accuracy
>
> Terms added sequentially (first to last)
>
>
>                       Df Deviance Resid. Df Resid. Dev
> NULL                                   5592     4921.9
> proficiency            1     57.5      5591     4864.4
> task                   4    131.7      5587     4732.6
> proficiency:task       4     58.6      5583     4674.1
> proficiency:learner    4     64.6      5579     4609.5
>
> which looks more sensible.
>
> The model matrix is being reconstructed incorrectly, hence the
> discrepancies. I will look into that later.
>
>
> On Thu, 29 Nov 2001 bates@stat.wisc.edu wrote:
>
> > anova.glm does not calculate the degrees of freedom properly when an
> > explicit contrast has been set on a factor and the contrast has fewer
> > than (len(levels(thisfactor)) - 1) columns.
> >
> > > load("/p/stat/course/st849-bates/public/slides/figs/src/viet.rda")
> > > fm1 <- glm(accuracy ~ proficiency * task + proficiency/learner, viet,
> > +    family = binomial())
> > > anova(fm1)
> > Analysis of Deviance Table
> >
> > Model: binomial, link: logit
> >
> > Response: accuracy
> >
> > Terms added sequentially (first to last)
> >
> >
> >                       Df Deviance Resid. Df Resid. Dev
> > NULL                                   5592     4921.9
> > proficiency            3     69.5      5589     4852.4
> > task                   4    132.9      5585     4719.5
> > proficiency:task      12     96.2      5573     4623.4
> > proficiency:learner    2     35.0      5571     4588.4
> > > contrasts(viet$proficiency, 1) <- contrasts(viet$proficiency)
> > > contrasts(viet$proficiency)
> >           .L
> > l -0.6708204
> > m -0.2236068
> > h  0.2236068
> > a  0.6708204
> > > fm2 <- glm(accuracy ~ proficiency * task + proficiency/learner, viet,
> > +   family = binomial())
> > > anova(fm2)
> > Analysis of Deviance Table
> >
> > Model: binomial, link: logit
> >
> > Response: accuracy
> >
> > Terms added sequentially (first to last)
> >
> >
> >                       Df Deviance Resid. Df Resid. Dev
> > NULL                                   5592     4921.9
> > proficiency            3     69.5      5589     4852.4
> > task                   4    132.9      5585     4719.5
> > proficiency:task      12     96.2      5573     4623.4
> > proficiency:learner   -6     13.9      5579     4609.5
> >
> > The degrees of freedom for proficiency should be 1, for
> > proficiency:task should be 4 and for proficiency:learner should be 4.
> >
> > The coefficient count is correct.
> >
> > --please do not edit the information below--
> >
> > Version:
> >  platform = i386-pc-linux-gnu
> >  arch = i386
> >  os = linux-gnu
> >  system = i386, linux-gnu
> >  status = Under development (unstable)
> >  major = 1
> >  minor = 4.0
> >  year = 2001
> >  month = 11
> >  day = 28
> >  language = R
> >
> > Search Path:
> >  .GlobalEnv, package:Devore5, package:ctest, Autoloads, package:base
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
>
> --
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jmc@research.bell-labs.com  Fri Nov 30 15:12:15 2001
From: jmc@research.bell-labs.com (John Chambers)
Date: Fri, 30 Nov 2001 10:12:15 -0500
Subject: [Rd] New version of methods package
Message-ID: <3C07A1CF.36F9C171@research.bell-labs.com>

A new version of the package has been committed to the r-devel branch.

There are a lot of changes, mostly non-visible, many of those to tighten
up some possible problems.  For example, slot assignment now checks the
validity of the value being assigned, and basic classes cannot be
overriden.

There is a version of the promptClass function by Vince Carey, to
produce shell of documentation for a class.  (There is also a
promptMethods function to do the same for methods.)  One point to note
(it's a difference from Vince's original version) is that promptClass
and promptMethods produce alias's specialized for class and method
documentation.

For example, if you do promptClass("track"), the resulting file is
designed to produce help if the user types
  class?track
(In particular, this does not overwrite ordinary documentation for topic
"track".)

There is also some added general documentation on how things work; see
?Methods.  This will grow.

Also, the new version has a trial implementation of "congruent
arguments" for methods a la Dylan.  You can provide a method with only a
subset of the arguments of the generic.  The implication is that the
method is to be applied only if the omitted arguments are missing in the
actual call.  This notion is experimental (and not part of the API in
Programming with Data); we'll see if it works out.

John

-- 
John M. Chambers                  jmc@bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From A.Pout@macaulay.ac.uk  Fri Nov 30 17:52:34 2001
From: A.Pout@macaulay.ac.uk (A.Pout@macaulay.ac.uk)
Date: Fri, 30 Nov 2001 18:52:34 +0100 (MET)
Subject: [Rd] graphics device updating (PR#1189)
Message-ID: <200111301752.SAA25027@pubhealth.ku.dk>

Hi
problem:
     plot(xxx)
results in the graphics device window adding the axes values for what ever xxx is but failing to actually add lines or produce the plot until the consol window is activated and moved over the graphics window. The graphics window then shows what has been plotted. 
This started happening 4 days ago, up until that time plot(xxx) would produce the plot on the graphics device and update it as 'normal'. 
I have uninstalled and reinstalled R to no effect.

         _              
platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    3.1            
year     2001           
month    08             
day      31             
language R            

Many thanks for any ideas you might have on that

Alastair



Alastair Pout
PhD Student
The Macaulay Institute
Craigiebuckler
Aberdeen 
AB15 8QH
Tel: +(44) (0) 1224 498200 Ext 2428
e-mail: a.pout@macaulay.ac.uk



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Nov 30 18:02:57 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 30 Nov 2001 19:02:57 +0100 (MET)
Subject: [Rd] graphics device updating (PR#1189)
Message-ID: <200111301802.TAA25103@pubhealth.ku.dk>

On Fri, 30 Nov 2001 A.Pout@macaulay.ac.uk wrote:

> Hi
> problem:
>      plot(xxx)
> results in the graphics device window adding the axes values for what ever xxx is but failing to actually add lines or produce the plot until the consol window is activated and moved over the graphics window. The graphics window then shows what has been plotted.
> This started happening 4 days ago, up until that time plot(xxx) would produce the plot on the graphics device and update it as 'normal'.
> I have uninstalled and reinstalled R to no effect.
>
>          _
> platform i386-pc-mingw32
> arch     x86
> os       Win32
> system   x86, Win32
> status
> major    1
> minor    3.1
> year     2001
> month    08
> day      31
> language R
>
> Many thanks for any ideas you might have on that

This does not seem to be a reproducible bug, as defined in the FAQ.

Have you tried re-installing Windows?  Looks like something has corrupted
the graphics system on whatever Windows OS you have (and your report was
apparently not produced with bug.report on Windows, or it should have told
us).

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Nov  1 08:15:38 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 1 Nov 2001 09:15:38 +0100 (MET)
Subject: [Rd] strptime bug (PR#1155)
Message-ID: <200111010815.JAA22200@pubhealth.ku.dk>

On Wed, 31 Oct 2001, Rich Heiberger wrote:

> Where is the strptime bug happening?  I am seeing it on W95 W98 W2000
> running Rterm under ntemacs 21.1 with ESS 5.1.19 and using cygwin
> 2001/08/31 15:52:16 Starting cygwin install, version 2.78.2.3

It is happening on all glibc-based systems.  R on Windows uses glibc to
replace the missing functionality here.

> Is strptime using the bash from my system? or is it using functions
> that are included with R?

The second.

> R defaulted to 1900 when I didn't specify a year.  The 1990 came from
> the help(beav1).
>
> When I explicitly place a year in the file, either the 1990 inidcated
> in the help(beav1) file or the 1900 chosen to match the default, then
> R gives me times consistent with the input.

Yes, that's the bug.  According to the docs it should fail in all the
cases (which would be silly), but the code has at least two internal
logical mistakes.

It will be fixed in the next release.

> > tmp <- beav1[90:93,]
> > tmp
>    day time  temp activ
> 90 346 2340 36.93     0
> 91 346 2350 36.83     0
> 92 347    0 36.93     0
> 93 347   10 36.83     0
> > attach(tmp)
> > strptime(paste(day, time %/% 100, time %% 100), "%j %H %M")
> [1] "1900-01-01 23:40:00" "1900-01-01 23:50:00" "1900-01-01 00:00:00"
> [4] "1900-01-01 00:10:00"
> > strptime(paste(1900, day, time %/% 100, time %% 100), "%Y %j %H %M")
> [1] "1900-12-12 23:40:00" "1900-12-12 23:50:00" "1900-12-13 00:00:00"
> [4] "1900-12-13 00:10:00"
> > strptime(paste(1990, day, time %/% 100, time %% 100), "%Y %j %H %M")
> [1] "1990-12-12 23:40:00" "1990-12-12 23:50:00" "1990-12-13 00:00:00"
> [4] "1990-12-13 00:10:00"
> >
>
>
> Rich
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Nov  1 13:04:47 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 1 Nov 2001 13:04:47 +0000 (GMT)
Subject: [Rd] problem with help.start() in R (PR#1156)
In-Reply-To: <15328.19359.516985.522719@mithrandir.hornik.net>
Message-ID: <Pine.LNX.4.31.0111011258040.16868-100000@gannet.stats>

I tested Opera 5.0 under Linux (www.opera.com).  It worked with -remote
correctly.  What I did not get to work was the search engine, but I saw no
sign of Java support for Opera under Linux. (For Windows it is a separate
add-on.)

I've amended the documentation, but I do wonder if
help.start(browser="foo") should set options(browser="foo").

B

On Wed, 31 Oct 2001, Kurt Hornik wrote:

> >>>>> Dinh-Tuan Pham writes:
>
> > Prof Brian Ripley writes:
> >> On Wed, 31 Oct 2001 Dinh-Tuan.Pham@imag.fr wrote:
> >>
> >> >        The function help.start() assume that the brower is netscape
> >> > which is no longer the dominant brower in used. I am using now opera
> >>
> >> On what operating system is this?  On Unix/Linux you should be using
> >> options(browser="opera").  On Windows/Mac you can't set the browser
> >> anyway.
>
> > on Linux, actually
>
> >> > help.start(browser="opera"), but it is not convenience: I would like
> >> > to be able to set the default brwsernone for all. But the real bug is
> >> > that even after launching help.start(browser="opera"), other help
> >> > commands, help(help), say, still send the "help page" to netscape. Here
> >> > is what I get
> >> >
> >> > > help.start(browser="opera")
> >> > If opera  is already running,   it is *not* restarted,
> >> >  and you must switch to its window.
> >> > Otherwise, be patient..
> >> > > help(help)
> >> > help() for help  is shown in browser netscape ...
> >> > Use      help( help , htmlhelp=FALSE)
> >> > or       options(htmlhelp = FALSE)
> >> > to revert.
> >> > > sh: netscape: command not found
> >> >
> >> > Please correct this bug.
> >>
> >> I don't think it is a bug in R but I have expanded the documentation.
> >>
> >> Please do use the bug.report() function, as critical information is
> >> missing from this report.
>
> > I am sorry not having looked carefully on the documentation. But the
> > first thing I do is to launch help.start() and be stuck with an
> > inexistent browser. I have imagined that help.start(browser="opera")
> > would set the browser to opera, but I am wrong and the browser must be
> > set by options(browser="opera"), a feature which I am not aware of.
> > Nevertheless, I find this rather confusing for a new user: if
> > options(browser="opera") should always be used to set the browser,
> > then the argument browser="opera" in help.start would never be needed.
>
> The documentation issue may be unfortunate, but there is really no point
> unless we find browsers other than Netscape which can be controlled
> remotely.  I have been raising this issue a couple of times, last time
> about three months ago or so.  Mozilla then claimed to support -remote
> as Netscape does but really did not.  Konqueror does not allow being
> sent URLs remotely, and neither does gnome-help-browser.  Not sure about
> Opera ... do you have more info?
>
> -k
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Nov  1 16:25:16 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 1 Nov 2001 16:25:16 +0000 (GMT)
Subject: [Rd] problem with help.start() in R (PR#1156)
In-Reply-To: <Pine.LNX.4.31.0111011258040.16868-100000@gannet.stats>
Message-ID: <Pine.LNX.4.31.0111011624130.6232-100000@gannet.stats>

Follow-up: netscape 6.2 (announced on Tuesday) does support -remote, so
perhaps mozilla does now / will soon.

Brian


On Thu, 1 Nov 2001, Prof Brian Ripley wrote:

> I tested Opera 5.0 under Linux (www.opera.com).  It worked with -remote
> correctly.  What I did not get to work was the search engine, but I saw no
> sign of Java support for Opera under Linux. (For Windows it is a separate
> add-on.)
>
> I've amended the documentation, but I do wonder if
> help.start(browser="foo") should set options(browser="foo").
>
> B
>
> On Wed, 31 Oct 2001, Kurt Hornik wrote:
>
> > >>>>> Dinh-Tuan Pham writes:
> >
> > > Prof Brian Ripley writes:
> > >> On Wed, 31 Oct 2001 Dinh-Tuan.Pham@imag.fr wrote:
> > >>
> > >> >        The function help.start() assume that the brower is netscape
> > >> > which is no longer the dominant brower in used. I am using now opera
> > >>
> > >> On what operating system is this?  On Unix/Linux you should be using
> > >> options(browser="opera").  On Windows/Mac you can't set the browser
> > >> anyway.
> >
> > > on Linux, actually
> >
> > >> > help.start(browser="opera"), but it is not convenience: I would like
> > >> > to be able to set the default brwsernone for all. But the real bug is
> > >> > that even after launching help.start(browser="opera"), other help
> > >> > commands, help(help), say, still send the "help page" to netscape. Here
> > >> > is what I get
> > >> >
> > >> > > help.start(browser="opera")
> > >> > If opera  is already running,   it is *not* restarted,
> > >> >  and you must switch to its window.
> > >> > Otherwise, be patient..
> > >> > > help(help)
> > >> > help() for help  is shown in browser netscape ...
> > >> > Use      help( help , htmlhelp=FALSE)
> > >> > or       options(htmlhelp = FALSE)
> > >> > to revert.
> > >> > > sh: netscape: command not found
> > >> >
> > >> > Please correct this bug.
> > >>
> > >> I don't think it is a bug in R but I have expanded the documentation.
> > >>
> > >> Please do use the bug.report() function, as critical information is
> > >> missing from this report.
> >
> > > I am sorry not having looked carefully on the documentation. But the
> > > first thing I do is to launch help.start() and be stuck with an
> > > inexistent browser. I have imagined that help.start(browser="opera")
> > > would set the browser to opera, but I am wrong and the browser must be
> > > set by options(browser="opera"), a feature which I am not aware of.
> > > Nevertheless, I find this rather confusing for a new user: if
> > > options(browser="opera") should always be used to set the browser,
> > > then the argument browser="opera" in help.start would never be needed.
> >
> > The documentation issue may be unfortunate, but there is really no point
> > unless we find browsers other than Netscape which can be controlled
> > remotely.  I have been raising this issue a couple of times, last time
> > about three months ago or so.  Mozilla then claimed to support -remote
> > as Netscape does but really did not.  Konqueror does not allow being
> > sent URLs remotely, and neither does gnome-help-browser.  Not sure about
> > Opera ... do you have more info?
> >
> > -k
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
>
> --
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@nokomis.stat.umn.edu  Thu Nov  1 16:35:55 2001
From: luke@nokomis.stat.umn.edu (Luke Tierney)
Date: Thu, 1 Nov 2001 10:35:55 -0600
Subject: [Rd] problem with help.start() in R (PR#1156)
In-Reply-To: <Pine.LNX.4.31.0111011624130.6232-100000@gannet.stats>; from ripley@stats.ox.ac.uk on Thu, Nov 01, 2001 at 04:25:16PM +0000
References: <Pine.LNX.4.31.0111011258040.16868-100000@gannet.stats> <Pine.LNX.4.31.0111011624130.6232-100000@gannet.stats>
Message-ID: <20011101103555.A27017@nokomis.stat.umn.edu>

The Python web browrer stuff has a pointer to
http://developer.kde.org/documentation/other/kfmclient.html for info
on the Konquerer remote-control interface and uses

    def _remote(self, action):
        cmd = "kfmclient %s >/dev/null 2>&1" % action
        rc = os.system(cmd)
        if rc:
            import time
            if self.basename == "konqueror":
                os.system(self.name + " --silent &")
            else:
                os.system(self.name + " -d &")
            time.sleep(PROCESS_CREATION_DELAY)
            rc = os.system(cmd)
        return not rc

in case anyone wants to look into supporting Konqueror.

luke

On Thu, Nov 01, 2001 at 04:25:16PM +0000, Prof Brian Ripley wrote:
> Follow-up: netscape 6.2 (announced on Tuesday) does support -remote, so
> perhaps mozilla does now / will soon.
> 
> Brian
> 
> 
> On Thu, 1 Nov 2001, Prof Brian Ripley wrote:
> 
> > I tested Opera 5.0 under Linux (www.opera.com).  It worked with -remote
> > correctly.  What I did not get to work was the search engine, but I saw no
> > sign of Java support for Opera under Linux. (For Windows it is a separate
> > add-on.)
> >
> > I've amended the documentation, but I do wonder if
> > help.start(browser="foo") should set options(browser="foo").
> >
> > B
> >
> > On Wed, 31 Oct 2001, Kurt Hornik wrote:
> >
> > > >>>>> Dinh-Tuan Pham writes:
> > >
> > > > Prof Brian Ripley writes:
> > > >> On Wed, 31 Oct 2001 Dinh-Tuan.Pham@imag.fr wrote:
> > > >>
> > > >> >        The function help.start() assume that the brower is netscape
> > > >> > which is no longer the dominant brower in used. I am using now opera
> > > >>
> > > >> On what operating system is this?  On Unix/Linux you should be using
> > > >> options(browser="opera").  On Windows/Mac you can't set the browser
> > > >> anyway.
> > >
> > > > on Linux, actually
> > >
> > > >> > help.start(browser="opera"), but it is not convenience: I would like
> > > >> > to be able to set the default brwsernone for all. But the real bug is
> > > >> > that even after launching help.start(browser="opera"), other help
> > > >> > commands, help(help), say, still send the "help page" to netscape. Here
> > > >> > is what I get
> > > >> >
> > > >> > > help.start(browser="opera")
> > > >> > If opera  is already running,   it is *not* restarted,
> > > >> >  and you must switch to its window.
> > > >> > Otherwise, be patient..
> > > >> > > help(help)
> > > >> > help() for help  is shown in browser netscape ...
> > > >> > Use      help( help , htmlhelp=FALSE)
> > > >> > or       options(htmlhelp = FALSE)
> > > >> > to revert.
> > > >> > > sh: netscape: command not found
> > > >> >
> > > >> > Please correct this bug.
> > > >>
> > > >> I don't think it is a bug in R but I have expanded the documentation.
> > > >>
> > > >> Please do use the bug.report() function, as critical information is
> > > >> missing from this report.
> > >
> > > > I am sorry not having looked carefully on the documentation. But the
> > > > first thing I do is to launch help.start() and be stuck with an
> > > > inexistent browser. I have imagined that help.start(browser="opera")
> > > > would set the browser to opera, but I am wrong and the browser must be
> > > > set by options(browser="opera"), a feature which I am not aware of.
> > > > Nevertheless, I find this rather confusing for a new user: if
> > > > options(browser="opera") should always be used to set the browser,
> > > > then the argument browser="opera" in help.start would never be needed.
> > >
> > > The documentation issue may be unfortunate, but there is really no point
> > > unless we find browsers other than Netscape which can be controlled
> > > remotely.  I have been raising this issue a couple of times, last time
> > > about three months ago or so.  Mozilla then claimed to support -remote
> > > as Netscape does but really did not.  Konqueror does not allow being
> > > sent URLs remotely, and neither does gnome-help-browser.  Not sure about
> > > Opera ... do you have more info?
> > >
> > > -k
> > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > > r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> > > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> > >
> >
> > --
> > Brian D. Ripley,                  ripley@stats.ox.ac.uk
> > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > University of Oxford,             Tel:  +44 1865 272861 (self)
> > 1 South Parks Road,                     +44 1865 272860 (secr)
> > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke@stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossini@u.washington.edu  Thu Nov  1 16:40:03 2001
From: rossini@u.washington.edu (A.J. Rossini)
Date: 01 Nov 2001 08:40:03 -0800
Subject: [Rd] problem with help.start() in R (PR#1156)
In-Reply-To: <Pine.LNX.4.31.0111011624130.6232-100000@gannet.stats>
References: <Pine.LNX.4.31.0111011624130.6232-100000@gannet.stats>
Message-ID: <87ofmmmom4.fsf@jeeves.blindglobe.net>

>>>>> "BR" == Brian Ripley <Prof> writes:

    BR> Follow-up: netscape 6.2 (announced on Tuesday) does support
    BR> -remote, so perhaps mozilla does now / will soon.

rossini 54 > mozilla -remote "openurl(http://software/)"
rossini 56 > mozilla -version
Mozilla/5.0 (X11; U; Linux i686; en-US; rv:0.9.5) Gecko/20011023, build 2001102304
rossini 57 > 

So it does (0.9.5, from Debian/Sid), but the format is javascript-ish...

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini@u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini@scharp.org
-------------- http://software.biostat.washington.edu/ --------------
FHCRC: M-W: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   T-Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
Rosen: (Mullins' Lab) Fridays, and I'm unreachable except by email.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gml4410@ggr.co.uk  Thu Nov  1 17:30:41 2001
From: gml4410@ggr.co.uk (gml4410@ggr.co.uk)
Date: Thu, 1 Nov 2001 18:30:41 +0100 (MET)
Subject: [Rd] Update on report PR#1145 (with a cross-reference to PR#1026).
Message-ID: <200111011730.SAA02312@pubhealth.ku.dk>

   The original report was that compiling with gcc2.95.2 gcc and the
related g77 on Irix 6.,5.13 produced an R which wailed its tests with:

>> On entry to DGEMM  parameter number 1 had an illegal value

   To some extend this confused me, as the source only seems to mention
DGEMM in lowercase.  Eventually, after the debug code I added did
nothing, I realized that the R which was build was not using the
src/appl/blas.f source file: it was using the SGI libblas.

   My suspicion is that this is the cause.  The man page for this
mentions there is a C interface for dgemm but that it uses an enumerated
variable for the first 2 parameters in place of character strings.  I
thing things got mixed up somewhere along the line (perhaps with the
number of "_" appended to external symbils?).

   So, I tried configuring while adding "--without-blas" to the config  
options. This resulted in a SIGSEGV in the modreg test.  (See bug report
PR#1026, which also mentions this).

   So, a further try, this time using the compilers, cc anf f77 while  
still specifying "--without-blas" (so that the SGI libblas is ignored).

   This ran through the tests without crashing.  There were a few minor
differences in the print-tests output, but all at the "0 vs.  10**-300"
level, ie: floating point inaccuracies (which I presume are Ok and any
good statistician will ignore?).

==========
comparing `print-tests.Rout' to `./print-tests.Rout.save'
...259c259
< [1]  0.000000e+00 2.225074e-308 2.225074e-308 2.227299e-308
2.447581e-308
---
> [1] 2.002566e-308 2.222849e-308 2.225074e-308 2.225074e-308 2.225074e-308 2.2$
==========

   and 16 occurrences of:

==========
^H: syntax error
========== 
at the end.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Nov  1 17:47:16 2001
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 01 Nov 2001 12:47:16 -0500
Subject: [Rd] gcc 3.0.1 problems?
Message-ID: <3BE18AA4.586ED0A3@bank-banque-canada.ca>

It is very likely my system is messed up, but I mention this in the event that
others are having similar problems:

On Solaris  I am experiencing a segmentation fault when trying to load my
fortran .so code after I have compiled R with gcc 3.0.1, but not when I compile
with 2.95.2. (Both R 1.3.1 and R-devel.)

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Nov  1 17:57:22 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 1 Nov 2001 17:57:22 +0000 (GMT Standard Time)
Subject: [Rd] gcc 3.0.1 problems?
In-Reply-To: <3BE18AA4.586ED0A3@bank-banque-canada.ca>
Message-ID: <Pine.WNT.4.31.0111011755450.1332-100000@gannet>

On Thu, 1 Nov 2001, Paul Gilbert wrote:

> It is very likely my system is messed up, but I mention this in the event that
> others are having similar problems:
>
> On Solaris  I am experiencing a segmentation fault when trying to load my
> fortran .so code after I have compiled R with gcc 3.0.1, but not when I compile
> with 2.95.2. (Both R 1.3.1 and R-devel.)

I've build R and lots of packages on Solaris with 3.0.1 without any
problem.

BTW 3.0.2 is the current release (as of yesterday or so), and I've build
R with that too.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Timothy.Keitt@stonybrook.edu  Thu Nov  1 18:14:47 2001
From: Timothy.Keitt@stonybrook.edu (Timothy H. Keitt)
Date: Thu, 01 Nov 2001 13:14:47 -0500
Subject: [Rd] migration to common runtime?
Message-ID: <3BE19117.8060802@StonyBrook.Edu>

I'm curious if any of the core R developers have considered the 
possibility of hosting R (v2?) on the parrot common runtime environment. 
Perl6 will generate byte-code for parrot, as will some future version of 
python. I can imagine both drawbacks and advantages. Some advantages 
would be fast byte-code execution and freely mixing perl, python and R 
modules. Anyone looked into this?

Tim

-- 
Timothy H. Keitt
Department of Ecology and Evolution
State University of New York at Stony Brook
Stony Brook, New York 11794 USA
Phone: 631-632-1101, FAX: 631-632-7626
http://life.bio.sunysb.edu/ee/keitt/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@nokomis.stat.umn.edu  Thu Nov  1 18:34:00 2001
From: luke@nokomis.stat.umn.edu (Luke Tierney)
Date: Thu, 1 Nov 2001 12:34:00 -0600
Subject: [Rd] migration to common runtime?
In-Reply-To: <3BE19117.8060802@StonyBrook.Edu>; from Timothy.Keitt@stonybrook.edu on Thu, Nov 01, 2001 at 01:14:47PM -0500
References: <3BE19117.8060802@StonyBrook.Edu>
Message-ID: <20011101123400.A27523@nokomis.stat.umn.edu>

On Thu, Nov 01, 2001 at 01:14:47PM -0500, Timothy H. Keitt wrote:
> I'm curious if any of the core R developers have considered the 
> possibility of hosting R (v2?) on the parrot common runtime environment. 
> Perl6 will generate byte-code for parrot, as will some future version of 
> python. I can imagine both drawbacks and advantages. Some advantages 
> would be fast byte-code execution and freely mixing perl, python and R 
> modules. Anyone looked into this?
> 
> Tim
> 

Not specifically parrot (not sure I'd want to bet the farm on that
until it's a bit more mature), but the byte code compilation ideas
some of us have been looking at would be designed with multiple
runtime targets in mind, so that may well be an option to consider.

luke

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke@stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Nov  1 19:41:32 2001
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 01 Nov 2001 14:41:32 -0500
Subject: [Rd] Segmentation Fault
Message-ID: <3BE1A56C.609F7BF@bank-banque-canada.ca>

On Solaris, the example below sometimes, but not always, cause "bus Error - core
dumped" or "Segmentation Fault - core dumped" when I compile R 1.3.1 with gcc
3.0.1, but not when I compile with gcc 2.92.2.  There remains the probability
that my system is messed up, but I would appreciate if others could check
whether this gives a problem.

Paul Gilbert

zz <- t(matrix(c(
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.082008166, -0.066322053,
-0.115616348,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.038919428,  0.009703382,
0.115944209,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.007823026, -0.068859673,
0.025264756,
1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.067027108,  0.087934957,
-0.316974768,
0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.024890008,  0.052195412,
-0.015138322,
0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.028192857, -0.004832597,
0.207879665,
0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.078706928, -0.012801413,
0.425960682,
0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.102169750,  0.163238356,
-0.150373125,
0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.002685166,  0.014355904,
0.197912183,
0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0,  0.042937314,  0.115719388,
0.679370293,
0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0,  0.032306141,  0.263227910,
0.009171148,
0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0,  0.008238734, -0.031480706,
0.051976566,
0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0,  0.015219148,  0.221345314,
0.020146770,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0,  0.039741608,  0.092955553,
-0.262550823,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0,  0.012624418,  0.047810873,
0.201673308,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, -0.114163303,  0.417786916,
0.253110874,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0,  0.049894329, -0.155696562,
-0.049735728,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1,  0.006112607,  0.074242237,
0.034046467
), 18,18))

eigen(zz)$values


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kleiweg@let.rug.nl  Thu Nov  1 21:15:40 2001
From: kleiweg@let.rug.nl (Peter Kleiweg)
Date: Thu, 1 Nov 2001 22:15:40 +0100 (CET)
Subject: [Rd] Erratic behaviour of sammon()
Message-ID: <Pine.LNX.4.33.0111012154270.1143-100000@kleigh.nl>


I'm not sure this list is the right place for this thing.

I noticed some erratic behaviour in sammon(). Running sammon on
two nearly identical sets of data results in very different
results. Below is an example. I create an initial configuration
with cmdscale() and store it into 'vec1'. I write this to file,
and read it back in again to 'vec2'. According to cor() on the
three columns of 'vec1' and 'vec2', they are identical. However,
if I use sammon() with initialising from 'vec1' or 'vec2', I get
different results. (SAMMON() is a wrapper function).

This I did on a Linux machine (R version 1.3.1):

	> dst <- ReadDistFile("PA.lnk")
	Loading required package: mva
	> vec1 <- MDS(dst, 3)
	> WriteVectorFile(vec1, "outfile")
	> vec2 <- ReadVectorFile("outfile")
	> cor(vec1[,1], vec2[,1])
	[1] 1
	> cor(vec1[,2], vec2[,2])
	[1] 1
	> cor(vec1[,3], vec2[,3])
	[1] 1
	> v1 <- SAMMON(dst, 3, y=vec1)
	Loading required package: MASS
	Initial stress        : 0.20243
	stress after  10 iters: 0.11869, magic = 0.018
	stress after  20 iters: 0.07572, magic = 0.043
	stress after  30 iters: 0.05346, magic = 0.491
	stress after  40 iters: 0.04985, magic = 0.500
	stress after  50 iters: 0.04945, magic = 0.500
	stress after  60 iters: 0.04931, magic = 0.500
	stress after  70 iters: 0.04925, magic = 0.500
	> v2 <- SAMMON(dst, 3, y=vec2)
	Initial stress        : 0.20243
	stress after  10 iters: 0.11869, magic = 0.018
	stress after  20 iters: 0.07572, magic = 0.043
	stress after  30 iters: 0.05369, magic = 0.491
	stress after  30 iters: 0.05369
	> cor(v1[,1], v2[,1])
	[1] 0.958089
	> cor(v1[,2], v2[,2])
	[1] 0.979837
	> cor(v1[,3], v2[,3])
	[1] 0.9412055

I also tried it on HP-UX, and got different results again:

	> dst <- ReadDistFile("PA.lnk")
	Loading required package: mva
	> vec1 <- MDS(dst, 3)
	> WriteVectorFile(vec1, "outfile")
	> vec2 <- ReadVectorFile("outfile")
	> cor(vec1[,1], vec2[,1])
	[1] 1
	> cor(vec1[,2], vec2[,2])
	[1] 1
	> cor(vec1[,3], vec2[,3])
	[1] 1
	> v1 <- SAMMON(dst, 3, y=vec1)
	Loading required package: MASS
	Initial stress        : 0.20243
	stress after  10 iters: 0.11869, magic = 0.018
	stress after  20 iters: 0.07572, magic = 0.043
	stress after  28 iters: 0.06761
	> v2 <- SAMMON(dst, 3, y=vec2)
	Initial stress        : 0.20243
	stress after  10 iters: 0.11869, magic = 0.018
	stress after  20 iters: 0.07572, magic = 0.043
	stress after  30 iters: 0.06719, magic = 0.020
	stress after  40 iters: 0.06115, magic = 0.009
	stress after  50 iters: 0.05198, magic = 0.500
	stress after  60 iters: 0.04968, magic = 0.500
	stress after  70 iters: 0.04933, magic = 0.500
	stress after  80 iters: 0.04924, magic = 0.225
	> cor(v1[,1], v2[,1])
	[1] 0.9106865
	> cor(v1[,2], v2[,2])
	[1] 0.9727502
	> cor(v1[,3], v2[,3])
	[1] 0.9411287

I even tried compiling with gcc with and without optimisation,
and I got different results for exactly the same input (no
saving to file first).

So, I gather that sammon() is an unstable function, extremely
sensitive to the tiniest of variations. Is this inherent to the
sammon algorithm, or is there something wrong with how it is
implemented in R?

-- 
Peter Kleiweg
http://www.let.rug.nl/~kleiweg/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rolf@maths.uwa.edu.au  Fri Nov  2 01:44:05 2001
From: rolf@maths.uwa.edu.au (rolf@maths.uwa.edu.au)
Date: Fri, 2 Nov 2001 02:44:05 +0100 (MET)
Subject: [Rd] identify(...plot=F) (PR#1157)
Message-ID: <200111020144.CAA04490@pubhealth.ku.dk>


If I execute, e.g.

> x <- round(runif(20,0,1),2)
> y <- round(runif(20,0,1),2)
> plot(x,y,xlim=c(0,1),ylim=c(0,1))
> identify(x,y,n=1,plot=F)

then I get the index of the identified point printed in the command
window, and ***initially*** the index is NOT displayed in the
graphics window (which is the behaviour I had hoped and expected
to obtain by setting ``plot=F'').

BUT THEN if I lower and then raise the graphics window, poof!!!
the index appears, unwanted, in the plot.

I think a workaround is to issue the identify command as

> identify(x,y,n=1,col=0)

but still, shouldn't the function work as advertized?

Version information:

platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    3.1              
year     2001             
month    08               
day      31               
language R

                                cheers,

                                        Rolf Turner

Usual address:     rolf@math.unb.ca
Current address:   rolf@maths.uwa.edu.au

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Nov  2 08:09:38 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 2 Nov 2001 08:09:38 +0000 (GMT)
Subject: [Rd] Erratic behaviour of sammon()
In-Reply-To: <Pine.LNX.4.33.0111012154270.1143-100000@kleigh.nl>
Message-ID: <Pine.LNX.4.31.0111020806320.2198-100000@gannet.stats>

On Thu, 1 Nov 2001, Peter Kleiweg wrote:

> I'm not sure this list is the right place for this thing.

Nor am I, especially with the subject: it seems that it is repeatable from
what you actually reported.

> I noticed some erratic behaviour in sammon(). Running sammon on
> two nearly identical sets of data results in very different
> results. Below is an example. I create an initial configuration
> with cmdscale() and store it into 'vec1'. I write this to file,
> and read it back in again to 'vec2'. According to cor() on the
> three columns of 'vec1' and 'vec2', they are identical. However,
> if I use sammon() with initialising from 'vec1' or 'vec2', I get
> different results. (SAMMON() is a wrapper function).

[...]

> So, I gather that sammon() is an unstable function, extremely
> sensitive to the tiniest of variations. Is this inherent to the
> sammon algorithm, or is there something wrong with how it is
> implemented in R?

It is inherent to the Sammon algorithm, on some datasets.
There are lots of similar phenomena in real-life statistics away from
convex optimization problems.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Fri Nov  2 10:32:02 2001
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Fri, 2 Nov 2001 11:32:02 +0100
Subject: [Rd] problem with help.start() in R (PR#1156)
In-Reply-To: <87ofmmmom4.fsf@jeeves.blindglobe.net>
References: <Pine.LNX.4.31.0111011624130.6232-100000@gannet.stats>
 <87ofmmmom4.fsf@jeeves.blindglobe.net>
Message-ID: <15330.30242.985067.492142@gargle.gargle.HOWL>

>>>>> "tony" == A J Rossini <rossini@blindglobe.net> writes:

>>>>> "BR" == Brian Ripley <Prof> writes:
    BR> Follow-up: netscape 6.2 (announced on Tuesday) does support
    BR> -remote, so perhaps mozilla does now / will soon.

    tony> rossini 54 > mozilla -remote "openurl(http://software/)"
    tony> rossini 56 > mozilla -version
    tony> Mozilla/5.0 (X11; U; Linux i686; en-US; rv:0.9.5) Gecko/20011023, build 2001102304
    tony> rossini 57 > 

great!  thank you, Tony.

My Redhat 7.1 (+ newer(?) Ximian) mozilla version is also 5.0, two months
older than yours and does work the same.

    tony> So it does (0.9.5, from Debian/Sid), but the format is
    tony> javascript-ish...

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Dinh-Tuan.Pham@imag.fr  Fri Nov  2 12:44:05 2001
From: Dinh-Tuan.Pham@imag.fr (Dinh-Tuan.Pham@imag.fr)
Date: Fri, 2 Nov 2001 13:44:05 +0100
Subject: [Rd] problem with help.start() in R (PR#1156)
Message-ID: <15330.38165.699375.993226@guepard.imag.fr>

Prof Brian Ripley writes:
 > I tested Opera 5.0 under Linux (www.opera.com). It worked with -remote
 > correctly. What I did not get to work was the search engine, but I saw
 > no sign of Java support for Opera under Linux. (For Windows it is a
 > separate add-on.)

I rarely used R with remote display, so it is not a concern for me.
But indeed, there is no support for Java in Opera under Linux. I am not
aware that the search engine (in R ?) need Java support. Hopefully
this support will be added in later version of Opera.
 
 > I've amended the documentation, but I do wonder if
 > help.start(browser="foo") should set options(browser="foo").

My point is that if one launches help.start(browser="foo"), it means
that one would like to use foo as browser, so default browser should
be set to foo.

-- 
PHAM Dinh Tuan                         | e-mail: Dinh-Tuan.Pham@imag.fr
Laboratoire de Modelisation et Calcul  | Tel: +33 4 76 51 44 23
BP 53, 38041 Grenoble cedex 9 (France) | Fax: +33 4 76 63 12 63
-----------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Nov  2 13:05:03 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 2 Nov 2001 13:05:03 +0000 (GMT)
Subject: [Rd] problem with help.start() in R (PR#1156)
In-Reply-To: <15330.38165.699375.993226@guepard.imag.fr>
Message-ID: <Pine.LNX.4.31.0111021303020.7084-100000@gannet.stats>

On Fri, 2 Nov 2001 Dinh-Tuan.Pham@imag.fr wrote:

> Prof Brian Ripley writes:
>  > I tested Opera 5.0 under Linux (www.opera.com). It worked with -remote
>  > correctly. What I did not get to work was the search engine, but I saw
>  > no sign of Java support for Opera under Linux. (For Windows it is a
>  > separate add-on.)
>
> I rarely used R with remote display, so it is not a concern for me.

That's not what -remote is used for.  It allows you to open a file in an
already-running version of the browser.

> But indeed, there is no support for Java in Opera under Linux. I am not
> aware that the search engine (in R ?) need Java support. Hopefully
> this support will be added in later version of Opera.
>
>  > I've amended the documentation, but I do wonder if
>  > help.start(browser="foo") should set options(browser="foo").
>
> My point is that if one launches help.start(browser="foo"), it means
> that one would like to use foo as browser, so default browser should
> be set to foo.
>
> --
> PHAM Dinh Tuan                         | e-mail: Dinh-Tuan.Pham@imag.fr
> Laboratoire de Modelisation et Calcul  | Tel: +33 4 76 51 44 23
> BP 53, 38041 Grenoble cedex 9 (France) | Fax: +33 4 76 63 12 63
> -----------------------------------------------------------------------
>
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From andy_liaw@merck.com  Fri Nov  2 13:21:12 2001
From: andy_liaw@merck.com (Liaw, Andy)
Date: Fri, 02 Nov 2001 08:21:12 -0500
Subject: [Rd] Look, Watson!  La.svd & ATLAS
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC8350@usrymx10.merck.com>

Dear R-devel,

I had attempted to compile r-devel (dated Oct. 31, 2001) on WinNT with link
to ATLAS, with mostly success.  However, when I tried the following, I got a
visit from Dr. Watson:


R : Copyright 2001, The R Development Core Team
Version 1.4.0 Under development (unstable) (2001-10-31)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type `license()' or `licence()' for distribution details.

R is a collaborative project with many contributors.
Type `contributors()' for more information.

Type `demo()' for some demos, `help()' for on-line help, or
`help.start()' for a HTML browser interface to help.
Type `q()' to quit R.

> set.seed(1)
> x <- matrix(runif(1e4), 1e2, 1e2)
> invisible(La.svd(x))                         # This ran fine.
> x <- matrix(runif(1e5), 1e3, 1e2)
> invisible(La.svd(x))

(Dr. Watson says there's an access violation.)

So far La.svd is the only thing I know of that generates Dr. Watson.

The version info:
         _                           
platform i386-pc-mingw32             
arch     x86                         
os       Win32                       
system   x86, Win32                  
status   Under development (unstable)
major    1                           
minor    4.0                         
year     2001                        
month    10                          
day      31                          
language R                           

Other info:
Hardware: PIII 900MHz w/256mb ram (IBM ThinkPad T22)
ATLAS-3.2.1 compiled from source using cygwin (gcc 2.95.3-5), using default
setting for PIIISSE1
R-devel compiled with mingw gcc 2.95.3-6

Can anyone provide some hint?  Could it be that I just got a bad snapshot of
R-devel?

TIA,
Andy

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Fri Nov  2 14:27:01 2001
From: bates@stat.wisc.edu (Douglas Bates)
Date: 02 Nov 2001 08:27:01 -0600
Subject: [Rd] Look, Watson!  La.svd & ATLAS
In-Reply-To: <51F9C42DA15CD311BD220008C707D81903DC8350@usrymx10.merck.com>
References: <51F9C42DA15CD311BD220008C707D81903DC8350@usrymx10.merck.com>
Message-ID: <6rwv198czu.fsf@franz.stat.wisc.edu>

"Liaw, Andy" <andy_liaw@merck.com> writes:

> Dear R-devel,
> 
> I had attempted to compile r-devel (dated Oct. 31, 2001) on WinNT with link
> to ATLAS, with mostly success.  However, when I tried the following, I got a
> visit from Dr. Watson:
> 
> 
> R : Copyright 2001, The R Development Core Team
> Version 1.4.0 Under development (unstable) (2001-10-31)
> 
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type `license()' or `licence()' for distribution details.
> 
> R is a collaborative project with many contributors.
> Type `contributors()' for more information.
> 
> Type `demo()' for some demos, `help()' for on-line help, or
> `help.start()' for a HTML browser interface to help.
> Type `q()' to quit R.
> 
> > set.seed(1)
> > x <- matrix(runif(1e4), 1e2, 1e2)
> > invisible(La.svd(x))                         # This ran fine.
> > x <- matrix(runif(1e5), 1e3, 1e2)
> > invisible(La.svd(x))
> 
> (Dr. Watson says there's an access violation.)

I was able to run those examples without ill effects on an R-1.4.0
(development) (2001-10-30) with Atlas 3.2.1 on a Linux system (Debian
testing)

> set.seed(1)
> x <- matrix(runif(1e4), 1e2, 1e2)
> invisible(La.svd(x))
> x <- matrix(runif(1e5), 1e3, 1e2)
> invisible(La.svd(x))
> x <- matrix(runif(1e4), 1e2, 1e2)
> system.time(invisible(La.svd(x)))
[1] 0.04 0.00 0.04 0.00 0.00
> x <- matrix(runif(1e5), 1e3, 1e2)
> system.time(invisible(La.svd(x)))
[1] 1.15 0.01 2.39 0.00 0.00
> system.time(La.svd(x, nu = 0, nv = 0))
[1] 0.33 0.00 0.63 0.00 0.00
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jmc@research.bell-labs.com  Fri Nov  2 14:30:09 2001
From: jmc@research.bell-labs.com (John Chambers)
Date: Fri, 02 Nov 2001 09:30:09 -0500
Subject: [Rd] Changes to the methods package
Message-ID: <3BE2ADF1.FBD47E89@research.bell-labs.com>

I'm about to commit some changes to the methods package.  Before
downloading the revised code, note the following.

Because the changes involve a revised version of storage for the methods
definitions, you will need to re-install any packages that contain
method definitions, from their source code.  Otherwise the methods will
look as if they've disappeared from the generic functions.

The main changes:

- validObject has been added, so that validity methods can be included
in or added to class definitions, as described in the green book.  No
automatic validation yet, because we need to discuss when & how it would
be triggered.

- the as() mechanism has been entirely re-implemented to be closer to
the API in the book (and to have fewer bugs :-)).

- getClass() and new() are fussier about being handed undefined classes;
these usually generate an error now.

- getGenerics has been added, along with the arguments to showMethods
that use it to display methods for multiple generics and/or restricted
to certain classes.

John

-- 
John M. Chambers                  jmc@bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Dinh-Tuan.Pham@imag.fr  Fri Nov  2 14:44:59 2001
From: Dinh-Tuan.Pham@imag.fr (Dinh-Tuan.Pham@imag.fr)
Date: Fri, 2 Nov 2001 15:44:59 +0100
Subject: [Rd] problem with help.start() in R (PR#1156)
In-Reply-To: <Pine.LNX.4.31.0111021303020.7084-100000@gannet.stats>
References: <15330.38165.699375.993226@guepard.imag.fr>
 <Pine.LNX.4.31.0111021303020.7084-100000@gannet.stats>
Message-ID: <15330.45419.900439.976561@guepard.imag.fr>

Prof Brian Ripley writes:
 > >
 > > I rarely used R with remote display, so it is not a concern for me.
 > 
 > That's not what -remote is used for.  It allows you to open a file in an
 > already-running version of the browser.
 > 

Sorry for my confusion. As for opening a file (or URL) in a running
opera, it works.

Thank for your patience.

-- 
PHAM Dinh Tuan                         | e-mail: Dinh-Tuan.Pham@imag.fr
Laboratoire de Modelisation et Calcul  | Tel: +33 4 76 51 44 23
BP 53, 38041 Grenoble cedex 9 (France) | Fax: +33 4 76 63 12 63
-----------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Sat Nov  3 18:59:06 2001
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Sat, 03 Nov 2001 13:59:06 -0500
Subject: [Rd] Help with Windows build
Message-ID: <1rd8ut8h4vqmjc85v6jjsvkcl1lpdrdabn@4ax.com>

I'm trying to do a Windows build of Ray Brownrigg's port of the maps
library, and running into some problems.

There's a makefile for the shared library.  I suspect that I just need
to change that to get it right, and everything will build properly,
but I'm running into trouble.  Here's the original makefile, along
with my comments about changes:

>SRC= mapget.c mapproject.c thin.c
>OBJ= mapget.o mapproject.o thin.o
>CFLAGS=-I$${R_HOME}/include

The include directory changed to ${R_HOME}/src/include.

>#end machine-dependent stuff
>
>all: maps.so world.cities.s

maps.so changed to maps.dll

>        echo 'source("world.cities.s")' | R --nsize=512K --no-save

R changed to Rterm
>
>maps.so: $(OBJ) projections
>        R SHLIB -o maps.so maps_i.o $(OBJ) proj/*.o

maps.so changed to maps.dll.

This line is giving me the most trouble.  I suspect the problem is
that since proj/*.o is being expanded into 33 files, the command line
is too long for Windows.  Is there a way to build a DLL with lots of
files in it without causing problems?

Here's the error I get:

>>  making DLL
>>make[2]: Entering directory `/cygdrive/d/stuff/r/maps/src'
>>Rcmd SHLIB -o maps.dll maps_i.o mapget.o mapproject.o thin.o proj/*.o
>>Bad command or file name

When I leave off proj/*.o, I get a different error:

>>  making DLL
>>make[2]: Entering directory `/cygdrive/d/stuff/r/maps/src'
>>Rcmd SHLIB -o maps.dll maps_i.o mapget.o mapproject.o thin.o
>>make[3]: Entering directory `/cygdrive/d/stuff/R/maps/src'
>>Rcmd SHLIB -o maps.dll maps_i.o mapget.o mapproject.o thin.o
>>make[4]: Entering directory `/cygdrive/d/stuff/R/maps/src'
>>Rcmd SHLIB -o maps.dll maps_i.o mapget.o mapproject.o thin.o
>>make[5]: Entering directory `/cygdrive/d/stuff/R/maps/src'
>>Rcmd SHLIB -o maps.dll maps_i.o mapget.o mapproject.o thin.o
>>make[6]: Entering directory `/cygdrive/d/stuff/R/maps/src'
>>Rcmd SHLIB -o maps.dll maps_i.o mapget.o mapproject.o thin.o
>>make[7]: Entering directory `/cygdrive/d/stuff/R/maps/src'

Eventually this crashes.
>
>projections:
>        (cd proj; make)
>        touch projections

Any help would be appreciated!

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Nov  4 13:01:10 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 4 Nov 2001 14:01:10 +0100 (MET)
Subject: [Rd] Possible bug, Rprof() and scan(pipe()) (PR#1140)
Message-ID: <200111041301.OAA21775@pubhealth.ku.dk>

This does not happen on Solaris or Linux, so must be related to the use of
signals on darwin.

It probably means Rprof should be avoided on that platform, but the
porter (Jan de Leeuw) needs to investigate.


On Tue, 23 Oct 2001 macq@llnl.gov wrote:

> This looks like a bug?
> Unable to use scan(pipe()) while profiling.
> I have no idea whether this version of R violates the
>     "do not use `Rprof' in an executable built for profiling"
> warning in ?Rprof.
>
> Thanks
> -Don
>
> >  version
>           _
> platform powerpc-apple-darwin1.4
> arch     powerpc
> os       darwin1.4
> system   powerpc, darwin1.4
> status   Patched
> major    1
> minor    3.1
> year     2001
> month    10
> day      15
> language R
> >
> >  foo <- scan(pipe('ls -1 | head -3'),what='')
> Read 3 items
> >  foo
> [1] "README"      "RMfiles.dat" "RMfiles.tmp"
> >  Rprof()
> >  foo <- scan(pipe('ls -1 | head -3'),what='')
> Read 0 items
> >  foo
> character(0)
> >  Rprof(NULL)
> >  foo <- scan(pipe('ls -1 | head -3'),what='')
> Read 3 items
> >
>
> note, profiling does appear to be functional:
> >  Rprof() ; hist(rnorm(10000)) ; Rprof(NULL)
> >  system('R CMD Rprof Rprof.out')
>
> Each sample represents 0.02 seconds.
> Total run time: 0.1 seconds.
>
> Total seconds: time spent in function and callees.
> Self seconds: time spent in function alone.
>
>     %       total       %       self
>   total    seconds     self    seconds    name
> 100.00      0.10      0.00      0.00     "hist"
>   60.00      0.06      0.00      0.00     "hist.default"
>   40.00      0.04     40.00      0.04     "rnorm"
>   40.00      0.04      0.00      0.00     "plot"
>   40.00      0.04      0.00      0.00     "plot.histogram"
>   20.00      0.02      0.00      0.00     "storage.mode<-"
>   20.00      0.02     20.00      0.02     "X11"
>   20.00      0.02      0.00      0.00     "paste"
>   20.00      0.02      0.00      0.00     "rect"
>   20.00      0.02      0.00      0.00     "plot.new"
>   20.00      0.02     20.00      0.02     "seq.default"
>   20.00      0.02      0.00      0.00     "seq"
>   20.00      0.02     20.00      0.02     "par"
>
>     %       self        %       total
>   self     seconds    total    seconds    name
>   40.00      0.04     40.00      0.04     "rnorm"
>   20.00      0.02     20.00      0.02     "X11"
>   20.00      0.02     20.00      0.02     "seq.default"
>   20.00      0.02     20.00      0.02     "par"
>
> --
> --------------------------------------
> Don MacQueen
> Environmental Protection Department
> Lawrence Livermore National Laboratory
> Livermore, CA, USA
> --------------------------------------
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@nokomis.stat.umn.edu  Sun Nov  4 13:18:24 2001
From: luke@nokomis.stat.umn.edu (Luke Tierney)
Date: Sun, 4 Nov 2001 07:18:24 -0600
Subject: [Rd] Possible bug, Rprof() and scan(pipe()) (PR#1140)
In-Reply-To: <200111041301.OAA21775@pubhealth.ku.dk>; from ripley@stats.ox.ac.uk on Sun, Nov 04, 2001 at 02:01:10PM +0100
References: <200111041301.OAA21775@pubhealth.ku.dk>
Message-ID: <20011104071824.A10053@nokomis.stat.umn.edu>

This feels like a system call restarting issue.  Some OS's restart
system calls after signals, others do not. For those that don't, low
level reads need to check for EINTR and such.  Connections use high
level reads, which should be insulated by the stdio library.  Possibly
dawrin's gets this wrong.  If strace is available you might be able to
tell that way.

luke

On Sun, Nov 04, 2001 at 02:01:10PM +0100, ripley@stats.ox.ac.uk wrote:
> This does not happen on Solaris or Linux, so must be related to the use of
> signals on darwin.
> 
> It probably means Rprof should be avoided on that platform, but the
> porter (Jan de Leeuw) needs to investigate.
> 
> 
> On Tue, 23 Oct 2001 macq@llnl.gov wrote:
> 
> > This looks like a bug?
> > Unable to use scan(pipe()) while profiling.
> > I have no idea whether this version of R violates the
> >     "do not use `Rprof' in an executable built for profiling"
> > warning in ?Rprof.
> >
> > Thanks
> > -Don
> >
> > >  version
> >           _
> > platform powerpc-apple-darwin1.4
> > arch     powerpc
> > os       darwin1.4
> > system   powerpc, darwin1.4
> > status   Patched
> > major    1
> > minor    3.1
> > year     2001
> > month    10
> > day      15
> > language R
> > >
> > >  foo <- scan(pipe('ls -1 | head -3'),what='')
> > Read 3 items
> > >  foo
> > [1] "README"      "RMfiles.dat" "RMfiles.tmp"
> > >  Rprof()
> > >  foo <- scan(pipe('ls -1 | head -3'),what='')
> > Read 0 items
> > >  foo
> > character(0)
> > >  Rprof(NULL)
> > >  foo <- scan(pipe('ls -1 | head -3'),what='')
> > Read 3 items
> > >
> >
> > note, profiling does appear to be functional:
> > >  Rprof() ; hist(rnorm(10000)) ; Rprof(NULL)
> > >  system('R CMD Rprof Rprof.out')
> >
> > Each sample represents 0.02 seconds.
> > Total run time: 0.1 seconds.
> >
> > Total seconds: time spent in function and callees.
> > Self seconds: time spent in function alone.
> >
> >     %       total       %       self
> >   total    seconds     self    seconds    name
> > 100.00      0.10      0.00      0.00     "hist"
> >   60.00      0.06      0.00      0.00     "hist.default"
> >   40.00      0.04     40.00      0.04     "rnorm"
> >   40.00      0.04      0.00      0.00     "plot"
> >   40.00      0.04      0.00      0.00     "plot.histogram"
> >   20.00      0.02      0.00      0.00     "storage.mode<-"
> >   20.00      0.02     20.00      0.02     "X11"
> >   20.00      0.02      0.00      0.00     "paste"
> >   20.00      0.02      0.00      0.00     "rect"
> >   20.00      0.02      0.00      0.00     "plot.new"
> >   20.00      0.02     20.00      0.02     "seq.default"
> >   20.00      0.02      0.00      0.00     "seq"
> >   20.00      0.02     20.00      0.02     "par"
> >
> >     %       self        %       total
> >   self     seconds    total    seconds    name
> >   40.00      0.04     40.00      0.04     "rnorm"
> >   20.00      0.02     20.00      0.02     "X11"
> >   20.00      0.02     20.00      0.02     "seq.default"
> >   20.00      0.02     20.00      0.02     "par"
> >
> > --
> > --------------------------------------
> > Don MacQueen
> > Environmental Protection Department
> > Lawrence Livermore National Laboratory
> > Livermore, CA, USA
> > --------------------------------------
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke@stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Sun Nov  4 15:44:47 2001
From: edd@debian.org (Dirk Eddelbuettel)
Date: Sun, 4 Nov 2001 09:44:47 -0600
Subject: [Rd] Suggesting to have download.file() reflect a new option
Message-ID: <15333.25199.152800.194958@sonny.eddelbuettel.com>


The "auto" method of downloading a file cannot cope with a proxy firewall
requiring authentication. However, wget can handle this very easily (using
e.g. ~/.wgetrc).  While it is feasible to add the required
	 method="wget" 
to calls such as update.packages(), this approach is rather tedious and could
easily be controlled by use of a new option.

Below is a simple patch to download.file.R which, when no method is
specified, queries the (suggested) option download.file.method and sets it if
found; else the old default "auto" is used. The same patch can be applied to
windows/download.file.R.  I'd be happy to add a small patch to the
documentation of both download.file() and options() to complement this is the
patch is deemed acceptable.  

Regards,  Dirk


edd@sonny:~/debian/r-base-1.3.1> diff -u src/library/base/R/unix/download.file.R{.orig,}
--- src/library/base/R/unix/download.file.R.orig        Fri Apr 13 02:50:27 2001+++ src/library/base/R/unix/download.file.R     Sun Nov  4 09:27:47 2001
@@ -1,9 +1,12 @@
 download.file <- function(url, destfile, method,
                           quiet = FALSE, mode = "w")
 {
-    method <- if(missing(method)) "auto" else
-    match.arg(method,
-              c("auto", "internal", "wget", "lynx", "socket"))
+    method <- if (missing(method))
+      ifelse(!is.null(getOption("download.file.method")),
+             getOption("download.file.method"),
+             "auto")
+    else
+      match.arg(method, c("auto", "internal", "wget", "lynx", "socket"))
 
     if(method == "auto") {
         if(capabilities("http/ftp"))


-- 
Better to have an approximate answer to the right question 
than a precise answer to the wrong question. -- John Tukey
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Nov  4 15:48:25 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 4 Nov 2001 15:48:25 +0000 (GMT)
Subject: [Rd] Suggesting to have download.file() reflect a new option
In-Reply-To: <15333.25199.152800.194958@sonny.eddelbuettel.com>
Message-ID: <Pine.LNX.4.31.0111041547440.830-100000@gannet.stats>

Sounds very reasonable.  Please send me a patch file.

Brian

On Sun, 4 Nov 2001, Dirk Eddelbuettel wrote:

>
> The "auto" method of downloading a file cannot cope with a proxy firewall
> requiring authentication. However, wget can handle this very easily (using
> e.g. ~/.wgetrc).  While it is feasible to add the required
> 	 method="wget"
> to calls such as update.packages(), this approach is rather tedious and could
> easily be controlled by use of a new option.
>
> Below is a simple patch to download.file.R which, when no method is
> specified, queries the (suggested) option download.file.method and sets it if
> found; else the old default "auto" is used. The same patch can be applied to
> windows/download.file.R.  I'd be happy to add a small patch to the
> documentation of both download.file() and options() to complement this is the
> patch is deemed acceptable.
>
> Regards,  Dirk
>
>
> edd@sonny:~/debian/r-base-1.3.1> diff -u src/library/base/R/unix/download.file.R{.orig,}
> --- src/library/base/R/unix/download.file.R.orig        Fri Apr 13 02:50:27 2001+++ src/library/base/R/unix/download.file.R     Sun Nov  4 09:27:47 2001
> @@ -1,9 +1,12 @@
>  download.file <- function(url, destfile, method,
>                            quiet = FALSE, mode = "w")
>  {
> -    method <- if(missing(method)) "auto" else
> -    match.arg(method,
> -              c("auto", "internal", "wget", "lynx", "socket"))
> +    method <- if (missing(method))
> +      ifelse(!is.null(getOption("download.file.method")),
> +             getOption("download.file.method"),
> +             "auto")
> +    else
> +      match.arg(method, c("auto", "internal", "wget", "lynx", "socket"))
>
>      if(method == "auto") {
>          if(capabilities("http/ftp"))
>
>
> --
> Better to have an approximate answer to the right question
> than a precise answer to the wrong question. -- John Tukey
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Nov  5 08:47:59 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 5 Nov 2001 08:47:59 +0000 (GMT)
Subject: [Rd] round() doesnt (PR#1138)
In-Reply-To: <200110222231.f9MMViH22985@arbres1a.FMR.Com>
Message-ID: <Pine.LNX.4.31.0111050847180.7837-100000@gannet.stats>

On Mon, 22 Oct 2001, David Brahm wrote:

> Hi, all,
>
>    I swear, bug.report() ate my message!  Apologies to all, esp. Peter who
> will once again have to clean up after my mess...
>
>    The bug report was supposed to say:
>
> R> round(100000/3, -2) - 33300
>    [1] -7.275958e-12
>
> I would have hoped for 0.  The problem seems to be specifically for negative
> "digits".
> 			-- David Brahm (brahm@alum.mit.edu)

Fixed for R-devel.  Now for digits <=0 a final rounding to integer is done
in fround.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Mon Nov  5 14:28:15 2001
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Mon, 05 Nov 2001 09:28:15 -0500
Subject: [Rd] Setting NA from C code
Message-ID: <g28duto96jem4p73ts0l2rubaeek0s52gs@4ax.com>

In the maps library, NA's are inserted between polygons so lines() can
be used to draw all polygons at once.  The code to do it is like this:

            *x++ = NA_REAL;
            *y++ = NA_REAL;

where x and y are declared as 

	double *x, *y, *range;

and are the arguments passed in through a .C call.

However, the values show up in R as -6.62314033633867e-229 instead of
NA, so the drawing gets messed up.

Any suggestions as to what might be going wrong?

This is happening in Windows, using gcc 2.95.2, R source 1.3.1,
platform i386-pc-mingw32.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Nov  5 15:16:46 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 5 Nov 2001 15:16:46 +0000 (GMT)
Subject: [Rd] Setting NA from C code
In-Reply-To: <g28duto96jem4p73ts0l2rubaeek0s52gs@4ax.com>
Message-ID: <Pine.LNX.4.31.0111051458270.1438-100000@gannet.stats>

On Mon, 5 Nov 2001, Duncan Murdoch wrote:

> In the maps library, NA's are inserted between polygons so lines() can
> be used to draw all polygons at once.  The code to do it is like this:
>
>             *x++ = NA_REAL;
>             *y++ = NA_REAL;
>
> where x and y are declared as
>
> 	double *x, *y, *range;
>
> and are the arguments passed in through a .C call.
>
> However, the values show up in R as -6.62314033633867e-229 instead of
> NA, so the drawing gets messed up.
>
> Any suggestions as to what might be going wrong?

You are probably not importing R_NaReal, which is what NA_REAL is a macro
reference to.  That's the point of globalvars.h, which the standard
Makefile forces to be included.

This will not be needed from 1.4.0 on.

>
> This is happening in Windows, using gcc 2.95.2, R source 1.3.1,
> platform i386-pc-mingw32.
>
> Duncan Murdoch
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Mon Nov  5 15:07:42 2001
From: pgilbert@bank-banque-canada.ca (pgilbert@bank-banque-canada.ca)
Date: Mon, 5 Nov 2001 16:07:42 +0100 (MET)
Subject: [Rd] bug.report()sends empty message (PR#1158)
Message-ID: <200111051507.QAA03967@pubhealth.ku.dk>

This is a multi-part message in MIME format.
--------------FAC78F7B6BFECAD9BD873458
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

On Mon, 22 Oct 2001, David Brahm wrote:
>    I swear, bug.report() ate my message!  Apologies to all, esp. Peter who
> will once again have to clean up after my mess...

With some editors on Unix bug.report() does this. The problem is that
some editors (like Nedit) fork a separate process and return. The Unix
version of bug.report sends an empty message in this case. The fix is to
make the Unix version the same as the Windows version, with an optional
argument "wait".

Attached are four small files bug.report.R, bug.report.Rd, Sys.mail.R,
and Sys.mail.Rd, which attempt to fix the problem and the documentation.
They also separate out the mail mechanism as a utility that can be used
elsewhere. Unfortunately, I have only been able to test these on a
limited number of platforms.

Paul Gilbert

--------------FAC78F7B6BFECAD9BD873458
Content-Type: text/plain; charset=us-ascii;
 name="bug.report.R"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="bug.report.R"

bug.report <- function(subject = "", ccaddress = Sys.getenv("USER"),
                       method = getOption("mailer"),
                       address = "gilp",  #"r-bugs@r-project.org",
                       file = "R.bug.report",
		       wait=TRUE)
{
    methods <- c("mailx", "gnudoit", "none", "ess")

    method <-
	if(is.null(method)) "none"
	else methods[pmatch(method, methods)]

    body <- paste("\\n<<insert bug report here>>\\n\\n\\n\\n",
		  "--please do not edit the information below--\\n\\n",
		  "Version:\\n ",
		  paste(names(R.version),R.version, sep=" = ",collapse="\\n "),
		  "\\n\\n",
		  "Search Path:\\n ",
		  paste(search(), collapse=", "),
		  "\\n", sep="", collapse="")

    if(method == "gnudoit") {
	cmd <- paste("gnudoit -q '",
		     "(mail nil \"", address, "\")",
		     "(insert \"", body, "\")",
		     "(search-backward \"Subject:\")",
		     "(end-of-line)'",
		     sep="")
	system(cmd)
        if (wait) {
	  cat("Hit Return to continue in R. ")
	  answer <- readline()
        }
    }
    else if(method=="none"){

        disclaimer <-
            paste("# Your mailer is set to \"none\" (default on Windows),\n",
                  "# hence we cannot send the bug report directly from R.\n",
                  "# Please copy the bug report (after finishing it) to\n",
                  "# your favorite email program and send it to\n#\n",
                  "#       ", address, "\n#\n",
                  "######################################################\n",
                  "\n\n", sep = "")

        cat(disclaimer, file=file)
	body <- gsub("\\\\n", "\n", body)
	cat(body, file=file, append=TRUE)
	system(paste(getOption("editor"), file))
        cat("The unsent bug report can be found in file", file, "\n")
        if (wait) {
	  cat("Hit Return to continue in R. ")
	  answer <- readline()
        }
    }
    else if(method == "mailx"){

        if(missing(subject)) stop("Subject missing")

	body <- gsub("\\\\n", "\n", body)
	cat(body, file=file, append=FALSE)
	system(paste(getOption("editor"), file))
	
	if (wait) {
	  cat("Submit the bug report? (finish editing and save the file before responding) ")
	  answer <- readline()
	  answer <- grep("y", answer, ignore.case=TRUE)
	  if(length(answer)>0){
 	     body <- scan(file, what="char", sep="\n")
             cat("Sending email ...\n")
             status <- Sys.mail(address=address, ccaddress=ccaddress,
	                       subject=subject, body=body, method="mailx")
             if(!status) status <- Sys.mail(address=address, ccaddress=ccaddress,
	                       subject=subject, body=body, method="mail")
             if(!status) status <- Sys.mail(address=address, ccaddress=ccaddress,
	                       subject=subject, body=body, method="Mail")
             if(!status) {
                cat("Sending email failed!\n")
                cat("The unsent bug report can be found in file", file, "\n")
            }
	  }
        }
        else cat("The unsent bug report can be found in file", file, "\n")
    }
    else if(method=="ess"){
	body <- gsub("\\\\n", "\n", body)
	cat(body)
        if (wait) {
	  cat("Hit Return to continue in R. ")
	  answer <- readline()
        }
    }
}

--------------FAC78F7B6BFECAD9BD873458
Content-Type: text/plain; charset=us-ascii;
 name="bug.report.Rd"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="bug.report.Rd"

\name{bug.report}
\alias{bug.report}
\title{Send a Bug Report}
\usage{
bug.report(subject = "", ccaddress = Sys.getenv("USER"),
           method = getOption("mailer"), 
	   address = "r-bugs@r-project.org",
           file = "R.bug.report",
	   wait = TRUE)

}
\arguments{
  \item{subject}{Subject of the email. Please do not use single quotes
    (\code{'}) in the subject!}
  \item{ccaddress}{Optional email address for copies (default is current
    user).  Use \code{ccaddress = NULL} for no copies.}
  \item{method}{Submission method, one of \code{"mailx"},
    \code{"gnuclient"}, \code{"none"}, or \code{"ess"}.}
  \item{address}{Recipient's email address.}
  \item{file}{File to use for setting up the email (or storing it when
    method is \code{"none"} or sending mail fails).}
  \item{wait}{logical. Should \R wait for the editor to return?}
}
\description{
  Invokes an editor to write a bug report and optionally mail it to the
  r-bugs list at \email{r-bugs@r-project.org}.  Some standard
  information on the current version and configuration of \R are 
  included automatically.
}
\details{
  Currently direct submission of bug reports works only on Unix systems.
  If the submission method is \code{"mailx"}, then the default editor is
  used to write the bug report. Which editor is used can be controlled
  using \code{\link{options}}, type \code{getOption("editor")} to see what
  editor is currently defined. Please use the help pages of the
  respective editor for details of usage. After saving the bug report
  (in the temporary file opened) and exiting the editor
  the report is mailed using a Unix command line mail utility such as
  \code{mailx}.  A copy of the mail is sent to the current user.

  If method is \code{"gnuclient"}, then an emacs mail buffer is opened
  and used for sending the email.

  If method is \code{"none"} or \code{NULL} (which is the default on
  Windows systems), then only an editor is opened to help writing the
  bug report.  The report can then be copied to your favorite email
  program and be sent to the r-bugs list.

  If method is \code{"ess"} the body of the mail is simply sent to
  stdout.
  
  If wait is \code{"TRUE"} then \R issues a prompt after the editor is started
  and waits for input. If \R is sending the mail (e.g. with method
  code{"mailx"}) then wait should be \code{"TRUE"}. In this case the edited file
  must be saved before responding to the question.
}
\value{Nothing useful.}
\section{When is there a bug?}{
  If \R executes an illegal instruction, or dies with an operating
  system error message that indicates a problem in the program (as
  opposed to something like ``disk full''), then it is certainly a bug.

  Taking forever to complete a command can be a bug, but you must make
  certain that it was really \R's fault.  Some commands simply take a
  long time.  If the input was such that you KNOW it should have been
  processed quickly, report a bug.  If you don't know whether the
  command should take a long time, find out by looking in the manual or
  by asking for assistance.

  If a command you are familiar with causes an \R error message in a
  case where its usual definition ought to be reasonable, it is probably
  a bug.  If a command does the wrong thing, that is a bug.  But be sure
  you know for certain what it ought to have done.  If you aren't
  familiar with the command, or don't know for certain how the command
  is supposed to work, then it might actually be working right.  Rather
  than jumping to conclusions, show the problem to someone who knows for
  certain.

   Finally, a command's intended definition may not be best for
   statistical analysis.  This is a very important sort of problem, but
   it is also a matter of judgment.  Also, it is easy to come to such a
   conclusion out of ignorance of some of the existing features.  It is
   probably best not to complain about such a problem until you have
   checked the documentation in the usual ways, feel confident that you
   understand it, and know for certain that what you want is not
   available.  If you are not sure what the command is supposed to do
   after a careful reading of the manual this indicates a bug in the
   manual.  The manual's job is to make everything clear.  It is just as
   important to report documentation bugs as program bugs.

   If the online argument list of a function disagrees with the manual,
   one of them must be wrong, so report the bug.
}
\section{How to report a bug}{
  When you decide that there is a bug, it is important to report it and
  to report it in a way which is useful.  What is most useful is an
  exact description of what commands you type, from when you start \R
  until the problem happens.  Always include the version of \R, machine,
  and operating system that you are using; type `version' in \R to print
  this. 

  The most important principle in reporting a bug is to report FACTS,
  not hypotheses or categorizations.  It is always easier to report the
  facts, but people seem to prefer to strain to posit explanations and
  report them instead.  If the explanations are based on guesses about
  how \R is implemented, they will be useless; we will have to try to 
  figure out what the facts must have been to lead to such
  speculations.  Sometimes this is impossible.  But in any case, it is
  unnecessary work for us.

  For example, suppose that on a data set which you know to be quite
  large the command \code{data.frame(x, y, z, monday, tuesday)} never
  returns.  Do not report that \code{data.frame()} fails for large data
  sets.  Perhaps it fails when a variable name is a day of the week.  If
  this is so then when we got your report we would try out the
  \code{data.frame()} command on a large data set, probably with no day
  of the week variable name, and not see any problem. There is no way in
  the world that we could guess that we should try a day of the week
  variable name.

  Or perhaps the command fails because the last command you used was a
  \code{[} method that had a bug causing \R's internal data structures
  to be corrupted and making the \code{data.frame()} command fail from
  then on.  This is why we need to know what other commands you have
  typed (or read from your startup file).

  It is very useful to try and find simple examples that produce
  apparently the same bug, and somewhat useful to find simple examples
  that might be expected to produce the bug but actually do not.  If you
  want to debug the problem and find exactly what caused it, that is
  wonderful.  You should still report the facts as well as any
  explanations or solutions.

  Invoking \R with the \code{--vanilla} option may help in isolating a
  bug.  This ensures that the site profile and saved data files are not
  read.

  On some systems a bug report can be generated using the
  \code{bug.report()} function.  This automatically includes the version
  information and sends the bug to the correct address.  Alternatively
  the bug report can be emailed to \email{r-bugs@r-project.org} or
  submitted to the Web page at \url{http://bugs.r-project.org}.
}
\seealso{R FAQ, \code{link{Sys.mail}} }
\author{This help page is adapted from the Emacs manual}
\keyword{utilities}
\keyword{error}

--------------FAC78F7B6BFECAD9BD873458
Content-Type: text/plain; charset=us-ascii;
 name="Sys.mail.R"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="Sys.mail.R"

Sys.mail <- function(address = Sys.info()$user,
                     ccaddress  = NULL,
                     bccaddress = NULL,
		     subject    = NULL,
		     body= "no body",
                     method = getOption("mailer")) {
   if(!(is.character(address) && nchar(address)>0))
      stop("A character string address must be specified.")

   # The arguments to mail, mailx, and Mail are all the same, but a different
   # mailer will require that this first part be re-organized under the
   # specific method.
   file <- tempfile()
   on.exit(unlink(file))
   cat(body, file=file, append=FALSE, sep="\n")
   cmdargs <- paste(address, "<", file, "2>/dev/null")
	
   if(is.character(ccaddress) && nchar(ccaddress)>0) 
            cmdargs <- paste(" -c '", ccaddress, "' ",  cmdargs)

   if(is.character(bccaddress) && nchar(bccaddress)>0) 
            cmdargs <- paste(" -b '", bccaddress, "' ",  cmdargs)

   if(is.character(subject) && nchar(subject)>0) 
            cmdargs <- paste(" -s '", subject, "' ",  cmdargs)

   status <- 1
   if(method == "mailx") status <- system(paste("mailx", cmdargs)) else
   if(method == "mail")  status <- system(paste("mail", cmdargs))  else 
   if(method == "Mail")  status <- system(paste("Mail", cmdargs))  else {
	warning(paste("mail method ", method, " not supported.\n"))
	return(F)
	}
   if(status > 0) {
	warning(paste("sending email with ", method, " failed.\n"))
	return(F)
	}
   T
   }

--------------FAC78F7B6BFECAD9BD873458
Content-Type: text/plain; charset=us-ascii;
 name="Sys.mail.Rd"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="Sys.mail.Rd"

\name{Sys.mail}
\alias{Sys.mail}
\title{Send Mail}
\usage{
Sys.mail(address= Sys.info()$user, ccaddress = NULL, bccaddress = NULL,
           subject = NULL, body= "no body", method = getOption("mailer"))
}
\arguments{
  \item{address}{Recipient's email address. The default is the user name as
     indicated by \code{Sys.info()$user}, which will correspond to your 
     own email address on many systems.}
  \item{ccaddress}{Optional email address for copies. 
    Use \code{ccaddress = NULL} for no copies.}
  \item{bccaddress}{Optional email address for blind copies.
    Use \code{bccaddress = NULL} for no copies.}
  \item{subject}{Subject of the email. Please do not use single quotes
     in the subject!}
  \item{method}{Submission method, one of \code{"mailx"},
    \code{"mail"}, or \code{"Mail"}.}
  \item{body}{A vector of character, one line per element to place in the body
     of the email.}
}
\description{
  Use a system mail tool to send a message. Multiple recipients can be
  specified in any of the addresses by enclosing them in double (\code{"}) 
  quotes. Please do not use single (\code{'}) quotes.
  
  The body is a vector of character. Each element of body is written 
  as a line of the message body.
}
\details{
  Currently works only on Unix systems using "mailx", "mail" or "Mail". The mail
  tool needs to be found on your Unix search path.
}
\value{TRUE or FALSE indicating success or failure as returned by the operating
    system. (This does not indicate that the message was received at the 
    address.)}

\examples{
    \dontrun{Sys.mail(address="friends", subject="R", body="R is great")}
}
\seealso{\code{link{options}} }
\author{Paul Gilbert}
\keyword{utilities}


--------------FAC78F7B6BFECAD9BD873458--


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From macq@llnl.gov  Mon Nov  5 17:47:58 2001
From: macq@llnl.gov (macq@llnl.gov)
Date: Mon, 5 Nov 2001 18:47:58 +0100 (MET)
Subject: [Rd] Possible bug, Rprof() and scan(pipe()) (PR#1140)
Message-ID: <200111051747.SAA05634@pubhealth.ku.dk>

Jan,
Here is information on the problem with Rprof() that I encountered, 
including Brian Ripley's assessment.
This is OS X 10.1 with the 10.1 developer tools installed.
-Don

At 1:00 PM +0000 11/4/01, Prof Brian Ripley wrote:
>This does not happen on Solaris or Linux, so must be related to the use of
>signals on darwin.
>
>It probably means Rprof should be avoided on that platform, but the
>porter (Jan de Leeuw) needs to investigate.
>
>
>On Tue, 23 Oct 2001 macq@llnl.gov wrote:
>
>>  This looks like a bug?
>>  Unable to use scan(pipe()) while profiling.
>>  I have no idea whether this version of R violates the
>>      "do not use `Rprof' in an executable built for profiling"
>>  warning in ?Rprof.
>>
>>  Thanks
>>  -Don
>>
>>  >  version
>>            _
>>  platform powerpc-apple-darwin1.4
>>  arch     powerpc
>>  os       darwin1.4
>>  system   powerpc, darwin1.4
>>  status   Patched
>>  major    1
>>  minor    3.1
>>  year     2001
>>  month    10
>>  day      15
>>  language R
>>  >
>  > >  foo <- scan(pipe('ls -1 | head -3'),what='')
>>  Read 3 items
>>  >  foo
>>  [1] "README"      "RMfiles.dat" "RMfiles.tmp"
>>  >  Rprof()
>>  >  foo <- scan(pipe('ls -1 | head -3'),what='')
>>  Read 0 items
>>  >  foo
>>  character(0)
>>  >  Rprof(NULL)
>  > >  foo <- scan(pipe('ls -1 | head -3'),what='')
>>  Read 3 items
>>  >
>>
>>  note, profiling does appear to be functional:
>>  >  Rprof() ; hist(rnorm(10000)) ; Rprof(NULL)
>>  >  system('R CMD Rprof Rprof.out')
>  >
>>  Each sample represents 0.02 seconds.
>>  Total run time: 0.1 seconds.
>>
>>  Total seconds: time spent in function and callees.
>>  Self seconds: time spent in function alone.
>>
>>      %       total       %       self
>>    total    seconds     self    seconds    name
>>  100.00      0.10      0.00      0.00     "hist"
>>    60.00      0.06      0.00      0.00     "hist.default"
>>    40.00      0.04     40.00      0.04     "rnorm"
>>    40.00      0.04      0.00      0.00     "plot"
>>    40.00      0.04      0.00      0.00     "plot.histogram"
>>    20.00      0.02      0.00      0.00     "storage.mode<-"
>>    20.00      0.02     20.00      0.02     "X11"
>>    20.00      0.02      0.00      0.00     "paste"
>>    20.00      0.02      0.00      0.00     "rect"
>>    20.00      0.02      0.00      0.00     "plot.new"
>>    20.00      0.02     20.00      0.02     "seq.default"
>>    20.00      0.02      0.00      0.00     "seq"
>>    20.00      0.02     20.00      0.02     "par"
>>
>>      %       self        %       total
>>    self     seconds    total    seconds    name
>>    40.00      0.04     40.00      0.04     "rnorm"
>>    20.00      0.02     20.00      0.02     "X11"
>>    20.00      0.02     20.00      0.02     "seq.default"
>>    20.00      0.02     20.00      0.02     "par"
>>
>>  --
>>  --------------------------------------
>>  Don MacQueen
>>  Environmental Protection Department
>>  Lawrence Livermore National Laboratory
>>  Livermore, CA, USA
>>  --------------------------------------
>>
>> 
>>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>>  r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>>  Send "info", "help", or "[un]subscribe"
>>  (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
>> 
>>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>>
>
>--
>Brian D. Ripley,                  ripley@stats.ox.ac.uk
>Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>University of Oxford,             Tel:  +44 1865 272861 (self)
>1 South Parks Road,                     +44 1865 272860 (secr)
>Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jerome@hivnet.ubc.ca  Mon Nov  5 22:41:16 2001
From: jerome@hivnet.ubc.ca (jerome@hivnet.ubc.ca)
Date: Mon, 5 Nov 2001 23:41:16 +0100 (MET)
Subject: [Rd] stepwise algorithm step() on coxph() (PR#1159)
Message-ID: <200111052241.XAA06884@pubhealth.ku.dk>

Full_Name: Jerome Asselin
Version: 1.3.1
OS: MacOS 9.2
Submission from: (NULL) (142.103.173.46)



The step() function attempts to calculate the deviance of fitted models even if
does not really need it. As a consequence, the step() function gives an error
when it is used with coxph(). (There is currently no method to calculate the
deviance of coxph() fits.) The code below gives an example of how the deviance
is not necessary (at least for the default parameters of step()). Note that the
deviance does not seem necessary even for linear models (lm()).

#########################
library(survival)

set.seed(3)

#Create a fake dataset
y <- rgamma(10,1)
x1 <- rnorm(10)
x2 <- rnorm(10)
x3 <- rnorm(10)

step(coxph(Surv(y) ~ x1+x2+x3)) #Gives an error
step(lm(y ~ x1+x2+x3))
step(glm(y ~ x1+x2+x3))
step(aov(y ~ x1+x2+x3))

#Mask the deviance() function (Temporary patch??)
deviance <- function(...) NA

step(coxph(Surv(y) ~ x1+x2+x3)) #Gives no error
step(lm(y ~ x1+x2+x3)) #Same result as before
step(glm(y ~ x1+x2+x3))#Same result as before
step(aov(y ~ x1+x2+x3))#Same result as before

rm(deviance)


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Nov  6 08:17:34 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 6 Nov 2001 09:17:34 +0100 (MET)
Subject: [Rd] stepwise algorithm step() on coxph() (PR#1159)
Message-ID: <200111060817.JAA08689@pubhealth.ku.dk>

This is not an error.  Nobody said step would work with coxph models.
The help page says

  object: an object representing a model of an appropriate class. This
          is used as the initial model in the stepwise search.

and you are jumping to conclusions.  I've added a note to the help file.

There is an extractAIC.coxph method for use with stepAIC in package MASS.
That does work in your example.

I had a report about multinom fits and step() recently: same answer, it is
stepAIC that works, not step.

Think of step() as minimal implementation to provide some compatibility
with that in S (which only offers lm and glm methods).  And as step() in S
works with deviances, the compatibility function does too.


On Mon, 5 Nov 2001 jerome@hivnet.ubc.ca wrote:

> Full_Name: Jerome Asselin
> Version: 1.3.1
> OS: MacOS 9.2
> Submission from: (NULL) (142.103.173.46)
>
>
>
> The step() function attempts to calculate the deviance of fitted models even if
> does not really need it. As a consequence, the step() function gives an error
> when it is used with coxph(). (There is currently no method to calculate the
> deviance of coxph() fits.) The code below gives an example of how the deviance
> is not necessary (at least for the default parameters of step()). Note that the
> deviance does not seem necessary even for linear models (lm()).
>
> #########################
> library(survival)
>
> set.seed(3)
>
> #Create a fake dataset
> y <- rgamma(10,1)
> x1 <- rnorm(10)
> x2 <- rnorm(10)
> x3 <- rnorm(10)
>
> step(coxph(Surv(y) ~ x1+x2+x3)) #Gives an error
> step(lm(y ~ x1+x2+x3))
> step(glm(y ~ x1+x2+x3))
> step(aov(y ~ x1+x2+x3))
>
> #Mask the deviance() function (Temporary patch??)
> deviance <- function(...) NA
>
> step(coxph(Surv(y) ~ x1+x2+x3)) #Gives no error
> step(lm(y ~ x1+x2+x3)) #Same result as before
> step(glm(y ~ x1+x2+x3))#Same result as before
> step(aov(y ~ x1+x2+x3))#Same result as before
>
> rm(deviance)
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Tue Nov  6 09:59:19 2001
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Tue, 6 Nov 2001 10:59:19 +0100
Subject: [Rd] beware of  sapply(x, data.class) == "numeric"
Message-ID: <15335.46199.765625.257344@gargle.gargle.HOWL>

This is just a warning/hint to others; package/function writers in
particular : 

The `cluster' package (originally S-plus from Rousseeuw et al) currently 
has code such as

	## check type of input matrix
	if((!is.data.frame(x) && !is.numeric(x)) ||
	   !all(sapply(x, data.class) == "numeric"))
	    stop("x is not a numeric dataframe or matrix.")
	x <- data.matrix(x)

This was naver quite correct (see below), but with the 
new (R-devel or R-1.4.0) behavior of  read.table() becomes "fatal".
The new read.table() behavior does easily return data.frame()s with integer
component vectors {which is nice; among others, half memory!}.
such that the above test fails.

I think I have seen the ``idiom'' 

  all(sapply(x, data.class) == "numeric")

in other places too, so beware!  In most cases, this probably should be

  all(sapply(x, data.class) %in% c("numeric","integer","logical"))

A better alternative in most cases would be something like

  { x <- data.matrix(x);  is.numeric(x) || is.logical(x) }


Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From luke@nokomis.stat.umn.edu  Tue Nov  6 12:18:07 2001
From: luke@nokomis.stat.umn.edu (Luke Tierney)
Date: Tue, 6 Nov 2001 06:18:07 -0600
Subject: [Rd] change in save file format
Message-ID: <20011106061807.A20192@nokomis.stat.umn.edu>

The development verison now uses a new save file format.  The previous
format used through R 1.3.1 can still be read and can also be written
by sypplying an explicit version argument to save().  The new format
supports saving some new internal types, reduces the size of saved
code files, and forms the basis for a more flexible serialization
mechanism. A C interface to this mechanism, which should be considered
experimental and subject to change, is available in the devel version.
An (even more) experimental R interface is described in notes
available from developer.r-project.org (search for serialization).

luke

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke@stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From andy_liaw@merck.com  Tue Nov  6 15:17:55 2001
From: andy_liaw@merck.com (Liaw, Andy)
Date: Tue, 06 Nov 2001 10:17:55 -0500
Subject: R-devel & ATLAS generates Dr. Watson on NT (was RE: [Rd] Look,
 Wa	tson! La.svd & ATLAS)
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC8368@usrymx10.merck.com>

Prof. Bates & R-devel,

I've done more test with the following results:

I have two versions of ATLAS 3.2.1.  One was compiled on my old Thinkpad
600E (PII), the other was compiled on my new Thinkpad T22 (PIIISSE1).

I compiled R-devel dated 10/31, 11/01 and 11/04, linked against either of
the two ATLAS libs.  All gave Dr. Watson when given this code:

  La.svd(matrix(runif(1e5), 1e3, 1e2))

(There's no problem with smaller matrices, say 100x100.)

When compiled without ATLAS, the above code ran fine in all three R-devel's.

I tried R-1.3.1 with both ATLAS libs, and both ran fine.

Any ideas on what could be wrong?  Seems like R-devel doesn't like ATLAS, at
least on WinNT...

Regards,
Andy


-----Original Message-----
From: Douglas Bates [mailto:bates@stat.wisc.edu]
Sent: Friday, November 02, 2001 9:27 AM
To: Liaw, Andy
Cc: 'r-devel@stat.math.ethz.ch'
Subject: Re: [Rd] Look, Watson! La.svd & ATLAS


"Liaw, Andy" <andy_liaw@merck.com> writes:

> Dear R-devel,
> 
> I had attempted to compile r-devel (dated Oct. 31, 2001) on WinNT with
link
> to ATLAS, with mostly success.  However, when I tried the following, I got
a
> visit from Dr. Watson:
> 
> 
> R : Copyright 2001, The R Development Core Team
> Version 1.4.0 Under development (unstable) (2001-10-31)
> 
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type `license()' or `licence()' for distribution details.
> 
> R is a collaborative project with many contributors.
> Type `contributors()' for more information.
> 
> Type `demo()' for some demos, `help()' for on-line help, or
> `help.start()' for a HTML browser interface to help.
> Type `q()' to quit R.
> 
> > set.seed(1)
> > x <- matrix(runif(1e4), 1e2, 1e2)
> > invisible(La.svd(x))                         # This ran fine.
> > x <- matrix(runif(1e5), 1e3, 1e2)
> > invisible(La.svd(x))
> 
> (Dr. Watson says there's an access violation.)

I was able to run those examples without ill effects on an R-1.4.0
(development) (2001-10-30) with Atlas 3.2.1 on a Linux system (Debian
testing)

> set.seed(1)
> x <- matrix(runif(1e4), 1e2, 1e2)
> invisible(La.svd(x))
> x <- matrix(runif(1e5), 1e3, 1e2)
> invisible(La.svd(x))
> x <- matrix(runif(1e4), 1e2, 1e2)
> system.time(invisible(La.svd(x)))
[1] 0.04 0.00 0.04 0.00 0.00
> x <- matrix(runif(1e5), 1e3, 1e2)
> system.time(invisible(La.svd(x)))
[1] 1.15 0.01 2.39 0.00 0.00
> system.time(La.svd(x, nu = 0, nv = 0))
[1] 0.33 0.00 0.63 0.00 0.00
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Nov  6 15:25:16 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 6 Nov 2001 15:25:16 +0000 (GMT)
Subject: R-devel & ATLAS generates Dr. Watson on NT (was RE: [Rd] Look,
 Wa tson! La.svd & ATLAS)
In-Reply-To: <51F9C42DA15CD311BD220008C707D81903DC8368@usrymx10.merck.com>
Message-ID: <Pine.LNX.4.31.0111061520390.22427-100000@gannet.stats>

On Tue, 6 Nov 2001, Liaw, Andy wrote:

> I've done more test with the following results:
>
> I have two versions of ATLAS 3.2.1.  One was compiled on my old Thinkpad
> 600E (PII), the other was compiled on my new Thinkpad T22 (PIIISSE1).
>
> I compiled R-devel dated 10/31, 11/01 and 11/04, linked against either of
> the two ATLAS libs.  All gave Dr. Watson when given this code:
>
>   La.svd(matrix(runif(1e5), 1e3, 1e2))
>
> (There's no problem with smaller matrices, say 100x100.)
>
> When compiled without ATLAS, the above code ran fine in all three R-devel's.
>
> I tried R-1.3.1 with both ATLAS libs, and both ran fine.
>
> Any ideas on what could be wrong?  Seems like R-devel doesn't like ATLAS, at
> least on WinNT...

I have no idea.  Quite possible though.  As we no longer have an active
Windows maintainer, it's down to you.  (Very little testing has been done
on Windows since 1.3.1 was released.)  You need to build a debug version
and look at the dump with gdb to start to debug the problem.

It's not realistic to expect R-devel to work on minority platforms all the
time.  These days it is unrealistic to expect much support on Windows
at all.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From janef@stat.berkeley.edu  Tue Nov  6 18:19:49 2001
From: janef@stat.berkeley.edu (janef@stat.berkeley.edu)
Date: Tue, 6 Nov 2001 19:19:49 +0100 (MET)
Subject: [Rd] incorrect xlim error message in image() (PR#1160)
Message-ID: <200111061819.TAA17688@pubhealth.ku.dk>


Hi,

I am having problem with R misinterpreting (x,y) values in image(). I
downloaded the followiing binary version of R:

> version
         _
platform i686-pc-linux-gnu
arch     i686
os       linux-gnu
system   i686, linux-gnu
status
major    1
minor    3.0
year     2001
month    06
day      22
language R
> q()
[janef@cc-jainlabx1 Poster.tahoe]$ gcc -v
Reading specs from /usr/lib/gcc-lib/i386-redhat-linux/2.96/specs
gcc version 2.96 20000731 (Red Hat Linux 7.1 2.96-81)

Here is the transcript of an example:


_______________________________________

x1 <- c(6.564103,
13.77149,13.7715,21.66154,21.82564,26.21374,30.85128,31.0055,31.01538,32.33805,3
3.14872,37.42195,47.92451,54.3179,58.90297,60.55385,84.56862,100.0862,111.2681,1
94,194.4878,195.8302)

x2 <-
c(0,0.002242152,0.004484305,0.006726457,0.00896861,0.01121076,0.01345291,0.01569
507,0.01793722,0.02017937,0.02242152,0.02466368,0.02690583,0.02914798,0.03139013
,0.03363229,0.03587444,0.03811659,0.04035874,0.04932735,0.05156951,0.05381166)

y <- 1

z <-
c(0,0.067,NA,0.167,0.083,0.05,0.067,NA,0,0.1,0,0.05,0.067,0.067,0.016,0.117,0.01
7,-0.017,0.2,0.35,0.134,0.15)

z_matrix(z, length(z),1)
image(x2, y, z)
Error in image(as.double(x), as.double(y), as.integer(zi), col) :
        invalid x / y values or limits

image(x2[1:20], y, as.matrix(z[1:20,]))

"OK"

image(x1, y, z)
Error in image(as.double(x), as.double(y), as.integer(zi), col) :
        invalid x / y values or limits

image(x1[1:20], y, as.matrix(z[1:20,]))
Error in image(as.double(x), as.double(y), as.integer(zi), col) :
        invalid x / y values or limits

________________________________________

Jason Turner (jasont@indigoindustrial.co.nz) had been kindly helping me
with figureing it out and he sugegstedd that it's a bug and sent me the
following email:

_____________________


For giggles, I tweaked plot3d.c to track where the error occured.  The diff
output is:

!!!THIS PATCH IS A BUG TRACE, NOT A BUG FIX!!!
--PATCH BEGINS --
1518a1519
>     fprintf(stderr,"test 1\n");
1519a1521
>     fprintf(stderr,"test 2\n");
1520a1523
>     fprintf(stderr,"test 3\n");
1522,1524c1525,1542
<     for (i = 1; i < nx; i++)
<       if (!R_FINITE(x[i]) || x[i] <= x[i - 1]) goto badxy;
<     for (j = 1; j < ny; j++)
---
>     fprintf(stderr,"test 4\n");
>     for (i = 1; i < nx; i++) {
>     for (i = 1; i < nx; i++) {
>         fprintf(stderr,"test 4 - %d\n",i);
>       if (!R_FINITE(x[i]) || x[i] <= x[i - 1]) {
>               if(!R_FINITE(x[i])) {
>                       fprintf(stderr,"not a finite number\n");
>               } else if( x[i] <= x[i-1]) {
>                       fprintf(stderr,"x[%d] <= x[%d]\n",i,i-1);
>                       fprintf(stderr,"%f <= %f\n",x[i],x[i-1]);
>               } else {
>                       fprintf(stderr,"now it looks fine\n");
>               }
>               goto badxy;
>       }
>     }
>     fprintf(stderr,"test 5\n");
>     for (j = 1; j < ny; j++){
>         fprintf(stderr,"test 5 - %d\n",j);
1525a1544
>     }
--PATCH ENDS--

Your transcript session with the tweaked plot3d:

> x1 <- c(6.564103,
13.77149,13.7715,21.66154,21.82564,26.21374,30.85128,31.0055,31.01538,32.33805,3
3.14872,37.42195,47.92451,54.3179,58.90297,60.55385,84.56862,100.0862,111.2681,1
94,194.4878,195.8302)
>
> x2 <-
c(0,0.002242152,0.004484305,0.006726457,0.00896861,0.01121076,0.01345291,0.01569
507,0.01793722,0.02017937,0.02242152,0.02466368,0.02690583,0.02914798,0.03139013
,0.03363229,0.03587444,0.03811659,0.04035874,0.04932735,0.05156951,0.05381166)
>
> y <- 1
>
> z <-
c(0,0.067,NA,0.167,0.083,0.05,0.067,NA,0,0.1,0,0.05,0.067,0.067,0.016,0.117,0.01
7,-0.017,0.2,0.35,0.134,0.15)
>
> z_matrix(z, length(z),1)
>
> image(x2, y, z)
test 1
test 2
test 3
test 4
test 4 - 1
test 4 - 2
test 4 - 3
test 4 - 4
test 4 - 5
test 4 - 6
test 4 - 7
test 4 - 8
test 4 - 9
test 4 - 10
test 4 - 11
test 4 - 12
test 4 - 13
test 4 - 14
test 4 - 15
test 4 - 16
test 4 - 17
test 4 - 18
test 4 - 19
test 4 - 20
test 4 - 21
x[21] <= x[20]
0.052691 <= 0.053812
Error in image(as.double(x), as.double(y), as.integer(zi), col) :
        invalid x / y values or limits
> ## x[20] and x[21] correspond to x2[21] and x2[22]
> x2[21:22]
[1] 0.05156951 0.05381166
> ## nb - x2[22] has same value as x[20] ???
> q()

Looks like some serious confusion over the value of numbers. Or I'm
seriously confused about they way R's main components handle arrays. Note
that my system also passed make check (before I tweaked plot3d.c).

___________________________

Thank you for all your help.

Sincerily, Jane



**************************************************************************************
Jane Fridlyand, Ph.D., Bioinformatics Scientist
UCSF Cancer Center, Box 0128 San Francisco, CA 94143-0128
Office: Room N412 Tel: (415)514-3302 Fax: (415)502-3179
**************************************************************************************

---------- Forwarded message ----------
Date: Fri, 2 Nov 2001 20:32:23 +1300
From: Jason Turner <jasont@indigoindustrial.co.nz>
To: Jane Fridlyand <janef@stat.Berkeley.EDU>
Subject: Re: image function

Jane,

When you've got the information about your system ("version" output
and binary/source+compiler+make check info), sent that to
r-bugs@r-project.org, along with the transcript below.  Do not copy
r-help into that letter; those who monitor r-bugs also watch r-help,
and they dislike duplicate messages even more than the rest of us
(becuase they get so many).  I found this out the hard way ;-)
Give it a nice description, such as "incorrect xlim error message
in image()", and you'll make their job even easier.

For giggles, I tweaked plot3d.c to track where the error occured (I
can never remember how to make gdb work when I need it).  The diff
output is:


!!!THIS PATCH IS A BUG TRACE, NOT A BUG FIX!!!
--PATCH BEGINS --
1518a1519
>     fprintf(stderr,"test 1\n");
1519a1521
>     fprintf(stderr,"test 2\n");
1520a1523
>     fprintf(stderr,"test 3\n");
1522,1524c1525,1542
<     for (i = 1; i < nx; i++)
< 	if (!R_FINITE(x[i]) || x[i] <= x[i - 1]) goto badxy;
<     for (j = 1; j < ny; j++)
---
>     fprintf(stderr,"test 4\n");
>     for (i = 1; i < nx; i++) {
>         fprintf(stderr,"test 4 - %d\n",i);
> 	if (!R_FINITE(x[i]) || x[i] <= x[i - 1]) {
> 		if(!R_FINITE(x[i])) {
> 			fprintf(stderr,"not a finite number\n");
> 		} else if( x[i] <= x[i-1]) {
> 			fprintf(stderr,"x[%d] <= x[%d]\n",i,i-1);
> 			fprintf(stderr,"%f <= %f\n",x[i],x[i-1]);
> 		} else {
> 			fprintf(stderr,"now it looks fine\n");
> 		}
> 		goto badxy;
> 	}
>     }
>     fprintf(stderr,"test 5\n");
>     for (j = 1; j < ny; j++){
>         fprintf(stderr,"test 5 - %d\n",j);
1525a1544
>     }
--PATCH ENDS--

Your transcript session with the tweaked plot3d:

R : Copyright 2001, The R Development Core Team
Version 1.3.1  (2001-08-31)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type `license()' or `licence()' for distribution details.

R is a collaborative project with many contributors.
Type `contributors()' for more information.

Type `demo()' for some demos, `help()' for on-line help, or
`help.start()' for a HTML browser interface to help.
Type `q()' to quit R.

> x1 <- c(6.564103, 13.77149,13.7715,21.66154,21.82564,26.21374,30.85128,31.0055,31.01538,32.33805,33.14872,37.42195,47.92451,54.3179,58.90297,60.55385,84.56862,100.0862,111.2681,194,194.4878,195.8302)
>
> x2 <- c(0,0.002242152,0.004484305,0.006726457,0.00896861,0.01121076,0.01345291,0.01569507,0.01793722,0.02017937,0.02242152,0.02466368,0.02690583,0.02914798,0.03139013,0.03363229,0.03587444,0.03811659,0.04035874,0.04932735,0.05156951,0.05381166)
>
> y <- 1
>
> z <- c(0,0.067,NA,0.167,0.083,0.05,0.067,NA,0,0.1,0,0.05,0.067,0.067,0.016,0.117,0.017,-0.017,0.2,0.35,0.134,0.15)
>
> z_matrix(z, length(z),1)
>
> image(x2, y, z)
test 1
test 2
test 3
test 4
test 4 - 1
test 4 - 2
test 4 - 3
test 4 - 4
test 4 - 5
test 4 - 6
test 4 - 7
test 4 - 8
test 4 - 9
test 4 - 10
test 4 - 11
test 4 - 12
test 4 - 13
test 4 - 14
test 4 - 15
test 4 - 16
test 4 - 17
test 4 - 18
test 4 - 19
test 4 - 20
test 4 - 21
x[21] <= x[20]
0.052691 <= 0.053812
Error in image(as.double(x), as.double(y), as.integer(zi), col) :
	invalid x / y values or limits
> ## x[20] and x[21] correspond to x2[21] and x2[22]
> x2[21:22]
[1] 0.05156951 0.05381166
> ## nb - x2[22] has same value as x[20] ???
> q()

Looks like some serious confusion over the value of numbers.
Or I'm seriously confused about they way R's main components
handle arrays (which is probably true in any case ;-).
Note that my system also passed make check (before I tweaked
plot3d.c).

Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont@indigoindustrial.co.nz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Nov  6 19:56:54 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 6 Nov 2001 20:56:54 +0100 (MET)
Subject: [Rd] incorrect xlim error message in image() (PR#1160)
Message-ID: <200111061956.UAA18065@pubhealth.ku.dk>

1) that was not the error message, and it is not the actual error, either.
Please don't guess here: it helps immensely to have accurate subjects.

2)  I don't think this is a very good way to use image. You are
specifying the midpoints of an uneven sequence: it makes a lot more sense
to specify the break points.

3) You don't need to go to C code here: just run debug(image.default)

4) There was a bug in the algorithm to find the breakpoints from the
midpoints.   I am about to fix it.


On Tue, 6 Nov 2001 janef@stat.berkeley.edu wrote:

>
> Hi,
>
> I am having problem with R misinterpreting (x,y) values in image(). I
> downloaded the followiing binary version of R:
>
> > version
>          _
> platform i686-pc-linux-gnu
> arch     i686
> os       linux-gnu
> system   i686, linux-gnu
> status
> major    1
> minor    3.0
> year     2001
> month    06
> day      22
> language R
> > q()
> [janef@cc-jainlabx1 Poster.tahoe]$ gcc -v
> Reading specs from /usr/lib/gcc-lib/i386-redhat-linux/2.96/specs
> gcc version 2.96 20000731 (Red Hat Linux 7.1 2.96-81)
>
> Here is the transcript of an example:
>
>
> _______________________________________
>
> x1 <- c(6.564103,
> 13.77149,13.7715,21.66154,21.82564,26.21374,30.85128,31.0055,31.01538,32.33805,3
> 3.14872,37.42195,47.92451,54.3179,58.90297,60.55385,84.56862,100.0862,111.2681,1
> 94,194.4878,195.8302)
>
> x2 <-
> c(0,0.002242152,0.004484305,0.006726457,0.00896861,0.01121076,0.01345291,0.01569
> 507,0.01793722,0.02017937,0.02242152,0.02466368,0.02690583,0.02914798,0.03139013
> ,0.03363229,0.03587444,0.03811659,0.04035874,0.04932735,0.05156951,0.05381166)
>
> y <- 1
>
> z <-
> c(0,0.067,NA,0.167,0.083,0.05,0.067,NA,0,0.1,0,0.05,0.067,0.067,0.016,0.117,0.01
> 7,-0.017,0.2,0.35,0.134,0.15)
>
> z_matrix(z, length(z),1)
> image(x2, y, z)
> Error in image(as.double(x), as.double(y), as.integer(zi), col) :
>         invalid x / y values or limits
>
> image(x2[1:20], y, as.matrix(z[1:20,]))
>
> "OK"
>
> image(x1, y, z)
> Error in image(as.double(x), as.double(y), as.integer(zi), col) :
>         invalid x / y values or limits
>
> image(x1[1:20], y, as.matrix(z[1:20,]))
> Error in image(as.double(x), as.double(y), as.integer(zi), col) :
>         invalid x / y values or limits
>
> ________________________________________
>
> Jason Turner (jasont@indigoindustrial.co.nz) had been kindly helping me
> with figureing it out and he sugegstedd that it's a bug and sent me the
> following email:
>
> _____________________
>
>
> For giggles, I tweaked plot3d.c to track where the error occured.  The diff
> output is:
>
> !!!THIS PATCH IS A BUG TRACE, NOT A BUG FIX!!!
> --PATCH BEGINS --
> 1518a1519
> >     fprintf(stderr,"test 1\n");
> 1519a1521
> >     fprintf(stderr,"test 2\n");
> 1520a1523
> >     fprintf(stderr,"test 3\n");
> 1522,1524c1525,1542
> <     for (i = 1; i < nx; i++)
> <       if (!R_FINITE(x[i]) || x[i] <= x[i - 1]) goto badxy;
> <     for (j = 1; j < ny; j++)
> ---
> >     fprintf(stderr,"test 4\n");
> >     for (i = 1; i < nx; i++) {
> >     for (i = 1; i < nx; i++) {
> >         fprintf(stderr,"test 4 - %d\n",i);
> >       if (!R_FINITE(x[i]) || x[i] <= x[i - 1]) {
> >               if(!R_FINITE(x[i])) {
> >                       fprintf(stderr,"not a finite number\n");
> >               } else if( x[i] <= x[i-1]) {
> >                       fprintf(stderr,"x[%d] <= x[%d]\n",i,i-1);
> >                       fprintf(stderr,"%f <= %f\n",x[i],x[i-1]);
> >               } else {
> >                       fprintf(stderr,"now it looks fine\n");
> >               }
> >               goto badxy;
> >       }
> >     }
> >     fprintf(stderr,"test 5\n");
> >     for (j = 1; j < ny; j++){
> >         fprintf(stderr,"test 5 - %d\n",j);
> 1525a1544
> >     }
> --PATCH ENDS--
>
> Your transcript session with the tweaked plot3d:
>
> > x1 <- c(6.564103,
> 13.77149,13.7715,21.66154,21.82564,26.21374,30.85128,31.0055,31.01538,32.33805,3
> 3.14872,37.42195,47.92451,54.3179,58.90297,60.55385,84.56862,100.0862,111.2681,1
> 94,194.4878,195.8302)
> >
> > x2 <-
> c(0,0.002242152,0.004484305,0.006726457,0.00896861,0.01121076,0.01345291,0.01569
> 507,0.01793722,0.02017937,0.02242152,0.02466368,0.02690583,0.02914798,0.03139013
> ,0.03363229,0.03587444,0.03811659,0.04035874,0.04932735,0.05156951,0.05381166)
> >
> > y <- 1
> >
> > z <-
> c(0,0.067,NA,0.167,0.083,0.05,0.067,NA,0,0.1,0,0.05,0.067,0.067,0.016,0.117,0.01
> 7,-0.017,0.2,0.35,0.134,0.15)
> >
> > z_matrix(z, length(z),1)
> >
> > image(x2, y, z)
> test 1
> test 2
> test 3
> test 4
> test 4 - 1
> test 4 - 2
> test 4 - 3
> test 4 - 4
> test 4 - 5
> test 4 - 6
> test 4 - 7
> test 4 - 8
> test 4 - 9
> test 4 - 10
> test 4 - 11
> test 4 - 12
> test 4 - 13
> test 4 - 14
> test 4 - 15
> test 4 - 16
> test 4 - 17
> test 4 - 18
> test 4 - 19
> test 4 - 20
> test 4 - 21
> x[21] <= x[20]
> 0.052691 <= 0.053812
> Error in image(as.double(x), as.double(y), as.integer(zi), col) :
>         invalid x / y values or limits
> > ## x[20] and x[21] correspond to x2[21] and x2[22]
> > x2[21:22]
> [1] 0.05156951 0.05381166
> > ## nb - x2[22] has same value as x[20] ???
> > q()
>
> Looks like some serious confusion over the value of numbers. Or I'm
> seriously confused about they way R's main components handle arrays. Note
> that my system also passed make check (before I tweaked plot3d.c).
>
> ___________________________
>
> Thank you for all your help.
>
> Sincerily, Jane
>
>
>
> **************************************************************************************
> Jane Fridlyand, Ph.D., Bioinformatics Scientist
> UCSF Cancer Center, Box 0128 San Francisco, CA 94143-0128
> Office: Room N412 Tel: (415)514-3302 Fax: (415)502-3179
> **************************************************************************************
>
> ---------- Forwarded message ----------
> Date: Fri, 2 Nov 2001 20:32:23 +1300
> From: Jason Turner <jasont@indigoindustrial.co.nz>
> To: Jane Fridlyand <janef@stat.Berkeley.EDU>
> Subject: Re: image function
>
> Jane,
>
> When you've got the information about your system ("version" output
> and binary/source+compiler+make check info), sent that to
> r-bugs@r-project.org, along with the transcript below.  Do not copy
> r-help into that letter; those who monitor r-bugs also watch r-help,
> and they dislike duplicate messages even more than the rest of us
> (becuase they get so many).  I found this out the hard way ;-)
> Give it a nice description, such as "incorrect xlim error message
> in image()", and you'll make their job even easier.
>
> For giggles, I tweaked plot3d.c to track where the error occured (I
> can never remember how to make gdb work when I need it).  The diff
> output is:
>
>
> !!!THIS PATCH IS A BUG TRACE, NOT A BUG FIX!!!
> --PATCH BEGINS --
> 1518a1519
> >     fprintf(stderr,"test 1\n");
> 1519a1521
> >     fprintf(stderr,"test 2\n");
> 1520a1523
> >     fprintf(stderr,"test 3\n");
> 1522,1524c1525,1542
> <     for (i = 1; i < nx; i++)
> < 	if (!R_FINITE(x[i]) || x[i] <= x[i - 1]) goto badxy;
> <     for (j = 1; j < ny; j++)
> ---
> >     fprintf(stderr,"test 4\n");
> >     for (i = 1; i < nx; i++) {
> >         fprintf(stderr,"test 4 - %d\n",i);
> > 	if (!R_FINITE(x[i]) || x[i] <= x[i - 1]) {
> > 		if(!R_FINITE(x[i])) {
> > 			fprintf(stderr,"not a finite number\n");
> > 		} else if( x[i] <= x[i-1]) {
> > 			fprintf(stderr,"x[%d] <= x[%d]\n",i,i-1);
> > 			fprintf(stderr,"%f <= %f\n",x[i],x[i-1]);
> > 		} else {
> > 			fprintf(stderr,"now it looks fine\n");
> > 		}
> > 		goto badxy;
> > 	}
> >     }
> >     fprintf(stderr,"test 5\n");
> >     for (j = 1; j < ny; j++){
> >         fprintf(stderr,"test 5 - %d\n",j);
> 1525a1544
> >     }
> --PATCH ENDS--
>
> Your transcript session with the tweaked plot3d:
>
> R : Copyright 2001, The R Development Core Team
> Version 1.3.1  (2001-08-31)
>
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type `license()' or `licence()' for distribution details.
>
> R is a collaborative project with many contributors.
> Type `contributors()' for more information.
>
> Type `demo()' for some demos, `help()' for on-line help, or
> `help.start()' for a HTML browser interface to help.
> Type `q()' to quit R.
>
> > x1 <- c(6.564103, 13.77149,13.7715,21.66154,21.82564,26.21374,30.85128,31.0055,31.01538,32.33805,33.14872,37.42195,47.92451,54.3179,58.90297,60.55385,84.56862,100.0862,111.2681,194,194.4878,195.8302)
> >
> > x2 <- c(0,0.002242152,0.004484305,0.006726457,0.00896861,0.01121076,0.01345291,0.01569507,0.01793722,0.02017937,0.02242152,0.02466368,0.02690583,0.02914798,0.03139013,0.03363229,0.03587444,0.03811659,0.04035874,0.04932735,0.05156951,0.05381166)
> >
> > y <- 1
> >
> > z <- c(0,0.067,NA,0.167,0.083,0.05,0.067,NA,0,0.1,0,0.05,0.067,0.067,0.016,0.117,0.017,-0.017,0.2,0.35,0.134,0.15)
> >
> > z_matrix(z, length(z),1)
> >
> > image(x2, y, z)
> test 1
> test 2
> test 3
> test 4
> test 4 - 1
> test 4 - 2
> test 4 - 3
> test 4 - 4
> test 4 - 5
> test 4 - 6
> test 4 - 7
> test 4 - 8
> test 4 - 9
> test 4 - 10
> test 4 - 11
> test 4 - 12
> test 4 - 13
> test 4 - 14
> test 4 - 15
> test 4 - 16
> test 4 - 17
> test 4 - 18
> test 4 - 19
> test 4 - 20
> test 4 - 21
> x[21] <= x[20]
> 0.052691 <= 0.053812
> Error in image(as.double(x), as.double(y), as.integer(zi), col) :
> 	invalid x / y values or limits
> > ## x[20] and x[21] correspond to x2[21] and x2[22]
> > x2[21:22]
> [1] 0.05156951 0.05381166
> > ## nb - x2[22] has same value as x[20] ???
> > q()
>
> Looks like some serious confusion over the value of numbers.
> Or I'm seriously confused about they way R's main components
> handle arrays (which is probably true in any case ;-).
> Note that my system also passed make check (before I tweaked
> plot3d.c).
>
> Cheers
>
> Jason
> --
> Indigo Industrial Controls Ltd.
> 64-21-343-545
> jasont@indigoindustrial.co.nz
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From murdoch@stats.uwo.ca  Tue Nov  6 21:25:07 2001
From: murdoch@stats.uwo.ca (Duncan Murdoch)
Date: Tue, 06 Nov 2001 16:25:07 -0500
Subject: [Rd] Bug(?) in Makefile.win
Message-ID: <k2lgutclvb1tbvmmd65u5isitu874c7oou@4ax.com>

I'm working on a package that will need a separate makefile for
Windows.  However, I'm finding that when I rename the Makefile to
Makefile.win, it stops working.  (I suspect at least 3 differences so
far:  the code to convert .a libraries to a .dll doesn't work, and
some macros like $(CP) and $(RANLIB) don't exist.)

I'd like to submit a bug report, but I want to be sure this isn't "as
designed" first.  

1.  Should Makefile.win and Makefile perform identically on Windows?

2.  Where do I go to find where Makefile.win gets invoked, to see if I
can spot why there'd be a difference?

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Nov  6 22:08:46 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 6 Nov 2001 22:08:46 +0000 (GMT)
Subject: [Rd] Bug(?) in Makefile.win
In-Reply-To: <k2lgutclvb1tbvmmd65u5isitu874c7oou@4ax.com>
Message-ID: <Pine.GSO.4.31.0111062201210.18924-100000@auk.stats>

On Tue, 6 Nov 2001, Duncan Murdoch wrote:

> I'm working on a package that will need a separate makefile for
> Windows.  However, I'm finding that when I rename the Makefile to
> Makefile.win, it stops working.  (I suspect at least 3 differences so
> far:  the code to convert .a libraries to a .dll doesn't work, and
> some macros like $(CP) and $(RANLIB) don't exist.)
>
> I'd like to submit a bug report, but I want to be sure this isn't "as
> designed" first.
>
> 1.  Should Makefile.win and Makefile perform identically on Windows?

No.  Makefile.win is only designed to be used in the src dir.  If so
it is used (see MakePkg) but a src/Makefile never is.

So they are quite distinct, in my understanding.

You probably want to include MkRules in your own Makefile.win.

> 2.  Where do I go to find where Makefile.win gets invoked, to see if I
> can spot why there'd be a difference?

Read readme.packages or CHANGES, for example

The reason is that many pacakges used to come with quite inappropriate
Makefiles for Windows (and often inappropriate for Windows too).

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Wed Nov  7 00:40:25 2001
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Tue, 06 Nov 2001 19:40:25 -0500
Subject: [Rd] Bug(?) in Makefile.win
In-Reply-To: <Pine.GSO.4.31.0111062201210.18924-100000@auk.stats>
References: <k2lgutclvb1tbvmmd65u5isitu874c7oou@4ax.com> <Pine.GSO.4.31.0111062201210.18924-100000@auk.stats>
Message-ID: <cmvgutc4o3adv84s4rlg3m0s6nhhpqrovs@4ax.com>

On Tue, 6 Nov 2001 22:08:46 +0000 (GMT), Prof Brian D Ripley
<ripley@stats.ox.ac.uk> wrote:
>> 1.  Should Makefile.win and Makefile perform identically on Windows?
>
>No.  Makefile.win is only designed to be used in the src dir.  If so
>it is used (see MakePkg) but a src/Makefile never is.

I don't think I understand your answer; I'm not sure you understood my
question.  

Rephrased:  If I have a single makefile in my src directory, and I'm
compiling in Windows, I would have expected it to make no difference
whether I call it Makefile or Makefile.win.   But it does.  "Makefile"
works, "Makefile.win" doesn't.

If I have both files, on Windows I would have expected the package
making process to completely ignore src/Makefile.  It appears that
this happens, but the make still doesn't work, because it acts like
Makefile.win alone.
>
>So they are quite distinct, in my understanding.
>
>You probably want to include MkRules in your own Makefile.win.

I added this line at the start:

include $(RHOME)/src/gnuwin32/MkRules

and the way it fails is different (it appears to have all the macros
defined, but the linker isn't finding some symbols it should).  I
tried adding 

include $(RHOME)/src/gnuwin32/MakeVars

but then make complained, because that MakeVars file just includes
this line 

!<arch>

which it doesn't understand (and either do I).

Duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pd@pubhealth.ku.dk  Wed Nov  7 06:15:03 2001
From: pd@pubhealth.ku.dk (Peter Dalgaard BSA)
Date: Wed, 7 Nov 2001 07:15:03 +0100
Subject: [Rd] Bug list summary (automatic post)
Message-ID: <200111070615.fA76F3Z11764@blueberry.kubism.ku.dk>

=================================================
This is an automated summary of the status of the R-bugs
repository.

Note that this may be neither complete nor perfectly
correct at any given instance: Not all bugs are reported,
and some reported bugs may have been fixed, but the
repository not yet updated.

Some bug fixes are difficult to verify because they pertain
to specific hardware or operating system versions. If you
have information to contribute, please do so.

If you happen to know how to fix a problem please send
patches to the bug repository, too.

New bugs are reported either through the web
interface at r-bugs.r-project.org or via email to
r-bugs@r-project.org. The bug.report() function can be
used to automate parts of the procedure on many systems.
Followups on older bugs can be done by including the string
"(PR#999)" in the Subject of an email (change 999 to the
actual reference number, of course!).
=================================================

Directory:  Accuracy

* PR# 1138 *
Subject:  round() doesnt
From: David Brahm  <a215020@onyx.fmr.com>
Date: Mon, 22 Oct 2001 18:08:50 -0400 (EDT)
--rounding accuracy on some platformns.  Continued in PR#1139.
* PR# 1139 *
Subject: round() doesn't
From: David Brahm  <a215020@agate.fmr.com>
Date: Mon, 22 Oct 2001 19:15:13 -0400 (EDT)
--rounding accurcay on some platforms. Part of PR#1138

Directory:  Add-ons

* PR# 974 *
Subject: Lattice: panel.superpose with ordered factor groups
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sat, 9 Jun 2001 11:08:51 +1000 (EST)
--The warning is standard S and R behaviour.
--Probably xyplot needs to avoid it (by unclassing?)
--Still there in lattice 0.3-0.
* PR# 981 *
Subject: read.xport() bug
From: abroman@jhu.edu
Date: Fri, 15 Jun 2001 00:25:54 +0200 (MET DST)
--confirmed on Windows and Solaris.
--Seems that file is not in the expected format
* PR# 1038 *
Subject: nlme: bug in getCovariateFormula
From: Setzer.Woodrow@epamail.epa.gov
Date: Tue, 31 Jul 2001 11:24:09 -0400
--change needed in package nlme
* PR# 1044 *
Subject: Polymarsall.c
From: pleu@hotmail.com
Date: Tue, 7 Aug 2001 22:42:07 +0200 (MET DST)
* PR# 1116 *
Subject: get.hist.quote does not work
From: arto.luoma@uta.fi
Date: Thu, 4 Oct 2001 14:45:29 +0200 (MET DST)
--Seems specific to one locale on one system.
--The bug is unlikely to be in R.
* PR# 1124 *
Subject: Wrong df in bartlett.test when subsetting data
From: jens.lund@nordea.com
Date: Wed, 10 Oct 2001 17:43:42 +0200 (MET DST)

Directory:  Analyses

none

Directory:  Documentation

* PR# 988 *
Subject: input for R-intro
From: "Paul E. Johnson" <pauljohn@ku.edu>
Date: Mon, 18 Jun 2001 13:57:10 -0500
* PR# 1011 *
Subject: R-intro suggestions part II
From: "Paul E. Johnson" <pauljohn@ukans.edu>
Date: Tue, 03 Jul 2001 15:50:06 -0500
* PR# 1113 *
Subject: bug.report() & docs should mention r-devel
From: murdoch@stats.uwo.ca
Date: Thu, 4 Oct 2001 01:23:27 +0200 (MET DST)
* PR# 1132 *
Subject: Problem with "describe" lists.
From: Rolf Turner <rolf@localhost.localdomain>
Date: Thu, 18 Oct 2001 16:41:03 +0800
* PR# 1136 *
Subject: cex/col/etc. in title(): documentation?
From: Ben Bolker <ben@zoo.ufl.edu>
Date: Mon, 22 Oct 2001 11:55:14 -0400 (EDT)
--MM:actually the documentation still could elaborate a bit..

Directory:  Graphics

* PR# 202 *
Subject: persp box occlusion bug
From: wsi@gcal.ac.uk
Date: Wed, 2 Jun 1999 15:02:03 +0200 (MET DST)
--The persp algorithm does not apply the occlusion rules to the frame, 
--which is always plotted first. 
--A bug, but not very simple to fix.
* PR# 660 *
Subject: identify.default ignores any setting of cex.
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
Date: Fri, 15 Sep 2000 10:23:39 +0100 (BST)
* PR# 776 *
Subject: strwidth does not take font into account
From: Martyn Plummer <plummer@iarc.fr>
Date: Tue, 19 Dec 2000 14:56:01 +0100 (CET)
--This needs a substantial redesign.
* PR# 791 *
Subject:  par(lab= *) / axis(*) bug 
From: maechler@stat.math.ethz.ch
Date: Fri, 22 Dec 2000 10:59:26 +0100
* PR# 816 *
Subject: dotplot: character size of labels
From: RINNER Heinrich <H.RINNER@TIROL.GV.AT>
Date: Thu, 18 Jan 2001 14:54:32 +0100
--Suggested fix is incorporated in 1.2.2.
--
--There is a deeper problem:  mtext() ignores par(cex=.5) in general.  
--To see the problem try:  par(cex=.5); mtext("hi")
--Paul thinks the right fix is to change the argument list for mtext so that
--cex=par(cex) by default rather than cex=NA by default (plus corresponding
--internal changes to  do_mtext in plot.c).
--This needs to be done very carefully because (i) the change suggested above 
--mayhave side-effects in many other pieces of interpreted code 
--(ii) do_mtext ignores dd->gp.cexbase unlike, for example, do_plot_xy 
--and anything to do with cexbase needs extreme care.
* PR# 820 *
Subject: interaction.plot
From: "Mark M. Span" <span@psy.uva.nl>
Date: Mon, 22 Jan 2001 10:47:39 +0100
--mtext is unscaled by default.  It is not clear if this should
--use the par("cex") setting or an inline cex setting such as cex.axis.
--It might make more sense to use axis rather than mtext, as boxplot does.
* PR# 828 *
Subject: termplot fails for composite non-factor terms
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sat, 27 Jan 2001 11:57:37 +1100 (EST)
--Neither of the proposed changes actually works in sufficient generality.
--
--The easy and unimportant part of this, the labels, is fixed in 1.2.2. Getting
--the data right is a project for 1.3
* PR# 831 *
Subject: screen can't go back to (split) screen with log="y" plot
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 30 Jan 2001 00:39:41 -0500
--Still there. Suggested fix included in followups, but we didn't get around to
--try it in time for 1.2.3.
--
--Fix doesn't work. One problem is that the opar<-par();par(opar) idiom updates
--xaxp before xlog, and the new value of xaxp may only be valid under the new
--value of xlog.
* PR# 837 *
Subject: screen doesn't handle redrawing properly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 01 Feb 2001 14:20:52 -0500
* PR# 887 *
Subject: axis(adj=anything) has no effect
From: jhallman@frb.gov
Date: Wed, 28 Mar 2001 20:51:05 +0200 (MET DST)
* PR# 916 *
Subject:  par(mgp) bug 
From: paul@stat.auckland.ac.nz
Date: Fri, 20 Apr 2001 08:33:45 +1200 (NZST)
* PR# 940 *
Subject: GCircle(): fails for non-clippable devices under certain circumstances (see below)
From: "Thomas Hoffmann" <thoffman@zappa.sax.de>
Date: Tue, 15 May 01 23:34:17 +0100
* PR# 943 *
Subject: legend() with xpd=T; omission of initial plot character
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sun, 20 May 2001 10:35:16 +1000
* PR# 997 *
Subject:  las=1 with log axis 
From: Peter Dalgaard BSA <pd@pubhealth.ku.dk>
Date: Wed, 27 Jun 2001 11:54:06 +0200
* PR# 1045 *
Subject: Palette changes on redraw
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 08 Aug 2001 19:08:01 +0200
* PR# 1088 *
Subject:  barplot forces xpd=TRUE 
From: Peter Whiting <pwhiting@whitings.org>
Date: Sat, 8 Sep 2001 10:19:00 -0500
* PR# 1095 *
Subject:  Bizarre clipping with abline and points 
From: J.C.Rougier@durham.ac.uk
Date: Wed, 19 Sep 2001 14:45:52 +0100
* PR# 1101 *
Subject: ugly in plotmath: frac(1, sqrt(...))
From: Uwe Ligges <ligges@statistik.uni-dortmund.de>
Date: Thu, 27 Sep 2001 10:37:07 +0200
* PR# 1147 *
Subject: postscript problem
From: kjetil halvorsen <kjetilh@umsanet.edu.bo>
Date: Fri, 26 Oct 2001 15:23:45 -0400
--This seems to be a problem with screen/layout rather than postscript.
* PR# 1157 *
Subject: identify(...plot=F)
From: Rolf Turner <rolf@maths.uwa.edu.au>
Date: Fri, 2 Nov 2001 09:43:49 +0800 (WST)

Directory:  In-Out

none

Directory:  Installation

* PR# 1034 *
Subject: Compiling R (1.3.0) on AIX (4.3) fails
From: "Thomas J Vogels" <tov@ece.cmu.edu>
Date: Sun, 29 Jul 2001 12:27:51 -0400

Directory:  Language

* PR# 408 *
Subject: convolution bug
From: wsimpson@gcal.ac.uk
Date: Fri, 28 Jan 2000 11:17:36 +0100 (MET)
* PR# 412 *
Subject: anomalies with call objects
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 06 Feb 2000 01:18:50 +0100
* PR# 669 *
Subject: Bug(s) w/ rbind.data.frame(); fix also read.table(*, as.is = TRUE) ?
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Mon, 25 Sep 2000 10:17:15 +0200
--status of AsIs columns
* PR# 921 *
Subject:  Managed to confuse match.arg 
From: J.C.Rougier@durham.ac.uk
Date: Wed, 25 Apr 2001 12:22:54 +0100 (BST)
* PR# 1052 *
Subject:  Inconsistent behaviour of is.vector? 
From: J.C.Rougier@durham.ac.uk
Date: Tue, 14 Aug 2001 09:04:57 +0100
* PR# 1073 *
Subject: Wierd problem comparing numeric values and list using ==
From: "Warnes, Gregory R" <gregory_r_warnes@groton.pfizer.com>
Date: Fri, 24 Aug 2001 22:07:41 -0400
--see also PR#1075
* PR# 1076 *
Subject: Re: [Rd] Wierd problem comparing numeric values and list using == 
From: John Chambers <jmc@research.bell-labs.com>
Date: Mon, 27 Aug 2001 08:44:22 -0400
--part of PR#1073

Directory:  Low-level

* PR# 989 *
Subject: "[.data.frame" allows un-named 3rd subscript
From: "Charles C. Berry" <cberry@tajo.ucsd.edu>
Date: Mon, 18 Jun 2001 13:13:46 -0700 (PDT)
* PR# 1063 *
Subject: interrupting Sys.sleep
From: Thomas Lumley <tlumley@u.washington.edu>
Date: Mon, 20 Aug 2001 13:55:29 -0700 (PDT)
* PR# 1068 *
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
From: Luke Tierney <luke@nokomis.stat.umn.edu>
Date: Wed, 22 Aug 2001 19:32:51 -0500
--see also followup in PR#1069
* PR# 1069 *
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
From: "John W. Eaton" <jwe@bevo.che.wisc.edu>
Date: Wed, 22 Aug 2001 21:56:33 -0500
--part of PR#1068
* PR# 1120 *
Subject: bug in write.table?
From: Ott Toomet <siim@obs.ee>
Date: Sun, 7 Oct 2001 18:24:34 +0200 (CEST)
--Traced down to an effect of read.dta in foreign interacting with do_paste. Fixed
--in foreign, but do_paste may need to use strlen() rather than LENGTH().
--

Directory:  Macintosh

none

Directory:  Misc

* PR# 1126 *
Subject: R-bug report www page whishlist
From: jens.lund@nordea.com
Date: Wed, 10 Oct 2001 18:24:29 +0200 (MET DST)

Directory:  Models

none

Directory:  Startup

none

Directory:  System-specific

* PR# 848 *
Subject: X11 device doesn't handle destroy events correcly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 13 Feb 2001 17:40:46 -0500
* PR# 1002 *
Subject: core dump running modreg-Ex.R
From: WhiteG@dfo-mpo.gc.ca
Date: Thu, 28 Jun 2001 19:14:18 +0200 (MET DST)
--Only reported on SGI, solved by removing optimization.
--Needs debugging there.
* PR# 1020 *
Subject: .Call and Mandrake 8.0
From: lcottret@yahoo.fr
Date: Wed, 11 Jul 2001 15:34:23 +0200 (MET DST)
--problem with symbol names only on Mandrake 8.0, not 7.2
--needs reply to follow-up
* PR# 1026 *
Subject: make check failure on SGI-IRIX6.5
From: laurent@cbs.dtu.dk
Date: Mon, 16 Jul 2001 15:06:17 +0200 (MET DST)
* PR# 1057 *
Subject: crt1.o skipped at configure time ?
From: laurent@cbs.dtu.dk
Date: Thu, 16 Aug 2001 08:52:34 +0200 (MET DST)
* PR# 1084 *
Subject: Install problems R 1.3.1 on HP-UX
From: Peter Kleiweg <kleiweg@let.rug.nl>
Date: Sun, 2 Sep 2001 15:07:41 +0200 (CEST)
* PR# 1097 *
Subject: R 1.3.1 fails 'make check' on arm in the Bessel example
From: Dirk Eddelbuettel <edd@debian.org>
Date: Thu, 20 Sep 2001 23:54:19 -0500
* PR# 1106 *
Subject: What is an error bu21?
From: Patrick Lindsey <patrick.lindsey@luc.ac.be>
Date: Mon, 1 Oct 2001 15:43:36 +0200 (MET DST)
--Looks like an SGI make bug
* PR# 1140 *
Subject: Possible bug, Rprof() and scan(pipe())
From: Don MacQueen <macq@llnl.gov>
Date: Tue, 23 Oct 2001 13:50:26 -0700
--Doesn't happen on Solaris or Linux
* PR# 1145 *
Subject: Problem testing R version 1.3.1 on SGI Irix
From: Gordon Lack <gml4410@ggr.co.uk>
Date: Fri, 26 Oct 2001 19:04:04 +0100

Directory:  TooMuchAtOnce

* PR# 1110 *
Subject: Several R vs S-Plus issues
From: David Brahm  <a215020@agate.fmr.com>
Date: Wed, 3 Oct 2001 11:35:58 -0400 (EDT)
--1. is perhaps a bug -- the best handling of string NAs is under discussion
--
--2 & 4 are just S-PLUS incompatibilities
--
--3. May be a bug -- worth checking.

Directory:  Windows

* PR# 1135 *
Subject: Canceling close behaves incorrectly
From: john_heumann@agilent.com
Date: Sat, 20 Oct 2001 01:02:02 +0200 (MET DST)

Directory:  incoming

* PR# 1158 *
Subject: bug.report()sends empty message
From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
Date: Mon, 05 Nov 2001 10:05:27 -0500
* PR# 1159 *
Subject: stepwise algorithm step() on coxph()
From: jerome@hivnet.ubc.ca
Date: Mon, 5 Nov 2001 23:41:14 +0100 (MET)
* PR# 1160 *
Subject: incorrect xlim error message in image() 
Subject: Re: image function
From: Jane Fridlyand <janef@stat.berkeley.edu>
From: Jason Turner <jasont@indigoindustrial.co.nz>
Date: Tue, 6 Nov 2001 10:19:31 -0800 (PST)
Date: Fri, 2 Nov 2001 20:32:23 +1300
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rolf@maths.uwa.edu.au  Wed Nov  7 10:07:34 2001
From: rolf@maths.uwa.edu.au (rolf@maths.uwa.edu.au)
Date: Wed, 7 Nov 2001 11:07:34 +0100 (MET)
Subject: [Rd] x-axis label in persp() (PR#1161)
Message-ID: <200111071007.LAA22537@pubhealth.ku.dk>


If the surface to be plotted by persp() is supplied as
a list, the x-axis label defaults to the name, in the call,
of this list --- which is usually silly.

I would suggest changing the first four lines of
persp.default() (where the x-axis label gets set) from

if (is.null(xlab))
        xlab <- if (!missing(x))
            deparse(substitute(x))
        else "X"

to

if (is.null(xlab))
        xlab <- if (!missing(x) && !is.list(x) && !is.matrix(x))
            deparse(substitute(x))
        else "X"

which makes the x-axis label default to "X" if the surface
is specified as a list.


					cheers,

						Rolf Turner

Current email address: rolf@maths.uwa.edu.au
Usual email address:   rolf@math.unb.ca

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Wed Nov  7 18:51:33 2001
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 07 Nov 2001 13:51:33 -0500
Subject: [Rd] segmentation fault with GCC 3.0.2
Message-ID: <3BE982B4.5043FEDB@bank-banque-canada.ca>

I have now tested R 1.3.1 compiled with GCC 3.0.2 on Solaris and the example I
previously posted (repeated below) still gives a segmentation fault, as it does
with GCC 3.0.1 but not with 2.95.2. The eigen calculation sometimes needs to be
repeated several times before the segmentation fault occurs. La.eigen does not
cause a problem. (The problem occurred with R-devel too, but I have not tested
that with GCC 3.0.2.)

One potential problem is that when I configure or make R there are some
inappropriate libraries being picked up. I am not certain where to look or what
to look for, but further below I have copied my guess of the appropriate parts
from configure and make outputs. The only warning is about clock skew (the time
on the file server is not very well synchronized with my machine), but I have
never known this to cause a serious problem.

Any help would be appreciated.

Thanks,
Paul
_____
zz <- t(matrix(c(
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.082008166, -0.066322053,
-0.115616348,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.038919428,  0.009703382,
0.115944209,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.007823026, -0.068859673,
0.025264756,
1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.067027108,  0.087934957,
-0.316974768,
0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.024890008,  0.052195412,
-0.015138322,
0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.028192857, -0.004832597,
0.207879665,
0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.078706928, -0.012801413,
0.425960682,
0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0.102169750,  0.163238356,
-0.150373125,
0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.002685166,  0.014355904,
0.197912183,
0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0,  0.042937314,  0.115719388,
0.679370293,
0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0,  0.032306141,  0.263227910,
0.009171148,
0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0,  0.008238734, -0.031480706,
0.051976566,
0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0,  0.015219148,  0.221345314,
0.020146770,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0,  0.039741608,  0.092955553,
-0.262550823,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0,  0.012624418,  0.047810873,
0.201673308,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, -0.114163303,  0.417786916,
0.253110874,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0,  0.049894329, -0.155696562,
-0.049735728,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1,  0.006112607,  0.074242237,
0.034046467
), 18,18))

eigen(zz)$values
eigen(zz)$values
eigen(zz)$values
eigen(zz)$values
eigen(zz)$values
eigen(zz)$values
eigen(zz)$values
eigen(zz)$values
Segmentation Fault - core dumped

_______
my guess at important parts from ./config output:

checking host system type... sparc-sun-solaris2.6
...
checking build system type... sparc-sun-solaris2.6
checking for ld used by GCC... /usr/ccs/bin/ld
checking if the linker (/usr/ccs/bin/ld) is GNU ld... no
checking for /usr/ccs/bin/ld option to reload object files... -r
...
checking dynamic linker characteristics... solaris2.6 ld.so
checking if libtool supports shared libraries... yes
...
checking for g77... g77
checking whether the Fortran 77 compiler (g77  ) works... yes
checking whether the Fortran 77 compiler (g77  ) is a cross-compiler... no
checking whether we are using GNU Fortran 77... yes
checking whether g77 accepts -g... yes
checking for Fortran 77 libraries...  -lg2c -lm  -L/usr/ccs/lib -L/usr/lib
-L/apps/asd/unix/gnu/gcc/3.0.2/install/lib/gcc-lib
-L/apps/asd/unix/gnu/gcc/3.0.2/install/lib/gcc-lib/sparc-sun-solaris2.6/3.0.2
-L/usr/ccs/bin -L/usr/ccs/lib
-L/apps/asd/unix/gnu/gcc/3.0.2/install/lib/gcc-lib/sparc-sun-solaris2.6/3.0.2/../../..
-lm
checking whether g77 appends underscores... yes
checking whether g77 and gcc agree on int and double... yes
checking whether g77 and gcc agree on double complex... yes
checking whether g77 supports -c -o FILE.lo... yes
checking for c++... c++
checking whether the C++ compiler (c++  ) works... yes
checking whether the C++ compiler (c++  ) is a cross-compiler... yes
checking whether we are using GNU C++... yes
checking whether c++ accepts -g... yes
checking how to run the C++ preprocessor... c++ -E
...
checking for GNU C library with version >= 2... no
...
R is now configured for sparc-sun-solaris2.6

  Source directory:          .
  Installation directory:    /usr/local
  C compiler:                gcc  -g -O2
  C++ compiler:              c++  -g -O2
  FORTRAN compiler:          g77  -g -O2

  X11 support:               yes
  Gnome support:             no
  Tcl/Tk support:            no

  R profiling support:       yes
  R as a shared library:     no
_____
my guess at important parts from the make:
...
make[3]: Entering directory `/home/mfa5/gilp/R/R-1.3.1.gnu3.0.2/src/appl'
gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
-DHAVE_CONFIG_H   -g -O2 -c approx.c -o approx.o
...
g77   -g -O2 -c eigen.f -o eigen.o
g77   -g -O2 -c lminfl.f -o lminfl.o
g77   -g -O2 -c blas.f -o blas.o
ar cr libappl.a approx.o bakslv.o binning.o chull.o cpoly.o cumsum.o fft.o
fmin.o integrate.o lbfgsb.o loglin.o lowess.o machar.o maxcol.o massdist.o
pretty.o rowsum.o splines.o stem.o strsignif.o tabulate.o uncmin.o zeroin.o
ch2inv.o chol.o dpbfa.o dpbsl.o dpoco.o dpodi.o dpofa.o dposl.o dqrdc.o dqrdc2.o
dqrls.o dqrsl.o dqrutl.o dsvdc.o dtrco.o dtrsl.o eigen.o lminfl.o blas.o
ranlib libappl.a
make[3]: Leaving directory `/home/mfa5/gilp/R/R-1.3.1.gnu3.0.2/src/appl'
make[2]: Leaving directory `/home/mfa5/gilp/R/R-1.3.1.gnu3.0.2/src/appl'
...
gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
-DHAVE_CONFIG_H   -g -O2 -c vfonts.c -o vfonts.o
g77   -g -O2 -c xxxpr.f -o xxxpr.o
gcc   -o R.bin  CConverters.o Rdynload.o RNG.o apply.o arithmetic.o array.o
attrib.o bind.o builtin.o character.o coerce.o colors.o complex.o connections.o
context.o cov.o cum.o dcf.o datetime.o debug.o devPS.o devPicTeX.o deparse.o
deriv.o devices.o dotcode.o dstruct.o duplicate.o envir.o errors.o eval.o
format.o fourier.o gram.o gram-ex.o graphics.o internet.o iosupport.o lapack.o
list.o logic.o main.o match.o memory.o model.o names.o objects.o optim.o
optimize.o options.o par.o paste.o platform.o plot.o plot3d.o plotmath.o print.o
printarray.o printvector.o printutils.o random.o regex.o relop.o saveload.o
scan.o seq.o size.o sort.o source.o split.o subassign.o subscript.o subset.o
summary.o unique.o util.o version.o vfonts.o xxxpr.o ../unix/libunix.a
../appl/libappl.a ../nmath/libnmath.a   -lg2c -lm  -L/usr/ccs/lib -L/usr/lib
-L/apps/asd/unix/gnu/gcc/3.0.2/install/lib/gcc-lib
-L/apps/asd/unix/gnu/gcc/3.0.2/install/lib/gcc-lib/sparc-sun-solaris2.6/3.0.2
-L/usr/ccs/bin -L/usr/ccs/lib
-L/apps/asd/unix/gnu/gcc/3.0.2/install/lib/gcc-lib/sparc-sun-solaris2.6/3.0.2/../../..
-lm  -L/usr/local/lib  -lnsl -lsocket -ldl -ltermcap -lm
make[4]: Entering directory `/home/mfa5/gilp/R/R-1.3.1.gnu3.0.2/src/main'
...
make[4]: warning:  Clock skew detected.  Your build may be incomplete.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Nov  7 19:11:30 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 Nov 2001 20:11:30 +0100
Subject: [Rd] segmentation fault with GCC 3.0.2
In-Reply-To: <3BE982B4.5043FEDB@bank-banque-canada.ca>
References: <3BE982B4.5043FEDB@bank-banque-canada.ca>
Message-ID: <x2bsie75wd.fsf@blueberry.kubism.ku.dk>

Paul Gilbert <pgilbert@bank-banque-canada.ca> writes:

> I have now tested R 1.3.1 compiled with GCC 3.0.2 on Solaris and the example I
> previously posted (repeated below) still gives a segmentation fault, as it does
> with GCC 3.0.1 but not with 2.95.2. The eigen calculation sometimes needs to be
> repeated several times before the segmentation fault occurs. La.eigen does not
> cause a problem. (The problem occurred with R-devel too, but I have not tested
> that with GCC 3.0.2.)
> 
> One potential problem is that when I configure or make R there are some
> inappropriate libraries being picked up. I am not certain where to look or what
> to look for, but further below I have copied my guess of the appropriate parts
> from configure and make outputs. The only warning is about clock skew (the time
> on the file server is not very well synchronized with my machine), but I have
> never known this to cause a serious problem.
> 
> Any help would be appreciated.

I don't know if it helps, but I see it too... 3.0.1 on Solaris 2.7.

gdb says that it is happening at l.2144 of eigen.f:

2142    C
2143                DO 760 J = M, EN
2144                   RA = RA + H(I,J) * H(J,NA)
2145                   SA = SA + H(I,J) * H(J,EN)
2146      760       CONTINUE
2147    C

J prints as 7289784 for me, which looks a bit weird since M and EN are
17 and 18 respectively. However, optimizers sometimes cause this sort
of thing.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Thu Nov  8 11:44:03 2001
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich.Leisch@ci.tuwien.ac.at)
Date: Thu, 8 Nov 2001 12:44:03 +0100
Subject: [Rd] devel snapshots on CRAN
Message-ID: <15338.28675.632530.668158@galadriel.ci.tuwien.ac.at>


We are currently investigating our http and ftp logs in order to get a
hold on which parts of CRAN are rather popula and which not (because
our computing center wants to know if all the traffic generated by
CRAN is really necessary).

One thing we stumbled about that generates a lot of traffic are the
daily snapshots of the R sources, which are mirrored to all CRAN nodes
daily: the mirroring seems to generate much more traffic than there
are actual downloads (at least from our site). There are 3 versions
each saved as .tar.gz and .tar.gz making a daily total of approx. 30MB
CHANGING EVERY DAY.

Downloads seem to be more in the order of once per week.

Question: Would you see it as a strong loss if these were available
only from 1 or sites rather than every CRAN node? Please respond in
private if so, I'll post a summary to the list.

This does not affect the sources of R releases (which get downloaded
very often), only the daily snapshots from the directory
$CRAN/src/devel.

Best,
Fritz




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pflugshaupt@geobot.umnw.ethz.ch  Thu Nov  8 17:39:45 2001
From: pflugshaupt@geobot.umnw.ethz.ch (pflugshaupt@geobot.umnw.ethz.ch)
Date: Thu, 8 Nov 2001 18:39:45 +0100 (MET)
Subject: [Rd] eqscplot() in library MASS: fails when given only one point (PR#1162)
Message-ID: <200111081739.SAA12452@pubhealth.ku.dk>

I found the following in eqscplot, library MASS:


When given just one point, it fails:

> eqscplot(x=1, y=1)
Error in plot.window(xlim, ylim, log, asp, ...) :
    need finite xlim values

After inserting browser() just before the last line in eqscplot() (in which
plot() gets called), I found the following:

> eqscplot(x=1, y=1)
Called from: eqscplot(x = 1, y = 1)
Browse[1]> xlim
[1] NaN NaN
Browse[1]> ylim
[1] NaN NaN


This results from the lines 35 and 36:

    xuin <- oxuin <- oldpin[1]/diff(xlim)
    yuin <- oyuin <- oldpin[2]/diff(ylim)

which will give Inf values, since diff(xlim) and diff(ylim) will be zero at
that point (xlim and ylim containing c(1, 1) in this case).

I can't propose a patch, though, since I haven't the time to really work out
how the calculation is done (sorry).

> version
         _         
platform ppc-apple-macos
arch     ppc       
os       MacOS     
system   ppc, MacOS
status             
major    1         
minor    3.1       
year     2001      
month    08        
day      31        
language R      

I use the MASS version which comes with the current full Mac R package
(rm131_FULL.sit). If this is already fixed in a newer version of the
library, I apologize for the waste of bandwidth.


Cheers

Kaspar Pflugshaupt



-- 

Kaspar Pflugshaupt
Geobotanisches Institut
Zuerichbergstr. 38
CH-8044 Zuerich

Tel. ++41 1 632 43 19
Fax  ++41 1 632 12 15

mailto:pflugshaupt@geobot.umnw.ethz.ch
privat:pflugshaupt@mails.ch
http://www.geobot.umnw.ethz.ch


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Nov  9 07:44:07 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 9 Nov 2001 08:44:07 +0100 (MET)
Subject: [Rd] eqscplot() in library MASS: fails when given only one point (PR#1164)
Message-ID: <200111090744.IAA15047@pubhealth.ku.dk>

This is not a bug.  There is no way one can scale the plot axes equally
when no indication has been given of the scaling expected for either!

It has always seemd to be that plot(x=1, y=1) shoul dnot work: it
has not supplied enough information!

On Thu, 8 Nov 2001 pflugshaupt@geobot.umnw.ethz.ch wrote:

> I found the following in eqscplot, library MASS:
>
>
> When given just one point, it fails:
>
> > eqscplot(x=1, y=1)
> Error in plot.window(xlim, ylim, log, asp, ...) :
>     need finite xlim values
>
> After inserting browser() just before the last line in eqscplot() (in which
> plot() gets called), I found the following:
>
> > eqscplot(x=1, y=1)
> Called from: eqscplot(x = 1, y = 1)
> Browse[1]> xlim
> [1] NaN NaN
> Browse[1]> ylim
> [1] NaN NaN
>
>
> This results from the lines 35 and 36:
>
>     xuin <- oxuin <- oldpin[1]/diff(xlim)
>     yuin <- oyuin <- oldpin[2]/diff(ylim)
>
> which will give Inf values, since diff(xlim) and diff(ylim) will be zero at
> that point (xlim and ylim containing c(1, 1) in this case).
>
> I can't propose a patch, though, since I haven't the time to really work out
> how the calculation is done (sorry).
>
> > version
>          _
> platform ppc-apple-macos
> arch     ppc
> os       MacOS
> system   ppc, MacOS
> status
> major    1
> minor    3.1
> year     2001
> month    08
> day      31
> language R
>
> I use the MASS version which comes with the current full Mac R package
> (rm131_FULL.sit). If this is already fixed in a newer version of the
> library, I apologize for the waste of bandwidth.
>
>
> Cheers
>
> Kaspar Pflugshaupt
>
>
>
> --
>
> Kaspar Pflugshaupt
> Geobotanisches Institut
> Zuerichbergstr. 38
> CH-8044 Zuerich
>
> Tel. ++41 1 632 43 19
> Fax  ++41 1 632 12 15
>
> mailto:pflugshaupt@geobot.umnw.ethz.ch
> privat:pflugshaupt@mails.ch
> http://www.geobot.umnw.ethz.ch
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Sun Nov 11 17:24:14 2001
From: edd@debian.org (edd@debian.org)
Date: Sun, 11 Nov 2001 18:24:14 +0100 (MET)
Subject: [Rd] Gnits about setting LD_LIBRARY_PATH from R (PR#1166)
Message-ID: <200111111724.SAA29600@pubhealth.ku.dk>

Full_Name: Dirk Eddelbuettel
Version: 1.3.1
OS: Linux
Submission from: (NULL) (65.184.214.9)



[ This bug report has previously been filed as #71917 in the Debian Bug Tracking
System. --edd ]

From: "Stephen J. Turnbull" <turnbull@sk.tsukuba.ac.jp>
Date: Mon, 18 Sep 2000 19:48:11 +0900 (JST)
To: submit@bugs.debian.org
Subject: r-base gnits

Package: r-base
Version: 1.1.1-1

[1] The R startup script sets LD_LIBRARY_PATH to start with
/usr/local/lib/.  I have installed a development version of glibc 2.2
there; needless to say R was not pleased with the little switcheroo
between /lib/ld-linux.so.2 and /usr/local/lib/libc.so.6.

I don't see any need for this.  If dl modules are being downloaded
from CRAN, they should go in /usr/local/lib/R/ or something like that,
not in /usr/local/lib.  Of course if they're Debianized, they
shouldn't be put in /usr/local at all.

[2] I don't have Netscape, I'm using Mozilla and Lynx mostly.
Something like xfig-www-browser(1) should be used to try and come up
with a sensible guess at a help browser.

-- 
University of Tsukuba                Tennodai 1-1-1 Tsukuba 305-8573 JAPAN
Institute of Policy and Planning Sciences       Tel/fax: +81 (298) 53-5091
_________________  _________________  _________________  _________________
What are those straight lines for?  "XEmacs rules."




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Sun Nov 11 17:24:03 2001
From: edd@debian.org (edd@debian.org)
Date: Sun, 11 Nov 2001 18:24:03 +0100 (MET)
Subject: [Rd] png output requires X connection (PR#1165)
Message-ID: <200111111724.SAA29588@pubhealth.ku.dk>

Full_Name: Dirk Eddelbuettel
Version: 1.3.1
OS: Linux
Submission from: (NULL) (65.184.214.9)



[ This bug report has previously been filed as #115186 in the Debian Bug
Tracking System. --edd ]


From: Ryan Murray <rmurray@cyberhqz.com>
Subject: r-base: png output requires X connection
To: submit@bugs.debian.org
Date: Wed, 10 Oct 2001 13:40:06 -0700

Package: r-base
Version: 1.3.1-2
Severity: wishlist

R doesn't allow use of png() without an X display.  It would be great for
automated graph generation if an X display were not required.  While one can
workaround this by using postscript() and the png output of ghostscript, the
output does not look as good as R using the png() device directly.

-- System Information
Debian Release: testing/unstable
Kernel Version: Linux cyberhq 2.4.9 #1 SMP Sun Aug 19 21:47:15 PDT 2001 i686
unknown

Versions of the packages r-base depends on:
ii  libc6          2.2.4-3        GNU C Library: Shared libraries and Timezone
ii  libjpeg62      6b-1.3         The Independent JPEG Group's JPEG runtime li
ii  libncurses5    5.2.20010318-3 Shared libraries for terminal handling
ii  libpng2        1.0.12-2       PNG library - runtime
ii  libreadline4   4.2-5          GNU readline and history libraries, run-time
ii  perl           5.6.1-5        Larry Wall's Practical Extraction and Report
ii  tcl8.0         8.0.5-6        The Tool Command Language (TCL) v8.0 - Run-T
ii  tk8.0          8.0.5-9        The Tk toolkit for TCL and X11 v8.0 - Run-Ti
ii  xlibs          4.1.0-7        X Window System client libraries
ii  zlib-bin       1.1.3-16       compression library - sample programs
ii  zlib1g         1.1.3-16       compression library - runtime
ii  atlas2-base    3.2.1-12       Automatically Tuned Linear Algebra Software
        ^^^ (Provides virtual package blas2)




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Nov 11 17:40:13 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 11 Nov 2001 18:40:13 +0100 (MET)
Subject: [Rd] png output requires X connection (PR#1165)
Message-ID: <200111111740.SAA29642@pubhealth.ku.dk>

I was extremely disappointed by this report.  Unix/Linux R users should
appreciate what was ported from the Windows version for them and not send
a bug report on a well-documented restriction.  Especially when the `See
Also' mentions an alternative!

The comment only applies to R on Unix/Linux, not to the original png
device on Windows.  It ignores the bitmap() device which we also provide,
and the warnings in the help page, to wit:

     R can be compiled without support for either or both of these
     devices: this will be reported if you attempt to use them on a
     system where they are not supported.  They will not be
     available if R has been started with `--gui=none' (and will give a
     different error message).

Now, why send a bug report about something documented on the help page?
(And you need a X display for any other --gui option, including the
default.)   Please do read the section in the R FAQ about what is a bug,
and act on it.


On Sun, 11 Nov 2001 edd@debian.org wrote:

> Full_Name: Dirk Eddelbuettel
> Version: 1.3.1
> OS: Linux
> Submission from: (NULL) (65.184.214.9)
>
>
>
> [ This bug report has previously been filed as #115186 in the Debian Bug
> Tracking System. --edd ]
>
>
> From: Ryan Murray <rmurray@cyberhqz.com>
> Subject: r-base: png output requires X connection
> To: submit@bugs.debian.org
> Date: Wed, 10 Oct 2001 13:40:06 -0700
>
> Package: r-base
> Version: 1.3.1-2
> Severity: wishlist
>
> R doesn't allow use of png() without an X display.  It would be great for
> automated graph generation if an X display were not required.

See the `See Also' on ?png!

>  While one can
> workaround this by using postscript() and the png output of ghostscript, the
> output does not look as good as R using the png() device directly.
>
> -- System Information
> Debian Release: testing/unstable
> Kernel Version: Linux cyberhq 2.4.9 #1 SMP Sun Aug 19 21:47:15 PDT 2001 i686
> unknown
>
> Versions of the packages r-base depends on:
> ii  libc6          2.2.4-3        GNU C Library: Shared libraries and Timezone
> ii  libjpeg62      6b-1.3         The Independent JPEG Group's JPEG runtime li
> ii  libncurses5    5.2.20010318-3 Shared libraries for terminal handling
> ii  libpng2        1.0.12-2       PNG library - runtime
> ii  libreadline4   4.2-5          GNU readline and history libraries, run-time
> ii  perl           5.6.1-5        Larry Wall's Practical Extraction and Report
> ii  tcl8.0         8.0.5-6        The Tool Command Language (TCL) v8.0 - Run-T
> ii  tk8.0          8.0.5-9        The Tk toolkit for TCL and X11 v8.0 - Run-Ti
> ii  xlibs          4.1.0-7        X Window System client libraries
> ii  zlib-bin       1.1.3-16       compression library - sample programs
> ii  zlib1g         1.1.3-16       compression library - runtime
> ii  atlas2-base    3.2.1-12       Automatically Tuned Linear Algebra Software
>         ^^^ (Provides virtual package blas2)
>
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rmurray@debian.org  Sun Nov 11 18:01:35 2001
From: rmurray@debian.org (rmurray@debian.org)
Date: Sun, 11 Nov 2001 19:01:35 +0100 (MET)
Subject: [Rd] png output requires X connection (PR#1165)
Message-ID: <200111111801.TAA29772@pubhealth.ku.dk>


--+nLR7g8KNfrRqv5t
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable

On Sun, Nov 11, 2001 at 05:39:53PM +0000, Prof Brian Ripley wrote:
> I was extremely disappointed by this report.  Unix/Linux R users should
> appreciate what was ported from the Windows version for them and not send
> a bug report on a well-documented restriction.  Especially when the `See

It's not a bug so much as a wishlist request (which is why it was
filed at the wishlist severity).  The output of R's png() is far
better than using postscript and having ghostscript write out the png.

> Now, why send a bug report about something documented on the help page?
> (And you need a X display for any other --gui option, including the
> default.)   Please do read the section in the R FAQ about what is a bug,
> and act on it.

This is a wishlist item more than a bug.  I wish it worked the way the
output is sharp and clear.  As it is, the graph looks noticeably worse
than when it was generated directly with png().  I think this is worth
changing to remove the restriction.

--=20
Ryan Murray, Debian Developer (rmurray@cyberhqz.com, rmurray@debian.org)
The opinions expressed here are my own.

--+nLR7g8KNfrRqv5t
Content-Type: application/pgp-signature
Content-Disposition: inline

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.6 (GNU/Linux)
Comment: For info see http://www.gnupg.org

iD8DBQE77rzuN2Dbz/1mRasRAslgAJ4yWuXoojlOdcJArHeYc2h0HtKy4gCgt69T
J1daMhISXHwvaIJC6XYemOU=
=f+Ci
-----END PGP SIGNATURE-----

--+nLR7g8KNfrRqv5t--

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Nov 11 19:13:00 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 11 Nov 2001 20:13:00 +0100 (MET)
Subject: [Rd] png output requires X connection (PR#1165)
Message-ID: <200111111913.UAA29961@pubhealth.ku.dk>

On Sun, 11 Nov 2001, Ryan Murray wrote:

> On Sun, Nov 11, 2001 at 05:39:53PM +0000, Prof Brian Ripley wrote:
> > I was extremely disappointed by this report.  Unix/Linux R users should
> > appreciate what was ported from the Windows version for them and not send
> > a bug report on a well-documented restriction.  Especially when the `See
>
> It's not a bug so much as a wishlist request (which is why it was
> filed at the wishlist severity).  The output of R's png() is far
> better than using postscript and having ghostscript write out the png.

The subject line states this a bug, not an enhancement request.

> > Now, why send a bug report about something documented on the help page?
> > (And you need a X display for any other --gui option, including the
> > default.)   Please do read the section in the R FAQ about what is a bug,
> > and act on it.
>
> This is a wishlist item more than a bug.  I wish it worked the way the
> output is sharp and clear.  As it is, the graph looks noticeably worse
> than when it was generated directly with png().  I think this is worth
> changing to remove the restriction.

It is good to hear that you have volunteered to provide one.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Sun Nov 11 22:28:28 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 11 Nov 2001 23:28:28 +0100
Subject: [Rd] png output requires X connection (PR#1165)
In-Reply-To: <200111111740.SAA29642@pubhealth.ku.dk>
References: <200111111740.SAA29642@pubhealth.ku.dk>
Message-ID: <x2zo5trlgz.fsf@blueberry.kubism.ku.dk>

ripley@stats.ox.ac.uk writes:

> I was extremely disappointed by this report.  Unix/Linux R users should
> appreciate what was ported from the Windows version for them and not send
> a bug report on a well-documented restriction.  Especially when the `See
> Also' mentions an alternative!
> 
> The comment only applies to R on Unix/Linux, not to the original png
> device on Windows.  It ignores the bitmap() device which we also provide,
> and the warnings in the help page, to wit:

Yes, well, but...

> > [ This bug report has previously been filed as #115186 in the
> > Debian Bug
> > Tracking System. --edd ]

I think the important thing about this is that Dirk is now taking
action to ensure that bugs are not lingering in the Debian system
without anyone taking notice of it. This will obviously require that
he doesn't think too deeply about whether something is a bug or not
before forwarding it...

(BTW: The thing that the user wants might be done using an Xvfb
(virtual framebuffer) server?)


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From hcp@met.ed.ac.uk  Mon Nov 12 11:58:24 2001
From: hcp@met.ed.ac.uk (H C Pumphrey)
Date: Mon, 12 Nov 2001 11:58:24 +0000 (GMT)
Subject: [Rd] Filled Contour.
Message-ID: <Pine.GSO.4.10.10111121120130.5888-100000@humilis>


Hi.

I'm a big user of level plots. Because filled.contour() didn't do exactly
what I wanted, I hacked at it a bit to add these options:

(*) Even spacing in the key, even if the contours are not evenly spaced.

(*) Horizontal key

(*) options to not use layout() and to plot only the level plot _or_ 
    only the key.  This means you can use layout yourself to (e.g.) 
    have several level plots which share a key.

(*) overlay some or all of the level boundaries with contour lines.

Now, I find this useful. If I am the only one, I'll go away and shut up
but if anyone else thinks these are generally useful enhancements then
I could clean up filled.contour.{R,Rd} and find out how to submit them. 

The current docs say "In future [filled.contour()] is likely to be
replaced by a genuine \code{levelplot} function which will work in
multipanel displays." If this is going to happen in the foreseeable
future, then it will certainly be a better solution than mine. Could
anyone fill me in on  what is happening on this front? 

many thanks, 

Hugh

============S=u=p=p=o=r=t===D=e=b=i=a=n===http://www.debian.org============
Dr. Hugh C. Pumphrey             | Tel. 0131-650-6026,Fax:0131-650-5780
Institute for Meteorology        | Replace 0131 with +44-131 if outside UK
The University of Edinburgh      | Email hcp@met.ed.ac.uk
EDINBURGH EH9 3JZ, Scotland      | URL: http://www.met.ed.ac.uk/~hcp
============S=u=p=p=o=r=t==g=9=5==http://g95.sourceforge.net/==============

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From deepayansarkar@yahoo.com  Mon Nov 12 16:57:39 2001
From: deepayansarkar@yahoo.com (Deepayan Sarkar)
Date: Mon, 12 Nov 2001 08:57:39 -0800 (PST)
Subject: [Rd] Filled Contour.
In-Reply-To: <Pine.GSO.4.10.10111121120130.5888-100000@humilis>
Message-ID: <20011112165739.11185.qmail@web13908.mail.yahoo.com>



To answer the last part of your question, there is a
preliminary version of levelplot (as yet slow, and
without an implementation of contours) already in the
lattice package (under development).

--- H C Pumphrey <hcp@met.ed.ac.uk> wrote:
> 
> Hi.
> 
> I'm a big user of level plots. Because
> filled.contour() didn't do exactly
> what I wanted, I hacked at it a bit to add these
> options:
> 
> (*) Even spacing in the key, even if the contours
> are not evenly spaced.
> 
> (*) Horizontal key
> 
> (*) options to not use layout() and to plot only the
> level plot _or_ 
>     only the key.  This means you can use layout
> yourself to (e.g.) 
>     have several level plots which share a key.
> 
> (*) overlay some or all of the level boundaries with
> contour lines.
> 
> Now, I find this useful. If I am the only one, I'll
> go away and shut up
> but if anyone else thinks these are generally useful
> enhancements then
> I could clean up filled.contour.{R,Rd} and find out
> how to submit them. 
> 
> The current docs say "In future [filled.contour()]
> is likely to be
> replaced by a genuine \code{levelplot} function
> which will work in
> multipanel displays." If this is going to happen in
> the foreseeable
> future, then it will certainly be a better solution
> than mine. Could
> anyone fill me in on  what is happening on this
> front? 
> 
> many thanks, 
> 
> Hugh
> 
>
============S=u=p=p=o=r=t===D=e=b=i=a=n===http://www.debian.org============
> Dr. Hugh C. Pumphrey             | Tel.
> 0131-650-6026,Fax:0131-650-5780
> Institute for Meteorology        | Replace 0131 with
> +44-131 if outside UK
> The University of Edinburgh      | Email
> hcp@met.ed.ac.uk
> EDINBURGH EH9 3JZ, Scotland      | URL:
> http://www.met.ed.ac.uk/~hcp
>
============S=u=p=p=o=r=t==g=9=5==http://g95.sourceforge.net/==============
> 
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To:
> r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Tue Nov 13 03:01:21 2001
From: edd@debian.org (edd@debian.org)
Date: Tue, 13 Nov 2001 04:01:21 +0100 (MET)
Subject: [Rd] r-gnome: plots go blank directly after R is finished plotting (PR#1167)
Message-ID: <200111130301.EAA15337@pubhealth.ku.dk>

Full_Name: Dirk Eddelbuettel
Version: 1.3.1
OS: Linux
Submission from: (NULL) (65.184.214.9)



[ This bug report has previously been filed as #116701 in the 
  Debian Bug Tracking System. --edd ]

From: Egon Willighagen <egonw@sci.kun.nl>
To: Debian Bug Tracking System <submit@bugs.debian.org>
Subject: r-gnome: plots go blank directly after R is finished plotting
Date: Mon, 22 Oct 2001 23:44:41 +0200

Package: r-gnome
Version: 1.3.1-2
Severity: important

When using the plot() function, the output is drawn, but directly after R is
finished drawing the plot window turns blank again. This does not happen when
i do the same in the non-Gnome based R version.

-- System Information
Debian Release: testing/unstable
Architecture: i386
Kernel: Linux garak.sci.kun.nl 2.4.9 #6 Sat Sep 22 19:29:03 CEST 2001 i686
Locale: LANG=, LC_CTYPE=


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Tue Nov 13 10:27:57 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Tue, 13 Nov 2001 11:27:57 +0100
Subject: [Rd] r-gnome: plots go blank directly after R is finished plotting (PR#1167)
In-Reply-To: <200111130301.EAA15337@pubhealth.ku.dk>
References: <200111130301.EAA15337@pubhealth.ku.dk>
Message-ID: <15344.62893.22900.549313@mithrandir.hornik.net>

>>>>> edd  writes:

> Full_Name: Dirk Eddelbuettel
> Version: 1.3.1
> OS: Linux
> Submission from: (NULL) (65.184.214.9)



> [ This bug report has previously been filed as #116701 in the 
>   Debian Bug Tracking System. --edd ]

> From: Egon Willighagen <egonw@sci.kun.nl>
> To: Debian Bug Tracking System <submit@bugs.debian.org>
> Subject: r-gnome: plots go blank directly after R is finished plotting
> Date: Mon, 22 Oct 2001 23:44:41 +0200

> Package: r-gnome
> Version: 1.3.1-2
> Severity: important

> When using the plot() function, the output is drawn, but directly
> after R is finished drawing the plot window turns blank again. This
> does not happen when i do the same in the non-Gnome based R version.

Does not happen for me with the current 1.3.1-4.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.C.Rougier@durham.ac.uk  Tue Nov 13 12:49:41 2001
From: J.C.Rougier@durham.ac.uk (Jonathan Rougier)
Date: Tue, 13 Nov 2001 12:49:41 +0000
Subject: [Rd] Small change to "cut.default"
Message-ID: <3BF116E5.C16B9290@durham.ac.uk>

Hi everyone,

Can I suggest the following cosmetic change to cut.default (R-1.3.1), to
adjust the labels in the case that include.lowest = TRUE:

arrow:dma0jcr% diff -u cut.R my.cut.R 
--- cut.R       Tue Nov 13 12:28:35 2001
+++ my.cut.R    Tue Nov 13 12:35:16 2001
@@ -25,6 +25,11 @@
                         ch.br[-nb], ",", ch.br[-1],
                         if(right)"]" else ")", sep='')
            else paste("Range", 1:(nb - 1),sep="_")
+            if (ok && include.lowest)
+               if (right)
+                       labels[1] <- gsub("^\\(", "\\[", labels[1])
+                else
+                       labels[nb-1] <- gsub("\\)$", "\\]",
labels[nb-1])
     } else if (is.logical(labels) && !labels)
         codes.only <- TRUE
     else if (length(labels) != nb-1)

Thus we have (noticing the labels)

> pp <- rpois(10, lambda = 1)
> breaks <- c(0:2, Inf)
> cut(pp, breaks = breaks)
 [1] NA    (0,1] (0,1] (0,1] NA    NA    NA    (0,1] (1,2] (1,2]
Levels:  (0,1] (1,2] (2,Inf] 
> cut(pp, breaks = breaks, include.lowest = TRUE)
 [1] [0,1] [0,1] [0,1] [0,1] [0,1] [0,1] [0,1] [0,1] (1,2] (1,2]
Levels:  [0,1] (1,2] (2,Inf] 
> cut(pp, breaks = breaks, include.lowest = TRUE, right = FALSE)
 [1] [0,1)   [1,2)   [1,2)   [1,2)   [0,1)   [0,1)   [0,1)   [1,2)  
[2,Inf]
[10] [2,Inf]
Levels:  [0,1) [1,2) [2,Inf] 
> cut(pp, breaks = breaks, right = FALSE)
 [1] [0,1)   [1,2)   [1,2)   [1,2)   [0,1)   [0,1)   [0,1)   [1,2)  
[2,Inf)
[10] [2,Inf)
Levels:  [0,1) [1,2) [2,Inf) 

Cheers, Jonathan.

-- 
Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Tue Nov 13 13:31:09 2001
From: edd@debian.org (edd@debian.org)
Date: Tue, 13 Nov 2001 14:31:09 +0100 (MET)
Subject: [Rd] r-gnome: plots go blank directly after R is finished plotting (PR#1167)
Message-ID: <200111131331.OAA22051@pubhealth.ku.dk>


  KH> From: Egon Willighagen <egonw@sci.kun.nl>
  KH> To: Debian Bug Tracking System <submit@bugs.debian.org>
  KH> Subject: r-gnome: plots go blank directly after R is finished plotting
  KH> Date: Mon, 22 Oct 2001 23:44:41 +0200

  KH> Package: r-gnome
  KH> Version: 1.3.1-2
  KH> Severity: important

  KH> When using the plot() function, the output is drawn, but directly
  KH> after R is finished drawing the plot window turns blank again. This
  KH> does not happen when i do the same in the non-Gnome based R version.

  KH> Does not happen for me with the current 1.3.1-4.

Thanks. That is Debian with Ximian Gnome, isn't it? As it does not happen
either on my box (with KDE), I already added an "unreproducible" tag in the
Debian BTS and asked for further information. I would like to see a report
from a system with Debian + Debian Gnome libs.

-k

-- 
Better to have an approximate answer to the right question 
than a precise answer to the wrong question. -- John Tukey

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jmc@research.bell-labs.com  Tue Nov 13 14:24:35 2001
From: jmc@research.bell-labs.com (John Chambers)
Date: Tue, 13 Nov 2001 09:24:35 -0500
Subject: [Rd] Method dispatch in C for primitive functions
Message-ID: <3BF12D23.D62F50B2@research.bell-labs.com>

There is a version of the methods package committed today that does
dispatch in C for these functions.  This should considerably speed up
programs that define methods for these functions (specifically, having
methods should only marginally affect the existing computations for the
same function on basic vectors and objects).

This is the first of several steps needed.  Not quite all primitives are
handled (only those that use DispatchOrEval internally).  And there will
be a few related changes in the methods structure to add a bit more
speed.  A couple of points of strategy should be discussed, preferably
before version 1.4 is frozen.  I'll try to post a note on these  in the
near future.

When writing methods for primitives, it's currently a bit of a trick to
find the formal argument list, since R currently just returns NULL for
args(f) if f is a primitive.  (We may need to make some change here.)

Two that are worth noting are "[" and "[[" (and the corresponding "[<-"
and "[[<-"):

> args(getGeneric("["))
function (x, i = NULL, j = NULL, ..., drop = TRUE) 
NULL
> args(getGeneric("[["))
function (x, i = NULL, ...) 
NULL

The i,j arguments are there so we can, e.g., define methods that
dispatch on the column argument for data-frame-like objects in the
future.

If you're fussing about efficiency, it's slightly better to make sure
you define methods with all the formal arguments (and anyway, it's
cleaner code).

John
-- 
John M. Chambers                  jmc@bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jmc@research.bell-labs.com  Tue Nov 13 14:54:02 2001
From: jmc@research.bell-labs.com (John Chambers)
Date: Tue, 13 Nov 2001 09:54:02 -0500
Subject: [Rd] Methods package:  One of those strategy questions
Message-ID: <3BF1340A.99CD2EAE@research.bell-labs.com>

I had better mention this one separately, since until it's settled you 
need a workaround.

If you define methods for primitives now, this does NOT create an
explicit generic function for, say, "[", so that the original primitive
computations still run.

This means that the method dispatch has to be turned on for that
function somehow else.

The proposal is that the library() and attach() functions would do a
check for methods metadata and turn on methods search for the functions
found.  (Recent changes to the metadata make this a reasonably efficient
operation.)

Until this is implemented, you will need to force the same computation
from the .First.lib function in your package (ONLY needed if you have
methods for primitives).

The code needed is something like this (inside .First.lib, which gets a
second argument "pkgname":

    where <- match(paste("package:", pkgname, sep=""), search())
    cacheMetaData(as.environment(where))

(Extra calls to cacheMetaData shouldn't hurt, beyond a moderate bit of
extra computation, so this should not be a disaster even after
modifications to library()).

John

-- 
John M. Chambers                  jmc@bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Tue Nov 13 17:07:43 2001
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Tue, 13 Nov 2001 09:07:43 -0800 (PST)
Subject: [Rd] Methods package:  One of those strategy questions
In-Reply-To: <3BF1340A.99CD2EAE@research.bell-labs.com>
Message-ID: <Pine.A41.4.33.0111130906450.38952-100000@homer33.u.washington.edu>

On Tue, 13 Nov 2001, John Chambers wrote:

> I had better mention this one separately, since until it's settled you
> need a workaround.
>
> If you define methods for primitives now, this does NOT create an
> explicit generic function for, say, "[", so that the original primitive
> computations still run.
>
> This means that the method dispatch has to be turned on for that
> function somehow else.

Is this true whenever you define a method for a primitive or only if
that primitive hasn't already got methods defined for it?

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From a296180@mica.fmr.com  Tue Nov 13 18:02:56 2001
From: a296180@mica.fmr.com (David Kane  <David Kane)
Date: Tue, 13 Nov 2001 13:02:56 -0500
Subject: [Rd] modification time warning with R CMD check
Message-ID: <15345.24656.694686.421844@gargle.gargle.HOWL>

I often get warnings like the following when running R CMD check

[...]
* checking for code/documentation mismatches ... OK
* checking tests ...
make: *** Warning: File `Makevars' has modification time in the future (2001-11-13 12:54:37.381546042 > 2001-11-13 12:54:37.314975985)
[...]

I am ready to believe that this is not a bug (i.e., that the timing on my
various machines and file systems is such that I am creating a Makevars with a
modification that is 0.07 seconds in the future from the perspective of the
machine that Perl is running on). However, I would think that a
warning would only be justified if this were far enough (1 second? 5 seconds?)
in the future to be "interesting".

I am running 1.3.1 on Solaris

mica|tmp> R --version
R 1.3.1 (2001-08-31).
Copyright (C) 2001 R Development Core Team

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under the terms of the GNU
General Public License.  For more information about these matters,
see http://www.gnu.org/copyleft/gpl.html.


Thanks,

Dave Kane

-- 
David Kane
Geode Capital Management
617-563-0122
david.d.kane@fmr.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Tue Nov 13 18:25:59 2001
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Tue, 13 Nov 2001 10:25:59 -0800 (PST)
Subject: [Rd] modification time warning with R CMD check
In-Reply-To: <15345.24656.694686.421844@gargle.gargle.HOWL>
Message-ID: <Pine.A41.4.33.0111131021490.38952-100000@homer33.u.washington.edu>

On Tue, 13 Nov 2001, David Kane  <David Kane wrote:

> I often get warnings like the following when running R CMD check
>
> [...]
> * checking for code/documentation mismatches ... OK
> * checking tests ...
> make: *** Warning: File `Makevars' has modification time in the future (2001-11-13 12:54:37.381546042 > 2001-11-13 12:54:37.314975985)
> [...]
>
> I am ready to believe that this is not a bug (i.e., that the timing on my
> various machines and file systems is such that I am creating a Makevars with a
> modification that is 0.07 seconds in the future from the perspective of the
> machine that Perl is running on). However, I would think that a
> warning would only be justified if this were far enough (1 second? 5 seconds?)
> in the future to be "interesting".

I get this too from time to time.  It's actually hard to tell what is
'uninteresting' in general. For example, Linux can create a file in about
50 microseconds on suitable hardware, so a 0.07s lag is easily enough that
files might in principle have been created in the wrong order, messing up
the make algorithm.

Fortunately in building R this sort of lag doesn't matter.
Unfortunately I don't know how to turn the warning off.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Nov 13 18:35:33 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 13 Nov 2001 18:35:33 +0000 (GMT)
Subject: [Rd] modification time warning with R CMD check
In-Reply-To: <Pine.A41.4.33.0111131021490.38952-100000@homer33.u.washington.edu>
Message-ID: <Pine.LNX.4.31.0111131832180.3306-100000@gannet.stats>

On Tue, 13 Nov 2001, Thomas Lumley wrote:

> On Tue, 13 Nov 2001, David Kane  <David Kane wrote:
>
> > I often get warnings like the following when running R CMD check
> >
> > [...]
> > * checking for code/documentation mismatches ... OK
> > * checking tests ...
> > make: *** Warning: File `Makevars' has modification time in the future (2001-11-13 12:54:37.381546042 > 2001-11-13 12:54:37.314975985)
> > [...]
> >
> > I am ready to believe that this is not a bug (i.e., that the timing on my
> > various machines and file systems is such that I am creating a Makevars with a
> > modification that is 0.07 seconds in the future from the perspective of the
> > machine that Perl is running on). However, I would think that a
> > warning would only be justified if this were far enough (1 second? 5 seconds?)
> > in the future to be "interesting".
>
> I get this too from time to time.  It's actually hard to tell what is
> 'uninteresting' in general. For example, Linux can create a file in about
> 50 microseconds on suitable hardware, so a 0.07s lag is easily enough that
> files might in principle have been created in the wrong order, messing up
> the make algorithm.
>
> Fortunately in building R this sort of lag doesn't matter.

It can do. I've had dependencies missed because of it. Maybe not 0.07sec,
but well under a second.

> Unfortunately I don't know how to turn the warning off.

We used to have a rash of this.  We now run xntp, and provided that
has not died on our master server (not unknown), we seem to get no further
problems.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jmc@research.bell-labs.com  Tue Nov 13 18:53:44 2001
From: jmc@research.bell-labs.com (John Chambers)
Date: Tue, 13 Nov 2001 13:53:44 -0500
Subject: [Rd] Methods package:  One of those strategy questions
References: <Pine.A41.4.33.0111130906450.38952-100000@homer33.u.washington.edu>
Message-ID: <3BF16C38.FDCA478B@research.bell-labs.com>

Thomas Lumley wrote:
> 
> On Tue, 13 Nov 2001, John Chambers wrote:
> 
> > I had better mention this one separately, since until it's settled you
> > need a workaround.
> >
> > If you define methods for primitives now, this does NOT create an
> > explicit generic function for, say, "[", so that the original primitive
> > computations still run.
> >
> > This means that the method dispatch has to be turned on for that
> > function somehow else.
> 
> Is this true whenever you define a method for a primitive or only if
> that primitive hasn't already got methods defined for it?
> 
>         -thomas

The former, unfortunately.  As the function's name suggests,
cacheMetaData collects and merges information about all the currently
visible methods.  One doesn't want to do this merge on each dispatch, so
it's triggered by any change in the visible  methods (e.g., a call to
setMethod or a change in the search list).  So "turned on"  really
should have been "notified of a change in the methods".

If I don't hear objections, I plan to add checkMetaData to library,
attach, and detach fairly soon, which should cover the problem.

John
-- 
John M. Chambers                  jmc@bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Tue Nov 13 19:07:41 2001
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 13 Nov 2001 14:07:41 -0500
Subject: [Rd] modification time warning with R CMD check
References: <Pine.A41.4.33.0111131021490.38952-100000@homer33.u.washington.edu>
Message-ID: <3BF16F7D.DB9FD1E1@bank-banque-canada.ca>

>I get this too from time to time.  It's actually hard to tell what is
>Unfortunately I don't know how to turn the warning off.

One way to stop it is to run on a slower machine. To really fix it, of course,
you are suppose to better synchronize your computer and file server clocks. More
seriously, I think it helps if your computer clock errs on the side of being
slightly ahead of the file server clock.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Nov 13 19:46:01 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 13 Nov 2001 19:46:01 +0000 (GMT)
Subject: [Rd] Methods package:  One of those strategy questions
In-Reply-To: <3BF16C38.FDCA478B@research.bell-labs.com>
Message-ID: <Pine.LNX.4.31.0111131944050.3396-100000@gannet.stats>

On Tue, 13 Nov 2001, John Chambers wrote:

> Thomas Lumley wrote:
> >
> > On Tue, 13 Nov 2001, John Chambers wrote:
> >
> > > I had better mention this one separately, since until it's settled you
> > > need a workaround.
> > >
> > > If you define methods for primitives now, this does NOT create an
> > > explicit generic function for, say, "[", so that the original primitive
> > > computations still run.
> > >
> > > This means that the method dispatch has to be turned on for that
> > > function somehow else.
> >
> > Is this true whenever you define a method for a primitive or only if
> > that primitive hasn't already got methods defined for it?
> >
> >         -thomas
>
> The former, unfortunately.  As the function's name suggests,
> cacheMetaData collects and merges information about all the currently
> visible methods.  One doesn't want to do this merge on each dispatch, so
> it's triggered by any change in the visible  methods (e.g., a call to
> setMethod or a change in the search list).  So "turned on"  really
> should have been "notified of a change in the methods".
>
> If I don't hear objections, I plan to add checkMetaData to library,
> attach, and detach fairly soon, which should cover the problem.

You will do some rough performance tests?  We (including I) have forgotten
to do so a few too many times ....

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From White.Denis@epamail.epa.gov  Wed Nov 14 00:11:02 2001
From: White.Denis@epamail.epa.gov (White.Denis@epamail.epa.gov)
Date: Wed, 14 Nov 2001 01:11:02 +0100 (MET)
Subject: [Rd] pdf driver (PR#1168)
Message-ID: <200111140011.BAA27845@pubhealth.ku.dk>

--0__=88256B0300839EDB8f9e8a93df938690918c88256B0300839EDB
Content-type: text/plain; charset=us-ascii

Not sure whether the R pdf driver is the problem, or some HP problem, or
local, but the zip file below has a simple R script [pdfbug.r] using pdf
() to create R2pdf.pdf that causes a "79.00FE PRINTER ERROR" on a HP
5000 N LaserJet printer when printed from Acrobat Reader.

The following other tests do not cause printer errors:  (1) printing
R2pdf.pdf from Acrobat Reader to a HP 8000 DN LaserJet; (2) creating a
postscript file [R2eps.eps] in R, then converting to pdf with Acrobat
Distiller [R2distill.pdf] and printing to the HP 5000; (3) creating a
postscript file, then converting to pdf with Adobe Framemaker
[R2maker.pdf] and printing to the HP 5000.

The other curiousity that emerged from this is that the pdf files from
both distiller and framemaker rotated the plot.

(See attached file: pdfbug.zip)
--0__=88256B0300839EDB8f9e8a93df938690918c88256B0300839EDB
Content-type: application/zip; 
	name="pdfbug.zip"
Content-Disposition: attachment; filename="pdfbug.zip"
Content-transfer-encoding: base64

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

--0__=88256B0300839EDB8f9e8a93df938690918c88256B0300839EDB--


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From White.Denis@epamail.epa.gov  Wed Nov 14 00:14:44 2001
From: White.Denis@epamail.epa.gov (White.Denis@epamail.epa.gov)
Date: Wed, 14 Nov 2001 01:14:44 +0100 (MET)
Subject: [Rd] pdf driver (PR#1169)
Message-ID: <200111140014.BAA27869@pubhealth.ku.dk>

--0__=88256B040001210F8f9e8a93df938690918c88256B040001210F
Content-type: text/plain; charset=us-ascii

{Please ignore earlier message; I forgot R.version}

Not sure whether the R pdf driver is the problem, or some HP problem, or
local, but the zip file below has a simple R script [pdfbug.r] using pdf
() to create R2pdf.pdf that causes a "79.00FE PRINTER ERROR" on a HP
5000 N LaserJet printer when printed from Acrobat Reader.

The following other tests do not cause printer errors:  (1) printing
R2pdf.pdf from Acrobat Reader to a HP 8000 DN LaserJet; (2) creating a
postscript file [R2eps.eps] in R, then converting to pdf with Acrobat
Distiller [R2distill.pdf] and printing to the HP 5000; (3) creating a
postscript file, then converting to pdf with Adobe Framemaker
[R2maker.pdf] and printing to the HP 5000.

The other curiousity that emerged from this is that the pdf files from
both distiller and framemaker rotated the plot.

         _
platform sparc-sun-solaris2.8
arch     sparc
os       solaris2.8
system   sparc, solaris2.8
status
major    1
minor    3.1
year     2001
month    08
day      31
language R

(See attached file: pdfbug.zip)

--0__=88256B040001210F8f9e8a93df938690918c88256B040001210F
Content-type: application/zip; 
	name="pdfbug.zip"
Content-Disposition: attachment; filename="pdfbug.zip"
Content-transfer-encoding: base64

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

--0__=88256B040001210F8f9e8a93df938690918c88256B040001210F--


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Nov 14 07:38:35 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 14 Nov 2001 08:38:35 +0100 (MET)
Subject: [Rd] pdf driver (PR#1169)
Message-ID: <200111140738.IAA29259@pubhealth.ku.dk>

You also forgot to tell us the Acrobat version.  But printing errors from
Acrobat are notorious.  If Acrobat Reader can display the file, the
error is almost certainly in Acrobat Reader, especially as you can print
on another printer.

I don't propose to investigate this as an R bug: I am pretty sure
R's driver is conforming to the PDF spec.

On Wed, 14 Nov 2001 White.Denis@epamail.epa.gov wrote:

> --0__=88256B040001210F8f9e8a93df938690918c88256B040001210F
> Content-type: text/plain; charset=us-ascii
>
> {Please ignore earlier message; I forgot R.version}
>
> Not sure whether the R pdf driver is the problem, or some HP problem, or
> local, but the zip file below has a simple R script [pdfbug.r] using pdf
> () to create R2pdf.pdf that causes a "79.00FE PRINTER ERROR" on a HP
> 5000 N LaserJet printer when printed from Acrobat Reader.
>
> The following other tests do not cause printer errors:  (1) printing
> R2pdf.pdf from Acrobat Reader to a HP 8000 DN LaserJet; (2) creating a
> postscript file [R2eps.eps] in R, then converting to pdf with Acrobat
> Distiller [R2distill.pdf] and printing to the HP 5000; (3) creating a
> postscript file, then converting to pdf with Adobe Framemaker
> [R2maker.pdf] and printing to the HP 5000.
>
> The other curiousity that emerged from this is that the pdf files from
> both distiller and framemaker rotated the plot.
>
>          _
> platform sparc-sun-solaris2.8
> arch     sparc
> os       solaris2.8
> system   sparc, solaris2.8
> status
> major    1
> minor    3.1
> year     2001
> month    08
> day      31
> language R
>
> (See attached file: pdfbug.zip)
>
> --0__=88256B040001210F8f9e8a93df938690918c88256B040001210F
> Content-type: application/zip;
> 	name="pdfbug.zip"
> Content-Disposition: attachment; filename="pdfbug.zip"
> Content-transfer-encoding: base64
>
> UEsDBAoAAAAGAA95bSvCh89ImgAAANwAAAAIAAAAcGRmYnVnLnIMCQAJBAEpmgP6+poCGgYBABb3
> 9/e3FcIlaxYkSpFSZRzuYnCRLEHeTUuWLtqeNFmCRFs27Vm0dHvSTKkQLtu3dEGinFs2LkiUMlOy
> BBkWb9m5PY0GZTq1KEuQeNmGFdtThO15EJ1S4Vm5YeGiTTt2rsu3ZrSnVKgQ7tu5dOeOlZsWLp00
> XBbuXBeDpTFLkG/dljWblm2ZrvAEUEsDBAoABAAGAOd4bStZc2wvWwMAAF8JAAAJAAAAUjJlcHMu
> ZXBzRZ4E/k4DBy4HHhcOBw4GBQYlBBUHBSdehx4HDgcGBw4HBQdeBw4HLgQFFAMVBgQXAwUEAwQH
> AxQFNw4HDgZe/////////78aARIzBAYEBgUHBQQFVxsHGwcLBysGGwb7G3wEDgEDAQMFEwcGlwaX
> Bvf3BwkShi2kxhhP/qUu9dqPErYQGXLXBAminimdeX0T7r3xjWFee9J7em3Mnzt98wuBMvlzmR/X
> s0d8N+hrhmkmDZUa/dzRNWRy/g7B0o88KG8eemjui/nD/Eh77pKGqf3J6aZLN7SPtt/cnI27hZNr
> gswbfMPOWWqNPzevH+OBPnkPFntuhtPH/OHnfmynuZPe6Cfdj0OfjX4Cx/zVUvlXisVfLld+KU6J
> 91H6MdrJOPi22PuyQx92n3uya0q++z/gz7a/FKtUr9V+7Td77ttr9n+s2t+nkVzfJ/7x5dYEP6+/
> v9619Y7ghnuCZw76lFtKdpPOfq3KVi3P6mmTTpBOZvOecG1b5ttu5sj5j2m9pnOH3jSyN3j6R/Cb
> JNQ6oc50T/tYs5z/5IZ7ResRnbbZJ7gqmb7IWe0vcWp/3hNv3byz/KEfX2DHAs2qnK38U6tW/ntX
> 7X/Bo7MXeEpCLqaNsWmjXdUW2lVoyvPZ375mZ/MTW98sc6EKiIfuFvcwruON1RLnp1YwFqWpw53C
> daBp1/5M+rr9LJm/8vXmf4t35Co3Vfo45oMMo7C70/FWgHP3ZuOGzaXTxbAgNDnYFCbAUlefiF5V
> JiDmFSh8ukMnVMyja6UwRcK2lsji03yfhjbEdxzeFoZ3UiKTvmqR+xE3i46bV3DTCLj5Ih+NgFvK
> uGlBPi/hxqrACrdKaP6YJcQZeivdbJrpb6VjNo44XNYx3f37+qyNfxymBkjrCD2gTjUlcoSofP4f
> 0Osn/oAA7ghuE/+Qe7d9iWiq9yxnTEqUfjoMTn+EQnJ4Jue+Klqs1SSn91Zwdno1z+tVosZhjfHt
> jbMoWZoCocDFkaWKOCA2maEjSwtT4fCIVBkeOJ/ApREJR2AlRxA+djxsQxO4geBfXfPdWiOxR7HL
> GCGmGfbFEpZeXZRZQ4V0UC76cW6T1qW81BcF/kulHpvx9WLtT7+rrqVK0XWXYhzX+FPU0Hse7ttw
> PF6l1eTIK1BLAwQKAAQABgDGeG0rjt6OCywDAAA+BwAACQAAAFIycGRmLnBkZkieAx4I/h4DPgYe
> Fy4HBgMFA3UIDgYOBy4WBRZYBwgXCBYFTggGDgYuBCUDFQYEBgglBBYEBQQFBwgGBwj+Tv///+8I
> LwjfF/+/HAECAwQDJAMEHBUTBQwFBywGBQwGPAZ8BRwEHP0dChECAwYFBncD9/f3mWEbyRFPxvmZ
> oUIGHFCI/7zhm2uxPz3939Rpr+My5xvruF/kRgiD4fCcc/qnO+ycE+nfsNNcyVb39CInveCnNSZu
> qeYi/QgR/s5XEHWAyeuhY/a7qeu4FucS/dfSzr0+8JPAew+847qauMeXcIn+3fqOGuP/TZ7z40tP
> fzf5vI7+Sn7w2pKj/1qSo/eakqP7zpBydN45lFPc6FhXaUvJV+fKkmf6tDW3NYsHcRtzVTdrLOXy
> nna+StETXq97C0s+m3vNzo3OzuMu7vL4T693K/NY3Lnc8m5pWsMAe61mSfy3ukzVbKFc3FHvjkux
> QvrCWp3m/Lu1aUOv/NdqdefHfysLtXNL7t2M/DxWdvndSeWs7spSLK6uPS6bL61TtlBcs+O7c2nO
> 78Ccv8rKXMxa3fF+9Y5fDcn338RsbeScqHv+DXIt2O5RcSWEkze4XQyzx6W6fjSXvy6KHW/7IgNf
> SMS0uVhBBreQkT4ywHC14hKd3c7gpjPSwyjYGtDNktigLjaaGLpQm4ua6NFEOppo4GtMuWH0tXXM
> maJCUZiUJ2UxPfokbqqhOZ97B3Qk7dycndhM7ZkV64vyoHa+NMa9g5znRhLtBSVtg3nnxcqk4V/0
> H2a0uy/QnxDv/MpPq3+q5KuXEXd67Ywej61DyLLTz+j1XruT0Rm+euFFLkZ69Vjc1yf2oEGv7b6D
> wRA+mlL/QQi0PkuLcg6NOL2madEHc5Hcv0EvFQTdIl4m/Xg0t1kBv4dzeJ+8ps1RLwHjDlotwwUI
> jZp2+Q/f6f7hULB4nW63333lZ5ofpyw786ZZs28aO/3mwLmdnmkddJumrXu6pq3jZq1pvH08actn
> tDno+WzyNq0t+3ZOp2VTbdv3cVqX4p4knExcAtl+bm+w+fL8DpIl5nl8AzorW6dRyufptTs/MzMl
> XPIHUEsDBAoAAAAGAEt5bSsmmHjeiQMAAOkEAAANAAAAUjJkaXN0aWxsLnBkZg8HAQIzFAJMAgQc
> BmxNBf3tCwACBwYCBgcG9/f3d0tCJWq0ZUyXMhWWFD/++fSGCmWChAnyrVi1CnnyVPiSaVm3Z+mi
> BRkT502FL42mZUu3rFyQL42yDUu3LNGyY9+SLavQp0+Fc+nKLRu2bUOFSBMzddzTocCQEAvvdRrf
> KUyHsBnCFThx4sbbNK2uFUsztmz4+h3uBMqw+X3hvD8aXL+bY8fxpOELnOoUv/CZznF7x3j3Lk7X
> Hh8/no9XeEGXFEFWfFs0NPuNB51SBplZPtnQiJvXjQ01PsbzkQn2LB12p2rSIe2Hz6weJsb7JCf2
> Fs6w4tzm5qlPhCiVpEvdTYWuVy+Vt2OEyacmH5xZbFrTXVsWVmw8c9nkJAtaNsv6bOr6jV+G1tlz
> 53OaU62PtewT/Nvt5q3enwgW4OmMR/sqLOuWTMEXydL5PUNQQpX7duzUsnRBbn1x6iC7KnxZFC/d
> o1PpDDoIbx+dGhMkDfelLCrhAnMbgZNqXrhlQb5EGpatWbpv3ZZVkMSuOsYTdRq2bVmQKImWNRu2
> Llu6KWDe5ZaNW7es27F5QdqEqfBlULdn2ZYFSbOmwpdT4b6la7Su27F00751C/Kl1Ld13ZLJnTRy
> G8yJ6R8UpNmwbOck/xRKkiKlCvIFbWY4Yxh2qGHPtA81rNyybumCrCHz9UupZee+rSt3bNm5IGdA
> 5dC3bul8PxekjEnkMa/xGHiuwpdL05KdC3KL65ba5d91Oo/Sm5Ylmzas0Ld4QW6Fob1MnDiG3QVy
> 3oDsQ8PSDcv27VkFmYXIyeAoDngOabnz1UQMbqMkqjNmzpgwY8YIAp4Zs2ZMmDJlprC5mmzdMS/L
> UQYdK/et2LB0QRJNO5duWrZspB/6tm3bsG7JgpzpEmZMkGbfygU59S3bsHLT0Py7nAkCWyFzywXJ
> FeVUqEGlDuWaMgVslj5KKeybpXun4K16qmnpTNxNf1RuWLho046dC/JpXbpw6/Dc2ZwoXrllzSqE
> CTKnQpgwghSkzZo1Z9YEaRbElNacUXOX1W6mOMyYNqYu82aNqdO0OWPqNmM8hmfSjHGGczyGb9LY
> J125YdPE2szTU9PqLWPwB7P+LV2QN1x2mdSt2bcgcSw5UZBbedoMKzMmTZhkZc4ke/NmWLJmw8ac
> ibPs2JlhYdYkW3YmzbJlc/oIg7tUtDKsXDq6dE6ZNxWWLFn0qVEFUEsDBAoAAAAGAAp5bSuoXNxK
> LQUAAIoJAAALAAAAUjJtYWtlci5wZGYZBwESAwQGAwQFJBcDFBwFPAdcB7ydBS0GLQYUAQMBBAMU
> FgQHBgcGBwYHBqcW9/cHS0IlarRlTJcyFZYUP/759IYKcYKECfKtWLUKefIEqfAl07Ruy4aVm1Zv
> WbIgYzj/KcgYxo0U5FaQNmvCBBnTpkyQXcobpEyaNGUgv4j0cd5AvhP3pApSZkybNUEq9OkTpMKy
> bslU3iBBBEPilVvWTNhjwgSpECaMYB/TJojjBOlm2takSWNa24wpY1rjmMZz2nhcx4R5E8a0lmlj
> X8esSRPH7WSNfQ3zZo59NF25YdOyLSvnVVf4ckqqDjImToUvk7o1+xYE0kFKMdSlvn1LF2QOZhmq
> 3LJ2LPWaNpaflOhWnjnFisWZM+bYnDVlhpUZNqbMmWXDkpVps+bNmDJj0sRJcyzZmj7CAXcB5RXO
> pRtWLh1PJUyFJUsWfWpElbLCHA+Pp5oXblmQL4eGpRuW7dszTR32bNm5IG9syU7DtmkeJ+ccNR8l
> HYRbomXn0p0LskY5aaNcfDkV5EybICAxR/6l0bRs6ZaVc3y2YemWJVp27FsyRGda1u1ZumhBxuDd
> Gd5z6cotG7ZtQ4VIE4sFCxY8WLBg1YsFKNDsUINsAQ9UuhBgzJUUZ8IkKBMuXsXnPxecnTGw4N0h
> ZTLWDjCgQYBunQ+UNlT/rsneaJJryggTYzBGCFaJpdyybukoZqWWnfu2rtwxjrUMaXnoW7d0xBd9
> GtHQct/CFfoWT8N5DtD6JkyZIDReSZxuWpZs2jDbTjtzaItS39IxbNTbjZWRxUOV+3bs1LJ0+P+i
> Y68+i+Kle3QKfnSqj06NCTJmjdzM1tm+lTsVbtgx3n7o3JogY87wNqfzM06Xt9R3WLZSjwqJz6to
> 09ItC/VtWje0N0yXOWvCWOg2+l3CxIkzJ46gvzwatm3bMNyX6VKmTJkxcxyrWmdYunLTzDpd0kjp
> p4u7lBlTZo2Kc5cwY+aUcdwza954zpsxa8b47pgxc8Z47pg4YdJ4bpg3ZTxHkFfYBdCpsMufpTEK
> lCAk0TcKBCVopo9zqyUak2HRvX2L9xfYmHxV118jIiSttzzM6psLE5ROVjF/v7yLMzQOfjDdiys9
> 0tW7veLjkyl9BhUY1KXr7583dk9Pu+dI2x2lP/ddvfZdlL5Bch7pN3x2iT7h+kbomqJk2IPvKn6r
> MDrOtYchzjyKtyXn5QLHPh7sP2Xs2r1DRkeecPrq3+u9SnVatjHHyyU1w+xvsjHqlGorWp09WDP0
> kErJxtZKfS3a1JN769eKUmn/q17BY9960SFF25ajlw1N0anh8DlDtzVvmbdhq0tbdgdcPidc83Wz
> q5YvfT7ozv4JYgTof/1UDzMXr/FxCZwnfNQPCtJsWLZzlLMJJR3HX/qlgnyZlAzHfVq6eVwedbMZ
> jL+AE+3HmlUrSLd12bIhRnfJZ2Xkw2fkw2noRHTbNCztt4JEaTQlSqguY6bsElKZ6bDYHiXTFCed
> Ew/UHeWUpNilacn4N41z3AbABkm27piH/iiDjpX7VmxYuiCJpp1LNy0blPQgabqEWROk2bdyQby0
> lzsW5NS3bELG56ZwWF02LJ3rozQqx+xNw65hv02XMLLf9C1ZIgG/URLVKeMkfoxg0DNj1vCJnqMe
> Ou1bN+C4zJg3U4jxN3oq5BxMizECMxLrdRiaxxg185F4kDh6hjAQ3mbNmjMgvYJpbcrMkTFVhVfT
> wG/SrDGtccKcMU3iqBhqYblpWibMnDEqBlAcLhN8MebNGTBTAlBLAQIKAwoAAAAGAA95bSvCh89I
> mgAAANwAAAAIAAAAAAAAAAAAAACkgQAAAABwZGZidWcuclBLAQIKAwoABAAGAOd4bStZc2wvWwMA
> AF8JAAAJAAAAAAAAAAAAAACkgcAAAABSMmVwcy5lcHNQSwECCgMKAAQABgDGeG0rjt6OCywDAAA+
> BwAACQAAAAAAAAAAAAAApIFCBAAAUjJwZGYucGRmUEsBAgoDCgAAAAYAS3ltKyaYeN6JAwAA6QQA
> AA0AAAAAAAAAAAAAAKSBlQcAAFIyZGlzdGlsbC5wZGZQSwECCgMKAAAABgAKeW0rqFzcSi0FAACK
> CQAACwAAAAAAAAAAAAAApIFJCwAAUjJtYWtlci5wZGZQSwUGAAAAAAUABQAYAQAAnxAAAAAA
>
> --0__=88256B040001210F8f9e8a93df938690918c88256B040001210F--
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Nov 14 09:21:15 2001
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 14 Nov 2001 10:21:15 +0100
Subject: [Rd] Small change to "cut.default"
In-Reply-To: <3BF116E5.C16B9290@durham.ac.uk>
References: <3BF116E5.C16B9290@durham.ac.uk>
Message-ID: <15346.14219.27627.740832@gargle.gargle.HOWL>

>>>>> "JonR" == Jonathan Rougier <J.C.Rougier@durham.ac.uk> writes:

    JonR> Hi everyone, Can I suggest the following cosmetic change to
    JonR> cut.default (R-1.3.1), to adjust the labels in the case that
    JonR> include.lowest = TRUE:

    .....

    JonR> Thus we have (noticing the labels)

    >> pp <- rpois(10, lambda = 1) breaks <- c(0:2, Inf) 
    >> cut(pp, breaks =breaks)
    JonR>  [1] NA (0,1] (0,1] (0,1] NA NA NA (0,1] (1,2] (1,2]
    JonR>  Levels: (0,1] (1,2] (2,Inf]
    >> cut(pp, breaks = breaks, include.lowest = TRUE)
    JonR>  [1] [0,1] [0,1] [0,1] [0,1] [0,1] [0,1] [0,1] [0,1] (1,2] (1,2]
    JonR> Levels: [0,1] (1,2] (2,Inf]
    >> cut(pp, breaks = breaks, include.lowest = TRUE, right = FALSE)
    JonR>  [1] [0,1) [1,2) [1,2) [1,2) [0,1) [0,1) [0,1) [1,2) [2,Inf] ..
    JonR> Levels: [0,1) [1,2) [2,Inf]
    >> cut(pp, breaks = breaks, right = FALSE)
    JonR>  [1] [0,1) [1,2) [1,2) [1,2) [0,1) [0,1) [0,1) [1,2) [2,Inf) ..
    JonR>  Levels: [0,1) [1,2) [2,Inf)

which sounds very reasonable.

There is the slight chance to break old code however for people who made
explicit use of the factor levels in things like

  indhigh  <-  fp == "[2, Inf)"

I still believe we should do the change for 1.4.
If there won't be further voices, I'll do.

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Wed Nov 14 11:21:04 2001
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich.Leisch@ci.tuwien.ac.at)
Date: Wed, 14 Nov 2001 12:21:04 +0100
Subject: [Rd] CVS snapshots on CRAN
Message-ID: <15346.21408.334683.283386@galadriel.ci.tuwien.ac.at>


As there have been no negative reactions to my question last week
CRAN no longer mirrors the daily snapshots of the R sources. Archives
of the official releases are of course still available at every CRAN
node.

All answers I got (thanks to all respondents) had basically the same
content: It is important that the snapshot are available somewhere (to
which I wholeheartedly agree), but it is not important that every
single CRAN node carries them. In fact, it makes only limited sense to
propagate archives that change on a daily basis through a network of
mirror sites. When a snapshot reaches one of the final nodes in the
mirroring process, there are already 2 newer versions available at the
orginal sites ...

Snapshots of the R sources (copy of the current CVS tree) can from now
on be obtained from two sources:

*) Anonymous rsync from rsync.rproject.org. This is probably the best
   option if you want to track the R sources on a regular basis,
   because it allows to update a copy of the CVS tree downloading only
   differences since your last checkout. See http://www.rsync.org for
   more information on rsync. If rsync is installed on your system
   then

	rsync rsync.r-project.org::

   gives you a list of available modules, currently including:
   r-release      R-1.3.1 sources (current released version - approx 25 MB)
   r-patched      R sources (patched released version - approx 25 MB)
   r-devel        R sources (devel version, less stable - approx 25 MB)
   r-ng           R sources (next generation - unstable - approx 25 MB)

   Note that rsync connections can be compressed, such that the actual
   number of megabytes transferred is approximately the same as
   downloading a gzipped tar file.

      
*) The usual gzipped and bzipped tar files continue to be available by
    anonymous FTP from ftp://ftp.stat.math.ethz.ch/Software/R</a>.



Best,
Fritz

-- 
-------------------------------------------------------------------
                        Friedrich  Leisch 
Institut fr Statistik                     Tel: (+43 1) 58801 10715
Technische Universitt Wien                Fax: (+43 1) 58801 10798
Wiedner Hauptstrae 8-10/1071      Friedrich.Leisch@ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jan.van.de.kraats@kabelfoon.nl  Wed Nov 14 15:41:00 2001
From: jan.van.de.kraats@kabelfoon.nl (J A van de Kraats)
Date: Wed, 14 Nov 2001 16:41:00 +0100
Subject: [Rd] European Water Management News
Message-ID: <595922-220011131415410910@kabelfoon.nl>

Dear Colleague,
 
Our journal, European Water Management, the official journal of the European Water Association (EWA), has started a free e-mail news service.

If you subscribe, you get weekly a mail with press releases, etc. concerning water (management, research, policy, industry, etc.).

It is completely free for all people working in the water sector in its broadest sense.

Older issues of the news are available at www.riza.nl (click on European Water Management News). You can visit this site to get an idea what you will get and if this is useful for you. You can subscribe via this site, but you can subscribe too by sending me at jan.van.de.kraats@kabelfoon.nl a mail with in the subject line "Subscribe European Water Management News."

Unsubscribing later is as easy, just send me a mail with "Unsubscribe European Water Management News" in the subject line.
I am looking forward to your answer.
 
Best regards,
Jan van de Kraats
Institute for Inland Water Treatment and Waste Water Treatment (RIZA)



European Water Management
Official Journal of the European Water Association (EWA)
Editor-in-Chief
Drs J A van de Kraats
Institute for Inland Water Management
and Waste Water Treatment (RIZA)
PO Box 17
8200 AA Lelystad
The Netherlands
Tel +31 320 298 793
Fax +31 320 280883
E-mail j.vdkraats@riza.rws.minvenw.nl
Private Fax +15308844520
Private E-mail jan.van.de.kraats@kabelfoon.nl





Drs Jan A van de Kraats
Editor-in-Chief European Water Management
INSTITUTE FOR INLAND WATER MANAGEMENT
AND WASTE WATER TREATMENT(RIZA)
Lelystad,
The Netherlands
jan.van.de.kraats@kabelfoon.nl
www.riza.nl

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Nov 14 15:59:08 2001
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 14 Nov 2001 16:59:08 +0100
Subject: [Rd] confusion() -- generic function in package mda -- generally useful?
Message-ID: <15346.38092.644990.904103@gargle.gargle.HOWL>

For a private package ("soon" to be on CRAN),
I started looking at and thinking about the function confusion() from the
mda package and wondered if it wouldn't make sense to provide the generic
function in base R and also think about making the default for the `true'
argument equal to  fitted(object).

One could write methods for confusion() for almost all classifiers 
which would be a nice universal approach.
Also, the value (a confusion matrix contingency table with some "useful"
attributes) could be made a bit more explicit.

Good or not so good idea?  alternatives?

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

>>   Confusion Matrices
>> 
>>   Description:
>> 
>>        Compute the confusion matrix between two factors, or for an fda or
>>        mda object.
>> 
>>   Usage:
>> 
>>        confusion(object, true, ...)
>>        confusion(object, data, ...)
>> 
>>   Arguments:
>> 
>>     object: the predicted factor, or an fda or mda model object.
>> 
>>       true: the true factor.
>> 
>>       data: a data frame (list) containing the test data.
>> 
>>        ...: further arguments to be passed to or from methods.
>> 
>>   Details:
>> 
>>        This is a generic function.
>> 
>>   Value:
>> 
>>        For the default method essentially `table(object, true)', but with
>>        some useful attribute(s).
>> 
>>   See Also:
>> 
>>        `fda', `predict.fda'
>> 
>>   Examples:
>> 
>>        data(iris)
>>        irisfit <- fda(Species ~ ., data = iris)
>>        confusion(predict(irisfit, iris), iris$Species)
>>        ##            Setosa Versicolor Virginica 
>>        ##     Setosa     50          0         0
>>        ## Versicolor      0         48         1
>>        ##  Virginica      0          2        49
>>        ## attr(, "error"):
>>        ## [1] 0.02

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From darmy16@hotmail.com  Wed Nov 14 17:43:53 2001
From: darmy16@hotmail.com (Jean Wu)
Date: Wed, 14 Nov 2001 12:43:53 -0500
Subject: [Rd] lme: how to extract the variance components?
Message-ID: <DAV528MwHmLJRrtgMVN00013474@hotmail.com>

This is a multi-part message in MIME format.

------=_NextPart_000_0005_01C16D0A.0459F770
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

      Dear all,=20
      Here is the question:
      For example, using the "petrol" data offered with R.
      pet3.lme<-lme(Y~SG+VP+V10+EP,random=3D~1|No,data=3Dpetrol)
      pet3.lme$sigma gives the residual StdDev.
      But I can't figure out how to extract the "(intercept) StdDev",=20
      although it is in the print out if I do "summary(pet3.lme)".

      In S-plus3.4 , $var.ran is the estimate of the variance of the =
random=20
      effects between clusters. what is the equivalent thing to do in R?

      Thank you very much!

    =20

Jean

------=_NextPart_000_0005_01C16D0A.0459F770
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META content=3D"text/html; charset=3Diso-8859-1" =
http-equiv=3DContent-Type>
<META content=3D"MSHTML 5.00.3018.900" name=3DGENERATOR>
<STYLE></STYLE>
</HEAD>
<BODY bgColor=3D#ffffff>
<DIV><FONT size=3D2>
<TABLE width=3D"100%">
  <TBODY>
  <TR>
    <TD>
      <P><FONT face=3DArial>Dear all, <BR>Here is the question:<BR>For =
example,=20
      using the "petrol" data offered with=20
      =
R.<BR>pet3.lme&lt;-lme(Y~SG+VP+V10+EP,random=3D~1|No,data=3Dpetrol)<BR>pe=
t3.lme$sigma=20
      gives the residual StdDev.<BR>But I can't figure out how to =
extract the=20
      "(intercept) StdDev", <BR>although it is in the print out if I do=20
      "summary(pet3.lme)".<BR><BR>In S-plus3.4 , $var.ran is the =
estimate of the=20
      variance of the random <BR>effects between clusters. what is the=20
      equivalent thing to do in R?<BR><BR>Thank you very=20
      =
much!<BR></FONT></FONT></P></TD></TR></TBODY></TABLE></FONT></DIV><FONT=20
face=3DArial size=3D2>Jean</FONT></BODY></HTML>

------=_NextPart_000_0005_01C16D0A.0459F770--
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Wed Nov 14 18:17:28 2001
From: bates@stat.wisc.edu (Douglas Bates)
Date: 14 Nov 2001 12:17:28 -0600
Subject: [Rd] lme: how to extract the variance components?
In-Reply-To: <DAV528MwHmLJRrtgMVN00013474@hotmail.com>
References: <DAV528MwHmLJRrtgMVN00013474@hotmail.com>
Message-ID: <6ry9l9ushz.fsf@franz.stat.wisc.edu>

"Jean Wu" <darmy16@hotmail.com> writes:

>       Dear all, 
>       Here is the question:
>       For example, using the "petrol" data offered with R.

I think you mean the "petrol" data from the MASS library for R.

>       pet3.lme<-lme(Y~SG+VP+V10+EP,random=~1|No,data=petrol)
>       pet3.lme$sigma gives the residual StdDev.
>       But I can't figure out how to extract the "(intercept) StdDev", 
>       although it is in the print out if I do "summary(pet3.lme)".

You can get a character representation of the number from VarCorr
> VarCorr(pet3.lme)
No = pdLogChol(1) 
            Variance StdDev  
(Intercept) 2.088107 1.445028
Residual    3.504931 1.872146
> VarCorr(pet3.lme)["(Intercept)", "Variance"]
[1] "2.088107"
> as.numeric(VarCorr(pet3.lme)["(Intercept)", "Variance"])
[1] 2.088107

A better but more complicated approach is to extract the reStruct
component of the modelStruct component of the fitted model and convert
convert to a matrix.

> str(as.matrix(pet3.lme$modelStruct$reStruct))
List of 1
 $ No: num 0.596
  ..- attr(*, "dimnames")=List of 2
  .. ..$ : chr "(Intercept)"
  .. ..$ : chr "(Intercept)"

The result is actually a list of matrices because we must allow for
cases of nested grouping factors.  The first (and only, in this case)
element of the list is the relative variance-covariance matrix of the
random effects for the first grouping factor.  To convert it to the
variance-covariance matrix you multiply by sigma^2.

> as.matrix(pet3.lme$modelStruct$reStruct)[[1]] * pet3.lme$sigma^2
            (Intercept)
(Intercept)    2.088107

That number prints the same as the previous value derived from VarCorr
but this extraction retains the full numerical precision because it
does not convert to character and back to numeric.

>       In S-plus3.4 , $var.ran is the estimate of the variance of the random 
>       effects between clusters. what is the equivalent thing to do in R?

That's from a very old version of the NLME package that uses different
computational methods from those used in NLME 3.0 and higher.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Wed Nov 14 18:19:39 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 14 Nov 2001 19:19:39 +0100
Subject: [Rd] lme: how to extract the variance components?
In-Reply-To: <DAV528MwHmLJRrtgMVN00013474@hotmail.com>
References: <DAV528MwHmLJRrtgMVN00013474@hotmail.com>
Message-ID: <x2d72lcj0k.fsf@blueberry.kubism.ku.dk>

"Jean Wu" <darmy16@hotmail.com> writes:

>       Dear all, 
>       Here is the question:
>       For example, using the "petrol" data offered with R.
>       pet3.lme<-lme(Y~SG+VP+V10+EP,random=~1|No,data=petrol)
>       pet3.lme$sigma gives the residual StdDev.
>       But I can't figure out how to extract the "(intercept) StdDev", 
>       although it is in the print out if I do "summary(pet3.lme)".
> 
>       In S-plus3.4 , $var.ran is the estimate of the variance of the random 
>       effects between clusters. what is the equivalent thing to do in R?

It's been a while, but I have some old code saying


lme.obj <- lme(log(Height)~ns(sqrt(Age),knots=c(0.25,.5,1,5),
  Boundary.knots=c(0,10)), random=~sqrt(Age)|ID,
  correlation=corExp(form=~sqrt(Age),nugget=F))
Age.new <- seq(0,10,0.01)  
C.mat  <- lme.obj$sigma^2*as.matrix(lme.obj$modelStruct$reStruct$ID)
SD <- sqrt(sapply(Age.new,
  function(a){x<-c(1,sqrt(a)); t(x) %*% C.mat %*% x})
  +lme.obj$sigma^2)

so I would expect that you want 

pet3.lme$sigma^2 * as.matrix(pet3.lme$modelStruct$reStruct$No)


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gregory_r_warnes@groton.pfizer.com  Wed Nov 14 20:20:34 2001
From: gregory_r_warnes@groton.pfizer.com (gregory_r_warnes@groton.pfizer.com)
Date: Wed, 14 Nov 2001 21:20:34 +0100 (MET)
Subject: [Rd] rpart:plotcp doesn't allow ylim argument (PR#1171)
Message-ID: <200111142020.VAA09432@pubhealth.ku.dk>

Full_Name: Gregory R. Warnes
Version: R 1.3.1
OS: Solaris 2.8
Submission from: (NULL) (192.77.198.200)


rpart library version 3.1-2

Error message:
> plotcp(fit.thirds.1,ylim=c(0.7,1.5));
Error in plot.default(ns, xerror, axes = FALSE, xlab = "cp", ylab = "X-val
Relative Error",  : 
	formal argument "ylim" matched by multiple actual arguments
> 

This can be corrected by adding  ylim to the list of formal argument and
wrapping 
the definition of ylim with 'if(missing(ylim))'.  Patch below.

-Greg

---PATCH STARTS HERE---
diff -r rpart.orig//R/plotcp.s rpart/R/plotcp.s
5c5
< 		   upper=c("size", "splits", "none"), ...)
---
> 		   upper=c("size", "splits", "none"), ylim, ...)
18c18,19
<   ylim <- c(min(xerror - xstd) - 0.1, max(xerror + xstd) + 0.1)
---
>   if(missing(ylim))
>     ylim <- c(min(xerror - xstd) - 0.1, max(xerror + xstd) + 0.1)


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Paul.White@dsto.defence.gov.au  Thu Nov 15 05:52:24 2001
From: Paul.White@dsto.defence.gov.au (Paul.White@dsto.defence.gov.au)
Date: Thu, 15 Nov 2001 06:52:24 +0100 (MET)
Subject: [Rd] rhs of == does not work with a list of items. should it ? (PR#1172)
Message-ID: <200111150552.GAA11204@pubhealth.ku.dk>

> Hello bug people,
> 
> Version:
>  platform = i686-pc-linux-gnu
>  arch = i686
>  os = linux-gnu
>  system = i686, linux-gnu
>  status =
>  major = 1
>  minor = 3.1
>  year = 2001
>  month = 08
>  day = 31
>  language = R
> 
> is this a bug ?
> 
> x <- 1:10
> x==4:5
>  [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
> 
> Nothing said it should but nothing said it shouldn't . My expectation was
> that it would successively try
> each of the values in the list and or the result for each item in the x
> vector. ie it would pick out all the matches
of 4 or 5.

> [1] FALSE FALSE FALSE  TRUE TRUE FALSE FALSE FALSE FALSE FALSE
> 
> Paul

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ligges@statistik.uni-dortmund.de  Thu Nov 15 07:24:55 2001
From: ligges@statistik.uni-dortmund.de (ligges@statistik.uni-dortmund.de)
Date: Thu, 15 Nov 2001 08:24:55 +0100 (MET)
Subject: [Rd] rhs of == does not work with a list of items. should it ? (PR#1173)
Message-ID: <200111150724.IAA11644@pubhealth.ku.dk>

Paul.White@dsto.defence.gov.au wrote:
> 
> > Hello bug people,
> >
> > Version:
> >  platform = i686-pc-linux-gnu
> >  arch = i686
> >  os = linux-gnu
> >  system = i686, linux-gnu
> >  status =
> >  major = 1
> >  minor = 3.1
> >  year = 2001
> >  month = 08
> >  day = 31
> >  language = R
> >
> > is this a bug ?
> >
> > x <- 1:10
> > x==4:5
> >  [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
> >
> > Nothing said it should but nothing said it shouldn't . My expectation was
> > that it would successively try
> > each of the values in the list and or the result for each item in the x
> > vector. ie it would pick out all the matches
> of 4 or 5.
> 
> > [1] FALSE FALSE FALSE  TRUE TRUE FALSE FALSE FALSE FALSE FALSE

That's not a bug!
R extends the vector 4:5 to have the same length as 1:10 and compares
these two vectors:

4 1
5 2
4 3
5 4
4 5
5 6
4 7
5 8
4 9
5 10

So there is no position with "4:5 == 1:10"!
Test it with: 2:10 == 4:5.

What you want is  (I guess):
 1:10 %in% 4:5

Uwe Ligges

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Nov 15 09:00:50 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 15 Nov 2001 10:00:50 +0100 (MET)
Subject: [Rd] rhs of == does not work with a list of items (PR#1172)
Message-ID: <200111150900.KAA12881@pubhealth.ku.dk>

(1) There are no lists here!  You have numeric vectors, not lists.


(2) The normal vector-recycling rules apply.  It does
1 == 4, 2 == 5, 3 == 4, 4 == 5,  5 == 4, ....

Try

> 1:10 == 5:4
 [1] FALSE FALSE FALSE  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE


(3) For what you appear to want

> x %in% 4:5
 [1] FALSE FALSE FALSE  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE

is the way to get it.


(4) It is better to read the reference manual or a good book or post to
R-help if you don't understand what R is doing.  See the section in the
FAQ

  9.1 What is a bug?

R is a volunteer project, and bug reports take valuable time.


On Thu, 15 Nov 2001 Paul.White@dsto.defence.gov.au wrote:

> > Hello bug people,
> >
> > Version:
> >  platform = i686-pc-linux-gnu
> >  arch = i686
> >  os = linux-gnu
> >  system = i686, linux-gnu
> >  status =
> >  major = 1
> >  minor = 3.1
> >  year = 2001
> >  month = 08
> >  day = 31
> >  language = R
> >
> > is this a bug ?
> >
> > x <- 1:10
> > x==4:5
> >  [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
> >
> > Nothing said it should but nothing said it shouldn't . My expectation was
> > that it would successively try
> > each of the values in the list and or the result for each item in the x
> > vector. ie it would pick out all the matches
> of 4 or 5.
>
> > [1] FALSE FALSE FALSE  TRUE TRUE FALSE FALSE FALSE FALSE FALSE
> >
> > Paul
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Nov 15 09:25:12 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 15 Nov 2001 10:25:12 +0100 (MET)
Subject: [Rd] rpart:plotcp doesn't allow ylim argument (PR#1171)
Message-ID: <200111150925.KAA13266@pubhealth.ku.dk>

It doesn't say it allows ylim, either. Why would you want to do this?

rpart is a port of code written for S-PLUS 6: that has been finalized last
week and rpart version 3.1-3 is the result.  It's been very difficult
tracking the changes, and I am not prepared to diverge the R port from the
original except where essential.   (By no means all changes I feed back get
incorporated.)

You'll need to convince me that this is essential.

On Wed, 14 Nov 2001 gregory_r_warnes@groton.pfizer.com wrote:

> Full_Name: Gregory R. Warnes
> Version: R 1.3.1
> OS: Solaris 2.8
> Submission from: (NULL) (192.77.198.200)
>
>
> rpart library version 3.1-2
>
> Error message:
> > plotcp(fit.thirds.1,ylim=c(0.7,1.5));
> Error in plot.default(ns, xerror, axes = FALSE, xlab = "cp", ylab = "X-val
> Relative Error",  :
> 	formal argument "ylim" matched by multiple actual arguments
> >
>
> This can be corrected by adding  ylim to the list of formal argument and
> wrapping
> the definition of ylim with 'if(missing(ylim))'.  Patch below.
>
> -Greg
>
> ---PATCH STARTS HERE---
> diff -r rpart.orig//R/plotcp.s rpart/R/plotcp.s
> 5c5
> < 		   upper=c("size", "splits", "none"), ...)
> ---
> > 		   upper=c("size", "splits", "none"), ylim, ...)
> 18c18,19
> <   ylim <- c(min(xerror - xstd) - 0.1, max(xerror + xstd) + 0.1)
> ---
> >   if(missing(ylim))
> >     ylim <- c(min(xerror - xstd) - 0.1, max(xerror + xstd) + 0.1)
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

--
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gregory_r_warnes@groton.pfizer.com  Thu Nov 15 14:28:15 2001
From: gregory_r_warnes@groton.pfizer.com (Warnes, Gregory R)
Date: Thu, 15 Nov 2001 09:28:15 -0500
Subject: [Rd] rpart:plotcp doesn't allow ylim argument (PR#1171)
Message-ID: <5429125E11E4D411AF7300805FE603A8014CEFEE@groexmbcr02.pfizer.com>


Hi Brain,

The reason for specifying ylim is to allow me to generate these plots for
several different trees and compare them side by side.  Its hard to do that
properly if the plots are on different scales.

While the help page doesn't say explicitly that it allows ylim, it does say
that "..." are "additional plotting parameters" which often means that the
standard plotting parameters will get handled properly.

-Greg

 > -----Original Message-----
 > From: ripley@stats.ox.ac.uk [mailto:ripley@stats.ox.ac.uk]
 > Sent: Thursday, November 15, 2001 4:25 AM
 > To: r-devel@stat.math.ethz.ch
 > Cc: R-bugs@biostat.ku.dk
 > Subject: Re: [Rd] rpart:plotcp doesn't allow ylim argument (PR#1171)
 > 
 > 
 > It doesn't say it allows ylim, either. Why would you want to do this?
 > 
 > rpart is a port of code written for S-PLUS 6: that has been 
 > finalized last
 > week and rpart version 3.1-3 is the result.  It's been very difficult
 > tracking the changes, and I am not prepared to diverge the R 
 > port from the
 > original except where essential.   (By no means all changes 
 > I feed back get
 > incorporated.)
 > 
 > You'll need to convince me that this is essential.
 > 
 > On Wed, 14 Nov 2001 gregory_r_warnes@groton.pfizer.com wrote:
 > 
 > > Full_Name: Gregory R. Warnes
 > > Version: R 1.3.1
 > > OS: Solaris 2.8
 > > Submission from: (NULL) (192.77.198.200)
 > >
 > >
 > > rpart library version 3.1-2
 > >
 > > Error message:
 > > > plotcp(fit.thirds.1,ylim=c(0.7,1.5));
 > > Error in plot.default(ns, xerror, axes = FALSE, xlab = 
 > "cp", ylab = "X-val
 > > Relative Error",  :
 > > 	formal argument "ylim" matched by multiple actual arguments
 > > >
 > >
 > > This can be corrected by adding  ylim to the list of 
 > formal argument and
 > > wrapping
 > > the definition of ylim with 'if(missing(ylim))'.  Patch below.
 > >
 > > -Greg
 > >
 > > ---PATCH STARTS HERE---
 > > diff -r rpart.orig//R/plotcp.s rpart/R/plotcp.s
 > > 5c5
 > > < 		   upper=c("size", "splits", "none"), ...)
 > > ---
 > > > 		   upper=c("size", "splits", "none"), ylim, ...)
 > > 18c18,19
 > > <   ylim <- c(min(xerror - xstd) - 0.1, max(xerror + xstd) + 0.1)
 > > ---
 > > >   if(missing(ylim))
 > > >     ylim <- c(min(xerror - xstd) - 0.1, max(xerror + xstd) + 0.1)
 > >
 > >
 > > 
 > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
 > .-.-.-.-.-.-.-.-.-
 > > r-devel mailing list -- Read 
 > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
 > > Send "info", "help", or "[un]subscribe"
 > > (in the "body", not the subject !)  To: 
 > r-devel-request@stat.math.ethz.ch
 > > 
 > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
 > ._._._._._._._._._
 > >
 > 
 > --
 > Brian D. Ripley,                  ripley@stats.ox.ac.uk
 > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
 > University of Oxford,             Tel:  +44 1865 272861 (self)
 > 1 South Parks Road,                     +44 1865 272860 (secr)
 > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
 > 
 > 
 > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
 > .-.-.-.-.-.-.-.-.-
 > r-devel mailing list -- Read 
 > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
 > Send "info", "help", or "[un]subscribe"
 > (in the "body", not the subject !)  To: 
 > r-devel-request@stat.math.ethz.ch
 > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
 > ._._._._._._._._._
 > 


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From gregory_r_warnes@groton.pfizer.com  Thu Nov 15 14:28:56 2001
From: gregory_r_warnes@groton.pfizer.com (gregory_r_warnes@groton.pfizer.com)
Date: Thu, 15 Nov 2001 15:28:56 +0100 (MET)
Subject: [Rd] rpart:plotcp doesn't allow ylim argument (PR#1171)
Message-ID: <200111151428.PAA19138@pubhealth.ku.dk>


Hi Brain,

The reason for specifying ylim is to allow me to generate these plots for
several different trees and compare them side by side.  Its hard to do that
properly if the plots are on different scales.

While the help page doesn't say explicitly that it allows ylim, it does say
that "..." are "additional plotting parameters" which often means that the
standard plotting parameters will get handled properly.

-Greg

 > -----Original Message-----
 > From: ripley@stats.ox.ac.uk [mailto:ripley@stats.ox.ac.uk]
 > Sent: Thursday, November 15, 2001 4:25 AM
 > To: r-devel@stat.math.ethz.ch
 > Cc: R-bugs@biostat.ku.dk
 > Subject: Re: [Rd] rpart:plotcp doesn't allow ylim argument (PR#1171)
 > 
 > 
 > It doesn't say it allows ylim, either. Why would you want to do this?
 > 
 > rpart is a port of code written for S-PLUS 6: that has been 
 > finalized last
 > week and rpart version 3.1-3 is the result.  It's been very difficult
 > tracking the changes, and I am not prepared to diverge the R 
 > port from the
 > original except where essential.   (By no means all changes 
 > I feed back get
 > incorporated.)
 > 
 > You'll need to convince me that this is essential.
 > 
 > On Wed, 14 Nov 2001 gregory_r_warnes@groton.pfizer.com wrote:
 > 
 > > Full_Name: Gregory R. Warnes
 > > Version: R 1.3.1
 > > OS: Solaris 2.8
 > > Submission from: (NULL) (192.77.198.200)
 > >
 > >
 > > rpart library version 3.1-2
 > >
 > > Error message:
 > > > plotcp(fit.thirds.1,ylim=c(0.7,1.5));
 > > Error in plot.default(ns, xerror, axes = FALSE, xlab = 
 > "cp", ylab = "X-val
 > > Relative Error",  :
 > > 	formal argument "ylim" matched by multiple actual arguments
 > > >
 > >
 > > This can be corrected by adding  ylim to the list of 
 > formal argument and
 > > wrapping
 > > the definition of ylim with 'if(missing(ylim))'.  Patch below.
 > >
 > > -Greg
 > >
 > > ---PATCH STARTS HERE---
 > > diff -r rpart.orig//R/plotcp.s rpart/R/plotcp.s
 > > 5c5
 > > < 		   upper=c("size", "splits", "none"), ...)
 > > ---
 > > > 		   upper=c("size", "splits", "none"), ylim, ...)
 > > 18c18,19
 > > <   ylim <- c(min(xerror - xstd) - 0.1, max(xerror + xstd) + 0.1)
 > > ---
 > > >   if(missing(ylim))
 > > >     ylim <- c(min(xerror - xstd) - 0.1, max(xerror + xstd) + 0.1)
 > >
 > >
 > > 
 > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
 > .-.-.-.-.-.-.-.-.-
 > > r-devel mailing list -- Read 
 > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
 > > Send "info", "help", or "[un]subscribe"
 > > (in the "body", not the subject !)  To: 
 > r-devel-request@stat.math.ethz.ch
 > > 
 > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
 > ._._._._._._._._._
 > >
 > 
 > --
 > Brian D. Ripley,                  ripley@stats.ox.ac.uk
 > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
 > University of Oxford,             Tel:  +44 1865 272861 (self)
 > 1 South Parks Road,                     +44 1865 272860 (secr)
 > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
 > 
 > 
 > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
 > .-.-.-.-.-.-.-.-.-
 > r-devel mailing list -- Read 
 > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
 > Send "info", "help", or "[un]subscribe"
 > (in the "body", not the subject !)  To: 
 > r-devel-request@stat.math.ethz.ch
 > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
 > ._._._._._._._._._
 > 


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From White.Denis@epamail.epa.gov  Thu Nov 15 18:19:39 2001
From: White.Denis@epamail.epa.gov (White.Denis@epamail.epa.gov)
Date: Thu, 15 Nov 2001 19:19:39 +0100 (MET)
Subject: [Rd] pdf() behavior (PR#1174)
Message-ID: <200111151819.TAA21576@pubhealth.ku.dk>

--0__=88256B050063F04C8f9e8a93df938690918c88256B050063F04C
Content-type: text/plain; charset=us-ascii

The attached script produces "Error in plot.xy ... negative length
vectors are not allowed" when using pdf() but not when using postscript
().

platform sparc-sun-solaris2.8
arch     sparc
os       solaris2.8
system   sparc, solaris2.8
status
major    1
minor    3.1
year     2001
month    08
day      31
language R

(See attached file: test.zip)
--0__=88256B050063F04C8f9e8a93df938690918c88256B050063F04C
Content-type: application/zip; 
	name="test.zip"
Content-Disposition: attachment; filename="test.zip"
Content-transfer-encoding: base64

UEsDBAoABAAGAF1Rbyvc25I/oAEAAMoCAAAGAAAAdGVzdC5ySihtBP1NAw0FDQgtFAcIBAgFDQgV
OA0ILQgFLQgdBxZNBy0HDTdNBg0GBx0EBgQFAwQFFB0EBQQTBxQDFwYFFx0OB/7+/v7+/v7OPxMR
AgQFBAoUOgQ6AwRKuwSrBDsEiwoAEgYXBhcG9/f3V1GiJfxAg/kRI0dIXNe+ECavWR+2HnZ7678k
pz9OP3b+sT+65uHHGbkcsk4/48wcf8mzZKIn53XNjJu8chi5L+5X7gLpRdnb/i8GPf+T6WkF5cXp
x7SZ3WUDKwQx/e616W5n8/n5v6Z86//nlrscqvZsdPFOiX53qzbUrffYZBMCiRopcfq3fn3bPE4J
9mes/pLqqxuTHZbclJ+nnxqrbPXOEvgU5Cx8TVXNq9O7W5R6XuvyhePLjC+18H3L4btJ/aW56a9c
PHJx8w/5Ra2Zxccyx+D8L+QHN9zX9+3QvnqX8fm4eR0dHJalubj1NHezzKZ/hi6bC3pez22J/0s5
ntOEdlpO380LygOnP9wmW6xepqjOwcI/2O9ot2AGVoMC8VEOxeUmPklX4+naoSzcXs72vAJQSwME
CgAEAAYAJEdvK2WnKv6sAAAAOgEAAAgAAAB0ZXN0LmRhdBmaAxr7+wsCCxMCAwJD+/v7+/v7+/v7
+/v7WwgCAAEDOPn5+XkGAAEW9/f3t/FrqrPfx8bI/ZwZWb8cI8vXMnv+3dnT91IZl8rI+GMVb1Qc
540/hmRk6YpTx2T/URhtiLcoLitqunn3g/x964yuov4VmRXnqBiR7UdXjIgot7/I6CKusEJ4GVlI
LZiYFU2DEWX1aFTwePvjGDEq7qtoUnxN0cxr64qS2pYU8wRQSwECCgMKAAQABgBdUW8r3NuSP6AB
AADKAgAABgAAAAAAAAAAAAAApIEAAAAAdGVzdC5yUEsBAgoDCgAEAAYAJEdvK2WnKv6sAAAAOgEA
AAgAAAAAAAAAAAAAAKSBxAEAAHRlc3QuZGF0UEsFBgAAAAACAAIAagAAAJYCAAAAAA==

--0__=88256B050063F04C8f9e8a93df938690918c88256B050063F04C--


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Nov 15 19:32:44 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 15 Nov 2001 20:32:44 +0100 (MET)
Subject: [Rd] pdf() behavior (PR#1174)
Message-ID: <200111151932.UAA21933@pubhealth.ku.dk>

Could you re-send it in a form we can actually read? No mailer I have
(even on Solaris) can unscramble this.

I don't think R-bugs is scrambling this, but we know attachments are a
pain in the archive.

On Thu, 15 Nov 2001 White.Denis@epamail.epa.gov wrote:

> --0__=88256B050063F04C8f9e8a93df938690918c88256B050063F04C
> Content-type: text/plain; charset=us-ascii
>
> The attached script produces "Error in plot.xy ... negative length
> vectors are not allowed" when using pdf() but not when using postscript
> ().
>
> platform sparc-sun-solaris2.8
> arch     sparc
> os       solaris2.8
> system   sparc, solaris2.8
> status
> major    1
> minor    3.1
> year     2001
> month    08
> day      31
> language R
>
> (See attached file: test.zip)
> --0__=88256B050063F04C8f9e8a93df938690918c88256B050063F04C
> Content-type: application/zip;
> 	name="test.zip"
> Content-Disposition: attachment; filename="test.zip"
> Content-transfer-encoding: base64
>
> UEsDBAoABAAGAF1Rbyvc25I/oAEAAMoCAAAGAAAAdGVzdC5ySihtBP1NAw0FDQgtFAcIBAgFDQgV
> OA0ILQgFLQgdBxZNBy0HDTdNBg0GBx0EBgQFAwQFFB0EBQQTBxQDFwYFFx0OB/7+/v7+/v7OPxMR
> AgQFBAoUOgQ6AwRKuwSrBDsEiwoAEgYXBhcG9/f3V1GiJfxAg/kRI0dIXNe+ECavWR+2HnZ7678k
> pz9OP3b+sT+65uHHGbkcsk4/48wcf8mzZKIn53XNjJu8chi5L+5X7gLpRdnb/i8GPf+T6WkF5cXp
> x7SZ3WUDKwQx/e616W5n8/n5v6Z86//nlrscqvZsdPFOiX53qzbUrffYZBMCiRopcfq3fn3bPE4J
> 9mes/pLqqxuTHZbclJ+nnxqrbPXOEvgU5Cx8TVXNq9O7W5R6XuvyhePLjC+18H3L4btJ/aW56a9c
> PHJx8w/5Ra2Zxccyx+D8L+QHN9zX9+3QvnqX8fm4eR0dHJalubj1NHezzKZ/hi6bC3pez22J/0s5
> ntOEdlpO380LygOnP9wmW6xepqjOwcI/2O9ot2AGVoMC8VEOxeUmPklX4+naoSzcXs72vAJQSwME
> CgAEAAYAJEdvK2WnKv6sAAAAOgEAAAgAAAB0ZXN0LmRhdBmaAxr7+wsCCxMCAwJD+/v7+/v7+/v7
> +/v7WwgCAAEDOPn5+XkGAAEW9/f3t/FrqrPfx8bI/ZwZWb8cI8vXMnv+3dnT91IZl8rI+GMVb1Qc
> 540/hmRk6YpTx2T/URhtiLcoLitqunn3g/x964yuov4VmRXnqBiR7UdXjIgot7/I6CKusEJ4GVlI
> LZiYFU2DEWX1aFTwePvjGDEq7qtoUnxN0cxr64qS2pYU8wRQSwECCgMKAAQABgBdUW8r3NuSP6AB
> AADKAgAABgAAAAAAAAAAAAAApIEAAAAAdGVzdC5yUEsBAgoDCgAEAAYAJEdvK2WnKv6sAAAAOgEA
> AAgAAAAAAAAAAAAAAKSBxAEAAHRlc3QuZGF0UEsFBgAAAAACAAIAagAAAJYCAAAAAA==
>
> --0__=88256B050063F04C8f9e8a93df938690918c88256B050063F04C--
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From White.Denis@epamail.epa.gov  Thu Nov 15 20:10:23 2001
From: White.Denis@epamail.epa.gov (White.Denis@epamail.epa.gov)
Date: Thu, 15 Nov 2001 21:10:23 +0100 (MET)
Subject: [Rd] pdf() behavior (PR#1174)
Message-ID: <200111152010.VAA22209@pubhealth.ku.dk>

The attached script produces "Error in plot.xy ... negative length
vectors are not allowed" when using pdf() but not when using postscript
().

platform sparc-sun-solaris2.8
arch     sparc
os       solaris2.8
system   sparc, solaris2.8
status
major    1
minor    3.1
year     2001
month    08
day      31
language R

------------------------------------
# script
PDF <- TRUE

f.v1 <- function (x, a, b) b * (x^a)
f.v2 <- function (x, a, b, d) b * (x^a) * exp(d*x)

dat <- scan ("test.dat")

if (PDF) pdf ("test.pdf", width=8.5, height=11) else
  postscript ("test.eps", horizontal=FALSE, onefile=FALSE)

par (mfrow=c(2,1), mar=rep(6,4))

n <- length(dat)
nseq <- seq (n)

fit <- lm (log (dat[nseq]) ~ log (nseq))
b <- exp (fit$coefficients[1])
a <- fit$coefficients[2]
plot (dat[nseq], pch=20)
points (sapply (nseq, f.v1, a, b), col="red", pch=20)

fit <- lm (log (dat[nseq]) ~ log (nseq) + nseq)
b <- exp (fit$coefficients[1])
a <- fit$coefficients[2]
d <- fit$coefficients[3]
plot (dat[nseq], pch=20)
points (sapply (nseq, f.v2, a, b, d), col="red", pch=20)

graphics.off ()

-----------------------------------
# data set
9.585
12.935
14.775
15.625
16.56
17.44
18.165
18.655
19.04
19.49
19.9
20.285
20.61
20.815
21.065
21.3
21.46
21.645
21.82
22.085
22.315
22.45
22.61
22.67
22.79
22.9
23.01
23.1
23.165
23.295
23.4
23.51
23.585
23.64
23.685
23.75
23.805
23.84
23.9
23.955
24.025
24.09
24.14
24.18
24.23
24.275
24.31
24.33
24.345
24.37



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Thu Nov 15 21:20:33 2001
From: edd@debian.org (Dirk Eddelbuettel)
Date: Thu, 15 Nov 2001 15:20:33 -0600
Subject: [Rd] No SONAME in libRmath.so in src/nmath/standalone
Message-ID: <20011115152033.A22144@sonny.eddelbuettel.com>


Upon the suggestion of a Debian user, I am looking into also shipping
libRmath.{a,so}.  Building from R-1.3.1 sources, the resulting libRmath.so
is not recognised as shared library (objdump -p does not show SONAME).
Now, the Makefile hints at libtool usage, but I do not understand how to
enable this. 

However, I used the existing but empty option field libRmath_la_LDFLAGS
to pass the required info to gcc:
       libRmath_la_LDFLAGS=-Wl,-soname,libRmath.so.0

This leads to two questions:

1) Did I overlook anything?  Is there another (better?) way of doing this?

2) Is it ok with R-core if I use 0 as the SO number? Or should it be 1?

Thanks,  Dirk

-- 
Better to have an approximate answer to the right question 
than a precise answer to the wrong question. -- John Tukey
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From J.T.Kent@leeds.ac.uk  Fri Nov 16 10:35:13 2001
From: J.T.Kent@leeds.ac.uk (J.T.Kent@leeds.ac.uk)
Date: Fri, 16 Nov 2001 11:35:13 +0100 (MET)
Subject: [Rd] pearson residuals in glm for binomial response (PR#1175)
Message-ID: <200111161035.LAA27495@pubhealth.ku.dk>

R version 1.3.0
OS: SunOS 5.7, but I think the same problem occurs with Windows

An incorrect formula seems to be used to calculate the pearson residuals
for a generalized linear model with a binomial response.  Here is a
simple program which gives (a) the pearson residuals calculated directly,
(b) the pearson residuals from glm, and (c) the deviance residuals from 
glm.  The first and last columns are quite close.  The middle differs from 
the first by a factor of n (n=10 here).  This problem did not occur with
an earlier version of R I tried, version 0.64.2.

Thank you.

Professor John T. Kent         tel (direct)   (44) 113-233-5103
Department of Statistics       tel(secretary) (44) 113-233-5101
University of Leeds            fax            (44) 113-233-5090
Leeds LS2 9JT, England         e-mail: J.T.Kent@leeds.ac.uk

Input:

x_1:4 # regressor variable
y_c(2,6,7,8) # response binomial counts
n_rep(10,4) # number of binomial trials
ym_cbind(y,n-y) # response variable as a matrix
glm1_glm(ym~x,binomial) # fit a generalized linear model
f_fitted(glm1)
rp1_(y-n*f)/sqrt(n*f*(1-f)) # direct calculation of pearson residuals
rp2_residuals(glm1,type="pearson") # should be pearson residuals
rd_residuals(glm1) # deviance residuals
cbind(rp1,rp2,rd) # note second column is wrong, in this case by factor of 10

Output:

             rp1          rp2          rd
[1,] -0.56502992 -0.056500696 -0.58467936
[2,]  0.73739407  0.073739452  0.73886417
[3,]  0.05266796  0.005266533  0.05279174
[4,] -0.38314283 -0.038307944 -0.37010220
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Fri Nov 16 11:23:48 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Nov 2001 12:23:48 +0100
Subject: [Rd] pearson residuals in glm for binomial response (PR#1175)
In-Reply-To: <200111161035.LAA27495@pubhealth.ku.dk>
References: <200111161035.LAA27495@pubhealth.ku.dk>
Message-ID: <x24rnvvu0r.fsf@blueberry.kubism.ku.dk>

J.T.Kent@leeds.ac.uk writes:

> R version 1.3.0
> OS: SunOS 5.7, but I think the same problem occurs with Windows
> 
> An incorrect formula seems to be used to calculate the pearson residuals
> for a generalized linear model with a binomial response.  Here is a
> simple program which gives (a) the pearson residuals calculated directly,
> (b) the pearson residuals from glm, and (c) the deviance residuals from 
> glm.  The first and last columns are quite close.  The middle differs from 
> the first by a factor of n (n=10 here).  This problem did not occur with
> an earlier version of R I tried, version 0.64.2.

I almost said that your version is old and that you forgot to check
the bug repository for prior reports (PR#1123 was also on Pearson
residuals). However, the problem persists in the development version.

The issue is that we have (in 1.4.0pre)

 pearson = (y - mu)/sqrt(wts * (object$family$variance)(mu))

However, the y and mu that we use are divided by n:

> glm1$prior.weights
[1] 10 10 10 10
> glm1$fitted.values
[1] 0.2802480 0.4834715 0.6923131 0.8439674
> glm1$family$variance(glm1$fitted.values)
[1] 0.2017091 0.2497268 0.2130157 0.1316864
> glm1$y
[1] 0.2 0.6 0.7 0.8

I've stuck my foot in it with this stuff before, but should the
denominator not be sqrt(object$family$variance(mu)/wts) ?? (If the
weights are large, the variance should be smaller, not larger).

Could someone please ram a wooden stake through this one and prevent
it from haunting us again?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From hb@maths.lth.se  Fri Nov 16 16:00:02 2001
From: hb@maths.lth.se (hb@maths.lth.se)
Date: Fri, 16 Nov 2001 17:00:02 +0100 (MET)
Subject: [Rd] UseMethod() fails to (PR#1176)
Message-ID: <200111161600.RAA02600@pubhealth.ku.dk>

match the argument 'x' if there is another argument with prefix 'x'

Full_Name: Henrik Bengtsson
Version: 1.3.1
OS: Sun Solaris 8
Submission from: (NULL) (130.235.3.49)


I ran into a strange problem with UseMethod(). Run the following code:

foo.Bar <- function(this, x=0, xidx=0) {
  cat("In foo.Bar(): ", this, ", x=", x, ", xidx=", xidx, ".\n", sep="");
}

foo.default <- function(x, ...) {
  str("Error: No default function found!");
}

foo <- function(x, ...) UseMethod("foo");


obj <- "Hello world!";
class(obj) <- "Bar";

foo(obj);
foo(obj, xidx=1);
foo(obj, x=1);             # <- PROBLEM HERE!
foo(obj, x=1, xidx=1);     # <- PROBLEM HERE!
foo(obj, xidx=1, x=1);     # <- PROBLEM HERE!
foo.Bar(obj, x=1);
foo.Bar(obj, x=1, xidx=1);

and you will get

  In foo.Bar(): Hello world!, x=0, xidx=0.
  In foo.Bar(): Hello world!, x=0, xidx=1.
   chr "Error: No default function found!"
   chr "Error: No default function found!"
   chr "Error: No default function found!"
  In foo.Bar(): Hello world!, x=1, xidx=0.
  In foo.Bar(): Hello world!, x=1, xidx=1.

There is something going on with matching of arguments; UseMethod() fails to
match the argument 'x' if there is another argument with prefix 'x'.

I believe this is an unwanted feature of UseMethod.

Thanks

Henrik Bengtsson
Lund University
Sweden


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Fri Nov 16 16:13:42 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Nov 2001 17:13:42 +0100
Subject: [Rd] UseMethod() fails to (PR#1176)
In-Reply-To: <200111161600.RAA02600@pubhealth.ku.dk>
References: <200111161600.RAA02600@pubhealth.ku.dk>
Message-ID: <x2vggavgll.fsf@blueberry.kubism.ku.dk>

hb@maths.lth.se writes:

> match the argument 'x' if there is another argument with prefix 'x'
> 
> Full_Name: Henrik Bengtsson
> Version: 1.3.1
> OS: Sun Solaris 8
> Submission from: (NULL) (130.235.3.49)
> 
> 
> I ran into a strange problem with UseMethod(). Run the following code:
> 
> foo.Bar <- function(this, x=0, xidx=0) {
>   cat("In foo.Bar(): ", this, ", x=", x, ", xidx=", xidx, ".\n", sep="");
> }
> 
> foo.default <- function(x, ...) {
>   str("Error: No default function found!");
> }
> 
> foo <- function(x, ...) UseMethod("foo");
> 
> 
> obj <- "Hello world!";
> class(obj) <- "Bar";
> 
> foo(obj);
> foo(obj, xidx=1);
> foo(obj, x=1);             # <- PROBLEM HERE!
> foo(obj, x=1, xidx=1);     # <- PROBLEM HERE!
> foo(obj, xidx=1, x=1);     # <- PROBLEM HERE!
> foo.Bar(obj, x=1);
> foo.Bar(obj, x=1, xidx=1);
> 
> and you will get
> 
>   In foo.Bar(): Hello world!, x=0, xidx=0.
>   In foo.Bar(): Hello world!, x=0, xidx=1.
>    chr "Error: No default function found!"
>    chr "Error: No default function found!"
>    chr "Error: No default function found!"
>   In foo.Bar(): Hello world!, x=1, xidx=0.
>   In foo.Bar(): Hello world!, x=1, xidx=1.
> 
> There is something going on with matching of arguments; UseMethod() fails to
> match the argument 'x' if there is another argument with prefix 'x'.
> 
> I believe this is an unwanted feature of UseMethod.

Nope. In all the three cases you've marked as problems, you're telling
foo that the "x" argument is 1 (cf. plot(rnorm(10),x=1:10) ) and thus
UseMethod dispatches the default method.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Keith Richards-Dinger <dinger@usgs.gov>  Fri Nov 16 18:31:26 2001
From: Keith Richards-Dinger <dinger@usgs.gov> (Keith Richards-Dinger)
Date: Fri, 16 Nov 2001 13:31:26 -0500 (EST)
Subject: [Rd] DGESDD from Lapack for R-1.4.0?
Message-ID: <Pine.LNX.4.21.0111161244000.10665-100000@mchinji.wr.usgs.gov>


Hi,

I'm just wondering if it is planned to include the Lapack
routine DGESDD (and friends) in R-1.4.0?  This is faster
(supposedly by a factor of ~6 for large matrices) than
DGESVD which is currently (R-1.3.1) called by La.svd.

And if it is not in the plans yet, is there a chance it
could be?  I've added it to my local version of R-1.3.1 and
so far see a factor of 4 improvement over La.svd and a
factor of 3 over svd (see output below).  I'd be glad to
hand off what I've done so far to someone else or to work
more on it (make it behave as svd and La.svd do if you don't
want all the singular vectors; and add ZGESDD also).  
Though what I've done so far would probably be trivial for
someone who knew what they were doing...

Mac G4, 450 MHz, LinuxPPC, pre-compiled ATLAS-3.2.1
libraries for G4 from www.netlib.org, R-1.3.1:

> m <- matrix(rnorm(25e4), 5e2, 5e2)
> system.time(svd(m))
[1] 22.31  0.10 23.01  0.00  0.00
> system.time(La.svd(m))
[1] 29.60  0.10 29.78  0.00  0.00
> system.time(La.sdd(m))
[1] 7.28 0.12 8.00 0.00 0.00



Thanks, Keith Richards-Dinger

P.S.  I would have checked if DGESDD is in r-devel but I
could not figure out how to check r-devel out of CVS.  
<http://developer.R-project.org/CVStips.html> says "This
info is for reference to the core developers. Use of
anonymous CVS for outsiders is not yet covered here, but may
be in the future.", and my knowledge of CVS is almost
non-existent.  I tried:
 
cvs -d:pserver:anonymous@cvs.r-project.org:/home/rdevel/CVS-ARCHIVE login

and tried both an empty password and my email address as
password and both times got: 

cvs [login aborted]: authorization failed: server
cvs.r-project.org rejected access


---------------------------------------------------------------------------
Keith Richards-Dinger
U.S. Geological Survey, MS-977          Office 1-650-329-5519
345 Middlefield Road                    Fax    1-650-329-5143
Menlo Park, CA  USA  94025              e-mail dinger@usgs.gov
---------------------------------------------------------------------------




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Fri Nov 16 23:45:19 2001
From: bates@stat.wisc.edu (Douglas Bates)
Date: 16 Nov 2001 17:45:19 -0600
Subject: [Rd] DGESDD from Lapack for R-1.4.0?
In-Reply-To: <Pine.LNX.4.21.0111161244000.10665-100000@mchinji.wr.usgs.gov>
References: <Pine.LNX.4.21.0111161244000.10665-100000@mchinji.wr.usgs.gov>
Message-ID: <6ry9l6ffg0.fsf@franz.stat.wisc.edu>

Keith Richards-Dinger <dinger@mchinji.wr.usgs.gov> writes:

> P.S.  I would have checked if DGESDD is in r-devel but I
> could not figure out how to check r-devel out of CVS.  
> <http://developer.R-project.org/CVStips.html> says "This
> info is for reference to the core developers. Use of
> anonymous CVS for outsiders is not yet covered here, but may
> be in the future.", and my knowledge of CVS is almost
> non-existent.  I tried:
>  
> cvs -d:pserver:anonymous@cvs.r-project.org:/home/rdevel/CVS-ARCHIVE login
> 
> and tried both an empty password and my email address as
> password and both times got: 
> 
> cvs [login aborted]: authorization failed: server
> cvs.r-project.org rejected access

The best way to get copies of r-devel is through rsync from
rsync.r-project.org:: (see www.rsync.org for the rsync software if you
don't have it available).  You can also download a tar.gz or tar.bz2
snapshot from ftp://ftp.stat.math.ethz.ch/Software/R

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossini@u.washington.edu  Sat Nov 17 01:59:08 2001
From: rossini@u.washington.edu (A.J. Rossini)
Date: 16 Nov 2001 17:59:08 -0800
Subject: [Rd] DGESDD from Lapack for R-1.4.0?
In-Reply-To: <6ry9l6ffg0.fsf@franz.stat.wisc.edu>
References: <Pine.LNX.4.21.0111161244000.10665-100000@mchinji.wr.usgs.gov>
 <6ry9l6ffg0.fsf@franz.stat.wisc.edu>
Message-ID: <871yiyduoj.fsf@jeeves.blindglobe.net>

>>>>> "DB" == Douglas Bates <bates@stat.wisc.edu> writes:
    >> 
    >> cvs
    >> -d:pserver:anonymous@cvs.r-project.org:/home/rdevel/CVS-ARCHIVE
    >> login
    >> 
    >> and tried both an empty password and my email address as
    >> password and both times got:
    >> 
    >> cvs [login aborted]: authorization failed: server
    >> cvs.r-project.org rejected access

    DB> The best way to get copies of r-devel is through rsync from
    DB> rsync.r-project.org:: (see www.rsync.org for the rsync
    DB> software if you don't have it available).  You can also
    DB> download a tar.gz or tar.bz2 snapshot from
    DB> ftp://ftp.stat.math.ethz.ch/Software/R

Note that the anon-CVS archive still exists and works (I just
checked), but Doug's comment re: rsync should be heeded -- if you
don't know why you want CVS (a meaningful "why"), then rsync should be
perfectly suited!

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini@u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini@scharp.org
-------------- http://software.biostat.washington.edu/ --------------
FHCRC: M-W: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   T-Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
Rosen: (Mullins' Lab) Fridays, and I'm unreachable except by email.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Keith Richards-Dinger <dinger@usgs.gov>  Sat Nov 17 03:17:34 2001
From: Keith Richards-Dinger <dinger@usgs.gov> (Keith Richards-Dinger)
Date: Fri, 16 Nov 2001 22:17:34 -0500 (EST)
Subject: [Rd] DGESDD from Lapack for R-1.4.0?
In-Reply-To: <871yiyduoj.fsf@jeeves.blindglobe.net>
Message-ID: <Pine.LNX.4.21.0111162152510.11785-100000@mchinji.wr.usgs.gov>

On 16 Nov 2001, A.J. Rossini wrote:

> >>>>> "DB" == Douglas Bates <bates@stat.wisc.edu> writes:
> 
>     DB> The best way to get copies of r-devel is through rsync from
>     DB> rsync.r-project.org:: (see www.rsync.org for the rsync
>     DB> software if you don't have it available).  You can also
>     DB> download a tar.gz or tar.bz2 snapshot from
>     DB> ftp://ftp.stat.math.ethz.ch/Software/R
> 
> Note that the anon-CVS archive still exists and works (I just
> checked), but Doug's comment re: rsync should be heeded -- if you
> don't know why you want CVS (a meaningful "why"), then rsync should be
> perfectly suited!

Yes, rsync is indeed more than adequate for my purposes,
somehow I managed to miss the mention of rsync on the
website.

The src/modules/lapack/double.f in r-devel appears to be
identical to that in R-1.3.1, i.e. no DGESDD.  So the answer
to my main question is "no".   What about my secondary
questions - whether it might be done later, or if I should
somehow contribute what I've done and/or continue to work on
it?

Thanks, Keith

---------------------------------------------------------------------------
Keith Richards-Dinger
U.S. Geological Survey, MS-977          Office 1-650-329-5519
345 Middlefield Road                    Fax    1-650-329-5143
Menlo Park, CA  USA  94025              e-mail dinger@usgs.gov
---------------------------------------------------------------------------





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sat Nov 17 08:44:18 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 17 Nov 2001 08:44:18 +0000 (GMT)
Subject: [Rd] DGESDD from Lapack for R-1.4.0?
In-Reply-To: <Pine.LNX.4.21.0111161244000.10665-100000@mchinji.wr.usgs.gov>
Message-ID: <Pine.GSO.4.31.0111170825300.27233-100000@auk.stats>

On Fri, 16 Nov 2001, Keith Richards-Dinger wrote:

>
> Hi,
>
> I'm just wondering if it is planned to include the Lapack
> routine DGESDD (and friends) in R-1.4.0?  This is faster
> (supposedly by a factor of ~6 for large matrices) than
> DGESVD which is currently (R-1.3.1) called by La.svd.

No plans.

> And if it is not in the plans yet, is there a chance it
> could be?  I've added it to my local version of R-1.3.1 and

If you want to contribute tested code to do this it could be incorporated,
but the timescale for 1.4.0 is short: if that is to be released before
Christmas feature-freeze is imminent (but not yet announced).

We don't see R as a linear algebra system, and the aim of introducing
La.svd was accuracy not speed (the LINPACK version of svd having some
algorithmic limitations, as well as some problems on machines with
extra-precision FPU registers).

> so far see a factor of 4 improvement over La.svd and a
> factor of 3 over svd (see output below).  I'd be glad to
> hand off what I've done so far to someone else or to work
> more on it (make it behave as svd and La.svd do if you don't
> want all the singular vectors; and add ZGESDD also).
> Though what I've done so far would probably be trivial for
> someone who knew what they were doing...
>
> Mac G4, 450 MHz, LinuxPPC, pre-compiled ATLAS-3.2.1
> libraries for G4 from www.netlib.org, R-1.3.1:
>
> > m <- matrix(rnorm(25e4), 5e2, 5e2)
> > system.time(svd(m))
> [1] 22.31  0.10 23.01  0.00  0.00
> > system.time(La.svd(m))
> [1] 29.60  0.10 29.78  0.00  0.00
> > system.time(La.sdd(m))
> [1] 7.28 0.12 8.00 0.00 0.00

I'd want to see a wider comparison, including on non-ATLAS systems.
In particular, without ATLAS my 1GHZ PIII gives

> m <- matrix(rnorm(25e4), 5e2, 5e2)
> system.time(svd(m))
[1] 22.76  0.06 22.80  0.00  0.00
> system.time(La.svd(m))
[1] 16.32  0.15 16.95  0.00  0.00

and on Doug Bates' franz (with ATLAS)

> system.time(svd(m))
[1] 14.70  0.03 17.96  0.00  0.00
> system.time(La.svd(m))
[1] 15.00  0.03 17.71  0.00  0.00

which suggests something peculiar on your system, the only one I have ever
seen that has La.svd appreciably slower than svd.  We've had a couple of
instances where changing to use BLAS slowed down the code on the basic
system, so we know that the precise BLAS is important.


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sat Nov 17 10:56:58 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 17 Nov 2001 11:56:58 +0100 (MET)
Subject: [Rd] pdf() behavior (PR#1174)
Message-ID: <200111171056.LAA05379@pubhealth.ku.dk>

Once again, this has nothing to do with pdf()!

The bug is in the internal clipping code in graphics.c, which read

    default: /* Partial clipping; draw poly[line|gon] */
        dd->gp.xpd = 2;
        result2 = clipCircleCode(x, y, coords, ir, dd);
        dd->gp.xpd = xpdsaved;
        if (dd->dp.canClip && result2 == -2) {
            GClip(dd);
            dd->dp.circle(x, y, coords, ir, bg, fg, dd);
        }
        else {
            vmax = vmaxget();
            xc = (double*)R_alloc(result+1, sizeof(double));
            yc = (double*)R_alloc(result+1, sizeof(double));

with result, not result2.  This meant that if a circle was clipped by the
plot region but not by the device region, result got set to -2, and the
final lines tried to allocate a vector of size -1.  As the postscript
device has dd->dp.canClip true, the bug was avoided on that device.

I don't fully understand the intended logic: is this fix the correct one,
Paul or Ross?  And can we have some comments in the code, please?


On Thu, 15 Nov 2001 White.Denis@epamail.epa.gov wrote:

> The attached script produces "Error in plot.xy ... negative length
> vectors are not allowed" when using pdf() but not when using postscript
> ().
>
> platform sparc-sun-solaris2.8
> arch     sparc
> os       solaris2.8
> system   sparc, solaris2.8
> status
> major    1
> minor    3.1
> year     2001
> month    08
> day      31
> language R
>
> ------------------------------------
> # script
> PDF <- TRUE
>
> f.v1 <- function (x, a, b) b * (x^a)
> f.v2 <- function (x, a, b, d) b * (x^a) * exp(d*x)
>
> dat <- scan ("test.dat")
>
> if (PDF) pdf ("test.pdf", width=8.5, height=11) else
>   postscript ("test.eps", horizontal=FALSE, onefile=FALSE)
>
> par (mfrow=c(2,1), mar=rep(6,4))
>
> n <- length(dat)
> nseq <- seq (n)
>
> fit <- lm (log (dat[nseq]) ~ log (nseq))
> b <- exp (fit$coefficients[1])
> a <- fit$coefficients[2]
> plot (dat[nseq], pch=20)
> points (sapply (nseq, f.v1, a, b), col="red", pch=20)
>
> fit <- lm (log (dat[nseq]) ~ log (nseq) + nseq)
> b <- exp (fit$coefficients[1])
> a <- fit$coefficients[2]
> d <- fit$coefficients[3]
> plot (dat[nseq], pch=20)
> points (sapply (nseq, f.v2, a, b, d), col="red", pch=20)
>
> graphics.off ()
>
> -----------------------------------
> # data set
> 9.585
> 12.935
> 14.775
> 15.625
> 16.56
> 17.44
> 18.165
> 18.655
> 19.04
> 19.49
> 19.9
> 20.285
> 20.61
> 20.815
> 21.065
> 21.3
> 21.46
> 21.645
> 21.82
> 22.085
> 22.315
> 22.45
> 22.61
> 22.67
> 22.79
> 22.9
> 23.01
> 23.1
> 23.165
> 23.295
> 23.4
> 23.51
> 23.585
> 23.64
> 23.685
> 23.75
> 23.805
> 23.84
> 23.9
> 23.955
> 24.025
> 24.09
> 24.14
> 24.18
> 24.23
> 24.275
> 24.31
> 24.33
> 24.345
> 24.37
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From tlumley@u.washington.edu  Sat Nov 17 18:40:55 2001
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Sat, 17 Nov 2001 10:40:55 -0800 (PST)
Subject: [Rd] pearson residuals in glm for binomial response (PR#1175)
In-Reply-To: <200111161035.LAA27495@pubhealth.ku.dk>
Message-ID: <Pine.A41.4.33.0111171039050.137786-100000@homer34.u.washington.edu>

On Fri, 16 Nov 2001 J.T.Kent@leeds.ac.uk wrote:

> R version 1.3.0
> OS: SunOS 5.7, but I think the same problem occurs with Windows
>
> An incorrect formula seems to be used to calculate the pearson residuals
> for a generalized linear model with a binomial response.  Here is a
> simple program which gives (a) the pearson residuals calculated directly,
> (b) the pearson residuals from glm, and (c) the deviance residuals from
> glm.  The first and last columns are quite close.  The middle differs from
> the first by a factor of n (n=10 here).  This problem did not occur with
> an earlier version of R I tried, version 0.64.2.
>

Yes, it is a bug, resulting from an incorrect fix to an earlier bug that
had the sign wrong for decreasing link functions like the reciprocal.
It's already been reported and fixed.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From telford@progsoc.uts.edu.au  Sun Nov 18 07:23:43 2001
From: telford@progsoc.uts.edu.au (Telford)
Date: Sun, 18 Nov 2001 07:23:43 +0000
Subject: [Rd] png output requires X connection (PR#1165)
In-Reply-To: <200111111801.TAA29772@pubhealth.ku.dk>; from rmurray@debian.org on Sun, Nov 11, 2001 at 07:01:35PM +0100
References: <200111111801.TAA29772@pubhealth.ku.dk>
Message-ID: <20011118072343.A5075@progsoc.uts.edu.au>

On Sun, Nov 11, 2001 at 07:01:35PM +0100, rmurray@debian.org wrote:
> This is a wishlist item more than a bug.  I wish it worked the way the
> output is sharp and clear.

You might be up against the ghostscript anti-alias filter which
(IMHO) produces crappy, fuzzy output -- then again some people think
anti-alias is a feature, go figure. Anyhow you can turn it off and
get sharp, clear output from ghostscript.

I agree it would be nice if the PNG output was not directly tied
to the GUI but there are plenty of ways to get around the problem.

	- Tel
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Nov 18 08:37:23 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 18 Nov 2001 08:37:23 +0000 (GMT)
Subject: Producing PNG on Debian Linux (was the false bug report, Re: [Rd]
 png output requires X connection (PR#1165))
In-Reply-To: <20011118072343.A5075@progsoc.uts.edu.au>
Message-ID: <Pine.GSO.4.31.0111180804410.6298-100000@auk.stats>

On Sun, 18 Nov 2001, Telford wrote:

> On Sun, Nov 11, 2001 at 07:01:35PM +0100, rmurray@debian.org wrote:
> > This is a wishlist item more than a bug.  I wish it worked the way the
> > output is sharp and clear.
>
> You might be up against the ghostscript anti-alias filter which
> (IMHO) produces crappy, fuzzy output -- then again some people think
> anti-alias is a feature, go figure. Anyhow you can turn it off and
> get sharp, clear output from ghostscript.

As far as I am aware it is off when bitmap() is used, and Language.htm says

<dt><b><tt>TextAlphaBits, GraphicsAlphaBits (usually read-only)</tt></b>
<dd>The number of bits of anti-aliasing information for text or graphics
respectively.  Legal values are 1 (no anti-aliasing, the default for most
devices), 2, or 4.

On all my systems (Linux, Solaris, Windows)

> bitmap("test.png")
> plot(1:10)
> graphics.off()

gives `sharp and clear' output.  I am using up-to-date GhostScript
(7.00 or 6.51): perhaps *this* is the bug that needs to reported to Debian?

> I agree it would be nice if the PNG output was not directly tied
> to the GUI but there are plenty of ways to get around the problem.

I seem to have to keep saying this!  PNG output is *not* `directly tied to
the GUI'.  On Unix-alikes, one of the two devices I provided for you is,
and only one.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Sun Nov 18 13:38:36 2001
From: edd@debian.org (Dirk Eddelbuettel)
Date: Sun, 18 Nov 2001 07:38:36 -0600
Subject: Producing PNG on Debian Linux (was the false bug report, Re: [Rd]
 png output requires X connection (PR#1165))
In-Reply-To: <Pine.GSO.4.31.0111180804410.6298-100000@auk.stats>
References: <20011118072343.A5075@progsoc.uts.edu.au>
 <Pine.GSO.4.31.0111180804410.6298-100000@auk.stats>
Message-ID: <15351.47580.969190.349929@sonny.eddelbuettel.com>


  "Brian" == Brian D Ripley <Prof> writes:
  Brian> On all my systems (Linux, Solaris, Windows)
  Brian> 
  >> bitmap("test.png") plot(1:10) graphics.off()
  Brian>  gives `sharp and clear' output.  I am using up-to-date GhostScript
  Brian> (7.00 or 6.51): perhaps *this* is the bug that needs to reported to
  Brian> Debian?
  Brian> 
  >> I agree it would be nice if the PNG output was not directly tied to the
  >> GUI but there are plenty of ways to get around the problem.
  Brian>  I seem to have to keep saying this!  PNG output is *not* `directly
  Brian> tied to the GUI'.  On Unix-alikes, one of the two devices I provided
  Brian> for you is, and only one.

How about clarifying the documenation in unix/png.Rd then?  A suggestion is
below (against my R-1.3.1 sources, don't have R-devel here).

Dirk

edd@sonny:~/debian> diff -u r-base-1.3.1/src/library/base/man/unix/png.Rd{.orig,}
--- r-base-1.3.1/src/library/base/man/unix/png.Rd.orig  Sun Nov 18 07:28:46 2001+++ r-base-1.3.1/src/library/base/man/unix/png.Rd       Sun Nov 18 07:33:55 2001@@ -47,6 +47,11 @@
   These are based on the \code{\link{X11}} device, so the additional
   arguments to that device work, but are rarely appropriate.  The
   colour handling will be that of the \code{X11} device in use.
+
+  Consequently, use of these functions requires an \code{X11} terminal
+  which is not available in non-interactive sessions such as those started
+  by cron(8) or at(1). The \code{\link{bitmap}} function can be used in
+  those cases to create PNG or JPEG files.
 }
 \author{Guido Masarotto and Brian Ripley}

@@ -59,5 +64,9 @@
 \examples{
 ## copy current plot to a PNG file
 \dontrun{dev.print(png, file="myplot.png", width=480, height=480)}
+## use bitmap() to create a PNG file
+\dontrun{bitmap("/tmp/test.png")}
+\dontrun{plot(1:10,main="Straight line")}
+\dontrun{graphics.off()}
 }
 \keyword{device}

-- 
Better to have an approximate answer to the right question 
than a precise answer to the wrong question. -- John Tukey
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Nov 18 13:56:17 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 18 Nov 2001 13:56:17 +0000 (GMT)
Subject: [Rd] Re: Producing PNG on Debian Linux (was the false bug report, Re:
 [Rd] png output requires X connection (PR#1165))
In-Reply-To: <15351.47580.969190.349929@sonny.eddelbuettel.com>
Message-ID: <Pine.GSO.4.31.0111181350420.6889-100000@auk.stats>

On Sun, 18 Nov 2001, Dirk Eddelbuettel wrote:

>
>   "Brian" == Brian D Ripley <Prof> writes:
>   Brian> On all my systems (Linux, Solaris, Windows)
>   Brian>
>   >> bitmap("test.png") plot(1:10) graphics.off()
>   Brian>  gives `sharp and clear' output.  I am using up-to-date GhostScript
>   Brian> (7.00 or 6.51): perhaps *this* is the bug that needs to reported to
>   Brian> Debian?
>   Brian>
>   >> I agree it would be nice if the PNG output was not directly tied to the
>   >> GUI but there are plenty of ways to get around the problem.
>   Brian>  I seem to have to keep saying this!  PNG output is *not* `directly
>   Brian> tied to the GUI'.  On Unix-alikes, one of the two devices I provided
>   Brian> for you is, and only one.
>
> How about clarifying the documenation in unix/png.Rd then?  A suggestion is
> below (against my R-1.3.1 sources, don't have R-devel here).

Already done in R-devel:

     R can be compiled without support for either or both of these
     devices: this will be reported if you attempt to use them on a
     system where they are not supported.  They will not be available
     if R has been started with `--gui=none' (and will give a different
     error message), and they may not be usable unless the X11 display
     is available to the owner of the R process.
...

See Also:

     `Devices', `dev.print'

     `capabilities' to see if these devices are supported by this build
     of R.

     `bitmap' provides an alternative way to generate PNG and JPEG
     plots that does not depend on accessing the X11 display but does
     depend on having GhostScript installed.

NB: on our servers there is an X11 display available to cron jobs.


>
> Dirk
>
> edd@sonny:~/debian> diff -u r-base-1.3.1/src/library/base/man/unix/png.Rd{.orig,}
> --- r-base-1.3.1/src/library/base/man/unix/png.Rd.orig  Sun Nov 18 07:28:46 2001+++ r-base-1.3.1/src/library/base/man/unix/png.Rd       Sun Nov 18 07:33:55 2001@@ -47,6 +47,11 @@
>    These are based on the \code{\link{X11}} device, so the additional
>    arguments to that device work, but are rarely appropriate.  The
>    colour handling will be that of the \code{X11} device in use.
> +
> +  Consequently, use of these functions requires an \code{X11} terminal
> +  which is not available in non-interactive sessions such as those started
> +  by cron(8) or at(1). The \code{\link{bitmap}} function can be used in
> +  those cases to create PNG or JPEG files.
>  }
>  \author{Guido Masarotto and Brian Ripley}
>
> @@ -59,5 +64,9 @@
>  \examples{
>  ## copy current plot to a PNG file
>  \dontrun{dev.print(png, file="myplot.png", width=480, height=480)}
> +## use bitmap() to create a PNG file
> +\dontrun{bitmap("/tmp/test.png")}
> +\dontrun{plot(1:10,main="Straight line")}
> +\dontrun{graphics.off()}
>  }
>  \keyword{device}
>
> --
> Better to have an approximate answer to the right question
> than a precise answer to the wrong question. -- John Tukey
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From edd@debian.org  Sun Nov 18 14:34:14 2001
From: edd@debian.org (Dirk Eddelbuettel)
Date: Sun, 18 Nov 2001 08:34:14 -0600
Subject: [Rd] Re: Producing PNG on Debian Linux (was the false bug report, Re:
 [Rd] png output requires X connection (PR#1165))
In-Reply-To: <Pine.GSO.4.31.0111181350420.6889-100000@auk.stats>
References: <15351.47580.969190.349929@sonny.eddelbuettel.com>
 <Pine.GSO.4.31.0111181350420.6889-100000@auk.stats>
Message-ID: <15351.50918.696817.868018@sonny.eddelbuettel.com>


  "Brian" == Brian D Ripley <Prof> writes:
  Brian>  Already done in R-devel:

Thanks!

  Brian> NB: on our servers there is an X11 display available to cron jobs.

Hm. I just added x11() to the script snipped of yours:

edd@sonny:~> cat /tmp/R.sh
#!/bin/sh

echo | R -q --no-save <<EOF
bitmap("test.png")
plot(1:10)
graphics.off()
x11()
EOF

but starting this under at(1)

edd@sonny:~> echo /tmp/R.sh | at now
warning: commands will be executed using /bin/sh
job 57 at 2001-11-18 08:31

yields an error:

From: Dirk Eddelbuettel <edd@debian.org>
To: edd@eddelbuettel.com
Subject: Output from your job       57
Date: Sun, 18 Nov 2001 08:31:59 -0600

> bitmap("test.png")
> plot(1:10)
> graphics.off()
> x11()
Error in X11(display, width, height, pointsize, gamma, colortype, maxcubesize) : 
	unable to start device X11
Execution halted

How does Solaris do this, and how can we get Linux to do the same?

Dirk

-- 
Better to have an approximate answer to the right question 
than a precise answer to the wrong question. -- John Tukey
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Sun Nov 18 15:59:57 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 18 Nov 2001 15:59:57 +0000 (GMT)
Subject: [Rd] Re: Producing PNG on Debian Linux (was the false bug report, Re:
 [Rd] png output requires X connection (PR#1165))
In-Reply-To: <15351.50918.696817.868018@sonny.eddelbuettel.com>
Message-ID: <Pine.LNX.4.31.0111181550520.22024-100000@gannet.stats>

On Sun, 18 Nov 2001, Dirk Eddelbuettel wrote:

>
>   "Brian" == Brian D Ripley <Prof> writes:
>   Brian>  Already done in R-devel:
>
> Thanks!
>
>   Brian> NB: on our servers there is an X11 display available to cron jobs.
>
> Hm. I just added x11() to the script snipped of yours:
>
> edd@sonny:~> cat /tmp/R.sh
> #!/bin/sh
>
> echo | R -q --no-save <<EOF
> bitmap("test.png")
> plot(1:10)
> graphics.off()
> x11()
> EOF
>
> but starting this under at(1)
>
> edd@sonny:~> echo /tmp/R.sh | at now
> warning: commands will be executed using /bin/sh
> job 57 at 2001-11-18 08:31
>
> yields an error:
>
> From: Dirk Eddelbuettel <edd@debian.org>
> To: edd@eddelbuettel.com
> Subject: Output from your job       57
> Date: Sun, 18 Nov 2001 08:31:59 -0600
>
> > bitmap("test.png")
> > plot(1:10)
> > graphics.off()
> > x11()
> Error in X11(display, width, height, pointsize, gamma, colortype, maxcubesize) :
> 	unable to start device X11
> Execution halted
>
> How does Solaris do this, and how can we get Linux to do the same?

Don't know: suspect it is a permissions / Xauth thing.   To be precise,
I've only ever tested my Solaris server (ex my desktop machine).

I tried

auk% cat /tmp/R.sh
#!/bin/sh
echo | R -q --no-save <<EOF
png("/tmp/test.png")
plot(1:10)
graphics.off()
EOF

auk% echo /tmp/R.sh | at now

and it worked and wrote test.png.


Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Sun Nov 18 18:36:06 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Sun, 18 Nov 2001 19:36:06 +0100
Subject: [Rd] Re: [R] sub directories in the tests directory of a package
In-Reply-To: <15348.65050.824365.207891@gargle.gargle.HOWL>
References: <15348.65050.824365.207891@gargle.gargle.HOWL>
Message-ID: <15351.65430.88813.407045@mithrandir.hornik.net>

>>>>> "David Kane writes:

> It seems like any directories (and their contents) beneath the /tests
> directory of an R package are not copied over completely when R CMD
> check is run. This causes problems (for me) when the tests for a
> function require some sort of directory structure. For example, I have
> an R function that iteratively searches through a directory tree for a
> specific file. Currently, I can not put the inputs for a test for that
> function in the /tests directory. It would seem that better behavior
> would be for R CMD check to simply (recursively) copy everything from
> the /tests directory in the package into the /tests directory in the
> .Rcheck directory, similar to the way that everything in /inst is
> copied over during INSTALL.

> Any suggestions? I poked around in the R CMD check code, but my Perl
> is even worse than my R. Or am I missing something?

Currently, it is assumed that tests has no subdirectories.  This has
been raised before, with the result that the Perl gurus were not sure
how to portably recursively copy a directory (apparently, Perl/CPAN has
rmtree, but no cptree?).

I think if you simply want to find a file in a dir tree, you could have
your test code create the tree first.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From hkawakat@sk.tsukuba.ac.jp  Mon Nov 19 07:33:20 2001
From: hkawakat@sk.tsukuba.ac.jp (hkawakat@sk.tsukuba.ac.jp)
Date: Mon, 19 Nov 2001 08:33:20 +0100 (MET)
Subject: [Rd] acf mis-feature (PR#1177)
Message-ID: <200111190733.IAA12054@pubhealth.ku.dk>

Full_Name: Hiroyuki Kawakatsu
Version: 1.3.1
OS: win2k
Submission from: (NULL) (130.158.140.105)


the lag labels in the acf plot is screwed when the ts frequency>1.
try, for example,

#acf mis-feature
x <- ts(rnorm(200), frequency=4);
acf(x,lag.max=24);

h.
> version
         _              
platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    3.1            
year     2001           
month    08             
day      31             
language R              


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Nov 19 08:36:51 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 19 Nov 2001 09:36:51 +0100 (MET)
Subject: [Rd] acf mis-feature (PR#1177)
Message-ID: <200111190836.JAA13027@pubhealth.ku.dk>

On Mon, 19 Nov 2001 hkawakat@sk.tsukuba.ac.jp wrote:

> Full_Name: Hiroyuki Kawakatsu
> Version: 1.3.1
> OS: win2k
> Submission from: (NULL) (130.158.140.105)
>
>
> the lag labels in the acf plot is screwed when the ts frequency>1.
> try, for example,
>
> #acf mis-feature
> x <- ts(rnorm(200), frequency=4);
> acf(x,lag.max=24);


Please explain what you mean by `screwed' (which BTW is not polite
English): what do you think is wrong here?

I get the labels I expect: if this is quarterly data the lags are labelled
in years.  That is what `frequency = 4' is intended to mean: 4
observations per unit of time.

There is no bug that I can see.


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From hkawakat@sk.tsukuba.ac.jp  Mon Nov 19 08:44:57 2001
From: hkawakat@sk.tsukuba.ac.jp (hkawakat@sk.tsukuba.ac.jp)
Date: Mon, 19 Nov 2001 09:44:57 +0100 (MET)
Subject: [Rd] acf mis-feature (PR#1177)
Message-ID: <200111190844.JAA13322@pubhealth.ku.dk>

At Mon, 19 Nov 2001 08:36:38, you wrote:

> I get the labels I expect: if this is quarterly data the lags are labelled
> in years.  That is what `frequency = 4' is intended to mean: 4
> observations per unit of time.

that's the feature i didn't understand. i expected lags in periods (or
observations), not years. 

h.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From hkawakat@sk.tsukuba.ac.jp  Mon Nov 19 09:12:18 2001
From: hkawakat@sk.tsukuba.ac.jp (hkawakat@sk.tsukuba.ac.jp)
Date: Mon, 19 Nov 2001 10:12:18 +0100 (MET)
Subject: more on [Rd] acf mis-feature (PR#1177)
Message-ID: <200111190912.KAA13834@pubhealth.ku.dk>

At Mon, 19 Nov 2001 08:36:38, you wrote:

> I get the labels I expect: if this is quarterly data the lags are labelled
> in years.  That is what `frequency = 4' is intended to mean: 4
> observations per unit of time.

some further thoughts convinces me that this is a mis-feature. if you
ask any person what is the lag i autocorrelation, the answer would be
corr(y_t, y_{t-i}). so you would expect the lag labels to be based on
observation lags, not years. if you still think the current feature is
the correct implementation, i suggest that you make this clear in the
help to avoid future annoying mails from the annoyed like me:

 lag.max: maximum lag at which to calculate the acf.  Default is
          10*log10(N) where N is the number of observations. 

          *Note that the lag labels in the plots are based on unit of
           time, not observation lags.*

h.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Nov 19 09:30:06 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 19 Nov 2001 10:30:06 +0100 (MET)
Subject: more on [Rd] acf mis-feature (PR#1177)
Message-ID: <200111190930.KAA14125@pubhealth.ku.dk>

On Mon, 19 Nov 2001, Hiroyuki Kawakatsu wrote:

> At Mon, 19 Nov 2001 08:36:38, you wrote:
>
> > I get the labels I expect: if this is quarterly data the lags are labelled
> > in years.  That is what `frequency = 4' is intended to mean: 4
> > observations per unit of time.
>
> some further thoughts convinces me that this is a mis-feature. if you
> ask any person what is the lag i autocorrelation, the answer would be
> corr(y_t, y_{t-i}). so you would expect the lag labels to be based on
> observation lags, not years. if you still think the current feature is
> the correct implementation, i suggest that you make this clear in the
> help to avoid future annoying mails from the annoyed like me:
>
>  lag.max: maximum lag at which to calculate the acf.  Default is
>           10*log10(N) where N is the number of observations.
>
>           *Note that the lag labels in the plots are based on unit of
>            time, not observation lags.*

I do think it is correct, and furthermore no one else has thought otherwise
in 2.5 years of it being in R.  It's the same interpretation as S, snd that
doesn't have such a comment either.

You will find *all* time-series plots are labelled in units of time,
not observation lags.  It says `Lag', not `lags', and that's a crucial
difference.

See the section in the FAQ on `what is a bug?'.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Mon Nov 19 22:19:02 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 Nov 2001 23:19:02 +0100
Subject: [Rd] 1.4.0 on Dec 19, feature freeze Dec 5
Message-ID: <x2y9l2qu95.fsf@blueberry.kubism.ku.dk>

[oops, I forgot to cc: r-devel, apologies to those who get it twice]

To comply with our ground rule that x.y.0 releases should be announced
a month in advance: 

The release of 1.4.0 will be on December 19th. Feature freeze will be
on December 5th. I hope that leaves time enough for people to finish
what they have been up to, but it seems to be a good idea to have a
little more time for platform testing this time, and hence have a
near-solid freeze about December 12th.

        -p

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Kurt.Hornik@ci.tuwien.ac.at  Tue Nov 20 18:44:43 2001
From: Kurt.Hornik@ci.tuwien.ac.at (Kurt Hornik)
Date: Tue, 20 Nov 2001 19:44:43 +0100
Subject: [Rd] Re: confusion() -- generic function in package mda -- generally useful?
In-Reply-To: <15346.38092.644990.904103@gargle.gargle.HOWL>
References: <15346.38092.644990.904103@gargle.gargle.HOWL>
Message-ID: <15354.42139.945427.303074@mithrandir.hornik.net>

>>>>> Martin Maechler writes:

> For a private package ("soon" to be on CRAN),

> I started looking at and thinking about the function confusion() from
> the mda package and wondered if it wouldn't make sense to provide the
> generic function in base R and also think about making the default for
> the `true' argument equal to fitted(object).

> One could write methods for confusion() for almost all classifiers
> which would be a nice universal approach.  Also, the value (a
> confusion matrix contingency table with some "useful" attributes)
> could be made a bit more explicit.

> Good or not so good idea?  alternatives?

I think it would be nice to unify some of the existing code for
classification, e.g. the types in the predict methods.

Re confusion(), what would this do exactly?  The stuff in mda does too
much as exemplified by

\method{confusion}{default}(object, true, \dots)
\method{confusion}{fda}(object, data, \dots)

so the default and fda methods have surprising arguments ...?  (I think
you only want the versions for fitted model objects.)

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jan@rychter.com  Tue Nov 20 22:38:01 2001
From: jan@rychter.com (jan@rychter.com)
Date: Tue, 20 Nov 2001 23:38:01 +0100 (MET)
Subject: [Rd] segfault using svm from e1071 (PR#1178)
Message-ID: <200111202238.XAA07070@pubhealth.ku.dk>

This could be a bug in the e1071 svm code, but maybe not -- I guess I'll
send it here anyway. It's reproducible.

> x <- seq (0.1,5,by=0.05)
> y <- log(x) + rnorm (x, sd=0.2)
> library(e1071)
> m <- svm (x,y)

Process R segmentation fault at Tue Nov 20 23:34:19 2001

> version
         _                
platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    3.1              
year     2001             
month    08               
day      31               
language R                

I used the Mandrake 8.0 RPM binaries from cran.r-project.org first, then
recompiled R myself and reinstalled e1071. Same results.

thanks,
--J.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pd@pubhealth.ku.dk  Wed Nov 21 06:15:03 2001
From: pd@pubhealth.ku.dk (Peter Dalgaard BSA)
Date: Wed, 21 Nov 2001 07:15:03 +0100
Subject: [Rd] Bug list summary (automatic post)
Message-ID: <200111210615.fAL6F3B32176@blueberry.kubism.ku.dk>

=================================================
This is an automated summary of the status of the R-bugs
repository.

Note that this may be neither complete nor perfectly
correct at any given instance: Not all bugs are reported,
and some reported bugs may have been fixed, but the
repository not yet updated.

Some bug fixes are difficult to verify because they pertain
to specific hardware or operating system versions. If you
have information to contribute, please do so.

If you happen to know how to fix a problem please send
patches to the bug repository, too.

New bugs are reported either through the web
interface at r-bugs.r-project.org or via email to
r-bugs@r-project.org. The bug.report() function can be
used to automate parts of the procedure on many systems.
Followups on older bugs can be done by including the string
"(PR#999)" in the Subject of an email (change 999 to the
actual reference number, of course!).
=================================================

Directory:  Accuracy

none

Directory:  Add-ons

* PR# 974 *
Subject: Lattice: panel.superpose with ordered factor groups
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sat, 9 Jun 2001 11:08:51 +1000 (EST)
--The warning is standard S and R behaviour.
--Probably xyplot needs to avoid it (by unclassing?)
--Still there in lattice 0.3-0.
* PR# 981 *
Subject: read.xport() bug
From: abroman@jhu.edu
Date: Fri, 15 Jun 2001 00:25:54 +0200 (MET DST)
--confirmed on Windows and Solaris.
--Seems that file is not in the expected format
* PR# 1038 *
Subject: nlme: bug in getCovariateFormula
From: Setzer.Woodrow@epamail.epa.gov
Date: Tue, 31 Jul 2001 11:24:09 -0400
--change needed in package nlme
* PR# 1044 *
Subject: Polymarsall.c
From: pleu@hotmail.com
Date: Tue, 7 Aug 2001 22:42:07 +0200 (MET DST)
* PR# 1116 *
Subject: get.hist.quote does not work
From: arto.luoma@uta.fi
Date: Thu, 4 Oct 2001 14:45:29 +0200 (MET DST)
--Seems specific to one locale on one system.
--The bug is unlikely to be in R.
* PR# 1124 *
Subject: Wrong df in bartlett.test when subsetting data
From: jens.lund@nordea.com
Date: Wed, 10 Oct 2001 17:43:42 +0200 (MET DST)

Directory:  Analyses

none

Directory:  Documentation

* PR# 988 *
Subject: input for R-intro
From: "Paul E. Johnson" <pauljohn@ku.edu>
Date: Mon, 18 Jun 2001 13:57:10 -0500
* PR# 1011 *
Subject: R-intro suggestions part II
From: "Paul E. Johnson" <pauljohn@ukans.edu>
Date: Tue, 03 Jul 2001 15:50:06 -0500
* PR# 1113 *
Subject: bug.report() & docs should mention r-devel
From: murdoch@stats.uwo.ca
Date: Thu, 4 Oct 2001 01:23:27 +0200 (MET DST)
* PR# 1132 *
Subject: Problem with "describe" lists.
From: Rolf Turner <rolf@localhost.localdomain>
Date: Thu, 18 Oct 2001 16:41:03 +0800
* PR# 1136 *
Subject: cex/col/etc. in title(): documentation?
From: Ben Bolker <ben@zoo.ufl.edu>
Date: Mon, 22 Oct 2001 11:55:14 -0400 (EDT)
--MM:actually the documentation still could elaborate a bit..

Directory:  Graphics

* PR# 202 *
Subject: persp box occlusion bug
From: wsi@gcal.ac.uk
Date: Wed, 2 Jun 1999 15:02:03 +0200 (MET DST)
--The persp algorithm does not apply the occlusion rules to the frame, 
--which is always plotted first. 
--A bug, but not very simple to fix.
* PR# 660 *
Subject: identify.default ignores any setting of cex.
From: Prof Brian Ripley <ripley@stats.ox.ac.uk>
Date: Fri, 15 Sep 2000 10:23:39 +0100 (BST)
* PR# 776 *
Subject: strwidth does not take font into account
From: Martyn Plummer <plummer@iarc.fr>
Date: Tue, 19 Dec 2000 14:56:01 +0100 (CET)
--This needs a substantial redesign.
* PR# 791 *
Subject:  par(lab= *) / axis(*) bug 
From: maechler@stat.math.ethz.ch
Date: Fri, 22 Dec 2000 10:59:26 +0100
* PR# 816 *
Subject: dotplot: character size of labels
From: RINNER Heinrich <H.RINNER@TIROL.GV.AT>
Date: Thu, 18 Jan 2001 14:54:32 +0100
--Suggested fix is incorporated in 1.2.2.
--
--There is a deeper problem:  mtext() ignores par(cex=.5) in general.  
--To see the problem try:  par(cex=.5); mtext("hi")
--Paul thinks the right fix is to change the argument list for mtext so that
--cex=par(cex) by default rather than cex=NA by default (plus corresponding
--internal changes to  do_mtext in plot.c).
--This needs to be done very carefully because (i) the change suggested above 
--mayhave side-effects in many other pieces of interpreted code 
--(ii) do_mtext ignores dd->gp.cexbase unlike, for example, do_plot_xy 
--and anything to do with cexbase needs extreme care.
* PR# 820 *
Subject: interaction.plot
From: "Mark M. Span" <span@psy.uva.nl>
Date: Mon, 22 Jan 2001 10:47:39 +0100
--mtext is unscaled by default.  It is not clear if this should
--use the par("cex") setting or an inline cex setting such as cex.axis.
--It might make more sense to use axis rather than mtext, as boxplot does.
* PR# 828 *
Subject: termplot fails for composite non-factor terms
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sat, 27 Jan 2001 11:57:37 +1100 (EST)
--Neither of the proposed changes actually works in sufficient generality.
--
--The easy and unimportant part of this, the labels, is fixed in 1.2.2. Getting
--the data right is a project for 1.3
* PR# 831 *
Subject: screen can't go back to (split) screen with log="y" plot
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 30 Jan 2001 00:39:41 -0500
--Still there. Suggested fix included in followups, but we didn't get around to
--try it in time for 1.2.3.
--
--Fix doesn't work. One problem is that the opar<-par();par(opar) idiom updates
--xaxp before xlog, and the new value of xaxp may only be valid under the new
--value of xlog.
* PR# 837 *
Subject: screen doesn't handle redrawing properly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 01 Feb 2001 14:20:52 -0500
* PR# 887 *
Subject: axis(adj=anything) has no effect
From: jhallman@frb.gov
Date: Wed, 28 Mar 2001 20:51:05 +0200 (MET DST)
* PR# 916 *
Subject:  par(mgp) bug 
From: paul@stat.auckland.ac.nz
Date: Fri, 20 Apr 2001 08:33:45 +1200 (NZST)
* PR# 940 *
Subject: GCircle(): fails for non-clippable devices under certain circumstances (see below)
From: "Thomas Hoffmann" <thoffman@zappa.sax.de>
Date: Tue, 15 May 01 23:34:17 +0100
* PR# 943 *
Subject: legend() with xpd=T; omission of initial plot character
From: John Maindonald <john.maindonald@anu.edu.au>
Date: Sun, 20 May 2001 10:35:16 +1000
* PR# 997 *
Subject:  las=1 with log axis 
From: Peter Dalgaard BSA <pd@pubhealth.ku.dk>
Date: Wed, 27 Jun 2001 11:54:06 +0200
* PR# 1045 *
Subject: Palette changes on redraw
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 08 Aug 2001 19:08:01 +0200
* PR# 1088 *
Subject:  barplot forces xpd=TRUE 
From: Peter Whiting <pwhiting@whitings.org>
Date: Sat, 8 Sep 2001 10:19:00 -0500
* PR# 1095 *
Subject:  Bizarre clipping with abline and points 
From: J.C.Rougier@durham.ac.uk
Date: Wed, 19 Sep 2001 14:45:52 +0100
* PR# 1101 *
Subject: ugly in plotmath: frac(1, sqrt(...))
From: Uwe Ligges <ligges@statistik.uni-dortmund.de>
Date: Thu, 27 Sep 2001 10:37:07 +0200
* PR# 1147 *
Subject: postscript problem
From: kjetil halvorsen <kjetilh@umsanet.edu.bo>
Date: Fri, 26 Oct 2001 15:23:45 -0400
--This seems to be a problem with screen/layout rather than postscript.
* PR# 1157 *
Subject: identify(...plot=F)
From: Rolf Turner <rolf@maths.uwa.edu.au>
Date: Fri, 2 Nov 2001 09:43:49 +0800 (WST)
* PR# 1161 *
Subject: x-axis label in persp()
From: Rolf Turner <rolf@maths.uwa.edu.au>
Date: Wed, 7 Nov 2001 18:07:22 +0800 (WST)
* PR# 1174 *
Subject: pdf() behavior
From: White.Denis@epamail.epa.gov
Date: Thu, 15 Nov 2001 10:18:21 -0800
--actually, a graphics bug.
--fixed for 1.4.0, but needs checking re the original intention

Directory:  In-Out

none

Directory:  Installation

* PR# 1034 *
Subject: Compiling R (1.3.0) on AIX (4.3) fails
From: "Thomas J Vogels" <tov@ece.cmu.edu>
Date: Sun, 29 Jul 2001 12:27:51 -0400

Directory:  Language

* PR# 408 *
Subject: convolution bug
From: wsimpson@gcal.ac.uk
Date: Fri, 28 Jan 2000 11:17:36 +0100 (MET)
* PR# 412 *
Subject: anomalies with call objects
From: Peter Dalgaard BSA <p.dalgaard@biostat.ku.dk>
Date: 06 Feb 2000 01:18:50 +0100
* PR# 669 *
Subject: Bug(s) w/ rbind.data.frame(); fix also read.table(*, as.is = TRUE) ?
From: Martin Maechler <maechler@stat.math.ethz.ch>
Date: Mon, 25 Sep 2000 10:17:15 +0200
--status of AsIs columns
* PR# 921 *
Subject:  Managed to confuse match.arg 
From: J.C.Rougier@durham.ac.uk
Date: Wed, 25 Apr 2001 12:22:54 +0100 (BST)
* PR# 1052 *
Subject:  Inconsistent behaviour of is.vector? 
From: J.C.Rougier@durham.ac.uk
Date: Tue, 14 Aug 2001 09:04:57 +0100
* PR# 1073 *
Subject: Wierd problem comparing numeric values and list using ==
From: "Warnes, Gregory R" <gregory_r_warnes@groton.pfizer.com>
Date: Fri, 24 Aug 2001 22:07:41 -0400
--see also PR#1075
* PR# 1076 *
Subject: Re: [Rd] Wierd problem comparing numeric values and list using == 
From: John Chambers <jmc@research.bell-labs.com>
Date: Mon, 27 Aug 2001 08:44:22 -0400
--part of PR#1073

Directory:  Low-level

* PR# 989 *
Subject: "[.data.frame" allows un-named 3rd subscript
From: "Charles C. Berry" <cberry@tajo.ucsd.edu>
Date: Mon, 18 Jun 2001 13:13:46 -0700 (PDT)
* PR# 1063 *
Subject: interrupting Sys.sleep
From: Thomas Lumley <tlumley@u.washington.edu>
Date: Mon, 20 Aug 2001 13:55:29 -0700 (PDT)
* PR# 1068 *
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
From: Luke Tierney <luke@nokomis.stat.umn.edu>
Date: Wed, 22 Aug 2001 19:32:51 -0500
--see also followup in PR#1069
* PR# 1069 *
Subject: Interrupts (was Re: [Rd] X11 protocol errors ...)
From: "John W. Eaton" <jwe@bevo.che.wisc.edu>
Date: Wed, 22 Aug 2001 21:56:33 -0500
--part of PR#1068
* PR# 1120 *
Subject: bug in write.table?
From: Ott Toomet <siim@obs.ee>
Date: Sun, 7 Oct 2001 18:24:34 +0200 (CEST)
--Traced down to an effect of read.dta in foreign interacting with do_paste. Fixed
--in foreign, but do_paste may need to use strlen() rather than LENGTH().
--

Directory:  Macintosh

none

Directory:  Misc

* PR# 1126 *
Subject: R-bug report www page whishlist
From: jens.lund@nordea.com
Date: Wed, 10 Oct 2001 18:24:29 +0200 (MET DST)
* PR# 1158 *
Subject: bug.report()sends empty message
From: Paul Gilbert <pgilbert@bank-banque-canada.ca>
Date: Mon, 05 Nov 2001 10:05:27 -0500

Directory:  Models

none

Directory:  Startup

none

Directory:  System-specific

* PR# 848 *
Subject: X11 device doesn't handle destroy events correcly
From: Thomas Vogels <tov@ece.cmu.edu>
Date: 13 Feb 2001 17:40:46 -0500
* PR# 1002 *
Subject: core dump running modreg-Ex.R
From: WhiteG@dfo-mpo.gc.ca
Date: Thu, 28 Jun 2001 19:14:18 +0200 (MET DST)
--Only reported on SGI, solved by removing optimization.
--Needs debugging there.
* PR# 1020 *
Subject: .Call and Mandrake 8.0
From: lcottret@yahoo.fr
Date: Wed, 11 Jul 2001 15:34:23 +0200 (MET DST)
--problem with symbol names only on Mandrake 8.0, not 7.2
--needs reply to follow-up
* PR# 1026 *
Subject: make check failure on SGI-IRIX6.5
From: laurent@cbs.dtu.dk
Date: Mon, 16 Jul 2001 15:06:17 +0200 (MET DST)
* PR# 1057 *
Subject: crt1.o skipped at configure time ?
From: laurent@cbs.dtu.dk
Date: Thu, 16 Aug 2001 08:52:34 +0200 (MET DST)
* PR# 1084 *
Subject: Install problems R 1.3.1 on HP-UX
From: Peter Kleiweg <kleiweg@let.rug.nl>
Date: Sun, 2 Sep 2001 15:07:41 +0200 (CEST)
* PR# 1097 *
Subject: R 1.3.1 fails 'make check' on arm in the Bessel example
From: Dirk Eddelbuettel <edd@debian.org>
Date: Thu, 20 Sep 2001 23:54:19 -0500
* PR# 1106 *
Subject: What is an error bu21?
From: Patrick Lindsey <patrick.lindsey@luc.ac.be>
Date: Mon, 1 Oct 2001 15:43:36 +0200 (MET DST)
--Looks like an SGI make bug
* PR# 1140 *
Subject: Possible bug, Rprof() and scan(pipe())
From: Don MacQueen <macq@llnl.gov>
Date: Tue, 23 Oct 2001 13:50:26 -0700
--Doesn't happen on Solaris or Linux
* PR# 1145 *
Subject: Problem testing R version 1.3.1 on SGI Irix
From: Gordon Lack <gml4410@ggr.co.uk>
Date: Fri, 26 Oct 2001 19:04:04 +0100
* PR# 1166 *
Subject: Gnits about setting LD_LIBRARY_PATH from R
Subject: r-base gnits
From: edd@debian.org
From: "Stephen J. Turnbull" <turnbull@sk.tsukuba.ac.jp>
Date: Sun, 11 Nov 2001 18:23:33 +0100 (MET)
Date: Mon, 18 Sep 2000 19:48:11 +0900 (JST)
--Point one is Debian-specific (other systems have libs in /usr/local/lib,
--and there is not problem when compiling on the system).
--
--Point two is a Debian-specific wishlist item

Directory:  TooMuchAtOnce

* PR# 1110 *
Subject: Several R vs S-Plus issues
From: David Brahm  <a215020@agate.fmr.com>
Date: Wed, 3 Oct 2001 11:35:58 -0400 (EDT)
--1. is perhaps a bug -- the best handling of string NAs is under discussion
--
--2 & 4 are just S-PLUS incompatibilities
--
--3. May be a bug -- worth checking.

Directory:  Windows

none

Directory:  incoming

* PR# 1177 *
Subject: acf mis-feature
From: hkawakat@sk.tsukuba.ac.jp
Date: Mon, 19 Nov 2001 08:33:18 +0100 (MET)
* PR# 1178 *
Subject: segfault using svm from e1071
From: Jan Rychter <jan@rychter.com>
Date: Tue, 20 Nov 2001 23:38:17 +0100
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Nov 21 09:24:31 2001
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 21 Nov 2001 10:24:31 +0100
Subject: [Rd] segfault using svm from e1071 (PR#1178)
In-Reply-To: <200111202238.XAA07070@pubhealth.ku.dk>
References: <200111202238.XAA07070@pubhealth.ku.dk>
Message-ID: <15355.29391.627802.421311@gargle.gargle.HOWL>

>>>>> "jan" == jan  <jan@rychter.com> writes:

    jan> This could be a bug in the e1071 svm code, but maybe
    jan> not -- I guess I'll send it here anyway. It's
    jan> reproducible.

not really reproducible:

1) If you use random data (which is perfect),
  you need an explicit  set.seed(.) statement to make it reproducible

2) I can evaluate the code below (intel-Linux as you)
    more than 100 times without a problem.

Martin

    >> x <- seq (0.1,5,by=0.05)
    >> y <- log(x) + rnorm (x, sd=0.2)
    >> library(e1071)
    >> m <- svm (x,y)

    jan> Process R segmentation fault at Tue Nov 20 23:34:19 2001

    >> version
    jan> _                
    jan> platform i686-pc-linux-gnu
    jan> arch     i686             
    jan> os       linux-gnu        
    jan> system   i686, linux-gnu  
    jan> status                    
    jan> major    1                
    jan> minor    3.1              
    jan> year     2001             
    jan> month    08               
    jan> day      31               
    jan> language R                

    jan> I used the Mandrake 8.0 RPM binaries from
    jan> cran.r-project.org first, then recompiled R myself and
    jan> reinstalled e1071. Same results.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.ribeiro@lancaster.ac.uk  Wed Nov 21 10:12:57 2001
From: p.ribeiro@lancaster.ac.uk (Paulo Justiniano Ribeiro Jr)
Date: Wed, 21 Nov 2001 10:12:57 +0000 (GMT)
Subject: [Rd] contour as a generic function?
Message-ID: <Pine.GSO.4.21.0111211011150.27412-100000@unixb.lancs.ac.uk>

After "image" and "persp" would it be interesting to als have contour as a
generic function?

Cheers

Paulo Justiniano Ribeiro Jr
Dept Maths & Stats  -  Fylde College
Lancaster University
Lancaster LA1 4YF   -  U.K.

e-mail: Paulo.Ribeiro@est.ufpr.br
http://www.maths.lancs.ac.uk/~ribeiro

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Wed Nov 21 10:16:44 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 21 Nov 2001 10:16:44 +0000 (GMT)
Subject: [Rd] contour as a generic function?
In-Reply-To: <Pine.GSO.4.21.0111211011150.27412-100000@unixb.lancs.ac.uk>
Message-ID: <Pine.LNX.4.31.0111211014311.20857-100000@gannet.stats>

On Wed, 21 Nov 2001, Paulo Justiniano Ribeiro Jr wrote:

> After "image" and "persp" would it be interesting to als have contour as a
> generic function?

Interesting if you (or anyone else) has a need for it.  We try not to
make functions generic until it is needed.

I presume you would want

contour <- function (x, ...) UseMethod("contour")

?

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bolker@zoo.ufl.edu  Wed Nov 21 10:27:11 2001
From: bolker@zoo.ufl.edu (Ben Bolker)
Date: Wed, 21 Nov 2001 05:27:11 -0500 (EST)
Subject: [Rd] contour as a generic function?
In-Reply-To: <Pine.GSO.4.21.0111211011150.27412-100000@unixb.lancs.ac.uk>
Message-ID: <Pine.LNX.4.30.0111210525290.4842-100000@bolker.zoo.ufl.edu>


  As long as we're on wish lists (Paul Murrell??) it would be nice to have
contour (optionally) return a list of contours, so that one could
post-process them etc..  This would also, I think, eventually facilitate
drawing contours onto 3-D surfaces ... I thought about hacking this but
the contour function was too scary for me ...

  Ben Bolker

On Wed, 21 Nov 2001, Paulo Justiniano Ribeiro Jr wrote:

> After "image" and "persp" would it be interesting to als have contour as a
> generic function?
>
> Cheers
>
> Paulo Justiniano Ribeiro Jr
> Dept Maths & Stats  -  Fylde College
> Lancaster University
> Lancaster LA1 4YF   -  U.K.
>
> e-mail: Paulo.Ribeiro@est.ufpr.br
> http://www.maths.lancs.ac.uk/~ribeiro
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker@zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From david.meyer@ci.tuwien.ac.at  Wed Nov 21 10:35:55 2001
From: david.meyer@ci.tuwien.ac.at (David Meyer)
Date: Wed, 21 Nov 2001 11:35:55 +0100
Subject: [Rd] segfault using svm from e1071 (PR#1178)
References: <200111202238.XAA07070@pubhealth.ku.dk>
Message-ID: <3BFB838A.E7E40F39@ci.tuwien.ac.at>

jan@rychter.com wrote:
> 
> This could be a bug in the e1071 svm code, but maybe not -- I guess I'll
> send it here anyway. It's reproducible.

Which version of e1071 are you using (Current: 1.2-1)? This package had
a bug fix release one month ago.

-d


> 
> > x <- seq (0.1,5,by=0.05)
> > y <- log(x) + rnorm (x, sd=0.2)
> > library(e1071)
> > m <- svm (x,y)
> 
> Process R segmentation fault at Tue Nov 20 23:34:19 2001
> 
> > version
>          _
> platform i686-pc-linux-gnu
> arch     i686
> os       linux-gnu
> system   i686, linux-gnu
> status
> major    1
> minor    3.1
> year     2001
> month    08
> day      31
> language R
> 
> I used the Mandrake 8.0 RPM binaries from cran.r-project.org first, then
> recompiled R myself and reinstalled e1071. Same results.
> 
> thanks,
> --J.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
	Mag. David Meyer		Wiedner Hauptstrasse 8-10
Vienna University of Technology		A-1040 Vienna/AUSTRIA
       Department for			Tel.: (+431) 58801/10772
Statistics and Probability Theory	mail: david.meyer@ci.tuwien.ac.at
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jan@rychter.com  Wed Nov 21 11:20:45 2001
From: jan@rychter.com (Jan Rychter)
Date: Wed, 21 Nov 2001 12:20:45 +0100
Subject: [Rd] segfault using svm from e1071 (PR#1178)
In-Reply-To: <3BFB838A.E7E40F39@ci.tuwien.ac.at> (David Meyer's message of
 "Wed, 21 Nov 2001 11:35:55 +0100")
References: <200111202238.XAA07070@pubhealth.ku.dk>
 <3BFB838A.E7E40F39@ci.tuwien.ac.at>
Message-ID: <m21yis1ib6.fsf@tnuctip.rychter.com>

>>>>> "David" == David Meyer <david.meyer@ci.tuwien.ac.at> writes:
 David> jan@rychter.com wrote:
 >>
 >> This could be a bug in the e1071 svm code, but maybe not -- I guess
 >> I'll send it here anyway. It's reproducible.

 David> Which version of e1071 are you using (Current: 1.2-1)? This
 David> package had a bug fix release one month ago.

e1071_1.2-1.tar.gz

--J.

 > x <- seq (0.1,5,by=0.05) y <- log(x) + rnorm (x, sd=0.2)
 > library(e1071) m <- svm (x,y)
 >>
 >> Process R segmentation fault at Tue Nov 20 23:34:19 2001
 >>
 > version
 >> _ platform i686-pc-linux-gnu arch i686 os linux-gnu system i686,
 >> linux-gnu status major 1 minor 3.1 year 2001 month 08 day 31
 >> language R
 >>
 >> I used the Mandrake 8.0 RPM binaries from cran.r-project.org first,
 >> then recompiled R myself and reinstalled e1071. Same results.
 >>

[...]


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Thu Nov 22 03:54:28 2001
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Wed, 21 Nov 2001 22:54:28 -0500
Subject: [Rd] zlib location
Message-ID: <dkrovtc1ujq6uiok0nudijcbkcli99tu3c@4ax.com>

I'm trying to build the 1.4.0 development version of R for Windows.
I'll be posting problems as they arise, until I give up (or succeed),
or someone asks me to stop.

1.  I don't have zlib, the compression library.  The source file
gnuwin32/unzip/WHERE says to get it from
ftp://ftp.info-zip.org/pub/infozip/zlib/zlib.html; that web site says
it has been closed and redirects me to http://www.gzip.org/zlib/.
(The file itself claims to be at
ftp://ftp.info-zip.org/pub/infozip/doc/WHERE, and it is, with the same
stale URL, hence the CC of this message to Zip-bugs.)
The WHERE file was written by the info-zip people, but I couldn't turn
up a newer version.  If there is one and I find it, I'll pass it on.

2.  I get some warnings during the compile; I decided to ignore them.
I missed catching some; some others were:

Rstrptime.h:206: warning: ANSI C forbids braced-groups within
expressions

/usr/lib/bison.simple:285: warning: `yyval' might be used
uninitialized in this
function

main.c:327: warning: variable `baseEnv' might be clobbered by
`longjmp' or `vfor
k'

objects.c: In function `do_set_prim_method':
objects.c:1014: warning: unused variable `env'
objects.c:962: warning: `code' might be used uninitialized in this
function

\..\i386-mingw32\include\shlobj.h:8,
                 from shext.c:24:
f:\R\TOOLS\BIN\..\lib\gcc-lib\i386-mingw32\2.95.2\..\..\..\..\i386-mingw32\inclu
de\objbase.h:71: warning: comma at end of enumerator list

\..\i386-mingw32\include\shlobj.h:8,
                 from shext.c:24:
f:\R\TOOLS\BIN\..\lib\gcc-lib\i386-mingw32\2.95.2\..\..\..\..\i386-mingw32\inclu
de\oleidl.h:43: warning: ANSI C restricts enumerator values to range
of `int'

3.  And here's the one that has stopped me for tonight:

graphappmain.o(.text+0x121):graphappmain.c: undefined reference to
`_imp__R_rese
rved_size'
rgui.o(.text+0x63):rgui.c: undefined reference to
`_imp__CharacterMode'
MAKE[1]: *** [Rgui.exe] Error 1
MAKE[1]: Leaving directory
`/cygdrive/f/R/R-devel/src/gnuwin32/front-ends'


Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From kohnicho@comp.nus.edu.sg  Thu Nov 22 04:02:43 2001
From: kohnicho@comp.nus.edu.sg (Nicholas Lewin-Koh)
Date: Thu, 22 Nov 2001 12:02:43 +0800 (GMT-8)
Subject: [Rd] zlib location
In-Reply-To: <dkrovtc1ujq6uiok0nudijcbkcli99tu3c@4ax.com>
Message-ID: <Pine.GSO.4.21.0111221158470.6793-100000@sun450.comp.nus.edu.sg>

Hi, 
you can find pre compiled libraries for most of what you need at:
http://gnuwin32.sourceforge.net/

He also has pointers to sources for all the libs listed there.

Nicholas

On Wed, 21 Nov 2001, Duncan Murdoch wrote:

> I'm trying to build the 1.4.0 development version of R for Windows.
> I'll be posting problems as they arise, until I give up (or succeed),
> or someone asks me to stop.
> 
> 1.  I don't have zlib, the compression library.  The source file
> gnuwin32/unzip/WHERE says to get it from
> ftp://ftp.info-zip.org/pub/infozip/zlib/zlib.html; that web site says
> it has been closed and redirects me to http://www.gzip.org/zlib/.
> (The file itself claims to be at
> ftp://ftp.info-zip.org/pub/infozip/doc/WHERE, and it is, with the same
> stale URL, hence the CC of this message to Zip-bugs.)
> The WHERE file was written by the info-zip people, but I couldn't turn
> up a newer version.  If there is one and I find it, I'll pass it on.
> 
> 2.  I get some warnings during the compile; I decided to ignore them.
> I missed catching some; some others were:
> 
> Rstrptime.h:206: warning: ANSI C forbids braced-groups within
> expressions
> 
> /usr/lib/bison.simple:285: warning: `yyval' might be used
> uninitialized in this
> function
> 
> main.c:327: warning: variable `baseEnv' might be clobbered by
> `longjmp' or `vfor
> k'
> 
> objects.c: In function `do_set_prim_method':
> objects.c:1014: warning: unused variable `env'
> objects.c:962: warning: `code' might be used uninitialized in this
> function
> 
> \..\i386-mingw32\include\shlobj.h:8,
>                  from shext.c:24:
> f:\R\TOOLS\BIN\..\lib\gcc-lib\i386-mingw32\2.95.2\..\..\..\..\i386-mingw32\inclu
> de\objbase.h:71: warning: comma at end of enumerator list
> 
> \..\i386-mingw32\include\shlobj.h:8,
>                  from shext.c:24:
> f:\R\TOOLS\BIN\..\lib\gcc-lib\i386-mingw32\2.95.2\..\..\..\..\i386-mingw32\inclu
> de\oleidl.h:43: warning: ANSI C restricts enumerator values to range
> of `int'
> 
> 3.  And here's the one that has stopped me for tonight:
> 
> graphappmain.o(.text+0x121):graphappmain.c: undefined reference to
> `_imp__R_rese
> rved_size'
> rgui.o(.text+0x63):rgui.c: undefined reference to
> `_imp__CharacterMode'
> MAKE[1]: *** [Rgui.exe] Error 1
> MAKE[1]: Leaving directory
> `/cygdrive/f/R/R-devel/src/gnuwin32/front-ends'
> 
> 
> Duncan Murdoch
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

                 CH3
                  |
                  N             Nicholas Lewin-Koh
                 / \            Dept of Statistics
           N----C   C==O        Program in Ecology and Evolutionary Biology
          ||   ||   |           Iowa State University
          ||   ||   |           Ames, IA 50011
          CH    C   N--CH3      http://www.public.iastate.edu/~nlewin
            \  / \ /            nlewin@iastate.edu
             N    C
             |   ||             Currently
            CH3   O             Graphics Lab
                                School of Computing
                                National University of Singapore
     The Real Part of Coffee    kohnicho@comp.nus.edu.sg

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Nov 22 07:59:55 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 22 Nov 2001 07:59:55 +0000 (GMT)
Subject: [Rd] zlib location
In-Reply-To: <dkrovtc1ujq6uiok0nudijcbkcli99tu3c@4ax.com>
Message-ID: <Pine.LNX.4.31.0111220753320.1603-100000@gannet.stats>

On Wed, 21 Nov 2001, Duncan Murdoch wrote:

> I'm trying to build the 1.4.0 development version of R for Windows.
> I'll be posting problems as they arise, until I give up (or succeed),
> or someone asks me to stop.
>
> 1.  I don't have zlib, the compression library.  The source file

Well zlib is not part of info-zip, but the bitmap/INSTALL file says

1) You need libpng, zlib and jpeg sources (available, e.g., from
   www.libpng.org, www.gzip.org/zlib, ftp.uu.net/graphics/[png,jpeg].

and that is current.  The information is also on the portal.

> gnuwin32/unzip/WHERE says to get it from
> ftp://ftp.info-zip.org/pub/infozip/zlib/zlib.html; that web site says
> it has been closed and redirects me to http://www.gzip.org/zlib/.
> (The file itself claims to be at
> ftp://ftp.info-zip.org/pub/infozip/doc/WHERE, and it is, with the same
> stale URL, hence the CC of this message to Zip-bugs.)
> The WHERE file was written by the info-zip people, but I couldn't turn
> up a newer version.  If there is one and I find it, I'll pass it on.


>
> 2.  I get some warnings during the compile; I decided to ignore them.
> I missed catching some; some others were:
>
> Rstrptime.h:206: warning: ANSI C forbids braced-groups within
> expressions

> /usr/lib/bison.simple:285: warning: `yyval' might be used
> uninitialized in this
> function
>
> main.c:327: warning: variable `baseEnv' might be clobbered by
> `longjmp' or `vfor
> k'
>
> objects.c: In function `do_set_prim_method':
> objects.c:1014: warning: unused variable `env'
> objects.c:962: warning: `code' might be used uninitialized in this
> function

All normal.

> \..\i386-mingw32\include\shlobj.h:8,
>                  from shext.c:24:
> f:\R\TOOLS\BIN\..\lib\gcc-lib\i386-mingw32\2.95.2\..\..\..\..\i386-mingw32\inclu
> de\objbase.h:71: warning: comma at end of enumerator list
>
> \..\i386-mingw32\include\shlobj.h:8,
>                  from shext.c:24:
> f:\R\TOOLS\BIN\..\lib\gcc-lib\i386-mingw32\2.95.2\..\..\..\..\i386-mingw32\inclu
> de\oleidl.h:43: warning: ANSI C restricts enumerator values to range
> of `int'

Normal: errors in the mingw header files (which I have reported).

> 3.  And here's the one that has stopped me for tonight:
>
> graphappmain.o(.text+0x121):graphappmain.c: undefined reference to
> `_imp__R_rese
> rved_size'
> rgui.o(.text+0x63):rgui.c: undefined reference to
> `_imp__CharacterMode'
> MAKE[1]: *** [Rgui.exe] Error 1
> MAKE[1]: Leaving directory
> `/cygdrive/f/R/R-devel/src/gnuwin32/front-ends'

You seem to have too old a version of the compiler.  From INSTALL

We recommend that you use a recent snapshot of the mingw port of gcc
from http://downloads.sourceforge.net/mingw/.  For example, at the
time of writing, MinGW-1.1.tar.gz based on gcc-2.95.3.  Just unpack
this somewhere and put its bin directory in your path.

That works for me.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dtrenkler@nts6.oec.uni-osnabrueck.de  Thu Nov 22 10:30:06 2001
From: dtrenkler@nts6.oec.uni-osnabrueck.de (dtrenkler@nts6.oec.uni-osnabrueck.de)
Date: Thu, 22 Nov 2001 11:30:06 +0100 (MET)
Subject: [Rd] Bug in dev.print? (PR#1179)
Message-ID: <200111221030.LAA23641@pubhealth.ku.dk>

Dear "Debuggers",

please have look a the following:



> plot(0:1,0:1,type="n")
> points(c(0,0.5,1),c(0,0.5,1))
> dev.print(device = postscript, width=5 , height=5, file="test1.ps")
windows
      2
>#  This worked
> dev.print(device = pdf, width=5 , height=5, file="test1.pdf")
windows
      2
>#  That also
> plot(0:1,0:1,type="n" ,yaxs="i")
> points(c(0,0.5,1),c(0,0.5,1))
> dev.print(device = postscript, width=5 , height=5, file="test2.ps")
windows
      2
>#  This worked. However:
> dev.print(device = pdf, width=5 , height=5, file="test2.pdf")
Error in dev.copy(device = function (file = ifelse(onefile, "Rplots.pdf",  :
        negative length vectors are not allowed
># I guess the clipping of the points causes the error...

Version:
 platform = i386-pc-mingw32
 arch = x86
 os = Win32
 system = x86, Win32
 status = 
 major = 1
 minor = 3.1
 year = 2001
 month = 08
 day = 31
 language = R

Windows NT 4.0 (build 1381) Service Pack 6

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base

   --- D.Trenkler ---

****************************************************************************
*****
   Dr. Dietrich Trenkler        (dtrenkler@nts6.oec.uni-osnabrueck.de)      
   Statistik / Empirische Wirtschaftsforschung
   Universitaet Osnabrueck
   Rolandstrasse 8                                Phone: +49(0) 541-969-2753
   D-49069 Osnabrueck                          Fax  : +49(0) 541-969-2744
   GERMANY
****************************************************************************
*****




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Nov 22 12:26:20 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 22 Nov 2001 13:26:20 +0100 (MET)
Subject: [Rd] Bug in dev.print? (PR#1179)
Message-ID: <200111221226.NAA25830@pubhealth.ku.dk>

This now works in R-devel: it is the same as PR#1174 if you want to look
that up.

That you for the diagnosis: it's correct one, the bug being in the
internal clipping code, whereas postscript() clips in PostScript.


On Thu, 22 Nov 2001 dtrenkler@nts6.oec.uni-osnabrueck.de wrote:

> Dear "Debuggers",
>
> please have look a the following:
>
>
>
> > plot(0:1,0:1,type="n")
> > points(c(0,0.5,1),c(0,0.5,1))
> > dev.print(device = postscript, width=5 , height=5, file="test1.ps")
> windows
>       2
> >#  This worked
> > dev.print(device = pdf, width=5 , height=5, file="test1.pdf")
> windows
>       2
> >#  That also
> > plot(0:1,0:1,type="n" ,yaxs="i")
> > points(c(0,0.5,1),c(0,0.5,1))
> > dev.print(device = postscript, width=5 , height=5, file="test2.ps")
> windows
>       2
> >#  This worked. However:
> > dev.print(device = pdf, width=5 , height=5, file="test2.pdf")
> Error in dev.copy(device = function (file = ifelse(onefile, "Rplots.pdf",  :
>         negative length vectors are not allowed
> ># I guess the clipping of the points causes the error...
>
> Version:
>  platform = i386-pc-mingw32
>  arch = x86
>  os = Win32
>  system = x86, Win32
>  status =
>  major = 1
>  minor = 3.1
>  year = 2001
>  month = 08
>  day = 31
>  language = R
>
> Windows NT 4.0 (build 1381) Service Pack 6
>
> Search Path:
>  .GlobalEnv, package:ctest, Autoloads, package:base
>
>    --- D.Trenkler ---
>
> ****************************************************************************
> *****
>    Dr. Dietrich Trenkler        (dtrenkler@nts6.oec.uni-osnabrueck.de)
>    Statistik / Empirische Wirtschaftsforschung
>    Universitaet Osnabrueck
>    Rolandstrasse 8                                Phone: +49(0) 541-969-2753
>    D-49069 Osnabrueck                          Fax  : +49(0) 541-969-2744
>    GERMANY
> ****************************************************************************
> *****
>
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Thu Nov 22 13:28:49 2001
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Thu, 22 Nov 2001 08:28:49 -0500
Subject: [Rd] Using rsync from Windows
Message-ID: <ndupvtkmu7s4aj5mstan6p8eopbg32g2ui@4ax.com>

I've just installed the Cygwin version of rsync, with an aim of
syncing to the development version, as recommended on
<http://cran.r-project.org/sources.html>.  Could someone give an
example of the syntax to invoke it?  From the man page, I expected

 rsync rsync.rproject.org::

to give me a file listing, but I get:

 unknown host: rsync.rproject.org

Other network utilities (e.g. ssh) work, so it's not a simple network
problem, it's something I've missed in the rsync setup or on the
command line.  Any suggestions?

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From david.meyer@ci.tuwien.ac.at  Thu Nov 22 13:37:21 2001
From: david.meyer@ci.tuwien.ac.at (David Meyer)
Date: Thu, 22 Nov 2001 14:37:21 +0100
Subject: [Rd] Using rsync from Windows
References: <ndupvtkmu7s4aj5mstan6p8eopbg32g2ui@4ax.com>
Message-ID: <3BFCFF91.92A0D381@ci.tuwien.ac.at>

Duncan Murdoch wrote:
> 
> I've just installed the Cygwin version of rsync, with an aim of
> syncing to the development version, as recommended on
> <http://cran.r-project.org/sources.html>.  Could someone give an
> example of the syntax to invoke it?  From the man page, I expected
> 
>  rsync rsync.rproject.org::

Try: rsync rsync.r-project.org::
                  ^

> 
> to give me a file listing, but I get:
> 
>  unknown host: rsync.rproject.org
> 
> Other network utilities (e.g. ssh) work, so it's not a simple network
> problem, it's something I've missed in the rsync setup or on the
> command line.  Any suggestions?
> 
> Duncan Murdoch
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
	Mag. David Meyer		Wiedner Hauptstrasse 8-10
Vienna University of Technology		A-1040 Vienna/AUSTRIA
       Department for			Tel.: (+431) 58801/10772
Statistics and Probability Theory	mail: david.meyer@ci.tuwien.ac.at
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Thu Nov 22 14:35:59 2001
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Thu, 22 Nov 2001 09:35:59 -0500
Subject: [Rd] zlib location
In-Reply-To: <Pine.LNX.4.31.0111220753320.1603-100000@gannet.stats>
References: <dkrovtc1ujq6uiok0nudijcbkcli99tu3c@4ax.com> <Pine.LNX.4.31.0111220753320.1603-100000@gannet.stats>
Message-ID: <b30qvtk1joermi8qidjt6mtojtup3vd7il@4ax.com>

On Thu, 22 Nov 2001 07:59:55 +0000 (GMT), you wrote:
>You seem to have too old a version of the compiler.  From INSTALL
>
>We recommend that you use a recent snapshot of the mingw port of gcc
>from http://downloads.sourceforge.net/mingw/.  For example, at the
>time of writing, MinGW-1.1.tar.gz based on gcc-2.95.3.  Just unpack
>this somewhere and put its bin directory in your path.

I think the URL has changed.  I found the file at 

 http://sourceforge.net/projects/mingw/

instead.  I've installed it, and the build is proceeding...

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Thu Nov 22 15:03:28 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 22 Nov 2001 15:03:28 +0000 (GMT)
Subject: [Rd] zlib location
In-Reply-To: <b30qvtk1joermi8qidjt6mtojtup3vd7il@4ax.com>
Message-ID: <Pine.LNX.4.31.0111221451060.3076-100000@gannet.stats>

The portal has the current information (it's changed to prdownloads...),
as the docs point you to.

The locations in the R-devel docs are only checked just prior to release:
they change several times during an R release cycle.

Also, AFAIK no one is working on the Windows port at present, so the build
of R-devel is only tested irregularly.  I expect some work will be done on
it once 1.4.0 goes into feature freeze, but can't guarantee even that.

On Thu, 22 Nov 2001, Duncan Murdoch wrote:

> On Thu, 22 Nov 2001 07:59:55 +0000 (GMT), you wrote:
> >You seem to have too old a version of the compiler.  From INSTALL
> >
> >We recommend that you use a recent snapshot of the mingw port of gcc
> >from http://downloads.sourceforge.net/mingw/.  For example, at the
> >time of writing, MinGW-1.1.tar.gz based on gcc-2.95.3.  Just unpack
> >this somewhere and put its bin directory in your path.
>
> I think the URL has changed.  I found the file at
>
>  http://sourceforge.net/projects/mingw/
>
> instead.  I've installed it, and the build is proceeding...
>
> Duncan Murdoch
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Friedrich.Leisch@ci.tuwien.ac.at  Thu Nov 22 15:53:30 2001
From: Friedrich.Leisch@ci.tuwien.ac.at (Friedrich.Leisch@ci.tuwien.ac.at)
Date: Thu, 22 Nov 2001 16:53:30 +0100
Subject: [Rd] Using rsync from Windows
In-Reply-To: <ndupvtkmu7s4aj5mstan6p8eopbg32g2ui@4ax.com>
References: <ndupvtkmu7s4aj5mstan6p8eopbg32g2ui@4ax.com>
Message-ID: <15357.8058.339815.45712@galadriel.ci.tuwien.ac.at>

>>>>> On Thu, 22 Nov 2001 08:28:49 -0500,
>>>>> Duncan Murdoch (DM) wrote:

  > I've just installed the Cygwin version of rsync, with an aim of
  > syncing to the development version, as recommended on
  > <http://cran.r-project.org/sources.html>.  Could someone give an
  > example of the syntax to invoke it?  From the man page, I expected

  >  rsync rsync.rproject.org::

  > to give me a file listing, but I get:

  >  unknown host: rsync.rproject.org

  > Other network utilities (e.g. ssh) work, so it's not a simple network
  > problem, it's something I've missed in the rsync setup or on the
  > command line.  Any suggestions?

Oops, sorry, that's a typo on the web page, should of course be

    rsync rsync.r-project.org::

(note the dash in our domain name). Fixed now.

Best,
Fritz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From baron@cattell.psych.upenn.edu  Thu Nov 22 17:47:38 2001
From: baron@cattell.psych.upenn.edu (baron@cattell.psych.upenn.edu)
Date: Thu, 22 Nov 2001 18:47:38 +0100 (MET)
Subject: [Rd] R-ext.html should be R-exts.html in R-lang.html (PR#1180)
Message-ID: <200111221747.SAA01464@pubhealth.ku.dk>


<<insert bug report here>>

That's it.  Just a minor error in the links in R-lang.html.  I
noticed this in my error logs.  Seems that R-ext.html does not
exist.  Jon

--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = 
 major = 1
 minor = 3.1
 year = 2001
 month = 08
 day = 31
 language = R

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.murrell@auckland.ac.nz  Thu Nov 22 21:44:57 2001
From: p.murrell@auckland.ac.nz (Paul Murrell)
Date: Fri, 23 Nov 2001 10:44:57 +1300
Subject: [Rd] contour as a generic function?
References: <Pine.LNX.4.30.0111210525290.4842-100000@bolker.zoo.ufl.edu>
Message-ID: <01da01c1739e$ede74bf0$7632d882@stat.auckland.ac.nz>

Hi


>   As long as we're on wish lists (Paul Murrell??) it would be nice to have
> contour (optionally) return a list of contours, so that one could
> post-process them etc..  This would also, I think, eventually facilitate
> drawing contours onto 3-D surfaces ... I thought about hacking this but
> the contour function was too scary for me ...


Its pretty scary stuff alright :)

I am mucking about in the graphics code at the moment and one of the things
I hope to get to is this "3D" stuff.  The plan is to make it more modular
and especially separate the *calculation* of things like contours from the
actual *rendering* of them (another good example is returning the
transformation matrix from persp()).

Paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From dmurdoch@pair.com  Fri Nov 23 04:25:00 2001
From: dmurdoch@pair.com (Duncan Murdoch)
Date: Thu, 22 Nov 2001 23:25:00 -0500
Subject: [Rd] zip error, missing file
Message-ID: <fqirvtolqnhddve6aebn8vnap1gd1i8fe7@4ax.com>

4.  Noticed this error go by in the r-devel build in Windows 95:

F:/R/TOOLS/BIN/MAKE.EXE -C ./help RHOME=F:/R/R-devel
PKGDIR=F:/R/R-devel/src/lib
rary RLIB=F:/R/R-devel/library ziponlyhelp-base
MAKE.EXE[2]: Entering directory `F:/R/R-devel/src/gnuwin32/help'
zip -jqmX help/Rhelp help/* -x help/AnIndex 2> nul
MAKE.EXE[3]: [zipup] Error 12 (ignored)

My guess is that it's a problem with "2> nul".  That syntax isn't
supported by COMMAND.COM.  It didn't appear to cause any problems
though...

5.  But this one has me stopped again:

 gcc  --shared -s  -o ctest.dll ctest.def ctest.a ctest_res.o   -lg2c
EXTRADOCS=
 F:/R/R-devel/bin/R.dll
 gcc: EXTRADOCS=: No such file or directory
 MAKE.EXE[3]: *** [ctest.dll] Error 1
 MAKE.EXE[3]: Leaving directory `F:/R/R-devel/src/library/ctest/src'
 F:\R\TOOLS\BIN\MAKE.EXE[2]: *** [src/ctest.dll] Error 2
 F:\R\TOOLS\BIN\MAKE.EXE[2]: Leaving directory
`F:/R/R-devel/src/library/ctest'

It looks to me as though gcc thinks "EXTRADOCS=" is a filename, but I
don't know  why.  The only place I can spot this is in
src/gnuwin32/Makefile line 184, but it might be coming from somewhere
else, and I don't know what is causing the error.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Nov 23 14:12:41 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 23 Nov 2001 14:12:41 +0000 (GMT Standard Time)
Subject: [Rd] zip error, missing file
In-Reply-To: <fqirvtolqnhddve6aebn8vnap1gd1i8fe7@4ax.com>
Message-ID: <Pine.WNT.4.31.0111231401550.852-100000@gannet>

On Thu, 22 Nov 2001, Duncan Murdoch wrote:

> 4.  Noticed this error go by in the r-devel build in Windows 95:
>
> F:/R/TOOLS/BIN/MAKE.EXE -C ./help RHOME=F:/R/R-devel
> PKGDIR=F:/R/R-devel/src/lib
> rary RLIB=F:/R/R-devel/library ziponlyhelp-base
> MAKE.EXE[2]: Entering directory `F:/R/R-devel/src/gnuwin32/help'
> zip -jqmX help/Rhelp help/* -x help/AnIndex 2> nul
> MAKE.EXE[3]: [zipup] Error 12 (ignored)
>
> My guess is that it's a problem with "2> nul".  That syntax isn't
> supported by COMMAND.COM.  It didn't appear to cause any problems
> though...

COMMAND.COM should not be used. The correct shell is /bin/sh,exe, which is
ash.  This fails the first time through a build (as there is notheing to
update).

>
> 5.  But this one has me stopped again:
>
>  gcc  --shared -s  -o ctest.dll ctest.def ctest.a ctest_res.o   -lg2c
> EXTRADOCS=
>  F:/R/R-devel/bin/R.dll
>  gcc: EXTRADOCS=: No such file or directory
>  MAKE.EXE[3]: *** [ctest.dll] Error 1
>  MAKE.EXE[3]: Leaving directory `F:/R/R-devel/src/library/ctest/src'
>  F:\R\TOOLS\BIN\MAKE.EXE[2]: *** [src/ctest.dll] Error 2
>  F:\R\TOOLS\BIN\MAKE.EXE[2]: Leaving directory
> `F:/R/R-devel/src/library/ctest'
>
> It looks to me as though gcc thinks "EXTRADOCS=" is a filename, but I
> don't know  why.  The only place I can spot this is in
> src/gnuwin32/Makefile line 184, but it might be coming from somewhere
> else, and I don't know what is causing the error.

I don't see that with my make and sh.  The command run is

/cygdrive/c/R/tools/make DLLNM=  FLIBS="-lg2c" EXTRADOCS= \
  -C c:/R/rw1040/src/library/ctest PKG=ctest RHOME=c:/R/rw1040 RLIB=c:/R/rw1040/library \
  -f c:/R/rw1040/src/gnuwin32/MakePkg
make[2]: Entering directory `/cygdrive/c/R/rw1040/src/library/ctest'
---------- Making package ctest ------------
mkdir -p c:/R/rw1040/library/ctest
cp -r   ./INDEX  ./TITLE  c:/R/rw1040/library/ctest/
  making DLL
make[3]: Entering directory `/cygdrive/c/R/rw1040/src/library/ctest/src'
windres --include-dir c:/R/rw1040/src/include  -i ctest_res.rc -o ctest_res.o
------- Building ctest.dll from ctest.a ctest_res.o --------
echo LIBRARY ctest > ctest.def
echo EXPORTS >> ctest.def
nm ctest.a ctest_res.o > Defs
sed -n '/^........ [BCDRT] _/s/^........ [BCDRT] _/ /p' Defs >> ctest.def
rm -f Defs
gcc  --shared -s  -o ctest.dll ctest.def ctest.a ctest_res.o   -lg2c c:/R/rw1040/bin/R.dll
make[3]: Leaving directory `/cygdrive/c/R/rw1040/src/library/ctest/src'
  DLL made

....

so it looks like make is mis-behaving.  On the other hand, I have not idea
what it is for (Guido?) and suggest you remove it from
src/gnuwin32/Makefile.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jan@rychter.com  Fri Nov 23 20:02:41 2001
From: jan@rychter.com (Jan Rychter)
Date: Fri, 23 Nov 2001 21:02:41 +0100
Subject: [Rd] segfault using svm from e1071 (PR#1178)
In-Reply-To: <3BFB838A.E7E40F39@ci.tuwien.ac.at> (David Meyer's message of
 "Wed, 21 Nov 2001 11:35:55 +0100")
References: <200111202238.XAA07070@pubhealth.ku.dk>
 <3BFB838A.E7E40F39@ci.tuwien.ac.at>
Message-ID: <m2oflt1cim.fsf@tnuctip.rychter.com>

>>>>> "David" == David Meyer <david.meyer@ci.tuwien.ac.at> writes:
 David> jan@rychter.com wrote:
 >>
 >> This could be a bug in the e1071 svm code, but maybe not -- I guess
 >> I'll send it here anyway. It's reproducible.

 David> Which version of e1071 are you using (Current: 1.2-1)? This
 David> package had a bug fix release one month ago.

To follow up on this (yes, I'm using 1.2-1), here is the backtrace. Hope
it helps.

> library(e1071)
>      x <- seq (0.1,5,by=0.05)
>      y <- log(x) + rnorm (x, sd=0.2)
>      m   <- svm (x,y)

Program received signal SIGSEGV, Segmentation fault.
0x4011ffe8 in realloc () from /lib/libc.so.6
(gdb) bt
#0  0x4011ffe8 in realloc () from /lib/libc.so.6
#1  0x403859ea in Cache::get_data (this=0x8b01d00, index=145759521, data=0xbfffd9b4, 
    len=99) at svm.cpp:126
#2  0x4038b239 in SVR_Q::get_Q (this=0xbfffdb00, i=100, len=198) at svm.cpp:1223
#3  0x4038658d in Solver::Solve (this=0xbfffdb50, l=198, Q=@0xbfffdb00, b_=0x8b01148, 
    y_=0x8b01780 '\001' <repeats 99 times>, '' <repeats 99 times>, alpha_=0x8b00b10, 
    Cp=1, Cn=1, eps=0.001, si=0xbfffdc20, shrinking=1) at svm.cpp:534
#4  0x40388249 in solve_epsilon_svr (prob=0xbfffde40, param=0xbfffde50, alpha=0x8b007f0, 
    si=0xbfffdc20) at svm.cpp:1195
#5  0x40388aac in svm_train_one (prob=0xbfffde40, param=0xbfffde50, Cp=0, Cn=0)
    at svm.cpp:1505
#6  0x40388c54 in svm_train (prob=0xbfffde40, param=0xbfffde50) at svm.cpp:1584
#7  0x40384202 in svmtrain () from /local/lib/R/library/e1071/libs/e1071.so
#8  0x0808ccd9 in do_dotCode ()
#9  0x08093e23 in Rf_eval ()
#10 0x0809546a in do_set ()
#11 0x08093c6e in Rf_eval ()
#12 0x08094db9 in do_begin ()
#13 0x08093c6e in Rf_eval ()
#14 0x08094238 in Rf_applyClosure ()
#15 0x080b423b in applyMethod ()
#16 0x080b47ce in Rf_usemethod ()
#17 0x080b49dd in do_usemethod ()
#18 0x08093c6e in Rf_eval ()
#19 0x08094238 in Rf_applyClosure ()
#20 0x08093eaa in Rf_eval ()
#21 0x0809546a in do_set ()
#22 0x08093c6e in Rf_eval ()
#23 0x080a906b in R_ReplConsole ()
#24 0x080a980a in run_Rmainloop ()
#25 0x080ff8e8 in main ()
#26 0x400bb5b0 in __libc_start_main () from /lib/libc.so.6
(gdb) 


--Jan

 > x <- seq (0.1,5,by=0.05) y <- log(x) + rnorm (x, sd=0.2)
 > library(e1071) m <- svm (x,y)
 >>
 >> Process R segmentation fault at Tue Nov 20 23:34:19 2001
 >>
 > version
 >> _ platform i686-pc-linux-gnu arch i686 os linux-gnu system i686,
 >> linux-gnu status major 1 minor 3.1 year 2001 month 08 day 31
 >> language R
 >>
 >> I used the Mandrake 8.0 RPM binaries from cran.r-project.org first,
 >> then recompiled R myself and reinstalled e1071. Same results.
 >>
 >> thanks, --J.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ligges@statistik.uni-dortmund.de  Mon Nov 26 15:25:36 2001
From: ligges@statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 26 Nov 2001 16:25:36 +0100
Subject: [Rd] default symbol in plots changed in R-Devel for windows
Message-ID: <3C025EF0.EB57EAE4@statistik.uni-dortmund.de>

I did some test on WinXP and of course one of these was compiling and
starting R (good "news": It works).

To my surprise the default plotting character changed from the well
known empty circle to a black *FILLED* circle in the windows and bitmap
devices, but not so on the postscript and pdf devices.

Taking a closer look to more symbols shows that some symbols changed
from filled to unfilled ones and others from unfilled to filled. Is this
intended or just a fact the status "in development" of R-1.4.0?
Or maybe it is an interaction with the changes on transparent
backgrounds?

It happens with R
 Version 1.4.0 Under development (unstable) (2001-11-25)
on Windows NT 4.0 (SP6) and Windows XP, but not so on Solaris.

Best,
Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Mon Nov 26 15:42:22 2001
From: ripley@stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 26 Nov 2001 15:42:22 +0000 (GMT Standard Time)
Subject: [Rd] default symbol in plots changed in R-Devel for windows
In-Reply-To: <3C025EF0.EB57EAE4@statistik.uni-dortmund.de>
Message-ID: <Pine.WNT.4.31.0111261537150.976-100000@gannet>

This is a known transitory bug, which I found late yesterday.  You'll find
R_ALPHA at one place in your devga.c.  Change it to R_OPAQUE.

We've been having some problems as a result of extensive graphics changes
from Paul.  If tonight's snapshot works correctly, it will have this fixed.

On Mon, 26 Nov 2001, Uwe Ligges wrote:

> I did some test on WinXP and of course one of these was compiling and
> starting R (good "news": It works).
>
> To my surprise the default plotting character changed from the well
> known empty circle to a black *FILLED* circle in the windows and bitmap
> devices, but not so on the postscript and pdf devices.
>
> Taking a closer look to more symbols shows that some symbols changed
> from filled to unfilled ones and others from unfilled to filled. Is this
> intended or just a fact the status "in development" of R-1.4.0?
> Or maybe it is an interaction with the changes on transparent
> backgrounds?
>
> It happens with R
>  Version 1.4.0 Under development (unstable) (2001-11-25)
> on Windows NT 4.0 (SP6) and Windows XP, but not so on Solaris.
>
> Best,
> Uwe
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jcs20@po.cwru.edu  Mon Nov 26 21:00:15 2001
From: jcs20@po.cwru.edu (jcs20@po.cwru.edu)
Date: Mon, 26 Nov 2001 22:00:15 +0100 (MET)
Subject: [Rd] predict.nnet (PR#1181)
Message-ID: <200111262100.WAA02054@pubhealth.ku.dk>

Full_Name: Jeff Schwarz
Version: R1.3.1
OS: Windows 2000
Submission from: (NULL) (129.22.170.115)


Error message (using predict and predict.nnet)
> predict (smalltest, smallx[-jj,])
Error in matrix(NA, length(keep), nout, dimnames = list(rn,
dimnames(object$fitted)[[2]])) : 
        length of dimnames[1] not equal to array extent

*** all relevant code and data source is given below ***

I have successfully built an object of type nnet using...
nnet.formula(formula = Q65 ~ ., data = smallx, size = 2, rang = 1, 
    maxit = 250, subset = jj)

where smallx is a data.frame with dimensions 300 by 103 that contains numerical
and factor variables.  Smallx is a random sample of 300 from the tab-delimited
numeric dataset found at
http://www.gvu.gatech.edu/user_surveys/survey-1998-10/datasets/num_general.zip. 
The code I used to recode the data is below, also.

I have successfully run the sample code from the predict.nnet help file without
any problem.

*********************************************************************

data source: 
http://www.gvu.gatech.edu/user_surveys/survey-1998-10/datasets/num_general.zip

#***Get the data from the big file
#***Get rid of the vairiables for survey (all
#*** observations = general), a unique identifier
#*** for each respondent and an extra variable X 
#*** (all = NaN)
#***Make sure that all the asymmetric binary,
#*** and nominal variables are coded as factor,
#*** not numeric (daisy has special methods for
#*** symmetric binary and discrete ordinal)
#***Recode some of the discrete ordinal variables
#*** so the Na, didn't know, and didn't say are all
#*** "NaN", and so that a few of the "never" responses
#*** are coded as 0 instead of 5

bigx <-
  read.delim (file location, 
  header = TRUE, sep = "\t", quote = "\"", dec = ".",
  fill = TRUE)

bigx <- bigx [,c(1:103)]

ii <- bigx[,c(22)] == 5
bigx[,c(22)] <- replace (bigx[,c(22)], ii, 0) 
ii <- bigx[,c(23)] == 5
bigx[,c(23)] <- replace (bigx[,c(23)], ii, 0)
ii <- bigx[,c(24)] == 5
bigx[,c(24)] <- replace (bigx[,c(24)], ii, 0)
ii <- bigx[,c(25)] == 5
bigx[,c(25)] <- replace (bigx[,c(25)], ii, 0)
ii <- bigx[,c(26)] == 5
bigx[,c(26)] <- replace (bigx[,c(26)], ii, 0)
ii <- bigx[,38] == 7
bigx[,38] <- replace (bigx[,38], ii, NaN)
ii <- bigx[,38] == 8
bigx[,38] <- replace (bigx[,38], ii, NaN)
ii <- bigx[,57] == 1
bigx[,57] <- replace (bigx[,57], ii, NaN)
ii <- bigx[,58] == 19
bigx[,58] <- replace (bigx[,58], ii, NaN)
ii <- bigx[,60] == 4
bigx[,60] <- replace (bigx[,60], ii, NaN)
ii <- bigx[,60] == 1
bigx[,60] <- replace (bigx[,60], ii, 3)
ii <- bigx[,60] == 2
bigx[,60] <- replace (bigx[,60], ii, 1)
ii <- bigx[,60] == 3
bigx[,60] <- replace (bigx[,60], ii, 2)
ii <- bigx[,69] == 1
bigx[,69] <- replace (bigx[,69], ii, NaN)
ii <- bigx[,69] == 7
bigx[,69] <- replace (bigx[,69], ii, NaN)
bigx[,69] <- bigx[,69] - 1

for (ii in c(1:9,14:21,27:32,34:37,39:49,52:55,
  59,61:70,72:103)) bigx[,ii] <- as.factor(bigx[,ii])

library (nnet)

set.seed(7261)
smallx <- bigx[sample(1:5022,300),]
jj <- sample (1:300, 100)
smalltest <- nnet.formula(formula = Q65 ~ ., data = smallx,
  size = 2, rang = 1, maxit = 250, subset = jj)

predict.nnet (smalltest, smallx[-jj,])

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From andy_liaw@merck.com  Mon Nov 26 21:36:55 2001
From: andy_liaw@merck.com (Liaw, Andy)
Date: Mon, 26 Nov 2001 16:36:55 -0500
Subject: debugging R-devel  on WinNT (was RE: [Rd] zlib location)
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC83BB@usrymx10.merck.com>

From: Prof Brian Ripley [mailto:ripley@stats.ox.ac.uk]

[...]

> Also, AFAIK no one is working on the Windows port at present, so the build
> of R-devel is only tested irregularly.  I expect some work will be done on
> it once 1.4.0 goes into feature freeze, but can't guarantee even that.

I had been trying to find out why La.svd on moderately large matrices (say
500 x 100) crash R-devel linked against ATLAS on WinNT.  Could some one
provide some hint on how to go about doing this?  I tried the instruction in
rw-faq, but keep getting stuck as follows:

(gdb) break WinMain
Breakpoint 1 at 0x4013c6: file ../graphapp/graphappmain.c, line 94.

(gdb) run
"/cygdrive/c/WINNT/system32/KERNEL32.dll": error reading line numbers

"/cygdrive/c/WINNT/system32/ADVAPI32.dll": error reading line numbers

"/cygdrive/c/WINNT/system32/VERSION.dll": error reading line numbers

"/cygdrive/c/WINNT/system32/LZ32.dll": error reading line numbers


Breakpoint 1, WinMain (Instance=0x400000, PrevInstance=0x0, CmdLine=0x232b0b
"", CmdShow=10) at ../graphapp/graphappmain.c:94

Starting program:
/cygdrive/c/Rtools/R-devel1105/src/gnuwin32/../../bin/Rgui.exe 

(gdb) break R_ReadConsole
Error: Cannot access memory at address 0x1f9a4

I tried adding the directories where several source files are (e.g.,
src/main, src/gnuwin32, src/gnuwin32/graphapp, and src/gnuwin32/front-ends),
but still get the same thing.

Also, as R starts, I get a bunch of dialog boxes that complained about DLL
relocated.  Is this normal?

If I just type "c" and run Rgui, and issue the command
"La.svd(matrix(runif(5e4), 5e2, 1e2))", I get a few more dialog boxes, one
saying "Invalid address specified to RtlFreeHeap(9f0000, 1efde80)", another
saying "HEAP(Rgui.exe)", and a SIGTRAP is generated.

I did one more (crazy? stupid?) thing:  I replaced the lapack.c in R-devel
(dated Nov. 14, 2001) with the one in R-1.3.1 *as is*.  It actually
compiled!  However, the result is the same.

Any help on how to get gdb to work is greatly appreciated!!

Regards,
Andy

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossini@u.washington.edu  Tue Nov 27 17:24:57 2001
From: rossini@u.washington.edu (A.J. Rossini)
Date: 27 Nov 2001 09:24:57 -0800
Subject: [Rd] seek helppage.  Possible clarification?
Message-ID: <87zo58dt3q.fsf@jeeves.blindglobe.net>


seek(zz,where=NewPosition)   returns the OldPosition of connection zz
(of the appropriate "pointer", i.e. read or write).  Currently, the
docs have:

> Details:
> 
>     `seek' with `where = NA' returns the current byte offset of a
>     connection (from the beginning), and with a positive `where'
>     argument the connection is re-positioned (if possible) to the
>     specified position.


One possible change would be to:


> Details:
>
>     `seek' with `where = NA' returns the current byte offset of a
>     connection (from the beginning), and with a positive `where'
>     argument the connection is re-positioned (if possible) to the
>     specified position, returning the previous position.

(since seek() seems to return "current/previous position", at least
for the variants I seem to use).

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini@u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini@scharp.org
-------------- http://software.biostat.washington.edu/ --------------
FHCRC: M-W: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   T-Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
Rosen: (Mullins' Lab) Fridays, and I'm unreachable except by email.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Nov 27 17:32:49 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 27 Nov 2001 17:32:49 +0000 (GMT)
Subject: [Rd] seek helppage.  Possible clarification?
In-Reply-To: <87zo58dt3q.fsf@jeeves.blindglobe.net>
Message-ID: <Pine.LNX.4.31.0111271730130.12944-100000@gannet.stats>

It's usual to put values in the Value: section, and indeed it is described
there.  I am not sure why I would expect it in Details: too.

Looks like `positive' is out-of-date, though.

On 27 Nov 2001, A.J. Rossini wrote:

>
> seek(zz,where=NewPosition)   returns the OldPosition of connection zz
> (of the appropriate "pointer", i.e. read or write).  Currently, the
> docs have:
>
> > Details:
> >
> >     `seek' with `where = NA' returns the current byte offset of a
> >     connection (from the beginning), and with a positive `where'
> >     argument the connection is re-positioned (if possible) to the
> >     specified position.
>
>
> One possible change would be to:
>
>
> > Details:
> >
> >     `seek' with `where = NA' returns the current byte offset of a
> >     connection (from the beginning), and with a positive `where'
> >     argument the connection is re-positioned (if possible) to the
> >     specified position, returning the previous position.
>
> (since seek() seems to return "current/previous position", at least
> for the variants I seem to use).
>
> best,
> -tony
>
> --
> A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
> U. of Washington Biostatistics		rossini@u.washington.edu
> FHCRC/SCHARP/HIV Vaccine Trials Net	rossini@scharp.org
> -------------- http://software.biostat.washington.edu/ --------------
> FHCRC: M-W: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
> UW:   T-Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
> Rosen: (Mullins' Lab) Fridays, and I'm unreachable except by email.
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From rossini@u.washington.edu  Tue Nov 27 17:45:44 2001
From: rossini@u.washington.edu (A.J. Rossini)
Date: 27 Nov 2001 09:45:44 -0800
Subject: [Rd] seek helppage.  Possible clarification?
In-Reply-To: <Pine.LNX.4.31.0111271730130.12944-100000@gannet.stats>
References: <Pine.LNX.4.31.0111271730130.12944-100000@gannet.stats>
Message-ID: <87pu64ds53.fsf@jeeves.blindglobe.net>

>>>>> "BR" == Brian Ripley <Prof> writes:

    BR> It's usual to put values in the Value: section, and indeed it
    BR> is described there.  I am not sure why I would expect it in
    BR> Details: too.

Then the suggestion would be instead of (from "Value"):

     `seek' returns the current position, as a byte offset, if
     relevant, or `0' if not.

to:

     `seek' returns the current or previous position, as a byte offset, if
     relevant, or `0' if not.

(the confusion for me was whether current was before or after the function
call, which may change the position).

best,
-tony


-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini@u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini@scharp.org
-------------- http://software.biostat.washington.edu/ --------------
FHCRC: M-W: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   T-Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
Rosen: (Mullins' Lab) Fridays, and I'm unreachable except by email.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Nov 27 19:23:02 2001
From: ripley@stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 27 Nov 2001 19:23:02 +0000 (GMT)
Subject: [Rd] seek helppage.  Possible clarification?
In-Reply-To: <87pu64ds53.fsf@jeeves.blindglobe.net>
Message-ID: <Pine.LNX.4.31.0111271921280.13076-100000@gannet.stats>

On 27 Nov 2001, A.J. Rossini wrote:

> >>>>> "BR" == Brian Ripley <Prof> writes:
>
>     BR> It's usual to put values in the Value: section, and indeed it
>     BR> is described there.  I am not sure why I would expect it in
>     BR> Details: too.
>
> Then the suggestion would be instead of (from "Value"):
>
>      `seek' returns the current position, as a byte offset, if
>      relevant, or `0' if not.
>
> to:
>
>      `seek' returns the current or previous position, as a byte offset, if
>      relevant, or `0' if not.
>
> (the confusion for me was whether current was before or after the function
> call, which may change the position).

(Sorry, I missed the point!)
I'd still say that was ambiguous, so I've changed it to

  \code{seek} returns the current position (before any move),
  as a byte offset, if relevant, or \code{0} if not.

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From mdesai@biostat.cpmc.columbia.edu  Tue Nov 27 20:02:44 2001
From: mdesai@biostat.cpmc.columbia.edu (mdesai@biostat.cpmc.columbia.edu)
Date: Tue, 27 Nov 2001 21:02:44 +0100 (MET)
Subject: [Rd] Table Command (PR#1182)
Message-ID: <200111272002.VAA16156@pubhealth.ku.dk>

Full_Name: Manisha Desai
Version: 1.3.0
OS: UNIX
Submission from: (NULL) (156.111.36.213)


There may be a bug in the table command.  
The value of 0 does not appear to show up (at least in this version of R).  
The following is an example:

> blah<-c(rep(1,100),rep(0,100))
> table(blah)

Gives the following:

blah
  1
100

Doing a summary shows that blah does contain values of 0.  

> summary(blah)
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
    0.0     0.0     0.5     0.5     1.0     1.0 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From p.dalgaard@biostat.ku.dk  Tue Nov 27 20:14:08 2001
From: p.dalgaard@biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 Nov 2001 21:14:08 +0100
Subject: [Rd] Table Command (PR#1182)
In-Reply-To: <200111272002.VAA16156@pubhealth.ku.dk>
References: <200111272002.VAA16156@pubhealth.ku.dk>
Message-ID: <x24rnghsz3.fsf@blueberry.kubism.ku.dk>

mdesai@biostat.cpmc.columbia.edu writes:

> Full_Name: Manisha Desai
> Version: 1.3.0
> OS: UNIX
> Submission from: (NULL) (156.111.36.213)
> 
> 
> There may be a bug in the table command.  
> The value of 0 does not appear to show up (at least in this version of R).  
> The following is an example:
> 
> > blah<-c(rep(1,100),rep(0,100))
> > table(blah)
> 
> Gives the following:
> 
> blah
>   1
> 100
> 
> Doing a summary shows that blah does contain values of 0.  
> 
> > summary(blah)
>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
>     0.0     0.0     0.5     0.5     1.0     1.0 

Doesn't happen on any version of "UNIX" that I have access to. I think
we had a report once where something like that was caused by an
incorrect compiler (or compiler flag). We need to have full
information on your system and build to do anything about it.

To wit (Solaris 7, R-1.3.1)

> blah<-c(rep(1,100),rep(0,100))
> table(blah)
blah
  0   1 
100 100 


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From mdesai@biostat.cpmc.columbia.edu  Tue Nov 27 21:07:54 2001
From: mdesai@biostat.cpmc.columbia.edu (Manisha Desai)
Date: Tue, 27 Nov 2001 16:07:54 -0500 (EST)
Subject: [Rd] Table Command (PR#1182)
In-Reply-To: <x24rnghsz3.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.SOL.4.33.0111271556500.13397-100000@bernoulli.cpmc.columbia.edu>


Thanks for your response.  Here is some information on my system.  I will
speak with my systems administrator if the problem is not obvious.

Manisha

> version
         _
platform sparc-sun-solaris2.8
arch     sparc
os       solaris2.8
system   sparc, solaris2.8
status
major    1
minor    3.0
year     2001
month    06
day      22
language R



On 27 Nov 2001, Peter Dalgaard BSA wrote:

> mdesai@biostat.cpmc.columbia.edu writes:
>
> > Full_Name: Manisha Desai
> > Version: 1.3.0
> > OS: UNIX
> > Submission from: (NULL) (156.111.36.213)
> >
> >
> > There may be a bug in the table command.
> > The value of 0 does not appear to show up (at least in this version of R).
> > The following is an example:
> >
> > > blah<-c(rep(1,100),rep(0,100))
> > > table(blah)
> >
> > Gives the following:
> >
> > blah
> >   1
> > 100
> >
> > Doing a summary shows that blah does contain values of 0.
> >
> > > summary(blah)
> >    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.
> >     0.0     0.0     0.5     0.5     1.0     1.0
>
> Doesn't happen on any version of "UNIX" that I have access to. I think
> we had a report once where something like that was caused by an
> incorrect compiler (or compiler flag). We need to have full
> information on your system and build to do anything about it.
>
> To wit (Solaris 7, R-1.3.1)
>
> > blah<-c(rep(1,100),rep(0,100))
> > table(blah)
> blah
>   0   1
> 100 100
>
>
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Tue Nov 27 21:19:14 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 27 Nov 2001 22:19:14 +0100 (MET)
Subject: [Rd] Table Command (PR#1182)
Message-ID: <200111272119.WAA16776@pubhealth.ku.dk>

Did this system pass make check?

I believe this happens if you use aggresive optimizations under the SunPro
compiler, which do not respect IEEE arithmetic and do fail make check.
In particular, avoid -fast.


On Tue, 27 Nov 2001, Manisha Desai wrote:

>
> Thanks for your response.  Here is some information on my system.  I will
> speak with my systems administrator if the problem is not obvious.
>
> Manisha
>
> > version
>          _
> platform sparc-sun-solaris2.8
> arch     sparc
> os       solaris2.8
> system   sparc, solaris2.8
> status
> major    1
> minor    3.0
> year     2001
> month    06
> day      22
> language R
>
>
>
> On 27 Nov 2001, Peter Dalgaard BSA wrote:
>
> > mdesai@biostat.cpmc.columbia.edu writes:
> >
> > > Full_Name: Manisha Desai
> > > Version: 1.3.0
> > > OS: UNIX
> > > Submission from: (NULL) (156.111.36.213)
> > >
> > >
> > > There may be a bug in the table command.
> > > The value of 0 does not appear to show up (at least in this version of R).
> > > The following is an example:
> > >
> > > > blah<-c(rep(1,100),rep(0,100))
> > > > table(blah)
> > >
> > > Gives the following:
> > >
> > > blah
> > >   1
> > > 100
> > >
> > > Doing a summary shows that blah does contain values of 0.
> > >
> > > > summary(blah)
> > >    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.
> > >     0.0     0.0     0.5     0.5     1.0     1.0
> >
> > Doesn't happen on any version of "UNIX" that I have access to. I think
> > we had a report once where something like that was caused by an
> > incorrect compiler (or compiler flag). We need to have full
> > information on your system and build to do anything about it.
> >
> > To wit (Solaris 7, R-1.3.1)
> >
> > > blah<-c(rep(1,100),rep(0,100))
> > > table(blah)
> > blah
> >   0   1
> > 100 100
> >
> >
> > --
> >    O__  ---- Peter Dalgaard             Blegdamsvej 3
> >   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
> >  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> > ~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
> >
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From mdesai@biostat.cpmc.columbia.edu  Tue Nov 27 21:28:30 2001
From: mdesai@biostat.cpmc.columbia.edu (mdesai@biostat.cpmc.columbia.edu)
Date: Tue, 27 Nov 2001 22:28:30 +0100 (MET)
Subject: [Rd] Table Command (PR#1182)
Message-ID: <200111272128.WAA16840@pubhealth.ku.dk>


Thank you.  Yes, my systems administrator has just confirmed that he used
maximum optimization when compiling R.  Problem (most probably) solved.

Manisha

On Tue, 27 Nov 2001, Prof Brian Ripley wrote:

> Did this system pass make check?
>
> I believe this happens if you use aggresive optimizations under the SunPro
> compiler, which do not respect IEEE arithmetic and do fail make check.
> In particular, avoid -fast.
>
>
> On Tue, 27 Nov 2001, Manisha Desai wrote:
>
> >
> > Thanks for your response.  Here is some information on my system.  I will
> > speak with my systems administrator if the problem is not obvious.
> >
> > Manisha
> >
> > > version
> >          _
> > platform sparc-sun-solaris2.8
> > arch     sparc
> > os       solaris2.8
> > system   sparc, solaris2.8
> > status
> > major    1
> > minor    3.0
> > year     2001
> > month    06
> > day      22
> > language R
> >
> >
> >
> > On 27 Nov 2001, Peter Dalgaard BSA wrote:
> >
> > > mdesai@biostat.cpmc.columbia.edu writes:
> > >
> > > > Full_Name: Manisha Desai
> > > > Version: 1.3.0
> > > > OS: UNIX
> > > > Submission from: (NULL) (156.111.36.213)
> > > >
> > > >
> > > > There may be a bug in the table command.
> > > > The value of 0 does not appear to show up (at least in this version of R).
> > > > The following is an example:
> > > >
> > > > > blah<-c(rep(1,100),rep(0,100))
> > > > > table(blah)
> > > >
> > > > Gives the following:
> > > >
> > > > blah
> > > >   1
> > > > 100
> > > >
> > > > Doing a summary shows that blah does contain values of 0.
> > > >
> > > > > summary(blah)
> > > >    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.
> > > >     0.0     0.0     0.5     0.5     1.0     1.0
> > >
> > > Doesn't happen on any version of "UNIX" that I have access to. I think
> > > we had a report once where something like that was caused by an
> > > incorrect compiler (or compiler flag). We need to have full
> > > information on your system and build to do anything about it.
> > >
> > > To wit (Solaris 7, R-1.3.1)
> > >
> > > > blah<-c(rep(1,100),rep(0,100))
> > > > table(blah)
> > > blah
> > >   0   1
> > > 100 100
> > >
> > >
> > > --
> > >    O__  ---- Peter Dalgaard             Blegdamsvej 3
> > >   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
> > >  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> > > ~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
> > >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
>
> --
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From plummer@iarc.fr  Thu Nov 29 15:58:05 2001
From: plummer@iarc.fr (Martyn Plummer)
Date: Thu, 29 Nov 2001 16:58:05 +0100 (CET)
Subject: [Rd] R CMD check
Message-ID: <XFMail.20011129165805.plummer@iarc.fr>

[Sent to R-help by mistake. Sorry]

I have been checking my package coda with the current R-devel
using "R CMD check".  As usual, this has uncovered a large number
of errors and inconsistencies in my documentation, for which I
am very grateful.

The only problem I have is with code/documentation mismatches when I
have written a method for a generic function, e.g.

* checking for code/documentation mismatches ... WARNING
Objects with usage in documentation object `plot.mcmc' but missing from code:
[1] "plot"

Objects with usage in documentation object `summary.mcmc' but missing from
code:[1] "summary"

Objects with usage in documentation object `time.mcmc' but missing from code:
[1] "end"   "start" "time" 

Objects with usage in documentation object `window.mcmc' but missing from code:
[1] "window"

This occurs because, for example, I have documented the usage of 
summary.mcmc as

\usage{
summary(data, quantiles = c(0.025, 0.25, 0.5, 0.75, 0.975), ...)
}

I'm being encouraged to document it as

\usage{
summary.mcmc(data, quantiles = c(0.025, 0.25, 0.5, 0.75, 0.975), ...)
}

but I don't think this is right. Surely the correct usage of a method
is to call the generic function?

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From charlie@stat.umn.edu  Thu Nov 29 16:02:34 2001
From: charlie@stat.umn.edu (charlie@stat.umn.edu)
Date: Thu, 29 Nov 2001 17:02:34 +0100 (MET)
Subject: [Rd] ltsreg warnings (PR#1184)
Message-ID: <200111291602.RAA13035@pubhealth.ku.dk>

Full_Name: Charles J. Geyer
Version: 1.3.1
OS: linux-gnu-i686
Submission from: (NULL) (134.84.86.22)


ltsreg gives incomprehensible (to me) warnings

A homework problem for nonparametrics

########## start example ##########
library(bootstrap)
data(cell)
names(cell)
attach(cell)

library(lqs)
plot(V1, V2)
fred <- ltsreg(V2 ~ V1 + I(V1^2))
curve(predict(fred, data.frame(V1 = x)), add = TRUE)
coefficients(fred)
beta1.hat <- coefficients(fred)[2]
beta2.hat <- coefficients(fred)[3]

n <- length(V1)
nboot <- 1000
beta1.star <- double(nboot)
beta2.star <- double(nboot)
for (i in 1:nboot) {
    k <- sample(1:n, replace = TRUE)
    x.star <- V1[k]
    y.star <- V2[k]
    sally <- ltsreg(y.star ~ x.star + I(x.star^2))
    curve(predict(sally, data.frame(x.star = x)),
        add = TRUE, col = 2)
    beta1.star[i] <- coefficients(sally)[2]
    beta2.star[i] <- coefficients(sally)[3]
}
points(V1, V2, pch = 16)
curve(predict(fred, data.frame(V1 = x)),
   add = TRUE, lwd = 2)

beta1.hat
sd(beta1.star)
beta2.hat
sd(beta2.star)
beta2.hat / sd(beta2.star)
########## end example ##########

This produces at least 50 warnings.  The problem seems to be line 101 in
lqs.default

s <- sqrt(z$crit/quantile)/sqrt(1 - 2 * n * dnorm(1/c1)/(quantile * c1))

where z$crit is sometimes negative (like -1e-20) and so sqrt complains.

Now I have no idea what ltsreg is doing, and what z$crit is.  The letters
suggest
a z critical value, which can't be negative.  Certainly, the programmer who
decided
to stuff it into sqrt() didn't think it would be negative.

So this suggests a problem in the lqs_fitlots function call, but I haven't
looked
at that.

I understand that the problem may be that bootstrapping such a small data set
is insane, but I'm just copying Efron and Tibshirani (who do this with lmsreg).

So the problem may be only that more informative error messages are needed (or
failure codes, although failure codes are somewhat antithetical to the S/R
spirit).

Anyway, just stuffing negative numbers into sqrt() doesn't look good.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Nov 29 19:43:56 2001
From: pgilbert@bank-banque-canada.ca (pgilbert@bank-banque-canada.ca)
Date: Thu, 29 Nov 2001 20:43:56 +0100 (MET)
Subject: [Rd] documentation for diff (PR#1185)
Message-ID: <200111291943.UAA14511@pubhealth.ku.dk>

The documentation for diff says:


     If `x' is a vector of length `n' and `differences=1', then the
     computed result is equal to the successive differences
     `x[(1:n-lag)] - x[(lag:n)]'. ...

This last line should say:

     `x[(1+lag):n] - x[1:(n-lag)]'.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From pgilbert@bank-banque-canada.ca  Thu Nov 29 17:09:18 2001
From: pgilbert@bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 29 Nov 2001 12:09:18 -0500
Subject: [Rd] R CMD check
References: <XFMail.20011129165805.plummer@iarc.fr>
Message-ID: <3C066BBE.3537F97C@bank-banque-canada.ca>

Martyn Plummer wrote:

> I'm being encouraged to document it as
> 
> \usage{
> summary.mcmc(data, quantiles = c(0.025, 0.25, 0.5, 0.75, 0.975), ...)
> }
> 

I think you are being encouraged to document it as

 \usage{
 \method{summary}{mcmc}(data, quantiles = c(0.025, 0.25, 0.5, 0.75, 0.975), ...)
 }

So it displays properly in the documentation and also gets checked properly. You
will then stop getting the "usage ...but missing from code" error and start
getting the "generic/method mismatch error." These guys are real slave drivers,
but as you said 

>this has uncovered a large number of errors and inconsistencies in my >documentation, for which I am very grateful.

Me too.

Paul Gilbert
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From vograno@arbitrade.com  Thu Nov 29 20:48:57 2001
From: vograno@arbitrade.com (vograno@arbitrade.com)
Date: Thu, 29 Nov 2001 21:48:57 +0100 (MET)
Subject: [Rd] a patch to tapply (PR#1186)
Message-ID: <200111292048.VAA14938@pubhealth.ku.dk>

Though tapply(x, factor, fun, simplify =TRUE) should be equivalent to
sapply(split(x, factor), fun, simplify=TRUE), note simplify=TRUE, it is not
so if fun() returns a vector rather than a scalar, e.g.

> tapply(1:6, c(0,0,0,1,1,1), function(x) c(min=min(x), max=max(x)),
simplify=TRUE)
$"0"
min max 
  1   3 

$"1"
min max 
  4   6 

> sapply(split(1:6, c(0,0,0,1,1,1)), function(x) c(min=min(x), max=max(x)),
simplify=TRUE)
    0 1
min 1 4
max 3 6

The patch submitted below fixes this problem
> tapply.new(1:6, c(0,0,0,1,1,1), function(x) c(min=min(x), max=max(x)),
simplify=TRUE)
    0 1
min 1 4
max 3 6

Another potential problem, which I am not able to verify at the moment, is
that whenever simplification is possible S-Plus returns a TRANSPOSE of that
of R, i.e.
  min max
0   1   3
1   4   6

Fixing this would require small changes to both tapply and sapply and I'll
be happy to provide the patches if requested.


R Version
> sapply(R.Version(), I)
           platform                arch                  os
system 
"i686-pc-linux-gnu"              "i686"         "linux-gnu"   "i686,
linux-gnu" 
             status               major               minor
year 
                 ""                 "1"               "3.1"
"2001" 
              month                 day            language 
               "08"                "31"                 "R"

 **************
The patch:
"tapply.new" <-
  function (X, INDEX, FUN = NULL, ..., simplify = TRUE) 
{
  FUN <- if (!is.null(FUN)) 
    match.fun(FUN)
  if (!is.list(INDEX)) 
    INDEX <- list(INDEX)
  nI <- length(INDEX)
  namelist <- vector("list", nI)
  names(namelist) <- names(INDEX)
  extent <- integer(nI)
  nx <- length(X)
  one <- as.integer(1)
  group <- rep(one, nx)
  ngroup <- one
  for (i in seq(INDEX)) {
    index <- as.factor(INDEX[[i]])
    if (length(index) != nx) 
      stop("arguments must have same length")
    namelist[[i]] <- levels(index)
    extent[i] <- nlevels(index)
    group <- group + ngroup * (as.integer(index) - one)
    ngroup <- ngroup * nlevels(index)
  }
  if (is.null(FUN)) 
    return(group)
  ans <- lapply(split(X, group), FUN, ...)
  if (simplify && length(common.len <- unique(unlist(lapply(ans, length))))
== 1) {
    if (common.len > 1) {
      extent <- c(common.len, extent)
      namelist <- c(list(names(ans[[1]])), namelist)
    }
    ansmat <- array(unlist(ans, recursive = FALSE), dim = extent, dimnames =
namelist)
    return(ansmat)
  }
  index <- as.numeric(names(ans))
  ansmat <- array(vector("list", prod(extent)), dim = extent, 
                  dimnames = namelist)
  names(ans) <- NULL
  ansmat[index] <- ans
  ansmat
}

-------------------------------------------------- 
DISCLAIMER 
This e-mail, and any attachments thereto, is intended only for use by the
addressee(s) named herein and may contain legally privileged and/or
confidential information.  If you are not the intended recipient of this
e-mail, you are hereby notified that any dissemination, distribution or
copying of this e-mail, and any attachments thereto, is strictly prohibited.
If you have received this e-mail in error, please immediately notify me and
permanently delete the original and any copy of any e-mail and any printout
thereof. 

E-mail transmission cannot be guaranteed to be secure or error-free.  The
sender therefore does not accept liability for any errors or omissions in
the contents of this message which arise as a result of e-mail transmission.

NOTICE REGARDING PRIVACY AND CONFIDENTIALITY 

Knight Trading Group may, at its discretion, monitor and review the content
of all e-mail communications. 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bates@stat.wisc.edu  Thu Nov 29 21:13:08 2001
From: bates@stat.wisc.edu (bates@stat.wisc.edu)
Date: Thu, 29 Nov 2001 22:13:08 +0100 (MET)
Subject: [Rd] anova.glm and explicit contrast matrices (PR#1187)
Message-ID: <200111292113.WAA15094@pubhealth.ku.dk>

anova.glm does not calculate the degrees of freedom properly when an
explicit contrast has been set on a factor and the contrast has fewer
than (len(levels(thisfactor)) - 1) columns.

> load("/p/stat/course/st849-bates/public/slides/figs/src/viet.rda")
> fm1 <- glm(accuracy ~ proficiency * task + proficiency/learner, viet,
+    family = binomial())
> anova(fm1)
Analysis of Deviance Table

Model: binomial, link: logit

Response: accuracy

Terms added sequentially (first to last)


                      Df Deviance Resid. Df Resid. Dev
NULL                                   5592     4921.9
proficiency            3     69.5      5589     4852.4
task                   4    132.9      5585     4719.5
proficiency:task      12     96.2      5573     4623.4
proficiency:learner    2     35.0      5571     4588.4
> contrasts(viet$proficiency, 1) <- contrasts(viet$proficiency)
> contrasts(viet$proficiency)
          .L
l -0.6708204
m -0.2236068
h  0.2236068
a  0.6708204
> fm2 <- glm(accuracy ~ proficiency * task + proficiency/learner, viet,
+   family = binomial())
> anova(fm2)
Analysis of Deviance Table

Model: binomial, link: logit

Response: accuracy

Terms added sequentially (first to last)


                      Df Deviance Resid. Df Resid. Dev
NULL                                   5592     4921.9
proficiency            3     69.5      5589     4852.4
task                   4    132.9      5585     4719.5
proficiency:task      12     96.2      5573     4623.4
proficiency:learner   -6     13.9      5579     4609.5

The degrees of freedom for proficiency should be 1, for
proficiency:task should be 4 and for proficiency:learner should be 4.

The coefficient count is correct.

--please do not edit the information below--

Version:
 platform = i386-pc-linux-gnu
 arch = i386
 os = linux-gnu
 system = i386, linux-gnu
 status = Under development (unstable)
 major = 1
 minor = 4.0
 year = 2001
 month = 11
 day = 28
 language = R

Search Path:
 .GlobalEnv, package:Devore5, package:ctest, Autoloads, package:base

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From cberry@tajo.ucsd.edu  Thu Nov 29 21:13:41 2001
From: cberry@tajo.ucsd.edu (cberry@tajo.ucsd.edu)
Date: Thu, 29 Nov 2001 22:13:41 +0100 (MET)
Subject: [Rd] rug(x) clip warning incorrect if par("xlog")==TRUE (PR#1188)
Message-ID: <200111292113.WAA15109@pubhealth.ku.dk>


To wit:

> plot(1:2,1:2,log="x")
> rug(1:2)      # should not warn
Warning message: 
some values will be clipped in: rug(1:2) 
> plot(1:2,1:2,log="x")
> rug(c(0,.1,.2))  # should warn, but does not
> 

I believe this fixes the problem:

% diff -c /tmp/orig.rug.R /tmp/cberry.rug.R 
*** /tmp/orig.rug.R	Thu Nov 29 12:59:00 2001
--- /tmp/cberry.rug.R	Thu Nov 29 12:57:50 2001
***************
*** 11,19 ****
      on.exit(par(oldcol), add = TRUE)
    }
    usr <- par("usr")
!   usr <- if (side%%2 == 1) 
!     usr[1:2]
!   else usr[3:4]
    if (any(x < usr[1] | x > usr[2])) 
      warning("some values will be clipped")
    axis(side, at = x, lab = FALSE, lwd = lwd)
--- 11,25 ----
      on.exit(par(oldcol), add = TRUE)
    }
    usr <- par("usr")
!   usr <- if (side%%2 == 1) {
!     if (par("xlog"))
!       10^(usr[1:2])
!     else usr[1:2]
!   }
!   else {
!     if (par("ylog"))
!       10^(usr[3:4])
!     else usr[3:4]}  
    if (any(x < usr[1] | x > usr[2])) 
      warning("some values will be clipped")
    axis(side, at = x, lab = FALSE, lwd = lwd)


Chuck

--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = 
 major = 1
 minor = 3.0
 year = 2001
 month = 06
 day = 22
 language = R

Search Path:
 .GlobalEnv, package:splines, package:survival, package:ctest, Autoloads,
package:base
> 


Charles C. Berry                        (858) 534-2098 
                                         Dept of Family/Preventive Medicine
E mailto:cberry@tajo.ucsd.edu	         UC San Diego
http://hacuna.ucsd.edu/members/ccb.html  La Jolla, San Diego 92093-0645

 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From Martin Maechler <maechler@stat.math.ethz.ch>  Fri Nov 30 08:55:19 2001
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Fri, 30 Nov 2001 09:55:19 +0100
Subject: [Rd] rug(x) clip warning incorrect if par("xlog")==TRUE (PR#1188)
In-Reply-To: <200111292113.WAA15109@pubhealth.ku.dk>
References: <200111292113.WAA15109@pubhealth.ku.dk>
Message-ID: <15367.18807.925583.406665@gargle.gargle.HOWL>

>>>>> "ChuckB" == Charles C Berry <cberry@tajo.ucsd.edu> writes:

    ChuckB> To wit:

    >> plot(1:2,1:2,log="x") rug(1:2) # should not warn
    ChuckB> Warning message: some values will be clipped in: rug(1:2)
    >> plot(1:2,1:2,log="x") rug(c(0,.1,.2)) # should warn, but does not
    >> 

    ChuckB> I believe this fixes the problem:

    ... [[ using par("xlog") etc ]]

yes, it does and I'm committing a patch for R 1.4
Thank you very much!

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Nov 30 10:04:29 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 30 Nov 2001 11:04:29 +0100 (MET)
Subject: [Rd] anova.glm and explicit contrast matrices (PR#1187)
Message-ID: <200111301004.LAA19672@pubhealth.ku.dk>

Quick workaround:

> fm2 <- glm(accuracy ~ proficiency * task + proficiency/learner, viet,
   family = binomial(), x=TRUE)
> anova(fm2)
Analysis of Deviance Table

Model: binomial, link: logit

Response: accuracy

Terms added sequentially (first to last)


                      Df Deviance Resid. Df Resid. Dev
NULL                                   5592     4921.9
proficiency            1     57.5      5591     4864.4
task                   4    131.7      5587     4732.6
proficiency:task       4     58.6      5583     4674.1
proficiency:learner    4     64.6      5579     4609.5

which looks more sensible.

The model matrix is being reconstructed incorrectly, hence the
discrepancies. I will look into that later.


On Thu, 29 Nov 2001 bates@stat.wisc.edu wrote:

> anova.glm does not calculate the degrees of freedom properly when an
> explicit contrast has been set on a factor and the contrast has fewer
> than (len(levels(thisfactor)) - 1) columns.
>
> > load("/p/stat/course/st849-bates/public/slides/figs/src/viet.rda")
> > fm1 <- glm(accuracy ~ proficiency * task + proficiency/learner, viet,
> +    family = binomial())
> > anova(fm1)
> Analysis of Deviance Table
>
> Model: binomial, link: logit
>
> Response: accuracy
>
> Terms added sequentially (first to last)
>
>
>                       Df Deviance Resid. Df Resid. Dev
> NULL                                   5592     4921.9
> proficiency            3     69.5      5589     4852.4
> task                   4    132.9      5585     4719.5
> proficiency:task      12     96.2      5573     4623.4
> proficiency:learner    2     35.0      5571     4588.4
> > contrasts(viet$proficiency, 1) <- contrasts(viet$proficiency)
> > contrasts(viet$proficiency)
>           .L
> l -0.6708204
> m -0.2236068
> h  0.2236068
> a  0.6708204
> > fm2 <- glm(accuracy ~ proficiency * task + proficiency/learner, viet,
> +   family = binomial())
> > anova(fm2)
> Analysis of Deviance Table
>
> Model: binomial, link: logit
>
> Response: accuracy
>
> Terms added sequentially (first to last)
>
>
>                       Df Deviance Resid. Df Resid. Dev
> NULL                                   5592     4921.9
> proficiency            3     69.5      5589     4852.4
> task                   4    132.9      5585     4719.5
> proficiency:task      12     96.2      5573     4623.4
> proficiency:learner   -6     13.9      5579     4609.5
>
> The degrees of freedom for proficiency should be 1, for
> proficiency:task should be 4 and for proficiency:learner should be 4.
>
> The coefficient count is correct.
>
> --please do not edit the information below--
>
> Version:
>  platform = i386-pc-linux-gnu
>  arch = i386
>  os = linux-gnu
>  system = i386, linux-gnu
>  status = Under development (unstable)
>  major = 1
>  minor = 4.0
>  year = 2001
>  month = 11
>  day = 28
>  language = R
>
> Search Path:
>  .GlobalEnv, package:Devore5, package:ctest, Autoloads, package:base
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Nov 30 10:54:02 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 30 Nov 2001 11:54:02 +0100 (MET)
Subject: [Rd] anova.glm and explicit contrast matrices (PR#1187)
Message-ID: <200111301054.LAA20310@pubhealth.ku.dk>

Now fixed (the bug was in model.matrix.default), and will commit once
I can get a clean test running on R-devel.

On Fri, 30 Nov 2001 ripley@stats.ox.ac.uk wrote:

> Quick workaround:
>
> > fm2 <- glm(accuracy ~ proficiency * task + proficiency/learner, viet,
>    family = binomial(), x=TRUE)
> > anova(fm2)
> Analysis of Deviance Table
>
> Model: binomial, link: logit
>
> Response: accuracy
>
> Terms added sequentially (first to last)
>
>
>                       Df Deviance Resid. Df Resid. Dev
> NULL                                   5592     4921.9
> proficiency            1     57.5      5591     4864.4
> task                   4    131.7      5587     4732.6
> proficiency:task       4     58.6      5583     4674.1
> proficiency:learner    4     64.6      5579     4609.5
>
> which looks more sensible.
>
> The model matrix is being reconstructed incorrectly, hence the
> discrepancies. I will look into that later.
>
>
> On Thu, 29 Nov 2001 bates@stat.wisc.edu wrote:
>
> > anova.glm does not calculate the degrees of freedom properly when an
> > explicit contrast has been set on a factor and the contrast has fewer
> > than (len(levels(thisfactor)) - 1) columns.
> >
> > > load("/p/stat/course/st849-bates/public/slides/figs/src/viet.rda")
> > > fm1 <- glm(accuracy ~ proficiency * task + proficiency/learner, viet,
> > +    family = binomial())
> > > anova(fm1)
> > Analysis of Deviance Table
> >
> > Model: binomial, link: logit
> >
> > Response: accuracy
> >
> > Terms added sequentially (first to last)
> >
> >
> >                       Df Deviance Resid. Df Resid. Dev
> > NULL                                   5592     4921.9
> > proficiency            3     69.5      5589     4852.4
> > task                   4    132.9      5585     4719.5
> > proficiency:task      12     96.2      5573     4623.4
> > proficiency:learner    2     35.0      5571     4588.4
> > > contrasts(viet$proficiency, 1) <- contrasts(viet$proficiency)
> > > contrasts(viet$proficiency)
> >           .L
> > l -0.6708204
> > m -0.2236068
> > h  0.2236068
> > a  0.6708204
> > > fm2 <- glm(accuracy ~ proficiency * task + proficiency/learner, viet,
> > +   family = binomial())
> > > anova(fm2)
> > Analysis of Deviance Table
> >
> > Model: binomial, link: logit
> >
> > Response: accuracy
> >
> > Terms added sequentially (first to last)
> >
> >
> >                       Df Deviance Resid. Df Resid. Dev
> > NULL                                   5592     4921.9
> > proficiency            3     69.5      5589     4852.4
> > task                   4    132.9      5585     4719.5
> > proficiency:task      12     96.2      5573     4623.4
> > proficiency:learner   -6     13.9      5579     4609.5
> >
> > The degrees of freedom for proficiency should be 1, for
> > proficiency:task should be 4 and for proficiency:learner should be 4.
> >
> > The coefficient count is correct.
> >
> > --please do not edit the information below--
> >
> > Version:
> >  platform = i386-pc-linux-gnu
> >  arch = i386
> >  os = linux-gnu
> >  system = i386, linux-gnu
> >  status = Under development (unstable)
> >  major = 1
> >  minor = 4.0
> >  year = 2001
> >  month = 11
> >  day = 28
> >  language = R
> >
> > Search Path:
> >  .GlobalEnv, package:Devore5, package:ctest, Autoloads, package:base
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
>
> --
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From jmc@research.bell-labs.com  Fri Nov 30 15:12:15 2001
From: jmc@research.bell-labs.com (John Chambers)
Date: Fri, 30 Nov 2001 10:12:15 -0500
Subject: [Rd] New version of methods package
Message-ID: <3C07A1CF.36F9C171@research.bell-labs.com>

A new version of the package has been committed to the r-devel branch.

There are a lot of changes, mostly non-visible, many of those to tighten
up some possible problems.  For example, slot assignment now checks the
validity of the value being assigned, and basic classes cannot be
overriden.

There is a version of the promptClass function by Vince Carey, to
produce shell of documentation for a class.  (There is also a
promptMethods function to do the same for methods.)  One point to note
(it's a difference from Vince's original version) is that promptClass
and promptMethods produce alias's specialized for class and method
documentation.

For example, if you do promptClass("track"), the resulting file is
designed to produce help if the user types
  class?track
(In particular, this does not overwrite ordinary documentation for topic
"track".)

There is also some added general documentation on how things work; see
?Methods.  This will grow.

Also, the new version has a trial implementation of "congruent
arguments" for methods a la Dylan.  You can provide a method with only a
subset of the arguments of the generic.  The implication is that the
method is to be applied only if the omitted arguments are missing in the
actual call.  This notion is experimental (and not part of the API in
Programming with Data); we'll see if it works out.

John

-- 
John M. Chambers                  jmc@bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From A.Pout@macaulay.ac.uk  Fri Nov 30 17:52:34 2001
From: A.Pout@macaulay.ac.uk (A.Pout@macaulay.ac.uk)
Date: Fri, 30 Nov 2001 18:52:34 +0100 (MET)
Subject: [Rd] graphics device updating (PR#1189)
Message-ID: <200111301752.SAA25027@pubhealth.ku.dk>

Hi
problem:
     plot(xxx)
results in the graphics device window adding the axes values for what ever xxx is but failing to actually add lines or produce the plot until the consol window is activated and moved over the graphics window. The graphics window then shows what has been plotted. 
This started happening 4 days ago, up until that time plot(xxx) would produce the plot on the graphics device and update it as 'normal'. 
I have uninstalled and reinstalled R to no effect.

         _              
platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    3.1            
year     2001           
month    08             
day      31             
language R            

Many thanks for any ideas you might have on that

Alastair



Alastair Pout
PhD Student
The Macaulay Institute
Craigiebuckler
Aberdeen 
AB15 8QH
Tel: +(44) (0) 1224 498200 Ext 2428
e-mail: a.pout@macaulay.ac.uk



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From ripley@stats.ox.ac.uk  Fri Nov 30 18:02:57 2001
From: ripley@stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 30 Nov 2001 19:02:57 +0100 (MET)
Subject: [Rd] graphics device updating (PR#1189)
Message-ID: <200111301802.TAA25103@pubhealth.ku.dk>

On Fri, 30 Nov 2001 A.Pout@macaulay.ac.uk wrote:

> Hi
> problem:
>      plot(xxx)
> results in the graphics device window adding the axes values for what ever xxx is but failing to actually add lines or produce the plot until the consol window is activated and moved over the graphics window. The graphics window then shows what has been plotted.
> This started happening 4 days ago, up until that time plot(xxx) would produce the plot on the graphics device and update it as 'normal'.
> I have uninstalled and reinstalled R to no effect.
>
>          _
> platform i386-pc-mingw32
> arch     x86
> os       Win32
> system   x86, Win32
> status
> major    1
> minor    3.1
> year     2001
> month    08
> day      31
> language R
>
> Many thanks for any ideas you might have on that

This does not seem to be a reproducible bug, as defined in the FAQ.

Have you tried re-installing Windows?  Looks like something has corrupted
the graphics system on whatever Windows OS you have (and your report was
apparently not produced with bug.report on Windows, or it should have told
us).

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-devel mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-devel-request@stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

