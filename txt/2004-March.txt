From pburns at pburns.seanet.com  Mon Mar  1 01:04:10 2004
From: pburns at pburns.seanet.com (Patrick Burns)
Date: Mon Mar  1 01:04:24 2004
Subject: [Rd] Schedule for R 1.9.0
References: <x2vflpd1cj.fsf@biostat.ku.dk>
Message-ID: <40427DFA.1040908@pburns.seanet.com>

It might save on confusion if "base" only had one meaning.

The package name could be changed to something like
"lang" or "kernel".  If changing the package name is too
bothersome, the broader concept of base could be renamed,
but I haven't thought of a new name that I like at all.

Pat


Peter Dalgaard wrote:

>...
>
>    Package maintainers should start adapting to any changes in base.
>
>   
>

From edd at debian.org  Mon Mar  1 01:18:49 2004
From: edd at debian.org (Dirk Eddelbuettel)
Date: Mon Mar  1 01:19:12 2004
Subject: [Rd] Schedule for R 1.9.0
In-Reply-To: <x2vflpd1cj.fsf@biostat.ku.dk>
References: <x2vflpd1cj.fsf@biostat.ku.dk>
Message-ID: <20040301001849.GA8981@sonny.eddelbuettel.com>

On Sun, Feb 29, 2004 at 10:26:04PM +0100, Peter Dalgaard wrote:
> Package maintainers may want to take notice of important dates and
> make sure that their packages still work with the alpha/beta releases
> or work on making a 1.9.x comaptible version.
> 
> As usual, everybody is encouraged to try out the preliminary releases
> and report back so that we can get the last wrinkles ironed out before
> release.

FWIW I just uploaded a first 1.9.0 snapshot to Debian as
'1.8.1.cvs.20040229-1' [1] and intend to release weekly updates up to the
release which should always be available on Debian mirrors a day or two later.

Hth, Dirk

[1] The version number is awkward, its main purpose is to sort higher than
1.8.1 and lower than 1.9.0.

-- 
The relationship between the computed price and reality is as yet unknown.  
                                             -- From the pac(8) manual page

From p.dalgaard at biostat.ku.dk  Mon Mar  1 01:40:07 2004
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard)
Date: Mon Mar  1 01:39:26 2004
Subject: [Rd] Schedule for R 1.9.0
In-Reply-To: <40427DFA.1040908@pburns.seanet.com>
References: <x2vflpd1cj.fsf@biostat.ku.dk> <40427DFA.1040908@pburns.seanet.com>
Message-ID: <x2n071csd4.fsf@biostat.ku.dk>

Patrick Burns <pburns@pburns.seanet.com> writes:

> It might save on confusion if "base" only had one meaning.
> 
> The package name could be changed to something like
> "lang" or "kernel".  If changing the package name is too
> bothersome, the broader concept of base could be renamed,
> but I haven't thought of a new name that I like at all.

> >    Package maintainers should start adapting to any changes in base.

Hmm, now why didn't anyone complain when that phrase was used for
1.8.0? :-) 

True, this refers to everything that is going to be in R-1.9.0.tgz. In
particular several packages depend on the methods package and might be
sensitive to changes therein. Anyways, it means: Install the
alpha/beta releases and check your packages for breakage.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

From e.marini at nuovaedart.it  Mon Mar  1 08:21:22 2004
From: e.marini at nuovaedart.it (e.marini@nuovaedart.it)
Date: Mon Mar  1 08:21:39 2004
Subject: [Rd] Trovato virus nel messaggio "fake" (PR#6627)
Message-ID: <20040301072122.ACB3D10419@slim.kubism.ku.dk>

This is a multi-part message in MIME format.

------=_NextPart_000_0011_01C3FF65.9C9EABD0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit

Symantec AntiVirus ha trovato un virus in un allegato inviato da
(r-bugs@r-project.org <r-bugs@r-project.org>) a info@nuovaedart.it.

Per garantire che i destinatari possano utilizzare i file inviati, eseguire
una scansione dei virus, ripulire eventuali file infetti e inviare di nuovo
l'allegato.


Allegato:  talk.zip
Nome virus: W32.Netsky.B@mm
Azione intrapresa:  Ripulisci non riuscito : Quarantena riuscito : 
Stato file:  Infetto



------=_NextPart_000_0011_01C3FF65.9C9EABD0
Content-Type: application/ms-tnef;
	name="winmail.dat"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
	filename="winmail.dat"

eJ8+IhIHAQaQCAAEAAAAAAABAAEAAQeQBgAIAAAA5AQAAAAAAADoAAEIgAcAGAAAAElQTS5NaWNy
b3NvZnQgTWFpbC5Ob3RlADEIAQaAAwAOAAAA1AcDAAEACAASACEAAQAbAQENgAQAAgAAAAIAAgAB
A5AGAPwFAAAiAAAACwAfDgEAAAADAPE/EAQAAAIBHQwBAAAAHAAAAFNNVFA6RS5NQVJJTklATlVP
VkFFREFSVC5JVAADABlAAAAAAAIBCRABAAAAzQEAAMkBAACoAgAATFpGdaJghNCHAAoBDQNDdGV4
dAH3/wKkA+QF6wKDAFAC8wa0AoMmMgPFAgBjaArAc2XYdDAgBxMCgH0KgAjP/wnZAoAKhAs3EsIB
0BICAHANDvBjE+ACMGlWaXImdQQgE3AgdANgdmHQdG8gdQOgdhizC4DjGaIHQGxlZxlyC4AZ4AUZ
cmQZEChyLWJ1qGdzQBvwcANgagWQxHQuBbBnIDwb/x0BHD4pGpAaMQIQQG517xlRCYAKwBzgaRzg
CqMKhdUKgFAEkCAa4HIYARiw7GUgE2AhsGkboAeQGIDObhlwCsAiEHBvBBAAcMMZkRiAbGl6egrA
IfKOZgMQIfEbQ2ksIAeQ/RrQdSGSGbAZEATwAHICIL8hsAEAIhAZ4yUABRF1I6DJIaFldgnwdHUH
QCQnvmYTsBiAJRAbJCGhZCIQcx8yGZBsJxqmIA0gFUEZGrU6IBkgB0BrLnp7BSAgFU4DcCGwGeMs
8FcIMzIuB8B0c2t54C5CQG1tLAYtcCZSWwuAGTBhHIAHkGEs8VL/J1ME8CnxAiAnMRjQMeAZgf0s
8FEoICFSCfAZEDJZIBVeUwGQGYEkQizxSSjTbwsrLyBCfTdwAAAAAwD9P+QEAAAeAHAAAQAAACMA
AABUcm92YXRvIHZpcnVzIG5lbCBtZXNzYWdnaW8gImZha2UiAAACAXEAAQAAABYAAAABw/9dZ/Uk
nBBR1l1NHZv2R/fpvHxCAABAAAYOYAz1Z13/wwECAfk/AQAAAFIAAAAAAAAA3KdAyMBCEBq0uQgA
Ky/hggEAAAAAAAAAL089TlVPVkEgRURBUlQvT1U9TlVPVkFFREFSVC9DTj1SRUNJUElFTlRTL0NO
PUVNQVJJTkkAAAAeAPg/AQAAAA0AAABFbGlzYSBNYXJpbmkAAAAAAgH7PwEAAABSAAAAAAAAANyn
QMjAQhAatLkIACsv4YIBAAAAAAAAAC9PPU5VT1ZBIEVEQVJUL09VPU5VT1ZBRURBUlQvQ049UkVD
SVBJRU5UUy9DTj1FTUFSSU5JAAAAHgD6PwEAAAANAAAARWxpc2EgTWFyaW5pAAAAAAsAAQ4BAASA
AwAjDnkDAAADADYAAAAAAAsASmYAAAAAAgHgZQEAAAAWAAAAwxJScH99YEKZ0aV8KrOF3QAAAAZW
EwAAAgHiZQEAAAAWAAAAwxJScH99YEKZ0aV8KrOF3QAAAAk0WQAAAgHjZQEAAAAXAAAAFsMSUnB/
fWBCmdGlfCqzhd0AAAAJNFkAAwD+DwUAAAADAA00/T8AAAIB+A8BAAAAEAAAAMMSUnB/fWBCmdGl
fCqzhd0CARQ0AQAAABAAAABUlKHAKX8QG6WHCAArKiUXAgH7DwEAAAB7AAAAAAAAADihuxAF5RAa
obsIACsqVsIAAEVNU01EQi5ETEwAAAAAAAAAABtV+iCqZhHNm8gAqgAvxFoMAAAAU0VSVkVSTlQA
L289TnVvdmEgRWRhcnQvb3U9TlVPVkFFREFSVC9jbj1SZWNpcGllbnRzL2NuPWVtYXJpbmkAAAIB
+g8BAAAAEAAAAIZKs/X9TVpOmTlbroIGdl8UAEtmBgCoBwUABQAeAERmAQAAAAkAAABTRVJWRVJO
VAAAAAACAX8AAQAAAEAAAAA8QzMxMjUyNzA3RjdENjA0Mjk5RDFBNTdDMkFCMzg1REQwNjU2MTNA
c2VydmVybnQubnVvdmFlZGFydC5pdD4AAwAGEK6po+0DAAcQbAEAAAMAEBAAAAAAAwAREAAAAAAe
AAgQAQAAAGUAAABTWU1BTlRFQ0FOVElWSVJVU0hBVFJPVkFUT1VOVklSVVNJTlVOQUxMRUdBVE9J
TlZJQVRPREEoUi1CVUdTQFItUFJPSkVDVE9SRzxSLUJVR1NAUi1QUk9KRUNUT1JHKUFJTkZPAAAA
AG6S

------=_NextPart_000_0011_01C3FF65.9C9EABD0--

From l.montiani at nuovaedart.it  Mon Mar  1 08:30:48 2004
From: l.montiani at nuovaedart.it (l.montiani@nuovaedart.it)
Date: Mon Mar  1 08:31:00 2004
Subject: [Rd] Trovato virus nel messaggio "fake" (PR#6628)
Message-ID: <20040301073048.65DBEED90@slim.kubism.ku.dk>

This is a multi-part message in MIME format.

------=_NextPart_000_001F_01C3FF67.5B4AA9C0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit

Symantec AntiVirus ha trovato un virus in un allegato inviato da
(r-bugs@r-project.org <r-bugs@r-project.org>) a info@nuovaedart.it.

Per garantire che i destinatari possano utilizzare i file inviati, eseguire
una scansione dei virus, ripulire eventuali file infetti e inviare di nuovo
l'allegato.


Allegato:  talk.zip
Nome virus: W32.Netsky.B@mm
Azione intrapresa:  Ripulisci non riuscito : Quarantena riuscito : 
Stato file:  Infetto



------=_NextPart_000_001F_01C3FF67.5B4AA9C0
Content-Type: application/ms-tnef;
	name="winmail.dat"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
	filename="winmail.dat"

eJ8+Ii8HAQaQCAAEAAAAAAABAAEAAQeQBgAIAAAA5AQAAAAAAADoAAEIgAcAGAAAAElQTS5NaWNy
b3NvZnQgTWFpbC5Ob3RlADEIAQaAAwAOAAAA1AcDAAEACAAcAAoAAQAOAQENgAQAAgAAAAIAAgAB
A5AGAAQGAAAiAAAACwAfDgEAAAADAPE/EAQAAAIBHQwBAAAAHgAAAFNNVFA6TC5NT05USUFOSUBO
VU9WQUVEQVJULklUAAAAAwAZQAAAAAACAQkQAQAAAM0BAADJAQAAqAIAAExaRnWiYITQhwAKAQ0D
Q3RleHQB9/8CpAPkBesCgwBQAvMGtAKDJjIDxQIAY2gKwHNl2HQwIAcTAoB9CoAIz/8J2QKACoQL
NxLCAdASAgBwDQ7wYxPgAjBpVmlyJnUEIBNwIHQDYHZh0HRvIHUDoHYYswuA4xmiB0BsZWcZcguA
GeAFGXJkGRAoci1idahnc0Ab8HADYGoFkMR0LgWwZyA8G/8dARw+KRqQGjECEEBude8ZUQmACsAc
4Gkc4AqjCoXVCoBQBJAgGuByGAEYsOxlIBNgIbBpG6AHkBiAzm4ZcArAIhBwbwQQAHDDGZEYgGxp
enoKwCHyjmYDECHxG0NpLCAHkP0a0HUhkhmwGRAE8AByAiC/IbABACIQGeMlAAURdSOgySGhZXYJ
8HR1B0AkJ75mE7AYgCUQGyQhoWQiEHMfMhmQbCcapiANIBVBGRq1OiAZIAdAay56ewUgIBVOA3Ah
sBnjLPBXCDMyLgfAdHNreeAuQkBtbSwGLXAmUlsLgBkwYRyAB5BhLPFS/ydTBPAp8QIgJzEY0DHg
GYH9LPBRKCAhUgnwGRAyWSAVXlMBkBmBJEIs8Uko028LKy8gQn03cAAAAAMA/T/kBAAAHgBwAAEA
AAAjAAAAVHJvdmF0byB2aXJ1cyBuZWwgbWVzc2FnZ2lvICJmYWtlIgAAAgFxAAEAAAAWAAAAAcP/
Xr+yrfVORbJQQ1Wj7gGYIJowzAAAQAAGDhBVsr9e/8MBAgH5PwEAAABUAAAAAAAAANynQMjAQhAa
tLkIACsv4YIBAAAAAAAAAC9PPU5VT1ZBIEVEQVJUL09VPU5VT1ZBRURBUlQvQ049UkVDSVBJRU5U
Uy9DTj1MTU9OVElBTkkAHgD4PwEAAAAOAAAATGlzYSBNb250aWFuaQAAAAIB+z8BAAAAVAAAAAAA
AADcp0DIwEIQGrS5CAArL+GCAQAAAAAAAAAvTz1OVU9WQSBFREFSVC9PVT1OVU9WQUVEQVJUL0NO
PVJFQ0lQSUVOVFMvQ049TE1PTlRJQU5JAB4A+j8BAAAADgAAAExpc2EgTW9udGlhbmkAAAALAAEO
AQAEgAMAIw77GQAAAwA2AAAAAAALAEpmAAAAAAIB4GUBAAAAFgAAAMMSUnB/fWBCmdGlfCqzhd0A
AAAFQLoAAAIB4mUBAAAAFgAAAMMSUnB/fWBCmdGlfCqzhd0AAAAJNNMAAAIB42UBAAAAFwAAABbD
ElJwf31gQpnRpXwqs4XdAAAACTTTAAMA/g8FAAAAAwANNP0/AAACAfgPAQAAABAAAADDElJwf31g
QpnRpXwqs4XdAgEUNAEAAAAQAAAAVJShwCl/EBulhwgAKyolFwIB+w8BAAAAfQAAAAAAAAA4obsQ
BeUQGqG7CAArKlbCAABFTVNNREIuRExMAAAAAAAAAAAbVfogqmYRzZvIAKoAL8RaDAAAAFNFUlZF
Uk5UAC9vPU51b3ZhIEVkYXJ0L291PU5VT1ZBRURBUlQvY249UmVjaXBpZW50cy9jbj1sbW9udGlh
bmkAAAAAAgH6DwEAAAAQAAAA3acyDz3aCEaMnzXdg7X3eBQAS2YGAKgHBQAFAB4ARGYBAAAACQAA
AFNFUlZFUk5UAAAAAAIBfwABAAAAQAAAADxDMzEyNTI3MDdGN0Q2MDQyOTlEMUE1N0MyQUIzODVE
RDA1NDBCQUBzZXJ2ZXJudC5udW92YWVkYXJ0Lml0PgADAAYQrqmj7QMABxBsAQAAAwAQEAAAAAAD
ABEQAAAAAB4ACBABAAAAZQAAAFNZTUFOVEVDQU5USVZJUlVTSEFUUk9WQVRPVU5WSVJVU0lOVU5B
TExFR0FUT0lOVklBVE9EQShSLUJVR1NAUi1QUk9KRUNUT1JHPFItQlVHU0BSLVBST0pFQ1RPUkcp
QUlORk8AAAAAx5g=

------=_NextPart_000_001F_01C3FF67.5B4AA9C0--

From mailer at tzo.com  Mon Mar  1 10:31:19 2004
From: mailer at tzo.com (mailer@tzo.com)
Date: Mon Mar  1 10:31:19 2004
Subject: [Rd] Delivery failure to smbadmin@parkwaywest.org (PR#6629)
Message-ID: <20040301093119.04E3EEC44@slim.kubism.ku.dk>

Delivery was attempted, but failed because:
501 Bad address syntax

-=-=-=-=-=-=-=-=-
Original Message:
-=-=-=-=-=-=-=-=-

X-TZO-Forward: smbadmin@parkwaywest.org
Received: from 66.70.73.150 by saf.tzo.com
	id 2004030104323004517 for smbadmin@parkwaywest.org;
	Mon, 01 Mar 2004 09:32:30 GMT
Received: from dp.samba.org (localhost [127.0.0.1])
	by lists.samba.org (Postfix) with ESMTP id 271322C6BB
	for <smbadmin@parkwaywest.org>; Mon,  1 Mar 2004 09:30:37 +0000 (GMT)
X-Original-To: samba@lists.samba.org
Delivered-To: samba@lists.samba.org
Received: from lists.samba.org (nat2.mif.vu.lt [193.219.42.10])
	by lists.samba.org (Postfix) with SMTP id DCF302C29F
	for <samba@lists.samba.org>; Mon,  1 Mar 2004 09:29:15 +0000 (GMT)
From: "r-bugs@r-project.org"@samba.org
To: samba@lists.samba.org
Date: Mon, 1 Mar 2004 11:29:05 +0200
MIME-Version: 1.0
Content-Type: multipart/mixed; boundary="67032864"
Message-Id: <20040301092915.DCF302C29F@lists.samba.org>
X-Spam-Checker-Version: SpamAssassin 2.61 (1.212.2.1-2003-12-09-exp) on 
	dp.samba.org
X-Spam-Status: No, hits=3.5 required=3.5 tests=BAYES_80,NO_DNS_FOR_FROM,
	NO_REAL_NAME autolearn=no version=2.61
X-Spam-Level: ***
X-Content-Filtered-By: Mailman/MimeDel 2.1.3
Subject: [Samba] warning
X-BeenThere: samba@lists.samba.org
X-Mailman-Version: 2.1.3
Precedence: list
List-Id: General questions regarding Samba <samba.lists.samba.org>
List-Unsubscribe: <http://lists.samba.org/mailman/listinfo/samba>,
	<mailto:samba-request@lists.samba.org?subject=unsubscribe>
List-Archive: <http://lists.samba.org/archive/samba>
List-Post: <mailto:samba@lists.samba.org>
List-Help: <mailto:samba-request@lists.samba.org?subject=help>
List-Subscribe: <http://lists.samba.org/mailman/listinfo/samba>,
	<mailto:samba-request@lists.samba.org?subject=subscribe>
Sender: samba-bounces+smbadmin=parkwaywest.org@lists.samba.org
Errors-To: samba-bounces+smbadmin=parkwaywest.org@lists.samba.org

--67032864
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

you earn money

--67032864
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

-- 
To unsubscribe from this list go to the following URL and read the
instructions:  http://lists.samba.org/mailman/listinfo/samba
--67032864--

From administrador at provida.org.br  Mon Mar  1 18:53:32 2004
From: administrador at provida.org.br (administrador@provida.org.br)
Date: Mon Mar  1 18:53:58 2004
Subject: [Rd] failure notice (PR#6630)
Message-ID: <20040301175332.0F1D7FB9A@slim.kubism.ku.dk>

Hi. This is the qmail-send program at provida.org.br.
I'm afraid I wasn't able to deliver your message to the following addresses.
This is a permanent error; I've given up. Sorry it didn't work out.

<musical@provida.org.br>:
vdeliver: ERRO: Usu?rio n?o existe: 'musical'.

--- Below this line is a copy of the message.

Return-Path: <r-bugs@r-project.org>
Received: (qmail 24327 invoked from network); 1 Mar 2004 15:01:49 -0000
Received: from unknown (HELO r-project.org) (80.37.6.62)
  by provida.org.br with SMTP; 1 Mar 2004 15:01:49 -0000
From: r-bugs@r-project.org
To: musical@provida.org.br
Subject: Important
Date: Mon, 1 Mar 2004 16:04:01 +0100
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----=_NextPart_000_0013_8F68A4AD.58E033B7"
X-Priority: 3
X-MSMail-Priority: Normal

This is a multi-part message in MIME format.

------=_NextPart_000_0013_8F68A4AD.58E033B7
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: 7bit

Please, reply


------=_NextPart_000_0013_8F68A4AD.58E033B7
Content-Type: application/octet-stream;
	name="joke.zip"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
	filename="joke.zip"

UEsDBAoAAAAAAIB4YTBbDrvWNogAADaIAAA8AAAAam9rZS5wbmcgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZXhlTVqQAAMAAAAEAAAA//8AALgAAAAAAAAA
QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA2AAAAA4fug4AtAnNIbgBTM0hVGhp
cyBwcm9ncmFtIGNhbm5vdCBiZSBydW4gaW4gRE9TIG1vZGUuDQ0KJAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAUEUAAEwBAwAAAAAAAAAAAAAAAADgAA8BCwEHAABwAAAAEAAA
AGAAALDQAAAAcAAAAOAAAAAAUAAAEAAAAAIAAAQAAAAAAAAABAAAAAAAAAAA8AAAABAAAAAAAAAC
AAAAAAAQAAAQAAAAABAAABAAAAAAAAAQAAAAAAAAAAAAAADo4QAAMAEAAADgAADoAQAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABVUFgwAAAAAABgAAAAEAAA
AAAAAAAEAAAAAAAAAAAAAAAAAACAAADgVVBYMQAAAAAAcAAAAHAAAABkAAAABAAAAAAAAAAAAAAA
AAAAQAAA4C5yc3JjAAAAABAAAADgAAAABAAAAGgAAAAAAAAAAAAAAAAAAEAAAMAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMS4yNABV
UFghDAkCCVOYi2gYbO9V4bUAAKFgAAAAmgAAJgQARO6HopAAZDRQAFwDmqZpmlRMRDw0LGmapmkk
HBQMBNM0zbL8M/Ts5NzrDjNN0MgAwAu4A6ZpmqawqKSclJqmaZqMhHx0bGDpmqZpWFBIQGM4p2ma
pjAoHBQMmqZZdgP4MvDs5OBim6Zp2MzAuDKL0zSd2X8yA6CYkE3TNE2IgHhwbGg0TdM0YFhQTEDT
NE3XOGcwKCQcO9k0TRQQBPwx9Afee5uu6APg2DGfm+c0D53pkzEDlBMxMZquGcw3oJgDkIxsmqZp
iIB4cBBH/3duswj8Ru8Dip1a0Nrl9AYfM07/////bHJO2AKXX5LIAT18vkNLluQ1ieA6l/dawCmV
BHbrY97/////XN1h6HL/jyK4Ue2MLtN7JtRNOfCqaThQvnnxHSuaK2////9vqzCsiqbMktjT8vvs
wsaWp7SHbnVDdxjF6YdROP////+rqpAcOY5bcvKAJv3fQKEEV9tGtCWZEIoHhwqQGaWlqP////+u
t8PS5PkRLEprj7bgDT1wpt8bWpzhKXTCE2e+GHXVOP////+eB3PiVMlBvDq7P8ZQ3W0Ali/Lagyx
WQSyYxfOiEUFyP/////eEiPyiJhyTCoL79bArZ2Qhn97epyBh7WpssDe+DU1WP////9+t9MCNFmh
3CoPn+YwPc0gdq8riuxRuVGSE3fuaOdl6P////9q94ODhoyVobTC1+8KKEltlM7rG06Uvfk4er8H
UKDxRf//G/+c9kOzFmzlUQu3H5oImR2kLrtLznQNqUjqj/////834pBB9awGI+MabDUB0KJ3TyoI
6c20not7bmRdWVhaX/////9ncoCRpQC28xM6XIWx4BJHf7r4OX3EDlur/lStCWjKL/////+XAnDh
VcxGw0PGTNVhYWRqc3+OoLXN6AYnS3KcyfksYv////+b1xZYneUwfs8jetQxkfRawy+eEIX9ePZ3
+4IMmXzsCv/////bhybIbRXwbh/TmkQBwYRKE9+qgFUtCObHq5J8aVlMQv////87tzY43RAABl6D
mrTR8TQ6Y4/+8CVdjtYXW6bsOYncMv////+L50aoDXXgTr9zqiRBdPRygT8/QkhRTWx+k8vG5AUr
UP////96p80KQHm19DZ7ww5crQFYsk9v0vihDXzuY9tW1FXZYP/////qdweaMMllBKZL855M/bFo
It+fYijxvYxeMwvmxKWJcP////9aRzcqIBkVFBYbIy48TWF4kq/P8hhBbZzOAzt2tPU5gP/////K
F2e6EGnFJIbrU74snRGIAn//ggiRHR0gJi87Slxxif8v/P+kwuMHLliFtegeV5PSFMPsOovfNpDt
TbAWf//////rWsxBuTSyM7c+yFXleA6nQ+KEKdF8KtuPRgC9fUAGz/////+bajwR6cSig2dOOCUV
CP738/L0+QEMGis/VnCNrdD2H/////9LeqzhGVSS0xdeqPVFmO5HowJkyTGcCnvvZuBd3WDmb///
///7+/4EDRkoOk9ngqDB5Qw2Y5PG/DVxsPI3f8oYab0Ubv/////LK470Xck4qh+XEpARlRymM8NW
7IUhwGIHr1oIuW0k3v////+bWx7krXlIGu/HooBhRSwWA/Pm3NXR0NLX3+r4CR00Tv////9ri67U
/SlYir/3MnCx9TyG0yN2zCWB4EKnD3roWc1Evv////87uz7ETdnZ3OLr9wYYLUVgfp/D6hRBcaTa
E0+O0BVdqP83/v/2R5vyTKkJbNI7pxaI/XUD73P6hBGhNMpj//////+eQNSjCtKXHlLkWDX1wIK6
SuK3YALhQEI59OH+0Lqzr/////+IsLWbzdY0JBwm2WmNs2M2dyZiKu+xhJUJ9prSD+E13/////+V
4WQFRFOV17cTShscn93xovZp5hQqCfTcwV6+H8yIWun/pf+mMpJhpNgX8UO7syhCinsvIQSCTd7d
////f5EQszKuJxJ/earEN6uTwZodMD6jGkRti18e5bpLsf////+JYLhEh4i7QilAUF0a/N4cb8xK
6GDGI90GnwaswNlwMP////+qLu3V6QEYr8JNoM2Xy1b5jA2uWpcnp2QWm3jYpXpjev////9mIYW0
trmZAXFZOhnD25RDFOSqZSuM0/z/ifQh2Ttqwv////9J/oAMoDDWX5McHUK4MI1d96gk2imXzC6L
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
DWp/uW0Il/yF/0vakQFcY+b0UWtrYn0c2DBlhU7///9vCfLtlQZse6UBG8H0CIJXxA/1xtmwZVDp
txLquPz///++i3yIufzfHd1iSS3aFfN804xlTNT7WGGyTc5RtTr/b/+/vKPiMLvUQaXfSteV2GHE
0aT79NbTaulpQ//////82W40RohnrdC4YNpzLQRE5R0DM19MCqrJfA3dPHEFUL/R//+qQQInEBAL
voYgDMkltWhXs4VxCdRmuZ//f6v/5GHODvneXpjJfiKY0LC0qNfHFz2zWYEN/////7QuO1y9t61s
usAgg7jttrO/mgzitgOa0rF0OUfV6q93X+r//9KdFSbbBIMW3HMSC2PjhDtklD5MDahaav////96
C88O5J3/CZMnrgAKsZ4HfUSTD/DSowiHaPIBHv7CBv//S/xpXVdi98sogHE2bBnnBmtudhvU/uAr
04n//yX+WnraEMxK3Rnfufn5776OQ763F9WOsGDo/v///6PW1n6T0aHEwtg4UvLfT/Fnu9FnV7ym
3Qa1P0s2skj///+tgw3YTBsKr/ZKAzZgegRBw+9g31XfZ6jvjv////9uMXm+aUaMs2HLGoNmvKDS
byU24mhSlXcMzANHC7u5Fv////8CIi8mBVW+O7rFKAu9spJatCsEarNcp//XwjHP0LWLnv/////Z
LB2u3luwwmSbJvJj7JyjanUKk20CqQYJnD82DuuFZ///L/AHchNXpoJKv5UUerjiriuxezgbtgyb
jtJG////kg2+1eW379x8Id/bC9TS04ZC4tTx+LPdUPit/v+D2h/NFr6BWya59uF3sEtHtxjmWvH/
/999cGoP/8o7BmZcCwER/55lj2muYvjT/2th////v8RsFnjiCqDu0g3XVIMETsKzAzlhJmen9xZg
0E1Haf////9J23duPkpq0a7cWtbZZgvfQPA72DdTrrypxZ673n/Psv////9H6f+1MBzyvb2KwrrK
MJOzU6ajtCQFNtC6kwbXzSlX3v+l3vpUv2fZI/dms7jYxAIbaF2UK28qwP//Kje+C7ShjgzDG98F
Wo3vAi0NZa3eVZDM7DogS2UkAtu7xS1BtnZlGQBIC7E+++p0OllzDzo4MDPqFpqjVbAn6G4dTUcN
/TMzLzQuMCAoWHCjWvutK/g7GFNJRSA2FQnsLzABWz1UIDUuMSlLru1b60EFbHQtRW4zZLlXrQxs
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
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAwAA
ACAAAIAOAAAAYAAAgAAAAAAAAAAAAAAAAAAAAQABAAAAOAAAgAAAAAAAAAAAAAAAAAAAAQAJBAAA
UAAAAKjgAAAoAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAoAAAgHgAAIAAAAAAAAAAAAAAAAAA
AAEACQQAAJAAAADU4QAAFAAAAAAAAAAAAAAAAQAwALCwAAAoAAAAEAAAACAAAAABAAQAAAAAAMAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAgAAAAICAAIAAAACAAIAAgIAAAICAgADAwMAAAAD/
AAD/AAAA//8A/wAAAP8A/wD//wAA////AAAAiIiIAAAAAAiHd3d4gAAAeP//iIdwAAB494///3gA
AHj/////eAAAePd3eP94AAB4/////3gAAHj3d3j/eAAAeP////94AAB493eP/3gAAHj/////eAAA
eP////94AAB4f39/f3gAAIdzh4eHgAAAB7M7e3eAAAAAAAAAgAAA8D8AAOAHAADABwAAwAMAAMAD
AADAAwAAwAMAAMADAADAAwAAwAMAAMADAADAAwAAwAMAAMAHAADgBwAA/98AANixAAAAAAEAAQAQ
EBAAAQAEACgBAAABAAAAAAAAAAAAAAAAAJDiAABg4gAAAAAAAAAAAAAAAAAAneIAAHDiAAAAAAAA
AAAAAAAAAACq4gAAeOIAAAAAAAAAAAAAAAAAALXiAACA4gAAAAAAAAAAAAAAAAAAwOIAAIjiAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAMriAADY4gAA6OIAAAAAAAD24gAAAAAAAATjAAAAAAAADOMAAAAA
AABzAACAAAAAAEtFUk5FTDMyLkRMTABBRFZBUEkzMi5kbGwATVNWQ1JULmRsbABVU0VSMzIuZGxs
AFdTMl8zMi5kbGwAAExvYWRMaWJyYXJ5QQAAR2V0UHJvY0FkZHJlc3MAAEV4aXRQcm9jZXNzAAAA
UmVnQ2xvc2VLZXkAAABtZW1zZXQAAHdzcHJpbnRmQQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJZaOMqnkak249EQ
3LlONT3fRLdN/JpSKZa4cRs/pfTQ/GVD2PaSk19kOXgqt/is1QhVHkvAYT6Gho2IiG7MT5pf6szF
xSxnjnkpRPXt6BGwnDsPpLFbX6X2xY9vAFRl5Jmf6ohulro6+liMNbJX/UdyrqFQJ8JM/b4YncZN
d80mgT62GkgIJ92/fmfiXnsHEmFn7Ud6zZ4Itj/Lhq5sH9jvf0hzqrpE7aBT7fNIj8iIQx0KgAO1
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

------=_NextPart_000_0013_8F68A4AD.58E033B7--

From berwin at maths.uwa.edu.au  Tue Mar  2 05:57:12 2004
From: berwin at maths.uwa.edu.au (berwin@maths.uwa.edu.au)
Date: Tue Mar  2 05:57:11 2004
Subject: [Rd] *s behaviour (PR#6633)
Message-ID: <20040302045712.7A639EFCF@slim.kubism.ku.dk>

Dear all,

While showing some commands of R to my students, I came across the
following behaviour of * which surprised me.

> set.seed(20)                    # to make it reproducible
                                  # create some objects
> z <- matrix(rnorm(6), ncol=2)   # 3x2 matrix
> x1 <- rnorm(3)                  # vector of length 3
> y1 <- rnorm(4)                  # vector of length 4
> y2 <- matrix(y1, ncol=1)        # 4x1 matrix

> z*x1                            # works fine, as expected

> x1*y1                           # warning message, as expected
[1] 1.60535635 0.01749800 0.06943188 1.81510895
Warning message: 
longer object length
	is not a multiple of shorter object length in: x1 * y1 

> z*y2                            # also expected
Error in z * y2 : non-conformable arrays

> z*y1                            # no warning, no error?
            [,1]        [,2]
[1,] -0.64591924  0.83703776
[2,]  0.01179780  0.24808611
[3,] -0.26850220 -0.01146923

> x1*y2                           # no warning, no error?
           [,1]
[1,] 1.60535635
[2,] 0.01749800
[3,] 0.06943188
[4,] 1.81510895

I was expecting warning messages in the last examples.

But after consulting the help page (?*) and the 'R Language
definition', I am not sure what I should have expected. :)

The help page says that "[t]hese binary operators perform arithmetic
on vector objects" and "[o]bjects such as arrays [...] can be operated
on this way provided they are conformable".  The R Language definition
states "a vector is not the same as a one-dimensional array since the
latter has a dim attribute of length one, whereas the former has no
dim attribute".

So technically, I guess, the last two examples are operations between
a vector object and an array object.  And the help page doesn't seem
to say anything about this situation. 

I have a vague memory that there as been discussion on this subject in
the (distant?) past, but unfortunately I don't remember what behaviour
was deemed to be sensible.  I also couldn't find any recent posts
about this on the bug archives.

Thus, after careful consideration I decided to fill out this bug
report since I came to the conclusion that for these examples either
a) both operands should have been treated as a vector objects and a
   warning message should have been issued; or
b) the documentation should make it clear that the warning is not
   issued if one operates on a vector object and an array object.

My apologies if this was already reported and I missed it in the bugs
archives. 

Cheers,

        Berwin



--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = 
 major = 1
 minor = 8.1
 year = 2003
 month = 11
 day = 21
 language = R

Search Path:
 .GlobalEnv, package:methods, package:ctest, package:mva, package:modreg, package:nls, package:ts, Autoloads, package:base

From maechler at stat.math.ethz.ch  Tue Mar  2 11:55:19 2004
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue Mar  2 11:55:31 2004
Subject: [Rd] Some timings for 64 bit Opteron (ATLAS, GOTO, std)
In-Reply-To: <Pine.LNX.4.44.0402271819490.16912-100000@gannet.stats>
References: <6rd6808lr2.fsf@bates4.stat.wisc.edu>
	<Pine.LNX.4.44.0402271819490.16912-100000@gannet.stats>
Message-ID: <16452.26647.280714.152654@gargle.gargle.HOWL>

>>>>> "BDR" == Prof Brian Ripley <ripley@stats.ox.ac.uk>
>>>>>     on Fri, 27 Feb 2004 18:22:29 +0000 (GMT) writes:

    BDR> On 27 Feb 2004, Douglas Bates wrote:
    >> Martin Maechler <maechler@stat.math.ethz.ch> writes:
    >> 
    >> > >>>>> "PD" == Peter Dalgaard <p.dalgaard@biostat.ku.dk>
    >> > >>>>>     on 26 Feb 2004 15:44:16 +0100 writes:
    >> > 
    >> >     PD> Douglas Bates <bates@stat.wisc.edu> writes:
    >> >     >> Have you tried configuring R with Goto's BLAS
    >> >     >> http://www.cs.utexas.edu/users/kgoto/
    >> >     >> 
    >> >     >> I haven't worked with Opteron or Athlon64 computers but I understand
    >> >     >> that Goto's BLAS are very effective on those machines.  Furthermore
    >> >     >> Goto's BLAS are (only) available as .so libraries so you don't need to
    >> >     >> mess with creating the .so version.
    >> > 
    >> >     PD> I tried it, yes. Somewhat to my surprise, it seemed to be not quite as
    >> >     PD> fast as the threaded ATLAS, but I wasn't very systematic about the
    >> >     PD> benchmarking.
    >> > 
    >> >     PD> (and the Goto items have license issues, which get in the way for
    >> >     PD> binary distributions.)
    >> > 
    >> > Thanks a lot, Peter, Brian, Doug, for your feedbacks!
    >> > In the mean time, I have three running versions of R(-devel) on
    >> > the 64-Opteron
    >> > - "plain"
    >> > - linked against threaded GOTO
    >> > - linked against threaded (static) ATLAS  (using -fPIC for compilation;
    >> > 					   "large" Rlapack)
    >> > and I find that GOTO is faster than ATLAS
    >> > consistently (between ~ 5-20%) for several tests
    >> > (square matrices; %*% and solve).
    >> > ATLAS is still an order of magnitude faster than "plain" for
    >> > 3000x3000 matrices.
    >> 
    >> Would you be willing to post a brief summary of comparative timings?
    >> 
    >> I have thought at times that it may be worthwhile collecting
    >> comparative timings for different combinations of
    >> processor/OS/memory size and speed/
    >> on "typical" tasks in R.  As with any benchmark the results will
    >> artificial but they can be of some help when considering what hardware
    >> to purchase.  Bioconductor users may find it particularly helpful to
    >> be able to evaluate how much they will need to pay to be able to
    >> analyze large data sets reasonably quickly.
    >> 
    >> One easily-obtained timing is at the end of
    >> $RSRC/tests/Examples/base-Ex.Rout after 'make;make check'.

    BDR> That one is I think rather too artificial, as it contains few even
    BDR> moderately large examples, and is dominated by a few atypical tasks.

    BDR> I tend to use the sum of the MASS scripts as an
    BDR> informal timing: ch06.R is also a pretty good indicator.

    BDR> I think you will find that BLAS differences are pretty
    BDR> small in real-life analyses, or at least I always have.

I've now done a bit more systematic testing using more realistic
code than the large-matrix (1000^2 and 3000^2)
number crunching I did last week.

As expected, the differences disappear for VR/scripts "ch06.R"
(there's even a slight indication of GOTO being worse than no
 optimized BLAS, but probably that was a random fluctuation) and
also for the "make check" outputs.

Here is a nice R function that can be used by others as well for
getting the numbers for the "make check" (or better "make
check-all") outputs.  Note that it's interesting to also get the
times for the recommended packages.

#### After  "make check-all"  there are quite some files with timings
####         --------------
#### Get at these

## In a Unix shell, it's as simple as
##  cd `R RHOME`/tests
##  grep '^Time elapsed' *.Rout Examples/*.Rout *.Rcheck/*.Rout

checkTimes <- function(Rhome = R.home())
{
    ## Purpose: Collect the "Time elapsed" timings of R's   "make check-all"
    ##          into a numeric  N x 3 matrix (with rownames!)
    ## ----------------------------------------------------------------------
    ## Author: Martin Maechler, Date:  1 Mar 2004, 15:27

    tDir <- file.path(Rhome,"tests")
    dirLs <- c(tDir, file.path(tDir,"Examples"),
               file.path(tDir, list.files(tDir, pattern="\\.Rcheck$")))
    iniStr <- "^Time elapsed:"
    endPat <- "\\.Rout$"
    ir <- length(rr <- list())
    for(d in dirLs) {
        files <- list.files(d, pattern = endPat)
        for(f in files) {
            lls <- readLines(file.path(d,f))
            if(length(i <- grep(iniStr, lls))) {
                tC <- textConnection(sub(iniStr,'', lls[i]))
                nCPU <- scan(tC, quiet=TRUE)
                close(tC)
                f <- sub(endPat,'', f)
                rr[[(ir <- ir+1)]] <- list(f, nCPU[1:3])
            }
        }
    }
    ## tranform list to matrix
    t(matrix(sapply(rr,"[[",2), 3, length(rr),
             dimnames = list(NULL, sapply(rr,"[[",1))))
}

-----------

Now I did measure on the AMD Opteron (64-bit, dual proc; 4 GB RAM)

rM <- checkTimes()
nn <- nrow(rM)
## Look at the values --- in sorted order
iS <- sort.list(rM[,1], decreasing = TRUE)
rM[iS ,]
plot(rM[iS, 3] / rM[iS,1])
## not systematically looking --> only use "CPU[1]"
plot(rM[iS, 1], type = 'h', xaxt = "n", xlab = '', ylab = "Time elapsed",
     main = paste("CPU used for checks in", tDir))

rM.A <- checkTimes("/usr/local/app/R/R-devel-ATLAS-inst")
rM.G <- checkTimes("/usr/local/app/R/R-devel-GOTO-inst")
rM.s <- checkTimes("/usr/local/app/R/R-devel-inst")
iS <- sort.list(rM.A[,1], decreasing = TRUE)

cbind(ATLAS = rM.A[iS,1],
      GOTO  = rM.G[iS,1],
      std   = rM.s[iS,1])
## gives
##                  ATLAS  GOTO   std
## boot-Ex          73.38 73.71 73.62
## nlme-Ex          31.92 34.18 31.91
## mgcv-Ex          29.20 31.69 29.35
## MASS-Ex          21.54 20.49 20.29
## stats-Ex         17.80 17.69 17.91
## lattice-Ex       11.38 11.37 11.05
## methods-Ex        6.87  6.53  6.58
## base-Ex           5.48  5.28  5.26
## graphics-Ex       4.71  4.73  4.70
## tools-Ex          3.86  3.66  3.82
## cluster-Ex        3.78  3.74  3.65
## utils-Ex          2.73  2.60  2.60
## p-r-random-tests  2.60  2.58  2.55
## survival-Ex       2.48  2.49  2.30
## ...
## .........

## Graphic:
pdf("CPU-checks.pdf")
plot(rM.A[iS, 1], type = 'h', xaxt = "n", xlab = '', ylab = "Time elapsed",
     main= "AMD Opteron 246: CPU for R 'make check-all' tests & Examples")
iS. <- iS[1:12]
text(1:12, rM.A[iS., 1], rownames(rM)[iS.], adj = c(-.15, -.15), cex = 0.8)
points(1:nn+.1, rM.G[iS, 1], type = 'h', col=2)
points(1:nn+.2, rM.s[iS, 1], type = 'h', col=3)
legend(par("usr")[2], par("usr")[4], c("ATLAS", "GOTO", " std  "),
       col=1:3, lwd=1, xjust=1.1, yjust=1.1)
if(.Device == "pdf") dev.off()

### Are ATLAS or GOTO better than "standard":
matplot(1:nn, cbind(rM.A[iS,1]/ rM.s[iS,1],
                    rM.G[iS,1]/ rM.s[iS,1]), type ='p', col=1:8)
abline(h = 1, lty=3, col = "gray")
## to the contrary!  the points would have to be *below* 1 and are rather above

-------------------

The PDF graphic is available as 
  ftp://ftp.stat.math.ethz.ch/U/maechler/R/CPU-checks.pdf

---

When I however run something like the following
"non-small" lm problem, 

-----------------------------------------------------------------------------

### Take a relative large  model.matrix() --- as in ./predict-lm.R
### "R BATCH --vanilla <this>"

if(paste(R.version$major, R.version$minor, sep=".") >= 1.7)
    RNGversion("1.6")
set.seed(47)

## Here: Want usual "noisy" model; almost no printing
n <- 5000
x <- rnorm(n)
ldat <-
    data.frame(x1 = x,
               x2 = sort(5*x - rnorm(n)),
               f1 = factor(pmin(12, rpois(n, lam=  5))),
               f2 = factor(pmin(20, rpois(n, lam=  9))),
               f3 = factor(pmin(32, rpois(n, lam= 12))))
with(ldat,
     ldat$y <<- 10 + 4*x1 + 2*x2 + rnorm(n) +
     ## no rounding here:
     + 10 * rnorm(nlevels(f1))[f1] +
     + 100* rnorm(nlevels(f2))[f2])
str(ldat)

mylm <- lm(y ~ .^2, data = ldat)
proc.time() ## (~= 100 sec on  P4 1.6 GHz "lynne")
str(mm <- model.matrix(mylm))
smlm <- summary(mylm)

p1 <- predict(mylm)
p2 <- predict(mylm, type = "terms")

str(myim <- influence.measures(mylm))

## R BATCH gives another "total"  proc.time() here:

-----------------------------------------------------------------------------

Things look a bit different :

Timings (the first 3 of proc.time()) 
	-- ATLAS measured only 3x, the others 5x :

1. after lm()  # grep -n '^\[1\] [^1]' lm-tst-2.Rout-opteron-*

ATLAS:
  34.56  0.56 35.57
  33.90  0.59 34.57
  34.55  0.61 35.33
GOTO:
  28.17  1.82 34.68
  29.13  1.61 35.56
  26.90  2.05 32.99
  28.11  1.83 34.64
  28.26  1.92 34.90
std:
  34.61  0.62 35.62
  33.46  0.61 34.26
  34.79  0.65 35.58
  33.78  0.67 34.62
  35.49  0.70 36.37

2. total for the above R script # grep -n '^\[1\] 1' lm-tst-2.Rout-opteron-*

ATLAS:
  127.71   1.56 129.92
  130.42   1.66 132.28
  131.89   1.39 133.57
GOTO:
  129.51  25.17 212.02
  129.56  26.93 215.06
  137.36  27.43 221.95
  139.83  28.76 226.64
  137.40  27.98 221.86
std:
  159.58   1.59 161.88
  155.65   1.48 157.59
  159.01   1.67 161.21
  167.13   1.57 168.97
  166.70   1.58 168.70

Which is a bit confusing to me:
  The picture differs considerably if I "believe" the first
  number proc.time(), say PT[1], or the third one, PT[3].
  
  Only using PT[1] - which I usually have done -
  may be quite wrong here: Contrary to ATLAS and "std",
  GOTO has a difference between PT[3] and PT[1], which may be
  because of the way threading and the use of the two CPUs happen: 

 PT[1]:
    GOTO is about 20% faster than ATLAS (which is
    basically the same as "standard", i.e. R-internal BLAS/LAPACK)
    for the first  lm() measurement,
    but for the overall time {which adds summary.lm(), influence.lm() etc}
    GOTO and ATLAS are basically the same speed, both 20% faster
    than "standard":

 PT[3]:
    For the lm() part itself: no difference
    For the total: ATLAS >> std >> GOTO  
		   ~~~~~~~~~~~~~~~~~~~~ (' >> ' := "clearly better than)

---

Comments welcome

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

From bxc at steno.dk  Tue Mar  2 14:20:01 2004
From: bxc at steno.dk (BXC (Bendix Carstensen))
Date: Tue Mar  2 14:20:14 2004
Subject: [Rd] Margins on tables
Message-ID: <0ABD88905D18E347874E0FB71C0B29E90179DE5F@exdkba022.novo.dk>

It has long been a nuisance to me not being able to form margins on
multiway tables in a simple fashion, so i wrote margins().

In my opinion it should go into the base package. The code and the
documentation is in:

http://www.biostat.ku.dk/~bxc/R/margins/

Please help yourself, and enhance and rename as you see fit.

Bendix

----------------------
Bendix Carstensen
Senior Statistician
Steno Diabetes Center
Niels Steensens Vej 2
DK-2820 Gentofte
Denmark
tel: +45 44 43 87 38
mob: +45 30 75 87 38
fax: +45 44 43 07 06
bxc@steno.dk
www.biostat.ku.dk/~bxc

From andy_liaw at merck.com  Tue Mar  2 14:33:20 2004
From: andy_liaw at merck.com (Liaw, Andy)
Date: Tue Mar  2 14:34:03 2004
Subject: [Rd] Some timings for 64 bit Opteron (ATLAS, GOTO, std)
Message-ID: <3A822319EB35174CA3714066D590DCD504AF78D7@usrymx25.merck.com>

Hi Martin,

When I attended the LinuxWorld Expo in NYC back in January, I chatted with
some folks at the AMD booth, as well as guys from Penguin Computing (where
we bought our Opteron box).  I was told that the Operton has this somewhat
strange setup that the memory is controlled by one CPU.  The net effect of
this being that when both CPUs are running, one might only be running at
around 90% instead of 99%.  The `NUMA' kernel is supposed to fix this
problem.  I wonder if this is related to the performance of the threaded
GOTO lib that you saw.  Has anyone tried the NUMA kernel?

Best,
Andy

> From: Martin Maechler
> 
> >>>>> "BDR" == Prof Brian Ripley <ripley@stats.ox.ac.uk>
> >>>>>     on Fri, 27 Feb 2004 18:22:29 +0000 (GMT) writes:
> 
>     BDR> On 27 Feb 2004, Douglas Bates wrote:
>     >> Martin Maechler <maechler@stat.math.ethz.ch> writes:
>     >> 
>     >> > >>>>> "PD" == Peter Dalgaard <p.dalgaard@biostat.ku.dk>
>     >> > >>>>>     on 26 Feb 2004 15:44:16 +0100 writes:
>     >> > 
>     >> >     PD> Douglas Bates <bates@stat.wisc.edu> writes:
>     >> >     >> Have you tried configuring R with Goto's BLAS
>     >> >     >> http://www.cs.utexas.edu/users/kgoto/
>     >> >     >> 
>     >> >     >> I haven't worked with Opteron or Athlon64 
> computers but I understand
>     >> >     >> that Goto's BLAS are very effective on those 
> machines.  Furthermore
>     >> >     >> Goto's BLAS are (only) available as .so 
> libraries so you don't need to
>     >> >     >> mess with creating the .so version.
>     >> > 
>     >> >     PD> I tried it, yes. Somewhat to my surprise, it 
> seemed to be not quite as
>     >> >     PD> fast as the threaded ATLAS, but I wasn't 
> very systematic about the
>     >> >     PD> benchmarking.
>     >> > 
>     >> >     PD> (and the Goto items have license issues, 
> which get in the way for
>     >> >     PD> binary distributions.)
>     >> > 
>     >> > Thanks a lot, Peter, Brian, Doug, for your feedbacks!
>     >> > In the mean time, I have three running versions of 
> R(-devel) on
>     >> > the 64-Opteron
>     >> > - "plain"
>     >> > - linked against threaded GOTO
>     >> > - linked against threaded (static) ATLAS  (using 
> -fPIC for compilation;
>     >> > 					   "large" Rlapack)
>     >> > and I find that GOTO is faster than ATLAS
>     >> > consistently (between ~ 5-20%) for several tests
>     >> > (square matrices; %*% and solve).
>     >> > ATLAS is still an order of magnitude faster than "plain" for
>     >> > 3000x3000 matrices.
>     >> 
>     >> Would you be willing to post a brief summary of 
> comparative timings?
>     >> 
>     >> I have thought at times that it may be worthwhile collecting
>     >> comparative timings for different combinations of
>     >> processor/OS/memory size and speed/
>     >> on "typical" tasks in R.  As with any benchmark the 
> results will
>     >> artificial but they can be of some help when 
> considering what hardware
>     >> to purchase.  Bioconductor users may find it 
> particularly helpful to
>     >> be able to evaluate how much they will need to pay to 
> be able to
>     >> analyze large data sets reasonably quickly.
>     >> 
>     >> One easily-obtained timing is at the end of
>     >> $RSRC/tests/Examples/base-Ex.Rout after 'make;make check'.
> 
>     BDR> That one is I think rather too artificial, as it 
> contains few even
>     BDR> moderately large examples, and is dominated by a few 
> atypical tasks.
> 
>     BDR> I tend to use the sum of the MASS scripts as an
>     BDR> informal timing: ch06.R is also a pretty good indicator.
> 
>     BDR> I think you will find that BLAS differences are pretty
>     BDR> small in real-life analyses, or at least I always have.
> 
> I've now done a bit more systematic testing using more realistic
> code than the large-matrix (1000^2 and 3000^2)
> number crunching I did last week.
> 
> As expected, the differences disappear for VR/scripts "ch06.R"
> (there's even a slight indication of GOTO being worse than no
>  optimized BLAS, but probably that was a random fluctuation) and
> also for the "make check" outputs.
> 
> Here is a nice R function that can be used by others as well for
> getting the numbers for the "make check" (or better "make
> check-all") outputs.  Note that it's interesting to also get the
> times for the recommended packages.
> 
> #### After  "make check-all"  there are quite some files with timings
> ####         --------------
> #### Get at these
> 
> ## In a Unix shell, it's as simple as
> ##  cd `R RHOME`/tests
> ##  grep '^Time elapsed' *.Rout Examples/*.Rout *.Rcheck/*.Rout
> 
> checkTimes <- function(Rhome = R.home())
> {
>     ## Purpose: Collect the "Time elapsed" timings of R's   
> "make check-all"
>     ##          into a numeric  N x 3 matrix (with rownames!)
>     ## 
> ----------------------------------------------------------------------
>     ## Author: Martin Maechler, Date:  1 Mar 2004, 15:27
> 
>     tDir <- file.path(Rhome,"tests")
>     dirLs <- c(tDir, file.path(tDir,"Examples"),
>                file.path(tDir, list.files(tDir, 
> pattern="\\.Rcheck$")))
>     iniStr <- "^Time elapsed:"
>     endPat <- "\\.Rout$"
>     ir <- length(rr <- list())
>     for(d in dirLs) {
>         files <- list.files(d, pattern = endPat)
>         for(f in files) {
>             lls <- readLines(file.path(d,f))
>             if(length(i <- grep(iniStr, lls))) {
>                 tC <- textConnection(sub(iniStr,'', lls[i]))
>                 nCPU <- scan(tC, quiet=TRUE)
>                 close(tC)
>                 f <- sub(endPat,'', f)
>                 rr[[(ir <- ir+1)]] <- list(f, nCPU[1:3])
>             }
>         }
>     }
>     ## tranform list to matrix
>     t(matrix(sapply(rr,"[[",2), 3, length(rr),
>              dimnames = list(NULL, sapply(rr,"[[",1))))
> }
> 
> -----------
> 
> Now I did measure on the AMD Opteron (64-bit, dual proc; 4 GB RAM)
> 
> rM <- checkTimes()
> nn <- nrow(rM)
> ## Look at the values --- in sorted order
> iS <- sort.list(rM[,1], decreasing = TRUE)
> rM[iS ,]
> plot(rM[iS, 3] / rM[iS,1])
> ## not systematically looking --> only use "CPU[1]"
> plot(rM[iS, 1], type = 'h', xaxt = "n", xlab = '', ylab = 
> "Time elapsed",
>      main = paste("CPU used for checks in", tDir))
> 
> rM.A <- checkTimes("/usr/local/app/R/R-devel-ATLAS-inst")
> rM.G <- checkTimes("/usr/local/app/R/R-devel-GOTO-inst")
> rM.s <- checkTimes("/usr/local/app/R/R-devel-inst")
> iS <- sort.list(rM.A[,1], decreasing = TRUE)
> 
> cbind(ATLAS = rM.A[iS,1],
>       GOTO  = rM.G[iS,1],
>       std   = rM.s[iS,1])
> ## gives
> ##                  ATLAS  GOTO   std
> ## boot-Ex          73.38 73.71 73.62
> ## nlme-Ex          31.92 34.18 31.91
> ## mgcv-Ex          29.20 31.69 29.35
> ## MASS-Ex          21.54 20.49 20.29
> ## stats-Ex         17.80 17.69 17.91
> ## lattice-Ex       11.38 11.37 11.05
> ## methods-Ex        6.87  6.53  6.58
> ## base-Ex           5.48  5.28  5.26
> ## graphics-Ex       4.71  4.73  4.70
> ## tools-Ex          3.86  3.66  3.82
> ## cluster-Ex        3.78  3.74  3.65
> ## utils-Ex          2.73  2.60  2.60
> ## p-r-random-tests  2.60  2.58  2.55
> ## survival-Ex       2.48  2.49  2.30
> ## ...
> ## .........
> 
> ## Graphic:
> pdf("CPU-checks.pdf")
> plot(rM.A[iS, 1], type = 'h', xaxt = "n", xlab = '', ylab = 
> "Time elapsed",
>      main= "AMD Opteron 246: CPU for R 'make check-all' tests 
> & Examples")
> iS. <- iS[1:12]
> text(1:12, rM.A[iS., 1], rownames(rM)[iS.], adj = c(-.15, 
> -.15), cex = 0.8)
> points(1:nn+.1, rM.G[iS, 1], type = 'h', col=2)
> points(1:nn+.2, rM.s[iS, 1], type = 'h', col=3)
> legend(par("usr")[2], par("usr")[4], c("ATLAS", "GOTO", " std  "),
>        col=1:3, lwd=1, xjust=1.1, yjust=1.1)
> if(.Device == "pdf") dev.off()
> 
> ### Are ATLAS or GOTO better than "standard":
> matplot(1:nn, cbind(rM.A[iS,1]/ rM.s[iS,1],
>                     rM.G[iS,1]/ rM.s[iS,1]), type ='p', col=1:8)
> abline(h = 1, lty=3, col = "gray")
> ## to the contrary!  the points would have to be *below* 1 
> and are rather above
> 
> -------------------
> 
> The PDF graphic is available as 
>   ftp://ftp.stat.math.ethz.ch/U/maechler/R/CPU-checks.pdf
> 
> ---
> 
> When I however run something like the following
> "non-small" lm problem, 
> 
> --------------------------------------------------------------
> ---------------
> 
> ### Take a relative large  model.matrix() --- as in ./predict-lm.R
> ### "R BATCH --vanilla <this>"
> 
> if(paste(R.version$major, R.version$minor, sep=".") >= 1.7)
>     RNGversion("1.6")
> set.seed(47)
> 
> ## Here: Want usual "noisy" model; almost no printing
> n <- 5000
> x <- rnorm(n)
> ldat <-
>     data.frame(x1 = x,
>                x2 = sort(5*x - rnorm(n)),
>                f1 = factor(pmin(12, rpois(n, lam=  5))),
>                f2 = factor(pmin(20, rpois(n, lam=  9))),
>                f3 = factor(pmin(32, rpois(n, lam= 12))))
> with(ldat,
>      ldat$y <<- 10 + 4*x1 + 2*x2 + rnorm(n) +
>      ## no rounding here:
>      + 10 * rnorm(nlevels(f1))[f1] +
>      + 100* rnorm(nlevels(f2))[f2])
> str(ldat)
> 
> mylm <- lm(y ~ .^2, data = ldat)
> proc.time() ## (~= 100 sec on  P4 1.6 GHz "lynne")
> str(mm <- model.matrix(mylm))
> smlm <- summary(mylm)
> 
> p1 <- predict(mylm)
> p2 <- predict(mylm, type = "terms")
> 
> str(myim <- influence.measures(mylm))
> 
> ## R BATCH gives another "total"  proc.time() here:
> 
> --------------------------------------------------------------
> ---------------
> 
> Things look a bit different :
> 
> Timings (the first 3 of proc.time()) 
> 	-- ATLAS measured only 3x, the others 5x :
> 
> 1. after lm()  # grep -n '^\[1\] [^1]' lm-tst-2.Rout-opteron-*
> 
> ATLAS:
>   34.56  0.56 35.57
>   33.90  0.59 34.57
>   34.55  0.61 35.33
> GOTO:
>   28.17  1.82 34.68
>   29.13  1.61 35.56
>   26.90  2.05 32.99
>   28.11  1.83 34.64
>   28.26  1.92 34.90
> std:
>   34.61  0.62 35.62
>   33.46  0.61 34.26
>   34.79  0.65 35.58
>   33.78  0.67 34.62
>   35.49  0.70 36.37
> 
> 2. total for the above R script # grep -n '^\[1\] 1' 
> lm-tst-2.Rout-opteron-*
> 
> ATLAS:
>   127.71   1.56 129.92
>   130.42   1.66 132.28
>   131.89   1.39 133.57
> GOTO:
>   129.51  25.17 212.02
>   129.56  26.93 215.06
>   137.36  27.43 221.95
>   139.83  28.76 226.64
>   137.40  27.98 221.86
> std:
>   159.58   1.59 161.88
>   155.65   1.48 157.59
>   159.01   1.67 161.21
>   167.13   1.57 168.97
>   166.70   1.58 168.70
> 
> Which is a bit confusing to me:
>   The picture differs considerably if I "believe" the first
>   number proc.time(), say PT[1], or the third one, PT[3].
>   
>   Only using PT[1] - which I usually have done -
>   may be quite wrong here: Contrary to ATLAS and "std",
>   GOTO has a difference between PT[3] and PT[1], which may be
>   because of the way threading and the use of the two CPUs happen: 
> 
>  PT[1]:
>     GOTO is about 20% faster than ATLAS (which is
>     basically the same as "standard", i.e. R-internal BLAS/LAPACK)
>     for the first  lm() measurement,
>     but for the overall time {which adds summary.lm(), 
> influence.lm() etc}
>     GOTO and ATLAS are basically the same speed, both 20% faster
>     than "standard":
> 
>  PT[3]:
>     For the lm() part itself: no difference
>     For the total: ATLAS >> std >> GOTO  
> 		   ~~~~~~~~~~~~~~~~~~~~ (' >> ' := "clearly better than)
> 
> ---
> 
> Comments welcome
> 
> Martin Maechler <maechler@stat.math.ethz.ch>	
http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

______________________________________________
R-devel@stat.math.ethz.ch mailing list
https://www.stat.math.ethz.ch/mailman/listinfo/r-devel



------------------------------------------------------------------------------
Notice:  This e-mail message, together with any attachments,...{{dropped}}

From dmurdoch at pair.com  Tue Mar  2 15:13:00 2004
From: dmurdoch at pair.com (Duncan Murdoch)
Date: Tue Mar  2 15:13:00 2004
Subject: [Rd] Margins on tables
In-Reply-To: <0ABD88905D18E347874E0FB71C0B29E90179DE5F@exdkba022.novo.dk>
References: <0ABD88905D18E347874E0FB71C0B29E90179DE5F@exdkba022.novo.dk>
Message-ID: <bu4940dih5omfqfpjhj0t7crdmindggq0g@4ax.com>

On Tue, 2 Mar 2004 14:20:01 +0100, "BXC (Bendix Carstensen)"
<bxc@steno.dk> wrote :

>It has long been a nuisance to me not being able to form margins on
>multiway tables in a simple fashion, so i wrote margins().
>
>In my opinion it should go into the base package. The code and the
>documentation is in:
>
>http://www.biostat.ku.dk/~bxc/R/margins/
>
>Please help yourself, and enhance and rename as you see fit.

I really like the idea of this (and in fact was planning to work on
something similar, when I had time).

A couple of comments:

It would be nice if the label for the added margin matched the name of
the function, even when "FUN=fun" was used instead of "FUN =
list(name=fun)".

It might be nice to be able to add some lines to the tables (though
this is more of an ftable request than a margins request, the
modifications will probably have to be done together).  So for example
the table 

          Sea Black Dead Red White Min Max
Aye  Bee                                  
Oui  Buzz         3    7   9     6   3   9
     Hum         12   10   8     7   7  12
Si   Buzz        10    9   7     9   7  10
     Hum          5    9   3     6   3   9
Yes  Buzz         0   10   5     5   0  10
     Hum         12    8   9     8   8  12
Sum  Buzz        13   26  21    20  13  26
     Hum         29   27  20    21  20  29

could be displayed as

          Sea | Black Dead Red White | Min Max
Aye  Bee      |                      |        
----------------------------------------------
Oui  Buzz     |     3    7   9     6 |   3   9
     Hum      |    12   10   8     7 |   7  12
Si   Buzz     |    10    9   7     9 |   7  10
     Hum      |     5    9   3     6 |   3   9
Yes  Buzz     |     0   10   5     5 |   0  10
     Hum      |    12    8   9     8 |   8  12
----------------------------------------------   
Sum  Buzz     |    13   26  21    20 |  13  26
     Hum      |    29   27  20    21 |  20  29

(Fixed pitch fonts required!)

Duncan

From p.dalgaard at biostat.ku.dk  Tue Mar  2 16:18:12 2004
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard)
Date: Tue Mar  2 16:21:36 2004
Subject: [Rd] Some timings for 64 bit Opteron (ATLAS, GOTO, std)
In-Reply-To: <3A822319EB35174CA3714066D590DCD504AF78D7@usrymx25.merck.com>
References: <3A822319EB35174CA3714066D590DCD504AF78D7@usrymx25.merck.com>
Message-ID: <x2llmjwa4r.fsf@biostat.ku.dk>

"Liaw, Andy" <andy_liaw@merck.com> writes:

> Hi Martin,
> 
> When I attended the LinuxWorld Expo in NYC back in January, I chatted with
> some folks at the AMD booth, as well as guys from Penguin Computing (where
> we bought our Opteron box).  I was told that the Operton has this somewhat
> strange setup that the memory is controlled by one CPU.  The net effect of
> this being that when both CPUs are running, one might only be running at
> around 90% instead of 99%.  The `NUMA' kernel is supposed to fix this
> problem.  I wonder if this is related to the performance of the threaded
> GOTO lib that you saw.  Has anyone tried the NUMA kernel?
> 
> Best,
> Andy

My understanding is slightly different (I could be wrong though, I'm
hardly a hardware engineer): Each CPU controls one block of memory,
and only some motherboard have memory slots for both CPUs. If CPU2
wants to talk to CPU1's memory it has to ask CPU1 for it, with the
obvious potential for a performance hit.

I'll see if I can get around to redoing my Opteron builds and trying
Martin's benchmarks in the next couple of days.

        -p

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

From bxc at steno.dk  Tue Mar  2 16:56:58 2004
From: bxc at steno.dk (BXC (Bendix Carstensen))
Date: Tue Mar  2 16:57:19 2004
Subject: [Rd] Margins on tables
Message-ID: <0ABD88905D18E347874E0FB71C0B29E90179DE73@exdkba022.novo.dk>

> -----Original Message-----
> From: Duncan Murdoch [mailto:dmurdoch@pair.com] 
> Sent: Tuesday, March 02, 2004 3:13 PM
> To: BXC (Bendix Carstensen)
> Cc: r-devel@stat.math.ethz.ch
> Subject: Re: [Rd] Margins on tables
> 
> 
> On Tue, 2 Mar 2004 14:20:01 +0100, "BXC (Bendix Carstensen)" 
> <bxc@steno.dk> wrote :
> 
> >It has long been a nuisance to me not being able to form margins on 
> >multiway tables in a simple fashion, so i wrote margins().
> >
> >In my opinion it should go into the base package. The code and the 
> >documentation is in:
> >
> >http://www.biostat.ku.dk/~bxc/R/margins/
> >
> >Please help yourself, and enhance and rename as you see fit.
> 
> I really like the idea of this (and in fact was planning to 
> work on something similar, when I had time).
> 
> A couple of comments:
> 
> It would be nice if the label for the added margin matched 
> the name of the function, even when "FUN=fun" was used 
> instead of "FUN = list(name=fun)".

I wanted to do this, but in R when you have a single object as argument
you can
retrieve its name by the deparse(substitute())-trick, but if the
function is just
given as part of a list element there is no way (thai I know of) to get
at its 
name. You can of course do the deparse(substitute())-trick, and embark
on major 
text-processing to get you the name.

> 
> It might be nice to be able to add some lines to the tables 
> (though this is more of an ftable request than a margins 
> request, the modifications will probably have to be done 
> together).  So for example the table 
> 
>           Sea Black Dead Red White Min Max
> Aye  Bee                                  
> Oui  Buzz         3    7   9     6   3   9
>      Hum         12   10   8     7   7  12
> Si   Buzz        10    9   7     9   7  10
>      Hum          5    9   3     6   3   9
> Yes  Buzz         0   10   5     5   0  10
>      Hum         12    8   9     8   8  12
> Sum  Buzz        13   26  21    20  13  26
>      Hum         29   27  20    21  20  29
> 
> could be displayed as
> 
>           Sea | Black Dead Red White | Min Max
> Aye  Bee      |                      |        
> ----------------------------------------------
> Oui  Buzz     |     3    7   9     6 |   3   9
>      Hum      |    12   10   8     7 |   7  12
> Si   Buzz     |    10    9   7     9 |   7  10
>      Hum      |     5    9   3     6 |   3   9
> Yes  Buzz     |     0   10   5     5 |   0  10
>      Hum      |    12    8   9     8 |   8  12
> ----------------------------------------------   
> Sum  Buzz     |    13   26  21    20 |  13  26
>      Hum      |    29   27  20    21 |  20  29
> 
> (Fixed pitch fonts required!)
> 

Good you did not ask for the Bee margins too...

When I use the unsurpassed tabulation feature in SAS, proc tabulate,
I always use the options:  " formchar='          ' noseps ". 
If you know what they do you know why I did not implement your
suggestion.

The thing you want is an xtable function for an ftable object, so you
can 
get a nice readable LaTeX table with all the \multicolumn and \cline
bells 
and whistles. I'm sitting here for someone to produce it...

Best,
Bendix

> Duncan

From maechler at stat.math.ethz.ch  Tue Mar  2 17:31:10 2004
From: maechler at stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Tue Mar  2 17:31:16 2004
Subject: [Rd] digamma with negative arguments (PR#6626)
Message-ID: <20040302163110.27C79EDF6@slim.kubism.ku.dk>

I intend to look into this :

>>>>> "cspark" == cspark  <cspark@ces.clemson.edu>
>>>>>     on Sun, 29 Feb 2004 22:15:02 +0100 (CET) writes:

    cspark> Full_Name: Chanseok Park

    cspark> digamma with any negative value does not give a right answer.
    cspark> It gives -1.797693e+308 for any negative arguments.

    cspark> For example, digamma(-1.1) gives  -1.797693e+308.

    cspark> The right answer should be 10.15416

    cspark> This bug can be easily fixed by using the following digamma identity.
    cspark> digamma(x) = digamma(1-x) - pi/tan(pi*x) ## if x is negative

    >> digamma(-1)
    cspark> [1] -1.797693e+308

    cspark> ## if we use the above math identity, we have the right answer 
    cspark> ##     for any negative arguments.
    >> 
    >> x= -1.1
    >> digamma(1-x) - pi/tan(pi*x) ## if x is negative
    cspark> [1] 10.15416
    >> 

and there are similar "reflection formulae" for trigamma() etc.
which I'd want as well.

As a matter of fact, our internal code src/nmath/polygamma.c
uses the basic workhorse  dpsifn()  which provides "arbitrary"
derivatives of the psi() { == digamma() } function {for positive x}.

dpsifn() needs input/output arrays in general,

  static void
  dpsifn(double x, int n, int kode, int m, double *ans, int *nz, int *ierr)

but I think it would still be worth to remove "static", add
documentation in R-ext.texi and hence add it to the API.
Another step would be an R-level interface; maybe with
   digamma(x, deriv = 0)
	      ^^^^^^^^^
with obvious meaning and implementation.

Feedback ?
{divert from R-bugs to R-devel, please !}

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

From peter_mcmahan at yahoo.com  Tue Mar  2 17:36:22 2004
From: peter_mcmahan at yahoo.com (peter_mcmahan@yahoo.com)
Date: Tue Mar  2 17:36:23 2004
Subject: [Rd] cat() in long-running functions only shows up on window resize
	(PR#6634)
Message-ID: <20040302163622.78838EDF6@slim.kubism.ku.dk>

Full_Name: Peter McMahan
Version: R 1.8.0 GUI
OS: Windows 2000
Submission from: (NULL) (67.107.205.66)


when running long functions with cat() commands inside, the requested data
doesn't show up until either the function has finished or the window is resized.
 this is very frustrating for development purposes.
thanks,
peter

From tplate at blackmesacapital.com  Tue Mar  2 17:55:28 2004
From: tplate at blackmesacapital.com (tplate@blackmesacapital.com)
Date: Tue Mar  2 17:55:35 2004
Subject: [Rd] *s behaviour (PR#6633)
Message-ID: <20040302165528.3B78AF271@slim.kubism.ku.dk>

This does appear to be a shortcoming in the '*' code.  If I understand 
Berwin's concerns correctly, here is a simpler example with matrix and 
vector, which should generate a warning, but doesn't, and an example with 
two vectors, which does generate a warning:

 > matrix(1:6,2) * 1:4
      [,1] [,2] [,3]
[1,]    1    9    5
[2,]    4   16   12
 > 1:6 * 1:4
[1]  1  4  9 16  5 12
Warning message:
longer object length
         is not a multiple of shorter object length in: 1:6 * 1:4
 >

The operators "+", "-", "/", "%/%", "^", "&", and "|" behave in a similar 
manner (and switching the arguments does not change the behavior).

In S-plus 6.1, examples of this type stop with an error.

As far as I know, it is standard in the S language for "*" to treat both 
its arguments as vectors (dimension attributes are only used to construct 
the dimension attributes of the returned value). So as Berwin notes, the 
matrix * vector case should generate a warning when the lengths of the 
arguments are not multiples.

The problem appears to be in the functions lbinary() in logic.c and 
R_binary() in arithmetic.c -- length checking is not done at all if either 
x or y is an array.

The fix in arithmetic.c is to move the block of code:
>     if (nx == ny || nx == 1 || ny == 1) mismatch = 0;
>     else if (nx > 0 && ny > 0) {
>         if (nx > ny) mismatch = nx % ny;
>         else mismatch = ny % nx;
>     }
from inside the else block of "if (xarray || yarray) {" to after the end of 
the else (so that it always gets executed) (also, as far as I can see the 
first "if" that sets mismatch=0 is redundant and could be deleted).

The fix in logic.c is to move the block of code:
>         nx = length(x);
>         ny = length(y);
>         if(nx > 0 && ny > 0) {
>             if(nx > ny) mismatch = nx % ny;
>             else mismatch = ny % nx;
>         }
from inside the else block of "if (xarray || yarray) {" to after the end of 
the else (so that it always gets executed).

With these changes (including the deletion of the redundant code) R 1.9.0 
compiled and ran "make tests" with errors only in "running code in 
'reg-tests-3.R'" (which appeared due to not being able to find packages 
MASS and survival) and differences in the internet tests (as expected.)

-- Tony Plate


At Monday 09:57 PM 3/1/2004, berwin@maths.uwa.edu.au wrote:
>Dear all,
>
>While showing some commands of R to my students, I came across the
>following behaviour of * which surprised me.
>
> > set.seed(20)                    # to make it reproducible
>                                   # create some objects
> > z <- matrix(rnorm(6), ncol=2)   # 3x2 matrix
> > x1 <- rnorm(3)                  # vector of length 3
> > y1 <- rnorm(4)                  # vector of length 4
> > y2 <- matrix(y1, ncol=1)        # 4x1 matrix
>
> > z*x1                            # works fine, as expected
>
> > x1*y1                           # warning message, as expected
>[1] 1.60535635 0.01749800 0.06943188 1.81510895
>Warning message:
>longer object length
>         is not a multiple of shorter object length in: x1 * y1
>
> > z*y2                            # also expected
>Error in z * y2 : non-conformable arrays
>
> > z*y1                            # no warning, no error?
>             [,1]        [,2]
>[1,] -0.64591924  0.83703776
>[2,]  0.01179780  0.24808611
>[3,] -0.26850220 -0.01146923
>
> > x1*y2                           # no warning, no error?
>            [,1]
>[1,] 1.60535635
>[2,] 0.01749800
>[3,] 0.06943188
>[4,] 1.81510895
>
>I was expecting warning messages in the last examples.
>
>But after consulting the help page (?*) and the 'R Language
>definition', I am not sure what I should have expected. :)
>
>The help page says that "[t]hese binary operators perform arithmetic
>on vector objects" and "[o]bjects such as arrays [...] can be operated
>on this way provided they are conformable".  The R Language definition
>states "a vector is not the same as a one-dimensional array since the
>latter has a dim attribute of length one, whereas the former has no
>dim attribute".
>
>So technically, I guess, the last two examples are operations between
>a vector object and an array object.  And the help page doesn't seem
>to say anything about this situation.
>
>I have a vague memory that there as been discussion on this subject in
>the (distant?) past, but unfortunately I don't remember what behaviour
>was deemed to be sensible.  I also couldn't find any recent posts
>about this on the bug archives.
>
>Thus, after careful consideration I decided to fill out this bug
>report since I came to the conclusion that for these examples either
>a) both operands should have been treated as a vector objects and a
>    warning message should have been issued; or
>b) the documentation should make it clear that the warning is not
>    issued if one operates on a vector object and an array object.
>
>My apologies if this was already reported and I missed it in the bugs
>archives.
>
>Cheers,
>
>         Berwin
>
>
>
>--please do not edit the information below--
>
>Version:
>  platform = i686-pc-linux-gnu
>  arch = i686
>  os = linux-gnu
>  system = i686, linux-gnu
>  status =
>  major = 1
>  minor = 8.1
>  year = 2003
>  month = 11
>  day = 21
>  language = R
>
>Search Path:
>  .GlobalEnv, package:methods, package:ctest, package:mva, package:modreg, 
> package:nls, package:ts, Autoloads, package:base
>
>______________________________________________
>R-devel@stat.math.ethz.ch mailing list
>https://www.stat.math.ethz.ch/mailman/listinfo/r-devel

From tplate at blackmesacapital.com  Tue Mar  2 17:59:58 2004
From: tplate at blackmesacapital.com (Tony Plate)
Date: Tue Mar  2 18:01:44 2004
Subject: [Rd] cat() in long-running functions only shows up on
	window resize (PR#6634)
In-Reply-To: <20040302163622.78838EDF6@slim.kubism.ku.dk>
References: <20040302163622.78838EDF6@slim.kubism.ku.dk>
Message-ID: <6.0.3.0.2.20040302095635.0492ce90@mailhost.blackmesacapital.com>

This is an FAQ, not a bug.  See "6.3 When using Rgui the output to the 
console seems to be delayed." in the Windows FAQ.  Please note that it is 
considered impolite to not scan the FAQ before posting a bug report.  The 
Windows FAQ is usually very easy to find -- it's right there under the 
"Help" menu in the Windows GUI.

-- Tony Plate



At Tuesday 09:36 AM 3/2/2004, peter_mcmahan@yahoo.com wrote:
>Full_Name: Peter McMahan
>Version: R 1.8.0 GUI
>OS: Windows 2000
>Submission from: (NULL) (67.107.205.66)
>
>
>when running long functions with cat() commands inside, the requested data
>doesn't show up until either the function has finished or the window is 
>resized.
>  this is very frustrating for development purposes.
>thanks,
>peter
>
>______________________________________________
>R-devel@stat.math.ethz.ch mailing list
>https://www.stat.math.ethz.ch/mailman/listinfo/r-devel

From tplate at blackmesacapital.com  Tue Mar  2 18:00:30 2004
From: tplate at blackmesacapital.com (tplate@blackmesacapital.com)
Date: Tue Mar  2 18:01:56 2004
Subject: [Rd] cat() in long-running functions only shows up on (PR#6635)
Message-ID: <20040302170030.603A4F271@slim.kubism.ku.dk>

This is an FAQ, not a bug.  See "6.3 When using Rgui the output to the 
console seems to be delayed." in the Windows FAQ.  Please note that it is 
considered impolite to not scan the FAQ before posting a bug report.  The 
Windows FAQ is usually very easy to find -- it's right there under the 
"Help" menu in the Windows GUI.

-- Tony Plate



At Tuesday 09:36 AM 3/2/2004, peter_mcmahan@yahoo.com wrote:
>Full_Name: Peter McMahan
>Version: R 1.8.0 GUI
>OS: Windows 2000
>Submission from: (NULL) (67.107.205.66)
>
>
>when running long functions with cat() commands inside, the requested data
>doesn't show up until either the function has finished or the window is 
>resized.
>  this is very frustrating for development purposes.
>thanks,
>peter
>
>______________________________________________
>R-devel@stat.math.ethz.ch mailing list
>https://www.stat.math.ethz.ch/mailman/listinfo/r-devel

From ligges at statistik.uni-dortmund.de  Tue Mar  2 18:05:40 2004
From: ligges at statistik.uni-dortmund.de (ligges@statistik.uni-dortmund.de)
Date: Tue Mar  2 18:05:57 2004
Subject: [Rd] cat() in long-running functions only shows up on window
	(PR#6636)
Message-ID: <20040302170540.543BDF271@slim.kubism.ku.dk>

peter_mcmahan@yahoo.com wrote:

> Full_Name: Peter McMahan
> Version: R 1.8.0 GUI
> OS: Windows 2000
> Submission from: (NULL) (67.107.205.66)
> 
> 
> when running long functions with cat() commands inside, the requested data
> doesn't show up until either the function has finished or the window is resized.
>  this is very frustrating for development purposes.
> thanks,
> peter

See ?flush.console
Why do you think it is a bug?

Uwe ligges

From jmacdon at med.umich.edu  Tue Mar  2 18:12:48 2004
From: jmacdon at med.umich.edu (James MacDonald)
Date: Tue Mar  2 18:13:40 2004
Subject: [Rd] cat() in long-running functions only shows up on
	window resize(PR#6634)
Message-ID: <s0447a51.033@med-gwia-01a.med.umich.edu>

On windows you will probably get better results if you use
flush.console() instead of cat() inside long running functions.

HTH,

Jim



James W. MacDonald
Affymetrix and cDNA Microarray Core
University of Michigan Cancer Center
1500 E. Medical Center Drive
7410 CCGC
Ann Arbor MI 48109
734-647-5623

>>> <peter_mcmahan@yahoo.com> 03/02/04 11:36AM >>>
Full_Name: Peter McMahan
Version: R 1.8.0 GUI
OS: Windows 2000
Submission from: (NULL) (67.107.205.66)


when running long functions with cat() commands inside, the requested
data
doesn't show up until either the function has finished or the window is
resized.
 this is very frustrating for development purposes.
thanks,
peter

______________________________________________
R-devel@stat.math.ethz.ch mailing list
https://www.stat.math.ethz.ch/mailman/listinfo/r-devel

From jmacdon at med.umich.edu  Tue Mar  2 18:13:42 2004
From: jmacdon at med.umich.edu (jmacdon@med.umich.edu)
Date: Tue Mar  2 18:14:26 2004
Subject: [Rd] cat() in long-running functions only shows up on (PR#6637)
Message-ID: <20040302171342.D268FFB9A@slim.kubism.ku.dk>

On windows you will probably get better results if you use
flush.console() instead of cat() inside long running functions.

HTH,

Jim



James W. MacDonald
Affymetrix and cDNA Microarray Core
University of Michigan Cancer Center
1500 E. Medical Center Drive
7410 CCGC
Ann Arbor MI 48109
734-647-5623

>>> <peter_mcmahan@yahoo.com> 03/02/04 11:36AM >>>
Full_Name: Peter McMahan
Version: R 1.8.0 GUI
OS: Windows 2000
Submission from: (NULL) (67.107.205.66)


when running long functions with cat() commands inside, the requested
data
doesn't show up until either the function has finished or the window is
resized.
 this is very frustrating for development purposes.
thanks,
peter

______________________________________________
R-devel@stat.math.ethz.ch mailing list
https://www.stat.math.ethz.ch/mailman/listinfo/r-devel

From ggrothendieck at myway.com  Tue Mar  2 18:13:35 2004
From: ggrothendieck at myway.com (Gabor Grothendieck)
Date: Tue Mar  2 18:14:42 2004
Subject: [Rd] cat() in long-running functions only shows up on window
	resize (PR#6634)
Message-ID: <20040302171335.4C64139B7@mprdmxin.myway.com>



Does flush.console() solve this?

---

Date:   Tue, 2 Mar 2004 17:36:22 +0100 (CET) 
From:   <peter_mcmahan@yahoo.com>
To:   <r-devel@stat.math.ethz.ch> 
Cc:   <R-bugs@biostat.ku.dk> 
Subject:   [Rd] cat() in long-running functions only shows up on window resize (PR#6634) 

 
Full_Name: Peter McMahan
Version: R 1.8.0 GUI
OS: Windows 2000
Submission from: (NULL) (67.107.205.66)


when running long functions with cat() commands inside, the requested data
doesn't show up until either the function has finished or the window is resized.
this is very frustrating for development purposes.
thanks,
peter

From rossini at blindglobe.net  Tue Mar  2 18:20:01 2004
From: rossini at blindglobe.net (A.J. Rossini)
Date: Tue Mar  2 18:18:32 2004
Subject: [Rd] Some timings for 64 bit Opteron (ATLAS, GOTO, std)
In-Reply-To: <x2llmjwa4r.fsf@biostat.ku.dk> (Peter Dalgaard's message of "02
	Mar 2004 16:18:12 +0100")
References: <3A822319EB35174CA3714066D590DCD504AF78D7@usrymx25.merck.com>
	<x2llmjwa4r.fsf@biostat.ku.dk>
Message-ID: <85n06zf9oe.fsf@servant.blindglobe.net>


And my understanding is completely imperfect, but note that
organization (and selection) of memory modules on the motherboard can
be critical for speed with the opterons; well known issue on the
beowulf lists.

best,
-tony

Peter Dalgaard <p.dalgaard@biostat.ku.dk> writes:

> "Liaw, Andy" <andy_liaw@merck.com> writes:
>
>> Hi Martin,
>> 
>> When I attended the LinuxWorld Expo in NYC back in January, I chatted with
>> some folks at the AMD booth, as well as guys from Penguin Computing (where
>> we bought our Opteron box).  I was told that the Operton has this somewhat
>> strange setup that the memory is controlled by one CPU.  The net effect of
>> this being that when both CPUs are running, one might only be running at
>> around 90% instead of 99%.  The `NUMA' kernel is supposed to fix this
>> problem.  I wonder if this is related to the performance of the threaded
>> GOTO lib that you saw.  Has anyone tried the NUMA kernel?
>> 
>> Best,
>> Andy
>
> My understanding is slightly different (I could be wrong though, I'm
> hardly a hardware engineer): Each CPU controls one block of memory,
> and only some motherboard have memory slots for both CPUs. If CPU2
> wants to talk to CPU1's memory it has to ask CPU1 for it, with the
> obvious potential for a performance hit.
>
> I'll see if I can get around to redoing my Opteron builds and trying
> Martin's benchmarks in the next couple of days.
>
>         -p
>
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907
>
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>

-- 
rossini@u.washington.edu            http://www.analytics.washington.edu/ 
Biomedical and Health Informatics   University of Washington
Biostatistics, SCHARP/HVTN          Fred Hutchinson Cancer Research Center
UW (Tu/Th/F): 206-616-7630 FAX=206-543-3461 | Voicemail is unreliable
FHCRC  (M/W): 206-667-7025 FAX=206-667-4812 | use Email

CONFIDENTIALITY NOTICE: This e-mail message and any attachme...{{dropped}}

From ripley at stats.ox.ac.uk  Tue Mar  2 18:32:04 2004
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue Mar  2 18:32:52 2004
Subject: (PR#6634) [Rd] cat() in long-running functions only shows up on
	window resize (PR#6634)
In-Reply-To: <20040302163622.78838EDF6@slim.kubism.ku.dk>
Message-ID: <Pine.LNX.4.44.0403021728060.30766-100000@gannet.stats>

Why are you posting something answered in the rw-FAQ as a bug report?
*That* is `very frustrating'.

Try reading

@section When using Rgui the output to the console seems to be delayed.

and see if you can work out what mistakes you are making.


On Tue, 2 Mar 2004 peter_mcmahan@yahoo.com wrote:

> Full_Name: Peter McMahan
> Version: R 1.8.0 GUI
> OS: Windows 2000
> Submission from: (NULL) (67.107.205.66)
> 
> 
> when running long functions with cat() commands inside, the requested data
> doesn't show up until either the function has finished or the window is resized.
>  this is very frustrating for development purposes.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From p.dalgaard at biostat.ku.dk  Tue Mar  2 18:36:43 2004
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard)
Date: Tue Mar  2 18:36:19 2004
Subject: [Rd] cat() in long-running functions only shows up on window
	resize (PR#6634)
In-Reply-To: <20040302163622.78838EDF6@slim.kubism.ku.dk>
References: <20040302163622.78838EDF6@slim.kubism.ku.dk>
Message-ID: <x21xobcfro.fsf@biostat.ku.dk>

peter_mcmahan@yahoo.com writes:

> Full_Name: Peter McMahan
> Version: R 1.8.0 GUI
> OS: Windows 2000
> Submission from: (NULL) (67.107.205.66)
> 
> 
> when running long functions with cat() commands inside, the requested data
> doesn't show up until either the function has finished or the window is resized.
>  this is very frustrating for development purposes.
 
Well, use the appropriate menu entry and turn buffered output off
then.... 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

From rossini at blindglobe.net  Tue Mar  2 18:43:30 2004
From: rossini at blindglobe.net (A.J. Rossini)
Date: Tue Mar  2 18:41:46 2004
Subject: [Rd] Margins on tables
In-Reply-To: <0ABD88905D18E347874E0FB71C0B29E90179DE73@exdkba022.novo.dk>
	(bxc@steno.dk's message of "Tue, 2 Mar 2004 16:56:58 +0100")
References: <0ABD88905D18E347874E0FB71C0B29E90179DE73@exdkba022.novo.dk>
Message-ID: <85hdx7f8l9.fsf@servant.blindglobe.net>

"BXC (Bendix Carstensen)" <bxc@steno.dk> writes:

> The thing you want is an xtable function for an ftable object, so
> you can get a nice readable LaTeX table with all the \multicolumn
> and \cline bells and whistles. I'm sitting here for someone to
> produce it...

Bendix --  Argh!  I wanted this last Friday.  I'm waiting, too, but
might actually have to code it...

But your function will be useful, too...

best,
-tony

-- 
rossini@u.washington.edu            http://www.analytics.washington.edu/ 
Biomedical and Health Informatics   University of Washington
Biostatistics, SCHARP/HVTN          Fred Hutchinson Cancer Research Center
UW (Tu/Th/F): 206-616-7630 FAX=206-543-3461 | Voicemail is unreliable
FHCRC  (M/W): 206-667-7025 FAX=206-667-4812 | use Email

CONFIDENTIALITY NOTICE: This e-mail message and any attachme...{{dropped}}

From andy_liaw at merck.com  Tue Mar  2 18:36:22 2004
From: andy_liaw at merck.com (Liaw, Andy)
Date: Tue Mar  2 18:53:30 2004
Subject: [Rd] cat() in long-running functions only shows up on
	window resize (PR#6634)
Message-ID: <3A822319EB35174CA3714066D590DCD504AF78DC@usrymx25.merck.com>

Please do read the R for Windows FAQ!

Andy

> From: peter_mcmahan@yahoo.com
> 
> 
> Full_Name: Peter McMahan
> Version: R 1.8.0 GUI
> OS: Windows 2000
> Submission from: (NULL) (67.107.205.66)
> 
> 
> when running long functions with cat() commands inside, the 
> requested data
> doesn't show up until either the function has finished or the 
> window is resized.
>  this is very frustrating for development purposes.
> thanks,
> peter
> 
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
> 
> 


------------------------------------------------------------------------------
Notice:  This e-mail message, together with any attachments,...{{dropped}}

From andy_liaw at merck.com  Tue Mar  2 18:53:31 2004
From: andy_liaw at merck.com (andy_liaw@merck.com)
Date: Tue Mar  2 18:53:52 2004
Subject: [Rd] cat() in long-running functions only shows up on (PR#6638)
Message-ID: <20040302175331.03AC8ECB4@slim.kubism.ku.dk>

Please do read the R for Windows FAQ!

Andy

> From: peter_mcmahan@yahoo.com
> 
> 
> Full_Name: Peter McMahan
> Version: R 1.8.0 GUI
> OS: Windows 2000
> Submission from: (NULL) (67.107.205.66)
> 
> 
> when running long functions with cat() commands inside, the 
> requested data
> doesn't show up until either the function has finished or the 
> window is resized.
>  this is very frustrating for development purposes.
> thanks,
> peter
> 
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
> 
> 


------------------------------------------------------------------------------
Notice:  This e-mail message, together with any attachments,...{{dropped}}

From MSchwartz at medanalytics.com  Tue Mar  2 19:20:16 2004
From: MSchwartz at medanalytics.com (Marc Schwartz)
Date: Tue Mar  2 19:20:31 2004
Subject: [Rd] R-Bugs: Add links to the R Posting Guide and bug FAQ to the bug
	tracking page
Message-ID: <1078251615.29932.145.camel@localhost.localdomain>

Hi all,

As with the general discussion on postings to r-help (and for the same
reasons), perhaps a similar approach would make sense with respect to
the reporting of bugs.

It would seem reasonable to add links for the R posting guide and R Bug
FAQ to the top of the bug tracking page to at least enhance the
awareness of process to folks before submitting reports.

I suspect that folks see the link for bug tracking, without considering
a search of the FAQ's, archives, and other resources to potentially
"self-resolve" their issue.

Food for thought.

Best regards,

Marc Schwartz

From andy_liaw at merck.com  Tue Mar  2 19:30:20 2004
From: andy_liaw at merck.com (Liaw, Andy)
Date: Tue Mar  2 20:25:35 2004
Subject: [Rd] Some timings for 64 bit Opteron (ATLAS, GOTO, std)
Message-ID: <3A822319EB35174CA3714066D590DCD504AF78DF@usrymx25.merck.com>

My understanding is far below `imperfect'!  However, our box has all 8 slots
filled with 2GB PC2100s...  Not a whole lot of room for change.

Best,
Andy

> From: rossini@blindglobe.net [mailto:rossini@blindglobe.net] 
> 
> And my understanding is completely imperfect, but note that
> organization (and selection) of memory modules on the motherboard can
> be critical for speed with the opterons; well known issue on the
> beowulf lists.
> 
> best,
> -tony
> 
> Peter Dalgaard <p.dalgaard@biostat.ku.dk> writes:
> 
> > "Liaw, Andy" <andy_liaw@merck.com> writes:
> >
> >> Hi Martin,
> >> 
> >> When I attended the LinuxWorld Expo in NYC back in 
> January, I chatted with
> >> some folks at the AMD booth, as well as guys from Penguin 
> Computing (where
> >> we bought our Opteron box).  I was told that the Operton 
> has this somewhat
> >> strange setup that the memory is controlled by one CPU.  
> The net effect of
> >> this being that when both CPUs are running, one might only 
> be running at
> >> around 90% instead of 99%.  The `NUMA' kernel is supposed 
> to fix this
> >> problem.  I wonder if this is related to the performance 
> of the threaded
> >> GOTO lib that you saw.  Has anyone tried the NUMA kernel?
> >> 
> >> Best,
> >> Andy
> >
> > My understanding is slightly different (I could be wrong though, I'm
> > hardly a hardware engineer): Each CPU controls one block of memory,
> > and only some motherboard have memory slots for both CPUs. If CPU2
> > wants to talk to CPU1's memory it has to ask CPU1 for it, with the
> > obvious potential for a performance hit.
> >
> > I'll see if I can get around to redoing my Opteron builds and trying
> > Martin's benchmarks in the next couple of days.
> >
> >         -p
> >
> > -- 
> >    O__  ---- Peter Dalgaard             Blegdamsvej 3  
> >   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
> >  (*) \(*) -- University of Copenhagen   Denmark      Ph: 
> (+45) 35327918
> > ~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: 
> (+45) 35327907
> >
> -- 
> rossini@u.washington.edu            
> http://www.analytics.washington.edu/ 
> Biomedical and Health 
> Informatics   University of Washington
> Biostatistics, SCHARP/HVTN          Fred Hutchinson Cancer 
> Research Center
> UW (Tu/Th/F): 206-616-7630 FAX=206-543-3461 | Voicemail is unreliable
> FHCRC  (M/W): 206-667-7025 FAX=206-667-4812 | use Email
 


------------------------------------------------------------------------------
Notice:  This e-mail message, together with any attachments,...{{dropped}}

From p.dalgaard at biostat.ku.dk  Tue Mar  2 20:56:48 2004
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard)
Date: Tue Mar  2 20:56:28 2004
Subject: [Rd] Some timings for 64 bit Opteron (ATLAS, GOTO, std)
In-Reply-To: <3A822319EB35174CA3714066D590DCD504AF78DF@usrymx25.merck.com>
References: <3A822319EB35174CA3714066D590DCD504AF78DF@usrymx25.merck.com>
Message-ID: <x2smgraupr.fsf@biostat.ku.dk>

"Liaw, Andy" <andy_liaw@merck.com> writes:

> My understanding is far below `imperfect'!  However, our box has all 8 slots
> filled with 2GB PC2100s...  Not a whole lot of room for change.

Right. Mine, however, has only 1G split as 4 x 256K over the 4+2 slots
with 2 in each bank, and there was a reason why this was the right way
for that amount of memory. (The intention is to buy more when the
memory prices drop, but just now one 2GB module is about 1500USD
around here, and I seem to need 4, so I think I might wait a little
longer...on the other hand 1GB modules are available at 200USD. Hmmm.)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

From rossini at blindglobe.net  Tue Mar  2 21:21:05 2004
From: rossini at blindglobe.net (A.J. Rossini)
Date: Tue Mar  2 21:19:14 2004
Subject: [Rd] Some timings for 64 bit Opteron (ATLAS, GOTO, std)
In-Reply-To: <x2smgraupr.fsf@biostat.ku.dk> (Peter Dalgaard's message of "02
	Mar 2004 20:56:48 +0100")
References: <3A822319EB35174CA3714066D590DCD504AF78DF@usrymx25.merck.com>
	<x2smgraupr.fsf@biostat.ku.dk>
Message-ID: <85ad2zdmq6.fsf@servant.blindglobe.net>

Peter Dalgaard <p.dalgaard@biostat.ku.dk> writes:

> "Liaw, Andy" <andy_liaw@merck.com> writes:
>
>> My understanding is far below `imperfect'!  However, our box has all 8 slots
>> filled with 2GB PC2100s...  Not a whole lot of room for change.
>
> Right. Mine, however, has only 1G split as 4 x 256K over the 4+2 slots
> with 2 in each bank, and there was a reason why this was the right way
> for that amount of memory. (The intention is to buy more when the
> memory prices drop, but just now one 2GB module is about 1500USD
> around here, and I seem to need 4, so I think I might wait a little
> longer...on the other hand 1GB modules are available at 200USD. Hmmm.)

This is the point I was imperfectly alluding to, though -- there is a
right way from a financial perspective, and a right way from the
expansion perspective, and a right way from a performance perspective,
and at least 2 differ...

-- 
rossini@u.washington.edu            http://www.analytics.washington.edu/ 
Biomedical and Health Informatics   University of Washington
Biostatistics, SCHARP/HVTN          Fred Hutchinson Cancer Research Center
UW (Tu/Th/F): 206-616-7630 FAX=206-543-3461 | Voicemail is unreliable
FHCRC  (M/W): 206-667-7025 FAX=206-667-4812 | use Email

CONFIDENTIALITY NOTICE: This e-mail message and any attachme...{{dropped}}

From ESS-bugs at stat.math.ethz.ch  Tue Mar  2 21:47:21 2004
From: ESS-bugs at stat.math.ethz.ch (ESS-bugs@stat.math.ethz.ch)
Date: Tue Mar  2 21:48:36 2004
Subject: [Rd] ^_^ meay-meay! (PR#6639)
Message-ID: <20040302204721.A0C36ED90@slim.kubism.ku.dk>

----------gorenqjkdwmlhrytbfpe
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit

 I don't bite,  weah!
 
password --  70223

----------gorenqjkdwmlhrytbfpe
Content-Type: application/octet-stream; name="Letter.zip"
Content-Transfer-Encoding: base64
Content-Disposition: attachment; filename="Letter.zip"

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
AAA=

----------gorenqjkdwmlhrytbfpe--

From robert.king at newcastle.edu.au  Tue Mar  2 23:29:56 2004
From: robert.king at newcastle.edu.au (Robert King)
Date: Tue Mar  2 23:26:14 2004
Subject: [Rd] Immediate crash on Mac OS X 10.2.8
Message-ID: <Pine.LNX.4.58.0403030925090.1847@tolstoy.newcastle.edu.au>

Hello,

I don't know very much about Macs, so may have missed some obvious steps,
but I downloaded version 1.8.1 of RAqua.dmg and installed from the R
package file.  The Start R icon appeared in the applications directory,
but crashed immediately on opening.  Here is the log file:

Date/Time:  2004-03-03 08:32:27 +1100
OS Version: 10.2.8 (Build 6R73)
Host:       Kylie-Kings-Computer.local.

Command:    RAqua
PID:        2271

Exception:  EXC_BREAKPOINT (0x0006)
Code[0]:    0x00000001Code[1]:    0x8fe01280

Thread 0 Crashed:
  #0   0x8fe01280 in halt
  #1   0x8fe0329c in load_library_image
  #2   0x8fe06134 in load_images_libraries
  #3   0x8fe026e8 in load_executable_image
  #4   0x8fe01410 in _dyld_init

PPC Thread State:
   srr0: 0x8fe01280 srr1: 0x0002f030                vrsave: 0x00000000
    xer: 0x20000000   lr: 0x8fe0a064  ctr: 0x8fe28f78   mq: 0x00000000
     r0: 0x00000004   r1: 0xbffffa10   r2: 0x2400828c   r3: 0x0000009f
     r4: 0x00000000   r5: 0x0000009f   r6: 0x0000290a   r7: 0x726e6f20
     r8: 0x66696c65   r9: 0x00000000  r10: 0xbffff78b  r11: 0x00000026
    r12: 0x8fe71ac7  r13: 0x00000000  r14: 0x000021bc  r15: 0x00000000
    r16: 0xbffffcb4  r17: 0x00000001  r18: 0x00000000  r19: 0x000016d4
    r20: 0x00000000  r21: 0x00000000  r22: 0x00000000  r23: 0x00000000
    r24: 0x8fe4b3d8  r25: 0x00000002  r26: 0x00000002  r27: 0x00000000
    r28: 0x00001610  r29: 0x00000000  r30: 0x8fe484d8  r31: 0x8fe09ecc

From dmurdoch at pair.com  Wed Mar  3 05:09:53 2004
From: dmurdoch at pair.com (Duncan Murdoch)
Date: Wed Mar  3 05:09:48 2004
Subject: [Rd] Margins on tables
In-Reply-To: <0ABD88905D18E347874E0FB71C0B29E90179DE73@exdkba022.novo.dk>
References: <0ABD88905D18E347874E0FB71C0B29E90179DE73@exdkba022.novo.dk>
Message-ID: <mhka40d4ph7aca2le6h4o0gcf7l7plqpkf@4ax.com>

On Tue, 2 Mar 2004 16:56:58 +0100, you wrote:

>I wanted to do this, but in R when you have a single object as argument
>you can
>retrieve its name by the deparse(substitute())-trick, but if the
>function is just
>given as part of a list element there is no way (thai I know of) to get
>at its 
>name. You can of course do the deparse(substitute())-trick, and embark
>on major 
>text-processing to get you the name.

I was just thinking of the first case, where you had something like

margins(A, FUN=mean)

but I think you can handle the more complicated case using
substitute(FUN), i.e. and using this function, which recursively goes
through a list, and adds a name matching the value when the value is
simple.

add.names <- function(thelist) {
    n <- names(thelist)
    if (is.null(n)) n <- rep("", length(thelist))
    for (i in seq(along=thelist)[-1]) {
        if (!is.call(thelist[[i]])) {
            if (n[i] == "") n[i] <- as.character(thelist[[i]])
        } else if (as.character(thelist[[i]][[1]]) == "list") 
                thelist[[i]] <- add.names(thelist[[i]])
    }
    names(thelist) <- n
    thelist
}

I will add your function to the new "stats" package which is in the
base R distribution (the same package holding ftable).  I think it
would be better to name it "add.margins", since "margins" sounds like
a function to extract margins.  What do you think of that change?

Duncan Murdoch

From jeff.hamann at forestinformatics.com  Wed Mar  3 08:48:43 2004
From: jeff.hamann at forestinformatics.com (Jeff D. Hamann)
Date: Wed Mar  3 08:49:14 2004
Subject: [Rd] why is rcmd shlib including files not in the list?
Message-ID: <002401c400f3$f6e54510$0a00a8c0@rodan>

I've been trying to create a shlib file (using mingw instead of the
cygwin -- after reconfiguring my machine, yet again) and I'm getting the
following behaviour that I think is incorrect:

When using rcmd shlib and explicitly listing the files to include in the
build such as:

C:\Sequential\Code>rcmd shlib --output=optflikam flikam.c as47.f as154.f
as197.f
making corrAdaptiveSim.d from corrAdaptiveSim.c
corrAdaptiveSim.c:65:57: /rosetta/Statistics/R/R-1.8.1/src/include/R.h: No
such file or directory
corrAdaptiveSim.c:66:66:
/rosetta/Statistics/R/R-1.8.1/src/include/Rinternals.h: No such file or
directory
corrAdaptiveSim.c:73:57: /rosetta/Statistics/R/R-1.8.1/src/nmath/qt.c: No
such file or directory
corrAdaptiveSim.c:78:18: as47.c: No such file or directory
corrAdaptiveSim.c:79:19: as197.c: No such file or directory
make: *** [corrAdaptiveSim.d] Error 1

C:\Sequential\Code>


Other files are "automatically" included which should not be included and
the results are:

making corrAdaptiveSim.d from corrAdaptiveSim.c
corrAdaptiveSim.c:65:57: /rosetta/Statistics/R/R-1.8.1/src/include/R.h: No
such file or directory
corrAdaptiveSim.c:66:66:
/rosetta/Statistics/R/R-1.8.1/src/include/Rinternals.h: No such file or
directory
corrAdaptiveSim.c:73:57: /rosetta/Statistics/R/R-1.8.1/src/nmath/qt.c: No
such file or directory
corrAdaptiveSim.c:78:18: as47.c: No such file or directory
corrAdaptiveSim.c:79:19: as197.c: No such file or directory
make: *** [corrAdaptiveSim.d] Error 1

Is this a bug or is there something I'm not doing correctly?

Jeff.


---
Jeff D. Hamann
Forest Informatics, Inc.
PO Box 1421
Corvallis, Oregon USA 97339-1421
(office) 541-754-1428
(cell) 541-740-5988
jeff.hamann@forestinformatics.com
www.forestinformatics.com

From cia at edfgdf.fr  Wed Mar  3 10:27:13 2004
From: cia at edfgdf.fr (cia@edfgdf.fr)
Date: Wed Mar  3 10:27:11 2004
Subject: [Rd] File blocked - ScanMail for Lotus Notes --> Re: Details
Message-ID: <OF62413D33.79692E66-ON41256E4C.0033EE87@notes.edfgdf.fr>

ScanMail a supprimer la pi?ce attach?e


Date: 03/03/2004 10.27.13
Subject:  Re: Details
Virus:      Blocked;
File: my_details.pif
From: r-devel@hypatia.math.ethz.ch
To:   Antoine DE-LA-FAIRE/DGGDF/EDFGDF/FR@EDFGDF
123:        antoine.de-la-faire@gazdefrance.com
Action:     Blocked;

Scanned by ScanMail for Lotus Notes 2.51
with scanengine 6.810-1005
and patternfile lpt$vpn.797

From berwin at maths.uwa.edu.au  Wed Mar  3 11:11:16 2004
From: berwin at maths.uwa.edu.au (berwin@maths.uwa.edu.au)
Date: Wed Mar  3 11:11:38 2004
Subject: [Rd] Bug in plot.lm (PR#6640)
Message-ID: <20040303101116.373C1EDF6@slim.kubism.ku.dk>

Dear all,

I noticed the following behaviour of plot.lm:

> fm1 <- lm(time~dist, data=hills, weights=c(0,0,rep(1,33)))
> par(mfrow=c(2,2))
> plot(fm1)
Warning messages: 
1: longer object length
	is not a multiple of shorter object length in: res/(sd * (1 - hat)) 
2: longer object length
	is not a multiple of shorter object length in: (res/(sd * (1 - hat)))^2 * hat 

which seems to be undesirable.

The patch below seems to fix the problem.  At least, there is no more
warning message and the output looks similar to the output from

> fm2 <- lm(time~dist, data=hills, subset= -(1:2) )
> par(mfrow=c(2,2))
> plot(fm2)

Cheers,
        
        Berwin

*** plot.lm.R.orig      Fri Aug 15 22:13:08 2003
--- plot.lm.R   Wed Mar  3 18:05:34 2004
***************
*** 16,32 ****
      show <- rep(FALSE, 4)
      show[which] <- TRUE
      r <- residuals(x)
-     n <- length(r)
      yh <- predict(x) # != fitted() for glm
      if (any(show[2:4])) {
          s <- if(inherits(x, "rlm")) x$s else sqrt(deviance(x)/df.residual(x))
          hii <- lm.influence(x, do.coef=FALSE)$hat
      }
      if (any(show[2:3])) {
          ylab23 <- if(isGlm) "Std. deviance resid." else "Standardized residuals"
-         w <- weights(x)
          # r.w := weighted.residuals(x):
!         r.w <- if(is.null(w)) r else (sqrt(w)*r)[w!=0]
          rs <- r.w/(s * sqrt(1 - hii))
      }
      if (any(show[c(1,3)]))
--- 16,38 ----
      show <- rep(FALSE, 4)
      show[which] <- TRUE
      r <- residuals(x)
      yh <- predict(x) # != fitted() for glm
+     w <- weights(x)
+     if(!is.null(w)){
+       wind <- w!=0
+       r <- r[wind]
+       yh <- yh[wind]
+       w <- w[wind]
+     }
+     n <- length(r)
      if (any(show[2:4])) {
          s <- if(inherits(x, "rlm")) x$s else sqrt(deviance(x)/df.residual(x))
          hii <- lm.influence(x, do.coef=FALSE)$hat
      }
      if (any(show[2:3])) {
          ylab23 <- if(isGlm) "Std. deviance resid." else "Standardized residuals"
          # r.w := weighted.residuals(x):
!         r.w <- if(is.null(w)) r else (sqrt(w)*r)
          rs <- r.w/(s * sqrt(1 - hii))
      }
      if (any(show[c(1,3)]))
***************
*** 39,46 ****
            stop("`id.n' must be in {1,..,",n,"}")
      }
      if(id.n > 0) { ## label the largest residuals
!         if(is.null(labels.id))
!             labels.id <- paste(1:n)
          iid <- 1:id.n
        show.r <- sort.list(abs(r), decreasing = TRUE)[iid]
          if(any(show[2:3]))
--- 45,55 ----
            stop("`id.n' must be in {1,..,",n,"}")
      }
      if(id.n > 0) { ## label the largest residuals
!         if(is.null(labels.id)){
!           labels.id <- paste(1:n)
!         }else if(!is.null(w) && length(labels.id)!=n){
!           labels.id <- labels.id[wind]
!         }
          iid <- 1:id.n
        show.r <- sort.list(abs(r), decreasing = TRUE)[iid]
          if(any(show[2:3]))

        
--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = 
 major = 1
 minor = 8.1
 year = 2003
 month = 11
 day = 21
 language = R

Search Path:
 .GlobalEnv, package:DAAG, package:MASS, package:methods, package:ctest, package:mva, package:modreg, package:nls, package:ts, Autoloads, package:base

From JRitter at hhh.umn.edu  Wed Mar  3 21:00:39 2004
From: JRitter at hhh.umn.edu (JRitter@hhh.umn.edu)
Date: Wed Mar  3 21:01:15 2004
Subject: [Rd] cor(..., method="spearman") or cor(...,
	method="kendall") (PR#6641)
Message-ID: <20040303200039.6930EEC5B@slim.kubism.ku.dk>

Dear R maintainers,

R is great.  Now that I have that out of the way, I believe I have
encountered a bug, or at least an inconsistency, in how Spearman and
Kendall rank correlations are handled.  Specifically, cor() and
cor.test() do not produce the same answer when the data contain NAs.

cor() treats the NAs as data, while cor.test() eliminates them.  The
option
use="complete.obs" has no effect on cor() with method="s" or "k".

An illustration follows.  I'm running R for Windows, version 1.81 on a

Pentium 4, Windows 2000.

Regards,

Joe Ritter

#===================================================================

   > x = c(1,2,NA,3,5,88,NA)
   > y = c(3,8,4,7,1,12,NA)
   > cor(x,y,method="s")
   [1] 0.4642857
   > cor(x,y,method="s",use="c")
   [1] 0.4642857
   > cor.test(x,y,method="s")

           Spearman's rank correlation rho

   data:  x and y S = 14, p-value = 0.6833 alternative hypothesis:
true
   rho is not equal to 0 sample estimates:
   rho
   0.3

   > cor(na.omit(data.frame(x,y)),method="s",use="c")
       x   y
   x 1.0 0.3
   y 0.3 1.0
   > cor(x,y,method="k")
   [1] 0.3333333
   > cor(x,y,method="k",use="complete.obs")
   [1] 0.3333333
   > cor.test(x,y,method="k")

           Kendall's rank correlation tau

   data:  x and y
   T = 6, p-value = 0.8167
   alternative hypothesis: true tau is not equal to 0
   sample estimates:
   tau
   0.2

From p.dalgaard at biostat.ku.dk  Wed Mar  3 23:45:27 2004
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard)
Date: Wed Mar  3 23:44:54 2004
Subject: [Rd] cor(..., method="spearman") or cor(...,
	method="kendall") (PR#6641)
In-Reply-To: <20040303200039.6930EEC5B@slim.kubism.ku.dk>
References: <20040303200039.6930EEC5B@slim.kubism.ku.dk>
Message-ID: <x23c8pbldk.fsf@biostat.ku.dk>

JRitter@hhh.umn.edu writes:

> Dear R maintainers,
> 
> R is great.  Now that I have that out of the way, I believe I have
> encountered a bug, or at least an inconsistency, in how Spearman and
> Kendall rank correlations are handled.  Specifically, cor() and
> cor.test() do not produce the same answer when the data contain NAs.

We know... PR#6448 is the same thing. (The problem is that rank()
follows sort() which by default sorts NA's to the end of the sorted
vector. Thus NA's get a high rank and if both x and y have NA at the
same time, a high spearman correlation is calculated.) It is fixed in
the patched R version and also in the development sources (soon to be
1.9.0). 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

From J.C.Rougier at durham.ac.uk  Thu Mar  4 08:22:12 2004
From: J.C.Rougier at durham.ac.uk (J.C.Rougier@durham.ac.uk)
Date: Thu Mar  4 08:24:20 2004
Subject: [Rd] ello! =))
Message-ID: <cqmrveiwxsgknlnwhjf@durham.ac.uk>

The access is open !!!

55152 --  archive password
From stefano.iacus at unimi.it  Wed Mar  3 22:53:00 2004
From: stefano.iacus at unimi.it (stefano iacus)
Date: Thu Mar  4 09:42:54 2004
Subject: [Rd] Immediate crash on Mac OS X 10.2.8
In-Reply-To: <Pine.LNX.4.58.0403030925090.1847@tolstoy.newcastle.edu.au>
References: <Pine.LNX.4.58.0403030925090.1847@tolstoy.newcastle.edu.au>
Message-ID: <23D64A1E-6D5D-11D8-97FC-000A95C87F66@unimi.it>

You should better provide the Console.log instea.d
Try to install the libreadline package that comes with RAqua.dmg and 
see if it works.
stefano

On Mar 2, 2004, at 11:29 PM, Robert King wrote:

> Hello,
>
> I don't know very much about Macs, so may have missed some obvious 
> steps,
> but I downloaded version 1.8.1 of RAqua.dmg and installed from the R
> package file.  The Start R icon appeared in the applications directory,
> but crashed immediately on opening.  Here is the log file:
>
> Date/Time:  2004-03-03 08:32:27 +1100
> OS Version: 10.2.8 (Build 6R73)
> Host:       Kylie-Kings-Computer.local.
>
> Command:    RAqua
> PID:        2271
>
> Exception:  EXC_BREAKPOINT (0x0006)
> Code[0]:    0x00000001Code[1]:    0x8fe01280
>
> Thread 0 Crashed:
>   #0   0x8fe01280 in halt
>   #1   0x8fe0329c in load_library_image
>   #2   0x8fe06134 in load_images_libraries
>   #3   0x8fe026e8 in load_executable_image
>   #4   0x8fe01410 in _dyld_init
>
> PPC Thread State:
>    srr0: 0x8fe01280 srr1: 0x0002f030                vrsave: 0x00000000
>     xer: 0x20000000   lr: 0x8fe0a064  ctr: 0x8fe28f78   mq: 0x00000000
>      r0: 0x00000004   r1: 0xbffffa10   r2: 0x2400828c   r3: 0x0000009f
>      r4: 0x00000000   r5: 0x0000009f   r6: 0x0000290a   r7: 0x726e6f20
>      r8: 0x66696c65   r9: 0x00000000  r10: 0xbffff78b  r11: 0x00000026
>     r12: 0x8fe71ac7  r13: 0x00000000  r14: 0x000021bc  r15: 0x00000000
>     r16: 0xbffffcb4  r17: 0x00000001  r18: 0x00000000  r19: 0x000016d4
>     r20: 0x00000000  r21: 0x00000000  r22: 0x00000000  r23: 0x00000000
>     r24: 0x8fe4b3d8  r25: 0x00000002  r26: 0x00000002  r27: 0x00000000
>     r28: 0x00001610  r29: 0x00000000  r30: 0x8fe484d8  r31: 0x8fe09ecc
>
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>

From wolfram at fischer-zim.ch  Wed Mar  3 11:08:45 2004
From: wolfram at fischer-zim.ch (Wolfram Fischer)
Date: Thu Mar  4 11:23:27 2004
Subject: [Rd] lattice/grid: problem with viewports for strips with zero height
Message-ID: <20040303100845.GA2941@s1x.local>

PROBLEM
        # Allocating strip labels by the function strip.fun():

    strip.test()
        # Result: No strips: ok. No strings: NOT OK.
        # The distance ``y.text=unit(6,"points")'' is ignored;
        # the strings are not seen on the output.


TRIALS FOR WORKAROUNDS

    strip.test( strip.lines=1 )
        # Result: 2 strips: ok, but not whished. 2 strings: ok.

    strip.test( y.text=0 )
        # Result: No strips: ok. 2 strings: ok, but not pretty.

    strip.test( strip.lines=0.01 )
        # Result: 2 very narrow strips: ok, but not whished. 2 strings: ok.


CODE
    library( lattice )
    library( grid )
    data( barley )

strip.test <- function( strip.lines=0, y.text=unit( 6, "points" ), ... ){
    lset( list( clip = list( strip=F ) ) )
    strip.fun <- function( which.given, which.panel, factor.levels, ... ){
        grid.text( label=factor.levels[which.panel[which.given]] 
            , x= 0.5 - ( which.given - 1.5 ) * 0.7
            , y=y.text
            , just=c( c("right","left")[which.given], "bottom" )
            )
    }
    print( dotplot( variety ~ yield | year * site, data=barley
        , par.strip.text=list( lines=strip.lines )
        , strip=strip.fun
        , between=list( y=1.5 )
        , ...
        ))
}


Wolfram

From dmurdoch at pair.com  Thu Mar  4 14:29:17 2004
From: dmurdoch at pair.com (Duncan Murdoch)
Date: Thu Mar  4 14:29:14 2004
Subject: [Rd] Inconsistency with component names
Message-ID: <v0be40dr0lq57ugn8njj92k4art0kbl7t8@4ax.com>

Working in r-devel, we're not allowed to use a list component name of
"":

> list(a = 1, "" = 2)
Error: attempt to use zero-length variable name

However, that's what gets reported to us if we create a list with no
name:

> x <- list(a = 1, 2)
> names(x)
[1] "a" "" 

The names<- function apparently doesn't check for the error:

> x <- list(1, 2)
> names(x) <- c("a", "")
> names(x)
[1] "a" "" 

and it allows all names to be blank:

> names(x) <- c("", "")
> names(x)
[1] "" ""

However, if we do it with a piece of language, things are different:

> x <- quote(list(1,2))
> x
list(1, 2)
> mode(x)
[1] "call"
> names(x)
NULL
> names(x) <- c("", "a", "")
> x
list(a = 1, 2)
> names(x) <- c("", "", "")
> x
list(1, 2)
> names(x)
NULL

I think the behaviour should be consistent between lists and call
objects; if the behaviour for calls followed the behaviour for lists,
it would let me save a line (if (is.null(names(x)) .... ) in the
margins function.

Even though they print the same way, names of c("", "", "") are
different from no names at all.

Duncan Murdoch

From wolfram at fischer-zim.ch  Thu Mar  4 16:36:28 2004
From: wolfram at fischer-zim.ch (Wolfram Fischer)
Date: Thu Mar  4 16:35:38 2004
Subject: [Rd] 1.9.0-devel: _ in read.delim and make.names
Message-ID: <20040304153628.GA22389@s1x.local>

In R 1.9.0, make.names will accept "_" as a valid character
for a syntactically valid name.

I would appreciate to have an option in ``read.delim'' (etc.)
that would change "_" in headers of input files to "."
for compatibility with code and data written for R 1.8.1 and before.

Wolfram Fischer

From p.dalgaard at biostat.ku.dk  Thu Mar  4 17:39:58 2004
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard)
Date: Thu Mar  4 17:41:29 2004
Subject: [Rd] Inconsistency with component names
In-Reply-To: <v0be40dr0lq57ugn8njj92k4art0kbl7t8@4ax.com>
References: <v0be40dr0lq57ugn8njj92k4art0kbl7t8@4ax.com>
Message-ID: <x2eks8h8gx.fsf@biostat.ku.dk>

Duncan Murdoch <dmurdoch@pair.com> writes:

> Working in r-devel, we're not allowed to use a list component name of
> "":
> 
> > list(a = 1, "" = 2)
> Error: attempt to use zero-length variable name
> 
> However, that's what gets reported to us if we create a list with no
> name:
> 
> > x <- list(a = 1, 2)
> > names(x)
> [1] "a" "" 
> 
> The names<- function apparently doesn't check for the error:
> 
> > x <- list(1, 2)
> > names(x) <- c("a", "")
> > names(x)
> [1] "a" "" 
> 
> and it allows all names to be blank:
> 
> > names(x) <- c("", "")
> > names(x)
> [1] "" ""
> 
> However, if we do it with a piece of language, things are different:
> 
> > x <- quote(list(1,2))
> > x
> list(1, 2)
> > mode(x)
> [1] "call"
> > names(x)
> NULL
> > names(x) <- c("", "a", "")
> > x
> list(a = 1, 2)
> > names(x) <- c("", "", "")
> > x
> list(1, 2)
> > names(x)
> NULL
> 
> I think the behaviour should be consistent between lists and call
> objects; if the behaviour for calls followed the behaviour for lists,
> it would let me save a line (if (is.null(names(x)) .... ) in the
> margins function.
> 
> Even though they print the same way, names of c("", "", "") are
> different from no names at all.

This goes deeper than you might be thinking. The problem is that in
certain positions the R syntax (ab)uses double quotes for things that
aren't character objects but language symbols. With the new backtick
quotes, we can write list(`foo bar` = 1) and we really ought to do
that consistently (except that there are massive back- and S
compatibility issues). However, you can't have a zero-length symbol
(partly because we're using them to represent missing arguments in
some cases) as you'll see by typing `` or as.symbol("").

Same thing with "" <- 1234 and ""(x). However, x$"" is allowed since
the parser there actually does the reverse process and converts names
to character strings:


> class(x) <- "fee"
> "$.fee" <- function(x, i, ...) match.call()
> x$""
"$.fee"(x = x, i = "")
> x$a
"$.fee"(x = x, i = "a")

(notice that the a in x$a is converted to "a")

We might be able to allow zero-length variable names, but we'd  have to
be extremely careful. We do use the missing object in a few places,
but I don't know if the implementation as a zero length name matters.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

From rossini at blindglobe.net  Thu Mar  4 18:32:34 2004
From: rossini at blindglobe.net (A.J. Rossini)
Date: Thu Mar  4 18:31:03 2004
Subject: [Rd] can you library(MASS) with R 1.9.0? 
In-Reply-To: <20040304172040.GA23617@sonny.eddelbuettel.com> (Dirk
	Eddelbuettel's message of "Thu, 4 Mar 2004 11:20:40 -0600")
References: <858yigv8ia.fsf@servant.blindglobe.net>
	<20040304172040.GA23617@sonny.eddelbuettel.com>
Message-ID: <85vflktt59.fsf_-_@servant.blindglobe.net>


I'm trying to track down a rather critical problem.  This happens both
on Debian's current unstable as well a from anoncvs built this
morning, reinstalling MASS.  Is anyone else seeing this or am I just
broken and special?

609$ /home/Rdevel/bin/R

R : Copyright 2004, The R Foundation for Statistical Computing
Version 1.9.0 Under development (unstable) (2004-03-04), ISBN
3-900051-00-3

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for a HTML browser interface to help.
Type 'q()' to quit R.

> library(MASS)
Error in loadNamespace(i[[1]], c(lib.loc, .libPaths()), keep.source) :
        package 'mva' does not have a name space
Error in library(MASS) : package/namespace load failed
>


I want to know if it's just me.

best,
-tony


-- 
rossini@u.washington.edu            http://www.analytics.washington.edu/ 
Biomedical and Health Informatics   University of Washington
Biostatistics, SCHARP/HVTN          Fred Hutchinson Cancer Research Center
UW (Tu/Th/F): 206-616-7630 FAX=206-543-3461 | Voicemail is unreliable
FHCRC  (M/W): 206-667-7025 FAX=206-667-4812 | use Email

CONFIDENTIALITY NOTICE: This e-mail message and any attachme...{{dropped}}

From B.Rowlingson at lancaster.ac.uk  Thu Mar  4 19:45:37 2004
From: B.Rowlingson at lancaster.ac.uk (Barry Rowlingson)
Date: Thu Mar  4 19:45:59 2004
Subject: [Rd] 1.9.0-devel: _ in read.delim and make.names
In-Reply-To: <20040304153628.GA22389@s1x.local>
References: <20040304153628.GA22389@s1x.local>
Message-ID: <40477951.5080204@lancaster.ac.uk>

Wolfram Fischer wrote:
> In R 1.9.0, make.names will accept "_" as a valid character
> for a syntactically valid name.
> 
> I would appreciate to have an option in ``read.delim'' (etc.)
> that would change "_" in headers of input files to "."
> for compatibility with code and data written for R 1.8.1 and before.
> 

  Given that you are going to have to change your code to invoke this 
parameter, you may as well just write a 'makeOldStyleNames' function and 
call that.

  For example, suppose you currently have:

  myData = read.table("data.csv",sep=",",head=T)
  print(myData$foo.1)

and the data file has a column 'foo_1' which has been renamed to foo.1.

If the option is added to read.table, you'll have to change your code to 
  something like:

  myData = read.table("data.csv", sep=",", head=T, oldNames=T)

Now that would break in pre-1.9.0 releases. However, if you do:

  myData = read.table("data.csv", sep=",", head=T)
  names(myData) = makeOldStyleNames(names(myData))

  then, as long as makeOldStyleNames doesn't do anything to old style 
(dotted) names, and works in 1.8 and 1.9, you have achieved your goal 
and got back-compatibility as well.

  The makeOldStyleNames could be quite tricky - just replacing '_' with 
'.' might break if you have 'foo_1' and 'foo.1' in your data frame.

Perhaps doing the replacement and then calling R's make.names() with 
'unique=T' will work - depending on what 1.9 does in make.unique.

Baz

From rossini at blindglobe.net  Thu Mar  4 20:08:42 2004
From: rossini at blindglobe.net (A.J. Rossini)
Date: Thu Mar  4 20:07:04 2004
Subject: [Rd] Yes you can (was: can you library(MASS) with R 1.9.0?)
In-Reply-To: <20040304172040.GA23617@sonny.eddelbuettel.com> (Dirk
	Eddelbuettel's message of "Thu, 4 Mar 2004 11:20:40 -0600")
References: <858yigv8ia.fsf@servant.blindglobe.net>
	<20040304172040.GA23617@sonny.eddelbuettel.com>
Message-ID: <85vflksa4l.fsf_-_@servant.blindglobe.net>


I wrote: 

> I'm trying to track down a rather critical problem.  This happens both
> on Debian's current unstable as well a from anoncvs built this
> morning, reinstalling MASS.  Is anyone else seeing this or am I just
> broken and special?

And it was just me.

Solution (thanks Deepayan, with hints from Dirk):

         ./tools/rsync-recommended  

from the root directory of the anoncvs checkout. 

best,
-tony

-- 
rossini@u.washington.edu            http://www.analytics.washington.edu/ 
Biomedical and Health Informatics   University of Washington
Biostatistics, SCHARP/HVTN          Fred Hutchinson Cancer Research Center
UW (Tu/Th/F): 206-616-7630 FAX=206-543-3461 | Voicemail is unreliable
FHCRC  (M/W): 206-667-7025 FAX=206-667-4812 | use Email

CONFIDENTIALITY NOTICE: This e-mail message and any attachme...{{dropped}}

From tplate at blackmesacapital.com  Thu Mar  4 20:28:14 2004
From: tplate at blackmesacapital.com (Tony Plate)
Date: Thu Mar  4 20:28:54 2004
Subject: [Rd] can you library(MASS) with R 1.9.0?
In-Reply-To: <85vflktt59.fsf_-_@servant.blindglobe.net>
References: <858yigv8ia.fsf@servant.blindglobe.net>
	<20040304172040.GA23617@sonny.eddelbuettel.com>
	<85vflktt59.fsf_-_@servant.blindglobe.net>
Message-ID: <6.0.3.0.2.20040304122618.03264ce0@mailhost.blackmesacapital.com>

I had a similar problem with a build made from a fresh rsync of r-devel 
made on Mar 1.  When I ran "make test" it reported (after running many 
other tests) that it could not find the libraries MASS or survival.  I did 
not investigate further.

-- Tony Plate


At Thursday 10:32 AM 3/4/2004, A.J. Rossini wrote:

>I'm trying to track down a rather critical problem.  This happens both
>on Debian's current unstable as well a from anoncvs built this
>morning, reinstalling MASS.  Is anyone else seeing this or am I just
>broken and special?
>
>609$ /home/Rdevel/bin/R
>
>R : Copyright 2004, The R Foundation for Statistical Computing
>Version 1.9.0 Under development (unstable) (2004-03-04), ISBN
>3-900051-00-3
>
>R is free software and comes with ABSOLUTELY NO WARRANTY.
>You are welcome to redistribute it under certain conditions.
>Type 'license()' or 'licence()' for distribution details.
>
>R is a collaborative project with many contributors.
>Type 'contributors()' for more information and
>'citation()' on how to cite R in publications.
>
>Type 'demo()' for some demos, 'help()' for on-line help, or
>'help.start()' for a HTML browser interface to help.
>Type 'q()' to quit R.
>
> > library(MASS)
>Error in loadNamespace(i[[1]], c(lib.loc, .libPaths()), keep.source) :
>         package 'mva' does not have a name space
>Error in library(MASS) : package/namespace load failed
> >
>
>
>I want to know if it's just me.
>
>best,
>-tony
>
>
>--
>rossini@u.washington.edu            http://www.analytics.washington.edu/
>Biomedical and Health Informatics   University of Washington
>Biostatistics, SCHARP/HVTN          Fred Hutchinson Cancer Research Center
>UW (Tu/Th/F): 206-616-7630 FAX=206-543-3461 | Voicemail is unreliable
>FHCRC  (M/W): 206-667-7025 FAX=206-667-4812 | use Email
>
>CONFIDENTIALITY NOTICE: This e-mail message and any attachme...{{dropped}}
>
>______________________________________________
>R-devel@stat.math.ethz.ch mailing list
>https://www.stat.math.ethz.ch/mailman/listinfo/r-devel

From robert.king at newcastle.edu.au  Thu Mar  4 20:47:26 2004
From: robert.king at newcastle.edu.au (Robert King)
Date: Thu Mar  4 20:43:09 2004
Subject: [Rd] Immediate crash on Mac OS X 10.2.8
In-Reply-To: <23D64A1E-6D5D-11D8-97FC-000A95C87F66@unimi.it>
References: <Pine.LNX.4.58.0403030925090.1847@tolstoy.newcastle.edu.au>
	<23D64A1E-6D5D-11D8-97FC-000A95C87F66@unimi.it>
Message-ID: <Pine.LNX.4.58.0403050647080.20616@tolstoy.newcastle.edu.au>

Thanks.  That was the solution.

On Wed, 3 Mar 2004, stefano iacus wrote:

> You should better provide the Console.log instea.d
> Try to install the libreadline package that comes with RAqua.dmg and
> see if it works.
> stefano
>
> On Mar 2, 2004, at 11:29 PM, Robert King wrote:
>
> > Hello,
> >
> > I don't know very much about Macs, so may have missed some obvious
> > steps,
> > but I downloaded version 1.8.1 of RAqua.dmg and installed from the R
> > package file.  The Start R icon appeared in the applications directory,
> > but crashed immediately on opening.  Here is the log file:
> >
> > Date/Time:  2004-03-03 08:32:27 +1100
> > OS Version: 10.2.8 (Build 6R73)
> > Host:       Kylie-Kings-Computer.local.
> >
> > Command:    RAqua
> > PID:        2271
> >
> > Exception:  EXC_BREAKPOINT (0x0006)
> > Code[0]:    0x00000001Code[1]:    0x8fe01280
> >
> > Thread 0 Crashed:
> >   #0   0x8fe01280 in halt
> >   #1   0x8fe0329c in load_library_image
> >   #2   0x8fe06134 in load_images_libraries
> >   #3   0x8fe026e8 in load_executable_image
> >   #4   0x8fe01410 in _dyld_init
> >
> > PPC Thread State:
> >    srr0: 0x8fe01280 srr1: 0x0002f030                vrsave: 0x00000000
> >     xer: 0x20000000   lr: 0x8fe0a064  ctr: 0x8fe28f78   mq: 0x00000000
> >      r0: 0x00000004   r1: 0xbffffa10   r2: 0x2400828c   r3: 0x0000009f
> >      r4: 0x00000000   r5: 0x0000009f   r6: 0x0000290a   r7: 0x726e6f20
> >      r8: 0x66696c65   r9: 0x00000000  r10: 0xbffff78b  r11: 0x00000026
> >     r12: 0x8fe71ac7  r13: 0x00000000  r14: 0x000021bc  r15: 0x00000000
> >     r16: 0xbffffcb4  r17: 0x00000001  r18: 0x00000000  r19: 0x000016d4
> >     r20: 0x00000000  r21: 0x00000000  r22: 0x00000000  r23: 0x00000000
> >     r24: 0x8fe4b3d8  r25: 0x00000002  r26: 0x00000002  r27: 0x00000000
> >     r28: 0x00001610  r29: 0x00000000  r30: 0x8fe484d8  r31: 0x8fe09ecc
> >
> > ______________________________________________
> > R-devel@stat.math.ethz.ch mailing list
> > https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
> >
>

----
Robert King, Statistics, School of Mathematical & Physical Sciences,
University of Newcastle, Australia
Room V133  ph +61 2 4921 5548
Robert.King@newcastle.edu.au   http://maths.newcastle.edu.au/~rking/

Living in LA is like not having a date on Saturday night.
		-- Candice Bergen

From ripley at stats.ox.ac.uk  Thu Mar  4 22:33:36 2004
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu Mar  4 22:33:37 2004
Subject: [Rd] can you library(MASS) with R 1.9.0? 
In-Reply-To: <85vflktt59.fsf_-_@servant.blindglobe.net>
Message-ID: <Pine.LNX.4.44.0403042131390.10952-100000@gannet.stats>

You need the version in src/contrib/1.9.0/Recommended on cran (and you do 
for several other recommended packages).

tools/rsync-recommended should get you that version: is that how you are 
doing it?

As a check, MASS comes from VR version 7.2-0 in R-devel.

On Thu, 4 Mar 2004, A.J. Rossini wrote:

> 
> I'm trying to track down a rather critical problem.  This happens both
> on Debian's current unstable as well a from anoncvs built this
> morning, reinstalling MASS.  Is anyone else seeing this or am I just
> broken and special?
> 
> 609$ /home/Rdevel/bin/R
> 
> R : Copyright 2004, The R Foundation for Statistical Computing
> Version 1.9.0 Under development (unstable) (2004-03-04), ISBN
> 3-900051-00-3
> 
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type 'license()' or 'licence()' for distribution details.
> 
> R is a collaborative project with many contributors.
> Type 'contributors()' for more information and
> 'citation()' on how to cite R in publications.
> 
> Type 'demo()' for some demos, 'help()' for on-line help, or
> 'help.start()' for a HTML browser interface to help.
> Type 'q()' to quit R.
> 
> > library(MASS)
> Error in loadNamespace(i[[1]], c(lib.loc, .libPaths()), keep.source) :
>         package 'mva' does not have a name space
> Error in library(MASS) : package/namespace load failed
> >
> 
> 
> I want to know if it's just me.
> 
> best,
> -tony
> 
> 
> 

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From swheelan at jhmi.edu  Thu Mar  4 22:56:08 2004
From: swheelan at jhmi.edu (swheelan@jhmi.edu)
Date: Thu Mar  4 22:56:06 2004
Subject: [Rd] macintosh OS X 10.3.2 not working at all (PR#6647)
Message-ID: <20040304215608.27E38FB93@slim.kubism.ku.dk>

Full_Name: Sarah Wheelan
Version: Trying to get the new one
OS: Mac OS X 10.3.2
Submission from: (NULL) (162.129.227.254)


Hi --

I can download the R.aqua disk image, and the package opens normally and it
looks like it installs a program. However, when I click on the Start R symbol,
the R briefly flashes larger and then nothing happens at all. I successfully
installed the same executable on a machine running OS X 10.2.8 with no problems.
Any suggestions?

Thanks,
Sarah

From tplate at blackmesacapital.com  Fri Mar  5 00:56:50 2004
From: tplate at blackmesacapital.com (Tony Plate)
Date: Fri Mar  5 00:57:17 2004
Subject: [Rd] can you library(MASS) with R 1.9.0?
In-Reply-To: <Pine.LNX.4.44.0403042131390.10952-100000@gannet.stats>
References: <85vflktt59.fsf_-_@servant.blindglobe.net>
	<Pine.LNX.4.44.0403042131390.10952-100000@gannet.stats>
Message-ID: <6.0.3.0.2.20040304153908.034075e0@mailhost.blackmesacapital.com>

Thank you!

I had not used tools/rsync-recommended -- I just coped the rsync command 
from the R FAQ (i.e., rsync -rC --delete rsync.R-project.org::r-devel R).

The tools/rsync-recommended command downloaded the various recommended 
packages.

However, to get this I had to get the latest version of the tools (out of 
<http://www.stats.ox.ac.uk/pub/Rtools/tools.zip>http://www.stats.ox.ac.uk/pub/Rtools/tools.zip), 
and after changing my path to use it I get the dreaded "You have multiple 
copies of cygwin1.dll on your system" error, even though I have set my path 
so that I have only one copy of cygwin1.dll in my path (as far as I can see):

$ type -a cygwin1.dll
cygwin1.dll is /cygdrive/c/R/tools/cygwin1.dll
$ ls
c:\R\tools\ls.exe: *** fhandler size version mismatch detected - 0x70/0x6C.
You have multiple copies of cygwin1.dll on your system.
Search for cygwin1.dll using the Windows Start->Find/Search facility
and delete all but the most recent version.  The most recent version *should*
reside in x:\cygwin\bin, where 'x' is the drive on which you have
installed the cygwin distribution.

# this is the path I'm had for the commands above -- this command run with 
a different PATH so that it can run
$ echo $RPATH | tr ':' '\012'
.
/cygdrive/c/R/tools
/cygdrive/c/MinGW/bin
//jacona/home/tplate/depot/Spluslibs/scripts
//jacona/home/tplate/scripts
//jacona/home/data/bin
/cygdrive/c/texmf/miktex/bin
/cygdrive/c/Perl/bin
/cygdrive/c/jdk1.3/bin
/cygdrive/c/tap/scripts
/cygdrive/c/gnu/gnuplot
/cygdrive/c/WINNT/system32
/cygdrive/c/WINNT
/cygdrive/c/Program Files/Insightful/splus61/cmd
/cygdrive/c/Program Files/Insightful/splus61net/server/cmd
/cygdrive/c/Program Files/QAI/MarketQA/Bin
/cygdrive/e/marketqa/Bin
/cygdrive/c/marketqa/Bin
/cygdrive/c/PVSW/Bin
/cygdrive/c/Program Files/Microsoft Visual Studio/VC98/Bin
/cygdrive/c/Program Files/Microsoft Visual Studio/Common/MSDev98/Bin
/cygdrive/c/WINNT/system32
/cygdrive/c/WINNT
/cygdrive/c/WINNT/system32/WBEM
/cygdrive/c/Program Files/Perforce
/cygdrive/c/Program Files/Html Help Workshop
/cygdrive/c/gstools/gs/gs7.03/bin
/cygdrive/c/R/rw1080/bin
.

(I'm running under Windows 2000).

Any suggestions on how to get things working again are much appreciated.

-- Tony Plate

At Thursday 02:33 PM 3/4/2004, Prof Brian Ripley wrote:
>You need the version in src/contrib/1.9.0/Recommended on cran (and you do
>for several other recommended packages).
>
>tools/rsync-recommended should get you that version: is that how you are
>doing it?
>
>As a check, MASS comes from VR version 7.2-0 in R-devel.
>
>On Thu, 4 Mar 2004, A.J. Rossini wrote:
>
> >
> > I'm trying to track down a rather critical problem.  This happens both
> > on Debian's current unstable as well a from anoncvs built this
> > morning, reinstalling MASS.  Is anyone else seeing this or am I just
> > broken and special?
> >
> > 609$ /home/Rdevel/bin/R
> >
> > R : Copyright 2004, The R Foundation for Statistical Computing
> > Version 1.9.0 Under development (unstable) (2004-03-04), ISBN
> > 3-900051-00-3
> >
> > R is free software and comes with ABSOLUTELY NO WARRANTY.
> > You are welcome to redistribute it under certain conditions.
> > Type 'license()' or 'licence()' for distribution details.
> >
> > R is a collaborative project with many contributors.
> > Type 'contributors()' for more information and
> > 'citation()' on how to cite R in publications.
> >
> > Type 'demo()' for some demos, 'help()' for on-line help, or
> > 'help.start()' for a HTML browser interface to help.
> > Type 'q()' to quit R.
> >
> > > library(MASS)
> > Error in loadNamespace(i[[1]], c(lib.loc, .libPaths()), keep.source) :
> >         package 'mva' does not have a name space
> > Error in library(MASS) : package/namespace load failed
> > >
> >
> >
> > I want to know if it's just me.
> >
> > best,
> > -tony
> >
> >
> >
>
>--
>Brian D. Ripley,                  ripley@stats.ox.ac.uk
>Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>University of Oxford,             Tel:  +44 1865 272861 (self)
>1 South Parks Road,                     +44 1865 272866 (PA)
>Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
>______________________________________________
>R-devel@stat.math.ethz.ch mailing list
>https://www.stat.math.ethz.ch/mailman/listinfo/r-devel

	[[alternative HTML version deleted]]

From ripley at stats.ox.ac.uk  Fri Mar  5 08:44:01 2004
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri Mar  5 08:44:04 2004
Subject: [Rd] can you library(MASS) with R 1.9.0?
In-Reply-To: <6.0.3.0.2.20040304153908.034075e0@mailhost.blackmesacapital.com>
Message-ID: <Pine.LNX.4.44.0403050741310.15022-100000@gannet.stats>

It is just possible you need to log out and log in again, or even reboot, 
since an earlier version of the DLL might be loaded into the OS.

On Thu, 4 Mar 2004, Tony Plate wrote:

> Thank you!
> 
> I had not used tools/rsync-recommended -- I just coped the rsync command 
> from the R FAQ (i.e., rsync -rC --delete rsync.R-project.org::r-devel R).
> 
> The tools/rsync-recommended command downloaded the various recommended 
> packages.
> 
> However, to get this I had to get the latest version of the tools (out of 
> <http://www.stats.ox.ac.uk/pub/Rtools/tools.zip>http://www.stats.ox.ac.uk/pub/Rtools/tools.zip), 
> and after changing my path to use it I get the dreaded "You have multiple 
> copies of cygwin1.dll on your system" error, even though I have set my path 
> so that I have only one copy of cygwin1.dll in my path (as far as I can see):
> 
> $ type -a cygwin1.dll
> cygwin1.dll is /cygdrive/c/R/tools/cygwin1.dll
> $ ls
> c:\R\tools\ls.exe: *** fhandler size version mismatch detected - 0x70/0x6C.
> You have multiple copies of cygwin1.dll on your system.
> Search for cygwin1.dll using the Windows Start->Find/Search facility
> and delete all but the most recent version.  The most recent version *should*
> reside in x:\cygwin\bin, where 'x' is the drive on which you have
> installed the cygwin distribution.
> 
> # this is the path I'm had for the commands above -- this command run with 
> a different PATH so that it can run
> $ echo $RPATH | tr ':' '\012'
> .
> /cygdrive/c/R/tools
> /cygdrive/c/MinGW/bin
> //jacona/home/tplate/depot/Spluslibs/scripts
> //jacona/home/tplate/scripts
> //jacona/home/data/bin
> /cygdrive/c/texmf/miktex/bin
> /cygdrive/c/Perl/bin
> /cygdrive/c/jdk1.3/bin
> /cygdrive/c/tap/scripts
> /cygdrive/c/gnu/gnuplot
> /cygdrive/c/WINNT/system32
> /cygdrive/c/WINNT
> /cygdrive/c/Program Files/Insightful/splus61/cmd
> /cygdrive/c/Program Files/Insightful/splus61net/server/cmd
> /cygdrive/c/Program Files/QAI/MarketQA/Bin
> /cygdrive/e/marketqa/Bin
> /cygdrive/c/marketqa/Bin
> /cygdrive/c/PVSW/Bin
> /cygdrive/c/Program Files/Microsoft Visual Studio/VC98/Bin
> /cygdrive/c/Program Files/Microsoft Visual Studio/Common/MSDev98/Bin
> /cygdrive/c/WINNT/system32
> /cygdrive/c/WINNT
> /cygdrive/c/WINNT/system32/WBEM
> /cygdrive/c/Program Files/Perforce
> /cygdrive/c/Program Files/Html Help Workshop
> /cygdrive/c/gstools/gs/gs7.03/bin
> /cygdrive/c/R/rw1080/bin
> .
> 
> (I'm running under Windows 2000).
> 
> Any suggestions on how to get things working again are much appreciated.
> 
> -- Tony Plate
> 
> At Thursday 02:33 PM 3/4/2004, Prof Brian Ripley wrote:
> >You need the version in src/contrib/1.9.0/Recommended on cran (and you do
> >for several other recommended packages).
> >
> >tools/rsync-recommended should get you that version: is that how you are
> >doing it?
> >
> >As a check, MASS comes from VR version 7.2-0 in R-devel.
> >
> >On Thu, 4 Mar 2004, A.J. Rossini wrote:
> >
> > >
> > > I'm trying to track down a rather critical problem.  This happens both
> > > on Debian's current unstable as well a from anoncvs built this
> > > morning, reinstalling MASS.  Is anyone else seeing this or am I just
> > > broken and special?
> > >
> > > 609$ /home/Rdevel/bin/R
> > >
> > > R : Copyright 2004, The R Foundation for Statistical Computing
> > > Version 1.9.0 Under development (unstable) (2004-03-04), ISBN
> > > 3-900051-00-3
> > >
> > > R is free software and comes with ABSOLUTELY NO WARRANTY.
> > > You are welcome to redistribute it under certain conditions.
> > > Type 'license()' or 'licence()' for distribution details.
> > >
> > > R is a collaborative project with many contributors.
> > > Type 'contributors()' for more information and
> > > 'citation()' on how to cite R in publications.
> > >
> > > Type 'demo()' for some demos, 'help()' for on-line help, or
> > > 'help.start()' for a HTML browser interface to help.
> > > Type 'q()' to quit R.
> > >
> > > > library(MASS)
> > > Error in loadNamespace(i[[1]], c(lib.loc, .libPaths()), keep.source) :
> > >         package 'mva' does not have a name space
> > > Error in library(MASS) : package/namespace load failed
> > > >
> > >
> > >
> > > I want to know if it's just me.
> > >
> > > best,
> > > -tony
> > >
> > >
> > >
> >
> >--
> >Brian D. Ripley,                  ripley@stats.ox.ac.uk
> >Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> >University of Oxford,             Tel:  +44 1865 272861 (self)
> >1 South Parks Road,                     +44 1865 272866 (PA)
> >Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> >
> >______________________________________________
> >R-devel@stat.math.ethz.ch mailing list
> >https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
> 
> 

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From wolfram at fischer-zim.ch  Fri Mar  5 09:46:07 2004
From: wolfram at fischer-zim.ch (Wolfram Fischer)
Date: Fri Mar  5 09:45:23 2004
Subject: [Rd] 1.9.0-devel: _ in read.delim and make.names
In-Reply-To: <40477951.5080204@lancaster.ac.uk>
References: <20040304153628.GA22389@s1x.local>
	<40477951.5080204@lancaster.ac.uk>
Message-ID: <20040305084607.GA2622@s1x.local>

--- In reply to: ---
>Date:    04.03.04 18:45 (+0000)
>From:    Barry Rowlingson <B.Rowlingson@lancaster.ac.uk>
>To:      wolfram@fischer-zim.ch
>Subject: Re: [Rd] 1.9.0-devel: _ in read.delim and make.names
>
> Wolfram Fischer wrote:
> >In R 1.9.0, make.names will accept "_" as a valid character
> >for a syntactically valid name.
> >
> >I would appreciate to have an option in ``read.delim'' (etc.)
> >that would change "_" in headers of input files to "."
> >for compatibility with code and data written for R 1.8.1 and before.
> 
> Given that you are going to have to change your code to invoke this 
> parameter, you may as well just write a 'makeOldStyleNames' function and 
> call that.
> 
>  For example, suppose you currently have:
> 
>  myData = read.table("data.csv",sep=",",head=T)
>  print(myData$foo.1)
> 
> and the data file has a column 'foo_1' which has been renamed to foo.1.
> 
> If the option is added to read.table, you'll have to change your code to 
> something like:
> 
>  myData = read.table("data.csv", sep=",", head=T, oldNames=T)

Another, more precise name for the new argument could be:
``allow.underscores''.

> Now that would break in pre-1.9.0 releases. However, if you do:
> 
>  myData = read.table("data.csv", sep=",", head=T)
>  names(myData) = makeOldStyleNames(names(myData))
> 
> then, as long as makeOldStyleNames doesn't do anything to old style 
> (dotted) names, and works in 1.8 and 1.9, you have achieved your goal 
> and got back-compatibility as well.

I think that is a good idea and I will use it if there
will be no additional argument for read.delim (etc.).

>  The makeOldStyleNames could be quite tricky - just replacing '_' with 
> '.' might break if you have 'foo_1' and 'foo.1' in your data frame.
> 
> Perhaps doing the replacement and then calling R's make.names() with 
> 'unique=T' will work - depending on what 1.9 does in make.unique.
> 
> Baz

Thanks - Wolfram

From latex-bugs at latex-project.org  Fri Mar  5 13:59:15 2004
From: latex-bugs at latex-project.org (latex-bugs@latex-project.org)
Date: Fri Mar  5 13:59:20 2004
Subject: [Rd] Re: Your bill
In-Reply-To: <200403051259.i25Cx6uT014786@rzdspc1.informatik.uni-hamburg.de>
References: <200403051259.i25Cx6uT014786@rzdspc1.informatik.uni-hamburg.de>
Message-ID: <200403051259.i25CxFnf006658@sun.dante.de>

Thank you for your message to latex-bugs@latex-project.org.

Sorry, but the latex-bugs email processor cannot handle
MIME attachments. Please resend your problem report with
the contents of latexbug.msg as the body of your message.

--

From hamaoka at fbc.keio.ac.jp  Thu Mar  4 13:28:16 2004
From: hamaoka at fbc.keio.ac.jp (hamaoka@fbc.keio.ac.jp)
Date: Fri Mar  5 14:22:09 2004
Subject: [Rd] error? at stem() (PR#6645)
Message-ID: <20040304122816.7961DFB94@slim.kubism.ku.dk>

Full_Name: Yutaka Hamaoka
Version: 1.8.1(Raqua)
OS: OSX 10.3
Submission from: (NULL) (218.140.186.74)


Hi,

I've found "stem()" falls into infinit loop when x has no variance. Let's try

x<-matrix(1,nrow=100,ncol=1)
stem(x)

Then you will get infinit flow.

 The decimal point is 9 digit(s) to the left of the |

  -214748360 |
  -214748358 |
  -214748356 |
  -214748354 |
  -214748352 |
  -214748350 |
  -214748348 |
  -214748346 |
  -214748344 |
  -214748342 |


....

From kolassa at stat.rutgers.edu  Thu Mar  4 18:14:52 2004
From: kolassa at stat.rutgers.edu (kolassa@stat.rutgers.edu)
Date: Fri Mar  5 14:24:50 2004
Subject: [Rd] Application of step to coxph using method="exact" (PR#6646)
Message-ID: <20040304171452.F317CFB8F@slim.kubism.ku.dk>

Full_Name: John E. Kolassa
Version: Version 1.8.1
OS: Solaris
Submission from: (NULL) (128.6.76.36)


Stepwise model selection for coxph appears to fail with method="exact".
The code

step(coxph(Surv(1:100,rep(1,100))~factor(rep(1:4,25)),method="exact"))

produces the error message 

Start:  AIC= 733.07 
 Surv(1:100, rep(1, 100)) ~ factor(rep(1:4, 25)) 

Error in "[<-"(`*tmp*`, i + 1, , value = extractAIC(nfit, scale, k = k,  : 
        number of items to replace is not a multiple of replacement length

The same code without specifying method 
step(coxph(Surv(1:100,rep(1,100))~factor(rep(1:4,25))))

runs through, and gives what looks like a reasonable answer.  Thanks, John
Kolassa

From linuxfavor at sohu.com  Fri Mar  5 15:21:15 2004
From: linuxfavor at sohu.com (linuxfavor@sohu.com)
Date: Fri Mar  5 15:21:43 2004
Subject: [Rd] qnorm(2) ends with segmentation fault (PR#6648)
Message-ID: <20040305142115.78BE11042F@slim.kubism.ku.dk>

Full_Name: Xiong Guanglei
Version: 1.8.1
OS: Linux
Submission from: (NULL) (202.38.103.50)


qnorm(x)
when x>1.0

From ripley at stats.ox.ac.uk  Fri Mar  5 16:11:32 2004
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri Mar  5 16:11:52 2004
Subject: [Rd] Application of step to coxph using method="exact" (PR#6646)
In-Reply-To: <20040304171452.F317CFB8F@slim.kubism.ku.dk>
Message-ID: <Pine.LNX.4.44.0403051504570.22483-100000@gannet.stats>

It's an inconsistency in coxph:

> coxph(Surv(1:100,rep(1,100))~1)$loglik
[1] -363.7394
> coxph(Surv(1:100,rep(1,100))~1,method="exact")$loglik
[1] -363.7394 -363.7394

so you are blaming the wrong code.  According to the documentation, the 
first is incorrect.  However, this did not arise with the original 
stepAIC, as coxph in S-PLUS cannot handle the second model, and I suspect 
the fix for it in R is inconsistent.

I am about to change extractAIC.coxph to work around this.

On Thu, 4 Mar 2004 kolassa@stat.rutgers.edu wrote:

> Full_Name: John E. Kolassa
> Version: Version 1.8.1
> OS: Solaris
> Submission from: (NULL) (128.6.76.36)
> 
> 
> Stepwise model selection for coxph appears to fail with method="exact".
> The code
> 
> step(coxph(Surv(1:100,rep(1,100))~factor(rep(1:4,25)),method="exact"))
> 
> produces the error message 
> 
> Start:  AIC= 733.07 
>  Surv(1:100, rep(1, 100)) ~ factor(rep(1:4, 25)) 
> 
> Error in "[<-"(`*tmp*`, i + 1, , value = extractAIC(nfit, scale, k = k,  : 
>         number of items to replace is not a multiple of replacement length
> 
> The same code without specifying method 
> step(coxph(Surv(1:100,rep(1,100))~factor(rep(1:4,25))))
> 
> runs through, and gives what looks like a reasonable answer.  Thanks, John

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From ligges at statistik.uni-dortmund.de  Fri Mar  5 16:34:50 2004
From: ligges at statistik.uni-dortmund.de (ligges@statistik.uni-dortmund.de)
Date: Fri Mar  5 16:35:13 2004
Subject: [Rd] qnorm(2) ends with segmentation fault (PR#6648)
Message-ID: <20040305153450.688AB10425@slim.kubism.ku.dk>

linuxfavor@sohu.com wrote:

> Full_Name: Xiong Guanglei
> Version: 1.8.1
> OS: Linux
> Submission from: (NULL) (202.38.103.50)
> 
> 
> qnorm(x)
> when x>1.0

is not defined, hence Not a Number: NaN
Obviously not a bug.

Uwe Ligges


> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel

From andy_liaw at merck.com  Fri Mar  5 17:07:00 2004
From: andy_liaw at merck.com (Liaw, Andy)
Date: Fri Mar  5 17:07:46 2004
Subject: [Rd] qnorm(2) ends with segmentation fault (PR#6648)
Message-ID: <3A822319EB35174CA3714066D590DCD504AF7924@usrymx25.merck.com>

Which Linux is that, and is R compiled from source?  I tested both on SLES8
for amd64 and Mandrake 9 on Xeon, compiled R from source in both.  I just
get NaN and a warning about the NaN.  (I tried qnorm(2) as the subject
says.)

Andy

> From: linuxfavor@sohu.com
> 
> 
> Full_Name: Xiong Guanglei
> Version: 1.8.1
> OS: Linux
> Submission from: (NULL) (202.38.103.50)
> 
> 
> qnorm(x)
> when x>1.0
> 


------------------------------------------------------------------------------
Notice:  This e-mail message, together with any attachments,...{{dropped}}

From andy_liaw at merck.com  Fri Mar  5 17:08:06 2004
From: andy_liaw at merck.com (andy_liaw@merck.com)
Date: Fri Mar  5 17:08:18 2004
Subject: [Rd] qnorm(2) ends with segmentation fault (PR#6648)
Message-ID: <20040305160806.9938210419@slim.kubism.ku.dk>

Which Linux is that, and is R compiled from source?  I tested both on SLES8
for amd64 and Mandrake 9 on Xeon, compiled R from source in both.  I just
get NaN and a warning about the NaN.  (I tried qnorm(2) as the subject
says.)

Andy

> From: linuxfavor@sohu.com
> 
> 
> Full_Name: Xiong Guanglei
> Version: 1.8.1
> OS: Linux
> Submission from: (NULL) (202.38.103.50)
> 
> 
> qnorm(x)
> when x>1.0
> 


------------------------------------------------------------------------------
Notice:  This e-mail message, together with any attachments,...{{dropped}}

From feedback at dooyoo.it  Fri Mar  5 17:09:20 2004
From: feedback at dooyoo.it (feedback@dooyoo.it)
Date: Fri Mar  5 17:09:25 2004
Subject: [Rd] Conferma di ricezione messaggio da feedback@dooyoo.it
Message-ID: <200403051609.i25G9KN18928@mail.dooyoo.net>

Caro dooyooer

innanzitutto grazie per averci contattato, abbiamo ricevuto il tuo messaggio e cercheremo di risponderti al pi? presto.
Il numero d messaggio che riceviamo ? cosi grande che siamo costretti a gestire i tempi di risposta a seconda dell'urgenza delle vostre richieste.

Nel frattempo, se non lo avessi gi? fatto, ti invitiamo a leggere le FAQ: http://www.dooyoo.it/servlets/DooyooConnector?template=help potresti trovare la risposta che cercavi.

Grazie per la pazienza e la collaborazione.

dooyoo Team

From dmurdoch at pair.com  Fri Mar  5 17:16:12 2004
From: dmurdoch at pair.com (dmurdoch@pair.com)
Date: Fri Mar  5 17:16:22 2004
Subject: [Rd] error? at stem() (PR#6645)
Message-ID: <20040305161612.6055110426@slim.kubism.ku.dk>

On Thu,  4 Mar 2004 13:28:16 +0100 (CET), hamaoka@fbc.keio.ac.jp wrote
>I've found "stem()" falls into infinit loop when x has no variance.
Let's try
>
>x<-matrix(1,nrow=100,ncol=1)
>stem(x)

I get a different wrong answer in 1.8.1 for Windows:

> x<-matrix(1,nrow=100,ncol=1)
> stem(x)

  The decimal point is 9 digit(s) to the left of the |

  -214748360 |
-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8-8+20

No loop, but not right either.

The same results show up in r-patched and r-devel.

I'll try to track it down...

Duncan Murdoch

From ripley at stats.ox.ac.uk  Fri Mar  5 17:20:59 2004
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri Mar  5 17:21:15 2004
Subject: [Rd] error? at stem() (PR#6645)
In-Reply-To: <20040304122816.7961DFB94@slim.kubism.ku.dk>
Message-ID: <Pine.LNX.4.44.0403051617260.27240-100000@gannet.stats>

I don't get a loop on any of my machines, but the problem is integer 
overflow.  Note that

> stem(rep(1, 100), atom=1e-7)

  The decimal point is 8 digit(s) to the left of the |

  100000000 | 
00000000000000000000000000000000000000000000000000000000000000000000+20

> stem(rep(0.1, 100))

  The decimal point is 9 digit(s) to the left of the |

  100000000 | 
00000000000000000000000000000000000000000000000000000000000000000000+20

both work.

Of course, with exactly equality, one should do something more sensible, 
and I have done that in R-devel.


On Thu, 4 Mar 2004 hamaoka@fbc.keio.ac.jp wrote:

> Full_Name: Yutaka Hamaoka
> Version: 1.8.1(Raqua)
> OS: OSX 10.3
> Submission from: (NULL) (218.140.186.74)
> 
> 
> Hi,
> 
> I've found "stem()" falls into infinit loop when x has no variance. Let's try
> 
> x<-matrix(1,nrow=100,ncol=1)
> stem(x)
> 
> Then you will get infinit flow.
> 
>  The decimal point is 9 digit(s) to the left of the |
> 
>   -214748360 |
>   -214748358 |
>   -214748356 |
>   -214748354 |
>   -214748352 |
>   -214748350 |
>   -214748348 |
>   -214748346 |
>   -214748344 |
>   -214748342 |
> 
> 
> ....
> 
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
> 
> 

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From dmurdoch at pair.com  Fri Mar  5 17:41:43 2004
From: dmurdoch at pair.com (dmurdoch@pair.com)
Date: Fri Mar  5 17:42:56 2004
Subject: [Rd] error? at stem() (PR#6645)
Message-ID: <20040305164143.C7B7010425@slim.kubism.ku.dk>

Could you please check whether this works properly?

x<-matrix(1,nrow=100,ncol=1)
stem(x, atom=1.e-7)

The problem appears to be an integer overflow; this fixes it on my
system.

Duncan Murdoch

From maechler at stat.math.ethz.ch  Fri Mar  5 18:02:31 2004
From: maechler at stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Fri Mar  5 18:02:54 2004
Subject: [Rd] qnorm(2) ends with segmentation fault (PR#6648)
Message-ID: <20040305170231.3D65210425@slim.kubism.ku.dk>

>>>>> "XiGu" == linuxfavor  <linuxfavor@sohu.com>
>>>>>     on Fri,  5 Mar 2004 15:21:15 +0100 (CET) writes:

    XiGu> Full_Name: Xiong Guanglei Version: 1.8.1 OS: Linux
    XiGu> Submission from: (NULL) (202.38.103.50)


    XiGu> qnorm(x) when x>1.0

produces NaN (and a warning) for me --- as it should --- 
both in R 1.8.1 and  R-devel.

Can you give a bit more details about how you got your version
of R (binary / compiled yourself, ...)?

Do other people see seg.faults for
  qnorm(2) 
?

Regards,
Martin

From ripley at stats.ox.ac.uk  Fri Mar  5 18:17:53 2004
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri Mar  5 18:17:58 2004
Subject: [Rd] qnorm(2) ends with segmentation fault (PR#6648)
Message-ID: <20040305171753.628B210425@slim.kubism.ku.dk>

On Fri, 5 Mar 2004 ligges@statistik.uni-dortmund.de wrote:

> linuxfavor@sohu.com wrote:
> 
> > Full_Name: Xiong Guanglei
> > Version: 1.8.1
> > OS: Linux
> > Submission from: (NULL) (202.38.103.50)
> > 
> > 
> > qnorm(x)
> > when x>1.0
> 
> is not defined, hence Not a Number: NaN
> Obviously not a bug.

It is a bug if he gets a segfault, but I do not (and I suppose neither
does Uwe).  As the value is checked in src/nmath/dnorm.c, a segfault seems
to indicate a badly broken build of R.

So, what is meant by `Linux', and precisely what compilers, kernel and 
libc were used?

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From hamaoka at fbc.keio.ac.jp  Fri Mar  5 18:18:57 2004
From: hamaoka at fbc.keio.ac.jp (hamaoka@fbc.keio.ac.jp)
Date: Fri Mar  5 18:19:09 2004
Subject: [Rd] error? at stem() (PR#6645)
Message-ID: <20040305171857.3E75210425@slim.kubism.ku.dk>


>Could you please check whether this works properly?
>
>x<-matrix(1,nrow=100,ncol=1)
>stem(x, atom=1.e-7)
>
>The problem appears to be an integer overflow; this fixes it on my
>system.
>
>Duncan Murdoch

Here it is,

> x<-matrix(1,nrow=100,ncol=1)
> stem(x, atom=1.e-7)

The decimal point is 8 digit(s) to the left of the |

  100000000 | 
000000000000000000000000000000000000000000000000000000000000
00000000+20

YH

From MSchwartz at medanalytics.com  Fri Mar  5 18:23:23 2004
From: MSchwartz at medanalytics.com (Marc Schwartz)
Date: Fri Mar  5 18:23:37 2004
Subject: [Rd] qnorm(2) ends with segmentation fault (PR#6648)
In-Reply-To: <20040305153450.688AB10425@slim.kubism.ku.dk>
References: <20040305153450.688AB10425@slim.kubism.ku.dk>
Message-ID: <1078507403.6984.3.camel@localhost.localdomain>

On Fri, 2004-03-05 at 09:34, ligges@statistik.uni-dortmund.de wrote:
> linuxfavor@sohu.com wrote:
> 
> > Full_Name: Xiong Guanglei
> > Version: 1.8.1
> > OS: Linux
> > Submission from: (NULL) (202.38.103.50)
> > 
> > 
> > qnorm(x)
> > when x>1.0
> 
> is not defined, hence Not a Number: NaN
> Obviously not a bug.


Right, but it should not segfault, which it does not in Version 1.8.1
Patched (2004-03-04), so presumably this error has been trapped.

> qnorm(2)
[1] NaN
Warning message: 
NaNs produced in: qnorm(p, mean, sd, lower.tail, log.p) 

HTH,

Marc Schwartz

From p.dalgaard at biostat.ku.dk  Sat Mar  6 13:10:54 2004
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard)
Date: Sat Mar  6 13:10:58 2004
Subject: [Rd] Some timings for 64 bit Opteron (ATLAS, GOTO, std)
In-Reply-To: <16452.26647.280714.152654@gargle.gargle.HOWL>
References: <6rd6808lr2.fsf@bates4.stat.wisc.edu>
	<Pine.LNX.4.44.0402271819490.16912-100000@gannet.stats>
	<16452.26647.280714.152654@gargle.gargle.HOWL>
Message-ID: <x2brna18hd.fsf@biostat.ku.dk>

Martin Maechler <maechler@stat.math.ethz.ch> writes:

> ## gives
> ##                  ATLAS  GOTO   std
> ## boot-Ex          73.38 73.71 73.62
> ## nlme-Ex          31.92 34.18 31.91
> ## mgcv-Ex          29.20 31.69 29.35
> ## MASS-Ex          21.54 20.49 20.29
> ## stats-Ex         17.80 17.69 17.91
> ## lattice-Ex       11.38 11.37 11.05
> ## methods-Ex        6.87  6.53  6.58
> ## base-Ex           5.48  5.28  5.26
> ## graphics-Ex       4.71  4.73  4.70
> ## tools-Ex          3.86  3.66  3.82
> ## cluster-Ex        3.78  3.74  3.65
> ## utils-Ex          2.73  2.60  2.60
> ## p-r-random-tests  2.60  2.58  2.55
> ## survival-Ex       2.48  2.49  2.30
> ## ...
> ## .........

OK, I got around to check this on the Opteron240 system and got just
about the same + 50% which is expectable given the relative CPU
speeds:

                  ATLAS   GOTO    std
boot-Ex          107.63 115.68 105.55
nlme-Ex           55.00  55.28  48.73
mgcv-Ex           36.45  43.02  40.14
MASS-Ex           34.02  35.14  30.81
stats-Ex          27.44  28.12  27.76
lattice-Ex        18.16  19.06  19.05
methods-Ex         9.94   9.86  10.53
base-Ex            8.56   8.70   8.56
graphics-Ex        7.66   7.72   7.43
cluster-Ex         5.69   5.81   5.47
tools-Ex           4.76   4.57   4.81
utils-Ex           4.44   4.37   5.77
demos2             3.88   3.82   3.63
demos              3.71   3.73   3.46
survival-Ex        3.66   3.76   3.61
p-r-random-tests   3.47   3.50   3.47
...

(The system was supposedly idle, but KDE was running on the console so
maybe not quite... Also, the odd cron job may have passed by.)

So, basically the threaded and optimized BLAS's are NOPs for these
suites of standard tasks. The real teeth are not shown until you do
get to tasks which need hardcore numerics:

Plain, ATLAS, Goto in that order. Invert random 3000x3000 matrix

pd@linux:~/r-devel> for i in BUILD* ; do (cd $i ; time echo 'set.seed(1234);m<-matrix(rnorm(9e6),3e3);system.time(solve(m))'|bin/R --vanilla -q) ; done
> set.seed(1234);m<-matrix(rnorm(9e6),3e3);system.time(solve(m))
[1] 251.90   1.14 253.08   0.00   0.00
>

real    4m20.967s
user    4m19.431s
sys     0m1.537s
> set.seed(1234);m<-matrix(rnorm(9e6),3e3);system.time(solve(m))
[1]  3.86  1.10 27.24  0.00  0.00
>

real    0m35.633s
user    0m53.442s
sys     0m1.711s
> set.seed(1234);m<-matrix(rnorm(9e6),3e3);system.time(solve(m))
[1] 30.06  1.15 31.76  0.00  0.00
>

real    0m39.804s
user    0m42.220s
sys     0m1.621s

(Notice how system.time  gets the CPU usage wrong in the threaded
cases, worst so for ATLAS. Presumably, it is only counting one process
and in the ATLAS case, one that is mostly idle.)

So for matrix inversion, ATLAS seems to be a little faster than Goto
(at the expense of a higher CPU utilization, mind you: the Goto
version appears to be running nearly single-threaded). For matrix
multiply, we have Goto as the fastest:


pd@linux:~/r-devel> for i in BUILD* ; do (cd $i ; time echo 'set.seed(1234);m<-matrix(rnorm(9e6),3e3);system.time(m%*%m)'|bin/R --vanilla -q) ; done
> set.seed(1234);m<-matrix(rnorm(9e6),3e3);system.time(m%*%m)
[1] 230.20   0.10 230.36   0.00   0.00
>

real    3m58.639s
user    3m57.857s
sys     0m0.455s
> set.seed(1234);m<-matrix(rnorm(9e6),3e3);system.time(m%*%m)
[1]  0.34  0.01 16.49  0.00  0.00
>

real    0m25.253s
user    0m38.809s
sys     0m0.535s
> set.seed(1234);m<-matrix(rnorm(9e6),3e3);system.time(m%*%m)
[1] 12.94  0.08 13.06  0.00  0.00
>

real    0m21.629s
user    0m32.223s
sys     0m0.464s




-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

From linuxfavor at sohu.com  Sat Mar  6 15:00:32 2004
From: linuxfavor at sohu.com (linuxfavor@sohu.com)
Date: Sat Mar  6 15:00:32 2004
Subject: [Rd] as.matrix(1:10,nrow=1) not work (PR#6650)
Message-ID: <20040306140032.6AD65FB8F@slim.kubism.ku.dk>

Full_Name: Xiong Guanglei
Version: 1.8.1
OS: Linux
Submission from: (NULL) (202.38.103.50)


> as.matrix(1:10,nrow=1)
Error in as.matrix(1:10, nrow = 1) : unused argument(s) (nrow ...)

From p.dalgaard at biostat.ku.dk  Sat Mar  6 15:05:15 2004
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard)
Date: Sat Mar  6 15:05:24 2004
Subject: [Rd] as.matrix(1:10,nrow=1) not work (PR#6650)
In-Reply-To: <20040306140032.6AD65FB8F@slim.kubism.ku.dk>
References: <20040306140032.6AD65FB8F@slim.kubism.ku.dk>
Message-ID: <x27jxy136s.fsf@biostat.ku.dk>

linuxfavor@sohu.com writes:

> Full_Name: Xiong Guanglei
> Version: 1.8.1
> OS: Linux
> Submission from: (NULL) (202.38.103.50)
> 
> 
> > as.matrix(1:10,nrow=1)
> Error in as.matrix(1:10, nrow = 1) : unused argument(s) (nrow ...)

And? Try having a look at help(as.matrix)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

From ripley at stats.ox.ac.uk  Sat Mar  6 15:11:10 2004
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat Mar  6 15:11:56 2004
Subject: [Rd] as.matrix(1:10,nrow=1) not work (PR#6650)
In-Reply-To: <20040306140032.6AD65FB8F@slim.kubism.ku.dk>
Message-ID: <Pine.LNX.4.44.0403061405580.10990-100000@gannet.stats>

Why are you reporting your own error to R-bugs?
Do read the help page for as.matrix.

And, BTW, several people have asked you for further information on your 
last report (PR#6648), and you have not had the courtesy to reply.
Please do respond to those requests.

On Sat, 6 Mar 2004 linuxfavor@sohu.com wrote:

> Full_Name: Xiong Guanglei
> Version: 1.8.1
> OS: Linux
> Submission from: (NULL) (202.38.103.50)
> 
> 
> > as.matrix(1:10,nrow=1)
> Error in as.matrix(1:10, nrow = 1) : unused argument(s) (nrow ...)


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From ligges at statistik.uni-dortmund.de  Sat Mar  6 15:15:25 2004
From: ligges at statistik.uni-dortmund.de (ligges@statistik.uni-dortmund.de)
Date: Sat Mar  6 15:15:34 2004
Subject: [Rd] as.matrix(1:10,nrow=1) not work (PR#6650)
Message-ID: <20040306141525.7EA69EFC4@slim.kubism.ku.dk>

linuxfavor@sohu.com wrote:

> Full_Name: Xiong Guanglei
> Version: 1.8.1
> OS: Linux
> Submission from: (NULL) (202.38.103.50)
> 
> 
> 
>>as.matrix(1:10,nrow=1)
> 
> Error in as.matrix(1:10, nrow = 1) : unused argument(s) (nrow ...)


*Please*, don't send bug reports if you are using code erroneously!
Please ask on r-help instead!

as.matrix() does except exactly one argument, an object to be coerced to 
a matrix. That is documented! You are looking for  matrix() (without the 
"as.")!

Uwe Ligges

From ripley at stats.ox.ac.uk  Sat Mar  6 15:50:49 2004
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat Mar  6 15:51:01 2004
Subject: [Rd] Bug in plot.lm (PR#6640)
In-Reply-To: <20040303101116.373C1EDF6@slim.kubism.ku.dk>
Message-ID: <Pine.LNX.4.44.0403061449210.11101-100000@gannet.stats>

Thank you.  Unfortunately that fix is not complete, as you need also to 
fix up the labels.

A more complete fix has been put in the R-devel sources.

On Wed, 3 Mar 2004 berwin@maths.uwa.edu.au wrote:

> Dear all,
> 
> I noticed the following behaviour of plot.lm:
> 
> > fm1 <- lm(time~dist, data=hills, weights=c(0,0,rep(1,33)))
> > par(mfrow=c(2,2))
> > plot(fm1)
> Warning messages: 
> 1: longer object length
> 	is not a multiple of shorter object length in: res/(sd * (1 - hat)) 
> 2: longer object length
> 	is not a multiple of shorter object length in: (res/(sd * (1 - hat)))^2 * hat 
> 
> which seems to be undesirable.
> 
> The patch below seems to fix the problem.  At least, there is no more
> warning message and the output looks similar to the output from
> 
> > fm2 <- lm(time~dist, data=hills, subset= -(1:2) )
> > par(mfrow=c(2,2))
> > plot(fm2)
> 
> Cheers,
>         
>         Berwin
> 
> *** plot.lm.R.orig      Fri Aug 15 22:13:08 2003
> --- plot.lm.R   Wed Mar  3 18:05:34 2004
> ***************
> *** 16,32 ****
>       show <- rep(FALSE, 4)
>       show[which] <- TRUE
>       r <- residuals(x)
> -     n <- length(r)
>       yh <- predict(x) # != fitted() for glm
>       if (any(show[2:4])) {
>           s <- if(inherits(x, "rlm")) x$s else sqrt(deviance(x)/df.residual(x))
>           hii <- lm.influence(x, do.coef=FALSE)$hat
>       }
>       if (any(show[2:3])) {
>           ylab23 <- if(isGlm) "Std. deviance resid." else "Standardized residuals"
> -         w <- weights(x)
>           # r.w := weighted.residuals(x):
> !         r.w <- if(is.null(w)) r else (sqrt(w)*r)[w!=0]
>           rs <- r.w/(s * sqrt(1 - hii))
>       }
>       if (any(show[c(1,3)]))
> --- 16,38 ----
>       show <- rep(FALSE, 4)
>       show[which] <- TRUE
>       r <- residuals(x)
>       yh <- predict(x) # != fitted() for glm
> +     w <- weights(x)
> +     if(!is.null(w)){
> +       wind <- w!=0
> +       r <- r[wind]
> +       yh <- yh[wind]
> +       w <- w[wind]
> +     }
> +     n <- length(r)
>       if (any(show[2:4])) {
>           s <- if(inherits(x, "rlm")) x$s else sqrt(deviance(x)/df.residual(x))
>           hii <- lm.influence(x, do.coef=FALSE)$hat
>       }
>       if (any(show[2:3])) {
>           ylab23 <- if(isGlm) "Std. deviance resid." else "Standardized residuals"
>           # r.w := weighted.residuals(x):
> !         r.w <- if(is.null(w)) r else (sqrt(w)*r)
>           rs <- r.w/(s * sqrt(1 - hii))
>       }
>       if (any(show[c(1,3)]))
> ***************
> *** 39,46 ****
>             stop("`id.n' must be in {1,..,",n,"}")
>       }
>       if(id.n > 0) { ## label the largest residuals
> !         if(is.null(labels.id))
> !             labels.id <- paste(1:n)
>           iid <- 1:id.n
>         show.r <- sort.list(abs(r), decreasing = TRUE)[iid]
>           if(any(show[2:3]))
> --- 45,55 ----
>             stop("`id.n' must be in {1,..,",n,"}")
>       }
>       if(id.n > 0) { ## label the largest residuals
> !         if(is.null(labels.id)){
> !           labels.id <- paste(1:n)
> !         }else if(!is.null(w) && length(labels.id)!=n){
> !           labels.id <- labels.id[wind]
> !         }
>           iid <- 1:id.n
>         show.r <- sort.list(abs(r), decreasing = TRUE)[iid]
>           if(any(show[2:3]))
> 
>         
> --please do not edit the information below--
> 
> Version:
>  platform = i686-pc-linux-gnu
>  arch = i686
>  os = linux-gnu
>  system = i686, linux-gnu
>  status = 
>  major = 1
>  minor = 8.1
>  year = 2003
>  month = 11
>  day = 21
>  language = R
> 
> Search Path:
>  .GlobalEnv, package:DAAG, package:MASS, package:methods, package:ctest, package:mva, package:modreg, package:nls, package:ts, Autoloads, package:base
> 
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
> 
> 

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From dmurdoch at pair.com  Sun Mar  7 05:18:43 2004
From: dmurdoch at pair.com (Duncan Murdoch)
Date: Sun Mar  7 05:18:44 2004
Subject: [Rd] automatic "paste" filter to paste only the commands
Message-ID: <788l40hd78cv0qef9ro56iv3n6t3gr08q6@4ax.com>

Back in January, Tony Plate wrote this:

> >Just for fun (and actually because I would use it too) I wrote a
> >version of the "paste" menu command that assumes the clipboard
> >contains a transcript, and just pastes the commands from it into
> >the R console window (Windows GUI only).
> >
> >So, if something like this:
> >
> > > foo <-
> >+ 33
> > > foo * 3
> >[1] 99
> > > foo
> >[1] 33
> >
> >is on the clipboard, then the "paste commands" menu command will just paste
> >
> >foo <-
> >33
> >foo * 3
> >foo
> >
> >into the console window. (Resulting in this case in the original contents
> >of the clipboard being reproduced in the console window.)
> >
> >Is anyone interested in having this functionality in R?
> >
> >If there's enough interest in this to incorporate it into R, I'll package it
> >up as a patch (I did it in R 1.8.1).  (BTW, I only implemented it for the
> >Windows GUI, but it was pretty simple, so I'm sure if there's much
> >interest someone could easily port it to other GUIs).

I asked Tony to package this up, and he did so.  Tonight I committed
the code to r-devel, so it should show up in 1.9.0.

I'd appreciate it if people would try out the new code, which shows up
as new entries in the Edit and popup menus in the console and the file
viewing windows.  It's easy to overlook something when fiddling with
the GUI.

This will show up by Monday in the binary builds that appear on CRAN.
Remember to follow the link to the development build.

Duncan Murdoch

From p.dalgaard at biostat.ku.dk  Sun Mar  7 22:39:37 2004
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard)
Date: Sun Mar  7 22:39:46 2004
Subject: [Rd] Alpha releases of 1.9.0 available
Message-ID: <x2llmcz692.fsf@biostat.ku.dk>

As the subject says, the first alpha release of R 1.9.0 is now
available from

http://cran.us.r-project.org/src/base/R-1.9.0alpha_2004-03-07.tar.gz

Subsequent alpha and beta releases will be made daily at 5 am local
Wisconsin time (==11 am UTC).

Notice that although these releases are mirrored to the rest of CRAN,
mirrors may have the preceding version due to propagation delay, so do
check against the US site before downloading from a mirror.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

From berwin at maths.uwa.edu.au  Mon Mar  8 09:17:51 2004
From: berwin at maths.uwa.edu.au (berwin@maths.uwa.edu.au)
Date: Mon Mar  8 09:17:50 2004
Subject: [Rd] Bug in points.formula (PR#6652)
Message-ID: <20040308081751.5C872EFB2@slim.kubism.ku.dk>

Dear all,

I noticed the following bug in points.formula

> library(DAAG)
> data(roller)
> fm <- lm(depression ~ weight, data=roller)
> plot( depression ~ weight, data=roller, type="n")
> abline(fm)
> attach(roller)
> points( depression~weight, subset=1:7)
> points( depression~weight, subset=8:10, col="blue")
Error in if (length(x) == l) x[s] else x : 
	argument is of length zero

This seems to be due to the fact that the data used was attached
before the call and not specified in the call via the "data"
argument.  The following patch seems to fix the problem.

Cheers,

        Berwin

diff -c /home/berwin/lang/R/Courses/3S6/plot.R.orig /home/berwin/lang/R/Courses/3S6/plot.R
*** /home/berwin/lang/R/Courses/3S6/plot.R.orig	Tue Sep  2 23:43:42 2003
--- /home/berwin/lang/R/Courses/3S6/plot.R	Mon Mar  8 16:06:32 2004
***************
*** 312,318 ****
      mf <- eval(m, parent.frame())
      if (!missing(subset)) {
  	s <- eval(m$subset, data, parent.frame())
! 	l <- nrow(data)
  	dosub <- function(x) if (length(x) == l) x[s] else x
  	dots <- lapply(dots, dosub)
      }
--- 312,320 ----
      mf <- eval(m, parent.frame())
      if (!missing(subset)) {
  	s <- eval(m$subset, data, parent.frame())
!         mtmp <- m
!         mtmp$subset <- NULL
! 	l <- nrow(eval(mtmp, parent.frame()))
  	dosub <- function(x) if (length(x) == l) x[s] else x
  	dots <- lapply(dots, dosub)
      }



--please do not edit the information below--

Version:
 platform = i686-pc-linux-gnu
 arch = i686
 os = linux-gnu
 system = i686, linux-gnu
 status = 
 major = 1
 minor = 8.1
 year = 2003
 month = 11
 day = 21
 language = R

Search Path:
 .GlobalEnv, roller, package:DAAG, package:methods, package:ctest, package:mva, package:modreg, package:nls, package:ts, Autoloads, package:base

From stefano.iacus at unimi.it  Mon Mar  8 09:31:54 2004
From: stefano.iacus at unimi.it (stefano iacus)
Date: Mon Mar  8 09:31:54 2004
Subject: [Rd] R-1.9.0-alpha (macosx with Aqua GUI)
Message-ID: <0E601C88-70DB-11D8-B676-000A95C87F66@unimi.it>

A first preview of R-1.9.0-alpha is available at 
http://www.economia.unimi.it/R and it is a framework build.

This version includes all the supported .dylibs needed to run R itself 
apart for the tcl/tk libs that can be installed according to what the 
same page says. But you don't need to install these last if you are 
upgrading from RAqua 1.8.1

please report GUI strangeness/bug as soon as you can. Jaguar testing is 
also welcomed.

stefano

From maechler at stat.math.ethz.ch  Mon Mar  8 10:37:48 2004
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon Mar  8 10:37:43 2004
Subject: [Rd] as.dist() too tolerant
Message-ID: <16460.16108.250229.765631@gargle.gargle.HOWL>

The current documentation for  as.dist()  contains

>> Usage:
>> 
>>      as.dist(m, diag = FALSE, upper = FALSE)
>> 
>> 
>> Arguments:
>> 
>>        m: A matrix of distances to be converted to a '"dist"' object
>>           (only the lower triangle is used, the rest is ignored).

and indeed, as.dist(m) currently takes almost anything for which
as.matrix(m) works and returns its lower triangle without a
warning even in several non-sense situations, such as

- non-numeric
- non-square     
- non-symmetric matrices (or data frames eg.).

(where I can see arguments why it can be useful in this third case,
 to just ignore everything in the upper triangle)

E.g.,

  m <- cbind(1,7,1:4)
  cm <- paste(m,"p", sep="") ; dim(cm) <- dim(m) ; cm
  d <- as.dist(cm) ## --> no warning, but complete non-sense
  d # Printing now gives 
  ##  Error in df + t(df) : non-numeric argument to binary operator

So, adding something like  as.numeric(.) somewhere is definitely
wanted.
However, I wonder if we shouldn't also change the 
  "(only the lower triangle is used, the rest is ignored)"
part in the documentation and augment the code
by at least give warnings in some cases {e.g. the non-square ones}.

Opinions?

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

From maechler at stat.math.ethz.ch  Mon Mar  8 12:43:57 2004
From: maechler at stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Mon Mar  8 12:43:58 2004
Subject: [Rd] Bug in points.formula (PR#6652)
Message-ID: <20040308114357.384B0EDF2@slim.kubism.ku.dk>

>>>>> "BeT" == Berwin A Turlach <berwin@maths.uwa.edu.au>
>>>>>     on Mon,  8 Mar 2004 09:17:51 +0100 (CET) writes:

    BeT> Dear all, I noticed the following bug in points.formula

    <...>
    BeT> Error in if (length(x) == l) x[s] else x : argument is
    BeT> of length zero

Thank you, Berwin.
The bug is still present in current "R-1.9.0 alpha"
and can be demonstrated with the slightly simpler code

roller <-
    data.frame(weight = c(1.9, 3.1, 3.3, 4.8, 5.3, 6.1, 6.4, 7.6, 9.8, 12.4),
               depression = c(2, 1, 5, 5, 20, 20, 23, 10, 30, 25))
plot( depression ~ weight, data=roller, type="n")
with(roller, points( depression~weight, subset=1:7 )) # ok
with(roller, points( depression~weight, subset=8:10)) # ok
with(roller, points( depression~weight, subset=8:10, col=2))## --> Error

    BeT> This seems to be due to the fact that the data used was
    BeT> attached before the call and not specified in the call
    BeT> via the "data" argument. 

Yes, using "data =" doesn't show the problem,
but as you see, the problem also shows for the more recommended
way of using with() instead of attach()..

    BeT> The following patch seems to fix the problem.

*** /home/berwin/lang/R/Courses/3S6/plot.R.orig	Tue Sep  2 23:43:42 2003
--- /home/berwin/lang/R/Courses/3S6/plot.R	Mon Mar  8 16:06:32 2004
***************
*** 312,318 ****
      mf <- eval(m, parent.frame())
      if (!missing(subset)) {
  	s <- eval(m$subset, data, parent.frame())
! 	l <- nrow(data)
  	dosub <- function(x) if (length(x) == l) x[s] else x
  	dots <- lapply(dots, dosub)
      }
--- 312,320 ----
      mf <- eval(m, parent.frame())
      if (!missing(subset)) {
  	s <- eval(m$subset, data, parent.frame())
!         mtmp <- m
!         mtmp$subset <- NULL
! 	l <- nrow(eval(mtmp, parent.frame()))
  	dosub <- function(x) if (length(x) == l) x[s] else x
  	dots <- lapply(dots, dosub)
      }

-------------------

Yes, but the resulting code becomes even more ugly.
doing a second  eval(m, ..) just with a slightly modified 'm'...

Though I'll have to leave it to others to find if there is a
better patch...

Thanks again, Berwin!
Martin

From ripley at stats.ox.ac.uk  Mon Mar  8 13:46:16 2004
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon Mar  8 13:46:17 2004
Subject: [Rd] Bug in points.formula (PR#6652)
In-Reply-To: <20040308114357.384B0EDF2@slim.kubism.ku.dk>
Message-ID: <Pine.LNX.4.44.0403081235330.6205-100000@gannet.stats>

What I think we need is the number of rows of the model frame *before
subsetting*, so that any further arguments (and there are none such in
Martin's example) of the same length as the response get subsetted.

Berwin's fix is ugly, and I think it can be avoided by using model.frame
to do the work by manipulating ... rather carefully so e.g. col gets read 
from the model frame and hence subsetted -- that would also allow col to 
be written in terms of other variables in the model frame.

I need to spend more time thinking about this in detail.

Brian

On Mon, 8 Mar 2004 maechler@stat.math.ethz.ch wrote:

> >>>>> "BeT" == Berwin A Turlach <berwin@maths.uwa.edu.au>
> >>>>>     on Mon,  8 Mar 2004 09:17:51 +0100 (CET) writes:
> 
>     BeT> Dear all, I noticed the following bug in points.formula
> 
>     <...>
>     BeT> Error in if (length(x) == l) x[s] else x : argument is
>     BeT> of length zero
> 
> Thank you, Berwin.
> The bug is still present in current "R-1.9.0 alpha"
> and can be demonstrated with the slightly simpler code
> 
> roller <-
>     data.frame(weight = c(1.9, 3.1, 3.3, 4.8, 5.3, 6.1, 6.4, 7.6, 9.8, 12.4),
>                depression = c(2, 1, 5, 5, 20, 20, 23, 10, 30, 25))
> plot( depression ~ weight, data=roller, type="n")
> with(roller, points( depression~weight, subset=1:7 )) # ok
> with(roller, points( depression~weight, subset=8:10)) # ok
> with(roller, points( depression~weight, subset=8:10, col=2))## --> Error
> 
>     BeT> This seems to be due to the fact that the data used was
>     BeT> attached before the call and not specified in the call
>     BeT> via the "data" argument. 
> 
> Yes, using "data =" doesn't show the problem,
> but as you see, the problem also shows for the more recommended
> way of using with() instead of attach()..
> 
>     BeT> The following patch seems to fix the problem.
> 
> *** /home/berwin/lang/R/Courses/3S6/plot.R.orig	Tue Sep  2 23:43:42 2003
> --- /home/berwin/lang/R/Courses/3S6/plot.R	Mon Mar  8 16:06:32 2004
> ***************
> *** 312,318 ****
>       mf <- eval(m, parent.frame())
>       if (!missing(subset)) {
>   	s <- eval(m$subset, data, parent.frame())
> ! 	l <- nrow(data)
>   	dosub <- function(x) if (length(x) == l) x[s] else x
>   	dots <- lapply(dots, dosub)
>       }
> --- 312,320 ----
>       mf <- eval(m, parent.frame())
>       if (!missing(subset)) {
>   	s <- eval(m$subset, data, parent.frame())
> !         mtmp <- m
> !         mtmp$subset <- NULL
> ! 	l <- nrow(eval(mtmp, parent.frame()))
>   	dosub <- function(x) if (length(x) == l) x[s] else x
>   	dots <- lapply(dots, dosub)
>       }
> 
> -------------------
> 
> Yes, but the resulting code becomes even more ugly.
> doing a second  eval(m, ..) just with a slightly modified 'm'...
> 
> Though I'll have to leave it to others to find if there is a
> better patch...
> 
> Thanks again, Berwin!
> Martin
> 
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
> 
> 

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From stephane.gourichon at lip6.fr  Mon Mar  8 13:58:40 2004
From: stephane.gourichon at lip6.fr (stephane.gourichon@lip6.fr)
Date: Mon Mar  8 13:58:40 2004
Subject: [Rd] R search engine broken (PR#6653)
Message-ID: <20040308125840.3773810428@slim.kubism.ku.dk>

Full_Name: St?phane Gourichon
Version: R 1.7.1 (2003-06-16).
OS: GNU/Linux
Submission from: (NULL) (132.227.205.226)


The HTML help is great. But the search engine is broken.
It used to work in Galeon 1.x, not Konqueror 3.0 .

Now it doesn't work, neither on Mozilla 1.6 / Firebird 0.6 / Firefox 0.8 nor
Konqueror 3.2 which are IMHO the latest versions of those advanced,
standard-compliant browsers.

Sorry I don't know a lot of JavaScript. I don't know quite if this is a security
feature that prevents it from working, or the use of non-standard JavaScript
features, or maybe a broken script that happens to work by accident on some
navigators.

Anyway, I can use help.search() and I do. But I think R deserves a working
good-looking search engine. So I write this bug report to suggest investigating
about it.

Have you considered an on-line, server-based search engine ? This would
definitely solve the problem, (at least for thse who have Internet access).

Thanks a lot.

From ripley at stats.ox.ac.uk  Mon Mar  8 14:24:02 2004
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon Mar  8 14:24:01 2004
Subject: [Rd] R search engine broken (PR#6653)
In-Reply-To: <20040308125840.3773810428@slim.kubism.ku.dk>
Message-ID: <Pine.WNT.4.44.0403081304300.3032-100000@gannet.stats.ox.ac.uk>

This has been discussed many times on R-help, which would have been a more
appropriate forum,

The issue appears to be not R, not JavaScript but Java.  The latest Sun
JVM, 1.4.2_03, does not work for us, but 1.4.2_01 does (if you can get hold
of it) and for me under Linux 1.4.2_02 does not.  You can use earlier
versions of Java, but not as plugins for browsers compiled under gcc 3.x.

On Mon, 8 Mar 2004 stephane.gourichon@lip6.fr wrote:

> Full_Name: Stphane Gourichon
> Version: R 1.7.1 (2003-06-16).

Time for an update?

> OS: GNU/Linux

That's nowhere near specific enough for such issues.

> Submission from: (NULL) (132.227.205.226)
>
>
> The HTML help is great. But the search engine is broken.
> It used to work in Galeon 1.x, not Konqueror 3.0 .
>
> Now it doesn't work, neither on Mozilla 1.6 / Firebird 0.6 / Firefox 0.8 nor
> Konqueror 3.2 which are IMHO the latest versions of those advanced,
> standard-compliant browsers.
>
> Sorry I don't know a lot of JavaScript. I don't know quite if this is a security
> feature that prevents it from working, or the use of non-standard JavaScript
> features, or maybe a broken script that happens to work by accident on some
> navigators.

So please follow the advice in the FAQ and do not speculate.  It is
probably the common factor you have missed, your Java installation.

> Anyway, I can use help.search() and I do. But I think R deserves a working
> good-looking search engine. So I write this bug report to suggest investigating
> about it.
>
> Have you considered an on-line, server-based search engine ? This would
> definitely solve the problem, (at least for thse who have Internet access).

We do provide help.search(), which does solve the problem.  The next
release points that out on the Java search engine page.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From p.dalgaard at biostat.ku.dk  Mon Mar  8 14:34:13 2004
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard)
Date: Mon Mar  8 14:34:45 2004
Subject: [Rd] Bug in points.formula (PR#6652)
In-Reply-To: <Pine.LNX.4.44.0403081235330.6205-100000@gannet.stats>
References: <Pine.LNX.4.44.0403081235330.6205-100000@gannet.stats>
Message-ID: <x21xo3o42y.fsf@biostat.ku.dk>

Prof Brian Ripley <ripley@stats.ox.ac.uk> writes:

> What I think we need is the number of rows of the model frame *before
> subsetting*, so that any further arguments (and there are none such in
> Martin's example) of the same length as the response get subsetted.
> 
> Berwin's fix is ugly, and I think it can be avoided by using model.frame
> to do the work by manipulating ... rather carefully so e.g. col gets read 
> from the model frame and hence subsetted -- that would also allow col to 
> be written in terms of other variables in the model frame.
> 
> I need to spend more time thinking about this in detail.

It's a can of worms... It opens up the whole nonstandard evaluation
mess again. One problem is that a "col" (or pch or cex, etc) of
length one might not be in "data" (I remember Brian at the time being
a source of good arguments as to why you might want it to be so).
Another is that short vectors may be intended to be recycled (this is
a bit tenuous, but it was put forward at the time and is the reason
why the code doesn't just test for length one args). 

Actually Berwin's fix is not too bad (at least it is to the point),
and I suggest we use it for now rather than try to wrestle the entire
beast (umm, can of worms...). If we want to keep some clarity, we can
keep what we have and special-case is.null(l).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

From p.dalgaard at biostat.ku.dk  Mon Mar  8 14:35:09 2004
From: p.dalgaard at biostat.ku.dk (p.dalgaard@biostat.ku.dk)
Date: Mon Mar  8 14:35:10 2004
Subject: [Rd] Bug in points.formula (PR#6652)
Message-ID: <20040308133509.712CBEFC2@slim.kubism.ku.dk>

Prof Brian Ripley <ripley@stats.ox.ac.uk> writes:

> What I think we need is the number of rows of the model frame *before
> subsetting*, so that any further arguments (and there are none such in
> Martin's example) of the same length as the response get subsetted.
> 
> Berwin's fix is ugly, and I think it can be avoided by using model.frame
> to do the work by manipulating ... rather carefully so e.g. col gets read 
> from the model frame and hence subsetted -- that would also allow col to 
> be written in terms of other variables in the model frame.
> 
> I need to spend more time thinking about this in detail.

It's a can of worms... It opens up the whole nonstandard evaluation
mess again. One problem is that a "col" (or pch or cex, etc) of
length one might not be in "data" (I remember Brian at the time being
a source of good arguments as to why you might want it to be so).
Another is that short vectors may be intended to be recycled (this is
a bit tenuous, but it was put forward at the time and is the reason
why the code doesn't just test for length one args). 

Actually Berwin's fix is not too bad (at least it is to the point),
and I suggest we use it for now rather than try to wrestle the entire
beast (umm, can of worms...). If we want to keep some clarity, we can
keep what we have and special-case is.null(l).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

From stephane.gourichon at lip6.fr  Mon Mar  8 14:55:42 2004
From: stephane.gourichon at lip6.fr (=?iso-8859-1?q?St=E9phane=20Gourichon?=)
Date: Mon Mar  8 14:55:44 2004
Subject: [Rd] R search engine broken (PR#6653)
In-Reply-To: <Pine.WNT.4.44.0403081304300.3032-100000@gannet.stats.ox.ac.uk>
References: <Pine.WNT.4.44.0403081304300.3032-100000@gannet.stats.ox.ac.uk>
Message-ID: <200403081455.43502.stephane.gourichon@lip6.fr>

Le lundi 8 Mars 2004 14:24, Prof Brian D Ripley a ?crit :
> This has been discussed many times on R-help, which would have been a more
> appropriate forum,

Oh, sorry. 
I did check for bugs (closed or open) about this before posting, of course.

> The issue appears to be not R, not JavaScript but Java.  The latest Sun
> JVM, 1.4.2_03, does not work for us, but 1.4.2_01 does (if you can get hold
> of it) and for me under Linux 1.4.2_02 does not.  You can use earlier
> versions of Java, but not as plugins for browsers compiled under gcc 3.x.

Thanks for the tip. If a Linux-specific FAQ existed it would include it.

> On Mon, 8 Mar 2004 stephane.gourichon@lip6.fr wrote:
> > Full_Name: St?phane Gourichon
> > Version: R 1.7.1 (2003-06-16).
>
> Time for an update?

Ah yes, I see 1.8.1 is available and even with Mandrake. Thanks.
I'm downloading it now.

> > OS: GNU/Linux
>
> That's nowhere near specific enough for such issues.

Yes, you're quite right. I was focused on platform-neutral issues.

> So please follow the advice in the FAQ and do not speculate.  It is
> probably the common factor you have missed, your Java installation.

(It's a pity that Java seems rarely to work out-of-the box on installing a 
Free OS, especially in browsers.)

I can't find anything about the search engine on 
http://cran.r-project.org/doc/FAQ/R-FAQ.html

Ah, I see it. It is in the Windows-specific FAQ. 

May I suggest to make this an item in the generic FAQ since Java and 
Javascript are meant to be platform-neutral languages and the problem is not 
platform-specific ?

Also, I would suggest that the FAQ includes the wording "search engine" and 
not only "search system", because it is how the page is actually names. I 
think many people falling on that issue look for those words ("search" occurs 
many times in the FAQ).

> > Have you considered an on-line, server-based search engine ? This would
> > definitely solve the problem, (at least for thse who have Internet
> > access).
>
> We do provide help.search(), which does solve the problem.  
> The next 
> release points that out on the Java search engine page.

Yes, the search page itself is the best place to notify the user.

(Just an idea : the JavaScript code would perform return value check for the 
proper start of the java part and display a message on failure ? I don't know 
if it's possible, though.

  line = line + document.SearchEngine.search (searchTerm,
                                        searchDesc=="1",
                                        searchKeywords=="1",
                                        searchAliases=="1");
)

-- 
St?phane Gourichon - Labo. d'Informatique de Paris 6 - AnimatLab
http://animatlab.lip6.fr/ - philo du dimanche http://amphi-gouri.org/

? La meilleure fa?on de pr?dire l'avenir, c'est de le cr?er ? Peter Drucker

From MSchwartz at medanalytics.com  Mon Mar  8 15:37:08 2004
From: MSchwartz at medanalytics.com (Marc Schwartz)
Date: Mon Mar  8 18:48:43 2004
Subject: [Rd] R search engine broken (PR#6653)
In-Reply-To: <Pine.WNT.4.44.0403081304300.3032-100000@gannet.stats.ox.ac.uk>
References: <Pine.WNT.4.44.0403081304300.3032-100000@gannet.stats.ox.ac.uk>
Message-ID: <1078756628.6984.151.camel@localhost.localdomain>

On Mon, 2004-03-08 at 07:24, Prof Brian D Ripley wrote:
> This has been discussed many times on R-help, which would have been a more
> appropriate forum,
> 
> The issue appears to be not R, not JavaScript but Java.  The latest Sun
> JVM, 1.4.2_03, does not work for us, but 1.4.2_01 does (if you can get hold
> of it) and for me under Linux 1.4.2_02 does not.  You can use earlier
> versions of Java, but not as plugins for browsers compiled under gcc 3.x.


To add to Prof. Ripley's comments, I have copied the requisite j2re
files to my web server so that they can be made available to the
community.

I located version 1.4.2_01 on a mirror this morning, though it was
rather slow in downloading.

The two files are:

http://www.MedAnalytics.com/j2re-1_4_2_01-linux-i586.bin
http://www.MedAnalytics.com/j2re-1_4_2_01-linux-i586-rpm.bin

I also put an md5sum file here:

http://www.MedAnalytics.com/MD5SUM

You only need ONE of the above, depending upon whether you have a system
that supports RPM packages or otherwise have a personal preference.

Installation help is available here from Sun:

http://www.java.com/en/download/help/linux_install.jsp

The RPM will install java and the browser plugins here:

/usr/java/j2re1.4.2_01/plugin/i386


Once you have one of the above installed, you then need to create a
symlink to the browser plugin. I have found that doing this in my local
home directory is easier than doing it in the mozilla version specific
directory. As a result, in ~/.mozilla/plugins, use the following
command:

ln -s path_to_java/plugin/i386/ns610-gcc32/libjavaplugin_oji.so

Replace 'path_to_java' with the actual installation path and if you are
not using a gcc3.x system, change the 'ns610-gcc32' to 'ns610'.

Doing it this way, the plugin will work for both Mozilla and Firefox.

Once you have completed the install, go here to test the browser plugin:

http://www.java.com/en/download/help/testvm.jsp

You can then test the R help.start() search engine. If this has been
done properly, you should see "Applet SearchEngine started" in the lower
left hand corner of the browser status bar, when you select the Search
Engine link on the initial page.

I don't know if it may be reasonable or appropriate to copy these to
CRAN. If not, I can leave them on my site until further notice. I tested
the download speed and was getting >300 kbps, so as long as the site
does not get "slashdotted" it should be OK...  :-)

HTH,

Marc Schwartz

From MSchwartz at medanalytics.com  Mon Mar  8 15:37:50 2004
From: MSchwartz at medanalytics.com (MSchwartz@medanalytics.com)
Date: Mon Mar  8 19:16:44 2004
Subject: [Rd] R search engine broken (PR#6653)
Message-ID: <20040308143750.6549010425@slim.kubism.ku.dk>

On Mon, 2004-03-08 at 07:24, Prof Brian D Ripley wrote:
> This has been discussed many times on R-help, which would have been a more
> appropriate forum,
> 
> The issue appears to be not R, not JavaScript but Java.  The latest Sun
> JVM, 1.4.2_03, does not work for us, but 1.4.2_01 does (if you can get hold
> of it) and for me under Linux 1.4.2_02 does not.  You can use earlier
> versions of Java, but not as plugins for browsers compiled under gcc 3.x.


To add to Prof. Ripley's comments, I have copied the requisite j2re
files to my web server so that they can be made available to the
community.

I located version 1.4.2_01 on a mirror this morning, though it was
rather slow in downloading.

The two files are:

http://www.MedAnalytics.com/j2re-1_4_2_01-linux-i586.bin
http://www.MedAnalytics.com/j2re-1_4_2_01-linux-i586-rpm.bin

I also put an md5sum file here:

http://www.MedAnalytics.com/MD5SUM

You only need ONE of the above, depending upon whether you have a system
that supports RPM packages or otherwise have a personal preference.

Installation help is available here from Sun:

http://www.java.com/en/download/help/linux_install.jsp

The RPM will install java and the browser plugins here:

/usr/java/j2re1.4.2_01/plugin/i386


Once you have one of the above installed, you then need to create a
symlink to the browser plugin. I have found that doing this in my local
home directory is easier than doing it in the mozilla version specific
directory. As a result, in ~/.mozilla/plugins, use the following
command:

ln -s path_to_java/plugin/i386/ns610-gcc32/libjavaplugin_oji.so

Replace 'path_to_java' with the actual installation path and if you are
not using a gcc3.x system, change the 'ns610-gcc32' to 'ns610'.

Doing it this way, the plugin will work for both Mozilla and Firefox.

Once you have completed the install, go here to test the browser plugin:

http://www.java.com/en/download/help/testvm.jsp

You can then test the R help.start() search engine. If this has been
done properly, you should see "Applet SearchEngine started" in the lower
left hand corner of the browser status bar, when you select the Search
Engine link on the initial page.

I don't know if it may be reasonable or appropriate to copy these to
CRAN. If not, I can leave them on my site until further notice. I tested
the download speed and was getting >300 kbps, so as long as the site
does not get "slashdotted" it should be OK...  :-)

HTH,

Marc Schwartz

From Atorres at dfg.ca.gov  Tue Mar  9 01:26:07 2004
From: Atorres at dfg.ca.gov (Atorres@dfg.ca.gov)
Date: Tue Mar  9 01:26:18 2004
Subject: [Rd] Re: Your text (PR#6655)
Message-ID: <20040309002607.82905FB93@slim.kubism.ku.dk>

I will be taking a leave from the Department of Fish and Game on April
30.

After this date, PLM Program and other deer program questions should be
directed to Craig Stowers at (916) 445-3553 or cstowers@dfg.ca.gov.

My new email address is ajtorres@ucdavis.edu.

From Mark.Bravington at csiro.au  Tue Mar  9 06:52:31 2004
From: Mark.Bravington at csiro.au (Mark.Bravington@csiro.au)
Date: Tue Mar  9 06:52:49 2004
Subject: [Rd] update forgets about offset() (PR#6656)
Message-ID: <20040309055231.41776FB8C@slim.kubism.ku.dk>

In R1.7 and above (including R 1.9 alpha), 'update.formula' forgets to copy any offset(...) term in the original '.' formula:

test> df <- data.frame( x=1:4, y=sqrt( 1:4), z=c(2:4,1))
test> fit1 <- glm( y~offset(x)+z, data=df)
test> fit1$call
glm(formula = y ~ offset(x) + z, data = df)

test> fit1u <- update( fit1, ~.)
test> fit1u$call
glm(formula = y ~ z, data = df)


The problem occurs when 'update.formula' calls 'terms.formula(..., simplify=TRUE)' which defines and calls a function 'fixFormulaObject'. The first line of 'fixFormulaObject' attempts to extract the contents of the RHS of the formula via 

tmp <- attr(terms(object), "term.labels")

but this omits any offsets. Replacing that line with the following, which I think pulls in everything except the response, *seems* to fix the problem without disrupting the guts of 'terms' itself:

tmp <- dimnames( attr(terms(object), "factors"))[[1]][ -attr( terms, 'response')]

The suggested line might be simpler than checking the 'offset' component of 'terms(object)', which won't always exist.

Footnote: strange things happen when there is more than one offset (OK, there probably shouldn't be, but I thought I'd experiment):

test> fit2 <- glm( y ~ offset( x) + offset( log( x)) + z, data=df)
test> fit2$call
glm(formula = y ~ offset(x) + offset(log(x)) + z, data = df)

test> fit2u <- update( fit2, ~.)
test> fit2u$call
glm(formula = y ~ offset(log(x)) + z, data = df)

Curiously, the 'term.labels' attribute of 'terms(object)' now includes the second offset, but  not the first.


*******************************

Mark Bravington
CSIRO (CMIS)
PO Box 1538
Castray Esplanade
Hobart
TAS 7001

phone (61) 3 6232 5118
fax (61) 3 6232 5012
Mark.Bravington@csiro.au 

--please do not edit the information below--

Version:
 platform = i386-pc-mingw32
 arch = i386
 os = mingw32
 system = i386, mingw32
 status = 
 major = 1
 minor = 8.1
 year = 2003
 month = 11
 day = 21
 language = R

Windows 2000 Professional (build 2195) Service Pack 4.0

Search Path:
 .GlobalEnv, ROOT, package:methods, package:ctest, package:mva, package:modreg, package:nls, package:ts, package:chstuff, package:handy2, package:handy, package:debug, mvb.session.info, package:mvbutils, package:tcltk, Autoloads, package:base

From gstein at lyra.org  Tue Mar  9 10:48:56 2004
From: gstein at lyra.org (gstein@lyra.org)
Date: Tue Mar  9 10:48:58 2004
Subject: [Rd] received your email (PR#6657)
Message-ID: <20040309094856.452D8EDE7@slim.kubism.ku.dk>

Hi,

  [ Re: Re: Your website ]

I have received your email, but it may take a while to respond. I'm really
sorry to have to hook up this auto-responder, as it is so impersonal.
However, I get a lot of email every day and find it very difficult to keep
up with it. Please be patient while I try to get to your message.

Please feel free to resend your message if you think I've missed it.

I'll always respond to personal email first. If your email is regarding some
of the software that I work on (if you have questions, comments,
suggestions, etc), then please resend it to the appropriate mailing list:

    mod_dav      <mailto:dav-dev@lyra.org>
    WebDAV       <mailto:w3c-dist-auth@w3.org>
    ViewCVS      <mailto:viewcvs@lyra.org>
    Subversion   <mailto:dev@subversion.tigris.org>
    edna         <mailto:edna@lyra.org>

Thank you!

Cheers,
-g

-- 
Greg Stein, http://www.lyra.org/

From spencer.graves at pdf.com  Tue Mar  9 16:09:11 2004
From: spencer.graves at pdf.com (Spencer Graves)
Date: Tue Mar  9 16:08:47 2004
Subject: [Rd] bug(?) in chisq.test
Message-ID: <404DDE17.9080906@pdf.com>

      This is a message for whoever maintains "chisq.test":  For an 
outcome more extreme than 2000 simulations, a Monte Carlo p-value of "< 
2.2e-16" was printed.  Ripley said the proper p-value for such cases 
should be 1/(B+1) = 1/2001.  This can be easily fixed by adding 
"if(PVAL==0)PVAL <- 1/(B+1)" right after the following line in the code 
for chisq.test (in R 1.8.1 for Windows): 

>             PVAL <- sum(tmp$results >= STATISTIC)/B

      Thanks for all your hard work for the R Project. 
      Best Wishes,
      spencer graves

-------- Original Message --------
Subject: 	Re: [R] Monte Carlo p-value (was "question")
Date: 	Tue, 9 Mar 2004 08:17:02 +0000 (GMT)
From: 	Prof Brian Ripley <ripley@stats.ox.ac.uk>
To: 	Spencer Graves <spencer.graves@pdf.com>
CC: 	cfinet@ens-lyon.fr, r-help@stat.math.ethz.ch, kjetil@entelnet.bo



1/(B+1) is the significance level of the Monte Carlo test if the data 
give the most extreme value.  (E.g. Ripley, 1987, p. 171.)  This is a 
calculation, not a convention, and assumes a continuously distributed 
statistic.

On Mon, 8 Mar 2004, Spencer Graves wrote:

>       What is the standard convention for a Monte Carlo p-value when the 
> observed outcome is more extreme than all simulations?  The example 
> provided by C?dric Fine produced a Monte Carlo p-value, according to 
> Kjetil Halvorsen, of "2.2e-16 (based on 2000 replicates)".  This seems 
> inappropriate to me. 
> 
>       By reading the code, I found that for this case,
> 
>             PVAL <- sum(tmp$results >= STATISTIC)/B
> 
> where STATISTIC is the observed chi-square while "tmp$results" is a 
> vector of length B of chi-squares from Monte Carlo simulated tables with 
> the same marginals.  Thus, PVAL ranges over seq(0, 1, length=(B+1)).  
> For the observed table, presumably, PVAL = 0.  The function "chisq.test" 
> apparently returns an object of class "htest", and "print.htest" calls 
> "format.pval(x$p.value, digits = digits)", for which "format.pval(0, 4)" 
> is "< 2.2e-16". 
> 
>       Can someone provide an appropriate reference or sense of the 
> literature on the appropriate number to report for a Monte Carlo p-value 
> when the observed is more extreme than all the simulations?  A value of 
> 0 or "< 2.2e-16" violates my sense of the logic of this situation.  If 
> the appropriate number is 0.5/B, then the line "PVAL <- sum(tmp$results 
>  >= STATISTIC)/B" could be followed immediately by something like the 
> following: 
> 
>       if(PVAL==0) PVAL <- 0.5/B
> 
>       Comments?
>       Best Wishes,
>       Spencer Graves
> 
> kjetil@entelnet.bo wrote:
> 
> >On 8 Mar 2004 at 16:38, cfinet@ens-lyon.fr wrote:
> >
> >  
> >
> >>I do not manage to make a Fisher?s exact test with the next matrix :
> >>
> >>    
> >>
> >
> >You can consider using chisq.test() with the argument sim=TRUE:
> >
> >  
> >
> >>mat <- matrix(scan(), 7, 12, byrow=TRUE)
> >>    
> >>
> >1:  1    3    0    1    2    9    0    0    2     5     8     6
> >13:    0    3    3    0    0    0    0    5    0     3     0     0
> >25:    0    0    0    0    0   10    0    0    0     0    10     0
> >37:    0    2    0    2    6   14    0    0    6     0    10     6
> >49:    0    5    0    0    0    7    0    0    0     2     8     0
> >61:    0    0    1    9    4    7    2    1    4     2    12     5
> >73:    0    6    0    0    0    0    0    0    0     5     1     3
> >85: 
> >Read 84 items
> >
> >  
> >
> >>chisq.test(mat, sim=TRUE)
> >>    
> >>
> >
> >        Pearson's Chi-squared test with simulated p-value (based
> >        on 2000 replicates)
> >
> >data:  mat 
> >X-squared = 218.3366, df = NA, p-value = < 2.2e-16
> >
> >Kjetil Halvorsen
> >
> >
> >
> >  
> >
> >>    [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12]
> >>[1,]    1    3    0    1    2    9    0    0    2     5     8     6
> >>[2,]    0    3    3    0    0    0    0    5    0     3     0     0
> >>[3,]    0    0    0    0    0   10    0    0    0     0    10     0
> >>[4,]    0    2    0    2    6   14    0    0    6     0    10     6
> >>[5,]    0    5    0    0    0    7    0    0    0     2     8     0
> >>[6,]    0    0    1    9    4    7    2    1    4     2    12     5
> >>[7,]    0    6    0    0    0    0    0    0    0     5     1     3
> >>
> >>but I do not understand why it does not work since I obtain the next
> >>error message :
> >>
> >>
> >>
> >>    
> >>
> >>>fisher.test(enfin.matrix)
> >>>      
> >>>
> >>Error in fisher.test(enfin.matrix) : Bug in FEXACT: gave negative key
> >>
> >>thank you for considering my application
> >>
> >>c?dric finet
> >>
> >>______________________________________________
> >>R-help@stat.math.ethz.ch mailing list
> >>https://www.stat.math.ethz.ch/mailman/listinfo/r-help
> >>PLEASE do read the posting guide!
> >>http://www.R-project.org/posting-guide.html
> >>    
> >>
> >
> >______________________________________________
> >R-help@stat.math.ethz.ch mailing list
> >https://www.stat.math.ethz.ch/mailman/listinfo/r-help
> >PLEASE do read the posting guide! http://www.R-project.org/posting-guide.html
> >  
> >
> 
> ______________________________________________
> R-help@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide! http://www.R-project.org/posting-guide.html
> 
> 

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

______________________________________________
R-help@stat.math.ethz.ch mailing list
https://www.stat.math.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide! http://www.R-project.org/posting-guide.html

From sje at shannon.mast.queensu.ca  Tue Mar  9 16:22:29 2004
From: sje at shannon.mast.queensu.ca (sje@shannon.mast.queensu.ca)
Date: Tue Mar  9 16:23:15 2004
Subject: [Rd] arima help typo (PR#6658)
Message-ID: <20040309152229.92FD910429@slim.kubism.ku.dk>

the help file (?arima) says $residuals is the standardized residuals and
they are not.
it actually delivers raw residuals.
best wishes

--
Stoyan Iliev
PhD Candidate in Finance
Queen's University

From ripley at stats.ox.ac.uk  Tue Mar  9 16:30:22 2004
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue Mar  9 16:31:36 2004
Subject: [Rd] bug(?) in chisq.test
In-Reply-To: <404DDE17.9080906@pdf.com>
Message-ID: <Pine.LNX.4.44.0403091522330.12781-100000@gannet.stats>

`Ripley' has already corrected the R sources: from NEWS

    o   chisq.test(simulate.p.value = TRUE) was returning slightly
	incorrect p values, notably p = 0 when the data gave the most
	extreme value.

Note that all the p values were incorrect as one needs to be added to both 
numerator and denominator, but the difference is unimportant in other 
cases.

On Tue, 9 Mar 2004, Graves wrote:

>       This is a message for whoever maintains "chisq.test":  For an 
> outcome more extreme than 2000 simulations, a Monte Carlo p-value of "< 
> 2.2e-16" was printed.  Ripley said the proper p-value for such cases 
> should be 1/(B+1) = 1/2001.  This can be easily fixed by adding 
> "if(PVAL==0)PVAL <- 1/(B+1)" right after the following line in the code 
> for chisq.test (in R 1.8.1 for Windows): 
> 
> >             PVAL <- sum(tmp$results >= STATISTIC)/B
> 
>       Thanks for all your hard work for the R Project. 
>       Best Wishes,
>       spencer graves

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From deepayan at stat.wisc.edu  Wed Mar 10 01:30:05 2004
From: deepayan at stat.wisc.edu (Deepayan Sarkar)
Date: Wed Mar 10 01:30:15 2004
Subject: [Rd] lattice/grid: problem with viewports for strips with zero
	height
In-Reply-To: <20040303100845.GA2941@s1x.local>
References: <20040303100845.GA2941@s1x.local>
Message-ID: <200403091830.05954.deepayan@stat.wisc.edu>

On Wednesday 03 March 2004 04:08, Wolfram Fischer wrote:
> PROBLEM
>         # Allocating strip labels by the function strip.fun():
>
>     strip.test()
>         # Result: No strips: ok. No strings: NOT OK.
>         # The distance ``y.text=unit(6,"points")'' is ignored;
>         # the strings are not seen on the output.


Looks like a grid bug/feature where non-zero 'y' in grid.text doesn't work 
for viewports with zero height, even if clipping is turned off. Simpler 
example:

grid.text("some text", y = unit(6, "points"), 
          just = c("center", "bottom"), 
          vp = viewport(x = .5, y = .5, h = 0, clip = FALSE))
                                        ^^^^^

(Works if h > 0)


> TRIALS FOR WORKAROUNDS
>
>     strip.test( strip.lines=1 )
>         # Result: 2 strips: ok, but not whished. 2 strings: ok.
>
>     strip.test( y.text=0 )
>         # Result: No strips: ok. 2 strings: ok, but not pretty.
>
>     strip.test( strip.lines=0.01 )
>         # Result: 2 very narrow strips: ok, but not whished. 2 strings:
> ok.

The third workaround looks OK to me. You can make strip.lines as small as 
you want as long as it's positive.


Anyway, I would take a different approach (creating a new factor) for what 
you are trying to do:




combine.factors <- function(..., sep = "/",
                            drop = FALSE,
                            reverse = FALSE)
{
    ## each argument in ... should be a factor,
    ## first varies fastest

    dots <- lapply(list(...), as.factor)
    dotlevels <- lapply(dots, levels)
    dotchars <- lapply(dots, as.character)
    final.levels <- dotlevels[[1]]
    if (length(dotlevels) > 1)
        for (i in 2:length(dotlevels))
            final.levels <-
                if (reverse)
                    as.vector(t(outer(dotlevels[[i]],
                                      final.levels,
                                      paste, sep = sep)))
                else
                    as.vector(outer(final.levels,
                                    dotlevels[[i]],
                                    paste, sep = sep))
    final.chars <-
        do.call("paste",
                c(if (reverse) rev(dotchars) else dotchars,
                  list(sep = sep)))
    ans <- factor(final.chars, levels = final.levels)
    if (drop) ans <- ans[, drop = TRUE]
    ans
}


data(barley)
dotplot(variety ~ yield | combine.factors(year, site,
                                          sep = "    ",
                                          reverse = TRUE),
        data = barley, layout = c(2, 6))




Deepayan



> CODE
>     library( lattice )
>     library( grid )
>     data( barley )
>
> strip.test <- function( strip.lines=0, y.text=unit( 6, "points" ), ...
> ){ lset( list( clip = list( strip=F ) ) )
>     strip.fun <- function( which.given, which.panel, factor.levels, ...
> ){ grid.text( label=factor.levels[which.panel[which.given]] , x= 0.5 - (
> which.given - 1.5 ) * 0.7
>             , y=y.text
>             , just=c( c("right","left")[which.given], "bottom" )
>             )
>     }
>     print( dotplot( variety ~ yield | year * site, data=barley
>         , par.strip.text=list( lines=strip.lines )
>         , strip=strip.fun
>         , between=list( y=1.5 )
>         , ...
>         ))
> }
>
>
> Wolfram
>
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel

From kjetil at entelnet.bo  Wed Mar 10 02:26:20 2004
From: kjetil at entelnet.bo (kjetil@entelnet.bo)
Date: Wed Mar 10 02:26:26 2004
Subject: [Rd] Documentation of read.table
Message-ID: <404E367C.20977.1258A0E@localhost>

The documentation of read.table could be a bit clearer if 
the explanation of the argument nrows makes clear that eventual 
header line(s) are not included.

Kjetil Halvorsen

From robert.king at newcastle.edu.au  Wed Mar 10 02:55:40 2004
From: robert.king at newcastle.edu.au (Robert King)
Date: Wed Mar 10 02:52:06 2004
Subject: [Rd] can you library(MASS) with R 1.9.0?
In-Reply-To: <85vflktt59.fsf_-_@servant.blindglobe.net>
References: <858yigv8ia.fsf@servant.blindglobe.net>
	<20040304172040.GA23617@sonny.eddelbuettel.com>
	<85vflktt59.fsf_-_@servant.blindglobe.net>
Message-ID: <Pine.LNX.4.58.0403101248270.30912@tolstoy.newcastle.edu.au>

(I'm guessing the same problem) is also present in 7.1.14-2 of the debian
package r-cran-vr with r-base-core 1.8.1.cvs.20040229-2
it can be fixed with

/usr/lib/R/library/MASS:

tolstoy:/usr/lib/R/library/MASS# diff -u NAMESPACE~ NAMESPACE
--- NAMESPACE~  Wed Mar 10 12:42:26 2004
+++ NAMESPACE   Wed Mar 10 12:42:38 2004
@@ -53,7 +53,7 @@
 #        qda.data.frame, qda.default, qda.formula, qda.matrix,
 #        rlm.default, rlm.formula)

-importFrom(mva, biplot)
+importFrom(stats, biplot)

 S3method("[", fractions)
 S3method("[<-", fractions)



On Thu, 4 Mar 2004, A.J. Rossini wrote:
> I'm trying to track down a rather critical problem.  This happens both
> on Debian's current unstable as well a from anoncvs built this
> morning, reinstalling MASS.  Is anyone else seeing this or am I just
> broken and special?
>
> 609$ /home/Rdevel/bin/R
>
> R : Copyright 2004, The R Foundation for Statistical Computing
> Version 1.9.0 Under development (unstable) (2004-03-04), ISBN
> 3-900051-00-3
>
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type 'license()' or 'licence()' for distribution details.
>
> R is a collaborative project with many contributors.
> Type 'contributors()' for more information and
> 'citation()' on how to cite R in publications.
>
> Type 'demo()' for some demos, 'help()' for on-line help, or
> 'help.start()' for a HTML browser interface to help.
> Type 'q()' to quit R.
>
> > library(MASS)
> Error in loadNamespace(i[[1]], c(lib.loc, .libPaths()), keep.source) :
>         package 'mva' does not have a name space
> Error in library(MASS) : package/namespace load failed
> >
>
>
> I want to know if it's just me.
>
> best,
> -tony
>
>
> --
> rossini@u.washington.edu            http://www.analytics.washington.edu/
> Biomedical and Health Informatics   University of Washington
> Biostatistics, SCHARP/HVTN          Fred Hutchinson Cancer Research Center
> UW (Tu/Th/F): 206-616-7630 FAX=206-543-3461 | Voicemail is unreliable
> FHCRC  (M/W): 206-667-7025 FAX=206-667-4812 | use Email
>
> CONFIDENTIALITY NOTICE: This e-mail message and any attachme...{{dropped}}
>
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>

----
Robert King, Statistics, School of Mathematical & Physical Sciences,
University of Newcastle, Australia
Room V133  ph +61 2 4921 5548
Robert.King@newcastle.edu.au   http://maths.newcastle.edu.au/~rking/

We are all agreed that your theory is crazy.  The question which divides us is
whether it is crazy enough to have a chance of being correct.  My own feeling
is that it is not crazy enough.
		-- Niels Bohr

From edd at debian.org  Wed Mar 10 03:02:10 2004
From: edd at debian.org (Dirk Eddelbuettel)
Date: Wed Mar 10 03:05:33 2004
Subject: [Rd] can you library(MASS) with R 1.9.0?
In-Reply-To: <Pine.LNX.4.58.0403101248270.30912@tolstoy.newcastle.edu.au>
References: <858yigv8ia.fsf@servant.blindglobe.net>
	<20040304172040.GA23617@sonny.eddelbuettel.com>
	<85vflktt59.fsf_-_@servant.blindglobe.net>
	<Pine.LNX.4.58.0403101248270.30912@tolstoy.newcastle.edu.au>
Message-ID: <20040310020209.GA21317@sonny.eddelbuettel.com>

On Wed, Mar 10, 2004 at 12:55:40PM +1100, Robert King wrote:
> (I'm guessing the same problem) is also present in 7.1.14-2 of the debian
> package r-cran-vr with r-base-core 1.8.1.cvs.20040229-2
> it can be fixed with
> 
> /usr/lib/R/library/MASS:
> 
> tolstoy:/usr/lib/R/library/MASS# diff -u NAMESPACE~ NAMESPACE
> --- NAMESPACE~  Wed Mar 10 12:42:26 2004
> +++ NAMESPACE   Wed Mar 10 12:42:38 2004
> @@ -53,7 +53,7 @@
>  #        qda.data.frame, qda.default, qda.formula, qda.matrix,
>  #        rlm.default, rlm.formula)
> 
> -importFrom(mva, biplot)
> +importFrom(stats, biplot)
> 
>  S3method("[", fractions)
>  S3method("[<-", fractions)

Yes, I left a small window during which pre-1.9.0 releases of R itself where
matched with 1.8.0 releases of CPAN packages. But several packages from the
$CRAN/src/contrib/1.9.0 branch have been added, and r-cran_7.20-1.

Hope this helps,  Dirk

-- 
The relationship between the computed price and reality is as yet unknown.  
                                             -- From the pac(8) manual page

From edd at debian.org  Wed Mar 10 03:07:20 2004
From: edd at debian.org (Dirk Eddelbuettel)
Date: Wed Mar 10 03:08:22 2004
Subject: [Rd] can you library(MASS) with R 1.9.0?
In-Reply-To: <20040310020209.GA21317@sonny.eddelbuettel.com>
References: <858yigv8ia.fsf@servant.blindglobe.net>
	<20040304172040.GA23617@sonny.eddelbuettel.com>
	<85vflktt59.fsf_-_@servant.blindglobe.net>
	<Pine.LNX.4.58.0403101248270.30912@tolstoy.newcastle.edu.au>
	<20040310020209.GA21317@sonny.eddelbuettel.com>
Message-ID: <20040310020720.GA21437@sonny.eddelbuettel.com>

On Tue, Mar 09, 2004 at 08:02:10PM -0600, Dirk Eddelbuettel wrote:
> On Wed, Mar 10, 2004 at 12:55:40PM +1100, Robert King wrote:
> > (I'm guessing the same problem) is also present in 7.1.14-2 of the debian
> > package r-cran-vr with r-base-core 1.8.1.cvs.20040229-2
> > it can be fixed with
> > 
> > /usr/lib/R/library/MASS:
> > 
> > tolstoy:/usr/lib/R/library/MASS# diff -u NAMESPACE~ NAMESPACE
> > --- NAMESPACE~  Wed Mar 10 12:42:26 2004
> > +++ NAMESPACE   Wed Mar 10 12:42:38 2004
> > @@ -53,7 +53,7 @@
> >  #        qda.data.frame, qda.default, qda.formula, qda.matrix,
> >  #        rlm.default, rlm.formula)
> > 
> > -importFrom(mva, biplot)
> > +importFrom(stats, biplot)
> > 
> >  S3method("[", fractions)
> >  S3method("[<-", fractions)
> 
> Yes, I left a small window during which pre-1.9.0 releases of R itself where
> matched with 1.8.0 releases of CPAN packages. But several packages from the
> $CRAN/src/contrib/1.9.0 branch have been added, and r-cran_7.20-1.

Oops, make that   "... and r-cran-vr_7.20-1 is one of them."

Dirk

> Hope this helps,  Dirk
> 
> -- 
> The relationship between the computed price and reality is as yet unknown.  
>                                              -- From the pac(8) manual page
> 

-- 
The relationship between the computed price and reality is as yet unknown.  
                                             -- From the pac(8) manual page

From ripley at stats.ox.ac.uk  Wed Mar 10 08:26:10 2004
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed Mar 10 08:26:56 2004
Subject: [Rd] Documentation of read.table
In-Reply-To: <404E367C.20977.1258A0E@localhost>
Message-ID: <Pine.LNX.4.44.0403100723020.16941-100000@gannet.stats>

On Tue, 9 Mar 2004 kjetil@entelnet.bo wrote:

> The documentation of read.table could be a bit clearer if 
> the explanation of the argument nrows makes clear that eventual 
> header line(s) are not included.

Why would they be?  The `rows' are of the data frame, just as in
`row.names'.

Do you want the help file to explan what a data frame is, too?

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From ripley at stats.ox.ac.uk  Wed Mar 10 08:29:04 2004
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed Mar 10 08:36:41 2004
Subject: [Rd] can you library(MASS) with R 1.9.0?
In-Reply-To: <Pine.LNX.4.58.0403101248270.30912@tolstoy.newcastle.edu.au>
Message-ID: <Pine.LNX.4.44.0403100726350.16941-100000@gannet.stats>

A package of 1.8.1 should not have a package stats.  If this is 1.9.0, you 
should be using VR_7.2-0 or later.

Someone is confused about version numbers.


On Wed, 10 Mar 2004, Robert King wrote:

> (I'm guessing the same problem) is also present in 7.1.14-2 of the debian
> package r-cran-vr with r-base-core 1.8.1.cvs.20040229-2
> it can be fixed with
> 
> /usr/lib/R/library/MASS:
> 
> tolstoy:/usr/lib/R/library/MASS# diff -u NAMESPACE~ NAMESPACE
> --- NAMESPACE~  Wed Mar 10 12:42:26 2004
> +++ NAMESPACE   Wed Mar 10 12:42:38 2004
> @@ -53,7 +53,7 @@
>  #        qda.data.frame, qda.default, qda.formula, qda.matrix,
>  #        rlm.default, rlm.formula)
> 
> -importFrom(mva, biplot)
> +importFrom(stats, biplot)
> 
>  S3method("[", fractions)
>  S3method("[<-", fractions)
> 
> 
> 
> On Thu, 4 Mar 2004, A.J. Rossini wrote:
> > I'm trying to track down a rather critical problem.  This happens both
> > on Debian's current unstable as well a from anoncvs built this
> > morning, reinstalling MASS.  Is anyone else seeing this or am I just
> > broken and special?
> >
> > 609$ /home/Rdevel/bin/R
> >
> > R : Copyright 2004, The R Foundation for Statistical Computing
> > Version 1.9.0 Under development (unstable) (2004-03-04), ISBN
> > 3-900051-00-3
> >
> > R is free software and comes with ABSOLUTELY NO WARRANTY.
> > You are welcome to redistribute it under certain conditions.
> > Type 'license()' or 'licence()' for distribution details.
> >
> > R is a collaborative project with many contributors.
> > Type 'contributors()' for more information and
> > 'citation()' on how to cite R in publications.
> >
> > Type 'demo()' for some demos, 'help()' for on-line help, or
> > 'help.start()' for a HTML browser interface to help.
> > Type 'q()' to quit R.
> >
> > > library(MASS)
> > Error in loadNamespace(i[[1]], c(lib.loc, .libPaths()), keep.source) :
> >         package 'mva' does not have a name space
> > Error in library(MASS) : package/namespace load failed
> > >
> >
> >
> > I want to know if it's just me.
> >
> > best,
> > -tony
> >
> >
> > --
> > rossini@u.washington.edu            http://www.analytics.washington.edu/
> > Biomedical and Health Informatics   University of Washington
> > Biostatistics, SCHARP/HVTN          Fred Hutchinson Cancer Research Center
> > UW (Tu/Th/F): 206-616-7630 FAX=206-543-3461 | Voicemail is unreliable
> > FHCRC  (M/W): 206-667-7025 FAX=206-667-4812 | use Email
> >
> > CONFIDENTIALITY NOTICE: This e-mail message and any attachme...{{dropped}}
> >
> > ______________________________________________
> > R-devel@stat.math.ethz.ch mailing list
> > https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
> >
> 
> ----
> Robert King, Statistics, School of Mathematical & Physical Sciences,
> University of Newcastle, Australia
> Room V133  ph +61 2 4921 5548
> Robert.King@newcastle.edu.au   http://maths.newcastle.edu.au/~rking/
> 
> We are all agreed that your theory is crazy.  The question which divides us is
> whether it is crazy enough to have a chance of being correct.  My own feeling
> is that it is not crazy enough.
> 		-- Niels Bohr
> 
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
> 
> 

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From rossini at blindglobe.net  Wed Mar 10 09:11:27 2004
From: rossini at blindglobe.net (A.J. Rossini)
Date: Wed Mar 10 09:09:42 2004
Subject: [Rd] can you library(MASS) with R 1.9.0?
In-Reply-To: <Pine.LNX.4.44.0403100726350.16941-100000@gannet.stats> (Brian
	Ripley's message of "Wed, 10 Mar 2004 07:29:04 +0000 (GMT)")
References: <Pine.LNX.4.44.0403100726350.16941-100000@gannet.stats>
Message-ID: <85llm9yvdc.fsf@servant.blindglobe.net>


I believe Dirk has (or will have very soon) fixed this version
problem.  

best,
-tony


Prof Brian Ripley <ripley@stats.ox.ac.uk> writes:

> A package of 1.8.1 should not have a package stats.  If this is 1.9.0, you 
> should be using VR_7.2-0 or later.
>
> Someone is confused about version numbers.
>
>
> On Wed, 10 Mar 2004, Robert King wrote:
>
>> (I'm guessing the same problem) is also present in 7.1.14-2 of the debian
>> package r-cran-vr with r-base-core 1.8.1.cvs.20040229-2
>> it can be fixed with
>> 
>> /usr/lib/R/library/MASS:
>> 
>> tolstoy:/usr/lib/R/library/MASS# diff -u NAMESPACE~ NAMESPACE
>> --- NAMESPACE~  Wed Mar 10 12:42:26 2004
>> +++ NAMESPACE   Wed Mar 10 12:42:38 2004
>> @@ -53,7 +53,7 @@
>>  #        qda.data.frame, qda.default, qda.formula, qda.matrix,
>>  #        rlm.default, rlm.formula)
>> 
>> -importFrom(mva, biplot)
>> +importFrom(stats, biplot)
>> 
>>  S3method("[", fractions)
>>  S3method("[<-", fractions)
>> 
>> 
>> 
>> On Thu, 4 Mar 2004, A.J. Rossini wrote:
>> > I'm trying to track down a rather critical problem.  This happens both
>> > on Debian's current unstable as well a from anoncvs built this
>> > morning, reinstalling MASS.  Is anyone else seeing this or am I just
>> > broken and special?
>> >
>> > 609$ /home/Rdevel/bin/R
>> >
>> > R : Copyright 2004, The R Foundation for Statistical Computing
>> > Version 1.9.0 Under development (unstable) (2004-03-04), ISBN
>> > 3-900051-00-3
>> >
>> > R is free software and comes with ABSOLUTELY NO WARRANTY.
>> > You are welcome to redistribute it under certain conditions.
>> > Type 'license()' or 'licence()' for distribution details.
>> >
>> > R is a collaborative project with many contributors.
>> > Type 'contributors()' for more information and
>> > 'citation()' on how to cite R in publications.
>> >
>> > Type 'demo()' for some demos, 'help()' for on-line help, or
>> > 'help.start()' for a HTML browser interface to help.
>> > Type 'q()' to quit R.
>> >
>> > > library(MASS)
>> > Error in loadNamespace(i[[1]], c(lib.loc, .libPaths()), keep.source) :
>> >         package 'mva' does not have a name space
>> > Error in library(MASS) : package/namespace load failed
>> > >
>> >
>> >
>> > I want to know if it's just me.
>> >
>> > best,
>> > -tony
>> >
>> >
>> > --
>> > rossini@u.washington.edu            http://www.analytics.washington.edu/
>> > Biomedical and Health Informatics   University of Washington
>> > Biostatistics, SCHARP/HVTN          Fred Hutchinson Cancer Research Center
>> > UW (Tu/Th/F): 206-616-7630 FAX=206-543-3461 | Voicemail is unreliable
>> > FHCRC  (M/W): 206-667-7025 FAX=206-667-4812 | use Email
>> >
>> > CONFIDENTIALITY NOTICE: This e-mail message and any attachme...{{dropped}}
>> >
>> > ______________________________________________
>> > R-devel@stat.math.ethz.ch mailing list
>> > https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>> >
>> 
>> ----
>> Robert King, Statistics, School of Mathematical & Physical Sciences,
>> University of Newcastle, Australia
>> Room V133  ph +61 2 4921 5548
>> Robert.King@newcastle.edu.au   http://maths.newcastle.edu.au/~rking/
>> 
>> We are all agreed that your theory is crazy.  The question which divides us is
>> whether it is crazy enough to have a chance of being correct.  My own feeling
>> is that it is not crazy enough.
>> 		-- Niels Bohr
>> 
>> ______________________________________________
>> R-devel@stat.math.ethz.ch mailing list
>> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>> 
>> 
>
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>

-- 
rossini@u.washington.edu            http://www.analytics.washington.edu/ 
Biomedical and Health Informatics   University of Washington
Biostatistics, SCHARP/HVTN          Fred Hutchinson Cancer Research Center
UW (Tu/Th/F): 206-616-7630 FAX=206-543-3461 | Voicemail is unreliable
FHCRC  (M/W): 206-667-7025 FAX=206-667-4812 | use Email

CONFIDENTIALITY NOTICE: This e-mail message and any attachme...{{dropped}}

From ripley at stats.ox.ac.uk  Wed Mar 10 10:19:26 2004
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed Mar 10 10:19:37 2004
Subject: [Rd] update forgets about offset() (PR#6656)
In-Reply-To: <20040309055231.41776FB8C@slim.kubism.ku.dk>
Message-ID: <Pine.LNX.4.44.0403100914040.17203-100000@gannet.stats>

On Tue, 9 Mar 2004 Mark.Bravington@csiro.au wrote:

> In R1.7 and above (including R 1.9 alpha), 'update.formula' forgets to copy any offset(...) term in the original '.' formula:
> 
> test> df <- data.frame( x=1:4, y=sqrt( 1:4), z=c(2:4,1))
> test> fit1 <- glm( y~offset(x)+z, data=df)
> test> fit1$call
> glm(formula = y ~ offset(x) + z, data = df)
> 
> test> fit1u <- update( fit1, ~.)
> test> fit1u$call
> glm(formula = y ~ z, data = df)
> 
> 
> The problem occurs when 'update.formula' calls 'terms.formula(..., simplify=TRUE)' which defines and calls a function 'fixFormulaObject'. The first line of 'fixFormulaObject' attempts to extract the contents of the RHS of the formula via 
> 
> tmp <- attr(terms(object), "term.labels")
> 
> but this omits any offsets. Replacing that line with the following,
> which I think pulls in everything except the response, *seems* to fix
> the problem without disrupting the guts of 'terms' itself:
> 
> tmp <- dimnames( attr(terms(object), "factors"))[[1]][ -attr( terms, 'response')]
> 
> The suggested line might be simpler than checking the 'offset' component
> of 'terms(object)', which won't always exist.

Sorry, but that is a common programming error.  The possible values of
attr(terms, "response") are 0 or 1 (although code should not rely on the 
non-existence of 2, 3, ...).  foo[-0] == foo[0] is a length-0 vector.

Also, in R please use rownames(): it is easier to read and safer.

> Footnote: strange things happen when there is more than one offset (OK,
> there probably shouldn't be, but I thought I'd experiment):

That is allowed, and works in general.

> test> fit2 <- glm( y ~ offset( x) + offset( log( x)) + z, data=df)
> test> fit2$call
> glm(formula = y ~ offset(x) + offset(log(x)) + z, data = df)
> 
> test> fit2u <- update( fit2, ~.)
> test> fit2u$call
> glm(formula = y ~ offset(log(x)) + z, data = df)
> 
> Curiously, the 'term.labels' attribute of 'terms(object)' now includes the second offset, but  not the first.

The issue here is the code to remove offset terms fails if two successive 
terms are offsets, but not otherwise.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From hb at maths.lth.se  Wed Mar 10 12:08:28 2004
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Wed Mar 10 12:09:10 2004
Subject: [Rd] Rd - \preformatted, \section and LaTeX problem
Message-ID: <003301c40690$044fea60$e502eb82@maths.lth.se>

Hi, 

I have found an unwanted feature in the Rd to LaTeX convertion
regarding \preformatted inside a \section. I have created an Rd
example below, which generates an error in the following 'R CMD check'
step

 * creating aroma.affine-manual.tex ... OK
 * checking aroma.affine-manual.tex ... ERROR
 LaTeX errors when creating DVI version.
 This typically indicates Rd problems.

I believe the Rd code itself explains the details, the reasons, and
the work around. Should it be reported as a bug?

Best wishes

Henrik Bengtsson

running Rv1.8.1 and MikTeX v2.4 on WinXP with B.R.'s Rtools.


-------------------------------------------------------
Begin Rd example
-------------------------------------------------------
\name{Example}
\alias{Example}
\keyword{documentation}

\title{Example}

\description{
  Example
\preformatted{
No problems here!
}
}

\section{A section}{
If an 'preformatted' Rd environment (or whatever it's called) 
within a 'section' is not followed by a newline before the end
of the 'section' the LaTeX version of it generated by \code{R CMD
check}
will end like:
\preformatted{
  \end{verbatim}\end{Section} 
}
and the LaTeX compiler will complain saying:
\preformatted{
! LaTeX Error: \begin{list} on input line 49 ended by \end{document}.
See the LaTeX manual or LaTeX Companion for explanation.
Type  H <return>  for immediate help.
 ...
l.59 \end{document}
?
}
For LaTeX to work, there has to be a newline between like this:
\preformatted{
  \end{verbatim}
  \end{Section} 
}
The problem is that empty lines are stripped (for 'section's only?!?).

A work around seems to add a non-empty line. Try for instance to add
the
following after this 'preformatted' Rd environment at it will
work (as it is now, it will not work!):
\preformatted{
\emph{} % A dummy line to "fool" R CMD check and LaTeX
}
}
-------------------------------------------------------
End Rd example

From ripley at stats.ox.ac.uk  Wed Mar 10 12:31:23 2004
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed Mar 10 12:31:29 2004
Subject: [Rd] Rd - \preformatted, \section and LaTeX problem
In-Reply-To: <003301c40690$044fea60$e502eb82@maths.lth.se>
Message-ID: <Pine.LNX.4.44.0403101123480.17476-100000@gannet.stats>

I believe this is already corrected in 1.9.0 alpha, but your example is 
actually invalid (it has unbalanced braces).

This syntactically correct example works in 1.9.0 alpha, but not in 1.8.1.

\name{Example}
\alias{Example}
\keyword{documentation}
\title{Example}
\description{
  Example
\preformatted{
  No problems here!
}
}
\section{A section}{
  \preformatted{
    \end{verbatim}\end{Section}
  }
}


On Wed, 10 Mar 2004, Henrik Bengtsson wrote:

> Hi, 
> 
> I have found an unwanted feature in the Rd to LaTeX convertion
> regarding \preformatted inside a \section. I have created an Rd
> example below, which generates an error in the following 'R CMD check'
> step
> 
>  * creating aroma.affine-manual.tex ... OK
>  * checking aroma.affine-manual.tex ... ERROR
>  LaTeX errors when creating DVI version.
>  This typically indicates Rd problems.
> 
> I believe the Rd code itself explains the details, the reasons, and
> the work around. Should it be reported as a bug?

Only if you have tested it on the current alpha.

> Best wishes
> 
> Henrik Bengtsson
> 
> running Rv1.8.1 and MikTeX v2.4 on WinXP with B.R.'s Rtools.
> 
> 
> -------------------------------------------------------
> Begin Rd example
> -------------------------------------------------------
> \name{Example}
> \alias{Example}
> \keyword{documentation}
> 
> \title{Example}
> 
> \description{
>   Example
> \preformatted{
> No problems here!
> }
> }
> 
> \section{A section}{
> If an 'preformatted' Rd environment (or whatever it's called) 
> within a 'section' is not followed by a newline before the end
> of the 'section' the LaTeX version of it generated by \code{R CMD
> check}
> will end like:
> \preformatted{
>   \end{verbatim}\end{Section} 
> }
> and the LaTeX compiler will complain saying:
> \preformatted{
> ! LaTeX Error: \begin{list} on input line 49 ended by \end{document}.
> See the LaTeX manual or LaTeX Companion for explanation.
> Type  H <return>  for immediate help.
>  ...
> l.59 \end{document}
> ?
> }
> For LaTeX to work, there has to be a newline between like this:
> \preformatted{
>   \end{verbatim}
>   \end{Section} 
> }
> The problem is that empty lines are stripped (for 'section's only?!?).
> 
> A work around seems to add a non-empty line. Try for instance to add
> the
> following after this 'preformatted' Rd environment at it will
> work (as it is now, it will not work!):
> \preformatted{
> \emph{} % A dummy line to "fool" R CMD check and LaTeX
> }
> }
> -------------------------------------------------------
> End Rd example
> 
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
> 
> 

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From ripley at stats.ox.ac.uk  Wed Mar 10 17:10:23 2004
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed Mar 10 17:10:30 2004
Subject: [Rd] update forgets about offset() (PR#6656)
In-Reply-To: <Pine.LNX.4.44.0403100914040.17203-100000@gannet.stats>
Message-ID: <Pine.LNX.4.44.0403101548150.18580-100000@gannet.stats>

On Wed, 10 Mar 2004, Prof Brian Ripley wrote:

> On Tue, 9 Mar 2004 Mark.Bravington@csiro.au wrote:
> 
> > In R1.7 and above (including R 1.9 alpha), 'update.formula' forgets to copy any offset(...) term in the original '.' formula:
> > 
> > test> df <- data.frame( x=1:4, y=sqrt( 1:4), z=c(2:4,1))
> > test> fit1 <- glm( y~offset(x)+z, data=df)
> > test> fit1$call
> > glm(formula = y ~ offset(x) + z, data = df)
> > 
> > test> fit1u <- update( fit1, ~.)
> > test> fit1u$call
> > glm(formula = y ~ z, data = df)
> > 
> > 
> > The problem occurs when 'update.formula' calls 'terms.formula(..., simplify=TRUE)' which defines and calls a function 'fixFormulaObject'. The first line of 'fixFormulaObject' attempts to extract the contents of the RHS of the formula via 
> > 
> > tmp <- attr(terms(object), "term.labels")
> > 
> > but this omits any offsets. Replacing that line with the following,
> > which I think pulls in everything except the response, *seems* to fix
> > the problem without disrupting the guts of 'terms' itself:
> > 
> > tmp <- dimnames( attr(terms(object), "factors"))[[1]][ -attr( terms, 'response')]
> > 
> > The suggested line might be simpler than checking the 'offset' component
> > of 'terms(object)', which won't always exist.
> 
> Sorry, but that is a common programming error.  The possible values of
> attr(terms, "response") are 0 or 1 (although code should not rely on the 
> non-existence of 2, 3, ...).  foo[-0] == foo[0] is a length-0 vector.
>
> Also, in R please use rownames(): it is easier to read and safer.

There is a second level of problems.  The rownames include all terms, even 
those with - signs, so that code would collapse

y ~ x + z - z

to y ~ x + z!

> > Footnote: strange things happen when there is more than one offset (OK,
> > there probably shouldn't be, but I thought I'd experiment):
> 
> That is allowed, and works in general.
> 
> > test> fit2 <- glm( y ~ offset( x) + offset( log( x)) + z, data=df)
> > test> fit2$call
> > glm(formula = y ~ offset(x) + offset(log(x)) + z, data = df)
> > 
> > test> fit2u <- update( fit2, ~.)
> > test> fit2u$call
> > glm(formula = y ~ offset(log(x)) + z, data = df)
> > 
> > Curiously, the 'term.labels' attribute of 'terms(object)' now includes the second offset, but  not the first.
> 
> The issue here is the code to remove offset terms fails if two successive 
> terms are offsets, but not otherwise.

It fact, only if the two successive offsets were first or last for two 
separate reasons, which made it hard to track down.

I have now committed patches for both problems.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From wolfram at fischer-zim.ch  Thu Mar 11 15:38:22 2004
From: wolfram at fischer-zim.ch (Wolfram Fischer)
Date: Thu Mar 11 15:37:17 2004
Subject: [Rd] ridit()
Message-ID: <20040311143822.GA4451@s1x.local>

I have tried to encode a ridit function.

(cf. Bross IDJ: How to use ridit analyses.
In: Biometrics 1958(14): 18-38. 
Application e.g.:
Goossen WTF. Exploiting the Nursing Minimum Data Set for the Netherlands.
In: Medinfo 2001 2001: 1334-1338.
http://cmbi.bjmu.edu.cn/2001/medinfo_2001/Papers/Ch16/Goossen.pdf.)

Questions and hints:
- Is there already a ridit function in R?
- Argument ``b.sel.attrs'' could be omitted.
- Perhaps there are more efficient ways than calculating:
  viq.ridit <- apply( t( t(x) * vjq.ridit.attr ), 1, sum, na.rm=T ) /
        apply( x, 1, sum, na.rm=T )
- There seems to be a problem with the recursive call of CALC.ridit()
  when attr.groups is set to a dataframe with as many rows as there
  are columns in x (third example).
  (See also my question to R-help:
  https://www.stat.math.ethz.ch/pipermail/r-help/2004-March/045915.html)

Examples:
- CALC.ridit()
- CALC.ridit( attr.groups=c('x','x','y','y') )
- CALC.ridit( attr.groups=data.frame( G1=c('1x','1x','1y','1y'), G2=c('2x','2x','2y','2z') ) )

Wolfram


CALC.ridit <-           # x: columns=attributes, rows=cases
      x= t( data.frame( row.names=c('I','II','III','IV' )
            , A=c(20,8,2,0), B=c( 2,6,8,14), C=c(8,16,10,6) ) )
    , sum.attr=NULL     # vector with sum of cases per attributes
    , attr.groups=NULL  # separate calculation for groups of attributes
                        # e.g.: c('x','x','y','y')
    , b.sel.attrs=NULL  # selection of attributes
    , na.ridit=NA       # or: 0.5 (?)
){
    if( ! is.null( b.sel.attrs ) ){
        x <- x[,b.sel.attrs]
        sum.attr <- sum.attr[b.sel.attrs]
    }
    if( is.null( sum.attr ) ){
        if( is.vector( x ) )  sum.attr <- sum(x)
        sum.attr <- apply( x, 2, sum, na.rm=T )
    }
    if( is.null( attr.groups ) ){
        vjq.ridit.attr <- 
            ( cumsum( sum.attr ) - sum.attr / 2 ) / sum( sum.attr, na.rm=T )
        if( is.vector( x ) )
            viq.ridit <- x * vjq.ridit.attr / x
        else
            viq.ridit <- apply( t( t(x) * vjq.ridit.attr ), 1, sum, na.rm=T ) /
                apply( x, 1, sum, na.rm=T )
        viq.ridit[ ! is.finite( viq.ridit ) ] <- na.ridit
        viq.ridit
    }else{
warning( 'This code branch is not testet enough.\n' )
        as.data.frame.list( tapply( X=seq( 1 : ncol(x) )
            , INDEX=attr.groups, simplify=T
            , FUN=function( z ) CALC.ridit( x=x[,z], sum.attr=sum.attr[z] )
            ))
    }
}

From hb at maths.lth.se  Thu Mar 11 16:22:58 2004
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Thu Mar 11 16:23:41 2004
Subject: [Rd] Is it ok to use the name on a bundle and one if its packages?
Message-ID: <001901c4077c$bc42cc90$e502eb82@maths.lth.se>

Hello,

I wonder if it is unwise to name a bundle the same as one of its
packages. For instance, I now have a huge package called 'aroma' that
I basically want to split up in several smaller packages, say
'aroma.core', 'aroma.io', 'aroma.explore', 'aroma.trial',
'aroma.deprecated' etc, which simplifies maintenance but also the
overview. For convenience, one could have a wrapper package
'aroma.all' that loads all the above packages. 

As a typically user will make use of methods in the, say, three
packages 'aroma.core', 'aroma.io' and 'aroma.explore' I would also
like to have a wrapper package that loads these three "typical"
packages. This package I would like to call 'aroma', just like the
bundle. Is this wise, or should I rename the bundle to say 'AROMA'? 

I would prefer that the user could install the bundle by

  install.packages("aroma")

without having to care if I distribute the methods in one package
called 'aroma' or bundle of packages called 'aroma'. Moreover,
'library(aroma)' will also do for the typical user too. To turn it
around, what I'm trying to do is to emulate the concept of
"subpackages".

Another advantage is that if you first start out with a package
'aroma' that people installs, then you can without having to tell the
users, change it to be a bundle. 'update.package()' will still work;
Same if you want to revert to a package. I haven't tested if it works
in practice, though. 

BTW: I remember reading some r-help/r-devel(?) comments about not
supporting bundles in the future and just keeping the concept of
packages. Is this something that should we expected to happen?
Personally I think a bundle is a convenient way to distribute packages
that are used together, but not necessarily loaded at the same time.

Best wishes

Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences
Lund Institute of Technology/Lund University, Sweden 
(Sweden +1h UTC, Melbourne +11 UTC, Calif. -8h UTC)
+46 708 909208 (cell), +46 46 320 820 (home), 
+1 (508) 464 6644 (global fax),
+46 46 2229611 (off), +46 46 2224623 (dept. fax)
h b @ m a t h s . l t h . s e, http://www.maths.lth.se/~hb/

From byandell at wisc.edu  Thu Mar 11 18:26:13 2004
From: byandell at wisc.edu (byandell@wisc.edu)
Date: Thu Mar 11 18:26:12 2004
Subject: [Rd] make.search.html() without write permission in R.home()
	(PR#6662)
Message-ID: <20040311172613.D70BAFB8F@slim.kubism.ku.dk>

Folks,
I am working on a Windows system which is part of the UW-Madison
statistics LAN. R is maintained on a file system to which I cannot write.
I tried installing a package and got the following interplay:

> install.packages(choose.files('',filters=Filters[c('zip','All'),]),
.libPaths()[1], CRAN = NULL)
updating HTML package descriptions
Error in file(f.tg, open = "w") : unable to open connection
In addition: Warning messages:
1: cannot update HTML package index in: make.packages.html(lib.loc)
2: cannot open file `W:\unsup\R\i386_win2k/doc/html/search/index.txt'
> link.html.help()
Error in file(f.tg, open = "w") : unable to open connection
In addition: Warning messages:
1: cannot update HTML package index in: make.packages.html(lib.loc)
2: cannot open file `W:\unsup\R\i386_win2k/doc/html/search/index.txt'
> .libPaths()
[1] "P:/stat/yandell/public/statgen/R" "W:/unsup/R/i386_win2k/library"
> Sys.getenv("R_LIBS")
                                 R_LIBS
"P:\\stat\\yandell\\public\\statgen\\R"

This broke in make.search.html(), where it tried to overwrite the search
file
	W:\unsup\R\i386_win2k/doc/html/search/index.txt
which was generated from
	file.path(R.home(), "doc/html/search/index.txt")

My library loaded fine, and the flat file help works fine, but there are
no HTML info on my local libraryies in the R_LIBS area. I have no idea how
hardwired .../search/index.txt is into various R routines.

Thanks,
Brian

From bates at stat.wisc.edu  Thu Mar 11 18:37:40 2004
From: bates at stat.wisc.edu (bates@stat.wisc.edu)
Date: Thu Mar 11 18:37:38 2004
Subject: [Rd] Re: make.search.html() without write permission in R.home()
	(PR#6663)
Message-ID: <20040311173740.DCE4BFB8F@slim.kubism.ku.dk>

Brian Yandell <byandell@wisc.edu> writes:

> Folks,
> I am working on a Windows system which is part of the UW-Madison
> statistics LAN. R is maintained on a file system to which I cannot write.
> I tried installing a package and got the following interplay:

Set the lib argument to install.packages to a directory in which you
do have write permissions.  From ?install.packages
...
     install.packages(pkgs, lib, CRAN = getOption("CRAN"),
                      contriburl = contrib.url(CRAN),
                      method, available = NULL, destdir = NULL,
                      installWithVers = FALSE)
...

lib,instlib: character string giving the library directory where to
          install the packages.

> 
> > install.packages(choose.files('',filters=Filters[c('zip','All'),]),
> .libPaths()[1], CRAN = NULL)
> updating HTML package descriptions
> Error in file(f.tg, open = "w") : unable to open connection
> In addition: Warning messages:
> 1: cannot update HTML package index in: make.packages.html(lib.loc)
> 2: cannot open file `W:\unsup\R\i386_win2k/doc/html/search/index.txt'
> > link.html.help()
> Error in file(f.tg, open = "w") : unable to open connection
> In addition: Warning messages:
> 1: cannot update HTML package index in: make.packages.html(lib.loc)
> 2: cannot open file `W:\unsup\R\i386_win2k/doc/html/search/index.txt'
> > .libPaths()
> [1] "P:/stat/yandell/public/statgen/R" "W:/unsup/R/i386_win2k/library"
> > Sys.getenv("R_LIBS")
>                                  R_LIBS
> "P:\\stat\\yandell\\public\\statgen\\R"
> 
> This broke in make.search.html(), where it tried to overwrite the search
> file
> 	W:\unsup\R\i386_win2k/doc/html/search/index.txt
> which was generated from
> 	file.path(R.home(), "doc/html/search/index.txt")
> 
> My library loaded fine, and the flat file help works fine, but there are
> no HTML info on my local libraryies in the R_LIBS area. I have no idea how
> hardwired .../search/index.txt is into various R routines.
> 
> Thanks,
> Brian

-- 
Douglas Bates                            bates@stat.wisc.edu
Statistics Department                    608/262-2598
University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/

From byandell at wisc.edu  Thu Mar 11 19:18:08 2004
From: byandell at wisc.edu (byandell@wisc.edu)
Date: Thu Mar 11 19:18:04 2004
Subject: [Rd] Re: make.search.html() without write permission in R.home()
	(PR#6664)
Message-ID: <20040311181808.70292FB8F@slim.kubism.ku.dk>

I did that. In fact the default uses .libPaths()[1], which I have set to
"P:/stat/yandell/public/statgen/R"
The package installs fine. However, the HTML search is not done properly.
Again, the break occurred after installation of the package, when
make.search.html() was invoked.
Brian


On Thu, 11 Mar 2004, Douglas Bates wrote:

> Brian Yandell <byandell@wisc.edu> writes:
>
> > Folks,
> > I am working on a Windows system which is part of the UW-Madison
> > statistics LAN. R is maintained on a file system to which I cannot write.
> > I tried installing a package and got the following interplay:
>
> Set the lib argument to install.packages to a directory in which you
> do have write permissions.  From ?install.packages
> ...
>      install.packages(pkgs, lib, CRAN = getOption("CRAN"),
>                       contriburl = contrib.url(CRAN),
>                       method, available = NULL, destdir = NULL,
>                       installWithVers = FALSE)
> ...
>
> lib,instlib: character string giving the library directory where to
>           install the packages.
>
> >
> > > install.packages(choose.files('',filters=Filters[c('zip','All'),]),
> > .libPaths()[1], CRAN = NULL)
> > updating HTML package descriptions
> > Error in file(f.tg, open = "w") : unable to open connection
> > In addition: Warning messages:
> > 1: cannot update HTML package index in: make.packages.html(lib.loc)
> > 2: cannot open file `W:\unsup\R\i386_win2k/doc/html/search/index.txt'
> > > link.html.help()
> > Error in file(f.tg, open = "w") : unable to open connection
> > In addition: Warning messages:
> > 1: cannot update HTML package index in: make.packages.html(lib.loc)
> > 2: cannot open file `W:\unsup\R\i386_win2k/doc/html/search/index.txt'
> > > .libPaths()
> > [1] "P:/stat/yandell/public/statgen/R" "W:/unsup/R/i386_win2k/library"
> > > Sys.getenv("R_LIBS")
> >                                  R_LIBS
> > "P:\\stat\\yandell\\public\\statgen\\R"
> >
> > This broke in make.search.html(), where it tried to overwrite the search
> > file
> > 	W:\unsup\R\i386_win2k/doc/html/search/index.txt
> > which was generated from
> > 	file.path(R.home(), "doc/html/search/index.txt")
> >
> > My library loaded fine, and the flat file help works fine, but there are
> > no HTML info on my local libraryies in the R_LIBS area. I have no idea how
> > hardwired .../search/index.txt is into various R routines.
> >
> > Thanks,
> > Brian
>
> --
> Douglas Bates                            bates@stat.wisc.edu
> Statistics Department                    608/262-2598
> University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
>

From bsi at mail.montana.ind.br  Thu Mar 11 20:47:29 2004
From: bsi at mail.montana.ind.br (Administrador do Servidor - BSI)
Date: Thu Mar 11 20:42:02 2004
Subject: [Rd] Alerta: Virus encontrado
Message-ID: <200403111947.i2BJlTQr052825@mail.montana.ind.br>

Virus encontrado, Thu Mar 11 16:47:29 BRT 2004

Encontrado W32/Mydoom.a.eml!exe virus

Original message header:

-------------------------------------------->8=== cut here

> From r-devel@hypatia.math.ethz.ch Thu Mar 11 16:47:21 2004
> Received: from lists.r-project.org (mail-0-190 [10.1.1.190])
> 	by mail.montana.ind.br (8.12.11/8.12.11) with ESMTP id i2BJlJPT052756
> 	for <fatima@montana.ind.br>; Thu, 11 Mar 2004 16:47:19 -0300 (BRT)
> Message-Id: <200403111947.i2BJlJPT052756@mail.montana.ind.br>
> From: r-devel@hypatia.math.ethz.ch
> To: fatima@montana.ind.br
> Subject: Mail Delivery System
> Date: Tue, 26 Feb 2002 09:02:31 -0300
> MIME-Version: 1.0
> Content-Type: multipart/mixed;
> 	boundary="----=_NextPart_000_0001_114F4F66.4B61277C"
> X-Priority: 3
> X-MSMail-Priority: Normal

-------------------------------------------->8=== cut here

From andy_liaw at merck.com  Thu Mar 11 21:34:20 2004
From: andy_liaw at merck.com (Liaw, Andy)
Date: Thu Mar 11 21:34:46 2004
Subject: [Rd] Re: make.search.html() without write permission in
	R.hom e( ) (PR#6664)
Message-ID: <3A822319EB35174CA3714066D590DCD504AF7982@usrymx25.merck.com>

So this is on Windows, then?  This is documented somewhere (don't remember):
If the package is not located under $R_HOME/library, then the html help will
not be able to find it.  Don't think there's a known work-around.

Cheers,
Andy

> From: byandell@wisc.edu
> 
> I did that. In fact the default uses .libPaths()[1], which I 
> have set to
> "P:/stat/yandell/public/statgen/R"
> The package installs fine. However, the HTML search is not 
> done properly.
> Again, the break occurred after installation of the package, when
> make.search.html() was invoked.
> Brian
> 
> 
> On Thu, 11 Mar 2004, Douglas Bates wrote:
> 
> > Brian Yandell <byandell@wisc.edu> writes:
> >
> > > Folks,
> > > I am working on a Windows system which is part of the UW-Madison
> > > statistics LAN. R is maintained on a file system to which 
> I cannot write.
> > > I tried installing a package and got the following interplay:
> >
> > Set the lib argument to install.packages to a directory in which you
> > do have write permissions.  From ?install.packages
> > ...
> >      install.packages(pkgs, lib, CRAN = getOption("CRAN"),
> >                       contriburl = contrib.url(CRAN),
> >                       method, available = NULL, destdir = NULL,
> >                       installWithVers = FALSE)
> > ...
> >
> > lib,instlib: character string giving the library directory where to
> >           install the packages.
> >
> > >
> > > > 
> install.packages(choose.files('',filters=Filters[c('zip','All'),]),
> > > .libPaths()[1], CRAN = NULL)
> > > updating HTML package descriptions
> > > Error in file(f.tg, open = "w") : unable to open connection
> > > In addition: Warning messages:
> > > 1: cannot update HTML package index in: 
> make.packages.html(lib.loc)
> > > 2: cannot open file 
> `W:\unsup\R\i386_win2k/doc/html/search/index.txt'
> > > > link.html.help()
> > > Error in file(f.tg, open = "w") : unable to open connection
> > > In addition: Warning messages:
> > > 1: cannot update HTML package index in: 
> make.packages.html(lib.loc)
> > > 2: cannot open file 
> `W:\unsup\R\i386_win2k/doc/html/search/index.txt'
> > > > .libPaths()
> > > [1] "P:/stat/yandell/public/statgen/R" 
> "W:/unsup/R/i386_win2k/library"
> > > > Sys.getenv("R_LIBS")
> > >                                  R_LIBS
> > > "P:\\stat\\yandell\\public\\statgen\\R"
> > >
> > > This broke in make.search.html(), where it tried to 
> overwrite the search
> > > file
> > > 	W:\unsup\R\i386_win2k/doc/html/search/index.txt
> > > which was generated from
> > > 	file.path(R.home(), "doc/html/search/index.txt")
> > >
> > > My library loaded fine, and the flat file help works 
> fine, but there are
> > > no HTML info on my local libraryies in the R_LIBS area. I 
> have no idea how
> > > hardwired .../search/index.txt is into various R routines.
> > >
> > > Thanks,
> > > Brian
> >
> > --
> > Douglas Bates                            bates@stat.wisc.edu
> > Statistics Department                    608/262-2598
> > University of Wisconsin - Madison        
> http://www.stat.wisc.edu/~bates/
> >
> 
> 
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
> 
> 


------------------------------------------------------------------------------
Notice:  This e-mail message, together with any attachments,...{{dropped}}

From mailadm at agric.nsw.gov.au  Fri Mar 12 06:07:58 2004
From: mailadm at agric.nsw.gov.au (mailadm@agric.nsw.gov.au)
Date: Fri Mar 12 06:07:59 2004
Subject: [Rd] VIRUS RE: Re: Your text
Message-ID: <200403120507.i2C57wR27710@anon.agric.nsw.gov.au>


Please DO NOT reply to this message.

Your e-mail addressed to: "bob.kilgour@agric.nsw.gov.au"
with subject "Re: Your text" 
has been discarded because a virus was detected in the message
by the virus scanner on NSW Agriculture's eMail gateway.
The message was processed at 4:07:58 PM (local time, GMT+10) on 12/03/2004.

It is possible that the message was forged using your
eMail address in the sender field. In this case please ignore
this message and do nothing.

If the message is genuine and you know the recipient,
please remove all viruses from the message and attachments
then resend the message.

mailadm@agric.nsw.gov.au

From ripley at stats.ox.ac.uk  Fri Mar 12 12:29:47 2004
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri Mar 12 12:31:16 2004
Subject: [Rd] Re: make.search.html() without write permission in R.home()
	(PR#6663)
In-Reply-To: <20040311173740.DCE4BFB8F@slim.kubism.ku.dk>
Message-ID: <Pine.LNX.4.44.0403121124390.3583-100000@gannet.stats>

We'll fix the error message (it has been fixed once before, but it must
have got broken in another fix), but see the rw-FAQ.  Your private library
area will not show up in the HTML search index even if you had write 
permission: that index is only for the main library (used in the correct 
sense).

We need better information to be able to understand (let alone fix) the 
final part.

On Thu, 11 Mar 2004 bates@stat.wisc.edu wrote:

> Brian Yandell <byandell@wisc.edu> writes:
> 
> > Folks,
> > I am working on a Windows system which is part of the UW-Madison
> > statistics LAN. R is maintained on a file system to which I cannot write.
> > I tried installing a package and got the following interplay:
> 
> Set the lib argument to install.packages to a directory in which you
> do have write permissions.  From ?install.packages
> ...
>      install.packages(pkgs, lib, CRAN = getOption("CRAN"),
>                       contriburl = contrib.url(CRAN),
>                       method, available = NULL, destdir = NULL,
>                       installWithVers = FALSE)
> ...
> 
> lib,instlib: character string giving the library directory where to
>           install the packages.
> 
> > 
> > > install.packages(choose.files('',filters=Filters[c('zip','All'),]),
> > .libPaths()[1], CRAN = NULL)
> > updating HTML package descriptions
> > Error in file(f.tg, open = "w") : unable to open connection
> > In addition: Warning messages:
> > 1: cannot update HTML package index in: make.packages.html(lib.loc)
> > 2: cannot open file `W:\unsup\R\i386_win2k/doc/html/search/index.txt'
> > > link.html.help()
> > Error in file(f.tg, open = "w") : unable to open connection
> > In addition: Warning messages:
> > 1: cannot update HTML package index in: make.packages.html(lib.loc)
> > 2: cannot open file `W:\unsup\R\i386_win2k/doc/html/search/index.txt'
> > > .libPaths()
> > [1] "P:/stat/yandell/public/statgen/R" "W:/unsup/R/i386_win2k/library"
> > > Sys.getenv("R_LIBS")
> >                                  R_LIBS
> > "P:\\stat\\yandell\\public\\statgen\\R"
> > 
> > This broke in make.search.html(), where it tried to overwrite the search
> > file
> > 	W:\unsup\R\i386_win2k/doc/html/search/index.txt
> > which was generated from
> > 	file.path(R.home(), "doc/html/search/index.txt")
> > 
> > My library loaded fine, and the flat file help works fine, but there are
> > no HTML info on my local libraryies in the R_LIBS area. 

There should be, if you mean *packages*.  What exactly does not work?

> I have no idea how
> > hardwired .../search/index.txt is into various R routines.
> > 
> > Thanks,
> > Brian
> 
> 

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From dmurdoch at pair.com  Fri Mar 12 15:08:09 2004
From: dmurdoch at pair.com (dmurdoch@pair.com)
Date: Fri Mar 12 15:08:36 2004
Subject: [Rd] Re: [R] No traceback available when using try(...) (PR#6667)
Message-ID: <20040312140809.451F3EFC4@slim.kubism.ku.dk>

On Fri, 12 Mar 2004 12:28:48 +0100, Edouard DUCHESNAY
<duchesnay@shfj.cea.fr> wrote :

>> > 1. The Situation :
>> > ------------------------
>> > The stack traceback is not available when error ouccured in a try(....)
>>
>> It's a bug in 1.8.1. It has been fixed.
>>
>> 	-thomas
>I have patched R (Version 1.8.1 Patched (2004-03-11)) and It stills not working.
>- R was compiled without any option (only a --prefix=)
>- I use a Linux RedHat 9

Edouard is right, I still see the error in a current 1.9.0 alpha
build:

> f<-function(a){
+   return ( log(a) )
+ }
> f("A")
Error in log(x) : Non-numeric argument to mathematical function
> traceback()
2: log(a)
1: f("A")
> try(f("A"))
Error in log(x) : Non-numeric argument to mathematical function
> traceback()
No traceback available



Duncan Murdoch

From Torsten.Hothorn at rzmail.uni-erlangen.de  Fri Mar 12 15:48:00 2004
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Fri Mar 12 15:50:27 2004
Subject: [Rd] plot.dendrogram and expressions
Message-ID: <Pine.LNX.4.51.0403121544260.17294@artemis.imbe.med.uni-erlangen.de>


Hi,

currently the "label" and "edgetext" attributes of a dendrogram are
coerced to character before they are added to a plot with `text'. Is there
a specific reason to do so (expect for the determination of the size of
the character string to be plotted)? Otherwise one could plot the
attributes directly via

diff dendrogram.R /usr/src/R/src/library/stats/R/dendrogram.R
317c317
<               text(xBot, yBot + vln, attr(child,"label"))
---
>               text(xBot, yBot + vln, nodeText)
337c337
<                 text(mx, my, attr(child, "edgetext"))
---
>                 text(mx, my, edgeText)
344c344
<                 text(xBot, my, attr(child, "edgetext"))
---
>                 text(xBot, my, edgeText)

and one could use expressions for plotting symbols.

Best,

Torsten

From rpeng at jhsph.edu  Fri Mar 12 17:45:26 2004
From: rpeng at jhsph.edu (rpeng@jhsph.edu)
Date: Fri Mar 12 17:45:43 2004
Subject: [Rd] Re: [R] No traceback available when using try(...) (PR#6668)
Message-ID: <20040312164526.4EABDFB88@slim.kubism.ku.dk>

Funny, it works for me on R-patched

 > f <- function(a) { return(log(a)) }
 > f("A")
Error in log(x) : Non-numeric argument to mathematical function
 > traceback()
2: log(a)
1: f("A")
 > try(f("A"))
Error in log(x) : Non-numeric argument to mathematical function
 > traceback()
2: log(a)
1: f("A")

This is on

 > version
          _
platform i686-pc-linux-gnu
arch     i686
os       linux-gnu
system   i686, linux-gnu
status   Patched
major    1
minor    8.1
year     2004
month    02
day      26
language R

-roger

Duncan Murdoch wrote:
> On Fri, 12 Mar 2004 12:28:48 +0100, Edouard DUCHESNAY
> <duchesnay@shfj.cea.fr> wrote :
> 
> 
>>>>1. The Situation :
>>>>------------------------
>>>>The stack traceback is not available when error ouccured in a try(....)
>>>
>>>It's a bug in 1.8.1. It has been fixed.
>>>
>>>	-thomas
>>
>>I have patched R (Version 1.8.1 Patched (2004-03-11)) and It stills not working.
>>- R was compiled without any option (only a --prefix=)
>>- I use a Linux RedHat 9
> 
> 
> Edouard is right, I still see the error in a current 1.9.0 alpha
> build:
> 
> 
>>f<-function(a){
> 
> +   return ( log(a) )
> + }
> 
>>f("A")
> 
> Error in log(x) : Non-numeric argument to mathematical function
> 
>>traceback()
> 
> 2: log(a)
> 1: f("A")
> 
>>try(f("A"))
> 
> Error in log(x) : Non-numeric argument to mathematical function
> 
>>traceback()
> 
> No traceback available
> 
> 
> 
> Duncan Murdoch
> 
> ______________________________________________
> R-help@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide! http://www.R-project.org/posting-guide.html
>

From pgilbert at bank-banque-canada.ca  Fri Mar 12 18:51:57 2004
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Fri Mar 12 18:53:48 2004
Subject: [Rd] Is it ok to use the name on a bundle and one if its packages?
In-Reply-To: <001901c4077c$bc42cc90$e502eb82@maths.lth.se>
References: <001901c4077c$bc42cc90$e502eb82@maths.lth.se>
Message-ID: <4051F8BD.8020800@bank-banque-canada.ca>

Henrik Bengtsson wrote:

>Hello,
>
>I wonder if it is unwise to name a bundle the same as one of its
>packages. For instance, I now have a huge package called 'aroma' that
>I basically want to split up in several smaller packages, say
>'aroma.core', 'aroma.io', 'aroma.explore', 'aroma.trial',
>'aroma.deprecated' etc, which simplifies maintenance but also the
>overview. For convenience, one could have a wrapper package
>'aroma.all' that loads all the above packages. 
>
>As a typically user will make use of methods in the, say, three
>packages 'aroma.core', 'aroma.io' and 'aroma.explore' I would also
>like to have a wrapper package that loads these three "typical"
>packages. This package I would like to call 'aroma', just like the
>bundle. Is this wise, or should I rename the bundle to say 'AROMA'? 
>
I'm not sure if there would be problems. I have  one of the few bundles 
that exist, and I as far as I know, no one has tried this. (I would find 
it a bit confusing myself.) If the packages have a hierarchy, then you 
can get the behavior you want just by having require("whatever") in the 
start up for each package. So, for example, if aroma.explore  needs 
aroma.core and aroma.io, the  .First.lib for aroma.explore can have 
lines require("aroma.core"); require("aroma.io"). Then users would just 
load the highest package they need in the hierarchy.

>
>I would prefer that the user could install the bundle by
>
>  install.packages("aroma")
>
>without having to care if I distribute the methods in one package
>called 'aroma' or bundle of packages called 'aroma'. 
>
I don't think there is a problem here.

>Moreover,
>'library(aroma)' will also do for the typical user too. 
>
This could be a problem that your idea may work around, but you may be 
creating more confusion than help. If the set of functions that are 
being loaded changes, then it is not such a bad idea to change the name.

>To turn it
>around, what I'm trying to do is to emulate the concept of
>"subpackages".
>
>Another advantage is that if you first start out with a package
>'aroma' that people installs, then you can without having to tell the
>users, change it to be a bundle. 'update.package()' will still work;
>
It is possible your suggestion would make this work better than it works 
if you avoid having a subpackage with the same name as the bundle. 
Without replicating the name in a package of the bundle, the update of 
the bundle may leave the original "aroma" package in place. That would 
not be good.

>Same if you want to revert to a package. I haven't tested if it works
>in practice, though. 
>
There may be problems here. I don't think the packages of the bundle 
would be removed, and that would cause users a certain amount of confusion.

>
>BTW: I remember reading some r-help/r-devel(?) comments about not
>supporting bundles in the future and just keeping the concept of
>packages. Is this something that should we expected to happen?
>Personally I think a bundle is a convenient way to distribute packages
>that are used together, but not necessarily loaded at the same time.
>
The mechanism works very well right now, but there are not many of us 
using it. I am moving more toward unbundling myself (because my package 
hierarchy is changing with additional packages, not because of any 
problems).

Paul Gilbert

>
>Best wishes
>
>Henrik Bengtsson
>
>Dept. of Mathematical Statistics @ Centre for Mathematical Sciences
>Lund Institute of Technology/Lund University, Sweden 
>(Sweden +1h UTC, Melbourne +11 UTC, Calif. -8h UTC)
>+46 708 909208 (cell), +46 46 320 820 (home), 
>+1 (508) 464 6644 (global fax),
>+46 46 2229611 (off), +46 46 2224623 (dept. fax)
>h b @ m a t h s . l t h . s e, http://www.maths.lth.se/~hb/
>
>______________________________________________
>R-devel@stat.math.ethz.ch mailing list
>https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>
>  
>

From p.dalgaard at biostat.ku.dk  Fri Mar 12 19:50:13 2004
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard)
Date: Fri Mar 12 19:50:12 2004
Subject: [Rd] Re: [R] No traceback available when using try(...) (PR#6667)
In-Reply-To: <20040312140809.451F3EFC4@slim.kubism.ku.dk>
References: <20040312140809.451F3EFC4@slim.kubism.ku.dk>
Message-ID: <x2u10tvr16.fsf@biostat.ku.dk>

dmurdoch@pair.com writes:

> Edouard is right, I still see the error in a current 1.9.0 alpha
> build:
> 
> > f<-function(a){
> +   return ( log(a) )
> + }
> > f("A")
> Error in log(x) : Non-numeric argument to mathematical function
> > traceback()
> 2: log(a)
> 1: f("A")
> > try(f("A"))
> Error in log(x) : Non-numeric argument to mathematical function
> > traceback()
> No traceback available

Now that's odd:

> f<-function(a){
+ return ( log(a) )
+ }
> f("A")
Error in log(x) : Non-numeric argument to mathematical function
> traceback()
2: log(a)
1: f("A")
> try(f("A"))
Error in log(x) : Non-numeric argument to mathematical function
> traceback()
2: log(a)
1: f("A")

and that's with an alpha version from this Tuesday:

R : Copyright 2004, The R Foundation for Statistical Computing
Version 1.9.0 alpha (2004-03-08), ISBN 3-900051-00-3

did we accidentally revert something or what's up?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

From dmurdoch at pair.com  Fri Mar 12 21:39:28 2004
From: dmurdoch at pair.com (dmurdoch@pair.com)
Date: Fri Mar 12 21:39:33 2004
Subject: [Rd] Re: [R] No traceback available when using try(...) (PR#6669)
Message-ID: <20040312203928.75CBFFB88@slim.kubism.ku.dk>

On Fri, 12 Mar 2004 11:44:14 -0500, "Roger D. Peng" <rpeng@jhsph.edu>
wrote :

>Funny, it works for me on R-patched
>
> > f <- function(a) { return(log(a)) }
> > f("A")
>Error in log(x) : Non-numeric argument to mathematical function
> > traceback()
>2: log(a)
>1: f("A")
> > try(f("A"))
>Error in log(x) : Non-numeric argument to mathematical function
> > traceback()
>2: log(a)
>1: f("A")

Oops, I get the same behaviour as you now.  I think I must have edited
the transcript before and changed the order of the lines:  now I get
the "no traceback" message only if the try(f("A")) comes first.  And
notice this infelicity:

> f("A")
Error in log(x) : Non-numeric argument to mathematical function
> traceback()
2: log(a)
1: f("A")
> try(f("B"))
Error in log(x) : Non-numeric argument to mathematical function
> traceback()
2: log(a)
1: f("A")                  # The wrong traceback!

Presumably what is happening is that the second error leaves the old
traceback in place in both situations.  I don't think it should do
that.  Luke says the trace is unavailable by the time the try()
returns; could the old one be cleared at the time of the error, to
avoid giving misleading information?

Duncan Murdoch

From luke at stat.uiowa.edu  Sat Mar 13 14:49:15 2004
From: luke at stat.uiowa.edu (Luke Tierney)
Date: Sat Mar 13 14:49:10 2004
Subject: [Rd] Re: [R] No traceback available when using try(...) (PR#6669)
In-Reply-To: <20040312203928.75CBFFB88@slim.kubism.ku.dk>
Message-ID: <Pine.LNX.4.44.0403130743170.7284-100000@itasca2.stat.uiowa.edu>

On Fri, 12 Mar 2004 dmurdoch@pair.com wrote:

> On Fri, 12 Mar 2004 11:44:14 -0500, "Roger D. Peng" <rpeng@jhsph.edu>
> wrote :
> 
> >Funny, it works for me on R-patched
> >
> > > f <- function(a) { return(log(a)) }
> > > f("A")
> >Error in log(x) : Non-numeric argument to mathematical function
> > > traceback()
> >2: log(a)
> >1: f("A")
> > > try(f("A"))
> >Error in log(x) : Non-numeric argument to mathematical function
> > > traceback()
> >2: log(a)
> >1: f("A")
> 
> Oops, I get the same behaviour as you now.  I think I must have edited
> the transcript before and changed the order of the lines:  now I get
> the "no traceback" message only if the try(f("A")) comes first.  And
> notice this infelicity:
> 
> > f("A")
> Error in log(x) : Non-numeric argument to mathematical function
> > traceback()
> 2: log(a)
> 1: f("A")
> > try(f("B"))
> Error in log(x) : Non-numeric argument to mathematical function
> > traceback()
> 2: log(a)
> 1: f("A")                  # The wrong traceback!
> 
> Presumably what is happening is that the second error leaves the old
> traceback in place in both situations.  I don't think it should do
> that.  Luke says the trace is unavailable by the time the try()
> returns; could the old one be cleared at the time of the error, to
> avoid giving misleading information?

I'm not sure there aren't cases where clearing the traceback wouldn't
be more confusing.  The current situation has a simple (and I think
fairly accurate) description: traceback() prints the traceback of the
most recent uncaught error.  Since try() is used in code to catch
errors, and could be used inside code where the user is not aware that
an error was caught, all of a sudden claiming that there is no
traceback could be more confusing in some cases.

luke

-- 
Luke Tierney
University of Iowa                  Phone:             319-335-3386
Department of Statistics and        Fax:               319-335-3017
   Actuarial Science
241 Schaeffer Hall                  email:      luke@stat.uiowa.edu
Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu

From mailscan at full.cl  Sun Mar 14 00:14:22 2004
From: mailscan at full.cl (mailscan@full.cl)
Date: Sat Mar 13 23:14:47 2004
Subject: [Rd] Virus Warning from MailScan to Mail-Sender!
Message-ID: <23587629682022932457322223221147@full.cl>


El adjunto(s) que usted envio en el siguiente correo contenia virus. FullCom SA

=============================================================
El correo enviado de  : r-devel@lists.r-project.org
El correo enviado a   : marcelo.rodriguez@tecingenieria.cl
Con asunto            : fake
ID del correo            : <auto-000020515037@infopyme.cl>

Adjunto(s)         Virus              Accion
------------------------------------------------------------
concert.exe             I-Worm.Moodown.b        Deleted
=============================================================
From shikkou-admin at kaze-ypu.jp  Sun Mar 14 07:35:40 2004
From: shikkou-admin at kaze-ypu.jp (shikkou-admin@kaze-ypu.jp)
Date: Sun Mar 14 07:35:35 2004
Subject: [Rd] You r-devel@hypatia.math.ethz.ch are not member (shikkou ML)
References: <200403140635.i2E6Zca30129@mail.kaze-ypu.jp>
Message-ID: <200403141535.FMLAAB30145.shikkou@kaze-ypu.jp>

$B$"$J$?$O$3$N%a!<%j%s%0%j%9%H(B <shikkou@kaze-ypu.jp> $B$N%a%s%P!<$G$O$"$j$^$;$s!#(B

$B%a!<%j%s%0%j%9%H$K$D$$$F$N0lHLE*$J0FFb$O%a!<%k$NK\J8$K(B

	guide

$B$H=q$$$?%a!<%k$r(B

	shikkou-ctl@kaze-ypu.jp

$B08$KAw$k$HAw$i$l$F$-$^$9!#(B

From ripley at stats.ox.ac.uk  Sun Mar 14 11:41:25 2004
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun Mar 14 11:41:28 2004
Subject: (PR#6662) Re: [Rd] Re: make.search.html() without write permission
	in R.home() (PR#6663)
In-Reply-To: <Pine.LNX.4.44.0403121124390.3583-100000@gannet.stats>
Message-ID: <Pine.LNX.4.44.0403141039580.15535-100000@gannet.stats>

Let me confirm that there is no error here: the `error' is inside try() 
and this does work as intended.

`This broke' is incorrect: there was a warning that try() had generated an 
error.

On Fri, 12 Mar 2004, Prof Brian Ripley wrote:

> We'll fix the error message (it has been fixed once before, but it must
> have got broken in another fix), but see the rw-FAQ.  Your private library
> area will not show up in the HTML search index even if you had write 
> permission: that index is only for the main library (used in the correct 
> sense).
> 
> We need better information to be able to understand (let alone fix) the 
> final part.
> 
> On Thu, 11 Mar 2004 bates@stat.wisc.edu wrote:
> 
> > Brian Yandell <byandell@wisc.edu> writes:
> > 
> > > Folks,
> > > I am working on a Windows system which is part of the UW-Madison
> > > statistics LAN. R is maintained on a file system to which I cannot write.
> > > I tried installing a package and got the following interplay:
> > 
> > Set the lib argument to install.packages to a directory in which you
> > do have write permissions.  From ?install.packages
> > ...
> >      install.packages(pkgs, lib, CRAN = getOption("CRAN"),
> >                       contriburl = contrib.url(CRAN),
> >                       method, available = NULL, destdir = NULL,
> >                       installWithVers = FALSE)
> > ...
> > 
> > lib,instlib: character string giving the library directory where to
> >           install the packages.
> > 
> > > 
> > > > install.packages(choose.files('',filters=Filters[c('zip','All'),]),
> > > .libPaths()[1], CRAN = NULL)
> > > updating HTML package descriptions
> > > Error in file(f.tg, open = "w") : unable to open connection
> > > In addition: Warning messages:
> > > 1: cannot update HTML package index in: make.packages.html(lib.loc)
> > > 2: cannot open file `W:\unsup\R\i386_win2k/doc/html/search/index.txt'
> > > > link.html.help()
> > > Error in file(f.tg, open = "w") : unable to open connection
> > > In addition: Warning messages:
> > > 1: cannot update HTML package index in: make.packages.html(lib.loc)
> > > 2: cannot open file `W:\unsup\R\i386_win2k/doc/html/search/index.txt'
> > > > .libPaths()
> > > [1] "P:/stat/yandell/public/statgen/R" "W:/unsup/R/i386_win2k/library"
> > > > Sys.getenv("R_LIBS")
> > >                                  R_LIBS
> > > "P:\\stat\\yandell\\public\\statgen\\R"
> > > 
> > > This broke in make.search.html(), where it tried to overwrite the search
> > > file
> > > 	W:\unsup\R\i386_win2k/doc/html/search/index.txt
> > > which was generated from
> > > 	file.path(R.home(), "doc/html/search/index.txt")
> > > 
> > > My library loaded fine, and the flat file help works fine, but there are
> > > no HTML info on my local libraryies in the R_LIBS area. 
> 
> There should be, if you mean *packages*.  What exactly does not work?
> 
> > I have no idea how
> > > hardwired .../search/index.txt is into various R routines.
> > > 
> > > Thanks,
> > > Brian
> > 
> > 
> 
> 

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From dmurdoch at pair.com  Sun Mar 14 23:50:06 2004
From: dmurdoch at pair.com (dmurdoch@pair.com)
Date: Sun Mar 14 23:49:58 2004
Subject: [Rd] Re: [R] No traceback available when using try(...) (PR#6669)
Message-ID: <20040314225006.42289EDDC@slim.kubism.ku.dk>

On Sat, 13 Mar 2004 07:49:15 -0600 (CST), you wrote:
> The current situation has a simple (and I think
>fairly accurate) description: traceback() prints the traceback of the
>most recent uncaught error.  

Thanks, that makes lots of sense.   Sorry for the false alarm.

Duncan Murdoch

From Mark.Bravington at csiro.au  Mon Mar 15 01:46:04 2004
From: Mark.Bravington at csiro.au (Mark.Bravington@csiro.au)
Date: Mon Mar 15 01:46:01 2004
Subject: [Rd] update forgets about offset() (PR#6656)
Message-ID: <20040315004604.11262EC53@slim.kubism.ku.dk>

Thanks (I hadn't realize 'response' could be 0). However, there's now a problem (in R 1.9.0 alpha) with *removing* offsets via 'update':

> fit2 <- glm( y ~ z + offset(x), data=df)
> fit2$call
glm(formula = y ~ z + offset(x), data = df)

> update( fit2, ~.-offset(x))$call
glm(formula = y ~ z + offset(x), data = df)

# the offset wasn't removed even though it should have been

> update( fit2, ~.-z)$call
glm(formula = y ~ 1, <<...>>

# now the offset has been removed even though it should have stayed!



Mark

*******************************

Mark Bravington
CSIRO (CMIS)
PO Box 1538
Castray Esplanade
Hobart
TAS 7001

phone (61) 3 6232 5118
fax (61) 3 6232 5012
Mark.Bravington@csiro.au 

--please do not edit the information below--

Version:
 platform = i386-pc-mingw32
 arch = i386
 os = mingw32
 system = i386, mingw32
 status = alpha
 major = 1
 minor = 9.0
 year = 2004
 month = 03
 day = 14
 language = R

Windows 2000 Professional (build 2195) Service Pack 4.0

Search Path:
 .GlobalEnv, package:methods, package:stats, package:graphics, package:utils, Autoloads, package:base

#-----Original Message-----
#From: Prof Brian Ripley [mailto:ripley@stats.ox.ac.uk]
#Sent: Thursday, 11 March 2004 3:10 AM
#To: Bravington, Mark (CMIS, Hobart)
#Cc: r-devel@stat.math.ethz.ch; R-bugs@biostat.ku.dk
#Subject: Re: [Rd] update forgets about offset() (PR#6656)
#
#
#On Wed, 10 Mar 2004, Prof Brian Ripley wrote:
#
#> On Tue, 9 Mar 2004 Mark.Bravington@csiro.au wrote:
#> 
#> > In R1.7 and above (including R 1.9 alpha), 
#'update.formula' forgets to copy any offset(...) term in the 
#original '.' formula:
#> > 
#> > test> df <- data.frame( x=1:4, y=sqrt( 1:4), z=c(2:4,1))
#> > test> fit1 <- glm( y~offset(x)+z, data=df)
#> > test> fit1$call
#> > glm(formula = y ~ offset(x) + z, data = df)
#> > 
#> > test> fit1u <- update( fit1, ~.)
#> > test> fit1u$call
#> > glm(formula = y ~ z, data = df)
#> > 
#> > 
#> > The problem occurs when 'update.formula' calls 
#'terms.formula(..., simplify=TRUE)' which defines and calls a 
#function 'fixFormulaObject'. The first line of 
#'fixFormulaObject' attempts to extract the contents of the RHS 
#of the formula via 
#> > 
#> > tmp <- attr(terms(object), "term.labels")
#> > 
#> > but this omits any offsets. Replacing that line with the following,
#> > which I think pulls in everything except the response, 
#*seems* to fix
#> > the problem without disrupting the guts of 'terms' itself:
#> > 
#> > tmp <- dimnames( attr(terms(object), "factors"))[[1]][ 
#-attr( terms, 'response')]
#> > 
#> > The suggested line might be simpler than checking the 
#'offset' component
#> > of 'terms(object)', which won't always exist.
#> 
#> Sorry, but that is a common programming error.  The possible 
#values of
#> attr(terms, "response") are 0 or 1 (although code should not 
#rely on the 
#> non-existence of 2, 3, ...).  foo[-0] == foo[0] is a length-0 vector.
#>
#> Also, in R please use rownames(): it is easier to read and safer.
#
#There is a second level of problems.  The rownames include all 
#terms, even 
#those with - signs, so that code would collapse
#
#y ~ x + z - z
#
#to y ~ x + z!
#
#> > Footnote: strange things happen when there is more than 
#one offset (OK,
#> > there probably shouldn't be, but I thought I'd experiment):
#> 
#> That is allowed, and works in general.
#> 
#> > test> fit2 <- glm( y ~ offset( x) + offset( log( x)) + z, data=df)
#> > test> fit2$call
#> > glm(formula = y ~ offset(x) + offset(log(x)) + z, data = df)
#> > 
#> > test> fit2u <- update( fit2, ~.)
#> > test> fit2u$call
#> > glm(formula = y ~ offset(log(x)) + z, data = df)
#> > 
#> > Curiously, the 'term.labels' attribute of 'terms(object)' 
#now includes the second offset, but  not the first.
#> 
#> The issue here is the code to remove offset terms fails if 
#two successive 
#> terms are offsets, but not otherwise.
#
#It fact, only if the two successive offsets were first or last for two 
#separate reasons, which made it hard to track down.
#
#I have now committed patches for both problems.
#
#-- 
#Brian D. Ripley,                  ripley@stats.ox.ac.uk
#Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
#University of Oxford,             Tel:  +44 1865 272861 (self)
#1 South Parks Road,                     +44 1865 272866 (PA)
#Oxford OX1 3TG, UK                Fax:  +44 1865 272595
#
#
#

From george.leigh at dpi.qld.gov.au  Mon Mar 15 09:29:59 2004
From: george.leigh at dpi.qld.gov.au (george.leigh@dpi.qld.gov.au)
Date: Mon Mar 15 09:29:55 2004
Subject: [Rd] Bug in tapply with factors containing NAs (PR#6672)
Message-ID: <20040315082959.6822EEDDC@slim.kubism.ku.dk>

Full_Name: George Leigh
Version: 1.8.1
OS: Windows 2000
Submission from: (NULL) (203.25.1.208)


The following example gives the correct answer when the first argument of tapply
is a numeric vector, but an incorrect answer when it is a factor.  If the
function used by tapply is "length", the type and contents of the first argument
should make no difference, provided it has the same length as the second
argument.

> x = c(NA, 1)
> y = factor(x)
> tapply(x, y, length)
1 
1 
> tapply(y, y, length)
1 
2 
>

From exispam-mcvs-bounce-1bf5092bd07eb3352a18be87f281d10a at canl.nc  Mon Mar 15 10:06:48 2004
From: exispam-mcvs-bounce-1bf5092bd07eb3352a18be87f281d10a at canl.nc (exispam-mcvs-bounce-1bf5092bd07eb3352a18be87f281d10a@canl.nc)
Date: Mon Mar 15 10:07:22 2004
Subject: [Rd] [ExiSpam] Please Confirm / Confirmez SVP
Message-ID: <E1B2o3c-00042Z-0A@nospam.canl.nc>

[message en francais un peu plus bas]

Hi,
a few seconds ago I have received your electronic mail. I notice that
this is the first time you're trying to contact me via e-mail, and I
have a little procedure set up that protects me from unwanted junk
mail. This is why the ExiSpam tool has delayed the delivery until it
receives a confirmation from you, by which you certify that you're NOT
sending me any unsolicted commercial stuff.

           My E-Mail address: mcvs@canl.nc
       Your E-Mail address: r-devel@lists.r-project.org

To confirm this, simply reply to this automatic e-mail and make sure
you use the following address for your reply:
       exispam-mcvs-confirm-1bf5092bd07eb3352a18be87f281d10a@canl.nc

You will then receive a short confirmation by mail.

I am sorry for the extra effort, but unfortunately the amount of junk
mail I receive has made this preparative necessary. My tool keeps
track of who has sent me e-mail before and you won't see this notice
again.

Please note that the mail is processed by an automatic tool. You may
well add personal comments in the reply, it's just that I won't see
them. :-)


Bonjour,
Il y a quelques instants, j'ai recu votre message electronique.
C'est la premiere fois quoi vous me contactez par mail a cette
adresse, et j'ai un systeme pour me proteger des mails publicitaires
et autres spams. C'est pourquoi le programme ExiSpam a repousse la
livraison du message jusqu'a ce qu'il recoive une confirmation de
votre part qu'il s'agit effectivement d'un message de votre part.

       Mon adresse: mcvs@canl.nc
       Votre adresse mail: r-devel@lists.r-project.org

Pour confirmer cela, veuillez simplement repondre a ce message
automatique, en faisant bien attention d'utiliser l'adresse suivante
pour votre reponse:
       exispam-mcvs-confirm-1bf5092bd07eb3352a18be87f281d10a@canl.nc

Vous recevrez ensuite une courte confirmation, et votre message
sera place dans ma boite aux lettres.

Desole pour le derangement, mais helas la quantite de mails
publicitaires recus ces derniers temps m'a oblige a installer un tel
systeme de protection. ExiSpam retiendra votre adresse, et dans le
futur vous ne verrez plus jamais ce message.

Veiller noter que ce message est traite par un outil automatique:
vous pouvez ajouter vos commentaires a votre reponse au robot, mais
je ne les verrais tout simplement pas... :-)



-- 
Message genere par l'anti-spam de CanL, Net Outremer Caledonie

From maechler at stat.math.ethz.ch  Mon Mar 15 10:19:01 2004
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon Mar 15 10:18:54 2004
Subject: [Rd] plot.dendrogram and expressions
In-Reply-To: <Pine.LNX.4.51.0403121544260.17294@artemis.imbe.med.uni-erlangen.de>
References: <Pine.LNX.4.51.0403121544260.17294@artemis.imbe.med.uni-erlangen.de>
Message-ID: <16469.29957.114711.888588@gargle.gargle.HOWL>

Hi Torsten (et al),

>>>>> "Torsten" == Torsten Hothorn <Torsten.Hothorn@rzmail.uni-erlangen.de>
>>>>>     on Fri, 12 Mar 2004 15:48:00 +0100 (CET) writes:

    Torsten> Hi,

    Torsten> currently the "label" and "edgetext" attributes of
    Torsten> a dendrogram are coerced to character before they
    Torsten> are added to a plot with `text'. Is there a
    Torsten> specific reason to do so (expect for the
    Torsten> determination of the size of the character string
    Torsten> to be plotted)? 

that used to be a reason AFAIR but nowadays, strwidth() and strheight()
do work correctly with expressions and also do an "internal as.character()"
as well.
Also, text() typically coerces its 'labels' argument to
character though text() is generic nowadays, and the coercion is
not really guaranteed.

For compatibilty & "safety" reasons, 
it might be better to keep do as.character() *unless* the
attributes are of mode "expression" ...

Other opionions?


    Torsten> Otherwise one could plot the attributes directly via

    Torsten> diff dendrogram.R /usr/src/R/src/library/stats/R/dendrogram.R
    Torsten> 317c317
    Torsten> <               text(xBot, yBot + vln, attr(child,"label"))
    Torsten> ---
    >> text(xBot, yBot + vln, nodeText)
    Torsten> 337c337
    Torsten> <                 text(mx, my, attr(child, "edgetext"))
    Torsten> ---
    >> text(mx, my, edgeText)
    Torsten> 344c344
    Torsten> <                 text(xBot, my, attr(child, "edgetext"))
    Torsten> ---
    >> text(xBot, my, edgeText)

    Torsten> and one could use expressions for plotting symbols.

yes, that's a good idea and will be allowed in 1.9.0

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

From ripley at stats.ox.ac.uk  Mon Mar 15 10:24:48 2004
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon Mar 15 10:24:40 2004
Subject: [Rd] R-devel has zlib updated to 1.2.1
Message-ID: <Pine.LNX.4.44.0403150922530.29087-100000@gannet.stats>

and so you will probably need to

(cd src/extra/zlib; make distclean)
./configure

after updating the sources, as some files have been removed that appear 
as dependencies.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From ripley at stats.ox.ac.uk  Mon Mar 15 12:18:07 2004
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon Mar 15 12:18:11 2004
Subject: [Rd] Bug in tapply with factors containing NAs (PR#6672)
In-Reply-To: <20040315082959.6822EEDDC@slim.kubism.ku.dk>
References: <20040315082959.6822EEDDC@slim.kubism.ku.dk>
Message-ID: <Pine.WNT.4.58.0403151058190.1964@auk>

On Mon, 15 Mar 2004 george.leigh@dpi.qld.gov.au wrote:

> Full_Name: George Leigh
> Version: 1.8.1
> OS: Windows 2000
> Submission from: (NULL) (203.25.1.208)
>
>
> The following example gives the correct answer when the first argument of tapply
> is a numeric vector, but an incorrect answer when it is a factor.  If the
> function used by tapply is "length", the type and contents of the first argument
> should make no difference, provided it has the same length as the second
> argument.

Not so:

> split(x, y)
$"1"
[1] 1

> split(y, y)
$"1"
[1] <NA> 1
Levels: 1

Note that as there is only one level, NA must be 1 in y, whereas it does
not have to be in x.  So the answer for a factor in your problem is
definitely correct, if fortuitous.

R does the same as S in this example.

If there were more than one level in y, the issue is less clearcut.
Probably y[[k]] <- x[f == k] in split.default should be x[f %in% k]

Note too

z <- x; class(x) <- "foo"
> split(z, y)
$"1"
[1] NA  1


> x = c(NA, 1)
> > y = factor(x)
> > tapply(x, y, length)
> 1
> 1
> > tapply(y, y, length)
> 1
> 2

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From p.dalgaard at biostat.ku.dk  Mon Mar 15 12:20:22 2004
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard)
Date: Mon Mar 15 12:21:09 2004
Subject: [Rd] Bug in tapply with factors containing NAs (PR#6672)
In-Reply-To: <20040315082959.6822EEDDC@slim.kubism.ku.dk>
References: <20040315082959.6822EEDDC@slim.kubism.ku.dk>
Message-ID: <x2brmytkzt.fsf@biostat.ku.dk>

george.leigh@dpi.qld.gov.au writes:

> Full_Name: George Leigh
> Version: 1.8.1
> OS: Windows 2000
> Submission from: (NULL) (203.25.1.208)
> 
> 
> The following example gives the correct answer when the first argument of tapply
> is a numeric vector, but an incorrect answer when it is a factor.  If the
> function used by tapply is "length", the type and contents of the first argument
> should make no difference, provided it has the same length as the second
> argument.
> 
> > x = c(NA, 1)
> > y = factor(x)
> > tapply(x, y, length)
> 1 
> 1 
> > tapply(y, y, length)
> 1 
> 2 
> >

The core of this is that

> split(y,y)
$"1"
[1] <NA> 1
Levels: 1

> split(x,y)
$"1"
[1] 1


which in turn comes from the innards of split.default:

...
    if (is.null(attr(x, "class")) && is.null(names(x)))
        return(.Internal(split(x, f)))
    lf <- levels(f)
    y <- vector("list", length(lf))
    names(y) <- lf
    for (k in lf) y[[k]] <- x[f == k]
    y

Factors have a class attribute, so you don't use the internal code in
that case and

> y[y=="1"]
[1] <NA> 1
Levels: 1 

I think the line in split.default  needs to read

    for (k in lf) y[[k]] <- x[!is.na(f) & f == k]

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

From p.dalgaard at biostat.ku.dk  Mon Mar 15 12:32:48 2004
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard)
Date: Mon Mar 15 12:33:45 2004
Subject: [Rd] R-devel has zlib updated to 1.2.1
In-Reply-To: <Pine.LNX.4.44.0403150922530.29087-100000@gannet.stats>
References: <Pine.LNX.4.44.0403150922530.29087-100000@gannet.stats>
Message-ID: <x27jxmtkf3.fsf@biostat.ku.dk>

Prof Brian Ripley <ripley@stats.ox.ac.uk> writes:

[at 9:24 GMT]

> and so you will probably need to
> 
> (cd src/extra/zlib; make distclean)
> ./configure
> 
> after updating the sources, as some files have been removed that appear 
> as dependencies.

...and of course, due to mailing list delay, I get to learn about it
two hours later at 12:24 CET *while* the alpha snapshot script is
running in Wisconsin. Not much to do except wait for it to complete
and see what happens, I think. Argh.

        -p

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

From tplate at blackmesacapital.com  Mon Mar 15 17:51:57 2004
From: tplate at blackmesacapital.com (Tony Plate)
Date: Mon Mar 15 17:52:04 2004
Subject: [Rd] new version of abind()
Message-ID: <6.0.3.0.2.20040315093904.04c5abd8@mailhost.blackmesacapital.com>

There is a new version of the abind package on CRAN (abind_1.1-0).  The 
behavior of the function abind() has been enhanced slightly (it can now 
accept a list as the first argument), and changed slightly (to no longer 
add the usually annoying and useless default dimension names).  There is 
also a new function in the package: adrop(), which does approximately what 
drop() does, but allows control over which dimensions are dropped.

Details:

2004-03-12    <tplate@ACONCAGUA>

	* R/abind.R man/abind.Rd
	allow first argument of abind() to be a list of objects to be
	bound -- this avoids the need for do.call() when one wants to bind
	a list of objects

	* R/abind.R man/abind.Rd
	changed argument name 'use.anon.names' to the more intuitive
	'make.names' (the argument 'use.anon.names' still works)

	* R/abind.R man/abind.Rd
	changed default value for 'make.names' to FALSE (now more closely
	behaves like rbind() and cbind()).  This means that dimension
           names for dimensions that have no names are only constructed
           when requested, not by default.

	* R/adrop.R man/adrop.Rd
	added new function adrop().  This is a function like drop(), but it
           allows to user to specify which of the dimensions with extent one
           will be dropped.


Please let me know of any problems.

-- Tony Plate

From hb at maths.lth.se  Mon Mar 15 20:13:13 2004
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Mon Mar 15 20:14:22 2004
Subject: [Rd] R v1.9.0 alpha w/ Rtools: gzip problem
Message-ID: <000401c40ac1$94abf600$b70040d5@maths.lth.se>

Hi, Gordon Smyth brought the following problem to my attention.

PROBLEM/"BUG":

Using R v1.9.0 alpha for Windows and the latest Rtools from Brian
Ripley you get the following problem trying to R CMD build a package
(or a bundle);

>R CMD build R.basic
* checking for file 'R.basic/DESCRIPTION' ... OK
* preparing 'R.basic':
* checking whether 'INDEX' is up-to-date ... NO
* use '--force' to overwrite the existing 'INDEX'
* removing junk files
* building 'R.basic_0.36.tar.gz'
/cygdrive/C/users/braju.com.R/R.basic/R.basic_0.36.tar: No such file
or directory

TROUBLESHOOTING:

Trying to gzip the tar-file manually (using gzip in B. Ripley's
Rtools) you get the same error;

>gzip /cygdrive/C/users/braju.com.R/R.basic/R.basic_0.36.tar
/cygdrive/C/users/braju.com.R/R.basic/R.basic_0.36.tar: No such file
or directory

HOWEVER, if you do

>cd /cygdrive/C/users/braju.com.R/R.basic/
>gzip R.basic_0.36.tar

it works. This is also the strategy in the R v1.8.1 build script. In
the R v1.9.0 alpha script all gzip calls are on absolute pathnames;

	R_system("$tar chf $filepath $pkgname");
	R_system("gzip -9f $filepath");

cf.

	system("$tar chf $filepath $pkgname");
	chdir($startdir);
	rmtree($tmpdir);
	system("gzip -9f $filename");

Modifying the build v1.9.0 alpha to do the latter things works again.

More hints: Trying different strategies, it looks like gzip has a
problem with /cygdrive/ and/or /cygdrive/C/. It is not clear from
README.packages or README in Rtools if/how gzip has been modified.
Strangely(?) though, putting the tar-file in /tmp/ and doing

>gzip /tmp/R.basic_0.36.tar

works just fine.

Best wishes

Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences
Lund Institute of Technology/Lund University, Sweden 
(Sweden +1h UTC, Melbourne +11 UTC, Calif. -8h UTC)
+46 708 909208 (cell), +46 46 320 820 (home), 
+1 (508) 464 6644 (global fax),
+46 46 2229611 (off), +46 46 2224623 (dept. fax)
h b @ m a t h s . l t h . s e, http://www.maths.lth.se/~hb/

From ripley at stats.ox.ac.uk  Mon Mar 15 21:20:35 2004
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon Mar 15 21:20:51 2004
Subject: [Rd] R v1.9.0 alpha w/ Rtools: gzip problem
In-Reply-To: <000401c40ac1$94abf600$b70040d5@maths.lth.se>
Message-ID: <Pine.LNX.4.44.0403152009440.4208-100000@gannet.stats>

gzip is a Windows gzip: only tar expects Cygwin paths.

I have committed a fix keeping separate paths for tar and gzip.

On Mon, 15 Mar 2004, Henrik Bengtsson wrote:

> Hi, Gordon Smyth brought the following problem to my attention.
> 
> PROBLEM/"BUG":
> 
> Using R v1.9.0 alpha for Windows and the latest Rtools from Brian
> Ripley you get the following problem trying to R CMD build a package
> (or a bundle);
> 
> >R CMD build R.basic
> * checking for file 'R.basic/DESCRIPTION' ... OK
> * preparing 'R.basic':
> * checking whether 'INDEX' is up-to-date ... NO
> * use '--force' to overwrite the existing 'INDEX'
> * removing junk files
> * building 'R.basic_0.36.tar.gz'
> /cygdrive/C/users/braju.com.R/R.basic/R.basic_0.36.tar: No such file
> or directory
> 
> TROUBLESHOOTING:
> 
> Trying to gzip the tar-file manually (using gzip in B. Ripley's
> Rtools) you get the same error;
> 
> >gzip /cygdrive/C/users/braju.com.R/R.basic/R.basic_0.36.tar
> /cygdrive/C/users/braju.com.R/R.basic/R.basic_0.36.tar: No such file
> or directory
> 
> HOWEVER, if you do
> 
> >cd /cygdrive/C/users/braju.com.R/R.basic/
> >gzip R.basic_0.36.tar
> 
> it works. This is also the strategy in the R v1.8.1 build script. In
> the R v1.9.0 alpha script all gzip calls are on absolute pathnames;
> 
> 	R_system("$tar chf $filepath $pkgname");
> 	R_system("gzip -9f $filepath");
> 
> cf.
> 
> 	system("$tar chf $filepath $pkgname");
> 	chdir($startdir);
> 	rmtree($tmpdir);
> 	system("gzip -9f $filename");
> 
> Modifying the build v1.9.0 alpha to do the latter things works again.
> 
> More hints: Trying different strategies, it looks like gzip has a
> problem with /cygdrive/ and/or /cygdrive/C/. It is not clear from
> README.packages or README in Rtools if/how gzip has been modified.

It is *perfectly* clear: it says it was compiled from the sources in all
of INSTALL, README.packages and README.txt (sic).  (Had the sources been
modified I would be required to distribute the modified version, and I
don't.)

> Strangely(?) though, putting the tar-file in /tmp/ and doing
> 
> >gzip /tmp/R.basic_0.36.tar
> 
> works just fine.

That's a valid Windows path.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From jgentry at jimmy.harvard.edu  Mon Mar 15 22:17:07 2004
From: jgentry at jimmy.harvard.edu (Jeff Gentry)
Date: Mon Mar 15 22:16:50 2004
Subject: [Rd] gzfile & read.table on Win32
Message-ID: <Pine.SOL.4.20.0403151542130.1094-100000@santiam.dfci.harvard.edu>

Hello ...

Are there any known problems or even gotchas to look out for when using a
gzfile connection in read.csv/read.table in Windows?

In the package PROcess, available at
www.bioconductor.org/repository/devel/package/html/PROcess.html
there are two files in the PROcess/inst/Test directory which are of the
extension *.csv.gz.

With both files, if I open up a gzfile connection, say:
vv <- gzfile("122402imac40-s-c-192combined i11.csv.gz")
I can then do:
readLines(vv, n=10)

And it works as expected.  However, if I do this:

read.csv(vv)

I get a warning:
Warning: incomplete final line found by readTableHeader on
`c:/repository/checks/PROcess.Rcheck/PROcess/Test/122402imac40-s-c-192combined
i11.csv.gz'

and the results of the read.table are completely broken (basically it
returns a 0 row matrix, with one column (with the first column name listed
in the csv file).  Furthermore, the connection variable itself seems to
get mangled in the process, if I type the variable name (e.g. 'vv' from
above), I get:
> vv
Error in summary.connection(x) : invalid connection

Note that if I manually gunzip the file and then do a 'read.csv' in R,
everything works properly - so it doesn't appear to be the actual file
itself, but somehow related to reading it in as a compressed file.

This is showing up both on R-1.8.1 and R-devel (admittedly a bit out of
date, currently using 2004-03-08 and am trying to update on Windows now).

Thanks
-J

From mvdv at spamcop.net  Tue Mar 16 06:41:43 2004
From: mvdv at spamcop.net (Mark Van De Vyver)
Date: Tue Mar 16 06:41:54 2004
Subject: [Rd] Changing ComputerModern in postscript(...): A first attempt at
	contributing....
Message-ID: <000001c40b19$5d054190$344610ac@FEB0480>

Hi
First off, thanks to all the various R developers, your package is very
impressive.

I'm not sure what the protocols are for contributing, and I've not done this
before, so please excuse nay obvious errors or oversights...  Also I'm by no
means an R,TeX/LaTeX, or typesetting expert, I have largely stumbled my way
to this point.

Objective: I'd like to get R postscript(...) to generate output that has the
TeX italic font when I use italic(...) in an R graphic.  

I found out that the R postscript(..font="ComputerModern") outputs slanted
text when the R function italic(..) is used in a graphic.  I think the text
should use the italic font.
For a quick overview of italic vs. slant vs. oblique see
http://www.eyewire.com/magazine/columns/robin/italic/

A response from Brian Ripley pointed me to the src/main/devPS.c file, and I
traced this behaviour to the use of the slanted/oblique afm font files,
rather than the italic afm font files.  Anyway, I did some homework and
realised that making the change may not be too difficult, except for needing
the Computer Modern afm font files - not included in MikTeX (on my machine
at least).  Fortunately the Latin Modern fonts do include the afm files and
are supposed to be an improvement over Computer Modern, so I thought to make
both changes; update/replace Computer Modern with Latin Modern, and change
the font used when italic text is output.

I read on one OpenSource project that they prefer patches generated from
"diff -u4".  I couldn't see explicit instructions on the R web site so I've
attached a "diff -u4" file.

Adopting this patch would require adding the following Latin Modern afm font
files to the R afm fonts folder:
lmr10.afm
lmbx10.afm
lmri10.afm
lmbxi10.afm

These fonts are available in the Latin Modern Fonts package.  To find out
about Latin Modern see
http://www.tex.ac.uk/cgi-bin/texfaq2html?label=uselmfonts
Note, I had to leave the CM_symbol_10 file since I'm not sure that there is
a Latin Modern replacement?

Unfortunately I wasn't able to build R using Cygwin (configure works OK but
make fails), so I have not been able to test the changes.  I'll keep looking
into getting R to build, but in the mean time I thought someone may be
interested in the changes?
I think the change I made means that font="ComputerModern" still works but
outputs Latin Modern fonts and this is misleading, so perhaps drop
"ComputerModern" in favour of "LatinModern" and/or obtain Computer Modern
italic afm font files and update CM_italic_10.afm and
CM_boldx_italic_10.afm.  I'm not a font pro but it seems that converting
between different font files is not so straight forward, but the Computer
Modern italic afm files may be available to someone?
 
HTH
Mark



Mark Van De Vyver
B.Bus(Hons), PhD(Dist)
Lecturer
Finance Discipline
School of Business
Faculty of Economics and Business
Economics & Business Building H69
The University of Sydney  
Sydney  NSW  2006  Australia
Telephone: +61 2 9351-6452
Fax: +61 2 9351-6461
Mobile: 0428 281407

mailto:mvdv@spamcop.net
http:\\www.econ.usyd.edu.au

From ripley at stats.ox.ac.uk  Tue Mar 16 08:52:03 2004
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue Mar 16 08:52:22 2004
Subject: [Rd] Changing ComputerModern in postscript(...): A first attempt
	at contributing....
In-Reply-To: <000001c40b19$5d054190$344610ac@FEB0480>
Message-ID: <Pine.LNX.4.44.0403160716060.5148-100000@gannet.stats>

We don't in general add things like this, and you can just use the 
family= mechanism to set things up as you like.  We added Computer Modern 
as several people wanted fonts to match the standard TeX fonts.  We don't 
want to change that.  (I believe we did so before we had a general 
mechanism to use a user-specified family.)  

Note that the `italic' font is principally intended to set whole titles in
italic (via font=) and most people prefer oblique for that -- R's standard
graphics font, Helevetica, uses oblique not italic.

To reiterate: all you need to do is prepare suitable .afm fonts and 
specify family= as a five-path character string.

Professor Ripley


On Tue, 16 Mar 2004, Mark Van De Vyver wrote:

> Hi
> First off, thanks to all the various R developers, your package is very
> impressive.
> 
> I'm not sure what the protocols are for contributing, and I've not done this
> before, so please excuse nay obvious errors or oversights...  Also I'm by no
> means an R,TeX/LaTeX, or typesetting expert, I have largely stumbled my way
> to this point.
> 
> Objective: I'd like to get R postscript(...) to generate output that has the
> TeX italic font when I use italic(...) in an R graphic.  

All you need to do is to set the family= argument.

> I found out that the R postscript(..font="ComputerModern") outputs slanted
> text when the R function italic(..) is used in a graphic.  I think the text
> should use the italic font.
> For a quick overview of italic vs. slant vs. oblique see
> http://www.eyewire.com/magazine/columns/robin/italic/
> 
> A response from Brian Ripley pointed me to the src/main/devPS.c file, and I
> traced this behaviour to the use of the slanted/oblique afm font files,
> rather than the italic afm font files.  

That's what *I* said, so your tracing should have amounted to reading my 
email!  It's not quite correct either: R uses the afm file to know what 
font name to insert in the postscript file.

> Anyway, I did some homework and realised that making the change may not
> be too difficult, except for needing the Computer Modern afm font files
> - not included in MikTeX (on my machine at least).

They are on CTAN.

> Fortunately the Latin Modern fonts do include the afm files and
> are supposed to be an improvement over Computer Modern, so I thought to make
> both changes; update/replace Computer Modern with Latin Modern, and change
> the font used when italic text is output.
> 
> I read on one OpenSource project that they prefer patches generated from
> "diff -u4".  I couldn't see explicit instructions on the R web site so I've
> attached a "diff -u4" file.
> 
> Adopting this patch would require adding the following Latin Modern afm font
> files to the R afm fonts folder:
> lmr10.afm
> lmbx10.afm
> lmri10.afm
> lmbxi10.afm
> 
> These fonts are available in the Latin Modern Fonts package.  To find out
> about Latin Modern see
> http://www.tex.ac.uk/cgi-bin/texfaq2html?label=uselmfonts
> Note, I had to leave the CM_symbol_10 file since I'm not sure that there is
> a Latin Modern replacement?

It would also require re-encoding them as they are not in a standard 
encoding.  That's why the CM*.afm files there have different names.
(The symbol font is in a completely different encoding.)

> Unfortunately I wasn't able to build R using Cygwin (configure works OK but
> make fails), 

R cannot be built under Cygwin -- please do RTFM.

> so I have not been able to test the changes.  I'll keep looking
> into getting R to build, but in the mean time I thought someone may be
> interested in the changes?

Which you haven't tested, I gather?

> I think the change I made means that font="ComputerModern" still works but
> outputs Latin Modern fonts and this is misleading, so perhaps drop
> "ComputerModern" in favour of "LatinModern" and/or obtain Computer Modern
> italic afm font files and update CM_italic_10.afm and
> CM_boldx_italic_10.afm.  I'm not a font pro but it seems that converting
> between different font files is not so straight forward, but the Computer
> Modern italic afm files may be available to someone?

They are available to everyone.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From ripley at stats.ox.ac.uk  Tue Mar 16 11:18:23 2004
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue Mar 16 11:18:24 2004
Subject: [Rd] Changing ComputerModern in postscript(...): A first attempt
	at contributing....
In-Reply-To: <Pine.LNX.4.44.0403160716060.5148-100000@gannet.stats>
References: <Pine.LNX.4.44.0403160716060.5148-100000@gannet.stats>
Message-ID: <Pine.WNT.4.58.0403161017290.3156@auk>

I've added an example of using italic Computer Modern to the postscript
help file in 1.9.0 alpha, as well as suitbale .afm files.


On Tue, 16 Mar 2004, Prof Brian Ripley wrote:

> We don't in general add things like this, and you can just use the
> family= mechanism to set things up as you like.  We added Computer Modern
> as several people wanted fonts to match the standard TeX fonts.  We don't
> want to change that.  (I believe we did so before we had a general
> mechanism to use a user-specified family.)
>
> Note that the `italic' font is principally intended to set whole titles in
> italic (via font=) and most people prefer oblique for that -- R's standard
> graphics font, Helevetica, uses oblique not italic.
>
> To reiterate: all you need to do is prepare suitable .afm fonts and
> specify family= as a five-path character string.
>
> Professor Ripley
>
>
> On Tue, 16 Mar 2004, Mark Van De Vyver wrote:
>
> > Hi
> > First off, thanks to all the various R developers, your package is very
> > impressive.
> >
> > I'm not sure what the protocols are for contributing, and I've not done this
> > before, so please excuse nay obvious errors or oversights...  Also I'm by no
> > means an R,TeX/LaTeX, or typesetting expert, I have largely stumbled my way
> > to this point.
> >
> > Objective: I'd like to get R postscript(...) to generate output that has the
> > TeX italic font when I use italic(...) in an R graphic.
>
> All you need to do is to set the family= argument.
>
> > I found out that the R postscript(..font="ComputerModern") outputs slanted
> > text when the R function italic(..) is used in a graphic.  I think the text
> > should use the italic font.
> > For a quick overview of italic vs. slant vs. oblique see
> > http://www.eyewire.com/magazine/columns/robin/italic/
> >
> > A response from Brian Ripley pointed me to the src/main/devPS.c file, and I
> > traced this behaviour to the use of the slanted/oblique afm font files,
> > rather than the italic afm font files.
>
> That's what *I* said, so your tracing should have amounted to reading my
> email!  It's not quite correct either: R uses the afm file to know what
> font name to insert in the postscript file.
>
> > Anyway, I did some homework and realised that making the change may not
> > be too difficult, except for needing the Computer Modern afm font files
> > - not included in MikTeX (on my machine at least).
>
> They are on CTAN.
>
> > Fortunately the Latin Modern fonts do include the afm files and
> > are supposed to be an improvement over Computer Modern, so I thought to make
> > both changes; update/replace Computer Modern with Latin Modern, and change
> > the font used when italic text is output.
> >
> > I read on one OpenSource project that they prefer patches generated from
> > "diff -u4".  I couldn't see explicit instructions on the R web site so I've
> > attached a "diff -u4" file.
> >
> > Adopting this patch would require adding the following Latin Modern afm font
> > files to the R afm fonts folder:
> > lmr10.afm
> > lmbx10.afm
> > lmri10.afm
> > lmbxi10.afm
> >
> > These fonts are available in the Latin Modern Fonts package.  To find out
> > about Latin Modern see
> > http://www.tex.ac.uk/cgi-bin/texfaq2html?label=uselmfonts
> > Note, I had to leave the CM_symbol_10 file since I'm not sure that there is
> > a Latin Modern replacement?
>
> It would also require re-encoding them as they are not in a standard
> encoding.  That's why the CM*.afm files there have different names.
> (The symbol font is in a completely different encoding.)
>
> > Unfortunately I wasn't able to build R using Cygwin (configure works OK but
> > make fails),
>
> R cannot be built under Cygwin -- please do RTFM.
>
> > so I have not been able to test the changes.  I'll keep looking
> > into getting R to build, but in the mean time I thought someone may be
> > interested in the changes?
>
> Which you haven't tested, I gather?
>
> > I think the change I made means that font="ComputerModern" still works but
> > outputs Latin Modern fonts and this is misleading, so perhaps drop
> > "ComputerModern" in favour of "LatinModern" and/or obtain Computer Modern
> > italic afm font files and update CM_italic_10.afm and
> > CM_boldx_italic_10.afm.  I'm not a font pro but it seems that converting
> > between different font files is not so straight forward, but the Computer
> > Modern italic afm files may be available to someone?
>
> They are available to everyone.
>
> --
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From JensHenrik.Badsberg at agrsci.dk  Tue Mar 16 11:38:29 2004
From: JensHenrik.Badsberg at agrsci.dk (Jens Henrik Badsberg)
Date: Tue Mar 16 11:38:38 2004
Subject: [Rd] VS: Documentation on how to put classes and methods in
	packages with namespace?
Message-ID: <C83C5E3DEEE97E498B74729A33F6EAECECD507@DJFPOST01.djf.agrsci.dk>



>  -----Oprindelig meddelelse-----
> Fra: 	Jens Henrik Badsberg  
> Sendt:	16. marts 2004 11:37
> Til:	'r-help@stat.math.ethz.ch'
> Emne:	Documentation on how to put classes and methods in packages with namespace?
> 
> 
>  Documentation on how to put classes and methods in packages with namespace?
> 
>  How should I define my classes and methods in "dynamicGraph"???
> 
>  (That is - Can some one point me to the documentation on
>  how to put classes and methods in packages with a namespace? )
> 
>  Currently it is done by the code below.
> 
>  This gives problems, when a workspace with a "dynmaicGraph" is restored:
> 
>  1. run:
> 
>      local({a <- CRAN.packages()
>      install.packages(select.list(a[,1],,TRUE), .libPaths()[1], available=a)})
>      search()
>      library(dynamicGraph)
>      a <- DynamicGraph(1:10)
>      search()
>      ls(pos=3, all.names=TRUE)
>      history()
>      q(save="yes")
> 
>  2. run:
> 
>      search()
>      ls()
>      library(dynamicGraph)
>      search()
>      ls(pos=3, all.names=TRUE)
>      b <- DynamicGraph(1:10)
>      history()
> 
>  The classes and methods of dynamicGraph is not assigned, see the attached "run2.txt",
>  and compare with the list of the objects of dynamicGraph in "run1.txt".
> 
>  I have experimented with the argument "where" to setClass, etc., see the attached
>  "onLoad.R".
> 
>  Regards,
> 
>  Jens Henrik Badsberg
> 
> 
> 
> ".onAttach" <-
> function (lib, pkg) 
> {
>     require(tcltk)
> }
> ".onLoad" <-
> function (lib, pkg) 
> {
>     .onLoad.dynamicGraph()
> }
> ".onLoad.dynamicGraph" <-
> function () 
> {
>     library(methods)
>     setClass("GraphLatticeProto", representation(vertices = "list", 
>         blocks = "list", blockTree = "list", graphs = "list"))
>     setClass("CanvasProto", representation(top = "tkwin", canvas = "tkwin", 
>         tags = "list", id = "numeric", visibleVertices = "numeric", 
>         graphEdges = "list", blockEdges = "list", factorVertices = "list", 
>         factorEdges = "list"))
>     setClass("NodeProto", representation(color = "character", 
>         label = "character", label.position = "numeric"), prototype(color = "black", 
>         label = "Label", label.position = c(0, 0, 0)))
> 
>     ### .... Many lines deleted ....
> 
>     if (!isGeneric("label")) {
>         if (is.function("label")) 
>             fun <- label
>         else fun <- function(object) standardGeneric("label")
>         setGeneric("label", fun)
>     }
>     setMethod("label", "NodeProto", function(object) object@label)
>     setGeneric("label<-", function(x, value) standardGeneric("label<-"))
>     setReplaceMethod("label", "NodeProto", function(x, value) {
>         x@label <- value
>         x
>     })
> 
>     ### .... Many lines deleted ....
> 
> }
> >  <<run1.txt>> > >  <<run2.txt>> > >  <<onLoad.R>> 
-------------- next part --------------


local({a <- CRAN.packages()
install.packages(select.list(a[,1],,TRUE), .libPaths()[1], available=a)})
search()
library(dynamicGraph)
a <- DynamicGraph(1:10)
search()
ls(pos=3, all.names=TRUE)
history()
q(save="yes")



R : Copyright 2003, The R Foundation for Statistical Computing
Version 1.8.1  (2003-11-21), ISBN 3-900051-00-3

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for a HTML browser interface to help.
Type 'q()' to quit R.

> local({a <- CRAN.packages()
+ install.packages(select.list(a[,1],,TRUE), .libPaths()[1], available=a)})
trying URL `http://cran.r-project.org/bin/windows/contrib/1.8/PACKAGES'
Content type `text/plain; charset=iso-8859-1' length 16234 bytes
opened URL
downloaded 15Kb

trying URL `http://cran.r-project.org/bin/windows/contrib/1.8/dynamicGraph_0.1.5.9.9.8.8.zip'
Content type `application/zip' length 347067 bytes
opened URL
downloaded 338Kb

package  dynamicGraph  successfully unpacked and MD5 sums checked

Delete downloaded files (y/N)? y

updating HTML package descriptions
> search()
[1] ".GlobalEnv"      "package:methods" "package:ctest"   "package:mva"    
[5] "package:modreg"  "package:nls"     "package:ts"      "Autoloads"      
[9] "package:base"   
> library(dynamicGraph)
Loading required package: tcltk 
> a <- DynamicGraph(1:10)
> search()
 [1] ".GlobalEnv"           "package:tcltk"        "package:dynamicGraph"
 [4] "package:methods"      "package:ctest"        "package:mva"         
 [7] "package:modreg"       "package:nls"          "package:ts"          
[10] "Autoloads"            "package:base"        
> ls(pos=3, all.names=TRUE)
  [1] ".__C__BlockEdgeProto"                   ".__C__BlockProto"                      
  [3] ".__C__CanvasProto"                      ".__C__ContinuousVertexProto"           
  [5] ".__C__defaultModelObjectProto"          ".__C__defaultTestObjectProto"          
  [7] ".__C__DiscreteGeneratorProto"           ".__C__DiscreteVertexProto"             
  [9] ".__C__EdgeProto"                        ".__C__FactorEdgeProto"                 
 [11] ".__C__FactorVertexProto"                ".__C__GeneratorProto"                  
 [13] ".__C__GraphLatticeProto"                ".__C__LinearGeneratorProto"            
 [15] ".__C__NodeProto"                        ".__C__OrdinalVertexProto"              
 [17] ".__C__QuadraticGeneratorProto"          ".__C__VertexEdgeProto"                 
 [19] ".__C__VertexProto"                      ".__M__addToPopups:dynamicGraph"        
 [21] ".__M__ancestors:dynamicGraph"           ".__M__ancestors<-:dynamicGraph"        
 [23] ".__M__color:dynamicGraph"               ".__M__color<-:dynamicGraph"            
 [25] ".__M__Colors:dynamicGraph"              ".__M__Colors<-:dynamicGraph"           
 [27] ".__M__descendants:dynamicGraph"         ".__M__descendants<-:dynamicGraph"      
 [29] ".__M__draw:dynamicGraph"                ".__M__edgeLabel:dynamicGraph"          
 [31] ".__M__edgeLabel<-:dynamicGraph"         ".__M__edgeWidth:dynamicGraph"          
 [33] ".__M__edgeWidth<-:dynamicGraph"         ".__M__index:dynamicGraph"              
 [35] ".__M__index<-:dynamicGraph"             ".__M__Indices:dynamicGraph"            
 [37] ".__M__label:dynamicGraph"               ".__M__label<-:dynamicGraph"            
 [39] ".__M__labelOfEdge:dynamicGraph"         ".__M__labelOfEdge<-:dynamicGraph"      
 [41] ".__M__labelPosition:dynamicGraph"       ".__M__labelPosition<-:dynamicGraph"    
 [43] ".__M__LabelPositions:dynamicGraph"      ".__M__LabelPositions<-:dynamicGraph"   
 [45] ".__M__Labels:dynamicGraph"              ".__M__Labels<-:dynamicGraph"           
 [47] ".__M__name:dynamicGraph"                ".__M__name<-:dynamicGraph"             
 [49] ".__M__Names:dynamicGraph"               ".__M__Names<-:dynamicGraph"            
 [51] ".__M__NodeAncestors:dynamicGraph"       ".__M__NodeAncestors<-:dynamicGraph"    
 [53] ".__M__NodeDescendants:dynamicGraph"     ".__M__NodeDescendants<-:dynamicGraph"  
 [55] ".__M__nodeIndices:dynamicGraph"         ".__M__NodeIndices:dynamicGraph"        
 [57] ".__M__nodeIndices<-:dynamicGraph"       ".__M__nodeIndicesOfEdge:dynamicGraph"  
 [59] ".__M__nodeIndicesOfEdge<-:dynamicGraph" ".__M__NodeTypes:dynamicGraph"          
 [61] ".__M__nodeTypesOfEdge:dynamicGraph"     ".__M__oriented:dynamicGraph"           
 [63] ".__M__Oriented:dynamicGraph"            ".__M__oriented<-:dynamicGraph"         
 [65] ".__M__Oriented<-:dynamicGraph"          ".__M__position:dynamicGraph"           
 [67] ".__M__position<-:dynamicGraph"          ".__M__Positions:dynamicGraph"          
 [69] ".__M__Positions<-:dynamicGraph"         ".__M__Strata:dynamicGraph"             
 [71] ".__M__Strata<-:dynamicGraph"            ".__M__stratum:dynamicGraph"            
 [73] ".__M__stratum<-:dynamicGraph"           ".__M__visible:dynamicGraph"            
 [75] ".__M__Visible:dynamicGraph"             ".__M__visible<-:dynamicGraph"          
 [77] ".__M__Visible<-:dynamicGraph"           ".__M__width:dynamicGraph"              
 [79] ".__M__width<-:dynamicGraph"             ".__M__widthOfEdge:dynamicGraph"        
 [81] ".__M__widthOfEdge<-:dynamicGraph"       ".__M__Widths:dynamicGraph"             
 [83] ".__M__Widths<-:dynamicGraph"            ".onLoad.dynamicGraph"                  
 [85] ".onLoad.dynamicGraphInterface"          "addToPopups"                           
 [87] "ancestors"                              "ancestors<-"                           
 [89] "blockTreeToList"                        "color"                                 
 [91] "color<-"                                "Colors"                                
 [93] "Colors<-"                               "descendants"                           
 [95] "descendants<-"                          "draw"                                  
 [97] "DynamicGraph"                           "dynamicGraphMain"                      
 [99] "edgeLabel"                              "edgeLabel<-"                           
[101] "edgeWidth"                              "edgeWidth<-"                           
[103] "index"                                  "index<-"                               
[105] "Indices"                                "label"                                 
[107] "label<-"                                "labelOfEdge"                           
[109] "labelOfEdge<-"                          "labelPosition"                         
[111] "labelPosition<-"                        "LabelPositions"                        
[113] "LabelPositions<-"                       "Labels"                                
[115] "Labels<-"                               "modalDialog"                           
[117] "name"                                   "name<-"                                
[119] "Names"                                  "Names<-"                               
[121] "nameToVertexIndex"                      "newBlock"                              
[123] "newBlockEdge"                           "newDefaultModelObject"                 
[125] "newDefaultTestObject"                   "newFactor"                             
[127] "newFactorEdge"                          "newVertex"                             
[129] "newVertexEdge"                          "NodeAncestors"                         
[131] "NodeAncestors<-"                        "NodeDescendants"                       
[133] "NodeDescendants<-"                      "nodeIndices"                           
[135] "NodeIndices"                            "nodeIndices<-"                         
[137] "nodeIndicesOfEdge"                      "nodeIndicesOfEdge<-"                   
[139] "NodeTypes"                              "nodeTypesOfEdge"                       
[141] "oriented"                               "Oriented"                              
[143] "oriented<-"                             "Oriented<-"                            
[145] "position"                               "position<-"                            
[147] "Positions"                              "Positions<-"                           
[149] "returnBlockEdgeList"                    "returnEdgeList"                        
[151] "returnFactorEdgeList"                   "returnFactorVerticesAndEdges"          
[153] "returnVertexList"                       "setBlocks"                             
[155] "setTreeBlocks"                          "Strata"                                
[157] "Strata<-"                               "stratum"                               
[159] "stratum<-"                              "validFactorClasses"                    
[161] "validVertexClasses"                     "visible"                               
[163] "Visible"                                "visible<-"                             
[165] "Visible<-"                              "width"                                 
[167] "width<-"                                "widthOfEdge"                           
[169] "widthOfEdge<-"                          "Widths"                                
[171] "Widths<-"                              
> history()
> q(save="yes")

-------------- next part --------------
search()
ls()
library(dynamicGraph)
search()
ls(pos=3, all.names=TRUE)
b <- DynamicGraph(1:10)
history()


Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for a HTML browser interface to help.
Type 'q()' to quit R.

[Previously saved workspace restored]

> search()
[1] ".GlobalEnv"      "package:ctest"   "package:mva"     "package:modreg"  "package:nls"    
[6] "package:ts"      "package:methods" "Autoloads"       "package:base"   
> ls()
[1] "a"
> library(dynamicGraph)
Loading required package: tcltk 
> search()
 [1] ".GlobalEnv"           "package:tcltk"        "package:dynamicGraph"
 [4] "package:ctest"        "package:mva"          "package:modreg"      
 [7] "package:nls"          "package:ts"           "package:methods"     
[10] "Autoloads"            "package:base"        
> ls(pos=3, all.names=TRUE)
 [1] ".onLoad.dynamicGraph"          ".onLoad.dynamicGraphInterface"
 [3] "blockTreeToList"               "DynamicGraph"                 
 [5] "dynamicGraphMain"              "modalDialog"                  
 [7] "nameToVertexIndex"             "newBlock"                     
 [9] "newBlockEdge"                  "newDefaultModelObject"        
[11] "newDefaultTestObject"          "newFactor"                    
[13] "newFactorEdge"                 "newVertex"                    
[15] "newVertexEdge"                 "returnBlockEdgeList"          
[17] "returnEdgeList"                "returnFactorEdgeList"         
[19] "returnFactorVerticesAndEdges"  "returnVertexList"             
[21] "setBlocks"                     "setTreeBlocks"                
[23] "validFactorClasses"            "validVertexClasses"           
> b <- DynamicGraph(1:10)
Error in getClass(superClass) : "NodeProto" is not a defined class
> history()
> q()
From jeff.hamann at forestinformatics.com  Tue Mar 16 19:32:56 2004
From: jeff.hamann at forestinformatics.com (Jeff D. Hamann)
Date: Tue Mar 16 19:33:22 2004
Subject: [Rd] cygwin tar?
Message-ID: <002e01c40b85$1a42d540$0c00a8c0@rodan>

I've been attempting to create a new R package and recently removed the
cygwin installation from my machine since R requires the use of the MingW
tools for building an R package with C code. However, when I tried to build
a source package, I found the following results:


* removing junk files
* building 'Rconifers_0.7-1.tar.gz'
tar: /cygdrive/C/usfs/psw_redding/software/current/Rconifers_0.7-1.tar:
Cannot open: No such file or directory
tar: Error is not recoverable: exiting now
tar: /cygdrive/C/usfs/psw_redding/software/current/Rconifers_0.7-1.tar:
Cannot open: No such file or directory
tar: Error is not recoverable: exiting now
tar: /cygdrive/C/usfs/psw_redding/software/current/Rconifers_0.7-1.tar:
Cannot open: No such file or directory
tar: Error is not recoverable: exiting now
Rconifers_0.7-1.tar: No such file or directory


C:\usfs\psw_redding\software\current>

which looks like the cygwin path is hard coded into the build script for the
rcmd. I found the

 if($WINDOWS) {
     ## workaround for paths in Cygwin tar
     $filepath =~ s+^([A-Za-x]):+/cygdrive/\1+;
 }

in the build script and don't think it needs to be there since you can use
the tar utility that comes with mingw, yes? I replaced the previous chunk of
code with:

 if($WINDOWS) {
     ## workaround for paths in Cygwin tar
     $filepath =~ s+^([A-Za-x]):+/\1+;
 }

which has solved the problem. I just don't know how to get this into the
latest build or release of R?

Jeff.




---
Jeff D. Hamann
Forest Informatics, Inc.
PO Box 1421
Corvallis, Oregon USA 97339-1421
541-754-1428
jeff.hamann@forestinformatics.com
www.forestinformatics.com

From andy_liaw at merck.com  Tue Mar 16 19:36:29 2004
From: andy_liaw at merck.com (Liaw, Andy)
Date: Tue Mar 16 19:37:33 2004
Subject: [Rd] make check failed for R-1.9.0alpha (2004-03-16) when link
 against Goto's BLAS
Message-ID: <3A822319EB35174CA3714066D590DCD504AF79D2@usrymx25.merck.com>

Dear all,

Has anyone seen the same problem?  I tried compiling R-1.9.0 alpha
(2004-03-16) on our Opteron box running SUSE Linux ES8.  I ran:

./configure --enable-R-shlib --with-blas=goto

and got:

  Source directory:          .
  Installation directory:    /usr/local

  C compiler:                gcc  -m64 -O2 -g -msse2 -march=k8 -Wall
--pedantic
  C++ compiler:              g++  -m64 -O2 -g -msse2 -march=k8 -Wall
--pedantic
  Fortran compiler:          g77  -m64 -O2 -g -msse2 -march=k8

  Interfaces supported:      X11, tcltk
  External libraries:        readline, BLAS(generic)
  Additional capabilities:   PNG, JPEG
  Options enabled:           shared library, R profiling

  Recommended packages:      yes

(The Goto BLAS is libgoto_opt64-r0.93.so.)

"make" ran fine, but "make check" failed with tail
tests/Examples/stats-Ex.Rout.fail giving:

> ## now see the effect of the explanatory variables
> data(Seatbelts)
> X <- Seatbelts[, c("kms", "PetrolPrice", "law")]
> X[, 1] <- log10(X[, 1]) - 4
> arima(log10(Seatbelts[, "drivers"]), c(1,0,0),
+       seasonal = list(order= c(1,0,0)), xreg = X)
Error in La.svd(x, nu, nv, method) : error code 3 from Lapack routine dgesdd
Execution halted

If I do "make clean" and re-configure without the Goto BLAS, then it passes
make check.  Does anyone know what I'm doing wrong?  Any help much
appreciated!

Best,
Andy


Andy Liaw, PhD
Biometrics Research      PO Box 2000, RY33-300     
Merck Research Labs           Rahway, NJ 07065
mailto:andy_liaw@merck.com        732-594-0820




------------------------------------------------------------------------------
Notice:  This e-mail message, together with any attachments,...{{dropped}}

From tplate at blackmesacapital.com  Tue Mar 16 20:23:46 2004
From: tplate at blackmesacapital.com (Tony Plate)
Date: Tue Mar 16 20:25:28 2004
Subject: [Rd] cygwin tar?
In-Reply-To: <002e01c40b85$1a42d540$0c00a8c0@rodan>
References: <002e01c40b85$1a42d540$0c00a8c0@rodan>
Message-ID: <6.0.3.0.2.20040316121249.04a784b8@mailhost.blackmesacapital.com>

Jeff: alternatively, I don't think it's necessary to completely remove a 
cygwin installation in order to use MinGW and build R.

What I have done to build R from a bash cygwin window under Windows 2000:

(1) put the "tools" directory and the MinGW directories ahead of any cygwin 
directories on the path
(2) rename the cygwin1.dll that was in the "tools" directory (from Brian 
Ripley's tools.zip) to something like "Xcygwin1.dll" (to avoid cygwin 
conflicts)

I also have ActiveState Perl installed and ahead of the cygwin perl on the 
path (though I have a wrapper for it that translates cygwin paths on the 
command line to windows paths).

This configuration is different from the instructions in 
src/gnuwin32/INSTALL in that I don't use the cygwin1.dll from 
tools.zip.  However, since updating some things recently, having 
cygwin1.dll in the tools directory always resulted in the "cygwin1.dll 
conflict" error, even when I changed the PATH to not have any other version 
of cygwin1.dll on it.

This may or may not work for anyone else, but it seems to be working for me 
at the moment: I can build R and the recommended packages from source and 
run the tests.

-- Tony Plate

At Tuesday 11:32 AM 3/16/2004, Jeff D. Hamann wrote:
>I've been attempting to create a new R package and recently removed the
>cygwin installation from my machine since R requires the use of the MingW
>tools for building an R package with C code. However, when I tried to build
>a source package, I found the following results:
>
>
>* removing junk files
>* building 'Rconifers_0.7-1.tar.gz'
>tar: /cygdrive/C/usfs/psw_redding/software/current/Rconifers_0.7-1.tar:
>Cannot open: No such file or directory
>tar: Error is not recoverable: exiting now
>tar: /cygdrive/C/usfs/psw_redding/software/current/Rconifers_0.7-1.tar:
>Cannot open: No such file or directory
>tar: Error is not recoverable: exiting now
>tar: /cygdrive/C/usfs/psw_redding/software/current/Rconifers_0.7-1.tar:
>Cannot open: No such file or directory
>tar: Error is not recoverable: exiting now
>Rconifers_0.7-1.tar: No such file or directory
>
>
>C:\usfs\psw_redding\software\current>
>
>which looks like the cygwin path is hard coded into the build script for the
>rcmd. I found the
>
>  if($WINDOWS) {
>      ## workaround for paths in Cygwin tar
>      $filepath =~ s+^([A-Za-x]):+/cygdrive/\1+;
>  }
>
>in the build script and don't think it needs to be there since you can use
>the tar utility that comes with mingw, yes? I replaced the previous chunk of
>code with:
>
>  if($WINDOWS) {
>      ## workaround for paths in Cygwin tar
>      $filepath =~ s+^([A-Za-x]):+/\1+;
>  }
>
>which has solved the problem. I just don't know how to get this into the
>latest build or release of R?
>
>Jeff.
>
>
>
>
>---
>Jeff D. Hamann
>Forest Informatics, Inc.
>PO Box 1421
>Corvallis, Oregon USA 97339-1421
>541-754-1428
>jeff.hamann@forestinformatics.com
>www.forestinformatics.com
>
>______________________________________________
>R-devel@stat.math.ethz.ch mailing list
>https://www.stat.math.ethz.ch/mailman/listinfo/r-devel

From dmurdoch at pair.com  Tue Mar 16 21:24:32 2004
From: dmurdoch at pair.com (Duncan Murdoch)
Date: Tue Mar 16 21:24:25 2004
Subject: [Rd] cygwin tar?
In-Reply-To: <002e01c40b85$1a42d540$0c00a8c0@rodan>
References: <002e01c40b85$1a42d540$0c00a8c0@rodan>
Message-ID: <bdoe50hlfhevbqsq0vgh9bh5tgkadd4gv6@4ax.com>

On Tue, 16 Mar 2004 10:32:56 -0800, "Jeff D. Hamann"
<jeff.hamann@forestinformatics.com> wrote :

>I've been attempting to create a new R package and recently removed the
>cygwin installation from my machine since R requires the use of the MingW
>tools for building an R package with C code. However, when I tried to build
>a source package, I found the following results:
>
>
>* removing junk files
>* building 'Rconifers_0.7-1.tar.gz'
>tar: /cygdrive/C/usfs/psw_redding/software/current/Rconifers_0.7-1.tar:
>Cannot open: No such file or directory

...

This error has been fixed in the latest build of r-devel.  I'm not
sure if you'll see the fix in the build downloadable today, but you
will by tomorrow.

Duncan Murdoch

From hb at maths.lth.se  Tue Mar 16 22:20:44 2004
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Tue Mar 16 22:21:00 2004
Subject: [Rd] gzfile & read.table on Win32
In-Reply-To: <Pine.SOL.4.20.0403151542130.1094-100000@santiam.dfci.harvard.edu>
Message-ID: <000a01c40b9c$8bafbb50$db0040d5@maths.lth.se>

Hi, I ran into a the same problem some time ago, but I still haven't
had time to troubleshoot it very much. However, I found out that it
has to do with newlines at the end of the files. Here's an example
that might give some initial clues:

# Creating two example files:
cat("1 2\n3 4\n5 6\n7 8\n9 10\n11 12\n", file="tableBad.txt")
cat("1 2\n3 4\n5 6\n7 8\n9 10\n11 12", file="tableOk.txt")

# A first simple example
df1 <- read.table("tableOk.txt")
df2 <- read.table("tableBad.txt")
if (!identical(df1,df2)) cat("df1 != df2\n")

# Then...
df3 <- read.table(gzfile("tableOk.txt"))
if (!identical(df1,df3)) cat("df1 != df3\n")
# Gives: df1 != df3

# and...
df4 <- read.table(gzfile("tableBad.txt"))
# Warning message:
# number of items read is not a multiple of the number of columns
if (!identical(df1,df4)) cat("df1 != df4\n")
# Gives: df1 != df4
if (!identical(df3,df4)) cat("df3 != df4\n")
# Gives: df3 != df4

# Details:
str(df1)
# `data.frame':   6 obs. of  2 variables:
# $ V1: int  1 3 5 7 9 11
# $ V2: int  2 4 6 8 10 12

str(df3)
# `data.frame':   6 obs. of  2 variables:
# $ V1: int  1 3 5 7 9 11
# $ V2: Factor w/ 6 levels "10","12?","2",..: 3 4 5 6 1 2
as.character(df3$V2)
# [1] "2"   "4"   "6"   "8"   "10"  "12?"   # Note the " "

str(df4)
# `data.frame':   7 obs. of  2 variables:
# $ V1: Factor w/ 7 levels "1","11","3","5",..: 1 3 4 5 6 2 7
# $ V2: int  2 4 6 8 10 12 NA
as.character(df4$V1)
# [1] "1"  "3"  "5"  "7"  "9"  "11" "?"     # Note the " "
as.character(df4$V2)
# [1] "2"  "4"  "6"  "8"  "10" "12" NA

# Note that the " " is not a space, but 
#  i) Sun Solaris 8: ASCII 24/0x18/030 
identical(as.character(df4$V1[7]), "\030")
# ii) WinXP: ASCII 255/0xFF/0377
identical(as.character(df4$V1[7]), "\377")

This was done on: 
R v1.8.1 & R v1.9.0alpha on WinXP, and 
R v1.8.1 on Sun Solaris 8

Now back to my other work ;)

Cheers

Henrik Bengtsson

> -----Original Message-----
> From: r-devel-bounces@stat.math.ethz.ch 
> [mailto:r-devel-bounces@stat.math.ethz.ch] On Behalf Of Jeff Gentry
> Sent: den 15 mars 2004 22:17
> To: r-devel@stat.math.ethz.ch
> Subject: [Rd] gzfile & read.table on Win32
> 
> 
> Hello ...
> 
> Are there any known problems or even gotchas to look out for 
> when using a gzfile connection in read.csv/read.table in Windows?
> 
> In the package PROcess, available at 
> www.bioconductor.org/repository/devel/package/html/PROcess.html
> there are two files in the PROcess/inst/Test directory which 
> are of the extension *.csv.gz.
> 
> With both files, if I open up a gzfile connection, say:
> vv <- gzfile("122402imac40-s-c-192combined i11.csv.gz")
> I can then do:
> readLines(vv, n=10)
> 
> And it works as expected.  However, if I do this:
> 
> read.csv(vv)
> 
> I get a warning:
> Warning: incomplete final line found by readTableHeader on 
> `c:/repository/checks/PROcess.Rcheck/PROcess/Test/122402imac40
> -s-c-192combined
> i11.csv.gz'
> 
> and the results of the read.table are completely broken 
> (basically it returns a 0 row matrix, with one column (with 
> the first column name listed in the csv file).  Furthermore, 
> the connection variable itself seems to get mangled in the 
> process, if I type the variable name (e.g. 'vv' from above), I get:
> > vv
> Error in summary.connection(x) : invalid connection
> 
> Note that if I manually gunzip the file and then do a 
> 'read.csv' in R, everything works properly - so it doesn't 
> appear to be the actual file itself, but somehow related to 
> reading it in as a compressed file.
> 
> This is showing up both on R-1.8.1 and R-devel (admittedly a 
> bit out of date, currently using 2004-03-08 and am trying to 
> update on Windows now).
> 
> Thanks
> -J
> 
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list 
> https://www.stat.math.ethz.ch/mailma> n/listinfo/r-devel
> 
>

From p.dalgaard at biostat.ku.dk  Tue Mar 16 23:02:56 2004
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard)
Date: Tue Mar 16 23:03:05 2004
Subject: [Rd] make check failed for R-1.9.0alpha (2004-03-16) when link
	against Goto's BLAS
In-Reply-To: <3A822319EB35174CA3714066D590DCD504AF79D2@usrymx25.merck.com>
References: <3A822319EB35174CA3714066D590DCD504AF79D2@usrymx25.merck.com>
Message-ID: <x2k71ksb5b.fsf@biostat.ku.dk>

"Liaw, Andy" <andy_liaw@merck.com> writes:

> Dear all,
> 
> Has anyone seen the same problem?  I tried compiling R-1.9.0 alpha
> (2004-03-16) on our Opteron box running SUSE Linux ES8.  I ran:
> 
> ./configure --enable-R-shlib --with-blas=goto
> 
> and got:
> 
>   Source directory:          .
>   Installation directory:    /usr/local
> 
>   C compiler:                gcc  -m64 -O2 -g -msse2 -march=k8 -Wall
> --pedantic
>   C++ compiler:              g++  -m64 -O2 -g -msse2 -march=k8 -Wall
> --pedantic
>   Fortran compiler:          g77  -m64 -O2 -g -msse2 -march=k8
> 
>   Interfaces supported:      X11, tcltk
>   External libraries:        readline, BLAS(generic)
>   Additional capabilities:   PNG, JPEG
>   Options enabled:           shared library, R profiling
> 
>   Recommended packages:      yes
> 
> (The Goto BLAS is libgoto_opt64-r0.93.so.)
> 
> "make" ran fine, but "make check" failed with tail
> tests/Examples/stats-Ex.Rout.fail giving:
> 
> > ## now see the effect of the explanatory variables
> > data(Seatbelts)
> > X <- Seatbelts[, c("kms", "PetrolPrice", "law")]
> > X[, 1] <- log10(X[, 1]) - 4
> > arima(log10(Seatbelts[, "drivers"]), c(1,0,0),
> +       seasonal = list(order= c(1,0,0)), xreg = X)
> Error in La.svd(x, nu, nv, method) : error code 3 from Lapack routine dgesdd
> Execution halted
> 
> If I do "make clean" and re-configure without the Goto BLAS, then it passes
> make check.  Does anyone know what I'm doing wrong?  Any help much
> appreciated!

Odd... I'm (seemingly) passing make check with 

pd@linux:~/r-devel/BUILD-GOTO> ldd bin/R.bin
        libgoto_opt64p-r0.93.so => not found
        libpthread.so.0 => /lib64/libpthread.so.0 (0x0000002a9566d000)
        libg2c.so.0 => /usr/lib64/libg2c.so.0 (0x0000002a95801000)
        libm.so.6 => /lib64/libm.so.6 (0x0000002a95923000)
        libgcc_s.so.1 => /lib64/libgcc_s.so.1 (0x0000002a95a7d000)
        libreadline.so.4 => /lib64/libreadline.so.4
        (0x0000002a95b88000)
        libdl.so.2 => /lib64/libdl.so.2 (0x0000002a95cc2000)
        libncurses.so.5 => /lib64/libncurses.so.5 (0x0000002a95dc5000)
        libc.so.6 => /lib64/libc.so.6 (0x0000002a95f26000)
        /lib64/ld-linux-x86-64.so.2 => /lib64/ld-linux-x86-64.so.2
        (0x0000002a95556000)

(on SuSE 9) The only obvious difference is that I'm using the threaded
version of the BLAS. It is of course possible that some last-digit
difference is sending arima() out on a different branch for you.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

From ripley at stats.ox.ac.uk  Tue Mar 16 23:17:55 2004
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue Mar 16 23:18:02 2004
Subject: [Rd] cygwin tar?
In-Reply-To: <002e01c40b85$1a42d540$0c00a8c0@rodan>
Message-ID: <Pine.LNX.4.44.0403162208320.12133-100000@gannet.stats>

No tar utility comes with MinGW!  If you follow the instructions, you were 
asked to put the tools from my Rtools.zip at the front of your path.
It seems that you didn't do so.

Please don't expect support for configurations that are explicitly 
unsupported.

On Tue, 16 Mar 2004, Jeff D. Hamann wrote:

> I've been attempting to create a new R package and recently removed the
> cygwin installation from my machine since R requires the use of the MingW
> tools for building an R package with C code. However, when I tried to build
> a source package, I found the following results:
> 
> 
> * removing junk files
> * building 'Rconifers_0.7-1.tar.gz'
> tar: /cygdrive/C/usfs/psw_redding/software/current/Rconifers_0.7-1.tar:
> Cannot open: No such file or directory
> tar: Error is not recoverable: exiting now
> tar: /cygdrive/C/usfs/psw_redding/software/current/Rconifers_0.7-1.tar:
> Cannot open: No such file or directory
> tar: Error is not recoverable: exiting now
> tar: /cygdrive/C/usfs/psw_redding/software/current/Rconifers_0.7-1.tar:
> Cannot open: No such file or directory
> tar: Error is not recoverable: exiting now
> Rconifers_0.7-1.tar: No such file or directory
> 
> 
> C:\usfs\psw_redding\software\current>
> 
> which looks like the cygwin path is hard coded into the build script for the
> rcmd. I found the
> 
>  if($WINDOWS) {
>      ## workaround for paths in Cygwin tar
>      $filepath =~ s+^([A-Za-x]):+/cygdrive/\1+;
>  }
> 
> in the build script and don't think it needs to be there since you can use
> the tar utility that comes with mingw, yes? I replaced the previous chunk of
> code with:
> 
>  if($WINDOWS) {
>      ## workaround for paths in Cygwin tar
>      $filepath =~ s+^([A-Za-x]):+/\1+;
>  }
> 
> which has solved the problem. I just don't know how to get this into the
> latest build or release of R?


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From ripley at stats.ox.ac.uk  Tue Mar 16 23:35:12 2004
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue Mar 16 23:35:06 2004
Subject: [Rd] make check failed for R-1.9.0alpha (2004-03-16) when link
	against Goto's BLAS
In-Reply-To: <3A822319EB35174CA3714066D590DCD504AF79D2@usrymx25.merck.com>
Message-ID: <Pine.LNX.4.44.0403162229150.12133-100000@gannet.stats>

I suspect you are not going wrong, but rather that the Opteron Goto BLAS 
is not accurate enough on your particular system.  Unfortunately these 
LAPACK routines can be sensitive to the buildup of rounding errors, and 
that is affected by the BLAS in use.

On Tue, 16 Mar 2004, Liaw, Andy wrote:

> Dear all,
> 
> Has anyone seen the same problem?  I tried compiling R-1.9.0 alpha
> (2004-03-16) on our Opteron box running SUSE Linux ES8.  I ran:
> 
> ./configure --enable-R-shlib --with-blas=goto
> 
> and got:
> 
>   Source directory:          .
>   Installation directory:    /usr/local
> 
>   C compiler:                gcc  -m64 -O2 -g -msse2 -march=k8 -Wall
> --pedantic
>   C++ compiler:              g++  -m64 -O2 -g -msse2 -march=k8 -Wall
> --pedantic
>   Fortran compiler:          g77  -m64 -O2 -g -msse2 -march=k8
> 
>   Interfaces supported:      X11, tcltk
>   External libraries:        readline, BLAS(generic)
>   Additional capabilities:   PNG, JPEG
>   Options enabled:           shared library, R profiling
> 
>   Recommended packages:      yes
> 
> (The Goto BLAS is libgoto_opt64-r0.93.so.)
> 
> "make" ran fine, but "make check" failed with tail
> tests/Examples/stats-Ex.Rout.fail giving:
> 
> > ## now see the effect of the explanatory variables
> > data(Seatbelts)
> > X <- Seatbelts[, c("kms", "PetrolPrice", "law")]
> > X[, 1] <- log10(X[, 1]) - 4
> > arima(log10(Seatbelts[, "drivers"]), c(1,0,0),
> +       seasonal = list(order= c(1,0,0)), xreg = X)
> Error in La.svd(x, nu, nv, method) : error code 3 from Lapack routine dgesdd
> Execution halted
> 
> If I do "make clean" and re-configure without the Goto BLAS, then it passes
> make check.  Does anyone know what I'm doing wrong?  Any help much
> appreciated!
> 
> Best,
> Andy
> 
> 
> Andy Liaw, PhD
> Biometrics Research      PO Box 2000, RY33-300     
> Merck Research Labs           Rahway, NJ 07065
> mailto:andy_liaw@merck.com        732-594-0820
> 
> 
> 
> 
> ------------------------------------------------------------------------------
> Notice:  This e-mail message, together with any attachments,...{{dropped}}
> 
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
> 
> 

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From jeff.hamann at forestinformatics.com  Wed Mar 17 00:58:09 2004
From: jeff.hamann at forestinformatics.com (Jeff D. Hamann)
Date: Wed Mar 17 00:58:15 2004
Subject: [Rd] best methods for strings and structures?
Message-ID: <000e01c40bb2$8b6df560$0c00a8c0@rodan>

I'm trying to generate an R interface for a library that's commonly used and
I'm currently writing wrapper functions for file i/o and return an object
(list?) that contains the elements of the C structure. For example, reading
a file that contains:

struct CONFIG_RECORD
{
    char            coeffs_filename[256];
    char            species_filename[256];
    unsigned long   use_random_error;
    unsigned long   random_seed;
    unsigned long   endemic_mortality;
    unsigned long   sdi_mortality;
    unsigned long   file_in_format;
    unsigned long   file_out_format;
    double          fixed_plot_radius;
    double          min_prism_dbh;
    double          baf;
    unsigned long   max_sample_size;
    unsigned long   use_precip_in_hg;
};

with an internal function and I'm building the return object using the
following code:


   PROTECT( ret_val = allocVector( VECSXP, 13 ) );
   SET_STRING_ELT( ret_val, 0, mkChar( cfg_rec.coeffs_filename) );
   SET_STRING_ELT( ret_val, 1, mkChar( cfg_rec.species_filename) );
   SET_VECTOR_ELT( ret_val, 2, ScalarInteger( cfg_rec.use_random_error ) );
   SET_VECTOR_ELT( ret_val, 3, ScalarInteger( cfg_rec.random_seed ) );
   SET_VECTOR_ELT( ret_val, 4, ScalarInteger( cfg_rec.endemic_mortality ) );
   SET_VECTOR_ELT( ret_val, 5, ScalarInteger( cfg_rec.sdi_mortality ) );
   SET_VECTOR_ELT( ret_val, 6, ScalarInteger( cfg_rec.file_in_format ) );
   SET_VECTOR_ELT( ret_val, 7, ScalarInteger( cfg_rec.file_out_format ) );
   SET_VECTOR_ELT( ret_val, 8, ScalarReal( cfg_rec.fixed_plot_radius ) );
   SET_VECTOR_ELT( ret_val, 9, ScalarReal( cfg_rec.min_prism_dbh ) );
   SET_VECTOR_ELT( ret_val, 10, ScalarReal( cfg_rec.baf ) );
   SET_VECTOR_ELT( ret_val, 11, ScalarInteger( cfg_rec.max_sample_size ) );
   SET_VECTOR_ELT( ret_val, 12, ScalarInteger( cfg_rec.use_precip_in_hg ) );

The resulting list contains :

> cfg
$"coeffs_filename"
<CHARSXP: "coeffs.txt">
$"species_filename"
<CHARSXP: "species.txt">
$"use_random_error"
[1] 1
$"random_seed"
[1] 109
$"endemic_mortality"
[1] 1
$"sdi_mortality"
[1] 1
$"file_in_format"
[1] 4
$"file_out_format"
[1] 4
$"fixed_plot_radius"
[1] 11.77522
$"min_prism_dbh"
[1] 5.6
$baf
[1] 20
$"max_sample_size"
[1] 600
$"use_precip_in_hg"
[1] 600

which seems to be acceptable, except for the two string at the beginning of
the list. I'm not sure the best method to return string in the return vector
and would like some advice on the best method to perform these operations.
My other question is this: Should I be using the insert() to assign these
values as attributes, like

   setAttrib( ret_val, install("use_random_error"), ScalarInteger(
cfg_rec.use_random_error ) );

since I'll be using these objects to pass back and forth from R to the model
library and using R as the simulation language in which I'll have to obtain
the values and build the resulting structures.

Thanks,
Jeff.


---
Jeff D. Hamann
Forest Informatics, Inc.
PO Box 1421
Corvallis, Oregon USA 97339-1421
541-754-1428
jeff.hamann@forestinformatics.com
www.forestinformatics.com

From tlumley at u.washington.edu  Wed Mar 17 01:30:21 2004
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed Mar 17 01:30:26 2004
Subject: [Rd] best methods for strings and structures?
In-Reply-To: <000e01c40bb2$8b6df560$0c00a8c0@rodan>
References: <000e01c40bb2$8b6df560$0c00a8c0@rodan>
Message-ID: <Pine.A41.4.58.0403161624260.52078@homer39.u.washington.edu>

On Tue, 16 Mar 2004, Jeff D. Hamann wrote:
>
>    PROTECT( ret_val = allocVector( VECSXP, 13 ) );
>    SET_STRING_ELT( ret_val, 0, mkChar( cfg_rec.coeffs_filename) );
>    SET_STRING_ELT( ret_val, 1, mkChar( cfg_rec.species_filename) );
>    SET_VECTOR_ELT( ret_val, 2, ScalarInteger( cfg_rec.use_random_error ) );
<snip>

> The resulting list contains :
>
> > cfg
> $"coeffs_filename"
> <CHARSXP: "coeffs.txt">
> $"species_filename"
> <CHARSXP: "species.txt">
> $"use_random_error"
> [1] 1
<snip>

> which seems to be acceptable, except for the two string at the beginning of
> the list. I'm not sure the best method to return string in the return vector
> and would like some advice on the best method to perform these operations.

You need the first two elements of the list to be vectors of character
objects, not character objects (just as the third element is a vector of
integers rather than a single integer.
Something like

PROTECT(tempstr=allocVector(STRSXP,1));
SET_STRING_ELT(tempstr,0, mkChar( cfg_rec.coeffs_filename));
SET_VECTOR_ELT(ret_val,0, tempstr);
UNPROTECT(1);  /* tempstr */

(there may be more elegant versions of this).


	-thomas

Thomas Lumley			Assoc. Professor, Biostatistics
tlumley@u.washington.edu	University of Washington, Seattle

From plummer at iarc.fr  Wed Mar 17 10:30:17 2004
From: plummer at iarc.fr (Martyn Plummer)
Date: Wed Mar 17 10:30:33 2004
Subject: [Rd] cygwin tar?
In-Reply-To: <6.0.3.0.2.20040316121249.04a784b8@mailhost.blackmesacapital.com>
References: <002e01c40b85$1a42d540$0c00a8c0@rodan>
	<6.0.3.0.2.20040316121249.04a784b8@mailhost.blackmesacapital.com>
Message-ID: <1079515816.3309.10.camel@xena.iarc.fr>

I had the same problem as Tony with multiple copies of cygwin1.dll. But
doesn't this solution (renaming cygwin1.dll in the tools directory) just
link the tools with the cygwin1.dll that comes with cygwin? In which
case will it work if the tools are linked against a different version of
the cygwin1 library? 

To answer Jeff's question
> 
>  if($WINDOWS) {
>      ## workaround for paths in Cygwin tar
>      $filepath =~ s+^([A-Za-x]):+/cygdrive/\1+;
>  }
> 
> in the build script and don't think it needs to be there since you can
> use the tar utility that comes with mingw, yes?

You're talking about the tar that comes with MSYS. And no you can't use
it because it can't handle symbolic links, a problem that is discussed
in the documentation.

On Tue, 2004-03-16 at 20:23, Tony Plate wrote:
> Jeff: alternatively, I don't think it's necessary to completely remove a 
> cygwin installation in order to use MinGW and build R.
> 
> What I have done to build R from a bash cygwin window under Windows 2000:
> 
> (1) put the "tools" directory and the MinGW directories ahead of any cygwin 
> directories on the path
> (2) rename the cygwin1.dll that was in the "tools" directory (from Brian 
> Ripley's tools.zip) to something like "Xcygwin1.dll" (to avoid cygwin 
> conflicts)
> 
> I also have ActiveState Perl installed and ahead of the cygwin perl on the 
> path (though I have a wrapper for it that translates cygwin paths on the 
> command line to windows paths).
> 
> This configuration is different from the instructions in 
> src/gnuwin32/INSTALL in that I don't use the cygwin1.dll from 
> tools.zip.  However, since updating some things recently, having 
> cygwin1.dll in the tools directory always resulted in the "cygwin1.dll 
> conflict" error, even when I changed the PATH to not have any other version 
> of cygwin1.dll on it.
> 
> This may or may not work for anyone else, but it seems to be working for me 
> at the moment: I can build R and the recommended packages from source and 
> run the tests.
> 
> -- Tony Plate
> 
> At Tuesday 11:32 AM 3/16/2004, Jeff D. Hamann wrote:
> >I've been attempting to create a new R package and recently removed the
> >cygwin installation from my machine since R requires the use of the MingW
> >tools for building an R package with C code. However, when I tried to build
> >a source package, I found the following results:
> >
> >
> >* removing junk files
> >* building 'Rconifers_0.7-1.tar.gz'
> >tar: /cygdrive/C/usfs/psw_redding/software/current/Rconifers_0.7-1.tar:
> >Cannot open: No such file or directory
> >tar: Error is not recoverable: exiting now
> >tar: /cygdrive/C/usfs/psw_redding/software/current/Rconifers_0.7-1.tar:
> >Cannot open: No such file or directory
> >tar: Error is not recoverable: exiting now
> >tar: /cygdrive/C/usfs/psw_redding/software/current/Rconifers_0.7-1.tar:
> >Cannot open: No such file or directory
> >tar: Error is not recoverable: exiting now
> >Rconifers_0.7-1.tar: No such file or directory
> >
> >
> >C:\usfs\psw_redding\software\current>
> >
> >which looks like the cygwin path is hard coded into the build script for the
> >rcmd. I found the
> >
> >  if($WINDOWS) {
> >      ## workaround for paths in Cygwin tar
> >      $filepath =~ s+^([A-Za-x]):+/cygdrive/\1+;
> >  }
> >
> >in the build script and don't think it needs to be there since you can use
> >the tar utility that comes with mingw, yes? I replaced the previous chunk of
> >code with:
> >
> >  if($WINDOWS) {
> >      ## workaround for paths in Cygwin tar
> >      $filepath =~ s+^([A-Za-x]):+/\1+;
> >  }
> >
> >which has solved the problem. I just don't know how to get this into the
> >latest build or release of R?
> >
> >Jeff.

From ripley at stats.ox.ac.uk  Wed Mar 17 13:39:37 2004
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed Mar 17 13:39:41 2004
Subject: [Rd] cygwin tar?
In-Reply-To: <1079515816.3309.10.camel@xena.iarc.fr>
Message-ID: <Pine.LNX.4.44.0403171229580.2695-100000@gannet.stats>

On Wed, 17 Mar 2004, Martyn Plummer wrote:

> I had the same problem as Tony with multiple copies of cygwin1.dll. But
> doesn't this solution (renaming cygwin1.dll in the tools directory) just
> link the tools with the cygwin1.dll that comes with cygwin? In which
> case will it work if the tools are linked against a different version of
> the cygwin1 library? 

It may or it may not.  At least some cygwin1.dll's are broken and cause 
tar to malfunction.

I don't uninstall cygwin, but I do ensure that its path is not mounted, 
since if it thinks there is a /bin/cygwin1.dll or /usr/bin/cygwin1.dll it 
complains, even if that is really C:/packages/usr/bin/cygwin1.dll and not 
in your path.

> To answer Jeff's question
> > 
> >  if($WINDOWS) {
> >      ## workaround for paths in Cygwin tar
> >      $filepath =~ s+^([A-Za-x]):+/cygdrive/\1+;
> >  }
> > 
> > in the build script and don't think it needs to be there since you can
> > use the tar utility that comes with mingw, yes?
> 
> You're talking about the tar that comes with MSYS. And no you can't use
> it because it can't handle symbolic links, a problem that is discussed
> in the documentation.

That's not the only problem I have met with MSYS's tar, if that is what 
was meant.  It often had problems for me in the middle of .tar.gz archives 
that other systems are happy with.

I do know how to solve this, but I am not going to put the effort in to do 
so.  So the situation will remain

	`follow the instructions or don't ask for help'.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From hb at maths.lth.se  Wed Mar 17 14:25:52 2004
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Wed Mar 17 14:26:09 2004
Subject: Cygwin and Rtools (Was: RE: [Rd] cygwin tar?)
In-Reply-To: <Pine.LNX.4.44.0403171229580.2695-100000@gannet.stats>
Message-ID: <000601c40c23$5f1de580$e502eb82@maths.lth.se>

If it helps anyone, below is the startup script I use in WinXP to get
an MSDOS prompt that give me access to R and Ripley's Rtools so that I
can run RCMD build etc without problems and at the same time keep my
Cygwin installation. This is pretty much what Ripley suggest. Note the
"NOTE: ..." below!

I'm sorry if mine or your email client cuts the lines. 

Henrik Bengtsson

-------------------------------------------------------------
Begin: RCMDprompt.bat
-------------------------------------------------------------
@echo off
rem
######################################################################
rem # Usage: RCMDprompt.bat [path]
rem #
rem # This script opens a MS-DOS prompt with a enviroment variables
rem # set such that R can be ran and packages can be build. 
rem # If 'path' is given, the working directory will be set
accordingly.
rem # 
rem # NOTE: This scripts works even if Cygwin is installed. HOWEVER,
you
rem # can not have any Cygwin applications running (not even a shell
or
rem # XEmacs for Cygwin) at the same time you try to run RCMD.
rem #
rem # Requires:
rem # To build and install packages two things must be installed, i.e.
rem # exists in the PATH. First, the Rtools compilation [1] by B.
Ripley 
rem # must exists. The path (R_TOOLS) to it is set below. Second, Perl

rem # (must not be Cygwin/Perl) must also exists. The path to it is
set
rem # below.
rem #
rem # Reference:
rem #  [1] http://www.stats.ox.ac.uk/pub/Rtools/
rem #
rem # Henrik Bengtsson, hb@maths.lth.se, March 2004.
rem
######################################################################

rem # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
- - 
rem # 1. "Global" environment variables
rem # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
- - 
rem # Short version of PROGRAMFILES, e.g. 'C:\Progra~1' instead of
rem # 'C:\Program Files\', which contains spaces that are BAD for R &
Co.
set PROGRAMFILES_SHORT=C:\Progra~1

rem # Directory where user directories are
set USERSDIR=C:\users

rem # Set the main R directory
set R_ROOT=%PROGRAMFILES_SHORT%\R

rem # Set the R_HOME directory
set R_HOME=%R_ROOT%\rw1081
rem set R_HOME=%R_ROOT%\rw1090alpha

rem # Set the HOME directory. This is the directory where R looks 
rem # for the .Rprofile and .Renviron files. See ?Startup.
set HOME=%USERSDIR%\%USERNAME%\

rem # Set TMPDIR to a temporary directory
set TMPDIR=%TEMP%


rem # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
- - 
rem # 2. Setup the PATH
rem # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
- - 
rem # Clear the PATH (making the main Cygwin installation "invisible")
path ;

rem # Set the LaTeX directory
rem # http://www.miktex.org/
path %PROGRAMFILES%\MikTeX\miktex\bin;%PATH%

rem # Set the Microsoft HTML Help Compiler directory
rem #
http://msdn.microsoft.com/library/tools/htmlhelp/chm/HH1Start.htm
path %PROGRAMFILES%\HTML Help Workshop;%PATH%

rem # Set the Perl directory
rem # http://www.activestate.com/Products/ActivePerl/Download.html
path C:\Perl\bin;%PATH%
 
rem # Set the Rtools [1] directory
rem # http://www.stats.ox.ac.uk/pub/Rtools/
path %R_ROOT%\Rtools;%PATH%

rem # Set the R_HOME directory
path %R_HOME%\bin;%PATH%


rem # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
- - 
rem # 3. Start the MSDOS prompt in the given directory
rem # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
- - 
rem # Change directory according to argument 1
cd %1%

rem # Start the MSDOS commando prompt
%SystemRoot%\system32\cmd.exe

-------------------------------------------------------------
End: RCMDprompt.bat
-------------------------------------------------------------


> -----Original Message-----
> From: r-devel-bounces@stat.math.ethz.ch 
> [mailto:r-devel-bounces@stat.math.ethz.ch] On Behalf Of Prof 
> Brian Ripley
> Sent: den 17 mars 2004 13:40
> To: Martyn Plummer
> Cc: Tony Plate; Jeff D. Hamann; r-devel@stat.math.ethz.ch
> Subject: Re: [Rd] cygwin tar?
> 
> 
> On Wed, 17 Mar 2004, Martyn Plummer wrote:
> 
> > I had the same problem as Tony with multiple copies of
cygwin1.dll. 
> > But doesn't this solution (renaming cygwin1.dll in the tools 
> > directory) just link the tools with the cygwin1.dll that comes
with 
> > cygwin? In which case will it work if the tools are linked 
> against a 
> > different version of the cygwin1 library?
> 
> It may or it may not.  At least some cygwin1.dll's are broken 
> and cause 
> tar to malfunction.
> 
> I don't uninstall cygwin, but I do ensure that its path is 
> not mounted, 
> since if it thinks there is a /bin/cygwin1.dll or 
> /usr/bin/cygwin1.dll it 
> complains, even if that is really 
> C:/packages/usr/bin/cygwin1.dll and not 
> in your path.
> 
> > To answer Jeff's question
> > > 
> > >  if($WINDOWS) {
> > >      ## workaround for paths in Cygwin tar
> > >      $filepath =~ s+^([A-Za-x]):+/cygdrive/\1+;
> > >  }
> > > 
> > > in the build script and don't think it needs to be there 
> since you 
> > > can use the tar utility that comes with mingw, yes?
> > 
> > You're talking about the tar that comes with MSYS. And no you
can't 
> > use it because it can't handle symbolic links, a problem that is 
> > discussed in the documentation.
> 
> That's not the only problem I have met with MSYS's tar, if 
> that is what 
> was meant.  It often had problems for me in the middle of 
> .tar.gz archives 
> that other systems are happy with.
> 
> I do know how to solve this, but I am not going to put the 
> effort in to do 
> so.  So the situation will remain
> 
> 	`follow the instructions or don't ask for help'.
> 
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list 
> https://www.stat.math.ethz.ch/mailma> n/listinfo/r-devel
> 
>

From EBSCO_AV_Gateway at ebsco.com  Wed Mar 17 15:26:50 2004
From: EBSCO_AV_Gateway at ebsco.com (EBSCO_AV_Gateway@ebsco.com)
Date: Wed Mar 17 15:27:36 2004
Subject: [Rd] EBSCO Gateway: Email Content violation
Message-ID: <E1B3c1F-0001c9-00@franz.stat.wisc.edu>

Your message contained an attachment that was infected with a virus or was blocked due to file type restrictions.

From: r-devel@r-project.org
To: anna@web.ebsco.com

Subject: hello

Matching Subject: hello

From vincent.goulet at act.ulaval.ca  Wed Mar 17 17:26:39 2004
From: vincent.goulet at act.ulaval.ca (vincent.goulet@act.ulaval.ca)
Date: Wed Mar 17 17:26:41 2004
Subject: [Rd] Misspelled summary of "mle" class object (PR#6674)
Message-ID: <20040317162639.65B231043B@slim.kubism.ku.dk>

Full_Name: Vincent Goulet
Version: 1.8.1
OS: Linux
Submission from: (NULL) (24.203.194.201)


In the summary of an object of class "mle", the word "Coefficients" misses an
"f":

> ( m <- mle(f, lower=c(0,0), method="L-BFGS-B") )

Call:
mle(minuslogl = f, method = "L-BFGS-B", lower = c(0, 0))

Coefficients:
   alpha   lambda 
2.276008 5.020003 
> summary(m)
Maximum likelihod estimation

Call:
mle(minuslogl = f, method = "L-BFGS-B", lower = c(0, 0))

Coeficients:                                   <--- !!!
       Estimate Std. Error
alpha  2.276008  0.3012757
lambda 5.020003  0.7431560

-2 log L: 10.71757

From maechler at stat.math.ethz.ch  Wed Mar 17 17:41:47 2004
From: maechler at stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Wed Mar 17 17:41:42 2004
Subject: [Rd] Misspelled summary of "mle" class object (PR#6674)
Message-ID: <20040317164147.E777C1042E@slim.kubism.ku.dk>

>>>>> "vincent" == vincent goulet <vincent.goulet@act.ulaval.ca>
>>>>>     on Wed, 17 Mar 2004 17:26:39 +0100 (CET) writes:

    vincent> Full_Name: Vincent Goulet
    vincent> Version: 1.8.1
    vincent> OS: Linux
    vincent> Submission from: (NULL) (24.203.194.201)


    vincent> In the summary of an object of class "mle", the
    vincent> word "Coefficients" misses an "f":

Thank you, Vincent, for the report.

Note that this has been fixed months ago,
and in time ranges like today where alpha versions of R are
available, we would be glad if you first checked 
"R x.y.z. alpha"

Regards,
Martin Maechler, Seminar fuer Statistik, ETH Zurich SWITZERLAND

From ripley at stats.ox.ac.uk  Wed Mar 17 17:47:02 2004
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed Mar 17 17:51:16 2004
Subject: [Rd] Misspelled summary of "mle" class object (PR#6674)
In-Reply-To: <20040317162639.65B231043B@slim.kubism.ku.dk>
Message-ID: <Pine.WNT.4.44.0403171644190.3280-100000@gannet.stats.ox.ac.uk>

But not in 1.9.0 alpha which is out for testing.

I have already corrected it.

On Wed, 17 Mar 2004 vincent.goulet@act.ulaval.ca wrote:

> Full_Name: Vincent Goulet
> Version: 1.8.1
> OS: Linux
> Submission from: (NULL) (24.203.194.201)
>
>
> In the summary of an object of class "mle", the word "Coefficients" misses an
> "f":
>
> > ( m <- mle(f, lower=c(0,0), method="L-BFGS-B") )

This is not repoducible, BTW.

> Call:
> mle(minuslogl = f, method = "L-BFGS-B", lower = c(0, 0))
>
> Coefficients:
>    alpha   lambda
> 2.276008 5.020003
> > summary(m)
> Maximum likelihod estimation
>
> Call:
> mle(minuslogl = f, method = "L-BFGS-B", lower = c(0, 0))
>
> Coeficients:                                   <--- !!!
>        Estimate Std. Error
> alpha  2.276008  0.3012757
> lambda 5.020003  0.7431560
>
> -2 log L: 10.71757
>
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>
>

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From edd at debian.org  Wed Mar 17 18:28:46 2004
From: edd at debian.org (Dirk Eddelbuettel)
Date: Wed Mar 17 18:29:05 2004
Subject: Cygwin,
	MSys and Rtools can be happy together (Was: RE: [Rd] cygwin tar?)
In-Reply-To: <000601c40c23$5f1de580$e502eb82@maths.lth.se>
References: <Pine.LNX.4.44.0403171229580.2695-100000@gannet.stats>
	<000601c40c23$5f1de580$e502eb82@maths.lth.se>
Message-ID: <20040317172846.GA20995@sonny.eddelbuettel.com>


Regarding the troubles reported by others with Cygwin and MSys, I would like
to point out to have both installed merrily such that you can

- use Cygwin for all 'normal' work inside of rxvt/xterm. 
- use MSys/MingW for one main purpose: building R packages.

For this to work, I use appropriate settings in the /home/$USER/.profile for
MSys to set its path (with the required Tools by BDR) and then change
directories into the /home/$USER for Cygwin. 

That gives transparent access to all files, sources, ... and yet as the
Cygwin.bat will not have been executed, that session is free (enough) of the
Cygwin dll to build the R packages.

I could detail this further if it helps.

Regards, Dirk

-- 
The relationship between the computed price and reality is as yet unknown.  
                                             -- From the pac(8) manual page

From pshannon at systemsbiology.org  Wed Mar 17 19:11:50 2004
From: pshannon at systemsbiology.org (Paul Shannon)
Date: Wed Mar 17 19:11:40 2004
Subject: [Rd] unit testing framework for R?
Message-ID: <EXCHANGEeTUgAHbx4Rr0000555e@exchange.systemsbiology.net>

In a quick search of the R website just now, I found no mention of
a unit testing framework for R.  I hope to find something
in the style of Java's JUnit, or Python's unittest.  Is such a
thing available?

Thanks,

  - Paul Shannon
    Institute for Systems Biology
    Seattle

From rossini at blindglobe.net  Wed Mar 17 19:50:17 2004
From: rossini at blindglobe.net (A.J. Rossini)
Date: Wed Mar 17 19:48:14 2004
Subject: [Rd] unit testing framework for R?
In-Reply-To: <EXCHANGEeTUgAHbx4Rr0000555e@exchange.systemsbiology.net> (Paul
	Shannon's message of "17 Mar 2004 10:11:50 -0800")
References: <EXCHANGEeTUgAHbx4Rr0000555e@exchange.systemsbiology.net>
Message-ID: <851xnr2tqu.fsf@servant.blindglobe.net>

Paul Shannon <pshannon@systemsbiology.org> writes:

> In a quick search of the R website just now, I found no mention of
> a unit testing framework for R.  I hope to find something
> in the style of Java's JUnit, or Python's unittest.  Is such a
> thing available?

Paul -

I've got a first pass at such a thing, but it isn't clear what the
right "general purpose" solution is (currently, it consists of
a set of S4 classes which allow for comparison of results for
functions -- could be easily extended for S4 methods and classes, but
havn't had time to think it through.

best,
-tony

-- 
rossini@u.washington.edu            http://www.analytics.washington.edu/ 
Biomedical and Health Informatics   University of Washington
Biostatistics, SCHARP/HVTN          Fred Hutchinson Cancer Research Center
UW (Tu/Th/F): 206-616-7630 FAX=206-543-3461 | Voicemail is unreliable
FHCRC  (M/W): 206-667-7025 FAX=206-667-4812 | use Email

CONFIDENTIALITY NOTICE: This e-mail message and any attachme...{{dropped}}

From tplate at blackmesacapital.com  Wed Mar 17 19:53:56 2004
From: tplate at blackmesacapital.com (Tony Plate)
Date: Wed Mar 17 19:56:38 2004
Subject: [Rd] unit testing framework for R?
In-Reply-To: <EXCHANGEeTUgAHbx4Rr0000555e@exchange.systemsbiology.net>
References: <EXCHANGEeTUgAHbx4Rr0000555e@exchange.systemsbiology.net>
Message-ID: <6.0.3.0.2.20040317114224.056067e8@mailhost.blackmesacapital.com>

Packages can have a 'tests' directory, which can contain foo.R and 
foo.Rout.save files.  When packages are built (or checked) the output from 
running R with the commands in foo.R is compared with foo.Rout.save, and 
differences are reported.

The "Writing R Extensions" manual discusses this a little.  It suggests: 
"Use R CMD check --help (Rcmd check --help on Windows) to obtain more 
information about the usage of the R package checker. A subset of the 
checking steps can be selected by adding flags."

I've considered looking at several enhancements of the testing features: 
(1) automatically construct foo.R from foo.Rout.save (easy if the file only 
contains simple commands issued at the standard prompt); (2) allow 
specification of which test files to run; and (3) print summaries of test 
successes and failures at the end of running the selected tests.  Is there 
any wider interest in such features?

-- Tony Plate

At Wednesday 11:11 AM 3/17/2004, Paul Shannon wrote:
>In a quick search of the R website just now, I found no mention of
>a unit testing framework for R.  I hope to find something
>in the style of Java's JUnit, or Python's unittest.  Is such a
>thing available?
>
>Thanks,
>
>   - Paul Shannon
>     Institute for Systems Biology
>     Seattle
>
>______________________________________________
>R-devel@stat.math.ethz.ch mailing list
>https://www.stat.math.ethz.ch/mailman/listinfo/r-devel

From rossini at blindglobe.net  Wed Mar 17 21:01:41 2004
From: rossini at blindglobe.net (A.J. Rossini)
Date: Wed Mar 17 20:59:27 2004
Subject: [Rd] unit testing framework for R?
In-Reply-To: <6.0.3.0.2.20040317114224.056067e8@mailhost.blackmesacapital.com>
	(Tony Plate's message of "Wed, 17 Mar 2004 11:53:56 -0700")
References: <EXCHANGEeTUgAHbx4Rr0000555e@exchange.systemsbiology.net>
	<6.0.3.0.2.20040317114224.056067e8@mailhost.blackmesacapital.com>
Message-ID: <85oeqvz1i2.fsf@servant.blindglobe.net>


the package 'tests' directory is great, and we use it, but it isn't
unit testing in the same sense -- more regression tests (reactive
rather than proactive).

best,
-tony


Tony Plate <tplate@blackmesacapital.com> writes:

> Packages can have a 'tests' directory, which can contain foo.R and
> foo.Rout.save files.  When packages are built (or checked) the output
> from running R with the commands in foo.R is compared with
> foo.Rout.save, and differences are reported.
>
> The "Writing R Extensions" manual discusses this a little.  It
> suggests: "Use R CMD check --help (Rcmd check --help on Windows) to
> obtain more information about the usage of the R package checker. A
> subset of the checking steps can be selected by adding flags."
>
> I've considered looking at several enhancements of the testing
> features: (1) automatically construct foo.R from foo.Rout.save (easy
> if the file only contains simple commands issued at the standard
> prompt); (2) allow specification of which test files to run; and (3)
> print summaries of test successes and failures at the end of running
> the selected tests.  Is there any wider interest in such features?
>
> -- Tony Plate
>
> At Wednesday 11:11 AM 3/17/2004, Paul Shannon wrote:
>>In a quick search of the R website just now, I found no mention of
>>a unit testing framework for R.  I hope to find something
>>in the style of Java's JUnit, or Python's unittest.  Is such a
>>thing available?
>>
>>Thanks,
>>
>>   - Paul Shannon
>>     Institute for Systems Biology
>>     Seattle
>>
>>______________________________________________
>>R-devel@stat.math.ethz.ch mailing list
>>https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>

-- 
rossini@u.washington.edu            http://www.analytics.washington.edu/ 
Biomedical and Health Informatics   University of Washington
Biostatistics, SCHARP/HVTN          Fred Hutchinson Cancer Research Center
UW (Tu/Th/F): 206-616-7630 FAX=206-543-3461 | Voicemail is unreliable
FHCRC  (M/W): 206-667-7025 FAX=206-667-4812 | use Email

CONFIDENTIALITY NOTICE: This e-mail message and any attachme...{{dropped}}

From tplate at blackmesacapital.com  Wed Mar 17 21:58:01 2004
From: tplate at blackmesacapital.com (Tony Plate)
Date: Wed Mar 17 21:58:01 2004
Subject: [Rd] unit testing framework for R?
In-Reply-To: <85oeqvz1i2.fsf@servant.blindglobe.net>
References: <EXCHANGEeTUgAHbx4Rr0000555e@exchange.systemsbiology.net>
	<6.0.3.0.2.20040317114224.056067e8@mailhost.blackmesacapital.com>
	<85oeqvz1i2.fsf@servant.blindglobe.net>
Message-ID: <6.0.3.0.2.20040317135528.055dad30@mailhost.blackmesacapital.com>

How would a "unit testing" framework look different?  (other than maybe the 
ability to pick and choose tests easily and run them quickly).

-- Tony Plate

At Wednesday 01:01 PM 3/17/2004, A.J. Rossini wrote:

>the package 'tests' directory is great, and we use it, but it isn't
>unit testing in the same sense -- more regression tests (reactive
>rather than proactive).
>
>best,
>-tony
>
>
>Tony Plate <tplate@blackmesacapital.com> writes:
>
> > Packages can have a 'tests' directory, which can contain foo.R and
> > foo.Rout.save files.  When packages are built (or checked) the output
> > from running R with the commands in foo.R is compared with
> > foo.Rout.save, and differences are reported.
> >
> > The "Writing R Extensions" manual discusses this a little.  It
> > suggests: "Use R CMD check --help (Rcmd check --help on Windows) to
> > obtain more information about the usage of the R package checker. A
> > subset of the checking steps can be selected by adding flags."
> >
> > I've considered looking at several enhancements of the testing
> > features: (1) automatically construct foo.R from foo.Rout.save (easy
> > if the file only contains simple commands issued at the standard
> > prompt); (2) allow specification of which test files to run; and (3)
> > print summaries of test successes and failures at the end of running
> > the selected tests.  Is there any wider interest in such features?
> >
> > -- Tony Plate
> >
> > At Wednesday 11:11 AM 3/17/2004, Paul Shannon wrote:
> >>In a quick search of the R website just now, I found no mention of
> >>a unit testing framework for R.  I hope to find something
> >>in the style of Java's JUnit, or Python's unittest.  Is such a
> >>thing available?
> >>
> >>Thanks,
> >>
> >>   - Paul Shannon
> >>     Institute for Systems Biology
> >>     Seattle
> >>
> >>______________________________________________
> >>R-devel@stat.math.ethz.ch mailing list
> >>https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
> >
> > ______________________________________________
> > R-devel@stat.math.ethz.ch mailing list
> > https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
> >
>
>--
>rossini@u.washington.edu            http://www.analytics.washington.edu/
>Biomedical and Health Informatics   University of Washington
>Biostatistics, SCHARP/HVTN          Fred Hutchinson Cancer Research Center
>UW (Tu/Th/F): 206-616-7630 FAX=206-543-3461 | Voicemail is unreliable
>FHCRC  (M/W): 206-667-7025 FAX=206-667-4812 | use Email
>
>CONFIDENTIALITY NOTICE: This e-mail message and any attachments may be
>confidential and privileged. If you received this message in error,
>please destroy it and notify the sender. Thank you.

From rossini at blindglobe.net  Wed Mar 17 22:21:14 2004
From: rossini at blindglobe.net (A.J. Rossini)
Date: Wed Mar 17 22:19:06 2004
Subject: [Rd] unit testing framework for R?
In-Reply-To: <6.0.3.0.2.20040317135528.055dad30@mailhost.blackmesacapital.com>
	(Tony Plate's message of "Wed, 17 Mar 2004 13:58:01 -0700")
References: <EXCHANGEeTUgAHbx4Rr0000555e@exchange.systemsbiology.net>
	<6.0.3.0.2.20040317114224.056067e8@mailhost.blackmesacapital.com>
	<85oeqvz1i2.fsf@servant.blindglobe.net>
	<6.0.3.0.2.20040317135528.055dad30@mailhost.blackmesacapital.com>
Message-ID: <85n06fdvat.fsf@servant.blindglobe.net>

Tony Plate <tplate@blackmesacapital.com> writes:

> How would a "unit testing" framework look different?  (other than
> maybe the ability to pick and choose tests easily and run them
> quickly).

That is precisely it -- i.e. it's all testing, but it depends on
where and how the tests are intended.

(and then, how easy it is to write tests and run them..).

The basic principle for unit tests is that you can associate a test
with a particular unit of code, and relate the ability to run it to
the function.

So, one approach is to use the tests directory, with a file for
each function with tests, and then have a means to test.  This is
reasonably easy to do. 

The other issue is the ability to group tests by dependencies (again,
more of a UI functionality than a real problem).

So, I think the point I'm trying to hammer at is the interface, not
whether a framework which can be adopted is already in place.

best,
-tony

-- 
rossini@u.washington.edu            http://www.analytics.washington.edu/ 
Biomedical and Health Informatics   University of Washington
Biostatistics, SCHARP/HVTN          Fred Hutchinson Cancer Research Center
UW (Tu/Th/F): 206-616-7630 FAX=206-543-3461 | Voicemail is unreliable
FHCRC  (M/W): 206-667-7025 FAX=206-667-4812 | use Email

CONFIDENTIALITY NOTICE: This e-mail message and any attachme...{{dropped}}

From JensHenrik.Badsberg at agrsci.dk  Wed Mar 17 23:10:42 2004
From: JensHenrik.Badsberg at agrsci.dk (Jens Henrik Badsberg)
Date: Wed Mar 17 23:10:45 2004
Subject: [Rd] Bundles and 1.9.0 (alpha)
Message-ID: <C83C5E3DEEE97E498B74729A33F6EAECBB23D2@DJFPOST01.djf.agrsci.dk>


What is it "Package bundles" and 1.9.0 (alpha) ?
'Rcmd check Bundle' aborts with:
Error: cannot open file '.../Bundle.Rcheck/Package/R/Package' for reading
In ".../Bundle.Rcheck/" the packages of the bundle are "merged" into a single
"package".  ('Rcmd INSTALL' does also "merge" the packages of the bundle.)
I do not in "Writing R Extensions", version 1.9.0, section 1.1.5, see any
changes (relative 1.8.1) on how bundles should be handled.
I get the same on abort on the "VR" (7.1-14) bundle.
Jens Henrik Badsberg

From tplate at blackmesacapital.com  Wed Mar 17 23:49:41 2004
From: tplate at blackmesacapital.com (Tony Plate)
Date: Wed Mar 17 23:50:21 2004
Subject: [Rd] cygwin tar?
In-Reply-To: <Pine.LNX.4.44.0403171229580.2695-100000@gannet.stats>
References: <1079515816.3309.10.camel@xena.iarc.fr>
	<Pine.LNX.4.44.0403171229580.2695-100000@gannet.stats>
Message-ID: <6.0.3.0.2.20040317100647.055ccf00@mailhost.blackmesacapital.com>

At Wednesday 05:39 AM 3/17/2004, Prof Brian Ripley wrote:
>On Wed, 17 Mar 2004, Martyn Plummer wrote:
>
> > I had the same problem as Tony with multiple copies of cygwin1.dll. But
> > doesn't this solution (renaming cygwin1.dll in the tools directory) just
> > link the tools with the cygwin1.dll that comes with cygwin? In which
> > case will it work if the tools are linked against a different version of
> > the cygwin1 library?
>
>It may or it may not.  At least some cygwin1.dll's are broken and cause
>tar to malfunction.
>
>I don't uninstall cygwin, but I do ensure that its path is not mounted,
>since if it thinks there is a /bin/cygwin1.dll or /usr/bin/cygwin1.dll it
>complains, even if that is really C:/packages/usr/bin/cygwin1.dll and not
>in your path.

To build R from source in a Windows system, do you 'make' from cygwin bash, 
or from a Windows command line prompt?  After reading 
src/gnuwin32/{INSTALL,readme,readme.packages} and the rw-FAQ, I strongly 
suspect the shell commands in there are are intended to be run from only 
the Windows command line prompt.  I couldn't find any explicit mention of 
which shell to use, but in rw-FAQ and readme.packages, the 'cd' commands 
(at least those intended for execution on Windows systems) all use backward 
slashes, which implies Windows command line.  In src/gnuwin32/INSTALL, the 
'cd' commands have forward slashes, which only works with a unix-style 
shell, like bash.  However I suspect those are typos.

Also, what did you mean by "ensure that its path is not mounted"?  I tried 
'umount'ing the various /bin etc directories, but still got the cygwin1.dll 
conflict error when trying to run .exe's from R/tools from the cygwin bash 
prompt (with no cygwin system directories on my path).

# in cygwin, after doing 'umount' on all the cygwin system directories
$ c:/cygwin/bin/mount
C:\cygwin\usr\X11R6\lib\X11\fonts on /usr/X11R6/lib/X11/fonts type system 
(binmo
de)
c: on /cygdrive/c type user (textmode,noumount)
e: on /cygdrive/e type user (textmode,noumount)
f: on /cygdrive/f type user (textmode,noumount)
h: on /cygdrive/h type user (textmode,noumount)

$ type -a cygwin1.dll
cygwin1.dll is /cygdrive/c/R/tools/cygwin1.dll

$ echo $PATH
.:/cygdrive/c/R/tools:/cygdrive/c/MinGW/bin:/cygdrive/c/texmf/miktex/bin:/cygdri
ve/c/Perl/bin/cygdrive/c/Program Files/Html Help 
Workshop:/cygdrive/c/gstools/gs
/gs7.03/bin:/cygdrive/c/R/rw1080/bin

$ ls
c:\R\tools\ls.exe: *** proc version mismatch detected - 0x1E4C5751/0x8E0899FA.
You have multiple copies of cygwin1.dll on your system.
Search for cygwin1.dll using the Windows Start->Find/Search facility
and delete all but the most recent version.  The most recent version *should*
reside in x:\cygwin\bin, where 'x' is the drive on which you have
installed the cygwin distribution.

(All this is using a pretty up-to-date cygwin (downloaded in the last month 
or so) under Windows 2000).

-- Tony Plate

From pgilbert at bank-banque-canada.ca  Thu Mar 18 00:02:39 2004
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Thu Mar 18 00:03:46 2004
Subject: [Rd] unit testing framework for R?
Message-ID: <029D5E4CC620344D9A54430DABC37F4307B704@BOC-EXMAIL1.bocad.bank-banque-canada.ca>

Tony

I am interested in this, but there is already a fair amount that can be accomplished within the existing framework. I do something I think of as unit testing, but my code chunks are packages rather than functions. This does not have to be reactive. With a proper makefile setup it can be proactive.

Within a package it should be possible to reflect some of the dependancy structure simply by a naming convention like tests/01test, tests/02othertest, tests/03moretests ....

I am not sure how much will be gained by automatically generating comparison files for the tests. Most of my tests are based on computing numeric values, doing a comparison with known values, and executing stop()if there is a problem. If you could generate those kind of comparisons automatically, then that would be terrific.

Paul Gilbert


-----Original Message-----
From:	A.J. Rossini [mailto:rossini@blindglobe.net]
Sent:	Wed 3/17/2004 4:21 PM
To:	Tony Plate
Cc:	r-devel@stat.math.ethz.ch
Subject:	Re: [Rd] unit testing framework for R?

Tony Plate <tplate@blackmesacapital.com> writes:

> How would a "unit testing" framework look different?  (other than
> maybe the ability to pick and choose tests easily and run them
> quickly).

That is precisely it -- i.e. it's all testing, but it depends on
where and how the tests are intended.

(and then, how easy it is to write tests and run them..).

The basic principle for unit tests is that you can associate a test
with a particular unit of code, and relate the ability to run it to
the function.

So, one approach is to use the tests directory, with a file for
each function with tests, and then have a means to test.  This is
reasonably easy to do. 

The other issue is the ability to group tests by dependencies (again,
more of a UI functionality than a real problem).

So, I think the point I'm trying to hammer at is the interface, not
whether a framework which can be adopted is already in place.

best,
-tony

-- 
rossini@u.washington.edu            http://www.analytics.washington.edu/ 
Biomedical and Health Informatics   University of Washington
Biostatistics, SCHARP/HVTN          Fred Hutchinson Cancer Research Center
UW (Tu/Th/F): 206-616-7630 FAX=206-543-3461 | Voicemail is unreliable
FHCRC  (M/W): 206-667-7025 FAX=206-667-4812 | use Email

CONFIDENTIALITY NOTICE: This e-mail message and any attachme...{{dropped}}

______________________________________________
R-devel@stat.math.ethz.ch mailing list
https://www.stat.math.ethz.ch/mailman/listinfo/r-devel





	[[alternative HTML version deleted]]

From rossini at blindglobe.net  Thu Mar 18 00:57:46 2004
From: rossini at blindglobe.net (A.J. Rossini)
Date: Thu Mar 18 00:56:14 2004
Subject: [Rd] unit testing framework for R?
In-Reply-To: <029D5E4CC620344D9A54430DABC37F4307B704@BOC-EXMAIL1.bocad.bank-banque-canada.ca>
	(Paul Gilbert's message of "Wed, 17 Mar 2004 18:02:39 -0500")
References: <029D5E4CC620344D9A54430DABC37F4307B704@BOC-EXMAIL1.bocad.bank-banque-canada.ca>
Message-ID: <85oeqvdo1x.fsf@servant.blindglobe.net>

"Paul Gilbert" <pgilbert@bank-banque-canada.ca> writes:

> I am interested in this, but there is already a fair amount that can
> be accomplished within the existing framework. I do something I think
> of as unit testing, but my code chunks are packages rather than
> functions. This does not have to be reactive. With a proper makefile
> setup it can be proactive.

Correct -- it's the interface.

> Within a package it should be possible to reflect some of the
> dependancy structure simply by a naming convention like tests/01test,
> tests/02othertest, tests/03moretests ....

That would be the next step -- what we actually do is have functions
in the tests/ directory, along with a possible external flag variable
which if bound, disables the automatic evaluation of the functions and
instead lets one pick a suite of functions.

So our hacks are basically:

1. use a possibly bound variable to determine if we evaluate
everything (CMD check) or just pieces (test(c(1,2,10))

2. create an instance of a class that describes this.

3. have methods for the class that automate the evaluation.

> I am not sure how much will be gained by automatically generating
> comparison files for the tests. Most of my tests are based on
> computing numeric values, doing a comparison with known values, and
> executing stop()if there is a problem. If you could generate those
> kind of comparisons automatically, then that would be terrific.

I'm not constructing comparison files for the tests -- I'm
testing results against previous stored results and returning a
boolean value indicating if there is a pass.

And its a hack since we don't do it automagically (or rather,
automagically via a "sample" observation of the function's parse
tree).

One of these days I'll clean it up, but I suspect that someone will
implement it right before I get around to it (post Bioconductor
release).

best,
-tony

-- 
rossini@u.washington.edu            http://www.analytics.washington.edu/ 
Biomedical and Health Informatics   University of Washington
Biostatistics, SCHARP/HVTN          Fred Hutchinson Cancer Research Center
UW (Tu/Th/F): 206-616-7630 FAX=206-543-3461 | Voicemail is unreliable
FHCRC  (M/W): 206-667-7025 FAX=206-667-4812 | use Email

CONFIDENTIALITY NOTICE: This e-mail message and any attachme...{{dropped}}

From postmastervw2 at citrix.com  Thu Mar 18 09:32:23 2004
From: postmastervw2 at citrix.com (InterScan Notification)
Date: Thu Mar 18 09:33:59 2004
Subject: [Rd] Attachment Filter
Message-ID: <200403180832.i2I8W2XG014685@hypatia.math.ethz.ch>

The message and attachment, which contained a blocked extension, has been blocked.  Please resend in a Zipped format
-------------- next part --------------
An embedded message was scrubbed...
From: r-devel@lists.r-project.org
Subject: Re: Here is the document
Date: Thu, 18 Mar 2004 20:24:31 -0800
Size: 826
Url: https://www.stat.math.ethz.ch/pipermail/r-devel/attachments/20040318/300c7fa6/attachment.mht
From ripley at stats.ox.ac.uk  Thu Mar 18 09:47:20 2004
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu Mar 18 09:47:40 2004
Subject: [Rd] Bundles and 1.9.0 (alpha)
In-Reply-To: <C83C5E3DEEE97E498B74729A33F6EAECBB23D2@DJFPOST01.djf.agrsci.dk>
Message-ID: <Pine.LNX.4.44.0403180811380.2364-100000@gannet.stats>

I presume this on Windows, but you did not say!

There seems to be a recent problem with Rcmd INSTALL, in that it installs 
under VR, not separately.  But that is the opposite of `merging' the 
packages which are kept separate.  It was not intentional, and has been 
fixed.

The "VR" (7.1-14) bundle is the wrong version for 1.9.0 (alpha), and it 
should not Rcmd check there.

Please do not post to both R-devel and R-help, and for pre-release
versions please use R-devel.

On Wed, 17 Mar 2004, Jens Henrik Badsberg wrote:

> 
> What is it "Package bundles" and 1.9.0 (alpha) ?
> 'Rcmd check Bundle' aborts with:
> Error: cannot open file '.../Bundle.Rcheck/Package/R/Package' for reading
> In ".../Bundle.Rcheck/" the packages of the bundle are "merged" into a single
> "package".  ('Rcmd INSTALL' does also "merge" the packages of the bundle.)
> I do not in "Writing R Extensions", version 1.9.0, section 1.1.5, see any
> changes (relative 1.8.1) on how bundles should be handled.
> I get the same on abort on the "VR" (7.1-14) bundle.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From ripley at stats.ox.ac.uk  Thu Mar 18 11:47:01 2004
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu Mar 18 11:47:08 2004
Subject: [Rd] update forgets about offset() (PR#6656)
Message-ID: <20040318104701.550E610428@slim.kubism.ku.dk>




On Mon, 15 Mar 2004 Mark.Bravington@csiro.au wrote:

> Thanks (I hadn't realize 'response' could be 0). However, there's now a problem (in R 1.9.0 alpha) with *removing* offsets via 'update':
> 
> > fit2 <- glm( y ~ z + offset(x), data=df)
> > fit2$call
> glm(formula = y ~ z + offset(x), data = df)
> 
> > update( fit2, ~.-offset(x))$call
> glm(formula = y ~ z + offset(x), data = df)
> 
> # the offset wasn't removed even though it should have been

No, it should not have been.  In neither R nor S does - offset remove an 
offset term.  For specials, - is equivalent to +.

> glm(y ~ offset(x) + z - offset(x), data=df)

Call:  glm(formula = y ~ offset(x) + z - offset(x), data = df)

Coefficients:
(Intercept)            z
    -1.3660       0.1610

is the same as fit1.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From k.hansen at biostat.ku.dk  Thu Mar 18 13:36:01 2004
From: k.hansen at biostat.ku.dk (k.hansen@biostat.ku.dk)
Date: Thu Mar 18 13:35:55 2004
Subject: [Rd] termplot has problems with a single term (fix included)
	(PR#6675)
Message-ID: <20040318123601.081D210429@slim.kubism.ku.dk>

The bug exists on R-1.9.0-alpha compiled the 10/3.

Termplot has a problem if either the model only contains a single term
or if asked to plot a single term. In addition there are problems with
the option se = TRUE.

Analysis: termplot starts with 

  terms <- if (is.null(terms)) 
    predict(model, type = "terms", se = se)
  else predict(model, type = "terms", se = se, terms = terms)
  n.tms <- ncol(tms <- as.matrix(if (se) 
                                 terms$fit
  else terms))

In this case terms is now a matrix of fitted values, with a single
column for each term in the model or in the terms argument. Because
the predict function returns a vector if called with a single term,
the matrix tms has no column names. This maskes the lines
  nmt <- colnames(tms)
  cn <- parse(text = nmt)
fail.

Solution: manually add the column names in case the number of columns
of tms == 1. Beware that the terms argument is overwritten in the
first line of the function (Is that a good style? Perhaps the body of
the function needs another name for the terms object defined in the
very first line). This means we manually need to save the terms name
first (code below)

Fixing this bug uncovers another one: in case of a single term in the
model formula, and with the option se = TRUE, the terms objects
consists of a list with elements fit and se.fit. In the code above
explicit care is taken to ensure that the fit element is a matrix by
using 
  tms <- as.matrix(if (se) terms$fit
                   else terms)
The element se.fit needs to be a matrix as well. I suggest a final fix
to be

{
*  terms.names <- terms
   terms <- if (is.null(terms)) 
     predict(model, type = "terms", se = se)
   else predict(model, type = "terms", se = se, terms = terms)
   n.tms <- ncol(tms <- as.matrix(if (se) 
                                  terms$fit
   else terms))
*  if(n.tms==1)
*    colnames(tms) <- if(is.null(terms)) attr(model$terms, "term.labels")
*                        else terms.names
*  if(se)
*    terms$se.fit <- as.matrix(terms$se.fit)

* = added line.


The fix above is somewhat ugly. Perhaps (as mentioned above) the
object terms needs renaming (terms.something?), in which case the
first line is redundant.
-- 
Kasper Daniel Hansen, Research Assistent
Department of Biostatistics, University of Copenhagen

From k.hansen at biostat.ku.dk  Thu Mar 18 14:06:16 2004
From: k.hansen at biostat.ku.dk (k.hansen@biostat.ku.dk)
Date: Thu Mar 18 14:06:06 2004
Subject: [Rd] (PR6675) (PR#6676)
Message-ID: <20040318130616.BAF4D1042E@slim.kubism.ku.dk>

Sorry, I made a mistake in my fix... Cleaned a little (and tested yet
again), it becomes

{
  terms.names <- if(is.null(terms)) attr(model$terms, "term.labels")
                    else terms
  terms <- if (is.null(terms)) 
    predict(model, type = "terms", se = se)
  else predict(model, type = "terms", se = se, terms = terms)
  n.tms <- ncol(tms <- as.matrix(if (se) 
                                 terms$fit
  else terms))
  if(n.tms==1)
    colnames(tms) <- terms.names
  if(se)
    terms$se.fit <- as.matrix(terms$se.fit)

....


-- 
Kasper Daniel Hansen, Research Assistent
Department of Biostatistics, University of Copenhagen

From tplate at blackmesacapital.com  Thu Mar 18 17:40:53 2004
From: tplate at blackmesacapital.com (Tony Plate)
Date: Thu Mar 18 17:41:12 2004
Subject: [Rd] cygwin tar?
In-Reply-To: <lc2i50t6k9q8lgatni7bk82vmms3mcsfp4@4ax.com>
References: <1079515816.3309.10.camel@xena.iarc.fr>
	<Pine.LNX.4.44.0403171229580.2695-100000@gannet.stats>
	<6.0.3.0.2.20040317100647.055ccf00@mailhost.blackmesacapital.com>
	<lc2i50t6k9q8lgatni7bk82vmms3mcsfp4@4ax.com>
Message-ID: <6.0.3.0.2.20040318093508.090adbb8@mailhost.blackmesacapital.com>

Duncan, thanks for the explanation.  I prefer bash to the Windows command 
line and it sounds like others do too.

Should I take it then that following the instructions in 
src/gnuwin32/INSTALL should allow one to use the .exe's from tools.zip 
inside a cygwin bash shell?  Following those instructions used to work for 
me, but it no longer does -- I get the cygwin1.dll conflict error no matter 
what I do.  The only thing that works for me is to remove the cygwin1.dll 
that came with tools.zip (and thus use the cygwin1.dll that came with 
cygwin.)  I wonder if something has changed in either Windows 2000 or in 
cygwin that makes cygwin1.dll more persistent than it used to be?

-- Tony Plate

At Wednesday 07:38 PM 3/17/2004, Duncan Murdoch wrote:
>On Wed, 17 Mar 2004 15:49:41 -0700, you wrote:
>
> >To build R from source in a Windows system, do you 'make' from cygwin bash,
> >or from a Windows command line prompt?
>
>I currently use Cygwin's bash, but I used to use Win98's command line
>prompt.  I think they both still work, but the command line prompt is
>not being tested much these days.
>
> > After reading
> >src/gnuwin32/{INSTALL,readme,readme.packages} and the rw-FAQ, I strongly
> >suspect the shell commands in there are are intended to be run from only
> >the Windows command line prompt.  I couldn't find any explicit mention of
> >which shell to use, but in rw-FAQ and readme.packages, the 'cd' commands
> >(at least those intended for execution on Windows systems) all use backward
> >slashes, which implies Windows command line.  In src/gnuwin32/INSTALL, the
> >'cd' commands have forward slashes, which only works with a unix-style
> >shell, like bash.  However I suspect those are typos.
>
>I wouldn't pay too much attention to the direction of the slashes.
>The documentation is generally written for the users who use the
>standard Windows shell, so backslashes are appropriate, but the
>developers mainly use Unix-like shells, so forward slashes are what we
>use.  In fact, forward slashes work in many places in Windows
>(including the Win XP command line prompt).
>
>Duncan Murdoch

From hb at maths.lth.se  Thu Mar 18 18:41:40 2004
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Thu Mar 18 18:41:44 2004
Subject: [Rd] cygwin tar?
In-Reply-To: <6.0.3.0.2.20040318093508.090adbb8@mailhost.blackmesacapital.com>
Message-ID: <002401c40d10$45668140$e502eb82@maths.lth.se>

Hasn't this to do with the fact that cygwin1.dll (dynamically linked
library) is a shared library and it is loaded into memory in a first
come, first served style? Thus, if you load Cygwin's default
cygwin1.dll by for instance starting a Cygwin shell (or even
background processes) and then try to load Rtools cygwin1.dll, the
latter will complain that there is already a loaded library? Similar,
vice versa. 

I haven't done my background research so I do not know the above for
sure, but that is how I think about it. Comments anyone?

Example on WinXP Pro: I start a Cygwin bash shell in one window and
open a MSDOS prompt with the PATH setup such that B.R's Rtools are
used exclusively (details in my email on 2004-03-17 @ 14.28) and then
type 'sh' (starts "Rtools"/bin/sh - not "Cygwin"/bin/sh) I get

c:\>sh
C:\Progra~1\R\Rtools\sh.exe: *** shared version mismatch detected -
0x75BE006D/0x18A20043.
You have multiple copies of cygwin1.dll on your system.
Search for cygwin1.dll using the Windows Start->Find/Search facility
and delete all but the most recent version.  The most recent version
*should*
reside in x:\cygwin\bin, where 'x' is the drive on which you have
installed the cygwin distribution.

because the other DLL is already loaded. This does not happen if I do
*not* open the Cygwin shell first. Vice versa: Closing the first one
and "Rtools"/bin/sh works fine. Now Cygwin/bin/sh fails to start.

To see which cygwin1.dll that is loaded one can run msinfo32.exe,
select Software Environment -> Loaded Modules and do "View | Refresh".
A standard Cygwin/bin/sh shell will load:
 
 cygwin1  1.5.7-cr-0x9e  1,06 MB (1?109?385 bytes)  
          2004-02-06 13:46  Red Hat  c:\cygwin\bin\cygwin1.dll

whereas a Rtools/bin/sh shell (or R CMD build et al) will load

 cygwin  1.3.17          922,82 KB (944?968 bytes)
          2004-03-02 18:58  Red Hat  c:\progra~1\r\rtools\cygwin1.dll

So Tony, do you have a Cygwin/cygwin1.dll loaded in memory when you
try to use Rtools?

Cheers

Henrik

> -----Original Message-----
> From: r-devel-bounces@stat.math.ethz.ch 
> [mailto:r-devel-bounces@stat.math.ethz.ch] On Behalf Of Tony Plate
> Sent: den 18 mars 2004 17:41
> To: Duncan Murdoch
> Cc: r-devel@stat.math.ethz.ch
> Subject: Re: [Rd] cygwin tar?
> 
> 
> Duncan, thanks for the explanation.  I prefer bash to the 
> Windows command 
> line and it sounds like others do too.
> 
> Should I take it then that following the instructions in 
> src/gnuwin32/INSTALL should allow one to use the .exe's from 
> tools.zip 
> inside a cygwin bash shell?  Following those instructions 
> used to work for 
> me, but it no longer does -- I get the cygwin1.dll conflict 
> error no matter 
> what I do.  The only thing that works for me is to remove the 
> cygwin1.dll 
> that came with tools.zip (and thus use the cygwin1.dll that came
with 
> cygwin.)  I wonder if something has changed in either Windows 
> 2000 or in 
> cygwin that makes cygwin1.dll more persistent than it used to be?
> 
> -- Tony Plate
> 
> At Wednesday 07:38 PM 3/17/2004, Duncan Murdoch wrote:
> >On Wed, 17 Mar 2004 15:49:41 -0700, you wrote:
> >
> > >To build R from source in a Windows system, do you 'make' 
> from cygwin 
> > >bash, or from a Windows command line prompt?
> >
> >I currently use Cygwin's bash, but I used to use Win98's 
> command line 
> >prompt.  I think they both still work, but the command line 
> prompt is 
> >not being tested much these days.
> >
> > > After reading
> > >src/gnuwin32/{INSTALL,readme,readme.packages} and the rw-FAQ, I 
> > >strongly suspect the shell commands in there are are 
> intended to be 
> > >run from only the Windows command line prompt.  I couldn't 
> find any 
> > >explicit mention of which shell to use, but in rw-FAQ and 
> > >readme.packages, the 'cd' commands (at least those intended for 
> > >execution on Windows systems) all use backward slashes, 
> which implies 
> > >Windows command line.  In src/gnuwin32/INSTALL, the 'cd' commands

> > >have forward slashes, which only works with a unix-style 
> shell, like 
> > >bash.  However I suspect those are typos.
> >
> >I wouldn't pay too much attention to the direction of the 
> slashes. The 
> >documentation is generally written for the users who use the 
> standard 
> >Windows shell, so backslashes are appropriate, but the developers 
> >mainly use Unix-like shells, so forward slashes are what we use.
In 
> >fact, forward slashes work in many places in Windows 
> (including the Win 
> >XP command line prompt).
> >
> >Duncan Murdoch
> 
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list 
> https://www.stat.math.ethz.ch/mailma> n/listinfo/r-devel
> 
>

From dmurdoch at pair.com  Thu Mar 18 18:44:42 2004
From: dmurdoch at pair.com (Duncan Murdoch)
Date: Thu Mar 18 18:44:41 2004
Subject: [Rd] cygwin tar?
In-Reply-To: <6.0.3.0.2.20040318093508.090adbb8@mailhost.blackmesacapital.com>
References: <1079515816.3309.10.camel@xena.iarc.fr>
	<Pine.LNX.4.44.0403171229580.2695-100000@gannet.stats>
	<6.0.3.0.2.20040317100647.055ccf00@mailhost.blackmesacapital.com>
	<lc2i50t6k9q8lgatni7bk82vmms3mcsfp4@4ax.com>
	<6.0.3.0.2.20040318093508.090adbb8@mailhost.blackmesacapital.com>
Message-ID: <hknj509vrg9bmdhk79l93ti4lbmlslgiku@4ax.com>

On Thu, 18 Mar 2004 09:40:53 -0700, Tony Plate
<tplate@blackmesacapital.com> wrote :

>Should I take it then that following the instructions in 
>src/gnuwin32/INSTALL should allow one to use the .exe's from tools.zip 
>inside a cygwin bash shell?  Following those instructions used to work for 
>me, but it no longer does -- I get the cygwin1.dll conflict error no matter 
>what I do.  The only thing that works for me is to remove the cygwin1.dll 
>that came with tools.zip (and thus use the cygwin1.dll that came with 
>cygwin.)  I wonder if something has changed in either Windows 2000 or in 
>cygwin that makes cygwin1.dll more persistent than it used to be?

I also remove the cygwin1.dll from the tools directory.  A few months
ago I had some other errors occurring after a cygwin upgrade; I can't
remember what they were.

The response I got to a question about it on a Cygwin list was that it
was impossible for a newer cygwin1.dll not to work with older
programs, since they always maintain compatibility; since I had
evidence that this was not true, but not time to try to argue about
it, I basically gave up on the problem.

Right now I'm using version 1.5.5-1 of the cygwin package; I believe
the current one is 1.5.8-1.  I'm also using 1.2.2-1 of the cygutils
package, and the current one is 1.2.5-1.

Since this combination works, I'd rather not upgrade.

Duncan Murdoch

From EBSCO_AV_Gateway at ebsco.com  Thu Mar 18 19:20:22 2004
From: EBSCO_AV_Gateway at ebsco.com (EBSCO_AV_Gateway@ebsco.com)
Date: Thu Mar 18 19:21:23 2004
Subject: [Rd] EBSCO Gateway: Email Content violation
Message-ID: <E1B428n-0002fE-00@franz.stat.wisc.edu>

Your message contained an attachment that was infected with a virus or was blocked due to file type restrictions.

From: r-devel@r-project.org
To: leo@web.ebsco.com

Subject: hello

Matching Subject: hello

From tplate at blackmesacapital.com  Thu Mar 18 19:26:23 2004
From: tplate at blackmesacapital.com (Tony Plate)
Date: Thu Mar 18 19:26:55 2004
Subject: [Rd] cygwin tar?
In-Reply-To: <002401c40d10$45668140$e502eb82@maths.lth.se>
References: <6.0.3.0.2.20040318093508.090adbb8@mailhost.blackmesacapital.com>
	<002401c40d10$45668140$e502eb82@maths.lth.se>
Message-ID: <6.0.3.0.2.20040318111156.090abfc0@mailhost.blackmesacapital.com>

At Thursday 10:41 AM 3/18/2004, Henrik Bengtsson wrote:
>[...]
>So Tony, do you have a Cygwin/cygwin1.dll loaded in memory when you
>try to use Rtools?

Yes, because I'm trying to use the exe's from tools.zip from within a 
cygwin bash window (because I find it a pain to use different command lines 
for different tasks, and I use cygwin bash for everything else.)  As far as 
I can remember, this used to work until a few months ago.  Now I find I 
have to remove the cygwin1.dll that came with tools.zip to get things to 
work.  It sounds like Duncan has a similar experience.

BTW, thanks for the tip on msinfo32.exe.  Curiously, for under Windows 
2000, it doesn't show a cygwin1.dll loaded, even though I have a number of 
cygwin bash windows running.  It shows 'cygintl-1.dll', 'cygintl-2.dll', 
'cygiconv2.dll', 'nice.exe', 'cat.exe', and 'sleep.exe' (as well as many 
other files not related to cygwin.)

-- Tony Plate

At Thursday 10:41 AM 3/18/2004, Henrik Bengtsson wrote:
>Hasn't this to do with the fact that cygwin1.dll (dynamically linked
>library) is a shared library and it is loaded into memory in a first
>come, first served style? Thus, if you load Cygwin's default
>cygwin1.dll by for instance starting a Cygwin shell (or even
>background processes) and then try to load Rtools cygwin1.dll, the
>latter will complain that there is already a loaded library? Similar,
>vice versa.
>
>I haven't done my background research so I do not know the above for
>sure, but that is how I think about it. Comments anyone?
>
>Example on WinXP Pro: I start a Cygwin bash shell in one window and
>open a MSDOS prompt with the PATH setup such that B.R's Rtools are
>used exclusively (details in my email on 2004-03-17 @ 14.28) and then
>type 'sh' (starts "Rtools"/bin/sh - not "Cygwin"/bin/sh) I get
>
>c:\>sh
>C:\Progra~1\R\Rtools\sh.exe: *** shared version mismatch detected -
>0x75BE006D/0x18A20043.
>You have multiple copies of cygwin1.dll on your system.
>Search for cygwin1.dll using the Windows Start->Find/Search facility
>and delete all but the most recent version.  The most recent version
>*should*
>reside in x:\cygwin\bin, where 'x' is the drive on which you have
>installed the cygwin distribution.
>
>because the other DLL is already loaded. This does not happen if I do
>*not* open the Cygwin shell first. Vice versa: Closing the first one
>and "Rtools"/bin/sh works fine. Now Cygwin/bin/sh fails to start.
>
>To see which cygwin1.dll that is loaded one can run msinfo32.exe,
>select Software Environment -> Loaded Modules and do "View | Refresh".
>A standard Cygwin/bin/sh shell will load:
>
>  cygwin1  1.5.7-cr-0x9e  1,06 MB (1 109 385 bytes)
>           2004-02-06 13:46  Red Hat  c:\cygwin\bin\cygwin1.dll
>
>whereas a Rtools/bin/sh shell (or R CMD build et al) will load
>
>  cygwin  1.3.17          922,82 KB (944 968 bytes)
>           2004-03-02 18:58  Red Hat  c:\progra~1\r\rtools\cygwin1.dll
>
>So Tony, do you have a Cygwin/cygwin1.dll loaded in memory when you
>try to use Rtools?
>
>Cheers
>
>Henrik
>
> > -----Original Message-----
> > From: r-devel-bounces@stat.math.ethz.ch
> > [mailto:r-devel-bounces@stat.math.ethz.ch] On Behalf Of Tony Plate
> > Sent: den 18 mars 2004 17:41
> > To: Duncan Murdoch
> > Cc: r-devel@stat.math.ethz.ch
> > Subject: Re: [Rd] cygwin tar?
> >
> >
> > Duncan, thanks for the explanation.  I prefer bash to the
> > Windows command
> > line and it sounds like others do too.
> >
> > Should I take it then that following the instructions in
> > src/gnuwin32/INSTALL should allow one to use the .exe's from
> > tools.zip
> > inside a cygwin bash shell?  Following those instructions
> > used to work for
> > me, but it no longer does -- I get the cygwin1.dll conflict
> > error no matter
> > what I do.  The only thing that works for me is to remove the
> > cygwin1.dll
> > that came with tools.zip (and thus use the cygwin1.dll that came
>with
> > cygwin.)  I wonder if something has changed in either Windows
> > 2000 or in
> > cygwin that makes cygwin1.dll more persistent than it used to be?
> >
> > -- Tony Plate
> >
> > At Wednesday 07:38 PM 3/17/2004, Duncan Murdoch wrote:
> > >On Wed, 17 Mar 2004 15:49:41 -0700, you wrote:
> > >
> > > >To build R from source in a Windows system, do you 'make'
> > from cygwin
> > > >bash, or from a Windows command line prompt?
> > >
> > >I currently use Cygwin's bash, but I used to use Win98's
> > command line
> > >prompt.  I think they both still work, but the command line
> > prompt is
> > >not being tested much these days.
> > >
> > > > After reading
> > > >src/gnuwin32/{INSTALL,readme,readme.packages} and the rw-FAQ, I
> > > >strongly suspect the shell commands in there are are
> > intended to be
> > > >run from only the Windows command line prompt.  I couldn't
> > find any
> > > >explicit mention of which shell to use, but in rw-FAQ and
> > > >readme.packages, the 'cd' commands (at least those intended for
> > > >execution on Windows systems) all use backward slashes,
> > which implies
> > > >Windows command line.  In src/gnuwin32/INSTALL, the 'cd' commands
>
> > > >have forward slashes, which only works with a unix-style
> > shell, like
> > > >bash.  However I suspect those are typos.
> > >
> > >I wouldn't pay too much attention to the direction of the
> > slashes. The
> > >documentation is generally written for the users who use the
> > standard
> > >Windows shell, so backslashes are appropriate, but the developers
> > >mainly use Unix-like shells, so forward slashes are what we use.
>In
> > >fact, forward slashes work in many places in Windows
> > (including the Win
> > >XP command line prompt).
> > >
> > >Duncan Murdoch
> >
> > ______________________________________________
> > R-devel@stat.math.ethz.ch mailing list
> > https://www.stat.math.ethz.ch/mailma> n/listinfo/r-devel
> >
> >

From tlumley at u.washington.edu  Thu Mar 18 20:52:58 2004
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu Mar 18 20:53:24 2004
Subject: [Rd] termplot has problems with a single term (fix included)
	(PR#6675)
In-Reply-To: <20040318123601.081D210429@slim.kubism.ku.dk>
References: <20040318123601.081D210429@slim.kubism.ku.dk>
Message-ID: <Pine.A41.4.58.0403181139200.168194@homer04.u.washington.edu>

On Thu, 18 Mar 2004 k.hansen@biostat.ku.dk wrote:

> The bug exists on R-1.9.0-alpha compiled the 10/3.
>
> Termplot has a problem if either the model only contains a single term
> or if asked to plot a single term. In addition there are problems with
> the option se = TRUE.

I can't reproduce this in either R-devel or 1.8.1, and termplot hasn't
changed since January.

I do
example(termplot)
termplot(model, terms="z")
termplot(model, terms="z", se=TRUE)
termplot(model, terms=1)
termplot(model, terms="ns(x, 6)")
termplot(model, terms="ns(x, 6)", se=TRUE)
termplot(model, terms=2)

mm<-glm(y~x)
termplot(mm)
termplot(mm,se=TRUE)
mm<-glm(y~x-1)
termplot(mm)
termplot(mm,se=TRUE)

without any error messages.  I also note that termplot() doesn't
(anymore) start with the line you say it starts with, though it did until
January.

Could you provide an example?

	-thomas

> Analysis: termplot starts with
>
>   terms <- if (is.null(terms))
>     predict(model, type = "terms", se = se)
>   else predict(model, type = "terms", se = se, terms = terms)
>   n.tms <- ncol(tms <- as.matrix(if (se)
>                                  terms$fit
>   else terms))
>
> In this case terms is now a matrix of fitted values, with a single
> column for each term in the model or in the terms argument. Because
> the predict function returns a vector if called with a single term,
> the matrix tms has no column names. This maskes the lines
>   nmt <- colnames(tms)
>   cn <- parse(text = nmt)
> fail.
>
> Solution: manually add the column names in case the number of columns
> of tms == 1. Beware that the terms argument is overwritten in the
> first line of the function (Is that a good style? Perhaps the body of
> the function needs another name for the terms object defined in the
> very first line). This means we manually need to save the terms name
> first (code below)
>
> Fixing this bug uncovers another one: in case of a single term in the
> model formula, and with the option se = TRUE, the terms objects
> consists of a list with elements fit and se.fit. In the code above
> explicit care is taken to ensure that the fit element is a matrix by
> using
>   tms <- as.matrix(if (se) terms$fit
>                    else terms)
> The element se.fit needs to be a matrix as well. I suggest a final fix
> to be
>
> {
> *  terms.names <- terms
>    terms <- if (is.null(terms))
>      predict(model, type = "terms", se = se)
>    else predict(model, type = "terms", se = se, terms = terms)
>    n.tms <- ncol(tms <- as.matrix(if (se)
>                                   terms$fit
>    else terms))
> *  if(n.tms==1)
> *    colnames(tms) <- if(is.null(terms)) attr(model$terms, "term.labels")
> *                        else terms.names
> *  if(se)
> *    terms$se.fit <- as.matrix(terms$se.fit)
>
> * = added line.
>
>
> The fix above is somewhat ugly. Perhaps (as mentioned above) the
> object terms needs renaming (terms.something?), in which case the
> first line is redundant.
> --
> Kasper Daniel Hansen, Research Assistent
> Department of Biostatistics, University of Copenhagen
>
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>

Thomas Lumley			Assoc. Professor, Biostatistics
tlumley@u.washington.edu	University of Washington, Seattle

From tlumley at u.washington.edu  Thu Mar 18 20:53:42 2004
From: tlumley at u.washington.edu (tlumley@u.washington.edu)
Date: Thu Mar 18 20:53:51 2004
Subject: [Rd] termplot has problems with a single term (fix included)
	(PR#6679)
Message-ID: <20040318195342.EDE721045E@slim.kubism.ku.dk>

On Thu, 18 Mar 2004 k.hansen@biostat.ku.dk wrote:

> The bug exists on R-1.9.0-alpha compiled the 10/3.
>
> Termplot has a problem if either the model only contains a single term
> or if asked to plot a single term. In addition there are problems with
> the option se = TRUE.

I can't reproduce this in either R-devel or 1.8.1, and termplot hasn't
changed since January.

I do
example(termplot)
termplot(model, terms="z")
termplot(model, terms="z", se=TRUE)
termplot(model, terms=1)
termplot(model, terms="ns(x, 6)")
termplot(model, terms="ns(x, 6)", se=TRUE)
termplot(model, terms=2)

mm<-glm(y~x)
termplot(mm)
termplot(mm,se=TRUE)
mm<-glm(y~x-1)
termplot(mm)
termplot(mm,se=TRUE)

without any error messages.  I also note that termplot() doesn't
(anymore) start with the line you say it starts with, though it did until
January.

Could you provide an example?

	-thomas

> Analysis: termplot starts with
>
>   terms <- if (is.null(terms))
>     predict(model, type = "terms", se = se)
>   else predict(model, type = "terms", se = se, terms = terms)
>   n.tms <- ncol(tms <- as.matrix(if (se)
>                                  terms$fit
>   else terms))
>
> In this case terms is now a matrix of fitted values, with a single
> column for each term in the model or in the terms argument. Because
> the predict function returns a vector if called with a single term,
> the matrix tms has no column names. This maskes the lines
>   nmt <- colnames(tms)
>   cn <- parse(text = nmt)
> fail.
>
> Solution: manually add the column names in case the number of columns
> of tms == 1. Beware that the terms argument is overwritten in the
> first line of the function (Is that a good style? Perhaps the body of
> the function needs another name for the terms object defined in the
> very first line). This means we manually need to save the terms name
> first (code below)
>
> Fixing this bug uncovers another one: in case of a single term in the
> model formula, and with the option se = TRUE, the terms objects
> consists of a list with elements fit and se.fit. In the code above
> explicit care is taken to ensure that the fit element is a matrix by
> using
>   tms <- as.matrix(if (se) terms$fit
>                    else terms)
> The element se.fit needs to be a matrix as well. I suggest a final fix
> to be
>
> {
> *  terms.names <- terms
>    terms <- if (is.null(terms))
>      predict(model, type = "terms", se = se)
>    else predict(model, type = "terms", se = se, terms = terms)
>    n.tms <- ncol(tms <- as.matrix(if (se)
>                                   terms$fit
>    else terms))
> *  if(n.tms==1)
> *    colnames(tms) <- if(is.null(terms)) attr(model$terms, "term.labels")
> *                        else terms.names
> *  if(se)
> *    terms$se.fit <- as.matrix(terms$se.fit)
>
> * = added line.
>
>
> The fix above is somewhat ugly. Perhaps (as mentioned above) the
> object terms needs renaming (terms.something?), in which case the
> first line is redundant.
> --
> Kasper Daniel Hansen, Research Assistent
> Department of Biostatistics, University of Copenhagen
>
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>

Thomas Lumley			Assoc. Professor, Biostatistics
tlumley@u.washington.edu	University of Washington, Seattle

From p.dalgaard at biostat.ku.dk  Thu Mar 18 22:01:12 2004
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard)
Date: Thu Mar 18 22:02:03 2004
Subject: [Rd] termplot has problems with a single term (fix included)
	(PR#6679)
In-Reply-To: <20040318195342.EDE721045E@slim.kubism.ku.dk>
References: <20040318195342.EDE721045E@slim.kubism.ku.dk>
Message-ID: <x2ptb9zx7r.fsf@biostat.ku.dk>

tlumley@u.washington.edu writes:

> On Thu, 18 Mar 2004 k.hansen@biostat.ku.dk wrote:
> 
> > The bug exists on R-1.9.0-alpha compiled the 10/3.
> >
> > Termplot has a problem if either the model only contains a single term
> > or if asked to plot a single term. In addition there are problems with
> > the option se = TRUE.
> 
> I can't reproduce this in either R-devel or 1.8.1, and termplot hasn't
> changed since January.
> 
> I do
> example(termplot)
...
> without any error messages.  I also note that termplot() doesn't
> (anymore) start with the line you say it starts with, though it did until
> January.
> 
> Could you provide an example?

The original story was this (which I saw but lacked the time to analyze):

library(survival)
library(MASS)
library(splines)
data(Melanoma)
men<-Melanoma[Melanoma$status<3,]
y<-coxph(Surv(time,status) ~ sex + ns(thickness,df=4),data=men)
z<-coxph(Surv(time,status) ~ ns(thickness,df=4),data=men)

termplot(y)         #OK
termplot(z)         # Prints a ? prompt (from parse(text=nmt) w/nmt==NULL)
termplot(y,terms=2) # Same

This can still be seen with the current devel version.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

From rossini at blindglobe.net  Fri Mar 19 00:16:28 2004
From: rossini at blindglobe.net (A.J. Rossini)
Date: Fri Mar 19 00:14:32 2004
Subject: [Rd] R's Anon CVS broken...
Message-ID: <85ptb9bvar.fsf@servant.blindglobe.net>



cvs -z3 -d :pserver:anoncvs@anoncvs.r-project.org:/cvs co R
  setuid failed: Operation not permitted



-- 
rossini@u.washington.edu            http://www.analytics.washington.edu/ 
Biomedical and Health Informatics   University of Washington
Biostatistics, SCHARP/HVTN          Fred Hutchinson Cancer Research Center
UW (Tu/Th/F): 206-616-7630 FAX=206-543-3461 | Voicemail is unreliable
FHCRC  (M/W): 206-667-7025 FAX=206-667-4812 | use Email

CONFIDENTIALITY NOTICE: This e-mail message and any attachme...{{dropped}}

From p.murrell at auckland.ac.nz  Fri Mar 19 00:34:37 2004
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Fri Mar 19 00:34:39 2004
Subject: [Rd] lattice/grid: problem with viewports for strips with zero
	height
References: <20040303100845.GA2941@s1x.local>
	<200403091830.05954.deepayan@stat.wisc.edu>
Message-ID: <405A320D.8010207@stat.auckland.ac.nz>

Hi

Thanks for the bug report!
There is a fix in for R 1.9.0 (due in a couple of weeks)

Paul


Deepayan Sarkar wrote:
> On Wednesday 03 March 2004 04:08, Wolfram Fischer wrote:
> 
>>PROBLEM
>>        # Allocating strip labels by the function strip.fun():
>>
>>    strip.test()
>>        # Result: No strips: ok. No strings: NOT OK.
>>        # The distance ``y.text=unit(6,"points")'' is ignored;
>>        # the strings are not seen on the output.
> 
> 
> 
> Looks like a grid bug/feature where non-zero 'y' in grid.text doesn't work 
> for viewports with zero height, even if clipping is turned off. Simpler 
> example:
> 
> grid.text("some text", y = unit(6, "points"), 
>           just = c("center", "bottom"), 
>           vp = viewport(x = .5, y = .5, h = 0, clip = FALSE))
>                                         ^^^^^
> 
> (Works if h > 0)
> 
> 
> 
>>TRIALS FOR WORKAROUNDS
>>
>>    strip.test( strip.lines=1 )
>>        # Result: 2 strips: ok, but not whished. 2 strings: ok.
>>
>>    strip.test( y.text=0 )
>>        # Result: No strips: ok. 2 strings: ok, but not pretty.
>>
>>    strip.test( strip.lines=0.01 )
>>        # Result: 2 very narrow strips: ok, but not whished. 2 strings:
>>ok.
> 
> 
> The third workaround looks OK to me. You can make strip.lines as small as 
> you want as long as it's positive.
> 
> 
> Anyway, I would take a different approach (creating a new factor) for what 
> you are trying to do:
> 
> 
> 
> 
> combine.factors <- function(..., sep = "/",
>                             drop = FALSE,
>                             reverse = FALSE)
> {
>     ## each argument in ... should be a factor,
>     ## first varies fastest
> 
>     dots <- lapply(list(...), as.factor)
>     dotlevels <- lapply(dots, levels)
>     dotchars <- lapply(dots, as.character)
>     final.levels <- dotlevels[[1]]
>     if (length(dotlevels) > 1)
>         for (i in 2:length(dotlevels))
>             final.levels <-
>                 if (reverse)
>                     as.vector(t(outer(dotlevels[[i]],
>                                       final.levels,
>                                       paste, sep = sep)))
>                 else
>                     as.vector(outer(final.levels,
>                                     dotlevels[[i]],
>                                     paste, sep = sep))
>     final.chars <-
>         do.call("paste",
>                 c(if (reverse) rev(dotchars) else dotchars,
>                   list(sep = sep)))
>     ans <- factor(final.chars, levels = final.levels)
>     if (drop) ans <- ans[, drop = TRUE]
>     ans
> }
> 
> 
> data(barley)
> dotplot(variety ~ yield | combine.factors(year, site,
>                                           sep = "    ",
>                                           reverse = TRUE),
>         data = barley, layout = c(2, 6))
> 
> 
> 
> 
> Deepayan
> 
> 
> 
> 
>>CODE
>>    library( lattice )
>>    library( grid )
>>    data( barley )
>>
>>strip.test <- function( strip.lines=0, y.text=unit( 6, "points" ), ...
>>){ lset( list( clip = list( strip=F ) ) )
>>    strip.fun <- function( which.given, which.panel, factor.levels, ...
>>){ grid.text( label=factor.levels[which.panel[which.given]] , x= 0.5 - (
>>which.given - 1.5 ) * 0.7
>>            , y=y.text
>>            , just=c( c("right","left")[which.given], "bottom" )
>>            )
>>    }
>>    print( dotplot( variety ~ yield | year * site, data=barley
>>        , par.strip.text=list( lines=strip.lines )
>>        , strip=strip.fun
>>        , between=list( y=1.5 )
>>        , ...
>>        ))
>>}
>>
>>
>>Wolfram
>>
>>______________________________________________
>>R-devel@stat.math.ethz.ch mailing list
>>https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
> 
> 
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel


-- 
Dr Paul Murrell
Department of Statistics
The University of Auckland
Private Bag 92019
Auckland
New Zealand
64 9 3737599 x85392
paul@stat.auckland.ac.nz
http://www.stat.auckland.ac.nz/~paul/

From jwe at bevo.che.wisc.edu  Fri Mar 19 06:20:21 2004
From: jwe at bevo.che.wisc.edu (John W. Eaton)
Date: Fri Mar 19 06:20:20 2004
Subject: [Rd] R's Anon CVS broken...
In-Reply-To: <85ptb9bvar.fsf@servant.blindglobe.net>
References: <85ptb9bvar.fsf@servant.blindglobe.net>
Message-ID: <16474.33557.292497.149347@devzero.bogus.domain>

On 18-Mar-2004, A.J. Rossini <rossini@blindglobe.net> wrote:

| cvs -z3 -d :pserver:anoncvs@anoncvs.r-project.org:/cvs co R
|   setuid failed: Operation not permitted

Thanks for reporting this problem.  It happened because I changed some
group IDs on the anonymous cvs server but forgot to change the
ownership of some files.  I think it should be fixed now.   Please let
me know if you still have trouble.

jwe

From bates at stat.wisc.edu  Sun Mar 21 15:32:39 2004
From: bates at stat.wisc.edu (Douglas Bates)
Date: Sun Mar 21 15:32:46 2004
Subject: [Rd] Near-perl-like levels of obfuscation
Message-ID: <6r3c82gtiw.fsf@bates4.stat.wisc.edu>

Dirk Eddelbuettel and Albrecht Gephardt have created many Debian
packages of R packages from CRAN and other archives.

I wanted to install all these Debian packages on a machine running the
Debian testing distribution.  One way to do this is to search (using
the apt-cache program) for all Debian package names that begin with
'r-', extract the package name, and concatenate all those names as
arguments to the apt-get program.  (As more Debian packages are
produced there will likely need to be a call to xargs in there somewhere.)

The output of the first program is

$ apt-cache search --names-only '^r-'
r-cran-boot - GNU R package for bootstrapping functions from Davison and Hinkley
r-cran-car - GNU R Companion to Applied Regression by John Fox
r-cran-coda - Output analysis and diagnostics for MCMC simulations in R
r-cran-dbi - database interface for R
r-cran-design - GNU R regression modeling strategies tools by Frank Harrell
r-cran-effects - GNU R graphical and tabular effects display for glm models
r-cran-gtkdevice - GNU R Gtk device driver package
r-cran-hmisc - GNU R miscellaneous functions by Frank Harrell
r-cran-lmtest - GNU R package for diagnostic checking in linear models
r-cran-nlme - GNU R package for (non-)linear mixed effects models
r-cran-rcmdr - GNU R platform-independent basic-statistics GUI
r-cran-rmysql - MySQL interface for R
r-cran-rodbc - GNU R package for ODBC database access
r-cran-rquantlib - GNU R package interfacing the QuantLib finance library
r-cran-statdataml - XML based data exchange format (R library)
r-cran-tkrplot - GNU R embedded Tk plotting device package
r-cran-tseries - GNU R package for time-series analysis and comp. finance
r-cran-xml - An XML package for the R language
r-omegahat-rgtk - GNU R binding for Gtk
r-omegahat-ggobi - GNU R package for the GGobi data visualization system
r-cran-mapproj - GNU R support for cartographic projections of map data
r-base - GNU R statistical computing language and environment
r-base-core - GNU R core of statistical computing language and environment
r-base-dev - GNU R installation of auxiliary GNU R packages
r-base-html - GNU R html docs for statistical computing system functions
r-base-latex - GNU R LaTeX docs for statistical computing system functions
r-cran-abind - GNU R abind multi-dimensional array combination function
r-cran-cluster - GNU R package for cluster analysis by Rousseeuw et al
r-cran-foreign - GNU R package to read / write data from other statistical systems
r-cran-its - GNU R package for handling irregular time series
r-cran-kernsmooth - GNU R package for kernel smoothing and density estimation
r-cran-lattice - GNU R package for 'Trellis' graphics
r-cran-mapdata - GNU R support for producing geographic maps (supplemental data)
r-cran-maps - GNU R support for producing geographic maps
r-cran-mcmcpack - routines for Markov Chain Monte Carlo model estimation in R
r-cran-mgcv - GNU R package for multiple parameter smoothing estimation
r-cran-multcomp - GNU R package for multiple comparison procedures
r-cran-mvtnorm - GNU R package to compute multivariate Normal and T distributions
r-cran-qtl - [Biology] GNU R package for genetic marker linkage analysis
r-cran-relimp - GNU R package for inference on relative importance of regressors
r-cran-rpart - GNU R package for recursive partitioning and regression trees
r-cran-survival - GNU R package for survival analysis
r-cran-vr - GNU R package accompanying the Venables and Ripley book on S
r-doc-html - GNU R html manuals for statistical computing system
r-doc-info - GNU R info manuals statistical computing system
r-doc-pdf - GNU R pdf manuals for statistical computing system
r-gnome - GNU R Gnome gui for statistical computing system
r-mathlib - GNU R standalone mathematics library
r-noncran-lindsey - GNU R libraries contributed by Jim and Patrick Lindsey
r-recommended - GNU R collection of recommended packages [metapackage]

To provide only the names as arguments to apt-get install I need to
split the returned strings on blanks and extract the first component.
I'm sure it would be trivial to write a call to perl to do this except
that my perl skills are very rusty and I didn't want to wade through
the documentation just to find out how to do this.  Also, as Kurt
Hornik once remarked, "I don't tend to write in scripting languages
like perl and python as much now because I know another powerful
language quite well".

Here's a solution from within R (and this worked within ESS in emacs,
which I found quite impressive).

system(paste("sudo apt-get install -qq", paste(unlist(lapply(
             strsplit(readLines(pipe("apt-cache search --names-only '^r-'")),
                      " "), "[", 1)), collapse = " ")))

BTW, an administrators of a Debian installation does not need to run
this command frequently.  Running

apt-get update
apt-get upgrade

upgrades to new versions of these packages.  This call only needs to
be run when you wish to detect newly available Debian packages of R
packages.

Thanks to Dirk for creating the majority of those Debian packages.

From anders.sjogren at math.chalmers.se  Mon Mar 22 10:21:29 2004
From: anders.sjogren at math.chalmers.se (=?ISO-8859-1?Q?Anders_Sj=F6gren?=)
Date: Mon Mar 22 10:21:11 2004
Subject: [Rd] Distributed computing
Message-ID: <4CFF80F2-7BE2-11D8-A658-000393CE2F0C@math.chalmers.se>

Dear all,

does anyone know if there exists an effort to bring some kind of 
distributed computing to R? The most simple functionality I'm after is 
to be able to explicitly perform a task on a computing server. Sorry if 
this is a non-informed newbie question...

Best regards

Anders Sj?gren

PhD Student
Dept. of Mathematical Statistics
Chalmers University of Technology
Gothenburg, Sweden

From gail at gmx.de  Mon Mar 22 13:14:09 2004
From: gail at gmx.de (gail@gmx.de)
Date: Mon Mar 22 13:14:16 2004
Subject: [Rd] http://cran.r-project.org/bin/macosx/RAqua-FAQ.html not found
	(PR#6684)
Message-ID: <20040322121409.E9D0C104DB@slim.kubism.ku.dk>

Hello!

<http://cran.r-project.org/bin/macosx/RAqua-FAQ.html> delivers an error 
404. Is there any webmaster who could fix it?

Thanks!

Best wishes
Markus Gail

From stefano.iacus at unimi.it  Mon Mar 22 13:37:39 2004
From: stefano.iacus at unimi.it (stefano iacus)
Date: Mon Mar 22 13:37:43 2004
Subject: [Rd] http://cran.r-project.org/bin/macosx/RAqua-FAQ.html not
	found (PR#6684)
In-Reply-To: <20040322121409.E9D0C104DB@slim.kubism.ku.dk>
References: <20040322121409.E9D0C104DB@slim.kubism.ku.dk>
Message-ID: <B49994AC-7BFD-11D8-B71C-000A95C87F66@unimi.it>

Yes this file has been moved by error.
In nay case it will be replaced by the one called RMACOSX-FAQ.html

thanks for signaling
stefano


On Mar 22, 2004, at 1:14 PM, gail@gmx.de wrote:

> Hello!
>
> <http://cran.r-project.org/bin/macosx/RAqua-FAQ.html> delivers an error
> 404. Is there any webmaster who could fix it?
>
> Thanks!
>
> Best wishes
> Markus Gail
>
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>

From stefano.iacus at unimi.it  Mon Mar 22 13:40:51 2004
From: stefano.iacus at unimi.it (stefano iacus)
Date: Mon Mar 22 13:40:57 2004
Subject: [Rd] http://cran.r-project.org/bin/macosx/RAqua-FAQ.html not
	found (PR#6684)
In-Reply-To: <20040322121409.E9D0C104DB@slim.kubism.ku.dk>
References: <20040322121409.E9D0C104DB@slim.kubism.ku.dk>
Message-ID: <275E3A2D-7BFE-11D8-B71C-000A95C87F66@unimi.it>

the right url and case is the following

http://cran.r-project.org/bin/macosx/RMacOSX-FAQ.html

stefano

On Mar 22, 2004, at 1:14 PM, gail@gmx.de wrote:

> Hello!
>
> <http://cran.r-project.org/bin/macosx/RAqua-FAQ.html> delivers an error
> 404. Is there any webmaster who could fix it?
>
> Thanks!
>
> Best wishes
> Markus Gail
>
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>

From bellis at hsph.harvard.edu  Mon Mar 22 17:11:40 2004
From: bellis at hsph.harvard.edu (Byron Ellis)
Date: Mon Mar 22 17:11:33 2004
Subject: [Rd] Distributed computing
In-Reply-To: <4CFF80F2-7BE2-11D8-A658-000393CE2F0C@math.chalmers.se>
References: <4CFF80F2-7BE2-11D8-A658-000393CE2F0C@math.chalmers.se>
Message-ID: <9A72FBEA-7C1B-11D8-9BEB-000393956206@hsph.harvard.edu>

http://www.analytics.washington.edu/statcomp/

You probably want to look at either Rpvm or the R Statistical Server 
(Python/SOAP)

On Mar 22, 2004, at 4:21 AM, Anders Sj?gren wrote:

> Dear all,
>
> does anyone know if there exists an effort to bring some kind of 
> distributed computing to R? The most simple functionality I'm after is 
> to be able to explicitly perform a task on a computing server. Sorry 
> if this is a non-informed newbie question...
>
> Best regards
>
> Anders Sj?gren
>
> PhD Student
> Dept. of Mathematical Statistics
> Chalmers University of Technology
> Gothenburg, Sweden
>
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>
---
Byron Ellis (bellis@hsph.harvard.edu)
"Oook" -- The Librarian

From tplate at blackmesacapital.com  Mon Mar 22 18:00:18 2004
From: tplate at blackmesacapital.com (Tony Plate)
Date: Mon Mar 22 18:01:50 2004
Subject: [Rd] Distributed computing
In-Reply-To: <4CFF80F2-7BE2-11D8-A658-000393CE2F0C@math.chalmers.se>
References: <4CFF80F2-7BE2-11D8-A658-000393CE2F0C@math.chalmers.se>
Message-ID: <6.0.3.0.2.20040322095347.04ab51d0@mailhost.blackmesacapital.com>

The R-help list is probably better for this sort of question.  In any case, 
the R newsletter is a great source of accumulated (& distilled!) wisdom, 
and the following might be relevant.


@Article{Rnews:Li+Rossini:2001,
   author       = {Michael Na Li and A.J. Rossini},
   title        = {{RPVM}: Cluster Statistical Computing in {R}},
   journal      = {R News},
   year         = 2001,
   volume       = 1,
   number       = 3,
   pages        = {4--7},
   month        = {September},
   url          = {http://CRAN.R-project.org/doc/Rnews/}
}

@Article{Rnews:Yu:2002,
   author       = {Hao Yu},
   title        = {Rmpi: Parallel Statistical Computing in R},
   journal      = {R News},
   year         = 2002,
   volume       = 2,
   number       = 2,
   pages        = {10--14},
   month        = {June},
   url          = {http://CRAN.R-project.org/doc/Rnews/}
}


@Article{Rnews:Carson+Murison+Mason:2003,
   author       = {Brett Carson and Robert Murison and Ian A. Mason},
   title        = {Computational Gains Using {RPVM} on a Beowulf Cluster},
   journal      = {R News},
   year         = 2003,
   volume       = 3,
   number       = 1,
   pages        = {21--26},
   month        = {June},
   url          = {http://CRAN.R-project.org/doc/Rnews/}
}


hope this helps,

Tony Plate


At Monday 02:21 AM 3/22/2004, Anders Sjgren wrote:
>Dear all,
>
>does anyone know if there exists an effort to bring some kind of 
>distributed computing to R? The most simple functionality I'm after is to 
>be able to explicitly perform a task on a computing server. Sorry if this 
>is a non-informed newbie question...
>
>Best regards
>
>Anders Sjgren
>
>PhD Student
>Dept. of Mathematical Statistics
>Chalmers University of Technology
>Gothenburg, Sweden
>
>______________________________________________
>R-devel@stat.math.ethz.ch mailing list
>https://www.stat.math.ethz.ch/mailman/listinfo/r-devel

	[[alternative HTML version deleted]]

From joehl at web.de  Mon Mar 22 18:03:08 2004
From: joehl at web.de (=?iso-8859-1?Q? Jens=20Oehlschl=E4gel ?=)
Date: Mon Mar 22 18:03:12 2004
Subject: [Rd] Re: CRAN packages maintained by you (subscripting problem
	under 1.9.0.alpha?)
Message-ID: <200403221703.i2MH38Q25503@mailgate5.cinetic.de>

Content-Type: text/plain; charset="iso-8859-1"
X-Virus-Scanned: by amavisd-new
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by hypatia.math.ethz.ch id i2MH38ro020355
X-Spam-Checker-Version: SpamAssassin 2.63 (2004-01-11) on hypatia.math.ethz.ch
X-Spam-Level: 
X-Spam-Status: No, hits=-0.3 required=5.0 tests=AWL,RCVD_IN_BL_SPAMCOP_NET autolearn=no version=2.63

I was notfied that my package ref fails R CMD CHECK under 1.9.0 Alpha.
I downloaded the windows version of 1.9.0 Alpha (dated 2004-03-17) and package ref passes R CMD CHECK without any complaints. 

The daily checks suggest the problem arises in example(optimal.index)

Error in identical(l[i], l[optimal.index(i, n = length(l), strict = FALSE)]) : 
	only 0's may mix with negative subscripts

where negative subscripts are mixed with NAs (which was legal in versions prior 1.9.0).

Is it an intended change not to allow NA mix with negative subscripts any longer? 
(I did not find any hint in NEWS)

Thanks for any hint


Jens Oehlschlgel




library(ref)

# examples from optimal.index

l <- letters
names(l) <- letters
stopifnot({i <- 1:3 ; identical(l[i], l[optimal.index(i, n=length(l))])})
stopifnot({i <- -(4:26) ; identical(l[i], l[optimal.index(i, n=length(l))])})
stopifnot({i <- c(rep(TRUE, 3), rep(FALSE, 23)) ; identical(l[i], l[optimal.index(i, n=length(l))])})
stopifnot({i <- c("a", "b", "c"); identical(l[i], l[optimal.index(i, i.names=names(l))])})
old.options <- options(show.error.messages=FALSE); stopifnot(inherits(try(optimal.index(c(1:3, 3), n=length(l))), "try-error")); options(old.options)
stopifnot({i <- c(1:3, 3, NA);identical(l[i], l[optimal.index(i, n=length(l), strict=FALSE)])})

# that one triggeres an error ???
stopifnot({i <- c(-(4:26), -26, NA);identical(l[i], l[optimal.index(i, n=length(l), strict=FALSE)])})

stopifnot({i <- c(rep(TRUE, 3), rep(FALSE, 23), TRUE, FALSE, NA);identical(l[i], l[optimal.index(i, n=length(l), strict=FALSE)])})
stopifnot({i <- c("a", "b", "c", "a", NA);identical(l[i], l[optimal.index(i, i.names=names(l), strict=FALSE)])})
rm(l)








> version
         _              
platform i386-pc-mingw32
arch     i386           
os       mingw32        
system   i386, mingw32  
status   alpha          
major    1              
minor    9.0            
year     2004           
month    03             
day      17             
language R  


Kurt.Hornik@wu-wien.ac.at schrieb am 22.03.04 10:27:18:
> 
> Dear maintainers of CRAN packages,
> 
> This concerns the packages
> 
>   gregmisc hdf5 ref
> 
> These packages fail R CMD check for a current version of r-devel, which
> went into ferature freeze on 2004-03-21 and will be released as R 1.9.0
> on 2004-04-04.
> 
> As you know, packages which fail R CMD check at the time of a new
> release will be moved from CRAN's main area into the Devel area.  Hence,
> it is very important that we receive updates of such packages as soon as
> possible.
> 
> Please have a look at the daily check logs at
> 
>   http://cran.r-project.org/src/contrib/checkSummary.html
> 
> to see what the problem is, and look at the NEWS file in the r-devel
> sources as well as
> 
>   http://developer.r-project.org/190update.txt
> 
> for information on changes in the current development version of R.
> 
> Please note also that binary versions of r-devel for Windows and Mac OS
> X are available via CRAN.
> 
> Keep the fixes coming in!
> 
> Best
> -k
>

From maechler at stat.math.ethz.ch  Mon Mar 22 18:20:25 2004
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon Mar 22 18:20:27 2004
Subject: [Rd] Re: negative indices and NAs in R 1.9.0.alpha
In-Reply-To: <200403221703.i2MH38Q25503@mailgate5.cinetic.de>
References: <200403221703.i2MH38Q25503@mailgate5.cinetic.de>
Message-ID: <16479.8281.902167.108562@gargle.gargle.HOWL>

>>>>> "JensOe" == Jens Oehlschl?gel <joehl@web.de>
>>>>>     on Mon, 22 Mar 2004 18:03:08 +0100 writes:

    JensOe> I was notfied that my package ref fails R CMD CHECK
    JensOe> under 1.9.0 Alpha.  I downloaded the windows version
    JensOe> of 1.9.0 Alpha (dated 2004-03-17) and package ref
    JensOe> passes R CMD CHECK without any complaints.

    JensOe> The daily checks suggest the problem arises in
    JensOe> example(optimal.index)

    JensOe> Error in identical(l[i], l[optimal.index(i, n =
    JensOe> length(l), strict = FALSE)]) : only 0's may mix with
    JensOe> negative subscripts

    JensOe> where negative subscripts are mixed with NAs (which
    JensOe> was legal in versions prior 1.9.0).

    JensOe> Is it an intended change not to allow NA mix with
    JensOe> negative subscripts any longer?  (I did not find any
    JensOe> hint in NEWS)

A shorter version is

  > x <- 1:9; x[-c(-1,NA,3:5)]
  Error: only 0's may mix with negative subscripts

which used to simply give

  > x <- 1:9; x[-c(1,NA,3:5)]
  [1] 2 6 7 8 9

and is the same if there was no NA in the index -- without a warning;
not necessarily desirable as well.

---------

However, the current NEWS  file does say


    o   Negative subscripts that were out of range or NA were not handled 
        correctly.


R 1.9.0 (beta)'s behavior seems to match the one of S-plus here,
but that alone is not convincing enough IMO.

Regards, Martin

From ripley at stats.ox.ac.uk  Mon Mar 22 19:21:28 2004
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon Mar 22 19:21:36 2004
Subject: [Rd] Re: negative indices and NAs in R 1.9.0.alpha
In-Reply-To: <16479.8281.902167.108562@gargle.gargle.HOWL>
Message-ID: <Pine.LNX.4.44.0403221818510.1233-100000@gannet.stats>

Yes, it was intended. It worked before by integer overflow, but only on 
32-bit platforms: it crashed on 64-bit platforms.  In other words, it was 
an uncaught error in 1.8.1.

On Mon, 22 Mar 2004, Martin Maechler wrote:

> >>>>> "JensOe" == Jens Oehlschl?gel <joehl@web.de>
> >>>>>     on Mon, 22 Mar 2004 18:03:08 +0100 writes:
> 
>     JensOe> I was notfied that my package ref fails R CMD CHECK
>     JensOe> under 1.9.0 Alpha.  I downloaded the windows version
>     JensOe> of 1.9.0 Alpha (dated 2004-03-17) and package ref
>     JensOe> passes R CMD CHECK without any complaints.
> 
>     JensOe> The daily checks suggest the problem arises in
>     JensOe> example(optimal.index)
> 
>     JensOe> Error in identical(l[i], l[optimal.index(i, n =
>     JensOe> length(l), strict = FALSE)]) : only 0's may mix with
>     JensOe> negative subscripts
> 
>     JensOe> where negative subscripts are mixed with NAs (which
>     JensOe> was legal in versions prior 1.9.0).
> 
>     JensOe> Is it an intended change not to allow NA mix with
>     JensOe> negative subscripts any longer?  (I did not find any
>     JensOe> hint in NEWS)
> 
> A shorter version is
> 
>   > x <- 1:9; x[-c(-1,NA,3:5)]
>   Error: only 0's may mix with negative subscripts
> 
> which used to simply give
> 
>   > x <- 1:9; x[-c(1,NA,3:5)]
>   [1] 2 6 7 8 9
> 
> and is the same if there was no NA in the index -- without a warning;
> not necessarily desirable as well.
> 
> ---------
> 
> However, the current NEWS  file does say
> 
> 
>     o   Negative subscripts that were out of range or NA were not handled 
>         correctly.
> 
> 
> R 1.9.0 (beta)'s behavior seems to match the one of S-plus here,
> but that alone is not convincing enough IMO.
> 
> Regards, Martin
> 
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
> 
> 

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From ggrothendieck at myway.com  Mon Mar 22 23:35:27 2004
From: ggrothendieck at myway.com (Gabor Grothendieck)
Date: Mon Mar 22 23:35:34 2004
Subject: [Rd] as.Date.numeric
Message-ID: <20040322223527.0E6F13992@mprdmxin.myway.com>



Regarding the new R 1.9.0 Date class, it would be nice to have
as.Date.numeric . 

1. as.numeric(x) works for Date objects and it would be convenient 
to also have the inverse.  

2. It leads to some nice additive properties for integer x and y:
     as.Date(x+y) = as.Date(x) + as.Date(y) 
       = as.Date(x) + y = as.Date(y) + x

3. It gives a pleasing way to quickly get the origin:
     as.Date(0)

4. The corresponding ability is already available in chron,
   e.g. chron(0), and I have found that I did make use of it
   in my work with chron.

5. Its particularly convenient in testing since you can quickly
   generate a sequence of dates like this:
   as.Date(1:100)

Its quite simple to implement:

 as.Date.numeric <- function(x) structure( floor(x), class = "Date" )

From ggrothendieck at myway.com  Mon Mar 22 23:43:11 2004
From: ggrothendieck at myway.com (Gabor Grothendieck)
Date: Mon Mar 22 23:43:17 2004
Subject: [Rd] as.Date.numeric
Message-ID: <20040322224311.290A53973@mprdmxin.myway.com>



In rereading my post, he as.Date(x)+as.Date(y) part of 
the equivalence should be removed.  The rest of it
is ok.


Date:   Mon, 22 Mar 2004 17:35:27 -0500 (EST) 
From:   Gabor Grothendieck <ggrothendieck@myway.com>
To:   <R-devel@stat.math.ethz.ch> 
Subject:   [Rd] as.Date.numeric 

 


Regarding the new R 1.9.0 Date class, it would be nice to have
as.Date.numeric . 

1. as.numeric(x) works for Date objects and it would be convenient 
to also have the inverse. 

2. It leads to some nice additive properties for integer x and y:
as.Date(x+y) = as.Date(x) + as.Date(y) 
= as.Date(x) + y = as.Date(y) + x

3. It gives a pleasing way to quickly get the origin:
as.Date(0)

4. The corresponding ability is already available in chron,
e.g. chron(0), and I have found that I did make use of it
in my work with chron.

5. Its particularly convenient in testing since you can quickly
generate a sequence of dates like this:
as.Date(1:100)

Its quite simple to implement:

as.Date.numeric <- function(x) structure( floor(x), class = "Date" )

From terra at gnome.org  Tue Mar 23 19:10:07 2004
From: terra at gnome.org (terra@gnome.org)
Date: Tue Mar 23 19:10:14 2004
Subject: [Rd] pgeom accuracy (PR#6687)
Message-ID: <20040323181007.CA72E1043D@slim.kubism.ku.dk>

Full_Name: M. Welinder
Version: 1.6.2 and 1.8.1
OS: Solaris
Submission from: (NULL) (65.213.85.223)


The common lower_tail==TRUE && log_p==FALSE case can be improved as

  if (lower_tail && !log_p)
    return -expm1 ((x + 1) * log1p (-p));

This improves precision when p is very small and x not too big by
avoiding two problematic "1-sth" calculations.

From gte810u at mail.gatech.edu  Tue Mar 23 19:10:37 2004
From: gte810u at mail.gatech.edu (gte810u@mail.gatech.edu)
Date: Tue Mar 23 19:38:43 2004
Subject: [Rd] Distributed computing
In-Reply-To: <4CFF80F2-7BE2-11D8-A658-000393CE2F0C@math.chalmers.se>
References: <4CFF80F2-7BE2-11D8-A658-000393CE2F0C@math.chalmers.se>
Message-ID: <1080065437.40607d9d47208@webmail.mail.gatech.edu>

> does anyone know if there exists an effort to bring some kind of 
> distributed computing to R? The most simple functionality I'm after is 
> to be able to explicitly perform a task on a computing server. Sorry if 
> this is a non-informed newbie question...

As an alternate to the PVM/MPI interfaces mentioned by other people, I am
working on a (very soon to be released) project for using the ScaLAPACK library
[1] through a simple R interface.  If the tasks that you want run an a computing
server are simple (LAPACK) functions (solve, svd, etc) and not whole R scripts,
then this be useful.


David Bauer

[1] http://www.netlib.org/scalapack/

From rossini at blindglobe.net  Tue Mar 23 20:32:51 2004
From: rossini at blindglobe.net (A.J. Rossini)
Date: Tue Mar 23 20:33:04 2004
Subject: [Rd] Distributed computing
In-Reply-To: <1080065437.40607d9d47208@webmail.mail.gatech.edu>
	(gte810u@mail.gatech.edu's
	message of "Tue, 23 Mar 2004 13:10:37 -0500")
References: <4CFF80F2-7BE2-11D8-A658-000393CE2F0C@math.chalmers.se>
	<1080065437.40607d9d47208@webmail.mail.gatech.edu>
Message-ID: <8565cvcqak.fsf@servant.blindglobe.net>

gte810u@mail.gatech.edu writes:

>> does anyone know if there exists an effort to bring some kind of 
>> distributed computing to R? The most simple functionality I'm after is 
>> to be able to explicitly perform a task on a computing server. Sorry if 
>> this is a non-informed newbie question...
>
> As an alternate to the PVM/MPI interfaces mentioned by other people, I am
> working on a (very soon to be released) project for using the ScaLAPACK library
> [1] through a simple R interface.  If the tasks that you want run an a computing
> server are simple (LAPACK) functions (solve, svd, etc) and not whole R scripts,
> then this be useful.

A number of folks have commented on having this in progress (esp a
group at Vanderbilt).  It's intriguing, but how did you plan on
replacing the standard system-level library calls?  (or did you just
provide new interfaces at the user (R command) level?)

best,
-tony

-- 
rossini@u.washington.edu            http://www.analytics.washington.edu/ 
Biomedical and Health Informatics   University of Washington
Biostatistics, SCHARP/HVTN          Fred Hutchinson Cancer Research Center
UW (Tu/Th/F): 206-616-7630 FAX=206-543-3461 | Voicemail is unreliable
FHCRC  (M/W): 206-667-7025 FAX=206-667-4812 | use Email

CONFIDENTIALITY NOTICE: This e-mail message and any attachme...{{dropped}}

From Panda_PerimeterScan_Qmail_Edition at stat.math.ethz.ch  Wed Mar 24 01:00:54 2004
From: Panda_PerimeterScan_Qmail_Edition at stat.math.ethz.ch (Panda_PerimeterScan_Qmail_Edition@stat.math.ethz.ch)
Date: Wed Mar 24 01:00:54 2004
Subject: [Rd] Virus incident
Message-ID: <200403240000.i2O00ndr028809@hypatia.math.ethz.ch>

Panda Antivirus has found a virus in:

File:
       Name: [document.zip][]
       MIME type: application/octet-stream
       Virus found: W32/Mydoom.A.worm
       Action carried out: Desinfected


Sender: r-devel@lists.r-project.org
Recipient: ferlourencoig@ig.com.br
Subject: Test
Date: 18:05:18 03/23/2004

	Havia nesta mensagem um arquivo anexo contendo v?rus. Veja acima informa??es sobre o remetente da mensagem, o assunto e a identifica??o do arquivo que foi desinfectado pelo nosso sistema de prote??o anti-v?rus.

http://www.pandasoftware.com

From gte810u at mail.gatech.edu  Tue Mar 23 22:51:16 2004
From: gte810u at mail.gatech.edu (gte810u@mail.gatech.edu)
Date: Wed Mar 24 02:17:04 2004
Subject: [Rd] Distributed computing
In-Reply-To: <1080076101.29104.17.camel@workstation-0-0>
References: <4CFF80F2-7BE2-11D8-A658-000393CE2F0C@math.chalmers.se>
	<1080065437.40607d9d47208@webmail.mail.gatech.edu>
	<8565cvcqak.fsf@servant.blindglobe.net>
	<1080076101.29104.17.camel@workstation-0-0>
Message-ID: <1080078676.4060b15445be2@webmail.mail.gatech.edu>

> My inclination would be to, whenever possible, replace the core scalar
> libraries with compatible parallel versions (lapack -> scalapack),
> rather than make it an add-on package. If the R client code is general
> enough, and the make file can automatically find the parallel version,
> then its a simple matter of compiling with the parallel libs. (Don't
> know if this is possible at run-time.) No rewriting (high level) R code
> at all. I tried to contact the plapack folks here at UT about
> integrating with R, but it appears the project is no longer active.

Unfortunately, there is a major complication to this approach:  the distribution
of data.  ScaLAPACK (and PLAPACK) requires the data to be distributed in a
special way before calculation functions can be called.  Given a generic R
matrix, we have to distribute the data before we can call ScaLAPACK functions on
it.  We then have to collect the answer before we can return it to R.  Because
of this serious overhead, replacing all LAPACK calls with ScaLAPACK calls would
not be recommended.  Future versions of our package [1] may include some type of
automatic benchmarking to decide when problems are large enough to be worth
sending to ScaLAPACK.


David Bauer

[1] http://www.aspect-sdm.org/Parallel-R/

From tkeitt at mail.utexas.edu  Tue Mar 23 22:08:21 2004
From: tkeitt at mail.utexas.edu (Timothy H. Keitt)
Date: Wed Mar 24 02:17:40 2004
Subject: [Rd] Distributed computing
In-Reply-To: <8565cvcqak.fsf@servant.blindglobe.net>
References: <4CFF80F2-7BE2-11D8-A658-000393CE2F0C@math.chalmers.se>
	<1080065437.40607d9d47208@webmail.mail.gatech.edu>
	<8565cvcqak.fsf@servant.blindglobe.net>
Message-ID: <1080076101.29104.17.camel@workstation-0-0>

My inclination would be to, whenever possible, replace the core scalar
libraries with compatible parallel versions (lapack -> scalapack),
rather than make it an add-on package. If the R client code is general
enough, and the make file can automatically find the parallel version,
then its a simple matter of compiling with the parallel libs. (Don't
know if this is possible at run-time.) No rewriting (high level) R code
at all. I tried to contact the plapack folks here at UT about
integrating with R, but it appears the project is no longer active.

Tim

On Tue, 2004-03-23 at 13:32, A.J. Rossini wrote:
> gte810u@mail.gatech.edu writes:
> 
> >> does anyone know if there exists an effort to bring some kind of 
> >> distributed computing to R? The most simple functionality I'm after is 
> >> to be able to explicitly perform a task on a computing server. Sorry if 
> >> this is a non-informed newbie question...
> >
> > As an alternate to the PVM/MPI interfaces mentioned by other people, I am
> > working on a (very soon to be released) project for using the ScaLAPACK library
> > [1] through a simple R interface.  If the tasks that you want run an a computing
> > server are simple (LAPACK) functions (solve, svd, etc) and not whole R scripts,
> > then this be useful.
> 
> A number of folks have commented on having this in progress (esp a
> group at Vanderbilt).  It's intriguing, but how did you plan on
> replacing the standard system-level library calls?  (or did you just
> provide new interfaces at the user (R command) level?)
> 
> best,
> -tony
-- 
Timothy H. Keitt
Section of Integrative Biology
University of Texas at Austin
http://www.keittlab.org/

From maechler at stat.math.ethz.ch  Wed Mar 24 08:36:14 2004
From: maechler at stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Wed Mar 24 08:36:16 2004
Subject: [Rd] pgeom accuracy (PR#6687)
Message-ID: <20040324073614.ABE8E1043D@slim.kubism.ku.dk>

>>>>> "Morten" == Morten Welinder <terra@gnome.org>
>>>>>     on Tue, 23 Mar 2004 19:10:07 +0100 (CET) writes:

    Morten> Full_Name: M. Welinder Version: 1.6.2 and 1.8.1 OS:
    Morten> Solaris Submission from: (NULL) (65.213.85.223)


    Morten> The common lower_tail==TRUE && log_p==FALSE case can
    Morten> be improved as

    Morten>   if (lower_tail && !log_p) return -expm1 ((x + 1) *
    Morten> log1p (-p));

    Morten> This improves precision when p is very small and x
    Morten> not too big by avoiding two problematic "1-sth"
    Morten> calculations.

That's entirely correct,
Thank you, Morten!

Improvement committed for R 1.9.0 beta.
Martin

From anders.sjogren at math.chalmers.se  Wed Mar 24 09:03:15 2004
From: anders.sjogren at math.chalmers.se (=?ISO-8859-1?Q?Anders_Sj=F6gren?=)
Date: Wed Mar 24 09:02:53 2004
Subject: [Rd] Distributed computing
In-Reply-To: <6.0.3.0.2.20040322095347.04ab51d0@mailhost.blackmesacapital.com>
References: <4CFF80F2-7BE2-11D8-A658-000393CE2F0C@math.chalmers.se>
	<6.0.3.0.2.20040322095347.04ab51d0@mailhost.blackmesacapital.com>
Message-ID: <B42CE003-7D69-11D8-8791-000393CE2F0C@math.chalmers.se>

Sorry for posing the question to the wrong list. Apart from the public 
replies I also got tips on the packages snow and rmpi 
(http://www.stats.uwo.ca/faculty/yu/Rmpi/).

Thanks for the pieces of advice.

-> Anders

---

On Mar 22, 2004, at 6:00 PM, Tony Plate wrote:

>  The R-help list is probably better for this sort of question.? In any 
> case, the R newsletter is a great source of accumulated (& distilled!) 
> wisdom, and the following might be relevant.
>
>
>
> @Article{Rnews:Li+Rossini:2001,
> ? author?????? = {Michael Na Li and
> A.J. Rossini},
> ? title??????? =
> {{RPVM}: Cluster Statistical Computing in {R}},
> ? journal????? = {R News},
> ?
> year???????? =
> 2001,
> ? volume?????? = 1,
> ? number?????? = 3,
> ? pages??????? =
> {4--7},
> ? month??????? =
> {September},
> ?
> url?????????
> =
> {http://CRAN.R-project.org/doc/Rnews/}
> }
>
> @Article{Rnews:Yu:2002,
> ? author?????? = {Hao Yu},
> ? title??????? =
> {Rmpi: Parallel Statistical Computing in R},
> ? journal????? = {R News},
> ?
> year???????? =
> 2002,
> ? volume?????? = 2,
> ? number?????? = 2,
> ? pages??????? =
> {10--14},
> ? month??????? =
> {June},
> ?
> url?????????
> =
> {http://CRAN.R-project.org/doc/Rnews/}
> }
>
>
> @Article{Rnews:Carson+Murison+Mason:2003,
> ? author?????? = {Brett Carson and
> Robert Murison and Ian A. Mason},
> ? title??????? =
> {Computational Gains Using {RPVM} on a Beowulf Cluster},
> ? journal????? = {R News},
> ?
> year???????? =
> 2003,
> ? volume?????? = 3,
> ? number?????? = 1,
> ? pages??????? =
> {21--26},
> ? month??????? =
> {June},
> ?
> url?????????
> =
> {http://CRAN.R-project.org/doc/Rnews/}
> }
>
>
>
> hope this helps,
>
>  Tony Plate
>
>
>  At Monday 02:21 AM 3/22/2004, Anders Sj?gren wrote:
>
> Dear all,
>
>  does anyone know if there exists an effort to bring some kind of 
> distributed computing to R? The most simple functionality I'm after is 
> to be able to explicitly perform a task on a computing server. Sorry 
> if this is a non-informed newbie question...
>
>  Best regards
>
>  Anders Sj?gren
>
>  PhD Student
>  Dept. of Mathematical Statistics
>  Chalmers University of Technology
>  Gothenburg, Sweden
>
>  ______________________________________________
>  R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel

From ripley at stats.ox.ac.uk  Wed Mar 24 09:03:07 2004
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed Mar 24 09:03:11 2004
Subject: [Rd] Distributed computing
In-Reply-To: <1080078676.4060b15445be2@webmail.mail.gatech.edu>
Message-ID: <Pine.LNX.4.44.0403240752220.10665-100000@gannet.stats>

Fei Chen implemented distribution of data and ScaLAPACK as part of his 
DPhil thesis, with a high-level R interface.  Moving data around is often 
the major limiting factor on large-scale model fitting (he was 
experimenting with glm's).

There are two brief papers at

http://www.isi-2003.de/guest/3427.pdf?MItabObj=pcoabstract&MIcolObj=uploadpaper&MInamObj=id&MIvalObj=3427&MItypeObj=application/pdf

adn in the DSC2003 proceedings  (but the ci.tuwien server is currently not 
available, at least from here).

Now Fei's process is complete, perhaps he will make the thesis available 
on line.


On Tue, 23 Mar 2004 gte810u@mail.gatech.edu wrote:

Quoting someone unamed! --

> > My inclination would be to, whenever possible, replace the core scalar
> > libraries with compatible parallel versions (lapack -> scalapack),
> > rather than make it an add-on package. If the R client code is general
> > enough, and the make file can automatically find the parallel version,
> > then its a simple matter of compiling with the parallel libs. (Don't
> > know if this is possible at run-time.) No rewriting (high level) R code
> > at all. I tried to contact the plapack folks here at UT about
> > integrating with R, but it appears the project is no longer active.
> 
> Unfortunately, there is a major complication to this approach:  the distribution
> of data.  ScaLAPACK (and PLAPACK) requires the data to be distributed in a
> special way before calculation functions can be called.  Given a generic R
> matrix, we have to distribute the data before we can call ScaLAPACK functions on
> it.  We then have to collect the answer before we can return it to R.  Because
> of this serious overhead, replacing all LAPACK calls with ScaLAPACK calls would
> not be recommended.  Future versions of our package [1] may include some type of
> automatic benchmarking to decide when problems are large enough to be worth
> sending to ScaLAPACK.
> 
> 
> David Bauer
> 
> [1] http://www.aspect-sdm.org/Parallel-R/
> 
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
> 
> 

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From maechler at stat.math.ethz.ch  Wed Mar 24 09:06:20 2004
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed Mar 24 09:06:22 2004
Subject: cvs.r-project.org offline [Re: [Rd] pgeom accuracy (PR#6687)]
In-Reply-To: <20040324073614.ABE8E1043D@slim.kubism.ku.dk>
References: <20040324073614.ABE8E1043D@slim.kubism.ku.dk>
Message-ID: <16481.16764.340338.672269@gargle.gargle.HOWL>

>>>>> "MM" == Martin Maechler <maechler@stat.math.ethz.ch>
>>>>>     on Wed, 24 Mar 2004 08:36:14 +0100 (CET) writes:

>>>>> "Morten" == Morten Welinder <terra@gnome.org>
>>>>>     on Tue, 23 Mar 2004 19:10:07 +0100 (CET) writes:

    Morten> Full_Name: M. Welinder Version: 1.6.2 and 1.8.1 OS:
    Morten> Solaris Submission from: (NULL) (65.213.85.223)


    Morten> The common lower_tail==TRUE && log_p==FALSE case can
    Morten> be improved as

    Morten> if (lower_tail && !log_p) return -expm1 ((x + 1) *
    Morten> log1p (-p));

    Morten> This improves precision when p is very small and x
    Morten> not too big by avoiding two problematic "1-sth"
    Morten> calculations.

    MM> That's entirely correct, Thank you, Morten!

    MM> Improvement committed for R 1.9.0 beta.  Martin

eehm;  this meant I had done the committment command, but
it timed out :

cvs.r-project.org is currently not available from here.
Martin

From dongyunhkim at yahoo.com  Wed Mar 24 15:35:47 2004
From: dongyunhkim at yahoo.com (dongyunhkim@yahoo.com)
Date: Wed Mar 24 15:35:54 2004
Subject: [Rd] "==" gives incorrect answers! (PR#6691)
Message-ID: <20040324143547.2F7581043D@slim.kubism.ku.dk>

Full_Name: Dong-Yun Kim
Version: 1.7.0/1.8.1
OS: WinMe/WinXP
Submission from: (NULL) (4.33.147.192)


Hi all,

It appears that R has a problem with evaluating logical "==" operator. The
following are a few examples I found:

> 2.1+0.2==2.3
[1] FALSE
> 2.7+0.1==2.8
[1] FALSE
> 2.7+0.2==2.9
[1] FALSE
> 3.1+0.2==3.3
[1] FALSE

Thanks.

Dong-Yun Kim

From ligges at statistik.uni-dortmund.de  Wed Mar 24 15:44:30 2004
From: ligges at statistik.uni-dortmund.de (ligges@statistik.uni-dortmund.de)
Date: Wed Mar 24 15:44:31 2004
Subject: [Rd] "==" gives incorrect answers! (PR#6691)
Message-ID: <20040324144430.07D4C1045F@slim.kubism.ku.dk>

dongyunhkim@yahoo.com wrote:

> Full_Name: Dong-Yun Kim
> Version: 1.7.0/1.8.1
> OS: WinMe/WinXP
> Submission from: (NULL) (4.33.147.192)
> 
> 
> Hi all,
> 
> It appears that R has a problem with evaluating logical "==" operator. The
> following are a few examples I found:
> 
> 
>>2.1+0.2==2.3
> 
> [1] FALSE
> 
>>2.7+0.1==2.8
> 
> [1] FALSE
> 
>>2.7+0.2==2.9
> 
> [1] FALSE
> 
>>3.1+0.2==3.3
> 
> [1] FALSE
> 
> Thanks.
> 
> Dong-Yun Kim
> 
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel

Not a bug!

These are (expected!) numerical issues of the representation of those 
values. Please read help("==") which tells you:

"For numerical values, remember == and != do not allow for the finite 
representation of fractions, nor for rounding error. Using all.equal 
with identical is almost always preferable."

And ?all.equal and ?identical tell you to use:

  identical(all.equal(2.7 + 0.1, 2.8), TRUE)


Uwe Ligges

From p.dalgaard at biostat.ku.dk  Wed Mar 24 15:50:40 2004
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard)
Date: Wed Mar 24 15:52:09 2004
Subject: [Rd] "==" gives incorrect answers! (PR#6691)
In-Reply-To: <20040324143547.2F7581043D@slim.kubism.ku.dk>
References: <20040324143547.2F7581043D@slim.kubism.ku.dk>
Message-ID: <x2zna62ta7.fsf@biostat.ku.dk>

dongyunhkim@yahoo.com writes:

> Full_Name: Dong-Yun Kim
> Version: 1.7.0/1.8.1
> OS: WinMe/WinXP
> Submission from: (NULL) (4.33.147.192)
> 
> 
> Hi all,
> 
> It appears that R has a problem with evaluating logical "==" operator. The
> following are a few examples I found:
> 
> > 2.1+0.2==2.3
> [1] FALSE
> > 2.7+0.1==2.8
> [1] FALSE
> > 2.7+0.2==2.9
> [1] FALSE
> > 3.1+0.2==3.3
> [1] FALSE
> 
> Thanks.
> 
> Dong-Yun Kim

Please, do read up on elementary computer theory, in particular the
parts about inexact representation of decimal numbers as floating
point numbers, and why equality of such numbers cannot be trusted!

What you're seeing is the moral equivalent of 

1/3 + 1/6 = 0.333 + 0.666 = 0.999 != 1

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

From terra at gnome.org  Wed Mar 24 15:53:21 2004
From: terra at gnome.org (terra@gnome.org)
Date: Wed Mar 24 15:53:23 2004
Subject: [Rd] R_DT_val accuracy (PR#6692)
Message-ID: <20040324145321.816141043C@slim.kubism.ku.dk>

Full_Name: M. Welinder
Version: 1.8.1
OS: Solaris
Submission from: (NULL) (65.213.85.227)


Currently R has...

#define R_D_Lval(p)	(lower_tail ? (p) : (1 - (p)))	/*  p  */
#define R_D_val(x)	(log_p	? log(x) : (x))		/*  x  in pF(x,..) */
#define R_DT_val(x)	R_D_val(R_D_Lval(x))		/*  x  in pF */

...which is sub-optimal in the lower_tail==FALSE && log_p==TRUE case.
Something like this ought to work better.

#define R_DT_val(x)	(log_p	? (lower_tail ? log(x) : log1p (-(x))) :
(R_D_Lval(x)))

Similarly for R_DT_Cval.

This affects the accuracy of phyper, for example.

From maechler at stat.math.ethz.ch  Wed Mar 24 17:03:15 2004
From: maechler at stat.math.ethz.ch (maechler@stat.math.ethz.ch)
Date: Wed Mar 24 17:03:17 2004
Subject: [Rd] R_DT_val accuracy (PR#6692)
Message-ID: <20040324160315.BEDCB1043D@slim.kubism.ku.dk>

>>>>> "Morten" == Morten Welinder <terra@gnome.org>
>>>>>     on Wed, 24 Mar 2004 15:53:21 +0100 (CET) writes:

    Morten> Full_Name: M. Welinder Version: 1.8.1 OS: Solaris
    Morten> Submission from: (NULL) (65.213.85.227)


    Morten> Currently R has...
            ^^^^^^^^^
not quite true!

Currently, R is in beta testing phase,
and everyone is

     *really* *really* *really* 

kindly asked to work with R 1.9.0 beta  -- particularly before
even considering sending a bug report. 

I've done something along your suggestion quite a few weeks ago
and the NEWS entry has been for a while

    o	The internal header nmath/dpq.h has slightly improved macros
	R_DT_val() and R_DT_Cval(), a new R_D_LExp() and improved
	R_DT_log() and R_DT_Clog();  this improves accuracy in several
	[dpq]-functions {for "extreme" arguments}.


Regards,
Martin Maechler, 
Seminar fuer Statistik, ETH Zurich, Switzerland

From feic at stats.ox.ac.uk  Wed Mar 24 17:46:08 2004
From: feic at stats.ox.ac.uk (Fei Chen)
Date: Wed Mar 24 17:46:11 2004
Subject: [Rd] Distributed computing
In-Reply-To: <Pine.LNX.4.44.0403240752220.10665-100000@gannet.stats>
Message-ID: <Pine.GSO.4.31.0403241629390.25311-100000@markov.stats>

Thanks Brian for pointing this out...

Yes indeed my thesis involved distributed computing and R. It consisted of
two parts, a distributed scoping feature for limiting data movements, and
a parrallel computing interface for speeding up computations. The former
used CORBA and the latter PVM (plus embedded R-s and ScaLAPACK).

There are three documents available describing this in more detail

http://www.stats.ox.ac.uk/~feic/Rs/thesis.pdf
my thesis

http://www.stats.ox.ac.uk/~feic/Rs/shorter.pdf
a shorter summary

http://www.stats.ox.ac.uk/~feic/Rs/DSC2003.pdf
the DSC document Brian pointed out.

I haven't publicized this mainly because the distributed scoping piece
involved modifying internal R code, most notably the R_eval() function,
which is a bit non-portable... But if there's interest in how I did things
I can certainly clean up my code and make it available. The parallel
engine part uses standard R so it should be easier to set up.

Cheers,

fei





On Wed, 24 Mar 2004, Prof Brian Ripley wrote:

> Fei Chen implemented distribution of data and ScaLAPACK as part of his
> DPhil thesis, with a high-level R interface.  Moving data around is often
> the major limiting factor on large-scale model fitting (he was
> experimenting with glm's).
>
> There are two brief papers at
>
> http://www.isi-2003.de/guest/3427.pdf?MItabObj=pcoabstract&MIcolObj=uploadpaper&MInamObj=id&MIvalObj=3427&MItypeObj=application/pdf
>
> adn in the DSC2003 proceedings  (but the ci.tuwien server is currently not
> available, at least from here).
>
> Now Fei's process is complete, perhaps he will make the thesis available
> on line.
>
>
> On Tue, 23 Mar 2004 gte810u@mail.gatech.edu wrote:
>
> Quoting someone unamed! --
>
> > > My inclination would be to, whenever possible, replace the core scalar
> > > libraries with compatible parallel versions (lapack -> scalapack),
> > > rather than make it an add-on package. If the R client code is general
> > > enough, and the make file can automatically find the parallel version,
> > > then its a simple matter of compiling with the parallel libs. (Don't
> > > know if this is possible at run-time.) No rewriting (high level) R code
> > > at all. I tried to contact the plapack folks here at UT about
> > > integrating with R, but it appears the project is no longer active.
> >
> > Unfortunately, there is a major complication to this approach:  the distribution
> > of data.  ScaLAPACK (and PLAPACK) requires the data to be distributed in a
> > special way before calculation functions can be called.  Given a generic R
> > matrix, we have to distribute the data before we can call ScaLAPACK functions on
> > it.  We then have to collect the answer before we can return it to R.  Because
> > of this serious overhead, replacing all LAPACK calls with ScaLAPACK calls would
> > not be recommended.  Future versions of our package [1] may include some type of
> > automatic benchmarking to decide when problems are large enough to be worth
> > sending to ScaLAPACK.
> >
> >
> > David Bauer
> >
> > [1] http://www.aspect-sdm.org/Parallel-R/
> >
> > ______________________________________________
> > R-devel@stat.math.ethz.ch mailing list
> > https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
> >
> >
>
> --
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>

From kjetil at entelnet.bo  Thu Mar 25 01:34:16 2004
From: kjetil at entelnet.bo (kjetil@entelnet.bo)
Date: Thu Mar 25 01:34:46 2004
Subject: [Rd] R 1.9.0 alpha
Message-ID: <4061F0C8.6119.84CCD3@localhost>

I saw a reort on R-help (without answer) about not being able to load 
old workspaces
(.RData files) in 1.9.0alpha. I have seen the same problem with some 
of my workspace, although most of them loads without problems. 
(rw1090alpha as of 17.03, windows XP).

Why will some workspaces not load?

Kjetil Halvorsen

From dmurdoch at pair.com  Thu Mar 25 05:23:15 2004
From: dmurdoch at pair.com (Duncan Murdoch)
Date: Thu Mar 25 05:23:16 2004
Subject: [Rd] R 1.9.0 alpha
In-Reply-To: <4061F0C8.6119.84CCD3@localhost>
References: <4061F0C8.6119.84CCD3@localhost>
Message-ID: <0dn460hf7brhqc35hb35b641duqu9b523p@4ax.com>

On Wed, 24 Mar 2004 20:34:16 -0400, you wrote:

>I saw a reort on R-help (without answer) about not being able to load 
>old workspaces
>(.RData files) in 1.9.0alpha. I have seen the same problem with some 
>of my workspace, although most of them loads without problems. 
>(rw1090alpha as of 17.03, windows XP).
>
>Why will some workspaces not load?

I don't see anything in the NEWS file that would obviously cause this,
so it may be a bug.

Can you try to put together a small example that illustrates it?  The
easiest way is probably to start with a workspace that doesn't load,
then (in 1.8.1) delete half of the contents, check if it'll load or
not, and repeat until you get a small example that we can try.  It
would be easiest if you can give me R commands to create a workspace
in 1.8.1 that I won't be able to load in 1.9.0, but I'll take a binary
if you give me a way to pick it up from you.  (It's kind of hard to
receive binaries by email lately, because of all the virus protection
in place...)

Duncan Murdoch

From ripley at stats.ox.ac.uk  Thu Mar 25 07:05:27 2004
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu Mar 25 07:05:37 2004
Subject: [Rd] R 1.9.0 alpha
In-Reply-To: <4061F0C8.6119.84CCD3@localhost>
Message-ID: <Pine.LNX.4.44.0403250600180.13289-100000@gannet.stats>

Is this that they have references to namespaces that no longer exist?
That's due to an error in creating some objects, and without further 
details it is hard to pin down.  You will probably need to dump those 
objects under 1.8.1 and recreate them under 1.9.0.

On Wed, 24 Mar 2004 kjetil@entelnet.bo wrote:

> I saw a reort on R-help (without answer) about not being able to load 
> old workspaces
> (.RData files) in 1.9.0alpha. I have seen the same problem with some 
> of my workspace, although most of them loads without problems. 
> (rw1090alpha as of 17.03, windows XP).
> 
> Why will some workspaces not load?

*Why* do you not even tell us what the error message is?  (That is not a 
rhetorical question!)  `a reort ... same problem' -- is it possible to be 
vaguer?

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From andy_liaw at merck.com  Thu Mar 25 13:31:59 2004
From: andy_liaw at merck.com (Liaw, Andy)
Date: Thu Mar 25 13:32:17 2004
Subject: [Rd] compilers for R on AMD64
Message-ID: <3A822319EB35174CA3714066D590DCD504AF7A8F@usrymx25.merck.com>

Dear R-devel,

A while ago Prof. Ripley had mentioned that g77 on AMD64 isn't the greatest,
and the Salford Fortran is likely to be better.  My question is, has anyone
tried compiling R with Salford compilers (or other commercial compilers)?
If so, do they offer performance advantages over GCC?

TIA for any info.

Best,
Andy

Andy Liaw, PhD
Biometrics Research      PO Box 2000, RY33-300     
Merck Research Labs           Rahway, NJ 07065
mailto:andy_liaw@merck.com <mailto:andy_liaw@merck.com>         732-594-0820

From ripley at stats.ox.ac.uk  Thu Mar 25 13:44:28 2004
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu Mar 25 13:44:33 2004
Subject: [Rd] compilers for R on AMD64
In-Reply-To: <3A822319EB35174CA3714066D590DCD504AF7A8F@usrymx25.merck.com>
Message-ID: <Pine.LNX.4.44.0403251239300.21488-100000@gannet.stats>

It's the Portland Group compilers which were recommended to us, and which 
we have been benchmarking as up to 50% faster than g77.

http://www.pgroup.com/

If you (Andy) want to email hutchins@stats.ox.ac.uk she can put you in 
touch with our local expert.

On Thu, 25 Mar 2004, Liaw, Andy wrote:

> A while ago Prof. Ripley had mentioned that g77 on AMD64 isn't the greatest,
> and the Salford Fortran is likely to be better.  My question is, has anyone
> tried compiling R with Salford compilers (or other commercial compilers)?
> If so, do they offer performance advantages over GCC?

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From andy_liaw at merck.com  Thu Mar 25 13:50:08 2004
From: andy_liaw at merck.com (Liaw, Andy)
Date: Thu Mar 25 13:50:32 2004
Subject: [Rd] compilers for R on AMD64
Message-ID: <3A822319EB35174CA3714066D590DCD504AF7A90@usrymx25.merck.com>

Brian,

Thanks for the note and apology for the misquote.  I should probably see if
there's anything I can do to help the Alzheimer's program here...

Best,
Andy

> From: Prof Brian Ripley [mailto:ripley@stats.ox.ac.uk] 
> 
> It's the Portland Group compilers which were recommended to 
> us, and which 
> we have been benchmarking as up to 50% faster than g77.
> 
> http://www.pgroup.com/
> 
> If you (Andy) want to email hutchins@stats.ox.ac.uk she can 
> put you in 
> touch with our local expert.
> 
> On Thu, 25 Mar 2004, Liaw, Andy wrote:
> 
> > A while ago Prof. Ripley had mentioned that g77 on AMD64 
> isn't the greatest,
> > and the Salford Fortran is likely to be better.  My 
> question is, has anyone
> > tried compiling R with Salford compilers (or other 
> commercial compilers)?
> > If so, do they offer performance advantages over GCC?
> 
> -- 
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 
>

From andy_liaw at merck.com  Thu Mar 25 15:53:58 2004
From: andy_liaw at merck.com (Liaw, Andy)
Date: Thu Mar 25 15:54:37 2004
Subject: [Rd] yet another fast BLAS (from AMD this time)
Message-ID: <3A822319EB35174CA3714066D590DCD504AF7A94@usrymx25.merck.com>

Dear R-devel,

Has anyone played with this?
http://www.amd.com/us-en/Processors/DevelopWithAMD/0,,30_2252_2282,00.html
<http://www.amd.com/us-en/Processors/DevelopWithAMD/0,,30_2252_2282,00.html>
.

I'll probably give it a shot...

Best,
Andy

Andy Liaw, PhD
Biometrics Research      PO Box 2000, RY33-300     
Merck Research Labs           Rahway, NJ 07065
mailto:andy_liaw@merck.com <mailto:andy_liaw@merck.com>         732-594-0820

From gregory_r_warnes at groton.pfizer.com  Thu Mar 25 21:05:28 2004
From: gregory_r_warnes at groton.pfizer.com (gregory_r_warnes@groton.pfizer.com)
Date: Thu Mar 25 21:05:30 2004
Subject: [Rd] Odd error in R CMD check (PR#6695)
Message-ID: <20040325200528.572DF10438@slim.kubism.ku.dk>


I'm seeing an odd error message when running R CMD check gregmisc with
R-1.9.0beta_2004-03-22.tar.gz

* checking package dependencies ... WARNING
Error in switch(type, code = c("R", "r", "S", "s", "q"), data = c("R",  : 
        Argument "type" is missing, with no default
Execution halted
See the information on DESCRIPTION files in section 'Creating R packages'
of the 'Writing R Extensions' manual.
* checking index information ... OK

I don't think there is anything wrong with my DESCRIPTION file, since this
occures with both my gregmisc and genetics packages.  

-G

Gregory R. Warnes
Manager, Non-Clinical Statistics
Pfizer Global Research and Development
Tel: 860-715-3536



LEGAL NOTICE\ Unless expressly stated otherwise, this messag...{{dropped}}

From andy_liaw at merck.com  Thu Mar 25 21:36:19 2004
From: andy_liaw at merck.com (Liaw, Andy)
Date: Thu Mar 25 21:36:46 2004
Subject: [Rd] yet another fast BLAS (from AMD this time)
Message-ID: <3A822319EB35174CA3714066D590DCD504AF7A97@usrymx25.merck.com>

OK, I manage to compile R-1.9.0alpha (2004-03-16) with the ACML.  It's
rather easy:

- Install ACML.  I installed in the default place (/opt/acml-1.5).
- This didn't work:  ./configure --with-blas="-L/opt/acml-1.5/gnu64/lib
-lacml"
- Make symlink for libacml.so in /usr/local/lib.
- This worked: ./configure --with-blas="-lacml".

It passed make check, whereas the build with Goto's BLAS failed on this box,
as I reported previously.

Using a couple of examples that Prof. Dalgaard used previously in his post:

> set.seed(1234)
> m <- matrix(rnorm(9e6),3e3)

[with ACML]
system> system.time(solve(m))
[1] 28.58  0.98 31.99  0.00  0.00
> system.time(m %*% m)
[1] 18.73  0.19 20.25  0.00  0.00
> system.time(crossprod(m))
[1] 13.40  3.02 17.66  0.00  0.00

[standard BLAS]
> system.time(solve(m))
[1] 165.43   0.86 179.47   0.00   0.00
> system.time(m %*% m)
[1] 164.35   0.08 164.43   0.00   0.00
system.time(cr> system.time(crossprod(m))
[1] 79.36  0.11 85.53  0.00  0.00

I have not check the docs, but my guess is that the library is not threaded.
BTW, this is on dual Opteron 244 with 16GB of PC2100 and ATA100 EIDE HDD.

Best,
Andy

> From: Liaw, Andy
> 
> Dear R-devel,
> 
> Has anyone played with this?
> http://www.amd.com/us-en/Processors/DevelopWithAMD/0,,30_2252_
> 2282,00.html
> <http://www.amd.com/us-en/Processors/DevelopWithAMD/0,,30_2252
> _2282,00.html>
> .
> 
> I'll probably give it a shot...
> 
> Best,
> Andy
> 
> Andy Liaw, PhD
> Biometrics Research      PO Box 2000, RY33-300     
> Merck Research Labs           Rahway, NJ 07065
> mailto:andy_liaw@merck.com <mailto:andy_liaw@merck.com>       
>   732-594-0820
> 
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
> 
> --------------------------------------------------------------
> ----------------
> Notice:  This e-mail message, together with any attachments, 
> contains information of Merck & Co., Inc. (One Merck Drive, 
> Whitehouse Station, New Jersey, USA 08889), and/or its 
> affiliates (which may be known outside the United States as 
> Merck Frosst, Merck Sharp & Dohme or MSD and in Japan, as 
> Banyu) that may be confidential, proprietary copyrighted 
> and/or legally privileged. It is intended solely for the use 
> of the individual or entity named on this message.  If you 
> are not the intended recipient, and have received this 
> message in error, please notify us immediately by reply 
> e-mail and then delete it from your system.
> --------------------------------------------------------------
> ----------------
> 


------------------------------------------------------------------------------
Notice:  This e-mail message, together with any attachments,...{{dropped}}

From ripley at stats.ox.ac.uk  Thu Mar 25 22:35:24 2004
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu Mar 25 22:35:35 2004
Subject: [Rd] Odd error in R CMD check (PR#6695)
In-Reply-To: <20040325200528.572DF10438@slim.kubism.ku.dk>
Message-ID: <Pine.LNX.4.44.0403252132001.1149-100000@gannet.stats>

I think it is just in that snapshot.  It's not happening for the version
of gregmisc on CRAN in the current CVS (and as there have been problems in
the last 36 hours, the betas are probably not being produced).

There are errors, though, on ooplot.default and is.what(pi).


On Thu, 25 Mar 2004 gregory_r_warnes@groton.pfizer.com wrote:

> 
> I'm seeing an odd error message when running R CMD check gregmisc with
> R-1.9.0beta_2004-03-22.tar.gz
> 
> * checking package dependencies ... WARNING
> Error in switch(type, code = c("R", "r", "S", "s", "q"), data = c("R",  : 
>         Argument "type" is missing, with no default
> Execution halted
> See the information on DESCRIPTION files in section 'Creating R packages'
> of the 'Writing R Extensions' manual.
> * checking index information ... OK
> 
> I don't think there is anything wrong with my DESCRIPTION file, since this
> occures with both my gregmisc and genetics packages.  
> 
> -G
> 
> Gregory R. Warnes
> Manager, Non-Clinical Statistics
> Pfizer Global Research and Development
> Tel: 860-715-3536
> 
> 
> 
> LEGAL NOTICE\ Unless expressly stated otherwise, this messag...{{dropped}}
> 
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
> 
> 

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From pgilbert at bank-banque-canada.ca  Thu Mar 25 22:47:33 2004
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Thu Mar 25 22:49:33 2004
Subject: [Rd] Odd error in R CMD check (PR#6695)
In-Reply-To: <Pine.LNX.4.44.0403252132001.1149-100000@gannet.stats>
References: <Pine.LNX.4.44.0403252132001.1149-100000@gannet.stats>
Message-ID: <40635375.70105@bank-banque-canada.ca>

Yes, it was in a beta snapshot a few days ago, but has been fixed.

Paul gilbert

Prof Brian Ripley wrote:

>I think it is just in that snapshot.  It's not happening for the version
>of gregmisc on CRAN in the current CVS (and as there have been problems in
>the last 36 hours, the betas are probably not being produced).
>
>There are errors, though, on ooplot.default and is.what(pi).
>
>
>On Thu, 25 Mar 2004 gregory_r_warnes@groton.pfizer.com wrote:
>
>  
>
>>I'm seeing an odd error message when running R CMD check gregmisc with
>>R-1.9.0beta_2004-03-22.tar.gz
>>
>>* checking package dependencies ... WARNING
>>Error in switch(type, code = c("R", "r", "S", "s", "q"), data = c("R",  : 
>>        Argument "type" is missing, with no default
>>Execution halted
>>See the information on DESCRIPTION files in section 'Creating R packages'
>>of the 'Writing R Extensions' manual.
>>* checking index information ... OK
>>
>>I don't think there is anything wrong with my DESCRIPTION file, since this
>>occures with both my gregmisc and genetics packages.  
>>
>>-G
>>
>>Gregory R. Warnes
>>Manager, Non-Clinical Statistics
>>Pfizer Global Research and Development
>>Tel: 860-715-3536
>>
>>
>>
>>LEGAL NOTICE\ Unless expressly stated otherwise, this messag...{{dropped}}
>>
>>______________________________________________
>>R-devel@stat.math.ethz.ch mailing list
>>https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>>
>>
>>    
>>
>
>  
>

From p.dalgaard at biostat.ku.dk  Thu Mar 25 23:46:43 2004
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard)
Date: Thu Mar 25 23:46:35 2004
Subject: [Rd] Delay of 1.9.0
Message-ID: <x2oeqk7df0.fsf@biostat.ku.dk>

As you may have noticed, cran.us.r-project.org has been down for a
while due to a security incident. This is the same machine that
carries the R source repository. The R sources appear to be
uncompromised, but we have had to move developer logins and everything
to another machine, with various configuration issues to sort out. 

The upshot is that there is currently no way of doing the automatic
beta snapshots (I can build them, but not easily ship them since the
webservice has been shut down.) None of this is unfixable, but the
release manager (i.e., me) is travelling next week, and it is not
likely that we have things ready before I fly away Saturday morning.

In consequence, it is not possible to stick with our planned release
on April 4th. I expect a delay of about a week, but we haven't
discussed it in R-core yet and Easter is kicking in. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

From spam.detector at unruh.de  Fri Mar 26 07:33:25 2004
From: spam.detector at unruh.de (Dominique Unruh SpamDetector)
Date: Fri Mar 26 07:34:02 2004
Subject: [Rd] Detected as SPAM: Re: Sample
In-Reply-To: <E1B6jAN-0007pk-00@mxng07.kundenserver.de>
References: <E1B6jAN-0007pk-00@mxng07.kundenserver.de>
Message-ID: <DNIQ_THIS_IS_NO_SPAM-1893-1080282806@winkelklinke>

Your message has accidentially been classified as SPAM. 
It therefore has been deleted. 
To bypass the SPAM filter, please send a new message containing the string
              DNIQ_THIS_IS_NO_SPAM
in body or subject.

Yours,
Dominique Unruh.

From ti at mail.montana.ind.br  Fri Mar 26 12:54:39 2004
From: ti at mail.montana.ind.br (TI)
Date: Fri Mar 26 12:47:37 2004
Subject: [Rd] Alerta: Virus encontrado
Message-ID: <200403261154.i2QBsd8v079774@mail.montana.ind.br>

Virus encontrado, Fri Mar 26 08:54:39 BRT 2004

Encontrado W32/Mydoom.a.eml!zip virus

Original message header:

-------------------------------------------->8=== cut here

> From r-devel@r-project.org Fri Mar 26 08:54:36 2004
> Received: from r-project.org (mail-0-190 [10.1.1.190])
> 	by mail.montana.ind.br (8.12.11/8.12.11) with ESMTP id i2QBsabm079749
> 	for <smith@yahoo.com.br>; Fri, 26 Mar 2004 08:54:36 -0300 (BRT)
> Message-Id: <200403261154.i2QBsabm079749@mail.montana.ind.br>
> From: r-devel@r-project.org
> To: smith@yahoo.com.br
> Subject: 
> Date: Tue, 26 Feb 2002 00:53:02 -0300
> MIME-Version: 1.0
> Content-Type: multipart/mixed;
> 	boundary="----=_NextPart_000_0005_BF1DAC2B.A633090D"
> X-Priority: 3
> X-MSMail-Priority: Normal

-------------------------------------------->8=== cut here

From horbelt at physik.uni-freiburg.de  Fri Mar 26 16:10:20 2004
From: horbelt at physik.uni-freiburg.de (horbelt@physik.uni-freiburg.de)
Date: Fri Mar 26 16:10:23 2004
Subject: [Rd] linker errors on ia64: open.o: @gprel relocation against
	dynamic symbol f__buflen
Message-ID: <200403261510.20343.horbelt@physik.uni-freiburg.de>

hello,
I just failed to compile R 1.8.1 and also the latest beta 
R-1.9.0beta_2004-03-22.tar.gz
on an ia64 architecture. When it comes to linking the Lapack 
library, the following error occurs six times:
/usr/bin/ld: open.o: @gprel relocation against dynamic symbol 
f__buflen

Here is some diagnostic information.

uname -a
Linux hippo 2.4.21-sgi230rp03111013_10029 #1 SMP 
Mon Nov 10 13:25:42 PST 2003 ia64 unknown

gcc --version
2.96

g77 --version
GNU Fortran 0.5.26 20000731 (Red Hat Linux 7.2 2.96-118.7.2)

I can produce the same error messages with the following simpler 
steps:

cat >tst.f <<EOF
      SUBROUTINE DLAMC2( )
      WRITE( 6, * ) 'SOME STRING'
      RETURN
      END
EOF
g77 -c tst.f -o tst.o
gcc -shared tst.o -lg2c

Is it possible to compile R with gcc 2.96?

thanks in advance
werner

From nave at macalester.edu  Fri Mar 26 17:01:43 2004
From: nave at macalester.edu (nave@macalester.edu)
Date: Fri Mar 26 17:01:46 2004
Subject: [Rd] Mac OS X Limited User cannot access R (PR#6700)
Message-ID: <20040326160143.C3A1F10469@slim.kubism.ku.dk>

Full_Name: Adam nave
Version: 1.8.1
OS: OS X - 10.2.x and 10.3.x
Submission from: (NULL) (141.140.9.48)


When trying to give a limited user set to "use only these applications" access
to the R application, Mac OS X will not allow it. This may be related to
CFBundle and some missing bundle info in the Info.plist file for R.

From gregory_r_warnes at groton.pfizer.com  Fri Mar 26 17:23:52 2004
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Fri Mar 26 17:24:17 2004
Subject: [Rd] Odd error in R CMD check (PR#6695)
Message-ID: <D7A3CFD7825BD6119B880002A58F06C20680B175@groexmb02.pfizer.com>

> 
> There are errors, though, on ooplot.default and is.what(pi).
> 

Yes, this is why I was working with the snapshot. ;^)

-G


LEGAL NOTICE\ Unless expressly stated otherwise, this messag...{{dropped}}

From jago at mclink.it  Fri Mar 26 18:09:55 2004
From: jago at mclink.it (stefano iacus)
Date: Fri Mar 26 18:10:14 2004
Subject: [Rd] Mac OS X Limited User cannot access R (PR#6700)
In-Reply-To: <20040326160143.C3A1F10469@slim.kubism.ku.dk>
References: <20040326160143.C3A1F10469@slim.kubism.ku.dk>
Message-ID: <67919BF6-7F48-11D8-BA5D-000A95C87F66@mclink.it>

you mean StartR I guess.
If should be different for the framework version.
You can have a preview on http://www.economia.unimi.it/R

Please let me know.

stefano

On Mar 26, 2004, at 5:01 PM, nave@macalester.edu wrote:

> Full_Name: Adam nave
> Version: 1.8.1
> OS: OS X - 10.2.x and 10.3.x
> Submission from: (NULL) (141.140.9.48)
>
>
> When trying to give a limited user set to "use only these 
> applications" access
> to the R application, Mac OS X will not allow it. This may be related 
> to
> CFBundle and some missing bundle info in the Info.plist file for R.
>
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>

From nave at Macalester.edu  Fri Mar 26 18:43:00 2004
From: nave at Macalester.edu (Adam Nave)
Date: Fri Mar 26 18:45:42 2004
Subject: [Rd] Mac OS X Limited User cannot access R (PR#6700)
In-Reply-To: <67919BF6-7F48-11D8-BA5D-000A95C87F66@mclink.it>
References: <20040326160143.C3A1F10469@slim.kubism.ku.dk>
	<67919BF6-7F48-11D8-BA5D-000A95C87F66@mclink.it>
Message-ID: <12893339.1080301380@Adam.physics.macalester.edu>

Yes, StartR/RAqua is what I'm having trouble with.
I tried the 1.90 preview and it worked just fine. However, I'm a little 
hesitant to be using a beta. Is 1.90 final coming soon?

Thanks for the quick followup.

--Adam Nave

--On Friday, March 26, 2004 6:09 PM +0100 stefano iacus <jago@mclink.it> 
wrote:

> you mean StartR I guess.
> If should be different for the framework version.
> You can have a preview on http://www.economia.unimi.it/R
>
> Please let me know.
>
> stefano
>
> On Mar 26, 2004, at 5:01 PM, nave@macalester.edu wrote:
>
>> Full_Name: Adam nave
>> Version: 1.8.1
>> OS: OS X - 10.2.x and 10.3.x
>> Submission from: (NULL) (141.140.9.48)
>>
>>
>> When trying to give a limited user set to "use only these
>> applications" access
>> to the R application, Mac OS X will not allow it. This may be related
>> to
>> CFBundle and some missing bundle info in the Info.plist file for R.
>>
>> ______________________________________________
>> R-devel@stat.math.ethz.ch mailing list
>> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>>



-=-=-=-=-=-=-=-=-=-=-=-
    Adam A Nave
    ITA[Science]
 Macalester College

From maechler at stat.math.ethz.ch  Fri Mar 26 19:57:19 2004
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri Mar 26 19:57:22 2004
Subject: [Rd] Mac OS X Limited User cannot access R (PR#6700)
In-Reply-To: <12893339.1080301380@Adam.physics.macalester.edu>
References: <20040326160143.C3A1F10469@slim.kubism.ku.dk>
	<67919BF6-7F48-11D8-BA5D-000A95C87F66@mclink.it>
	<12893339.1080301380@Adam.physics.macalester.edu>
Message-ID: <16484.32015.806904.25899@gargle.gargle.HOWL>

>>>>> "Adam" == Adam Nave <nave@Macalester.edu>
>>>>>     on Fri, 26 Mar 2004 11:43:00 -0600 writes:

    Adam> Yes, StartR/RAqua is what I'm having trouble with.  I
    Adam> tried the 1.90 preview and it worked just
    Adam> fine. However, I'm a little hesitant to be using a
    Adam> beta. Is 1.90 final coming soon?

pretty soon, yes,
but be assured:  

We *know* that R 1.8.1 contains more bugs than the 1.9.0 (not "1.90" !)
beta version!
And please, R is a community project, and please,
you can help by using the beta versions as soon as they appear!

Martin

From nave at Macalester.edu  Fri Mar 26 20:07:53 2004
From: nave at Macalester.edu (Adam Nave)
Date: Fri Mar 26 20:08:03 2004
Subject: [Rd] Mac OS X Limited User cannot access R (PR#6700)
In-Reply-To: <16484.32015.806904.25899@gargle.gargle.HOWL>
References: <20040326160143.C3A1F10469@slim.kubism.ku.dk>
	<67919BF6-7F48-11D8-BA5D-000A95C87F66@mclink.it>
	<12893339.1080301380@Adam.physics.macalester.edu>
	<16484.32015.806904.25899@gargle.gargle.HOWL>
Message-ID: <17986753.1080306473@Adam.physics.macalester.edu>

Well, beta is good enuf for me, but I'm a lab admin - I'd have to run it by 
a bunch of people who may not be willing to entrust their data to 
"untested" software. You're also probably not going to get good feedback 
from the students either unless you have a talkback enabled version. But 
I'll see what I can do... ;)

Thanks!

--Adam

--On Friday, March 26, 2004 7:57 PM +0100 Martin Maechler 
<maechler@stat.math.ethz.ch> wrote:

> pretty soon, yes,
> but be assured:
>
> We *know* that R 1.8.1 contains more bugs than the 1.9.0 (not "1.90" !)
> beta version!
> And please, R is a community project, and please,
> you can help by using the beta versions as soon as they appear!
>
> Martin

From jago at mclink.it  Fri Mar 26 21:28:51 2004
From: jago at mclink.it (stefano iacus)
Date: Fri Mar 26 21:29:05 2004
Subject: [Rd] Mac OS X Limited User cannot access R (PR#6700)
In-Reply-To: <17986753.1080306473@Adam.physics.macalester.edu>
References: <20040326160143.C3A1F10469@slim.kubism.ku.dk>
	<67919BF6-7F48-11D8-BA5D-000A95C87F66@mclink.it>
	<12893339.1080301380@Adam.physics.macalester.edu>
	<16484.32015.806904.25899@gargle.gargle.HOWL>
	<17986753.1080306473@Adam.physics.macalester.edu>
Message-ID: <319DEDDF-7F64-11D8-B999-000A95C87F66@mclink.it>

Well,
1.9.0 planned for april 4th has been delayed a bit but the framework 
version you find on the url I gave is almost the definitive.
You can probably just wait a couple of weeks and install the release 
version and, in any case, I strongly suggest to upgrade to R 1.9.0 and 
remove StartR/Raqua

As for your problem: it is not possible to get what you need for 
StartR/RAqua because of the way the bundle is packaged. My suggestion 
is to wait a bit again.

stefano

On Mar 26, 2004, at 8:07 PM, Adam Nave wrote:

> Well, beta is good enuf for me, but I'm a lab admin - I'd have to run 
> it by a bunch of people who may not be willing to entrust their data 
> to "untested" software. You're also probably not going to get good 
> feedback from the students either unless you have a talkback enabled 
> version. But I'll see what I can do... ;)
>
> Thanks!
>
> --Adam
>
> --On Friday, March 26, 2004 7:57 PM +0100 Martin Maechler 
> <maechler@stat.math.ethz.ch> wrote:
>
>> pretty soon, yes,
>> but be assured:
>>
>> We *know* that R 1.8.1 contains more bugs than the 1.9.0 (not "1.90" 
>> !)
>> beta version!
>> And please, R is a community project, and please,
>> you can help by using the beta versions as soon as they appear!
>>
>> Martin
>
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>

From nave at Macalester.edu  Fri Mar 26 21:33:25 2004
From: nave at Macalester.edu (Adam Nave)
Date: Fri Mar 26 21:33:37 2004
Subject: [Rd] Mac OS X Limited User cannot access R (PR#6700)
In-Reply-To: <319DEDDF-7F64-11D8-B999-000A95C87F66@mclink.it>
References: <20040326160143.C3A1F10469@slim.kubism.ku.dk>
	<67919BF6-7F48-11D8-BA5D-000A95C87F66@mclink.it>
	<12893339.1080301380@Adam.physics.macalester.edu>
	<16484.32015.806904.25899@gargle.gargle.HOWL>
	<17986753.1080306473@Adam.physics.macalester.edu>
	<319DEDDF-7F64-11D8-B999-000A95C87F66@mclink.it>
Message-ID: <23118552.1080311605@Adam.physics.macalester.edu>

Well, if it's coming that soon, I'll just wait it out.

Thanks all!

--Adam

--On Friday, March 26, 2004 9:28 PM +0100 stefano iacus <jago@mclink.it> 
wrote:

> Well,
> 1.9.0 planned for april 4th has been delayed a bit but the framework
> version you find on the url I gave is almost the definitive. You can
> probably just wait a couple of weeks and install the release version and,
> in any case, I strongly suggest to upgrade to R 1.9.0 and remove
> StartR/Raqua
>
> As for your problem: it is not possible to get what you need for
> StartR/RAqua because of the way the bundle is packaged. My suggestion is
> to wait a bit again.
>
> stefano
>

From tlumley at u.washington.edu  Fri Mar 26 22:22:11 2004
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri Mar 26 22:22:17 2004
Subject: [Rd] R 1.9.0 alpha
In-Reply-To: <0dn460hf7brhqc35hb35b641duqu9b523p@4ax.com>
References: <4061F0C8.6119.84CCD3@localhost>
	<0dn460hf7brhqc35hb35b641duqu9b523p@4ax.com>
Message-ID: <Pine.A41.4.58.0403261320480.86958@homer11.u.washington.edu>

On Wed, 24 Mar 2004, Duncan Murdoch wrote:
>
> Can you try to put together a small example that illustrates it?

One example that happened while trying to answer another R-help question

R 1.8.1
library(nlme)
example(nlme.nlsList)
q("yes")

R 1.9.0-beta on startup
Error in namespaceExport(ns, exports) : undefined exports:
NLSstAsymptotic, NLSstClosestX, NLSstLfAsymptote, NLSstRtAsymptote,
SSasymp, SSasympOff, SSasympOrig, SSbiexp, SSfol, SSfpl, SSgompertz,
SSlogis, SSmicmen, SSweibull, asOneSidedFormula, clearNames, getInitial,
nls, nls.control, nlsModel, numericDeriv, profiler, selfStart, setNames,
sortedXyData
In addition: Warning message:
S3 method(s) 'NLSstAsymptotic.sortedXyData', 'NLSstClosestX.sortedXyData',
'NLSstLfAsymptote.sortedXyData', 'NLSstRtAsymptote.sortedXyData',
'anova.nls', 'coef.nls', 'deviance.nls', 'df.residual.nls', 'fitted.nls',
'formula.nls', 'getInitial.default', 'getInitial.formula',
'getInitial.selfStart', 'logLik.nls', 'nlsModel.plinear',
'plot.profile.nls', 'predict.nls', 'print.nls', 'print.summary.nls',
'profile.nls', 'profiler.nls', 'residuals.nls', 'selfStart.default',
'selfStart.formula', 'sortedXyData.default', 'summary.nls', 'vcov.nls',
'weights.nls' were declared in NAMESPACE but not found
Fatal error: unable to restore saved data in .RData


	-thomas

From ripley at stats.ox.ac.uk  Fri Mar 26 22:39:49 2004
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri Mar 26 22:39:53 2004
Subject: [Rd] linker errors on ia64: open.o: @gprel relocation against
	dynamic symbol f__buflen
In-Reply-To: <200403261510.20343.horbelt@physik.uni-freiburg.de>
Message-ID: <Pine.LNX.4.44.0403262136470.10968-100000@gannet.stats>

gcc 2.96 does not exist: see gcc.gnu.org.  It was never released and the 
`versions' shipped with various Linux distros are renowned for their bugs.

You almost certainly need a shared -lg2c, which has been standard for 
quite a while now (gcc 3.1 I believe).  Is there any reason now to use gcc 
3.3.3?

On Fri, 26 Mar 2004 horbelt@physik.uni-freiburg.de wrote:

> hello,
> I just failed to compile R 1.8.1 and also the latest beta 
> R-1.9.0beta_2004-03-22.tar.gz
> on an ia64 architecture. When it comes to linking the Lapack 
> library, the following error occurs six times:
> /usr/bin/ld: open.o: @gprel relocation against dynamic symbol 
> f__buflen
> 
> Here is some diagnostic information.
> 
> uname -a
> Linux hippo 2.4.21-sgi230rp03111013_10029 #1 SMP 
> Mon Nov 10 13:25:42 PST 2003 ia64 unknown
> 
> gcc --version
> 2.96
> 
> g77 --version
> GNU Fortran 0.5.26 20000731 (Red Hat Linux 7.2 2.96-118.7.2)
> 
> I can produce the same error messages with the following simpler 
> steps:
> 
> cat >tst.f <<EOF
>       SUBROUTINE DLAMC2( )
>       WRITE( 6, * ) 'SOME STRING'
>       RETURN
>       END
> EOF
> g77 -c tst.f -o tst.o
> gcc -shared tst.o -lg2c
> 
> Is it possible to compile R with gcc 2.96?
> 
> thanks in advance
> werner
> 
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
> 
> 

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From svetlana.eden at vanderbilt.edu  Fri Mar 26 22:44:33 2004
From: svetlana.eden at vanderbilt.edu (svetlana.eden@vanderbilt.edu)
Date: Fri Mar 26 22:44:37 2004
Subject: [Rd] lookup.xport in foreign ignoring some datasets (PR#6701)
Message-ID: <20040326214433.3D2A010438@slim.kubism.ku.dk>



The Details.

In the following version.
> version
         _
platform i386-pc-linux-gnu
arch     i386
os       linux-gnu
system   i386, linux-gnu
status
major    1
minor    8.1
year     2003
month    11
day      21
language R
>

lookup.xport ignores some datasets in sas export file.

File "emptySasData3.xpt"
(available at http://biostat.mc.vanderbilt.edu/tmp/emptySasData3.xpt)
is a recreation of sensitive data.
It was generated in SAS as an export file containing 51 empty datasets,
but it has a structure of the non-empty data that revealed the problem
(and can not be shared).
It means that lookup.xport ignores non-empty datasets also.

The file "emptySasData3.xpt" has 51 empty datasets.
lookup.xport reads only 37 first datasets.
(In non-empty data lookup.xport ignored
datasets in the middle (not in the end) )
 
 > look <- lookup.xport("emptySasData3.xpt")
 > names(look)
  [1] "AE"   "BII"  "BIO"  "BLI"  "BP"   "C"    "D"    "DEA"  "DEM" 
 "DHT"
 [11] "DIS"  "DP"   "E"    "EC"   "EL"   "G"    "HS"   "HU"   "IN"  
"IP"
 [21] "L"    "LT"   "MC"   "MO"   "NO"   "PAS"  "PAT"  "PATH" "PO"  
"PR"
 [31] "PS"   "PV"   "Q"    "RA"   "RE"   "SA"   "SL"

The following datasets were not read by lookup.xport
UR, URN, VIS, VIT, VO.


The example of the
SAS code used to builds the empty data
from the non-empty data in "export.xpt".

options nofmterr;
proc options;run;
libname x sasv5xpt "H:\projects\export.xpt";
libname y sasv5xpt "H:\projects\emptySasData3.xpt";
data ae; set x.ae(obs = 0); run;
...
data vit; set x.vital(obs = 0); run;
data vo; set x.volume(obs = 0); run;
proc copy in = work out = y; run;


I think I did not miss anything,
thank you,

Svetlana


-- 
Svetlana Eden        Biostatistician II            School of Medicine
                     Department of Biostatistics   Vanderbilt University

From gregory_r_warnes at groton.pfizer.com  Fri Mar 26 23:09:28 2004
From: gregory_r_warnes at groton.pfizer.com (gregory_r_warnes@groton.pfizer.com)
Date: Fri Mar 26 23:09:35 2004
Subject: [Rd] cbind/rbind fail on matrixes containing lists (PR#6702)
Message-ID: <20040326220928.E325910438@slim.kubism.ku.dk>


Today's R 1.9.0 beta:

> m1
     [,1] [,2] [,3] [,4]
[1,] NA   NA   NA   NA  
[2,] NA   NA   NA   NA  
[3,] NA   NA   NA   NA  
[4,] NA   NA   NA   NA  
> class(m1[1,1])
[1] "list"
> cbind(m1,m1)
Error in cbind(...) : cannot create a matrix from these types
> rbind(m1,m1)
Error in rbind(...) : cannot create a matrix from these types

> version
         _                   
platform sparc-sun-solaris2.8
arch     sparc               
os       solaris2.8          
system   sparc, solaris2.8   
status   beta                
major    1                   
minor    9.0                 
year     2004                
month    03                  
day      26                  
language R                   


Gregory R. Warnes
Manager, Non-Clinical Statistics
Pfizer Global Research and Development
Tel: 860-715-3536



LEGAL NOTICE\ Unless expressly stated otherwise, this messag...{{dropped}}

From tlumley at u.washington.edu  Fri Mar 26 23:30:45 2004
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri Mar 26 23:30:56 2004
Subject: [Rd] cbind/rbind fail on matrixes containing lists (PR#6702)
In-Reply-To: <20040326220928.E325910438@slim.kubism.ku.dk>
References: <20040326220928.E325910438@slim.kubism.ku.dk>
Message-ID: <Pine.A41.4.58.0403261426110.46652@homer10.u.washington.edu>


Yep, bind.c:do_bind has

    switch(mode) {
    case NILSXP:
    case LGLSXP:
    case INTSXP:
    case REALSXP:
    case CPLXSXP:
    case STRSXP:
        break;
    default:
        errorcall(call, "cannot create a matrix from these types");
    }


Looks like a fairly simple fix to me.

	-thomas

From p.dalgaard at biostat.ku.dk  Fri Mar 26 23:40:07 2004
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard)
Date: Fri Mar 26 23:40:08 2004
Subject: [Rd] lookup.xport in foreign ignoring some datasets (PR#6701)
In-Reply-To: <20040326214433.3D2A010438@slim.kubism.ku.dk>
References: <20040326214433.3D2A010438@slim.kubism.ku.dk>
Message-ID: <x2zna3jkqg.fsf@biostat.ku.dk>

svetlana.eden@vanderbilt.edu writes:

> The following datasets were not read by lookup.xport
> UR, URN, VIS, VIT, VO.
> 
> 
> The example of the
> SAS code used to builds the empty data
> from the non-empty data in "export.xpt".
> 
> options nofmterr;
> proc options;run;
> libname x sasv5xpt "H:\projects\export.xpt";
> libname y sasv5xpt "H:\projects\emptySasData3.xpt";
            ********

SAS version 5 XPORT libraries? Why? Does it work any different with 

libname x xport "H:\what\ever";

?

> data ae; set x.ae(obs = 0); run;
> ...
> data vit; set x.vital(obs = 0); run;
> data vo; set x.volume(obs = 0); run;
> proc copy in = work out = y; run;

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

From dmurdoch at pair.com  Fri Mar 26 23:54:57 2004
From: dmurdoch at pair.com (Duncan Murdoch)
Date: Fri Mar 26 23:54:55 2004
Subject: [Rd] R 1.9.0 alpha
In-Reply-To: <Pine.A41.4.58.0403261320480.86958@homer11.u.washington.edu>
References: <4061F0C8.6119.84CCD3@localhost>
	<0dn460hf7brhqc35hb35b641duqu9b523p@4ax.com>
	<Pine.A41.4.58.0403261320480.86958@homer11.u.washington.edu>
Message-ID: <3vc960tjbthv96ba10iolr7u6rlglddijq@4ax.com>

On Fri, 26 Mar 2004 13:22:11 -0800 (PST), Thomas Lumley
<tlumley@u.washington.edu> wrote :

>On Wed, 24 Mar 2004, Duncan Murdoch wrote:
>>
>> Can you try to put together a small example that illustrates it?
>
>One example that happened while trying to answer another R-help question
>
>R 1.8.1
>library(nlme)
>example(nlme.nlsList)
>q("yes")
>
>R 1.9.0-beta on startup
>Error in namespaceExport(ns, exports) : undefined exports:
>NLSstAsymptotic, NLSstClosestX, NLSstLfAsymptote, NLSstRtAsymptote,

....

I think that's definitely something we should fix (even if just to say
something like "Object not loadable: fm2" and skip some objects), but
it's not really anything that I'd like to fiddle with.  

Duncan Murdoch

From tlumley at u.washington.edu  Sat Mar 27 00:23:05 2004
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Sat Mar 27 00:23:15 2004
Subject: [Rd] cbind/rbind fail on matrixes containing lists (PR#6702)
In-Reply-To: <Pine.A41.4.58.0403261426110.46652@homer10.u.washington.edu>
References: <20040326220928.E325910438@slim.kubism.ku.dk>
	<Pine.A41.4.58.0403261426110.46652@homer10.u.washington.edu>
Message-ID: <Pine.A41.4.58.0403261521310.46652@homer10.u.washington.edu>

On Fri, 26 Mar 2004, Thomas Lumley wrote:

>
> Yep, bind.c:do_bind has
>
>     switch(mode) {
>     case NILSXP:
>     case LGLSXP:
>     case INTSXP:
>     case REALSXP:
>     case CPLXSXP:
>     case STRSXP:
>         break;
>     default:
>         errorcall(call, "cannot create a matrix from these types");
>     }
>
>
> Looks like a fairly simple fix to me.

Not any more it doesn't.  bind.c:AnswerType puts lists together with
pairlists and who knows what else in its `other' class, so a bit more
thought and coding is needed.

It should be fairly straightforward, but it's not a localised change.

	-thomas

From ripley at stats.ox.ac.uk  Sat Mar 27 09:00:48 2004
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat Mar 27 09:00:54 2004
Subject: [Rd] cbind/rbind fail on matrixes containing lists (PR#6702)
In-Reply-To: <20040326220928.E325910438@slim.kubism.ku.dk>
Message-ID: <Pine.LNX.4.44.0403270736160.11650-100000@gannet.stats>

There are no `matrixes containing lists'.  There are lists which are also 
matrices, but their contents are the vector elements  (unless you meant 
that it was a list of lists, which seems not be the case in your example).
In the absence of a reproducible example, it is not clear to me exactly 
what you want to do.

Here is a list matrix example:

A <- matrix(as.list(1:4), 2, 2)
cbind(A, A)

It appears to be intentional (line 950 of bind.c and the actual cbind
code), in which case this is a documentation bug and I have altered the
docs.


On Fri, 26 Mar 2004 gregory_r_warnes@groton.pfizer.com wrote:

> 
> Today's R 1.9.0 beta:
> 
> > m1
>      [,1] [,2] [,3] [,4]
> [1,] NA   NA   NA   NA  
> [2,] NA   NA   NA   NA  
> [3,] NA   NA   NA   NA  
> [4,] NA   NA   NA   NA  
> > class(m1[1,1])
> [1] "list"

Why not class(m1)?  It should be the same ....

> > cbind(m1,m1)
> Error in cbind(...) : cannot create a matrix from these types
> > rbind(m1,m1)
> Error in rbind(...) : cannot create a matrix from these types
> 
> > version
>          _                   
> platform sparc-sun-solaris2.8
> arch     sparc               
> os       solaris2.8          
> system   sparc, solaris2.8   
> status   beta                
> major    1                   
> minor    9.0                 
> year     2004                
> month    03                  
> day      26                  
> language R                   


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From ripley at stats.ox.ac.uk  Sat Mar 27 09:03:05 2004
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat Mar 27 09:03:09 2004
Subject: [Rd] cbind/rbind fail on matrixes containing lists (PR#6702)
In-Reply-To: <Pine.A41.4.58.0403261521310.46652@homer10.u.washington.edu>
Message-ID: <Pine.LNX.4.44.0403270801450.11650-100000@gannet.stats>

On Fri, 26 Mar 2004, Thomas Lumley wrote:

> On Fri, 26 Mar 2004, Thomas Lumley wrote:
> 
> >
> > Yep, bind.c:do_bind has
> >
> >     switch(mode) {
> >     case NILSXP:
> >     case LGLSXP:
> >     case INTSXP:
> >     case REALSXP:
> >     case CPLXSXP:
> >     case STRSXP:
> >         break;
> >     default:
> >         errorcall(call, "cannot create a matrix from these types");
> >     }
> >
> >
> > Looks like a fairly simple fix to me.
> 
> Not any more it doesn't.  bind.c:AnswerType puts lists together with
> pairlists and who knows what else in its `other' class, so a bit more
> thought and coding is needed.
> 
> It should be fairly straightforward, but it's not a localised change.

That's not the main problem area: the actual cbind code does not handle
vector lists.  I've treated it as a documentation fix / enhancement 
request.

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From ripley at stats.ox.ac.uk  Sat Mar 27 09:03:43 2004
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat Mar 27 09:03:49 2004
Subject: [Rd] cbind/rbind fail on matrixes containing lists (PR#6702)
Message-ID: <20040327080343.4703910438@slim.kubism.ku.dk>

On Fri, 26 Mar 2004, Thomas Lumley wrote:

> On Fri, 26 Mar 2004, Thomas Lumley wrote:
> 
> >
> > Yep, bind.c:do_bind has
> >
> >     switch(mode) {
> >     case NILSXP:
> >     case LGLSXP:
> >     case INTSXP:
> >     case REALSXP:
> >     case CPLXSXP:
> >     case STRSXP:
> >         break;
> >     default:
> >         errorcall(call, "cannot create a matrix from these types");
> >     }
> >
> >
> > Looks like a fairly simple fix to me.
> 
> Not any more it doesn't.  bind.c:AnswerType puts lists together with
> pairlists and who knows what else in its `other' class, so a bit more
> thought and coding is needed.
> 
> It should be fairly straightforward, but it's not a localised change.

That's not the main problem area: the actual cbind code does not handle
vector lists.  I've treated it as a documentation fix / enhancement 
request.

Brian

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From kjetil at entelnet.bo  Sat Mar 27 15:43:45 2004
From: kjetil at entelnet.bo (kjetil@entelnet.bo)
Date: Sat Mar 27 15:44:39 2004
Subject: [Rd] Documentation typos/requests, R1.9.0 beta
Message-ID: <40655AE1.25478.748095@localhost>

I am working with the precompiled rw1090beta as of
2004-03-23.

?ts has in section "See also" 
"Standard package 'ts' for many
     additional time-series functions." td does not longer exist.

?plot.ts 
    example section uses library(ts)

?lines.ts
   example section has library(ts)


Kjetil Halvorsen

From ripley at stats.ox.ac.uk  Sat Mar 27 16:57:18 2004
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat Mar 27 16:57:28 2004
Subject: [Rd] Documentation typos/requests, R1.9.0 beta
In-Reply-To: <40655AE1.25478.748095@localhost>
Message-ID: <Pine.LNX.4.44.0403271552440.16925-100000@gannet.stats>

BTW, package ts does still exist.

Thanks, updated to stats.

On Sat, 27 Mar 2004 kjetil@entelnet.bo wrote:

> I am working with the precompiled rw1090beta as of
> 2004-03-23.

Some Windows binaries had several packages missing.

> ?ts has in section "See also" 
> "Standard package 'ts' for many
>      additional time-series functions." td does not longer exist.
> 
> ?plot.ts 
>     example section uses library(ts)
> 
> ?lines.ts
>    example section has library(ts)

Those are the same file!

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From ivo.welch at yale.edu  Sat Mar 27 17:43:47 2004
From: ivo.welch at yale.edu (ivo.welch@yale.edu)
Date: Sat Mar 27 17:43:49 2004
Subject: [Rd] exit() and stop() documentation (PR#6706)
Message-ID: <20040327164347.1E444EFB4@slim.kubism.ku.dk>

Full_Name: ivo welch
Version: any
OS: linux
Submission from: (NULL) (130.132.33.212)



hi:  in "?stop", in "See Also", please add "quit()" as a mention.  Similarly, I
would create a help for ?exit, which simply states that "you are probably
looking for quit() or stop()".

regards,

/ivo

From marksj at nrel.colostate.edu  Sun Mar 28 09:55:17 2004
From: marksj at nrel.colostate.edu (marksj@nrel.colostate.edu)
Date: Sun Mar 28 09:55:23 2004
Subject: [Rd] Greek symbols not generated on quartz device (PR#6708)
Message-ID: <20040328075517.6453DFB8C@slim.kubism.ku.dk>

Full_Name: Mark St. John
Version: 1.8.1
OS: Macintosh 10.3.3
Submission from: (NULL) (63.135.5.86)


After upgrading from Mac OS 10.2.8 to 10.3.3 a program I wrote to generate plots
will no longer display annotated Greek symbols. I'm using parse() and
expression() to convert variable text in to symbols and it would appear that
both functions work reasonably well except that Greek characters are missing.

I have a second computer still running OS 10.2.8 and have confirmed that the
same R program generates figures with annotated Greek symbols properly.

I've only tried this on the quartz device, I've not installed a good postscript
viewer yet.

Perhaps related: on neither OS 10.2.8 nor 10.3.3 have I been able to get
"italic" text to display properly--it always appears as regular text despite
trying several different font families.

From stefano.iacus at unimi.it  Sun Mar 28 12:49:59 2004
From: stefano.iacus at unimi.it (stefano iacus)
Date: Sun Mar 28 12:50:05 2004
Subject: [Rd] Greek symbols not generated on quartz device (PR#6708)
In-Reply-To: <20040328075517.6453DFB8C@slim.kubism.ku.dk>
References: <20040328075517.6453DFB8C@slim.kubism.ku.dk>
Message-ID: <A8BCC842-80A5-11D8-96B9-000A95C87F66@unimi.it>

Symbols fonts has changed encoding from 10.2 to 10.3 and this brokes 
things when using RAqua on different systems.
The new R 1.9.0 fixes this.
Still not able to get styled text (bold, italcs) at the moment.
stefano

On Mar 28, 2004, at 9:55 AM, marksj@nrel.colostate.edu wrote:

> Full_Name: Mark St. John
> Version: 1.8.1
> OS: Macintosh 10.3.3
> Submission from: (NULL) (63.135.5.86)
>
>
> After upgrading from Mac OS 10.2.8 to 10.3.3 a program I wrote to 
> generate plots
> will no longer display annotated Greek symbols. I'm using parse() and
> expression() to convert variable text in to symbols and it would 
> appear that
> both functions work reasonably well except that Greek characters are 
> missing.
>
> I have a second computer still running OS 10.2.8 and have confirmed 
> that the
> same R program generates figures with annotated Greek symbols properly.
>
> I've only tried this on the quartz device, I've not installed a good 
> postscript
> viewer yet.
>
> Perhaps related: on neither OS 10.2.8 nor 10.3.3 have I been able to 
> get
> "italic" text to display properly--it always appears as regular text 
> despite
> trying several different font families.
>
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>

From ivo.welch at yale.edu  Sun Mar 28 19:26:36 2004
From: ivo.welch at yale.edu (ivo.welch@yale.edu)
Date: Sun Mar 28 19:26:40 2004
Subject: [Rd] add "select" to subset docs (PR#6710)
Message-ID: <20040328172636.E72EDEDE2@slim.kubism.ku.dk>

Full_Name: ivo welch
Version: current
OS: linux
Submission from: (NULL) (130.132.33.212)



* In the ?subset page, please add

      subset( dataframe, select= c(-column1,-column2) )

       returns a dara frame that is without columns 1 and 2 .

* Also, in ?lm, it would be nice to add a few more words about how to get a
residuals vector of the same length as the variable vectors, even if there are
NAs.  (I know how to do this in one way, but this may not be the right
recommended way.)

I figure that I can help with suggestions for the docs more than with the
substance, being an R learner myself.  It's a truly amazing language.

regards,

/ivo

From ripley at stats.ox.ac.uk  Sun Mar 28 19:59:41 2004
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun Mar 28 19:59:45 2004
Subject: [Rd] add "select" to subset docs (PR#6710)
In-Reply-To: <20040328172636.E72EDEDE2@slim.kubism.ku.dk>
Message-ID: <Pine.LNX.4.44.0403281852370.26981-100000@gannet.stats>

On Sun, 28 Mar 2004 ivo.welch@yale.edu wrote:

> Full_Name: ivo welch
> Version: current
> OS: linux
> Submission from: (NULL) (130.132.33.212)
> 
> 
> 
> * In the ?subset page, please add
> 
>       subset( dataframe, select= c(-column1,-column2) )
> 
>        returns a dara frame that is without columns 1 and 2 .

Well, why?  select = -c(column1, column2) would be more sensible, but as 
it says

     This allows
     the use of the standard indexing conventions so that for example
     ranges of columns can be specified easily.

you are adding nothing which is not already there (except perhaps that you 
have not understood `An Introduction to R').

> * Also, in ?lm, it would be nice to add a few more words about how to get a
> residuals vector of the same length as the variable vectors, even if there are
> NAs.  (I know how to do this in one way, but this may not be the right
> recommended way.)

That's on the ?residuals page where it belongs.  It is also on page 141 of 
MASS4, and we would all benefit if you would take the time to read that 
volume thoroughly.

> I figure that I can help with suggestions for the docs more than with the
> substance, being an R learner myself.  It's a truly amazing language.

Please don't misuse R-bugs for this purpose.  Someone has manually to deal 
with your reports, and we have very limited resources.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From andy_liaw at merck.com  Sun Mar 28 22:24:34 2004
From: andy_liaw at merck.com (Liaw, Andy)
Date: Sun Mar 28 22:25:37 2004
Subject: [Rd] exit() and stop() documentation (PR#6706)
Message-ID: <3A822319EB35174CA3714066D590DCD504AF7AAF@usrymx25.merck.com>

You seem to have not read the message shown at R startup:

R : Copyright 2003, The R Foundation for Statistical Computing
Version 1.8.1  (2003-11-21), ISBN 3-900051-00-3

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for a HTML browser interface to help.
Type 'q()' to quit R.

***Please*** note that last line.  It's there for a reason.

Andy
 

> From: ivo.welch@yale.edu
> 
> Full_Name: ivo welch
> Version: any
> OS: linux
> Submission from: (NULL) (130.132.33.212)
> 
> 
> 
> hi:  in "?stop", in "See Also", please add "quit()" as a 
> mention.  Similarly, I
> would create a help for ?exit, which simply states that "you 
> are probably
> looking for quit() or stop()".
> 
> regards,
> 
> /ivo
> 
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
> 
>

From andy_liaw at merck.com  Sun Mar 28 22:26:08 2004
From: andy_liaw at merck.com (andy_liaw@merck.com)
Date: Sun Mar 28 22:26:10 2004
Subject: [Rd] exit() and stop() documentation (PR#6706)
Message-ID: <20040328202608.3C5CEEDE7@slim.kubism.ku.dk>

You seem to have not read the message shown at R startup:

R : Copyright 2003, The R Foundation for Statistical Computing
Version 1.8.1  (2003-11-21), ISBN 3-900051-00-3

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for a HTML browser interface to help.
Type 'q()' to quit R.

***Please*** note that last line.  It's there for a reason.

Andy
 

> From: ivo.welch@yale.edu
> 
> Full_Name: ivo welch
> Version: any
> OS: linux
> Submission from: (NULL) (130.132.33.212)
> 
> 
> 
> hi:  in "?stop", in "See Also", please add "quit()" as a 
> mention.  Similarly, I
> would create a help for ?exit, which simply states that "you 
> are probably
> looking for quit() or stop()".
> 
> regards,
> 
> /ivo
> 
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
> 
>

From ivo.welch at yale.edu  Sun Mar 28 23:52:48 2004
From: ivo.welch at yale.edu (ivo welch)
Date: Sun Mar 28 23:52:50 2004
Subject: [Rd] Help Documentation
In-Reply-To: <3A822319EB35174CA3714066D590DCD504AF7AAF@usrymx25.merck.com>
References: <3A822319EB35174CA3714066D590DCD504AF7AAF@usrymx25.merck.com>
Message-ID: <40674930.3000401@yale.edu>


ladies and gents:

I have posted a couple of simple questions recently.  As often happens 
to novices, the information was there somewhere, even in front of my 
eyes, and I just did not see it.   I looked in docs that seemed to me to 
be the right place for this particular information, but did not find it. 
There is no question:  mea culpa, and everything is documented somewhere 
in R.  (Worst comes to worst, it is documented in the source.)

But here comes my complaint:  I tried to help by documenting where I got 
lost, and by suggesting simple one-liners for the documentation, which 
would provide additional cross-references to what I was looking for. 
The cost of adding additional brief sentences to the help must be 
relatively small, and the help to stuck novices may be considerable in 
reducing the learning curve.  For my specific examples, I suggested a 
reference to q() in ?exit, and a "select= -c(v1,v2)" to ?subset.

Clearly, the information is redundant.  (Of course, in a sense, all 
documentation is redundant.)  The goal of good documentation should be 
to help novice users who do not know the answer.  The goal should not be 
minimum redundancy in the help files.  Being fairly new to R, I see 
difficulties where Brian Ripley and other experts and developers no 
longer do.  I bet that if I wonder about the answers, I am more than 
likely not alone.  In fact, I think it would really make sense to 
improve the docs by studying where novices get stuck.

I was told by Brian to stop sending such suggestions, in order not to 
clutter the R bug report list.  OK, I can save my time; I just wanted to 
help.  But, for others' sake, please reconsider the policy of not 
gearing the internal R documentation for novices like myself.

I will butt out here.

regards,

/ivo

PS:   Incidentally, the R help seems a little schizophrenic.  For 
example, Brian Ripley is the most helpful source for learning R (both 
books and posts), and I am rather grateful for it.  I just do not 
understand why, at the same time, he seems to be annoyed while fielding 
questions of the r-help post-list.  He is not the only individual who 
likes to help, but grudgingly so...

From ivo.welch at yale.edu  Sun Mar 28 23:53:25 2004
From: ivo.welch at yale.edu (ivo.welch@yale.edu)
Date: Sun Mar 28 23:53:27 2004
Subject: [Rd] Help Documentation (PR#6711)
Message-ID: <20040328215325.70E90EAE3@slim.kubism.ku.dk>


ladies and gents:

I have posted a couple of simple questions recently.  As often happens 
to novices, the information was there somewhere, even in front of my 
eyes, and I just did not see it.   I looked in docs that seemed to me to 
be the right place for this particular information, but did not find it. 
There is no question:  mea culpa, and everything is documented somewhere 
in R.  (Worst comes to worst, it is documented in the source.)

But here comes my complaint:  I tried to help by documenting where I got 
lost, and by suggesting simple one-liners for the documentation, which 
would provide additional cross-references to what I was looking for. 
The cost of adding additional brief sentences to the help must be 
relatively small, and the help to stuck novices may be considerable in 
reducing the learning curve.  For my specific examples, I suggested a 
reference to q() in ?exit, and a "select= -c(v1,v2)" to ?subset.

Clearly, the information is redundant.  (Of course, in a sense, all 
documentation is redundant.)  The goal of good documentation should be 
to help novice users who do not know the answer.  The goal should not be 
minimum redundancy in the help files.  Being fairly new to R, I see 
difficulties where Brian Ripley and other experts and developers no 
longer do.  I bet that if I wonder about the answers, I am more than 
likely not alone.  In fact, I think it would really make sense to 
improve the docs by studying where novices get stuck.

I was told by Brian to stop sending such suggestions, in order not to 
clutter the R bug report list.  OK, I can save my time; I just wanted to 
help.  But, for others' sake, please reconsider the policy of not 
gearing the internal R documentation for novices like myself.

I will butt out here.

regards,

/ivo

PS:   Incidentally, the R help seems a little schizophrenic.  For 
example, Brian Ripley is the most helpful source for learning R (both 
books and posts), and I am rather grateful for it.  I just do not 
understand why, at the same time, he seems to be annoyed while fielding 
questions of the r-help post-list.  He is not the only individual who 
likes to help, but grudgingly so...

From edd at debian.org  Mon Mar 29 01:26:00 2004
From: edd at debian.org (Dirk Eddelbuettel)
Date: Mon Mar 29 01:26:03 2004
Subject: [Rd] Help Documentation
In-Reply-To: <40674930.3000401@yale.edu>
References: <3A822319EB35174CA3714066D590DCD504AF7AAF@usrymx25.merck.com>
	<40674930.3000401@yale.edu>
Message-ID: <20040328232600.GA12073@sonny.eddelbuettel.com>

On Sun, Mar 28, 2004 at 04:52:48PM -0500, ivo welch wrote:
> I will butt out here.

$ man diff
$ man patch

If you want your contributions to be reflected, lower the marginal cost of
getting them applied.  A clean patch against current sources (i.e. R-devel)
is surely better than a mere bug report with a suggestion.

Dirk

-- 
The relationship between the computed price and reality is as yet unknown.  
                                             -- From the pac(8) manual page

From edd at debian.org  Mon Mar 29 01:26:36 2004
From: edd at debian.org (edd@debian.org)
Date: Mon Mar 29 01:26:38 2004
Subject: [Rd] Help Documentation (PR#6713)
Message-ID: <20040328232636.E7D44ED90@slim.kubism.ku.dk>

On Sun, Mar 28, 2004 at 04:52:48PM -0500, ivo welch wrote:
> I will butt out here.

$ man diff
$ man patch

If you want your contributions to be reflected, lower the marginal cost of
getting them applied.  A clean patch against current sources (i.e. R-devel)
is surely better than a mere bug report with a suggestion.

Dirk

-- 
The relationship between the computed price and reality is as yet unknown.  
                                             -- From the pac(8) manual page

From kjetil at entelnet.bo  Mon Mar 29 01:20:20 2004
From: kjetil at entelnet.bo (kjetil@entelnet.bo)
Date: Mon Mar 29 01:40:37 2004
Subject: [Rd] Help Documentation (PR#6712)
Message-ID: <20040328232020.8F4E3EAE3@slim.kubism.ku.dk>

On 28 Mar 2004 at 16:52, ivo welch wrote:

> 
> ladies and gents:
> 
> I have posted a couple of simple questions recently.  As often happens
.
.
.
> I was told by Brian to stop sending such suggestions, in order not to
> clutter the R bug report list.  OK, I can save my time; I just wanted

He told you stop sending them to R-bugs!
When you get a little more experience, send them to r-help

Then they will not clutter the R bug report list.

Kjetil Halvorsen

> to help.  But, for others' sake, please reconsider the policy of not
> gearing the internal R documentation for novices like myself.
> 
> I will butt out here.
> 
> regards,
> 
> /ivo
> 
> PS:   Incidentally, the R help seems a little schizophrenic.  For
> example, Brian Ripley is the most helpful source for learning R (both
> books and posts), and I am rather grateful for it.  I just do not
> understand why, at the same time, he seems to be annoyed while
> fielding questions of the r-help post-list.  He is not the only
> individual who likes to help, but grudgingly so...
> 
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel

From kjetil at entelnet.bo  Mon Mar 29 01:18:48 2004
From: kjetil at entelnet.bo (kjetil@entelnet.bo)
Date: Mon Mar 29 01:42:08 2004
Subject: [Rd] Help Documentation
In-Reply-To: <40674930.3000401@yale.edu>
References: <3A822319EB35174CA3714066D590DCD504AF7AAF@usrymx25.merck.com>
Message-ID: <40672518.21215.1E18885@localhost>

On 28 Mar 2004 at 16:52, ivo welch wrote:

> 
> ladies and gents:
> 
> I have posted a couple of simple questions recently.  As often happens
.
.
.
> I was told by Brian to stop sending such suggestions, in order not to
> clutter the R bug report list.  OK, I can save my time; I just wanted

He told you stop sending them to R-bugs!
When you get a little more experience, send them to r-help

Then they will not clutter the R bug report list.

Kjetil Halvorsen

> to help.  But, for others' sake, please reconsider the policy of not
> gearing the internal R documentation for novices like myself.
> 
> I will butt out here.
> 
> regards,
> 
> /ivo
> 
> PS:   Incidentally, the R help seems a little schizophrenic.  For
> example, Brian Ripley is the most helpful source for learning R (both
> books and posts), and I am rather grateful for it.  I just do not
> understand why, at the same time, he seems to be annoyed while
> fielding questions of the r-help post-list.  He is not the only
> individual who likes to help, but grudgingly so...
> 
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel

From ggrothendieck at myway.com  Mon Mar 29 01:43:32 2004
From: ggrothendieck at myway.com (Gabor Grothendieck)
Date: Mon Mar 29 01:43:46 2004
Subject: [Rd] Help Documentation
Message-ID: <20040328234332.D85F5396A@mprdmxin.myway.com>



I think many people share your view and are aghast at the
reception that some well-intentioned posts receive.  There 
have been past discussions on this and many people feel the
way you and I do.  

Just to head off another round, let me acknowledge that 
there appears to be multiple viewpoints and although hard 
to believe by myself, there actually is a contingent that 
views what I see as insulting responses as appropriate.

---
From:   ivo welch <ivo.welch@yale.edu>

ladies and gents:

I have posted a couple of simple questions recently. As often happens 
to novices, the information was there somewhere, even in front of my 
eyes, and I just did not see it. I looked in docs that seemed to me to 
be the right place for this particular information, but did not find it. 
There is no question: mea culpa, and everything is documented somewhere 
in R. (Worst comes to worst, it is documented in the source.)

But here comes my complaint: I tried to help by documenting where I got 
lost, and by suggesting simple one-liners for the documentation, which 
would provide additional cross-references to what I was looking for. 
The cost of adding additional brief sentences to the help must be 
relatively small, and the help to stuck novices may be considerable in 
reducing the learning curve. For my specific examples, I suggested a 
reference to q() in ?exit, and a "select= -c(v1,v2)" to ?subset.

Clearly, the information is redundant. (Of course, in a sense, all 
documentation is redundant.) The goal of good documentation should be 
to help novice users who do not know the answer. The goal should not be 
minimum redundancy in the help files. Being fairly new to R, I see 
difficulties where Brian Ripley and other experts and developers no 
longer do. I bet that if I wonder about the answers, I am more than 
likely not alone. In fact, I think it would really make sense to 
improve the docs by studying where novices get stuck.

I was told by Brian to stop sending such suggestions, in order not to 
clutter the R bug report list. OK, I can save my time; I just wanted to 
help. But, for others' sake, please reconsider the policy of not 
gearing the internal R documentation for novices like myself.

I will butt out here.

regards,

/ivo

PS: Incidentally, the R help seems a little schizophrenic. For 
example, Brian Ripley is the most helpful source for learning R (both 
books and posts), and I am rather grateful for it. I just do not 
understand why, at the same time, he seems to be annoyed while fielding 
questions of the r-help post-list. He is not the only individual who 
likes to help, but grudgingly so...

From ggrothendieck at myway.com  Mon Mar 29 01:44:10 2004
From: ggrothendieck at myway.com (ggrothendieck@myway.com)
Date: Mon Mar 29 01:44:12 2004
Subject: [Rd] Help Documentation (PR#6714)
Message-ID: <20040328234410.32023EAE3@slim.kubism.ku.dk>



I think many people share your view and are aghast at the
reception that some well-intentioned posts receive.  There 
have been past discussions on this and many people feel the
way you and I do.  

Just to head off another round, let me acknowledge that 
there appears to be multiple viewpoints and although hard 
to believe by myself, there actually is a contingent that 
views what I see as insulting responses as appropriate.

---
From:   ivo welch <ivo.welch@yale.edu>

ladies and gents:

I have posted a couple of simple questions recently. As often happens 
to novices, the information was there somewhere, even in front of my 
eyes, and I just did not see it. I looked in docs that seemed to me to 
be the right place for this particular information, but did not find it. 
There is no question: mea culpa, and everything is documented somewhere 
in R. (Worst comes to worst, it is documented in the source.)

But here comes my complaint: I tried to help by documenting where I got 
lost, and by suggesting simple one-liners for the documentation, which 
would provide additional cross-references to what I was looking for. 
The cost of adding additional brief sentences to the help must be 
relatively small, and the help to stuck novices may be considerable in 
reducing the learning curve. For my specific examples, I suggested a 
reference to q() in ?exit, and a "select= -c(v1,v2)" to ?subset.

Clearly, the information is redundant. (Of course, in a sense, all 
documentation is redundant.) The goal of good documentation should be 
to help novice users who do not know the answer. The goal should not be 
minimum redundancy in the help files. Being fairly new to R, I see 
difficulties where Brian Ripley and other experts and developers no 
longer do. I bet that if I wonder about the answers, I am more than 
likely not alone. In fact, I think it would really make sense to 
improve the docs by studying where novices get stuck.

I was told by Brian to stop sending such suggestions, in order not to 
clutter the R bug report list. OK, I can save my time; I just wanted to 
help. But, for others' sake, please reconsider the policy of not 
gearing the internal R documentation for novices like myself.

I will butt out here.

regards,

/ivo

PS: Incidentally, the R help seems a little schizophrenic. For 
example, Brian Ripley is the most helpful source for learning R (both 
books and posts), and I am rather grateful for it. I just do not 
understand why, at the same time, he seems to be annoyed while fielding 
questions of the r-help post-list. He is not the only individual who 
likes to help, but grudgingly so...

From hb at maths.lth.se  Mon Mar 29 09:24:01 2004
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Mon Mar 29 09:24:16 2004
Subject: [Rd] Help Documentation
In-Reply-To: <20040328234332.D85F5396A@mprdmxin.myway.com>
Message-ID: <004601c4155e$cf389ec0$e502eb82@maths.lth.se>

Dear all, 

without taking sides here, I see two major advantage of keeping the
redundancy in any documentation minimal. First, it makes the
maintanance of the documentation as simple as possible. This in turn,
minimizes the risk for getting inconsistent documentation in new
updates. Otherwise, someone has to have a really good overview and
know where to update when, say, one default argument is updated (or we
have to live with incorrect documentation).

One possible solution to a documentation for beginners is to have a
separate package just for the documentation. In that package you can
document ?exit etc . Load the package and help.search("exit") will
find "anything" regard exitting. To get started with this you have to
know how to write Rd documentation (very similar to LaTeX). You'll
find details in the help; type help.start(). 

Cheers

Henrik

> -----Original Message-----
> From: r-devel-bounces@stat.math.ethz.ch 
> [mailto:r-devel-bounces@stat.math.ethz.ch] On Behalf Of Gabor 
> Grothendieck
> Sent: den 29 mars 2004 01:44
> To: ivo.welch@yale.edu
> Cc: R-bugs@biostat.ku.dk; r-devel@stat.math.ethz.ch
> Subject: RE: [Rd] Help Documentation
> 
> 
> 
> 
> I think many people share your view and are aghast at the 
> reception that some well-intentioned posts receive.  There 
> have been past discussions on this and many people feel the
> way you and I do.  
> 
> Just to head off another round, let me acknowledge that 
> there appears to be multiple viewpoints and although hard 
> to believe by myself, there actually is a contingent that 
> views what I see as insulting responses as appropriate.
> 
> ---
> From:   ivo welch <ivo.welch@yale.edu>
> 
> ladies and gents:
> 
> I have posted a couple of simple questions recently. As often
happens 
> to novices, the information was there somewhere, even in front of my

> eyes, and I just did not see it. I looked in docs that seemed 
> to me to 
> be the right place for this particular information, but did 
> not find it. 
> There is no question: mea culpa, and everything is documented 
> somewhere 
> in R. (Worst comes to worst, it is documented in the source.)
> 
> But here comes my complaint: I tried to help by documenting 
> where I got 
> lost, and by suggesting simple one-liners for the 
> documentation, which 
> would provide additional cross-references to what I was looking for.

> The cost of adding additional brief sentences to the help must be 
> relatively small, and the help to stuck novices may be 
> considerable in 
> reducing the learning curve. For my specific examples, I suggested a

> reference to q() in ?exit, and a "select= -c(v1,v2)" to ?subset.
> 
> Clearly, the information is redundant. (Of course, in a sense, all 
> documentation is redundant.) The goal of good documentation should
be 
> to help novice users who do not know the answer. The goal 
> should not be 
> minimum redundancy in the help files. Being fairly new to R, I see 
> difficulties where Brian Ripley and other experts and developers no 
> longer do. I bet that if I wonder about the answers, I am more than 
> likely not alone. In fact, I think it would really make sense to 
> improve the docs by studying where novices get stuck.
> 
> I was told by Brian to stop sending such suggestions, in order not
to 
> clutter the R bug report list. OK, I can save my time; I just 
> wanted to 
> help. But, for others' sake, please reconsider the policy of not 
> gearing the internal R documentation for novices like myself.
> 
> I will butt out here.
> 
> regards,
> 
> /ivo
> 
> PS: Incidentally, the R help seems a little schizophrenic. For 
> example, Brian Ripley is the most helpful source for learning R
(both 
> books and posts), and I am rather grateful for it. I just do not 
> understand why, at the same time, he seems to be annoyed 
> while fielding 
> questions of the r-help post-list. He is not the only individual who

> likes to help, but grudgingly so...
> 
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list 
> https://www.stat.math.ethz.ch/mailma> n/listinfo/r-devel
> 
>

From hb at maths.lth.se  Mon Mar 29 09:24:42 2004
From: hb at maths.lth.se (hb@maths.lth.se)
Date: Mon Mar 29 09:24:44 2004
Subject: [Rd] Help Documentation (PR#6715)
Message-ID: <20040329072442.4205CED90@slim.kubism.ku.dk>

Dear all,=20

without taking sides here, I see two major advantage of keeping the
redundancy in any documentation minimal. First, it makes the
maintanance of the documentation as simple as possible. This in turn,
minimizes the risk for getting inconsistent documentation in new
updates. Otherwise, someone has to have a really good overview and
know where to update when, say, one default argument is updated (or we
have to live with incorrect documentation).

One possible solution to a documentation for beginners is to have a
separate package just for the documentation. In that package you can
document ?exit etc . Load the package and help.search("exit") will
find "anything" regard exitting. To get started with this you have to
know how to write Rd documentation (very similar to LaTeX). You'll
find details in the help; type help.start().=20

Cheers

Henrik

> -----Original Message-----
> From: r-devel-bounces@stat.math.ethz.ch=20
> [mailto:r-devel-bounces@stat.math.ethz.ch] On Behalf Of Gabor=20
> Grothendieck
> Sent: den 29 mars 2004 01:44
> To: ivo.welch@yale.edu
> Cc: R-bugs@biostat.ku.dk; r-devel@stat.math.ethz.ch
> Subject: RE: [Rd] Help Documentation
>=20
>=20
>=20
>=20
> I think many people share your view and are aghast at the=20
> reception that some well-intentioned posts receive.  There=20
> have been past discussions on this and many people feel the
> way you and I do. =20
>=20
> Just to head off another round, let me acknowledge that=20
> there appears to be multiple viewpoints and although hard=20
> to believe by myself, there actually is a contingent that=20
> views what I see as insulting responses as appropriate.
>=20
> ---
> From:   ivo welch <ivo.welch@yale.edu>
>=20
> ladies and gents:
>=20
> I have posted a couple of simple questions recently. As often
happens=20
> to novices, the information was there somewhere, even in front of my

> eyes, and I just did not see it. I looked in docs that seemed=20
> to me to=20
> be the right place for this particular information, but did=20
> not find it.=20
> There is no question: mea culpa, and everything is documented=20
> somewhere=20
> in R. (Worst comes to worst, it is documented in the source.)
>=20
> But here comes my complaint: I tried to help by documenting=20
> where I got=20
> lost, and by suggesting simple one-liners for the=20
> documentation, which=20
> would provide additional cross-references to what I was looking for.

> The cost of adding additional brief sentences to the help must be=20
> relatively small, and the help to stuck novices may be=20
> considerable in=20
> reducing the learning curve. For my specific examples, I suggested a

> reference to q() in ?exit, and a "select=3D -c(v1,v2)" to ?subset.
>=20
> Clearly, the information is redundant. (Of course, in a sense, all=20
> documentation is redundant.) The goal of good documentation should
be=20
> to help novice users who do not know the answer. The goal=20
> should not be=20
> minimum redundancy in the help files. Being fairly new to R, I see=20
> difficulties where Brian Ripley and other experts and developers no=20
> longer do. I bet that if I wonder about the answers, I am more than=20
> likely not alone. In fact, I think it would really make sense to=20
> improve the docs by studying where novices get stuck.
>=20
> I was told by Brian to stop sending such suggestions, in order not
to=20
> clutter the R bug report list. OK, I can save my time; I just=20
> wanted to=20
> help. But, for others' sake, please reconsider the policy of not=20
> gearing the internal R documentation for novices like myself.
>=20
> I will butt out here.
>=20
> regards,
>=20
> /ivo
>=20
> PS: Incidentally, the R help seems a little schizophrenic. For=20
> example, Brian Ripley is the most helpful source for learning R
(both=20
> books and posts), and I am rather grateful for it. I just do not=20
> understand why, at the same time, he seems to be annoyed=20
> while fielding=20
> questions of the r-help post-list. He is not the only individual who

> likes to help, but grudgingly so...
>=20
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list=20
> https://www.stat.math.ethz.ch/mailma> n/listinfo/r-devel
>=20
>=20

From weih at sfa.ukl.uni-freiburg.de  Mon Mar 29 10:57:58 2004
From: weih at sfa.ukl.uni-freiburg.de (weih@sfa.ukl.uni-freiburg.de)
Date: Mon Mar 29 09:58:22 2004
Subject: [Rd] Status (weih@sfa.ukl.uni-freiburg.de)
Message-ID: <27F22734174@sfa.ukl.uni-freiburg.de>

Ab dem 1.4.04 arbeite ich nicht mehr im Universit?tsklinikum. 
Dringende emails bitte an folgende Adresse:
markus.weih@gmx.de

mfG 

PD Dr. M. Weih

From Torsten.Hothorn at rzmail.uni-erlangen.de  Mon Mar 29 10:22:41 2004
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Mon Mar 29 10:22:52 2004
Subject: [Rd] Global assignment with S4 objects in R 1.9.0 beta 
Message-ID: <Pine.LNX.4.51.0403291017340.13239@artemis.imbe.med.uni-erlangen.de>


Hi,

some change during the last 10 days breaks code where slots of an
object are changed globally:

setClass("mylist", contains = "list")

setClass("dummy", representation = representation(
    a = "mylist"))

foo1 = function(i, x) {
    mydummy@a[[i]] <<- x		### change a slot
}

foo2 = function() {			### define an object
    mydummy <<- new("dummy")
    a <- vector(length = 10, mode = "list")
    class(a) <- "mylist"
    mydummy@a <<- a
    for (i in 1:10) foo1(i, i+1)
    mydummy
}

try(thisdummy <- foo2())
unlist(thisdummy@a)


This one works as expected

R : Copyright 2004, The R Foundation for Statistical Computing
Version 1.9.0 alpha (2004-03-18), ISBN 3-900051-00-3

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for a HTML browser interface to help.
Type 'q()' to quit R.

> invisible(options(echo = TRUE))
>
> setClass("mylist", contains = "list")
[1] "mylist"
>
> setClass("dummy", representation = representation(
+     a = "mylist"))
[1] "dummy"
>
> foo1 = function(i, x) {
+     mydummy@a[[i]] <<- x
+ }
>
> foo2 = function() {
+     mydummy <<- new("dummy")
+     a <- vector(length = 10, mode = "list")
+     class(a) <- "mylist"
+     mydummy@a <<- a
+     for (i in 1:10) foo1(i, i+1)
+     mydummy
+ }
>
> try(thisdummy <- foo2())
> unlist(thisdummy@a)
 [1]  2  3  4  5  6  7  8  9 10 11
> proc.time()
[1] 1.99 0.06 2.03 0.00 0.00
>


and with yesterdays R-devel it fails

R : Copyright 2004, The R Foundation for Statistical Computing
Version 1.9.0 beta (2004-03-28), ISBN 3-900051-00-3

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for a HTML browser interface to help.
Type 'q()' to quit R.


R> invisible(options(echo = TRUE))
R>
R> setClass("mylist", contains = "list")
[1] "mylist"
R>
R> setClass("dummy", representation = representation(
+     a = "mylist"))
[1] "dummy"
R>
R> foo1 = function(i, x) {
+     mydummy@a[[i]] <<- x
+ }
R>
R> foo2 = function() {
+     mydummy <<- new("dummy")
+     a <- vector(length = 10, mode = "list")
+     class(a) <- "mylist"
+     mydummy@a <<- a
+     for (i in 1:10) foo1(i, i+1)
+     mydummy
+ }
R>
R> try(thisdummy <- foo2())
Error in foo1(i, i + 1) : Object "*tmp*" not found
R> unlist(thisdummy@a)
Error in unlist(thisdummy@a) : Object "thisdummy" not found
Execution halted


Best,

Torsten

From ivo.welch at yale.edu  Mon Mar 29 15:28:50 2004
From: ivo.welch at yale.edu (ivo welch)
Date: Mon Mar 29 15:28:52 2004
Subject: [Rd] Help Documentation
In-Reply-To: <004601c4155e$cf389ec0$e502eb82@maths.lth.se>
References: <004601c4155e$cf389ec0$e502eb82@maths.lth.se>
Message-ID: <40682492.5050805@yale.edu>


hi henrik (all):  A better solution would be to have levels: 
set.help(level="beginner"), which then provides expanded explanations.

However, I do not think this is necessary: For the most part, the online 
R docs are great.  It is not more detailed explanations that beginners 
crave.  My primary wishes arise as I stumble onto a need, and then wish 
for a few more examples of different usage, a few more cross-references 
to other functions, and the rare additional help page (exit, delete 
(explains data frame row and col del), insert (same thing)).  The first 
two are usually literally one-liners, and unlikely to clutter up much.  
The latter is pretty easy, too.

If considered helpful by the R developers, I would try to learn Rd to 
submit doc changes.  Alas, my feeling is that the reception would be 
pretty cold ("not needed = redundant = no").  Is there someone "in 
charge of" docs that I can ask whether this is in principle welcome?

Would it be useful to add to the R Bug Report submission web page a 
pulldown field that classifies suggestions, one of which being 
"documentation enhancement", so that Prof Ripley won't complain about 
having to read these?  Maybe another pull-down field that classifies 
error severity?

regards, /iaw

Henrik Bengtsson wrote:

>Dear all, 
>
>without taking sides here, I see two major advantage of keeping the
>redundancy in any documentation minimal. First, it makes the
>maintanance of the documentation as simple as possible. This in turn,
>minimizes the risk for getting inconsistent documentation in new
>updates. Otherwise, someone has to have a really good overview and
>know where to update when, say, one default argument is updated (or we
>have to live with incorrect documentation).
>
>One possible solution to a documentation for beginners is to have a
>separate package just for the documentation. In that package you can
>document ?exit etc . Load the package and help.search("exit") will
>find "anything" regard exitting. To get started with this you have to
>know how to write Rd documentation (very similar to LaTeX). You'll
>find details in the help; type help.start(). 
>
>Cheers
>
>Henrik
>
>  
>
>>-----Original Message-----
>>From: r-devel-bounces@stat.math.ethz.ch 
>>[mailto:r-devel-bounces@stat.math.ethz.ch] On Behalf Of Gabor 
>>Grothendieck
>>Sent: den 29 mars 2004 01:44
>>To: ivo.welch@yale.edu
>>Cc: R-bugs@biostat.ku.dk; r-devel@stat.math.ethz.ch
>>Subject: RE: [Rd] Help Documentation
>>
>>
>>
>>
>>I think many people share your view and are aghast at the 
>>reception that some well-intentioned posts receive.  There 
>>have been past discussions on this and many people feel the
>>way you and I do.  
>>
>>Just to head off another round, let me acknowledge that 
>>there appears to be multiple viewpoints and although hard 
>>to believe by myself, there actually is a contingent that 
>>views what I see as insulting responses as appropriate.
>>
>>---
>>From:   ivo welch <ivo.welch@yale.edu>
>>
>>ladies and gents:
>>
>>I have posted a couple of simple questions recently. As often
>>    
>>
>happens 
>  
>
>>to novices, the information was there somewhere, even in front of my
>>    
>>
>
>  
>
>>eyes, and I just did not see it. I looked in docs that seemed 
>>to me to 
>>be the right place for this particular information, but did 
>>not find it. 
>>There is no question: mea culpa, and everything is documented 
>>somewhere 
>>in R. (Worst comes to worst, it is documented in the source.)
>>
>>But here comes my complaint: I tried to help by documenting 
>>where I got 
>>lost, and by suggesting simple one-liners for the 
>>documentation, which 
>>would provide additional cross-references to what I was looking for.
>>    
>>
>
>  
>
>>The cost of adding additional brief sentences to the help must be 
>>relatively small, and the help to stuck novices may be 
>>considerable in 
>>reducing the learning curve. For my specific examples, I suggested a
>>    
>>
>
>  
>
>>reference to q() in ?exit, and a "select= -c(v1,v2)" to ?subset.
>>
>>Clearly, the information is redundant. (Of course, in a sense, all 
>>documentation is redundant.) The goal of good documentation should
>>    
>>
>be 
>  
>
>>to help novice users who do not know the answer. The goal 
>>should not be 
>>minimum redundancy in the help files. Being fairly new to R, I see 
>>difficulties where Brian Ripley and other experts and developers no 
>>longer do. I bet that if I wonder about the answers, I am more than 
>>likely not alone. In fact, I think it would really make sense to 
>>improve the docs by studying where novices get stuck.
>>
>>I was told by Brian to stop sending such suggestions, in order not
>>    
>>
>to 
>  
>
>>clutter the R bug report list. OK, I can save my time; I just 
>>wanted to 
>>help. But, for others' sake, please reconsider the policy of not 
>>gearing the internal R documentation for novices like myself.
>>
>>I will butt out here.
>>
>>regards,
>>
>>/ivo
>>
>>PS: Incidentally, the R help seems a little schizophrenic. For 
>>example, Brian Ripley is the most helpful source for learning R
>>    
>>
>(both 
>  
>
>>books and posts), and I am rather grateful for it. I just do not 
>>understand why, at the same time, he seems to be annoyed 
>>while fielding 
>>questions of the r-help post-list. He is not the only individual who
>>    
>>
>
>  
>
>>likes to help, but grudgingly so...
>>
>>______________________________________________
>>R-devel@stat.math.ethz.ch mailing list 
>>https://www.stat.math.ethz.ch/mailma> n/listinfo/r-devel
>>
>>
>>    
>>
>
>  
>

From ivo.welch at yale.edu  Mon Mar 29 15:29:23 2004
From: ivo.welch at yale.edu (ivo.welch@yale.edu)
Date: Mon Mar 29 15:29:26 2004
Subject: [Rd] Help Documentation (PR#6716)
Message-ID: <20040329132923.DC54DEDF1@slim.kubism.ku.dk>


hi henrik (all):  A better solution would be to have levels: 
set.help(level="beginner"), which then provides expanded explanations.

However, I do not think this is necessary: For the most part, the online 
R docs are great.  It is not more detailed explanations that beginners 
crave.  My primary wishes arise as I stumble onto a need, and then wish 
for a few more examples of different usage, a few more cross-references 
to other functions, and the rare additional help page (exit, delete 
(explains data frame row and col del), insert (same thing)).  The first 
two are usually literally one-liners, and unlikely to clutter up much.  
The latter is pretty easy, too.

If considered helpful by the R developers, I would try to learn Rd to 
submit doc changes.  Alas, my feeling is that the reception would be 
pretty cold ("not needed = redundant = no").  Is there someone "in 
charge of" docs that I can ask whether this is in principle welcome?

Would it be useful to add to the R Bug Report submission web page a 
pulldown field that classifies suggestions, one of which being 
"documentation enhancement", so that Prof Ripley won't complain about 
having to read these?  Maybe another pull-down field that classifies 
error severity?

regards, /iaw

Henrik Bengtsson wrote:

>Dear all, 
>
>without taking sides here, I see two major advantage of keeping the
>redundancy in any documentation minimal. First, it makes the
>maintanance of the documentation as simple as possible. This in turn,
>minimizes the risk for getting inconsistent documentation in new
>updates. Otherwise, someone has to have a really good overview and
>know where to update when, say, one default argument is updated (or we
>have to live with incorrect documentation).
>
>One possible solution to a documentation for beginners is to have a
>separate package just for the documentation. In that package you can
>document ?exit etc . Load the package and help.search("exit") will
>find "anything" regard exitting. To get started with this you have to
>know how to write Rd documentation (very similar to LaTeX). You'll
>find details in the help; type help.start(). 
>
>Cheers
>
>Henrik
>
>  
>
>>-----Original Message-----
>>From: r-devel-bounces@stat.math.ethz.ch 
>>[mailto:r-devel-bounces@stat.math.ethz.ch] On Behalf Of Gabor 
>>Grothendieck
>>Sent: den 29 mars 2004 01:44
>>To: ivo.welch@yale.edu
>>Cc: R-bugs@biostat.ku.dk; r-devel@stat.math.ethz.ch
>>Subject: RE: [Rd] Help Documentation
>>
>>
>>
>>
>>I think many people share your view and are aghast at the 
>>reception that some well-intentioned posts receive.  There 
>>have been past discussions on this and many people feel the
>>way you and I do.  
>>
>>Just to head off another round, let me acknowledge that 
>>there appears to be multiple viewpoints and although hard 
>>to believe by myself, there actually is a contingent that 
>>views what I see as insulting responses as appropriate.
>>
>>---
>>From:   ivo welch <ivo.welch@yale.edu>
>>
>>ladies and gents:
>>
>>I have posted a couple of simple questions recently. As often
>>    
>>
>happens 
>  
>
>>to novices, the information was there somewhere, even in front of my
>>    
>>
>
>  
>
>>eyes, and I just did not see it. I looked in docs that seemed 
>>to me to 
>>be the right place for this particular information, but did 
>>not find it. 
>>There is no question: mea culpa, and everything is documented 
>>somewhere 
>>in R. (Worst comes to worst, it is documented in the source.)
>>
>>But here comes my complaint: I tried to help by documenting 
>>where I got 
>>lost, and by suggesting simple one-liners for the 
>>documentation, which 
>>would provide additional cross-references to what I was looking for.
>>    
>>
>
>  
>
>>The cost of adding additional brief sentences to the help must be 
>>relatively small, and the help to stuck novices may be 
>>considerable in 
>>reducing the learning curve. For my specific examples, I suggested a
>>    
>>
>
>  
>
>>reference to q() in ?exit, and a "select= -c(v1,v2)" to ?subset.
>>
>>Clearly, the information is redundant. (Of course, in a sense, all 
>>documentation is redundant.) The goal of good documentation should
>>    
>>
>be 
>  
>
>>to help novice users who do not know the answer. The goal 
>>should not be 
>>minimum redundancy in the help files. Being fairly new to R, I see 
>>difficulties where Brian Ripley and other experts and developers no 
>>longer do. I bet that if I wonder about the answers, I am more than 
>>likely not alone. In fact, I think it would really make sense to 
>>improve the docs by studying where novices get stuck.
>>
>>I was told by Brian to stop sending such suggestions, in order not
>>    
>>
>to 
>  
>
>>clutter the R bug report list. OK, I can save my time; I just 
>>wanted to 
>>help. But, for others' sake, please reconsider the policy of not 
>>gearing the internal R documentation for novices like myself.
>>
>>I will butt out here.
>>
>>regards,
>>
>>/ivo
>>
>>PS: Incidentally, the R help seems a little schizophrenic. For 
>>example, Brian Ripley is the most helpful source for learning R
>>    
>>
>(both 
>  
>
>>books and posts), and I am rather grateful for it. I just do not 
>>understand why, at the same time, he seems to be annoyed 
>>while fielding 
>>questions of the r-help post-list. He is not the only individual who
>>    
>>
>
>  
>
>>likes to help, but grudgingly so...
>>
>>______________________________________________
>>R-devel@stat.math.ethz.ch mailing list 
>>https://www.stat.math.ethz.ch/mailma> n/listinfo/r-devel
>>
>>
>>    
>>
>
>  
>

From andy_liaw at merck.com  Mon Mar 29 16:13:27 2004
From: andy_liaw at merck.com (Liaw, Andy)
Date: Mon Mar 29 16:14:02 2004
Subject: [Rd] Help Documentation
Message-ID: <3A822319EB35174CA3714066D590DCD504AF7AB5@usrymx25.merck.com>

Ivo,

Let me address your points in reverse order:

1. There is a `wishlist' category for bug reports, which I guess you've
overlooked.

2. There is also a `Contributed Documentation' section on the R web site,
which you can submit your contribution.  As well, there are a few
introductory level documents there already that you might be interested.

3. I must repectfully disagree about adding/changing the help pages just so
beginners or novices can learn R better.  If the help pages are your sole
source for learning R, I can only say that you could do a lot better.  The
help pages are supposed to be complete and accurate documentation of the
topics they cover.  The ones in R do a extremely good job at that, and, I
must say, are much more user-friendly than most *nix man pages.  

If you had familiarize yourself with just the official newbie doc, `An
Introduction to R', that would have solved most, if not all, of your
questions.  If you have not done that, there will be little enthusiasm to
what you have to propose.

Cheers,
Andy

> From: ivo welch
> 
> hi henrik (all):  A better solution would be to have levels: 
> set.help(level="beginner"), which then provides expanded explanations.
> 
> However, I do not think this is necessary: For the most part, 
> the online 
> R docs are great.  It is not more detailed explanations that 
> beginners 
> crave.  My primary wishes arise as I stumble onto a need, and 
> then wish 
> for a few more examples of different usage, a few more 
> cross-references 
> to other functions, and the rare additional help page (exit, delete 
> (explains data frame row and col del), insert (same thing)).  
> The first 
> two are usually literally one-liners, and unlikely to clutter 
> up much.  
> The latter is pretty easy, too.
> 
> If considered helpful by the R developers, I would try to learn Rd to 
> submit doc changes.  Alas, my feeling is that the reception would be 
> pretty cold ("not needed = redundant = no").  Is there someone "in 
> charge of" docs that I can ask whether this is in principle welcome?
> 
> Would it be useful to add to the R Bug Report submission web page a 
> pulldown field that classifies suggestions, one of which being 
> "documentation enhancement", so that Prof Ripley won't complain about 
> having to read these?  Maybe another pull-down field that classifies 
> error severity?
> 
> regards, /iaw
> 
> Henrik Bengtsson wrote:
> 
> >Dear all, 
> >
> >without taking sides here, I see two major advantage of keeping the
> >redundancy in any documentation minimal. First, it makes the
> >maintanance of the documentation as simple as possible. This in turn,
> >minimizes the risk for getting inconsistent documentation in new
> >updates. Otherwise, someone has to have a really good overview and
> >know where to update when, say, one default argument is 
> updated (or we
> >have to live with incorrect documentation).
> >
> >One possible solution to a documentation for beginners is to have a
> >separate package just for the documentation. In that package you can
> >document ?exit etc . Load the package and help.search("exit") will
> >find "anything" regard exitting. To get started with this you have to
> >know how to write Rd documentation (very similar to LaTeX). You'll
> >find details in the help; type help.start(). 
> >
> >Cheers
> >
> >Henrik
> >
> >  
> >
> >>-----Original Message-----
> >>From: r-devel-bounces@stat.math.ethz.ch 
> >>[mailto:r-devel-bounces@stat.math.ethz.ch] On Behalf Of Gabor 
> >>Grothendieck
> >>Sent: den 29 mars 2004 01:44
> >>To: ivo.welch@yale.edu
> >>Cc: R-bugs@biostat.ku.dk; r-devel@stat.math.ethz.ch
> >>Subject: RE: [Rd] Help Documentation
> >>
> >>
> >>
> >>
> >>I think many people share your view and are aghast at the 
> >>reception that some well-intentioned posts receive.  There 
> >>have been past discussions on this and many people feel the
> >>way you and I do.  
> >>
> >>Just to head off another round, let me acknowledge that 
> >>there appears to be multiple viewpoints and although hard 
> >>to believe by myself, there actually is a contingent that 
> >>views what I see as insulting responses as appropriate.
> >>
> >>---
> >>From:   ivo welch <ivo.welch@yale.edu>
> >>
> >>ladies and gents:
> >>
> >>I have posted a couple of simple questions recently. As often
> >>    
> >>
> >happens 
> >  
> >
> >>to novices, the information was there somewhere, even in front of my
> >>    
> >>
> >
> >  
> >
> >>eyes, and I just did not see it. I looked in docs that seemed 
> >>to me to 
> >>be the right place for this particular information, but did 
> >>not find it. 
> >>There is no question: mea culpa, and everything is documented 
> >>somewhere 
> >>in R. (Worst comes to worst, it is documented in the source.)
> >>
> >>But here comes my complaint: I tried to help by documenting 
> >>where I got 
> >>lost, and by suggesting simple one-liners for the 
> >>documentation, which 
> >>would provide additional cross-references to what I was looking for.
> >>    
> >>
> >
> >  
> >
> >>The cost of adding additional brief sentences to the help must be 
> >>relatively small, and the help to stuck novices may be 
> >>considerable in 
> >>reducing the learning curve. For my specific examples, I suggested a
> >>    
> >>
> >
> >  
> >
> >>reference to q() in ?exit, and a "select= -c(v1,v2)" to ?subset.
> >>
> >>Clearly, the information is redundant. (Of course, in a sense, all 
> >>documentation is redundant.) The goal of good documentation should
> >>    
> >>
> >be 
> >  
> >
> >>to help novice users who do not know the answer. The goal 
> >>should not be 
> >>minimum redundancy in the help files. Being fairly new to R, I see 
> >>difficulties where Brian Ripley and other experts and developers no 
> >>longer do. I bet that if I wonder about the answers, I am more than 
> >>likely not alone. In fact, I think it would really make sense to 
> >>improve the docs by studying where novices get stuck.
> >>
> >>I was told by Brian to stop sending such suggestions, in order not
> >>    
> >>
> >to 
> >  
> >
> >>clutter the R bug report list. OK, I can save my time; I just 
> >>wanted to 
> >>help. But, for others' sake, please reconsider the policy of not 
> >>gearing the internal R documentation for novices like myself.
> >>
> >>I will butt out here.
> >>
> >>regards,
> >>
> >>/ivo
> >>
> >>PS: Incidentally, the R help seems a little schizophrenic. For 
> >>example, Brian Ripley is the most helpful source for learning R
> >>    
> >>
> >(both 
> >  
> >
> >>books and posts), and I am rather grateful for it. I just do not 
> >>understand why, at the same time, he seems to be annoyed 
> >>while fielding 
> >>questions of the r-help post-list. He is not the only individual who
> >>    
> >>
> >
> >  
> >
> >>likes to help, but grudgingly so...
> >>
> >>______________________________________________
> >>R-devel@stat.math.ethz.ch mailing list 
> >>https://www.stat.math.ethz.ch/mailma> n/listinfo/r-devel
> >>
> >>
> >>    
> >>
> >
> >  
> >
> 
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
> 
>

From andy_liaw at merck.com  Mon Mar 29 16:14:30 2004
From: andy_liaw at merck.com (andy_liaw@merck.com)
Date: Mon Mar 29 16:14:35 2004
Subject: [Rd] Help Documentation (PR#6717)
Message-ID: <20040329141430.11BD6FB9A@slim.kubism.ku.dk>

Ivo,

Let me address your points in reverse order:

1. There is a `wishlist' category for bug reports, which I guess you've
overlooked.

2. There is also a `Contributed Documentation' section on the R web site,
which you can submit your contribution.  As well, there are a few
introductory level documents there already that you might be interested.

3. I must repectfully disagree about adding/changing the help pages just so
beginners or novices can learn R better.  If the help pages are your sole
source for learning R, I can only say that you could do a lot better.  The
help pages are supposed to be complete and accurate documentation of the
topics they cover.  The ones in R do a extremely good job at that, and, I
must say, are much more user-friendly than most *nix man pages.  

If you had familiarize yourself with just the official newbie doc, `An
Introduction to R', that would have solved most, if not all, of your
questions.  If you have not done that, there will be little enthusiasm to
what you have to propose.

Cheers,
Andy

> From: ivo welch
> 
> hi henrik (all):  A better solution would be to have levels: 
> set.help(level="beginner"), which then provides expanded explanations.
> 
> However, I do not think this is necessary: For the most part, 
> the online 
> R docs are great.  It is not more detailed explanations that 
> beginners 
> crave.  My primary wishes arise as I stumble onto a need, and 
> then wish 
> for a few more examples of different usage, a few more 
> cross-references 
> to other functions, and the rare additional help page (exit, delete 
> (explains data frame row and col del), insert (same thing)).  
> The first 
> two are usually literally one-liners, and unlikely to clutter 
> up much.  
> The latter is pretty easy, too.
> 
> If considered helpful by the R developers, I would try to learn Rd to 
> submit doc changes.  Alas, my feeling is that the reception would be 
> pretty cold ("not needed = redundant = no").  Is there someone "in 
> charge of" docs that I can ask whether this is in principle welcome?
> 
> Would it be useful to add to the R Bug Report submission web page a 
> pulldown field that classifies suggestions, one of which being 
> "documentation enhancement", so that Prof Ripley won't complain about 
> having to read these?  Maybe another pull-down field that classifies 
> error severity?
> 
> regards, /iaw
> 
> Henrik Bengtsson wrote:
> 
> >Dear all, 
> >
> >without taking sides here, I see two major advantage of keeping the
> >redundancy in any documentation minimal. First, it makes the
> >maintanance of the documentation as simple as possible. This in turn,
> >minimizes the risk for getting inconsistent documentation in new
> >updates. Otherwise, someone has to have a really good overview and
> >know where to update when, say, one default argument is 
> updated (or we
> >have to live with incorrect documentation).
> >
> >One possible solution to a documentation for beginners is to have a
> >separate package just for the documentation. In that package you can
> >document ?exit etc . Load the package and help.search("exit") will
> >find "anything" regard exitting. To get started with this you have to
> >know how to write Rd documentation (very similar to LaTeX). You'll
> >find details in the help; type help.start(). 
> >
> >Cheers
> >
> >Henrik
> >
> >  
> >
> >>-----Original Message-----
> >>From: r-devel-bounces@stat.math.ethz.ch 
> >>[mailto:r-devel-bounces@stat.math.ethz.ch] On Behalf Of Gabor 
> >>Grothendieck
> >>Sent: den 29 mars 2004 01:44
> >>To: ivo.welch@yale.edu
> >>Cc: R-bugs@biostat.ku.dk; r-devel@stat.math.ethz.ch
> >>Subject: RE: [Rd] Help Documentation
> >>
> >>
> >>
> >>
> >>I think many people share your view and are aghast at the 
> >>reception that some well-intentioned posts receive.  There 
> >>have been past discussions on this and many people feel the
> >>way you and I do.  
> >>
> >>Just to head off another round, let me acknowledge that 
> >>there appears to be multiple viewpoints and although hard 
> >>to believe by myself, there actually is a contingent that 
> >>views what I see as insulting responses as appropriate.
> >>
> >>---
> >>From:   ivo welch <ivo.welch@yale.edu>
> >>
> >>ladies and gents:
> >>
> >>I have posted a couple of simple questions recently. As often
> >>    
> >>
> >happens 
> >  
> >
> >>to novices, the information was there somewhere, even in front of my
> >>    
> >>
> >
> >  
> >
> >>eyes, and I just did not see it. I looked in docs that seemed 
> >>to me to 
> >>be the right place for this particular information, but did 
> >>not find it. 
> >>There is no question: mea culpa, and everything is documented 
> >>somewhere 
> >>in R. (Worst comes to worst, it is documented in the source.)
> >>
> >>But here comes my complaint: I tried to help by documenting 
> >>where I got 
> >>lost, and by suggesting simple one-liners for the 
> >>documentation, which 
> >>would provide additional cross-references to what I was looking for.
> >>    
> >>
> >
> >  
> >
> >>The cost of adding additional brief sentences to the help must be 
> >>relatively small, and the help to stuck novices may be 
> >>considerable in 
> >>reducing the learning curve. For my specific examples, I suggested a
> >>    
> >>
> >
> >  
> >
> >>reference to q() in ?exit, and a "select= -c(v1,v2)" to ?subset.
> >>
> >>Clearly, the information is redundant. (Of course, in a sense, all 
> >>documentation is redundant.) The goal of good documentation should
> >>    
> >>
> >be 
> >  
> >
> >>to help novice users who do not know the answer. The goal 
> >>should not be 
> >>minimum redundancy in the help files. Being fairly new to R, I see 
> >>difficulties where Brian Ripley and other experts and developers no 
> >>longer do. I bet that if I wonder about the answers, I am more than 
> >>likely not alone. In fact, I think it would really make sense to 
> >>improve the docs by studying where novices get stuck.
> >>
> >>I was told by Brian to stop sending such suggestions, in order not
> >>    
> >>
> >to 
> >  
> >
> >>clutter the R bug report list. OK, I can save my time; I just 
> >>wanted to 
> >>help. But, for others' sake, please reconsider the policy of not 
> >>gearing the internal R documentation for novices like myself.
> >>
> >>I will butt out here.
> >>
> >>regards,
> >>
> >>/ivo
> >>
> >>PS: Incidentally, the R help seems a little schizophrenic. For 
> >>example, Brian Ripley is the most helpful source for learning R
> >>    
> >>
> >(both 
> >  
> >
> >>books and posts), and I am rather grateful for it. I just do not 
> >>understand why, at the same time, he seems to be annoyed 
> >>while fielding 
> >>questions of the r-help post-list. He is not the only individual who
> >>    
> >>
> >
> >  
> >
> >>likes to help, but grudgingly so...
> >>
> >>______________________________________________
> >>R-devel@stat.math.ethz.ch mailing list 
> >>https://www.stat.math.ethz.ch/mailma> n/listinfo/r-devel
> >>
> >>
> >>    
> >>
> >
> >  
> >
> 
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
> 
>

From hb at maths.lth.se  Mon Mar 29 16:20:59 2004
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Mon Mar 29 16:21:08 2004
Subject: [Rd] Help Documentation
In-Reply-To: <3A822319EB35174CA3714066D590DCD504AF7AB5@usrymx25.merck.com>
Message-ID: <000101c41599$0f0c4b20$e502eb82@maths.lth.se>

Nothing to do with the topic, but before "reporting more bugs", maybe
this thread should stop sending Cc: to R-bugs@biostat.ku.dk. That's
why all messages show up twice (once with and once without "PR#nnnn"
in the subject). I did the same mistake earlier today.

Cheers

Henrik

> -----Original Message-----
> From: Liaw, Andy [mailto:andy_liaw@merck.com] 
> Sent: den 29 mars 2004 16:13
> To: 'ivo welch'; Henrik Bengtsson
> Cc: R-bugs@biostat.ku.dk; r-devel@stat.math.ethz.ch
> Subject: RE: [Rd] Help Documentation
> 
> 
> Ivo,
> 
> Let me address your points in reverse order:
> 
> 1. There is a `wishlist' category for bug reports, which I 
> guess you've overlooked.
> 
> 2. There is also a `Contributed Documentation' section on the 
> R web site, which you can submit your contribution.  As well, 
> there are a few introductory level documents there already 
> that you might be interested.
> 
> 3. I must repectfully disagree about adding/changing the help 
> pages just so beginners or novices can learn R better.  If 
> the help pages are your sole source for learning R, I can 
> only say that you could do a lot better.  The help pages are 
> supposed to be complete and accurate documentation of the 
> topics they cover.  The ones in R do a extremely good job at 
> that, and, I must say, are much more user-friendly than most 
> *nix man pages.  
> 
> If you had familiarize yourself with just the official newbie 
> doc, `An Introduction to R', that would have solved most, if 
> not all, of your questions.  If you have not done that, there 
> will be little enthusiasm to what you have to propose.
> 
> Cheers,
> Andy
> 
> > From: ivo welch
> > 
> > hi henrik (all):  A better solution would be to have levels:
> > set.help(level="beginner"), which then provides expanded 
> explanations.
> > 
> > However, I do not think this is necessary: For the most part,
> > the online 
> > R docs are great.  It is not more detailed explanations that 
> > beginners 
> > crave.  My primary wishes arise as I stumble onto a need, and 
> > then wish 
> > for a few more examples of different usage, a few more 
> > cross-references 
> > to other functions, and the rare additional help page (exit,
delete 
> > (explains data frame row and col del), insert (same thing)).  
> > The first 
> > two are usually literally one-liners, and unlikely to clutter 
> > up much.  
> > The latter is pretty easy, too.
> > 
> > If considered helpful by the R developers, I would try to 
> learn Rd to
> > submit doc changes.  Alas, my feeling is that the reception 
> would be 
> > pretty cold ("not needed = redundant = no").  Is there someone "in

> > charge of" docs that I can ask whether this is in principle
welcome?
> > 
> > Would it be useful to add to the R Bug Report submission web page
a
> > pulldown field that classifies suggestions, one of which being 
> > "documentation enhancement", so that Prof Ripley won't 
> complain about 
> > having to read these?  Maybe another pull-down field that 
> classifies 
> > error severity?
> > 
> > regards, /iaw
> > 
> > Henrik Bengtsson wrote:
> > 
> > >Dear all,
> > >
> > >without taking sides here, I see two major advantage of 
> keeping the 
> > >redundancy in any documentation minimal. First, it makes the 
> > >maintanance of the documentation as simple as possible. 
> This in turn, 
> > >minimizes the risk for getting inconsistent documentation in new 
> > >updates. Otherwise, someone has to have a really good overview
and 
> > >know where to update when, say, one default argument is
> > updated (or we
> > >have to live with incorrect documentation).
> > >
> > >One possible solution to a documentation for beginners is 
> to have a 
> > >separate package just for the documentation. In that 
> package you can 
> > >document ?exit etc . Load the package and help.search("exit")
will 
> > >find "anything" regard exitting. To get started with this 
> you have to 
> > >know how to write Rd documentation (very similar to LaTeX).
You'll 
> > >find details in the help; type help.start().
> > >
> > >Cheers
> > >
> > >Henrik
> > >
> > >  
> > >
> > >>-----Original Message-----
> > >>From: r-devel-bounces@stat.math.ethz.ch
> > >>[mailto:r-devel-bounces@stat.math.ethz.ch] On Behalf Of Gabor 
> > >>Grothendieck
> > >>Sent: den 29 mars 2004 01:44
> > >>To: ivo.welch@yale.edu
> > >>Cc: R-bugs@biostat.ku.dk; r-devel@stat.math.ethz.ch
> > >>Subject: RE: [Rd] Help Documentation
> > >>
> > >>
> > >>
> > >>
> > >>I think many people share your view and are aghast at the
> > >>reception that some well-intentioned posts receive.  There 
> > >>have been past discussions on this and many people feel the
> > >>way you and I do.  
> > >>
> > >>Just to head off another round, let me acknowledge that
> > >>there appears to be multiple viewpoints and although hard 
> > >>to believe by myself, there actually is a contingent that 
> > >>views what I see as insulting responses as appropriate.
> > >>
> > >>---
> > >>From:   ivo welch <ivo.welch@yale.edu>
> > >>
> > >>ladies and gents:
> > >>
> > >>I have posted a couple of simple questions recently. As often
> > >>    
> > >>
> > >happens
> > >  
> > >
> > >>to novices, the information was there somewhere, even in 
> front of my
> > >>    
> > >>
> > >
> > >  
> > >
> > >>eyes, and I just did not see it. I looked in docs that seemed
> > >>to me to 
> > >>be the right place for this particular information, but did 
> > >>not find it. 
> > >>There is no question: mea culpa, and everything is documented 
> > >>somewhere 
> > >>in R. (Worst comes to worst, it is documented in the source.)
> > >>
> > >>But here comes my complaint: I tried to help by documenting
> > >>where I got 
> > >>lost, and by suggesting simple one-liners for the 
> > >>documentation, which 
> > >>would provide additional cross-references to what I was 
> looking for.
> > >>    
> > >>
> > >
> > >  
> > >
> > >>The cost of adding additional brief sentences to the help must
be
> > >>relatively small, and the help to stuck novices may be 
> > >>considerable in 
> > >>reducing the learning curve. For my specific examples, I 
> suggested a
> > >>    
> > >>
> > >
> > >  
> > >
> > >>reference to q() in ?exit, and a "select= -c(v1,v2)" to ?subset.
> > >>
> > >>Clearly, the information is redundant. (Of course, in a sense,
all
> > >>documentation is redundant.) The goal of good documentation
should
> > >>    
> > >>
> > >be
> > >  
> > >
> > >>to help novice users who do not know the answer. The goal
> > >>should not be 
> > >>minimum redundancy in the help files. Being fairly new to 
> R, I see 
> > >>difficulties where Brian Ripley and other experts and 
> developers no 
> > >>longer do. I bet that if I wonder about the answers, I am 
> more than 
> > >>likely not alone. In fact, I think it would really make sense to

> > >>improve the docs by studying where novices get stuck.
> > >>
> > >>I was told by Brian to stop sending such suggestions, in order
not
> > >>    
> > >>
> > >to
> > >  
> > >
> > >>clutter the R bug report list. OK, I can save my time; I just
> > >>wanted to 
> > >>help. But, for others' sake, please reconsider the policy of not

> > >>gearing the internal R documentation for novices like myself.
> > >>
> > >>I will butt out here.
> > >>
> > >>regards,
> > >>
> > >>/ivo
> > >>
> > >>PS: Incidentally, the R help seems a little schizophrenic. For
> > >>example, Brian Ripley is the most helpful source for learning R
> > >>    
> > >>
> > >(both
> > >  
> > >
> > >>books and posts), and I am rather grateful for it. I just do not
> > >>understand why, at the same time, he seems to be annoyed 
> > >>while fielding 
> > >>questions of the r-help post-list. He is not the only 
> individual who
> > >>    
> > >>
> > >
> > >  
> > >
> > >>likes to help, but grudgingly so...
> > >>
> > >>______________________________________________
> > >>R-devel@stat.math.ethz.ch mailing list
> > >>https://www.stat.math.ethz.ch/mailma> n/listinfo/r-devel
> > >>
> > >>
> > >>    
> > >>
> > >
> > >  
> > >
> > 
> > ______________________________________________
> > R-devel@stat.math.ethz.ch mailing list 
> > https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
> > 
> > 
> 
> 
> --------------------------------------------------------------
> ----------------
> Notice:  This e-mail message, together with any attachments, 
> contains information of Merck & Co., Inc. (One Merck Drive, 
> Whitehouse Station, New Jersey, USA 08889), and/or its 
> affiliates (which may be known outside the United States as 
> Merck Frosst, Merck Sharp & Dohme or MSD and in Japan, as 
> Banyu) that may be confidential, proprietary copyrighted 
> and/or legally privileged. It is intended solely for the use 
> of the individual or entity named on this message.  If you 
> are not the intended recipient, and have received this 
> message in error, please notify us immediately by reply 
> e-mail and then delete it from your system.
> --------------------------------------------------------------
> ----------------
> 
>

From ivo.welch at yale.edu  Mon Mar 29 16:24:19 2004
From: ivo.welch at yale.edu (ivo welch)
Date: Mon Mar 29 16:24:22 2004
Subject: [Rd] Help Documentation
In-Reply-To: <3A822319EB35174CA3714066D590DCD504AF7AB5@usrymx25.merck.com>
References: <3A822319EB35174CA3714066D590DCD504AF7AB5@usrymx25.merck.com>
Message-ID: <40683193.607@yale.edu>


hi andy:  actually, I read it 3 times, just not the day when I wanted to 
do some stats.  I had not memorized the contents.  I also looked at prof 
brian ripley's book.  I even overlooked the fact that quit() I am not 
suggesting making them learner pages, just pages that are slightly more 
suitable for learners.

but I think your point is well taken: not much enthusiasm for what I 
would want to add: a tiny bit more redundancy.

regards, /iaw


Liaw, Andy wrote:
> Ivo,
> 
> Let me address your points in reverse order:
> 
> 1. There is a `wishlist' category for bug reports, which I guess you've
> overlooked.
> 
> 2. There is also a `Contributed Documentation' section on the R web site,
> which you can submit your contribution.  As well, there are a few
> introductory level documents there already that you might be interested.
> 
> 3. I must repectfully disagree about adding/changing the help pages just so
> beginners or novices can learn R better.  If the help pages are your sole
> source for learning R, I can only say that you could do a lot better.  The
> help pages are supposed to be complete and accurate documentation of the
> topics they cover.  The ones in R do a extremely good job at that, and, I
> must say, are much more user-friendly than most *nix man pages.  
> 
> If you had familiarize yourself with just the official newbie doc, `An
> Introduction to R', that would have solved most, if not all, of your
> questions.  If you have not done that, there will be little enthusiasm to
> what you have to propose.
> 
> Cheers,
> Andy
> 
> 
>>From: ivo welch
>>
>>hi henrik (all):  A better solution would be to have levels: 
>>set.help(level="beginner"), which then provides expanded explanations.
>>
>>However, I do not think this is necessary: For the most part, 
>>the online 
>>R docs are great.  It is not more detailed explanations that 
>>beginners 
>>crave.  My primary wishes arise as I stumble onto a need, and 
>>then wish 
>>for a few more examples of different usage, a few more 
>>cross-references 
>>to other functions, and the rare additional help page (exit, delete 
>>(explains data frame row and col del), insert (same thing)).  
>>The first 
>>two are usually literally one-liners, and unlikely to clutter 
>>up much.  
>>The latter is pretty easy, too.
>>
>>If considered helpful by the R developers, I would try to learn Rd to 
>>submit doc changes.  Alas, my feeling is that the reception would be 
>>pretty cold ("not needed = redundant = no").  Is there someone "in 
>>charge of" docs that I can ask whether this is in principle welcome?
>>
>>Would it be useful to add to the R Bug Report submission web page a 
>>pulldown field that classifies suggestions, one of which being 
>>"documentation enhancement", so that Prof Ripley won't complain about 
>>having to read these?  Maybe another pull-down field that classifies 
>>error severity?
>>
>>regards, /iaw
>>
>>Henrik Bengtsson wrote:
>>
>>
>>>Dear all, 
>>>
>>>without taking sides here, I see two major advantage of keeping the
>>>redundancy in any documentation minimal. First, it makes the
>>>maintanance of the documentation as simple as possible. This in turn,
>>>minimizes the risk for getting inconsistent documentation in new
>>>updates. Otherwise, someone has to have a really good overview and
>>>know where to update when, say, one default argument is 
>>
>>updated (or we
>>
>>>have to live with incorrect documentation).
>>>
>>>One possible solution to a documentation for beginners is to have a
>>>separate package just for the documentation. In that package you can
>>>document ?exit etc . Load the package and help.search("exit") will
>>>find "anything" regard exitting. To get started with this you have to
>>>know how to write Rd documentation (very similar to LaTeX). You'll
>>>find details in the help; type help.start(). 
>>>
>>>Cheers
>>>
>>>Henrik
>>>
>>> 
>>>
>>>
>>>>-----Original Message-----
>>>>From: r-devel-bounces@stat.math.ethz.ch 
>>>>[mailto:r-devel-bounces@stat.math.ethz.ch] On Behalf Of Gabor 
>>>>Grothendieck
>>>>Sent: den 29 mars 2004 01:44
>>>>To: ivo.welch@yale.edu
>>>>Cc: R-bugs@biostat.ku.dk; r-devel@stat.math.ethz.ch
>>>>Subject: RE: [Rd] Help Documentation
>>>>
>>>>
>>>>
>>>>
>>>>I think many people share your view and are aghast at the 
>>>>reception that some well-intentioned posts receive.  There 
>>>>have been past discussions on this and many people feel the
>>>>way you and I do.  
>>>>
>>>>Just to head off another round, let me acknowledge that 
>>>>there appears to be multiple viewpoints and although hard 
>>>>to believe by myself, there actually is a contingent that 
>>>>views what I see as insulting responses as appropriate.
>>>>
>>>>---
>>>>From:   ivo welch <ivo.welch@yale.edu>
>>>>
>>>>ladies and gents:
>>>>
>>>>I have posted a couple of simple questions recently. As often
>>>>   
>>>>
>>>
>>>happens 
>>> 
>>>
>>>
>>>>to novices, the information was there somewhere, even in front of my
>>>>   
>>>>
>>>
>>> 
>>>
>>>
>>>>eyes, and I just did not see it. I looked in docs that seemed 
>>>>to me to 
>>>>be the right place for this particular information, but did 
>>>>not find it. 
>>>>There is no question: mea culpa, and everything is documented 
>>>>somewhere 
>>>>in R. (Worst comes to worst, it is documented in the source.)
>>>>
>>>>But here comes my complaint: I tried to help by documenting 
>>>>where I got 
>>>>lost, and by suggesting simple one-liners for the 
>>>>documentation, which 
>>>>would provide additional cross-references to what I was looking for.
>>>>   
>>>>
>>>
>>> 
>>>
>>>
>>>>The cost of adding additional brief sentences to the help must be 
>>>>relatively small, and the help to stuck novices may be 
>>>>considerable in 
>>>>reducing the learning curve. For my specific examples, I suggested a
>>>>   
>>>>
>>>
>>> 
>>>
>>>
>>>>reference to q() in ?exit, and a "select= -c(v1,v2)" to ?subset.
>>>>
>>>>Clearly, the information is redundant. (Of course, in a sense, all 
>>>>documentation is redundant.) The goal of good documentation should
>>>>   
>>>>
>>>
>>>be 
>>> 
>>>
>>>
>>>>to help novice users who do not know the answer. The goal 
>>>>should not be 
>>>>minimum redundancy in the help files. Being fairly new to R, I see 
>>>>difficulties where Brian Ripley and other experts and developers no 
>>>>longer do. I bet that if I wonder about the answers, I am more than 
>>>>likely not alone. In fact, I think it would really make sense to 
>>>>improve the docs by studying where novices get stuck.
>>>>
>>>>I was told by Brian to stop sending such suggestions, in order not
>>>>   
>>>>
>>>
>>>to 
>>> 
>>>
>>>
>>>>clutter the R bug report list. OK, I can save my time; I just 
>>>>wanted to 
>>>>help. But, for others' sake, please reconsider the policy of not 
>>>>gearing the internal R documentation for novices like myself.
>>>>
>>>>I will butt out here.
>>>>
>>>>regards,
>>>>
>>>>/ivo
>>>>
>>>>PS: Incidentally, the R help seems a little schizophrenic. For 
>>>>example, Brian Ripley is the most helpful source for learning R
>>>>   
>>>>
>>>
>>>(both 
>>> 
>>>
>>>
>>>>books and posts), and I am rather grateful for it. I just do not 
>>>>understand why, at the same time, he seems to be annoyed 
>>>>while fielding 
>>>>questions of the r-help post-list. He is not the only individual who
>>>>   
>>>>
>>>
>>> 
>>>
>>>
>>>>likes to help, but grudgingly so...
>>>>
>>>>______________________________________________
>>>>R-devel@stat.math.ethz.ch mailing list 
>>>>https://www.stat.math.ethz.ch/mailma> n/listinfo/r-devel
>>>>
>>>>
>>>>   
>>>>
>>>
>>> 
>>>
>>
>>______________________________________________
>>R-devel@stat.math.ethz.ch mailing list
>>https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>>
>>
> 
> 
> 
> ------------------------------------------------------------------------------
> Notice:  This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (One Merck Drive, Whitehouse Station, New Jersey, USA 08889), and/or its affiliates (which may be known outside the United States as Merck Frosst, Merck Sharp & Dohme or MSD and in Japan, as Banyu) that may be confidential, proprietary copyrighted and/or legally privileged. It is intended solely for the use of the individual or entity named on this message.  If you are not the intended recipient, and have received this message in error, please notify us immediately by reply e-mail and then delete it from your system.
> ------------------------------------------------------------------------------

From tlumley at u.washington.edu  Mon Mar 29 16:41:20 2004
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon Mar 29 16:41:27 2004
Subject: [Rd] R-bugs is for BUGS (was Help Documentation (PR#6717))
In-Reply-To: <20040329141430.11BD6FB9A@slim.kubism.ku.dk>
References: <20040329141430.11BD6FB9A@slim.kubism.ku.dk>
Message-ID: <Pine.A41.4.58.0403290638050.66128@homer05.u.washington.edu>


Everyone,

While this has been in some ways a useful discussion, the most important
part of Brian's initial complaint was that the messages were sent to
R-bugs.  All this follow-up discussion has *also* been sent to R-bugs,
often by people who know better.

If it isn't a bug report, *don't send it to R-bugs.*

	-thomas


On Mon, 29 Mar 2004 andy_liaw@merck.com wrote:

> Ivo,
>
> Let me address your points in reverse order:
>
> 1. There is a `wishlist' category for bug reports, which I guess you've
> overlooked.
>
> 2. There is also a `Contributed Documentation' section on the R web site,
> which you can submit your contribution.  As well, there are a few
> introductory level documents there already that you might be interested.
>
> 3. I must repectfully disagree about adding/changing the help pages just so
> beginners or novices can learn R better.  If the help pages are your sole
> source for learning R, I can only say that you could do a lot better.  The
> help pages are supposed to be complete and accurate documentation of the
> topics they cover.  The ones in R do a extremely good job at that, and, I
> must say, are much more user-friendly than most *nix man pages.
>
> If you had familiarize yourself with just the official newbie doc, `An
> Introduction to R', that would have solved most, if not all, of your
> questions.  If you have not done that, there will be little enthusiasm to
> what you have to propose.
>
> Cheers,
> Andy
>
> > From: ivo welch
> >
> > hi henrik (all):  A better solution would be to have levels:
> > set.help(level="beginner"), which then provides expanded explanations.
> >
> > However, I do not think this is necessary: For the most part,
> > the online
> > R docs are great.  It is not more detailed explanations that
> > beginners
> > crave.  My primary wishes arise as I stumble onto a need, and
> > then wish
> > for a few more examples of different usage, a few more
> > cross-references
> > to other functions, and the rare additional help page (exit, delete
> > (explains data frame row and col del), insert (same thing)).
> > The first
> > two are usually literally one-liners, and unlikely to clutter
> > up much.
> > The latter is pretty easy, too.
> >
> > If considered helpful by the R developers, I would try to learn Rd to
> > submit doc changes.  Alas, my feeling is that the reception would be
> > pretty cold ("not needed = redundant = no").  Is there someone "in
> > charge of" docs that I can ask whether this is in principle welcome?
> >
> > Would it be useful to add to the R Bug Report submission web page a
> > pulldown field that classifies suggestions, one of which being
> > "documentation enhancement", so that Prof Ripley won't complain about
> > having to read these?  Maybe another pull-down field that classifies
> > error severity?
> >
> > regards, /iaw
> >
> > Henrik Bengtsson wrote:
> >
> > >Dear all,
> > >
> > >without taking sides here, I see two major advantage of keeping the
> > >redundancy in any documentation minimal. First, it makes the
> > >maintanance of the documentation as simple as possible. This in turn,
> > >minimizes the risk for getting inconsistent documentation in new
> > >updates. Otherwise, someone has to have a really good overview and
> > >know where to update when, say, one default argument is
> > updated (or we
> > >have to live with incorrect documentation).
> > >
> > >One possible solution to a documentation for beginners is to have a
> > >separate package just for the documentation. In that package you can
> > >document ?exit etc . Load the package and help.search("exit") will
> > >find "anything" regard exitting. To get started with this you have to
> > >know how to write Rd documentation (very similar to LaTeX). You'll
> > >find details in the help; type help.start().
> > >
> > >Cheers
> > >
> > >Henrik
> > >
> > >
> > >
> > >>-----Original Message-----
> > >>From: r-devel-bounces@stat.math.ethz.ch
> > >>[mailto:r-devel-bounces@stat.math.ethz.ch] On Behalf Of Gabor
> > >>Grothendieck
> > >>Sent: den 29 mars 2004 01:44
> > >>To: ivo.welch@yale.edu
> > >>Cc: R-bugs@biostat.ku.dk; r-devel@stat.math.ethz.ch
> > >>Subject: RE: [Rd] Help Documentation
> > >>
> > >>
> > >>
> > >>
> > >>I think many people share your view and are aghast at the
> > >>reception that some well-intentioned posts receive.  There
> > >>have been past discussions on this and many people feel the
> > >>way you and I do.
> > >>
> > >>Just to head off another round, let me acknowledge that
> > >>there appears to be multiple viewpoints and although hard
> > >>to believe by myself, there actually is a contingent that
> > >>views what I see as insulting responses as appropriate.
> > >>
> > >>---
> > >>From:   ivo welch <ivo.welch@yale.edu>
> > >>
> > >>ladies and gents:
> > >>
> > >>I have posted a couple of simple questions recently. As often
> > >>
> > >>
> > >happens
> > >
> > >
> > >>to novices, the information was there somewhere, even in front of my
> > >>
> > >>
> > >
> > >
> > >
> > >>eyes, and I just did not see it. I looked in docs that seemed
> > >>to me to
> > >>be the right place for this particular information, but did
> > >>not find it.
> > >>There is no question: mea culpa, and everything is documented
> > >>somewhere
> > >>in R. (Worst comes to worst, it is documented in the source.)
> > >>
> > >>But here comes my complaint: I tried to help by documenting
> > >>where I got
> > >>lost, and by suggesting simple one-liners for the
> > >>documentation, which
> > >>would provide additional cross-references to what I was looking for.
> > >>
> > >>
> > >
> > >
> > >
> > >>The cost of adding additional brief sentences to the help must be
> > >>relatively small, and the help to stuck novices may be
> > >>considerable in
> > >>reducing the learning curve. For my specific examples, I suggested a
> > >>
> > >>
> > >
> > >
> > >
> > >>reference to q() in ?exit, and a "select= -c(v1,v2)" to ?subset.
> > >>
> > >>Clearly, the information is redundant. (Of course, in a sense, all
> > >>documentation is redundant.) The goal of good documentation should
> > >>
> > >>
> > >be
> > >
> > >
> > >>to help novice users who do not know the answer. The goal
> > >>should not be
> > >>minimum redundancy in the help files. Being fairly new to R, I see
> > >>difficulties where Brian Ripley and other experts and developers no
> > >>longer do. I bet that if I wonder about the answers, I am more than
> > >>likely not alone. In fact, I think it would really make sense to
> > >>improve the docs by studying where novices get stuck.
> > >>
> > >>I was told by Brian to stop sending such suggestions, in order not
> > >>
> > >>
> > >to
> > >
> > >
> > >>clutter the R bug report list. OK, I can save my time; I just
> > >>wanted to
> > >>help. But, for others' sake, please reconsider the policy of not
> > >>gearing the internal R documentation for novices like myself.
> > >>
> > >>I will butt out here.
> > >>
> > >>regards,
> > >>
> > >>/ivo
> > >>
> > >>PS: Incidentally, the R help seems a little schizophrenic. For
> > >>example, Brian Ripley is the most helpful source for learning R
> > >>
> > >>
> > >(both
> > >
> > >
> > >>books and posts), and I am rather grateful for it. I just do not
> > >>understand why, at the same time, he seems to be annoyed
> > >>while fielding
> > >>questions of the r-help post-list. He is not the only individual who
> > >>
> > >>
> > >
> > >
> > >
> > >>likes to help, but grudgingly so...
> > >>
> > >>______________________________________________
> > >>R-devel@stat.math.ethz.ch mailing list
> > >>https://www.stat.math.ethz.ch/mailma> n/listinfo/r-devel
> > >>
> > >>
> > >>
> > >>
> > >
> > >
> > >
> >
> > ______________________________________________
> > R-devel@stat.math.ethz.ch mailing list
> > https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
> >
> >
>
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>

Thomas Lumley			Assoc. Professor, Biostatistics
tlumley@u.washington.edu	University of Washington, Seattle

From dmurdoch at pair.com  Mon Mar 29 16:54:17 2004
From: dmurdoch at pair.com (Duncan Murdoch)
Date: Mon Mar 29 16:58:53 2004
Subject: [Rd] Help Documentation
In-Reply-To: <40682492.5050805@yale.edu>
References: <004601c4155e$cf389ec0$e502eb82@maths.lth.se>
	<40682492.5050805@yale.edu>
Message-ID: <hldg6019b2fjlna6lgp3grgfjsjo2a1fps@4ax.com>

On Mon, 29 Mar 2004 08:28:50 -0500, ivo welch <ivo.welch@yale.edu>
wrote :

>If considered helpful by the R developers, I would try to learn Rd to 
>submit doc changes.  Alas, my feeling is that the reception would be 
>pretty cold ("not needed = redundant = no").  Is there someone "in 
>charge of" docs that I can ask whether this is in principle welcome?

Generally the R Core group is collectively in charge of documentation.

In practice, the person who last worked on a help page is the one who
is most likely to make more changes to it. You can find this out from
the CVS log.  

You can normally see a webified version of the log online, but I seem
to have misplaced the URL, and developer.r-project.org is offline.  

Duncan Murdoch

From dmurdoch at pair.com  Mon Mar 29 18:38:38 2004
From: dmurdoch at pair.com (Duncan Murdoch)
Date: Mon Mar 29 18:38:34 2004
Subject: [Rd] Help Documentation
In-Reply-To: <hldg6019b2fjlna6lgp3grgfjsjo2a1fps@4ax.com>
References: <004601c4155e$cf389ec0$e502eb82@maths.lth.se>
	<40682492.5050805@yale.edu>
	<hldg6019b2fjlna6lgp3grgfjsjo2a1fps@4ax.com>
Message-ID: <tqjg60hac9k2tcqt85bum99amlbbq076pn@4ax.com>

On Mon, 29 Mar 2004 09:54:17 -0500, Duncan Murdoch <dmurdoch@pair.com>
wrote :

>You can normally see a webified version of the log online, but I seem
>to have misplaced the URL, and developer.r-project.org is offline.  

Found it:  <http://anoncvs.r-project.org/cgi-bin/cvsweb.cgi/>.  Most
documentation is in R/src/library/<package>/man, with the manuals in
R/doc/manual.

Because of the package reorganization about 3 months ago, most of the
files in the stats package (and other files that got moved) show
limited revision history; you need to go to the "Attic" of the old
package to see the older history.  Generally the log comment at the
time of the move will tell you where to go.

Duncan Murdoch

From N-BIZET%NOTESESIEAADM at esiea.fr  Mon Mar 29 19:14:31 2004
From: N-BIZET%NOTESESIEAADM at esiea.fr (N-BIZET%NOTESESIEAADM@esiea.fr)
Date: Mon Mar 29 19:14:43 2004
Subject: [Rd] SAV a
 =?iso-8859-1?q?d=E9tect=E9_une_violation_dans_un_document_d?=
 =?iso-8859-1?q?ont_vous_=EAtes_l=27auteur=2E?=
Message-ID: <OFC60B7CC3.0EB70999-ONC1256E66.005EB6D0@esiea-ouest.fr>

Veuillez contacter votre administrateur syst?me.


Le document analys? a ?t? MIS EN QUARANTAINE.


Informations de violation :
La pi?ce jointe message.scr contenait le virus W32.Netsky.P@mm et N'a PAS
pu ?tre r?par?e.

From N-BIZET%NOTESESIEAADM at esiea.fr  Mon Mar 29 19:14:31 2004
From: N-BIZET%NOTESESIEAADM at esiea.fr (N-BIZET%NOTESESIEAADM@esiea.fr)
Date: Mon Mar 29 19:14:45 2004
Subject: [Rd] SAV a
 =?iso-8859-1?q?d=E9tect=E9_une_violation_dans_un_document_d?=
 =?iso-8859-1?q?ont_vous_=EAtes_l=27auteur=2E?=
Message-ID: <OFE79EF070.D422D679-ONC1256E66.005EB6BF@esiea-ouest.fr>

Veuillez contacter votre administrateur syst?me.


Le document analys? a ?t? MIS EN QUARANTAINE.


Informations de violation :
La pi?ce jointe message.scr contenait le virus W32.Netsky.P@mm et N'a PAS
pu ?tre r?par?e.

From pgilbert at bank-banque-canada.ca  Tue Mar 30 00:19:03 2004
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Tue Mar 30 00:19:24 2004
Subject: [Rd] Re:  How to purchase R on CD
In-Reply-To: <OF58A5FC51.33F12832-ON87256E66.005EDB5E-87256E66.00616B4B@blm.gov>
References: <OF58A5FC51.33F12832-ON87256E66.005EDB5E-87256E66.00616B4B@blm.gov>
Message-ID: <4068A0D7.5000602@bankofcanada.ca>

(moved from R to R-devel)

Other responses to this were along the lines of "how to buy a cheap 
CD,"   which may not be the way to think about what you are asking.   If 
the R Foundation were to sell an "as is" CD snapshot of some part of 
CRAN, how much would you be willing to pay for it?

Paul Gilbert

George_Heine@blm.gov wrote:

>
>
>My organization has a policy against "installing software downloaded from
>the Internet."  There is a waiver procedure, but it is difficult and
>lengthy.  It is much easier to get approval to purchase software, even if
>it is a CD copy of open-source.
>
>However, a search on r-project.org didn't seem to show any way of obtaining
>the distribution in this way.
>
>Any clues would be appreciated!
><>=<>=<>=<>=<>=<>=<>=<>=<>=<>=<>
>George Heine, PhD
>Mathematical Analyst
>National IRM Center
>U.S. Bureau of Land Management
>voice   (303) 236-0099
>fax       (303) 236-1974
>cell      (303) 905-5382
>pager   gheine@my2way.com
><>=<>=<>=<>=<>=<>=<>=<>=<>=<>=<>
>
>______________________________________________
>R-help@stat.math.ethz.ch mailing list
>https://www.stat.math.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide! http://www.R-project.org/posting-guide.html
>
>  
>

From andy_liaw at merck.com  Tue Mar 30 02:19:47 2004
From: andy_liaw at merck.com (Liaw, Andy)
Date: Tue Mar 30 02:20:20 2004
Subject: [Rd] Re:  How to purchase R on CD
Message-ID: <3A822319EB35174CA3714066D590DCD504AF7AC6@usrymx25.merck.com>

I was actually thinking along the same line.  How about a `live'
installation with Windows binary (including contrib packages)?  I know it's
possible for Windows (running live from CD).  Maybe the same can be done on
the same CD for other OS's (Mac and Linux)?  How about T-shirts and baseball
caps?  

Just my $0.02...

Andy

> From: Paul Gilbert
> 
> (moved from R to R-devel)
> 
> Other responses to this were along the lines of "how to buy a cheap 
> CD,"   which may not be the way to think about what you are 
> asking.   If 
> the R Foundation were to sell an "as is" CD snapshot of some part of 
> CRAN, how much would you be willing to pay for it?
> 
> Paul Gilbert
> 
> George_Heine@blm.gov wrote:
> 
> >
> >
> >My organization has a policy against "installing software 
> downloaded from
> >the Internet."  There is a waiver procedure, but it is difficult and
> >lengthy.  It is much easier to get approval to purchase 
> software, even if
> >it is a CD copy of open-source.
> >
> >However, a search on r-project.org didn't seem to show any 
> way of obtaining
> >the distribution in this way.
> >
> >Any clues would be appreciated!
> ><>=<>=<>=<>=<>=<>=<>=<>=<>=<>=<>
> >George Heine, PhD
> >Mathematical Analyst
> >National IRM Center
> >U.S. Bureau of Land Management
> >voice   (303) 236-0099
> >fax       (303) 236-1974
> >cell      (303) 905-5382
> >pager   gheine@my2way.com
> ><>=<>=<>=<>=<>=<>=<>=<>=<>=<>=<>
> >
> >______________________________________________
> >R-help@stat.math.ethz.ch mailing list
> >https://www.stat.math.ethz.ch/mailman/listinfo/r-help
> >PLEASE do read the posting guide! 
> http://www.R-project.org/posting-guide.html
> >
> >  
> >
> 
> 
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
> 
>

From NAVMSE-NTPOLY at poly-products.com.hk  Tue Mar 30 04:55:02 2004
From: NAVMSE-NTPOLY at poly-products.com.hk (NAV for Microsoft Exchange-NTPOLY)
Date: Tue Mar 30 04:48:09 2004
Subject: [Rd] (no subject)
Message-ID: <1CAC0A945FD9984993115687AEDB501538136E@NTPOLY>


From NAVMSE-NTPOLY at poly-products.com.hk  Tue Mar 30 05:15:35 2004
From: NAVMSE-NTPOLY at poly-products.com.hk (NAV for Microsoft Exchange-NTPOLY)
Date: Tue Mar 30 05:08:42 2004
Subject: [Rd] (no subject)
Message-ID: <1CAC0A945FD9984993115687AEDB5015381407@NTPOLY>


From NAVMSE-NTPOLY at poly-products.com.hk  Tue Mar 30 05:25:08 2004
From: NAVMSE-NTPOLY at poly-products.com.hk (NAV for Microsoft Exchange-NTPOLY)
Date: Tue Mar 30 05:18:16 2004
Subject: [Rd] (no subject)
Message-ID: <1CAC0A945FD9984993115687AEDB5015381494@NTPOLY>


From John.Marsland at CommerzbankIB.com  Tue Mar 30 13:39:14 2004
From: John.Marsland at CommerzbankIB.com (John.Marsland@CommerzbankIB.com)
Date: Tue Mar 30 13:39:16 2004
Subject: [Rd] seq.POSIXt() bug not fixed in R 1.8.1 (PR#4558)
Message-ID: <20040330113914.19D6AEFCF@slim.kubism.ku.dk>

I am still experiencing problems with seq.POSIXt() missing off the last day
of the series:

> seq(as.POSIXct("2004-03-25"),as.POSIXct("2004-03-31"),by="DSTdays")
[1] "2004-03-25 GMT Standard Time" "2004-03-26 GMT Standard Time"
"2004-03-27 GMT Standard Time"
[4] "2004-03-28 GMT Standard Time" "2004-03-29 GMT Daylight Time"
"2004-03-30 GMT Daylight Time"

> R.version
         _              
platform i386-pc-mingw32
arch     i386           
os       mingw32        
system   i386, mingw32  
status                  
major    1              
minor    8.1            
year     2003           
month    11             
day      21             
language R              

Regards,

John


********************************************************************** 
This is a commercial communication from Commerzbank AG.\ \ T...{{dropped}}

From edd at debian.org  Tue Mar 30 14:36:26 2004
From: edd at debian.org (Dirk Eddelbuettel)
Date: Tue Mar 30 14:36:33 2004
Subject: [Rd] seq.POSIXt() bug not fixed in R 1.8.1 (PR#4558)
In-Reply-To: <20040330113914.19D6AEFCF@slim.kubism.ku.dk>
References: <20040330113914.19D6AEFCF@slim.kubism.ku.dk>
Message-ID: <20040330123626.GA4223@sonny.eddelbuettel.com>

On Tue, Mar 30, 2004 at 01:39:14PM +0200, John.Marsland@CommerzbankIB.com wrote:
> I am still experiencing problems with seq.POSIXt() missing off the last day
> of the series:
> 
> > seq(as.POSIXct("2004-03-25"),as.POSIXct("2004-03-31"),by="DSTdays")
> [1] "2004-03-25 GMT Standard Time" "2004-03-26 GMT Standard Time"
> "2004-03-27 GMT Standard Time"
> [4] "2004-03-28 GMT Standard Time" "2004-03-29 GMT Daylight Time"
> "2004-03-30 GMT Daylight Time"
> 

FWIW, 1.9.0 can handle this fine (on Linux, at least): 

edd@homebud:~> R

R : Copyright 2004, The R Foundation for Statistical Computing
Version 1.9.0 beta (2004-03-21), ISBN 3-900051-00-3

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for a HTML browser interface to help.
Type 'q()' to quit R.

> seq(as.POSIXct("2004-03-25"),as.POSIXct("2004-03-31"),by="DSTdays")
[1] "2004-03-25 CST" "2004-03-26 CST" "2004-03-27 CST" "2004-03-28 CST"
[5] "2004-03-29 CST" "2004-03-30 CST" "2004-03-31 CST"
>


You may want to try one of Duncan's test builds of 1.9.0 for Windows.

Hth, Dirk


> > R.version
>          _              
> platform i386-pc-mingw32
> arch     i386           
> os       mingw32        
> system   i386, mingw32  
> status                  
> major    1              
> minor    8.1            
> year     2003           
> month    11             
> day      21             
> language R              
> 
> Regards,
> 
> John
> 
> 
> ********************************************************************** 
> This is a commercial communication from Commerzbank AG.\ \ T...{{dropped}}
> 
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
> 

-- 
The relationship between the computed price and reality is as yet unknown.  
                                             -- From the pac(8) manual page

From kestler at neuro.informatik.uni-ulm.de  Tue Mar 30 19:21:40 2004
From: kestler at neuro.informatik.uni-ulm.de (kestler@neuro.informatik.uni-ulm.de)
Date: Tue Mar 30 19:21:47 2004
Subject: [Rd] optim-Bug (PR#6720)
Message-ID: <20040330172140.8397D10432@slim.kubism.ku.dk>

Full_Name: Dr. Hans A. Kestler
Version: 1.8.1.
OS: Linux, Win, Mac OSX
Submission from: (NULL) (134.60.73.116)


The code below produces after a different number of iterations i the following
error:

Error in optim(par = rep(0.5, length(edges)), loglik, method = "L-BFGS-B",  :
        non-finite value supplied by optim

This was reproducible on different machines (Mac G4 OSX, AMD Opteron Linux SUSE
9.0, Intel P4 Suse 9.0, P4 Windows XP Prof), only with different i.

The non-deterministic behaviour made us recompile R with debug options and use
valgrind for memory-leak checking. The result was horrible. We are now in the
process of going through the f2c code of lbfgsb.c. The problem seems to be a
access violation of wn1 at run time. 

Cheers 
       Hans


+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
for (i in 1:1000) {

set.seed(0,NULL)
cat(i,"\n")
pvec<-c(19,1,1,5,5,6,4,6,15,7,15,2,16,2,5,6,25,1,3,1,5,3,5,5,20,31)
qvec<-c(6,24,4,0,2,0,2,1,0,8,1,14,4,4,1,19,6,30,0,2,0,2,15,15,11,10)
edges<-c(1,2,16)
loglik <- function(q) {
			
            y = pvec[edges]%*%log(1-q) + qvec[edges]%*%log(q) -
(pvec[edges[1]]+qvec[edges[1]])*log(1-prod(q))
			tt<-format(c(y, q),nsmall=20)
		   # cat(tt,"\n")
            return(-y)
          }
          result <- optim(par=rep(0.5, length(edges)), loglik,
method="L-BFGS-B", lower=rep(0.001,length(edges)),
upper=rep(0.999,length(edges)))
}

From stvjc at channing.harvard.edu  Tue Mar 30 20:40:08 2004
From: stvjc at channing.harvard.edu (Vincent Carey 525-2265)
Date: Tue Mar 30 20:40:13 2004
Subject: [Rd] change in behavior of <<- 
Message-ID: <Pine.GSO.4.58.0403301339090.17808@capecod.bwh.harvard.edu>


There has been a change to the behavior of <<-.
See the error thrown at the bottom of the transcript
below.  I don't believe this is an intended change.

==========
older version of R-devel
==========

> version
         _
platform i686-pc-linux-gnu
arch     i686
os       linux-gnu
system   i686, linux-gnu
status   alpha
major    1
minor    9.0
year     2004
month    03
day      09
language R
> x <<- list()
> x[["a"]] <<- list()
> x[["a"]][["b"]] <<- 3
> x
$a
$a$b
[1] 3

===========
more recent version of R-devel:
===========

> version
         _
platform i686-pc-linux-gnu
arch     i686
os       linux-gnu
system   i686, linux-gnu
status   beta
major    1
minor    9.0
year     2004
month    03
day      30
language R
> x <<- list()
> x
list()
> x[["a"]] <- list()
> x
$a
list()

> x[["a"]] <- 2
> x
$a
[1] 2

> x[["a"]] <<- 2
Error: Object "x" not found

From p.dalgaard at biostat.ku.dk  Tue Mar 30 21:26:48 2004
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard)
Date: Tue Mar 30 21:26:39 2004
Subject: [Rd] R-bugs is for BUGS (was Help Documentation (PR#6717))
In-Reply-To: <Pine.A41.4.58.0403290638050.66128@homer05.u.washington.edu>
References: <20040329141430.11BD6FB9A@slim.kubism.ku.dk>
	<Pine.A41.4.58.0403290638050.66128@homer05.u.washington.edu>
Message-ID: <x28yhiyw3r.fsf@biostat.ku.dk>

Thomas Lumley <tlumley@u.washington.edu> writes:

> Everyone,
> 
> While this has been in some ways a useful discussion, the most important
> part of Brian's initial complaint was that the messages were sent to
> R-bugs.  All this follow-up discussion has *also* been sent to R-bugs,
> often by people who know better.
> 
> If it isn't a bug report, *don't send it to R-bugs.*

And, for crying out loud: WATCH THE BLOODY CC: FIELDS AND THE PR# AND
NEVER, EVER CC: AN ORIGINAL BUG REPORT TO R-DEVEL. This particular
thread ended up split over PR#6711 through PR#6717 for that reason. I
see that some kind soul moved all of them to the trashcan, but when
there is actual content in a thread, this effect gets really annoying.

All bug reports are automagically copied to r-devel with the PR#
attached. If you do a direct CC, the list will see two copies of the
report. But not just that: some people will do a wide reply to the
version without the PR#, and a copy of their response will get sent to
r-bugs, where, since it has no PR#, it will be treated as a new
report, but another copy without PR# is already sent to r-devel, where
people will reply, etc., etc.
 
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard@biostat.ku.dk)             FAX: (+45) 35327907

From bellis at hsph.harvard.edu  Tue Mar 30 22:25:10 2004
From: bellis at hsph.harvard.edu (Byron Ellis)
Date: Tue Mar 30 22:25:21 2004
Subject: [Rd] Re:  How to purchase R on CD
In-Reply-To: <3A822319EB35174CA3714066D590DCD504AF7AC6@usrymx25.merck.com>
References: <3A822319EB35174CA3714066D590DCD504AF7AC6@usrymx25.merck.com>
Message-ID: <57AACFF1-8288-11D8-BF2D-000393956206@hsph.harvard.edu>

What about using Cafe Press (http://www.cafepress.com) ? I've not used 
their CD facilities myself (though I've bought other stuff from stores 
they host), but they claim to produce actual CDs not CD-Rs and their 
prices are fairly reasonable for a service that is basically 
one-off---US$4.99 w/o jewel case US$8.99 with assuming no markup by the 
R Foundation (whom, I assume, would be the recipient of any markup).

Using Cafe Press also makes it easy to make T-shirts, baseball caps, 
beer steins, whatever. They can also do books, oddly enough. The only 
thing I'm not sure about is how Cafe Press would deal with the 
Foundation being based overseas.

On Mar 29, 2004, at 7:19 PM, Liaw, Andy wrote:

> I was actually thinking along the same line.  How about a `live'
> installation with Windows binary (including contrib packages)?  I know 
> it's
> possible for Windows (running live from CD).  Maybe the same can be 
> done on
> the same CD for other OS's (Mac and Linux)?  How about T-shirts and 
> baseball
> caps?
>
> Just my $0.02...
>
> Andy
>
>> From: Paul Gilbert
>>
>> (moved from R to R-devel)
>>
>> Other responses to this were along the lines of "how to buy a cheap
>> CD,"   which may not be the way to think about what you are
>> asking.   If
>> the R Foundation were to sell an "as is" CD snapshot of some part of
>> CRAN, how much would you be willing to pay for it?
>>
>> Paul Gilbert
>>
>> George_Heine@blm.gov wrote:
>>
>>>
>>>
>>> My organization has a policy against "installing software
>> downloaded from
>>> the Internet."  There is a waiver procedure, but it is difficult and
>>> lengthy.  It is much easier to get approval to purchase
>> software, even if
>>> it is a CD copy of open-source.
>>>
>>> However, a search on r-project.org didn't seem to show any
>> way of obtaining
>>> the distribution in this way.
>>>
>>> Any clues would be appreciated!
>>> <>=<>=<>=<>=<>=<>=<>=<>=<>=<>=<>
>>> George Heine, PhD
>>> Mathematical Analyst
>>> National IRM Center
>>> U.S. Bureau of Land Management
>>> voice   (303) 236-0099
>>> fax       (303) 236-1974
>>> cell      (303) 905-5382
>>> pager   gheine@my2way.com
>>> <>=<>=<>=<>=<>=<>=<>=<>=<>=<>=<>
>>>
>>> ______________________________________________
>>> R-help@stat.math.ethz.ch mailing list
>>> https://www.stat.math.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide!
>> http://www.R-project.org/posting-guide.html
>>>
>>>
>>>
>>
>>
>> ______________________________________________
>> R-devel@stat.math.ethz.ch mailing list
>> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>>
>>
>
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>
---
Byron Ellis (bellis@hsph.harvard.edu)
"Oook" -- The Librarian

From ggrothendieck at myway.com  Wed Mar 31 02:52:04 2004
From: ggrothendieck at myway.com (Gabor Grothendieck)
Date: Wed Mar 31 02:52:11 2004
Subject: [Rd] XP not mentioned on about.html
Message-ID: <20040331005204.2718939B7@mprdmxin.myway.com>



On 

   http://www.r-project.org/about.html

it says, referring to R,

   "It also compiles and runs on Windows 9x/NT/2000"

XP should be added.

From Friedrich.Leisch at ci.tuwien.ac.at  Wed Mar 31 09:17:46 2004
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich.Leisch@ci.tuwien.ac.at)
Date: Wed Mar 31 10:08:06 2004
Subject: [Rd] XP not mentioned on about.html
In-Reply-To: <20040331005204.2718939B7@mprdmxin.myway.com>
References: <20040331005204.2718939B7@mprdmxin.myway.com>
Message-ID: <16490.28826.431324.324347@galadriel.ci.tuwien.ac.at>

>>>>> On Tue, 30 Mar 2004 19:52:04 -0500 (EST),
>>>>> Gabor Grothendieck (GG) wrote:

  > On 

  >    http://www.r-project.org/about.html

  > it says, referring to R,

  >    "It also compiles and runs on Windows 9x/NT/2000"

  > XP should be added.

Thanks, is fixed.

Best,

-- 
-------------------------------------------------------------------
                        Friedrich Leisch 
Institut f?r Statistik                     Tel: (+43 1) 58801 10715
Technische Universit?t Wien                Fax: (+43 1) 58801 10798
Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch@ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch

From tlumley at u.washington.edu  Wed Mar 31 16:32:24 2004
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed Mar 31 16:32:29 2004
Subject: [Rd] change in behavior of <<- 
In-Reply-To: <Pine.GSO.4.58.0403301339090.17808@capecod.bwh.harvard.edu>
References: <Pine.GSO.4.58.0403301339090.17808@capecod.bwh.harvard.edu>
Message-ID: <Pine.A41.4.58.0403310630130.79460@homer34.u.washington.edu>

On Tue, 30 Mar 2004, Vincent Carey 525-2265 wrote:

>
> There has been a change to the behavior of <<-.
> See the error thrown at the bottom of the transcript
> below.  I don't believe this is an intended change.

It's an unintended side-effect of an intended change.  Since we don't use
<<- very much in base R it didn't get noticed.

	-thomas


>
> ==========
> older version of R-devel
> ==========
>
> > version
>          _
> platform i686-pc-linux-gnu
> arch     i686
> os       linux-gnu
> system   i686, linux-gnu
> status   alpha
> major    1
> minor    9.0
> year     2004
> month    03
> day      09
> language R
> > x <<- list()
> > x[["a"]] <<- list()
> > x[["a"]][["b"]] <<- 3
> > x
> $a
> $a$b
> [1] 3
>
> ===========
> more recent version of R-devel:
> ===========
>
> > version
>          _
> platform i686-pc-linux-gnu
> arch     i686
> os       linux-gnu
> system   i686, linux-gnu
> status   beta
> major    1
> minor    9.0
> year     2004
> month    03
> day      30
> language R
> > x <<- list()
> > x
> list()
> > x[["a"]] <- list()
> > x
> $a
> list()
>
> > x[["a"]] <- 2
> > x
> $a
> [1] 2
>
> > x[["a"]] <<- 2
> Error: Object "x" not found
>
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>

Thomas Lumley			Assoc. Professor, Biostatistics
tlumley@u.washington.edu	University of Washington, Seattle

From FWS4 at CDRH.FDA.GOV  Wed Mar 31 17:29:21 2004
From: FWS4 at CDRH.FDA.GOV (Samuelson, Frank*)
Date: Wed Mar 31 17:29:35 2004
Subject: [Rd] Maximum number of connections in R
Message-ID: <644D9337A02FC24689647BF9E48EC39E08ABB7C0@drm556>

It appears that the maximum number of connections available
in R is about 48.  Can anyone tell me how to bump this number
up?  I've been perusing the source, but any info would speed
things up.

Is there a reason that it was set to such a  low number?

Thanks for any help.

-Frank

From FWS4 at CDRH.FDA.GOV  Wed Mar 31 17:42:57 2004
From: FWS4 at CDRH.FDA.GOV (Samuelson, Frank*)
Date: Wed Mar 31 17:43:10 2004
Subject: [Rd] Maximum number of connections in R
Message-ID: <644D9337A02FC24689647BF9E48EC39E08ABB7C1@drm556>

Never mind!  I found it.
Thanks.


-----Original Message-----
From: Samuelson, Frank* [mailto:FWS4@cdrh.fda.gov] 
Sent: Wednesday, March 31, 2004 10:29 AM
To: 'r-devel@stat.math.ethz.ch'
Subject: [Rd] Maximum number of connections in R


It appears that the maximum number of connections available
in R is about 48.  Can anyone tell me how to bump this number
up?  I've been perusing the source, but any info would speed
things up.

Is there a reason that it was set to such a  low number?

Thanks for any help.

-Frank

______________________________________________
R-devel@stat.math.ethz.ch mailing list
https://www.stat.math.ethz.ch/mailman/listinfo/r-devel

From ripley at stats.ox.ac.uk  Wed Mar 31 18:01:52 2004
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed Mar 31 18:01:56 2004
Subject: [Rd] Maximum number of connections in R
In-Reply-To: <644D9337A02FC24689647BF9E48EC39E08ABB7C0@drm556>
Message-ID: <Pine.LNX.4.44.0403311658190.20154-100000@gannet.stats>

It's a large number, and each has some cost.  Why would you need more than 
50 simultaneous connections?  If these are files, a DBMS would seem 
indicated long before that point.

On Wed, 31 Mar 2004, Samuelson, Frank* wrote:

> It appears that the maximum number of connections available
> in R is about 48.  

It is 50.

> Can anyone tell me how to bump this number
> up?  I've been perusing the source, but any info would speed
> things up.

It is pretty obvious, at the top of the file called connections.c!

> Is there a reason that it was set to such a  low number?


-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From FWS4 at CDRH.FDA.GOV  Wed Mar 31 18:23:58 2004
From: FWS4 at CDRH.FDA.GOV (Samuelson, Frank*)
Date: Wed Mar 31 18:24:05 2004
Subject: [Rd] Maximum number of connections in R
Message-ID: <644D9337A02FC24689647BF9E48EC39E08ABB7C4@drm556>


It was embarrassingly obvious, I'm afraid.  It appears to be 
#define NCONNECTIONS ...
in the src/main/connections.c  I had been looking in the wrong place.
Wouldn't a dynamically growing container be better than
a static array for this sort of thing?  Perhaps I shouldn't wonder
such things unless I want to volunteer...

-----Original Message-----
From: Tony Plate [mailto:tplate@blackmesacapital.com] 
Sent: Wednesday, March 31, 2004 10:56 AM
To: Samuelson, Frank*
Subject: RE: [Rd] Maximum number of connections in R


So what was it?  (A lot of the value of the R mailing lists comes from 
other people seeing the answers to questions.  Otherwise it's just mumbling 
in the dark.)

-- Tony Plate

At Wednesday 08:42 AM 3/31/2004, you wrote:
>Never mind!  I found it.
>Thanks.
>
>
>-----Original Message-----
>From: Samuelson, Frank* [mailto:FWS4@cdrh.fda.gov]
>Sent: Wednesday, March 31, 2004 10:29 AM
>To: 'r-devel@stat.math.ethz.ch'
>Subject: [Rd] Maximum number of connections in R
>
>
>It appears that the maximum number of connections available
>in R is about 48.  Can anyone tell me how to bump this number
>up?  I've been perusing the source, but any info would speed
>things up.
>
>Is there a reason that it was set to such a  low number?
>
>Thanks for any help.
>
>-Frank
>
>______________________________________________
>R-devel@stat.math.ethz.ch mailing list
>https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
>
>______________________________________________
>R-devel@stat.math.ethz.ch mailing list
>https://www.stat.math.ethz.ch/mailman/listinfo/r-devel

From MSchwartz at MedAnalytics.com  Wed Mar 31 20:44:25 2004
From: MSchwartz at MedAnalytics.com (Marc Schwartz)
Date: Wed Mar 31 20:44:31 2004
Subject: [Rd] R-1.9.0 Beta print.power.htest problem?
Message-ID: <1080758664.8937.56.camel@localhost.localdomain>

Hi all,

I just used power.t.test() in Version 1.9.0 beta (2004-03-31) today
under FC1.

The following is the output:

> power.t.test(delta = .5, power = .95, type = "paired")
$n
[1] 53.94062

$delta
[1] 0.5

$sd
[1] 1

$sig.level
[1] 0.05

$power
[1] 0.95

$alternative
[1] "two.sided"

$note
[1] "n is number of *pairs*, sd is std.dev. of *differences* within
pairs"

$method
[1] "Paired t test power calculation"

attr(,"class")
[1] "power.htest"



The following is the output from Version 1.8.1 Patched (2004-03-31):

>  power.t.test(delta = .5, power = .95, type = "paired")

     Paired t test power calculation 

              n = 53.94062
          delta = 0.5
             sd = 1
      sig.level = 0.05
          power = 0.95
    alternative = two.sided

 NOTE: n is number of *pairs*, sd is std.dev. of *differences* within
pairs 



I have reviewed the following code for print.power.htest in power.R in
both 1.8.1 patched and the 1.9.0 Beta and do not see any differences, so
I am guessing that there is a methods issue here:

print.power.htest <-
function(x, ...)
{
    cat("\n    ", x$method, "\n\n")
    note<-x$note
    x[c("method","note")] <- NULL
    cat(paste(format.char(names(x), width=15, flag="+"),
              format(x), sep=" = "),sep="\n")
    if(!is.null(note))
        cat("\n", "NOTE:", note, "\n\n")
    else
        cat("\n")
}


Using 'methods(print)' in 1.8.1 patched, print.power.htest is listed,
while it is not listed in 1.9.0 beta, which would seem to reinforce a
methods problem.

The 1.8.1 patched NAMESPACE file for 'ctest' lists:

S3method(print, power.htest)

However, the NAMESPACE file for 'stats' in 1.9.0 Beta does not, so I am
guessing that this is the source of the problem?

Thanks,

Marc Schwartz

From ripley at stats.ox.ac.uk  Wed Mar 31 20:53:25 2004
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed Mar 31 20:53:32 2004
Subject: [Rd] R-1.9.0 Beta print.power.htest problem?
In-Reply-To: <1080758664.8937.56.camel@localhost.localdomain>
Message-ID: <Pine.LNX.4.44.0403311952090.25351-100000@gannet.stats>

Yes, thank you, that's it.  Fix committed.

On Wed, 31 Mar 2004, Marc Schwartz wrote:

> Hi all,
> 
> I just used power.t.test() in Version 1.9.0 beta (2004-03-31) today
> under FC1.
> 
> The following is the output:
> 
> > power.t.test(delta = .5, power = .95, type = "paired")
> $n
> [1] 53.94062
> 
> $delta
> [1] 0.5
> 
> $sd
> [1] 1
> 
> $sig.level
> [1] 0.05
> 
> $power
> [1] 0.95
> 
> $alternative
> [1] "two.sided"
> 
> $note
> [1] "n is number of *pairs*, sd is std.dev. of *differences* within
> pairs"
> 
> $method
> [1] "Paired t test power calculation"
> 
> attr(,"class")
> [1] "power.htest"
> 
> 
> 
> The following is the output from Version 1.8.1 Patched (2004-03-31):
> 
> >  power.t.test(delta = .5, power = .95, type = "paired")
> 
>      Paired t test power calculation 
> 
>               n = 53.94062
>           delta = 0.5
>              sd = 1
>       sig.level = 0.05
>           power = 0.95
>     alternative = two.sided
> 
>  NOTE: n is number of *pairs*, sd is std.dev. of *differences* within
> pairs 
> 
> 
> 
> I have reviewed the following code for print.power.htest in power.R in
> both 1.8.1 patched and the 1.9.0 Beta and do not see any differences, so
> I am guessing that there is a methods issue here:
> 
> print.power.htest <-
> function(x, ...)
> {
>     cat("\n    ", x$method, "\n\n")
>     note<-x$note
>     x[c("method","note")] <- NULL
>     cat(paste(format.char(names(x), width=15, flag="+"),
>               format(x), sep=" = "),sep="\n")
>     if(!is.null(note))
>         cat("\n", "NOTE:", note, "\n\n")
>     else
>         cat("\n")
> }
> 
> 
> Using 'methods(print)' in 1.8.1 patched, print.power.htest is listed,
> while it is not listed in 1.9.0 beta, which would seem to reinforce a
> methods problem.
> 
> The 1.8.1 patched NAMESPACE file for 'ctest' lists:
> 
> S3method(print, power.htest)
> 
> However, the NAMESPACE file for 'stats' in 1.9.0 Beta does not, so I am
> guessing that this is the source of the problem?
> 
> Thanks,
> 
> Marc Schwartz
> 
> ______________________________________________
> R-devel@stat.math.ethz.ch mailing list
> https://www.stat.math.ethz.ch/mailman/listinfo/r-devel
> 
> 

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From gregory_r_warnes at groton.pfizer.com  Wed Mar 31 20:54:27 2004
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Wed Mar 31 20:55:51 2004
Subject: [Rd] cbind/rbind fail on matrixes containing lists (PR#6702)
Message-ID: <D7A3CFD7825BD6119B880002A58F06C20680B1CC@groexmb02.pfizer.com>


Hello Brian,

> -----Original Message-----
> From: Prof Brian Ripley [mailto:ripley@stats.ox.ac.uk]
> 
> There are no `matrixes containing lists'.  There are lists 
> which are also 
> matrices, but their contents are the vector elements  (unless 
> you meant 
> that it was a list of lists, which seems not be the case in 
> your example).
> In the absence of a reproducible example, it is not clear to 
> me exactly 
> what you want to do.
> 
> Here is a list matrix example:
> 
> A <- matrix(as.list(1:4), 2, 2)
> cbind(A, A)
> 

I was, in fact, using a matrix containing "list" elements.  

I did fail to provide the definition of my 'list matrix'.  It was simply:

> m1 <- matrix(list(NA),4,4)
> m1
     [,1] [,2] [,3] [,4]
[1,] NA   NA   NA   NA  
[2,] NA   NA   NA   NA  
[3,] NA   NA   NA   NA  
[4,] NA   NA   NA   NA  
> class(m1)
[1] "matrix"
> class(m1[1,1])
[1] "list"
> cbind(m1,m1)
Error in cbind(...) : cannot create a matrix from these types
> rbind(m1,m1)
Error in rbind(...) : cannot create a matrix from these types

> It appears to be intentional (line 950 of bind.c and the actual cbind
> code), in which case this is a documentation bug and I have 
> altered the
> docs.

Odd.

> Why not class(m1)?  It should be the same ....

But it is not:

> class(m1)
[1] "matrix"
> class(m1[1,1])
[1] "list"

-Greg


LEGAL NOTICE\ Unless expressly stated otherwise, this messag...{{dropped}}

From ripley at stats.ox.ac.uk  Wed Mar 31 20:59:54 2004
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed Mar 31 21:00:02 2004
Subject: [Rd] cbind/rbind fail on matrixes containing lists (PR#6702)
In-Reply-To: <D7A3CFD7825BD6119B880002A58F06C20680B1CC@groexmb02.pfizer.com>
Message-ID: <Pine.LNX.4.44.0403311956500.25351-100000@gannet.stats>

Since 1.9.0 got delayed, we have written the code for this case (today).  
But only vector lists, and not some of the language objects (pairlists)  
you can make matrices of.

The example you give does not work.


On Wed, 31 Mar 2004, Warnes, Gregory R wrote:

> 
> Hello Brian,
> 
> > -----Original Message-----
> > From: Prof Brian Ripley [mailto:ripley@stats.ox.ac.uk]
> > 
> > There are no `matrixes containing lists'.  There are lists 
> > which are also 
> > matrices, but their contents are the vector elements  (unless 
> > you meant 
> > that it was a list of lists, which seems not be the case in 
> > your example).
> > In the absence of a reproducible example, it is not clear to 
> > me exactly 
> > what you want to do.
> > 
> > Here is a list matrix example:
> > 
> > A <- matrix(as.list(1:4), 2, 2)
> > cbind(A, A)
> > 
> 
> I was, in fact, using a matrix containing "list" elements.  
> 
> I did fail to provide the definition of my 'list matrix'.  It was simply:
> 
> > m1 <- matrix(list(NA),4,4)
> > m1
>      [,1] [,2] [,3] [,4]
> [1,] NA   NA   NA   NA  
> [2,] NA   NA   NA   NA  
> [3,] NA   NA   NA   NA  
> [4,] NA   NA   NA   NA  
> > class(m1)
> [1] "matrix"
> > class(m1[1,1])
> [1] "list"
> > cbind(m1,m1)
> Error in cbind(...) : cannot create a matrix from these types
> > rbind(m1,m1)
> Error in rbind(...) : cannot create a matrix from these types
> 
> > It appears to be intentional (line 950 of bind.c and the actual cbind
> > code), in which case this is a documentation bug and I have 
> > altered the
> > docs.
> 
> Odd.
> 
> > Why not class(m1)?  It should be the same ....

Sorry, of course not.  typeof() would have been best.

> But it is not:
> 
> > class(m1)
> [1] "matrix"
> > class(m1[1,1])
> [1] "list"
> 
> -Greg
> 
> 
> LEGAL NOTICE
> Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
> 
> 

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From MSchwartz at MedAnalytics.com  Wed Mar 31 21:00:00 2004
From: MSchwartz at MedAnalytics.com (Marc Schwartz)
Date: Wed Mar 31 21:00:09 2004
Subject: [Rd] R-1.9.0 Beta print.power.htest problem?
In-Reply-To: <Pine.LNX.4.44.0403311952090.25351-100000@gannet.stats>
References: <Pine.LNX.4.44.0403311952090.25351-100000@gannet.stats>
Message-ID: <1080759600.8937.64.camel@localhost.localdomain>

On Wed, 2004-03-31 at 12:53, Prof Brian Ripley wrote:
> Yes, thank you, that's it.  Fix committed.
> 
> On Wed, 31 Mar 2004, Marc Schwartz wrote:

<snip>

> > Using 'methods(print)' in 1.8.1 patched, print.power.htest is listed,
> > while it is not listed in 1.9.0 beta, which would seem to reinforce a
> > methods problem.
> > 
> > The 1.8.1 patched NAMESPACE file for 'ctest' lists:
> > 
> > S3method(print, power.htest)
> > 
> > However, the NAMESPACE file for 'stats' in 1.9.0 Beta does not, so I am
> > guessing that this is the source of the problem?


Great.  Thank you!

Marc

From jgentry at jimmy.harvard.edu  Wed Mar 31 21:41:56 2004
From: jgentry at jimmy.harvard.edu (Jeff Gentry)
Date: Wed Mar 31 21:41:32 2004
Subject: [Rd] segfault in browseURL()
Message-ID: <Pine.SOL.4.20.0403311440050.14643-100000@santiam.dfci.harvard.edu>


Hello ...

Using Win2K (and reportedly WinXP), when the length of the 'url' string
>= 280 characters, a segmentation fault occurs.

This doesn't seem to be affecting unix machines.

Thanks
-J

From ripley at stats.ox.ac.uk  Wed Mar 31 22:29:20 2004
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed Mar 31 22:29:26 2004
Subject: [Rd] cbind/rbind fail on matrixes containing lists (PR#6702)
In-Reply-To: <Pine.LNX.4.44.0403311956500.25351-100000@gannet.stats>
Message-ID: <Pine.LNX.4.44.0403312128470.28054-100000@gannet.stats>

On Wed, 31 Mar 2004, Prof Brian Ripley wrote:

> Since 1.9.0 got delayed, we have written the code for this case (today).  
> But only vector lists, and not some of the language objects (pairlists)  
> you can make matrices of.
> 
> The example you give does not work.
                            now   
Oops!

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From ripley at stats.ox.ac.uk  Wed Mar 31 22:45:42 2004
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed Mar 31 22:45:49 2004
Subject: [Rd] segfault in browseURL()
In-Reply-To: <Pine.SOL.4.20.0403311440050.14643-100000@santiam.dfci.harvard.edu>
Message-ID: <Pine.LNX.4.44.0403312130080.28054-100000@gannet.stats>

With what settings of argument `browser'?

If this is using file associations there is a Windows internal limit (it
designed for files and there is a 264 char path limit on files), so I
don't think you can entirely avoid this, although we can avoid the
segfault.

If you absolutely must have such long URLs, try specifying a browser 
(although you will probably find limits that way too).

As the FAQ asks, we do need a reproducible example to check the fixes.

On Wed, 31 Mar 2004, Jeff Gentry wrote:

> Using Win2K (and reportedly WinXP), when the length of the 'url' string
> >= 280 characters, a segmentation fault occurs.
> 
> This doesn't seem to be affecting unix machines.

It's completely independent code between Unix and Windows.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From ggrothendieck at myway.com  Wed Mar 31 22:57:50 2004
From: ggrothendieck at myway.com (Gabor Grothendieck)
Date: Wed Mar 31 22:57:57 2004
Subject: [Rd] segfault in browseURL()
Message-ID: <20040331205750.279A939DB@mprdmxin.myway.com>




See the workaround at:

http://finzi.psych.upenn.edu/R/Rhelp02a/archive/27165.html



Date:   Wed, 31 Mar 2004 14:41:56 -0500 (EST) 
From:   Jeff Gentry <jgentry@jimmy.harvard.edu>
To:   <r-devel@stat.math.ethz.ch> 
Subject:   [Rd] segfault in browseURL() 

 

Hello ...

Using Win2K (and reportedly WinXP), when the length of the 'url' 
string >= 280 characters, a segmentation fault occurs.

This doesn't seem to be affecting unix machines.

Thanks
-J

From jgentry at jimmy.harvard.edu  Wed Mar 31 22:59:48 2004
From: jgentry at jimmy.harvard.edu (Jeff Gentry)
Date: Wed Mar 31 22:59:21 2004
Subject: [Rd] segfault in browseURL()
In-Reply-To: <Pine.LNX.4.44.0403312130080.28054-100000@gannet.stats>
Message-ID: <Pine.SOL.4.20.0403311548590.14754-100000@santiam.dfci.harvard.edu>

> With what settings of argument `browser'?

In this case, none.

getOption("browser") returns NULL.  When browseURL() is working form e
under that configuration it pulls up IE5

> If you absolutely must have such long URLs, try specifying a browser 
> (although you will probably find limits that way too).

When I tried specifying 'browser="explorer"', I still get errors, although
not segfaults.  The error seems to be dependent on exactly what the URL
string is, and is always fairly odd (as if Windows is pushing the extra
bits off into other commands).

> As the FAQ asks, we do need a reproducible example to check the fixes.

Well, the toy example I was using to first verify that it was coming from
browseURL in general was just to do this:
z <- rep("z", 300)
z <- paste(z, collapse="")
browseURL(z)

While that URL obviously won't work, note that if you make it of a smaller
length that instead of a segfault you should just get the error that the
URL doesn't seem to exist.

The other example I was using (a 'real' example) requires the use of the
annotate and hgu95av2 packages from Bioconductor (and was supplied by
James MacDonald):

library(annotate)
data(eset)
gn <- geneNames(eset)[453]
gn <- getPMID(gn,"hgu95av2")
gn <- unlist(gn, use.names=FALSE)
pubmed(gn, disp="browser")

This builds up a URL query and then calls 'browseURL(query)'.

-J

From ripley at stats.ox.ac.uk  Wed Mar 31 23:07:46 2004
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed Mar 31 23:07:51 2004
Subject: [Rd] segfault in browseURL()
In-Reply-To: <Pine.SOL.4.20.0403311548590.14754-100000@santiam.dfci.harvard.edu>
Message-ID: <Pine.LNX.4.44.0403312204550.28113-100000@gannet.stats>

On Wed, 31 Mar 2004, Jeff Gentry wrote:

> > With what settings of argument `browser'?
> 
> In this case, none.
> 
> getOption("browser") returns NULL.  When browseURL() is working form e
> under that configuration it pulls up IE5
> 
> > If you absolutely must have such long URLs, try specifying a browser 
> > (although you will probably find limits that way too).
> 
> When I tried specifying 'browser="explorer"', I still get errors, although
> not segfaults.  The error seems to be dependent on exactly what the URL
> string is, and is always fairly odd (as if Windows is pushing the extra
> bits off into other commands).
> 
> > As the FAQ asks, we do need a reproducible example to check the fixes.
> 
> Well, the toy example I was using to first verify that it was coming from
> browseURL in general was just to do this:
> z <- rep("z", 300)
> z <- paste(z, collapse="")
> browseURL(z)
> 
> While that URL obviously won't work, note that if you make it of a smaller
> length that instead of a segfault you should just get the error that the
> URL doesn't seem to exist.

That's not a URL at all, and I get nothing (as I should). If I put http:// 
in front it works (as a search item).

> The other example I was using (a 'real' example) requires the use of the
> annotate and hgu95av2 packages from Bioconductor (and was supplied by
> James MacDonald):
> 
> library(annotate)
> data(eset)
> gn <- geneNames(eset)[453]
> gn <- getPMID(gn,"hgu95av2")
> gn <- unlist(gn, use.names=FALSE)
> pubmed(gn, disp="browser")
> 
> This builds up a URL query and then calls 'browseURL(query)'.

And you could extract `query' and tell us what that is ....

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From jgentry at jimmy.harvard.edu  Wed Mar 31 23:17:39 2004
From: jgentry at jimmy.harvard.edu (Jeff Gentry)
Date: Wed Mar 31 23:17:37 2004
Subject: [Rd] segfault in browseURL()
In-Reply-To: <Pine.LNX.4.44.0403312204550.28113-100000@gannet.stats>
Message-ID: <Pine.SOL.4.20.0403311612250.14754-100000@santiam.dfci.harvard.edu>

> > Well, the toy example I was using to first verify that it was coming from
> > browseURL in general was just to do this:
> > z <- rep("z", 300)
> > z <- paste(z, collapse="")
> > browseURL(z)
> That's not a URL at all, and I get nothing (as I should). If I put http:// 
> in front it works (as a search item).

That's not the point.  When it is repped to length 300, it causes a
segfault for me.  When it is repped to a length of say, 250 - it simply
doesn't work properly (as one would expect, because as you so correctly
pointed out 'aaaaaaa....' isn't a URL.  My point here was to demonstrate
the segfaulting due to excessively long strings, which at least for me,
does not seem to be tied to a URL being valid or not.

Here:

z <- paste("http://www.r-project.org/", paste(rep("a", 200),
           collapse=""))
browseURL(z)

This gives an error that the URL does not exist.

z <- paste("http://www.r-project.org/", paste(rep("a", 300),
           collapse=""))
browseURL(z)

This causes a segfault.

> > This builds up a URL query and then calls 'browseURL(query)'.
> And you could extract `query' and tell us what that is ....

[1]
"http://www.ncbi.nih.gov/entrez/query.fcgi?tool=bioconductor&cmd=Retrieve&db=PubMed&list_uids=12730033%2c12691826%2c12544996%2c12490434%2c12477932%2c12411538%2c12391142%2c12207910%2c11971973%2c11864979%2c10859165%2c10216320%2c10205060%2c3931075%2c3470951%2c3019832%2c2880793%2c2858050%2c2538825%2c1700760%2c1478667"

From ripley at stats.ox.ac.uk  Wed Mar 31 23:26:23 2004
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed Mar 31 23:31:20 2004
Subject: [Rd] segfault in browseURL()
In-Reply-To: <Pine.SOL.4.20.0403311612250.14754-100000@santiam.dfci.harvard.edu>
Message-ID: <Pine.LNX.4.44.0403312219010.28113-100000@gannet.stats>

On Wed, 31 Mar 2004, Jeff Gentry wrote:

> > > Well, the toy example I was using to first verify that it was coming from
> > > browseURL in general was just to do this:
> > > z <- rep("z", 300)
> > > z <- paste(z, collapse="")
> > > browseURL(z)
> > That's not a URL at all, and I get nothing (as I should). If I put http:// 
> > in front it works (as a search item).
> 
> That's not the point.  When it is repped to length 300, it causes a

Yes, it _is_ the point: I do not get a segfault on that example.

> segfault for me.  When it is repped to a length of say, 250 - it simply
> doesn't work properly (as one would expect, because as you so correctly
> pointed out 'aaaaaaa....' isn't a URL.  My point here was to demonstrate
> the segfaulting due to excessively long strings, which at least for me,
> does not seem to be tied to a URL being valid or not.
> 
> Here:
> 
> z <- paste("http://www.r-project.org/", paste(rep("a", 200),
>            collapse=""))
> browseURL(z)
> 
> This gives an error that the URL does not exist.
> 
> z <- paste("http://www.r-project.org/", paste(rep("a", 300),
>            collapse=""))
> browseURL(z)
> 
> This causes a segfault.
> 
> > > This builds up a URL query and then calls 'browseURL(query)'.
> > And you could extract `query' and tell us what that is ....
> 
> [1]
> "http://www.ncbi.nih.gov/entrez/query.fcgi?tool=bioconductor&cmd=Retrieve&db=PubMed&list_uids=12730033%2c12691826%2c12544996%2c12490434%2c12477932%2c12411538%2c12391142%2c12207910%2c11971973%2c11864979%2c10859165%2c10216320%2c10205060%2c3931075%2c3470951%2c3019832%2c2880793%2c2858050%2c2538825%2c1700760%2c1478667"

At last, thank you.  Yes, that segfaults in 1.8.1 but works in the 
current 1.9.0 cvs sources, where what I guessed to be the limit has been 
removed.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

