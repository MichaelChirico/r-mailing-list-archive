From jeroenoom@ @end|ng |rom gm@||@com  Wed Nov 12 13:36:43 2025
From: jeroenoom@ @end|ng |rom gm@||@com (Jeroen Ooms)
Date: Wed, 12 Nov 2025 13:36:43 +0100
Subject: [R-SIG-Mac] MacOS binaries for R-4.6
Message-ID: <CABFfbXvM9BUvz+hOUxOUwO+e5iHmsoKFRjg9BdJYsSNQWCaH+A@mail.gmail.com>

As every year, starting this month, the bioconductor development
branch now targets R-4.6 for the planned release in April.

Last year CRAN provided MacOS r-devel package binaries way ahead of
the release, see
https://stat.ethz.ch/pipermail/r-sig-mac/2025-January/015106.html

This was super helpful. It would be great if this can be done again
early in the cycle, especially if there may be upgrades of clang /
libomp planned.


From @|mon@urb@nek @end|ng |rom R-project@org  Wed Nov 12 22:07:20 2025
From: @|mon@urb@nek @end|ng |rom R-project@org (Simon Urbanek)
Date: Thu, 13 Nov 2025 10:07:20 +1300
Subject: [R-SIG-Mac] MacOS binaries for R-4.6
In-Reply-To: <CABFfbXvM9BUvz+hOUxOUwO+e5iHmsoKFRjg9BdJYsSNQWCaH+A@mail.gmail.com>
References: <CABFfbXvM9BUvz+hOUxOUwO+e5iHmsoKFRjg9BdJYsSNQWCaH+A@mail.gmail.com>
Message-ID: <7BD2A703-B85D-4982-B3DD-795D4AC9BF23@R-project.org>

Jeroen,

the 4.6 binaries are available on CRAN since July. However note that they are experimental since they are built using the same build machine as 4.5. We are in the process of setting up a new VM for R-devel package builds so the target and toolchain will likely change for the arm64 build. With the performance framework updates on arm in macOS 14 it may be worth considering to increase the target correspondingly.

Cheers,
Simon



> On 13 Nov 2025, at 01:36, Jeroen Ooms <jeroenooms at gmail.com> wrote:
> 
> As every year, starting this month, the bioconductor development branch now targets R-4.6 for the planned release in April.
> 
> Last year CRAN provided MacOS r-devel package binaries way ahead of the release, see
> https://stat.ethz.ch/pipermail/r-sig-mac/2025-January/015106.html
> 
> This was super helpful. It would be great if this can be done again early in the cycle, especially if there may be upgrades of clang / libomp planned.
> 


From jeroenoom@ @end|ng |rom gm@||@com  Sun Nov 16 15:28:16 2025
From: jeroenoom@ @end|ng |rom gm@||@com (Jeroen Ooms)
Date: Sun, 16 Nov 2025 15:28:16 +0100
Subject: [R-SIG-Mac] MacOS binaries for R-4.6
In-Reply-To: <7BD2A703-B85D-4982-B3DD-795D4AC9BF23@R-project.org>
References: <CABFfbXvM9BUvz+hOUxOUwO+e5iHmsoKFRjg9BdJYsSNQWCaH+A@mail.gmail.com>
 <7BD2A703-B85D-4982-B3DD-795D4AC9BF23@R-project.org>
Message-ID: <CABFfbXtuyz86ZioYF44hgx0vfMWANFJTm_cwNoxx62_j0oSyKQ@mail.gmail.com>

Thank you, this is good news, both that binaries are available for
testing, and that the toolchains may be updated to MacOS 14.




On Wed, Nov 12, 2025 at 10:07?PM Simon Urbanek
<simon.urbanek at r-project.org> wrote:
>
> Jeroen,
>
> the 4.6 binaries are available on CRAN since July. However note that they are experimental since they are built using the same build machine as 4.5. We are in the process of setting up a new VM for R-devel package builds so the target and toolchain will likely change for the arm64 build. With the performance framework updates on arm in macOS 14 it may be worth considering to increase the target correspondingly.
>
> Cheers,
> Simon
>
>
>
> > On 13 Nov 2025, at 01:36, Jeroen Ooms <jeroenooms at gmail.com> wrote:
> >
> > As every year, starting this month, the bioconductor development branch now targets R-4.6 for the planned release in April.
> >
> > Last year CRAN provided MacOS r-devel package binaries way ahead of the release, see
> > https://stat.ethz.ch/pipermail/r-sig-mac/2025-January/015106.html
> >
> > This was super helpful. It would be great if this can be done again early in the cycle, especially if there may be upgrades of clang / libomp planned.
> >
>


From @tvjc @end|ng |rom ch@nn|ng@h@rv@rd@edu  Fri Nov 21 11:42:55 2025
From: @tvjc @end|ng |rom ch@nn|ng@h@rv@rd@edu (Vincent Carey)
Date: Fri, 21 Nov 2025 05:42:55 -0500
Subject: [R-SIG-Mac] A flawed Xcode installation?
Message-ID: <CAANT7+XFnz=3z+afc2zkqnAzrE+OJhYvWNdEnQNHc-A+wkZTVA@mail.gmail.com>

I frequently find that attempts to install R packages that include
C++ code encounter

/Users/.../Library/R/arm64/4.5/library/Rcpp/include/Rcpp/platform/compiler.h:37:10:
fatal error:
      'cmath' file not found
   37 | #include <cmath>
      |          ^~~~~~~

To rectify this, I manually prefix to the call to R with

PKG_CXXFLAGS=-I/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/c++/v1

Is there a configuration step I am missing?  I believe this is a stock
installation of the R binary from CRAN, and a conventional installation of
Xcode (16.4).

> sessionInfo()
R version 4.5.1 (2025-06-13)
Platform: aarch64-apple-darwin20
Running under: macOS Sequoia 15.7.2

Matrix products: default
BLAS:
/Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/lib/libRblas.0.dylib

LAPACK:
/Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/lib/libRlapack.dylib;
 LAPACK version 3.12.1

-- 
The information in this email is intended only for the p...{{dropped:15}}


From pd@|gd @end|ng |rom gm@||@com  Fri Nov 21 12:01:52 2025
From: pd@|gd @end|ng |rom gm@||@com (Peter Dalgaard)
Date: Fri, 21 Nov 2025 12:01:52 +0100
Subject: [R-SIG-Mac] A flawed Xcode installation?
In-Reply-To: <CAANT7+XFnz=3z+afc2zkqnAzrE+OJhYvWNdEnQNHc-A+wkZTVA@mail.gmail.com>
References: <CAANT7+XFnz=3z+afc2zkqnAzrE+OJhYvWNdEnQNHc-A+wkZTVA@mail.gmail.com>
Message-ID: <90CBA9AA-02C9-44CC-9306-2EC71FAC92B4@gmail.com>

My guess is that either it is the same issue as

https://stat.ethz.ch/pipermail/r-sig-mac/2024-September/015042.html

or there is a mismatch in the clang installation (Apple gratuitously updated to clang 17 in the middle of the Xcode 16.x series, and the 4.5.x binaries are still built with clang 16).

-pd



> On 21 Nov 2025, at 11.42, Vincent Carey <stvjc at channing.harvard.edu> wrote:
> 
> I frequently find that attempts to install R packages that include
> C++ code encounter
> 
> /Users/.../Library/R/arm64/4.5/library/Rcpp/include/Rcpp/platform/compiler.h:37:10:
> fatal error:
>      'cmath' file not found
>   37 | #include <cmath>
>      |          ^~~~~~~
> 
> To rectify this, I manually prefix to the call to R with
> 
> PKG_CXXFLAGS=-I/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/c++/v1
> 
> Is there a configuration step I am missing?  I believe this is a stock
> installation of the R binary from CRAN, and a conventional installation of
> Xcode (16.4).
> 
>> sessionInfo()
> R version 4.5.1 (2025-06-13)
> Platform: aarch64-apple-darwin20
> Running under: macOS Sequoia 15.7.2
> 
> Matrix products: default
> BLAS:
> /Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/lib/libRblas.0.dylib
> 
> LAPACK:
> /Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/lib/libRlapack.dylib;
> LAPACK version 3.12.1
> 
> -- 
> The information in this email is intended only for the p...{{dropped:15}}
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From jord@n @end|ng |rom jord@nm@rt|nett|@com  Sat Nov 22 02:53:17 2025
From: jord@n @end|ng |rom jord@nm@rt|nett|@com (Jordan Martinetti)
Date: Sat, 22 Nov 2025 01:53:17 +0000
Subject: [R-SIG-Mac] Failed tests on M1mac
Message-ID: <IA1PR19MB7278E1FE7394D030DCF3B5F1B4D2A@IA1PR19MB7278.namprd19.prod.outlook.com>

Hello I am a new CRAN author working on Windows.  I tested my package locally and it worked great and passed CRAN testing when I initially uploaded.  Yesterday I got an email saying it failed on M1mac.  I don't have a mac machine to do testing on so i'm unsure how I can test my package before uploading to CRAN and hoping it passes.

While I don't expect a significant portion of users of my package to work on mac, I would rather not skip mac testing and try to work on as many platforms as possible.  How can I test my package on mac, without owning a mac, so that I know it will work before uploading to CRAN?


Thanks,

Jordan

	[[alternative HTML version deleted]]


From murdoch@dunc@n @end|ng |rom gm@||@com  Sat Nov 22 03:21:01 2025
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Fri, 21 Nov 2025 19:21:01 -0700
Subject: [R-SIG-Mac] Failed tests on M1mac
In-Reply-To: <IA1PR19MB7278E1FE7394D030DCF3B5F1B4D2A@IA1PR19MB7278.namprd19.prod.outlook.com>
References: <IA1PR19MB7278E1FE7394D030DCF3B5F1B4D2A@IA1PR19MB7278.namprd19.prod.outlook.com>
Message-ID: <0e0f8d2b-009e-4678-b00e-fd5bd4c8312c@gmail.com>

On 2025-11-21 6:53 p.m., Jordan Martinetti wrote:
> Hello I am a new CRAN author working on Windows.  I tested my package locally and it worked great and passed CRAN testing when I initially uploaded.  Yesterday I got an email saying it failed on M1mac.  I don't have a mac machine to do testing on so i'm unsure how I can test my package before uploading to CRAN and hoping it passes.
> 
> While I don't expect a significant portion of users of my package to work on mac, I would rather not skip mac testing and try to work on as many platforms as possible.  How can I test my package on mac, without owning a mac, so that I know it will work before uploading to CRAN?

If you use Github actions for testing, you can choose a Mac machine to 
run on.  I don't know what versions of macOS they have available.

Here are some lines from the YAML file for one of my packages that is 
tested on Windows, Ubuntu and macOS:

   R-CMD-check:
     runs-on: ${{ matrix.config.os }}

     name: ${{ matrix.config.os }} (${{ matrix.config.r }})

     strategy:
       fail-fast: false
       matrix:
         config:
           - {os: windows-latest, r: 'release'}
           - {os: windows-latest, r: 'devel'}
           - {os: ubuntu-latest,   r: 'devel', http-user-agent: 'release'}
           - {os: macos-latest, r: 'devel'}

These were originally based on the code from the `usethis` package; I 
don't know how far it has diverged by now.

If you're not using Github, Gitlab or something similar, you should.

Duncan


From m@rc_@chw@rtz @end|ng |rom me@com  Sat Nov 22 03:37:54 2025
From: m@rc_@chw@rtz @end|ng |rom me@com (Marc Schwartz)
Date: Fri, 21 Nov 2025 21:37:54 -0500
Subject: [R-SIG-Mac] Failed tests on M1mac
In-Reply-To: <0e0f8d2b-009e-4678-b00e-fd5bd4c8312c@gmail.com>
References: <IA1PR19MB7278E1FE7394D030DCF3B5F1B4D2A@IA1PR19MB7278.namprd19.prod.outlook.com>
 <0e0f8d2b-009e-4678-b00e-fd5bd4c8312c@gmail.com>
Message-ID: <D523C30A-05EA-47CD-A498-F22884730C51@me.com>

On Nov 21, 2025, at 9:21?PM, Duncan Murdoch <murdoch.duncan at gmail.com> wrote:
> 
> On 2025-11-21 6:53 p.m., Jordan Martinetti wrote:
>> Hello I am a new CRAN author working on Windows.  I tested my package locally and it worked great and passed CRAN testing when I initially uploaded.  Yesterday I got an email saying it failed on M1mac.  I don't have a mac machine to do testing on so i'm unsure how I can test my package before uploading to CRAN and hoping it passes.
>> While I don't expect a significant portion of users of my package to work on mac, I would rather not skip mac testing and try to work on as many platforms as possible.  How can I test my package on mac, without owning a mac, so that I know it will work before uploading to CRAN?
> 
> If you use Github actions for testing, you can choose a Mac machine to run on.  I don't know what versions of macOS they have available.
> 
> Here are some lines from the YAML file for one of my packages that is tested on Windows, Ubuntu and macOS:
> 
>  R-CMD-check:
>    runs-on: ${{ matrix.config.os }}
> 
>    name: ${{ matrix.config.os }} (${{ matrix.config.r }})
> 
>    strategy:
>      fail-fast: false
>      matrix:
>        config:
>          - {os: windows-latest, r: 'release'}
>          - {os: windows-latest, r: 'devel'}
>          - {os: ubuntu-latest,   r: 'devel', http-user-agent: 'release'}
>          - {os: macos-latest, r: 'devel'}
> 
> These were originally based on the code from the `usethis` package; I don't know how far it has diverged by now.
> 
> If you're not using Github, Gitlab or something similar, you should.
> 
> Duncan


Hi,

In addition to Duncan's suggestion, you can use the macOS Builder service here:

  https://mac.r-project.org/macbuilder/submit.html

It generally parallels the winbuilder site (https://win-builder.r-project.org/) for the testing of CRAN packages on Apple silicon.

It is listed in the Re-submission section in the CRAN Policy:

  https://cran.r-project.org/web/packages/policies.html#Re_002dsubmission

Regards,

Marc Schwartz


From r|p|eybd @end|ng |rom |c|oud@com  Sat Nov 22 21:23:50 2025
From: r|p|eybd @end|ng |rom |c|oud@com (Prof Brian Ripley)
Date: Sat, 22 Nov 2025 20:23:50 +0000
Subject: [R-SIG-Mac] Failed tests on M1mac
In-Reply-To: <D523C30A-05EA-47CD-A498-F22884730C51@me.com>
References: <IA1PR19MB7278E1FE7394D030DCF3B5F1B4D2A@IA1PR19MB7278.namprd19.prod.outlook.com>
 <0e0f8d2b-009e-4678-b00e-fd5bd4c8312c@gmail.com>
 <D523C30A-05EA-47CD-A498-F22884730C51@me.com>
Message-ID: <163c46b8-1a30-43f8-a779-41426e35a0a4@icloud.com>

On 22/11/2025 02:37, Marc Schwartz via R-SIG-Mac wrote:
> On Nov 21, 2025, at 9:21?PM, Duncan Murdoch <murdoch.duncan at gmail.com> wrote:
>>
>> On 2025-11-21 6:53 p.m., Jordan Martinetti wrote:
>>> Hello I am a new CRAN author working on Windows.  I tested my package locally and it worked great and passed CRAN testing when I initially uploaded.  Yesterday I got an email saying it failed on M1mac.  I don't have a mac machine to do testing on so i'm unsure how I can test my package before uploading to CRAN and hoping it passes.
>>> While I don't expect a significant portion of users of my package to work on mac, I would rather not skip mac testing and try to work on as many platforms as possible.  How can I test my package on mac, without owning a mac, so that I know it will work before uploading to CRAN?

You do not have the option to exclude Mac users under the CRAN policy, 
and this is in any case not a Mac issue.

>> If you use Github actions for testing, you can choose a Mac machine to run on.  I don't know what versions of macOS they have available.
>>
>> Here are some lines from the YAML file for one of my packages that is tested on Windows, Ubuntu and macOS:
>>
>>   R-CMD-check:
>>     runs-on: ${{ matrix.config.os }}
>>
>>     name: ${{ matrix.config.os }} (${{ matrix.config.r }})
>>
>>     strategy:
>>       fail-fast: false
>>       matrix:
>>         config:
>>           - {os: windows-latest, r: 'release'}
>>           - {os: windows-latest, r: 'devel'}
>>           - {os: ubuntu-latest,   r: 'devel', http-user-agent: 'release'}
>>           - {os: macos-latest, r: 'devel'}
>>
>> These were originally based on the code from the `usethis` package; I don't know how far it has diverged by now.
>>
>> If you're not using Github, Gitlab or something similar, you should.
>>
>> Duncan
> 
> 
> Hi,
> 
> In addition to Duncan's suggestion, you can use the macOS Builder service here:
> 
>    https://mac.r-project.org/macbuilder/submit.html
> 
> It generally parallels the winbuilder site (https://win-builder.r-project.org/) for the testing of CRAN packages on Apple silicon.
> 
> It is listed in the Re-submission section in the CRAN Policy:
> 
>    https://cran.r-project.org/web/packages/policies.html#Re_002dsubmission

That would be a good answer if this were a macOS issue, but the OP 
jumped to that conclusion and it was not reported to him as such.

This appears to be about package sodaR and the additional issue showing 
for thqt is about a date-time (and it passes on other macOS platforms). 
That suggests that it depends on time zone or locale -- the OP uses a 
test-obfuscation suite but digging into the package sources shows that 
this is attempting to work with

"09/14/2012 10:38:01 PM"

The help for posixify has no examples and no description of its expected 
inputs.  It claims the result is 'a POSIX date', which is false (it 
appears to be a date-time of class "POSIXct").

That is both a country-specific format and locale-dependent, as pointed 
out in the help for strptime.  In this case locale-specific conversions 
depend not just on the locale name but also the OS version -- macOS has 
changed its locale definitions since version 11 used for the CRAN macOS 
checks (and AFAIK for mac-builder).

If you really need to convert that benighted format more portably, you 
could try setting a C locale by e.g.

Sys.setlocale("LC_TIME", "C")

The POSIX standard mandates AM/PM strings in the C locale but OSes do 
not necessarily pay close attention to such standards.


-- 
Brian D. Ripley,                  ripleybd at icloud.com
Emeritus Professor of Applied Statistics, University of Oxford


From jord@n @end|ng |rom jord@nm@rt|nett|@com  Sat Nov 22 23:24:22 2025
From: jord@n @end|ng |rom jord@nm@rt|nett|@com (Jordan Martinetti)
Date: Sat, 22 Nov 2025 22:24:22 +0000
Subject: [R-SIG-Mac] Failed tests on M1mac
In-Reply-To: <163c46b8-1a30-43f8-a779-41426e35a0a4@icloud.com>
References: <IA1PR19MB7278E1FE7394D030DCF3B5F1B4D2A@IA1PR19MB7278.namprd19.prod.outlook.com>
 <0e0f8d2b-009e-4678-b00e-fd5bd4c8312c@gmail.com>
 <D523C30A-05EA-47CD-A498-F22884730C51@me.com>
 <163c46b8-1a30-43f8-a779-41426e35a0a4@icloud.com>
Message-ID: <DS0PR19MB72939363C41E9FEFCE9470B5B4D2A@DS0PR19MB7293.namprd19.prod.outlook.com>

I did not say it was a macOS issue And did not mean to imply it, although I do not think I did. I was meaning to simple ask for methods or resources to assist with testing on Mac as I do not have a Mac to test my package on. I believe the other people provided what I needed: Resources and suggestions for testing my package on a Mac operating system to ensure it works before uploading to CRAN and I thank you Marc and Duncan.

________________________________
From: R-SIG-Mac <r-sig-mac-bounces at r-project.org> on behalf of Prof Brian Ripley via R-SIG-Mac <r-sig-mac at r-project.org>
Sent: Saturday, November 22, 2025 2:24:11 PM
To: Marc Schwartz <marc_schwartz at me.com>; Duncan Murdoch <murdoch.duncan at gmail.com>
Cc: R-SIG-Mac at r-project.org <R-SIG-Mac at r-project.org>
Subject: Re: [R-SIG-Mac] Failed tests on M1mac

On 22/11/2025 02:37, Marc Schwartz via R-SIG-Mac wrote:
> On Nov 21, 2025, at 9:21?PM, Duncan Murdoch <murdoch.duncan at gmail.com> wrote:
>>
>> On 2025-11-21 6:53 p.m., Jordan Martinetti wrote:
>>> Hello I am a new CRAN author working on Windows.  I tested my package locally and it worked great and passed CRAN testing when I initially uploaded.  Yesterday I got an email saying it failed on M1mac.  I don't have a mac machine to do testing on so i'm unsure how I can test my package before uploading to CRAN and hoping it passes.
>>> While I don't expect a significant portion of users of my package to work on mac, I would rather not skip mac testing and try to work on as many platforms as possible.  How can I test my package on mac, without owning a mac, so that I know it will work before uploading to CRAN?

You do not have the option to exclude Mac users under the CRAN policy,
and this is in any case not a Mac issue.

>> If you use Github actions for testing, you can choose a Mac machine to run on.  I don't know what versions of macOS they have available.
>>
>> Here are some lines from the YAML file for one of my packages that is tested on Windows, Ubuntu and macOS:
>>
>>   R-CMD-check:
>>     runs-on: ${{ matrix.config.os }}
>>
>>     name: ${{ matrix.config.os }} (${{ matrix.config.r }})
>>
>>     strategy:
>>       fail-fast: false
>>       matrix:
>>         config:
>>           - {os: windows-latest, r: 'release'}
>>           - {os: windows-latest, r: 'devel'}
>>           - {os: ubuntu-latest,   r: 'devel', http-user-agent: 'release'}
>>           - {os: macos-latest, r: 'devel'}
>>
>> These were originally based on the code from the `usethis` package; I don't know how far it has diverged by now.
>>
>> If you're not using Github, Gitlab or something similar, you should.
>>
>> Duncan
>
>
> Hi,
>
> In addition to Duncan's suggestion, you can use the macOS Builder service here:
>
>    https://mac.r-project.org/macbuilder/submit.html
>
> It generally parallels the winbuilder site (https://win-builder.r-project.org/) for the testing of CRAN packages on Apple silicon.
>
> It is listed in the Re-submission section in the CRAN Policy:
>
>    https://cran.r-project.org/web/packages/policies.html#Re_002dsubmission

That would be a good answer if this were a macOS issue, but the OP
jumped to that conclusion and it was not reported to him as such.

This appears to be about package sodaR and the additional issue showing
for thqt is about a date-time (and it passes on other macOS platforms).
That suggests that it depends on time zone or locale -- the OP uses a
test-obfuscation suite but digging into the package sources shows that
this is attempting to work with

"09/14/2012 10:38:01 PM"

The help for posixify has no examples and no description of its expected
inputs.  It claims the result is 'a POSIX date', which is false (it
appears to be a date-time of class "POSIXct").

That is both a country-specific format and locale-dependent, as pointed
out in the help for strptime.  In this case locale-specific conversions
depend not just on the locale name but also the OS version -- macOS has
changed its locale definitions since version 11 used for the CRAN macOS
checks (and AFAIK for mac-builder).

If you really need to convert that benighted format more portably, you
could try setting a C locale by e.g.

Sys.setlocale("LC_TIME", "C")

The POSIX standard mandates AM/PM strings in the C locale but OSes do
not necessarily pay close attention to such standards.


--
Brian D. Ripley,                  ripleybd at icloud.com
Emeritus Professor of Applied Statistics, University of Oxford

_______________________________________________
R-SIG-Mac mailing list
R-SIG-Mac at r-project.org
https://stat.ethz.ch/mailman/listinfo/r-sig-mac


	[[alternative HTML version deleted]]


