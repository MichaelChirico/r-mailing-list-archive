From ostrouchovg at ornl.gov  Tue Feb  1 15:17:19 2005
From: ostrouchovg at ornl.gov (George Ostrouchov)
Date: Tue Feb  1 15:17:33 2005
Subject: [R-SIG-Mac] Rggobi
Message-ID: <41FF8F6F.2090002@ornl.gov>

Can someone comment on the availability and status of Rggobi for the 
Mac. We are considering a Power Mac platform and will be working on some 
R-GGobi combination tools. Is an Opteron or Itanium PC running Linux a 
better alternative?

Thanks for your comments,
George

-- 
George Ostrouchov
Statistics and Data Sciences Group
Computer Science and Mathematics Division
Oak Ridge National Laboratory
http://www.csm.ornl.gov/~ost

From urbanek at research.att.com  Wed Feb  2 00:41:56 2005
From: urbanek at research.att.com (Simon Urbanek)
Date: Wed Feb  2 00:42:03 2005
Subject: [R-SIG-Mac] Rggobi
In-Reply-To: <41FF8F6F.2090002@ornl.gov>
References: <41FF8F6F.2090002@ornl.gov>
Message-ID: <DBDB24DB-74AA-11D9-B453-000D93AE1C66@research.att.com>

On Feb 1, 2005, at 9:17 AM, George Ostrouchov wrote:

> Can someone comment on the availability and status of Rggobi for the 
> Mac.

It depends on the OS you plan to use. I suspect that there is no 
difference in the Rggobi status for Linux, regardless of the processor 
used.

What you probably meant was the status of Rggobi with respect to Mac OS 
X. The status of ggobi itself is that it works if using X11 version of 
GTK+. Aqua-native GTK+ doesn't quite work, yet (the problem being the 
native port of GTK+, not ggobi itself).
Using X11 version I have successfully compiled and run both ggobi 
(1.0.4b) and Rggobi (1.1-2) on an OS X machine (in fact it compiles 
out-of-the-box given working GTK+, kudos to the ggobi team!). I didn't 
actually work with that build too much, so your mileage may vary.

>  We are considering a Power Mac platform and will be working on some 
> R-GGobi combination tools. Is an Opteron or Itanium PC running Linux a 
> better alternative?

I believe the answer to that question pretty much depends on how you 
plan to use the machines...

Cheers,
Simon

From simon.urbanek at r-project.org  Wed Feb  2 14:31:54 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed Feb  2 14:31:56 2005
Subject: [R-SIG-Mac] Command line completion,
	Help browser navigation buttons, Offering code changes for GUI
In-Reply-To: <b337e416a21ff94b3827b95b2045afce@stat.harvard.edu>
References: <BE2441DA.457F%gsxej2@cam.ac.uk>
	<b337e416a21ff94b3827b95b2045afce@stat.harvard.edu>
Message-ID: <CDDD408E-751E-11D9-931D-000D93AE1C66@r-project.org>

On Jan 31, 2005, at 3:33 PM, Byron Ellis wrote:

> For the completion, you can just run things through complete: to get a 
> drop down of completion objects

I have now committed code using the complete: Cocoa API, but I'm not 
quite happy with it. It is severely limited - e.g. you cannot complete 
an empty string (useful for files), one-letter completions are handled 
separately (they won't complete although you get the list) and Cocoa 
has its own notion of "words" - so for example read.table is two words, 
although we'd actually like to treat it as one (I put a hack in place 
that tries to remedy that, but it's not nice ...). The good news is 
that you actually get a drop-down menu with the completion candidates 
(now it searches through all environments which may or may not be a 
good thing). I put the changes in just for users to test-drive it, but 
I think we'll end up cooking up our own solution later...

Cheers,
Simon

From simone.gabbriellini at sp.unipi.it  Wed Feb  2 19:19:35 2005
From: simone.gabbriellini at sp.unipi.it (Simone Gabbriellini)
Date: Wed Feb  2 21:55:20 2005
Subject: [R-SIG-Mac] rgl on macosx
Message-ID: <4fd713a90379f282ca80e35bc597e48f@sp.unipi.it>

Dear prof. Iacus,
I'm a newbie in R, and I'm interested in rgl package, because of my  
work on social network analysis (I use sna package, but I would like to  
use rgl to plot 3D graphs).
My problem is that I cannot find a way to load it, because the command  
library(rgl) gives me this output:

Error in dyn.load(x, as.logical(local), as.logical(now)) :
	unable to load shared library  
"/Library/Frameworks/R.framework/Resources/library/rgl/libs/rgl.so":
   dlcompat: dyld: /Applications/R.app/Contents/MacOS/R can't open  
library: /usr/local/lib/libpng12.0.dylib  (No such file or directory,  
errno = 2)
Error in library(rgl) : .First.lib failed for 'rgl'
Error in .C(symbol.C("rgl_quit"), success = FALSE, PACKAGE = "rgl") :
	C function name not in DLL for package rgl

I try to change

Sys.putenv("DYLD_LIBRARY_PATH"=gsub("/usr/X11R6/ 
lib","",Sys.getenv("DYLD_LIBRARY_PATH")))

in

Sys.putenv("DYLD_LIBRARY_PATH"=gsub("/Library/Frameworks/R.framework/ 
Versions/2.0.1/Resources/library/rgl/ 
libs/","",Sys.getenv("DYLD_LIBRARY_PATH")))

in rgl's .First.lib function, but still get no results. I see that the  
path it tries to follow doesn't match with the path that I use (which  
is correct), but it's the only clue I can give you.

Can you help me?

thank you in advance,
Simone Gabbriellini

ps: I'm having trouble also with the packages manager, which freeze R  
while it tries to load the package (I think that it's in looking for  
the documentation of the package but could not find it...)
	[[alternative text/enriched version deleted]]

From stefano.iacus at unimi.it  Wed Feb  2 22:03:11 2005
From: stefano.iacus at unimi.it (stefano iacus)
Date: Wed Feb  2 22:03:12 2005
Subject: [R-SIG-Mac] rgl on macosx
In-Reply-To: <4fd713a90379f282ca80e35bc597e48f@sp.unipi.it>
References: <4fd713a90379f282ca80e35bc597e48f@sp.unipi.it>
Message-ID: <138f0d2d78c91c66f9a39ad6af03b0b6@unimi.it>

Ciao Simone,
the problem is that apparently libpng is not present on your system.
On http://www.economia.unimi.it/R/ you find some insturctions on how to 
get this dll even though you need to install the Apple Developer Tools 
first.
BTW, as rgl is X11 based, you need to first launch the X11 windows 
server and then try to load the rgl package.
stefano

On Feb 2, 2005, at 7:19 PM, Simone Gabbriellini wrote:

> Dear prof. Iacus,
> I'm a newbie in R, and I'm interested in rgl package, because of my
> work on social network analysis (I use sna package, but I would like to
> use rgl to plot 3D graphs).
> My problem is that I cannot find a way to load it, because the command
> library(rgl) gives me this output:
>
> Error in dyn.load(x, as.logical(local), as.logical(now)) :
> 	unable to load shared library
> "/Library/Frameworks/R.framework/Resources/library/rgl/libs/rgl.so":
>    dlcompat: dyld: /Applications/R.app/Contents/MacOS/R can't open
> library: /usr/local/lib/libpng12.0.dylib  (No such file or directory,
> errno = 2)
> Error in library(rgl) : .First.lib failed for 'rgl'
> Error in .C(symbol.C("rgl_quit"), success = FALSE, PACKAGE = "rgl") :
> 	C function name not in DLL for package rgl
>
> I try to change
>
> Sys.putenv("DYLD_LIBRARY_PATH"=gsub("/usr/X11R6/
> lib","",Sys.getenv("DYLD_LIBRARY_PATH")))
>
> in
>
> Sys.putenv("DYLD_LIBRARY_PATH"=gsub("/Library/Frameworks/R.framework/
> Versions/2.0.1/Resources/library/rgl/
> libs/","",Sys.getenv("DYLD_LIBRARY_PATH")))
>
> in rgl's .First.lib function, but still get no results. I see that the
> path it tries to follow doesn't match with the path that I use (which
> is correct), but it's the only clue I can give you.
>
> Can you help me?
>
> thank you in advance,
> Simone Gabbriellini
>
> ps: I'm having trouble also with the packages manager, which freeze R
> while it tries to load the package (I think that it's in looking for
> the documentation of the package but could not find it...)
> 	[[alternative text/enriched version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

From prathouz at health.bsd.uchicago.edu  Fri Feb  4 17:31:25 2005
From: prathouz at health.bsd.uchicago.edu (Paul Rathouz)
Date: Fri Feb  4 17:31:31 2005
Subject: [R-SIG-Mac] library version mismatch ?
Message-ID: <Pine.GSO.4.43L0.0502041023500.4697-100000@snow>


Hi -- I am using the new R 2.0.1 with / without the Cocoa GUI.  At various
times I am getting the following "version mismatch" errors for libraries.
Can I fix this? -- pr

--Example 1--

When I try to download packages in source file form using the package
installer:

dyld: tar version mismatch for library: /usr/local/lib/libiconv.2.dylib
(compatibility version of user: 5.0.0 greater than library's version:
4.0.0)


--Example 2--

When I try to run "help.start()" when running R in the command line:

> dyld: /usr/bin/open version mismatch for library:
/usr/local/lib/libxml2.2.dylib (compatibility version of user: 9.0.0
greater than library's version: 8.0.0)
dyld: /usr/bin/open version mismatch for library:
/usr/local/lib/libxml2.2.dylib (compatibility version of user: 9.0.0
greater than library's version: 8.0.0)


==========================================================================
Paul Rathouz, Assoc. Professor       ph   773-834-1970
Dept. of Health Studies, Rm. W-264   fax  773-702-1979
University of Chicago                prathouz@health.bsd.uchicago.edu
5841 S. Maryland Ave. MC 2007
Chicago, IL  60637

From simon.urbanek at r-project.org  Fri Feb  4 20:07:16 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri Feb  4 20:07:15 2005
Subject: [R-SIG-Mac] library version mismatch ?
In-Reply-To: <Pine.GSO.4.43L0.0502041023500.4697-100000@snow>
References: <Pine.GSO.4.43L0.0502041023500.4697-100000@snow>
Message-ID: <FBFD77EE-76DF-11D9-931D-000D93AE1C66@r-project.org>

On Feb 4, 2005, at 11:31 AM, Paul Rathouz wrote:

> Hi -- I am using the new R 2.0.1 with / without the Cocoa GUI.  At 
> various
> times I am getting the following "version mismatch" errors for 
> libraries.
> Can I fix this? -- pr

Yes, remove the offending libraries. Obviously you are running Panther 
which comes with both libxml and libiconv that are newer than whatever 
you installed in /usr/local/lib. Removing those old libraries usually 
solves the problem. (BTW: this was mentioned on this list several times 
and is also mentioned on the Mac GUI pages).

Cheers,
Simon

From j.van_den_hoff at fz-rossendorf.de  Mon Feb  7 14:36:12 2005
From: j.van_den_hoff at fz-rossendorf.de (joerg van den hoff)
Date: Mon Feb  7 14:36:19 2005
Subject: [R-SIG-Mac] searchpath for R2dvi
Message-ID: <42076ECC.4090509@fz-rossendorf.de>


hello everybody:

trying to generate .dvi from .Rd from the command line with

Rd2dvi something.Rd

leads to the errormessage

"Creating dvi output from LaTeX ...
/Library/Frameworks/R.framework/Resources/bin/Rd2dvi: line 309: 
/usr/local/teTeX/bin/powerpc-apple-darwin-current/latex: No such file or 
directory"

now, there _is_ a latex installation on my machine, although not in 
/usr/local, but rather in /sw/bin (==> 'fink' installation).

somebody from the list explained to me some time ago, how to inform the 
GUI of a non-standard search path for executables (so that 'system' 
works without absolute paths) and that is already in place (in 
~/.MacOSX/environment.plist).

but obviously this does not inform the command line call, which in 
addition seems not to honour the shell environment (i.e. my $path).

question: how can I get the search path right for the R CMD Rd2dvi call?


regards
joerg

From jbowers at csm.Berkeley.EDU  Mon Feb  7 16:10:45 2005
From: jbowers at csm.Berkeley.EDU (Jake Bowers)
Date: Mon Feb  7 16:10:57 2005
Subject: [R-SIG-Mac] How to Speed up R on the G5
Message-ID: <Pine.GSO.4.51.0502070705590.3565@csm.Berkeley.EDU>

Hi All,

I've been receiving some friendly grief from a friend with a Linux
dual-Opteron system about the performance of his R package on the OS X G5
system.

He has suggested recompiling R-patched with a variety of different
compilers and compiler flags. And has also suggested just recompiling
his package with different flags and compilers (while leaving
r-patched as I have currently built it using gcc 3.3 20030304 (Apple
Computer, Inc. build 1671), and g77 3.4.2 (from that wonderful site:
hpc.sf.net)).

I have now successfully recompiled R using a few different
configurations. Each one builds and passes make check (except for
reg-tests-1.R <-- which has failed in all cases and also on my debian
box, which suggests that there is something going on with
reg-tests-1.R in r-patched that is not OS X dependent)

My first question is how to play with these different versions without
breaking my production version? That is, I don't want to have to
delete my currently working build of R-patched each time I want to run
a speed test.

My second question is whether there are ways other than using
--with-blas="-framework vecLib", to take advantage of what I thought
was the power of the G5 (or dual G5s in my case).

I'm sure this is a complete newbie type of question, and
I apologize in advance for my ignorance!

For those of you who are interested, here are some ways that I've
been trying to optimize R for the G5. I can't report speed tests yet
because of my inexperience with compiling things (as made clear by my
first question!).

FYI, I'm building versions in the most stripped down way that I can
envision, since I mainly just want speed. I'm also doing make
distclean in between builds, and hand editing tests/Makefile to delete
the reference to reg-tests-1.R after it fails. And I am using
r-patched updated via svn update yesterday.

Here is what I'm playing with:

1) One set of builds with standard compilers and flags
(--with-blas="-framework vecLib" --with-lapack")

2) One build like (1) but using the libgoto.dylib version of BLAS and
the vecLib stuff for lapack (It doesn't work with just
--with-blas"-L/usr/local/lib -lgoto"
--with-lapack). (http://www.cs.utexas.edu/users/kgoto/signup_first.html#For_OS_X)

./configure --with-blas="-L/usr/local/lib -lgoto"
--with-lapack="-framework vecLib" --without-aqua --with-x
--disable-R-shlib --disable-R-profiling --without-recommended-packages

3) Another set of builds with some compiler flags:
 C compiler:                /usr/bin/gcc  -g -O3 -mcpu=970 -mtune=970 -mpowerpc64 -mpowerpc-gpopt -force_cpusubtype_ALL
 C++ compiler:              g++  -g -O3 -mcpu=970 -mtune=970 -mpowerpc64 -mpowerpc-gpopt -force_cpusubtype_ALL
 Fortran compiler:          g77  -O3 -mcpu=970 -mtune=970 -mpowerpc64 -mpowerpc-gpopt -force_cpusubtype_ALL

4) Another like (3), but with the libgoto BLAS.

This leaves me with 4 builds to test. I figure I have to say "R CMD
INSTALL thepackage.tar.gz" for each build to test my friend's pacakge. At
least that is what I think... I don't really know if there is a more
direct way.

*Other attempts at optimization which failed:

My friend also suggested using gcc-4.0 with CFLAGS and FFLAGS
including "-ftree-vectorize -maltivec", but this wouldn't completely
build.

Another option was to use other compiler flags on the Apple provided gcc, like this:

 C compiler:  /usr/bin/gcc -g -O3 -funroll-loops -fstrict-aliasing
 -fsched-interblock -falign-loops=16 -falign-jumps=16 -falign-functions=16
 -falign-jumps-max-skip=15 -falign-loops-max-skip=15 -malign-natural
 -ffast-math -mpowerpc-gpopt -force_cpusubtype_ALL -fstrict-aliasing
 -mtune=G5 -mcpu=G5 -mpowerpc64

 C++ compiler:  g++ -g -O3 -mcpu=970 -mtune=970 -mpowerpc64
 -mpowerpc-gpopt -force_cpusubtype_ALL -funroll-loops -fstrict-aliasing
 -fsched-interblock -falign-loops=16 -falign-jumps=16 -falign-functions=16
 -falign-jumps-max-skip=15 -falign-loops-max-skip=15 -malign-natural
 -ffast-math

  Fortran compiler:  g77 -O3 -funroll-loops -fstrict-aliasing
  -fsched-interblock -falign-loops=16 -falign-jumps=16
  -falign-functions=16 -falign-jumps-max-skip=15 -falign-loops-max-skip=15
  -malign-natural -ffast-math -mpowerpc-gpopt -force_cpusubtype_ALL
  -fstrict-aliasing -mtune=G5 -mcpu=G5 -mpowerpc64

but, although this compiled ok, it failed the make check on the first test (base-Ex.R with:
> tx0 <- c(9, 4, 6, 5, 3, 10, 5, 3, 5)
> x <- rep(0:8, tx0)
> stopifnot(table(x) == tx0)
Warning in table(x) == tx0 : longer object length
	is not a multiple of shorter object length
Error in stopifnot(table(x) == tx0) : dim<- : dims [product 8] do not match the length of object [9]
Execution halted)

Finally, he suggested looking into the AbSoft compilers. But, I
figured I'd save my money and see if other folks have had luck with
those yet.

Thanks very much for any thoughts or help any of y'all might have!


Jake

Jake Bowers
Assistant Professor
Dept of Political Science
University of Michigan
jwbowers@umich.edu
http://www.umich.edu/~jwbowers/

From redmond at cs.wisc.edu  Mon Feb  7 16:40:53 2005
From: redmond at cs.wisc.edu (Michael Redmond)
Date: Mon Feb  7 16:41:05 2005
Subject: [R-SIG-Mac] How to Speed up R on the G5
In-Reply-To: <Pine.GSO.4.51.0502070705590.3565@csm.Berkeley.EDU>
References: <Pine.GSO.4.51.0502070705590.3565@csm.Berkeley.EDU>
Message-ID: <42078C05.9000407@stat.wisc.edu>

Jake,
I am also very interested in this. We are running R through an iNquiry 
portal, and have found that (at least for an early test) the performance 
is not as good as a 2.8Ghz P4 system (11 hours on the P4 vs 13 houes on 
the XServe). The P4 has less memory (1G on P4 vs 2G on Xserve nodes). I 
am ready to benchmark any improvements.

The application we have is R with Bioconductor doing MCMC, though I 
don't have many more specifics. All I know is that the test is 
"real-world".

Our installation is via compile from source of R-2.0.1 using fink. No 
modifications were made to the standard Make/Install config.

Thanks
Mike
---

Jake Bowers wrote:
> Hi All,
> 
> I've been receiving some friendly grief from a friend with a Linux
> dual-Opteron system about the performance of his R package on the OS X G5
> system.
> 
> He has suggested recompiling R-patched with a variety of different
> compilers and compiler flags. And has also suggested just recompiling
> his package with different flags and compilers (while leaving
> r-patched as I have currently built it using gcc 3.3 20030304 (Apple
> Computer, Inc. build 1671), and g77 3.4.2 (from that wonderful site:
> hpc.sf.net)).
> 
> I have now successfully recompiled R using a few different
> configurations. Each one builds and passes make check (except for
> reg-tests-1.R <-- which has failed in all cases and also on my debian
> box, which suggests that there is something going on with
> reg-tests-1.R in r-patched that is not OS X dependent)
> 
> My first question is how to play with these different versions without
> breaking my production version? That is, I don't want to have to
> delete my currently working build of R-patched each time I want to run
> a speed test.
> 
> My second question is whether there are ways other than using
> --with-blas="-framework vecLib", to take advantage of what I thought
> was the power of the G5 (or dual G5s in my case).
> 
> I'm sure this is a complete newbie type of question, and
> I apologize in advance for my ignorance!
> 
> For those of you who are interested, here are some ways that I've
> been trying to optimize R for the G5. I can't report speed tests yet
> because of my inexperience with compiling things (as made clear by my
> first question!).
> 
> FYI, I'm building versions in the most stripped down way that I can
> envision, since I mainly just want speed. I'm also doing make
> distclean in between builds, and hand editing tests/Makefile to delete
> the reference to reg-tests-1.R after it fails. And I am using
> r-patched updated via svn update yesterday.
> 
> Here is what I'm playing with:
> 
> 1) One set of builds with standard compilers and flags
> (--with-blas="-framework vecLib" --with-lapack")
> 
> 2) One build like (1) but using the libgoto.dylib version of BLAS and
> the vecLib stuff for lapack (It doesn't work with just
> --with-blas"-L/usr/local/lib -lgoto"
> --with-lapack). (http://www.cs.utexas.edu/users/kgoto/signup_first.html#For_OS_X)
> 
> ./configure --with-blas="-L/usr/local/lib -lgoto"
> --with-lapack="-framework vecLib" --without-aqua --with-x
> --disable-R-shlib --disable-R-profiling --without-recommended-packages
> 
> 3) Another set of builds with some compiler flags:
>  C compiler:                /usr/bin/gcc  -g -O3 -mcpu=970 -mtune=970 -mpowerpc64 -mpowerpc-gpopt -force_cpusubtype_ALL
>  C++ compiler:              g++  -g -O3 -mcpu=970 -mtune=970 -mpowerpc64 -mpowerpc-gpopt -force_cpusubtype_ALL
>  Fortran compiler:          g77  -O3 -mcpu=970 -mtune=970 -mpowerpc64 -mpowerpc-gpopt -force_cpusubtype_ALL
> 
> 4) Another like (3), but with the libgoto BLAS.
> 
> This leaves me with 4 builds to test. I figure I have to say "R CMD
> INSTALL thepackage.tar.gz" for each build to test my friend's pacakge. At
> least that is what I think... I don't really know if there is a more
> direct way.
> 
> *Other attempts at optimization which failed:
> 
> My friend also suggested using gcc-4.0 with CFLAGS and FFLAGS
> including "-ftree-vectorize -maltivec", but this wouldn't completely
> build.
> 
> Another option was to use other compiler flags on the Apple provided gcc, like this:
> 
>  C compiler:  /usr/bin/gcc -g -O3 -funroll-loops -fstrict-aliasing
>  -fsched-interblock -falign-loops=16 -falign-jumps=16 -falign-functions=16
>  -falign-jumps-max-skip=15 -falign-loops-max-skip=15 -malign-natural
>  -ffast-math -mpowerpc-gpopt -force_cpusubtype_ALL -fstrict-aliasing
>  -mtune=G5 -mcpu=G5 -mpowerpc64
> 
>  C++ compiler:  g++ -g -O3 -mcpu=970 -mtune=970 -mpowerpc64
>  -mpowerpc-gpopt -force_cpusubtype_ALL -funroll-loops -fstrict-aliasing
>  -fsched-interblock -falign-loops=16 -falign-jumps=16 -falign-functions=16
>  -falign-jumps-max-skip=15 -falign-loops-max-skip=15 -malign-natural
>  -ffast-math
> 
>   Fortran compiler:  g77 -O3 -funroll-loops -fstrict-aliasing
>   -fsched-interblock -falign-loops=16 -falign-jumps=16
>   -falign-functions=16 -falign-jumps-max-skip=15 -falign-loops-max-skip=15
>   -malign-natural -ffast-math -mpowerpc-gpopt -force_cpusubtype_ALL
>   -fstrict-aliasing -mtune=G5 -mcpu=G5 -mpowerpc64
> 
> but, although this compiled ok, it failed the make check on the first test (base-Ex.R with:
> 
>>tx0 <- c(9, 4, 6, 5, 3, 10, 5, 3, 5)
>>x <- rep(0:8, tx0)
>>stopifnot(table(x) == tx0)
> 
> Warning in table(x) == tx0 : longer object length
> 	is not a multiple of shorter object length
> Error in stopifnot(table(x) == tx0) : dim<- : dims [product 8] do not match the length of object [9]
> Execution halted)
> 
> Finally, he suggested looking into the AbSoft compilers. But, I
> figured I'd save my money and see if other folks have had luck with
> those yet.
> 
> Thanks very much for any thoughts or help any of y'all might have!
> 
> 
> Jake
> 
> Jake Bowers
> Assistant Professor
> Dept of Political Science
> University of Michigan
> jwbowers@umich.edu
> http://www.umich.edu/~jwbowers/
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

From tlumley at u.washington.edu  Mon Feb  7 16:47:06 2005
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon Feb  7 16:47:18 2005
Subject: [R-SIG-Mac] How to Speed up R on the G5
In-Reply-To: <Pine.GSO.4.51.0502070705590.3565@csm.Berkeley.EDU>
References: <Pine.GSO.4.51.0502070705590.3565@csm.Berkeley.EDU>
Message-ID: <Pine.A41.4.61b.0502070736190.51902@homer10.u.washington.edu>

On Mon, 7 Feb 2005, Jake Bowers wrote:
>
> My first question is how to play with these different versions without
> breaking my production version? That is, I don't want to have to
> delete my currently working build of R-patched each time I want to run
> a speed test.

You can build R without installing it, as long as you don't want to use 
the GUI.  For example, I have the current development version of R in 
~/R-devel/R and version 2.0.0 installed in /.

Then use

  ~/path/to/this/version/R CMD INSTALL thepackage

to install the package.  Make sure you don't have an .Rprofile that would 
put all the packages in the same place.


> My second question is whether there are ways other than using
> --with-blas="-framework vecLib", to take advantage of what I thought
> was the power of the G5 (or dual G5s in my case).

I haven't found anything very impressive yet (this is on an iMac G5, so 
with much lower bus speed).

I am planning to test the IBM (Absoft) compilers when I get time.  In the 
past people have found that a good Fortran compiler can speed R up 
noticeably (eg on Solaris).


 	-thomas

From simon.urbanek at r-project.org  Mon Feb  7 16:57:34 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon Feb  7 16:57:49 2005
Subject: [R-SIG-Mac] How to Speed up R on the G5
In-Reply-To: <Pine.GSO.4.51.0502070705590.3565@csm.Berkeley.EDU>
References: <Pine.GSO.4.51.0502070705590.3565@csm.Berkeley.EDU>
Message-ID: <37C64367-7F6C-45C2-97BF-4A3E4CB49875@r-project.org>

Jake,
I will address just some issues you mentioned based on some tweaking of 
R, but since I don't have a G5 yet, some of it is just theoretical ;).
On Feb 7, 2005, at 10:10 AM, Jake Bowers wrote:
> My first question is how to play with these different versions without
> breaking my production version?
Just don't install it. You don't need to run "make install" to use R - 
just start it from the build directory.
> My second question is whether there are ways other than using
> --with-blas="-framework vecLib", to take advantage of what I thought
> was the power of the G5 (or dual G5s in my case).
As you mention yourself further down - using compiler flags you can 
increase the level of optimization.
> but, although this compiled ok, it failed the make check on the first 
> test (base-Ex.R with:
>> tx0 <- c(9, 4, 6, 5, 3, 10, 5, 3, 5)
>> x <- rep(0:8, tx0)
>> stopifnot(table(x) == tx0)
> Warning in table(x) == tx0 : longer object length
>     is not a multiple of shorter object length
> Error in stopifnot(table(x) == tx0) : dim<- : dims [product 8] do not 
> match the length of object [9]
> Execution halted)
This is due to the fact that too aggressive optimization results in 
non-IEEE conforming behavior of float computations and NA/NaN handling 
gets screwed up.
Look at the equivalent flags for "-fast" (see man gcc) and try to 
remove "-ffast-math" - that should give you fastest possible binary 
while improving the above behavior (but I didn't test it myself).
BTW: R compiles cleanly with the latest gcc 4.0 from Apple (build 4039) 
and gfortran from hpc site - previous versions didn't quite work. If 
you have ADC seed, try the latest build - it's specifically optimized 
for auto-vectorization.
Cheers,
Simon

From redmond at cs.wisc.edu  Mon Feb  7 16:59:08 2005
From: redmond at cs.wisc.edu (Michael Redmond)
Date: Mon Feb  7 16:59:22 2005
Subject: [R-SIG-Mac] How to Speed up R on the G5
In-Reply-To: <Pine.A41.4.61b.0502070736190.51902@homer10.u.washington.edu>
References: <Pine.GSO.4.51.0502070705590.3565@csm.Berkeley.EDU>
	<Pine.A41.4.61b.0502070736190.51902@homer10.u.washington.edu>
Message-ID: <4207904C.5090507@stat.wisc.edu>

Thomas,
IBM makes C compiler optimized for Mac OS/X:

http://www-306.ibm.com/software/info/ecatalog/en_US/products/K107418L80422W37.html

But I did not see a Fortran compiler. Does anyone know if Absoft the 
same as the above and does it include the compatible optimizing Fortran 
compiler? Or is there another Fortran compiler that is compatible with 
the above?

I am very interested in an optimized compile of R with option packages 
and bioconductor for OS/X on an XServe.

Thanks
Mike Redmond
UW-Madison
---

Thomas Lumley wrote:
> On Mon, 7 Feb 2005, Jake Bowers wrote:
> 
>>
>> My first question is how to play with these different versions without
>> breaking my production version? That is, I don't want to have to
>> delete my currently working build of R-patched each time I want to run
>> a speed test.
> 
> 
> You can build R without installing it, as long as you don't want to use 
> the GUI.  For example, I have the current development version of R in 
> ~/R-devel/R and version 2.0.0 installed in /.
> 
> Then use
> 
>  ~/path/to/this/version/R CMD INSTALL thepackage
> 
> to install the package.  Make sure you don't have an .Rprofile that 
> would put all the packages in the same place.
> 
> 
>> My second question is whether there are ways other than using
>> --with-blas="-framework vecLib", to take advantage of what I thought
>> was the power of the G5 (or dual G5s in my case).
> 
> 
> I haven't found anything very impressive yet (this is on an iMac G5, so 
> with much lower bus speed).
> 
> I am planning to test the IBM (Absoft) compilers when I get time.  In 
> the past people have found that a good Fortran compiler can speed R up 
> noticeably (eg on Solaris).
> 
> 
>     -thomas
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

From simon.urbanek at r-project.org  Mon Feb  7 17:02:49 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon Feb  7 17:02:57 2005
Subject: [R-SIG-Mac] How to Speed up R on the G5
In-Reply-To: <Pine.A41.4.61b.0502070736190.51902@homer10.u.washington.edu>
References: <Pine.GSO.4.51.0502070705590.3565@csm.Berkeley.EDU>
	<Pine.A41.4.61b.0502070736190.51902@homer10.u.washington.edu>
Message-ID: <D21CD3FF-32CC-4E0E-A20D-C47CCAE0404E@r-project.org>

On Feb 7, 2005, at 10:47 AM, Thomas Lumley wrote:

>> My second question is whether there are ways other than using
>> --with-blas="-framework vecLib", to take advantage of what I thought
>> was the power of the G5 (or dual G5s in my case).
> I haven't found anything very impressive yet (this is on an iMac G5, 
> so with much lower bus speed).

Just enabling G5 optimizations without any other aggressive flags gave 
me 30% boost on the code I was testing (on a dual G5 - btw: just in 
case someone didn't know - for computations one R process uses only one 
processor). But I think vecLib should be pretty well optimized by Apple 
already, so I don't know of any much faster BLAS implementation for OS 
X ...

Cheers,
Simon

From redmond at cs.wisc.edu  Mon Feb  7 17:10:13 2005
From: redmond at cs.wisc.edu (Michael Redmond)
Date: Mon Feb  7 17:10:24 2005
Subject: [R-SIG-Mac] How to Speed up R on the G5
In-Reply-To: <Pine.A41.4.61b.0502070736190.51902@homer10.u.washington.edu>
References: <Pine.GSO.4.51.0502070705590.3565@csm.Berkeley.EDU>
	<Pine.A41.4.61b.0502070736190.51902@homer10.u.washington.edu>
Message-ID: <420792E5.9090609@stat.wisc.edu>

I found an answer to my own question on combined IBM C and Fortran 
compilers. IBM makes a matching XL Fortran compiler to the XL C compiler 
per:

http://www-306.ibm.com/software/awdtools/fortran/xlfortran/

This may be the same product as in the Absoft line, or it may be a 
little more specific and advanced for OS/X and IBM systems.

There is also a trial version, so it might be possible to see if there 
is benefits (and find all the glitches) with an XL Compiler 
implementation of R.

Thanks
Mike
---

Thomas Lumley wrote:
> On Mon, 7 Feb 2005, Jake Bowers wrote:
> 
>>
>> My first question is how to play with these different versions without
>> breaking my production version? That is, I don't want to have to
>> delete my currently working build of R-patched each time I want to run
>> a speed test.
> 
> 
> You can build R without installing it, as long as you don't want to use 
> the GUI.  For example, I have the current development version of R in 
> ~/R-devel/R and version 2.0.0 installed in /.
> 
> Then use
> 
>  ~/path/to/this/version/R CMD INSTALL thepackage
> 
> to install the package.  Make sure you don't have an .Rprofile that 
> would put all the packages in the same place.
> 
> 
>> My second question is whether there are ways other than using
>> --with-blas="-framework vecLib", to take advantage of what I thought
>> was the power of the G5 (or dual G5s in my case).
> 
> 
> I haven't found anything very impressive yet (this is on an iMac G5, so 
> with much lower bus speed).
> 
> I am planning to test the IBM (Absoft) compilers when I get time.  In 
> the past people have found that a good Fortran compiler can speed R up 
> noticeably (eg on Solaris).
> 
> 
>     -thomas
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

From tlumley at u.washington.edu  Mon Feb  7 17:12:19 2005
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon Feb  7 17:12:33 2005
Subject: [R-SIG-Mac] How to Speed up R on the G5
In-Reply-To: <4207904C.5090507@stat.wisc.edu>
References: <Pine.GSO.4.51.0502070705590.3565@csm.Berkeley.EDU>
	<Pine.A41.4.61b.0502070736190.51902@homer10.u.washington.edu>
	<4207904C.5090507@stat.wisc.edu>
Message-ID: <Pine.A41.4.61b.0502070803080.51902@homer10.u.washington.edu>

On Mon, 7 Feb 2005, Michael Redmond wrote:

> Thomas,
> IBM makes C compiler optimized for Mac OS/X:
>
> http://www-306.ibm.com/software/info/ecatalog/en_US/products/K107418L80422W37.html
>
> But I did not see a Fortran compiler.

http://www-306.ibm.com/software/awdtools/fortran/xlfortran/features/macosx/xlf-mac.html

>			 Does anyone know if Absoft the same as 
> the above and does it include the compatible optimizing Fortran compiler?

The IBM page on 'How to buy' links to

http://www.absoft.com/Products/Compilers/Fortran/Macintosh/XLF/xlf.html

It's not the same as the Absoft Pro Fortran.  I don't know which is 
better.  They also aren't explicit on whether the IBM Fortran is 
compatible with gcc --  it isn't on our university's central AIX system.

There is a free trial period, though...

 	-thomas

From simon.urbanek at r-project.org  Mon Feb  7 17:22:17 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon Feb  7 17:22:27 2005
Subject: [R-SIG-Mac] How to Speed up R on the G5
In-Reply-To: <4207904C.5090507@stat.wisc.edu>
References: <Pine.GSO.4.51.0502070705590.3565@csm.Berkeley.EDU>
	<Pine.A41.4.61b.0502070736190.51902@homer10.u.washington.edu>
	<4207904C.5090507@stat.wisc.edu>
Message-ID: <A9BFAA1C-BF22-4E02-AD72-341D55768CF9@r-project.org>

Michael,

On Feb 7, 2005, at 10:59 AM, Michael Redmond wrote:

> IBM makes C compiler optimized for Mac OS/X:
> http://www-306.ibm.com/software/info/ecatalog/en_US/products/ 
> K107418L80422W37.html
> But I did not see a Fortran compiler.

http://www-306.ibm.com/software/awdtools/fortran/xlfortran/features/ 
macosx/index.html

It's supposedly one of the best, but some time ago Jan tried to compile  
R using xlf, but without success. However, I don't know the current  
status...

Cheers,
Simon

From redmond at cs.wisc.edu  Mon Feb  7 17:23:37 2005
From: redmond at cs.wisc.edu (Michael Redmond)
Date: Mon Feb  7 17:23:48 2005
Subject: [R-SIG-Mac] How to Speed up R on the G5
In-Reply-To: <Pine.A41.4.61b.0502070803080.51902@homer10.u.washington.edu>
References: <Pine.GSO.4.51.0502070705590.3565@csm.Berkeley.EDU>
	<Pine.A41.4.61b.0502070736190.51902@homer10.u.washington.edu>
	<4207904C.5090507@stat.wisc.edu>
	<Pine.A41.4.61b.0502070803080.51902@homer10.u.washington.edu>
Message-ID: <42079609.6060008@stat.wisc.edu>

The XL Fortran link from IBM goes directly to Absoft that sells XL 
Fortran for $399 to government institutions. The 60 day trial will be a 
good way to test things out.
Thanks
Mike

----

Thomas Lumley wrote:
> On Mon, 7 Feb 2005, Michael Redmond wrote:
> 
>> Thomas,
>> IBM makes C compiler optimized for Mac OS/X:
>>
>> http://www-306.ibm.com/software/info/ecatalog/en_US/products/K107418L80422W37.html 
>>
>>
>> But I did not see a Fortran compiler.
> 
> 
> http://www-306.ibm.com/software/awdtools/fortran/xlfortran/features/macosx/xlf-mac.html 
> 
> 
>>              Does anyone know if Absoft the same as the above and does 
>> it include the compatible optimizing Fortran compiler?
> 
> 
> The IBM page on 'How to buy' links to
> 
> http://www.absoft.com/Products/Compilers/Fortran/Macintosh/XLF/xlf.html
> 
> It's not the same as the Absoft Pro Fortran.  I don't know which is 
> better.  They also aren't explicit on whether the IBM Fortran is 
> compatible with gcc --  it isn't on our university's central AIX system.
> 
> There is a free trial period, though...
> 
>     -thomas

From maechler at stat.math.ethz.ch  Mon Feb  7 17:57:05 2005
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon Feb  7 17:57:16 2005
Subject: [R-SIG-Mac] How to Speed up R on the G5
In-Reply-To: <Pine.GSO.4.51.0502070705590.3565@csm.Berkeley.EDU>
References: <Pine.GSO.4.51.0502070705590.3565@csm.Berkeley.EDU>
Message-ID: <16903.40417.404820.617012@stat.math.ethz.ch>

Just one general note -- complementing all the
knowledgable and specific replies you already got :

This is a statement in much generality:

If you build (configure ; make ..) your own version of R,
please do run "make check" (at least; there's more checks you
can run).

If that gives errors (or warnings that look peculiar), do
investigate, and possibly ask for advice on R-devel (or a more
specialized list R-SIG-Mac).

Do *not* be happy if your newly compiled version of R runs a
faster but doesn't pass "make check". 
	----------------------------------------------------
Rather, DO NOT USE SUCH A VERSION OF R for anything "real" !
	----------------------------------------------------
(unless you are very sure that the reasons for failing "make
 check" won't be a problem -- and do note that I think it's only
 rarely possible to be honestly sure here!)

Martin Maechler, ETH Zurich
(speaking for myself officially, but still as member of the R-core team)

From simon.urbanek at r-project.org  Mon Feb  7 22:24:09 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon Feb  7 22:24:19 2005
Subject: [R-SIG-Mac] searchpath for R2dvi
In-Reply-To: <42076ECC.4090509@fz-rossendorf.de>
References: <42076ECC.4090509@fz-rossendorf.de>
Message-ID: <291E393B-AEFF-4CAE-89A8-26667335F536@r-project.org>

A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 1024 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20050207/1574499a/attachment.bin
From redmond at cs.wisc.edu  Tue Feb  8 00:33:10 2005
From: redmond at cs.wisc.edu (Michael Redmond)
Date: Tue Feb  8 00:33:23 2005
Subject: [R-SIG-Mac] How to Speed up R on the G5
In-Reply-To: <D21CD3FF-32CC-4E0E-A20D-C47CCAE0404E@r-project.org>
References: <Pine.GSO.4.51.0502070705590.3565@csm.Berkeley.EDU>	<Pine.A41.4.61b.0502070736190.51902@homer10.u.washington.edu>
	<D21CD3FF-32CC-4E0E-A20D-C47CCAE0404E@r-project.org>
Message-ID: <4207FAB6.4070401@stat.wisc.edu>

Simon,
What settings did you change in the compiler lines? I assume this was on 
gcc and g77?
Thanks
Mike Redmond
---

Simon Urbanek wrote:
> On Feb 7, 2005, at 10:47 AM, Thomas Lumley wrote:
> 
>>> My second question is whether there are ways other than using
>>> --with-blas="-framework vecLib", to take advantage of what I thought
>>> was the power of the G5 (or dual G5s in my case).
>>
>> I haven't found anything very impressive yet (this is on an iMac G5, 
>> so with much lower bus speed).
> 
> 
> Just enabling G5 optimizations without any other aggressive flags gave 
> me 30% boost on the code I was testing (on a dual G5 - btw: just in case 
> someone didn't know - for computations one R process uses only one 
> processor). But I think vecLib should be pretty well optimized by Apple 
> already, so I don't know of any much faster BLAS implementation for OS X 
> ...
> 
> Cheers,
> Simon
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

From w.northcott at unsw.edu.au  Tue Feb  8 01:21:07 2005
From: w.northcott at unsw.edu.au (Bill Northcott)
Date: Tue Feb  8 01:21:27 2005
Subject: [R-SIG-Mac] How to Speed up R on the G5
In-Reply-To: <200502071619.j17GGVnB021317@hypatia.math.ethz.ch>
References: <200502071619.j17GGVnB021317@hypatia.math.ethz.ch>
Message-ID: <0f3d2d9cd4840e3965e5cb518c33e8f4@unsw.edu.au>

On 08/02/2005, at 3:19 AM, Jake Bowers wrote:
> I've been receiving some friendly grief from a friend with a Linux
> dual-Opteron system about the performance of his R package on the OS X 
> G5
> system.
>
> He has suggested recompiling R-patched with a variety of different
> compilers and compiler flags. And has also suggested just recompiling
> his package with different flags and compilers (while leaving
> r-patched as I have currently built it using gcc 3.3 20030304 (Apple
> Computer, Inc. build 1671), and g77 3.4.2 (from that wonderful site:
> hpc.sf.net)).

Apple have put up a good article on Performance optimisation:
http://developer.apple.com/tools/sharkoptimize.html

The moral is: 'measure first.  Futz afterwards.'  You really must start 
by finding out where the program is spending the time.  There is 
absolutely no point optimising code that is rarely called.  There can 
be huge gains from optimising very small amounts of heavily used code.  
On the G4/G5 architectures, the big gains come if you can vectorise any 
of that heavily used code.  If you are not using Altivec, half the CPU 
is hanging around doing nothing.
>
> My second question is whether there are ways other than using
> --with-blas="-framework vecLib", to take advantage of what I thought
> was the power of the G5 (or dual G5s in my case).

Run top and see if you are using both cpus.  If not then Rmpi or 
something like that may pay big dividends.
>

> Here is what I'm playing with:
>
> 1) One set of builds with standard compilers and flags
> (--with-blas="-framework vecLib" --with-lapack")

I would take the advice from hpc.sf.net and just use the -fast flag, 
but only on code that you know from profiling to be time critical.  
There is a downside as others have observed below.
>
> 2) One build like (1) but using the libgoto.dylib version of BLAS and
> the vecLib stuff for lapack (It doesn't work with just
> --with-blas"-L/usr/local/lib -lgoto"
> --with-lapack). 
> (http://www.cs.utexas.edu/users/kgoto/signup_first.html#For_OS_X)

IMHO from what I see on Goto's site, I doubt that libgoto will do 
anything for the G5 architecture.  The Power 3 data he shows indicates 
little or no benefit.  His optimisations seem to work well for x86 and 
Alpha.  However, none of this matters, if you are not spending much 
time in the BLAS library.

> but, although this compiled ok, it failed the make check on the first 
> test (base-Ex.R with:
>> tx0 <- c(9, 4, 6, 5, 3, 10, 5, 3, 5)
>> x <- rep(0:8, tx0)
>> stopifnot(table(x) == tx0)
> Warning in table(x) == tx0 : longer object length
> 	is not a multiple of shorter object length
> Error in stopifnot(table(x) == tx0) : dim<- : dims [product 8] do not 
> match the length of object [9]
> Execution halted)
>
Only optimise where it matters.  It may cause problems.

> Finally, he suggested looking into the AbSoft compilers. But, I
> figured I'd save my money and see if other folks have had luck with
> those yet.

As far as I can see the IBM (not Absoft) xlf and xlc compilers are 
significantly faster, although Apple is working hard on gcc to close 
the gap.

Other thoughts:
1.  I don't think there is any point wasting time on Fortran.  The base 
R distribution as built on a Mac uses no Fortran code. As far as I can 
see very few R packages use Fortran.

2.  Some one else mentioned MCMCs.  These are embarassingly parallel 
applications and if they are not using both CPUs they are going to be 
inefficient.

Finally some (so far very preliminary) experience:
I have spent a little time on JAGS, a WinBUGS (MCMC) work alike which 
uses the standalone libRmath.  Running the WinBUGS kidney example, this 
code spends almost all its time in the libm functions power, exp and 
log which are called from the Weibull distribution functions in R.  
AFAIK these are not vectorised. At the moment I not comparing Mac vs PC 
but WinBUGS vs JAGS.  The author of JAGS thinks the sampling code is 
inefficient, hence the libm functions are called too often.  I am 
interested in trying to replace the calls through libRmath into libm 
with vectorised code, which I suspect will be much more effective on 
the Mac.

Of course aggressively optimising the compilation of the JAGS code 
makes absolutely no discernable difference to overall performance in my 
example.

Bill Northcott

From ellis at stat.harvard.edu  Tue Feb  8 01:43:36 2005
From: ellis at stat.harvard.edu (Byron Ellis)
Date: Tue Feb  8 01:43:50 2005
Subject: [R-SIG-Mac] How to Speed up R on the G5
In-Reply-To: <0f3d2d9cd4840e3965e5cb518c33e8f4@unsw.edu.au>
References: <200502071619.j17GGVnB021317@hypatia.math.ethz.ch>
	<0f3d2d9cd4840e3965e5cb518c33e8f4@unsw.edu.au>
Message-ID: <23fc723178f527dbbd3c0cd77cd64c14@stat.harvard.edu>


On Feb 7, 2005, at 4:21 PM, Bill Northcott wrote:

>>
>> My second question is whether there are ways other than using
>> --with-blas="-framework vecLib", to take advantage of what I thought
>> was the power of the G5 (or dual G5s in my case).
>
> Run top and see if you are using both cpus.  If not then Rmpi or 
> something like that may pay big dividends.

R will only use one CPU, AFAIK vecLib is not going to automagically 
become ScaLAPACK or anything like that (I think Intel's MKL can do 
this, but I don't know that anyone's ever gotten in working on R). 
FWIW, all versions of R are single processor (it doesn't even have a 
GIL) so that won't make much difference when comparing the two systems.

>
>> Finally, he suggested looking into the AbSoft compilers. But, I
>> figured I'd save my money and see if other folks have had luck with
>> those yet.
>
> As far as I can see the IBM (not Absoft) xlf and xlc compilers are 
> significantly faster, although Apple is working hard on gcc to close 
> the gap.
>
> Other thoughts:
> 1.  I don't think there is any point wasting time on Fortran.  The 
> base R distribution as built on a Mac uses no Fortran code. As far as 
> I can see very few R packages use Fortran.
>
> 2.  Some one else mentioned MCMCs.  These are embarassingly parallel 
> applications and if they are not using both CPUs they are going to be 
> inefficient.

It may also be that there is a large branching penalty for spending 
time in interpreted code (i.e. within R itself) on the G5 when compared 
to the Opteron---you can see that from the SPECint benchmarks. AFAIK 
the Opteron has a very small number of inflight instructions (fewer 
even than the Pentium 3/4. Speaking of which, I was at a thing with a 
couple of guys from SLAC and they were mentioning that the best way to 
boost P4 performance is to turn off SMT), something like 90 compared to 
the G5's 200 or so.

>
> Finally some (so far very preliminary) experience:
> I have spent a little time on JAGS, a WinBUGS (MCMC) work alike which 
> uses the standalone libRmath.  Running the WinBUGS kidney example, 
> this code spends almost all its time in the libm functions power, exp 
> and log which are called from the Weibull distribution functions in R. 
>  AFAIK these are not vectorised. At the moment I not comparing Mac vs 
> PC but WinBUGS vs JAGS.  The author of JAGS thinks the sampling code 
> is inefficient, hence the libm functions are called too often.  I am 
> interested in trying to replace the calls through libRmath into libm 
> with vectorised code, which I suspect will be much more effective on 
> the Mac.
>
> Of course aggressively optimising the compilation of the JAGS code 
> makes absolutely no discernable difference to overall performance in 
> my example.

Interesting. I don't know how much vector version would help with 
something like a Gibbs sampler where the next draw depends on values 
that each on each iteration through the sampler...

>
> Bill Northcott
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
---
Byron Ellis (ellis@stat.harvard.edu)
"Oook" -- The Librarian

From w.northcott at unsw.edu.au  Tue Feb  8 03:25:34 2005
From: w.northcott at unsw.edu.au (Bill Northcott)
Date: Tue Feb  8 03:25:48 2005
Subject: [R-SIG-Mac] How to Speed up R on the G5
In-Reply-To: <200502080044.j180i8nI018473@hypatia.math.ethz.ch>
References: <200502080044.j180i8nI018473@hypatia.math.ethz.ch>
Message-ID: <c2a6158d250fd0ba7a450f7c5b06f934@unsw.edu.au>

On 08/02/2005, at 11:44 AM, Byron Ellis wrote:
>>> My second question is whether there are ways other than using
>>> --with-blas="-framework vecLib", to take advantage of what I thought
>>> was the power of the G5 (or dual G5s in my case).
>>
>> Run top and see if you are using both cpus.  If not then Rmpi or
>> something like that may pay big dividends.
>
> FWIW, all versions of R are single processor (it doesn't even have a
> GIL) so that won't make much difference when comparing the two systems.

As I understand the Rmpi package it works inconjunction with SPRNG (a 
synchronised parallel RNG) and MPI libraries to allow the writing of R 
code which can run in multiple processes on more than one CPU/machine.
Normal R code only runs on one CPU but using Rmpi it should be almost 
trivially easy (once you get Rmpi to work) to get multiple MCMC chains 
to run on multiple CPUs.  Whether you can do the same with other code, 
depends on the code.  'GIL' means nothing to me I'm afraid.

> It may also be that there is a large branching penalty for spending
> time in interpreted code (i.e. within R itself) on the G5 when compared
> to the Opteron---you can see that from the SPECint benchmarks. AFAIK
> the Opteron has a very small number of inflight instructions (fewer
> even than the Pentium 3/4. Speaking of which, I was at a thing with a
> couple of guys from SLAC and they were mentioning that the best way to
> boost P4 performance is to turn off SMT), something like 90 compared to
> the G5's 200 or so.

Of course the way to find out is to profile the code using Shark.  I 
would take a lot of convincing that SPECint measures had much relevance 
to running simulations in R.
>>
>> Finally some (so far very preliminary) experience:
>> I have spent a little time on JAGS, a WinBUGS (MCMC) work alike which
>> uses the standalone libRmath.  Running the WinBUGS kidney example,
>> this code spends almost all its time in the libm functions power, exp
>> and log which are called from the Weibull distribution functions in R.
>>  AFAIK these are not vectorised. At the moment I not comparing Mac vs
>> PC but WinBUGS vs JAGS.  The author of JAGS thinks the sampling code
>> is inefficient, hence the libm functions are called too often.  I am
>> interested in trying to replace the calls through libRmath into libm
>> with vectorised code, which I suspect will be much more effective on
>> the Mac.
>
> Interesting. I don't know how much vector version would help with
> something like a Gibbs sampler where the next draw depends on values
> that each on each iteration through the sampler...

That is why you need Shark.  Using it shows that the MCMC spend 
extremely small amounts of time in the MCMC sampler, and lots of time 
in libm.  There are only two possible ways to speed it up:
1.  Use a better sampler which makes fewer calls to the R Weibull stuff 
and hence to libm.
and/or
2.  Replace the calls to libm with something faster (and possibly lower 
precision) such as Altivec calls.

Either or both together should work.

Bill Northcott

From bates at stat.wisc.edu  Tue Feb  8 09:38:45 2005
From: bates at stat.wisc.edu (Douglas Bates)
Date: Tue Feb  8 09:38:41 2005
Subject: [R-SIG-Mac] How to Speed up R on the G5
In-Reply-To: <c2a6158d250fd0ba7a450f7c5b06f934@unsw.edu.au>
References: <200502080044.j180i8nI018473@hypatia.math.ethz.ch>
	<c2a6158d250fd0ba7a450f7c5b06f934@unsw.edu.au>
Message-ID: <42087A95.1040501@stat.wisc.edu>

Regarding the question of whether veclib is parallelized, I'm reasonably 
sure that it is.  A few months ago I compiled a version of R using 
veclib for the BLAS and ran a simple timing test on a matrix crossproduct.

mm <- matrix(rnorm(9e6), nc = 3000)
system.time(crossprod(mm), gc = TRUE)
system.time(crossprod(mm), gc = TRUE)
system.time(crossprod(mm), gc = TRUE)

I found on a dual processor system that the elapsed time was about half 
the user CPU time.

I don't have access to that machine right now but I should be able to do 
such a test again next week or perhaps Michael Redmond can do it this week.

From stefano.iacus at unimi.it  Tue Feb  8 09:55:48 2005
From: stefano.iacus at unimi.it (stefano iacus)
Date: Tue Feb  8 09:56:03 2005
Subject: [R-SIG-Mac] How to Speed up R on the G5
In-Reply-To: <42087A95.1040501@stat.wisc.edu>
References: <200502080044.j180i8nI018473@hypatia.math.ethz.ch>
	<c2a6158d250fd0ba7a450f7c5b06f934@unsw.edu.au>
	<42087A95.1040501@stat.wisc.edu>
Message-ID: <77a5c1323f5269ef58bc3bd1024ab0a2@unimi.it>


On Feb 8, 2005, at 9:38 AM, Douglas Bates wrote:

> Regarding the question of whether veclib is parallelized, I'm 
> reasonably sure that it is.  A few months ago I compiled a version of 
> R using veclib for the BLAS and ran a simple timing test on a matrix 
> crossproduct.
>
> mm <- matrix(rnorm(9e6), nc = 3000)
> system.time(crossprod(mm), gc = TRUE)
> system.time(crossprod(mm), gc = TRUE)
> system.time(crossprod(mm), gc = TRUE)
>
> I found on a dual processor system that the elapsed time was about 
> half the user CPU time.
>
yes veclib is parallelized up to what I've read on Apple's site.

btw: has any of you tried to run R in Xgrid ?

About running R using snow & co on Mac OS X, please see

http://adm.wustl.edu/rcluster.php

I'm trying to collect infos about the following
1. running R parallelized code on Mac OS X "the simplest way" (I'm 
thinking about BioC people)
2. optimizing R on G5 (the correct way as Martin M. suggested i.e. 
running at least make check without fails)

the aim is to write a sort of FAQ page on that or to integrate the 
currently (poor) Faq for Mac OS X.

Any of you want to volounteer/contribute?

The svn archive of R.app contains texinfo version of the FAQ and this 
should be the right place where to start from

stefano

> I don't have access to that machine right now but I should be able to 
> do such a test again next week or perhaps Michael Redmond can do it 
> this week.
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

From jthioulouse at biomserv.univ-lyon1.fr  Tue Feb  8 10:25:38 2005
From: jthioulouse at biomserv.univ-lyon1.fr (Jean Thioulouse)
Date: Tue Feb  8 10:26:03 2005
Subject: [R-SIG-Mac] How to Speed up R on the G5
In-Reply-To: <42087A95.1040501@stat.wisc.edu>
References: <200502080044.j180i8nI018473@hypatia.math.ethz.ch>
	<c2a6158d250fd0ba7a450f7c5b06f934@unsw.edu.au>
	<42087A95.1040501@stat.wisc.edu>
Message-ID: <p06002000be2e2ec73402@[134.214.34.24]>

At 2:38 -0600 8/02/05, Douglas Bates wrote:
>Regarding the question of whether veclib is parallelized, I'm 
>reasonably sure that it is.  A few months ago I compiled a version 
>of R using veclib for the BLAS and ran a simple timing test on a 
>matrix crossproduct.
>
>mm <- matrix(rnorm(9e6), nc = 3000)
>system.time(crossprod(mm), gc = TRUE)
>system.time(crossprod(mm), gc = TRUE)
>system.time(crossprod(mm), gc = TRUE)
>
>I found on a dual processor system that the elapsed time was about 
>half the user CPU time.

Yes indeed. Here is what I get on a dual 2.5 GHz G5 :

> mm <- matrix(rnorm(9e6), nc = 3000)
> system.time(crossprod(mm), gc = TRUE)
[1] 5.36 0.23 3.21 0.00 0.00
> system.time(crossprod(mm), gc = TRUE)
[1] 5.43 0.26 3.22 0.00 0.00
> system.time(crossprod(mm), gc = TRUE)
[1] 5.51 0.27 3.25 0.00 0.00

The fans hardly have enough time to speed up !

Jean

-- 
Jean Thioulouse - Labo de Biometrie et Biologie Evolutive, UMR CNRS 5558
Universite Lyon 1,  43 Boulevard du 11 Novembre 1918, Batiment G. Mendel
69622 Villeurbanne Cedex,  France.          Tel/Fax : (33) 4 72 43 27 56                       
                 http://pbil.univ-lyon1.fr/JTHome.html

From ellis at stat.harvard.edu  Tue Feb  8 10:32:40 2005
From: ellis at stat.harvard.edu (Byron Ellis)
Date: Tue Feb  8 10:33:00 2005
Subject: [R-SIG-Mac] How to Speed up R on the G5
In-Reply-To: <42087A95.1040501@stat.wisc.edu>
References: <200502080044.j180i8nI018473@hypatia.math.ethz.ch>
	<c2a6158d250fd0ba7a450f7c5b06f934@unsw.edu.au>
	<42087A95.1040501@stat.wisc.edu>
Message-ID: <b0ba8d350091a2a01a4d3aca7a84600f@stat.harvard.edu>

Interesting. I was under the impression that it was parallel in the 
SIMD sense, not in the processor sharing sense. We just got mini XServe 
cluster (sadly, my proposal to call it McNugget was rejected) so I'll 
have to check it out. Its still running the stock iNquiry R (1.9.1 
IIRC), but thats easy enough to change ;-)

On Feb 8, 2005, at 12:38 AM, Douglas Bates wrote:

> Regarding the question of whether veclib is parallelized, I'm 
> reasonably sure that it is.  A few months ago I compiled a version of 
> R using veclib for the BLAS and ran a simple timing test on a matrix 
> crossproduct.
>
> mm <- matrix(rnorm(9e6), nc = 3000)
> system.time(crossprod(mm), gc = TRUE)
> system.time(crossprod(mm), gc = TRUE)
> system.time(crossprod(mm), gc = TRUE)
>
> I found on a dual processor system that the elapsed time was about 
> half the user CPU time.
>
> I don't have access to that machine right now but I should be able to 
> do such a test again next week or perhaps Michael Redmond can do it 
> this week.
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
---
Byron Ellis (ellis@stat.harvard.edu)
"Oook" -- The Librarian

From chabotd at globetrotter.net  Tue Feb  8 14:28:08 2005
From: chabotd at globetrotter.net (Denis Chabot)
Date: Tue Feb  8 14:28:50 2005
Subject: [R-SIG-Mac] different behavior in pdf than quartz
In-Reply-To: <200502081115.j18BF8PC015259@hypatia.math.ethz.ch>
Message-ID: <45677A3C-79D5-11D9-8BDA-00050279D82B@globetrotter.net>

Hi,

I like to call pdf directly when I have to save a large number of plots.

To have french accented vowels and a degree sign in an axis label, I 
can use the tip given to me on this list:

Sys.putenv(LANG = "C")

However this only fixes accents in quartz graphics. PDF graphics seem 
to be immune. Is there a known cure?

Thanks in advance,

Denis Chabot

From w.northcott at unsw.edu.au  Tue Feb  8 23:47:30 2005
From: w.northcott at unsw.edu.au (Bill Northcott)
Date: Tue Feb  8 23:47:38 2005
Subject: [R-SIG-Mac] How to Speed up R on the G5
In-Reply-To: <200502081115.j18BF8PF015259@hypatia.math.ethz.ch>
References: <200502081115.j18BF8PF015259@hypatia.math.ethz.ch>
Message-ID: <984d7b204db97bcd4de21949209b1ad2@unsw.edu.au>

On 08/02/2005, at 10:15 PM, r-sig-mac-request@stat.math.ethz.ch wrote:
> Regarding the question of whether veclib is parallelized, I'm 
> reasonably
> sure that it is.  ...........

Just to observe there is a thread about exactly these issues on r-help 
under the title
'R on Beowulf cluster?'  The discussion is equally applicable to multi 
CPU machines such as high end Macs.

The following expands on the packages I mentioned:
> look into the following knot of CRAN packages:
> SNOW
> Rmpi
> Rpvm
> rlecuyer
> rsprng
> SNOW-FT
> RScaLAPACK
> et cetera.
>
> these provide some pretty interesting bits - like a suite of 
> parallelized
> apply() functions.
> --elijah

Bill Northcott

From elw at stderr.org  Wed Feb  9 02:09:41 2005
From: elw at stderr.org (elijah wright)
Date: Wed Feb  9 02:12:23 2005
Subject: [R-SIG-Mac] How to Speed up R on the G5
In-Reply-To: <984d7b204db97bcd4de21949209b1ad2@unsw.edu.au>
References: <200502081115.j18BF8PF015259@hypatia.math.ethz.ch>
	<984d7b204db97bcd4de21949209b1ad2@unsw.edu.au>
Message-ID: <Pine.LNX.4.62.0502081908130.15934@illuminati.stderr.org>


>> Regarding the question of whether veclib is parallelized, I'm reasonably
>> sure that it is.  ...........
>
> Just to observe there is a thread about exactly these issues on r-help 
> under the title 'R on Beowulf cluster?' The discussion is equally 
> applicable to multi CPU machines such as high end Macs.


Definitely so.  [that's actually what i have, here, and have gotten all 
but a couple of those packages running under OSX, now... I'm hopeful that 
i'll get the rest worked out in the next week or so.]

--elijah


> The following expands on the packages I mentioned:
>> look into the following knot of CRAN packages:
>> SNOW
>> Rmpi
>> Rpvm
>> rlecuyer
>> rsprng
>> SNOW-FT
>> RScaLAPACK
>> et cetera.
>> 
>> these provide some pretty interesting bits - like a suite of parallelized
>> apply() functions.
>> --elijah
>
> Bill Northcott

From w.northcott at unsw.edu.au  Wed Feb  9 02:43:26 2005
From: w.northcott at unsw.edu.au (Bill Northcott)
Date: Wed Feb  9 02:43:39 2005
Subject: [R-SIG-Mac] How to Speed up R on the G5
In-Reply-To: <Pine.LNX.4.62.0502081908130.15934@illuminati.stderr.org>
References: <200502081115.j18BF8PF015259@hypatia.math.ethz.ch>
	<984d7b204db97bcd4de21949209b1ad2@unsw.edu.au>
	<Pine.LNX.4.62.0502081908130.15934@illuminati.stderr.org>
Message-ID: <11548cd5db8d1ed7a99c78d1eb84e4fd@unsw.edu.au>

It would be good to know how it goes.

Bill

On 09/02/2005, at 12:09 PM, elijah wright wrote:
>>> Regarding the question of whether veclib is parallelized, I'm 
>>> reasonably
>>> sure that it is.  ...........
>>
>> Just to observe there is a thread about exactly these issues on 
>> r-help under the title 'R on Beowulf cluster?' The discussion is 
>> equally applicable to multi CPU machines such as high end Macs.
>
>
> Definitely so.  [that's actually what i have, here, and have gotten 
> all but a couple of those packages running under OSX, now... I'm 
> hopeful that i'll get the rest worked out in the next week or so.]
>
> --elijah
>
>
>> The following expands on the packages I mentioned:
>>> look into the following knot of CRAN packages:
>>> SNOW
>>> Rmpi
>>> Rpvm
>>> rlecuyer
>>> rsprng
>>> SNOW-FT
>>> RScaLAPACK
>>> et cetera.
>>> these provide some pretty interesting bits - like a suite of 
>>> parallelized
>>> apply() functions.
>>> --elijah
>>
>> Bill Northcott
>

From chabotd at globetrotter.net  Thu Feb 10 16:50:17 2005
From: chabotd at globetrotter.net (Denis Chabot)
Date: Thu Feb 10 16:50:57 2005
Subject: [R-SIG-Mac] How to put nice R graphics into powerpoint
Message-ID: <75C26C68-7B7B-11D9-A06F-00050279D82B@globetrotter.net>

Hi,

I really like the nice vector-based pdf graphics I get in R.

However, PowerPoint seems to be unable to read them as vector graphics 
and rasterizes them, making them quite "fuzzy" and ugly. Granted, the 
problem lies with Microsoft, but in the mean time what is the best 
workaround? I'd like to do better than producing png from within R 
(especially that only my iMac has X11, my very old PowerBook does not).

I am still able to show vector graphics in pict format in PowerPoint. 
So it should be possible to extract the vectorized plot from the pdf 
and save it as pict, still vectorized.

However opening the R-produced pdf in Illustrator and saving as pict 
produces a file quite a bit bigger than the original pdf, suggesting it 
was saved as raster pict instead of vector pict. It shows up in 
Powerpoint just as ugly as if it was inserted directly as pdf. This is 
true with Illustrator CS (aka v11 I think) used either under 10.2.8 or 
10.3.7. It is also true when using GraphicConverter 5 and Preview 
(Jaguar's version, I think it is also true with the Panther version) to 
go from pdf to pict.

I fired up Canvas (old, version 8) and it did manage to save something 
that was vectorized (i.e. very sharp when viewing at 400% in 
PowerPoint) but the empty circles I used as symbols were not filled 
blacks, the dashes of dashed lines had become "wiggly", text 
orientation was unacceptably changed, etc. etc.

So does anyone know of a technique to produce vector graphics that 
insert nicely in PowerPoint, either directly from R or by converting a 
pdf produced by R into something else?

Sincerely,

Denis Chabot

From tlumley at u.washington.edu  Thu Feb 10 17:05:03 2005
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu Feb 10 17:05:24 2005
Subject: [R-SIG-Mac] How to put nice R graphics into powerpoint
In-Reply-To: <75C26C68-7B7B-11D9-A06F-00050279D82B@globetrotter.net>
References: <75C26C68-7B7B-11D9-A06F-00050279D82B@globetrotter.net>
Message-ID: <Pine.A41.4.61b.0502100801400.120016@homer07.u.washington.edu>

On Thu, 10 Feb 2005, Denis Chabot wrote:

> So does anyone know of a technique to produce vector graphics that insert 
> nicely in PowerPoint, either directly from R or by converting a pdf produced 
> by R into something else?
>

After similar struggles I have resorted to PNG for insertion in PowerPoint 
on the Mac. At, say, 500x600 pixels, PNG works quite nicely even though it 
isn't a vector format.

(I've also used PNG in LaTeX-based presentations for plots that would 
otherwise take several seconds for Preview to render. The results are 
better in LaTeX, but ok in PowerPoint).

 	-thomas

From a.beckerman at sheffield.ac.uk  Thu Feb 10 17:13:57 2005
From: a.beckerman at sheffield.ac.uk (Andrew Beckerman)
Date: Thu Feb 10 17:14:06 2005
Subject: [R-SIG-Mac] How to put nice R graphics into powerpoint
In-Reply-To: <75C26C68-7B7B-11D9-A06F-00050279D82B@globetrotter.net>
References: <75C26C68-7B7B-11D9-A06F-00050279D82B@globetrotter.net>
Message-ID: <f60392651d39e3cbd169c20e919dd085@sheffield.ac.uk>

Denis - I use the following rather convoluted method with OS 10.3.8,  
Illustrator CS, and R2.0.1.

command-c copies a figure from the quartz window.  Open this file in  
preview and export it as a pdf file (don't know why i do this....).   
use illustrator, and the command <place> from the file menu to insert  
it in a new document.  Choose <save for microsoft office> from the file  
menu in illustrator. this produces a png file that plays nicely, cross  
platform, with Word and PP. variations abound, but the goal is to get  
something presentable in illustrator and use its save for office  
option.....

I noticed that preview has a png choice from export, but I've not yet  
played around with its options to see if I can get the same quality  
that the save for Microsoft Office option produces in Illustrator.

Cheers
andrew


On 10 Feb 2005, at 15:50, Denis Chabot wrote:

> Hi,
>
> I really like the nice vector-based pdf graphics I get in R.
>
> However, PowerPoint seems to be unable to read them as vector graphics  
> and rasterizes them, making them quite "fuzzy" and ugly. Granted, the  
> problem lies with Microsoft, but in the mean time what is the best  
> workaround? I'd like to do better than producing png from within R  
> (especially that only my iMac has X11, my very old PowerBook does  
> not).
>
> I am still able to show vector graphics in pict format in PowerPoint.  
> So it should be possible to extract the vectorized plot from the pdf  
> and save it as pict, still vectorized.
>
> However opening the R-produced pdf in Illustrator and saving as pict  
> produces a file quite a bit bigger than the original pdf, suggesting  
> it was saved as raster pict instead of vector pict. It shows up in  
> Powerpoint just as ugly as if it was inserted directly as pdf. This is  
> true with Illustrator CS (aka v11 I think) used either under 10.2.8 or  
> 10.3.7. It is also true when using GraphicConverter 5 and Preview  
> (Jaguar's version, I think it is also true with the Panther version)  
> to go from pdf to pict.
>
> I fired up Canvas (old, version 8) and it did manage to save something  
> that was vectorized (i.e. very sharp when viewing at 400% in  
> PowerPoint) but the empty circles I used as symbols were not filled  
> blacks, the dashes of dashed lines had become "wiggly", text  
> orientation was unacceptably changed, etc. etc.
>
> So does anyone know of a technique to produce vector graphics that  
> insert nicely in PowerPoint, either directly from R or by converting a  
> pdf produced by R into something else?
>
> Sincerely,
>
> Denis Chabot
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>
------------------------------------------------------------------------ 
---------
Dr. Andrew Beckerman
Department of Animal and Plant Sciences, University of Sheffield,
Alfred Denny Building, Western Bank, Sheffield S10 2TN, UK
ph +44 (0)114 222 0026; fx +44 (0)114 222 0002
http://www.shef.ac.uk/beckslab
------------------------------------------------------------------------ 
----------

From chabotd at globetrotter.net  Thu Feb 10 17:29:17 2005
From: chabotd at globetrotter.net (Denis Chabot)
Date: Thu Feb 10 17:30:11 2005
Subject: [R-SIG-Mac] How to put nice R graphics into powerpoint
In-Reply-To: <f60392651d39e3cbd169c20e919dd085@sheffield.ac.uk>
Message-ID: <E8B64905-7B80-11D9-A06F-00050279D82B@globetrotter.net>

Thank you Andrew and Thomas,

I have used png produced by Illustrator in much the way you described  
and the results were not very good. I'll try again because I don't  
remember if I was given an option to chose the overall size in pixels.  
If I can, then I'll increase the count. Alternatively, on my iMac at  
home where R11 is installed, I'll resort to saving directly in png but  
increasing the pixel count, as suggested by Thomas.

Still, if the information in the pdf produced by R is vector based (it  
is still perfectly sharp when viewed at 1600% in Acrobat), why can't I  
find a way to transform such pdf in vector-based pict? That format must  
be able to handle such plots. After all, I also make plots in  
KaleidaGraph, and they were very small vector-based pict files. They  
looked gorgeous in Powerpoint at any zoom setting. I also use Aabel  
which gives you the option of saving plots as pdf or pict. I chose the  
later when I need to insert in PowerPoint, and the former for LaTeX.  
Quality is good either way. Maybe I'll check if there is a "graphics"  
discussion on Apple's site. If I manage to learn something useful I'll  
report back.

Denis
Le Jeudi, 10 f?vr 2005, ? 17:13 Europe/Paris, Andrew Beckerman a ?crit :

> Denis - I use the following rather convoluted method with OS 10.3.8,  
> Illustrator CS, and R2.0.1.
>
> command-c copies a figure from the quartz window.  Open this file in  
> preview and export it as a pdf file (don't know why i do this....).   
> use illustrator, and the command <place> from the file menu to insert  
> it in a new document.  Choose <save for microsoft office> from the  
> file menu in illustrator. this produces a png file that plays nicely,  
> cross platform, with Word and PP. variations abound, but the goal is  
> to get something presentable in illustrator and use its save for  
> office option.....
>
> I noticed that preview has a png choice from export, but I've not yet  
> played around with its options to see if I can get the same quality  
> that the save for Microsoft Office option produces in Illustrator.
>
> Cheers
> andrew
>
>
> On 10 Feb 2005, at 15:50, Denis Chabot wrote:
>
>> Hi,
>>
>> I really like the nice vector-based pdf graphics I get in R.
>>
>> However, PowerPoint seems to be unable to read them as vector  
>> graphics and rasterizes them, making them quite "fuzzy" and ugly.  
>> Granted, the problem lies with Microsoft, but in the mean time what  
>> is the best workaround? I'd like to do better than producing png from  
>> within R (especially that only my iMac has X11, my very old PowerBook  
>> does not).
>>
>> I am still able to show vector graphics in pict format in PowerPoint.  
>> So it should be possible to extract the vectorized plot from the pdf  
>> and save it as pict, still vectorized.
>>
>> However opening the R-produced pdf in Illustrator and saving as pict  
>> produces a file quite a bit bigger than the original pdf, suggesting  
>> it was saved as raster pict instead of vector pict. It shows up in  
>> Powerpoint just as ugly as if it was inserted directly as pdf. This  
>> is true with Illustrator CS (aka v11 I think) used either under  
>> 10.2.8 or 10.3.7. It is also true when using GraphicConverter 5 and  
>> Preview (Jaguar's version, I think it is also true with the Panther  
>> version) to go from pdf to pict.
>>
>> I fired up Canvas (old, version 8) and it did manage to save  
>> something that was vectorized (i.e. very sharp when viewing at 400%  
>> in PowerPoint) but the empty circles I used as symbols were not  
>> filled blacks, the dashes of dashed lines had become "wiggly", text  
>> orientation was unacceptably changed, etc. etc.
>>
>> So does anyone know of a technique to produce vector graphics that  
>> insert nicely in PowerPoint, either directly from R or by converting  
>> a pdf produced by R into something else?
>>
>> Sincerely,
>>
>> Denis Chabot
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac@stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
> ----------------------------------------------------------------------- 
> ----------
> Dr. Andrew Beckerman
> Department of Animal and Plant Sciences, University of Sheffield,
> Alfred Denny Building, Western Bank, Sheffield S10 2TN, UK
> ph +44 (0)114 222 0026; fx +44 (0)114 222 0002
> http://www.shef.ac.uk/beckslab
> ----------------------------------------------------------------------- 
> -----------
>

From stefano.iacus at unimi.it  Thu Feb 10 18:05:48 2005
From: stefano.iacus at unimi.it (stefano iacus)
Date: Thu Feb 10 18:05:56 2005
Subject: [R-SIG-Mac] How to put nice R graphics into powerpoint
In-Reply-To: <E8B64905-7B80-11D9-A06F-00050279D82B@globetrotter.net>
References: <E8B64905-7B80-11D9-A06F-00050279D82B@globetrotter.net>
Message-ID: <033a4219c04adc5eb1ee12f2311b136d@unimi.it>

You can load the pdf file produce by R in the standard Previewer of Mac  
OS X and export to (almost) whatever format you like including bitmaps


stefano

On Feb 10, 2005, at 5:29 PM, Denis Chabot wrote:

> Thank you Andrew and Thomas,
>
> I have used png produced by Illustrator in much the way you described  
> and the results were not very good. I'll try again because I don't  
> remember if I was given an option to chose the overall size in pixels.  
> If I can, then I'll increase the count. Alternatively, on my iMac at  
> home where R11 is installed, I'll resort to saving directly in png but  
> increasing the pixel count, as suggested by Thomas.
>
> Still, if the information in the pdf produced by R is vector based (it  
> is still perfectly sharp when viewed at 1600% in Acrobat), why can't I  
> find a way to transform such pdf in vector-based pict? That format  
> must be able to handle such plots. After all, I also make plots in  
> KaleidaGraph, and they were very small vector-based pict files. They  
> looked gorgeous in Powerpoint at any zoom setting. I also use Aabel  
> which gives you the option of saving plots as pdf or pict. I chose the  
> later when I need to insert in PowerPoint, and the former for LaTeX.  
> Quality is good either way. Maybe I'll check if there is a "graphics"  
> discussion on Apple's site. If I manage to learn something useful I'll  
> report back.
>
> Denis
> Le Jeudi, 10 f?vr 2005, ? 17:13 Europe/Paris, Andrew Beckerman a ?crit  
> :
>
>> Denis - I use the following rather convoluted method with OS 10.3.8,  
>> Illustrator CS, and R2.0.1.
>>
>> command-c copies a figure from the quartz window.  Open this file in  
>> preview and export it as a pdf file (don't know why i do this....).   
>> use illustrator, and the command <place> from the file menu to insert  
>> it in a new document.  Choose <save for microsoft office> from the  
>> file menu in illustrator. this produces a png file that plays nicely,  
>> cross platform, with Word and PP. variations abound, but the goal is  
>> to get something presentable in illustrator and use its save for  
>> office option.....
>>
>> I noticed that preview has a png choice from export, but I've not yet  
>> played around with its options to see if I can get the same quality  
>> that the save for Microsoft Office option produces in Illustrator.
>>
>> Cheers
>> andrew
>>
>>
>> On 10 Feb 2005, at 15:50, Denis Chabot wrote:
>>
>>> Hi,
>>>
>>> I really like the nice vector-based pdf graphics I get in R.
>>>
>>> However, PowerPoint seems to be unable to read them as vector  
>>> graphics and rasterizes them, making them quite "fuzzy" and ugly.  
>>> Granted, the problem lies with Microsoft, but in the mean time what  
>>> is the best workaround? I'd like to do better than producing png  
>>> from within R (especially that only my iMac has X11, my very old  
>>> PowerBook does not).
>>>
>>> I am still able to show vector graphics in pict format in  
>>> PowerPoint. So it should be possible to extract the vectorized plot  
>>> from the pdf and save it as pict, still vectorized.
>>>
>>> However opening the R-produced pdf in Illustrator and saving as pict  
>>> produces a file quite a bit bigger than the original pdf, suggesting  
>>> it was saved as raster pict instead of vector pict. It shows up in  
>>> Powerpoint just as ugly as if it was inserted directly as pdf. This  
>>> is true with Illustrator CS (aka v11 I think) used either under  
>>> 10.2.8 or 10.3.7. It is also true when using GraphicConverter 5 and  
>>> Preview (Jaguar's version, I think it is also true with the Panther  
>>> version) to go from pdf to pict.
>>>
>>> I fired up Canvas (old, version 8) and it did manage to save  
>>> something that was vectorized (i.e. very sharp when viewing at 400%  
>>> in PowerPoint) but the empty circles I used as symbols were not  
>>> filled blacks, the dashes of dashed lines had become "wiggly", text  
>>> orientation was unacceptably changed, etc. etc.
>>>
>>> So does anyone know of a technique to produce vector graphics that  
>>> insert nicely in PowerPoint, either directly from R or by converting  
>>> a pdf produced by R into something else?
>>>
>>> Sincerely,
>>>
>>> Denis Chabot
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac@stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>>
>> ---------------------------------------------------------------------- 
>> -----------
>> Dr. Andrew Beckerman
>> Department of Animal and Plant Sciences, University of Sheffield,
>> Alfred Denny Building, Western Bank, Sheffield S10 2TN, UK
>> ph +44 (0)114 222 0026; fx +44 (0)114 222 0002
>> http://www.shef.ac.uk/beckslab
>> ---------------------------------------------------------------------- 
>> ------------
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

From chabotd at globetrotter.net  Thu Feb 10 18:10:13 2005
From: chabotd at globetrotter.net (Denis Chabot)
Date: Thu Feb 10 18:10:56 2005
Subject: [R-SIG-Mac] How to put nice R graphics into powerpoint
In-Reply-To: <033a4219c04adc5eb1ee12f2311b136d@unimi.it>
Message-ID: <A0C85ED2-7B86-11D9-A06F-00050279D82B@globetrotter.net>

Hi Stefano,

Bitmaps is what I'd like to avoid.

Preview seems to be using QuickTime for the translation from pdf to  
pict, and the result is bitmap. Too bad though.

Denis
Le Jeudi, 10 f?vr 2005, ? 18:05 Europe/Paris, stefano iacus a ?crit :

> You can load the pdf file produce by R in the standard Previewer of  
> Mac OS X and export to (almost) whatever format you like including  
> bitmaps
>
>
> stefano
>
> On Feb 10, 2005, at 5:29 PM, Denis Chabot wrote:
>
>> Thank you Andrew and Thomas,
>>
>> I have used png produced by Illustrator in much the way you described  
>> and the results were not very good. I'll try again because I don't  
>> remember if I was given an option to chose the overall size in  
>> pixels. If I can, then I'll increase the count. Alternatively, on my  
>> iMac at home where R11 is installed, I'll resort to saving directly  
>> in png but increasing the pixel count, as suggested by Thomas.
>>
>> Still, if the information in the pdf produced by R is vector based  
>> (it is still perfectly sharp when viewed at 1600% in Acrobat), why  
>> can't I find a way to transform such pdf in vector-based pict? That  
>> format must be able to handle such plots. After all, I also make  
>> plots in KaleidaGraph, and they were very small vector-based pict  
>> files. They looked gorgeous in Powerpoint at any zoom setting. I also  
>> use Aabel which gives you the option of saving plots as pdf or pict.  
>> I chose the later when I need to insert in PowerPoint, and the former  
>> for LaTeX. Quality is good either way. Maybe I'll check if there is a  
>> "graphics" discussion on Apple's site. If I manage to learn something  
>> useful I'll report back.
>>
>> Denis
>> Le Jeudi, 10 f?vr 2005, ? 17:13 Europe/Paris, Andrew Beckerman a  
>> ?crit :
>>
>>> Denis - I use the following rather convoluted method with OS 10.3.8,  
>>> Illustrator CS, and R2.0.1.
>>>
>>> command-c copies a figure from the quartz window.  Open this file in  
>>> preview and export it as a pdf file (don't know why i do this....).   
>>> use illustrator, and the command <place> from the file menu to  
>>> insert it in a new document.  Choose <save for microsoft office>  
>>> from the file menu in illustrator. this produces a png file that  
>>> plays nicely, cross platform, with Word and PP. variations abound,  
>>> but the goal is to get something presentable in illustrator and use  
>>> its save for office option.....
>>>
>>> I noticed that preview has a png choice from export, but I've not  
>>> yet played around with its options to see if I can get the same  
>>> quality that the save for Microsoft Office option produces in  
>>> Illustrator.
>>>
>>> Cheers
>>> andrew
>>>
>>>
>>> On 10 Feb 2005, at 15:50, Denis Chabot wrote:
>>>
>>>> Hi,
>>>>
>>>> I really like the nice vector-based pdf graphics I get in R.
>>>>
>>>> However, PowerPoint seems to be unable to read them as vector  
>>>> graphics and rasterizes them, making them quite "fuzzy" and ugly.  
>>>> Granted, the problem lies with Microsoft, but in the mean time what  
>>>> is the best workaround? I'd like to do better than producing png  
>>>> from within R (especially that only my iMac has X11, my very old  
>>>> PowerBook does not).
>>>>
>>>> I am still able to show vector graphics in pict format in  
>>>> PowerPoint. So it should be possible to extract the vectorized plot  
>>>> from the pdf and save it as pict, still vectorized.
>>>>
>>>> However opening the R-produced pdf in Illustrator and saving as  
>>>> pict produces a file quite a bit bigger than the original pdf,  
>>>> suggesting it was saved as raster pict instead of vector pict. It  
>>>> shows up in Powerpoint just as ugly as if it was inserted directly  
>>>> as pdf. This is true with Illustrator CS (aka v11 I think) used  
>>>> either under 10.2.8 or 10.3.7. It is also true when using  
>>>> GraphicConverter 5 and Preview (Jaguar's version, I think it is  
>>>> also true with the Panther version) to go from pdf to pict.
>>>>
>>>> I fired up Canvas (old, version 8) and it did manage to save  
>>>> something that was vectorized (i.e. very sharp when viewing at 400%  
>>>> in PowerPoint) but the empty circles I used as symbols were not  
>>>> filled blacks, the dashes of dashed lines had become "wiggly", text  
>>>> orientation was unacceptably changed, etc. etc.
>>>>
>>>> So does anyone know of a technique to produce vector graphics that  
>>>> insert nicely in PowerPoint, either directly from R or by  
>>>> converting a pdf produced by R into something else?
>>>>
>>>> Sincerely,
>>>>
>>>> Denis Chabot
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac@stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>>
>>> --------------------------------------------------------------------- 
>>> ------------
>>> Dr. Andrew Beckerman
>>> Department of Animal and Plant Sciences, University of Sheffield,
>>> Alfred Denny Building, Western Bank, Sheffield S10 2TN, UK
>>> ph +44 (0)114 222 0026; fx +44 (0)114 222 0002
>>> http://www.shef.ac.uk/beckslab
>>> --------------------------------------------------------------------- 
>>> -------------
>>>
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac@stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>

From stefano.iacus at unimi.it  Thu Feb 10 18:20:23 2005
From: stefano.iacus at unimi.it (stefano iacus)
Date: Thu Feb 10 18:20:36 2005
Subject: [R-SIG-Mac] How to put nice R graphics into powerpoint
In-Reply-To: <A0C85ED2-7B86-11D9-A06F-00050279D82B@globetrotter.net>
References: <A0C85ED2-7B86-11D9-A06F-00050279D82B@globetrotter.net>
Message-ID: <9a1f8172fc02f87f8c280d0d7c9a7439@unimi.it>


On Feb 10, 2005, at 6:10 PM, Denis Chabot wrote:

> Hi Stefano,
>
> Bitmaps is what I'd like to avoid.
>
> Preview seems to be using QuickTime for the translation from pdf to  
> pict, and the result is bitmap. Too bad though.
yes, but as Thomas pointed out png is not that bad even with LaTeX.  
What kind of vectorial format does PowerPoint support (if any) ?

I'm not used to PowerPoint, but for example, with KeyNote (the apple  
counterpart) you can use pdf graphics directly and you still have an  
option to export the slides in PowerPoint.
Could this be another solution?

stefano

>
> Denis
> Le Jeudi, 10 f?vr 2005, ? 18:05 Europe/Paris, stefano iacus a ?crit :
>
>> You can load the pdf file produce by R in the standard Previewer of  
>> Mac OS X and export to (almost) whatever format you like including  
>> bitmaps
>>
>>
>> stefano
>>
>> On Feb 10, 2005, at 5:29 PM, Denis Chabot wrote:
>>
>>> Thank you Andrew and Thomas,
>>>
>>> I have used png produced by Illustrator in much the way you  
>>> described and the results were not very good. I'll try again because  
>>> I don't remember if I was given an option to chose the overall size  
>>> in pixels. If I can, then I'll increase the count. Alternatively, on  
>>> my iMac at home where R11 is installed, I'll resort to saving  
>>> directly in png but increasing the pixel count, as suggested by  
>>> Thomas.
>>>
>>> Still, if the information in the pdf produced by R is vector based  
>>> (it is still perfectly sharp when viewed at 1600% in Acrobat), why  
>>> can't I find a way to transform such pdf in vector-based pict? That  
>>> format must be able to handle such plots. After all, I also make  
>>> plots in KaleidaGraph, and they were very small vector-based pict  
>>> files. They looked gorgeous in Powerpoint at any zoom setting. I  
>>> also use Aabel which gives you the option of saving plots as pdf or  
>>> pict. I chose the later when I need to insert in PowerPoint, and the  
>>> former for LaTeX. Quality is good either way. Maybe I'll check if  
>>> there is a "graphics" discussion on Apple's site. If I manage to  
>>> learn something useful I'll report back.
>>>
>>> Denis
>>> Le Jeudi, 10 f?vr 2005, ? 17:13 Europe/Paris, Andrew Beckerman a  
>>> ?crit :
>>>
>>>> Denis - I use the following rather convoluted method with OS  
>>>> 10.3.8, Illustrator CS, and R2.0.1.
>>>>
>>>> command-c copies a figure from the quartz window.  Open this file  
>>>> in preview and export it as a pdf file (don't know why i do  
>>>> this....).  use illustrator, and the command <place> from the file  
>>>> menu to insert it in a new document.  Choose <save for microsoft  
>>>> office> from the file menu in illustrator. this produces a png file  
>>>> that plays nicely, cross platform, with Word and PP. variations  
>>>> abound, but the goal is to get something presentable in illustrator  
>>>> and use its save for office option.....
>>>>
>>>> I noticed that preview has a png choice from export, but I've not  
>>>> yet played around with its options to see if I can get the same  
>>>> quality that the save for Microsoft Office option produces in  
>>>> Illustrator.
>>>>
>>>> Cheers
>>>> andrew
>>>>
>>>>
>>>> On 10 Feb 2005, at 15:50, Denis Chabot wrote:
>>>>
>>>>> Hi,
>>>>>
>>>>> I really like the nice vector-based pdf graphics I get in R.
>>>>>
>>>>> However, PowerPoint seems to be unable to read them as vector  
>>>>> graphics and rasterizes them, making them quite "fuzzy" and ugly.  
>>>>> Granted, the problem lies with Microsoft, but in the mean time  
>>>>> what is the best workaround? I'd like to do better than producing  
>>>>> png from within R (especially that only my iMac has X11, my very  
>>>>> old PowerBook does not).
>>>>>
>>>>> I am still able to show vector graphics in pict format in  
>>>>> PowerPoint. So it should be possible to extract the vectorized  
>>>>> plot from the pdf and save it as pict, still vectorized.
>>>>>
>>>>> However opening the R-produced pdf in Illustrator and saving as  
>>>>> pict produces a file quite a bit bigger than the original pdf,  
>>>>> suggesting it was saved as raster pict instead of vector pict. It  
>>>>> shows up in Powerpoint just as ugly as if it was inserted directly  
>>>>> as pdf. This is true with Illustrator CS (aka v11 I think) used  
>>>>> either under 10.2.8 or 10.3.7. It is also true when using  
>>>>> GraphicConverter 5 and Preview (Jaguar's version, I think it is  
>>>>> also true with the Panther version) to go from pdf to pict.
>>>>>
>>>>> I fired up Canvas (old, version 8) and it did manage to save  
>>>>> something that was vectorized (i.e. very sharp when viewing at  
>>>>> 400% in PowerPoint) but the empty circles I used as symbols were  
>>>>> not filled blacks, the dashes of dashed lines had become "wiggly",  
>>>>> text orientation was unacceptably changed, etc. etc.
>>>>>
>>>>> So does anyone know of a technique to produce vector graphics that  
>>>>> insert nicely in PowerPoint, either directly from R or by  
>>>>> converting a pdf produced by R into something else?
>>>>>
>>>>> Sincerely,
>>>>>
>>>>> Denis Chabot
>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac@stat.math.ethz.ch
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>
>>>>>
>>>> -------------------------------------------------------------------- 
>>>> -------------
>>>> Dr. Andrew Beckerman
>>>> Department of Animal and Plant Sciences, University of Sheffield,
>>>> Alfred Denny Building, Western Bank, Sheffield S10 2TN, UK
>>>> ph +44 (0)114 222 0026; fx +44 (0)114 222 0002
>>>> http://www.shef.ac.uk/beckslab
>>>> -------------------------------------------------------------------- 
>>>> --------------
>>>>
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac@stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

From j.van_den_hoff at fz-rossendorf.de  Thu Feb 10 18:24:41 2005
From: j.van_den_hoff at fz-rossendorf.de (joerg van den hoff)
Date: Thu Feb 10 18:24:50 2005
Subject: [R-SIG-Mac] How to put nice R graphics into powerpoint
In-Reply-To: <75C26C68-7B7B-11D9-A06F-00050279D82B@globetrotter.net>
References: <75C26C68-7B7B-11D9-A06F-00050279D82B@globetrotter.net>
Message-ID: <420B98D9.4000707@fz-rossendorf.de>

Denis Chabot wrote:
> Hi,
> 
> I really like the nice vector-based pdf graphics I get in R.
> 
> However, PowerPoint seems to be unable to read them as vector graphics 
> and rasterizes them, making them quite "fuzzy" and ugly. Granted, the 
> problem lies with Microsoft, but in the mean time what is the best 
> workaround? I'd like to do better than producing png from within R 
> (especially that only my iMac has X11, my very old PowerBook does not).

well, if you can afford it: the Power Point look-alike from apple 
("Keynote") can usually import _and_ export .ppt files (so you can at 
least use what you already have). but if you present your results with a 
mac (and with Keynote) your problem is solved, since you can simply drag 
adn drop your pdf file into the keynote slides which keeps it as such 
(i.e. vector graphics). all in all keynote (if it survives...) seems to 
be a much nicer thing than power point.
> 
> I am still able to show vector graphics in pict format in PowerPoint. So 
> it should be possible to extract the vectorized plot from the pdf and 
> save it as pict, still vectorized.
> 
> However opening the R-produced pdf in Illustrator and saving as pict 
> produces a file quite a bit bigger than the original pdf, suggesting it 
> was saved as raster pict instead of vector pict. It shows up in 
> Powerpoint just as ugly as if it was inserted directly as pdf. This is 
> true with Illustrator CS (aka v11 I think) used either under 10.2.8 or 
> 10.3.7. It is also true when using GraphicConverter 5 and Preview 
> (Jaguar's version, I think it is also true with the Panther version) to 
> go from pdf to pict.
> 
> I fired up Canvas (old, version 8) and it did manage to save something 
> that was vectorized (i.e. very sharp when viewing at 400% in PowerPoint) 
> but the empty circles I used as symbols were not filled blacks, the 
> dashes of dashed lines had become "wiggly", text orientation was 
> unacceptably changed, etc. etc.
> 
> So does anyone know of a technique to produce vector graphics that 
> insert nicely in PowerPoint, either directly from R or by converting a 
> pdf produced by R into something else?
> 
> Sincerely,
> 
> Denis Chabot
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

From simon.urbanek at r-project.org  Thu Feb 10 18:56:22 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu Feb 10 18:56:28 2005
Subject: [R-SIG-Mac] How to put nice R graphics into powerpoint
In-Reply-To: <75C26C68-7B7B-11D9-A06F-00050279D82B@globetrotter.net>
References: <75C26C68-7B7B-11D9-A06F-00050279D82B@globetrotter.net>
Message-ID: <8C97D81B-C982-4320-8445-4ED11077F287@r-project.org>

Hi Denis,

On Feb 10, 2005, at 10:50 AM, Denis Chabot wrote:

> However, PowerPoint seems to be unable to read them as vector graphics 
> and rasterizes them, making them quite "fuzzy" and ugly. Granted, the 
> problem lies with Microsoft, but in the mean time what is the best 
> workaround? I'd like to do better than producing png from within R 
> (especially that only my iMac has X11, my very old PowerBook does 
> not).
> I am still able to show vector graphics in pict format in PowerPoint. 
> So it should be possible to extract the vectorized plot from the pdf 
> and save it as pict, still vectorized.

AFAICS there is no way to include vector graphics into PP other than 
WMF (and I didn't even test that on a Mac).

OT: Get Apple Keynote - it's far better, pastes such PDFs in vector 
form flawlessly and it even supports copy/paste of Latex formulas in 
vector form (via LaTeX Equation Editor)! There are plenty output 
formats if you really need to present it on a PC, too...

Cheers,
Simon

From putler at sauder.ubc.ca  Thu Feb 10 19:04:21 2005
From: putler at sauder.ubc.ca (Dan Putler)
Date: Thu Feb 10 19:04:34 2005
Subject: [R-SIG-Mac] How to put nice R graphics into powerpoint
In-Reply-To: <9a1f8172fc02f87f8c280d0d7c9a7439@unimi.it>
References: <A0C85ED2-7B86-11D9-A06F-00050279D82B@globetrotter.net>
	<9a1f8172fc02f87f8c280d0d7c9a7439@unimi.it>
Message-ID: <1108058661.8053.7.camel@ha667-1.commerce.ubc.ca>

Hi All,

My guess is the supported vector format is Windows enhanced meta file,
which R for Windows will produce. Unfortunately, Microsoft Office is the
one thing most of us can't get away from, try as we might. As a result,
an argument could be made to have a device for this format on the Mac
side if the Windows code could easily be ported.

Dan

On Thu, 2005-02-10 at 09:20, stefano iacus wrote:
> On Feb 10, 2005, at 6:10 PM, Denis Chabot wrote:
> 
> > Hi Stefano,
> >
> > Bitmaps is what I'd like to avoid.
> >
> > Preview seems to be using QuickTime for the translation from pdf to  
> > pict, and the result is bitmap. Too bad though.
> yes, but as Thomas pointed out png is not that bad even with LaTeX.  
> What kind of vectorial format does PowerPoint support (if any) ?
> 
> I'm not used to PowerPoint, but for example, with KeyNote (the apple  
> counterpart) you can use pdf graphics directly and you still have an  
> option to export the slides in PowerPoint.
> Could this be another solution?
> 
> stefano
> 
> >
> > Denis
> > Le Jeudi, 10 fvr 2005,  18:05 Europe/Paris, stefano iacus a crit :
> >
> >> You can load the pdf file produce by R in the standard Previewer of  
> >> Mac OS X and export to (almost) whatever format you like including  
> >> bitmaps
> >>
> >>
> >> stefano
> >>
> >> On Feb 10, 2005, at 5:29 PM, Denis Chabot wrote:
> >>
> >>> Thank you Andrew and Thomas,
> >>>
> >>> I have used png produced by Illustrator in much the way you  
> >>> described and the results were not very good. I'll try again because  
> >>> I don't remember if I was given an option to chose the overall size  
> >>> in pixels. If I can, then I'll increase the count. Alternatively, on  
> >>> my iMac at home where R11 is installed, I'll resort to saving  
> >>> directly in png but increasing the pixel count, as suggested by  
> >>> Thomas.
> >>>
> >>> Still, if the information in the pdf produced by R is vector based  
> >>> (it is still perfectly sharp when viewed at 1600% in Acrobat), why  
> >>> can't I find a way to transform such pdf in vector-based pict? That  
> >>> format must be able to handle such plots. After all, I also make  
> >>> plots in KaleidaGraph, and they were very small vector-based pict  
> >>> files. They looked gorgeous in Powerpoint at any zoom setting. I  
> >>> also use Aabel which gives you the option of saving plots as pdf or  
> >>> pict. I chose the later when I need to insert in PowerPoint, and the  
> >>> former for LaTeX. Quality is good either way. Maybe I'll check if  
> >>> there is a "graphics" discussion on Apple's site. If I manage to  
> >>> learn something useful I'll report back.
> >>>
> >>> Denis
> >>> Le Jeudi, 10 fvr 2005,  17:13 Europe/Paris, Andrew Beckerman a  
> >>> crit :
> >>>
> >>>> Denis - I use the following rather convoluted method with OS  
> >>>> 10.3.8, Illustrator CS, and R2.0.1.
> >>>>
> >>>> command-c copies a figure from the quartz window.  Open this file  
> >>>> in preview and export it as a pdf file (don't know why i do  
> >>>> this....).  use illustrator, and the command <place> from the file  
> >>>> menu to insert it in a new document.  Choose <save for microsoft  
> >>>> office> from the file menu in illustrator. this produces a png file  
> >>>> that plays nicely, cross platform, with Word and PP. variations  
> >>>> abound, but the goal is to get something presentable in illustrator  
> >>>> and use its save for office option.....
> >>>>
> >>>> I noticed that preview has a png choice from export, but I've not  
> >>>> yet played around with its options to see if I can get the same  
> >>>> quality that the save for Microsoft Office option produces in  
> >>>> Illustrator.
> >>>>
> >>>> Cheers
> >>>> andrew
> >>>>
> >>>>
> >>>> On 10 Feb 2005, at 15:50, Denis Chabot wrote:
> >>>>
> >>>>> Hi,
> >>>>>
> >>>>> I really like the nice vector-based pdf graphics I get in R.
> >>>>>
> >>>>> However, PowerPoint seems to be unable to read them as vector  
> >>>>> graphics and rasterizes them, making them quite "fuzzy" and ugly.  
> >>>>> Granted, the problem lies with Microsoft, but in the mean time  
> >>>>> what is the best workaround? I'd like to do better than producing  
> >>>>> png from within R (especially that only my iMac has X11, my very  
> >>>>> old PowerBook does not).
> >>>>>
> >>>>> I am still able to show vector graphics in pict format in  
> >>>>> PowerPoint. So it should be possible to extract the vectorized  
> >>>>> plot from the pdf and save it as pict, still vectorized.
> >>>>>
> >>>>> However opening the R-produced pdf in Illustrator and saving as  
> >>>>> pict produces a file quite a bit bigger than the original pdf,  
> >>>>> suggesting it was saved as raster pict instead of vector pict. It  
> >>>>> shows up in Powerpoint just as ugly as if it was inserted directly  
> >>>>> as pdf. This is true with Illustrator CS (aka v11 I think) used  
> >>>>> either under 10.2.8 or 10.3.7. It is also true when using  
> >>>>> GraphicConverter 5 and Preview (Jaguar's version, I think it is  
> >>>>> also true with the Panther version) to go from pdf to pict.
> >>>>>
> >>>>> I fired up Canvas (old, version 8) and it did manage to save  
> >>>>> something that was vectorized (i.e. very sharp when viewing at  
> >>>>> 400% in PowerPoint) but the empty circles I used as symbols were  
> >>>>> not filled blacks, the dashes of dashed lines had become "wiggly",  
> >>>>> text orientation was unacceptably changed, etc. etc.
> >>>>>
> >>>>> So does anyone know of a technique to produce vector graphics that  
> >>>>> insert nicely in PowerPoint, either directly from R or by  
> >>>>> converting a pdf produced by R into something else?
> >>>>>
> >>>>> Sincerely,
> >>>>>
> >>>>> Denis Chabot
> >>>>>
> >>>>> _______________________________________________
> >>>>> R-SIG-Mac mailing list
> >>>>> R-SIG-Mac@stat.math.ethz.ch
> >>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >>>>>
> >>>>>
> >>>> -------------------------------------------------------------------- 
> >>>> -------------
> >>>> Dr. Andrew Beckerman
> >>>> Department of Animal and Plant Sciences, University of Sheffield,
> >>>> Alfred Denny Building, Western Bank, Sheffield S10 2TN, UK
> >>>> ph +44 (0)114 222 0026; fx +44 (0)114 222 0002
> >>>> http://www.shef.ac.uk/beckslab
> >>>> -------------------------------------------------------------------- 
> >>>> --------------
> >>>>
> >>>
> >>> _______________________________________________
> >>> R-SIG-Mac mailing list
> >>> R-SIG-Mac@stat.math.ethz.ch
> >>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >>>
> >>
> >
> > _______________________________________________
> > R-SIG-Mac mailing list
> > R-SIG-Mac@stat.math.ethz.ch
> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

From chabotd at globetrotter.net  Thu Feb 10 19:08:24 2005
From: chabotd at globetrotter.net (Denis Chabot)
Date: Thu Feb 10 19:08:35 2005
Subject: [R-SIG-Mac] How to put nice R graphics into powerpoint
In-Reply-To: <8C97D81B-C982-4320-8445-4ED11077F287@r-project.org>
References: <75C26C68-7B7B-11D9-A06F-00050279D82B@globetrotter.net>
	<8C97D81B-C982-4320-8445-4ED11077F287@r-project.org>
Message-ID: <2339ae1a00eb1393e546cdb20931912a@globetrotter.net>

I would love to get Keynote, but it is not compatible with my old 
powerbook. As my employer had put a freeze on computer purchases 
because of budget constraints (and because buying a Mac where I work is 
a big struggle, as I'm seen as a thorn in the (chose your soft spot) of 
the IS guys who'd love to have a 100% Windows universe, but that's 
another story) it is not an option (yet).

Actually in recent versions of PowerPoint wmf usually display properly 
and very sharp. In a presentation I gave yesterday the only sharp 
graphs came from wmf maps I produced with Surfer on a Windows machine, 
what a shame!

But I can certify that PowerPoint always allowed vector pict format.

For now I'll have to resort on running some R programs a second time 
and save higher resolutions png than what Preview and Illustrator give 
me when they translate pdf into png.

Denis

Le 10 f?vr. 2005, ? 18:56, Simon Urbanek a ?crit :

> Hi Denis,
>
> On Feb 10, 2005, at 10:50 AM, Denis Chabot wrote:
>
>> However, PowerPoint seems to be unable to read them as vector 
>> graphics and rasterizes them, making them quite "fuzzy" and ugly. 
>> Granted, the problem lies with Microsoft, but in the mean time what 
>> is the best workaround? I'd like to do better than producing png from 
>> within R (especially that only my iMac has X11, my very old PowerBook 
>> does not).
>> I am still able to show vector graphics in pict format in PowerPoint. 
>> So it should be possible to extract the vectorized plot from the pdf 
>> and save it as pict, still vectorized.
>
> AFAICS there is no way to include vector graphics into PP other than 
> WMF (and I didn't even test that on a Mac).
>
> OT: Get Apple Keynote - it's far better, pastes such PDFs in vector 
> form flawlessly and it even supports copy/paste of Latex formulas in 
> vector form (via LaTeX Equation Editor)! There are plenty output 
> formats if you really need to present it on a PC, too...
>
> Cheers,
> Simon
>

From chabotd at globetrotter.net  Thu Feb 10 19:11:08 2005
From: chabotd at globetrotter.net (Denis Chabot)
Date: Thu Feb 10 19:11:22 2005
Subject: [R-SIG-Mac] How to put nice R graphics into powerpoint
In-Reply-To: <1108058661.8053.7.camel@ha667-1.commerce.ubc.ca>
References: <A0C85ED2-7B86-11D9-A06F-00050279D82B@globetrotter.net>
	<9a1f8172fc02f87f8c280d0d7c9a7439@unimi.it>
	<1108058661.8053.7.camel@ha667-1.commerce.ubc.ca>
Message-ID: <2a6f5ea87eafb0d7c4fe32898c450939@globetrotter.net>

Well it would be more logical for Microsoft to support pdf! I've  
certainly complained loud enough, but I don't count on them doing  
something for me. Unless pdf becomes important on Windows, I suppose.

As for a R-based solution, a pict device would solve my problem just as  
well as a wmf device.

Denis
Le 10 f?vr. 2005, ? 19:04, Dan Putler a ?crit :

> Hi All,
>
> My guess is the supported vector format is Windows enhanced meta file,
> which R for Windows will produce. Unfortunately, Microsoft Office is  
> the
> one thing most of us can't get away from, try as we might. As a result,
> an argument could be made to have a device for this format on the Mac
> side if the Windows code could easily be ported.
>
> Dan
>
> On Thu, 2005-02-10 at 09:20, stefano iacus wrote:
>> On Feb 10, 2005, at 6:10 PM, Denis Chabot wrote:
>>
>>> Hi Stefano,
>>>
>>> Bitmaps is what I'd like to avoid.
>>>
>>> Preview seems to be using QuickTime for the translation from pdf to
>>> pict, and the result is bitmap. Too bad though.
>> yes, but as Thomas pointed out png is not that bad even with LaTeX.
>> What kind of vectorial format does PowerPoint support (if any) ?
>>
>> I'm not used to PowerPoint, but for example, with KeyNote (the apple
>> counterpart) you can use pdf graphics directly and you still have an
>> option to export the slides in PowerPoint.
>> Could this be another solution?
>>
>> stefano
>>
>>>
>>> Denis
>>> Le Jeudi, 10 f??vr 2005, ?? 18:05 Europe/Paris, stefano iacus a  
>>> ??crit :
>>>
>>>> You can load the pdf file produce by R in the standard Previewer of
>>>> Mac OS X and export to (almost) whatever format you like including
>>>> bitmaps
>>>>
>>>>
>>>> stefano
>>>>
>>>> On Feb 10, 2005, at 5:29 PM, Denis Chabot wrote:
>>>>
>>>>> Thank you Andrew and Thomas,
>>>>>
>>>>> I have used png produced by Illustrator in much the way you
>>>>> described and the results were not very good. I'll try again  
>>>>> because
>>>>> I don't remember if I was given an option to chose the overall size
>>>>> in pixels. If I can, then I'll increase the count. Alternatively,  
>>>>> on
>>>>> my iMac at home where R11 is installed, I'll resort to saving
>>>>> directly in png but increasing the pixel count, as suggested by
>>>>> Thomas.
>>>>>
>>>>> Still, if the information in the pdf produced by R is vector based
>>>>> (it is still perfectly sharp when viewed at 1600% in Acrobat), why
>>>>> can't I find a way to transform such pdf in vector-based pict? That
>>>>> format must be able to handle such plots. After all, I also make
>>>>> plots in KaleidaGraph, and they were very small vector-based pict
>>>>> files. They looked gorgeous in Powerpoint at any zoom setting. I
>>>>> also use Aabel which gives you the option of saving plots as pdf or
>>>>> pict. I chose the later when I need to insert in PowerPoint, and  
>>>>> the
>>>>> former for LaTeX. Quality is good either way. Maybe I'll check if
>>>>> there is a "graphics" discussion on Apple's site. If I manage to
>>>>> learn something useful I'll report back.
>>>>>
>>>>> Denis
>>>>> Le Jeudi, 10 f??vr 2005, ?? 17:13 Europe/Paris, Andrew Beckerman a
>>>>> ??crit :
>>>>>
>>>>>> Denis - I use the following rather convoluted method with OS
>>>>>> 10.3.8, Illustrator CS, and R2.0.1.
>>>>>>
>>>>>> command-c copies a figure from the quartz window.  Open this file
>>>>>> in preview and export it as a pdf file (don't know why i do
>>>>>> this....).  use illustrator, and the command <place> from the file
>>>>>> menu to insert it in a new document.  Choose <save for microsoft
>>>>>> office> from the file menu in illustrator. this produces a png  
>>>>>> file
>>>>>> that plays nicely, cross platform, with Word and PP. variations
>>>>>> abound, but the goal is to get something presentable in  
>>>>>> illustrator
>>>>>> and use its save for office option.....
>>>>>>
>>>>>> I noticed that preview has a png choice from export, but I've not
>>>>>> yet played around with its options to see if I can get the same
>>>>>> quality that the save for Microsoft Office option produces in
>>>>>> Illustrator.
>>>>>>
>>>>>> Cheers
>>>>>> andrew
>>>>>>
>>>>>>
>>>>>> On 10 Feb 2005, at 15:50, Denis Chabot wrote:
>>>>>>
>>>>>>> Hi,
>>>>>>>
>>>>>>> I really like the nice vector-based pdf graphics I get in R.
>>>>>>>
>>>>>>> However, PowerPoint seems to be unable to read them as vector
>>>>>>> graphics and rasterizes them, making them quite "fuzzy" and ugly.
>>>>>>> Granted, the problem lies with Microsoft, but in the mean time
>>>>>>> what is the best workaround? I'd like to do better than producing
>>>>>>> png from within R (especially that only my iMac has X11, my very
>>>>>>> old PowerBook does not).
>>>>>>>
>>>>>>> I am still able to show vector graphics in pict format in
>>>>>>> PowerPoint. So it should be possible to extract the vectorized
>>>>>>> plot from the pdf and save it as pict, still vectorized.
>>>>>>>
>>>>>>> However opening the R-produced pdf in Illustrator and saving as
>>>>>>> pict produces a file quite a bit bigger than the original pdf,
>>>>>>> suggesting it was saved as raster pict instead of vector pict. It
>>>>>>> shows up in Powerpoint just as ugly as if it was inserted  
>>>>>>> directly
>>>>>>> as pdf. This is true with Illustrator CS (aka v11 I think) used
>>>>>>> either under 10.2.8 or 10.3.7. It is also true when using
>>>>>>> GraphicConverter 5 and Preview (Jaguar's version, I think it is
>>>>>>> also true with the Panther version) to go from pdf to pict.
>>>>>>>
>>>>>>> I fired up Canvas (old, version 8) and it did manage to save
>>>>>>> something that was vectorized (i.e. very sharp when viewing at
>>>>>>> 400% in PowerPoint) but the empty circles I used as symbols were
>>>>>>> not filled blacks, the dashes of dashed lines had become  
>>>>>>> "wiggly",
>>>>>>> text orientation was unacceptably changed, etc. etc.
>>>>>>>
>>>>>>> So does anyone know of a technique to produce vector graphics  
>>>>>>> that
>>>>>>> insert nicely in PowerPoint, either directly from R or by
>>>>>>> converting a pdf produced by R into something else?
>>>>>>>
>>>>>>> Sincerely,
>>>>>>>
>>>>>>> Denis Chabot
>>>>>>>
>>>>>>> _______________________________________________
>>>>>>> R-SIG-Mac mailing list
>>>>>>> R-SIG-Mac@stat.math.ethz.ch
>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>>
>>>>>>>
>>>>>> ------------------------------------------------------------------ 
>>>>>> --
>>>>>> -------------
>>>>>> Dr. Andrew Beckerman
>>>>>> Department of Animal and Plant Sciences, University of Sheffield,
>>>>>> Alfred Denny Building, Western Bank, Sheffield S10 2TN, UK
>>>>>> ph +44 (0)114 222 0026; fx +44 (0)114 222 0002
>>>>>> http://www.shef.ac.uk/beckslab
>>>>>> ------------------------------------------------------------------ 
>>>>>> --
>>>>>> --------------
>>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac@stat.math.ethz.ch
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>
>>>>
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac@stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac@stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

From simon.urbanek at r-project.org  Thu Feb 10 19:52:10 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu Feb 10 19:52:17 2005
Subject: [R-SIG-Mac] How to put nice R graphics into powerpoint
In-Reply-To: <1108058661.8053.7.camel@ha667-1.commerce.ubc.ca>
References: <A0C85ED2-7B86-11D9-A06F-00050279D82B@globetrotter.net>
	<9a1f8172fc02f87f8c280d0d7c9a7439@unimi.it>
	<1108058661.8053.7.camel@ha667-1.commerce.ubc.ca>
Message-ID: <18A8FCE9-17EA-49D4-8EF5-C05A4F36BED5@r-project.org>

On Feb 10, 2005, at 1:04 PM, Dan Putler wrote:

> My guess is the supported vector format is Windows enhanced meta file,
> which R for Windows will produce. Unfortunately, Microsoft Office is 
> the
> one thing most of us can't get away from, try as we might. As a result,
> an argument could be made to have a device for this format on the Mac
> side if the Windows code could easily be ported.

Unfortunately it cannot be easily ported, because creating WMF in Win 
is trivial - Windows generates it for you (more precisely you draw the 
same way as if it was screen or printer - actually the same way you get 
PDF on a Mac ;)). Since it's Windows creating the WMF and not R, you 
cannot port it unless you  implement what Windows does...

I was looking into generating WMF from scratch long time ago and at 
that time there was no (non-commercial) library for writing WMF files. 
At that point libwmf was strictly read-only and I didn't check whether 
they added write-support which was planned for the future .. [btw: I'm 
using WMF here in the sense of both EMF and WMF]. If no one else 
tackles this and I have a spare minute, I 'll have a look if we can 
cook anything out of that ...

Cheers,
Simon

From simon.urbanek at r-project.org  Thu Feb 10 19:57:21 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu Feb 10 19:57:28 2005
Subject: [R-SIG-Mac] How to put nice R graphics into powerpoint
In-Reply-To: <2a6f5ea87eafb0d7c4fe32898c450939@globetrotter.net>
References: <A0C85ED2-7B86-11D9-A06F-00050279D82B@globetrotter.net>
	<9a1f8172fc02f87f8c280d0d7c9a7439@unimi.it>
	<1108058661.8053.7.camel@ha667-1.commerce.ubc.ca>
	<2a6f5ea87eafb0d7c4fe32898c450939@globetrotter.net>
Message-ID: <F2692A43-C20F-4532-8C25-FD4B844E5C2A@r-project.org>

On Feb 10, 2005, at 1:11 PM, Denis Chabot wrote:

> Well it would be more logical for Microsoft to support pdf!

Definitely, but M$ never does anything based on whether it makes sense 
- they do whatever will tie their users even more to M$ - which is 
keeping WMF to be the only format they support :).

> As for a R-based solution, a pict device would solve my problem just 
> as well as a wmf device.

I suspect that PICT is too legacy a format, but with some luck there 
may be a way to export Quartz to PICT ... I'll give it a shot (being a 
Mac user only since OS X I didn't know of vector PICT ...).

Cheers,
Simon

From stefano.iacus at unimi.it  Thu Feb 10 20:13:59 2005
From: stefano.iacus at unimi.it (stefano iacus)
Date: Thu Feb 10 20:14:10 2005
Subject: [R-SIG-Mac] How to put nice R graphics into powerpoint
In-Reply-To: <2a6f5ea87eafb0d7c4fe32898c450939@globetrotter.net>
References: <A0C85ED2-7B86-11D9-A06F-00050279D82B@globetrotter.net>
	<9a1f8172fc02f87f8c280d0d7c9a7439@unimi.it>
	<1108058661.8053.7.camel@ha667-1.commerce.ubc.ca>
	<2a6f5ea87eafb0d7c4fe32898c450939@globetrotter.net>
Message-ID: <cd87d6d13f52dca408ebd11f83598446@unimi.it>

A search for PDF to WMF gives me, among the others

http://www.business-presentations.co.uk/tranpro.htm

stefano
On Feb 10, 2005, at 7:11 PM, Denis Chabot wrote:

> Well it would be more logical for Microsoft to support pdf! I've  
> certainly complained loud enough, but I don't count on them doing  
> something for me. Unless pdf becomes important on Windows, I suppose.
>
> As for a R-based solution, a pict device would solve my problem just  
> as well as a wmf device.
>
> Denis
> Le 10 f?vr. 2005, ? 19:04, Dan Putler a ?crit :
>
>> Hi All,
>>
>> My guess is the supported vector format is Windows enhanced meta file,
>> which R for Windows will produce. Unfortunately, Microsoft Office is  
>> the
>> one thing most of us can't get away from, try as we might. As a  
>> result,
>> an argument could be made to have a device for this format on the Mac
>> side if the Windows code could easily be ported.
>>
>> Dan
>>
>> On Thu, 2005-02-10 at 09:20, stefano iacus wrote:
>>> On Feb 10, 2005, at 6:10 PM, Denis Chabot wrote:
>>>
>>>> Hi Stefano,
>>>>
>>>> Bitmaps is what I'd like to avoid.
>>>>
>>>> Preview seems to be using QuickTime for the translation from pdf to
>>>> pict, and the result is bitmap. Too bad though.
>>> yes, but as Thomas pointed out png is not that bad even with LaTeX.
>>> What kind of vectorial format does PowerPoint support (if any) ?
>>>
>>> I'm not used to PowerPoint, but for example, with KeyNote (the apple
>>> counterpart) you can use pdf graphics directly and you still have an
>>> option to export the slides in PowerPoint.
>>> Could this be another solution?
>>>
>>> stefano
>>>
>>>>
>>>> Denis
>>>> Le Jeudi, 10 f??vr 2005, ?? 18:05 Europe/Paris, stefano iacus a  
>>>> ??crit :
>>>>
>>>>> You can load the pdf file produce by R in the standard Previewer of
>>>>> Mac OS X and export to (almost) whatever format you like including
>>>>> bitmaps
>>>>>
>>>>>
>>>>> stefano
>>>>>
>>>>> On Feb 10, 2005, at 5:29 PM, Denis Chabot wrote:
>>>>>
>>>>>> Thank you Andrew and Thomas,
>>>>>>
>>>>>> I have used png produced by Illustrator in much the way you
>>>>>> described and the results were not very good. I'll try again  
>>>>>> because
>>>>>> I don't remember if I was given an option to chose the overall  
>>>>>> size
>>>>>> in pixels. If I can, then I'll increase the count. Alternatively,  
>>>>>> on
>>>>>> my iMac at home where R11 is installed, I'll resort to saving
>>>>>> directly in png but increasing the pixel count, as suggested by
>>>>>> Thomas.
>>>>>>
>>>>>> Still, if the information in the pdf produced by R is vector based
>>>>>> (it is still perfectly sharp when viewed at 1600% in Acrobat), why
>>>>>> can't I find a way to transform such pdf in vector-based pict?  
>>>>>> That
>>>>>> format must be able to handle such plots. After all, I also make
>>>>>> plots in KaleidaGraph, and they were very small vector-based pict
>>>>>> files. They looked gorgeous in Powerpoint at any zoom setting. I
>>>>>> also use Aabel which gives you the option of saving plots as pdf  
>>>>>> or
>>>>>> pict. I chose the later when I need to insert in PowerPoint, and  
>>>>>> the
>>>>>> former for LaTeX. Quality is good either way. Maybe I'll check if
>>>>>> there is a "graphics" discussion on Apple's site. If I manage to
>>>>>> learn something useful I'll report back.
>>>>>>
>>>>>> Denis
>>>>>> Le Jeudi, 10 f??vr 2005, ?? 17:13 Europe/Paris, Andrew Beckerman a
>>>>>> ??crit :
>>>>>>
>>>>>>> Denis - I use the following rather convoluted method with OS
>>>>>>> 10.3.8, Illustrator CS, and R2.0.1.
>>>>>>>
>>>>>>> command-c copies a figure from the quartz window.  Open this file
>>>>>>> in preview and export it as a pdf file (don't know why i do
>>>>>>> this....).  use illustrator, and the command <place> from the  
>>>>>>> file
>>>>>>> menu to insert it in a new document.  Choose <save for microsoft
>>>>>>> office> from the file menu in illustrator. this produces a png  
>>>>>>> file
>>>>>>> that plays nicely, cross platform, with Word and PP. variations
>>>>>>> abound, but the goal is to get something presentable in  
>>>>>>> illustrator
>>>>>>> and use its save for office option.....
>>>>>>>
>>>>>>> I noticed that preview has a png choice from export, but I've not
>>>>>>> yet played around with its options to see if I can get the same
>>>>>>> quality that the save for Microsoft Office option produces in
>>>>>>> Illustrator.
>>>>>>>
>>>>>>> Cheers
>>>>>>> andrew
>>>>>>>
>>>>>>>
>>>>>>> On 10 Feb 2005, at 15:50, Denis Chabot wrote:
>>>>>>>
>>>>>>>> Hi,
>>>>>>>>
>>>>>>>> I really like the nice vector-based pdf graphics I get in R.
>>>>>>>>
>>>>>>>> However, PowerPoint seems to be unable to read them as vector
>>>>>>>> graphics and rasterizes them, making them quite "fuzzy" and  
>>>>>>>> ugly.
>>>>>>>> Granted, the problem lies with Microsoft, but in the mean time
>>>>>>>> what is the best workaround? I'd like to do better than  
>>>>>>>> producing
>>>>>>>> png from within R (especially that only my iMac has X11, my very
>>>>>>>> old PowerBook does not).
>>>>>>>>
>>>>>>>> I am still able to show vector graphics in pict format in
>>>>>>>> PowerPoint. So it should be possible to extract the vectorized
>>>>>>>> plot from the pdf and save it as pict, still vectorized.
>>>>>>>>
>>>>>>>> However opening the R-produced pdf in Illustrator and saving as
>>>>>>>> pict produces a file quite a bit bigger than the original pdf,
>>>>>>>> suggesting it was saved as raster pict instead of vector pict.  
>>>>>>>> It
>>>>>>>> shows up in Powerpoint just as ugly as if it was inserted  
>>>>>>>> directly
>>>>>>>> as pdf. This is true with Illustrator CS (aka v11 I think) used
>>>>>>>> either under 10.2.8 or 10.3.7. It is also true when using
>>>>>>>> GraphicConverter 5 and Preview (Jaguar's version, I think it is
>>>>>>>> also true with the Panther version) to go from pdf to pict.
>>>>>>>>
>>>>>>>> I fired up Canvas (old, version 8) and it did manage to save
>>>>>>>> something that was vectorized (i.e. very sharp when viewing at
>>>>>>>> 400% in PowerPoint) but the empty circles I used as symbols were
>>>>>>>> not filled blacks, the dashes of dashed lines had become  
>>>>>>>> "wiggly",
>>>>>>>> text orientation was unacceptably changed, etc. etc.
>>>>>>>>
>>>>>>>> So does anyone know of a technique to produce vector graphics  
>>>>>>>> that
>>>>>>>> insert nicely in PowerPoint, either directly from R or by
>>>>>>>> converting a pdf produced by R into something else?
>>>>>>>>
>>>>>>>> Sincerely,
>>>>>>>>
>>>>>>>> Denis Chabot
>>>>>>>>
>>>>>>>> _______________________________________________
>>>>>>>> R-SIG-Mac mailing list
>>>>>>>> R-SIG-Mac@stat.math.ethz.ch
>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>>>
>>>>>>>>
>>>>>>> ----------------------------------------------------------------- 
>>>>>>> ---
>>>>>>> -------------
>>>>>>> Dr. Andrew Beckerman
>>>>>>> Department of Animal and Plant Sciences, University of Sheffield,
>>>>>>> Alfred Denny Building, Western Bank, Sheffield S10 2TN, UK
>>>>>>> ph +44 (0)114 222 0026; fx +44 (0)114 222 0002
>>>>>>> http://www.shef.ac.uk/beckslab
>>>>>>> ----------------------------------------------------------------- 
>>>>>>> ---
>>>>>>> --------------
>>>>>>>
>>>>>>
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac@stat.math.ethz.ch
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>
>>>>>
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac@stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac@stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

From deleeuw at stat.ucla.edu  Thu Feb 10 20:33:19 2005
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Thu Feb 10 20:33:41 2005
Subject: [R-SIG-Mac] How to put nice R graphics into powerpoint
In-Reply-To: <cd87d6d13f52dca408ebd11f83598446@unimi.it>
References: <A0C85ED2-7B86-11D9-A06F-00050279D82B@globetrotter.net>
	<9a1f8172fc02f87f8c280d0d7c9a7439@unimi.it>
	<1108058661.8053.7.camel@ha667-1.commerce.ubc.ca>
	<2a6f5ea87eafb0d7c4fe32898c450939@globetrotter.net>
	<cd87d6d13f52dca408ebd11f83598446@unimi.it>
Message-ID: <A9CCA8E1-C571-4D87-B083-0CD478DA4089@stat.ucla.edu>

A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 7956 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20050210/9c7de79c/attachment.bin
From chabotd at globetrotter.net  Thu Feb 10 21:20:39 2005
From: chabotd at globetrotter.net (Denis Chabot)
Date: Thu Feb 10 21:20:51 2005
Subject: [R-SIG-Mac] How to put nice R graphics into powerpoint
In-Reply-To: <BAD54876-FFCA-448C-83F2-89374A579D47@r-project.org>
References: <A0C85ED2-7B86-11D9-A06F-00050279D82B@globetrotter.net>
	<9a1f8172fc02f87f8c280d0d7c9a7439@unimi.it>
	<1108058661.8053.7.camel@ha667-1.commerce.ubc.ca>
	<2a6f5ea87eafb0d7c4fe32898c450939@globetrotter.net>
	<BAD54876-FFCA-448C-83F2-89374A579D47@r-project.org>
Message-ID: <e1503478db660f623d03f59c8e0254cf@globetrotter.net>

Well I really appreciate the efforts and the willingness to help of 
people on this list, but I agree that the pict format has no future and 
I'd hate to see Stefano's precious time being invested in working on a 
R device for it, considering that I can produce png with acceptable 
quality, bot with R when R11 is running and in Illustrator, by choosing 
export instead of save for office or save for the web. All three of 
these export options save to png format, but only the first one allows 
you to specify resolution. By cranking up resolution (150 instead of 
the default 72) I managed to create png graphics that do not look fuzzy 
in PowerPoint.

I am very surprised, however, that all those picture converters out 
there only export to raster pict even when the starting format is 
vector.

I don't really wish to see any effort going into a wmf device for R 
either, as wmf does not "always" import well into PowerPoint anyway. 
Some weird things often happen.

And finally, I don't intend to stay on a 1998 vintage PB for much 
longer, I'll buy my own computer in the next few months if my employer 
does not allow one. And then I can try Keynote!

Denis
Le 10 f?vr. 2005, ? 20:14, Simon Urbanek a ?crit :

> On Feb 10, 2005, at 1:11 PM, Denis Chabot wrote:
>
>> As for a R-based solution, a pict device would solve my problem just 
>> as well as a wmf device.
>
> I did some digging on the PICT device, and I have some bad news and 
> some good news. The bad news is that Cocoa has no way to create a PICT 
> file - it supports PDF only, so we cannot use the Quartz device for 
> it. The good news is that it is actually possible to create PICT files 
> using QuickDraw - which means that the old device used in Carbon R 
> could be presumably used to put that together. However, there were 
> significant changes in R since then, so it may be a lot of work. 
> Stefano is very busy and I know of no other Carbon R developers, so it 
> may be put on the wishlist, but unless you find someone else willing 
> to tackle this, it may stay there for a while ... :(
>
> Cheers,
> Simon
>

From ellis at stat.harvard.edu  Thu Feb 10 22:59:00 2005
From: ellis at stat.harvard.edu (Byron Ellis)
Date: Thu Feb 10 22:59:21 2005
Subject: [R-SIG-Mac] [OT] XEmacs Carbon
Message-ID: <548b0c09561b203b0ace10dd7dcbd3d5@stat.harvard.edu>

This isn't really an R/OS X post, but it may be of interest to ESS 
users on OS X. The creator of Emacs Carbon has done a port of XEmacs to 
Carbon on OS X. This isn't the carbon branch of XEmacs (the guy working 
on that died, I believe) but rather a completely independent port. 
Apparently XEmacs' internal structure made it easier to do certain 
things like using the ATSUI stuff for Unicode support and a slightly 
nicer layout. Those interested should head to 
http://members.shaw.ca/akochoi/

It also has the advantage of being relocatable (!) package so an 
enterprising soul could drop ESS into the internal Resources directory 
without much trouble. Anyways, thought I'd let y'all know.  :-)

---
Byron Ellis (ellis@stat.harvard.edu)
"Oook" -- The Librarian

From pnprice at lbl.gov  Thu Feb 10 23:34:52 2005
From: pnprice at lbl.gov (Phillip Price)
Date: Thu Feb 10 23:35:03 2005
Subject: [R-SIG-Mac] How to put nice R graphics into powerpoint
In-Reply-To: <e1503478db660f623d03f59c8e0254cf@globetrotter.net>
References: <A0C85ED2-7B86-11D9-A06F-00050279D82B@globetrotter.net>
	<9a1f8172fc02f87f8c280d0d7c9a7439@unimi.it>
	<1108058661.8053.7.camel@ha667-1.commerce.ubc.ca>
	<2a6f5ea87eafb0d7c4fe32898c450939@globetrotter.net>
	<BAD54876-FFCA-448C-83F2-89374A579D47@r-project.org>
	<e1503478db660f623d03f59c8e0254cf@globetrotter.net>
Message-ID: <FACAF16C-7BB3-11D9-9D77-00039382CF90@lbl.gov>

> Well I really appreciate the efforts and the willingness to help of 
> people on this list, but I agree that the pict format has no future 
> and I'd hate to see Stefano's precious time being invested in working 
> on a R device for it, considering that I can produce png with 
> acceptable quality, bot with R when R11 is running and in Illustrator, 
> by choosing export instead of save for office or save for the web. All 
> three of these export options save to png format, but only the first 
> one allows you to specify resolution. By cranking up resolution (150 
> instead of the default 72) I managed to create png graphics that do 
> not look fuzzy in PowerPoint.
>
> I am very surprised, however, that all those picture converters out 
> there only export to raster pict even when the starting format is 
> vector.
>
> I don't really wish to see any effort going into a wmf device for R 
> either, as wmf does not "always" import well into PowerPoint anyway. 
> Some weird things often happen.
>
> And finally, I don't intend to stay on a 1998 vintage PB for much 
> longer, I'll buy my own computer in the next few months if my employer 
> does not allow one. And then I can try Keynote!
>
> Denis

I would really like to find a solution to this, though, even if Denis 
can live without it!  Some colleagues insist on exchanging Powerpoint 
slides directly when we are preparing a presentation.

I usually create a PDF with R, and import it into Powerpoint for the 
mac.  The results are fuzzy and not good.  I don't have Illustrator.  
For final presentations I sometimes send the pdf to a colleague who has 
Illustrator, who converts it for me.

For weeks I've been intending to find a better way to do things, 
assuming that there must already be a solution in the R community and 
that I had just been too lazy to track it down.  If, instead, the 
actual state of things is that R cannot produce output that can be used 
well in the world's most popular presentation software, then I think 
this should be a fairly high-priority item.  (Of course, I say this 
from the standpoint of someone who will not actually be doing the work 
to implement a change, so, easy for _me_ to say)!

Anyway, I would love to see some kind of solution for this, though I 
don't know what that solution might be.

To those of you who continually work to make R better: thanks!

--Phil Price

From gwgilc at wm.edu  Fri Feb 11 01:38:16 2005
From: gwgilc at wm.edu (George W. Gilchrist)
Date: Fri Feb 11 01:38:29 2005
Subject: [R-SIG-Mac] Bug running pbinom() in R-GUI?
Message-ID: <BE3168A8.4737%gwgilc@wm.edu>

Today I was running a graduate level stats lab using R and we encountered a
major problem while using the current build of the Cocoa GUI:

>From the GUI:
> system.time(pbinom(80, 1e5, 806/1e6))
[1] 14.37  4.94 30.29  0.00  0.00
> 

>From the command line on the same machine:
> system.time(pbinom(80, 1e5, 806/1e6))
[1] 0.02 0.00 0.02 0.00 0.00
> 

I've tried the CRAN version and the latest build of the R-GUI and both
deliver the same terrible performance. It seems as if this only occurs for
certain arguments, but we saw this on ~15 different machines today. And it
seems to only be when running the Cocoa GUI. No problems at all with this
under Windoze. Any ideas?

George

==================================================================
George W. Gilchrist                        Email #1: gwgilc@wm.edu
Department of Biology, Box 8795          Email #2: kitesci@cox.net
College of William & Mary                    Phone: (757) 221-7751
Williamsburg, VA 23187-8795                    Fax: (757) 221-6483
http://gwgilc.people.wm.edu/

From goedman at mac.com  Fri Feb 11 06:50:22 2005
From: goedman at mac.com (Rob J Goedman)
Date: Fri Feb 11 06:50:38 2005
Subject: [R-SIG-Mac] Bug running pbinom() in R-GUI?
In-Reply-To: <BE3168A8.4737%gwgilc@wm.edu>
References: <BE3168A8.4737%gwgilc@wm.edu>
Message-ID: <f8cd8f6c029b23bd70cf3c0ce7ba202e@mac.com>

Hi George,

This was indeed pointed out a couple of weeks ago. At that time it 
showed up for
nbinom for low probabilities.

It only occurs using the R GUI, not using a terminal.

Its on my list to try and understand why this happens. Thanks for 
reporting it.

Regards,
Rob


On Feb 10, 2005, at 4:38 PM, George W. Gilchrist wrote:

> Today I was running a graduate level stats lab using R and we 
> encountered a
> major problem while using the current build of the Cocoa GUI:
>
>> From the GUI:
>> system.time(pbinom(80, 1e5, 806/1e6))
> [1] 14.37  4.94 30.29  0.00  0.00
>>
>
>> From the command line on the same machine:
>> system.time(pbinom(80, 1e5, 806/1e6))
> [1] 0.02 0.00 0.02 0.00 0.00
>>
>
> I've tried the CRAN version and the latest build of the R-GUI and both
> deliver the same terrible performance. It seems as if this only occurs 
> for
> certain arguments, but we saw this on ~15 different machines today. 
> And it
> seems to only be when running the Cocoa GUI. No problems at all with 
> this
> under Windoze. Any ideas?
>
> George
>
> ==================================================================
> George W. Gilchrist                        Email #1: gwgilc@wm.edu
> Department of Biology, Box 8795          Email #2: kitesci@cox.net
> College of William & Mary                    Phone: (757) 221-7751
> Williamsburg, VA 23187-8795                    Fax: (757) 221-6483
> http://gwgilc.people.wm.edu/
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

From simon.urbanek at r-project.org  Fri Feb 11 17:12:08 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri Feb 11 17:12:15 2005
Subject: [R-SIG-Mac] How to put nice R graphics into powerpoint
In-Reply-To: <FACAF16C-7BB3-11D9-9D77-00039382CF90@lbl.gov>
References: <A0C85ED2-7B86-11D9-A06F-00050279D82B@globetrotter.net>
	<9a1f8172fc02f87f8c280d0d7c9a7439@unimi.it>
	<1108058661.8053.7.camel@ha667-1.commerce.ubc.ca>
	<2a6f5ea87eafb0d7c4fe32898c450939@globetrotter.net>
	<BAD54876-FFCA-448C-83F2-89374A579D47@r-project.org>
	<e1503478db660f623d03f59c8e0254cf@globetrotter.net>
	<FACAF16C-7BB3-11D9-9D77-00039382CF90@lbl.gov>
Message-ID: <AE1FF99A-7C47-11D9-B113-000D93AE1C66@r-project.org>

Hi Phil,

some of the discussion went into private e-mails so I guess I'll fill 
some pieces here for the list.

On Feb 10, 2005, at 5:34 PM, Phillip Price wrote:

> I usually create a PDF with R, and import it into Powerpoint for the 
> mac.  The results are fuzzy and not good.  I don't have Illustrator.  
> For final presentations I sometimes send the pdf to a colleague who 
> has Illustrator, who converts it for me.

It's better to use PhotoShop (if you have it) than Illustrator - AI 
doesn't handle objects with alpha component well and has some other 
quirks. PS rendered all graphics I had perfectly and allows flexible 
resolution settings and many more output formats.

Other solution is to use R directly to produce hi-res bitmaps instead 
of PDF. You'll need to tweak the settings to get a good output, though.

> For weeks I've been intending to find a better way to do things, 
> assuming that there must already be a solution in the R community and 
> that I had just been too lazy to track it down.  If, instead, the 
> actual state of things is that R cannot produce output that can be 
> used well in the world's most popular presentation software, then I 
> think this should be a fairly high-priority item.  (Of course, I say 
> this from the standpoint of someone who will not actually be doing the 
> work to implement a change, so, easy for _me_ to say)!

The fact is that R can produce "output that can be used well in the 
world's most popular presentation software" if you're using the 
"world's most popular" operating system. That is the reason why it 
becomes a very low priority item as your argument backfires ;).

For the record - Cocoa doesn't support PICT (neither vector nor 
raster), so we can't go that way. Carbon + QuickDraw supports PICT, but 
that GD is very old and incompatible with the current R - bad luck 
again (volunteers are free to take the old code, port it to the current 
R and add PICT support...). Another possibility would be to tweak the 
Win32 R code and use libEMF - again a lot of work that may or may not 
lead to the desired result.

Finally some good news ;). After some tweaking and bug-fixing I was 
able to compile pstoedit and libEMF for OS X. The output isn't exactly 
great, but people who can live with PowerPoint won't notice or mind 
either, so there it goes:
http://www.rosuda.org/misc/pstoedit
That's the binary (statically linked, so nothing else needed). Just 
download, run
chmod a+x pstoedit
on it in Terminal after downloading and you're ready to go. It's a 
command-line tool, of course, and I highly recommend using the -pta 
flag. Furthermore due to the limitations of EMF format, you may be 
better off scaling the image to get somewhat more reasonable result, so 
you could use something like:
pstoedit -pta -xscale 16 -yscale 16 test.pdf test.emf
The reason why scaling makes a difference is that EMF uses integer 
precision and the grid of possible points is very coarse by default.

BTW: although the name says "ps..." it actually works much better with 
R's PDF files than PS. Chances are that you'll need GhostScript in 
/usr/local/bin - but I guess everyone has that, right?

In conclusion I can't help but to say, get Keynote if you can - you'll 
save yourself a lot of work and you presentation will look nicer than 
everyone else's that use PP (in terms of rendering and features - the 
content is still up to you ;)). If people insist that you use a PC for 
presentation, you can still use QT without compromising the quality of 
your talk. (Any flames in PT, please ;)).

Cheers,
Simon

From urbanek at research.att.com  Fri Feb 11 20:26:37 2005
From: urbanek at research.att.com (Simon Urbanek)
Date: Fri Feb 11 20:26:49 2005
Subject: [R-SIG-Mac] Bug running pbinom() in R-GUI?
In-Reply-To: <BE3168A8.4737%gwgilc@wm.edu>
References: <BE3168A8.4737%gwgilc@wm.edu>
Message-ID: <D8FE15E0-7C62-11D9-B113-000D93AE1C66@research.att.com>

On Feb 10, 2005, at 7:38 PM, George W. Gilchrist wrote:

> Today I was running a graduate level stats lab using R and we 
> encountered a
> major problem while using the current build of the Cocoa GUI:
>
>> From the GUI:
>> system.time(pbinom(80, 1e5, 806/1e6))
> [1] 14.37  4.94 30.29  0.00  0.00
>>
>
>> From the command line on the same machine:
>> system.time(pbinom(80, 1e5, 806/1e6))
> [1] 0.02 0.00 0.02 0.00 0.00
>>
>
> I've tried the CRAN version and the latest build of the R-GUI and both
> deliver the same terrible performance. It seems as if this only occurs 
> for
> certain arguments, but we saw this on ~15 different machines today. 
> And it
> seems to only be when running the Cocoa GUI. No problems at all with 
> this
> under Windoze. Any ideas?

The cause is pbeta_raw calling (indirectly via R_CheckUserInterrupt) 
R_ProcessEvents for every iteration - and for small p the number of 
iterations goes really high (e.g. for the case above n=99919). 
R_ProcessEvents is not a cheap operation, because it enters system 
event loop and processes any pending events. A quick fix could be the 
following patch, which checks for break only after several iterations 
(including the first one, just in case this is part of a sequence that 
may need user interaction).

Index: src/nmath/pbeta.c
===================================================================
--- src/nmath/pbeta.c   (revision 33148)
+++ src/nmath/pbeta.c   (working copy)
@@ -139,7 +139,8 @@
             for(i= 1; i <= n; i++) {
  #ifndef MATHLIB_STANDALONE
                 /* for now, at least allow this:*/
-               R_CheckUserInterrupt();
+               if ((i&1023)==1)
+                       R_CheckUserInterrupt();
  #endif
                 if (p1 <= 1 && term / eps <= finsum)
                     break;

after this patch has been applied I get in the GUI:

 > system.time(pbinom(80, 1e5, 806/1e6))
[1] 0.02 0.00 0.08 0.00 0.00

Cheers,
Simon

From pnprice at lbl.gov  Fri Feb 11 22:42:29 2005
From: pnprice at lbl.gov (Phillip Price)
Date: Fri Feb 11 22:42:42 2005
Subject: [R-SIG-Mac] How to put nice R graphics into powerpoint
In-Reply-To: <AE1FF99A-7C47-11D9-B113-000D93AE1C66@r-project.org>
References: <A0C85ED2-7B86-11D9-A06F-00050279D82B@globetrotter.net>
	<9a1f8172fc02f87f8c280d0d7c9a7439@unimi.it>
	<1108058661.8053.7.camel@ha667-1.commerce.ubc.ca>
	<2a6f5ea87eafb0d7c4fe32898c450939@globetrotter.net>
	<BAD54876-FFCA-448C-83F2-89374A579D47@r-project.org>
	<e1503478db660f623d03f59c8e0254cf@globetrotter.net>
	<FACAF16C-7BB3-11D9-9D77-00039382CF90@lbl.gov>
	<AE1FF99A-7C47-11D9-B113-000D93AE1C66@r-project.org>
Message-ID: <D41A5F1E-7C75-11D9-8C95-00039382CF90@lbl.gov>

>> I usually create a PDF with R, and import it into Powerpoint for the 
>> mac.  The results are fuzzy and not good.  I don't have Illustrator.  
>> For final presentations I sometimes send the pdf to a colleague who 
>> has Illustrator, who converts it for me.
>
> It's better to use PhotoShop (if you have it) than Illustrator - AI 
> doesn't handle objects with alpha component well and has some other 
> quirks. PS rendered all graphics I had perfectly and allows flexible 
> resolution settings and many more output formats.

Good to know.  But I don't have PS either.

> Other solution is to use R directly to produce hi-res bitmaps instead 
> of PDF. You'll need to tweak the settings to get a good output, 
> though.

This is probably the way to go, actually.  Believe it or not, I had not 
realized there was a way to make R produce bitmaps!

>>   If, instead, the actual state of things is that R cannot produce 
>> output that can be used well in the world's most popular presentation 
>> software, then I think this should be a fairly high-priority item.  
>> (Of course, I say this from the standpoint of someone who will not 
>> actually be doing the work to implement a change, so, easy for _me_ 
>> to say)!
>
> The fact is that R can produce "output that can be used well in the 
> world's most popular presentation software" if you're using the 
> "world's most popular" operating system. That is the reason why it 
> becomes a very low priority item as your argument backfires ;).

By that argument, why bother with R for Mac at all?

Those of us who have colleagues on Windows with whom we need to 
exchange Powerpoint slides are just in a bind, is all.  But the 
bitmap() solution should work fine for me, now that I know about it!  
(I have not yet played with it to check).

> Finally some good news ;). After some tweaking and bug-fixing I was 
> able to compile pstoedit and libEMF for OS X. The output isn't exactly 
> great, but people who can live with PowerPoint won't notice or mind 
> either, so there it goes:
> http://www.rosuda.org/misc/pstoedit
> That's the binary (statically linked, so nothing else needed). Just 
> download, run
> chmod a+x pstoedit
> on it in Terminal after downloading and you're ready to go. It's a 
> command-line tool, of course, and I highly recommend using the -pta 
> flag. Furthermore due to the limitations of EMF format, you may be 
> better off scaling the image to get somewhat more reasonable result, 
> so you could use something like:
> pstoedit -pta -xscale 16 -yscale 16 test.pdf test.emf
> The reason why scaling makes a difference is that EMF uses integer 
> precision and the grid of possible points is very coarse by default.

Terrific!  Fantastic!  From a quick test, this works well.

So to sum up: the bitmap() solution was always there, had I not been 
too lazy to figure it out.  And now Simon has made an installer for 
pstoedit, which also works fine for me.   Two good solutions to my 
problem, one day after asking for them. That's what I call service!  I 
really appreciate this.

> In conclusion I can't help but to say, get Keynote if you can

I have it and like it, but it's not a great solution for me: I 
frequently have to exchange slides with colleagues who use Powerpoint.  
  For a while I prepared my own talks in Keynote and exported to 
Powerpoint when I needed to, but there are some drawbacks and hassles 
associated with that.  More than half of my colleagues have switched to 
Mac now, but it will be hard to force a switch to Keynote as the de 
facto standard for everyone.  I do hope that in cases where I'm only 
dealing with my Mac-using colleagues, we can make Keynote the lingua 
franca.

Thanks again, Simon, for your help.

--Phil Price

From macq at llnl.gov  Fri Feb 11 23:34:56 2005
From: macq at llnl.gov (Don MacQueen)
Date: Fri Feb 11 23:35:09 2005
Subject: [R-SIG-Mac] How to put nice R graphics into powerpoint
In-Reply-To: <D41A5F1E-7C75-11D9-8C95-00039382CF90@lbl.gov>
References: <A0C85ED2-7B86-11D9-A06F-00050279D82B@globetrotter.net>
	<9a1f8172fc02f87f8c280d0d7c9a7439@unimi.it>
	<1108058661.8053.7.camel@ha667-1.commerce.ubc.ca>
	<2a6f5ea87eafb0d7c4fe32898c450939@globetrotter.net>
	<BAD54876-FFCA-448C-83F2-89374A579D47@r-project.org>
	<e1503478db660f623d03f59c8e0254cf@globetrotter.net>
	<FACAF16C-7BB3-11D9-9D77-00039382CF90@lbl.gov>
	<AE1FF99A-7C47-11D9-B113-000D93AE1C66@r-project.org>
	<D41A5F1E-7C75-11D9-8C95-00039382CF90@lbl.gov>
Message-ID: <p0611040bbe32e2720f51@[128.115.153.6]>

I know this is not helpful for folks who don't have Illustrator, but 
as of today I got decent results using R's postscript() device to 
create an EPS file, opening it in Illustrator (v10), and exporting as 
WMF.

The image, then imported into either Word 2004 or PowerPoint 2004 was 
decent, in the single example I tried. Certainly much better than 
using R's pdf() and then importing directly into Word or PP.

Watch out for encoding issues; believe it or not, specifying 
encoding='WinAnsi' in postscript() may give the best results.

-Don

At 1:42 PM -0800 2/11/05, Phillip Price wrote:
>>>I usually create a PDF with R, and import it into Powerpoint for 
>>>the mac.  The results are fuzzy and not good.  I don't have 
>>>Illustrator.  For final presentations I sometimes send the pdf to 
>>>a colleague who has Illustrator, who converts it for me.
>>
>>It's better to use PhotoShop (if you have it) than Illustrator - AI 
>>doesn't handle objects with alpha component well and has some other 
>>quirks. PS rendered all graphics I had perfectly and allows 
>>flexible resolution settings and many more output formats.
>
>Good to know.  But I don't have PS either.
>
>>Other solution is to use R directly to produce hi-res bitmaps 
>>instead of PDF. You'll need to tweak the settings to get a good 
>>output, though.
>
>This is probably the way to go, actually.  Believe it or not, I had 
>not realized there was a way to make R produce bitmaps!
>
>>>   If, instead, the actual state of things is that R cannot produce 
>>>output that can be used well in the world's most popular 
>>>presentation software, then I think this should be a fairly 
>>>high-priority item.  (Of course, I say this from the standpoint of 
>>>someone who will not actually be doing the work to implement a 
>>>change, so, easy for _me_ to say)!
>>
>>The fact is that R can produce "output that can be used well in the 
>>world's most popular presentation software" if you're using the 
>>"world's most popular" operating system. That is the reason why it 
>>becomes a very low priority item as your argument backfires ;).
>
>By that argument, why bother with R for Mac at all?
>
>Those of us who have colleagues on Windows with whom we need to 
>exchange Powerpoint slides are just in a bind, is all.  But the 
>bitmap() solution should work fine for me, now that I know about it! 
>(I have not yet played with it to check).
>
>>Finally some good news ;). After some tweaking and bug-fixing I was 
>>able to compile pstoedit and libEMF for OS X. The output isn't 
>>exactly great, but people who can live with PowerPoint won't notice 
>>or mind either, so there it goes:
>>http://www.rosuda.org/misc/pstoedit
>>That's the binary (statically linked, so nothing else needed). Just 
>>download, run
>>chmod a+x pstoedit
>>on it in Terminal after downloading and you're ready to go. It's a 
>>command-line tool, of course, and I highly recommend using the -pta 
>>flag. Furthermore due to the limitations of EMF format, you may be 
>>better off scaling the image to get somewhat more reasonable 
>>result, so you could use something like:
>>pstoedit -pta -xscale 16 -yscale 16 test.pdf test.emf
>>The reason why scaling makes a difference is that EMF uses integer 
>>precision and the grid of possible points is very coarse by default.
>
>Terrific!  Fantastic!  From a quick test, this works well.
>
>So to sum up: the bitmap() solution was always there, had I not been 
>too lazy to figure it out.  And now Simon has made an installer for 
>pstoedit, which also works fine for me.   Two good solutions to my 
>problem, one day after asking for them. That's what I call service! 
>I really appreciate this.
>
>>In conclusion I can't help but to say, get Keynote if you can
>
>I have it and like it, but it's not a great solution for me: I 
>frequently have to exchange slides with colleagues who use 
>Powerpoint.   For a while I prepared my own talks in Keynote and 
>exported to Powerpoint when I needed to, but there are some 
>drawbacks and hassles associated with that.  More than half of my 
>colleagues have switched to Mac now, but it will be hard to force a 
>switch to Keynote as the de facto standard for everyone.  I do hope 
>that in cases where I'm only dealing with my Mac-using colleagues, 
>we can make Keynote the lingua franca.
>
>Thanks again, Simon, for your help.
>
>--Phil Price
>
>_______________________________________________
>R-SIG-Mac mailing list
>R-SIG-Mac@stat.math.ethz.ch
>https://stat.ethz.ch/mailman/listinfo/r-sig-mac


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA

From j.van_den_hoff at fz-rossendorf.de  Sat Feb 12 16:03:49 2005
From: j.van_den_hoff at fz-rossendorf.de (joerg van den hoff)
Date: Sat Feb 12 16:04:03 2005
Subject: [R-SIG-Mac] How to put nice R graphics into powerpoint
In-Reply-To: <AE1FF99A-7C47-11D9-B113-000D93AE1C66@r-project.org>
References: <A0C85ED2-7B86-11D9-A06F-00050279D82B@globetrotter.net>	<9a1f8172fc02f87f8c280d0d7c9a7439@unimi.it>	<1108058661.8053.7.camel@ha667-1.commerce.ubc.ca>	<2a6f5ea87eafb0d7c4fe32898c450939@globetrotter.net>	<BAD54876-FFCA-448C-83F2-89374A579D47@r-project.org>	<e1503478db660f623d03f59c8e0254cf@globetrotter.net>	<FACAF16C-7BB3-11D9-9D77-00039382CF90@lbl.gov>
	<AE1FF99A-7C47-11D9-B113-000D93AE1C66@r-project.org>
Message-ID: <420E1AD5.8070308@fz-rossendorf.de>

Simon Urbanek wrote:
>...
> Finally some good news ;). After some tweaking and bug-fixing I was able 
> to compile pstoedit and libEMF for OS X. The output isn't exactly great, 
> but people who can live with PowerPoint won't notice or mind either, so 
> there it goes:
> http://www.rosuda.org/misc/pstoedit
> That's the binary (statically linked, so nothing else needed). Just 
> download, run
> chmod a+x pstoedit
> on it in Terminal after downloading and you're ready to go. It's a 
> command-line tool, of course, and I highly recommend using the -pta 
> flag. Furthermore due to the limitations of EMF format, you may be 
> better off scaling the image to get somewhat more reasonable result, so 
> you could use something like:
> pstoedit -pta -xscale 16 -yscale 16 test.pdf test.emf
> The reason why scaling makes a difference is that EMF uses integer 
> precision and the grid of possible points is very coarse by default.
> 
> BTW: although the name says "ps..." it actually works much better with 
> R's PDF files than PS. Chances are that you'll need GhostScript in 
> /usr/local/bin - but I guess everyone has that, right?
> 

> 
> Cheers,
> Simon
> 
>
simon,

thanks for the hint (did not know of 'pstoedit').

but the binary provided by you did not run on my machine, exactly 
because 'gs' was _not_ in /usr/local/bin, but rather in /sw/bin (fink 
installation).

is there any way to adjust the search path used by pstoedit? if not so, 
for those with the same problem:

I reinstalled pstoedit via 'fink' from source and that worked out rather 
fine, knowing of the local path to 'gs' and everything.

regards,

joerg

ps: my test run gave satisfactory quality of the .emf output but it was 
a clipped (at the top) version of the pdf input. can that be prevented 
with one of the flags of pstoedit?

From vokey at uleth.ca  Sat Feb 12 22:22:19 2005
From: vokey at uleth.ca (Dr. John R. Vokey)
Date: Sat Feb 12 22:22:25 2005
Subject: [R-SIG-Mac] ?if
Message-ID: <d8759ebc298c61ca26b6d9203f4fef1d@uleth.ca>

? followed by any of the condition statements (or help() containing the 
condition statement)  does nothing (i.e., the help window fails to 
open), but the line is parsed in that the prompt `>' is returned.  Is 
this a parsing error in the help function, or (more likely) have I 
missed some deep R construct?
--
John


--
John R. Vokey, PhD
Professor
B.E.R.G. - Behaviour and Evolution Research Group
Micro-Cognition Laboratory
Department of Psychology & Neuroscience
University of Lethbridge
Lethbridge, Alberta T1K 3M4
CANADA

From goedman at mac.com  Sun Feb 13 01:33:01 2005
From: goedman at mac.com (Rob J Goedman)
Date: Sun Feb 13 01:33:13 2005
Subject: [R-SIG-Mac] ?if
In-Reply-To: <d8759ebc298c61ca26b6d9203f4fef1d@uleth.ca>
References: <d8759ebc298c61ca26b6d9203f4fef1d@uleth.ca>
Message-ID: <0cff937c1075cda3b5df4bc7182bdece@mac.com>

John,

Just to make sure, which configuration are you using?

Assuming the GUI (otherwise you would see a "+" instead of the ">" 
prompt), which version of
the R.app are you using? The creation date listed in Finder will do.

I think you noticed 2 issues. Right now, there is no ? help for control 
structures. You have to go
to the language reference manual. Secondly, newer versions of R.app 
(just the GUI part, as
released by Simon on http://www.rosuda.org/R/nightly/ ) will tell you 
if there is no help for
the requested topic.

Hope this helps,
Rob


On Feb 12, 2005, at 1:22 PM, Dr. John R. Vokey wrote:

> ? followed by any of the condition statements (or help() containing 
> the condition statement)  does nothing (i.e., the help window fails to 
> open), but the line is parsed in that the prompt `>' is returned.  Is 
> this a parsing error in the help function, or (more likely) have I 
> missed some deep R construct?
> --
> John
>
>
> --
> John R. Vokey, PhD
> Professor
> B.E.R.G. - Behaviour and Evolution Research Group
> Micro-Cognition Laboratory
> Department of Psychology & Neuroscience
> University of Lethbridge
> Lethbridge, Alberta T1K 3M4
> CANADA
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

From ellis at stat.harvard.edu  Sun Feb 13 01:40:15 2005
From: ellis at stat.harvard.edu (Byron Ellis)
Date: Sun Feb 13 01:40:29 2005
Subject: [R-SIG-Mac] ?if
In-Reply-To: <0cff937c1075cda3b5df4bc7182bdece@mac.com>
References: <d8759ebc298c61ca26b6d9203f4fef1d@uleth.ca>
	<0cff937c1075cda3b5df4bc7182bdece@mac.com>
Message-ID: <0a004e8a32a161cff50c02deba0ed281@stat.harvard.edu>

Actually there is help for control structures, help("if") works just 
fine. The problem is ? is that R's parser treats ? as an operator with 
unary and binary forms when, in fact, its not really an operator. 
?if(TRUE) TRUE (any valid IF construct) will also give the help for 
'if'. This is true for all platforms and probably has something to do 
with the fact that while "if" is bound directly to a primitive ( 
"if"(runif(1) < 0.5,TRUE,FALSE) is equivalent to if(runif(1) < 0.5) 
TRUE else FALSE) , the if bareword gets special handling in the parser.

On Feb 12, 2005, at 4:33 PM, Rob J Goedman wrote:

> John,
>
> Just to make sure, which configuration are you using?
>
> Assuming the GUI (otherwise you would see a "+" instead of the ">" 
> prompt), which version of
> the R.app are you using? The creation date listed in Finder will do.
>
> I think you noticed 2 issues. Right now, there is no ? help for 
> control structures. You have to go
> to the language reference manual. Secondly, newer versions of R.app 
> (just the GUI part, as
> released by Simon on http://www.rosuda.org/R/nightly/ ) will tell you 
> if there is no help for
> the requested topic.
>
> Hope this helps,
> Rob
>
>
> On Feb 12, 2005, at 1:22 PM, Dr. John R. Vokey wrote:
>
>> ? followed by any of the condition statements (or help() containing 
>> the condition statement)  does nothing (i.e., the help window fails 
>> to open), but the line is parsed in that the prompt `>' is returned.  
>> Is this a parsing error in the help function, or (more likely) have I 
>> missed some deep R construct?
>> --
>> John
>>
>>
>> --
>> John R. Vokey, PhD
>> Professor
>> B.E.R.G. - Behaviour and Evolution Research Group
>> Micro-Cognition Laboratory
>> Department of Psychology & Neuroscience
>> University of Lethbridge
>> Lethbridge, Alberta T1K 3M4
>> CANADA
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac@stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
---
Byron Ellis (ellis@stat.harvard.edu)
"Oook" -- The Librarian

From vokey at uleth.ca  Sun Feb 13 02:04:15 2005
From: vokey at uleth.ca (Dr. John R. Vokey)
Date: Sun Feb 13 02:04:21 2005
Subject: [R-SIG-Mac] ?if
In-Reply-To: <0a004e8a32a161cff50c02deba0ed281@stat.harvard.edu>
References: <d8759ebc298c61ca26b6d9203f4fef1d@uleth.ca>
	<0cff937c1075cda3b5df4bc7182bdece@mac.com>
	<0a004e8a32a161cff50c02deba0ed281@stat.harvard.edu>
Message-ID: <4574ad8b6a9d224e895e1be6e49e75f5@uleth.ca>

help(if) (or other control control structures aside from if) gives the 
same non-result, unless quoted (as noted).  A related error occurs with 
apropos(if)---it returns a syntax error.

The version is: This version:
	Version 1.01

Requires:
	R  2.0.1 (2004-11-15)
	Framework Version


On 12-Feb-05, at 5:40 PM, Byron Ellis wrote:

> Actually there is help for control structures, help("if") works just 
> fine. The problem is ? is that R's parser treats ? as an operator with 
> unary and binary forms when, in fact, its not really an operator. 
> ?if(TRUE) TRUE (any valid IF construct) will also give the help for 
> 'if'. This is true for all platforms and probably has something to do 
> with the fact that while "if" is bound directly to a primitive ( 
> "if"(runif(1) < 0.5,TRUE,FALSE) is equivalent to if(runif(1) < 0.5) 
> TRUE else FALSE) , the if bareword gets special handling in the 
> parser.
>
> On Feb 12, 2005, at 4:33 PM, Rob J Goedman wrote:
>
>> John,
>>
>> Just to make sure, which configuration are you using?
>>
>> Assuming the GUI (otherwise you would see a "+" instead of the ">" 
>> prompt), which version of
>> the R.app are you using? The creation date listed in Finder will do.
>>
>> I think you noticed 2 issues. Right now, there is no ? help for 
>> control structures. You have to go
>> to the language reference manual. Secondly, newer versions of R.app 
>> (just the GUI part, as
>> released by Simon on http://www.rosuda.org/R/nightly/ ) will tell you 
>> if there is no help for
>> the requested topic.
>>
>> Hope this helps,
>> Rob
>>
>>
>> On Feb 12, 2005, at 1:22 PM, Dr. John R. Vokey wrote:
>>
>>> ? followed by any of the condition statements (or help() containing 
>>> the condition statement)  does nothing (i.e., the help window fails 
>>> to open), but the line is parsed in that the prompt `>' is returned. 
>>>  Is this a parsing error in the help function, or (more likely) have 
>>> I missed some deep R construct?
>>> --
>>> John
>>>
>>>
>>> --
>>> John R. Vokey, PhD
>>> Professor
>>> B.E.R.G. - Behaviour and Evolution Research Group
>>> Micro-Cognition Laboratory
>>> Department of Psychology & Neuroscience
>>> University of Lethbridge
>>> Lethbridge, Alberta T1K 3M4
>>> CANADA
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac@stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac@stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
> ---
> Byron Ellis (ellis@stat.harvard.edu)
> "Oook" -- The Librarian
>
>
--
John R. Vokey, PhD
Professor
B.E.R.G. - Behaviour and Evolution Research Group
Micro-Cognition Laboratory
Department of Psychology & Neuroscience
University of Lethbridge
Lethbridge, Alberta T1K 3M4
CANADA

From goedman at mac.com  Sun Feb 13 03:47:47 2005
From: goedman at mac.com (Rob J Goedman)
Date: Sun Feb 13 03:47:57 2005
Subject: [R-SIG-Mac] ?if
In-Reply-To: <4574ad8b6a9d224e895e1be6e49e75f5@uleth.ca>
References: <d8759ebc298c61ca26b6d9203f4fef1d@uleth.ca>
	<0cff937c1075cda3b5df4bc7182bdece@mac.com>
	<0a004e8a32a161cff50c02deba0ed281@stat.harvard.edu>
	<4574ad8b6a9d224e895e1be6e49e75f5@uleth.ca>
Message-ID: <32f0dba3dded441bfee4c7e743bc1c27@mac.com>

Thanks Byron.

You're right. In fact ?"if" works fine as well.

You do have the November version of R.app. The R.app on Simon's site 
will give you a faster
response if it can't find help on a topic.

Rob

On Feb 12, 2005, at 5:04 PM, Dr. John R. Vokey wrote:

> help(if) (or other control control structures aside from if) gives the 
> same non-result, unless quoted (as noted).  A related error occurs 
> with apropos(if)---it returns a syntax error.
>
> The version is: This version:
> 	Version 1.01
>
> Requires:
> 	R  2.0.1 (2004-11-15)
> 	Framework Version
>
>
> On 12-Feb-05, at 5:40 PM, Byron Ellis wrote:
>
>> Actually there is help for control structures, help("if") works just 
>> fine. The problem is ? is that R's parser treats ? as an operator 
>> with unary and binary forms when, in fact, its not really an 
>> operator. ?if(TRUE) TRUE (any valid IF construct) will also give the 
>> help for 'if'. This is true for all platforms and probably has 
>> something to do with the fact that while "if" is bound directly to a 
>> primitive ( "if"(runif(1) < 0.5,TRUE,FALSE) is equivalent to 
>> if(runif(1) < 0.5) TRUE else FALSE) , the if bareword gets special 
>> handling in the parser.
>>
>> On Feb 12, 2005, at 4:33 PM, Rob J Goedman wrote:
>>
>>> John,
>>>
>>> Just to make sure, which configuration are you using?
>>>
>>> Assuming the GUI (otherwise you would see a "+" instead of the ">" 
>>> prompt), which version of
>>> the R.app are you using? The creation date listed in Finder will do.
>>>
>>> I think you noticed 2 issues. Right now, there is no ? help for 
>>> control structures. You have to go
>>> to the language reference manual. Secondly, newer versions of R.app 
>>> (just the GUI part, as
>>> released by Simon on http://www.rosuda.org/R/nightly/ ) will tell 
>>> you if there is no help for
>>> the requested topic.
>>>
>>> Hope this helps,
>>> Rob
>>>
>>>
>>> On Feb 12, 2005, at 1:22 PM, Dr. John R. Vokey wrote:
>>>
>>>> ? followed by any of the condition statements (or help() containing 
>>>> the condition statement)  does nothing (i.e., the help window fails 
>>>> to open), but the line is parsed in that the prompt `>' is 
>>>> returned.  Is this a parsing error in the help function, or (more 
>>>> likely) have I missed some deep R construct?
>>>> --
>>>> John
>>>>
>>>>
>>>> --
>>>> John R. Vokey, PhD
>>>> Professor
>>>> B.E.R.G. - Behaviour and Evolution Research Group
>>>> Micro-Cognition Laboratory
>>>> Department of Psychology & Neuroscience
>>>> University of Lethbridge
>>>> Lethbridge, Alberta T1K 3M4
>>>> CANADA
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac@stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac@stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>> ---
>> Byron Ellis (ellis@stat.harvard.edu)
>> "Oook" -- The Librarian
>>
>>
> --
> John R. Vokey, PhD
> Professor
> B.E.R.G. - Behaviour and Evolution Research Group
> Micro-Cognition Laboratory
> Department of Psychology & Neuroscience
> University of Lethbridge
> Lethbridge, Alberta T1K 3M4
> CANADA
>

From vokey at uleth.ca  Sun Feb 13 04:09:15 2005
From: vokey at uleth.ca (Dr. John R. Vokey)
Date: Sun Feb 13 04:09:30 2005
Subject: [R-SIG-Mac] ?if
In-Reply-To: <32f0dba3dded441bfee4c7e743bc1c27@mac.com>
References: <d8759ebc298c61ca26b6d9203f4fef1d@uleth.ca>
	<0cff937c1075cda3b5df4bc7182bdece@mac.com>
	<0a004e8a32a161cff50c02deba0ed281@stat.harvard.edu>
	<4574ad8b6a9d224e895e1be6e49e75f5@uleth.ca>
	<32f0dba3dded441bfee4c7e743bc1c27@mac.com>
Message-ID: <1c23c26aac98b4cda9d52c292167a600@uleth.ca>

I am trying to introduce a class of senior undergraduates to the values 
and advantages of R for their statistical needs.  Unfortunately, little 
(and inconsequential) inconsistencies such as these do little to 
improve their confidence in the application.  It is not that I needed 
help on the topics, but my students may, and when the two tools they 
know how to use, ? and apropos(), fail, I get panicked e-mails...  I 
just thought the list would want to know.

-John


On 12-Feb-05, at 7:47 PM, Rob J Goedman wrote:

> Thanks Byron.
>
> You're right. In fact ?"if" works fine as well.
>
> You do have the November version of R.app. The R.app on Simon's site 
> will give you a faster
> response if it can't find help on a topic.
>
> Rob
>
> On Feb 12, 2005, at 5:04 PM, Dr. John R. Vokey wrote:
>
>> help(if) (or other control control structures aside from if) gives 
>> the same non-result, unless quoted (as noted).  A related error 
>> occurs with apropos(if)---it returns a syntax error.
>>
>> The version is: This version:
>> 	Version 1.01
>>
>> Requires:
>> 	R  2.0.1 (2004-11-15)
>> 	Framework Version
>>
>>
>> On 12-Feb-05, at 5:40 PM, Byron Ellis wrote:
>>
>>> Actually there is help for control structures, help("if") works just 
>>> fine. The problem is ? is that R's parser treats ? as an operator 
>>> with unary and binary forms when, in fact, its not really an 
>>> operator. ?if(TRUE) TRUE (any valid IF construct) will also give the 
>>> help for 'if'. This is true for all platforms and probably has 
>>> something to do with the fact that while "if" is bound directly to a 
>>> primitive ( "if"(runif(1) < 0.5,TRUE,FALSE) is equivalent to 
>>> if(runif(1) < 0.5) TRUE else FALSE) , the if bareword gets special 
>>> handling in the parser.
>>>
>>> On Feb 12, 2005, at 4:33 PM, Rob J Goedman wrote:
>>>
>>>> John,
>>>>
>>>> Just to make sure, which configuration are you using?
>>>>
>>>> Assuming the GUI (otherwise you would see a "+" instead of the ">" 
>>>> prompt), which version of
>>>> the R.app are you using? The creation date listed in Finder will do.
>>>>
>>>> I think you noticed 2 issues. Right now, there is no ? help for 
>>>> control structures. You have to go
>>>> to the language reference manual. Secondly, newer versions of R.app 
>>>> (just the GUI part, as
>>>> released by Simon on http://www.rosuda.org/R/nightly/ ) will tell 
>>>> you if there is no help for
>>>> the requested topic.
>>>>
>>>> Hope this helps,
>>>> Rob
>>>>
>>>>
>>>> On Feb 12, 2005, at 1:22 PM, Dr. John R. Vokey wrote:
>>>>
>>>>> ? followed by any of the condition statements (or help() 
>>>>> containing the condition statement)  does nothing (i.e., the help 
>>>>> window fails to open), but the line is parsed in that the prompt 
>>>>> `>' is returned.  Is this a parsing error in the help function, or 
>>>>> (more likely) have I missed some deep R construct?
>>>>> --
>>>>> John
>>>>>
>>>>>
>>>>> --
>>>>> John R. Vokey, PhD
>>>>> Professor
>>>>> B.E.R.G. - Behaviour and Evolution Research Group
>>>>> Micro-Cognition Laboratory
>>>>> Department of Psychology & Neuroscience
>>>>> University of Lethbridge
>>>>> Lethbridge, Alberta T1K 3M4
>>>>> CANADA
>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac@stat.math.ethz.ch
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac@stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>> ---
>>> Byron Ellis (ellis@stat.harvard.edu)
>>> "Oook" -- The Librarian
>>>
>>>
>> --
>> John R. Vokey, PhD
>> Professor
>> B.E.R.G. - Behaviour and Evolution Research Group
>> Micro-Cognition Laboratory
>> Department of Psychology & Neuroscience
>> University of Lethbridge
>> Lethbridge, Alberta T1K 3M4
>> CANADA
>>
>
>

From goedman at mac.com  Sun Feb 13 05:17:14 2005
From: goedman at mac.com (Rob J Goedman)
Date: Sun Feb 13 05:17:32 2005
Subject: [R-SIG-Mac] ?if
In-Reply-To: <1c23c26aac98b4cda9d52c292167a600@uleth.ca>
References: <d8759ebc298c61ca26b6d9203f4fef1d@uleth.ca>
	<0cff937c1075cda3b5df4bc7182bdece@mac.com>
	<0a004e8a32a161cff50c02deba0ed281@stat.harvard.edu>
	<4574ad8b6a9d224e895e1be6e49e75f5@uleth.ca>
	<32f0dba3dded441bfee4c7e743bc1c27@mac.com>
	<1c23c26aac98b4cda9d52c292167a600@uleth.ca>
Message-ID: <b3a45b6ef3c0703e1e2074deb99cc08c@mac.com>

Not sure how to improve this in the short run. Maybe Tiger's Spotlight? 
But I haven't seen
that yet, only read about it.

I have copied Tom Short on this email. I believe his reference card is 
tremendous
( http://www.rpad.org/Rpad/R-refcard.pdf ) and maybe a note or example 
could be
added to the help section.

It almost seems to me it would be more consistent to always suggest 
using the "..." version
for getting help.

Rob

On Feb 12, 2005, at 7:09 PM, Dr. John R. Vokey wrote:

> I am trying to introduce a class of senior undergraduates to the 
> values and advantages of R for their statistical needs.  
> Unfortunately, little (and inconsequential) inconsistencies such as 
> these do little to improve their confidence in the application.  It is 
> not that I needed help on the topics, but my students may, and when 
> the two tools they know how to use, ? and apropos(), fail, I get 
> panicked e-mails...  I just thought the list would want to know.
>
> -John
>
>
> On 12-Feb-05, at 7:47 PM, Rob J Goedman wrote:
>
>> Thanks Byron.
>>
>> You're right. In fact ?"if" works fine as well.
>>
>> You do have the November version of R.app. The R.app on Simon's site 
>> will give you a faster
>> response if it can't find help on a topic.
>>
>> Rob
>>
>> On Feb 12, 2005, at 5:04 PM, Dr. John R. Vokey wrote:
>>
>>> help(if) (or other control control structures aside from if) gives 
>>> the same non-result, unless quoted (as noted).  A related error 
>>> occurs with apropos(if)---it returns a syntax error.
>>>
>>> The version is: This version:
>>> 	Version 1.01
>>>
>>> Requires:
>>> 	R  2.0.1 (2004-11-15)
>>> 	Framework Version
>>>
>>>
>>> On 12-Feb-05, at 5:40 PM, Byron Ellis wrote:
>>>
>>>> Actually there is help for control structures, help("if") works 
>>>> just fine. The problem is ? is that R's parser treats ? as an 
>>>> operator with unary and binary forms when, in fact, its not really 
>>>> an operator. ?if(TRUE) TRUE (any valid IF construct) will also give 
>>>> the help for 'if'. This is true for all platforms and probably has 
>>>> something to do with the fact that while "if" is bound directly to 
>>>> a primitive ( "if"(runif(1) < 0.5,TRUE,FALSE) is equivalent to 
>>>> if(runif(1) < 0.5) TRUE else FALSE) , the if bareword gets special 
>>>> handling in the parser.
>>>>
>>>> On Feb 12, 2005, at 4:33 PM, Rob J Goedman wrote:
>>>>
>>>>> John,
>>>>>
>>>>> Just to make sure, which configuration are you using?
>>>>>
>>>>> Assuming the GUI (otherwise you would see a "+" instead of the ">" 
>>>>> prompt), which version of
>>>>> the R.app are you using? The creation date listed in Finder will 
>>>>> do.
>>>>>
>>>>> I think you noticed 2 issues. Right now, there is no ? help for 
>>>>> control structures. You have to go
>>>>> to the language reference manual. Secondly, newer versions of 
>>>>> R.app (just the GUI part, as
>>>>> released by Simon on http://www.rosuda.org/R/nightly/ ) will tell 
>>>>> you if there is no help for
>>>>> the requested topic.
>>>>>
>>>>> Hope this helps,
>>>>> Rob
>>>>>
>>>>>
>>>>> On Feb 12, 2005, at 1:22 PM, Dr. John R. Vokey wrote:
>>>>>
>>>>>> ? followed by any of the condition statements (or help() 
>>>>>> containing the condition statement)  does nothing (i.e., the help 
>>>>>> window fails to open), but the line is parsed in that the prompt 
>>>>>> `>' is returned.  Is this a parsing error in the help function, 
>>>>>> or (more likely) have I missed some deep R construct?
>>>>>> --
>>>>>> John
>>>>>>
>>>>>>
>>>>>> --
>>>>>> John R. Vokey, PhD
>>>>>> Professor
>>>>>> B.E.R.G. - Behaviour and Evolution Research Group
>>>>>> Micro-Cognition Laboratory
>>>>>> Department of Psychology & Neuroscience
>>>>>> University of Lethbridge
>>>>>> Lethbridge, Alberta T1K 3M4
>>>>>> CANADA
>>>>>>
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac@stat.math.ethz.ch
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac@stat.math.ethz.ch
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>
>>>> ---
>>>> Byron Ellis (ellis@stat.harvard.edu)
>>>> "Oook" -- The Librarian
>>>>
>>>>
>>> --
>>> John R. Vokey, PhD
>>> Professor
>>> B.E.R.G. - Behaviour and Evolution Research Group
>>> Micro-Cognition Laboratory
>>> Department of Psychology & Neuroscience
>>> University of Lethbridge
>>> Lethbridge, Alberta T1K 3M4
>>> CANADA
>>>
>>
>>
>

From stefano.iacus at unimi.it  Sun Feb 13 08:47:21 2005
From: stefano.iacus at unimi.it (stefano iacus)
Date: Sun Feb 13 08:47:34 2005
Subject: [R-SIG-Mac] ?if
In-Reply-To: <1c23c26aac98b4cda9d52c292167a600@uleth.ca>
References: <d8759ebc298c61ca26b6d9203f4fef1d@uleth.ca>
	<0cff937c1075cda3b5df4bc7182bdece@mac.com>
	<0a004e8a32a161cff50c02deba0ed281@stat.harvard.edu>
	<4574ad8b6a9d224e895e1be6e49e75f5@uleth.ca>
	<32f0dba3dded441bfee4c7e743bc1c27@mac.com>
	<1c23c26aac98b4cda9d52c292167a600@uleth.ca>
Message-ID: <ec7680cb2bc9d79cb7c998d4644cc23d@unimi.it>

It seems to me that this is an R knowledge problem more than anything 
specific to the GUI.
See the examples in help() ad you'll find the answer.

The problem with the R.app GUI and help is that we still did not 
re-defined print methods.

BTW: it seems to me that this sort of thread is more useful in R-help 
as other users can experience this "problem".

[ As for your students, I suggest you to tell them that there is a 
browse-able (?) on-line help (both for windows and Mac OS X) ]
stefano

On Feb 13, 2005, at 4:09 AM, Dr. John R. Vokey wrote:

> I am trying to introduce a class of senior undergraduates to the 
> values and advantages of R for their statistical needs.  
> Unfortunately, little (and inconsequential) inconsistencies such as 
> these do little to improve their confidence in the application.  It is 
> not that I needed help on the topics, but my students may, and when 
> the two tools they know how to use, ? and apropos(), fail, I get 
> panicked e-mails...  I just thought the list would want to know.
>
> -John
>
>
> On 12-Feb-05, at 7:47 PM, Rob J Goedman wrote:
>
>> Thanks Byron.
>>
>> You're right. In fact ?"if" works fine as well.
>>
>> You do have the November version of R.app. The R.app on Simon's site 
>> will give you a faster
>> response if it can't find help on a topic.
>>
>> Rob
>>
>> On Feb 12, 2005, at 5:04 PM, Dr. John R. Vokey wrote:
>>
>>> help(if) (or other control control structures aside from if) gives 
>>> the same non-result, unless quoted (as noted).  A related error 
>>> occurs with apropos(if)---it returns a syntax error.
>>>
>>> The version is: This version:
>>> 	Version 1.01
>>>
>>> Requires:
>>> 	R  2.0.1 (2004-11-15)
>>> 	Framework Version
>>>
>>>
>>> On 12-Feb-05, at 5:40 PM, Byron Ellis wrote:
>>>
>>>> Actually there is help for control structures, help("if") works 
>>>> just fine. The problem is ? is that R's parser treats ? as an 
>>>> operator with unary and binary forms when, in fact, its not really 
>>>> an operator. ?if(TRUE) TRUE (any valid IF construct) will also give 
>>>> the help for 'if'. This is true for all platforms and probably has 
>>>> something to do with the fact that while "if" is bound directly to 
>>>> a primitive ( "if"(runif(1) < 0.5,TRUE,FALSE) is equivalent to 
>>>> if(runif(1) < 0.5) TRUE else FALSE) , the if bareword gets special 
>>>> handling in the parser.
>>>>
>>>> On Feb 12, 2005, at 4:33 PM, Rob J Goedman wrote:
>>>>
>>>>> John,
>>>>>
>>>>> Just to make sure, which configuration are you using?
>>>>>
>>>>> Assuming the GUI (otherwise you would see a "+" instead of the ">" 
>>>>> prompt), which version of
>>>>> the R.app are you using? The creation date listed in Finder will 
>>>>> do.
>>>>>
>>>>> I think you noticed 2 issues. Right now, there is no ? help for 
>>>>> control structures. You have to go
>>>>> to the language reference manual. Secondly, newer versions of 
>>>>> R.app (just the GUI part, as
>>>>> released by Simon on http://www.rosuda.org/R/nightly/ ) will tell 
>>>>> you if there is no help for
>>>>> the requested topic.
>>>>>
>>>>> Hope this helps,
>>>>> Rob
>>>>>
>>>>>
>>>>> On Feb 12, 2005, at 1:22 PM, Dr. John R. Vokey wrote:
>>>>>
>>>>>> ? followed by any of the condition statements (or help() 
>>>>>> containing the condition statement)  does nothing (i.e., the help 
>>>>>> window fails to open), but the line is parsed in that the prompt 
>>>>>> `>' is returned.  Is this a parsing error in the help function, 
>>>>>> or (more likely) have I missed some deep R construct?
>>>>>> --
>>>>>> John
>>>>>>
>>>>>>
>>>>>> --
>>>>>> John R. Vokey, PhD
>>>>>> Professor
>>>>>> B.E.R.G. - Behaviour and Evolution Research Group
>>>>>> Micro-Cognition Laboratory
>>>>>> Department of Psychology & Neuroscience
>>>>>> University of Lethbridge
>>>>>> Lethbridge, Alberta T1K 3M4
>>>>>> CANADA
>>>>>>
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac@stat.math.ethz.ch
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac@stat.math.ethz.ch
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>
>>>> ---
>>>> Byron Ellis (ellis@stat.harvard.edu)
>>>> "Oook" -- The Librarian
>>>>
>>>>
>>> --
>>> John R. Vokey, PhD
>>> Professor
>>> B.E.R.G. - Behaviour and Evolution Research Group
>>> Micro-Cognition Laboratory
>>> Department of Psychology & Neuroscience
>>> University of Lethbridge
>>> Lethbridge, Alberta T1K 3M4
>>> CANADA
>>>
>>
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

From chabotd at globetrotter.net  Sun Feb 13 11:36:46 2005
From: chabotd at globetrotter.net (Denis Chabot)
Date: Sun Feb 13 11:37:14 2005
Subject: [R-SIG-Mac] How to put nice R graphics into powerpoint
In-Reply-To: <200502121100.j1CB097k019723@hypatia.math.ethz.ch>
References: <200502121100.j1CB097k019723@hypatia.math.ethz.ch>
Message-ID: <893119f7a4aa99f77d26a9bb3571bb4a@globetrotter.net>

Hi,

Simon, many thanks for your very informative answer.

I have pretty much given up the idea of converting to vector-based pict 
by lack of a tool to do the work. A last attempt was with MacGhostview. 
I'm not sure what the result is. It must be a vector based pict because 
it remains sharp even at maximum zoom in PowerPoint. However lines and 
plot symbols are not smooth and therefore the plots are not very 
attractive.

I have tried the new tool you offered to us, pstoedit. It produced 
results "close to good enough" with my plots. Lines and symbols were 
very thin, like in hairline line thickness, but maybe different 
settings in pstoedit would fix this. However I showed results of GAM 
fits with the confidence bands displayed, and in the converted plot the 
confidence bands were not clipped at the axes but continued in the 
margins. Furthermore text rotated 90 degrees (vertical text) required 
editing or moving, hence each plot would require quite a bit of work.

For the rest, I added some comments in answer to your message.

Le 12 f?vr. 2005, ? 12:00, r-sig-mac-request@stat.math.ethz.ch a ?crit :

> Message: 1
> Date: Fri, 11 Feb 2005 11:12:08 -0500
> From: Simon Urbanek <simon.urbanek@r-project.org>
> Subject: Re: [R-SIG-Mac] How to put nice R graphics into powerpoint
> To: Phillip Price <pnprice@lbl.gov>
> Cc: r-sig-mac@stat.math.ethz.ch
> Message-ID: <AE1FF99A-7C47-11D9-B113-000D93AE1C66@r-project.org>
> Content-Type: text/plain; charset=US-ASCII; format=flowed
>
> Hi Phil,
>
> some of the discussion went into private e-mails so I guess I'll fill
> some pieces here for the list.
>
> On Feb 10, 2005, at 5:34 PM, Phillip Price wrote:
>
>> I usually create a PDF with R, and import it into Powerpoint for the
>> mac.  The results are fuzzy and not good.  I don't have Illustrator.
>> For final presentations I sometimes send the pdf to a colleague who
>> has Illustrator, who converts it for me.
>
> It's better to use PhotoShop (if you have it) than Illustrator - AI
> doesn't handle objects with alpha component well and has some other
> quirks. PS rendered all graphics I had perfectly and allows flexible
> resolution settings and many more output formats.
>
My pdf plot did not use the alpha channel (at least I did not 
consciously ask for this). The png produced by Illustrator and 
Photoshop were equally nice after importing in PowerPoint, but 
Illustrator was faster at opening the pdf and saving the png. The size 
in pixels was a bit different, but when displayed at the same size in 
PowerPoint I could not tell them apart. Both these png had a 
transparent background. But one thing was weird for both of them: the 
symbols in my plot had varying sizes because I used a 3rd variable to 
control cex. The png files produced by Illustrator and Photoshop were 
much smaller than those of the original pdf. Weird (and undesirable!).

Converting from pdf to png with Preview did not produce very good 
results. But my best results came from doing the conversion with 
Acrobat 7. Very sharp looking png with symbols being exactly the same 
size as in the pdf file. The background is white instead of 
transparent, I don't know why. This I'm less happy with as I sometimes 
need a transparent background, but for this particular presentation 
white is OK.

I looked a bit more carefully at the size of my symbols and noticed 
that they are different between quartz device and pdf device for the 
same script on the same data. Is this documented somewhere that I did 
not think to check?

Sincerely,

Denis

> Other solution is to use R directly to produce hi-res bitmaps instead
> of PDF. You'll need to tweak the settings to get a good output, though.
>

Yes, this was my first choice after giving up vector pict.
For this to have been practical, I would have liked to have just one 
line to change from the script building a pdf file (I'll always need 
that format). Unfortunately, if you just replace pdf by png and do not 
change anything else, the result (480 x 480 @ 72 dpi) is not 
particularly crisp in PowerPoint. But if you start to ask for more 
pixels, all your settings have to be changed or you get tiny text and 
symbols and thin lines. This is too bad, although it is very possible I 
am doing something wrong with the png command. But for now I have to 
change so many aspects of my plots, which I carefully adjusted for a 
nice looking pdf, that it is not the best option for me.

>> For weeks I've been intending to find a better way to do things,
>> assuming that there must already be a solution in the R community and
>> that I had just been too lazy to track it down.  If, instead, the
>> actual state of things is that R cannot produce output that can be
>> used well in the world's most popular presentation software, then I
>> think this should be a fairly high-priority item.  (Of course, I say
>> this from the standpoint of someone who will not actually be doing the
>> work to implement a change, so, easy for _me_ to say)!
>
> The fact is that R can produce "output that can be used well in the
> world's most popular presentation software" if you're using the
> "world's most popular" operating system. That is the reason why it
> becomes a very low priority item as your argument backfires ;).
>
> For the record - Cocoa doesn't support PICT (neither vector nor
> raster), so we can't go that way. Carbon + QuickDraw supports PICT, but
> that GD is very old and incompatible with the current R - bad luck
> again (volunteers are free to take the old code, port it to the current
> R and add PICT support...). Another possibility would be to tweak the
> Win32 R code and use libEMF - again a lot of work that may or may not
> lead to the desired result.
>
> Finally some good news ;). After some tweaking and bug-fixing I was
> able to compile pstoedit and libEMF for OS X. The output isn't exactly
> great, but people who can live with PowerPoint won't notice or mind
> either, so there it goes:
> http://www.rosuda.org/misc/pstoedit
> That's the binary (statically linked, so nothing else needed). Just
> download, run
> chmod a+x pstoedit
> on it in Terminal after downloading and you're ready to go. It's a
> command-line tool, of course, and I highly recommend using the -pta
> flag. Furthermore due to the limitations of EMF format, you may be
> better off scaling the image to get somewhat more reasonable result, so
> you could use something like:
> pstoedit -pta -xscale 16 -yscale 16 test.pdf test.emf
> The reason why scaling makes a difference is that EMF uses integer
> precision and the grid of possible points is very coarse by default.
>
> BTW: although the name says "ps..." it actually works much better with
> R's PDF files than PS. Chances are that you'll need GhostScript in
> /usr/local/bin - but I guess everyone has that, right?
>
> In conclusion I can't help but to say, get Keynote if you can - you'll
> save yourself a lot of work and you presentation will look nicer than
> everyone else's that use PP (in terms of rendering and features - the
> content is still up to you ;)). If people insist that you use a PC for
> presentation, you can still use QT without compromising the quality of
> your talk. (Any flames in PT, please ;)).
>
> Cheers,
> Simon

From chabotd at globetrotter.net  Sun Feb 13 18:49:13 2005
From: chabotd at globetrotter.net (Denis Chabot)
Date: Sun Feb 13 18:49:27 2005
Subject: [R-SIG-Mac] RE: font encoding issue
Message-ID: <1e15694ebf17fd2452ed6b7d7de8c087@globetrotter.net>

Last November I enquired about having accents in R console. One of the 
replies was

> Martin Maechler  maechler at stat.math.ethz.ch
>  Wed Nov 24 10:31:14 CET 2004
>
<...>
>
> No, it's not "R itself", since this works in quite a few other
> circumstances in other R consoles: You should be able to use
> accents even in strings and plot them, see
>  > example(text)
> in R, and even in R object names :
>
> E.g. (in a Linux console):
>
>  > Z?ri <- "exemple ? suivre" # ? suivre
>  > Z?ri
>  [1] "exemple ? suivre"
>  >
>
> ---------
> However it is -- as you write -- an encoding issue,
> and probably also depending quite a bit on your so
> called "Locale" settings.  To learn more, e.g., see in R
>
>  > apropos("locale")
>  [1] "Sys.getlocale"  "Sys.localeconv" "Sys.setlocale"
>
> and now, e.g.,
>  > ?Sys.getlocale
>
> Here (where I mainly work with Redhat Enterprise Linux) I've
> explicitly turned off the Unicode locale (UTF-8 to be specific)
> and reverted to "C" (or "POSIX"), by at least setting  'LANG=C'
> or 'LANG=POSIX' instead of something like 'LANG=en_US.UTF-8'.
>
> Look at what
>   > Sys.getenv("LANG")
> tells you, and consider
>   > Sys.putenv(LANG = "C")
>
>
> Martin Maechler, ETH Zurich
>
>
Since then I had set locale to C and also LANG to C which allowed me to 
have the symbol for a degree sign to appear correctly in axis labels.

I don't know why but I cannot get this symbol in my plots anymore. I've 
checked and locale and LANG are still set to "C". But running 
example(text) as suggested above produces a plot with all kinds of 
mistakes. All the french accents, for instance, are wrong. I've looked 
at the CRAN archives and some of the posts suggested setting the 
encoding to ISOLatin1 when creating a pdf file. I've tried that too. 
I've even gone back to setting LANG to ISOLatin1, with no success 
either.

Can someone put be back on track, please?

Thanks in advance,

Denis Chabot

From tlumley at u.washington.edu  Sun Feb 13 23:07:40 2005
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Sun Feb 13 23:07:53 2005
Subject: [R-SIG-Mac] ?if
In-Reply-To: <1c23c26aac98b4cda9d52c292167a600@uleth.ca>
References: <d8759ebc298c61ca26b6d9203f4fef1d@uleth.ca>
	<0cff937c1075cda3b5df4bc7182bdece@mac.com>
	<0a004e8a32a161cff50c02deba0ed281@stat.harvard.edu>
	<4574ad8b6a9d224e895e1be6e49e75f5@uleth.ca>
	<32f0dba3dded441bfee4c7e743bc1c27@mac.com>
	<1c23c26aac98b4cda9d52c292167a600@uleth.ca>
Message-ID: <Pine.A41.4.61b.0502131359490.164234@homer04.u.washington.edu>

On Sat, 12 Feb 2005, Dr. John R. Vokey wrote:

> I am trying to introduce a class of senior undergraduates to the values and 
> advantages of R for their statistical needs.  Unfortunately, little (and 
> inconsequential) inconsistencies such as these do little to improve their 
> confidence in the application.

You could tell them that the argument to ? (and to apropos) should 
*always* be quoted, which is internally consistent and is consistent with 
other functions, where strings do have to be quoted.  Unfortunately the 
documentation has examples with bare names, but most people don't read the 
documentation.

The fact that help() accepts bare names is a bit of a wart -- for example,
   text<-"lm"
   help(text)
which is annoying when programming.

 	-thomas

From redmond at stat.wisc.edu  Tue Feb 15 16:25:47 2005
From: redmond at stat.wisc.edu (Michael Redmond)
Date: Tue Feb 15 16:25:59 2005
Subject: [R-SIG-Mac] How to Speed up R on the G5
In-Reply-To: <42087A95.1040501@stat.wisc.edu>
References: <200502080044.j180i8nI018473@hypatia.math.ethz.ch>	<c2a6158d250fd0ba7a450f7c5b06f934@unsw.edu.au>
	<42087A95.1040501@stat.wisc.edu>
Message-ID: <4212147B.7080104@stat.wisc.edu>

Doug,
Here are the results from the XServe.
Mike
---
R : Copyright 2004, The R Foundation for Statistical Computing
Version 2.0.1  (2004-11-15), ISBN 3-900051-07-0

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for a HTML browser interface to help.
Type 'q()' to quit R.

 >
 > source("submit.R", echo=TRUE)

 > mm <- matrix(rnorm(9e+06), nc = 3000)

 > system.time(crossprod(mm), gc = TRUE)
[1] 6.13 0.28 3.56 0.00 0.00

 > system.time(crossprod(mm), gc = TRUE)
[1] 6.17 0.24 3.56 0.00 0.00

 > system.time(crossprod(mm), gc = TRUE)
[1] 6.27 0.16 3.55 0.00 0.00

-----

Douglas Bates wrote:
> Regarding the question of whether veclib is parallelized, I'm reasonably 
> sure that it is.  A few months ago I compiled a version of R using 
> veclib for the BLAS and ran a simple timing test on a matrix crossproduct.
> 
> mm <- matrix(rnorm(9e6), nc = 3000)
> system.time(crossprod(mm), gc = TRUE)
> system.time(crossprod(mm), gc = TRUE)
> system.time(crossprod(mm), gc = TRUE)
> 
> I found on a dual processor system that the elapsed time was about half 
> the user CPU time.
> 
> I don't have access to that machine right now but I should be able to do 
> such a test again next week or perhaps Michael Redmond can do it this week.
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

From stefano.iacus at unimi.it  Fri Feb 18 11:49:28 2005
From: stefano.iacus at unimi.it (stefano iacus)
Date: Fri Feb 18 11:49:40 2005
Subject: [R-SIG-Mac] new additions to the devel page of R for Mac OS X
Message-ID: <707d5ead4b32f121d8f5c53dfbdda99d@unimi.it>

I've added some more infos on system configuration needed to build a 
localizable version of R, use of graphviz etc (i.e. pnet compiler, 
gettext tools) on

http://www.economia.unimi.it/R/

it is not extensively tested but at least it works on my system :)

stefano

From ellis at stat.harvard.edu  Sat Feb 19 02:40:00 2005
From: ellis at stat.harvard.edu (Byron Ellis)
Date: Sat Feb 19 02:40:12 2005
Subject: [R-SIG-Mac] new additions to the devel page of R for Mac OS X
In-Reply-To: <707d5ead4b32f121d8f5c53dfbdda99d@unimi.it>
References: <707d5ead4b32f121d8f5c53dfbdda99d@unimi.it>
Message-ID: <f7e07b4a27f3b0be949b40759761dcf9@stat.harvard.edu>

you should be able to build gettext without a C# compiler by passing 
--disable-csharp during the configuration phase.

On Feb 18, 2005, at 2:49 AM, stefano iacus wrote:

> I've added some more infos on system configuration needed to build a 
> localizable version of R, use of graphviz etc (i.e. pnet compiler, 
> gettext tools) on
>
> http://www.economia.unimi.it/R/
>
> it is not extensively tested but at least it works on my system :)
>
> stefano
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
---
Byron Ellis (ellis@stat.harvard.edu)
"Oook" -- The Librarian

From stefano.iacus at unimi.it  Sat Feb 19 08:13:47 2005
From: stefano.iacus at unimi.it (stefano iacus)
Date: Sat Feb 19 08:13:52 2005
Subject: [R-SIG-Mac] new additions to the devel page of R for Mac OS X
In-Reply-To: <f7e07b4a27f3b0be949b40759761dcf9@stat.harvard.edu>
References: <707d5ead4b32f121d8f5c53dfbdda99d@unimi.it>
	<f7e07b4a27f3b0be949b40759761dcf9@stat.harvard.edu>
Message-ID: <7c8c49b34870d19fdc9cf84e9397b1b5@unimi.it>

Thanks Byron,
stefano
On Feb 19, 2005, at 2:40 AM, Byron Ellis wrote:

> you should be able to build gettext without a C# compiler by passing 
> --disable-csharp during the configuration phase.
>
> On Feb 18, 2005, at 2:49 AM, stefano iacus wrote:
>
>> I've added some more infos on system configuration needed to build a 
>> localizable version of R, use of graphviz etc (i.e. pnet compiler, 
>> gettext tools) on
>>
>> http://www.economia.unimi.it/R/
>>
>> it is not extensively tested but at least it works on my system :)
>>
>> stefano
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac@stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
> ---
> Byron Ellis (ellis@stat.harvard.edu)
> "Oook" -- The Librarian
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

From simon.urbanek at r-project.org  Sun Feb 20 21:57:39 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sun Feb 20 21:57:38 2005
Subject: [R-SIG-Mac] Optimization flags for G5 and G4
In-Reply-To: <984d7b204db97bcd4de21949209b1ad2@unsw.edu.au>
References: <200502081115.j18BF8PF015259@hypatia.math.ethz.ch>
	<984d7b204db97bcd4de21949209b1ad2@unsw.edu.au>
Message-ID: <EC351ED3-2725-44E2-BB99-AC411E458C3C@r-project.org>

Due to popular demand I decided to post a short info on optimization 
flags for Macs.

In general if you want your code to be optimized for (and work only 
on!) a specific CPU, say G5, all you have to do is to specify
-mtune=G5 -mcpu=G5
By the way, using "G4" is also legal, of course.

However, there is more than just CPU optimization - alignment, 
inlining, loops etc. all this can be handled several ways. Therefore 
there are many additional flags you can use for optimization. The most 
aggressive flag is "-fast" (see man gcc), but it's not recommended for 
R, because it includes -ffast-math which produces fp code which is not 
IEEE-conform, and simply produces wrong result is some cases (important 
in handling of NAs which just doesn't work in a reliable way). But you 
can try most of the other flags.

Note also, that g77 doesn't necessarily support the same arguments as 
gcc. You may need to cut-down your list for fortran then.

Using the flags - don't forget to specify both CFLAGS and FFLAGS. In 
most cases you probably want to the CXXFLAGS, too, because some 
routines (such as svm or gbp for example) use C++ code.

Finally here go some examples of what you may want to try for a G5 
machine:
CFLAGS='-O3 -fgcse-sm -funroll-loops -fstrict-aliasing 
-fsched-interblock -falign-loops=16 -falign-jumps=16 
-falign-functions=16 -falign-jumps-max-skip=15 
-falign-loops-max-skip=15 -malign-natural -freorder-blocks 
-freorder-blocks-and-partition -mpowerpc-gfxopt -mpowerpc-gpopt 
-fstrict-aliasing -ftree-vectorize -mtune=G5 -mcpu=G5'
FFLAGS='-O3 -fgcse-sm -funroll-loops -fstrict-aliasing 
-fsched-interblock -falign-loops=16 -falign-jumps=16 
-falign-functions=16 -malign-natural -freorder-blocks 
-freorder-blocks-and-partition -mpowerpc-gfxopt -mpowerpc-gpopt 
-fstrict-aliasing -ftree-vectorize -mtune=G5 -mcpu=G5'

Note that -ftree-vectorize is supported only in gcc 4.0, so remove it 
for older compilers. Normally you should set CXXFLAGS to the same as 
CFLAGS. Always run make check to see whether the compiled code still 
behaves correctly. You mileage may vary.

A word on optimization: the benefit of compiler optimization will vary 
a lot with the application. Optimization affects only C/Fortran code in 
R and packages, so it is not likely to speed up your application if you 
use BLAS heavily, because that is already optimized. Finally, and most 
importantly, compiler optimization won't improve the speed if you use 
bad R code - your first step should always be to optimize your R code 
(use profiler to figure out where most time is spent - there were cases 
where 80% of the time was spent on unnecessary coercions). If speed is 
really that important to you, try R byte-compiler, it may or may not 
help in your case.

Cheers,
Simon

From j.van_den_hoff at fz-rossendorf.de  Wed Feb 23 17:38:43 2005
From: j.van_den_hoff at fz-rossendorf.de (joerg van den hoff)
Date: Wed Feb 23 17:38:49 2005
Subject: [R-SIG-Mac] package installer does not install at system level in R
	framework
In-Reply-To: <AE1FF99A-7C47-11D9-B113-000D93AE1C66@r-project.org>
References: <A0C85ED2-7B86-11D9-A06F-00050279D82B@globetrotter.net>	<9a1f8172fc02f87f8c280d0d7c9a7439@unimi.it>	<1108058661.8053.7.camel@ha667-1.commerce.ubc.ca>	<2a6f5ea87eafb0d7c4fe32898c450939@globetrotter.net>	<BAD54876-FFCA-448C-83F2-89374A579D47@r-project.org>	<e1503478db660f623d03f59c8e0254cf@globetrotter.net>	<FACAF16C-7BB3-11D9-9D77-00039382CF90@lbl.gov>	<AE1FF99A-7C47-11D9-B113-000D93AE1C66@r-project.org>
Message-ID: <421CB193.2040703@fz-rossendorf.de>

hi everybody,

hope, this is not known, yet:
the package installer (R 1.01 (v1.01))ignores the "install at system 
level" button, at least if there is a ".Renviron" in the user's home 
directory (who installs the package). instead, the first entry of 
"R_LIBS" is used as target directory.

a bug, probably?

best regards,

joerg

From j.van_den_hoff at fz-rossendorf.de  Wed Feb 23 17:54:59 2005
From: j.van_den_hoff at fz-rossendorf.de (joerg van den hoff)
Date: Wed Feb 23 17:55:04 2005
Subject: [R-SIG-Mac] UPDATE: package installer does not install at system
	level in R framework
In-Reply-To: <AE1FF99A-7C47-11D9-B113-000D93AE1C66@r-project.org>
References: <A0C85ED2-7B86-11D9-A06F-00050279D82B@globetrotter.net>	<9a1f8172fc02f87f8c280d0d7c9a7439@unimi.it>	<1108058661.8053.7.camel@ha667-1.commerce.ubc.ca>	<2a6f5ea87eafb0d7c4fe32898c450939@globetrotter.net>	<BAD54876-FFCA-448C-83F2-89374A579D47@r-project.org>	<e1503478db660f623d03f59c8e0254cf@globetrotter.net>	<FACAF16C-7BB3-11D9-9D77-00039382CF90@lbl.gov>	<AE1FF99A-7C47-11D9-B113-000D93AE1C66@r-project.org>
Message-ID: <421CB563.8040108@fz-rossendorf.de>

hi,

I checked this more precisely: the reason seems to be not the
presence of '.Renviron' in the home dir, but rather the presence of
$R_LIBS in the environment (whereever defined). nevertheless: if the GUI
states that it's going to install in R.framework and then does'nt (even 
if it is my problem that I have defined R_LIBS in the first place) I 
would think this is not desirable behaviour.

regards,
joerg

==========================================
ORIGINAL MESSAGE:
==========================================
hope, this is not known, yet:
the package installer (R 1.01 (v1.01))ignores the "install at system
level" button, at least if there is a ".Renviron" in the user's home
directory (who installs the package). instead, the first entry of
"R_LIBS" is used as target directory.

a bug, probably?

best regards,

joerg

From david_strong at cox.net  Sun Feb 27 20:58:21 2005
From: david_strong at cox.net (David Strong)
Date: Sun Feb 27 20:56:56 2005
Subject: [R-SIG-Mac] R.app feedback:
Message-ID: <42581cb1ac940aa7531bd22a7734ebf2@cox.net>

Hello:

I am having some trouble getting the Cocoa GUI to launch properly after 
a crash. I used the binaries to reinstall R for 10.3. I can launch R 
from command line using terminal or X11. However, clicking the R.app 
icon in my Applications folder causes the GUI to begin to load but it 
quits after a few seconds.

Here was the crash log:
Date/Time:      2005-02-25 23:29:34 -0500
OS Version:     10.3.8 (Build 7U16)
Report Version: 2

Command: R
Path:    /Volumes/R-GUI/R.app/Contents/MacOS/R
Version: ??? (???)
PID:     674
Thread:  Unknown

Link (dyld) error:

dyld: /Volumes/R-GUI/R.app/Contents/MacOS/R can't open library: 
/Library/Frameworks/R.framework/Resources/lib/libR.dylib  (No such file 
or directory, errno = 2)

I have checked this directory and the directory and file seem intact. I 
would appreciate any suggestions.


OS 10.3.8
Version 2.0.1  (2004-11-15), ISBN 3-900051-07-0


David

From simon.urbanek at r-project.org  Mon Feb 28 06:56:03 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon Feb 28 06:55:59 2005
Subject: [R-SIG-Mac] R.app feedback:
In-Reply-To: <42581cb1ac940aa7531bd22a7734ebf2@cox.net>
References: <42581cb1ac940aa7531bd22a7734ebf2@cox.net>
Message-ID: <97B2CF98-9381-4240-8E45-C91173187CD7@r-project.org>

David,

On Feb 27, 2005, at 2:58 PM, David Strong wrote:

> Link (dyld) error:
>
> dyld: /Volumes/R-GUI/R.app/Contents/MacOS/R can't open library: 
> /Library/Frameworks/R.framework/Resources/lib/libR.dylib  (No such 
> file or directory, errno = 2)
>
> I have checked this directory and the directory and file seem intact. 
> I would appreciate any suggestions.

Assuming that you have Developer Tools installed, please run the 
following command in the Terminal:

otool -L /Library/Frameworks/R.framework/Resources/lib/libR.dylib

If it comes up with an error, then your R is probably not setup 
properly. In that case, please run

ls -l /Library/Frameworks/R.framework/Versions

In any case if that doesn't give you any helpful hints, please send me 
the output of the above commands.

Cheers,
Simon

From a.beckerman at sheffield.ac.uk  Mon Feb 28 15:11:10 2005
From: a.beckerman at sheffield.ac.uk (Andrew Beckerman)
Date: Mon Feb 28 15:11:19 2005
Subject: [R-SIG-Mac] lme4 print and summary errror
In-Reply-To: <41E3BA60.2080507@wisc.edu>
References: <09E214C1-63BB-11D9-9451-000A95CD7F02@sheffield.ac.uk>
	<41E3BA60.2080507@wisc.edu>
Message-ID: <1e322f52359926e9755654bb0706e370@sheffield.ac.uk>

I just wanted to update on this issue, and it appears to be a mac  
problem. I sorted the issue by deleting my .RData and .RHistory files  
in my home directory.  It appears that somewhere in those files,  
perhaps a latent image of something linked to nlme remained, causing  
the print and summary function not to work (on the last three releases  
of lme4).  Having done this, all is well in R+lme4+OSX.  Why this  
happend, I don't know.

Cheers
andrew

On 11 Jan 2005, at 11:37, Douglas Bates wrote:

> Andrew Beckerman wrote:
>> Hi all - (this is posted to r-help and R-SIG-MAC)
>> OSX 10.3.7, R 2.0.1, lme4/Matrix/latticeExtra latest, fresh install  
>> of R. MASS loaded (or not).
>> I am getting an error message for the print() and summary() commands  
>> with all lme models I try and run in lme4 (GLMM's work fine).  Using  
>> the example from the lme help, summary and print produce the  
>> following errors, despite the model being fit, as indicated by  
>> VarCorr() and examination of str(fm).  Any ideas?
>> (I can't reproduce this on a windows95 install of 2.0.1, so I am  
>> guessing it may be a mac thing at the moment?  This happens with the  
>> binary or the source installation of lme4.)
>> Cheers
>> andrew
>>  > data(bdf)
>>  > fm <- lme(langPOST ~ IQ.ver.cen + avg.IQ.ver.cen, data = bdf,
>> +           random = ~ IQ.ver.cen | schoolNR)
>>  > summary(fm)
>> Error in verbose || attr(x, "verbose") : invalid `y' type in `x || y'
>>  > fm
>> Linear mixed-effects model fit by   Data: NULL
>>   Log-likelihood: NULL
>>   Fixed: list()
>> NULL
>> Length  Class   Mode
>>      0   NULL   NULL
>> Number of Observations:
>> Number of Groups: Error in 1:dd$Q : NA/NaN argument
>>  > VarCorr(fm)
>>  Groups   Name        Variance Std.Dev. Corr
>>  schoolNR (Intercept)  8.07702 2.84201
>>           IQ.ver.cen   0.20806 0.45614  -0.642
>>  Residual             41.34942 6.43035
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac@stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> Check what packages you have loaded.  It looks as if you have loaded  
> lme4 and nlme at the same time and you their methods will conflict.
>
>
------------------------------------------------------------------------ 
---------
Dr. Andrew Beckerman
Department of Animal and Plant Sciences, University of Sheffield,
Alfred Denny Building, Western Bank, Sheffield S10 2TN, UK
ph +44 (0)114 222 0026; fx +44 (0)114 222 0002
http://www.shef.ac.uk/beckslab
------------------------------------------------------------------------ 
----------

