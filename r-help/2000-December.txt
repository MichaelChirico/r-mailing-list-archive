From mjr at stats.mth.uea.ac.uk  Fri Dec  1 00:23:16 2000
From: mjr at stats.mth.uea.ac.uk (MJ Ray)
Date: 30 Nov 2000 23:23:16 +0000
Subject: [R] changes in glm?
In-Reply-To: Uwe Ligges's message of "Thu, 30 Nov 2000 14:35:30 +0100"
References: <f04320402b64bf39f93e6@[139.222.80.154]>
	<3A2657A2.F2FBF11F@statistik.uni-dortmund.de>
Message-ID: <szipujdyrh7.fsf@stats.mth.uea.ac.uk>

Uwe Ligges <ligges at statistik.uni-dortmund.de> writes:

> The recent version is R-1.1.1 ! 
> So it's a great idea to upgrade.

This involves central services, I believe, so it's not an immediately
fixable matter, but a request will be made.  I couldn't find the
changelog on the website in an obvious location -- did I just miss it?

-- 
MJR                                     (Not an official statement)
Please note changes of address		http://stats.mth.uea.ac.uk/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Dec  1 08:19:12 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 01 Dec 2000 08:19:12 +0100
Subject: [R] changes in glm?
References: <f04320402b64bf39f93e6@[139.222.80.154]>
		<3A2657A2.F2FBF11F@statistik.uni-dortmund.de> <szipujdyrh7.fsf@stats.mth.uea.ac.uk>
Message-ID: <3A2750F0.8620FB77@statistik.uni-dortmund.de>



MJ Ray wrote:
> 
> Uwe Ligges <ligges at statistik.uni-dortmund.de> writes:
> 
> > The recent version is R-1.1.1 !
> > So it's a great idea to upgrade.
> 
> This involves central services, I believe, so it's not an immediately
> fixable matter, but a request will be made.  I couldn't find the
> changelog on the website in an obvious location -- did I just miss it?

Recent news:
http://cran.r-project.org/src/base/NEWS

News of 1.0.0 and earlier:
http://cran.r-project.org/src/base/ONEWS

Uwe Ligges

BTW: On many systems it is possible to compile your own version and
install it to your home directory ...
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Dec  1 09:22:46 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 1 Dec 2000 08:22:46 +0000 (GMT)
Subject: [R] Landscape problems with ps2pdf
In-Reply-To: <8156A6FE684ED21194D20008C756F8DF443CCB@independence.esperion.com>
Message-ID: <Pine.GSO.4.05.10012010812090.8218-100000@auk.stats>

On Thu, 30 Nov 2000, Matthew Nelson wrote:

> R Users,
> 
> I have created a multipage PostScript file using the postscript() function
> with horizontal = TRUE to produce my plots in landscape.  I intended to
> convert that entire file to PDF using ps2pdf to have the plots available for
> a presentation.  Unfortunately, the resulting PDF document is rotated -90
> degrees.

Um, I think the problem is that the PDF document is rotated (as it should
be), but the reader is not being told to display it rotated to landscape.
That's ps2pdf's failing, nor R's, as Adobe Distiller does this as you
intended with R plot files.

> I have found dozens of references to this kind of problem with ps2pdf
> online, but no effective workaround.  I would really appreciate any
> suggestions.

Use Distiller.  It still works streets better than ps2pdf, even though gs
is catching up.  That's always the answer on the pdftex list.

> I am using R Version 1.1.1 on RedHat Linux 6.2.  I have upgraded to
> ghostscript 6.01 (in an attempt to correct the problem). 

Ah, you will have to use a commercial OS to use Distiller, but then 
you work in a commercial organisation.

Another possibility is to embed the plot file into a tex file, use pdftex,
and tell it to produce landscape PDF, as it does know how to do it. (I
don't, as I would go and buy Acrobat 4.05 if I had to do this rather than
spend time on it.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From albrecht.gebhardt at uni-klu.ac.at  Fri Dec  1 09:50:09 2000
From: albrecht.gebhardt at uni-klu.ac.at (Albrecht Gebhardt)
Date: Fri, 1 Dec 2000 09:50:09 +0100 (MET)
Subject: [R] Haerdle Library
In-Reply-To: <200011281307.NAA10246@toucan.stats.ox.ac.uk>
Message-ID: <Pine.OSF.4.21.0012010941001.4127-100000@zidsrv.sci.uni-klu.ac.at>

On Tue, 28 Nov 2000, Prof Brian Ripley wrote:

> 
> > Date: Tue, 28 Nov 2000 03:54:40 -0800 (PST)
> > From: Dinil Penne <pennedinil at excite.com>
> > To: R-help at stat.math.ethz.ch
> > Subject: [R] Haerdle Library
> > X-Sender-Ip: 193.120.151.66
> > 
> > 
> > Has anyone had success in installing and using the Haerdle library of
> > functions available for S-Plus? Is it as straightforward as copying the
> > files into the library directory for R? 
> > 
> > Thanks in advance. I'm using R on Windows.
> 
> No, it uses C code.  I put the haerdle library on statlib, but decided not to 
> port it to R as I think much better versions of the functions are
> available.  Look at KernSmooth, for example.

3 years ago I did some porting (as I remember only partly, with R version
0.5x or so), it is available at 

  ftp://ftp-stat.uni-klu.ac.at/pub/R/contrib/haerdle_1.0-1.tar.gz

but I agree that there are much better packages which do similar things.
And I didn't touch this port for over two years now, so I guess it will
not pass "R CMD check". If you really need this library feel free to take
this as starting point for porting.

Albrecht

// Albrecht Gebhardt          Tel.: (++43 463) 2700/832
// Institut fuer Mathematik   Fax : (++43 463) 2700/834
// Universitaet Klagenfurt    mailto:albrecht.gebhardt at uni-klu.ac.at
// Universitaetsstr. 65       http://www-stat.uni-klu.ac.at/~agebhard
// A-9020 Klagenfurt, Austria 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mjr at stats.mth.uea.ac.uk  Fri Dec  1 10:45:16 2000
From: mjr at stats.mth.uea.ac.uk (MJ Ray)
Date: 01 Dec 2000 09:45:16 +0000
Subject: [R] changes in glm?
In-Reply-To: MJ Ray's message of "30 Nov 2000 23:23:16 +0000"
References: <f04320402b64bf39f93e6@[139.222.80.154]>
	<3A2657A2.F2FBF11F@statistik.uni-dortmund.de>
	<szipujdyrh7.fsf@stats.mth.uea.ac.uk>
Message-ID: <sziaeagzd8z.fsf@stats.mth.uea.ac.uk>

I was expecting a changelog near the download link for the current R.
Sadly, it's far simpler to ask central services to update R, as we
have userspace quotas, little time and insufficient knowledge of their
"unusual" setup.  I will update it on our machines, though.
-- 
MJR                                     (Not an official statement)
Please note changes of address		http://stats.mth.uea.ac.uk/
[Apologies for getting out of thread order, I got confused.]
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From xgotz at informatics.muni.cz  Fri Dec  1 11:47:38 2000
From: xgotz at informatics.muni.cz (Martin Gotz)
Date: Fri, 1 Dec 2000 11:47:38 +0100
Subject: [R] integers, reals
In-Reply-To: <Pine.GSO.4.21.0011091855150.26962-100000@amadeus.statistik.uni-dortmund.de>
Message-ID: <Pine.SGI.4.21.0012011141100.2831883-100000@aisa.fi.muni.cz>

Hello,
how much bytes is one integer and real number in R?
Thanks
Martin Gotz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Dec  1 12:18:13 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 1 Dec 2000 11:18:13 +0000 (GMT)
Subject: [R] integers, reals
Message-ID: <200012011118.LAA20375@toucan.stats.ox.ac.uk>

> Date: Fri, 1 Dec 2000 11:47:38 +0100
> From: Martin Gotz <xgotz at informatics.muni.cz>

> how much bytes is one integer and real number in R?

Strictly, it varies by platform, but I think it is 4 and 8 on all
known platforms, even 64-bit ones.  Integers are required to be
at least 4 bytes long.

R 1.2.0 will have a function object.size() to give a rough idea of the size
of objects in memory.  (Rough, because attributing memory blocks to
objects is not exact.)  For example, on a 64-bit machine

> x <- integer(1000)
> object.size(x)
[1] 4056


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Fri Dec  1 14:40:35 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 01 Dec 2000 07:40:35 -0600
Subject: [R] Landscape problems with ps2pdf
In-Reply-To: Prof Brian D Ripley's message of "Fri, 1 Dec 2000 08:22:46 +0000 (GMT)"
References: <Pine.GSO.4.05.10012010812090.8218-100000@auk.stats>
Message-ID: <6rg0k8uung.fsf@franz.stat.wisc.edu>

Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:

> On Thu, 30 Nov 2000, Matthew Nelson wrote:
> 
> > R Users,
> > 
> > I have created a multipage PostScript file using the postscript() function
> > with horizontal = TRUE to produce my plots in landscape.  I intended to
> > convert that entire file to PDF using ps2pdf to have the plots available for
> > a presentation.  Unfortunately, the resulting PDF document is rotated -90
> > degrees.
> 
> Um, I think the problem is that the PDF document is rotated (as it should
> be), but the reader is not being told to display it rotated to landscape.
> That's ps2pdf's failing, nor R's, as Adobe Distiller does this as you
> intended with R plot files.

I encountered a similar problem when producing landscape slides with
LaTeX and dvips, then converting to PDF with ps2pdf.  (There are
reasons for not using pdflatex to go directly to PDF in this case.)
Saikat DebRoy discovered a fix for this somewhere on the Ghostscript
web site - I believe through searching at google.org first.

The fix is to edit the dvips-produced PostScript file by hand and
replace a single line of @landscape by an explicit setpagedevice.
Perhaps adding a setpagedevice in the Prolog for the R plots will do
the same - I haven't tried this.  The Setup section in the PostScript
produced by dvips is modified to be (the numbers 792 and 612 are the
page sizes for US-letter paper in PostScript points or 1/72 inch)

%%BeginSetup
%%Feature: *Resolution 83dpi
TeXDict begin
  % @landscape
  << /PageSize [792 612] /Orientation 0 >> setpagedevice
%%EndSetup
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mnelson at esperion.com  Fri Dec  1 16:35:55 2000
From: mnelson at esperion.com (Matthew Nelson)
Date: Fri, 1 Dec 2000 10:35:55 -0500 
Subject: [R] Landscape problems with ps2pdf
Message-ID: <8156A6FE684ED21194D20008C756F8DF443CCE@independence.esperion.com>


> -----Original Message-----
> From: Douglas Bates [mailto:bates at stat.wisc.edu]
> 
> Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:
> 
> > On Thu, 30 Nov 2000, Matthew Nelson wrote:
> > 
> > > R Users,
> > > 
> > > I have created a multipage PostScript file using the 
> postscript() function
> > > with horizontal = TRUE to produce my plots in landscape.  
> I intended to
> > > convert that entire file to PDF using ps2pdf to have the 
> plots available for
> > > a presentation.  Unfortunately, the resulting PDF 
> document is rotated -90
> > > degrees.
> > 
> > Um, I think the problem is that the PDF document is rotated (as it
should
> > be), but the reader is not being told to display it rotated to
landscape.
> > That's ps2pdf's failing, nor R's, as Adobe Distiller does this as you
> > intended with R plot files.
> 
> I encountered a similar problem when producing landscape slides with
> LaTeX and dvips, then converting to PDF with ps2pdf.  (There are
> reasons for not using pdflatex to go directly to PDF in this case.)
> Saikat DebRoy discovered a fix for this somewhere on the Ghostscript
> web site - I believe through searching at google.org first.
> 
> The fix is to edit the dvips-produced PostScript file by hand and
> replace a single line of @landscape by an explicit setpagedevice.
> Perhaps adding a setpagedevice in the Prolog for the R plots will do
> the same - I haven't tried this.  The Setup section in the PostScript
> produced by dvips is modified to be (the numbers 792 and 612 are the
> page sizes for US-letter paper in PostScript points or 1/72 inch)
> 
> %%BeginSetup
> %%Feature: *Resolution 83dpi
> TeXDict begin
>   % @landscape
>   << /PageSize [792 612] /Orientation 0 >> setpagedevice
> %%EndSetup

I had actually come across this suggestion in my search.  It worked
perfectly on the LaTeX generated portion of my presentation.  However, I
can't find any such setup in the R-generated PostScript files.  I followed
Professor Ripley's advice and just used Adobe Distiller, which worked fine.
If I find some other ghostscript or Linux based workaround, I'll be sure to
post it to this list.

Regards,

Matt Nelson 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Fri Dec  1 17:30:46 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Fri, 1 Dec 2000 08:30:46 -0800 (PST)
Subject: [R] integers, reals
In-Reply-To: <Pine.SGI.4.21.0012011141100.2831883-100000@aisa.fi.muni.cz>
Message-ID: <Pine.GSO.4.21.0012010826420.10738-100000@atlas.biostat.washington.edu>

On Fri, 1 Dec 2000, Martin Gotz wrote:

> Hello,
> how much bytes is one integer and real number in R?

It could in principle vary, but is currently 4 for integer and 8 for real.
It is determined by the int and double types in your C compiler.  There
has been an agreement by a large group of Unix compiler vendors that even
for 64-bit machines they will use 4-byte ints and 8-byte doubles.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From datamanagement at email.com  Fri Dec  1 21:57:58 2000
From: datamanagement at email.com (a s)
Date: Fri, 1 Dec 2000 15:57:58 -0500 (EST)
Subject: [R] text in new window
Message-ID: <380349748.975704279253.JavaMail.root@web595-ec.mail.com>

Hello all,
For presentation and printing purposes I'd like to be able to open a new
window device and write text and/or include an  object (mostly matrices or
lists).
I've tried around windows(), but which I'd expect to work doesn't:
windows(text(results)),
or windows(parse("Final result:",results))
-"results" is a numeric object-.
Thanks for any help,
Alex Ahgarin


-----------------------------------------------
FREE! The World's Best Email Address @email.com
Reserve your name now at http://www.email.com


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From oy at ualberta.ca  Fri Dec  1 23:57:49 2000
From: oy at ualberta.ca (Oy Leuangthong)
Date: Fri, 1 Dec 2000 15:57:49 -0700
Subject: [R] simple (NEWBIE) question re: prcomp or princomp
Message-ID: <005a01c05bea$26d768a0$b34e8081@civil.ualberta.ca>

Hi,

I am a new user of R, and apologize beforehand for the simplistic nature of this question:

I ran prcomp on a data set with 4 variables, and am able to see the summary information (variance contribution, rotation matrix, plots, etc.).  However, I'd also like to extract the actual values of the principal components (PC) corresponding to each sample.  I've looked in the help, on-line manuals, FAQs, archived e-mails from this list, but have been unsuccessful in finding the solution.

Alternatively, I saved the prcomp output to an ascii file, and then used the rotation matrix out of R and calculated the principal components in Excel... but these values do not match the prcomp output (at least the series of values that I assume are the PC values).

If someone could shed some light, I'd greatly appreciate it.

Thanks in advance.
Oy
_____________________________________________
Oy Leuangthong
Department of Civil & Environmental Engineering
University of Alberta
(780) 492-3337
oy at ualberta.ca
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20001201/5724ffdd/attachment.html

From ripley at stats.ox.ac.uk  Sat Dec  2 07:33:43 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 2 Dec 2000 06:33:43 +0000 (GMT)
Subject: [R] simple (NEWBIE) question re: prcomp or princomp
In-Reply-To: <005a01c05bea$26d768a0$b34e8081@civil.ualberta.ca>
Message-ID: <Pine.GSO.4.05.10012020627400.21846-100000@auk.stats>

On Fri, 1 Dec 2000, Oy Leuangthong wrote:

> Hi,
> 
> I am a new user of R, and apologize beforehand for the simplistic 
nature of this question:
> 
> I ran prcomp on a data set with 4 variables, and am able to see 
the summary information (variance contribution, rotation matrix, 
plots, etc.).  However, I'd also like to extract the actual values of 
the principal components (PC) corresponding to each sample.  I've 
looked in the help, on-line manuals, FAQs, archived e-mails from 
this list, but have been unsuccessful in finding the solution.
> 

They are component `x' of the result, if retx is true (the default).
It is in the help.  One problem might be what you mean by the PCs:
variously people mean the coefficients, the rotated basis or the 
projection onto the rotated basis, and (see below) what you do about
centring and scaling.

For princomp, just use the predict method.  In general, I suggest using
princomp not prcomp.

> Alternatively, I saved the prcomp output to an ascii file, and 
then used the rotation matrix out of R and calculated the 
principal components in Excel... but these values do not match the 
prcomp output (at least the series of values that I assume are the PC values).

You need to centre the data (remove the means) first.  The rotation is
about the overall mean.

> If someone could shed some light, I'd greatly appreciate it.
> 
> Thanks in advance.
> Oy
> _____________________________________________
> Oy Leuangthong
> Department of Civil & Environmental Engineering
> University of Alberta
> (780) 492-3337
> oy at ualberta.ca
> 

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Fri Dec  1 23:40:56 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Fri, 1 Dec 2000 17:40:56 -0500 (EST)
Subject: [R] text in new window
In-Reply-To: <380349748.975704279253.JavaMail.root@web595-ec.mail.com>
Message-ID: <Pine.LNX.4.30.0012011739170.17046-100000@bolker.zoo.ufl.edu>


  is windows() the standard graphics device on MS Windows?  If so try
something like

windows()
## blank plot -- no annotation, no points, no axes
plot(c(0,1),c(0,1),ann=FALSE,type="n",axes=FALSE)
text(0.5,0.5,"hello world")


On Fri, 1 Dec 2000, a s wrote:

> Hello all,
> For presentation and printing purposes I'd like to be able to open a new
> window device and write text and/or include an  object (mostly matrices or
> lists).
> I've tried around windows(), but which I'd expect to work doesn't:
> windows(text(results)),
> or windows(parse("Final result:",results))
> -"results" is a numeric object-.
> Thanks for any help,
> Alex Ahgarin
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy at arcriswell.com  Sat Dec  2 20:16:05 2000
From: andy at arcriswell.com (Andrew Criswell)
Date: Sun, 3 Dec 2000 02:16:05 +0700
Subject: [R] Virginia Woolf and R
References: <B64C2420.6F40%pflugshaupt@geobot.umnw.ethz.ch>
Message-ID: <000601c05c94$56301200$a7da94cb@andrew8gpipq9q>


For all of you who have reached R, here's Virgina Woolf on the subject:

"It was a splendid mind. For if thought is like the keyboard of a piano,
divided into so many notes, or like the alphabet is ranged in twenty-six
letters all in order, then his splendid mind had no sort of difficulty in
running over those letters one by one, firmly and accurately, until it had
reached the letter Q. He reached Q. Very few people in the whole of England
reach the letter Q.... But after Q? What comes next?... Still, if he could
reach R it would be something. Here at least was Q. He dug his heels in at
Q. Q he was sure of. Q he could demonstrate. If Q then is Q--R--.... "Then
R..." He braced himself. He clenched himself....

"...In that flash of darkness he heard people saying--he was a failure--that
R was beyond him. He would never reach R. On to R, once more. R---....

"...He had not genius; he had no claim to that: but he had, or he might have
had, the power to repeat every letter of the alphabet from A to Z accurately
in order. Meanwhile, he stuck at Q. On then, on to R."

Virginia Woolf
"To The Lighthouse"

All the best,
ANDREW

Professor of Finance
Graduate School, Bangkok University

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mwang at mindspring.com  Sat Dec  2 20:53:49 2000
From: mwang at mindspring.com (Michael Wang)
Date: Sat, 2 Dec 2000 14:53:49 -0500 (EST)
Subject: [R] multicomp functions that in S but not in R
Message-ID: <200012021953.OAA03243@julie.unixlabplus.com>

I am using R for a class which uses S.
Often I can not find functions that in S but
not in R, example, multicomp().

What is your advise. 
Thanks.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cjeff at geog.ubc.ca  Sat Dec  2 21:59:53 2000
From: cjeff at geog.ubc.ca (Chris Jeffery)
Date: Sat, 2 Dec 2000 12:59:53 -0800 (PST)
Subject: [R] axis label rotation
Message-ID: <Pine.GSO.4.10.10012021258400.27002-100000@phoebe>


Hello,

I recently switch over from Splus to R and I have not been able to
generate right axis labels that face inwards.  This is accomplished
in Splus with the command srt=270 but this option is not supported
in R.  In addition the par argument las=0 or 3 does not rotate the
right axis labels.

The editor of a journal is demanding that the right axis labels face
inwards in the figures I recently submitted.  I am really at a loss
because these editors are inflexible with respect to their in-house
journal styles.

Help?!

Chris

------------------------------------------------------------
Chris Jeffery  (cjeff at geog.ubc.ca)
Department of Geography,                 Tel: (604) 822-2663
University of British Columbia, B.C.     Fax: (604) 822-6150

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rhe at princeton.edu  Sun Dec  3 02:31:02 2000
From: rhe at princeton.edu (Rong He)
Date: Sat, 2 Dec 2000 20:31:02 -0500 (EST)
Subject: [R] error handling
Message-ID: <Pine.SOL.4.10.10012022025460.3460-100000@yuma.Princeton.EDU>

  Hi,
  
  In R, when there is error, the whole program just stops by default.
However, sometimes we don't want this happen, we want the program continue
and also control the flow by ourselves. Is there a way to do this 
 pseudo code:

   If(error) then do {...}.

  Thanks.

  Rong

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Dec  3 08:23:27 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 3 Dec 2000 07:23:27 +0000 (GMT)
Subject: [R] error handling
In-Reply-To: <Pine.SOL.4.10.10012022025460.3460-100000@yuma.Princeton.EDU>
Message-ID: <Pine.GSO.4.05.10012030721140.18340-100000@auk.stats>

On Sat, 2 Dec 2000, Rong He wrote:

>   In R, when there is error, the whole program just stops by default.
> However, sometimes we don't want this happen, we want the program continue
> and also control the flow by ourselves. Is there a way to do this 
>  pseudo code:
> 
>    If(error) then do {...}.

Look at the help on try, and also at the examples in the help for options.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sun Dec  3 12:31:17 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sun, 03 Dec 2000 12:31:17 +0100
Subject: [R] multicomp functions that in S but not in R
References: <200012021953.OAA03243@julie.unixlabplus.com>
Message-ID: <3A2A2F05.435C1C72@statistik.uni-dortmund.de>

Michael Wang wrote:
> 
> I am using R for a class which uses S.
> Often I can not find functions that in S but
> not in R, example, multicomp().

Have a look in the mailing list archives. A similar questions was
already answered a few days ago.

Question:

DR>> Date: Tue, 28 Nov 2000 08:11:10 -0500 (EST) 
DR>> From: Doc Robinson <vbr at geomant.erin.utoronto.ca> 
DR>>
DR>> I have used multicomp in S-Plus 2000 to do multiple comparisons 
DR>> and have had difficult time locating whether or not this is 
DR>> availabe in R or one of the add-ons to R.......is it something 
DR>> that is goin to be added in the near future ? 
DR>> or have i missed something in my search ? 

Answer from Brian D Ripley:

BDR>> The answer depends if you are proposing to contribute a version! 
BDR>> There is nothing anything like as comprehensive, as far as I know. 
BDR>> 
BDR>> multicomp is not part of S, and for fairly obvious reasons the R 
BDR>> project is not attempting to clone the work of a commercial
organization. 
BDR>> If you have S-PLUS 2000, why not use it for this? 
BDR>> 
BDR>> There are some simple multiple comparison things in R: look at the 
BDR>> *pairwise* functions in ctest, for example. 

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Sun Dec  3 13:19:28 2000
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Sun, 3 Dec 2000 13:19:28 +0100 (MET)
Subject: [R] error handling
In-Reply-To: <Pine.SOL.4.10.10012022025460.3460-100000@yuma.Princeton.EDU>
Message-ID: <Pine.LNX.4.21.0012031318440.7472-100000@artemis.imbe.med.uni-erlangen.de>

>   Hi,
>   
>   In R, when there is error, the whole program just stops by default.
> However, sometimes we don't want this happen, we want the program continue
> and also control the flow by ourselves. Is there a way to do this 
>  pseudo code:
> 
>    If(error) then do {...}.

maybe warning() is useful...

Torsten

> 
>   Thanks.
> 
>   Rong
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paul at stat.auckland.ac.nz  Mon Dec  4 01:34:41 2000
From: paul at stat.auckland.ac.nz (Paul Murrell)
Date: Mon, 4 Dec 2000 13:34:41 +1300
Subject: [R] axis label rotation
References: <Pine.GSO.4.10.10012021258400.27002-100000@phoebe>
Message-ID: <016f01c05d89$fdc5df40$175dd882@stat.auckland.ac.nz>

Hi


> I recently switch over from Splus to R and I have not been able to
> generate right axis labels that face inwards.  This is accomplished
> in Splus with the command srt=270 but this option is not supported
> in R.  In addition the par argument las=0 or 3 does not rotate the
> right axis labels.


Unfortunately, R's axis() and mtext() functions only listen to par(las) to
determine text rotation (i.e., they ignore par(srt)) and they only choose
between srt=0 and srt=90.  This is actually documented behaviour (see
help(par)), but I doubt that is much help to you :)


> The editor of a journal is demanding that the right axis labels face
> inwards in the figures I recently submitted.  I am really at a loss
> because these editors are inflexible with respect to their in-house
> journal styles.


This is not pretty, but if I have understood correctly it should do what you
want ...

par(xpd=T)  #  so that text() will draw outside of the plotting region
plot(1:10)    # replace this with  your plotting commands
axis(4, labels=F)    # draw axis ticks but no labels
text(rep(11, 5), seq(2,10,2),  seq(2,10,2), srt=270)    # draw tick labels
by hand

... where I have used `rep(11, 5)` for the x-locations of the labels, you
will need to experiment to get the placing right.  You will also need to
replace the `seq(2,10,2)` bits with appropriate y-locations too.  The
problem with the x-locations is that this is trying to locate the text
within the plot margins by specifying x-locations in terms of the user
coordinate system.  As I said, it is not pretty :)

Paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Dec  4 02:07:05 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Dec 2000 02:07:05 +0100
Subject: [R] offset
In-Reply-To: "E.A.Catchpole"'s message of "Wed, 29 Nov 2000 11:32:22 +0000 (GMT)"
References: <Pine.GSO.4.05.10011291129070.5379-100000@heron.ukc.ac.uk>
Message-ID: <x2hf4lgfk6.fsf@blueberry.kubism.ku.dk>

"E.A.Catchpole" <E.A.Catchpole at ukc.ac.uk> writes:

> Jim,
> 
> Aha! offset(off) works. "offset=off" doesn't, as far as I can see.

*cough* 

If that is true, I think we want to see an example, so that we can fix
it for the next release...

(I'm pretty sure I tried both versions of offsetting quite recently)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Dec  4 02:32:41 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Dec 2000 02:32:41 +0100
Subject: [R] axis label rotation
In-Reply-To: Chris Jeffery's message of "Sat, 2 Dec 2000 12:59:53 -0800 (PST)"
References: <Pine.GSO.4.10.10012021258400.27002-100000@phoebe>
Message-ID: <x2elzpgedi.fsf@blueberry.kubism.ku.dk>

Chris Jeffery <cjeff at geog.ubc.ca> writes:

> Hello,
> 
> I recently switch over from Splus to R and I have not been able to
> generate right axis labels that face inwards.  This is accomplished
> in Splus with the command srt=270 but this option is not supported
> in R.  In addition the par argument las=0 or 3 does not rotate the
> right axis labels.
> 
> The editor of a journal is demanding that the right axis labels face
> inwards in the figures I recently submitted.  I am really at a loss
> because these editors are inflexible with respect to their in-house
> journal styles.
> 
> Help?!

Hmm. I can't come up with anything offhand. In contrast to axis() and
mtext(), text() will happily use srt=, but it's going to be painful to
add the axis labels at the right spots.

If you're on something Unix/Linux like, perhaps the xfig() driver
could help? 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.ribeiro at lancaster.ac.uk  Mon Dec  4 16:25:20 2000
From: p.ribeiro at lancaster.ac.uk (Paulo J. Ribeiro Jr)
Date: Mon, 4 Dec 2000 15:25:20 +0000 (GMT)
Subject: [R] interp equivalent
Message-ID: <Pine.GSO.4.21.0012041522070.3409-100000@unixb.lancs.ac.uk>

Hi

I'm looking to a function in R equivalent to S-PLUS'  "interp".

Is there any implementation in R?
If not, is there any similar interpolation function such that at
the data points the interpolated values concides with the data? 

Thanks in advance
P.J.

Paulo Justiniano Ribeiro Jr
Dept Maths & Stats  -  Fylde College
Lancaster University
Lancaster LA1 4YF   -  U.K.

e-mail: paulojus at est.ufpr.br
http://www.maths.lancs.ac.uk/~ribeiro






-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Dec  4 16:41:38 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 4 Dec 2000 15:41:38 +0000 (GMT)
Subject: [R] interp equivalent
Message-ID: <200012041541.PAA17554@toucan.stats.ox.ac.uk>


> Date: Mon, 4 Dec 2000 15:25:20 +0000 (GMT)
> From: "Paulo J. Ribeiro Jr" <p.ribeiro at lancaster.ac.uk>
> 
> 
> I'm looking to a function in R equivalent to S-PLUS'  "interp".
> 
> Is there any implementation in R?
> If not, is there any similar interpolation function such that at
> the data points the interpolated values concides with the data? 

It's in package akima.

> Thanks in advance
> P.J.
> 
> Paulo Justiniano Ribeiro Jr
> Dept Maths & Stats  -  Fylde College
> Lancaster University
> Lancaster LA1 4YF   -  U.K.
> 
> e-mail: paulojus at est.ufpr.br
> http://www.maths.lancs.ac.uk/~ribeiro
> 
> 
> 
> 
> 
> 
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> 
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From snw at mcs.st-and.ac.uk  Mon Dec  4 16:56:44 2000
From: snw at mcs.st-and.ac.uk (Simon Wood)
Date: Mon, 4 Dec 2000 15:56:44 +0000 (GMT)
Subject: [R] as.character() problem?
In-Reply-To: <000601c05c94$56301200$a7da94cb@andrew8gpipq9q>
Message-ID: <Pine.GSO.4.21.0012041455200.19147-100000@dolphin>

The following is pasted from 1.1.0 under Windows NT (same thing happens
under linux). The problem is that part of the model formula is lost when
coerced to character. Is this supposed to happen?

>reg.form<- formula(y~ lat + lon + depth + sunel + btmtemp + btmsal +
sediment + sediment*sunel + lon*lat)
> reg.form
y ~ lat + lon + depth + sunel + btmtemp + btmsal + sediment + 
    sediment * sunel + lon * lat
> as.character(reg.form)
[1] "~"                                                                    
[2] "y"                                                                    
[3] "lat + lon + depth + sunel + btmtemp + btmsal + sediment + sediment *"

Thanks,
Simon
  ______________________________________________________________________
> Simon Wood  snw at st-and.ac.uk  http://www.ruwpa.st-and.ac.uk/simon.html
> The Mathematical Institute, North Haugh, St. Andrews, Fife KY16 9SS UK
> Direct telephone: (0)1334 463799          Indirect fax: (0)1334 463748 





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Dec  4 17:10:42 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 4 Dec 2000 16:10:42 +0000 (GMT)
Subject: [R] as.character() problem?
Message-ID: <200012041610.QAA17654@toucan.stats.ox.ac.uk>


> Date: Mon, 4 Dec 2000 15:56:44 +0000 (GMT)
> From: Simon Wood <snw at mcs.st-and.ac.uk>
> To: r-help at stat.math.ethz.ch
> Subject: [R] as.character() problem?
> 
> The following is pasted from 1.1.0 under Windows NT (same thing happens
> under linux). The problem is that part of the model formula is lost when
> coerced to character. Is this supposed to happen?
> 
> >reg.form<- formula(y~ lat + lon + depth + sunel + btmtemp + btmsal +
> sediment + sediment*sunel + lon*lat)
> > reg.form
> y ~ lat + lon + depth + sunel + btmtemp + btmsal + sediment + 
>     sediment * sunel + lon * lat
> > as.character(reg.form)
> [1] "~"                                                                    
> [2] "y"                                                                    
> [3] "lat + lon + depth + sunel + btmtemp + btmsal + sediment + sediment *"

Yes.  I think you wanted deparse(reg.form): a formula has mode "call"
and is an expression (more or less).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Mon Dec  4 17:21:37 2000
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Mon, 4 Dec 2000 17:21:37 +0100 (MET)
Subject: [R] interp equivalent
In-Reply-To: <Pine.GSO.4.21.0012041522070.3409-100000@unixb.lancs.ac.uk>
Message-ID: <Pine.OSF.4.30.0012041718590.29714-100000@alnair.uio.no>

On Mon, 4 Dec 2000, Paulo J. Ribeiro Jr wrote:

>Hi
>
>I'm looking to a function in R equivalent to S-PLUS'  "interp".

Apart from the implementation in the akima package, is approx() or
spline() what you are looking for?

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster at skepsis.no

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Mon Dec  4 18:01:59 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 4 Dec 2000 18:01:59 +0100
Subject: [R] offset
In-Reply-To: <x2hf4lgfk6.fsf@blueberry.kubism.ku.dk>
References: <Pine.GSO.4.05.10011291129070.5379-100000@heron.ukc.ac.uk>
	<x2hf4lgfk6.fsf@blueberry.kubism.ku.dk>
Message-ID: <14891.52743.519760.873382@gargle.gargle.HOWL>

>>>>> "PD" == Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

    PD> "E.A.Catchpole" <E.A.Catchpole at ukc.ac.uk> writes:
    >> Jim,
    >> 
    >> Aha! offset(off) works. "offset=off" doesn't, as far as I can see.

    PD> *cough* 

    PD> If that is true, I think we want to see an example, so that we can fix
    PD> it for the next release...

    PD> (I'm pretty sure I tried both versions of offsetting quite recently)

of course they do in R.

The problem of Mr. Catchpole was that he was using 
S-PLUS which really was  R-MINUS in that case ....

In his original message,

>> Date: Wed, 29 Nov 2000 09:57:19 +0000 (GMT)
>> 
>> ...... I'm far from home and have Splus but not R here, .....
		                ^^^^^^^^^^^^^^^^^^^^

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.meyer at ci.tuwien.ac.at  Mon Dec  4 18:16:49 2000
From: david.meyer at ci.tuwien.ac.at (David Meyer)
Date: Mon, 04 Dec 2000 18:16:49 +0100
Subject: [R] Data Exchange with StatDataML for MATLAB
Message-ID: <3A2BD181.A84231B5@ci.tuwien.ac.at>

The e1071-group is developping a data exchange package based on XML,
called StatDataML.

Both read and write functionality is available for R/S and
MATLAB/Octave.

Now here is a snapshot from the "StatDataML for MATLAB/Octave"-package.
It should work fine, but the installation procedure needs some
improvement yet.

I think the following will nevertheless make it run:

1. Get libxml 2.x from www.xmlsoft.org and install

2. Get the file:  matoct.tar.gz from www.ci.tuwien.ac.at/~meyer/
and un-tar it in some tmp-dir.

3. make shure that LDFLAGS and CPPFLAGS are set correctly for libxml

3. run:
configure
make MATLAB
from within the "matoct"-directory

In the subdirectory "matlab", you should obtain: StatdataML.dtd,
some .m files and a
readsdml.mex?? file 

4. run matlab and change your searchpath accordingly

5. try "help writesdml" and "help readsdml" to see the command options.

Normally, something like

writesdml (object, 'out.sdml')

or

object = readsdml ('out.sdml')

should work.

-d


-- 
Mag. David Meyer			Wiedner Hauptstrasse 8-10
Technical University of Vienna		A-1040 Vienna/AUSTRIA
Department for Statistics, Probability	Tel.: (+431) 58801/10772
Theory and Actuarial Mathematics	mail: david.meyer at ci.tuwien.ac.at
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From P.Connolly at hortresearch.co.nz  Mon Dec  4 21:10:37 2000
From: P.Connolly at hortresearch.co.nz (Patrick Connolly)
Date: Tue, 5 Dec 2000 09:10:37 +1300 (NZDT)
Subject: [R] axis label rotation
In-Reply-To: <016f01c05d89$fdc5df40$175dd882@stat.auckland.ac.nz> from "Paul Murrell" at Dec 04, 2000 01:34:41 PM
Message-ID: <200012042010.eB4KAbX27254@biomat1.marc.hort.cri.nz>

According to Paul Murrell:
|> 
|> Hi
|> 
|> 
|> > I recently switch over from Splus to R and I have not been able to
|> > generate right axis labels that face inwards.  This is accomplished
|> > in Splus with the command srt=270 but this option is not supported
|> > in R.  In addition the par argument las=0 or 3 does not rotate the
|> > right axis labels.
|> 
|> 
|> Unfortunately, R's axis() and mtext() functions only listen to par(las) to

Perhaps that's because those who did that part of the development were
familiar with standard drafting conventions which invite the reader to
read text from the bottom or the right.  Reading text from the left
which one would have to do to read a plot with a label rotated 270
degrees is unnecessarily complicated for the reader.

Perhaps if you're using R to design a board game it could be
different.....


|> > The editor of a journal is demanding that the right axis labels face
|> > inwards in the figures I recently submitted.  I am really at a loss
|> > because these editors are inflexible with respect to their in-house
|> > journal styles.
|> 
|> 
|> This is not pretty, but if I have understood correctly it should do what you

Nor is the result it achieves.


|> coordinate system.  As I said, it is not pretty :)
|> 
|> Paul

What can be done, though, if you're stuck with an intransigent editor,
is to edit the postscript file; find the part that has your right axis
label and change the last number in the group of 4 which follow the
text from 90 to 270.  That's the srt bit.

Not pretty, but sometimes one has to do ugly things.... :-(

best

-- 
*************************************************************
Patrick Connolly
HortResearch        
Mt Albert               It's better to do nothing than to waste time
Auckland                                      ..... Viktoras Kulvinskas
New Zealand                          
Ph: +64-9 815 4200 x 7188
*************************************************************
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mjr at stats.mth.uea.ac.uk  Fri Dec  1 00:23:16 2000
From: mjr at stats.mth.uea.ac.uk (MJ Ray)
Date: 30 Nov 2000 23:23:16 +0000
Subject: [R] changes in glm?
In-Reply-To: Uwe Ligges's message of "Thu, 30 Nov 2000 14:35:30 +0100"
References: <f04320402b64bf39f93e6@[139.222.80.154]>
	<3A2657A2.F2FBF11F@statistik.uni-dortmund.de>
Message-ID: <szipujdyrh7.fsf@stats.mth.uea.ac.uk>

Uwe Ligges <ligges at statistik.uni-dortmund.de> writes:

> The recent version is R-1.1.1 ! 
> So it's a great idea to upgrade.

This involves central services, I believe, so it's not an immediately
fixable matter, but a request will be made.  I couldn't find the
changelog on the website in an obvious location -- did I just miss it?

-- 
MJR                                     (Not an official statement)
Please note changes of address		http://stats.mth.uea.ac.uk/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Fri Dec  1 17:30:46 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Fri, 1 Dec 2000 08:30:46 -0800 (PST)
Subject: [R] integers, reals
In-Reply-To: <Pine.SGI.4.21.0012011141100.2831883-100000@aisa.fi.muni.cz>
Message-ID: <Pine.GSO.4.21.0012010826420.10738-100000@atlas.biostat.washington.edu>

On Fri, 1 Dec 2000, Martin Gotz wrote:

> Hello,
> how much bytes is one integer and real number in R?

It could in principle vary, but is currently 4 for integer and 8 for real.
It is determined by the int and double types in your C compiler.  There
has been an agreement by a large group of Unix compiler vendors that even
for 64-bit machines they will use 4-byte ints and 8-byte doubles.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From datamanagement at email.com  Fri Dec  1 21:57:58 2000
From: datamanagement at email.com (a s)
Date: Fri, 1 Dec 2000 15:57:58 -0500 (EST)
Subject: [R] text in new window
Message-ID: <380349748.975704279253.JavaMail.root@web595-ec.mail.com>

Hello all,
For presentation and printing purposes I'd like to be able to open a new
window device and write text and/or include an  object (mostly matrices or
lists).
I've tried around windows(), but which I'd expect to work doesn't:
windows(text(results)),
or windows(parse("Final result:",results))
-"results" is a numeric object-.
Thanks for any help,
Alex Ahgarin


-----------------------------------------------
FREE! The World's Best Email Address @email.com
Reserve your name now at http://www.email.com


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Fri Dec  1 23:40:56 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Fri, 1 Dec 2000 17:40:56 -0500 (EST)
Subject: [R] text in new window
In-Reply-To: <380349748.975704279253.JavaMail.root@web595-ec.mail.com>
Message-ID: <Pine.LNX.4.30.0012011739170.17046-100000@bolker.zoo.ufl.edu>


  is windows() the standard graphics device on MS Windows?  If so try
something like

windows()
## blank plot -- no annotation, no points, no axes
plot(c(0,1),c(0,1),ann=FALSE,type="n",axes=FALSE)
text(0.5,0.5,"hello world")


On Fri, 1 Dec 2000, a s wrote:

> Hello all,
> For presentation and printing purposes I'd like to be able to open a new
> window device and write text and/or include an  object (mostly matrices or
> lists).
> I've tried around windows(), but which I'd expect to work doesn't:
> windows(text(results)),
> or windows(parse("Final result:",results))
> -"results" is a numeric object-.
> Thanks for any help,
> Alex Ahgarin
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nicolas.baurin at univ-orleans.fr  Tue Dec  5 09:32:54 2000
From: nicolas.baurin at univ-orleans.fr (nicolas baurin)
Date: Tue, 05 Dec 2000 09:32:54 +0100
Subject: [R] calculation of inertial difference with huygens theorem in ward 
 clustering ?
Message-ID: <3A2CA836.10A22D49@univ-orleans.fr>

Hello to the R people,

within ward clustering the distance calculated to decide the clustering
of 2 subsets (h1 and h2) is the variation of inertia :
d(h1,h2)=I(h1Uh2)-I(h1)-I(h2);
i've been said that a way to calculate faster this d(h1,h2) is using the
huygens theorem decomposing the inertia into "the inertia to the
centroid + the distance to an axe" (that's my version ...). My problem
is that i don't really see how to simplify the d(h1,h2) expression using
the theorem and then go faster?

Thanks in advance,

cordialement,

--
Nicolas Baurin

Doctorant
Laboratoire de Chimiom?trie - Mod?lisation Mol?culaire
Institut de Chimie Organique et Analytique, UMR 6005
http://www.univ-orleans.fr/SCIENCES/ICOA/
Universit? d'Orl?ans, BP 6759
45067 ORLEANS Cedex 2, France
Tel: (33+) 2 38 49 45 77


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Dec  5 10:18:05 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 5 Dec 2000 09:18:05 +0000 (GMT)
Subject: [R] Windows install.packages & update.packages
Message-ID: <Pine.GSO.4.05.10012050912170.19944-100000@toucan.stats>

In preparation for 1.2.0, install.packages() and update.packages()
for Windows versions of R will stop working shortly (as changes
propagate around CRAN).

They will work again when rw1020 is released (in about a couple of weeks),
but you can still fetch the package zip files manually (from the
bin/windows/contrib/Old directory once that propagates around CRAN).

Version 1.2.0 will require a number of packages to be re-compiled,
especially on Windows, so I intend to re-build them all for use with
rw1020.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From J.Brainard at uea.ac.uk  Tue Dec  5 16:41:16 2000
From: J.Brainard at uea.ac.uk (J.Brainard@uea.ac.uk)
Date: Tue, 05 Dec 2000 15:41:16 +0000
Subject: [R] R or Splus?
Message-ID: <E143KDU-0002DE-00@cpca7.uea.ac.uk>


It's been suggested I use R, I suppose because my employer is too skint to pay 
for a copy of Splus.

But.... it doesn't seem to be stable.  I was trying to do some ordinary regression
and stepping through a model.  I was trying to set up a model ('kitchen_sink') in
which to put all my model parameters.  Then I wanted to use step() to see what it
would reduce the model to.  I couldn't even get started though.  I would specify 
the same model again and again, with just a few of the possible variables, and
sometimes lm() would fall over and return an error message, sometimes the regression
ran fine.  I got fed up and ftp'd the original tables up to a machine running
Splus, where the models ran fine, every time, with all kinds of specifications.

Is this a normal experience?  Is R buggy or what?  I note the other email that
R can't handle files named x.  If I can use Splus, should I just do that?

(Alternative is graphics-interface-only SPSS, and given that I've never used it,
I'm working on remote machines, from home, with no manuals handy, that is something I 
should really wish to avoid :-).

-julii
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From duckman at ufl.edu  Tue Dec  5 16:29:01 2000
From: duckman at ufl.edu (Jamie Jarabek)
Date: Tue, 05 Dec 2000 10:29:01 -0500
Subject: [R] Newbie question(piecewise linear relationship)
Message-ID: <3A2D09BD.23F632D3@ufl.edu>

Dear R users,

I am trying to fit a piecewise linear relationship for my data. I have
my predicted ranks, obtained by regressing rank(y) on rank(x). Now I
need to get y-values back by interpolating from the y-values on either
side of the predicted ranks. I was trying to do this with approxfun and
interp from the akima package but kept running into problems. Is there
any easy way to do this?

Jamie Jarabek
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rgentlem at jimmy.harvard.edu  Tue Dec  5 17:01:35 2000
From: rgentlem at jimmy.harvard.edu (Robert Gentleman)
Date: Tue, 5 Dec 2000 11:01:35 -0500
Subject: [R] R or Splus?
In-Reply-To: <E143KDU-0002DE-00@cpca7.uea.ac.uk>; from J.Brainard@uea.ac.uk on Tue, Dec 05, 2000 at 03:41:16PM +0000
References: <E143KDU-0002DE-00@cpca7.uea.ac.uk>
Message-ID: <20001205110135.G21159@jimmy.harvard.edu>

If you really want help it is generally best to include real examples
and to be explicit about what is not working. If on the other hand you
just want some reassurance that Splus is indeed a commerical package
it is.
If your question is whether R is reliable, I believe that there are a
large number of users that are quite happy with its performance. There
are also some that aren't.
We do come with a money back guarantee though ;-)

On Tue, Dec 05, 2000 at 03:41:16PM +0000, J.Brainard at uea.ac.uk wrote:
> 
> It's been suggested I use R, I suppose because my employer is too skint to pay 
> for a copy of Splus.
> 
> But.... it doesn't seem to be stable.  I was trying to do some ordinary regression
> and stepping through a model.  I was trying to set up a model ('kitchen_sink') in
> which to put all my model parameters.  Then I wanted to use step() to see what it
> would reduce the model to.  I couldn't even get started though.  I would specify 
> the same model again and again, with just a few of the possible variables, and
> sometimes lm() would fall over and return an error message, sometimes the regression
> ran fine.  I got fed up and ftp'd the original tables up to a machine running
> Splus, where the models ran fine, every time, with all kinds of specifications.
> 
> Is this a normal experience?  Is R buggy or what?  I note the other email that
> R can't handle files named x.  If I can use Splus, should I just do that?

  This is simply untrue. Perhaps you could read those discussions
  somewhat more carefully. Both R and Splus have some problems with
  scoping at times. This is being fixed in R, you would have to ask
  the folks in Seattle if they are fixing their versions. However,
  since they have been around longer most people know how to program
  around their problems. R is somewhat newer but that knowledge
  combined with accurate bug reports (are you indeed attempting to
  report a bug?) will help.

> 
> (Alternative is graphics-interface-only SPSS, and given that I've never used it,
> I'm working on remote machines, from home, with no manuals handy, that is something I 
> should really wish to avoid :-).
> 
> -julii
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
+---------------------------------------------------------------------------+
| Robert Gentleman                 phone : (617) 632-5250                   |
| Associate Professor              fax:   (617)  632-2444                   |
| Department of Biostatistics      office: not yet                          |
| Harvard School of Public Health  email: rgentlem at jimmy.dfci.harvard.edu   |
+---------------------------------------------------------------------------+
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Dec  5 17:12:26 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Dec 2000 17:12:26 +0100
Subject: [R] R or Splus?
In-Reply-To: J.Brainard@uea.ac.uk's message of "Tue, 05 Dec 2000 15:41:16 +0000"
References: <E143KDU-0002DE-00@cpca7.uea.ac.uk>
Message-ID: <x2bsuqonit.fsf@blueberry.kubism.ku.dk>

J.Brainard at uea.ac.uk writes:

> It's been suggested I use R, I suppose because my employer is too
> skint to pay for a copy of Splus.
> 
> But.... it doesn't seem to be stable. I was trying to do some
> ordinary regression and stepping through a model. I was trying to
> set up a model ('kitchen_sink') in which to put all my model
> parameters. Then I wanted to use step() to see what it would reduce
> the model to. I couldn't even get started though. I would specify
> the same model again and again, with just a few of the possible
> variables, and sometimes lm() would fall over and return an error
> message, sometimes the regression ran fine. I got fed up and ftp'd
> the original tables up to a machine running Splus, where the models
> ran fine, every time, with all kinds of specifications.
> 
> Is this a normal experience? Is R buggy or what? I note the other
> email that R can't handle files named x. If I can use Splus, should
> I just do that?

We haven't heard of problems of that magnitude lately. In general, we
try to fix problems as soon as they can be identified, but you're not
giving us much to go on with that kind of report.

- which version of R?
- which operating system? 
- which commands are you trying to run?
- what are the error messages and other symptoms of misbehavior?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Tsutakawa at home.com  Tue Dec  5 17:15:07 2000
From: Tsutakawa at home.com (Robert Tsutakawa)
Date: Tue, 5 Dec 2000 10:15:07 -0600
Subject: [R] Reading to and from Window files
Message-ID: <000801c05ed6$88fbf5c0$3bcc0c18@clmba1.mo.home.com>

I have installed R for use on Windows98 (PC) and have problems reading from and to files in Windows.
I keep getting the message that the file cannot be opened.  Is there anyone I can contact to get help?
Bob Tsutakawa
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20001205/cb9aa5f7/attachment.html

From p.dalgaard at biostat.ku.dk  Tue Dec  5 17:34:05 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Dec 2000 17:34:05 +0100
Subject: [R] Reading to and from Window files
In-Reply-To: "Robert Tsutakawa"'s message of "Tue, 5 Dec 2000 10:15:07 -0600"
References: <000801c05ed6$88fbf5c0$3bcc0c18@clmba1.mo.home.com>
Message-ID: <x28zpuomiq.fsf@blueberry.kubism.ku.dk>

"Robert Tsutakawa" <Tsutakawa at home.com> writes:

> Content-type: text/plain ; charset = "iso-8859-1"
> 
> I have installed R for use on Windows98 (PC) and have problems
> reading from and to files in Windows. I keep getting the message
> that the file cannot be opened. Is there anyone I can contact to get
> help? Bob Tsutakawa

Well, us...

Usually, if a file cannot be opened in R it is because the name is
wrong. Notice that you need to

- include the extension
- use forward slashes ("/") or double backslashes ("\\")
- use only plaintext files (*.txt)

Give us a sample of what goes wrong and we might be able to help.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Tue Dec  5 17:50:48 2000
From: ernesto at ipimar.pt (=?iso-8859-1?Q?Jos=E9?= Ernesto Jardim)
Date: Tue, 05 Dec 2000 16:50:48 +0000
Subject: [R] R or Splus?
References: <E143KDU-0002DE-00@cpca7.uea.ac.uk>
Message-ID: <3A2D1CE7.FEE391A2@ipimar.pt>

J.Brainard at uea.ac.uk wrote:

> It's been suggested I use R, I suppose because my employer is too skint to pay
> for a copy of Splus.
>
> But.... it doesn't seem to be stable.  I was trying to do some ordinary regression
> and stepping through a model.  I was trying to set up a model ('kitchen_sink') in
> which to put all my model parameters.  Then I wanted to use step() to see what it
> would reduce the model to.  I couldn't even get started though.  I would specify
> the same model again and again, with just a few of the possible variables, and
> sometimes lm() would fall over and return an error message, sometimes the regression
> ran fine.  I got fed up and ftp'd the original tables up to a machine running
> Splus, where the models ran fine, every time, with all kinds of specifications.
>
> Is this a normal experience?  Is R buggy or what?  I note the other email that
> R can't handle files named x.  If I can use Splus, should I just do that?
>
> (Alternative is graphics-interface-only SPSS, and given that I've never used it,
> I'm working on remote machines, from home, with no manuals handy, that is something I
> should really wish to avoid :-).
>
> -julii
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

Hi Julii

I've been working with R since version 0.49 and I'm very happy with it !  I started
using R before using S+ in my Linux box.

I had a S+ license during 1998 and I'm now looking again at S+ because I want to use the
S+SpatialStats. I think there's some differences but most of what I do I do it in R (I'm
a Marine Biologist) and for "commom" statistic analysis you have everything you need in
R. If you want to do something more specific you can allways write your own functions
and make them available to the R community :-)

The main differences for me are the manuals, but you can allways use the S+ manuals with
some changes, the trellis graphics and some modules (SpatialStats for example).

Anyway as someone stated you allways get a money back guarantee and the differences are
3000 EUR for a Linux License ...

Best regards

EJ

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Heberto at meakins.lan.mcgill.ca  Tue Dec  5 17:35:57 2000
From: Heberto at meakins.lan.mcgill.ca (Heberto Ghezzo)
Date: Tue, 5 Dec 2000 12:35:57 -0400
Subject: [R] formatting print out
In-Reply-To: <199912030301.EAA08600@stat.math.ethz.ch>
Message-ID: <200012051729.eB5HTLZ02273@water.cc.mcgill.ca>

Hello
 I need some help in printing some means crossclasified
by 2 or 3 other variables. I wrote 2 simple functions, xt and 
xtabmean.
Now xt has an unclear print-out and adds a NULL at the end of each 
line that I do not know where it comes from.
xtabmean has a neater print out but...

> j<-rep(1:4,9)
> i<-rep(1:3,12)
> x<-rnorm(36)
> xt(x,i,j)
1   1   -0.5675582 1.224832 3NULL
1   2   0.1040071 1.411071 3NULL
1   3   0.1230299 0.7261805 3NULL
1   4   -0.3992837 0.7206155 3NULL
2   1   -1.061823 0.8568403 3NULL
2   2   0.5460621 0.9337556 3NULL
2   3   0.06103977 0.8620043 3NULL
2   4   -0.4616834 1.071529 3NULL
3   1   0.3307771 0.7646795 3NULL
3   2   0.2904226 0.6446345 3NULL
3   3   0.1830588 0.7805733 3NULL
3   4   0.3428314 1.164575 3NULL

> xtabmean(x,i,j)
, , 1
      1          2          3         
Mean       -0.57      -1.06       0.33
S.Dev       1.22       0.86       0.76
n           3.00       3.00       3.00

, , 2
      1          2          3         
Mean        0.10       0.55       0.29
S.Dev       1.41       0.93       0.64
n           3.00       3.00       3.00

, , 3
      1          2          3         
Mean        0.12       0.06       0.18
S.Dev       0.73       0.86       0.78
n           3.00       3.00       3.00

, , 4
      1          2          3         
Mean       -0.40      -0.46       0.34
S.Dev       0.72       1.07       1.16
n           3.00       3.00       3.00

Now if I create some NAs

> i[i==2 & j==3] <- NA
> xtabmean(x,i,j)
, , 1
      1          2          3         
Mean       -0.57      -1.06       0.33
S.Dev       1.22       0.86       0.76
n           3.00       3.00       3.00

, , 2
      1          2          3         
Mean        0.10       0.55       0.29
S.Dev       1.41       0.93       0.64
n           3.00       3.00       3.00

, , 3
      1          2          3         
Mean        0.12       0.18      -0.40
S.Dev       0.73       0.78       0.72
n           3.00       3.00       3.00

, , 4
      1          2          3         
Mean       -0.46       0.34      -0.57
S.Dev       1.07       1.16       1.22
n           3.00       3.00       3.00

> 
as you can see xtabmean jumps over the cell with zero obs and
prints the rest out of sinc. The last obs 3,4 is the same as the first

> xt(x,i,j)
1   1   -0.5675582 1.224832 3NULL
1   2   0.1040071 1.411071 3NULL
1   3   0.1230299 0.7261805 3NULL
1   4   -0.3992837 0.7206155 3NULL
2   1   -1.061823 0.8568403 3NULL
2   2   0.5460621 0.9337556 3NULL
2   3  NULL
2   4   -0.4616834 1.071529 3NULL
3   1   0.3307771 0.7646795 3NULL
3   2   0.2904226 0.6446345 3NULL
3   3   0.1830588 0.7805733 3NULL
3   4   0.3428314 1.164575 3NULL
> 

xt though computes properly the means but I would like to
format the output as that from xtabmean, and get rid of those NULL.
Can anybody offer some help?

My version of the function are:
xt <- function(v,b,c) {
  fun <- function(x)
    c(mean(x,na.rm=T),sd(x,na.rm=T),length(x))
#
 a<-by(v,list(c,b),fun)
#
 k<-0
 ab <- b[!is.na(b)]
 ac <- c[!is.na(c)]
 for(i in 1:length(unique(ab)))
   for(j in 1:length(unique(ac)))
     {k<- k+1; print(cat(i," ",j," ",a[[k]][1],a[[k]][2],a[[k]][3]))}
}

xtabmean <- function(y,i,j=1,k=1)
{
  fun <- function(x)
    c(mean(x,na.rm=T),sd(x,na.rm=T),length(x))
#
  ii<- i[!is.na(i)]
  jj <- j[!is.na(j)]
  kk <- k[!is.na(k)]
#  
  li <- length(unique(ii))
  lj <- length(unique(jj))
  lk <- length(unique(kk))
#
  if((lj>1) && (lk>1)){
    t <- tapply(y,list(i,j,k),fun)
    a <- array(c(t,recursive=T),c(3,li,lj,lk))
    dimnames(a) <- list(c("Mean","S.Dev","n"),1:li,1:lj,1:lk)
  } 
  if(lj>1 && lk==1){
    t <- tapply(y,list(i,j),fun)
    a <- array(c(t,recursive=T),c(3,li,lj))
    dimnames(a) <- list(c("Mean","S.Dev","n"),1:li,1:lj)
  }
  if(lj==1){
    t <- tapply(y,i,fun)
    a <- array(c(t,recursive=T),c(3,li))
    dimnames(a) <- list(c("Mean","S.Dev","n"),1:li)
  }
  a <- formatC(a,digits=2,width=10,"f")
  print(a, quote=F)
}

Thanks for any help.

R. Heberto Ghezzo  Ph.D.
Meakins-Christie Labs
McGill University
Montreal - Canada
heberto at meakins.lan.mcgill.ca
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Tue Dec  5 19:01:56 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 05 Dec 2000 12:01:56 -0600
Subject: [R] It's just like deja vu all over again
Message-ID: <6r1yvmhhm3.fsf@franz.stat.wisc.edu>

Mail to R-help from Nov 30 seems to be bouncing from a machine called
rly-mx2.maxis.net.my

Before responding to a message you may want to check its original send
date.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Tue Dec  5 19:06:05 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Tue, 5 Dec 2000 13:06:05 -0500
Subject: [R] Graph device?
Message-ID: <006101c05ee6$090363c0$0201a8c0@Workgroup>

Hi,

I'm curious about the fact that on my system (Win NT) when I first use a
plot function (which creates the graphic device) the dimension and position
of the window are kind of annoying (for lack of a better word) as they lye
outside RGUI's window. Is there some way to personalize this somehow?

I don't think I would call this a bug, but it would be nice to be able to
set the initial dimension and position of the devices within the main one.

Regards

Yves Gauvreau

platform Windows
arch     x86
os       Win32
system   x86, Win32
status
major    1
minor    1.1
year     2000
month    August
day      15
language R

Screen size 1024 x 768 + Large Fonts on 15 inch monitor

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ono96 at fa2.so-net.ne.jp  Tue Dec  5 19:14:03 2000
From: ono96 at fa2.so-net.ne.jp (Hisaji ONO)
Date: Wed, 6 Dec 2000 03:14:03 +0900
Subject: [R] Is robust regression available in R.
Message-ID: <00c201c05ee7$264227e0$25dfd5ca@myvaio>

Hello, the R people.
 
I look for robust regression in R.
 
This method is available in S, its name is rreg.
 
Colud anyone teach me ?
 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Dec  5 19:12:58 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 5 Dec 2000 10:12:58 -0800 (PST)
Subject: [R] Is robust regression available in R.
In-Reply-To: <00c201c05ee7$264227e0$25dfd5ca@myvaio>
Message-ID: <Pine.GSO.4.21.0012051011200.21119-100000@atlas.biostat.washington.edu>

On Wed, 6 Dec 2000, Hisaji ONO wrote:

> Hello, the R people.
>  
> I look for robust regression in R.
>  
> This method is available in S, its name is rreg.

There's better robust regression in the VR bundle of
packages. 

library(MASS)
help(rlm)
library(lqs)
help(lqs)

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dj at research.bell-labs.com  Tue Dec  5 19:19:59 2000
From: dj at research.bell-labs.com (David James)
Date: Tue, 5 Dec 2000 13:19:59 -0500 (EST)
Subject: [R] R or Splus?
Message-ID: <200012051819.NAA29896@jessie.research.bell-labs.com>

Hi,

J.Brainard at uea.ac.uk writes:
>It's been suggested I use R, I suppose because my employer is too skint to pay 
>for a copy of Splus.

I use (and like) both R and Splus.  In my case, it has nothing to do
with how much they cost: I know that my employer is more interested in
my productivity than in the cost (within reason, of course) of my data 
analysis software:-)

>But.... it doesn't seem to be stable.  I was trying to do some ordinary 
>regression
>and stepping through a model.  I was trying to set up a model ('kitchen_sink') 
>in
>which to put all my model parameters.  Then I wanted to use step() to see what 
>it
>would reduce the model to.  I couldn't even get started though.  I would 
>specify 
>sometimes lm() would fall over and return an error message, sometimes the 
>regression
>ran fine.  I got fed up and ftp'd the original tables up to a machine running
>Splus, where the models ran fine, every time, with all kinds of specifications.
>
>Is this a normal experience?  Is R buggy or what?  I note the other email that
>R can't handle files named x.  If I can use Splus, should I just do that?

This is *not* at all my experience with R.   Typically, I use some development 
(i.e.,"unstable") version of R, yet it rarely gives me any trouble.  (BTW
I'm puzzled by your impression that R can't handle files named x -- obviously 
a misunderstanding by someone.)

>(Alternative is graphics-interface-only SPSS, and given that I've never used 
it,
>I'm working on remote machines, from home, with no manuals handy, that is 
>something I 
>should really wish to avoid :-).
>
>-julii

Both R and Splus have good online documentation (help pages and PDF version
of their user/programmer guides).  Again, this shouldn't be an issue.  
I'd suggest to take a closer look and decide for yourself
based on your needs and the functionality they provide;  if it costs
money,  well that's one of the tools you need to get your job done
(together with your desk, computer, telephone, fax, ....).

Regards,

David A. James
Statistics Research, Room 2C-253            Phone:  (908) 582-3082       
Bell Labs, Lucent Technologies              Fax:    (908) 582-3340
Murray Hill, NJ 09794-0636

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Dec  5 19:24:54 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 5 Dec 2000 19:24:54 +0100
Subject: [R] Re: mail loop?
In-Reply-To: <Pine.GSO.4.21.0012051008290.21119-100000@atlas.biostat.washington.edu>
References: <Pine.GSO.4.21.0012051008290.21119-100000@atlas.biostat.washington.edu>
Message-ID: <14893.13046.615298.542817@gargle.gargle.HOWL>

>>>>> "TL" == Thomas Lumley <thomas at biostat.washington.edu> writes:

    TL> I'm receiving duplicates of a number of old r-help messages, all with
    TL> headers having the rly-mx2.maxis.net.my section in the message below. Is
    TL> this at your end? Do you know about it?

Doug Bates has averted me;
and I have since stopped these to be propagated to R-help

[[ they are now bounced into my (mainter) mail box, only .. ]]
Next measure will be to unsubscribe whoever's E-mail address is the
culprit..

I'm sorry, dear R-help readers, 
for any possible confusion.
I hope Doug Bates' quick reaction has prevented some of it..
Yours,
Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s-luppescu at uchicago.edu  Wed Dec  6 00:24:48 2000
From: s-luppescu at uchicago.edu (s-luppescu@uchicago.edu)
Date: Tue, 05 Dec 2000 17:24:48 -0600 (CST)
Subject: [R] R or Splus?
In-Reply-To: <E143KDU-0002DE-00@cpca7.uea.ac.uk>
Message-ID: <XFMail.20001205172448.s-luppescu@uchicago.edu>

On 05-Dec-2000 J.Brainard at uea.ac.uk wrote:
> It's been suggested I use R, I suppose because my employer is too skint to
> pay  for a copy of Splus.
> 
> But.... it doesn't seem to be stable. 
[snip]

I've used both and I prefer R for a couple of reasons:
1) Support: This list is great. It's never failed to come up with an answer to
my problems almost instantly. And it's usually the core developers that answer.
I had a strange problem with alignment of text in Splus and it took a week or
10 days for the people at MathSoft to come up with an answer.
2) Swiftness: SPlus is heavy and lumbering, while R is nimble. R runs fine on my
old Thinkpad 701 with 300 MB hard drive and a 75 MHz 486 under Linux. Want to
try and install SPlus on that machine?
______________________________________________________________________
Stuart Luppescu         -=-=-  University of Chicago
$(B:MJ8$HCRF`H~$NIc(B        -=-=-  s-luppescu at uchicago.edu
http://www.consortium-chicago.org/people/sl/sl.html
PGP Public Key: www.consortium-chicago.org/people/sl/pubkey.asc
ICQ #21172047  AIM: psycho7070
Money is better than poverty, if only for financial reasons.
>> Sent on 05-Dec-2000 at 17:17:52 with xfmail
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s-luppescu at uchicago.edu  Wed Dec  6 00:27:53 2000
From: s-luppescu at uchicago.edu (s-luppescu@uchicago.edu)
Date: Tue, 05 Dec 2000 17:27:53 -0600 (CST)
Subject: [R] Is robust regression available in R.
In-Reply-To: <Pine.GSO.4.21.0012051011200.21119-100000@atlas.biostat.washington.edu>
Message-ID: <XFMail.20001205172753.s-luppescu@uchicago.edu>

On 05-Dec-2000 Thomas Lumley wrote:
> On Wed, 6 Dec 2000, Hisaji ONO wrote:
> 
>> Hello, the R people.
>>  
>> I look for robust regression in R.
>>  
>> This method is available in S, its name is rreg.
> 
> There's better robust regression in the VR bundle of
> packages. 
> 
> library(MASS)
> help(rlm)
> library(lqs)
> help(lqs)

I've been using line() in the eda library. Are the MASS functions to be
preferred?
______________________________________________________________________
Stuart Luppescu         -=-=-  University of Chicago
$(B:MJ8$HCRF`H~$NIc(B        -=-=-  s-luppescu at uchicago.edu
http://www.consortium-chicago.org/people/sl/sl.html
PGP Public Key: www.consortium-chicago.org/people/sl/pubkey.asc
ICQ #21172047  AIM: psycho7070
If you float on instinct alone, how can you calculate the buoyancy for
the computed load?
                -- Christopher Hodder-Williams
>> Sent on 05-Dec-2000 at 17:26:20 with xfmail
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Wed Dec  6 00:34:32 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 5 Dec 2000 15:34:32 -0800 (PST)
Subject: [R] Is robust regression available in R.
In-Reply-To: <XFMail.20001205172753.s-luppescu@uchicago.edu>
Message-ID: <Pine.GSO.4.21.0012051530480.21119-100000@atlas.biostat.washington.edu>

On Tue, 5 Dec 2000 s-luppescu at uchicago.edu wrote:

> On 05-Dec-2000 Thomas Lumley wrote:

> > There's better robust regression in the VR bundle of
> > packages. 
> > 
> > library(MASS)
> > help(rlm)
> > library(lqs)
> > help(lqs)
> 
> I've been using line() in the eda library. Are the MASS functions to be
> preferred?

Well, for a start they allow more than one predictor and give standard
errors.

There are also more options for different types of robust regression, both
M-estimators and high-breakdown methods.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Wed Dec  6 04:22:49 2000
From: chong at stat.purdue.edu (Chong Gu)
Date: Tue, 5 Dec 2000 22:22:49 -0500
Subject: [R] maps
Message-ID: <200012060322.WAA56472@odds.stat.purdue.edu>


Does anyone know of any R function for drawing maps, like the usa()
function in S.

Thanks.

Chong Gu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Wed Dec  6 09:33:04 2000
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Wed, 6 Dec 2000 09:33:04 +0100 (MET)
Subject: [R] R or Splus?
In-Reply-To: <x2bsuqonit.fsf@blueberry.kubism.ku.dk> from "Peter Dalgaard BSA" at Dec 05, 2000 05:12:26 PM
Message-ID: <200012060833.JAA32070@alpha.luc.ac.be>

With a complaint like this, the first thing to do is ask the version
of R. My recollection from other recent contributions to this list is
that UEA has an extremely old version on their machines, like 0.60 or
something. Jim

> 
> J.Brainard at uea.ac.uk writes:
> 
> > It's been suggested I use R, I suppose because my employer is too
> > skint to pay for a copy of Splus.
> > 
> > But.... it doesn't seem to be stable. I was trying to do some
> > ordinary regression and stepping through a model. I was trying to
> > set up a model ('kitchen_sink') in which to put all my model
> > parameters. Then I wanted to use step() to see what it would reduce
> > the model to. I couldn't even get started though. I would specify
> > the same model again and again, with just a few of the possible
> > variables, and sometimes lm() would fall over and return an error
> > message, sometimes the regression ran fine. I got fed up and ftp'd
> > the original tables up to a machine running Splus, where the models
> > ran fine, every time, with all kinds of specifications.
> > 
> > Is this a normal experience? Is R buggy or what? I note the other
> > email that R can't handle files named x. If I can use Splus, should
> > I just do that?
> 
> We haven't heard of problems of that magnitude lately. In general, we
> try to fix problems as soon as they can be identified, but you're not
> giving us much to go on with that kind of report.
> 
> - which version of R?
> - which operating system? 
> - which commands are you trying to run?
> - what are the error messages and other symptoms of misbehavior?
> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From noureddine.hakim at axa-corporatesolutions.com  Wed Dec  6 10:40:28 2000
From: noureddine.hakim at axa-corporatesolutions.com (HAKIM Nour-Eddine)
Date: Wed, 6 Dec 2000 10:40:28 +0100 
Subject: [R] Locfit
Message-ID: <53829589BB93D4119B5800B0D03DCD21A000@EXGAGRP5>


Dear,
 I am doing some statistics analysis using R software. I am currently trying
to implement your library locfit. I am using Win NT and R1.1.1 version
obtained on the following Webmaster : 
http://cm.bell-labs.com/cm/ms/departments/sia/project/locfit/index.html 
When trying to run it, the following message appears: 
********** 
Error in .C("guessnv", nvm = integer(1), ncm = integer(1), dp =
as.numeric(dp), : C/Fortran function name not in load table 
********** 
Do you know what this message means and do u know what procedure shall I
implement in order to be able to use best fit. I look forward to receiving
your advices. Thank you very much for your time in advance locfit. 
N.B : i use the example of Ethanol in pckg (locfit).
Nour-Eddine. 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Wed Dec  6 10:18:06 2000
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Wed, 6 Dec 2000 09:18:06 +0000
Subject: [R] R or Splus?
In-Reply-To: <E143KDU-0002DE-00@cpca7.uea.ac.uk>
References: <E143KDU-0002DE-00@cpca7.uea.ac.uk>
Message-ID: <5cNmPJAORgL6EwuQ@myatt.demon.co.uk>

J.Brainard at uea.ac.uk Writes:

>It's been suggested I use R, I suppose because my employer is too skint to pay 
>for a copy of Splus.

Or, maybe, he just supports open-source software ... some of us do. I
can't see how an 'ac.uk' employer would pay more than a few quid for a
copy of Splus through an academic licensing deal.

>But.... it doesn't seem to be stable.  I was trying to do some ordinary 
>regression [stuff deleted]

I am sure that other on the list will ask you to give more details about
your machine, OS, R versions, dataset, commands that caused the problem,
error messages, &c.

>Is this a normal experience?

Not mine. I find it stable.

>  Is R buggy or what?

Getting less so. I am very surprised that lm() is giving you problems.

>  I note the other email that
>R can't handle files named x.

One of us is confused. Where did that come from?

>  If I can use Splus, should I just do that?

If you feel happier with it. R is lighter and faster than Splus. R
support (through the lists) is excellent.

>(Alternative is graphics-interface-only SPSS, and given that I've never used it,
>I'm working on remote machines, from home, with no manuals handy, that is 
>something I 
>should really wish to avoid :-).

SPSS is a 'package' rather than an environment/language like R or S. It
is pretty good (stable, fast, easy to use) but limited in the way
'packages' usually are. I don't think that there are any "graphic-
interface-only" versions of SPSS. The GUI, in SPSS, is a syntax builder
just like the GUI in Splus. The command language is a bit idiosyncratic
but you can use the GUI to help you see how commands are structured.
SPSS has good on-line help and the manuals are good (you can get them in
most academic bookstores). SPSS is much simpler than R/S for data-
management jobs. SPSS is a venerable package and will do the job for
most users most of the time. It is very cheap under academic license.

Of course, there is some pride in being an SPlus, and by implication R,
user as these systems have the reputation of being tools for illuminati.

Just my tuppence.

Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From noureddine.hakim at axa-corporatesolutions.com  Wed Dec  6 11:02:12 2000
From: noureddine.hakim at axa-corporatesolutions.com (HAKIM Nour-Eddine)
Date: Wed, 6 Dec 2000 11:02:12 +0100 
Subject: [R] Locfit
Message-ID: <53829589BB93D4119B5800B0D03DCD21A001@EXGAGRP5>

Dear Users R,
 I am doing some statistics analysis using R software. I am currently trying
to implement your library locfit. I am using Win NT and R1.1.1 version
obtained on the following Webmaster : 
http://cm.bell-labs.com/cm/ms/departments/sia/project/locfit/index.html 
When trying to run it, the following message appears: 
********** 
Error in .C("guessnv", nvm = integer(1), ncm = integer(1), dp =
as.numeric(dp), : C/Fortran function name not in load table 
********** 
Do you know what this message means and do u know what procedure shall I
implement in order to be able to use best fit. I look forward to receiving
your advices. Thank you very much for your time in advance locfit. 
N.B : i use the example of Ethanol in pckg (locfit).
Nour-Eddine. 




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From noureddine.hakim at axa-corporatesolutions.com  Wed Dec  6 12:02:51 2000
From: noureddine.hakim at axa-corporatesolutions.com (HAKIM Nour-Eddine)
Date: Wed, 6 Dec 2000 12:02:51 +0100 
Subject: No subject
Message-ID: <53829589BB93D4119B5800B0D03DCD21A002@EXGAGRP5>

Dear ,

I want to import Excel data (.XLS). Can you help me to this.

Best regards.

Nour-Eddine HAKIM


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From adorjan at epigenomics.de  Wed Dec  6 12:08:43 2000
From: adorjan at epigenomics.de (Peter Adorjan)
Date: Wed, 06 Dec 2000 12:08:43 +0100
Subject: [R] Landscape problems with ps2pdf
References: <8156A6FE684ED21194D20008C756F8DF443CCE@independence.esperion.com>
Message-ID: <3A2E1E3B.97FB0313@epigenomics.de>

hi, 
i have had the same problem, and following trick seems to work generally
(independent who produced the ps file).

pstops "0R(0,21cm)" myfile.prn > myfile.ps
ps2pdf -g8420x5950 myfile.ps

best, 
peter

-- 
  Peter Adorjan      Data Mining R & D
  Epigenomics AG - Bioinformatics
  Kastanienalle 24    Fax: +49-30-24345-555
  Berlin  10437 Germany         Phone: +49-30-24345-0
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Dec  6 12:26:55 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 6 Dec 2000 11:26:55 +0000 (GMT)
Subject: [R] RODBC update
Message-ID: <200012061126.LAA03037@toucan.stats.ox.ac.uk>

On behalf of Michael Lapsley, who is away.

There is a new version of RODBC on CRAN, version 0.8-2.  A version
compiled for rw1011 will propagate to CRAN tonight.

Main differences:

-  This will work with the up-coming R 1.2.0.
-  Nulls in databases are handled (more) correctly.  The bug that has been
   reported with repeated entries was it transpires to do with null fields, 
   not empty ones ("", and they can be different).
-  There are options to determine how to write NAs to the database, and
   how to read nulls and what strings to map to NA when reading (like
   na.strings in read.table).
-  Much of the R code has been vectorized, so should be faster.
-  The internal reading code has been streamlined and should be faster,
   and there are options to return results as a character matrix,
   which might be much faster.
-  as.is arguments work now.

This is an interim release to fix some of the bugs and in preparation
for 1.2.0.  Michael will probably update it when he returns.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Dec  6 12:37:50 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 Dec 2000 12:37:50 +0100
Subject: [R] Re: none
In-Reply-To: HAKIM Nour-Eddine's message of "Wed, 6 Dec 2000 12:02:51 +0100"
References: <53829589BB93D4119B5800B0D03DCD21A002@EXGAGRP5>
Message-ID: <x2puj5g4q9.fsf@blueberry.kubism.ku.dk>

HAKIM Nour-Eddine <noureddine.hakim at axa-corporatesolutions.com> writes:

> Dear ,
> 
> I want to import Excel data (.XLS). Can you help me to this.
> 

It's difficult without going via a text file, so you need to have
Excel on the machine. This is what I have been telling students
(part of the information is described for SPSS, so you get that as
well):

\item[SPSS:] Use |File, Export| menu in the data editor and export as
  a tab-separated file (for simplicity, say |mydata.txt| in the top
  directory on the |C:| drive). Make sure that it contains a header
  line with the variable names and use
  |read.csv2("C:/mydata.txt",sep="\t")| to read it in. This refers to
  locales where the comma is used as decimal separator, otherwise use
  |read.csv|.
  
  Alternatively, one can copy the data or a section of it directly to
  a text editor such as Notepad via the Windows copy and paste
  mechanism.  Note however that the variable names are not copied in
  this way, so one must either add them by hand (recommended) or use
  |read.csv2("C:/mydata.txt",sep="\t",header=F)| and add variable
  names later.


\item[Excel:] Use |File,Save as...| and choose tab-sep (|.txt|) or use
  the clipboard.  Subsequent data handling is similar to SPSS. Note
  that a header line will only be present if it was in the spreadsheet
  to begin with.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mnelson at esperion.com  Wed Dec  6 12:32:53 2000
From: mnelson at esperion.com (Matthew Nelson)
Date: Wed, 6 Dec 2000 06:32:53 -0500 
Subject: [R] Landscape problems with ps2pdf [summary]
Message-ID: <8156A6FE684ED21194D20008C756F8DF443CF0@independence.esperion.com>

Since I sent my original question last week, this is one of two suggestions
that worked.  Using Adobe Acrobat, as suggested by Professor Ripley, was
very satisfactory, but required that I use multiple platforms to make the
conversion to PDF (from Linux to Windows).  

The solution by Peter Adorjan (included below), also worked very well, and
can be carried out on any platform using tools available in ghostscript
(ps2pdf) and psutils (pstops, which can be downloaded from
http://www.dcs.ed.ac.uk/home/ajcd/psutils/ in source form, or from the usual
sites for Linux binaries).

Thanks for the responses.

Matt Nelson

> From: Peter Adorjan [mailto:adorjan at epigenomics.de]
> Sent: Wednesday, December 06, 2000 6:09 AM
> 
> hi, 
> i have had the same problem, and following trick seems to 
> work generally
> (independent who produced the ps file).
> 
> pstops "0R(0,21cm)" myfile.prn > myfile.ps
> ps2pdf -g8420x5950 myfile.ps


Original Message:

I have created a multipage PostScript file using the postscript() function
with horizontal = TRUE to produce my plots in landscape.  I intended to
convert that entire file to PDF using ps2pdf to have the plots available for
a presentation.  Unfortunately, the resulting PDF document is rotated -90
degrees.

I have found dozens of references to this kind of problem with ps2pdf
online, but no effective workaround.  I would really appreciate any
suggestions.

I am using R Version 1.1.1 on RedHat Linux 6.2.  I have upgraded to
ghostscript 6.01 (in an attempt to correct the problem). 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From erdbruegge at statistik.uni-dortmund.de  Wed Dec  6 13:16:19 2000
From: erdbruegge at statistik.uni-dortmund.de (Martina =?iso-8859-1?Q?Erdbr=FCgge?=)
Date: Wed, 06 Dec 2000 13:16:19 +0100
Subject: [R] Stepwise Regression
Message-ID: <3A2E2E13.808B9766@statistik.uni-dortmund.de>

Dear all,

I would like to carry out a stepwise regression using the function step.
If I use either ~ (A + B + C + D)^4 or explicitly all main effects and
interactions for the scope argument, the procedure only considers the
four main effects for addition or elimination in each iteration step.
What did I do wrong?

I'm using R version 1.1.1 on Windows NT.
(I'm sorry if this is a stupid question but I didn't find the answer in
the help file or the FAQs.)
Thanks in advance for any help.

Martina Erdbr?gge



Here is my code with results:
> lm44 <- lm(betamat2[, 2] ~ 1, data = fndaten, weights = fndaten$varin)
> step(lm44, ~ (A + B + C + D)^4)
Start:  AIC= -20.5 
 betamat2[, 2] ~ 1 

       Df Sum of Sq      RSS      AIC
+ C     1    1.3500   2.5706 -25.2555
+ B     1    1.2323   2.6882 -24.5393
<none>                3.9206 -20.5016
+ A     1    0.0132   3.9074 -18.5554
+ D     1    0.0072   3.9134 -18.5309

Step:  AIC= -25.26 
 betamat2[, 2] ~ C 

       Df Sum of Sq     RSS     AIC
+ B     1     1.430   1.141 -36.255
<none>                2.571 -25.255
+ A     1     0.096   2.475 -23.862
+ D     1     0.002   2.569 -23.265
- C     1     1.350   3.921 -20.502

Step:  AIC= -36.26 
 betamat2[, 2] ~ C + B 

       Df Sum of Sq     RSS     AIC
<none>                1.141 -36.255
+ A     1     0.079   1.062 -35.398
+ D     1     0.053   1.088 -35.018
- B     1     1.430   2.571 -25.255
- C     1     1.548   2.688 -24.539

Call:
lm(formula = betamat2[, 2] ~ C + B, data = fndaten, weights =
fndaten$varin)

Coefficients:
(Intercept)            C            B  
     1.2245      -0.4140       0.4284
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Wed Dec  6 13:38:50 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Wed, 6 Dec 2000 07:38:50 -0500
Subject: [R] RE: 
In-Reply-To: <53829589BB93D4119B5800B0D03DCD21A002@EXGAGRP5>
Message-ID: <NEBBJKDHAKDADAGMEBLGMEDGCAAA.cyg@sympatico.ca>

>From Excel save your data as a *.csv and then use "read.csv" to read it in R
workspace.

YG

-----Message d'origine-----
De : owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]De la part de HAKIM Nour-Eddine
Envoy? : Wednesday, December 06, 2000 6:03 AM
? : 'R-help at r-project.org'
Objet :


Dear ,

I want to import Excel data (.XLS). Can you help me to this.

Best regards.

Nour-Eddine HAKIM


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.malewski at tu-bs.de  Wed Dec  6 13:46:10 2000
From: p.malewski at tu-bs.de (Peter Malewski)
Date: Wed, 6 Dec 2000 13:46:10 +0100
Subject: [R] Landscape problems with ps2pdf [summary]
In-Reply-To: <8156A6FE684ED21194D20008C756F8DF443CF0@independence.esperion.com>; from mnelson@esperion.com on Wed, Dec 06, 2000 at 06:32:53AM -0500
References: <8156A6FE684ED21194D20008C756F8DF443CF0@independence.esperion.com>
Message-ID: <20001206134608.A9118@rzpool07.pool.rz.tu-bs.de>

On Wed, Dec 06, 2000 at 06:32:53AM -0500, Matthew Nelson wrote:
> Since I sent my original question last week, this is one of two suggestions
> that worked.  Using Adobe Acrobat, as suggested by Professor Ripley, was
> very satisfactory, but required that I use multiple platforms to make the
> conversion to PDF (from Linux to Windows).  

...and epstopdf (??Imagemagic??) does not work? I'm quite sure I recently used this with pdflatex. 
p.

-- 
P.Malewski, Maschplatz 8, 38114 Braunschweig, Tel.: 0531 500965, 
MH-Hannover: 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Wed Dec  6 14:13:33 2000
From: gb at stat.umu.se (gb)
Date: Wed, 6 Dec 2000 14:13:33 +0100 (CET)
Subject: [R] Simulation
In-Reply-To: <x2puj5g4q9.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.30.0012061348550.7256-100000@tal.stat.umu.se>


I want to draw a random sample Y_1, ..., Y_n, iid Poisson,
but condition on their sum being equal to  k. Two
suggestions:

1)   lambda <- k / n ## optimal value
     ysum <- -1
     while (ysum != k){
        y <- rpois(n, lambda)
        ysum <- sum(y)
     }
     y

2) Aiming at Multinom(k, 1/n, ..., 1/n):

   y <- as.vector(table(factor(sample(n, k, replace = T), levels = 1:n)))

1) seems to be faster than 2), but my question is whether there is
something even better?  'sample' is fast enough, but how can I do
the rest (factor, table) smarter in 2)?

Thanks for any suggestions!

G?ran
-- 
 G?ran Brostr?m                      tel: +46 90 786 5223
 professor                           fax: +46 90 786 6614
 Department of Statistics            http://www.stat.umu.se/egna/gb/
 Ume? University
 SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kightjp at livedoor.com  Wed Dec  6 14:25:11 2000
From: kightjp at livedoor.com (Miyamura Masashi)
Date: Wed, 06 Dec 2000 22:25:11 +0900
Subject: [R] Re:
In-Reply-To: Your message of "Wed, 6 Dec 2000 12:02:51 +0100"
 	<53829589BB93D4119B5800B0D03DCD21A002@EXGAGRP5>
References: <53829589BB93D4119B5800B0D03DCD21A002@EXGAGRP5>
Message-ID: <m143eav-000IWsC@franz.stat.wisc.edu>

Hello,

Wed, 6 Dec 2000 12:02:51 +0100, 
	HAKIM Nour-Eddine <noureddine.hakim at axa-corporatesolutions.com> wrote

>I want to import Excel data (.XLS). Can you help me to this.

I use Excel data.

save as CVS File (.cvs)

------
miyamura masashi (@_@;

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From J.Brainard at uea.ac.uk  Wed Dec  6 14:19:26 2000
From: J.Brainard at uea.ac.uk (J.Brainard@uea.ac.uk)
Date: Wed, 06 Dec 2000 13:19:26 +0000
Subject: [R] Re: R or Splus
Message-ID: <E143eTm-0007Zs-00@cpca7.uea.ac.uk>


Thanks to all for the input.

rgentlem at jimmy.harvard.edu said:
>If you really want help --

no, I just thought I'd waste some bandwidth.  :-)


>If on the other hand you
>just want some reassurance that Splus is indeed a commerical package

oh gee, thanks, I wasn't sure about that.


When I had said:
>> R can't handle files named x.  If I can use Splus, should I just do that?

RG added:
  >This is simply untrue. Perhaps you could read those discussions
  >somewhat more carefully.

There was definitely a recent message to the effect that someone was
trying to do something with an object named 'x', and the reply came
back that it wasn't possible -- there was a bug that prevented
one calling an object x and using the desired function.  
Was the function glm, perhaps?
I've overwritten that message, now, so can't quote directly.


G.Janacek at uea.ac.uk said:
> UEA runs both  R and Splus. The Splus license in on the Unix boxes. 
>The version of R os  I am told a buggy one and the current one is 
>better.

I think this explains a lot about my situation.  It's version 0.90.1 of R
on DEC alphas I've been trying to use.  And I was misinformed
when told we didn't have Splus any more (arrrrrrrrrgggg)


However... I could become an R convert if I'm told it's

a) mind-bogglingly simple to install on Win Nt
   there are firm limits to my geek credentials

b) can handle cluster analysis with 2000 records (mclust, preferred,
   although I'd take kmeans if nec'y).  Splus 5.0 on the 
   Manchester Cray has been falling over on this, much to my great
   annoyance, no matter how large a workspace I give mclust, hclust
   or kmeans, etc.


mark at myatt.demon.co.uk noted:
>I don't think that there are any "graphic-
>interface-only" versions of SPSS. 

well, what we have (seems to be version 6.14) is definitely pull-down
menus, the lot -- like using Micro$oft Excel -- 
but slower than treacle on an Artic day to run.


>Of course, there is some pride in being an SPlus, and by implication R,
>user as these systems have the reputation of being tools for illuminati.

I adore Splus when it works.


One last thing:
ernesto at neptuno.ipimar.pt mentioned:
>I had a S+ license during 1998 and I'm now looking again at 
>S+ because I want to use the S+SpatialStats.

I guess you mean the Arc-S+ links?  The 8 or 9 functions they
were flogging about 5 years ago or so for 800 quid or so?  
(That's $ 11000 or so to the Yanks).

I don't know if the Spatial modeule has been improved wildly, but
a friend of mine sat down and wrote one of the functions in an
hour once (and he's an Splus person, not an AML person, which is
where I come from).  Last time I looked at them there were 8 or 9 
utilitites in the S+Arc link and all but one I reckoned 
I could cobble together from
simple AML function calls (I have done this for other purposes).

What I'm saying is, it really may be a waste of money to get the
Spatial modules.


-julii

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rab at nauticom.net  Wed Dec  6 15:27:56 2000
From: rab at nauticom.net (Richard A. Bilonick)
Date: Wed, 06 Dec 2000 09:27:56 -0500
Subject: [R] Re: Importing Excel .xls into R
References: <53829589BB93D4119B5800B0D03DCD21A002@EXGAGRP5>
Message-ID: <3A2E4CEC.7000108@nauticom.net>

Hakim,

I don't believe there is any direct way of doing this. Here are some 
options:

1) If you have Excel, save the file as text or csv.

2) Convert the .xls to text. One way to do this is to go to 
http://www.freeviewer.com. You can use their web page to produce a text 
version that you can paste into a data file.

Rick Bilonick

HAKIM Nour-Eddine wrote:

> Dear ,
> 
> I want to import Excel data (.XLS). Can you help me to this.
> 
> Best regards.
> 
> Nour-Eddine HAKIM
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mjr at stats.mth.uea.ac.uk  Wed Dec  6 15:13:31 2000
From: mjr at stats.mth.uea.ac.uk (MJ Ray)
Date: 06 Dec 2000 14:13:31 +0000
Subject: [R] R or Splus?
In-Reply-To: J.Brainard@uea.ac.uk's message of "Tue, 05 Dec 2000 15:41:16 +0000"
References: <E143KDU-0002DE-00@cpca7.uea.ac.uk>
Message-ID: <szi4s0hhc38.fsf@stats.mth.uea.ac.uk>

J.Brainard at uea.ac.uk writes:

> It's been suggested I use R, I suppose because my employer is too
> skint to pay for a copy of Splus.

Hi Julii, you're not still at UEA are you?  Haven't heard of you for a
while.  Anyway, there's a small group of us using R in the Centre for
Statistics and I've just updated our installation.  I've also asked
for the HPC to do the same, but in the mean time, I think I could give
you access to our systems if necessary.

[For list reference ;-), I believe UEA HPC is using 0.9x, while the
Macs were running 0.6x until recently because that was the latest
available.]

-- 
MJR                                     (Not an official statement)
Please note changes of address		http://stats.mth.uea.ac.uk/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Hauke.Hildebrandt at iup.uni-heidelberg.de  Wed Dec  6 15:40:35 2000
From: Hauke.Hildebrandt at iup.uni-heidelberg.de (Hauke Hildebrandt)
Date: Wed, 06 Dec 2000 15:40:35 +0100
Subject: [R] Plot: Two newbie questions
Message-ID: <3A2E4FE2.6BB1D48B@freitag.iup.uni-heidelberg.de>

Hi!

I would like to

1) Put a title on a page with several plots (aligned witn mfrow=(x,y)).

2) Turn the y axis upside down, ie high values at the bottom, large ones
at the top.

Can you help me with those problems? Thanks!

Hauke


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Z.Barta at bristol.ac.uk  Wed Dec  6 15:42:24 2000
From: Z.Barta at bristol.ac.uk (Zoltan Barta)
Date: Wed, 6 Dec 2000 14:42:24 +0000 (GMT Standard Time)
Subject: [R] Re: none
In-Reply-To: <x2puj5g4q9.fsf@blueberry.kubism.ku.dk>
Message-ID: <SIMEON.10012061424.C@maths-pc80.bristol.ac.uk>


On 06 Dec 2000 12:37:50 +0100 Peter Dalgaard BSA 
<p.dalgaard at biostat.ku.dk> wrote:

> HAKIM Nour-Eddine <noureddine.hakim at axa-corporatesolutions.com> writes:
> 
> > Dear ,
> > 
> > I want to import Excel data (.XLS). Can you help me to this.
> > 
> 
> It's difficult without going via a text file, so you need to have
> Excel on the machine. 

Or on a Linux machine you can use Gnumeric 
(http://www.gnome.org/gnumeric)

Zoltan Barta


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From spinazzi at databankgroup.it  Wed Dec  6 15:59:18 2000
From: spinazzi at databankgroup.it (Federico Spinazzi)
Date: Wed, 6 Dec 2000 14:59:18 -0000
Subject: R: [R] RE: 
Message-ID: <000a01c05f95$1ff74b00$0a00a8c0@bellview>

A trick I use is to give tab-delimited text files created by excel or R the
.xls extension: this may apply, and it may be better, to CSV:
R couldn't see any difference whichever the extension will be, and windows
will be foolished by the .xls extension an will open the file with Excel
that will handel it CORRECTLY.
If you need to have the data always alligned in Excel and R this trick will
allow to bypass the manual operation of a "Save As" dialog.

Another option could be to use RODBC with a datasource set to an Excel File:
as you see tha above trick don't scale well as you can have your own graphs
an pivot tables in the excel file and you cannot susbtitute this with a text
file.

Hope that helps.
Federico Spinazzi
spinazzi at databankgroup.it
Databank S.P.A
Via Spartaco, 19, ITALY
Tel. + 39 02 55002251

-----Messaggio originale-----
Da: Yves Gauvreau <cyg at sympatico.ca>
A: HAKIM Nour-Eddine <noureddine.hakim at axa-corporatesolutions.com>;
R-help at r-project.org <R-help at r-project.org>
Data: mercoled? 6 dicembre 2000 14.14
Oggetto: [R] RE:


>From Excel save your data as a *.csv and then use "read.csv" to read it in
R
>workspace.
>
>YG
>
>-----Message d'origine-----
>De : owner-r-help at stat.math.ethz.ch
>[mailto:owner-r-help at stat.math.ethz.ch]De la part de HAKIM Nour-Eddine
>Envoy? : Wednesday, December 06, 2000 6:03 AM
>? : 'R-help at r-project.org'
>Objet :
>
>
>Dear ,
>
>I want to import Excel data (.XLS). Can you help me to this.
>
>Best regards.
>
>Nour-Eddine HAKIM
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.
>-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
.
>_._
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r.e.darnell at ncl.ac.uk  Wed Dec  6 16:58:58 2000
From: r.e.darnell at ncl.ac.uk (R.E. Darnell)
Date: 06 Dec 2000 15:58:58 +0000
Subject: [R] Plot: Two newbie questions
In-Reply-To: Hauke Hildebrandt's message of "Wed, 06 Dec 2000 15:40:35 +0100"
References: <3A2E4FE2.6BB1D48B@freitag.iup.uni-heidelberg.de>
Message-ID: <dgksno1y20t.fsf@scs2.ncl.ac.uk>

Hauke Hildebrandt <Hauke.Hildebrandt at iup.uni-heidelberg.de> writes:

> Hi!
> 
> I would like to
> 
> 1) Put a title on a page with several plots (aligned witn mfrow=(x,y)).

use mtext

> 
> 2) Turn the y axis upside down, ie high values at the bottom, large ones
> at the top.
Try

plot(x, -y, axes=FALSE)
axis(1)
axis(2)

[...]

or wait til Peter D gives a much more cunning method

Cheers
Ross Darnell
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From noureddine.hakim at axa-corporatesolutions.com  Wed Dec  6 17:06:43 2000
From: noureddine.hakim at axa-corporatesolutions.com (HAKIM Nour-Eddine)
Date: Wed, 6 Dec 2000 17:06:43 +0100 
Subject: [R] Memory
Message-ID: <53829589BB93D4119B5800B0D03DCD21A005@EXGAGRP5>

Dear,

 I am working with a lot of observations (18000) and i need to do sme
regressions but i have pb of memory : following message

*******************************
heap memory (6144 Kb) exhausted [needed 143 Kb more]
       See "help(Memory)" on how to increase the heap size.
*******************************

Can any one help me.

Nour-Eddine

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at geobot.umnw.ethz.ch  Wed Dec  6 17:41:51 2000
From: pflugshaupt at geobot.umnw.ethz.ch (Kaspar Pflugshaupt)
Date: Wed, 06 Dec 2000 17:41:51 +0100
Subject: [R] Memory
In-Reply-To: <53829589BB93D4119B5800B0D03DCD21A005@EXGAGRP5>
Message-ID: <B6542ADE.7027%pflugshaupt@geobot.umnw.ethz.ch>

On 6.12.2000 17:06 Uhr, HAKIM Nour-Eddine wrote:

> Dear,
> 
> I am working with a lot of observations (18000) and i need to do sme
> regressions but i have pb of memory : following message
> 
> *******************************
> heap memory (6144 Kb) exhausted [needed 143 Kb more]
>      See "help(Memory)" on how to increase the heap size.
> *******************************
> 
> Can any one help me.
> 

To quote your output: See "help(Memory)". Really, try it.


If you're working on Windows, the Windows-FAQ (which comes with the
software) has details specific to that platform (how to set the amount of
memory that the program can use).

And if you're not in a hurry, wait for R 1.2 which is due these weeks. It
will allocate memory dynamically.


Cheers & good luck

Kaspar Pflugshaupt

-- 

Kaspar Pflugshaupt
Geobotanisches Institut
Zuerichbergstr. 38
CH-8044 Zuerich

Tel. ++41 1 632 43 19
Fax  ++41 1 632 12 15

mailto:pflugshaupt at geobot.umnw.ethz.ch
privat:pflugshaupt at mails.ch
http://www.geobot.umnw.ethz.ch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Wed Dec  6 17:46:32 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Wed, 6 Dec 2000 11:46:32 -0500 (EST)
Subject: [R] Simulation (multinomial deviate generation)
In-Reply-To: <Pine.LNX.4.30.0012061348550.7256-100000@tal.stat.umu.se>
Message-ID: <Pine.LNX.4.30.0012061041110.462-100000@bolker.zoo.ufl.edu>


  I've collected various implementations of multinomial deviate generation
in S/R.  There's an "rmult" package by Jonathan Rougier on STATLIB's S
archive (http://lib.stat.cmu.edu/S/rmult), which runs unmodified under R,
but is much slower than your code #1.

  The following code (which I didn't write but have tweaked -- it could be
improved further; unfortunately I don't have the author's name any more)
is much faster *if* you can generate all of your deviates at the same
time, but twice as slow if you do them one at a time.

## (rmult.gb1 and rmult.gb2 are just your code)

tot <- 100000
system.time(for (i in 1:tot) rmult.gb1(5,10))
## [1] 21.27  1.02 22.37  0.00  0.00
system.time(for (i in 1:tot) rmult.gb2(5,10))
## [1] 137.78   3.59 142.22   0.00   0.00
system.time(for (i in 1:tot) rmulti(1,rep(1/5,5),10))
## [1] 50.07  1.05 51.36  0.00  0.00
system.time(rmulti(tot,rep(1/5,5),10))  ## vectorize
## [1] 0.17 0.02 0.19 0.00 0.00

rmulti<-function (n, size, prob)
  ## pick multinomial deviates
{
  if (size==0) stop("rmulti: size==0")
  if (is.matrix(prob)) {
    l <- ncol(prob)
    totp <- prob %*% rep(1, l)
  }
  else {
    l <- length(prob)
    totp <- sum(prob)
    prob <- matrix(prob, nrow = 1)
  }
  siz <- rep(size, length.out = n)
  x <- matrix(numeric(n * l), ncol = l)
  for (i in 1:(l - 1)) {
    ## inserted min() to deal with roundoff problems that led to p>1.0
    x[, i] <- rbinom(n, siz, min(prob[, i]/totp,1.0))
    siz <- siz - x[, i]
    totp <- totp - prob[, i]
    totp[totp <= 0] <- 1
  }
  x[,l]<-siz
  x
}

On Wed, 6 Dec 2000, gb wrote:

>
> I want to draw a random sample Y_1, ..., Y_n, iid Poisson,
> but condition on their sum being equal to  k. Two
> suggestions:
>
> 1)   lambda <- k / n ## optimal value
>      ysum <- -1
>      while (ysum != k){
>         y <- rpois(n, lambda)
>         ysum <- sum(y)
>      }
>      y
>
> 2) Aiming at Multinom(k, 1/n, ..., 1/n):
>
>    y <- as.vector(table(factor(sample(n, k, replace = T), levels = 1:n)))
>
> 1) seems to be faster than 2), but my question is whether there is
> something even better?  'sample' is fast enough, but how can I do
> the rest (factor, table) smarter in 2)?
>
> Thanks for any suggestions!
>
> G?ran
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From theis at statistik.uni-dortmund.de  Wed Dec  6 17:43:31 2000
From: theis at statistik.uni-dortmund.de (Winfried Theis)
Date: Wed, 06 Dec 2000 17:43:31 +0100 (MET)
Subject: [R] Memory
In-Reply-To: <53829589BB93D4119B5800B0D03DCD21A005@EXGAGRP5>
Message-ID: <XFMail.001206174331.theis@statistik.uni-dortmund.de>

Hi!
On 06-Dec-00 HAKIM Nour-Eddine wrote:
> Dear,
> 
>  I am working with a lot of observations (18000) and i need to do sme
> regressions but i have pb of memory : following message
> 
> *******************************
> heap memory (6144 Kb) exhausted [needed 143 Kb more]
>        See "help(Memory)" on how to increase the heap size.
> *******************************
Well, just do as suggested type help(Memory), which should give you all
information needed! It is not too difficult but platform specific...

Cheers, Winfried
----------------------------------
E-Mail: Winfried Theis <theis at statistik.uni-dortmund.de>
Date: 06-Dec-00
Time: 17:40:52
Dipl.-Math. Winfried Theis, Fachbereich Statistik, Graduiertenkolleg
"Angewandte Statistik"
Universitt Dortmund, 44221 Dortmund
Tel.: +49-231-755-5903  FAX: +49-231-755-4387
----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Alexandre.Fayolle at logilab.fr  Wed Dec  6 17:51:38 2000
From: Alexandre.Fayolle at logilab.fr (Alexandre Fayolle)
Date: Wed, 6 Dec 2000 17:51:38 +0100 (CET)
Subject: [R] Re: Importing Excel .xls into R
In-Reply-To: <3A2E4CEC.7000108@nauticom.net>
Message-ID: <Pine.LNX.4.21.0012061750350.1744-100000@leo.logilab.fr>

On Wed, 6 Dec 2000, Richard A. Bilonick wrote:

> I don't believe there is any direct way of doing this. 

Isn't is possible to access an Excell document via ODBC ?

Just asking, I have not tested it...

Alexandre Fayolle
-- 
http://www.logilab.com 
Narval is the first software agent available as free software (GPL).
LOGILAB, Paris (France).

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Wed Dec  6 18:57:55 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Wed, 6 Dec 2000 12:57:55 -0500 (EST)
Subject: [R] Memory
In-Reply-To: <53829589BB93D4119B5800B0D03DCD21A005@EXGAGRP5>
Message-ID: <Pine.LNX.4.30.0012061252360.654-100000@bolker.zoo.ufl.edu>


  Did you look at help(Memory) as suggested?

  You can also look at section 7.1 of the R FAQ
(http://cran.r-project.org/doc/FAQ/R-FAQ.html).

  For more detail on how to set memory command-line options under R for
Windows, read the last two paragraphs of section 2.2 of Brian Ripley's "R
for Windows" FAQ (http://www.stats.ox.ac.uk/pub/R/rw-FAQ.html).

On Wed, 6 Dec 2000, HAKIM Nour-Eddine wrote:

> Dear,
>
>  I am working with a lot of observations (18000) and i need to do sme
> regressions but i have pb of memory : following message
>
> *******************************
> heap memory (6144 Kb) exhausted [needed 143 Kb more]
>        See "help(Memory)" on how to increase the heap size.
> *******************************
>
> Can any one help me.
>
> Nour-Eddine
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Wed Dec  6 19:17:51 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 06 Dec 2000 12:17:51 -0600
Subject: [R] Re: Importing Excel .xls into R
In-Reply-To: Alexandre Fayolle's message of "Wed, 6 Dec 2000 17:51:38 +0100 (CET)"
References: <Pine.LNX.4.21.0012061750350.1744-100000@leo.logilab.fr>
Message-ID: <6rg0k1pg6o.fsf@franz.stat.wisc.edu>

Alexandre Fayolle <Alexandre.Fayolle at logilab.fr> writes:

> On Wed, 6 Dec 2000, Richard A. Bilonick wrote:
> 
> > I don't believe there is any direct way of doing this. 
> 
> Isn't is possible to access an Excell document via ODBC ?

I know you can go the other way and import a table from an ODBC
connection into an Excel spreadsheet.  I did that recently.  

For this kind of exchange Excel is the client on the ODBC connection.
I would be surprised if one were able to transfer data the other way
by making Excel function as an ODBC server. Excel doesn't seem to have
a way of enforcing consistency in the contents of cells in a column
and consistency in columns is important for many other systems that
can use ODBC connections.  In some ways consistent storage and
interpretation for all the elements of a column is the defining
feature of a relational database table.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ono96 at fa2.so-net.ne.jp  Wed Dec  6 19:44:17 2000
From: ono96 at fa2.so-net.ne.jp (Hisaji ONO)
Date: Thu, 7 Dec 2000 03:44:17 +0900
Subject: [R] Is robust regression available in R.
Message-ID: <00b201c05fb4$89fa2d00$bae0d5ca@myvaio>

Thank you, Mr. Lumley and Mr. Luppescu.

I'll try them.



>On Wed, 6 Dec 2000, Hisaji ONO wrote:
>
>> Hello, the R people.
>>
>> I look for robust regression in R.
>>
>> This method is available in S, its name is rreg.
>
>There's better robust regression in the VR bundle of
>packages.
>
>library(MASS)
>help(rlm)
>library(lqs)
>help(lqs)
>
> -thomas
>


> On 05-Dec-2000 Thomas Lumley wrote:
> I've been using line() in the eda library. Are the MASS functions to be
> preferred?


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20001207/5bfd642a/attachment.html

From xyzzy at speakeasy.org  Wed Dec  6 19:56:33 2000
From: xyzzy at speakeasy.org (Trent Piepho)
Date: Wed, 6 Dec 2000 10:56:33 -0800 (PST)
Subject: [R] Expression in plot text
Message-ID: <Pine.LNX.4.04.10012061026350.4956-100000@xyzzy.dsl.speakeasy.net>

I'd like to put a degree symbol in the title of a plot.  Something like:

plot(1,main=expression("Data at " * 45 * degree * " North"))

That works fine, but I like the 45 to be the value of a variable, instead of a
constant, an in:

lat <- 45
plot(1,main=expression("Data at " * lat * degree * " North"))

But this doesn't work of course, the graph title is "Data at lat North".  If
I try to paste expressions and strings together, that doesn't work either.

Now, I can figure out how to stick an ASCII 176 character into a text file and
get an actual degree symbol inside a literal string that way, though it's
rather a pain, and it shows up as "45\260 North" in an xterm.  But what if I
want some other kind of expression that I can't just type in as a string?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Wed Dec  6 20:02:42 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Wed, 6 Dec 2000 11:02:42 -0800 (PST)
Subject: [R] Expression in plot text
In-Reply-To: <Pine.LNX.4.04.10012061026350.4956-100000@xyzzy.dsl.speakeasy.net>
Message-ID: <Pine.GSO.4.21.0012061101570.25479-100000@atlas.biostat.washington.edu>

On Wed, 6 Dec 2000, Trent Piepho wrote:

> I'd like to put a degree symbol in the title of a plot.  Something like:
> 
> plot(1,main=expression("Data at " * 45 * degree * " North"))
> 
> That works fine, but I like the 45 to be the value of a variable, instead of a
> constant, an in:
> 
> lat <- 45
> plot(1,main=expression("Data at " * lat * degree * " North"))

I think you'll find this in the FAQ. In any case.

lat<-45
plot(1,main=substitute("Data at "*lat*degree*" North",list(lat=lat)))


	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lina at u.washington.edu  Wed Dec  6 20:12:13 2000
From: lina at u.washington.edu (na li)
Date: Wed, 6 Dec 2000 11:12:13 -0800 (PST)
Subject: [R] Update HTML help index under Windows
Message-ID: <Pine.A41.4.21.0012061104190.117968-100000@dante09.u.washington.edu>


Hi, I recently updated my Windows version of R from 1.1.0 to 1.1.1. The
way I updated it was just removing old version and installing a new one.
However, I still kept the libraries installed under the old version of
R. I can use them fine (with library() command) but can't see the index in
the HTML help file (when use help.start()). I do have compiled HTML files
installed.

Is there a way to update the help index automatically under Windows? I am
using Win2K.

Thanks.

Michael

***************************************************
Michael Na Li
Email: nali at biostat.washington.edu
Department of Biostatistics, Box 357232
University of Washington, Seattle, WA 98195  
****************************************************



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From roger at ysidro.econ.uiuc.edu  Wed Dec  6 20:22:05 2000
From: roger at ysidro.econ.uiuc.edu (Roger Koenker)
Date: Wed, 6 Dec 2000 13:22:05 -0600 (CST)
Subject: [R] Expression in plot text
In-Reply-To: <Pine.LNX.4.04.10012061026350.4956-100000@xyzzy.dsl.speakeasy.net>
Message-ID: <Pine.SOL.3.96.1001206132014.21764H-100000@ysidro>

As it happens I was also trying to do something similar and had a window
open with Brian's response to a similar question last August.  Here is it:


On Tue, 29 Aug 2000, Yudi Pawitan wrote:

> I'm putting a title over different plots, where 'that'
> varies. How do I make the value appear? Example:
>
> that <- 1
> plot(1:10)
> title(m


expression(paste(hat(theta),'= ',that)))

We've been here before. To get an expression either use parse on your
pasted character string or substitute on an expression.  There are worked
examples in the list achives. The neatest is

title(substitute(hat(theta) == that, list(that=that)))

(note it is == not =)





url:	http://www.econ.uiuc.edu		Roger Koenker	
email	roger at ysidro.econ.uiuc.edu		Department of Economics
vox: 	217-333-4558				University of Illinois
fax:   	217-244-6678				Champaign, IL 61820

On Wed, 6 Dec 2000, Trent Piepho wrote:

> I'd like to put a degree symbol in the title of a plot.  Something like:
> 
> plot(1,main=expression("Data at " * 45 * degree * " North"))
> 
> That works fine, but I like the 45 to be the value of a variable, instead of a
> constant, an in:
> 
> lat <- 45
> plot(1,main=expression("Data at " * lat * degree * " North"))
> 
> But this doesn't work of course, the graph title is "Data at lat North".  If
> I try to paste expressions and strings together, that doesn't work either.
> 
> Now, I can figure out how to stick an ASCII 176 character into a text file and
> get an actual degree symbol inside a literal string that way, though it's
> rather a pain, and it shows up as "45\260 North" in an xterm.  But what if I
> want some other kind of expression that I can't just type in as a string?
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kightjp at livedoor.com  Wed Dec  6 21:59:31 2000
From: kightjp at livedoor.com (Miyamura Masashi)
Date: Thu, 07 Dec 2000 05:59:31 +0900
Subject: [R] Re:
In-Reply-To: Your message of "Wed, 06 Dec 2000 22:25:11 +0900"
 	<m143eav-000IWsC@franz.stat.wisc.edu>
References: <m143eav-000IWsC@franz.stat.wisc.edu>
Message-ID: <m143lga-000IYBC@franz.stat.wisc.edu>

Hello,

Wed, 06 Dec 2000 22:25:11 +0900, 
	Miyamura Masashi <kightjp at livedoor.com> wrote

>Wed, 6 Dec 2000 12:02:51 +0100, 
>	HAKIM Nour-Eddine <noureddine.hakim at axa-corporatesolutions.com> wrote
>
>>I want to import Excel data (.XLS). Can you help me to this.
>
>I use Excel data.
>
>save as CVS File (.cvs)

Sorry, I mean "CSV".
------
miyamura masashi (@_@;

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Wed Dec  6 23:08:26 2000
From: gb at stat.umu.se (gb)
Date: Wed, 6 Dec 2000 23:08:26 +0100 (CET)
Subject: [R] Simulation
In-Reply-To: <Pine.LNX.4.30.0012061348550.7256-100000@tal.stat.umu.se>
Message-ID: <Pine.LNX.4.30.0012062258240.8063-100000@tal.stat.umu.se>


I got answers from Peter D., Ben Bolker, and Yudi Pawitan:

Peter's suggestion:
tabulate(sample(n, k, replace = T), n)
'tabulate' was what I couldn't find!

Yudi's is in the same spirit:
table(ceiling(n*runif(k)))
Change that to 'tabulate(ceiling(n*runif(k)), n)'
and I also get what I want.

Ben's
rmulti<-function (n, size, prob)
[............] (see his letter)

is much slower for _one_ replicate (n=1), but it vectorizes
and performs very well for large  n (note that Peter's and
Yudi's  'n'  is  'length(prob)'  in Ben's function).
And it puts no restriction on 'prob'.

We can however generalize  'sample' to
tabulate(sample(n, k, replace = T, prob = p), n)
but the vectorization is still to be done.

Many thanks to the three of you!

G?ran

Original question:

> I want to draw a random sample Y_1, ..., Y_n, iid Poisson,
> but condition on their sum being equal to  k. Two
> suggestions:
>
> 1)   lambda <- k / n ## optimal value
>      ysum <- -1
>      while (ysum != k){
>         y <- rpois(n, lambda)
>         ysum <- sum(y)
>      }
>      y
>
> 2) Aiming at Multinom(k, 1/n, ..., 1/n):
>
>    y <- as.vector(table(factor(sample(n, k, replace = T), levels = 1:n)))
>
> 1) seems to be faster than 2), but my question is whether there is
> something even better?  'sample' is fast enough, but how can I do
> the rest (factor, table) smarter in 2)?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Thu Dec  7 00:14:35 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Wed, 6 Dec 2000 18:14:35 -0500 (EST)
Subject: [R] Re: R or Splus
In-Reply-To: <E143eTm-0007Zs-00@cpca7.uea.ac.uk>
Message-ID: <Pine.LNX.4.30.0012061758300.1316-100000@bolker.zoo.ufl.edu>

On Wed, 6 Dec 2000 J.Brainard at uea.ac.uk wrote:

> When I had said:
> >> R can't handle files named x.  If I can use Splus, should I just do that?
>
> RG added:
>   >This is simply untrue. Perhaps you could read those discussions
>   >somewhat more carefully.
>
> There was definitely a recent message to the effect that someone was
> trying to do something with an object named 'x', and the reply came
> back that it wasn't possible -- there was a bug that prevented
> one calling an object x and using the desired function.
> Was the function glm, perhaps?
> I've overwritten that message, now, so can't quote directly.

http://www.ens.gu.edu.au/robertk/R/help/00b/1925.html

It was a problem with data frames (not 'files') named 'x'.

I may be stating the obvious, but I think some people on this list may
have taken exception at the tone of your first message which had (whether
intentionally or not) a tone of "R doesn't work, what are you going to do
about it?"  No-one gets paid to develop R, they don't care whether you use
R or not; most people who have used R have (I would guess) had a very good
experience.

  It may be that you got stuck with an old version, but the kinds of
problems you described sounded odd indeed, as though there was something
else wrong.  The more detail you can give about the version you are using
(see ?bug.report) and what you tried to do, with simple examples that
other people can run if possible, the more likely you are to get help.

> G.Janacek at uea.ac.uk said:
> > UEA runs both  R and Splus. The Splus license in on the Unix boxes.
> >The version of R os  I am told a buggy one and the current one is
> >better.
>
> I think this explains a lot about my situation.  It's version 0.90.1 of R
> on DEC alphas I've been trying to use.  And I was misinformed
> when told we didn't have Splus any more (arrrrrrrrrgggg)
>
>
> However... I could become an R convert if I'm told it's
>
> a) mind-bogglingly simple to install on Win Nt
>    there are firm limits to my geek credentials

  It's really very simple -- there's an installer that takes just a few
mouse clicks.  I've done it in ten minutes, and I'm not much of an NT
person.

> b) can handle cluster analysis with 2000 records (mclust, preferred,
>    although I'd take kmeans if nec'y).  Splus 5.0 on the
>    Manchester Cray has been falling over on this, much to my great
>    annoyance, no matter how large a workspace I give mclust, hclust
>    or kmeans, etc.

  There is an mclust package on CRAN
(http://cran.r-project.org/src/contrib/PACKAGES.html#mclust), I don't have
any idea what the memory limitations are.  Do you know enough about the
clustering algorithm (I don't) to know if this kind of analysis would
involve mindbogglingly large matrices that would choke any system?

S+Spatialstats is not the ARCview interface, but a variety of functions
for spatial analysis.  Much of the functionality can probably be gotten by
cobbling together freely available packages (splancs, the spatial package
from Venables and Ripley, sgeostat, etc.) or written from scratch, but it
does provide some extra functionality.

> I guess you mean the Arc-S+ links?  The 8 or 9 functions they
> were flogging about 5 years ago or so for 800 quid or so?
> (That's $ 11000 or so to the Yanks).

  Order of magnitude problem in the currency conversion here?

> What I'm saying is, it really may be a waste of money to get the
> Spatial modules.

Take a look before you decide this:
  http://www.splus.mathsoft.com/products/spatial/spatialintro.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From markhall at gol.com  Thu Dec  7 01:51:44 2000
From: markhall at gol.com (markhall@gol.com)
Date: Thu, 7 Dec 2000 09:51:44 +0900
Subject: [R] mclust was Re: R or Splus
Message-ID: <E143pHk-0003dR-00@smtp01.fields.gol.com>

> > However... I could become an R convert if I'm told it's
> >
> > a) mind-bogglingly simple to install on Win Nt
> >    there are firm limits to my geek credentials
> > b) can handle cluster analysis with 2000 records (mclust, preferred,
> >    although I'd take kmeans if nec'y).  Splus 5.0 on the
> >    Manchester Cray has been falling over on this, much to my great
> >    annoyance, no matter how large a workspace I give mclust, hclust
> >    or kmeans, etc.
> 
>   There is an mclust package on CRAN
> (<a href="http://cran.r-
project.org/src/contrib/PACKAGES.html#mclust),">http://cran.r-
project.org/src/contrib/PACKAGES.html#mclust),</a>I don't have
> any idea what the memory limitations are.  Do you know enough about the
> clustering algorithm (I don't) to know if this kind of analysis would
> involve mindbogglingly large matrices that would choke any system?
> 

Its hard to say from the information you give.  I would suggest you read the 
technical reports produced by Fraley and Raferty which are freely available 
from the Univ. of Washington Stats Dept. web site.  Most recently, is their 
Technical Report 380 entitled "Model-Based Clustering, Discriminant Analysis, 
and Density Estimation."  In part to answer your question, it isn't a matter or 
R versus S, but in terms of the number of variables and the model you are 
trying to fit.  Take a look at some of Fraley and Raferty's stuff.

Best, Mark Hall




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From harald.binder at web.de  Thu Dec  7 07:58:12 2000
From: harald.binder at web.de (Harald Binder)
Date: Wed, 6 Dec 2000 22:58:12 -0800
Subject: [R] Compiling R for MacOS X / shared libraries
Message-ID: <m143v0P-005EDfC@smtp.web.de>

Hi,

I just try to compile R (1.1.1) for MacOS X (using the --without-X option as X stuff won't work here)

It seems that there are some problems with 'shared libraries'.

'./configure' printed:
checking how to deal with shared libraries... /usr/X11R6/bin/xmkmf: command not found: imake [56]

'make' ran into trouble with this:
cc -I. -I../../src/include -I../../src/include -I../../src/include/R_ext -I/usr/local/include -DHAVE_CONFIG_H   -g -O2 -c platform.c -o platform.o
platform.c:38: parse error before `.'
make[3]: *** [platform.o] Error 1

after I changed in 'platform.c' the line:
static char *R_DynLoadExt = DYNLOADEXT;
to
static char *R_DynLoadExt = "";/*DYNLOADEXT;*/

the make process got a little bit further until:

cc   -o ../../bin/R.bin apply.o arithmetic.o array.o attrib.o bind.o builtin.o character.o coerce.o colors.o complex.o context.o cov.o cum.o debug.o devPS.o devPicTeX.o deparse.o deriv.o devices.o dotcode.o dstruct.o duplicate.o envir.o errors.o eval.o format.o fourier.o g_her_glyph.o g_fontdb.o g_cntrlify.o g_alab_her.o gram.o gram-ex.o graphics.o iosupport.o list.o logic.o main.o match.o memory.o model.o names.o objects.o optim.o optimize.o options.o par.o paste.o platform.o plot.o plot3d.o plotmath.o print.o printarray.o printvector.o printutils.o random.o RNG.o regex.o relop.o saveload.o scan.o seq.o sort.o source.o split.o subassign.o subscript.o subset.o summary.o unique.o util.o version.o xxxpr.o ../unix/libunix.a ../appl/libappl.a ../nmath/libmath.a -L/usr/local/lib  -lncurses  
/usr/bin/ld: Undefined symbols:
_i_len
_d_sign
make[3]: *** [../../bin/R.bin] Error 1

Here I didn't manage to make changes the would let me go on (e.g. I looked for configure-switches for shared libraries, which could be somehow responsible for the problems, but I couldn't find anything appropriate)

Has anybody suggestions what I could do to that problem?

Thank you!

Harald
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kruohone at yahoo.com  Thu Dec  7 07:29:11 2000
From: kruohone at yahoo.com (Kari Ruohonen)
Date: Thu, 7 Dec 2000 08:29:11 +0200 (EET)
Subject: [R] Re: none
In-Reply-To: <x2puj5g4q9.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.21.0012070827280.765-100000@trane.toimela.oma>

It is not necessary to have excel if you are running Linux. Gnumeric can
read excel files and you can transform the files to text there.

----------------------------------------------
Kari Ruohonen
Finnish Game and Fisheries Research Institute
Socioeconomic and Aquaculture Research

Evo Fisheries Research Station
16970 Evo, Finland
tel. +358-20-5751430, +358-40-5238321 (mobile)
fax  +358-20-5751429

http://www.rktl.fi

On 6 Dec 2000, Peter Dalgaard BSA wrote:

> It's difficult without going via a text file, so you need to have
> Excel on the machine. This is what I have been telling students
> (part of the information is described for SPSS, so you get that as
> well):
> 








_________________________________________________________
Do You Yahoo!?
Get your free @yahoo.com address at http://mail.yahoo.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Thu Dec  7 09:45:04 2000
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Thu, 07 Dec 2000 09:45:04 +0100
Subject: [R] Update HTML help index under Windows
Message-ID: <3.0.32.20001207094504.00910150@162.38.183.200>

At 11:12 06/12/00 -0800, you wrote:
>
>Hi, I recently updated my Windows version of R from 1.1.0 to 1.1.1. The
>way I updated it was just removing old version and installing a new one.
>However, I still kept the libraries installed under the old version of
>R. I can use them fine (with library() command) but can't see the index in
>the HTML help file (when use help.start()). I do have compiled HTML files
>installed.
>
>Is there a way to update the help index automatically under Windows? I am
>using Win2K.
>
>Thanks.
>
>Michael

Try:

link.html.help()

(but I've got simple html, not chtml)

Emmanuel
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cap at chemsain.com  Thu Dec  7 10:10:25 2000
From: cap at chemsain.com (Chemsain Konsultant Sdn Bhd)
Date: Thu, 7 Dec 2000 17:10:25 +0800
Subject: [R] TCL TO R
Message-ID: <000801c0602d$8cc9bcc0$4a378ea1@pcp>

I have encountered problems with loading R from TCL/TK application when i run "exec ~path/rterm.exe --no-save" in the TCL/TK console. The error message is "Runtime error! program: c:\...RTERM.EXE"
"abnormal Program Termination"

and when i click ok, this error came out
"This program has performed an illegal operation and will shut down. If the problem persists, contact the program vendor"

With the R software version 1.1.1, i can load tcltk library and call tcl functions. My question is, Can I call R from TCLTK interface and run TCLTK from R?

Have you ever encounter this problem and do you have any idea what is the solution to this problem? Please reply if you know how to solve this problems. Thanks

Regards,
Lawrence
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20001207/4a5a5a39/attachment.html

From cit at chemsain.com  Thu Dec  7 10:11:26 2000
From: cit at chemsain.com (Chemsain Konsultant Sdn Bhd)
Date: Thu, 7 Dec 2000 17:11:26 +0800
Subject: [R] TCL to R
Message-ID: <000801c0602d$b1aeed80$4a378ea1@pcp>

I have encountered problems with loading R from TCL/TK application when i run "exec ~path/rterm.exe --no-save" in the TCL/TK console. The error message is "Runtime error! program: c:\...RTERM.EXE"
"abnormal Program Termination"

and when i click ok, this error came out
"This program has performed an illegal operation and will shut down. If the problem persists, contact the program vendor"

With the R software version 1.1.1, i can load tcltk library and call tcl functions. My question is, Can I call R from TCLTK interface and run TCLTK from R?

Have you ever encounter this problem and do you have any idea what is the solution to this problem? Please reply if you know how to solve this problems. Thanks

Regards,
Lawrence
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20001207/fae875c4/attachment.html

From cap at chemsain.com  Thu Dec  7 10:10:25 2000
From: cap at chemsain.com (Chemsain Konsultant Sdn Bhd)
Date: Thu, 7 Dec 2000 17:10:25 +0800
Subject: [R] TCL TO R
Message-ID: <000901c0602d$b41bf5e0$4a378ea1@pcp>

I have encountered problems with loading R from TCL/TK application when i run "exec ~path/rterm.exe --no-save" in the TCL/TK console. The error message is "Runtime error! program: c:\...RTERM.EXE"
"abnormal Program Termination"

and when i click ok, this error came out
"This program has performed an illegal operation and will shut down. If the problem persists, contact the program vendor"

With the R software version 1.1.1, i can load tcltk library and call tcl functions. My question is, Can I call R from TCLTK interface and run TCLTK from R?

Have you ever encounter this problem and do you have any idea what is the solution to this problem? Please reply if you know how to solve this problems. Thanks

Regards,
Lawrence
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20001207/0b4065c1/attachment.html

From zivan.karaman at limagrain.com  Thu Dec  7 10:55:50 2000
From: zivan.karaman at limagrain.com (zivan.karaman@limagrain.com)
Date: Thu, 7 Dec 2000 10:55:50 +0100
Subject: [R] Re: Importing Excel .xls into R
Message-ID: <C12569AE.0036BAF3.00@limagrain.ftgin.com>


One  can  import  data  from  Excel  ODBC  source,  but  of  course it is user's
responsibility  to  ensure  that  the data are consistent. Each worksheet in the
Excel  workbook  can be accessed as a table (for example, for Sheet1, you should
type  "select  * from [Sheet1$]". The worksheet should have first row containing
the  column  names,  and  the data rows should follow (the data should be in the
form  that  is  like  in the output of write.table with column names). Using the
package  RODBC  version  0.7-2,  the  empty cells are NOT transformed to NA, but
there is a new version of RODBC available that I didn't try yet.

Best

Zivan






Douglas Bates <bates at stat.wisc.edu> le 06/12/2000 19:17:51

Pour :    Alexandre Fayolle <Alexandre.Fayolle at logilab.fr>
cc :  "Richard A. Bilonick" <rab at nauticom.net>, HAKIM Nour-Eddine
      <noureddine.hakim at axa-corporatesolutions.com>, "'R-help at r-project.org'"
      <R-help at r-project.org> (ccc : Zivan KARAMAN/LMGC/Limagrain)
Objet :   Re: [R] Re: Importing Excel .xls into R




Alexandre Fayolle <Alexandre.Fayolle at logilab.fr> writes:

> On Wed, 6 Dec 2000, Richard A. Bilonick wrote:
>
> > I don't believe there is any direct way of doing this.
>
> Isn't is possible to access an Excell document via ODBC ?

I know you can go the other way and import a table from an ODBC
connection into an Excel spreadsheet.  I did that recently.

For this kind of exchange Excel is the client on the ODBC connection.
I would be surprised if one were able to transfer data the other way
by making Excel function as an ODBC server. Excel doesn't seem to have
a way of enforcing consistency in the contents of cells in a column
and consistency in columns is important for many other systems that
can use ODBC connections.  In some ways consistent storage and
interpretation for all the elements of a column is the defining
feature of a relational database table.




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kr283138 at rcs.urz.tu-dresden.de  Thu Dec  7 12:09:25 2000
From: kr283138 at rcs.urz.tu-dresden.de (Karsten Rinke)
Date: Thu, 07 Dec 2000 12:09:25 +0100
Subject: [R] pictex device
Message-ID: <3A2F6FE5.F2627D49@rcs.urz.tu-dresden.de>

dear R users,

I got a problem in using the pictex device for graphics. It seems to me
that R uses some special commands, because my LaTex (Miktex, latest
version) didn?t know the used syntax (e.g. the comand
"setcoordinatesystem").
Is there a special .sty-file for the usage of pictex files created by R?
If so, where can I receive it?


best
Karsten
-- 


_____________________________________________________________________

Karsten Rinke 

Technische Universit?t Dresden     Tel: (0)351-463-5612
Institut fuer Hydrobiologie        Fax: (0)351-463-7108
D-01062 Dresden, Germany           

mailto:karsten.rinke at mailbox.tu-dresden.de
http://rcswww.urz.tu-dresden.de/~kr283138/engl.html
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Thu Dec  7 12:52:17 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Thu, 7 Dec 2000 06:52:17 -0500
Subject: [R] RE: 
In-Reply-To: <000a01c05f95$1ff74b00$0a00a8c0@bellview>
Message-ID: <NEBBJKDHAKDADAGMEBLGOEDMCAAA.cyg@sympatico.ca>



> -----Message d'origine-----
> De : owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]De la part de Federico Spinazzi
> Envoy? : Wednesday, December 06, 2000 9:59 AM
> ? : r-help at stat.math.ethz.ch
> Objet : R: [R] RE:
>
>
> A trick I use is to give tab-delimited text files created by
> excel or R the
> .xls extension: this may apply, and it may be better, to CSV:
> R couldn't see any difference whichever the extension will be, and windows
> will be foolished by the .xls extension an will open the file with Excel
> that will handel it CORRECTLY.

I would have tought that it was common knowledge that a file with a .csv
extention under windows, mean a file with comma separated values. Excel
knows how to handle many types of data files and a CSV file is just one of
these types.


> If you need to have the data always alligned in Excel and R this
> trick will
> allow to bypass the manual operation of a "Save As" dialog.

The CSV extention would procure the same effect.

>
> Another option could be to use RODBC with a datasource set to an
> Excel File:
> as you see tha above trick don't scale well as you can have your
> own graphs
> an pivot tables in the excel file and you cannot susbtitute this
> with a text
> file.

If you mean that using RODBC with standard Excel file would prevent you from
having pivot table and/or graphs and/or whatever other data structure Excel
can provide, in those same files then your wrong.

BTW you could also use RODBC directly with CSV files if you have the RODBC
text driver of course.

I hope this clarify both of our original message.

Regards

Yves Gauvreau

>
> Hope that helps.
> Federico Spinazzi
> spinazzi at databankgroup.it
> Databank S.P.A
> Via Spartaco, 19, ITALY
> Tel. + 39 02 55002251
>
> -----Messaggio originale-----
> Da: Yves Gauvreau <cyg at sympatico.ca>
> A: HAKIM Nour-Eddine <noureddine.hakim at axa-corporatesolutions.com>;
> R-help at r-project.org <R-help at r-project.org>
> Data: mercoled? 6 dicembre 2000 14.14
> Oggetto: [R] RE:
>
>
> >From Excel save your data as a *.csv and then use "read.csv" to
> read it in
> R
> >workspace.
> >
> >YG
> >
> >-----Message d'origine-----
> >De : owner-r-help at stat.math.ethz.ch
> >[mailto:owner-r-help at stat.math.ethz.ch]De la part de HAKIM Nour-Eddine
> >Envoy? : Wednesday, December 06, 2000 6:03 AM
> >? : 'R-help at r-project.org'
> >Objet :
> >
> >
> >Dear ,
> >
> >I want to import Excel data (.XLS). Can you help me to this.
> >
> >Best regards.
> >
> >Nour-Eddine HAKIM
> >
> >
> >-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> .-.-.-.-.-
> .
> >-.-
> >r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> >Send "info", "help", or "[un]subscribe"
> >(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> ._._._._._
> .
> >_._
> >
> >-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> .-.-.-.-.-
> .-.-
> >r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> >Send "info", "help", or "[un]subscribe"
> >(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> ._._._._._
> ._._
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From T.Yee at bristol.ac.uk  Thu Dec  7 12:20:55 2000
From: T.Yee at bristol.ac.uk (Thomas W Yee)
Date: Thu, 7 Dec 2000 11:20:55 GMT
Subject: [R] Announcing (R-version): smart prediction
Message-ID: <200012071120.LAA12753@bayes.maths.bris.ac.uk.>


Dear Everybody,

Version 0.5 of the smart prediction library smartpred is now
available.

The smartpred library consists of some modified existing and new
functions to fix a problem relating to the modelling functions lm and
glm. The modified versions now remember the "parameters" of special
smartened functions (bs, ns, scale and poly are supplied). We call this
"smart" prediction. The parameters are saved on the fitted model
object, and are retrieved when predictions are made from the model.
Users can easily smarten their own functions - guidelines are given.
Another problem (or better, inconvenient convention) of lm not handling
factors conveniently is also rectified in some older versions of
S-PLUS (3.x, 5.x).

Currently, versions are available for S-PLUS 2000 for Windows, 5.x and
3.x. Also for R 1.0.

The code can be obtained from

      http://www.stat.auckland.ac.nz/PEOPLE/yee/smartpred/index.shtml

- Thomas Yee (yee at stat.auckland.ac.nz)
- Trevor Hastie (hastie at stat.Stanford.EDU) 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From J.Brainard at uea.ac.uk  Thu Dec  7 13:14:56 2000
From: J.Brainard at uea.ac.uk (J.Brainard@uea.ac.uk)
Date: Thu, 07 Dec 2000 12:14:56 +0000
Subject: [R] Re: R or Splus 
Message-ID: <E143zwu-0000wp-00@cpca7.uea.ac.uk>


:> When I had said:
:> >> R can't handle files named x.  If I can use Splus, should I just do that?

to which I've had the reply (sorry lost attribution but this mailer
is cack for handling mailing lists):

:It was a problem with data frames (not 'files') named 'x'.

ah, well, my typo in the original post.


:I may be stating the obvious, but I think some people on this list may
:have taken exception at the tone of your first message which had (whether
:intentionally or not) a tone of "R doesn't work, what are you going to do
:about it?"  

then that I will apologise for -- the tone of my message was meant to be --
"I'm having problems and is that normal?"


:No-one gets paid to develop R, they don't care whether you us

I realise it's a labour of love and am greatly impressed by the folk
who have devised & maintain it.  In no way did I mean to sound like I was
'blaming' anybody for my problems.  I wasn't looking for a
solution to my technical probs but rather trying to find out more
about whether it would be worth my while to continue using R.

Honest.  Sometimes you have to read messages literally.

Don't worry -- I'm unsubscribing -- you'll all be rid of me.  -julii 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Heberto at meakins.lan.mcgill.ca  Thu Dec  7 14:14:02 2000
From: Heberto at meakins.lan.mcgill.ca (Heberto Ghezzo)
Date: Thu, 7 Dec 2000 09:14:02 -0400
Subject: [R] printing
Message-ID: <200012071407.eB7E7NZ20811@water.cc.mcgill.ca>

Hello
 I need some help in printing some means crossclasified
by 2 or 3 other variables. I wrote 2 simple functions, xt and 
xtabmean.
Now xt has an unclear print out and adds a NULL at the end of each 
line that I do not know where it comes from.
xtabmean has a neater print out but...

> j<-rep(1:4,9)
> i<-rep(1:3,12)
> x<-rnorm(36)
> xt(x,i,j)
1   1   -0.5675582 1.224832 3NULL
1   2   0.1040071 1.411071 3NULL
1   3   0.1230299 0.7261805 3NULL
1   4   -0.3992837 0.7206155 3NULL
2   1   -1.061823 0.8568403 3NULL
2   2   0.5460621 0.9337556 3NULL
2   3   0.06103977 0.8620043 3NULL
2   4   -0.4616834 1.071529 3NULL
3   1   0.3307771 0.7646795 3NULL
3   2   0.2904226 0.6446345 3NULL
3   3   0.1830588 0.7805733 3NULL
3   4   0.3428314 1.164575 3NULL

> xtabmean(x,i,j)
, , 1
      1          2          3         
Mean       -0.57      -1.06       0.33
S.Dev       1.22       0.86       0.76
n           3.00       3.00       3.00

, , 2
      1          2          3         
Mean        0.10       0.55       0.29
S.Dev       1.41       0.93       0.64
n           3.00       3.00       3.00

, , 3
      1          2          3         
Mean        0.12       0.06       0.18
S.Dev       0.73       0.86       0.78
n           3.00       3.00       3.00

, , 4
      1          2          3         
Mean       -0.40      -0.46       0.34
S.Dev       0.72       1.07       1.16
n           3.00       3.00       3.00

Now if I create some NAs so a cell is empty

> i[i==2 & j==3] <- NA
> xtabmean(x,i,j)
, , 1
      1          2          3         
Mean       -0.57      -1.06       0.33
S.Dev       1.22       0.86       0.76
n           3.00       3.00       3.00

, , 2
      1          2          3         
Mean        0.10       0.55       0.29
S.Dev       1.41       0.93       0.64
n           3.00       3.00       3.00

, , 3
      1          2          3         
Mean        0.12       0.18      -0.40
S.Dev       0.73       0.78       0.72
n           3.00       3.00       3.00

, , 4
      1          2          3         
Mean       -0.46       0.34      -0.57
S.Dev       1.07       1.16       1.22
n           3.00       3.00       3.00

> 
as you can see xtabmean jumps over the cell with zero obs and
prints the rest out of sinc. The last obs 3,4 is the same as the first

> xt(x,i,j)
1   1   -0.5675582 1.224832 3NULL
1   2   0.1040071 1.411071 3NULL
1   3   0.1230299 0.7261805 3NULL
1   4   -0.3992837 0.7206155 3NULL
2   1   -1.061823 0.8568403 3NULL
2   2   0.5460621 0.9337556 3NULL
2   3  NULL
2   4   -0.4616834 1.071529 3NULL
3   1   0.3307771 0.7646795 3NULL
3   2   0.2904226 0.6446345 3NULL
3   3   0.1830588 0.7805733 3NULL
3   4   0.3428314 1.164575 3NULL
> 

xt though computes properly the means but I would like to
format the output as that from xtabmean, and get rid of those NULL.
Can anybody offer some help?

My version of the functios are:
xt <- function(v,b,c) {
 a<-by(v,list(c,b),fun)
 k<-0
 ab <- b[!is.na(b)]
 ac <- c[!is.na(c)]
 for(i in 1:length(unique(ab)))
   for(j in 1:length(unique(ac)))
     {k<- k+1; print(cat(i," ",j," ",a[[k]][1],a[[k]][2],a[[k]][3]))}
}

xtabmean <- function(y,i,j=1,k=1)
{
  fun <- function(x)
    c(mean(x,na.rm=T),sd(x,na.rm=T),length(x))
#
  ii<- i[!is.na(i)]
  jj <- j[!is.na(j)]
  kk <- k[!is.na(k)]
#  
  li <- length(unique(ii))
  lj <- length(unique(jj))
  lk <- length(unique(kk))
#
  if((lj>1) && (lk>1)){
    t <- tapply(y,list(i,j,k),fun)
    a <- array(c(t,recursive=T),c(3,li,lj,lk))
    dimnames(a) <- list(c("Mean","S.Dev","n"),1:li,1:lj,1:lk)
  } 
  if(lj>1 && lk==1){
    t <- tapply(y,list(i,j),fun)
    a <- array(c(t,recursive=T),c(3,li,lj))
    dimnames(a) <- list(c("Mean","S.Dev","n"),1:li,1:lj)
  }
  if(lj==1){
    t <- tapply(y,i,fun)
    a <- array(c(t,recursive=T),c(3,li))
    dimnames(a) <- list(c("Mean","S.Dev","n"),1:li)
  }
  a <- formatC(a,digits=2,width=10,"f")
  print(a, quote=F)
}

Thanks for your help.

R. Heberto Ghezzo  Ph.D.
Meakins-Christie Labs
McGill University
Montreal - Canada
heberto at meakins.lan.mcgill.ca
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Alexandre.Fayolle at logilab.fr  Thu Dec  7 15:38:33 2000
From: Alexandre.Fayolle at logilab.fr (Alexandre Fayolle)
Date: Thu, 7 Dec 2000 15:38:33 +0100 (CET)
Subject: [R] RE: 
In-Reply-To: <NEBBJKDHAKDADAGMEBLGOEDMCAAA.cyg@sympatico.ca>
Message-ID: <Pine.LNX.4.21.0012071535500.3127-100000@leo.logilab.fr>

On Thu, 7 Dec 2000, Yves Gauvreau wrote:

> I would have tought that it was common knowledge that a file with a .csv
> extention under windows, mean a file with comma separated values. Excel
> knows how to handle many types of data files and a CSV file is just one of
> these types.

Be careful to mind your internationalisation settings, though. On a french
installation of windows, for example, the default decimal separator is the
comma (','), and a csv file will use a semi-colon (';') as a separator
(which can cause errors of read on a another machine with different
parameters).

Alexandre Fayolle
-- 
http://www.logilab.com 
Narval is the first software agent available as free software (GPL).
LOGILAB, Paris (France).

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Dec  7 16:19:20 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 Dec 2000 16:19:20 +0100
Subject: [R] RE:
In-Reply-To: Alexandre Fayolle's message of "Thu, 7 Dec 2000 15:38:33 +0100 (CET)"
References: <Pine.LNX.4.21.0012071535500.3127-100000@leo.logilab.fr>
Message-ID: <x2u28g5kef.fsf@blueberry.kubism.ku.dk>

Alexandre Fayolle <Alexandre.Fayolle at logilab.fr> writes:

> On Thu, 7 Dec 2000, Yves Gauvreau wrote:
> 
> > I would have tought that it was common knowledge that a file with a .csv
> > extention under windows, mean a file with comma separated values. Excel
> > knows how to handle many types of data files and a CSV file is just one of
> > these types.
> 
> Be careful to mind your internationalisation settings, though. On a french
> installation of windows, for example, the default decimal separator is the
> comma (','), and a csv file will use a semi-colon (';') as a separator
> (which can cause errors of read on a another machine with different
> parameters).

Danish settings will do that too as well as those of large parts of
continental Europe. Hence the existence of read.csv2() and in 1.2 also
read.delim2(). In fact some versions of Excel will write .csv in that
format and then try to use the comma as separator when reading the
file back in....

(And SAS uses '.' and ',' when im/exporting CSV irrespective of
locale, whereas SPSS uses ',' and ';' according to windows settings.
So over here they can't read eachothers CSV files without substantial
wand-waving. Sigh.)
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at geobot.umnw.ethz.ch  Thu Dec  7 16:14:54 2000
From: pflugshaupt at geobot.umnw.ethz.ch (Kaspar Pflugshaupt)
Date: Thu, 07 Dec 2000 16:14:54 +0100
Subject: [R] "split" argument in summary.aov?
Message-ID: <B65567FE.706E%pflugshaupt@geobot.umnw.ethz.ch>

Hello,

I have fitted a linear model containing one ordered factor with the "lm"
function, so R uses polynomial contrasts for it. When I view the summary,
the polynomial components of this factor are displayed. In the anova(...)
table, however, the factor just gets one line. In S-Plus (3.4 on Unix, I
looked up the manual), I can have the Sum of Squares split into the
polynomial components by using the "split=" argument to summary.aov(). In R
(as of V. 1.11), this feature seems to be missing.

Is this deliberate (are there reasons for the omission), or is it just not
(yet) implemented? If the latter is the case, does anybody have a formula to
calculate the split "by hand"? Or is there another R function for this
purpose that I overlooked?

Cheers & thanks

Kaspar Pflugshaupt

-- 

Kaspar Pflugshaupt
Geobotanisches Institut
Zuerichbergstr. 38
CH-8044 Zuerich

Tel. ++41 1 632 43 19
Fax  ++41 1 632 12 15

mailto:pflugshaupt at geobot.umnw.ethz.ch
privat:pflugshaupt at mails.ch
http://www.geobot.umnw.ethz.ch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From J.C.Rougier at durham.ac.uk  Thu Dec  7 16:49:22 2000
From: J.C.Rougier at durham.ac.uk (Jonathan Rougier)
Date: Thu, 7 Dec 2000 15:49:22 +0000 (GMT)
Subject: [R] Tuning the nlm function
Message-ID: <Pine.GSO.4.20.0012071541300.14553-100000@laplace>

Hi Everyone,

Is there a simple way to force nlm to take larger initial steps?  Setting
print.level = 2 allows me to inspect the step size at each iteration, but
I appear not to have made any appreciable impact on it by changing values
of typsize, fscale, steptol or stepmax.  The steps repeatedly come out
tiny, 1e-9 typically, and the algorithm is terminating not because the
gradient is zero (it is not, according to the numerical values) but
because the function value is not changing between iterations.  Am I
missing something obvious?

Many thanks, Jonathan.

Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Charles.Raux at let.ish-lyon.cnrs.fr  Thu Dec  7 17:12:21 2000
From: Charles.Raux at let.ish-lyon.cnrs.fr (Charles Raux)
Date: Thu, 7 Dec 2000 17:12:21 +0100
Subject: [R] plot of a cut
Message-ID: <54694CA0AA0@let.ish-lyon.cnrs.fr>

I have made a cut of a numeric vector and try to plot it. However 
only half of the x-axis annotations (the labels) appear on the plot, 
apparently because of the font size. I have tried cex.lab, cex.axis 
(what is the difference?) etc. The x labels are never printed 
whatever value I use from 0.0005 to 20.  I can't obtain a way to 
make all the labels appear correctly. Between the short help page of 
plot and the long help page of par, I can't manage. Need some 
help. Thanks.
> table(clage)
clage
  (0,10]  (10,15]  (15,19]  (19,25]  (25,35]  (35,45]  (45,60] 
  (60,70] 
    1207     1134      947     1477     2154     2095     2732    
    1353 
(70,100] 
     898 
> plot(clage)
> plot(clage,cex.lab=0.5)
> plot(clage,cex.lab=1.5)
> plot(clage,cex.lab=0.05)
> plot(clage,cex.lab=20.05)
> plot(clage,cex.axis=20.05)
> plot(clage,cex.axis=0.5)
.....
---------------
Charles RAUX,
Laboratoire d'Economie des Transports
CNRS-Universit? Lumi?re Lyon 2-ENTPE
email : charles.raux at let.ish-lyon.cnrs.fr
http://www.ish-lyon.cnrs.fr/let
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From noureddine.hakim at axa-corporatesolutions.com  Thu Dec  7 17:57:45 2000
From: noureddine.hakim at axa-corporatesolutions.com (HAKIM Nour-Eddine)
Date: Thu, 7 Dec 2000 17:57:45 +0100 
Subject: [R] Function ang?
Message-ID: <53829589BB93D4119B5800B0D03DCD21A009@EXGAGRP5>

Dear R users,

can any one tell what the function "ang" means ?

thx.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From e97249 at edu.essec.fr  Thu Dec  7 18:03:49 2000
From: e97249 at edu.essec.fr (Vincent Leycuras)
Date: Thu, 07 Dec 2000 18:03:49 +0100
Subject: [R] Heteroskedasticity in R
Message-ID: <4.2.0.58.20001207180338.00a4e220@edu.essec.fr>

Hi all,

I just discovered R a couple of days ago and I must say it rocks. I've been
looking for heteroskedasticity tests and couldn't find any, however.
Particularly, I've been told in one of my courses on econometrics of White's
method (>< white.test()).

The test's statistic is beta / sqrt(W), where W is Var(beta) "? la White",
that is the beta(i) matrix is replaced by the residuals matrix.

Anyway, whatever anybody may haev, I'm interested, else I'll write it this
week-end.

Bye!
Vincent.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From T.Yee at bristol.ac.uk  Thu Dec  7 12:20:55 2000
From: T.Yee at bristol.ac.uk (Thomas W Yee)
Date: Thu, 7 Dec 2000 11:20:55 GMT
Subject: [R] Announcing (R-version): smart prediction
Message-ID: <200012071120.LAA12753@bayes.maths.bris.ac.uk.>


Dear Everybody,

Version 0.5 of the smart prediction library smartpred is now
available.

The smartpred library consists of some modified existing and new
functions to fix a problem relating to the modelling functions lm and
glm. The modified versions now remember the "parameters" of special
smartened functions (bs, ns, scale and poly are supplied). We call this
"smart" prediction. The parameters are saved on the fitted model
object, and are retrieved when predictions are made from the model.
Users can easily smarten their own functions - guidelines are given.
Another problem (or better, inconvenient convention) of lm not handling
factors conveniently is also rectified in some older versions of
S-PLUS (3.x, 5.x).

Currently, versions are available for S-PLUS 2000 for Windows, 5.x and
3.x. Also for R 1.0.

The code can be obtained from

      http://www.stat.auckland.ac.nz/PEOPLE/yee/smartpred/index.shtml

- Thomas Yee (yee at stat.auckland.ac.nz)
- Trevor Hastie (hastie at stat.Stanford.EDU) 


>From majordom  Thu Dec  7 16:32:04 2000
X-VM-v5-Data: ([nil nil nil nil nil nil nil t nil]
	["1041" "Thursday" "7" "December" "2000" "16:32:04" "+0100" "owner-r-help at stat.math.ethz.ch" "owner-r-help at stat.math.ethz.ch" "<200012071532.QAA13059 at stat.math.ethz.ch>" "28" "BOUNCE r-help at stat.math.ethz.ch:     global taboo body match \"/[.\\s]+FREE\\b/\" at line 14  " "^From:" nil nil "12" "2000120715:32:04" "BOUNCE r-help at stat.math.ethz.ch: global taboo body match \"/[.\\s]+FREE\\b/\" at line 14" nil nil nil]
	nil)
Received: by stat.math.ethz.ch (8.9.1/8.9.1) id QAA13059;
	Thu, 7 Dec 2000 16:32:04 +0100 (MET)
Message-Id: <200012071532.QAA13059 at stat.math.ethz.ch>
From: owner-r-help at stat.math.ethz.ch
To: owner-r-help at stat.math.ethz.ch
Subject: BOUNCE r-help at stat.math.ethz.ch:     global taboo body match "/[.\s]+FREE\b/" at line 14  
Date: Thu, 7 Dec 2000 16:32:04 +0100 (MET)

>From owner-r-help  Thu Dec  7 16:32:00 2000
Received: (from daemon at localhost)
	by stat.math.ethz.ch (8.9.1/8.9.1) id QAA13049
	for <r-help at stat.math.ethz.ch>; Thu, 7 Dec 2000 16:31:59 +0100 (MET)
Received: from UNKNOWN(209.185.131.126), claiming to be "hotmail.com"
 via SMTP by hypatia, id smtpdAAAa003Bp; Thu Dec  7 16:31:49 2000
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Thu, 7 Dec 2000 07:31:47 -0800
Received: from 209.181.118.121 by lw1fd.hotmail.msn.com with HTTP;	Thu, 07 Dec 2000 15:31:47 GMT
X-Originating-IP: [209.181.118.121]
From: "Cole Harris" <cole_harris at hotmail.com>
To: r-help at stat.math.ethz.ch
Subject: [R] ICA package?
Date: Thu, 07 Dec 2000 09:31:47 -0600
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
Message-ID: <LAW-F63p68V8zDv60gx00002a6a at hotmail.com>
X-OriginalArrivalTime: 07 Dec 2000 15:31:47.0861 (UTC) FILETIME=[CFF89450:01C06062]

Does anyone know of an ICA package for R?

Thanks,

Cole


Problems worthy of attack prove their worth by hitting back.
--Piet Hein

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Dec  7 18:28:09 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 07 Dec 2000 18:28:09 +0100
Subject: [R] Heteroskedasticity in R
References: <4.2.0.58.20001207180338.00a4e220@edu.essec.fr>
Message-ID: <3A2FC8A9.94974080@statistik.uni-dortmund.de>



Vincent Leycuras wrote:
> 
> Hi all,
> 
> I just discovered R a couple of days ago and I must say it rocks. I've been
> looking for heteroskedasticity tests and couldn't find any, however.
> Particularly, I've been told in one of my courses on econometrics of White's
> method (>< white.test()).
> 
> The test's statistic is beta / sqrt(W), where W is Var(beta) "? la White",
> that is the beta(i) matrix is replaced by the residuals matrix.
> 
> Anyway, whatever anybody may haev, I'm interested, else I'll write it this
> week-end.

Have a look at the package 'tseries', available at CRAN.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Thu Dec  7 19:44:33 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Thu, 7 Dec 2000 13:44:33 -0500 (EST)
Subject: [R] Function ang?
In-Reply-To: <53829589BB93D4119B5800B0D03DCD21A009@EXGAGRP5>
Message-ID: <Pine.LNX.4.30.0012071342490.2314-100000@bolker.zoo.ufl.edu>


  It's not part of base R.  In what context did you come across it?  Are
you using someone else's R code?  If you type

ang

by itself you should get the definition of the function.  If that still
doesn't make sense you could try posting it to the list to see if anyone
can interpret it.  (But really, if someone else has written code you're
using, you might try asking them ...)

On Thu, 7 Dec 2000, HAKIM Nour-Eddine wrote:

> Dear R users,
>
> can any one tell what the function "ang" means ?
>
> thx.
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Thu Dec  7 19:49:40 2000
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Thu, 7 Dec 2000 19:49:40 +0100
Subject: [R] Compiling R for MacOS X / shared libraries
In-Reply-To: <m143v0P-005EDfC@smtp.web.de>
References: <m143v0P-005EDfC@smtp.web.de>
Message-ID: <14895.56260.716911.440445@mithrandir.hornik.net>

>>>>> Harald Binder writes:

> Hi,
> I just try to compile R (1.1.1) for MacOS X (using the --without-X option as X stuff won't work here)

> It seems that there are some problems with 'shared libraries'.

> './configure' printed:
> checking how to deal with shared libraries... /usr/X11R6/bin/xmkmf:
> command not found: imake [56]

That appears to be a problem with your installation.  xmkmf requires
imake.

> 'make' ran into trouble with this:
> cc -I. -I../../src/include -I../../src/include -I../../src/include/R_ext -I/usr/local/include -DHAVE_CONFIG_H   -g -O2 -c platform.c -o platform.o
> platform.c:38: parse error before `.'
> make[3]: *** [platform.o] Error 1

> after I changed in 'platform.c' the line:
> static char *R_DynLoadExt = DYNLOADEXT;
> to
> static char *R_DynLoadExt = "";/*DYNLOADEXT;*/

DYNLOADEXT should be defined using SHLIB_EXT which is determined by the
configure code that gave the above error.  What would be the right
extension for shared libraries on your system?

> the make process got a little bit further until:

> cc   -o ../../bin/R.bin apply.o arithmetic.o array.o attrib.o bind.o builtin.o character.o coerce.o colors.o complex.o context.o cov.o cum.o debug.o devPS.o devPicTeX.o deparse.o deriv.o devices.o dotcode.o dstruct.o duplicate.o envir.o errors.o eval.o format.o fourier.o g_her_glyph.o g_fontdb.o g_cntrlify.o g_alab_her.o gram.o gram-ex.o graphics.o iosupport.o list.o logic.o main.o match.o memory.o model.o names.o objects.o optim.o optimize.o options.o par.o paste.o platform.o plot.o plot3d.o plotmath.o print.o printarray.o printvector.o printutils.o random.o RNG.o regex.o relop.o saveload.o scan.o seq.o sort.o source.o split.o subassign.o subscript.o subset.o summary.o unique.o util.o version.o xxxpr.o ../unix/libunix.a ../appl/libappl.a ../nmath/libmath.a -L/usr/local/lib  -lncurses  
> /usr/bin/ld: Undefined symbols:
> _i_len
> _d_sign
> make[3]: *** [../../bin/R.bin] Error 1

> Here I didn't manage to make changes the would let me go on (e.g. I
> looked for configure-switches for shared libraries, which could be
> somehow responsible for the problems, but I couldn't find anything
> appropriate)

That I think indicates that the necessary Fortran libraries were not
determined.  

> Has anybody suggestions what I could do to that problem?

Can you send me the files config.log and config.cache you obtained by
running configure?

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Thu Dec  7 20:12:12 2000
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Thu, 7 Dec 2000 20:12:12 +0100 (MET)
Subject: [R] Reversing x-axis
Message-ID: <Pine.OSF.4.30.0012071942200.17539-100000@alnair.uio.no>

Dear all,

I'm making a system to create a star-chart, and I have encountered one of
the intuitive and clearly thoughtful conventions that are so common in
astronomy :-J... Well, the point being, I have to reverse the x-axis.
I figured, I might just set xlim=rev(range(x)). Do e.g.
> x <- 0:5
> y <- (0:5)^3
> plot(x, y)
> plot(x, y, xlim=rev(range(x)))
The problem is that here (R-1.1.1.1, osf4.0e), the numbers on the axis
doesn't come out right when I do this. Only the last tick mark has a
number, namely min(x). Is this a bug or a feature?

Anybody have a good workaround? I've tried (for this example)
axis(1, rev(x), rev(x))

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster at skepsis.no

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Thu Dec  7 22:52:16 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Thu, 7 Dec 2000 16:52:16 -0500 (EST)
Subject: [R] Reversing x-axis
In-Reply-To: <Pine.OSF.4.30.0012071942200.17539-100000@alnair.uio.no>
Message-ID: <Pine.LNX.4.30.0012071632490.2666-100000@bolker.zoo.ufl.edu>


http://www.ens.gu.edu.au/robertk/R/devel/00b/0206.html
http://www.ens.gu.edu.au/robertk/R/devel/00a/0419.html

  At this time, you have to do something like

x <- rnorm(100)
y <- rnorm(100)
plot(max(x)-x,max(y)-y,axes=FALSE)
xlabvals <- pretty(x,5)
ylabvals <- pretty(y,5)
axis(side=1,at=max(x)-xlabvals,labels=xlabvals)
axis(side=2,at=max(y)-ylabvals,labels=ylabvals)

  I think it's time to put this one in the FAQ ... (although, again, I
don't know if I would have found it just searching the archives if I
hadn't remembered that it was there in the first place).


-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ReddinM at prose.dpi.qld.gov.au  Fri Dec  8 01:08:41 2000
From: ReddinM at prose.dpi.qld.gov.au (Redding, Matthew)
Date: Fri, 8 Dec 2000 10:08:41 +1000 
Subject: [R] Sans Serif Fonts?
Message-ID: <FB599DB5ACE2D211887500A0C9D334E40B1549@TBACRMEXH001>

Hi All, 

I am preparing a few plots for publication.  Unfortunately the journal
requires figures to have all text in a sans serif fonts.

I realise that there is support for the use of Hershey vector fonts in the
function TEXT, 
but how do I get the text on axes to be sans serif?
For example, the labels and axis values produced from this line of code:

plot(SolPC, SorbPC, ylab="Sorbed P (mg/kg)",cex.lab=1.3,xlab="Solution P
(mg/L)", tcl=0.3,mgp=c(2,1,0),axes=FALSE, xlim=c(0,35), ylim=c(0,100))

Is the only way to tackle the problem to leave the plot bare of numbers and
labels, then put them in with manual text commands?

Any help would be greatly appreciated.

Thanks, 

Matt Redding
Soil Scientist
Intensive Livestock Environmental Management-Research
Department of Primary Industries, Queensland
Australia.  ph 61 7 46 881372
	fax 61 7 46 881192
	reddinm at dpi.qld.gov.au
            http://www.dpi.qld.gov.au/ilems


********************************DISCLAIMER****************************
The information contained in the above e-mail message or messages 
(which includes any attachments) is confidential and may be legally 
privileged.  It is intended only for the use of the person or entity 
to which it is addressed.  If you are not the addressee any form of 
disclosure, copying, modification, distribution or any action taken 
or omitted in reliance on the information is unauthorised.  Opinions 
contained in the message(s) do not necessarily reflect the opinions 
of the Queensland Government and its authorities.  If you received 
this communication in error, please notify the sender immediately and 
delete it from your computer system network.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Dec  8 01:33:01 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 08 Dec 2000 01:33:01 +0100
Subject: [R] Sans Serif Fonts?
In-Reply-To: "Redding, Matthew"'s message of "Fri, 8 Dec 2000 10:08:41 +1000"
References: <FB599DB5ACE2D211887500A0C9D334E40B1549@TBACRMEXH001>
Message-ID: <x2vgsv4urm.fsf@blueberry.kubism.ku.dk>

"Redding, Matthew" <ReddinM at prose.dpi.qld.gov.au> writes:

> I am preparing a few plots for publication.  Unfortunately the journal
> requires figures to have all text in a sans serif fonts.

Windows, right? (On Unix/Linux, Helvetica is used which *is* sans
serif).

Two solutions:

(a) use the postscript driver, print using Ghostscript.

(b) edit the file etc\Rdevga making the first four entries

TT Arial : plain
TT Arial : bold
TT Arial : italic
TT Arial : bold&italic

(or wait for R v 1.2.0 next Friday which has this as the default...)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Fri Dec  8 01:29:25 2000
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Fri, 8 Dec 2000 13:29:25 +1300
Subject: [R] Reversing x-axis
In-Reply-To: <Pine.LNX.4.30.0012071632490.2666-100000@bolker.zoo.ufl.edu>; from ben@zoo.ufl.edu on Thu, Dec 07, 2000 at 04:52:16PM -0500
References: <Pine.OSF.4.30.0012071942200.17539-100000@alnair.uio.no> <Pine.LNX.4.30.0012071632490.2666-100000@bolker.zoo.ufl.edu>
Message-ID: <20001208132925.A15111@stat1.stat.auckland.ac.nz>

On Thu, Dec 07, 2000 at 04:52:16PM -0500, ben at zoo.ufl.edu wrote:
> 
> http://www.ens.gu.edu.au/robertk/R/devel/00b/0206.html
> http://www.ens.gu.edu.au/robertk/R/devel/00a/0419.html
> 
>   At this time, you have to do something like
> 
> x <- rnorm(100)
> y <- rnorm(100)
> plot(max(x)-x,max(y)-y,axes=FALSE)
> xlabvals <- pretty(x,5)
> ylabvals <- pretty(y,5)
> axis(side=1,at=max(x)-xlabvals,labels=xlabvals)
> axis(side=2,at=max(y)-ylabvals,labels=ylabvals)
> 
>   I think it's time to put this one in the FAQ ... (although, again, I
> don't know if I would have found it just searching the archives if I
> hadn't remembered that it was there in the first place).

If I understand this right, you want to reverse the direction of the axes.
This is a bug which seems to have crept in at some point and hung around
rather longer than it should have.  In the development version you can
now do the following:

	x <- rnorm(100)
	y <- rnorm(100)
	plot(x, y, xlim=rev(range(x)), ylim=rev(range(y)))

and get the result you expect.

	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From healthmaps at home.com  Fri Dec  8 08:05:09 2000
From: healthmaps at home.com (Health Maps)
Date: Fri, 8 Dec 2000 08:05:09 +0100
Subject: [R] GIS and Spatial stats
Message-ID: <14896.34853.340279.521044@gargle.gargle.HOWL>

              [this went to me instead of the list;   MM, your list maintainer]

I am digging in the wrong hole I guess. Where can I find R /S routines for
spatial statistics? Also has anyone made an R link to a GIS package? Anyone
out there who works in this area?

Thanks

Richard E. Hoskins
WA State Department of Health
1102 Quince Street
Olympia, WA 98504-7812
richard.hoskins at doh.wa.gov
tel:  (360) 236 - 4270
fax: (360) 236 - 4245
GMT -8

Note: All messages to and from the Department of Health may be disclosed to
the public.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Fri Dec  8 08:09:53 2000
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Fri, 8 Dec 2000 08:09:53 +0100 (MET)
Subject: [R] Heteroskedasticity in R
In-Reply-To: <4.2.0.58.20001207180338.00a4e220@edu.essec.fr>
Message-ID: <Pine.LNX.4.21.0012080809250.6423-100000@artemis.imbe.med.uni-erlangen.de>


hmctest() in package lmtest performs the Harrison-McCabe-Test against
heteroskedasticity.

Torsten

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ono96 at fa2.so-net.ne.jp  Fri Dec  8 09:39:49 2000
From: ono96 at fa2.so-net.ne.jp (Hisaji ONO)
Date: Fri, 8 Dec 2000 17:39:49 +0900
Subject: [R] Where is a function for minimum spanning tree in R for win
Message-ID: <007c01c060f2$6dcedec0$0971eeca@myvaio>

Hello the R people.

 I'd like to calculate shortest distances between cities in one area 
from cities' coordinates.

 For this purpose, Splus has a function, "mstree" for calculating 
minimum spring tree.

 But for R, I couldn't find similar function.

It seems that R has little function for OR(Operational Research).

Does anyone know about availability of this method in R?

 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20001208/15cea12c/attachment.html

From adrian at olsen.ch  Fri Dec  8 10:03:30 2000
From: adrian at olsen.ch (Adrian Trapletti)
Date: Fri, 08 Dec 2000 10:03:30 +0100
Subject: [R] Re: R-help Digest V2 #283
References: <200012080301.EAA29236@stat.math.ethz.ch>
Message-ID: <3A30A3E2.957BD504@olsen.ch>

R-help Digest wrote:

> ------------------------------
>
> Date: Thu, 07 Dec 2000 18:28:09 +0100
> From: Uwe Ligges <ligges at statistik.uni-dortmund.de>
> Subject: Re: [R] Heteroskedasticity in R
>
> Vincent Leycuras wrote:
> >
> > Hi all,
> >
> > I just discovered R a couple of days ago and I must say it rocks. I've been
> > looking for heteroskedasticity tests and couldn't find any, however.
> > Particularly, I've been told in one of my courses on econometrics of White's
> > method (>< white.test()).
> >
> > The test's statistic is beta / sqrt(W), where W is Var(beta) "? la White",
> > that is the beta(i) matrix is replaced by the residuals matrix.

I think what you mention here is not a test for heteroskedasticity but a robustified (against misspecification, e.g.,  heteroskedasticity) t-test.

>
> >
> > Anyway, whatever anybody may haev, I'm interested, else I'll write it this
> > week-end.
>
> Have a look at the package 'tseries', available at CRAN.
>
> Uwe Ligges
>

The White test which Vincent mentions is different from the White Test implemented in tseries, which tests for neglected nonlinearity in the conditional mean, essentially for a regression equation or linear time series model.

One very simple way to test conditional heteroskedasticity (time series setup) is to use the Box.test (package ts) on the squared values of a time series as

Box.test(x^2, lag = 1, type="Ljung")

Adrian


--
Adrian Trapletti, Olsen & Associates   Ltd., See-
feldstrasse 233,   CH-8008  Z?rich,   Switzerland
Phone: +41 (1) 386 48 48   Fax: +41 (1) 422 22 82
E-mail: adrian at olsen.ch  WWW: http://www.olsen.ch



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Seidel at statistik.uni-dortmund.de  Fri Dec  8 11:05:13 2000
From: Seidel at statistik.uni-dortmund.de (Jan Hendrik Seidel)
Date: Fri, 08 Dec 2000 11:05:13 +0100
Subject: [R] GIS and Spatial stats
References: <14896.34853.340279.521044@gargle.gargle.HOWL>
Message-ID: <3A30B259.1574DE5A@statistik.uni-dortmund.de>

Health Maps wrote:

>               [this went to me instead of the list;   MM, your list maintainer]
>
> I am digging in the wrong hole I guess. Where can I find R /S routines for
> spatial statistics? Also has anyone made an R link to a GIS package? Anyone
> out there who works in this area?
>
> Thanks
>
> Richard E. Hoskins
> WA State Department of Health
> 1102 Quince Street
> Olympia, WA 98504-7812
> richard.hoskins at doh.wa.gov
> tel:  (360) 236 - 4270
> fax: (360) 236 - 4245
> GMT -8

There are the packages splancs and sgeostat available at CRAN which may help you.
Concerning your second question: Have a look at the mailing-list archive at
http://www.ens.gu.edu.au/robertk/R/. There was a similar question a few month ago
(I think it was about October)

Jan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rhurlin at gwdg.de  Fri Dec  8 13:30:06 2000
From: rhurlin at gwdg.de (Rainer Hurling)
Date: Fri, 08 Dec 2000 13:30:06 +0100
Subject: [R] GIS and Spatial stats
References: <14896.34853.340279.521044@gargle.gargle.HOWL>
Message-ID: <3A30D44E.3FD318DE@gwdg.de>

Health Maps wrote:
> 
>               [this went to me instead of the list;   MM, your list maintainer]
> 
> I am digging in the wrong hole I guess. Where can I find R /S routines for
> spatial statistics? Also has anyone made an R link to a GIS package? Anyone
> out there who works in this area?
> 
> Thanks
> 
> Richard E. Hoskins
> WA State Department of Health
> 1102 Quince Street
> Olympia, WA 98504-7812
> richard.hoskins at doh.wa.gov
> tel:  (360) 236 - 4270
> fax: (360) 236 - 4245
> GMT -8
> 
> Note: All messages to and from the Department of Health may be disclosed to
> the public.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


You may have a look at

http://reclus.nhh.no/gc00/gc009.htm

The GIS software 'GRASS'
(http://www.geog.uni-hannover.de/grass/index2.html) works fine with
database system 'PostgreSQL' (http://www.postgresql.org) and 'R'
(http://www.R-project.org).

For linking between GRASS and PostgreSQL see
http://www.geog.uni-hannover.de/grass/projects/postgresqlgrass and
between GRASS and R see ftp://reclus.nhh.no/pub/R .

Hope this will help you,

Rainer

-- 
Rainer Hurling, Ass. d. Fd.                  email: rhurlin at gwdg.de
Institut fuer Forstzoologie und Waldschutz   http://www.gwdg.de/~rhurlin
Georg-August Universitaet Goettingen         office: 0551 39-2291
Buesgenweg 3, D-37077 Goettingen, GERMANY    fax: 0551 39-2089
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.ribeiro at lancaster.ac.uk  Fri Dec  8 14:27:12 2000
From: p.ribeiro at lancaster.ac.uk (Paulo J. Ribeiro Jr)
Date: Fri, 8 Dec 2000 13:27:12 +0000 (GMT)
Subject: [R] GIS and Spatial stats
In-Reply-To: <3A30B259.1574DE5A@statistik.uni-dortmund.de>
Message-ID: <Pine.GSO.4.21.0012081322490.24090-100000@unixb.lancs.ac.uk>

Hi Richard

Some R resources for  spatial statistics:

- the package "spatial" is included with MASS

- the package "sgeostats" is available at the CRAN web site
  (for geostatistical analysis only)

- "splancs" is available at
ftp://reclus.nhh.no/pub/R/splancs-2.01-1.tar.gz 
(for point process only)

- "geoR" is available at:
http://www.maths.lancs.ac.uk/~ribeiro/geoR.html
(for geostatistical analysis only)

Cheers
P.J.


Paulo Justiniano Ribeiro Jr
Dept Maths & Stats  -  Fylde College
Lancaster University
Lancaster LA1 4YF   -  U.K.

e-mail: paulojus at est.ufpr.br
http://www.maths.lancs.ac.uk/~ribeiro



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From e97249 at essec.fr  Fri Dec  8 14:34:06 2000
From: e97249 at essec.fr (e97249@essec.fr)
Date: Fri, 08 Dec 2000 14:34:06 +0100 (MET)
Subject: [R] COM server for RExcel
Message-ID: <00120814340637@essec.fr>

Hum hum...

I've tried to install the R addin for Excel yesterday and since then Excel
refuses to start (fatal exception)...

I think I've done all the manipulations properly (running the server prior to
loading Excel, loading the .xla file in the tool>addins menu...). Any help
welcome.

Bye! Vincent.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From egrunsky at iamg.org  Fri Dec  8 08:17:15 2000
From: egrunsky at iamg.org (Eric Grunsky)
Date: Fri, 8 Dec 2000 07:17:15 -0000
Subject: [R] GIS and Spatial stats
Message-ID: <01C060E6.E4CC1B20.egrunsky@iamg.org>

A recent paper in Computers & Geosciences:

TI: Using the R statistical data analysis language on GRASS 5.0 GIS data base files
AU: R.S. Bivand
SO: Computers & Geosciences v.26, no.9/10, pp. 1043-1052.
PY: 2000


Eric Grunsky
Associate Editor, Computers & Geosciences (http://www.iamg.org)
Assistant Editor,  Natural Resources Research
Editorial Board, Geochemistry: Exploration, Environment and Analysis (http://www.aeg.org)

email: egrunsky at iamg.org




-----Original Message-----
From:	Health Maps [SMTP:healthmaps at home.com]
Sent:	Friday, December 08, 2000 7:05 AM
To:	r-help at stat.math.ethz.ch
Subject:	[R] GIS and Spatial stats

              [this went to me instead of the list;   MM, your list maintainer]

I am digging in the wrong hole I guess. Where can I find R /S routines for
spatial statistics? Also has anyone made an R link to a GIS package? Anyone
out there who works in this area?

Thanks

Richard E. Hoskins
WA State Department of Health
1102 Quince Street
Olympia, WA 98504-7812
richard.hoskins at doh.wa.gov
tel:  (360) 236 - 4270
fax: (360) 236 - 4245
GMT -8

Note: All messages to and from the Department of Health may be disclosed to
the public.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Fri Dec  8 15:15:29 2000
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Fri, 8 Dec 2000 14:15:29 +0000
Subject: [R] Re: R or Splus
In-Reply-To: <E143eTm-0007Zs-00@cpca7.uea.ac.uk>
References: <E143eTm-0007Zs-00@cpca7.uea.ac.uk>
Message-ID: <eC5PIAAB0OM6EwSK@myatt.demon.co.uk>

J.Brainard at uea.ac.uk Writes:

>mark at myatt.demon.co.uk noted:
>>I don't think that there are any "graphic-
>>interface-only" versions of SPSS. 
>
>well, what we have (seems to be version 6.14) is definitely pull-down
>menus, the lot -- like using Micro$oft Excel -- 
>but slower than treacle on an Artic day to run.

No, that does have a 'syntax' editor.

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Fri Dec  8 15:20:08 2000
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Fri, 8 Dec 2000 14:20:08 +0000
Subject: [R] Re: Importing Excel .xls into R
In-Reply-To: <Pine.LNX.4.21.0012061750350.1744-100000@leo.logilab.fr>
References: <3A2E4CEC.7000108@nauticom.net>
 <Pine.LNX.4.21.0012061750350.1744-100000@leo.logilab.fr>
Message-ID: <TSvMsFAY4OM6EwSR@myatt.demon.co.uk>

Alexandre Fayolle <Alexandre.Fayolle at logilab.fr> writes:
>On Wed, 6 Dec 2000, Richard A. Bilonick wrote:
>
>> I don't believe there is any direct way of doing this. 
>
>Isn't is possible to access an Excell document via ODBC ?
>
>Just asking, I have not tested it...

You need a driver and it will work. For a free, multi-platform solution
to not having Excel try StarOffice 5.2 (www.sun.com/staroffice).

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uli at biochem.dshs-koeln.de  Fri Dec  8 15:47:37 2000
From: uli at biochem.dshs-koeln.de (Uli Flenker; Raum 704)
Date: Fri, 8 Dec 2000 15:47:37 +0100 (CET)
Subject: [R] Problem with multiple factors in nlme
Message-ID: <Pine.LNX.3.95.1001208134622.21590A-100000@pcinternet.biochem.dshs-koeln.de>

Dear R-experts,

I have a problem to formulate non linear mixed effects when more than one
explanatory variable is present. I'm using R 1.1.1 under Linux. The
version number of the nlme library is 3.1-7.

"help(nlme)" says that among several possibilities it is possible to code
fixed effects according to

	fixed =  a1 + a2 + ... + an ~ X1 + X2 + ... + Xm

where the left hand side contains the coefficients of the non linear model
and the right hand side contains the factors or explanatory variables.
Generally it is said that the right hand side has to follow the
conventions for linear models, thus interaction effects might be present
as well (I guess its not all word by word. Our machine R usually runs on
is down at the moment, so this is what I remember. Please don't be angry ...). 

The authors of nlme give an example [1] on page 28:

CO2.fit2 <- update(CO2.fit1,fixed=list(A + C ~ Treatment * Type, lB ~ 1),
		start=c(32.55,0, 0, 0, 41.56, 0, 0, 0, -4.6))

(The code that has been run before is given below)

When running the example as well as own code (biexponential model
depending on two crossed factors) I receive the following error
message: 

	Error: comparison (2) only possible for vector types

No output is produced.  I tried to convert the relevant factors into
numeric vectors without succes. The error likewise occurs in additive and
interactive models. I also tried different contrast codings (Helmert,
sum).

When only one factor is given, everything works fine: It is possible to
code any model as long as the coefficients depend only on one factor.

Any suggestions? Admittedly nlme originally has been designed for S/Splus.
Is this a specific problem of R or any fault of mine (installation,
version, severe misunderstanding) or something else?

Many thank in advance ...

####################

Code:

	library(nlme)
	data(CO2)
	CO2.func <- deriv(~A*(1-exp(-exp(lB)*(conc-C))),
			c("A","lB","C"),
			function(conc,A,lB,C))

	CO2.fit1 <- nlme(model=uptake ~ CO2.func(conc,A,lB,C),
	fixed = A + lB + C ~ 1, data=CO2,
	start=c(30,log(0,01),50)
	)


References:

[1]	Pinheiro, Jose and Douglas M. Bates: lme and nlme, Mixed-Effects
	   Methods and Classes for S and Splus, Version 3.0, October 1998,
	   Bell Labs, Lucent Technologies and University of
	   Wisconsin-Madison. Available from http://nlme.stat.wisc.edu/
	
        Uli Flenker
        Institute of Biochemistry
        German Sports University Cologne
        Carl-Diem-Weg 6

        50933 Cologne / Germany

        Phone 0049/0221/4982-493


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.malewski at tu-bs.de  Fri Dec  8 16:13:52 2000
From: p.malewski at tu-bs.de (Peter Malewski)
Date: Fri, 8 Dec 2000 16:13:52 +0100
Subject: [R] Sans Serif Fonts?
In-Reply-To: <x2vgsv4urm.fsf@blueberry.kubism.ku.dk>; from p.dalgaard@biostat.ku.dk on Fri, Dec 08, 2000 at 01:33:01AM +0100
References: <FB599DB5ACE2D211887500A0C9D334E40B1549@TBACRMEXH001> <x2vgsv4urm.fsf@blueberry.kubism.ku.dk>
Message-ID: <20001208161346.A20236@rzpool07.pool.rz.tu-bs.de>

On Fri, Dec 08, 2000 at 01:33:01AM +0100, Peter Dalgaard BSA wrote:
> Two solutions:

or(?):
par(font.axis=6, font.lab=6, font.main=9, font.sub=6)

but i don't know if this works on every m$ system..

p.
-- 
P.Malewski, Maschplatz 8, 38114 Braunschweig, Tel.: 0531 500965, 
MH-Hannover: 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uli at biochem.dshs-koeln.de  Fri Dec  8 16:23:13 2000
From: uli at biochem.dshs-koeln.de (Uli Flenker; Raum 704)
Date: Fri, 8 Dec 2000 16:23:13 +0100 (CET)
Subject: [R] Re: Problem with multiple factors in nlme
In-Reply-To: <Pine.LNX.3.95.1001208134622.21590A-100000@pcinternet.biochem.dshs-koeln.de>
Message-ID: <Pine.LNX.3.95.1001208161731.21621A-100000@pcinternet.biochem.dshs-koeln.de>

Sorry; two mistakes in my message:

<snip>

> When running the example as well as own code (biexponential model
> depending on two crossed factors) I receive the following error
> message: 
> 
> 	Error: comparison (2) only possible for vector types
> 

The true error message is 
	
> Error in fixed[[nm]][[3]] != "1" : comparison (2) is possible only for
> vector types

<snip>

> Code:
> 
> 	library(nlme)
> 	data(CO2)
> 	CO2.func <- deriv(~A*(1-exp(-exp(lB)*(conc-C))),
> 			c("A","lB","C"),
> 			function(conc,A,lB,C))

The correct function is

CO2.func <- deriv(~A*(1-exp(-exp(lB)*(conc-C))),
                      c("A","lB","C"),
                       function(conc,A,lB,C){})

<snip>

Sorry once more ...


         Uli Flenker
         Institute of Biochemistry
         German Sports University Cologne
         Carl-Diem-Weg 6
 
         50933 Cologne / Germany
 
         Phone 0049/0221/4982-493
 
 
 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From noel at univ-lille3.fr  Fri Dec  8 17:53:26 2000
From: noel at univ-lille3.fr (Yvonnick Noel)
Date: Fri, 8 Dec 2000 16:53:26 +0000
Subject: [R] AIC in glm()
Message-ID: <00120816532609.29495@l3pc174.univ-lille3.fr>

Hello,

I just trying to play around with very simple generalized models and have 
tried the following model :
 
glm(count~t1*t2,family=poisson())

on data from Jim Lindsey's book :

change
  count t1 t2
1    45  1  1
2    13  1  2
3    12  2  1
4    54  2  2       

I get :

Call:  glm(formula = change$count ~ change$t1 * change$t2, family = poisson())

Coefficients:
          (Intercept)             change$t12             change$t22
                3.807                 -1.322                 -1.242
change$t12.change$t22
                2.746

Degrees of Freedom: 3 Total (i.e. Null);  0 Residual
Null Deviance:      48.11
Residual Deviance: 6.596e-16    AIC: 28.23

My question is :

how the AIC value is computed here? Because the deviance is null, I expected 
an AIC of 2p = 8. But I'm probably missing something.

Thanks for your help,

Yvonnick Noel, PhD
U. of Lille 3
France
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Dec  8 17:12:32 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 08 Dec 2000 17:12:32 +0100
Subject: [R] Re: Problem with multiple factors in nlme
In-Reply-To: "Uli Flenker; Raum 704"'s message of "Fri, 8 Dec 2000 16:23:13 +0100 (CET)"
References: <Pine.LNX.3.95.1001208161731.21621A-100000@pcinternet.biochem.dshs-koeln.de>
Message-ID: <x2g0jyopsf.fsf@blueberry.kubism.ku.dk>

"Uli Flenker; Raum 704" <uli at biochem.dshs-koeln.de> writes:

> > 	library(nlme)
> > 	data(CO2)
> > 	CO2.func <- deriv(~A*(1-exp(-exp(lB)*(conc-C))),
> > 			c("A","lB","C"),
> > 			function(conc,A,lB,C))
> 
> The correct function is
> 
> CO2.func <- deriv(~A*(1-exp(-exp(lB)*(conc-C))),
>                       c("A","lB","C"),
>                        function(conc,A,lB,C){})
> 
> <snip>
> 
> Sorry once more ...

And log(0,01) should read log(0.01) too...

Seems to boil down to 

Browse[1]> fixed[[nm]]
A ~ Treatment * Type
Browse[1]> fixed[[nm]][[3]]
Treatment * Type

..which is a formula, so fixed[[nm]][[3]] != "1" fails

changing to 

fixed[[nm]][[3]][[1]] != "1"

seems to work and it should be safe since any nonsimple formula will
have an operator and not a "1" in that position.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Fri Dec  8 16:18:39 2000
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Fri, 8 Dec 2000 15:18:39 +0000
Subject: [R] Excel -> R
In-Reply-To: <53829589BB93D4119B5800B0D03DCD21A002@EXGAGRP5>
References: <53829589BB93D4119B5800B0D03DCD21A002@EXGAGRP5>
Message-ID: <Gj6ZwMAPvPM6Ewj5@myatt.demon.co.uk>

HAKIM Nour-Eddine <noureddine.hakim at axa-corporatesolutions.com> writes:
>Dear ,
>
>I want to import Excel data (.XLS). Can you help me to this.

Save as .CSV (comma separated) and use read.table() in R.

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Fri Dec  8 17:42:07 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Fri, 8 Dec 2000 08:42:07 -0800 (PST)
Subject: [R] graphic interface on redhad 7.0 ?
In-Reply-To: <3A0ABD07.6EFBC7AA@dbim.jussieu.fr>
Message-ID: <Pine.GSO.4.21.0012080841100.12927-100000@atlas.biostat.washington.edu>

On Thu, 9 Nov 2000, latouche wrote:

> I've just installed R  on redhat 7.0
> i can use it in an Xterm window
> how can i have an graphic interface (the same as windows R interface) ?

You can't.  We don't have one for Unix.  There are tools for constructing
one (either with Java or Tcl/Tk) but it's not going to happen overnight.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Fri Dec  8 17:55:48 2000
From: plummer at iarc.fr (Martyn Plummer)
Date: Fri, 08 Dec 2000 17:55:48 +0100 (CET)
Subject: [R] graphic interface on redhad 7.0 ?
In-Reply-To: <3A0ABD07.6EFBC7AA@dbim.jussieu.fr>
Message-ID: <XFMail.001208175548.plummer@iarc.fr>

On 09-Nov-00 latouche wrote:
> I've just installed R  on redhat 7.0
> i can use it in an Xterm window
> how can i have an graphic interface (the same as windows R interface) ?
> thanks
> A. Latouche

There is a graphical user interface for R under unix, which uses the
GNOME environment.  However, it is unfinished, and development on it
seems to have stopped.  For these reasons it is not included in the RPM
package for Red Hat.

If you compile R yourself, then you can enable the GNOME interface.
However, you then have another problem, which is that the compiler included
with Red Hat 7.0 (gcc-2.96) is buggy: there are two separate bugs which
prevent R from working correctly.  My advice is to install version 2.95
of gcc which will compile R correctly. However, if you are asking for a GUI
for R then you are probably not going to want to install your own compiler.

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Fri Dec  8 19:15:01 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Fri, 8 Dec 2000 13:15:01 -0500 (EST)
Subject: [R] graphic interface on redhad 7.0 ?
In-Reply-To: <3A0ABD07.6EFBC7AA@dbim.jussieu.fr>
Message-ID: <Pine.LNX.4.30.0012081304230.3806-100000@bolker.zoo.ufl.edu>


  Your best bet is probably to use ESS within emacs (look for it under
"Other" on CRAN).

On Thu, 9 Nov 2000, latouche wrote:

> I've just installed R  on redhat 7.0
> i can use it in an Xterm window
> how can i have an graphic interface (the same as windows R interface) ?
> thanks
> A. Latouche
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From amorgan at linus.mitre.org  Fri Dec  8 19:28:08 2000
From: amorgan at linus.mitre.org (Alexander A. Morgan)
Date: Fri, 8 Dec 2000 13:28:08 -0500 (EST)
Subject: [R] Bounded Density Estimation
Message-ID: <Pine.GSO.4.21.0012081326250.7569-100000@veloso.mitre.org>

Hello:
	I have been using R and the locfit package for Unix/Linux for a
little while.  However, I have had some trouble, as I am trying to do
density estimation for bounded independent variables.  There is some
discussion in the density estimation book by Azzalini, but none in the
book by C Loader (creator of locfit).     Also, the variables that I am
working on are bounded on both sides, not just on the left (ie constrained
to be positive).  I have tried the following transformation:

log(x-minval) - log(maxval-x) = x' but with no good results.

Is there a way to use variable kernels or bandwidths to address this?  As
a test case, I was looking at a square of random points (ie even random
distribution), hoping to get a flat density estimation.  As expected, it
drops down at the edges, and precipitously at the corners.

I also tried going into the locfit code to see how I could make kernel
changes, and was sort of daunted by the layers of switch statements and
largely undocumented code.   I am still rather perplexed by the role of
'degree' as a locfit argument.  It makes sense in a local regression, but
doesn't seem to make sense in a nonparameteric density estimation (only
bandwith and kernel seem approriate).  However, degree seems to be related
to the smoothness of the fit, just as in regression.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From amorgan at linus.mitre.org  Fri Dec  8 19:37:16 2000
From: amorgan at linus.mitre.org (Alexander A. Morgan)
Date: Fri, 8 Dec 2000 13:37:16 -0500 (EST)
Subject: [R] R and wavelets
Message-ID: <Pine.GSO.4.21.0012081329300.7569-100000@veloso.mitre.org>

Does anyone know of any use of wavelets (particularly for density
estimation) in R?  Are there any wavelet packages?

-Alex Morgan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Fri Dec  8 19:57:46 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Fri, 8 Dec 2000 10:57:46 -0800 (PST)
Subject: [R] R and wavelets
In-Reply-To: <Pine.GSO.4.21.0012081329300.7569-100000@veloso.mitre.org>
Message-ID: <Pine.GSO.4.21.0012081057040.16875-100000@atlas.biostat.washington.edu>

On Fri, 8 Dec 2000, Alexander A. Morgan wrote:

> Does anyone know of any use of wavelets (particularly for density
> estimation) in R?  Are there any wavelet packages?
> 

There is a package on CRAN

wavethresh: Software to perform wavelet statistics and transforms. 

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Fri Dec  8 21:23:33 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Fri, 8 Dec 2000 15:23:33 -0500 (EST)
Subject: [R] R and wavelets
In-Reply-To: <Pine.GSO.4.21.0012081329300.7569-100000@veloso.mitre.org>
Message-ID: <Pine.LNX.4.30.0012081520230.3966-100000@bolker.zoo.ufl.edu>


  Right there on CRAN:

http://cran.r-project.org/src/contrib/PACKAGES.html#wavethresh

(General suggestion [maybe for the FAQ?, or if anyone is better at CGI
than I am they could build a search engine for this]:

the best way to find the answer to this kind of question is to do a
text search within

  http://cran.r-project.org/src/contrib/PACKAGES.html    ;

it can also help to check the S archive on StatLib for S code that can be
adapted ...

http://lib.stat.cmu.edu/S/

)


On Fri, 8 Dec 2000, Alexander A. Morgan wrote:

> Does anyone know of any use of wavelets (particularly for density
> estimation) in R?  Are there any wavelet packages?
>
> -Alex Morgan
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s-luppescu at uchicago.edu  Fri Dec  8 22:39:59 2000
From: s-luppescu at uchicago.edu (s-luppescu@uchicago.edu)
Date: Fri, 08 Dec 2000 15:39:59 -0600 (CST)
Subject: [R] ylim doesn't work in boxplots?
Message-ID: <XFMail.20001208153959.s-luppescu@uchicago.edu>

I want to leave a little extra room at the bottom for a legend in a box plot,
but I find that the boxplot function ignores ylim. Is there any way around
this? Thanks.
______________________________________________________________________
Stuart Luppescu         -=-=-  University of Chicago
$(B:MJ8$HCRF`H~$NIc(B        -=-=-  s-luppescu at uchicago.edu
http://www.consortium-chicago.org/people/sl/sl.html
PGP Public Key: www.consortium-chicago.org/people/sl/pubkey.asc
ICQ #21172047  AIM: psycho7070
Any man who hates dogs and babies can't be all bad.
                -- Leo Rosten, on W.C. Fields
>> Sent on 08-Dec-2000 at 15:38:19 with xfmail
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Dec  8 23:58:52 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 08 Dec 2000 23:58:52 +0100
Subject: [R] ylim doesn't work in boxplots?
In-Reply-To: s-luppescu@uchicago.edu's message of "Fri, 08 Dec 2000 15:39:59 -0600 (CST)"
References: <XFMail.20001208153959.s-luppescu@uchicago.edu>
Message-ID: <x2itouh64z.fsf@blueberry.kubism.ku.dk>

s-luppescu at uchicago.edu writes:

> I want to leave a little extra room at the bottom for a legend in a box plot,
> but I find that the boxplot function ignores ylim. Is there any way around
> this? Thanks.

Eh? I can't reproduce that in neither 1.1.1 nor 1.2pre.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s-luppescu at uchicago.edu  Sat Dec  9 00:08:36 2000
From: s-luppescu at uchicago.edu (s-luppescu@uchicago.edu)
Date: Fri, 08 Dec 2000 17:08:36 -0600 (CST)
Subject: [R] ylim doesn't work in boxplots?
In-Reply-To: <x2itouh64z.fsf@blueberry.kubism.ku.dk>
Message-ID: <XFMail.20001208170836.s-luppescu@uchicago.edu>

On 08-Dec-2000 Peter Dalgaard BSA wrote:
> s-luppescu at uchicago.edu writes:
> 
>> I want to leave a little extra room at the bottom for a legend in a box
>> plot,
>> but I find that the boxplot function ignores ylim. Is there any way around
>> this? Thanks.
> 
> Eh? I can't reproduce that in neither 1.1.1 nor 1.2pre.

Actually, I'm producing the box plot numbers in boxplot() and then drawing the
plot with bxp. The help says graphical parameters can be entered as a list
(pars) or the regular way (...). When I just put in ylim=c(somenumber,
anothernumber) in bxp() the y axis is unchanged. From looking at the source
code, it looks like it should work, but....
I don't know how to use pars. I tried pars=, pars(), but those gave me error
messages.

My R is:
platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    1.1              
year     2000             
month    August           
day      15               
language R                

______________________________________________________________________
Stuart Luppescu         -=-=-  University of Chicago
$(B:MJ8$HCRF`H~$NIc(B        -=-=-  s-luppescu at uchicago.edu
http://www.consortium-chicago.org/people/sl.html
Finger sl70 at musuko.uchicago.edu forPGP Public Key
ICQ #21172047  AIM: psycho7070
Sometimes I wonder if I'm in my right mind.  Then it passes off and I'm
as intelligent as ever.
                -- Samuel Beckett, "Endgame"
>> Sent on 08-Dec-2000 at 17:00:00 with xfmail
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Dec  9 01:59:16 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Dec 2000 01:59:16 +0100
Subject: [R] ylim doesn't work in boxplots?
In-Reply-To: s-luppescu@uchicago.edu's message of "Fri, 08 Dec 2000 17:08:36 -0600 (CST)"
References: <XFMail.20001208170836.s-luppescu@uchicago.edu>
Message-ID: <x2snnyh0kb.fsf@blueberry.kubism.ku.dk>

s-luppescu at uchicago.edu writes:

> On 08-Dec-2000 Peter Dalgaard BSA wrote:
> > s-luppescu at uchicago.edu writes:
> > 
> >> I want to leave a little extra room at the bottom for a legend in a box
> >> plot,
> >> but I find that the boxplot function ignores ylim. Is there any way around
> >> this? Thanks.
> > 
> > Eh? I can't reproduce that in neither 1.1.1 nor 1.2pre.
> 
> Actually, I'm producing the box plot numbers in boxplot() and then drawing the
> plot with bxp. The help says graphical parameters can be entered as a list
> (pars) or the regular way (...). When I just put in ylim=c(somenumber,
> anothernumber) in bxp() the y axis is unchanged. From looking at the source
> code, it looks like it should work, but....
> I don't know how to use pars. I tried pars=, pars(), but those gave me error
> messages.

Aha. OK I see it.

>  bx.p <- boxplot(split(rnorm(100), gl(5,20)))
>  bxp(bx.p,ylim=c(-5,5)) # no reaction
>  bxp(bx.p,pars=list(ylim=c(-5,5))) # works

This seems to have been fixed for 1.2.0

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From E97249 at edu.essec.fr  Sat Dec  9 12:06:50 2000
From: E97249 at edu.essec.fr (E97249@edu.essec.fr)
Date: Sat, 09 Dec 2000 12:06:50 +0100
Subject: [R] Complements about heteroscedasticity
In-Reply-To: <Gj6ZwMAPvPM6Ewj5@myatt.demon.co.uk>
References: <53829589BB93D4119B5800B0D03DCD21A002@EXGAGRP5>
 <53829589BB93D4119B5800B0D03DCD21A002@EXGAGRP5>
Message-ID: <3.0.5.32.20001209120650.0090c640@edu.essec.fr>

Hi all,

A couple of days ago, I posted a message regarding the support for heteroscedasticity testing in R. In fact, there are several tests and methods to assess whether the residuals of a model are heteroscedastic or not. The one for which I was claiming information can be found in William Greene's "Econometric Analysis", chapter 12. It's about White's *estimator*, not test, and it consists in replacing the beta's variance's traditionnal estimator by a new one calculated with the least squares residuals (instead of sigma square). 

>From there, a new regression is performed that supposedly corrects the coefficents.

There is also a White test for heteroscadsticity, but it is said to be extremely general (Greene, p.508), and it uses the White's estimator described above. 

SO, the only thing that seems to be missing in R is the calculation of that very estimator, and the new regression that can be performed from it. If, anyone else than myself is interested in this feature, please let me know.

Bye! Vincent.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Sat Dec  9 19:01:36 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Sat, 9 Dec 2000 10:01:36 -0800 (PST)
Subject: [R] Complements about heteroscedasticity
In-Reply-To: <3.0.5.32.20001209120650.0090c640@edu.essec.fr>
Message-ID: <Pine.GSO.4.21.0012090954470.564-100000@atlas.biostat.washington.edu>

On Sat, 9 Dec 2000 E97249 at edu.essec.fr wrote:

> Hi all,
> 
> A couple of days ago, I posted a message regarding the support for
> heteroscedasticity testing in R. In fact, there are several tests and
> methods to assess whether the residuals of a model are heteroscedastic
> or not. The one for which I was claiming information can be found in
> William Greene's "Econometric Analysis", chapter 12. It's about
> White's *estimator*, not test, and it consists in replacing the beta's
> variance's traditionnal estimator by a new one calculated with the
> least squares residuals (instead of sigma square).
> 
> From there, a new regression is performed that supposedly corrects the
> coefficents.
> 

Code for a collection of these "sandwich" variance estimators for
generalised linear models can be found at
   http://www.biostat.washington.edu/~thomas/weave.html
The functions are intended for various sorts of correlated response data,
but independent data can be analysed as a special case. I don't have code
for the re-estimation, though.


	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Alexandre.Fayolle at free.fr  Sat Dec  9 20:39:16 2000
From: Alexandre.Fayolle at free.fr (Alexandre Fayolle)
Date: Sat, 09 Dec 2000 20:39:16 +0100
Subject: [R] filtering lines in a table
Message-ID: <3A328A64.537E129E@free.fr>

Hello,

I realize this is probably a dumb question, but I think there must be an
easy way to do this with R and I was not able to find it in the doc. 

I have a table (read from a file with read.table), with two factor
columns, table$A and table$B, and a numerical column, table$X. I wish to
make a boxplot of  (table$X ~ table$A) for a given value of B. Is there
a way to express this with a formula, or is it necessary to manually
extract the right lines in the table? In that case, what is the best way
to do so?

Thanks for your help


Alexandre "R newby" Fayolle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yudi at stat.ucc.ie  Sat Dec  9 22:06:59 2000
From: yudi at stat.ucc.ie (yudi@stat.ucc.ie)
Date: Sat, 9 Dec 2000 21:06:59 +0000
Subject: [R] AIC in glm()
Message-ID: <200012092109.VAA30871@wonka.esatclear.ie>

> Date:          Fri, 08 Dec 2000 16:53:26 +0000
> From:          Yvonnick Noel <noel at univ-lille3.fr>
> Subject:       [R] AIC in glm()
> To:            r-help at stat.math.ethz.ch

> Hello,
> 
> I just trying to play around with very simple generalized models and have 
> tried the following model :
>  
> glm(count~t1*t2,family=poisson())
> 
> on data from Jim Lindsey's book :
> 
> change
>   count t1 t2
> 1    45  1  1
> 2    13  1  2
> 3    12  2  1
> 4    54  2  2       
> 
> I get :
> 
> Call:  glm(formula = change$count ~ change$t1 * change$t2, family = poisson())
> 
> Coefficients:
>           (Intercept)             change$t12             change$t22
>                 3.807                 -1.322                 -1.242
> change$t12.change$t22
>                 2.746
> 
> Degrees of Freedom: 3 Total (i.e. Null);  0 Residual
> Null Deviance:      48.11
> Residual Deviance: 6.596e-16    AIC: 28.23
> 
> My question is :
> 
> how the AIC value is computed here? Because the deviance is null, I expected 
> an AIC of 2p = 8. But I'm probably missing something.
> 
AIC = -2 log like(at the MLE) + 2p      (Not:  deviance + 2p).

see the following:
> reg_ glm(change$count~ change$t1 * change$t2,family=poisson)
> -2*sum(log(dpois(change$count,reg$fit))) + 2*4
[1] 28.23050

(here reg$fit= change$count since it is a saturated model.)



------------------------------
Yudi Pawitan: yudi at stat.ucc.ie
Department of Statistics, UCC
Cork, Ireland
Ph : 353-1-490 2906
Fax: 353-1-427 0104
-----------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Sat Dec  9 22:34:08 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 09 Dec 2000 15:34:08 -0600
Subject: [R] filtering lines in a table
In-Reply-To: Alexandre Fayolle's message of "Sat, 09 Dec 2000 20:39:16 +0100"
References: <3A328A64.537E129E@free.fr>
Message-ID: <6rwvd95lf3.fsf@franz.stat.wisc.edu>

Alexandre Fayolle <Alexandre.Fayolle at free.fr> writes:

> I realize this is probably a dumb question, but I think there must be an
> easy way to do this with R and I was not able to find it in the doc. 
> 
> I have a table (read from a file with read.table), with two factor
> columns, table$A and table$B, and a numerical column, table$X. I wish to
> make a boxplot of  (table$X ~ table$A) for a given value of B. Is there
> a way to express this with a formula, or is it necessary to manually
> extract the right lines in the table? In that case, what is the best way
> to do so?

The "subset" argument allows you to specify an expression that
determines the subset of interest.  You would use something like

 boxplot( X ~ A, data = table, subset = B =="Bvalue" )

By the way, it is not a good idea to call the data "table" because
there is a function called table that may need to be used in boxplot.
R is smart about this and looks specifically for a function when a
function is needed but it is still better to avoid name conflicts if
you can.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From novo at uiuc.edu  Sun Dec 10 06:25:13 2000
From: novo at uiuc.edu (=?iso-8859-1?q?=C1lvaro=20A=2E=20Novo?=)
Date: Sat, 9 Dec 2000 23:25:13 -0600
Subject: [R] seq(0.05,0.95,by=0.002) and logical error
Message-ID: <00120923251303.00437@friedman>

Regardless of which version -- 1.1.1 or 1.2.0 (2000-11-27) -- with a fresh 
"directory" (i.e. no .RData), I am getting an extremely weird result. 

R : Copyright 2000, The R Development Core Team
Version 1.2.0 Under development (unstable) (2000-11-27)

> jj _ seq(0.05,0.95,by=0.002)
> sum(jj==0.75) ## WRONG ANSWER
[1] 0
> 0.05 + 350*.002 ## Double check that 0.75 is in jj
[1] 0.75
> sum(jj==0.5)
[1] 1
> sum(jj==0.562)
[1] 1
> sum(jj==0.564) ## 0.564 seems to be the cutoff point
[1] 0

Version 1.1.1  (August 15, 2000)

> jj _ seq(0.05,0.95,by=0.002)
> sum(jj==0.75)  ## WRONG ANSWER
[1] 0
> sum(jj==0.562)
[1] 1
> sum(jj==0.564)
[1] 0

An additional note, for a different sequence, 0.75 is "recognized"...

> jj _ seq(0,0.95,by=0.002)
> sum(jj==0.75) 
[1] 1


Thank you for your attention,

Alvaro Novo
Linux 2.2.17 - SuSE 6.4

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thadani at tkk.att.ne.jp  Sun Dec 10 07:03:26 2000
From: thadani at tkk.att.ne.jp (Dilip N. Thadani)
Date: Sun, 10 Dec 2000 15:03:26 +0900
Subject: [R] Workspaces & Memory Requirements
In-Reply-To: <x2snnyh0kb.fsf@blueberry.kubism.ku.dk>
Message-ID: <000401c0626e$e90298c0$0200a8c0@grandslam>

Can someone explain memory and workspaces in R.  For example, I read in the
FAQ (or somewhere) that in R, the entire workspace is loaded into memory.

So if I use and save many data frames or matrices in my workspace, are all
of these objects getting loaded into memory each time?  If so this is very
inconvenient if one wants to store data in matrices on an ongoing basis but
not use them everytime one uses R.

So how should one manage objects in R.  Should one be using multiple
workspaces or should one write a couple of functions that dump objects out
into text files and then source them back before use and so on.

Is the new dynamic memory model upcoming in the next release of R going to
also read all objects in a workspace into RAM?

Also, how do I take all of my user written R functions and make them into a
library so that they can be accessible from any workspace?  And can these
functions be edited and saved on the fly into the library?

Can someone shed some light on these issues?  As a previous S user, I m used
to having a large number of data objects in the _Data directory.

Thanks in advance.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ynoel at nordnet.fr  Sun Dec 10 08:35:18 2000
From: ynoel at nordnet.fr (=?iso-8859-1?Q?Yvonnick_No=EBl?=)
Date: Sun, 10 Dec 2000 08:35:18 +0100
Subject: [R] Re: Where is a function for minimum spanning tree in R for win
Message-ID: <000701c0627b$e8310500$f9e192c3@oemcomputer>

I have written the following code for my own needs last year. You need to load the MVA (the DIST function is used)and SCATTERPLOT3D (for plotting high dimensional data) packages first.

For an example, try something like :

X<-matrix(runif(60),20,3)
N<-mst(X, plot.true=T)

A graph symmetric matrix is returned in N which contains 1s for maximum links and 0 elsewhere. Note that, if your data are p-dimensional, with p>3, the graph is plotted in the space of the 3 first principal components. In my practice, this very simple visualization approach often yields insightful pictures of the data structure.

Hope you'll find it useful. 

Yvonnick Noel, PhD.
U. of Lille 3
France

===
mst <- function(X,plot.true=F)
{
    size <- dim(X)
    n <- size[1]
    p <- size[2]

    D <- as.matrix(dist(X))             # distances matrix
    N <- matrix(0,n,n)                  # graph matrix
    tree <- NULL                        # sequence of nodes added to the graph

    large.value <- max(D) + 1           # set diagonal to large values (for min detection)
    diag(D) <- large.value

    index.i <- 1                        # construct graph
    for(i in 1:(n-1))
    {
        tree <- c(tree,index.i)
        m <- apply(as.matrix(D[,tree]),2,min)
        a <- sort.index(D[,tree])[1,]
        b <- sort.index(m)[1]
        index.j <- tree[b]
        index.i <- a[b]

        N[index.i,index.j] <- 1
        N[index.j,index.i] <- 1

        for(j in tree)
        {
            D[index.i,j] <- large.value
            D[j,index.i] <- large.value
        }
    }
    
    # Plots graph if required
    if(plot.true && (p>1))
    {
      if(p==2) 
      {
        plot(X[,1],X[,2],main="Minimum Spanning Tree",xlab="",ylab="",pch=19,col="blue")
        for(k in 2:n)
        {
            for(l in 1:(k-1))
            {
                if(N[k,l]==1) lines(rbind(X[k,],X[l,]),pch=19,col="blue")
            }
        }
      }

      else if(p==3)
      {
        scat.res <- scatterplot3d(X,highlight.3d=T)
        for(k in 2:n)
        {
            for(l in 1:(k-1))
            {
                if(N[k,l]==1) scat.res$points3d(rbind(X[k,],X[l,]),type="l",pch=19,col="blue")
            }
        }
      }

      else
      {
        C <- prcomp(X,retx=T)$x[,1:3]
        scat.res <- scatterplot3d(C,highlight.3d=T)
        for(k in 2:n)
        {
            for(l in 1:(k-1))
            {
                if(N[k,l]==1) scat.res$points3d(rbind(C[k,],C[l,]),type="l",pch=19,col="blue")
            }    
        }
    
      }
    }
    
    return(N)

}
sort.index <- function(X)
{
    # Function returning an index matrix for an increasing sort
    if(length(X)==1) return(1)                  # sorting a scalar?
    if(!is.matrix(X)) X <- as.matrix(X)         # force vector into matrix
    
    n <- nrow(X)

    # find the permutation
    #--> Rank transforming with ties breaking
    #rk <- apply(X,2,function(v) order(v,1:n))
    rk <- apply(X,2,rank)
    
    #--> Match()ing an integer sequence with the rank-transformed matrix
    apply(rk, 2, function(v) match(1:n,v))  
}

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Alexandre.Fayolle at free.fr  Sun Dec 10 09:55:28 2000
From: Alexandre.Fayolle at free.fr (Alexandre Fayolle)
Date: Sun, 10 Dec 2000 09:55:28 +0100
Subject: [R] filtering lines in a table
References: <3A328A64.537E129E@free.fr> <6rwvd95lf3.fsf@franz.stat.wisc.edu>
Message-ID: <3A334500.2E75AE0A@free.fr>



Douglas Bates a ?crit :
> 
> Alexandre Fayolle <Alexandre.Fayolle at free.fr> writes:
> 

> The "subset" argument allows you to specify an expression that
> determines the subset of interest.  You would use something like
> 
>  boxplot( X ~ A, data = table, subset = B =="Bvalue" )

Yes, it works great, thanks to all who sent in an answer on this one.


> By the way, it is not a good idea to call the data "table" because
> there is a function called table that may need to be used in boxplot.

Right, point taken. Actually the data is not called "table", but a
complicated french name, so I used "table" in the email just to ease
understanding.

Alexandre


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Alexandre.Fayolle at free.fr  Sun Dec 10 10:09:25 2000
From: Alexandre.Fayolle at free.fr (Alexandre Fayolle)
Date: Sun, 10 Dec 2000 10:09:25 +0100
Subject: [R] more boxplot questions
Message-ID: <3A334845.881E8AB7@free.fr>

Hello,

I have a couple more questions about boxplots. In the books I've read on
statistics (I'm not a statistics expert but just a poor engineer trying
to help his wife with the analysis of the data she gathered for her
medieval history PhD), I seen two kinds of box plots: one using
quartiles to determine the height of the rectangles and whiskers which
is what the standard R boxplot does, from what I read in the doc, and
another one using  the the variance (rectangle height = 2s, whiskers
going from +1s to +2s and -1s to -2s). Is there a way to produce such
boxplot with R ?

Second question: I would like to ponderate the plotted variable with
another variable. To take an example, the grouping factor A is a
production city, X is a unitary price and Y is a quantity bought from
city Ai at price Xi. I would like to make a boxplot of the prices
ponderated by the quantity bought. Since it sounds like a fairly
standard visualization, I suppose ther's an easy way to do this with R.


Thank you for your help.

Alexandre Fayolle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sun Dec 10 11:10:35 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sun, 10 Dec 2000 11:10:35 +0100 (MET)
Subject: [R] seq(0.05,0.95,by=0.002) and logical error
In-Reply-To: <00120923251303.00437@friedman>
Message-ID: <Pine.GSO.4.21.0012101101350.4231-100000@amadeus.statistik.uni-dortmund.de>



On Sat, 9 Dec 2000, [iso-8859-1] lvaro A. Novo wrote:

> Regardless of which version -- 1.1.1 or 1.2.0 (2000-11-27) -- with a fresh 
> "directory" (i.e. no .RData), I am getting an extremely weird result. 
> 
> R : Copyright 2000, The R Development Core Team
> Version 1.2.0 Under development (unstable) (2000-11-27)
> 
> > jj _ seq(0.05,0.95,by=0.002)
> > sum(jj==0.75) ## WRONG ANSWER
> [1] 0
> > 0.05 + 350*.002 ## Double check that 0.75 is in jj
> [1] 0.75
> > sum(jj==0.5)
> [1] 1
> > sum(jj==0.562)
> [1] 1
> > sum(jj==0.564) ## 0.564 seems to be the cutoff point
> [1] 0
> 
> Version 1.1.1  (August 15, 2000)
> 
> > jj _ seq(0.05,0.95,by=0.002)
> > sum(jj==0.75)  ## WRONG ANSWER
> [1] 0
> > sum(jj==0.562)
> [1] 1
> > sum(jj==0.564)
> [1] 0
> 
> An additional note, for a different sequence, 0.75 is "recognized"...
> 
> > jj _ seq(0,0.95,by=0.002)
> > sum(jj==0.75) 
> [1] 1
> 
> 
> Thank you for your attention,
> 
> Alvaro Novo
> Linux 2.2.17 - SuSE 6.4


That's a computational problem:
  
  jj <- seq(0.05, 0.95, by=0.002)
  options("digits" = 22)
  jj[351]  # result:  [1] 0.75000000000000011

So sum(jj==0.75) gives the *correct* answer. 

Uwe Ligges 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From abernatj at yahoo.com  Sun Dec 10 14:58:11 2000
From: abernatj at yahoo.com (Andy Bernat)
Date: Sun, 10 Dec 2000 05:58:11 -0800 (PST)
Subject: [R] installing R 1.1.1 on SuSE 7.0
Message-ID: <20001210135811.16759.qmail@web3706.mail.yahoo.com>

Dear List,
I just tried installing R 1.1.1 on SuSE 7.0 and encountered some
problems.  Using the precompiled binaries, I had a failed dependency: R
was looking for "libblas.so.2" and apparently didn't find it.  I then
tried compiling from sources, which failed with the message:
"/usr/bin/ginstall: zero.so No such file or directory" (or something to
that effect).  I'm using the Personal version of SuSE 7.0 so perhaps
some important programs/files aren't included.  Any suggestions would
be greatly appreciated.
Regards,
Andy Bernat

__________________________________________________
Do You Yahoo!?
Yahoo! Shopping - Thousands of Stores. Millions of Products.
http://shopping.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From novo at uiuc.edu  Sun Dec 10 16:41:20 2000
From: novo at uiuc.edu (=?iso-8859-1?q?=C1lvaro=20A=2E=20Novo?=)
Date: Sun, 10 Dec 2000 09:41:20 -0600
Subject: [R] installing R 1.1.1 on SuSE 7.0
In-Reply-To: <20001210135811.16759.qmail@web3706.mail.yahoo.com>
References: <20001210135811.16759.qmail@web3706.mail.yahoo.com>
Message-ID: <00121009412006.00437@friedman>

On Sunday 10 December 2000 07:58, Andy Bernat wrote:
> Dear List,
> I just tried installing R 1.1.1 on SuSE 7.0 and encountered some
> problems.  Using the precompiled binaries, I had a failed dependency: R
> was looking for "libblas.so.2" and apparently didn't find it.  I then

Install rpm package: blas.rpm (Basic Linear Algebra Subprograms)

Hope it helps.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sun Dec 10 16:44:55 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sun, 10 Dec 2000 16:44:55 +0100
Subject: [R] installing R 1.1.1 on SuSE 7.0
References: <20001210135811.16759.qmail@web3706.mail.yahoo.com>
Message-ID: <3A33A4F7.374C3CF1@statistik.uni-dortmund.de>

Andy Bernat wrote:
> 
> Dear List,
> I just tried installing R 1.1.1 on SuSE 7.0 and encountered some
> problems.  Using the precompiled binaries, I had a failed dependency: R
> was looking for "libblas.so.2" and apparently didn't find it.  
> I then tried compiling from sources, which failed with the message:
> "/usr/bin/ginstall: zero.so No such file or directory" (or something to
> that effect).  I'm using the Personal version of SuSE 7.0 so perhaps
> some important programs/files aren't included.  Any suggestions would
> be greatly appreciated.

Right. The "blas" (Basic Linear Algebra Subprograms) library is not
included in the personal edition of SuSE 7.0.
There are also many development tools, which are only included in the
professional (but not the personal) edition.

You can download missing packages for i386 machines at:
ftp://ftp.suse.com/pub/suse/i386/current/full-names/i386/

You will find libblas.so.2 in the package 
blas-3.0-153.i386.rpm           

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uli at biochem.dshs-koeln.de  Sun Dec 10 16:48:36 2000
From: uli at biochem.dshs-koeln.de (Uli Flenker; Raum 704)
Date: Sun, 10 Dec 2000 16:48:36 +0100 (CET)
Subject: [R] filtering lines in a table
In-Reply-To: <3A328A64.537E129E@free.fr>
Message-ID: <Pine.LNX.3.95.1001210163425.8040A-100000@pcinternet.biochem.dshs-koeln.de>

Alexandre,

"help(boxplot)" among other things says:


Usage:

     ...

     boxplot.formula(formula, data = NULL, subset, na.action, ...)

     ...

So you can use

> boxplot(table$X ~ table$A,subset(table$B==given.value))

Any logical expression should work.

Best ...

        Uli Flenker
        Institute of Biochemistry
        German Sports University Cologne
        Carl-Diem-Weg 6

        50933 Cologne / Germany

        Phone 0049/0221/4982-493


On Sat, 9 Dec 2000, Alexandre Fayolle wrote:

> Hello,
> 
> I realize this is probably a dumb question, but I think there must be an
> easy way to do this with R and I was not able to find it in the doc. 
> 
> I have a table (read from a file with read.table), with two factor
> columns, table$A and table$B, and a numerical column, table$X. I wish to
> make a boxplot of  (table$X ~ table$A) for a given value of B. Is there
> a way to express this with a formula, or is it necessary to manually
> extract the right lines in the table? In that case, what is the best way
> to do so?
> 
> Thanks for your help
> 
> 
> Alexandre "R newby" Fayolle
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marlene.mueller at gmx.de  Sun Dec 10 17:20:10 2000
From: marlene.mueller at gmx.de (Marlene Mueller)
Date: Sun, 10 Dec 2000 17:20:10 +0100
Subject: [R] installing R 1.1.1 on SuSE 7.0
References: <20001210135811.16759.qmail@web3706.mail.yahoo.com>
Message-ID: <3A33AD3A.3FA3AB82@gmx.de>

Andy Bernat wrote:
> 
> Dear List,
> I just tried installing R 1.1.1 on SuSE 7.0 and encountered some
> problems.  Using the precompiled binaries, I had a failed dependency: R
> was looking for "libblas.so.2" and apparently didn't find it.  I then

blas is typically part of the "beo" series in SuSE. if it's not
part of the personal edition (I have the professional version),
you should find it on SuSE's ftp server (blas.rpm in e.g.
ftp://ftp.suse.com/pub/suse/i386/7.0/suse/beo1/)

hope that helps, marlene

-- 
Marlene Mueller 
http://www.uni-bayreuth.de/departments/math/org/mathe7/Mueller.html
http://ise.wiwi.hu-berlin.de/~marlene
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tord.snall at ebc.uu.se  Sun Dec 10 21:13:45 2000
From: tord.snall at ebc.uu.se (Tord Snall)
Date: Sun, 10 Dec 2000 21:13:45 +0100
Subject: [R] basic plot() question
Message-ID: <3.0.6.32.20001210211345.009a7880@mail.anst.uu.se>

Dear all,
I try to plot a logstic regression model as follows:
 
Valkror<- read.table("Valkror.txt", header=T)
np.bark<- glm(Npinc~bark, family=binomial, data=Valkror)
plot.formula(np.bark$fitted.values~ Valkror$bark)

The above looks nice but I want to connect the points with a line so I try:

plot.formula(np.bark$fitted.values~ Valkror$bark, type="b")

but it gives a somewhat! unexpected figure.     :(

Could someone please give a clue....


Sincerely,
Tord

-----------------------------------------------------------------------
Tord Sn?ll
Avd. f v?xtekologi, Evolutionsbiologiskt centrum, Uppsala universitet
Dept. of Plant Ecology, Evolutionary Biology Centre, Uppsala University
Villav?gen 14			
SE-752 36 Uppsala, Sweden
Tel: 018-471 28 82 (int +46 18 471 28 82) (work)
Tel: 018-25 71 33 (int +46 18 25 71 33) (home)
Fax: 018-55 34 19 (int +46 18 55 34 19) (work)
E-mail: Tord.Snall at ebc.uu.se
------------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ray.Brownrigg at mcs.vuw.ac.nz  Sun Dec 10 21:30:54 2000
From: Ray.Brownrigg at mcs.vuw.ac.nz (Ray Brownrigg)
Date: Mon, 11 Dec 2000 09:30:54 +1300 (NZDT)
Subject: [R] seq(0.05,0.95,by=0.002) and logical error
Message-ID: <200012102030.JAA18117@aqua.mcs.vuw.ac.nz>

| That's a computational problem:
|   
|   jj <- seq(0.05, 0.95, by=0.002)
|   options("digits" = 22)
|   jj[351]  # result:  [1] 0.75000000000000011
| 
| So sum(jj==0.75) gives the *correct* answer. 
| 
Also note that:
> jj <- seq(50, 950, by=2)/1000
> sum(jj==0.75)
[1] 1
>
will (should!) always give the answer you require.

The problem is that .002 is not *exactly* .002, and (more generally),
decimal floating point numbers cannot in general be represented exactly
in binary.

> > sum(jj==0.562)
> [1] 1
> > sum(jj==0.564) ## 0.564 seems to be the cutoff point
> [1] 0

This is not quite the true situation. The 'correct' values are scatterd
throughout the vector jj:

> kk <- seq(50, 950, by=2)/1000	# generate 'correct' values
> ll <- as.numeric(jj==kk)
> ll
  [1] 1 0 0 1 1 0 1 1 1 1 1 0 0 0 1 1 1 1 0 1 1 1 1 1 1 1 0 0 0 0 1 1 1 1 0 0 0
 [38] 1 1 1 1 1 1 1 1 1 0 0 0 0 0 0 0 1 1 1 1 1 1 1 0 1 1 1 1 1 1 1 1 1 1 1 1 1
 [75] 1 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
[112] 1 1 1 1 1 0 0 0 0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0 0 1
[149] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0 0 0 1 1 1 1 1 1
[186] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0 1 1 1 1 1 1 1 1 1 1 1 1
[223] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0 0
[260] 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 1 1 1 1 1
[297] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0
[334] 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
[371] 1 1 1 1 1 1 1 1 1 1 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
[408] 0 0 0 0 0 0 0 0 0 0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
[445] 0 0 0 0 0 0 0
> sum(ll)
[1] 296
> 
So more than 60% of them are 'correct'.

Hope this helps,
Ray Brownrigg
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Dec 10 21:51:48 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 10 Dec 2000 20:51:48 +0000 (GMT)
Subject: [R] Re: Importing Excel .xls into R
In-Reply-To: <6rg0k1pg6o.fsf@franz.stat.wisc.edu>
Message-ID: <Pine.GSO.4.05.10012102049050.14782-100000@auk.stats>

On 6 Dec 2000, Douglas Bates wrote:

> Alexandre Fayolle <Alexandre.Fayolle at logilab.fr> writes:
> 
> > On Wed, 6 Dec 2000, Richard A. Bilonick wrote:
> > 
> > > I don't believe there is any direct way of doing this. 
> > 
> > Isn't is possible to access an Excell document via ODBC ?
> 
> I know you can go the other way and import a table from an ODBC
> connection into an Excel spreadsheet.  I did that recently.  
> 
> For this kind of exchange Excel is the client on the ODBC connection.
> I would be surprised if one were able to transfer data the other way
> by making Excel function as an ODBC server. Excel doesn't seem to have
> a way of enforcing consistency in the contents of cells in a column
> and consistency in columns is important for many other systems that
> can use ODBC connections.  In some ways consistent storage and
> interpretation for all the elements of a column is the defining
> feature of a relational database table.

Doug's caveats are right, but Excel *is* an ODBC server, and I have
actually imported from Excel into R using RODBC.  The naming
conventions were a nightmare, though.

ODBC is not just about relational databases, in that ODBC bridges can make
other systems look like relational databases, even text files (which cna be
useful if they are compressed).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Dec 10 22:02:29 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 10 Dec 2000 22:02:29 +0100
Subject: [R] basic plot() question
In-Reply-To: Tord Snall's message of "Sun, 10 Dec 2000 21:13:45 +0100"
References: <3.0.6.32.20001210211345.009a7880@mail.anst.uu.se>
Message-ID: <x2itosdm6y.fsf@blueberry.kubism.ku.dk>

Tord Snall <tord.snall at ebc.uu.se> writes:

> Dear all,
> I try to plot a logstic regression model as follows:
>  
> Valkror<- read.table("Valkror.txt", header=T)
> np.bark<- glm(Npinc~bark, family=binomial, data=Valkror)
> plot.formula(np.bark$fitted.values~ Valkror$bark)
> 
> The above looks nice but I want to connect the points with a line so I try:
> 
> plot.formula(np.bark$fitted.values~ Valkror$bark, type="b")
> 
> but it gives a somewhat! unexpected figure.     :(
> 
> Could someone please give a clue....

Not having your data, I can't see what is wrong with your plot, but
I'd wager that it is because the x values are out of sequence. You
could try 

Valkror2<-Valkror[order(Valkror$bark),]

and then

plot(predict(np.bark,Valkror2,type="response")~Valkror2$bark,type="b")

which is also safer than your strategy in case there are missing
values in your data.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From P.Connolly at hortresearch.co.nz  Sun Dec 10 22:10:22 2000
From: P.Connolly at hortresearch.co.nz (Patrick Connolly)
Date: Mon, 11 Dec 2000 10:10:22 +1300 (NZDT)
Subject: [R] RE: (CSV files)
In-Reply-To: <x2u28g5kef.fsf@blueberry.kubism.ku.dk> from "Peter Dalgaard BSA" at Dec 07, 2000 04:19:20 PM
Message-ID: <200012102110.eBALAMY03801@biomat1.marc.hort.cri.nz>

According to Peter Dalgaard BSA:
|> 
|> Alexandre Fayolle <Alexandre.Fayolle at logilab.fr> writes:
|> 
|> > On Thu, 7 Dec 2000, Yves Gauvreau wrote:
|> > 
|> > > I would have tought that it was common knowledge that a file with a .csv
|> > > extention under windows, mean a file with comma separated values. Excel
|> > > knows how to handle many types of data files and a CSV file is just one of
|> > > these types.
|> > 
|> > Be careful to mind your internationalisation settings, though. On a french
|> > installation of windows, for example, the default decimal separator is the
|> > comma (','), and a csv file will use a semi-colon (';') as a separator
|> > (which can cause errors of read on a another machine with different
|> > parameters).
|> 
|> Danish settings will do that too as well as those of large parts of
|> continental Europe. Hence the existence of read.csv2() and in 1.2 also
|> read.delim2(). In fact some versions of Excel will write .csv in that
|> format and then try to use the comma as separator when reading the
|> file back in....
|> 
|> (And SAS uses '.' and ',' when im/exporting CSV irrespective of
|> locale, whereas SPSS uses ',' and ';' according to windows settings.
|> So over here they can't read eachothers CSV files without substantial
|> wand-waving. Sigh.)


Perhaps I've missed something in the last 6 years or so, but I can't
understand why anyone would bother with CSV files when what Excel
calls a "Text (Tab delimited) *.txt" file seems to avoid any need for
wand waving.

Maybe I live in a sheltered environment.....

best

-- 
*************************************************************
Patrick Connolly
HortResearch        
Mt Albert               It's better to do nothing than to waste time
Auckland                                      ..... Viktoras Kulvinskas
New Zealand                          
Ph: +64-9 815 4200 x 7188
*************************************************************
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Sun Dec 10 23:00:59 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Sun, 10 Dec 2000 14:00:59 -0800 (PST)
Subject: [R] Workspaces & Memory Requirements
In-Reply-To: <000401c0626e$e90298c0$0200a8c0@grandslam>
Message-ID: <Pine.GSO.4.21.0012101340460.9987-100000@atlas.biostat.washington.edu>

On Sun, 10 Dec 2000, Dilip N. Thadani wrote:

> Can someone explain memory and workspaces in R.  For example, I read in the
> FAQ (or somewhere) that in R, the entire workspace is loaded into memory.

Yes
 
> So if I use and save many data frames or matrices in my workspace, are all
> of these objects getting loaded into memory each time?

Yes

>  If so this is very
> inconvenient if one wants to store data in matrices on an ongoing basis but
> not use them everytime one uses R.

The objects will get paged out to virtual memory (with the new garbage
collector and a good OS) if they aren't ever used, but there is still some
inconvenience.
 
> So how should one manage objects in R.  Should one be using multiple
> workspaces or should one write a couple of functions that dump objects out
> into text files and then source them back before use and so on.

Data can be stored with save()/load(), which is faster than dump()ing into
text files. 

> Is the new dynamic memory model upcoming in the next release of R going to
> also read all objects in a workspace into RAM?

Yes. As mentioned above it is done a bit more efficiently now.

> Also, how do I take all of my user written R functions and make them into a
> library so that they can be accessible from any workspace?  And can these
> functions be edited and saved on the fly into the library?

You can make a package as described in the "Writing R Extensions" manual.
Basically you need a directory with subdirectories R/ for R code and man/
for documentation and a DESCRIPTION file. After being installed with R
INSTALLL the package can be loaded with library() and unloaded with
detach()

You can also save() functions and/or data to a file and attach() the file,
and detach() it when you're done. This is similar to attach()ing a
directory in S-PLUS.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From abernatj at yahoo.com  Mon Dec 11 03:04:23 2000
From: abernatj at yahoo.com (Andy Bernat)
Date: Sun, 10 Dec 2000 18:04:23 -0800 (PST)
Subject: [R] installing R 1.1.1 on SuSE 7.0
Message-ID: <20001211020423.25639.qmail@web3702.mail.yahoo.com>

Many thanks to Marlene Mueller, Uwe Legges, and lvaro Novo for so
quickly solving my problem by pointing me to blas.rpm. That's all it
took. 
Regards,
Andy.


--- Marlene Mueller <marlene.mueller at gmx.de> wrote:
> Andy Bernat wrote:
> > 
> > Dear List,
> > I just tried installing R 1.1.1 on SuSE 7.0 and encountered some
> > problems.  Using the precompiled binaries, I had a failed
> dependency: R
> > was looking for "libblas.so.2" and apparently didn't find it.  I
> then
> 
> blas is typically part of the "beo" series in SuSE. if it's not
> part of the personal edition (I have the professional version),
> you should find it on SuSE's ftp server (blas.rpm in e.g.
> ftp://ftp.suse.com/pub/suse/i386/7.0/suse/beo1/)
> 
> hope that helps, marlene
> 
> -- 
> Marlene Mueller 
> http://www.uni-bayreuth.de/departments/math/org/mathe7/Mueller.html
> http://ise.wiwi.hu-berlin.de/~marlene


__________________________________________________
Do You Yahoo!?
Yahoo! Shopping - Thousands of Stores. Millions of Products.
http://shopping.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From joehl at web.de  Mon Dec 11 00:13:41 2000
From: joehl at web.de (=?iso-8859-1?Q? Jens=20Oehlschl=E4gel ?=)
Date: Mon, 11 Dec 2000 00:13:41 +0100
Subject: [R] Patents on algorithms harm data analytic services
Message-ID: <200012102313.AAA17231@mailgate3.cinetic.de>

Cologne, 10.12.00

Dear Sir,
Dear Madam,

We are concerned about the possibility that the European Commission might introduce software patenting into the European Community because we think this will harm our profession.

We make our living on data management and statistical analyses. Modern statistics crucially depends on algorithms [cf. Venables, W. N., & Ripley, B. D. (1999). Modern applied statistics with S-Plus. New York, Berlin, Heidelberg: Springer Verlag]. Furthermore modern data analysis goes far beyond applying algorithms contained in ready-to-use software packages, modern data analysis means customizing or developing algorithms suitable to specific data situations [cf. Chambers, J. M. (1999), Programming with data, a guide to the S language. New York, Berlin, Heidelberg: Springer Verlag; Venables, W. N., & Ripley, B. D. (2000). S Programming. New York, Berlin, Heidelberg: Springer Verlag]. Our work involves generating ideas about appropriate algorithms, turning them quickly into software ('rapid prototyping'), gradually improving successful algorithms in terms of performance, usability and documentation and sharing those algorithms with colleagues. This is a modern service oriented business: it's about selling intellectual service, not about selling 'intellectual property'.

However, software patenting threats this business, as nobody doing that type of work has the time or resources to check whether an algorithm might violate any patents. Checking for equivalence between algorithms is a non-trivial task, and often it is less time consuming to program an algorithm than to search and buy it. And once we have created it on our own, we might want to improve it and share it or even sell it. We do not see any contradiction between patent free algorithms and selling software. We are convinced that for good software there will always be a market, as can be seen with the statistics programming language S. Although there is a free open source implementation (called R) a private company can sell a commercial implementation (S+ by MATHSOFT) which offers certain advantages. It is rather the other way round: the existence of free algorithms and free software pushes software developers to improve their products, such free market competition pushes the new economy. The real big business and the real big challenge of modern software is achieving integration, not having unique or secret algorithms. It's an old economy idea to put a patent on an algorithm and to lean back waiting for money to come.

Software patenting does not only directly harm our professional business, but also indirectly threatens freedom of research, as research crucially depends on 'data analysis' and 'sharing ideas', which is incompatible with patenting algorithms. Furthermore patent restrictions on algorithms (and thus on data analysis) can harm society: It has been argued (by Edward Tufte, an expert on data visualization) that the challenger explosion could have been avoided given appropriate data analysis. Now imagine someone comes to you and says 'tomorrow morning we have this challenger launch and we suspect that ... we urgently need these data analyzed' and you have to answer 'well, let's go to the patent office'.

Best Regards

Dr. Jens Oehlschl?gel & Peter Malewski
Research Consultants



petition at eurolinux.org wrote on November 14th 00:

> Let the EC know what you think about software patents
>
> Dear Sir,
> Dear Madam,
> 
> The European Commission is currently researching the economic impact of 
> software patents. For quite obvious reasons, many patent attorneys and 
> IP lawyers who earn money through the patent system are currently lobbying 
> the European Commission in favor of a broad extension of the patent system 
> to software, business methods, intellectual methods, etc.
> 
> Unless you express your own opinion, only their opinion will be taken into 
> account in the decision process, whatever the consequences on your business, 
> whatever the consequences on innovation.
> 
> It is therefore very important and urgent, if you consider software patents 
> to be more harmful than useful, to send your opinion by email to:
> 
> 	consultation at eurolinux.org
> 
> as soon as possible and, in any case, before December 15th, 2000. You
> can write in the official language of any member country of the European
> Union.
> 
> Your email will then be forwarded to the European Commission and published on 
> the EuroLinux Web in order to make sure that your point of view is taken into 
> consideration:
> 
> 	http://petition.eurolinux.org/consultation
> 
> There is currently a consensus among economists on the fact that software 
> patents tend to stifle innovation and harm small and medium enterprises 
> because they create tremendous juridical uncertainty which only benefits to 
> patent attorneys and lawyers. There is also a consensus among patent 
> attorneys on the fact that patents on business methods are just a kind of 
> software patents and that it is impossible to ban business method patents 
> once software patents become legal.
> 
> Please write serious (but not necessarily long) emails, with a consistent
> analysis based on economics, technology or real world examples from your
> everyday practice. Here are a few advice for your email to reach maximal impact
> within the European Commission:
> 
> 	1- NO POLITICS - Do not include in your emails any political analysis.
> Otherwise, certain civil servants at the European Commission will pretend that
> you are politically biased and claim that your arguments are irrelevant.
> 
> 	2- FREE MARKET RHETORICS - Use rhetorics based on free market,
> competition, innovation, entrepreneurship, SMEs and property, just as if you
> were the chief of the federation of enterprises in your country. EuroLinux has
> experienced that "free market economy" is currently the only common language
> which most civil servants at the European Commission understand. In order to
> let them understand your point of view and take it into account, it is
> compulsory to speak their language. Arguments based on epistemology, ethics or
> history are acceptable but have in general no positive impact on the European
> Commission because only few people will understand them.
> 
> 	3- DAVOS COMPATIBLE - Imagine that you are introducing your point of
> view at the Davos Economic Forum in front of CEOs who will only listen to you
> if your arguments mean more profits to them. Incidentally, many Commissioners
> at the European Commission used to be members of the steering committee of the
> Davos Economic Forum.
> 
> 	4- CONSENSUS AMONG ECONOMISTS - Always mention that there is a
> consensus among economists on the fact that software patents harm innovation.
> 
> Please understand that our advice does not represent any political point of
> view of the EuroLinux Alliance and is strictly designed at helping you to
> present your arguments in such way that they are going to be taken into
> account by the European Commission.
> 
> For more information on software patents, please read our knowledge 
> database and follow the links:
> 
> 	http://petition.eurolinux.org/consultation
> 	http://petition.eurolinux.org/pr/pr5.html
> 
> If you need inspiration to write your own statement, you may also access our 
> statements database where 100 European companies have already published 
> position statements:
> 
> 	http://petition.eurolinux.org/statements
> 
> Best regards,
> 
> EuroLinux Alliance
> petition at eurolinux.org
> http://petition.eurolinux.org
> 
>
______________________________________________________________________________
Die Fachpresse ist sich einig: WEB.DE 15mal Testsieger! Kostenlos E-Mail, 
Fax, SMS, Verschl?sselung, POP3, WAP....testen Sie uns! http://freemail.web.de

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jhoksane at ecology.helsinki.fi  Mon Dec 11 07:03:10 2000
From: jhoksane at ecology.helsinki.fi (Jari Oksanen)
Date: Mon, 11 Dec 2000 08:03:10 +0200
Subject: [R] graphic interface on redhad 7.0 ? 
In-Reply-To: Message from latouche <latouche@dbim.jussieu.fr> 
   of "Thu, 09 Nov 2000 16:04:39 +0100." <3A0ABD07.6EFBC7AA@dbim.jussieu.fr> 
Message-ID: <200012110603.IAA24203@khatkhat.ecology.helsinki.fi>


latouche at dbim.jussieu.fr said:
> I've just installed R  on redhat 7.0 i can use it in an Xterm window
> how can i have an graphic interface (the same as windows R interface)?

"When the main use of a machine is Windows applications, it's probably
better to use a Windows operating system, however painful that is to
me." Linus Torvalds 19/4/99

cheers, jo
-- 
Jari Oksanen - Dept Ecol Env Sci, Univ Helsinki, 15140 Lahti
Ph. +358 3 89220312, Fax -- 89220289, Mobile +358 40 5136529
jari.oksanen at helsinki.fi    http://www.helsinki.fi/~jhoksane


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Mon Dec 11 11:39:07 2000
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Mon, 11 Dec 2000 10:39:07 +0000
Subject: [R] more boxplot questions
In-Reply-To: <3A334845.881E8AB7@free.fr>
References: <3A334845.881E8AB7@free.fr>
Message-ID: <Wm6NxcAL7KN6Ew5+@myatt.demon.co.uk>

Alexandre Fayolle <Alexandre.Fayolle at free.fr> writes:

>I have a couple more questions about boxplots. In the books I've read on
>statistics (I'm not a statistics expert but just a poor engineer trying
>to help his wife with the analysis of the data she gathered for her
>medieval history PhD), I seen two kinds of box plots: one using
>quartiles to determine the height of the rectangles and whiskers which
>is what the standard R boxplot does, from what I read in the doc, and
>another one using  the the variance (rectangle height = 2s, whiskers
>going from +1s to +2s and -1s to -2s). Is there a way to produce such
>boxplot with R ?

Yes, by using the bxp() function on a data structure containing the relevant values:

        #
        # using a standard R dataset
        #
        data(ToothGrowth)
        attach(ToothGrowth)

        #
        # standard boxplot
        #
        boxplot(len)

        #
        # get stats for the standard boxplot
        #
        bp.stats <- boxplot.stats(len)

        #
        # have a look at the structure (list) returned by boxplot.stats()
        #
        bp.stats

        #
        # we can recreate this structure but with means and SDs ...
        #
        bp.limits <- as.matrix(c(mean(len) - 2 * sd(len),
                                mean(len) - sd(len),
                                mean(len),
                                mean(len) + sd(len),
                                mean(len) + 2 * sd(len)))
        bp.stats <- list(stats = bp.limits, n = length(len), conf = NULL,
                         out = numeric(0))

        #
        # and plot it ...
        #
        bxp(bp.stats)

This could be rolled up into a function ... in essence you create a structure (list)
that bxp() can use. Watch out for NA values in the mean(), and sd().

I think that there is an error in the R documentation about the bxp() structure ...
$stats should be a matrix not a vector ... but I may have that wrong.

>Second question: I would like to ponderate the plotted variable with
>another variable. To take an example, the grouping factor A is a
>production city, X is a unitary price and Y is a quantity bought from
>city Ai at price Xi. I would like to make a boxplot of the prices
>ponderated by the quantity bought. Since it sounds like a fairly
>standard visualization, I suppose ther's an easy way to do this with R.

This looks like a problem for coplot() if X and Y are continuous and you want scatters
of them by levels of factors. With boxplot() you need to use the 'interaction' term in
the formula you supply to boxplot. With a standard R dataset:

        data(ToothGrowth)
        boxplot(len~interaction(supp, dose), data = ToothGrowth)

You could make it clearer with by adding colour:

        boxplot(len~interaction(supp, dose), data = ToothGrowth, col = c(7,3))

It only works with data.frames (I think).

I hope that helps.

Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Dec 11 14:21:53 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 11 Dec 2000 14:21:53 +0100
Subject: [R] Re: [Rd] Problem with DLL in Windows NT (PR#763)
References: <200012111304.OAA13836@pubhealth.ku.dk>
Message-ID: <3A34D4F1.4D3F15C1@statistik.uni-dortmund.de>



hanspeter_wuermli at swissre.com wrote:
> 
> Full_Name: Hans Peter W?rmli
> Version: 1.0.0 or latest
> OS: NT4.0
> Submission from: (NULL) (193.134.170.35)
> 
> I used R for some time and loading a library worked fine. I received a new PC a
> few days ago and cannot remember whether I had used the program that doesn't
> work anymore, because library "integrate" cannot be loaded. Since I installed
> the latest version (1.1.1? the one copying files into rw1011) together with the
> replacement R.dll, the error appeared. Going back to 1.0.0 doesn't help.
> 
> When I type: > require(integrate)
> 
> a error message popup window appears:
> 
> "Rgui.exe - Entry Point Not Found
> The procedure entry point REAL could not be located in the dynamic link library
> R.dll"
> 
> R error message:
> 
> "Loading required package: integrate
> Error in dyn.load(x, as.logical(local), as.logical(now)) :
>         unable to load shared library
> "D:\data\WUH\R\rw1000/library/integrate/libs/integrate.dll":
>   LoadLibrary failure"
> 
> I am grateful for help (but not desperate as I run Linux at home).

Works for me on R-1.1.1, NT4.0.
Did you anstall the latest integrate package?

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From healthmaps at home.com  Mon Dec 11 15:50:45 2000
From: healthmaps at home.com (Health Maps)
Date: Mon, 11 Dec 2000 06:50:45 -0800
Subject: [R] GIS and Spatial stat summary
Message-ID: <NPELLJGFJFGIOAHJFBAEAEFNCLAA.healthmaps@home.com>

Summarizing my question about S or R free spatial stat routines:

http://www.stat.colostate.edu/~rdavis/st523/  some stuff available, other
stuff behind a password
http://www.maths.lancs.ac.uk/~diggle/

http://www.maths.uwa.edu.au/~adrian/spatstat.html

http://www-stat.sci.uni-klu.ac.at/~agebhard/ERSA-98-D8-427/index.html

http://www-stat.uni-klu.ac.at/~agebhard/ERSA-98-D8-427/node4.html

  library "spatial" contained in the V&R packages
http://www.stats.ox.ac.uk/pub/MASS3/Windows.shtml  (S-Plus 2000 has these)

http://reclus.nhh.no/gc00/gc009.htm

A review of the MathSoft Spatial stats module  (which is not
free)http://www.stats.gla.ac.uk/cti/activities/reviews/97_02/splus_spatialst
ats.html

http://www-stat.uni-klu.ac.at/~agebhard/ERSA-98-D8-427/node4.html

http://lib.stat.cmu.edu/S/

Richard Hoskins
healthmaps at home.com
GMT -8

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20001211/6cddd405/attachment.html

From p.dalgaard at biostat.ku.dk  Mon Dec 11 17:27:11 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 11 Dec 2000 17:27:11 +0100
Subject: [R] RE: (CSV files)
In-Reply-To: "Patrick Connolly"'s message of "Mon, 11 Dec 2000 10:10:22 +1300 (NZDT)"
References: <200012102110.eBALAMY03801@biomat1.marc.hort.cri.nz>
Message-ID: <x2n1e253fk.fsf@blueberry.kubism.ku.dk>

"Patrick Connolly" <P.Connolly at hortresearch.co.nz> writes:

> |> Danish settings will do that too as well as those of large parts of
> |> continental Europe. Hence the existence of read.csv2() and in 1.2 also
> |> read.delim2(). In fact some versions of Excel will write .csv in that
> |> format and then try to use the comma as separator when reading the
> |> file back in....
> |> 
> |> (And SAS uses '.' and ',' when im/exporting CSV irrespective of
> |> locale, whereas SPSS uses ',' and ';' according to windows settings.
> |> So over here they can't read eachothers CSV files without substantial
> |> wand-waving. Sigh.)
> 
> 
> Perhaps I've missed something in the last 6 years or so, but I can't
> understand why anyone would bother with CSV files when what Excel
> calls a "Text (Tab delimited) *.txt" file seems to avoid any need for
> wand waving.
> 
> Maybe I live in a sheltered environment.....

An English-language one for a start. Even TAB-separated files have the
decimal separator issue... Also, watch out with empty fields.

(And folklore has it that there are still emailers that do strange
things to TAB characters.)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Dec 11 17:52:00 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 11 Dec 2000 16:52:00 +0000 (GMT)
Subject: [R] Re: [Rd] Problem with DLL in Windows NT (PR#763)
In-Reply-To: <3A34D4F1.4D3F15C1@statistik.uni-dortmund.de>
Message-ID: <Pine.GSO.4.05.10012111648200.18159-100000@toucan.stats>

On Mon, 11 Dec 2000, Uwe Ligges wrote:

> 
> 
> hanspeter_wuermli at swissre.com wrote:
> > 
> > Full_Name: Hans Peter Wrmli
> > Version: 1.0.0 or latest
> > OS: NT4.0
> > Submission from: (NULL) (193.134.170.35)
> > 
> > I used R for some time and loading a library worked fine. I received a new PC a
> > few days ago and cannot remember whether I had used the program that doesn't
> > work anymore, because library "integrate" cannot be loaded. Since I installed
> > the latest version (1.1.1? the one copying files into rw1011) together with the
> > replacement R.dll, the error appeared. Going back to 1.0.0 doesn't help.
> > 
> > When I type: > require(integrate)
> > 
> > a error message popup window appears:
> > 
> > "Rgui.exe - Entry Point Not Found
> > The procedure entry point REAL could not be located in the dynamic link library
> > R.dll"
> > 
> > R error message:
> > 
> > "Loading required package: integrate
> > Error in dyn.load(x, as.logical(local), as.logical(now)) :
> >         unable to load shared library
> > "D:\data\WUH\R\rw1000/library/integrate/libs/integrate.dll":
> >   LoadLibrary failure"
> > 
> > I am grateful for help (but not desperate as I run Linux at home).
> 
> Works for me on R-1.1.1, NT4.0.
> Did you anstall the latest integrate package?

Just to spell that out, I suspect that you have too old a version of
integrate.zip.  What you want is not the latest, but the version in
bin/windows/contrib/Old on CRAN.  `Old' because R-1.2.0 is due out this
week, and I have begun to clear the decks.

As a general point, do make sure that compiled packages are at least
as late as the version of R you are using, and when R 1.2.0 is released
on Windows, users will need to update most of the packages: those from
rw1011 will not work in most cases.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kstaupe at gwdg.de  Mon Dec 11 21:39:28 2000
From: kstaupe at gwdg.de (Kai Staupendahl)
Date: Mon, 11 Dec 2000 21:39:28 +0100
Subject: [R] Installation
Message-ID: <000a01c063b2$758a4ba0$50c14c86@uniforst.gwdg.de>

Hi,

I have the following (probably trivial) problem:

I am running a Windows 95 System and have setted the environment variables R_HOME and especillay R_USER in the autoexec.bat. The idea was, to invoke R at the startup to read in the files .Renviron and .Rprofile from my home directory, even when the current working directory is somewhere else.

Subject to the manual it should work, but it does not! These configuration files are only read in, if they are in the current working directory. But I do not want to write and save these files for every R project!

Who knows the solution?

Thank your for your ansers in advance,

Kai Staupendahl 




***************************************************************
Kai Staupendahl 

Diplom-Forstwirt (M.Sc.)  

Institut fuer Forsteinrichtung und Ertragskunde
Fakultaet fuer Forstwissenschaften und Waldoekologie
Georg-August-Universitaet Goettingen

Institute of Forest Management and Yield Science 
Faculty of Forest Sciences and Forest Ecology 
Georg-August-University Goettingen 

Buesgenweg 5
D-37077 Goettingen

Fon: +49-551-393476
Fax: +49-551-399787
Url: http://www.uni-forst.gwdg.de/~kstaupe
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20001211/c2a6f9a3/attachment.html

From Alexandre.Fayolle at free.fr  Mon Dec 11 22:02:49 2000
From: Alexandre.Fayolle at free.fr (Alexandre Fayolle)
Date: Mon, 11 Dec 2000 22:02:49 +0100
Subject: [R] more boxplot questions
References: <3A334845.881E8AB7@free.fr> <Wm6NxcAL7KN6Ew5+@myatt.demon.co.uk>
Message-ID: <3A3540F9.88F1E526@free.fr>



Mark Myatt a ?crit :

<very detailed answer skipped> 
> I hope that helps.

It does. Thank you very much for the detailed answer. R is a great piece
of software, but the library is huge, and it takes quite some time just
to start getting a grasp of what's available.

Alexandre

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cjeff at geog.ubc.ca  Tue Dec 12 00:10:49 2000
From: cjeff at geog.ubc.ca (Chris Jeffery)
Date: Mon, 11 Dec 2000 15:10:49 -0800 (PST)
Subject: [R] axis label rotation
In-Reply-To: <016f01c05d89$fdc5df40$175dd882@stat.auckland.ac.nz>
Message-ID: <Pine.GSO.4.10.10012111510010.29327-100000@phoebe>


On Mon, 4 Dec 2000, Paul Murrell wrote:

> Hi
> 
> 
> > I recently switch over from Splus to R and I have not been able to
> > generate right axis labels that face inwards.  This is accomplished
> > in Splus with the command srt=270 but this option is not supported
> > in R.  In addition the par argument las=0 or 3 does not rotate the
> > right axis labels.
> 
> 
> Unfortunately, R's axis() and mtext() functions only listen to par(las) to
> determine text rotation (i.e., they ignore par(srt)) and they only choose
> between srt=0 and srt=90.  This is actually documented behaviour (see
> help(par)), but I doubt that is much help to you :)
> 
> 
> > The editor of a journal is demanding that the right axis labels face
> > inwards in the figures I recently submitted.  I am really at a loss
> > because these editors are inflexible with respect to their in-house
> > journal styles.
> 
> 
> This is not pretty, but if I have understood correctly it should do what you
> want ...
> 
> par(xpd=T)  #  so that text() will draw outside of the plotting region
> plot(1:10)    # replace this with  your plotting commands
> axis(4, labels=F)    # draw axis ticks but no labels
> text(rep(11, 5), seq(2,10,2),  seq(2,10,2), srt=270)    # draw tick labels
> by hand
> 
> ... where I have used `rep(11, 5)` for the x-locations of the labels, you
> will need to experiment to get the placing right.  You will also need to
> replace the `seq(2,10,2)` bits with appropriate y-locations too.  The
> problem with the x-locations is that this is trying to locate the text
> within the plot margins by specifying x-locations in terms of the user
> coordinate system.  As I said, it is not pretty :)
> 
> Paul
> 

Thanks Paul,

That did the trick.

Chris Jeffery


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From d.scott at auckland.ac.nz  Tue Dec 12 04:09:51 2000
From: d.scott at auckland.ac.nz (David Scott)
Date: Tue, 12 Dec 2000 16:09:51 +1300 (NZDT)
Subject: [R] Off-topic---hardware
Message-ID: <Pine.SOL.3.96.1001212151821.4355F-100000@aitken.scitec.auckland.ac.nz>


Sorry to be completely off topic here, but I know there will be many list
members who have an interest in and knowledge of hardware.

We have for some time used Sun hardware for our departmental servers, most
recently Sun Ultras of various specifications, running Solaris. We share
some hardware with Mathematics as well. 

The applications we use are the usual suspects:
R (obviously), S-PLUS, the statistical software which must not be
named***, Matlab, Maple
also we have compilers, C, C++, Fortran, and various tools such as TeX
etc.

I am of the view that Sun is pretty damn expensive these days
(particularly in NZ$), and also less and less defines the mainstream.
Whereas once most things first appeared on Sun, now much of the action is
for free unix OS with intel hardware.

For these reasons we are looking at purchasing a four processor intel box.
We are looking at the IBM Netfinity 7100 and the Intel ISP4400. For us the
IBm is much more expensive for what looks like pretty much the same specs.

One concern in moving away from Sun is reliability. Our Ultra 450 has been
super reliable. The only times it has gone down are when we have taken it
down or when we have had extended power failures so the UPS can't maintain
supply. We would not want to go to unreliable hardware (or OS for that
matter).

Now to the questions:

Does anyone have any experience with this sort of hardware and OS
combination which they could share with me?

In particular does anyone have experience of the the IBM and or Intel
boxes?

Does anyone have any suggestions for other similar hardware?

Does anyone have any comments about the general idea of moving away from
Sun/Solaris to Intel/free unix?

Replies to me only thanks, not the list. I will try and summarise if there
is interest.

David Scott

*** my Harry Potter joke---SAS

_________________________________________________________________
David Scott     Department of Statistics
                The University of Auckland, PB 92019
                Auckland        NEW ZEALAND
Phone: +64 9 373 7599 ext 6830     Fax: +64 9 373 7018            
Email:  d.scott at Auckland.ac.nz

President, New Zealand Statistical Association
Head, Department of Statistics, University of Auckland

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cole_harris at hotmail.com  Mon Dec 11 21:27:47 2000
From: cole_harris at hotmail.com (Cole Harris)
Date: Mon, 11 Dec 2000 14:27:47 -0600
Subject: [R] ica functions/package
Message-ID: <LAW-F12LrEvLIbCQ6MJ0000593b@hotmail.com>

Does anyone know of an ICA (independent components analysis)
package for R? In particular I'm looking for an implementation of the 
FastICA algorithm.

Thanks in advance,

Cole Harris

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alexandre.fayolle at free.fr  Tue Dec 12 10:21:50 2000
From: alexandre.fayolle at free.fr (Alexandre Fayolle)
Date: Tue, 12 Dec 2000 10:21:50 +0100 (MET)
Subject: [R] Installation
In-Reply-To: <000a01c063b2$758a4ba0$50c14c86@uniforst.gwdg.de>
References: <000a01c063b2$758a4ba0$50c14c86@uniforst.gwdg.de>
Message-ID: <976612910.3a35ee2e0fc87@imp.free.fr>

En r?ponse ? Kai Staupendahl <kstaupe at gwdg.de>:

> Hi,
>
> Subject to the manual it should work, but it does not! These
> configuration files are only read in, if they are in the current working
> directory. But I do not want to write and save these files for every R
> project!
> 
> Who knows the solution?

This may be the only R related question that I have a chance to answer ;o)

What I did was making a shortcut to RGui.exe on my desktop, and edit the
properties of the shortcut to set the directory where R should run. 


Alexandre Fayolle
--
http://alexandre.fayolle.free.fr
http://www.logilab.org
Narval is the first software agent available as free software (GPL).
LOGILAB, Paris (France).

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From adrian at olsen.ch  Tue Dec 12 11:17:37 2000
From: adrian at olsen.ch (Adrian Trapletti)
Date: Tue, 12 Dec 2000 11:17:37 +0100
Subject: [R] [Fwd: R code and robust regression]
Message-ID: <3A35FB40.D3B6E0BC@olsen.ch>


-------------- next part --------------
An embedded message was scrubbed...
From: Hella Heikki <Heikki.Hella at bof.fi>
Subject: R code and robust regression
Date: Tue, 12 Dec 2000 12:12:14 +0200
Size: 2187
Url: https://stat.ethz.ch/pipermail/r-help/attachments/20001212/c3361c7d/attachment.mht

From mark at myatt.demon.co.uk  Tue Dec 12 11:52:24 2000
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Tue, 12 Dec 2000 10:52:24 +0000
Subject: [R] more boxplot questions
In-Reply-To: <3A3540F9.88F1E526@free.fr>
References: <3A334845.881E8AB7@free.fr> <Wm6NxcAL7KN6Ew5+@myatt.demon.co.uk>
 <3A3540F9.88F1E526@free.fr>
Message-ID: <h8Cg3aAoNgN6Ewf0@myatt.demon.co.uk>

Alexandre Fayolle <Alexandre.Fayolle at free.fr> writes:
>
>Mark Myatt a ?crit :
>
><very detailed answer skipped> 
>> I hope that helps.
>
>It does. Thank you very much for the detailed answer. R is a great piece
>of software, but the library is huge, and it takes quite some time just
>to start getting a grasp of what's available.

Thank you for your kind comments. I absolutely agree with you. R is a
splendid piece of software but it does take some learning. I have just
moved over to R after using EpiInfo, STATA, EGRET, and (on occasion
SPSS) and I am still confused. I guess that it sort of clicks after a
while once you get into the R way of working. I take the starting
position that "all things are possible in R" (and that is about right)
and then ask "What sort of structures are being used in similar
functions in R?". I find that they are usually well described and shared
between many different functions. So once you get the your functions to
return a standard data structure you can plug into all the R default
print and summary functions.

Best wishes,

Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Dec 12 15:23:32 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 12 Dec 2000 15:23:32 +0100
Subject: [R] R code for robust regression
In-Reply-To: <3A35FB40.D3B6E0BC@olsen.ch>
References: <3A35FB40.D3B6E0BC@olsen.ch>
Message-ID: <14902.13540.316225.224688@gargle.gargle.HOWL>


>> I have tried to search for a R code program of robust M or generalized M
>> regression estimator (like M and GM in S-Plus). Could you, please, help me
>> to find this program if it has been constructed?
>> 
>> Yours sincerely,
>> 
>> Heikki Hella
>> PhD student
>> 
>> Helsinki
>> Finland  

There are robust regression functions (not M-est)  
in the lqs package  `` library(lqs) ''; look for "resistant" instead of
"robust" (why?, well..) further enhanced by functions in the MASS package,
particularly  rlm() :

hubers(MASS)         Huber Proposal 2 Robust Estimator of Location and/or Scale 
orlm(MASS)           Fit Robust Linear Regression Model 
rlm(MASS)            Robust Fitting of Linear Models 
summary.rlm(MASS)    Summary Method for Robust Linear Models 

and in the wle package :

 wle.normal(wle)             Robust Estimation in the Normal Model
 wle.normal.multi(wle)       Robust Estimation in the Normal Multivariate Model
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Tsutakawa at home.com  Tue Dec 12 15:51:59 2000
From: Tsutakawa at home.com (Robert Tsutakawa)
Date: Tue, 12 Dec 2000 08:51:59 -0600
Subject: [R] increasing memory size in R
Message-ID: <000001c06451$3d4478c0$3bcc0c18@clmba1.mo.home.com>

How can I change thesize of the memory to, say --vsize=60 --nsize=1500k, once I have opened R?
I'm now using Windows98 and open R with an icon and don't know how to make the change once
I'm in R.  I have no problem in Unix since I can specify the change when I first open R.
Bob Tsutakawa   
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20001212/0a5dd1d8/attachment.html

From ripley at stats.ox.ac.uk  Tue Dec 12 17:01:27 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 12 Dec 2000 16:01:27 +0000 (GMT)
Subject: [R] increasing memory size in R
Message-ID: <200012121601.QAA26923@toucan.stats.ox.ac.uk>


> From: "Robert Tsutakawa" <Tsutakawa at home.com>
> Date: Tue, 12 Dec 2000 08:51:59 -0600
> 
> How can I change thesize of the memory to, say --vsize=60 --nsize=1500k, once 
I have opened R?
> I'm now using Windows98 and open R with an icon and don't know how to make the 
change once
> I'm in R.  I have no problem in Unix since I can specify the change when I 
first open R.

You can't make the change once R is open, in either Windows or Unix.
You can edit the target line of the shortcut to be

...\rw1011\bin\Rgui.exe --vsize=60M --nsize=1500k

as described in the rw-FAQ.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Dec 12 17:03:03 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 12 Dec 2000 08:03:03 -0800 (PST)
Subject: [R] increasing memory size in R
In-Reply-To: <000001c06451$3d4478c0$3bcc0c18@clmba1.mo.home.com>
Message-ID: <Pine.GSO.4.21.0012120802010.5809-100000@atlas.biostat.washington.edu>

On Tue, 12 Dec 2000, Robert Tsutakawa wrote:

> How can I change thesize of the memory to, say --vsize=60 --nsize=1500k, once I have opened R?
> I'm now using Windows98 and open R with an icon and don't know how to make the change once
> I'm in R.  I have no problem in Unix since I can specify the change when I first open R.

You can't while you're already in R. You have to do it by changing the
Properties of the icon.

However, very soon there will be R1.2 in which memory grows and shrinks as
needed, so this won't be an issue.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From adrian at olsen.ch  Tue Dec 12 11:17:37 2000
From: adrian at olsen.ch (Adrian Trapletti)
Date: Tue, 12 Dec 2000 11:17:37 +0100
Subject: [R] [Fwd: R code and robust regression]
Message-ID: <3A35FB40.D3B6E0BC@olsen.ch>


-------------- next part --------------
An embedded message was scrubbed...
From: Hella Heikki <Heikki.Hella at bof.fi>
Subject: R code and robust regression
Date: Tue, 12 Dec 2000 12:12:14 +0200
Size: 2187
Url: https://stat.ethz.ch/pipermail/r-help/attachments/20001212/c3361c7d/attachment-0001.mht

From wloliver at qwest.net  Tue Dec 12 20:24:43 2000
From: wloliver at qwest.net (Bill Oliver)
Date: Tue, 12 Dec 2000 12:24:43 -0700
Subject: [R] smoothing binary data
Message-ID: <007301c06471$2e7b79e0$5e56e43f@91qez>

I'm trying to figure out a good way to smooth binary data. The ideal
approach appears to be the "sm.logit" function in library "sm", but I
haven't had success with it. Below, is some code illustrating what I've come
up with so far, but I'm hoping there is a better approach. I'm using R 1.2
(development) under Windows 98.

-Bill

library(MASS)
data(birthwt)
attach(birthwt)

# This doesn't work for me, no matter what h equals
# Maybe I'm doing something wrong
library(sm)
sm.logit(age,low,h=3)


# This "works", but controlling the degree of smoothing
# is problematic
library(gss)
logit.fit <- gssanova(low ~ age,family="binomial")
est <- predict(logit.fit,data.frame(age=age))
plot(lowess(age,1-1/(1+exp(est))),xlab="Age",
     ylab="Low Birth Weight",ylim=c(0,1),type='l')
rug(jitter(age[low==0],amount=1))
rug(jitter(age[low==1], amount = 1), side = 3)




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Marc.Grushcow at ntt.ca  Tue Dec 12 21:38:16 2000
From: Marc.Grushcow at ntt.ca (Marc Grushcow)
Date: Tue, 12 Dec 2000 15:38:16 -0500
Subject: [R] Controlling R from Java
Message-ID: <3A368CB8.45F08D7E@NTT.ca>

I'd like to run R (LINUX) under Java. I can create the process and connect to
stdin and stdout. I can send commands in and get output back.  I don't know how
to determine when the output is complete - there is no trailing "prompt".

For example, if I send "ls()\n" what I get back is:
> ls()
character(0)

Each of the above two lines is terminated with a 0x0A. I would have expected
(liked)...
ls()
character(0)
> 

Then I could parse for the "\n> " and know when the output is complete. The
problem with checking for data availability on the input stream is that it is
unreliable. R's output buffer might flush unpredictably and/or the task
switching OS might cause R to stop after one buffer is full but before another
is completed.  In any case, it is the usual problem of one program trying to
parse another's output in a time sharing environment.

I'm sure that this problem has been solved before.  Any suggestions would be
appreciated.

Thanks
Marc
-- 
=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.
mailto:Marc.Grushcow at NTT.ca		http://www.NTT.ca
=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Alexandre.Fayolle at free.fr  Tue Dec 12 22:44:36 2000
From: Alexandre.Fayolle at free.fr (Alexandre Fayolle)
Date: Tue, 12 Dec 2000 22:44:36 +0100
Subject: [R] correspondence analysis
Message-ID: <3A369C44.1E0B65AD@free.fr>

Hello,

I'm trying to do some correspondence analyis, with R, of course (by
correspondence analysis, I'm refering to JP Benz?cri's methods, in case
there might be some other thing with a similar name)

I've found a couple of tools refering to C.A in the existing packages :
ca() in package multiv and corresp()/mca() in MASS. MASS tools look more
easy to use (it is supposed to put the data under disjunctive form by
itself, and some high level plotting functions are provided). On the
other hand, ca's results look closer to what I've seen in data analysis
textbooks.

What is worse, I've tried ca() and corresp() on a sample dataset, and
could not get the same results (or rather, I was not able to find a link
between the two result sets) :o(

First question: which one of these packages do you advise me to use?

Second question: if I use MASS, how can I get plots of the different
factorial plans. The doc says something I find very weird: "nf: The
number of factors to be computed. Note that although 1 is the most
usual, one school of thought takes the first two singular vectors for a
sort of biplot." All textbooks I've read on correspondence analysis
insisted on the fact that this method gives simetrical roles to the 2
analized factors (and therefore a plotting both factors on the same
graph was natural), and that it was necessary to take the first n
factorial axis into account when interpreting the results. 

Any insight on these matters is welcome.

Alexandre
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From d.scott at auckland.ac.nz  Tue Dec 12 04:09:51 2000
From: d.scott at auckland.ac.nz (David Scott)
Date: Tue, 12 Dec 2000 16:09:51 +1300 (NZDT)
Subject: [R] Off-topic---hardware
Message-ID: <Pine.SOL.3.96.1001212151821.4355F-100000@aitken.scitec.auckland.ac.nz>


Sorry to be completely off topic here, but I know there will be many list
members who have an interest in and knowledge of hardware.

We have for some time used Sun hardware for our departmental servers, most
recently Sun Ultras of various specifications, running Solaris. We share
some hardware with Mathematics as well. 

The applications we use are the usual suspects:
R (obviously), S-PLUS, the statistical software which must not be
named***, Matlab, Maple
also we have compilers, C, C++, Fortran, and various tools such as TeX
etc.

I am of the view that Sun is pretty damn expensive these days
(particularly in NZ$), and also less and less defines the mainstream.
Whereas once most things first appeared on Sun, now much of the action is
for free unix OS with intel hardware.

For these reasons we are looking at purchasing a four processor intel box.
We are looking at the IBM Netfinity 7100 and the Intel ISP4400. For us the
IBm is much more expensive for what looks like pretty much the same specs.

One concern in moving away from Sun is reliability. Our Ultra 450 has been
super reliable. The only times it has gone down are when we have taken it
down or when we have had extended power failures so the UPS can't maintain
supply. We would not want to go to unreliable hardware (or OS for that
matter).

Now to the questions:

Does anyone have any experience with this sort of hardware and OS
combination which they could share with me?

In particular does anyone have experience of the the IBM and or Intel
boxes?

Does anyone have any suggestions for other similar hardware?

Does anyone have any comments about the general idea of moving away from
Sun/Solaris to Intel/free unix?

Replies to me only thanks, not the list. I will try and summarise if there
is interest.

David Scott

*** my Harry Potter joke---SAS

_________________________________________________________________
David Scott     Department of Statistics
                The University of Auckland, PB 92019
                Auckland        NEW ZEALAND
Phone: +64 9 373 7599 ext 6830     Fax: +64 9 373 7018            
Email:  d.scott at Auckland.ac.nz

President, New Zealand Statistical Association
Head, Department of Statistics, University of Auckland

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pennedinil at excite.com  Tue Dec 12 22:44:06 2000
From: pennedinil at excite.com (Dinil Penne)
Date: Tue, 12 Dec 2000 13:44:06 -0800 (PST)
Subject: [R] Windows <--> UNIX File Conversion
Message-ID: <21232441.976657448972.JavaMail.imail@doby.excite.com>

I thought I'd field this question in case someone has already done this,
before proceeding with trying to develop a function on my own.

I'm generating a number of files and to keep track of them, I'm also
outputting the names of these files to external files & datasets. Depending
on the platform I'm working on, Windows or Unix, i'd like to be able to
switch between UNIX filenames (with the "/") and Windows filenames ("\").
Does someone already have a function to do this? 

Thanks in advance.

Samir.





_______________________________________________________
Send a cool gift with your E-Card
http://www.bluemountain.com/giftcenter/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Dec 12 23:30:54 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 12 Dec 2000 23:30:54 +0100
Subject: [R] Windows <--> UNIX File Conversion
In-Reply-To: Dinil Penne's message of "Tue, 12 Dec 2000 13:44:06 -0800 (PST)"
References: <21232441.976657448972.JavaMail.imail@doby.excite.com>
Message-ID: <x2puixb7c1.fsf@blueberry.kubism.ku.dk>

Dinil Penne <pennedinil at excite.com> writes:

> I thought I'd field this question in case someone has already done this,
> before proceeding with trying to develop a function on my own.
> 
> I'm generating a number of files and to keep track of them, I'm also
> outputting the names of these files to external files & datasets. Depending
> on the platform I'm working on, Windows or Unix, i'd like to be able to
> switch between UNIX filenames (with the "/") and Windows filenames ("\").
> Does someone already have a function to do this? 

file.path() maybe?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Dec 12 23:26:14 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 12 Dec 2000 14:26:14 -0800 (PST)
Subject: [R] Windows <--> UNIX File Conversion
In-Reply-To: <21232441.976657448972.JavaMail.imail@doby.excite.com>
Message-ID: <Pine.GSO.4.21.0012121422580.5809-100000@atlas.biostat.washington.edu>

On Tue, 12 Dec 2000, Dinil Penne wrote:

> I thought I'd field this question in case someone has already done this,
> before proceeding with trying to develop a function on my own.
> 
> I'm generating a number of files and to keep track of them, I'm also
> outputting the names of these files to external files & datasets. Depending
> on the platform I'm working on, Windows or Unix, i'd like to be able to
> switch between UNIX filenames (with the "/") and Windows filenames ("\").
> Does someone already have a function to do this? 
> 

It's fairly easy using gsub() 
  gsub("/","\\\\",x)
replaces "/" by "\\". but it's usually unnecessary. The Unix filenames
work under Windows.


	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mcw at ln.nimh.nih.gov  Wed Dec 13 02:16:11 2000
From: mcw at ln.nimh.nih.gov (Matthew Wiener)
Date: Tue, 12 Dec 2000 20:16:11 -0500 (EST)
Subject: [R] comparing ancova models
Message-ID: <Pine.SGI.3.96.1001212201331.293269A-100000@ln.nimh.nih.gov>

Hello, all.

I've got what is probably a simple question about comparison of models
using anova, specifically about the situations in which it's valid.  I
understand, I think, what's going on when the models are strictly
nested (as most are in the demo(lm) examples).  My question involves
what happens when the models aren't strictly nested.

In my particular case, I'm doing ancovas.  I've got values x and y for
each point, and also a factor A with four levels.  My first model is just
y ~ x, with one line.  I'd like to compare this to a model with one line
for each level of the factor, y ~ A*x.  But my original line is gone now
-- there's no effect of x overall left in the model, just the 4 sub-models
-- so this isn't nested in the same sense that, say y ~ a and y ~ a + b
and y ~ a + b + a:b are when everything is a factor.  (But I think it may
be the same as part of the birthweight, sex, and age example in the demo,
where it goes from birthweight ~ sex + age to birthweight ~ sex + age +
sex:age and you get 2 slopes instead of 1.) 

What I'm not quite sure of is whether it is valid to compare my two models
using anova, and if not, how I can compare them.  I am interested
specifically in whether going to a model with 8 parameters gets
sufficiently better prediction to be considered significant, so the F-test
format seems like what I want.  The anova function gives me results with
no problem, but the fact that I can hand it the two objects doesn't mean
I'm making sense.

I've also looked at the Aikake and Bayes information criteria for this,
which give different results from one another.  (Assuming that what I
should look for is just a decrease to mean better prediction.) 

Any advice and/or references appreciated.

Thanks,

Matt Wiener
Laboratory of Neuropsychology
NIMH/NIH
Bethesda, MD 20892
301-496-5625 x254
mcw at ln.nimh.nih.gov



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mwang at mindspring.com  Wed Dec 13 04:15:16 2000
From: mwang at mindspring.com (Michael Wang)
Date: Tue, 12 Dec 2000 22:15:16 -0500 (EST)
Subject: [R] randomized block design and two-way factorial design
Message-ID: <200012130315.WAA12702@julie.unixlabplus.com>

I am still a little unclear in the difference between
randomized block design and two-way factorial design
after consulting a few books, including John Rice 
Mathematical Statistics and Data Analysis.

Both put observations in cells corresponding to two factors
of many levels. Both use the same computer program to analyze
data. 

It seems that randomized block design can have only one observation
per cell, is this true? And Friedman's can be used for
randomized block design but not two-way factorial design?

If this is not a good place to ask generic statistical questions,
I will not do so in the future. If you know a good place to do this,
please recommend. Thanks. 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fujimori at grafin.fujimori.cache.waseda.ac.jp  Wed Dec 13 13:33:51 2000
From: fujimori at grafin.fujimori.cache.waseda.ac.jp (Yoriaki FUJIMORI)
Date: Wed, 13 Dec 2000 12:33:51 +0000
Subject: [R] R compilation on Alpha/Linux with ccc/cxx/fort
Message-ID: <200012130333.MAA27468@grafin.fujimori.cache.waseda.ac.jp>

Dear R-folks,
I guess some of you are running R on Alpha/Linux boxes.
I should be very happy, if they could tell us `success stories'
as to the Subject.
Compaq's ccc/cxx/fort for Alpha/Linux creates far better codes than
gcc, and we want to recompile R with ccc/cxx/fort.
Or, do we just miss existing good pointers for that?
Thank you for your attention.
Yoriaki Fujimori
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Dec 13 10:07:32 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Dec 2000 10:07:32 +0100
Subject: [R] comparing ancova models
In-Reply-To: Matthew Wiener's message of "Tue, 12 Dec 2000 20:16:11 -0500 (EST)"
References: <Pine.SGI.3.96.1001212201331.293269A-100000@ln.nimh.nih.gov>
Message-ID: <x2puiwvgdn.fsf@blueberry.kubism.ku.dk>

Matthew Wiener <mcw at ln.nimh.nih.gov> writes:

> I've got what is probably a simple question about comparison of models
> using anova, specifically about the situations in which it's valid.  I
> understand, I think, what's going on when the models are strictly
> nested (as most are in the demo(lm) examples).  My question involves
> what happens when the models aren't strictly nested.
> 
> In my particular case, I'm doing ancovas.  I've got values x and y for
> each point, and also a factor A with four levels.  My first model is just
> y ~ x, with one line.  I'd like to compare this to a model with one line
> for each level of the factor, y ~ A*x.  But my original line is gone now
> -- there's no effect of x overall left in the model, just the 4 sub-models
> -- so this isn't nested in the same sense that, say y ~ a and y ~ a + b
> and y ~ a + b + a:b are when everything is a factor.  (But I think it may
> be the same as part of the birthweight, sex, and age example in the demo,
> where it goes from birthweight ~ sex + age to birthweight ~ sex + age +
> sex:age and you get 2 slopes instead of 1.) 
> 
> What I'm not quite sure of is whether it is valid to compare my two models
> using anova, and if not, how I can compare them.  I am interested
> specifically in whether going to a model with 8 parameters gets
> sufficiently better prediction to be considered significant, so the F-test
> format seems like what I want.  The anova function gives me results with
> no problem, but the fact that I can hand it the two objects doesn't mean
> I'm making sense.

Unless I'm reading you completely wrong, then the two models *are*
nested. One way of deciding nestedness is that parameters of the
smaller model can be obtained by putting restrictions on the
parameters of the larger one, which is certainly the case here since
the smaller model is that all 4 slopes and all 4 intercepts are equal.

The standard parametrization for the four-lines model is in fact that
of one line + "delta values" for intercepts and slopes relative to the
first group. If the delta values are all zero, you get the one-line
model back. (A * x is really A + x + A:x, from which you want to
remove A:x and A. Removing only the interaction term gives you a
parallel lines model.)

So, anova() should handle this nicely.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Wed Dec 13 10:16:58 2000
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Wed, 13 Dec 2000 09:16:58 +0000 (GMT)
Subject: [R] randomized block design and two-way factorial design
In-Reply-To: <200012130315.WAA12702@julie.unixlabplus.com>
Message-ID: <Pine.LNX.4.10.10012130910040.2963-100000@localhost.localdomain>

On Tue, 12 Dec 2000, Michael Wang wrote:

> I am still a little unclear in the difference between
> randomized block design and two-way factorial design
> after consulting a few books, including John Rice 
> Mathematical Statistics and Data Analysis.

A place to post general stats questions:
sci.math.stat

You need a different sort of book. Here is a good one for this topic:
Neter & Wasserman, Applied linear statistical models. Irwin

Basically the difference in analysis is due to the experimental design. In
straight 2-way factorial, the subjects (experimental units, whatever) are
assigned at random to conditions (cells in your 2-way layout). In
randomized blocks, the subjects are first sorted into homogeneous blocks
and then they're assigned at random within the blocks.

The analysis has to take account of the way the expt was run.

I'm not sure if you can self-teach this stuff. You might want to
take a course.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Dec 13 11:03:28 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Dec 2000 11:03:28 +0100
Subject: [R] randomized block design and two-way factorial design
In-Reply-To: Michael Wang's message of "Tue, 12 Dec 2000 22:15:16 -0500 (EST)"
References: <200012130315.WAA12702@julie.unixlabplus.com>
Message-ID: <x2n1e0vdsf.fsf@blueberry.kubism.ku.dk>

Michael Wang <mwang at mindspring.com> writes:

> I am still a little unclear in the difference between
> randomized block design and two-way factorial design
> after consulting a few books, including John Rice 
> Mathematical Statistics and Data Analysis.
> 
> Both put observations in cells corresponding to two factors
> of many levels. Both use the same computer program to analyze
> data. 
> 
> It seems that randomized block design can have only one observation
> per cell, is this true? And Friedman's can be used for
> randomized block design but not two-way factorial design?
> 
> If this is not a good place to ask generic statistical questions,
> I will not do so in the future. If you know a good place to do this,
> please recommend. Thanks. 

There are newsgroups on Usenet, sci.stat.math, sci.stat.edu, and
sci.stat.consult as well as the Allstat mailing list and a couple of
others. However, a subject-matter question on R-help now and then
probably won't hurt.

According to Cochran+Cox, randomized blocks have one obs. per cell,
but I wouldn't be too surprised if other sources would allow more than
one (and even C+C is ambiguous since it talks about giving the same
treatment more than once within a block). 

A two-way factorial can certainly have more than one obs per cell and
the term also covers several different experimental designs, including
randomized blocks, but also the straight treatment-combination that
Bill Simpson mentioned, and repeated measures designs in which one
factor might be "subject" and the other "time".

In the one obs. per cell case with one factor being "subject" or
similar, I think the operative word is "randomized" i.e. that in the
absence of treatment effects, the treatments enter symmetrically,
and hence that among Normal models for a randomized block design, the
only relevant model for the covariance is that of compund symmetry and
for the Friedman test that all rankings of the treatments within
blocks are equally likely.

For a repeated measures design you could have substantial serial
correlations which would require a more elaborate model and the
assumptions of the null hypothesis of the Friedman test are not met in
that case. On the other hand you can of course also have data where
the model for randomized blocks fits well, and thus the standard
F-test and the Friedman test applies.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marcus.eger at physik.uni-marburg.de  Wed Dec 13 12:25:40 2000
From: marcus.eger at physik.uni-marburg.de (Marcus Eger)
Date: Wed, 13 Dec 2000 12:25:40 +0100
Subject: [R] Iterative or Wiener deconvolution routines?
Message-ID: <3A375CB4.9C09D1D9@physik.uni-marburg.de>

Dear all,
are there any packages with routines for deconvolution?
Thanks
   --
+-------------------------------------------------------
| Marcus Eger
+--------------------------------------------------------
| E-Mail: eger.m at gmx.de (NEW)
|         marcus.eger at physik.uni-marburg.de (OLD)
| WWW:    http://neuro.physik.uni-marburg.de/~eger (NEW)
+--------------------------------------------------------

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20001213/02d1f936/attachment.html

From Raffaella.Tommasini at prometeia.it  Wed Dec 13 14:53:58 2000
From: Raffaella.Tommasini at prometeia.it (Raffaella Tommasini)
Date: Wed, 13 Dec 2000 14:53:58 +0100
Subject: [R] explosed-pie
Message-ID: <016b01c0650c$25335d30$700da8c0@prometeia.it>

Dear All R users,

my name is Raffaella Tommasini and I 'm working with R version 1.1.1

I'd like to know if is possible plot "explosed-pie" with R.

Thanks for your attention,

Raffaella Tommasini

Bologna 

Italy
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20001213/722f4bd2/attachment.html

From dtrenkler at nts6.oec.uni-osnabrueck.de  Wed Dec 13 16:56:39 2000
From: dtrenkler at nts6.oec.uni-osnabrueck.de (Trenkler, Dietrich)
Date: Wed, 13 Dec 2000 16:56:39 +0100
Subject: [R] choose(n, k) for k>n: An inconsistency?
Message-ID: <FB75CFC167F3D311B11D00A0CC20FB0E11329A@nts7.oec.Uni-Osnabrueck.DE>

It took me by surprise to find that  choose(4,5) delivers

[1] NaN
Warning message:
NaNs produced in: choose(n, k)

If we look at choose(4,5) as the number of ways of choosing 
5 objects from 4 I would have expected 0 as result.

Furthermore dhyper(5,4,6,5) does deliver 0 and this essentially 
equivalent to choose(4,5)*choose(6,0)/choose(10,5).
                                                               

I use R  for Windows, Version 1.0.1  (April 14, 2000)

   --- D.Trenkler ---

****************************************************************************
*****
   Dr. Dietrich Trenkler        (dtrenkler at nts6.oec.uni-osnabrueck.de)      
   Statistik / Empirische Wirtschaftsforschung
   Universitaet Osnabrueck
   Rolandstrasse 8                                Phone: +49(0) 541-969-2753
   D-49069 Osnabrueck                          Fax  : +49(0) 541-969-2744
   GERMANY
****************************************************************************
*****



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Wed Dec 13 16:50:57 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Wed, 13 Dec 2000 10:50:57 -0500 (EST)
Subject: [R] explosed-pie
In-Reply-To: <016b01c0650c$25335d30$700da8c0@prometeia.it>
Message-ID: <Pine.LNX.4.30.0012131046090.9131-100000@bolker.zoo.ufl.edu>


  Not at the moment ... you could hack the "piechart" function to do it,
but people here will probably tell you not to, to find another (better)
way to display your data.  If you're desperate I might be able to do it
for you, although not right away.

 As it says in the "piechart" function,

Note:

     Pie charts are a very bad way of displaying information. The eye
     is good at judging linear measures and bad at judging relative
     areas.

     A bar chart or dot chart is a preferable way of displaying this
     type of data.


  Random question to the R cognoscenti: is there a primitive accessible
through R code for drawing arcs and circles?  Except for symbols(), all of
the circle- and ellipse-drawing code I've seen breaks the graphics into a
many-sided polygon ("edges" in piechart()).  This doesn't matter for
bitmap graphics but for vector graphics it might sometimes be nice to have
access to such a function ...

  Ben Bolker

On Wed, 13 Dec 2000, Raffaella Tommasini wrote:

> Dear All R users,
>
> my name is Raffaella Tommasini and I 'm working with R version 1.1.1
>
> I'd like to know if is possible plot "explosed-pie" with R.
>
> Thanks for your attention,
>
> Raffaella Tommasini
>
> Bologna
>
> Italy
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From duncan at research.bell-labs.com  Wed Dec 13 19:21:08 2000
From: duncan at research.bell-labs.com (Duncan Temple Lang)
Date: Wed, 13 Dec 2000 13:21:08 -0500 (EST)
Subject: [R] Controlling R from Java
Message-ID: <200012131821.NAA22493@jessie.research.bell-labs.com>


> Date: Tue, 12 Dec 2000 15:38:16 -0500
> From: Marc Grushcow <Marc.Grushcow at ntt.ca>
> Reply-To: Marc.Grushcow at ntt.ca
> Organization: NTT SYSTEMS INC.
> Sender: owner-r-help at stat.math.ethz.ch
> Precedence: bulk
> 
> I'd like to run R (LINUX) under Java. I can create the process and connect to
> stdin and stdout. I can send commands in and get output back.  I don't know how
> to determine when the output is complete - there is no trailing "prompt".
> 
> For example, if I send "ls()\n" what I get back is:
> > ls()
> character(0)
> 
> Each of the above two lines is terminated with a 0x0A. I would have expected
> (liked)...
> ls()
> character(0)
> > 
> 
> Then I could parse for the "\n> " and know when the output is complete. The
> problem with checking for data availability on the input stream is that it is
> unreliable. R's output buffer might flush unpredictably and/or the task
> switching OS might cause R to stop after one buffer is full but before another
> is completed.  In any case, it is the usual problem of one program trying to
> parse another's output in a time sharing environment.


This is a good point and just one of the reasons that communicating
between two systems using strings and pipes, etc. can be a lot of work
and still quite unstable and non-portable.  It is also one of the
reasons that we have spent some time in the Omega project
(http://www.omegahat.org) coming up with a general way to allow
interpreters such as Java, Python and Perl to be embedded within R and
vice-versa. 

I hesitate in suggesting a totally different approach for your
application, especially since you may have invested some time already
and have other constraints. But here goes.....

You can use the Java package (http://www.omegahat.org/RSJava) to get
communication between an R and a Java interpreter.  You can run an R
session and execute Java code within it (directly from the R prompt),
or alternatively run a Java application and run a (non-interactive) R
session within it and evaluate R expressions.  I have just added
facilities to make the calling R from Java simpler and wrote some
notes which are available from

    http://www.omegahat.org/RSJava/RFromJava.pdf

Not only does this avoid the flushing problems you observere, but it
also avoids having to parse the output generated by R and preserves
much more information in the communication step.  Also, there is a
general mechanism to add ones own converters to translate Java objects
to R and vice-versa.

I hope this gives you another approach to consider for your
application.  If you have any questions, you can send me mail directly
or to the omega development mailing list (omega-devel at omegahat.org).

D.

> 
> I'm sure that this problem has been solved before.  Any suggestions would be
> appreciated.
> 
> Thanks
> Marc
> -- 
> =.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.
> mailto:Marc.Grushcow at NTT.ca		http://www.NTT.ca
> =.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.


-- 
_______________________________________________________________

Duncan Temple Lang                duncan at research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mcw at ln.nimh.nih.gov  Wed Dec 13 20:00:31 2000
From: mcw at ln.nimh.nih.gov (Matthew Wiener)
Date: Wed, 13 Dec 2000 14:00:31 -0500 (EST)
Subject: [R] comparing ancova models: summary
Message-ID: <Pine.SGI.3.96.1001213135653.300793C-100000@ln.nimh.nih.gov>


Thanks to John Fox, Brian Ripley, and Peter Dalgaard for responding.
The short answer (as in Peter Dalgaard's reply, already posted to the
list) is that the models I'm concerned with can in fact be compared using
ancova.  The key fact is that while the parameters may not be nested, the
subspaces I'm examining are.

An additional note from Prof. Ripley on AIC and BIC (which I quote in
order to avoid misreporting):

AIC and (the several varieties of) BIC have different purposes and
differnt approximations.  AIC is designed to find a model that is large
enough for good predictions, so tends to include terms that might be
useful.  BIC is based on some gross approximations to finding the most
supported model, and the various versions differ in how gross the
approximations are (although a series in log n effectively does not
converge even for data-mining-sized datasets). 

Thanks again for all the help.

Matt Wiener

-------------------------------------------------------------------------------------
original message:

Hello, all.

I've got what is probably a simple question about comparison of models
using anova, specifically about the situations in which it's valid.  I
understand, I think, what's going on when the models are strictly
nested (as most are in the demo(lm) examples).  My question involves
what happens when the models aren't strictly nested.

In my particular case, I'm doing ancovas.  I've got values x and y for
each point, and also a factor A with four levels.  My first model is just
y ~ x, with one line.  I'd like to compare this to a model with one line
for each level of the factor, y ~ A*x.  But my original line is gone now
-- there's no effect of x overall left in the model, just the 4 sub-models
-- so this isn't nested in the same sense that, say y ~ a and y ~ a + b
and y ~ a + b + a:b are when everything is a factor.  (But I think it may
be the same as part of the birthweight, sex, and age example in the demo,
where it goes from birthweight ~ sex + age to birthweight ~ sex + age +
sex:age and you get 2 slopes instead of 1.) 

What I'm not quite sure of is whether it is valid to compare my two models
using anova, and if not, how I can compare them.  I am interested
specifically in whether going to a model with 8 parameters gets
sufficiently better prediction to be considered significant, so the F-test
format seems like what I want.  The anova function gives me results with
no problem, but the fact that I can hand it the two objects doesn't mean
I'm making sense.

I've also looked at the Aikake and Bayes information criteria for this,
which give different results from one another.  (Assuming that what I
should look for is just a decrease to mean better prediction.) 

Any advice and/or references appreciated.

Thanks,

Matt Wiener
Laboratory of Neuropsychology
NIMH/NIH
Bethesda, MD 20892
301-496-5625 x254
mcw at ln.nimh.nih.gov





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paul at stat.auckland.ac.nz  Wed Dec 13 21:56:32 2000
From: paul at stat.auckland.ac.nz (Paul Murrell)
Date: Thu, 14 Dec 2000 09:56:32 +1300
Subject: [R] explosed-pie
References: <Pine.LNX.4.30.0012131046090.9131-100000@bolker.zoo.ufl.edu>
Message-ID: <007a01c06547$2c461e10$175dd882@stat.auckland.ac.nz>

Hi


>   Random question to the R cognoscenti: is there a primitive accessible
> through R code for drawing arcs and circles?  Except for symbols(), all of
> the circle- and ellipse-drawing code I've seen breaks the graphics into a
> many-sided polygon ("edges" in piechart()).  This doesn't matter for
> bitmap graphics but for vector graphics it might sometimes be nice to have
> access to such a function ...


There is not a circle() function like there is a rect() function, but the
symbols() function does use primitive circle drawing code rather than a
polygon approximation (mostly**).  So something like symbols(x=5, y=5,
circle=5) draws a circle at position (5, 5).  See help(symbols) for how to
control the size of the circles.  symbols() doesn't do arcs and may be
inconvenient for general circle-drawing tasks so I think there is a good
case for a circle() function.

** From the too-much-detail department:  even the primitive circle drawing
code will approximate the circle with a polygon if it has to do certain
sorts of clipping so it is not guaranteed to produce a circle in all cases.

Paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Dec 13 21:55:25 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 13 Dec 2000 20:55:25 +0000 (GMT)
Subject: [R] explosed-pie
In-Reply-To: <007a01c06547$2c461e10$175dd882@stat.auckland.ac.nz>
Message-ID: <Pine.GSO.4.05.10012132049400.19412-100000@auk.stats>

On Thu, 14 Dec 2000, Paul Murrell wrote:

> >   Random question to the R cognoscenti: is there a primitive accessible
> > through R code for drawing arcs and circles?  Except for symbols(), all of
> > the circle- and ellipse-drawing code I've seen breaks the graphics into a
> > many-sided polygon ("edges" in piechart()).  This doesn't matter for
> > bitmap graphics but for vector graphics it might sometimes be nice to have
> > access to such a function ...
> 
> 
> There is not a circle() function like there is a rect() function, but the
> symbols() function does use primitive circle drawing code rather than a
> polygon approximation (mostly**).  So something like symbols(x=5, y=5,
> circle=5) draws a circle at position (5, 5).  See help(symbols) for how to
> control the size of the circles.  symbols() doesn't do arcs and may be
> inconvenient for general circle-drawing tasks so I think there is a good
> case for a circle() function.

Unfortunately, the `primitive' is for a circle and not an arc.
I suppose one could argue that from 1.2.0 it is accessible
through the .Call interface as the new Rgraphics.h exposes it as

/* Draw a circle, centred on (x,y) with radius r (in inches). */
void GCircle(double x, double y, int coords,
             double radius, int col, int border, DevDesc *dd);


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From icouncill at mindspring.com  Thu Dec 14 02:58:51 2000
From: icouncill at mindspring.com (Isaac Councill)
Date: Wed, 13 Dec 2000 17:58:51 -0800
Subject: [R] compiler info
Message-ID: <001401c06571$6b640240$eabe323f@icouncill>

Greetings,

I am trying to install R on an AIX machine and I am running into problems.  My g77 fails to produce executables, according to the /configure action.  Could someone please tell me what Fortran compiler was used to create R so that I may try that avenue?

Thanks,
Isaac Councill
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20001213/f2bcb905/attachment.html

From thomas at biostat.washington.edu  Thu Dec 14 02:24:17 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Wed, 13 Dec 2000 17:24:17 -0800 (PST)
Subject: [R] compiler info
In-Reply-To: <001401c06571$6b640240$eabe323f@icouncill>
Message-ID: <Pine.GSO.4.21.0012131713240.20593-100000@atlas.biostat.washington.edu>

On Wed, 13 Dec 2000, Isaac Councill wrote:

> Greetings,
> 
> I am trying to install R on an AIX machine and I am running into
> problems.  My g77 fails to produce executables, according to the
> /configure action.  Could someone please tell me what Fortran compiler
> was used to create R so that I may try that avenue?
> 

I have used g77/gcc and the IBM C and Fortran compilers on AIX in the past
(I don't currently have access to an AIX account, but I need to get it
renewed anyway, so I may be able to be more precise in the future).

It was necessary, I think, to use both GNU or both IBM compilers.


Looking at config.log should tell you why configure thought g77 couldn't
create executables. This will probably help.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bobbyo at speakeasy.org  Thu Dec 14 07:02:07 2000
From: bobbyo at speakeasy.org (bobbyo)
Date: Thu, 14 Dec 2000 00:02:07 -0600
Subject: [R] R code for robust regression
Message-ID: <3A38625F.8080208@speakeasy.org>

An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20001214/3b967e71/attachment.html

From noel at univ-lille3.fr  Thu Dec 14 10:35:38 2000
From: noel at univ-lille3.fr (Yvonnick Noel)
Date: Thu, 14 Dec 2000 09:35:38 +0000
Subject: [R] Categorical datasets
Message-ID: <00121409353806.13547@l3pc174.univ-lille3.fr>

Dear members,

I am looking for sample datasets suited to an Introduction to Loglinear 
Models. Ideally, I would like psychological data with three or four 
categorical variables. Would someone know of some dataset of this kind?

Thank you very much in advance,

Yvonnick Noel, PhD.
U. of Lille 3
Dpt. of Psychology
France
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uht at dfu.min.dk  Thu Dec 14 11:01:01 2000
From: uht at dfu.min.dk (=?iso-8859-1?Q?Uffe_H=F8gsbro_Thygesen?=)
Date: Thu, 14 Dec 2000 11:01:01 +0100
Subject: [R] Accuracy problem in dchisq for non-central chi-squared
Message-ID: <3EABB7ABA434D4118DD600A0C94BF3BF120AFC@hfi02.dfu.min.dk>

Hi,

I think I have identified a inaccuracy in dchisq when the non-centrality
parameter is non-zero and large. Here's a little test:

sys.dchisq.test <- function(N = 100000,mean = 0)
{
  z <- rnorm(N,mean = mean, sd = 1)
  x <- z^2
  xmin <- min(x)
  xmax <- max(x)
  br <- seq(xmin,xmax,length = 101)
  dbr <- br[2]-br[1]
  hist(x,br)
  p <- dchisq(br,df = 1,ncp = mean^2) * dbr
  lines(br,N*p)
}

par(mfrow = c(2,1))
sys.dchisq.test(mean = 10)
sys.dchisq.test(mean = 15)

Here's my version information:

platform Windows   
arch     x86       
os       Win32     
system   x86, Win32
status             
major    1         
minor    1.1       
year     2000      
month    August    
day      15        
language R         


Any comments on this one?

Best regards,

Uffe

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Uffe H. Thygesen
M.Sc.&Eng., Ph.D.
Danish Institute of Fisheries Research
http://www.dfu.min.dk


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From snw at mcs.st-and.ac.uk  Thu Dec 14 11:35:37 2000
From: snw at mcs.st-and.ac.uk (Simon Wood)
Date: Thu, 14 Dec 2000 10:35:37 +0000 (GMT)
Subject: [R] smoothing binary data
In-Reply-To: <007301c06471$2e7b79e0$5e56e43f@91qez>
Message-ID: <Pine.GSO.4.21.0012141027090.11958-100000@dolphin>

You could also try the gam function in package mgcv (latest version
0.3-2). The following uses a penalized regression spline and chooses the
degrees of freedom by GCV:

> library(MASS)
> data(birthwt)
> attach(birthwt)
> library(mgcv)
> gam(low~s(age),family=binomial())

Family: binomial 
Link function: logit 

Formula:
low ~ s(age)

Estimated degrees of freedom:
 4.236948 

Alternatively, if you want more control over the degrees of freedom then
you could use an un-penalized regression spline (although these don't
give such "nice" smooths):

> b<-gam(low~s(age,4|f),family=binomial()) # 4 knot regression spline 
> plot(b)

Simon

  ______________________________________________________________________
> Simon Wood  snw at st-and.ac.uk  http://www.ruwpa.st-and.ac.uk/simon.html
> The Mathematical Institute, North Haugh, St. Andrews, Fife KY16 9SS UK
> Direct telephone: (0)1334 463799          Indirect fax: (0)1334 463748 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Dec 14 11:56:34 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 14 Dec 2000 11:56:34 +0100
Subject: [R] Accuracy problem in dchisq for non-central chi-squared
In-Reply-To: Uffe H?gsbro Thygesen's message of "Thu, 14 Dec 2000 11:01:01 +0100"
References: <3EABB7ABA434D4118DD600A0C94BF3BF120AFC@hfi02.dfu.min.dk>
Message-ID: <x2k893p8yl.fsf@blueberry.kubism.ku.dk>

Uffe H?gsbro Thygesen <uht at dfu.min.dk> writes:

> Hi,
> 
> I think I have identified a inaccuracy in dchisq when the non-centrality
> parameter is non-zero and large. Here's a little test:
> 
> sys.dchisq.test <- function(N = 100000,mean = 0)
> {
>   z <- rnorm(N,mean = mean, sd = 1)
>   x <- z^2
>   xmin <- min(x)
>   xmax <- max(x)
>   br <- seq(xmin,xmax,length = 101)
>   dbr <- br[2]-br[1]
>   hist(x,br)
>   p <- dchisq(br,df = 1,ncp = mean^2) * dbr
>   lines(br,N*p)
> }
> 
> par(mfrow = c(2,1))
> sys.dchisq.test(mean = 10)
> sys.dchisq.test(mean = 15)
> 
> Here's my version information:
> 
> platform Windows   
> arch     x86       
> os       Win32     
> system   x86, Win32
> status             
> major    1         
> minor    1.1       
> year     2000      
> month    August    
> day      15        
> language R         

Hej Uffe,

Same thing happens with 1.2pre, i.e. it is *not* fixed along with the
noncentral F problem. From the looks of the formula, I suspect that
the series expansion is getting terminated prematurely. Things work if
you use the definition directly; this works (slowly) up to at least
mean = 50:

function(N = 100000,mean = 0)
{
  xnchisq<-function(x,df,lambda){N<-3*lambda;w<-dpois(0:N,lambda/2);
         sapply(x,function(x)sum(w*dchisq(x,df=1+2*(0:N))))}
  z <- rnorm(N,mean = mean, sd = 1)
  x <- z^2
  xmin <- min(x)
  xmax <- max(x)
  br <- seq(xmin,xmax,length = 101)
  dbr <- br[2]-br[1]
  hist(x,br)
  p <- xnchisq(br,1,lambda = mean^2) * dbr
  lines(br,N*p)
}

(BTW, overlaying histograms and desities is easier if you use freq=F
on the hist() call)
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Dec 14 12:11:03 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 14 Dec 2000 12:11:03 +0100
Subject: [R] Accuracy problem in dchisq for non-central chi-squared
In-Reply-To: Uffe H?gsbro Thygesen's message of "Thu, 14 Dec 2000 11:01:01 +0100"
References: <3EABB7ABA434D4118DD600A0C94BF3BF120AFC@hfi02.dfu.min.dk>
Message-ID: <x2hf47p8ag.fsf@blueberry.kubism.ku.dk>

Uffe H?gsbro Thygesen <uht at dfu.min.dk> writes:

> Any comments on this one?

Ahem. I went to look at the code and it stared me right in the face:

    const static int maxiter = 100;

That needs to be keyed to the actual value of lambda! At lambda=225,
we're not even at the mode of the weighting Poisson distibution which
has mean lambda/2.

I think we can sneak a fix for that one in before the release of 1.2.0
tomorrow.  (pnchisq.c has 

    const static int itrmax = 10000;

which I should probably clone for now, but there must be a better
long-term solution for both of them. Anyone need a small exercise for
their students?)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Dec 14 14:01:46 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 14 Dec 2000 14:01:46 +0100
Subject: [R] Accuracy problem in dchisq for non-central chi-squared
In-Reply-To: Peter Dalgaard BSA's message of "14 Dec 2000 12:11:03 +0100"
References: <3EABB7ABA434D4118DD600A0C94BF3BF120AFC@hfi02.dfu.min.dk> <x2hf47p8ag.fsf@blueberry.kubism.ku.dk>
Message-ID: <x2bsufp35w.fsf@blueberry.kubism.ku.dk>

Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

> Uffe H?gsbro Thygesen <uht at dfu.min.dk> writes:
> 
> > Any comments on this one?
> 
> Ahem. I went to look at the code and it stared me right in the face:
> 
>     const static int maxiter = 100;
> 
> That needs to be keyed to the actual value of lambda! At lambda=225,
> we're not even at the mode of the weighting Poisson distibution which
> has mean lambda/2.
> 
> I think we can sneak a fix for that one in before the release of 1.2.0
> tomorrow.  (pnchisq.c has 
> 
>     const static int itrmax = 10000;
> 
> which I should probably clone for now, but there must be a better
> long-term solution for both of them. Anyone need a small exercise for
> their students?)

Hmm. I did this and it did help, but the function is still getting in
trouble already for mean=37. I believe this is due to underflow in the
calculation of dchisq used to start the recursion. This'll need some
redesign (including a little theoretical analysis) to function
properly I think.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Alexandre.Fayolle at logilab.fr  Thu Dec 14 16:13:43 2000
From: Alexandre.Fayolle at logilab.fr (Alexandre Fayolle)
Date: Thu, 14 Dec 2000 16:13:43 +0100 (CET)
Subject: [R] performance problem
Message-ID: <Pine.LNX.4.21.0012141608300.3514-100000@leo.logilab.fr>

Hello,

I needed a function like table(), but which used the value of a column
instead of counting occurences, but could not find anything in the
builtin modules (maybe I missed it...). SO I decided to write my own, and 
I came up with the following:

table.ponderate<-function(arow,acol,aweight){
	matrix(data=0,nrow=length(levels(arow)),ncol=length(levels(acol)),
	byrow=TRUE,dimnames=list(levels(arow),levels(acol)))->m
	aweight[is.na(aweight)]<- 0
	for (a in seq(length(arow))) {	
		prev<-m[as.integer(arow[a]),as.integer(acol[a])]

m[as.integer(arow[a]),as.integer(acol[a])]<-prev+aweight[a]
	}
	m
}

The problem is that the performance is very poor. I have not had time to
benchmark it, but it takes several seconds to process 1000 lines, and I
need to process a few dozens of 10000+ lines data sets. 

Is there a way to write things differently that could speed up things?

Alexandre Fayolle
-- 
http://www.logilab.com 
Narval is the first software agent available as free software (GPL).
LOGILAB, Paris (France).

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at perseus.unalmed.edu.co  Thu Dec 14 16:22:27 2000
From: krcabrer at perseus.unalmed.edu.co (Kenneth Cabrera)
Date: Thu, 14 Dec 2000 10:22:27 -0500
Subject: [R] Sort in descending order
Message-ID: <3A38E5B3.B8E39234@perseus.unalmed.edu.co>

Hi R users:
I want to know how can I easily sort in descending order a
whole data frame by one or several variables.
Thank you very much for your help.

Kenneth Cabrera
krcabrer at perseus.unalmed.edu.co
krcabrer at epm.net.co
Universidad Nacional de Colombia, Sede Medell?n


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Thu Dec 14 16:20:27 2000
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Thu, 14 Dec 2000 10:20:27 -0500
Subject: [R] Controlling R from Java
Message-ID: <1F7756518B80D311B08D00805FE603A803032652@groexmbcr02.pfizer.com>


Duncan's reply is the best long term solution, but a simple and quick hack
is to append something like 

	; cat(paste("\n<DO","NE\n>",sep=""))

to the end of each commend.  This way, when the command finishes, there is a
nice token ("<DONE>") to grab.  (The paste bit is to that you don't match
<DONE> from the command string if it gets echoed for some reason.)

IE:

	atlas% echo ' ls(); cat(paste("\n<DO","NE>\n",sep="") ) ' | R
--no-save

	R : Copyright 2000, The R Development Core Team
	Version 1.1.1  (August 15, 2000)
	[...]
	[Previously saved workspace restored]

	>  ls(); cat(paste("\n<DO","NE>\n",sep="") ) 
	[1] "beta.binom"                      "devs"

	[3] "log.beta.binomial.beta.binomial" "p"

	[5] "x"                              

	<DONE>


-Greg


> -----Original Message-----
> From: Marc Grushcow [mailto:Marc.Grushcow at ntt.ca]
> Sent: Tuesday, December 12, 2000 3:38 PM
> To: r-help at stat.math.ethz.ch
> Subject: [R] Controlling R from Java
> 
> 
> I'd like to run R (LINUX) under Java. I can create the 
> process and connect to
> stdin and stdout. I can send commands in and get output back. 
>  I don't know how
> to determine when the output is complete - there is no 
> trailing "prompt".
> 
> For example, if I send "ls()\n" what I get back is:
> > ls()
> character(0)
> 
> Each of the above two lines is terminated with a 0x0A. I 
> would have expected
> (liked)...
> ls()
> character(0)
> > 
> 
> Then I could parse for the "\n> " and know when the output is 
> complete. The
> problem with checking for data availability on the input 
> stream is that it is
> unreliable. R's output buffer might flush unpredictably 
> and/or the task
> switching OS might cause R to stop after one buffer is full 
> but before another
> is completed.  In any case, it is the usual problem of one 
> program trying to
> parse another's output in a time sharing environment.
> 
> I'm sure that this problem has been solved before.  Any 
> suggestions would be
> appreciated.
> 
> Thanks
> Marc
> -- 
> =.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.
> mailto:Marc.Grushcow at NTT.ca		http://www.NTT.ca
> =.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.=.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-> FAQ.html
> Send "info", 
> "help", or "[un]subscribe"
> (in the 
> "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From naumov at acsu.buffalo.edu  Thu Dec 14 17:59:56 2000
From: naumov at acsu.buffalo.edu (Aleksey Naumov)
Date: Thu, 14 Dec 2000 11:59:56 -0500
Subject: [R] How do I track a segfault?
Message-ID: <3A38FC8C.6E4E9ACC@acsu.buffalo.edu>

Dear R users,

I have to catch a nasty bug and would appreciate any advice or help!

I get a segfault (core dumped) that happens in one of my own functions.
The problem is, it
does not happen most of the time, only sometimes, so it's very hard to
reproduce. Or it may
run ok in interactive mode, but bug out in batch mode. Also, it tends to
happen more on
the slower of my 2 machines (PII 266), then I run it on the faster one
(PII 400) and it usually
works (but then bugs out there as well, at some other time)...

Once it starts to segfault, re-running my script typically doesn't help,
it does it over and over,
even though I start a new R process every time.

I found out that if I insert some cat()'s or print()'s in that function,
it typically goes through,
although I may have to insert several before it works, and it doesn't
help in every case. I don't
think sending in my function would be very helpful - it's actually
called from a few other functions,
and then again, it's not reproducable in any reliable way... (but I'll
be glad to send it if it's useful)
I've actually narrowed down where it happens in the function, looks like
it's at a call to sweep().
Of course, I can easily send the 'core' file...

The best thing for me would be some advice on how to track a problem
like this? What's the
best debugging tool and/or method I should use? Is there a tutorial on
debugging in R?
I read in FAQ that ESS is the way to go for debugging, but I am starting
to look at it , so it'll
be some time before I could do something intelligent. Would appreciate
any hints on how to
do debugging in it!


BTW, how do I use Up & Down keys for command history in XEmacs R mode? I
see in the
ESS buffer:

Making Process...Buf *R*, Proc R, Prog R
 Start File=nil, Args= --no-readline .

I guess I don't want --no-readline; how do I change it? (I have to admit
- having to use emacs
is no fun :-( so far)


Info that may help:
RedHat-6.2 on Intel (PII 266 and 400)
512M RAM
R 1.1.1 compiled from tar


Thank you

Aleksey

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Dec 14 18:12:38 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 14 Dec 2000 18:12:38 +0100
Subject: [R] Sort in descending order
References: <3A38E5B3.B8E39234@perseus.unalmed.edu.co>
Message-ID: <3A38FF86.8ADB1A5@statistik.uni-dortmund.de>



Kenneth Cabrera wrote:
> 
> Hi R users:
> I want to know how can I easily sort in descending order a
> whole data frame by one or several variables.
> Thank you very much for your help.

>From the help:
 order()
order returns a permutation which rearranges its first argument into
ascending order, breaking ties by further arguments. 

For descending order:
 rev(order(.....)) 

Hope this helps,
Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Thu Dec 14 18:19:28 2000
From: rossini at blindglobe.net (A.J. Rossini)
Date: 14 Dec 2000 09:19:28 -0800
Subject: [R] How do I track a segfault?
In-Reply-To: Aleksey Naumov's message of "Thu, 14 Dec 2000 11:59:56 -0500"
References: <3A38FC8C.6E4E9ACC@acsu.buffalo.edu>
Message-ID: <878zpiq5sv.fsf@jeeves.blindglobe.net>

>>>>> "AN" == Aleksey Naumov <naumov at acsu.buffalo.edu> writes:

    AN> method I should use? Is there a tutorial on debugging in R?  I
    AN> read in FAQ that ESS is the way to go for debugging, but I am
    AN> starting to look at it , so it'll be some time before I could
    AN> do something intelligent. Would appreciate any hints on how to
    AN> do debugging in it!

Debugging R itself, or your code?

    AN> BTW, how do I use Up & Down keys for command history in XEmacs
    AN> R mode? I see in the ESS buffer:

ESC-p and ESC-n go up and down the command-line.  If you've already
got text on the command-line, it will match that text.

    AN> Making Process...Buf *R*, Proc R, Prog R Start File=nil, Args=
    AN> --no-readline .

    AN> I guess I don't want --no-readline; how do I change it? 

You want it.  Trust me.  

ESS help is easier to find on the ESS-help mailing list.

Emacs is fun.  At least once you've used it for 15+ years.

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
BlindGlobe Networks (home/default)	rossini at blindglobe.net	
UW Biostat/Center for AIDS Research	rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org

FHCRC: M/Tu: 206-667-7025 (fax=4812) | Voicemail is pretty sketchy
CFAR:   W/F: 206-731-3647 (fax=3694) | Email is far better than phone
UW:    Th/F: 206-543-1044 (fax=3286) | Change last 4 digits of phone for fax
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wloliver at qwest.net  Thu Dec 14 19:26:44 2000
From: wloliver at qwest.net (Bill Oliver)
Date: Thu, 14 Dec 2000 11:26:44 -0700
Subject: [R] smoothing binary data
References: <Pine.GSO.4.21.0012141027090.11958-100000@dolphin>
Message-ID: <008a01c065fb$69ff2760$3157e43f@91qez>

Thank you *very* much for your help. The package (mgcv) you have written is
wonderful. Following your suggestion, I'm using the code below to produce
the plot I was trying to generate. However, the default plot your package
generates is better. -Bill

library(MASS)
data(birthwt)
attach(birthwt)
library(mgcv)

b<-gam(low~s(age,4|f),family=binomial()) # 4 knot regression spline

x <- as.numeric(b$x); ord <- order(x)
x <- x[ord]; y <- fitted(b)[ord]
plot(x,y,xlab="Age of Mother (yrs)",
     ylab="Prob. of Low Birth Weight",ylim=c(0,1),type='l')
rug(jitter(age[low==0],amount=1))
rug(jitter(age[low==1], amount = 1), side = 3)


----- Original Message -----
From: "Simon Wood" <snw at mcs.st-and.ac.uk>
To: "Bill Oliver" <wloliver at qwest.net>
Cc: <r-help at stat.math.ethz.ch>
Sent: Thursday, December 14, 2000 3:35 AM
Subject: Re: [R] smoothing binary data


You could also try the gam function in package mgcv (latest version
0.3-2). The following uses a penalized regression spline and chooses the
degrees of freedom by GCV:

> library(MASS)
> data(birthwt)
> attach(birthwt)
> library(mgcv)
> gam(low~s(age),family=binomial())

Family: binomial
Link function: logit

Formula:
low ~ s(age)

Estimated degrees of freedom:
 4.236948

Alternatively, if you want more control over the degrees of freedom then
you could use an un-penalized regression spline (although these don't
give such "nice" smooths):

> b<-gam(low~s(age,4|f),family=binomial()) # 4 knot regression spline
> plot(b)

Simon

  ______________________________________________________________________
> Simon Wood  snw at st-and.ac.uk  http://www.ruwpa.st-and.ac.uk/simon.html
> The Mathematical Institute, North Haugh, St. Andrews, Fife KY16 9SS UK
> Direct telephone: (0)1334 463799          Indirect fax: (0)1334 463748




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ramon-diaz at teleline.es  Thu Dec 14 16:40:54 2000
From: ramon-diaz at teleline.es (Ramon Diaz-Uriarte)
Date: Thu, 14 Dec 2000 16:40:54 +0100
Subject: [R] using R's random numbers in another program
Message-ID: <00121416525600.01568@ligarto>

Dear All,

I want to use R's random number in a C++ program (I can link libRmath either
as shared or static library).  I have two questions:

1. If I understand correctly, the underlaying random number generator will be
Marsaglia-multicarry, UNLESS I provide my own.  In other words (unless I
provide it) I cannot use some of the other RNG's available from within R, such
as Mersenne-Twister? 

2. I am using another library, which uses it own RNG; I guess there is no
problem in using both R's RNG's (for some of the functions in the code)  and
this other library's RNG?

Thanks,

Ramn

-- 
Ramn Daz-Uriarte
Triana 47
28016 Madrid
Spain

email:ramon-diaz at teleline.es
Phone: +-34-918-513-966
       +-34-657-186-407	







-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Don.Wingate at intellichem.com  Thu Dec 14 22:38:30 2000
From: Don.Wingate at intellichem.com (Don Wingate)
Date: Thu, 14 Dec 2000 13:38:30 -0800
Subject: [R] create a function given a string
Message-ID: <ABB64B4C48ECD44CADC72FA840118B3B4FC9@athena.Bend.IntelliChem.com>

Hello,

I am trying to dynamically create/define a function inside of another
function (as part of a package.) 

I build a string that looks something like this: "x + y" and what I need to
do is define a function f <- function(x,y) { x+y }.

This function "string" is much more complex than this example and depends on
other variables so there is no way to predict what the function will look
like.
The ultimate goal is to pass this function 'outer' 

I have tried many different approaches and just can't find a way to convert
the string "x + y" to the function body x + y.

Any suggestions would be appreciated.

Thank you, Don Wingate
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Dec 15 00:12:19 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 Dec 2000 00:12:19 +0100
Subject: [R] create a function given a string
In-Reply-To: Don Wingate's message of "Thu, 14 Dec 2000 13:38:30 -0800"
References: <ABB64B4C48ECD44CADC72FA840118B3B4FC9@athena.Bend.IntelliChem.com>
Message-ID: <x23dfqzjfw.fsf@blueberry.kubism.ku.dk>

Don Wingate <Don.Wingate at intellichem.com> writes:

> Hello,
> 
> I am trying to dynamically create/define a function inside of another
> function (as part of a package.) 
> 
> I build a string that looks something like this: "x + y" and what I need to
> do is define a function f <- function(x,y) { x+y }.
> 
> This function "string" is much more complex than this example and depends on
> other variables so there is no way to predict what the function will look
> like.
> The ultimate goal is to pass this function 'outer' 
> 
> I have tried many different approaches and just can't find a way to convert
> the string "x + y" to the function body x + y.

parse(text="x+y") ?

BTW: beware that outer wants a *vectorized* function of the two
variables not just a function of two scalars (usually fixable by an
sapply construction)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._



From j.logsdon at lancaster.ac.uk  Fri Dec 15 00:47:46 2000
From: j.logsdon at lancaster.ac.uk (j.logsdon@lancaster.ac.uk)
Date: Thu, 14 Dec 2000 23:47:46 +0000 (GMT)
Subject: [R] Dirichlet ...
In-Reply-To: <53829589BB93D4119B5800B0D03DCD21A002@EXGAGRP5>
Message-ID: <Pine.LNX.4.10.10012142346080.7874-100000@mercury.quantex>

Is there an implementation of the Dirichlet distribution somewhere in one
of the libraries?  Or for S-plus somewhere?

John


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Fri Dec 15 03:02:58 2000
From: jfox at mcmaster.ca (John Fox)
Date: Thu, 14 Dec 2000 21:02:58 -0500
Subject: [R] create a function given a string
In-Reply-To: <ABB64B4C48ECD44CADC72FA840118B3B4FC9@athena.Bend.IntelliCh
 em.com>
Message-ID: <5.0.0.25.0.20001214205722.01899d50@127.0.0.1>

At 01:38 PM 14/12/2000 -0800, you wrote:
>Hello,
>
>I am trying to dynamically create/define a function inside of another
>function (as part of a package.)
>
>I build a string that looks something like this: "x + y" and what I need to
>do is define a function f <- function(x,y) { x+y }.
>
>This function "string" is much more complex than this example and depends on
>other variables so there is no way to predict what the function will look
>like.
>The ultimate goal is to pass this function 'outer'
>
>I have tried many different approaches and just can't find a way to convert
>the string "x + y" to the function body x + y.
>
>Any suggestions would be appreciated.

If I follow this correctly, then you know the names of the arguments, but 
not the statement that comprises the body of the function. How about 
something like this?

f<-function(x,y) eval(parse(text="x+y"))

I hope that this helps,
  John



________________________________
  John Fox
  Department of Sociology
  McMaster University
  email: jfox at McMaster.ca
  web: www.socsci.mcmaster.ca/jfox
________________________________

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Fri Dec 15 09:45:53 2000
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Fri, 15 Dec 2000 09:45:53 +0100
Subject: [R] Sort in descending order
Message-ID: <3.0.32.20001215094552.008ec370@162.38.183.200>

At 10:22 14/12/00 -0500, you wrote:
>Hi R users:
>I want to know how can I easily sort in descending order a
>whole data frame by one or several variables.
>Thank you very much for your help.
>
>Kenneth Cabrera
>krcabrer at perseus.unalmed.edu.co
>krcabrer at epm.net.co
>Universidad Nacional de Colombia, Sede Medell?n


	rev(sort(x))


Emmanuel Paradis
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Fri Dec 15 15:12:50 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Fri, 15 Dec 2000 09:12:50 -0500 (EST)
Subject: [R] Dirichlet ...
In-Reply-To: <Pine.LNX.4.10.10012142346080.7874-100000@mercury.quantex>
Message-ID: <Pine.LNX.4.30.0012150906170.10705-100000@bolker.zoo.ufl.edu>


  Some code (originally contributed by Ian Wilson
<i.wilson at maths.abdn.ac.uk>

## functions for the "Dirichlet function", the multidimensional ##
generalization of the beta distribution: it's the Bayesian canonical ##
distribution for the parameter estimates of a multinomial ## distribution.

"pdirichlet" and "qdirichlet" (distribution function and quantiles) would
be more difficult because you'd first have to decide how to define the
distribution function for a multivariate distribution ... I'm sure this
could be done but I don't know how


logD <- function(a) {
    sum(lgamma(a)) - lgamma(sum(a))
 }
######################################################
ddirichlet<-function(x,alpha)
  ## probability density for the Dirichlet function, where x=vector of
## probabilities
  ## and (alpha-1)=vector of observed samples of each type
  ## ddirichlet(c(p,1-p),c(x1,x2)) == dbeta(p,x1,x2)
{
    s<-sum((alpha-1)*log(x))
    exp(sum(s)-logD(alpha))
}
######################################################
rdirichlet<-function(n,a)
  ## pick n random deviates from the Dirichlet function with shape
## parameters a
{
    l<-length(a);
    x<-matrix(rgamma(l*n,a),ncol=l,byrow=TRUE);
    sm<-x%*%rep(1,l);
    x/as.vector(sm);
}


On Thu, 14 Dec 2000 j.logsdon at lancaster.ac.uk wrote:

> Is there an implementation of the Dirichlet distribution somewhere in one
> of the libraries?  Or for S-plus somewhere?
>
> John
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From bxc at novonordisk.com  Fri Dec 15 16:39:34 2000
From: bxc at novonordisk.com (BXC (Bendix Carstensen))
Date: Fri, 15 Dec 2000 16:39:34 +0100
Subject: [R] Bug in bitmap producing pdf???
Message-ID: <D5A7D734C9C5D211B9E30008C78923020609E8FD@exdkba03.novo.dk>

I thought I was clever.
I produce both ps and pdf files from LaTeX (MiKTeX), so
sometimes I need to get .eps graphs from R, sometmes .pdf.

To rationalize this I wrote the following function to let me
easily choos what I want wihtou changing the code in my
R-programs too much (here embedded in a small test program):

plt <- 
function( file,
          type = "pdf",
           dir = options()$grdir,
        height = 7,
         width = 7,
         paper = "special",
           ... ) 
{
if ( type=="pdf" )
{
print ( paste( dir, file, ".pdf", sep="" ) ) #just cheking...
   bitmap( file = paste( dir, file, ".pdf", sep="" ),
           type = "pdfwrite",
         height = height,
          width = width,
            ... )
}

if ( type=="eps" )
{
print ( paste( dir, file, ".eps", sep="" ) ) #just checking...
   postscript( file = paste( dir, file, ".eps", sep="" ),
             height = height,
              width = width,
         horizontal = F,
              paper = paper,
                ... )
}
par( mgp=c(2,0.7,0) )
}

# If not set plots will be in pdf-format
 options( grdir="../eps/" )

pl.type <- "eps"  
plt( file="ar", pl.type )
plot(1,1) 

pl.type <- "pdf"  
plt( file="ar", pl.type )
plot(1,1) 

But what I get is:

> version
         _         
platform Windows   
arch     x86       
os       Win32     
system   x86, Win32
status             
major    1         
minor    1.1       
year     2000      
month    August    
day      15        
language R         
> source("xx.r") # This is where the above code is
[1] "../eps/ar.eps"
[1] "../eps/ar.pdf"
Error in tempfile("Rbit") : cannot find unused tempfile name
> 

The error comes with the pdf-bit even if I interchange the two 
parts doing the different kinds of files.

Any clues??

----------------------
Bendix Carstensen
Senior Statistician
Steno Diabetes Centre
Niels Steensens Vej 2
DK-2820 Gentofte
Denmark
tel: +45 44 43 87 38
mob: +45 28 25 87 38
fax: +45 44 43 73 13
bxc at novo.dk
www.biostat.ku.dk/~bxc
----------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From mylesj at icrf.icnet.uk  Fri Dec 15 16:42:18 2000
From: mylesj at icrf.icnet.uk (Jonathan Myles)
Date: Fri, 15 Dec 2000 15:42:18 +0000 (GMT)
Subject: [R] debugger not recognizing C routine names
Message-ID: <Pine.GSO.3.96.1001215154046.6257D-100000@cordite>



Something seems to have changed with the debugger 
option since I used it last,
unless I've forgotten something really stupid
(much more likely) .  The 
debugger doesn't seem to recognise the names of C routines

 
*****************


[jonm at localhost jonm]$ cat test.c
#include "S.h"
void test(int *x,int *y){
  y[0]=x[0]+2;
}
[jonm at localhost jonm]$ R COMPILE test.c
gcc -I/home/jonm/R/R-1.1.1/include  -I/usr/local/include -mieee-fp -D__NO_MATH_INLINES  -fPIC  -g -O2 -c test.c -o test.o
[jonm at localhost jonm]$ R SHLIB test.o
gcc -shared  -o test.so test.o -L/usr/local/lib  -lg2c -lm -L/usr/lib/gcc-lib/i586-mandrake-linux/2.95.3 -L/usr/i586-mandrake-linux/lib -lm
[jonm at localhost jonm]$ R -d gdb
GNU gdb 4.18
Copyright 1998 Free Software Foundation, Inc.
GDB is free software, covered by the GNU General Public License, and you are
welcome to change it and/or distribute copies of it under certain conditions.
Type "show copying" to see the conditions.
There is absolutely no warranty for GDB.  Type "show warranty" for details.
This GDB was configured as "i586-mandrake-linux"...
(gdb) r
Starting program: /home/jonm/R/R-1.1.1/bin/R.bin 
warning: Unable to find dynamic linker breakpoint function.
GDB will be unable to debug shared library initializers
and track explicitly loaded dynamic code.

R : Copyright 2000, The R Development Core Team
Version 1.1.1  (August 15, 2000)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type	"?license" or "?licence" for distribution details.

R is a collaborative project with many contributors.
Type	"?contributors" for a list.

Type	"demo()" for some demos, "help()" for on-line help, or
    	"help.start()" for a HTML browser interface to help.
Type	"q()" to quit R.

[Previously saved workspace restored]


> ttest <- function(x){
+ y <- numeric(1)
+ zz <- .C("test",as.integer(x),as.integer(y))
+ zz[[2]]
+ }
> dyn.load("test.so")
> ttest(8)
[1] 10
> 
>          ##  cntrl-C cntrl-C 
Program received signal SIGINT, Interrupt.
0x4012ec7e in select () from /lib/libc.so.6
(gdb) b test
Function "test" not defined.
(gdb) signal 0
Continuing with no signal.

> q()
Save workspace image? [y/n/c]: n

Program exited normally.
(gdb) q
[jonm at localhost jonm]$ 

*****************

I'm using R 1.1.1 on a LINUX (Mandrake) system on a laptop.
I complied R myself without changing any compilation flags

Jonathan Myles

Imperial Cancer Reseach Fund


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

From mylesj at icrf.icnet.uk  Fri Dec 15 16:55:22 2000
From: mylesj at icrf.icnet.uk (Jonathan Myles)
Date: Fri, 15 Dec 2000 15:55:22 +0000 (GMT)
Subject: [R] Gibbs sampling in GLMMs: Beta testers required
Message-ID: <Pine.GSO.3.96.1001215155008.6257E-100000@cordite>



Sort of a warning before I start: This post may be considered to
describe a rather amateurish approach to distributing software
which may annoy  some people, but I sincerely hope it doesn't.


I've been working for some years with David Clayton on a project which
started life as
an S package but has now turned into an R library. It is (now)
called  GLMMGibbs and estimates the parameters of the Generalised
Linear Mixed Model by Gibbs Sampling (using the Bayesian
paradigm).

The basic idea is that one declares a particular factor to be
a random effect with one statement and then performs the Gibbs sampling
with another statement with syntax somewhat like the glm() statement.

I no longer work on the project as part of my job but I wouldn't like
the work to go to waste, so I would like to offer it now for beta-testing
and make a collection of bugs/problems/comments which I could work on, 
ideally over the Christmas period, (although I've probably now left
it a bit late for that) or at weekends.  I
should emphasise that the software is
rather in a beta state which is why I propose to email it to people
who ask me for it rather than put in on CRAN yet. (My new job doesn't seem
to have any webspace where I could put it either)  At present we are currently
recommending that people do

save.image()

before using the package because of the large amount of C involved,
although GLMMGibbs hasn't actually crashed R for months (-;). We already
know that very small numbers of trials in binomial models seem to cause
numerical errors (which don't crash R)---this is something I'd like to look
into over Christmas, but I'd appreciate knowing about other problems.

At the moment GLMMGibbs has only been produced on UNIX/LINUX machines.

If you would be interested in helping to beta-test GLMMGibbs, please 
email me at

mylesj at icrf.icnet.uk


Jonathan Myles
Imperial Cancer Research Fund



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Dec 15 17:22:50 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 Dec 2000 17:22:50 +0100
Subject: [R] debugger not recognizing C routine names
In-Reply-To: Jonathan Myles's message of "Fri, 15 Dec 2000 15:42:18 +0000 (GMT)"
References: <Pine.GSO.3.96.1001215154046.6257D-100000@cordite>
Message-ID: <x28zphr6w5.fsf@blueberry.kubism.ku.dk>

Jonathan Myles <mylesj at icrf.icnet.uk> writes:

> 
> [Previously saved workspace restored]
> 
> 
> > ttest <- function(x){
> + y <- numeric(1)
> + zz <- .C("test",as.integer(x),as.integer(y))
> + zz[[2]]
> + }
> > dyn.load("test.so")
> > ttest(8)
> [1] 10
> > 
> >          ##  cntrl-C cntrl-C 
> Program received signal SIGINT, Interrupt.
> 0x4012ec7e in select () from /lib/libc.so.6
> (gdb) b test
> Function "test" not defined.
> (gdb) signal 0
> Continuing with no signal.
> 
> > q()
> Save workspace image? [y/n/c]: n

??
Does this work then?

> library(ctest)
> 
Program received signal SIGINT, Interrupt.
0x4016117e in __select () from /lib/libc.so.6
(gdb) b fexact
Breakpoint 1 at 0x40f9d378: file
../../../../../R/src/library/ctest/src/fexact.c, line 161.
(gdb) The program is running.  Exit anyway? (y or n) n
Not confirmed.
(gdb) q
The program is running.  Exit anyway? (y or n) y


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Fri Dec 15 17:26:00 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Fri, 15 Dec 2000 08:26:00 -0800 (PST)
Subject: [R] debugger not recognizing C routine names
In-Reply-To: <Pine.GSO.3.96.1001215154046.6257D-100000@cordite>
Message-ID: <Pine.GSO.4.21.0012150824250.7594-100000@atlas.biostat.washington.edu>

On Fri, 15 Dec 2000, Jonathan Myles wrote:

> 
> 
> Something seems to have changed with the debugger 
> option since I used it last,
> unless I've forgotten something really stupid
> (much more likely) .  The 
> debugger doesn't seem to recognise the names of C routines

Your debugger did warn you:  

> (gdb) r
> Starting program: /home/jonm/R/R-1.1.1/bin/R.bin 
> warning: Unable to find dynamic linker breakpoint function.
> GDB will be unable to debug shared library initializers
> and track explicitly loaded dynamic code.

My guess is that you need to find why gdb can't "find dynamic linker
breakpoint function", which looks like a problem with your setup...

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Dec 15 18:22:42 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 15 Dec 2000 17:22:42 +0000 (GMT)
Subject: [R] Bug in bitmap producing pdf???
In-Reply-To: <D5A7D734C9C5D211B9E30008C78923020609E8FD@exdkba03.novo.dk>
Message-ID: <Pine.GSO.4.05.10012151720160.10151-100000@toucan.stats>

On Fri, 15 Dec 2000, BXC (Bendix Carstensen) wrote:

> I thought I was clever.
> I produce both ps and pdf files from LaTeX (MiKTeX), so
> sometimes I need to get .eps graphs from R, sometmes .pdf.
> 
> To rationalize this I wrote the following function to let me
> easily choos what I want wihtou changing the code in my
> R-programs too much (here embedded in a small test program):
> 
> plt <- 
> function( file,
>           type = "pdf",
>            dir = options()$grdir,
>         height = 7,
>          width = 7,
>          paper = "special",
>            ... ) 
> {
> if ( type=="pdf" )
> {
> print ( paste( dir, file, ".pdf", sep="" ) ) #just cheking...
>    bitmap( file = paste( dir, file, ".pdf", sep="" ),
>            type = "pdfwrite",
>          height = height,
>           width = width,
>             ... )
> }
> 
> if ( type=="eps" )
> {
> print ( paste( dir, file, ".eps", sep="" ) ) #just checking...
>    postscript( file = paste( dir, file, ".eps", sep="" ),
>              height = height,
>               width = width,
>          horizontal = F,
>               paper = paper,
>                 ... )
> }
> par( mgp=c(2,0.7,0) )
> }
> 
> # If not set plots will be in pdf-format
>  options( grdir="../eps/" )
> 
> pl.type <- "eps"  
> plt( file="ar", pl.type )
> plot(1,1) 
> 
> pl.type <- "pdf"  
> plt( file="ar", pl.type )
> plot(1,1) 
> 
> But what I get is:
> 
> > version
>          _         
> platform Windows   
> arch     x86       
> os       Win32     
> system   x86, Win32
> status             
> major    1         
> minor    1.1       
> year     2000      
> month    August    
> day      15        
> language R         
> > source("xx.r") # This is where the above code is
> [1] "../eps/ar.eps"
> [1] "../eps/ar.pdf"
> Error in tempfile("Rbit") : cannot find unused tempfile name
> > 
> 
> The error comes with the pdf-bit even if I interchange the two 
> parts doing the different kinds of files.
> 
> Any clues??

Try cleaning out your temp directory? The message is that it cannot
create a file with name starting with Rbit in that directory.
This is a file system problem, not a bitmap() problem.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Fri Dec 15 19:50:35 2000
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Fri, 15 Dec 2000 13:50:35 -0500
Subject: [R] resolution of windows metafiles
Message-ID: <OF1D7C1621.F2FAE177-ON852569B6.00666EFD@rtp.epa.gov>

I am having trouble getting smooth-appearing curves in figures produced as
windows metafiles using R (R-1.1.1 on Windows 98).  When I import them into
a word processor (either MS Word 97, or WordPerfect 9.0), the figures
appear only slightly bumpy on screen, but when printed, there is a clear
jaggedness reminiscent of aliasing.  Is there a fix for this (if the answer
is "upgrade to 1.2", I'll be doing that as soon as binaries for Windows are
available, anyway)? Maybe metafiles have a coarse underlying resolution?

The following code produces the problem (along with a postscript plot just
to show that a smooth representation is possible):

# PlotTest.R
# 12/15/2000
#
# Demonstrate some curiosities with windows metafiles
xvals <- seq(0,1,length=101)
yvals <- xvals^3
win.metafile(file="test.wmf",width=4,height=3.5,
           pointsize=12)
plot(xvals,yvals,type="l")
dev.off()

postscript(file="test.eps",horizontal=FALSE,width=4,height=3.5,
         pointsize=12)
plot(xvals,yvals,type="l")
dev.off()

windows(width=4,height=3.5,pointsize=12)
plot(xvals,yvals,type="l")
dev.copy(win.metafile,file="test2.wmf",width=4,height=3.5,pointsize=12)
dev.off()



R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919) 541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Dec 15 21:08:51 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 15 Dec 2000 20:08:51 +0000 (GMT Standard Time)
Subject: [R] resolution of windows metafiles
In-Reply-To: <OF1D7C1621.F2FAE177-ON852569B6.00666EFD@rtp.epa.gov>
Message-ID: <Pine.WNT.4.05.10012152008270.212-100000@tern.stats>

On Fri, 15 Dec 2000 Setzer.Woodrow at epamail.epa.gov wrote:

> I am having trouble getting smooth-appearing curves in figures produced as
> windows metafiles using R (R-1.1.1 on Windows 98).  When I import them into
> a word processor (either MS Word 97, or WordPerfect 9.0), the figures
> appear only slightly bumpy on screen, but when printed, there is a clear
> jaggedness reminiscent of aliasing.  Is there a fix for this (if the answer
> is "upgrade to 1.2", I'll be doing that as soon as binaries for Windows are
> available, anyway)? Maybe metafiles have a coarse underlying resolution?

They do, no fix as yet.

> 
> The following code produces the problem (along with a postscript plot just
> to show that a smooth representation is possible):
> 
> # PlotTest.R
> # 12/15/2000
> #
> # Demonstrate some curiosities with windows metafiles
> xvals <- seq(0,1,length=101)
> yvals <- xvals^3
> win.metafile(file="test.wmf",width=4,height=3.5,
>            pointsize=12)
> plot(xvals,yvals,type="l")
> dev.off()
> 
> postscript(file="test.eps",horizontal=FALSE,width=4,height=3.5,
>          pointsize=12)
> plot(xvals,yvals,type="l")
> dev.off()
> 
> windows(width=4,height=3.5,pointsize=12)
> plot(xvals,yvals,type="l")
> dev.copy(win.metafile,file="test2.wmf",width=4,height=3.5,pointsize=12)
> dev.off()
> 
> 
> 
> R. Woodrow Setzer, Jr.                                            Phone:
> (919) 541-0128
> Experimental Toxicology Division                       Fax:  (919) 541-5394
> Pharmacokinetics Branch
> NHEERL MD-74; US EPA; RTP, NC 27711
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Fri Dec 15 21:21:56 2000
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Fri, 15 Dec 2000 15:21:56 -0500
Subject: [R] Colour to RGB value?
Message-ID: <3a3a7c3b.101780259@fisher.stats.uwo.ca>

There are a lot of ways to specify colours in R plot functions (number
from the palette, by name, etc.).  I'd like to pass a colour from an R
function to an external function, and I'd like it to have the same
flexibility.  To avoid having to interpret all possible colour
specifications myself, I need a function to convert a general colour
specification into a standard form (e.g. r,g,b values).  

Is there such a thing somewhere? 

Duncan Murdoch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Sat Dec 16 04:15:31 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Fri, 15 Dec 2000 22:15:31 -0500 (EST)
Subject: [R] Colour to RGB value?
In-Reply-To: <3a3a7c3b.101780259@fisher.stats.uwo.ca>
Message-ID: <Pine.LNX.4.30.0012152211120.11192-100000@bolker.zoo.ufl.edu>


  Yes, with one Unix-specific hitch: the colorname-to-code database is
hard-coded in src/main/graphics.c and not (as far as I know) accessible
from R code.  However, on Unix you can just look at /usr/lib/X11/rgb.txt
(or some such file) to get the same information.

  Except for the unwanted line break in the first line (there should be a
space after the ")" and before the "\\" at the beginning of the next line)
these are my hacks for converting a name, internal color specification
(hex string beginning with "#"), or palette number to an RGB.  Have fun.

system("tr A-Z a-z </usr/lib/X11/rgb.txt | sed -e 's/\\([a-zA-Z]\\)
\\([a-zA-Z]\\)/\\1\\2/g' | uniq >colors.tmp")
color.list <- read.table("colors.tmp",skip=1,as.is=TRUE)
names(color.list) <- c("red","green","blue","name")

colorname.to.rgb <- function(name) {
  color.list[pmatch(name,color.list[,"name"]),1:3]
}

color.to.rgb <- function(color) {
#  given color as hexadecimal, return RGB values
  hexvec <- c(0:9,"A","B","C","D","E","F")
  rgb <- numeric(3)
  names(rgb) <- c("red","blue","green")
  for (i in (0:2)) {
    h1 <- which(hexvec==substr(color,i*2+2,i*2+2))-1
    h2 <- which(hexvec==substr(color,i*2+3,i*2+3))-1
    rgb[i+1] <- h1*16+h2
  }
  rgb
}
}

mma.color <- function(col) {
  if (is.character(col))
    if (substr(col,1,1)=="#")
  rgbvec <- color.to.rgb(col)
    else
      rgbvec <- colorname.to.rgb(col)
  else
    if (is.numeric(col)) {
      pal <- palette()
      if (col>length(pal))
        col <- col %% length(pal)
      rgbvec <- colorname.to.rgb(pal[col])
    }
  paste("RGBColor[",paste(rgbvec/255,collapse=","),"]",sep="")
}




On Fri, 15 Dec 2000, Duncan Murdoch wrote:

> There are a lot of ways to specify colours in R plot functions (number
> from the palette, by name, etc.).  I'd like to pass a colour from an R
> function to an external function, and I'd like it to have the same
> flexibility.  To avoid having to interpret all possible colour
> specifications myself, I need a function to convert a general colour
> specification into a standard form (e.g. r,g,b values).
>
> Is there such a thing somewhere?
>
> Duncan Murdoch
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Diego at kuonen.com  Sat Dec 16 10:02:57 2000
From: Diego at kuonen.com (Diego Kuonen)
Date: Sat, 16 Dec 2000 10:02:57 +0100
Subject: [R] R-1.2.0 installation problems...
Message-ID: <3A3B2FC1.87AF511D@Kuonen.com>

Dear all,

I have some problems installing R-1.2.0 under Red Hat Linux 6.0 
using Kernel 2.2.46 on an i686.
   
   $ pwd
   /usr/R-1.2.0
   $ ./configure --with-f2c --prefix=/usr/R-1.2.0
   ...
   $ make
   $ make install
   ...
   $ bin/R

nothing happens...

   $ ls -al bin/R
   -rwxr-xr-x   1 root     root            0 Dec 16 09:50 bin/R

shows me that the file is empty :-(

I finally remarked that after "make"

   $ ls -al bin/R
   -rwxr-xr-x   1 root     root         4661 Dec 16 09:52 bin/R

it's still there, but after the the "installing executables" in 
"make install" the file becomes empty. I produced a copy of "bin/R" 
before "make install", and recopied it after "make install" to "bin/R".
I don't think that this affects what follows as "bin/R" is a simply shell
script.

Then the call of

   $ bin/R

produces a "Segmentation fault", more specifically

   $ bin/R --verbose
   R : Copyright 2000, The R Development Core Team
   Version 1.2.0  (2000-12-15)
   ...
   Type `q()' to quit R.

   now dyn.load(/usr/R-1.2.0/library/ctest/libs/ctest.so)..
    >R_ReplConsole(): before "for(;;)" {main.c}
   Segmentation fault

Moreover, producing the call

   dyn.load("/usr/R-1.2.0/library/ctest/libs/ctest.so")

within R 1.0.0 works

   $ R --version
   R 1.0.0  (February 29, 2000)
   Copyright (C) 2000 R Development Core Team

   $ R
   R : Copyright 2000, The R Development Core Team
   Version 1.0.0  (February 29, 2000)
   ...
   > dyn.load("/usr/R-1.2.0/library/ctest/libs/ctest.so")
   > is.loaded("swilk")
   [1] TRUE

Any help would be appreciated.

Greets

  Diego

-- 
Diego Kuonen      http://wap.kuonen.com     http://stat.kuonen.com
http://www.Statoo.ch  Kya aap statooed hai?  http://www.Statoo.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Dec 16 10:44:32 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Dec 2000 10:44:32 +0100
Subject: [R] R-1.2.0 installation problems...
In-Reply-To: Diego Kuonen's message of "Sat, 16 Dec 2000 10:02:57 +0100"
References: <3A3B2FC1.87AF511D@Kuonen.com>
Message-ID: <x2y9xg1z0f.fsf@blueberry.kubism.ku.dk>

Diego Kuonen <Diego at kuonen.com> writes:

> Dear all,
> 
> I have some problems installing R-1.2.0 under Red Hat Linux 6.0 
> using Kernel 2.2.46 on an i686.
>    
>    $ pwd
>    /usr/R-1.2.0
>    $ ./configure --with-f2c --prefix=/usr/R-1.2.0

I don't think R is happy with having its install directory equal to
its build directory (and I don't think that can be expected to work).
Try unpacking the sources in /usr/src/R-1.2.0 instead. Either that or
just don't run make install, since the binaries will be in
/usr/R-1.2.0/bin already after make.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Diego at kuonen.com  Sat Dec 16 11:03:03 2000
From: Diego at kuonen.com (Diego Kuonen)
Date: Sat, 16 Dec 2000 11:03:03 +0100
Subject: [R] R-1.2.0 installation problems...
References: <3A3B2FC1.87AF511D@Kuonen.com> <x2y9xg1z0f.fsf@blueberry.kubism.ku.dk>
Message-ID: <3A3B3DD7.CFEF1315@Kuonen.com>

Peter Dalgaard BSA wrote:
> 
> I don't think R is happy with having its install directory equal to
> its build directory (and I don't think that can be expected to work).

Up to now, I always installed R in this way, and I never had problems 
with the installation under Linux.

> Try unpacking the sources in /usr/src/R-1.2.0 instead. Either that or
> just don't run make install, since the binaries will be in
> /usr/R-1.2.0/bin already after make.

Ok. Thanks. This time, I unpacked the sources in /usr/R-1.2.0, but installed
in /usr/R. The problem with the R shell file getting empty disappears, but...

   $ pwd
   /usr/R-1.2.0
   $ make clean
   $ ./configure --with-f2c --prefix=/usr/R
   $ make
   $ make install
   $ /usr/R/bin/R --verbose
   R : Copyright 2000, The R Development Core Team
   Version 1.2.0  (2000-12-15)
   ...
   Type `q()' to quit R.

   now dyn.load(/usr/R/lib/R/library/ctest/libs/ctest.so)..
    >R_ReplConsole(): before "for(;;)" {main.c}
   Segmentation fault

Greets

  Diego


-- 
Diego Kuonen      http://wap.kuonen.com     http://stat.kuonen.com
http://www.Statoo.ch  Kya aap statooed hai?  http://www.Statoo.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mylesj at icrf.icnet.uk  Sat Dec 16 18:21:22 2000
From: mylesj at icrf.icnet.uk (Jonathan Myles)
Date: Sat, 16 Dec 2000 17:21:22 +0000 (GMT)
Subject: [R] g2c library
Message-ID: <Pine.GSO.3.96.1001216171349.26937A-100000@cordite>



Working on a Red Hat (not Mandrake) Linux
and trying to load my library I get 

(sorry, can't copy it all, working remotely)

gcc -shared -o .....

/user/bin/ld: cannot find -lg2c

Does anyone know what the g2c library iss, and if I can download and
compile it for Red Hat

(I definitely didn't mean to type f2c
 in the above)

Thanks

Jonathan


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Dec 16 19:43:18 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 16 Dec 2000 18:43:18 +0000 (GMT)
Subject: [R] g2c library
In-Reply-To: <Pine.GSO.3.96.1001216171349.26937A-100000@cordite>
Message-ID: <Pine.GSO.4.05.10012161835310.4822-100000@auk.stats>

On Sat, 16 Dec 2000, Jonathan Myles wrote:

> Working on a Red Hat (not Mandrake) Linux
> and trying to load my library I get 
> 
> (sorry, can't copy it all, working remotely)
> 
> gcc -shared -o .....
> 
> /user/bin/ld: cannot find -lg2c
> 
> Does anyone know what the g2c library iss, and if I can download and
> compile it for Red Hat
> 
> (I definitely didn't mean to type f2c
>  in the above)

It should be part of the egcs-g77 rpm: it is the modified libf2c used by
g77.  We've seen this missing on Caldera systems, but not RedHat ones.
It lives in the gcc-lib dir, e.g. (RH6.2)

blackcap% ls /usr/lib/gcc-lib/i386-redhat-linux/egcs-2.91.66
/usr/lib/gcc-lib/i386-redhat-linux/egcs-2.91.66:
SYSCALLS.c.X  collect2*     crtend.o      libg2c.a      libstdc++.a@
cc1*          cpp*          crtendS.o     libgcc.a      libstdc++.so@
cc1obj*       crtbegin.o    f771*         libgcc.map    specs 

blackcap% rpm -qf /usr/lib/gcc-lib/i386-redhat-linux/egcs-2.91.66/libg2c.a 
egcs-g77-1.1.2-30

You do have egcs-g77 installed?  (Might have a different name on 7.0.)

What version of R, BTW?  Prior to 1.2.0 I believe you needed egcs-g77
installed to build a package with C code, as $(FLIBS) was invoked,
but this should not be the case with 1.2.0 (once RPMs are available).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From niels.waller at home.com  Sat Dec 16 23:30:44 2000
From: niels.waller at home.com (niels Waller)
Date: Sat, 16 Dec 2000 14:30:44 -0800
Subject: No subject
Message-ID: <NCBBKMNKKMFCIGDCHLDOKEBPCEAA.niels.waller@home.com>




Does anyone know of an R (or S-PLUS) function for delineating all possible
combinations and permutations?

That is, for set (1,2,3)   3_C_2 = {1,2}   {1,3}  {2,3}

Thanks,


*******************************************************
Niels Waller, Ph.D.
Director of Quantitative Methods and Evaluation
Department of Psychology and Human Development
Vanderbilt University
Phone: (615) 322-8380    email: niels.waller at vanderbilt.edu
QME Home page: http://www.vanderbilt.edu/quantmetheval/
*******************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at CMIS.CSIRO.AU  Sun Dec 17 01:44:25 2000
From: Bill.Venables at CMIS.CSIRO.AU (Bill.Venables@CMIS.CSIRO.AU)
Date: Sun, 17 Dec 2000 10:44:25 +1000
Subject: [R] functions for subsets: a minor R programming challenge
Message-ID: <2B7F04539DAFD311B61D009027D0DDA20C3B25@roper-cv.qld.cmis.CSIRO.AU>

Neils Waller asks

> -----Original Message-----
> From: niels Waller [mailto:niels.waller at home.com]
> Sent: Sunday, 17 December 2000 8:31
> To: r-help at stat.math.ethz.ch
> Subject: 
> 
> Does anyone know of an R (or S-PLUS) function for delineating 
> all possible combinations and permutations?
> 
> That is, for set (1,2,3)   3_C_2 = {1,2}   {1,3}  {2,3}
> 

OK, these are for combinations (sets), not permutations (sequences).

The first one, subsets(), returns a matrix whose rows are all sets of size r
from the set of size n given by the vector v.

The second one, Subsets(), is a more involved version of the same thing but
can be much more efficient if you are dealing with large sets (but not too
large!)

The third one, nextSubset(), is designed to be called in a loop and returns
the next subset from the entire set arranged in lexicographic order.  This
is for the case when you are working your way through the subsets one at a
time in a loop, anyway.

There is, however, a serious catch.  The second and third functions are
S-PLUS FUNCTIONS ONLY because they make essential use of frame 0 or frame 1,
entities that R quite righly eschews as mad, bad and dangerous to have.  So
the challenge is out for someone to write versions of them that use R
"environments" to achieve the same effect but in an elegant and illumating
way.  The second function uses frame 1 (or frame 0) for caching partial
results that can be later re-used and the third uses frame 0 for storing the
current subset.  I know it is possible since Doug Bates has done so already,
but I have lost his code.  Of course a part of the challenge is working out
how they work without any hints from me in the form of documentation.  :-)

Bill Venables.

_____________________________________________________________

subsets <- function(n, r, v = 1:n) # works in S or R
  if(r <= 0) vector(mode(v), 0) else
     if(r >= n) v[1:n] else {
    rbind(cbind(v[1], Recall(n-1, r-1, v[-1])),
                Recall(n-1, r, v[-1]))
}

Subsets <- function(n, r, v = 1:n, frame = 1) # works in S only
  if(r <= 0) vector(mode(v), 0) else
  if(r >= n) v[1:n] else {
    if(r > 1) {
      i1 <- paste("#", n - 1, r - 1)
      i2 <- paste("#", n - 1, r)
      if(!exists(i1))
        assign(i1,
               as.vector(Recall(n - 1, r - 1,
                  1:(n - 1))), frame = frame)
      if(!exists(i2))
        assign(i2, as.vector(Recall(n - 1, r,
                  1:(n - 1))), frame = frame)
      rbind(cbind(v[1],
            matrix(v[-1][get(i1)], ncol=r-1)),
            matrix(v[-1][get(i2)], ncol=r))
    } else matrix(v[1:n], ncol = 1)
  }

nextSubset <- function(n, r, v = 1:n) { # works in S only
  nam <- paste(n, r)
  if(exists(nam, frame = 0)) {
    ind <- get(nam)
    s <- seq(along = ind)[ind]
    if(s[1] == n - r + 1) {
      remove(nam, frame = 0)
      return(NULL)
    }
    k <- max(s[s < (n-r+1):n])
    t <- sum(ind[k:n])
    ind[k:n] <- c(F, rep(T, t),
                  rep(F, n - k - t))    
  } else {
    ind <- c(rep(T, r), rep(F, n-r))
  }
  assign(nam, ind, frame = 0)
  v[1:n][ind]
}
 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dtrenkler at nts6.oec.uni-osnabrueck.de  Sun Dec 17 12:08:00 2000
From: dtrenkler at nts6.oec.uni-osnabrueck.de (Trenkler, Dietrich)
Date: Sun, 17 Dec 2000 12:08:00 +0100
Subject: [R] AW: Permutations
Message-ID: <FB75CFC167F3D311B11D00A0CC20FB0E1132A2@nts7.oec.Uni-Osnabrueck.DE>

		Niels Waller wrote: 

> Does anyone know of an R (or S-PLUS) function for delineating all possible
> combinations and permutations?

The following function delivers all permutations of 1:n.

all.perm <- function(n) {
    p <- matrix(1, ncol = 1)
    for (i in 2:n) {
        p <- pp <- cbind(p, i)
        v <- c(1:i, 1:(i - 1))
        for (j in 2:i) {
            v <- v[-1]
            p <- rbind(p, pp[, v[1:i]])
        }
    }
    p
}



Regards,

  *** D.Trenkler ***

====================================================================
Dietrich Trenkler               (trenkler at nts6.oec.uni-osnabrueck.de)
Statistik / Empirische Wirtschaftsforschung
Universitaet Osnabrueck
Rolandstrasse 8                           Phone: +49(0) 541-969-2753
D-49069 Osnabrueck                        Fax  : +49(0) 541-969-2745
GERMANY
====================================================================

>  
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Dec 17 13:00:52 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 17 Dec 2000 12:00:52 +0000 (GMT)
Subject: [R] AW: Permutations
In-Reply-To: <FB75CFC167F3D311B11D00A0CC20FB0E1132A2@nts7.oec.Uni-Osnabrueck.DE>
Message-ID: <Pine.GSO.4.05.10012171147250.15857-100000@auk.stats>

Not sure why the columns are all headed "i"!  The use of rbind and cbind
makes this horribly memory-intensive, so much so that the practical
limit on my system was n=9.  Of course, beyond n=10 you would have trouble
storing the answer in a single matrix.  But, do try to avoid repeated
rbind-ing like this as it means the vector of matrix entries has to
be re-mapped every time.  Grow it in blocks (i rows at a tiem, here).

On Sun, 17 Dec 2000, Trenkler, Dietrich wrote:

> 		Niels Waller wrote: 
> 
> > Does anyone know of an R (or S-PLUS) function for delineating all possible
> > combinations and permutations?
> 
> The following function delivers all permutations of 1:n.
> 
> all.perm <- function(n) {
>     p <- matrix(1, ncol = 1)
>     for (i in 2:n) {
>         p <- pp <- cbind(p, i)
>         v <- c(1:i, 1:(i - 1))
>         for (j in 2:i) {
>             v <- v[-1]
>             p <- rbind(p, pp[, v[1:i]])
>         }
>     }
>     p
> }
> 
> 
> 
> Regards,
> 
>   *** D.Trenkler ***
> 
> ====================================================================
> Dietrich Trenkler               (trenkler at nts6.oec.uni-osnabrueck.de)
> Statistik / Empirische Wirtschaftsforschung
> Universitaet Osnabrueck
> Rolandstrasse 8                           Phone: +49(0) 541-969-2753
> D-49069 Osnabrueck                        Fax  : +49(0) 541-969-2745
> GERMANY
> ====================================================================
> 
> >  
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Sun Dec 17 16:23:20 2000
From: chong at stat.purdue.edu (Chong Gu)
Date: Sun, 17 Dec 2000 10:23:20 -0500
Subject: [R] multiframe in postscript 
Message-ID: <200012171523.KAA37118@odds.stat.purdue.edu>


I was hoping that the following specification

    postscript(file="fig.ps",height=2,width=4)
    par(mar=c(5,5,2,2)+.1,mfrow=c(1,2),mex=.6)

would yield the same scaling effect as

    postscript(file="fig.ps",height=2,width=6)
    par(mar=c(5,5,2,2)+.1,mfrow=c(1,3),mex=.6)

but the fact is that the 'mfrow=c(1,2)' yields smaller plotting frame
and bigger font size.  Some experiments show that the device scales
differently for two or less rows (columns) and three or more rows
(columns).

Is this a feature or "bug"?

I am running R-1.2, but I doubt the version matters here.

Chong
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Sun Dec 17 18:03:08 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 17 Dec 2000 11:03:08 -0600
Subject: [R] functions for subsets: a minor R programming challenge
In-Reply-To: Bill.Venables@CMIS.CSIRO.AU's message of "Sun, 17 Dec 2000 10:44:25 +1000"
References: <2B7F04539DAFD311B61D009027D0DDA20C3B25@roper-cv.qld.cmis.CSIRO.AU>
Message-ID: <6rlmtf9e0j.fsf@franz.stat.wisc.edu>

Bill.Venables at CMIS.CSIRO.AU writes:

> There is, however, a serious catch.  The second and third functions are
> S-PLUS FUNCTIONS ONLY because they make essential use of frame 0 or frame 1,
> entities that R quite righly eschews as mad, bad and dangerous to have.  So
> the challenge is out for someone to write versions of them that use R
> "environments" to achieve the same effect but in an elegant and illumating
> way.  The second function uses frame 1 (or frame 0) for caching partial
> results that can be later re-used and the third uses frame 0 for storing the
> current subset.  I know it is possible since Doug Bates has done so already,
> but I have lost his code.  

You lost my code!  I'm sure that's never happened to me :-)

I'll respond to the challenge of creating an R version of the second
function having had the benefit of your explaining how it works during
our conversations.

For the benefit of others reading this, in the Subsets function Bill
uses frame 1 to store intermediate results and avoid recalculating
them.  They are stored in frame 1 so they do not conflict with other
objects in the global databases.  The names constructed as the strings
i1 and i2 are unlikely to occur in practice but you still want to
avoid the possibility of conflict and frame 1 gives you a private
namespace during the execution of the uppermost call of the function
Subsets.  (One top-level call of Subsets will generate many other
calls of Subset through Recall.)

One approach to obtaining a private namespace in R is to use an
environment.  An R function inherits the environment in which it is
defined.  Most of the time this is the global environment.  Exceptions
are when a function is defined within another function so the first R
version of the code looks like

mkSubsets <- function()                 # works in R only
{
    .env <- environment()
    function(n, r, v = 1:n)
        if(r <= 0) vector(mode(v), 0)
        else if(r >= n) v[1:n]
        else {
            if(r > 1) {
                i1 <- paste("#", n - 1, r - 1)
                i2 <- paste("#", n - 1, r)
                if(!exists(i1))
                    assign(i1,
                           as.vector(Recall(n - 1, r - 1, 1:(n - 1))),
                           env = .env)
                if(!exists(i2))
                    assign(i2,
                           as.vector(Recall(n - 1, r, 1:(n - 1))),
                           env = .env)
                rbind(cbind(v[1],
                            matrix(v[-1][get(i1)], ncol=r-1)),
                      matrix(v[-1][get(i2)], ncol=r))
            } else matrix(v[1:n], ncol = 1)
        }
}

Subsets <- mkSubsets()

The function mkSubsets exists only to provide a private environment
(stored under the name .env) for the definition of the function
inside, which is returned as the value of mkSubsets.  That's the
function that I assign as Subsets.  Notice that the frame argument in
the calls to Recall has been replaced by env = .env so all of these
assignments are taking place in the environment in which subsets was
defined.

If I print the Subsets function it reproduces the definition and adds

<environment: 0x8a758ec>    # this number may vary

After calling Subsets, there are several objects with those funny
names in the environment of the Subsets function
> Subsets(5,3)
      [,1] [,2] [,3]
 [1,]    1    2    3
 [2,]    1    2    4
 [3,]    1    2    5
 [4,]    1    3    4
 [5,]    1    3    5
 [6,]    1    4    5
 [7,]    2    3    4
 [8,]    2    3    5
 [9,]    2    4    5
[10,]    3    4    5
> objects(env = environment(Subsets))
[1] "# 2 1" "# 2 2" "# 3 1" "# 3 2" "# 3 3" "# 4 2" "# 4 3"

That is one of the differences between the S version and the R
version.  The frame 1 used in S disappears after the function returns
whereas the environment for the R function persists until the end of
the session.  The R function will get faster with each execution
because the intermediate results are still in the cache but it does
this at the expense of taking up more memory.

Because the function mkSubsets is used only to create the function
Subsets, the whole thing could be changed into an anonymous call.

Subsets <- (function()                 # works in R only
{
    .env <- environment()
    function(n, r, v = 1:n)
        if(r <= 0) vector(mode(v), 0)
        else if(r >= n) v[1:n]
        else {
            if(r > 1) {
                i1 <- paste("#", n - 1, r - 1)
                i2 <- paste("#", n - 1, r)
                if(!exists(i1))
                    assign(i1,
                           as.vector(Recall(n - 1, r - 1, 1:(n - 1))),
                           env = .env)
                if(!exists(i2))
                    assign(i2,
                           as.vector(Recall(n - 1, r, 1:(n - 1))),
                           env = .env)
                rbind(cbind(v[1],
                            matrix(v[-1][get(i1)], ncol=r-1)),
                      matrix(v[-1][get(i2)], ncol=r))
            } else matrix(v[1:n], ncol = 1)
        }
})()

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Dec 17 19:08:45 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 17 Dec 2000 18:08:45 +0000 (GMT)
Subject: [R] multiframe in postscript 
In-Reply-To: <200012171523.KAA37118@odds.stat.purdue.edu>
Message-ID: <Pine.GSO.4.05.10012171803300.16325-100000@auk.stats>

On Sun, 17 Dec 2000, Chong Gu wrote:

> 
> I was hoping that the following specification
> 
>     postscript(file="fig.ps",height=2,width=4)
>     par(mar=c(5,5,2,2)+.1,mfrow=c(1,2),mex=.6)
> 
> would yield the same scaling effect as
> 
>     postscript(file="fig.ps",height=2,width=6)
>     par(mar=c(5,5,2,2)+.1,mfrow=c(1,3),mex=.6)
> 
> but the fact is that the 'mfrow=c(1,2)' yields smaller plotting frame
> and bigger font size.  Some experiments show that the device scales
> differently for two or less rows (columns) and three or more rows
> (columns).
> 
> Is this a feature or "bug"?
> 
> I am running R-1.2, but I doubt the version matters here.

It is a feature, copied from S.  It is only the font scaling (and
everything that depends on it) which depends on the mfrow/col layout.
Here's the C code exerpt (in par.c):

        if (nrow > 2 || ncol > 2) {
            dd->gp.cexbase = dd->dp.cexbase = 0.66;
            dd->gp.mex = dd->dp.mex = 1.0;
        }
        else if (nrow == 2 && ncol == 2) {
            dd->gp.cexbase = dd->dp.cexbase = 0.83;
            dd->gp.mex = dd->dp.mex = 1.0;
        }
        else {
            dd->gp.cexbase = dd->dp.cexbase = 1.0;
            dd->gp.mex = dd->dp.mex = 1.0;
        }

So you want to set cex=0.66 in the first case, I think.  (The details
are not quite the same as S, as far as I recall.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cjlu at ibm.stat.ncku.edu.tw  Mon Dec 18 08:47:15 2000
From: cjlu at ibm.stat.ncku.edu.tw (C. Joseph Lu)
Date: Mon, 18 Dec 2000 15:47:15 +0800
Subject: [R] How can I get "A$Title"?
Message-ID: <3A3DC102.74B455A@email.stat.ncku.edu.tw>

Dear R-friends,

I have whole bunch of objects, say, A, B, ..., Z,
all of them are "list" and haveing "Title" (a character string)
as their first element.
E.g.,
  > A$Title
  [1] "Airplane Component"

What I like to do is to find a way to printout all the Titles at one
time.
I tried the following:
  >  paste(LETTERS, "Title", sep="$") -> tmp
but can't find a way to continue since
  > get(tmp[1])
  Error in get(x, envir, mode, inherits) : variable "A$Title" was not
found

Is there a way to create a vector of A$Title, B$Title, ... without
double quotes?

My version is
> version
         _
platform Windows
arch     x86
os       Win32
system   x86, Win32
status
major    1
minor    1.1
year     2000
month    August
day      15
language R

Best regards,

C. Joseph Lu
Department of Statistics
National Cheng-Kung University
Tainan, Taiwan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Dec 18 09:11:33 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 18 Dec 2000 08:11:33 +0000 (GMT)
Subject: [R] How can I get "A$Title"?
In-Reply-To: <3A3DC102.74B455A@email.stat.ncku.edu.tw>
Message-ID: <Pine.GSO.4.05.10012180806080.16590-100000@auk.stats>

On Mon, 18 Dec 2000, C. Joseph Lu wrote:

> Dear R-friends,
> 
> I have whole bunch of objects, say, A, B, ..., Z,
> all of them are "list" and haveing "Title" (a character string)
> as their first element.
> E.g.,
>   > A$Title
>   [1] "Airplane Component"
> 
> What I like to do is to find a way to printout all the Titles at one
> time.
> I tried the following:
>   >  paste(LETTERS, "Title", sep="$") -> tmp
> but can't find a way to continue since
>   > get(tmp[1])
>   Error in get(x, envir, mode, inherits) : variable "A$Title" was not
> found

Right: the variable is named A, not A$Title.

> Is there a way to create a vector of A$Title, B$Title, ... without
> double quotes?

Do you want the names or the values?  For the latter

sapply(as.list(LETTERS), function(x) get(x[1])$Title)

The quotes are part of the printing of the titles, not the titles
themselves: use cat() or print(quote=FALSE) to suppress them.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at CMIS.CSIRO.AU  Mon Dec 18 09:12:49 2000
From: Bill.Venables at CMIS.CSIRO.AU (Bill.Venables@CMIS.CSIRO.AU)
Date: Mon, 18 Dec 2000 18:12:49 +1000
Subject: [R] How can I get "A$Title"?
Message-ID: <2B7F04539DAFD311B61D009027D0DDA20C3B3E@roper-cv.qld.cmis.CSIRO.AU>

Here is one possibility.  First get the titles:

titles <- lapply(LETTERS, function(x) get(x)$Title)

Now you have them as a list, do whatever you want with them:

print(paste(unlist(titles), collapse = "\n"), quote = FALSE)

might be what you want.

Bill Venables.


> -----Original Message-----
> From: C. Joseph Lu [mailto:cjlu at ibm.stat.ncku.edu.tw]
> Sent: Monday, 18 December 2000 17:47
> To: 'r-help'
> Subject: [R] How can I get "A$Title"?
> 
> 
> Dear R-friends,
> 
> I have whole bunch of objects, say, A, B, ..., Z,
> all of them are "list" and haveing "Title" (a character string)
> as their first element.
> E.g.,
>   > A$Title
>   [1] "Airplane Component"
> 
> What I like to do is to find a way to printout all the Titles at one
> time.
> I tried the following:
>   >  paste(LETTERS, "Title", sep="$") -> tmp
> but can't find a way to continue since
>   > get(tmp[1])
>   Error in get(x, envir, mode, inherits) : variable "A$Title" was not
> found
> 
> Is there a way to create a vector of A$Title, B$Title, ... without
> double quotes?
> 
> My version is
> > version
>          _
> platform Windows
> arch     x86
> os       Win32
> system   x86, Win32
> status
> major    1
> minor    1.1
> year     2000
> month    August
> day      15
> language R
> 
> Best regards,
> 
> C. Joseph Lu
> Department of Statistics
> National Cheng-Kung University
> Tainan, Taiwan
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cjlu at ibm.stat.ncku.edu.tw  Mon Dec 18 10:05:31 2000
From: cjlu at ibm.stat.ncku.edu.tw (C. Joseph Lu)
Date: Mon, 18 Dec 2000 17:05:31 +0800
Subject: [R] How can I get "A$Title"?
References: <2B7F04539DAFD311B61D009027D0DDA20C3B3E@roper-cv.qld.cmis.CSIRO.AU>
Message-ID: <3A3DD35B.BD246F60@email.stat.ncku.edu.tw>

Thanks Prof. Ripley and Dr. Venables for your prompt responses!

It seems like the key to my question is to use

    function(x) get(x)$Title

via sapply, as suggested by Prof. Ripley:

> sapply(as.list(LETTERS), function(x) get(x[1])$Title)

(I found sapply(LETTERS, function(x) get(x)$Title) works the same.)
or via lapply, as suggested by Dr. Venables:

> titles <- lapply(LETTERS, function(x) get(x)$Title)

As in terms of print them out,

> sapply(LETTERS, function(x) get(x)$Title

is good enough, or use Dr. Vernables' suggestion:

> print(paste(unlist(titles), collapse = "\n"), quote = FALSE)

however, collapse = "\n" should be sep = "\n" instead.

Thanks very much again!

Look forward the R- 1.2.0 for Windows 98!

> > -----Original Message-----
> > From: C. Joseph Lu [mailto:cjlu at ibm.stat.ncku.edu.tw]
> > Sent: Monday, 18 December 2000 17:47
> > To: 'r-help'
> > Subject: [R] How can I get "A$Title"?
> >
> >
> > Dear R-friends,
> >
> > I have whole bunch of objects, say, A, B, ..., Z,
> > all of them are "list" and haveing "Title" (a character string)
> > as their first element.
> > E.g.,
> >   > A$Title
> >   [1] "Airplane Component"
> >
> > What I like to do is to find a way to printout all the Titles at one
> > time.
> > I tried the following:
> >   >  paste(LETTERS, "Title", sep="$") -> tmp
> > but can't find a way to continue since
> >   > get(tmp[1])
> >   Error in get(x, envir, mode, inherits) : variable "A$Title" was not
> > found
> >
> > Is there a way to create a vector of A$Title, B$Title, ... without
> > double quotes?
> >
> > My version is
> > > version
> >          _
> > platform Windows
> > arch     x86
> > os       Win32
> > system   x86, Win32
> > status
> > major    1
> > minor    1.1
> > year     2000
> > month    August
> > day      15
> > language R

Best regards,

C. Joseph Lu
Department of Statistics
National Cheng-Kung University
Tainan, Taiwan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tord.snall at ebc.uu.se  Mon Dec 18 10:10:39 2000
From: tord.snall at ebc.uu.se (Tord Snall)
Date: Mon, 18 Dec 2000 10:10:39 +0100
Subject: [R] error when loading nlme
In-Reply-To: <200012171532.KAA24081@jessie.research.bell-labs.com>
Message-ID: <3.0.6.32.20001218101039.009593f0@mail.anst.uu.se>

Dear all,
I try to load the nlme library for Linear and nonlinear mixed effects
models by Jose Pinheiro, Douglas Bates and Saikat DebRoy but I get the
following error message:

> library(nls)
> library(nlme)
Error in dyn.load(x, as.logical(local), as.logical(now)) : 
        unable to load shared library
"C:\Program\R\rw1010/library/nlme/libs/nlme.dll":
  LoadLibrary failure:  Det g?r inte att hitta angiven procedur.
Error in library(nlme) : .First.lib failed
> 

A window saying "Cannot find the procedure start address LENGTH in the DLL
file R.dll" also pops up.

Can someone please tell an R-beginner how to solve this.

Has it got to do with the fact that I use R 1.1.0 for Win NT? R 1.2 for
Windows NT is not availabe yet, is it?

Thanks in advance!

Sincerely,
Tord


-----------------------------------------------------------------------
Tord Sn?ll
Avd. f v?xtekologi, Evolutionsbiologiskt centrum, Uppsala universitet
Dept. of Plant Ecology, Evolutionary Biology Centre, Uppsala University
Villav?gen 14			
SE-752 36 Uppsala, Sweden
Tel: 018-471 28 82 (int +46 18 471 28 82) (work)
Tel: 018-25 71 33 (int +46 18 25 71 33) (home)
Fax: 018-55 34 19 (int +46 18 55 34 19) (work)
E-mail: Tord.Snall at ebc.uu.se
------------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From richards at pci.upmc.edu  Mon Dec 18 11:29:20 2000
From: richards at pci.upmc.edu (Richards, Tom)
Date: Mon, 18 Dec 2000 05:29:20 -0500
Subject: [R] Modelling Question
Message-ID: <5B9B19C8A522D411A8EC00A0C99D6A9A02E697@mail.nsabp.pitt.edu>

Hello:

I want to fit a model to count data where many counts are zero.  I would
like to posit that the baseline value of an immunologic marker impacts
whether or not a patient experiences any events at all, and the conditional
(on being  > 0) expectation of the remaining counts as a function of the
percent inhibition of the immunologic marker.  I guess I want to use a
logistic model for the probability of experiencing any events, and a Poisson
model for the conditional expectation.  This sounds like it should be a
familiar problem.  Before I try writing down and maximizing the likelihood
myself, can someone point me in a simpler direction?  Thanks in advance for
any help.

Tom Richards

P.S., Sorry about a potential cross-posting to S-news, but I just got a
weird "stalled, non-member posting" message from there.  I thought I was a
member of S-news, but apparently something went wrong recently for me.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Dec 18 11:38:43 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 18 Dec 2000 10:38:43 +0000 (GMT)
Subject: [R] error when loading nlme
In-Reply-To: <3.0.6.32.20001218101039.009593f0@mail.anst.uu.se>
Message-ID: <Pine.GSO.4.05.10012181033360.13302-100000@toucan.stats>

To all users of R for Windows: *please* read the ReadMe before downloading
libraries, and make sure you get the right version.  There are
extensive incompatibilities between R 1.2.0 and earlier versions, and
even more between the Windows ports.

On Mon, 18 Dec 2000, Tord Snall wrote:

> Dear all,
> I try to load the nlme library for Linear and nonlinear mixed effects
> models by Jose Pinheiro, Douglas Bates and Saikat DebRoy but I get the
> following error message:
> 
> > library(nls)
> > library(nlme)
> Error in dyn.load(x, as.logical(local), as.logical(now)) : 
>         unable to load shared library
> "C:\Program\R\rw1010/library/nlme/libs/nlme.dll":
>   LoadLibrary failure:  Det gr inte att hitta angiven procedur.
> Error in library(nlme) : .First.lib failed
> > 
> 
> A window saying "Cannot find the procedure start address LENGTH in the DLL
> file R.dll" also pops up.
> 
> Can someone please tell an R-beginner how to solve this.

Get the right version, from the *Old* area.  As the ReadMe says:

R Packages for Windows, version 1.2.0 or later
===============================================

These packages are for rw1020 or later. See PACKAGES for the version
numbers
and descriptions.

See directory Old for versions for rw1011 or before (and that collection is
no longer maintained).


> Has it got to do with the fact that I use R 1.1.0 for Win NT? R 1.2 for
> Windows NT is not availabe yet, is it?

No, but a pre-release has been.  Guido did say he would do it on Saturday,
so it should be imminent.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From petzoldt at rcs.urz.tu-dresden.de  Mon Dec 18 11:55:40 2000
From: petzoldt at rcs.urz.tu-dresden.de (Thomas Petzoldt)
Date: Mon, 18 Dec 2000 11:55:40 +0100
Subject: [R] Segmentation fault with expression on linux
Message-ID: <3A3DED2C.17567F9A@rcs.urz.tu-dresden.de>

I have a problem, that the plot of mathematical formula sometimes
crashes R on Linux (SuSE 6.2 and 7.0 on a Dual PIII/500 machine with 1GB
RAM). The problem occurs for example in demo("graphics"), i.e. in the
last part were the mathematical symbols are plotted.

There are several circumstances to reproduce this segmentation fault,
but the following is one of the most simple examples. The first two
text() functions do well, but a combination of the two will crash the
system. The problem persists from R 0.99, 1.1.1 and (recently) with 1.2,
but it works fine on Windows (1.1.1).

#----------------------------------------
#The example:
#----------------------------------------

plot(c(0,1),c(0,1),type="n")
text(0.5,0.7,expression(y == e^-frac(x,y)))      # o.k.
readline("press return")
text(0.5,0.6,expression(y == frac(x,sigma)))     # o.k.
readline("press return")
text(0.5,0.5,expression(y == e^-frac(x,sigma)))  #segmentation fault
#----------------------------------------

Any idea?

Thank you very much!

Thomas Petzoldt

--
Dresden University of Technology
Institute of Hydrobiology
http://www.tu-dresden.de/fghhihb/
mailto:petzoldt at rcs.urz.tu-dresden.de
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Dec 18 12:21:26 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 Dec 2000 12:21:26 +0100
Subject: [R] Segmentation fault with expression on linux
In-Reply-To: Thomas Petzoldt's message of "Mon, 18 Dec 2000 11:55:40 +0100"
References: <3A3DED2C.17567F9A@rcs.urz.tu-dresden.de>
Message-ID: <x2k88yotzd.fsf@blueberry.kubism.ku.dk>

Thomas Petzoldt <petzoldt at Rcs1.urz.tu-dresden.de> writes:

> I have a problem, that the plot of mathematical formula sometimes
> crashes R on Linux (SuSE 6.2 and 7.0 on a Dual PIII/500 machine with 1GB
> RAM). The problem occurs for example in demo("graphics"), i.e. in the
> last part were the mathematical symbols are plotted.
> 
> There are several circumstances to reproduce this segmentation fault,
> but the following is one of the most simple examples. The first two
> text() functions do well, but a combination of the two will crash the
> system. The problem persists from R 0.99, 1.1.1 and (recently) with 1.2,
> but it works fine on Windows (1.1.1).
> 
> #----------------------------------------
> #The example:
> #----------------------------------------
> 
> plot(c(0,1),c(0,1),type="n")
> text(0.5,0.7,expression(y == e^-frac(x,y)))      # o.k.
> readline("press return")
> text(0.5,0.6,expression(y == frac(x,sigma)))     # o.k.
> readline("press return")
> text(0.5,0.5,expression(y == e^-frac(x,sigma)))  #segmentation fault
> #----------------------------------------
> 
> Any idea?

I can't reproduce this with 1.2.0, nor 1.1.1 on RedHat6.2. Could you
please try running it with R -d gdb until the point of crash and show
us a backtrace?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Dec 18 13:48:46 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 Dec 2000 13:48:46 +0100
Subject: [R] Segmentation fault with expression on linux
In-Reply-To: Thomas Petzoldt's message of "Mon, 18 Dec 2000 12:37:50 +0100"
References: <3A3DED2C.17567F9A@rcs.urz.tu-dresden.de> <x2k88yotzd.fsf@blueberry.kubism.ku.dk> <3A3DF70E.8D330AF9@rcs.urz.tu-dresden.de>
Message-ID: <x2elz5q4i9.fsf@blueberry.kubism.ku.dk>

[I'm taking the liberty of forwarding this back to r-help. Others may
be better at following up on this, and I don't see anything
particularly embarrassing to you.]

Thomas Petzoldt <petzoldt at Rcs1.urz.tu-dresden.de> writes:

> Hello Peter,
> 
> > I can't reproduce this with 1.2.0, nor 1.1.1 on RedHat6.2. Could you
> > please try running it with R -d gdb until the point of crash and show
> > us a backtrace?
> 
> thank you very much for your immediate reply. Unfortunalely I am not a C
> programmer. My skills are on a "applied low level", to write simulations
> and simple scripts in Turbo-Pascal, Java, ... and :) R or to do a make
> configure", make, make install. Maybe, that a misconfiguration of my
> system was not detected by the make procedure and this is the reason for
> the crash. Nevertheless I run gdb and found the following output:
> 
> Program received signal SIGSEGV, Segmentation fault.
> 0x4023220b in X11_MetricInfo (c=115, ascent=0xbfffd2c4,
> descent=0xbfffd2cc,
>     width=0xbfffd2d4, dd=0x89dfe08) at devX11.c:1299
> 1299            *ascent = xd->font->per_char[c-first].ascent;

Well, that's still quite useful. Something is wrong with the fonts you
have available. This does make sense considering the fact that the
sigma needs to be set in a smaller size in your third example.

It may help to install the "other" set of X11 fonts (75/100 dpi)
and/or make sure that font scaling is allowed. 

In any case, it would seem that there is also a bug in R, since this
condition should at worst cause an error saying that a font is
unavailable, not segfault.

> 
> backtrace then gives:
> =====================
> 
> (gdb) backtrace
> #0  0x4023220b in X11_MetricInfo (c=115, ascent=0xbfffd2c4,
>     descent=0xbfffd2cc, width=0xbfffd2d4, dd=0x89dfe08) at devX11.c:1299
> #1  0x8094b1c in Rf_GMetricInfo (c=115, ascent=0xbfffd2c4,
> descent=0xbfffd2cc,
>     width=0xbfffd2d4, units=INCHES, dd=0x89dfe08) at graphics.c:2627
> #2  0x80c6624 in GlyphBBox (chr=115) at plotmath.c:936
> #3  0x80c6751 in RenderSymbolChar (ascii=115, draw=0) at plotmath.c:982
> #4  0x80c6ba9 in RenderSymbol (expr=0x857f25c, draw=0) at
> plotmath.c:1091
> #5  0x80c6e3e in RenderAtom (expr=0x857f25c, draw=0) at plotmath.c:1166
> #6  0x80cc11e in RenderElement (expr=0x857f25c, draw=0) at
> plotmath.c:2800
> #7  0x80c8858 in RenderFraction (expr=0x8a00154, rule=1, draw=0)
>     at plotmath.c:1727
> #8  0x80c8b9e in RenderOver (expr=0x8a00154, draw=0) at plotmath.c:1772
> #9  0x80cbe34 in RenderFormula (expr=0x8a00154, draw=0) at
> plotmath.c:2750
> #10 0x80cc111 in RenderElement (expr=0x8a00154, draw=0) at
> plotmath.c:2798
> #11 0x80c75a5 in RenderBin (expr=0x8a0018c, draw=0) at plotmath.c:1341
> #12 0x80cbd32 in RenderFormula (expr=0x8a0018c, draw=0) at
> plotmath.c:2736
> #13 0x80cc111 in RenderElement (expr=0x8a0018c, draw=0) at
> plotmath.c:2798
> #14 0x80c79e4 in RenderSup (expr=0x8a001e0, draw=0) at plotmath.c:1438
> #15 0x80cbd55 in RenderFormula (expr=0x8a001e0, draw=0) at
> plotmath.c:2738
> #16 0x80cc111 in RenderElement (expr=0x8a001e0, draw=0) at
> plotmath.c:2798
> #17 0x80cb25c in RenderRel (expr=0x8a00234, draw=0) at plotmath.c:2476
> #18 0x80cbfae in RenderFormula (expr=0x8a00234, draw=0) at
> plotmath.c:2770
> #19 0x80cc111 in RenderElement (expr=0x8a00234, draw=0) at
> plotmath.c:2798
> ---Type <return> to continue, or q <return> to quit---
> #20 0x80cc353 in Rf_GMathText (x=3.6786417322834639,
> y=3.5863681102362204,
>     coords=13, expr=0x8a00234, xc=0.5, yc=NaN(0x80000000007a2), rot=0,
>     dd=0x89dfe08) at plotmath.c:2904
> #21 0x80ba85a in do_text (call=0x8836a84, op=0x81e8c74, args=0x81d8008,
>     env=0x89fe798) at plot.c:2008
> #22 0x80a567a in do_internal (call=0x88369f8, op=0x81dd19c,
> args=0x8836a14,
>     env=0x89fe798) at names.c:925
> #23 0x80862c7 in Rf_eval (e=0x88369f8, rho=0x89fe798) at eval.c:317
> #24 0x8087490 in do_begin (call=0x88356f4, op=0x81dd554, args=0x88356d8,
>     rho=0x89fe798) at eval.c:803
> #25 0x80862c7 in Rf_eval (e=0x88356f4, rho=0x89fe798) at eval.c:317
> #26 0x80868d8 in Rf_applyClosure (call=0x89feba4, op=0x88368fc,
>     arglist=0x89fdfe4, rho=0x89fdee8, suppliedenv=0x89febdc) at
> eval.c:501
> #27 0x80a5a31 in applyMethod (call=0x89feba4, op=0x88368fc,
> args=0x89fdfe4,
>     rho=0x89fdee8, newrho=0x89febdc) at objects.c:117
> #28 0x80a6058 in Rf_usemethod (generic=0xbfffe158 "text", obj=0x89fd168,
>     call=0x8834e60, args=0x81d8008, rho=0x89fdee8, ans=0xbfffe154)
>     at objects.c:271
> #29 0x80a624d in do_usemethod (call=0x8834e60, op=0x81ea994,
> args=0x8834e7c,
>     env=0x89fdee8) at objects.c:325
> #30 0x80862c7 in Rf_eval (e=0x8834e60, rho=0x89fdee8) at eval.c:317
> #31 0x80868d8 in Rf_applyClosure (call=0x89fe47c, op=0x8834d80,
>     arglist=0x89fdfe4, rho=0x81eb480, suppliedenv=0x81d8008) at
> eval.c:501
> ---Type <return> to continue, or q <return> to quit---
> #32 0x8086528 in Rf_eval (e=0x89fe47c, rho=0x81eb480) at eval.c:352
> #33 0x8088454 in do_eval (call=0x87b4440, op=0x81e7418, args=0x89fe0e0,
>     rho=0x89fe134) at eval.c:1281
> #34 0x80a567a in do_internal (call=0x87b43b4, op=0x81dd19c,
> args=0x87b43d0,
>     env=0x89fe134) at names.c:925
> #35 0x80862c7 in Rf_eval (e=0x87b43b4, rho=0x89fe134) at eval.c:317
> #36 0x80868d8 in Rf_applyClosure (call=0x87b6f30, op=0x89d9cec,
>     arglist=0x89fe1dc, rho=0x89d9dcc, suppliedenv=0x81d8008) at
> eval.c:501
> #37 0x8086528 in Rf_eval (e=0x87b6f30, rho=0x89d9dcc) at eval.c:352
> #38 0x8087b56 in do_set (call=0x87b6edc, op=0x81dd5fc, args=0x87b6ef8,
>     rho=0x89d9dcc) at eval.c:1008
> #39 0x80862c7 in Rf_eval (e=0x87b6edc, rho=0x89d9dcc) at eval.c:317
> #40 0x8087490 in do_begin (call=0x87b616c, op=0x81dd554, args=0x87b6150,
>     rho=0x89d9dcc) at eval.c:803
> #41 0x80862c7 in Rf_eval (e=0x87b616c, rho=0x89d9dcc) at eval.c:317
> #42 0x8087001 in do_for (call=0x87b8ccc, op=0x81d7a04, args=0x87b8ce8,
>     rho=0x89d9dcc) at eval.c:678
> #43 0x80862c7 in Rf_eval (e=0x87b8ccc, rho=0x89d9dcc) at eval.c:317
> #44 0x8087490 in do_begin (call=0x87b42d4, op=0x81dd554, args=0x87b42b8,
>     rho=0x89d9dcc) at eval.c:803
> #45 0x80862c7 in Rf_eval (e=0x87b42d4, rho=0x89d9dcc) at eval.c:317
> #46 0x80868d8 in Rf_applyClosure (call=0x89d6538, op=0x87b9abc,
>     arglist=0x89d9ec8, rho=0x81eb480, suppliedenv=0x81d8008) at
> eval.c:501
> #47 0x8086528 in Rf_eval (e=0x89d6538, rho=0x81eb480) at eval.c:352
> #48 0x809b1a1 in R_ReplConsole (rho=0x81eb480, savestack=0,
> browselevel=0)
>     at main.c:187
> #49 0x809b8f2 in run_Rmainloop () at main.c:485
> #50 0x809b930 in Rf_mainloop () at main.c:499
> #51 0x80ec82b in main (ac=1, av=0xbffff684) at system.c:88
> (gdb)                                                              
> 
> -------------------
> 
> Is there anything else, what I can do in order to isolate the problem?

One can do various things to catch the failed attempt at font loading,
but let's first hear if anyone can spot the problem offhand.

> Thank you!
> 
> Thomas Petzoldt
> 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jhoksane at ecology.helsinki.fi  Mon Dec 18 13:44:51 2000
From: jhoksane at ecology.helsinki.fi (Jari Oksanen)
Date: Mon, 18 Dec 2000 14:44:51 +0200
Subject: [R] Scope change in R1.2?
Message-ID: <200012181244.OAA26958@khatkhat.ecology.helsinki.fi>

I upgraded R-base 1.2.0 today, and then I intended to give a finishing touch 
to some R functions I should send out today. To my surprise, they failed in R 
1.2 although they still worked fine in R 1.0.1 (I checked in another machine). 
The error message I got was like this:

> optci(trar.g, water)
Error in unique(c("AsIs", class(x))) : Object "x" not found

The function call was 

> optci <- function (model, x, confidence = 0.95)

where "model" is a glm object and "x" is a variable, in this case "water" (not 
a very unique name, though). It seems that "x=water" is passed OK as a 
variable, but the error comes when I try pass "x" to another function within 
"optci". This function calls still another function, and, now it comes, this 
calls update.formula. It seems that the error comes after this update. I see 
that the update.formula has changed between 1.0.1 and 1.2.0 and update is 
defines explicitly the environment as the environment of the original glm 
which in this case is <environment: R_GlobalEnv>, and I try to update the 
formula with a variable defined within local scope. Is this a likely 
explanation, and if so, is there a road ahead or should I just give up? At 
least I cannot trace this problem any longer, since update.formula is the last 
R code I see. It then vanishes into update which is non-transparent to me. 
update.formula seems to work OK, but the error message seems to come from 
update.

Sorry for the trouble, and thankful for any help.

cheers, jari oksanen
-- 
Jari Oksanen - Dept Ecol Env Sci, Univ Helsinki, 15140 Lahti
Ph. +358 3 89220312, Fax -- 89220289, Mobile +358 40 5136529
jari.oksanen at helsinki.fi    http://www.helsinki.fi/~jhoksane


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Athula.Herath at ogs.co.uk  Mon Dec 18 14:08:20 2000
From: Athula.Herath at ogs.co.uk (Athula Herath)
Date: Mon, 18 Dec 2000 13:08:20 +0000
Subject: [R] mva - kmeans (repetitive requests)
Message-ID: <3A3E0C44.B5D6EBD8@ogs.co.uk>


Hi All,

Should I get two different results if I were to repeat the kmeans
clustering on the same data set?


R : Copyright 2000, The R Development Core Team
Version 1.1.1  (August 15, 2000)


The following code

library(mva)
data(iris)
kmeans(iris[1:4],5,20)

generates:

$cluster
  [1] 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5
5 5 5 5
 [38] 5 5 5 5 5 5 5 5 5 5 5 5 5 2 2 2 3 2 3 2 4 2 3 4 3 3 2 3 2 3 3 2 3
2 3 2 2
 [75] 2 2 2 2 2 3 3 3 3 2 3 2 2 2 3 3 3 2 3 4 3 3 3 2 4 3 1 2 1 1 1 1 3
1 1 1 2
[112] 2 1 2 2 1 1 1 1 2 1 2 1 2 1 1 2 2 1 1 1 1 1 2 2 1 1 1 2 1 1 1 2 1
1 1 2 2
[149] 1 2

$centers
  Sepal.Length Sepal.Width Petal.Length Petal.Width
1     6.912500    3.100000     5.846875     2.13125
2     6.252500    2.855000     4.815000     1.62500
3     5.620833    2.691667     4.075000     1.26250
4     5.000000    2.300000     3.275000     1.02500
5     5.006000    3.428000     1.462000     0.24600

$withinss
[1] 18.703437 13.624750  5.219167  0.295000 15.151000

$size
[1] 32 40 24  4 50

And if I do a further  kmeans(iris[1:4],5,20) gives me:

$cluster
  [1] 5 1 1 1 5 5 1 5 1 1 5 1 1 1 5 5 5 5 5 5 5 5 1 5 1 1 5 5 5 1 1 5 5
5 1 1 5
 [38] 5 1 5 5 1 1 5 5 1 5 1 5 1 2 2 2 3 2 3 2 3 2 3 3 3 3 2 3 2 3 3 2 3
2 3 2 2
 [75] 2 2 2 2 2 3 3 3 3 2 3 2 2 2 3 3 3 2 3 3 3 3 3 2 3 3 4 2 4 2 4 4 3
4 4 4 2
[112] 2 4 2 2 4 4 4 4 2 4 2 4 2 4 4 2 2 4 4 4 4 4 2 2 4 4 2 2 4 4 4 2 4
4 4 2 2
[149] 4 2

$centers
  Sepal.Length Sepal.Width Petal.Length Petal.Width
1     4.704545    3.122727     1.413636   0.2000000
2     6.257143    2.861905     4.850000   1.6333333
3     5.532143    2.635714     3.960714   1.2285714
4     6.950000    3.106667     5.866667   2.1533333
5     5.242857    3.667857     1.500000   0.2821429

$withinss
[1]  3.114091 14.800238  9.749286 17.555000  4.630714

$size
[1] 22 42 28 30 28

In S-Plus (2000)  the repetitive executions gives us the same result.
Are these  results  generated by R consistent?

Thanks,

Athula.






**********************************************************************
The information transmitted by this email is private and
confidential and is intended for the use of the intended 
recipients specified therein.
If you are neither an intended recipient nor an employee
or agent responsible for delivery to an intended recipient,
you should be aware that any dissemination, distribution
or copying of this communication is strictly prohibited.
If you have received this communication in error, please
notify us immediately.
**********************************************************************
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jgoebel at diw.de  Mon Dec 18 14:09:43 2000
From: jgoebel at diw.de (Jan Goebel)
Date: Mon, 18 Dec 2000 14:09:43 +0100
Subject: [R] Segmentation fault with expression on linux
In-Reply-To: <3A3DED2C.17567F9A@rcs.urz.tu-dresden.de>; from petzoldt@Rcs1.urz.tu-dresden.de on Mon, Dec 18, 2000 at 11:55:40 +0100
References: <3A3DED2C.17567F9A@rcs.urz.tu-dresden.de>
Message-ID: <20001218140943.A4060@diw14093.diw.de>

Hello,

using SuSE 7.0 PIII500 (192MB RAM) and 

platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    1.1              
year     2000             
month    August           
day      15               
language R                

also on the same machine with
         _                
platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    2.0              
year     2000             
month    12               
day      15               
language R                

your eample runs without any problems.

Greetings

jan

On Mon, 18 Dec 2000, Thomas Petzoldt wrote:

> I have a problem, that the plot of mathematical formula sometimes
> crashes R on Linux (SuSE 6.2 and 7.0 on a Dual PIII/500 machine with 1GB
> RAM). The problem occurs for example in demo("graphics"), i.e. in the
> last part were the mathematical symbols are plotted.
> 
> There are several circumstances to reproduce this segmentation fault,
> but the following is one of the most simple examples. The first two
> text() functions do well, but a combination of the two will crash the
> system. The problem persists from R 0.99, 1.1.1 and (recently) with 1.2,
> but it works fine on Windows (1.1.1).
> 
> #----------------------------------------
> #The example:
> #----------------------------------------
> 
> plot(c(0,1),c(0,1),type="n")
> text(0.5,0.7,expression(y == e^-frac(x,y)))      # o.k.
> readline("press return")
> text(0.5,0.6,expression(y == frac(x,sigma)))     # o.k.
> readline("press return")
> text(0.5,0.5,expression(y == e^-frac(x,sigma)))  #segmentation fault
> #----------------------------------------
> 
> Any idea?
> 
> Thank you very much!
> 
> Thomas Petzoldt
> 
> --
> Dresden University of Technology
> Institute of Hydrobiology
> http://www.tu-dresden.de/fghhihb/
> mailto:petzoldt at rcs.urz.tu-dresden.de
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
+-----------------------------------
 Jan Goebel (mailto:jgoebel at diw.de)

 DIW Berlin 
 Longitudinal Data and Microanalysis
 K?nigin-Luise-Str. 5
 D-14195 Berlin -- Germany --
 phone: 49 30 89789-377
+-----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Dec 18 14:29:10 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 18 Dec 2000 13:29:10 +0000 (GMT)
Subject: [R] mva - kmeans (repetitive requests)
Message-ID: <200012181329.NAA13627@toucan.stats.ox.ac.uk>


> Date: Mon, 18 Dec 2000 13:08:20 +0000
> From: Athula Herath <Athula.Herath at ogs.co.uk>
> 
> 
> Hi All,
> 
> Should I get two different results if I were to repeat the kmeans
> clustering on the same data set?

[Using kmeans(iris[1:4],5,20)]

Yes.  It starts with a random sample from the dataset.

> In S-Plus (2000)  the repetitive executions gives us the same result.

S-PLUS (6.0) uses 

# if starting values not specified use hclust to get them

so the algorithm is different.

> Are these  results  generated by R consistent?

Consistent with what?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Athula.Herath at ogs.co.uk  Mon Dec 18 14:49:45 2000
From: Athula.Herath at ogs.co.uk (Athula Herath)
Date: Mon, 18 Dec 2000 13:49:45 +0000
Subject: [R] mva - kmeans (repetitive requests)
References: <200012181329.NAA13627@toucan.stats.ox.ac.uk>
Message-ID: <3A3E15F9.995156EE@ogs.co.uk>

OOPS!.

Many thanks to Prof. Ripley for pointing out:


Prof Brian Ripley wrote:

> > Date: Mon, 18 Dec 2000 13:08:20 +0000
> > From: Athula Herath <Athula.Herath at ogs.co.uk>
> >
> >
> > Hi All,
> >
> > Should I get two different results if I were to repeat the kmeans
> > clustering on the same data set?
>
> [Using kmeans(iris[1:4],5,20)]
>
> Yes.  It starts with a random sample from the dataset.

This explains (and I should've looked at help(kmeans) carefully)

Thanks,

Athula.



**********************************************************************
The information transmitted by this email is private and
confidential and is intended for the use of the intended 
recipients specified therein.
If you are neither an intended recipient nor an employee
or agent responsible for delivery to an intended recipient,
you should be aware that any dissemination, distribution
or copying of this communication is strictly prohibited.
If you have received this communication in error, please
notify us immediately.
**********************************************************************
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rgentlem at jimmy.harvard.edu  Mon Dec 18 15:30:50 2000
From: rgentlem at jimmy.harvard.edu (Robert Gentleman)
Date: Mon, 18 Dec 2000 09:30:50 -0500
Subject: [R] Scope change in R1.2?
In-Reply-To: <200012181244.OAA26958@khatkhat.ecology.helsinki.fi>; from jhoksane@ecology.helsinki.fi on Mon, Dec 18, 2000 at 02:44:51PM +0200
References: <200012181244.OAA26958@khatkhat.ecology.helsinki.fi>
Message-ID: <20001218093050.D11628@jimmy.harvard.edu>

Indeed there have been some changes to the way in which formulas
resolve the symbols they contain. We hope that overall it will be for
the better but there are some situations where things need to change.

First let me explain why we changed things.
Suppose that I have the following:

x<- somedata
y<- someotherdata
form<-y~x

here I have a clear idea that the y and x in my formula are
 the y and x I have defined
but under the old system there was no way to ensure that


foo<-function(form) {
  x <- 1
  y <-2
  model.frame(form)
}

a call to foo in the old system would cause me to pick up
the local values of x and y -- 1 and 2, not my original
data.

you are in the situation, I think, where you want the local x and y
to do that I would change the function foo to:
foo<-function(form) {
  x <- 1
  y <-2
  model.frame(form, data=environment())
}

Which asks form to first look in the environment or data frame
specified by data argument. As the help file says, the second place to
look is the environment associated with the formula (lexical scope,
sort of). We no longer search the top-level environment (or any other
environment) for unresolved symbols.

The goal is to ensure more robust modeling although I'm sure the
impact on some will be a bit of frustration.
You didn't provide enough code for me to tell you how to fix your
particular problem, but if these hints aren't enough please send me a
more complete version of your code and I'll give you some concrete
suggestions. 

  Robert

-- 
+---------------------------------------------------------------------------+
| Robert Gentleman                 phone : (617) 632-5250                   |
| Associate Professor              fax:   (617)  632-2444                   |
| Department of Biostatistics      office: not yet                          |
| Harvard School of Public Health  email: rgentlem at jimmy.dfci.harvard.edu   |
+---------------------------------------------------------------------------+
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Mon Dec 18 15:38:04 2000
From: chong at stat.purdue.edu (Chong Gu)
Date: Mon, 18 Dec 2000 09:38:04 -0500
Subject: [R] multiframe in postscript
In-Reply-To: <Pine.GSO.4.05.10012171803300.16325-100000@auk.stats> (message
	from Prof Brian D Ripley on Sun, 17 Dec 2000 18:08:45 +0000 (GMT))
Message-ID: <200012181438.JAA100924@odds.stat.purdue.edu>

   Date: Sun, 17 Dec 2000 18:08:45 +0000 (GMT)
   From: Prof Brian D Ripley <ripley at stats.ox.ac.uk>
   Sender: ripley at auk.stats
   cc: r-help at stat.math.ethz.ch
   MIME-Version: 1.0
   Content-Type: TEXT/PLAIN; charset=US-ASCII

   On Sun, 17 Dec 2000, Chong Gu wrote:

   > 
   > I was hoping that the following specification
   > 
   >     postscript(file="fig.ps",height=2,width=4)
   >     par(mar=c(5,5,2,2)+.1,mfrow=c(1,2),mex=.6)
   > 
   > would yield the same scaling effect as
   > 
   >     postscript(file="fig.ps",height=2,width=6)
   >     par(mar=c(5,5,2,2)+.1,mfrow=c(1,3),mex=.6)
   > 
   > but the fact is that the 'mfrow=c(1,2)' yields smaller plotting frame
   > and bigger font size.  Some experiments show that the device scales
   > differently for two or less rows (columns) and three or more rows
   > (columns).
   > 
   > Is this a feature or "bug"?
   > 
   > I am running R-1.2, but I doubt the version matters here.

   It is a feature, copied from S.  It is only the font scaling (and
   everything that depends on it) which depends on the mfrow/col layout.
   Here's the C code exerpt (in par.c):

	   if (nrow > 2 || ncol > 2) {
	       dd->gp.cexbase = dd->dp.cexbase = 0.66;
	       dd->gp.mex = dd->dp.mex = 1.0;
	   }
	   else if (nrow == 2 && ncol == 2) {
	       dd->gp.cexbase = dd->dp.cexbase = 0.83;
	       dd->gp.mex = dd->dp.mex = 1.0;
	   }
	   else {
	       dd->gp.cexbase = dd->dp.cexbase = 1.0;
	       dd->gp.mex = dd->dp.mex = 1.0;
	   }

   So you want to set cex=0.66 in the first case, I think.  (The details
   are not quite the same as S, as far as I recall.)

   -- 
   Brian D. Ripley,                  ripley at stats.ox.ac.uk
   Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
   University of Oxford,             Tel:  +44 1865 272861 (self)
   1 South Parks Road,                     +44 1865 272860 (secr)
   Oxford OX1 3TG, UK                Fax:  +44 1865 272595


Thanks to Professor Ripley for the clarification.  After my post, I
found a way to cheat R out of this one by using layout instead of
mfrow.  Here is what I did to achieve uniform scaling.

    postscript(file="fig.ps",height=2,width=4)
    layout(matrix(c(1,0,2),1,3),c(1,0,1),1)
    par(mar=c(5,5,2,2)+.1,mex=.6)

    postscript(file="fig.ps",height=2,width=6)
    layout(matrix(c(1,2,3),1,3))
    par(mar=c(5,5,2,2)+.1,mex=.6)

Chong
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From petzoldt at rcs.urz.tu-dresden.de  Mon Dec 18 18:34:14 2000
From: petzoldt at rcs.urz.tu-dresden.de (Thomas Petzoldt)
Date: Mon, 18 Dec 2000 18:34:14 +0100
Subject: [R] Segmentation fault (solved)
References: <3A3DED2C.17567F9A@rcs.urz.tu-dresden.de> <20001218140943.A4060@diw14093.diw.de>
Message-ID: <3A3E4A96.C40DC7AC@rcs.urz.tu-dresden.de>

Hello,

the problem with different expression() - formula crashing R was
*indeed* not a problem of SuSE Linux and only partly a R problem (it
should give an error message, not a segmentation error).

The problem was an incorrect configuration of XWIN32 (X server running
on WinNT). Now, R runs without problems on the Linux machine (with large
memory) and also on the remote X-Terminal ;-)

Thank you!

Thomas Petzoldt


-- 
Thomas Petzoldt
TU Dresden/Inst. f. Hydrobiologie/01062 Dresden
mailto:petzoldt at rcs.urz.tu-dresden.de
http://www.tu-dresden.de/fghhihb/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Dec 18 18:39:52 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 18 Dec 2000 17:39:52 +0000 (GMT)
Subject: [R] smoothing binary data
Message-ID: <200012181739.RAA27726@toucan.stats.ox.ac.uk>


> Date: Tue, 12 Dec 2000 12:24:43 -0700
> From: "Bill Oliver" <wloliver at qwest.net>
> 
> I'm trying to figure out a good way to smooth binary data. The ideal
> approach appears to be the "sm.logit" function in library "sm", but I
> haven't had success with it. Below, is some code illustrating what I've come
> up with so far, but I'm hoping there is a better approach. I'm using R 1.2
> (development) under Windows 98.
> 
> -Bill
> 
> library(MASS)
> data(birthwt)
> attach(birthwt)
> 
> # This doesn't work for me, no matter what h equals
> # Maybe I'm doing something wrong
> library(sm)
> sm.logit(age,low,h=3)

R has changed since that port was done, so 0-weight cases are
ignored by glm.fit.  There is a new version of sm, sm2, out for
S-PLUS and an R port is in final testing.   In fact, the version
on CRAN tomorrow for rw1020 will be 2.0-1.  I am still cross-checking
answers against S-PLUS 6.0, looking for anomalies like this.

In sm2, the function is sm.binomial.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mwang at mindspring.com  Mon Dec 18 22:33:06 2000
From: mwang at mindspring.com (Michael Wang)
Date: Mon, 18 Dec 2000 16:33:06 -0500 (EST)
Subject: [R] R-1.2.0 and command recall/edit
Message-ID: <200012182133.QAA02246@julie.unixlabplus.com>

For R-1.1.1 on Solaris 7, I can use command line recall/edit
by using "Control-P", etc.

But R-1.2.0 on Solaris 8, I can not. Is this because the
R version or Solaris version?

Is there a vi mode for command recall/edit, i.e. Esc-P, etc. 

PS: I hate to ask questions that has been
asked before, but mailing list archive is until 08/28/2000.

Thanks.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Mon Dec 18 22:43:37 2000
From: feldesmanm at pdx.edu (Marc Feldesman)
Date: Mon, 18 Dec 2000 13:43:37 -0800
Subject: [R] Rwinst.exe 1.2.0 problems
Message-ID: <5.0.2.1.2.20001218133546.00a6ab90@127.0.0.1>

I just downloaded the binaries for the released 1.2.0 for Windows (from 
Guido Masarotti's site).   In using the rwinst.exe installer, I noted two 
significant problems.  First, the installer seems extraordinarily slow 
compared to the the 1.1.1 installer.  It took almost 20 minutes to perform 
a full base extraction from binaries to installation (all base pages, html 
help, windows help, pdf manuals but not source or latex files) on both a 
Windows NT system (384 MB RAM, 700 MHz processor) and a Windows 2000 system 
(192 MB RAM, 733 MHz processor).  The second problem is that the rwinst.exe 
installer reports an application error ("unable to read memory at 
0x2e3a553b"  - on the Win 2K system and the same error, but different 
location on the Win NT system) whenever I click on the button referring to 
installing an "add-on" package.  I've rebooted both systems and have 
re-downloaded the installer several times to no avail.

FWIW, the last r-development version  (not 1.3.0, but 1.2.0) posted on 
Brian Ripley's site seemed to have the same problem on my systems.

I don't know if this is some peculiar interaction with my systems -- 
nothing unusual about them -- but thought I ought to bring it to the 
attention of the developers as soon as possible.






=====================
Dr. Marc R. Feldesman
Professor and Chairman
Anthropology Department
Portland State University
1721 SW Broadway
Portland, Oregon 97201
email:  feldesmanm at pdx.edu
phone:  503-725-3081
fax:    503-725-3905
http://web.pdx.edu/~h1mf
PGP Key Available On Request
======================

"Anyway, no drug, not even alcohol, causes the fundamental ills of society.
If we're looking for the source of our troubles, we shouldn't test people
for drugs, we should test them for stupidity, ignorance, greed and love of
power."   P.J. O'Rourke

Powered by Optiplochoerus and Windows 2000 (scary isn't it?)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Mon Dec 18 22:47:04 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Mon, 18 Dec 2000 13:47:04 -0800 (PST)
Subject: [R] R-1.2.0 and command recall/edit
In-Reply-To: <200012182133.QAA02246@julie.unixlabplus.com>
Message-ID: <Pine.GSO.4.21.0012181345170.21015-100000@atlas.biostat.washington.edu>

On Mon, 18 Dec 2000, Michael Wang wrote:

> For R-1.1.1 on Solaris 7, I can use command line recall/edit
> by using "Control-P", etc.
> 
> But R-1.2.0 on Solaris 8, I can not. Is this because the
> R version or Solaris version?
> 

If you compile with the GNU readline library you can get command recall
and editing using the arrow keys (and other editing features). 

Without readline I don't have any command recall under Solaris 8 with
R1.1.1

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Tue Dec 19 00:19:48 2000
From: feldesmanm at pdx.edu (Marc Feldesman)
Date: Mon, 18 Dec 2000 15:19:48 -0800
Subject: [R] Rwinst.exe problems
Message-ID: <5.0.2.1.2.20001218151112.00a6b540@127.0.0.1>

I've heard from several users who report no difficulties using the 
Rwinst.exe installer for the released version of 1.2.0.  I've blown away 
all traces of 1.2.0 on my system and have re-downloaded all 10 zip files 
and the installer on both my NT and Win2K boxes.  The memory-overwrite 
error persists on both systems, suggesting that there is some 
incompatibility between the 1.2.0 installer (and, BTW, the 1.2.1 and 1.3.0 
installers as well, but *not* the 1.1.1 version).  The error specifically 
occurs on all versions whenever I click on the radio button labelled "an 
add-on package", but not on the button to install the base software.

I'm trying to isolate software commonalities between the two machines that 
might explain this problem.  I've cc'd Brian Ripley on these messages in 
hopes that I might ascertain whether the rwinst.exe installer makes use of 
any system dependent .dlls that might have been overwritten during recent 
upgrades to the latest MSIE security patches, Microsoft Office Service 
Releases, or Norton Antivirus engine and virus signatures.  These are the 
most plausible culprits.

Thanks.




=====================
Dr. Marc R. Feldesman
Professor and Chairman
Anthropology Department
Portland State University
1721 SW Broadway
Portland, Oregon 97201
email:  feldesmanm at pdx.edu
phone:  503-725-3081
fax:    503-725-3905
http://web.pdx.edu/~h1mf
PGP Key Available On Request
======================

"Anyway, no drug, not even alcohol, causes the fundamental ills of society.
If we're looking for the source of our troubles, we shouldn't test people
for drugs, we should test them for stupidity, ignorance, greed and love of
power."   P.J. O'Rourke

Powered by Optiplochoerus and Windows 2000 (scary isn't it?)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From roger at ysidro.econ.uiuc.edu  Tue Dec 19 04:08:58 2000
From: roger at ysidro.econ.uiuc.edu (Roger Koenker)
Date: Mon, 18 Dec 2000 21:08:58 -0600 (CST)
Subject: [R] translation from the old-S
Message-ID: <Pine.SOL.3.96.1001218204324.13049A-100000@ysidro>

In ancient times, circa 1980, S data directories were called swork and sdata
not .Data, and "New-S" as described in the already medieval "Blue Book"
discusses a function DBCONVERT that converted swork data into .Data data.

It is embarrassing to admit it, but I still have data archives from a BTL
machine called alice in the swork format and would like to convert a dataset
to something modern.  I had assumed that DBCONVERT or some equivalent would
still be in my early modern Splus 3.3 version, but apparently not.  

Could anyone advise me on an alternative strategy?

My apologies for such a backward looking question, but in my experience
the most forward looking are those also capable of looking backward. 
So this seemed to be the most promising venue for the question.

url:	http://www.econ.uiuc.edu		Roger Koenker	
email	roger at ysidro.econ.uiuc.edu		Department of Economics
vox: 	217-333-4558				University of Illinois
fax:   	217-244-6678				Champaign, IL 61820

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a.sone at worldnet.att.net  Tue Dec 19 04:29:48 2000
From: a.sone at worldnet.att.net (Akio Sone)
Date: Mon, 18 Dec 2000 22:29:48 -0500
Subject: [R] A bug (?) in Rgui Configuration Editor (buffer lines) in  R1.2.0 for Windows (Rgui.exe)
Message-ID: <LMBBLAMPDFJFMCGOFGGGOEECCEAA.a.sone@worldnet.att.net>

Dear R users:

Today (December 18th) I downloaded R1.2.0 for Windows from

ftp://ftp.stat.unipd.it/users/guido/RWin

and then invoked its Rgui.exe to change its gui configuration. After I set
new values in Rgui configuration Editor frame and saved the set of new
parameters as a "Rconsole" file, then I re-started Rgui and R issued an
error message concerning the buffer-line-value  in the Rconsole file.   When
I looked into the Rconsole file, R seemed to complain about the following
parameter-value setting:

bufiles = 8192

At first I thought this was a value-side problem, but after several
unsuccessful trials, I came to suspect that the name of the parameter, i.e.,
"bufiles," might be wrong and changed it to "buflines."  Then R no longer
issued the above mentioned warning.

Is this some coding bug or something special for my case?

Cheers,

Akio Sone, Ph.D.
Postdoctoral Research Fellow
Harvard-MIT Data Center
M-32 Littauer Center, North Yard
Harvard University
Cambridge, MA 02138

e-mail: asone at latte.harvard.edu



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Alexandre.Fayolle at logilab.fr  Mon Dec 18 19:24:02 2000
From: Alexandre.Fayolle at logilab.fr (Alexandre Fayolle)
Date: Mon, 18 Dec 2000 19:24:02 +0100 (CET)
Subject: [R] Re: Packages for R 1.2.0 for Windows
In-Reply-To: <200012181539.PAA23130@toucan.stats.ox.ac.uk>
Message-ID: <Pine.LNX.4.21.0012181920320.1178-100000@leo.logilab.fr>

On Mon, 18 Dec 2000, Prof Brian Ripley wrote:

> 
> I have re-built all the compiled packages for R 1.2.0 for Windows, and the
> set available in CRAN/bin/windows/contrib are now for rw1020.
> If you are upgrading to rw1020, please replace all the compiled
> packages you have downloaded by ones from this set.
> 
> There a few packages available for the first time:
> 
> 	RMySQL mlbench netCDF
> 
> and a few that are not yet running on 1.2.0 on any platform
> 
> 	hdf5 locfit wle (crashes with an array overrun).

I'm using the multiv package on R1.1, and it looks like it's not available
for 1.2.0 on windows. Is it an omission or is the package no longer
maintained?

Alexandre Fayolle
-- 
http://www.logilab.com 
Narval is the first software agent available as free software (GPL).
LOGILAB, Paris (France).

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Dec 19 08:16:27 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 19 Dec 2000 07:16:27 +0000 (GMT)
Subject: [R] A bug (?) in Rgui Configuration Editor (buffer lines) in 
 R1.2.0 for Windows (Rgui.exe)
In-Reply-To: <LMBBLAMPDFJFMCGOFGGGOEECCEAA.a.sone@worldnet.att.net>
Message-ID: <Pine.GSO.4.05.10012190713000.20316-100000@auk.stats>

On Mon, 18 Dec 2000, Akio Sone wrote:

> Dear R users:
> 
> Today (December 18th) I downloaded R1.2.0 for Windows from
> 
> ftp://ftp.stat.unipd.it/users/guido/RWin
> 
> and then invoked its Rgui.exe to change its gui configuration. After I set
> new values in Rgui configuration Editor frame and saved the set of new
> parameters as a "Rconsole" file, then I re-started Rgui and R issued an
> error message concerning the buffer-line-value  in the Rconsole file.   When
> I looked into the Rconsole file, R seemed to complain about the following
> parameter-value setting:
> 
> bufiles = 8192
> 
> At first I thought this was a value-side problem, but after several
> unsuccessful trials, I came to suspect that the name of the parameter, i.e.,
> "bufiles," might be wrong and changed it to "buflines."  Then R no longer
> issued the above mentioned warning.
> 
> Is this some coding bug or something special for my case?

It's a bug.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Dec 19 08:19:07 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 19 Dec 2000 07:19:07 +0000 (GMT)
Subject: [R] R-1.2.0 and command recall/edit
In-Reply-To: <200012182133.QAA02246@julie.unixlabplus.com>
Message-ID: <Pine.GSO.4.05.10012190716530.20316-100000@auk.stats>

On Mon, 18 Dec 2000, Michael Wang wrote:

> For R-1.1.1 on Solaris 7, I can use command line recall/edit
> by using "Control-P", etc.
> 
> But R-1.2.0 on Solaris 8, I can not. Is this because the
> R version or Solaris version?

No.  It works here.  When you built R, did it find readline in the
configure?  command line recall depends on it.

BTW, you can also use the arrow keys, and most of us do.

> Is there a vi mode for command recall/edit, i.e. Esc-P, etc. 

Not to my knowledge.

> 
> PS: I hate to ask questions that has been
> asked before, but mailing list archive is until 08/28/2000.
> 
> Thanks.
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Dec 19 08:25:22 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 19 Dec 2000 07:25:22 +0000 (GMT)
Subject: [R] Re: Packages for R 1.2.0 for Windows
In-Reply-To: <Pine.LNX.4.21.0012181920320.1178-100000@leo.logilab.fr>
Message-ID: <Pine.GSO.4.05.10012190719270.20316-100000@auk.stats>

On Mon, 18 Dec 2000, Alexandre Fayolle wrote:

> On Mon, 18 Dec 2000, Prof Brian Ripley wrote:
> 
> > 
> > I have re-built all the compiled packages for R 1.2.0 for Windows, and the
> > set available in CRAN/bin/windows/contrib are now for rw1020.
> > If you are upgrading to rw1020, please replace all the compiled
> > packages you have downloaded by ones from this set.
> > 
> > There a few packages available for the first time:
> > 
> > 	RMySQL mlbench netCDF
> > 
> > and a few that are not yet running on 1.2.0 on any platform
> > 
> > 	hdf5 locfit wle (crashes with an array overrun).
> 
> I'm using the multiv package on R1.1, and it looks like it's not available
> for 1.2.0 on windows. Is it an omission or is the package no longer
> maintained?

It is deliberate.  multiv fails R CMD check (and has for a long time),
so I have no way of knowing if the port works correctly.  You can always
compile it yourself if you want to take the risk.

Since it has not been changed for 18 months, I assume it is not
being maintained.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From etptupaf at bs.ehu.es  Tue Dec 19 08:55:21 2000
From: etptupaf at bs.ehu.es (F.Tusell)
Date: Tue, 19 Dec 2000 08:55:21 +0100
Subject: [R] update.packages()
Message-ID: <200012190755.IAA00934@agesi.bs.ehu.es>

I have recently upgraded to R-1.2 and update.packages() gives the 
following error on my system. Am I doing something wrong?

ft.

--
Fernando TUSELL                                 e-mail:
Departamento de Econometr?a y Estad?stica           etptupaf at bs.ehu.es 
Facultad de CC.EE. y Empresariales              Tel:  (+34)94.601.3733
Avenida Lendakari Aguirre, 83                   Fax:  (+34)94.601.3754
E-48015 BILBAO  (Spain)                         Secr: (+34)94.601.3740
PGP: finger etptupaf at bsdx01.bs.ehu.es           http://agesi.bs.ehu.es
----------------------------------------------------------------------


> update.packages()

--08:49:37--  http://cran.r-project.org:80/src/contrib/PACKAGES
           => `/tmp/fileR399S327b23c6'
Connecting to proxy.lg.ehu.es:3128... connected!
Proxy request sent, awaiting response... 200 OK
Length: 29,955 [text/plain]

    0K -> .......... .......... .........                        [100%]

08:49:38 (254.37 KB/s) - `/tmp/fileR399S327b23c6' saved [29955/29955]

Error in if (a[k] > b[k]) return(TRUE) else if (a[k] < b[k]) return(FALSE) : 
        missing value where logical needed
In addition: Warning message: 
NAs introduced by coercion 

> traceback()

5: FUN(X[[1]], ...)
4: lapply(as.list(X), FUN, ...)
3: sapply(available[ok, "Version"], newerVersion, instp[k, "Version"])
2: old.packages(lib.loc = lib.loc, contriburl = contriburl, method = method, 
       available = available)
1: update.packages()

> version()
                      
platform i586-pc-linux-gnu
arch     i586             
os       linux-gnu        
system   i586, linux-gnu  
status                    
major    1                
minor    2.0              
year     2000             
month    12               
day      15               
language R           
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Dec 19 10:07:02 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 19 Dec 2000 09:07:02 +0000 (GMT)
Subject: [R] Rwinst.exe problems
In-Reply-To: <5.0.2.1.2.20001218151112.00a6b540@127.0.0.1>
Message-ID: <Pine.GSO.4.05.10012190853260.28734-100000@toucan.stats>

On Mon, 18 Dec 2000, Marc Feldesman wrote:

> I've heard from several users who report no difficulties using the 
> Rwinst.exe installer for the released version of 1.2.0.  I've blown away 
> all traces of 1.2.0 on my system and have re-downloaded all 10 zip files 
> and the installer on both my NT and Win2K boxes.  The memory-overwrite 
> error persists on both systems, suggesting that there is some 
> incompatibility between the 1.2.0 installer (and, BTW, the 1.2.1 and 1.3.0 
> installers as well, but *not* the 1.1.1 version).  The error specifically 

Those pre-release installers are identical to the rw1020 one.

> occurs on all versions whenever I click on the radio button labelled "an 
> add-on package", but not on the button to install the base software.
> 
> I'm trying to isolate software commonalities between the two machines that 
> might explain this problem.  I've cc'd Brian Ripley on these messages in 
> hopes that I might ascertain whether the rwinst.exe installer makes use of 
> any system dependent .dlls that might have been overwritten during recent 
> upgrades to the latest MSIE security patches, Microsoft Office Service 
> Releases, or Norton Antivirus engine and virus signatures.  These are the 
> most plausible culprits.

rwinst.exe uses most of the standard system dlls, plus msvcrt.dll.
pedump will show you exactly. But I suspect the problem is more
prosaic, in that you have an exceptionally long (or in some other way 
unusual) PATH.

The only differences between rwinst for rw1011 and rw1020 are

1) It is compiled against msvcrt.dll.
2) When that radio button is clicked for the first time it

i) Checks if R_HOME is set
ii) if not, looks for ...\rw1020\bin in the PATH

Now, this works for me on several machines and on several OSs (98/NT/W2K)
with and without R_HOME set and/or ...\rw1020\bin in the path.  Try
setting R_HOME and see if this cures it.  If so, my guess is that that the
PATH is malformed (for example, it might exceed the supposed maximum path
length, which my experiments just now suggest is possible).

If setting R_HOME solves the problem, please try a new version I've put at
http://www.stats.ox.ac.uk/pub/bdr/RWin/rwinst.exe
which differs only in not looking at the PATH at all.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bxc at novonordisk.com  Tue Dec 19 11:28:21 2000
From: bxc at novonordisk.com (BXC (Bendix Carstensen))
Date: Tue, 19 Dec 2000 11:28:21 +0100
Subject: [R] Length of text in plot
Message-ID: <D5A7D734C9C5D211B9E30008C78923020609E905@exdkba03.novo.dk>

Is there a way to tell the extents of e.g. "Some text" on a 
plot, i.e. how wide and how high is it in usr coordinates
(with a given pointsize, font and cex=) ??

Or, (that is why I need it): is there a way to put a table on a plot
with right, resp. left-aligned colums. Or even with decimal
points aligned?

Bendix
----------------------
Bendix Carstensen
Senior Statistician
Steno Diabetes Centre
Niels Steensens Vej 2
DK-2820 Gentofte
Denmark
tel: +45 44 43 87 38
mob: +45 28 25 87 38
fax: +45 44 43 73 13
bxc at novo.dk
www.biostat.ku.dk/~bxc
----------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rbeer at uni-goettingen.de  Tue Dec 19 13:43:33 2000
From: rbeer at uni-goettingen.de (Ragnar Beer)
Date: Tue, 19 Dec 2000 13:43:33 +0100
Subject: [R] Re: Latest/last beta of R 1.1.1 for MacOS (rel Dec 10 2000)
In-Reply-To: <a05001905b663fcabe859@[159.149.74.61]>
References: <a05001905b663fcabe859@[159.149.74.61]>
Message-ID: <p04330100b66505d218da@[134.76.136.114]>

Hi Stefano! Very cool what you're doing! R works like a charm on my 
G3/233 Powerbook. No crashes.

(Again) I tried all the demos. Everything worked well with two exceptions:

In demo("graphics") the draw.plotmath.cell demos don't render the 
text inside the boxes where they should be but the text sticks out to 
the left for example.

Demo("nlm") doesn't work for memory reasons even if I set preferences 
to 10M/1000k. I'm looking forward to 1.2.

Thanks a lot!

Ragnar
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20001219/151701d5/attachment.html

From snw at mcs.st-and.ac.uk  Tue Dec 19 13:46:35 2000
From: snw at mcs.st-and.ac.uk (Simon Wood)
Date: Tue, 19 Dec 2000 12:46:35 +0000 (GMT)
Subject: [R] Rwinst.exe problems
In-Reply-To: <Pine.GSO.4.05.10012190853260.28734-100000@toucan.stats>
Message-ID: <Pine.GSO.4.21.0012191234470.10503-100000@dolphin>

I get the same problem using rwinst.exe 1.2.0 with NT 4 (if I click on "an
add on package" it falls over with an access violation). 

> rwinst.exe uses most of the standard system dlls, plus msvcrt.dll.
> pedump will show you exactly. But I suspect the problem is more
> prosaic, in that you have an exceptionally long (or in some other way 
> unusual) PATH.

- This seems to be right. If I reduce my path to a single line then
everything works just fine. If I use the version 1.1.0 rwinst.exe then
everything seems to work also. 

- The original path isn't hugely long, though: 

PATH=C:\WINNT\system32;C:\WINNT;C:\Program Files\Microsoft Visual
Studio\Common\Tools\WinNT;C:\Program Files\Microsoft Visual
Studio\Common\MSDev98\Bin;C:\Program Files\Microsoft Visual Studio\
Common\Tools;C:\Program Files\Microsoft Visual Studio\VC98\bin;c:\program
files\devstudio\sharedide\bin\ide;c:\program files\de
vstudio\sharedide\bin;c:\program files\devstudio\vc\bin;c:\texmf\miktex\bin;
c:\EGCS-1.1.2\bin;c:\dosprog;d:\java\bin;C:\BC5\BIN;

... is what "caused" a failure. Is that long enough that it should have
overwritten it's allocated space?

PATH=c:\WINNT\system32;C:\WINNT

... is what worked. 

Hope this is some use.

Simon

  ______________________________________________________________________
> Simon Wood  snw at st-and.ac.uk  http://www.ruwpa.st-and.ac.uk/simon.html
> The Mathematical Institute, North Haugh, St. Andrews, Fife KY16 9SS UK
> Direct telephone: (0)1334 463799          Indirect fax: (0)1334 463748 

 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From amorgan at linus.mitre.org  Tue Dec 19 14:06:18 2000
From: amorgan at linus.mitre.org (Alexander A. Morgan)
Date: Tue, 19 Dec 2000 08:06:18 -0500 (EST)
Subject: [R] Subtle changes from 1.1 to 1.2
Message-ID: <Pine.GSO.4.21.0012190757000.14062-100000@veloso.mitre.org>

Hello:
	Is there any documentation dealing with the functional differences
between R 1.1 and R 1.2.  I have noticed some strange behavior in what is,
I guess, the namespace of libraries as well as some changes in reading in
tables.

	In a library, I don't seem to be able to declare a global variable
and then use it in that same library.  

e.g. 
> blah <<- 0
> print(blah)

will fail in a library.  It will fail with the following message:

Error in print(blah) : Object "blah" not found

It works fine on the command line, and the declaration of a global
variable by itself in a library seems to work.

i.e. 
> blah <<- 0

will allow you to use blah.

Also, it seems that R now converts the labels on columns to a form that
works as an R object (or at least removes hyphen).  For example, if I read
in a table that has column headers such as "First-Data" it will convert
this to "First.Data".  Is this intentional?


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Dec 19 14:17:21 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 19 Dec 2000 13:17:21 +0000 (GMT)
Subject: [R] Rwinst.exe problems
In-Reply-To: <Pine.GSO.4.21.0012191234470.10503-100000@dolphin>
Message-ID: <Pine.GSO.4.05.10012191313090.29588-100000@toucan.stats>

On Tue, 19 Dec 2000, Simon Wood wrote:

> I get the same problem using rwinst.exe 1.2.0 with NT 4 (if I click on "an
> add on package" it falls over with an access violation). 
> 
> > rwinst.exe uses most of the standard system dlls, plus msvcrt.dll.
> > pedump will show you exactly. But I suspect the problem is more
> > prosaic, in that you have an exceptionally long (or in some other way 
> > unusual) PATH.
> 
> - This seems to be right. If I reduce my path to a single line then
> everything works just fine. If I use the version 1.1.0 rwinst.exe then
> everything seems to work also. 
> 
> - The original path isn't hugely long, though: 
> 
> PATH=C:\WINNT\system32;C:\WINNT;C:\Program Files\Microsoft Visual
> Studio\Common\Tools\WinNT;C:\Program Files\Microsoft Visual
> Studio\Common\MSDev98\Bin;C:\Program Files\Microsoft Visual Studio\
> Common\Tools;C:\Program Files\Microsoft Visual Studio\VC98\bin;c:\program
> files\devstudio\sharedide\bin\ide;c:\program files\de
> vstudio\sharedide\bin;c:\program files\devstudio\vc\bin;c:\texmf\miktex\bin;
> c:\EGCS-1.1.2\bin;c:\dosprog;d:\java\bin;C:\BC5\BIN;
> 
> ... is what "caused" a failure. Is that long enough that it should have
> overwritten it's allocated space?

Yes. I think the allocation is MAX_PATH = 264 chars.  Obviously PATH can
be longer than MAX_PATH!

> PATH=c:\WINNT\system32;C:\WINNT
> 
> ... is what worked. 
> 
> Hope this is some use.

Thanks for the report. If it works for Marc, we can update the rwinst.exe.
Setting R_HOME is still the preferred solution.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Tue Dec 19 14:27:23 2000
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Tue, 19 Dec 2000 14:27:23 +0100
Subject: [R] Subtle changes from 1.1 to 1.2
In-Reply-To: <Pine.GSO.4.21.0012190757000.14062-100000@veloso.mitre.org>
References: <Pine.GSO.4.21.0012190757000.14062-100000@veloso.mitre.org>
Message-ID: <14911.25147.182382.783605@mithrandir.hornik.net>

>>>>> Alexander A Morgan writes:

> Also, it seems that R now converts the labels on columns to a form
> that works as an R object (or at least removes hyphen).  For example,
> if I read in a table that has column headers such as "First-Data" it
> will convert this to "First.Data".  Is this intentional?

Look at the docs for arg `check.names' in ?read.table.

And maybe also `What are valid names?' in the FAQ.

-k


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Dec 19 17:06:42 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 19 Dec 2000 08:06:42 -0800 (PST)
Subject: [R] Subtle changes from 1.1 to 1.2
In-Reply-To: <Pine.GSO.4.21.0012190757000.14062-100000@veloso.mitre.org>
Message-ID: <Pine.GSO.4.21.0012190759480.17282-100000@atlas.biostat.washington.edu>

On Tue, 19 Dec 2000, Alexander A. Morgan wrote:

> Hello:
> 	Is there any documentation dealing with the functional differences
> between R 1.1 and R 1.2.  I have noticed some strange behavior in what is,
> I guess, the namespace of libraries as well as some changes in reading in
> tables.
> 
> 	In a library, I don't seem to be able to declare a global variable
> and then use it in that same library.  
> 
> e.g. 
> > blah <<- 0
> > print(blah)
> 
> will fail in a library.  It will fail with the following message:

I don't think you need to use <<- in this context.  Why not just
blah<-0? This will create a variable in the environment of the package,
which is accessible from the rest of R.  Alternatively, if you really want
a variable in the global environment, do
    assign("blah",0,envir=.GlobalEnv) 
rather than hoping <<- will put it where you want it. <<- is most useful
for updating a variable that you know already exists.

The semantics of <<- have changed, but not that recently I think.  

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

> 
> Error in print(blah) : Object "blah" not found
> 
> It works fine on the command line, and the declaration of a global
> variable by itself in a library seems to work.
> 
> i.e. 
> > blah <<- 0
> 
> will allow you to use blah.
> 
> Also, it seems that R now converts the labels on columns to a form that
> works as an R object (or at least removes hyphen).  For example, if I read
> in a table that has column headers such as "First-Data" it will convert
> this to "First.Data".  Is this intentional?
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Tue Dec 19 17:11:04 2000
From: andy_liaw at merck.com (Liaw, Andy)
Date: Tue, 19 Dec 2000 11:11:04 -0500
Subject: [R] packages installation failed on Linux
Message-ID: <51F9C42DA15CD311BD220008C707D81901D0D674@usrymx10.merck.com>

Hi all,

I've successfully compiled R-1.2 on a Linux box (Mandrake 7.1).  However,
when I installed packages from sources, I run into problems with the
packages logspline and tseries.  The error messages are as follows.  Can
anyone help?  The compiler is gcc 2.95.3, if that helps.

Andy
================================================
Installing source package `logspline' ...
 libs
gcc -I/usr/local/lib/R/include  -I/usr/local/include -mieee-fp
-D__NO_MATH_INLINES  -fPIC  -g -O2 -c logsplin.c -o logsplin.o
g77   -fPIC  -g -O2 -c mpack.f -o mpack.o
ld: warning: cannot find entry symbol _start; defaulting to 08048080
logsplin.o: In function `logcensor':
/tmp/R.INSTALL.14651/logspline/src/logsplin.c:101: undefined reference to
`printf'
/tmp/R.INSTALL.14651/logspline/src/logsplin.c:117: undefined reference to
`pow'

[ Lots of similar errors deleted... ]

make: *** [logspline.so] Error 1
ERROR: Compilation failed for package `logspline'                      


Installing source package `tseries' ...
 libs
gcc -I/usr/local/lib/R/include  -I/usr/local/include -mieee-fp
-D__NO_MATH_INLINES  -fPIC  -g -O2 -c arma.c -o arma.o
gcc -I/usr/local/lib/R/include  -I/usr/local/include -mieee-fp
-D__NO_MATH_INLINES  -fPIC  -g -O2 -c bdstest.c -o bdstest.o
bdstest.c:41: `DEBUG' redeclared as different kind of symbol
/usr/local/lib/R/include/Rinternals.h:773: previous declaration of `DEBUG'
bdstest.c:41: warning: `DEBUG' was declared `extern' and later `static'
make: *** [bdstest.o] Error 1
ERROR: Compilation failed for package `tseries' 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Tue Dec 19 17:21:28 2000
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Tue, 19 Dec 2000 17:21:28 +0100
Subject: [R] packages installation failed on Linux
In-Reply-To: <51F9C42DA15CD311BD220008C707D81901D0D674@usrymx10.merck.com>
References: <51F9C42DA15CD311BD220008C707D81901D0D674@usrymx10.merck.com>
Message-ID: <14911.35592.952952.776243@mithrandir.hornik.net>

>>>>> Liaw, Andy writes:

> Hi all,
> I've successfully compiled R-1.2 on a Linux box (Mandrake 7.1).  However,
> when I installed packages from sources, I run into problems with the
> packages logspline and tseries.  The error messages are as follows.  Can
> anyone help?  The compiler is gcc 2.95.3, if that helps.

> Andy
> ================================================
> Installing source package `logspline' ...
>  libs
> gcc -I/usr/local/lib/R/include  -I/usr/local/include -mieee-fp
> -D__NO_MATH_INLINES  -fPIC  -g -O2 -c logsplin.c -o logsplin.o
> g77   -fPIC  -g -O2 -c mpack.f -o mpack.o
> ld: warning: cannot find entry symbol _start; defaulting to 08048080
> logsplin.o: In function `logcensor':
> /tmp/R.INSTALL.14651/logspline/src/logsplin.c:101: undefined reference to
> `printf'
> /tmp/R.INSTALL.14651/logspline/src/logsplin.c:117: undefined reference to
> `pow'

> [ Lots of similar errors deleted... ]

> make: *** [logspline.so] Error 1
> ERROR: Compilation failed for package `logspline'

There is a new version of logspline on CRAN.  Please try again.

> Installing source package `tseries' ...
>  libs
> gcc -I/usr/local/lib/R/include  -I/usr/local/include -mieee-fp
> -D__NO_MATH_INLINES  -fPIC  -g -O2 -c arma.c -o arma.o
> gcc -I/usr/local/lib/R/include  -I/usr/local/include -mieee-fp
> -D__NO_MATH_INLINES  -fPIC  -g -O2 -c bdstest.c -o bdstest.o
> bdstest.c:41: `DEBUG' redeclared as different kind of symbol
> /usr/local/lib/R/include/Rinternals.h:773: previous declaration of `DEBUG'
> bdstest.c:41: warning: `DEBUG' was declared `extern' and later `static'
> make: *** [bdstest.o] Error 1
> ERROR: Compilation failed for package `tseries' 

A new version of tseries will be made available later this week.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Tue Dec 19 17:33:48 2000
From: rossini at blindglobe.net (A.J. Rossini)
Date: 19 Dec 2000 08:33:48 -0800
Subject: [R] Re: ESS for R
In-Reply-To: B.Rowlingson@lancaster.ac.uk's message of "Tue, 19 Dec 2000 16:04:29 +0000"
References: <3A3E29F9.F5B0DEA7@lancs.ac.uk>
	<87hf41vji4.fsf@jeeves.blindglobe.net> <3A3F799C.5BE3E882@lancs.ac.uk>
	<87d7eocubj.fsf@jeeves.blindglobe.net> <3A3F8296.3DB466D8@lancs.ac.uk>
	<878zpccsxd.fsf@jeeves.blindglobe.net> <3A3F870D.EA31FCD1@lancs.ac.uk>
Message-ID: <87zohsbcb7.fsf@jeeves.blindglobe.net>

>>>>> "BR" == B Rowlingson <B.Rowlingson at lancaster.ac.uk> writes:


    >> Could you check and see if the variable is global or
    >> buffer-local?  ("C-h v ess-dump-filename-template" should do
    >> it).

    BR> ess-dump-filename-template's value is "rowlings.%s.S" Local in
    BR> buffer *S+5*; global value is "rowlings.%s.S" [+ docs] Defined
    BR> in `ess-cust'.

    BR>  whereas ess-source-directory is:

    BR> ess-source-directory's value is "./Src99/" [+ docs] Defined in
    BR> `ess-cust'.

    BR>  Such scoping concepts are beyond my meagre elisp
    BR> knowledge. There's a whole bunch of
    BR> 'make-variable-buffer-local' calls in ess-cust.el but neither
    BR> of the two variables are mentioned...

The problem is this:
   buffer-local variables accomodate any value which might vary
   between buffers.  So, the "right" place to define this will be in a
   hook that gets called when R-mode gets called, since for example,
   we'd like to dump SAS code in rowlings.%s.sas, etc.

   I think that ess-dump-filename-template needs to be redefined in
   essd-sp5.el , or essd-r.el, if you want your site-configs to persist
   across users (and actually work).

HOWEVER, you mentioned that what you wanted was the "default" function
thing, i.e. 
        dumped <- function { }
placed into a non-existant buffer.  This is a difference as far as how
S-PLUS and R dump objects, I think.  Your point, which I recall (I've
not used S-PLUS for actual data analysis in a long time) is that this
gets set for non-existant objects when using ESS for S-PLUS, and not
for R, sounds familiar.

I've CC'd ESS-help and R-help; can anyone verify this discrepancy
(with ESS under S-PLUS and R)?

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
BlindGlobe Networks (home/default)	rossini at blindglobe.net	
UW Biostat/Center for AIDS Research	rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org

FHCRC: M/Tu: 206-667-7025 (fax=4812) | Voicemail is pretty sketchy
CFAR:   W/F: 206-731-3647 (fax=3694) | Email is far better than phone
UW:    Th/F: 206-543-1044 (fax=3286) | Change last 4 digits of phone for fax
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From B.Rowlingson at lancaster.ac.uk  Tue Dec 19 17:43:47 2000
From: B.Rowlingson at lancaster.ac.uk (B.Rowlingson@lancaster.ac.uk)
Date: Tue, 19 Dec 2000 16:43:47 +0000
Subject: [R] Re: ESS for R
References: <3A3E29F9.F5B0DEA7@lancs.ac.uk>
		<87hf41vji4.fsf@jeeves.blindglobe.net> <3A3F799C.5BE3E882@lancs.ac.uk>
		<87d7eocubj.fsf@jeeves.blindglobe.net> <3A3F8296.3DB466D8@lancs.ac.uk>
		<878zpccsxd.fsf@jeeves.blindglobe.net> <3A3F870D.EA31FCD1@lancs.ac.uk> <87zohsbcb7.fsf@jeeves.blindglobe.net>
Message-ID: <3A3F9043.8FDE1030@lancs.ac.uk>


> HOWEVER, you mentioned that what you wanted was the "default" function
> thing, i.e.
>         dumped <- function { }
> placed into a non-existant buffer.  This is a difference as far as how
> S-PLUS and R dump objects, I think.  Your point, which I recall (I've
> not used S-PLUS for actual data analysis in a long time) is that this
> gets set for non-existant objects when using ESS for S-PLUS, and not
> for R, sounds familiar.
> 
> I've CC'd ESS-help and R-help; can anyone verify this discrepancy
> (with ESS under S-PLUS and R)?

 Its because the first thing Splus's dump(foo) function does is to write

"foo" <- 

 into the dump file. If the object doesn't exist, its not until that
point
that the dump stops, and you are left with  '"foo" <-' in the file. 

 ESS uses this, and appends the ess-function-template to get 

"foo" <- function( ) { } 

 in function ess-dump-file-other-window.

 Since R gives you a zero-length file when you dump a non-existent
object, 
ESS cant use this trick, and since ess-dump-file-other-window is only
passed the filename and not the object name it cant write it to the file
(unless it deparses the filename. Ick.).

 I've rewritten ess-dump-file-other-window to take filename and object
as
argument. If it spots a new object (using the ess-dumped-missing-re as
before)
then it clears out the buffer and inserts "object" <-
(ess-function-template).

 This works for Splus 5 and R 1.2.0. I don't have any of the other
systems that
ESS uses so I cant see if it breaks anything else.

 One other related matter - if ess-function-template isn't formatted
exactly how
the pretty-formatter does it, then the buffer is reformatted and marked
as modified,
nullifying the (set-buffer-modified-p nil) in the dump function. Bug or
feature? 
You decide.

Barry
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Tue Dec 19 17:58:27 2000
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Tue, 19 Dec 2000 17:58:27 +0100
Subject: [R] update.packages()
In-Reply-To: <200012190755.IAA00934@agesi.bs.ehu.es>
References: <200012190755.IAA00934@agesi.bs.ehu.es>
Message-ID: <14911.37811.603439.506725@mithrandir.hornik.net>

>>>>> F Tusell writes:

> I have recently upgraded to R-1.2 and update.packages() gives the 
> following error on my system. Am I doing something wrong?

What is the result of calling old.packages() at the R prompt?

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From etptupaf at bs.ehu.es  Tue Dec 19 17:58:38 2000
From: etptupaf at bs.ehu.es (F.Tusell)
Date: Tue, 19 Dec 2000 17:58:38 +0100
Subject: [R] update.packages()
In-Reply-To: <14911.37811.603439.506725@mithrandir.hornik.net>
	(Kurt.Hornik@ci.tuwien.ac.at)
References: <200012190755.IAA00934@agesi.bs.ehu.es> <14911.37811.603439.506725@mithrandir.hornik.net>
Message-ID: <200012191658.RAA13696@agesi.bs.ehu.es>

>  From: Kurt Hornik <Kurt.Hornik at ci.tuwien.ac.at>
>  Content-Type: text/plain; charset=us-ascii
>  Date: Tue, 19 Dec 2000 17:58:27 +0100
>  Cc: r-help at stat.math.ethz.ch
>  Reply-To: Kurt.Hornik at ci.tuwien.ac.at
>  Sender: Kurt Hornik <hornik at ci.tuwien.ac.at>
>  
>  >>>>> F Tusell writes:
>  
>  > I have recently upgraded to R-1.2 and update.packages() gives the 
>  > following error on my system. Am I doing something wrong?
>  
>  What is the result of calling old.packages() at the R prompt?
>  
>  -k
>  
Here it goes:

> old.packages()

--17:57:01--  http://cran.r-project.org:80/src/contrib/PACKAGES
           => `/tmp/fileR357bS327b23c6'
Connecting to proxy.lg.ehu.es:3128... connected!
Proxy request sent, awaiting response... 200 OK
Length: 30,707 [text/plain]

    0K -> .......... .......... .........                        [100%]

17:57:02 (88.98 KB/s) - `/tmp/fileR357bS327b23c6' saved [30707/30707]

Error in if (a[k] > b[k]) return(TRUE) else if (a[k] < b[k]) return(FALSE) : 
        missing value where logical needed
In addition: Warning message: 
NAs introduced by coercion 

ft.
-- 
Fernando TUSELL                                e-mail:
Departamento de Econometr?a y Estad?stica           etptupaf at bs.ehu.es 
Facultad de CC.EE. y Empresariales             Tel:   (+34)94.601.3733
Avenida Lendakari Aguirre, 83                  Fax:   (+34)94.601.3754
E-48015 BILBAO  (Spain)                        Secr:  (+34)94.601.3740
PGP: finger etptupaf at bsdx01.bs.ehu.es          http://etdx01.bs.ehu.es
----------------------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Tue Dec 19 19:25:52 2000
From: feldesmanm at pdx.edu (Marc R. Feldesman)
Date: Tue, 19 Dec 2000 10:25:52 -0800
Subject: [R] Rwinst.exe problems
In-Reply-To: <Pine.GSO.4.05.10012191313090.29588-100000@toucan.stats>
References: <Pine.GSO.4.21.0012191234470.10503-100000@dolphin>
Message-ID: <5.0.2.1.2.20001219102435.01c58460@127.0.0.1>



Setting the R_HOME environment variable cures the problem under both NT and 
Win2K.  Shortening the path also cures the problem.  Since the path is more 
problematic to fix, I much prefer the R_HOME environment variable solution.

Thanks for helping identify and solve this problem.  

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jmc at research.bell-labs.com  Tue Dec 19 19:51:41 2000
From: jmc at research.bell-labs.com (John Chambers)
Date: Tue, 19 Dec 2000 13:51:41 -0500 (EST)
Subject: [R] translation from the old-S
References: <Pine.SOL.3.96.1001218204324.13049A-100000@ysidro>
Message-ID: <200012191851.NAA24121@jessie.research.bell-labs.com>

> Date: Mon, 18 Dec 2000 21:08:58 -0600 (CST)
> From: Roger Koenker <roger at ysidro.econ.uiuc.edu>
> Sender: owner-r-help at stat.math.ethz.ch
> Precedence: bulk
> 
> In ancient times, circa 1980, S data directories were called swork and sdata
> not .Data, and "New-S" as described in the already medieval "Blue Book"
> discusses a function DBCONVERT that converted swork data into .Data data.
> 
> It is embarrassing to admit it, but I still have data archives from a BTL
> machine called alice in the swork format and would like to convert a dataset
> to something modern.  I had assumed that DBCONVERT or some equivalent would
> still be in my early modern Splus 3.3 version, but apparently not.  
> 
> Could anyone advise me on an alternative strategy?
> 
> My apologies for such a backward looking question, but in my experience
> the most forward looking are those also capable of looking backward. 
> So this seemed to be the most promising venue for the question.
> 
> url:	http://www.econ.uiuc.edu		Roger Koenker	
> email	roger at ysidro.econ.uiuc.edu		Department of Economics
> vox: 	217-333-4558				University of Illinois
> fax:   	217-244-6678				Champaign, IL 61820
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

Ah, history--

I did a little digging (not to imply that I remember that far back!).

DBCONVERT is (or was) a shell script that basically ran the S function
gtds(file) on all the file names for the old-S datasets.

If you have access to a version of S-Plus that still has the gtds
function,  you can do the same thing, either a file at a time or by
creating a shell script, and then dump the resulting S objects.
For example, if $dir is the name of the directory holding the old-S
datasets:
	ls $dir |sed "s:.*:& <- gtds(\"$dir/&\"):"  > myScript.S
and then run myScript.S as an S source file.


If gtds has disappeared from your available collection of old, but
still runable, versions of S-Plus, then life will be more difficult.

(The underlying code for gtds was written in the pre-processed
ratfor/Fortran described in "Extending the S System", R. A. Becker and
John M. Chambers, 1985.)

John Chambers

-- 
John M. Chambers                  jmc at bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From orp at intras.es  Tue Dec 19 19:23:28 2000
From: orp at intras.es (Oscar)
Date: Tue, 19 Dec 2000 19:23:28 +0100 (Hora est?ndar romance)
Subject: [R] sm library
Message-ID: <3A3FA7A0.000001.17747@intras9.dominiointras>

Hello to everyone

Does someone know where is the bug in sm.logit function in sm library?

The estimated probabilities are always 1/2

I'm new to this list, so I don't know if this list is about this kind of things.

Sorry for my english, and thanks in advance

Oscar
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20001219/feaedb29/attachment.html

From rsingle at smcvt.edu  Tue Dec 19 20:40:20 2000
From: rsingle at smcvt.edu (Dr. Richard Single)
Date: Tue, 19 Dec 2000 14:40:20 -0500
Subject: [R] usa() map
Message-ID: <D027A76FF575D411902F0001023D1FA201150C41@shadow.smcvt.edu>


I was wondering if there was a map of the US similar to the usa() map
in Splus?

If anyone knows of one, or how to convert the Splus usa() map for use in 
R, I would greatly appreciate hearing from you.

Thanks,

Rich

====================================================
 Richard M. Single, Ph.D.     Dept. of Mathematics  
 rsingle at smcvt.edu            St. Michael's College    
 (802) 654-2992               Colchester, VT 05439
====================================================


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Dec 19 21:23:41 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 19 Dec 2000 20:23:41 +0000 (GMT)
Subject: [R] sm library
In-Reply-To: <3A3FA7A0.000001.17747@intras9.dominiointras>
Message-ID: <Pine.GSO.4.05.10012192018440.2595-100000@auk.stats>

On Tue, 19 Dec 2000, Oscar wrote:

> Hello to everyone
> 
> Does someone know where is the bug in sm.logit function in sm library?
> 
> The estimated probabilities are always 1/2
> 
> I'm new to this list, so I don't know if this list is about this kind of things.

Please look in the archives, as I posted the solution a day or so ago.
The bug is that glm.fit has been broken since that function was ported to
R, and now gives linear predictor 0 for weight-zero cases, incorrectly.

The best solution is to get the new sm2 package, on its way to CRAN now.
You can pick up a version from
http://www.stats.ox.ac.uk/pub/R/sm_2.0-1.tar.gz or a Windows port at
http://www.stats.ox.ac.uk/pub/RWin/sm.zip (for rw1020), both as from about
five minutes ago.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ray.Brownrigg at mcs.vuw.ac.nz  Tue Dec 19 23:38:59 2000
From: Ray.Brownrigg at mcs.vuw.ac.nz (Ray Brownrigg)
Date: Wed, 20 Dec 2000 11:38:59 +1300 (NZDT)
Subject: [R] usa() map
Message-ID: <200012192238.LAA12125@aqua.mcs.vuw.ac.nz>

This comes up from time to time, but I usually answer privately.  This
message will at least get into the archives for future reference.

> I was wondering if there was a map of the US similar to the usa() map
> in Splus?
> 
> If anyone knows of one, or how to convert the Splus usa() map for use in 
> R, I would greatly appreciate hearing from you.
> 
You don't say which platform or version of R you are using (it often
matters, and the platform does in this case).

There is a maps library for S, distributed with S-Plus.  I have ported
most of that to R.  It is available for Intel/Linux or SPARC from:
ftp://ftp.mcs.vuw.ac.nz/pub/statistics/map/ in files
maps_0.1-9_*.tar.gz.   These are R packages, which include map
databases for usa, world, china and nz (hence the 25MB size).
 
Note that thinning is not implemented, and projections have some
problems, you are welcome to try and sort them out.

Hope this helps,
Ray Brownrigg
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From REChung at home.com  Wed Dec 20 00:24:49 2000
From: REChung at home.com (Robert Chung)
Date: Tue, 19 Dec 2000 15:24:49 -0800
Subject: [R] Mailing list archive
References: <Pine.GSO.4.05.10012192018440.2595-100000@auk.stats>
Message-ID: <000c01c06a12$e21bc440$6e920e18@pinol1.sfba.home.com>

"Prof Brian D Ripley" <ripley at stats.ox.ac.uk> wrote:

> On Tue, 19 Dec 2000, Oscar wrote:
> > I'm new to this list, so I don't know if this list is about this kind
of things.
>
> Please look in the archives, as I posted the solution a day or so ago.

Alas, the R mailing list archives don't appear to be current. The last
archived message that I could find (following the link from
http://www.r-project.org/) is dated 28 August 2000.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From d.scott at auckland.ac.nz  Wed Dec 20 01:15:10 2000
From: d.scott at auckland.ac.nz (David Scott)
Date: Wed, 20 Dec 2000 13:15:10 +1300 (NZDT)
Subject: [R] Names
Message-ID: <Pine.SOL.3.96.1001220130411.4072E-100000@aitken.scitec.auckland.ac.nz>


I am trying to create a set of vectors which have similar names. They have
a common part and an extra unique part. I am sure I have seen questions on
this before but I have been unable to find it in the archive. There are
examples of sets of names for columns of a data frame, but not for
individual vectors.

Suppose I want vectors named myvar.1 myvar.2 etc.

I tried:
> as.name(paste("myvar","1",sep="."))<-1:10
Error: Target of assignment expands to non-language object

But:
> is.language(as.name(paste("myvar","1",sep=".")))
[1] TRUE

Any suggestions as to how to do this?

David Scott 

_________________________________________________________________
David Scott     Department of Statistics
                The University of Auckland, PB 92019
                Auckland        NEW ZEALAND
Phone: +64 9 373 7599 ext 6830     Fax: +64 9 373 7018            
Email:  d.scott at Auckland.ac.nz

President, New Zealand Statistical Association
Head, Department of Statistics, University of Auckland

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Wed Dec 20 01:31:07 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 19 Dec 2000 16:31:07 -0800 (PST)
Subject: [R] Names
In-Reply-To: <Pine.SOL.3.96.1001220130411.4072E-100000@aitken.scitec.auckland.ac.nz>
Message-ID: <Pine.GSO.4.21.0012191627260.17282-100000@atlas.biostat.washington.edu>

On Wed, 20 Dec 2000, David Scott wrote:

> 
> I am trying to create a set of vectors which have similar names. They have
> a common part and an extra unique part. I am sure I have seen questions on
> this before but I have been unable to find it in the archive. There are
> examples of sets of names for columns of a data frame, but not for
> individual vectors.
> 
> Suppose I want vectors named myvar.1 myvar.2 etc.
> 
> I tried:
> > as.name(paste("myvar","1",sep="."))<-1:10
> Error: Target of assignment expands to non-language object

The problem is that there isn't an "as.name<-" function so you can't use
as.name on the left-hand side of an assignment. 

You probably mean 
   assign(paste("myvar","1",sep="."),1:10)
but your life might well be easier if you just had a list called myvar and
had vectors myvar[[1]], myvar[[2]], and so on.


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From d.scott at auckland.ac.nz  Wed Dec 20 01:57:02 2000
From: d.scott at auckland.ac.nz (David Scott)
Date: Wed, 20 Dec 2000 13:57:02 +1300 (NZDT)
Subject: [R] dev.ask
Message-ID: <Pine.SOL.3.96.1001220131513.4072F-100000@aitken.scitec.auckland.ac.nz>


I was surprised not to find dev.ask when I looked for it. Is there an
alternative method of holding plots before going on to the next one?

> R.version
         _                   
platform sparc-sun-solaris2.6
arch     sparc               
os       solaris2.6          
system   sparc, solaris2.6   
status                       
major    1                   
minor    1.1                 
year     2000                
month    August              
day      15                  
language R     


David Scott
_________________________________________________________________
David Scott     Department of Statistics
                The University of Auckland, PB 92019
                Auckland        NEW ZEALAND
Phone: +64 9 373 7599 ext 6830     Fax: +64 9 373 7018            
Email:  d.scott at Auckland.ac.nz

President, New Zealand Statistical Association
Head, Department of Statistics, University of Auckland




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jgoebel at diw.de  Wed Dec 20 03:10:48 2000
From: jgoebel at diw.de (Jan Goebel)
Date: Wed, 20 Dec 2000 03:10:48 +0100
Subject: [R] Names
In-Reply-To: <Pine.SOL.3.96.1001220130411.4072E-100000@aitken.scitec.auckland.ac.nz>; from d.scott@auckland.ac.nz on Wed, Dec 20, 2000 at 13:15:10 +1300
References: <Pine.SOL.3.96.1001220130411.4072E-100000@aitken.scitec.auckland.ac.nz>
Message-ID: <20001220031048.A14383@diw14093.diw.de>

Hello David,

maybe this helps you:

> assign(paste("myvar","1",sep="."),1:10)
> ls()
[1] "myvar.1"
> myvar.1
 [1]  1  2  3  4  5  6  7  8  9 10

Greetings

jan

On Wed, 20 Dec 2000, David Scott wrote:

> 
> I am trying to create a set of vectors which have similar names. They have
> a common part and an extra unique part. I am sure I have seen questions on
> this before but I have been unable to find it in the archive. There are
> examples of sets of names for columns of a data frame, but not for
> individual vectors.
> 
> Suppose I want vectors named myvar.1 myvar.2 etc.
> 
> I tried:
> > as.name(paste("myvar","1",sep="."))<-1:10
> Error: Target of assignment expands to non-language object
> 
> But:
> > is.language(as.name(paste("myvar","1",sep=".")))
> [1] TRUE
> 
> Any suggestions as to how to do this?
> 
> David Scott 
> 
> _________________________________________________________________
> David Scott     Department of Statistics
>                 The University of Auckland, PB 92019
>                 Auckland        NEW ZEALAND
> Phone: +64 9 373 7599 ext 6830     Fax: +64 9 373 7018            
> Email:  d.scott at Auckland.ac.nz
> 
> President, New Zealand Statistical Association
> Head, Department of Statistics, University of Auckland
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
+-----------------------------------
 Jan Goebel (mailto:jgoebel at diw.de)

 DIW Berlin 
 Longitudinal Data and Microanalysis
 K?nigin-Luise-Str. 5
 D-14195 Berlin -- Germany --
 phone: 49 30 89789-377
+-----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Wed Dec 20 04:02:34 2000
From: jfox at mcmaster.ca (John Fox)
Date: Tue, 19 Dec 2000 22:02:34 -0500
Subject: [R] hyperlinks to other packages in .Rd files 
Message-ID: <5.0.0.25.0.20001219215142.01965168@127.0.0.1>

Dear list members,

I've been working on an R package, which I just checked and built with the 
new tools in the Windows version of R 1.2.0. (These tools are wonderful, by 
the way.) Everything went fine, except that cross-references that I tried 
to create to help pages in other packages don't work.

Page 14 of Writing R Extensions says:

"There are optional arguments specified as \link[pkg]{foo} and 
\link[pkg:bar]{foo} to link to the package pkg with topic (file?) foo and 
bar respectively."

I thought that I understood this passage (with the exception of the 
parenthetical question, which is in the original text), but, for example, 
\link[base]{hist} fails to create a link to the documentation for hist in 
the base package.

I've screwed around with this for a while with no success. Any help would 
be appreciated.

Thanks,
  John

________________________________
  John Fox
  Department of Sociology
  McMaster University
  email: jfox at McMaster.ca
  web: www.socsci.mcmaster.ca/jfox
________________________________

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at epm.net.co  Wed Dec 20 04:36:34 2000
From: krcabrer at epm.net.co (Kenneth Cabrera)
Date: Tue, 19 Dec 2000 22:36:34 -0500
Subject: [R] Partial table.
Message-ID: <3A402942.F9CB44C@epm.net.co>

Hi R users:

Thank you very much for you help, you are very kind.

I am again asking for your help to make a function that returns the
numbers of elements of each category given in another vector.

I mean, I have a vector "x" with several elements (most of them
more that once) and other vector "y" with the elements that I want
to count in the first vector (is not a exhaustive "table or tabulate"
function).
And I want to obtain a data frame with one variable with the elements
in "y" and other with its corresponding frequencies.

One more question: How can I deal with an unit and an empty vector in a
function that eliminates an element from a it, given the original vector
and the index of the
element to be eliminated?

Thank you very much for your help

Kenneth Cabrera
Universidad Nacional de Colombia
Sede Medell?n
krcabrer at perseus.unalmed.edu.co
krcabrer at epm.net.co

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wloliver at qwest.net  Wed Dec 20 05:14:05 2000
From: wloliver at qwest.net (Bill Oliver)
Date: Tue, 19 Dec 2000 21:14:05 -0700
Subject: [R] dev.ask
References: <Pine.SOL.3.96.1001220131513.4072F-100000@aitken.scitec.auckland.ac.nz>
Message-ID: <000e01c06a3b$4ab27d00$5c55e43f@91qez>

One can set the graphical parameter "ask" with the "par(ask=T)" command and
then source a file with a sequence of graphics commands. One will then be
prompted for each plot. To see an example of this feature type
"demo(graphics)" at the command prompt.

-Bill Oliver

----- Original Message -----
From: "David Scott" <d.scott at auckland.ac.nz>
To: <r-help at stat.math.ethz.ch>
Sent: Tuesday, December 19, 2000 5:57 PM
Subject: [R] dev.ask



I was surprised not to find dev.ask when I looked for it. Is there an
alternative method of holding plots before going on to the next one?

> R.version
         _
platform sparc-sun-solaris2.6
arch     sparc
os       solaris2.6
system   sparc, solaris2.6
status
major    1
minor    1.1
year     2000
month    August
day      15
language R


David Scott
_________________________________________________________________
David Scott     Department of Statistics
                The University of Auckland, PB 92019
                Auckland        NEW ZEALAND
Phone: +64 9 373 7599 ext 6830     Fax: +64 9 373 7018
Email:  d.scott at Auckland.ac.nz

President, New Zealand Statistical Association
Head, Department of Statistics, University of Auckland




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lhomer at teleport.com  Wed Dec 20 05:17:09 2000
From: lhomer at teleport.com (lhomer)
Date: Tue, 19 Dec 2000 20:17:09 -0800
Subject: [R] Installing R
Message-ID: <003a01c06a3b$b921f900$d40d1ad8@oemcomputer>

I am trying to install R on a suse 7.0 linux system. When I attempt to use the source, I receive an error message that says no fortran compiler was found. I do have gnuc which is supposed to have g77 as part of the installation, but I don't know how to use this information.

I also tried the binary installation and received an error message:

bash-2.04# rpm -ivh R-base-1.1.1-2.i386.rpm..rpm
error: failed dependencies:
        libblas.so.2 is needed by R-base-1.1.1-2

Is this libblas.so.2 a file I could download? Where should I get it? Where should I put it?
    
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20001219/52275d36/attachment.html

From novo at uiuc.edu  Wed Dec 20 06:10:09 2000
From: novo at uiuc.edu (=?iso-8859-1?q?=C1lvaro=20A=2E=20Novo?=)
Date: Tue, 19 Dec 2000 23:10:09 -0600
Subject: [R] Installing R
In-Reply-To: <003a01c06a3b$b921f900$d40d1ad8@oemcomputer>
References: <003a01c06a3b$b921f900$d40d1ad8@oemcomputer>
Message-ID: <00121923100903.00435@friedman>

On Tuesday 19 December 2000 22:17, lhomer wrote:

   >    > I am trying to install R on a suse 7.0 linux system. When I attempt 
to
   > use the source, I receive an error message that says no fortran compiler
   > was found. I do have gnuc which is supposed to have g77 as part of the
   > installation, but I don't know how to use this information.
   >
   > I also tried the binary installation and received an error message:
   >
   > bash-2.04# rpm -ivh R-base-1.1.1-2.i386.rpm..rpm
   > error: failed dependencies:
   >         libblas.so.2 is needed by R-base-1.1.1-2
   >
   > Is this libblas.so.2 a file I could download? Where should I get it?
   > Where should I put it?

install blas.rpm 
you can use YaST to search for other "xxx is needed by R-base-1.1.1-2"
or needed libraries.

Alvaro
R-1.2.0
Linux SuSE 6.4
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Dec 20 08:31:00 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 20 Dec 2000 07:31:00 +0000 (GMT)
Subject: [R] hyperlinks to other packages in .Rd files 
In-Reply-To: <5.0.0.25.0.20001219215142.01965168@127.0.0.1>
Message-ID: <Pine.GSO.4.05.10012200727300.12314-100000@auk.stats>

On Tue, 19 Dec 2000, John Fox wrote:

> Dear list members,
> 
> I've been working on an R package, which I just checked and built with the 
> new tools in the Windows version of R 1.2.0. (These tools are wonderful, by 
> the way.) Everything went fine, except that cross-references that I tried 
> to create to help pages in other packages don't work.
> 
> Page 14 of Writing R Extensions says:
> 
> "There are optional arguments specified as \link[pkg]{foo} and 
> \link[pkg:bar]{foo} to link to the package pkg with topic (file?) foo and 
> bar respectively."
> 
> I thought that I understood this passage (with the exception of the 
> parenthetical question, which is in the original text), but, for example, 
> \link[base]{hist} fails to create a link to the documentation for hist in 
> the base package.
> 
> I've screwed around with this for a while with no success. Any help would 
> be appreciated.

Remember you are on Windows, and there links only work for packages
installed in the main library directory (point 3.3 of the rw-FAQ).
I think you will find the links do work, once you install there.
They do for me.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Wed Dec 20 08:33:00 2000
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Wed, 20 Dec 2000 08:33:00 +0100 (MET)
Subject: [R] Modelling Question
In-Reply-To: <5B9B19C8A522D411A8EC00A0C99D6A9A02E697@mail.nsabp.pitt.edu> from "Richards, Tom" at Dec 18, 2000 05:29:20 AM
Message-ID: <200012200733.IAA32562@alpha.luc.ac.be>


> 
> Hello:
> 
> I want to fit a model to count data where many counts are zero.  I would
> like to posit that the baseline value of an immunologic marker impacts
> whether or not a patient experiences any events at all, and the conditional
> (on being  > 0) expectation of the remaining counts as a function of the
> percent inhibition of the immunologic marker.  I guess I want to use a
> logistic model for the probability of experiencing any events, and a Poisson
> model for the conditional expectation.  This sounds like it should be a
> familiar problem.  Before I try writing down and maximizing the likelihood
> myself, can someone point me in a simpler direction?  Thanks in advance for
> any help.

The fmr function in my gnlm library
(www.luc.ac.be/~jlindsey/rcode.html)
does a two-point finite mixture where you can have a logistic model of
having an event or not combined with Poisson for the number of events.
  Jim

> 
> Tom Richards
> 
> P.S., Sorry about a potential cross-posting to S-news, but I just got a
> weird "stalled, non-member posting" message from there.  I thought I was a
> member of S-news, but apparently something went wrong recently for me.
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Dec 20 08:43:55 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 20 Dec 2000 08:43:55 +0100
Subject: [R] Mailing list archive
References: <Pine.GSO.4.05.10012192018440.2595-100000@auk.stats> <000c01c06a12$e21bc440$6e920e18@pinol1.sfba.home.com>
Message-ID: <3A40633B.9E50EA30@statistik.uni-dortmund.de>

Robert Chung wrote:
> 
> "Prof Brian D Ripley" <ripley at stats.ox.ac.uk> wrote:
> 
> > On Tue, 19 Dec 2000, Oscar wrote:
> > > I'm new to this list, so I don't know if this list is about this kind
> of things.
> >
> > Please look in the archives, as I posted the solution a day or so ago.
> 
> Alas, the R mailing list archives don't appear to be current. The last
> archived message that I could find (following the link from
> http://www.r-project.org/) is dated 28 August 2000.

It *is* current. If you follow the links (Mailing Lists --- Searchable
Archives), you will be directed to
 http://www.ens.gu.edu.au/robertk/R/

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cjlu at ibm.stat.ncku.edu.tw  Wed Dec 20 08:55:32 2000
From: cjlu at ibm.stat.ncku.edu.tw (C. Joseph Lu)
Date: Wed, 20 Dec 2000 15:55:32 +0800
Subject: [R] Question about coplot() ...
Message-ID: <3A4065F3.C460552E@email.stat.ncku.edu.tw>

Dear R-friends,

For the following data:

> xy
     x     y i
1  731 0.313 2
2  739 0.340 2
3  790 0.373 2
4  855 0.451 2
5  980 0.608 2
6  575 0.156 1
7  608 0.207 1
8  630 0.249 1
9  670 0.332 1
10 838 0.377 1
11 964 0.466 1

> coplot(y ~ x|i, data=xy)
coplot gives 3 panels, rather than 2, namely one for i=1 and one for
i=2.

Futhermore, when I extand data fram xy to have i=3 as follows:

> xy
     x     y i
1  334 0.129 3
2  365 0.198 3
3  411 0.223 3
4  731 0.313 2
5  739 0.340 2
6  790 0.373 2
7  855 0.451 2
8  980 0.608 2
9  575 0.156 1
10 608 0.207 1
11 630 0.249 1
12 670 0.332 1
13 838 0.377 1
14 964 0.466 1

> coplot(y ~ x | i, data=xy)
gives 4 panels, rather than 3.

Is this appropriate (with default settings of coplot)?

Best regards,

C. Joseph Lu
Department of Statistics
National Cheng-Kung University
Tainan, Taiwan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Dec 20 08:57:13 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 20 Dec 2000 07:57:13 +0000 (GMT)
Subject: [R] Mailing list archive
In-Reply-To: <3A40633B.9E50EA30@statistik.uni-dortmund.de>
Message-ID: <Pine.GSO.4.05.10012200748080.12314-100000@auk.stats>

On Wed, 20 Dec 2000, Uwe Ligges wrote:

> Robert Chung wrote:
> > 
> > "Prof Brian D Ripley" <ripley at stats.ox.ac.uk> wrote:
> > 
> > > On Tue, 19 Dec 2000, Oscar wrote:
> > > > I'm new to this list, so I don't know if this list is about this kind
> > of things.
> > >
> > > Please look in the archives, as I posted the solution a day or so ago.
> > 
> > Alas, the R mailing list archives don't appear to be current. The last
> > archived message that I could find (following the link from
> > http://www.r-project.org/) is dated 28 August 2000.
> 
> It *is* current. If you follow the links (Mailing Lists --- Searchable
> Archives), you will be directed to
>  http://www.ens.gu.edu.au/robertk/R/

Yes, but it is not clear that the `2000' archives stop in August, nor that
others are later.  Indeed, there appear to be three different archives
on that page, the ones at the top (in Vienna, incomplete), the text ones on
CRAN (which run up to November 28), and the one in Queensland, that
is current (and has my message as
http://www.ens.gu.edu.au/robertk/R/help/2218.html, although it wouldn't
give it to me just now, and the search failed).

Could we make this less confusing?


> 
> Uwe Ligges
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From orp at intras.es  Wed Dec 20 09:27:30 2000
From: orp at intras.es (Oscar)
Date: Wed, 20 Dec 2000 09:27:30 +0100
Subject: [R] sm library
Message-ID: <000901c06a5e$bff2bbc0$3b1e64c0@dominiointras>

If you could please try this code:

Y<-cbind(V2,V3)
X<-log(V1)
model1<-glm(Y~X,family=binomial(link=cloglog))
plot(X,model1$fitted.values,ylim=c(0,1))
points(X,V2/V3,col=2)

With data

1 6 23
2 9 24
4 20 25
8 24 24
16 21 22
1 1 23
2 14 25
4 17 24
8 21 23
16 24 24
1 11 24
2 14 24
4 20 26
8 19 23
16 22 23
1 4 23
2 9 21
4 15 24
8 23 23
16 24 24
1 7 23
2 16 26
4 23 25
8 17 18
16 25 25
1 5 22
2 8 24
4 23 25
8 23 23
16 26 26

It doesn't produce the right adjust.

Thanks again for your kindness

Oscar

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Dec 20 11:08:01 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 20 Dec 2000 10:08:01 +0000 (GMT)
Subject: Report on glm error (was Re: Re: Re: [R] sm library)
In-Reply-To: <000901c06a5e$bff2bbc0$3b1e64c0@dominiointras>
Message-ID: <Pine.GSO.4.05.10012201001400.2822-100000@toucan.stats>

Please use a meaningful subject: it helps enormously in searching over the
archives, and this one was totally misleading.

On Wed, 20 Dec 2000, Oscar wrote:

> If you could please try this code:
> 
> Y<-cbind(V2,V3)
> X<-log(V1)
> model1<-glm(Y~X,family=binomial(link=cloglog))
> plot(X,model1$fitted.values,ylim=c(0,1))
> points(X,V2/V3,col=2)
> 
> With data
> 
> 1 6 23
> 2 9 24
> 4 20 25
> 8 24 24
> 16 21 22
> 1 1 23
> 2 14 25
> 4 17 24
> 8 21 23
> 16 24 24
> 1 11 24
> 2 14 24
> 4 20 26
> 8 19 23
> 16 22 23
> 1 4 23
> 2 9 21
> 4 15 24
> 8 23 23
> 16 24 24
> 1 7 23
> 2 16 26
> 4 23 25
> 8 17 18
> 16 25 25
> 1 5 22
> 2 8 24
> 4 23 25
> 8 23 23
> 16 26 26
> 
> It doesn't produce the right adjust.

It does seem to be correct: I think you should be plotting against
V2/(V2+V3) or have Y <- cbind(V2, V3-V2).  The columns are the number of
successes and number of failures (see ?glm).

It helps to know what you intended, i.e. what you think the right
answer is, when you send in a bug report.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bxc at novonordisk.com  Wed Dec 20 11:17:26 2000
From: bxc at novonordisk.com (BXC (Bendix Carstensen))
Date: Wed, 20 Dec 2000 11:17:26 +0100
Subject: [R] sm library
Message-ID: <D5A7D734C9C5D211B9E30008C78923020609E908@exdkba03.novo.dk>

If you instead use

points(X,V2/(V2+V3),col=2)

things make more sense. Cf. the help page for glm.

Bendix
----------------------
Bendix Carstensen
Senior Statistician
Steno Diabetes Centre
Niels Steensens Vej 2
DK-2820 Gentofte
Denmark
tel: +45 44 43 87 38
mob: +45 28 25 87 38
fax: +45 44 43 73 13
bxc at novo.dk
www.biostat.ku.dk/~bxc
----------------------



-----Original Message-----
From: Oscar [mailto:orp at intras.es]
Sent: 20. december 2000 09:28
To: r-help at lists.R-project.org
Subject: Re: Re: Re: [R] sm library


If you could please try this code:

Y<-cbind(V2,V3)
X<-log(V1)
model1<-glm(Y~X,family=binomial(link=cloglog))
	plot(X,model1$fitted.values,ylim=c(0,1))
points(X,V2/V3,col=2)

With data

1 6 23
2 9 24
4 20 25
8 24 24
16 21 22
1 1 23
2 14 25
4 17 24
8 21 23
16 24 24
1 11 24
2 14 24
4 20 26
8 19 23
16 22 23
1 4 23
2 9 21
4 15 24
8 23 23
16 24 24
1 7 23
2 16 26
4 23 25
8 17 18
16 25 25
1 5 22
2 8 24
4 23 25
8 23 23
16 26 26

It doesn't produce the right adjust.

Thanks again for your kindness

Oscar

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Wed Dec 20 12:14:47 2000
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Wed, 20 Dec 2000 12:14:47 +0100
Subject: [R] Question about coplot() ...
Message-ID: <3.0.32.20001220121446.008fe450@162.38.183.200>

At 15:55 20/12/00 +0800, you wrote:
>> coplot(y ~ x|i, data=xy)
>coplot gives 3 panels, rather than 2, namely one for i=1 and one for
>i=2.

Try:

	coplot(y ~ x|factor(i), data=xy)



Emmanuel Paradis

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Wed Dec 20 14:04:50 2000
From: jfox at mcmaster.ca (John Fox)
Date: Wed, 20 Dec 2000 08:04:50 -0500
Subject: [R] hyperlinks to other packages in .Rd files 
In-Reply-To: <Pine.GSO.4.05.10012200727300.12314-100000@auk.stats>
References: <5.0.0.25.0.20001219215142.01965168@127.0.0.1>
Message-ID: <5.0.0.25.0.20001220075541.01898350@127.0.0.1>

Dear Brian,

At 07:31 AM 20/12/2000 +0000, you wrote:

>Remember you are on Windows, and there links only work for packages
>installed in the main library directory (point 3.3 of the rw-FAQ).
>I think you will find the links do work, once you install there.
>They do for me.

I had installed my package to the main library directory, and I did use 
link.html.help (as mentioned in the rw-FAQ) after installing the library.

The problem was that I was using *compiled* html help rather than html 
help, and didn't realize that links were created only for the latter. The 
html help works fine.

Thanks for your response -- you pointed me to the source of the problem.

John

________________________________
  John Fox
  Department of Sociology
  McMaster University
  email: jfox at McMaster.ca
  web: www.socsci.mcmaster.ca/jfox
________________________________

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From orp at intras.es  Wed Dec 20 17:01:44 2000
From: orp at intras.es (Oscar)
Date: Wed, 20 Dec 2000 17:01:44 +0100 (Hora est?ndar romance)
Subject: [R] glm
Message-ID: <3A40D7E8.000001.57607@intras9.dominiointras>

It was my fault, as you have seen. Y matrix must contain successes and failures, and not successes and trials.
Sorry for my ignorance and thanks a lot for your help.

Oscar
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20001220/341c2519/attachment.html

From thomas at biostat.washington.edu  Wed Dec 20 17:26:46 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Wed, 20 Dec 2000 08:26:46 -0800 (PST)
Subject: [R] compiler info
In-Reply-To: <001401c06571$6b640240$eabe323f@icouncill>
Message-ID: <Pine.GSO.4.21.0012140853480.7665-100000@atlas.biostat.washington.edu>

On Wed, 13 Dec 2000, Isaac Councill wrote:

> Greetings,
> 
> I am trying to install R on an AIX machine and I am running into
> problems.  My g77 fails to produce executables, according to the
> /configure action.  Could someone please tell me what Fortran compiler
> was used to create R so that I may try that avenue?
> 

I've just checked on the AIX machine I used. It has
mead1% gcc --version
egcs-2.91.66
mead1% g77 --version
GNU Fortran 0.5.24-19981002

It works with R1.2.

	-thomas



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rgentlem at jimmy.harvard.edu  Wed Dec 20 17:42:09 2000
From: rgentlem at jimmy.harvard.edu (Robert Gentleman)
Date: Wed, 20 Dec 2000 11:42:09 -0500
Subject: [R] glm
In-Reply-To: <3A40D7E8.000001.57607@intras9.dominiointras>; from orp@intras.es on Wed, Dec 20, 2000 at 05:01:44PM +0100
References: <3A40D7E8.000001.57607@intras9.dominiointras>
Message-ID: <20001220114209.F3137@jimmy.harvard.edu>

On Wed, Dec 20, 2000 at 05:01:44PM +0100, Oscar wrote:
> It was my fault, as you have seen. Y matrix must contain successes and failures, and not successes and trials.
> Sorry for my ignorance and thanks a lot for your help.
> 
> Oscar

  This is a very good argument for a more sophisticated modeling
paradigm where the lefthand side must be a Binomial object. Filling
this up correctly is often easier and more straight forward than
trying to figure out what is wanted at fit time.

-- 
+---------------------------------------------------------------------------+
| Robert Gentleman                 phone : (617) 632-5250                   |
| Associate Professor              fax:   (617)  632-2444                   |
| Department of Biostatistics      office: not yet                          |
| Harvard School of Public Health  email: rgentlem at jimmy.dfci.harvard.edu   |
+---------------------------------------------------------------------------+
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Dec 20 19:11:39 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 20 Dec 2000 19:11:39 +0100
Subject: [R] glm
In-Reply-To: <3A40D7E8.000001.57607@intras9.dominiointras>
References: <3A40D7E8.000001.57607@intras9.dominiointras>
Message-ID: <14912.63067.382047.148198@gargle.gargle.HOWL>

Oscar,

PLEASE re-configure your E-mail program,
the mail that you sent to R-help 
contains TONS AND TONS of HTML-"garbage".

Please send E-mail to mailing lists __WITHOUT ANY HTML TAGS__.


>>>>> "Oscar" == Oscar  <orp at intras.es> writes:

    Oscar> It was my fault, as you have seen. Y matrix must contain successes and failures, and not successes and trials.
    Oscar> Sorry for my ignorance and thanks a lot for your help.

    Oscar> Oscar<html>
    Oscar> <head>
    Oscar> <meta name="GENERATOR" content="IncrediMail 1.0">
    Oscar> </head>

    Oscar> <BODY background="" bgColor=#ffffff style="BACKGROUND-POSITION: 0px 0px; FONT-FAMILY: Arial" scroll=yes ORGYPOS="0">
    Oscar> <TABLE border=0 cellPadding=2 cellSpacing=0 id=INCREDIMAINTABLE width="100%">
    Oscar> <TBODY>
    Oscar> <TR>
    Oscar> <TD id=INCREDIHEADER width="100%"></TD>
    Oscar> </TR>
    Oscar> <TR>
    Oscar> <TD id=INCREDITEXTREGION width="100%">
    Oscar> <DIV><FONT face="Courier New" size=2>It was my fault, as you have seen. Y 
    Oscar> matrix must contain successes and failures, and not successes and 
    Oscar> trials.</FONT></DIV>
    Oscar> <DIV><FONT face="Courier New" size=2>Sorry for my ignorance and 
    Oscar> thanks&nbsp;a lot&nbsp;for your help.</FONT></DIV>
    Oscar> <DIV>&nbsp;</DIV>
    Oscar> <DIV><FONT face="Courier New" size=2>Oscar</FONT></DIV>
    Oscar> <DIV>&nbsp;</DIV>
    Oscar> <DIV>&nbsp;</DIV></TD>
    Oscar> </TR>
    Oscar> <TR>
    Oscar> <TD id=INCREDIFOOTER width="100%">
    Oscar> <TABLE cellPadding=0 cellSpacing=0 width="100%">
    Oscar> <TBODY>
    Oscar> <TR>
    Oscar> <TD width="100%"></TD>
    Oscar> <TD align=middle id=INCREDISOUND vAlign=bottom></TD>
    Oscar> <TD align=middle id=INCREDIANIM vAlign=bottom></TD>
    Oscar> </TR>
    Oscar> </TBODY>
    Oscar> </TABLE>
    Oscar> </TD>
    Oscar> </TR>
    Oscar> </TBODY>
    Oscar> </TABLE><SPAN 
    Oscar> id=IncrediStamp>
    Oscar> <P align=left><FONT face="Arial, Helvetica, sans-serif" 
    Oscar> size=2>__________________________________________________<BR><FONT 
    Oscar> face="Comic Sans MS" size=2><I>IncrediMail</I> - <B>Email has finally 
    Oscar> evolved</B> - </FONT><A href="http://www.incredimail.com/imstamp26.html"><FONT 
    Oscar> face="Times New Roman" size=3><B><U>Click 
    Oscar> Here</U></B></FONT></A></P></SPAN></FONT>
    Oscar> </BODY>
    Oscar> </html>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mherron at latte.harvard.edu  Wed Dec 20 19:43:39 2000
From: mherron at latte.harvard.edu (Michael Herron)
Date: Wed, 20 Dec 2000 13:43:39 -0500
Subject: [R] high-density vertical lines
Message-ID: <200012201843.NAA04289@beethoven.fas.harvard.edu>


Hello.

> x_c(1,2,5,7)
> plot(x,type="h",lwd=10)

produces for me a plot where the tops of the high-density lines are
rounded.  Is there a way to get the high-density lines so that their
tops are flat?

Thanks,

Michael
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From g.romero at utoronto.ca  Wed Dec 20 20:15:07 2000
From: g.romero at utoronto.ca (g.romero@utoronto.ca)
Date: Wed, 20 Dec 2000 14:15:07 -0500 (EST)
Subject: [R] Partial table.
In-Reply-To: <3A402942.F9CB44C@epm.net.co>
References: <3A402942.F9CB44C@epm.net.co>
Message-ID: <977339706.3a41053b008ef@webmail.utoronto.ca>

Try something like this: 
CONTAR_function(X,Y)  {cbind(Y,sapply(1:length(Y),function(Z) sum(X==Y[Z])))}

Giovanni E. Romero
Department of Economics
University of Toronto 

Quoting Kenneth Cabrera <krcabrer at epm.net.co>:

> Hi R users:
> 
> Thank you very much for you help, you are very kind.
> 
> I am again asking for your help to make a function that returns the
> numbers of elements of each category given in another vector.
> 
> I mean, I have a vector "x" with several elements (most of them
> more that once) and other vector "y" with the elements that I want
> to count in the first vector (is not a exhaustive "table or tabulate"
> function).
> And I want to obtain a data frame with one variable with the elements
> in "y" and other with its corresponding frequencies.
> 
> One more question: How can I deal with an unit and an empty vector in a
> function that eliminates an element from a it, given the original vector
> and the index of the
> element to be eliminated?
> 
> Thank you very much for your help
> 
> Kenneth Cabrera
> Universidad Nacional de Colombia
> Sede Medell?n
> krcabrer at perseus.unalmed.edu.co
> krcabrer at epm.net.co
> 
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> 
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From eger.m at gmx.de  Wed Dec 20 20:53:27 2000
From: eger.m at gmx.de (Marcus Eger)
Date: Wed, 20 Dec 2000 20:53:27 +0100
Subject: [R] once more: Iterative or Wiener deconvolution routines?
Message-ID: <3A410E37.7D3B5C33@gmx.de>

Dear all,
are there any packages with routines for deconvolution?
Thanks
   --
+-------------------------------------------------------
| Marcus Eger
+--------------------------------------------------------
| E-Mail: eger.m at gmx.de (NEW)
|         marcus.eger at physik.uni-marburg.de (OLD)
| WWW:    http://neuro.physik.uni-marburg.de/~eger (NEW)
+--------------------------------------------------------

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20001220/ab2dc5ec/attachment.html

From ben at zoo.ufl.edu  Wed Dec 20 21:10:54 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Wed, 20 Dec 2000 15:10:54 -0500 (EST)
Subject: [R] high-density vertical lines
In-Reply-To: <200012201843.NAA04289@beethoven.fas.harvard.edu>
Message-ID: <Pine.LNX.4.30.0012201505480.25411-100000@bolker.zoo.ufl.edu>


  If you're sending this to a PostScript file you can (at your own risk!)
hack .ps.prolog ...

> .ps.prolog[30]
[1] "1 setlinecap 1 setlinejoin"
> .ps.prolog[30] <- "0 setlinecap 1 setlinejoin"
> postscript(file="tmp2.ps")
> plot(x,type="h",lwd=10)
> dev.off()

(Setting "setlinecap" from 1 to 0 changes from a rounded end cap to a
"butt" end cap.)

On Wed, 20 Dec 2000, Michael Herron wrote:

>
> Hello.
>
> > x_c(1,2,5,7)
> > plot(x,type="h",lwd=10)
>
> produces for me a plot where the tops of the high-density lines are
> rounded.  Is there a way to get the high-density lines so that their
> tops are flat?
>
> Thanks,
>
> Michael
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kleiweg at let.rug.nl  Wed Dec 20 21:16:32 2000
From: kleiweg at let.rug.nl (Peter Kleiweg)
Date: Wed, 20 Dec 2000 21:16:32 +0100 (CET)
Subject: [R] Shortcut for dev.copy2eps
Message-ID: <Pine.LNX.4.21.0012202109230.381-100000@kleigh.nl>


I want to use a shortcut for copying figures to EPS. I defined
this function in .Rprofile:

    ps <- function(file="Rplot.eps", width=7, height=7, ...) {
        dev.copy2eps(file=file, width=width, height=height, ...)
    }

This doesn't work:

    > data(cars)
    > plot(cars)
    > ps()
    Error in device(...) : Object "width" not found

Can anyone tell me what's going on?

I'm using R version 1.1.0 on Linux.

-- 
Peter Kleiweg
http://www.let.rug.nl/~kleiweg/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cjlu at ibm.stat.ncku.edu.tw  Thu Dec 21 04:26:19 2000
From: cjlu at ibm.stat.ncku.edu.tw (C. Joseph Lu)
Date: Thu, 21 Dec 2000 11:26:19 +0800
Subject: [R] Question about coplot() ...
References: <3.0.32.20001220121446.008fe450@162.38.183.200>
Message-ID: <3A41785B.8551866A@email.stat.ncku.edu.tw>

Thanks kind suggestions from Bendix Carstensen and Emmanuel Paradis
for my question about coplot():

> >> coplot(y ~ x|i, data=xy)
> >coplot gives 3 panels, rather than 2, namely one for i=1 and one for
> >i=2.
> Try:
>         coplot(y ~ x|factor(i), data=xy)

Actually, my question is on:

    Is this appropriate (with default settings of coplot)?
                       ^^^^^^^^^^^^^^^^^
which is the last sentence on my question.

Best regards,

C. Joseph Lu
Department of Statistics
National Cheng-Kung University
Tainan, Taiwan


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Thu Dec 21 05:23:50 2000
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Thu, 21 Dec 2000 17:23:50 +1300
Subject: [R] glm
In-Reply-To: <20001220114209.F3137@jimmy.harvard.edu>
References: <3A40D7E8.000001.57607@intras9.dominiointras>
 <3A40D7E8.000001.57607@intras9.dominiointras>
Message-ID: <200012210425.RAA08983@gosset.stats.waikato.ac.nz>

Just as a matter of interest, how did this strange form for the LHS of
binomial
glms evolve? When my students ask I usually mutter something about a smooth
generalization to the multinomial case, but I've no idea if this was really
the
motivation for doing things this way.

Murray Jorgensen

At 11:42 AM 20-12-00 -0500, Robert Gentleman wrote:
>On Wed, Dec 20, 2000 at 05:01:44PM +0100, Oscar wrote:
>> It was my fault, as you have seen. Y matrix must contain successes and
failures, and not successes and trials.
>> Sorry for my ignorance and thanks a lot for your help.
>> 
>> Oscar
>
>  This is a very good argument for a more sophisticated modeling
>paradigm where the lefthand side must be a Binomial object. Filling
>this up correctly is often easier and more straight forward than
>trying to figure out what is wanted at fit time.
>
>-- 
>+---------------------------------------------------------------------------+
>| Robert Gentleman                 phone : (617) 632-5250                   |
>| Associate Professor              fax:   (617)  632-2444                   |
>| Department of Biostatistics      office: not yet                          |
>| Harvard School of Public Health  email: rgentlem at jimmy.dfci.harvard.edu   |
>+---------------------------------------------------------------------------+
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>  
Murray Jorgensen,  Department of Statistics,
University of Waikato,  Hamilton,  New Zealand.  [maj at waikato.ac.nz]
http://www.stats.waikato.ac.nz/Staff/maj.html_
"These data do not support the hypothesis"      Well . . .
The first one does, but the second and third don't, now the fourth . . .
[ In which I pose the question: is "data" really plural. ] 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Dec 21 08:43:03 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 21 Dec 2000 07:43:03 +0000 (GMT)
Subject: [R] Shortcut for dev.copy2eps
In-Reply-To: <Pine.LNX.4.21.0012202109230.381-100000@kleigh.nl>
Message-ID: <Pine.GSO.4.05.10012210737570.15375-100000@auk.stats>

On Wed, 20 Dec 2000, Peter Kleiweg wrote:

> 
> I want to use a shortcut for copying figures to EPS. I defined
> this function in .Rprofile:
> 
>     ps <- function(file="Rplot.eps", width=7, height=7, ...) {
>         dev.copy2eps(file=file, width=width, height=height, ...)
>     }
> 
> This doesn't work:
> 
>     > data(cars)
>     > plot(cars)
>     > ps()
>     Error in device(...) : Object "width" not found
> 
> Can anyone tell me what's going on?
> 
> I'm using R version 1.1.0 on Linux.
                      ^^^^^

That's what is going on.  NEWS for 1.1.1 has

    o   dev.print() and dev.copy2eps() now work when called from a
        function, such as dev2bitmap().

Plese upgrade, and especially upgrade from 1.x.0 to 1.x.1 when the latter
becomes available.

Your example works fine in R 1.2.0.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Anthony.Lehmann at leba.unige.ch  Thu Dec 21 12:08:26 2000
From: Anthony.Lehmann at leba.unige.ch (lehmanna)
Date: Thu, 21 Dec 2000 12:08:26 +0100
Subject: [R] GAM and NN in R
Message-ID: <3A41E4AA.A6711759@sc2a.unige.ch>

I am just starting to use R and I was wondering whether it existed
modules for Generalized Additive Models and Neural Network.

Thank you in advance for your help.

Anthony

************************************************************
                   Dr. Anthony Lehmann
Primary address:                      Secondary address:
University of Geneva                  Landcare Research
18 ch des Clochettes                  PB 3127
CH-1206 Geneva                        Hamilton
Switzerland                           New Zealand
Phone: +4122 705 71 05
Fax: +4122 789 49 89

           Email: Anthony.Lehmann at leba.unige.ch 

!!! NEW: http://leba.unige.ch
                	http://www.landcare.cri.nz/science
************************************************************
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Dec 21 12:49:57 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 21 Dec 2000 11:49:57 +0000 (GMT)
Subject: [R] GAM and NN in R
Message-ID: <200012211149.LAA02120@toucan.stats.ox.ac.uk>


> Date: Thu, 21 Dec 2000 12:08:26 +0100
> From: lehmanna <Anthony.Lehmann at leba.unige.ch>
> 
> I am just starting to use R and I was wondering whether it existed
> modules for Generalized Additive Models and Neural Network.

Neural Networks:  nnet in the VR bundle

Generalized Additive Models:  There's a gam in package mgcv and package
gss does these too.  For Gaussian GAMs, see also bruto in package mda.
All of these have different strengths (and weaknesses).  None of them
do (AFAIK) gam models like gam(y ~ lo(x1,x2)) as S does (using loess
not splines).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cozzig at unive.it  Thu Dec 21 13:21:13 2000
From: cozzig at unive.it (Giulio Cozzi)
Date: Thu, 21 Dec 2000 13:21:13 +0100
Subject: [R] Help about communalities
Message-ID: <p05010404b667a5c0c92d@[157.138.11.111]>

dear Members
I need help about finding communalities in MVA. There is a particular 
package to use ? To get this statistical information ?
Thanks for your help
Giulio
-- 
----------------------------------------------------------------------------
Giulio Cozzi                            	 ++39 041 2578657   (voice)
Environmental Sciences Dep.             	 ++39 041 2578549   (fax)
University of Venice                    	 cozzig at unive.it    (e-mail)
Calle Larga S. Marta, 2137
I-30123 Venice
ITALY
----------------------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stone at unive.it  Thu Dec 21 16:03:18 2000
From: stone at unive.it (Stefano Tonellato)
Date: Thu, 21 Dec 2000 16:03:18 +0100
Subject: [R] statistical quality control
Message-ID: <3A421BB6.2BB329F9@unive.it>

Hi all,

could anybody tell me whether there exist any packages about statistical
quality control. Thanks very much.

Stefano Tonellato

--
Stefano Tonellato
Dipartimento di Statistica
Universita' Ca' Foscari di Venezia
Campiello S. Agostin, S. Polo 2347
30125 Venezia - ITALY
Phone +39-041-2577422   Fax +39-041-710355
E-mail stone at unive.it


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20001221/3669737f/attachment.html

From theis at statistik.uni-dortmund.de  Thu Dec 21 16:53:51 2000
From: theis at statistik.uni-dortmund.de (Winfried Theis)
Date: Thu, 21 Dec 2000 16:53:51 +0100 (MET)
Subject: [R] statistical quality control
In-Reply-To: <3A421BB6.2BB329F9@unive.it>
Message-ID: <XFMail.001221165351.theis@statistik.uni-dortmund.de>

Hello,

AFAIK there is no such package, since "statistical quality control" includes
many different techniques -- depending on the process you want to control. I had
a lecture on this topic and we covered the whole range from experimental design
to find the most important influences, on to Taguchi-Methods to get a model for
"nuisance"-parameters  and finally constructed control-cards. So you have to be
a bit more specific what you want. There are now packages on factorial design
and there is a package on D-optimal designs in the developer section and I'm
quite sure that you find most of the techniques needed to construct control
cards as well.

Regards, Winfried
----------------------------------
E-Mail: Winfried Theis <theis at statistik.uni-dortmund.de>
Date: 21-Dec-00
Time: 16:42:55
Dipl.-Math. Winfried Theis, Fachbereich Statistik, Graduiertenkolleg
"Angewandte Statistik"
Universitt Dortmund, 44221 Dortmund
Tel.: +49-231-755-5903  FAX: +49-231-755-4387
----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Thu Dec 21 17:02:09 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Thu, 21 Dec 2000 08:02:09 -0800 (PST)
Subject: [R] Question about coplot() ...
In-Reply-To: <3A41785B.8551866A@email.stat.ncku.edu.tw>
Message-ID: <Pine.GSO.4.21.0012210758520.27988-100000@atlas.biostat.washington.edu>

On Thu, 21 Dec 2000, C. Joseph Lu wrote:

> Thanks kind suggestions from Bendix Carstensen and Emmanuel Paradis
> for my question about coplot():
> 
> > >> coplot(y ~ x|i, data=xy)
> > >coplot gives 3 panels, rather than 2, namely one for i=1 and one for
> > >i=2.
> > Try:
> >         coplot(y ~ x|factor(i), data=xy)
> 
> Actually, my question is on:
> 
>     Is this appropriate (with default settings of coplot)?
>                        ^^^^^^^^^^^^^^^^^

Yes it is.  If you are conditioning on a numeric variable you will get a
set of overlapping conditioning sets (I believe they are called 'shingles'
for this reason). If you are conditioning on a factor then this doesn't
make sense.  The default is to treat factors as factors and numeric
variables as numeric. It would be possible to assume that a variable with
only 2 levels, say, was a factor, but this wouldn't help much. A variable
with 4 levels might be a factor but might not, so it's better to be
consistent and rely on the type of variable.


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From msi at zhwin.ch  Thu Dec 21 18:42:40 2000
From: msi at zhwin.ch (Sigrid =?iso-8859-1?Q?M=F6nkebeberg?=)
Date: Thu, 21 Dec 2000 18:42:40 +0100
Subject: [R] Factor analysis with R
Message-ID: <3A424110.536FE2B5@zhwin.ch>


I am a user of R, but I don't read current R-mail's, because I use it
seldom. I should solve a factor analysis, but I don't find a proper R
function, like the function factanal in S-Plus. Does someone can tell
me, if there exist an R-analoge- function?

I I'am glad to here, if someone can help me

thanks           Sigrid

--
Z?rcher Hochschule Winterthur
Departement Physik und Mathematik

Dr. Sigrid M?nkeberg
Geb?ude TS 304
Postfach 805
8401 Winterthur
---------------

Tel.:    052 267 78 04
e-mail:  sigrid.moenkeberg at zhwin.ch
----------------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From apjaworski at mmm.com  Thu Dec 21 20:55:36 2000
From: apjaworski at mmm.com (apjaworski@mmm.com)
Date: Thu, 21 Dec 2000 13:55:36 -0600
Subject: [R] RH7.0 compilation
Message-ID: <OF63E73F1B.20570FBA-ON862569BC.0069BB85@mmm.com>

Hi everyone,

Like most people with RH7.0 Linux, I had problems with their "experimental"
gcc-2.96 compiler.  To circumvent the problem, I installed stock gcc-2.95.2
in the /usr/local tree, so it will be picked up first as /usr/local/bin if
before /usr/bin on my PATH.  With this setup I was able to compile R-1.2.0
straight out of the box (as well as compile Linux kernels).  One problem I
had, however, was that the Matrix package would not link, with linker
complaining about  "undefined versioned symbol name clog@@GLIBC_2.1".

Yesterday I downloaded updated RPMs for the gcc compiler from the RH site.
I installed them and, just to check them out, recompiled R-1.2.0 with it.
It compiled fine and passed all the checks.  Moreover, now the Matrix
package compiles and installs fine.  The only thing I see different is that
while compiling R-1.2.0 I get a bunch of warnings like this:

making devices.d from devices.c
In file included from devices.c:25:../../src/include/Defn.h:73:22: warning:
nothing can be pasted after this token
making dynload.d from dynload.c

and like this

FFTab.h:2:29: warning: pasting would not give a valid preprocessing token


Cheers,

Andy

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Dec 21 21:09:58 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 21 Dec 2000 20:09:58 +0000 (GMT)
Subject: [R] Factor analysis with R
In-Reply-To: <3A424110.536FE2B5@zhwin.ch>
Message-ID: <Pine.GSO.4.05.10012212006420.16847-100000@auk.stats>

On Thu, 21 Dec 2000, Sigrid [iso-8859-1] Mnkebeberg wrote:

> 
> I am a user of R, but I don't read current R-mail's, because I use it
> seldom. I should solve a factor analysis, but I don't find a proper R
> function, like the function factanal in S-Plus. Does someone can tell
> me, if there exist an R-analoge- function?

Not as far as I mnow, but I am working on one (and was this afternoon).
It is planned for 1.2.1.

I am not sure tha `factanal in S-Plus' is `proper' though.  One problem
is knowing *exactly* what factor analysis is and what algorithm has been
implemented.  It seems to be defined by some ill-documented code of
Joreskog, based on outdated optimization methods (even when it was
written).  One aim of writing optim() in R was to use it for this.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Thu Dec 21 21:46:02 2000
From: chong at stat.purdue.edu (Chong Gu)
Date: Thu, 21 Dec 2000 15:46:02 -0500
Subject: [R] factor support added in gss
Message-ID: <200012212046.PAA100864@odds.stat.purdue.edu>


I just uploaded version 0.5-1 of the gss package to CRAN.  Factors are
now accepted for smoothing.

Chong
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Dec 21 21:57:40 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 21 Dec 2000 21:57:40 +0100
Subject: [R] Re: [Rd] RH7.0 compilation
In-Reply-To: apjaworski@mmm.com's message of "Thu, 21 Dec 2000 13:55:36 -0600"
References: <OF63E73F1B.20570FBA-ON862569BC.0069BB85@mmm.com>
Message-ID: <x27l4t3323.fsf@blueberry.kubism.ku.dk>

apjaworski at mmm.com writes:

> Hi everyone,
> 
> Like most people with RH7.0 Linux, I had problems with their "experimental"
> gcc-2.96 compiler.  To circumvent the problem, I installed stock gcc-2.95.2
> in the /usr/local tree, so it will be picked up first as /usr/local/bin if
> before /usr/bin on my PATH.  With this setup I was able to compile R-1.2.0
> straight out of the box (as well as compile Linux kernels).  One problem I
> had, however, was that the Matrix package would not link, with linker
> complaining about  "undefined versioned symbol name clog@@GLIBC_2.1".
> 
> Yesterday I downloaded updated RPMs for the gcc compiler from the RH site.
> I installed them and, just to check them out, recompiled R-1.2.0 with it.
> It compiled fine and passed all the checks.  Moreover, now the Matrix
> package compiles and installs fine.  The only thing I see different is that
> while compiling R-1.2.0 I get a bunch of warnings like this:
> 
> making devices.d from devices.c
> In file included from devices.c:25:../../src/include/Defn.h:73:22: warning:
> nothing can be pasted after this token
> making dynload.d from dynload.c
> 
> and like this
> 
> FFTab.h:2:29: warning: pasting would not give a valid preprocessing token

I think these  are harmless and it should work to remove the  ## in
the constructions

# define DYNLOADEXT  "." ## SHLIB_EXT

and

# define F77_QSYMBOL(x)	#x ## "_"

You're not supposed to use ## to stick text strings together like
that, only tokens, but it seems to have worked with all other
compilers. (I think we analyzed this earlier and decided not to change
the code, but I forgot why. Maybe we just plain forgot to fix it.)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From novo at uiuc.edu  Thu Dec 21 22:44:49 2000
From: novo at uiuc.edu (=?iso-8859-1?q?=C1lvaro=20A=2E=20Novo?=)
Date: Thu, 21 Dec 2000 15:44:49 -0600
Subject: [R] terms() and I(  ) -- extract variables names only
Message-ID: <0012211544490G.00435@friedman>

Hi,

I am having difficulties extracting all variables used in a formula. Here's 
an example of what I am doing:

> my.formula <- v1 ~ v2 + v3 + I(v4/v5)
> out.terms <- terms(my.formula)
> paste(attr(out.terms, "variables"))[-1]
[1] "v1"       "v2"       "v3"       "I(v4/v5)"

BUT what I would like to get is

[1] "v1"       "v2"       "v3"       "v4"       "v5"

Also, if I change I(v4/v5) to I(v4^2) or any other expression, it should only 
extract the variable (here, V4).

Is there a built-in function to do it? Suggestions are extremely appreciated. 
Thank you for your attention,

Alvaro A. Novo
R-1.2.0
Linux SuSE 6.4
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yuling5 at yahoo.com  Thu Dec 21 22:52:20 2000
From: yuling5 at yahoo.com (Yu-Ling Wu)
Date: Thu, 21 Dec 2000 13:52:20 -0800 (PST)
Subject: [R] RODBC install unsuccessfully
Message-ID: <20001221215220.80829.qmail@web11501.mail.yahoo.com>

Hi,

I use R under Windows NT. I download "RODBC.zip" and
unzip it to 
"e:/R/rm1011/lib/" in order to connect to MySQL. And
then I add an MySQL 
ODBC data source in the Control Panel. When I type
"library()" under R, 
I can see "RODBC" is one of the packages. However,
when I type "library
(RODBC)", I got an error message like this:

The procedure entry point INTEGER could not be located
in the dynamic link library R.dll

How to solve this probelm?

Many thanks,
Yu-Ling Wu

__________________________________________________
Do You Yahoo!?
Yahoo! Shopping - Thousands of Stores. Millions of Products.
http://shopping.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Thu Dec 21 22:54:10 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Thu, 21 Dec 2000 13:54:10 -0800 (PST)
Subject: [R] terms() and I(  ) -- extract variables names only
In-Reply-To: <0012211544490G.00435@friedman>
Message-ID: <Pine.GSO.4.21.0012211353560.27988-100000@atlas.biostat.washington.edu>

On Thu, 21 Dec 2000, [iso-8859-1] lvaro A. Novo wrote:

> Hi,
> 
> I am having difficulties extracting all variables used in a formula. Here's 
> an example of what I am doing:
> 
> > my.formula <- v1 ~ v2 + v3 + I(v4/v5)
> > out.terms <- terms(my.formula)
> > paste(attr(out.terms, "variables"))[-1]
> [1] "v1"       "v2"       "v3"       "I(v4/v5)"
> 
> BUT what I would like to get is
> 
> [1] "v1"       "v2"       "v3"       "v4"       "v5"
> 
> Also, if I change I(v4/v5) to I(v4^2) or any other expression, it should only 
> extract the variable (here, V4).
> 
> Is there a built-in function to do it? Suggestions are extremely appreciated. 

all.vars()

	-thomas
Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From novo at uiuc.edu  Thu Dec 21 23:12:22 2000
From: novo at uiuc.edu (=?iso-8859-1?q?=C1lvaro=20A=2E=20Novo?=)
Date: Thu, 21 Dec 2000 16:12:22 -0600
Subject: [R] terms() and I( ) -- extract variables names only
In-Reply-To: <Pine.GSO.4.21.0012211353560.27988-100000@atlas.biostat.washington.edu>
References: <Pine.GSO.4.21.0012211353560.27988-100000@atlas.biostat.washington.edu>
Message-ID: <0012211612220J.00435@friedman>

On Thursday 21 December 2000 15:54, Thomas Lumley wrote:
   > all.vars()
   >

Thank you.. it had to be easy... :-) 

Alvaro
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Thu Dec 21 23:49:03 2000
From: feldesmanm at pdx.edu (Marc Feldesman)
Date: Thu, 21 Dec 2000 14:49:03 -0800
Subject: [R] Legends on plots
Message-ID: <5.0.2.1.2.20001221143801.00a6b530@127.0.0.1>

I'm trying to develop a systematic way of placing legends on (among other 
things) scatterplots of grouped data.  The journals in my field can be very 
fussy about the placement of figure legends.  Typically they want them to 
be in either of two places - the upper left corner of the plotting area, 
not obscuring any data points, or outside the plotting area in the lower 
right hand corner of the figure with the bottom of the legend aligned with 
the x-axis line.

My preference is to place them in the upper left-hand corner of the 
plotting area if space is available.  I can do this interactively with 
locator(1), and I can place them directly by querying par("usr") to find 
the coordinates of the upper left-hand corner.  I prefer the latter 
solution, but obviously I have to know that there will be no data points 
obscured by this placement.   What is the recommended programming solution 
to determine whether enough plot space exists to place the legend in this 
location?

Thanks,



=====================
Dr. Marc R. Feldesman
Professor and Chairman
Anthropology Department
Portland State University
1721 SW Broadway
Portland, Oregon 97201
email:  feldesmanm at pdx.edu
phone:  503-725-3081
fax:    503-725-3905
http://web.pdx.edu/~h1mf
PGP Key Available On Request
======================

"Anyway, no drug, not even alcohol, causes the fundamental ills of society.
If we're looking for the source of our troubles, we shouldn't test people
for drugs, we should test them for stupidity, ignorance, greed and love of
power."   P.J. O'Rourke

Powered by Optiplochoerus and Windows 2000 (scary isn't it?)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Dec 21 23:58:15 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 21 Dec 2000 23:58:15 +0100
Subject: [R] RODBC install unsuccessfully
In-Reply-To: Yu-Ling Wu's message of "Thu, 21 Dec 2000 13:52:20 -0800 (PST)"
References: <20001221215220.80829.qmail@web11501.mail.yahoo.com>
Message-ID: <x2ae9ppek8.fsf@blueberry.kubism.ku.dk>

Yu-Ling Wu <yuling5 at yahoo.com> writes:

> Hi,
> 
> I use R under Windows NT. I download "RODBC.zip" and
> unzip it to 
> "e:/R/rm1011/lib/" in order to connect to MySQL. And
          ^^^^

Did you get the version that's compiled for R 1.2.0? That would
explain it. Check out

http://cran.r-project.org/bin/windows/windows-NT/contrib/ReadMe

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vograno at arbitrade.com  Fri Dec 22 00:49:15 2000
From: vograno at arbitrade.com (Vadim Ogranovich)
Date: Thu, 21 Dec 2000 17:49:15 -0600
Subject: [R] read.table memory requirements
Message-ID: <AFD78192EC49D311BFAE00902798AB8F0BDCBE@jupiter.sc.arbitrade.com>

Hi,

I tried to read in a big table (1.4M rows, 4 fields each) using read.table()
and ran out of 'cons' memory with the following message:
Error: cons memory (2800000 cells) exhausted

Could someone please explain how to guess required nsize? My understanding
of help(Memory) is that 'cons' memory should not be a limitation unless you
create many "language" objects.
Another question is there any more memory efficient than read.table way to
create a data frame from a table?

I use:
> version
         _         
platform Windows   
arch     x86       
os       Win32     
system   x86, Win32
status             
major    1         
minor    1.1       
year     2000      
month    August    
day      15        
language R         
>

And this is the shortcut to run R:

D:\R\rw1011\bin\Rgui.exe --nsize=2800k --vsize=100M

Thank you,
Vadim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Fri Dec 22 01:59:02 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Thu, 21 Dec 2000 16:59:02 -0800 (PST)
Subject: [R] read.table memory requirements
In-Reply-To: <AFD78192EC49D311BFAE00902798AB8F0BDCBE@jupiter.sc.arbitrade.com>
Message-ID: <Pine.GSO.4.21.0012211657420.27988-100000@atlas.biostat.washington.edu>

On Thu, 21 Dec 2000, Vadim Ogranovich wrote:

> Hi,
> 
> I tried to read in a big table (1.4M rows, 4 fields each) using read.table()
> and ran out of 'cons' memory with the following message:
> Error: cons memory (2800000 cells) exhausted
> 
> Could someone please explain how to guess required nsize? My understanding
> of help(Memory) is that 'cons' memory should not be a limitation unless you
> create many "language" objects.

One simple and general solution is to upgrade to 1.2.0, where memory size
is adjusted automatically.

I don't think we have ever worked out the exact memory requirements of
read.table.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Fri Dec 22 03:53:49 2000
From: feldesmanm at pdx.edu (Marc R. Feldesman)
Date: Thu, 21 Dec 2000 18:53:49 -0800
Subject: [R] Legends on plots
In-Reply-To: <5.0.2.1.2.20001221143801.00a6b530@127.0.0.1>
Message-ID: <5.0.2.1.2.20001221185208.00b2b740@127.0.0.1>

At 02:49 PM 12/21/00 -0800, Marc Feldesman wrote:

 >the coordinates of the upper left-hand corner.  I prefer the latter
 >solution, but obviously I have to know that there will be no data points
 >obscured by this placement.   What is the recommended programming solution
 >to determine whether enough plot space exists to place the legend in this
 >location?


I know the obvious answer is to LOOK at the plot to see if there is enough 
space, but I'm talking about doing this systematically with as many as 25 
or 30 different plots in succession.  It would be a lot handier to let the 
program do the work for me than to manually place legends on each graph.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Fri Dec 22 04:21:16 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Thu, 21 Dec 2000 22:21:16 -0500 (EST)
Subject: [R] Legends on plots
In-Reply-To: <5.0.2.1.2.20001221143801.00a6b530@127.0.0.1>
Message-ID: <Pine.LNX.4.30.0012212218160.27104-100000@bolker.zoo.ufl.edu>


  Check Frank Harrell's "hmisc" collection on the S archive
(http://lib.stat.cmu.edu/S/Harrell).  He explicitly forbids porting to R,
but I can't imagine it's illegal or even unethical to look at his code to
see what he does -- he has some fairly fancy stuff for auto-placement of
legends/text that you might be able to adapt.

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From M.McStephen at papyrus.mhri.edu.au  Fri Dec 22 04:49:55 2000
From: M.McStephen at papyrus.mhri.edu.au (Michael McStephen)
Date: Fri, 22 Dec 2000 14:49:55 +1100
Subject: [R] Using variable names in data frame
In-Reply-To: <7AF4844205FB@enigma.mhri.edu.au>
Message-ID: <159BED4D3C72@enigma.mhri.edu.au>

Hi All,

I'm trying to use the names from a data frame to display data in the 
frame:

> data.n<-names(data) # put names into a vector called data.n
data.n[1]
[1] "ID"

>
> paste("data$",data.n[1],sep="") # create the name of the column in 
the dataframe
[1] "data$ID"
 
> as.symbol(paste("data$",data.n[1],sep=""))
data$ID

> eval(as.symbol(paste("data$",data.n[1],sep="")))
Error in eval(expr, envir, enclos) : Object "data$ID" not found
> 

I want to be able to list the contents of data$ID by using data.n[1] 
just as I would by typing data$ID at the > prompt.

Thanks for any help.

Michael.

----------------------------------------------------------
Michael McStephen          M.McStephen at papyrus.mhri.edu.au
MHRI                       Ph:  +613 9389 2931
Locked Bag 11              Fax: +613 9387 5061
PARKVILLE 3052
VICTORIA
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cjlu at ibm.stat.ncku.edu.tw  Fri Dec 22 07:20:44 2000
From: cjlu at ibm.stat.ncku.edu.tw (C. Joseph Lu)
Date: Fri, 22 Dec 2000 14:20:44 +0800
Subject: [R] Do we have similar function to Minitab's INDICATOR?
Message-ID: <3A42F2BC.866D2ADE@email.stat.ncku.edu.tw>

Dear R-Friends,

Do we have a similar R function to work like Minitab's INDICATOR?

INDICATOR  C2, C11-C15

    C2          C11 C12 C13 C14 C15
    2             1   0   0   0   0
    2             1   0   0   0   0
    5 ------>     0   0   0   1   0
    3             0   1   0   0   0
    6             0   0   0   0   1
    5             0   0   0   1   0
    *             *   *   *   *   *
where * is missing code in Minitab.

Best regards,

C. Joseph Lu
Department of Statistics
National Cheng-Kung University
Tainan, Taiwan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Dec 22 08:35:42 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 22 Dec 2000 07:35:42 +0000 (GMT)
Subject: [R] Using variable names in data frame
In-Reply-To: <159BED4D3C72@enigma.mhri.edu.au>
Message-ID: <Pine.GSO.4.05.10012220732330.17004-100000@auk.stats>

On Fri, 22 Dec 2000, Michael McStephen wrote:

> Hi All,
> 
> I'm trying to use the names from a data frame to display data in the 
> frame:
> 
> > data.n<-names(data) # put names into a vector called data.n
> data.n[1]
> [1] "ID"
> 
> >
> > paste("data$",data.n[1],sep="") # create the name of the column in 
> the dataframe
> [1] "data$ID"
>  
> > as.symbol(paste("data$",data.n[1],sep=""))
> data$ID
> 
> > eval(as.symbol(paste("data$",data.n[1],sep="")))
> Error in eval(expr, envir, enclos) : Object "data$ID" not found
> > 
> 
> I want to be able to list the contents of data$ID by using data.n[1] 
> just as I would by typing data$ID at the > prompt.

data$ID is not a name but an expression.  So you need to parse it before
evaluation, as in

eval(parse(text=paste("data$",data.n[1],sep="")))

However, I strongly suspect that what you really need is to use
data[, data.n[1]] to get the column named by data.n[1].


> 
> Thanks for any help.
> 
> Michael.
> 
> ----------------------------------------------------------
> Michael McStephen          M.McStephen at papyrus.mhri.edu.au
> MHRI                       Ph:  +613 9389 2931
> Locked Bag 11              Fax: +613 9387 5061
> PARKVILLE 3052
> VICTORIA
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cjlu at ibm.stat.ncku.edu.tw  Fri Dec 22 08:37:27 2000
From: cjlu at ibm.stat.ncku.edu.tw (C. Joseph Lu)
Date: Fri, 22 Dec 2000 15:37:27 +0800
Subject: [R] Found "answer" to my question on MTB's INDICATOR
Message-ID: <3A4304B7.73C5FA62@email.stat.ncku.edu.tw>

Dear R-Friends,

Sorry to bother everyone with my earlier question:
    "Do we have similar R function to work like Minitab's INDICATOR?"

I found the way to make things work: e.g.,
> x <- c(2,2,5,3,6,5,NA)
> model.matrix(~ factor(x) - 1)
  factor(x)2 factor(x)3 factor(x)5 factor(x)6
1          1          0          0          0
2          1          0          0          0
3          0          0          1          0
4          0          1          0          0
5          0          0          0          1
6          0          0          1          0
attr(,"assign")
[1] 1 1 1 1

NA does not appear, fine with me.

Certainly, this is not exactly the same as Minitab's INDICATOR:

INDICATOR  C2, C11-C15

    C2          C11 C12 C13 C14 C15
    2             1   0   0   0   0
    2             1   0   0   0   0
    5 ------>     0   0   0   1   0
    3             0   1   0   0   0
    6             0   0   0   0   1
    5             0   0   0   1   0
    *             *   *   *   *   *
where * is missing code in Minitab.

Certainly, I still welcome any suggestion that you might have.

Best regards,

C. Joseph Lu
Department of Statistics
National Cheng-Kung University
Tainan, Taiwan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thadani at tkk.att.ne.jp  Fri Dec 22 08:40:42 2000
From: thadani at tkk.att.ne.jp (Dilip N. Thadani)
Date: Fri, 22 Dec 2000 16:40:42 +0900
Subject: [R] Legends on plots
In-Reply-To: <Pine.LNX.4.30.0012212218160.27104-100000@bolker.zoo.ufl.edu>
Message-ID: <000001c06bea$7c98c580$0200a8c0@grandslam>

Thats strange.  Why would he explicitly forbid porting to R?

-----Original Message-----
From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of ben at zoo.ufl.edu
Sent: Friday, December 22, 2000 12:21 PM
To: Marc Feldesman
Cc: r-help at stat.math.ethz.ch
Subject: Re: [R] Legends on plots



  Check Frank Harrell's "hmisc" collection on the S archive
(http://lib.stat.cmu.edu/S/Harrell).  He explicitly forbids porting to R,
but I can't imagine it's illegal or even unethical to look at his code to
see what he does -- he has some fairly fancy stuff for auto-placement of
legends/text that you might be able to adapt.

--
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Fri Dec 22 10:15:48 2000
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Fri, 22 Dec 2000 10:15:48 +0100
Subject: [R] Using variable names in data frame
Message-ID: <3.0.32.20001222101548.00900cc0@162.38.183.200>

At 14:49 22/12/00 +1100, M.McStephen at papyrus.mhri.edu.au wrote:
>Hi All,
>
>I'm trying to use the names from a data frame to display data in the 
>frame:
>
>> data.n<-names(data) # put names into a vector called data.n
>data.n[1]
>[1] "ID"
>
>>
>> paste("data$",data.n[1],sep="") # create the name of the column in 
>the dataframe
>[1] "data$ID"
> 
>> as.symbol(paste("data$",data.n[1],sep=""))
>data$ID
>
>> eval(as.symbol(paste("data$",data.n[1],sep="")))
>Error in eval(expr, envir, enclos) : Object "data$ID" not found
>> 
>
>I want to be able to list the contents of data$ID by using data.n[1] 
>just as I would by typing data$ID at the > prompt.

Maybe what you want is:

eval(parse(text=paste("data$",data.n[1],sep="")))


Emmanuel Paradis
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Dec 22 10:31:40 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Dec 2000 10:31:40 +0100
Subject: [R] Found "answer" to my question on MTB's INDICATOR
In-Reply-To: "C. Joseph Lu"'s message of "Fri, 22 Dec 2000 15:37:27 +0800"
References: <3A4304B7.73C5FA62@email.stat.ncku.edu.tw>
Message-ID: <x2k88s7qf7.fsf@blueberry.kubism.ku.dk>

"C. Joseph Lu" <cjlu at ibm.stat.ncku.edu.tw> writes:

> Dear R-Friends,
> 
> Sorry to bother everyone with my earlier question:
>     "Do we have similar R function to work like Minitab's INDICATOR?"
> 
> I found the way to make things work: e.g.,
> > x <- c(2,2,5,3,6,5,NA)
> > model.matrix(~ factor(x) - 1)
>   factor(x)2 factor(x)3 factor(x)5 factor(x)6
> 1          1          0          0          0
> 2          1          0          0          0
> 3          0          0          1          0
> 4          0          1          0          0
> 5          0          0          0          1
> 6          0          0          1          0
> attr(,"assign")
> [1] 1 1 1 1
> 
> NA does not appear, fine with me.
> 
> Certainly, this is not exactly the same as Minitab's INDICATOR:
> 
> INDICATOR  C2, C11-C15
> 
>     C2          C11 C12 C13 C14 C15
>     2             1   0   0   0   0
>     2             1   0   0   0   0
>     5 ------>     0   0   0   1   0
>     3             0   1   0   0   0
>     6             0   0   0   0   1
>     5             0   0   0   1   0
>     *             *   *   *   *   *
> where * is missing code in Minitab.
> 
> Certainly, I still welcome any suggestion that you might have.

Looks like Minitab is creating a column of zeroes for the non-existing
level "4". You can get that with

> x <- c(2,2,5,3,6,5,NA)
> xf <- factor(x,levels=2:6)
> model.matrix(~xf-1)
  xf2 xf3 xf4 xf5 xf6
1   1   0   0   0   0
2   1   0   0   0   0
3   0   0   0   1   0
4   0   1   0   0   0
5   0   0   0   0   1
6   0   0   0   1   0
attr(,"assign")
[1] 1 1 1 1 1


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From adrian at olsen.ch  Fri Dec 22 13:22:57 2000
From: adrian at olsen.ch (Adrian Trapletti)
Date: Fri, 22 Dec 2000 13:22:57 +0100
Subject: [R] updated tseries
Message-ID: <3A4347A1.2CFD9592@olsen.ch>

Dear colleagues,

the tseries package is updated and should now work with R-1.2.0.

best and merry Xmas

Adrian

--
Adrian Trapletti, Olsen & Associates   Ltd., See-
feldstrasse 233,   CH-8008  Z?rich,   Switzerland
Phone: +41 (1) 386 48 48   Fax: +41 (1) 422 22 82
E-mail: adrian at olsen.ch  WWW: http://www.olsen.ch



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rasmus.benestad at dnmi.no  Fri Dec 22 13:16:18 2000
From: rasmus.benestad at dnmi.no (Rasmus E. Benestad)
Date: Fri, 22 Dec 2000 12:16:18 +0000
Subject: [R] REading the netCDF format into R
Message-ID: <3A434612.BECB5C1F@dnmi.no>

Hi!

I have been coding a C-program which will read data from the
netCDF format (a commonly used file format in the geophysical research
community: see Unidata's URL for explanation:
http://www.unidata.ucar.edu/packages/netcdf/), and have got to the point
where I don't know what the error message mean. The C-program is called
nc2r.c.

When compiling the code, I get a number of warnings, but these are the
same warnings that I get when I compile a corresponding code that runs
on its own (i.e. doesn't use the R-libraries)

cc -shared -lc  -o nc2r.so nc2r.c -I/home/matlab6/extern/include
-I/usr/include -I/usr/lib/R/include -I/home/kareb/local/include
-L/usr/lib/gcc-lib/i386-linux/2.95.2 /usr/lib/libnetcdf.a  -lg2c -lm
nc2r.c: In function `ncread':
nc2r.c:259: warning: assignment makes integer from pointer without a
cast
nc2r.c:260: warning: assignment makes integer from pointer without a
cast
nc2r.c:261: warning: assignment makes integer from pointer without a
cast
nc2r.c:262: warning: assignment makes integer from pointer without a
cast
nc2r.c:263: warning: assignment makes integer from pointer without a
cast
nc2r.c: In function `nc2r':
nc2r.c:310: warning: assignment from incompatible pointer type
nc2r.c:311: warning: assignment from incompatible pointer type
nc2r.c:312: warning: assignment from incompatible pointer type
nc2r.c:325: warning: assignment from incompatible pointer type
nc2r.c:330: warning: assignment from incompatible pointer type
nc2r.c:335: warning: assignment from incompatible pointer type
nc2r.c:340: warning: assignment from incompatible pointer type
nc2r.c:345: warning: assignment from incompatible pointer type

The code is compiled, and I start R:

R : Copyright 1999, The R Development Core Team
Version 0.90.1  (December 15, 1999)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type "?license" or "?licence" for distribution details.

R is a collaborative project with many contributors.
Type "?contributors" for a list.

Type "demo()" for some demos, "help()" for on-line help, or
     "help.start()" for a HTML browser interface to help.
Type "q()" to quit R.

> dyn.load(paste("nc2r", .Platform$dynlib.ext, sep=""))
Error in dyn.load(x, as.logical(local), as.logical(now)) : unable to
load shared library "/home/kareb/netcdf/nc2r.so":
  /home/kareb/netcdf/nc2r.so: undefined symbol: __dso_handle

The symbol "__dso_handle" I presume is defined in Rinternals.h or some
R-routines, or am I wrong? Are my R-path set incorrectly? Why does R say
that it cannot load nc2r.so, when this file is in the local directory?
There were some clashes between definitions in R.h and Rinternals.h, so
I did not include R.h.


Also, is ther any way of returning more than one object from the C-call
(ie. the data field, longitude vector, latitude vector, time vector, and
the missing value)

Yours sincerely Rasmus Benestad

-----------------------------------------------------------------------
The main part of the code looks like:


SEXP nc2r(char **fname, char **vname){

  int ncread();
  int status,i,j,k,nx,ny,nt;
  long int ptrs[5];        /* array of pointers holding locations */
                           /* returned by malloc in ncread */
  double ofs, scl;                             /* offset and scaling
factors */
  double  *ptr;
  SEXP field, dim, dimnames, lon, lat, tim, missing;

  printf("ncfile= %s, vname=%s\n",fname,vname);

  printf("\nfield->%x\nlon -> %x\nlat -> %x\ntim -> %x\nmissing ->
%x\n",
         field,lon,lat,tim,missing);

  /* Call the function dealing with the netCDF data */
  /* The data is placed in memeory */

  status=ncread(fname, vname, &nx, &ny, &nt, &ptrs, &scl, &ofs);

  /* Allocate space for pointers */
  /* Use PROTECT to ensure R doesn't mess with the data */

  PROTECT(field =  allocVector(REALSXP,nx*ny*nt));
  PROTECT(lon =    allocVector(REALSXP,nx));
  PROTECT(lat =    allocVector(REALSXP,ny));
  PROTECT(tim =    allocVector(REALSXP,nt));
  PROTECT(missing= allocVector(REALSXP,1));
  PROTECT(dim=     allocVector(INTSXP,3));

  /* Set the dimensions */
  /* Index oredring: i=0:nx-1, j=0:ny-1 -> i + nx * j */
  /* See Writing R extensions manual p. 26 */

  INTEGER(dim)[0]=nx;
  INTEGER(dim)[1]=ny;
  INTEGER(dim)[2]=nt;
  setAttrib(field, R_DimSymbol, dim);

  PROTECT(dimnames = allocVector(VECSXP, 3));
  VECTOR(dimnames)[0]="Lon";
  VECTOR(dimnames)[1]="Lat";
  VECTOR(dimnames)[2]="Time";

  setAttrib(field, R_DimNamesSymbol, dimnames);

  printf("\nfield->%x\nlon -> %x\nlat -> %x\ntim -> %x\nmissing ->
%x\n",
         field,lon,lat,tim,missing);
  printf("The dimensions are (nx x ny x nt): %d x %d x %d \n",nx,ny,nt);

  printf("\nCopy into R-objects\n");

  /* Copy the data to the R-objects */


  ptr=&ptrs[0];
  for (i=0;i<nx*ny*nt;i++) {
         REAL(field)[i] = *(ptr+i) * scl + ofs;
  }

  ptr=&ptrs[1];
  for (i=0;i<nx;i++) {
    REAL(lon)[i] = *(ptr+i);
  }

  ptr=&ptrs[2];
  for (j=0;j<ny;j++) {
    REAL(lat)[j] = *(ptr+j);
  }

  ptr=&ptrs[3];
  for (k=0;k<nt;k++) {
    REAL(tim)[k] = *(ptr+k);
  }

  ptr=&ptrs[4];
  REAL(missing)[1]=*ptr;

  printf("\nFinished successfully!\n");

  /* Garbage collecting */

  UNPROTECT(7);

  return(field);
}

--
______________________________________________________________________________
Rasmus E. Benestad, D.Phil, GradInstP,  The Norwegian Meteorological Institute
rasmus.benestad at dnmi.no             http://home.enitel.no/benestad/rasmus.html
phone: (+47) 22 96 31 70   mobile: (+47) 99 45 04 16    fax: (+47) 22 96 30 50
______________________________________________________________________________


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20001222/fa9a5581/attachment.html

From ripley at stats.ox.ac.uk  Fri Dec 22 16:34:00 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 22 Dec 2000 15:34:00 +0000 (GMT)
Subject: [R] REading the netCDF format into R
In-Reply-To: <3A434612.BECB5C1F@dnmi.no>
Message-ID: <Pine.GSO.4.05.10012221522550.3570-100000@toucan.stats>

On Fri, 22 Dec 2000, Rasmus E. Benestad wrote:

> Hi!
> 
> I have been coding a C-program which will read data from the
> netCDF format (a commonly used file format in the geophysical research
> community: see Unidata's URL for explanation:
> http://www.unidata.ucar.edu/packages/netcdf/), and have got to the point
> where I don't know what the error message mean. The C-program is called
> nc2r.c.

First off, have you looked at the netCDF package in the Devel section of
CRAN?

Second, please do not expect us to debug things on a versiuon of R that is
about 6 versions old.  Please get 1.2.0, re-write your code to the current 
standards and try again, as your code will not wokr on the current
systems.  (Actually, neither will netCDF, but I sent Thomas Lumley a
patched version that will.)

> The code is compiled, and I start R:
> 
> R : Copyright 1999, The R Development Core Team
> Version 0.90.1  (December 15, 1999)
          ^^^^^^

> > dyn.load(paste("nc2r", .Platform$dynlib.ext, sep=""))
> Error in dyn.load(x, as.logical(local), as.logical(now)) : unable to
> load shared library "/home/kareb/netcdf/nc2r.so":
>   /home/kareb/netcdf/nc2r.so: undefined symbol: __dso_handle
> 
> The symbol "__dso_handle" I presume is defined in Rinternals.h or some
> R-routines, or am I wrong? 

You are wrong.  It is defined in your shared object, not R.  Use nm to
check this out.

> Are my R-path set incorrectly? Why does R say
> that it cannot load nc2r.so, when this file is in the local directory?

Because it cannot resolve the symbol: it gave you a detailed explanation.

> There were some clashes between definitions in R.h and Rinternals.h, so
> I did not include R.h.

Not any more (and I don;t recall there ever being): please upgrade to a
tolerably recent version of R, like 1.2.0.

> Also, is ther any way of returning more than one object from the C-call
> (ie. the data field, longitude vector, latitude vector, time vector, and
> the missing value)

Yes, return a list just as you would in S code.

[...[

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Fri Dec 22 16:38:02 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 22 Dec 2000 09:38:02 -0600
Subject: [R] REading the netCDF format into R
In-Reply-To: "Rasmus E. Benestad"'s message of "Fri, 22 Dec 2000 12:16:18 +0000"
References: <3A434612.BECB5C1F@dnmi.no>
Message-ID: <6rwvcs31r9.fsf@franz.stat.wisc.edu>

Have you checked the netCDF package on CRAN in the bin/contrib/Devel
section?  Getting that to install may be easier than writing your own
code from scratch.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy at arcriswell.com  Fri Dec 22 17:51:42 2000
From: andy at arcriswell.com (Andrew Criswell)
Date: Fri, 22 Dec 2000 23:51:42 +0700
Subject: [R] TSERIES package dependencies
Message-ID: <002201c06c37$7b844140$3b8392cb@andrew8gpipq9q>

Hello All:

In the package "tseries" I observed a dependency with pacakge "mva". But, I can't find this package on CRAN. Is this package actually required and if so, where can I locate it?

ANDREW

P.S. I am using R 1.2.0 on linux mandrake 7.1 platform.
P.P.S. the info on tseries follows from CRAn below:
--------------------------------------------------------------------
tseries: Package for time series analysis with emphasize on non-linear and non-stationary modelling.

Version:0.7-0

Depends:package ts (included in the R release), white.test needs package mva, portfolio.optim needs package quadprog, get.hist.quote needs package chron.

Date:2000/20/12

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20001222/301558e0/attachment.html

From thomas at biostat.washington.edu  Fri Dec 22 18:07:59 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Fri, 22 Dec 2000 09:07:59 -0800 (PST)
Subject: [R] Legends on plots
In-Reply-To: <5.0.2.1.2.20001221185208.00b2b740@127.0.0.1>
Message-ID: <Pine.GSO.4.21.0012220830440.4819-100000@atlas.biostat.washington.edu>


> At 02:49 PM 12/21/00 -0800, Marc Feldesman wrote:
> 
>  >the coordinates of the upper left-hand corner.  I prefer the latter
>  >solution, but obviously I have to know that there will be no data points
>  >obscured by this placement.   What is the recommended programming solution
>  >to determine whether enough plot space exists to place the legend in this
>  >location?

There isn't an easy way to do this.  The brute force solution is
straightforward but tedious. You need to write a wrapper for plot that
works out the range of x and y, uses strwidth to work out the amount of
space needed for the legend, and then checks to see if the rectangle of
space it needs contains any points.

It would be easier to add the necessary space rather than working out if
there's enough. The following is general but shows the idea. 

The parameter "fudgefactor" depends on the device and text size: its the
number of lines of legend that take up the whole screen.

legend.call is a list of arguments to legend() without the (x,y)

eg 
plotwithlegend(x,y,pch=z,legend.call=list(legend=c("one","two"),
					pch=1:2,bty="n"))


plotwithlegend<-function(x,y,...,xlim=NULL,ylim=NULL,legend.call=NULL,
		fudgefactor=20){
     legendlines<-length(legend.call$legend)
     if (is.null(ylim)) ylim<-range(y)
     if (is.null(xlim)) xlim<-range(x)
     ylim[2]<-ylim[2]+(legendlines+2)*diff(ylim)/(fudgefactor-legendlines)
     plot(x,y,...,ylim=ylim)
     legend.call$x<-xlim[1]
     legend.call$y<-ylim[2]
     do.call("legend",legend.call)
}


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Fri Dec 22 18:18:14 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Fri, 22 Dec 2000 09:18:14 -0800 (PST)
Subject: [R] Do we have similar function to Minitab's INDICATOR?
In-Reply-To: <3A42F2BC.866D2ADE@email.stat.ncku.edu.tw>
Message-ID: <Pine.GSO.4.21.0012220909190.4819-100000@atlas.biostat.washington.edu>

On Fri, 22 Dec 2000, C. Joseph Lu wrote:

> Dear R-Friends,
> 
> Do we have a similar R function to work like Minitab's INDICATOR?

You can do it with

outer(C2,sort(unique(C2)),function(i,j) as.numeric(i=j))

and model.matrix also does something similar.


	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Dec 22 18:34:02 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 22 Dec 2000 18:34:02 +0100
Subject: [R] TSERIES package dependencies
References: <002201c06c37$7b844140$3b8392cb@andrew8gpipq9q>
Message-ID: <3A43908A.7765FEE4@statistik.uni-dortmund.de>

> Andrew Criswell wrote:
> 
> Hello All:
> 
> In the package "tseries" I observed a dependency with pacakge "mva".
> But, I can't find this package on CRAN. Is this package actually
> required and if so, where can I locate it?

It is included in the R release itself.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Dec 22 20:52:09 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 22 Dec 2000 19:52:09 +0000 (GMT)
Subject: [R] factor analysis
Message-ID: <Pine.GSO.4.05.10012221935050.18206-100000@auk.stats>

I have put a preliminary version of factanal in a package at
http://www.stat.ox.ac.uk/pub/R/fa_0.1-1.tar.gz
and would appreciate feedback.  In particular

1) What else you might want.  Please give precise references with
algorithmic details, as that has been a major problem for me.

2) Some convincing examples of factor analysis. Most (literally) of the
ones I have looked at are local maxima, not global maxima, and the latter
(or the best guess at) are much less convincing.

I should say that more than 50% of the published examples I have
re-analyzed I am convinced are wrong, in that they failed to optimize the
likelihood or rotation criterion.  So checking this against other packages
has been frustrating.  It cross-checks pretty well against S-PLUS.

[As history, this is based on some code I wrote in 1995 to cross-check
S-PLUS when I first came across the discrepancies.]

All being well, a descendant of this will go into package mva in R 1.2.1.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at CMIS.CSIRO.AU  Sat Dec 23 02:21:27 2000
From: Bill.Venables at CMIS.CSIRO.AU (Bill.Venables@CMIS.CSIRO.AU)
Date: Sat, 23 Dec 2000 11:21:27 +1000
Subject: [R] Do we have similar function to Minitab's INDICATOR?
Message-ID: <2B7F04539DAFD311B61D009027D0DDA20C3B61@roper-cv.qld.cmis.CSIRO.AU>

Thomas Lumley writes:

> -----Original Message-----
> From: Thomas Lumley [mailto:thomas at biostat.washington.edu]
> Sent: Saturday, 23 December 2000 3:18
> To: C. Joseph Lu
> Cc: 'r-help'
> Subject: Re: [R] Do we have similar function to Minitab's INDICATOR?
> 
> 
> On Fri, 22 Dec 2000, C. Joseph Lu wrote:
> 
> > Dear R-Friends,
> > 
> > Do we have a similar R function to work like Minitab's INDICATOR?
> 
> You can do it with
> 
> outer(C2,sort(unique(C2)),function(i,j) as.numeric(i=j))
> 

BZZZzzzt! You meant to say     as.numeric(i == j)  

There are a number of ways of doing this in a fairly slick manner.  The one
above is the neatest that I know of, but the following one is also pretty
good and quite instructive.

v <- sort(unique(c2))
X <- matrix(0, length(c2), length(v))
X[cbind(1:length(c2), match(c2, v))] <- 1

The obvious one, X <- model.matrix(~ factor(c2) - 1), is what most people
would use in a one-off situation, I suppose, but for programming it would be
much less efficient than either of those above.

(I mention all this with some diffidence, though.  The number of times you
really need to generate an indicator matrix explicitly yourself is pretty
small.  You can usually achieve the same ultimate result by better means.)

Bill Venables

> and model.matrix also does something similar.
> 
> 
> 	-thomas
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Sat Dec 23 11:28:47 2000
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Sat, 23 Dec 2000 11:28:47 +0100
Subject: [R] factor analysis
In-Reply-To: <Pine.GSO.4.05.10012221935050.18206-100000@auk.stats>
References: <Pine.GSO.4.05.10012221935050.18206-100000@auk.stats>
Message-ID: <14916.32351.840025.950355@mithrandir.hornik.net>

>>>>> Prof Brian D Ripley writes:

> I have put a preliminary version of factanal in a package at
> http://www.stat.ox.ac.uk/pub/R/fa_0.1-1.tar.gz

NOTE: This should be
  http://www.stats.ox.ac.uk/pub/R/fa_0.1-1.tar.gz

> and would appreciate feedback.  In particular

> ...

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Dec 23 12:14:08 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 23 Dec 2000 11:14:08 +0000 (GMT)
Subject: [R] factor analysis
In-Reply-To: <14916.32351.840025.950355@mithrandir.hornik.net>
Message-ID: <Pine.GSO.4.05.10012231112440.19297-100000@auk.stats>

On Sat, 23 Dec 2000, Kurt Hornik wrote:

> >>>>> Prof Brian D Ripley writes:
> 
> > I have put a preliminary version of factanal in a package at
> > http://www.stat.ox.ac.uk/pub/R/fa_0.1-1.tar.gz
> 
> NOTE: This should be
>   http://www.stats.ox.ac.uk/pub/R/fa_0.1-1.tar.gz

Sorry about that. There is a pre-built Windows version there as fa.zip,
as requested by a couple of you.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Sun Dec 24 14:46:44 2000
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Sun, 24 Dec 2000 13:46:44 +0000
Subject: [R] Question about coplot() ...
In-Reply-To: <3A4065F3.C460552E@email.stat.ncku.edu.tw>
References: <3A4065F3.C460552E@email.stat.ncku.edu.tw>
Message-ID: <XDldITAE5fR6EwLi@myatt.demon.co.uk>

C. Joseph Lu <cjlu at ibm.stat.ncku.edu.tw> writes:
>Dear R-friends,
>
>For the following data:
>
>> xy
>     x     y i
>1  731 0.313 2
>2  739 0.340 2
>3  790 0.373 2
>4  855 0.451 2
>5  980 0.608 2
>6  575 0.156 1
>7  608 0.207 1
>8  630 0.249 1
>9  670 0.332 1
>10 838 0.377 1
>11 964 0.466 1
>
>> coplot(y ~ x|i, data=xy)
>coplot gives 3 panels, rather than 2, namely one for i=1 and one for
>i=2.
>
>Futhermore, when I extand data fram xy to have i=3 as follows:
>
>> xy
>     x     y i
>1  334 0.129 3
>2  365 0.198 3
>3  411 0.223 3
>4  731 0.313 2
>5  739 0.340 2
>6  790 0.373 2
>7  855 0.451 2
>8  980 0.608 2
>9  575 0.156 1
>10 608 0.207 1
>11 630 0.249 1
>12 670 0.332 1
>13 838 0.377 1
>14 964 0.466 1
>
>> coplot(y ~ x | i, data=xy)
>gives 4 panels, rather than 3.
>
>Is this appropriate (with default settings of coplot)?

Specify i as a factor, e.g.


coplot(y ~ x | factor(i), data=xy)

It seems to me that the default behaviour is correct as it does not
automatically coerce the conditioning variable to a factor. I must admit
that I often want this so I have written a separate function that does
that for me.


Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thadani at tkk.att.ne.jp  Mon Dec 25 12:06:45 2000
From: thadani at tkk.att.ne.jp (Dilip N. Thadani)
Date: Mon, 25 Dec 2000 20:06:45 +0900
Subject: [R] A bug in the function "scan"?
In-Reply-To: <Pine.GSO.4.05.10012231112440.19297-100000@auk.stats>
Message-ID: <000001c06e62$c5217b10$0200a8c0@grandslam>

R version 1.2
OS.  Windows NT, service pack 6.0

Here is what I have in a text file called tmp.txt

ab,5,b'c,cd,5

i.e. the file has only one line of data (to keep things simple)

I issue the command
 scan(file="c:/tmp.txt",what="",sep=",")
Read 3 items
[1] "ab"      "5"       "bc,cd,5"

>

Why is it not reading 5 items?  If i remove the apostrophe in the third item
(ie. b'c => bc) then scan reads all 5 items as I would expect it.

Is this a bug, or am I missing something about how apostrophe's are treated?

Thanks in advance,

regards

Dilip


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Dec 25 13:55:51 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 Dec 2000 13:55:51 +0100
Subject: [R] A bug in the function "scan"?
In-Reply-To: "Dilip N. Thadani"'s message of "Mon, 25 Dec 2000 20:06:45 +0900"
References: <000001c06e62$c5217b10$0200a8c0@grandslam>
Message-ID: <x2y9x464o8.fsf@blueberry.kubism.ku.dk>

"Dilip N. Thadani" <thadani at tkk.att.ne.jp> writes:

> R version 1.2
> OS.  Windows NT, service pack 6.0
> 
> Here is what I have in a text file called tmp.txt
> 
> ab,5,b'c,cd,5
> 
> i.e. the file has only one line of data (to keep things simple)
> 
> I issue the command
>  scan(file="c:/tmp.txt",what="",sep=",")
> Read 3 items
> [1] "ab"      "5"       "bc,cd,5"
> 
> >
> 
> Why is it not reading 5 items?  If i remove the apostrophe in the third item
> (ie. b'c => bc) then scan reads all 5 items as I would expect it.
> 
> Is this a bug, or am I missing something about how apostrophe's are treated?

Single and double quotes are used for quoting by default (how else
would you get a separator character into a string?). Look at the
quote= argument to scan. Set quote="" if it bothers you.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thadani at tkk.att.ne.jp  Mon Dec 25 15:46:36 2000
From: thadani at tkk.att.ne.jp (Dilip N. Thadani)
Date: Mon, 25 Dec 2000 23:46:36 +0900
Subject: [R] tcltk library
In-Reply-To: <x2y9x464o8.fsf@blueberry.kubism.ku.dk>
Message-ID: <000001c06e81$7b4cc840$0200a8c0@grandslam>

R version 1.2
OS Window NT 4.0 Service Pack 6.0

I downloaded tcl.tck 8.3.2 from http://www.scriptics.com  I also set the
TCL_LIBRARY variable in my environment.

However when I try to load the tcltk library in R this is what happens:-

> library(tcltk)
Error in firstlib(which.lib.loc, package) :
        Can't find a usable init.tcl in the following directories:
    {"F:/Program Files/Tcl/lib/tcl8.3"} {}



This probably means that Tcl wasn't installed properly.
Error in library(tcltk) : .First.lib failed

Why is this happening?  I also tried setting TCL_LIBRARY to the top level
directory, i.e F:/Program Files/Tcl   but R still cannot seem to load this
library.  The file init.tcl is present in
F:/Program Files/Tcl/lib/tcl8.3.
Can someone shed some light on this?

Thanks in advance

Dilip


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kleiweg at let.rug.nl  Mon Dec 25 16:01:39 2000
From: kleiweg at let.rug.nl (Peter Kleiweg)
Date: Mon, 25 Dec 2000 16:01:39 +0100 (CET)
Subject: [R] A bug in the function "scan"?
In-Reply-To: <000001c06e62$c5217b10$0200a8c0@grandslam>
Message-ID: <Pine.LNX.4.21.0012251559451.358-100000@kleigh.nl>

Dilip N. Thadani skriver...

> I issue the command
>  scan(file="c:/tmp.txt",what="",sep=",")
> Read 3 items
> [1] "ab"      "5"       "bc,cd,5"
> 
> >
> 
> Why is it not reading 5 items?  If i remove the apostrophe in the third item
> (ie. b'c => bc) then scan reads all 5 items as I would expect it.


Use:

    scan(file="t",what="",sep=",",quote="")

Read 5 items
[1] "ab"  "5"   "b'c" "cd"  "5"

-- 
Peter Kleiweg
http://www.let.rug.nl/~kleiweg/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yusuke at koko15.hus.osaka-u.ac.jp  Mon Dec 25 16:37:08 2000
From: yusuke at koko15.hus.osaka-u.ac.jp (=?ISO-2022-JP?B?GyRCNVxLXBsoQiAbJEJNJzJwGyhC?=)
Date: Tue, 26 Dec 2000 00:37:08 +0900
Subject: [R] A bug in the function "scan"?
In-Reply-To: <000001c06e62$c5217b10$0200a8c0@grandslam>
References: <Pine.GSO.4.05.10012231112440.19297-100000@auk.stats>
	<000001c06e62$c5217b10$0200a8c0@grandslam>
Message-ID: <200012251534.AAA04970@koko15.hus.osaka-u.ac.jp>

Hi,

On Mon, 25 Dec 2000 20:06:45 +0900,
"Dilip N. Thadani" <thadani at tkk.att.ne.jp> wrote:

> Here is what I have in a text file called tmp.txt
> 
> ab,5,b'c,cd,5
> 
> i.e. the file has only one line of data (to keep things simple)
> 
> I issue the command
>  scan(file="c:/tmp.txt",what="",sep=",")
> Read 3 items
> [1] "ab"      "5"       "bc,cd,5"
> 
> >
> 
> Why is it not reading 5 items?  If i remove the apostrophe in the third item
> (ie. b'c => bc) then scan reads all 5 items as I would expect it.
> 
> Is this a bug, or am I missing something about how apostrophe's are treated?


The characters preceded by apostrophe (i.e. 'c,cd,5) is treated 
as `semi-'quoted(unclosed) string. 

You can get the expected result when you quote the strings 
like this:
  "ab",5,"b'c","cd",5

Yusuke
---
MIYAMOTO Yusuke
Graduate School of Human Sciences,
Osaka University, JAPAN
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Dec 25 18:55:42 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 25 Dec 2000 17:55:42 +0000 (GMT)
Subject: [R] tcltk library
In-Reply-To: <000001c06e81$7b4cc840$0200a8c0@grandslam>
Message-ID: <Pine.GSO.4.05.10012251724550.11112-100000@toucan.stats>

On Mon, 25 Dec 2000, Dilip N. Thadani wrote:

> R version 1.2
> OS Window NT 4.0 Service Pack 6.0

Would that be R version 1.2.0 and Windows?

> I downloaded tcl.tck 8.3.2 from http://www.scriptics.com  I also set the
> TCL_LIBRARY variable in my environment.

To what?  You would have saved some detective work by telling us. More
generally, please tell us *exactly* what you did, as I think you are being
careless in the details (which is why I am pointing up the minor errors in
this report) and I believe your problem is the result of that lack of
care.

> However when I try to load the tcltk library in R this is what happens:-
                                       ^^^^^^^
package, I presume.

> > library(tcltk)
> Error in firstlib(which.lib.loc, package) :
>         Can't find a usable init.tcl in the following directories:
>     {"F:/Program Files/Tcl/lib/tcl8.3"} {}
> 
> 
> This probably means that Tcl wasn't installed properly.
> Error in library(tcltk) : .First.lib failed
> 
> Why is this happening?  I also tried setting TCL_LIBRARY to the top level
> directory, i.e F:/Program Files/Tcl   but R still cannot seem to load this
> library.  The file init.tcl is present in
> F:/Program Files/Tcl/lib/tcl8.3.
> Can someone shed some light on this?

Probably because you failed to follow the instructions, which say (file
CHANGES)

  Also, you need to set the environment variable TCL_LIBRARY, to something
  like c:/Program Files/Tcl/lib/tcl8.3.

NB, *not* "c:/Program Files/Tcl/lib/tcl8.3", and when I do that I get an
error message very like yours.  So, what *exactly* did you do?

If setting without quotes does not work for you, try the short-form name,
probably F:/PROGRA~1/Tcl/lib/tcl8.3.  Whatever, this is a Tcl/Tk not
package tcltk problem.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ono96 at fa2.so-net.ne.jp  Mon Dec 25 20:52:03 2000
From: ono96 at fa2.so-net.ne.jp (Hisaji ONO)
Date: Tue, 26 Dec 2000 04:52:03 +0900
Subject: [R] factor analysis
Message-ID: <006101c06eac$27ec4600$0ddfd5ca@myvaio>

Hello.

-----Original Message-----
???o?l : Prof Brian D Ripley <ripley at stats.ox.ac.uk>
???? : r-help at r-project.org <r-help at r-project.org>
???? : 2000?N12??23?? 5:42
???? : [R] factor analysis


>I have put a preliminary version of factanal in a package at
>http://www.stat.ox.ac.uk/pub/R/fa_0.1-1.tar.gz
>and would appreciate feedback.  In particular
>
>1) What else you might want.  Please give precise references with
>algorithmic details, as that has been a major problem for me.
>


 Will you support another estimate method (Principal Factor Analysis) except
maximum-likelihood?

Regards.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thadani at tkk.att.ne.jp  Tue Dec 26 02:16:08 2000
From: thadani at tkk.att.ne.jp (Dilip N. Thadani)
Date: Tue, 26 Dec 2000 10:16:08 +0900
Subject: [R] tcltk library
In-Reply-To: <Pine.GSO.4.05.10012251724550.11112-100000@toucan.stats>
Message-ID: <000001c06ed9$6ce576f0$0200a8c0@grandslam>

Thank you.  You are right removing the quotes fixes the problem.  Apologies
for not being clear in my previous email.

Thanks for responding so promptly.

regards

Dilip

-----Original Message-----
From: Prof Brian Ripley [mailto:ripley at stats.ox.ac.uk]
Sent: Tuesday, December 26, 2000 2:56 AM
To: Dilip N. Thadani
Cc: r-help at r-project.org
Subject: Re: [R] tcltk library


On Mon, 25 Dec 2000, Dilip N. Thadani wrote:

> R version 1.2
> OS Window NT 4.0 Service Pack 6.0

Would that be R version 1.2.0 and Windows?

> I downloaded tcl.tck 8.3.2 from http://www.scriptics.com  I also set the
> TCL_LIBRARY variable in my environment.

To what?  You would have saved some detective work by telling us. More
generally, please tell us *exactly* what you did, as I think you are being
careless in the details (which is why I am pointing up the minor errors in
this report) and I believe your problem is the result of that lack of
care.

> However when I try to load the tcltk library in R this is what happens:-
                                       ^^^^^^^
package, I presume.

> > library(tcltk)
> Error in firstlib(which.lib.loc, package) :
>         Can't find a usable init.tcl in the following directories:
>     {"F:/Program Files/Tcl/lib/tcl8.3"} {}
>
>
> This probably means that Tcl wasn't installed properly.
> Error in library(tcltk) : .First.lib failed
>
> Why is this happening?  I also tried setting TCL_LIBRARY to the top level
> directory, i.e F:/Program Files/Tcl   but R still cannot seem to load this
> library.  The file init.tcl is present in
> F:/Program Files/Tcl/lib/tcl8.3.
> Can someone shed some light on this?

Probably because you failed to follow the instructions, which say (file
CHANGES)

  Also, you need to set the environment variable TCL_LIBRARY, to something
  like c:/Program Files/Tcl/lib/tcl8.3.

NB, *not* "c:/Program Files/Tcl/lib/tcl8.3", and when I do that I get an
error message very like yours.  So, what *exactly* did you do?

If setting without quotes does not work for you, try the short-form name,
probably F:/PROGRA~1/Tcl/lib/tcl8.3.  Whatever, this is a Tcl/Tk not
package tcltk problem.

--
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cjlu at ibm.stat.ncku.edu.tw  Tue Dec 26 05:36:38 2000
From: cjlu at ibm.stat.ncku.edu.tw (C. Joseph Lu)
Date: Tue, 26 Dec 2000 12:36:38 +0800
Subject: [R] A "bug" in Rconsole?
Message-ID: <3A482056.15E771BF@email.stat.ncku.edu.tw>

Dear R-friends,

After change (and saved) font style to "bold" in GUI preferences from
menu-bar Edit,
R 1.2.0, Win98, the "buflines" in the file Rconsole changed to "bufiles"
and that causes
error in invoking R next time.

Is this a bug?

Merry Christmas & Best regards,

C. Joseph Lu
Department of Statistics
National Cheng-Kung University
Tainan, Taiwan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thadani at tkk.att.ne.jp  Tue Dec 26 07:15:02 2000
From: thadani at tkk.att.ne.jp (Dilip N. Thadani)
Date: Tue, 26 Dec 2000 15:15:02 +0900
Subject: [R] tck/tk widget for a matrix or dataframe
In-Reply-To: <000001c06ed9$6ce576f0$0200a8c0@grandslam>
Message-ID: <000101c06f03$2eeef090$0200a8c0@grandslam>

R 1.2.0
Windows

Does anyone have code to display an R matrix or data frame in a widget using
tck/tk that will enable one to edit the matrix?  Kind of like the R data
editor, except that the app I am trying to create will have multiple widgets
on the window with many action buttons.

Any help will be appreciated.

thanks

Dilip

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Dec 26 09:02:48 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 26 Dec 2000 08:02:48 +0000 (GMT)
Subject: [R] A "bug" in Rconsole?
In-Reply-To: <3A482056.15E771BF@email.stat.ncku.edu.tw>
Message-ID: <Pine.GSO.4.05.10012260758520.28032-100000@auk.stats>

On Tue, 26 Dec 2000, C. Joseph Lu wrote:

> Dear R-friends,
> 
> After change (and saved) font style to "bold" in GUI preferences from
> menu-bar Edit,
> R 1.2.0, Win98, the "buflines" in the file Rconsole changed to "bufiles"
> and that causes
> error in invoking R next time.
> 
> Is this a bug?

Yes, and one already reported and fixed. Just edit the file manually
for now.  (BTW, the bug is *not* in Rconsole but in the GUI preferences
editor.)


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jkawczak at uncc.edu  Tue Dec 26 10:20:00 2000
From: jkawczak at uncc.edu (Janusz Kawczak)
Date: Tue, 26 Dec 2000 04:20:00 -0500 (EST)
Subject: [R] Documents in Docs directory
In-Reply-To: <Pine.GSO.4.05.10012221935050.18206-100000@auk.stats>
Message-ID: <Pine.GSO.3.96.1001226041224.26395B-100000@is-sm1.uncc.edu>

Hello R-users:

this is about the documents for the packages in the subdirectory
docs/packages at the CRAN tree (i.e. acepack.pdf, etc...). When I try to
read them, I get the error (14) message out of acrobat reader. This is not
a very informative error message. Can anybody tell me what is the "trick"
to enable reading the docs files.

Thank you,
J.K.

** Janusz Kawczak							**
** UNC at Charlotte, Department of Mathematics, Room 350F		**
** 9201 University City Blvd.						**
** Charlotte, NC, 28223-0001, U.S.A.					**
** Tel.: (704) 687-2566 (W) (704) 921-0273 (H) Fax.: (704) 510-6415	**

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Dec 26 10:30:20 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 26 Dec 2000 09:30:20 +0000 (GMT)
Subject: [R] Documents in Docs directory
In-Reply-To: <Pine.GSO.3.96.1001226041224.26395B-100000@is-sm1.uncc.edu>
Message-ID: <Pine.GSO.4.05.10012260925580.11737-100000@toucan.stats>

On Tue, 26 Dec 2000, Janusz Kawczak wrote:

> Hello R-users:
> 
> this is about the documents for the packages in the subdirectory
> docs/packages at the CRAN tree (i.e. acepack.pdf, etc...). When I try to
> read them, I get the error (14) message out of acrobat reader. This is not
> a very informative error message. Can anybody tell me what is the "trick"
> to enable reading the docs files.

That means a corrupt file, I think.  I think you *may* need to download
them first, as they are not `optimized'.  Having said that, I do not find
any problems reading them with the acroread plug-in, from Vienna, except
speed as the whole file needs to be read before the first page can be
rendered.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Dec 26 11:01:55 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 26 Dec 2000 11:01:55 +0100
Subject: [R] Documents in Docs directory
References: <Pine.GSO.3.96.1001226041224.26395B-100000@is-sm1.uncc.edu>
Message-ID: <3A486C93.D7C655E2@statistik.uni-dortmund.de>



Janusz Kawczak wrote:
> 
> Hello R-users:
> 
> this is about the documents for the packages in the subdirectory
> docs/packages at the CRAN tree (i.e. acepack.pdf, etc...). When I try to
> read them, I get the error (14) message out of acrobat reader. This is not
> a very informative error message. Can anybody tell me what is the "trick"
> to enable reading the docs files.

And that's not a very informative e-mail. ;-)

You did not tell us
1. the way you got the file, e.g.:
 a) ftp (ascii/binary mode)
 b) "click" in a www browser
2. the version of your acrobat reader
3. your OS.

For me it works clicking in Netscape 4.76 (WinNT4.0) on the filename at
CRAN.
After that Acrobat Reader 4.05 opens the file correctly.

So there is no trick, I think.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jkawczak at uncc.edu  Tue Dec 26 11:30:12 2000
From: jkawczak at uncc.edu (Janusz Kawczak)
Date: Tue, 26 Dec 2000 05:30:12 -0500 (EST)
Subject: [R] Documents in Docs directory
In-Reply-To: <3A486C93.D7C655E2@statistik.uni-dortmund.de>
Message-ID: <Pine.GSO.3.96.1001226052053.27437B-100000@is-sm1.uncc.edu>



thank you for the prompt reply (Prof Ripley & Uwe Ligges). It turned out
to be that the files I ftp-ed somehow got corrupted. Indeed, after
downloading again everything is back to "normal" - I can view the files
without any problems.

J.K.

P.S. I've mirrored the subdirectory to the local drive. The process was
very much automated. Well, something must have gone wrong with mirroring!




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Dec 26 12:43:35 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Dec 2000 12:43:35 +0100
Subject: [R] tck/tk widget for a matrix or dataframe
In-Reply-To: "Dilip N. Thadani"'s message of "Tue, 26 Dec 2000 15:15:02 +0900"
References: <000101c06f03$2eeef090$0200a8c0@grandslam>
Message-ID: <x23dfb4dco.fsf@blueberry.kubism.ku.dk>

"Dilip N. Thadani" <thadani at tkk.att.ne.jp> writes:

> R 1.2.0
> Windows
> 
> Does anyone have code to display an R matrix or data frame in a widget using
> tck/tk that will enable one to edit the matrix?  Kind of like the R data
> editor, except that the app I am trying to create will have multiple widgets
> on the window with many action buttons.
> 
> Any help will be appreciated.

It doesn't exist (yet) but I've been wanting to play around with one
of the generic Tcl/Tk widgets for table/grid editing for this purpose
for a while. The most obvious candidate would be tkTable or TixGrid.

I think most of the stubs are in place for using these widgets, but
there may be dynamic linking issues, especially on Windows.

As usual, contributions are welcome, so if you get this sorted out,
please tell us how...

Have a look at

http://www.hobbs.wservice.com/tcl/capp/

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Wed Dec 27 06:40:32 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Wed, 27 Dec 2000 00:40:32 -0500
Subject: [R] Dll problem
Message-ID: <NEBBJKDJHEFCOOLFFAKKMECNCAAA.cyg@sympatico.ca>

Hi,

Where should I look to find out the reason why my Fortran DLL's don't work
any more?

*** This is the current version ***
platform i386-pc-mingw32
arch     x86
os       Win32
system   x86, Win32
status
major    1
minor    2.0
year     2000
month    12
day      15
language R

*** This was the previous version ***
platform Windows
arch     x86
os       Win32
system   x86, Win32
status
major    1
minor    1.1
year     2000
month    August
day      15
language R

The problem seem to be with the result I get back from the function call
which is not what it use to be. I search a bit for obvious change in
R-ext.pdf to no avail.

Thank in advance.

Yves Gauvreau


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Dec 27 09:10:50 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 27 Dec 2000 08:10:50 +0000 (GMT)
Subject: [R] Dll problem
In-Reply-To: <NEBBJKDJHEFCOOLFFAKKMECNCAAA.cyg@sympatico.ca>
Message-ID: <Pine.GSO.4.05.10012270804260.12665-100000@toucan.stats>

On Wed, 27 Dec 2000, Yves Gauvreau wrote:

> Hi,
> 
> Where should I look to find out the reason why my Fortran DLL's don't work
> any more?

The CHANGES file in Windows?

rw1020
======

This version has been compiled against msvcrt.dll not crtdll.dll.
This gives small speed increases and generally more accurate results.
Packages compiled against crtdll.dll will still work (as far as we are
aware), but for best results should be re-compiled.  (A few packages
need to be re-compiled for 1.2.0 on all platforms, and any that used
malloc directly need to be recompiled on this one.)


Did you re-compile against msvcrt?  We have compiled up a lot of Frotran
code, both in R itself and in contributed packages, and seen only
small changes.  (Quite a few Fortran-based packages do use malloc directly
and so do need to be re-compiled, but they will not load otherwise.)

The recommended compilers have changed: see README.packages.  As far
as I know the old ones still work.


> *** This is the current version ***
> platform i386-pc-mingw32
> arch     x86
> os       Win32
> system   x86, Win32
> status
> major    1
> minor    2.0
> year     2000
> month    12
> day      15
> language R
> 
> *** This was the previous version ***
> platform Windows
> arch     x86
> os       Win32
> system   x86, Win32
> status
> major    1
> minor    1.1
> year     2000
> month    August
> day      15
> language R
> 
> The problem seem to be with the result I get back from the function call
> which is not what it use to be. I search a bit for obvious change in
> R-ext.pdf to no avail.

That's not going to tell you about changes, let alone platform-specific
ones.

> 
> Thank in advance.
> 
> Yves Gauvreau
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Wed Dec 27 15:41:15 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Wed, 27 Dec 2000 09:41:15 -0500
Subject: [R] Dll problem
In-Reply-To: <Pine.GSO.4.05.10012270804260.12665-100000@toucan.stats>
Message-ID: <NEBBJKDJHEFCOOLFFAKKOECOCAAA.cyg@sympatico.ca>

Hi again,

I downloaded and installed the suggested software from
http://www.stats.ox.ac.uk/pub/Rtools/
that is tools.zip, bin-msvcrt-2000-03-27.zip,
binutils-19990818-1-msvcrt.zip, and gcc-2.95.2-1-msvcrt.zip. Just to make
sure.

I setup the path to these.

As I did previously for R 1.1.1 I ran the following commands

g77 -c  -mrtd -O2  -o stochastic.o stochastic.f
dllwrap -s --export-all --output-def stochastic.def  --driver-name g77 -o
stochastic.dll stochastic.o

This is the R function I wrote to use the DLL which still works fine under R
1.1.1. and not under R 1.2.0

fast.stochastic <- function(cp=qc,lp=ql,hp=qh,nk=5,nd=3){
  if(!is.loaded(symbol.For("dfsto"))) dyn.load("g:\\stochastic.dll")
  #CP,LP,HP,PK,PD,HS,LS,LV,LENK,LEND
  hs <- ls <- pk <- pd <- rep(0.0, length(cp))

  Tmat <- .Fortran("dfsto",
                   as.double(cp),
                   as.double(lp),
                   as.double(hp),
                   as.double(pk),
                   as.double(pd),
                   as.double(hs),
                   as.double(ls),
                   as.integer(length(cp)),
                   as.integer(nk),
                   as.integer(nd))
  data.frame(PK=Tmat[[4]], PD=Tmat[[5]])

}

As you can see I haven't made a package I just try to use the dynamic
library directly. I tried using the DLL from Excel and other VBA aware
software and there is no problem.

How come it doesn't work with R 1.2.0 and/or what should I do to make it
work?

I have no idea and there's nothing in "CHANGES" to give me a clue.

Nota: The file README.packages isn't part of the Windows binary distribution
but in the R source files.

Regards

Yves Gauvreau


> -----Message d'origine-----
> De : owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]De la part de Prof Brian Ripley
> Envoye : Wednesday, December 27, 2000 3:11 AM
> A : Yves Gauvreau
> Cc : r-help at stat.math.ethz.ch
> Objet : Re: [R] Dll problem
>
>
> On Wed, 27 Dec 2000, Yves Gauvreau wrote:
>
> > Hi,
> >
> > Where should I look to find out the reason why my Fortran DLL's
> don't work
> > any more?
>
> The CHANGES file in Windows?
>
> rw1020
> ======
>
> This version has been compiled against msvcrt.dll not crtdll.dll.
> This gives small speed increases and generally more accurate results.
> Packages compiled against crtdll.dll will still work (as far as we are
> aware), but for best results should be re-compiled.  (A few packages
> need to be re-compiled for 1.2.0 on all platforms, and any that used
> malloc directly need to be recompiled on this one.)
>
>
> Did you re-compile against msvcrt?  We have compiled up a lot of Frotran
> code, both in R itself and in contributed packages, and seen only
> small changes.  (Quite a few Fortran-based packages do use malloc directly
> and so do need to be re-compiled, but they will not load otherwise.)
>
> The recommended compilers have changed: see README.packages.  As far
> as I know the old ones still work.
>
>
> > *** This is the current version ***
> > platform i386-pc-mingw32
> > arch     x86
> > os       Win32
> > system   x86, Win32
> > status
> > major    1
> > minor    2.0
> > year     2000
> > month    12
> > day      15
> > language R
> >
> > *** This was the previous version ***
> > platform Windows
> > arch     x86
> > os       Win32
> > system   x86, Win32
> > status
> > major    1
> > minor    1.1
> > year     2000
> > month    August
> > day      15
> > language R
> >
> > The problem seem to be with the result I get back from the function call
> > which is not what it use to be. I search a bit for obvious change in
> > R-ext.pdf to no avail.
>
> That's not going to tell you about changes, let alone platform-specific
> ones.
>
> >
> > Thank in advance.
> >
> > Yves Gauvreau
> >
> >
> >
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-
> > r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>

--
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Wed Dec 27 18:01:43 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Wed, 27 Dec 2000 12:01:43 -0500
Subject: [R] Dll problem
In-Reply-To: <Pine.GSO.4.05.10012271447430.13040-100000@toucan.stats>
Message-ID: <NEBBJKDJHEFCOOLFFAKKGEDACAAA.cyg@sympatico.ca>

I've managed to make it work (the DLL).

For those interested here is what I did and assuming a full R 1.2.0
installation.

I ran make from Drive:\R\rw1020\src\gnuwin32 => to get libR.a
I created a directory where I put a copy of makeDll also found in
Drive:\R\rw1020\src\gnuwin32
I copied my Fortran files in there as well.
I edited makeDll adding DLLNAME=stochastic in this case and
RHOME=Drive:\R\rw1020
and ran make -f MakeDll

I'm sure there are better ways to do this, but this one worked.

Regards and special thanks to prof. Ripley for is kind words and patience.

Yves Gauvreau




> -----Message d'origine-----
> De : Prof Brian Ripley [mailto:ripley at stats.ox.ac.uk]
> Envoye : Wednesday, December 27, 2000 9:56 AM
> A : Yves Gauvreau
> Objet : RE: [R] Dll problem
>
>
> On Wed, 27 Dec 2000, Yves Gauvreau wrote:
>
> > Hi again,
> >
> > I downloaded and installed the suggested software from
> > http://www.stats.ox.ac.uk/pub/Rtools/
> > that is tools.zip, bin-msvcrt-2000-03-27.zip,
> > binutils-19990818-1-msvcrt.zip, and gcc-2.95.2-1-msvcrt.zip.
> Just to make
> > sure.
> >
> > I setup the path to these.
> >
> > As I did previously for R 1.1.1 I ran the following commands
> >
> > g77 -c  -mrtd -O2  -o stochastic.o stochastic.f
> > dllwrap -s --export-all --output-def stochastic.def
> --driver-name g77 -o
> > stochastic.dll stochastic.o
>
> Well, that's not in our documentation, is it?  Try out Rcmd SHLIB if you
> just want to make a DLL.
>
>
> > This is the R function I wrote to use the DLL which still works
> fine under R
> > 1.1.1. and not under R 1.2.0
> >
> > fast.stochastic <- function(cp=qc,lp=ql,hp=qh,nk=5,nd=3){
> >   if(!is.loaded(symbol.For("dfsto"))) dyn.load("g:\\stochastic.dll")
> >   #CP,LP,HP,PK,PD,HS,LS,LV,LENK,LEND
> >   hs <- ls <- pk <- pd <- rep(0.0, length(cp))
> >
> >   Tmat <- .Fortran("dfsto",
> >                    as.double(cp),
> >                    as.double(lp),
> >                    as.double(hp),
> >                    as.double(pk),
> >                    as.double(pd),
> >                    as.double(hs),
> >                    as.double(ls),
> >                    as.integer(length(cp)),
> >                    as.integer(nk),
> >                    as.integer(nd))
> >   data.frame(PK=Tmat[[4]], PD=Tmat[[5]])
> >
> > }
> >
> > As you can see I haven't made a package I just try to use the dynamic
> > library directly. I tried using the DLL from Excel and other VBA aware
> > software and there is no problem.
>
> > How come it doesn't work with R 1.2.0 and/or what should I do to make it
> > work?
>
> What does ``doesn't work with R 1.2.0'' mean?  If you had given something
> along the lines of the information requested for a bug report, I might
> have been prepared to help.
>
> > I have no idea and there's nothing in "CHANGES" to give me a clue.
>
> > Nota: The file README.packages isn't part of the Windows binary
> distribution
> > but in the R source files.
>
> It *is* in rw1020sp.zip.  If you want help, don't contradict accurate
> information.
>
> I hope you now manage to solve this on your own.
>
> >
> > Regards
> >
> > Yves Gauvreau
> >
> >
> > > -----Message d'origine-----
> > > De : owner-r-help at stat.math.ethz.ch
> > > [mailto:owner-r-help at stat.math.ethz.ch]De la part de Prof Brian Ripley
> > > Envoye : Wednesday, December 27, 2000 3:11 AM
> > > A : Yves Gauvreau
> > > Cc : r-help at stat.math.ethz.ch
> > > Objet : Re: [R] Dll problem
> > >
> > >
> > > On Wed, 27 Dec 2000, Yves Gauvreau wrote:
> > >
> > > > Hi,
> > > >
> > > > Where should I look to find out the reason why my Fortran DLL's
> > > don't work
> > > > any more?
> > >
> > > The CHANGES file in Windows?
> > >
> > > rw1020
> > > ======
> > >
> > > This version has been compiled against msvcrt.dll not crtdll.dll.
> > > This gives small speed increases and generally more accurate results.
> > > Packages compiled against crtdll.dll will still work (as far as we are
> > > aware), but for best results should be re-compiled.  (A few packages
> > > need to be re-compiled for 1.2.0 on all platforms, and any that used
> > > malloc directly need to be recompiled on this one.)
> > >
> > >
> > > Did you re-compile against msvcrt?  We have compiled up a lot
> of Frotran
> > > code, both in R itself and in contributed packages, and seen only
> > > small changes.  (Quite a few Fortran-based packages do use
> malloc directly
> > > and so do need to be re-compiled, but they will not load otherwise.)
> > >
> > > The recommended compilers have changed: see README.packages.  As far
> > > as I know the old ones still work.
> > >
> > >
> > > > *** This is the current version ***
> > > > platform i386-pc-mingw32
> > > > arch     x86
> > > > os       Win32
> > > > system   x86, Win32
> > > > status
> > > > major    1
> > > > minor    2.0
> > > > year     2000
> > > > month    12
> > > > day      15
> > > > language R
> > > >
> > > > *** This was the previous version ***
> > > > platform Windows
> > > > arch     x86
> > > > os       Win32
> > > > system   x86, Win32
> > > > status
> > > > major    1
> > > > minor    1.1
> > > > year     2000
> > > > month    August
> > > > day      15
> > > > language R
> > > >
> > > > The problem seem to be with the result I get back from the
> function call
> > > > which is not what it use to be. I search a bit for obvious change in
> > > > R-ext.pdf to no avail.
> > >
> > > That's not going to tell you about changes, let alone
> platform-specific
> > > ones.
> > >
> > > >
> > > > Thank in advance.
> > > >
> > > > Yves Gauvreau
> > > >
> > > >
> > > >
> > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > > -.-.-.-.-.-.-
> > > > r-help mailing list -- Read
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To:
> r-help-request at stat.math.ethz.ch
> > >
> >
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._.
> > _._
> > >
> >
> > --
> > Brian D. Ripley,                  ripley at stats.ox.ac.uk
> > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > University of Oxford,             Tel:  +44 1865 272861 (self)
> > 1 South Parks Road,                     +44 1865 272860 (secr)
> > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> >
> >
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.
> > -.-
> > r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>

--
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From grosso at mail.ru  Thu Dec 28 22:22:46 2000
From: grosso at mail.ru (Cobalt)
Date: Thu, 28 Dec 2000 13:22:46 -0800
Subject: [R] anova
In-Reply-To: <Pine.LNX.4.21.0012251559451.358-100000@kleigh.nl>
References: <000001c06e62$c5217b10$0200a8c0@grandslam>
	<Pine.LNX.4.21.0012251559451.358-100000@kleigh.nl>
Message-ID: <200012280528.NAA11808@gor.buk.irk.ru>


..Hello,

..I'm learning R and Business Statistics at the same time.
..I'm pretty new to R. 
..I'm trying to perform ANOVA.

..I have 3 samples from 3 populations for anova.
..So, I decided to perform anova by doing the following:

	a <- (85,75,82,76,71,85)
	b <- (71,75,73,74,69,82) 
	c <- (59,64,62,69,75,67)

..Then,

	print.anova(a,b,c)

..I got:

"Error in print.anova(a, b, c) : anova object must have colnames(.)!"


..Then,
	I tried to create colnames, but probably I didn't understand how to do it properly...And I guess my 'approach' to performing ANOVA in R was definitely wrong too.....


..Please, help me with ANOVA. I suspect, it's not that difficult...but still can't figure out how to do it.
..Thanks in advance.



..Best wishes,
..Cobalt.








--

"I'd crawl over an acre of 'Visual This++' and 'Integrated Development
That' to get to gcc, Emacs, and gdb.  Thank you."
(By Vance Petree, Virginia Power)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at CMIS.CSIRO.AU  Thu Dec 28 08:26:54 2000
From: Bill.Venables at CMIS.CSIRO.AU (Bill.Venables@CMIS.CSIRO.AU)
Date: Thu, 28 Dec 2000 17:26:54 +1000
Subject: [R] anova
Message-ID: <2B7F04539DAFD311B61D009027D0DDA20C3B67@roper-cv.qld.cmis.CSIRO.AU>



> -----Original Message-----
> From: Cobalt [mailto:grosso at mail.ru]
> Sent: Friday, 29 December 2000 7:23
> To: r-help at r-project.org
> Subject: [R] anova
> 
> 
> 
> ..Hello,

Well Hello, whoever you are.  (In this list anonymous messages are
considered rather impolite.  Next time please submit your message under your
real name as a gesture of good faith.  For this purpose an informative
signature file is useful.)


> 
> ..I'm learning R and Business Statistics at the same time.
> ..I'm pretty new to R. 
> ..I'm trying to perform ANOVA.
> 
> ..I have 3 samples from 3 populations for anova.
> ..So, I decided to perform anova by doing the following:
> 
> 	a <- (85,75,82,76,71,85)
> 	b <- (71,75,73,74,69,82) 
> 	c <- (59,64,62,69,75,67)

No, no, no.  That's just three syntax errors.  You must at least have had a
"c" before the opening parentheses.

> 
> ..Then,
> 
> 	print.anova(a,b,c)
> 
> ..I got:
> 
> "Error in print.anova(a, b, c) : anova object must have colnames(.)!"
> 
> 
> ..Then,
> 	I tried to create colnames, but probably I didn't 
> understand how to do it properly...And I guess my 'approach' 
> to performing ANOVA in R was definitely wrong too.....

Rather than just go by your feelings, analogies with other packages and
blind hunches it is a good idea to study the system first, or at least read
the manual while you are trying things out.

Here is one way of doing what you probably wanted to do in 3 easy steps:

1. Put your data (response and factor giving the sample to which each
belongs) together in a data frame first:

> 	a <- c(85,75,82,76,71,85)
> 	b <- c(71,75,73,74,69,82) 
> 	c <- c(59,64,62,69,75,67)  # "c" is not the best name to use.
> y <- c(a,b,c)
> f <- factor(rep(c("a","b","c"), rep(6,3)))
> dat <- data.frame(y, f)
> dat
    y f
1  85 a
2  75 a
3  82 a
4  76 a
5  71 a
6  85 a
7  71 b
8  75 b
9  73 b
10 74 b
11 69 b
12 82 b
13 59 c
14 64 c
15 62 c
16 69 c
17 75 c
18 67 c

2. Fit the single classification linear model using the aov fitting
function.


> fm <- aov(y ~ f, dat)


3. The object fm has the information in it needed for many things, including
the generation of an analysis of variance table.

         
> summary(fm)
            Df Sum Sq Mean Sq F value   Pr(>F)
f            2 516.00  258.00       9 0.002703
Residuals   15 430.00   28.67                 
 
> 
> ..Please, help me with ANOVA. I suspect, it's not that 
> difficult...but still can't figure out how to do it.
> ..Thanks in advance.

No, it is not that difficult at all, but unless you are prepared to look at
the documentation and spend a little time studying the examples you are
going to find it very tough going.

Bill Venables.

--
Bill Venables, CSIRO/CMIS Environmetrics Project
Email: Bill.Venables at cmis.csiro.au
Phone: +61 7 3826 7251
Fax:   +61 7 3826 7304
Postal: PO Box 120, Cleveland, Qld 4163, AUSTRALIA
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Dec 28 08:31:52 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 28 Dec 2000 08:31:52 +0100
Subject: [R] anova
References: <000001c06e62$c5217b10$0200a8c0@grandslam>
		<Pine.LNX.4.21.0012251559451.358-100000@kleigh.nl> <200012280528.NAA11808@gor.buk.irk.ru>
Message-ID: <3A4AEC68.6D443B09@statistik.uni-dortmund.de>

Cobalt wrote:
> 
> ..Hello,
> 
> ..I'm learning R and Business Statistics at the same time.
> ..I'm pretty new to R.
> ..I'm trying to perform ANOVA.
> 
> ..I have 3 samples from 3 populations for anova.
> ..So, I decided to perform anova by doing the following:
> 
>         a <- (85,75,82,76,71,85)
>         b <- (71,75,73,74,69,82)
>         c <- (59,64,62,69,75,67)

1. You'll need c() to make this work.
2. That's not a nice solution, because "c" is already the name of a very
basic function (that one you have to use here).

What you mean is, e.g.:

   a1 <- c(85, 75, 82, 76, 71, 85)
         ^
   a2 <- c(71, 75, 73, 74, 69, 82) 
         ^
   a3 <- c(59, 64, 62, 69, 75, 67)
   ^^    ^


> ..Then,
> 
>         print.anova(a,b,c)

Stop! From the help:

1. "Usage: anova(object, ...)" 
2. "Arguments:  *object*  an object containing the results returned by a
model fitting function (e.g. lm or glm). "


> ..I got:
> 
> "Error in print.anova(a, b, c) : anova object must have colnames(.)!"
> 
> ..Then,
>         I tried to create colnames, but probably I didn't understand how to do it properly...And I guess my 'approach' to performing ANOVA in R was definitely wrong too.....
> 
> ..Please, help me with ANOVA. I suspect, it's not that difficult...but still can't figure out how to do it.
> ..Thanks in advance.

So a *sample* session:

   a1 <- c(85, 75, 82, 76, 71, 85)
   a2 <- c(71, 75, 73, 74, 69, 82) 
   a3 <- c(59, 64, 62, 69, 75, 67)
   my.obj <- lm(a1 ~ a2 + a3)
   anova(my.obj)


Hope this helps.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From noureddine.hakim at axa-corporatesolutions.com  Thu Dec 28 18:18:07 2000
From: noureddine.hakim at axa-corporatesolutions.com (HAKIM Nour-Eddine)
Date: Thu, 28 Dec 2000 18:18:07 +0100
Subject: [R] function write
Message-ID: <53829589BB93D4119B5800B0D03DCD21A02D@EXGAGRP5>

Dear R users,

how can i export data from R to  excel (or text file)?

i use write funstion but i ve the following error message :
write(charlotte,"h:/hakim/charlotte/essai3.txt",nc=2)
Error in cat(list(...), file, sep, fill, labels, append) : 
        argument 1 not yet handled by cat

thx.

AXA Corporate Solutions
Nouveaux Produits
Nour-Eddine HAKIM
52 Rue d'Amsterdame - 75009 Paris - France
Tel	(+33 1) 56 92 97 48
Fax	(+33 1) 56 92 97 40
E-Mail :  noureddine.hakim at axa-corporatesolutions.com	

Ce message peut contenir de l'information confidentielle et est adress?
uniquement au(x) destinataire(s) pr?vu(s)  par l'exp?diteur. Si vous n'?tes
pas celui-ci, vous ?tes pri?s de ne pas user, utiliser, diss?miner ou
reproduire le contenu de ce message. S'il s'agit d'une erreur, veuillez en
avertir l'exp?diteur dans les plus brefs d?lais.
L'information contenue dans ce message refl?te exclusivement l'opinion de la
personne qui l'a ?mise mais en aucun cas celle du Groupe AXA.
This message may contain confidential information destined to be read only
by the intended recipient. No other persons should read, use, publish or
reproduce the content of this message. If you receive this message by
mistake, please notify the sender immediately. 
The information contained in this message represents the personal opinions
of the individual that sent it and should not be construed as representing
the position of the AXA Group





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jeff_Lischer at mksinst.com  Thu Dec 28 18:18:19 2000
From: Jeff_Lischer at mksinst.com (Jeff_Lischer@mksinst.com)
Date: Thu, 28 Dec 2000 12:18:19 -0500
Subject: [R] Dynamic Memory Allocation Errors in 1.2.0?
Message-ID: <OF5C0EC161.6D0EF2AA-ON852569C3.004837F1@mksinst.com>

Let me first say I'm new to R and new to this mail list, so I apologize
ahead if this issue has already been discussed here.

The dynamic memory allocation of 1.2.0 seems to be an improvement over the
static allocation of 1.1.1. However, I have run across at least one case
where the dynamic allocation might be corrupting my results. I am
interested in calculating the 95% confidence margins of performance results
based on the number of wins, draws, and losses in a match. For example, for
a match with 10 wins, 20 draws, and 10 losses, the observed performance is
50% and the 95% margins are about (39.0%, 61.0%).

I wrote the following simple file to calculate these margins using the ABC
method from Resampling:

     # main function to calculate margins based on ABC method
     margins.abc <- function(W,D,L) {
        # Create arrays with correct number of wins, draws, and losses
        w <- rep(1.0,W)
        d <- rep(0.5,D)
        l <- rep(0.0,L)

        # Call abcnon with the mean as the function being used
        results.abc <<- abcnon(c(w,d,l),function(p,x) {sum(p*x)/sum(p)},
                        alpha = c(0.025, 0.975))

        print("Actual Results")
        print(c(results.abc$stats$t0))
        print("Estimated 95% Margins")
        results.abc$limits
     }

The 'abcnon' routine is from the 'bootstrap' package and it also calculates
the margins based on standard theory so you can easily see the difference
between standard and ABC margins. In R 1.1.1, my file always seems to work
just fine. However, when I run the same file in 1.2.0 I get incorrect
results when the number of games in the match is large.

** Score **    **************  95 % Margins (%)   *************
W/D/L          Standard  1.1.1           1.2.0

10/20/10  (39.0, 61.0)   (39.0, 61.0)    (39.0, 61.0)
100/200/100    (46.5, 53.5)   (46.5, 53.5)    (46.5, 53.5)
400/800/400    (48.3, 51.7)   (48.3, 51.7)    (45.8, 49.2)
800/1600/800   (48.8, 51.2)   (48.8, 51.2)    (52.8, 55.8)

The 1.1.1 results are always the same as the standard results, which is
correct for these symmetric cases. The 1.2.0 results, however, are
meaningless for the largest two cases as they don't even enclose the
observed result of 50%. My guess is that some critical data is getting
written over by the dynamic memory allocation. I got the same results on
Windows 98 and Windows NT with various settings of the min/max/vsize/nsize
parameters. I also tried using the 'abc.ci' routine from the 'boot' package
but got similar results for large matches.

Has anyone else observed this behaviour in 1.2.0? Is there anything I can
do differently to prevent it from happening? Until I figure this out, I
will stay with 1.1.1 -- I don't want to be always worrying about the
validity of the 1.2.0 results.

______________________________
D. Jeffrey Lischer, Ph.D.
Principal Mechanical Engineer
MKS Instruments, Inc.
E-Mail: Jeff_Lischer at mksinst.com




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Dec 28 20:52:56 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 28 Dec 2000 19:52:56 +0000 (GMT)
Subject: [R] function write
In-Reply-To: <53829589BB93D4119B5800B0D03DCD21A02D@EXGAGRP5>
Message-ID: <Pine.GSO.4.05.10012281951520.3768-100000@auk.stats>

On Thu, 28 Dec 2000, HAKIM Nour-Eddine wrote:

> Dear R users,
> 
> how can i export data from R to  excel (or text file)?

Read the R Data Import/Export Manual (in version 1.2.0).

> 
> i use write funstion but i ve the following error message :
> write(charlotte,"h:/hakim/charlotte/essai3.txt",nc=2)
> Error in cat(list(...), file, sep, fill, labels, append) : 
>         argument 1 not yet handled by cat
> 
> thx.
> 
> AXA Corporate Solutions
> Nouveaux Produits
> Nour-Eddine HAKIM
> 52 Rue d'Amsterdame - 75009 Paris - France
> Tel	(+33 1) 56 92 97 48
> Fax	(+33 1) 56 92 97 40
> E-Mail :  noureddine.hakim at axa-corporatesolutions.com	

[Corporate waste of bandwidth removed.]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ecomus51 at oecon.au.dk  Sat Dec 30 12:30:31 2000
From: ecomus51 at oecon.au.dk (Ott Toomet)
Date: Sat, 30 Dec 2000 12:30:31 +0100
Subject: [R] extracting parameters from vector
Message-ID: <3a4c684b.28a7.0@oecon.au.dk>


Dear everybody!

Minimization algorithms usually assume the parameters are in the form of a single
vector. When calculating target function, e.g. log-likelihood, it is much more
pleasant to extract the vector into separate parameters and program the loglik
using them directly. Are ther any more intelligent ways to do that than just
write
 sigma <- param[1]
 beta <- param[1:1+N]
 ...

I know in GAUSS there is something similar to left-hand functions, i.e. you
can write
 {sigma, beta, ...}= param;
(Sorry, i do not know GAUSS well, so I am not quite sure).

Perhaps it could be handled with lists somehow but I do not want to change the
assumption -- data are in a vector --, used by most minimization algorithms.



Thanks in advance

Ott Toomet

And a happy new year, BTW.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From joehl at web.de  Fri Dec 29 11:04:56 2000
From: joehl at web.de (=?iso-8859-1?Q? Jens=20Oehlschl=E4gel ?=)
Date: Fri, 29 Dec 2000 11:04:56 +0100
Subject: [R] Is this a bug? Having cex!=1 before setting par(mai=) gives strange line spacings.
Message-ID: <200012291004.LAA05446@mailgate2.cinetic.de>

width <- 7
height <- 5

# create whatever device type
# and have cex=1 before setting par(mai=)
windows(width=width, height=height, rescale="R")
oldmai <- par("mai")
par(cex=1)
par(mai=oldmai)
plot.new()
par(usr=c(0,2,0,2))
par(cex=2)
par1 <- par()
text(1,1,"there is hardly anything i know for sure\nneither of the future nor of the past\nnor should i know what to ask\nif the person answering was you\n\n(Ernst Jandl, stanzen)")

dev.off()

# now set cex != 1 before setting par(mai=)
# shouldn't change anything but does change line spacing
windows(width=width, height=height, rescale="R")
par(cex=2)
par(mai=oldmai)
plot.new()
par(usr=c(0,2,0,2))
par(cex=2)
par1 <- par()
text(1,1,"there is hardly anything i know for sure\nneither of the future nor of the past\nnor should i know what to ask\nif the person answering was you\n\n(Ernst Jandl, stanzen)")

dev.off()


> windows(width=width, height=height, rescale="R")
> 
> ## changing par(cex=) alone does NOT change par("csi")
> par(cex=1)
> par1 <- par()
> par(cex=2)
> par2 <- par()
> all.equal(par1, par2)
[1] "Component cex: Mean relative  difference: 1"
> par1$cex
[1] 1
> par2$cex
[1] 2
> 
> ## changing par(cex=) and par(mai=) DOES change par("csi")
> par(cex=1)
> par(mai=oldmai)
> par1 <- par()
> par(cex=2)
> par(mai=oldmai)
> par2 <- par()
> all.equal(par1, par2)
[1] "Component cex: Mean relative  difference: 1"  
[2] "Component csi: Mean relative  difference: 1"  
[3] "Component mar: Mean relative  difference: 0.5"
> par1$cex
[1] 1
> par2$cex
[1] 2
> par1$csi
[1] 0.1875
> par2$csi
[1] 0.375
> par1$mar
[1] 5.1 4.1 4.1 2.1
> par2$mar
[1] 2.55 2.05 2.05 1.05


Regards

Jens Oehlschlaegel
(Research Consultant)

--please do not edit the information below--

Version:
 platform = i386-pc-mingw32
 arch = x86
 os = Win32
 system = x86, Win32
 status = 
 major = 1
 minor = 2.0
 year = 2000
 month = 12
 day = 15
 language = R

Windows NT 4.0 (build 1381) Service Pack 6

Search Path:
 .GlobalEnv, package:ctest, Autoloads, package:base

_______________________________________________________________________________
Alles unter einem Dach: Informationen, Fun, E-Mails. Bei WEB.DE: http://web.de
Die gro?e Welt der Kommunikation: E-Mail, Fax, SMS, WAP: http://freemail.web.de

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Dec 29 12:35:10 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 29 Dec 2000 11:35:10 +0000 (GMT)
Subject: [R] extracting parameters from vector
In-Reply-To: <3a4c684b.28a7.0@oecon.au.dk>
Message-ID: <Pine.GSO.4.05.10012291131470.14954-100000@toucan.stats>

On Sat, 30 Dec 2000, Ott Toomet wrote:

> 
> Dear everybody!
> 
> Minimization algorithms usually assume the parameters are in the form of a single
> vector. When calculating target function, e.g. log-likelihood, it is much more
> pleasant to extract the vector into separate parameters and program the loglik
> using them directly. Are ther any more intelligent ways to do that than just
> write
>  sigma <- param[1]
>  beta <- param[1:1+N]

I don't think that will do what you want (: is of higher precedence than  +)

In general just use indexing, which is very powerful in R.  So you can
have pre-computed index masks, and say

start[p1] <- sigma; start[p1] <- beta ...
call optim, and in your callback have
sigma <- param[p1]; beta <- param[p2] ...


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From H.RINNER at TIROL.GV.AT  Fri Dec 29 12:46:00 2000
From: H.RINNER at TIROL.GV.AT (RINNER Heinrich)
Date: Fri, 29 Dec 2000 12:46:00 +0100
Subject: [R] how to create help files
Message-ID: <C4D44AB4CB62D311BA6500041202E8862640B9@xms1.tirol.gv.at>

Dear R users,

this is a question for R version 1.2.0 under Windows NT 4.0, regarding the
documentation of ones own functions.
I have ceated a private library for my functions, which works all very well,
apart from that I am not able to create appropriate help files.

For illustration, here is a simple example of where I'm stuck:

> # first, create a simple function f1:
> f1 <- function(x) x^2
> # create directories where a package called "testfunctions" with my own
functions will live:
> R.home()
[1] "D:\\Programme\\R\\rw1020"
> mypath <- paste(R.home(),"\\library\\testfunctions", sep="")
> mypath
[1] "D:\\Programme\\R\\rw1020\\library\\testfunctions"
> dir.create(mypath)
> dir.create(paste(mypath, "\\R", sep=""))
> # dump the function into file "testfunctions"
> dump("f1", file = paste(mypath, "\\R\\testfunctions", sep=""))
> # very well, now let's try to add documentation:
> dir.create(paste(mypath, "\\help", sep=""))
> prompt(f1, file = paste(mypath, "\\help\\f1", sep=""))
created file named  D:\Programme\R\rw1020\library\testfunctions\help\f1  in
the current directory.
  Edit the file and move it to the appropriate directory,
D:\Programme\R\rw1020/src/library/<pkg>/man/ 
> # let's see if it works:
> rm(f1)
> library(testfunctions)
> find(f1)
[1] "package:testfunctions"
> f1(3)
[1] 9
> # very well so far!
> # now, what about the documentation:
> help(f1)
Error in help(f1) : No documentation for `f1' in specified packages and
libraries

And that's where I'm stuck. Not that it comes as a surprise to me that this
doesn't work. I do have the "Writing R extensions" manual right here in
front of me, and I have read "readme.packages", but I have to admit that I
am a bit lost in the documentation. I do have installed "rw1020sp.zip", I
have downloaded "http://www.stats.ox.ac.uk/pub/Rtools/tools.zip", and I
guess I have to use  those MAKE, INSTALL, RCMD etc. facilities in an
appropriate way. But I just can't put the pieces together. (Please note that
I don't need to build a "professional" package at the moment (with
description files and all that stuff)).

If someone could point out how to procede in my simple example and how to
make "help(f1)" work, it would be easier for me to figure out how to do
these things generally. Maybe something like "Open a WindowsNT command
window, got to directory xyz, and run the command(s) abc, ..."?

Best wishes for 2001,

Heinrich Rinner.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Dec 29 13:52:34 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 29 Dec 2000 12:52:34 +0000 (GMT)
Subject: [R] how to create help files
In-Reply-To: <C4D44AB4CB62D311BA6500041202E8862640B9@xms1.tirol.gv.at>
Message-ID: <Pine.GSO.4.05.10012291240001.15022-100000@toucan.stats>

On Fri, 29 Dec 2000, RINNER Heinrich wrote:

> Dear R users,
> 
> this is a question for R version 1.2.0 under Windows NT 4.0, regarding the
> documentation of ones own functions.
> I have ceated a private library for my functions, which works all very well,
> apart from that I am not able to create appropriate help files.

I think what you have done is faked the installation of a package, not
created a private library (which is a directory containing installed
packages).  Mis-using the notation will make it harder for us to help you
as well as for you to follow the docs.

> For illustration, here is a simple example of where I'm stuck:
> 
> > # first, create a simple function f1:
> > f1 <- function(x) x^2
> > # create directories where a package called "testfunctions" with my own
> functions will live:
> > R.home()
> [1] "D:\\Programme\\R\\rw1020"
> > mypath <- paste(R.home(),"\\library\\testfunctions", sep="")
> > mypath
> [1] "D:\\Programme\\R\\rw1020\\library\\testfunctions"
> > dir.create(mypath)
> > dir.create(paste(mypath, "\\R", sep=""))
> > # dump the function into file "testfunctions"
> > dump("f1", file = paste(mypath, "\\R\\testfunctions", sep=""))
> > # very well, now let's try to add documentation:
> > dir.create(paste(mypath, "\\help", sep=""))
> > prompt(f1, file = paste(mypath, "\\help\\f1", sep=""))
> created file named  D:\Programme\R\rw1020\library\testfunctions\help\f1  in
> the current directory.
>   Edit the file and move it to the appropriate directory,
> D:\Programme\R\rw1020/src/library/<pkg>/man/ 
> > # let's see if it works:
> > rm(f1)
> > library(testfunctions)
> > find(f1)
> [1] "package:testfunctions"
> > f1(3)
> [1] 9
> > # very well so far!
> > # now, what about the documentation:
> > help(f1)
> Error in help(f1) : No documentation for `f1' in specified packages and
> libraries
> 
> And that's where I'm stuck. Not that it comes as a surprise to me that this
> doesn't work. I do have the "Writing R extensions" manual right here in

Yes, you forgot to INSTALL the package.  However, you've done a lot of
guessing about undocumented things to get this far (wherever did you get
that prompt line from), so actually following the documentation cannot be
as difficult?

> front of me, and I have read "readme.packages", but I have to admit that I
> am a bit lost in the documentation. I do have installed "rw1020sp.zip", I
> have downloaded "http://www.stats.ox.ac.uk/pub/Rtools/tools.zip", and I
> guess I have to use  those MAKE, INSTALL, RCMD etc. facilities in an
> appropriate way. But I just can't put the pieces together. (Please note that
> I don't need to build a "professional" package at the moment (with
> description files and all that stuff)).

Oh, but you do need them or the tools won't work.  And you need Perl
installed.

> If someone could point out how to procede in my simple example and how to
> make "help(f1)" work, it would be easier for me to figure out how to do
> these things generally. Maybe something like "Open a WindowsNT command
> window, got to directory xyz, and run the command(s) abc, ..."?
> 

Open a commands window in any convenient directory, e.g.
...\rw1020\src\library.

Make a directory testfunctions and sub-directories R and man.

Put the file f1.Rd in testfunctions/man, and remove
..\rw1020\src\library\testfunctions\help

Put your R code in testfunctions/R (which you had in
D:\Programme\R\rw1020\library\testfunctions\R, I guess) as a file with
extension .R

Create a DESCRIPTION file in testfunctions.

[Optionally run Rcmd build testfunctions  to create indices.]

Run Rcmd INSTALL testfunctions


Alternatively,

Open a commands window in ...\rw1020\src\library.

Make a directory testfunctions and sub-directories R and man.

Put the file f1.Rd in testfunctions/man

change directory to ...\rw1020\src\gnuwin32

Run make help-testfunctions

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From scho at hsph.harvard.edu  Fri Dec 29 16:32:19 2000
From: scho at hsph.harvard.edu (Sung-il Cho)
Date: Fri, 29 Dec 2000 10:32:19 -0500 (EST)
Subject: [R] will gam() be available soon? 
In-Reply-To: <3a4c684b.28a7.0@oecon.au.dk>
Message-ID: <Pine.GSO.4.10.10012291029020.28413-100000@hsph.harvard.edu>

Hello,

I wonder if generalized additive model (gam) capability
will be available in R sooner or later?
Anybody know about any ongoing project or plans on this?

Thanks!
Sungil

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wolski at molgen.mpg.de  Fri Dec 29 17:12:10 2000
From: wolski at molgen.mpg.de (Witold Eryk Wolski)
Date: Fri, 29 Dec 2000 17:12:10 +0100
Subject: [R] how to create help files
References: <C4D44AB4CB62D311BA6500041202E8862640B9@xms1.tirol.gv.at>
Message-ID: <3A4CB7DA.CC6175FA@molgen.mpg.de>

Hallo!
Fascinating! How you get so far?? I tried to repeat your expample and failed
earlier. (R 1.1 on NT4)
>  f1<-function(x)x^2
>  f1(2)
[1] 4
> R.home()
[1] "D:\\prog\\rw1011"
> dump("f1",file=paste(myhome,"\\library\\test\\R\\test",sep=""))
> rm(f1)
> library(test)
> find(f1)
Error in find(f1) : Object "f1" not found

Congratulations Heinrich!!!

Eryk


RINNER Heinrich wrote:

> Dear R users,
>
> this is a question for R version 1.2.0 under Windows NT 4.0, regarding the
> documentation of ones own functions.
> I have ceated a private library for my functions, which works all very well,
> apart from that I am not able to create appropriate help files.
>
> For illustration, here is a simple example of where I'm stuck:
>
> > # first, create a simple function f1:
> > f1 <- function(x) x^2
> > # create directories where a package called "testfunctions" with my own
> functions will live:
> > R.home()
> [1] "D:\\Programme\\R\\rw1020"
> > mypath <- paste(R.home(),"\\library\\testfunctions", sep="")
> > mypath
> [1] "D:\\Programme\\R\\rw1020\\library\\testfunctions"
> > dir.create(mypath)
> > dir.create(paste(mypath, "\\R", sep=""))
> > # dump the function into file "testfunctions"
> > dump("f1", file = paste(mypath, "\\R\\testfunctions", sep=""))
> > # very well, now let's try to add documentation:
> > dir.create(paste(mypath, "\\help", sep=""))
> > prompt(f1, file = paste(mypath, "\\help\\f1", sep=""))
> created file named  D:\Programme\R\rw1020\library\testfunctions\help\f1  in
> the current directory.
>   Edit the file and move it to the appropriate directory,
> D:\Programme\R\rw1020/src/library/<pkg>/man/
> > # let's see if it works:
> > rm(f1)
> > library(testfunctions)
> > find(f1)
> [1] "package:testfunctions"
> > f1(3)
> [1] 9
> > # very well so far!
> > # now, what about the documentation:
> > help(f1)
> Error in help(f1) : No documentation for `f1' in specified packages and
> libraries
>
> And that's where I'm stuck. Not that it comes as a surprise to me that this
> doesn't work. I do have the "Writing R extensions" manual right here in
> front of me, and I have read "readme.packages", but I have to admit that I
> am a bit lost in the documentation. I do have installed "rw1020sp.zip", I
> have downloaded "http://www.stats.ox.ac.uk/pub/Rtools/tools.zip", and I
> guess I have to use  those MAKE, INSTALL, RCMD etc. facilities in an
> appropriate way. But I just can't put the pieces together. (Please note that
> I don't need to build a "professional" package at the moment (with
> description files and all that stuff)).
>
> If someone could point out how to procede in my simple example and how to
> make "help(f1)" work, it would be easier for me to figure out how to do
> these things generally. Maybe something like "Open a WindowsNT command
> window, got to directory xyz, and run the command(s) abc, ..."?
>
> Best wishes for 2001,
>
> Heinrich Rinner.
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

--
Witold Eryk Wolski
Max Plank Institut fuer Molekulare Genetik
Ihnestr73 14195 Berlin
Germany
Work 0049-30-84131426


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Dec 29 17:20:14 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 29 Dec 2000 16:20:14 +0000 (GMT)
Subject: [R] will gam() be available soon? 
In-Reply-To: <Pine.GSO.4.10.10012291029020.28413-100000@hsph.harvard.edu>
Message-ID: <Pine.GSO.4.05.10012291609150.15199-100000@toucan.stats>

On Fri, 29 Dec 2000, Sung-il Cho wrote:

> I wonder if generalized additive model (gam) capability
> will be available in R sooner or later?
> Anybody know about any ongoing project or plans on this?

Depends exactly what you want.  There is a gam function in package
mgcv, but it is not an exact clone (no lo() for example).  Package gss 
can fit spline-based gams too.  And if you can accept regression splines
you can use glm. For Gaussian gams you can use bruto from package mda.

It you really want gam() as in S, please use S-PLUS (you must have access
to it given your address).  There are no plans to implement all its quirks
and bugs.

You will find collections of plans on the developer.r-project.org site,
including

   Something better than gam for additive models. Perhaps
   along the lines of BRUTO (in package mda).

One issue is selection of smoothness, which S's gam does very
slowly and unreliably.


You will also find in the list archive powerful arguments against any
use of additive models from a recent discussion on this.

(Kurt is planning to add something to the FAQ about this, but that depends
in part on our understanding the precise limitations of what we currently
have, and the packages keep on being upgraded.  I still find
mgcv's gam fails most times I try it, but your mileage may differ.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jeff_Lischer at mksinst.com  Fri Dec 29 18:04:47 2000
From: Jeff_Lischer at mksinst.com (Jeff_Lischer@mksinst.com)
Date: Fri, 29 Dec 2000 12:04:47 -0500
Subject: [R] Update: Dynamic Memory Allocation Errors in 1.2.0?
Message-ID: <OF81ED1AB1.A1D601AA-ON852569C4.005CEDCA@mksinst.com>

Good news! I received some feedback from others that they did see the
problem I described using abcnon() in 1.2.0 on Windows machines but not on
Linux machines. I looked into it some more and discovered that it's most
likely some problem with numerical precision or round off in the
pre-compiled Windows 1.2.0 version. I was able to run the abcnon function
in 1.2.0 successfully in Windows by changing the default finite difference
step size (epsilon) from 0.001 to 0.05.

Thanks for the help,
Jeff Lischer


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From saratempo76 at hotmail.com  Fri Dec 29 21:51:14 2000
From: saratempo76 at hotmail.com (Sara Ge)
Date: Fri, 29 Dec 2000 15:51:14 -0500
Subject: [R] oa.design substitute
Message-ID: <LAW2-F23WeOnFl0YldT000081be@hotmail.com>

dear helper ,
I need to find a function like oa.design in R very urgently. could you 
please tell me what to do??
thank you
sara

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kleiweg at let.rug.nl  Sat Dec 30 16:57:41 2000
From: kleiweg at let.rug.nl (Peter Kleiweg)
Date: Sat, 30 Dec 2000 16:57:41 +0100 (CET)
Subject: [R] Double stem-and-leaf
Message-ID: <Pine.LNX.4.21.0012301653170.627-100000@kleigh.nl>


Is there a package for double, back-to-back stem-and-leaf plots?

Like this:

    set 1       set 2
 
      970 | 1 |
      860 | 2 | 4
      773 | 3 | 3
  8632221 | 4 | 3334699
     5543 | 5 | 23467789
       20 | 6 | 127
          | 7 | 1
        5 | 8 |

-- 
Peter Kleiweg

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fberchtold at mail.bip.net  Sat Dec 30 22:09:22 2000
From: fberchtold at mail.bip.net (Fredrik Berchtold)
Date: Sat, 30 Dec 2000 22:09:22 +0100
Subject: [R] ARIMA
Message-ID: <LPBBKAOHICHGIHDHGMBACEEBCDAA.fberchtold@mail.bip.net>

Thanks,
Can't find an ARIMA in base, dse1/2 or tseries, only references to. What
package is it in?
Thanks again!
Best regards,
/fb

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From novo at uiuc.edu  Sun Dec 31 01:35:55 2000
From: novo at uiuc.edu (=?iso-8859-1?q?=C1lvaro=20A=2E=20Novo?=)
Date: Sat, 30 Dec 2000 18:35:55 -0600
Subject: [R] ARIMA
In-Reply-To: <LPBBKAOHICHGIHDHGMBACEEBCDAA.fberchtold@mail.bip.net>
References: <LPBBKAOHICHGIHDHGMBACEEBCDAA.fberchtold@mail.bip.net>
Message-ID: <00123018355500.20184@friedman>

On Saturday 30 December 2000 15:09, Fredrik Berchtold wrote:
> Thanks,
> Can't find an ARIMA in base, dse1/2 or tseries, only references to. What
> package is it in?

library(ts) 
?arima0 # Developed by Prof. Brian Ripley using exact ML
and library tseries has 'arma,' using conditional least squares.

Alvaro A. Novo
R-1.2.0
Linux SuSE 6.4
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Sun Dec 31 01:51:42 2000
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Sun, 31 Dec 2000 13:51:42 +1300
Subject: [R] ARIMA
In-Reply-To: <LPBBKAOHICHGIHDHGMBACEEBCDAA.fberchtold@mail.bip.net>; from fberchtold@mail.bip.net on Sat, Dec 30, 2000 at 10:09:22PM +0100
References: <LPBBKAOHICHGIHDHGMBACEEBCDAA.fberchtold@mail.bip.net>
Message-ID: <20001231135142.A6964@camille.indigoindustrial.co.nz>

Hi,

> Can't find an ARIMA in base, dse1/2 or tseries, only references to. What
> package is it in?

ts

You can also use the fracdiff package for a fractionally differenced
arima model (max. likelihood estimation of parameters).

Cheers,

Jason Turner
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From J.Brian.Adams  Sat Dec 30 21:19:57 2000
From: J.Brian.Adams (J.Brian.Adams)
Date: 30 Dec 2000 20:19:57 +0000
Subject: [R] Extracting repeated observations from a large data set
Message-ID: <200012310119.CAA13368@stat.math.ethz.ch>

I have a dataset containing over 750,000 observations.  I have read them
into an nx6 matrix.  If possible I would like to prune it by extracting
only those observations in which a specific characteristic that is
contained in column j appears at least k times.  I have used the
following where k=3 and the fifth column contains the test data

			ObsMatrix[as.numeric(table(ObsMatrix[,5])) > 3,]

but it does not seem to work.  It returns certain rows from the matrix,
but not necessarily those with more than three repeats, and it only
returns one row for each match.  I need to be able to keep all of the
duplicate records in the data.  Is there a way to do this without using
several nested for loops?



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at CMIS.CSIRO.AU  Sun Dec 31 04:03:10 2000
From: Bill.Venables at CMIS.CSIRO.AU (Bill.Venables@CMIS.CSIRO.AU)
Date: Sun, 31 Dec 2000 13:03:10 +1000
Subject: [R] Extracting repeated observations from a large data set
Message-ID: <2B7F04539DAFD311B61D009027D0DDA20C3B6A@roper-cv.qld.cmis.CSIRO.AU>



> -----Original Message-----
> From: J.Brian.Adams at stat.math.ethz.ch, PhD
> [mailto:brian_adams at jbadams.com]
> Sent: Sunday, 31 December 2000 6:20
> To: r-help at stat.math.ethz.ch
> Subject: [R] Extracting repeated observations from a large data set
> 
> 
> I have a dataset containing over 750,000 observations.  I have read them
> into an nx6 matrix.  If possible I would like to prune it by 
> extracting only those observations in which a specific characteristic that
is
> contained in column j appears at least k times.  I have used the
> following where k=3 and the fifth column contains the test data
> 
> 			ObsMatrix[as.numeric(table(ObsMatrix[,5])) > 3,]
> 
> but it does not seem to work.  

Try putting together what you want step by step instead of all in one hit.

1. Calculate the frequencies of what is in column 5.

	fr <- table(ObsMatrix[, 5])

2. Which of them are bigger than 3?  Here you have to be careful:

	bigs <- as.numeric(names(fr)[fr > 3])

(Work your way out from the inside - this is the crucial step).

3. Now pick the rows you wish to retain

	keep <- match(ObsMatrix[, 5], bigs, 0) > 0

on later versions you can use keep <- is.element(ObsMatrix[, 5], bigs) which
is much clearer to understand.)

4. Finally, get your reduced matrix:

	ObsMatrix <- ObsMatrix[keep, ]


Of course you can stitch some of these steps together, but be careful.  Your
mistake was in mixing up frequencies with the values that pertained to them.

Bill Venables.



> It returns certain rows from the matrix,
> but not necessarily those with more than three repeats, and it only
> returns one row for each match.  I need to be able to keep all of the
> duplicate records in the data.  Is there a way to do this 
> without using
> several nested for loops?
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kmself at ix.netcom.com  Sun Dec 31 04:08:39 2000
From: kmself at ix.netcom.com (kmself@ix.netcom.com)
Date: Sat, 30 Dec 2000 19:08:39 -0800
Subject: [R] R as a daemon?
Message-ID: <20001230190839.D2884@ix.netcom.com>

I have a GNU/Linux / Unix application in which I'd like to have an R
process running in a persistant state, while receiving instructions (and
data) from another process, and returning results to this process.

My initial thoughts are to set something up with named pipes or such,
but I believe that the R process will terminate when it reads EOF (^D)
from the input pipe.  The client process is meant to be a Python script.

Has anyone experimented with this or developed a similar solution?

TIA.

-- 
Karsten M. Self <kmself at ix.netcom.com>    http://kmself.home.netcom.com/
 Evangelist, Zelerate, Inc.                      http://www.zelerate.org
  What part of "Gestalt" don't you understand?      There is no K5 cabal
   http://gestalt-system.sourceforge.net/        http://www.kuro5hin.org
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 232 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20001230/06493e82/attachment.bin

From ripley at stats.ox.ac.uk  Sun Dec 31 09:40:59 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 31 Dec 2000 08:40:59 +0000 (GMT)
Subject: [R] ARIMA
In-Reply-To: <LPBBKAOHICHGIHDHGMBACEEBCDAA.fberchtold@mail.bip.net>
Message-ID: <Pine.GSO.4.05.10012310840040.3554-100000@auk.stats>

On Sat, 30 Dec 2000, Fredrik Berchtold wrote:

> Thanks,
> Can't find an ARIMA in base, dse1/2 or tseries, only references to. What
> package is it in?

Try the tools:

> help.search("arima")
Help files with alias or title matching `arima':
Type `?FOO' to inspect entry `FOO(PKG) TITLE'.

arima0(ts)   ARIMA Modelling of Time Series -- Preliminary Version

> help.search("ARIMA")
Help files with alias or title matching `ARIMA':
Type `?FOO' to inspect entry `FOO(PKG) TITLE'.

arima0(ts)   ARIMA Modelling of Time Series -- Preliminary Version

What was the problem?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Sun Dec 31 20:12:04 2000
From: edd at debian.org (Dirk Eddelbuettel)
Date: Sun, 31 Dec 2000 13:12:04 -0600 (CST)
Subject: [R] ARIMA
In-Reply-To: <20001231135142.A6964@camille.indigoindustrial.co.nz>
References: <LPBBKAOHICHGIHDHGMBACEEBCDAA.fberchtold@mail.bip.net>
	<20001231135142.A6964@camille.indigoindustrial.co.nz>
Message-ID: <14927.34052.695898.816732@sonny.eddelbuettel.com>


  "Jason" == Jason Turner <jasont at indigoindustrial.co.nz> writes:
  Jason> You can also use the fracdiff package for a fractionally differenced
  Jason> arima model (max. likelihood estimation of parameters).

Fracdiff's covariance matrix always leave me puzzled. Consider this (slightly
modified) 'example(fracdiff)' session:

> library(fracdiff)
> ts.test <- fracdiff.sim( 5000, ar = .2, ma = -.4, d = .3)
> .Random.seed
[1]          1 1866294289  525838217
>  fd.obj <- fracdiff( ts.test$series, nar = length(ts.test$ar), nma = length(ts.test$ma))
Warning message:
unable to compute correlation matrix in: switch(temp$info, warning("warning in gamma function"), warning("singular Hessian"),
>  fd.obj$hessian.dpq
                d       ar1      ma1
d   -2.926964e+11 -4251.568 4249.104
ar1 -4.251568e+03     0.000    0.000
ma1  4.249104e+03     0.000    0.000      

Quoting from Venables and Ripley (S Programming, p 168): "no estimate is
complete without some estimate of its uncertainty". 

That would leave fracdiff incomplete, or even broken, wouldn't it?

Cheers, Dirk

-- 
According to the latest figures, 43% of all statistics are totally worthless.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy at arcriswell.com  Sun Dec 31 20:56:54 2000
From: andy at arcriswell.com (Andrew Criswell)
Date: Mon, 1 Jan 2001 02:56:54 +0700
Subject: [R] The book: S Programming
Message-ID: <000701c07363$d44df810$a1da94cb@andrew8gpipq9q>

Will the real book "S Programming" please stand up.

As I searched for this book both on AMAZON.COM and AMAZON.CO.UK, I found two
different versions.

On AMAZON.COM my search reveals

S Programming (Statistics and Computing) by Brian D. Ripley, William N.
Venables. Our Price: $59.95. Availability: Usually ships within 24 hours.
Hardcover - 264 pages 1st edition (May 15, 2000) Springer Verlag; ISBN:
0387989668.

But on AMAZON.CO.UK I discover

S Programming, W.N. Venables, B.D. Ripley. Our Price: ?44.50 Availability:
Usually dispatched within 24 hours Hardcover - 400 pages 3rd Ed edition (30
June, 2000). Springer-Verlag New York Inc.; ISBN: 0387989668.

The implicit exchange rate between these two books, 1st ed. and 3rd, is
1.347 USD per GBP. I assume the 3rd edition from AMAZON.CO.UK is the most
recent, it certainly is the better buy. But when I tried to explain all this
to the AMAZON.COM folks I got merely computerized responses. They don't seem
to get it, but I'm sure Drs. Venables and Ripley will.

Happy holidays,
ANDREW

Andrew Criswell
Professor of Finance
Graduate School, Bangkok University


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Dec 31 22:55:13 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 31 Dec 2000 21:55:13 +0000 (GMT)
Subject: [R] The book: S Programming
In-Reply-To: <000701c07363$d44df810$a1da94cb@andrew8gpipq9q>
Message-ID: <Pine.GSO.4.05.10012312151250.16875-100000@toucan.stats>

On Mon, 1 Jan 2001, Andrew Criswell wrote:

> Will the real book "S Programming" please stand up.
> 
> As I searched for this book both on AMAZON.COM and AMAZON.CO.UK, I found two
> different versions.
> 
> On AMAZON.COM my search reveals
> 
> S Programming (Statistics and Computing) by Brian D. Ripley, William N.
> Venables. Our Price: $59.95. Availability: Usually ships within 24 hours.
> Hardcover - 264 pages 1st edition (May 15, 2000) Springer Verlag; ISBN:
> 0387989668.
> 
> But on AMAZON.CO.UK I discover
> 
> S Programming, W.N. Venables, B.D. Ripley. Our Price: 44.50 Availability:
> Usually dispatched within 24 hours Hardcover - 400 pages 3rd Ed edition (30
> June, 2000). Springer-Verlag New York Inc.; ISBN: 0387989668.
> 
> The implicit exchange rate between these two books, 1st ed. and 3rd, is
> 1.347 USD per GBP. I assume the 3rd edition from AMAZON.CO.UK is the most
> recent, it certainly is the better buy. But when I tried to explain all this
> to the AMAZON.COM folks I got merely computerized responses. They don't seem
> to get it, but I'm sure Drs. Venables and Ripley will.

Both are wrong in detail.  It *is* in the R FAQ, or look at

http://www.stats.ox.ac.uk/pub/MASS3/Sprog/

We believe US$59.95 to be correct for the price in the US.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mikem at salter-point.com  Sun Dec 31 22:58:15 2000
From: mikem at salter-point.com (Michael M. Meyer)
Date: Sun, 31 Dec 2000 13:58:15 -0800
Subject: [R] The book: S Programming 
In-Reply-To: Your message of "Mon, 01 Jan 2001 02:56:54 +0700."
             <000701c07363$d44df810$a1da94cb@andrew8gpipq9q> 
Message-ID: <200012312158.NAA13290@home.salter-point.com>

The Synopsis on Amazon.co.uk seems to refer to the book "Modern Applied 
Statistics with S-Plus, but otherwise these are the same two books.  
The US price of 59.95 converts to about 40.16 UK pounds (using a recent 
exchange rate).  Thus, except for the cost of mailing, it would seem 
that the US price is slightly better.  I would suggest you explore the 
shipping options (both price and delivery time) for the two sites and 
make a choice based on that.  My guess is that the US site will have a 
slightly lower shipping price and slightly faster delivery.

You (or perhaps Brian Ripley or Bill Venables) might want to contact 
Amazon.co.uk and suggest that they correct their catalog.  
Unfortunately, I don't much influence on these matters.

Regards, --Mike


>***> "Andrew Criswell" wrote (Mon, 01 Jan 2001 02:56:54 +0700)
> Will the real book "S Programming" please stand up.
> 
> As I searched for this book both on AMAZON.COM and AMAZON.CO.UK, I found two
> different versions.
> 
> On AMAZON.COM my search reveals
> 
> S Programming (Statistics and Computing) by Brian D. Ripley, William N.
> Venables. Our Price: $59.95. Availability: Usually ships within 24 hours.
> Hardcover - 264 pages 1st edition (May 15, 2000) Springer Verlag; ISBN:
> 0387989668.
> 
> But on AMAZON.CO.UK I discover
> 
> S Programming, W.N. Venables, B.D. Ripley. Our Price: #44.50 Availability:
> Usually dispatched within 24 hours Hardcover - 400 pages 3rd Ed edition (30
> June, 2000). Springer-Verlag New York Inc.; ISBN: 0387989668.
> 
> The implicit exchange rate between these two books, 1st ed. and 3rd, is
> 1.347 USD per GBP. I assume the 3rd edition from AMAZON.CO.UK is the most
> recent, it certainly is the better buy. But when I tried to explain all this
> to the AMAZON.COM folks I got merely computerized responses. They don't seem
> to get it, but I'm sure Drs. Venables and Ripley will.
> 
> Happy holidays,
> ANDREW
> 
> Andrew Criswell
> Professor of Finance
> Graduate School, Bangkok University


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


