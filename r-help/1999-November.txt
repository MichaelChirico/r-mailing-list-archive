From spoon at hilbert.maths.utas.edu.au  Tue Nov  2 00:53:44 1999
From: spoon at hilbert.maths.utas.edu.au (spoon)
Date: Mon, 1 Nov 1999 10:53:44 -1300 (EST)
Subject: [R] Possible bug?
Message-ID: <199910312353.KAA24647@hilbert.maths.utas.edu.au>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 3748 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19991101/f49f24bc/attachment.pl

From bates at stat.wisc.edu  Mon Nov  1 04:32:40 1999
From: bates at stat.wisc.edu (Douglas Bates)
Date: 31 Oct 1999 21:32:40 -0600
Subject: [R] Possible bug?
In-Reply-To: spoon's message of "Mon, 1 Nov 1999 10:53:44 -1300 (EST)"
References: <199910312353.KAA24647@hilbert.maths.utas.edu.au>
Message-ID: <6rogdelwdj.fsf@franz.stat.wisc.edu>

The problem you have encountered with
 example( gls )
from the lme library is caused by an R/S incompatibility in the
optimizers.  We have a patched version of the lme library and expect
to release it shortly.
-- 
Douglas Bates                            bates at stat.wisc.edu
Statistics Department                    608/262-2598
University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From y0004379 at tu-bs.de  Mon Nov  1 10:03:40 1999
From: y0004379 at tu-bs.de (Peter Malewski)
Date: Mon, 1 Nov 1999 10:03:40 +0100 (MET)
Subject: [R] R with ESS: how to start
In-Reply-To: <199910310209.PAA16314@atlas.marc.cri.nz>
Message-ID: <Pine.HPX.4.10.9911010956370.14608-100000@rzsrv1.rz.tu-bs.de>

On Sun, 31 Oct 1999, Patrick Connolly wrote:

> I installed ESS but I can't figure out what needs to be set
> for it to recognise R.  I gather it's something to do with 
> .emacs file, but none of the help files seem to mention it.
> Like everything, it's probably easy once you know, but so
> far I don't know where to look.

Its far a long time since i have installed ess, but if i remember correct
you have to add 

(require 'ess-site)

or 

(load "/PATH/ess-site.el")

Further modfication of ess-site.el is required, described at the head of
this file. General help=README

Bye

***************************************************************************
P.Malewski					Tel.: 0531 500965
Maschplatz 8					Email: P.Malewski at tu-bs.de
************************38114 Braunschweig********************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hdreau at cybercable.fr  Mon Nov  1 13:02:09 1999
From: hdreau at cybercable.fr (Herve Dreau)
Date: Mon, 1 Nov 1999 13:02:09 +0100
Subject: [R] outdated PACKAGES in CRAN
Message-ID: <19991101130208.A29206@raoul.fr>

I just installed the new R 0.65.1
The fonctionnality to upgrade and install packages is a very great idea.

But the file PACKAGES at http://www.ci.tuwien.ac.at:80/R/src/contrib/
is outdated : 3 of the 4 packages i try to install failed with a 404 not found :
the package version  are newer than the entry in the PACKAGES file :
survival4 survival4_1.4-0.tar.gz Version: 1.1-0
rpart rpart_1.0-7.tar.gz  Version: 1.0-6

But it's really a great idea.
Another remark, the package installed  with R core, and old packages have no
versionning number :

installed.packages()
 [1,] "addreg"    "/usr/local/lib/R/library" "NA"   
 [2,] "base"      "/usr/local/lib/R/library" "NA"   
 [3,] "bootstrap" "/usr/local/lib/R/library" "NA" 
...

Thanks for R.

Herv? Dr?au
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Adrian.Trapletti at wu-wien.ac.at  Tue Nov  2 11:24:52 1999
From: Adrian.Trapletti at wu-wien.ac.at (Adrian Trapletti)
Date: Tue, 02 Nov 1999 10:24:52 +0000
Subject: [R] tseries
Message-ID: <381EBBF4.9C4E7E90@wu-wien.ac.at>

Fritz just put tseries_0.3-1 on CRAN. It should now be more compatible
across different platforms than 0.3-0. Thanks to Brian Ripley, Karl
Syring, and Dirk Eddelbuettel.

Adrian

--
Adrian Trapletti, Vienna University of Economics and Business
Administration, Augasse 2-6, A-1090 Vienna, Austria
Phone: ++43 1 31336 4561, Fax: ++43 1 31336 708,
Email: adrian.trapletti at wu-wien.ac.at



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Tue Nov  2 11:37:54 1999
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Tue, 2 Nov 1999 11:37:54 +0100 (CET)
Subject: [R] tseries
In-Reply-To: <381EBBF4.9C4E7E90@wu-wien.ac.at>
References: <381EBBF4.9C4E7E90@wu-wien.ac.at>
Message-ID: <14366.48898.724035.270447@galadriel.ci.tuwien.ac.at>

>>>>> On Tue, 02 Nov 1999 10:24:52 +0000,
>>>>> Adrian Trapletti (AT) wrote:

AT> Fritz just put tseries_0.3-1 on CRAN. It should now be more compatible
AT> across different platforms than 0.3-0. Thanks to Brian Ripley, Karl
AT> Syring, and Dirk Eddelbuettel.

But please not that CRAN Vienna is still almost unreachable from
outside our offices (only email kind of works).

fritz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mcw at ln.nimh.nih.gov  Wed Nov  3 14:58:20 1999
From: mcw at ln.nimh.nih.gov (Matthew Wiener)
Date: Wed, 3 Nov 1999 08:58:20 -0500 (EST)
Subject: [R] editing in R
Message-ID: <Pine.SGI.3.96.991103084344.22815D-100000@ln.nimh.nih.gov>

Hi.

I'm having a problem with disappearing comments when I transfer files
(entire .RData files) from one machine to another, and I'm not sure
whether it's an R problem or an ESS problem.  Since ESS seems more likely,
I'm trying this list first.  (However, it seems to me this problem only
showed up when I upgraded to R-0.65.0 or R-0.65.1.)

Functions originally shows up fine -- if I type the name of a
function at a prompt, the comments are there, and the "source" attribute
of the function has the comments as well. But if I use control-c control-d
to edit the function, the source shows up without the comments.  And of
course once I load that version, the comments are gone.  The "keep.source"
option is set correctly in R.

The following lines appear in the "ESS" buffer in emacs:

(comment-start . #) (comment-start-skip . #+ *) (comment-column . 40)

These are the only things I can find involving comments.

I can't find anything in the online ESS manual.  Does anyone know how I
can keep my comments?

Thanks,
		Matt



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Nov  3 15:25:45 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 03 Nov 1999 15:25:45 +0100
Subject: [R] editing in R
In-Reply-To: Matthew Wiener's message of "Wed, 3 Nov 1999 08:58:20 -0500 (EST)"
References: <Pine.SGI.3.96.991103084344.22815D-100000@ln.nimh.nih.gov>
Message-ID: <x2bt9bejo6.fsf@blueberry.kubism.ku.dk>

Matthew Wiener <mcw at ln.nimh.nih.gov> writes:

> Hi.
> 
> I'm having a problem with disappearing comments when I transfer files
> (entire .RData files) from one machine to another, and I'm not sure
> whether it's an R problem or an ESS problem.  Since ESS seems more likely,
> I'm trying this list first.  

...he says and sends to both ess-help and r-help!

(However, it seems to me this problem only

> Functions originally shows up fine -- if I type the name of a
> function at a prompt, the comments are there, and the "source" attribute
> of the function has the comments as well. But if I use control-c control-d
> to edit the function, the source shows up without the comments.  And of
> course once I load that version, the comments are gone.  The "keep.source"
> option is set correctly in R.

This because C-c C-d is using dump() which ignores the stored source.
This should probably be changed.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at biostat.washington.edu  Wed Nov  3 15:49:05 1999
From: rossini at biostat.washington.edu (A.J. Rossini)
Date: 03 Nov 1999 06:49:05 -0800
Subject: [R] editing in R
In-Reply-To: Peter Dalgaard BSA's message of "03 Nov 1999 15:25:45 +0100"
References: <Pine.SGI.3.96.991103084344.22815D-100000@ln.nimh.nih.gov> <x2bt9bejo6.fsf@blueberry.kubism.ku.dk>
Message-ID: <87u2n3fx5q.fsf@alpha.cfas.washington.edu>


>>>>> "PDB" == Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

    PDB> Matthew Wiener <mcw at ln.nimh.nih.gov> writes:
    >> Hi.
    >>
    >> I'm having a problem with disappearing comments when I transfer
    >> files (entire .RData files) from one machine to another, and
    >> I'm not sure whether it's an R problem or an ESS problem.
    >> Since ESS seems more likely, I'm trying this list first.

    PDB> ...he says and sends to both ess-help and r-help!

    PDB> (However, it seems to me this problem only

    >> Functions originally shows up fine -- if I type the name of a
    >> function at a prompt, the comments are there, and the "source"
    >> attribute of the function has the comments as well. But if I
    >> use control-c control-d to edit the function, the source shows
    >> up without the comments.  And of course once I load that
    >> version, the comments are gone.  The "keep.source" option is
    >> set correctly in R.

    PDB> This because C-c C-d is using dump() which ignores the stored
    PDB> source.  This should probably be changed.

Where, Peter?  In R, or in ESS?  As far as I can tell, this is new
behavior by R which has broken ESS (at least at Matthew is using it).

We do check for the existing file, as the description shows below:

    ;; Three options:
    ;;  (1) Pop to an existing buffer containing the file in question
    ;;  (2) Find an existing file
    ;;  (3) Create a new file by issuing a dump() command to S
    ;; Force option (3) if there is a prefix arg

and if you dump from the current source, of course it overwrites,
since that's what you asked it to do, and since R apparently nukes the
comments, you don't get them again.  

Of course, this is why the preferred philosophy for using ESS is to
treat text as the truth, and .Data/.RData contents as realizations
(possibly with small error) of the truth :-).  One suggestion is to
force all ESS dumps (C-c C-d) to a directory called something like
.Rsrc (to be concurrent with .RData), and so all local (editable) data
will be relative to the .RData in the same directory.

best,
-tony

-- 
A.J. Rossini			Research Assistant Professor of Biostatistics 
Center for AIDS Research/HMC	Biostatistics/Univ. of Washington
Box 359931			Box 357232
206-731-3647 (3693=fax)		206-543-1044 (3286=fax)
rossini at u.washington.edu	rossini at biostat.washington.edu
http://www.biostat.washington.edu/~rossini/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From novo at uiuc.edu  Wed Nov  3 15:57:20 1999
From: novo at uiuc.edu (Alvaro A. Novo)
Date: Wed, 3 Nov 1999 08:57:20 -0600
Subject: [R] New package: norm
Message-ID: <99110309071100.10518@friedman>

Hi,

I would like to announce that a new package, norm, is available. The package
performs analysis of multivariate normal datasets with missing values. It was
originally developed by Prof. Joseph L. Schafer <jls at stat.psu.edu>. For
additional details please visit his website at http://www.stat.psu.edu/~jls/misoftwa.html

Hope you find it useful. Comments are certainly welcomed.

Alvaro A. Novo

ps. "Mirroring" should take a couple of days or so.

Alvaro A. Novo
U. of Illinois 
(Ph.D. Student Economics)
2116-304 S. Orchard St.
Urbana, IL 61801
USA

R-0.65.1
Linux SuSE 6.1
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Nov  3 16:33:10 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 03 Nov 1999 16:33:10 +0100
Subject: [R] editing in R
In-Reply-To: rossini@biostat.washington.edu's message of "03 Nov 1999 06:49:05 -0800"
References: <Pine.SGI.3.96.991103084344.22815D-100000@ln.nimh.nih.gov> <x2bt9bejo6.fsf@blueberry.kubism.ku.dk> <87u2n3fx5q.fsf@alpha.cfas.washington.edu>
Message-ID: <x24sf3egjt.fsf@blueberry.kubism.ku.dk>

rossini at biostat.washington.edu (A.J. Rossini) writes:

> Where, Peter?  In R, or in ESS?  As far as I can tell, this is new
> behavior by R which has broken ESS (at least at Matthew is using it).

It breaks itself too, since dump/restore will also lose the comments.
--> Fix it in R.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From theis at statistik.uni-dortmund.de  Wed Nov  3 18:06:58 1999
From: theis at statistik.uni-dortmund.de (Winfried Theis)
Date: Wed, 03 Nov 1999 18:06:58 +0100 (MET)
Subject: [R] Problem with function lda of the MASS package
In-Reply-To: <199903021458.OAA00839@toucan.stats.ox.ac.uk>
Message-ID: <XFMail.991103180658.theis@amadeus.statistik.uni-dortmund.de>

Dear Prof. Ripley,
dear R-Users,

I just tested the function "lda" from the MASS package and got the following
error-message:

> test<-lda(rnkonj,nkonj$V14,CV=T)
Error in NextMethod("lda") : negative length vectors are not allowed

I add the used dataset as attachment. There are 14 Variables in this dataset
and variable 14 is the classification into 4 groups. The dataframe "rnkonj"
consists only of the first 13 variables without the classification.

Is it only a problem of NOT giving a value for "subset" -- though I thought
after reading the help-page, this variable can be omitted...

I'm running R 0.65.0 from the SuSE-rpm package on a SuSE-Linux 6.2 system with
a Pentium 200  and 64MB RAM.

Any ideas or suggestions are welcome!

Thanks in advance,

Winfried Theis

----------------------------------
E-Mail: Winfried Theis <theis at amadeus.statistik.uni-dortmund.de>
Date: 03-Nov-99
Time: 17:18:45

Dipl.-Math. Winfried Theis, SFB 475, Fachbereich Statistik, Universit"at
Dortmund, 44221 Dortmundl
----------------------------------
-------------- next part --------------
A non-text attachment was scrubbed...
Name: konj554.datR
Type: application/octet-stream
Size: 14726 bytes
Desc: konj554.datR
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19991103/e6b7ef69/konj554.obj

From p.dalgaard at biostat.ku.dk  Wed Nov  3 17:19:47 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 03 Nov 1999 17:19:47 +0100
Subject: [R] editing in R
In-Reply-To: Peter Dalgaard BSA's message of "03 Nov 1999 15:25:45 +0100"
References: <Pine.SGI.3.96.991103084344.22815D-100000@ln.nimh.nih.gov> <x2bt9bejo6.fsf@blueberry.kubism.ku.dk>
Message-ID: <x2wvrzczto.fsf@blueberry.kubism.ku.dk>

Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

> This because C-c C-d is using dump() which ignores the stored source.
> This should probably be changed.

OK. Fixed for next version. Here's the patch if you want to try:

Index: src/main/deparse.c
===================================================================
RCS file: /home/rdevel/CVS-ARCHIVE/R/src/main/deparse.c,v
retrieving revision 1.30
diff -u -r1.30 deparse.c
--- deparse.c   1999/10/15 15:12:22     1.30
+++ deparse.c   1999/11/03 16:15:05
@@ -272,6 +272,8 @@
     if(strlen(CHAR(STRING(file)[0])) == 0) {
        for (i = 0; i < nobjs; i++) {
            Rprintf("\"%s\" <-\n", CHAR(STRING(names)[i]));
+           if (TYPEOF(CAR(o)) != CLOSXP || 
+               isNull(tval = getAttrib(CAR(o), R_SourceSymbol)))
            tval = deparse1(CAR(o), 0);
            for (j = 0; j<LENGTH(tval); j++) {
                Rprintf("%s\n", CHAR(STRING(tval)[j]));
@@ -284,6 +286,8 @@
            errorcall(call, "unable to open file");
        for (i = 0; i < nobjs; i++) {
            fprintf(fp, "\"%s\" <-\n", CHAR(STRING(names)[i]));
+           if (TYPEOF(CAR(o)) != CLOSXP || 
+               isNull(tval = getAttrib(CAR(o), R_SourceSymbol)))
            tval = deparse1(CAR(o), 0);
            for (j = 0; j<LENGTH(tval); j++) {
                fprintf(fp, "%s\n", CHAR(STRING(tval)[j]));


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Nov  3 18:22:52 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 3 Nov 1999 17:22:52 +0000 (GMT)
Subject: [R] Problem with function lda of the MASS package
In-Reply-To: <XFMail.991103180658.theis@amadeus.statistik.uni-dortmund.de>
Message-ID: <Pine.GSO.4.05.9911031714570.2275-100000@auk.stats>

On Wed, 3 Nov 1999, Winfried Theis wrote:

> Dear Prof. Ripley,
> dear R-Users,
> 
> I just tested the function "lda" from the MASS package and got the following
> error-message:
> 
> > test<-lda(rnkonj,nkonj$V14,CV=T)
> Error in NextMethod("lda") : negative length vectors are not allowed

Note that the error message is from NextMethod, not lda.

> I add the used dataset as attachment. There are 14 Variables in this dataset
> and variable 14 is the classification into 4 groups. The dataframe "rnkonj"
> consists only of the first 13 variables without the classification.
> 
> Is it only a problem of NOT giving a value for "subset" -- though I thought
> after reading the help-page, this variable can be omitted...
> 
> I'm running R 0.65.0 from the SuSE-rpm package on a SuSE-Linux 6.2 system with
> a Pentium 200  and 64MB RAM.
> 
> Any ideas or suggestions are welcome!

This is a problem in NextMethod in that version of R, I believe. Any of

test <- read.table("konj554.datR")
lda(V14 ~ ., test)
lda.default(test[, -14], test[, 14])
lda(as.matrix(test[, -14]), test[, 14])

should work there, but

> lda(test[, -14], test[, 14])
Error in NextMethod("lda") : negative length vectors are not allowed

in R 0.65.1 but works correctly in the development version.

As far as I can see using

lda.data.frame <- function (x, ...) 
{
    res <- lda(structure(data.matrix(x), class = "matrix"), ...)
    res$call <- match.call()
    res
}

also works around the problem in NextMethod.

It would be helpful to give a full reproducible script of what you did.
I found this rather hard to debug, as I don't have 0.65.0 on my home
machine (it has been superseded), and I could not generate the error
on the version I normally use.

(I think you will find the formula form more convenient, especially
if you added some variable labels to the data frame.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hammour at email.msn.com  Wed Nov  3 20:50:32 1999
From: hammour at email.msn.com (hammour)
Date: Wed, 3 Nov 1999 14:50:32 -0500
Subject: [R] data editor
Message-ID: <000801bf2634$b62b2920$2786173f@lawrence>

Dear sir,
I wanted to use data editor in Rw0.65.1, but I received an error that "there is no data editor in this R version". How can I get one with data editor? I tried to compiled it from source, but I failed. 

Thank you for your help.
Ahmad Abu Hammour

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/19991103/ed51680d/attachment.html

From laniel at cmu.edu  Thu Nov  4 05:08:47 1999
From: laniel at cmu.edu (Stephen R. Laniel)
Date: Wed, 03 Nov 1999 23:08:47 -0500
Subject: [R] Mathematical niceties
Message-ID: <1072689468.941670527@GROATS177.PPP.ANDREW.CMU.EDU>

I'd like to make axis titles, chart titles, legends and the like
mathematically nice (e.g., have proper superscripts and subscripts,
variables in italics, and so on).  Ideally, one could go into ``math mode"
a la LaTeX, and write something like

plot(blah, xlab="Methane in $\mbox{cm}^3$ / g", blah).

This is just an ideal, but it would be nice.  Is some approximation of this
functionality available in R (or indeed, in S Plus)?

Thanks a lot,
Steve

Stephen R. Laniel            |    "Every time she sneezes
Carnegie Mellon University   |     I believe it's love."
laniel at cmu.edu               |     --Adam Duritz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Thu Nov  4 05:34:36 1999
From: bates at stat.wisc.edu (Douglas Bates)
Date: 03 Nov 1999 22:34:36 -0600
Subject: [R] Mathematical niceties
In-Reply-To: "Stephen R. Laniel"'s message of "Wed, 03 Nov 1999 23:08:47 -0500"
References: <1072689468.941670527@GROATS177.PPP.ANDREW.CMU.EDU>
Message-ID: <6ru2n2vpr7.fsf@franz.stat.wisc.edu>

"Stephen R. Laniel" <laniel at cmu.edu> writes:

> I'd like to make axis titles, chart titles, legends and the like
> mathematically nice (e.g., have proper superscripts and subscripts,
> variables in italics, and so on).  Ideally, one could go into ``math mode"
> a la LaTeX, and write something like
> 
> plot(blah, xlab="Methane in $\mbox{cm}^3$ / g", blah).
> 
> This is just an ideal, but it would be nice.  Is some approximation of this
> functionality available in R (or indeed, in S Plus)?

Quite a good approximation to this is available in R in fact.  You use
the expression function to indicate you want to use a LaTeX-like
language.

Try
 example(text)
in R to see some examples.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jaan at moritz.botany.ut.ee  Thu Nov  4 12:01:01 1999
From: jaan at moritz.botany.ut.ee (Jaan Liira)
Date: Thu, 4 Nov 1999 13:01:01 +0200 (EET)
Subject: [R] spatial autocorrelation
Message-ID: <Pine.LNX.4.04.9911041255550.5185-100000@Moritz.botany.ut.ee>

Hello

I found out, that in R sould be available function global()
to calculate Morans I and Gearys C spatial autocorrelation 
indices. I searched for it in R-base and also in libraries 
funfit, akima and sgeostat. No results.
  Does somebody knows, where it is included.

Best regards
Jaan Liira



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hsamanie at bio.puc.cl  Thu Nov  4 16:21:10 1999
From: hsamanie at bio.puc.cl (Horacio Samaniego)
Date: Thu, 04 Nov 1999 10:21:10 -0500
Subject: [R] shapiro wilk
Message-ID: <3821A466.A9B8C2B7@bio.puc.cl>

I'm pretty new to R and are trying to do some reliable normality
testing... but, can't find the Shapiro Wilk test in R Does some
experienced user have such a function that will be wanting to share with
me? Or there is maybe some other way to get hte Shapiro Wilk test
done... I'll appreciate any hint on this,
Thanks

--
***********************
Horacio Samaniego
Dep. Ecologia
P. Universidad Catolica
Alameda 340
Santiago, Chile

Fono: (56 2) 686 2633
Fax:  (56 2) 686 2615
**********************


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From use at eio.uva.es  Thu Nov  4 17:02:59 1999
From: use at eio.uva.es (=?iso-8859-1?Q?Eusebio_Arenal_Guti=E9rrez?=)
Date: Thu, 4 Nov 1999 17:02:59 +0100
Subject: [R] R code for Experimental Design
Message-ID: <003f01bf26de$11560af0$6458589d@palent.etsiiaa.uva.es>

Is there any package that contains code for interactions and factor plots?

Thanks

Eusebio

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Thu Nov  4 17:43:42 1999
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Thu, 4 Nov 1999 17:43:42 +0100 (CET)
Subject: [R] outdated PACKAGES in CRAN
In-Reply-To: <19991101130208.A29206@raoul.fr>
References: <19991101130208.A29206@raoul.fr>
Message-ID: <14369.47038.33390.966466@galadriel.ci.tuwien.ac.at>

>>>>> On Mon, 1 Nov 1999 13:02:09 +0100,
>>>>> Herve Dreau (HD) wrote:

HD> I just installed the new R 0.65.1
HD> The fonctionnality to upgrade and install packages is a very great idea.

HD> But the file PACKAGES at http://www.ci.tuwien.ac.at:80/R/src/contrib/
HD> is outdated : 3 of the 4 packages i try to install failed with a 404 not found :
HD> the package version  are newer than the entry in the PACKAGES file :
HD> survival4 survival4_1.4-0.tar.gz Version: 1.1-0
HD> rpart rpart_1.0-7.tar.gz  Version: 1.0-6

HD> But it's really a great idea.
HD> Another remark, the package installed  with R core, and old packages have no
HD> versionning number :

HD> installed.packages()
HD>  [1,] "addreg"    "/usr/local/lib/R/library" "NA"   
HD>  [2,] "base"      "/usr/local/lib/R/library" "NA"   
HD>  [3,] "bootstrap" "/usr/local/lib/R/library" "NA" 
HD> ...


OK, I have tried to fix all bugs in the CRAN PACKAGE file, the
DESCRIPTIONs of the following packages have been fixed:

NISTnls
coda
mclust
rpart
splines
survival4

Note that I can't do easily something on old packages installed on
your system because they simply contain no version information (but
after one manual update this should be gone). Many users have private
packages without a formal DESCRIPTION file and IMO this is OK.

Regarding core packages, i.e., packages that come with the R sources:
I will introduce some check of the version of the running R process
against CRAN and print some message accordingly.


Best,
Fritz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Fri Nov  5 14:40:43 1999
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Fri, 5 Nov 1999 14:40:43 +0100 (CET)
Subject: [R] shapiro wilk
In-Reply-To: <3821A466.A9B8C2B7@bio.puc.cl>
References: <3821A466.A9B8C2B7@bio.puc.cl>
Message-ID: <14370.56923.345575.778285@fangorn.ci.tuwien.ac.at>

>>>>> Horacio Samaniego writes:

> I'm pretty new to R and are trying to do some reliable normality
> testing... but, can't find the Shapiro Wilk test in R Does some
> experienced user have such a function that will be wanting to share with
> me? Or there is maybe some other way to get hte Shapiro Wilk test
> done... I'll appreciate any hint on this,

I already have code for this, and it should be in the next release of
ctest.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From keitt at nceas.ucsb.edu  Fri Nov  5 18:41:18 1999
From: keitt at nceas.ucsb.edu (Timothy H. Keitt)
Date: Fri, 05 Nov 1999 09:41:18 -0800
Subject: [R] "break" breaks _outer_ loop -- ugh!
Message-ID: <382316BE.872C71CC@nceas.ucsb.edu>

It appears that "break" will break from the outermost enclosing loop not
the innermost loop.  Is it a bug or language feature?

Tim

--
Timothy H. Keitt
National Center for Ecological Analysis and Synthesis
735 State Street, Suite 300, Santa Barbara, CA 93101
Phone: 805-892-2519, FAX: 805-892-2510
http://www.nceas.ucsb.edu/~keitt/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Nov  5 18:57:48 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Nov 1999 18:57:48 +0100
Subject: [R] "break" breaks _outer_ loop -- ugh!
In-Reply-To: "Timothy H. Keitt"'s message of "Fri, 05 Nov 1999 09:41:18 -0800"
References: <382316BE.872C71CC@nceas.ucsb.edu>
Message-ID: <x27ljwddnn.fsf@blueberry.kubism.ku.dk>

"Timothy H. Keitt" <keitt at nceas.ucsb.edu> writes:

> It appears that "break" will break from the outermost enclosing loop not
> the innermost loop.  Is it a bug or language feature?

Er? 

> for (i in 1:5) for (j in 1:5) if (j==3) break  else cat (i,j,"\n")
1 1 
1 2 
2 1 
2 2 
3 1 
3 2 
4 1 
4 2 
5 1 
5 2 

What example were you trying?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From keitt at nceas.ucsb.edu  Fri Nov  5 19:15:54 1999
From: keitt at nceas.ucsb.edu (Timothy H. Keitt)
Date: Fri, 05 Nov 1999 10:15:54 -0800
Subject: [R] "break" breaks _outer_ loop -- ugh!
References: <382316BE.872C71CC@nceas.ucsb.edu> <x27ljwddnn.fsf@blueberry.kubism.ku.dk>
Message-ID: <38231ED9.F2FEF387@nceas.ucsb.edu>

Hmmm... I should go home and get some sleep! :-)  I was thinking "next" and
using "break" instead.

T.

Peter Dalgaard BSA wrote:

> "Timothy H. Keitt" <keitt at nceas.ucsb.edu> writes:
>
> > It appears that "break" will break from the outermost enclosing loop not
> > the innermost loop.  Is it a bug or language feature?
>
> Er?
>
> > for (i in 1:5) for (j in 1:5) if (j==3) break  else cat (i,j,"\n")
> 1 1
> 1 2
> 2 1
> 2 2
> 3 1
> 3 2
> 4 1
> 4 2
> 5 1
> 5 2
>
> What example were you trying?
>
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

--
Timothy H. Keitt
National Center for Ecological Analysis and Synthesis
735 State Street, Suite 300, Santa Barbara, CA 93101
Phone: 805-892-2519, FAX: 805-892-2510
http://www.nceas.ucsb.edu/~keitt/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rab at nauticom.net  Fri Nov  5 21:52:00 1999
From: rab at nauticom.net (Richard A. Bilonick)
Date: Fri, 05 Nov 1999 15:52:00 -0500
Subject: [R] Problem with installing survival5
References: <382316BE.872C71CC@nceas.ucsb.edu> <x27ljwddnn.fsf@blueberry.kubism.ku.dk>
Message-ID: <38234370.60418EF9@nauticom.net>

Hi. I'm using 0.65.1 under Linux (Red Hat 6.0). I installed splines and then
survival5. I  used library(survival) and was able to create obs using Surv. But I
get the following error message when trying to use survfit:

 fit <- survfit(obs~1)
Error in .C("survfit2", as.integer(n), y = y, as.integer(ny),
as.double(casewt[sorted]),  : C/Fortran function name not in load table

Any ideas on how to fix this?

I went back to look at the install and noticed the error shown below (marked with
<------):

[root at rbilonick athome]#  R INSTALL survival5
Installing package `survival5' ...
 libs
gcc -shared  -o /usr/lib/R/library/survival5/libs/survival5.so agexact.o agfit2.o
agfit4.o agfit_null.o agmart.o agscore.o agsurv1.o agsurv2.o agsurv3.o chinv2.o
chinv3.o cholesky2.o cholesky3.o chsolve2.o chsolve3.o cox_Rcallback.o coxdetail.o
coxfit2.o coxfit4.o coxmart.o coxph_wtest.o coxscho.o coxscore.o dmatrix.o
doloop.o pyears1.o pyears2.o pyears3.o pystep.o surv_callback.o survdiff2.o
survfit2.o survindex2.o survreg2.o survreg3.o survreg4.o survreg5.o
-L/usr/lib/gcc-lib/i386-redhat-linux/egcs-2.91.66 -L/usr/i386-redhat-linux/lib
-lg2c -lm
/usr/bin/ld: cannot open -lg2c: No such file or directory
collect2: ld returned 1 exit status
make: *** [/usr/lib/R/library/survival5/libs/survival5.so] Error 1
<------------------
 R
 data
 help
 >>> Building/Updating help pages for package `survival5'
     Formats: text html latex example
 DONE (survival5)

DONE (INSTALL)


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ray.Brownrigg at mcs.vuw.ac.nz  Fri Nov  5 21:18:46 1999
From: Ray.Brownrigg at mcs.vuw.ac.nz (Ray Brownrigg)
Date: Sat, 6 Nov 1999 09:18:46 +1300 (NZDT)
Subject: [R] library maps for R
Message-ID: <199911052018.JAA25822@tahi.mcs.vuw.ac.nz>

Anybody interested in the S maps library for R?  I have ported a
limited version of the software for a Unix platform, and would be happy
to make it available for anybody interested.  If there is a lot of
interest then I will submit it to CRAN.  I know that Ross Ihaka is
working on a new version for R, which does not have some of the
limitations of the original S version.

My version does not do projections or thinning but will accept the
standard S[-Plus] database files (*.[GLN]).

Ray Brownrigg
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Nov  5 22:58:00 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Nov 1999 22:58:00 +0100
Subject: [R] Problem with installing survival5
In-Reply-To: "Richard A. Bilonick"'s message of "Fri, 05 Nov 1999 15:52:00 -0500"
References: <382316BE.872C71CC@nceas.ucsb.edu> <x27ljwddnn.fsf@blueberry.kubism.ku.dk> <38234370.60418EF9@nauticom.net>
Message-ID: <x2puxoppnb.fsf@blueberry.kubism.ku.dk>

"Richard A. Bilonick" <rab at nauticom.net> writes:

> Hi. I'm using 0.65.1 under Linux (Red Hat 6.0). I installed splines and then
> survival5. I  used library(survival) and was able to create obs using Surv. But I
...
> -lg2c -lm
> /usr/bin/ld: cannot open -lg2c: No such file or directory

Well, this is your problem. I forget where libg2c is supposed to live
on RH 6.0, but on 6.1 it is part of the egcs-g77 package. It does
build correctly on my system. What happens if you do a 'locate libg2c'?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tchur at bigpond.com  Sat Nov  6 07:53:49 1999
From: tchur at bigpond.com (Tim Churches)
Date: Sat, 06 Nov 1999 17:53:49 +1100
Subject: [R] library maps for R
References: <199911052018.JAA25822@tahi.mcs.vuw.ac.nz>
Message-ID: <3823D07D.14F93EA2@bigpond.com>

Ray Brownrigg wrote:
> 
> Anybody interested in the S maps library for R?  I have ported a
> limited version of the software for a Unix platform, and would be happy
> to make it available for anybody interested.  If there is a lot of
> interest then I will submit it to CRAN.  I know that Ross Ihaka is
> working on a new version for R, which does not have some of the
> limitations of the original S version.
> 
> My version does not do projections or thinning but will accept the
> standard S[-Plus] database files (*.[GLN]).

Ray,

Yes please!I am trying to get to grips with GRASS which is excellent but
definitely overkill for a quick choropleth map. Maps via R would be very
handy.

Tim Churches
Sydney, Australia
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mlapsley at ndirect.co.uk  Sat Nov  6 20:20:22 1999
From: mlapsley at ndirect.co.uk (Michael Lapsley)
Date: Sat, 06 Nov 1999 19:20:22 -0000 (GMT)
Subject: [R] configure in libraries
Message-ID: <XFMail.991106192022.mlapsley@ndirect.co.uk>

Dear list,

What is the correct approved way to abort a library install if the c fails to
build?
I am tarting up my odbc library, and I would like to stop the install process
if the needed header files and libraries are not present on the system.  Error
messages flash past so fast that it is easy to miss their significance.

Michael
----------------------------------
E-Mail: Michael Lapsley <mlapsley at ndirect.co.uk>
Date: 06-Nov-99
Time: 19:16:30

This message was sent by XFMail
----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cstrato at EUnet.at  Sun Nov  7 20:56:45 1999
From: cstrato at EUnet.at (cstrato@EUnet.at)
Date: Sun, 07 Nov 1999 20:56:45 +0100
Subject: [R] R on LinuxPPC 
References: <368FC71B.80F0B29D@EUnet.at>
Message-ID: <3825D95C.54DA9849@EUnet.at>

> Hi,

Currently,  I am working with S-Plus on Win95, but I have now installed R
on my PowerBook G3.

Now I have the following questions:
1, How can I see large tables?
When the table is  a matrix, I can use "data.entry(ma)", however, when the
table is a "data.frame"
this seems not work.

2, How can I scroll to the end of the table in this "data.entry" window?
(e.g. with 10,000 rows)
The keys <fn>-page up/down and <fn>-end don?t work (although they do work
when I am using
e.g. the midnight commander mc)

3, How can I see which functions I have defined in R?

Note: One of the most useful features in S-Plus for Win95 is the "Object
Explorer", which shows me
all objects, i.e. lists, matrices, etc., but also results of calculations,
and also all functions,which I have
imported or defined, and which I can open upon double clicking. It would
be great, if a similar feature
would exist in R.

Thank you very much for your help
Christian Stratowa
e-mail: cstrato at EUnet.at



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rgentlem at jimmy.harvard.edu  Sun Nov  7 21:53:33 1999
From: rgentlem at jimmy.harvard.edu (Robert Gentleman)
Date: Sun, 7 Nov 1999 15:53:33 -0500
Subject: [R] R on LinuxPPC
In-Reply-To: <3825D95C.54DA9849@EUnet.at>; from cstrato@EUnet.at on Sun, Nov 07, 1999 at 08:56:45PM +0100
References: <368FC71B.80F0B29D@EUnet.at> <3825D95C.54DA9849@EUnet.at>
Message-ID: <19991107155333.A29464@jimmy.harvard.edu>

On Sun, Nov 07, 1999 at 08:56:45PM +0100, cstrato at EUnet.at wrote:
> > Hi,
> 
> Currently,  I am working with S-Plus on Win95, but I have now installed R
> on my PowerBook G3.
> 
> Now I have the following questions:
> 1, How can I see large tables?
> When the table is  a matrix, I can use "data.entry(ma)", however, when the
> table is a "data.frame"
> this seems not work.

  That's because the data.entry function predates data frames in R.

> 
> 2, How can I scroll to the end of the table in this "data.entry" window?
> (e.g. with 10,000 rows)
> The keys <fn>-page up/down and <fn>-end don?t work (although they do work
> when I am using
> e.g. the midnight commander mc)
> 
  I don;t think controls for those keys are built in to the data entry
  window (or they might be the wrong keycodes for PPC).

  Peter is thinking about a major revision of this part of R

> 3, How can I see which functions I have defined in R?
> 
  either ls() or objects() (both have options so you should have a
  look at the man pages, via  ?objects for example.


> Note: One of the most useful features in S-Plus for Win95 is the "Object
> Explorer", which shows me
> all objects, i.e. lists, matrices, etc., but also results of calculations,
> and also all functions,which I have
> imported or defined, and which I can open upon double clicking. It would
> be great, if a similar feature
> would exist in R.

  You could always start to work on such a feature...
> 
> Thank you very much for your help
> Christian Stratowa
> e-mail: cstrato at EUnet.at
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
+-------------------------------------------------------------------------+
| Robert Gentleman              voice: (617) 632-5045                     |
| Senior Lecturer               fax:   (617) 632-2444                     |
| University of Auckland	email1: rgentlem at jimmy.harvard.edu        |
| on leave at:                                                            |
| Dana-Farber Cancer Institute  email2: rgentlem at stat.auckland.ac.nz      |
+-------------------------------------------------------------------------+
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Nov  7 22:12:16 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 Nov 1999 22:12:16 +0100
Subject: [R] R on LinuxPPC
In-Reply-To: cstrato@EUnet.at's message of "Sun, 07 Nov 1999 20:56:45 +0100"
References: <368FC71B.80F0B29D@EUnet.at> <3825D95C.54DA9849@EUnet.at>
Message-ID: <x2ogd66m6n.fsf@blueberry.kubism.ku.dk>

cstrato at EUnet.at writes:

> > Hi,
> 
> Currently,  I am working with S-Plus on Win95, but I have now installed R
> on my PowerBook G3.
> 
> Now I have the following questions:
> 1, How can I see large tables?
> When the table is  a matrix, I can use "data.entry(ma)", however, when the
> table is a "data.frame"
> this seems not work.
> 
> 2, How can I scroll to the end of the table in this "data.entry" window?
> (e.g. with 10,000 rows)
> The keys <fn>-page up/down and <fn>-end don?t work (although they do work
> when I am using
> e.g. the midnight commander mc)

(This really has nothing to do with the PPC architecture, the problem
exists on all X11 platforms, but not on Windows because it isn't
implemented there...)

The data.entry function is a very old one and hasn't been updated for
a long while. Apparently most people don't use it much. As long as
data are purely numeric, it does sort of work, also for data frames
although it has an annoying habit of turning them into lists (fixable
with class(object)<-"data.frame"), but as soon as factors are
involved, everything comes to a halt.

It also contains a couple of pretty nasty bugs, and is very limited in
basic useability aspects (as you note, there's no "go to end" command,
and there's also no way of shuffling rows/columns around, inserting
things in the middle, etc.)

Don't be too surprised if this gets changed substantially in the future.

> 3, How can I see which functions I have defined in R?

ls()... If you really want only the functions, try something like:

functions<-  
function (...) 
{
    names <- eval.parent(substitute(ls(...)))
    prnt <- parent.frame()
    fcts <- sapply(names, function(s) is.function(get(s, envir = prnt)))
    names[fcts]
}


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Nov  7 23:15:23 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 7 Nov 1999 22:15:23 +0000 (GMT)
Subject: [R] R on LinuxPPC 
In-Reply-To: <3825D95C.54DA9849@EUnet.at>
Message-ID: <Pine.GSO.4.05.9911072200290.7084-100000@auk.stats>

On Sun, 7 Nov 1999 cstrato at EUnet.at wrote:

> > Hi,
> 
> Currently,  I am working with S-Plus on Win95, but I have now installed R
> on my PowerBook G3.
> 
> Now I have the following questions:
> 1, How can I see large tables?
> When the table is  a matrix, I can use "data.entry(ma)", however, when the
> table is a "data.frame"
> this seems not work.
> 
> 2, How can I scroll to the end of the table in this "data.entry" window?
> (e.g. with 10,000 rows)
> The keys <fn>-page up/down and <fn>-end dont work (although they do work
> when I am using
> e.g. the midnight commander mc)

In both cases I would write out the object and use my favourite
editor/pager to examine it.

As others have commented, we think the spreadsheet-like data editors will
be re-worked.  One big issue is look-and-feel: on each GUI platform there
is a standard way to do such things, and they differ. For Windows, Excel is
so standard that people are talking about using that if available.
(Literally using it via automation.)

> 3, How can I see which functions I have defined in R?

> Note: One of the most useful features in S-Plus for Win95 is the "Object
> Explorer", which shows me
> all objects, i.e. lists, matrices, etc., but also results of calculations,
> and also all functions,which I have
> imported or defined, and which I can open upon double clicking. It would
> be great, if a similar feature
> would exist in R.

That `feature' has been a cause of such grief in the Axum-based Windows
version of S-PLUS that I don't think we with our limited resources will be
trying a cross-platform solution in a hurry. Notably, MathSoft have tried
and failed to port it to Unix.  Also, this is the first really positive
comment about it I have ever heard (and I have heard 100s of negative
ones). Replacing `most useful' by `least useful' would win quite a few
votes amongst S-PLUS users of my acquaintance.

Both are things that advanced users seem not to use at all, although the
lack of cross-platform solutions must be a factor.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ray.Brownrigg at mcs.vuw.ac.nz  Mon Nov  8 01:33:55 1999
From: Ray.Brownrigg at mcs.vuw.ac.nz (Ray Brownrigg)
Date: Mon, 8 Nov 1999 13:33:55 +1300 (NZDT)
Subject: [R] loading precedence in requires()
Message-ID: <199911080033.NAA23172@aqua.mcs.vuw.ac.nz>

It appears that requires(), when it appears in the .First.lib of a
package, will load the required package *after* the package requiring
it, i.e. the 'required' package appears earlier in the search list than
the package requiring it.

This will cause problems if a package (deliberately) masks any of the
functions in the required package. I.e. the expected masking does not
occur.

Apart from expecting the end-user to issue a library() call for the
required package before the requiring package, are there any
workarounds for this, or is such deliberate masking considered to be a
no-no?

Ray Brownrigg
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Mon Nov  8 09:27:23 1999
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Mon, 8 Nov 1999 09:27:23 +0100 (CET)
Subject: [R] configure in libraries
In-Reply-To: <XFMail.991106192022.mlapsley@ndirect.co.uk>
References: <XFMail.991106192022.mlapsley@ndirect.co.uk>
Message-ID: <14374.35179.617000.181986@fangorn.ci.tuwien.ac.at>

>>>>> Michael Lapsley writes:

> Dear list,

> What is the correct approved way to abort a library install if the c
> fails to build?  I am tarting up my odbc library, and I would like to
> stop the install process if the needed header files and libraries are
> not present on the system.  Error messages flash past so fast that it
> is easy to miss their significance.

If compilation gives an error the install script stops, and as `src' is
tried before R code and documentation, nothing should get installed.

However, the right way is to use the configure/cleanup mechanism.  Have
a look at the `e1071' package.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krupa at alpha.sggw.waw.pl  Mon Nov  8 16:51:53 1999
From: krupa at alpha.sggw.waw.pl (Jan Krupa)
Date: Mon, 8 Nov 1999 16:51:53 +0100 (EET)
Subject: [R] archive of the mailing list?
Message-ID: <Pine.LNX.3.96.991108165027.326A-100000@mel220.sggw.waw.pl>


Is there an archive of the mailing list?
If so could someone please give the site address?

Jan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Mon Nov  8 16:18:38 1999
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Mon, 8 Nov 1999 16:18:38 +0100 (CET)
Subject: [R] archive of the mailing list?
In-Reply-To: <Pine.LNX.3.96.991108165027.326A-100000@mel220.sggw.waw.pl>
References: <Pine.LNX.3.96.991108165027.326A-100000@mel220.sggw.waw.pl>
Message-ID: <14374.59854.187236.53324@galadriel.ci.tuwien.ac.at>

>>>>> On Mon, 8 Nov 1999 16:51:53 +0100 (EET),
>>>>> Jan Krupa (JK) wrote:

JK> Is there an archive of the mailing list?
JK> If so could someone please give the site address?

The FAQ (=Frequently Asked Questions), available at every CRAN node
and linked from the online help after a help.start() says in Section 2.8:

[...]

Archives of the above three mailing lists are made available on the
net in a monthly schedule via the doc/mail/mail.html file in CRAN.  An
HTML archive of the lists are available via
http://www.ens.gu.edu.au/robertk/R/.

[...]

-- 
-------------------------------------------------------------------
                        Friedrich  Leisch 
Institut f?r Statistik                     Tel: (+43 1) 58801 10715
Technische Universit?t Wien                Fax: (+43 1) 58801 10798
Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
     PGP public key http://www.ci.tuwien.ac.at/~leisch/pgp.key
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Nov  8 16:18:47 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 08 Nov 1999 16:18:47 +0100
Subject: [R] archive of the mailing list?
In-Reply-To: Jan Krupa's message of "Mon, 8 Nov 1999 16:51:53 +0100 (EET)"
References: <Pine.LNX.3.96.991108165027.326A-100000@mel220.sggw.waw.pl>
Message-ID: <x2eme1t3jc.fsf@blueberry.kubism.ku.dk>

Jan Krupa <krupa at alpha.sggw.waw.pl> writes:

> Is there an archive of the mailing list?
> If so could someone please give the site address?

http://www.ens.gu.edu.au/robertk/R/

(which you could have found by following the hint in the footer...)

> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From arnholt at math.appstate.edu  Mon Nov  8 16:34:17 1999
From: arnholt at math.appstate.edu (Alan T. Arnholt)
Date: Mon, 8 Nov 1999 10:34:17 -0500 (EST)
Subject: [R] Nested Designs
Message-ID: <SIMEON.9911081017.A@speedy.math.appstate.edu>

Dear R list,

What is the proper way to specify a nested model so that
the F values agree with the expected mean square errors?
Specifically, suppose I have a design where "Heads" are 
nested within "Machines".  I would like to model the 
following Y_ijk = Mu + Machine_i +Head_j(i) +Error_k(ij).  

Using the commands below, 

> summary(aov(Strain~Machine + Head%in%Machine ))
             Df Sum Sq Mean Sq F value  Pr(>F)  
Machine       4  45.07   11.27  1.0532 0.38762  
Machine:Head 15 282.87   18.86  1.7625 0.06252 .
Residuals    60 642.00   10.70    

the F value to test "Machine" uses the MS residual 
instead of MS Head(Machine).

When I use the following no F value is reported

> summary(aov(Strain~Machine + Head%in%Machine + Error(Machine)))

Error: Machine
        Df Sum Sq Mean Sq
Machine  4 45.075  11.269

Error: Within
             Df Sum Sq Mean Sq F value  Pr(>F)  
Machine:Head 15 282.88   18.86  1.7625 0.06252 .
Residuals    60 642.00   10.70  

Is the second approach the best I can do?

Thanks  ALAN 

___________________________________
Alan T. Arnholt
Office phone: (828) 262 - 2863
Office fax  : (828) 265 - 8617

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Emilie.Levivier at lmcp.jussieu.fr  Mon Nov  8 17:54:35 1999
From: Emilie.Levivier at lmcp.jussieu.fr (Levivier Emilie)
Date: Mon, 08 Nov 1999 16:54:35 +0000
Subject: [R] range
Message-ID: <3827004B.E1EB0A89@lmcp.jussieu.fr>

I'm just beginning with R, and i've got a little problem, I would like
to have my own xrange and yrange on the graph when I plot a matrix, and
not the one R creates automatically.

Thank you for your help

Emilie Levivier (from Jussieu Paris)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Mon Nov  8 17:17:23 1999
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Mon, 8 Nov 1999 17:17:23 +0100 (CET)
Subject: [R] library maps for R
In-Reply-To: <199911052018.JAA25822@tahi.mcs.vuw.ac.nz>
References: <199911052018.JAA25822@tahi.mcs.vuw.ac.nz>
Message-ID: <14374.63379.998912.779369@galadriel.ci.tuwien.ac.at>

>>>>> On Sat, 6 Nov 1999 09:18:46 +1300 (NZDT),
>>>>> Ray Brownrigg (RB) wrote:

RB> Anybody interested in the S maps library for R?  I have ported a
RB> limited version of the software for a Unix platform, and would be happy
RB> to make it available for anybody interested.  If there is a lot of
RB> interest then I will submit it to CRAN.  I know that Ross Ihaka is
RB> working on a new version for R, which does not have some of the
RB> limitations of the original S version.

RB> My version does not do projections or thinning but will accept the
RB> standard S[-Plus] database files (*.[GLN]).

Anything is better than nothing, so if your port works in some way I
suggest that you submit it!

Best,
Fritz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Nov  8 17:24:49 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 08 Nov 1999 17:24:49 +0100
Subject: [R] Nested Designs
In-Reply-To: "Alan T. Arnholt"'s message of "Mon, 8 Nov 1999 10:34:17 -0500 (EST)"
References: <SIMEON.9911081017.A@speedy.math.appstate.edu>
Message-ID: <x29049t0ha.fsf@blueberry.kubism.ku.dk>

"Alan T. Arnholt" <arnholt at math.appstate.edu> writes:

> > summary(aov(Strain~Machine + Head%in%Machine ))
>              Df Sum Sq Mean Sq F value  Pr(>F)  
> Machine       4  45.07   11.27  1.0532 0.38762  
> Machine:Head 15 282.87   18.86  1.7625 0.06252 .
> Residuals    60 642.00   10.70    
> 
> the F value to test "Machine" uses the MS residual 
> instead of MS Head(Machine).
> 
> When I use the following no F value is reported
> 
> > summary(aov(Strain~Machine + Head%in%Machine + Error(Machine)))
> 
> Error: Machine
>         Df Sum Sq Mean Sq
> Machine  4 45.075  11.269
> 
> Error: Within
>              Df Sum Sq Mean Sq F value  Pr(>F)  
> Machine:Head 15 282.88   18.86  1.7625 0.06252 .
> Residuals    60 642.00   10.70  
> 
> Is the second approach the best I can do?

Hmm. You're not giving us any data to try it on, but I think I'd have

aov(Strain~Machine + Error(Machine:Head))

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rosm at ufrima.imag.fr  Mon Nov  8 17:37:33 1999
From: rosm at ufrima.imag.fr (ros mathieu)
Date: Mon, 08 Nov 1999 17:37:33 +0100
Subject: [R] can't read datasets from MASS library
Message-ID: <3826FC4D.10FD191C@ufrima.imag.fr>

Hello R users,
Sorry if this is a dumb question but I'm new to R under Windows (NT) and
I can't access datasets from V&R's MASS library :

> library(MASS)
> attach(UScrime)
Error: Object "UScrime" not found
> ls()
character(0)

but I get all the functions...Have I missed something ?
Any help would be appreciated. Thanks,
    Mathieu

--
----------------------------------------------------------------------
Mathieu Ros - 13 rue b?vi?re - 38000 GRENOBLE - 04 76 491 370
http://www.multimania.com/mathieuros/index2.html
DESS ing?nierie math?matique (biostatistiques)
Universite Joseph Fourier, Grenoble
----------------------------------------------------------------------
La pr?vision est difficile, surtout quand elle concerne l'avenir


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/19991108/3e711242/attachment.html

From thomas at biostat.washington.edu  Mon Nov  8 17:47:18 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Mon, 8 Nov 1999 08:47:18 -0800 (PST)
Subject: [R] can't read datasets from MASS library
In-Reply-To: <3826FC4D.10FD191C@ufrima.imag.fr>
Message-ID: <Pine.GSO.4.10.9911080844560.14709-100000@wompom.biostat.washington.edu>

On Mon, 8 Nov 1999, ros mathieu wrote:

> Hello R users,
> Sorry if this is a dumb question but I'm new to R under Windows (NT) and
> I can't access datasets from V&R's MASS library :
> 
> > library(MASS)
> > attach(UScrime)
> Error: Object "UScrime" not found
> > ls()
> character(0)
> 
> but I get all the functions...Have I missed something ?

You use the data() function to load datasets. 

	> library(MASS)
	> data(UScrime)
	> attach(UScrime)


Having explicit loading of data reduces the competition for both memory
and the namespace.

   -thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle	

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From arnholt at math.appstate.edu  Mon Nov  8 17:47:05 1999
From: arnholt at math.appstate.edu (Alan T. Arnholt)
Date: Mon, 8 Nov 1999 11:47:05 -0500 (EST)
Subject: [R] Nested Designs
In-Reply-To: <x29049t0ha.fsf@blueberry.kubism.ku.dk>
Message-ID: <SIMEON.9911081105.B@speedy.math.appstate.edu>


On 08 Nov 1999 17:24:49 +0100 Peter Dalgaard BSA 
<p.dalgaard at biostat.ku.dk> wrote:

> "Alan T. Arnholt" <arnholt at math.appstate.edu> writes:
> 
> > > summary(aov(Strain~Machine + Head%in%Machine ))
> >              Df Sum Sq Mean Sq F value  Pr(>F)  
> > Machine       4  45.07   11.27  1.0532 0.38762  
> > Machine:Head 15 282.87   18.86  1.7625 0.06252 .
> > Residuals    60 642.00   10.70    
> > 
> > the F value to test "Machine" uses the MS residual 
> > instead of MS Head(Machine).
> > 
> > When I use the following no F value is reported
> > 
> > > summary(aov(Strain~Machine + Head%in%Machine + Error(Machine)))
> > 
> > Error: Machine
> >         Df Sum Sq Mean Sq
> > Machine  4 45.075  11.269
> > 
> > Error: Within
> >              Df Sum Sq Mean Sq F value  Pr(>F)  
> > Machine:Head 15 282.88   18.86  1.7625 0.06252 .
> > Residuals    60 642.00   10.70  
> > 
> > Is the second approach the best I can do?
> 
> Hmm. You're not giving us any data to try it on, but I think I'd have
> 
> aov(Strain~Machine + Error(Machine:Head))
> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

Peter,

Here is the data I am using:

> strain
   Strain Head Machine
1       6    A       A
2       2    A       A
3       0    A       A
4       8    A       A
5      13    B       A
6       3    B       A
7       9    B       A
8       8    B       A
9       1    C       A
10     10    C       A
11      0    C       A
12      6    C       A
13      7    D       A
14      4    D       A
15      7    D       A
16      9    D       A
17     10    A       B
18      9    A       B
19      7    A       B
20     12    A       B
21      2    B       B
22      1    B       B
23      1    B       B
24     10    B       B
25      4    C       B
26      1    C       B
27      7    C       B
28      9    C       B
29      0    D       B
30      3    D       B
31      4    D       B
32      1    D       B
33      0    A       C
34      0    A       C
35      5    A       C
36      5    A       C
37     10    B       C
38     11    B       C
39      6    B       C
40      7    B       C
41      8    C       C
42      5    C       C
43      0    C       C
44      7    C       C
45      7    D       C
46      2    D       C
47      5    D       C
48      4    D       C
49     11    A       D
50      0    A       D
51      6    A       D
52      4    A       D
53      5    B       D
54     10    B       D
55      8    B       D
56      3    B       D
57      1    C       D
58      8    C       D
59      9    C       D
60      4    C       D
61      0    D       D
62      8    D       D
63      6    D       D
64      5    D       D
65      1    A       E
66      4    A       E
67      7    A       E
68      9    A       E
69      6    B       E
70      7    B       E
71      0    B       E
72      3    B       E
73      3    C       E
74      0    C       E
75      2    C       E
76      2    C       E
77      3    D       E
78      7    D       E
79      4    D       E
80      0    D       E

Your suggestion gives
> summary(aov(Strain~Machine + Head%in%Machine + Error(Machine:Head)))

Error: Machine:Head
             Df  Sum Sq Mean Sq
Machine       4  45.075  11.269
Machine:Head 15 282.875  18.858

Error: Within
          Df Sum Sq Mean Sq F value Pr(>F)
Residuals 60  642.0    10.7    

Unfortunately no F-values.....

ALAN
___________________________
Alan T. Arnholt
Office phone: (828) 262 - 2863
Office fax  : (828) 265 - 8617

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Mon Nov  8 18:05:05 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 8 Nov 1999 18:05:05 +0100 (MET)
Subject: [R] range
In-Reply-To: <3827004B.E1EB0A89@lmcp.jussieu.fr>
References: <3827004B.E1EB0A89@lmcp.jussieu.fr>
Message-ID: <14375.705.580955.388563@gargle.gargle.HOWL>


    Levivier> I'm just beginning with R, and i've got a little problem, I
    Levivier> would like to have my own xrange and yrange on the graph when
    Levivier> I plot a matrix, and not the one R creates automatically.

Then, you use 
      xlim = c(x1,x2),  ylim = c(y1,y2),

in your call to [mat]plot().

This documentation is available via  
     ?plot   
     ?matplot  
     ?par  
     ...
did you read it?

Regards:

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From arnholt at math.appstate.edu  Mon Nov  8 18:16:00 1999
From: arnholt at math.appstate.edu (Alan T. Arnholt)
Date: Mon, 8 Nov 1999 12:16:00 -0500 (EST)
Subject: [R] range
In-Reply-To: <3827004B.E1EB0A89@lmcp.jussieu.fr>
Message-ID: <SIMEON.9911081200.C@speedy.math.appstate.edu>

Try something like:

> plot(mat,xlim=c(2,6), ylim=c(4,10))

where mat is a n*2 matrix, xlim and ylim control
the limits on your "xrange" and "yrange".

ALAN


On Mon, 08 Nov 1999 16:54:35 +0000 Levivier Emilie 
<Emilie.Levivier at lmcp.jussieu.fr> wrote:

> I'm just beginning with R, and i've got a little problem, I would like
> to have my own xrange and yrange on the graph when I plot a matrix, and
> not the one R creates automatically.
> 
> Thank you for your help
> 
> Emilie Levivier (from Jussieu Paris)
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

___________________________________

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Nov  8 18:43:46 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 08 Nov 1999 18:43:46 +0100
Subject: [R] Nested Designs
In-Reply-To: "Alan T. Arnholt"'s message of "Mon, 8 Nov 1999 11:47:05 -0500 (EST)"
References: <SIMEON.9911081105.B@speedy.math.appstate.edu>
Message-ID: <x23dugube5.fsf@blueberry.kubism.ku.dk>

"Alan T. Arnholt" <arnholt at math.appstate.edu> writes:

> > Hmm. You're not giving us any data to try it on, but I think I'd have
> > 
> > aov(Strain~Machine + Error(Machine:Head))

> Here is the data I am using:
> 
> > strain
>    Strain Head Machine
> 1       6    A       A
....
> 80      0    D       E
> 
> Your suggestion gives
> > summary(aov(Strain~Machine + Head%in%Machine + Error(Machine:Head)))
> 
> Error: Machine:Head
>              Df  Sum Sq Mean Sq
> Machine       4  45.075  11.269
> Machine:Head 15 282.875  18.858
> 
> Error: Within
>           Df Sum Sq Mean Sq F value Pr(>F)
> Residuals 60  642.0    10.7    
> 
> Unfortunately no F-values.....

But that's not what I said:

> summary(aov(Strain~Machine + Error(Machine:Head)))

Error: Machine:Head
          Df  Sum Sq Mean Sq F value Pr(>F)
Machine    4  45.075  11.269  0.5975   0.67
Residuals 15 282.875  18.858               

Error: Within
          Df Sum Sq Mean Sq F value Pr(>F)
Residuals 60  642.0    10.7               


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From use at eio.uva.es  Mon Nov  8 19:58:21 1999
From: use at eio.uva.es (=?iso-8859-1?Q?Eusebio_Arenal_Guti=E9rrez?=)
Date: Mon, 8 Nov 1999 19:58:21 +0100
Subject: [R] replacement and extraction functions
Message-ID: <000101bf2a1b$3aa504c0$6458589d@palent.etsiiaa.uva.es>

Is there any documentation about replacement and extraction functions in R,
these fuenctions don't work as in S.

Example with funtion factor.names (of S+ 4.5r2)

> fnombres <- list(tratamiento=LETTERS[1:4], veneno=c("I","II","III"))
> veneno.diseno <- data.frame(
+ factor(rep(c(1,2,3,4), rep(12,4))),
+ factor(rep(rep(c(1,2,3), rep(4,3)),4))
+ )

> factor.names(veneno.diseno) <- fnombres
Error in factor.names<-(*tmp*, value = structure(list(tratamiento = c("A",
: unused argument to function

but the following works

> veneno.diseno <- "factor.names<-"(veneno.diseno, fnombres)

Thanks for the help

*************************************************************
*                 Eusebio Arenal Guti?rrez                  *
*   Departamento de Estad?stica e Investigaci?n Operativa   *
*      _\|/_      Universidad de Valladolid                 *
*      (o o)               Espa?a                           *
*---oOO-(_)-OOo-----------------------------------,,,-------*
*                      use at eio.uva.es            (o o)      *
*---------------------------------------------oOO-(_)-OOo---*
*                 Eusebio Arenal Guti?rrez                  *
*     Department of Statistics and Operational Research     *
*                 University of Valladolid                  *
*                           Spain                           *
*************************************************************



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Nov  8 19:49:01 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 8 Nov 1999 18:49:01 +0000 (GMT Standard Time)
Subject: [R] replacement and extraction functions
In-Reply-To: <000101bf2a1b$3aa504c0$6458589d@palent.etsiiaa.uva.es>
Message-ID: <Pine.WNT.4.05.9911081842290.3546-100000@tern.stats>

On Mon, 8 Nov 1999, [iso-8859-1] Eusebio Arenal Gutirrez wrote:

> Is there any documentation about replacement and extraction functions in R,
> these fuenctions don't work as in S.

I am sorry, I don't see your defn of factor.names<-().  The only difference
of which I am aware (try the V&R2 on-line R Complements or even the R FAQ)
is that in R the last argument of a replacement function _must_ be named
`value'. That is not true in S, nor of factor.names<-() in S-PLUS 4.5.

(If you are copying S-PLUS functions into R, you might want to check on the
copyright position.)

> Example with funtion factor.names (of S+ 4.5r2)
> 
> > fnombres <- list(tratamiento=LETTERS[1:4], veneno=c("I","II","III"))
> > veneno.diseno <- data.frame(
> + factor(rep(c(1,2,3,4), rep(12,4))),
> + factor(rep(rep(c(1,2,3), rep(4,3)),4))
> + )
> 
> > factor.names(veneno.diseno) <- fnombres
> Error in factor.names<-(*tmp*, value = structure(list(tratamiento = c("A",
> : unused argument to function

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Tue Nov  9 00:22:41 1999
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Tue, 9 Nov 1999 12:22:41 +1300
Subject: [R] library maps for R
In-Reply-To: <3823D07D.14F93EA2@bigpond.com>; from Tim Churches on Sat, Nov 06, 1999 at 05:53:49PM +1100
References: <199911052018.JAA25822@tahi.mcs.vuw.ac.nz> <3823D07D.14F93EA2@bigpond.com>
Message-ID: <19991109122241.B15389@stat1.stat.auckland.ac.nz>

On Sat, Nov 06, 1999 at 05:53:49PM +1100, Tim Churches wrote:
> Ray Brownrigg wrote:
> > 
> > Anybody interested in the S maps library for R?  I have ported a
> > limited version of the software for a Unix platform, and would be happy
> > to make it available for anybody interested.  If there is a lot of
> > interest then I will submit it to CRAN.  I know that Ross Ihaka is
> > working on a new version for R, which does not have some of the
> > limitations of the original S version.
> > 
> > My version does not do projections or thinning but will accept the
> > standard S[-Plus] database files (*.[GLN]).
> 
> Ray,
> 
> Yes please!I am trying to get to grips with GRASS which is excellent but
> definitely overkill for a quick choropleth map. Maps via R would be very
> handy.

I have a student who working on writing new code which provides
functionality equivalent to the Becker/Wilks maps library.  The code
provides access to the data in the format produced by Alan Wilks, and
allows for drawing and extraction of polygons and boundary lines.
Unlike the S code, we never suck in more than one polygon at a time so
it is possible to draw a full resolution world map.  We are
experimenting with a couple of forms of thinning.

In addition to this basic database handling, we also need to implement
projection clipping facilities.  This is slightly more complex and help
and advice from anyone who knows about cartography would be very welcome.
At present the plan is to use the USGS PROJ.4 package for projections
and to have a look at the clipping techniques use in GMT3.

For data, we are will use the original Becker-Wilks data, perhaps
updated to more modern boundaries using VMAP0.  In addition, I'd like
to add the ability to handle ESRI shapefiles and E00 data, because
there is so much data available in these formats.

I have had a look at the data files in GMT (aka GSHHS and WVS), and
it appears that the relative accuracy is very good, they can be out
by up to 1-2km.

I hope to have something to show within the next two weeks.

	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jonathan.Yuen at evp.slu.se  Tue Nov  9 09:27:30 1999
From: Jonathan.Yuen at evp.slu.se (Jonathan.Yuen@evp.slu.se)
Date: Tue, 9 Nov 1999 09:27:30 +0100 (MET)
Subject: [R] library maps for R
In-Reply-To: <19991109122241.B15389@stat1.stat.auckland.ac.nz>
Message-ID: <Pine.A41.4.05.9911090920100.12108-100000@kilauea.tvs.slu.se>

On Tue, 9 Nov 1999, Ross Ihaka wrote:

> In addition to this basic database handling, we also need to implement
> projection clipping facilities.  This is slightly more complex and help
> and advice from anyone who knows about cartography would be very welcome.
> At present the plan is to use the USGS PROJ.4 package for projections
> and to have a look at the clipping techniques use in GMT3.

I have been using PROJ.4 to do a limited number of projections (generally
called from SAS) and I have nothing but praise for the program.

Naturally, I am interested in any kind of mapping functions that can be
added to R.

Jonathan

Jonathan Yuen, Professor in Plant Pathology     phone: 46 18 672369
Dept. of Ecology and Crop Production Sciences   fax:   46 18 672369
Swedish University of Agricultural Sciences     http://www.tvs.slu.se
Box 7043                                        email replies to
S 750 07 Uppsala, SWEDEN                        Jonathan.Yuen at evp.slu.se 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at alpha.luc.ac.be  Tue Nov  9 09:37:24 1999
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Tue, 9 Nov 1999 09:37:24 +0100 (MET)
Subject: [R] Re: numerical integration {better than integrate(.)} ?
In-Reply-To: <14374.55818.372333.172333@gargle.gargle.HOWL> from "Martin Maechler" at Nov 08, 1999 03:11:22 PM
Message-ID: <199911090837.JAA17581@alpha.luc.ac.be>

> 
> {{I first wanted to send this to R-devel; 
>   but then thought, maybe first hear of you all.. 
>   and added a bit more
> 
>   Still could ask on R-devel later -- MM}
> 
> - In R, there's currently the "integrate" package from Mike Meyer, ported to
>   R by Thomas Lumley which really relies on multi-dimensional integration
>   "adapt" and is not particularly efficient for integrating simple 1d functions.
>   It stops with error/warning many times when I try to use it.
>   Also, it does not allow indefinite integrals (eg. from 0 to infty)
> 
> - MASS package has "area" which is there ``mainly for illustrative purposes''
> 
> - Jim Lindsey's non-CRAN "rmutil" package has  `int()'  which looks great,
>   judged from the help (int.Rd), allowing to choose between Romberg and
>   TOMS 614 methods, allowing for indefinite integrals and singularities at
>   the end point(s).
>   On the other hand, the C code seems somewhat complicated, and (for romberg.c),
>   quite a bit nested  (romberg -> evalRfn -> ..; interp) and completely
>   without comments. 
> 
>   [Yes: TOMS 614 has the copyright problem; but together with many more TOMS
>         routines in R...]
>   The (considerable!) drawback with  int() is that you don't get a
>   precision estimate back, but maybe that would be easy..
>   
> - For nice functions, very fast and accurate Gaussian integration should be 
>   "easy" to implement, and I remember having seen source for S, years ago,
>   but can't find it easily now.
>   The source would be so small that we could just include it in R's base
>   package (and this might be true for other integration utilities). 
> 
> I would propose to include in R a hopefully simple, 
> and `accurate in good cases'
> integrate() function [ different name?] for numerical integration of 1d
> functions. 
> 
> e.g. I want to be able to have things like
> 
>      integrate(function(x) dt(x,df=2), 0, Inf)
>      integrate(function(x) x*sqrt(x) dnorm(x), 0, 10, eps = 1e-10)
> 
> work
> [it *does* work with Jim's  int()  
>     ((when one uses character "infty" instead of Inf)),

That was written before Inf was in R and is obviously easy to fix.

>  but in my experience, one needs a long time of parameter fiddling to make
>  it produce a proper result with current integrate()]
> 
> Comments?
> Ideas?
> Jim, would you mind if e.g. I took your  int() & romberg code and
>  changed it by adding comments, probably change the UI a bit (argument
>  names; default values,..)?

Absolutely no problem. All of my code is wide open to the R community.
  Jim
> 
> MM
> 
>   
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lily at csi.com.ph  Tue Nov  9 09:57:57 1999
From: lily at csi.com.ph (Lily)
Date: Tue, 9 Nov 1999 16:57:57 +0800
Subject: No subject
Message-ID: <006401bf2a90$9eb236c0$4a98a4ca@csi.com.ph>

dear friends,

I would like to know if somebody out there who is very interested in the development of a spreadsheet interface or menu-driven statistical software based on R.  Also, I would like to know if the data.entry function is already available on Windows because I understand that it only works with Unix which is quite rare in our place.  More power.

Mark
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/19991109/03fe5b34/attachment.html

From bond at graylab.ac.uk  Tue Nov  9 10:32:42 1999
From: bond at graylab.ac.uk (Simon  Bond)
Date: Tue, 09 Nov 1999 09:32:42 +0000
Subject: [R] Xgobi for windows NT
Message-ID: <3.0.6.32.19991109093242.007b8300@graylab.ac.uk>

Dear R-Help,

Has anyone gotten Xgobi to work in conjunction with R on a windows NT
platform? About a month ago there was a thread in which Peter Ho gave a set
of instructions on how to do it on windows 95. These instructions worked
perfectly when I tried to follow them on a windows 95 pc, but  didn't when
it came to the NT pc on my desk. I'd be very grateful for a set of
instructions of similar detail.

Simon Bond

>Hi,
>
>Firstly, I would like to thank everyone who had replied to my earlier
>question of using Xgobi with R under windows. After a little messing around
>with the xgobi.bat file, I can now export data from R  into Xgobi running on
>the free MIX X server.
>In summary here is the procedure to make Xgobi work under windows for R:
>
>1) Download the Xgobi for windows executables from Brian Ripley's S-Liberries
>at
>
>                http://www.stats.ox.ac.uk/pub/SWin/
>
>I used the   xgobi3-99.zip  from 03-Mar-1999 09:55. Unzip it and place in any
>directory of your choice.
>
>
>2) Download R interface windows compiled library, xgobi.zip from CRAN or
>mirror sites and installed it in your library directory under which ever
>version of R you have running.
>
>3) Modify the xgobi.bat file found in (2) to read something like this:
>
>@echo off
>PATH=c:\windows\;
>set DISPLAY=your machine name: 0.0
>set XGOBID=c:/Xgobi3
>c:\Xgobi3\xgobi.exe %1 %2 %3 %4 %5 %6 %7 %8 %9
>
>
>Thanks very much to Martin you suggested to use the pass argument. Although
>it didn't work using
>%1 %2 %3 %4 %5 %6 %7 %8 %9, whihc was originally there did.
>In my case my parent directory for Xgobi was Xgobi3.
>
>
>4) From within R do the following.
>
>>    library(xgobi)
>
>then you can use the function:
>
>> xgobi(your matrix or data.frame)
>
>
>That's ll you need to do.
>
>Thanks again
>
>Peter
>
>------------------------------------
>Peter Ho
>Escola Superior de Biotecnologia
>Universidade Cat?lica Portuguesa
>Rua Dr. Ant?nio Bernardino de Almeida
>4200 Porto
>Portugal
>Tel: ++351-2-5580043
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Nov  9 10:45:24 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 9 Nov 1999 09:45:24 +0000 (GMT)
Subject: [R] Re: your mail
In-Reply-To: <006401bf2a90$9eb236c0$4a98a4ca@csi.com.ph>
Message-ID: <Pine.GSO.4.05.9911090936520.847-100000@auk.stats>

On Tue, 9 Nov 1999, `Lily' wrote:

> I would like to know if somebody out there who is very interested 
in the development of a spreadsheet interface or menu-driven statistical 
software based on R.  

We have put in all the hooks to enable you to use R as the engine, and
Thomas Baier has a DCOM interface to R (see the CRAN contributed section).
Erich Neuwirth has an Excel interface that uses that, which I guess he
will release fairly soon.  I have written a specific menu-based Visual
Basic application for one task.

But, if you want a menu-driven statistical system like SPSS or S-PLUS for
Windows, we have no plans to develop something like those in the
foreseeable future.  As R is a collaborative project, you are welcome to
build one and contribute it.


> Also, I would like to know if the data.entry function is already 
> available on Windows because I understand that it only works with Unix 
> which is quite rare in our place.  More power.

`works' is a bit of an over-statement, I think.  data.entry() is not in the
current Windows version (you could have looked to see), but expect
something to be there before version 1.0.  I don't really see the need for
this myself: I do the data entry/editing in my favourite tool, save to a
text file and import into R.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rosm at ufrima.imag.fr  Tue Nov  9 11:34:19 1999
From: rosm at ufrima.imag.fr (ros mathieu)
Date: Tue, 09 Nov 1999 11:34:19 +0100
Subject: [R] plrc()
Message-ID: <3827F8AA.2B4C21AF@ufrima.imag.fr>

I'm actually 'translating' the S-PLUS package multidim to R and I wonder
what is the equivalent to the plrc() function under R.
I need it to plot the correlation circle (rough translation from french,
hope this means something...) for the plot.acp() function but can't find
out any help on it .
any help would be appreciated.
    Mathieu

(thanks to T. Lumley for the data() help...)

--
----------------------------------------------------------------------
Mathieu Ros - 13 rue beviere - 38000 GRENOBLE - 04 76 491 370
http://www.multimania.com/mathieuros/index2.html
DESS ingenierie mathematique (biostatistiques)
Universite Joseph Fourier, Grenoble
----------------------------------------------------------------------
La prevision est difficile, surtout quand elle concerne l'avenir
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/19991109/90cbc4d5/attachment.html

From ripley at stats.ox.ac.uk  Tue Nov  9 12:15:46 1999
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 9 Nov 1999 11:15:46 +0000 (GMT)
Subject: [R] Xgobi for windows NT
Message-ID: <199911091115.LAA00545@toucan.stats.ox.ac.uk>

The instuctions in the xgobi package are the correct ones to follow:
they have been tested on several NT and 9x installations.  Peter Ho's
instructions were only needed as he had moved the .bat and .exe files
to the same directory, and had been using a batch file that seemed to
have been corrupted from the any distributed by me. (Even with the
files moved around the current instructions will work.)

You might want to make sure you have the latest versions of everything:

package xgobi.zip Oct 31, 1999
the xgobi for Windows zip Oct 29, 1999

and check that the batch files do work before you try using them in R.
One trick is to temporarily add `pause' at the end of the batch files,
as then you can read the error messages before they disappear.

> Has anyone gotten Xgobi to work in conjunction with R on a windows NT
> platform? About a month ago there was a thread in which Peter Ho gave a set
> of instructions on how to do it on windows 95. These instructions worked
> perfectly when I tried to follow them on a windows 95 pc, but  didn't when
> it came to the NT pc on my desk. I'd be very grateful for a set of
> instructions of similar detail.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Matthias.Fischer at wiso.uni-erlangen.de  Tue Nov  9 12:04:56 1999
From: Matthias.Fischer at wiso.uni-erlangen.de (M. Fischer)
Date: Tue, 9 Nov 1999 13:04:56 +0200
Subject: [R] simulation hyperbolic random variables
Message-ID: <5DE9935B2@wsrz2.wiso.uni-erlangen.de>

Dear SPLUS users,

I want to simulate generalized hyperbolic random processes for 
modelling financial time series. Is there any function for 
generating hyperbolic random variables? 

Thanks..

Regards
M. Fischer
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From angelika.nestler at uba.de  Tue Nov  9 15:38:37 1999
From: angelika.nestler at uba.de (Nestler, Angelika)
Date: Tue, 9 Nov 1999 15:38:37 +0100
Subject: No subject
Message-ID: <c=DE%a=_RZ%p=Umweltbundesamt%l=UBA_EMS-991109143837Z-29235@uba-ems.uba.de>


How can I import tables from Microsoft-Exel into R? Perhaps You can
explain in an example. Thanks!

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rab at nauticom.net  Tue Nov  9 17:19:03 1999
From: rab at nauticom.net (Richard A. Bilonick)
Date: Tue, 09 Nov 1999 11:19:03 -0500
Subject: [R] Problem with installing survival5
References: <Pine.GSO.4.05.9911052236390.29879-100000@auk.stats>
Message-ID: <38284977.C6320404@nauticom.net>

Prof Brian D Ripley wrote:

> On 5 Nov 1999, Peter Dalgaard BSA wrote:
>
> > "Richard A. Bilonick" <rab at nauticom.net> writes:
> >
> > > Hi. I'm using 0.65.1 under Linux (Red Hat 6.0). I installed splines and then
> > > survival5. I  used library(survival) and was able to create obs using Surv. But I
> > ...
> > > -lg2c -lm
> > > /usr/bin/ld: cannot open -lg2c: No such file or directory
> >
> > Well, this is your problem. I forget where libg2c is supposed to live
> > on RH 6.0, but on 6.1 it is part of the egcs-g77 package. It does
> > build correctly on my system. What happens if you do a 'locate libg2c'?
>
> It is on RH6.0 too. I have already suggested to Richard the absence of that
> RPM might be the problem if he installed fron RPMs (rather than built form
> source).
>
> As a matter of interest, is RH6.1 still on egcs than? I thought it
> postdated the grand unification and the demise of egcs (replaced by
> gcc-2.95.x).  For now, we have decided not to upgrade to 6.1 (too many
> machines sharing files, too little time).
>

I installed egcs-g77.1.1.2-12 and survival5 works. Thanks.

Rick Bilonick

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Tue Nov  9 16:24:37 1999
From: plummer at iarc.fr (Martyn Plummer)
Date: Tue, 09 Nov 1999 16:24:37 +0100 (CET)
Subject: [R] RE: 
In-Reply-To: <c=DE%a=_RZ%p=Umweltbundesamt%l=UBA_EMS-991109143837Z-29235@uba-ems.uba.de>
Message-ID: <XFMail.991109162437.plummer@iarc.fr>

I usually do this by saving the spreadsheet in comma-separated variable
(csv) format, and then read it into R with this command

foo.dat <- read.table("foo.csv", header=TRUE, sep=",")

Martyn

On 09-Nov-99 Nestler, Angelika wrote:
> 
> How can I import tables from Microsoft-Exel into R? Perhaps You can
> explain in an example. Thanks!
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Nov  9 16:34:33 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Nov 1999 16:34:33 +0100
Subject: [R] RE:
In-Reply-To: Martyn Plummer's message of "Tue, 09 Nov 1999 16:24:37 +0100 (CET)"
References: <XFMail.991109162437.plummer@iarc.fr>
Message-ID: <x29047vfue.fsf@blueberry.kubism.ku.dk>

Martyn Plummer <plummer at iarc.fr> writes:

> I usually do this by saving the spreadsheet in comma-separated variable
> (csv) format, and then read it into R with this command
> 
> foo.dat <- read.table("foo.csv", header=TRUE, sep=",")

...which reminds me that my students keep complaining that Excel does
CSV files with comma as decimal point and semicolon as separators if
Windows is localised to Danish (and I suppose also German). At least
it is better than some other programs that would use comma for both
items(!) but I suppose we need to cater for that kind of format along
with the other CSV specialities. (BTW is there any way of
distinguishing between 2 integer columns with comma as separator and 1
column of decimal numbers with comma as decimal point??)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From heberto at MEAKINS.Lan.McGill.CA  Tue Nov  9 11:31:27 1999
From: heberto at MEAKINS.Lan.McGill.CA (Heberto Ghezzo)
Date: Tue, 9 Nov 1999 11:31:27 EST5EDT
Subject: [R] Problems with read.table
Message-ID: <199911091633.LAA00171@sirocco.cc.mcgill.ca>

Hi I am using R65.1 in Windows 95
I have a CSV file from Excell
> 
a<-read.table("c:/heberto/mgc/tst.csv",header=T,sep=",")
> attach(a)
> a
  manolo  fvcpp  fevpp fvvcpp   tlcpp    rvpp  rvtlpp plmaxpp
1     1  99.28  97.67  98.38   91.14   102.9  111.25  117.64 
2     1  86.97  68.56  78.89   94.60  112.34  118.53   159.20
3     1  81.12  71.76  88.37   89.16  114.17  126.86   60.71 
4     1  98.12  86.05  87.73  102.34  127.41  123.05  102.13 
5     1  90.50  80.87  89.47   85.60   93.27  107.35   86.03 

--This is correct

> mean(fvcpp)
Error: "sum" not meaningful for factors
> fvcpp
[1] 99.28  86.97  81.12  98.12  90.50 
Levels:  81.12  86.97  90.50  98.12  99.28  

-- it reads the columns as factors and not as numeric

>  rm(a)
> a<-read.table("c:/heberto/mgc/tst.csv",header=T,sep=",",as.is=F)
> attach(a)
> mean(fvcpp)
Error: "sum" not meaningful for factors
> ls()
[1] "a"
> rm(a)
> a<-read.table("c:/heberto/mgc/tst.csv",header=T,sep=",",as.is=T)
> attach(a)
> mean(fvcpp)
Error in sum(..., na.rm = na.rm) : invalid "mode" of argument
>

-- so now, how can I read the file as numeric vectors?

> fvcpp
[1] "99.28 " "86.97 " "81.12 " "98.12 " "90.50 "
> fvcpp<-as.numeric(fvcpp)
> fvcpp
[1] 99.28 86.97 81.12 98.12 90.50
> mean(fvcpp)
[1] 91.198
>

-- this is obviously not the way to do it, for each variable
change it into numeric.
 
Can somebody tell me what I am doing wrong?, I used to follow the same 
procedure a<-read.table(...  attach(a)  and have all my variables as 
vectors with or without NA's .
This file has no NA's is all complete.
Thanks.
..
R. Heberto Ghezzo  Ph.D.
Meakins-Christie Labs
McGill University
Montreal - Canada
heberto at meakins.lan.mcgill.ca
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Nov  9 17:58:34 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Nov 1999 17:58:34 +0100
Subject: [R] Problems with read.table
In-Reply-To: "Heberto Ghezzo"'s message of "Tue, 9 Nov 1999 11:31:27 EST5EDT"
References: <199911091633.LAA00171@sirocco.cc.mcgill.ca>
Message-ID: <x2zowntxdx.fsf@blueberry.kubism.ku.dk>

"Heberto Ghezzo" <heberto at MEAKINS.Lan.McGill.CA> writes:

> -- so now, how can I read the file as numeric vectors?
> 
> > fvcpp
> [1] "99.28 " "86.97 " "81.12 " "98.12 " "90.50 "
> > fvcpp<-as.numeric(fvcpp)
> > fvcpp
> [1] 99.28 86.97 81.12 98.12 90.50
> > mean(fvcpp)
> [1] 91.198
> >
> 
> -- this is obviously not the way to do it, for each variable
> change it into numeric.
>  
> Can somebody tell me what I am doing wrong?, I used to follow the same 
> procedure a<-read.table(...  attach(a)  and have all my variables as 
> vectors with or without NA's .
> This file has no NA's is all complete.

Do you have spaces before the commas in your file?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david_m_potter at groton.pfizer.com  Tue Nov  9 19:18:07 1999
From: david_m_potter at groton.pfizer.com (Potter, David M)
Date: Tue, 9 Nov 1999 13:18:07 -0500 
Subject: [R] S-Plus function merge.data.frame() in R?
Message-ID: <DD9A7BB017D6D111810600805FA709C703C9C4CE@groexmbcr03.pfizer.com>

Hello.  I am interested in whether anyone has tried porting the
S-Plus function merge.data.frame() to R.  I copied and sourced
the S-Plus merge.data.frame() function definition but got the following
error
upon trying to merge two dataframes 

Error: invalid number of copies in "rep"

The same function call in S-Plus does not yield this error.

(Each of the two files has about 30,000 rows.  One file
has two columns and the other, 61)

I am running R version 0.65.1 under Solaris2.6.

I plan on forging ahead to see if I can identify the cause, but
I thought I would check with this list to see if anybody else had
encountered this. .  

Thanks.

David M. Potter
Mathematical & Statistical Sciences
Pfizer Central Research


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Nov  9 19:28:29 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 9 Nov 1999 10:28:29 -0800 (PST)
Subject: [R] S-Plus function merge.data.frame() in R?
In-Reply-To: <DD9A7BB017D6D111810600805FA709C703C9C4CE@groexmbcr03.pfizer.com>
Message-ID: <Pine.GSO.4.10.9911091024150.24556-100000@wompom.biostat.washington.edu>

On Tue, 9 Nov 1999, Potter, David M wrote:

> Hello.  I am interested in whether anyone has tried porting the
> S-Plus function merge.data.frame() to R.  I copied and sourced
> the S-Plus merge.data.frame() function definition but got the following
> error
> upon trying to merge two dataframes 
> 
> Error: invalid number of copies in "rep"

It might be easier to port the merge.data.frame function from the Statlib
S archive, which is less likely to have been optimised for S-PLUS. The
other advantage is that it would have a better chance of being legal to
distribute the resulting code.


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Vipul.Devas at rp-rorer.com  Tue Nov  9 19:25:15 1999
From: Vipul.Devas at rp-rorer.com (DEVAS, Vipul)
Date: Tue, 9 Nov 1999 13:25:15 -0500 
Subject: [R] Question on function "glm.fit"
Message-ID: <CEC354720AC9D111A4670000F84A122602268F89@clvex01.clv.rpr.rp>

I have a code that contains function "glm.fit" and it works in S-PLUS.  But
this same code (with some minor changes) does not work in R.  I am supplying
the part of the code.  Can somebody help with this problem?
The code
***************************************************
x1 <- seq(from=-1,to=2, length=20)
x2 <- (rep(1:5,4))/4
x <- cbind(1,x1,x2)
y <- c(0,1,1,1,1,1,0,0,1,1,1,0,1,0,1,1,1,1,1,1)
glm.fit(x,y,fam=binomial(link=logit))$coeff
*********************************************************

My email address is "vipul.devas at rp-rorer.com"

Thank you.

Vipul 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Tue Nov  9 19:47:32 1999
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Tue, 9 Nov 1999 19:47:32 +0100 (CET)
Subject: [R] S-Plus function merge.data.frame() in R?
In-Reply-To: <Pine.GSO.4.10.9911091024150.24556-100000@wompom.biostat.washington.edu>
References: <DD9A7BB017D6D111810600805FA709C703C9C4CE@groexmbcr03.pfizer.com>
	<Pine.GSO.4.10.9911091024150.24556-100000@wompom.biostat.washington.edu>
Message-ID: <14376.27716.49754.925189@aragorn.ci.tuwien.ac.at>

>>>>> Thomas Lumley writes:

> On Tue, 9 Nov 1999, Potter, David M wrote:
>> Hello.  I am interested in whether anyone has tried porting the
>> S-Plus function merge.data.frame() to R.  I copied and sourced
>> the S-Plus merge.data.frame() function definition but got the following
>> error
>> upon trying to merge two dataframes 
>> 
>> Error: invalid number of copies in "rep"

> It might be easier to port the merge.data.frame function from the
> Statlib S archive, which is less likely to have been optimised for
> S-PLUS. The other advantage is that it would have a better chance of
> being legal to distribute the resulting code.

Better  chance yes, but are we sure about this?  The file says

                 Copyright (1994)
Contributed by:  Raymond W. FALK, Ph.D. (24Sep1994, 18Oct1994)

so maybe we should contact the author first?

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Nov  9 19:50:39 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 9 Nov 1999 10:50:39 -0800 (PST)
Subject: [R] S-Plus function merge.data.frame() in R?
In-Reply-To: <14376.27716.49754.925189@aragorn.ci.tuwien.ac.at>
Message-ID: <Pine.GSO.4.10.9911091047580.24556-100000@wompom.biostat.washington.edu>

On Tue, 9 Nov 1999, Kurt Hornik wrote:

> >>>>> Thomas Lumley writes:
> > It might be easier to port the merge.data.frame function from the
> > Statlib S archive, which is less likely to have been optimised for
> > S-PLUS. The other advantage is that it would have a better chance of
> > being legal to distribute the resulting code.
> 
> Better  chance yes, but are we sure about this?  The file says
> 
>                  Copyright (1994)
> Contributed by:  Raymond W. FALK, Ph.D. (24Sep1994, 18Oct1994)
> 
> so maybe we should contact the author first?

Definitely.  But it seems clear that it would be at least ok to port it
for one's own use and most people don't mind their code being
redistributed if you ask first (with, of course, important exceptions).

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From JMORRIS6 at OCDUS.JNJ.COM  Tue Nov  9 19:52:16 1999
From: JMORRIS6 at OCDUS.JNJ.COM (Morris, Jeffrey [OCDUS])
Date: Tue, 9 Nov 1999 13:52:16 -0500 
Subject: [R] RE: 
Message-ID: <32D408AE6657D311B1B700508B10900C0EEFFC@jcdusroexs2.ocdus.jnj.com>

Do you know what I really, really miss in R that I took fopr granted in
my XLisp-Stat programming days???  The ability to easily create menus
and dialog boxes.  I could write little applications and give them out to
clients.  It was wonderful.  It would at least allow each person to begin
to build one's own menu driven version.  Just a thought!!

Jeff

> -----Original Message-----
> From:	Lily [SMTP:lily at csi.com.ph]
> Sent:	Tuesday, November 09, 1999 3:58 AM
> To:	r-help at stat.math.ethz.ch
> Subject:	
> 
> dear friends,
>  
> I would like to know if somebody out there who is very interested in the
> development of a spreadsheet interface or menu-driven statistical software
> based on R.  Also, I would like to know if the data.entry function is
> already available on Windows because I understand that it only works with
> Unix which is quite rare in our place.  More power.
>  
> Mark
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Tue Nov  9 19:52:31 1999
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Tue, 9 Nov 1999 19:52:31 +0100 (CET)
Subject: [R] S-Plus function merge.data.frame() in R?
In-Reply-To: <Pine.GSO.4.10.9911091047580.24556-100000@wompom.biostat.washington.edu>
References: <14376.27716.49754.925189@aragorn.ci.tuwien.ac.at>
	<Pine.GSO.4.10.9911091047580.24556-100000@wompom.biostat.washington.edu>
Message-ID: <14376.28015.729672.401491@aragorn.ci.tuwien.ac.at>

>>>>> Thomas Lumley writes:

> On Tue, 9 Nov 1999, Kurt Hornik wrote:
>> >>>>> Thomas Lumley writes:
>> > It might be easier to port the merge.data.frame function from the
>> > Statlib S archive, which is less likely to have been optimised for
>> > S-PLUS. The other advantage is that it would have a better chance of
>> > being legal to distribute the resulting code.
>> 
>> Better  chance yes, but are we sure about this?  The file says
>> 
>> Copyright (1994)
>> Contributed by:  Raymond W. FALK, Ph.D. (24Sep1994, 18Oct1994)
>> 
>> so maybe we should contact the author first?

> Definitely.  But it seems clear that it would be at least ok to port
> it for one's own use and most people don't mind their code being
> redistributed if you ask first (with, of course, important
> exceptions).

Right.  Actually, I think merge.data.frame() would be something nice to
have, so if someone wants to contact the author ...

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tchur at bigpond.com  Tue Nov  9 14:10:07 1999
From: tchur at bigpond.com (Tim Churches)
Date: Wed, 10 Nov 1999 00:10:07 +1100
Subject: [R] library maps for R
References: <199911052018.JAA25822@tahi.mcs.vuw.ac.nz> <3823D07D.14F93EA2@bigpond.com> <19991109122241.B15389@stat1.stat.auckland.ac.nz>
Message-ID: <38281D2F.60168B4B@bigpond.com>

Ross Ihaka wrote:
> I have a student who working on writing new code which provides
> functionality equivalent to the Becker/Wilks maps library.  The code
> provides access to the data in the format produced by Alan Wilks, and
> allows for drawing and extraction of polygons and boundary lines.
> Unlike the S code, we never suck in more than one polygon at a time so
> it is possible to draw a full resolution world map.  We are
> experimenting with a couple of forms of thinning.

Sounds good. By using R --vsize 100M I was able to plot a full
resolution
world map with map("world.full") using Ray's port of the Becker/Wilks
code and data.
It took about 3 minutes for the map to appear (on an old 64 meg RAM
266MHz Pentiium II 
running SuSE Linux 6.1), but it did work, and R (0.65.0) was perfectly
stable afterwards. Very impressive!

Tim Churches

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Nov  9 20:05:53 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Nov 1999 20:05:53 +0100
Subject: [R] Question on function "glm.fit"
In-Reply-To: "DEVAS, Vipul"'s message of "Tue, 9 Nov 1999 13:25:15 -0500"
References: <CEC354720AC9D111A4670000F84A122602268F89@clvex01.clv.rpr.rp>
Message-ID: <x2r9hztrhq.fsf@blueberry.kubism.ku.dk>

"DEVAS, Vipul" <Vipul.Devas at rp-rorer.com> writes:

> I have a code that contains function "glm.fit" and it works in S-PLUS.  But
> this same code (with some minor changes) does not work in R.  I am supplying
> the part of the code.  Can somebody help with this problem?
> The code
> ***************************************************
> x1 <- seq(from=-1,to=2, length=20)
> x2 <- (rep(1:5,4))/4
> x <- cbind(1,x1,x2)
> y <- c(0,1,1,1,1,1,0,0,1,1,1,0,1,0,1,1,1,1,1,1)
> glm.fit(x,y,fam=binomial(link=logit))$coeff
> *********************************************************

Aha! We've had a similar report but with no reproduction instructions.
Thank you very much for the clear example.

The thing that happens is that your x has no dimnames, but is a
matrix, so xnames and xxnames inside glm.fit are NULL and when you get
to 

    names(fit$effects) <- c(xxnames[seq(fit$rank)], rep("", nobs - 
        fit$rank))

everything comes to a screeching halt. If you add column names, things
are OK:

> colnames(x)<-1:3
> glm.fit(x,y,fam=binomial(link=logit))$coeff
          1           2           3 
-0.08959875  0.44189065  1.45697672 

I'm not really sure whether there's a bug in cbind, glm.fit, or both...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Nov  9 20:06:01 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 9 Nov 1999 11:06:01 -0800 (PST)
Subject: [R] Question on function "glm.fit"
In-Reply-To: <CEC354720AC9D111A4670000F84A122602268F89@clvex01.clv.rpr.rp>
Message-ID: <Pine.GSO.4.10.9911091057170.24556-100000@wompom.biostat.washington.edu>

On Tue, 9 Nov 1999, DEVAS, Vipul wrote:

> I have a code that contains function "glm.fit" and it works in S-PLUS.  But
> this same code (with some minor changes) does not work in R.  I am supplying
> the part of the code.  Can somebody help with this problem?
> The code
> ***************************************************
> x1 <- seq(from=-1,to=2, length=20)
> x2 <- (rep(1:5,4))/4
> x <- cbind(1,x1,x2)
> y <- c(0,1,1,1,1,1,0,0,1,1,1,0,1,0,1,1,1,1,1,1)
> glm.fit(x,y,fam=binomial(link=logit))$coeff
> *********************************************************

The problem seems to be that glm.fit() assumes its x matrix has non-null
column names.  This will always be true when x is generated by the
model.matrix() function, as it is when glm.fit() is called from glm()

R>glm.fit(model.matrix(~x1+x2,model.frame(~x1+x2)),y,family=binomial())$coeff
(Intercept)          x1          x2 
-0.08959875  0.44189065  1.45697672 
R> xxx<-x
R> colnames(xxx)
NULL
R> colnames(xxx)<-c("1","x1","x2")
R> glm.fit(xxx,y,fam=binomial())$coeff
          1          x1          x2 
-0.08959875  0.44189065  1.45697672 


The column names are used to label the estimated effects in the line
    names(fit$effects) <- c(xxnames[seq(fit$rank)], rep("", nobs - 
        fit$rank))
near the end of the function.


Presumably this should be fixed -- perhaps label the columns "1" "2" "3"
and so on?


	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Nov  9 20:11:24 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Nov 1999 20:11:24 +0100
Subject: [R] RE:
In-Reply-To: "Morris, Jeffrey [OCDUS]"'s message of "Tue, 9 Nov 1999 13:52:16 -0500"
References: <32D408AE6657D311B1B700508B10900C0EEFFC@jcdusroexs2.ocdus.jnj.com>
Message-ID: <x2ogd3tr8j.fsf@blueberry.kubism.ku.dk>

"Morris, Jeffrey [OCDUS]" <JMORRIS6 at OCDUS.JNJ.COM> writes:

> Do you know what I really, really miss in R that I took fopr granted in
> my XLisp-Stat programming days???  The ability to easily create menus
> and dialog boxes.  I could write little applications and give them out to
> clients.  It was wonderful.  It would at least allow each person to begin
> to build one's own menu driven version.  Just a thought!!

Same thought seems to be dropping into several peoples head these
days, along with the spreadsheet/dataeditor wishes. The basic problem
is that these things need design or we'll likely paint ourselves into
a corner... 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at hal.stat.unipd.it  Tue Nov  9 20:08:14 1999
From: guido at hal.stat.unipd.it (Guido Masarotto)
Date: Tue, 9 Nov 1999 20:08:14 +0100
Subject: [R] Problems with read.table
In-Reply-To: <199911091633.LAA00171@sirocco.cc.mcgill.ca>; from Heberto Ghezzo on Tue, Nov 09, 1999 at 11:31:27AM +0000
References: <199911091633.LAA00171@sirocco.cc.mcgill.ca>
Message-ID: <19991109200814.01543@hal.stat.unipd.it>

On Tue, Nov 09, 1999 at 11:31:27AM +0000, Heberto Ghezzo wrote:
> Hi I am using R65.1 in Windows 95
> I have a CSV file from Excell
> > fvcpp
> [1] "99.28 " "86.97 " "81.12 " "98.12 " "90.50 "
> > fvcpp<-as.numeric(fvcpp)
> > fvcpp
> [1] 99.28 86.97 81.12 98.12 90.50
> > mean(fvcpp)
> [1] 91.198
> >
> 
> -- this is obviously not the way to do it, for each variable
> change it into numeric.
>  

  If all variables are numeric, as part omitted of your message seems
  to point to, you can transform them in one step:

> system("cat Chopin");cat("\n")
1 , 2
3 , 4
> a <- read.table("Chopin",sep=",")
> a
  V1 V2
1 1   2
2 3   4
> attach(a)
> mean(V1)
Error: "sum" not meaningful for factors

But, 
> a <- data.frame(apply(read.table("Chopin",sep=","),2,as.numeric))
> attach(a)
> mean(V1)
[1] 2


On the other hand, if you have a mix of factor e/o character variables 
and numeric variables, things are a more complicated (and perhaps 
does exist a better solution than the following one):

> system("cat Bartok");cat("\n")
1 , two , 3
4 , five, 6
> a <- read.table("Bartok",sep=",")
> var.numeric <- c("V1","V3")
> index <- match(var.numeric,colnames(a))
> names <- colnames(a)
> a <- data.frame(apply(a[,index],2,as.numeric),a[,-index])
> colnames(a) <- c(names[index],names[-index])
> a
  V1 V3    V2
1  1  3  two 
2  4  6  five
> attach(a)
> mean(V1)
[1] 2.5

Hoping this help,
guido
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Nov  9 20:09:56 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 9 Nov 1999 19:09:56 +0000 (GMT)
Subject: [R] Question on function "glm.fit"
In-Reply-To: <CEC354720AC9D111A4670000F84A122602268F89@clvex01.clv.rpr.rp>
Message-ID: <Pine.GSO.4.05.9911091859220.981-100000@auk.stats>

On Tue, 9 Nov 1999, DEVAS, Vipul wrote:

> I have a code that contains function "glm.fit" and it works in S-PLUS.  But
> this same code (with some minor changes) does not work in R.  I am supplying
> the part of the code.  Can somebody help with this problem?

First, please do not use internal functions like this. There is no reason
not to use the advertised interface for glm.

glm(y ~ x1+x2, family=binomial(link=logit))$coeff
(Intercept)          x1          x2 
-0.08959875  0.44189065  1.45697672 

works in R as it would in S.

However, if you really want to know, you need to set x up correctly.

x <- cbind(intercept=1, x1=x1, x2=x2)
glm.fit(x,y,fam=binomial(link=logit))$coeff
  intercept          x1          x2 
-0.08959875  0.44189065  1.45697672 

The x matrix _must_ have colnames (and it would have in S-PLUS). As it is
an internal function, it does not check these things.

Whoever wrote the help page for glm.fit might note that

     x,y: logical values indicating whether the response
          vector and design matrix used in the fitting pro-
          cess should be returned as components of the
          returned value.

is none too helpful for glm.fit!  I believe it should have a help page
saying *Internal function, not for use directly*, but I tend to lose
such arguments! The S-PLUS one says

x:     a model matrix (design matrix).

so your example is incorrect in S, too. (Your x is not a model matrix.)

> The code
> ***************************************************
> x1 <- seq(from=-1,to=2, length=20)
> x2 <- (rep(1:5,4))/4
> x <- cbind(1,x1,x2)
> y <- c(0,1,1,1,1,1,0,0,1,1,1,0,1,0,1,1,1,1,1,1)
> glm.fit(x,y,fam=binomial(link=logit))$coeff
> *********************************************************

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Nov  9 21:16:45 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 9 Nov 1999 20:16:45 +0000 (GMT Standard Time)
Subject: [R] RE: 
In-Reply-To: <32D408AE6657D311B1B700508B10900C0EEFFC@jcdusroexs2.ocdus.jnj.com>
Message-ID: <Pine.WNT.4.05.9911092012350.330-100000@tern.stats>

On Tue, 9 Nov 1999, Morris, Jeffrey [OCDUS] wrote:

> Do you know what I really, really miss in R that I took fopr granted in
> my XLisp-Stat programming days???  The ability to easily create menus
> and dialog boxes.  I could write little applications and give them out to
> clients.  It was wonderful.  It would at least allow each person to begin
> to build one's own menu driven version.  Just a thought!!

If you want this on Windows, it is on the TODO list and probably not too
far away. The Windows interface may even get ported to Linux/Unix. Of
course if we had more contributors it might get done faster!  All the
required pieces are we believe in the graphapp toolkit in the source. Any
volunteers to take a look?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From duncan at rice.research.bell-labs.com  Tue Nov  9 22:05:34 1999
From: duncan at rice.research.bell-labs.com (Duncan Temple Lang)
Date: Tue, 9 Nov 1999 16:05:34 -0500
Subject: [R] RE:
Message-ID: <199911092105.WAA24832@stat.math.ethz.ch>

> Cc: r-help at stat.math.ethz.ch
> References: <32D408AE6657D311B1B700508B10900C0EEFFC at jcdusroexs2.ocdus.jnj.com>
> From: Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk>
> Date: 09 Nov 1999 20:11:24 +0100
> Lines: 18
> Sender: owner-r-help at stat.math.ethz.ch
> Precedence: bulk
> 
> "Morris, Jeffrey [OCDUS]" <JMORRIS6 at OCDUS.JNJ.COM> writes:
> 
> > Do you know what I really, really miss in R that I took fopr granted in
> > my XLisp-Stat programming days???  The ability to easily create menus
> > and dialog boxes.  I could write little applications and give them out to
> > clients.  It was wonderful.  It would at least allow each person to begin
> > to build one's own menu driven version.  Just a thought!!
> 
> Same thought seems to be dropping into several peoples head these
> days, along with the spreadsheet/dataeditor wishes. The basic problem
> is that these things need design or we'll likely paint ourselves into
> a corner... 
> 

(For some reason, mail on this I sent yesterday didn't actually
go out.)

Rather than committing to a particular design, we worked on a general
interface in S to X, Xt and numerous widget sets so that users could
write their own code. (It never actually got finished for a variety of
different reasons.) I think the general approach is the right way to
do things but potentially a lot of work and fixed to one or a few
platforms. 

A totally different way of doing this is to use Java which gets the
(almost) platform dependance. We can hook facilities for programming
in Java within R either by directly embedding Java in R and having a
.Java() function (and a .JavaConstructor). Alternatively, we can use
CORBA to connect a Java application and R functions and objects.

There are of course problems with either of these approaches
(i.e. requiring more software, etc.) but so do most approaches.

If anyone is actually serious about this, we can turn the .Java() code
out reasonably quickly. It sits on top of the Omegahat interpreter
which is in pretty solid shape for this purpose, at least.

D.

-- 
_______________________________________________________________

Duncan Temple Lang                duncan at research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan

      "Languages shape the way we think, and determine what 
       we can think about."        
                                      Benjamin Whorf
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rgentlem at jimmy.harvard.edu  Tue Nov  9 22:10:46 1999
From: rgentlem at jimmy.harvard.edu (Robert Gentleman)
Date: Tue, 9 Nov 1999 16:10:46 -0500
Subject: [R] RE:
In-Reply-To: <199911092105.WAA24832@stat.math.ethz.ch>; from Duncan Temple Lang on Tue, Nov 09, 1999 at 04:05:34PM -0500
References: <199911092105.WAA24832@stat.math.ethz.ch>
Message-ID: <19991109161046.K10965@jimmy.harvard.edu>

 I at least am pretty keen to see the .Java stuff. I'm not sure I'll
have time to work up a nice menu interface in the near future but I
have other reasons for wanting to play with the Java stuff.
  robert
-- 
+-------------------------------------------------------------------------+
| Robert Gentleman              voice: (617) 632-5045                     |
| Senior Lecturer               fax:   (617) 632-2444                     |
| University of Auckland	email1: rgentlem at jimmy.harvard.edu        |
| on leave at:                                                            |
| Dana-Farber Cancer Institute  email2: rgentlem at stat.auckland.ac.nz      |
+-------------------------------------------------------------------------+
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cstrato at EUnet.at  Tue Nov  9 22:23:44 1999
From: cstrato at EUnet.at (cstrato@EUnet.at)
Date: Tue, 09 Nov 1999 22:23:44 +0100
Subject: [R] R on LinuxPPC
References: <Pine.GSO.4.05.9911072200290.7084-100000@auk.stats>
Message-ID: <382890DF.28925D9E@EUnet.at>

Dear Prof Ripley

Thank you and your colleagues for the answers.

I would like to comment once again on the "object explorer":
The nice things about S-Plus are
i, the interactivity, i.e. to get results immediately and to try out things
very easily
ii, the object orientation of the language

In a sense S-Plus for Win95 functions as integrated development environment,
and the nice feature of its object explorer is that you can open all your
results in
table form and check immediately if the results are ok. This does not only work

with test-data used to try my own functions, but also with the real data, which
in
my case are currently data.frames with more than 7,000 rows. I can even change
data in the spreadsheet like form on the fly.
Of course, I could export and re-import the tables, but this is no longer
intuitive.
Besides that, I know currently no spreadsheet program for Linux, which I could
use for these purposes. gnumeric is not able to handle 7,000 rows, and
StarOffice
would use too much memory itself.
The main disadvantage of object explorer, which I see, is that it takes often
minutes
to open S-Plus. (However, recently I managed to bomb the object explorer in a
way
that I had to throw away and completely rebuild the user folder with all my
data.)

Since S-Plus (and R) is an object-oriented language, it would be great to  have
a
class browser similar to other object-oriented languages.

It is clear that R is freeware and that most people do development for fun. I
am
happy, that R does exist, so that I can use my Mac-PowerBook (with Linux)
and need not use Wintel-boxes at home, but as a Mac user I have come to
appreciate a nice user interface, since I can concentrate on the work. Now,
that
Linux has KDE, it would be great to see a version of R which takes advantage
of KDE.

As a final point, I personally think there is no need to go cross-platform, it
would be
enough to stick with Linux and KDE. I don?t care about Wintel, and although
I would have preferred to see S-Plus on the Mac, I can live with the Linux
version of R.

I hope I did not offend anyone too much with my statements.

Best regards
Christian Stratowa, Ph.D.
Vienna, Austria

Prof Brian D Ripley wrote:

> On Sun, 7 Nov 1999 cstrato at EUnet.at wrote:
>
> > > Hi,
> >
> > Currently,  I am working with S-Plus on Win95, but I have now installed R
> > on my PowerBook G3.
> >
> > Now I have the following questions:
> > 1, How can I see large tables?
> > When the table is  a matrix, I can use "data.entry(ma)", however, when the
> > table is a "data.frame"
> > this seems not work.
> >
> > 2, How can I scroll to the end of the table in this "data.entry" window?
> > (e.g. with 10,000 rows)
> > The keys <fn>-page up/down and <fn>-end don?t work (although they do work
> > when I am using
> > e.g. the midnight commander mc)
>
> In both cases I would write out the object and use my favourite
> editor/pager to examine it.
>
> As others have commented, we think the spreadsheet-like data editors will
> be re-worked.  One big issue is look-and-feel: on each GUI platform there
> is a standard way to do such things, and they differ. For Windows, Excel is
> so standard that people are talking about using that if available.
> (Literally using it via automation.)
>
> > 3, How can I see which functions I have defined in R?
>
> > Note: One of the most useful features in S-Plus for Win95 is the "Object
> > Explorer", which shows me
> > all objects, i.e. lists, matrices, etc., but also results of calculations,
> > and also all functions,which I have
> > imported or defined, and which I can open upon double clicking. It would
> > be great, if a similar feature
> > would exist in R.
>
> That `feature' has been a cause of such grief in the Axum-based Windows
> version of S-PLUS that I don't think we with our limited resources will be
> trying a cross-platform solution in a hurry. Notably, MathSoft have tried
> and failed to port it to Unix.  Also, this is the first really positive
> comment about it I have ever heard (and I have heard 100s of negative
> ones). Replacing `most useful' by `least useful' would win quite a few
> votes amongst S-PLUS users of my acquaintance.
>
> Both are things that advanced users seem not to use at all, although the
> lack of cross-platform solutions must be a factor.
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at epm.net.co  Wed Nov 10 06:55:54 1999
From: krcabrer at epm.net.co (Kenneth Cabrera)
Date: Wed, 10 Nov 1999 00:55:54 -0500
Subject: [R] Problem with .Fortran dll in windows
References: <Pine.GSO.4.05.9911072200290.7084-100000@auk.stats> <382890DF.28925D9E@EUnet.at>
Message-ID: <382908E9.C6EEC011@epm.net.co>

Can any body help me with this situation:

When I use the function "daisy()" in "cluster" library
the R crashes when the funtion make a .Fortran call.
I have both WinNT and Win95 and in both the same
function fails.

This is the message in win 95:

RGUI provoc? un fallo de p?gina no v?lida en el
m?dulo R.DLL de 0137:1007a0a6.
Registros:
EAX=02ce0010 CS=0137 EIP=1007a0a6 EFLGS=00010207
EBX=0486ffe0 SS=013f ESP=0253f56c EBP=0253f600
ECX=02ce0010 DS=013f ESI=03f3f88c FS=1aaf
EDX=0253f5bc ES=013f EDI=03f3edec GS=0000
Bytes en CS:EIP:
89 3c 90 42 89 95 74 ff ff ff 6a 01 e8 f1 e8 f9
Volcado de pila:
10122890 0253f5b8 0253f5bc 00000000 040304e4 03f40408 03f3f580 0253f5e8 10019411
04030534 03089e64 0253f5e8 0253f5c0 00000001 04870008 03f3ef68

In NT appears a similar message.

Would you please help me how can I solve this situation?
It is about the .dll archive?



Kenneth Cabrera
krcabrer at epm.net.co

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Nov 10 08:49:40 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 10 Nov 1999 07:49:40 +0000 (GMT)
Subject: [R] Problem with .Fortran dll in windows
In-Reply-To: <382908E9.C6EEC011@epm.net.co>
Message-ID: <Pine.GSO.4.05.9911100743380.1276-100000@auk.stats>

On Wed, 10 Nov 1999, Kenneth Cabrera wrote:

> Can any body help me with this situation:
> 
> When I use the function "daisy()" in "cluster" library
> the R crashes when the funtion make a .Fortran call.
> I have both WinNT and Win95 and in both the same
> function fails.
> 
> This is the message in win 95:
> 
> RGUI provoc un fallo de pgina no vlida en el
> mdulo R.DLL de 0137:1007a0a6.
> Registros:
> EAX=02ce0010 CS=0137 EIP=1007a0a6 EFLGS=00010207
> EBX=0486ffe0 SS=013f ESP=0253f56c EBP=0253f600
> ECX=02ce0010 DS=013f ESI=03f3f88c FS=1aaf
> EDX=0253f5bc ES=013f EDI=03f3edec GS=0000
> Bytes en CS:EIP:
> 89 3c 90 42 89 95 74 ff ff ff 6a 01 e8 f1 e8 f9
> Volcado de pila:
> 10122890 0253f5b8 0253f5bc 00000000 040304e4 03f40408 03f3f580 0253f5e8 10019411
> 04030534 03089e64 0253f5e8 0253f5c0 00000001 04870008 03f3ef68
> 
> In NT appears a similar message.
> 
> Would you please help me how can I solve this situation?
> It is about the .dll archive?

I am sorry, but I can do nothing at all with this information, except to
say that the R.dll _is_ R on Windows.  So this seems to indicate a crash in
R which may not to be to do with the .Fortran call.

Can you please send me an example I can run that reproduces the problem,
together with the version of R (and of any packages such as cluster) that
you are using?  Using bug.report() should ensure that all the useful
ancilliary information is recorded. (It is easiest if you send it to me
rather than R.bugs at this stage.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marmp at fcu.um.es  Wed Nov 10 10:00:37 1999
From: marmp at fcu.um.es (Marcelo Martinez Palao)
Date: Wed, 10 Nov 1999 09:00:37 +0000
Subject: [R] Problems with aov function
Message-ID: <38293435.159A1140@fcu.um.es>

I'm working with aov function, I have a problem with the experimental
designs of various factors (nested and orthogonal mixed) because aov
function is wrong.
Is there someone using aov function?

Thanks.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at hal.stat.unipd.it  Wed Nov 10 09:07:49 1999
From: guido at hal.stat.unipd.it (Guido Masarotto)
Date: Wed, 10 Nov 1999 09:07:49 +0100
Subject: [R] RE:
In-Reply-To: <x29047vfue.fsf@blueberry.kubism.ku.dk>; from Peter Dalgaard BSA on Tue, Nov 09, 1999 at 04:34:33PM +0100
References: <XFMail.991109162437.plummer@iarc.fr> <x29047vfue.fsf@blueberry.kubism.ku.dk>
Message-ID: <19991110090749.36623@hal.stat.unipd.it>

On Tue, Nov 09, 1999 at 04:34:33PM +0100, Peter Dalgaard BSA wrote:
> Martyn Plummer <plummer at iarc.fr> writes:
> 
> > I usually do this by saving the spreadsheet in comma-separated variable
> > (csv) format, and then read it into R with this command
> > 
> > foo.dat <- read.table("foo.csv", header=TRUE, sep=",")
> 
> ...which reminds me that my students keep complaining that Excel does
> CSV files with comma as decimal point and semicolon as separators if
> Windows is localised to Danish (and I suppose also German). At least
> it is better than some other programs that would use comma for both
> items(!) but I suppose we need to cater for that kind of format along
> with the other CSV specialities. (BTW is there any way of
> distinguishing between 2 integer columns with comma as separator and 1
> column of decimal numbers with comma as decimal point??)


  Same in Italy.
  However, Peter, problem is that, if I remember well, you teach
  medical students. Some times ago, a group of students in Statistics
  here didn't complain and ended up with the following wrapper
  for read.table. Maybe not efficient and without any error
  checking but handy.

  guido

> read.comma.is.point
function(...,type=rep("n",n.var),no.quote=TRUE) {
  a <- read.table(...)
  names <- colnames(a)
  n.var <- length(names)
  for (i in 1:n.var)
    if (type[i]=="n") { 
      a[,i] <- as.numeric(gsub(",",".",as.character(a[,i])))
    } else {
      if (no.quote) 
        a[,i] <- gsub("^ *\"","",gsub("\" *$","",as.character(a[,i])))
    }
  names <- gsub("^ *\"","",names)
  names <- gsub("\" *$","",names)          
  colnames(a) <- names
  a
}
> system("cat Rachmaninoff");cat("\n")
"FirstVar";"SecondVar";"ThirdVar"
1,2; "one" ; 1,4
2,3 ; "two"; 2
> read.table("Rachmaninoff",header=T,sep=";")->a
> a
 \"FirstVar\"\"SecondVar\"\"ThirdVar\"
1        1,2    \"one\"         1,4
2       2,3      \"two\"          2
> attach(a)
> FirstVar
Error: Object "FirstVar" not found
> sum(a[,1])
Error in Summary.factor(..., na.rm = na.rm) : "sum" not meaningful for factors
> detach(a)
> read.comma.is.point("Rachmaninoff",header=T,sep=";",type=c("n","c","n"))->a
> a
  FirstVar SecondVar ThirdVar
1      1.2       one      1.4
2      2.3       two      2.0
> attach(a)
> FirstVar
[1] 1.2 2.3
> sum(FirstVar)
[1] 3.5
>   
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at hal.stat.unipd.it  Wed Nov 10 10:39:23 1999
From: guido at hal.stat.unipd.it (Guido Masarotto)
Date: Wed, 10 Nov 1999 10:39:23 +0100
Subject: [R] Problems with aov function
In-Reply-To: <38293435.159A1140@fcu.um.es>; from Marcelo Martinez Palao on Wed, Nov 10, 1999 at 09:00:37AM +0000
References: <38293435.159A1140@fcu.um.es>
Message-ID: <19991110103923.43473@hal.stat.unipd.it>

On Wed, Nov 10, 1999 at 09:00:37AM +0000, Marcelo Martinez Palao wrote:
> I'm working with aov function, I have a problem with the experimental
> designs of various factors (nested and orthogonal mixed) because aov
> function is wrong.
> Is there someone using aov function?
> 

  Marcelo, 
  please, consider the use one of following way to report
  problems:
  1) It is wrong; this is a fix (if you feel able to provide it);
  or
  2) It is wrong; try "..."; I expected A but I got B.
  And always add platform and version (also if you are not
  compiling a formal bug report).
  "It is wrong point" doesn't give any possibility to help you.

  guido
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From heberto at MEAKINS.Lan.McGill.CA  Wed Nov 10 09:03:08 1999
From: heberto at MEAKINS.Lan.McGill.CA (Heberto Ghezzo)
Date: Wed, 10 Nov 1999 09:03:08 EST5EDT
Subject: [R] read.table problems
Message-ID: <199911101403.JAA24560@sirocco.cc.mcgill.ca>

Yesterday I asked for help about read.table with a CSV file. I 
received the following help. As always many thanks for the prompt 
responses. Now I load my csv file in a text editor ( pfe) and delete 
all spaces. 
My original mail is at the end.

From:             Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk>

Do you have spaces before the commas in your file?

> Yes, number , space, comma, new number
> 1 ,98.53 ,98.33 ,99.82 
> don't tell me that the space before the comma changes the behaviour
> of read.table?

The space is not part of the separator, so the fields are "1 " etc.
which contain nondigits, and hence are character variables...

Now this is not the .csv standard (if one exists), but read.table
weren't really written for that. We do need a real .csv reader, but
for now just get rid of the spaces.


From:             Guido Masarotto <guido at hal.stat.unipd.it>

On the other hand, if you have a mix of factor e/o character 
variables 
and numeric variables, things are a more complicated (and perhaps 
does exist a better solution than the following one):

> system("cat Bartok");cat("\n")
1 , two , 3
4 , five, 6
> a <- read.table("Bartok",sep=",")
> var.numeric <- c("V1","V3")
> index <- match(var.numeric,colnames(a))
> names <- colnames(a)
> a <- data.frame(apply(a[,index],2,as.numeric),a[,-index])
> colnames(a) <- c(names[index],names[-index])
> a
  V1 V3    V2
1  1  3  two 
2  4  6  five
> attach(a)
> mean(V1)
[1] 2.5

Hoping this help,
guido

From:             Douglas Bates <bates at stat.wisc.edu>

There is a shortcut method for converting all the variables in a data 
frame
to numeric variables.  If a is your data frame you use
 newa <- 
   do.call("data.frame", lapply(a, function(x) 
as.numeric(as.character(x))))

----------my original querry follows

Hi I am using R65.1 in Windows 95
I have a CSV file from Excell
> 
a<-read.table("c:/heberto/mgc/tst.csv",header=T,sep=",")
> attach(a)
> a
  manolo  fvcpp  fevpp fvvcpp   tlcpp    rvpp  rvtlpp plmaxpp
1     1  99.28  97.67  98.38   91.14   102.9  111.25  117.64 
2     1  86.97  68.56  78.89   94.60  112.34  118.53   159.20
3     1  81.12  71.76  88.37   89.16  114.17  126.86   60.71 
4     1  98.12  86.05  87.73  102.34  127.41  123.05  102.13 
5     1  90.50  80.87  89.47   85.60   93.27  107.35   86.03 

--This is correct

> mean(fvcpp)
Error: "sum" not meaningful for factors
> fvcpp
[1] 99.28  86.97  81.12  98.12  90.50 
Levels:  81.12  86.97  90.50  98.12  99.28  

-- it reads the columns as factors and not as numeric

>  rm(a)
> a<-read.table("c:/heberto/mgc/tst.csv",header=T,sep=",",as.is=F)
> attach(a)
> mean(fvcpp)
Error: "sum" not meaningful for factors
> ls()
[1] "a"
> rm(a)
> a<-read.table("c:/heberto/mgc/tst.csv",header=T,sep=",",as.is=T)
> attach(a)
> mean(fvcpp)
Error in sum(..., na.rm = na.rm) : invalid "mode" of argument
>

-- so now, how can I read the file as numeric vectors?

> fvcpp
[1] "99.28 " "86.97 " "81.12 " "98.12 " "90.50 "
> fvcpp<-as.numeric(fvcpp)
> fvcpp
[1] 99.28 86.97 81.12 98.12 90.50
> mean(fvcpp)
[1] 91.198
>

-- this is obviously not the way to do it, for each variable
change it into numeric.

Can somebody tell me what I am doing wrong?, I used to follow the 
same 
procedure a<-read.table(...  attach(a)  and have all my variables as 
vectors with or without NA's .
This file has no NA's is all complete.
Thanks.
..

R. Heberto Ghezzo  Ph.D.
Meakins-Christie Labs
McGill University
Montreal - Canada
heberto at meakins.lan.mcgill.ca
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hammour at email.msn.com  Wed Nov 10 23:20:46 1999
From: hammour at email.msn.com (hammour)
Date: Wed, 10 Nov 1999 17:20:46 -0500
Subject: [R] .Rhistory can not be openned by internal pager
Message-ID: <001901bf2bc9$d7096040$fb86173f@lawrence>

Hi,
I am using Rw0651 for almost two weeks. I could open .Rhistory using display
file till yesterday when I received an error message saying that ".Rhistory
file can not be opened by internal pager". I re-installed R but nothing has
changed. I can open any text file but not .Rhistory file. I have not change
any thing in .Rprofile.

Thank you in advance for your help





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rival at eco.unibs.it  Thu Nov 11 08:10:15 1999
From: rival at eco.unibs.it (L. & R.)
Date: Thu, 11 Nov 1999 08:10:15 +0100
Subject: [R] make.fields()
Message-ID: <002f01bf2c13$cddd5ae0$6e1ea7c0@unibs.it>

Hi, where can I find the source of make.fields() cited in: B.Vanables & D.Smith, "Notes on R: A Programming Environment for Data Analysis and Graphics", p. 26:
"...
There is, however, a function make.fields() that can be used to convert a file with fixed width, non separated input fields into a file with separated fiels ..."
(R Version 0.65.1 Release (October 07, 1999), Windows98)

Thanks in advance                  Luigi Riva
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/19991111/78ae5729/attachment.html

From ripley at stats.ox.ac.uk  Thu Nov 11 08:48:17 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 11 Nov 1999 07:48:17 +0000 (GMT)
Subject: [R] make.fields()
In-Reply-To: <002f01bf2c13$cddd5ae0$6e1ea7c0@unibs.it>
Message-ID: <Pine.GSO.4.05.9911110743370.21442-100000@auk.stats>

On Thu, 11 Nov 1999, L. & R. wrote:

> Hi, where can I find the source of make.fields() cited in: 
B.Vanables & D.Smith, "Notes on R: A Programming Environment for Data Analysis and Graphics", p. 26:
> "...
> There is, however, a function make.fields() that can be used to convert a file with fixed width, non separated input fields into a file with separated fiels ..."
> (R Version 0.65.1 Release (October 07, 1999), Windows98)

In S-PLUS, unfortunately, and it is an internal function. (That source is
lightly edited from an S-PLUS document, and not by the authors you cite.)  
In R you can make use of read.fwf, provided you have perl installed on your
machine, and provided (<= 0.65.1) that R and the file are installed in
paths without spaces (and you can use the shortnames of such paths to avoid
this).


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From prieur at uni-bielefeld.de  Thu Nov 11 16:26:55 1999
From: prieur at uni-bielefeld.de (Sigurd Prieur)
Date: Thu, 11 Nov 1999 16:26:55 +0100
Subject: [R] Display Pictures in R
Message-ID: <000801bf2c59$304e1bc0$c8000064@piii>

Hi,

how can I import pictures in R (e.g. bmp or tiff) and display them in an X11?

Thanks

Sigurd
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/19991111/9923e65c/attachment.html

From gromero at chass.utoronto.ca  Thu Nov 11 17:30:33 1999
From: gromero at chass.utoronto.ca (Giovanni Eduardo Romero)
Date: Thu, 11 Nov 1999 11:30:33 -0500 (EST)
Subject: [R] AR, Plot
Message-ID: <Pine.SGI.3.96.991111112409.1654324B-100000@origin.chass.utoronto.ca>


I need help with three (apparently) basic things in R:

1. How to plot two series agains a third one?? (e.g. a Basic "Excel" graph
with two variables)

2. When trying to run AR without constant I get the following (R.0.65.1
Windows):
> data(lynx)
> ar.s1_ar(lynx,order.max=1,demean=FALSE)
Error: Object "nser" not found

It only appears when demean=FALSE, for any data set, order or max)

3. AR function provides a summary such as lm (standard error, t, p-value,
etc)??

Thank you in advance. 

Giovanni E. Romero
Ph.D. student
Department of Economics
University of Toronto


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From y0004379 at tu-bs.de  Thu Nov 11 18:47:01 1999
From: y0004379 at tu-bs.de (Peter Malewski)
Date: Thu, 11 Nov 1999 18:47:01 +0100 (MET)
Subject: [R] Display Pictures in R
In-Reply-To: <000801bf2c59$304e1bc0$c8000064@piii>
Message-ID: <Pine.HPX.4.10.9911111842280.6340-100000@rzsrv1.rz.tu-bs.de>

On Thu, 11 Nov 1999, Sigurd Prieur wrote:

> how can I import pictures in R (e.g. bmp or tiff) and display them in an X11?

If you want to display a picture, use a viewer/image manipulating program,
xv, gimp,...

...or do you want to make stat. analyses on with your pictures? For
example write some code to find pattern in your pictures like letters? 

P. 

***************************************************************************
P.Malewski					Tel.: 0531 500965
Maschplatz 8					Email: P.Malewski at tu-bs.de
************************38114 Braunschweig********************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From R.E.Darnell at newcastle.ac.uk  Thu Nov 11 19:45:54 1999
From: R.E.Darnell at newcastle.ac.uk (R.E.Darnell@newcastle.ac.uk)
Date: 11 Nov 1999 18:45:54 +0000
Subject: [R] Display Pictures in R
In-Reply-To: Sigurd Prieur's message of "Thu, 11 Nov 1999 16:26:55 +0100"
References: <000801bf2c59$304e1bc0$c8000064@piii>
Message-ID: <wkn1skuasd.fsf@scs2.ncl.ac.uk>

Sigurd

I am curious? Why you would like to do this?

Ross Darnell
-- 
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jens.oehlschlaegel-akiyoshi at mdfactory.de  Thu Nov 11 20:49:32 1999
From: jens.oehlschlaegel-akiyoshi at mdfactory.de (=?iso-8859-1?Q?Jens_Oehlschl=E4gel-Akiyoshi?=)
Date: Thu, 11 Nov 1999 20:49:32 +0100
Subject: AW: [R] read.table problems
In-Reply-To: <199911101403.JAA24560@sirocco.cc.mcgill.ca>
Message-ID: <000201bf2c7d$e05bccf0$a9021aac@joelschlaegel>


Below is a fix for read.table() to better read in CSV-files.

> # try this
> cat("1;2,3\n4;5,6\n", file="d:/temp/t.dat")
> system("cat d:/temp/t.dat", show=TRUE)
1;2,3
4;5,6
> read.table("d:/temp/t.dat", sep=";", dec.sep=",")
  V1  V2
1  1 2.3
2  4 5.6

> # or this
> read.table("d:/temp/t.dat", sep=",", dec.sep=";")
   V1 V2
1 1.2  3
2 4.5  6

> # or even this
> cat("1 ; 2,3\n4 ; 5,6\n", file="d:/temp/t.dat")
> system("cat d:/temp/t.dat", show=TRUE)
1 ; 2,3
4 ; 5,6
> read.table("d:/temp/t.dat", sep=";", dec.sep=",")
  V1  V2
1  1 2.3
2  4 5.6

> # but not this
> read.table("d:/temp/t.dat", sep=",", dec.sep=";")
     V1 V2
1 1 . 2  3
2 4 . 5  6


R-developers:
I marked my few changes with comments.
Please feel welcome to include them within the R copyright.

BTW: I think read.table() or it's documentation needs another fix,
     because of the following:


> cat("1 2\n3 4\n", file="d:/temp/t.dat")
> system("cat d:/temp/t.dat", show=TRUE)
1 2
3 4
> read.table("d:/temp/t.dat", as.is=TRUE)$V1
[1] "1" "3"


Citing from the help file:

      as.is: the default behavior of `read.table' is to convert
             non-numeric variables to factors.  The variable
             `as.is' controls this conversion.  Its value is
             either a vector of logicals (values are recycled
             if necessary), or a vector of numeric indices
             which specify which columns should be left as
             character strings.


If as.is is supposed to control the treatment of *non-numeric* variables,
I would expect numeric values not to be converted in any case

Best regards


Jens Oehlschl?gel-Akiyoshi







read.table <-
function (file
, header = FALSE
, sep = ""
, row.names
, col.names
, as.is = FALSE
, na.strings = "NA"
, skip = 0
, dec.sep = '.'       ## added by JOA
, strip.white = TRUE  ## changed default by JOA, may be set to FALSE for
backward compatibility
)
{
    ### Start JOA changes
    ## could have a warning
    #if (strip.white && sep[1] %in% c("", " ", "\t"))warning("read.table:
strip.white AND with white space seperator !?")
    ## .Internal(type.convert) calls do_typecvt() which calls C-library
function strtod() which uses '.' as dec.sep
    ## thus let's replace other dec.sep here
    if (dec.sep[1]==sep[1])stop("parsing rule violation: sep must not equal
dec.sep")
    type.convert <- function(x, na.strings = "NA", as.is = FALSE,
dec=dec.sep){
    	if (dec[1]!="."){
    	  # R-developers may know a more efficient internal function to replace
characters
    	  # I also don't know whether it is efficient to change parameters
before calling .Internal
    	  # however it seems to work
    	  # In case a global option$dec.sep is introduced, this fix needs to be
adapted
    	  x <- gsub(dec[1], '.', x, ignore.case=FALSE, extended=FALSE)
    	}
      .Internal(type.convert(x, na.strings, as.is))
    }
    ### Stop JOA changes

    row.lens <- count.fields(file, sep, skip)
    nlines <- length(row.lens)
    rlabp <- nlines > 1 && (row.lens[2] - row.lens[1]) == 1
    if (rlabp && missing(header))
        header <- TRUE
    if (header) {
        col.names <- scan(file, what = "", sep = sep, nlines = 1,
            quiet = TRUE, skip = skip)
        skip <- skip + 1
        row.lens <- row.lens[-1]
        nlines <- nlines - 1
    }
    else if (missing(col.names))
        col.names <- paste("V", 1:row.lens[1], sep = "")
    cols <- unique(row.lens)
    if (length(cols) != 1) {
        cat("\nrow.lens=\n")
        print(row.lens)
        stop("all rows must have the same length.")
    }
    what <- rep(list(""), cols)
    if (rlabp)
        col.names <- c("row.names", col.names)
    names(what) <- col.names
    data <- scan(file = file, what = what, sep = sep, skip = skip,
        na.strings = na.strings, strip.white = strip.white, quiet = TRUE) ##
changed by JOA

    if (cols != length(data)) {
        warning(paste("cols =", cols, " != length(data) =", length(data)))
        cols <- length(data)
    }
    if (is.logical(as.is)) {
        as.is <- rep(as.is, length = cols)
    }
    else if (is.numeric(as.is)) {
        if (any(as.is < 1 | as.is > cols))
            stop("invalid numeric as.is expression")
        i <- rep(FALSE, cols)
        i[as.is] <- TRUE
        as.is <- i
    }
    else if (length(as.is) != cols)
        stop(paste("as.is has the wrong length", length(as.is),
            "!= cols =", cols))
    for (i in 1:cols) if (!as.is[i])
        data[[i]] <- type.convert(data[[i]])
    if (missing(row.names)) {
        if (rlabp) {
            row.names <- data[[1]]
            data <- data[-1]
        }
        else row.names <- as.character(1:nlines)
    }
    else if (is.null(row.names)) {
        row.names <- as.character(1:nlines)
    }
    else if (is.character(row.names)) {
        if (length(row.names) == 1) {
            rowvar <- (1:cols)[match(col.names, row.names, 0) ==
                1]
            row.names <- data[[rowvar]]
            data <- data[-rowvar]
        }
    }
    else if (is.numeric(row.names) && length(row.names) == 1) {
        rlabp <- row.names
        row.names <- data[[rlabp]]
        data <- data[-rlabp]
    }
    else stop("invalid row.names specification")
    class(data) <- "data.frame"
    row.names(data) <- row.names
    data
}



## Example (Windows Paths)

# try this
cat("1;2,3\n4;5,6\n", file="d:/temp/t.dat")
system("cat d:/temp/t.dat", show=TRUE)
read.table("d:/temp/t.dat", sep=";", dec.sep=",")
# or this
read.table("d:/temp/t.dat", sep=",", dec.sep=";")
# or even this
cat("1 ; 2,3\n4 ; 5,6\n", file="d:/temp/t.dat")
system("cat d:/temp/t.dat", show=TRUE)
read.table("d:/temp/t.dat", sep=";", dec.sep=",")
# but not this
read.table("d:/temp/t.dat", sep=",", dec.sep=";")

#BTW:
cat("1 2\n3 4\n", file="d:/temp/t.dat")
system("cat d:/temp/t.dat", show=TRUE)
read.table("d:/temp/t.dat", as.is=TRUE)$V1


--
Dr. Jens Oehlschl?gel-Akiyoshi
MD FACTORY GmbH
Bayerstrasse 21

80335 M?nchen

Tel.: 089 545 28-27
Fax.: 089 545 28-10
http://www.mdfactory.de

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From knsn at gmx.de  Thu Nov 11 22:50:27 1999
From: knsn at gmx.de (Knut Suebert)
Date: Thu, 11 Nov 1999 22:50:27 +0100
Subject: [R] Display Pictures in R
In-Reply-To: <wkn1skuasd.fsf@scs2.ncl.ac.uk>; from R.E.Darnell@newcastle.ac.uk on Thu, Nov 11, 1999 at 06:45:54PM +0000
References: <000801bf2c59$304e1bc0$c8000064@piii> <wkn1skuasd.fsf@scs2.ncl.ac.uk>
Message-ID: <19991111225027.B22953@cascal.earth>

R.E.Darnell at newcastle.ac.uk schrieb:

> Sigurd
> 
> I am curious? Why you would like to do this?

Maybe to draw a nice legend, grid and Gau?-Kr?ger-coordinates in the
same style like the other graphs in a document (and maybe doing it all by
make-controlled scripts)? 

For that I converted a bitmap in a matrix to be displayed by image(). A
small image in 600dpi needs some RAM (not more than 512MB swap-space) and
a little bit of time... 
________

To prepare the image-data (.pnm ascii, NOT raw) it needs

  system("cat map.pnm | pnm2r > map.R")
  x <- as.matrix(read.table("map.R"))

image-data is orientated differend to .pnm, so "just"

  for (i in 1:ncol(x)){x[,i] <- rev(x[,i])} # upside down
  x <- t(x)                                 # turn around
  
to display the picture
  
  image(x, axes=F, col=rainbow(x,start=0,end=1/6.66) )
  
the resulting red-to-yellow picture looks fine on a non-color-printer...
_______

The source for pnm2r is 

  #include <stdio.h>

  /* Converts a PNM-image (ASCII and GRAYSCALE!!!) to a table */

  int main(){
    int width, height, x, y, r, g, b;
    char *s, *t, *line;
    int buffer_size=1024;
  
    if ( (line = (char *) malloc(buffer_size))){
      fgets(line, buffer_size, stdin); // P2 for gray,  P4 colour?
      fgets(line, buffer_size, stdin);
      fgets(line, buffer_size, stdin); // the third line has...
      sscanf(line, "%i %i", &width, &height);
      fgets(line, buffer_size, stdin);

      fprintf(stderr, "Size of picture: %ix%i\n", height, width);
    
      for( y=0 ; y<height ; y++ ){
        for( x=0 ; x<width ; x++ ){  
          fgets(line, buffer_size, stdin); 
          sscanf(line, "%i", &r);
          printf("%d ",r);
        }
        printf("\n");
      }
    }
  }
_____

I don't think pnmr.c is well programmed (could it be that I forgot to free
the memory somewhere?) or pnm is the best gfx-format, pnm was just the only
one I understood by just looking into the files generated by the gimp.

But I am sure that was one of the silliest ways to reach my goal ;-)

Bye,
Knut
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter at esb.ucp.pt  Fri Nov 12 11:35:28 1999
From: peter at esb.ucp.pt (Peter Ho)
Date: Fri, 12 Nov 1999 10:35:28 +0000
Subject: [R]:Stepwise discriminant analysis
Message-ID: <382BED6E.5A429BF3@esb.ucp.pt>

Dear Users,

I have trying to work out if it is possible to do stepwise discriminant
analysis in R, but have not been very successful. The function step(),
which does a stepwise selection of variables can only be used for lm,
glm and aov.

Can anyone help?


Thanks


Peter
---------------------------------
Peter Ho
Escola Superior de Biotecnologia
Universidade Cat?lica Portuguesa
Rua Dr. Ant?nio Bernardino de Almeida
4200 Porto
Portugal
Tel: ++351-22-5580043

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Nov 12 11:48:16 1999
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 12 Nov 1999 10:48:16 +0000 (GMT)
Subject: [R] AR, Plot
Message-ID: <199911121048.KAA07204@toucan.stats.ox.ac.uk>


> Date: Thu, 11 Nov 1999 11:30:33 -0500 (EST)
> From: Giovanni Eduardo Romero <gromero at chass.utoronto.ca>
> 
> 
> I need help with three (apparently) basic things in R:
> 
> 1. How to plot two series agains a third one?? (e.g. a Basic "Excel" graph
> with two variables)

I don't understand that: do matplot or plot + lines do what you want?

> 2. When trying to run AR without constant I get the following (R.0.65.1
> Windows):
> > data(lynx)
> > ar.s1_ar(lynx,order.max=1,demean=FALSE)
> Error: Object "nser" not found
> 
> It only appears when demean=FALSE, for any data set, order or max)

There are several problems with demean=FALSE in 0.65.1 that will be
fixed in 0.90.0.  However, this example is silly: it does need a mean!
I suspect that you also wanted aic=F.

> 3. AR function provides a summary such as lm (standard error, t, p-value,
> etc)??

No, but (approximate) standard errors are in the fit object. You can
write one.

The ts package is still preliminary: the functionality that is similar
to that in S-PLUS works quite well, but the extras (like demean=T)
were not much tested.  Thanks to Adrian Trapletti, many of them have
now been.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ralf.herold at charite.de  Fri Nov 12 13:35:45 1999
From: ralf.herold at charite.de (R. Herold)
Date: Fri, 12 Nov 1999 13:35:45 +0100
Subject: [R] Arc/INFO format with R?
Message-ID: <000201bf2d0a$7085c100$5f0afea9@herold>

Dear R-help list subscribers,

at "Digital Chart of the World", http://ortelius.maproom.psu.edu/dcw/, map
data for use with Arc/INFO and ArcView can be retrieved. Following a recent
thread on the use of maps in R-help, do you know if and how this data could
be used with R (under Linux or Windows)? I am looking for a way to show a
map (of Germany) with symbols of different size (like a SAS bubble plot)
showing certain cities associated with different values of a variable. Or
this there another way (data) to produce such a plot?

Thank You very much for any hint,

Ralf Herold, MD

* Pediatric Oncology Charite Virchow-Klinikum
* Medical Faculty of the Humboldt-University
* Augustenburger Platz 1, D-13353 Berlin, Germany
* Tel. +49(30)450-66834, Fax +49(30)450-66901
* http://www.charite.de/paedonko/
* ralf.herold at charite.de  pgp welcome

[similar question posted to S-news]

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jens.oehlschlaegel-akiyoshi at mdfactory.de  Fri Nov 12 15:52:03 1999
From: jens.oehlschlaegel-akiyoshi at mdfactory.de (=?iso-8859-1?Q?Jens_Oehlschl=E4gel-Akiyoshi?=)
Date: Fri, 12 Nov 1999 15:52:03 +0100
Subject: [R] some related problems
Message-ID: <001001bf2d1d$7c125160$a9021aac@joelschlaegel>



I just tried to batch-start rgui.exe (not rterm.exe) in a way, that it
read.table()s data from a file with changing filename. As I understand no
command line parameters are available for that, so instead I tried to pass
the filename to an approbriate .RProfile, which works roughly, BUT

## this is my %R_USER%\.RProfile
im <- read.table("d:/temp/im/temp.csv", header=TRUE, sep=",")
nam <- names(im)
nnam <- nchar(nam)
newnam <- substr(nam, 2, nnam-1) # change names from e.g. <"x"> to <x>
names(im) <- newnam
pairs2(im)
## end

Two lines in this code do not work *during* .RProfile execution, but they
work if entered manually *after* all profile executions:

names(im) <- newnam  # should work always
Error: attempt to set an attribute on NULL

pairs2(im) # my global RProfile sources a file which defines pairs2()
Error: couldn't find function "pairs2"

How can I make these commands working during .RProfile execution?
Moreover: how can I exchange single Backslashes to slashes in R?

I tried:

> gsub("[\\]", "/", "c:\temp")
[1] "c:     emp"
> gsub("[\\]", "/", "c:\\temp")
[1] "c:/temp"

Thanks for any help

--
Dr. Jens Oehlschl?gel-Akiyoshi
MD FACTORY GmbH
Bayerstrasse 21

80335 M?nchen

Tel.: 089 545 28-27
Fax.: 089 545 28-10
http://www.mdfactory.de

Standard Disclaimers: Opinions expressed here are personal
and are not otherwise represented.  Any use of tradenames
in the above does not constitute a MD FACTORY endorsement.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From clive.jenkins at clara.net  Fri Nov 12 16:03:08 1999
From: clive.jenkins at clara.net (Clive Jenkins)
Date: Fri, 12 Nov 1999 15:03:08 +0000
Subject: [R] Wanted: online Introduction to R
Message-ID: <382C2C2C.A3DD277A@clara.net>

As a complete newcomer I am attempting to learn to use R, but am finding
it extremely difficult because I have not yet found an "Introduction to
R".

For over a week now I have monitored the R-help list, studied the R-FAQ
and related documents, downloaded and run the Windows R and looked at
the Help, downloaded early and late samples of the R-help archives, and
searched for illuminating articles in online journals, all with little
success.

The R documentation appears to be quite good, but it does assume the
reader already understands the basics of the language. I had hoped to
find, at least, a terse definition of the language syntax with some
description of the semantics.

Can anybody please assist?

Many thanks in anticipation,

Clive Jenkins
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Nov 12 16:31:17 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 12 Nov 1999 16:31:17 +0100
Subject: [R] some related problems
In-Reply-To: "Jens Oehlschl?gel-Akiyoshi"'s message of "Fri, 12 Nov 1999 15:52:03 +0100"
References: <001001bf2d1d$7c125160$a9021aac@joelschlaegel>
Message-ID: <x2iu37raka.fsf@blueberry.kubism.ku.dk>

"Jens Oehlschl?gel-Akiyoshi" <jens.oehlschlaegel-akiyoshi at mdfactory.de> writes:

> How can I make these commands working during .RProfile execution?
> Moreover: how can I exchange single Backslashes to slashes in R?
> 
> I tried:
> 
> > gsub("[\\]", "/", "c:\temp")
> [1] "c:     emp"
> > gsub("[\\]", "/", "c:\\temp")
> [1] "c:/temp"

The 2nd line *is* the way to change a single backslash.

Hint:

> nchar("c:\temp")
[1] 6
> substr("c:\temp",3,3)
[1] "\t"
> nchar("c:\\temp")
[1] 7
> substr("c:\\temp",3,3)
[1] "\\"
> nchar("\\")
[1] 1
> cat("\\")
\> 


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Nov 12 16:57:25 1999
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 12 Nov 1999 15:57:25 +0000 (GMT)
Subject: [R] some related problems
Message-ID: <199911121557.PAA12806@toucan.stats.ox.ac.uk>


> From: "Jens Oehlschl?gel-Akiyoshi" <jens.oehlschlaegel-akiyoshi at mdfactory.de>
> Date: Fri, 12 Nov 1999 15:52:03 +0100
> 
> I just tried to batch-start rgui.exe (not rterm.exe) in a way, that it
> read.table()s data from a file with changing filename. As I understand no
> command line parameters are available for that, so instead I tried to pass
> the filename to an approbriate .RProfile, which works roughly, BUT
> 
> ## this is my %R_USER%\.RProfile
> im <- read.table("d:/temp/im/temp.csv", header=TRUE, sep=",")
> nam <- names(im)
> nnam <- nchar(nam)
> newnam <- substr(nam, 2, nnam-1) # change names from e.g. <"x"> to <x>
> names(im) <- newnam
> pairs2(im)
> ## end
> 
> Two lines in this code do not work *during* .RProfile execution, but they
> work if entered manually *after* all profile executions:
> 
> names(im) <- newnam  # should work always
> Error: attempt to set an attribute on NULL
> 
> pairs2(im) # my global RProfile sources a file which defines pairs2()
> Error: couldn't find function "pairs2"
> 
> How can I make these commands working during .RProfile execution?

I would not try. Define a .First function in the .Rprofile: that is run
later in the execution sequence.  Having said that, I don't fully
understand why your example does not work, but I suspect this is because
the code is failing to do what you expect and at that point the error
handlier is not running.  If there is an error in the Rprofiles, it
`drops through to further processing'.


BTW, it is .Rprofile, not .RProfile, but NT can't tell the difference.

> Moreover: how can I exchange single Backslashes to slashes in R?
> 
> I tried:
> 
> > gsub("[\\]", "/", "c:\temp")
> [1] "c:     emp"
> > gsub("[\\]", "/", "c:\\temp")
> [1] "c:/temp"
> 

You need to quote the quotes (look in help() on a Windows version for examples)

> gsub("\\\\", "/", "c:\\temp")
[1] "c:/temp"

which passes \\ to the regex code, and that substitutes for \


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Nov 12 17:08:59 1999
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 12 Nov 1999 16:08:59 +0000 (GMT)
Subject: [R] Wanted: online Introduction to R
Message-ID: <199911121608.QAA12830@toucan.stats.ox.ac.uk>


> Date: Fri, 12 Nov 1999 15:03:08 +0000
> From: Clive Jenkins <clive.jenkins at clara.net>
> X-Accept-Language: en
> To: r-help at stat.math.ethz.ch
> Subject: [R] Wanted: online Introduction to R
> 
> As a complete newcomer I am attempting to learn to use R, but am finding
> it extremely difficult because I have not yet found an "Introduction to
> R".
> 
> For over a week now I have monitored the R-help list, studied the R-FAQ
> and related documents, downloaded and run the Windows R and looked at
> the Help, downloaded early and late samples of the R-help archives, and
> searched for illuminating articles in online journals, all with little
> success.
> 
> The R documentation appears to be quite good, but it does assume the
> reader already understands the basics of the language. I had hoped to
> find, at least, a terse definition of the language syntax with some
> description of the semantics.
> 
> Can anybody please assist?

Can you tell us what you have read? There are the R-notes on CRAN which
appear to be closest to you want, although they are unreliable in part
(as they are only partially converted from S notes).  There is an R
Language reference manual in (private as yet) draft, but it is not at
all for beginners.

Bill Venables and I have a book (see the CRAN page) and on-line
complements for R, and another more formal book in press.  We offer no
apologies for this having a cost: the effort involved was very considerable.
For that reason, I do not expect that the sort of material you may
be looking for will ever be available (legally) for free.

How to document R is an important issue for the Core Team, but one that
may need R to become stabler first. (It is still in beta, and in
detail changing very rapidly as we find things are not as we would
like.)  However `a terse definition of the language syntax with some
description of the semantics' does not sound like an `Introduction to R'
to me, and so we are genuinely interested to understand your comments more.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From BAD305 at ukcc.uky.edu  Fri Nov 12 17:09:05 1999
From: BAD305 at ukcc.uky.edu (Bill Paterson)
Date: Fri, 12 Nov 99 11:09:05 EST
Subject: [R] SAS to R translator for particular procedures
Message-ID: <991112.111316.EST.BAD305@ukcc.uky.edu>

I am interested in writing a SAS to R translator that would take SAS
code for a particular package (ie. Proc IML - interactive matrix language)
and convert it to R. A primary motivation for such a tool would be an escape
from proprietary license license fees and labor savings from not having to
translate character by character manually.
  Any comments and suggestions would be appreciated.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From twestley at buffalo.veridian.com  Fri Nov 12 17:34:05 1999
From: twestley at buffalo.veridian.com (Terry Westley)
Date: Fri, 12 Nov 1999 11:34:05 -0500
Subject: [R] how to read a file one line at a time?
Message-ID: <NDBBJPJEPMDADGHILPFJEEGOCCAA.twestley@buffalo.veridian.com>

Is there a way to read a file one line at a time?
My file is potentially very large (multiple gigabytes)
so I'd like to read and process one line at a time.

The only choices I see are:

1) Direct the file to standard input and use readline(),
   but then I have to parse the data columns myself.

2) Call scan() with nlines=1 over and over again, incrementing
   skip, but I suspect that it will read the whole file each
   time.

Any suggestions?

--
Terry J. Westley, Software Systems Engineering Supervisor
Veridian Engineering, Calspan Operations
P.O. Box 400, Buffalo, NY 14225
twestley at buffalo.veridian.com    http://www.veridian.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Nov 12 17:51:45 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 12 Nov 1999 17:51:45 +0100
Subject: [R] how to read a file one line at a time?
In-Reply-To: "Terry Westley"'s message of "Fri, 12 Nov 1999 11:34:05 -0500"
References: <NDBBJPJEPMDADGHILPFJEEGOCCAA.twestley@buffalo.veridian.com>
Message-ID: <x27ljnr6u6.fsf@blueberry.kubism.ku.dk>

"Terry Westley" <twestley at buffalo.veridian.com> writes:

> Is there a way to read a file one line at a time?
> My file is potentially very large (multiple gigabytes)
> so I'd like to read and process one line at a time.
> 
> The only choices I see are:
> 
> 1) Direct the file to standard input and use readline(),
>    but then I have to parse the data columns myself.
> 
> 2) Call scan() with nlines=1 over and over again, incrementing
>    skip, but I suspect that it will read the whole file each
>    time.
> 
> Any suggestions?

Somewhere in the attic of my mind lies a plan to implement something
similar to the streams datatype of S4, but I don't think it will
happen soon.

I think the expedient way is to write a trio of short C routines for
dyn.loading and R wrappers: OpenFile, GetLine, CloseFile.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rls at pincock.com  Fri Nov 12 18:02:32 1999
From: rls at pincock.com (Robert L. Sandefur)
Date: Fri, 12 Nov 1999 09:02:32 -0800
Subject: [R] Arc/INFO format with R?
Message-ID: <s82bd7c1.007@hc4>

Hi -

 There are populated places in DCW as points and polygons - I assume you want the points.
The ESRI format is nontrival but points may be fairly trival. For conversion try looking at
http://gdal.velocet.ca/projects/ which will help with converting e00 and shp formats to ascii
which you can read into R.

hope this helps

Robert L Sandefur
Principal Geostatistician 
PAH
rls at pincock.com (primary)
rlsandefur at aol.com (secondary)
303 914 4467 v
393 987-8907 f
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
>>> "R. Herold" <ralf.herold at charite.de> 11/12/99 05:35AM >>>
Dear R-help list subscribers,

at "Digital Chart of the World", http://ortelius.maproom.psu.edu/dcw/, map
data for use with Arc/INFO and ArcView can be retrieved. Following a recent
thread on the use of maps in R-help, do you know if and how this data could
be used with R (under Linux or Windows)? I am looking for a way to show a
map (of Germany) with symbols of different size (like a SAS bubble plot)
showing certain cities associated with different values of a variable. Or
this there another way (data) to produce such a plot?

Thank You very much for any hint,

Ralf Herold, MD

* Pediatric Oncology Charite Virchow-Klinikum
* Medical Faculty of the Humboldt-University
* Augustenburger Platz 1, D-13353 Berlin, Germany
* Tel. +49(30)450-66834, Fax +49(30)450-66901
* http://www.charite.de/paedonko/ 
* ralf.herold at charite.de  pgp welcome

[similar question posted to S-news]

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html 
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jens.oehlschlaegel-akiyoshi at mdfactory.de  Fri Nov 12 18:08:35 1999
From: jens.oehlschlaegel-akiyoshi at mdfactory.de (=?iso-8859-1?Q?Jens_Oehlschl=E4gel-Akiyoshi?=)
Date: Fri, 12 Nov 1999 18:08:35 +0100
Subject: SUMMARY: [R] some related problems
In-Reply-To: <199911121557.PAA12806@toucan.stats.ox.ac.uk>
Message-ID: <001201bf2d30$8e8b30b0$a9021aac@joelschlaegel>



Thanks to Brian Ripley and Peter Dalgaard for the quick and excellent
replies!

I had problems with properly executing R commands in .Rprofile
Prof. Ripley teached me to put my commands into .First() for later
execution. So the following works like a charm:

# Content of %R_USER%\.Rprofile
.First <- function(){
  filename <- scan("d:/temp/im/filename.txt", what=character(0))
  im <- read.table(filename, header=TRUE, sep=",")
  nam <- names(im)
  nnam <- nchar(nam)
  names(im) <- substr(nam, 2, nnam-1)
  pairs2(im)
  im <<- im
}


As Peter Dalgaard pointed out: "c:\temp" means: "c"  ":"  "\t"  "e"  "m"
"p"
thus either my outer process either needs to produce proper R-syntax
"c:\\temp"
or - as above - I have to scan in the filename.

Finally, using this unique opportunity to correct something Prof. Ripley
wrote:

> BTW, it is .Rprofile, not .RProfile, but NT can't tell the difference.

Oh yes, NT can! At least in the explorer: if I try to change the filename
from .RProfile to .Rprofile, NT refuses with the following error-message:
'Please enter a filename' (this renaming only works in a command window).
I really need to get a machine with a decent operating system.

Thank you again


--
Dr. Jens Oehlschl?gel-Akiyoshi
MD FACTORY GmbH
Bayerstrasse 21

80335 M?nchen

Tel.: 089 545 28-27
Fax.: 089 545 28-10
http://www.mdfactory.de

Standard Disclaimers: Opinions expressed here are personal
and are not otherwise represented.  Any use of tradenames
in the above does not constitute a MD FACTORY endorsement.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jetton at pilot.msu.edu  Fri Nov 12 19:10:49 1999
From: jetton at pilot.msu.edu (James Jetton)
Date: Fri, 12 Nov 1999 13:10:49 -0500
Subject: [R] Macintosh version of R not on CRAN
Message-ID: <v04220801b452053a22bd@[35.8.117.17]>

Is there any reason the Macintosh version of R is not available on 
CRAN? I downloaded a copy of 0.64 from Ross Ihaka's ftp site and it 
seems stable.

James Jetton
jetton at msu.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From partha_bagchi at hgsi.com  Fri Nov 12 21:47:01 1999
From: partha_bagchi at hgsi.com (partha_bagchi@hgsi.com)
Date: Fri, 12 Nov 1999 15:47:01 -0500
Subject: [R] R-0.65.1 Startup
Message-ID: <OF5E407645.65358CF1-ON85256827.00714AC1@hgsi.com>

Dear R users,
I have noticed that my R startup is extremely slow. It takes almost 3
minutes  from "double-click" to R prompt. I have been running R-0.64.1 till
recently and it took about 30 sec. I still have access to R-0.64.1. When I
started it up, it took about 25 sec. Can anyone tell me if this is a bug in
R or a problem with my machine?
Note: This is after bootup with R being the first application I am running
(not counting sundry taskbar items ).
Details:
platform Windows
arch     x86
os       Win32
system   x86, Win32
status   Release
major    0
minor    65.1
year     1999
month    October
day      07
language R

Win95 on a 600Mhz Pentium III with 256M RAM (yeah a new machine that I just
got).

The R-shortcut setup (which is the same for R-0.64.1) is
C:\R\rw0651\bin\Rgui.exe --vsize 25M --nsize 10M

If I need to provide more information, please let me know.
TIA.

Partha.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From BAD305 at ukcc.uky.edu  Fri Nov 12 22:07:33 1999
From: BAD305 at ukcc.uky.edu (Bill Paterson)
Date: Fri, 12 Nov 99 16:07:33 EST
Subject: [R] SAS to R translator for particular procedures (fwd)
Message-ID: <991112.160821.EST.BAD305@ukcc.uky.edu>


----------------------------Original message----------------------------
Date:         Fri, 12 Nov 99 11:09:05 EST
From:         Bill Paterson <BAD305 at ukcc.uky.edu>
Subject:      SAS to R translator for particular procedures
To:           R-Help <r-help at stat.math.ethz.ch>
X-Mailer:     MailBook 98.01.000
Message-Id:   <991112.111316.EST.BAD305 at ukcc.uky.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
Content-Transfer-Encoding: 7BIT

I am interested in writing a SAS to R translator that would take SAS
code for a particular package (ie. Proc IML - interactive matrix language)
and convert it to R. A primary motivation for such a tool would be an escape
from proprietary license license fees and labor savings from not having to
translate character by character manually.
  Any comments and suggestions would be appreciated.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Tim_McDonough at aa.com  Fri Nov 12 22:13:43 1999
From: Tim_McDonough at aa.com (Tim McDonough)
Date: Fri, 12 Nov 1999 15:13:43 -0600
Subject: [R] Wanted: online Introduction to R
Message-ID: <s82c2ec8.080@hdq01ms1.amrcorp.com>

** High Priority **

Apologies to all for this brief, slightly off-topic comment, but I think that it is important for folks who may only be familiar with commercially developed software, to understand that some of the cultural norms of the exchange economy simply do not apply to global computer mediated collaboration (CMC) projects like R. It is my hope that these comments may assist in coming to a better appreciation of how CMC operates and that a different set of expectations will be needed to truly enjoy participation in the process, even if only as a common user like myself.

Welcome to the world of open-source. The code itself is freely offered by a "gift-giving" culture to the world. The value-added products and services that we normally associate with software, like manuals, shrink-wrapped distributions (CDs), and product support, mostly all belong to the "exchange" economy. There really is a nice balance though between the gift-giving and exchange worlds. The linux community has "standardized" its free documentation somewhat into the collection of HOWTO documents but applications like R may never be able to achieve the critical mass of users to do the same. As R matures, common users like myself may hope that something like the "Idiot's Guides" or the O'Reilly tomes may one day appear for R. 

Meanwhile, I suggest that folks who may not be able to live on this frontier, and I can think of many compelling reasons for avoiding the frontier, should probably consider using only the purely exchange economy manifestations of this technology like the commercial distributions of S-PLUS. One advantage of using only the commercial versions is that one obtains the privilege of hammering on the vendor for not delivering what was promised. Of course this naturally makes the vendors somewhat gun-shy and there is an argument that suggests that it stifles innovation. 

In the wild, wild west of open-source, rapid and frequent revisions and releases occur without fear of contract breach of any sort. This churn results in a remarkably steady flow of innovation. For some things I choose purely exchange economy products, for others, the open-source technology is preferred. One of the nice things about open-source is that if you think you can do a better job of it than what you see out there now, go for it. We'll all be cheering you on and hoping for your success. Who knows, someday you might be the person of whom folks around the world will ask, "Hey, isn't that the person who ... ?" "Yeah, wow, that's who it is!"

The key to truly appreciating and enjoying the open-source world is to remember that this is indeed a different culture, where the rules are very different than in the exchange economy. If bugs are encountered it is appropriate, and even expected that they be reported to the community. It is entirely inappropriate however, and actually quite fruitless, to complain about or criticize the work without some constructive motive. It is best to learn to roll with the punches. I maintain that swearing profusely at one's computer in the privacy of one's home or office is still appropriate but directing such anger or frustration at the gift-givers is an unconscionable offense. The best advice that I can offer to open-source newbies is to not expect any promises about product performance and just try to revel in the parts of the code that actually work. Above all, have fun with it, especially if such fun is the result of your having some feature-laden open-source code that completely blows away some of the antiquated commercial software with which your colleagues are struggling.

To all who have contributed to R thus far, and to all who will carry the torch into the future, please accept my sincere gratitude for the hard work that you have done. You can all be assured that the appreciation for your open-source contributions by the users around the globe will never be for sale. It is an appreciation that the emperors of the exchange culture like Bill Gates can only sigh for in vain.

Cheers,
Tim McDonough
Sr. Analyst
American Airlines HDQ
DFW Airport, Texas USA


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Fri Nov 12 22:18:48 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Fri, 12 Nov 1999 13:18:48 -0800 (PST)
Subject: [R] R-0.65.1 Startup
In-Reply-To: <OF5E407645.65358CF1-ON85256827.00714AC1@hgsi.com>
Message-ID: <Pine.GSO.4.10.9911121315570.4445-100000@wompom.biostat.washington.edu>

On Fri, 12 Nov 1999 partha_bagchi at hgsi.com wrote:

> Dear R users,
> I have noticed that my R startup is extremely slow. It takes almost 3
> minutes  from "double-click" to R prompt. I have been running R-0.64.1 till
> recently and it took about 30 sec. I still have access to R-0.64.1. When I
> started it up, it took about 25 sec. Can anyone tell me if this is a bug in
> R or a problem with my machine?

I have also noticed a slow startup under Win98 on a reasonably fast
machine. In fact, the startup is not unreasonably slow -- many large
programs take this long to start up. The problem is that there isn't much
indication that something is happening, so I have sometimes assumed I only
clicked once on the icon and tried again, resulting in two or three R
processes.

Perhaps Rgui should display a splash screen while it's loading?

	-thomas



> Note: This is after bootup with R being the first application I am running
> (not counting sundry taskbar items ).
> Details:
> platform Windows
> arch     x86
> os       Win32
> system   x86, Win32
> status   Release
> major    0
> minor    65.1
> year     1999
> month    October
> day      07
> language R
> 
> Win95 on a 600Mhz Pentium III with 256M RAM (yeah a new machine that I just
> got).
> 
> The R-shortcut setup (which is the same for R-0.64.1) is
> C:\R\rw0651\bin\Rgui.exe --vsize 25M --nsize 10M
> 
> If I need to provide more information, please let me know.
> TIA.
> 
> Partha.
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

Thomas Lumley
------------------------------------------------------+------
Biostatistics		: "Never attribute to malice what  :
Uni of Washington	:  can be adequately explained by  :
Box 357232		:  incompetence" - Hanlon's Razor  :
Seattle WA 98195-7232	:				   :
------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Nov 12 22:57:31 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 12 Nov 1999 21:57:31 +0000 (GMT)
Subject: [R] R-0.65.1 Startup
In-Reply-To: <Pine.GSO.4.10.9911121315570.4445-100000@wompom.biostat.washington.edu>
Message-ID: <Pine.GSO.4.05.9911122149460.19952-100000@auk.stats>

On Fri, 12 Nov 1999, Thomas Lumley wrote:

> On Fri, 12 Nov 1999 partha_bagchi at hgsi.com wrote:
> 
> > Dear R users,
> > I have noticed that my R startup is extremely slow. It takes almost 3
> > minutes  from "double-click" to R prompt. I have been running R-0.64.1 till
> > recently and it took about 30 sec. I still have access to R-0.64.1. When I
> > started it up, it took about 25 sec. Can anyone tell me if this is a bug in
> > R or a problem with my machine?

There is essentially no difference on my machine (366MHz mobile Pentium
IIPE, NT4.0, about 5 secs for each). Do you by any chance have a previous
workspace to restore? (My Win98 266MHz Pentium takes 10-15 secs,
again little change.)

I know of no reason why 0.65.1 should be more than a few percent slower.
I do know that such things are very sensitive to disc speed, and for our
network, a network-mounted file system is fatal.

> I have also noticed a slow startup under Win98 on a reasonably fast
> machine. In fact, the startup is not unreasonably slow -- many large
> programs take this long to start up. The problem is that there isn't much

3 minutes? on an 600MHz PIII? What program is that?

> indication that something is happening, so I have sometimes assumed I only
> clicked once on the icon and tried again, resulting in two or three R
> processes.
> 
> Perhaps Rgui should display a splash screen while it's loading?

Yes, if it took more than 10 seconds, it might well do so. But I find
such things really irritating, so it should be optional.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ray.Brownrigg at mcs.vuw.ac.nz  Fri Nov 12 23:51:15 1999
From: Ray.Brownrigg at mcs.vuw.ac.nz (Ray Brownrigg)
Date: Sat, 13 Nov 1999 11:51:15 +1300 (NZDT)
Subject: [R] R-0.65.1 Startup
Message-ID: <199911122251.LAA21703@tahi.mcs.vuw.ac.nz>

> Win95 on a 600Mhz Pentium III with 256M RAM (yeah a new machine that I just
> got).
> 
> The R-shortcut setup (which is the same for R-0.64.1) is
> C:\R\rw0651\bin\Rgui.exe --vsize 25M --nsize 10M
> 
Do you realise that --nsize is an item count, not a byte count?  On one
of our Unix systems, the command:
R --vsize 25M --nsize 10M
results in a 229MB process.   That will tax even a 256MB system, since
Windows takes about 64MB (doesn't it?)

So try starting up with somewhat smaller --nsize, I have found --nsize 1M
suits most needs.

Hope this helps,
Ray Brownrigg <ray at mcs.vuw.ac.nz>	http://www.mcs.vuw.ac.nz/~ray
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Sat Nov 13 00:07:07 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Fri, 12 Nov 1999 15:07:07 -0800 (PST)
Subject: [R] R-0.65.1 Startup
In-Reply-To: <Pine.GSO.4.05.9911122149460.19952-100000@auk.stats>
Message-ID: <Pine.GSO.4.10.9911121505020.4445-100000@wompom.biostat.washington.edu>

On Fri, 12 Nov 1999, Prof Brian D Ripley wrote:

> On Fri, 12 Nov 1999, Thomas Lumley wrote:
> 
> > On Fri, 12 Nov 1999 partha_bagchi at hgsi.com wrote:
> > 
> > > Dear R users,
> > > I have noticed that my R startup is extremely slow. It takes almost 3
> > > minutes  from "double-click" to R prompt. I have been running R-0.64.1 till
> > > recently and it took about 30 sec. I still have access to R-0.64.1. When I
> > > started it up, it took about 25 sec. Can anyone tell me if this is a bug in
> > > R or a problem with my machine?
> 
> > I have also noticed a slow startup under Win98 on a reasonably fast
> > machine. In fact, the startup is not unreasonably slow -- many large
> > programs take this long to start up. The problem is that there isn't much
> 
> 3 minutes? on an 600MHz PIII? What program is that?

Sorry, I misread the email -- I was thinking 30 seconds, which is how long
I have been experiencing.  In my case it might also have been due to an
oversized workspace.


	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ray.Brownrigg at mcs.vuw.ac.nz  Sat Nov 13 00:47:26 1999
From: Ray.Brownrigg at mcs.vuw.ac.nz (Ray Brownrigg)
Date: Sat, 13 Nov 1999 12:47:26 +1300 (NZDT)
Subject: [R] Arc/INFO format with R/S-Plus?
Message-ID: <199911122347.MAA21879@tahi.mcs.vuw.ac.nz>

>             I am looking for a way to show a map (of Germany) with symbols
> of different size (like a SAS bubble plot) showing certain cities associated
> with different values of a variable. Or this there another way (data) to
> produce such a plot?
> 
You can do this in R (Linux only) or S-Plus (Windows or Linux) using the
Becker and Wilks "Maps in S" software, with an appropriate world
database.

On ftp://ftp.mcs.vuw.ac.nz/pub/statistics/map there are a collection of
files related to "Maps in S".  The following will be of interest to you:

maps_0.1-1_intel.tar.gz		{ R "maps" package including world
				{   databases (25MB)

world.full.g			{ S-Plus for Windows data files for
world.full.l			{   library(maps) (total 15MB)
world.full.N			{

Note that I suspect that the database files contained in the R package
will work using S-Plus 5.1 for Linux on the same architecture (I would
appreciate someone who runs S-Plus 5.1 for Linux on Intel to confirm
this for me).

The library(maps) allows you to plot country (and other) boundaries,
and to place additional data on the maps, using latitude and longitude
as the coordinate system.  The R package already has a database of
world cities (greater than 100,000 population) included, but the
map.cities() function source will give you an idea of how to approach
your problem.

Hope this helps,
Ray Brownrigg <ray at mcs.vuw.ac.nz>	http://www.mcs.vuw.ac.nz/~ray
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at biostat.washington.edu  Sat Nov 13 02:42:40 1999
From: rossini at biostat.washington.edu (A.J. Rossini)
Date: 12 Nov 1999 17:42:40 -0800
Subject: [R] Re: Anonymous cvs access
In-Reply-To: Douglas Bates's message of "12 Nov 1999 18:23:18 -0600"
References: <6rwvrngryh.fsf@franz.stat.wisc.edu>
Message-ID: <87aeojdv5b.fsf@alpha.cfas.washington.edu>


>>>>> "DB" == Douglas Bates <bates at stat.wisc.edu> writes:


    DB> Currently a checked-out copy of the CVS source tree occupies
    DB> about 10 MB.  To compile and install the sources requires
    DB> about 25 MB.

And one of the nice features (why I wanted it):

in the R cvs tree, do:
	cvs log <filename>

replacing <filename> with source that you care about :-).

best,
-tony

-- 
A.J. Rossini			Research Assistant Professor of Biostatistics 
Center for AIDS Research/HMC	Biostatistics/Univ. of Washington
Box 359931			Box 357232
206-731-3647 (3693=fax)		206-543-1044 (3286=fax)
rossini at u.washington.edu	rossini at biostat.washington.edu
http://www.biostat.washington.edu/~rossini/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Sat Nov 13 04:10:52 1999
From: edd at debian.org (Dirk Eddelbuettel)
Date: Fri, 12 Nov 1999 22:10:52 -0500 (EST)
Subject: [R] postgresql package for R
In-Reply-To: <382CCA91.83F068EF@nceas.ucsb.edu>
References: <382CCA91.83F068EF@nceas.ucsb.edu>
Message-ID: <14380.54048.115214.683397@sonny.nulle.part>


Neat. I assume you know that Michael Lapsey is preparing a general ODBC
interface?  Anyway, as I currently use a simple R function around a system
call to psql, combined with read.table, I thought I'd give a shot, but alas:

> library(postgres)
Error in dyn.load(x, as.logical(local), as.logical(now)) : unable to load shared library "/usr/lib/R/library/postgres/libs/postgres.so":
  /usr/lib/R/library/postgres/libs/postgres.so: undefined symbol: PQfsize

Platform is Debian GNU/Linux with R 0.65.1, and postgresql 6.5.2.

Regards, Dirk





-- 
According to the latest figures, 43% of all statistics are totally worthless.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From masao at nf.enveng.titech.ac.jp  Sat Nov 13 06:11:45 1999
From: masao at nf.enveng.titech.ac.jp (UEBAYASHI 'UMA' Masao)
Date: Sat, 13 Nov 1999 14:11:45 +0900
Subject: [R] Re: New domain - r-project.org
In-Reply-To: <6rln83n07f.fsf@franz.stat.wisc.edu>
References: <6rln83n07f.fsf@franz.stat.wisc.edu>
Message-ID: <19991113141145P.masao@nf.enveng.titech.ac.jp>

> The R Project now has its own internet domain, r-project.org.  The

Why did you choose 'r-project.org' inseted or 'r.org'?

Masao
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Nov 13 09:15:25 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 13 Nov 1999 08:15:25 +0000 (GMT)
Subject: [R] R-0.65.1 Startup
In-Reply-To: <199911122251.LAA21703@tahi.mcs.vuw.ac.nz>
Message-ID: <Pine.GSO.4.05.9911130754370.17111-100000@auk.stats>

On Sat, 13 Nov 1999, Ray Brownrigg wrote:

> > Win95 on a 600Mhz Pentium III with 256M RAM (yeah a new machine that I just
> > got).
> > 
> > The R-shortcut setup (which is the same for R-0.64.1) is
> > C:\R\rw0651\bin\Rgui.exe --vsize 25M --nsize 10M
> > 
> Do you realise that --nsize is an item count, not a byte count?  On one
> of our Unix systems, the command:
> R --vsize 25M --nsize 10M
> results in a 229MB process.   That will tax even a 256MB system, since
> Windows takes about 64MB (doesn't it?)

Windows 95 takes about 8Mb, and Partha says rw0641 does work. I did the
calculations last night, thought it was marginal, but we had evidence that
rw0641 would succeed. On my own box, running NT with 192Mb of RAM, I can
allocate about 150Mb in about 5 secs (--vsize 25M, --nsize 6M), but trying
to get --nsize 7M took 2 minutes due to paging.

> So try starting up with somewhat smaller --nsize, I have found --nsize 1M
> suits most needs.

Indeed. If you really need more, R will become slow due to the work in 
garbage collecting so many small units.

The puzzle becomes why rw0641 works. It did use different memory
allocator, and it is possible that one is faster on Win 9x. (As it leaks
badly, we do not use it any more.)

Thomas Lumley mentioned a splash screen. On my systems the console
appears almost instantly. As it is done so early in the code it would be 
impossible to put a splash screen up much earlier. The one thing
that is done before the console is put up is to read the configuration
file.  One common cause of a slow startup is a slow user file system,
as we do have to look for files in the user `home' directory.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Sat Nov 13 10:09:55 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Sat, 13 Nov 1999 10:09:55 +0100 (MET)
Subject: [R] SAS to R translator for particular procedures
In-Reply-To: <991112.160821.EST.BAD305@ukcc.uky.edu>
References: <991112.160821.EST.BAD305@ukcc.uky.edu>
Message-ID: <14381.10979.363343.684948@homes.stat.math.ethz.ch>

>>>>> On Fri, 12 Nov 99 16:07:33 EST, Bill Paterson <BAD305 at ukcc.uky.edu> said:

    BillP> I am interested in writing a SAS to R translator that would take
    BillP> SAS code for a particular package (ie. Proc IML - interactive
    BillP> matrix language) and convert it to R. A primary motivation for
    BillP> such a tool would be an escape from proprietary license license
    BillP> fees and labor savings from not having to translate character by
    BillP> character manually.  Any comments and suggestions would be
    BillP> appreciated.

Go ahead!!
I hope you get help from people on the R-help list.

This would be really useful, since there still seems to be a lot of people
in some user communities
who rather "publish" SAS/IML than S (here meant as language, with R and
S-plus as dialects). 

We also may find that R needs new features and many(?) of us will help you with
some of these.

Probably you should aim for something that (in the beginning) works for
about 90% of the cases,
but make sure that one gets warnings (and the original SAS code as R
comments) for the remaining 10% ...

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at hal.stat.unipd.it  Sat Nov 13 11:45:12 1999
From: guido at hal.stat.unipd.it (Guido Masarotto)
Date: Sat, 13 Nov 1999 11:45:12 +0100
Subject: [R] R-0.65.1 Startup
In-Reply-To: <Pine.GSO.4.05.9911130754370.17111-100000@auk.stats>; from Prof Brian D Ripley on Sat, Nov 13, 1999 at 08:15:25AM +0000
References: <199911122251.LAA21703@tahi.mcs.vuw.ac.nz> <Pine.GSO.4.05.9911130754370.17111-100000@auk.stats>
Message-ID: <19991113114512.43092@hal.stat.unipd.it>

On Sat, Nov 13, 1999 at 08:15:25AM +0000, Prof Brian D Ripley wrote:
> The puzzle becomes why rw0641 works. It did use different memory
> allocator, and it is possible that one is faster on Win 9x. (As it leaks
> badly, we do not use it any more.)
> 

Partha, 
could you provide more details (content of an eventual .RData
file, memory reported by Windows,what happens if you start R from a
new directory,...).
I am really curious about the difference between rw0641 and rw0651.
As Brian reported, we have changed the memory allocator.
But, I am not able to reproduce the differences.
E.g., look to the following (PII 233, RAM 64M , NT4SP5):

-------------------------------------------------------------------------------
[/tmp]% cat quit.R
q()
[/tmp] time /buffer/rw0641/bin/Rterm.exe --vsize 25M --nsize 1M --slave --no-save < quit.R

real    0m1.703s
user    0m0.020s
sys     0m0.010s
[/tmp] time /buffer/rw0641/bin/Rterm.exe --vsize 25M --nsize 5M --slave --no-save < quit.R

real    0m31.926s
user    0m0.010s
sys     0m0.050s
[/tmp] time /tmp/rw0651/bin/Rterm.exe --vsize 25M --nsize 1M --slave --no-save < quit.R

real    0m1.773s
user    0m0.020s
sys     0m0.010s
[/tmp] time /tmp/rw0651/bin/Rterm.exe --vsize 25M --nsize 5M --slave --no-save < quit.R

real    0m30.224s
user    0m0.030s
sys     0m0.010s
-------------------------------------------------------------------------------

I am not too much confident about 'user' and 'sys' timing. But the 'real' one
is what I observed (elapsed time, no other process active).


BTW, on the same system, under Linux, I obtain:
------------------------------------------------------------------------------
R-0.64.1
========
[~/tmp]% time  R --vsize 25M --nsize 1M --slave --no-save  < quit.R

real    0m1.345s
user    0m1.130s
sys     0m0.210s
[~/tmp]% time  R --vsize 25M --nsize 5M --slave --no-save  < quit.R

real    0m28.527s
user    0m1.230s
sys     0m2.750s

R-0.90.0 Today snapshot:
========================
[~/tmp]% time  ~/src/R/bin/R  --vsize 25M --nsize 1M --slave --no-save  < quit.R
 
real    0m1.286s
user    0m1.060s
sys     0m0.220s
[~/tmp]% time  ~/src/R/bin/R  --vsize 25M --nsize 5M --slave --no-save  < quit.R
                                                            
real    0m31.809s
user    0m1.120s
sys     0m1.900s
-----------------------------------------------------------------------------

which shows that degradation in startup time due to an increase in 'nsize'
is more or less the same.

guido

  



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wolters at ikp.uni-bonn.de  Sat Nov 13 13:20:25 1999
From: wolters at ikp.uni-bonn.de (Maria Wolters)
Date: Sat, 13 Nov 1999 13:20:25 +0100
Subject: [R] Wanted: online Introduction to R
References: <199911121608.QAA12830@toucan.stats.ox.ac.uk>
Message-ID: <382D5789.EE8E6B49@ikp.uni-bonn.de>

I do think that there is an audience for a gentle introduction to R -
namely those people that need to use (sometimes quite sophisticated) 
stats, but are neither good mathematicians nor good programmers. People
who stopped using SPSS because they moved to Linux and discovered that
something like R was freely available. 

I suppose most of these people are social scientists or linguists like me,
who moreover need a slightly different subset of R than that which
is emphasised in the very helpful notes provided by various Stats departments.
(Yes, another way of learning about R - at least for me - was to 
go hunting for class notes based on R :) And I've got a nice thick 
folder of them by now.) For example, I'm currently making a list of R features
that might be useful for evaluating questionnaires and more categorical data
analysis. 

I'd be happy to exchange mail about this with fellow scholars and R-users; maybe we
can put together a small set of notes (R for Dummies) someday.

Have a nice weekend,

Maria Wolters
wolters at ikp.uni-bonn.de
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Nov 13 13:38:15 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Nov 1999 13:38:15 +0100
Subject: [R] Re: New domain - r-project.org
In-Reply-To: "UEBAYASHI 'UMA' Masao"'s message of "Sat, 13 Nov 1999 14:11:45 +0900"
References: <6rln83n07f.fsf@franz.stat.wisc.edu> <19991113141145P.masao@nf.enveng.titech.ac.jp>
Message-ID: <x2puxea7ns.fsf@blueberry.kubism.ku.dk>

"UEBAYASHI 'UMA' Masao" <masao at nf.enveng.titech.ac.jp> writes:

> > The R Project now has its own internet domain, r-project.org.  The
> 
> Why did you choose 'r-project.org' inseted or 'r.org'?

We did think about that, but R.org is registered to IANA (Internet
Assigned Numbers Authority) as a reserved domain. (As is apparently
any single-character .org except x.org and a.org). It isn't getting
used for anything, but we didn't want to get into negotiations with
the IANA to get them to relinquish control.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lancelot at telecomplus.sn  Sat Nov 13 14:31:11 1999
From: lancelot at telecomplus.sn (Renaud Lancelot)
Date: Sat, 13 Nov 1999 13:31:11 +0000
Subject: [R] R-0.65.1 Startup
References: <199911122251.LAA21703@tahi.mcs.vuw.ac.nz> <Pine.GSO.4.05.9911130754370.17111-100000@auk.stats> <19991113114512.43092@hal.stat.unipd.it>
Message-ID: <382D681F.39021A1B@telecomplus.sn>

Just for information:

I just downloaded and installed Rw0.65.1. It takes about 3 seconds to
launch the program, about the same as with Version 0.64.2 (and much much
quicker than S+ 4.5r2). I have a PC Pentium II / 128 Mo RAM, Win98.

Have a nice week-end,

Renaud

-- 
Renaud Lancelot
ISRA-LNERV
BP 2057 Dakar-Hann
Senegal

tel 	(221) 832 49 02
fax 	(221) 821 18 79
email	renaud.lancelot at cirad.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hdreau at cybercable.fr  Sat Nov 13 19:39:39 1999
From: hdreau at cybercable.fr (Herve Dreau)
Date: Sat, 13 Nov 1999 19:39:39 +0100
Subject: [R] Re: Anonymous cvs access
Message-ID: <19991113193939.A29823@raoul.fr>



Le sam, 13 nov 1999 01:23:18 Douglas Batesa ?crit :
> 
> With Tony Rossini's help we have established anonymous CVS access to a
> read-only copy of the main R CVS tree at cvs.r-project.org.  This
> would be of interest primarily to those who want to track the
> development version (and who have access to CVS, of course).

Great Idea

> 
> $ # Remember the password is "anoncvs" and you only need to do this once
> $ cvs -d :pserver:anoncvs at cvs.r-project.org:/home/rcvs/src login
> (Logging in to anoncvs at cvs.r-project.org)
> CVS password: 
> $ cvs -d :pserver:anoncvs at cvs.r-project.org:/home/rcvs/src checkout R
> ... many pages of filenames follow here

perhaps it'is only a temporary failure but

[dreau at raoul cvs]$ cvs -d :pserver:anoncvs at cvs.r-project.org:/home/rcvs/src co  R
cvs server: Updating R
cvs server: failed to create lock directory in repository `/home/rcvs/src/R': Permission denied
cvs server: failed to obtain dir lock in repository `/home/rcvs/src/R'
cvs [server aborted]: read lock failed - giving up
I remenber i had the same message with a cvs mirror of Gnome in the past, but
i don't kown what is the origin of this error message.

Herv? 

Many thanks to R developpers 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laniel at cmu.edu  Sat Nov 13 23:37:28 1999
From: laniel at cmu.edu (Stephen R. Laniel)
Date: Sat, 13 Nov 1999 17:37:28 -0500
Subject: [R] MASS library
In-Reply-To: <19991113193939.A29823@raoul.fr>
Message-ID: <1916811131.942514648@GROATS186.PPP.ANDREW.CMU.EDU>

What is the R equivalent of the S Plus MASS library?  An S Plus intensive
class in which I'm enrolled requires the MASS library for a
robust-regression assignment.  I looked on CRAN for the MASS library, and
couldn't find such a creature.

Is there a file on CRAN that lists R equivalents to S Plus libraries?

Thanks,
Steve

Stephen R. Laniel            |    "Every time she sneezes
Carnegie Mellon University   |     I believe it's love."
laniel at cmu.edu               |     --Adam Duritz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From novo at uiuc.edu  Sun Nov 14 00:28:45 1999
From: novo at uiuc.edu (Alvaro A. Novo)
Date: Sat, 13 Nov 1999 17:28:45 -0600
Subject: [R] MASS library
In-Reply-To: <1916811131.942514648@GROATS186.PPP.ANDREW.CMU.EDU>
References: <1916811131.942514648@GROATS186.PPP.ANDREW.CMU.EDU>
Message-ID: <9911131729460C.06945@friedman>

On Sat, 13 Nov 1999, Stephen R. Laniel wrote:
> What is the R equivalent of the S Plus MASS library?  An S Plus intensive
> class in which I'm enrolled requires the MASS library for a
> robust-regression assignment.  I looked on CRAN for the MASS library, and
> couldn't find such a creature.
> 
> Is there a file on CRAN that lists R equivalents to S Plus libraries?

Go back and try:


VR 

Various functions from the libraries of Venables and Ripley, 
`Modern Applied Statistics with S-PLUS' (3rd edition).

Version: 6.1-4
Depends: R-0.64 or later 
Author: S original by Venables & Ripley. R port by Brian Ripley 
	<ripley at stats.ox.ac.uk>, following earlier work by Kurt Hornik and 
	Albrecht Gebhardt. 
License: GPL (version 2 or later)
Pre-formatted help pages



Alvaro A. Novo
R-0.65.1
Linux SuSE 6.1




> 
> Thanks,
> Steve
> 
> Stephen R. Laniel            |    "Every time she sneezes
> Carnegie Mellon University   |     I believe it's love."
> laniel at cmu.edu               |     --Adam Duritz
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laniel at cmu.edu  Sun Nov 14 17:44:15 1999
From: laniel at cmu.edu (Stephen R. Laniel)
Date: Sun, 14 Nov 1999 11:44:15 -0500
Subject: [R] Masked objects
Message-ID: <1982017828.942579855@GROATS153.PPP.ANDREW.CMU.EDU>

Potentially Stupid Question Department:

I just tried to load a few packages in a row.  First I loaded MASS, then
tseries, then nls.  A typical error message from the last two looked like
this:

Attaching Package "package:nls":


        The following object(s) are masked from package:MASS :

         profile

Is this a big deal?  Does it mean that I lose any functionality from the
latter two packages?

Thanks,
Steve

Stephen R. Laniel            |    "Every time she sneezes
Carnegie Mellon University   |     I believe it's love."
laniel at cmu.edu               |     --Adam Duritz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Nov 14 20:26:49 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 14 Nov 1999 19:26:49 +0000 (GMT)
Subject: [R] Masked objects
In-Reply-To: <1982017828.942579855@GROATS153.PPP.ANDREW.CMU.EDU>
Message-ID: <Pine.GSO.4.05.9911141921040.13227-100000@auk.stats>

On Sun, 14 Nov 1999, Stephen R. Laniel wrote:

> Potentially Stupid Question Department:
> 
> I just tried to load a few packages in a row.  First I loaded MASS, then
> tseries, then nls.  A typical error message from the last two looked like
> this:
> 
> Attaching Package "package:nls":
> 
> 
>         The following object(s) are masked from package:MASS :
> 
>          profile
> 
> Is this a big deal?  Does it mean that I lose any functionality from the
> latter two packages?

No, no. The two definitions are identical.

The problem here is that the version of nls you are using is a few days'
old, and MASS is several months' old.  There is a potential problem here
in that different package writers may have different definitions.  These
things usually arise when two or more people try to add missing S(-PLUS)
functionality, and they usually add it in the same way.

Remember that R is rapidly changing beta software, so it is impossible
to keep up with this kind of thing. In the next release profile
will move to the base, and nls will become a standard package.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cstrato at EUnet.at  Sun Nov 14 20:50:38 1999
From: cstrato at EUnet.at (cstrato@EUnet.at)
Date: Sun, 14 Nov 1999 20:50:38 +0100
Subject: [R] dimnames
Message-ID: <382F127A.2A1DD3B0@EUnet.at>

Hi,

Maybe this is a simple question:

Using S-Plus, and having a matrix m with row- and col-names, I have the
following problem:

When I import into a function the one-column matrix m[,i], I am no
longer able to get the
column name. Is there a way to get the column-name?

(Although attributes(m) displays row- and col-names, attributes(m[,i])
does no longer show
the col-name.)

Thank  you for your help
Christian Stratowa

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Nov 14 21:48:53 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 14 Nov 1999 20:48:53 +0000 (GMT)
Subject: [R] dimnames
In-Reply-To: <382F127A.2A1DD3B0@EUnet.at>
Message-ID: <Pine.GSO.4.05.9911142044480.29652-100000@auk.stats>

On Sun, 14 Nov 1999 cstrato at EUnet.at wrote:

> Maybe this is a simple question:
> 
> Using S-Plus, and having a matrix m with row- and col-names, I have the
> following problem:
> 
> When I import into a function the one-column matrix m[,i], I am no
> longer able to get the
> column name. Is there a way to get the column-name?
> 
> (Although attributes(m) displays row- and col-names, attributes(m[,i])
> does no longer show
> the col-name.)

If i is a single number, m[, i] is not a matrix but a vector. You need
m[,i, drop=F] to preserve it as a one-column matrix.

You can use dimnames() to see the column names, or colnames() in R.

I am not sure why you sent an S-PLUS question to R-help: would not S-news
be more appropriate?  (Because of the presence of colnames() in R, the
answer might be subtly different.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From William.Venables at cmis.CSIRO.AU  Sun Nov 14 22:12:31 1999
From: William.Venables at cmis.CSIRO.AU (Bill Venables)
Date: Mon, 15 Nov 1999 07:12:31 +1000
Subject: [R] dimnames 
In-Reply-To: Your message of "Sun, 14 Nov 1999 20:50:38 +0100."
             <382F127A.2A1DD3B0@EUnet.at> 
Message-ID: <199911142115.IAA05081@snowy.nsw.cmis.CSIRO.AU>

Christian Stratowa asks:

> Hi,
> 
> Maybe this is a simple question:
> 
> Using S-Plus, and having a matrix m with row- and col-names, I
> have the following problem:
> 
> When I import into a function the one-column matrix m[,i], I am
> no longer able to get the column name.

Yes.  This is a phenomenon of R and S that we might call a
"helpful inconsistency".  If you select a single row or column of
a matrix in this way the object you get is not a matrix at all
but a vector (which does not have rows or columns).  Often this
is what you want so the convention is helpful, but it is an
inconsistency that sometimes causes problems as it has with you.
(It has nothing to do with passing on the object to functions, by
the way: it always happens.)

> Is there a way to get the column-name?

You can select the column in a way that does give you a single
column matrix (complete with column name) by using m[,i,drop=F]
instead of m[,i].  

Odd as it may look, this is often what you need to do in
programming when you are relying on some selected set of columns
to be a matrix and not something simpler.

> (Although attributes(m) displays row- and col-names,
> attributes(m[,i]) does no longer show the col-name.)

That's because they have been "dropped".  If you turn off
dropping you will preserve the attribute.

I can't help feeling that this convention, helpful as it might be
in interactive work, is a bit of a mistake.  It second-guesses
what you mean rather than what you actually program.  In that
respect it is for me an uncomfortable reminder of the sort of
thing that goes on in much MicroSoft software...

Bill Venables.

-- 
-----------------------------------------------------------------
Bill Venables, Statistician, CMIS Environmetrics Project.

Physical address:                            Postal address:
CSIRO Marine Laboratories,                   PO Box 120,       
233 Middle St, Cleveland, Queensland         Cleveland, Qld, 4163
AUSTRALIA                                    AUSTRALIA

Telephone: +61 7 3826 7251     Email: Bill.Venables at cmis.csiro.au     
      Fax: +61 7 3826 7304
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Robert.King at mailbox.gu.edu.au  Sun Nov 14 23:18:41 1999
From: Robert.King at mailbox.gu.edu.au (Robert.King@mailbox.gu.edu.au)
Date: Mon, 15 Nov 1999 08:18:41 +1000 (EST)
Subject: [R] Re: New domain - r-project.org
In-Reply-To: <6rln83n07f.fsf@franz.stat.wisc.edu>
Message-ID: <Pine.LNX.4.10.9911150816520.12403-100000@solzhenitsyn.ens.gu.edu.au>

On 12 Nov 1999, Douglas Bates wrote:
> The R Project now has its own internet domain, r-project.org.  The
> preferred addresses for various services related to R have become:
> 
>  www.r-project.org          # basic information regarding R
>  cran.r-project.org         # home site for CRAN - Comprehensive R Archive Network
>  cran.at.r-project.org      # CRAN mirror in Austria
>  cran.ch.r-project.org      # CRAN mirror in Switzerland
>  cran.dk.r-project.org      # CRAN mirror in Denmark
>  cran.uk.r-project.org      # CRAN mirror in the United Kingdom (Great Britain)
>  cran.us.r-project.org      # CRAN mirror in the U.S.A.
>  lists.r-project.org        # mailing lists related to R
>  rsync.r-project.org        # anonymous rsync access to the source trees

Is cran.au.r-project.org on the the way as well?  Our mirror is at 
mirror.aarnet.edu.au                                     

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From root at predict.telepac.pt  Mon Nov 15 00:51:12 1999
From: root at predict.telepac.pt (Jorge Magalhaes)
Date: Sun, 14 Nov 1999 23:51:12 +0000 (WET)
Subject: [R] Yates analysis 
Message-ID: <Pine.LNX.4.05.9911142347520.834-100000@predict.telepac.pt>



Dear all:

I need to perform a Yates analysis of a 2-level full factorial experiment design.
My question is: how i can do it with R, or best, what's the package who i need to use for this purpose.
 


Thanks.

                            ,__ __    
 /\                        /|  |  |   
|  |  __   ,_    __,  _     |  |  |   
|  | /  \_/  |  /  | |/     |  |  |   
 \_|/\__/    |_/\_/|/|__/   |  |  |_/o
  /|              /|                  
  \|              \|                  

-- 
+----------------------------------------------------------------------+
| Jorge Magalh?es                 Email:     jmagalhaes at eng.uminho.pt  |
| Departamento de Eng Mecanica    Telem?vel: 966172200                 |
| University of Minho             Fax:       + 351 253 516007          |
| Guimaraes                       Phone:     + 351 276 333008          |
| Portugal                        Email:     jorgemagalhaes at clix.pt    |
+----------------------------------------------------------------------+



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Mon Nov 15 01:27:01 1999
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Mon, 15 Nov 1999 13:27:01 +1300
Subject: [R] Macintosh version of R not on CRAN
In-Reply-To: <v04220801b452053a22bd@[35.8.117.17]>
Message-ID: <199911150026.NAA01459@gosset.stats.waikato.ac.nz>

When I looked at Ross's page I could only find a very old Mac version. 

Out of interest, and thinking of an old LCII I still have at home, what
*is* the situation regarding R on Macs?

Murray Jorgensen
At 01:10 PM 12-11-99 -0500, James Jetton wrote:
>Is there any reason the Macintosh version of R is not available on 
>CRAN? I downloaded a copy of 0.64 from Ross Ihaka's ftp site and it 
>seems stable.
>
>James Jetton
>jetton at msu.edu
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
> 
Murray Jorgensen,  Department of Mathematics and Statistics,
University of
Waikato,  Hamilton,  New Zealand.
[maj at waikato.ac.nz]
_______________________________________________________
"These data do not support the hypothesis"      Well . . .
The first one
does, but the second and third don't, now the fourth . . .

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Nov 15 08:39:53 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 15 Nov 1999 07:39:53 +0000 (GMT)
Subject: [R] Yates analysis 
In-Reply-To: <Pine.LNX.4.05.9911142347520.834-100000@predict.telepac.pt>
Message-ID: <Pine.GSO.4.05.9911150727450.2763-100000@auk.stats>

On Sun, 14 Nov 1999, Jorge Magalhaes wrote:

> I need to perform a Yates analysis of a 2-level full factorial 
experiment design.
> My question is: how i can do it with R, or best, what's the 
package who i need to use for this purpose.

As I understand it, Yates' algorithm is just a faster (FFT-like) way to do
the normal hierarchical anova for a 2^n design, which aov() does via lm. In
my experience, these days aov is quite fast enough on a 2^n design for
feasible n (n <= 10, say).

On the other hand, Frank Yates wrote rather a lot, and this may not be what
you meant, in which case please ask again.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jonathan.Yuen at evp.slu.se  Mon Nov 15 09:39:14 1999
From: Jonathan.Yuen at evp.slu.se (Jonathan.Yuen@evp.slu.se)
Date: Mon, 15 Nov 1999 09:39:14 +0100 (MET)
Subject: [R] Arc/INFO format with R? (fwd)
Message-ID: <Pine.A41.4.05.9911150933010.11190-100000@kilauea.evp.slu.se>

Hello All,

I have used that DCW data at PSU before, and one option (at that time) was
to download ascii files with the lat/lon point pairs for each of the
polygons for each country.  The format was fairly easy to read (into SAS).

I just looked at the page again but I was unable to download the ascii
files.  I don't know if this is a 'temporary' bug or a feature.  You
should also know that the russian data is already projected (Lambert, I
believe...).

It was LOT cheaper to use that data and make my own swedish map with RT 90
coordinates instead of licensing the data from Swedish Land Survey.

Jonathan

Jonathan Yuen, Professor in Plant Pathology     phone: 46 18 672369
Dept. of Ecology and Crop Production Sciences   fax:   46 18 672369
Swedish University of Agricultural Sciences     http://www.tvs.slu.se
Box 7043                                        email replies to
S 750 07 Uppsala, SWEDEN                        Jonathan.Yuen at evp.slu.se 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Robert.King at mailbox.gu.edu.au  Tue Nov 16 05:46:00 1999
From: Robert.King at mailbox.gu.edu.au (Robert.King@mailbox.gu.edu.au)
Date: Tue, 16 Nov 1999 14:46:00 +1000 (EST)
Subject: [R] including NAs in a table
Message-ID: <Pine.LNX.4.10.9911161442500.14923-100000@solzhenitsyn.ens.gu.edu.au>

I have two factors, WC and WD.  If I want a table including all the values
of each factor, including NAs, I can get a table by going:

table(as.character(WC),as.character(WD),exclude=c())

Is there an easier way?

I guess this is a feature request for table()

Thanks,
Robert.
----
Robert King, Australian Environmental Studies, Griffith University, Australia
3875 6677   Robert.King at mailbox.gu.edu.au   http://www.ens.gu.edu.au/robertk/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Nov 16 10:17:42 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Nov 1999 10:17:42 +0100
Subject: [R] including NAs in a table
In-Reply-To: Robert.King@mailbox.gu.edu.au's message of "Tue, 16 Nov 1999 14:46:00 +1000 (EST)"
References: <Pine.LNX.4.10.9911161442500.14923-100000@solzhenitsyn.ens.gu.edu.au>
Message-ID: <x24semlrrd.fsf@blueberry.kubism.ku.dk>

Robert.King at mailbox.gu.edu.au writes:

> I have two factors, WC and WD.  If I want a table including all the values
> of each factor, including NAs, I can get a table by going:
> 
> table(as.character(WC),as.character(WD),exclude=c())
> 
> Is there an easier way?
> 
> I guess this is a feature request for table()

It's a bit tricky:

table() has this internally

        if (is.factor(a)) 
            cat <- a
        else cat <- factor(a, exclude = exclude)

Now if you do factor(a, exclude = exclude) unconditionally, and have
exclude=NULL,  you'll get the NA's in the table, but lose all levels
not present in data, which can also be a pain...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From henkc at geoscience.org.za  Tue Nov 16 11:48:15 1999
From: henkc at geoscience.org.za (Henk Coetzee)
Date: Tue, 16 Nov 1999 12:48:15 +0200
Subject: [R] Make on RH6.1
Message-ID: <3831366F.397E1703@geoscience.org.za>

Hi

I am trying to compile R on Redhat Linux 6.1. I get the following
errors. What am I doing wrong?

make[2]: *** Warning: File `../unix/libunix.a' has modification time in
the future (942749076 > 942748853)
../unix/libunix.a(system.o): In function `main':
/usr/local/R-0.63/src/unix/system.c:544: undefined reference to
`__setfpucw'
./unix/libunix.a(system.o): In function `R_CleanUp':
/usr/local/R-0.63/src/unix/system.c:625: undefined reference to
`__setfpucw'
collect2: ld returned 1 exit status
make[2]: *** [../../bin/R.binary] Error 1
make[5]: *** Warning: File `bsplvd.o' has modification time in the
future (942749165 > 942748869)
make[5]: *** Warning:  Clock skew detected.  Your build may be
incomplete.

Henk Coetzee
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From j.logsdon at lancaster.ac.uk  Tue Nov 16 11:25:33 1999
From: j.logsdon at lancaster.ac.uk (John Logsdon)
Date: Tue, 16 Nov 1999 10:25:33 +0000 (GMT)
Subject: [R] including NAs in a table
In-Reply-To: <Pine.LNX.4.10.9911161442500.14923-100000@solzhenitsyn.ens.gu.edu.au>
Message-ID: <Pine.LNX.4.04.9911161017000.2553-100000@mercury.quantex>



On Tue, 16 Nov 1999 Robert.King at mailbox.gu.edu.au wrote:

> I have two factors, WC and WD.  If I want a table including all the values
> of each factor, including NAs, I can get a table by going:
                  ^^^^^^^^^^^^

This is not a factor level, which is the root of the problem.

> 
> table(as.character(WC),as.character(WD),exclude=c())
> 
> Is there an easier way?
> 

So another way (equally ugly) is 

  table(ifelse(is.na(WC),'Something',WC),ifelse(is.na(WD),'else',WD))

You effectively have to extend the factor levels in some way.  Note it
doesn't work to have the two strings as 'NA'!  If the labels are numeric
then you can use an unused number (like 0) and the table will be ordered
numerically.

> I guess this is a feature request for table()
> 

Perhaps incl.na=F (default)?? 

John


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jens.oehlschlaegel-akiyoshi at mdfactory.de  Tue Nov 16 12:16:23 1999
From: jens.oehlschlaegel-akiyoshi at mdfactory.de (=?iso-8859-1?Q?Jens_Oehlschl=E4gel-Akiyoshi?=)
Date: Tue, 16 Nov 1999 12:16:23 +0100
Subject: [R] Somers D
Message-ID: <000101bf3024$04d24bf0$a9021aac@joelschlaegel>



Does anyone know about functions for calculating Somer's D in R?
Perhaps even a version for censored values, like the two functions in hmisc?

Thanks for any pointers

--
Dr. Jens Oehlschl?gel-Akiyoshi
MD FACTORY GmbH
Bayerstrasse 21

80335 M?nchen

Tel.: 089 545 28-27
Fax.: 089 545 28-10
http://www.mdfactory.de


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Tue Nov 16 12:24:54 1999
From: plummer at iarc.fr (Martyn Plummer)
Date: Tue, 16 Nov 1999 12:24:54 +0100 (CET)
Subject: [R] Make on RH6.1
In-Reply-To: <3831366F.397E1703@geoscience.org.za>
Message-ID: <XFMail.991116122454.plummer@iarc.fr>

On 16-Nov-99 Henk Coetzee wrote:
> Hi
> 
> I am trying to compile R on Redhat Linux 6.1. I get the following
> errors. What am I doing wrong?

It looks like the configuration is for Red Hat 5.x.  If your build tree
dates from before the time you upgraded from 5.x to 6.1 then the file
config.cache will contain the wrong configuration. Type

make distclean

and try again.
Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Nov 16 12:40:55 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Nov 1999 12:40:55 +0100
Subject: [R] Make on RH6.1
In-Reply-To: Henk Coetzee's message of "Tue, 16 Nov 1999 12:48:15 +0200"
References: <3831366F.397E1703@geoscience.org.za>
Message-ID: <x24sem3bqw.fsf@blueberry.kubism.ku.dk>

Henk Coetzee <henkc at geoscience.org.za> writes:

> I am trying to compile R on Redhat Linux 6.1. I get the following
> errors. What am I doing wrong?
> 
> make[2]: *** Warning: File `../unix/libunix.a' has modification time in
> the future (942749076 > 942748853)
> ../unix/libunix.a(system.o): In function `main':
> /usr/local/R-0.63/src/unix/system.c:544: undefined reference to
> `__setfpucw'
> ./unix/libunix.a(system.o): In function `R_CleanUp':
> /usr/local/R-0.63/src/unix/system.c:625: undefined reference to
> `__setfpucw'
> collect2: ld returned 1 exit status
> make[2]: *** [../../bin/R.binary] Error 1
> make[5]: *** Warning: File `bsplvd.o' has modification time in the
> future (942749165 > 942748869)
> make[5]: *** Warning:  Clock skew detected.  Your build may be
> incomplete.

That your sources are about 8 moths too old....

No, really: the __setfpucw thing came up with the RH6.x (glibc2)
releases, and got fixed some releases back. (If for some reason you
cannot get new sources, just remove the calls to __setfpucw() since
they don't do anything useful.)

The clock skew indicates - as it says - that your files carry a date
stamp in the future, which confuses make (although usually thing come
out right in the end). Either you've adjusted your clock after
generating the files or your files are on a server and the clocks of
the two machines are out of sync.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Tue Nov 16 13:26:57 1999
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Tue, 16 Nov 1999 07:26:57 -0500
Subject: [R] R (DCOM)
References: <Pine.LNX.4.10.9911161442500.14923-100000@solzhenitsyn.ens.gu.edu.au> <x24semlrrd.fsf@blueberry.kubism.ku.dk>
Message-ID: <012301bf302d$e039a900$6328acce@bellglobal.com>

Hi everyone,

I tried to use StatConnectorSrv.exe which is an ActiveX  server component
for R. It should run under NT 4 and it does but only if I start it manually
before I run the client.

I tried to register it by using /RegServer and it doesn't change anything I
still have to start it manually. I'm I doing something wrong?

I also tried to compile the source with VC 6.0 and it doesn't work either it
doesn't link (no _main). Here I understand because I'm useless with VC.

I'd like very much to use this component with a project that I have so any
help would be appreciated.

Thanks in advance.

Yves Gauvreau

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Tue Nov 16 13:49:36 1999
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Tue, 16 Nov 1999 07:49:36 -0500
Subject: [R] Grid lines?
Message-ID: <012b01bf3031$09f95850$6328acce@bellglobal.com>

Hi,

I'm new to R and I wonder if it's possible to have grid lines on a graph?

Thanks.

Yves Gauvreau

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Tue Nov 16 16:10:16 1999
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 16 Nov 1999 10:10:16 -0500
Subject: [R] Make on RH6.1
References: <3831366F.397E1703@geoscience.org.za>
Message-ID: <383173D8.4352376E@bank-banque-canada.ca>

>>make[2]: *** Warning: File `../unix/libunix.a' has modification time in
>>the future (942749076 > 942748853)

>Either you've adjusted your clock after
>generating the files or your files are on a server and the clocks of
>the two machines are out of sync.

The server and workstation clocks only have to be out of sync by a second to
cause these warnings. Even synchronizing both clocks with a non-local time
source is not always good  enough, but I don't think the warnings occur if the
server is behind the workstation. However, they may be off by a lot if you
occasionally run Windows. My clock got switched not only from daylight savings
to standard time, but also from GMT to local, which put it out by many hours in
Linux.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at hal.stat.unipd.it  Tue Nov 16 16:50:54 1999
From: guido at hal.stat.unipd.it (Guido Masarotto)
Date: Tue, 16 Nov 1999 16:50:54 +0100
Subject: [R] Grid lines?
In-Reply-To: <012b01bf3031$09f95850$6328acce@bellglobal.com>; from Yves Gauvreau on Tue, Nov 16, 1999 at 07:49:36AM -0500
References: <012b01bf3031$09f95850$6328acce@bellglobal.com>
Message-ID: <19991116165054.10823@hal.stat.unipd.it>

On Tue, Nov 16, 1999 at 07:49:36AM -0500, Yves Gauvreau wrote:
> Hi,
> 
> I'm new to R and I wonder if it's possible to have grid lines on a graph?
> 

> apropos("grid") #to search the command with 'grid' in the name
[1] "expand.grid" "grid"  
> ?grid #to look at the help page of 'grid'
   grid(base)                                   R Documentation

   Add Grid to a Plot
........................................................................
........................................................................

guido
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Olivier.Houix at ircam.fr  Tue Nov 16 18:08:59 1999
From: Olivier.Houix at ircam.fr (Olivier Houix)
Date: Tue, 16 Nov 1999 18:08:59 +0100
Subject: [R] Grid lines?
References: <012b01bf3031$09f95850$6328acce@bellglobal.com>
Message-ID: <38318FAB.41C6@ircam.fr>

Yves Gauvreau wrote:
> 
> Hi,
> 
> I'm new to R and I wonder if it's possible to have grid lines on a graph?
> 
Hello,
 
Yes, you can use the "grid" function.
help(grid) for the options.

-- 
Olivier Houix  (houix at ircam.fr)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From clive.jenkins at clara.net  Tue Nov 16 18:04:18 1999
From: clive.jenkins at clara.net (Clive Jenkins)
Date: Tue, 16 Nov 1999 17:04:18 +0000
Subject: [R] Wanted: online Introduction to R
References: <199911121608.QAA12830@toucan.stats.ox.ac.uk>
Message-ID: <38318E92.DA3DE64C@clara.net>

Prof Brian Ripley wrote:
> 
> > Date: Fri, 12 Nov 1999 15:03:08 +0000
> > From: Clive Jenkins <clive.jenkins at clara.net>
> > X-Accept-Language: en
> > To: r-help at stat.math.ethz.ch
> > Subject: [R] Wanted: online Introduction to R
> >
> > As a complete newcomer I am attempting to learn to use R, but am finding
> > it extremely difficult because I have not yet found an "Introduction to
> > R".
> >
> > For over a week now I have monitored the R-help list, studied the R-FAQ
> > and related documents, downloaded and run the Windows R and looked at
> > the Help, downloaded early and late samples of the R-help archives, and
> > searched for illuminating articles in online journals, all with little
> > success.
> >
> > The R documentation appears to be quite good, but it does assume the
> > reader already understands the basics of the language. I had hoped to
> > find, at least, a terse definition of the language syntax with some
> > description of the semantics.
> >
> > Can anybody please assist?
> 
> Can you tell us what you have read? There are the R-notes on CRAN which
> appear to be closest to you want, although they are unreliable in part
> (as they are only partially converted from S notes).  There is an R
> Language reference manual in (private as yet) draft, but it is not at
> all for beginners.
> 
> Bill Venables and I have a book (see the CRAN page) and on-line
> complements for R, and another more formal book in press.  We offer no
> apologies for this having a cost: the effort involved was very considerable.
> For that reason, I do not expect that the sort of material you may
> be looking for will ever be available (legally) for free.
> 
> How to document R is an important issue for the Core Team, but one that
> may need R to become stabler first. (It is still in beta, and in
> detail changing very rapidly as we find things are not as we would
> like.)  However `a terse definition of the language syntax with some
> description of the semantics' does not sound like an `Introduction to R'
> to me, and so we are genuinely interested to understand your comments more.
> 
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595

These are the major documents I had read up to the point when I said
"help!":
-------------------------------------
http://www.stats.ox.ac.uk/~ripley/
Brian Ripley's Home Page

ftp://stat.auckland.ac.nz/pub/R/{README, RESOURCES, PLATFORMS, NEWS,
MIRROR-SITES}

http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
"R FAQ". Frequently Asked Questions on R, Version 0.65-7, 1999/10/06,
Kurt Hornik.

http://www.stats.ox.ac.uk/pub/R/rw-FAQ.html
"Frequently Asked Questions for R for Windows", Brian Ripley.

Downloaded, installed and ran rw0651, ran demos, browsed the Help
 {rw0651b, rw0651wh, rw0651h, rw0651ch, rw0651w}.zip

http://www.stats.bris.ac.uk/R/doc/html/interface98-paper/paper.html
"R: Past and Future History". A Draft of Ross Ihaka's Interface '98
paper.

http://www.stats.ox.ac.uk/pub/MASS3/Compl.shtml
On-line Complements to MASS3, Brian Ripley.

http://stat.eth.ch/R/manual/doc/html/
"R manual" (browsed, not read from cover to cover!)

http://lib.stat.cmu.edu/S/faq
"Frequently Asked Questions about S". $Revision: 1.23 $

http://netlib.bell-labs.com/cm/ms/departments/sia/S/index.html
"Stages in the Evolution of S", John Chambers. 

The latest 2 files and the earliest 2 of:
ftp://ftp.stat.math.ethz.ch/Mail-archives/r-help-*
-------------------------------------

I followed links 2 or 3 deep wherever it appeared fruitful, subject to
the target documents being readable on my PC. I now realise that my main
problem was that I was not set up to read TeX documents, and therefore
passed over the R-notes without realising their crucial significance. I
have since viewed them as raw ASCII and they appear to be what I need.
It might be worth changing the R-FAQ to stress the relevance of the
R-notes to a beginner.

[I had previously downloaded Ghostscript and GSview, in an attempt to
broaden the range of internet resources I could use, but I never spent
enough hours (or days?) to get it working properly. I didn't want to
divert into TeX without having plenty of free time in front of me! Maybe
I should switch to Linux before trying to do anything serious.]

Perhaps I should clarify what sort of a beginner I am. Although I have a
maths degree which introduced me to probability and statistics, I have
not been much involved with statistics for some time, and have no
previous experience of any statistical programs. However, I have many
years experience of programming, using a variety of languages, and
including compiler-writing. I am therefore quite comfortable with terse
documentation, and often prefer it to documents that are too slow to
reveal the real nitty-gritty.

I come to R now (at your suggestion, if you remember: Histogram display
software 1999-11-03 08:29) because I am informally assisting a PhD
student make sense of data drawn from music therapy sessions with groups
of severely disabled children, in particular to recognise potential
dialogue or stimulus/response patterns. This data is a log of encoded
actions performed by the various individuals, transcribed from
videotape. Each item in the log says "from time t1 to time t2 agent x
performs action y". With 5 or 6 agents x and over 100 actions y, this is
not trivial! ... But thats another story!

I hope I haven't gone on too long, but you did ask! I'll take a look at
your (+Venables') book next time I'm in a suitable bookshop or library.
Thanks again.

Clive Jenkins.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From BAD305 at ukcc.uky.edu  Tue Nov 16 20:01:17 1999
From: BAD305 at ukcc.uky.edu (Bill Paterson)
Date: Tue, 16 Nov 99 14:01:17 EST
Subject: [R] A text file of R Functions
Message-ID: <991116.140301.EST.BAD305@ukcc.uky.edu>

Hi, all. Does anybody have a dos text file format or pdf format of the
R functions that are listed at :

  http://stat.ethz.ch/R-alpha/doc/html/function.html

If anyone does could you point me to a download site or e-mail the file to
me . Thanks.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From BAD305 at ukcc.uky.edu  Tue Nov 16 21:01:51 1999
From: BAD305 at ukcc.uky.edu (Bill Paterson)
Date: Tue, 16 Nov 99 15:01:51 EST
Subject: [R] Man pages for Linux distributions
Message-ID: <991116.150919.EST.BAD305@ukcc.uky.edu>

Given that R is being written under the GNU GPL, a corollary process would
be sufficient documentation of R (in  packaged distributions) that explains
HOW-TO install, use, and extend R. An example of documentation that is
extensive is Perl which has documentation under the MAN pages in Unix,Linux as
well as in POD (Plain Old Documents) files.

The key to R advocacy is documentation. As documentation increases , I think
updates, new releases, and release freezes will be better and easier .
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at hal.stat.unipd.it  Tue Nov 16 21:30:21 1999
From: guido at hal.stat.unipd.it (Guido Masarotto)
Date: Tue, 16 Nov 1999 21:30:21 +0100
Subject: [R] A text file of R Functions
In-Reply-To: <991116.140301.EST.BAD305@ukcc.uky.edu>; from Bill Paterson on Tue, Nov 16, 1999 at 02:01:17PM -0400
References: <991116.140301.EST.BAD305@ukcc.uky.edu>
Message-ID: <19991116213021.46937@hal.stat.unipd.it>

On Tue, Nov 16, 1999 at 02:01:17PM -0400, Bill Paterson wrote:
> Hi, all. Does anybody have a dos text file format or pdf format of the
> R functions that are listed at :
> 
>   http://stat.ethz.ch/R-alpha/doc/html/function.html
> 
> If anyone does could you point me to a download site or e-mail the file to
> me . Thanks.


  The text version of that file is installed as /library/base/help/AnIndex.
  In the same directory, it is installed the text version of the help
  pages. In the case you don't have R installed, you can download
  rwXXXXh.zip from any CRAN mirrors (from the main page, binaries/
  windows/Windows-NT/base). This file contains the library/*/help
  and library/*/R-ex (i.e., the examples) for the standard packages.

  guido
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at hal.stat.unipd.it  Tue Nov 16 23:21:58 1999
From: guido at hal.stat.unipd.it (Guido Masarotto)
Date: Tue, 16 Nov 1999 23:21:58 +0100
Subject: [R] A text file of R Functions
In-Reply-To: <19991116213021.46937@hal.stat.unipd.it>; from Guido Masarotto on Tue, Nov 16, 1999 at 09:30:21PM +0100
References: <991116.140301.EST.BAD305@ukcc.uky.edu> <19991116213021.46937@hal.stat.unipd.it>
Message-ID: <19991116232158.48692@hal.stat.unipd.it>

On Tue, Nov 16, 1999 at 09:30:21PM +0100, Guido Masarotto wrote:
> On Tue, Nov 16, 1999 at 02:01:17PM -0400, Bill Paterson wrote:
> > Hi, all. Does anybody have a dos text file format or pdf format of the
> > R functions that are listed at :
> > 
> >   http://stat.ethz.ch/R-alpha/doc/html/function.html
> 
>   The text version of that file is installed as /library/base/help/AnIndex.
                                                                     =======

  Sorry, I was sleeping. You can obtain an analogous of that file
  combining the library/*/help/00Titles files not the AnIndex ones.

  guido
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Nov 17 00:10:42 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 17 Nov 1999 00:10:42 +0100
Subject: [R] Wanted: online Introduction to R
In-Reply-To: Clive Jenkins's message of "Tue, 16 Nov 1999 17:04:18 +0000"
References: <199911121608.QAA12830@toucan.stats.ox.ac.uk> <38318E92.DA3DE64C@clara.net>
Message-ID: <x2n1sedoct.fsf@blueberry.kubism.ku.dk>

Clive Jenkins <clive.jenkins at clara.net> writes:

> I followed links 2 or 3 deep wherever it appeared fruitful, subject to
> the target documents being readable on my PC. I now realise that my main
> problem was that I was not set up to read TeX documents, and therefore
> passed over the R-notes without realising their crucial significance. I
> have since viewed them as raw ASCII and they appear to be what I need.
> It might be worth changing the R-FAQ to stress the relevance of the
> R-notes to a beginner.
> 
> [I had previously downloaded Ghostscript and GSview, in an attempt to
> broaden the range of internet resources I could use, but I never spent
> enough hours (or days?) to get it working properly. I didn't want to
> divert into TeX without having plenty of free time in front of me! Maybe
> I should switch to Linux before trying to do anything serious.]

I'm pretty sure a PostScript version of R-notes sits around somewhere
...<checking>... yup. 3rd item under "R Documentation" at CRAN! You
can read that easily (to the extent that getting the reader to work on
Windows is easy) using GSView.

(And it *is* easier with Linux - "gv Rnotes.ps.gz" - and lots of
things are easier, but then again there also lots of things that would
be completely new to you... Rule of thumb: If you have the choice,
shift if you need to do programming in C or need Unix tools. Or if
you're attracted to it for other reasons than your productivity of
course...)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Nov 17 00:27:04 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 17 Nov 1999 00:27:04 +0100
Subject: [R] Man pages for Linux distributions
In-Reply-To: Bill Paterson's message of "Tue, 16 Nov 99 15:01:51 EST"
References: <991116.150919.EST.BAD305@ukcc.uky.edu>
Message-ID: <x23du6uiev.fsf@blueberry.kubism.ku.dk>

Bill Paterson <BAD305 at ukcc.uky.edu> writes:

> Given that R is being written under the GNU GPL, a corollary process would
> be sufficient documentation of R (in  packaged distributions) that explains
> HOW-TO install, use, and extend R. An example of documentation that is
> extensive is Perl which has documentation under the MAN pages in Unix,Linux as
> well as in POD (Plain Old Documents) files.
> 
> The key to R advocacy is documentation. As documentation increases , I think
> updates, new releases, and release freezes will be better and easier .

Aw c'mon! I'll gladly admit that there	is a shortage of overview type
documents and tutorials, but you sound as if you haven't noticed the
600 page document that comes out of "cd doc; make dvi".

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Nov 17 10:07:15 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 17 Nov 1999 10:07:15 +0100 (MET)
Subject: [R] Man pages for Linux distributions
In-Reply-To: <x23du6uiev.fsf@blueberry.kubism.ku.dk>
References: <991116.150919.EST.BAD305@ukcc.uky.edu>
	<x23du6uiev.fsf@blueberry.kubism.ku.dk>
Message-ID: <14386.28739.726670.955822@gargle.gargle.HOWL>

>>>>> On 17 Nov 1999 00:27:04 +0100, Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> said:

    PD> Bill Paterson <BAD305 at ukcc.uky.edu> writes:
    >> Given that R is being written under the GNU GPL, a corollary process
    >> would be sufficient documentation of R (in packaged distributions)
    >> that explains HOW-TO install, use, and extend R. An example of
    >> documentation that is extensive is Perl which has documentation
    >> under the MAN pages in Unix,Linux as well as in POD (Plain Old
    >> Documents) files.
    >> 
    >> The key to R advocacy is documentation. As documentation increases ,
    >> I think updates, new releases, and release freezes will be better
    >> and easier .

    PD> Aw c'mon! I'll gladly admit that there is a shortage of overview
    PD> type documents and tutorials, but you sound as if you haven't
    PD> noticed the 600 page document that comes out of "cd doc; make dvi".

Even just
 
     make dvi

and there will be something like

    make pdf

probably "real soon now" (thanks to pdflatex, hyperref and Prof. Brian Ripley..)

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Emilie.Levivier at lmcp.jussieu.fr  Wed Nov 17 11:18:17 1999
From: Emilie.Levivier at lmcp.jussieu.fr (Levivier Emilie)
Date: Wed, 17 Nov 1999 11:18:17 +0100
Subject: [R] Plot problem !
Message-ID: <383280E8.AF09D616@lmcp.jussieu.fr>

Hello,

Is there a simple way to make a plot with xy coordinates and a z value
which determines the size and the color of point on the plot?

Thanks for your help !
Emilie

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Nov 17 11:59:57 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 17 Nov 1999 11:59:57 +0100
Subject: [R] Plot problem !
In-Reply-To: Levivier Emilie's message of "Wed, 17 Nov 1999 11:18:17 +0100"
References: <383280E8.AF09D616@lmcp.jussieu.fr>
Message-ID: <x2yabxmlhu.fsf@blueberry.kubism.ku.dk>

Levivier Emilie <Emilie.Levivier at lmcp.jussieu.fr> writes:

> Hello,
> 
> Is there a simple way to make a plot with xy coordinates and a z value
> which determines the size and the color of point on the plot?

Color, yes. Try plot(1:10,col=1:10), or something with gray(), etc.

Size, no. But this will work in 0.90.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bruno.Tassin at cereve.enpc.fr  Wed Nov 17 12:03:36 1999
From: Bruno.Tassin at cereve.enpc.fr (Bruno Tassin)
Date: Wed, 17 Nov 1999 12:03:36 +0100
Subject: [R] contour and interpolation
References: <991116.150919.EST.BAD305@ukcc.uky.edu>
		<x23du6uiev.fsf@blueberry.kubism.ku.dk> <14386.28739.726670.955822@gargle.gargle.HOWL>
Message-ID: <38328B88.538733E@cergrene.enpc.fr>

Hi,

I need to draw a contour plot based on an irregular (x,y) grid.
Is there any interpolation function in R which could create a matrix of
interpolated points on a regular grid based on x and y, in order to use
the contour() function

Thank you in advance


--
Bruno Tassin
Cereve-ENPC



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Wed Nov 17 12:27:14 1999
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Wed, 17 Nov 1999 22:27:14 +1100
Subject: [R] Plot problem !
References: <383280E8.AF09D616@lmcp.jussieu.fr>
Message-ID: <38329112.684497C@ozemail.com.au>

Levivier Emilie wrote:

> Hello,
>
> Is there a simple way to make a plot with xy coordinates and a z value
> which determines the size and the color of point on the plot?

This is pretty basic, but may be helpful:

> test<-c(2,6,4,7,5,6,8,3,7,2)
> plot(test,type="n",main="Color/size test plot",ylab="Size scale",xlab="Color
scale")
> colsiz<-function (yvec) {
    ymin <- min(yvec)
    cexdiv <- max(yvec)/2
    for (i in 1:length(yvec)) {
        nextcex <- (yvec[i] - ymin)/cexdiv + 1
        par(cex = nextcex)
        points(i, yvec[i], type = "p", col = i)
    }
}
> colsiz(test)

Note that the size here ranges from 1->2.  You can change that by fiddling with
the calculation of 'cexdiv'.
Oops, I just realized that I used the x and y values to determine the color and
size, but that may be what you wanted anyway...

Jim


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From karen at gecko.biol.wits.ac.za  Wed Nov 17 13:27:39 1999
From: karen at gecko.biol.wits.ac.za (KAREN KOTSCHY)
Date: Wed, 17 Nov 1999 13:27:39 GMT+2
Subject: [R] help with multiple comparisons
Message-ID: <338C474CBC@gecko.biol.wits.ac.za>

Dear R users

I have a question which is only partly related to R, but I'm sending 
it to this list in the hope that someone with a better statistical 
background than mine will be kind enough to help me.

It concerns multiple comparison testing in ANOVA. I know this 
subject has been raised before on this list, and I have looked 
through the relevant messages and read the article in Biometrics 
by S. Paul Wright suggested by Thomas Lumley, as  well as some 
other literature. However, I am still stuck as to how to actually 
implement one of these tests in R. As I am neither a statistician 
nor a programmer, the idea of coding my own test seems like a 
really remote possibility. Thomas Lumley did post some code for 3 
post hoc tests (Bonferroni, Holm and Hochberg) a while ago (see 
below), but I am still battling to work out how I would actually use 
one of these on my data.

Is there anyone who would be prepared to guide me through the 
process? Please?

Thank you
Karen
Karen Kotschy
Centre for Water in the Environment
University of the Witwatersrand
Johannesburg

Tel: 011 716-2218
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From j.logsdon at lancaster.ac.uk  Wed Nov 17 12:18:28 1999
From: j.logsdon at lancaster.ac.uk (John Logsdon)
Date: Wed, 17 Nov 1999 11:18:28 +0000 (GMT)
Subject: [R] Plot problem !
In-Reply-To: <x2yabxmlhu.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.04.9911171116030.9469-100000@mercury.quantex>



On 17 Nov 1999, Peter Dalgaard BSA wrote:

> 
> Size, no. But this will work in 0.90.
> 

0.90?  is that the next quantum leap or is it a bit away yet.  And do you
mean like GLIM we will be able to plot circles or whatever where the
diameter corresponds to the density, for example?  Neat.

John

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rsb at reclus.nhh.no  Wed Nov 17 13:05:42 1999
From: rsb at reclus.nhh.no (Roger Bivand)
Date: Wed, 17 Nov 1999 12:05:42 +0000 (   )
Subject: [R] Plot problem !
In-Reply-To: <383280E8.AF09D616@lmcp.jussieu.fr>
Message-ID: <Pine.LNX.4.04.9911171201270.1786-100000@reclus.nhh.no>

On Wed, 17 Nov 1999, Levivier Emilie wrote:

> Hello,
> 
> Is there a simple way to make a plot with xy coordinates and a z value
> which determines the size and the color of point on the plot?
> 
> 

In package sgeostat, there is a plot() for point objects:

Plot the spatial locations in a point object, optionally coloring by
quantile.

If this isn't quite what you need, it will give you an idea about how to
get there.


Roger Bivand
Department of Geography, 
Norwegian School of Economics and Business Administration,
Breiviksveien 40, N-5045 Bergen, Norway.
voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rsb at reclus.nhh.no  Wed Nov 17 13:09:29 1999
From: rsb at reclus.nhh.no (Roger Bivand)
Date: Wed, 17 Nov 1999 12:09:29 +0000 (   )
Subject: [R] contour and interpolation
In-Reply-To: <38328B88.538733E@cergrene.enpc.fr>
Message-ID: <Pine.LNX.4.04.9911171206300.1786-100000@reclus.nhh.no>

On Wed, 17 Nov 1999, Bruno Tassin wrote:

> I need to draw a contour plot based on an irregular (x,y) grid.
> Is there any interpolation function in R which could create a matrix of
> interpolated points on a regular grid based on x and y, in order to use
> the contour() function
> 

Have a look at the functions in package akima, which include several such
interpolation variants.


Roger Bivand
Department of Geography, 
Norwegian School of Economics and Business Administration,
Breiviksveien 40, N-5045 Bergen, Norway.
voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Nov 17 13:13:46 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 17 Nov 1999 13:13:46 +0100
Subject: [R] Plot problem !
In-Reply-To: John Logsdon's message of "Wed, 17 Nov 1999 11:18:28 +0000 (GMT)"
References: <Pine.LNX.4.04.9911171116030.9469-100000@mercury.quantex>
Message-ID: <x2so25mi2t.fsf@blueberry.kubism.ku.dk>

John Logsdon <j.logsdon at lancaster.ac.uk> writes:

> On 17 Nov 1999, Peter Dalgaard BSA wrote:
> 
> > 
> > Size, no. But this will work in 0.90.
> > 
> 
> 0.90?  is that the next quantum leap or is it a bit away yet.  And do you
> mean like GLIM we will be able to plot circles or whatever where the
> diameter corresponds to the density, for example?  Neat.

Well, hardly a quantum leap, but an indication that 1.0.0 is
approaching. One may argue that we've really passed the 0.x.y
stage long ago. So we're trying to take the opportunity to wrap some
things up and have a release without too many loose ends.

(0.90.0 comes out Monday and yes, "bubble plots" should work now.)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From BAD305 at ukcc.uky.edu  Wed Nov 17 17:41:51 1999
From: BAD305 at ukcc.uky.edu (Bill Paterson)
Date: Wed, 17 Nov 99 11:41:51 EST
Subject: [R] Documentation help
Message-ID: <991117.114512.EST.BAD305@ukcc.uky.edu>

Thanks for the many responses about where to find documentation about R!
The postings have helped me accelerate my ingestion of R.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From malcolmq at maths.usyd.edu.au  Thu Nov 18 00:06:16 1999
From: malcolmq at maths.usyd.edu.au (Malcolm Quine)
Date: Thu, 18 Nov 1999 10:06:16 +1100
Subject: [R] spin
Message-ID: <383334E8.2781@maths.usyd.edu.au>

Is there an R version of the very handy S-PLUS function spin? I've tried
the help pages and apropos() without success.

Malcolm Quine
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laniel at cmu.edu  Thu Nov 18 02:28:12 1999
From: laniel at cmu.edu (Stephen R. Laniel)
Date: Wed, 17 Nov 1999 20:28:12 -0500
Subject: [R] Am I an idiot?
Message-ID: <2272654416.942870492@GROATS13.PPP.ANDREW.CMU.EDU>

Hey everyone,

What am I doing wrong?  I loaded the MASS package with library(MASS), and
now when I type library() I get

> library()

   Packages in library `F:\r\rw0651/library':

   MASS            Main Library of Venables and Ripley's MASS
   base            The R base package
   .
   .
   .

That's fine.  The problem is that when I try to use a function that I know
is built into MASS -- in particular, rlm() -- I get

> rlm
Error: Object "rlm" not found

What am I doing wrong?

Thanks,
Steve

P.S.: I'm running R 0.65.1 under Windows NT 4.0SP6, if that matters at all.

Stephen R. Laniel            |    "Every time she sneezes
Carnegie Mellon University   |     I believe it's love."
laniel at cmu.edu               |     --Adam Duritz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laniel at cmu.edu  Thu Nov 18 04:06:52 1999
From: laniel at cmu.edu (Stephen R. Laniel)
Date: Wed, 17 Nov 1999 22:06:52 -0500
Subject: [R] Am I an idiot?
In-Reply-To: <2272654416.942870492@GROATS13.PPP.ANDREW.CMU.EDU>
Message-ID: <2278575045.942876412@GROATS162.PPP.ANDREW.CMU.EDU>

The problem turned out to be a simple one: I had forgotten to run
library(MASS) at the beginning of my current R session.  Thanks to Alan
Arnholt for the quick fix.

--Steve

Stephen R. Laniel            |    "Every time she sneezes
Carnegie Mellon University   |     I believe it's love."
laniel at cmu.edu               |     --Adam Duritz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nklepeis at uclink4.berkeley.edu  Thu Nov 18 04:15:25 1999
From: nklepeis at uclink4.berkeley.edu (Neil E. Klepeis)
Date: Wed, 17 Nov 1999 19:15:25 -0800
Subject: [R] Overlaying Plots
References: <001001bf2d1d$7c125160$a9021aac@joelschlaegel>
 <x2iu37raka.fsf@blueberry.kubism.ku.dk>
Message-ID: <38336F4D.656D53D8@uclink4.berkeley.edu>

Greetings,

Problem Summary:  I am trying to overlay data series by plotting on the
same set of axes, but the ylim and xlim specifications apparently do not
specify the actual limits of the plot.  Is there some way to specify the
x and y limits that I am overlooking?  Or is there a bug?  Or.....

According to V&R (1999, p. 71), one should "use the same xlim or ylim
(or both) setting on each plot...".   Unfortunately, this does not work
in R.  When I enter the following:

> x<-rnorm(1000)
> qqnorm(x,ylim=range(x))
> range(x)
[1] -3.222694  3.253103
> qqnorm(x,ylim=c(-3,3))

...the actual plot y limit is not [-3.222692, 3.253103] or [-3,3].  R
sets the extreme tic marks in the second case, and some other
(seemingly) arbitrary limits in the first case (presumably to fit all
the data on the plot with a bit of a margin).  

I've had to make due with the situation by setting whole numbers as the
limits (e.g., the extreme tic marks):

>par(ann=F,new=T)
>oldylim<-par()$yaxp
>ylim[2] <- oldylim[2]
>ylim[1] <- oldylim[1] 

But this doesn't always work for me and is less than satisfactory.

Please advise.

Thanks,
Neil

-- 
___________________________________________________________
Neil E. Klepeis, School of Public Health, UC Berkeley, USA
http://socrates.berkeley.edu/~nklepeis
http://eetd.lbl.gov/ied/era/exposuremodeling/
nklepeis at uclink4.berkeley.edu
510-848-5827
------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Nov 18 08:08:40 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 18 Nov 1999 07:08:40 +0000 (GMT)
Subject: [R] spin
In-Reply-To: <383334E8.2781@maths.usyd.edu.au>
Message-ID: <Pine.GSO.4.05.9911180706120.20108-100000@auk.stats>

On Thu, 18 Nov 1999, Malcolm Quine wrote:

> Is there an R version of the very handy S-PLUS function spin? I've tried
> the help pages and apropos() without success.

Yes and no. Not directly, but there is a link to the program XGobi
(you need the program and package xgobi from CRAN) which will do all
spin (and brush) will do, and much more.  This is available on Unix, and on
Windows if you have an X server.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Nov 18 08:21:24 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 18 Nov 1999 07:21:24 +0000 (GMT)
Subject: [R] Overlaying Plots
In-Reply-To: <38336F4D.656D53D8@uclink4.berkeley.edu>
Message-ID: <Pine.GSO.4.05.9911180710230.20108-100000@auk.stats>

On Wed, 17 Nov 1999, Neil E. Klepeis wrote:

> Greetings,
> 
> Problem Summary:  I am trying to overlay data series by plotting on the
> same set of axes, but the ylim and xlim specifications apparently do not
> specify the actual limits of the plot.  Is there some way to specify the
> x and y limits that I am overlooking?  Or is there a bug?  Or.....
> 
> According to V&R (1999, p. 71), one should "use the same xlim or ylim
> (or both) setting on each plot...".   Unfortunately, this does not work
> in R.  

You need to heed the rest of the sentence, which is an important caveat
(especially over xaxs).

> When I enter the following:
> 
> > x<-rnorm(1000)
> > qqnorm(x,ylim=range(x))
> > range(x)
> [1] -3.222694  3.253103
> > qqnorm(x,ylim=c(-3,3))
> 
> ...the actual plot y limit is not [-3.222692, 3.253103] or [-3,3].  R
> sets the extreme tic marks in the second case, and some other
> (seemingly) arbitrary limits in the first case (presumably to fit all
> the data on the plot with a bit of a margin).  

Yes, this is done by par(xaxs), which is implemented in R despite the
current documentation.  Try xaxs="i" if you want exact limits. In both
cases the computed limits are increased when using the default yaxs="r",
by 4% if I recall correctly.

However, this is not an example where our advice does not work. We say
you need to set the _same_ limits, and that does usually work unless
R messes internally with xaxs or yaxs (and boxplot does, for example)
or tries to set a square plot or ....

> I've had to make due with the situation by setting whole numbers as the
> limits (e.g., the extreme tic marks):
> 
> >par(ann=F,new=T)
> >oldylim<-par()$yaxp
> >ylim[2] <- oldylim[2]
> >ylim[1] <- oldylim[1] 
> 
> But this doesn't always work for me and is less than satisfactory.
> 
> Please advise.

yaxs="i" is the key, I think.  It is quite possible that there are problems
in R here, so we would be interested in seeing examples which go wrong.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Zdenek.Skala at incoma.cz  Thu Nov 18 10:48:05 1999
From: Zdenek.Skala at incoma.cz (Zdenek Skala)
Date: Thu, 18 Nov 1999 10:48:05 +0100
Subject: [R] lowess
Message-ID: <199911180947.KAA24044@benes.incoma.cz>

Dear all,
can be found elsewhere on the internet some reference articles to 
the lowess smoother? (preferably in the ascii or pdf format).
Thanks in advance for the hints!
++++++++++++++++++++++
] Zdenek Skala
] e-mail:
] Zdenek.Skala at incoma.cz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From koller2 at fgr.wu-wien.ac.at  Thu Nov 18 11:25:21 1999
From: koller2 at fgr.wu-wien.ac.at (Wolfgang Koller)
Date: Thu, 18 Nov 1999 11:25:21 CET (+0100)
Subject: [R] dataframes without data
Message-ID: <D807CB569F@fgr.wu-wien.ac.at>

Hi!

There seems to be some inconsistency in the following behaviour:

> MYDATA <- data.frame(b=c("A","B","C"),x=c(1,2,3))
> MYDATA
  b x
1 A 1
2 B 2
3 C 3
> MYDATAnew <- MYDATA[0:0,]
> MYDATAnew
[1] b x
<0 rows> (or 0-length row.names)
> MYDATAnew <- rbind(MYDATA[0:0,],MYDATA)
> MYDATAnew
  b x
1 1 1
2 2 2
3 3 3

Does R forget the type of the columns of a data.frame when the 
data.frame contains no data??

Wolfgang Koller


----------------------------------------------------------
Wolfgang Koller,  koller2 at fgr.wu-wien.ac.at
Forschungsinstitut fuer Europafragen
Wirtschaftsuniversitaet Wien
Althanstrasse 39-45, 1090 Wien, Austria
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at alpha.luc.ac.be  Thu Nov 18 11:41:28 1999
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Thu, 18 Nov 1999 11:41:28 +0100 (MET)
Subject: [R] html help for packages with MS Windows
Message-ID: <199911181041.LAA02964@alpha.luc.ac.be>

In the past few days, I have been helping people from Ethiopia and
from Kenya to get started with R. We have discovered that properly
installed libraries (survival5 or mine) work and the online (with ?)
help is available but they do not appear in the html help (under
packages) with MS Windows. Only the libraries supplied with R appear
there. This is not true with netscape under (Linux) X-Windows where
all installed libraries are listed.
  We have used the standard installer that comes with R0.65.1. What
are we doing wrong?
  Jim
PS It would be nice if the installer knew exactly where to put
libraries within an R tree instead of having to specify the library
directory.
  Also, the library/package dichotomy is extremely confusing for a new
user. (I refuse to use the term, package, myself.) If the package
terminology is to be retained, then they should be loaded with package().
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Nov 18 12:23:59 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 Nov 1999 12:23:59 +0100
Subject: [R] html help for packages with MS Windows
In-Reply-To: Jim Lindsey's message of "Thu, 18 Nov 1999 11:41:28 +0100 (MET)"
References: <199911181041.LAA02964@alpha.luc.ac.be>
Message-ID: <x27ljgujow.fsf@blueberry.kubism.ku.dk>

Jim Lindsey <jlindsey at alpha.luc.ac.be> writes:

> In the past few days, I have been helping people from Ethiopia and
> from Kenya to get started with R. We have discovered that properly
> installed libraries (survival5 or mine) work and the online (with ?)
> help is available but they do not appear in the html help (under
> packages) with MS Windows. Only the libraries supplied with R appear
> there. This is not true with netscape under (Linux) X-Windows where
> all installed libraries are listed.
>   We have used the standard installer that comes with R0.65.1. What
> are we doing wrong?

Missing one of the fine points in Brian+Guido's readme file:

<<
The list of packages and functions given by HTML help and used by the
search engine can be updated from a running R process by the command

        link.html.help()
>>

> PS It would be nice if the installer knew exactly where to put
> libraries within an R tree instead of having to specify the library
> directory.

Agreed. Or at least that you'd specify the root dir, which had same
default as when installing the binaries. (And perhaps get rid of
rw*.zip from the list of installable packages)

>   Also, the library/package dichotomy is extremely confusing for a new
> user. (I refuse to use the term, package, myself.) If the package
> terminology is to be retained, then they should be loaded with package().

Yes. Problem is that S-plus'ers are used to library(), but there might
be cause for a .Alias).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Nov 18 12:31:11 1999
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 18 Nov 1999 11:31:11 +0000 (GMT)
Subject: [R] html help for packages with MS Windows
Message-ID: <199911181131.LAA18648@toucan.stats.ox.ac.uk>

> From: Jim Lindsey <jlindsey at alpha.luc.ac.be>
> Subject: [R] html help for packages with MS Windows
> 
> In the past few days, I have been helping people from Ethiopia and
> from Kenya to get started with R. We have discovered that properly
> installed libraries (survival5 or mine) work and the online (with ?)
> help is available but they do not appear in the html help (under
> packages) with MS Windows. Only the libraries supplied with R appear
> there. This is not true with netscape under (Linux) X-Windows where
> all installed libraries are listed.

(AFAIK only if you built them from source, and have perl5 installed.
That is true of Windows too. I assume you are installing pre-compiled
packages.)

>   We have used the standard installer that comes with R0.65.1. What
> are we doing wrong?

Item 2.3 in the rw-FAQ says:


   2.3) The packages I installed do not appear in the HTML help system.
   
   HTML help only works for packages installed in rw0xxx\library.
   
   To update the HTML help files after you
   have installed a binary package, run at the R prompt.
   
	 > link.html.help()
   
   (The source-code installation does this automatically, and
   if you have that installed you can use (preferably)
   
	 cd rw0xxx\src\gnuwin32\help
	 make indices
   
   instead.)


and the README says


   Adding packages
   ===============
   
   Binaries for many packages are available at
   CRAN/bin/windows/windows-NT/contrib. These are zip files which should
   be unpacked in rw0900\library. They are then available for use. You
   can also use the installer rwinst.exe to selectively unpack the zip
   files.
   
   The list of packages and functions given by HTML help and used by the
   search engine can be updated from a running R process by the command
   
	   link.html.help()


Is that the answer?


> PS It would be nice if the installer knew exactly where to put
> libraries within an R tree instead of having to specify the library
> directory.

On many installations the user will not have write permission on the R
library directory, nor can the installer know which of several
installations of R you want to use.  I could not see a good way to
resolve this.  We could make the installer see if you specified
.../rwxxxx and add /library.  Would that help?


Brian

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Thu Nov 18 14:41:53 1999
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Thu, 18 Nov 1999 13:41:53 +0000 (GMT)
Subject: [R] convolve bug?
Message-ID: <Pine.LNX.4.10.9911181314340.4901-100000@localhost.localdomain>

I have been experimenting with convolve().

What I know about convolution I learned from engineering (they call this
stuff linear systems theory), not statistics, so maybe this is all just a
matter of different conventions. BUT I notice very weird things with
convolve().

1. First example, from the classic Bracewell The Fourier transform and its
applications, chap 3 (p.32 in 2nd edition):
{2 2 3 3 4} * {1 1 2} = {2 4 9 10 13 10 8}
where * denotes convolution (discrete in this case). See bottom of this 
email for his definition of convolution.
In R I get:
x<-c(2,2,3,3,4)
h<-c(1,1,2)
convolve(x,h,type="o")
[1]  4  6 10 11 14  7  4
I think "open" is the right type. I want to get length(x)+length(h)-1
terms in the convolution output, which is what "open" gives. I definitely
don't want "circular"

BTW, the help for convolve says:

If `r <- convolve(x,y, conj=TRUE, type)' and `n <-
        length(x)', then

                 r[k] = sum(i=1,..,n;  x[i] * y[k-i])

        for k = 1,...,n.

There seems to be a typo: shouldn't it be
r <- convolve(x,y, conj=TRUE, type="open") or "filter" or whatever

2.
x<-seq(1,100)
y<-ifelse(x<=50, 0, 1)
#y is a discrete unit step or Heaviside function

h<-dnorm(x, mean=50, sd=10)
# the filter is a Gaussian

plot(convolve(y,h, type="open"))
#weird
points(pnorm(x,mean=50,sd=10))
#what I expected, since convolution with a step is integration


The definition of convolution used by Bracewell (p. 32) is
out[i-1] = Sum f[j] g[i-j] 
            j
where out[] is the convolution (he calls it serial product here).
This definition seems essentially the same as the one in the R help.

Is there something wrong with convolve(), or is it just me?

Thanks very much for any help.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From D.J.Lucy at Bradford.ac.uk  Thu Nov 18 13:58:12 1999
From: D.J.Lucy at Bradford.ac.uk (Dave Lucy)
Date: Thu, 18 Nov 1999 12:58:12 +0000 (GMT)
Subject: [R] bkde() breaks
Message-ID: <Pine.GSO.3.96.991118124750.8258D-100000@kite.cen.brad.ac.uk>

Hello,

I've been using the KernSmooth package recently and think I have found a
problem with it:

after loading the library I can issue

bkde(c(27,26,27), bandwidth=dpik(c(27,26,27)), range.x=c(4.4, 113.6),
gridsize=128, truncate=T)

and bkde returns an error. If I change the gridsize to 129 the function
works perfectly. I have tried this on my Linux box, and on a nearby
Solaris machine, both give an error (but not quite the same one).

In case anyone is wondering how I came across these values they are
just taken from a set which just happened to crash the routine.

This probably isn't an urgent problem as we have the workround above.

Thanks,

Dave.




********************************************************************
Dr. David Lucy
Department of Archaeological Sciences
University of Bradford
Bradford
West Yorkshire
BD7 1DP
UK

tel. +44 01274 233556
fax. +44 01274 235190
********************************************************************


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From partha_bagchi at hgsi.com  Thu Nov 18 15:25:39 1999
From: partha_bagchi at hgsi.com (partha_bagchi@hgsi.com)
Date: Thu, 18 Nov 1999 09:25:39 -0500
Subject: [R] R-0.65.1 Startup
Message-ID: <OF08193130.F40A8ABF-ON8525682D.004796E7@hgsi.com>


Hello All,
Sorry for not replying earlier as I was out of town without email. Thanks
very much to Thomas Lumley, Brian Ripley, Ray Brownrigg and Guido Masarotto
for their helpful suggestions.
I think I may have found the culprit in this case. I had an .Rdata in the
startup directory which was saved under 0.64.1. (I upgraded from 0.64.1 to
0.65.1). When I move this file away from the working directory, it takes 11
seconds (with a handheld timer) from "double-click" to R prompt. I do not
know why this datafile should be the source of the problem.  I sending this
Rdata file separately to you and not to R-help in general to avoid wasted
bandwidth.

I am also replying to each suggestion below.


Prof. Thomas Lumley wrote:



                                                                                                               
                    Thomas Lumley                                                                              
                    <thomas at biostat.washi        To:     r-help at stat.math.ethz.ch                              
                    ngton.edu>                   cc:                                                           
                    Sent by:                     Subject:     Re: [R] R-0.65.1 Startup                         
                    owner-r-help at stat.mat                                                                      
                    h.ethz.ch                                                                                  
                                                                                                               
                                                                                                               
                    11/12/99 04:18 PM                                                                          
                                                                                                               
                                                                                                               




On Fri, 12 Nov 1999 partha_bagchi at hgsi.com wrote:

> Dear R users,
> I have noticed that my R startup is extremely slow. It takes almost 3
> minutes  from "double-click" to R prompt. I have been running R-0.64.1
till
> recently and it took about 30 sec. I still have access to R-0.64.1. When
I
> started it up, it took about 25 sec. Can anyone tell me if this is a bug
in
> R or a problem with my machine?

I have also noticed a slow startup under Win98 on a reasonably fast
machine. In fact, the startup is not unreasonably slow -- many large
programs take this long to start up. The problem is that there isn't much
indication that something is happening, so I have sometimes assumed I only
clicked once on the icon and tried again, resulting in two or three R
processes.

Perhaps Rgui should display a splash screen while it's loading?

     -thomas




Thomas Lumley
------------------------------------------------------+------
Biostatistics       : "Never attribute to malice what  :
Uni of Washington   :  can be adequately explained by  :
Box 357232          :  incompetence" - Hanlon's Razor  :
Seattle WA 98195-7232    :                       :
------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._

Thanks. Would the startup screen be considered a "splash screen" or are you
thinking something like the Win95 startup screen?

Ray Brownrigg wrote:

Do you realise that --nsize is an item count, not a byte count?  On one
of our Unix systems, the command:
R --vsize 25M --nsize 10M
results in a 229MB process.   That will tax even a 256MB system, since
Windows takes about 64MB (doesn't it?)

So try starting up with somewhat smaller --nsize, I have found --nsize 1M
suits most needs.

Hope this helps,
Ray Brownrigg <ray at mcs.vuw.ac.nz>  http://www.mcs.vuw.ac.nz/~ray

Thanks and I agree with you and will tryout the lower setting for nsize.
However, it does not explain  the behaviour pattern change between 0.64.1
and 0.65.1.

Prof. Brian Ripley wrote:

On Sat, 13 Nov 1999, Ray Brownrigg wrote:

> > Win95 on a 600Mhz Pentium III with 256M RAM (yeah a new machine that I
just
> > got).
> >
> > The R-shortcut setup (which is the same for R-0.64.1) is
> > C:\R\rw0651\bin\Rgui.exe --vsize 25M --nsize 10M
> >
> Do you realise that --nsize is an item count, not a byte count?  On one
> of our Unix systems, the command:
> R --vsize 25M --nsize 10M
> results in a 229MB process.   That will tax even a 256MB system, since
> Windows takes about 64MB (doesn't it?)

Windows 95 takes about 8Mb, and Partha says rw0641 does work. I did the
calculations last night, thought it was marginal, but we had evidence that
rw0641 would succeed. On my own box, running NT with 192Mb of RAM, I can
allocate about 150Mb in about 5 secs (--vsize 25M, --nsize 6M), but trying
to get --nsize 7M took 2 minutes due to paging.

> So try starting up with somewhat smaller --nsize, I have found --nsize 1M
> suits most needs.

Indeed. If you really need more, R will become slow due to the work in
garbage collecting so many small units.

The puzzle becomes why rw0641 works. It did use different memory
allocator, and it is possible that one is faster on Win 9x. (As it leaks
badly, we do not use it any more.)

Thomas Lumley mentioned a splash screen. On my systems the console
appears almost instantly. As it is done so early in the code it would be
impossible to put a splash screen up much earlier. The one thing
that is done before the console is put up is to read the configuration
file.  One common cause of a slow startup is a slow user file system,
as we do have to look for files in the user `home' directory.

--
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

Thanks. Prof. Ripley, do you think that having 256Meg of RAM might actually
slow down Win95 rather than speed it up (given all the other strange things
under Win95)?

Guido Masarotto wrote:

On Sat, Nov 13, 1999 at 08:15:25AM +0000, Prof Brian D Ripley wrote:
> The puzzle becomes why rw0641 works. It did use different memory
> allocator, and it is possible that one is faster on Win 9x. (As it leaks
> badly, we do not use it any more.)
>

Partha,
could you provide more details (content of an eventual .RData
file, memory reported by Windows,what happens if you start R from a
new directory,...).
I am really curious about the difference between rw0641 and rw0651.
As Brian reported, we have changed the memory allocator.
But, I am not able to reproduce the differences.
E.g., look to the following (PII 233, RAM 64M , NT4SP5):

-------------------------------------------------------------------------------

[/tmp]% cat quit.R
q()
[/tmp] time /buffer/rw0641/bin/Rterm.exe --vsize 25M --nsize 1M --slave
--no-save < quit.R

real    0m1.703s
user    0m0.020s
sys     0m0.010s
[/tmp] time /buffer/rw0641/bin/Rterm.exe --vsize 25M --nsize 5M --slave
--no-save < quit.R

real    0m31.926s
user    0m0.010s
sys     0m0.050s
[/tmp] time /tmp/rw0651/bin/Rterm.exe --vsize 25M --nsize 1M --slave
--no-save < quit.R

real    0m1.773s
user    0m0.020s
sys     0m0.010s
[/tmp] time /tmp/rw0651/bin/Rterm.exe --vsize 25M --nsize 5M --slave
--no-save < quit.R

real    0m30.224s
user    0m0.030s
sys     0m0.010s
-------------------------------------------------------------------------------


I am not too much confident about 'user' and 'sys' timing. But the 'real'
one
is what I observed (elapsed time, no other process active).

BTW, on the same system, under Linux, I obtain:
------------------------------------------------------------------------------

R-0.64.1
========
[~/tmp]% time  R --vsize 25M --nsize 1M --slave --no-save  < quit.R

real    0m1.345s
user    0m1.130s
sys     0m0.210s
[~/tmp]% time  R --vsize 25M --nsize 5M --slave --no-save  < quit.R

real    0m28.527s
user    0m1.230s
sys     0m2.750s

R-0.90.0 Today snapshot:
========================
[~/tmp]% time  ~/src/R/bin/R  --vsize 25M --nsize 1M --slave --no-save  <
quit.R

real    0m1.286s
user    0m1.060s
sys     0m0.220s
[~/tmp]% time  ~/src/R/bin/R  --vsize 25M --nsize 5M --slave --no-save  <
quit.R

real    0m31.809s
user    0m1.120s
sys     0m1.900s
-----------------------------------------------------------------------------


which shows that degradation in startup time due to an increase in 'nsize'
is more or less the same.

guido


Thanks Guido. I will try to reproduce your results. I see you are using NT.
What is the equivalent method of determining time under Win95?


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bolker at zoo.ufl.edu  Thu Nov 18 16:11:05 1999
From: bolker at zoo.ufl.edu (Ben Bolker)
Date: Thu, 18 Nov 1999 10:11:05 -0500 (EST)
Subject: [R] convolve bug?
In-Reply-To: <Pine.LNX.4.10.9911181314340.4901-100000@localhost.localdomain>
Message-ID: <Pine.LNX.4.10.9911181006590.602-100000@bolker.zoo.ufl.edu>

On Thu, 18 Nov 1999, Bill Simpson wrote:


> 1. First example, from the classic Bracewell The Fourier transform and its
> applications, chap 3 (p.32 in 2nd edition):
> {2 2 3 3 4} * {1 1 2} = {2 4 9 10 13 10 8}
> where * denotes convolution (discrete in this case). See bottom of this 
> email for his definition of convolution.
> In R I get:
> x<-c(2,2,3,3,4)
> h<-c(1,1,2)
> convolve(x,h,type="o")
> [1]  4  6 10 11 14  7  4
> I think "open" is the right type. I want to get length(x)+length(h)-1
> terms in the convolution output, which is what "open" gives. I definitely
> don't want "circular"

  The difference between the definitions is a sign change in the index of
the filter: f[i-j] vs. f[j-i] (if the filter is symmetric then it wouldn't
matter).  If you do

convolve(x,rev(h),type="o")

you'll get the answer from Bracewell.  The definition in R makes more
sense to me, but that's personal I guess.

> 
> h<-dnorm(x, mean=50, sd=10)
> # the filter is a Gaussian
> 
> plot(convolve(y,h, type="open"))
> #weird
> points(pnorm(x,mean=50,sd=10))
> #what I expected, since convolution with a step is integration

  Here the problem is that the filter is "running off the end".
If you extend the filter with ones

y <- c(y,rep(1,100))

and redo the analysis you'll see that it levels off at 1 for a while and
then drops back down.

  Hope that helps ...  (as usual, someone else has probably answered this
one already).

  Ben

-- 
--------------------------------------------
Ben Bolker                                  bolker at zoo.ufl.edu
Zoology Department, University of Florida   http://www.zoo.ufl.edu/bolker
318 Carr Hall/Box 118525                    tel: (352) 392-5697
Gainesville, FL 32611-8525                  fax: (352) 392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yudi at ucd.ie  Thu Nov 18 16:57:11 1999
From: yudi at ucd.ie (yudi@ucd.ie)
Date: Thu, 18 Nov 1999 15:57:11 +0000
Subject: [R] convolve bug?
Message-ID: <01JIHLOVA2Z60003ZQ@CCSERV.UCC.IE>

> Date:          Thu, 18 Nov 1999 13:41:53 +0000 (GMT)
> From:          Bill Simpson <wsi at gcal.ac.uk>
> 1. First example, from the classic Bracewell The Fourier transform and its
> applications, chap 3 (p.32 in 2nd edition):
> {2 2 3 3 4} * {1 1 2} = {2 4 9 10 13 10 8}
> where * denotes convolution (discrete in this case). See bottom of this 
> email for his definition of convolution.
> In R I get:
> x<-c(2,2,3,3,4)
> h<-c(1,1,2)
> convolve(x,h,type="o")
> [1]  4  6 10 11 14  7  4
> I think "open" is the right type. I want to get length(x)+length(h)-1
> terms in the convolution output, which is what "open" gives. I definitely
> don't want "circular"
Note this one:
 x<-c(2,2,3,3,4)
 h<-c(2,1,1)   # reverse the filter
 convolve(x,h,type="o")
[1]  2  4  9 10 13 10  8     # matches Bracewell

> Is there something wrong with convolve(), or is it just me?
The filter in R is not reversed, which is fine as long as it is
understood so, but the help is not consistent:

            For `open' and `filter', the sequences are padded
             with `0's (from left and right) first; `"filter"'
             returns a the middle sub-vector of `"open"',
             namely, the result of running a weighted mean of
             `x' with weights `y'.

This implies y is not reversed, but the definition

           r[k] = sum(i=1,..,n;  x[i] * y[k-i])

reverses y, which is not the way it is implemented.

-Yudi-

------------------------------
Yudi Pawitan: yudi at stat.ucc.ie
Department of Statistics, UCC
Cork, Ireland
Ph : 353-21-902 906
Fax: 353-21-271 040
------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yudi at ucd.ie  Thu Nov 18 18:27:36 1999
From: yudi at ucd.ie (yudi@ucd.ie)
Date: Thu, 18 Nov 1999 17:27:36 +0000
Subject: [R] convolve bug?
Message-ID: <01JIHOUW15NM0005DQ@CCSERV.UCC.IE>


> I am still bugged by the 2nd problem: when I convolve a bump and a step I
> expect an ogive. Instead I get a bump. This seems to be due to a piecing
> together of the expected ogive with its time-reflected self.
> 
You do get what you expect if you shorten the filter and take the piece
of the output that correspond to a full filtering (we lose half of 
the fitler length on both sides.) The zero padding and the filter
length together create the unexpected behavior you mentioned.
 x<-seq(1,500)
 h<-dnorm(c(1:100), mean=50, sd=10)
 y<-ifelse(x<=250, 0, 1)
 plot(convolve(y,h, type="open")[101:500],type='l')   #100= filter length
abline(v=250-50)   # location of original step in the output
points(pnorm(c(1:400),mean=250-50,sd=10))


-Yudi-

------------------------------
Yudi Pawitan: yudi at stat.ucc.ie
Department of Statistics, UCC
Cork, Ireland
Ph : 353-21-902 906
Fax: 353-21-271 040
------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Vipul.Devas at rp-rorer.com  Thu Nov 18 20:38:35 1999
From: Vipul.Devas at rp-rorer.com (DEVAS, Vipul)
Date: Thu, 18 Nov 1999 14:38:35 -0500
Subject: [R] R BATCH job
Message-ID: <CEC354720AC9D111A4670000F84A122602268FA1@clvex01.clv.rpr.rp>

Hi
	I am trying to run a 'R Batch' job on unix machine but somehow it
locks my dterm window.  If I kill the window (or logout from my unix
account) it kills the R job too.  It does'nt seem to happen when I run a
'Splus BATCH' command on my unix machine.  Can you please give me a fix for
this problem?
Thank you very much.
  Best Regards

Vipul Devas
Email: vipul.devas at rp-rorer.com
Phone: 610-454-3944 (O)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Nov 18 21:17:08 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 18 Nov 1999 20:17:08 +0000 (GMT)
Subject: [R] R BATCH job
In-Reply-To: <CEC354720AC9D111A4670000F84A122602268FA1@clvex01.clv.rpr.rp>
Message-ID: <Pine.GSO.4.05.9911182009270.28919-100000@auk.stats>

On Thu, 18 Nov 1999, DEVAS, Vipul wrote:

> Hi
> 	I am trying to run a 'R Batch' job on unix machine but somehow it
> locks my dterm window.  If I kill the window (or logout from my unix

Is that dtterm?  What sort of Unix? What shell?

> account) it kills the R job too.  It does'nt seem to happen when I run a
> 'Splus BATCH' command on my unix machine.  Can you please give me a fix for
> this problem?

Peter is well capable of answering this, of course, but he is also
busy finding the last few bugs in R.

In R

R BATCH files &

(bash, csh, tcsh, at least)

is equivalent to

Splus BATCH files.

I've added information on this to the ?BATCH output.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Vipul.Devas at rp-rorer.com  Thu Nov 18 21:53:42 1999
From: Vipul.Devas at rp-rorer.com (DEVAS, Vipul)
Date: Thu, 18 Nov 1999 15:53:42 -0500
Subject: [R] R BATCH job
Message-ID: <CEC354720AC9D111A4670000F84A122602268FA3@clvex01.clv.rpr.rp>

I don't think it was a stupid question because I gave a "&" at the end of
"myapp" thing and it didn't work.  I am used to working with SPLUS and there
"Splus BATCH" works fine without giving all these &, etc.  Also I am not a
unix person and so I don't know this Unix jargon. For you it might be a
everyday job.  
I just started using R a week ago and I was told that R can do all that what
SPLUS can do.  Therefore I raised my question because it didn't work.  
It must be stupid for you but not for me.  I think using such language,
you're discouraging people from asking questions and also hurting the
feelings. If you're unhappy about some questions, please don't answer them
and if you happen to answer them, please refrain yourself from using such
"non-professional" language.  
I hope you will understand it and pardon me if I wrote anything wrong. 

  Best Regards

Vipul Devas
Email: vipul.devas at rp-rorer.com
Phone: 610-454-3944 (O)

> ----------
> From: 	Armin S. A. Roehrl[SMTP:Armin.Roehrl at epfl.ch]
> Sent: 	Thursday, November 18, 1999 3:39 PM
> To: 	DEVAS, Vipul
> Subject: 	Re: [R] R BATCH job
> 
> stupid question
> 
> did you start it with a & at the end?
> try nohup myapp &
> then logout
> log back in
> and hey myapp should still run
> 
> Ciao
> 	A
> 
> "DEVAS, Vipul" wrote:
> > 
> > Hi
> >         I am trying to run a 'R Batch' job on unix machine but somehow
> it
> > locks my dterm window.  If I kill the window (or logout from my unix
> > account) it kills the R job too.  It does'nt seem to happen when I run a
> > 'Splus BATCH' command on my unix machine.  Can you please give me a fix
> for
> > this problem?
> > Thank you very much.
> >   Best Regards
> > 
> > Vipul Devas
> > Email: vipul.devas at rp-rorer.com
> > Phone: 610-454-3944 (O)
> >
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> > r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._
> 
> -- 
> 	Armin
> 
> Swiss Federal Institute of Technology 
> http://statwww.epfl.ch/people/roehrl
> Kya aap statooed hai?                   http://www.statoo.com
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Armin.Roehrl at epfl.ch  Thu Nov 18 22:02:04 1999
From: Armin.Roehrl at epfl.ch (Armin S. A. Roehrl)
Date: Thu, 18 Nov 1999 22:02:04 +0100
Subject: [R] R BATCH job
References: <CEC354720AC9D111A4670000F84A122602268FA3@clvex01.clv.rpr.rp>
Message-ID: <3834694C.FCCBD0DD@epfl.ch>

sorry -- I didn't mean that you ask a stupid question. Terribly sorry.
I meant the opposite, but I guess I'm too tired.. so best to stop
emailing right now.
Accept my deepest apologies.
	Best wishes -- feeling terribly guilty.
	Armin :-)

"DEVAS, Vipul" wrote:
> 
> I don't think it was a stupid question because I gave a "&" at the end of
> "myapp" thing and it didn't work.  I am used to working with SPLUS and there
> "Splus BATCH" works fine without giving all these &, etc.  Also I am not a
> unix person and so I don't know this Unix jargon. For you it might be a
> everyday job.
> I just started using R a week ago and I was told that R can do all that what
> SPLUS can do.  Therefore I raised my question because it didn't work.
> It must be stupid for you but not for me.  I think using such language,
> you're discouraging people from asking questions and also hurting the
> feelings. If you're unhappy about some questions, please don't answer them
> and if you happen to answer them, please refrain yourself from using such
> "non-professional" language.
> I hope you will understand it and pardon me if I wrote anything wrong.
> 
>   Best Regards
> 
> Vipul Devas
> Email: vipul.devas at rp-rorer.com
> Phone: 610-454-3944 (O)
> 
> > ----------
> > From:         Armin S. A. Roehrl[SMTP:Armin.Roehrl at epfl.ch]
> > Sent:         Thursday, November 18, 1999 3:39 PM
> > To:   DEVAS, Vipul
> > Subject:      Re: [R] R BATCH job
> >
> > stupid question
> >
> > did you start it with a & at the end?
> > try nohup myapp &
> > then logout
> > log back in
> > and hey myapp should still run
> >
> > Ciao
> >       A
> >
> > "DEVAS, Vipul" wrote:
> > >
> > > Hi
> > >         I am trying to run a 'R Batch' job on unix machine but somehow
> > it
> > > locks my dterm window.  If I kill the window (or logout from my unix
> > > account) it kills the R job too.  It does'nt seem to happen when I run a
> > > 'Splus BATCH' command on my unix machine.  Can you please give me a fix
> > for
> > > this problem?
> > > Thank you very much.
> > >   Best Regards
> > >
> > > Vipul Devas
> > > Email: vipul.devas at rp-rorer.com
> > > Phone: 610-454-3944 (O)
> > >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-
> > > r-help mailing list -- Read
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > >
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > _._._
> >
> > --
> >       Armin
> >
> > Swiss Federal Institute of Technology
> > http://statwww.epfl.ch/people/roehrl
> > Kya aap statooed hai?                   http://www.statoo.com
> >

-- 
	Armin

Swiss Federal Institute of Technology 
http://statwww.epfl.ch/people/roehrl
Kya aap statooed hai?                   http://www.statoo.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Thu Nov 18 23:27:22 1999
From: bates at stat.wisc.edu (Douglas Bates)
Date: 18 Nov 1999 16:27:22 -0600
Subject: [R] R BATCH job
In-Reply-To: "Armin S. A. Roehrl"'s message of "Thu, 18 Nov 1999 22:02:04 +0100"
References: <CEC354720AC9D111A4670000F84A122602268FA3@clvex01.clv.rpr.rp> <3834694C.FCCBD0DD@epfl.ch>
Message-ID: <6rg0y31lmd.fsf@franz.stat.wisc.edu>

I'm glad that the misunderstanding about whether the response to the
question on R BATCH was critical or not has been cleared up.
Generally exchanges on the R mailing lists are pretty friendly and we
want to keep them that way.

To follow up on this a bit, there is a reason why R BATCH behaves
differently from Splus BATCH.  The Splus BATCH script starts another
process to actually run Splus, then the script returns.  With R BATCH
you have to explicitly indicate that the process should become a
"background process" if this is what you want.

This choice for R was made intentionally.  Many of us have experienced
the result of a person inadvertently writing a script that looks like

 Splus BATCH input1 output1
 Splus BATCH input2 output2
 ...
 Splus BATCH inputN outputN

thinking that the BATCH jobs would be executed sequentially.  They are
not.  They end up being executed in parallel, usually with the result 
that they bring your computer to its knees.  This is unpleasant if you
are sharing that computer.

Thus, the R BATCH script was designed so it waits until the R job has
finished before it returns.  As Armin indicated, you can allow it to
return immediately by appending an "&" to the line with R BATCH.  In
fact, may want to consider using 
 nohup R BATCH inputFile outputFile &
if your shell supports nohup.

-- 
Douglas Bates                            bates at stat.wisc.edu
Statistics Department                    608/262-2598
University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rcarel at netgenics.com  Fri Nov 19 01:17:15 1999
From: rcarel at netgenics.com (Carel, Roland)
Date: Thu, 18 Nov 1999 19:17:15 -0500
Subject: [R] Crash when running functions from contributed packages
Message-ID: <DB52A7625347D211A1D70060B06AB1E20103162F@exchgcle.dev.netgenics.com>

Hello all,

I am somewhat new to S-plus and would really appreciate any help you might
have on the following problem:

I installed S-plus (0.65.1) on a Sun box (Solaris) and it runs fine as far
as I can tell. I also installed the cluster and multiv contributed packages.
The problem I have is that I get a core dump everytime I try to run a
function in the contributed packages. This seems independent on the function
I try, be it clara, pca, or sammon.

Here is an example:

% R --vanilla < pca_test.R

R : Copyright 1999, The R Development Core Team
Version 0.65.1 Release (October 07, 1999)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type    "?license" or "?licence" for distribution details.

R is a collaborative project with many contributors.
Type    "?contributors" for a list.

Type    "demo()" for some demos, "help()" for on-line help, or
        "help.start()" for a HTML browser interface to help.
Type    "q()" to quit R.

> library(mva)
> library(multiv)
> x <- rbind(cbind(rnorm(200,0,8), rnorm(200,0,8)),
+            cbind(rnorm(300,50,8), rnorm(300,50,8)))
> pcax <- pca(x)
Segmentation fault (core dumped)

Any idea on how to fix this?

-Roland Carel
___________________________________________
Roland Carel, Ph. D.
NetGenics, Inc.
rcarel at netgenics.com
+1 216 861 4007  Voice
+1 216 861 4777  Fax

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Fri Nov 19 05:31:04 1999
From: bates at stat.wisc.edu (Douglas Bates)
Date: 18 Nov 1999 22:31:04 -0600
Subject: [R] Crash when running functions from contributed packages
In-Reply-To: "Carel, Roland"'s message of "Thu, 18 Nov 1999 19:17:15 -0500"
References: <DB52A7625347D211A1D70060B06AB1E20103162F@exchgcle.dev.netgenics.com>
Message-ID: <6rln7vumpj.fsf@franz.stat.wisc.edu>

"Carel, Roland" <rcarel at netgenics.com> writes:

> I am somewhat new to S-plus and would really appreciate any help you might
> have on the following problem:
> 
> I installed S-plus (0.65.1) on a Sun box (Solaris) and it runs fine as far
> as I can tell. 

Ummm - I think you mean you installed R (0.65.1) on a Sun box.

Although R and S-plus are both implementations of the S language, they
are different and I'm sure that MathSoft, Inc. would like people to
keep those differences in mind.

> I also installed the cluster and multiv contributed packages.
> The problem I have is that I get a core dump everytime I try to run a
> function in the contributed packages. This seems independent on the function
> I try, be it clara, pca, or sammon.

Well I was about to say that it is easy to check the examples in the
multiv library but then I tried to do just that and failed.  (Fritz, I
know you are busy but is it possible/worthwhile cleaning up those
examples a bit so, for example, the data sets are made available
before they are used?)

If you find, Roland, that the multivariate routines in the "mva"
library can do what you want, you may have better luck with them.  For
example, try

library(mva)
example("prcomp")
example("princomp")
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From koller2 at fgr.wu-wien.ac.at  Fri Nov 19 10:39:47 1999
From: koller2 at fgr.wu-wien.ac.at (Wolfgang Koller)
Date: Fri, 19 Nov 1999 10:39:47 CET (+0100)
Subject: [R] dataframes without data
Message-ID: <EF46624F11@fgr.wu-wien.ac.at>


 Hi!

Yesterday I posted the following problem:

> There seems to be some inconsistency in the following behaviour:
> 
> > MYDATA <- data.frame(b=c("A","B","C"),x=c(1,2,3))
> > MYDATA
>   b x
> 1 A 1
> 2 B 2
> 3 C 3
> > MYDATAnew <- MYDATA[0:0,]
> > MYDATAnew
> [1] b x
> <0 rows> (or 0-length row.names)
> > MYDATAnew <- rbind(MYDATA[0:0,],MYDATA)
> > MYDATAnew
>   b x
> 1 1 1
> 2 2 2
> 3 3 3
> 
> Does R forget the type of the columns of a data.frame when the
> data.frame contains no data??

>From the following experiment I conclude, that the answer to this
question is "no" and that the problem lies in rbind() (maybe this is a
bug?):

> AAA <- data.frame(b=c("A","B","C"),x=c(1,2,3))
> str(AAA)
`data.frame':  3 obs. of  2 variables:
 $ b: Factor class ; 3 levels: A,B: 1 2 3
  ..- attr(*, "class")= chr "factor"
 $ x: num  1 2 3
> BBB <- AAA[0:0,]
> str(BBB)
`data.frame':  0 obs. of  2 variables:
 $ b: Factor class ; 3 levels: A,B: 
  ..- attr(*, "class")= chr "factor"
 $ x: num 
> CCC <- rbind(BBB,AAA)
> str(CCC)
`data.frame':  3 obs. of  2 variables:
 $ b: int  1 2 3
 $ x: num  1 2 3
> DDD <- rbind(AAA,BBB)
Error: missing value where logical needed

Do I do something wrong, when I intend to use dataframes in that way?

I should also mention, that Olivier Houix (thanks!) suggested to me to
do:

> AAA <- data.frame(b=c("A","B","C"),x=c(1,2,3))
> CCC <- rbind(AAA[1:1,],AAA)

But then I have to cut away the first row again:
> CCC <-CCC[-1,]
> CCC
  b x
2 A 1
3 B 2
4 C 3

This has a side effect on the row-numbers. Also, I hoped that there
would be a more elegant solution.

Thanks for suggestions, that help me understand better the basic
concepts of R!

Wolfgang Koller


----------------------------------------------------------
Wolfgang Koller,  koller2 at fgr.wu-wien.ac.at
Forschungsinstitut fuer Europafragen
Wirtschaftsuniversitaet Wien
Althanstrasse 39-45, 1090 Wien, Austria
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From superabcd at 21cn.com  Fri Nov 19 18:50:52 1999
From: superabcd at 21cn.com (superabcd)
Date: Fri, 19 Nov 1999 18:50:52
Subject: [R] ??????????
Message-ID: <E11olhg-0001Ui-00@bernie.ethz.ch>

??????????????
????????????????????????????????????????????
????????????????????????????????????????????????
??????????????????????????????????????????????????
??????????????????????????????????????????????????
????????????????????????????????????????????
??????????????????????????????23??
??????86??750-3311638  ??86??750-3311938
??????????mailto:minglebaoshi at 163.net
??????http://www.huali-cn.com/mingle/
????????????The message was sent by Super Mass Mail????????????
   Download from The Worldfax Network.??http://www.worldfax.net
   Start send worldwide free fax and(or) get free website advertising now!
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Nov 19 12:43:30 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 Nov 1999 12:43:30 +0100
Subject: [R] dataframes without data
In-Reply-To: "Wolfgang Koller"'s message of "Fri, 19 Nov 1999 10:39:47 CET (+0100)"
References: <EF46624F11@fgr.wu-wien.ac.at>
Message-ID: <x2iu2yiu59.fsf@blueberry.kubism.ku.dk>

"Wolfgang Koller" <koller2 at fgr.wu-wien.ac.at> writes:

>  Hi!
> 
> Yesterday I posted the following problem:
> 
> > There seems to be some inconsistency in the following behaviour:
> > 
> > > MYDATA <- data.frame(b=c("A","B","C"),x=c(1,2,3))
> > > MYDATA
> >   b x
> > 1 A 1
> > 2 B 2
> > 3 C 3
> > > MYDATAnew <- MYDATA[0:0,]
> > > MYDATAnew
> > [1] b x
> > <0 rows> (or 0-length row.names)
> > > MYDATAnew <- rbind(MYDATA[0:0,],MYDATA)
> > > MYDATAnew
> >   b x
> > 1 1 1
> > 2 2 2
> > 3 3 3
> > 
> > Does R forget the type of the columns of a data.frame when the
> > data.frame contains no data??

This seems to be fixed in the upcoming version, but the example scared
up a bug in the new code (thanks!).


> MYDATAnew <- rbind(MYDATA[0:0,],MYDATA)
> MYDATAnew
  b x
1 A 1
2 B 2
3 C 3



-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Fri Nov 19 13:31:35 1999
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Fri, 19 Nov 1999 13:31:35 +0100 (CET)
Subject: [R] Crash when running functions from contributed packages
In-Reply-To: <6rln7vumpj.fsf@franz.stat.wisc.edu>
References: <DB52A7625347D211A1D70060B06AB1E20103162F@exchgcle.dev.netgenics.com>
	<6rln7vumpj.fsf@franz.stat.wisc.edu>
Message-ID: <14389.17191.388569.150579@galadriel.ci.tuwien.ac.at>

>>>>> On 18 Nov 1999 22:31:04 -0600,
>>>>> Douglas Bates (DB) wrote:

[...]

>> I also installed the cluster and multiv contributed packages.
>> The problem I have is that I get a core dump everytime I try to run a
>> function in the contributed packages. This seems independent on the function
>> I try, be it clara, pca, or sammon.

DB> Well I was about to say that it is easy to check the examples in the
DB> multiv library but then I tried to do just that and failed.  (Fritz, I
DB> know you are busy but is it possible/worthwhile cleaning up those
DB> examples a bit so, for example, the data sets are made available
DB> before they are used?)

OK, I'll try to do so over the weekend (the weather forecast is rather
nasty, so chances are good :-)

.f
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Nov 19 14:12:27 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 Nov 1999 14:12:27 +0100
Subject: [R] Crash when running functions from contributed packages
In-Reply-To: Douglas Bates's message of "18 Nov 1999 22:31:04 -0600"
References: <DB52A7625347D211A1D70060B06AB1E20103162F@exchgcle.dev.netgenics.com> <6rln7vumpj.fsf@franz.stat.wisc.edu>
Message-ID: <x2emdmiq10.fsf@blueberry.kubism.ku.dk>

Douglas Bates <bates at stat.wisc.edu> writes:

> > I also installed the cluster and multiv contributed packages.
> > The problem I have is that I get a core dump everytime I try to run a
> > function in the contributed packages. This seems independent on the function
> > I try, be it clara, pca, or sammon.

Doesn't happen for me (RedHat6.1 Linux). As a principle, bugs in
contributed packages are a matter between you and the package writer
(since he/she will be the one to fix things), unless you happen to be
tickling a bug in R itself. If you want to help locating a bug like
this, the most useful thing to do is to run it under the debugger, if
you have one (I'll assume gdb): just type R -d gdb and then 'r' at the
debugger prompt to start the program and redo the steps triggering the
crash. This will tell you the location of the crash in the program. A
subsequent 'bt' will give a backtrace through the call stack.

> Well I was about to say that it is easy to check the examples in the
> multiv library but then I tried to do just that and failed.  (Fritz, I
> know you are busy but is it possible/worthwhile cleaning up those
> examples a bit so, for example, the data sets are made available
> before they are used?)

Or even that they are made available, period. The help page for pca()
in the "multiv" package starts with

        # principal components of the prim4 data
        pcprim <- pca(prim4)
 
but prim4 seems to be nowhere...

(Not to mention that later on in the example we have

        old$sdev = sqrt(new$evals/(n-1))
        old$rotation = new$evec

with = instead of <- , so example(pca) gives a syntax error) 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From millsje at mscs.dal.ca  Fri Nov 19 15:14:28 1999
From: millsje at mscs.dal.ca (Joanna Mills)
Date: Fri, 19 Nov 1999 10:14:28 -0400 (AST)
Subject: [R] Memory Problems
Message-ID: <Pine.GSO.3.96.991119092309.5641B-100000@chase>

I have an R program which basically reads in data. It then
calls a  C program which performs numerical integration until converging
 to a solution.  The result is then passed back from C to R.
Unfortunately, when running this program, the virtual
memory associated with it explodes -> 2GIG!. Does anyone know what might
be causing this or can suggest possiblie ways to debug?

Thank you!

Joanna Elizabeth MILLS, M.Sc.               Ph:  (902) 494-3747
Dalhousie University                        Fax: (902) 494-5130
Department of Mathematics and Statistics    Res: (902) 443-0230
Halifax, N.S. Canada B3H 3J5                millsje at mscs.dal.ca

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Nov 19 15:53:01 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 Nov 1999 15:53:01 +0100
Subject: [R] Memory Problems
In-Reply-To: Joanna Mills's message of "Fri, 19 Nov 1999 10:14:28 -0400 (AST)"
References: <Pine.GSO.3.96.991119092309.5641B-100000@chase>
Message-ID: <x23du2ilde.fsf@blueberry.kubism.ku.dk>

Joanna Mills <millsje at mscs.dal.ca> writes:

> I have an R program which basically reads in data. It then
> calls a  C program which performs numerical integration until converging
>  to a solution.  The result is then passed back from C to R.
> Unfortunately, when running this program, the virtual
> memory associated with it explodes -> 2GIG!. Does anyone know what might
> be causing this or can suggest possiblie ways to debug?

Sounds as if the C routine is allocating memory and not freeing it?

You may want to check up on R_alloc (now where did we document that? I
can find various hints in help(Memory), help(dyn.load), and help(.C),
and in the R-external that will be in the upcoming release, but
nothing really coherent.)  

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Vipul.Devas at rp-rorer.com  Fri Nov 19 15:47:41 1999
From: Vipul.Devas at rp-rorer.com (DEVAS, Vipul)
Date: Fri, 19 Nov 1999 09:47:41 -0500
Subject: [R] Thanks
Message-ID: <CEC354720AC9D111A4670000F84A122602268FA7@clvex01.clv.rpr.rp>

Thanks for warm reply from Osman and Prof D. Bates.  I have contacted the
R-help team twice and everyone gave me a nice reply (except once) and I was
extremely happy.  I talked to my colleagues about it.  These days, the
customer support for the paid software doesn't do any good most of the
times. But the R-help team has been very helpful to me in giving the answers
to my questions.  I am used to Splus but I liked R for its fast response. I
downloaded the win98 version of R and I liked it.  Then I had to sit my UNIX
administrator to download the UNIX R version and got it installed.  The UNIX
administrator liked the binaries for R because they were easy to install on
our DEC-Alpha machines.  
I must thank to R-development team and R-help team for all this. 
  Best Regards

Vipul Devas
Email: vipul.devas at rp-rorer.com
Phone: 610-454-3944 (O)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rgentlem at jimmy.harvard.edu  Fri Nov 19 16:08:30 1999
From: rgentlem at jimmy.harvard.edu (Robert Gentleman)
Date: Fri, 19 Nov 1999 10:08:30 -0500
Subject: [R] Crash when running functions from contributed packages
In-Reply-To: <x2emdmiq10.fsf@blueberry.kubism.ku.dk>; from Peter Dalgaard BSA on Fri, Nov 19, 1999 at 02:12:27PM +0100
References: <DB52A7625347D211A1D70060B06AB1E20103162F@exchgcle.dev.netgenics.com> <6rln7vumpj.fsf@franz.stat.wisc.edu> <x2emdmiq10.fsf@blueberry.kubism.ku.dk>
Message-ID: <19991119100830.B18910@jimmy.harvard.edu>

  Just wanted to point out that on Unix/Linux using xxgdb or ddd as
your debugger (R -d ddd) provides a much friendlier interface than gdb
(both have gdb underneath).

robert
-- 
+-------------------------------------------------------------------------+
| Robert Gentleman              voice: (617) 632-5045                     |
| Senior Lecturer               fax:   (617) 632-2444                     |
| University of Auckland	email1: rgentlem at jimmy.harvard.edu        |
| on leave at:                                                            |
| Dana-Farber Cancer Institute  email2: rgentlem at stat.auckland.ac.nz      |
+-------------------------------------------------------------------------+
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yudi at ucd.ie  Fri Nov 19 16:09:17 1999
From: yudi at ucd.ie (yudi@ucd.ie)
Date: Fri, 19 Nov 1999 15:09:17 +0000
Subject: [R] convolve bug?
Message-ID: <01JIIYBS4FPU000GCG@CCSERV.UCC.IE>

I'm not sure if the group gets this.

> Date:          Fri, 19 Nov 1999 10:09:17 +0000 (GMT)
> From:          Bill Simpson <wsi at gcal.ac.uk>
> BTW I don't see why you say it is OK to define convolution with no
> reversal of the function!  If you don't reverse, the operation is
> CORRELATION. Or do statisticians make no distinction between convolution
> and correlation? Anyway I like the definition of convolution given on the
> help page. (Even though it is not what is happening)
> 
> This is really sad that the engineers and stats types have such totally
> different conventions.
> 
> To me, the linear system output y(t) is the convolution of the input x(t)
> and the impulse response h(t):
> y(t) = x(t) * h(t)
> where * is convolution.
> But this means something completely different to a
> statistician, who in my language would interpret this as "linear
> system output y(t) is the correlation of the input x(t) and the impulse
> response h(t)", which is wrong.
> 
> The convolution and correlation theorems are also screwed up (the complex 
> conjugation).
> 
> I'm glad I know about this sad state of affairs now! The help page refs
> Brillinger, a stats type (though I know he has published papers in IEEE
> journals, so he must constantly have to be flipping things in his head!).
> I will look at his book.

Bill, I can assure you that statisticians use 'convolution' in 
the same way as engineers do. It is actually the defaults in
R that are rather nonstandard (and the help is wrong).

I agree with Bill that convolve() should mean convolution 
operation. So the default 'conj' should be set to F (Fourier
transform of a convolution is a product of the transfroms), 
and the zero padding is on the right. 

E.g., target:  (2,2,3,3,4)*(1,1,2)  =  (2  4  9 10 13 10  8 )

convolve(c(2,2,3,3,4),c(2,1,1),type='o')
#[1]  2  4  9 10 13 10  8  
convolve(c(2,2,3,3,4),c(1,1,2),conj=F,type='o')
#[1] 10  8  2  4  9 10 13      # almost 
 x _ c(2,2,3,3,4,0,0)   # zero padding
y _ c(1,1,2,0,0,0,0)
aa_ fft(fft(x) * fft(y), inv = TRUE)
Re(aa)/length(aa)
#[1]  2  4  9 10 13 10  8   # wanted

I would suggest that the 'conj' option not be provided;
when conj=F, the type='f' option gives meaningless answer:

convolve(c(2,2,3,3,4),c(1,1,2),conj=F,type='f')
#[1] 2 4 9


-Yudi-

------------------------------
Yudi Pawitan: yudi at stat.ucc.ie
Department of Statistics, UCC
Cork, Ireland
Ph : 353-21-902 906
Fax: 353-21-271 040
------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Nov 19 16:32:03 1999
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 19 Nov 1999 15:32:03 +0000 (GMT)
Subject: [R] Crash when running functions from contributed packages
Message-ID: <199911191532.PAA25206@toucan.stats.ox.ac.uk>


> Date: Fri, 19 Nov 1999 10:08:30 -0500
> From: Robert Gentleman <rgentlem at jimmy.harvard.edu>
> 
>   Just wanted to point out that on Unix/Linux using xxgdb or ddd as
> your debugger (R -d ddd) provides a much friendlier interface than gdb
> (both have gdb underneath).

Or even on Windows: I use ddd with the Cygwin gdb there (instructions
in the on-line documentation).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From JMORRIS6 at OCDUS.JNJ.COM  Fri Nov 19 16:58:44 1999
From: JMORRIS6 at OCDUS.JNJ.COM (Morris, Jeffrey [OCDUS])
Date: Fri, 19 Nov 1999 10:58:44 -0500
Subject: [R] max.col
Message-ID: <32D408AE6657D311B1B700508B10900C0EF028@jcdusroexs2.ocdus.jnj.com>

I am trying to run, in R -Windows95, the example in MASS2, 
section 17.2.  When I run predplot() on cush.lda I get

> predplot(cush.lda, "LDA")
Error: couldn't find function "max.col"

I get the plot OK, but within predict(), it balks on max.col

A more general question about using VR.  Is there an easy way
to use library on VR in general or do I have to move each into
the library folder and load each separately.

As always, thanks in advance.

Jeff

Jeff Morris
Ortho-Clinical Diagnostics
Rochester, NY
jdmorris at ocdus.jnj.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Nov 19 17:39:29 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 19 Nov 1999 17:39:29 +0100 (MET)
Subject: [R] convolve bug?
In-Reply-To: <01JIIYBS4FPU000GCG@CCSERV.UCC.IE>
References: <01JIIYBS4FPU000GCG@CCSERV.UCC.IE>
Message-ID: <14389.32065.909258.50528@gargle.gargle.HOWL>

>>>>> On Fri, 19 Nov 1999 15:09:17 +0000, yudi at ucd.ie (Yudi Pawitan) said:

    Yudi> I'm not sure if the group gets this.
    >> Date: Fri, 19 Nov 1999 10:09:17 +0000 (GMT) From: Bill Simpson
    >> <wsi at gcal.ac.uk> BTW I don't see why you say it is OK to define
    >> convolution with no reversal of the function!  If you don't reverse,
    >> the operation is CORRELATION. Or do statisticians make no
    >> distinction between convolution and correlation? Anyway I like the
    >> definition of convolution given on the help page. (Even though it is
    >> not what is happening)

    >> This is really sad that the engineers and stats types have such
    >> totally different conventions.

    >> To me, the linear system output y(t) is the convolution of the input
    >> x(t) and the impulse response h(t): y(t) = x(t) * h(t) where * is
    >> convolution.  But this means something completely different to a
    >> statistician, who in my language would interpret this as "linear
    >> system output y(t) is the correlation of the input x(t) and the
    >> impulse response h(t)", which is wrong.
    >> 
    >> The convolution and correlation theorems are also screwed up (the
    >> complex conjugation).
    >> 
    >> I'm glad I know about this sad state of affairs now! The help page
    >> refs Brillinger, a stats type (though I know he has published papers
    >> in IEEE journals, so he must constantly have to be flipping things
    >> in his head!).  I will look at his book.

    Yudi> Bill, I can assure you that statisticians use 'convolution' in
    Yudi> the same way as engineers do. It is actually the defaults in R
    Yudi> that are rather nonstandard (and the help is wrong).

yes.  I have changed the help already and was trying to add more useful
 explanation (and I was the one who added the wrong help part for "open",...).

    Yudi> I agree with Bill that convolve() should mean convolution
    Yudi> operation. So the default 'conj' should be set to F (Fourier
    Yudi> transform of a convolution is a product of the transfroms), and
    Yudi> the zero padding is on the right.

I tend to agree....  see below

    Yudi> E.g., target:  (2,2,3,3,4)*(1,1,2)  =  (2  4  9 10 13 10  8 )

    Yudi> convolve(c(2,2,3,3,4),c(2,1,1),type='o')
    Yudi> #[1]  2  4  9 10 13 10  8  
    Yudi> convolve(c(2,2,3,3,4),c(1,1,2),conj=F,type='o')
    Yudi> #[1] 10  8  2  4  9 10 13      # almost 
    Yudi> x _ c(2,2,3,3,4,0,0)   # zero padding
    Yudi> y _ c(1,1,2,0,0,0,0)
    Yudi> aa_ fft(fft(x) * fft(y), inv = TRUE)
    Yudi> Re(aa)/length(aa)
    Yudi> #[1]  2  4  9 10 13 10  8   # wanted
(there are indeed several ways to get this result,  using
 combinations of  Conj(), rev() and/or  0- padding...      

    Yudi> I would suggest that the 'conj' option not be provided; when
    Yudi> conj=F, the type='f' option gives meaningless answer:
?? Contradiction:
Above you say that  conj=F should be the *default* ...

    Yudi> convolve(c(2,2,3,3,4),c(1,1,2),conj=F,type='f') #[1] 2 4 9

I agree that at least    convolve(x,y) 
should really give what everyone expects..

One way to achieve this would be a new type, 
e.g. "regular" , "default" or "polynomial".

And we would change the *default* 
   -   from type = "circular" to  type = "regular" (or whatever we call it).
   -   from conj = TRUE  to   conj = type != "circular"
	    (conj defaulting to FALSE when type="open", ..)

or do you think conj should default to FALSE even for circular?
(I must admit not having seen a definition of a circular convolution in a
 text book..)

Here is the longer story:
  "convolve()" was part of R even before there were version numbers
  (starting with 0.1)..., only with the circular type.
  It is has been used inside  density() since "ever", and
  its use inside density *is* the one with the current defaults.

  Then, "open"/"filter" were added in June, where I was following a
  proposition from Martyn Plummer.

--
Yes, I'm waiting for further propositions, and I agree the defaults should
be changed.

Unfortunately, it's too late for the imminent 0.90.0 release (Monday'ish).

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Nov 19 17:55:45 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 19 Nov 1999 17:55:45 +0100 (MET)
Subject: [R] max.col
In-Reply-To: <32D408AE6657D311B1B700508B10900C0EF028@jcdusroexs2.ocdus.jnj.com>
References: <32D408AE6657D311B1B700508B10900C0EF028@jcdusroexs2.ocdus.jnj.com>
Message-ID: <14389.33041.964663.295027@gargle.gargle.HOWL>

>>>>> "JMor" == Morris, Jeffrey [OCDUS] <Morris> writes:

    JMor> I am trying to run, in R -Windows95, the example in MASS2,
    JMor> section 17.2.  When I run predplot() on cush.lda I get

    >> predplot(cush.lda, "LDA")
    JMor> Error: couldn't find function "max.col"

    JMor> I get the plot OK, but within predict(), it balks on max.col

You somehow didn't "attach" the MASS package properly :
For me :

  > library(MASS)
  > find(max.col)
  [1] "package:MASS"


    JMor> A more general question about using VR.  Is there an easy way
    JMor> to use library on VR in general or do I have to move each into
    JMor> the library folder and load each separately.
You write 
    library(<pkg>)
for every package <pkg> you want,
in the case of VR, one of
   MASS, spatial, nnet, class

{{and I *do* second  a proposition for allowing
  package(..) to be used synonymously to library(..) !!
}}

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Fri Nov 19 18:58:52 1999
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Fri, 19 Nov 1999 17:58:52 +0000 (GMT)
Subject: [R] convolve bug?
In-Reply-To: <01JIIYBS4FPU000GCG@CCSERV.UCC.IE>
Message-ID: <Pine.LNX.4.10.9911191753180.7020-100000@localhost.localdomain>

> 
> Bill, I can assure you that statisticians use 'convolution' in 
> the same way as engineers do. It is actually the defaults in
> R that are rather nonstandard (and the help is wrong).
Thanks Yudi for clearing this up! I'm glad that it is only R that is wrong
and not statisticians as a race :-)

> I agree with Bill that convolve() should mean convolution 
> operation. So the default 'conj' should be set to F (Fourier
> transform of a convolution is a product of the transfroms), 
> and the zero padding is on the right. 
> 
> E.g., target:  (2,2,3,3,4)*(1,1,2)  =  (2  4  9 10 13 10  8 )
> 
> convolve(c(2,2,3,3,4),c(2,1,1),type='o')
> #[1]  2  4  9 10 13 10  8  
> convolve(c(2,2,3,3,4),c(1,1,2),conj=F,type='o')
> #[1] 10  8  2  4  9 10 13      # almost 
>  x _ c(2,2,3,3,4,0,0)   # zero padding
> y _ c(1,1,2,0,0,0,0)
> aa_ fft(fft(x) * fft(y), inv = TRUE)
> Re(aa)/length(aa)
> #[1]  2  4  9 10 13 10  8   # wanted
> 
> I would suggest that the 'conj' option not be provided;
> when conj=F, the type='f' option gives meaningless answer:
I agree!!
Instead, if you want to cross-correlate two functions, use a separate R
function called correlate or crosscorrelate() that is almost the same as
convolve() except it does complex conjugate of one of the FFTed functions
before multiplying them

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Fri Nov 19 18:02:43 1999
From: plummer at iarc.fr (Martyn Plummer)
Date: Fri, 19 Nov 1999 18:02:43 +0100 (CET)
Subject: [R] Memory Problems
In-Reply-To: <x23du2ilde.fsf@blueberry.kubism.ku.dk>
Message-ID: <XFMail.991119180243.plummer@iarc.fr>

On 19-Nov-99 Peter Dalgaard BSA wrote:
> Joanna Mills <millsje at mscs.dal.ca> writes:
> 
>> I have an R program which basically reads in data. It then
>> calls a  C program which performs numerical integration until converging
>>  to a solution.  The result is then passed back from C to R.
>> Unfortunately, when running this program, the virtual
>> memory associated with it explodes -> 2GIG!. Does anyone know what might
>> be causing this or can suggest possiblie ways to debug?
>
> Sounds as if the C routine is allocating memory and not freeing it?
> 
> You may want to check up on R_alloc (now where did we document that? I
> can find various hints in help(Memory), help(dyn.load), and help(.C),
> and in the R-external that will be in the upcoming release, but
> nothing really coherent.)

There is some documentation of R_alloc in the source file
src/main/memory.c which was enough to get me started.

The nice thing about R_alloc is that memory is freed automatically by the
.C interface if you forget to do it. Even better, you can use the error()
function to exit gracefully from your C code when there is a problem,
and the R_alloc'ed memory will also be freed. I don't think this is documented.

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Nov 19 18:40:46 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 19 Nov 1999 17:40:46 +0000 (GMT)
Subject: [R] max.col
In-Reply-To: <14389.33041.964663.295027@gargle.gargle.HOWL>
Message-ID: <Pine.GSO.4.05.9911191736001.14572-100000@auk.stats>

On Fri, 19 Nov 1999, Martin Maechler wrote:

> >>>>> "JMor" == Morris, Jeffrey [OCDUS] <Morris> writes:
> 
>     JMor> I am trying to run, in R -Windows95, the example in MASS2,
>     JMor> section 17.2.  When I run predplot() on cush.lda I get
> 
>     >> predplot(cush.lda, "LDA")
>     JMor> Error: couldn't find function "max.col"
> 
>     JMor> I get the plot OK, but within predict(), it balks on max.col
> 
> You somehow didn't "attach" the MASS package properly :
> For me :
> 
>   > library(MASS)
>   > find(max.col)
>   [1] "package:MASS"

Or you have an older version of MASS (5.3), where max.col is in
library(nnet), and the ch17 script begins 

# Chapter 17   Classification

library(MASS)
library(nnet)
options(width=65, digits=5, height=9999)
library(tree)
library(modreg)

Since you are using MASS2, you do need to check the scripts for R changes
(most of which have gone in MASS3).

>     JMor> A more general question about using VR.  Is there an easy way
>     JMor> to use library on VR in general or do I have to move each into
>     JMor> the library folder and load each separately.

This might be a question about installing on Windows. The current
VR61-4.zip can be unpacked directly in the rw0651\library directory,
but that was not true of earlier versions.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From millsje at mscs.dal.ca  Fri Nov 19 21:25:58 1999
From: millsje at mscs.dal.ca (Joanna Mills)
Date: Fri, 19 Nov 1999 16:25:58 -0400 (AST)
Subject: [R] Memory Problems
In-Reply-To: <XFMail.991119180243.plummer@iarc.fr>
Message-ID: <Pine.GSO.3.96.991119162142.4719A-100000@chase>

Hi,
I am sorry to bother you both again but still seem to have the same
problem and am in dire need of a solution. As you can imagine, taking
2+G of our system doesn't make me very popular :-)

To give you a few more details, my program only passes from R to C once.
All of the computations are basically done in C, this is where the memory
seems to be being 'eaten' up. At present I have calloc and cfree
statements, I tried replacing with R_alloc, no change.
When I replaced with C_alloc and C_free I got a message saying
'all C pointers in use (sorry)'. I tried Init_C_alloc and Reset_C_alloc
but with no success.

Do either of you have any other suggestions?

Thank you both very much for your time,
Joanna

Joanna Elizabeth MILLS, M.Sc.               Ph:  (902) 494-3747
Dalhousie University                        Fax: (902) 494-5130
Department of Mathematics and Statistics    Res: (902) 443-0230
Halifax, N.S. Canada B3H 3J5                millsje at mscs.dal.ca

On Fri, 19 Nov 1999, Martyn Plummer wrote:

> On 19-Nov-99 Peter Dalgaard BSA wrote:
> > Joanna Mills <millsje at mscs.dal.ca> writes:
> > 
> >> I have an R program which basically reads in data. It then
> >> calls a  C program which performs numerical integration until converging
> >>  to a solution.  The result is then passed back from C to R.
> >> Unfortunately, when running this program, the virtual
> >> memory associated with it explodes -> 2GIG!. Does anyone know what might
> >> be causing this or can suggest possiblie ways to debug?
> >
> > Sounds as if the C routine is allocating memory and not freeing it?
> > 
> > You may want to check up on R_alloc (now where did we document that? I
> > can find various hints in help(Memory), help(dyn.load), and help(.C),
> > and in the R-external that will be in the upcoming release, but
> > nothing really coherent.)
> 
> There is some documentation of R_alloc in the source file
> src/main/memory.c which was enough to get me started.
> 
> The nice thing about R_alloc is that memory is freed automatically by the
> .C interface if you forget to do it. Even better, you can use the error()
> function to exit gracefully from your C code when there is a problem,
> and the R_alloc'ed memory will also be freed. I don't think this is documented.
> 
> Martyn
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Nov 20 09:08:23 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 20 Nov 1999 08:08:23 +0000 (GMT)
Subject: [R] Memory Problems
In-Reply-To: <Pine.GSO.3.96.991119162142.4719A-100000@chase>
Message-ID: <Pine.GSO.4.05.9911200757480.6403-100000@auk.stats>

On Fri, 19 Nov 1999, Joanna Mills wrote:

> Hi,
> I am sorry to bother you both again but still seem to have the same
> problem and am in dire need of a solution. As you can imagine, taking
> 2+G of our system doesn't make me very popular :-)
> 
> To give you a few more details, my program only passes from R to C once.
> All of the computations are basically done in C, this is where the memory
> seems to be being 'eaten' up. At present I have calloc and cfree
> statements, I tried replacing with R_alloc, no change.
> When I replaced with C_alloc and C_free I got a message saying
> 'all C pointers in use (sorry)'. I tried Init_C_alloc and Reset_C_alloc
> but with no success.
> 
> Do either of you have any other suggestions?

I am neither of those (MP and PD), but I do have a suggestion. C_alloc
(best called via Calloc in S.h) has a limit of 100 `open' calls. So you are
doing a lot of allocating. I just wonder if you are treating an integer
argument passed to your C (say a vector length) as int not int*.  That
aside, it is not normal for a C program to alloc anything like 100 times
(and inefficient), and I think you need to track the calls to the allocator
to see why this is happening (e.g., by adding a debugging print of the
arguments before each one).

Any decent OS will allow you set a limit on the amount of VM you allocate
and so confine the problem. (My computing staff know well how to do this,
from similar experiences.)  It is worth investigating before doing further
experiments.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tring at mail1.stofanet.dk  Sat Nov 20 12:03:14 1999
From: tring at mail1.stofanet.dk (Troels Ring)
Date: Sat, 20 Nov 1999 12:03:14 +0100
Subject: No subject
Message-ID: <002101bf3346$d94ea340$2c4fa8c0@tring.stofanet.dk>


Dear friends.

I wanted to reproduce a sheet of paper useful for plotting the reciprocal of some biochemical variable (creatinine) over time (Bleyer Am J Kidney Dis 34:576-578,1999). Time on X axis with units years and months. On Y axis, 1/creatinine, but with the original creatinine value indicated - to make it easier for people to use it. When using the graph, the linear decrease in 1/crea over time will be useful for managing patients. Here is what I came up with, but how do I configure the Y axis with the natural values 40-2000 umol/l alongside their reciprocal representation, so that 1/crea will be a stright line ?

 x <- NA
 y  <- NA
 plot(x,y,xlim=c(0,10),ylim=c(40,2000))
 grid(nx=10,ny=10,col="black",lty="solid")
 grid(nx=120,ny=10,col="black",lty="dotted")

Troels Ring, M.D
Department of Nephrology
Aalborg, Denmark
tring at mail1.stofanet.dk

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Nov 20 12:59:58 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Nov 1999 12:59:58 +0100
Subject: [R] Re: none
In-Reply-To: "Troels Ring"'s message of "Sat, 20 Nov 1999 12:03:14 +0100"
References: <002101bf3346$d94ea340$2c4fa8c0@tring.stofanet.dk>
Message-ID: <x2d7t55q69.fsf@blueberry.kubism.ku.dk>

"Troels Ring" <tring at mail1.stofanet.dk> writes:

> Dear friends.
> 
> I wanted to reproduce a sheet of paper useful for plotting the reciprocal of some biochemical variable (creatinine) over time (Bleyer Am J Kidney Dis 34:576-578,1999). Time on X axis with units years and months. On Y axis, 1/creatinine, but with the original creatinine value indicated - to make it easier for people to use it. When using the graph, the linear decrease in 1/crea over time will be useful for managing patients. Here is what I came up with, but how do I configure the Y axis with the natural values 40-2000 umol/l alongside their reciprocal representation, so that 1/crea will be a stright line ?
> 
>  x <- NA
>  y  <- NA
>  plot(x,y,xlim=c(0,10),ylim=c(40,2000))
>  grid(nx=10,ny=10,col="black",lty="solid")
>  grid(nx=120,ny=10,col="black",lty="dotted")

Something like this, perhaps:

x<-y<-NA
plot(x,y,xlim=c(0,10),ylim=1/c(2000,40), axes=F)
box()
axis(1)
pretty.y<-c(40,50,60,70,100,200,500,2000)
axis(2,at=1/pretty.y,labels=rev(pretty.y),las=2)
axis(4) # for comparison

(The rev() is necessary in both 0.65.x and my version of 0.90.0 pre, but
it looks like a bug, at= and labels= should match up)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tring at mail1.stofanet.dk  Sat Nov 20 14:31:58 1999
From: tring at mail1.stofanet.dk (Troels Ring)
Date: Sat, 20 Nov 1999 14:31:58 +0100
Subject: [R] Sv: 
Message-ID: <005401bf335b$a0dc5ce0$2c4fa8c0@tring.stofanet.dk>

Thank you to Peter Dalgaard, who provided help for some of this solution.
It is still not ideal since the dots which are equidistant in the x-direction ideally should respect the reciprocal scale in the y-direction.

op <- par("cex"= 0.7)
x<-y<-NA
plot(x,y,xlim=c(0,10),ylim=1/c(2000,70), axes=F)
box()
axis(1)
pretty.y<-c(70,80,90,100,110,120,130,140,150,160,180,200,220,250,300,350,400,500,600,800,1200,2000)
axis(2,at=1/pretty.y,labels=(pretty.y),las=2)
axis(4) # for comparison
abline(h=1/pretty.y)
grid(nx=10,ny=0,col="black",lty="solid")
grid(nx=120,ny=0,col="black",lty="dotted")
par(op)


-----Oprindelig meddelelse-----
Fra: Troels Ring <tring at mail1.stofanet.dk>
Til: R-help <r-help at stat.math.ethz.ch>
Dato: 20. november 1999 12:57


>
>Dear friends.
>
>I wanted to reproduce a sheet of paper useful for plotting the reciprocal of some biochemical variable (creatinine) over time (Bleyer Am J Kidney Dis 34:576-578,1999). Time on X axis with units years and months. On Y axis, 1/creatinine, but with the original creatinine value indicated - to make it easier for people to use it. When using the graph, the linear decrease in 1/crea over time will be useful for managing patients. Here is what I came up with, but how do I configure the Y axis with the natural values 40-2000 umol/l alongside their reciprocal representation, so that 1/crea will be a stright line ?
>
> x <- NA
> y  <- NA
> plot(x,y,xlim=c(0,10),ylim=c(40,2000))
> grid(nx=10,ny=10,col="black",lty="solid")
> grid(nx=120,ny=10,col="black",lty="dotted")
>
>Troels Ring, M.D
>Department of Nephrology
>Aalborg, Denmark
>tring at mail1.stofanet.dk
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Nov 20 15:46:46 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Nov 1999 15:46:46 +0100
Subject: [R] Sv:
In-Reply-To: "Troels Ring"'s message of "Sat, 20 Nov 1999 14:31:58 +0100"
References: <005401bf335b$a0dc5ce0$2c4fa8c0@tring.stofanet.dk>
Message-ID: <x21z9l2pbd.fsf@blueberry.kubism.ku.dk>

"Troels Ring" <tring at mail1.stofanet.dk> writes:

> Thank you to Peter Dalgaard, who provided help for some of this
> solution.

(The remark on rev() was confused. I had been working with
ylim=1/c(40,2000), which comes surprisingly close to working, but
leaves problems with inverted signs in various places. Then I fixed it
at the last moment and didn't see that the labeling issue had changed)

> It is still not ideal since the dots which are equidistant
> in the x-direction ideally should respect the reciprocal scale in
> the y-direction.
> 
> op <- par("cex"= 0.7)
> x<-y<-NA
> plot(x,y,xlim=c(0,10),ylim=1/c(2000,70), axes=F)
> box()
> axis(1)
> pretty.y<-c(70,80,90,100,110,120,130,140,150,160,180,200,220,250,300,350,400,500,600,800,1200,2000)
> axis(2,at=1/pretty.y,labels=(pretty.y),las=2)
> axis(4) # for comparison
> abline(h=1/pretty.y)
> grid(nx=10,ny=0,col="black",lty="solid")
> grid(nx=120,ny=0,col="black",lty="dotted")
> par(op)

You should probably drop the dotted grid lines in favor of 
abline(h=1/prettyfine.y) with something like

prettyfine.y<-c(71:79,seq(82,88,2),seq(92,98,2),seq(102,108,2),
	seq(125,145,10),seq(170,210,20),275,325,450,700)
abline(h=1/prettyfine.y,lty='dotted')


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rcarel at netgenics.com  Mon Nov 22 01:51:11 1999
From: rcarel at netgenics.com (Carel, Roland)
Date: Sun, 21 Nov 1999 19:51:11 -0500
Subject: [R] Crash when running functions from contributed packages
Message-ID: <DB52A7625347D211A1D70060B06AB1E201031639@exchgcle.dev.netgenics.com>

"Prof Brian D Ripley" <ripley at stats.ox.ac.uk> wrote:

>Yes, to use princomp was going to be my advice. (The quotes in example()  
>are optional). But, I have R 0.65.1 on Solaris, so I ran

>R INSTALL multiv_1.0-3.tar.gz 
>R
>
>R : Copyright 1999, The R Development Core Team
>Version 0.65.1 Release (October 07, 1999)
>...
>> library(mva)
>> library(multiv)
>> x <- rbind(cbind(rnorm(200,0,8), rnorm(200,0,8)),
>+  cbind(rnorm(300,50,8), rnorm(300,50,8)))
>> pcax <- pca(x)
>
>which seems to indicate that the problem is somewhere in how you installed
>multiv.  Have you run `make check' on your build of R to check that the
>standard packages do work?

Thanks to the suggestions from several people, I made incremental progress
in resolving the issue I am having with R. However, the mystery now seems
even thicker. The crashes seem to occur when some fortran code is invoked by
the function being run. I am not seeing any problem with princomp() for
example, but clara() or pam() trigger the crash. The behavior is not library
specific and they occur with both cluster and multiv. Below is the ouput
from the debugger for clara() and is typical of what I am seeing. 

Based on the line number generated from the debugger, the error occurs for
the line:
KRAN=RNN+*RAN+1.
which does not make sense.

I am not too familiar with g77 or fortran in general, but is there a chance
that the problem is with the fortran compiler?

Any input would be much appreciated.

-Roland Carel


> library(mva)
> library(cluster)
> example(clara)

clara> x <- rbind(cbind(rnorm(200, 0, 8), rnorm(200, 0, 8)), 
    cbind(rnorm(300, 50, 8), rnorm(300, 50, 8)))

clara> clarax <- clara(x, 2)

Program received signal SIGBUS, Bus error.
0xef420fc4 in clara_ (nn=0xc10c40, jpp=0xc10c38, kk=0xc10c30, x=0xc0ecf0,
nran=0xc0ece8, nsam=0xc0ece0, dys=0xc0cf48, mdata=0xc0cf40, 
    valmd=0xc0cf30, jtmd=0xc0cf28, ndyst=0xc0cf20, nrepr=0xc0ce70,
nsel=0xc0cdc0, nbest=0xc0cd10, nr=0xc0cd08, nrx=0xc0cd00, 
    radus=0xc0ccf0, ttd=0xc0cce0, ratt=0xc0ccd0, ttbes=0xc0ccc0,
rdbes=0xc0ccb0, rabes=0xc0cca0, mtt=0xc0cc98, azba=0xc0cc90, 
    avsyl=0xc0cc80, ttsyl=0xc0cc78, sylinf=0xc0c6f8, jstop=0xc0c6f0,
tmp1=0xc0c590, tmp2=0xc0c430, tmp3=0xc0c2d0, ntmp1=0xc0c220, 
    ntmp2=0xc0c170, ntmp3=0xc0c0c0, ntmp4=0xc0c010, ntmp5=0xc0bf60,
ntmp6=0xc0beb0) at clara.f:86
clara.f:86: No such file or directory.
Current language:  auto; currently fortran
(gdb) bt
#0  0xef420fc4 in clara_ (nn=0xc10c40, jpp=0xc10c38, kk=0xc10c30,
x=0xc0ecf0, nran=0xc0ece8, nsam=0xc0ece0, dys=0xc0cf48, mdata=0xc0cf40, 
    valmd=0xc0cf30, jtmd=0xc0cf28, ndyst=0xc0cf20, nrepr=0xc0ce70,
nsel=0xc0cdc0, nbest=0xc0cd10, nr=0xc0cd08, nrx=0xc0cd00, 
    radus=0xc0ccf0, ttd=0xc0cce0, ratt=0xc0ccd0, ttbes=0xc0ccc0,
rdbes=0xc0ccb0, rabes=0xc0cca0, mtt=0xc0cc98, azba=0xc0cc90, 
    avsyl=0xc0cc80, ttsyl=0xc0cc78, sylinf=0xc0c6f8, jstop=0xc0c6f0,
tmp1=0xc0c590, tmp2=0xc0c430, tmp3=0xc0c2d0, ntmp1=0xc0c220, 
    ntmp2=0xc0c170, ntmp3=0xc0c0c0, ntmp4=0xc0c010, ntmp5=0xc0bf60,
ntmp6=0xc0beb0) at clara.f:86
#1  0x46568 in do_dotCode (call=0x5690a8, op=0x65e2a5, args=0x52eae8,
env=0x5f8a50) at dotcode.c:1379
#2  0x4d7b0 in eval (e=0x5690a8, rho=0x5f8a50) at eval.c:186
#3  0x4ee5c in do_set (call=0x5690e4, op=0x14ca4c, args=0x5690d0,
rho=0x5f8a50) at eval.c:844
#4  0x4d7b0 in eval (e=0x5690e4, rho=0x5f8a50) at eval.c:186
#5  0x4e898 in do_begin (call=0x564c38, op=0x14caec, args=0x5690f8,
rho=0x5f8a50) at eval.c:644
#6  0x4d7b0 in eval (e=0x564c38, rho=0x5f8a50) at eval.c:186
#7  0x4dce4 in applyClosure (call=0x5f6d7c, op=0x5c7504, arglist=0x5f899c,
rho=0x154ea4, suppliedenv=0x14c1a0) at eval.c:347
#8  0x4d824 in eval (e=0x5f6d7c, rho=0x154ea4) at eval.c:195
#9  0x4ee5c in do_set (call=0x5f6d40, op=0x14ca4c, args=0x5f6d54,
rho=0x154ea4) at eval.c:844
#10 0x4d7b0 in eval (e=0x5f6d40, rho=0x154ea4) at eval.c:186
#11 0x4f710 in do_eval (call=0x1, op=0x152cd0, args=0x5f88ac, rho=0x5f8870)
at eval.c:1115
#12 0x69ee0 in do_internal (call=0x10cdac, op=0x152ca8, args=0x5f88ac,
env=0x5f8870) at names.c:853
#13 0x4d7b0 in eval (e=0x46c150, rho=0x5f8870) at eval.c:186
#14 0x4dce4 in applyClosure (call=0x46ea7c, op=0x5ec2dc, arglist=0x5f87f8,
rho=0x5ec28c, suppliedenv=0x14c1a0) at eval.c:347
#15 0x4d824 in eval (e=0x46ea7c, rho=0x5ec28c) at eval.c:195
#16 0x4ee5c in do_set (call=0x46eab8, op=0x14ca4c, args=0x46eaa4,
rho=0x5ec28c) at eval.c:844
#17 0x4d7b0 in eval (e=0x46eab8, rho=0x5ec28c) at eval.c:186
#18 0x4e898 in do_begin (call=0x46dc44, op=0x14caec, args=0x46eacc,
rho=0x5ec28c) at eval.c:644
#19 0x4d7b0 in eval (e=0x46dc44, rho=0x5ec28c) at eval.c:186
#20 0x4e394 in do_for (call=0x46f88c, op=0x14c72c, args=0x46f878,
rho=0x5ec28c) at eval.c:519
#21 0x4d7b0 in eval (e=0x46f88c, rho=0x5ec28c) at eval.c:186
#22 0x4e898 in do_begin (call=0x46c1f0, op=0x14caec, args=0x46f8a0,
rho=0x5ec28c) at eval.c:644
#23 0x4d7b0 in eval (e=0x46c1f0, rho=0x5ec28c) at eval.c:186
#24 0x4dce4 in applyClosure (call=0x474c38, op=0x46f9b8, arglist=0x5ec138,
rho=0x5dd674, suppliedenv=0x14c1a0) at eval.c:347
#25 0x4d824 in eval (e=0x474c38, rho=0x5dd674) at eval.c:195
#26 0x4e898 in do_begin (call=0x4731a8, op=0x14caec, args=0x474c4c,
rho=0x5dd674) at eval.c:644
#27 0x4d7b0 in eval (e=0x4731a8, rho=0x5dd674) at eval.c:186
#28 0x4dce4 in applyClosure (call=0x5dd5ac, op=0x474cec, arglist=0x5dd5e8,
rho=0x154ea4, suppliedenv=0x14c1a0) at eval.c:347
#29 0x4d824 in eval (e=0x5dd5ac, rho=0x154ea4) at eval.c:195
#30 0x62778 in R_ReplConsole (rho=0x154ea4, savestack=0, browselevel=0) at
main.c:173
#31 0x62e70 in run_Rmainloop () at main.c:442
#32 0x62eac in mainloop () at main.c:456
#33 0xacec0 in main (ac=0, av=0xeffff64c) at system.c:490

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hothorn at statistik.uni-dortmund.de  Mon Nov 22 10:43:42 1999
From: hothorn at statistik.uni-dortmund.de (Torsten Hothorn)
Date: Mon, 22 Nov 1999 10:43:42 +0100 (MET)
Subject: [R] Plot margins
In-Reply-To: <DB52A7625347D211A1D70060B06AB1E201031639@exchgcle.dev.netgenics.com>
Message-ID: <Pine.GSO.4.05.9911221033140.5762-100000@amadeus.statistik.uni-dortmund.de>

Dear plotting experts,

we want to display Lorenz-curves and therefore we want the x and y axis to
meet in (0,0) without a margin. We expected par(usr=c(0,1,0,1)) to do
this, but if the following is done:

> par(usr=c(0,1,0,1))
> par()$usr
0 1 0 1			# which seems ok
> plot(c(0,1), c(0,1), type="l")

this plots a "normal" plot with margins, and now par() gives:

> par()$usr
-0.04  1.04  -0.04  1.04

which are the standard options. How can we force plot to use our usr
parameter instead of the standard or are there other ways we didn`t find?

Torsten (and other users...)

  


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Mon Nov 22 12:28:35 1999
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Mon, 22 Nov 1999 11:28:35 +0000 (GMT)
Subject: [R] convolve bug?
In-Reply-To: <14389.32065.909258.50528@gargle.gargle.HOWL>
Message-ID: <Pine.LNX.4.10.9911220953010.8936-100000@localhost.localdomain>

Hi Martin,

>     Yudi> I agree with Bill that convolve() should mean convolution
>     Yudi> operation. So the default 'conj' should be set to F (Fourier
>     Yudi> transform of a convolution is a product of the transfroms), and
>     Yudi> the zero padding is on the right.
> 
> I tend to agree....  see below
> 
>     Yudi> E.g., target:  (2,2,3,3,4)*(1,1,2)  =  (2  4  9 10 13 10  8 )
> 
>     Yudi> convolve(c(2,2,3,3,4),c(2,1,1),type='o')
>     Yudi> #[1]  2  4  9 10 13 10  8  
>     Yudi> convolve(c(2,2,3,3,4),c(1,1,2),conj=F,type='o')
>     Yudi> #[1] 10  8  2  4  9 10 13      # almost 
>     Yudi> x _ c(2,2,3,3,4,0,0)   # zero padding
>     Yudi> y _ c(1,1,2,0,0,0,0)
>     Yudi> aa_ fft(fft(x) * fft(y), inv = TRUE)
>     Yudi> Re(aa)/length(aa)
>     Yudi> #[1]  2  4  9 10 13 10  8   # wanted
> (there are indeed several ways to get this result,  using
>  combinations of  Conj(), rev() and/or  0- padding...      
I would strongly suggest that R uses the "standard" way of doing it--as
described in the linear systems and digital signal processing books.
The standard way of doing linear (aperiodic) convolution using fft:
Bracewell(1978, p.32) example:
x={2 2 3 3 4}, h={1 1 2}, x*h= {2  4  9 10 13 10 8} [* is convolution]
length:  m         n                m+n-1
zero padded versions for linear convolution:
x={ 2 2 3 3 4 0 0},    h={1 1 2 0 0 0 0}
add n-1 zeros,         add m-1 zeros
Then linear convolution is: ifft(fft(x)*fft(h))

>     Yudi> I would suggest that the 'conj' option not be provided; when
>     Yudi> conj=F, the type='f' option gives meaningless answer:
> ?? Contradiction:
> Above you say that  conj=F should be the *default* ...
Yudi is right the second time: the conj option should NOT be there.
Instead, there should be TWO functions:
convolve does: fft(fft(a)*fft(b), inv=TRUE)
crosscorr does: fft(fft(a)*fft(Conj(b)), inv=TRUE)
This behaviour is fixed, not alterable.

> I agree that at least    convolve(x,y) 
> should really give what everyone expects..

Here is what I expect linear convolution to do:
myconvolve<-function (x,h) 
{
    nx <- length(x)
    nh <- length(h)
    #zero pad
    if(nx>nh)
       {
       x <- c(x,rep(0, nh-1))
       h<-c(h,rep(0,nx-1))
       }
    else
       {
       h <- c(h,rep(0, nx-1))
       x<-c(x,rep(0,nh-1))
       }
    x <- fft(fft(x) * fft(h), inv = TRUE)
    Re(x)/length(x)
#I am not sure about this, the R IFFT is weird
}

I am sure you R gurus can make this better.
I don't know how this works if x and h are 2D, say.

> One way to achieve this would be a new type, 
> e.g. "regular" , "default" or "polynomial".
> 
> And we would change the *default* 
>    -   from type = "circular" to  type = "regular" (or whatever we call it).
I think a nice pairing of terms is "circular" and "linear". I don't know
what the present "filter" is at all--I thought it was "linear", since I
think of linear convolution as filtering.


>    -   from conj = TRUE  to   conj = type != "circular"
> 	    (conj defaulting to FALSE when type="open", ..)
> 
> or do you think conj should default to FALSE even for circular?
NO, the structure of the code should be changed as I suggested above, so
that conj is gone as an argument. What "circular" should do is just
eliminate the zero-padding:

myconvolve2<-function (x,h)
{
#no padding, circular convolution
    nx <- length(x)
    nh <- length(h)
    x <- fft(fft(x) * fft(h), inv = TRUE)
    Re(x)/(nx)
}

> (I must admit not having seen a definition of a circular convolution in a
>  text book..)
See Oppenheim &Schafer Discrete-time signal processing, 2nd ed p. 548 sec
8.2.5

> Yes, I'm waiting for further propositions, and I agree the defaults should
> be changed.
Great, I have presented my arguments above.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Mon Nov 22 12:36:49 1999
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Mon, 22 Nov 1999 11:36:49 +0000 (GMT)
Subject: [R] convolve bug?
In-Reply-To: <Pine.LNX.4.10.9911220953010.8936-100000@localhost.localdomain>
Message-ID: <Pine.LNX.4.10.9911221135550.9016-100000@localhost.localdomain>

Sorry, typo:
> crosscorr does: fft(fft(a)*fft(Conj(b)), inv=TRUE)
                  fft(fft(a)*(Conj(fft(b)), inv=TRUE)

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Nov 22 11:45:44 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 22 Nov 1999 10:45:44 +0000 (GMT)
Subject: [R] Plot margins
In-Reply-To: <Pine.GSO.4.05.9911221033140.5762-100000@amadeus.statistik.uni-dortmund.de>
Message-ID: <Pine.GSO.4.05.9911221044030.5881-100000@auk.stats>

On Mon, 22 Nov 1999, Torsten Hothorn wrote:

> Dear plotting experts,
> 
> we want to display Lorenz-curves and therefore we want the x and y axis to
> meet in (0,0) without a margin. We expected par(usr=c(0,1,0,1)) to do
> this, but if the following is done:
> 
> > par(usr=c(0,1,0,1))
> > par()$usr
> 0 1 0 1			# which seems ok
> > plot(c(0,1), c(0,1), type="l")
> 
> this plots a "normal" plot with margins, and now par() gives:
> 
> > par()$usr
> -0.04  1.04  -0.04  1.04
> 
> which are the standard options. How can we force plot to use our usr
> parameter instead of the standard or are there other ways we didn`t find?
> 
> Torsten (and other users...)

Try plot(..., xaxs="i", yaxs="i"), which works in R even if the help page
says otherwise.  You will need an S book or the R Notes to explain this.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Nov 22 12:08:02 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Nov 1999 12:08:02 +0100
Subject: [R] Plot margins
In-Reply-To: Prof Brian D Ripley's message of "Mon, 22 Nov 1999 10:45:44 +0000 (GMT)"
References: <Pine.GSO.4.05.9911221044030.5881-100000@auk.stats>
Message-ID: <x2pux2238t.fsf@blueberry.kubism.ku.dk>

Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:

> Try plot(..., xaxs="i", yaxs="i"), which works in R even if the help page
> says otherwise.  You will need an S book or the R Notes to explain this.

...or wait about three hours and get the new version. (Provided you're
on a Unix-like system). Or look at

http://stat.ethz.ch/R-alpha/library/base/html/par.html

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Mon Nov 22 12:40:40 1999
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Mon, 22 Nov 1999 22:40:40 +1100
Subject: [R] Plot margins
References: <Pine.GSO.4.05.9911221033140.5762-100000@amadeus.statistik.uni-dortmund.de>
Message-ID: <38392BB7.AEEB937@ozemail.com.au>

Torsten Hothorn wrote:

> Dear plotting experts,
>
> we want to display Lorenz-curves and therefore we want the x and y axis to
> meet in (0,0) without a margin. We expected par(usr=c(0,1,0,1)) to do
> this, but if the following is done...

I'm not exactly sure that you want this, but have a look...

> par(mai=c(0.1,0.1,0.1,0.1))
> plot(c(0,1), c(0,1), xlim=c(0,1),ylim=c(0,1),type="l",axes=F)
> axis(1,c(0,1))
> axis(2,c(0,1))

This should give you a plot with just enough room for axes (no labels).
If you use:

> par(mai=c(0,0,0,0))

you won't even be able to fit axes around the plot.

Jim


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tmb-nscape at lumo.com  Mon Nov 22 12:57:22 1999
From: tmb-nscape at lumo.com (Tom)
Date: Mon, 22 Nov 1999 03:57:22 -0800
Subject: [R] netCDF and/or HDF4/5 interfaces for R?
Message-ID: <38392FA2.4CA499C4@lumo.com>

Hi,

I was wondering whether there are interfaces to netCDF, HDF4,
or HDF5 for "R".

Thanks,
Thomas.

tmb-r-project at lumo.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mangalam at home.com  Mon Nov 22 15:46:22 1999
From: mangalam at home.com (Harry Mangalam)
Date: Mon, 22 Nov 1999 06:46:22 -0800
Subject: [R] Memory Problems
References: <Pine.GSO.3.96.991119162142.4719A-100000@chase>
Message-ID: <3839573E.7066133C@home.com>

As a biologist who joined the dark side and started programming, I agree
with the previous assessments - you've got a memory leak.  So now what? 
I've found that one of the best ways of finding it and fixing it have been
with the dmalloc library by Gray Watson.  It's reasonably simple to install
and use, requires minimal changes in your code (have to add one #include
and link to the dmalloc lib) and is actaully makes memory debugging
relatively easy.  You can get the lib and docs from:

http://www.dmalloc.com/

despite the name, it's free (small 'f') software.  You can also try
Electric Fence which is distributed as part of a number of linux
distributions, but I found that to be not as powerful nor as easy to use.

You may have to write a C wrapper for your C routine (but then you probably
already have one, for your own debugging, no?).

This only makes sense, of course, if the R alloc routines behave in an
identical way as the C equivs (or you can use the C equivs in the included
code - I'm sorry - I've never done this in R).  Corrections PLEASE.

Cheers
harry


Joanna Mills wrote:
> 
> Hi,
> I am sorry to bother you both again but still seem to have the same
> problem and am in dire need of a solution. As you can imagine, taking
> 2+G of our system doesn't make me very popular :-)
> 
> To give you a few more details, my program only passes from R to C once.
> All of the computations are basically done in C, this is where the memory
> seems to be being 'eaten' up. At present I have calloc and cfree
> statements, I tried replacing with R_alloc, no change.
> When I replaced with C_alloc and C_free I got a message saying
> 'all C pointers in use (sorry)'. I tried Init_C_alloc and Reset_C_alloc
> but with no success.
> 
> Do either of you have any other suggestions?
> 
> Thank you both very much for your time,
> Joanna
> 
> Joanna Elizabeth MILLS, M.Sc.               Ph:  (902) 494-3747
> Dalhousie University                        Fax: (902) 494-5130
> Department of Mathematics and Statistics    Res: (902) 443-0230
> Halifax, N.S. Canada B3H 3J5                millsje at mscs.dal.ca
> 
> On Fri, 19 Nov 1999, Martyn Plummer wrote:
> 
> > On 19-Nov-99 Peter Dalgaard BSA wrote:
> > > Joanna Mills <millsje at mscs.dal.ca> writes:
> > >
> > >> I have an R program which basically reads in data. It then
> > >> calls a  C program which performs numerical integration until converging
> > >>  to a solution.  The result is then passed back from C to R.
> > >> Unfortunately, when running this program, the virtual
> > >> memory associated with it explodes -> 2GIG!. Does anyone know what might
> > >> be causing this or can suggest possiblie ways to debug?
> > >
> > > Sounds as if the C routine is allocating memory and not freeing it?
> > >
> > > You may want to check up on R_alloc (now where did we document that? I
> > > can find various hints in help(Memory), help(dyn.load), and help(.C),
> > > and in the R-external that will be in the upcoming release, but
> > > nothing really coherent.)
> >
> > There is some documentation of R_alloc in the source file
> > src/main/memory.c which was enough to get me started.
> >
> > The nice thing about R_alloc is that memory is freed automatically by the
> > .C interface if you forget to do it. Even better, you can use the error()
> > function to exit gracefully from your C code when there is a problem,
> > and the R_alloc'ed memory will also be freed. I don't think this is documented.
> >
> > Martyn
> >
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Cheers,
Harry

Harry J Mangalam -- (949) 856 2847 -- mangalam at home.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david_m_potter at groton.pfizer.com  Mon Nov 22 16:25:21 1999
From: david_m_potter at groton.pfizer.com (Potter, David M)
Date: Mon, 22 Nov 1999 10:25:21 -0500
Subject: [R] Run times for tree(): R versus S-Plus
Message-ID: <DD9A7BB017D6D111810600805FA709C703C9C526@groexmbcr03.pfizer.com>

Hello -- 

I have a noticed an appreciable difference in run times
between tree() in R and tree() in S-Plus.  In the example
below, with 300 binary predictors, a single binary response
(which I am treating as a factor), and 300 observations, R
takes 29 seconds while S-Plus takes about 2 seconds.

For 1000 binary predictors and 1000 observations (results
not shown), R takes about 15 minutes while S-Plus takes
about 28 seconds.

Modifying the amount of heap memory requested by R at
startup affects the run times somewhat, but the difference
between R and S-Plus persists.

Has anybody else observed this?  If so, is the difference
due to differences between the two tree() functions, or
perhaps differences in the way each program handles memory?

(I recognize that these functions, though they have the same
name, are different.  I am just hoping to understand the
features of each that may explain the time difference.)

What follows is version information for R and S-Plus, as
well as example code for the 300 by 300 case.  Any feedback
would be greatly appreciated.

David Potter
Mathematical & Statistical Sciences
Pfizer Central Research

======================================================================

R Information and Example Code:

Version:   0.65.1 Release (October 07, 1999)
Platform:  Sun SPARC (2 GB Memory)

Start R with:  R --vsize 20M --nsize 1000k

nobs _ 300
nvar _ 301

dat _ data.frame(matrix(rbinom(nobs*nvar,1,.5),nrow=nobs,ncol=nvar))

library(tree)
unix.time(fit.tree _ tree(as.factor(X301)~ ., data =
dat,mincut=10,minsize=20))

gives

> [1] 27.88  0.20 29.00  0.00  0.00

======================================================================

S-Plus Information:

Version:   3.4 Release 1
Platform:  Sun SPARC (2 GB Memory)

nobs _ 300
nvar _ 301

dat _ data.frame(matrix(rbinom(nobs*nvar,1,.5),nrow=nobs,ncol=nvar))

unix.time(fit.tree _ tree(as.factor(X301)~ ., data =
dat,mincut=10,minsize=20))

gives:

> [1] 1.91 0.11 2.00 0.00 0.00

======================================================================
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Mon Nov 22 17:41:14 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Mon, 22 Nov 1999 08:41:14 -0800 (PST)
Subject: [R] netCDF and/or HDF4/5 interfaces for R?
In-Reply-To: <38392FA2.4CA499C4@lumo.com>
Message-ID: <Pine.GSO.4.10.9911220836360.17028-100000@wompom.biostat.washington.edu>

On Mon, 22 Nov 1999, Tom wrote:

> Hi,
> 
> I was wondering whether there are interfaces to netCDF, HDF4,
> or HDF5 for "R".

There is a interface to HDF5 if it is built on a machine with the HDF5
libraries.  netCDF code has been mentioned a few times on this list but I
don't know if it was ever released.

	-thomas


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mgd at swarm.org  Mon Nov 22 18:10:04 1999
From: mgd at swarm.org (Marcus G. Daniels)
Date: 22 Nov 1999 09:10:04 -0800
Subject: [R] netCDF and/or HDF4/5 interfaces for R?
In-Reply-To: Tom's message of "Mon, 22 Nov 1999 03:57:22 -0800"
References: <38392FA2.4CA499C4@lumo.com>
Message-ID: <rfiso1yv4er.fsf@cathcart.sysc.pdx.edu>


you> I was wondering whether there are interfaces to netCDF, HDF4,
you> or HDF5 for "R".

There is an HDF5 interface.  It supports many, but not all R types.
It can't be used to take a snapshot of the system, for example.
Dataframes are stored as HDF5 compound types, lists of lists are
stored as groups, vectors are datasets, etc..  The error handling is
bad, but if you (learn to) avoid the rough edges it is usable.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Nov 22 18:41:56 1999
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 22 Nov 1999 17:41:56 +0000 (GMT)
Subject: [R] Run times for tree(): R versus S-Plus
Message-ID: <199911221741.RAA07486@toucan.stats.ox.ac.uk>


------------- Begin Forwarded Message -------------

Date: Mon, 22 Nov 1999 17:08:12 +0000 (GMT)
From: Prof Brian Ripley <ripley at toucan.stats>
Subject: Re: [R] Run times for tree(): R versus S-Plus
To: david_m_potter at groton.pfizer.com

> From: "Potter, David M" <david_m_potter at groton.pfizer.com>
> Date: Mon, 22 Nov 1999 10:25:21 -0500
> 
> I have a noticed an appreciable difference in run times
> between tree() in R and tree() in S-Plus.  In the example
> below, with 300 binary predictors, a single binary response
> (which I am treating as a factor), and 300 observations, R
> takes 29 seconds while S-Plus takes about 2 seconds.

Entirely possible, _but_ I would recommend using rpart in both.

> For 1000 binary predictors and 1000 observations (results
> not shown), R takes about 15 minutes while S-Plus takes
> about 28 seconds.
> 
> Modifying the amount of heap memory requested by R at
> startup affects the run times somewhat, but the difference
> between R and S-Plus persists.
> 
> Has anybody else observed this?  If so, is the difference
> due to differences between the two tree() functions, or
> perhaps differences in the way each program handles memory?

It is due to differences between R and S. The R algorithm (which is my
Tree library for S) runs faster than tree under S-PLUS 3.4 (S tree 7.4
secs, S Tree  6.2 secs,  R t/Tree 93 secs).  Similarly rpart runs much
slower under R than S-PLUS 3.4 (56 seconds vs 7.4 seconds). (All
times on an old Sparc 20.)

This is with R-0.90.0, standard memory ration (as rpart and 0.65.1
do not mix due to a bug in diag in the latter).

Note though that your test is not a realistic one: there is no
structure there to find. I do not see dramatic differences in real
examples.  The V&R3 scripts for Chapter 10 (trees) take 86 secs in
S-PLUS 3.4, 122 secs in R.

I will try to do some profiling on this, but no promises.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


------------- End Forwarded Message -------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hothorn at statistik.uni-dortmund.de  Tue Nov 23 09:49:16 1999
From: hothorn at statistik.uni-dortmund.de (Torsten Hothorn)
Date: Tue, 23 Nov 1999 09:49:16 +0100 (MET)
Subject: [R] Plot margins
In-Reply-To: <Pine.GSO.4.05.9911221044030.5881-100000@auk.stats>
Message-ID: <Pine.GSO.4.05.9911230948070.29526-100000@amadeus.statistik.uni-dortmund.de>


> 
> Try plot(..., xaxs="i", yaxs="i"), which works in R even if the help page
> says otherwise.  You will need an S book or the R Notes to explain this.

Thanx a lot for all answers, this works fine!

Torsten

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Tue Nov 23 11:55:53 1999
From: gb at stat.umu.se (=?ISO-8859-1?Q?G=F6ran_Brostr=F6m?=)
Date: Tue, 23 Nov 1999 11:55:53 +0100 (CET)
Subject: [R] Mac binaries?
In-Reply-To: <x2k8sufqza.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.10.9911231148280.18148-100000@localhost.localdomain>


One of my students wants the Mac version of  R, but it seems
to be gone from the CRAN; is it, or are we looking in the
wrong place ('Binary distributions')?

G?ran
--------------------------------------------------------------
 G?ran Brostr?m
 Department of Statistics              tel: +46 90 786-5223
 Ume? University                       fax: +46 90 786-6614
 S-90187 Ume?, Sweden               e-mail:  gb at stat.umu.se

 http://www.stat.umu.se/~gb          ftp://capa.stat.umu.se
--------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at alpha.luc.ac.be  Tue Nov 23 11:15:07 1999
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Tue, 23 Nov 1999 11:15:07 +0100 (MET)
Subject: [R] Re: NLME-3.1 package available for R-0.90.0
In-Reply-To: <6rzow6nng0.fsf@franz.stat.wisc.edu> from "Douglas Bates" at Nov 22, 1999 04:58:23 PM
Message-ID: <199911231015.LAA00552@alpha.luc.ac.be>

Dear Doug,
  This is great news that nlme is finally available for R. I really
appreciate the effort that you (plural) have put into it!
  I noticed while installing that the help gives a missing link for
'ms'.
  Best wishes, Jim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at alpha.luc.ac.be  Tue Nov 23 11:17:27 1999
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Tue, 23 Nov 1999 11:17:27 +0100 (MET)
Subject: [R] Re: NLME-3.1 package available for R-0.90.0
In-Reply-To: <6rzow6nng0.fsf@franz.stat.wisc.edu> from "Douglas Bates" at Nov 22, 1999 04:58:23 PM
Message-ID: <199911231017.LAA01764@alpha.luc.ac.be>

Oops, I spoke too soon. The following links are missing:
ms
xyplot
splom
bwplot
histogram
fitted.nlme
  Jim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Nov 23 11:44:19 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 23 Nov 1999 10:44:19 +0000 (GMT Standard Time)
Subject: [R] Re: NLME-3.1 package available for R-0.90.0
In-Reply-To: <199911231017.LAA01764@alpha.luc.ac.be>
Message-ID: <Pine.WNT.4.05.9911231035430.226-100000@tern.stats>

On Tue, 23 Nov 1999, Jim Lindsey wrote:

> Oops, I spoke too soon. The following links are missing:
> ms
> xyplot
> splom
> bwplot
> histogram
> fitted.nlme

The first five of those are S-PLUS functions not in R: the lme library
had the same problems, which I think is the price of a common code tree
for S-PLUS and R.

However, the real reason for my replying is to announce that a Windows
version is now on my site and will propagate to CRAN tonight.  You do need
R-0.90.0 to use it, so unless you build that from source (I did) you will
need to await Guido's announcement of rw0900.

Also, there is a new release of the VR bundle including scripts that make
use of nls and nlme now on CRAN as source and as Windows zip, version
6.1-5. As update.packages does not, yet, cope with package bundles (it will
soon) you will need to install this manually.  As that is a major hole in
the R functionality plugged, many thanks for Doug, Saikat and Jose'.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bolker at zoo.ufl.edu  Mon Nov 22 21:56:14 1999
From: bolker at zoo.ufl.edu (Ben Bolker)
Date: Mon, 22 Nov 1999 15:56:14 -0500 (EST)
Subject: No subject
Message-ID: <Pine.LNX.4.10.9911221538130.1433-100000@bolker.zoo.ufl.edu>


  This is off-topic (apologies), but I thought I might get a lead or two
here.

  I'm interested in generating random deviates from a multivariate
distribution which is a generalization of the beta distribution -- the
Bayesian canonical distribution for the parameter estimates of a
multinomial distribution.  Given a vector (length n-1) of probabilities p 
and a vector (length n) of shape parameters x (which would correspond to
the observed multinomial frequencies in a sample),

P(p,x) = ((sum(x)+1)!/(x1! ... x(n)!) * p(1)^x(1) * ... * (1-sum(p))^x(n)

  Does this distribution have a name?
  Can anyone point me to a way of sampling it?  Has this been done?
(Canned, or semi-canned, or translatable methods would be super ...) I was
thinking about doing a very inefficient rejection sample ... I poked
around in science citation index on references citing the CACM paper by
Cheng that's cited in rbeta.c, but didn't find anything immediately
useful.

 thanks,
  Ben Bolker
  
-- 
--------------------------------------------
Ben Bolker                                  bolker at zoo.ufl.edu
Zoology Department, University of Florida   http://www.zoo.ufl.edu/bolker
318 Carr Hall/Box 118525                    tel: (352) 392-5697
Gainesville, FL 32611-8525                  fax: (352) 392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From clive.jenkins at clara.net  Mon Nov 22 23:12:23 1999
From: clive.jenkins at clara.net (Clive Jenkins)
Date: Mon, 22 Nov 1999 22:12:23 +0000
Subject: Summary: [R] Wanted: online Introduction to R
References: <382C2C2C.A3DD277A@clara.net>
Message-ID: <3839BFC7.27C90695@clara.net>

Thanks to all those who responded, both privately and via the list:

 Prof Brian Ripley
 Jens Oehlschlaegel
 Tim McDonough
 John Maindonald
 Maria Wolters
 Pat Altham
 Rashid Nassar
 Jeffrey Morris
 Yves Gauvreau
 Peter Dalgaard BSA
 Paul Kristiansen

I have already listed those documents I had read before asking for help
(Date: Tue, 16 Nov 1999 17:04:18 +0000
 From: Clive Jenkins <clive.jenkins at clara.net>)
so I will not repeat the list here. They were all accessable from the
famous R-FAQ (see URL at the end of every email sent via r-help), which
really is the key document. It repays careful study, and is subject to
change without notice, so never rely on a cached copy.

There is a nice new hyperlinked PDF version of the R-notes (built, I
believe, by Prof Brian Ripley), which is essential reading for anyone
who wants to understand the R language: "Notes on R: A Programming
Environment for Data Analysis and Graphics" by Bill Venables, Dave
Smith, Robert Gentleman, Ross Ihaka and Martin Maechler.
http://www.ci.tuwien.ac.at/R/doc/Rnotes.pdf

The above document is *not* yet referenced directly by the R-FAQ, but a
new link to it *has* appeared in the third item under "R Documentation"
at CRAN (or a mirror).
http://www.ci.tuwien.ac.at/R/

Although I have not yet read "Modern Applied Statistics with S-PLUS"
Third Edition, W.N. Venables and B.D. Ripley (mentioned in R-FAQ), I
have read quite a few on-line papers and e-mails by the authors. They
clearly know their subject and are engaging communicators.
http://www.stats.ox.ac.uk/pub/MASS3/

Another good book on the S language is (thanks to Jens Oehlschlaegel and
John Maindonald) "S Poetry", Burns, P. J. 1998. This is available
on-line and has been mentioned in r-help in Sept and Oct 1999 (search
for "poetry" in r-help-99-09-28--99-10-28 from mail-archives on CRAN).
http://www.seanet.com/~pburns/Spoetry/

University Statistics Departments are good sources of R course notes (as
mentioned by Maria Wolters who has collected a thick folder). These are
useful "quick-start" guides of a practical nature that immediately
introduce the important functions of the language. John Maindonald of
the Australian National University referred me to his course, which I
found very useful, but because he is still working on it I will leave it
for him to announce when he feels it is ready.

Pat Altham of the Statistical Laboratory, University of Cambridge has
some good course material on Computational Statistics and Statistical
Modelling in gzipped PostScript, together with datasets used in the
exercises.
http://www.statslab.cam.ac.uk/~pat/

To read PostScript (plain and gzipped) and/or PDF files on a Windows PC
the Windows port of the GNU GhostScript Viewer is recommended (by Yves
Gauvreau and others): "Follow installation instructions and once started
use GSVIEW mswinpr2 as the printer driver ..."
http://www.cs.wisc.edu/~ghost/gsview/index.html

I found that legibility of documents in GSView was greatly improved by
turning antialiasing on (thanks to Peter Dalgaard for that hint). On the
menu bar: Media -> Display Settings -> Help.

These last few pointers are not directly related to R, but are
potentially helpful resources I discovered on my travels:

A useful (short) on-line book for the beginner, or as a refresher
course: "Statistics at Square One", Ninth Edition, T D V Swinscow,
Revised by M J Campbell, University of Southampton. Copyright BMJ
Publishing Group 1997.
http://www.bmj.com/collections/statsbk/

An excellent on-line book for the more advanced reader, especially
chapters 14 and 15 that deal with Statistics and Data Modeling:
"Numerical Recipes in C: the Art of Scientific Computing" (ISBN
0-521-43108-5) Copyright (C) 1988-1992 by Cambridge University Press. A
Fortran version is also available, and both exist in PostScript and PDF.
http://www.ulib.org/webRoot/Books/Numerical_Recipes/

A list of Online Journals (Statistics) at Tennessee State University.
http://www.tnstate.edu/library/journal/onjnstat.htm


Finally I must say that I find the R community most friendly and
helpful. Even the top gurus sacrifice considerable time giving detailed
attention to users' questions. Keep up the good work!

Best regards,

Clive Jenkins.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Mon Nov 22 20:50:31 1999
From: alobo at ija.csic.es (Agustin Lobo)
Date: Mon, 22 Nov 1999 20:50:31 +0100 (MET)
Subject: [R] Fit with constraints (fwd)
Message-ID: <Pine.OSF.3.91.991122182724.19337B-100000@paleo.ija.csic.es>


I would like to fit a model of the type

Y = Xf + e

where f are cover fractions (or percent cover). Therefore,
I must constrain the fit to
1. sum(f) = 1
2. 0<= f <=1


How can I introduce these 2 constraints in a ML fit?

Currently, I'm using nlregb and I'm using the "upper and
low" keywords to set the bounds and
use the following to ensure that sum(f) = 1:

let's say I have 3 fractions, then f3=1-f1-f2 and

Y = f1*X1 + f2*X2 +(1-f1-f2)*X3
Y - X3 = f1(X1-X3) + f2*(x2-X3)

so I minimize (considering Z <- X[,1:2] - X[,3])

Y- X3 - Z%*%F

The problem is that I get very odd f, which
are very dependent on what f I choose to be
the one to be calculated by difference (the f3 above).

Is there any way to apply the same constraints to
a ML method? 

Thanks

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es
http://pangea.ija.csic.es/alobo




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From xmatl at informatics.muni.cz  Mon Nov 22 20:04:49 1999
From: xmatl at informatics.muni.cz (Rostislav Matl)
Date: Mon, 22 Nov 1999 20:04:49 +0100 (CET)
Subject: [R] variance?,...
Message-ID: <199911221904.UAA07369@aisa.fi.muni.cz>

hi

I'm learning R and making some examples.
One of them is that for given distribution
I show density function, distribution function
expected value and variance(?).
I know 
EX <- function(xval,xprob) sum( (xval*xprob) );
where xval is vector of values and xprob vector of probabalities,
but
DX <- function(xval,xprob) EX((xval^2),xprob) - (EX(xval,xprob))^2;
doesn't work as I thought.
I've looked intto FAQs and archives but my question
is probably too simple. 
Can somebody tell me what's wrong on my example ?
And one more question: when I'm plotting density:
plot(x, dnorm(x,as.double(mu),as.double(sigma_square)), style );
on interval x I get relatively small number of probabilities.
I've spent long time searching trough docs to find how
to change it but didn't found it. So please tell me how.

thanks for replies
+-----------------------------------------------------------------------------+
|  ROSTISLAV MATL, student of Masaryk University - Faculty of Informatics     |
|  e-mail: xmatl at fi.muni.cz      WWW: http://www.fi.muni.cz/~xmatl/index.html | 
|  ICQ#: 17058749                                                             |
+-----------------------------------------------------------------------------+
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Tue Nov 23 14:27:57 1999
From: alobo at ija.csic.es (Agustin Lobo)
Date: Tue, 23 Nov 1999 14:27:57 +0100 (MET)
Subject: [R] Fit with constraints (fwd)
In-Reply-To: <199911231250.MAA00752@toucan.stats.ox.ac.uk>
Message-ID: <Pine.OSF.3.91.991123142113.7303D-100000@paleo.ija.csic.es>


On Tue, 23 Nov 1999, Prof Brian Ripley wrote:

> > Currently, I'm using nlregb and I'm using the "upper and
> 
> That's an S-PLUS function: you are asking in the wrong place!
> 

No, I was just informing on the procedure that I'm using 
(with unsatisfactory results, I think)
as most people using R know about S. My question is not
on how to use nlregb, but on whether I could use a MS fit
with constraints (or any other suggestion) on R.

Agus



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From koller2 at fgr.wu-wien.ac.at  Tue Nov 23 15:14:23 1999
From: koller2 at fgr.wu-wien.ac.at (Wolfgang Koller)
Date: Tue, 23 Nov 1999 15:14:23 CET (+0100)
Subject: [R] problems with postscript device
Message-ID: <153DF9230E8@fgr.wu-wien.ac.at>

Hi!

The postscript device in 0.90 does not produce symbols (pch=) as it 
should. E.g.:


postscript(file="test.ps",width=8,height=6.4,horizontal=FALSE)
plot(1:10,1:10,pch=1:5)
legend(1,9,letters[1:5],pch=1:5)
dev.off()

The result looks quite different compared to the X-windows version. 
The symbol 1 (pch=1) is much to small, while the other symbols 
seem to big.

Is it a bug? How can I work it around?


Wolfgang Koller



----------------------------------------------------------
Wolfgang Koller,  koller2 at fgr.wu-wien.ac.at
Forschungsinstitut fuer Europafragen
Wirtschaftsuniversitaet Wien
Althanstrasse 39-45, 1090 Wien, Austria
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Tue Nov 23 16:21:37 1999
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Tue, 23 Nov 1999 15:21:37 +0000 (GMT)
Subject: [R] variance?,...
In-Reply-To: <199911221904.UAA07369@aisa.fi.muni.cz>
Message-ID: <Pine.LNX.4.10.9911231520400.10446-100000@localhost.localdomain>

> And one more question: when I'm plotting density:
> plot(x, dnorm(x,as.double(mu),as.double(sigma_square)), style );
> on interval x I get relatively small number of probabilities.
> I've spent long time searching trough docs to find how
> to change it but didn't found it. So please tell me how.

x<-seq(-3,3,.1)
plot(x,dnorm(x,0,1), type="l")

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From novo at uiuc.edu  Tue Nov 23 16:07:52 1999
From: novo at uiuc.edu (Alvaro A. Novo)
Date: Tue, 23 Nov 1999 09:07:52 -0600
Subject: [R] problems with postscript device
In-Reply-To: <153DF9230E8@fgr.wu-wien.ac.at>
References: <153DF9230E8@fgr.wu-wien.ac.at>
Message-ID: <9911230909270Z.12509@friedman>

On Tue, 23 Nov 1999, Wolfgang Koller wrote:
> Hi!
> 
> The postscript device in 0.90 does not produce symbols (pch=) as it 
> should. E.g.:
> 
> 
> postscript(file="test.ps",width=8,height=6.4,horizontal=FALSE)
> plot(1:10,1:10,pch=1:5)

I would suggest that you use instead:

 plot(1:10,1:10,pch=1:5, cex=0.4)
			 ^^^^^^^

cex = 1 being the default.

Alvaro A. Novo

> legend(1,9,letters[1:5],pch=1:5)
> dev.off()
> 
> The result looks quite different compared to the X-windows version. 
> The symbol 1 (pch=1) is much to small, while the other symbols 
> seem to big.
> 
> Is it a bug? How can I work it around?
> 
> 
> Wolfgang Koller
> 
> 
> 
> ----------------------------------------------------------
> Wolfgang Koller,  koller2 at fgr.wu-wien.ac.at
> Forschungsinstitut fuer Europafragen
> Wirtschaftsuniversitaet Wien
> Althanstrasse 39-45, 1090 Wien, Austria
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From koller2 at fgr.wu-wien.ac.at  Tue Nov 23 16:29:22 1999
From: koller2 at fgr.wu-wien.ac.at (Wolfgang Koller)
Date: Tue, 23 Nov 1999 16:29:22 CET (+0100)
Subject: [R] problems with postscript device
In-Reply-To: <9911230909270Z.12509@friedman>
References: <153DF9230E8@fgr.wu-wien.ac.at>
Message-ID: <1551F7575E4@fgr.wu-wien.ac.at>

> From:          "Alvaro A. Novo" <novo at uiuc.edu>

Alvaro A. Novo wrote:
> 
> I would suggest that you use instead:
> 
>  plot(1:10,1:10,pch=1:5, cex=0.4)
> 			 ^^^^^^^
> 
> cex = 1 being the default.

You have to look at the postscript file, that is generated by the 
commands I gave in my mail!
The problem is that, even when using cex=0.4, the symbols have a 
different size! Also, symbol number 1 (the circle) is *not* effected 
by the cex-option (maybe because it is too small to be made any 
smaller).
This all concerns only the postscript device.

The only solution I see is not to use the circle-symbol for the
postscript device

Wolfgang Koller



----------------------------------------------------------
Wolfgang Koller,  koller2 at fgr.wu-wien.ac.at
Forschungsinstitut fuer Europafragen
Wirtschaftsuniversitaet Wien
Althanstrasse 39-45, 1090 Wien, Austria
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at hal.stat.unipd.it  Tue Nov 23 16:28:05 1999
From: guido at hal.stat.unipd.it (Guido Masarotto)
Date: Tue, 23 Nov 1999 16:28:05 +0100
Subject: [R] Fit with constraints (fwd)
In-Reply-To: <Pine.OSF.3.91.991122182724.19337B-100000@paleo.ija.csic.es>; from Agustin Lobo on Mon, Nov 22, 1999 at 08:50:31PM +0100
References: <Pine.OSF.3.91.991122182724.19337B-100000@paleo.ija.csic.es>
Message-ID: <19991123162805.31338@hal.stat.unipd.it>

On Mon, Nov 22, 1999 at 08:50:31PM +0100, Agustin Lobo wrote:
> 
> I would like to fit a model of the type
> 
> Y = Xf + e
> 
> where f are cover fractions (or percent cover). Therefore,
> I must constrain the fit to
> 1. sum(f) = 1
> 2. 0<= f <=1
> 
> 
> How can I introduce these 2 constraints in a ML fit?

  Since R doesn't have 'constrained optimization' (yet) what I have tipically
  done with similar  problems is 'proper' re-parametrization, e.g.,
  f1 = exp(g1)/s f2=exp(g2)/s f3=1/s with s=1+exp(g1)+exp(g2) then
  likelihood is maximized in (g1,g2). Of course, if you want
  asymptotic standard errors, you have to transform the Fisher matrix
  for (g1,g2) to the one of (f1,f2) using the jacobian of the transformation.
  Anyway, if possible, I will try to use a profile likelihood approach.

> 
> Currently, I'm using nlregb and I'm using the "upper and
> low" keywords to set the bounds and
> use the following to ensure that sum(f) = 1:
> 
> let's say I have 3 fractions, then f3=1-f1-f2 and
> 
> Y = f1*X1 + f2*X2 +(1-f1-f2)*X3
> Y - X3 = f1(X1-X3) + f2*(x2-X3)
> 
> so I minimize (considering Z <- X[,1:2] - X[,3])
> 
> Y- X3 - Z%*%F

  In R, no constrained..., this is an improper re-parametrization
  since you don't have any assurances that the f[i]>0 restriction
  is satisfied.


> 
> The problem is that I get very odd f, which
> are very dependent on what f I choose to be
> the one to be calculated by difference (the f3 above).
> 

 This can be a problem of the algorithm but also of the data,
 or better, of your model with your data.
 Hence, if you really have only three f's, I suppose that a
 graphical study of the likelihood can be usefull.
 
 guido
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Tue Nov 23 16:43:43 1999
From: bates at stat.wisc.edu (Douglas Bates)
Date: 23 Nov 1999 09:43:43 -0600
Subject: [R] Fit with constraints (fwd)
In-Reply-To: Guido Masarotto's message of "Tue, 23 Nov 1999 16:28:05 +0100"
References: <Pine.OSF.3.91.991122182724.19337B-100000@paleo.ija.csic.es> <19991123162805.31338@hal.stat.unipd.it>
Message-ID: <6rhfidmcwg.fsf@franz.stat.wisc.edu>

Guido Masarotto <guido at hal.stat.unipd.it> writes:

> On Mon, Nov 22, 1999 at 08:50:31PM +0100, Agustin Lobo wrote:
> > 
> > I would like to fit a model of the type
> > 
> > Y = Xf + e
> > 
> > where f are cover fractions (or percent cover). Therefore,
> > I must constrain the fit to
> > 1. sum(f) = 1
> > 2. 0<= f <=1
...
>   Since R doesn't have 'constrained optimization' (yet) what I have tipically
>   done with similar  problems is 'proper' re-parametrization, e.g.,
>   f1 = exp(g1)/s f2=exp(g2)/s f3=1/s with s=1+exp(g1)+exp(g2) then
>   likelihood is maximized in (g1,g2). Of course, if you want
>   asymptotic standard errors, you have to transform the Fisher matrix
>   for (g1,g2) to the one of (f1,f2) using the jacobian of the transformation.
>   Anyway, if possible, I will try to use a profile likelihood approach.
...
> > The problem is that I get very odd f, which
> > are very dependent on what f I choose to be
> > the one to be calculated by difference (the f3 above).
> > 
> 
>  This can be a problem of the algorithm but also of the data,
>  or better, of your model with your data.
>  Hence, if you really have only three f's, I suppose that a
>  graphical study of the likelihood can be usefull.

If you use the nls function in R to fit the model in the
parameterization that Guido described, you can graphically examine the
profile likelihood with 
 pr <- profile(nlsObject)
 plot(pr)

If you have installed R-0.90.0 you can see an example of the types of
plots available with
 library(nls)
 example(plot.profile.nls)

P.S. The main title and subtitle on those plots are in the wrong
 positions.  Either I misunderstood the mtext function documentation or
 there was a bug introduced in the graphics code sometime around
 Nov. 20.  I'll file a bug report if I can confirm the bug.

P.P.S. The plots of the absolute value of tau versus the parameter
 being profiled should use yaxs = "i".  At the time I wrote the
 example I didn't realize that this worked.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Nov 23 16:47:45 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 23 Nov 1999 16:47:45 +0100 (MET)
Subject: [R] problems with postscript device
In-Reply-To: <153DF9230E8@fgr.wu-wien.ac.at>
References: <153DF9230E8@fgr.wu-wien.ac.at>
Message-ID: <14394.46881.846260.746395@gargle.gargle.HOWL>

>>>>> "WoKo" == Wolfgang Koller <koller2 at fgr.wu-wien.ac.at> writes:

    WoKo> Hi!  The postscript device in 0.90 does not produce symbols
    WoKo> (pch=) as it should. E.g.:


    WoKo> postscript(file="test.ps",width=8,height=6.4,horizontal=FALSE)
    WoKo> plot(1:10,1:10,pch=1:5)
    WoKo> legend(1,9,letters[1:5],pch=1:5)
    WoKo> dev.off()

    WoKo> The result looks quite different compared to the X-windows
    WoKo> version.  The symbol 1 (pch=1) is much to small, while the other
    WoKo> symbols seem to big.

    WoKo> Is it a bug?
yes, definitely.
there's a second (less severe) bug, too :

The second symbol (triangle)
is \Delta /\  on x11 (and postscript in R <= 0.65)
          --    __
but is \Lambda  \/  for postscript in R 0.90.0..

    WoKo> How can I work it around?

as you said: by not using  pch=1.... :-)
a patch will probably appear "soon"...

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mcw at ln.nimh.nih.gov  Tue Nov 23 17:42:44 1999
From: mcw at ln.nimh.nih.gov (Matthew Wiener)
Date: Tue, 23 Nov 1999 11:42:44 -0500 (EST)
Subject: [R] rbind problem
Message-ID: <Pine.SGI.3.96.991123113106.25427B-100000@ln.nimh.nih.gov>


In the new version 0.90.0, rbind won't take a vector and a matrix from me,
but works OK if I coerce the vector to a matrix.  The following was run on
a new session (i.e., no prior work), and has been duplicated on 2
machines: an SGI running Irix 6.5, and an Intel box running Red Hat Linux
6.0.

Either case works fine in version 0.65.1.




> t3 <- c(.5, .5)  
> t4 <- matrix(rnorm(8), 4, 2)  
> t3 
[1] 0.5 0.5 
> t4
     [,1]       [,2] 
[1,]  1.0701582 -0.40888504 
[2,] -0.2961581 -1.73051884 
[3,]  0.6191254  0.05958328 
[4,] -1.3844937  0.81863361 
> dim(t3) <- c(1,2)            (make vector a matrix)
> rbind(t3, t4) 
           [,1] [,2] 
[1,]  0.5000000  0.50000000    (so OK when vector coerced)
[2,]  1.0701582 -0.40888504
[3,] -0.2961581 -1.73051884 
[4,]  0.6191254  0.05958328 
[5,] -1.3844937  0.81863361 
> 
> t3 <- c(.5, .5)              (reassign t3 as a vector)
> dim(t3) 
NULL 
> 
> rbind(t3, t4) 

Process R segmentation violation (core dumped) at Tue Nov 23 11:28:05 1999

--------------------------------------------------------------------------

Am I missing something?  Has anyone else come across this problem?  Or is
this a new feature?  I don't see anything in the documentation; indeed,
it says (in the help for cbind and rbind):

When the arguments consist of a mix of matrices and vectors the number of
columns (rosw) of the result is determined by the number of columns (rows)
of the matrix arguments. Any vectors have their values recycled or
subsetted to achieve this length. 

Thanks,

Matt

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From upde0003 at tc.umn.edu  Tue Nov 23 20:29:10 1999
From: upde0003 at tc.umn.edu (Karen Updegraff)
Date: Tue, 23 Nov 1999 19:29:10 +0000
Subject: [R] hypothesis testing
Message-ID: <383AEB06.F1EDD4BB@tc.umn.edu>

I am interested in functions for post-hoc hypothesis testing in linear
regression, i.e. to perform
t-tests for equality of a single coefficient to a given value, or to
perform F-tests for the equality
of multiple coefficients (summed) to a given value.  I see nothing in
the current list of contributions
that appears to do that.  I am a complete R novice, so am not prepared
to write complex
functions.

Thanks,
karen Updegraff

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From akornick at whgrp.com  Tue Nov 23 21:00:42 1999
From: akornick at whgrp.com (Adam Kornick)
Date: 23 Nov 1999 15:00:42 -0500
Subject: [R] p-value from lm
Message-ID: <m3zow5x9jp.fsf@ws-122.whgrp.com>

I'd like to automatically plot the p-value and r^2 of a linear model.
I know that I can extract r^2 with 

foo <- lm(y~x)
a <- summary(foo)
a$r.squared

I can't find any similar functionality to obtain the p-value based on
the ftest

a$fstatistic returns the actual f-test and df, but not the p-value.

Any thoughts?

Thanks,

Adam

using		R-0.65.1
                Win32
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at hal.stat.unipd.it  Tue Nov 23 22:17:35 1999
From: guido at hal.stat.unipd.it (Guido Masarotto)
Date: Tue, 23 Nov 1999 22:17:35 +0100
Subject: [R] p-value from lm
In-Reply-To: <m3zow5x9jp.fsf@ws-122.whgrp.com>; from Adam Kornick on Tue, Nov 23, 1999 at 03:00:42PM -0500
References: <m3zow5x9jp.fsf@ws-122.whgrp.com>
Message-ID: <19991123221735.00986@hal.stat.unipd.it>

On Tue, Nov 23, 1999 at 03:00:42PM -0500, Adam Kornick wrote:
> I'd like to automatically plot the p-value and r^2 of a linear model.
> I know that I can extract r^2 with 
> 
> foo <- lm(y~x)
> a <- summary(foo)
> a$r.squared
> 
> I can't find any similar functionality to obtain the p-value based on
> the ftest
> 
> a$fstatistic returns the actual f-test and df, but not the p-value.
> 
> Any thoughts?
> 

  You can use directly the F distribution function (pf). E.g.
  
  f.stat <- a$fstatistic
  p.value <- 1-pf(f.stat["value"],f.stat["numdf"],f.stat["dendf"])

  guido
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jbarnett at wi.mit.edu  Tue Nov 23 22:24:39 1999
From: jbarnett at wi.mit.edu (John D. Barnett)
Date: Tue, 23 Nov 1999 16:24:39 -0500
Subject: [R] Internal data types
Message-ID: <383B0617.57BF8F47@wi.mit.edu>

Hi-

I'm very interested in using R, though I am still new to it.  However,
all of the data I'm working with is currently stored in Oracle.  So,
either I get data from Oracle, save it to a text file, and then import
it to R, or I write an R <-> Oracle bridge.  I've taken the second
approach, but I'm sure that I haven't done it entirely correctly.

For starters, is there any unified documentation for the R/C interface?

I can currently get back the results of a SQL query in a list of
vectors; however, the process is quite slow and CPU intensive.  This is
probably because I fill in the data structure in R, and call C to get
every single value.  It makes more sense to me to loop in C and create
the entire data structure there, but I'm not quite sure how to approach
this.

I think that what I want to do is actually create the appropriate SEXPR
for a list, with each element being a vector (numeric or string).  This
would presumably be through allocList() and allocVector(), but how then
do I access individual elements of an SEXPR (list or vector) from C?
(i.e., are there access functions that I'm missing, or do I have to wade
through the structure definition of SEXPR?)

Also, if I create the whole object in C, should I use dup=TRUE or FALSE
in the .C call?

Am I on the right track?

Thanks to anyone with more experience who can point me in the right
direction.

-John

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Tue Nov 23 22:53:26 1999
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Tue, 23 Nov 1999 16:53:26 -0500
Subject: [R] Multifractal Model of Asset Return (MMAR)
Message-ID: <013c01bf35fd$2c5cf1f0$6328acce@bellglobal.com>

Hi,

Multifractal Model of Asset Return (MMAR) is a relatively new model for
financial time series this work was done by Benoit Mandelbrot, Adlai Fisher
and Laurent Calvet. For those interested in the model you can find papers @
http://www.stern.nyu.edu/~afisher/papers.html (papers number 1164:1166)

I'm new to R and I was wondering if anyone of you had tried to implement
this model in R before I made any attempt by myself?

In the event that no one as done it then I'd like to know if someone would
like to work at it? My goal is to implement the model with R on the Standard
& Poors 100 or 500 primarily and then try to model the pricing of financial
derivative based on the MMAR approach.

Thanks in advance.

Yves Gauvreau

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From denis at mail.cor.epa.gov  Tue Nov 23 23:41:34 1999
From: denis at mail.cor.epa.gov (Denis White)
Date: Tue, 23 Nov 1999 14:41:34 -0800 (PST)
Subject: [R] postscript colors
Message-ID: <199911232241.OAA22938@okapi.cor.epa.gov>

Is color specification like this available in R for setting
postscript colors?

> hue <- c(0, seq(from = 0, by = 1/(nclass), length = nclass))
> sat <- c(0, rep(1.0, nclass))
> bri <- c(0, rep(1.0, nclass))
> zcolors <- cbind(hue, sat, bri)
> ps.options (setcolor=ps.setcolor.hsb,colors=zcolors)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Wed Nov 24 00:35:32 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 23 Nov 1999 15:35:32 -0800 (PST)
Subject: [R] postscript colors
In-Reply-To: <199911232241.OAA22938@okapi.cor.epa.gov>
Message-ID: <Pine.GSO.4.10.9911231534370.16881-100000@wompom.biostat.washington.edu>

On Tue, 23 Nov 1999, Denis White wrote:

> Is color specification like this available in R for setting
> postscript colors?
> 
> > hue <- c(0, seq(from = 0, by = 1/(nclass), length = nclass))
> > sat <- c(0, rep(1.0, nclass))
> > bri <- c(0, rep(1.0, nclass))
> > zcolors <- cbind(hue, sat, bri)
> > ps.options (setcolor=ps.setcolor.hsb,colors=zcolors)

No, but it's not necessary. You can use the color names 
	plot(x,y,color="PeachPuff")
or print from the x11() screen with dev.print() and the colors will come
out right


	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From srtcres at csi.com.ph  Wed Nov 24 01:33:13 1999
From: srtcres at csi.com.ph (Research Division)
Date: Wed, 24 Nov 1999 08:33:13 +0800
Subject: [R] recycling rule
References: <CEC354720AC9D111A4670000F84A122602268FA7@clvex01.clv.rpr.rp>
Message-ID: <010d01bf3613$8f27ec20$9498a4ca@csi.com.ph>

I was illustrating the use of R to some of my students 
here in the Philippines: 
The following question was posed:  "is there any 
motivation for the development
of the recycling rule for vector 
manipulation, especially for fractional replication?"
I had no idea how to answer this. 

Any ideas will be most appreciated.  Thanks. 

Jose Ramon Albert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Wed Nov 24 01:44:36 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 23 Nov 1999 16:44:36 -0800 (PST)
Subject: [R] recycling rule
In-Reply-To: <010d01bf3613$8f27ec20$9498a4ca@csi.com.ph>
Message-ID: <Pine.GSO.4.10.9911231643100.16881-100000@wompom.biostat.washington.edu>

On Wed, 24 Nov 1999, Research Division wrote:

> I was illustrating the use of R to some of my students 
> here in the Philippines: 
> The following question was posed:  "is there any 
> motivation for the development
> of the recycling rule for vector 
> manipulation, especially for fractional replication?"
> I had no idea how to answer this. 

For integer replication I think the motivation is to handle
vector+scalar, vector+matrix, and scalar+matrix operations.

I would say that the fractional replication is just a side-effect.
	
	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Wed Nov 24 06:18:55 1999
From: chong at stat.purdue.edu (Chong Gu)
Date: Wed, 24 Nov 1999 00:18:55 -0500
Subject: [R] problems with postscript device
In-Reply-To: <1551F7575E4@fgr.wu-wien.ac.at> (koller2@fgr.wu-wien.ac.at)
Message-ID: <199911240518.AAA08622@mean.stat.purdue.edu>


   From: "Wolfgang Koller" <koller2 at fgr.wu-wien.ac.at>
   Organization: University of Economics, Vienna
   Date: Tue, 23 Nov 1999 16:29:22 CET (+0100)
   MIME-Version: 1.0
   Content-type: text/plain; charset=US-ASCII
   Content-transfer-encoding: 7BIT
   CC: r-bugs at biostat.ku.dk, r-help at stat.math.ethz.ch
   References: <153DF9230E8 at fgr.wu-wien.ac.at>
   X-mailer: Pegasus Mail for Windows (v2.53/R1)
   Sender: owner-r-help at stat.math.ethz.ch
   Precedence: bulk

   > From:          "Alvaro A. Novo" <novo at uiuc.edu>

   Alvaro A. Novo wrote:
   > 
   > I would suggest that you use instead:
   > 
   >  plot(1:10,1:10,pch=1:5, cex=0.4)
   > 			 ^^^^^^^
   > 
   > cex = 1 being the default.

   You have to look at the postscript file, that is generated by the 
   commands I gave in my mail!
   The problem is that, even when using cex=0.4, the symbols have a 
   different size! Also, symbol number 1 (the circle) is *not* effected 
   by the cex-option (maybe because it is too small to be made any 
   smaller).
   This all concerns only the postscript device.

   The only solution I see is not to use the circle-symbol for the
   postscript device

   Wolfgang Koller



   ----------------------------------------------------------
   Wolfgang Koller,  koller2 at fgr.wu-wien.ac.at
   Forschungsinstitut fuer Europafragen
   Wirtschaftsuniversitaet Wien
   Althanstrasse 39-45, 1090 Wien, Austria
   -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
   r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
   Send "info", "help", or "[un]subscribe"
   (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
   _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


I have encountered the same problem and reported about 5 months ago.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Nov 24 08:17:43 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 24 Nov 1999 07:17:43 +0000 (GMT)
Subject: [R] Internal data types
In-Reply-To: <383B0617.57BF8F47@wi.mit.edu>
Message-ID: <Pine.GSO.4.05.9911240710500.2725-100000@auk.stats>

On Tue, 23 Nov 1999, John D. Barnett wrote:

> Hi-
> 
> I'm very interested in using R, though I am still new to it.  However,
> all of the data I'm working with is currently stored in Oracle.  So,
> either I get data from Oracle, save it to a text file, and then import
> it to R, or I write an R <-> Oracle bridge.  I've taken the second
> approach, but I'm sure that I haven't done it entirely correctly.
> 
> For starters, is there any unified documentation for the R/C interface?

Not yet, but

(a) It is pretty similar to the S one, and
(b) I think you should be using the .Call interface. This is now
documented in `R-external' manual which is in the 0.90.0 documentation
(cd doc/manual,  make dvi or make pdf).

> I can currently get back the results of a SQL query in a list of
> vectors; however, the process is quite slow and CPU intensive.  This is
> probably because I fill in the data structure in R, and call C to get
> every single value.  It makes more sense to me to loop in C and create
> the entire data structure there, but I'm not quite sure how to approach
> this.

Use .Call is the key.

> I think that what I want to do is actually create the appropriate SEXPR
> for a list, with each element being a vector (numeric or string).  This
> would presumably be through allocList() and allocVector(), but how then
> do I access individual elements of an SEXPR (list or vector) from C?
> (i.e., are there access functions that I'm missing, or do I have to wade
> through the structure definition of SEXPR?)

See the `R-external' manual. There are two sets of access definitions,
in Rdefines.h and Rinternals.h

I hope that helps you enough.  If not, your only recourse is to study
examples in the R source code (which is how that manual got written),
or ask for help. (It might be good to ask really technical points
on R-devel, as I suspect everyone who knows about this is on that list.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Nov 24 08:33:36 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 24 Nov 1999 07:33:36 +0000 (GMT)
Subject: [R] recycling rule
In-Reply-To: <Pine.GSO.4.10.9911231643100.16881-100000@wompom.biostat.washington.edu>
Message-ID: <Pine.GSO.4.05.9911240727540.2725-100000@auk.stats>

On Tue, 23 Nov 1999, Thomas Lumley wrote:

> On Wed, 24 Nov 1999, Research Division wrote:
> 
> > I was illustrating the use of R to some of my students 
> > here in the Philippines: 
> > The following question was posed:  "is there any 
> > motivation for the development
> > of the recycling rule for vector 
> > manipulation, especially for fractional replication?"
> > I had no idea how to answer this. 
> 
> For integer replication I think the motivation is to handle
> vector+scalar, vector+matrix, and scalar+matrix operations.

I think it is buried in the mists of time, but apart from these there
are efficiency shortcuts for other common operations where a scalar
needs to be expanded to a vector, e.g. in the args to rnorm.

> I would say that the fractional replication is just a side-effect.

Possibly even originally unintentional. It is not allowed in current
versions of S (S, not necessarily S-PLUS) and should probably be
discouraged.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jan.Schelling at hydro.com  Wed Nov 24 09:51:52 1999
From: Jan.Schelling at hydro.com (Jan.Schelling@hydro.com)
Date: Wed, 24 Nov 1999 09:51:52 +0100
Subject: [R] variance?,...
Message-ID: <C1256833.0030B1E2.00@osla28smtp.hda.hydro.com>



xmatl at informatics.muni.cz on 99-11-22 07:04 PM GMT
> I know
> EX <- function(xval,xprob) sum( (xval*xprob) );
> where xval is vector of values and xprob vector of probabalities,
> but
> DX <- function(xval,xprob) EX((xval^2),xprob) - (EX(xval,xprob))^2;
> doesn't work as I thought.

Well, what did you expect?

xval <- 0:100
xprob <- dnorm(xval, 45, sqrt(64))
EX(xval, xprob)
[1] 45
DX(xval, xprob)
[1] 64

looks ok to me.

plot(0:100, dnorm(0:100,45,sqrt(64)))

produces (by definition ) just as many probablities as you have data points. In
my case 101. If you want something like a continuous density from a small number
of discrete data points you should consider density().

Example:

xval <- 0:10
xprob <- dnorm(xval, 4.5, 1.5)
plot(xval, xprob) # 11 points
lines(density(rep(xval, 100*xprob), bw=.6, n=512)) # continuous line based on n
= 512 points

Jan

----------
Jan Schelling
Norsk Hydro
Research Centre
N - 3925 Porsgrunn




From: xmatl at informatics.muni.cz on 99-11-22 07:04 PM GMT



To:   r-help at stat.math.ethz.ch
cc:    (bcc: Jan Schelling/HRE/Hydro)
Subject:  [R] variance?,...



hi

I'm learning R and making some examples.
One of them is that for given distribution
I show density function, distribution function
expected value and variance(?).
I know
EX <- function(xval,xprob) sum( (xval*xprob) );
where xval is vector of values and xprob vector of probabalities,
but
DX <- function(xval,xprob) EX((xval^2),xprob) - (EX(xval,xprob))^2;
doesn't work as I thought.
I've looked intto FAQs and archives but my question
is probably too simple.
Can somebody tell me what's wrong on my example ?
And one more question: when I'm plotting density:
plot(x, dnorm(x,as.double(mu),as.double(sigma_square)), style );
on interval x I get relatively small number of probabilities.
I've spent long time searching trough docs to find how
to change it but didn't found it. So please tell me how.

thanks for replies
+-----------------------------------------------------------------------------+
|  ROSTISLAV MATL, student of Masaryk University - Faculty of Informatics     |
|  e-mail: xmatl at fi.muni.cz      WWW: http://www.fi.muni.cz/~xmatl/index.html |
|  ICQ#: 17058749                                                             |
+-----------------------------------------------------------------------------+
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._






-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at alpha.luc.ac.be  Wed Nov 24 10:05:06 1999
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Wed, 24 Nov 1999 10:05:06 +0100 (MET)
Subject: [R] nlm gradient and hessian
Message-ID: <199911240905.KAA22456@alpha.luc.ac.be>

  Out of curiosity, I have tried, without success, to use the new
facility in nlm to specify the gradient and hessian. (It is many years
since I had a problem simple enough to make analytic derivation of
these worthwhile.) The help now says that the function must have
attributes with these names but gives no indication as to what should
be in the attributes. The online example and demo do not use the new
feature.
  I tried supplying the gradient attribute as a function, as this
seemed most logical, but nothing changed in the results. In fact, no
matter what I supplied, even a character string in the attribute, I got
no reaction from nlm. So I took a look at the C code and found that
nlm seems to be looking for a numerical vector of the same length as
the parameter vector in the attribute. I am not sure what this could
be as the gradient will change as nlm searches through different sets
of parameter values. In any case, supplying such a vector quite
arbitrarily also was completely ignored by nlm. (I also tried looking
in the nlme code for examples without success.)
  Can anyone supply a simple example of how to use the gradient
attribute with nlm please? Even better would be an example where it
actually was worthwhile to supply it by an improvement in the results
from nlm...
  Thanks. Jim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From DKRASSEN at ccgroupnet.com  Wed Nov 24 11:53:46 1999
From: DKRASSEN at ccgroupnet.com (David Krassen)
Date: Wed, 24 Nov 1999 05:53:46 -0500
Subject: [R] Re: R 0.90.0 for Windows (Please Read (Out of Office))
Message-ID: <s83b7d7d.027@mail.ccgroupnet.com>

** Reply Requested When Convenient **

I will be attending a class during the week of November 29.   I will get back to you as quickly as possible.  If you need to reach me immediately  by phone talk with Barb Severs or Diane Terry.

Thank you
David J. Krassen

>>> r-help 11/24/99 04:31 >>>


A binary distribution of R 0.90.0 for Windows is available at 
http://cran.r-project.org (in bin/windows/windows-NT/base). 
It should run on  Windows 9X/NT/2000 systems. 

Windows News:
-------------
We made a determined attempt to quote paths which might contain spaces,
and almost all cases work. Be careful with external unzip, pager and editor
programs that these do handle quoted paths.

Rterm can be interrupted by Ctrl-C as well as Ctrl-Break. Fast
typing should not give problems in interactive use.

Better formatting of math expressions in graphics labels, legends, ...
(but only if font is True Type since it seems not possible to get
per-char font metric information for raster fonts).

Support for GIF format bitmaps has been removed, but support for PNG, 
JPEG and BMP has been added. This can be done via the File menu on the
graphics window, savePlot() or dev.print to the new devices png(), bmp() 
and jpeg(), which can also be used directly.

PDF versions of the (draft) manuals are available in file rw0900d.zip
and install into rw0900/doc/manual.  These can be read in Acrobat
Reader from the Manuals sub-menu of the Help menu provided they and
the reader (http://www.adobe.com) are installed.

The installer will install packages in the library directory if the
installation directory path ends in rw0900.

You can install packages by

    install.packages("/path/to/mypkg.zip", CRAN=NULL)




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-announce mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-announce-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at alpha.luc.ac.be  Wed Nov 24 12:01:38 1999
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Wed, 24 Nov 1999 12:01:38 +0100 (MET)
Subject: [R] nlm continued
Message-ID: <199911241101.MAA15844@alpha.luc.ac.be>

OK I figured it out. The attributes have to be on the value returned,
not on the function itself.
  I tried a linear (not log linear) regression with Poisson, using
only the gradient, not the hessian. It took one extra iteration (13
instead of 12) and gave twice as many warnings (28 instead of 16)
compared to not supplying the gradient. The answers are identical to 5
decimal places.
  Sorry to bother the list with this. Jim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Nov 24 13:48:05 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 24 Nov 1999 12:48:05 +0000 (GMT)
Subject: [R] nlm continued
In-Reply-To: <199911241101.MAA15844@alpha.luc.ac.be>
Message-ID: <Pine.GSO.4.05.9911241242170.6099-100000@auk.stats>

On Wed, 24 Nov 1999, Jim Lindsey wrote:

> OK I figured it out. The attributes have to be on the value returned,
> not on the function itself.

Yes, ms-style (and not surprising given that Doug Bates' hand was in both
implementations). I would prefer to be able to specify separate
functions for the gradient and hessian, at least as an alternative.

>   I tried a linear (not log linear) regression with Poisson, using
> only the gradient, not the hessian. It took one extra iteration (13
> instead of 12) and gave twice as many warnings (28 instead of 16)
> compared to not supplying the gradient. The answers are identical to 5
> decimal places.

As a different example, I am currently implementing polr from MASS in R.
Without gradients, it takes a few hundred iterations if it converges at
all. With gradients, it takes less than 10 and seems pretty reliable.
I have several problems where gradients are essential, so it great to have
the facility in nlm for those.

Brian

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dj at research.bell-labs.com  Wed Nov 24 15:32:28 1999
From: dj at research.bell-labs.com (David James)
Date: Wed, 24 Nov 1999 09:32:28 -0500 (EST)
Subject: [R] R-Oracle (was Internal data types)
Message-ID: <199911241432.JAA10674@jessie.research.bell-labs.com>

Hi,

I'm currently writing an S4/Oracle interface, and as Brian Ripley
points out, the .Call interface is the key.  The good news is that
the S part (I presumed the R part as well) is remarkably straight-
forward by using the .Call facilities to create list and other S objects
directly from C.  I'm following Brian's suggestion and printing the
R-external documentation ---  I need to make my code R-compatible.

I'd be embarrassed to release the code in its current state, but
I'd be happy to share it with people if they are in desperate need:-)

> Date: Wed, 24 Nov 1999 07:17:43 +0000 (GMT)
> From: Prof Brian D Ripley <ripley at stats.ox.ac.uk>
> To: "John D. Barnett" <jbarnett at wi.mit.edu>
> cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] Internal data types
> MIME-Version: 1.0
> 
> On Tue, 23 Nov 1999, John D. Barnett wrote:
> 
> > Hi-
> > 
> > I'm very interested in using R, though I am still new to it.  However,
> > all of the data I'm working with is currently stored in Oracle.  So,
> > either I get data from Oracle, save it to a text file, and then import
> > it to R, or I write an R <-> Oracle bridge.  I've taken the second
> > approach, but I'm sure that I haven't done it entirely correctly.
> > 
> > For starters, is there any unified documentation for the R/C interface?
> 
> Not yet, but
> 
> (a) It is pretty similar to the S one, and
> (b) I think you should be using the .Call interface. This is now
> documented in `R-external' manual which is in the 0.90.0 documentation
> (cd doc/manual,  make dvi or make pdf).
> 
> > I can currently get back the results of a SQL query in a list of
> > vectors; however, the process is quite slow and CPU intensive.  This is
> > probably because I fill in the data structure in R, and call C to get
> > every single value.  It makes more sense to me to loop in C and create
> > the entire data structure there, but I'm not quite sure how to approach
> > this.
> 
> Use .Call is the key.
> 
> > I think that what I want to do is actually create the appropriate SEXPR
> > for a list, with each element being a vector (numeric or string).  This
> > would presumably be through allocList() and allocVector(), but how then
> > do I access individual elements of an SEXPR (list or vector) from C?
> > (i.e., are there access functions that I'm missing, or do I have to wade
> > through the structure definition of SEXPR?)
> 
> See the `R-external' manual. There are two sets of access definitions,
> in Rdefines.h and Rinternals.h
> 
> I hope that helps you enough.  If not, your only recourse is to study
> examples in the R source code (which is how that manual got written),
> or ask for help. (It might be good to ask really technical points
> on R-devel, as I suspect everyone who knows about this is on that list.)
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
-------------------------------------------------------------------------------
-

David A. James
Statistics Research, Room 2C-253            Phone:  (908) 582-3082       
Bell Labs, Lucent Technologies              Fax:    (908) 582-3340
Murray Hill, NJ 09794-0636

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dlucido at bellatlantic.net  Wed Nov 24 15:36:36 1999
From: dlucido at bellatlantic.net (David Lucido)
Date: Wed, 24 Nov 1999 09:36:36 -0500
Subject: [R] MacOS Version of R
Message-ID: <383BF7F4.F6CBFC9D@bellatlantic.net>

I havn't been following this discussion group and so I am probably
revisiting an old topic but I have noticed that the MacOS directory of
binaries available for R has been removed.

Does this mean that MacOS is no longer a target platform?  Will this
change with OS X?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nortonm at magellan.umontreal.ca  Wed Nov 24 18:07:08 1999
From: nortonm at magellan.umontreal.ca (Matthew Norton)
Date: Wed, 24 Nov 1999 12:07:08 -0500
Subject: [R] problem with multiple figure postscript file
Message-ID: <383C1B3C.F153944@magellan.umontreal.ca>

Hello all!

I'm a newcomer to R, so please bear with me.  My problem is the
following:

I'm trying to use R to do some geostatistics stuff (mostly kriging), and
am having trouble printing a multiple figure.  When I create a single
figure (one image/contour command), it works fine.  The instant I try to
create a multiple figure file, I start getting postscript errors.  I'm
using the 0.90 version of R for linux.

Here are the commands I have been using:


     postscript("crocheinterp.ps", family="Times", height=7,
     width=4, horizontal=FALSE, paper="letter")

     par(mfcol=c(2,2))

     par(mfg=c(1,1,2,2))
     par(mai=c(0.5, 0.5, 0.5, 0.5))

     plot(croche.day.epi.grid$xy, type="n", xlim=c(0,100),
     ylim=c(0,200), xlab="", ylab="")

     image(croche.day.epi.grid$x, croche.day.epi.grid$y,
     matrix(croche.day.epi.grid$krige$zhat,
     length(croche.day.epi.grid$x), length(croche.day.epi.grid$y)),
     add=T, col=grays)


     contour(croche.day.epi.grid$x, croche.day.epi.grid$y,
     matrix(croche.day.epi.grid$krige$zhat,
     length(croche.day.epi.grid$x), length(croche.day.epi.grid$y)),
     add=T)


     par(mfg=c(2,1,2,2))
     par(mai=c(0.5, 0.5, 0.5, 0.5))


     etc., etc., etc.

When I try to open the crocheinterp.ps file, ghostview gives me the
following error:


     Error: /invalidfont in findfont
     Operand stack:
        Times-Roman   Font   Times-Roman   13724   Times-Roman
     --nostringval--   Times-Roman   Courier
     Execution stack:
        %interp_exit   .runexec2   --nostringval--
     --nostringval--   --nostringval--   2   %stopped_push
     --nostringval--   2   3   %oparray_pop   --nostringval--
     --nostringval--   false   1   %stopped_push   1   3
     %oparray_pop   .runexec2   --nostringval--   --nostringval--
     --nostringval--   2   %stopped_push   --nostringval--   1
     3   %oparray_pop   2   3   %oparray_pop   --nostringval--
     --nostringval--   false   1   %stopped_push
     --nostringval--   5   4   %oparray_pop   --nostringval--
     --nostringval--   %loop_continue   --nostringval--
     --nostringval--   --nostringval--   5   5   %oparray_pop
     Dictionary stack:
        --dict:770/809--   --dict:0/20--   --dict:66/200--
     --dict:16/23--   --dict:770/809--
     Current allocation mode is local
     Last OS error: 2
     Current file position is 1112

Now, I know next to nothing about postscript errors, so I can't quite
figure this out.  Does anyone have any ideas?

Thanks in advance

--
Matthew Norton                          |nortonm at magellan.umontreal.ca
D?partement des Sciences Biologiques    |(514) 343-6111 x1233
Universit? de Montr?al                  |
C.P. 6128 Succursale centre-ville       |
Montr?al, Qc H3C 3J7                    |



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From akj at its.hk-r.se  Wed Nov 24 18:14:22 1999
From: akj at its.hk-r.se (Ajit K Jena)
Date: Wed, 24 Nov 1999 18:14:22 +0100 (CET)
Subject: [R] Need help..
Message-ID: <Pine.LNX.4.10.9911241756070.8064-100000@maruti.itm.hk-r.se>


Dear All,

I am trying to generate some Pareto random variates
using the inverse method. This is really straightfoward
and my R function looks as below :

pareto <- function(c, a, cnt=1000)
{
	u <- runif(cnt)

	x <- (c / ((u ^ (1 / a))))

	mean.theo <- ((c * a) / (a - 1))
	mean.gen <- mean(x)
	cat('Pareto mean : theoritical', mean.theo, 
		'generated', mean.gen, '\n') 

	return(x)
}

I am also giving the outputs below to illustrate my
point. I understand the point that as 'a' is less
than 2.0, the variance does not exist. But as 'a'
approaches 1.0, the mean goes down approximately to
1/3 of the theoritical mean. I understand it is
getting slowly into unstable mean syndrome but I am
really baffled that it should remain so low consistently.

Am I missing something here ? Can anyone please suggest
some better method ? 

Regards.

--ajit

> pareto(1000, 1.6, 5000) -> k
Pareto mean : theoritical 2666.667 generated 2533.681 
> pareto(1000, 1.6, 5000) -> k
Pareto mean : theoritical 2666.667 generated 3182.131 
> pareto(1000, 1.6, 5000) -> k
Pareto mean : theoritical 2666.667 generated 2696.346 
> pareto(1000, 1.6, 5000) -> k
Pareto mean : theoritical 2666.667 generated 2624.048 
> pareto(1000, 1.6, 5000) -> k
Pareto mean : theoritical 2666.667 generated 2465.958 
> pareto(1000, 1.6, 5000) -> k
Pareto mean : theoritical 2666.667 generated 2968.517 

There are some big swings in the set above, but still ok I think... 

> pareto(1000, 1.4, 5000) -> k
Pareto mean : theoritical 3500 generated 3162.978 
> pareto(1000, 1.4, 5000) -> k
Pareto mean : theoritical 3500 generated 3129.814 
> pareto(1000, 1.4, 5000) -> k
Pareto mean : theoritical 3500 generated 3203.407 
> pareto(1000, 1.4, 5000) -> k
Pareto mean : theoritical 3500 generated 3379.751 
> pareto(1000, 1.4, 5000) -> k
Pareto mean : theoritical 3500 generated 3345.743 
> pareto(1000, 1.4, 5000) -> k
Pareto mean : theoritical 3500 generated 3387.779 

The above are still sensible I would think...

> pareto(1000, 1.2, 5000) -> k
Pareto mean : theoritical 6000 generated 4335.049 
> pareto(1000, 1.2, 5000) -> k
Pareto mean : theoritical 6000 generated 4929.394 
> pareto(1000, 1.2, 5000) -> k
Pareto mean : theoritical 6000 generated 4806.154 
> pareto(1000, 1.2, 5000) -> k
Pareto mean : theoritical 6000 generated 7470.355 
> pareto(1000, 1.2, 5000) -> k
Pareto mean : theoritical 6000 generated 5078.184 
> pareto(1000, 1.2, 5000) -> k
Pareto mean : theoritical 6000 generated 4861.391 
> pareto(1000, 1.2, 5000) -> k
Pareto mean : theoritical 6000 generated 11153.21 
> pareto(1000, 1.2, 5000) -> k
Pareto mean : theoritical 6000 generated 5626.684 

The trend has started above ..

> pareto(1000, 1.1, 5000) -> k
Pareto mean : theoritical 11000 generated 5752.399 
> pareto(1000, 1.1, 5000) -> k
Pareto mean : theoritical 11000 generated 7003.196 
> pareto(1000, 1.1, 5000) -> k
Pareto mean : theoritical 11000 generated 6012.118 
> pareto(1000, 1.1, 5000) -> k
Pareto mean : theoritical 11000 generated 5761.349 

Things below are really nasty...

> pareto(1000, 1.06, 5000) -> k
Pareto mean : theoritical 17666.67 generated 5897.83 
> pareto(1000, 1.06, 5000) -> k
Pareto mean : theoritical 17666.67 generated 5833.972 
> pareto(1000, 1.06, 5000) -> k
Pareto mean : theoritical 17666.67 generated 6125.007 
> pareto(1000, 1.06, 5000) -> k
Pareto mean : theoritical 17666.67 generated 7844.268 
> pareto(1000, 1.06, 5000) -> k
Pareto mean : theoritical 17666.67 generated 6741.457 
> pareto(1000, 1.06, 5000) -> k
Pareto mean : theoritical 17666.67 generated 9166.882 
> pareto(1000, 1.06, 5000) -> k
Pareto mean : theoritical 17666.67 generated 6726.428 

--------------------------------------------------------------------------
Ajit K. Jena					  Phone  :  +46-455-385655
						  Fax    :  +46-455-385667
Dept. of Telecom and Signal Processing		  Mobile :  +46-708-876803
University of Karlskrona/Ronneby		  Email  : akj at its.hk-r.se
S-371 79 Karlskrona, Sweden
--------------------------------------------------------------------------

On Tue, 23 Nov 1999, T. V. Kurien wrote:

> Dear akj,
>     The inversion method IS THE ONLY WAY (in general) to generate
> rv from a particular CDF. For one thing, the CDF := P(X >=x) = F(x). For
> the pareto, it is as you have stated, except, of course that x>c. In terms
> of the mean, it is ac/(a-1) for a>1 .. I assume that you are aware of this,
> and on the strong dependence on c.
> 
> Let me re-iterate: The inverse method is CERTAINLY GOOD ENOUGH. Make sure
> that you have not screwed up in the random variate generation (inversion
> itself), in this case, F(x) is pretty trivial to invert.
> v
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From DKRASSEN at ccgroupnet.com  Wed Nov 24 18:31:11 1999
From: DKRASSEN at ccgroupnet.com (David Krassen)
Date: Wed, 24 Nov 1999 12:31:11 -0500
Subject: [R] Re: DSE package for multi-variate time series (Please Read
	(Out of Office))
Message-ID: <s83bdaa5.000@mail.ccgroupnet.com>

** Reply Requested When Convenient **

I will be attending a class during the week of November 29.   I will get back to you as quickly as possible.  If you need to reach me immediately  by phone talk with Barb Severs or Diane Terry.

Thank you
David J. Krassen

>>> r-help 11/24/99 10:46 >>>


A new version of my DSE package for multi-variate time series analysis
is
now available at <www.bank-banque-canada.ca/pgilbert>. I am trying to
sort
out some minor glitches with the new R 0.90 graphics before I submit it
to CRAN. Much of the underlying code has been re-worked and reorganized
in the
new version. In particular, the use of model and data constructors has
been
more formalized and the internal structure of these objects, while still

documented, is considered "opaque."

I have separated out a "syskern" package which tries to provide a kernel
of
routines to isolate OS differences and a few Splus and R differences.
For most
people, the most interesting part of this is probably the approach to
RNG,
which provides a convenient way to generate the same random experiments
in R
and Splus.

I have also separated out a "tframe" package which provides a kernel of
routines for programming time series methods. These allow a programmer
to
write most code in a way that is independent of the time representation
(i.e.
the class of the time series data). So, for example, the use of tsp() is
avoided
because it is specific to certain classes of time series.

The changes to the underlying structure necessitated a substantial
re-write of
the user's guide, so I am taking the opportunity to bring the guide
up-to-date
with respect to R. A draft of the guide is available at the above web
site in
postscript and pdf files. The first nine sections, which cover material
in the previous version of the guide, are now mostly complete and I hope

correct. I would certainly appreciate comments. Some later sections,
which
cover new material, are still missing or incomplete.

The help has largely been converted to integrate with R's help. I have
not yet worked through all the examples, many of which were written with
fictitious data in mind, so it will be some time before "R CMD check
dse" works, however, most of my tests work in both Linux and Solaris.
These include:

   random.number.test()
   tframe.function.tests()
   dse1.function.tests()
   dse2.function.tests()
   dse3.function.tests()
   dse4.function.tests()
   guide.example.tests.part1()
   guide.example.tests.part2()

which cover a large part of the package. The comparison tolerances on
some of
the tests had to be relaxed in order to pass with R on Linux and R and
Splus 3.3
in Solaris. I would appreciate feedback about how the tests work on
other
platforms.

Paul Gilbert



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-announce mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-announce-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yudi at ucd.ie  Wed Nov 24 19:55:26 1999
From: yudi at ucd.ie (yudi@ucd.ie)
Date: Wed, 24 Nov 1999 18:55:26 +0000
Subject: [R] Need help..
Message-ID: <01JIQ5OG4B5E000M1W@CCSERV.UCC.IE>

> From:          Ajit K Jena <akj at its.hk-r.se>
> Subject:       [R] Need help..
> To:            r-help at stat.math.ethz.ch

> > pareto(1000, 1.06, 5000) -> k
> Pareto mean : theoritical 17666.67 generated 6125.007 
> 
What is guaranteed by the law of large numbers is that
(sum(x_i) - n*mu)= o(n), nothing more. This o(n) term
means o(n)/n goes to zero, but o(n) itself can be quite
big, even tending to infinity like n/log(n). 
Some probabilists have probably analysed the
Pareto case carefully.

We are on safe ground if variance exists, since in this case
the central limit theorem holds and the o(n) term above
is of order sqrt(n).

What is happening in the Pareto case is that the theoretical
large mean is determined by large deviations of tiny probabilities,
these events do not occur in simulation with n=5000. For
a = 1.06 you need to increase n to around 1000,000,000 (maybe), 
(I tried up to 10,000,000 and increase the observed mean
to around 12,000).

-Yudi-

------------------------------
Yudi Pawitan: yudi at stat.ucc.ie
Department of Statistics, UCC
Cork, Ireland
Ph : 353-21-902 906
Fax: 353-21-271 040
------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Nov 24 20:20:38 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Nov 1999 20:20:38 +0100
Subject: [R] Fit with constraints (fwd)
In-Reply-To: Douglas Bates's message of "23 Nov 1999 09:43:43 -0600"
References: <Pine.OSF.3.91.991122182724.19337B-100000@paleo.ija.csic.es> <19991123162805.31338@hal.stat.unipd.it> <6rhfidmcwg.fsf@franz.stat.wisc.edu>
Message-ID: <x24sebofw9.fsf@blueberry.kubism.ku.dk>

Douglas Bates <bates at stat.wisc.edu> writes:

> P.S. The main title and subtitle on those plots are in the wrong
>  positions.  Either I misunderstood the mtext function documentation or
>  there was a bug introduced in the graphics code sometime around
>  Nov. 20.  I'll file a bug report if I can confirm the bug.

Not sure that it is new, but it seems to be an unfortunate interaction
with the las=1 setting, causing text adjustment to be -um- different.
(A workaround is to set las=0 before the mtext call). 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Nov 24 20:36:32 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 24 Nov 1999 19:36:32 +0000 (GMT)
Subject: Means of pareto samples ([R] Need help..)
In-Reply-To: <Pine.LNX.4.10.9911241756070.8064-100000@maruti.itm.hk-r.se>
Message-ID: <Pine.GSO.4.05.9911241921250.18446-100000@auk.stats>

On Wed, 24 Nov 1999, Ajit K Jena wrote:

> I am trying to generate some Pareto random variates
> using the inverse method. This is really straightfoward
> and my R function looks as below :
> 
> pareto <- function(c, a, cnt=1000)
> {
> 	u <- runif(cnt)
> 
> 	x <- (c / ((u ^ (1 / a))))
> 
> 	mean.theo <- ((c * a) / (a - 1))
> 	mean.gen <- mean(x)
> 	cat('Pareto mean : theoritical', mean.theo, 
> 		'generated', mean.gen, '\n') 
> 
> 	return(x)
> }
> 
> I am also giving the outputs below to illustrate my
> point. I understand the point that as 'a' is less
> than 2.0, the variance does not exist. But as 'a'
> approaches 1.0, the mean goes down approximately to
> 1/3 of the theoritical mean. I understand it is
> getting slowly into unstable mean syndrome but I am
> really baffled that it should remain so low consistently.
> 
> Am I missing something here ? Can anyone please suggest
> some better method ? 

You need to be more patient. The mean is dominated by a few 
very large and very rare values, and those values are always 
positive.  The 99.99% point of your example with a=1.1 is about
4.5e6. Consider

> pareto(1000, 1.1, 50000) -> junk
[1] 141980763
Pareto mean : theoritical 11000 generated 10499.47 
> pareto(1000, 1.1, 50000) -> junk
[1] 19794974
Pareto mean : theoritical 11000 generated 6782.521 

where I am printing the maximum values generated. The sample mean is just
extremely variable, with a very long right tail to its distribution too.

What I really mean is that you can't expect to estimate the mean
by simulation. Hopefully what you really want this for is less
sensitive. It is possible that you will see problems with poor
PRNGs in studying extremal behaviour, but I no evidence that is the 
issue here.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Nov 24 20:41:18 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Nov 1999 20:41:18 +0100
Subject: Summary: [R] Wanted: online Introduction to R
In-Reply-To: Clive Jenkins's message of "Mon, 22 Nov 1999 22:12:23 +0000"
References: <382C2C2C.A3DD277A@clara.net> <3839BFC7.27C90695@clara.net>
Message-ID: <x21z9foext.fsf@blueberry.kubism.ku.dk>

Clive Jenkins <clive.jenkins at clara.net> writes:

> An excellent on-line book for the more advanced reader, especially
> chapters 14 and 15 that deal with Statistics and Data Modeling:
> "Numerical Recipes in C: the Art of Scientific Computing" (ISBN
> 0-521-43108-5) Copyright (C) 1988-1992 by Cambridge University Press. A
> Fortran version is also available, and both exist in PostScript and PDF.
> http://www.ulib.org/webRoot/Books/Numerical_Recipes/

Um, not to put too fine a point on it: That is not a book I'd
recommend, and particularly not for the statistics sections. It's a
reasonable introductory text to numerical analysis subjects, but
according to people who really know the stuff, it is not to be trusted
in the details (there's an online reference to the criticism, but I
can't remember it offhand), and their software licencing is.... (don't
get me started!)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From clive.jenkins at clara.net  Wed Nov 24 21:53:30 1999
From: clive.jenkins at clara.net (Clive Jenkins)
Date: Wed, 24 Nov 1999 20:53:30 +0000
Subject: Summary: [R] Wanted: online Introduction to R
References: <382C2C2C.A3DD277A@clara.net> <3839BFC7.27C90695@clara.net> <x21z9foext.fsf@blueberry.kubism.ku.dk>
Message-ID: <383C504A.48FF0A72@clara.net>

Peter Dalgaard BSA wrote:
> 
> Clive Jenkins <clive.jenkins at clara.net> writes:
> 
> > An excellent on-line book for the more advanced reader, especially
> > chapters 14 and 15 that deal with Statistics and Data Modeling:
> > "Numerical Recipes in C: the Art of Scientific Computing" (ISBN
> > 0-521-43108-5) Copyright (C) 1988-1992 by Cambridge University Press. A
> > Fortran version is also available, and both exist in PostScript and PDF.
> > http://www.ulib.org/webRoot/Books/Numerical_Recipes/
> 
> Um, not to put too fine a point on it: That is not a book I'd
> recommend, and particularly not for the statistics sections. It's a
> reasonable introductory text to numerical analysis subjects, but
> according to people who really know the stuff, it is not to be trusted
> in the details (there's an online reference to the criticism, but I
> can't remember it offhand), and their software licencing is.... (don't
> get me started!)
> 
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

OK, I stand corrected. What I wrote was not from the point of view of a 
reviewer who has thoroughly researched the field. I am no specialist in 
statistics and write with no authority. However, out of the limited 
amount of material that I did find on the web, this book did provide me 
with a lot of useful formulae for various distributions, t-tests, 
F-tests, chi^2, regression ... and all the things that are probably
taken
for granted by those whose daily lives are dedicated to Statistics.

If any of you know of better on-line resources, then please spare a 
minute and enlighten us.

Clive Jenkins.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bolker at zoo.ufl.edu  Wed Nov 24 22:51:25 1999
From: bolker at zoo.ufl.edu (Ben Bolker)
Date: Wed, 24 Nov 1999 16:51:25 -0500 (EST)
Subject: Summary: [R] Wanted: online Introduction to R
In-Reply-To: <x21z9foext.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.10.9911241645540.574-100000@bolker.zoo.ufl.edu>



http://math.jpl.nasa.gov/nr/

 This also gives a link to a rebuttal (http://www.nr.com/bug-rebutt.html)
[which addresses the issue of bugs but not of questionable/inefficient
methods].

  I looked recently at the web site given below, and it appears that NR's
licensing policy is less ridiculous than it used to be: it used to be
"one-CPU", now it's "one-screen", which is still a little bit weird (and
grating given that so much of their code is implementations of other
people's algorithms in the public domain, and that---if they had even a
half-decent contract with their publisher---they've made lots of
(well-deserved) money from the book) but I can see what they're trying to
do.

On 24 Nov 1999, Peter Dalgaard BSA wrote:

> Clive Jenkins <clive.jenkins at clara.net> writes:
> 
> > An excellent on-line book for the more advanced reader, especially
> > chapters 14 and 15 that deal with Statistics and Data Modeling:
> > "Numerical Recipes in C: the Art of Scientific Computing" (ISBN
> > 0-521-43108-5) Copyright (C) 1988-1992 by Cambridge University Press. A
> > Fortran version is also available, and both exist in PostScript and PDF.
> > http://www.ulib.org/webRoot/Books/Numerical_Recipes/
> 
> Um, not to put too fine a point on it: That is not a book I'd
> recommend, and particularly not for the statistics sections. It's a
> reasonable introductory text to numerical analysis subjects, but
> according to people who really know the stuff, it is not to be trusted
> in the details (there's an online reference to the criticism, but I
> can't remember it offhand), and their software licencing is.... (don't
> get me started!)
> 
> 

-- 
--------------------------------------------
Ben Bolker                                  bolker at zoo.ufl.edu
Zoology Department, University of Florida   http://www.zoo.ufl.edu/bolker
318 Carr Hall/Box 118525                    tel: (352) 392-5697
Gainesville, FL 32611-8525                  fax: (352) 392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From denis at mail.cor.epa.gov  Wed Nov 24 23:03:56 1999
From: denis at mail.cor.epa.gov (Denis White)
Date: Wed, 24 Nov 1999 14:03:56 -0800 (PST)
Subject: [R] cex in matpoints
Message-ID: <199911242203.OAA24682@okapi.cor.epa.gov>

R graphics:

points ( .., pch= , cex= ) adjusts size, but
matpoints ( .., pch= , cex= ) does not.

Feature? Bug?

thanks
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rls at pincock.com  Wed Nov 24 23:22:39 1999
From: rls at pincock.com (Robert L. Sandefur)
Date: Wed, 24 Nov 1999 14:22:39 -0800
Subject: [R] Re: R 0.90.0 for Windows rwinst fails (for me) and workaround
Message-ID: <s83bf4cf.004@hc4>

hi-
 I downloaded r 0.90.0 for windows and ran rwinst.exe and the base package would not install for me. I had to unzip 
rw0900b1.zip and r20900b2.zip manually and then do the rest of install with rwinst. Is this due to b being replaced
by b1 and b2?

Robert (Bob) L Sandefur
Principal Geostatistician 
PAH
rls at pincock.com (primary)
rlsandefur at aol.com (secondary)
303 914 4467 v
393 987-8907 f



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kimh at corvu.com.au  Wed Nov 24 23:23:10 1999
From: kimh at corvu.com.au (Kim Horn)
Date: Thu, 25 Nov 1999 09:23:10 +1100
Subject: Summary: [R] Wanted: online Introduction to R
Message-ID: <01BF3726.B16FEAD0.kimh@corvu.com.au>

I agree with the  the comments below on "Numerical recipes".
We developed some commercial software using the code and
tried to get a licence. They never responded to our corresponce :-)

We also mailed them fixes to some bugs !!! but never heard anything.

So we threw their code away and wrote our own... 
it was a waste of time using the book.

Kim

On Thursday, 25 November 1999 6:41, Peter Dalgaard BSA [SMTP:p.dalgaard at biostat.ku.dk] wrote:
> Clive Jenkins <clive.jenkins at clara.net> writes:
> 
> > An excellent on-line book for the more advanced reader, especially
> > chapters 14 and 15 that deal with Statistics and Data Modeling:
> > "Numerical Recipes in C: the Art of Scientific Computing" (ISBN
> > 0-521-43108-5) Copyright (C) 1988-1992 by Cambridge University Press. A
> > Fortran version is also available, and both exist in PostScript and PDF.
> > http://www.ulib.org/webRoot/Books/Numerical_Recipes/
> 
> Um, not to put too fine a point on it: That is not a book I'd
> recommend, and particularly not for the statistics sections. It's a
> reasonable introductory text to numerical analysis subjects, but
> according to people who really know the stuff, it is not to be trusted
> in the details (there's an online reference to the criticism, but I
> can't remember it offhand), and their software licencing is.... (don't
> get me started!)
> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-------------------------------------------------------
Kim Horn
Product Manager Data Mining
Corvu Australia Pty Ltd
Level 4, 1 James Place
North Sydney NSW 2060 Australia
Telephone: 61 2 9959 3522
Facsimile:   61 2 9959 3583
www.corvu.com
--------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Nov 24 23:30:36 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Nov 1999 23:30:36 +0100
Subject: [R] cex in matpoints
In-Reply-To: Denis White's message of "Wed, 24 Nov 1999 14:03:56 -0800 (PST)"
References: <199911242203.OAA24682@okapi.cor.epa.gov>
Message-ID: <x24sebfroz.fsf@blueberry.kubism.ku.dk>

Denis White <denis at mercury.cor.epa.gov> writes:

> R graphics:
> 
> points ( .., pch= , cex= ) adjusts size, but
> matpoints ( .., pch= , cex= ) does not.
> 
> Feature? Bug?

Um, let's say incompletely implemented feature... 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rls at pincock.com  Wed Nov 24 23:34:26 1999
From: rls at pincock.com (Robert L. Sandefur)
Date: Wed, 24 Nov 1999 14:34:26 -0800
Subject: [R] R 0.90.0 for Windows rwinst fails (for me) and workaround
Message-ID: <s83bf79c.015@hc4>

hi-
 I downloaded r 0.90.0 for windows and ran rwinst.exe and the base package would not install for me. I had to unzip 
rw0900b1.zip and r20900b2.zip manually and then do the rest of install with rwinst. Is this due to b being replaced
by b1 and b2?

Robert (Bob) L Sandefur
Principal Geostatistician 
PAH
rls at pincock.com (primary)
rlsandefur at aol.com (secondary)
303 914 4467 v
393 987-8907 f

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Nov 24 23:53:35 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 24 Nov 1999 22:53:35 +0000 (GMT)
Subject: [R] Re: R 0.90.0 for Windows rwinst fails (for me) and workaround
In-Reply-To: <s83bf4cf.004@hc4>
Message-ID: <Pine.GSO.4.05.9911242243280.18811-100000@auk.stats>

On Wed, 24 Nov 1999, Robert L. Sandefur wrote:

>  I downloaded r 0.90.0 for windows and ran rwinst.exe and
the base package would not install for me. 

What does that mean? Could you tell us the exact error message?

> I had to unzip 
> rw0900b1.zip and r20900b2.zip manually and then do 
the rest of install with rwinst. Is this due to b being replaced
> by b1 and b2?

Did you also download the matching rwinst.exe?  I did and that it ran
perfectly for me, and I am sure Guido tested it before release.  You cannot
mix and match here: there are several new features in the installer too.

We split the b.zip to keep things under one floppy in size. (Yes, I know
the docs zip is bigger than one floppy, but the zipped Reference manual
alone is.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Thu Nov 25 02:15:36 1999
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Wed, 24 Nov 1999 20:15:36 -0500
Subject: [R] Zooming plots?
Message-ID: <005201bf36e2$94a17020$6328acce@bellglobal.com>

Hi,

Is it possible to zoom in or out on a plot?

If not it would be nice if it was implemented in a similar fashion a what
Matlab can do. This is only a suggestion no offence intended.

Thanks in advance.

Yves Gauvreau

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Thu Nov 25 09:52:46 1999
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Thu, 25 Nov 1999 09:52:46 +0100
Subject: Summary: [R] Wanted: online Introduction to R
Message-ID: <3.0.32.19991125095245.00909df0@162.38.183.200>

At 16:51 24/11/99 -0500, you wrote:
>http://math.jpl.nasa.gov/nr/
>
> This also gives a link to a rebuttal (http://www.nr.com/bug-rebutt.html)
>[which addresses the issue of bugs but not of questionable/inefficient
>methods].

About the issue of the efficiency of the Numerical Recipes, for instance:

Antoch, J. et al. (1998) Revisiting the pseudorandom number generator ran1
from the numerical recipes. Computational Statistics & Data Analysis
27:487-495.

These authors wrote:

"We show experimentally that the main problem is not in the implementation
of these generators but in "their definition"."


This seems more than a "distressing rumor".


Emmanuel Paradis
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Thu Nov 25 12:22:02 1999
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Thu, 25 Nov 1999 11:22:02 +0000 (GMT)
Subject: Summary: [R] Wanted: online Introduction to R
In-Reply-To: <3.0.32.19991125095245.00909df0@162.38.183.200>
Message-ID: <Pine.LNX.4.10.9911251106170.12594-100000@localhost.localdomain>

On web intro stats textbooks---first I wonder why not get a cheap used old
textbook? There are some stats textbooks on the web. Here's some:

http://www.anu.edu.au/nceph/surfstat/main/surfstat.html
http://www.stat.ucla.edu/textbook/
http://davidmlane.com/hyperstat/index.html
http://www.psychstat.smsu.edu/introbook/sbk00.htm
http://www.stat.berkeley.edu/~stark/SticiGui/Text/index.htm

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Nov 25 11:53:02 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 Nov 1999 11:53:02 +0100
Subject: Summary: [R] Wanted: online Introduction to R
In-Reply-To: Bill Simpson's message of "Thu, 25 Nov 1999 11:22:02 +0000 (GMT)"
References: <Pine.LNX.4.10.9911251106170.12594-100000@localhost.localdomain>
Message-ID: <x2d7syrgfl.fsf@blueberry.kubism.ku.dk>

Bill Simpson <wsi at gcal.ac.uk> writes:

> On web intro stats textbooks---first I wonder why not get a cheap used old
> textbook? There are some stats textbooks on the web. Here's some:
> 
> http://www.anu.edu.au/nceph/surfstat/main/surfstat.html
> http://www.stat.ucla.edu/textbook/
> http://davidmlane.com/hyperstat/index.html
> http://www.psychstat.smsu.edu/introbook/sbk00.htm
> http://www.stat.berkeley.edu/~stark/SticiGui/Text/index.htm
> 
> Bill

Middle one looks promising (but be careful, there are jokes links off
of the page. Excellent time sink...)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From karen at gecko.biol.wits.ac.za  Thu Nov 25 14:14:53 1999
From: karen at gecko.biol.wits.ac.za (KAREN KOTSCHY)
Date: Thu, 25 Nov 1999 14:14:53 GMT+2
Subject: [R] desperate!
Message-ID: <201CA0031@gecko.biol.wits.ac.za>

Dear R community

I sent a message out a while ago asking for help with multiple 
comparison tests for ANOVA's, but haven't had any response yet. 
I'm sending a final desperate plea. If I can't get this done in R I'm 
going to have to redo a whole lot of stuff in a commercial package, 
which I'm REALLY not keen to do!

My problem is how to implement these tests in R. Below is some 
code posted by Thomas Lumley which I might be able to use 
(sorry, I forgot to include the code in my last email). But I'm battling 
to follow what this code exactly does (especially the last bit). How 
would I link it to the ANOVA results? What sort of output would 
these functions give me - adjusted p values?  How would I then 
interpret these?

I'd really appreciate any help!!!

-----------------
Code for Bonferroni, Holm and Hochberg post hoc tests:

p.adjust.holm <- function(p, n=length(p)) {
   ##n <- length(p)
   r <- rank(p)
   index <- order(p)
   qi <- p*(n+1-r)
   for (i in 2:length(p)) {
        qi[index[i]] <- max(qi[index[i+1]])
        }
   list(adjp=pmin(qi, 1), p=p, method="Holm")
}

p.adjust.hochberg <- function(p) {
   n <- length(p)
   r <- rank(p)
   index <- order(p)
   qi <- p*(n+1-r)
   for (i in (n-1):1) {
        qi[index[i]] <- min(qi[index[i]], qi[index[i+1]])
        }
   list(adjp=qi, p=p, method="Hochberg")
}

p.adjust.bonferroni <- function(p, n=length(p)) {
   list(adjp=pmin(p*n, 1), p=p, method="Bonferroni")
   }
------------------
p.adjust <- function(p, method=c("hochberg", "holm",  
"bonferroni"),...) {
   how <- pmatch(method[1], c("hochberg", "holm",  "bonferroni"))
   if(is.na(how) stop(paste("Don't know method"))
   m <- match.call()
   m[[1]] <- as.name(paste("p.adjust", c("hochberg", "holm",            
          "bonferroni")[how], sep="."))
   m$method <- NULL
   eval(m, sys.parent())
}
---------------------

Karen Kotschy
Centre for Water in the Environment
Department of Animal, Plant and Environmental sciences
University of the Witwatersrand
Johannesburg
South Africa
Tel : +2911 716-2218

Postal address:
P/Bag 3
P.O Wits
2050
South Africa
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at alpha.luc.ac.be  Thu Nov 25 17:00:25 1999
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Thu, 25 Nov 1999 17:00:25 +0100 (MET)
Subject: [R] gnls
Message-ID: <199911251600.RAA20086@alpha.luc.ac.be>

Doug,
  I have been attempting to learn a little bit about nlme without too
much documentation except the online help. The Latex file in the nlme
directory looks interesting but uses packages that I do not have so
that I have not been able to read it.
  I have run the example from gnls to compare it with the results I
get from my libraries (code below - I have not included output as it
is rather long and easy to reproduce).
  For the model with variance a power function of the mean (fm1), I
get very similar results with a slightly better log likelihood fit.
  For the AR(1) (fm2), I get a very much better fit using a continuous
AR(1) with my elliptic function. At first, looking at the
autocorrelation produced, I thought this was because gnls was
erroneously assuming a discrete AR with equally-spaced unit time
intervals when the data are in fact unequally space. (Note that, in
contrast to dataframes, this kind of error is impossible with my data
objects because the times must be associated with the response values
for such models to be fitted.) So I tricked my data objects and
functions into fitting the discrete time AR. The resulting model fits
a lot worse than the (correct) CAR but still very much better than that
from gnls. Something else appears to be wrong but I am not sure what.
  Fitting the AR(1) with gnls is also extremely slow: that one model
takes longer than the time fitting all of the others together in the
file below.
  I shall continue exploring nlme... Jim

---------------------------------------------------------------------------
library(nlme)
library(growth)

#example from gnls
data(Soybean)
# variance increases with a power of the absolute fitted values
summary(fm1 <- gnls(weight ~ SSlogis(Time, Asym, xmid, scal), Soybean,
            weights = varPower()))
# errors follow an auto-regressive process of order 1
summary(fm2 <- gnls(weight ~ SSlogis(Time, Asym, xmid, scal), Soybean,
            correlation = corAR1()))

# lines commented out are for fitting a discrete time AR(1)

# construct data objects from dataframe
soybean <- list()
#ctimes <- list()
plot <- variety <- year <- NULL
for(i in as.character(unique(Soybean[1]))){
	soybean <- c(soybean,list(as.matrix(Soybean[5:4][Soybean[1]==i,])))
# for discrete time AR(1), correct times must be stored as a
#time-varying covariate
#	soybean <- c(soybean,list(cbind(Soybean[5][Soybean[1]==i],
#		1:length(Soybean[5][Soybean[1]==i]))))
#	ctimes <- c(ctimes,list(as.matrix(Soybean[4][Soybean[1]==i])))
	plot <- c(plot,Soybean[1][Soybean[1]==i][1])
	variety <- c(variety,Soybean[2][Soybean[1]==i][1])
	year <- c(year,Soybean[3][Soybean[1]==i][1])}
# unfortunately, category names of factor variables were lost here by c()
data <- rmna(restovec(soybean),
	ccov=tcctomat(data.frame(plot,variety=variety-1,
	year=as.factor(year)),dataframe=F))
# for discrete time AR(1)
#data <- rmna(restovec(soybean),
#	ccov=tcctomat(data.frame(plot,variety=variety-1,
#	year=as.factor(year)),dataframe=F),tvc=tvctomat(ctimes,name="ctimes"))
#rm(Soybean,soybean,plot,variety,year,ctimes)
rm(Soybean,soybean,plot,variety,year)

# builtin four-parameter generalized logistic curve
elliptic(data,model="logistic",preg=c(-1,3,-10,3))
# with AR(1)
elliptic(data,model="logistic",preg=c(-1,3,-10,3),par=0.8)

# standard logistic growth curve
elliptic(data,model=~Asym/(1+exp((xmid-times)/scal)),preg=c(20,50,10))

# when variance depends on mean, must use functions instead of formulae
# same logistic growth curve
mu <- function(p) p[1]/(1+exp((p[2]-times)/p[3]))
elliptic(data,model=mu,preg=c(17,50,8))
# variance increases with power of absolute fitted values: model fm1
# note: function for log(variance) is fitted
shape <- function(p,mu) p[1]*log(abs(mu))+p[2]
elliptic(data,model=mu,preg=c(17,50,8),varfn=shape,pvar=c(1,2),shfn=T)

# CAR(1): model fm2
elliptic(data,model=~Asym/(1+exp((xmid-times)/scal)),preg=c(17,50,8),par=0.5)
# fit the discrete time AR(1)
#elliptic(data,model=~Asym/(1+exp((xmid-ctimes)/scal)),preg=c(17,50,8),par=0.5)
# CAR(1) and variance depending on mean
elliptic(data,model=mu,preg=c(19,55,8),varfn=shape,pvar=c(1,2),shfn=T,par=0.95)

# fix power of the mean at 2 in variance function
shape2 <- function(p,mu) 2*log(abs(mu))+p[1]
elliptic(data,model=mu,preg=c(19,55,8),varfn=shape2,pvar=-2,shfn=T,par=0.95)
# dependence of the variance on time with the same function as the mean but
# different parameters
elliptic(data,model=~Asym/(1+exp((xmid-times)/scal)),preg=c(17,50,8),
	varfn=~log(Asym/(1+exp((xmid-times)/scal))),pvar=c(3,10,1),par=0.95)
# random intercept?
elliptic(data,model=mu,preg=c(17,51,7.5),varfn=shape,pvar=c(1.8,-2),
	shfn=T,par=0.9,pre=1)

# check if thick tails
# multivariate Student t
elliptic(data,model=mu,preg=c(17,51,7.5),varfn=shape,pvar=c(1.8,-2),shfn=T,
	par=0.9,dist="Student",pell=1)
# multivariate power exponential
elliptic(data,model=mu,preg=c(17,51,7.5),varfn=shape,pvar=c(1.8,-2),shfn=T,
	par=0.9,dist="power exp",pell=1)

# the following could be more easily done with formulae if the variance
# did not depend on the mean
#asymptote depends on variety?
mu2 <- function(p) (p[1]+p[4]*variety)/(1+exp((p[2]-times)/p[3]))
elliptic(data,model=mu2,preg=c(17,52,7.5,0),varfn=shape,pvar=c(1.8,-2.2),
	shfn=T,par=0.9,dist="Student",pell=6.5)
# also on year?
mu3 <- function(p) (p[1]+p[4]*variety+p[5]*year2+p[6]*year3)/
	(1+exp((p[2]-times)/p[3]))
elliptic(data,model=mu3,preg=c(14.5,52,7.5,4.5,0,0),varfn=shape,
	pvar=c(1.8,-2.2),shfn=T,par=0.9,dist="Student",pell=8)
# etc.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mjantti at ra.abo.fi  Thu Nov 25 17:48:42 1999
From: mjantti at ra.abo.fi (Markus Jantti)
Date: Thu, 25 Nov 1999 18:48:42 +0200
Subject: [R] tapply and weighted.mean
Message-ID: <19991125184842.23212@medusa.abo.fi>

I am trying to use tapply to estimate the average wage in a set of
Year*Education cells using sampling weights, as well as some other
other statistics using the weights). I am having trouble trying
to figure out how to pass the weights to the function, using: 

> tapply(wage,list(Educc,Year),weighted.mean, w=weight)

whieh produces warnings of the type: 

3: longer object length
	is not a multiple of shorter object length in: x * w

The reason for this became obvious on inspecting the code for
tapply. The extra argument 'w=weight' gets passed in its entirety to
FUN ('weighted.mean'), as of course would be expected for an argument
such as 'trim'. Thus, apparently all of 'weight' gets passed to the
function weighted.mean and thus only the first n(i,j) weights in every
cell, rather than the weight that apply to the observations in a
particular cell. 

I am unable, unfortunately, to figure out how to implement a function
that would take the weights as an argument. For instance,
experimentation showed that 

> tapply(cbind(wage,weight),list(Educc,Year),
	function(x) weighted.mean(x[,1],x[,2]))

was just as unsuccessful. I suspect there is a fairly simple solution 
to this, but I fail to see what it is and trial-and-error has not been 
helpful.  I would greatly appreciate any help. 



Regards,

Markus
-- 
Markus Jantti				|	Department of Statistics
markus.jantti at abo.fi			|	Abo Akademi University
http://www.abo.fi/~mjantti		|	FIN 20500 Turku, Finland
358-9-643 747  (Home/Voice)		|	358-2-2154 161	(Office/Voice)
					|	358-2-2154 677	(Office/Fax)
PGP public key: http://www.abo.fi/~mjantti/pubring.asc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jan.Schelling at hydro.com  Fri Nov 26 08:42:47 1999
From: Jan.Schelling at hydro.com (Jan.Schelling@hydro.com)
Date: Fri, 26 Nov 1999 08:42:47 +0100
Subject: [R] tapply and weighted.mean
Message-ID: <C1256835.002A5DFB.00@osla28smtp.hda.hydro.com>



Try passing an index rather than the data itself:


tapply(seq(along=wage), list(Educc,Year), function(i, x=wage, w=weight)
weighted.mean(x[i], w[i]))



regards

Jan

--

Jan Schelling
Norsk Hydro
Research Centre
N - 3925 Porsgrunn



----------question:----------------

mjantti at ra.abo.fi on 99-11-25 04:48 PM GMT

I am trying to use tapply to estimate the average wage in a set of
      Year*Education cells using sampling weights, as well as some other
      other statistics using the weights). I am having trouble trying
      to figure out how to pass the weights to the function, using:

> tapply(wage,list(Educc,Year),weighted.mean, w=weight)

whieh produces warnings of the type:

3: longer object length
     is not a multiple of shorter object length in: x * w

The reason for this became obvious on inspecting the code for
tapply. The extra argument 'w=weight' gets passed in its entirety to
FUN ('weighted.mean'), as of course would be expected for an argument
such as 'trim'. Thus, apparently all of 'weight' gets passed to the
function weighted.mean and thus only the first n(i,j) weights in every
cell, rather than the weight that apply to the observations in a
particular cell.

I am unable, unfortunately, to figure out how to implement a function
that would take the weights as an argument. For instance,
experimentation showed that

> tapply(cbind(wage,weight),list(Educc,Year),
     function(x) weighted.mean(x[,1],x[,2]))

was just as unsuccessful. I suspect there is a fairly simple solution
to this, but I fail to see what it is and trial-and-error has not been
helpful.  I would greatly appreciate any help.



Regards,

Markus
--
Markus Jantti                 |    Department of Statistics
markus.jantti at abo.fi               |     Abo Akademi University
http://www.abo.fi/~mjantti         |     FIN 20500 Turku, Finland
358-9-643 747  (Home/Voice)        |     358-2-2154 161      (Office/Voice)
                         |    358-2-2154 677  (Office/Fax)
PGP public key: http://www.abo.fi/~mjantti/pubring.as


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From caix at isdux1.bham.ac.uk  Fri Nov 26 12:44:33 1999
From: caix at isdux1.bham.ac.uk (Dr X Cai)
Date: Fri, 26 Nov 1999 11:44:33 GMT
Subject: [R] compiling R-0.90.0 on alpha-dec-osf4.0
Message-ID: <199911261144.LAA0000013362@isdux1.bham.ac.uk>


I am compiling R-0.90.0 on alpha-dec-osf4.0 and it stops by giving the
following message:

cc: Error: ../../../R/src/main/gram.y, line 1365: In this declaration, parameter 1 has a different type than specified in an earlier declaration of this function.
SEXP mkString(const char *s)
-----^
cc: Error: ../../../R/src/main/gram.y, line 1365: In this declaration, the type of "mkString" is not compatible with the type of a previous declaration of "mkString" at line number 378 in file ../include/Rinternals.h.
SEXP mkString(const char *s)
-----^
gmake[3]: *** [gram.o] Error 1
gmake[3]: Leaving directory `/home/ming/R-0.90.0/src/main'
gmake[2]: *** [R] Error 2
gmake[2]: Leaving directory `/home/ming/R-0.90.0/src/main'
gmake[1]: *** [R] Error 1
gmake[1]: Leaving directory `/home/ming/R-0.90.0/src'
gmake: *** [R] Error 1


Your help would be greatly appreciated.
-- 

                                     Xiaoming Cai
                                     School of Geography and
                                       Environmental Sciences
      .&______~*@*~______&.          University of Birmingham
    "w/%%%%%%%%%%%%%%%%%%%\w"        Edgbaston, Birmingham
      `Y""Y""Y"""""Y""Y""Y'          B15 2TT United Kingdom
   p-p_|__|__|_____|__|__|_q-q       Tel: 44 (121) 414-5533 (O)
_-[EEEEM==M==MM===MM==M==MEEEE]-_    Fax: 44 (121) 414-5528
                                     Email: x.cai at bham.ac.uk
 which will be directed to the alternative: caix at isdugp.bham.ac.uk
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From oka at debian.or.jp  Fri Nov 26 17:44:36 1999
From: oka at debian.or.jp (Mitsuru Oka)
Date: Sat, 27 Nov 1999 01:44:36 +0900
Subject: [R] compiling R-0.90.0 on alpha-dec-osf4.0
In-Reply-To: In your message of "Fri, 26 Nov 1999 11:44:33 GMT"
	<199911261144.LAA0000013362@isdux1.bham.ac.uk>
References: <199911261144.LAA0000013362@isdux1.bham.ac.uk>
Message-ID: <14398.47348.263580.63980S@kmserver.aist-nara.ac.jp>


At Fri, 26 Nov 1999 11:44:33 GMT,
Dr X Cai <caix at isdux1.bham.ac.uk> wrote:
> 
> I am compiling R-0.90.0 on alpha-dec-osf4.0 and it stops by giving the
> following message:
> 
> cc: Error: ../../../R/src/main/gram.y, line 1365: In this declaration, parameter 1 has a different type than specified in an earlier declaration of this function.
> SEXP mkString(const char *s)
> -----^
> cc: Error: ../../../R/src/main/gram.y, line 1365: In this declaration, the type of "mkString" is not compatible with the type of a previous declaration of "mkString" at line number 378 in file ../include/Rinternals.h.
> SEXP mkString(const char *s)
> -----^

It's a prank of bison. Bison generate following code.

  #ifndef __cplusplus
  #ifndef __STDC__
  #define const
  #endif
  #endif

`SEXP mkString(const char *s)' is replaced to
`SEXP mkString(char *s)' by preprocessor.
And, cc compiler is too strict to ignore the difference
bettween type `char *' and `const char *' defined in Rinternals.h.

My configure option is here:

  CC=cc CFLAGS='-O5 -I/usr/local/include -std' CPPFLAGS='-O5 -I/usr/local/include' FFLAGS='-O5' ./configure --with-f77 --with-readline

`-std' option defines __STDC__, and then compile will be successful.
--
Mitsuru Oka
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Fri Nov 26 20:33:01 1999
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Fri, 26 Nov 1999 20:33:01 +0100 (CET)
Subject: [R] compiling R-0.90.0 on alpha-dec-osf4.0
In-Reply-To: <14398.47348.263580.63980S@kmserver.aist-nara.ac.jp>
References: <199911261144.LAA0000013362@isdux1.bham.ac.uk>
	<14398.47348.263580.63980S@kmserver.aist-nara.ac.jp>
Message-ID: <14398.57453.765951.973990@fangorn.ci.tuwien.ac.at>

>>>>> Mitsuru Oka writes:

> At Fri, 26 Nov 1999 11:44:33 GMT,
> Dr X Cai <caix at isdux1.bham.ac.uk> wrote:
>> 
>> I am compiling R-0.90.0 on alpha-dec-osf4.0 and it stops by giving the
>> following message:
>> 
>> cc: Error: ../../../R/src/main/gram.y, line 1365: In this declaration, parameter 1 has a different type than specified in an earlier declaration of this function.
>> SEXP mkString(const char *s)
>> -----^
>> cc: Error: ../../../R/src/main/gram.y, line 1365: In this declaration, the type of "mkString" is not compatible with the type of a previous declaration of "mkString" at line number 378 in file ../include/Rinternals.h.
>> SEXP mkString(const char *s)
>> -----^

> It's a prank of bison. Bison generate following code.

>   #ifndef __cplusplus
>   #ifndef __STDC__
>   #define const
>   #endif
>   #endif

> `SEXP mkString(const char *s)' is replaced to
> `SEXP mkString(char *s)' by preprocessor.
> And, cc compiler is too strict to ignore the difference
> bettween type `char *' and `const char *' defined in Rinternals.h.

> My configure option is here:

>   CC=cc CFLAGS='-O5 -I/usr/local/include -std' CPPFLAGS='-O5 -I/usr/local/include' FFLAGS='-O5' ./configure --with-f77 --with-readline

> `-std' option defines __STDC__, and then compile will be successful.
> --

Albrecht Gebhardt had the same bug report a few days ago.  I don't quite
understand what is going on.  configure checks (via AC_C_CONST) whether
`const' works fine.  If not, it defines const as empty in Rdefines.h.
This in turn gets included in all of our source files.  So how can it
happen that const is empty in one place and not in another?

What happens in your Rdefines.h?

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From oka at debian.or.jp  Fri Nov 26 21:18:54 1999
From: oka at debian.or.jp (Mitsuru Oka)
Date: Sat, 27 Nov 1999 05:18:54 +0900
Subject: [R] compiling R-0.90.0 on alpha-dec-osf4.0
In-Reply-To: In your message of "Fri, 26 Nov 1999 20:33:01 +0100 (CET)"
	<14398.57453.765951.973990@fangorn.ci.tuwien.ac.at>
References: <199911261144.LAA0000013362@isdux1.bham.ac.uk>
	<14398.47348.263580.63980S@kmserver.aist-nara.ac.jp>
	<14398.57453.765951.973990@fangorn.ci.tuwien.ac.at>
Message-ID: <14398.60206.353086.82635W@kmserver.aist-nara.ac.jp>


At Fri, 26 Nov 1999 20:33:01 +0100 (CET),
Kurt Hornik <Kurt.Hornik at ci.tuwien.ac.at> wrote:
> 
> >>>>> Mitsuru Oka writes:
> 
> > It's a prank of bison. Bison generate following code.
> 
> >   #ifndef __cplusplus
> >   #ifndef __STDC__
> >   #define const
> >   #endif
> >   #endif
> 
> > `SEXP mkString(const char *s)' is replaced to
> > `SEXP mkString(char *s)' by preprocessor.
> > And, cc compiler is too strict to ignore the difference
> > bettween type `char *' and `const char *' defined in Rinternals.h.
> 
> > `-std' option defines __STDC__, and then compile will be successful.
> > --
> 
> Albrecht Gebhardt had the same bug report a few days ago.  I don't quite
> understand what is going on.  configure checks (via AC_C_CONST) whether
> `const' works fine.  If not, it defines const as empty in Rdefines.h.
> This in turn gets included in all of our source files.  So how can it
> happen that const is empty in one place and not in another?

const work fine in alpha cc compiler, and mkString prototype
is parsed normally defined in Rinternals.h, but mkString
prototype in gram.c generated by bison is distorted by
preprocessor macro `const'.

--
Mitsuru Oka
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at alpha.luc.ac.be  Sat Nov 27 09:27:12 1999
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Sat, 27 Nov 1999 09:27:12 +0100 (MET)
Subject: [R] lme
Message-ID: <199911270827.JAA06818@alpha.luc.ac.be>

Doug,
  I thought perhaps that you might be interested in the comparison of
lme to the results for the same models fitted by Richard Jones' carma
(I just wrote the R interface to his Fortran code). The code to run
the example from the lme help and for the equivalent with carma is in
the file below.
  The two main differences in results are
1. the random coefficients covariance matrix is quite different
because lme takes the time origin as zero age whereas carma centres
times at the mean (here age). This arbitrariness of results is one of
the fundamental problems with random time coefficient models.
2. carma gives the true full likelihood whereas lme gives the so-called
restricted likelihood. In my opinion, substituting the REML estimate
obtained from the marginal or conditional likelihood back into the
full likelihood makes no sense.
  Best wishes, Jim

------------------------------------------------------------------------
library(nlme)
library(growth)

# example from lme
data(Orthodont)
summary(fm1 <- lme(distance ~ age, data = Orthodont)) # random is ~ age
summary(fm2 <- lme(distance ~ age + Sex, data = Orthodont, random = ~ 1))

# set up data object
distance <- matrix(Orthodont[1],ncol=4,byrow=T)
age <- matrix(Orthodont[2],ncol=4,byrow=T)
sex <- Orthodont[4][seq(4,108,by=4)]
data <- rmna(restovec(distance,times=age),ccov=tcctomat(sex))
rm(Orthodont,age,sex,distance)

#model fm1
carma(data,torder=1,pre=rep(1,3),pos=rbind(c(1,1),c(2,2),c(1,2)))
# uncorrelated random coefficients
carma(data,torder=1,pre=rep(1,2),pos=rbind(c(1,1),c(2,2)))
#model fm2
carma(data,ccov=~sex,torder=1,pre=1,pos=c(1,1))
# random coefficient for age
carma(data,ccov=~sex,torder=1,pre=rep(1,2),pos=rbind(c(1,1),c(2,2)))
# quadratic in age
carma(data,ccov=~sex,torder=2,pre=1,pos=c(1,1))
# uncorrelated random coefficients for age
carma(data,ccov=~sex,torder=2,pre=rep(1,3),pos=rbind(c(1,1),c(2,2),c(3,3)))
# random intercept and AR(1)
carma(data,ccov=~sex,torder=1,pre=1,pos=c(1,1),arma=c(1,0,0),par=0.5)
# interaction between sex and time
carma(data,ccov=~sex,torder=1,inter=1,pre=1,pos=c(1,1))
# interaction between sex and quadratic time
carma(data,ccov=~sex,torder=2,inter=2,pre=1,pos=c(1,1))
# interaction between sex and linear time only
carma(data,ccov=~sex,torder=2,inter=1,pre=1,pos=c(1,1))
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From koller2 at fgr.wu-wien.ac.at  Sat Nov 27 17:03:53 1999
From: koller2 at fgr.wu-wien.ac.at (Wolfgang Koller)
Date: Sat, 27 Nov 1999 17:03:53 CET (+0100)
Subject: [R] size of text and numbers in graphs
Message-ID: <3120DA728B@fgr.wu-wien.ac.at>

Hi!

Since installation of R 0.90 there are problems with the size 
of text and numbers also in the x11-device (I reported about similar 
problems with the postscript device recently). For numbers and 
letters a different size is used:

plot(1:10,1:10,type="n")
text(2,8,"F5F5F5F5F5")
text(2,7,"F5F5F5F5F5",cex=2)

The same problem is also found in the postscript device.
The difference is small but clearly visible.

Thanks for fixing soon!


Wolfgang Koller


----------------------------------------------------------
Wolfgang Koller,  koller2 at fgr.wu-wien.ac.at
Forschungsinstitut fuer Europafragen
Wirtschaftsuniversitaet Wien
Althanstrasse 39-45, 1090 Wien, Austria
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From koller2 at fgr.wu-wien.ac.at  Sat Nov 27 21:30:12 1999
From: koller2 at fgr.wu-wien.ac.at (Wolfgang Koller)
Date: Sat, 27 Nov 1999 21:30:12 CET (+0100)
Subject: [R] Re: size of text and numbers in graphs (PR#349)
In-Reply-To: <x2iu2nsqw3.fsf@blueberry.kubism.ku.dk>
References: koller2@fgr.wu-wien.ac.at's message of "Sat, 27 Nov 1999 17:04:06 +0100 (MET)"
Message-ID: <27E102759@fgr.wu-wien.ac.at>

Hi!

I'm sorry for being too quick with a bug report.
Nevertheless -- wasn't this different in previous releases??
(At least, when I check some old R-graphics in my papers, I see no 
such difference in size between capital letters and numbers.)

Thanks, Wolfgang


> koller2 at fgr.wu-wien.ac.at writes:
> 
> > Hi!
> > 
> > Since installation of R 0.90 there are problems with the size 
> > of text and numbers also in the x11-device (I reported about similar 
> > problems with the postscript device recently). For numbers and 
> > letters a different size is used:
> > 
> > plot(1:10,1:10,type="n")
> > text(2,8,"F5F5F5F5F5")
> > text(2,7,"F5F5F5F5F5",cex=2)
> > 
> > The same problem is also found in the postscript device.
> > The difference is small but clearly visible.
> > 
> > Thanks for fixing soon!
> 
> It's not a bug. The fonts are designed that way (capital letters one
> pixel taller than numbers in some sizes). Try for instance running
> xfontsel with
> 
> -*-helvetica-medium-r-*-*-34-*-*-*-*-*-*-*
> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> 

----------------------------------------------------------
Wolfgang Koller,  koller2 at fgr.wu-wien.ac.at
Forschungsinstitut fuer Europafragen
Wirtschaftsuniversitaet Wien
Althanstrasse 39-45, 1090 Wien, Austria
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Mon Nov 29 16:53:26 1999
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Mon, 29 Nov 1999 10:53:26 -0500
Subject: [R] checking postscript graphics
Message-ID: <3842A176.58303259@bank-banque-canada.ca>

Most of the x11() graphics problems I was having in a development
version of  R 0.90.0 seem to have disappeared in the release version.
While thinking about that problem, I realized it would be good for me to
have a better way to check the postscript versions of  the graphics
produced by my package tests. I would like to be able to simply view
about 100 pages of postscript graphics. They could be viewed on the fly
(as R creates them) or saved, as multiple files or a single file,  then
checked with something like ghostview. However, any of these will
require a certain amount of re-programming effort and I am not sure of
the relative merits of the different approaches. If anyone has done
something like this or has good suggestions I would appreciate advice.
(I would prefer a solution that works in both Linux and Solaris.)

Paul Gilbert



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Armin.Roehrl at epfl.ch  Tue Nov 30 00:56:32 1999
From: Armin.Roehrl at epfl.ch (Armin S. A. Roehrl)
Date: Tue, 30 Nov 1999 00:56:32 +0100
Subject: [R] Gray codes in R
Message-ID: <384312B0.272E19A1@epfl.ch>

Did anybody by accident implement Gray codes in R?
If possible for choosing n points with replacement.

Thanks a lot.
	Armin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From spoon at hilbert.maths.utas.edu.au  Tue Nov 30 02:36:12 1999
From: spoon at hilbert.maths.utas.edu.au (spoon)
Date: Tue, 30 Nov 1999 12:36:12 +1100 (EST)
Subject: [R] model.tables
Message-ID: <199911300136.MAA10382@hilbert.maths.utas.edu.au>

A non-text attachment was scrubbed...
Name: not available
Type: text
Size: 3126 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19991130/5cb00c0f/attachment.pl

From jlindsey at alpha.luc.ac.be  Tue Nov 30 08:56:08 1999
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Tue, 30 Nov 1999 08:56:08 +0100 (MET)
Subject: [R] graphics
Message-ID: <199911300756.IAA23343@alpha.luc.ac.be>

I have been receiving complaints that my libraries no longer give
reasonable graphics with R0.90. I have been replying that I have not
changed anything. Among my travels (presently in Umea), I have finally
had a chance to take a look. The best way to describe the current
default graphics is HORRIBLY UGLY. The R core member who made those
changes should buy glasses to see the screen better instead of
imposing his near sightedness on the rest of us. The worst is that the
most important options that have been modified are RO so we can do
nothing. As PS graphics are also knackered, we currently have no way
of viewing a reasonable graph produced by R.
  I was already systematically resetting the margins to be narrower,
as they were before the summer of 1998, before each plotting
session. Now the margins take half the window.
  Is there any way to set the default par options, say in Rprofile,
without having a graphics window pop up at startup?
  Thanks. Jim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Nov 30 08:54:49 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 30 Nov 1999 07:54:49 +0000 (GMT)
Subject: [R] Gray codes in R
In-Reply-To: <384312B0.272E19A1@epfl.ch>
Message-ID: <Pine.GSO.4.05.9911300754270.25436-100000@auk.stats>

On Tue, 30 Nov 1999, Armin S. A. Roehrl wrote:

> Did anybody by accident implement Gray codes in R?
> If possible for choosing n points with replacement.

They are used internally by Rpart.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Nov 30 09:02:52 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 30 Nov 1999 08:02:52 +0000 (GMT)
Subject: [R] model.tables
In-Reply-To: <199911300136.MAA10382@hilbert.maths.utas.edu.au>
Message-ID: <Pine.GSO.4.05.9911300758540.25436-100000@auk.stats>

On Tue, 30 Nov 1999, spoon <spoon at hilbert.maths.utas.edu.au> wrote:

> Hi,
> 	Is this a bug or do I just not understand model.tables?
> 
> The problem is this: in the following, shouldn't the difference in
> means computed by model.tables be equal to the difference in the
> corresponding coefficients from coef(fit)?  That is, comparing diets
> d and e shouldn't
> 
> 34.71 - 41.53 = -6.82			# diff from model.tables
> 
> be equal to
> 
> -5.22500000  - 3.30000000 = -8.525	# diff from coef(fit)
> 
> Or am I just completely misinterpreting something basic?

Basically, yes. This is an incompletely replicated design, and d and e
occur on different litters.

The results are identical to the S-PLUS original. I think you are
probably looking for what dummy.coef gives you.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mjuro at excite.com  Mon Nov 29 20:53:23 1999
From: mjuro at excite.com (Mikki  Juro)
Date: Mon, 29 Nov 1999 11:53:23 PST
Subject: [R] working with binary numbers in R
Message-ID: <943905203.2328.307@excite.com>

Hi,

as part of a problem I'd have to do some simple
arithmetics on binary numbers, i.e. shifting to the
left and shifting to the right.

What is the "fastest way" to have R do that?

Thanks.
	Mikki.




________________________________________________________________
Get FREE voicemail, fax and email at http://voicemail.excite.com
Talk online at http://voicechat.excite.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Nov 30 10:51:59 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 30 Nov 1999 09:51:59 +0000 (GMT)
Subject: [R] working with binary numbers in R
In-Reply-To: <943905203.2328.307@excite.com>
Message-ID: <Pine.GSO.4.05.9911300949140.2479-100000@auk.stats>

On Mon, 29 Nov 1999, Mikki  Juro wrote:

> as part of a problem I'd have to do some simple
> arithmetics on binary numbers, i.e. shifting to the
> left and shifting to the right.

binary integers?

> What is the "fastest way" to have R do that?

Write some simple C code and interface it, I would say. That way you
could define, say, %>% and %<% as shift operators on integer vectors.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From R.E.Darnell at newcastle.ac.uk  Tue Nov 30 12:09:59 1999
From: R.E.Darnell at newcastle.ac.uk (R.E. Darnell)
Date: 30 Nov 1999 11:09:59 +0000
Subject: [R] A matrix of lists?
Message-ID: <dgkyabg8cc8.fsf@scs2.ncl.ac.uk>


I tried to construct a matrix of lists e.g.

R> Matlist<-matrix(list(a1=c(1:4),b1=c(1:3),a2=c(1:9),b2=c(1:2)),nrow=2,ncol=2,byrow=F)
Error: Unimplemented feature in copyVector

V&R p52 talk about ragged arrays using a labelling factor. I am not
sure what this means.  Is it that the list indexing can be defined by
two factors (of length 4 in this example) that hold the row and column
indices? How would I reference a subset of list items then  
(Matlist[[Col==2]]  ?)  
Trying something like this gives me

R> Matlist[[Col==2]]
Error: attempt to select more than one element
 

My aim is to have a set of lists that I can refer to using matrix type
indexing  like Matlist[,2] or Matlist[,-1]. 

I appreciate any help

Ross Darnell
-- 
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Matthias.Fischer at wiso.uni-erlangen.de  Tue Nov 30 14:18:50 1999
From: Matthias.Fischer at wiso.uni-erlangen.de (M. Fischer)
Date: Tue, 30 Nov 1999 15:18:50 +0200
Subject: [R] Modified Bessel function K(v,z)
Message-ID: <1F3F024712E@wsrz2.wiso.uni-erlangen.de>

Hello,

are there any R-programms/functions that calculate the
modified Bessel function K(n,z) also for COMPLEX  arguments
z?

M. Fischer
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Tue Nov 30 18:10:07 1999
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 30 Nov 1999 12:10:07 -0500
Subject: [R] seqN
Message-ID: <384404EF.D30E4312@bank-banque-canada.ca>

 I have  been using a function

seqN <- function(N) {if (0==length(N)) NULL else if (N<=0) NULL else seq(N)}

in for loops when I want no looping in the case of a zero value:

for (i in seqN(m) ) ...

Since seqN(0) returns NULL this results in for doing no loops (which is much
more convenient than always checking for m==0). It seems that a function like
this should be defined in R (and S) but I have never found it. Is there an
already defined function that does this (or a better way to achieve this
result)?

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Nov 30 18:28:22 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 30 Nov 1999 09:28:22 -0800 (PST)
Subject: [R] seqN
In-Reply-To: <384404EF.D30E4312@bank-banque-canada.ca>
Message-ID: <Pine.GSO.4.21.9911300926240.13006-100000@wompom.biostat.washington.edu>

On Tue, 30 Nov 1999, Paul Gilbert wrote:

>  I have  been using a function
> 
> seqN <- function(N) {if (0==length(N)) NULL else if (N<=0) NULL else seq(N)}
> 
> in for loops when I want no looping in the case of a zero value:
> 
> for (i in seqN(m) ) ...
> 
> Since seqN(0) returns NULL this results in for doing no loops (which is much
> more convenient than always checking for m==0). It seems that a function like
> this should be defined in R (and S) but I have never found it. Is there an
> already defined function that does this (or a better way to achieve this
> result)?

seq(length=m) almost does this.  It doesn't work for negative m, but for
zero or positive m it does the same as your function

R> seq(length=0)
numeric(0)
R> seq(length=1)
[1] 1
R> seq(length=5)
[1] 1 2 3 4 5

(the substitution of numeric(0) for NULL doesn't matter)

	
Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Nov 30 18:36:31 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 30 Nov 1999 18:36:31 +0100
Subject: [R] seqN
In-Reply-To: Paul Gilbert's message of "Tue, 30 Nov 1999 12:10:07 -0500"
References: <384404EF.D30E4312@bank-banque-canada.ca>
Message-ID: <x2k8mzubj4.fsf@blueberry.kubism.ku.dk>

Paul Gilbert <pgilbert at bank-banque-canada.ca> writes:

>  I have  been using a function
> 
> seqN <- function(N) {if (0==length(N)) NULL else if (N<=0) NULL else seq(N)}
> 
> in for loops when I want no looping in the case of a zero value:
> 
> for (i in seqN(m) ) ...
> 
> Since seqN(0) returns NULL this results in for doing no loops (which is much
> more convenient than always checking for m==0). It seems that a function like
> this should be defined in R (and S) but I have never found it. Is there an
> already defined function that does this (or a better way to achieve this
> result)?

Well, not quite, but:

> seq(length=1)
[1] 1
> seq(length=0)
numeric(0)
> seq(length=3)
[1] 1 2 3
> seq(length=-1)
Error: Length must be non-negative number


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From acosa at ubu.es  Tue Nov 30 20:25:38 1999
From: acosa at ubu.es (Alvaro Colina)
Date: Tue, 30 Nov 1999 20:25:38 +0100
Subject: [R] Character2function
Message-ID: <384424B2.B27E7A21@ubu.es>

If I have several character vectors, for example:

a_c('data.')
b_c('_myfunction(')
c_c('vect.')
d_c(')')

and, j_1

I can build a vector using paste:
x_paste(a,j,b,c,j,d,sep="") 

x="data.1_myfunction(vect.1)"

I have n numeric vectors (vect.1...vect.n)
Then, if I could evaluate the string x, I would calculate the
result of my function in n-vectors using a loop 
for (j in 1:n){
x_paste(a,j,b,c,j,d,sep="")
function.to.evaluate.string(x)
}
As a result, I would have n data.j objects

I've been looking for a function in R to evaluate a string
and I haven't found anyone.

Is there any function to do that?

Thank you very much
-- 
==============================================================
Alvaro Colina    		|-|o||o||o||o||o||o||o||o||o|- 
Area de Quimica Analitica	| Pza. Misael Banuelos s/n
Facultad de Ciencias		| 09001. Burgos. Spain
Universidad de Burgos		| Phone: 34-947-258817
e-mail: acosa at ubu.es	  	| FAX: 	 34-947-258831
==============================================================
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From umehlig at uni-bremen.de  Tue Nov 30 22:00:36 1999
From: umehlig at uni-bremen.de (Ulf Mehlig)
Date: Tue, 30 Nov 1999 22:00:36 +0100
Subject: [R] Power of tests
Message-ID: <199911302100.WAA03303@pandora3.localnet>


Hello R-Experts,

2 questions:

 does anybody have example functions for determining the power of,
 say, a t-test or a single factor anova with fixed or random factors?
 
 and: is there an implementation of Cochran's test for heterogeneity
 of variances (i.e., is there a frequency distribution of Cochran's
 C)?

Many thanks for your attention ...
Ulf

(please CC: me, I'm not on the list at the moment)

-- 
======================================================================
Ulf Mehlig    <umehlig at zmt.uni-bremen.de>
              Center for Tropical Marine Ecology/ZMT, Bremen, Germany
----------------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Nov 30 22:44:11 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 30 Nov 1999 22:44:11 +0100
Subject: [R] Character2function
In-Reply-To: Alvaro Colina's message of "Tue, 30 Nov 1999 20:25:38 +0100"
References: <384424B2.B27E7A21@ubu.es>
Message-ID: <x2so1n7iz8.fsf@blueberry.kubism.ku.dk>

Alvaro Colina <acosa at ubu.es> writes:

> x_paste(a,j,b,c,j,d,sep="") 
> 
> x="data.1_myfunction(vect.1)"
> 
> I have n numeric vectors (vect.1...vect.n)
> Then, if I could evaluate the string x, I would calculate the
> result of my function in n-vectors using a loop 
> for (j in 1:n){
> x_paste(a,j,b,c,j,d,sep="")
> function.to.evaluate.string(x)
> }
> As a result, I would have n data.j objects
> 
> I've been looking for a function in R to evaluate a string
> and I haven't found anyone.
> 
> Is there any function to do that?

parse() followed by eval(), but it's generally a bad idea.

for(j in 1:n){
	v<-paste("vect.",j,sep="")
	d<-paste("data.",j,sep="")
	assign(d,myfunction(get(v)))
}

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.maindonald at anu.edu.au  Tue Nov 30 23:52:13 1999
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Wed, 01 Dec 1999 09:52:13 +1100
Subject: [R] model.tables
In-Reply-To: <Pine.GSO.4.05.9911300758540.25436-100000@auk.stats>
References: <199911300136.MAA10382@hilbert.maths.utas.edu.au>
Message-ID: <3.0.1.32.19991201095213.006cf714@anugpo.anu.edu.au>

At 08:02 30/11/99 +0000, Prof Brian D Ripley wrote:
>On Tue, 30 Nov 1999, spoon <spoon at hilbert.maths.utas.edu.au> wrote:
>
>> Hi,
>> 	Is this a bug or do I just not understand model.tables?
>> 
>> The problem is this: in the following, shouldn't the difference in
>> means computed by model.tables be equal to the difference in the
>> corresponding coefficients from coef(fit)?  That is, comparing diets
>> d and e shouldn't
>> 
>> 34.71 - 41.53 = -6.82			# diff from model.tables
>> 
>> be equal to
>> 
>> -5.22500000  - 3.30000000 = -8.525	# diff from coef(fit)
>> 
>> Or am I just completely misinterpreting something basic?
>
>Basically, yes. This is an incompletely replicated design, and d and e
>occur on different litters.
>
>The results are identical to the S-PLUS original. I think you are
>probably looking for what dummy.coef gives you.
>
>-- 
>Brian D. Ripley,                  ripley at stats.ox.ac.uk
>Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>University of Oxford,             Tel:  +44 1865 272861 (self)
>1 South Parks Road,                     +44 1865 272860 (secr)
>Oxford OX1 3TG, UK                Fax:  +44 1865 272595

So what is it that model.tables() gives?  S-PLUS says they are
estimates.  Of what?   These are not the marginal means of the
fitted values, ignoring other factors.  Do they mean anything
at all?  The issue of unbalance does not arise here.

Here is about the simplest example I could dream up.

> bdes_data.frame(blk=rep(1:3,rep(2,3)),
+   trt=c(1,2,2,3,3,1), y=c(.4,.6,1,1.4,2,1.2))
> bdes$blk_factor(bdes$blk,labels=LETTERS[1:3])
> bdes$trt_factor(bdes$trt,labels=letters[1:3])
> bdes.aov_aov(y~blk+trt,data=bdes,projections=T)
> 
> coef(bdes.aov)
(Intercept)        blkB        blkC        trtb        trtc 
    0.36667     0.33333     0.86667     0.26667     0.73333 
> model.tables(bdes.aov)
Tables of effects

 blk 
   A    B    C 
-0.6  0.1  0.5 

 trt 
    a     b     c 
-0.25 -0.05  0.30 
> hat_fitted(bdes.aov)
> tapply(hat,bdes$trt,mean)
  a   b   c 
0.8 0.8 1.7 
> 


John Maindonald               email : john.maindonald at anu.edu.au        
Statistical Consulting Unit,  phone : (6249)3998        
c/o CMA, SMS,                 fax   : (6249)5549  
John Dedman Mathematical Sciences Building
Australian National University
Canberra ACT 0200
Australia

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Nov 30 23:55:38 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 30 Nov 1999 23:55:38 +0100
Subject: [R] graphics
In-Reply-To: Jim Lindsey's message of "Tue, 30 Nov 1999 08:56:08 +0100 (MET)"
References: <199911300756.IAA23343@alpha.luc.ac.be>
Message-ID: <x2aenvpp1x.fsf@blueberry.kubism.ku.dk>

Jim Lindsey <jlindsey at alpha.luc.ac.be> writes:

> I have been receiving complaints that my libraries no longer give
> reasonable graphics with R0.90. I have been replying that I have not
> changed anything. Among my travels (presently in Umea), I have finally
> had a chance to take a look. The best way to describe the current
> default graphics is HORRIBLY UGLY. The R core member who made those
> changes should buy glasses to see the screen better instead of
> imposing his near sightedness on the rest of us. The worst is that the
> most important options that have been modified are RO so we can do
> nothing. As PS graphics are also knackered, we currently have no way
> of viewing a reasonable graph produced by R.

Well, the font sizes are as I have had them for ages: 12pt on a 100dpi
assumed resolution. If that's too large, fine, complain and if you
gain a sufficient following we might reduce it to 10pt. The old code
would give you 100dpi or 75dpi fonts depending on which one came first
on your font path and was available at the desired size, leading to
general madness. If it bothers you enough, use fix(X11) and change the
default for the pointsize argument.

(And yes, I'm nearsighted, but remember that you also need to be able
to read the smaller sizes - try a run through demo(graphics))

The postscript is truly bug-ridden, but the latest snapshot should be
much better.

>   Is there any way to set the default par options, say in Rprofile,
> without having a graphics window pop up at startup?

Nope, but we should probably have something like ps.options there, the
par() effect is also messing up example(): the code cannot set
ask=TRUE so multiple graphics in an example just fly by, unless the
user sets the parameter.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ecomus51 at oecon.au.dk  Tue Nov 30 19:43:23 1999
From: ecomus51 at oecon.au.dk (Ott Toomet)
Date: Tue, 30 Nov 99 19:43:23 +0100
Subject: [R] incomplete gamma function
Message-ID: <3a254089.62f4.0@oecon.au.dk>

HI,
are there anything available which calculates incomplete gamma function?
I know such functions exist in both ox and Gauss.

Thanks,
Ott Toomet
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


