From rgentlem at stat.auckland.ac.nz  Tue Aug  1 00:24:23 2000
From: rgentlem at stat.auckland.ac.nz (Robert Gentleman)
Date: Tue, 1 Aug 2000 10:24:23 +1200
Subject: [R] Language element manipulation
In-Reply-To: <XFMail.20000727195547.s-luppescu@uchicago.edu>; from Stuart Luppescu on Thu, Jul 27, 2000 at 09:43:31PM -0500
References: <XFMail.20000727195547.s-luppescu@uchicago.edu>
Message-ID: <20000801102423.D27259@stat1.stat.auckland.ac.nz>

On Thu, Jul 27, 2000 at 09:43:31PM -0500, Stuart Luppescu wrote:
> I am very confused about this. I want to convert a string to a name so I can
> use it to extract an element of a data frame using `$'. Here is my
> (non-working) code:
> 
> do.graph <- function (meas)
>   {
>     fn <- paste("a", meas, ".dat", sep='')
>     themeas <- read.table(fn, header=F)
>     ameas <- as.name(paste("a", meas, sep=''))
>     names(themeas) <- c("xpos", paste("a", meas, sep=''))
>     meassum <- summary(themeas$ameas[themeas$xpos==1])
>    ...
>    }
> So, when this function is called with the argument ``infl'' the second column
> will be named ``ainfl''. In the last line I want to extract the column called
> ``ainfl'' from the data frame ``themeas''. But this is what happens:
> 
> > themeas$ameas
> NULL
> 
> Just grabbing at straws here:
> 
>  themeas$eval(ameas)
> Error: attempt to apply non-function
> 
> Can someone wise me up about this?

  $ is (the?) one operator that does not and cannot evaluate its
  second argument.
  x$a, is asking for a column of x with the name a,
  if you try to evaluate a, then you will capture any variable
  with that name in the environment that $ is called from. This is
  almost never what you want. 
  x[[a]], (for dataframes) does evaluate its argument and hence is
  the thing to use.
> ______________________________________________________________________
> Stuart Luppescu         -=-=-  University of Chicago
> ???? ????????????(EUC)  -=-=-  s-luppescu at uchicago.edu
> http://www.consortium-chicago.org/people/sl/sl.html
> PGP public key: www.consortium-chicago.org/people/sl/pubkey.asc
>        ICQ #21172047  AIM: psycho7070
> QOTD:
>         "She's about as smart as bait."
> >> Sent on 27-Jul-2000 at 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
+-------------------------------------------------------------------------+
| Robert Gentleman              phone : (64-9) 3737-599 ext 3946          | 
| Senior Lecturer               fax :   (64-9) 3737-018                   |
| Department of Statistics      office : Room 206 Maths/Physics           |
| University of Auckland	email : rgentlem at stat.auckland.ac.nz      |
+-------------------------------------------------------------------------+
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stephen at cogsci.ed.ac.uk  Tue Aug  1 14:58:18 2000
From: stephen at cogsci.ed.ac.uk (Stephen Eglen)
Date: Tue, 1 Aug 2000 13:58:18 +0100 (BST)
Subject: [R] problem clipping R postscript plots within latex
Message-ID: <14726.51562.209899.470361@cogsci.ed.ac.uk>

hi,

I've noticed a small problem trying to include postscript plots
generated by R into a latex document.  Specifically, the latex package
graphicsx allow you to specify the bounding box of the postscript
file, so that you can just show _part_ of the postscript file if you
tell it to also clip the area outside of the bounding box.  I've
previously used this LaTeX feature without problems on postscript
files produced e.g. by gnuplot.  However, this doesn't work on R
files.  Here is a simple example:


% R --vanilla

R : Copyright 2000, The R Development Core Team
Version 1.1.0  (June 15, 2000)

> t <- runif(40);
> postscript(file="try.ps")
> plot(t)
> dev.off()
null device 
          1 

here is the sample latex file that should include try.ps and just show
the central part of that postscript file:

\documentclass[12pt]{article}

\usepackage{graphicx}

\begin{document}

\fbox{\includegraphics[bb=200 200 300 300,width=4cm,clip=true]{try.ps}}
\end{document}

However, when this is run through latex and dvips, the whole of try.ps,
rather than just a central region, is included in the output.

Has anyone else noticed this?  

Cheers, Stephen
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Aug  1 15:38:03 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 01 Aug 2000 15:38:03 +0200
Subject: [R] problem clipping R postscript plots within latex
In-Reply-To: Stephen Eglen's message of "Tue, 1 Aug 2000 13:58:18 +0100 (BST)"
References: <14726.51562.209899.470361@cogsci.ed.ac.uk>
Message-ID: <x28zuh3xvo.fsf@blueberry.kubism.ku.dk>

Stephen Eglen <stephen at cogsci.ed.ac.uk> writes:

> hi,
> 
> I've noticed a small problem trying to include postscript plots
> generated by R into a latex document.  Specifically, the latex package
> graphicsx allow you to specify the bounding box of the postscript
> file, so that you can just show _part_ of the postscript file if you
> tell it to also clip the area outside of the bounding box.  I've
> previously used this LaTeX feature without problems on postscript
> files produced e.g. by gnuplot.  However, this doesn't work on R
> files.  Here is a simple example:

Ow. This stems from the use of "initclip" in the R-generated PS. One
shouldn't do that, one should bracket clipped graphics within
gsave/grestore instead. Sounds a bit tricky to get right.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stephen at cogsci.ed.ac.uk  Tue Aug  1 17:42:26 2000
From: stephen at cogsci.ed.ac.uk (Stephen Eglen)
Date: Tue, 1 Aug 2000 16:42:26 +0100 (BST)
Subject: [R] problem clipping R postscript plots within latex
In-Reply-To: <x28zuh3xvo.fsf@blueberry.kubism.ku.dk>
References: <14726.51562.209899.470361@cogsci.ed.ac.uk>
	<x28zuh3xvo.fsf@blueberry.kubism.ku.dk>
Message-ID: <14726.61410.360349.907058@cogsci.ed.ac.uk>

 > > generated by R into a latex document.  Specifically, the latex package
 > > graphicsx allow you to specify the bounding box of the postscript
 > > file, so that you can just show _part_ of the postscript file if you
 > > tell it to also clip the area outside of the bounding box.
...
 > Ow. This stems from the use of "initclip" in the R-generated PS. One
 > shouldn't do that, one should bracket clipped graphics within
 > gsave/grestore instead. Sounds a bit tricky to get right.

Thanks.  To solve my current problem, I changed the definition of the
`cl' operator in the postscript file to:

/cl  { gsave initclip newpath 3 index 3 index moveto 1 index
       4 -1 roll lineto  exch 1 index lineto lineto
       closepath clip grestore newpath } def

[i.e. just adding the gsave ... grestore pair]

Whether this is the proper solution though is another matter...

Stephen


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Aug  1 18:12:33 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 01 Aug 2000 18:12:33 +0200
Subject: [R] problem clipping R postscript plots within latex
In-Reply-To: Stephen Eglen's message of "Tue, 1 Aug 2000 16:42:26 +0100 (BST)"
References: <14726.51562.209899.470361@cogsci.ed.ac.uk> <x28zuh3xvo.fsf@blueberry.kubism.ku.dk> <14726.61410.360349.907058@cogsci.ed.ac.uk>
Message-ID: <x24s553qq5.fsf@blueberry.kubism.ku.dk>

Stephen Eglen <stephen at cogsci.ed.ac.uk> writes:

>  > > generated by R into a latex document.  Specifically, the latex package
>  > > graphicsx allow you to specify the bounding box of the postscript
>  > > file, so that you can just show _part_ of the postscript file if you
>  > > tell it to also clip the area outside of the bounding box.
> ...
>  > Ow. This stems from the use of "initclip" in the R-generated PS. One
>  > shouldn't do that, one should bracket clipped graphics within
>  > gsave/grestore instead. Sounds a bit tricky to get right.
> 
> Thanks.  To solve my current problem, I changed the definition of the
> `cl' operator in the postscript file to:
> 
> /cl  { gsave initclip newpath 3 index 3 index moveto 1 index
>        4 -1 roll lineto  exch 1 index lineto lineto
>        closepath clip grestore newpath } def
> 
> [i.e. just adding the gsave ... grestore pair]
> 
> Whether this is the proper solution though is another matter...

It isn't. It grestore-s before actually plotting the stuff that needs
to be clipped, so effectively you just disabled R's clipping. A better
way would be to start the plotting with a "gs" and have

/cl  { gr gs newpath 3 index 3 index moveto 1 index
       4 -1 roll lineto  exch 1 index lineto lineto
       closepath clip newpath } def

and end everything with a "gr". Not too sure that is perfectly safe,
though... 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Tue Aug  1 18:58:04 2000
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Tue, 01 Aug 2000 12:58:04 -0400
Subject: [R] R_FindSymbol
Message-ID: <8525692E.005D3542.00@EPAHUB2.RTP.EPA.GOV>



I have written a function that uses LSODA from NETLIB to solve initial value
problems, given a system of ODEs written as an R function.  There are times when
it would be convenient to use the code with an ode system written in a compiled
language.  Certainly, that can be done using .C or .Fortran within an R
function, but that seems inefficient (indeed, it does not enormously speed up
the numerical integration, in my limited testing).  What I would like to do is
to dynamically load a shared library, and pass the name of a symbol as a string
to my ode solver interface.  The C wrapper would then retrieve the pointer to
the function named by the string (or fail gracefully trying), and pass that
pointer to LSODA.  It looks like all I have to do is invoke R_FindSymbol with
the name I am looking for as the first argument, and the null string as the
second; the return value will be the pointer I am looking for.  Am I right, or
is it more complicated than that?


R. Woodrow Setzer, Jr.                                                    Phone:
(919) 541-0128
Biostatistics and
Fax:  (919) 541-4002
Research Support Staff
NHEERL MD-55; US EPA; RTP, NC 27711


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug  1 20:43:43 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 1 Aug 2000 19:43:43 +0100 (BST)
Subject: [R] R_FindSymbol
In-Reply-To: <8525692E.005D3542.00@EPAHUB2.RTP.EPA.GOV>
Message-ID: <Pine.GSO.4.05.10008011935380.21292-100000@auk.stats>

On Tue, 1 Aug 2000 Setzer.Woodrow at epamail.epa.gov wrote:

> 
> 
> I have written a function that uses LSODA from NETLIB to solve initial value
> problems, given a system of ODEs written as an R function.  There are times when
> it would be convenient to use the code with an ode system written in a compiled
> language.  Certainly, that can be done using .C or .Fortran within an R
> function, but that seems inefficient (indeed, it does not enormously speed up
> the numerical integration, in my limited testing).  What I would like to do is
> to dynamically load a shared library, and pass the name of a symbol as a string
> to my ode solver interface.  The C wrapper would then retrieve the pointer to
> the function named by the string (or fail gracefully trying), and pass that
> pointer to LSODA.  It looks like all I have to do is invoke R_FindSymbol with
> the name I am looking for as the first argument, and the null string as the
> second; the return value will be the pointer I am looking for.  Am I right, or
> is it more complicated than that?

What is a `symbol' here?  If it is a char* in C pointing to the name of the
entry point, almost.  (R symbols are something else.) You would do better
to use the second argument, as the loaded name of your shared library.
It's there to acoid name clashes.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Tue Aug  1 22:34:55 2000
From: feldesmanm at pdx.edu (Marc Feldesman)
Date: Tue, 01 Aug 2000 13:34:55 -0700
Subject: [R] Testing for parallel slopes
Message-ID: <4.3.2.7.2.20000801132647.00b4ab20@127.0.0.1>

I'm running a series of simple bivariate linear regressions on grouped 
data.  I want to test the slopes to see if they are parallel.  I normally 
use analysis of covariance to do so, looking at interaction between the 
covariate and the factor to make this determination.

VR3 pp.149 - 154 has a very nice example of an ANOCOVA, ending with a 
discussion of this very operation.

My question has to do with the issue of parametrization.  When I use the 
example data set "whiteside", I get the same results that VR get (see p. 
154) except I'm getting them *without* reparametrizing the model. (In fact, 
I get the same answers with the default parametrization and the 
alternative).  Since I'm only interested in the interaction term, is it 
even necessary to change the structure of the model matrix, or will I get 
the answer I need using the default contrast matrices (i.e. 
"contr.helmert", "contr.poly")?




=====================
Dr. Marc R. Feldesman
Professor and Chairman
Anthropology Department
Portland State University
1721 SW Broadway
Portland, Oregon 97201
email:  feldesmanm at pdx.edu
phone:  503-725-3081
fax:    503-725-3905
http://odin.cc.pdx.edu/~h1mf
======================

"Anyway, no drug, not even alcohol, causes the fundamental ills of society.
If we're looking for the source of our troubles, we shouldn't test people
for drugs, we should test them for stupidity, ignorance, greed and love of
power."   P.J. O'Rourke

Powered by Optiplochoerus and Windows 2000 (scary isn't it?)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Aug  1 22:46:44 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 1 Aug 2000 13:46:44 -0700 (PDT)
Subject: [R] Testing for parallel slopes
In-Reply-To: <4.3.2.7.2.20000801132647.00b4ab20@127.0.0.1>
Message-ID: <Pine.GSO.4.21.0008011340500.11092-100000@atlas.biostat.washington.edu>

On Tue, 1 Aug 2000, Marc Feldesman wrote:


> 
> My question has to do with the issue of parametrization.  When I use the 
> example data set "whiteside", I get the same results that VR get (see p. 
> 154) except I'm getting them *without* reparametrizing the model. (In fact, 
> I get the same answers with the default parametrization and the 
> alternative).  Since I'm only interested in the interaction term, is it 
> even necessary to change the structure of the model matrix, or will I get 
> the answer I need using the default contrast matrices (i.e. 
> "contr.helmert", "contr.poly")?

In R "contr.helmert" is *not* the default. Type 
  options("contrasts")
to see what contrasts you are using.  

This and other differences are described in both the "R Complements" to
V&R3 (see http://www.stats.ox.ac.uk/pub/MASS3) and the R FAQ.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mathieuros at bigfoot.com  Wed Aug  2 10:39:17 2000
From: mathieuros at bigfoot.com (Mathieu (Castor) Ros)
Date: Wed, 02 Aug 2000 10:39:17 +0200 (MEST)
Subject: [R] R_FindSymbol 
Message-ID: <965205557.3987de35eb646@imp.free.fr>

On Tue, 1 Aug 2000 Setzer.Woodrow at epamail.epa.gov wrote:

> I have written a function that uses LSODA from NETLIB to solve initial
value
> problems, given a system of ODEs written as an R function.  There are times
when
> it would be convenient to use the code with an ode system written in a
compiled
> language.  Certainly, that can be done using .C or .Fortran within an R
> function, but that seems inefficient (indeed, it does not enormously speed
up
> the numerical integration, in my limited testing).  What I would like to do
is
> to dynamically load a shared library, and pass the name of a symbol as a
string
> to my ode solver interface.  The C wrapper would then retrieve the pointer
to
> the function named by the string (or fail gracefully trying), and pass that
> pointer to LSODA.  It looks like all I have to do is invoke R_FindSymbol
with
> the name I am looking for as the first argument, and the null string as the
> second; the return value will be the pointer I am looking for.  Am I right,
or
> is it more complicated than that?

Have you had a look at nls2 code (http://www-bia.inra.fr/J/AB/nls2) ? It uses 
LSODA from a C function ("CalcInteg" if I remember well). 
(There is an R version)
regards,

--
Mathieu Ros
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Wed Aug  2 13:21:34 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Wed, 2 Aug 2000 07:21:34 -0400
Subject: [R] ? predict.nnet
Message-ID: <020a01bffc73$d26c1340$0201a8c0@Workgroup>

Hi,

I just want to point out a discrepancy between the documentation of predict.nnet & the function definition.

>?predict.nnet =>

predict.nnet              package:nnet              R Documentation

Predict New Examples by a Trained Neural Net

Description:

     Predict new examples by a trained neural net.

Usage:

     predict.nnet(object, x, type=c("raw","class"))

Arguments:

  object: an object of class `nnet' as  returned by `nnet'. 

       x: matrix or data frame of test examples. A vector is considered
          to be a row vector comprising a single case. 

******************************************
>predict.nnet =>

predict.nnet <- function(object, newdata, type=c("raw","class"), ...)
{
  if(!inherits(object, "nnet")) stop("object not of class nnet")
...

This is on

platform Windows   
arch     x86       
os       Win32     
system   x86, Win32
status             
major    1         
minor    1.0       
year     2000      
month    June      
day      15        
language R  

and the nnet file is dated 7/19/00
********************************************

No offence intended.

Regards

Yves Gauvreau

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000802/fe5f192d/attachment.html

From P.Connolly at hort.cri.nz  Thu Aug  3 02:00:51 2000
From: P.Connolly at hort.cri.nz (Patrick Connolly)
Date: Thu, 3 Aug 2000 12:00:51 +1200 (NZST)
Subject: [R] PNG files and the png function
Message-ID: <200008030000.e7300p213355@atlas.marc.cri.nz>

I can use a postscript device to produce a file which I can open with
the Gimp, then save quite a good png file.

If I try to use the png() function directly, I get something rather
like a graphics screen dump.  The help file doesn't tell me whether it
should be like that or not.

        _                
platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    1.0              
year     2000             
month    June             
day      15               
language R                

All ideas welcome.

Thank you.

-- 
Patrick Connolly
HortResearch
Mt Albert
Auckland
New Zealand 
Ph: +64-9 815 4200 x 7188
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~
I have the world's largest collection of seashells. I keep it on all
the beaches of the world ... Perhaps you've seen it.  ---Steven Wright
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug  3 08:20:19 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 3 Aug 2000 07:20:19 +0100 (BST)
Subject: [R] PNG files and the png function
In-Reply-To: <200008030000.e7300p213355@atlas.marc.cri.nz>
Message-ID: <Pine.GSO.4.05.10008030659240.10688-100000@auk.stats>

On Thu, 3 Aug 2000, Patrick Connolly wrote:

> I can use a postscript device to produce a file which I can open with
> the Gimp, then save quite a good png file.

(Does that not use ghostscript to do the conversion?  If so, you can
do it directly.  As I understood it none of these systems --
xv, ImageMagick. GIMP -- handled postscript directly.)

> If I try to use the png() function directly, I get something rather
> like a graphics screen dump.  The help file doesn't tell me whether it
> should be like that or not.

Yes, it should. What does route 1 give you?  The intention is to produce a
graphics bitmap representing the plot, and that is exactly what the R
screen devices (X11, Windows) show you, so it should be what you want
(if you set the width and height large enough).

You are on Linux, and what png() does there (Windows is similar) is to use
the X11 device to draw on a pixmap, then grab the bitmap from the pixmap
and save in PNG format.

The bitmap() device (and dev2bitmap) uses ghostscript and so ought to be 
similar to the first route.


On my systems I find very little difference between the routes.  The things
I can see differences are in the fonts, where png() uses X11 fonts and
bitmap() gs's Postscript type 1 fonts.  For plots with large numbers (>
256) colours on a system with an 8-bit deep X server bitmap() will produce
better JPEG plots than jpeg(), but PNG will often have problems. (I have
never used an 8-bit deep X server on Linux, but I do on Solaris.) On a 16-
or 24-bit server I get good renditions of the persp examples, for instance.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sarthur at protogene.com  Thu Aug  3 23:24:44 2000
From: sarthur at protogene.com (Steve Arthur)
Date: Thu, 3 Aug 2000 14:24:44 -0700 (PDT)
Subject: [R] multiple comparison tests & simultaneous multiple plots
Message-ID: <Pine.LNX.4.21.0008031423500.2439-100000@crick.protogene.com>

I am not sure if my message made it through, so here it is again!

Hi Rer's,

R-1.1.0

I have two questions for you:

1)

I am trying to complete a multiple comparison test after completing a
one-way ANOVA on some data.  I think this is pretty reasonable.

aov(MetricSubset ~ GeneNameFactor) 

works

pairwise.t.test(MetricSubset,GeneNameSubset,p.adjuxt.method=bonferroni,p
ool.sd=FALSE)

returns, 

Error in meanplot.R(c(3258, 3780, 3968, 2577, 8831, 2501, 2586, 2679, :
        couldn't find function "pairwise.t.test"  

I also looked at the R function 

p.adjust

I am not sure how p.adjust with multiple comparisons.

Does R support multiple comparison tests (Tukey, Bonferroni, etc...) and
are they easy to implement?

2)

I am also trying to plot some information either as boxplot, dotplots,
or
plots.

What I want to do is produce multiple plots simultaneously on separate
"R
Graphics: Device 2 (ACTIVE)" for easier analysis.  I am look at using
"for" loops or the "by", am I on the right track?

steve

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Aug  4 00:09:29 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Aug 2000 00:09:29 +0200
Subject: [R] multiple comparison tests & simultaneous multiple plots
In-Reply-To: Steve Arthur's message of "Thu, 3 Aug 2000 14:24:44 -0700 (PDT)"
References: <Pine.LNX.4.21.0008031423500.2439-100000@crick.protogene.com>
Message-ID: <x23dkmxahy.fsf@blueberry.kubism.ku.dk>

Steve Arthur <sarthur at protogene.com> writes:

> I am not sure if my message made it through, so here it is again!
> 
> Hi Rer's,
> 
> R-1.1.0
> 
> I have two questions for you:
> 
> 1)
> 
> I am trying to complete a multiple comparison test after completing a
> one-way ANOVA on some data.  I think this is pretty reasonable.
> 
> aov(MetricSubset ~ GeneNameFactor) 
> 
> works
> 
> pairwise.t.test(MetricSubset,GeneNameSubset,p.adjuxt.method=bonferroni,p
> ool.sd=FALSE)
> 
> returns, 
> 
> Error in meanplot.R(c(3258, 3780, 3968, 2577, 8831, 2501, 2586, 2679, :
>         couldn't find function "pairwise.t.test"  

??

That error mesg. look strange for that call.

Anyways, pairwise.t.test is in the ctest package, so you need
library(ctest) first. (and you'll also need to spell p.adjuxt.method
correctly...) 

> 
> I also looked at the R function 
> 
> p.adjust
> 
> I am not sure how p.adjust with multiple comparisons.

Easy: just give it a vector of p values and it adjusts them by the
three different methods.

> Does R support multiple comparison tests (Tukey, Bonferroni, etc...) and
> are they easy to implement?

Bonferroni is in pairwise.t.test. The studentized range distribution
is there (ptukey & friends) and doing Tukey multiple comparisons is
relatively trivial with that in hand *provided* the groups have the
same size and the variances are equal. I believe Doug Bates recently
rolled up a function for Tukey comparisons with the popular
approximation for unequal group sizes?

In general the various procedures are easy to code, but many of them
are quite specific in scope, and it is difficult to write something
that works generally. (We do seem to be missing the many-one t
distributions, though)

> 2)
> 
> I am also trying to plot some information either as boxplot, dotplots,
> or
> plots.
> 
> What I want to do is produce multiple plots simultaneously on separate
> "R
> Graphics: Device 2 (ACTIVE)" for easier analysis.  I am look at using
> "for" loops or the "by", am I on the right track?

Um, maybe... More likely, you want to look at X11() or windows() for
starting new windows, and dev.xxx for manipulating which one is
active, etc.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cjosephlu at pchome.com.tw  Fri Aug  4 02:12:21 2000
From: cjosephlu at pchome.com.tw (STAT)
Date: Fri, 4 Aug 2000 08:12:21 +0800
Subject: [R] xlab=expression(...) won't work.
Message-ID: <001501bffda8$a9cd4b80$0c05a8c0@skylan.com.tw>

Dear all,

I found that the plotmath seems won't work on xlab in plot 
(and other plot functions including matplot, contour, ...):

> plot(1:10, 1:10, xlab=expression(alpha))

the plot shows nothing for x-label.

 My R-version is R.1.1.0
> version
         _         
platform Windows   
arch     x86       
os       Win32     
system   x86, Win32
status             
major    1         
minor    1.0       
year     2000      
month    June      
day      15        
language R  

However, xlab=expression(alpha) correctly shows up on x-label
by using previous version: R.1.0.1.

Hope this is not a bug for R.1.1.0!

Thanks for your help!

C. Joseph Lu
Department of Statistics
National Cheng-Kung University
Tainan, Taiwan
E-mail: cjlu at email.stat.ncku.edu.tw


__________________________________________________________
 PC home ?K?O?q?l?H?c?A????????: http://www.pchome.com.tw 
  ?|  ??  ??  ?@  ?A  ?x  ?W  ??  ?j  ??  ?J  ?f  ??  ?? 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Fri Aug  4 02:11:53 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Thu, 3 Aug 2000 17:11:53 -0700 (PDT)
Subject: [R] xlab=expression(...) won't work.
In-Reply-To: <001501bffda8$a9cd4b80$0c05a8c0@skylan.com.tw>
Message-ID: <Pine.GSO.4.21.0008031710450.24108-100000@atlas.biostat.washington.edu>

On Fri, 4 Aug 2000, STAT wrote:

> Dear all,
> 
> I found that the plotmath seems won't work on xlab in plot 
> (and other plot functions including matplot, contour, ...):
> 
> > plot(1:10, 1:10, xlab=expression(alpha))

Yes. This is about the fourth report of this bug, which is fixed for 
R1.1.1 (coming fairly soon) or in the daily R-patched version.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle


> 
> the plot shows nothing for x-label.
> 
>  My R-version is R.1.1.0
> > version
>          _         
> platform Windows   
> arch     x86       
> os       Win32     
> system   x86, Win32
> status             
> major    1         
> minor    1.0       
> year     2000      
> month    June      
> day      15        
> language R  
> 
> However, xlab=expression(alpha) correctly shows up on x-label
> by using previous version: R.1.0.1.
> 
> Hope this is not a bug for R.1.1.0!
> 
> Thanks for your help!
> 
> C. Joseph Lu
> Department of Statistics
> National Cheng-Kung University
> Tainan, Taiwan
> E-mail: cjlu at email.stat.ncku.edu.tw
> 
> 
> __________________________________________________________
>  PC home §K¶O¹q¤l«H½c¡A¥Ó½Ð½Ð¦Ü: http://www.pchome.com.tw 
>   ·|  ­û  ²Ä  ¤@  ¡A  ¥x  ÆW  ³Ì  ¤j  ªº  ¤J  ¤f  ºô  ¯¸ 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Fri Aug  4 04:03:59 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 03 Aug 2000 21:03:59 -0500
Subject: [R] multiple comparison tests & simultaneous multiple plots
In-Reply-To: Peter Dalgaard BSA's message of "04 Aug 2000 00:09:29 +0200"
References: <Pine.LNX.4.21.0008031423500.2439-100000@crick.protogene.com> <x23dkmxahy.fsf@blueberry.kubism.ku.dk>
Message-ID: <6rpunprddc.fsf@franz.stat.wisc.edu>

Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

> Steve Arthur <sarthur at protogene.com> writes:
> 
> > Does R support multiple comparison tests (Tukey, Bonferroni, etc...) and
> > are they easy to implement?
> 
> Bonferroni is in pairwise.t.test. The studentized range distribution
> is there (ptukey & friends) and doing Tukey multiple comparisons is
> relatively trivial with that in hand *provided* the groups have the
> same size and the variances are equal. I believe Doug Bates recently
> rolled up a function for Tukey comparisons with the popular
> approximation for unequal group sizes?

It's in the Devore5 contributed package on CRAN.

 > library(Devore5)
 > example(Tukey)

 Tukey> data(xmp10.01)

 Tukey> fm1 <- aov(strength ~ type, data = xmp10.01)

 Tukey> Tukey(fm1)
   Tukey multiple comparisons of means
     95% family-wise confidence level

 Fit: aov(formula = strength ~ type, data = xmp10.01)

 $type
           diff        lwr         upr
 B-A   43.93333  -22.53671  110.403377
 C-A  -14.93333  -81.40338   51.536711
 D-A -150.98333 -217.45338  -84.513289
 C-B  -58.86667 -125.33671    7.603377
 D-B -194.91667 -261.38671 -128.446623
 D-C -136.05000 -202.52004  -69.579956


 Tukey> Tukey(fm1, ord = TRUE, conf = 0.9)
   Tukey multiple comparisons of means
     90% family-wise confidence level
     factor levels have been ordered

 Fit: aov(formula = strength ~ type, data = xmp10.01)

 $type
          diff         lwr       upr
 C-D 136.05000  77.9216830 194.17832
 A-D 150.98333  92.8550163 209.11165
 B-D 194.91667 136.7883497 253.04498
 A-C  14.93333 -43.1949837  73.06165
 B-C  58.86667   0.7383497 116.99498
 B-A  43.93333 -14.1949837 102.06165

-- 
Douglas Bates                            bates at stat.wisc.edu
Statistics Department                    608/262-2598
University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From P.Connolly at hort.cri.nz  Fri Aug  4 04:26:22 2000
From: P.Connolly at hort.cri.nz (Patrick Connolly)
Date: Fri, 4 Aug 2000 14:26:22 +1200 (NZST)
Subject: [R] PNG files and the png function
In-Reply-To: <Pine.GSO.4.05.10008031034200.8354-100000@auk.stats> from "Prof Brian D Ripley" at Aug 3, 0 10:39:31 am
Message-ID: <200008040226.e742QMQ22935@atlas.marc.cri.nz>


Referring to the use of bitmap()  Prof Brian D Ripley wrote:

|> I suspect type="pngmono" is what you want.

It is.  I get a png file which when imported into Word gives a good
quality graphic when we need black lines on a white background.  The
advantage of bitmap() over png() is that it's possible to set the
resolution to something much better than a screen dump.

There is a slight problem in that both dimensions are slightly smaller
than the corresponding postscript produced graphic.  I suspect it has
something to do with rounding errors in the process of getting precise
numbers of pixels into the stated dimensions.  It might be tricky if
it were necessary to fit to a scale exactly, though.

Many thanks to Prof Ripley.

best

-- 
Patrick Connolly
HortResearch
Mt Albert
Auckland
New Zealand 
Ph: +64-9 815 4200 x 7188
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~
I have the world's largest collection of seashells. I keep it on all
the beaches of the world ... Perhaps you've seen it.  ---Steven Wright
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Fri Aug  4 13:18:13 2000
From: ernesto at ipimar.pt (=?iso-8859-1?Q?Jos=E9?= Ernesto Jardim)
Date: Fri, 04 Aug 2000 12:18:13 +0100
Subject: [R] How to use complicated FUN in apply ?
Message-ID: <398AA674.F037A0C4@ipimar.pt>

Hi everyone

I'm trying to use

sigma2.mat<-apply(ri.mat,2,'-n/2*log(sum(ri.mat^2)/n)')

but it's not working.

Is it wrong to use that kind of FUN in apply ? or am I doing something
wrong ?!

Thank's

ernesto

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Aug  4 13:47:48 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Aug 2000 13:47:48 +0200
Subject: [R] How to use complicated FUN in apply ?
In-Reply-To: Jos? Ernesto Jardim's message of "Fri, 04 Aug 2000 12:18:13 +0100"
References: <398AA674.F037A0C4@ipimar.pt>
Message-ID: <x23dkl6ye3.fsf@blueberry.kubism.ku.dk>

Jos? Ernesto Jardim <ernesto at ipimar.pt> writes:

> Hi everyone
> 
> I'm trying to use
> 
> sigma2.mat<-apply(ri.mat,2,'-n/2*log(sum(ri.mat^2)/n)')
> 
> but it's not working.
> 
> Is it wrong to use that kind of FUN in apply ? or am I doing something
> wrong ?!

Yes and yes... That syntax means that you want to use a function
called "-n/2*log(sum(ri.mat^2)/n)". I think you mean 

sigma2.mat<-apply(ri.mat,2, function(x) -n/2*log(sum(x^2)/n) )

(assuming that the variable "n" exists, otherwise you might something
like function(x){n<-length(x); -n/2*log(sum(x^2)/n)} )
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From acosa at ubu.es  Fri Aug  4 14:00:01 2000
From: acosa at ubu.es (Alvaro Colina)
Date: Fri, 04 Aug 2000 14:00:01 +0200
Subject: [R] How to use complicated FUN in apply ?
References: <398AA674.F037A0C4@ipimar.pt>
Message-ID: <398AB041.DCFB2388@ubu.es>

Jos? Ernesto Jardim wrote:
> 
> Hi everyone
> 
> I'm trying to use
> 
> sigma2.mat<-apply(ri.mat,2,'-n/2*log(sum(ri.mat^2)/n)')
> 
> but it's not working.
> 
> Is it wrong to use that kind of FUN in apply ? or am I doing something
> wrong ?!

I think you can construct a new FUN to apply
for example:

fun<-function(x,n){
y_-n/2*log(sum(x^2)/n)
return(y)
}

and then apply it
sigma2.mat<-apply(ri.mat,2,fun)

or use

sigma2.mat<-apply(ri.mat,2, function(x,n){-n/2*log(sum(x^2)/n)} )



-- 

==============================================================
Alvaro Colina    		|-|o||o||o||o||o||o||o||o||o|- 
Area de Quimica Analitica	| Pza. Misael Banuelos s/n
Facultad de Ciencias		| 09001. Burgos. Spain
Universidad de Burgos		| Phone: 34-947-258817
e-mail: acosa at ubu.es	  	| FAX: 	 34-947-258831
==============================================================
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From y0004379 at tu-bs.de  Fri Aug  4 14:19:30 2000
From: y0004379 at tu-bs.de (Peter Malewski)
Date: Fri, 4 Aug 2000 14:19:30 +0200 (METDST)
Subject: [R] How to use complicated FUN in apply ?
In-Reply-To: <398AA674.F037A0C4@ipimar.pt>
Message-ID: <Pine.HPX.4.21.0008041417030.28841-100000@rzpool01.rz.tu-bs.de>

On Fri, 4 Aug 2000, Jos? Ernesto Jardim wrote:

> sigma2.mat<-apply(ri.mat,2,'-n/2*log(sum(ri.mat^2)/n)')

apply( data, 2, function(x)-n/2*log(x) )

...perhaps helps
P.




** To YOU I'm an atheist; to God, I'm the Loyal Opposition. Woody Allen **
P.Malewski					Tel.: 0531 500965
Maschplatz 8					Email: P.Malewski at tu-bs.de
************************38114 Braunschweig********************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From theis at statistik.uni-dortmund.de  Fri Aug  4 17:12:00 2000
From: theis at statistik.uni-dortmund.de (Winfried Theis)
Date: Fri, 04 Aug 2000 17:12:00 +0200 (MEST)
Subject: [R] Problem with SuSE 6.4 RPMS
In-Reply-To: <Pine.HPX.4.21.0008041417030.28841-100000@rzpool01.rz.tu-bs.de>
Message-ID: <XFMail.000804171200.theis@statistik.uni-dortmund.de>

Dear R-Helpers,

I'm just trying to install R-1.1.0 on a SuSE 6.4 System (Pentium II, 64MB Ram).
Well, installing the RPM works fine but when I try to start R it fails with the
message "Can't find library libblas.so.2" Can anybody tell me in which package
this file should be so I may get it from the distribution?

I tried to compile R-1.1.0 as well but that crashed with an error in platform.c:
platform.c:299: 'DIR' undeclared
platform.c:300: parse error before 'struct'...

Any ideas or suggestions (I would prefer an easy way for elemnating the RPM
problem...)

Thanks in advance,

Winfried Theis

----------------------------------
E-Mail: Winfried Theis <theis at statistik.uni-dortmund.de>
Date: 04-Aug-00
Tel.: +49-231-755-5903                  Room: Mathematikgebäude, M832
Dipl.-Math. Winfried Theis, Graduiertenkolleg "Angewandte Statistik",
Universität Dortmund, 44221 Dortmund
----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Aug  4 16:51:46 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 04 Aug 2000 16:51:46 +0200
Subject: [R] Problem with SuSE 6.4 RPMS
References: <XFMail.000804171200.theis@statistik.uni-dortmund.de>
Message-ID: <398AD882.97B2E091@statistik.uni-dortmund.de>

Winfried Theis wrote:
> 
> Dear R-Helpers,
> 
> I'm just trying to install R-1.1.0 on a SuSE 6.4 System (Pentium II, 64MB Ram).
> Well, installing the RPM works fine but when I try to start R it fails with the
> message "Can't find library libblas.so.2" Can anybody tell me in which package
> this file should be so I may get it from the distribution?

Hi Winnie!

It's in the package "blas-3.0-87.i386.rpm" of the SuSE 6.4 distribution!
;-)

Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s-luppescu at uchicago.edu  Fri Aug  4 18:06:43 2000
From: s-luppescu at uchicago.edu (s-luppescu@uchicago.edu)
Date: Fri, 04 Aug 2000 11:06:43 -0500 (CDT)
Subject: [R] pattern on bars?
Message-ID: <XFMail.20000804110643.s-luppescu@uchicago.edu>

Colors are real nice, but the publication I'm preparing these barplots for
permits only black and white. The Splus plot options ``dbangle''  (or plain
``angle'') and ``density'' (as on p. 65 of MASS 1st ed.) don't seem to be
available in R.  Is there another way to do this?

I'm running R 1.1.0 on Linux (intel). Thanks.
______________________________________________________________________
Stuart Luppescu         -=-=-  University of Chicago
$(B:MJ8$HCRF`H~$NIc(B        -=-=-  s-luppescu at uchicago.edu
http://www.consortium-chicago.org/people/sl/sl.html
PGP Public Key: www.consortium-chicago.org/people/sl/pubkey.asc
ICQ #21172047  AIM: psycho7070
"What if" is a trademark of Hewlett Packard, so stop using it in your
sentences without permission, or risk being sued.
>> Sent on 04-Aug-2000 at 10:44:36 with xfmail
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Fri Aug  4 20:15:41 2000
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Fri, 04 Aug 2000 18:15:41 +0000
Subject: [R] Problem with SuSE 6.4 RPMS
References: <XFMail.000804171200.theis@statistik.uni-dortmund.de>
Message-ID: <398B084D.5012311D@psy.uni-muenchen.de>

Winfried Theis wrote:
> 
> Dear R-Helpers,
> 
> I'm just trying to install R-1.1.0 on a SuSE 6.4 System (Pentium II, 64MB Ram).
> Well, installing the RPM works fine but when I try to start R it fails with the
> message "Can't find library libblas.so.2" Can anybody tell me in which package
> this file should be so I may get it from the distribution?

Hi,

you find libblas.so.2 in the BEOWOLF-section on the SuSE-CDs, package
"BLAS" (take a look in the readme file on cran). But I do not
understand, how you?ve installed the R-rpm, because of the broken
dependencies. Have you used the "force-install" or
"no-dependencies-check" options?

Regards, Sven
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Fri Aug  4 19:24:07 2000
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Fri, 04 Aug 2000 13:24:07 -0400
Subject: [R] Reading blank lines
Message-ID: <3990fbcf.12376314@fisher.stats.uwo.ca>

I'm writing a data.restore function like the one in S-PLUS.  One
problem:  scan() deletes any blank lines when it reads with
what=list('').  Is there a way to tell it to convert a blank line to a
0 length string element?

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Aug  4 21:41:21 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 4 Aug 2000 21:41:21 +0200 (CEST)
Subject: [R] pattern on bars?
In-Reply-To: <XFMail.20000804110643.s-luppescu@uchicago.edu>
References: <XFMail.20000804110643.s-luppescu@uchicago.edu>
Message-ID: <14731.7265.17470.403688@gargle.gargle.HOWL>

>>>>> "s-luppescu" == s-luppescu  <s-luppescu at uchicago.edu> writes:

    s-luppescu> Colors are real nice, but the publication I'm preparing
    s-luppescu> these barplots for permits only black and white. The Splus
    s-luppescu> plot options ``dbangle'' (or plain ``angle'') and
    s-luppescu> ``density'' (as on p. 65 of MASS 1st ed.) don't seem to be
    s-luppescu> available in R.  Is there another way to do this?

Use a grayscale color palette.  If I remember right, R's grayscales are
quite well printed on a B/W printer (and if I remember properly, much
better than S-plus' grayscales).

Try the following example  

   postscript("gray-bars.ps")

   data(VADeaths, package = "base")
   barplot(VADeaths, col = gray(seq(0,.9, len=6)))

   dev.off()
   system("gv gray-bars.ps &")

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rabin at brandeis.edu  Fri Aug  4 22:32:05 2000
From: rabin at brandeis.edu (Ely Rabin)
Date: Fri, 04 Aug 2000 16:32:05 -0400
Subject: [R] running non-base functions
Message-ID: <398B2845.7C6F1D7A@binah.cc.brandeis.edu>

Having loaded R for windows, I cannot run fnctions that aren't in the
base folder.

Typing searchpaths() tells me that only the base folder is in the search
path.  How can the path be modified to include other folders?

Thanks,
Ely
rabin at brandeis.edu

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rabin at brandeis.edu  Fri Aug  4 22:33:12 2000
From: rabin at brandeis.edu (Ely Rabin)
Date: Fri, 04 Aug 2000 16:33:12 -0400
Subject: [R] running non-base functions
Message-ID: <398B2888.4670B6F5@binah.cc.brandeis.edu>


-------------- next part --------------
An embedded message was scrubbed...
From: Ely Rabin <rabin at binah.cc.brandeis.edu>
Subject: running non-base functions
Date: Fri, 04 Aug 2000 16:32:05 -0400
Size: 676
Url: https://stat.ethz.ch/pipermail/r-help/attachments/20000804/b77439e6/attachment.mht

From maechler at stat.math.ethz.ch  Fri Aug  4 22:21:52 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 4 Aug 2000 22:21:52 +0200 (CEST)
Subject: [R] pattern on bars?
In-Reply-To: <14731.7265.17470.403688@gargle.gargle.HOWL>
References: <XFMail.20000804110643.s-luppescu@uchicago.edu>
	<14731.7265.17470.403688@gargle.gargle.HOWL>
Message-ID: <14731.9696.261055.144324@gargle.gargle.HOWL>

>>>>> "MM" == Martin Maechler <maechler at stat.math.ethz.ch> writes:

>>>>> "s-luppescu" == s-luppescu  <s-luppescu at uchicago.edu> writes:
    s-luppescu> Colors are real nice, but the publication I'm preparing
    s-luppescu> these barplots for permits only black and white. The Splus
    s-luppescu> plot options ``dbangle'' (or plain ``angle'') and
    s-luppescu> ``density'' (as on p. 65 of MASS 1st ed.) don't seem to be
    s-luppescu> available in R.  Is there another way to do this?

    MM> Use a grayscale color palette.  If I remember right, R's grayscales
    MM> are quite well printed on a B/W printer (and if I remember
    MM> properly, much better than S-plus' grayscales).

    MM> Try the following example

    MM>    postscript("gray-bars.ps")

    MM>    data(VADeaths, package = "base") 
    MM>    barplot(VADeaths, col = gray(seq(0,.9, len=6)))

    MM>    dev.off() system("gv gray-bars.ps &")
                             ^^
			this should have been "gv -mono"
but if you really want to see how it prints, you have to print it  :-)

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Fri Aug  4 22:26:00 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Fri, 4 Aug 2000 13:26:00 -0700 (PDT)
Subject: [R] running non-base functions
In-Reply-To: <398B2845.7C6F1D7A@binah.cc.brandeis.edu>
Message-ID: <Pine.GSO.4.21.0008041322250.28229-100000@atlas.biostat.washington.edu>

On Fri, 4 Aug 2000, Ely Rabin wrote:

> Having loaded R for windows, I cannot run fnctions that aren't in the
> base folder.
> 
> Typing searchpaths() tells me that only the base folder is in the search
> path.  How can the path be modified to include other folders?


Functions are divided up into packages, which can be loaded with 
   library(packagename)

So to get the modern regression functions in the "modreg" package type
   library(modreg)


Another note: search() is more generally informative than
searchpaths(). It tells you what packages are loaded; searchpaths() tells
you where they were loaded from, which is important mostly for
programmers.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

	

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Fri Aug  4 22:53:57 2000
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Sat, 5 Aug 2000 08:53:57 +1200
Subject: [R] pattern on bars?
References: <XFMail.20000804110643.s-luppescu@uchicago.edu>
Message-ID: <001e01bffe56$1cb48b60$567d37d2@j7r5k9>

----- Original Message -----
From: <s-luppescu at uchicago.edu>
To: "R Help List" <r-help at stat.math.ethz.ch>
Sent: Saturday, August 05, 2000 4:06 AM
Subject: [R] pattern on bars?


> Colors are real nice, but the publication I'm preparing these barplots for
> permits only black and white. The Splus plot options ``dbangle''  (or
plain
> ``angle'') and ``density'' (as on p. 65 of MASS 1st ed.) don't seem to be
> available in R.  Is there another way to do this?
Certainly there are ways to do this.
One of the many ways is to use something like "col = gray...".

I've attached an example below:
csd <- matrix(c(4,  2,  4,  6,
                4,  3,  1,  4,
                4,  7,  7,  1,
                0,  7,  3,  2,
                4,  5,  3,  2,
                5,  4,  2,  2,
                3,  1,  3,  0,
                4,  4,  6,  7,
                1, 10,  8,  7,
                1,  5,  3,  2,
                1,  5,  2,  1,
                4,  1,  4,  3,
                0,  3,  0,  6,
                2,  1,  5,  5),
              nr = 4)

barplot(csd,
        col = gray(5:9/10), # Use monochrome
        ylim = c(0,30),
        names = 72:85, xlab="Year", ylab="Students",
        legend = c("Winter", "Spring", "Summer", "Fall"),
        main = "Graduated PHD - CSD")

Cheers,

Ko-Kang
>
> I'm running R 1.1.0 on Linux (intel). Thanks.
> ______________________________________________________________________
> Stuart Luppescu         -=-=-  University of Chicago
> $(B:MJ8$HCRF`H~$NIc(B        -=-=-  s-luppescu at uchicago.edu
> http://www.consortium-chicago.org/people/sl/sl.html
> PGP Public Key: www.consortium-chicago.org/people/sl/pubkey.asc
> ICQ #21172047  AIM: psycho7070
> "What if" is a trademark of Hewlett Packard, so stop using it in your
> sentences without permission, or risk being sued.
> >> Sent on 04-Aug-2000 at 10:44:36 with xfmail
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Aug  4 22:57:42 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 4 Aug 2000 21:57:42 +0100 (BST)
Subject: [R] running non-base functions
In-Reply-To: <398B2845.7C6F1D7A@binah.cc.brandeis.edu>
Message-ID: <Pine.GSO.4.05.10008042153470.12281-100000@auk.stats>

On Fri, 4 Aug 2000, Ely Rabin wrote:

> Having loaded R for windows, I cannot run fnctions that aren't in the
> base folder.
> 
> Typing searchpaths() tells me that only the base folder is in the search
> path.  How can the path be modified to include other folders?

See the help on attach and library.  search() is the usual way to look at
the search path: searchpaths() gives information that users don't usually
need, but the help system does.

By the way, you can run functions you create, which will be in the 
user workspace .GlobalEnv, the first item on the search list.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gwtim at 2xtreme.net  Sat Aug  5 03:48:40 2000
From: gwtim at 2xtreme.net (George Timmons)
Date: Fri, 4 Aug 2000 18:48:40 -0700 (PDT)
Subject: [R] new arima source code
Message-ID: <200008050148.SAA00732@gwtim.2xtreme.net>

Greetings:
I was looking for the source code for the new arima procedure. I checked
the floppies directory and downloaded R-devel-2.tar.gz but this
only included the old starma.f. Is the new code available yet?
Thanks,
George
gwtim at 2xtreme.net
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Aug  5 08:25:47 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 5 Aug 2000 07:25:47 +0100 (BST)
Subject: [R] new arima source code
In-Reply-To: <200008050148.SAA00732@gwtim.2xtreme.net>
Message-ID: <Pine.GSO.4.05.10008050723330.16324-100000@auk.stats>

On Fri, 4 Aug 2000, George Timmons wrote:

> Greetings:
> I was looking for the source code for the new arima procedure. I checked
> the floppies directory and downloaded R-devel-2.tar.gz but this
> only included the old starma.f. Is the new code available yet?

What new arima procedure?  I am not aware of one, and arima0 in package ts
is still current.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ukans.edu  Sat Aug  5 17:21:21 2000
From: pauljohn at ukans.edu (Paul E Johnson)
Date: Sat, 05 Aug 2000 10:21:21 -0500
Subject: [R] Problem reading in table with extra spaces
Message-ID: <398C30F1.A2DDE39B@ukans.edu>

I wrote with C and created a file that I can read into S+, but R chokes
because I've got multiple spaces between some variables and there is a
space at the start of each data line.  This happens becuase C was
right-justifying the numbers as it printed them out.  It looks like
this:

T Run Seed IntAct Change f0 f0T0 f0T1 f0T2 average0 variance0
relentropy0 f1 f1T0 f1T1 f1T2 average1 variance1 relentropy1 f2 f2T0
f2T1 f2T2 average2 variance2 relentropy2 f3 f3T0 f3T1 f3T2 average3
variance3 relentropy3 f4 f4T0 f4T1 f4T2 average4 variance4 relentropy4
totalEntropy acquaint harmony identical 
 960 0 807089772  43   0 f0 42 22 36 0.940000 0.770000 0.969635 f1 32 38
30 0.980000 0.610000 0.995340 f2 24 38 38 1.140000 0.590000 0.981121 f3
31 40 29 0.980000 0.590000 0.990856 f4 41 27 32 0.910000 0.710000
0.986421 0.707571 0.435000 0.628316 0.413000 
 840 1 695491788  48   0 f0 41 29 30 0.890000 0.680000 0.988275 f1 23 36
41 1.180000 0.600000 0.975208 f2 35 26 39 1.040000 0.720000 0.987522 f3
31 33 36 1.050000 0.660000 0.998277 f4 28 40 32 1.040000 0.590000
0.989945 0.706440 0.435000 0.579580 0.356000 

Can you tell me what to do?  Perhaps I need tips on formatting output
from C as well, but I would really really like to just read in this data
without running the models over again.


-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science            http://lark.cc.ukans.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sat Aug  5 22:30:39 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sat, 05 Aug 2000 22:30:39 +0200
Subject: [R] Problem reading in table with extra spaces
References: <398C30F1.A2DDE39B@ukans.edu>
Message-ID: <398C796F.7450EF3@statistik.uni-dortmund.de>

Paul E Johnson wrote:
> 
> I wrote with C and created a file that I can read into S+, but R chokes
> because I've got multiple spaces between some variables and there is a
> space at the start of each data line.  This happens becuase C was
> right-justifying the numbers as it printed them out.  It looks like
> this:
> 
> T Run Seed IntAct Change f0 f0T0 f0T1 f0T2 average0 variance0
> relentropy0 f1 f1T0 f1T1 f1T2 average1 variance1 relentropy1 f2 f2T0
> f2T1 f2T2 average2 variance2 relentropy2 f3 f3T0 f3T1 f3T2 average3
> variance3 relentropy3 f4 f4T0 f4T1 f4T2 average4 variance4 relentropy4
> totalEntropy acquaint harmony identical
>  960 0 807089772  43   0 f0 42 22 36 0.940000 0.770000 0.969635 f1 32 38
> 30 0.980000 0.610000 0.995340 f2 24 38 38 1.140000 0.590000 0.981121 f3
> 31 40 29 0.980000 0.590000 0.990856 f4 41 27 32 0.910000 0.710000
> 0.986421 0.707571 0.435000 0.628316 0.413000
>  840 1 695491788  48   0 f0 41 29 30 0.890000 0.680000 0.988275 f1 23 36
> 41 1.180000 0.600000 0.975208 f2 35 26 39 1.040000 0.720000 0.987522 f3
> 31 33 36 1.050000 0.660000 0.998277 f4 28 40 32 1.040000 0.590000
> 0.989945 0.706440 0.435000 0.579580 0.356000
> 
> Can you tell me what to do?  Perhaps I need tips on formatting output
> from C as well, but I would really really like to just read in this data
> without running the models over again.

I tried to read it in using R-1.1.0 on WinNT4.0:

 read.table("c:/blah/test.txt")

and it works fine for me.

Please give some informations about your system, your version of R and
how you tried to solve your problem, then you will get faster and maybe
better answers from this list.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ukans.edu  Sun Aug  6 07:08:53 2000
From: pauljohn at ukans.edu (Paul E Johnson)
Date: Sun, 06 Aug 2000 00:08:53 -0500
Subject: Dont put sep if you don't really need it! (was: [R] Problem reading in 
 table with extra spaces
References: <398C30F1.A2DDE39B@ukans.edu> <398C796F.7450EF3@statistik.uni-dortmund.de>
Message-ID: <398CF2E5.9560887E@ukans.edu>

Uwe Ligges wrote:
I had problems reading in this data with this command

read.table("lastline.txt",header=T,sep=" ").

On RH linux 6.2 with R 1.1, this returns an error that all lines must
have the same number of values.

Since then, I saw Uwe Ligges reply, and he is correct. The error goes
away if you don't specify the separator:
read.table("lastline.txt",header=T)

> > T Run Seed IntAct Change f0 f0T0 f0T1 f0T2 average0 variance0
> > relentropy0 f1 f1T0 f1T1 f1T2 average1 variance1 relentropy1 f2 f2T0
> > f2T1 f2T2 average2 variance2 relentropy2 f3 f3T0 f3T1 f3T2 average3
> > variance3 relentropy3 f4 f4T0 f4T1 f4T2 average4 variance4 relentropy4
> > totalEntropy acquaint harmony identical
> >  960 0 807089772  43   0 f0 42 22 36 0.940000 0.770000 0.969635 f1 32 38
> > 30 0.980000 0.610000 0.995340 f2 24 38 38 1.140000 0.590000 0.981121 f3
> > 31 40 29 0.980000 0.590000 0.990856 f4 41 27 32 0.910000 0.710000
> > 0.986421 0.707571 0.435000 0.628316 0.413000
-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science            http://lark.cc.ukans.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Aug  6 12:24:13 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 Aug 2000 12:24:13 +0200
Subject: [R] Reading blank lines
In-Reply-To: murdoch@stats.uwo.ca's message of "Fri, 04 Aug 2000 13:24:07 -0400"
References: <3990fbcf.12376314@fisher.stats.uwo.ca>
Message-ID: <x24s4yr8ky.fsf@blueberry.kubism.ku.dk>

murdoch at stats.uwo.ca (Duncan Murdoch) writes:

> I'm writing a data.restore function like the one in S-PLUS.  One
> problem:  scan() deletes any blank lines when it reads with
> what=list('').  Is there a way to tell it to convert a blank line to a
> 0 length string element?

I don't know of one. This is Splus 3.x compatible behaviour, it seems,
but it's none too logical to have this happen even with sep="\n"...

$ cat > junkx
line 1
line 2     

line 4
$
...
[Splus]
> scan(file='junkx',what='',sep='\n')
[1] "line 1" "line 2" "line 4"
> read.table(file='junkx')
    V1 V2 
1 line  1
2 line  2
3 line  4

Perhaps we want to add an argument to control this?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From theis at statistik.uni-dortmund.de  Sun Aug  6 19:11:30 2000
From: theis at statistik.uni-dortmund.de (Winfried Theis)
Date: Sun, 6 Aug 2000 19:11:30 +0200 (MET DST)
Subject: [R] Problem with SuSE 6.4 RPMS
In-Reply-To: <398B084D.5012311D@psy.uni-muenchen.de>
Message-ID: <Pine.GSO.4.05.10008061901410.5884-100000@amadeus.statistik.uni-dortmund.de>

Hello everybody!
On Fri, 4 Aug 2000, Sven Garbade wrote:
> Hi,
> 
> you find libblas.so.2 in the BEOWOLF-section on the SuSE-CDs, package
> "BLAS" (take a look in the readme file on cran). But I do not
> understand, how you´ve installed the R-rpm, because of the broken
> dependencies. Have you used the "force-install" or
> "no-dependencies-check" options?
> 
> Regards, Sven
Well, I hadn't looked into this section! I checked all the others though
-- so its no wonder I didn't find it! Well I didn't use any options which
are not predefined in YaST 1.05 so I don't know actually if I used any...
I tried to solve the problem by checking the dependencies the R-0.90.1
which is included in the distribution. This came up with some missing
library I hadn`t heard of as well but not the libblas.so.2. But I learn
again that it is no good using comfortable tools without any knowledge of
the procedure. ;-)

Thanks for all the help!

Winfried
________________________________________________________________________
Dipl.-Math. Winfried Theis			   Tel:++49 231/755-5903
SFB 475, FB Statistik, Universit"at Dortmund, 44221 Dortmund
e-mail: theis at amadeus.statistik.uni-dortmund.de


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From camann at babylon.cnrs.humboldt.edu  Sun Aug  6 09:46:37 2000
From: camann at babylon.cnrs.humboldt.edu (Michael Camann)
Date: Sun, 6 Aug 2000 00:46:37 -0700
Subject: [R] pattern on bars?
In-Reply-To: <001e01bffe56$1cb48b60$567d37d2@j7r5k9>
Message-ID: <200008060746.AAA14364@babylon.cnrs.humboldt.edu>

Let me second the call for angled lines, hatching, etc in barplot.  I'm
preparing numerous figures for publication and will likely have to re-do
them because, nice as it is, grey() doesn't produce black and white camera
ready figures as required by many journals.

--Mike C.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Michael A. Camann                                  Voice: 707-826-3676
Assistant Professor of Zoology                       Fax: 707-826-3201
Institute for Forest Canopy Research     Email: mac24 at axe.humboldt.edu
Department of Biology                            ifcr at axe.humboldt.edu
Humboldt State University           
Arcata, CA 95521

          URL:http://www.humboldt.edu/~mac24/camann.html
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ukans.edu  Sun Aug  6 22:47:19 2000
From: pauljohn at ukans.edu (Paul E Johnson)
Date: Sun, 06 Aug 2000 15:47:19 -0500
Subject: [R] Trying to "pretty up" output from R job
Message-ID: <398DCED7.616C3099@ukans.edu>

Running R 1.1 on RedHat Linux 6.2.

I need to write a shell script that goes through a bunch of directories
of simulation output, creating summary files that have the mean and
standard deviation of the variables found in the data files in each
directory.  I've got the R code doing almost the right thing. It reads
in data, then gets the mean and standard deviation for the numeric
variables, puts those results together, and then grabs the directory
name from the system and jams that in to the results as well. Here is
what I have:

data<-read.table("lastline.txt",header=T,as.is = TRUE)
indices<-1:dim(data)[2]
indices<-na.omit(ifelse(indices*sapply(data,is.numeric),indices,NA))
mean<-sapply(data[,indices],mean)
sd<-sapply(data[,indices],sd)
dir<-system("pwd",TRUE)
newOutput<-rbind(mean,sd)
transNewOutput<-t(newOutput)
transNewOutput<-rbind(dir,transNewOutput)
write.table(transNewOutput,file="Atestoutput",quote=FALSE, sep="\t")

The output file looks like this:

mean    sd
dir     /home/pauljohn/swarm/src        /home/pauljohn/swarm/src
T       732.1   148.618520536522
Run     49.5    29.011491975882
Seed    499366074.13    296739559.579976
IntAct  43.85   5.592879672432
Change  0       0

Now the questions:
1. I want 3 columns of output, but here the first line only has two
items.  I can't see any way to make it put out a lable for the first
column, like "Variable" or some such.

2. Can you tell me how to truncate the numerical printout so it only
shows two numbers after the decimal point?

3. Is my way of keeping track of the directory completely ridiculous? 
How else would you do it?

4. My next chore is to find how to make this thing run through a series
of directories, summarizing each.  Would you recommend I do this with a
shell script or something within R itself?
-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science            http://lark.cc.ukans.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter.baker at tag.csiro.au  Mon Aug  7 04:16:48 2000
From: peter.baker at tag.csiro.au (Peter Baker)
Date: Mon, 7 Aug 2000 12:16:48 +1000 (EST)
Subject: [R] pattern on bars?
In-Reply-To: <200008060746.AAA14364@babylon.cnrs.humboldt.edu>
Message-ID: <Pine.LNX.4.21.0008071213310.16211-100000@tags183.tag.csiro.au>

On Sun, 6 Aug 2000, Michael Camann wrote:

> Let me second the call for angled lines, hatching, etc in barplot.  I'm
> preparing numerous figures for publication and will likely have to re-do
> them because, nice as it is, grey() doesn't produce black and white camera
> ready figures as required by many journals.
> 
> --Mike C.

Me too! I got away with white, grey and black recently for a
conference proceeding but it was really pushing it.

Regards
Peter

-- 
Peter Baker, Biometrician, (Ph: temporarily 3214 2356)
CSIRO Mathematical Information Sciences
Long Pocket Laboratories, 120 Meiers Road, Indooroopilly
QLD 4068 Australia. Email: Peter.Baker at cmis.csiro.au
Phone:+61 7 3214 2200 Fax:+61 7 3214 2881



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Aug  7 09:26:55 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 Aug 2000 09:26:55 +0200
Subject: [R] pattern on bars?
In-Reply-To: Peter Baker's message of "Mon, 7 Aug 2000 12:16:48 +1000 (EST)"
References: <Pine.LNX.4.21.0008071213310.16211-100000@tags183.tag.csiro.au>
Message-ID: <x2hf8xedkw.fsf@blueberry.kubism.ku.dk>

Peter Baker <peter.baker at tag.csiro.au> writes:

> On Sun, 6 Aug 2000, Michael Camann wrote:
> 
> > Let me second the call for angled lines, hatching, etc in barplot.  I'm
> > preparing numerous figures for publication and will likely have to re-do
> > them because, nice as it is, grey() doesn't produce black and white camera
> > ready figures as required by many journals.
> > 
> > --Mike C.
> 
> Me too! I got away with white, grey and black recently for a
> conference proceeding but it was really pushing it.

Problem #1 in this area is that crosshatching generates some truly
awful optical effects on barplots. I'm a bit out of my waters with
this, but I seem to remember that there's a way of setting the
halftone screen in PostScript so that "grey" comes out as dot patterns
of various densities (which it always does of course, but it should be
possible to set up for bigger dots).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Mon Aug  7 10:50:50 2000
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Mon, 07 Aug 2000 10:50:50 +0200
Subject: [R] Problem with SuSE 6.4 RPMS
References: <398B084D.5012311D@psy.uni-muenchen.de>
			<Pine.GSO.4.05.10008061901410.5884-100000@amadeus.statistik.uni-dortmund.de> <14734.24785.448122.876192@gargle.gargle.HOWL>
Message-ID: <398E786A.273CED42@psy.uni-muenchen.de>

Martin Maechler wrote:

>     WinfTh> Well, I hadn't looked into this section! I checked all the
>     WinfTh> others though -- so its no wonder I didn't find it! Well I
>     WinfTh> didn't use any options which are not predefined in YaST 1.05 so
>     WinfTh> I don't know actually if I used any...  I tried to solve the
>     WinfTh> problem by checking the dependencies the R-0.90.1 which is
>     WinfTh> included in the distribution. This came up with some missing
>     WinfTh> library I hadn`t heard of as well but not the libblas.so.2. But
>     WinfTh> I learn again that it is no good using comfortable tools
>     WinfTh> without any knowledge of the procedure. ;-)
> 

You should not use Yast to upgrade or install any rpm-packages who are
NOT maintained by SuSE... Yast can?t check the dependencies (don?t know
why). Yast only checks correctly the dependencies for all packages in
one distribution, e.g. with Yast on SuSE 6.3 you can?t upgrade any rpm
package using the 6.4 cds... Use rpm on the command line (e.g. rpm -Uhv
<package>), even if you want to install or upgrdade any package you?ve
found in the web.

> Now that you'r mentioning R's version on SuSE 6.4:
> I think it's close to atrocious that they bundle 0.90.1  (Dec 15, 1999)
> when 1.0.0 came out Feb.29
> and they have a release cycle of only a few months...
> 
> If any you have a closer connection to SuSE, I think it might make sense
> to tell them how to upgrade versions of R or to find the person @suse who's
> responsibility it is...
> 

I?ll mail this problem to suse-feedback.

Bye, Sven
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Andri.Cantieni at ubsw.com  Mon Aug  7 11:21:08 2000
From: Andri.Cantieni at ubsw.com (Andri.Cantieni@ubsw.com)
Date: Mon, 7 Aug 2000 11:21:08 +0200
Subject: [R] Factor Analysis
Message-ID: <H0000c140b076195@MHS>

     Hi
     
     Is there a function available who can calculate true factor analysis?? 
     Estimation equation looks like follows:
     
     cov(X)=g1^2*x1*x2(transposed)+ g2^2*x2*x2(transposed)+cov(errorterm);
     
     while x are vectors to be estimated, g(i) are scalars and the
     errorterm is a diagonalmatrix.
     
     Thanks 
     
     Andri Cantieni
     
     UBS Warburg
     Switzerland


This message contains confidential information and is intended only 
for the individual named.  If you are not the named addressee you 
should not disseminate, distribute or copy this e-mail.  Please 
notify the sender immediately by e-mail if you have received this 
e-mail by mistake and delete this e-mail from your system.

E-mail transmission cannot be guaranteed to be secure or error-free 
as information could be intercepted, corrupted, lost, destroyed, 
arrive late or incomplete, or contain viruses.  The sender therefore 
does not accept liability for any errors or omissions in the contents 
of this message which arise as a result of e-mail transmission.  If 
verification is required please request a hard-copy version.  This 
message is provided for informational purposes and should not be 
construed as a solicitation or offer to buy or sell any securities or 
related financial instruments.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Christian.C.Ritter at OPC.shell.com  Mon Aug  7 14:52:39 2000
From: Christian.C.Ritter at OPC.shell.com (Ritter, Christian C SRTCL-CTGAS)
Date: Mon, 7 Aug 2000 14:52:39 +0200 
Subject: [R] filtering spectra
Message-ID: <F169284AF6DDD111AA000001FAF836E801230892@LLNBBS22>

Hi all,

I'll have to filter Raman spectra and I would like to do so in R. I'm trying
to figure out how. Maybe one of you could help me ...

This is what I have to do:

General:
	separate the real spectrum (the set of peaks) from two
contaminations: a drifting background and (white) noise

Constraints (which should help the task):
	A - the spectrum is positive
	B - the spectrum is long (covers about 1000 wave numbers)
	C - the background changes slowly (on the order of 10 equivalent
degrees of freedom over the 1000 wave numbers).
	D - the spectrum changes fast (a peak comprises 10-20 wave-numbers)
	E - the noise changes very fast (can be assumed uncorrelated)
	F - sometimes, repeat measurements are available on the same (or
essentially the same) analyte: such repeats are
		supposed to share the same spectrum but may have different
backgrounds (and the noise is certainly different)

Ideas: (on the lines of smoothing)
	Use a positive smoother to model signal (maybe a finite support
kernel of appropriate bandwidth)
	Use a smoothing spline with low degree of freedom (10 or so) for the
background
	Use a generalized additive model type setup for fitting (with
Gaussian error)

Assistance would be greatly appreciated.
						Chris

Christian Ritter, Statistical Services, Belgian Shell Chemicals
Tel. +32 10 477349, fax +32 10 477219, email christian.c.ritter at opc.shell
com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From raetzel at Mathematik.Uni-Marburg.de  Mon Aug  7 19:20:33 2000
From: raetzel at Mathematik.Uni-Marburg.de (Dirk F. Raetzel)
Date: Mon, 7 Aug 2000 19:20:33 +0200 (MET DST)
Subject: [R] grid() problems in plot(log="y")
Message-ID: <Pine.GSO.4.21.0008071825230.7960-100000@algol>

Hi,

I have problems with grids using logscale on the y-axis.

Using logscale, the parameter par("yaxp")[3] seems to be negative. 
Therefore, calling grid() with no parameters gives an error
message in the seq()-call of grid(). (Bug?).  
[Running R 1.1.0 sparc-sun-solaris2.7]

But even knowing the number of tick marks is of no help, since the
location of tick marks does not seem to be allocated very regularly (for
different data). Only in a few cases a call to grid() with an approbiate
value for ny would generate the grid lines on the right places. 
Is there any possibility to get the locations of the
plotted tickmarks, so that one could plot the grid easily by direct calls
of a lines-command? (Otherwise I might have to draw my axes with the
axis-command.)

> plot(seq(1,9), log="y", panel.first=grid(ny=3))
works perfect, whereas

> plot(seq(1,10), log="y", panel.first=grid(ny=3))
plots the grid lines at the wrong places

> plot(seq(1,10), log="y", axes=FALSE, panel.first=grid(ny=0),
+      frame.plot=T)
> axis(1)
> axis(2, c(1,2,4,8))
> abline(h=c(1,2,4,8), col="lightgray", lty="dotted")
gives the desired plot, but one have to think about the scaling of the
y-axis.


Dirk






-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From camann at babylon.cnrs.humboldt.edu  Mon Aug  7 08:56:54 2000
From: camann at babylon.cnrs.humboldt.edu (Michael Camann)
Date: Sun, 6 Aug 2000 23:56:54 -0700
Subject: [R] pattern on bars?
In-Reply-To: <x2hf8xedkw.fsf@blueberry.kubism.ku.dk>
Message-ID: <200008070656.XAA15236@babylon.cnrs.humboldt.edu>

---Reply to mail from Peter Dalgaard BSA about [R] pattern on bars?
 
> Problem #1 in this area is that crosshatching generates some truly
> awful optical effects on barplots. 

Unfortunately, no matter how bad it looks, it's often the editorial policy
of journals because it's much easier to reproduce.  It's *very* annoying to 
have to export everything to some cheesy graphics program like Sigma Plot in 
order to submit it, especially when analyses and graphics are so well
integrated in R.

--Mike

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Michael A. Camann                                  Voice: 707-826-3676
Assistant Professor of Zoology                       Fax: 707-826-3201
Institute for Forest Canopy Research     Email: mac24 at axe.humboldt.edu
Department of Biology                            ifcr at axe.humboldt.edu
Humboldt State University           
Arcata, CA 95521

          URL:http://www.humboldt.edu/~mac24/camann.html
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ukans.edu  Mon Aug  7 21:11:00 2000
From: pauljohn at ukans.edu (Paul Johnson)
Date: Mon, 07 Aug 2000 14:11:00 -0500
Subject: [R] Thanks for all the help (re: Trying to "pretty up" output from R job
References: <398DCED7.616C3099@ukans.edu>
Message-ID: <398F09C4.43CA387E@ukans.edu>

Paul E Johnson wrote:
> 
> Running R 1.1 on RedHat Linux 6.2.
This is about the best email list I've ever been in. Unceasingly helpful
and polite.  I got quick answers from 10 different people telling me 5
different ways to round numbers after two decimal places and several
other ways to fiddle the output format. Awesome.

Just for the record, my opinion is that, if you need to have an R thing
done in each subdirectory, and each subdirectory's name can be some
completely arbitrary thing that you can't predict ahead of time, it is
much easier to make a shell script that traverses the directory
structure than it is to write an R program that goes into the
subdirectories.  The shell script just needs:

#!/bin/sh
for file in *;
 do
        echo $file
    if [ -d $file ]
        then 

	 cd $file

	        R BATCH ../Rcollector.R
       cd ..
     fi
done


-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science            http://lark.cc.ukans.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From UEI0679407200 at eurociber.es  Tue Aug  8 00:06:41 2000
From: UEI0679407200 at eurociber.es (Use)
Date: Tue, 8 Aug 2000 00:06:41 +0200
Subject: [R] Rterm and Windows 2000
Message-ID: <000d01c000bb$c513afe0$d1174cc3@use-bito>

I've just installed R 1.1.0 under Windows 2000 in a Pentium Mobile III
600MHh. Everything seems to work fine except Rterm. Rterm runs but only
accepts one command, it doesn't return the R promt. This is a problem to run
R under Emacs and in a "BATCH" mode. Is there a workaround or a solution to
this problem.

Please reply directly to me, in summer I'm not subscribed to the list.
Thanks.

Eusebio


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Aug  7 23:47:42 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 7 Aug 2000 22:47:42 +0100 (BST)
Subject: [R] Rterm and Windows 2000
In-Reply-To: <000d01c000bb$c513afe0$d1174cc3@use-bito>
Message-ID: <Pine.GSO.4.05.10008072242390.18074-100000@auk.stats>

On Tue, 8 Aug 2000, Use wrote:

> I've just installed R 1.1.0 under Windows 2000 in a Pentium Mobile III
> 600MHh. Everything seems to work fine except Rterm. Rterm runs but only
> accepts one command, it doesn't return the R promt. This is a problem to run
> R under Emacs and in a "BATCH" mode. Is there a workaround or a solution to
> this problem.

Input in Rterm is handled separately for each of the keyboard, from ESS and
from a redirected input file.  Just to confirm: you have tried all three
and all three fail?

This is the first report of any problems with R on W2K on a Pentium,
so there are no known workarounds.  We have had several reports of 
success.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From markhall at gol.com  Tue Aug  8 02:00:53 2000
From: markhall at gol.com (markhall@gol.com)
Date: Tue, 8 Aug 2000 09:00:53 +0900
Subject: [R] Rterm and Windows 2000
Message-ID: <20000808000036.6E54B403D@smtp03.mail.gol.com>

While I've been running R 1.1.0 under Windows 2000 on a Dell Latitude with 
128 MB RAM and a Pentium III processor via the RGUI with no problems, the RTERM
doesn't work.  I open it and I can't type any commands in the window...I type
but there is no response.  I get a prompt but that's it.

Best, Mark Hall


> On Tue, 8 Aug 2000, Use wrote:
> 
> > I've just installed R 1.1.0 under Windows 2000 in a Pentium Mobile III
> > 600MHh. Everything seems to work fine except Rterm. Rterm runs but only
> > accepts one command, it doesn't return the R promt. This is a problem to run
> > R under Emacs and in a "BATCH" mode. Is there a workaround or a solution to
> > this problem.
> 
> Input in Rterm is handled separately for each of the keyboard, from ESS and
> from a redirected input file.  Just to confirm: you have tried all three
> and all three fail?
> 
> This is the first report of any problems with R on W2K on a Pentium,
> so there are no known workarounds.  We have had several reports of 
> success.
> 
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  <a 
href="http://www.stats.ox.ac.uk/~ripley/">http://www.stats.ox.ac.uk/~ripley/</a>
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
-
> r-help mailing list -- Read <a href="http://www.ci.tuwien.ac.at/~hornik/R/R-
FAQ.html">http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html</a>
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> 
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chrisl at agsm.edu.au  Tue Aug  8 07:27:01 2000
From: chrisl at agsm.edu.au (chrisl@agsm.edu.au)
Date: Tue, 8 Aug 2000 15:27:01 +1000
Subject: [R] QUERY: function optimize
Message-ID: <OF62731DDC.38D2EF75-ONCA256935.001D5F5F@agsm.edu.au>


I have had problems with the function optimize/optimise
for maximising/minimising a function of one variable. It
seems to get easily fooled by local optima. Obviously
this can happen to any numerical optimiser but some of
the examples I have a pretty disappointing. Any comments
of suggestions of a better R-function?


---------------------------------------------------
Chris Lloyd
Associate Professor,
Australian Graduate School of Management
UNSW SYDNEY NSW 2052
Australia
Tel:   +61 2 9931-9553
Fax:   +61 2 9662-7621
Mob:  0413-522-332
Email: chrisl at agsm.edu.au
Web:   www.agsm.edu.au/~chrisl

 The Australian Graduate School of Management is a
      School of both The University of Sydney
        & The University of New South Wales.
---------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug  8 08:40:42 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 8 Aug 2000 07:40:42 +0100 (BST)
Subject: [R] QUERY: function optimize
In-Reply-To: <OF62731DDC.38D2EF75-ONCA256935.001D5F5F@agsm.edu.au>
Message-ID: <Pine.GSO.4.05.10008080735050.23315-100000@auk.stats>

On Tue, 8 Aug 2000 chrisl at agsm.edu.au wrote:

> 
> I have had problems with the function optimize/optimise
> for maximising/minimising a function of one variable. It
> seems to get easily fooled by local optima. Obviously
> this can happen to any numerical optimiser but some of
> the examples I have a pretty disappointing. Any comments
> of suggestions of a better R-function?

Under at least some circumstances optim() will work better for 1D problems.

I think it is usually assumed that in 1D problems one can find a
reasonable starting interval by, e.g. a grid search.

It is of course possible that there is a bug in optimize (one lurked
in S-PLUS's optimize for many years) so you might like to send some
examples to R-devel.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Tue Aug  8 14:31:27 2000
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Tue, 08 Aug 2000 22:31:27 +1000
Subject: [R] pattern on bars?
Message-ID: <398FFD9F.EC32FED4@ozemail.com.au>

Apologies for late posting, I've been off the air for a couple of days.
This may help with the pattern problem, one which I have had myself.
The following sample C code contains two functions that will fill a
PostScript path with hatch lines.  If I have understood the code in
'devPS.c' correctly, the functions should fit into the method currently
used for filling, that is, the entire "fill" function is bracketed
within "gsave...grestore".

Please let me know if:
a) it is useful
b) there are any mods necessary to integrate it with the current code

Jim
-------------- next part --------------
#include <stdio.h>
#include <unistd.h>

static void PostScriptInitHatch(FILE *fp) {
 char *hatch_cmd[] =
  {"<< /PaintType 2 /PatternType 1 /TilingType 1",
   "/BBox [-11 -11 11 11] /XStep 20 /YStep 20",
   "/PaintProc { pop 0 -10 moveto 0 10 lineto stroke } >>",
   "matrix makepattern /VertLine exch def",
   "<< /PaintType 2 /PatternType 1 /TilingType 1",
   "/BBox [-11 -11 11 11] /XStep 20 /YStep 20",
   "/PaintProc { pop -10 0 moveto 10 0 lineto stroke } >>",
   "matrix makepattern /HorizLine exch def",
   "<< /PaintType 2 /PatternType 1 /TilingType 1",
   "/BBox [-11 -11 11 11] /XStep 20 /YStep 20",
   "/PaintProc { pop -10 -10 moveto 10 10 lineto stroke } >>",
   "matrix makepattern /URLine exch def",
   "<< /PaintType 2 /PatternType 1 /TilingType 1",
   "/BBox [-11 -11 11 11] /XStep 20 /YStep 20",
   "/PaintProc { pop 10 -10 moveto -10 10 lineto stroke } >>",
   "matrix makepattern /ULLine exch def",
   "[/Pattern /DeviceRGB] setcolorspace",
   NULL};
 int index = 0;

 while(hatch_cmd[index]) fprintf(fp,"%s\n",hatch_cmd[index++]);
}

#define N_HATCH 4

static void PostScriptHatchFill(FILE *fp,double r,double g,double b,
 int hatch_type) {
 char *hatch_name[N_HATCH] = {"VertLine","HorizLine","URLine","ULLine"};

 if(hatch_type > 0 && hatch_type <= N_HATCH)
  fprintf(fp,"%.3f %.3f %.3f %s setpattern fill\n",r,g,b,hatch_name[hatch_type-1]);
}

int main() {
 FILE *fp;
 
 if((fp = fopen("testhatch.ps","w")) != NULL) {
  fprintf(fp,"%%!PS-Adobe-2.0 EPSF-2.0\n");
  fprintf(fp,"%%%%BoundingBox: 0 0 200 200\n");
  fprintf(fp,"%%%%EndComments\n");
  PostScriptInitHatch(fp);
  fprintf(fp,"2 setlinewidth\n0 0 0 setrgbcolor\n");
  fprintf(fp,"50 50 50 0 360 arc gsave\n");
  PostScriptHatchFill(fp,0,0,1,1);
  fprintf(fp,"grestore stroke\n");
  fprintf(fp,"150 50 50 0 360 arc gsave\n");
  PostScriptHatchFill(fp,1,0,1,2);
  fprintf(fp,"grestore stroke\n");
  fprintf(fp,"50 150 50 0 360 arc gsave\n");
  PostScriptHatchFill(fp,1,1,0,3);
  fprintf(fp,"grestore stroke\n");
  fprintf(fp,"150 150 50 0 360 arc gsave\n");
  PostScriptHatchFill(fp,0,1,0,4);
  fprintf(fp,"grestore stroke\n");
  fprintf(fp,"showpage\n");
  fclose(fp);
 }
 return(0);
}

From tord.snall at ebc.uu.se  Tue Aug  8 16:23:58 2000
From: tord.snall at ebc.uu.se (Snall, Tord)
Date: Tue, 8 Aug 2000 16:23:58 +0200
Subject: [R] No confint() error
Message-ID: <200008081423.QAA30392@accipiter.its.uu.se>


Dear all,
Some time ago I had a question about confint() in the 
MASS library. 

Thanks to Prof. Ripley I now know there is nothing 
wrong with this function, it works perfectly fine. The 
problem was in my glm which had not converged.


Yours,
Tord Sn?ll
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From UEI0679407200 at eurociber.es  Wed Aug  9 02:10:55 2000
From: UEI0679407200 at eurociber.es (Use)
Date: Wed, 9 Aug 2000 02:10:55 +0200
Subject: [R] Rterm and Windows 2000
Message-ID: <000c01c00196$5b8c56e0$68174cc3@use-bito>

I had tried the first two ("plain" Rtem and Rterm under Emacs) and none of
them seem to work (GNU Emacs 20.5.1). Now I've tried Rterm to run in "BATCH"
mode and it seems to work fine. I've also proved some options and with
options as:

Rterm --vanilla

or

Rterm --no-save --no-restore

the Rterm console admits the command q() and return the system promt but it
doesn't work for other functions.

Please reply directly to me, in summer I'm not subscribed to the list.
Thanks.

Eusebio

---------------------------------------------------------------------------
Original message

>On Tue, 8 Aug 2000, Use wrote:
>
>> I've just installed R 1.1.0 under Windows 2000 in a Pentium Mobile III
>> 600MHh. Everything seems to work fine except Rterm. Rterm runs but only
>> accepts one command, it doesn't return the R promt. This is a problem to
run
>> R under Emacs and in a "BATCH" mode. Is there a workaround or a solution
to
>> this problem.
>
>Input in Rterm is handled separately for each of the keyboard, from ESS and
>from a redirected input file.  Just to confirm: you have tried all three
>and all three fail?
>
>This is the first report of any problems with R on W2K on a Pentium,
>so there are no known workarounds.  We have had several reports of
>success.
>
>
>--
>Brian D. Ripley,                  ripley at stats.ox.ac.uk
>Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>University of Oxford,             Tel:  +44 1865 272861 (self)
>1 South Parks Road,                     +44 1865 272860 (secr)
>Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From anielsen at math.ku.dk  Wed Aug  9 04:13:22 2000
From: anielsen at math.ku.dk (Anders Nielsen)
Date: Wed, 9 Aug 2000 04:13:22 +0200 (MET DST)
Subject: [R] Help using expression 
In-Reply-To: <Pine.GSO.4.05.10008072242390.18074-100000@auk.stats>
Message-ID: <Pine.OSF.4.21.0008090355030.18278-100000@arnold.math.ku.dk>

Dear R users

I am doing a series of plots and I want the titles to be
expressions controlled by a loop. I believe the problem
can be isolated to:

The plot I want can be produced with:

plot(5, main=expression(alpha[1992]))

But why can't I do something this?

i<-1992
plot(5, main=expression(paste("alpha[",i,"]",sep="")))

I have tried other wrong combinations of paste
and expression. What is the right one?


Any help will be greatly appreciated


Anders

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug  9 07:48:37 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 9 Aug 2000 06:48:37 +0100 (BST)
Subject: [R] Help using expression 
In-Reply-To: <Pine.OSF.4.21.0008090355030.18278-100000@arnold.math.ku.dk>
Message-ID: <Pine.GSO.4.05.10008090637230.29238-100000@auk.stats>

On Wed, 9 Aug 2000, Anders Nielsen wrote:

> Dear R users
> 
> I am doing a series of plots and I want the titles to be
> expressions controlled by a loop. I believe the problem
> can be isolated to:
> 
> The plot I want can be produced with:
> 
> plot(5, main=expression(alpha[1992]))
> 
> But why can't I do something this?
> 
> i<-1992
> plot(5, main=expression(paste("alpha[",i,"]",sep="")))

paste("alpha[",i,"]",sep="") is the character string "alpha[1992]".
You need to parse it to make an expression.

> parse(text=paste("alpha[",i,"]",sep=""))
expression(alpha[1992])
> plot(5, main=parse(text=paste("alpha[",i,"]",sep="")))

Bingo!

There is another way to do this using substitute, which here is simpler.
My first attempt would have been

> plot(5, main=substitute(alpha[i], list(i=i)))

and that works, as the result of substitute is of mode "call" (and type
"language"):

> substitute(alpha[i], list(i=i))
alpha[1992]
> mode(.Last.value)
[1] "call"


The two techniques are complementary, sometimes one being easier than the
other.  I tend to use parse in complicated situations as handling
character strings can be easier to debug.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug  9 07:53:47 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 9 Aug 2000 06:53:47 +0100 (BST)
Subject: [R] Rterm and Windows 2000
In-Reply-To: <000c01c00196$5b8c56e0$68174cc3@use-bito>
Message-ID: <Pine.GSO.4.05.10008090648590.29238-100000@auk.stats>

On Wed, 9 Aug 2000, Use wrote:

> I had tried the first two ("plain" Rtem and Rterm under Emacs) and none of
> them seem to work (GNU Emacs 20.5.1). Now I've tried Rterm to run in "BATCH"
> mode and it seems to work fine. I've also proved some options and with
> options as:
> 
> Rterm --vanilla
> 
> or
> 
> Rterm --no-save --no-restore
> 
> the Rterm console admits the command q() and return the system promt but it
> doesn't work for other functions.

Thanks.  That points the finger firmly at thread handling in Windows 2000
being incompatible with earlier versions, which affects interactive use and
use with --ess, but not use with a redirected input.

I am afraid there is nothing we can do about this without a Windows 2000
system and some accurate MicroSoft documentation.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From P.Connolly at hort.cri.nz  Wed Aug  9 08:19:25 2000
From: P.Connolly at hort.cri.nz (Patrick Connolly)
Date: Wed, 9 Aug 2000 18:19:25 +1200 (NZST)
Subject: [R] Postscript device
Message-ID: <200008090619.e796JPC03368@atlas.marc.cri.nz>

It would appear to me that there is a bug in the postscript device
when multiple pages are required.  Line widths can be only 1 after the
first page.  I have not seen reference to this as a problem before.


test.device <-
function()
{
#  looks like the problem is in the postscript device
  
       postscript(file = paste("Test.ps"), horizontal = F)
       on.exit(dev.off())
       par(mai = rep(1, 4), lwd = 12)    
    for(j in 1:3) {
       plot(1:10, 11:20)
       title(paste("Testing  .... Page", j), line = -1, cex = 1.5)
    }
}

The above code does not have a problem in Splus 3.4.

It makes no difference in R if the lwd parameter is set in the plotting
call itself.  

Has anyone a work around apart from doing separate plots for each
page? 

platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    1.0              
year     2000             
month    June             
day      15               
language R                


best

-- 
Patrick Connolly
HortResearch
Mt Albert
Auckland
New Zealand 
Ph: +64-9 815 4200 x 7188
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~
I have the world's largest collection of seashells. I keep it on all
the beaches of the world ... Perhaps you've seen it.  ---Steven Wright
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mriordan at nmrc.ucc.ie  Wed Aug  9 17:26:30 2000
From: mriordan at nmrc.ucc.ie (Margaret Riordan)
Date: Wed, 09 Aug 2000 16:26:30 +0100
Subject: [R] pch and curve plotting
Message-ID: <39917825.1AA4C8BD@nmrc.ucc.ie>

Hi all,
I'm having two small problems and was wondering if you could help me
out.

Problem 1:
When I use pch to place a symbol onto a plot it seems to place the point
a little off the exact location. I have read the help file for this
which says to use "." as the plotting character, which will then produce
centered points but I am unclear as to how to do this.

Problem 2: How do I get R to draw a curve through a number of data
points rather than a straight line. From the description of the
functions scatter.smooth and loess.smooth, I think they are what I'm
looking for,
but when I try to run them in R Version 1.1.0, it returns the following
error
Error in sdgraph() : couldn't find function "scatter.smooth"

Your help as always is greatly appreciated
Margaret Riordan


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug  9 18:09:07 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 9 Aug 2000 17:09:07 +0100 (BST)
Subject: [R] pch and curve plotting
In-Reply-To: <39917825.1AA4C8BD@nmrc.ucc.ie>
Message-ID: <Pine.GSO.4.05.10008091658520.16414-100000@auk.stats>

On Wed, 9 Aug 2000, Margaret Riordan wrote:

> Hi all,
> I'm having two small problems and was wondering if you could help me
> out.
> 
> Problem 1:
> When I use pch to place a symbol onto a plot it seems to place the point
> a little off the exact location. I have read the help file for this
> which says to use "." as the plotting character, which will then produce
> centered points but I am unclear as to how to do this.

pch="."   But we have tried hard to get the symbols in the right
places, so which R version and which graphics device is this?

e.g.

plot(1:10, 1:10, type="n")
abline(v=1:10);abline(h=1:10)
for(i in 1:10) for(j in 1:10) points(i, j, pch = ".")

is correct (to 0.5 pixel) on my system) and so is

for(i in 1:10) for(j in 1:10) points(i, j, pch = 16)

(yes, I do know how to vectorize this!)

> Problem 2: How do I get R to draw a curve through a number of data
> points rather than a straight line. From the description of the
> functions scatter.smooth and loess.smooth, I think they are what I'm
> looking for,
> but when I try to run them in R Version 1.1.0, it returns the following
> error
> Error in sdgraph() : couldn't find function "scatter.smooth"

They are in library modreg. You should not have got help on them in
1.1.0 without doing library(modreg) first.

However, they fit a smooth curve through a scatter plot, not through
the data points themselves (smoothing, not interpolation).
There are many other possibilities, and I would tend to prefer
smooth.spline (also in modreg) as it automatically chooses the 
degree of smoothing.   Then there are regression splines, running
lines smoothers (supsmu), kernel smoothers, ....  V&R3 and
its on-line statistical complements have a catalogue and comparisons.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From y0004379 at tu-bs.de  Wed Aug  9 18:32:36 2000
From: y0004379 at tu-bs.de (Peter Malewski)
Date: Wed, 9 Aug 2000 18:32:36 +0200 (METDST)
Subject: [R] pch and curve plotting
In-Reply-To: <39917825.1AA4C8BD@nmrc.ucc.ie>
Message-ID: <Pine.HPX.4.21.0008091829510.17042-100000@rzpool07.rz.tu-bs.de>

On Wed, 9 Aug 2000, Margaret Riordan wrote:

> Problem 1:
> When I use pch to place a symbol onto a plot it seems to place the point
> a little off the exact location. I have read the help file for this
> which says to use "." as the plotting character, which will then produce
> centered points but I am unclear as to how to do this.


plot(rnorm(100),rnorm(100),pch=".")


> Problem 2: How do I get R to draw a curve through a number of data
> points rather than a straight line. From the description of the
> functions scatter.smooth and loess.smooth, I think they are what I'm
> looking for,
> but when I try to run them in R Version 1.1.0, it returns the following
> error
> Error in sdgraph() : couldn't find function "scatter.smooth"

it's in library(modreg) ...


Peter



** To YOU I'm an atheist; to God, I'm the Loyal Opposition. Woody Allen **
P.Malewski					Tel.: 0531 500965
Maschplatz 8					Email: P.Malewski at tu-bs.de
************************38114 Braunschweig********************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ukans.edu  Wed Aug  9 21:59:47 2000
From: pauljohn at ukans.edu (Paul Johnson)
Date: Wed, 09 Aug 2000 14:59:47 -0500
Subject: [R] Trying to make plot of several time series in same graph
Message-ID: <3991B833.EA71BDA4@ukans.edu>

Dear Friends in R:

On RedHat linux, R-1.1, I've gotten far enough to create the graph that
shows on the screen with 3 lines, but I have some trouble. Here is the
way I created the three "overlaid" graphs:


data<-read.table("DataCulture0",header=T,as.is = TRUE)
attach(data)
tmp1<-plot(acquaint~T,type='l', ylim=c(0,1),ylab="average
proportion",xlab="PERIOD",xlim=c(1,6000),lty=1,pch=1,main="")
par("new"=TRUE)
tmp2<-plot(harmony~T,type='l', ylim=c(0,1),ylab="average
proportion",xlab="PERIOD",xlim=c(1,6000),lty=2,pch=1,main="")
par("new"=TRUE)
tmp3<-plot(identical~T,type='l', ylim=c(0,1),ylab="average
proportion",xlab="PERIOD",xlim=c(1,6000),lty=3,pch=1,main="")

Problems.
1. I want to label each line that is plotted on the graph.  Is there a
non interactive way to do it?  My coauthor uses S+ and he used  a
sequence of commands like this:
identify.xyplot(tmp1,labels=acq,n=1,adj=0)
But I don't think it is exactly what I want.

2. When I run the code above, the screen shows 3 lines with different
line styles.  IF I start over again with 
> postscript("../output.ps")
and then run the commands again, and then
> dev.off()
null device
          1 
In the ps file that is saved, all of the lines look the same.

I used the Gimp to take a "screenshot" of the figure as it looks in R:

http://lark.cc.ukans.edu/~pauljohn/exampleRGraph.gif

And the postscript output looks like this:

http://lark.cc.ukans.edu/~pauljohn/exampleRGraph.ps

Any help in saving graphs would be appreciated.  I feel totally
clueless, and I've been looking pretty hard in the V&R and R-intro.

3. In light of difficulty with line styles, I experimented with
character options with type='o' and various pch=x. Those pictures looked
terrible because the symbols were all too dense.  I guess I need
something to print every 100th point there? 

-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science            http://lark.cc.ukans.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stormplot at hotmail.com  Thu Aug 10 00:04:39 2000
From: stormplot at hotmail.com (Jason Fisher)
Date: Wed, 09 Aug 2000 15:04:39 PDT
Subject: [R] tcltk_example
Message-ID: <F34laLJPv00J6gX2Xdo00001cc3@hotmail.com>

Hello R and tcltk users...

I'm running into difficulties applying the tkmenubutton() and tklistbox() 
functions, found in the tcltk package, to a simple gui.  My search for R 
code which utilizes these two functions has come up empty.  Currently, I am 
attempting to translate pure "Tcl/Tk" code to R with little to no success.  
So far, the most helpful tool for learning the tcltk R commands has been the 
"tkdensity()" and "tkttest()" examples, included in the tcltk package.  Any 
other (simple) examples of gui construction utilizing the tkmenubutton() or 
tklistbox() functions would be greatly appreciated.

Jason Fisher
________________________________________________________________________
Get Your Private, Free E-mail from MSN Hotmail at http://www.hotmail.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Aug 10 00:33:10 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 10 Aug 2000 00:33:10 +0200
Subject: [R] tcltk_example
In-Reply-To: "Jason Fisher"'s message of "Wed, 09 Aug 2000 15:04:39 PDT"
References: <F34laLJPv00J6gX2Xdo00001cc3@hotmail.com>
Message-ID: <x2n1imm5eh.fsf@blueberry.kubism.ku.dk>

"Jason Fisher" <stormplot at hotmail.com> writes:

> Hello R and tcltk users...
> 
> I'm running into difficulties applying the tkmenubutton() and
> tklistbox() functions, found in the tcltk package, to a simple gui.
> My search for R code which utilizes these two functions has come up
> empty. Currently, I am attempting to translate pure "Tcl/Tk" code to
> R with little to no success. So far, the most helpful tool for
> learning the tcltk R commands has been the "tkdensity()" and
> "tkttest()" examples, included in the tcltk package. Any other
> (simple) examples of gui construction utilizing the tkmenubutton()
> or tklistbox() functions would be greatly appreciated.

Well, not a whole lot has been written besides the demos, but have you
studied the examples in the man pages? Also try looking at the widget
demo that comes with tcltk, and make use of the tclhelp interface if
you have it.

I haven't played too much with menus and menubuttons, but listboxes
are fairly straightforward, along the lines of

tt<-tktoplevel()
mb<-tklistbox(tt)
tkpack(mb)
tkinsert(mb, 0, month.name)
tkget(mb,"active")

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jborevit at biomail.ucsd.edu  Thu Aug 10 02:38:29 2000
From: jborevit at biomail.ucsd.edu (Justin Borevitz)
Date: Wed, 09 Aug 2000 17:38:29 -0700
Subject: [R] maloof@salk.edu
Message-ID: <B5B74795.181D%jborevit@biomail.ucsd.edu>

r-help at lists.R-project.org

--
Justin Borevitz
Plant Biology
Salk Institute
10010 N. Torrey Pines Rd.
La Jolla CA 92037
USA

UCSD mail code 0932

ph.  +1 858 453-4100 X 1105
fax. +1 858 558-6379
email jborevit at biomail.ucsd.edu



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Thu Aug 10 15:03:51 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Thu, 10 Aug 2000 09:03:51 -0400
Subject: [R] Delayed output?
References: <F34laLJPv00J6gX2Xdo00001cc3@hotmail.com>
Message-ID: <000701c002cb$718349a0$0201a8c0@Workgroup>

Hi,

I'm using R1.1 GUI on NT4 box, I noticed that when I use functions that
print some output during processing I see this output only after the
function as terminated. If during the processing I activate another
program's window that overlay completely the R window and come back to R
then I'll see all the output up to the current state.

My guess is that the internal functions that output to the console aren't
refreshing the console window with a call to InvalidateWindowRectangle or
whatever is appropriate.

It would be nice if this would be corrected in future release.

Thanks for a great piece of software.

Yves

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Thu Aug 10 15:24:46 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Thu, 10 Aug 2000 09:24:46 -0400
Subject: [R] Confidence intervals
Message-ID: <001001c002ce$5bd5a320$0201a8c0@Workgroup>

Hi,

I know this is not exactly an R question but may be someone will nice enough to give me a pointer. I'm using nnet to fit a non linear univariate function. I wonder if there is a way to estimate a confidence interval for the predicted output beside using the residuals? The data set I use is relatively small and I use only a few (5:10) of these as test set or should I say validation set.

Thanks

Yves
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000810/56e75248/attachment.html

From p.dalgaard at biostat.ku.dk  Thu Aug 10 15:53:43 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 10 Aug 2000 15:53:43 +0200
Subject: [R] Delayed output?
In-Reply-To: "Yves Gauvreau"'s message of "Thu, 10 Aug 2000 09:03:51 -0400"
References: <F34laLJPv00J6gX2Xdo00001cc3@hotmail.com> <000701c002cb$718349a0$0201a8c0@Workgroup>
Message-ID: <x2k8dpfcig.fsf@blueberry.kubism.ku.dk>

"Yves Gauvreau" <cyg at sympatico.ca> writes:

> I'm using R1.1 GUI on NT4 box, I noticed that when I use functions that
> print some output during processing I see this output only after the
> function as terminated. If during the processing I activate another
> program's window that overlay completely the R window and come back to R
> then I'll see all the output up to the current state.
> 
> My guess is that the internal functions that output to the console aren't
> refreshing the console window with a call to InvalidateWindowRectangle or
> whatever is appropriate.
> 
> It would be nice if this would be corrected in future release.

"Misc" menu, turn off "Buffered output"....


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug 10 16:04:13 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 10 Aug 2000 15:04:13 +0100 (BST)
Subject: [R] Delayed output?
Message-ID: <200008101404.PAA11787@toucan.stats.ox.ac.uk>

> From: "Yves Gauvreau" <cyg at sympatico.ca>
> Date: Thu, 10 Aug 2000 09:03:51 -0400

> I'm using R1.1 GUI on NT4 box, I noticed that when I use functions that
> print some output during processing I see this output only after the
> function as terminated. If during the processing I activate another
> program's window that overlay completely the R window and come back to R
> then I'll see all the output up to the current state.
> 
> My guess is that the internal functions that output to the console aren't
> refreshing the console window with a call to InvalidateWindowRectangle or
> whatever is appropriate.

That's deliberate, and mentioned in the rw-FAQ.

   6.3 When using Rgui the output to the console seems to be delayed.
   ==================================================================
   
   This is deliberate: the console output is buffered and re-written in
   chunks to be less distracting. You can turn buffering off or on from
   the Misc menu or the right-click menu: <Ctrl-W> toggles the setting.
   
   If you are sourcing R code or writing from a function, there is another
   option. A call to the R function `flush.console()' will write out the
   buffer and so update the console.


You will normally see no output until there is an input prompt or
there is a Windows repaint event.

> It would be nice if this would be corrected in future release.

It's a feature!


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Thu Aug 10 16:07:23 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Thu, 10 Aug 2000 10:07:23 -0400
Subject: [R] Delayed output?
References: <F34laLJPv00J6gX2Xdo00001cc3@hotmail.com><000701c002cb$718349a0$0201a8c0@Workgroup> <x2k8dpfcig.fsf@blueberry.kubism.ku.dk>
Message-ID: <001601c002d4$4f4d9260$0201a8c0@Workgroup>

Thanks, it works fine.

If the output is buffered then how is it that when activate another program
and come back to R, that the current state of the buffer is flushed to the
console. Shouldn't it be delayed until the function is finished?

Thanks.

Yves

----- Original Message -----
From: "Peter Dalgaard BSA" <p.dalgaard at biostat.ku.dk>
To: "Yves Gauvreau" <cyg at sympatico.ca>
Cc: <r-help at stat.math.ethz.ch>
Sent: Thursday, August 10, 2000 9:53 AM
Subject: Re: [R] Delayed output?


> "Yves Gauvreau" <cyg at sympatico.ca> writes:
>
> > I'm using R1.1 GUI on NT4 box, I noticed that when I use functions that
> > print some output during processing I see this output only after the
> > function as terminated. If during the processing I activate another
> > program's window that overlay completely the R window and come back to R
> > then I'll see all the output up to the current state.
> >
> > My guess is that the internal functions that output to the console
aren't
> > refreshing the console window with a call to InvalidateWindowRectangle
or
> > whatever is appropriate.
> >
> > It would be nice if this would be corrected in future release.
>
> "Misc" menu, turn off "Buffered output"....
>
>
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From iosu at bureau.ucc.ie  Fri Aug 11 00:33:39 2000
From: iosu at bureau.ucc.ie (Jesus Maria Frias Celayeta)
Date: Thu, 10 Aug 2000 15:33:39 -0700
Subject: [R] help with matrix creation
Message-ID: <39932DC3.A6762933@ucc.ie>

hi R-help!

    I would like to know a simple and easy way (if posible) to do the following
data manipulation. I have a matrix of experimental data (with replicae in time)

>experiment<-data.frame(times=c(0,0,10,10,20,20,30,30),expval=c(1,1,2,2,3,3,4,4))

> experiment
  times expval
1     0      1
2     0      1
3    10      2
4    10      2
5    20      3
6    20      3
7    30      4
8    30      4

and a set of simulated values

> simul<-data.frame(times=c(0,10,20,30),simul=c(3,4,5,6))
> simul
  times simul
1     0     3
2    10     4
3    20     5
4    30     6

>From this simulated data, I would like to obtain a data frame like this

  times expval simul
1     0      1     3
2     0      1     3
3    10      2     4
4    10      2     4
5    20      3     5
6    20      3     5
7    30      4     6
8    30      4     6

expanding each of the simulated values as many times as duplicates (triplicates
or anything) I have in the data. I have come across duplicate and match, but I
don't see a way forward from here, unless I make a for loop and I match row by
row the time vectors. I am sure that is a very easy thing, and I apologize in
advance for the stupid question, but I am kind of stuck.

cheers,

IOsu



-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000810/d8e9521e/attachment.html

From ripley at stats.ox.ac.uk  Thu Aug 10 17:01:44 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 10 Aug 2000 16:01:44 +0100 (BST)
Subject: [R] help with matrix creation (merging data frames)
Message-ID: <200008101501.QAA11887@toucan.stats.ox.ac.uk>

> Date: Thu, 10 Aug 2000 15:33:39 -0700
> From: Jesus Maria Frias Celayeta <iosu at bureau.ucc.ie>
> 
> hi R-help!
> 
>     I would like to know a simple and easy way (if posible) to do the 
following
> data manipulation. I have a matrix of experimental data (with replicae in 
time)

actually, they seem to be data frames.

> 
> 
>experiment<-data.frame(times=c(0,0,10,10,20,20,30,30),expval=c(1,1,2,2,3,3,4,4)
)
> 
> > experiment
>   times expval
> 1     0      1
> 2     0      1
> 3    10      2
> 4    10      2
> 5    20      3
> 6    20      3
> 7    30      4
> 8    30      4
> 
> and a set of simulated values
> 
> > simul<-data.frame(times=c(0,10,20,30),simul=c(3,4,5,6))
> > simul
>   times simul
> 1     0     3
> 2    10     4
> 3    20     5
> 4    30     6
> 
> >From this simulated data, I would like to obtain a data frame like this
> 
>   times expval simul
> 1     0      1     3
> 2     0      1     3
> 3    10      2     4
> 4    10      2     4
> 5    20      3     5
> 6    20      3     5
> 7    30      4     6
> 8    30      4     6
> 
> expanding each of the simulated values as many times as duplicates 
(triplicates
> or anything) I have in the data. I have come across duplicate and match, but I
> don't see a way forward from here, unless I make a for loop and I match row by
> row the time vectors. I am sure that is a very easy thing, and I apologize in
> advance for the stupid question, but I am kind of stuck.

> merge(experiment, simul)
  times expval simul
1     0      1     3
2     0      1     3
3    10      2     4
4    10      2     4
5    20      3     5
6    20      3     5
7    30      4     6
8    30      4     6

does all the work for you.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ukans.edu  Thu Aug 10 18:32:12 2000
From: pauljohn at ukans.edu (Paul Johnson)
Date: Thu, 10 Aug 2000 11:32:12 -0500
Subject: [R] Aha, it was a problem in gv, not R!
References: <3991B833.EA71BDA4@ukans.edu>
Message-ID: <3992D90C.152EBE30@ukans.edu>

Yesterday I asked about saved ps files not being the same as screen
appearance.  Today I've just discovered the problem is in gv, the ps
viewer, rather than R, because I can print those R-outputted ps files on
the printer and they look fine. In addition, I downloaded the Gnome
viewer "ggv" and it shows the lines as they ought to be.

I'm still trying to configure this output the way I need it.  If
somebody has a relatively full-featured example of a program with a
graph with lots of separate things on it, I could probably figure what I
need from that.  I keep getting stuck on all these little details, like
trying to set the legend for the separate lines or controlling the paper
size of the postscript output.

Thanks in advance.

Paul Johnson wrote:
> With R-1.1, RH Linux 6.2, I created the three "overlaid" graphs:
> 
> data<-read.table("DataCulture0",header=T,as.is = TRUE)
> attach(data)
> tmp1<-plot(acquaint~T,type='l', ylim=c(0,1),ylab="average
> proportion",xlab="PERIOD",xlim=c(1,6000),lty=1,pch=1,main="")
> par("new"=TRUE)
> tmp2<-plot(harmony~T,type='l', ylim=c(0,1),ylab="average
> proportion",xlab="PERIOD",xlim=c(1,6000),lty=2,pch=1,main="")
> par("new"=TRUE)
> tmp3<-plot(identical~T,type='l', ylim=c(0,1),ylab="average
> proportion",xlab="PERIOD",xlim=c(1,6000),lty=3,pch=1,main="")
> 
> Problems.
> 1. I want to label each line that is plotted on the graph.  Is there a
> non interactive way to do it?  My coauthor uses S+ and he used  a
> sequence of commands like this:
> identify.xyplot(tmp1,labels=acq,n=1,adj=0)
> But I don't think it is exactly what I want.
> 
> 2. When I run the code above, the screen shows 3 lines with different
> line styles.  IF I start over again with
> > postscript("../output.ps")
> and then run the commands again, and then
> > dev.off()
> null device
>           1
> In the ps file that is saved, all of the lines look the same.
> 
> I used the Gimp to take a "screenshot" of the figure as it looks in R:
> 
> http://lark.cc.ukans.edu/~pauljohn/exampleRGraph.gif
> 
> And the postscript output looks like this:
> 
> http://lark.cc.ukans.edu/~pauljohn/exampleRGraph.ps
> 
> Any help in saving graphs would be appreciated.  I feel totally
> clueless, and I've been looking pretty hard in the V&R and R-intro.
> 
> 3. In light of difficulty with line styles, I experimented with
> character options with type='o' and various pch=x. Those pictures looked
> terrible because the symbols were all too dense.  I guess I need
> something to print every 100th point there?
> 
> --

-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science            http://lark.cc.ukans.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ukans.edu  Thu Aug 10 18:48:17 2000
From: pauljohn at ukans.edu (Paul Johnson)
Date: Thu, 10 Aug 2000 11:48:17 -0500
Subject: [R] Usage questions
Message-ID: <3992DCD1.E1C2D7B7@ukans.edu>


Can I ask a couple of usage questions?  (RedHat Linux 6.1, R-1.1)

1. This may just indicate I'm a dinosaur who can't leave SAS behind.  I
want to write programs and run them with source() to see what they do,
then I would like to use the "up arrow" to go back through the commands
that were in the file, fiddle them, see what they do, and so forth.  Is
there no way?  SAS has a functionality of a "program editor" screen
where you can fiddle a  file, run it, then save it when it is the way
you want. But in R I don't get any command history with source(), so I
can't experiment with commands.

2. What does it mean when output from a command is just
NULL

It seems like everything is OK when this happens, but it does not always
happen.

3.  When I tried
>  postscript(file="test3.ps",onefile=FALSE)

And then I ran some models, it did not create several files.  Where did
I go wrong? I'm reading the postscript help page and it seems like
there's something missing, or I'm illiterate, or both:

   postscript(file = ifelse(onefile, "Rplots.ps", "Rplot
                onefile = TRUE,
                paper, family, bg, fg, width, height, horizontal,
pointsize,
                pagecentre, print.it, command))

The first line does not appear to be complete.
-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science            http://lark.cc.ukans.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Thu Aug 10 19:12:35 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Thu, 10 Aug 2000 10:12:35 -0700 (PDT)
Subject: [R] Usage questions
In-Reply-To: <3992DCD1.E1C2D7B7@ukans.edu>
Message-ID: <Pine.GSO.4.21.0008100958120.736-100000@atlas.biostat.washington.edu>

On Thu, 10 Aug 2000, Paul Johnson wrote:

> 
> Can I ask a couple of usage questions?  (RedHat Linux 6.1, R-1.1)
> 
> 1. This may just indicate I'm a dinosaur who can't leave SAS behind.  I
> want to write programs and run them with source() to see what they do,
> then I would like to use the "up arrow" to go back through the commands
> that were in the file, fiddle them, see what they do, and so forth.  Is
> there no way?  SAS has a functionality of a "program editor" screen
> where you can fiddle a  file, run it, then save it when it is the way
> you want. But in R I don't get any command history with source(), so I
> can't experiment with commands.

The best way to do this is to use Emacs and ESS (ess.stat.wisc.edu), which
gives various sorts of full-screen editing styles.
 

> 2. What does it mean when output from a command is just
> NULL

It means that the output is NULL :).  Usually this is because the function
is used for its side effects (like plot) and so the return value is
unimportant. Sometimes it is because NULL is the answer, eg a function
that returns a list which happens to be empty.

> It seems like everything is OK when this happens, but it does not always
> happen.

The first category of function often returns invisible(), which means that
the NULL isn't printed unless you explicitly ask for it: compare
	plot(1,1)
	print(plot(1,1))

Functions can also return large complicated objects invisibly.	

> 3.  When I tried
> >  postscript(file="test3.ps",onefile=FALSE)

The problem is that you asked for the files all to be called test3.ps.
This results in them being written on top of each other. Further down in
the postscript documentation it says that you need to give a printf-style
format that R can put the file number into

For example postscript(file="test3.%d.ps",onefile=FALSE)
gives files called test3.1.ps, test3.2.ps and so on.

> And then I ran some models, it did not create several files.  Where did
> I go wrong? I'm reading the postscript help page and it seems like
> there's something missing, or I'm illiterate, or both:
> 
>    postscript(file = ifelse(onefile, "Rplots.ps", "Rplot
>                 onefile = TRUE,
>                 paper, family, bg, fg, width, height, horizontal,
> pointsize,
>                 pagecentre, print.it, command))
> 
> The first line does not appear to be complete.

Yes. It's a bug.  The problem is that the file name is "Rplot%03d.ps" and
the % is a comment indicator in the R documentation format so the rest of 
the line disappears. Thanks for pointing it out.

You can find the arguments to postscript() by doing args(postscript) as
well, which doesn't have this problem

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tomlinso at purdue.edu  Thu Aug 10 14:30:53 2000
From: tomlinso at purdue.edu (Nels Tomlinson)
Date: Thu, 10 Aug 2000 07:30:53 -0500
Subject: [R] Problem with density()?
Message-ID: <3992A07D.ED952782@purdue.edu>

Hello, all,

I'm running Version 1.1.0  (June 15, 2000), on Mandrake 6.1 Linux.  

I think that I'm getting nonsense results from the density function. 
When I feed it a sample generated by v<-runif(1000,0,1), I get back some
small negative numbers for density values, as follows:


>v<-runif(1000,0,1)
> dump("v","/home/tomlinso/auction/test.vector.R")
> slime<-density(v,kernel="r")
> sort(slime$y)
  [1] -1.869303e-16 -1.110223e-16 -1.110223e-16 -1.065198e-16
-1.057452e-16
  [6] -1.016304e-16 -9.779196e-17 -9.427232e-17 -9.368320e-17
-8.471147e-17
 [11] -8.169144e-17 -7.225386e-17 -6.740389e-17 -6.142515e-17
-6.003374e-17
 [16] -5.652376e-17 -5.501082e-17 -5.348798e-17 -5.347797e-17
-5.319815e-17
 [21] -5.043385e-17 -4.948219e-17 -4.835455e-17 -4.633728e-17
-4.466063e-17
 [26] -4.039872e-17 -3.836554e-17 -3.826879e-17 -3.646713e-17
-3.557390e-17
 [31] -2.825989e-17 -2.821749e-17 -2.743282e-17 -2.678935e-17
-2.533472e-17
 [36] -2.518910e-17 -2.510075e-17 -2.436936e-17 -1.919740e-17
-1.831052e-17
 [41] -1.757412e-17 -1.673804e-17 -1.615867e-17 -1.327275e-17
-1.318810e-17
 [46] -1.286342e-17 -9.888095e-18 -8.665413e-18 -6.783308e-18
-5.726469e-18
 [51] -2.394122e-19  7.552237e-18  1.063422e-17  2.765485e-17 
3.848034e-17
 [56]  4.637632e-17  4.727742e-17  6.705682e-17  6.914125e-17 
8.924077e-17
 [61]  6.663715e-04  1.703646e-03  3.401654e-03  8.696669e-03 
1.349002e-02
 [66]  1.861714e-02  2.548490e-02  2.719238e-02  3.502090e-02 
3.752716e-02
<snip>

I don't think that I should be getting negative numbers, even tiny
ones.  These are close enough to zero to cause trouble, since the
estimator I'm implementing calls for dividing by those density values!  

Any clues about what hit me and what I can do about it would be
appreciated.  

Thanks,
Nels Tomlinson
-- 
 /\  / _  / _  ---   _   / , _  _    _
/  \/ (- / _)  / () //) / / / )_) ()/ )
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Thu Aug 10 19:45:49 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Thu, 10 Aug 2000 10:45:49 -0700 (PDT)
Subject: [R] Problem with density()?
In-Reply-To: <3992A07D.ED952782@purdue.edu>
Message-ID: <Pine.GSO.4.21.0008101039280.736-100000@atlas.biostat.washington.edu>

On Thu, 10 Aug 2000, Nels Tomlinson wrote:

> Hello, all,
> 
> I'm running Version 1.1.0  (June 15, 2000), on Mandrake 6.1 Linux.  
> 
> I think that I'm getting nonsense results from the density function. 
> When I feed it a sample generated by v<-runif(1000,0,1), I get back some
> small negative numbers for density values, as follows:
> 

If you do 
   slime$x[slime$y<0] 
I think you will find that the negative values happen at x values outside
the range of the data. When I tried they were all <-0.1 or >1.1, with a
bandwidth of 0.065.  As the density really is zero here it's not
surprising that the estimate is effectively zero. (It's not a bug, it's a
feature)

It is unfortunate, I suppose, that the density is slightly negative rather
than slightly positive, but it wouldn't make much practical difference to
your problem: you don't want to divide by it anyway. 

With the obvious implementation of kernel densities the estimate would
have to be non-negative even with rounding error, and would be zero or NaN
at these points.  However, the FFT implementation is way faster.
	
	-thomas

> 
> >v<-runif(1000,0,1)
> > dump("v","/home/tomlinso/auction/test.vector.R")
> > slime<-density(v,kernel="r")
> > sort(slime$y)
>   [1] -1.869303e-16 -1.110223e-16 -1.110223e-16 -1.065198e-16
> -1.057452e-16
>   [6] -1.016304e-16 -9.779196e-17 -9.427232e-17 -9.368320e-17
> -8.471147e-17
>  [11] -8.169144e-17 -7.225386e-17 -6.740389e-17 -6.142515e-17
> -6.003374e-17
>  [16] -5.652376e-17 -5.501082e-17 -5.348798e-17 -5.347797e-17
> -5.319815e-17
>  [21] -5.043385e-17 -4.948219e-17 -4.835455e-17 -4.633728e-17
> -4.466063e-17
>  [26] -4.039872e-17 -3.836554e-17 -3.826879e-17 -3.646713e-17
> -3.557390e-17
>  [31] -2.825989e-17 -2.821749e-17 -2.743282e-17 -2.678935e-17
> -2.533472e-17
>  [36] -2.518910e-17 -2.510075e-17 -2.436936e-17 -1.919740e-17
> -1.831052e-17
>  [41] -1.757412e-17 -1.673804e-17 -1.615867e-17 -1.327275e-17
> -1.318810e-17
>  [46] -1.286342e-17 -9.888095e-18 -8.665413e-18 -6.783308e-18
> -5.726469e-18
>  [51] -2.394122e-19  7.552237e-18  1.063422e-17  2.765485e-17 
> 3.848034e-17
>  [56]  4.637632e-17  4.727742e-17  6.705682e-17  6.914125e-17 
> 8.924077e-17
>  [61]  6.663715e-04  1.703646e-03  3.401654e-03  8.696669e-03 
> 1.349002e-02
>  [66]  1.861714e-02  2.548490e-02  2.719238e-02  3.502090e-02 
> 3.752716e-02
> <snip>
> 
> I don't think that I should be getting negative numbers, even tiny
> ones.  These are close enough to zero to cause trouble, since the
> estimator I'm implementing calls for dividing by those density values!  
> 
> Any clues about what hit me and what I can do about it would be
> appreciated.  
> 
> Thanks,
> Nels Tomlinson
> -- 
>  /\  / _  / _  ---   _   / , _  _    _
> /  \/ (- / _)  / () //) / / / )_) ()/ )
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uli at biochem.dshs-koeln.de  Thu Aug 10 19:56:06 2000
From: uli at biochem.dshs-koeln.de (Uli Flenker; Raum 704)
Date: Thu, 10 Aug 2000 19:56:06 +0200 (CEST)
Subject: [R] Problems with levels of factors
Message-ID: <Pine.LNX.3.95.1000810153032.12976A-100000@pcinternet.biochem.dshs-koeln.de>

Dear R-helpers,

I frequently run into problems when I modify elements of factors (R 1.0.0,
Linux 2.0.25).  For example, after splitting a data frame accordinng to
whatever criterion, it might well happen that not all levels of a factor
are present in all new data frames. However, R doesn't seem to care about. 
When performing some kind of analysis seperately on the new frames, each
time the unreduced number of levels is present.

That can be very problematic, as a lot of methods tend to crash because no
data are found for the "lost" level. 

Neither explicit setting of "data=data.frame.xyz" nor any straightforward
use of "detach()" or "attach()" nor
"levels(problem.factor)<-c("reduced","levels", ...)" did help.

In the latter case I obtain 

	Error in levels<-.factor(*tmp*, value = c("A", "B")) : 
		number of levels differs

no matter whether the relevant data.frame is attached to the search list
or not, no matter whether the number of levels is appropriate in that data
frame and no matter whether an "extra" factor of the name exists or not.

I also tried to modify the attributes of the problematic factors
explicitly without succes.

The persistance of levels of factors once established seems to be so
robust that I suspect its a feature. As far as I remember no one
compalained about this properties so far. Am I missing something obvious?
Are there any suggestions for workarounds?

Thanks in advance ...

        Uli Flenker
        Institute of Biochemistry
        German Sports University Cologne
        Carl-Diem-Weg 6

        50933 Cologne / Germany

        Phone 0049/0221/4982-493


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug 10 21:50:02 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 10 Aug 2000 20:50:02 +0100 (BST)
Subject: [R] Problems with levels of factors
In-Reply-To: <Pine.LNX.3.95.1000810153032.12976A-100000@pcinternet.biochem.dshs-koeln.de>
Message-ID: <Pine.GSO.4.05.10008102046300.26204-100000@auk.stats>

On Thu, 10 Aug 2000, Uli Flenker; Raum 704 wrote:

> Dear R-helpers,
> 
> I frequently run into problems when I modify elements of factors (R 1.0.0,
> Linux 2.0.25).  For example, after splitting a data frame accordinng to

That's already two versions old, three come next Tuesday.

> whatever criterion, it might well happen that not all levels of a factor
> are present in all new data frames. However, R doesn't seem to care about. 
> When performing some kind of analysis seperately on the new frames, each
> time the unreduced number of levels is present.
> 
> That can be very problematic, as a lot of methods tend to crash because no
> data are found for the "lost" level. 
> 
> Neither explicit setting of "data=data.frame.xyz" nor any straightforward
> use of "detach()" or "attach()" nor
> "levels(problem.factor)<-c("reduced","levels", ...)" did help.
> 
> In the latter case I obtain 
> 
> 	Error in levels<-.factor(*tmp*, value = c("A", "B")) : 
> 		number of levels differs
> 
> no matter whether the relevant data.frame is attached to the search list
> or not, no matter whether the number of levels is appropriate in that data
> frame and no matter whether an "extra" factor of the name exists or not.
> 
> I also tried to modify the attributes of the problematic factors
> explicitly without succes.
> 
> The persistance of levels of factors once established seems to be so
> robust that I suspect its a feature. As far as I remember no one
> compalained about this properties so far. Am I missing something obvious?
> Are there any suggestions for workarounds?

It's definitely a feature. What methods crash? (I hope you mean gave an
error, not crashed R.)

The levels of a factor are the set of possible values, not the set of
achieved values.  Methods should cope with that (possibly with warnings).


The best way to drop levels, BTW, is

problem.factor <- problem.factor[,drop=TRUE]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s.adi.purnomo at energylink.co.nz  Thu Aug 10 22:30:51 2000
From: s.adi.purnomo at energylink.co.nz (Peppy Adi Purnomo)
Date: Fri, 11 Aug 2000 08:30:51 +1200
Subject: [R] anova
Message-ID: <33344F2C6B6ED411996D0000F8790814201B@ELSRV1>

hello,

I have a very old R version which calculates anova table for a stream of
outcomes say: 1,5,4,3,2,4,5,2 which are grouped into 4 blocks, say A,B,C,D,
of 2 say namely X,Y

What is the command in R 0.64.2 to do this?  My very old R command is
anova.table but this command is unkown in R 0.64.2

Thanks,
Peppy
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at epm.net.co  Fri Aug 11 04:39:57 2000
From: krcabrer at epm.net.co (Kenneth Cabrera)
Date: Thu, 10 Aug 2000 21:39:57 -0500
Subject: [R] Ploting NA location points
References: <39932DC3.A6762933@ucc.ie>
Message-ID: <3993677C.B6D85598@epm.net.co>

Hello, to everybody!

Can anybody help me with this problem?

How can I plot a x,y coordinates, but to plot a "z" variable
with a different color if it is a z missing value (NA)?

Thank you very much for you help!

Kenneth Cabrera
Universidad Nacional de Colombia
Sede Medellin



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at epm.net.co  Fri Aug 11 05:28:06 2000
From: krcabrer at epm.net.co (Kenneth Cabrera)
Date: Thu, 10 Aug 2000 22:28:06 -0500
Subject: [R] Problems in the new version with sgeostat library?
Message-ID: <399372C5.B943D550@epm.net.co>

Hello, R-users!

When I load the sgeostat library I obtain some warnings messages.

>library(sgeostat)

What kind of problem will I expect to have with these messages?

Loading required package: mva
Loading required package: tripack
Warning messages:
1: `provide' is deprecated.
See ?Deprecated. in: .Deprecated()
2: `provide' is deprecated.
See ?Deprecated. in: .Deprecated()

Thank you very much for your help!

Kenneth Cabrera
Universidad Nacional de Colombia
Sede Medellin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Aug 11 09:12:10 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 11 Aug 2000 08:12:10 +0100 (BST)
Subject: [R] Problems in the new version with sgeostat library?
In-Reply-To: <399372C5.B943D550@epm.net.co>
Message-ID: <Pine.GSO.4.05.10008110800500.708-100000@auk.stats>

On Thu, 10 Aug 2000, Kenneth Cabrera wrote:

> Hello, R-users!
> 
> When I load the sgeostat library I obtain some warnings messages.
> 
> >library(sgeostat)
> 
> What kind of problem will I expect to have with these messages?
> 
> Loading required package: mva
> Loading required package: tripack
> Warning messages:
> 1: `provide' is deprecated.
> See ?Deprecated. in: .Deprecated()
> 2: `provide' is deprecated.
> See ?Deprecated. in: .Deprecated()
> 

Probably none. The purpose of provide() was to allow one package to subsume
or masquerade as another.  It seems only to have been used incorrectly
for a package to provide itself, which just slowed down searches.  You
will find the lines

provide(tripack)
provide(sgeostat)

in tripack/R/zzz.R and sgeostat/R/est.variogram.R.  Just delete them
and re-install, or edit them out of tripack/R/tripack and
sgeostat/R/sgeostat if you have a pre-compiled version.

If you find any other occurrences, please report them to the package
authors. (We already have for locfit.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From y0004379 at tu-bs.de  Fri Aug 11 10:14:33 2000
From: y0004379 at tu-bs.de (Peter Malewski)
Date: Fri, 11 Aug 2000 10:14:33 +0200 (METDST)
Subject: [R] Ploting NA location points
In-Reply-To: <3993677C.B6D85598@epm.net.co>
Message-ID: <Pine.HPX.4.21.0008111012530.18956-100000@rz0cosv3.rz.tu-bs.de>

On Thu, 10 Aug 2000, Kenneth Cabrera wrote:

> Hello, to everybody!
> 
> Can anybody help me with this problem?
> 
> How can I plot a x,y coordinates, but to plot a "z" variable
> with a different color if it is a z missing value (NA)?

e.g.

y <- rnorm(10)
x <- rnorm(10)
z <- x
z[c(2,4)] <-NA
plot(x,y)
points(x[is.na(z)] , y[is.na(z)] ,col=2)

best wishes 
Peter

btw: you can use rug to visualize points that are NA at x or y.

** To YOU I'm an atheist; to God, I'm the Loyal Opposition. Woody Allen **
P.Malewski					Tel.: 0531 500965
Maschplatz 8					Email: P.Malewski at tu-bs.de
************************38114 Braunschweig********************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r.e.darnell at ncl.ac.uk  Fri Aug 11 10:17:11 2000
From: r.e.darnell at ncl.ac.uk (R.E. Darnell)
Date: 11 Aug 2000 09:17:11 +0100
Subject: [R] Ploting NA location points
In-Reply-To: Kenneth Cabrera's message of "Thu, 10 Aug 2000 21:39:57 -0500"
References: <39932DC3.A6762933@ucc.ie> <3993677C.B6D85598@epm.net.co>
Message-ID: <dgkd7jgmcu0.fsf@scs2.ncl.ac.uk>




Kenneth Cabrera <krcabrer at epm.net.co> writes:


[...]

> 
> How can I plot a x,y coordinates, but to plot a "z" variable
> with a different color if it is a z missing value (NA)?
> 

[...]

Start with
 
plot(x[!is.na(z)],y[!is.na(z)],xlim=range(x),ylim=range(y))
points(x[is.na(z)],y[is.na(z)],col=2)


Ross Darnell
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Aug 11 10:30:46 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 11 Aug 2000 10:30:46 +0200
Subject: [R] Ploting NA location points
In-Reply-To: r.e.darnell@ncl.ac.uk's message of "11 Aug 2000 09:17:11 +0100"
References: <39932DC3.A6762933@ucc.ie> <3993677C.B6D85598@epm.net.co> <dgkd7jgmcu0.fsf@scs2.ncl.ac.uk>
Message-ID: <x2punggpxl.fsf@blueberry.kubism.ku.dk>

r.e.darnell at ncl.ac.uk (R.E. Darnell) writes:

> Kenneth Cabrera <krcabrer at epm.net.co> writes:
> 
> 
> [...]
> 
> > 
> > How can I plot a x,y coordinates, but to plot a "z" variable
> > with a different color if it is a z missing value (NA)?
> plot(x[!is.na(z)],y[!is.na(z)],xlim=range(x),ylim=range(y))
> points(x[is.na(z)],y[is.na(z)],col=2)

Easier:

plot(x,y,color=ifelse(is.na(z),"red","black"))

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From xyzzy at speakeasy.org  Fri Aug 11 12:45:34 2000
From: xyzzy at speakeasy.org (Trent Piepho)
Date: Fri, 11 Aug 2000 03:45:34 -0700 (PDT)
Subject: [R] Ploting NA location points
In-Reply-To: <dgkd7jgmcu0.fsf@scs2.ncl.ac.uk>
Message-ID: <Pine.LNX.4.04.10008110324250.21966-100000@xyzzy.dsl.speakeasy.net>

> Kenneth Cabrera <krcabrer at epm.net.co> writes:
> > How can I plot a x,y coordinates, but to plot a "z" variable
> > with a different color if it is a z missing value (NA)?
> > 
> 

Also this:

plot(x,y, pch=21, bg=c(4,2)[is.na(z)+1])

You need to use a point type from 21 to 25 for the background color to show
up.  If you don't want a filled point, use col instead of bg and whatever
point type you want.  You could also do something like
"pch=c(20,1)[is.na(z)+1]", to get different point types when z is missing.

To go along with the plot, I suggest something like:

legend(0,0, c("Non-Missing", "Missing"), fill=c(4,2))

The legend will have square boxes of color instead of filled circles like
pch=21,bg=c(...) will give you.  I haven't been able to figure out how to get
a color filled symbol in a plot legend.  The bg parameter will apply to the
background of the entire legend, and not the plotting symbols.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Aug 11 13:10:15 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 11 Aug 2000 13:10:15 +0200 (CEST)
Subject: [R] provide() deprecated -- what's the substitute?
In-Reply-To: <Pine.GSO.4.05.10008110800500.708-100000@auk.stats>
References: <399372C5.B943D550@epm.net.co>
	<Pine.GSO.4.05.10008110800500.708-100000@auk.stats>
Message-ID: <14739.57111.311159.907752@gargle.gargle.HOWL>

I know I should probably know the answer,
but I've forgotten, and  ?provide only gives me the Deprecation page,
not the *reason* for deprecation and the substitute to use..

>>>>> "BDR" == Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:

    BDR> On Thu, 10 Aug 2000, Kenneth Cabrera wrote:
    >> Hello, R-users!
    >> 
    >> When I load the sgeostat library I obtain some warnings messages.
    >> 
    >> >library(sgeostat)
    >> 
    >> What kind of problem will I expect to have with these messages?
    >> 
    >> Loading required package: mva
    >> Loading required package: tripack
    >> Warning messages:
    >> 1: `provide' is deprecated.
    >> See ?Deprecated. in: .Deprecated()
    >> 2: `provide' is deprecated.
    >> See ?Deprecated. in: .Deprecated()
    >> 

    BDR> Probably none. The purpose of provide() was to allow one package
    BDR> to subsume or masquerade as another.  It seems only to have been
    BDR> used incorrectly for a package to provide itself, which just
    BDR> slowed down searches.

And what about the cases where it *was* used correctly?
If I have an experimental version of a package "foo" and name it "fooExp",
and then do
     library(fooExp)
and
     provide("foo")
(or have this in  fooExp's  zzz.R)

I subsequently want that any code that has 
   require(foo)
does NOT load the non-experimental foo,
but uses the experimental  fooExp.

How would I accomplish this easily, once  provide() [& .Provided ] are
gone ?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Aug 11 13:35:35 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 11 Aug 2000 12:35:35 +0100 (BST)
Subject: [R] provide() deprecated -- what's the substitute?
In-Reply-To: <14739.57111.311159.907752@gargle.gargle.HOWL>
Message-ID: <Pine.GSO.4.05.10008111227001.1231-100000@auk.stats>

On Fri, 11 Aug 2000, Martin Maechler wrote:

> I know I should probably know the answer,
> but I've forgotten, and  ?provide only gives me the Deprecation page,
> not the *reason* for deprecation and the substitute to use..
> 
> >>>>> "BDR" == Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:
> 
>     BDR> On Thu, 10 Aug 2000, Kenneth Cabrera wrote:
>     >> Hello, R-users!
>     >> 
>     >> When I load the sgeostat library I obtain some warnings messages.
>     >> 
>     >> >library(sgeostat)
>     >> 
>     >> What kind of problem will I expect to have with these messages?
>     >> 
>     >> Loading required package: mva
>     >> Loading required package: tripack
>     >> Warning messages:
>     >> 1: `provide' is deprecated.
>     >> See ?Deprecated. in: .Deprecated()
>     >> 2: `provide' is deprecated.
>     >> See ?Deprecated. in: .Deprecated()
>     >> 
> 
>     BDR> Probably none. The purpose of provide() was to allow one package
>     BDR> to subsume or masquerade as another.  It seems only to have been
>     BDR> used incorrectly for a package to provide itself, which just
>     BDR> slowed down searches.
> 
> And what about the cases where it *was* used correctly?

(Were there any?  When this was discussed on R-core, no one came
up with any current ones.)

> If I have an experimental version of a package "foo" and name it "fooExp",
> and then do
>      library(fooExp)
> and
>      provide("foo")
> (or have this in  fooExp's  zzz.R)
> 
> I subsequently want that any code that has 
>    require(foo)
> does NOT load the non-experimental foo,
> but uses the experimental  fooExp.
> 
> How would I accomplish this easily, once  provide() [& .Provided ] are
> gone ?

The current idea is that you don't rename foo, but load it from a different
library (in the strict sense, a directory containing installed packages).
Contrast

library(foo)  # regular version
library(foo, lib.loc="/my/experimental/packages") # experimental version

Now the second works correctly, there is no need for masquerading.
In particular help is now found in the right places, and one can
now detach a library (detach("package:foo")) and re-load a different
version.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Fri Aug 11 14:20:15 2000
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Fri, 11 Aug 2000 22:20:15 +1000
Subject: [R] help with matrix creation
References: <39932DC3.A6762933@ucc.ie>
Message-ID: <3993EF7E.A1518750@ozemail.com.au>

Jesus Maria Frias Celayeta wrote:

> hi R-help!
>
>     I would like to know a simple and easy way (if posible) to do the
> following data manipulation. I have a matrix of experimental data
> (with replicae in time)
>
>
> experiment<-data.frame(times=c(0,0,10,10,20,20,30,30),expval=c(1,1,2,2,3,3,4,4))
>
> > experiment
>   times expval
> 1     0      1
> 2     0      1
> 3    10      2
> 4    10      2
> 5    20      3
> 6    20      3
> 7    30      4
> 8    30      4
>
> and a set of simulated values
>
> > simul<-data.frame(times=c(0,10,20,30),simul=c(3,4,5,6))
> > simul
>   times simul
> 1     0     3
> 2    10     4
> 3    20     5
> 4    30     6
>
> From this simulated data, I would like to obtain a data frame like
> this
>
>   times expval simul
> 1     0      1     3
> 2     0      1     3
> 3    10      2     4
> 4    10      2     4
> 5    20      3     5
> 6    20      3     5
> 7    30      4     6
> 8    30      4     6
>
> expanding each of the simulated values as many times as duplicates
> (triplicates or anything) I have in the data. I have come across
> duplicate and match, but I don't see a way forward from here, unless I
> make a for loop and I match row by row the time vectors. I am sure
> that is a very easy thing, and I apologize in advance for the stupid
> question, but I am kind of stuck.
>
> cheers,
>
> IOsu
>
>
>

 exp.sim<-data.frame(experiment,simul=simul$simul[match(experiment$times,simul$times)])

Jim

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Fri Aug 11 13:45:36 2000
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Fri, 11 Aug 2000 21:45:36 +1000
Subject: [R] Usage questions
Message-ID: <3993E75F.EC0B0395@ozemail.com.au>

Paul Johnson wrote:

>
> Can I ask a couple of usage questions?  (RedHat Linux 6.1, R-1.1)
>
> 1. This may just indicate I'm a dinosaur who can't leave SAS behind.
I
> want to write programs and run them with source() to see what they do,

> then I would like to use the "up arrow" to go back through the
commands
> that were in the file, fiddle them, see what they do, and so forth.
Is
> there no way?  SAS has a functionality of a "program editor" screen
> where you can fiddle a  file, run it, then save it when it is the way
> you want. But in R I don't get any command history with source(), so I

> can't experiment with commands.

I often write the commands for analysis in an editor (I happen to use
NEdit) while running R and "source" the file in the R xterm.  I can
correct any errors or refine analyses or plots on the fly and I have a
record of the final commands.  I often have to go back to this file if
the analyses have to be rerun, or if new data is added, etc.,  so I
typically comment as I go.  You can use either the

# this is a comment

style for reference in the source file only, or the

cat("This is a comment\n")

style that will print out the comment in the output.  This is especially
useful when you are "sink"ing the output to another text file.

Jim


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Fri Aug 11 17:32:14 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Fri, 11 Aug 2000 08:32:14 -0700 (PDT)
Subject: [R] anova
In-Reply-To: <33344F2C6B6ED411996D0000F8790814201B@ELSRV1>
Message-ID: <Pine.GSO.4.21.0008110827240.5016-100000@atlas.biostat.washington.edu>

On Fri, 11 Aug 2000, Peppy Adi Purnomo wrote:

> hello,
> 
> I have a very old R version

Actually, you have two very old R versions -- 0.64.2 is seriously obsolete
too.

>				 which calculates anova table for a stream of
> outcomes say: 1,5,4,3,2,4,5,2 which are grouped into 4 blocks, say A,B,C,D,
> of 2 say namely X,Y
> 
> What is the command in R 0.64.2 to do this?  My very old R command is
> anova.table but this command is unkown in R 0.64.2

You probably want to use aov().  It fits the model, then anova() displays
the classical ANOVA table.

aov() takes a formula as its input,eg
  anova(y~block)
for a one-way ANOVA. This would have y<-c(1,5,4,3,2,5,4,5,2) and
block<-factor(c("A","A","B","B","C","C","D","D"))

There are commands to simplify constructing balanced designs like block,
see help(gl) and help(rep).

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uli at biochem.dshs-koeln.de  Fri Aug 11 19:12:05 2000
From: uli at biochem.dshs-koeln.de (Uli Flenker; Raum 704)
Date: Fri, 11 Aug 2000 19:12:05 +0200 (CEST)
Subject: [R] Problems with levels of factors
In-Reply-To: <Pine.GSO.4.05.10008102046300.26204-100000@auk.stats>
Message-ID: <Pine.LNX.3.95.1000811180652.7330B-100000@pcinternet.biochem.dshs-koeln.de>


On Thu, 10 Aug 2000, Prof Brian D Ripley wrote:

> On Thu, 10 Aug 2000, Uli Flenker; Raum 704 wrote:
> 
> > Dear R-helpers,
> > 
> > I frequently run into problems when I modify elements of factors (R 1.0.0,
> > Linux 2.0.25).  For example, after splitting a data frame accordinng to
> 
> That's already two versions old, three come next Tuesday.
> 
> > whatever criterion, it might well happen that not all levels of a factor
> > are present in all new data frames. However, R doesn't seem to care about. 
> > When performing some kind of analysis seperately on the new frames, each
> > time the unreduced number of levels is present.
> > 
> > That can be very problematic, as a lot of methods tend to crash because no
> > data are found for the "lost" level. 
> > 
> > Neither explicit setting of "data=data.frame.xyz" nor any straightforward
> > use of "detach()" or "attach()" nor
> > "levels(problem.factor)<-c("reduced","levels", ...)" did help.
> > 
> > In the latter case I obtain 
> > 
> > 	Error in levels<-.factor(*tmp*, value = c("A", "B")) : 
> > 		number of levels differs
> > 
> > no matter whether the relevant data.frame is attached to the search list
> > or not, no matter whether the number of levels is appropriate in that data
> > frame and no matter whether an "extra" factor of the name exists or not.
> > 
> > I also tried to modify the attributes of the problematic factors
> > explicitly without succes.
> > 
> > The persistance of levels of factors once established seems to be so
> > robust that I suspect its a feature. As far as I remember no one
> > compalained about this properties so far. Am I missing something obvious?
> > Are there any suggestions for workarounds?
> 
> It's definitely a feature. What methods crash? (I hope you mean gave an
> error, not crashed R.)

Sorry for that! I think I have to choose words more carefully. When
writing "crash" I meant "stop of evaluation without result".

To mention two things: kruskal.test from package ctest gives "NA" for p
when one level has no data and qda from the MASS library stops because of
too small groups.

Sorry for the second time: These are of course no method functions! I had
in mind "statistical methods". This MUST cause confusion admittedly!

> The levels of a factor are the set of possible values, not the set of
> achieved values.  Methods should cope with that (possibly with warnings).
> 
> 
> The best way to drop levels, BTW, is
> 
> problem.factor <- problem.factor[,drop=TRUE]

... and sorry for the third time. I could have found out by myself reading
VR99 more carefully.

Thank you very much!

> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 


        Uli Flenker
        Institut fuer Biochemie
        Deutsche Sporthochschule Koeln
        Carl-Diem-Weg 6

        50933 Koeln

        Tel.: D/0221/4982-493
                                  -494

 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s-luppescu at uchicago.edu  Fri Aug 11 21:44:48 2000
From: s-luppescu at uchicago.edu (s-luppescu@uchicago.edu)
Date: Fri, 11 Aug 2000 14:44:48 -0500 (CDT)
Subject: [R] Index of predictive association
Message-ID: <XFMail.20000811144448.s-luppescu@uchicago.edu>

I need to calculate an index of predictive association, similar to Goodman and
Kuskal's (1954) for a 2x2x2 array. I have two questions:
1) Is there an easy way to do this in R? (Of course, the answer to this kind of
question is nearly always ``yes.'' Perhaps I should have asked, ``How can I do
this in R?'')
2) Is it reasonable to try this with a 3-dimensional array? The way I thought
of doing it (say, the variables are x, y, and z, with z being the
outcome) involves calculating the probability of z_i conditional on knowing
both x and y. This leads to some funny stuff, which makes me doubt if I'm doing
it right. Perhaps I should condition on only one of x and y at a time?

Any help would be appreciated.
______________________________________________________________________
Stuart Luppescu         -=-=-  University of Chicago
$(B:MJ8$HCRF`H~$NIc(B        -=-=-  s-luppescu at uchicago.edu
http://www.consortium-chicago.org/people/sl/sl.html
PGP Public Key: www.consortium-chicago.org/people/sl/pubkey.asc
ICQ #21172047  AIM: psycho7070
tax office, n.:
        Den of inequity.
>> Sent on 11-Aug-2000 at 14:36:43 with xfmail
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Fri Aug 11 21:49:55 2000
From: rossini at blindglobe.net (A.J. Rossini)
Date: 11 Aug 2000 12:49:55 -0700
Subject: [R] Emacs Speaks Statistics (ESS) BOF at JSM
Message-ID: <8766p7a87w.fsf@jeeves.blindglobe.net>


> 
> Date: Fri, 11 Aug 2000 15:34:01 -0400
> From: Rodney Sparapani <rodney at stat.duke.edu>
> Subject: Emacs Speaks Statistics (ESS) BOF at JSM
> 
> Statisticians:
> 
> For those of you going to the JSM in Indy next week, we are having an
> Emacs Speaks Statistics (ESS) BOF Monday, August 14th, 5:30 at the Hyatt
> in Salon A.  Please bring along your comments, suggestions and
> complaints.  David Smith from MathSoft has kindly agreed to lead an
> informal discussion on the interface between ESS and S-plus.  And, I
> will be discussing some recent developments in the interface between ESS
> and SAS.  Looking forward to seeing you there.

Note that the above isn't limited to _JUST_ S-PLUS and SAS (i.e. R
does run in ESS).  I won't be there, but it should be interesting.

-- 
A.J. Rossini
BlindGlobe Networks (home)	rossini at blindglobe.net	
UW Biostatistics (from home)	rossini at biostat.washington.edu	
FHCRC/SCHARP/HVTN (from home)	rossini at scharp.org

CFAR:   M/F: 206-731-3647 (fax=3286) | Email is far better than phone
FHCRC: Tu/W: 206-667-7025 (fax=4812) | Voicemail is pretty sketchy
UW:      Th: 206-543-1044 (fax=3286) | Change only last 4 digits for fax
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From funkyjd at erols.com  Sat Aug 12 03:24:58 2000
From: funkyjd at erols.com (John D. Funk, Jr.)
Date: Fri, 11 Aug 2000 21:24:58 -0400
Subject: [R] Batch Execution of R
Message-ID: <3994A76A.92314671@erols.com>

R Team:

This is most likely a trivial question, but after searching docs for
several weeks and digging through Rweb and RCGI, I could not clearly
identify the method to call an R method from Linux or Win32 systems and
send the output to a file.  I would like to implement R as part of an
online client-server application for a geographically spaced engineering
team an would like to know how to run R like this:

jdf at vertigo$ R -infile="infile.R" -o="outplot.png"

where infile.R is a source script and
outplot.png is a graphic produced by the script.

Following these steps I plan to interface with CGI scripts with canned
plotting routines for the analysis of standard sets of engineering data.

Thanks!

John Funk
301 757-5316

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From asmit at cyllene.uwa.edu.au  Sat Aug 12 07:11:09 2000
From: asmit at cyllene.uwa.edu.au (Albertus J Smit)
Date: Sat, 12 Aug 2000 13:11:09 +0800
Subject: [R] Nonlinear regression question
Message-ID: <NEBBLFAGELBNGAMFNGPOMEFHCAAA.asmit@cyllene.uwa.edu.au>

Dear R users

I recently migrated from Statistica/SigmaPlot (Windows) to R (Linux), so
please excuse if this may sound 'basic'.

When running a nonlinear regression (V = Vmax * conc / (Ks + conc), i.e.
Michaelis-Menten) on SigmaPlot, I get the output listed below:

>>>Begin SigmaPlot Output<<<
R = 0.94860969	Rsqr = 0.89986035	Adj Rsqr = 0.89458984

Standard Error of Estimate = 4.1543

 	Coefficient	Std. Error	t	P
a	34.5878	2.7690	12.4910	<0.0001
b	6.8553	2.2949	2.9872	0.0076

Analysis of Variance:
 	DF	SS	MS	F	P
Regression	1	2946.6381	2946.6381	170.7350	<0.0001
Residual	19	327.9123	17.2585
Total	20	3274.5504	163.7275
>>>End SigmaPlot Output<<<

(In the above output, a is Vmax and b is Ks)

I have no problem performing the regression using R, and I successfully
obtain the parameter estimates using the function nls().  However, how do I
obtain the ANOVA output, r, r^2 and adj. r^2?

Any help appreciated,
AJ


Dr Albertus J Smit
(Seawead ecophysiology / Stable isotope ecology)
Department of Botany
The University of Western Australia
Nedlands 6907 WA
Tel. 08 9380 2416
Fax  08 9380 1001

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Aug 12 08:41:35 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 12 Aug 2000 07:41:35 +0100 (BST)
Subject: [R] Batch Execution of R
In-Reply-To: <3994A76A.92314671@erols.com>
Message-ID: <Pine.GSO.4.05.10008120729260.21195-100000@auk.stats>

On Fri, 11 Aug 2000, John D. Funk, Jr. wrote:

> R Team:
> 
> This is most likely a trivial question, but after searching docs for
> several weeks and digging through Rweb and RCGI, I could not clearly
> identify the method to call an R method from Linux or Win32 systems and
> send the output to a file.  I would like to implement R as part of an

There is R BATCH on Linux, and equivalents for Windows in the rw-FAQ.

> online client-server application for a geographically spaced engineering
> team an would like to know how to run R like this:
> 
> jdf at vertigo$ R -infile="infile.R" -o="outplot.png"
> 
> where infile.R is a source script and
> outplot.png is a graphic produced by the script.

You need something like

R --restore --no-save < infile.R > outfile.Rout

(Rterm not R on Windows.)

You cannot specify a plot file from the command line, but you can specify
it from within the input script. For example, the V&R chapter scripts
contain things like

library(MASS)
options(width=65, digits=5, height=9999)
postscript(file="ch05.ps", width=8, height=6, pointsize=9)
...

I note that you are asking for png, and if you ensure that your script
will only produce one plot, you can use

bitmap(file="outplot.png", type="png256", width=4, height=3, ....)

at the start of your file.  (I suggest using the bitmap not png
device for batch use as the latter uses the graphics system. You do need
ghostscript installed to use bitmap: see its help page.)

You can control where text output goes from within the script by the sink()
function.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Sat Aug 12 19:07:50 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Sat, 12 Aug 2000 10:07:50 -0700 (PDT)
Subject: [R] Batch Execution of R
In-Reply-To: <Pine.GSO.4.05.10008120729260.21195-100000@auk.stats>
Message-ID: <Pine.GSO.4.21.0008121001150.6988-100000@atlas.biostat.washington.edu>

On Sat, 12 Aug 2000, Prof Brian D Ripley wrote:

> On Fri, 11 Aug 2000, John D. Funk, Jr. wrote:
> 
> > R Team:
> > 
> > This is most likely a trivial question, but after searching docs for
> > several weeks and digging through Rweb and RCGI, I could not clearly
> > identify the method to call an R method from Linux or Win32 systems and
> > send the output to a file.  I would like to implement R as part of an
> 

> 
> You cannot specify a plot file from the command line, but you can specify

In fact you can: the commandArgs() function returns command line arguments
and you can smuggle in an output file name as an option

If you have infile.R as
  filename<-gsub("-o=","",grep("-o=",commandArgs(),value=T))
  print(filename)
  bitmap(file=filename)
  plot(rnorm(10))
  dev.off()

and do
 
R BATCH --slave --no-save -o=output.png infile.R

then you will get the file saved to output.png.  Passing options in this
way does cause R to give "WARNING: unknown option" but this is harmless
(and in the above example doesn't even appear since we don't save the
text output).

You would have a problem if we added a -o option to R, so it might be
safer to use
	--outputPNGfilename=output.png
or something of the sort


	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Sat Aug 12 19:33:22 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 12 Aug 2000 12:33:22 -0500
Subject: [R] Nonlinear regression question
In-Reply-To: "Albertus J Smit"'s message of "Sat, 12 Aug 2000 13:11:09 +0800"
References: <NEBBLFAGELBNGAMFNGPOMEFHCAAA.asmit@cyllene.uwa.edu.au>
Message-ID: <6rya22mljx.fsf@franz.stat.wisc.edu>

"Albertus J Smit" <asmit at cyllene.uwa.edu.au> writes:

> Dear R users
> 
> I recently migrated from Statistica/SigmaPlot (Windows) to R (Linux), so
> please excuse if this may sound 'basic'.
> 
> When running a nonlinear regression (V = Vmax * conc / (Ks + conc), i.e.
> Michaelis-Menten) on SigmaPlot, I get the output listed below:
> 
> >>>Begin SigmaPlot Output<<<
> R = 0.94860969	Rsqr = 0.89986035	Adj Rsqr = 0.89458984
> 
> Standard Error of Estimate = 4.1543
> 
>  	Coefficient	Std. Error	t	P
> a	34.5878	2.7690	12.4910	<0.0001
> b	6.8553	2.2949	2.9872	0.0076
> 
> Analysis of Variance:
>  	DF	SS	MS	F	P
> Regression	1	2946.6381	2946.6381	170.7350	<0.0001
> Residual	19	327.9123	17.2585
> Total	20	3274.5504	163.7275
> >>>End SigmaPlot Output<<<
> 
> (In the above output, a is Vmax and b is Ks)
> 
> I have no problem performing the regression using R, and I successfully
> obtain the parameter estimates using the function nls().  However, how do I
> obtain the ANOVA output, r, r^2 and adj. r^2?

As one of the developers of the nls function I would like to state
that the lack of automatic ANOVA, R^2 and adj. R^2 from nls is a
feature, not a bug :-)

More seriously, it is possible to do some computations with the
components of the object produced by nls and obtain numbers similar to
what Statistica produces, but it is not easy to decide how these
numbers should be interpreted and why you would want to use them.

Please allow me to discuss some background on the methods.  I don't
want to get too professorial about this but I would like to emphasize
that there are good reasons for not doing such calculations.  You may
also want to read Bill Venables' excellent "Exegeses on Linear Models"
for more background on silly things done with linear and nonlinear
model fits.  (Bill, where can your exegeses be found?)

The ANOVA methods were possibly the greatest achievement of 20th
century statistics, involving very sophisticated concepts of
n-dimensional geometry and subtle computational methods.  Because the
computation was formidable for the resources available when the
methods were developed, these methods were often taught in terms of
short-cut computational methods and people came to think of the
computation as the justification of the method.  It's not.

A cleaner way of thinking of ANOVA is as a method of comparing nested
models fit to the same data.  That is why the R anova function can
take several fitted models as arguments for which it will return
statistics assessing the comparison of these models.  There is an
anova.nls that does this for nonlinear model fits.  It produces F
statistics and p-values but only when you explicitly fit the models of
interest.  If you want to compare two nls models for the same data,
they you just need to fit them and compare them with anova.

In the case of linear models there are some computational shortcuts
that can be used for ANOVA.  They are based on decomposing the
response space into linear subspaces defined by terms in the model.
For nonlinear models this type of decomposition doesn't apply.  After
all - they're not linear and the terms in the model generally don't
define linear subspaces of the response space.

(Even when I teach linear models these days, I encourage students to
perform ANOVA by considering what models they wish to compare, fitting
those models, and comparing the fits.  The computation is usually
trivial so why perform all sorts of algebraic gymnastics to create a
shortcut method?  I am amazed at the number of texts on linear models
that still discuss these issues in terms of constrained optimization,
Lagrange multipliers, etc. which no one in their right mind would ever
use.)

If one looked at the ANOVA from Statistica as a comparison of two
models then it would presumably be comparing the fit from the trivial
model (y_i = \mu + \epsilon_i) to the fit from the full
Michaelis-Menten model.  The first question should be whether these
models are nested.  In this case they are because the Michaelis-Menten
is reduced to the trivial model when Ks = 0 but you wouldn't
understand that from the output here.  (Many other, perhaps most
other, nonlinear models cannot be reduced to a trivial model by
constraints on the parameters.  One would then be at a total loss as
to how to interpret such ANOVA output.)

Notice that the p-value for the ANOVA is different from the p-value
for the t-test of b = 0.  This is because of nonlinearity.  The
p-value from the F-test would be preferred to that from the t-test
because the former is based on two model fits and is not influenced by
parameter-effects nonlinearity while the latter, based on a single
model fit, is influenced by this nonlinearity.

So, if your purpose in doing the ANOVA is to compare the
Michaelis-Menten model to the trivial model then I encourage you to
use the p-value from the F-test.  If your purpose is to "assess the
model" then you will need to think more carefully of what you mean by
"assess the model".

R^2 is even more problematic than ANOVA.  For R^2 to be meaningful
there should be certain orthogonality relationships among components
of the residual vector.  These will almost certainly not occur in a
nonlinear model fit.  My best advice regarding R^2 statistics with
nonlinear models is, as Nancy Reagan suggested, "Just say no.".  If a
journal editor states that you must include R^2 to show "the
proportion of variation accounted for by the model", try to persuade
that person that it is not meaningful.  Adjusted R^2 is even less
likely to be useful and the R produced in the Statistica output is
probably the most meaningless statistic there.  They seem to have
calculated R by taking the square root of the R^2.  Such a value would
definitely not represent any kind of correlation coefficient for the
data.

In summary, those statistics are tied to particular properties of
linear models and calculating them from a nonlinear model fit is, at
best, risky and, at worse, nonsense.

Sorry for answering a perfectly legitimate question with a diatribe.
As you might guess, I feel strongly about these issues.  I recently
attended a Ph.D. prelim exam where the candidate had proposed research
on various ways of defining an R^2 statistic in the original data
scale from a linear model fit to data in a transformed scale
determined by the Box-Cox method.  There were seven different possible
definitions for R^2, all of which, as acknowledged by the candidate
and by the thesis advisor, were incorrect.  The purpose of this
path-breaking study is to determine in some way which of these seven
possible incorrect definitions should be used.  My suggestion that the
obvious answer was "none of them" was regarded as somewhat heretical.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From benzene at nova.ns.nthu.edu.tw  Sat Aug 12 20:16:48 2000
From: benzene at nova.ns.nthu.edu.tw (benzene)
Date: Sun, 13 Aug 2000 02:16:48 +0800
Subject: [R] could R do image analysis?
Message-ID: <39959490.E35DE689@nova.ns.nthu.edu.tw>


  such as analysing or manupulating computer graphics.

  thanks!


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From philr at mail.austasia.net  Sun Aug 13 21:23:13 2000
From: philr at mail.austasia.net (Phil Rhoades)
Date: Sun, 13 Aug 2000 20:23:13 +0100
Subject: [R] Fitting a curve to to an oscillating scatter . .
In-Reply-To: <200008130957.LAA06885@stat.math.ethz.ch>
Message-ID: <4.3.1.0.20000813201606.00aa2e90@mail.austasia.net>

Hi all,

I have just got going with R and think it is really nice however, as far as 
I can see, it can't do what I got it for:

I have some output from a computer simulation of mutating genes represented 
by a biological statistic - so the graph looks roughly like the top of:

	x = y^2

- with oscillations around the general curve.

If I use scatter.smooth() I get a nice curve representing the oscillations 
but what the curve I want to fit is the more basic curve ie the top arm of 
the x = y^2.

Any suggestions?

Thanks,

Phil.
-
Philip Rhoades

Pricom Pty Limited  (ACN  003 252 275)
GPO Box 3411
Sydney NSW	2001
Australia
Mobile:  +61:0411-185-652
Fax:  +61:2:8923-5363
E-mail:  philr at mail.austasia.net

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stephen at cogsci.ed.ac.uk  Sun Aug 13 15:35:56 2000
From: stephen at cogsci.ed.ac.uk (Stephen Eglen)
Date: Sun, 13 Aug 2000 14:35:56 +0100
Subject: [R] Suggestion for debug: optional count for `next' command
Message-ID: <439.200008131335@miller.cogsci.ed.ac.uk>

Hi,

This is just a suggestion for an additional feature for `debug'.
Would it be useful to allow the `next' command within debug to take an
optional numeric argument which specifies the number of steps to take,
rather than just taking one step at a time?  (GDB has this feature
already, so for next `next 5' will take five steps, instead of the
default of one step.)

Cheers,
Stephen
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Aug 13 20:58:28 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 13 Aug 2000 19:58:28 +0100 (BST)
Subject: [R] Fitting a curve to to an oscillating scatter . .
In-Reply-To: <4.3.1.0.20000813201606.00aa2e90@mail.austasia.net>
Message-ID: <Pine.GSO.4.05.10008131955190.2193-100000@auk.stats>

On Sun, 13 Aug 2000, Phil Rhoades wrote:

> I have just got going with R and think it is really nice however, as far as 
> I can see, it can't do what I got it for:

Sure it can.  It is a fully fledging computing language.

> I have some output from a computer simulation of mutating genes represented 
> by a biological statistic - so the graph looks roughly like the top of:
> 
> 	x = y^2
> 
> - with oscillations around the general curve.
> 
> If I use scatter.smooth() I get a nice curve representing the oscillations 
> but what the curve I want to fit is the more basic curve ie the top arm of 
> the x = y^2.
> 
> Any suggestions?

plot(x, y)
fit <- lm(y ~ I(x^0.5)) # or y ~ sqrt(x)
lines(predict(fit), sort(x))

if indeed the response is y to stimulus x.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mahani at students.uiuc.edu  Sun Aug 13 21:38:44 2000
From: mahani at students.uiuc.edu (reza shahidzadeh mahani)
Date: Sun, 13 Aug 2000 14:38:44 -0500 (CDT)
Subject: [R] Fitting a curve to to an oscillating scatter . .
In-Reply-To: <Pine.GSO.4.05.10008131955190.2193-100000@auk.stats>
Message-ID: <Pine.GSO.4.10.10008131431360.25671-100000@ux4.cso.uiuc.edu>

You can  get the lower frequency component nonparametrically by
increasing the bandwidth (in kernel smoothing with ksmooth in S) or
increasing penalty coefficient (in spline smoothing with smooth.spline in
S).
I don't know the corresponding function in R unfrotunately.

method) On Sun, 13 Aug 2000, Prof Brian D Ripley wrote:

> On Sun, 13 Aug 2000, Phil Rhoades wrote:
> 
> > I have just got going with R and think it is really nice however, as far as 
> > I can see, it can't do what I got it for:
> 
> Sure it can.  It is a fully fledging computing language.
> 
> > I have some output from a computer simulation of mutating genes represented 
> > by a biological statistic - so the graph looks roughly like the top of:
> > 
> > 	x = y^2
> > 
> > - with oscillations around the general curve.
> > 
> > If I use scatter.smooth() I get a nice curve representing the oscillations 
> > but what the curve I want to fit is the more basic curve ie the top arm of 
> > the x = y^2.
> > 
> > Any suggestions?
> 
> plot(x, y)
> fit <- lm(y ~ I(x^0.5)) # or y ~ sqrt(x)
> lines(predict(fit), sort(x))
> 
> if indeed the response is y to stimulus x.
> 
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ukans.edu  Sun Aug 13 21:52:39 2000
From: pauljohn at ukans.edu (Paul E Johnson)
Date: Sun, 13 Aug 2000 14:52:39 -0500
Subject: Graph followup (was Re: [R] [?] ARIMA in R
References: <00052208363304.22982@edgeworth.de.ufpe.br> <392930D4.FB50F3E9@wu-wien.ac.at>
Message-ID: <3996FC87.A22CB79A@ukans.edu>

>From Adrian Trapletti
> > library(ts)
> > data(LakeHuron)
> > arima0(LakeHuron, order=c(2,0,0), xreg=1:98)
> 
> What about
> 
> md <- arima0(LakeHuron, order=c(2,0,0), xreg=1:98)
> plot(LakeHuron)
> lines(LakeHuron-md$resid,col="red")
> 
> Adrian

1 . Why does this work to plot the 2 lines on the same graph?  It seems
like whenever I want to overlay two lines, I have to do
 par("new"=TRUE)
in order to get the second graph on top of the first.

2. Is there any way to scroll through a history of graphs that have
appeared. Often I'm snooping through data and want to compare one graph
with the one before, and it is puzzling that I can't find a way.
-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science            http://lark.cc.ukans.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From P.Connolly at hort.cri.nz  Mon Aug 14 04:57:21 2000
From: P.Connolly at hort.cri.nz (Patrick Connolly)
Date: Mon, 14 Aug 2000 14:57:21 +1200 (NZST)
Subject: [R] Postscript device bug when more than one page is needed?
Message-ID: <200008140257.e7E2vLl19294@atlas.marc.cri.nz>


It would appear to me that there is a bug in the postscript device
when multiple pages are required.  Line widths can be only 1 after the
first page.  I have not seen reference to this as a problem before.


test.device <-
function()
{
#  looks like the problem is in the postscript device
  
       postscript(file = paste("Test.ps"), horizontal = F)
       on.exit(dev.off())
       par(mai = rep(1, 4), lwd = 4)    
    for(j in 1:3) {
       plot(1:10, 11:20)
       title(paste("Testing  .... Page", j), line = -1, cex = 1.5)
    }
}

The first page is fine, but subsequent pages seem to lose the lwd
information.  Otherwise in this simple example, anyway, everything
seems to be as it should.  It makes no difference if the lwd parameter
is set in the plotting call itself,even if that is done for each value
of j.

The above code does not have a problem in Splus 3.4.

Has anyone a work around apart from doing separate plots for each
page? 

platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    1.0              
year     2000             
month    June             
day      15               
language R                


best

-- 
Patrick Connolly
HortResearch
Mt Albert
Auckland
New Zealand 
Ph: +64-9 815 4200 x 7188
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~
I have the world's largest collection of seashells. I keep it on all
the beaches of the world ... Perhaps you've seen it.  ---Steven Wright
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
Patrick Connolly
HortResearch
Mt Albert
Auckland
New Zealand 
Ph: +64-9 815 4200 x 7188
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~
I have the world's largest collection of seashells. I keep it on all
the beaches of the world ... Perhaps you've seen it.  ---Steven Wright
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Aug 14 08:21:32 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 14 Aug 2000 07:21:32 +0100 (BST)
Subject: [R] Fitting a curve to to an oscillating scatter . .
In-Reply-To: <Pine.GSO.4.10.10008131431360.25671-100000@ux4.cso.uiuc.edu>
Message-ID: <Pine.GSO.4.05.10008140719350.2817-100000@auk.stats>

On Sun, 13 Aug 2000, reza shahidzadeh mahani wrote:

> You can  get the lower frequency component nonparametrically by
> increasing the bandwidth (in kernel smoothing with ksmooth in S) or
> increasing penalty coefficient (in spline smoothing with smooth.spline in
> S).
> I don't know the corresponding function in R unfrotunately.

The same. But that is not what he asked for, and I was trying to answer the
actual question.

In scatter.smooth one uses `span' to set the amount of smoothing.

> 
> method) On Sun, 13 Aug 2000, Prof Brian D Ripley wrote:
> 
> > On Sun, 13 Aug 2000, Phil Rhoades wrote:
> > 
> > > I have just got going with R and think it is really nice however, as far as 
> > > I can see, it can't do what I got it for:
> > 
> > Sure it can.  It is a fully fledging computing language.
> > 
> > > I have some output from a computer simulation of mutating genes represented 
> > > by a biological statistic - so the graph looks roughly like the top of:
> > > 
> > > 	x = y^2
> > > 
> > > - with oscillations around the general curve.
> > > 
> > > If I use scatter.smooth() I get a nice curve representing the oscillations 
> > > but what the curve I want to fit is the more basic curve ie the top arm of 
> > > the x = y^2.
> > > 
> > > Any suggestions?
> > 
> > plot(x, y)
> > fit <- lm(y ~ I(x^0.5)) # or y ~ sqrt(x)
> > lines(predict(fit), sort(x))
> > 
> > if indeed the response is y to stimulus x.
> > 
> > 
> > -- 
> > Brian D. Ripley,                  ripley at stats.ox.ac.uk
> > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > University of Oxford,             Tel:  +44 1865 272861 (self)
> > 1 South Parks Road,                     +44 1865 272860 (secr)
> > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> > 
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> > 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Aug 14 08:27:39 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 14 Aug 2000 08:27:39 +0200
Subject: Graph followup (was Re: [R] [?] ARIMA in R
References: <00052208363304.22982@edgeworth.de.ufpe.br> <392930D4.FB50F3E9@wu-wien.ac.at> <3996FC87.A22CB79A@ukans.edu>
Message-ID: <3997915B.EDAE2377@statistik.uni-dortmund.de>

Paul E Johnson wrote:
> 
> From Adrian Trapletti
> > > library(ts)
> > > data(LakeHuron)
> > > arima0(LakeHuron, order=c(2,0,0), xreg=1:98)
> >
> > What about
> >
> > md <- arima0(LakeHuron, order=c(2,0,0), xreg=1:98)
> > plot(LakeHuron)
> > lines(LakeHuron-md$resid,col="red")
> >
> > Adrian
> 
> 1 . Why does this work to plot the 2 lines on the same graph?  It seems
> like whenever I want to overlay two lines, I have to do
>  par("new"=TRUE)
> in order to get the second graph on top of the first.

You need par("new"=TRUE) only to overlay graphs produced by "hplot"
High-Level Plots (e.g. plot(.), hist(.), pairs(.)).

To add elements to an existing plot, you can choose "aplot" functions
(e.g. lines(.), axis(.), legend(.)).

Have a look to the keywords in "Search Engine & Keywords" after invoking
help.start().

> 2. Is there any way to scroll through a history of graphs that have
> appeared. Often I'm snooping through data and want to compare one graph
> with the one before, and it is puzzling that I can't find a way.

Have a look to ?recordPlot.
On Windows you can choose "history"-"recording" in the menu and scroll
through the graphs using the PageUp/Down keys.


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Aug 14 09:15:40 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 14 Aug 2000 08:15:40 +0100 (BST)
Subject: [R] Nonlinear regression question
In-Reply-To: <6rya22mljx.fsf@franz.stat.wisc.edu>
Message-ID: <Pine.GSO.4.05.10008140811520.2817-100000@auk.stats>

On 12 Aug 2000, Douglas Bates wrote:

> Please allow me to discuss some background on the methods.  I don't
> want to get too professorial about this but I would like to emphasize
> that there are good reasons for not doing such calculations.  You may
> also want to read Bill Venables' excellent "Exegeses on Linear Models"
> for more background on silly things done with linear and nonlinear
> model fits.  (Bill, where can your exegeses be found?)

We have put a copy up at

http://www.stats.ox.ac.uk/pub/MASS3/Exegeses.ps.gz

as the original Web reference (the 1998 S-PLUS User's Conference)
seems inaccessible at present.

Bill commented that he thought it was only marginally relevent to the
present issue, but I thoroughly recommend it as background reading anyway.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Charles.Raux at let.ish-lyon.cnrs.fr  Mon Aug 14 12:25:35 2000
From: Charles.Raux at let.ish-lyon.cnrs.fr (Charles RAUX)
Date: Mon, 14 Aug 2000 11:25:35 +0100
Subject: [R] Writing a workable function
Message-ID: <4675F8231FC@let.ish-lyon.cnrs.fr>

After searching in R- Introduction, FAQ, help... I don't understand 
this:
I write a function in a file (.R):
tt <- function(mc) { date()
mc<-read.csv2("machines.txt",na.strings="")
date()
}

I source it in R and I type tt(). The answer is
> tt()
[1] "Mon Aug 14 11:18:25 2000"
>
The instructions following the first "date()" are ignored. Why?
---------------
Charles RAUX,
Laboratoire d'Economie des Transports
CNRS-Universit? Lumi?re Lyon 2-ENTPE
email : charles.raux at let.ish-lyon.cnrs.fr
http://www.ish-lyon.cnrs.fr/let
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From theis at statistik.uni-dortmund.de  Mon Aug 14 13:13:15 2000
From: theis at statistik.uni-dortmund.de (Winfried Theis)
Date: Mon, 14 Aug 2000 13:13:15 +0200 (MEST)
Subject: [R] Writing a workable function
In-Reply-To: <4675F8231FC@let.ish-lyon.cnrs.fr>
Message-ID: <XFMail.000814131315.theis@statistik.uni-dortmund.de>

Hello!
On 14-Aug-00 Charles RAUX wrote:
> After searching in R- Introduction, FAQ, help... I don't understand 
> this:
> I write a function in a file (.R):
> tt <- function(mc) { date()
> mc<-read.csv2("machines.txt",na.strings="")
> date()
> }
> 
> I source it in R and I type tt(). The answer is
>> tt()
> [1] "Mon Aug 14 11:18:25 2000"
>>
> The instructions following the first "date()" are ignored. Why?
I don't think they are ignored, but you don't print out, give back, resp., any
value. So if you want as output a list of date and the data.frame do:

tt <- function{
        mc <- read.csv2("machines.txt",na.strings="")
        mc <- list(date(),mc)
        mc #This prints out or gives back the value of mc in this case the date
           #and the data.frame!
        }
In my (old!) version of R-Notes there is an example of a function on page 30,
but it lacks the explanation for the last line... I don't have the time to
check the FAQ right now, but I'm sure it's in there somewhere!
Cheers, Winfried
----------------------------------
E-Mail: Winfried Theis <theis at statistik.uni-dortmund.de>
Date: 14-Aug-00
Tel.: +49-231-755-5903                  Room: Mathematikgebäude, M832
Dipl.-Math. Winfried Theis, Graduiertenkolleg "Angewandte Statistik",
Universität Dortmund, 44221 Dortmund
----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Aug 14 12:05:44 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 14 Aug 2000 12:05:44 +0200
Subject: [R] Writing a workable function
References: <4675F8231FC@let.ish-lyon.cnrs.fr>
Message-ID: <3997C478.873840FB@statistik.uni-dortmund.de>

Charles RAUX wrote:
> 
> After searching in R- Introduction, FAQ, help... I don't understand
> this:
> I write a function in a file (.R):
> tt <- function(mc) { date()
> mc<-read.csv2("machines.txt",na.strings="")
> date()
> }
> 
> I source it in R and I type tt(). The answer is
> > tt()
> [1] "Mon Aug 14 11:18:25 2000"
> >
> The instructions following the first "date()" are ignored. Why?

They are NOT ignored. Please read the FAQs (and the help pages).

If you want to return mc, you should specify it. In your case the last
expression (date()) will be returned.
Why do you use the argument "mc" in your function, if you don't use it?

The function 

tt <- function(filename) { 
    cat(date(), "\n")
    mc <- read.csv2(filename, na.strings="")
    return(mc)
}

might do what you want.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Charles.Raux at let.ish-lyon.cnrs.fr  Mon Aug 14 13:09:20 2000
From: Charles.Raux at let.ish-lyon.cnrs.fr (Charles RAUX)
Date: Mon, 14 Aug 2000 12:09:20 +0100
Subject: [R] Writing a workable function
In-Reply-To: <20000814215337.H7296@stat1.stat.auckland.ac.nz>
References: <4675F8231FC@let.ish-lyon.cnrs.fr>; from Charles RAUX on Mon, Aug 14, 2000 at 11:25:35AM +0100
Message-ID: <46819D91031@let.ish-lyon.cnrs.fr>

Since I have large data bases I only try to write a little function 
that gives the current time, reads a data frame (and assigns it) and 
at end gives the time. I have tried many forms but no one works.
Le 14 Aug 00 ? 21:53, Robert Gentleman ?crivait:

> Date:          Mon, 14 Aug 2000 21:53:37 +1200
> From:          Robert Gentleman <rgentlem at stat.auckland.ac.nz>
> To:            Charles RAUX <Charles.Raux at let.ish-lyon.cnrs.fr>
> Subject:       Re: [R] Writing a workable function

> On Mon, Aug 14, 2000 at 11:25:35AM +0100, Charles RAUX wrote:
> > After searching in R- Introduction, FAQ, help... I don't understand 
> > this:
> > I write a function in a file (.R):
> > tt <- function(mc) { date()
> > mc<-read.csv2("machines.txt",na.strings="")
> > date()
> > }
> > 
> > I source it in R and I type tt(). The answer is
> > > tt()
> > [1] "Mon Aug 14 11:18:25 2000"
> > >
> > The instructions following the first "date()" are ignored. Why?
>   
>   Actually they aren't. But perhaps your problem is that you don't
>  realize that in R (as in many other languages, but certainly not all)
>  parameters are passed by value. Thus, this is no way to assign a value
>  to mc.
> 
>  tt<-function() read.csv2("machines.txt",na.strings="")
>  mc<-tt()
> 
>  does what you seem to want.
>  
>  Notice that the value printed out, 
>   [1] "Mon Aug 14 11:18:25 2000"
>  is, in some sense, not the result of a call to date, both of those
>  are invisible at top level. Rather, the last call to date returns
>  that string as its value and it is that value that is returned by
>  the function and subsequently printed.
> > ---------------
> > Charles RAUX,
> > Laboratoire d'Economie des Transports
> > CNRS-Universit? Lumi?re Lyon 2-ENTPE
> > email : charles.raux at let.ish-lyon.cnrs.fr
> > http://www.ish-lyon.cnrs.fr/let
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> -- 
> +-------------------------------------------------------------------------+
> | Robert Gentleman              phone : (64-9) 3737-599 ext 3946          | 
> | Senior Lecturer               fax :   (64-9) 3737-018                   |
> | Department of Statistics      office : Room 206 Maths/Physics           |
> | University of Auckland	email : rgentlem at stat.auckland.ac.nz      |
> +-------------------------------------------------------------------------+
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Mon Aug 14 16:19:37 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Mon, 14 Aug 2000 10:19:37 -0400
Subject: [R] Writing a workable function
References: <4675F8231FC@let.ish-lyon.cnrs.fr>; from Charles RAUX on Mon,Aug 14, 2000 at 11:25:35AM +0100 <46819D91031@let.ish-lyon.cnrs.fr>
Message-ID: <001d01c005fa$ade988a0$0201a8c0@Workgroup>

Hi,

If I understand you correctly you would like to print the start time, read
your data and print then end time. So, as one suggested, use cat to output
any values you want to see that are local to your function and either return
the result using "return( ... )" or place the variable or object you want as
the last statement of your function. You may want to know the elapse time
instead of figuring it out manually. I think this can be done using the
chron library, have a look and have fun.

Regards.

Yves



----- Original Message -----
From: "Charles RAUX" <Charles.Raux at let.ish-lyon.cnrs.fr>
To: "Robert Gentleman" <rgentlem at stat.auckland.ac.nz>
Cc: "r-help" <r-help at stat.math.ethz.ch>
Sent: Monday, August 14, 2000 7:09 AM
Subject: Re: [R] Writing a workable function


> Since I have large data bases I only try to write a little function
> that gives the current time, reads a data frame (and assigns it) and
> at end gives the time. I have tried many forms but no one works.
> Le 14 Aug 00 ? 21:53, Robert Gentleman ?crivait:
>
> > Date:          Mon, 14 Aug 2000 21:53:37 +1200
> > From:          Robert Gentleman <rgentlem at stat.auckland.ac.nz>
> > To:            Charles RAUX <Charles.Raux at let.ish-lyon.cnrs.fr>
> > Subject:       Re: [R] Writing a workable function
>
> > On Mon, Aug 14, 2000 at 11:25:35AM +0100, Charles RAUX wrote:
> > > After searching in R- Introduction, FAQ, help... I don't understand
> > > this:
> > > I write a function in a file (.R):
> > > tt <- function(mc) { date()
> > > mc<-read.csv2("machines.txt",na.strings="")
> > > date()
> > > }
> > >
> > > I source it in R and I type tt(). The answer is
> > > > tt()
> > > [1] "Mon Aug 14 11:18:25 2000"
> > > >
> > > The instructions following the first "date()" are ignored. Why?
> >
> >   Actually they aren't. But perhaps your problem is that you don't
> >  realize that in R (as in many other languages, but certainly not all)
> >  parameters are passed by value. Thus, this is no way to assign a value
> >  to mc.
> >
> >  tt<-function() read.csv2("machines.txt",na.strings="")
> >  mc<-tt()
> >
> >  does what you seem to want.
> >
> >  Notice that the value printed out,
> >   [1] "Mon Aug 14 11:18:25 2000"
> >  is, in some sense, not the result of a call to date, both of those
> >  are invisible at top level. Rather, the last call to date returns
> >  that string as its value and it is that value that is returned by
> >  the function and subsequently printed.
> > > ---------------
> > > Charles RAUX,
> > > Laboratoire d'Economie des Transports
> > > CNRS-Universit? Lumi?re Lyon 2-ENTPE
> > > email : charles.raux at let.ish-lyon.cnrs.fr
> > > http://www.ish-lyon.cnrs.fr/let
> >
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> > > r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To:
r-help-request at stat.math.ethz.ch
> > >
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
> >
> > --
> >
+-------------------------------------------------------------------------+
> > | Robert Gentleman              phone : (64-9) 3737-599 ext 3946
|
> > | Senior Lecturer               fax :   (64-9) 3737-018
|
> > | Department of Statistics      office : Room 206 Maths/Physics
|
> > | University of Auckland email : rgentlem at stat.auckland.ac.nz      |
> >
+-------------------------------------------------------------------------+
> >
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tord.snall at ebc.uu.se  Mon Aug 14 20:20:53 2000
From: tord.snall at ebc.uu.se (Snall, Tord)
Date: Mon, 14 Aug 2000 20:20:53 +0200
Subject: [R] conf. int. for lm() and Up-arrow
Message-ID: <200008141820.UAA15243@accipiter.its.uu.se>


Dear all,

Is there any function for calculating confidence limits 
for coefficients in an lm() object? I know of the 
confint() function in the MASS library working very 
well on my binomial GLMs and I have tried it (using glm
() , family=gaussian) but it gives NAs according to 
below. Does the confint() function not accept gaussian 
GLMs? Could there be convergence problems in the GLM? 
Note the very low R2-value. Could the Hauck & Donner 
phenomenon discussed in V & R (1999) occur in a 
gaussian GLM?  I guess not and I have tried with 
different epsilon but it does not change anything.

I use R 1.1.0 on Windows 98.
Sorry to bother you about this but earlier some R users 
had problem using the Up arrow key to get the earlier 
written text rows. I deleted those mails because I 
usually use Windows NT. Now however I?m away from my 
office using R on Windows 98 (something I didn\'t plan 
to do). Could someone who have had this problem please 
tell me how to do to be able to use the Up arrow key 
again. 

Thanks for all hints!


Sincerely,
Tord Sn?ll



> glm.spe.var<- glm(OSPEABUN~ V1+V2+V3+V4+V5+V6+V7+V8, 
family=gaussian, data=R)
> lm.spe.var<- lm(OSPEABUN~V1+V2+V3+V4+V5+V6+V7+V8, 
data=R)
> summary(lm.spe.var)


Residuals:
      Min        1Q    Median        3Q       Max 
-0.854243 -0.353655 -0.212623 -0.004446  2.729957 

Coefficients:
             Estimate Std. Error t value Pr(>|t|)    
(Intercept)  0.274985   0.028895   9.517  < 2e-16 ***
V1           0.145041   0.041001   3.537 0.000445 ***
V2          -0.002472   0.047220  -0.052 0.958276    
V3          -0.016563   0.046899  -0.353 0.724120    
V4          -0.065702   0.029530  -2.225 0.026573 *  
V5           0.023614   0.031004   0.762 0.446665    
V6           0.130698   0.031565   4.141 4.12e-05 ***
V7          -0.009698   0.042213  -0.230 0.818398    
V8          -0.041318   0.031670  -1.305 0.192672    
---
Signif. codes:  0  `***\\\'  0.001  `**\\\'  0.01  `*\\\'  
0.05  
`.\\\'  0.1  ` \\\'  1 

Residual standard error: 0.6257 on 460 degrees of 
freedom
Multiple R-Squared: 0.07881,    Adjusted R-squared: 
0.06279 
F-statistic:  4.92 on 8 and 460 degrees of freedom,     
p-value: 7.505e-006 

> summary(glm.spe.var)


Deviance Residuals: 
      Min         1Q     Median         3Q        Max  
-0.854243  -0.353655  -0.212623  -0.004446   2.729957  

Coefficients:
             Estimate Std. Error t value Pr(>|t|)    
(Intercept)  0.274985   0.028895   9.517  < 2e-16 ***
V1           0.145041   0.041001   3.537 0.000445 ***
V2          -0.002472   0.047220  -0.052 0.958276    
V3          -0.016563   0.046899  -0.353 0.724120    
V4          -0.065702   0.029530  -2.225 0.026573 *  
V5           0.023614   0.031004   0.762 0.446665    
V6           0.130698   0.031565   4.141 4.12e-05 ***
V7          -0.009698   0.042213  -0.230 0.818398    
V8          -0.041318   0.031670  -1.305 0.192672    
---
Signif. codes:  0  `***\\\'  0.001  `**\\\'  0.01  `*\\\'  
0.05  
`.\\\'  0.1  ` \\\'  1 

(Dispersion parameter for gaussian family taken to be 
0.3915403)

    Null deviance: 195.52  on 468  degrees of freedom
Residual deviance: 180.11  on 460  degrees of freedom
AIC: 902.11

Number of Fisher Scoring iterations: 2

> confint(glm.spe.var, level=0.95)
Waiting for profiling to be done...
            2.5 % 97.5 %
(Intercept)    NA     NA
V1             NA     NA
V2             NA     NA
V3             NA     NA
V4             NA     NA
V5             NA     NA
V6             NA     NA
V7             NA     NA
V8             NA     NA

 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Aug 14 20:48:01 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 14 Aug 2000 19:48:01 +0100 (BST)
Subject: [R] conf. int. for lm() and Up-arrow
In-Reply-To: <200008141820.UAA15243@accipiter.its.uu.se>
Message-ID: <Pine.GSO.4.05.10008141940180.1930-100000@auk.stats>

On Mon, 14 Aug 2000, Snall, Tord wrote:

> 
> Dear all,
> 
> Is there any function for calculating confidence limits 
> for coefficients in an lm() object? I know of the 
> confint() function in the MASS library working very 
> well on my binomial GLMs and I have tried it (using glm
> () , family=gaussian) but it gives NAs according to 
> below. Does the confint() function not accept gaussian 
> GLMs? Could there be convergence problems in the GLM? 
> Note the very low R2-value. Could the Hauck & Donner 
> phenomenon discussed in V & R (1999) occur in a 
> gaussian GLM?  I guess not and I have tried with 
> different epsilon but it does not change anything.

The distribution of the coefficients for the Gaussian case is exact t, so
you don't need any of this, just the textbook formulae.

Given that, I suspect no one ever checked whether it works.

> I use R 1.1.0 on Windows 98.
> Sorry to bother you about this but earlier some R users 
> had problem using the Up arrow key to get the earlier 
> written text rows. I deleted those mails because I 
> usually use Windows NT. Now however Im away from my 
> office using R on Windows 98 (something I didn\'t plan 
> to do). Could someone who have had this problem please 
> tell me how to do to be able to use the Up arrow key 
> again. 

Delete .Rhistory.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From William.Venables at cmis.CSIRO.AU  Tue Aug 15 02:03:58 2000
From: William.Venables at cmis.CSIRO.AU (Bill Venables)
Date: Tue, 15 Aug 2000 10:03:58 +1000
Subject: [R] Writing a workable function 
In-Reply-To: Your message of "Mon, 14 Aug 2000 11:25:35 +0100."
             <4675F8231FC@let.ish-lyon.cnrs.fr> 
Message-ID: <200008150004.KAA20462@snowy.nsw.cmis.CSIRO.AU>

Charles Raux asks:

> After searching in R- Introduction, FAQ, help... I don't understand 
> this:
> I write a function in a file (.R):
>
> tt <- function(mc) { 
>   date()
>   mc <- read.csv2("machines.txt", na.strings = "")
>   date()
> }
> 
> I source it in R and I type tt(). The answer is
> > tt()
> [1] "Mon Aug 14 11:18:25 2000"
> >
> The instructions following the first "date()" are ignored. Why?

This is a very common misunderstanding by people who come from
languages where macros are the norm rather than genuine functions.

When a function in R is executed all variables created or modified
within the function are local to the function and only the value of
the function is communicated to the wider calculation.  In your case
the value of the function is the second call to date() so all other
operations within the function are done, but ultimately lost.  Note
that the arguments are also not linked with the actual arguments, so
your use of mc as an argument is irrelevant.

What you seem to want to do is write a function to read in data and
perhaps to some extra bits and pieces to it afterwards that you have
not shown us yet.  The standard way to go about this would be to write
the function as follows:

tt <- function() {
    mc <- read.csv2("machines.txt", na.strings = "")
    .... (further operations on mc as needed) ....
    mc  # makes the final value of mc the value of the function
}

and you would call the function from the command line using

this.mc <- tt()

that is, you would assign the value of the function to some top-level
variable that you would then use in further calculations.

It is possible to write R functions so that they do behave like macros
in the style you might expect, but that is really taking a giant leap
backwards and I simply won't tell you how to do it...   :-)

Bill Venables.

-- 
Bill Venables,      Statistician,     CMIS Environmetrics Project
CSIRO Marine Labs, PO Box 120, Cleveland, Qld,  AUSTRALIA.   4163
Tel: +61 7 3826 7251           Email: Bill.Venables at cmis.csiro.au    
Fax: +61 7 3826 7304      http://www.cmis.csiro.au/bill.venables/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ukans.edu  Tue Aug 15 04:25:21 2000
From: pauljohn at ukans.edu (Paul Johnson)
Date: Mon, 14 Aug 2000 21:25:21 -0500
Subject: [R] getting eps into MS Word documents
Message-ID: <3998AA11.A1D8C2A0@ukans.edu>

Remember that thread a long time ago about how to get R graphics into Ms
Word?  I'm looking at it now because my coauthor is a Windows User, I
use RedHat linux.  I output some eps files from R.  I found one
relatively painless route to get these figures into a Word document:

View in GSview, copy to clipboard, then paste into document.  I've not
seen this one mentioned, and it has the virtue of using free software
(gsview).

On linux, the eps files look fine, but in gsview (version 3.4) on
windows, they have a huge blank space at the top of the graph.  THere is
an option "eps clip" which cuts off the big blank space. Then copy to
clipboard and paste into Word, the big space is not there anymore, and
print quality is not too bad.

Then I tried the shortcut of directly putting the eps file into the Word
document.  That leads to ignominious defeat.

The figure does not show, but rather there is this text:

Title:
R Graphics Output
Creator: R Software
Preview: This EPS picture was not saved with a preview included in it. 
COmment: This EPS picture will print to a PostScript printer, but not to
other types of printers.

I do have a postscript printer, but it still prints out this way.  I
figure I have some kind of MS Word configuration issue there.


-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science            http://lark.cc.ukans.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From William.Venables at cmis.CSIRO.AU  Tue Aug 15 09:56:58 2000
From: William.Venables at cmis.CSIRO.AU (Bill Venables)
Date: Tue, 15 Aug 2000 17:56:58 +1000
Subject: [R] conf. int. for lm() and Up-arrow 
In-Reply-To: Your message of "Mon, 14 Aug 2000 20:20:53 +0200."
             <200008141820.UAA15243@accipiter.its.uu.se> 
Message-ID: <200008150757.RAA12323@snowy.nsw.cmis.CSIRO.AU>

> 
> Dear all,
> 
> Is there any function for calculating confidence limits 
> for coefficients in an lm() object? I know of the 
> confint() function in the MASS library working very 
> well on my binomial GLMs and I have tried it (using glm
> () , family=gaussian) but it gives NAs according to 
> below. Does the confint() function not accept gaussian 
> GLMs? Could there be convergence problems in the GLM? 
> Note the very low R2-value. Could the Hauck & Donner 
> phenomenon discussed in V & R (1999) occur in a 
> gaussian GLM?  I guess not and I have tried with 
> different epsilon but it does not change anything.

The software was never tested for this case as it seemed a little
pointless since the exact calculations can be done so simply.  (you
might like to do it as a homework exercise...)  I'll look at putting
in a switch to handle the case for future releases.

I suspect it will not work too well, though, as the method uses spline
interpolation to the signed square-root of the profile function, which
in this case is exactly linear.  I think cubic spline interpolation of
straight lines causes some numerical problems.  This is just a quick
response and you might like to check it.


> 
> I use R 1.1.0 on Windows 98.
> Sorry to bother you about this but earlier some R users 
> had problem using the Up arrow key to get the earlier 
> written text rows. I deleted those mails because I 
> usually use Windows NT. Now however I?m away from my 
> office using R on Windows 98 (something I didn\'t plan 
> to do). Could someone who have had this problem please 
> tell me how to do to be able to use the Up arrow key 
> again. 
> 
> Thanks for all hints!
> 
> 
> Sincerely,
> Tord Sn?ll
> 
> 
> 
> > glm.spe.var<- glm(OSPEABUN~ V1+V2+V3+V4+V5+V6+V7+V8, 
> family=gaussian, data=R)
> > lm.spe.var<- lm(OSPEABUN~V1+V2+V3+V4+V5+V6+V7+V8, 
> data=R)
> > summary(lm.spe.var)
> 
> 
> Residuals:
>       Min        1Q    Median        3Q       Max 
> -0.854243 -0.353655 -0.212623 -0.004446  2.729957 
> 
> Coefficients:
>              Estimate Std. Error t value Pr(>|t|)    
> (Intercept)  0.274985   0.028895   9.517  < 2e-16 ***
> V1           0.145041   0.041001   3.537 0.000445 ***
> V2          -0.002472   0.047220  -0.052 0.958276    
> V3          -0.016563   0.046899  -0.353 0.724120    
> V4          -0.065702   0.029530  -2.225 0.026573 *  
> V5           0.023614   0.031004   0.762 0.446665    
> V6           0.130698   0.031565   4.141 4.12e-05 ***
> V7          -0.009698   0.042213  -0.230 0.818398    
> V8          -0.041318   0.031670  -1.305 0.192672    
> ---
> Signif. codes:  0  `***\\\'  0.001  `**\\\'  0.01  `*\\\'  
> 0.05  
> `.\\\'  0.1  ` \\\'  1 
> 
> Residual standard error: 0.6257 on 460 degrees of 
> freedom
> Multiple R-Squared: 0.07881,    Adjusted R-squared: 
> 0.06279 
> F-statistic:  4.92 on 8 and 460 degrees of freedom,     
> p-value: 7.505e-006 
> 
> > summary(glm.spe.var)
> 
> 
> Deviance Residuals: 
>       Min         1Q     Median         3Q        Max  
> -0.854243  -0.353655  -0.212623  -0.004446   2.729957  
> 
> Coefficients:
>              Estimate Std. Error t value Pr(>|t|)    
> (Intercept)  0.274985   0.028895   9.517  < 2e-16 ***
> V1           0.145041   0.041001   3.537 0.000445 ***
> V2          -0.002472   0.047220  -0.052 0.958276    
> V3          -0.016563   0.046899  -0.353 0.724120    
> V4          -0.065702   0.029530  -2.225 0.026573 *  
> V5           0.023614   0.031004   0.762 0.446665    
> V6           0.130698   0.031565   4.141 4.12e-05 ***
> V7          -0.009698   0.042213  -0.230 0.818398    
> V8          -0.041318   0.031670  -1.305 0.192672    
> ---
> Signif. codes:  0  `***\\\'  0.001  `**\\\'  0.01  `*\\\'  
> 0.05  
> `.\\\'  0.1  ` \\\'  1 
> 
> (Dispersion parameter for gaussian family taken to be 
> 0.3915403)
> 
>     Null deviance: 195.52  on 468  degrees of freedom
> Residual deviance: 180.11  on 460  degrees of freedom
> AIC: 902.11
> 
> Number of Fisher Scoring iterations: 2
> 
> > confint(glm.spe.var, level=0.95)
> Waiting for profiling to be done...
>             2.5 % 97.5 %
> (Intercept)    NA     NA
> V1             NA     NA
> V2             NA     NA
> V3             NA     NA
> V4             NA     NA
> V5             NA     NA
> V6             NA     NA
> V7             NA     NA
> V8             NA     NA
> 
>  
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
Bill Venables,      Statistician,     CMIS Environmetrics Project
CSIRO Marine Labs, PO Box 120, Cleveland, Qld,  AUSTRALIA.   4163
Tel: +61 7 3826 7251           Email: Bill.Venables at cmis.csiro.au    
Fax: +61 7 3826 7304      http://www.cmis.csiro.au/bill.venables/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sarahi at xtra.co.nz  Tue Aug 15 10:41:47 2000
From: sarahi at xtra.co.nz (Sarah Inglis)
Date: Tue, 15 Aug 2000 20:41:47 +1200
Subject: [R] Installing R
Message-ID: <000701c00694$a79bb5a0$6ac736d2@pavilion>

Hi, I need some help installing R - I have Windows - i have downloaded rwinst.exe, a zip file and R-110tgz. Can you advise me what I need to do next.
thanks
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000815/e68897fe/attachment.html

From Ko-Kang at xtra.co.nz  Tue Aug 15 13:13:29 2000
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Tue, 15 Aug 2000 23:13:29 +1200
Subject: [R] Installing R
In-Reply-To: <000701c00694$a79bb5a0$6ac736d2@pavilion>
Message-ID: <MABBKEMNGCOLCMNGCPFHMEAMCAAA.Ko-Kang@xtra.co.nz>

Why do you download R-110.tgz?  You use it only if you want to compile it from source yourself (I think).

You should find lots of zipped files from where you get rwinst.exe.

Download all (if you don't know which files you don't need), and run rwinst.exe.  Select your source and destination folders, your source folder will be wherever you saved all those zipped files.  Then the next few steps are trivial.

Feel free to drop me a private message if you are still unsure :-)

Cheers,

Ko-Kang
  -----Original Message-----
  From: owner-r-help at stat.math.ethz.ch [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Sarah Inglis
  Sent: Tuesday, August 15, 2000 8:42 PM
  To: r-help at lists.R-project.org
  Subject: [R] Installing R


  Hi, I need some help installing R - I have Windows - i have downloaded rwinst.exe, a zip file and R-110tgz. Can you advise me what I need to do next.
  thanks
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000815/1d57b34a/attachment.html

From p.dalgaard at biostat.ku.dk  Tue Aug 15 13:30:26 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 Aug 2000 13:30:26 +0200
Subject: [R] Installing R
In-Reply-To: "Ko-Kang Wang"'s message of "Tue, 15 Aug 2000 23:13:29 +1200"
References: <MABBKEMNGCOLCMNGCPFHMEAMCAAA.Ko-Kang@xtra.co.nz>
Message-ID: <x2zome3god.fsf@blueberry.kubism.ku.dk>

"Ko-Kang Wang" <Ko-Kang at xtra.co.nz> writes:

> This is a multi-part message in MIME format.
> 
> ------=_NextPart_000_0002_01C0070E.6CA40900
> Content-Type: text/plain;
> 	charset="iso-8859-1"
> Content-Transfer-Encoding: base64
> 
> V2h5IGRvIHlvdSBkb3dubG9hZCBSLTExMC50Z3o/ICBZb3UgdXNlIGl0IG9ubHkgaWYgeW91IHdh
> bnQgdG8gY29tcGlsZSBpdCBmcm9tIHNvdXJjZSB5b3Vyc2VsZiAoSSB0aGluaykuDQoNCllvdSBz
> aG91bGQgZmluZCBsb3RzIG9mIHppcHBlZCBmaWxlcyBmcm9tIHdoZXJlIHlvdSBnZXQgcndpbnN0

Honestly, folks! Could you please configure your mailers so as not to
produce this kind of junk (yes, I know how to decipher it, but...)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Aug 15 13:38:11 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 15 Aug 2000 13:38:11 +0200
Subject: [R] Installing R
References: <000701c00694$a79bb5a0$6ac736d2@pavilion>
Message-ID: <39992BA3.94D76583@statistik.uni-dortmund.de>

Sarah Inglis wrote:
> 
>    Part 1.1    Type: Plain Text (text/plain)
>            Encoding: quoted-printable

[Really:]
> Hi, I need some help installing R - I have Windows - 
> i have downloaded rwinst.exe, a zip file and R-110tgz. 
> Can you advise me what I need to do next.
> thanks

At first you should configure your mailtool. ;-)

The next step should be to read the file "readme" in e.g.
 http://cran.r-project.org/bin/windows/windows-NT/base/

Here is a little part of that file.

Uwe Ligges

----------------------------------------------------

Installation
============

The distribution consists of several zip files:

rw1010b1.zip and rw1010b2.zip		the base system
rw1010h.zip				text help
rw1010ch.zip				compiled HTML help
rw1010w.zip				HTML help files
rw1010l.zip				latex help files for offline help
rw1010d1.zip				PDF manuals except
rw1010d2.zip				  PDF version of the reference manual
rw1010sp.zip				files to build packages from source

and optionally the installer rwinst.exe.

The simplest way to install is to run the installer (double-click on
the icon for rwinst.exe and navigate its wizard-like pages).
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Tue Aug 15 13:38:14 2000
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Tue, 15 Aug 2000 23:38:14 +1200
Subject: [R] Installing R
References: <MABBKEMNGCOLCMNGCPFHMEAMCAAA.Ko-Kang@xtra.co.nz> <x2zome3god.fsf@blueberry.kubism.ku.dk>
Message-ID: <39992BA6.A4716C3E@xtra.co.nz>

Sorry it was sent through MS Outlook 2000, which I had just installed.  I never
like Microsoft softwares but I thought I'd give it a try.

This is sent by Netscape, should work fine now...

Anyway, to Sarah:
Why did you download the tgz file?  You are not going to compile from source.

You should see lots of zip files from where you downloaded the exe file.  Download
all the zip files (if you don't know which files you may not need), then run the
exe file.  Save all of them into the folder you originally downloaded the exe
file, to avoid some hassales.  Then run the exe file.  Select your
source/destination folders, follow the simple instructions and you are done.

Feel free to drop me a private message if you are still unsure...:-)

Cheers,

Ko-Kang

Peter Dalgaard BSA wrote:

> "Ko-Kang Wang" <Ko-Kang at xtra.co.nz> writes:
>
> > This is a multi-part message in MIME format.
> >
> > ------=_NextPart_000_0002_01C0070E.6CA40900
> > Content-Type: text/plain;
> >       charset="iso-8859-1"
> > Content-Transfer-Encoding: base64
> >
> > V2h5IGRvIHlvdSBkb3dubG9hZCBSLTExMC50Z3o/ICBZb3UgdXNlIGl0IG9ubHkgaWYgeW91IHdh
> > bnQgdG8gY29tcGlsZSBpdCBmcm9tIHNvdXJjZSB5b3Vyc2VsZiAoSSB0aGluaykuDQoNCllvdSBz
> > aG91bGQgZmluZCBsb3RzIG9mIHppcHBlZCBmaWxlcyBmcm9tIHdoZXJlIHlvdSBnZXQgcndpbnN0
>
> Honestly, folks! Could you please configure your mailers so as not to
> produce this kind of junk (yes, I know how to decipher it, but...)
>
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug 15 14:18:46 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 15 Aug 2000 13:18:46 +0100 (BST)
Subject: [R] Installing R
In-Reply-To: <39992BA6.A4716C3E@xtra.co.nz>
Message-ID: <Pine.GSO.4.05.10008151312490.2624-100000@auk.stats>

On Tue, 15 Aug 2000, Ko-Kang Wang wrote:

> Sorry it was sent through MS Outlook 2000, which I had just installed.  I never
> like Microsoft softwares but I thought I'd give it a try.
> 
> This is sent by Netscape, should work fine now...
> 
> Anyway, to Sarah:
> Why did you download the tgz file?  You are not going to compile from source.
> 
> You should see lots of zip files from where you downloaded the exe file.  Download
> all the zip files (if you don't know which files you may not need), then run the
> exe file.  Save all of them into the folder you originally downloaded the exe
> file, to avoid some hassales.  Then run the exe file.  Select your
> source/destination folders, follow the simple instructions and you are done.
> 
> Feel free to drop me a private message if you are still unsure...:-)

It might be a useful convention to point people to the official
documentation, as Uwe Ligges did (and I did in a private reply to Sarah).
And for general information, the R FAQ (see the trailer on this message)
and the rw-FAQ,

http://www.stats.ox.ac.uk/pub/R/rw-FAQ.html

are well worth consulting.  The latter answers this question in detail.
(That's the version for rw1011 that will be along in a day or two.)

[If you don't think the official documentation is adequate, please
tell us how to improve it.]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Sun Aug 20 03:39:51 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Sat, 19 Aug 2000 21:39:51 -0400 (EDT)
Subject: [R] Writing a workable function 
In-Reply-To: <200008150004.KAA20462@snowy.nsw.cmis.CSIRO.AU>
Message-ID: <Pine.LNX.4.10.10008192137270.11178-100000@bolker.zoo.ufl.edu>


  Perhaps a short description of this issue [functions, return values,
assignment, printing intermediate results] could go in the R FAQ?  If no
one else will, I'd be willing to take a shot at writing it ...  I would
personally be inclined to give the hint, in a suitably deprecated form,
about global assignment, but also to try to clarify the reasons why it's a
bad idea.

  Ben Bolker


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kleiweg at let.rug.nl  Tue Aug 15 21:43:43 2000
From: kleiweg at let.rug.nl (Peter Kleiweg)
Date: Tue, 15 Aug 2000 21:43:43 +0200 (CEST)
Subject: [R] Compiling R on HP-UX
Message-ID: <Pine.LNX.4.21.0008152125180.555-100000@kleigh.nl>


Has anyone succeeded in compiling R on HP-UX?

I'm trying to compile R version 1.1.0 on a HP-UX 10.20
machine. I run into the following problems:

I got a compile error on src/unix/X11/rbitmap.c which I solved
by including setjmp.h. After that, and after editing the
Makefiles a bit cause gcc en ld can't find all the libraries, I
finally get it to compile. Then I run "make install", and it
looks OK. But R won't start. It complains it can't load
R_X11.sl, which I checked is definately in the place R is
looking for it. So I recompiled R linking all the sources that
go into R_X11.sl derictly into R.bin. No R does run, but it
crashes with a segmentation fault as soon as it tries to open a
window.

Does anyone know about similar problems, and found a
solutions? I checked the archives for the last year, but
couldn't find any reference to this type of problem.

The `file' command gives some information that might be
informative. Or not. It says:

R.bin:     PA-RISC2.0 shared executable dynamically linked -not stripped
R_X11.sl:  PA-RISC1.1 shared library -not stripped

Both files were created in the same run from make.

I used gcc version 2.95.2.

I also tried gcc version egcs-2.91.60, but run into much more
trouble because it couldn't find "address indepedent" libraries
nessary to link R libraries.


I compiled R using gcc version 2.7.2.3 on Linux 2.0.36 and had
no problems.



And another thing: "configure" on HP-UX says it can't use
tcl/tk, but it can on Linux. But my Linux and the HP-UX
machine have identical versions of tcl and tk installed.

-- 
Peter Kleiweg
http://www.let.rug.nl/~kleiweg/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Aug 15 22:47:45 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 Aug 2000 22:47:45 +0200
Subject: [R] Compiling R on HP-UX
In-Reply-To: Peter Kleiweg's message of "Tue, 15 Aug 2000 21:43:43 +0200 (CEST)"
References: <Pine.LNX.4.21.0008152125180.555-100000@kleigh.nl>
Message-ID: <x2og2up7ym.fsf@blueberry.kubism.ku.dk>

Peter Kleiweg <kleiweg at let.rug.nl> writes:

> Has anyone succeeded in compiling R on HP-UX?
> 
> I'm trying to compile R version 1.1.0 on a HP-UX 10.20
> machine. I run into the following problems:
> 
> I got a compile error on src/unix/X11/rbitmap.c which I solved
> by including setjmp.h. After that, and after editing the
> Makefiles a bit cause gcc en ld can't find all the libraries, I
> finally get it to compile. Then I run "make install", and it
> looks OK. But R won't start. It complains it can't load
> R_X11.sl, which I checked is definately in the place R is
> looking for it. So I recompiled R linking all the sources that
> go into R_X11.sl derictly into R.bin. No R does run, but it
> crashes with a segmentation fault as soon as it tries to open a
> window.

Hmm. My guess would be that you need to work harder on getting dynamic
loading to work. Too much does not work without it. Do you have a
debugger so that you can see what R is trying to do at the point
where it protests?

> Does anyone know about similar problems, and found a
> solutions? I checked the archives for the last year, but
> couldn't find any reference to this type of problem.

I'm fairly sure someone had it working at some point, but HP-UX is not
among the systems we have regular access to.

> And another thing: "configure" on HP-UX says it can't use
> tcl/tk, but it can on Linux. But my Linux and the HP-UX
> machine have identical versions of tcl and tk installed.

That would most likely be a question of being able to find the
libraries and support files rather than the versions themselves

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From William.Venables at cmis.CSIRO.AU  Wed Aug 16 01:58:55 2000
From: William.Venables at cmis.CSIRO.AU (Bill Venables)
Date: Wed, 16 Aug 2000 09:58:55 +1000
Subject: [R] Writing a workable function 
In-Reply-To: Your message of "Sat, 19 Aug 2000 21:39:51 -0400."
             <Pine.LNX.4.10.10008192137270.11178-100000@bolker.zoo.ufl.edu> 
Message-ID: <200008152359.JAA14021@snowy.nsw.cmis.CSIRO.AU>

Ben Bolker writes:

> 
>   Perhaps a short description of this issue [functions, return values,
> assignment, printing intermediate results] could go in the R FAQ?  If no
> one else will, I'd be willing to take a shot at writing it ...  I would
> personally be inclined to give the hint, in a suitably deprecated form,
> about global assignment, but also to try to clarify the reasons why it's a
> bad idea.
> 

Unfortunately I don't think a short description is likely to be good
enough and a long description is unlikely to be very rivetting stuff.
The problem is that some people come to an S based system (like R)
often somewhat reluctantly from a macro based system and cannot seem
to get past the macro style of thinking.  These people often become
positively desperate to make R behave just like the old system but of
course in so doing they prevent themselves from ever learning how to
use the new system well.

If you try to build on what macro-based thinkers know to explain how
an S based system differs (and offers more) you can find that in just
explaining those differences you unwittingly supply the very
information they need to feed their desperation and you end up
creating that barrier for them that they are so anxious to erect!

I'd say go ahead and have a go by all means, but be careful in what
you write as it is a very tricky and sensitive area.

Bill Venables.
-- 
Bill Venables,      Statistician,     CMIS Environmetrics Project
CSIRO Marine Labs, PO Box 120, Cleveland, Qld,  AUSTRALIA.   4163
Tel: +61 7 3826 7251           Email: Bill.Venables at cmis.csiro.au    
Fax: +61 7 3826 7304      http://www.cmis.csiro.au/bill.venables/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From luke at goose.stat.umn.edu  Wed Aug 16 02:32:31 2000
From: luke at goose.stat.umn.edu (Luke Tierney)
Date: Tue, 15 Aug 2000 19:32:31 -0500 (CDT)
Subject: [R] Compiling R on HP-UX
In-Reply-To: <Pine.LNX.4.21.0008152125180.555-100000@kleigh.nl> from Peter Kleiweg at "Aug 15, 2000 09:43:43 pm"
Message-ID: <200008160032.TAA22001@goose.stat.umn.edu>

Peter Kleiweg wrote:
> 
> Has anyone succeeded in compiling R on HP-UX?
> 


I regularly build on our HP-UX systems, 

nokomis% uname -a
HP-UX nokomis B.10.20 A 9000/715 2012422816 two-user license

Running configure with no arguments or environment settings gives me

R is now configured for hppa1.1-hp-hpux10.20

  Source directory:         .
  Installation directory:   /usr/local
  C compiler:               gcc  -g -O2
  FORTRAN compiler:         fort77  -g
  X11 support:              yes
  Gnome support:            no
  Tcl/Tk support:           no

Our gcc is 2.8.1; we dont have g77.

I can also build with cc by running configure under a csh shell as

env CC=cc CFLAGS=-Wp,-H16000 configure

This gives me

R is now configured for hppa1.1-hp-hpux10.20

  Source directory:         .
  Installation directory:   /usr/local
  C compiler:               cc  -D_HPUX_SOURCE -g -Aa
  FORTRAN compiler:         fort77  -g
  X11 support:              yes
  Gnome support:            no
  Tcl/Tk support:           no


To track down the shared library problem you could try this: If you
add BIND_VERBOSE to the flags for shl_load then shl_load may print
something useful, like the name of the symbol it can't find.  The call
to shl_load is in src/unix/hpdlfcn.c, but even though this is a .c
file it is used by inclusion in src/unix/dynload.c, so that is the
file that needs to be recompiled.

> 
> R.bin:     PA-RISC2.0 shared executable dynamically linked -not stripped
> R_X11.sl:  PA-RISC1.1 shared library -not stripped
> 

We only have 1.1 systems, so I'm not sure what is different about 2.0,
but this difference in versions looks worrying.  There may be an
incompatibility between these and there may be a problem with the
combination of gcc and ld or something along those lines.

luke

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke at stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From usama1 at globalnet.com.eg  Wed Aug 16 05:40:04 2000
From: usama1 at globalnet.com.eg (usama1)
Date: Fri, 16 Aug 2000 06:40:04 +0300
Subject: [R] goodness of fit
Message-ID: <3213ED94.970F6DFA@globalnet.com.eg>

Dear All,
    Is there any modules to compute the chi-square goodness of fit ,
K.S. statistics and Anderson Darling nonparametric test and compre the
fitting of a class of distributions using these tests?
Thank you.
Osama Hussien

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s.adi.purnomo at energylink.co.nz  Wed Aug 16 05:51:24 2000
From: s.adi.purnomo at energylink.co.nz (Peppy Adi Purnomo)
Date: Wed, 16 Aug 2000 15:51:24 +1200
Subject: [R] virus - free
Message-ID: <33344F2C6B6ED411996D0000F87908142059@ELSRV1>

Hello,

I am wanting to download the recent R update off the web.  May I assume
confidently that R package from the website is virus free?  I apologise if
this is a very silly question, I just need to convince myself if the site is
very hygiene.

Thank you very much,
Peppy
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From John.Strumila at team.telstra.com  Wed Aug 16 07:53:32 2000
From: John.Strumila at team.telstra.com (Strumila, John)
Date: Wed, 16 Aug 2000 15:53:32 +1000
Subject: [R] R on os390
Message-ID: <61411576E951D211AF330008C7245DD90626F9B8@ntmsg0005.corpmail.telstra.com.au>

G'day R friends,

I was wondering if anyone's ported R to os390.  If so, are the vsize and
nsize limits the same as other platforms?

I could really annoy those SAS guys then.

thanks,
John Strumila
john.strumila at team.telstra.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Wed Aug 16 09:16:50 2000
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Wed, 16 Aug 2000 19:16:50 +1200
Subject: [R] virus - free
References: <33344F2C6B6ED411996D0000F87908142059@ELSRV1>
Message-ID: <399A3FE2.E1C43F52@xtra.co.nz>

Although I cannot say with 100% confidence, I can tell you they are virus-free with
perhaps 99% confidence, that is if you choose to download from CRAN official site.
Any thing downloaded from an "official" site are almost always virus free (at least
my PC has not got infected yet from downloading from an official site)...

However, it is always safe to have a virus scanner installed in your local machine,
or server, and do a virus check before you install anything.

Cheers,

Ko-Kang

Peppy Adi Purnomo wrote:

> Hello,
>
> I am wanting to download the recent R update off the web.  May I assume
> confidently that R package from the website is virus free?  I apologise if
> this is a very silly question, I just need to convince myself if the site is
> very hygiene.
>
> Thank you very much,
> Peppy
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at sirio.stat.unipd.it  Wed Aug 16 10:00:14 2000
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Wed, 16 Aug 2000 10:00:14 +0200
Subject: [R] virus - free
In-Reply-To: <33344F2C6B6ED411996D0000F87908142059@ELSRV1>; from s.adi.purnomo@energylink.co.nz on Wed, Aug 16, 2000 at 03:51:24PM +1200
References: <33344F2C6B6ED411996D0000F87908142059@ELSRV1>
Message-ID: <20000816100014.A32085@sirio.stat.unipd.it>

On Wed, Aug 16, 2000 at 03:51:24PM +1200, Peppy Adi Purnomo wrote:
> Hello,
> 
> I am wanting to download the recent R update off the web.  May I assume
> confidently that R package from the website is virus free?  I apologise if
> this is a very silly question, I just need to convince myself if the site is
> very hygiene.
> 

  I suppose you are speaking about the Windows binaries.
  I cannot give 100% guarantee, of course. But, I prepare them
  on a machine not connected to the net and protected.
  In addition, we don't have any incident reported.

  Anyway, as CRAN/R/bin/windows/windows-NT/ReadMe says:
  "CRAN does not have Windows systems and cannot check these
   binaries for viruses. Use the normal precautions with downloaded
   executables."

   guido
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Aug 16 10:35:08 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Aug 2000 10:35:08 +0200
Subject: [R] Writing a workable function
In-Reply-To: Bill Venables's message of "Wed, 16 Aug 2000 09:58:55 +1000"
References: <200008152359.JAA14021@snowy.nsw.cmis.CSIRO.AU>
Message-ID: <x28ztx7geb.fsf@blueberry.kubism.ku.dk>

Bill Venables <William.Venables at cmis.csiro.au> writes:

> Ben Bolker writes:
> 
> > 
> >   Perhaps a short description of this issue [functions, return values,
> > assignment, printing intermediate results] could go in the R FAQ?  If no
> > one else will, I'd be willing to take a shot at writing it ...  I would
> > personally be inclined to give the hint, in a suitably deprecated form,
> > about global assignment, but also to try to clarify the reasons why it's a
> > bad idea.
> > 
> 
> Unfortunately I don't think a short description is likely to be good
> enough and a long description is unlikely to be very rivetting stuff.
...
> If you try to build on what macro-based thinkers know to explain how
> an S based system differs (and offers more) you can find that in just
> explaining those differences you unwittingly supply the very
> information they need to feed their desperation and you end up
> creating that barrier for them that they are so anxious to erect!

Hmm. Perhaps that is a little too pessimistic... Sometimes one just
need to provide a little information at the right spot to make things
click into place.  In the present case the relevant point would seem
to be that the result of an expression is not printed during function
evaluations, but it would be nice also to have an example of why this
is so - I'd go looking for an example of the kind

for (i in 1:1000) f(x) 

where f(x) is used for side effects but also has a visible value,
which just isn't needed here. Such examples are not all that easy to
come up with, but maybe it suffices to remind people that since every
function has a value, one would have to invisible()ify it in every
single user-written function to avoid having code like the above
spewing out 1000 lines or more of garbage.

> I'd say go ahead and have a go by all means, but be careful in what
> you write as it is a very tricky and sensitive area.

Yes. The FAQ may not be the most obvious target, though. Recently,
when someone got baffled by the behaviour of source(), it did cross my
mind that maybe the section on that in the R-intro document could do
with a couple of words on echo=TRUE. So perhaps R-intro would be a
more natural place for this stuff too.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ynoel at nordnet.fr  Wed Aug 16 12:34:28 2000
From: ynoel at nordnet.fr (=?iso-8859-1?Q?Yvonnick_No=EBl?=)
Date: Wed, 16 Aug 2000 12:34:28 +0200
Subject: [R] Installing ESS under EMACS
Message-ID: <001f01c0076d$9039a320$4ce192c3@oemcomputer>

Dear members,

I have spent some time to make clear how I could write R programs from within EMACS using the ESS package, under Win98. Unfortunately, I have found this not quite clear for Windows 98 (though a lot of details are provided for UNIX).

I have tried to create a .emacs file with a command such as (load "PATH/ess-site.el") and also added a "PATH=...\rw1010\" line in my autoexec.bat, but this does not seem to have any effect. 

As I am no expert at Lisp (nor at EMACS), could somebody be so kind as to tell me what are the (probably very simple) manipulations to do to have all this work?

Thanks a lot in advance,

Yvonnick Noel, PhD.
U. of Lille 3
Dpt. of Psychology
France

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug 16 13:38:03 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 16 Aug 2000 12:38:03 +0100 (BST)
Subject: [R] Installing ESS under EMACS
In-Reply-To: <001f01c0076d$9039a320$4ce192c3@oemcomputer>
Message-ID: <Pine.GSO.4.05.10008161228470.12664-100000@auk.stats>

On Wed, 16 Aug 2000, [iso-8859-1] Yvonnick Noël wrote:

> Dear members,
> 
> I have spent some time to make clear how I could write R programs 
from within EMACS using the ESS package, under Win98. Unfortunately, 
I have found this not quite clear for Windows 98 (though a lot of 
details are provided for UNIX).

As the rw-FAQ says:

2.7 Can I use rwXxxx with ESS and emacs?
========================================

Yes. The latest versions of ESS (e.g. 5.1.16) come with support for this
version of R, and there is support for interrupting the R process from
ESS (by `C-c C-c').

For help with ESS, please send email to <ESS-help at stat.ethz.ch>, not
the R mailing lists.


As already noted here, there is a problem on Windows 2000, but not 98 nor
NT4, running the Rterm program that ess mode uses.

There is also a problem that the ESS maintainers acknowledge but do
absolutely enough about bug reports, so the inferior R mode puts out an
irritating message about a beta version of R-0.63.3 (which was incorrect
even at the time).  This suggests they don't use R under Windows,
under ESS or otherwise.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug 16 13:47:41 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 16 Aug 2000 12:47:41 +0100 (BST)
Subject: [R] virus - free
In-Reply-To: <33344F2C6B6ED411996D0000F87908142059@ELSRV1>
Message-ID: <Pine.GSO.4.05.10008161238210.12664-100000@auk.stats>

On Wed, 16 Aug 2000, Peppy Adi Purnomo wrote:

> Hello,
> 
> I am wanting to download the recent R update off the web.  May I assume
> confidently that R package from the website is virus free?  I apologise if
> this is a very silly question, I just need to convince myself if the site is
> very hygiene.

`R is free software and comes with ABSOLUTELY NO WARRANTY', including
against viruses.

People normally worry most about viruses on Windows, and 
http://cran.r-project.org/bin/windows/windows-NT/ReadMe says

  Note: CRAN does not have Windows systems and cannot check these
  binaries for viruses. Use the normal precautions with downloaded
  executables.

If you are worried about viruses, I suggest you compile R from source
yourself, or at least check the imported files with an up-to-date
virus checker.  I would *never* assume anything you download is
virus-free, even if the site owner assures you so, as how are you to know
that the site has not been tampered with, or another site is
masquerading as what you think is a CRAN site, or ....


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at sirio.stat.unipd.it  Wed Aug 16 13:54:36 2000
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Wed, 16 Aug 2000 13:54:36 +0200
Subject: [R] Installing ESS under EMACS
In-Reply-To: <001f01c0076d$9039a320$4ce192c3@oemcomputer>; from ynoel@nordnet.fr on Wed, Aug 16, 2000 at 12:34:28PM +0200
References: <001f01c0076d$9039a320$4ce192c3@oemcomputer>
Message-ID: <20000816135436.A7660@sirio.stat.unipd.it>

On Wed, Aug 16, 2000 at 12:34:28PM +0200, Yvonnick No?l wrote:
First point: You should try to give more details. Otherwise is
not easy to try to help you. For example, which messages does
emacs give? How, did you try to launch R?....

> I have tried to create a .emacs file with a command such as (load "PATH/ess-site.el") 
Second  point (since some local users had problem with it): where do you
put the .emacs file and are you sure it is loaded and in particular
that it loads ess-...? To test this is enough to see if Meta-R is defined:
just hit Esc R <return> and look to what happens.
In my setting, I have .emacs in c:\home and a 
set HOME=c:\home
in my autoexec.bat.
If you want to avoid to set this last variable you can launch emacs
using something like "runemacs -l PATH-TO/.emacs"

>and also added a "PATH=...\rw1010\" line in my autoexec.bat, 
                                   
Third point: the PATH should include "PATH-TO\rw1010\bin"
                                                     ~~~
Remark: Surely having "PATH-TO\rw1010\" in PATH doesn't work.
I have never tested the above solution (and cannot test it under Windows
now since I don't have any Windows machine at hand) but it should work.
What, I am sure it __does work__ (Unix and Windows) is to set 
the R executable in .emacs using 
(setq-default inferior-R-program-name "PATH-TO/rw1010/bin/Rterm.exe")
This doen't require to have .../rw1010/bin in the PATH and make
easier to switch between different version of R (but this can be 
un-interesting for you).

guido






-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kleiweg at let.rug.nl  Wed Aug 16 13:57:05 2000
From: kleiweg at let.rug.nl (Peter Kleiweg)
Date: Wed, 16 Aug 2000 13:57:05 +0200 (CEST)
Subject: [R] Compiling R on HP-UX
In-Reply-To: <200008160032.TAA22001@goose.stat.umn.edu>
Message-ID: <Pine.LNX.4.21.0008161348330.2344-100000@kleigh.nl>

Luke Tierney skriver...

> Peter Kleiweg wrote:
>
> > Has anyone succeeded in compiling R on HP-UX?

> I can also build with cc by running configure under a csh shell as
> 
> env CC=cc CFLAGS=-Wp,-H16000 configure

This works. It compiles without errors, but gives some warnings
about incompatible pointer types. 

> To track down the shared library problem you could try this: If you
> add BIND_VERBOSE to the flags for shl_load then shl_load may print
> something useful, like the name of the symbol it can't find.  The call
> to shl_load is in src/unix/hpdlfcn.c, but even though this is a .c
> file it is used by inclusion in src/unix/dynload.c, so that is the
> file that needs to be recompiled.

This was very helpfull. I discovered an unresolved reference in
libX11. I checked this with the system maintainer. He said
dld.sl is old, and he will replace it soon.

I have accounts on three HP-UX machines. It tried running R
from the other machines, and it works fine. So it's a local
problem.

-- 
Peter Kleiweg
http://www.let.rug.nl/~kleiweg/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From richards at pci.upmc.edu  Wed Aug 16 14:29:58 2000
From: richards at pci.upmc.edu (Richards, Tom)
Date: Wed, 16 Aug 2000 08:29:58 -0400
Subject: [R] RE: R 1.1.1 for Windows (NT/9x/2000) 
Message-ID: <5B9B19C8A522D411A8EC00A0C99D6A9A02E5A0@mail.nsabp.pitt.edu>

Guido:

Thank you so much for this, but I wonder, when there is a new release of R,
how can I know which packages in contrib need to be re-compiled?  I still
have all the .zip files from 1.1.0 on my hard drive here, but I am unsure
whether to install them under 1.1.1.  Thanks for your help.

Tom Richards

> -----Original Message-----
> From: Guido Masarotto [mailto:guido at hal.stat.unipd.it]
> Sent: Wednesday, August 16, 2000 8:23 AM
> To: r-announce at r-project.org
> Subject: R 1.1.1 for Windows (NT/9x/2000) 
> 
> 
> 
> Windows binaries at CRAN (bin/windows/Windows-NT/base) have 
> been updated 
> to R-1.1.1.  See below for a list of Windows-specific changes.
> 
> guido masarotto
> (for the R-core team)
> 
> 
> 		Windows-specific changes to R
> 		=============================
> New file README.Rterm providing basic documentation on Rterm.exe.
> 
> undoc() is now available under Windows.
> 
> There is a new script R_HOME/bin/build.sh, a version of R CMD build.
> You will need R_HOME set as an environment variable to use it, and you
> will need the full set of tools from tools.zip (see readme.packages)
> in your path.
> 
> The batch wrappers to Perl files Rdconv.bat Rdindex.bat Rd2txt.bat
> Sd2Rd.bat have been revised to work on more Perl/OS versions.
> 
> Setting cell widths from the menu in the data editor now 
> works reliably.
> 
> Having an empty line at the beginning of .Rhistory no longer 
> breaks the
> history-recall mechanism in Rgui.
> 
> Characters using the AltGr key now work in interactive use of Rterm.
> (AltGr used to work like Alt.)
> 
> Ctrl+V now works as described in a pager (pasting to the console).
> 
> Other versions of Tcl/Tk may be used by setting TCL_VERSION in 
> MkRules (but only 8.31 has been tested).
> 
> A file Makevars.win in the src directory of a package will be used in
> preference to a file Makevars.
> 
> The Makefiles for packages now allow C++ code (with extension .cc or
> .cpp or .C) in the src directory.
> 
> If you use a private library and HTML help, you need to copy R.css
> from rw1011\library to each private library directory.
> 
> Function win.version() should give slightly more information (the
> latest service pack number x.y) on Windows 2000.
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-announce mailing list -- Read 
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-announce-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Wed Aug 16 14:56:10 2000
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Wed, 16 Aug 2000 14:56:10 +0200
Subject: [R] Installing ESS under EMACS
References: <001f01c0076d$9039a320$4ce192c3@oemcomputer>
Message-ID: <399A8F6A.E918955D@psy.uni-muenchen.de>

Yvonnick No?l wrote:
> 
> Dear members,
> 
> I have spent some time to make clear how I could write R programs from within >EMACS using the ESS package, under Win98. Unfortunately, I have found this not >quite clear for Windows 98 (though a lot of details are provided for UNIX).
> 
> I have tried to create a .emacs file with a command such as (load 

I think it?s not allowed to create filenames on MS-Systems beginning
with a dot, use _ instead, e.g. _emacs.  You can save files beginning
with a dot in Emacs, but your OS doesn?t support this and can?t find
these files.  

>"PATH/ess-site.el") and also added a "PATH=...\rw1010\" line in my autoexec.bat, >but this does not seem to have any effect.
> 

You need to set a global HOME-variable for your _emacs file. My MS-time
is a long time ago, but I think you can do this in autoexec.bat with

set HOME=\path\to\your\_emacs\file

and restart your computer. Please take a look in the Emacs-docs, it
should be described anywhere.

Bye, Sven
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug 16 15:17:25 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 16 Aug 2000 14:17:25 +0100 (BST)
Subject: [R] RE: R 1.1.1 for Windows (NT/9x/2000) 
In-Reply-To: <5B9B19C8A522D411A8EC00A0C99D6A9A02E5A0@mail.nsabp.pitt.edu>
Message-ID: <Pine.GSO.4.05.10008161412180.13358-100000@auk.stats>

On Wed, 16 Aug 2000, Richards, Tom wrote:

> Guido:
> 
> Thank you so much for this, but I wonder, when there is a new release of R,
> how can I know which packages in contrib need to be re-compiled?  I still
> have all the .zip files from 1.1.0 on my hard drive here, but I am unsure
> whether to install them under 1.1.1.  Thanks for your help.

[I manage the contrib section.]

Answer: none.  We will tell you when this is not so.  It last happened
at 0.99.0, and the ReadMe in the contrib directory lists any dependencies
that are later as the packages use new features of R.

We know that ca 5 packages will need to be re-compiled for 1.2.0
nearer the time, and I will have such versions up before release.
So at least in theory if you install a new version and do
update.packages() you should be all set.  (If as yesterday the CRAN
master was having problems, you may have to try later.)

By 1.2.0 we hope to have `compiled on version' checking in place for 
binary packages.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brian_adams at jbadams.com  Wed Aug 16 15:33:07 2000
From: brian_adams at jbadams.com (Joseph Brian Adams, PhD)
Date: Wed, 16 Aug 2000 13:33:07 +0000
Subject: [R] Confidence intervals
In-Reply-To: <001001c002ce$5bd5a320$0201a8c0@Workgroup>
References: <001001c002ce$5bd5a320$0201a8c0@Workgroup>
Message-ID: <00081613401700.01039@localhost>

I have been wondering about this as well.  In my case, I would like to create
confidence intervals for the predicted outputs in a logistic model.  How does
predict.glm(...) calculate the standard errors for the prediction?  I haven't
been able to find a reference in Hosmer & Lemeshow' text (Applied Logistic
Regression).

On Thu, 10 Aug 2000, you wrote:
> 
> Hi,
> 
> I know this is not exactly an R question but may be someone will nice enough
to give me a pointer. I'm using nnet to fit a non linear univariate function. I
wonder if there is a way to estimate a confidence interval for the predicted
output beside using the residuals? The data set I use is relatively small and I
use only a few (5:10) of these as test set or should I say validation set. >  >
Thanks >  > Yves > 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug 16 20:50:47 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 16 Aug 2000 19:50:47 +0100 (BST)
Subject: [R] Confidence intervals
In-Reply-To: <00081613401700.01039@localhost>
Message-ID: <Pine.GSO.4.05.10008161943320.13600-100000@toucan.stats>

On Wed, 16 Aug 2000, Joseph Brian Adams, PhD wrote:

> I have been wondering about this as well.  In my case, I would like to create
> confidence intervals for the predicted outputs in a logistic model.  How does
> predict.glm(...) calculate the standard errors for the prediction?  I haven't
> been able to find a reference in Hosmer & Lemeshow' text (Applied Logistic
> Regression).

Well, that's not a book on GLMs, is it?  (It's also a good example of how
*not* to do model selection with logistic regression, and we use one of
its examples as a case study for our Master's course.)  As usual for GLMs,
by local linear approximation by a weighted least-squares fit, as you will
see by reading the R code (it calls predict.lm).

> On Thu, 10 Aug 2000, you wrote:
> > 
> > Hi,
> > 
> > I know this is not exactly an R question but may be someone will nice enough
> to give me a pointer. I'm using nnet to fit a non linear univariate function. I
> wonder if there is a way to estimate a confidence interval for the predicted
> output beside using the residuals? The data set I use is relatively small and I
> use only a few (5:10) of these as test set or should I say validation set. >  >

nnet fits are normally too non-linear for the local linear approximation
to be viable.  You could follow the ideas of confint in package MASS,
that is profile the likelihood and interpolate, but that is not so clear
for prediction.  Given that nnet can find multiple local minima, I would
bootstrap the problem if you can.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From William.Venables at cmis.CSIRO.AU  Thu Aug 17 00:42:26 2000
From: William.Venables at cmis.CSIRO.AU (Bill Venables)
Date: Thu, 17 Aug 2000 08:42:26 +1000
Subject: [R] Writing a workable function 
In-Reply-To: Your message of "16 Aug 2000 10:35:08 +0200."
             <x28ztx7geb.fsf@blueberry.kubism.ku.dk> 
Message-ID: <200008162242.IAA04648@snowy.nsw.cmis.CSIRO.AU>

Peter Dalgaard speculates:

> 
> Hmm. Perhaps that is a little too pessimistic... Sometimes one just
> need to provide a little information at the right spot to make things
> click into place.  In the present case the relevant point would seem
> to be that the result of an expression is not printed during function
> evaluations, 

Actually, no, that's not quite the root of the problem, although that
was a peripheral aspect of it.  If you look again at the example you
will see that the person was expecting that a local object generated
within a function would exist outside the function as a permanent
variable.  In other words that the function would behave just like a
macro in other languages.  This is the kind of misconception that is
classically very hard (in my limited experience) to turn around.
People actually *like* working with macros, strange as it may seem.

> but it would be nice also to have an example of why this
> is so - I'd go looking for an example of the kind
> 
> for (i in 1:1000) f(x) 
> 
> where f(x) is used for side effects but also has a visible value,
> which just isn't needed here. Such examples are not all that easy to
> come up with, but maybe it suffices to remind people that since every
> function has a value, one would have to invisible()ify it in every
> single user-written function to avoid having code like the above
> spewing out 1000 lines or more of garbage.

Yes, this is a point, but in this case the problem was more
fundamental.

> 
> > I'd say go ahead and have a go by all means, but be careful in what
> > you write as it is a very tricky and sensitive area.
> 
> Yes. The FAQ may not be the most obvious target, though. Recently,
> when someone got baffled by the behaviour of source(), it did cross my
> mind that maybe the section on that in the R-intro document could do
> with a couple of words on echo=TRUE. So perhaps R-intro would be a
> more natural place for this stuff too.

No real argument with any of these suggestions, but I do think the
problem is much deeper in this case.

Bill.
-- 
Bill Venables,      Statistician,     CMIS Environmetrics Project
CSIRO Marine Labs, PO Box 120, Cleveland, Qld,  AUSTRALIA.   4163
Tel: +61 7 3826 7251           Email: Bill.Venables at cmis.csiro.au    
Fax: +61 7 3826 7304      http://www.cmis.csiro.au/bill.venables/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ukans.edu  Thu Aug 17 09:14:43 2000
From: pauljohn at ukans.edu (Paul E Johnson)
Date: Thu, 17 Aug 2000 02:14:43 -0500
Subject: [R] Things I don't understand about the graphics interface
Message-ID: <399B90E3.DBB5778F@ukans.edu>

Using R-1.1.1 on RedHatLinux 6.2.
I've made some progress, succeeded in outputting bitmap, jpeg, and png
files.  Yipee.

I did them with this command:
> dev2bitmap("whatever.bmp",res=300)
> dev.print(png, file="myplot.png", width=480, height=480)
> dev.print(jpeg, file="myplot.jpg", width=480, height=480)
> dev.print(pictex, file="myplot.tex", width=480, height=480)
 
Now here are the things I don't understand about the docs and/or this
interface.  I understand these functions have undergone change...

1. Why is there a separate method dev.copy2eps. To be consistent,
shouldn't we be able to do
> dev.print(eps, ...)
and why does bitmap format have dev2bitmap, rather than
dev.print(bitmap, ...)?

When I tried that once like so:
> dev.print(bitmap, file="myplot.jpg", width=480, height=480)
R churned way, running and writing and never stopping. Then I did it
again, just for fun, and I got:
> dev.print(bitmap, file="myplot.jpg", width=480, height=480)
Error in dev.print(bitmap, file = "myplot.jpg", width = 480, height =
480) :
        can only print from screen device
> 


2. Do png and jpeg usage inherit the paper size, width, and height set
by the postscript() or ps.options().  

3. I see that png() and jpeg() have no "horizontal" option. Is that
because they are being saved in a file, and there is no need to
constrain them to fit in a piece of paper?   

4. Can you explain this?  I did
>example(hist)
and a bunch of histograms flew by really fast.  Then I did
> png(file="test.png")
> example(hist)
> dev.off()
I expected the file "test.png" to have just one figure, I was guessing
the last one that showed on the screen. But instead it was a figure with
4 histograms, arrayed in a 2x2 matrix.  What controlled that?  png() has
no option like onefile=FALSE.

5. I wish there was "maximum aspect-ratio preserving" adjustment for
size.  If I'm looking at a graph on the screen, and I like it, except it
is too big, I'd like to specify a width and have R assume the
corresponding height.  Otherwise, when I try to specify height and
width, R tries to stretch the objects being drawn and it looks like
hell.  It is important to make this adjustment inside R, I think, in
order to keep the figure looking nice and to avoid scaling it in the
Gimp or something. 

6. The commands above suceeded with R-1.1.1 on RedHat 6.2, but with
R-1.1 on RedHat 6.1, I did the same things and the png and jpeg images
were corrupted/unviewable every time.  Is this likely due to different
versions of X or ghostscript?
  
-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science            http://lark.cc.ukans.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug 17 10:55:19 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 17 Aug 2000 09:55:19 +0100 (BST)
Subject: [R] Things I don't understand about the graphics interface
In-Reply-To: <399B90E3.DBB5778F@ukans.edu>
Message-ID: <Pine.GSO.4.05.10008170909210.5652-100000@auk.stats>

On Thu, 17 Aug 2000, Paul E Johnson wrote:

> Using R-1.1.1 on RedHatLinux 6.2.
> I've made some progress, succeeded in outputting bitmap, jpeg, and png
> files.  Yipee.
> 
> I did them with this command:
> > dev2bitmap("whatever.bmp",res=300)
> > dev.print(png, file="myplot.png", width=480, height=480)
> > dev.print(jpeg, file="myplot.jpg", width=480, height=480)
> > dev.print(pictex, file="myplot.tex", width=480, height=480)
>  
> Now here are the things I don't understand about the docs and/or this
> interface.  I understand these functions have undergone change...

Not fundamentally since 1.1.  Could you try reading ?bitmap and ?png and
noting the differences?  Also, you do seem to be confusing printing to a
sheet of paper with producing a plot in a graphics format. The latter just
encodes the plot region at the size and shape specified by width and
height.  The former places the plot region within the paper region. You
seem to be reading into the docs things I think are just not there,
not should be.

> 1. Why is there a separate method dev.copy2eps. To be consistent,
> shouldn't we be able to do
> > dev.print(eps, ...)

Because that is not printing, as in send to a printer.
dev.print is designed to print to a papersize, dev.copy2eps to copy an
abstract bounding box as specified or taken from the on-screen device.

I think your examples should be using dev.copy, not dev.print.

> and why does bitmap format have dev2bitmap, rather than
> dev.print(bitmap, ...)?

You can use either (on Unix at least).  dev2bitmap predates bitmap, which
relies on piping output that was not supported until recently.

> When I tried that once like so:
> > dev.print(bitmap, file="myplot.jpg", width=480, height=480)
> R churned way, running and writing and never stopping. Then I did it
> again, just for fun, and I got:

When you interrupted it (you must have), you left a postscript device open,
hence

> > dev.print(bitmap, file="myplot.jpg", width=480, height=480)
> Error in dev.print(bitmap, file = "myplot.jpg", width = 480, height =
> 480) :
>         can only print from screen device

Your problem is that you asked for a 480x480inch plot at 72dpi, and I doubt
you have the resources for that! For me

dev.print(bitmap, file="myplot.jpg", width=6, height=6)

works.  You could ask why the default units are different: that is
because `bitmap' can produce plots in formats that know about resolution,
but png and jpeg do not.  I am not sure I would have done it this way,
but that's how Guido had done png and jpeg.


> 2. Do png and jpeg usage inherit the paper size, width, and height set
> by the postscript() or ps.options().

None of those. png and jpeg have nothing to do with postscript and
nothing to do with paper.  They get the width and height from their
width and height arguments (as documented).


> 3. I see that png() and jpeg() have no "horizontal" option. Is that
> because they are being saved in a file, and there is no need to
> constrain them to fit in a piece of paper?   

They have nothing to do with paper (which can be held two ways round).


> 4. Can you explain this?  I did
> >example(hist)
> and a bunch of histograms flew by really fast.  Then I did
> > png(file="test.png")
> > example(hist)
> > dev.off()
> I expected the file "test.png" to have just one figure, I was guessing
> the last one that showed on the screen. But instead it was a figure with
> 4 histograms, arrayed in a 2x2 matrix.  What controlled that?  png() has
> no option like onefile=FALSE.

It did have just one *plot*, but that's a multi-figure plot. Try
with par(ask=TRUE) on screen. You got the first plot.
When I did this I got an error message:

Error in plot.new() : attempt to draw second page on pixmap device

Did you miss that?


> 5. I wish there was "maximum aspect-ratio preserving" adjustment for
> size.  If I'm looking at a graph on the screen, and I like it, except it
> is too big, I'd like to specify a width and have R assume the
> corresponding height.  Otherwise, when I try to specify height and
> width, R tries to stretch the objects being drawn and it looks like
> hell.  It is important to make this adjustment inside R, I think, in
> order to keep the figure looking nice and to avoid scaling it in the
> Gimp or something. 

There's code for that in dev.print. Unless you are copying the graph, there
is no concept of aspect-ratio, which is device-dependent.


> 6. The commands above suceeded with R-1.1.1 on RedHat 6.2, but with
> R-1.1 on RedHat 6.1, I did the same things and the png and jpeg images
> were corrupted/unviewable every time.  Is this likely due to different
> versions of X or ghostscript?

Likely (or png/jpeg libraries). No other reports of problems, though.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tord.snall at ebc.uu.se  Thu Aug 17 15:18:46 2000
From: tord.snall at ebc.uu.se (Snall, Tord)
Date: Thu, 17 Aug 2000 15:18:46 +0200
Subject: [R] conf. int. for lm() and Up-arrow
In-Reply-To: <200008150757.RAA12323@snowy.nsw.cmis.CSIRO.AU>
References: <200008150757.RAA12323@snowy.nsw.cmis.CSIRO.AU>
Message-ID: <200008171318.PAA25466@accipiter.its.uu.se>


Dear all,

Thanks for this information Dr Venables. Now I know how 
easily accessible the statistical distributions are in 
R. 

Thanks also to Prof Ripley for sending me confint.lm() 
which will be available in the coming release of 
6.2pl001. I can recommend it.

Sincerely,
Tord Sn?ll


> > 
> > Is there any function for calculating confidence 
limits 
> > for coefficients in an lm() object? I know of the 
> > confint() function in the MASS library working very 
> > well on my binomial GLMs and I have tried it (using 
glm
> > () , family=gaussian) but it gives NAs according to 
> > below. Does the confint() function not accept 
gaussian 
> > GLMs? Could there be convergence problems in the 
GLM? 
> > Note the very low R2-value. Could the Hauck & 
Donner 
> > phenomenon discussed in V & R (1999) occur in a 
> > gaussian GLM?  I guess not and I have tried with 
> > different epsilon but it does not change anything.
> 
> The software was never tested for this case as it 
seemed a little
> pointless since the exact calculations can be done so 
simply.  (you
> might like to do it as a homework exercise...)  I\'ll 
look at putting
> in a switch to handle the case for future releases.
> 
> I suspect it will not work too well, though, as the 
method uses spline
> interpolation to the signed square-root of the 
profile function, which
> in this case is exactly linear.  I think cubic spline 
interpolation of
> straight lines causes some numerical problems.  This 
is just a quick
> response and you might like to check it.

Thanks for this information Dr Venables. Now I know how 
easily accessible the statistical distributions are in 
R. 

Thanks also to Prof. Ripley for sending me the 
confint.lm() which will be available in the coming 
release of 6.2pl001. I recommend it.

Sincerely,
Tord Sn?ll
> 
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kooresh at ucla.edu  Thu Aug 17 20:51:46 2000
From: kooresh at ucla.edu (Kooresh)
Date: Thu, 17 Aug 2000 11:51:46 -0700
Subject: [R] Unix installation
Message-ID: <399C3442.D5C67ABD@ucla.edu>

I am trying to install R on a unix workstation (Sun-SPARC) but I am not
sure which of the binaries to use.  The only binaries available are for
linux, nextstep, osf, and windows.  Which one of them will work for a
SUN sparc station??  Thanks.


PS.  I tried to compile the source code but it looks like I have a
probelm with fortran.  So, if I could install one of the binaries it
would be a lot easier.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug 17 21:15:46 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 17 Aug 2000 20:15:46 +0100 (BST)
Subject: [R] Unix installation
In-Reply-To: <399C3442.D5C67ABD@ucla.edu>
Message-ID: <Pine.GSO.4.05.10008172006130.10947-100000@auk.stats>

On Thu, 17 Aug 2000, Kooresh wrote:

> I am trying to install R on a unix workstation (Sun-SPARC) but I am not
> sure which of the binaries to use.  The only binaries available are for
> linux, nextstep, osf, and windows.  Which one of them will work for a
> SUN sparc station??  Thanks.

None if you are using Solaris not Linux (you did not say), and
unfortunately the Solaris version matters somewhat.  That's the main
reason we do not distribute Solaris pkgadd packages.

> PS.  I tried to compile the source code but it looks like I have a
> probelm with fortran.  So, if I could install one of the binaries it
> would be a lot easier.

You won't be able to install many of the addons without Fortran.
There are Solaris packages for gcc-2.95.2 including g77 available,
at several places on the Web. I'd recommend that for building R
(unless you have installed licensed copies of SunPro SC5.x, the
caveat being that the licence manager is in our experience
extremely hard to set up).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Thu Aug 17 21:50:56 2000
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Thu, 17 Aug 2000 21:50:56 +0200 (MET DST)
Subject: [R] Unix installation
In-Reply-To: <399C3442.D5C67ABD@ucla.edu>
Message-ID: <Pine.OSF.4.05.10008172148160.23620-100000@alnair.uio.no>

On Thu, 17 Aug 2000, Kooresh wrote:

>I am trying to install R on a unix workstation (Sun-SPARC) but I am not
>sure which of the binaries to use.  The only binaries available are for
>linux, nextstep, osf, and windows.  Which one of them will work for a
>SUN sparc station??  Thanks.

None, as far as I know.

>PS.  I tried to compile the source code but it looks like I have a
>probelm with fortran.  So, if I could install one of the binaries it
>would be a lot easier.

It would probably be, yes, but I'm afraid you will have to do it, unless
somebody comes up with something for you. Now, I took the fast solution
and pushed it over on the sysadmins to do a sitewide installation of R. If
that is not a solution for you, I think the folks here would need more
details to help you.

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster at skepsis.no 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ukans.edu  Fri Aug 18 04:37:23 2000
From: pauljohn at ukans.edu (Paul E Johnson)
Date: Thu, 17 Aug 2000 21:37:23 -0500
Subject: [R] Things I don't understand about the graphics interface
References: <Pine.GSO.4.05.10008170909210.5652-100000@auk.stats>
Message-ID: <399CA163.79640593@ukans.edu>

Prof Brian D Ripley wrote:
> 
> On Thu, 17 Aug 2000, Paul E Johnson wrote:
> Also, you do seem to be confusing printing to a
> sheet of paper with producing a plot in a graphics format. The latter just
> encodes the plot region at the size and shape specified by width and
> height.  The former places the plot region within the paper region. You
> seem to be reading into the docs things I think are just not there,
> not should be.
I totally agree.  I'm just feeling my way along.  I have to be sure I
have a workable plan to manage the output before I get too much further
along.  In the past, I have used Axum to make graphs and I liked it
pretty well, but now I'm trying to wean myself of the pointing and
clicking and MS Windows. 

Maybe you should tell me the best way to attack  my problem. I never
want to print to a printer, I always want to save the graphs to files
which can then be imported into word processors or some kind of editor.
I'm debating whether to try writing with Lyx in order to generate Tex
output.  In the past, I've used editors like MS word or Applixware
Words.  I'm starting a project in which I will probably generate 50 or
100 figures from start to end, and when the manuscript is finished, I
don't want to have to rerun all the figures to resize them by one inch
or something.  My experience is that, if I output a gif that does not
fit on the page, then I've shot myself in the foot because resizing the
graph makes all the text in it too small.  I don't think postscript is
immune to this problem, but you can for sure convince me I'm wrong.  I
was considering the tex output from R, but I don't know what to do with
it after I get it :)  I've not learned how to incorporate them into Lyx,
but I think that may be a Lyx configuration problem, I'm looking into it

So, as you can see, I'm not a complete novice, but I don't have a
definite plan for how to do this manuscript, and I'm open to your
suggestions.
> 
> I think your examples should be using dev.copy, not dev.print.
> 
Could you please explain? I have read ?dev.copy over and over again, and
I don't see what you mean.  I want it copied to a file, not a device. 
dev.copy has no file= option.

-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science            http://lark.cc.ukans.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Aug 18 08:49:44 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 18 Aug 2000 07:49:44 +0100 (BST)
Subject: [R] Things I don't understand about the graphics interface
In-Reply-To: <399CA163.79640593@ukans.edu>
Message-ID: <Pine.GSO.4.05.10008180729560.11648-100000@auk.stats>

On Thu, 17 Aug 2000, Paul E Johnson wrote:

> Prof Brian D Ripley wrote:
> > 
> > On Thu, 17 Aug 2000, Paul E Johnson wrote:
> > Also, you do seem to be confusing printing to a
> > sheet of paper with producing a plot in a graphics format. The latter just
> > encodes the plot region at the size and shape specified by width and
> > height.  The former places the plot region within the paper region. You
> > seem to be reading into the docs things I think are just not there,
> > not should be.

> I totally agree.  I'm just feeling my way along.  I have to be sure I
> have a workable plan to manage the output before I get too much further
> along.  In the past, I have used Axum to make graphs and I liked it
> pretty well, but now I'm trying to wean myself of the pointing and
> clicking and MS Windows. 
> 
> Maybe you should tell me the best way to attack  my problem. I never
> want to print to a printer, I always want to save the graphs to files
> which can then be imported into word processors or some kind of editor.
> I'm debating whether to try writing with Lyx in order to generate Tex
> output.  In the past, I've used editors like MS word or Applixware
> Words.  I'm starting a project in which I will probably generate 50 or
> 100 figures from start to end, and when the manuscript is finished, I
> don't want to have to rerun all the figures to resize them by one inch
> or something.  My experience is that, if I output a gif that does not
> fit on the page, then I've shot myself in the foot because resizing the
> graph makes all the text in it too small.  I don't think postscript is
> immune to this problem, but you can for sure convince me I'm wrong.  I

It is.  After all, my books on S are done that way, as is much professional
publishing.  If you want to incorporate graphs into other documents (not,
say, a Web site) use a re-scalable vector format, namely postscript, PDF or
(on Windows) W/EMF.  (All of those can contain non-rescalable elements, but
they will not from R device output.  There are also limits to the
scalability, but +/-25% is fine.)

> was considering the tex output from R, but I don't know what to do with
> it after I get it :)  I've not learned how to incorporate them into Lyx,
> but I think that may be a Lyx configuration problem, I'm looking into it
> 
> So, as you can see, I'm not a complete novice, but I don't have a
> definite plan for how to do this manuscript, and I'm open to your
> suggestions.
> > 
> > I think your examples should be using dev.copy, not dev.print.
> > 
> Could you please explain? I have read ?dev.copy over and over again, and
> I don't see what you mean.  I want it copied to a file, not a device. 
> dev.copy has no file= option.

You do want it copied to a device. You do not want the R graphics commands
in internal format on a file, you want them rendered in png or postscript
or .... As the help page says

     Most devices (including all screen devices) have a display list
     which records all of the graphics operations that occur in the
     device. `dev.copy' copies graphics contents by copying the display
     list from one device to another device.

Either use dev.copy2eps which encapsulates all this for you, or modify
it for your purposes.  E.g. to copy to png

    dev.copy(device=png, file="foo", width=500, height=300)
    dev.off()

What's difficult about that?



-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Fri Aug 18 13:26:41 2000
From: ernesto at ipimar.pt (=?iso-8859-1?Q?Jos=E9?= Ernesto Jardim)
Date: Fri, 18 Aug 2000 12:26:41 +0100
Subject: [R] cook's distance
Message-ID: <399D1D70.ACB090E4@ipimar.pt>

Hi

Where can I find information about the cook's distance that appears in
the plot(lm.object) function ?

Thanks

ernesto
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ernesto.vcf
Type: text/x-vcard
Size: 321 bytes
Desc: Card for José Ernesto Jardim
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20000818/1e5a8925/ernesto.vcf

From Michael.Pronath at ei.tum.de  Fri Aug 18 14:24:15 2000
From: Michael.Pronath at ei.tum.de (Michael Pronath)
Date: Fri, 18 Aug 2000 14:24:15 +0200
Subject: [R] Logistic Discrimination Analysis
Message-ID: <20000818142414.A32161@eda.ei.tum.de>

 I've got a sample set of variables x1,...xn and a factor f that classifies
 each sample to belong to either group 0 or 1.
 If I build a model with
    m1<-glm(f~. , family=binomial(link="logit"),data=frame);
    pv<-as.vector(predict(m1))
    prob<-plogis(pv)
 does then "prob" predict the probability of a sample to belong to group 1?
 Is this equivalent to logistic discrimination analysis?
 
 M. Pronath
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Fri Aug 18 14:49:20 2000
From: ernesto at ipimar.pt (=?iso-8859-1?Q?Jos=E9?= Ernesto Jardim)
Date: Fri, 18 Aug 2000 13:49:20 +0100
Subject: [R] cook's distance
References: <399D1D70.ACB090E4@ipimar.pt> <x2aeeaahtu.fsf@blueberry.kubism.ku.dk>
Message-ID: <399D30D0.BBA8F6F4@ipimar.pt>

Peter Dalgaard BSA wrote:

> Jos? Ernesto Jardim <ernesto at ipimar.pt> writes:
>
> > Where can I find information about the cook's distance that appears in
> > the plot(lm.object) function ?
>
> Did you try the references in
>
> help(cooks.distance)
> help(plot.lm)
>
> ?

Yes !

I'm not looking for information about the R function but the
mathematical
description of the cook's distance.

Sorry not beeing more specific the first time.

ernesto
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ernesto.vcf
Type: text/x-vcard
Size: 317 bytes
Desc: Card for Jos? Ernesto Jardim
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20000818/ae9d09ce/ernesto.vcf

From ernesto at ipimar.pt  Fri Aug 18 15:17:50 2000
From: ernesto at ipimar.pt (=?iso-8859-1?Q?Jos=E9?= Ernesto Jardim)
Date: Fri, 18 Aug 2000 14:17:50 +0100
Subject: [R] cook's distance
References: <399D1D70.ACB090E4@ipimar.pt> <x2aeeaahtu.fsf@blueberry.kubism.ku.dk> <399D30A2.5A84A822@ipimar.pt> <x27l9eaf1j.fsf@blueberry.kubism.ku.dk>
Message-ID: <399D377E.55FD727B@ipimar.pt>

Peter Dalgaard BSA wrote:

> Jos? Ernesto Jardim <ernesto at ipimar.pt> writes:
>
> > Peter Dalgaard BSA wrote:
> >
> > > Jos? Ernesto Jardim <ernesto at ipimar.pt> writes:
> > >
> > > > Where can I find information about the cook's distance that appears in
> > > > the plot(lm.object) function ?
> > >
> > > Did you try the references in
>                     *************
>
> > >
> > > help(cooks.distance)
> > > help(plot.lm)
> > >
> > > ?
> >
> > Yes !
>
> I don't think you did...
>
> > I'm not looking for information about the R function but the mathematical
> > description of the cook's distance.
>
> Belsley,Kuh&Welsch as well as Cook&Weisberg should have plenty of that.
>
> > Sorry not beeing more specific the first time.
>

Sorry miss that detail :-)

Found it allready in Draper & Smith

Thanks anyway

ernesto
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ernesto.vcf
Type: text/x-vcard
Size: 317 bytes
Desc: Card for Jos? Ernesto Jardim
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20000818/cff7195c/ernesto.vcf

From gfeeney at hawaii.edu  Fri Aug 18 16:36:53 2000
From: gfeeney at hawaii.edu (Griffith Feeney)
Date: Fri, 18 Aug 2000 10:36:53 -0400
Subject: [R] Things I don't understand about the graphics interface
In-Reply-To: <399CA163.79640593@ukans.edu>
References: <Pine.GSO.4.05.10008170909210.5652-100000@auk.stats>
Message-ID: <4.3.2.7.0.20000818103220.00b1b390@pop-server.hawaii.edu>

I don't have much experience with this, but I think you may want eps for 
use in TeX documents. You might want to have a look at

Tex Unbound : Latex and Tex Strategies for Fonts, Graphics, & More

Though the book as a whole may be overkill for your needs, it shows how to 
incorporate graphics files in TeX documents (don't have the book with me 
here, so can't give page refs).

At 06:18 PM 17/08/2000 -1000, you wrote:
>Prof Brian D Ripley wrote:
> >
> > On Thu, 17 Aug 2000, Paul E Johnson wrote:
> > Also, you do seem to be confusing printing to a
> > sheet of paper with producing a plot in a graphics format. The latter just
> > encodes the plot region at the size and shape specified by width and
> > height.  The former places the plot region within the paper region. You
> > seem to be reading into the docs things I think are just not there,
> > not should be.
>I totally agree.  I'm just feeling my way along.  I have to be sure I
>have a workable plan to manage the output before I get too much further
>along.  In the past, I have used Axum to make graphs and I liked it
>pretty well, but now I'm trying to wean myself of the pointing and
>clicking and MS Windows.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Aug 18 18:51:13 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 18 Aug 2000 17:51:13 +0100 (BST)
Subject: [R] HTML help in rw1011 is missing its stylesheet.
Message-ID: <Pine.GSO.4.05.10008181747520.17019-100000@auk.stats>

Only relevant if you installed HTML help from rw1011w.zip.

Looks like rw1011/library/R.css was omitted from the shipped zip file.
Pleas copy rw1011/doc/html/R.css to rw1011/library.

Source builds do copy the file as needed.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ynoel at nordnet.fr  Fri Aug 18 20:16:45 2000
From: ynoel at nordnet.fr (=?iso-8859-1?Q?Yvonnick_No=EBl?=)
Date: Fri, 18 Aug 2000 20:16:45 +0200
Subject: [R] Installing ESS under EMACS
References: <F169284AF6DDD111AA000001FAF836E80123089A@LLNBBS22>
Message-ID: <000e01c00940$7c2c2a40$14e192c3@oemcomputer>

Thank you for these informations (and thanks to all of you who gave me useful indications). I don't want to use bandwith with this, since this is not the list where to discuss it. I just want to say, in case other Windows users would be interested, that the VIM free editor (http://www.vim.org) , which has syntax highlighting features for S, is a good alternative to EMACS (which is wonderful, but probably best to use under Linux/Unix). I haven't made clear if I can launch Rterm from it, but it is at least useful for its (fully programmable) editing features (I am not the author!). 

I also want to add that I discovered R quite recently, and am impressed by its power. I am spending the rest of my holidaytime to port my progs to R ! Thanks to the dev team.

Y. Noel.


----- Message d'origine ----- 
De : Ritter, Christian C SRTCL-CTGAS <Christian.C.Ritter at OPC.shell.com>
? : 'Yvonnick No?l' <ynoel at nordnet.fr>
Envoy? : vendredi 18 ao?t 2000 09:10
Objet : RE: [R] Installing ESS under EMACS


Had a similar problem. I don't know which version of ESS you use, but the
one I copied had a few bugs. There are a few adjustments you may wish to
make in the ess-site.el file. If you do this, use (compile?)-buffer in the
emacs menus. This should give you indications on whether the file is loaded
correctly. If there is no nasty message it's OK, but likely it will complain
about a missing ). You can find that missing ) by selecting region after
region and (compile?)-region. If I remember right, one bug is in a file
called by ess-site.el, the other one in ess-site.el itself. Playing the game
evaluating the lisp will help you learn about lisp add-ons to emacs. Chris.

-----Original Message-----
From: Yvonnick No?l [mailto:ynoel at nordnet.fr]
Sent: Wednesday, August 16, 2000 12:34 PM
To: r-help at stat.math.ethz.ch
Subject: [R] Installing ESS under EMACS


Dear members,

I have spent some time to make clear how I could write R programs from
within EMACS using the ESS package, under Win98. Unfortunately, I have found
this not quite clear for Windows 98 (though a lot of details are provided
for UNIX).

I have tried to create a .emacs file with a command such as (load
"PATH/ess-site.el") and also added a "PATH=...\rw1010\" line in my
autoexec.bat, but this does not seem to have any effect. 

As I am no expert at Lisp (nor at EMACS), could somebody be so kind as to
tell me what are the (probably very simple) manipulations to do to have all
this work?

Thanks a lot in advance,

Yvonnick Noel, PhD.
U. of Lille 3
Dpt. of Psychology
France

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Fri Aug 18 22:56:31 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Fri, 18 Aug 2000 16:56:31 -0400 (EDT)
Subject: [R] goodness of fit
In-Reply-To: <3213ED94.970F6DFA@globalnet.com.eg>
Message-ID: <Pine.LNX.4.10.10008181644340.26174-100000@bolker.zoo.ufl.edu>


  The "ctest" library that comes with R may do part of what you want
(except for the Anderson Darling nonparametric tests, which I don't know
about).

library(ctest)
library(help=ctest)

...
chisq.test               Pearson's Chi-square Test for Count Data
ks.test                  Kolmogorov-Smirnov Tests
...

  You'd probably have to write your own stuff to fit distributions to your
data, although the large set of distribution-calculators in R (see the
"distribution" keyword under the HTML help) should help a lot.

  By the way, you might want to check the clock on your computer -- I
don't really think your message is that old ... (or are you avoiding Y2K
issues?)

On Fri, 16 Aug 2000, usama1 wrote:

> Dear All,
>     Is there any modules to compute the chi-square goodness of fit ,
> K.S. statistics and Anderson Darling nonparametric test and compre the
> fitting of a class of distributions using these tests?
> Thank you.
> Osama Hussien
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jmaloof at ems.salk.edu  Sat Aug 19 00:34:03 2000
From: jmaloof at ems.salk.edu (Julin Maloof)
Date: Fri, 18 Aug 2000 15:34:03 -0700
Subject: [R] Help with X11 display on linux-PPC
Message-ID: <v04003a02b5c3681b1aa0@[198.202.65.198]>

Hi

I recently compiled and installed R on a linux PPC system.

> version
         _
platform powerpc-unknown-linux-gnu
arch     powerpc
os       linux-gnu
system   powerpc, linux-gnu
status
major    1
minor    1.1
year     2000
month    August
day      15
language R

The installation seemed to go well, except that configure didn't find X11
support, and consequently I can not output any graphics to an X-window.

if I type x11() in R I get:

> x11()
Error in x11() : the x11 device has not been loaded

Invoking R with "R --gui=X11" doesn't help.

So, how can I get R to load the X11 device?

Can I do this without reinstallation?  How?

If I do need to reinstall, how can I ensure that the installation
configures for X11?


Thanks in Advance,

Julin


Julin N. Maloof
Plant Biology Laboratory
The Salk Institute for Biological Studies
P.O. Box 85800
San Diego, CA 92186-5800
(858)-453-4100, x1105
(858)-558-6379 (fax)
jmaloof at ems.salk.edu


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Aug 19 01:32:36 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 Aug 2000 01:32:36 +0200
Subject: [R] Help with X11 display on linux-PPC
In-Reply-To: Julin Maloof's message of "Fri, 18 Aug 2000 15:34:03 -0700"
References: <v04003a02b5c3681b1aa0@[198.202.65.198]>
Message-ID: <x24s4i2lij.fsf@blueberry.kubism.ku.dk>

Julin Maloof <jmaloof at ems.salk.edu> writes:

> Invoking R with "R --gui=X11" doesn't help.
> 
> So, how can I get R to load the X11 device?

> Can I do this without reinstallation?  How?

Nope. If configure thinks X support isn't available, then you have to
make it change its mind.

> If I do need to reinstall, how can I ensure that the installation
> configures for X11?

Usually, this comes from not forgetting to install -devel packages for
X11 (e.g. XFree86-devel on RedHat), but otherwise the scientific
approach is to study config.log and see what went wrong.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.maindonald at anu.edu.au  Sat Aug 19 01:34:46 2000
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Sat, 19 Aug 2000 09:34:46 +1000 (EST)
Subject: [R] cook's distance
Message-ID: <200008182334.JAA16289@leonard.anu.edu.au>

Look at the references (notably Cook et al. & Belsey et al) that
are included with the help information.  [Type "help(plot.lm)"]
John Maindonald               email : john.maindonald at anu.edu.au        
Statistical Consulting Unit,  phone : (6249)3998        
c/o CMA, SMS,                 fax   : (6249)5549  
John Dedman Mathematical Sciences Building
Australian National University
Canberra ACT 0200
Australia
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jmarca at translab.its.uci.edu  Sat Aug 19 19:36:12 2000
From: jmarca at translab.its.uci.edu (James Edward Marca)
Date: Sat, 19 Aug 2000 10:36:12 -0700
Subject: [R] Things I don't understand about the graphics interface
In-Reply-To: <4.3.2.7.0.20000818103220.00b1b390@pop-server.hawaii.edu>; from gfeeney@hawaii.edu on Fri, Aug 18, 2000 at 10:36:53AM -0400
References: <Pine.GSO.4.05.10008170909210.5652-100000@auk.stats> <399CA163.79640593@ukans.edu> <4.3.2.7.0.20000818103220.00b1b390@pop-server.hawaii.edu>
Message-ID: <20000819103612.A205@papa>

On Fri, Aug 18, 2000 at 10:36:53AM -0400 or thereabouts, Griffith Feeney wrote:
> I don't have much experience with this, but I think you may want eps for 
> use in TeX documents. You might want to have a look at
> 
> Tex Unbound : Latex and Tex Strategies for Fonts, Graphics, & More
> 
> Though the book as a whole may be overkill for your needs, it shows how to 
> incorporate graphics files in TeX documents (don't have the book with me 
> here, so can't give page refs).
>
 
I personally swear by the LaTeX Companion and the LaTeX Graphics companion,
both published by Addison Wesley.  The latter has lots of information on
the inclusion of graphics, and on my personal favorite, pstricks.  If
you are worried about text redering, you could always generate your 
R figs without text or labels, then add that stuff in with pstricks 
commands.  Messy, but doable.  I agree with Prof. Ripley's comments that 
moderately scaled ps output from R looks pretty good by itself.  My only 
problem is with matching up the fonts (I like Knuth's concrete).  

My ideal case would be for R to produce pstricks output, so that the 
LaTeX processing pass could embed the fonts that match the rest of the 
document.  Maybe one day I will try to write that.

As far as I know, there isn't an easy way to embed TeX fonts like 
concrete and computer modern into R output, without external processing.  
Anyone know differently?

I've never used LyX, but LaTeX is great all by itself.  For windows, 
I recommend www.miktex.org.  Solid as a rock, and pretty good links
to complete setups, with NTEmacs or WinEdt.  

James 
-- 
james e. marca
jmarca at translab.its.uci.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From MacStats at mac.com  Sat Aug 19 21:24:40 2000
From: MacStats at mac.com (Joel West)
Date: Sat, 19 Aug 2000 12:24:40 -0700
Subject: [R] Exporting graphics to PS or EPS
In-Reply-To: <200008190201.EAA03843@stat.math.ethz.ch>
References: <200008190201.EAA03843@stat.math.ethz.ch>
Message-ID: <v04220801b5c487a49f05@[206.19.77.219]>

On Fri, 18 Aug 2000 07:49:44 +0100, Brian D Ripley <ripley at stats.ox.ac.uk> wrote:
>On Thu, 17 Aug 2000, Paul E Johnson wrote:
>> My experience is that, if I output a gif that does not
>> fit on the page, then I've shot myself in the foot because resizing the
>> graph makes all the text in it too small.  I don't think postscript is
>> immune to this problem, but you can for sure convince me I'm wrong.  I

>It is.  After all, my books on S are done that way, as is much professional
>publishing.    If you want to incorporate graphs into other documents (not,
>say, a Web site) use a re-scalable vector format, namely postscript, PDF or
> (on Windows) W/EMF.

To second Prof. Ripley, the point of PostScript is that is a device-independent, resolution-independent page description language.

On Fri, 18 Aug 2000 10:36:53 -0400, Griffith Feeney <gfeeney at hawaii.edu> wrote:
>I don't have much experience with this, but I think you may want eps for 
>use in TeX documents. You might want to have a look at

You absolutely want to use EPSF or instead of PS for any graphic that you are going to paste into another document. That's the whole point. Raw PostScript is write-only and really only usable for immediate downloading to a printer or RIP.

EPSF provides additional context around the PostScript job so that it can be placed, and resized by programs that do not include a PostScript interpreter. It also includes a low-res bit image so that you can view the image on screen during editing. For a description of EPSF and various other vector and bitmap formats, see the Encyclopedia of Graphics File Formats from O'Reilly at
	http://www.oreilly.com/catalog/gffcd/

PDF was developed in the mid-90s as an editable prepress exchange version of PostScript. (That's why it's going to be the native graphics format for Mac OS X). A pretty good discussion of how it works can be found online at
	http://www.seyboldseminars.com/News/Front/PDFday.html
An added benefit of PDF over EPSF is that there is a free viewer program from Adobe for Windows, Mac, and some of the major flavors of Unix.

Generating PDF is harder than EPSF, but it would be a nice extension to R someday.

Hope this helps.
-----------------------
Joel West <macstats at mac.com>
UC Irvine Graduate School of Management 
http://www.gsm.uci.edu/~joelwest/MacStats/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Aug 20 08:45:04 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 20 Aug 2000 07:45:04 +0100 (BST)
Subject: [R] Things I don't understand about the graphics interface
In-Reply-To: <20000819103612.A205@papa>
Message-ID: <Pine.GSO.4.05.10008200735570.27562-100000@auk.stats>

On Sat, 19 Aug 2000, James Edward Marca wrote:

> On Fri, Aug 18, 2000 at 10:36:53AM -0400 or thereabouts, Griffith Feeney wrote:
> > I don't have much experience with this, but I think you may want eps for 
> > use in TeX documents. You might want to have a look at
> > 
> > Tex Unbound : Latex and Tex Strategies for Fonts, Graphics, & More
> > 
> > Though the book as a whole may be overkill for your needs, it shows how to 
> > incorporate graphics files in TeX documents (don't have the book with me 
> > here, so can't give page refs).
> >
>  
> I personally swear by the LaTeX Companion and the LaTeX Graphics companion,
> both published by Addison Wesley.  The latter has lots of information on
> the inclusion of graphics, and on my personal favorite, pstricks.  If
> you are worried about text redering, you could always generate your 
> R figs without text or labels, then add that stuff in with pstricks 
> commands.  Messy, but doable.  I agree with Prof. Ripley's comments that 
> moderately scaled ps output from R looks pretty good by itself.  My only 
> problem is with matching up the fonts (I like Knuth's concrete).  

If you don't want to spend money, Keith Reckdahl's Using EPS in
LaTeX documents is freely available on the CTAN sites, and pretty
comprehensive.

> My ideal case would be for R to produce pstricks output, so that the 
> LaTeX processing pass could embed the fonts that match the rest of the 
> document.  Maybe one day I will try to write that.
> 
> As far as I know, there isn't an easy way to embed TeX fonts like 
> concrete and computer modern into R output, without external processing.  
> Anyone know differently?

At present the PostScript device is limited to the families that are
pre-specified.  I would prefer to allow user-specified families there,
but the afm files will have to be available.  (They are for the
Knuth fonts, but often not installed.)  We would need to check that the
afm-reader is robust enough as it was written for Adobe afm files
(or at least the kern-handling part by me was).

> I've never used LyX, but LaTeX is great all by itself.  For windows, 
> I recommend www.miktex.org.  Solid as a rock, and pretty good links
> to complete setups, with NTEmacs or WinEdt.  

For those who want to share installations or cross-work with Unix, fptex is
preferable.  The TexLive5 CD (imminent, and images are downloadble now) has
everything you need for all these systems.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Aug 20 09:03:26 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 20 Aug 2000 08:03:26 +0100 (BST)
Subject: [R] Exporting graphics to PS or EPS
In-Reply-To: <v04220801b5c487a49f05@[206.19.77.219]>
Message-ID: <Pine.GSO.4.05.10008200748380.27562-100000@auk.stats>

On Sat, 19 Aug 2000, Joel West wrote:

> On Fri, 18 Aug 2000 07:49:44 +0100, Brian D Ripley <ripley at stats.ox.ac.uk> wrote:
> >On Thu, 17 Aug 2000, Paul E Johnson wrote:
> >> My experience is that, if I output a gif that does not
> >> fit on the page, then I've shot myself in the foot because resizing the
> >> graph makes all the text in it too small.  I don't think postscript is
> >> immune to this problem, but you can for sure convince me I'm wrong.  I
> 
> >It is.  After all, my books on S are done that way, as is much professional
> >publishing.    If you want to incorporate graphs into other documents (not,
> >say, a Web site) use a re-scalable vector format, namely postscript, PDF or
> > (on Windows) W/EMF.
> 
> To second Prof. Ripley, the point of PostScript is that is a device-independent, resolution-independent page description language.
> 
> On Fri, 18 Aug 2000 10:36:53 -0400, Griffith Feeney <gfeeney at hawaii.edu> wrote:
> >I don't have much experience with this, but I think you may want eps for 
> >use in TeX documents. You might want to have a look at
> 
> You absolutely want to use EPSF or instead of PS for any graphic that 
you are going to paste into another document. That's the whole point. 
Raw PostScript is write-only and really only usable for immediate 
downloading to a printer or RIP.

(Not if it is DSC-conformant: see below.  Then it is designed to be sent to
a document manager for page-by-page manipulation.)

> EPSF provides additional context around the PostScript job so that it 
can be placed, and resized by programs that do not include a 
PostScript interpreter. It also includes a low-res bit image so that 
you can view the image on screen during editing. For a description of 
EPSF and various other vector and bitmap formats, see the 
Encyclopedia of Graphics File Formats from O'Reilly at
> 	http://www.oreilly.com/catalog/gffcd/

The preview image is only required in EPSI (I for Interchange) files.  See
the definitive source, the PostScript Language Reference Manual from Adobe.
The critical point about EPSF is that it bans some of the PS operators, and
unfortunately R (up to and including 1.1.1) got that slightly wrong. What
you are describing is DSC-conformance, and R does manage that.

> PDF was developed in the mid-90s as an editable prepress exchange 
version of PostScript. (That's why it's going to be the native 
graphics format for Mac OS X). A pretty good discussion of how it 
works can be found online at
> 	http://www.seyboldseminars.com/News/Front/PDFday.html
> An added benefit of PDF over EPSF is that there is a free viewer 
program from Adobe for Windows, Mac, and some of the major flavors of Unix.

ghostscript/ghostview/gv/GSView are more widely available, and "free" in
the R sense (Open Source) not just `no cost'.  The only `some of the major
flavors of Unix' is a big drawback for Acrobat Reader, as is its bugginess,
especially on Linux (and as frequently reported on the pdftex list) the
Mac.  These days ghostscript does a pretty good job with PDF.
 
> Generating PDF is harder than EPSF, but it would be a nice 
extension to R someday.

Take a look at help(bitmap): it is already there.  One day we will write a
direct PDF graphics device, but having an indirect one has lowered its
priority.   (Notice I did mention PDF as an alternative.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From markhall at gol.com  Sun Aug 20 10:47:50 2000
From: markhall at gol.com (markhall@gol.com)
Date: Sun, 20 Aug 2000 17:47:50 +0900
Subject: Fwd: Re: [R] Exporting graphics to PS or EPS
Message-ID: <20000820084723.3DD40404F@smtp03.mail.gol.com>


Forwarded Message:

> To: Joel West <MacStats at mac.com>

> From: Prof Brian D Ripley <ripley at stats.ox.ac.uk>

> Subject: Re: [R] Exporting graphics to PS or EPS

> Date: Sun, 20 Aug 2000 08:03:26 +0100 (BST)

> -----

> On Sat, 19 Aug 2000, Joel West wrote:
> 
> > On Fri, 18 Aug 2000 07:49:44 +0100, Brian D Ripley <ripley at stats.ox.ac.uk> 
wrote:
> > >On Thu, 17 Aug 2000, Paul E Johnson wrote:
> > >> My experience is that, if I output a gif that does not
> > >> fit on the page, then I've shot myself in the foot because resizing the
> > >> graph makes all the text in it too small.  I don't think postscript is
> > >> immune to this problem, but you can for sure convince me I'm wrong.  I
> > 
> > >It is.  After all, my books on S are done that way, as is much professional
> > >publishing.    If you want to incorporate graphs into other documents (not,
> > >say, a Web site) use a re-scalable vector format, namely postscript, PDF or
> > > (on Windows) W/EMF.
> > 
> > To second Prof. Ripley, the point of PostScript is that is a device-
independent, resolution-independent page description language.
> > 
> > On Fri, 18 Aug 2000 10:36:53 -0400, Griffith Feeney <gfeeney at hawaii.edu> 
wrote:
> > >I don't have much experience with this, but I think you may want eps for 
> > >use in TeX documents. You might want to have a look at
> > 
> > You absolutely want to use EPSF or instead of PS for any graphic that 
> you are going to paste into another document. That's the whole point. 
> Raw PostScript is write-only and really only usable for immediate 
> downloading to a printer or RIP.
> 
> (Not if it is DSC-conformant: see below.  Then it is designed to be sent to
> a document manager for page-by-page manipulation.)
> 
> > EPSF provides additional context around the PostScript job so that it 
> can be placed, and resized by programs that do not include a 
> PostScript interpreter. It also includes a low-res bit image so that 
> you can view the image on screen during editing. For a description of 
> EPSF and various other vector and bitmap formats, see the 
> Encyclopedia of Graphics File Formats from O'Reilly at
> > 	<a 
href="http://www.oreilly.com/catalog/gffcd/">http://www.oreilly.com/catalog/gffc
d/</a>
> 
> The preview image is only required in EPSI (I for Interchange) files.  See
> the definitive source, the PostScript Language Reference Manual from Adobe.
> The critical point about EPSF is that it bans some of the PS operators, and
> unfortunately R (up to and including 1.1.1) got that slightly wrong. What
> you are describing is DSC-conformance, and R does manage that.
> 
> > PDF was developed in the mid-90s as an editable prepress exchange 
> version of PostScript. (That's why it's going to be the native 
> graphics format for Mac OS X). A pretty good discussion of how it 
> works can be found online at
> > 	<a 
href="http://www.seyboldseminars.com/News/Front/PDFday.html">http://www.seybolds
eminars.com/News/Front/PDFday.html</a>
> > An added benefit of PDF over EPSF is that there is a free viewer 
> program from Adobe for Windows, Mac, and some of the major flavors of Unix.
> 
> ghostscript/ghostview/gv/GSView are more widely available, and "free" in
> the R sense (Open Source) not just `no cost'.  The only `some of the major
> flavors of Unix' is a big drawback for Acrobat Reader, as is its bugginess,
> especially on Linux (and as frequently reported on the pdftex list) the
> Mac.  These days ghostscript does a pretty good job with PDF.
>  
> > Generating PDF is harder than EPSF, but it would be a nice 
> extension to R someday.
> 
> Take a look at help(bitmap): it is already there.  One day we will write a
> direct PDF graphics device, but having an indirect one has lowered its
> priority.   (Notice I did mention PDF as an alternative.)
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  <a 
href="http://www.stats.ox.ac.uk/~ripley/">http://www.stats.ox.ac.uk/~ripley/</a>
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
-
> r-help mailing list -- Read <a href="http://www.ci.tuwien.ac.at/~hornik/R/R-
FAQ.html">http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html</a>
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> 
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kleiweg at let.rug.nl  Sun Aug 20 12:11:47 2000
From: kleiweg at let.rug.nl (Peter Kleiweg)
Date: Sun, 20 Aug 2000 12:11:47 +0200 (CEST)
Subject: [R] Exporting graphics to PS or EPS
In-Reply-To: <Pine.GSO.4.05.10008200748380.27562-100000@auk.stats>
Message-ID: <Pine.LNX.4.21.0008201202010.656-100000@kleigh.nl>

Prof Brian D Ripley skriver...

> The critical point about EPSF is that it bans some of the PS
> operators, and unfortunately R (up to and including 1.1.1) got
> that slightly wrong.

Does this mean that the current version of R doesn't produce
valid EPS? I haven't tried it yet, but that would severly limit
the use of R to me. I allways use EPS to import graphics into
LaTeX.

> ghostscript/ghostview/gv/GSView are more widely available, and
> "free" in the R sense (Open Source) not just `no cost'. The
> only `some of the major flavors of Unix' is a big drawback for
> Acrobat Reader, as is its bugginess, especially on Linux (and
> as frequently reported on the pdftex list) the Mac. These days
> ghostscript does a pretty good job with PDF.

Acrobat Reader 4.0 for Linux is buggy. Version 3.0 works OK for
me. Some documents that are too complex for Acrobat Reader can
be handled by Ghostscript. Of course, with Ghostscript you don't
have the contents of the document as a menu available, or any of
the hyperlinks.

You could try the open source Xpdf:

    "Xpdf runs under the X Window System on Unix, VMS, and OS/2.
     The non-X components of the package (pdftops, pdftotext,
     etc.) also run on Win32 systems."
 
    http://www.foolabs.com/xpdf/

-- 
Peter Kleiweg
http://www.let.rug.nl/~kleiweg/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Aug 20 12:49:47 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Aug 2000 12:49:47 +0200
Subject: [R] Exporting graphics to PS or EPS
In-Reply-To: Peter Kleiweg's message of "Sun, 20 Aug 2000 12:11:47 +0200 (CEST)"
References: <Pine.LNX.4.21.0008201202010.656-100000@kleigh.nl>
Message-ID: <x23dk0mcl0.fsf@blueberry.kubism.ku.dk>

Peter Kleiweg <kleiweg at let.rug.nl> writes:

> Prof Brian D Ripley skriver...
> 
> > The critical point about EPSF is that it bans some of the PS
> > operators, and unfortunately R (up to and including 1.1.1) got
> > that slightly wrong.
> 
> Does this mean that the current version of R doesn't produce
> valid EPS? I haven't tried it yet, but that would severly limit
> the use of R to me. I allways use EPS to import graphics into
> LaTeX.

There's a problem with the clipping code. It's not like it is breaking
inclusion of graphics in LaTeX documents wholesale, or many of us
would have detected the problem a long time ago.

Basically, it will not work to include a clipped portion of an R graph
- you just get the entire graph printed anyway because R will reset
the clipping itself. It will also undo any clipping in effect for
other reasons on that page, which is in principle worse, but haven't
bitten anyone yet.

The current code in the development version should be somewhat better,
although I'm still not quite happy with the code.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From markhall at gol.com  Mon Aug 21 04:52:19 2000
From: markhall at gol.com (Mark Hall)
Date: Sun, 20 Aug 2000 19:52:19 -0700
Subject: [R] apologies
Message-ID: <005301c00b1a$d2f80a20$12e6fea9@gol.com>

I apologize for sending to the R-list a message I was trying to forward to
my
other e-mail account. The problem is my lack of reading abilities of kanji
characters for the e-mail software.  (Yes, I'm working on that here in
Japan).

Apologies once again,
Mark Hall


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sun Aug 20 18:20:31 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sun, 20 Aug 2000 18:20:31 +0200
Subject: [R] Compiled HTML and aliased topics
Message-ID: <39A0054F.366E3AD8@statistik.uni-dortmund.de>

When I try e.g.

 help(as.symbol, chmhelp = TRUE)

I get an error message in the help viewer (translated to english: "The
page cannot be shown"). This happens for all aliased topics (i.e.
aliased in the *.Rd file). 
So I have to know the "unaliased" name (here: "name") to get chtml help.

Is it possible to get the behavior of "plain text help" (no problems
with aliased topics) also for chtml help?

Regards,
Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sun Aug 20 18:24:13 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sun, 20 Aug 2000 18:24:13 +0200
Subject: [R] Re: Compiled HTML and aliased topics
References: <39A0054F.366E3AD8@statistik.uni-dortmund.de>
Message-ID: <39A0062D.44BF9E57@statistik.uni-dortmund.de>

Uwe Ligges wrote:
> 
> When I try e.g.
> 
>  help(as.symbol, chmhelp = TRUE)
> 
> I get an error message in the help viewer (translated to english: "The
> page cannot be shown"). This happens for all aliased topics (i.e.
> aliased in the *.Rd file).
> So I have to know the "unaliased" name (here: "name") to get chtml help.
> 
> Is it possible to get the behavior of "plain text help" (no problems
> with aliased topics) also for chtml help?

..... on WinNT 4.0 (SP6), R-1.1.1.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Aug 20 19:18:26 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 20 Aug 2000 18:18:26 +0100 (BST)
Subject: [R] Re: Compiled HTML and aliased topics
In-Reply-To: <39A0062D.44BF9E57@statistik.uni-dortmund.de>
Message-ID: <Pine.GSO.4.05.10008201816000.16603-100000@auk.stats>

On Sun, 20 Aug 2000, Uwe Ligges wrote:

> Uwe Ligges wrote:
> > 
> > When I try e.g.
> > 
> >  help(as.symbol, chmhelp = TRUE)
> > 
> > I get an error message in the help viewer (translated to english: "The
> > page cannot be shown"). This happens for all aliased topics (i.e.
> > aliased in the *.Rd file).
> > So I have to know the "unaliased" name (here: "name") to get chtml help.
> > 
> > Is it possible to get the behavior of "plain text help" (no problems
> > with aliased topics) also for chtml help?

Yes, easily. Add the line

                    topic <- sub("(.*/help/)([^/]*)$", "\\2", file)

before

                    wfile <- sub("/help/([^/]*)$", "", file)

in help.  If I've copied it correctly (I'm on Unix here) that
will do the trick.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From P.Connolly at hort.cri.nz  Sun Aug 20 23:30:34 2000
From: P.Connolly at hort.cri.nz (Patrick Connolly)
Date: Mon, 21 Aug 2000 09:30:34 +1200 (NZST)
Subject: [R] Things I don't understand about the graphics interface
In-Reply-To: <Pine.GSO.4.05.10008200735570.27562-100000@auk.stats> from "Prof Brian D Ripley" at Aug 20, 0 07:45:04 am
Message-ID: <200008202130.e7KLUYF05436@atlas.marc.cri.nz>

I've recently had success in this area and thought some might be
interested in what I've found.  I manage to avoid many of the issues
that have arisen in this discussion.  (Reducing the image size can
have disasterous effects on line types as well as fonts.)

Most of what I produce ends up in a MS Word document, MS PowerPoint,
or a journal that wants a bitmap file.  I invariably know the
dimensions of the publication's pages and columns, so I make an image
that fits.

I begin with a postscript device and use ghostview to inspect the
postscript files it produces.  When it gets close to what I like, I
print a few versions until I'm happy with the font sizes, line types,
width and sometimes colour.  Then I make a png file using bitmap()
which uses very similar settings to what the postscript version uses.

The result is a small file that keeps the publisher happy and still
looks like what I intended.

best

-- 
Patrick Connolly
HortResearch
Mt Albert
Auckland
New Zealand 
Ph: +64-9 815 4200 x 7188
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~
I have the world's largest collection of seashells. I keep it on all
the beaches of the world ... Perhaps you've seen it.  ---Steven Wright
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Mon Aug 21 00:20:47 2000
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Mon, 21 Aug 2000 10:20:47 +1200
Subject: [R] Best subsets regression
Message-ID: <200008202221.KAA01208@gosset.stats.waikato.ac.nz>

Hi all,

has anyone written a function to do "best subsets" regression similar to
the Minitab command?

Regards,

Murray Jorgensen


Murray Jorgensen,  Department of Statistics,  U of Waikato, Hamilton, NZ
-----[+64-7-838-4773]---------------------------[maj at waikato.ac.nz]-----
"Doubt everything or believe everything:these are two equally convenient
strategies. With either we dispense with the need to think."
http://www.stats.waikato.ac.nz/Staff/maj.html          - Henri Poincare'

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Aug 21 08:20:14 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 21 Aug 2000 07:20:14 +0100 (BST)
Subject: [R] Best subsets regression
In-Reply-To: <200008202221.KAA01208@gosset.stats.waikato.ac.nz>
Message-ID: <Pine.GSO.4.05.10008210716250.22387-100000@auk.stats>

On Mon, 21 Aug 2000, Murray Jorgensen wrote:

> has anyone written a function to do "best subsets" regression similar to
> the Minitab command?

leaps in the package of that name, if I remember my Minitab:

> library(help=leaps)
leaps           Subset selection by `leaps and bounds' compatible with S
subsets         More sophisticated function, including formula method


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jgoebel at diw.de  Mon Aug 21 11:59:32 2000
From: jgoebel at diw.de (Jan Goebel)
Date: Mon, 21 Aug 2000 11:59:32 +0200
Subject: [R] Loop removal possible?
Message-ID: <20000821115932.A742@diw13697.diw.de>

Dear all,

may be somebody have ideas to my following problem:

I have to multiplicate each element of a vector with his position
in the sorted vector. This isn't a problem ;-)
But now i have a weighting vector with the weight of each observation,
and my problem starts. A little example (due to my bad english) maybe
helps to understand:

x<-c(10,40,50,100)  # income vector for instance
w<-c(2,1,3,2)       # the weight for each observation in x with the same length

simple is without the weighting
x * (1:length(x))

with weighting the expanded x vector looks like
"position"	x[i]
1		10
2		10
3		40
4		50
5		50
6		50
7		100
8		100

To avoid expanding (memory and time consuming) i want to calculate

(1+2)*10
3 *40
(4+5+6)*50
(7+8)*100

My solution looks like:

hilf.w <- function(w) {
  k <- rep(0,length(w))
  e <- cumsum(w)       # the end position
  a <- e-(w-1)         # the beginning position
  for (i in 1:length(w)) {# <<- this loop i want to remove ??
    k[i] <- sum(a[i]:e[i])
  }
  return(k)
}

for the example the function calculate:

> hilf.w(w)
[1]  3  3 15 15

Thanks a lot in advance for any suggestions,

Jan Goebel (jgoebel at diw.de)
DIW Berlin
SOEP
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From malewski.peter at mh-hannover.de  Mon Aug 21 14:08:49 2000
From: malewski.peter at mh-hannover.de (Peter Malewski)
Date: Mon, 21 Aug 2000 13:08:49 +0100
Subject: [R] Loop removal possible? (fwd)
References: <Pine.HPX.4.21.0008211305510.6151-100000@rzbcosv0.rz.tu-bs.de>
Message-ID: <39A11BD1.69290028@mh-hannover.de>

> with weighting the expanded x vector looks like
> "position"      x[i]
> 1               10
> 2               10
> 3               40
> 4               50
> 5               50
> 6               50
> 7               100
> 8               100

x<-c(10,40,50,100)  # income vector for instance
w<-c(2,1,3,2)       # the weight for each observation in x with the same
length
rep(x,w)
[1]  10  10  40  50  50  50 100 100


...should do
P.


-- 



---------------------------------------------------
* P. Malewski									
* Hannover Medical School						
* Department of Psychosomatics and Psychotherapy
* Carl-Neuberg-Str. 1  							
* Tel.:+49 511 532 3194							
* Fax.:+49 511 532 3190							
---------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Mon Aug 21 15:06:38 2000
From: plummer at iarc.fr (Martyn Plummer)
Date: Mon, 21 Aug 2000 15:06:38 +0200 (CEST)
Subject: [R] Loop removal possible?
In-Reply-To: <20000821115932.A742@diw13697.diw.de>
Message-ID: <XFMail.000821150638.plummer@iarc.fr>

I think this will work:

hilf.w <- function(w){
        y <- 0:sum(w)
        z <- y*(y+1)/2
        indices <- cumsum(c(1,w))
        diff(z[indices])
}

Martyn

On 21-Aug-00 Jan Goebel wrote:
> Dear all,
> 
> may be somebody have ideas to my following problem:
> 
> I have to multiplicate each element of a vector with his position
> in the sorted vector. This isn't a problem ;-)
> But now i have a weighting vector with the weight of each observation,
> and my problem starts. A little example (due to my bad english) maybe
> helps to understand:
> 
> x<-c(10,40,50,100)  # income vector for instance
> w<-c(2,1,3,2)       # the weight for each observation in x with the same
> length
> 
> simple is without the weighting
> x * (1:length(x))
> 
> with weighting the expanded x vector looks like
> "position"    x[i]
> 1             10
> 2             10
> 3             40
> 4             50
> 5             50
> 6             50
> 7             100
> 8             100
> 
> To avoid expanding (memory and time consuming) i want to calculate
> 
> (1+2)*10
> 3 *40
> (4+5+6)*50
> (7+8)*100
> 
> My solution looks like:
> 
> hilf.w <- function(w) {
>   k <- rep(0,length(w))
>   e <- cumsum(w)       # the end position
>   a <- e-(w-1)         # the beginning position
>   for (i in 1:length(w)) {# <<- this loop i want to remove ??
>     k[i] <- sum(a[i]:e[i])
>   }
>   return(k)
> }
> 
> for the example the function calculate:
> 
>> hilf.w(w)
> [1]  3  3 15 15
> 
> Thanks a lot in advance for any suggestions,
> 
> Jan Goebel (jgoebel at diw.de)
> DIW Berlin
> SOEP
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Mon Aug 21 15:17:07 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Mon, 21 Aug 2000 09:17:07 -0400 (EDT)
Subject: [R] Loop removal possible?
In-Reply-To: <20000821115932.A742@diw13697.diw.de>
Message-ID: <Pine.LNX.4.10.10008210910160.5606-100000@bolker.zoo.ufl.edu>

On Mon, 21 Aug 2000, Jan Goebel wrote:

> My solution looks like:
> 
> hilf.w <- function(w) {
>   k <- rep(0,length(w))
>   e <- cumsum(w)       # the end position
>   a <- e-(w-1)         # the beginning position
>   for (i in 1:length(w)) {# <<- this loop i want to remove ??
>     k[i] <- sum(a[i]:e[i])
>   }
>   return(k)
> }
> 

  This seems like a reasonable solution to me -- do you have enormous
problems to do, or do you just want to be elegant?  The dumb answer to
"how do I remove the loop" is

  k <- sapply(1:length(w),function(i)sum(a[i]:e[i]))

(I've sometimes wondered whether it would be worth having an "napply"
command in R where napply(m,n,FUN) was equivalent to sapply(m:n,FUN) [but
executed internally so you didn't have to set aside the vector], but the
efficiency/memory gain would probably be miniscule.)

  Ben


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From iosu at bureau.ucc.ie  Mon Aug 21 23:41:19 2000
From: iosu at bureau.ucc.ie (Jesus Maria Frias Celayeta)
Date: Mon, 21 Aug 2000 14:41:19 -0700
Subject: [R] functions for fractional design
Message-ID: <39A1A1FF.B1CD67A8@ucc.ie>

Hi!!
	I would like to know if there is some functions in R to build fractional
designs. So far, I have only arrived to find the model.matrix function. Is there
anybody that has ported the fac.design or oa.design to R?

cheers, and thanks in advance,

IOsu


-- 

Jesus Maria Frias Celayeta, PhD.		
Process Engineering Department
University College Cork,Cork
Ireland
phone: 353-21-903096
fax:   353-21-270249
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Mon Aug 21 16:18:47 2000
From: ernesto at ipimar.pt (=?iso-8859-1?Q?Jos=E9?= Ernesto Jardim)
Date: Mon, 21 Aug 2000 15:18:47 +0100
Subject: [R] Excluding rows from a matrix
Message-ID: <39A13A47.F12AB5A9@ipimar.pt>

Hi

I have a matrix (4 x 950) and I want to remove 3 rows, where the values
from the first column are 713, 714 and 715. I can select the rows, one
by one, with

mat[mat$first==713,]
mat[mat$first==714,]
...

but I'm unable to (i) select the 3 rows at once, (ii) select the matrix
excluding those rows.

How can I do it ?

Thanks

EJ

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Aug 21 16:47:42 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 21 Aug 2000 16:47:42 +0200
Subject: [R] Excluding rows from a matrix
In-Reply-To: Jos? Ernesto Jardim's message of "Mon, 21 Aug 2000 15:18:47 +0100"
References: <39A13A47.F12AB5A9@ipimar.pt>
Message-ID: <x24s4ezn5d.fsf@blueberry.kubism.ku.dk>

Jos? Ernesto Jardim <ernesto at ipimar.pt> writes:

> Hi
> 
> I have a matrix (4 x 950) and I want to remove 3 rows, where the values
> from the first column are 713, 714 and 715. I can select the rows, one
> by one, with
> 
> mat[mat$first==713,]
> mat[mat$first==714,]
> ...
> 
> but I'm unable to (i) select the 3 rows at once, (ii) select the matrix
> excluding those rows.
> 
> How can I do it ?

Um, if you can do that, then mat is a dataframe, not a matrix!

Something like

mat[!(mat$first %in% 713:715),]

would seem to work.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From y0004379 at tu-bs.de  Mon Aug 21 17:33:50 2000
From: y0004379 at tu-bs.de (Peter Malewski)
Date: Mon, 21 Aug 2000 17:33:50 +0200 (METDST)
Subject: [R] Excluding rows from a matrix
In-Reply-To: <39A13A47.F12AB5A9@ipimar.pt>
Message-ID: <Pine.HPX.4.21.0008211733040.22621-100000@rzpool07.rz.tu-bs.de>

On Mon, 21 Aug 2000, Jos? Ernesto Jardim wrote:

> but I'm unable to (i) select the 3 rows at once, (ii) select the matrix
> excluding those rows.
> 
> How can I do it ?

> x <- matrix(1:10,,2)
> x
     [,1] [,2]
[1,]    1    6
[2,]    2    7
[3,]    3    8
[4,]    4    9
[5,]    5   10
> x[x[,1]%in%c(2,3),]
     [,1] [,2]
[1,]    2    7
[2,]    3    8
> x[!x[,1]%in%c(2,3),]
     [,1] [,2]
[1,]    1    6
[2,]    4    9
[3,]    5   10
> 


??P.

----

P.Malewski, Maschplatz 8, 38114 Braunschweig, Tel.: 0531 500965, 
At work: (MH-Hannover): 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Mon Aug 21 17:34:36 2000
From: ernesto at ipimar.pt (=?iso-8859-1?Q?Jos=E9?= Ernesto Jardim)
Date: Mon, 21 Aug 2000 16:34:36 +0100
Subject: [R] Excluding rows from a matrix
References: <39A13A47.F12AB5A9@ipimar.pt> <x24s4ezn5d.fsf@blueberry.kubism.ku.dk>
Message-ID: <39A14C0C.ADD85294@ipimar.pt>

Peter Dalgaard BSA wrote:

> Jos? Ernesto Jardim <ernesto at ipimar.pt> writes:
>
> > Hi
> >
> > I have a matrix (4 x 950) and I want to remove 3 rows, where the values
> > from the first column are 713, 714 and 715. I can select the rows, one
> > by one, with
> >
> > mat[mat$first==713,]
> > mat[mat$first==714,]
> > ...
> >
> > but I'm unable to (i) select the 3 rows at once, (ii) select the matrix
> > excluding those rows.
> >
> > How can I do it ?
>
> Um, if you can do that, then mat is a dataframe, not a matrix!
>
> Something like
>
> mat[!(mat$first %in% 713:715),]
>
> would seem to work.
>
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-

Yes, it worked !!

thanks

EJ

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jgoebel at diw.de  Mon Aug 21 18:02:20 2000
From: jgoebel at diw.de (Jan Goebel)
Date: Mon, 21 Aug 2000 18:02:20 +0200
Subject: [R] Loop removal possible?
In-Reply-To: <Pine.LNX.4.10.10008210910160.5606-100000@bolker.zoo.ufl.edu>; from ben@zoo.ufl.edu on Mon, Aug 21, 2000 at 09:17:07 -0400
References: <20000821115932.A742@diw13697.diw.de> <Pine.LNX.4.10.10008210910160.5606-100000@bolker.zoo.ufl.edu>
Message-ID: <20000821180220.A2611@diw13697.diw.de>

Thanks a lot for the help! So maybe you interested in my actual solution.

First i tried the suggested solutions (my memory problems come from
the length of the vectors. I have ca. 7000 observations and they will
be weighted to nearly 80.000.000 ... so i want to avoid expansion and 
looping. I maybe haven't make this point so clear :-()
So this is what happens:

Berwin Turlach proposal in an single line (!). I do a round because of
float numbers: 

> test<-as.vector(tapply(rep(post97[ok],round(w1110197[ok]))*(1:sum(round(w1110197[ok]))), rep(1:length(round(w1110197[ok])), round(w1110197[ok])), sum))
Error: heap memory (15360 Kb) exhausted [needed 54934 Kb more]
       See "help(Memory)" on how to increase the heap size.

In Ben suggestion there will be no loop, but a integer overflow
and the solution is as slow as my:

> hilf.w <- function(w) {
  w <- round(w)
  e <- cumsum(w)
  a <- e-(w-1)
  k <- sapply(1:length(w),function(i)sum(a[i]:e[i]))
  return(k)
}
> test<-hilf.w(w1110197[ok])
There were 50 warnings (use warnings() to see them)
> warnings()
Warning messages:
1: Integer overflow in sum(.); use sum(as.numeric(.))

# Jim Lemon solution brings me to the "right way" (imho):
> fungle<-function(xvec) {
 return(xvec[2] + (xvec[2] + 1) - xvec[1])/2
}
> test<-apply(as.array(rbind(round(w1110197[ok]),cumsum(round(w1110197[ok])))),2,fungle)
# works quit well

So my final solution looks like this:

hilf3.w <- function(w) {
  w <- round(w)
  e <- cumsum(w)
  a <- e-(w-1)
  k <- (e*(e+1))/2 - (a*(a+1))/2 + a  # good old Gaussian ;-)
  return(k)
}

THANKS A LOT to all of your help and 
good luck 

Jan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Mon Aug 21 18:52:05 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Mon, 21 Aug 2000 12:52:05 -0400 (EDT)
Subject: [R] Excluding rows from a matrix
In-Reply-To: <39A13A47.F12AB5A9@ipimar.pt>
Message-ID: <Pine.LNX.4.10.10008211245060.6338-100000@bolker.zoo.ufl.edu>

On Mon, 21 Aug 2000, [iso-8859-1] José Ernesto Jardim wrote:

> Hi
> 
> I have a matrix (4 x 950) and I want to remove 3 rows, where the values
> from the first column are 713, 714 and 715. I can select the rows, one
> by one, with
> 
> mat[mat$first==713,]
> mat[mat$first==714,]
> ...
> 
> but I'm unable to (i) select the 3 rows at once, (ii) select the matrix
> excluding those rows.
> 

  The hard way (if you had non-contiguous rows): using "|" (logical or)
 
  mat[mat$first==713 | mat$first==714 | mat$first==715,]

  OR

  mat[mat$first>=713 & mat$first<=715,]

  If you were going to do a lot of this you could define a "between"
function

between <- function(x,lower,upper) {
  x>=lower & x<= upper
}

  mat[between(mat$first,713,715),]

To get all the other rows use ! (not), for example

  mat[!between(mat$first,713,715),]

see the "Logical Operators" page in the R documentation.

  Ben Bolker

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vadik at kutsyy.com  Mon Aug 21 23:14:14 2000
From: vadik at kutsyy.com (Vadim Kutsyy)
Date: Mon, 21 Aug 2000 17:14:14 -0400
Subject: [R] rect() question.
Message-ID: <OFEGJMACADMFOKHCCFBJOEOPDBAA.vadik@kutsyy.com>

Hello.

I have another rect question.  If I want to make a lot of rectangular,
without borders, and without any spaces between them, how could I do it?

I.e.

> plot(-1:1., -1:1., type = "n")
> rect(0,-1,1,1,col="red",lwd=0,border=F,xpd=T)
> rect(-1,-1,0,1,col="blue",lwd=0,border=F,xpd=T)

will produce two rectangular, but there is space between them.  How can I
get rid of it?

Thanks.

--------------------------------------------------------
Vadim Kutsyy
http://www.kutsyy.com                   vadim at kutsyy.com
The University of Michigan - Ann Arbor     PhD Student

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From v at kutsyy.com  Tue Aug 22 05:50:33 2000
From: v at kutsyy.com (Vadim Kutsyy)
Date: Mon, 21 Aug 2000 23:50:33 -0400
Subject: [R] rect() question (sorry for the question)
In-Reply-To: <OFEGJMACADMFOKHCCFBJOEOPDBAA.vadik@kutsyy.com>
Message-ID: <OFEGJMACADMFOKHCCFBJGEPGDBAA.v@kutsyy.com>

Sorry for this question.  Somehow passing a vector of colors to border=
didn't work for me first.

On the side note, in help(rect), I think it would be helpful to change

border: color for rectangle border(s).

to

border: color(s) for rectangle border(s).

in order to follow

col: color(s) to fill the rectangle(s) with.

Thanks for all of the e-mails.
--------------------------------------------------------
Vadim Kutsyy
http://www.kutsyy.com                   vadim at kutsyy.com
The University of Michigan - Ann Arbor       PhD Student

> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Vadim Kutsyy
> Sent: Monday, August 21, 2000 5:14 PM
> To: R list
> Subject: [R] rect() question.
>
>
> Hello.
>
> I have another rect question.  If I want to make a lot of rectangular,
> without borders, and without any spaces between them, how could I do it?
>
> I.e.
>
> > plot(-1:1., -1:1., type = "n")
> > rect(0,-1,1,1,col="red",lwd=0,border=F,xpd=T)
> > rect(-1,-1,0,1,col="blue",lwd=0,border=F,xpd=T)
>
> will produce two rectangular, but there is space between them.  How can I
> get rid of it?
>
> Thanks.
>
> --------------------------------------------------------
> Vadim Kutsyy
> http://www.kutsyy.com                   vadim at kutsyy.com
> The University of Michigan - Ann Arbor     PhD Student
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paul at stat.auckland.ac.nz  Tue Aug 22 06:08:31 2000
From: paul at stat.auckland.ac.nz (Paul Murrell)
Date: Tue, 22 Aug 2000 16:08:31 +1200
Subject: [R] rect() question.
References: <OFEGJMACADMFOKHCCFBJOEOPDBAA.vadik@kutsyy.com>
Message-ID: <015e01c00bee$a29c05f0$175dd882@stat.auckland.ac.nz>

Hi


> I have another rect question.  If I want to make a lot of rectangular,
> without borders, and without any spaces between them, how could I do it?
> 
> I.e.
> 
> > plot(-1:1., -1:1., type = "n")
> > rect(0,-1,1,1,col="red",lwd=0,border=F,xpd=T)
> > rect(-1,-1,0,1,col="blue",lwd=0,border=F,xpd=T)
> 
> will produce two rectangular, but there is space between them.  How can I
> get rid of it?


Does the following do what you want ?

> plot(-1:1., -1:1., type = "n")
> rect(0,-1,1,1,col="red",lwd=0,border="red",xpd=T)
> rect(-1,-1,0,1,col="blue",lwd=0,border="blue",xpd=T)

Paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r.e.darnell at ncl.ac.uk  Tue Aug 22 11:23:44 2000
From: r.e.darnell at ncl.ac.uk (R.E. Darnell)
Date: 22 Aug 2000 10:23:44 +0100
Subject: [R] adj parameter in mtext
Message-ID: <dgkbsyl3azj.fsf@scs2.ncl.ac.uk>


I am trying to adjust the sigma symbol down in the y direction with
the following command but R recycles the sigma and puts another at
-0.1 in the x axis.

Any suggestions would be appreciated.

  mtext(expression(sigma),1,outer=TRUE,adj=c(0.5,-0.1))



Regards

Ross Darnell

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Tue Aug 22 11:25:23 2000
From: ernesto at ipimar.pt (=?iso-8859-1?Q?Jos=E9?= Ernesto Jardim)
Date: Tue, 22 Aug 2000 10:25:23 +0100
Subject: [R] Excluding rows from a matrix - best option
References: <39A13A47.F12AB5A9@ipimar.pt>
Message-ID: <39A24703.DABB532F@ipimar.pt>

Jos? Ernesto Jardim wrote:

> Hi
>
> I have a matrix (4 x 950) and I want to remove 3 rows, where the values
> from the first column are 713, 714 and 715. I can select the rows, one
> by one, with
>
> mat[mat$first==713,]
> mat[mat$first==714,]
> ...
>
> but I'm unable to (i) select the 3 rows at once, (ii) select the matrix
> excluding those rows.
>
> How can I do it ?
>
> Thanks
>
> EJ
>

The best way I found after these messages and with your help was

(i) selecting diferent rows

mat[(mat$first==c(###, ###, ...)),]

(ii) excluding diferent rows

mat[!(mat$first==c(###, ###, ...)),]

Because there were so many diferent options I'm posting this as a 'best option'
for the problem.

Thanks all

EJ

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Aug 22 11:52:40 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Aug 2000 11:52:40 +0200
Subject: [R] Excluding rows from a matrix - best option
In-Reply-To: Jos? Ernesto Jardim's message of "Tue, 22 Aug 2000 10:25:23 +0100"
References: <39A13A47.F12AB5A9@ipimar.pt> <39A24703.DABB532F@ipimar.pt>
Message-ID: <x2lmxpfwrb.fsf@blueberry.kubism.ku.dk>

Jos? Ernesto Jardim <ernesto at ipimar.pt> writes:

> Jos? Ernesto Jardim wrote:
> 
> > Hi
> >
> > I have a matrix (4 x 950) and I want to remove 3 rows, where the values
> > from the first column are 713, 714 and 715. I can select the rows, one
> > by one, with
> >
> > mat[mat$first==713,]
> > mat[mat$first==714,]
....
> The best way I found after these messages and with your help was
> 
> (i) selecting diferent rows
> 
> mat[(mat$first==c(###, ###, ...)),]
> 
> (ii) excluding diferent rows
> 
> mat[!(mat$first==c(###, ###, ...)),]

Whoa! I don't think that actually works:

> first<-1:6
> first==1:3
[1]  TRUE  TRUE  TRUE FALSE FALSE FALSE
> first==2:4
[1] FALSE FALSE FALSE FALSE FALSE FALSE


You really need the %in% operator:

> first %in% 2:4
[1] FALSE  TRUE  TRUE  TRUE FALSE FALSE

Also, btw: subset(mat, first %in% c(713,714,715)) resp.

subset(mat, !(first %in% c(713,714,715)))
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Aug 22 14:57:21 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 22 Aug 2000 14:57:21 +0200 (CEST)
Subject: [R] adj parameter in mtext
In-Reply-To: <dgkbsyl3azj.fsf@scs2.ncl.ac.uk>
References: <dgkbsyl3azj.fsf@scs2.ncl.ac.uk>
Message-ID: <14754.30897.53300.299322@gargle.gargle.HOWL>

>>>>> "R" == R E Darnell <r.e.darnell at ncl.ac.uk> writes:

    R> I am trying to adjust the sigma symbol down in the y direction with
    R> the following command but R recycles the sigma and puts another at
    R> -0.1 in the x axis.

    R> Any suggestions would be appreciated.

    R> mtext(expression(sigma),1,outer=TRUE,adj=c(0.5,-0.1))

?mtext shows you that  "adj" really only uses one number, i.e., in your
case 0.5 = the default ...
		       [one could argue it should give a warning in your case..]

I don't see any problem;
here is some illuminating code :

  eval(ex <- quote(par(oma=c(3,3,.2,.2))))
  plot(1); mtext(deparse(ex))
  box("inner", lty="dashed", col = "light blue")
  for(a in seq(-.1,1.1,by=.1)) {
      mtext(expression(sigma),1,        outer=TRUE, adj= a)
      mtext(format(a),        1,line=1, outer=TRUE, adj= a)
  }


Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Tue Aug 22 17:18:16 2000
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 22 Aug 2000 11:18:16 -0400
Subject: [R] External call to Watcom F77 version 11
Message-ID: <39a398e1.7829892@fisher.stats.uwo.ca>

A colleague is using Watcom F77 version 11 in Windows NT, and wants to
create DLLs callable from R.  (He was previously able to do external
calls from S-PLUS).  Does anyone know what magic is necessary so that
it uses the right calling convention?  In a debugger, it appears it's
using a register-based calling convention, no matter what we ask for,
but we're probably asking in the wrong way.

By the way, is the calling convention used by R's .C and .Fortran
documented in detail somewhere?  I know .C uses cdecl, but what does
.Fortran use?

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug 22 17:37:40 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 22 Aug 2000 16:37:40 +0100 (BST)
Subject: [R] External call to Watcom F77 version 11
In-Reply-To: <39a398e1.7829892@fisher.stats.uwo.ca>
Message-ID: <Pine.GSO.4.05.10008221626560.12175-100000@auk.stats>

On Tue, 22 Aug 2000, Duncan Murdoch wrote:

> A colleague is using Watcom F77 version 11 in Windows NT, and wants to
> create DLLs callable from R.  (He was previously able to do external
> calls from S-PLUS).  Does anyone know what magic is necessary so that
> it uses the right calling convention?  In a debugger, it appears it's
> using a register-based calling convention, no matter what we ask for,
> but we're probably asking in the wrong way.

If you've set it up for S-PLUS 4.x, the same calls work provided you avoid
characters (but then they don't work well with most Fortran compilers).
Indeed, the same DLLs usually work.  You probably need to re-install
the compiler for NT stack-based calls if he used it with S-PLUS 3.x.

> By the way, is the calling convention used by R's .C and .Fortran
> documented in detail somewhere?  I know .C uses cdecl, but what does
> .Fortran use?

cdecl (which isn't really true of Watcom C, BTW).  It's in readme.packages
for 1.1.1. You don't want to use .Fortran as I recall it, just .C.
All .Fortran does is to append an underscore and handle character
strings differently (and inappopriately for Watcom Fortran).

BTW, there's a lot more on this for R and S in `S Programming'. I abandoned
writing this up for R when Watcom's owners abandoned the compiler last
summer.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Aug 22 18:15:34 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 22 Aug 2000 18:15:34 +0200 (CEST)
Subject: [R] Using RNG from MS [forwarded message from Xiaoqiang Li]
Message-ID: <14754.42790.371057.516479@gargle.gargle.HOWL>

This had a VERY WRONG  `To:' address and went straight into my 
"spam box" into which I don't look too often ..

Martin

------- start of forwarded message -------
Message-ID: <Pine.A41.4.05.10008212237300.18590-100000 at fisher.stats.uwo.ca>
MIME-Version: 1.0
From: Xiaoqiang Li <lxq at stats.uwo.ca>
To: Majordomo-Owner at stat.math.ethz.ch
Subject: r-help
Date: Mon, 21 Aug 2000 22:39:17 -0400 (EDT)


Hi,

I am looking for help from those who know R.

I am calling R's random number generator in Microsoft Visual C/C++. The
file "R\rw1010\src\include" is included. It can be compiled, and .obj can
be generated. However, there is some trouble in linking and I don't know
how to fix it. The error message and the C codes are shown below.

Could you give me some suggestions? Thanks a lot for your help.

*************************************************************************
***************    error message       **********************************

Linking...
   Creating library Release/stochastic.lib and object
Release/stochastic.exp
stochastic.obj : error LNK2001: unresolved external symbol _PutRNGstate
stochastic.obj : error LNK2001: unresolved external symbol _unif_rand
stochastic.obj : error LNK2001: unresolved external symbol _Rf_rnorm
stochastic.obj : error LNK2001: unresolved external symbol _GetRNGstate
Release/stochastic.dll : fatal error LNK1120: 4 unresolved externals
Error executing link.exe.
*************************************************************************
************************** stochastic.c  ********************************

#include <R.h>
#include <Rinternals.h>
#include <R_ext/Mathlib.h>
#include <R_ext/Random.h>
#include <math.h>

double MS(double z, double y, double mu ){
        double d_y;
        int k;
        d_y=sqrt(-8*log(y));
        k=(int)floor( (mu+d_y/2-z)/d_y );
        return z+k*d_y;
}

double norm(double mu,double sigma,double x){
        double pi=3.141592679565;
        return 1/sqrt(2*pi*sigma)*exp(-(x-mu)*(x-mu)/sigma/sigma/2);
}

void stepzero(double *X0, double *mu0, long *length, double *X1){
        long i;
        double Z1, Y1;
        GetRNGstate();

        Z1=rnorm(0,1);
        Y1=norm(0,1,Z1)*unif_rand();
        for (i=0;i<*length;i++)
                X1[i]=MS(Z1,Y1,*X0+mu0[i]);

        PutRNGstate();
}

***************************************************************************
************************** stochastic.def ********************************
LIBRARY stochastic

EXPORTS
                            stepzero
**************************************************************************

Xiaoqiang Li

---
Dept. of Stats. & Act. Sciences
The University of Western Ontario
London, ON, Canada, N6A 5B7
Tel: (519)661-2111 ext 88212
http://www.stats.uwo.ca/phd/lxq/  

------- end of forwarded message -------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jmaloof at ems.salk.edu  Tue Aug 22 19:34:03 2000
From: jmaloof at ems.salk.edu (Julin Maloof)
Date: Tue, 22 Aug 2000 10:34:03 -0700
Subject: [R] arrow keys on Linux-PPC
Message-ID: <v04003a00b5c868be5ff8@[198.202.65.198]>

Hi,

I've recently compiled and installed R-1.1.1 on linux-PPC.  Everything is
working well except for my arrow keys.  The arrow keys neither give command
history nor move the cursor.  The readline and history devel-pacakges are
installed and R found them; I think the problem is more likely in
key-mapping.  The arrow keys do work in other programs.  Any ideas on how
to solve the problem?

Thanks,

Julin

> version
         _
platform powerpc-unknown-linux-gnu
arch     powerpc
os       linux-gnu
system   powerpc, linux-gnu
status
major    1
minor    1.1
year     2000
month    August
day      15
language R


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From camann at babylon.cnrs.humboldt.edu  Tue Aug 22 08:03:51 2000
From: camann at babylon.cnrs.humboldt.edu (Michael Camann)
Date: Mon, 21 Aug 2000 23:03:51 -0700
Subject: [R] various ordinations
Message-ID: <200008220603.XAA30126@babylon.cnrs.humboldt.edu>

Colleagues,

I'm developing a library of functions for community ecology analyses and
have a couple of questions that I've not been able to answer via faqs or
docs.

1) Are there existing functions for:

    a) Bray-Curtis (polar) ordination?
    b) non-metric multidimensional scaling (NMDS)?
    c) canonical correlation analyses (CCA and DCA)?
    d) TWINSPAN (doubtful...)?

2) If not, does anyone have these functions already?

3) I'm having difficulty figuring out how to dyn.load C object files in a
windows environment, which I admittedly know little about.  I'm using the
Cygwin/Gnu compiler, no difficulty compiling or (I think) producing
.dll's, but I always get an error when I try to dyn.load the .dll's that
says a file is missing.  Sorry, I can't reproduce the exact error mesg
from this machine, so let me know if it's critical-- nonetheless the mesg
is something to the effect that an important file is missing.  I'm running
R 1.0, so if this is a version problem it'll go away when I update, any
day now....  As the text above suggests, I'm also not entirely certain
that I'm producing the .dll's correctly and the 1.0.0 win-faq is a bit vague on
this point.  Could someone familiar with this please post brief
instructions or reply directly?  I didn't see anything in the (recent) help archives.

Unfortunately, I will need to work this in a MSWindows environment in
order to coordinate with the University's computing platforms.  I can post
code fragments, compiler output, and R output later if necessary, but I
thought it might be more useful to insure that I understand the process
fully before cluttering the list further.

Thanks!

--Mike C.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Michael A. Camann                                  Voice: 707-826-3676
Assistant Professor of Zoology                       Fax: 707-826-3201
Institute for Forest Canopy Research     Email: mac24 at axe.humboldt.edu
Department of Biology                            ifcr at axe.humboldt.edu
Humboldt State University           
Arcata, CA 95521

          URL:http://www.humboldt.edu/~mac24/camann.html
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug 22 20:27:43 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 22 Aug 2000 19:27:43 +0100 (BST)
Subject: [R] various ordinations
In-Reply-To: <200008220603.XAA30126@babylon.cnrs.humboldt.edu>
Message-ID: <Pine.GSO.4.05.10008221908560.14504-100000@auk.stats>

On Mon, 21 Aug 2000, Michael Camann wrote:

> Colleagues,
> 
> I'm developing a library of functions for community ecology analyses and
> have a couple of questions that I've not been able to answer via faqs or
> docs.

Not the actual shipped docs, though!

> 1) Are there existing functions for:
> 
>     a) Bray-Curtis (polar) ordination?
>     b) non-metric multidimensional scaling (NMDS)?

sammon and isoMDS in package MASS

>     c) canonical correlation analyses (CCA and DCA)?

cancor in package mva

>     d) TWINSPAN (doubtful...)?
> 
> 2) If not, does anyone have these functions already?
> 
> 3) I'm having difficulty figuring out how to dyn.load C object files in a
> windows environment, which I admittedly know little about.  I'm using the
> Cygwin/Gnu compiler, no difficulty compiling or (I think) producing
> .dll's, but I always get an error when I try to dyn.load the .dll's that
> says a file is missing.  Sorry, I can't reproduce the exact error mesg
> from this machine, so let me know if it's critical-- nonetheless the mesg
> is something to the effect that an important file is missing.  I'm running
> R 1.0, so if this is a version problem it'll go away when I update, any
> day now....  As the text above suggests, I'm also not entirely certain
> that I'm producing the .dll's correctly and the 1.0.0 win-faq is a bit vague on
> this point.  

Well, how can we anticipate all your (the users') mistakes!  You have not
used the recommended compiler, nor told us anything about how you did this!

The instructions are *not* in the `1.0.0 win-faq'!! Please update to 1.1.1
before doing anything else, as the availability of tools has changed in the
last 6 months.

Messages that important files are missing are critical!  That's why our
toolset provides pedump.exe for you to check dependencies.  You may be able
to solve this just by supplying the missing file.

> Could someone familiar with this please post brief
> instructions or reply directly?  I didn't see anything in the (recent) help archives.

Please read readme.packages which has the most detailed instructions,
then follow them.

If you are really using Cygwin/Gnu, yes an important file cygwin1.dll will
be missing unless you used the -mno-cygwin flag and have one of the rare
downloads in which it actually all works.  That they are rare is why we do
not recommend this combination.

Advice: start again and follow the instructions to the letter. Then there
is some chance we can help you if you can supply a useful problem report.
That means getting version 2.95.2.1 of the mingw32 compiler and the tools
at www.stats.ox.ac.uk/pub/Rtools .... It really is frustrating to spend
time writing the instructions and keeping them up to date in a rapidly
changing scene, and then to receive such a vague report about an old
version (there have been three since).  The FAQ has important information
on preparing a problem report.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From amorgan at mitre.org  Tue Aug 22 22:01:48 2000
From: amorgan at mitre.org (Alex Morgan)
Date: Tue, 22 Aug 2000 16:01:48 -0400
Subject: [R] Command Line Arguments passed to R
Message-ID: <39A2DC2C.4897E1DB@mitre.org>

Is there a way to pass command line arguments to R for use in BATCH mode
or something similar?

-- 
-Alex Morgan		Homepage:   http//pubpages.unh.edu/~amorgan
			AIM login:  HomeySage

"Anyway, no drug, not even alcohol, causes the fundamental ills of
society.
If we're looking for the source of our troubles, we shouldn't test
people
for drugs, we should test them for stupidity, ignorance, greed and love
of
power."   P.J. O'Rourke

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ldf at statms.stat.pku.edu.cn  Wed Aug 23 03:32:37 2000
From: ldf at statms.stat.pku.edu.cn (Li Dongfeng)
Date: Wed, 23 Aug 2000 10:32:37 +0900 (CDT)
Subject: [R] png device on Solaris
Message-ID: <Pine.SO4.4.05.10008231025440.7868-100000@statms>

Hi,

    I compiled R 1.1.0 source on SUN Sparc
solaric 2.5.1, using gcc 2.95.2.
I need to use R to publish graphics to the web,
the NEWS in this version said that there is a new
png() device on X11(). But when I tried
  > png()
I got this error.
  Error in png() : No png support in this version of R

  Can anyone tell me how to compile png support
on solaris/unix? The new bitmap() device already
does what I need but it requires ghostscript program
installed.

  Please respond to my email in addition to the list.
Thanks.

Li Dongfeng          ldf at statms.stat.pku.edu.cn
Dept Statistics      http://statms.stat.pku.edu.cn/~ldf
Peking University




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jhoksane at ecology.helsinki.fi  Wed Aug 23 07:50:00 2000
From: jhoksane at ecology.helsinki.fi (Jari Oksanen)
Date: Wed, 23 Aug 2000 08:50:00 +0300
Subject: [R] various ordinations 
In-Reply-To: Message from Michael Camann <camann@babylon.cnrs.humboldt.edu> 
   of "Mon, 21 Aug 2000 23:03:51 PDT." <200008220603.XAA30126@babylon.cnrs.humboldt.edu> 
Message-ID: <200008230550.IAA27262@khatkhat.ecology.helsinki.fi>


camann at babylon.cnrs.humboldt.edu said:
> 1) Are there existing functions for:
>     a) Bray-Curtis (polar) ordination?
>     b) non-metric multidimensional scaling (NMDS)?
>     c) canonical correlation analyses (CCA and DCA)?
>     d) TWINSPAN (doubtful...)? 

There is not (yet:) a vegetation analysis package in R, and from the wording 
above I guess this is what was needed. A few notes:

1a) Would be trivial to write in its basic form (perhaps more complicated with 
enhancements ? la Bruce McCune), but is not worth of trying: You should let 
this method rest in peace.

1b) Venables & Ripley (mainly latter, I guess) have  MDS packages in the MASS 
library. Some people claim that isoMDS is a bit too easily trapped into local 
optima, but I am not sure. sammon might be worth trying, since it is more 
local in its configuration whereas isoMDS is the old-fashioned global gradient 
space methods. However, you have to write up your similarity measures, since 
the standard choices in R are not the preferred in vegetation analysis. 
Another problem is that the detection of convergence to global optimum is a 
bit hard work in R, since there are no ready tools for this (although there 
are ready components for these tools).

1c) As you write `CCA', I guess you mean actually canonical *correspondence* 
analysis: Nothing like that is available in R, whereas canonical correlation 
analysis is in `cancor' (package `mva'). This `cancor' is a bit like RDA in 
vegetation ecology jargon, but I am afraid it regards most vegetation data 
sets as ill defined.

1c-d) DCA and TWINSPAN are not available. However, their "BSD style" licence 
would allow incorporation into R. I know of one person in GRASS (GIS) 
development team who is writing a pluggable module of TWINSPAN, and I hope he 
makes it so that it can be incorporated into R with minor modifications. It 
would not be too hard to modify these programs so that you can have them in R, 
but I am now too busy to try this (and the current version of my GNU Fortran 
compiler produces broken shared libraries, and I haven't seen the trouble of 
upgrading yet). I think that basically TWINSPAN and DCA are sick, and 
therefore I haven't given a high priority for these jobs.

So I recommend warmly isoMDS and sammon, and as an alternative to TWINSPAN, 
the numerous cluster analysis methods.

cheers, jari oksanen
-- 
Jari Oksanen - Dept Ecol Env Sci, Univ Helsinki, 15140 Lahti
Ph. +358 3 89220312, Fax -- 89220289, Mobile +358 40 5136529
jari.oksanen at helsinki.fi    http://www.helsinki.fi/~jhoksane



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug 23 07:56:41 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 23 Aug 2000 06:56:41 +0100 (BST)
Subject: [R] png device on Solaris
In-Reply-To: <Pine.SO4.4.05.10008231025440.7868-100000@statms>
Message-ID: <Pine.GSO.4.05.10008230651380.15164-100000@auk.stats>

On Wed, 23 Aug 2000, Li Dongfeng wrote:

> Hi,
> 
>     I compiled R 1.1.0 source on SUN Sparc
> solaric 2.5.1, using gcc 2.95.2.
> I need to use R to publish graphics to the web,
> the NEWS in this version said that there is a new
> png() device on X11(). But when I tried
>   > png()
> I got this error.
>   Error in png() : No png support in this version of R
> 
>   Can anyone tell me how to compile png support
> on solaris/unix? The new bitmap() device already
> does what I need but it requires ghostscript program
> installed.

The `new' device (we are on 1.1.1 now) was developed on Solaris.
You need libpng and zlib installed on your box, and then to re-configure.
There are many, many, ftp sites carrying those: look for
libpng-1.0.8.tar.gz and zlib-1.1.3.tar.gz.

I would suggest you do install ghostscript: it is very useful and
bitmap and png are to some extent complementary ideas.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Aug 23 08:20:04 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 23 Aug 2000 08:20:04 +0200
Subject: [R] Command Line Arguments passed to R
References: <39A2DC2C.4897E1DB@mitre.org>
Message-ID: <39A36D14.A4592B7@statistik.uni-dortmund.de>

Alex Morgan wrote:
> 
> Is there a way to pass command line arguments to R for use in BATCH mode
> or something similar?

Please tell us on which OS you are working and which version of R you
are using (assuming R-1.1.1).
As I can see from the mail header, you are running WinNT, so you should
read the "R for Windows FAQ".

Here the relevant part to answer your question:
----------
2.6 Can I use R BATCH?
No, but you can set up a batch file using Rterm.exe. A sample batch file
might contain (as one line) 
path_to_R\bin\Rterm.exe --vsize=10M --nsize=500k --no-restore --no-save
< %1 > %1.out
----------

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Wed Aug 23 09:46:34 2000
From: plummer at iarc.fr (Martyn Plummer)
Date: Wed, 23 Aug 2000 09:46:34 +0200 (CEST)
Subject: [R] External call to Watcom F77 version 11
In-Reply-To: <Pine.GSO.4.05.10008221626560.12175-100000@auk.stats>
Message-ID: <XFMail.000823094634.plummer@iarc.fr>

On 22-Aug-00 Prof Brian D Ripley wrote:
> BTW, there's a lot more on this for R and S in `S Programming'. I abandoned
> writing this up for R when Watcom's owners abandoned the compiler last
> summer.

Apparently they are planning to release the source code to the Watcom
compiler under an open source license, so there might be some life
left in it yet.

http://www.openwatcom.org

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Charles.Raux at let.ish-lyon.cnrs.fr  Wed Aug 23 19:14:12 2000
From: Charles.Raux at let.ish-lyon.cnrs.fr (Charles RAUX)
Date: Wed, 23 Aug 2000 18:14:12 +0100
Subject: [R] 3D perspective of a contingency table
Message-ID: <54637481399@let.ish-lyon.cnrs.fr>

How can I draw a 3D perspective of a contingency table, that is 
showing 3D bars whose height is in proportion of the table cells?
---------------
Charles RAUX,
Laboratoire d'Economie des Transports
CNRS-Universit? Lumi?re Lyon 2-ENTPE
email : charles.raux at let.ish-lyon.cnrs.fr
http://www.ish-lyon.cnrs.fr/let
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Wed Aug 23 19:00:18 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Wed, 23 Aug 2000 10:00:18 -0700 (PDT)
Subject: [R] Command Line Arguments passed to R
In-Reply-To: <39A2DC2C.4897E1DB@mitre.org>
Message-ID: <Pine.GSO.4.21.0008231000040.19298-100000@atlas.biostat.washington.edu>

On Tue, 22 Aug 2000, Alex Morgan wrote:

> Is there a way to pass command line arguments to R for use in BATCH mode
> or something similar?

help(commandArgs)

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle
> 
> -- 
> -Alex Morgan		Homepage:   http//pubpages.unh.edu/~amorgan
> 			AIM login:  HomeySage
> 
> "Anyway, no drug, not even alcohol, causes the fundamental ills of
> society.
> If we're looking for the source of our troubles, we shouldn't test
> people
> for drugs, we should test them for stupidity, ignorance, greed and love
> of
> power."   P.J. O'Rourke
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From camann at babylon.cnrs.humboldt.edu  Wed Aug 23 08:20:26 2000
From: camann at babylon.cnrs.humboldt.edu (Michael Camann)
Date: Tue, 22 Aug 2000 23:20:26 -0700
Subject: [R] various ordinations 
In-Reply-To: <200008230550.IAA27262@khatkhat.ecology.helsinki.fi>
Message-ID: <200008230620.XAA31153@babylon.cnrs.humboldt.edu>

> 1c) As you write `CCA', I guess you mean actually canonical *correspondence* 
> analysis: Nothing like that is available in R, whereas canonical correlation 
> analysis is in `cancor' (package `mva'). This `cancor' is a bit like RDA in 
> vegetation ecology jargon, but I am afraid it regards most vegetation data 
> sets as ill defined.

You're correct, of course-- even after harping at students about this I
STILL write correlation more often than not.  I don't actually use CCA or
DCA very often, but they should be included in the library for
completeness.  Likewise TWINSPAN, although I personally prefer indicator
species analyses ala Dufrene and Legendre.

Thanks for your comments, which were helpful, knowledgable, and gracious.


Best,
Mike C.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Michael A. Camann                                  Voice: 707-826-3676
Assistant Professor of Zoology                       Fax: 707-826-3201
Institute for Forest Canopy Research     Email: mac24 at axe.humboldt.edu
Department of Biology                            ifcr at axe.humboldt.edu
Humboldt State University           
Arcata, CA 95521

          URL:http://www.humboldt.edu/~mac24/camann.html
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ldf at statms.stat.pku.edu.cn  Thu Aug 24 01:13:43 2000
From: ldf at statms.stat.pku.edu.cn (Li Dongfeng)
Date: Thu, 24 Aug 2000 07:13:43 +0800
Subject: [R] png device on Solaris
References: <Pine.GSO.4.05.10008230651380.15164-100000@auk.stats>
Message-ID: <001501c00d57$eef7b1a0$46f363d3@stat.pku.edu.cn>


Thank you very much for your directions.
You are always vey generous in offering your help.

The ghostscrip+bitmap() already work for me.
Since I use R to publish dynamic simulation results
to the web, so avoiding a call to another program
(i.e., ghostscript) will give better performance.

Further questions: I already have libpng and zlib,
jpeg lib installed, when I look at the R 1.1.0 configure
scripts help, I didn't see any mention of
--with-libpng=, --with-zlib= options. And there are no further
documents. Are these only in 1.1.1?


----- Original Message ----- 
From: Prof Brian D Ripley <ripley at stats.ox.ac.uk>
To: Li Dongfeng <ldf at statms.stat.pku.edu.cn>
Cc: <r-help at stat.math.ethz.ch>
Sent: Wednesday, August 23, 2000 1:56 PM
Subject: Re: [R] png device on Solaris


> On Wed, 23 Aug 2000, Li Dongfeng wrote:
> 
> > Hi,
> > 
> >     I compiled R 1.1.0 source on SUN Sparc
> > solaric 2.5.1, using gcc 2.95.2.
> > I need to use R to publish graphics to the web,
> > the NEWS in this version said that there is a new
> > png() device on X11(). But when I tried
> >   > png()
> > I got this error.
> >   Error in png() : No png support in this version of R
> > 
> >   Can anyone tell me how to compile png support
> > on solaris/unix? The new bitmap() device already
> > does what I need but it requires ghostscript program
> > installed.
> 
> The `new' device (we are on 1.1.1 now) was developed on Solaris.
> You need libpng and zlib installed on your box, and then to re-configure.
> There are many, many, ftp sites carrying those: look for
> libpng-1.0.8.tar.gz and zlib-1.1.3.tar.gz.
> 
> I would suggest you do install ghostscript: it is very useful and
> bitmap and png are to some extent complementary ideas.
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Thu Aug 24 03:05:10 2000
From: feldesmanm at pdx.edu (Marc Feldesman)
Date: Wed, 23 Aug 2000 18:05:10 -0700
Subject: [R] distributional properties of rnorm
Message-ID: <4.3.2.7.0.20000823175856.00aa5d80@pop4.ibm.net>

I've been trying to generate a series of random normal distributions using 
the rnorm function.  After I generated the first set:

set1<-rnorm(150, 505.5, 15.2)

I checked the mean and standard deviation of set1.  I was surprised to find 
the mean at 502.37 (rounded) and the standard deviation at 13.3 (again, 
rounded).  While I know that it is unrealistic to expect the distribution 
of the simulated data to match the given mean and standard deviation, I 
expected the results to be closer.  I then generated 20 more samples.  In 
no case did the mean exceed 505.5 (the highest value was 504.8).  The 
standard deviation ranged from a low of 12.4 to a high of 18.

Am I being unrealistic in expecting the results to approximate the given 
values of the mean and standard deviation?


===================================================
Dr. Marc R. Feldesman
Professor and Chair
Anthropology Department
Portland State University
Portland, Oregon 97207

email: feldesmanm at pdx.edu
http://odin.pdx.edu/~h1mf

Powered by Inspirochoerus

"Indecision may or may not be my problem"
===================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Thu Aug 24 04:51:56 2000
From: feldesmanm at pdx.edu (Marc Feldesman)
Date: Wed, 23 Aug 2000 19:51:56 -0700
Subject: [R] rnorm
Message-ID: <4.3.2.7.0.20000823193447.00ab05e0@pop4.ibm.net>

Thanks to all who replied to my query about the "normality" of rnorm.  I am 
using R 1.1.1 (the version released last week) under Windows 98.  It has 
been unusually hot here and I noticed that the CPU fan seemed to be running 
at high speed for a long time.  The CPU probe that I use to monitor the 
temperature emitted a warning shortly after I sent off the email.  After 
shutting my system down, letting it cool, and then rebooting, all seems 
well with rnorm.  Since I have seen some pretty weird results with Excel 
whenever the CPU overheated, I am assuming I just encountered a similar 
phenomenon while running R.

[These new laptops running low voltage mobile PIII CPU's still run super hot]


===================================================
Dr. Marc R. Feldesman
Professor and Chair
Anthropology Department
Portland State University
Portland, Oregon 97207

email: feldesmanm at pdx.edu
http://odin.pdx.edu/~h1mf

Powered by Inspirochoerus

"Indecision may or may not be my problem"
===================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Thu Aug 24 03:43:32 2000
From: Ko-Kang at xtra.co.nz (Ko-Kang@xtra.co.nz)
Date: Thu, Aug 24 2000 3:43:32 GMT+0000
Subject: [R] distributional properties of rnorm
Message-ID: <20000824034534.SSTZ963150.mta2-rme.xtra.co.nz@smtp.xtra.co.nz>

Really?  I tried it five times in R vand I get the following  in R v1.1.0 and get the following means:
[1] 505.5867
[1] 507.1512
[1] 505.6406
[1] 503.9704
[1] 506.2367
which is within my expectation.  The standard deviation is also very close to what one would expect (almost always in the range of [14, 16].

Don't know why you cannot generate the expected mean and standard deviation, maybe you are using an older version?
>
>From: Marc Feldesman <feldesmanm at pdx.edu>
>Date: Wed, 23 Aug 2000 18:05:10 -0700
>To: r-help at stat.math.ethz.ch
>Subject: [R] distributional properties of rnorm
>
>I've been trying to generate a series of random normal distributions using 
>the rnorm function.  After I generated the first set:
>
>set1<-rnorm(150, 505.5, 15.2)
>
>I checked the mean and standard deviation of set1.  I was surprised to find 
>the mean at 502.37 (rounded) and the standard deviation at 13.3 (again, 
>rounded).  While I know that it is unrealistic to expect the distribution 
>of the simulated data to match the given mean and standard deviation, I 
>expected the results to be closer.  I then generated 20 more samples.  In 
>no case did the mean exceed 505.5 (the highest value was 504.8).  The 
>standard deviation ranged from a low of 12.4 to a high of 18.
>
>Am I being unrealistic in expecting the results to approximate the given 
>values of the mean and standard deviation?
>
>
>===================================================
>Dr. Marc R. Feldesman
>Professor and Chair
>Anthropology Department
>Portland State University
>Portland, Oregon 97207
>
>email: feldesmanm at pdx.edu
><a href="http://odin.pdx.edu/~h1mf">http://odin.pdx.edu/~h1mf</a>
>
>Powered by Inspirochoerus
>
>"Indecision may or may not be my problem"
>===================================================
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read <a href="http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html">http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html</a>
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Aug 24 09:14:26 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 24 Aug 2000 09:14:26 +0200
Subject: [R] 3D perspective of a contingency table
References: <54637481399@let.ish-lyon.cnrs.fr>
Message-ID: <39A4CB52.F83D40E@statistik.uni-dortmund.de>

Charles RAUX wrote:
> 
> How can I draw a 3D perspective of a contingency table, that is
> showing 3D bars whose height is in proportion of the table cells?

You might want to try the package scatterplot3d, available at 
http://www.statistik.uni-dortmund.de/leute/ligges.htm

Assuming "cont" is your contingency table:

 cont <- matrix(1:16,ncol=4, byrow=T)
 rows <- as.vector(row(cont))
 cols <- as.vector(col(cont))
 scatterplot3d(rows, cols, as.vector(cont), type="h", pch=" ", angle=50,
lab=c(3,3), lwd=5)

You might also want to play with some arguments.

Note: scatterplot3d() is NOT designed to plot contingency tables and may
have many bugs in it. 
In the old version 0.2.11 it was possible to turn the plot 180 degrees
around, so the contigency table looks more "intuitive" (because of many
changes, this is not possible in version 0.3.0).

Using much of the code from scatterplot3d, it should not be too hard to
write a function like "plot.contingency()" ...

Regards,
Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas.pesl at arcs.ac.at  Thu Aug 24 10:22:34 2000
From: thomas.pesl at arcs.ac.at (Pesl Thomas)
Date: Thu, 24 Aug 2000 10:22:34 +0200
Subject: [R] coplot
Message-ID: <D16B18FFF743D311A9CA0090275F3CB001D8C7DE@arcss07.arcs.ac.at>

COPLOT:
how do i define the given.values for two variables?

Thomas Pesl
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Dominic_Barraclough at urmc.rochester.edu  Thu Aug 24 15:22:14 2000
From: Dominic_Barraclough at urmc.rochester.edu (Dominic_Barraclough@urmc.rochester.edu)
Date: Thu, 24 Aug 2000 09:22:14 -0400
Subject: [R] Is there a method to calculate Huynh and Feldt adjustments for sphericity  violations
Message-ID: <39A4E946.28055.F0F4177@localhost>

Hi, 
I'm getting to grips with using R to perform repeat measures 
analysis of variance and was wondering is there a potted method to 
obtain  Huynh and Feldt or other adjustments for sphericity  
violations? 
Thanks
Dominic
Dr Dominic J Barraclough
Dept Neurobiology and Anatomy,
University of Rochester,
601 Elmwood Av, Box 603,
Rochester 
NY 14642
tel (716) 2753627
dominic_barraclough at urmc.rochester.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Thu Aug 24 16:13:05 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Thu, 24 Aug 2000 10:13:05 -0400
Subject: [R] How to?
Message-ID: <000901c00dd5$6c2baa50$0201a8c0@Workgroup>

Hi,

Is there a way to apply a function to rows or columns of a matrix?

Now I use apply(as.matrix(1:nrow(m), 1, function(x) mean(m[x,])) which works
fine but kind of slow on large matrix. I'm sure there is something on this
somewhere but I can't find it.

Thanks

Yves Gauvreau

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Aug 24 16:26:05 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Aug 2000 16:26:05 +0200
Subject: [R] How to?
In-Reply-To: "Yves Gauvreau"'s message of "Thu, 24 Aug 2000 10:13:05 -0400"
References: <000901c00dd5$6c2baa50$0201a8c0@Workgroup>
Message-ID: <x24s4aspkx.fsf@blueberry.kubism.ku.dk>

"Yves Gauvreau" <cyg at sympatico.ca> writes:

> Is there a way to apply a function to rows or columns of a matrix?
> 
> Now I use apply(as.matrix(1:nrow(m), 1, function(x) mean(m[x,])) which works
> fine but kind of slow on large matrix. I'm sure there is something on this
> somewhere but I can't find it.

Er, how about

apply(m,1,mean)

??

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Thu Aug 24 16:57:30 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Thu, 24 Aug 2000 10:57:30 -0400
Subject: [R] How to?
References: <000901c00dd5$6c2baa50$0201a8c0@Workgroup> <39a531d0.8467554@fisher.stats.uwo.ca>
Message-ID: <001f01c00ddb$a0d6bb40$0201a8c0@Workgroup>

Ok, I used a dumb example and I kind of forgot that m was already a matrix.

Prof Ripley suggested I use matrix operator in this case which is a lot
faster.

In fact what I'd like to know is what is the most efficient R way to do
thing like a moving average on a vector. Something generic enough that one
could use practically any function on a constant width window of the vector?

Thanks

Yves Gauvreau



----- Original Message -----
From: "Duncan Murdoch" <murdoch at stats.uwo.ca>
To: "Yves Gauvreau" <cyg at sympatico.ca>
Sent: Thursday, August 24, 2000 10:33 AM
Subject: Re: [R] How to?


> On Thu, 24 Aug 2000 10:13:05 -0400, you wrote in message
> <000901c00dd5$6c2baa50$0201a8c0 at Workgroup>:
>
> >Hi,
> >
> >Is there a way to apply a function to rows or columns of a matrix?
> >
> >Now I use apply(as.matrix(1:nrow(m), 1, function(x) mean(m[x,])) which
works
> >fine but kind of slow on large matrix. I'm sure there is something on
this
> >somewhere but I can't find it.
>
> You're very close:  you want
>
> apply(m,1,mean)
>
> to get means by row, and
>
> apply(m,2,mean)
>
> to get means by column.  It's slow, there's no way around that.
>
> Duncan Murdoch
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Thu Aug 24 17:03:42 2000
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Thu, 24 Aug 2000 17:03:42 +0200
Subject: [R] unexpected crash of R under Windows
Message-ID: <3.0.32.20000824170342.008e7100@162.38.183.200>

Dear All,

We encountered an unexpected crash with R under Windows when running
fisher.test(). We had this problem only under this OS and only with the
following data:

> T
      [,1] [,2]
 [1,]    2    1
 [2,]    2    1
 [3,]    4    0
 [4,]    8    0
 [5,]    6    0
 [6,]    0    0
 [7,]    1    0
 [8,]    1    1
 [9,]    7    1
[10,]    8    2
[11,]    1    0
[12,]    3    1
[13,]    1    1
[14,]    3    0
[15,]    7    2
[16,]    4    1
[17,]    2    0
[18,]    2    0
[19,]    2    0

The commands:

library(ctest)
fisher.test(T)

result in a crash of R with a system error. (Note that if we change T[19,2]
to the value "1", then there is no problem.) The crash occurs with R-1.0.1
under Win98, and with R-1.1.1 under WinNT (both with Rgui and with Rterm).
However, there is no problem at all under Solaris (tested with R-1.0.1 and
R-1.1.0).

Best,

Emmanuel Paradis
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.malewski at tu-bs.de  Thu Aug 24 22:09:54 2000
From: p.malewski at tu-bs.de (Peter Malewski)
Date: Thu, 24 Aug 2000 22:09:54 +0200 (CEST)
Subject: [R] coplot
In-Reply-To: <D16B18FFF743D311A9CA0090275F3CB001D8C7DE@arcss07.arcs.ac.at>
Message-ID: <Pine.LNX.4.21.0008242205270.738-100000@Uranus.Levi>

On Thu, 24 Aug 2000, Pesl Thomas wrote:

> COPLOT:
> how do i define the given.values for two variables?

Coplot is designed for n_variables > 2, like 

z <- rnorm(100)
x <- rnorm(100)
y <- x * rnorm(100,z) + rnorm(100)
coplot(y ~x | z , panel=panel.smooth)

if you visualize 2 variables a simple scatterplot might be all
right: plot(x,y) ???

but: I'm quite sure I've misunderstood your intention...
P.


**************************************************************************
P.Malewski				Tel.: 0531 500965
Maschplatz 8				mailto: Peter.Malewski at gmx.de
************************38114 Braunschweig********************************



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tring at mail1.stofanet.dk  Thu Aug 24 22:35:21 2000
From: tring at mail1.stofanet.dk (Troels Ring)
Date: Thu, 24 Aug 2000 22:35:21 +0200
Subject: [R] too large alpha or beta in dbeta ?
Message-ID: <4.3.2.7.0.20000824223314.02977580@127.0.0.1>

Dear friends.

Is this as expected ? Is alpha and beta too large simply ?

 > dbeta(.1,534,646)
[1] NaN
Warning message:
NaNs produced in: dbeta(x, shape1, shape2, log)

Best wishes

Troels

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Thu Aug 24 22:45:47 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Thu, 24 Aug 2000 13:45:47 -0700 (PDT)
Subject: [R] too large alpha or beta in dbeta ?
In-Reply-To: <4.3.2.7.0.20000824223314.02977580@127.0.0.1>
Message-ID: <Pine.GSO.4.21.0008241342480.19023-100000@atlas.biostat.washington.edu>

On Thu, 24 Aug 2000, Troels Ring wrote:

> Dear friends.
> 
> Is this as expected ? Is alpha and beta too large simply ?
> 
>  > dbeta(.1,534,646)
> [1] NaN
> Warning message:
> NaNs produced in: dbeta(x, shape1, shape2, log)

well, it should work, but the correct answer is effectively zero.
  pbeta(.1,534,646) gives 3.6e-213

Perhaps more worrying is 
> dbeta(.25,534,646)
[1] Inf


	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug 24 22:49:41 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 24 Aug 2000 21:49:41 +0100 (BST)
Subject: [R] unexpected crash of R under Windows
In-Reply-To: <3.0.32.20000824170342.008e7100@162.38.183.200>
Message-ID: <Pine.GSO.4.05.10008242126140.22024-100000@auk.stats>

On Thu, 24 Aug 2000, Emmanuel Paradis wrote:

> Dear All,
> 
> We encountered an unexpected crash with R under Windows when running
> fisher.test(). We had this problem only under this OS and only with the
> following data:
> 
> > T
>       [,1] [,2]
>  [1,]    2    1
>  [2,]    2    1
>  [3,]    4    0
>  [4,]    8    0
>  [5,]    6    0
>  [6,]    0    0
>  [7,]    1    0
>  [8,]    1    1
>  [9,]    7    1
> [10,]    8    2
> [11,]    1    0
> [12,]    3    1
> [13,]    1    1
> [14,]    3    0
> [15,]    7    2
> [16,]    4    1
> [17,]    2    0
> [18,]    2    0
> [19,]    2    0
> 
> The commands:
> 
> library(ctest)
> fisher.test(T)
> 
> result in a crash of R with a system error. (Note that if we change T[19,2]
> to the value "1", then there is no problem.) The crash occurs with R-1.0.1
> under Win98, and with R-1.1.1 under WinNT (both with Rgui and with Rterm).
> However, there is no problem at all under Solaris (tested with R-1.0.1 and
> R-1.1.0).

Your pinpointing the blame on the Windows port of R is quite unfair. The
problem is in your usage of the function: the workspace was too small and
the code was writing outside it.  It is pure chance that did not affect any
the other OSes you tried (or was that just one OS?). 

fisher.ctest(T, workspace=1e6) works without crashing on Windows, Solaris
and Linux here.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dmurdoch at pair.com  Thu Aug 24 23:45:00 2000
From: dmurdoch at pair.com (Duncan Murdoch)
Date: Thu, 24 Aug 2000 21:45:00 GMT
Subject: [R] unexpected crash of R under Windows
In-Reply-To: <Pine.GSO.4.05.10008242126140.22024-100000@auk.stats>
References: <Pine.GSO.4.05.10008242126140.22024-100000@auk.stats>
Message-ID: <39a896a7.967013@julian.uwo.ca>

On Thu, 24 Aug 2000 21:49:41 +0100 (BST), you wrote:

>Your pinpointing the blame on the Windows port of R is quite unfair. The
>problem is in your usage of the function: the workspace was too small and
>the code was writing outside it.  It is pure chance that did not affect any
>the other OSes you tried (or was that just one OS?). 

That doesn't sound like a user error to me, that sounds like a bug.
Functions shouldn't crash the system if they aren't given a big enough
workspace, they should complain (or even better, just grab a bigger
workspace automatically).

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rgould at stat.ucla.edu  Fri Aug 25 02:45:35 2000
From: rgould at stat.ucla.edu (Robert Gould)
Date: Thu, 24 Aug 2000 17:45:35 -0700
Subject: [R] S objects
Message-ID: <39A5C1AE.ACA7A09A@stat.ucla.edu>

    Is it possible for R to "read in" S objects.  For example, suppose
that when using S I did:
> x <- c(1,2,3)
> y <- x^2
> q()
These objects are now in the .Data directory.  If I then want to use x
and y in an R session, how can I do so?

Thanks,
Rob


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dmurdoch at pair.com  Fri Aug 25 03:19:19 2000
From: dmurdoch at pair.com (Duncan Murdoch)
Date: Fri, 25 Aug 2000 01:19:19 GMT
Subject: [R] S objects
In-Reply-To: <39A5C1AE.ACA7A09A@stat.ucla.edu>
References: <39A5C1AE.ACA7A09A@stat.ucla.edu>
Message-ID: <39a5c895.12088828@julian.uwo.ca>

The best way is (in S) to dump(c('x','y')), and then (in R) to
source() the file.  However, if that's not possible (e.g. you no
longer have access to S), you can try the readSfile() function in the
Rstreams package.  It could definitely read your examples of x and y
below, but sometimes falls down on more complicated objects.

It's available on CRAN, in the "devel" group of packages.

Duncan Murdoch

On Thu, 24 Aug 2000 17:45:35 -0700, Robert Gould
<rgould at stat.ucla.edu> wrote:

>    Is it possible for R to "read in" S objects.  For example, suppose
>that when using S I did:
>> x <- c(1,2,3)
>> y <- x^2
>> q()
>These objects are now in the .Data directory.  If I then want to use x
>and y in an R session, how can I do so?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Aug 25 08:41:11 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 25 Aug 2000 08:41:11 +0200 (CEST)
Subject: [R] How to?
In-Reply-To: <001f01c00ddb$a0d6bb40$0201a8c0@Workgroup>
References: <000901c00dd5$6c2baa50$0201a8c0@Workgroup>
	<39a531d0.8467554@fisher.stats.uwo.ca>
	<001f01c00ddb$a0d6bb40$0201a8c0@Workgroup>
Message-ID: <14758.5383.959433.783006@gargle.gargle.HOWL>

>>>>> "Yves" == Yves Gauvreau <cyg at sympatico.ca> writes:

      ....

    Yves> In fact what I'd like to know is what is the most efficient R way
    Yves> to do thing like a moving average on a vector. Something generic
    Yves> enough that one could use practically any function on a constant
    Yves> width window of the vector?

filter()  from package ts ?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Aug 25 08:47:00 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 25 Aug 2000 08:47:00 +0200
Subject: crash using fisher.test on Windows; was [R] unexpected crash of R under 
 Windows
References: <Pine.GSO.4.05.10008242126140.22024-100000@auk.stats>
Message-ID: <39A61664.53D916AA@statistik.uni-dortmund.de>

Prof Brian D Ripley wrote:
> 
> On Thu, 24 Aug 2000, Emmanuel Paradis wrote:
> 
> > Dear All,
> >
> > We encountered an unexpected crash with R under Windows when running
> > fisher.test(). We had this problem only under this OS and only with the
> > following data:
> >
> > > T
> >       [,1] [,2]
> >  [1,]    2    1
> >  [2,]    2    1
> >  [3,]    4    0
> >  [4,]    8    0
> >  [5,]    6    0
> >  [6,]    0    0
> >  [7,]    1    0
> >  [8,]    1    1
> >  [9,]    7    1
> > [10,]    8    2
> > [11,]    1    0
> > [12,]    3    1
> > [13,]    1    1
> > [14,]    3    0
> > [15,]    7    2
> > [16,]    4    1
> > [17,]    2    0
> > [18,]    2    0
> > [19,]    2    0
> >
> > The commands:
> >
> > library(ctest)
> > fisher.test(T)
> >
> > result in a crash of R with a system error. (Note that if we change T[19,2]
> > to the value "1", then there is no problem.) The crash occurs with R-1.0.1
> > under Win98, and with R-1.1.1 under WinNT (both with Rgui and with Rterm).
> > However, there is no problem at all under Solaris (tested with R-1.0.1 and
> > R-1.1.0).
> 
> Your pinpointing the blame on the Windows port of R is quite unfair. The
> problem is in your usage of the function: the workspace was too small and
> the code was writing outside it.  It is pure chance that did not affect any
> the other OSes you tried (or was that just one OS?).
> 
> fisher.ctest(T, workspace=1e6) works without crashing on Windows, Solaris
> and Linux here.


I tried with the default of workspace=200000 on WinNT and Solaris. The
crash (Dr. Watson) only happens on WinNT. On Solaris everything works
fine.

Now I tried it using workspace=1000 (too small). On Solaris AND WinNT
the same result:

 > fisher.test(T, workspace=1000)
 Error in fisher.test(T, workspace = 1000) : 
         FEXACT error 40.
 Out of workspace.

This is the error message, I would expect, but not a crash of R!
CC'ing to R-Bugs with modified subject.


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jan.Schelling at hydro.com  Fri Aug 25 10:43:25 2000
From: Jan.Schelling at hydro.com (Jan.Schelling@hydro.com)
Date: Fri, 25 Aug 2000 09:43:25 +0100
Subject: [R] How to?
Message-ID: <C1256946.002A6C52.00@osla28smtp.hda.hydro.com>



Yves,

to calculate e.g. the "running standard deviation" of a vector I use:

sdev.n <-
function(x, k) {
 n <- length(x)
 y <- rep(0, n)
 for (i in (1+k):(n-k))
   y[i] <- var(x[(i-k):(i+k)])
 sqrt(y)
 }

which does indeed get slow on larger vectors and I would be happy if anyone came
up with a smarter solution. I don't think I can use filter() from the ts package
for this purpose, can I?

regards

Jan Schelling


-----
cyg at sympatico.ca on 2000-08-24 14:57 GMT wrote:

>Ok, I used a dumb example and I kind of forgot that m was already a matrix.

>Prof Ripley suggested I use matrix operator in this case which is a lot
>faster.

>In fact what I'd like to know is what is the most efficient R way to do
>thing like a moving average on a vector. Something generic enough that one
>could use practically any function on a constant width window of the vector?

>Thanks

>Yves Gauvreau


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Aug 25 09:52:43 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 25 Aug 2000 08:52:43 +0100 (BST)
Subject: [R] How to?
In-Reply-To: <14758.5383.959433.783006@gargle.gargle.HOWL>
Message-ID: <Pine.GSO.4.05.10008250847490.27474-100000@auk.stats>

On Fri, 25 Aug 2000, Martin Maechler wrote:

> >>>>> "Yves" == Yves Gauvreau <cyg at sympatico.ca> writes:
> 
>       ....
> 
>     Yves> In fact what I'd like to know is what is the most efficient R way
>     Yves> to do thing like a moving average on a vector. Something generic
>     Yves> enough that one could use practically any function on a constant
>     Yves> width window of the vector?
> 
> filter()  from package ts ?

That's linear functions only.  But I'm afraid that there is no
generic fast way to do this for arbitrary functions, which is why special
cases like filter() exists. The best I can think of is along the lines of

mywinfun <- function(x, width, FUN, ...)
{
   n <- length(x) - width
   z <- substr(x, 1:n, (1:n)+width)
   sapply(z, FUN, ...)
}

which should beat the use of apply.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From markhall at gol.com  Sat Aug 26 02:07:16 2000
From: markhall at gol.com (Mark Hall)
Date: Fri, 25 Aug 2000 17:07:16 -0700
Subject: [R] a MANOVA type function
Message-ID: <021101c00efc$8cd39d80$12e6fea9@gol.com>

Hi I am using R for Windows.  
I was curious if there was a multivariate anova function or something like
the manova in SPLUS for Windows 3.2 package?  If there is, I am clearly
looking in the wrong places...

Thanks in advance, Mark Hall



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Aug 25 11:53:38 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 25 Aug 2000 10:53:38 +0100 (BST)
Subject: [R] a MANOVA type function
In-Reply-To: <021101c00efc$8cd39d80$12e6fea9@gol.com>
Message-ID: <Pine.GSO.4.05.10008251046560.28011-100000@auk.stats>

On Fri, 25 Aug 2000, Mark Hall wrote:

> Hi I am using R for Windows.  
> I was curious if there was a multivariate anova function or something like
> the manova in SPLUS for Windows 3.2 package?  If there is, I am clearly
> looking in the wrong places...

Well, manova does almost nothing beyond aov, which does exist in R
and does handle multiple responses.  manova just adds a class to the
result.

So the real work is in summary.manova, and we do not have that.
That adds various multivariate test statistics: not difficult to
write if you know the formulae and have a need for it.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Fri Aug 25 13:40:56 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Fri, 25 Aug 2000 07:40:56 -0400
Subject: [R] How to?
References: <Pine.GSO.4.05.10008250847490.27474-100000@auk.stats>
Message-ID: <00c601c00e89$55c89110$0201a8c0@Workgroup>

I tried the function you proposed and I get an error:

Error in substr(x, as.integer(start), as.integer(stop)) :
        invalid argument in substr()

I must admit I don't understand the use of substr() in this case, x being a
numerical vector. I understand that your using it to provide FUN with its
argument i.e. the window of data. I'm using R1.1 on NT does this mean it
could work width with the newer version?

Also I came across the function embed() also in (ts) which could be used to
create a matrix like so:

embed(1:10,3)
     [,1] [,2] [,3]
[1,]    3    2    1
[2,]    4    3    2
[3,]    5    4    3
[4,]    6    5    4
[5,]    7    6    5
[6,]    8    7    6
[7,]    9    8    7
[8,]   10    9    8

then one could use apply(embed(1:10,3), 1, FUN) which does the job but again
it's relatively slow for large dataset. So it seem that I'll either have to
wait for someone to write a faster version of apply or be patient and since
I can't write my own C function then I'll have to be patient.

Thanks to all, R is great software.

YG


----- Original Message -----
From: "Prof Brian D Ripley" <ripley at stats.ox.ac.uk>
To: "Martin Maechler" <maechler at stat.math.ethz.ch>
Cc: "Yves Gauvreau" <cyg at sympatico.ca>; <r-help at stat.math.ethz.ch>
Sent: Friday, August 25, 2000 3:52 AM
Subject: Re: [R] How to?


> On Fri, 25 Aug 2000, Martin Maechler wrote:
>
> > >>>>> "Yves" == Yves Gauvreau <cyg at sympatico.ca> writes:
> >
> >       ....
> >
> >     Yves> In fact what I'd like to know is what is the most efficient R
way
> >     Yves> to do thing like a moving average on a vector. Something
generic
> >     Yves> enough that one could use practically any function on a
constant
> >     Yves> width window of the vector?
> >
> > filter()  from package ts ?
>
> That's linear functions only.  But I'm afraid that there is no
> generic fast way to do this for arbitrary functions, which is why special
> cases like filter() exists. The best I can think of is along the lines of
>
> mywinfun <- function(x, width, FUN, ...)
> {
>    n <- length(x) - width
>    z <- substr(x, 1:n, (1:n)+width)
>    sapply(z, FUN, ...)
> }
>
> which should beat the use of apply.
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Aug 25 19:09:44 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 25 Aug 2000 18:09:44 +0100 (BST)
Subject: [R] How to?
In-Reply-To: <00c601c00e89$55c89110$0201a8c0@Workgroup>
Message-ID: <Pine.GSO.4.05.10008251757370.28156-100000@auk.stats>

On Fri, 25 Aug 2000, Yves Gauvreau wrote:

> I tried the function you proposed and I get an error:
> 
> Error in substr(x, as.integer(start), as.integer(stop)) :
>         invalid argument in substr()
> 
> I must admit I don't understand the use of substr() in this case, x being a
> numerical vector. I understand that your using it to provide FUN with its
> argument i.e. the window of data. I'm using R1.1 on NT does this mean it
> could work width with the newer version?

I said `something like' (that's code for `I haven't tried this'), and I
mis-remembered what substr does. Try this:

mywinfun <- function(x, width, FUN, ...)
{
    n <- length(x)
    A <- rep(x, length=width*(n+1))
    dim(A) <- c(n+1, width)
    sapply(split(A, row(A)), FUN, ...)[1:(n-width)]
}

It's more efficient than embed, and more efficient that apply(A, 1,...)
in this case.  But there are limits to how efficient interpreted R code
gets in such problems.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Fri Aug 25 20:23:56 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Fri, 25 Aug 2000 14:23:56 -0400
Subject: [R] How to?
References: <Pine.GSO.4.05.10008251757370.28156-100000@auk.stats>
Message-ID: <00d401c00ec1$a20e0a40$0201a8c0@Workgroup>



> I said `something like' (that's code for `I haven't tried this'), and I
> mis-remembered what substr does. Try this:

No offence intended I didn't know your code. I'll pay more attention next
time


> mywinfun <- function(x, width, FUN, ...)
> {
>     n <- length(x)
>     A <- rep(x, length=width*(n+1))
>     dim(A) <- c(n+1, width)
>     sapply(split(A, row(A)), FUN, ...)[1:(n-width)]
> }
>
> It's more efficient than embed, and more efficient that apply(A, 1,...)
> in this case.  But there are limits to how efficient interpreted R code
> gets in such problems.
>

I understand that interpreted code can and is in many cases a lot slower
then machine code especially in loop cases. This is why, if I understand
correctly, documentation for writing R code and any other interpreted
language for that matter strongly suggest to vectorize operations. In such
case the relative penalty for interpreting and passing data to the machine
code (internally) decreases as the data size increases.

I'm curious to know the reasons why sapply is or would be faster then apply
in general?

I'm also curious to know a bit more on the following. Suppose I (can) write
a function (as DLL in my case) that prepares the vector for the FUN as in
one of the ?apply function. Would the gain in speed be worthwhile assuming
that I can call it from my DLL function of course?

Second, assuming I can call R internal functions from my own this would mean
no interpretation and thus minimal overhead. I assume that in those cases
the speed improvement would be quite important. It would be a fairly complex
task for me to create such an external function and I'd like to know before
hand if it's worth the trouble I would get into?

Thanks

Yves Gauvreau


> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From apjaworski at mmm.com  Fri Aug 25 23:10:05 2000
From: apjaworski at mmm.com (Andy Jaworski)
Date: Fri, 25 Aug 2000 16:10:05 -0500
Subject: [R] unexpected R crash - again
Message-ID: <000501c00ed8$d8aa7b30$6f196382@mmm.com>

Sorry, but I lost this thread, so I sending this as a new message.

This is really a follow-up to a post from a couple days ago saying that
fisher.test from the ctest library crashed on the following data set:
> T
      [,1] [,2]
 [1,]    2    1
 [2,]    2    1
 [3,]    4    0
 [4,]    8    0
 [5,]    6    0
 [6,]    0    0
 [7,]    1    0
 [8,]    1    1
 [9,]    7    1
[10,]    8    2
[11,]    1    0
[12,]    3    1
[13,]    1    1
[14,]    3    0
[15,]    7    2
[16,]    4    1
[17,]    2    0
[18,]    2    0
[19,]    2    0

Then Professor Ripley responded that the problem was not related to the
Windows port (as the original author implied) but to the amount of memory R
was started with.

I just ran some tests on this I have to report that I am getting crashes
every time I try this problem.
(1) On my WinNT machine I got up to
         Rgui.exe --vsize=220M --nsize=4000k
     which produces
> gc()
           free    total  (Mb)
Ncells  3857498  4000000  76.3
Vcells 28790374 28835840 220.0

and it still crashes with the "referenced memory cannot be read" message.  I
also noticed that the error message comes immediately, no matter how large
the
memory allocation is.  This machine is a Pentium Pro 200Mhz with 192Mb of
memory

(2) On my Linux box I can only go to about --vsize=120M --nsize=1000k.  This
is a Pentium MMX 266Mhz with 64Mb of memory.  The machine crashes
     after "thinking" for about 3 seconds.  It produces segmentation
violation error and dumps core.

It seems to me that, unless I have some unlucky machines, the problem is not
just handling too small memory allocation ungracefully.

Any comments will be appreciated,

Andy


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Sat Aug 26 02:00:07 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Fri, 25 Aug 2000 20:00:07 -0400
Subject: [R] unexpected R crash - again
References: <000501c00ed8$d8aa7b30$6f196382@mmm.com>
Message-ID: <00de01c00ef0$98b51cc0$0201a8c0@Workgroup>

If I recall Ripley said something about workspace but it was an internal arg
to the function as in

fisher.test(x, y = NULL, workspace = 200000, hybrid = FALSE,
            or = 1, alternative = "two.sided", conf.level = 0.95)

I think that it's this "workspace" argument he meant and should be
increased.

Regards.

----- Original Message -----
From: "Andy Jaworski" <apjaworski at mmm.com>
To: <r-help at stat.math.ethz.ch>
Sent: Friday, August 25, 2000 5:10 PM
Subject: [R] unexpected R crash - again


> Sorry, but I lost this thread, so I sending this as a new message.
>
> This is really a follow-up to a post from a couple days ago saying that
> fisher.test from the ctest library crashed on the following data set:
> > T
>       [,1] [,2]
>  [1,]    2    1
>  [2,]    2    1
>  [3,]    4    0
>  [4,]    8    0
>  [5,]    6    0
>  [6,]    0    0
>  [7,]    1    0
>  [8,]    1    1
>  [9,]    7    1
> [10,]    8    2
> [11,]    1    0
> [12,]    3    1
> [13,]    1    1
> [14,]    3    0
> [15,]    7    2
> [16,]    4    1
> [17,]    2    0
> [18,]    2    0
> [19,]    2    0
>
> Then Professor Ripley responded that the problem was not related to the
> Windows port (as the original author implied) but to the amount of memory
R
> was started with.
>
> I just ran some tests on this I have to report that I am getting crashes
> every time I try this problem.
> (1) On my WinNT machine I got up to
>          Rgui.exe --vsize=220M --nsize=4000k
>      which produces
> > gc()
>            free    total  (Mb)
> Ncells  3857498  4000000  76.3
> Vcells 28790374 28835840 220.0
>
> and it still crashes with the "referenced memory cannot be read" message.
I
> also noticed that the error message comes immediately, no matter how large
> the
> memory allocation is.  This machine is a Pentium Pro 200Mhz with 192Mb of
> memory
>
> (2) On my Linux box I can only go to about --vsize=120M --nsize=1000k.
This
> is a Pentium MMX 266Mhz with 64Mb of memory.  The machine crashes
>      after "thinking" for about 3 seconds.  It produces segmentation
> violation error and dumps core.
>
> It seems to me that, unless I have some unlucky machines, the problem is
not
> just handling too small memory allocation ungracefully.
>
> Any comments will be appreciated,
>
> Andy
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Aug 26 12:41:27 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Aug 2000 12:41:27 +0200
Subject: [R] unexpected R crash - again
In-Reply-To: "Andy Jaworski"'s message of "Fri, 25 Aug 2000 16:10:05 -0500"
References: <000501c00ed8$d8aa7b30$6f196382@mmm.com>
Message-ID: <x2g0nspanc.fsf@blueberry.kubism.ku.dk>

"Andy Jaworski" <apjaworski at mmm.com> writes:

> Sorry, but I lost this thread, so I sending this as a new message.
> 
> This is really a follow-up to a post from a couple days ago saying that
> fisher.test from the ctest library crashed on the following data set:
> > T
>       [,1] [,2]
>  [1,]    2    1
>  [2,]    2    1
>  [3,]    4    0
>  [4,]    8    0
>  [5,]    6    0
>  [6,]    0    0
>  [7,]    1    0
>  [8,]    1    1
>  [9,]    7    1
> [10,]    8    2
> [11,]    1    0
> [12,]    3    1
> [13,]    1    1
> [14,]    3    0
> [15,]    7    2
> [16,]    4    1
> [17,]    2    0
> [18,]    2    0
> [19,]    2    0
...
> (2) On my Linux box I can only go to about --vsize=120M --nsize=1000k.  This
> is a Pentium MMX 266Mhz with 64Mb of memory.  The machine crashes
>      after "thinking" for about 3 seconds.  It produces segmentation
> violation error and dumps core.
> 
> It seems to me that, unless I have some unlucky machines, the problem is not
> just handling too small memory allocation ungracefully.
> 
> Any comments will be appreciated,

Aha. So it also happens on Linux. That should make debugging it quite
a bit easier. Happens here as well, and the immediate cause is that

Program received signal SIGSEGV, Segmentation fault.
0x40f9e9f0 in f2xact (nrow=0x40f9afd0, ncol=0x40f9afc8, table=0x40f9adf8, 
    ldtabl=0x40f9ae90, expect=0x40f9ae88, percnt=0x40f9ae80, emin=0x40f9ae78, 
    prt=0x40f9ae70, pre=0x40f9ae68, fact=0x40fa5008, ico=0x40fa5264, 
    iro=0x40fa52b0, kyy=0x40fa52fc, idif=0x40fa5348, irn=0x40fa5350, 
    key=0x40fa6f40, ldkey=0x40fa46a4, ipoin=0x40fa82b0, stp=0x40fa9618, 
    ldstp=0x40fa46b0, ifrq=0x40ff2460, dlp=0x4105f9b8, dsp=0x41062098, 
    tm=0x41064778, key2=0x41066e60, iwk=0x40fa5358, rwk=0x40fa6218)
    at ../../../../../R/src/library/ctest/src/fexact.c:690
690         pastp = stp[ipn + ikstp];
(gdb) p ipn
$1 = -97902590

which in turn comes from 

689         ipn = ipoin[ipo + ikkey];

with ipo & ikkey both at 622,  seemingly sane.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yudi at stat.ucc.ie  Sat Aug 26 14:51:30 2000
From: yudi at stat.ucc.ie (Yudi Pawitan)
Date: Sat, 26 Aug 2000 13:51:30 +0100
Subject: exact test for large tables. Was: [R] unexpected R crash - again
In-Reply-To: <000501c00ed8$d8aa7b30$6f196382@mmm.com>
Message-ID: <3.0.1.32.20000826135130.006e2ea0@pop3.ucd.ie>


If you have an actual large table to analyse, rather 
than trying to solve the space problem, you may want 
to consider a MonteCarlo implementation 
of the exact test. Very easy to implement in R. See, 
for example, Lange's Numerical Analysis for Statisticians, 
Section 21.7.

-Yudi-


At 04:10 PM 8/25/00 -0500, Andy Jaworski <apjaworski at mmm.com>
 wrote:
>Sorry, but I lost this thread, so I sending this as a new message.
>
>This is really a follow-up to a post from a couple days ago saying that
>fisher.test from the ctest library crashed on the following data set:
>> T
>      [,1] [,2]
> [1,]    2    1
> [2,]    2    1
> [3,]    4    0
> [4,]    8    0
> [5,]    6    0
> [6,]    0    0
> [7,]    1    0
> [8,]    1    1
> [9,]    7    1
>[10,]    8    2
>[11,]    1    0
>[12,]    3    1
>[13,]    1    1
>[14,]    3    0
>[15,]    7    2
>[16,]    4    1
>[17,]    2    0
>[18,]    2    0
>[19,]    2    0
>
>Then Professor Ripley responded that the problem was not related to the
>Windows port (as the original author implied) but to the amount of memory R
>was started with.
>
>I just ran some tests on this I have to report that I am getting crashes
>every time I try this problem.
>(1) On my WinNT machine I got up to
>         Rgui.exe --vsize=220M --nsize=4000k
>     which produces
>> gc()
>           free    total  (Mb)
>Ncells  3857498  4000000  76.3
>Vcells 28790374 28835840 220.0
>
>and it still crashes with the "referenced memory cannot be read" message.  I
>also noticed that the error message comes immediately, no matter how large
>the
>memory allocation is.  This machine is a Pentium Pro 200Mhz with 192Mb of
>memory
>
>(2) On my Linux box I can only go to about --vsize=120M --nsize=1000k.  This
>is a Pentium MMX 266Mhz with 64Mb of memory.  The machine crashes
>     after "thinking" for about 3 seconds.  It produces segmentation
>violation error and dumps core.
>
>It seems to me that, unless I have some unlucky machines, the problem is not
>just handling too small memory allocation ungracefully.
>
>Any comments will be appreciated,
>
>Andy
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>
Yudi Pawitan     yudi at stat.ucc.ie
Department of Statistics UCC
Cork, Ireland
Ph   353-21-490 2906
Fax 353-21-427 1040 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Sat Aug 26 17:51:48 2000
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Sat, 26 Aug 2000 11:51:48 -0400
Subject: [R] R for psychology
Message-ID: <39A7E794.CE4E093D@cattell.psych.upenn.edu>

For those new to this list, I point out that Yuelin Li and
I have drafted an introduction to R for psychology, trying
to emphasize the things the psychologists usually do.  It
is at
http://www.psych.upenn.edu/~baron/rpsych.pdf
and
http://www.psych.upenn.edu/~baron/rpsych.htm
Because it is a draft, with frequent changes, we have not
yet asked for it to be placed in the CRAN page.  We welcome
suggestions for changes.

One thing I want to add to it is a discussion of Error() in
analysis of variance, once I understand it better myself.

On the topic of R for psychology, I should point out that
the two biggest gaps I see in what R can do are manova and
factor rotation.  Prof. Ripley pointed out recently that
"the various multivariate test statistics" are "not difficult
to write if you know the formulae and have a need," but this
leaves out the fact that most psychologists would be hard
pressed to find the formulae and even harder pressed to figure
out how to write functions in R.  Sad but true, even though
this sort of test is very common in some fields of psychology.
(In their defense, most of these people studied these tests
at some point and understand them, and have not bothered to
learn the formulae because they know they can rely on SPSS,
Systat, or SAS to do it for them.)  It is possible that the
multilm package might do some of what is needed, but I haven't
checked yet.

As for factor rotation, the same comments apply.  Jon Baron

http://www.sas.upenn.edu/~jbaron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Sat Aug 26 20:08:03 2000
From: feldesmanm at pdx.edu (Marc R. Feldesman)
Date: Sat, 26 Aug 2000 11:08:03 -0700
Subject: [R] Warning - Naive Question Alert
Message-ID: <4.3.2.7.2.20000826105808.00aec260@127.0.0.1>

In my research area, researchers are very stingy about sharing data.  In 
fact, they are frequently downright secretive about these 
morsels.  Typically, we get fed a diet of summary statistics and the 
assurance that the data are *normal* without any necessary documentation 
that they really are.

With that as background and assuming that the data really are normal, is 
there any way in R (or any of the S engines) to generate a data set that 
mimics exactly the summary properties reported in a published paper?  I 
know I can use rnorm() and mvrnorm() for this, but neither function will 
necessarily or very likely return a sample that has the *same* properties 
as the given population.  At best, I can sift though replicates until I 
find the one closest to the "original".   This approach doesn't seem very 
efficient or valid.  Is there another way to do this?




Dr. Marc R. Feldesman
email:  feldesmanm at pdx.edu
email:  feldesman at ibm.net
fax:    503-725-3905

"Don't know where I'm going.
Don't like where I've been.
There may be no exit.
But hell, I'm going in."  Jimmy Buffett

Powered by Superchoerus - the 700 MHz Coppermine Box

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Aug 26 21:16:30 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Aug 2000 21:16:30 +0200
Subject: [R] Warning - Naive Question Alert
In-Reply-To: "Marc R. Feldesman"'s message of "Sat, 26 Aug 2000 11:08:03 -0700"
References: <4.3.2.7.2.20000826105808.00aec260@127.0.0.1>
Message-ID: <x2wvh3bzox.fsf@blueberry.kubism.ku.dk>

"Marc R. Feldesman" <feldesmanm at pdx.edu> writes:

> With that as background and assuming that the data really are normal, is 
> there any way in R (or any of the S engines) to generate a data set that 
> mimics exactly the summary properties reported in a published paper?  I 
> know I can use rnorm() and mvrnorm() for this, but neither function will 
> necessarily or very likely return a sample that has the *same* properties 
> as the given population.  At best, I can sift though replicates until I 
> find the one closest to the "original".   This approach doesn't seem very 
> efficient or valid.  Is there another way to do this?

I've been using the following for a case where data were given in the
form of means and sd:

fake.trypsin<-local({
xrnorm<-function(n,xbar,s){
        t<-rnorm(n);t<-(t-mean(t))/sd(t);xbar+s*t}
g.1<-xrnorm(32,128,50.9)
g.2<-xrnorm(137,152,58.5)
g.3<-xrnorm(38,194,49.3)
g.4<-xrnorm(44,207,66.3)
g.5<-xrnorm(16,215,60)
g.6<-xrnorm(4,218,14)
trypsin<-c(g.1,g.2,g.3,g.4,g.5,g.6)
grp<-rep(1:6,c(32,137,38,44,16,4))
grpf<-factor(grp)
data.frame(trypsin,grp,grpf)})

The xrnorm function would seem to be something like what you're
getting at?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Aug 26 21:51:26 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 26 Aug 2000 20:51:26 +0100 (BST)
Subject: [R] R for psychology
In-Reply-To: <39A7E794.CE4E093D@cattell.psych.upenn.edu>
Message-ID: <Pine.GSO.4.05.10008262036460.13818-100000@auk.stats>

On Sat, 26 Aug 2000, Jonathan Baron wrote:

> For those new to this list, I point out that Yuelin Li and
> I have drafted an introduction to R for psychology, trying
> to emphasize the things the psychologists usually do.  It
> is at
> http://www.psych.upenn.edu/~baron/rpsych.pdf
> and
> http://www.psych.upenn.edu/~baron/rpsych.htm
> Because it is a draft, with frequent changes, we have not
> yet asked for it to be placed in the CRAN page.  We welcome
> suggestions for changes.
> 
> One thing I want to add to it is a discussion of Error() in
> analysis of variance, once I understand it better myself.
> 
> On the topic of R for psychology, I should point out that
> the two biggest gaps I see in what R can do are manova and
> factor rotation.  Prof. Ripley pointed out recently that
> "the various multivariate test statistics" are "not difficult
> to write if you know the formulae and have a need," but this
> leaves out the fact that most psychologists would be hard
> pressed to find the formulae and even harder pressed to figure
> out how to write functions in R.  Sad but true, even though
> this sort of test is very common in some fields of psychology.

You will now (well, tomorrow perhaps) find manova() and friends in the
R-devel version .... I had hoped that someone else would write them, but
got down to it myself this morning.  All my comments needed was *one*
person (Jonathan?) who has a need (I don't) and knows enough.  If that's
not what you want, we need to know more precisely what that is.  (It does
what S and the multivariate books I consulted suggested.)

Some nice examples for the help page would be appreciated.

> (In their defense, most of these people studied these tests
> at some point and understand them, and have not bothered to
> learn the formulae because they know they can rely on SPSS,
> Systat, or SAS to do it for them.)  It is possible that the
> multilm package might do some of what is needed, but I haven't
> checked yet.

(Don't think so. That does a multivariate test on the *overall* fit
of a multiple linear model, a much less interesting test.)

> As for factor rotation, the same comments apply.

Those are a little harder to do.  My main difficulty (apart from a lack of
interest) is lacking a definitive reference.  As far as I can see no two
sources entirely agree on their definitions.

To distill things to their essence, R is cooperative enterprise and things
are missing in the main because no one has supplied them. (Large parts of R
are there because I as a user wrote them and submitted them to R-core.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Aug 26 21:56:49 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 26 Aug 2000 20:56:49 +0100 (BST)
Subject: [R] Warning - Naive Question Alert
In-Reply-To: <x2wvh3bzox.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.4.05.10008262052230.13818-100000@auk.stats>

On 26 Aug 2000, Peter Dalgaard BSA wrote:

> "Marc R. Feldesman" <feldesmanm at pdx.edu> writes:
> 
> > With that as background and assuming that the data really are normal, is 
> > there any way in R (or any of the S engines) to generate a data set that 
> > mimics exactly the summary properties reported in a published paper?  I 
> > know I can use rnorm() and mvrnorm() for this, but neither function will 
> > necessarily or very likely return a sample that has the *same* properties 
> > as the given population.  At best, I can sift though replicates until I 
> > find the one closest to the "original".   This approach doesn't seem very 
> > efficient or valid.  Is there another way to do this?
> 
> I've been using the following for a case where data were given in the
> form of means and sd:
> 
> fake.trypsin<-local({
> xrnorm<-function(n,xbar,s){
>         t<-rnorm(n);t<-(t-mean(t))/sd(t);xbar+s*t}
> g.1<-xrnorm(32,128,50.9)
> g.2<-xrnorm(137,152,58.5)
> g.3<-xrnorm(38,194,49.3)
> g.4<-xrnorm(44,207,66.3)
> g.5<-xrnorm(16,215,60)
> g.6<-xrnorm(4,218,14)
> trypsin<-c(g.1,g.2,g.3,g.4,g.5,g.6)
> grp<-rep(1:6,c(32,137,38,44,16,4))
> grpf<-factor(grp)
> data.frame(trypsin,grp,grpf)})
> 
> The xrnorm function would seem to be something like what you're
> getting at?

I think Marc wants the multivariate equivalent, and that's just a little
trickier.  What I would do it to alter mvrnorm, which contains

matrix(rnorm(p * n), p)

What you want there is a matrix of exactly zero mean (so subtract the mean)
and identity empirical var (so the usual trick is to sphere the data
by taking principal components and re-scaling those).

(Marc: is that enough for you?  If not I will try to write and test some
code.)

Brian

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Sun Aug 27 01:39:51 2000
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Sat, 26 Aug 2000 19:39:51 -0400 (EDT)
Subject: [R] R for psychology
Message-ID: <200008262339.TAA05609@cattell.psych.upenn.edu>

I think multilm only does Hotelling's T^2, a useful test to
be sure, but not at all what we want for most things.  J
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Sun Aug 27 02:54:43 2000
From: Bill.Venables at cmis.csiro.au (Bill Venables)
Date: Sun, 27 Aug 2000 10:54:43 +1000
Subject: [R] Warning - Naive Question Alert
Message-ID: <3.0.32.20000827105440.0129b820@pophost.nsw.cmis.csiro.au>

At 11:08 26/08/00 -0700, Marc R. Feldesman wrote:
>In my research area, researchers are very stingy about sharing data.  In 
>fact, they are frequently downright secretive about these 
>morsels.  Typically, we get fed a diet of summary statistics and the 
>assurance that the data are *normal* without any necessary documentation 
>that they really are.
>
>With that as background and assuming that the data really are normal, is 
>there any way in R (or any of the S engines) to generate a data set that 
>mimics exactly the summary properties reported in a published paper?  I 
>know I can use rnorm() and mvrnorm() for this, but neither function will 
>necessarily or very likely return a sample that has the *same* properties 
>as the given population.  At best, I can sift though replicates until I 
>find the one closest to the "original".   This approach doesn't seem very 
>efficient or valid.  Is there another way to do this?
>

It's possible to give an answer to this that is in principle complete but
in practice almost useless:  You can do it if the summary statistics are
sufficient.  In that case the conditional distribution of the sample given
the sufficient statistics is independent of the parameter vector, so in
principle what you have to do is generate an instance of the conditional
distribution, put it together with the sufficient statistic and
re-constitute the instance of the original sample.

For a single normal sample the idea is simple enough.  Generate any normal
sample, standardize it by subtracting its sample mean and dividing by its
sample standard deviation.  This generates an instance of the conditional
distribution, which in this case is a uniform distribution over the
(n-2)-dimensional sphere.  Now just multiply by the summary statistic
standard deviation and add on the summary statistic mean and you have it.

Extending this to the multivariate case should not be all that difficult.
One way you could do it is generate any old multivariate normal sample of
the right dimension, "standardize" it by subtracting the mean and
multiplying by the inverse of a symmetric square root of the variance
matrix, then multiply by the same sort of square root of the given summary
statistic variance matrix and add back on the given sample mean.  [Warning:
I am doing this at the keyboard, ideally I would like a bit more time to
think about it...but I don't have that sort of time right now.  Caveat
emptor!]

>
>Dr. Marc R. Feldesman
>email:  feldesmanm at pdx.edu
>email:  feldesman at ibm.net
>fax:    503-725-3905
>
>"Don't know where I'm going.
> Don't like where I've been.
> There may be no exit.
> But hell, I'm going in."  Jimmy Buffett

"Work like you don't need the money,
 dance like there's no one watching, 
 love like you've never been hurt."  (Anon.)

Statisticians' addendum:
 "... and analyze like you have never been given rubbish data."  (Pippa S.)

Bill Venables.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Aug 27 08:00:12 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 27 Aug 2000 07:00:12 +0100 (BST)
Subject: [R] Warning - Naive Question Alert
In-Reply-To: <3.0.32.20000827105440.0129b820@pophost.nsw.cmis.csiro.au>
Message-ID: <Pine.GSO.4.05.10008270655070.14632-100000@auk.stats>

On Sun, 27 Aug 2000, Bill Venables wrote:

> Extending this to the multivariate case should not be all that difficult.
> One way you could do it is generate any old multivariate normal sample of
> the right dimension, "standardize" it by subtracting the mean and
> multiplying by the inverse of a symmetric square root of the variance
> matrix, then multiply by the same sort of square root of the given summary
> statistic variance matrix and add back on the given sample mean.  [Warning:
> I am doing this at the keyboard, ideally I would like a bit more time to
> think about it...but I don't have that sort of time right now.  Caveat
> emptor!]

Here's the code I promised, simplified:

mvrnorm <- function (n = 1, mu, Sigma, tol = 1e-06, empirical=FALSE)
{
    p <- length(mu)
    if (!all(dim(Sigma) == c(p, p))) stop("incompatible arguments")
    eS <- eigen(Sigma, sym = TRUE)
    ev <- eS$values
    if (!all(ev >= -tol * abs(ev[1]))) stop("Sigma is not positive definite")
    X <- matrix(rnorm(p * n), n)
    if(empirical) {
        X <- scale(X, T, F) # remove means
        X <- X %*% svd(X, nu = 0)$v # rotate to PCs
        X <- scale(X, F, T) # rescale PCs to unit variance 
    }
    X <- mu + eS$vectors %*% diag(sqrt(pmax(ev, 0))) %*% t(X)
    nm <- names(mu)
    if (is.null(nm) && !is.null(dn <- dimnames(Sigma))) nm <- dn[[1]]
    dimnames(X) <- list(nm, NULL)
    if (n == 1) drop(X) else t(X)
}

With empirical=TRUE you get the exact mu and Sigma in the sample.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Aug 27 13:23:42 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 Aug 2000 13:23:42 +0200
Subject: [R] unexpected R crash - again
In-Reply-To: Peter Dalgaard BSA's message of "26 Aug 2000 12:41:27 +0200"
References: <000501c00ed8$d8aa7b30$6f196382@mmm.com> <x2g0nspanc.fsf@blueberry.kubism.ku.dk>
Message-ID: <x2d7ivuev5.fsf@blueberry.kubism.ku.dk>

Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

> 690         pastp = stp[ipn + ikstp];
> (gdb) p ipn
> $1 = -97902590
> 
> which in turn comes from 
> 
> 689         ipn = ipoin[ipo + ikkey];
> 
> with ipo & ikkey both at 622,  seemingly sane.

..except that the ipoin array seems to be set up with a length of
1242, so the value gets overwritten by assignments to stp[1].

Unfortunately, the code is Fortran, converted by f2c so it is not
exactly simple to see whether this is a simple off-by-one error
somewhere or something more fundamentally wrong with the workspace
allocations. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Mon Aug 28 11:20:59 2000
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Mon, 28 Aug 2000 11:20:59 +0200
Subject: exact test for large tables. Was: [R] unexpected R crash -
  again
Message-ID: <3.0.32.20000828112053.008e7d70@162.38.183.200>

At 13:51 26/08/00 +0100, Yudi Pawitan wrote:
>
>If you have an actual large table to analyse, rather 
>than trying to solve the space problem, you may want 
>to consider a MonteCarlo implementation 
>of the exact test. Very easy to implement in R. See, 
>for example, Lange's Numerical Analysis for Statisticians, 
>Section 21.7.
>
>-Yudi-

Yes, but this does not seem to be a simple memory problem. I tested under
Solaris, and this works with fisher.test(T), and with fisher.test(T,
workspace=1e6) as well (with the default memory size). Under WinNT,
fisher.test(T, workspace=1e6) works fine. I did not suspect a memory
problem since the crash occurs only with _this_ sample but not with other
samples of similar size.

Emmanuel
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From spinazzi at databankgroup.it  Mon Aug 28 11:45:52 2000
From: spinazzi at databankgroup.it (Federico Spinazzi)
Date: Mon, 28 Aug 2000 10:45:52 +0100
Subject: R: [R] various ordinations
Message-ID: <008001c010d4$c118c0f0$0a00a8c0@bellview>


-----Messaggio originale-----
Da: Michael Camann <camann at babylon.cnrs.humboldt.edu>
A: r-help at stat.math.ethz.ch <r-help at stat.math.ethz.ch>
Data: marted? 22 agosto 2000 21.02
Oggetto: [R] various ordinations


>Colleagues,
>
>I'm developing a library of functions for community ecology analyses and
>have a couple of questions that I've not been able to answer via faqs or
>docs.


I'm also working on that, and I would like to integrate it in R.

>
>1) Are there existing functions for:
>
>    a) Bray-Curtis (polar) ordination?
I've written a DOS program some years ago and I've reworked the core code,
following E.Beals, 1984.

>    b) non-metric multidimensional scaling (NMDS)?
>    c) canonical correlation analyses (CCA and DCA)?
>    d) TWINSPAN (doubtful...)?


I've the sources of twinspan (I should search them ...). For the other I've
some matlab code, the code developed by Legendre.
However I think the right way would be to port the ADE-4
(http://pbil.univ-lyon1.fr/ADE-4/ADE-4.html)
programs to R.
I know that the source code is public, but I wasn' t able to obtain it two
years ago. As the developers have put links to S-PLUS and Rweb on the cited
web page, I think that a work carried mainly by an istitution could be
appreciated: it would mean to port to R some wonderful methods of data
ecological data analysis: I'm strongly interested in (doing) it.
I've a good background in C programming and in multivariate analysis: I
would like to help if needed and possible.

Regards,
Federico Spinazzi


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Charles.Raux at let.ish-lyon.cnrs.fr  Mon Aug 28 13:16:10 2000
From: Charles.Raux at let.ish-lyon.cnrs.fr (Charles RAUX)
Date: Mon, 28 Aug 2000 12:16:10 +0100
Subject: [R] Windows / RODBC / Accented characters
Message-ID: <5B8440355A2@let.ish-lyon.cnrs.fr>

A disturbing behaviour of R: an import of data using RODBC library 
(Windows 98, R 1.1.1) recognizes accented characters in variables 
names but these can't be manipulated further. See below:
> library(Rodbc)
> ch<-odbcConnect("Paradox Files")
> pollut<-sqlFetch(ch,Pollutio)
> pollut
  Mortalit? Densit? Pollution
1        82     600       110
2        97     960       140
3        76     570        90
......
> attach(pollut)
> summary(Pollution)
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
     90     120     160     160     190     250 
> summary(Mortalit?)
Error: syntax error

Is there another solution than changing the names of the fields under 
Paradox. Or RODBC package should be enhanced to automatically change 
the accented characters?

---------------
Charles RAUX,
Laboratoire d'Economie des Transports
CNRS-Universit? Lumi?re Lyon 2-ENTPE
email : charles.raux at let.ish-lyon.cnrs.fr
http://www.ish-lyon.cnrs.fr/let
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Aug 28 12:48:29 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 28 Aug 2000 12:48:29 +0200
Subject: [R] Windows / RODBC / Accented characters
In-Reply-To: "Charles RAUX"'s message of "Mon, 28 Aug 2000 12:16:10 +0100"
References: <5B8440355A2@let.ish-lyon.cnrs.fr>
Message-ID: <x2em39hdaa.fsf@blueberry.kubism.ku.dk>

"Charles RAUX" <Charles.Raux at let.ish-lyon.cnrs.fr> writes:

> A disturbing behaviour of R: an import of data using RODBC library 
> (Windows 98, R 1.1.1) recognizes accented characters in variables 
> names but these can't be manipulated further. See below:
> > library(Rodbc)
> > ch<-odbcConnect("Paradox Files")
> > pollut<-sqlFetch(ch,Pollutio)
> > pollut
>   Mortalit? Densit? Pollution
> 1        82     600       110
> 2        97     960       140
> 3        76     570        90
> ......
> > attach(pollut)
> > summary(Pollution)
>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
>      90     120     160     160     190     250 
> > summary(Mortalit?)
> Error: syntax error
> 
> Is there another solution than changing the names of the fields under 
> Paradox. Or RODBC package should be enhanced to automatically change 
> the accented characters?

The quick way out would be to say

pollut <- sqlFetch(ch,Pollutio)
names(pollut) <- c("Mortalitee", "Densitee", "Pollution")
attach(pollut)

Does make.names work on Windows? (I.e. does it agree with the parser
about what is a valid name?) If it does, then a more general solution
would be 

names(pollut) <- make.names(names(pollut))

although it would make the names a bit uglier: "Mortalit.", "Densit."
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sdimov at sbnd.net  Mon Aug 28 19:05:22 2000
From: sdimov at sbnd.net (Stoytcho Dimov)
Date: Mon, 28 Aug 2000 15:05:22 -0200
Subject: [R] Outsourcing of software development
Message-ID: <008b01c01084$1eb3a0f0$072c18c3@SBND>

Dear Sir or Madam,

I found your address when going through a research in Internet and would
like to introduce our company.

We are an outsourcing software development company from Bulgaria,
specializing in custom programming for American, Australian and Western
European companies. We offer high quality services at very low prices and
after the expansion of our firm we are looking for new clients and partners.

If you are interested in our services, I would be happy to provide you with
any information and references you may request.

For more information please visit our web site at www.sbnd.net

I look forward to hearing from you.



Best regards,
Stoytcho I. Dimov
CEO
SBND Technologies Ltd.
E-mail: sdimov at sbnd.net
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Mon Aug 28 14:14:28 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Mon, 28 Aug 2000 08:14:28 -0400
Subject: [R] Windows / RODBC / Accented characters
References: <5B8440355A2@let.ish-lyon.cnrs.fr>
Message-ID: <002a01c010e9$84021fd0$0201a8c0@Workgroup>

The simplest suggestion I can give is to use an sql statement in which you
make use of "as newfieldname". This will will change the names of the table
columns and you should be ok.

Regards

YG

----- Original Message -----
From: "Charles RAUX" <Charles.Raux at let.ish-lyon.cnrs.fr>
To: "r-help" <r-help at stat.math.ethz.ch>
Sent: Monday, August 28, 2000 7:16 AM
Subject: [R] Windows / RODBC / Accented characters


> A disturbing behaviour of R: an import of data using RODBC library
> (Windows 98, R 1.1.1) recognizes accented characters in variables
> names but these can't be manipulated further. See below:
> > library(Rodbc)
> > ch<-odbcConnect("Paradox Files")
> > pollut<-sqlFetch(ch,Pollutio)
> > pollut
>   Mortalit? Densit? Pollution
> 1        82     600       110
> 2        97     960       140
> 3        76     570        90
> ......
> > attach(pollut)
> > summary(Pollution)
>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.
>      90     120     160     160     190     250
> > summary(Mortalit?)
> Error: syntax error
>
> Is there another solution than changing the names of the fields under
> Paradox. Or RODBC package should be enhanced to automatically change
> the accented characters?
>
> ---------------
> Charles RAUX,
> Laboratoire d'Economie des Transports
> CNRS-Universit? Lumi?re Lyon 2-ENTPE
> email : charles.raux at let.ish-lyon.cnrs.fr
> http://www.ish-lyon.cnrs.fr/let
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Charles.Raux at let.ish-lyon.cnrs.fr  Mon Aug 28 15:41:54 2000
From: Charles.Raux at let.ish-lyon.cnrs.fr (Charles RAUX)
Date: Mon, 28 Aug 2000 14:41:54 +0100
Subject: [R] Windows / Accented characters / pb with makename
In-Reply-To: <x2em39hdaa.fsf@blueberry.kubism.ku.dk>
References: "Charles RAUX"'s message of "Mon, 28 Aug 2000 12:16:10 +0100"
Message-ID: <5BAB1A6155D@let.ish-lyon.cnrs.fr>

Thank you for the hint (I didn't know makename). In fact contrary to 
what is indicated in help makename doesn't give legal R names 
(at least under Windows).
See below:

> make.names("a?a?a?a?????")
[1] "a?a?a?a?????"

2) What is a "legal R name"? (found nowhere in FAQ, help...)

Le 28 Aug 00 ? 12:48, Peter Dalgaard BSA ?crivait:

> To:            "Charles RAUX" <Charles.Raux at let.ish-lyon.cnrs.fr>
> Cc:            r-help <r-help at stat.math.ethz.ch>
> Subject:       Re: [R] Windows / RODBC / Accented characters
> From:          Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk>
> Date:          28 Aug 2000 12:48:29 +0200

> "Charles RAUX" <Charles.Raux at let.ish-lyon.cnrs.fr> writes:
> 
> > A disturbing behaviour of R: an import of data using RODBC library 
> > (Windows 98, R 1.1.1) recognizes accented characters in variables 
> > names but these can't be manipulated further. See below:
> > > library(Rodbc)
> > > ch<-odbcConnect("Paradox Files")
> > > pollut<-sqlFetch(ch,Pollutio)
> > > pollut
> >   Mortalit? Densit? Pollution
> > 1        82     600       110
> > 2        97     960       140
> > 3        76     570        90
> > ......
> > > attach(pollut)
> > > summary(Pollution)
> >    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
> >      90     120     160     160     190     250 
> > > summary(Mortalit?)
> > Error: syntax error
> > 
> > Is there another solution than changing the names of the fields under 
> > Paradox. Or RODBC package should be enhanced to automatically change 
> > the accented characters?
> 
> The quick way out would be to say
> 
> pollut <- sqlFetch(ch,Pollutio)
> names(pollut) <- c("Mortalitee", "Densitee", "Pollution")
> attach(pollut)
> 
> Does make.names work on Windows? (I.e. does it agree with the parser
> about what is a valid name?) If it does, then a more general solution
> would be 
> 
> names(pollut) <- make.names(names(pollut))
> 
> although it would make the names a bit uglier: "Mortalit.", "Densit."
> -- 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ukans.edu  Mon Aug 28 15:31:51 2000
From: pauljohn at ukans.edu (Paul E Johnson)
Date: Mon, 28 Aug 2000 08:31:51 -0500
Subject: [R] R function calling. Do I understand this right?
Message-ID: <39AA69C7.A79AF3F4@ukans.edu>

I need to write a nonhierarchical clustering routine and I'm studying
the way hclust (in the mva library) is built in R to see how things are
done and what I can modify. I ran f2c on the hclust.f file (so I could
read it in a language I know!) and there is one thing I don't quite
understand about the way it gets called and the way it returns values. 
That Fortran function gets called in hclust.R, like this:

hclust <- function(d, method="complete")
{
	<snip>
    n <- attr(d, "Size")
    if(is.null(n))
	stop("invalid dissimilarities")
    labels <- attr(d, "Labels")

    len <- n*(n-1)/2
    hcl <- .Fortran("hclust",
		    n = as.integer(n),
		    len = as.integer(len),
		    method = as.integer(method),
		    ia = integer(n),
		    ib = integer(n),
		    crit = double(n),
		    membr = double(n),
		    nn = integer(n),
		    disnn = double(n),
		    flag = logical(n),
		    diss = as.double(d), PACKAGE="mva")
	<snip>

In this call, the "actual data" input is an integer "n", an integer
"len", an integer "method", and "diss", which is the vector obtained by
coercing bottom left part of a dissimiliarty matrix into a vector of
doubles. 

So, I believe that means d is like this

       
x     x  x
1.1   x  x
3.3  4.4  x

And diss is {1.1,3.3,4.4}

Now here is the qustion. All of the other variables listed as input,
ia,ib, crit,membr,nn,disnn, and flag, are just empty vectors being
passed through to be used inside the hclust function. Right?  And the
changes made in those vectors inside the Fortran function are permanent,
so the other functions in the hclust.R file can use those values?  (like
passing in a pointer in C?)

-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science            http://lark.cc.ukans.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Mon Aug 28 16:43:30 2000
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Mon, 28 Aug 2000 16:43:30 +0200 (CEST)
Subject: [R] R function calling. Do I understand this right?
In-Reply-To: <39AA69C7.A79AF3F4@ukans.edu>
References: <39AA69C7.A79AF3F4@ukans.edu>
Message-ID: <14762.31378.12452.142576@galadriel.ci.tuwien.ac.at>

>>>>> On Mon, 28 Aug 2000 08:31:51 -0500,
>>>>> Paul E Johnson (PEJ) wrote:

PEJ> I need to write a nonhierarchical clustering routine and I'm studying
PEJ> the way hclust (in the mva library) is built in R to see how things are
PEJ> done and what I can modify. I ran f2c on the hclust.f file (so I could
PEJ> read it in a language I know!) and there is one thing I don't quite
PEJ> understand about the way it gets called and the way it returns values. 
PEJ> That Fortran function gets called in hclust.R, like this:

PEJ> hclust <- function(d, method="complete")
PEJ> {
PEJ> 	<snip>
PEJ>     n <- attr(d, "Size")
PEJ>     if(is.null(n))
PEJ> 	stop("invalid dissimilarities")
PEJ>     labels <- attr(d, "Labels")

PEJ>     len <- n*(n-1)/2
PEJ>     hcl <- .Fortran("hclust",
PEJ> 		    n = as.integer(n),
PEJ> 		    len = as.integer(len),
PEJ> 		    method = as.integer(method),
PEJ> 		    ia = integer(n),
PEJ> 		    ib = integer(n),
PEJ> 		    crit = double(n),
PEJ> 		    membr = double(n),
PEJ> 		    nn = integer(n),
PEJ> 		    disnn = double(n),
PEJ> 		    flag = logical(n),
PEJ> 		    diss = as.double(d), PACKAGE="mva")
PEJ> 	<snip>

PEJ> In this call, the "actual data" input is an integer "n", an integer
PEJ> "len", an integer "method", and "diss", which is the vector obtained by
PEJ> coercing bottom left part of a dissimiliarty matrix into a vector of
PEJ> doubles. 

PEJ> So, I believe that means d is like this

       
PEJ> x     x  x
PEJ> 1.1   x  x
PEJ> 3.3  4.4  x

PEJ> And diss is {1.1,3.3,4.4}

yes:

R> d <- dist(matrix(1:10,5))
R> d
  1 2 3 4
2 1      
3 2 1    
4 3 2 1  
5 4 3 2 1
R> as.double(d)
 [1] 1 2 3 4 1 2 3 1 2 1



PEJ> Now here is the qustion. All of the other variables listed as input,
PEJ> ia,ib, crit,membr,nn,disnn, and flag, are just empty vectors being
PEJ> passed through to be used inside the hclust function. Right?  And the
PEJ> changes made in those vectors inside the Fortran function are permanent,
PEJ> so the other functions in the hclust.R file can use those values?  (like
PEJ> passing in a pointer in C?)

well, yes and no: a call to .C or .Fortran returns a list with the
modified vectors (and the originals are not modified). only if you set
DUP=FALSE this duplication is not performed (but using this is not
recommended, see the help page of .C).

All these issues are explained in detail in the ``Writing R
Extensions'' manual which comes with the sources of R or can be
downloaded from CRAN.

.f


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pvlad at bigfoot.com  Mon Aug 28 18:25:44 2000
From: pvlad at bigfoot.com (Vlad)
Date: Mon, 28 Aug 2000 11:25:44 -0500
Subject: [R] smp in Linux
Message-ID: <39AA9288.7A08C4E3@bigfoot.com>

Hello,
I checked mail list archives and this topic came up before in March '99
(about ability of R to multithread).
At that time rossini at biostat.washington.edu (Tom Rossini)
suggested to check his web page in a few month as it was on
his list to-do.  I checked but the web page is not valid.

I wanted to know if in general progress has been made in the area,
or if it is planned.
I was also wondering if it is possible to use R from a C++ program.
Specifically if it is possible to ask R to run a given R-program
from withing a posix thread (on linux) without providing a Mutex that
would serialise access to R process.
If R does not use any global variables /shared memory or
other global resources this would be possible -- else it will not be.

I am asking because for performance reason, I would like
to read and manipulate sample data in a multithreaded
C++ program, while living the stat. analysis for R.  (I  do not
want to format data, dump it in to a file and then read it back from R.
The disk (I/O) activities in such approach is too time consuming.  I
would
however use shared memory regions, if R allows to read data from there.)

Unrelated question: is the above possible with Splus v. 5?
(I did review the R FAQ but did not find this as one
of the differences)

Thanks in advance,
Vlad

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Mon Aug 28 17:37:21 2000
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Mon, 28 Aug 2000 11:37:21 -0400
Subject: exact test for large tables. Was: [R] unexpected R crash - again
References: <3.0.1.32.20000826135130.006e2ea0@pop3.ucd.ie>
Message-ID: <39AA8731.9B08DF62@umsanet.edu.bo>

Hola!

But this is already implemented in R, look at ?chisq.test
(but say library(ctest) first.)  This uses patefields 
algorithm from 1981, which simulates the contingency table conditional
on
its marginals, and is very fast.

Kjetil Halvorsen.

Yudi Pawitan wrote:
> 
> If you have an actual large table to analyse, rather
> than trying to solve the space problem, you may want
> to consider a MonteCarlo implementation
> of the exact test. Very easy to implement in R. See,
> for example, Lange's Numerical Analysis for Statisticians,
> Section 21.7.
> 
> -Yudi-
> 
> At 04:10 PM 8/25/00 -0500, Andy Jaworski <apjaworski at mmm.com>
>  wrote:
> >Sorry, but I lost this thread, so I sending this as a new message.
> >
> >This is really a follow-up to a post from a couple days ago saying that
> >fisher.test from the ctest library crashed on the following data set:
> >> T
> >      [,1] [,2]
> > [1,]    2    1
> > [2,]    2    1
> > [3,]    4    0
> > [4,]    8    0
> > [5,]    6    0
> > [6,]    0    0
> > [7,]    1    0
> > [8,]    1    1
> > [9,]    7    1
> >[10,]    8    2
> >[11,]    1    0
> >[12,]    3    1
> >[13,]    1    1
> >[14,]    3    0
> >[15,]    7    2
> >[16,]    4    1
> >[17,]    2    0
> >[18,]    2    0
> >[19,]    2    0
> >
> >Then Professor Ripley responded that the problem was not related to the
> >Windows port (as the original author implied) but to the amount of memory R
> >was started with.
> >
> >I just ran some tests on this I have to report that I am getting crashes
> >every time I try this problem.
> >(1) On my WinNT machine I got up to
> >         Rgui.exe --vsize=220M --nsize=4000k
> >     which produces
> >> gc()
> >           free    total  (Mb)
> >Ncells  3857498  4000000  76.3
> >Vcells 28790374 28835840 220.0
> >
> >and it still crashes with the "referenced memory cannot be read" message.  I
> >also noticed that the error message comes immediately, no matter how large
> >the
> >memory allocation is.  This machine is a Pentium Pro 200Mhz with 192Mb of
> >memory
> >
> >(2) On my Linux box I can only go to about --vsize=120M --nsize=1000k.  This
> >is a Pentium MMX 266Mhz with 64Mb of memory.  The machine crashes
> >     after "thinking" for about 3 seconds.  It produces segmentation
> >violation error and dumps core.
> >
> >It seems to me that, unless I have some unlucky machines, the problem is not
> >just handling too small memory allocation ungracefully.
> >
> >Any comments will be appreciated,
> >
> >Andy
> >
> >
> >-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> .-.-
> >r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> >Send "info", "help", or "[un]subscribe"
> >(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> ._._
> >
> Yudi Pawitan     yudi at stat.ucc.ie
> Department of Statistics UCC
> Cork, Ireland
> Ph   353-21-490 2906
> Fax 353-21-427 1040
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Mon Aug 28 17:39:01 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Mon, 28 Aug 2000 08:39:01 -0700 (PDT)
Subject: [R] smp in Linux
In-Reply-To: <39AA9288.7A08C4E3@bigfoot.com>
Message-ID: <Pine.GSO.4.21.0008280830420.17268-100000@atlas.biostat.washington.edu>

On Mon, 28 Aug 2000, Vlad wrote:

> Hello,
> I checked mail list archives and this topic came up before in March '99
> (about ability of R to multithread).
> At that time rossini at biostat.washington.edu (Tom Rossini) 

(?Tony Rossini). He's not doing it.

> suggested to check his web page in a few month as it was on
> his list to-do.  I checked but the web page is not valid.
> 
> I wanted to know if in general progress has been made in the area,
> or if it is planned.
> I was also wondering if it is possible to use R from a C++ program.
> Specifically if it is possible to ask R to run a given R-program
> from withing a posix thread (on linux) without providing a Mutex that
> would serialise access to R process.

No. You need to make sure that only one thread calls R, which means having
some sort of handler to queue the commands.  This is what we do for 
Tcl/Tk events and (I believe) for the Windows GUI.  

I don't think there are any plans to thoroughly multithread R.  Having
a few bits of it run on separate threads has been suggested, but
multithreading the whole thing would be difficult.


> I am asking because for performance reason, I would like
> to read and manipulate sample data in a multithreaded
> C++ program, while living the stat. analysis for R.  (I  do not
> want to format data, dump it in to a file and then read it back from R.
> The disk (I/O) activities in such approach is too time consuming.  I
> would
> however use shared memory regions, if R allows to read data from there.)

You can read and write directly into R objects (documented in "Writing R
Extensions") as long as you are careful about the garbage collector.
 
> Unrelated question: is the above possible with Splus v. 5?

This is not the best place to ask this question. I think the answer is
no. Duncan Temple Lang got S version 4 to multithread (or nearly?) but I
don't think S-PLUS ever has.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Mon Aug 28 17:44:32 2000
From: rossini at blindglobe.net (A.J. Rossini)
Date: 28 Aug 2000 08:44:32 -0700
Subject: [R] smp in Linux
In-Reply-To: <39AA9288.7A08C4E3@bigfoot.com>
 (Vlad's message of "Mon, 28 Aug 2000 11:25:44 -0500")
References: <39AA9288.7A08C4E3@bigfoot.com>
Message-ID: <87lmxhmlun.fsf@jeeves.blindglobe.net>

>>>>> "V" == Vlad  <pvlad at bigfoot.com> writes:

    V> Hello, I checked mail list archives and this topic came up
    V> before in March '99 (about ability of R to multithread).  At
    V> that time rossini at biostat.washington.edu (Tom Rossini)
    V> suggested to check his web page in a few month as it was on his
    V> list to-do.

I believe that some of the concerns that you have can be addressed by
a design via the Omegahat CORBA interface for R.

    V> Unrelated question: is the above possible with Splus v. 5?  (I
    V> did review the R FAQ but did not find this as one of the
    V> differences)

Nope.  I know there was once a variant of S4 with threads, but I'm not
sure what the status there was (last I tried, which was last spring,
it was broken, but for various reasons, see below, not really worth
following up on for me at the time.

It's really a design issue.  What I was interested at the time was
more of a PVM/MPI type interface; however, I've shown (at least to
myself) that a redesign of the problem will solve most of the problems
I was looking at using threads to solve.  (i.e. CORBA style
approaches).

I'm sure Duncan can comment more, as I believe he's had a similar
revelation (and in fact started me down towards that conclusion).  I
know that some people are looking at threading R, but it's not clear
to me why that would be a win-win solution.

As far as threading within R, I'm sure some of the R-core people could
discuss this further, as well...

My advice is to step back and look at the problem and the design you are
contemplating, and evaluate numerous solutions.  Then ask yourself how
much (realistically, i.e. actually code a toy case out in Java or
pthreads/C[*]) and see what the gain is.  

It might be aesthetic, it might be "coolness", but it's not clear that
the gain will be in fact practical without the particular experiments
being done.  Threads and parallelization are nice, but aren't a
uniformly positive increase.

Not that it wouldn't be cool, but...?

best,
-tony

(On vacation, until Sept 1).

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
BlindGlobe Networks (home/default)	rossini at blindglobe.net	
UW Biostat/Center for AIDS Research	rossini at biostat.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org

CFAR:   M/F: 206-731-3647 (fax=3694) | Email is far better than phone
FHCRC: Tu/W: 206-667-7025 (fax=4812) | Voicemail is pretty sketchy
UW:      Th: 206-543-1044 (fax=3286) | Change last 4 digits of phone for fax
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Dominic_Barraclough at urmc.rochester.edu  Mon Aug 28 18:58:45 2000
From: Dominic_Barraclough at urmc.rochester.edu (Dominic_Barraclough@urmc.rochester.edu)
Date: Mon, 28 Aug 2000 12:58:45 -0400
Subject: [R] is win.print() broken or am I doing something wrong?
Message-ID: <39AA6205.7769.F458DDC@localhost>

I am trying to print a graph

> plot(y=atestplot$b,x=atestplot$a, type="s")
> win.print()

This leads to a windows print dialog box- that diappears when i hit 
print. subquently  i find  a 
"GraphAppJob" of zero size in the print queue- this just sits until I 
enter 
dev.off()
at which point a blank sheet is printed
Is it me or is this a bug?

Incidentally if i just select the print button when the plot is selected 
immediately after producing the plot it prints just fine

Dominic



Dr Dominic J Barraclough
Dept Neurobiology and Anatomy,
University of Rochester,
601 Elmwood Av, Box 603,
Rochester 
NY 14642
tel (716) 2753627
dominic_barraclough at urmc.rochester.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Mon Aug 28 19:14:47 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Mon, 28 Aug 2000 10:14:47 -0700 (PDT)
Subject: [R] is win.print() broken or am I doing something wrong?
In-Reply-To: <39AA6205.7769.F458DDC@localhost>
Message-ID: <Pine.GSO.4.21.0008281011560.17268-100000@atlas.biostat.washington.edu>

On Mon, 28 Aug 2000 Dominic_Barraclough at urmc.rochester.edu wrote:

> I am trying to print a graph
> 
> > plot(y=atestplot$b,x=atestplot$a, type="s")
> > win.print()
> 
> This leads to a windows print dialog box- that diappears when i hit 
> print. subquently  i find  a 
> "GraphAppJob" of zero size in the print queue- this just sits until I 
> enter 
> dev.off()
> at which point a blank sheet is printed
> Is it me or is this a bug?

It's you :).  win.print() does not print the current plot. It creates a
new plot on a windows printer. So when you do win.print() nothing happens
until you plot something and close the device. Then it prints whatever you
plotted (in your case, nothing).

I think you are looking for dev.print/dev.copy.

> 
> Incidentally if i just select the print button when the plot is selected 
> immediately after producing the plot it prints just fine

Yes.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Dominic_Barraclough at urmc.rochester.edu  Mon Aug 28 19:31:10 2000
From: Dominic_Barraclough at urmc.rochester.edu (Dominic_Barraclough@urmc.rochester.edu)
Date: Mon, 28 Aug 2000 13:31:10 -0400
Subject: [R] is win.print() broken or am I doing something wrong?
In-Reply-To: <Pine.GSO.4.21.0008281011560.17268-100000@atlas.biostat.washington.edu>
References: <39AA6205.7769.F458DDC@localhost>
Message-ID: <39AA699E.32525.F633F24@localhost>

Thankyou for the prompt reply and the redirection (back to trying 
dev.print- i had tried it but it did not seem to do what i wanted)

Next question - 
I have now played with dev.print- and have been able to get my 
graph out to a postscript file but what i really would like to do is to 
print directly to the printer - can this be done? I assume (hope) it 
must be possible , given that R is at least some level aware of  
printing in a windows enviroment, if not I will have to revert back to 
driving  excel with python via com :-(  .

Dominic




Dr Dominic J Barraclough
Dept Neurobiology and Anatomy,
University of Rochester,
601 Elmwood Av, Box 603,
Rochester 
NY 14642
tel (716) 2753627
dominic_barraclough at urmc.rochester.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Mon Aug 28 21:33:01 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Mon, 28 Aug 2000 12:33:01 -0700 (PDT)
Subject: [R] is win.print() broken or am I doing something wrong?
In-Reply-To: <39AA699E.32525.F633F24@localhost>
Message-ID: <Pine.GSO.4.21.0008281138080.17268-100000@atlas.biostat.washington.edu>

On Mon, 28 Aug 2000 Dominic_Barraclough at urmc.rochester.edu wrote:

> Thankyou for the prompt reply and the redirection (back to trying 
> dev.print- i had tried it but it did not seem to do what i wanted)
> 
> Next question - 
> I have now played with dev.print- and have been able to get my 
> graph out to a postscript file but what i really would like to do is to 
> print directly to the printer - can this be done? I assume (hope) it 
> must be possible , given that R is at least some level aware of  
> printing in a windows enviroment, if not I will have to revert back to 
> driving  excel with python via com :-(  .

You can use win.print for this, you just have to do your plotting *after*
you start it

eg

win.print()
plot(this)
plot(that)
plot(the.other.thing)
dev.off()

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Dominic_Barraclough at urmc.rochester.edu  Mon Aug 28 23:09:52 2000
From: Dominic_Barraclough at urmc.rochester.edu (Dominic_Barraclough@urmc.rochester.edu)
Date: Mon, 28 Aug 2000 17:09:52 -0400
Subject: [R] is win.print() broken or am I doing something wrong?
In-Reply-To: <Pine.GSO.4.21.0008281138080.17268-100000@atlas.biostat.washington.edu>
References: <39AA699E.32525.F633F24@localhost>
Message-ID: <39AA9CE0.606.A3896@localhost>

On 28 Aug 2000, at 12:33, Thomas Lumley wrote:

On Mon, 28 Aug 2000 Dominic_Barraclough at urmc.rochester.edu wrote:




You can use win.print for this, you just have to do your plotting *after*
you start it

eg

win.print()
plot(this)
plot(that)
plot(the.other.thing)
dev.off()




Initially this did not seem to work either - however after purifying the 
machine- ie a reboot - things worked as promise although I find it 
rather  odd having to hit ok in the  print dialog before making the 
item to be printed - Is there some parameter to set so that this 
dialog does not need to appear and printing can occur 
automatically. 

Thankyou for your rapid response
Much appreciated

Dominic


	-thomas
Dr Dominic J Barraclough
Dept Neurobiology and Anatomy,
University of Rochester,
601 Elmwood Av, Box 603,
Rochester 
NY 14642
tel (716) 2753627
dominic_barraclough at urmc.rochester.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Mon Aug 28 23:17:01 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Mon, 28 Aug 2000 14:17:01 -0700 (PDT)
Subject: [R] is win.print() broken or am I doing something wrong?
In-Reply-To: <39AA9CE0.606.A3896@localhost>
Message-ID: <Pine.GSO.4.21.0008281415580.17268-100000@atlas.biostat.washington.edu>

On Mon, 28 Aug 2000 Dominic_Barraclough at urmc.rochester.edu wrote:


> 
> Initially this did not seem to work either - however after purifying the 
> machine- ie a reboot - things worked as promise although I find it 
> rather  odd having to hit ok in the  print dialog before making the 
> item to be printed - Is there some parameter to set so that this 
> dialog does not need to appear and printing can occur 
> automatically. 

I don't know -- you would need someone who knows more about the windows
port than I do.  

	-thomas



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aspuru at okra.cchem.berkeley.edu  Tue Aug 29 02:44:29 2000
From: aspuru at okra.cchem.berkeley.edu (Alan Aspuru-Guzik)
Date: Mon, 28 Aug 2000 17:44:29 -0700 (PDT)
Subject: [R] Newbie question: Linear regression with error bars.
Message-ID: <Pine.LNX.4.10.10008281728230.26605-100000@okra.cchem.berkeley.edu>


Hello guys,
I am a total newbie on R, having downloaded it, read the documentation and
started playing with it right now.

My general question is what 'lr' model can be used for doing a linear
regression on points that have a variance associated with them (ie. Monte
Carlo simulation results).

Actually my Data sets look like:

Timestep Energy Variance_of_the_Energy
0.0005 -14.876840 0.000670 
0.001 -14.883960 0.000670 
0.002 -14.887360 0.000700 
0.05 -14.888730 0.000430 
0.1 nan nan 

And what I want to do is to obtain the intercept of the best possible
linear fit (weeding out outliers if necessary) but having the intercept
with an associated error bar.

What I managed to do today is read the files from a table and learn how to
access the columns of the data frame . And managed to do a linear
regression of the type x ~ y with normal vectors.

I will eventually will like to use something like the leaps package
(regression subset selection) and then do a linear regression including
the error bars with the best points obtained by the 'leaps' package.

The specific questions are:
x. How can I Convert a data frame's column into a vector?
x. Now that I have the vectors, how can I specify a linear model of a
linear regression with associated variances?

Thanks a lot in advance!!

Alan Aspuru-Guzik

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug 29 08:06:25 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 29 Aug 2000 07:06:25 +0100 (BST)
Subject: [R] is win.print() broken or am I doing something wrong?
In-Reply-To: <Pine.GSO.4.21.0008281415580.17268-100000@atlas.biostat.washington.edu>
Message-ID: <Pine.GSO.4.05.10008290705240.15920-100000@auk.stats>

On Mon, 28 Aug 2000, Thomas Lumley wrote:

> On Mon, 28 Aug 2000 Dominic_Barraclough at urmc.rochester.edu wrote:
> 
> 
> > 
> > Initially this did not seem to work either - however after purifying the 
> > machine- ie a reboot - things worked as promise although I find it 
> > rather  odd having to hit ok in the  print dialog before making the 
> > item to be printed - Is there some parameter to set so that this 
> > dialog does not need to appear and printing can occur 
> > automatically. 
> 
> I don't know -- you would need someone who knows more about the windows
> port than I do.  

No. That is Windows, not R asking you to select a printer.  I've never seen
an application that did not need this.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Aug 29 08:17:52 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 29 Aug 2000 08:17:52 +0200
Subject: [R] is win.print() broken or am I doing something wrong?
References: <Pine.GSO.4.21.0008281415580.17268-100000@atlas.biostat.washington.edu>
Message-ID: <39AB5590.52002F05@statistik.uni-dortmund.de>

Thomas Lumley wrote:
> 
> On Mon, 28 Aug 2000 Dominic_Barraclough at urmc.rochester.edu wrote:
> 
> >
> > Initially this did not seem to work either - however after purifying the
> > machine- ie a reboot - things worked as promise although I find it
> > rather  odd having to hit ok in the  print dialog before making the
> > item to be printed - Is there some parameter to set so that this
> > dialog does not need to appear and printing can occur
> > automatically.
 
It is not possible to print automatically using win.print(.), I think.
My suggestion:
Download the 'RedMon' suit and use the postscript device, so printing
will work automatically. Have a look at ?postscript for more details.


Regards,
Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug 29 08:27:55 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 29 Aug 2000 07:27:55 +0100 (BST)
Subject: [R] Windows / Accented characters / pb with makename
In-Reply-To: <5BAB1A6155D@let.ish-lyon.cnrs.fr>
Message-ID: <Pine.GSO.4.05.10008290716020.15920-100000@auk.stats>

On Mon, 28 Aug 2000, Charles RAUX wrote:

> Thank you for the hint (I didn't know makename). In fact contrary to 
> what is indicated in help makename doesn't give legal R names 
> (at least under Windows).
> See below:
> 
> > make.names("aéaéaéaùàééé")
> [1] "aéaéaéaùàééé"
> 
> 2) What is a "legal R name"? (found nowhere in FAQ, help...)

That's the problem. In S it is a-zA-Z0-9 plus `.'.  In R it would appear to
be those characters which are regarded as alphanumeric in the locale in use
plus `.' (Via a call to isalnum in both make.names and the parser.) Now
it's hard for me to test this, but I think in a French locale those chars
should be legal in names.  They are not in the C or en_UK locales, and
make.names on Windows does work in those locales.

There is something rather peculiar about locale support on Windows,
and for 1.2.0 R will have ways to override this.  Can someone who
has a non-C Unix locale let me know if there the non-English letters
are valid in names?   (What my experiments would suggest is that
Windows messed up the locale setting, and that may still be the case.)

I had two suggestions to offer:

a) You can use non-legal names by quoting them. So

summary(pollut$"Mortalite")  (my mailer loses the accented char)

should work.

b) Use chartr to translate the accented chars to their non-accented
equivalents.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug 29 08:47:11 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 29 Aug 2000 07:47:11 +0100 (BST)
Subject: [R] R function calling. Do I understand this right?
In-Reply-To: <39AA69C7.A79AF3F4@ukans.edu>
Message-ID: <Pine.GSO.4.05.10008290742550.15920-100000@auk.stats>

On Mon, 28 Aug 2000, Paul E Johnson wrote:

> I need to write a nonhierarchical clustering routine and I'm studying
> the way hclust (in the mva library) is built in R to see how things are
> done and what I can modify. I ran f2c on the hclust.f file (so I could
> read it in a language I know!) and there is one thing I don't quite
> understand about the way it gets called and the way it returns values. 
> That Fortran function gets called in hclust.R, like this:
> 
> hclust <- function(d, method="complete")
> {
> 	<snip>
>     n <- attr(d, "Size")
>     if(is.null(n))
> 	stop("invalid dissimilarities")
>     labels <- attr(d, "Labels")
> 
>     len <- n*(n-1)/2
>     hcl <- .Fortran("hclust",
> 		    n = as.integer(n),
> 		    len = as.integer(len),
> 		    method = as.integer(method),
> 		    ia = integer(n),
> 		    ib = integer(n),
> 		    crit = double(n),
> 		    membr = double(n),
> 		    nn = integer(n),
> 		    disnn = double(n),
> 		    flag = logical(n),
> 		    diss = as.double(d), PACKAGE="mva")
> 	<snip>
> 
> In this call, the "actual data" input is an integer "n", an integer
> "len", an integer "method", and "diss", which is the vector obtained by
> coercing bottom left part of a dissimiliarty matrix into a vector of
> doubles. 
> 
> So, I believe that means d is like this
> 
>        
> x     x  x
> 1.1   x  x
> 3.3  4.4  x
> 
> And diss is {1.1,3.3,4.4}
> 
> Now here is the qustion. All of the other variables listed as input,
> ia,ib, crit,membr,nn,disnn, and flag, are just empty vectors being
> passed through to be used inside the hclust function. Right?  And the
> changes made in those vectors inside the Fortran function are permanent,
> so the other functions in the hclust.R file can use those values?  (like
> passing in a pointer in C?)

No.  Copies of variables are made on entry and on exit. Thus the .C
call returns a list of vectors with the names given.  You cannot
alter the versions in the function, but you have to use explicitly
the components of the returned result.  It's normal only to name
components you are going to use subsequently, but some people
name them all as an aide-memoire.

(I am ignoring DUP=TRUE in .C in this dicussion.)

If you are going to write in C you might want to start with .Call these
days.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Tue Aug 29 12:40:12 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Tue, 29 Aug 2000 06:40:12 -0400
Subject: [R] R function calling. Do I understand this right?
References: <Pine.GSO.4.05.10008290742550.15920-100000@auk.stats>
Message-ID: <006001c011a5$830a9a00$0201a8c0@Workgroup>

Here is what I get on my NT box under english locale or french. It seems I
have no problem.

> polut <- data.frame(Mortalit?=c(82,97,76), Densit?=c(600,960,570),
Pollution=c(110,140,90))
> attach(polut)
> summary(Mortalit?)
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.
   76.0    79.0    82.0    85.0    89.5    97.0
> summary(Pollution)
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.
   90.0   100.0   110.0   113.3   125.0   140.0
> version
         _
platform Windows
arch     x86
os       Win32
system   x86, Win32
status
major    1
minor    1.0
year     2000
month    June
day      15
language R


----- Original Message -----
From: "Prof Brian D Ripley" <ripley at stats.ox.ac.uk>
To: "Paul E Johnson" <pauljohn at ukans.edu>
Cc: "R mailing list" <r-help at stat.math.ethz.ch>
Sent: Tuesday, August 29, 2000 2:47 AM
Subject: Re: [R] R function calling. Do I understand this right?


> On Mon, 28 Aug 2000, Paul E Johnson wrote:
>
> > I need to write a nonhierarchical clustering routine and I'm studying
> > the way hclust (in the mva library) is built in R to see how things are
> > done and what I can modify. I ran f2c on the hclust.f file (so I could
> > read it in a language I know!) and there is one thing I don't quite
> > understand about the way it gets called and the way it returns values.
> > That Fortran function gets called in hclust.R, like this:
> >
> > hclust <- function(d, method="complete")
> > {
> > <snip>
> >     n <- attr(d, "Size")
> >     if(is.null(n))
> > stop("invalid dissimilarities")
> >     labels <- attr(d, "Labels")
> >
> >     len <- n*(n-1)/2
> >     hcl <- .Fortran("hclust",
> >     n = as.integer(n),
> >     len = as.integer(len),
> >     method = as.integer(method),
> >     ia = integer(n),
> >     ib = integer(n),
> >     crit = double(n),
> >     membr = double(n),
> >     nn = integer(n),
> >     disnn = double(n),
> >     flag = logical(n),
> >     diss = as.double(d), PACKAGE="mva")
> > <snip>
> >
> > In this call, the "actual data" input is an integer "n", an integer
> > "len", an integer "method", and "diss", which is the vector obtained by
> > coercing bottom left part of a dissimiliarty matrix into a vector of
> > doubles.
> >
> > So, I believe that means d is like this
> >
> >
> > x     x  x
> > 1.1   x  x
> > 3.3  4.4  x
> >
> > And diss is {1.1,3.3,4.4}
> >
> > Now here is the qustion. All of the other variables listed as input,
> > ia,ib, crit,membr,nn,disnn, and flag, are just empty vectors being
> > passed through to be used inside the hclust function. Right?  And the
> > changes made in those vectors inside the Fortran function are permanent,
> > so the other functions in the hclust.R file can use those values?  (like
> > passing in a pointer in C?)
>
> No.  Copies of variables are made on entry and on exit. Thus the .C
> call returns a list of vectors with the names given.  You cannot
> alter the versions in the function, but you have to use explicitly
> the components of the returned result.  It's normal only to name
> components you are going to use subsequently, but some people
> name them all as an aide-memoire.
>
> (I am ignoring DUP=TRUE in .C in this dicussion.)
>
> If you are going to write in C you might want to start with .Call these
> days.
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Tue Aug 29 12:42:36 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Tue, 29 Aug 2000 06:42:36 -0400
Subject: [R] Windows / Accented characters / pb with makename
References: <Pine.GSO.4.05.10008290716020.15920-100000@auk.stats>
Message-ID: <006c01c011a5$d8caf6b0$0201a8c0@Workgroup>

Here is what I get on my NT box under english locale or french. It seems I
have no problem.

> polut <- data.frame(Mortalit?=c(82,97,76), Densit?=c(600,960,570),
Pollution=c(110,140,90))
> attach(polut)
> summary(Mortalit?)
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.
   76.0    79.0    82.0    85.0    89.5    97.0
> summary(Pollution)
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.
   90.0   100.0   110.0   113.3   125.0   140.0
> version
         _
platform Windows
arch     x86
os       Win32
system   x86, Win32
status
major    1
minor    1.0
year     2000
month    June
day      15
language R



----- Original Message -----
From: "Prof Brian D Ripley" <ripley at stats.ox.ac.uk>
To: "Charles RAUX" <Charles.Raux at let.ish-lyon.cnrs.fr>
Cc: "r-help" <r-help at stat.math.ethz.ch>
Sent: Tuesday, August 29, 2000 2:27 AM
Subject: Re: [R] Windows / Accented characters / pb with makename


> On Mon, 28 Aug 2000, Charles RAUX wrote:
>
> > Thank you for the hint (I didn't know makename). In fact contrary to
> > what is indicated in help makename doesn't give legal R names
> > (at least under Windows).
> > See below:
> >
> > > make.names("a?a?a?a?????")
> > [1] "a?a?a?a?????"
> >
> > 2) What is a "legal R name"? (found nowhere in FAQ, help...)
>
> That's the problem. In S it is a-zA-Z0-9 plus `.'.  In R it would appear
to
> be those characters which are regarded as alphanumeric in the locale in
use
> plus `.' (Via a call to isalnum in both make.names and the parser.) Now
> it's hard for me to test this, but I think in a French locale those chars
> should be legal in names.  They are not in the C or en_UK locales, and
> make.names on Windows does work in those locales.
>
> There is something rather peculiar about locale support on Windows,
> and for 1.2.0 R will have ways to override this.  Can someone who
> has a non-C Unix locale let me know if there the non-English letters
> are valid in names?   (What my experiments would suggest is that
> Windows messed up the locale setting, and that may still be the case.)
>
> I had two suggestions to offer:
>
> a) You can use non-legal names by quoting them. So
>
> summary(pollut$"Mortalite")  (my mailer loses the accented char)
>
> should work.
>
> b) Use chartr to translate the accented chars to their non-accented
> equivalents.
>
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yudi at stat.ucc.ie  Tue Aug 29 12:36:51 2000
From: yudi at stat.ucc.ie (Yudi Pawitan)
Date: Tue, 29 Aug 2000 11:36:51 +0100
Subject: [R] variable value in mathplot
Message-ID: <3.0.1.32.20000829113651.006dcc0c@pop3.ucd.ie>

I'm putting a title over different plots, where 'that'
varies. How do I make the value appear? Example:

that <- 1
plot(1:10)
title(expression(paste(hat(theta),'= ',that)))


Yudi Pawitan     yudi at stat.ucc.ie
Department of Statistics UCC
Cork, Ireland
Ph   353-21-490 2906
Fax 353-21-427 1040 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug 29 13:37:01 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 29 Aug 2000 12:37:01 +0100 (BST)
Subject: [R] variable value in mathplot
In-Reply-To: <3.0.1.32.20000829113651.006dcc0c@pop3.ucd.ie>
Message-ID: <Pine.GSO.4.05.10008291229070.4118-100000@auk.stats>

On Tue, 29 Aug 2000, Yudi Pawitan wrote:

> I'm putting a title over different plots, where 'that'
> varies. How do I make the value appear? Example:
> 
> that <- 1
> plot(1:10)
> title(expression(paste(hat(theta),'= ',that)))

We've been here before. To get an expression either use parse on your
pasted character string or substitute on an expression.  There are worked
examples in the list achives. The neatest is

title(substitute(hat(theta) == that, list(that=that)))

(note it is == not =)


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas.pesl at arcs.ac.at  Tue Aug 29 14:01:52 2000
From: thomas.pesl at arcs.ac.at (Pesl Thomas)
Date: Tue, 29 Aug 2000 14:01:52 +0200
Subject: [R] short way
Message-ID: <D16B18FFF743D311A9CA0090275F3CB001D8C7F2@arcss07.arcs.ac.at>

i want to replace certain values of a matrix.
i know how to replace them when the values are in a vector.
i tried the same way for a matrix and got this answer:

la[la==0]<-1
Error in [<-.data.frame(*tmp*, la == 0, value = 1) : 
        matrix subscripts not allowed in replacement

i found a way to do this with "for()",
but i think this is the worst way to do it.

So is there a better way?

    Thomas J. Pesl
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Tue Aug 29 14:35:56 2000
From: plummer at iarc.fr (Martyn Plummer)
Date: Tue, 29 Aug 2000 14:35:56 +0200 (CEST)
Subject: [R] short way
In-Reply-To: <D16B18FFF743D311A9CA0090275F3CB001D8C7F2@arcss07.arcs.ac.at>
Message-ID: <XFMail.000829143556.plummer@iarc.fr>

On 29-Aug-00 Pesl Thomas wrote:
> i want to replace certain values of a matrix.
> i know how to replace them when the values are in a vector.
> i tried the same way for a matrix and got this answer:
> 
> la[la==0]<-1
> Error in [<-.data.frame(*tmp*, la == 0, value = 1) : 
>         matrix subscripts not allowed in replacement
> 
> i found a way to do this with "for()",
> but i think this is the worst way to do it.
> 
> So is there a better way?

Try this:

la <- ifelse(la == 0, 1, la)

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Tue Aug 29 14:59:42 2000
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Tue, 29 Aug 2000 14:59:42 +0200
Subject: [R] variable value in mathplot
Message-ID: <3.0.32.20000829145941.008ff180@162.38.183.200>

At 11:36 29/08/00 +0100, you wrote:
>I'm putting a title over different plots, where 'that'
>varies. How do I make the value appear? Example:
>
>that <- 1
>plot(1:10)
>title(expression(paste(hat(theta),'= ',that)))
>

I think you can use substitute(). For instance, I used this to indicate the
R-squared value on a regression plot:

text(5, 0.6, as.expression(substitute(R^2 == r, list(r=round(R2.the,3)))))

where R2.the was computed a few lines above. In your case maybe something
like:

title(as.expression(substitute(hat(theta) == Unknown, list(Unknown=that))))

should do the trick.


Emmanuel Paradis
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Aug 29 14:58:23 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 29 Aug 2000 14:58:23 +0200 (CEST)
Subject: [R] Windows / Accented characters / pb with makename
In-Reply-To: <Pine.GSO.4.05.10008290716020.15920-100000@auk.stats>
References: <5BAB1A6155D@let.ish-lyon.cnrs.fr>
	<Pine.GSO.4.05.10008290716020.15920-100000@auk.stats>
Message-ID: <14763.45935.722617.949743@gargle.gargle.HOWL>

>>>>> "BDR" == Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:

    BDR> On Mon, 28 Aug 2000, Charles RAUX wrote:
    >> Thank you for the hint (I didn't know makename). In fact contrary to 
    >> what is indicated in help makename doesn't give legal R names 
    >> (at least under Windows).
    >> See below:
    >> 
    >> > make.names("aéaéaéaùàééé")
    >> [1] "aéaéaéaùàééé"
    >> 
    >> 2) What is a "legal R name"? (found nowhere in FAQ, help...)

    BDR> That's the problem. In S it is a-zA-Z0-9 plus `.'.  In R it would
    BDR> appear to be those characters which are regarded as alphanumeric
    BDR> in the locale in use plus `.' (Via a call to isalnum in both
    BDR> make.names and the parser.) Now it's hard for me to test this, but
    BDR> I think in a French locale those chars should be legal in names.
    BDR> They are not in the C or en_UK locales, and make.names on Windows
    BDR> does work in those locales.

Yes, the locale should determine legal names in R.
Here, I use  de_CH :

> Sys.getenv("LC_ALL")
 LC_ALL 
"de_CH" 

and have

> make.names("Zürich")
[1] "Zürich"
> make.names("René")
[1] "René"


    BDR> There is something rather peculiar about locale support on Windows,
         <.......>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Tue Aug 29 15:01:04 2000
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Tue, 29 Aug 2000 15:01:04 +0200 (CEST)
Subject: [R] short way
In-Reply-To: <D16B18FFF743D311A9CA0090275F3CB001D8C7F2@arcss07.arcs.ac.at>
Message-ID: <Pine.LNX.4.21.0008291459350.22134-100000@artemis.imbe.med.uni-erlangen.de>


> i want to replace certain values of a matrix.
> i know how to replace them when the values are in a vector.
> i tried the same way for a matrix and got this answer:
> 
> la[la==0]<-1
> Error in [<-.data.frame(*tmp*, la == 0, value = 1) : 
>         matrix subscripts not allowed in replacement

la is a data.frame, not a matrix: 

R> x <- diag(10)
R> x[x == 0] <- 1
R> x
      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
 [1,]    1    1    1    1    1    1    1    1    1     1
 [2,]    1    1    1    1    1    1    1    1    1     1
 [3,]    1    1    1    1    1    1    1    1    1     1
 [4,]    1    1    1    1    1    1    1    1    1     1
 [5,]    1    1    1    1    1    1    1    1    1     1
 [6,]    1    1    1    1    1    1    1    1    1     1
 [7,]    1    1    1    1    1    1    1    1    1     1
 [8,]    1    1    1    1    1    1    1    1    1     1
 [9,]    1    1    1    1    1    1    1    1    1     1
[10,]    1    1    1    1    1    1    1    1    1     1
R> x <- as.data.frame(diag(10))
R> x[x == 0] <- 1
Error in [<-.data.frame(*tmp*, x == 0, value = 1) : 
        matrix subscripts not allowed in replacement

so, as.matrix() is what you are looking for ;-)

Torsten


> 
> i found a way to do this with "for()",
> but i think this is the worst way to do it.
> 
> So is there a better way?
> 
>     Thomas J. Pesl
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Aug 29 15:02:07 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 29 Aug 2000 15:02:07 +0200
Subject: [R] short way
References: <D16B18FFF743D311A9CA0090275F3CB001D8C7F2@arcss07.arcs.ac.at>
Message-ID: <39ABB44F.6257E9C3@statistik.uni-dortmund.de>

Pesl Thomas wrote:
> 
> i want to replace certain values of a matrix.
> i know how to replace them when the values are in a vector.
> i tried the same way for a matrix and got this answer:
> 
> la[la==0]<-1

This works, if la is a matrix.

> Error in [<-.data.frame(*tmp*, la == 0, value = 1) :
>         matrix subscripts not allowed in replacement

And this shows us: la is a data.frame.

 la <- as.matrix(la)
 la[la==0] <- 1

should do the trick.


> i found a way to do this with "for()",
> but i think this is the worst way to do it.
> 
> So is there a better way?

Regards,
Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Tue Aug 29 15:05:35 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Tue, 29 Aug 2000 09:05:35 -0400 (EDT)
Subject: [R] Newbie question: Linear regression with error bars.
In-Reply-To: <Pine.LNX.4.10.10008281728230.26605-100000@okra.cchem.berkeley.edu>
Message-ID: <Pine.LNX.4.10.10008290853380.31011-100000@bolker.zoo.ufl.edu>


  Here are a few ideas to get you going.  The answers to your two basic
questions are (1) you can access the columns of a data frame with the
column number as x[,1], as an element in a list as x[[1]], and with the
column name as x$whatever; the column will be treated as a vector in any
case; (2) use the "weights" option to lm() [using 1/variance as the
weights] to do a weighted linear regression.

  I've included a confidence-interval plotter, originally written by Bill
Venables and hacked a bit, for your convenience.

  I don't have the context, but I would be careful with linear regression
in this context (there are obvious problems with the naive regression line
shown below).  It makes me nervous that the estimated error of the
intercept is so much smaller than the errors associated with the points
...

  Ben Bolker

## assuming that the column labels are the first line of your data file
x <- read.table("R.tmp",header=TRUE)  

plotCI <- function (x, y = NULL, uiw, liw = uiw, ylim=NULL, sfrac = 0.01, add=FALSE,
                    col=par("col"), lwd=par("lwd"), slty=par("lty"),
                    xlab=deparse(substitute(x)), ylab=deparse(substitute(y)), ...)  {
# from Bill Venables, R-list
  if (is.list(x)) {
    y <- x$y
    x <- x$x
  }
  if (is.null(y)) {
    if (is.null(x)) 
      stop("both x and y NULL")
    y <- as.numeric(x)
    x <- seq(along = x)
  }
  ui <- y + uiw
  li <- y - liw
  if (is.null(ylim)) ylim <- range(c(y, ui, li), na.rm=TRUE)
  if (add) {
    points(x, y, col=col, lwd=lwd, ...)
  } else {
    plot(x, y, ylim = ylim, col=col, lwd=lwd, xlab=xlab, ylab=ylab, ...)
  }
  smidge <- diff(par("usr")[1:2]) * sfrac
  segments(x, li, x, ui, col=col, lwd=lwd, lty=slty)
  x2 <- c(x, x)
  ul <- c(li, ui)
  segments(x2 - smidge, ul, x2 + smidge, ul, col=col, lwd=lwd)
  invisible(list(x = x, y = y))
}

## linear regr. of Energy as a function of Timestep
lm0 <- lm(x$Energy ~ x$Timestep ,weights=1/x$Var)
summary(lm0)
plotCI(x$Timestep,x$Energy,sqrt(x$Var))
abline(lm0)  ## add a regression line to the plot
interc <- summary(lm0)$coef[1,]  ## estimate, std. error, etc.
plotCI(0,interc["Estimate"],interc["Std. Error"],col="red",add=TRUE)


On Mon, 28 Aug 2000, Alan Aspuru-Guzik wrote:

> 
> Hello guys,
> I am a total newbie on R, having downloaded it, read the documentation and
> started playing with it right now.
> 
> My general question is what 'lr' model can be used for doing a linear
> regression on points that have a variance associated with them (ie. Monte
> Carlo simulation results).
> 
> Actually my Data sets look like:
> 
> Timestep Energy Variance_of_the_Energy
> 0.0005 -14.876840 0.000670 
> 0.001 -14.883960 0.000670 
> 0.002 -14.887360 0.000700 
> 0.05 -14.888730 0.000430 
> 0.1 nan nan 
> 
> And what I want to do is to obtain the intercept of the best possible
> linear fit (weeding out outliers if necessary) but having the intercept
> with an associated error bar.
> 
> What I managed to do today is read the files from a table and learn how to
> access the columns of the data frame . And managed to do a linear
> regression of the type x ~ y with normal vectors.
> 
> I will eventually will like to use something like the leaps package
> (regression subset selection) and then do a linear regression including
> the error bars with the best points obtained by the 'leaps' package.
> 
> The specific questions are:
> x. How can I Convert a data frame's column into a vector?
> x. Now that I have the vectors, how can I specify a linear model of a
> linear regression with associated variances?
> 
> Thanks a lot in advance!!
> 
> Alan Aspuru-Guzik
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Regin.Reinert at gallup.dk.tnsofres.com  Tue Aug 29 15:08:29 2000
From: Regin.Reinert at gallup.dk.tnsofres.com (Regin Reinert)
Date: Tue, 29 Aug 2000 15:08:29 +0200
Subject: SV: [R] short way
Message-ID: <7B86268F4A0CD311BBD80008C7B145BBCCC6DE@exchange_01_dk.gallup.dk.tnsofres.com>

This should do what you want:

# construct a data.frame d

L3 <- LETTERS[1:3]
str(d <- data.frame(cbind(x=1, y=1:10), ch=sample(L3, 10, repl=TRUE)))
d

# replace y-value in d, where y=5
d$y[d$y==5] <- 100
d


Regin


-----Oprindelig meddelelse-----
Fra: Pesl Thomas [mailto:thomas.pesl at arcs.ac.at]
Sendt: 29. august 2000 14:02
Til: R-Help (E-Mail)
Emne: [R] short way


i want to replace certain values of a matrix.
i know how to replace them when the values are in a vector.
i tried the same way for a matrix and got this answer:

la[la==0]<-1
Error in [<-.data.frame(*tmp*, la == 0, value = 1) : 
        matrix subscripts not allowed in replacement

i found a way to do this with "for()",
but i think this is the worst way to do it.

So is there a better way?

    Thomas J. Pesl
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Aug 29 15:43:30 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 29 Aug 2000 15:43:30 +0200 (CEST)
Subject: [R] Windows / Accented characters / pb with makename
In-Reply-To: <5D3716A0810@let.ish-lyon.cnrs.fr>
References: <Pine.GSO.4.05.10008290716020.15920-100000@auk.stats>
	<5D3716A0810@let.ish-lyon.cnrs.fr>
Message-ID: <14763.48642.655099.545202@gargle.gargle.HOWL>

>>>>> "Charles" == Charles Raux <Charles.Raux at let.ish-lyon.cnrs.fr> writes:

    Charles> Thank you for your message. makenames work however
    Charles> 1) I can't find Sys.getenv 
    >> Sys.getenv("LC_ALL")
    Charles> Error: couldn't find function "Sys.getenv"

Excuse my carelessness :

Sys.getenv()  is the new (in R 1.2, aka R-devel) name for what is now
    getenv()  {and that will be deprecated in the future ..}

The idea is to use  Sys.*() function names
for (almost) all OS/System specific functions
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jgoebel at diw.de  Tue Aug 29 16:28:15 2000
From: jgoebel at diw.de (Jan Goebel)
Date: Tue, 29 Aug 2000 16:28:15 +0200
Subject: [R] short way
In-Reply-To: <D16B18FFF743D311A9CA0090275F3CB001D8C7F2@arcss07.arcs.ac.at>; from thomas.pesl@arcs.ac.at on Tue, Aug 29, 2000 at 14:01:52 +0200
References: <D16B18FFF743D311A9CA0090275F3CB001D8C7F2@arcss07.arcs.ac.at>
Message-ID: <20000829162815.A1726@diw13697.diw.de>

Hello,
this works well:

> tmat <- matrix(rep(0,3*3),ncol=3)
> tmat
     [,1] [,2] [,3]
[1,]    0    0    0
[2,]    0    0    0
[3,]    0    0    0
> tmat[tmat==0]<-1
> tmat
     [,1] [,2] [,3]
[1,]    1    1    1
[2,]    1    1    1
[3,]    1    1    1

On Tue, 29 Aug 2000, Pesl Thomas wrote:

> i want to replace certain values of a matrix.
> i know how to replace them when the values are in a vector.
> i tried the same way for a matrix and got this answer:
> 
> la[la==0]<-1
> Error in [<-.data.frame(*tmp*, la == 0, value = 1) : 
>         matrix subscripts not allowed in replacement

maybe you don't really use a matrix?


Jan Goebel
-- 
-----------------------------------
Jan Goebel (mailto:jgoebel at diw.de)

DIW German Institute for Economic Research
SOEP
K?nigin-Luise-Str. 5
D-14195 Berlin
Germany

phone: 49 30 89789-377
-----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From novo at uiuc.edu  Tue Aug 29 07:50:33 2000
From: novo at uiuc.edu (Alvaro A. Novo)
Date: Tue, 29 Aug 2000 00:50:33 -0500
Subject: [R] x11() in SuSE6.3 and SuSE6.4
Message-ID: <00082909165800.19652@friedman>

Hi,

I compiled R-1.1.1 in 2 machines -- one running SuSE 6.3 and the other 6.4. If
I do:

> plot(jj)

the graphics window pops up in 6.3, but not in 6.4

Also, doing x11() is of no help, it merely replicates the behavior above.
I should add that being root (xhost + and su) in 6.4 does not help. Postscript
works just fine.  Additional details: XFree3.3.6, KDE1.1.2 (or KDE2.0 Beta 4),
updated all packages recommended by SuSE

Any suggestions? Thank you in advance.

Alvaro

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Aug 29 17:40:46 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 29 Aug 2000 17:40:46 +0200
Subject: [R] x11() in SuSE6.3 and SuSE6.4
In-Reply-To: "Alvaro A. Novo"'s message of "Tue, 29 Aug 2000 00:50:33 -0500"
References: <00082909165800.19652@friedman>
Message-ID: <x2hf84m5xd.fsf@blueberry.kubism.ku.dk>

"Alvaro A. Novo" <novo at uiuc.edu> writes:

> Hi,
> 
> I compiled R-1.1.1 in 2 machines -- one running SuSE 6.3 and the other 6.4. If
> I do:
> 
> > plot(jj)
> 
> the graphics window pops up in 6.3, but not in 6.4
...
> Any suggestions? Thank you in advance.
> 

Sounds like X didn't get configured on the 6.4 box. Might you be
missing an x11-devel package or some such?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From novo at uiuc.edu  Tue Aug 29 23:43:04 2000
From: novo at uiuc.edu (Alvaro A. Novo)
Date: Tue, 29 Aug 2000 16:43:04 -0500
Subject: [R] x11() in SuSE6.3 and SuSE6.4
In-Reply-To: <x2hf84m5xd.fsf@blueberry.kubism.ku.dk>
References: <00082909165800.19652@friedman> <x2hf84m5xd.fsf@blueberry.kubism.ku.dk>
Message-ID: <00082916430406.00321@friedman>

On Tue, 29 Aug 2000, Peter Dalgaard BSA wrote:
> "Alvaro A. Novo" <novo at uiuc.edu> writes:
> > Hi,
> >
> > I compiled R-1.1.1 in 2 machines -- one running SuSE 6.3 and the other
> > 6.4. If
> >
> > I do:
> > > plot(jj)
> >
> > the graphics window pops up in 6.3, but not in 6.4
>
> ...
>
> > Any suggestions? Thank you in advance.
>
> Sounds like X didn't get configured on the 6.4 box. Might you be
> missing an x11-devel package or some such?

It's installed (xdevel) and I didn't remember any errors or other messages 
during compilation... Now, I decided to download the "official" rpm and 
x11() runs smoothly!

Thank you for your reply,

Alvaro

ps. I may again try to compile R from the source... just to see what happens.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sarthur at protogene.com  Wed Aug 30 03:20:58 2000
From: sarthur at protogene.com (Steve Arthur)
Date: Tue, 29 Aug 2000 18:20:58 -0700 (PDT)
Subject: [R] by & tapply
Message-ID: <Pine.LNX.4.21.0008291752060.5722-100000@crick.protogene.com>

Rers,

I have been using the function 'by' in such a manner:

by(LogMetric, list(Loci.Number=Loci.Number, Code.Flag=Code.Flag), plot)

with 

par(mfrow=c(5,3)) 

to produce a single R Graphics: Device with 14 different plots on it as
described above in my 'by' statement.  Thank you for helping me thus far.

A similar command using 'tapply' can be written as well.

My problems being:

1) Although several LogMetric values may be plotted against several of 
the same factors (x-value), they are not listed under the same x-value,
but as separate points (which does not make sense for an x-y plot).  When
I just use the plot(x,f) I get boxplots which I don't want, I want to see
the individual y-points above a particular x-value.

2) Using 'tapply' or 'by', can non-numeric x-labels be generate for the
plots, of which the factors are R factors.  I don't understand why the
numeric values are appearing in the first place.  

3) Is there another, simpler, way to subset data and make intelligible
plots with R?  This industrial strength stuff takes two seconds in SAS (I
am not implying anything by that statement).  I would think this would be
a very common statistical task to complete.

Thanks,

steve

PS Addition to hopefully receiving good "by" and "tapply" examples from
you,

1) Can the 'for' statement 'for (var in seq) expr' use factors as
agruements?  The example in manual says 'for(i in 1:5)'.  I would want to
do something like 'for(i in Loci.Number)' w/o being able to specify a
general range in advance I am lost.  Am I lost?  Unfortunately, CRAN
rejects my two searches for 'by' and 'for'?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From francois.houyengah at wanadoo.fr  Wed Aug 30 03:12:28 2000
From: francois.houyengah at wanadoo.fr (houyengah)
Date: Wed, 30 Aug 2000 03:12:28 +0200
Subject: [R] How can I start R
Message-ID: <00083003170800.18078@localhost.localdomain>

I am not good in English, so excuse me.

I have just install R.

I put the package in the file OPT.

./configure
make
make install

But i dont now how to run this application.

Can you help me.



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From y0004379 at tu-bs.de  Wed Aug 30 08:08:49 2000
From: y0004379 at tu-bs.de (Peter Malewski)
Date: Wed, 30 Aug 2000 08:08:49 +0200 (METDST)
Subject: [R] How can I start R
In-Reply-To: <00083003170800.18078@localhost.localdomain>
Message-ID: <Pine.HPX.4.21.0008300803400.3578-100000@rzpool04.rz.tu-bs.de>

On Wed, 30 Aug 2000, houyengah wrote:

> I am not good in English, so excuse me.
> 
> I have just install R.
> 
> I put the package in the file OPT.
> 
> ./configure
> make
> make install

You can start R with "R". Be sure that the path were the R (the link
to) is located is added to your search path. I think the default location
is "/usr/local/bin". root for example won't has this path in the search
list. Any other user should. If you want to add and use the bash-shell you
can add
export PATH=$PATH:/usr/local/bin

anyway, the direct way with absolute paths should go like this.

/somwhere/R-1.1.1/bin/R

it think, i hope, i can't verify this now.

Peter


----

P.Malewski, Maschplatz 8, 38114 Braunschweig, Tel.: 0531 500965, 
At work: (MH-Hannover): 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Charles.Raux at let.ish-lyon.cnrs.fr  Wed Aug 30 10:54:36 2000
From: Charles.Raux at let.ish-lyon.cnrs.fr (Charles Raux)
Date: Wed, 30 Aug 2000 09:54:36 +0100
Subject: [R] Memory management
Message-ID: <5E5E97E4AEE@let.ish-lyon.cnrs.fr>

Some naive questions:
1) How to remove a column in a data frame? I expected that rm would
work but this is not the case (e.g. rm(dat$yyy) gives Warning
message: remove: variable dat$yyy was not found). I only found to
assign NULL value (e.g.: dat$yyy<-NULL). Is it the right way?
2) Is the place formerly occupied by dat$yyy automatically gained by
R for other uses?
3) If t1 and t2 are 2 only existing objects in a R session: does
t1<-t2 automatically free the space formerly occupied by t1 ? Do I
get an exact copy of t2, that is the total memory taken is twice that
of t2.
---------------
Charles RAUX,
Laboratoire d'Economie des Transports
CNRS-Universit? Lumi?re Lyon 2-ENTPE
email : charles.raux at let.ish-lyon.cnrs.fr
http://www.ish-lyon.cnrs.fr/let

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From y0004379 at tu-bs.de  Wed Aug 30 11:22:44 2000
From: y0004379 at tu-bs.de (Peter Malewski)
Date: Wed, 30 Aug 2000 11:22:44 +0200 (METDST)
Subject: [R] by & tapply
In-Reply-To: <Pine.LNX.4.21.0008291752060.5722-100000@crick.protogene.com>
Message-ID: <Pine.HPX.4.21.0008300940290.1242-100000@rzpool03.rz.tu-bs.de>

Dear Steve,
	it is hard to answer without a example, which can be
reproduced. I'll try:

I think you have a data with a like:


xx <- data.frame(y=rnorm(100),
                 x1=as.factor(round(runif(100,1,4))),
                 x2=as.factor(round(runif(100,1,4)))
                 )

attach(xx)

##and do a: 

by(y,list(x1,x2),plot)

##if you look at values:

by(y,list(x1,x2),function(x)print(x))

##you see that by passes a vector to plot. 

##you can do a 

xn <- codes(x1)
coplot(y~xn|x2)

##or you use a loop:

par(mfrow=c(2,2))
for( i in unique(codes(x1))) plot.default(x2 [codes(x1)== i]
                                          , y[codes(x1)==i ]
                                          ,main=paste("Code:",i)
                                          )

##of course there might be ways to use tapply, lapply etc.

If you want to know why plot.default is nessary to avoid the boxpots, read
the documentation of R "R-intro" part 3.4 "The class of an object" and
related things.

Peter



On Tue, 29 Aug 2000, Steve Arthur wrote:

> Rers,
> 
> I have been using the function 'by' in such a manner:
> 
> by(LogMetric, list(Loci.Number=Loci.Number, Code.Flag=Code.Flag), plot)
> 
> with 
> 
> par(mfrow=c(5,3)) 
> 
> to produce a single R Graphics: Device with 14 different plots on it as
> described above in my 'by' statement.  Thank you for helping me thus far.
> 
> A similar command using 'tapply' can be written as well.
> 
> My problems being:
> 
> 1) Although several LogMetric values may be plotted against several of 
> the same factors (x-value), they are not listed under the same x-value,
> but as separate points (which does not make sense for an x-y plot).  When
> I just use the plot(x,f) I get boxplots which I don't want, I want to see
> the individual y-points above a particular x-value.
> 
> 2) Using 'tapply' or 'by', can non-numeric x-labels be generate for the
> plots, of which the factors are R factors.  I don't understand why the
> numeric values are appearing in the first place.  
> 
> 3) Is there another, simpler, way to subset data and make intelligible
> plots with R?  This industrial strength stuff takes two seconds in SAS (I
> am not implying anything by that statement).  I would think this would be
> a very common statistical task to complete.
> 
> Thanks,
> 
> steve
> 
> PS Addition to hopefully receiving good "by" and "tapply" examples from
> you,
> 
> 1) Can the 'for' statement 'for (var in seq) expr' use factors as
> agruements?  The example in manual says 'for(i in 1:5)'.  I would want to
> do something like 'for(i in Loci.Number)' w/o being able to specify a
> general range in advance I am lost.  Am I lost?  Unfortunately, CRAN
> rejects my two searches for 'by' and 'for'?
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

----

P.Malewski, Maschplatz 8, 38114 Braunschweig, Tel.: 0531 500965, 
At work: (MH-Hannover): 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Aug 30 11:28:49 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 30 Aug 2000 11:28:49 +0200
Subject: [R] Memory management
In-Reply-To: "Charles Raux"'s message of "Wed, 30 Aug 2000 09:54:36 +0100"
References: <5E5E97E4AEE@let.ish-lyon.cnrs.fr>
Message-ID: <x266oj5c8e.fsf@blueberry.kubism.ku.dk>

"Charles Raux" <Charles.Raux at let.ish-lyon.cnrs.fr> writes:

> Some naive questions:
> 1) How to remove a column in a data frame? I expected that rm would
> work but this is not the case (e.g. rm(dat$yyy) gives Warning
> message: remove: variable dat$yyy was not found). I only found to
> assign NULL value (e.g.: dat$yyy<-NULL). Is it the right way?
> 2) Is the place formerly occupied by dat$yyy automatically gained by
> R for other uses?
> 3) If t1 and t2 are 2 only existing objects in a R session: does
> t1<-t2 automatically free the space formerly occupied by t1 ? Do I
> get an exact copy of t2, that is the total memory taken is twice that
> of t2.

Yes, yes, yes, and yes....

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Aug 30 11:43:49 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 30 Aug 2000 11:43:49 +0200
Subject: [R] by & tapply
In-Reply-To: Peter Malewski's message of "Wed, 30 Aug 2000 11:22:44 +0200 (METDST)"
References: <Pine.HPX.4.21.0008300940290.1242-100000@rzpool03.rz.tu-bs.de>
Message-ID: <x23djn5bje.fsf@blueberry.kubism.ku.dk>

Peter Malewski <y0004379 at tu-bs.de> writes:

> 
> xn <- codes(x1)
> coplot(y~xn|x2)
> 
> ##or you use a loop:
> 
> par(mfrow=c(2,2))
> for( i in unique(codes(x1))) plot.default(x2 [codes(x1)== i]
>                                           , y[codes(x1)==i ]
>                                           ,main=paste("Code:",i)
>                                           )

Eek. Please use as.integer(), not codes(), for this stuff. (help(codes)
for the explanation).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tring at mail1.stofanet.dk  Wed Aug 30 18:48:01 2000
From: tring at mail1.stofanet.dk (Troels Ring)
Date: Wed, 30 Aug 2000 18:48:01 +0200
Subject: [R] family question
Message-ID: <4.3.2.7.0.20000830183418.029912a0@127.0.0.1>

Dear friends. Please see the program below and answer if it does simulate a 
population of 1.000.000 families, each with at max 20000 children (typical 
in Denmark, you know), constructed such that each family stops having 
children when more boys than girls are present ? Equal numbers of boys and 
girls are got in the population, according to the simulation, is that obvious ?

ND <- NP <- NULL #ND - number boys, P: girls
for (j in 1:1000000) # number of families
{
n1 <- n2 <- NULL
for (i in 1:20000)  {
n1[i] <- rbinom(1,1,0.5) # each equally likely - here number of boys
n2[i] <- 1- n1[i] # and girls
if(sum(n1)>sum(n2)) break
}
ND[j] <- sum(n1)
NP[j] <- sum(n2)
}
sum(ND)/sum(NP)
j

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Wed Aug 30 20:44:00 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 30 Aug 2000 13:44:00 -0500
Subject: [R] family question
In-Reply-To: Troels Ring's message of "Wed, 30 Aug 2000 18:48:01 +0200"
References: <4.3.2.7.0.20000830183418.029912a0@127.0.0.1>
Message-ID: <6raeduio7j.fsf@franz.stat.wisc.edu>

Troels Ring <tring at mail1.stofanet.dk> writes:

> Dear friends. Please see the program below and answer if it does simulate a 
> population of 1.000.000 families, each with at max 20000 children (typical 
> in Denmark, you know), constructed such that each family stops having 
> children when more boys than girls are present ? Equal numbers of boys and 
> girls are got in the population, according to the simulation, is that obvious ?

I am not an expert in probability or in stochastic processes so I
can't say that it is "obvious".  I can say it is not unreasonable if
you consider the sizes of families.  Basically what happens is that
large families have nearly equal numbers of girls and boys and also
have a high weight in the calculation of the population proportion.
(You can only get odd numbered family sizes according to your rule and
for a family of size 2K + 1 there will be K girls and K + 1 boys.)

>From simulation it seems that there is a non-negligible probability of
very large family sizes.  If you get a high proportion of girls early
then it can take a long time for the number of boys to catch up.
Most of the families have only 1 or 3 children but about 1% or
2% of the time you get families of size 500 or more.

In fact when I simulated 1000 families with a maximum allowable family size of
999, I got 23 families that would have had more than 999 children.

> famsz <- double(1000)
> ind <- 1:1000
> for (i in seq(along = famsz)) famsz[i] <- min(ind[cumsum(ifelse(runif(1000) > 0.5, 1, 0)) > (ind/2)])
There were 23 warnings (use warnings() to see them)
> table(famsz)
famsz
         1          3          5          7          9         11         13 
       497        141         62         25         31         24         17 
        15         17         19         21         23         25         27 
        15          9          6         12          8         10          6 
        29         31         33         35         37         39         41 
         2          6          7          2          2          3          3 
        43         45         47         51         55         57         59 
         2          1          4          3          5          2          1 
        61         63         65         69         71         73         75 
         2          3          1          1          1          1          1 
        77         91         97         99        103        107        109 
         5          1          2          3          1          2          1 
       111        113        121        127        137        139        143 
         1          1          1          1          2          1          1 
       147        163        167        169        173        177        191 
         1          1          1          3          1          1          2 
       215        235        243        251        275        279        281 
         1          1          1          1          1          1          1 
       293        307        321        359        401        411        421 
         1          1          1          1          1          1          1 
       459        467        489        537        573        581        603 
         1          1          1          1          1          1          1 
       629        631        661        771        839        863        929 
         1          1          1          1          1          1          1 
2147483647 
        23 


> ND <- NP <- NULL #ND - number boys, P: girls
> for (j in 1:1000000) # number of families
> {
> n1 <- n2 <- NULL
> for (i in 1:20000)  {
> n1[i] <- rbinom(1,1,0.5) # each equally likely - here number of boys
> n2[i] <- 1- n1[i] # and girls
> if(sum(n1)>sum(n2)) break
> }
> ND[j] <- sum(n1)
> NP[j] <- sum(n2)
> }
> sum(ND)/sum(NP)
> j
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
Douglas Bates                            bates at stat.wisc.edu
Statistics Department                    608/262-2598
University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Wed Aug 30 21:38:35 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Wed, 30 Aug 2000 15:38:35 -0400 (EDT)
Subject: [R] family question
In-Reply-To: <4.3.2.7.0.20000830183418.029912a0@127.0.0.1>
Message-ID: <Pine.LNX.4.10.10008301511240.1977-100000@bolker.zoo.ufl.edu>


  Seems like a very odd setup but it does seem as though the code would do
what you wanted.  Also seems as though you could do some combinatorics to
get the answer much more efficiently if you wanted to ... (i.e., write
down the probabilities of having families that were (1 boy, 0 girl = 50%)
(2 boy, 1 girl = dbinom(2,3,0.5) = 3/8), (3 boys, 2 girls), (4 boys, 3
girls), etc., and then divide by the sum.  Since you add children one at a
time and stop when sum(n1)>sum(n2), you will always have one more boy than
girl in the family ...) [That says, by the way, that you won't get equal
numbers of boys and girls.  You will get between 100% and 50% boys, closer
to 100%].

  However, after some playing (see slightly augmented code below), it also
seems clear that there's something Troels and I are both missing, or a bug
in the rbinom code (??) [or a failure of low-order bits to be
uncorrelated?]; the distribution of family sizes has some odd
characteristics (all family sizes are odd, as expected, but there are more
large families -- and some that reach the maximum, which is unexpected).

  So are we both being boneheaded?

  

NF <- 1000
ND <- NP <- NULL #ND - number boys, P: girls
maxfam <- 1000
famdist <- numeric(maxfam)
for (j in 1:NF) # number of families
{
  cat(j,"\n")
#  n1 <- n2 <- NULL
  n1 <- n2 <- numeric(maxfam)
  for (i in 1:maxfam)  {
    if (i %% 100 == 0) cat("* ",i,"\n")
    n1[i] <- rbinom(1,1,0.5) # each equally likely - here number of boys
    n2[i] <- 1- n1[i] # and girls
    if(sum(n1)>sum(n2)) break
  }
  famsize <- sum(n1)+sum(n2)
  famdist[famsize] <-   famdist[famsize]+1
  ND[j] <- sum(n1)
  NP[j] <- sum(n2)
}
sum(ND)/sum(NP)
j


f.odd <- famdist[(1:maxfam) %% 2 == 1]
f.even <- famdist[(1:maxfam) %% 2 == 0]

plot(f.odd[1:50])

On Wed, 30 Aug 2000, Troels Ring wrote:

> Dear friends. Please see the program below and answer if it does simulate a 
> population of 1.000.000 families, each with at max 20000 children (typical 
> in Denmark, you know), constructed such that each family stops having 
> children when more boys than girls are present ? Equal numbers of boys and 
> girls are got in the population, according to the simulation, is that obvious ?
> 
> ND <- NP <- NULL #ND - number boys, P: girls
> for (j in 1:1000000) # number of families
> {
> n1 <- n2 <- NULL
> for (i in 1:20000)  {
> n1[i] <- rbinom(1,1,0.5) # each equally likely - here number of boys
> n2[i] <- 1- n1[i] # and girls
> if(sum(n1)>sum(n2)) break
> }
> ND[j] <- sum(n1)
> NP[j] <- sum(n2)
> }
> sum(ND)/sum(NP)
> j
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Mon Aug 28 21:46:28 2000
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Mon, 28 Aug 2000 15:46:28 -0400
Subject: [R] family question
In-Reply-To: <Pine.LNX.4.10.10008301511240.1977-100000@bolker.zoo.ufl.edu>
References: <Pine.LNX.4.10.10008301511240.1977-100000@bolker.zoo.ufl.edu>
Message-ID: <39aac065.112484157@fisher.stats.uwo.ca>

On Wed, 30 Aug 2000 15:38:35 -0400 (EDT), you wrote in message
<Pine.LNX.4.10.10008301511240.1977-100000 at bolker.zoo.ufl.edu>:

>
>  Seems like a very odd setup but it does seem as though the code would do
>what you wanted.  Also seems as though you could do some combinatorics to
>get the answer much more efficiently if you wanted to ... (i.e., write
>down the probabilities of having families that were (1 boy, 0 girl = 50%)
>(2 boy, 1 girl = dbinom(2,3,0.5) = 3/8), (3 boys, 2 girls), (4 boys, 3
>girls), etc., and then divide by the sum.  

You've got the probabilities wrong.  For example, to get 2 boys and 1
girl, the first child must be a girl (or there would be no more
children), and the last 2 both boys.  So the probability is 1/8, not
3/8.  To get 3 boys and 2 girls, the first is a girl, the second could
be either, the third depends on the first two.  It's messy.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Aug 30 22:57:57 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 30 Aug 2000 22:57:57 +0200
Subject: [R] family question
In-Reply-To: Douglas Bates's message of "30 Aug 2000 13:44:00 -0500"
References: <4.3.2.7.0.20000830183418.029912a0@127.0.0.1> <6raeduio7j.fsf@franz.stat.wisc.edu>
Message-ID: <x2ya1ea2lm.fsf@blueberry.kubism.ku.dk>

Douglas Bates <bates at stat.wisc.edu> writes:

> Troels Ring <tring at mail1.stofanet.dk> writes:
> 
> > Dear friends. Please see the program below and answer if it does simulate a 
> > population of 1.000.000 families, each with at max 20000 children (typical 
> > in Denmark, you know), constructed such that each family stops having 
> > children when more boys than girls are present ? Equal numbers of boys and 
> > girls are got in the population, according to the simulation, is that obvious ?
> 
> I am not an expert in probability or in stochastic processes so I
> can't say that it is "obvious".  I can say it is not unreasonable if
> you consider the sizes of families.  Basically what happens is that
> large families have nearly equal numbers of girls and boys and also
> have a high weight in the calculation of the population proportion.
> (You can only get odd numbered family sizes according to your rule and
> for a family of size 2K + 1 there will be K girls and K + 1 boys.)

I think it's a variant of the "quit while you're ahead" strategy of
gambling theory, where you show that the mean is 0 except if you have
infinite resources. I.e. if you continue long enough, you will
eventually reach a positive sum, but there is no bound to how deep in
debt you'll be on the way. 

So, in the present example you will reach the maximum of 20000 in a
few cases and those cases will have enough extra girls to compensate
for the excess boys in the other families. (20000? I know that winter
nights in Jutland can be boring, but this is ridiculous...)


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Wed Aug 30 23:19:06 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 30 Aug 2000 16:19:06 -0500
Subject: [R] family question
In-Reply-To: ben@zoo.ufl.edu's message of "Wed, 30 Aug 2000 15:38:35 -0400 (EDT)"
References: <Pine.LNX.4.10.10008301511240.1977-100000@bolker.zoo.ufl.edu>
Message-ID: <6r1yz6ih11.fsf@franz.stat.wisc.edu>

ben at zoo.ufl.edu writes:

>   Seems like a very odd setup but it does seem as though the code would do
> what you wanted.  Also seems as though you could do some combinatorics to
> get the answer much more efficiently if you wanted to ... (i.e., write
> down the probabilities of having families that were (1 boy, 0 girl = 50%)
> (2 boy, 1 girl = dbinom(2,3,0.5) = 3/8), (3 boys, 2 girls), (4 boys, 3
> girls), etc., and then divide by the sum.  Since you add children one at a
> time and stop when sum(n1)>sum(n2), you will always have one more boy than
> girl in the family ...) [That says, by the way, that you won't get equal
> numbers of boys and girls.  You will get between 100% and 50% boys, closer
> to 100%].

Actually, no.  If you have a large number of families you will see, as
you describe below, some extremely large families.  I simulated
another 10000 families with a maximum family size of 20000 and got 55
that would have execeded the maximum size.  The trick on the
population proportions is that each one of those families contributes
10000 girls whereas the approximately 5000 families of size 1 only
contribute a total of 5000 boys to the population.  The proportion in
the population starts to look like the proportion in the extremely
large families, which have nearly equal numbers of boys and girls.

>   However, after some playing (see slightly augmented code below),
> it also seems clear that there's something Troels and I are both
> missing, or a bug in the rbinom code (??) [or a failure of low-order
> bits to be uncorrelated?]; the distribution of family sizes has some
> odd characteristics (all family sizes are odd, as expected, but
> there are more large families -- and some that reach the maximum,
> which is unexpected).

The large families are legitimate occurences in the data.  I'm not
sufficiently skilled in counting problems to give a complete
explanation of what is going on but basically there are two forces at
work in determining the probability of large families.  The
probability of a given sequence yielding 2*K+1 children decreases
geometrically with K but the number of possible legitimate
combinations yielding that size increases combinatorially.  As Duncan
Murdoch said, the probabilities get messy.  There is only one pattern
for families of size 1 and 3 but there are two patterns for a family
of size 5 and more (5, I think) for a family of size 7

  Prob   Size  Pattern
   1/2     1   B
   1/8     3   G B B
   1/32    5   G B G B B
   1/32    5   G G B B B
   1/128   7   G B G B G B B
   1/128   7   G B G G B B B
   1/128   7   G G B B G B B
   1/128   7   G G B G B B B
   1/128   7   G G G B B B B

These results seem to be confirmed by simulation

> table(famsz)   # simulation of 10000 families
famsz
         1          3          5          7          9         11         13 
      5018       1223        624        364        265        186        188 
...

> 2 * (1/32)
[1] 0.0625
> 5 * (1/128)
[1] 0.0390625

Overall the probability of a given size of family decreases with the
size but not quickly enough to rule out very large families.

This creates an interesting programming problem.  Generally we want to
work on the "whole object" rather than running loops over elements,
which is why I used a vector of 0/1 results that "should be"
sufficiently long and found the minimum family size satisfying the
condition.

> famsz <- integer(10000)
> ind <- 1:20000
> for (i in seq(along = famsz)) famsz[i] <- 
+  min(ind[cumsum(ifelse(runif(length(ind)) > 0.5, 1, 0)) > (ind/2)])
There were 50 or more warnings (use warnings() to see the first 50)

This has the advantage of only one call to the random number generator
for each family and vectorizing certain operations but it is doing
20000 times as much work as necessary half the time!  A more extreme
version would generate a matrix of size 20000 by 10000 filled with 0/1
values and apply a function to the columns to generate the families
but that gets you into a space/time tradeoff.  The matrix would have 2
* 10^8 entries and I don't have that much memory.

An alternative is to run the loop as many times as necessary, as you
and Troels were doing.  I would re-write that as

> sz <- integer(1); boys <- integer(1)  # make sure they are stored as integers
> for (i in seq(along = famsz)) {
+    sz[] <- boys[] <- 0     # overwrite rather than assign new storage
+    repeat {
+       boys[] <- boys + (runif(1) > 0.5)
+       sz[] <- sz + 1
+       if (2 * boys > sz) break
+    }
+    famsz[i] <- sz
+ }

The overwriting is done to avoid having to garbage collect although I
imagine that will not be the limiting factor here.  With this code,
those large families take a very long time, perhaps approaching an
infinite loop.  I have had it running on a machine for an hour and it
has not finished yet.

I'll be interested in solutions that others can propose.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From eac at ma.adfa.edu.au  Wed Aug 30 23:14:13 2000
From: eac at ma.adfa.edu.au (Ted Catchpole)
Date: Thu, 31 Aug 2000 08:14:13 +1100
Subject: [R] family question
In-Reply-To: <4.3.2.7.0.20000830183418.029912a0@127.0.0.1>
References: <4.3.2.7.0.20000830183418.029912a0@127.0.0.1>
Message-ID: <00083109025307.26537@stat>

This is a standard problem in stochastic processes. The distribution of the
family size has an infinite mean. See, for example, Cox & Miller, "The theory
of stochastic processes", Methuen, 1965, example 2.8.

Ted Catchpole.

 On Thu, 31 Aug 2000,
Troels Ring wrote: 
> Dear friends. Please see the program below and answer if it does simulate a  
> population of 1.000.000 families, each with at max 20000 children (typical  
> in Denmark, you know), constructed such that each family stops having  
> children when more boys than girls are present ? Equal numbers of boys and  
> girls are got in the population, according to the simulation, is that
obvious ?  
>   
> ND <- NP <- NULL #ND - number boys, P: girls
> for (j in 1:1000000) # number of families
> {
> n1 <- n2 <- NULL
> for (i in 1:20000)  {
> n1[i] <- rbinom(1,1,0.5) # each equally likely - here number of boys
> n2[i] <- 1- n1[i] # and girls
> if(sum(n1)>sum(n2)) break
> }
> ND[j] <- sum(n1)
> NP[j] <- sum(n2)
> }
> sum(ND)/sum(NP)
> j
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-- 
Dr E.A. (Ted) Catchpole                 
School of Maths & Stats                Honorary Senior Research Fellow
University College, UNSW               Institute of Maths & Stats      
Australian Defence Force Academy       University of Kent at Canterbury
Canberra, ACT 2600, Australia          Canterbury CT2 7NF, England
e-catchpole at adfa.edu.au                E.A.Catchpole at ukc.ac.uk
www.ma.adfa.edu.au/~eac          
fax: +61 2 6268 8886
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Thu Aug 31 00:04:56 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Wed, 30 Aug 2000 18:04:56 -0400 (EDT)
Subject: [R] family question
In-Reply-To: <6r1yz6ih11.fsf@franz.stat.wisc.edu>
Message-ID: <Pine.LNX.4.10.10008301722420.2320-100000@bolker.zoo.ufl.edu>


  OK, I was wrong.  This problem is more interesting (combinatorially and
computationally) than I thought.  I wonder if a "real" combinatorist could
come up with an analytical solution?  Luckily the tail of the distribution
does something understandable (pushes the sex ratio towards 1:1), so we
can guess (unless I'm messing something up again) that as we increase the
maximum family size the sex ratio will actually go towards 1:1.

  However, I do think this is more interesting as a combinatorial and
computational challenge than as a demographic model: the stopping rule is
(I think) a little odd, and the max family size is also (obviously) pretty
large.  Although ... I didn't actually see any systematic effect when I
tried it for max family sizes=5,10,15,20,100 (10000 families) -- maybe I'm
wrong again, and everything cancels out and the expected value really is
equal (??)

  Ben Bolker

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From roger at ysidro.econ.uiuc.edu  Thu Aug 31 00:07:22 2000
From: roger at ysidro.econ.uiuc.edu (Roger Koenker)
Date: Wed, 30 Aug 2000 17:07:22 -0500 (CDT)
Subject: [R] family question
In-Reply-To: <6r1yz6ih11.fsf@franz.stat.wisc.edu>
Message-ID: <Pine.SOL.3.96.1000830165803.8787b-100000@ysidro>

I think that this is explained quite definitively in Feller v1.2nd ed III.6.
Paraphrasing...

	...the probability that in families of 10,000 the lead in boys/girls
	never changes is about 0.0085.





url:	http://www.econ.uiuc.edu		Roger Koenker	
email	roger at ysidro.econ.uiuc.edu		Department of Economics
vox: 	217-333-4558				University of Illinois
fax:   	217-244-6678				Champaign, IL 61820

On 30 Aug 2000, Douglas Bates wrote:

> 
> Actually, no.  If you have a large number of families you will see, as
> you describe below, some extremely large families.  I simulated
> another 10000 families with a maximum family size of 20000 and got 55
> that would have execeded the maximum size.  The trick on the
> population proportions is that each one of those families contributes
> 10000 girls whereas the approximately 5000 families of size 1 only
> contribute a total of 5000 boys to the population.  The proportion in
> the population starts to look like the proportion in the extremely ....

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Thu Aug 31 02:20:07 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Wed, 30 Aug 2000 20:20:07 -0400 (EDT)
Subject: [R] family question
In-Reply-To: <Pine.SOL.3.96.1000830165803.8787b-100000@ysidro>
Message-ID: <Pine.LNX.4.10.10008302019140.2774-100000@bolker.zoo.ufl.edu>


  I hope all of you folks have Feller, Cox & Miller, etc., handy on your
bookshelves rather than memorized ...

On Wed, 30 Aug 2000, Roger Koenker wrote:

> I think that this is explained quite definitively in Feller v1.2nd ed III.6.
> Paraphrasing...
> 
> 	...the probability that in families of 10,000 the lead in boys/girls
> 	never changes is about 0.0085.
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hodgess at uhddx01.dt.uh.edu  Thu Aug 31 02:36:48 2000
From: hodgess at uhddx01.dt.uh.edu (Erin Hodgess)
Date: Wed, 30 Aug 2000 19:36:48 -0500 (CDT)
Subject: [R] Install polynom pack
Message-ID: <200008310036.TAA08637@uhddx01.dt.uh.edu>

Dear R people:

I am trying to download the package polynom to R version 1.0.1.1.
on Windows.

Here are my commands and output:

> install.packages("polynom",lib="c:\rw1011\library",CRAN="http://www.r-project.org/src/contrib/")
Error in start[k]:(start[k + 1] - 1) : NA/NaN argument
In addition: Warning message: 
Download had nonzero exit status in: download.file(url = paste(contriburl, "PACKAGES", sep = "/"),  
> 

Note:  I installed wget and lynx in the proper path, so that should be ok.

Any advice would be much appreciated!

Sincerely,
Erin M. Hodgess, Ph.D.
Associate Professor
Department of Computer and Mathematical Sciences
University of Houston - Downtown
One Main Street 
Houston, TX 77002
e-mail: hodgess at uhddx01.dt.uh.edu


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From philr at mail.austasia.net  Thu Aug 31 12:31:00 2000
From: philr at mail.austasia.net (Phil Rhoades)
Date: Thu, 31 Aug 2000 11:31:00 +0100
Subject: [R] family question
In-Reply-To: <Pine.LNX.4.10.10008301722420.2320-100000@bolker.zoo.ufl.ed
 u>
References: <6r1yz6ih11.fsf@franz.stat.wisc.edu>
Message-ID: <4.3.1.0.20000831112910.00aaa770@mail.austasia.net>

Just as an aside (and if I am remembering my population genetics properly) 
there are about 100-105 boys born for every 100 girls - depending on 
environment I think.  The girls last better (so it evens up pretty quickly) 
 . and then take over . .

Phil.
-
Philip Rhoades

Pricom Pty Limited  (ACN  003 252 275)
GPO Box 3411
Sydney NSW	2001
Australia
Mobile:  +61:0411-185-652
Fax:  +61:2:8923-5363
E-mail:  philr at mail.austasia.net

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Thu Aug 31 04:29:41 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 30 Aug 2000 21:29:41 -0500
Subject: [R] family question
In-Reply-To: Douglas Bates's message of "30 Aug 2000 16:19:06 -0500"
References: <Pine.LNX.4.10.10008301511240.1977-100000@bolker.zoo.ufl.edu> <6r1yz6ih11.fsf@franz.stat.wisc.edu>
Message-ID: <6rpumq6u3u.fsf@franz.stat.wisc.edu>

I couldn't resist trying to create a swish simulation method for this
problem.

To simulate a single family size I start with a length "basesize"
(defaults to 16) random vector of 1's, representing boys, and -1's,
representing girls, each with 0.50 probability.

The reason for -1 and 1 is because checking for more boys than girls
reduces to checking if the cumulative sum is greater than zero.
(Thanks to Richard Johnson for the suggestion.)  If you do not get a
family with more boys than girls in that sample then you double the
length of the sample and check again.  I impose a limit on the number
of doublings: 13 on a machine with a moderate vsize and 16 on a
machine where I can set vsize = 100M.  (These limits could change
after R-1.2.0 is released (probably in December) because of its new
storage allocation and garbage collection mechanism.)

The function to simulate one family size is

fam <-
    function(basesize = 16, doublings = 16)
{
    ## simulate a family size in Troels Ring's problem
    samp <- ifelse(runif(basesize) > 0.5, 1, -1)
    for (i in 0:doublings) {
        moreboys <- cumsum(samp) > 0
        if (any(moreboys)) return(min(seq(along = moreboys)[moreboys]))
        samp <- c(samp,
                  ifelse(runif(length(samp)) > 0.5, 1, -1))
    }
    return(NA)
}

On the machine where I allowed extremely large family sizes (16
doublings), I got some extremely large sizes 
> gc()            # check the amount of memory allocated
           free    total  (Mb)
Ncells   658984   800000  15.3
Vcells 13062681 13107200 100.0
> famsz <- integer(10000)
> for (i in seq(along = famsz)) famsz[i] <- fam()
> summary(famsz)
    Min.  1st Qu.   Median     Mean  3rd Qu.     Max.     NA's 
     1.0      1.0      1.0    665.7      9.0 832200.0     12.0 

The NA's represent family sizes that would be greater than 2^20.  Note
that there is about a 1 in 1000 chance of that occuring!

Here are the big families
> sort(famsz[famsz > 10000])
 [1]  10285  10379  10485  11337  11623  11669  11747  12185  12273  12335
[11]  13547  14113  14623  15467  15567  16425  20253  20515  21133  22559
[21]  22989  23015  23387  23771  24051  26353  27701  28297  29577  29579
[31]  30071  32207  35971  37669  38419  39185  40457  47893  51383  52869
[41]  66031  68411  71883  74351  75481  77125  83023  91483  92489  92565
[51] 105233 107009 115961 121769 188675 204793 234175 239793 251181 264895
[61] 335125 337655 353795 464961 832211

Even ignoring the really big families (those that are NA's here), the
proportion of females comes out to be essentially 0.5 in this sample

> sum((famsz - 1)/2, na.rm = TRUE)/sum(famsz, na.rm = TRUE)
[1] 0.499249
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Thu Aug 31 06:33:13 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 30 Aug 2000 23:33:13 -0500
Subject: [R] family question
In-Reply-To: Douglas Bates's message of "30 Aug 2000 21:29:41 -0500"
References: <Pine.LNX.4.10.10008301511240.1977-100000@bolker.zoo.ufl.edu> <6r1yz6ih11.fsf@franz.stat.wisc.edu> <6rpumq6u3u.fsf@franz.stat.wisc.edu>
Message-ID: <6rhf82rqwm.fsf@franz.stat.wisc.edu>

In the continuing saga of simulating family sizes from Troels Ring's
demographic problem, I offer a somewhat improved function.  In the previous
function if the process did not terminate in the current sample I
would append a new sample to it and recalculate the cumulative sum.
Obviously this is a waste because you already know that the process
will not terminate in the current sample and you know the total from
this sample.  The new function keeps track of the current total (tot)
and the family size to this point (offset) and only calculates
cumulative sums for the new part.

This function increases the size of chunks on which it is working up
to a threshold (2^20 by default) then fixes the chunk size and
continues until the total size exceeds another threshold (2^25 by
default).  I ran this simulation on cvs.r-project.org, a 400 MHz
Pentium III with 768 MB memory running Linux.  I could simulate
10000 samples in about 11 minutes.  The largest value is over
18,000,000 and there is one NA, which would have been over 32,000,000.

> fam
function(basesize = 16, maxvec = 2^20, maxoffset = 2^25)
{
    ## simulate the family sizes in Troels Ring's problem
    samp <- ifelse(runif(basesize) > 0.5, 1, -1)
    tot <- offset <- 0
    repeat {
        cs <- tot + cumsum(samp)
        moreboys <- cs > 0
        if (any(moreboys)) return(min((offset + seq(along = moreboys))[moreboys]))
        offset <- offset + length(samp)
        if (offset > maxoffset) return(NA)
        tot <- cs[length(cs)]
        samp <- ifelse(runif(min(2*length(samp), maxvec)) > 0.5, 1, -1)
    }
}
> famsamp
function(n = 10000)
{
   val <- integer(n)
   for (i in seq(along = val)) val[i] <- fam()
   val
}
> system.time(fs <- famsamp())
[1] 673.45   1.12 752.76   0.00   0.00
> summary(fs)
    Min.  1st Qu.   Median     Mean  3rd Qu.     Max.     NA's 
       1        1        1     5091        9 18180000        1 
> sort(fs[fs > 100000])
 [1]   137031   156689   168471   190025   220981   221267   285271   379793
 [9]   423175   549397   571879   741895   766307   958423  1819621  1850911
[17]  2024143  2110585  2749441  2860301 11046833 18181117


-- 
Douglas Bates                            bates at stat.wisc.edu
Statistics Department                    608/262-2598
University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ukans.edu  Thu Aug 31 07:25:46 2000
From: pauljohn at ukans.edu (Paul E Johnson)
Date: Thu, 31 Aug 2000 00:25:46 -0500
Subject: [R] What happenes with R-gnome?
Message-ID: <39ADEC5A.CC4CC6DC@ukans.edu>

When I saw "SciGraphica":
http://magnet.fsu.edu/~feiguin/scigraphica/screenshots.html

I wished it could be a GUI frontend for R on Unix.

  
-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science            http://lark.cc.ukans.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug 31 07:33:46 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 31 Aug 2000 06:33:46 +0100 (BST)
Subject: [R] Install polynom pack
In-Reply-To: <200008310036.TAA08637@uhddx01.dt.uh.edu>
Message-ID: <Pine.GSO.4.05.10008310628410.12521-100000@auk.stats>

On Wed, 30 Aug 2000, Erin Hodgess wrote:

> Dear R people:
> 
> I am trying to download the package polynom to R version 1.0.1.1.
> on Windows.
> 
> Here are my commands and output:
> 
> > install.packages("polynom",lib="c:\rw1011\library",CRAN="http://www.r-project.org/src/contrib/")

You must use \\ for \ in a string. I suggest you write "c:/rw1011/library",
which is legal and avoids having to remember.  I don't know if this is the
only problem.

> Error in start[k]:(start[k + 1] - 1) : NA/NaN argument
> In addition: Warning message: 
> Download had nonzero exit status in: download.file(url = paste(contriburl, "PACKAGES", sep = "/"),  
> > 
> 
> Note:  I installed wget and lynx in the proper path, so that should be ok.
> 
> Any advice would be much appreciated!

If you want the current version of polynom, it is in the scripts for
V&R's `S Programming', at http://www.stat.ox.ac.uk/pub/MASS3/Sprog/
and mirrors.  The version discussed in that book (and in those scripts)
is considerably later than that on CRAN (or the S versions on which that is
based).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From JSung at FMCG.com  Thu Aug 31 09:09:53 2000
From: JSung at FMCG.com (Jun Sung)
Date: Thu, 31 Aug 2000 03:09:53 -0400
Subject: [R] help with data import/export
Message-ID: <93F7DEA687A2D3118BF200508B63D2848810FD@EXCHANGE1>

how can I import/export data from ms excel?
also is there a way to import/export data of the hdf format?
is there a way to import/export hdf format for ms excel as well?
thank you very much in advance.
/js
######################################################################
This e-mail message has been scanned and cleared by MailMarshal 
http://www.marshalsoftware.com
######################################################################
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Charles.Raux at let.ish-lyon.cnrs.fr  Thu Aug 31 11:18:32 2000
From: Charles.Raux at let.ish-lyon.cnrs.fr (Charles Raux)
Date: Thu, 31 Aug 2000 10:18:32 +0100
Subject: [R] Multiv / hierclust / plclust
Message-ID: <5FE50CD720F@let.ish-lyon.cnrs.fr>

I use hierclust (hierarchical clustering) in multiv package. In the 
documentation it is said that plclust (plotting a dendrogram) is 
available in S-plus. Can I find it anywhere (I have searched through 
http://lib.stat.cmu.edu/S and found only quotations of plclust in 
multiv) or is it only part of the S package (which I don't have)?
Thanks

---------------
Charles RAUX,
Laboratoire d'Economie des Transports
CNRS-Universit? Lumi?re Lyon 2-ENTPE
email : charles.raux at let.ish-lyon.cnrs.fr
http://www.ish-lyon.cnrs.fr/let
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From theis at statistik.uni-dortmund.de  Thu Aug 31 12:26:47 2000
From: theis at statistik.uni-dortmund.de (Winfried Theis)
Date: Thu, 31 Aug 2000 12:26:47 +0200 (MEST)
Subject: [R] Multiv / hierclust / plclust
In-Reply-To: <5FE50CD720F@let.ish-lyon.cnrs.fr>
Message-ID: <XFMail.000831122647.theis@statistik.uni-dortmund.de>

Hello,

you may try hclust in mva it does have plot.hclust as default plotting
routine which does a dendrogram. Or as another alternative there are the
functions "diana" and "agnes" in the library cluster which do both hierarchicle
clustering and have default plot routines which offer a dendrogram as well as
another useful graphic called "banner" for details see Kaufman and Rousseeuw
(1990) "Finding Groups in Data", Wiley, New York.

Winfried Theis
----------------------------------
E-Mail: Winfried Theis <theis at statistik.uni-dortmund.de>
Date: 31-Aug-00
Tel.: +49-231-755-5903                  Room: Mathematikgebäude, M832
Dipl.-Math. Winfried Theis, Graduiertenkolleg "Angewandte Statistik",
Universität Dortmund, 44221 Dortmund
----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Aug 31 12:47:04 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 31 Aug 2000 12:47:04 +0200
Subject: [R] What happenes with R-gnome?
In-Reply-To: Paul E Johnson's message of "Thu, 31 Aug 2000 00:25:46 -0500"
References: <39ADEC5A.CC4CC6DC@ukans.edu>
Message-ID: <x24s41zp07.fsf@blueberry.kubism.ku.dk>

Paul E Johnson <pauljohn at ukans.edu> writes:

> When I saw "SciGraphica":
> http://magnet.fsu.edu/~feiguin/scigraphica/screenshots.html
> 
> I wished it could be a GUI frontend for R on Unix.

As for R-gnome, it is dormant at the moment. The tcltk interface
somewhat less so (i.e. I hope to have some time to work on it in the
next couple of months). 

Personally, I still haven't seen the light, Gnome-wise, and I see some
disturbing tendencies towards "Microsoftish" design principles (with
applications writing undocumented data to undocumented configuration
files, whether or not the user wants it to happen. Not to mention a
horrible number of bugs.). 

[I've been trying to use the Gnome desktop since we got the R-Gnome
code, and although some of the stuff is neat and the pictures are
pretty, other aspects are quite maddening. It may well go out the
window soon, to be replaced with something sane like fvwm2.]

However, the choice of GUI toolkit is more or less orthogonal to the
issue of having a plotting interface like the one on those
screenshots. I do sympathize with the desire to have simple and
accessible interfaces like that, but one has to be aware of the
drawbacks. Consider the following R function (somewhat simplified from
the original)

"trace.plot" <-
    function(x, y, g){
        g <- factor(g)
        dfr <- na.omit(data.frame(x=x,y=y,g=g))
        dfr <- dfr[order(dfr$g,dfr$x),] 
        plot(x, y, type="n")
        for ( i in levels(g) )
            evalq(lines(x,y), subset(dfr,g==i))
    }

This plots repeated measurement data for each value of g (typ.
subjects). How would this be represented in a GUI interface? You'll
likely end up with something like

- plot
 \_ +box
 |_ +axis
 |_ +axis
 |_ +title
 |_ +line
...
 |_ +line
 |_ +line
 |_ +line

with as many line objects as there are subjects in your study. Now
consider changing the color of all those to grey, and compare that to
just adding col="grey" to the lines() command.

OK, one can do better, but not without departing from the plotting
model of R. One could add the notion of scoped graphics parameters for
instance (say - talking off of the top of my head here) and introduce
more intermediate level graphics objects. You might
then have

- plot
 \_ +box
 |_ +axis
 |_ +axis
 |_ +title
 |_ -line bundle
   \_ +settings
   |_ +line
   |_ +line
   |_ +line
   |_ +line

This would have some repercussions on the R code that can generate
this type of plot, though. Perhaps something like

	graph.obj("line bundle", {
            loc.par(col="grey")
            for ( i in levels(g) )
                evalq(lines(x,y), subset(dfr,g==i))
	})

The difficult question is whether something like this can be done
systematically, without reducing the scope of plots that can be made. 

Also, there is the "writing in water" aspect of the whole thing: If
you do extensive manipulations of a plot, you get to do the whole
thing again if (when!) a data error is discovered. If you have a
program or script, just rerun it.

The GRZ graphics model on which R and S are based is beginning to show
its age, and at some point one should probably consider improving upon
it. One problem is that in many respects it is a hard act to follow,
because of the number of things it already does right. One thing that
I would probably put higher on my wish list than interactive editing
(which you, BTW, already can do in Windows and on Unix via the xfig()
driver) would be some version of plot linkage - ensuring that plot
elements fit in the plotting area, forcing multiple plots to have
similar axes, etc.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas.pesl at arcs.ac.at  Thu Aug 31 13:35:41 2000
From: thomas.pesl at arcs.ac.at (Pesl Thomas)
Date: Thu, 31 Aug 2000 13:35:41 +0200
Subject: [R] newsgroup
Message-ID: <D16B18FFF743D311A9CA0090275F3CB001D8C7FB@arcss07.arcs.ac.at>

Is there a newsgroup for r discussion, too, or are there only these
mailinglists?

    Thomas
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Thu Aug 31 14:04:48 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 31 Aug 2000 07:04:48 -0500
Subject: [R] What happenes with R-gnome?
In-Reply-To: Peter Dalgaard BSA's message of "31 Aug 2000 12:47:04 +0200"
References: <39ADEC5A.CC4CC6DC@ukans.edu> <x24s41zp07.fsf@blueberry.kubism.ku.dk>
Message-ID: <6raedtljq7.fsf@franz.stat.wisc.edu>

Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

> Paul E Johnson <pauljohn at ukans.edu> writes:
> 
> > When I saw "SciGraphica":
> > http://magnet.fsu.edu/~feiguin/scigraphica/screenshots.html
> > 
> > I wished it could be a GUI frontend for R on Unix.

...

> However, the choice of GUI toolkit is more or less orthogonal to the
> issue of having a plotting interface like the one on those
> screenshots. I do sympathize with the desire to have simple and
> accessible interfaces like that, but one has to be aware of the
> drawbacks. Consider the following R function (somewhat simplified from
> the original)
> 
> "trace.plot" <-
>     function(x, y, g){
>         g <- factor(g)
>         dfr <- na.omit(data.frame(x=x,y=y,g=g))
>         dfr <- dfr[order(dfr$g,dfr$x),] 
>         plot(x, y, type="n")
>         for ( i in levels(g) )
>             evalq(lines(x,y), subset(dfr,g==i))
>     }

I think the Peter's point here deserves to be emphasized.  GUI's are
very helpful in performing a task for the first time but often get in
the way when doing tasks repeatedly.  That is why I think there will
continue to be a place for "command line" interfaces, like the S
programming language, even in the age of Microsoft Office and even for
things like creating data graphics.

About a year ago Bill Venables and I were at a conference and happened
to be sitting together during a presentation on state-of-the-art data
graphics.  The presenter showed a series of about 10 slides to
demonstrate how easy it way to produce a certain type of plot.  The
commentary went like "You click on this gadget in the toolbar and
(next slide) drag that pointer to the plotting area and (next slide)
the plot changes to this form.  Then you go back to the data bin (next
slide) and click on another variable and (next slide) drag that to the
vertical axis and ..."  After the 10 slides Bill and I looked at each
other and both remarked that you could do the whole thing in a 1-line
trellis formula and furthermore it could be described in a fraction of
the time required to describe the GUI approach.  (I should note that
trellis is available in S-PLUS and not currenly available in R.)

This is not to say that there is no place for GUI's.  I'm just saying
that the usefulness of GUI's for tasks like creating data graphics is
often overestimated.  Or, looking at things the other way, the
usefulness of command line interfaces is often underestimated.  Bill
has remarked that a common comment from students in his short courses
is that they hadn't realized how quickly tasks could be accomplished
when using the text-based interface to S-PLUS instead of the GUI.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From steuer at statistik.uni-dortmund.de  Thu Aug 31 14:57:18 2000
From: steuer at statistik.uni-dortmund.de (Dipl.-Stat. Detlef Steuer)
Date: Thu, 31 Aug 2000 14:57:18 +0200 (CEST)
Subject: [R] newsgroup
In-Reply-To: <D16B18FFF743D311A9CA0090275F3CB001D8C7FB@arcss07.arcs.ac.at>
Message-ID: <XFMail.20000831145718.steuer@statistik.uni-dortmund.de>


On 31-Aug-2000 Pesl Thomas wrote:
> Is there a newsgroup for r discussion, too, or are there only these
> mailinglists?

_Only_? _Only_? What do you mean with "only"?

Oh, man ....
Come and see.

:-)
(Sorry, but I could'nt resist.)

Detlef


-- 

Detlef Steuer Universitaet Dortmund                             ///////
LS Computergestuetzte Statistik                          U N I D O ///  
steuer at statistik.uni-dortmund.de                        ______///////  
Tel: ++49 +231 755 4353 Fax: ++49 +231 755 4387         \_\_\_\/////
                                                         \_\_\_\///
                                                          \_\_\_\/

*** The root causes of bad leadership are greed, ***
*** aggressiveness, pride and resentment.        ***
*** Analects, Konfuzius                          ***
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Charles.Raux at let.ish-lyon.cnrs.fr  Thu Aug 31 15:23:22 2000
From: Charles.Raux at let.ish-lyon.cnrs.fr (Charles Raux)
Date: Thu, 31 Aug 2000 14:23:22 +0100
Subject: [R] help with data import/export
In-Reply-To: <93F7DEA687A2D3118BF200508B63D2848810FD@EXCHANGE1>
Message-ID: <602652A1446@let.ish-lyon.cnrs.fr>

Did you try R-Excel interface ?
see http://lib.stat.cmu.edu/R/CRAN/contrib/extra/index.html

Le 31 Aug 00 ? 3:09, Jun Sung ?crivait:

> From:          Jun Sung <JSung at FMCG.com>
> To:            "'r-help at lists.R-project.org'" <r-help at lists.R-project.org>
> Subject:       [R] help with data import/export
> Date:          Thu, 31 Aug 2000 03:09:53 -0400

> how can I import/export data from ms excel?
> also is there a way to import/export data of the hdf format?
> is there a way to import/export hdf format for ms excel as well?
> thank you very much in advance.
> /js

---------------
Charles RAUX,
Laboratoire d'Economie des Transports
CNRS-Universit? Lumi?re Lyon 2-ENTPE
email : charles.raux at let.ish-lyon.cnrs.fr
http://www.ish-lyon.cnrs.fr/let
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dmurdoch at pair.com  Thu Aug 31 14:53:06 2000
From: dmurdoch at pair.com (Duncan Murdoch)
Date: Thu, 31 Aug 2000 12:53:06 GMT
Subject: [R] What happenes with R-gnome?
In-Reply-To: <6raedtljq7.fsf@franz.stat.wisc.edu>
References: <39ADEC5A.CC4CC6DC@ukans.edu> <x24s41zp07.fsf@blueberry.kubism.ku.dk> <6raedtljq7.fsf@franz.stat.wisc.edu>
Message-ID: <39af50da.2294872@julian.uwo.ca>

My two cents on the issue of GUIs and graphics:

There are good GUIs and bad GUIs.  What would be nice in R would be
the ability to manipulate a plot on the screen to get the visual parts
right, and then to save the resulting template in a variable to use as
a starting point for a series of programmed changes.  

The R model of a plot as an unerasable ink drawing on a piece of paper
makes graphs harder to draw:  It's hard to draw a graph that shows the
current status in a simulation, for instance, because you might not
know the appropriate scale at the start.

It's possible to keep most of the good aspects of plots in R, but also
to allow interactive editing.  <Ad> My column in the latest Chance
magazine talks about some of this.</Ad>

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Aug 31 15:21:24 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 31 Aug 2000 15:21:24 +0200
Subject: [R] help with data import/export
In-Reply-To: "Charles Raux"'s message of "Thu, 31 Aug 2000 14:23:22 +0100"
References: <602652A1446@let.ish-lyon.cnrs.fr>
Message-ID: <x2pumpy3aj.fsf@blueberry.kubism.ku.dk>

"Charles Raux" <Charles.Raux at let.ish-lyon.cnrs.fr> writes:

> Did you try R-Excel interface ?
> see http://lib.stat.cmu.edu/R/CRAN/contrib/extra/index.html

Hmm. Could be a bit of an overkill.

> Le 31 Aug 00 ? 3:09, Jun Sung ?crivait:

> > how can I import/export data from ms excel?

Here's what I'm planning to teach my students (Import only, to export
use write.table):

Sometimes one will want to move data between \R{} and other
statistical packages or spreadsheets. Work is in progress on support
for letting \R{} read and write the save formats of other packages,
but currently the easiest way remains to be to get the other package
to export data as a text file of some sort and use one of
|read.table|, |read.csv|, and |read.csv2| to read the data as an \R{}
data frame.  Unfortunately, each program seems to have its own
idiosyncracies, but the read functions in \R{} are flexible enough to
cope.  The current techniques for the three most common PC programs
are as follows.  Slight variations of the tab-separated format seems
to be the common denominator. However, one should be careful in
sending such files by email since some mail programs will convert the
TAB characters to a number of spaces.

\begin{description}
\item[SPSS:] Use |File, Export| menu in the data editor and export as
  a tab-separated file (for simplicity, say |mydata.txt| in the top
  directory on the |C:| drive). Make sure that it contains a header
  line with the variable names and use
  |read.csv2("C:/mydata.txt",sep="\t")| to read it in. This refers to
  locales where the comma is used as decimal separator, otherwise use
  |read.csv|.
  
  Alternatively, one can copy the data or a section of it directly to
  a text editor such as Notepad via the Windows copy and paste
  mechanism.  Note however that the variable names are not copied in
  this way, so one must either add them by hand (recommended) or use
  |read.csv2("C:/mydata.txt",sep="\t",header=F)| and add variable
  names later.


\item[Excel:] Use |File,Save as...| and choose tab-sep (|.txt|) or use
  the clipboard.  Subsequent data handling is similar to SPSS. Note
  that a header line will only be present if it was in the spreadsheet
  to begin with.

\item[SAS:] It is possible to export in a comma-separated or
  tab-separated format. Notice that SAS will use |"."| for decimal
  point irrespective of locale. The files can be read using
  |read.csv("C:/mydata.csv")| or |read.csv("C:/mydata.csv",sep="\t")|.
  The copy and paste technique does not work.
\end{description}


> > also is there a way to import/export data of the hdf format?

There's an hdf5 package which would seem to be functional on Windows. 

> > is there a way to import/export hdf format for ms excel as well?

Wouldn't know...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ukans.edu  Thu Aug 31 15:22:54 2000
From: pauljohn at ukans.edu (Paul E Johnson)
Date: Thu, 31 Aug 2000 08:22:54 -0500
Subject: [R] help with data import/export
References: <93F7DEA687A2D3118BF200508B63D2848810FD@EXCHANGE1>
Message-ID: <39AE5C2E.D8C3B477@ukans.edu>

Jun Sung wrote:
>
> also is there a way to import/export data of the hdf format?
There is a contrib package for hdf5 support written by Marcus Daniels of
the Swarm Development Group (SDG: http://www.swarm.org). I built RPM for
it and you can get it where R RPMS are found.

-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science            http://lark.cc.ukans.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Tue Aug 29 15:32:43 2000
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 29 Aug 2000 09:32:43 -0400
Subject: [R] newsgroup
In-Reply-To: <XFMail.20000831145718.steuer@statistik.uni-dortmund.de>
References: <XFMail.20000831145718.steuer@statistik.uni-dortmund.de>
Message-ID: <39aeba89.1455477@fisher.stats.uwo.ca>


>On 31-Aug-2000 Pesl Thomas wrote:
>> Is there a newsgroup for r discussion, too, or are there only these
>> mailinglists?

I don't think there is one.  You can read archives of the mailing list
online at <http://www.ens.gu.edu.au/robertk/R/>.  I'd like to set up a
gateway between the mailing list and a newsgroup (which would likely
be on a local server here, not one of the comp.lang newsgroups), but I
don't know how.  If anyone can point me to instructions, I'd
appreciate it.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marcus.eger at physik.uni-marburg.de  Thu Aug 31 15:39:39 2000
From: marcus.eger at physik.uni-marburg.de (Marcus Eger)
Date: Thu, 31 Aug 2000 15:39:39 +0200
Subject: [R] Problem with R INSTALL locfit on DEC alphaev56-dec-osf4.0d
Message-ID: <39AE601B.CDCD7144@physik.uni-marburg.de>


Dear all,

usually I work under linux, but I tried to install R-1.1.1 on
our alpha's which worked well.
However, installation of the locfit package produced the following
warning:

---------%<----------------
Installing package `locfit' ...
 libs
/vol/bin/gcc -I/vol/math/R/include  -I/usr/local/include -mieee    -g
-O2 -c S_e
nter.c -o S_enter.o
S_enter.c: In function `basis':
S_enter.c:39: warning: passing arg 3 of `call_R' from incompatible
pointer type

...

/usr/bin/ld:
Warning: Unresolved:
call_R
----------%<----------------

By the way, the installation finishes with no errors, but locfit does
not work.
A similar thing happens with KernSmooth:
----------%<----------------
Warning: Unresolved:
dqrdc_
dqrsl_
dscal_
daxpy_
dswap_
idamax_
ddot_

I wonder which libraries are missing...
Has anybody got an idea?

Thanks

   Marcus
-- 
+-------------------------------------------------------
| Marcus Eger
| Philipps Universitaet Marburg
| Fachbereich Physik AG Neurophysik
| Renthof 7
| 35032 Marburg
| Tel. +49 6421 282-4169
| Fax  +49 6421 282-7034
+-------------------------------------------------------
| E-Mail: marcus.eger at physik.uni-marburg.de
+-------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug 31 16:00:54 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 31 Aug 2000 15:00:54 +0100 (BST)
Subject: [R] Problem with R INSTALL locfit on DEC alphaev56-dec-osf4.0d
In-Reply-To: <39AE601B.CDCD7144@physik.uni-marburg.de>
Message-ID: <Pine.GSO.4.05.10008311451030.19692-100000@auk.stats>

On Thu, 31 Aug 2000, Marcus Eger wrote:

> 
> Dear all,
> 
> usually I work under linux, but I tried to install R-1.1.1 on
> our alpha's which worked well.
> However, installation of the locfit package produced the following
> warning:
> 
> ---------%<----------------
> Installing package `locfit' ...
>  libs
> /vol/bin/gcc -I/vol/math/R/include  -I/usr/local/include -mieee    -g
> -O2 -c S_e
> nter.c -o S_enter.o
> S_enter.c: In function `basis':
> S_enter.c:39: warning: passing arg 3 of `call_R' from incompatible
> pointer type
> 
> ...
> 
> /usr/bin/ld:
> Warning: Unresolved:
> call_R
> ----------%<----------------
> 
> By the way, the installation finishes with no errors, but locfit does
> not work.

Loader is using char ** like call_S, whereas call_R has void **,
but it is only a warning.  call_R should be exported by R.bin.


> A similar thing happens with KernSmooth:
> ----------%<----------------
> Warning: Unresolved:
> dqrdc_
> dqrsl_
> dscal_
> daxpy_
> dswap_
> idamax_
> ddot_
> 
> I wonder which libraries are missing...

None. Those link against your R executable, which should be exporting them,
or your blas library if you used one.  (If you did the latter, check
it does appear on the build line for the shared library.)

My suspicion is that your ld is warning about unsatisfied symbols
on shared libraries. There is a way to turn that off, but it does not
matter.

Now, does KernSmooth work, and what does `locfit does not work' mean?
That's about the most dreaded phrase in a tech support call or a bug
report!


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marcus.eger at physik.uni-marburg.de  Thu Aug 31 17:01:11 2000
From: marcus.eger at physik.uni-marburg.de (Marcus Eger)
Date: Thu, 31 Aug 2000 17:01:11 +0200
Subject: [R] using browser() in complex programs - where am I?
Message-ID: <39AE7337.5B546336@physik.uni-marburg.de>

Dear all,

is there an easy way to know at which position in the source code
browser() (or stop()) was called? This seems to be important for me when
I try
to debug a program (e.g. using options(error=quote(dump.frames())))

traceback() returns some information, but I miss something like a line
number, e.g. "stopped at line 999 in foo.R". 

Marcus

-- 
+-------------------------------------------------------
| Marcus Eger
| Philipps Universitaet Marburg
| Fachbereich Physik AG Neurophysik
| Renthof 7
| 35032 Marburg
| Tel. +49 6421 282-4169
| Fax  +49 6421 282-7034
+-------------------------------------------------------
| E-Mail: marcus.eger at physik.uni-marburg.de
+-------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas.pesl at arcs.ac.at  Thu Aug 31 17:17:46 2000
From: thomas.pesl at arcs.ac.at (Pesl Thomas)
Date: Thu, 31 Aug 2000 17:17:46 +0200
Subject: [R] write
Message-ID: <D16B18FFF743D311A9CA0090275F3CB001D8C7FF@arcss07.arcs.ac.at>

i want to write an output created by table() to a file to my disc

> tab
   
or    1  2  3  4  5  6
  1  57 80 25 23 46 23
  2 106 35 59  8 51 40

> write(tab,"h:/tab.txt")

when i do it that way, the text file is a sort of mess:

57 106 80 35 25
59 23 8 46 51
23 40

i tried it with write.table but:
>Error in as.data.frame.default(x[[i]], optional = TRUE) : 
>        can't coerce table into a data.frame

so what is the problem?

    Thomas
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gfeeney at hawaii.edu  Thu Aug 31 16:12:22 2000
From: gfeeney at hawaii.edu (Griffith Feeney)
Date: Thu, 31 Aug 2000 10:12:22 -0400
Subject: [R] help with data import/export
In-Reply-To: <93F7DEA687A2D3118BF200508B63D2848810FD@EXCHANGE1>
Message-ID: <4.3.2.7.0.20000831095636.00b37dc0@pop-server.hawaii.edu>

Depends on the particulars of the data. Here's how I move between R and 
Excel for tables of the form

       col1  col2  ...  colm
row1     #     #  ...     #
row2     #     #  ...     #
.        .     .          .
.        .     .          .
.        .     .          .
rown     #     #  ...     #

where 'rowi' and 'colj' are labels (no spaces) and # numbers in body of table.

Excel -> R

Use 'save as space delimited text (.prn)' in Excel to create a text file 
name, say, 'table.txt', and 'data.matrix(read.table("table.txt")) in R to 
return as two dimensional array in R with row and column labels.

R -> Excel

Use sink("table"), where 'table' is the name of the R object, to print to a 
text file, then open the file in Excel and follow the import wizard steps.

At 10:42 PM 30/08/2000 -1000, you wrote:
>how can I import/export data from ms excel?
>also is there a way to import/export data of the hdf format?
>is there a way to import/export hdf format for ms excel as well?
>thank you very much in advance.
>/js
>######################################################################
>This e-mail message has been scanned and cleared by MailMarshal
>http://www.marshalsoftware.com
>######################################################################
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Thu Aug 31 17:32:56 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Thu, 31 Aug 2000 08:32:56 -0700 (PDT)
Subject: [R] write
In-Reply-To: <D16B18FFF743D311A9CA0090275F3CB001D8C7FF@arcss07.arcs.ac.at>
Message-ID: <Pine.GSO.4.21.0008310824460.11341-100000@atlas.biostat.washington.edu>

On Thu, 31 Aug 2000, Pesl Thomas wrote:

> i want to write an output created by table() to a file to my disc
> 
> > tab
>    
> or    1  2  3  4  5  6
>   1  57 80 25 23 46 23
>   2 106 35 59  8 51 40
> 
> > write(tab,"h:/tab.txt")
> 
> when i do it that way, the text file is a sort of mess:
> 
> 57 106 80 35 25
> 59 23 8 46 51
> 23 40
> 
> i tried it with write.table but:
> >Error in as.data.frame.default(x[[i]], optional = TRUE) : 
> >        can't coerce table into a data.frame
> 
> so what is the problem?


You can use write.table(unclass(tab))

It should be possible to use write.table on 2-d tables.  I think the
problem is that tables can have more than two dimensions and so can't
necessarily be coerced to data frames.

You could also do 
  write(t(tab),ncol=NCOL(tab))
since write() transposes rows and columns.


	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Thu Aug 31 17:40:55 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Thu, 31 Aug 2000 11:40:55 -0400
Subject: [R] What happenes with R-gnome?
References: <39ADEC5A.CC4CC6DC@ukans.edu> <x24s41zp07.fsf@blueberry.kubism.ku.dk> <6raedtljq7.fsf@franz.stat.wisc.edu>
Message-ID: <003901c01361$da5d7fd0$0201a8c0@Workgroup>

Here is my penny worth on this. I think from the start GUI interfaces where
invented or created to simplify the existence of users with a more natural
or friendlier interaction with the application and/or system. As time went
by the systems and application became more and more complex to the point of
creating something like information overload graphically speaking as in the
example below. Thus now days, one still need a comprehensive knowledge of
the application and\or system in order to exploit them efficiently via
command line or GUI interfaces. Sometimes if not all the time it is more
efficient to use command lines interfaces when available.

This doesn't mean that applications like R should forget all about GUI or
should I say graphics. I would have no objection to leave out the "UI" part
of GUI but I would favor much more "intelligence" into the graphic model.
Things like automatic rescaling and redrawing in cases where for example the
addition of lines, points and\or text would fall outside the limits of the
first plot command. Things like zooming capabilities, like callbacks for
interactive purposes, comprehensive 3D and the works.

I dream of the day when systems and applications will isolate completely the
user from the specifics of the implementations. In other words the systems
and applications would be sufficiently "intelligent" to interpret what the
user ask verbally, ask for clarifications if necessary, query the pertinent
data, perform whatever task are necessary and produce the output of the
query in a form suitable for the problem at end and some.

I'm still young maybe in 20-30 years will have something ? la StarTrek.

Regards

Yves Gauvreau


----- Original Message -----
From: "Douglas Bates" <bates at stat.wisc.edu>
To: "Peter Dalgaard BSA" <p.dalgaard at biostat.ku.dk>
Cc: "Paul E Johnson" <pauljohn at ukans.edu>; "R mailing list"
<r-help at stat.math.ethz.ch>
Sent: Thursday, August 31, 2000 8:04 AM
Subject: Re: [R] What happenes with R-gnome?


> Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:
>
> > Paul E Johnson <pauljohn at ukans.edu> writes:
> >
> > > When I saw "SciGraphica":
> > > http://magnet.fsu.edu/~feiguin/scigraphica/screenshots.html
> > >
> > > I wished it could be a GUI frontend for R on Unix.
>
> ...
>
> > However, the choice of GUI toolkit is more or less orthogonal to the
> > issue of having a plotting interface like the one on those
> > screenshots. I do sympathize with the desire to have simple and
> > accessible interfaces like that, but one has to be aware of the
> > drawbacks. Consider the following R function (somewhat simplified from
> > the original)
> >
> > "trace.plot" <-
> >     function(x, y, g){
> >         g <- factor(g)
> >         dfr <- na.omit(data.frame(x=x,y=y,g=g))
> >         dfr <- dfr[order(dfr$g,dfr$x),]
> >         plot(x, y, type="n")
> >         for ( i in levels(g) )
> >             evalq(lines(x,y), subset(dfr,g==i))
> >     }
>
> I think the Peter's point here deserves to be emphasized.  GUI's are
> very helpful in performing a task for the first time but often get in
> the way when doing tasks repeatedly.  That is why I think there will
> continue to be a place for "command line" interfaces, like the S
> programming language, even in the age of Microsoft Office and even for
> things like creating data graphics.
>
> About a year ago Bill Venables and I were at a conference and happened
> to be sitting together during a presentation on state-of-the-art data
> graphics.  The presenter showed a series of about 10 slides to
> demonstrate how easy it way to produce a certain type of plot.  The
> commentary went like "You click on this gadget in the toolbar and
> (next slide) drag that pointer to the plotting area and (next slide)
> the plot changes to this form.  Then you go back to the data bin (next
> slide) and click on another variable and (next slide) drag that to the
> vertical axis and ..."  After the 10 slides Bill and I looked at each
> other and both remarked that you could do the whole thing in a 1-line
> trellis formula and furthermore it could be described in a fraction of
> the time required to describe the GUI approach.  (I should note that
> trellis is available in S-PLUS and not currenly available in R.)
>
> This is not to say that there is no place for GUI's.  I'm just saying
> that the usefulness of GUI's for tasks like creating data graphics is
> often overestimated.  Or, looking at things the other way, the
> usefulness of command line interfaces is often underestimated.  Bill
> has remarked that a common comment from students in his short courses
> is that they hadn't realized how quickly tasks could be accomplished
> when using the text-based interface to S-PLUS instead of the GUI.
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Charles.Raux at let.ish-lyon.cnrs.fr  Thu Aug 31 18:50:13 2000
From: Charles.Raux at let.ish-lyon.cnrs.fr (Charles Raux)
Date: Thu, 31 Aug 2000 17:50:13 +0100
Subject: [R] Multiv / pb with clustering methods?
In-Reply-To: <XFMail.000831122647.theis@statistik.uni-dortmund.de>
References: <5FE50CD720F@let.ish-lyon.cnrs.fr>
Message-ID: <605D8666106@let.ish-lyon.cnrs.fr>

Le 31 Aug 00 ? 12:26, Winfried Theis ?crivait:

> you may try hclust in mva it does have plot.hclust as default plotting
> routine which does a dendrogram. 

plot.hclust with a result of hierclust produces a strange figure with 
an orphan vertical line (with my data) while with hclust it works 
well. 

> functions "diana" and "agnes" in the library cluster which do both hierarchicle
> clustering and have default plot routines which offer a dendrogram as well as
> another useful graphic called "banner" for details see Kaufman and Rousseeuw
> (1990) "Finding Groups in Data", Wiley, New York.

It seems impossible to use plot.agnes with a result of hierclust.
In fact my question about availability of dendrogram plotting *with 
hierclust* is motivated by a memory issue. As far as I understand 
hierclust is the only one which manages large data set (bign) (but I 
have not tried it yet with my "large" data sets (n>10,000). 

A more troubling issue is that I have checked the same data (18 obs, 
3 var) with the 3 functions and the same method (ward). This does 
not give the same results (height) and the same hierarchy:
> library(mva)
> library(multiv)
> library(cluster)
> h<-hclust(dist(col),method="ward")
> hc<-hierclust(data.matrix(col),method=1)
> ag<-agnes(col,method="ward")
> h$height
 [1] 0.005221242 0.009670544 0.010135010 0.017487202 0.019811790
 0.028691132 [7] 0.030891092 0.035334642 0.051179115 0.056848540
 0.057858657 0.073317828
[13] 0.152969145 0.228699576 0.269021808 0.659097143 0.756180840
> hc$height
 [1] 1.363068e-05 9.811893e-05 5.135922e-05 1.001958e+00 1.962535e-04
 [6] 3.071681e-04 4.115905e-04 1.301867e-03 8.769330e-04 1.061292e-03
[11] 1.673812e-03 1.859374e-03 9.444782e-03 2.431675e-02 2.924522e-02
[16] 7.656077e-02 9.686475e-02 
> ag$height
 [1] 0.005221242 0.046071504 0.009670544 0.029152501 0.220530047
 0.383204909 [7] 0.017487202 0.060143295 0.010135010 0.121114212
 0.028691132 0.423073789
[13] 0.019811790 0.035322842 0.051418163 0.183578860 0.057858657

Why?

---------------
Charles RAUX,
Laboratoire d'Economie des Transports
CNRS-Universit? Lumi?re Lyon 2-ENTPE
email : charles.raux at let.ish-lyon.cnrs.fr
http://www.ish-lyon.cnrs.fr/let
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Thu Aug 31 18:16:20 2000
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Thu, 31 Aug 2000 18:16:20 +0200 (CEST)
Subject: [R] Multiv / pb with clustering methods?
In-Reply-To: <605D8666106@let.ish-lyon.cnrs.fr>
References: <5FE50CD720F@let.ish-lyon.cnrs.fr>
	<605D8666106@let.ish-lyon.cnrs.fr>
Message-ID: <14766.34004.852355.61700@galadriel.ci.tuwien.ac.at>

>>>>> On Thu, 31 Aug 2000 17:50:13 +0100,
>>>>> Charles Raux (CR) wrote:

CR> Le 31 Aug 00 ? 12:26, Winfried Theis ?crivait:
>> you may try hclust in mva it does have plot.hclust as default plotting
>> routine which does a dendrogram. 

CR> plot.hclust with a result of hierclust produces a strange figure with 
CR> an orphan vertical line (with my data) while with hclust it works 
CR> well. 

hmm, plot.hclust works on hierclust objects for me ... could you
supply data such that I can reproduce the bug?


>> functions "diana" and "agnes" in the library cluster which do both hierarchicle
>> clustering and have default plot routines which offer a dendrogram as well as
>> another useful graphic called "banner" for details see Kaufman and Rousseeuw
>> (1990) "Finding Groups in Data", Wiley, New York.

CR> It seems impossible to use plot.agnes with a result of hierclust.

the structure of agnes objects is a little bit different than hclust
objects ... in mva you find a conversion utility called as.hclust
which transforms agnes objects into hclust objects.


CR> In fact my question about availability of dendrogram plotting *with 
CR> hierclust* is motivated by a memory issue. As far as I understand 
CR> hierclust is the only one which manages large data set

yes


CR> A more troubling issue is that I have checked the same data (18 obs, 
CR> 3 var) with the 3 functions and the same method (ward). This does 
CR> not give the same results (height) and the same hierarchy:
>> library(mva)
>> library(multiv)
>> library(cluster)
>> h<-hclust(dist(col),method="ward")
>> hc<-hierclust(data.matrix(col),method=1)
>> ag<-agnes(col,method="ward")
>> h$height
CR>  [1] 0.005221242 0.009670544 0.010135010 0.017487202 0.019811790
CR>  0.028691132 [7] 0.030891092 0.035334642 0.051179115 0.056848540
CR>  0.057858657 0.073317828
CR> [13] 0.152969145 0.228699576 0.269021808 0.659097143 0.756180840
>> hc$height
CR>  [1] 1.363068e-05 9.811893e-05 5.135922e-05 1.001958e+00 1.962535e-04
CR>  [6] 3.071681e-04 4.115905e-04 1.301867e-03 8.769330e-04 1.061292e-03
CR> [11] 1.673812e-03 1.859374e-03 9.444782e-03 2.431675e-02 2.924522e-02
CR> [16] 7.656077e-02 9.686475e-02 
>> ag$height
CR>  [1] 0.005221242 0.046071504 0.009670544 0.029152501 0.220530047
CR>  0.383204909 [7] 0.017487202 0.060143295 0.010135010 0.121114212
CR>  0.028691132 0.423073789
CR> [13] 0.019811790 0.035322842 0.051418163 0.183578860 0.057858657

CR> Why?

A good question ... I'll have to dig into that (I just tried and there
are also differences using average linkage).

.f
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Thu Aug 31 18:22:53 2000
From: plummer at iarc.fr (Martyn Plummer)
Date: Thu, 31 Aug 2000 18:22:53 +0200 (CEST)
Subject: [R] What happenes with R-gnome?
In-Reply-To: <003901c01361$da5d7fd0$0201a8c0@Workgroup>
Message-ID: <XFMail.000831182253.plummer@iarc.fr>

On 31-Aug-00 Yves Gauvreau wrote:
> I dream of the day when systems and applications will isolate completely the
> user from the specifics of the implementations. In other words the systems
> and applications would be sufficiently "intelligent" to interpret what the
> user ask verbally, ask for clarifications if necessary, query the pertinent
> data, perform whatever task are necessary and produce the output of the
> query in a form suitable for the problem at end and some.

That sounds a lot like my job, or a large part of it anyway.

> I'm still young maybe in 20-30 years will have something à la StarTrek.

I hope not.

Martyn.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Thu Aug 31 19:21:35 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Thu, 31 Aug 2000 13:21:35 -0400
Subject: [R] What happenes with R-gnome?
References: <XFMail.000831182253.plummer@iarc.fr>
Message-ID: <005101c0136f$eaa344c0$0201a8c0@Workgroup>

I've studied Artificial intelligence a bit and what seems the most important
hurdle in the interaction of human-machine at this time is what is called
"common sense" or how to implement it. We human spent a lifetime learning
and treating trivial stuff that we take for granted in a way. When we try to
create an application to recognize natural language for example, we find
ourselves dealing with complicated math, stats and other esoteric algorithms
and they all lack the capacity to handle trivial stuff as we routinely do.
Although we achieve a certain degree of success in a few very specific and
narrow fields like in medicine for example. These applications pale in
comparison to what our "lowly" * brain can do in a blink of an eye.

It seem to me like we'll have to invent machines that can learn by
themselves (at least this common sense stuff)before we can see my dream come
true. I can even say that 20-30 years may a bit optimistic unless a kind of
Einstein of the knowledge reveal itself relatively soon!

* In terms of speed

Regards

Yves Gauvreau

----- Original Message -----
From: "Martyn Plummer" <plummer at iarc.fr>
To: "Yves Gauvreau" <cyg at sympatico.ca>
Cc: "R mailing list" <r-help at stat.math.ethz.ch>; "R mailing list"
<r-help at stat.math.ethz.ch>; "Paul E Johnson" <pauljohn at ukans.edu>; "Douglas
Bates" <bates at stat.wisc.edu>; "Peter Dalgaard BSA"
<p.dalgaard at biostat.ku.dk>
Sent: Thursday, August 31, 2000 12:22 PM
Subject: Re: [R] What happenes with R-gnome?


> On 31-Aug-00 Yves Gauvreau wrote:
> > I dream of the day when systems and applications will isolate completely
the
> > user from the specifics of the implementations. In other words the
systems
> > and applications would be sufficiently "intelligent" to interpret what
the
> > user ask verbally, ask for clarifications if necessary, query the
pertinent
> > data, perform whatever task are necessary and produce the output of the
> > query in a form suitable for the problem at end and some.
>
> That sounds a lot like my job, or a large part of it anyway.
>
> > I'm still young maybe in 20-30 years will have something ? la StarTrek.
>
> I hope not.
>
> Martyn.
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug 31 20:04:01 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 31 Aug 2000 19:04:01 +0100 (BST)
Subject: [R] Locales and Windows
Message-ID: <Pine.GSO.4.05.10008311839470.19955-100000@auk.stats>

Charles Raux raised the problem of having object names with accented chars
in.  This is supposed to work, but depends on the machine being set to a
locale that allows accented chars, and knowing correctly which they are.

Windows being what it is, this is a problem.  It seems that with the
standard runtime crtdll.dll that rw1011 uses, Windows 9x does not know
about locales, whereas NT does but does not get the details right.

It is also possible to compile R against msvcrt.dll, and we are proposing
to use that from rw1020 on.  That appears to use locales correctly on both
Windows 98 and NT (at least on my machines).  I have compiled R-1.1.1
against msvcrt.dll, and made a replacement set of DLLs available.
These should just drop in over an unpacked copy of rw1011.

First some warnings:

1) This is not an official release, and the version header identifies it as
separate version.  Please don't file bugs against this one.

2) You need msvcrt.dll installed, which W98/NT/2000 machines will have but
W95 machines may not. If you need it, see the Rtools portal (and for that
read readme.packages).

3) Be prepared to reinstall rw1011 if this does not work.  Better,
unpack this over a copy.

4) Sorting is still in ASCII for this version.  (There are problems with
Windows' idea of locale-specific collation.)

5) R 1.2.0 will have ways to change locales: this does not, and you
are probably stuck with your system's basic locale.


Get

http://www.stats.ox.ac.uk/pub/bdr/RWin/rw1011msvc.zip

and unzip it in ...\rw1011.

I will be interested to hear of experiences: please send any more public
discussion to R-devel rather than R-help.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From carlc at hgsi.com  Thu Aug 31 20:54:30 2000
From: carlc at hgsi.com (Carl Carpenter)
Date: Thu, 31 Aug 2000 14:54:30 -0400 (EDT)
Subject: [R] need help installing R 1.1.1
Message-ID: <200008311855.OAA00952@hgsi.com>


I am having some trouble with installing R 1.1.1

When I run ./configure --PREFIX=/usr/local/R-1.1.1 --with-g77
I get the following error:

  checking whether g77 and gcc agree on int and double... 
  configure: warning: g77 and gcc disagree on int and double
  configure: error: Maybe change CFLAGS or FFLAGS?
  
I looked at all the docs/install/readme/faq files i could find
and searched the list archives to get an idea about what to do.
No such luck.

Anybody got an idea on how to past this error?

My setup:
  Sun Enterprise 450 (4 x 400 MHz CPU with 8Mbyte E-cache and 2GByte memory)
  SOLARIS 7 release 11/99
  gcc 2.95.2 and g77 0.5.25 19991024
  
thanks


-carlc

---------------------------------------------------------------------

  Carl Carpenter
  Systems Administrator for Human Genome Sciences

  "I strive to give 100% at work. 12% on Monday, 23% on Tuesday, 40%
   on Wednesday, 20% on Thursday and 5% on Friday."

---------------------------------------------------------------------



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Thu Aug 31 21:54:01 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Thu, 31 Aug 2000 12:54:01 -0700 (PDT)
Subject: [R] need help installing R 1.1.1
In-Reply-To: <200008311855.OAA00952@hgsi.com>
Message-ID: <Pine.GSO.4.21.0008311251310.11341-100000@atlas.biostat.washington.edu>

On Thu, 31 Aug 2000, Carl Carpenter wrote:

> 
> I am having some trouble with installing R 1.1.1
> 
> When I run ./configure --PREFIX=/usr/local/R-1.1.1 --with-g77
> I get the following error:
> 
>   checking whether g77 and gcc agree on int and double... 
>   configure: warning: g77 and gcc disagree on int and double
>   configure: error: Maybe change CFLAGS or FFLAGS?
>   
> I looked at all the docs/install/readme/faq files i could find
> and searched the list archives to get an idea about what to do.
> No such luck.
> 
> Anybody got an idea on how to past this error?
> 
> My setup:
>   Sun Enterprise 450 (4 x 400 MHz CPU with 8Mbyte E-cache and 2GByte memory)
>   SOLARIS 7 release 11/99
>   gcc 2.95.2 and g77 0.5.25 19991024
>   

I have the same type of machine, same OS, and same compilers and don't
have this problem.  Strange.

You can find out from config.log what the actual error was that caused
this message.  configure runs a combined C/Fortran program and checks that
various numbers are equal, but other errors in linking and running this
program could also cause the same message (this happened under AIX at one
time).

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From carlc at hgsi.com  Thu Aug 31 22:47:15 2000
From: carlc at hgsi.com (Carl Carpenter)
Date: Thu, 31 Aug 2000 16:47:15 -0400 (EDT)
Subject: [R] need help installing R 1.1.1
Message-ID: <200008312047.QAA03597@hgsi.com>



thanks to Thomas, the first response lead me to the solution.

after reading the config.log, different error showed up. my
system did not have the math.h library. all i had to do was
add the SUNWlibm package from the SOLARIS cd.

thanks for the help

-carlc



>Date: Thu, 31 Aug 2000 12:54:01 -0700 (PDT)
>From: Thomas Lumley <thomas at biostat.washington.edu>
>To: Carl Carpenter <carlc at hgsi.com>
>cc: r-help at stat.math.ethz.ch
>Subject: Re: [R] need help installing R 1.1.1
>MIME-Version: 1.0
>
>On Thu, 31 Aug 2000, Carl Carpenter wrote:
>
>> 
>> I am having some trouble with installing R 1.1.1
>> 
>> When I run ./configure --PREFIX=/usr/local/R-1.1.1 --with-g77
>> I get the following error:
>> 
>>   checking whether g77 and gcc agree on int and double... 
>>   configure: warning: g77 and gcc disagree on int and double
>>   configure: error: Maybe change CFLAGS or FFLAGS?
>>   
>> I looked at all the docs/install/readme/faq files i could find
>> and searched the list archives to get an idea about what to do.
>> No such luck.
>> 
>> Anybody got an idea on how to past this error?
>> 
>> My setup:
>>   Sun Enterprise 450 (4 x 400 MHz CPU with 8Mbyte E-cache and 2GByte memory)
>>   SOLARIS 7 release 11/99
>>   gcc 2.95.2 and g77 0.5.25 19991024
>>   
>
>I have the same type of machine, same OS, and same compilers and don't
>have this problem.  Strange.
>
>You can find out from config.log what the actual error was that caused
>this message.  configure runs a combined C/Fortran program and checks that
>various numbers are equal, but other errors in linking and running this
>program could also cause the same message (this happened under AIX at one
>time).
>
>	-thomas
>
>Thomas Lumley
>Assistant Professor, Biostatistics
>University of Washington, Seattle
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


---------------------------------------------------------------------

  Carl Carpenter
  Systems Administrator for Human Genome Sciences

  "I strive to give 100% at work. 12% on Monday, 23% on Tuesday, 40%
   on Wednesday, 20% on Thursday and 5% on Friday."

---------------------------------------------------------------------



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hodgess at uhddx01.dt.uh.edu  Thu Aug 31 23:52:00 2000
From: hodgess at uhddx01.dt.uh.edu (Erin Hodgess)
Date: Thu, 31 Aug 2000 16:52:00 -0500 (CDT)
Subject: [R] make problem
Message-ID: <200008312152.QAA28519@uhddx01.dt.uh.edu>

Dear R People:

I have the source for R version 1.1.1
on a UNIX system alpha-dec-osf4.

The ./configure works fine.

When I do the make, it works fine until it tries to build the 
package tcklc.

I get an error of 
Tk_Saf_Init not identified

Then it kicks out.

Any suggestions, please?

Thanks!

Sincerely,
Erin M. Hodgess, Ph.D.
Associate Professor
Department of Computer and Mathematical Sciences
University of Houston - Downtown
One Main Street 
Houston, TX 77002
e-mail: hodgess at uhddx01.dt.uh.edu


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marcus.eger at physik.uni-marburg.de  Thu Aug 31 18:24:22 2000
From: marcus.eger at physik.uni-marburg.de (Marcus Eger)
Date: Thu, 31 Aug 2000 18:24:22 +0200 (MET DST)
Subject: [R] Problem with R INSTALL locfit on DEC alphaev56-dec-osf4.0d
Message-ID: <200009011516.RAA08279@lynne.ethz.ch>

Prof Brian D Ripley wrote:
> 
> Now, does KernSmooth work, and what does `locfit does not work' mean?
> That's about the most dreaded phrase in a tech support call or a bug
> report!
> 

Sorry for that. I mean, R freezes and has to be killed after just
calling
locfit(~x) with some random numbers in x. 
	
-- 
+-------------------------------------------------------
| Marcus Eger
| Philipps Universitaet Marburg
| Fachbereich Physik AG Neurophysik
| Renthof 7
| 35032 Marburg
| Tel. +49 6421 282-4169
| Fax  +49 6421 282-7034
+-------------------------------------------------------
| E-Mail: marcus.eger at physik.uni-marburg.de
+-------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Charles.Raux at let.ish-lyon.cnrs.fr  Thu Aug 31 18:24:22 2000
From: Charles.Raux at let.ish-lyon.cnrs.fr (Charles Raux)
Date: Thu, 31 Aug 2000 18:24:22 +0200 (MET DST)
Subject: [R] Multiv / pb with clustering methods?
In-Reply-To: <14766.34004.852355.61700@galadriel.ci.tuwien.ac.at>
References: <605D8666106@let.ish-lyon.cnrs.fr>
Message-ID: <200009011516.RAA08276@lynne.ethz.ch>

Le 31 Aug 00 ? 18:16, Friedrich Leisch ?crivait:

> hmm, plot.hclust works on hierclust objects for me ... could you
> supply data such that I can reproduce the bug?

Thank you for your prompt answer. Here is the .Rdata I used (contain
"col" the data frame and the results of clusterings).
 
 
-------------- next part --------------
This message contains a file prepared for transmission using the
MIME BASE64 transfer encoding scheme. If you are using Pegasus
Mail or another MIME-compliant system, you should be able to extract
it from within your mailer. If you cannot, please ask your system
administrator for help.

   ---- File information -----------
     File:  clust.rda
     Date:  31 Aug 2000, 17:47
     Size:  9269 bytes.
     Type:  Inconnu
-------------- next part --------------
A non-text attachment was scrubbed...
Name: clust.rda
Type: application/octet-stream
Size: 9269 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20000831/d23ea569/clust.obj

From pauljohn at ukans.edu  Thu Aug 31 18:45:32 2000
From: pauljohn at ukans.edu (Paul Johnson)
Date: Thu, 31 Aug 2000 11:45:32 -0500
Subject: [R] Re: R-Gnome. I don't want abuse!
Message-ID: <200009011529.RAA08294@lynne.ethz.ch>

I'm getting some abuse for asking about R-Gnome and I don't think it is
fair. I did not create that project, I was just asking how it was going
and whether that other project would help out.

Now I'm getting some email that says some of you don't want a GUI
interface because you think interfaces like that are inconvenient.  OK.
I agree, in most cases.  I think GUIs for model fitting are mostly bad. 
You could carry the argument even further, actually. I have a colleague
who finds R to be an interference with his convenience, and he writes
programs to do factor analysis and t-tests in C.  

I don't propose to change the R experience in any way for people who
don't want a GUI.

I do think there are times when it would be nice to have a GUI, though,
for touching up graphs.

I would like a graph window where I can click on particular items and
adjust their properties, see how they look with tick marks in or out, or
spaced 5 units apart or 10, and so forth. I've been doing that with Axum
for about 7 years. If you have not tried  Axum (or perhaps even the S+
that assimilated Axum, a la the StarTrek Borg, although I don't use it
much), you should and you might revise your opinion about the value of a
good OO graphing package.  I can put a graduate student with Axum and
they can make graphs and easily tailor them to their needs. The
scripting is pretty easy, so one can graphs run over and over again or
adjust to particular datasets.  Their saved files work easily to
customize to new data and questions.  I expect, before students would be
as capable with R, it would take about 5 times as long.  Hell, think of
the time we could save for students if there were a File/save as menu in
R? (Doesn't every new user go berserk the first time they try to save a
graph or print it in R? no offense intended, but it drove me crazy and
every other week or so somebody else wanders through in the same
quandry.)

And, I do think SAS analyst is an example of how the GUI might be used
to generate the code. SPSS's journaling feature does that as well,
incidentally. And, at one time, I could do that with Axum, but I don't
recall about S+4.0.

Axum is not free, does not exist for Linux, it does not have the
programmabaility of R, and it does not have some of the statistical
modeling capabilities, so I'm not proposing to use Axum and I don't
expect R should try to immitate it.   If the powers that be say "we are
canceling support for R-gnome", I might be disappointed, but I will
still keep on trying to find my way around R.  I'm still assembling my
tip sheet, which you can see if you want to make sure that I'm actually
making an effort (http://lark.cc.ukans.edu/~pauljohn/R/statsRus.html). 
Pretty soon I won't need a GUI, but I might still wish I had one.

-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science            http://lark.cc.ukans.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Thu Aug 31 19:26:21 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: Thu, 31 Aug 2000 19:26:21 +0200 (MET DST)
Subject: Closure on the family question [Was Re: [R] family question]
Message-ID: <200009011531.RAA08305@lynne.ethz.ch>

An embedded message was scrubbed...
From: Douglas Bates <bates at stat.wisc.edu>
Subject: Re: [R] family question
Date: 31 Aug 2000 10:43:45 -0500
Size: 2904
Url: https://stat.ethz.ch/pipermail/r-help/attachments/20000831/1ca23f21/attachment.mht

